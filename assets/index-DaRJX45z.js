(async()=>{function R$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function to(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function j$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var P_={exports:{}},ap={},F_={exports:{}},Nn={};var nC;function A$(){if(nC)return Nn;nC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=h&&X[h]||X["@@iterator"],typeof X=="function"?X:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function I(X,ce,de){this.props=X,this.context=ce,this.refs=E,this.updater=de||x}I.prototype.isReactComponent={},I.prototype.setState=function(X,ce){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ce,"setState")},I.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function T(){}T.prototype=I.prototype;function O(X,ce,de){this.props=X,this.context=ce,this.refs=E,this.updater=de||x}var q=O.prototype=new T;q.constructor=O,w(q,I.prototype),q.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function P(X,ce,de){var ye,_e={},Ne=null,ze=null;if(ce!=null)for(ye in ce.ref!==void 0&&(ze=ce.ref),ce.key!==void 0&&(Ne=""+ce.key),ce)D.call(ce,ye)&&!z.hasOwnProperty(ye)&&(_e[ye]=ce[ye]);var qe=arguments.length-2;if(qe===1)_e.children=de;else if(1<qe){for(var De=Array(qe),Ze=0;Ze<qe;Ze++)De[Ze]=arguments[Ze+2];_e.children=De}if(X&&X.defaultProps)for(ye in qe=X.defaultProps,qe)_e[ye]===void 0&&(_e[ye]=qe[ye]);return{$$typeof:t,type:X,key:Ne,ref:ze,props:_e,_owner:L.current}}function R(X,ce){return{$$typeof:t,type:X.type,key:ce,ref:X.ref,props:X.props,_owner:X._owner}}function M(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function F(X){var ce={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(de){return ce[de]})}var W=/\/+/g;function V(X,ce){return typeof X=="object"&&X!==null&&X.key!=null?F(""+X.key):ce.toString(36)}function B(X,ce,de,ye,_e){var Ne=typeof X;(Ne==="undefined"||Ne==="boolean")&&(X=null);var ze=!1;if(X===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(X.$$typeof){case t:case e:ze=!0}}if(ze)return ze=X,_e=_e(ze),X=ye===""?"."+V(ze,0):ye,A(_e)?(de="",X!=null&&(de=X.replace(W,"$&/")+"/"),B(_e,ce,de,"",function(Ze){return Ze})):_e!=null&&(M(_e)&&(_e=R(_e,de+(!_e.key||ze&&ze.key===_e.key?"":(""+_e.key).replace(W,"$&/")+"/")+X)),ce.push(_e)),1;if(ze=0,ye=ye===""?".":ye+":",A(X))for(var qe=0;qe<X.length;qe++){Ne=X[qe];var De=ye+V(Ne,qe);ze+=B(Ne,ce,de,De,_e)}else if(De=b(X),typeof De=="function")for(X=De.call(X),qe=0;!(Ne=X.next()).done;)Ne=Ne.value,De=ye+V(Ne,qe++),ze+=B(Ne,ce,de,De,_e);else if(Ne==="object")throw ce=String(X),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return ze}function ee(X,ce,de){if(X==null)return X;var ye=[],_e=0;return B(X,ye,"","",function(Ne){return ce.call(de,Ne,_e++)}),ye}function J(X){if(X._status===-1){var ce=X._result;ce=ce(),ce.then(function(de){(X._status===0||X._status===-1)&&(X._status=1,X._result=de)},function(de){(X._status===0||X._status===-1)&&(X._status=2,X._result=de)}),X._status===-1&&(X._status=0,X._result=ce)}if(X._status===1)return X._result.default;throw X._result}var le={current:null},se={transition:null},ne={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:se,ReactCurrentOwner:L};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Nn.Children={map:ee,forEach:function(X,ce,de){ee(X,function(){ce.apply(this,arguments)},de)},count:function(X){var ce=0;return ee(X,function(){ce++}),ce},toArray:function(X){return ee(X,function(ce){return ce})||[]},only:function(X){if(!M(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Nn.Component=I,Nn.Fragment=n,Nn.Profiler=i,Nn.PureComponent=O,Nn.StrictMode=r,Nn.Suspense=c,Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Nn.act=oe,Nn.cloneElement=function(X,ce,de){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var ye=w({},X.props),_e=X.key,Ne=X.ref,ze=X._owner;if(ce!=null){if(ce.ref!==void 0&&(Ne=ce.ref,ze=L.current),ce.key!==void 0&&(_e=""+ce.key),X.type&&X.type.defaultProps)var qe=X.type.defaultProps;for(De in ce)D.call(ce,De)&&!z.hasOwnProperty(De)&&(ye[De]=ce[De]===void 0&&qe!==void 0?qe[De]:ce[De])}var De=arguments.length-2;if(De===1)ye.children=de;else if(1<De){qe=Array(De);for(var Ze=0;Ze<De;Ze++)qe[Ze]=arguments[Ze+2];ye.children=qe}return{$$typeof:t,type:X.type,key:_e,ref:Ne,props:ye,_owner:ze}},Nn.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},Nn.createElement=P,Nn.createFactory=function(X){var ce=P.bind(null,X);return ce.type=X,ce},Nn.createRef=function(){return{current:null}},Nn.forwardRef=function(X){return{$$typeof:l,render:X}},Nn.isValidElement=M,Nn.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:J}},Nn.memo=function(X,ce){return{$$typeof:d,type:X,compare:ce===void 0?null:ce}},Nn.startTransition=function(X){var ce=se.transition;se.transition={};try{X()}finally{se.transition=ce}},Nn.unstable_act=oe,Nn.useCallback=function(X,ce){return le.current.useCallback(X,ce)},Nn.useContext=function(X){return le.current.useContext(X)},Nn.useDebugValue=function(){},Nn.useDeferredValue=function(X){return le.current.useDeferredValue(X)},Nn.useEffect=function(X,ce){return le.current.useEffect(X,ce)},Nn.useId=function(){return le.current.useId()},Nn.useImperativeHandle=function(X,ce,de){return le.current.useImperativeHandle(X,ce,de)},Nn.useInsertionEffect=function(X,ce){return le.current.useInsertionEffect(X,ce)},Nn.useLayoutEffect=function(X,ce){return le.current.useLayoutEffect(X,ce)},Nn.useMemo=function(X,ce){return le.current.useMemo(X,ce)},Nn.useReducer=function(X,ce,de){return le.current.useReducer(X,ce,de)},Nn.useRef=function(X){return le.current.useRef(X)},Nn.useState=function(X){return le.current.useState(X)},Nn.useSyncExternalStore=function(X,ce,de){return le.current.useSyncExternalStore(X,ce,de)},Nn.useTransition=function(){return le.current.useTransition()},Nn.version="18.3.1",Nn}var rC;function Uh(){return rC||(rC=1,F_.exports=A$()),F_.exports}var iC;function P$(){if(iC)return ap;iC=1;var t=Uh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,h={},b=null,x=null;d!==void 0&&(b=""+d),c.key!==void 0&&(b=""+c.key),c.ref!==void 0&&(x=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:l,key:b,ref:x,props:h,_owner:i.current}}return ap.Fragment=n,ap.jsx=o,ap.jsxs=o,ap}var sC;function F$(){return sC||(sC=1,P_.exports=P$()),P_.exports}var p=F$(),Gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qu=typeof window>"u"||"Deno"in globalThis;function Ks(){}function D$(t,e){return typeof t=="function"?t(e):t}function MS(t){return typeof t=="number"&&t>=0&&t!==1/0}function wj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fd(t,e){return typeof t=="function"?t(e):t}function yo(t,e){return typeof t=="function"?t(e):t}function oC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==l1(o,e.options))return!1}else if(!rh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function aC(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Ku(e.options.mutationKey)!==Ku(s))return!1}else if(!rh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function l1(t,e){return(e?.queryKeyHashFn||Ku)(t)}function Ku(t){return JSON.stringify(t,(e,n)=>$S(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function rh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!rh(t[n],e[n])):!1}function u1(t,e){if(t===e)return t;const n=lC(t)&&lC(e);if(n||$S(t)&&$S(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=u1(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function Zy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function lC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $S(t){if(!uC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!uC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function uC(t){return Object.prototype.toString.call(t)==="[object Object]"}function L$(t){return new Promise(e=>{setTimeout(e,t)})}function BS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?u1(t,e):e}function M$(t){return t}function $$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function B$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var c1=Symbol();function Sj(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===c1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var z$=class extends Gd{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Qu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},d1=new z$,W$=class extends Gd{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Qu&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Jy=new W$;function zS(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function U$(t){return Math.min(1e3*2**t,3e4)}function Ej(t){return(t??"online")==="online"?Jy.isOnline():!0}var Nj=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function D_(t){return t instanceof Nj}function kj(t){let e=!1,n=0,r=!1,i;const s=zS(),o=E=>{r||(b(new Nj(E)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},d=()=>d1.isFocused()&&(t.networkMode==="always"||Jy.isOnline())&&t.canRun(),f=()=>Ej(t.networkMode)&&t.canRun(),h=E=>{r||(r=!0,t.onSuccess?.(E),i?.(),s.resolve(E))},b=E=>{r||(r=!0,t.onError?.(E),i?.(),s.reject(E))},x=()=>new Promise(E=>{i=I=>{(r||d())&&E(I)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),w=()=>{if(r)return;let E;const I=n===0?t.initialPromise:void 0;try{E=I??t.fn()}catch(T){E=Promise.reject(T)}Promise.resolve(E).then(h).catch(T=>{if(r)return;const O=t.retry??(Qu?0:3),q=t.retryDelay??U$,A=typeof q=="function"?q(n,T):q,D=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,T);if(e||!D){b(T);return}n++,t.onFail?.(n,T),L$(A).then(()=>d()?void 0:x()).then(()=>{e?b(T):w()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?w():x().then(w),s)}}function V$(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Kr=V$(),Ij=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},H$=class extends Ij{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Q$(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=BS(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Ks).catch(Ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>yo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===c1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!wj(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=Sj(this.options,e),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#s=!1,this.options.persister?this.options.persister(l,c,this):l(c)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta});const o=l=>{D_(l)&&l.silent||this.#o({type:"error",error:l}),D_(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=kj({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Cj(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return D_(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Kr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Cj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ej(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Q$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var K$=class extends Gd{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??l1(r,e);let s=this.get(i);return s||(s=new H$({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>oC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>oC(t,n)):e}notify(t){Kr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},G$=class extends Ij{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Tj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=kj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Kr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Tj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Z$=class extends Gd{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new G$({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Sg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Sg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Sg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Sg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Kr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>aC(e,n))}findAll(t={}){return this.getAll().filter(e=>aC(t,e))}notify(t){Kr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Kr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ks))))}};function Sg(t){return t.options.scope?.id}function cC(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const h=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},b=Sj(e.options,e.fetchOptions),x=async(w,E,I)=>{if(f)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const T={queryKey:e.queryKey,pageParam:E,direction:I?"backward":"forward",meta:e.options.meta};h(T);const O=await b(T),{maxPages:q}=e.options,A=I?B$:$$;return{pages:A(w.pages,O,q),pageParams:A(w.pageParams,E,q)}};if(i&&s.length){const w=i==="backward",E=w?J$:dC,I={pages:s,pageParams:o},T=E(r,I);l=await x(I,T,w)}else{const w=t??s.length;do{const E=c===0?o[0]??r.initialPageParam:dC(r,l);if(c>0&&E==null)break;l=await x(l,E),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function dC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function J$(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Y$=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new K$,this.#t=t.mutationCache||new Z$,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=d1.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Jy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(fd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=D$(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Kr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Kr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Kr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Kr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ks).catch(Ks)}invalidateQueries(t,e={}){return Kr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Kr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ks)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ks)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(fd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ks).catch(Ks)}fetchInfiniteQuery(t){return t.behavior=cC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ks).catch(Ks)}ensureInfiniteQueryData(t){return t.behavior=cC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ku(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{rh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Ku(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{rh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=l1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===c1&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},X$=class extends Gd{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=zS(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#p;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),fC(this.#t,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return WS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return WS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!Zy(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&pC(this.#t,r,this.options,n)&&this.#h(),this.updateResult(e),i&&(this.#t!==r||yo(this.options.enabled,this.#t)!==yo(n.enabled,this.#t)||fd(this.options.staleTime,this.#t)!==fd(n.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==r||yo(this.options.enabled,this.#t)!==yo(n.enabled,this.#t)||s!==this.#f)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return tB(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ks)),e}#g(){this.#x();const t=fd(this.options.staleTime,this.#t);if(Qu||this.#r.isStale||!MS(t))return;const n=wj(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#_(),this.#f=t,!(Qu||yo(this.options.enabled,this.#t)===!1||!MS(this.#f)||this.#f===0)&&(this.#p=setInterval(()=>{(this.options.refetchIntervalInBackground||d1.isFocused())&&this.#h()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#_(){this.#p&&(clearInterval(this.#p),this.#p=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,s=this.#i,o=this.#s,c=t!==n?t.state:this.#n,{state:d}=t;let f={...d},h=!1,b;if(e._optimisticResults){const z=this.hasListeners(),P=!z&&fC(t,e),R=z&&pC(t,n,e,r);(P||R)&&(f={...f,...Cj(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:E}=f;if(e.select&&f.data!==void 0)if(i&&f.data===s?.data&&e.select===this.#u)b=this.#l;else try{this.#u=e.select,b=e.select(f.data),b=BS(i?.data,b,e),this.#l=b,this.#a=null}catch(z){this.#a=z}else b=f.data;if(e.placeholderData!==void 0&&b===void 0&&E==="pending"){let z;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)z=i.data;else if(z=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&z!==void 0)try{z=e.select(z),this.#a=null}catch(P){this.#a=P}z!==void 0&&(E="success",b=BS(i?.data,z,e),h=!0)}this.#a&&(x=this.#a,b=this.#l,w=Date.now(),E="error");const I=f.fetchStatus==="fetching",T=E==="pending",O=E==="error",q=T&&I,A=b!==void 0,L={status:E,fetchStatus:f.fetchStatus,isPending:T,isSuccess:E==="success",isError:O,isInitialLoading:q,isLoading:q,data:b,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:I,isRefetching:I&&!T,isLoadingError:O&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:O&&A,isStale:f1(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const z=M=>{L.status==="error"?M.reject(L.error):L.data!==void 0&&M.resolve(L.data)},P=()=>{const M=this.#o=L.promise=zS();z(M)},R=this.#o;switch(R.status){case"pending":t.queryHash===n.queryHash&&z(R);break;case"fulfilled":(L.status==="error"||L.data!==R.value)&&P();break;case"rejected":(L.status!=="error"||L.error!==R.reason)&&P();break}}return L}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),Zy(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(c=>{const d=c;return this.#r[d]!==e[d]&&l.has(d)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Kr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function eB(t,e){return yo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fC(t,e){return eB(t,e)||t.state.data!==void 0&&WS(t,e,e.refetchOnMount)}function WS(t,e,n){if(yo(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&f1(t,e)}return!1}function pC(t,e,n,r){return(t!==e||yo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&f1(t,n)}function f1(t,e){return yo(e.enabled,t)!==!1&&t.isStaleByTime(fd(e.staleTime,t))}function tB(t,e){return!Zy(t.getCurrentResult(),e)}var nB=class extends Gd{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Zy(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ku(n.mutationKey)!==Ku(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??Tj();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Kr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},K=Uh();const $n=to(K),rB=R$({__proto__:null,default:$n},[K]);var Oj=K.createContext(void 0),sb=t=>{const e=K.useContext(Oj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},iB=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(Oj.Provider,{value:t,children:e})),qj=K.createContext(!1),sB=()=>K.useContext(qj);qj.Provider;function oB(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var aB=K.createContext(oB()),lB=()=>K.useContext(aB);function Rj(t,e){return typeof t=="function"?t(...e):!!t}function US(){}var uB=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},cB=t=>{K.useEffect(()=>{t.clearReset()},[t])},dB=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Rj(n,[t.error,r]),fB=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},pB=(t,e)=>t.isLoading&&t.isFetching&&!e,hB=(t,e)=>t?.suspense&&e.isPending,hC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function mB(t,e,n){const r=sb(),i=sB(),s=lB(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",fB(o),uB(o,s),cB(s);const l=!r.getQueryCache().get(o.queryHash),[c]=K.useState(()=>new e(r,o)),d=c.getOptimisticResult(o),f=!i&&t.subscribed!==!1;if(K.useSyncExternalStore(K.useCallback(h=>{const b=f?c.subscribe(Kr.batchCalls(h)):US;return c.updateResult(),b},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),K.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),hB(o,d))throw hC(o,c,s);if(dB({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Qu&&pB(d,i)&&(l?hC(o,c,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(US).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function Yy(t,e){return mB(t,X$)}function mC(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function gB(t={},e){const n=sb().getMutationCache(),r=K.useRef(t),i=K.useRef(null);return i.current||(i.current=mC(n,t)),K.useEffect(()=>{r.current=t}),K.useSyncExternalStore(K.useCallback(s=>n.subscribe(()=>{const o=u1(i.current,mC(n,r.current));i.current!==o&&(i.current=o,Kr.schedule(s))}),[n]),()=>i.current,()=>i.current)}function tn(t,e){const n=sb(),[r]=K.useState(()=>new nB(n,t));K.useEffect(()=>{r.setOptions(t)},[r,t]);const i=K.useSyncExternalStore(K.useCallback(o=>r.subscribe(Kr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=K.useCallback((o,l)=>{r.mutate(o,l).catch(US)},[r]);if(i.error&&Rj(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const zu="__TSR_index",gC="popstate",yC="beforeunload";function jj(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},s=async({task:o,navigateOpts:l,...c})=>{var d,f;if(l?.ignoreBlocker??!1){o();return}const b=((d=t.getBlockers)==null?void 0:d.call(t))??[],x=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&b.length&&x)for(const w of b){const E=ih(c.path,c.state);if(await w.blockerFn({currentLocation:e,nextLocation:E,action:c.type})){(f=t.onBlocked)==null||f.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,c)=>{const d=e.state[zu];l=VS(d+1,l),s({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:o,state:l})},replace:(o,l,c)=>{const d=e.state[zu];l=VS(d,l),s({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:o,state:l})},go:(o,l)=>{s({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{s({task:()=>{t.back(o?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{t.forward(o?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[zu]!==0,createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const c=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...c,o]),()=>{var d,f;const h=((d=t.getBlockers)==null?void 0:d.call(t))??[];(f=t.setBlockers)==null||f.call(t,h.filter(b=>b!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function VS(t,e){return e||(e={}),{...e,key:bB(),[zu]:t}}function yB(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const s=()=>i,o=P=>i=P,l=P=>P,c=()=>ih(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let d=c(),f,h=!1,b=!1,x=!1,w=!1;const E=()=>d;let I,T;const O=()=>{I&&(z._ignoreSubscribers=!0,(I.isPush?e.history.pushState:e.history.replaceState)(I.state,"",I.href),z._ignoreSubscribers=!1,I=void 0,T=void 0,f=void 0)},q=(P,R,M)=>{const F=l(R);T||(f=d),d=ih(R,M),I={href:F,state:M,isPush:I?.isPush||P==="push"},T||(T=Promise.resolve().then(()=>O()))},A=P=>{d=c(),z.notify({type:P})},D=async()=>{if(b){b=!1;return}const P=c(),R=P.state[zu]-d.state[zu],M=R===1,F=R===-1,W=!M&&!F||h;h=!1;const V=W?"GO":F?"BACK":"FORWARD",B=W?{type:"GO",index:R}:{type:F?"BACK":"FORWARD"};if(x)x=!1;else{const ee=s();if(typeof document<"u"&&ee.length){for(const J of ee)if(await J.blockerFn({currentLocation:d,nextLocation:P,action:V})){b=!0,e.history.go(1),z.notify(B);return}}}d=c(),z.notify(B)},L=P=>{if(w){w=!1;return}let R=!1;const M=s();if(typeof document<"u"&&M.length)for(const F of M){const W=F.enableBeforeUnload??!0;if(W===!0){R=!0;break}if(typeof W=="function"&&W()===!0){R=!0;break}}if(R)return P.preventDefault(),P.returnValue=""},z=jj({getLocation:E,getLength:()=>e.history.length,pushState:(P,R)=>q("push",P,R),replaceState:(P,R)=>q("replace",P,R),back:P=>(P&&(x=!0),w=!0,e.history.back()),forward:P=>{P&&(x=!0),w=!0,e.history.forward()},go:P=>{h=!0,e.history.go(P)},createHref:P=>l(P),flush:O,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(yC,L,{capture:!0}),e.removeEventListener(gC,D)},onBlocked:()=>{f&&d!==f&&(d=f)},getBlockers:s,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(yC,L,{capture:!0}),e.addEventListener(gC,D),e.history.pushState=function(...P){const R=n.apply(e.history,P);return z._ignoreSubscribers||A("PUSH"),R},e.history.replaceState=function(...P){const R=r.apply(e.history,P);return z._ignoreSubscribers||A("REPLACE"),R},z}function vB(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((s,o)=>VS(o,void 0));return jj({getLocation:()=>ih(e[n],r[n]),getLength:()=>e.length,pushState:(s,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(s),n=Math.max(e.length-1,0)},replaceState:(s,o)=>{r[n]=o,e[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),e.length-1)},createHref:s=>s})}function ih(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[zu]:0}}}function bB(){return(Math.random()+1).toString(36).substring(7)}var xB="Invariant failed";function Ss(t,e){if(!t)throw new Error(xB)}const L_=K.createContext(null);function Aj(){return typeof document>"u"?L_:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=L_,L_)}function Oo(t){const e=K.useContext(Aj());return t?.warn,e}var M_={exports:{}},$_={},B_={exports:{}},z_={};var vC;function _B(){if(vC)return z_;vC=1;var t=Uh();function e(h,b){return h===b&&(h!==0||1/h===1/b)||h!==h&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(h,b){var x=b(),w=r({inst:{value:x,getSnapshot:b}}),E=w[0].inst,I=w[1];return s(function(){E.value=x,E.getSnapshot=b,c(E)&&I({inst:E})},[h,x,b]),i(function(){return c(E)&&I({inst:E}),h(function(){c(E)&&I({inst:E})})},[h]),o(x),x}function c(h){var b=h.getSnapshot;h=h.value;try{var x=b();return!n(h,x)}catch{return!0}}function d(h,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return z_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,z_}var bC;function wB(){return bC||(bC=1,B_.exports=_B()),B_.exports}var xC;function SB(){if(xC)return $_;xC=1;var t=Uh(),e=wB();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return $_.useSyncExternalStoreWithSelector=function(d,f,h,b,x){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function T(L){if(!O){if(O=!0,q=L,L=b(L),x!==void 0&&E.hasValue){var z=E.value;if(x(z,L))return A=z}return A=L}if(z=A,r(q,L))return z;var P=b(L);return x!==void 0&&x(z,P)?(q=L,z):(q=L,A=P)}var O=!1,q,A,D=h===void 0?null:h;return[function(){return T(f())},D===null?void 0:function(){return T(D())}]},[f,h,b,x]);var I=i(d,w[0],w[1]);return o(function(){E.hasValue=!0,E.value=I},[I]),c(I),I},$_}var _C;function EB(){return _C||(_C=1,M_.exports=SB()),M_.exports}var Pj=EB();const NB=to(Pj),pd=new WeakMap,sy=new WeakMap,Xy={current:[]};let W_=!1,$p=0;const xp=new Set,Eg=new Map;function Fj(t){const e=Array.from(t).sort((n,r)=>n instanceof hd&&n.options.deps.includes(r)?1:r instanceof hd&&r.options.deps.includes(n)?-1:0);for(const n of e){if(Xy.current.includes(n))continue;Xy.current.push(n),n.recompute();const r=sy.get(n);if(r)for(const i of r){const s=pd.get(i);s&&Fj(s)}}}function kB(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function IB(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function Dj(t){if($p>0&&!Eg.has(t)&&Eg.set(t,t.prevState),xp.add(t),!($p>0)&&!W_)try{for(W_=!0;xp.size>0;){const e=Array.from(xp);xp.clear();for(const n of e){const r=Eg.get(n)??n.prevState;n.prevState=r,kB(n)}for(const n of e){const r=pd.get(n);r&&(Xy.current.push(n),Fj(r))}for(const n of e){const r=pd.get(n);if(r)for(const i of r)IB(i)}}}finally{W_=!1,Xy.current=[],Eg.clear()}}function U_(t){$p++;try{t()}finally{if($p--,$p===0){const e=Array.from(xp)[0];e&&Dj(e)}}}class HS{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),Dj(this)},this.prevState=e,this.state=e,this.options=n}}class hd{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof hd&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof hd)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof HS){let r=pd.get(n);r||(r=new Set,pd.set(n,r)),r.add(this);let i=sy.get(this);i||(i=new Set,sy.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof hd)this.unregisterFromGraph(n.options.deps);else if(n instanceof HS){const r=pd.get(n);r&&r.delete(this);const i=sy.get(this);i&&i.delete(n)}}}function CB(t,e=n=>n){return Pj.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,TB)}function TB(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var V_,wC;function OB(){if(wC)return V_;wC=1;const t={},e=t.hasOwnProperty,n=(P,R)=>{for(const M in P)e.call(P,M)&&R(M,P[M])},r=(P,R)=>(R&&n(R,(M,F)=>{P[M]=F}),P),i=(P,R)=>{const M=P.length;let F=-1;for(;++F<M;)R(P[F])},s=P=>"\\u"+("0000"+P).slice(-4),o=(P,R)=>{let M=P.toString(16);return R?M:M.toUpperCase()},l=t.toString,c=Array.isArray,d=P=>typeof Buffer=="function"&&Buffer.isBuffer(P),f=P=>l.call(P)=="[object Object]",h=P=>typeof P=="string"||l.call(P)=="[object String]",b=P=>typeof P=="number"||l.call(P)=="[object Number]",x=P=>typeof P=="bigint",w=P=>typeof P=="function",E=P=>l.call(P)=="[object Map]",I=P=>l.call(P)=="[object Set]",T={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},O=/[\\\b\f\n\r\t]/,q=/[0-9]/,A=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,L=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,z=(P,R)=>{const M=()=>{le=J,++R.indentLevel,J=R.indent.repeat(R.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},W=R&&R.json;W&&(F.quotes="double",F.wrap=!0),R=r(F,R),R.quotes!="single"&&R.quotes!="double"&&R.quotes!="backtick"&&(R.quotes="single");const V=R.quotes=="double"?'"':R.quotes=="backtick"?"`":"'",B=R.compact,ee=R.lowercaseHex;let J=R.indent.repeat(R.indentLevel),le="";const se=R.__inline1__,ne=R.__inline2__,oe=B?"":`
`;let X,ce=!0;const de=R.numbers=="binary",ye=R.numbers=="octal",_e=R.numbers=="decimal",Ne=R.numbers=="hexadecimal";if(W&&P&&w(P.toJSON)&&(P=P.toJSON()),!h(P)){if(E(P))return P.size==0?"new Map()":(B||(R.__inline1__=!0,R.__inline2__=!1),"new Map("+z(Array.from(P),R)+")");if(I(P))return P.size==0?"new Set()":"new Set("+z(Array.from(P),R)+")";if(d(P))return P.length==0?"Buffer.from([])":"Buffer.from("+z(Array.from(P),R)+")";if(c(P))return X=[],R.wrap=!0,se&&(R.__inline1__=!1,R.__inline2__=!0),ne||M(),i(P,qe=>{ce=!1,ne&&(R.__inline2__=!1),X.push((B||ne?"":J)+z(qe,R))}),ce?"[]":ne?"["+X.join(", ")+"]":"["+oe+X.join(","+oe)+oe+(B?"":le)+"]";if(b(P)||x(P)){if(W)return JSON.stringify(Number(P));let qe;if(_e)qe=String(P);else if(Ne){let De=P.toString(16);ee||(De=De.toUpperCase()),qe="0x"+De}else de?qe="0b"+P.toString(2):ye&&(qe="0o"+P.toString(8));return x(P)?qe+"n":qe}else return x(P)?W?JSON.stringify(Number(P)):P+"n":f(P)?(X=[],R.wrap=!0,M(),n(P,(qe,De)=>{ce=!1,X.push((B?"":J)+z(qe,R)+":"+(B?"":" ")+z(De,R))}),ce?"{}":"{"+oe+X.join(","+oe)+oe+(B?"":le)+"}"):W?JSON.stringify(P)||"null":String(P)}const ze=R.escapeEverything?D:L;return X=P.replace(ze,(qe,De,Ze,Xe,Ue,ut)=>{if(De){if(R.minimal)return De;const Tt=De.charCodeAt(0),Wt=De.charCodeAt(1);if(R.es6){const en=(Tt-55296)*1024+Wt-56320+65536;return"\\u{"+o(en,ee)+"}"}return s(o(Tt,ee))+s(o(Wt,ee))}if(Ze)return s(o(Ze.charCodeAt(0),ee));if(qe=="\0"&&!W&&!q.test(ut.charAt(Ue+1)))return"\\0";if(Xe)return Xe==V||R.escapeEverything?"\\"+Xe:Xe;if(O.test(qe))return T[qe];if(R.minimal&&!A.test(qe))return qe;const wt=o(qe.charCodeAt(0),ee);return W||wt.length>2?s(wt):"\\x"+("00"+wt).slice(-2)}),V=="`"&&(X=X.replace(/\$\{/g,"\\${")),R.isScriptContext&&(X=X.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,W?"\\u003C!--":"\\x3C!--")),R.wrap&&(X=V+X+V),X};return z.version="3.0.2",V_=z,V_}OB();const _s="__root__";function qB(t,e){let n,r,i,s="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+s}function SC(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function RB(t,e){let n,r;const i={},s=t.split("&");for(;n=s.shift();){const o=n.indexOf("=");if(o!==-1){r=n.slice(0,o),r=decodeURIComponent(r);const l=n.slice(o+1);i[r]!==void 0?i[r]=[].concat(i[r],SC(l)):i[r]=SC(l)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const jB=PB(JSON.parse),AB=FB(JSON.stringify,JSON.parse);function PB(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=RB(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function FB(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=qB(r).toString();return i?`?${i}`:""}}function Bp(t){return t[t.length-1]}function DB(t){return typeof t=="function"}function Pu(t,e){return DB(t)?t(e):t}function oy(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Hs(t,e){if(t===e)return t;const n=e,r=NC(t)&&NC(n);if(r||Tl(t)&&Tl(n)){const i=r?t:Object.keys(t),s=i.length,o=r?n:Object.keys(n),l=o.length,c=r?[]:{};let d=0;for(let f=0;f<l;f++){const h=r?f:o[f];(!r&&i.includes(h)||r)&&t[h]===void 0&&n[h]===void 0?(c[h]=void 0,d++):(c[h]=Hs(t[h],n[h]),c[h]===t[h]&&t[h]!==void 0&&d++)}return s===l&&d===s?t:c}return n}function Tl(t){if(!EC(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!EC(n)||!n.hasOwnProperty("isPrototypeOf"))}function EC(t){return Object.prototype.toString.call(t)==="[object Object]"}function NC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kC(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function md(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Tl(t)&&Tl(e)){const r=n?.ignoreUndefined??!0,i=kC(t,r),s=kC(e,r);return!n?.partial&&i.length!==s.length?!1:s.every(o=>md(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!md(r,e[i],n)):!1}const _p=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Xc(t){let e,n;const r=new Promise((i,s)=>{e=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function H_(t){const e=K.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function LB(t,e,n={},r={}){const i=K.useRef(typeof IntersectionObserver=="function"),s=K.useRef(null);return K.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{e(o)},n),s.current.observe(t.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[e,n,r.disabled,t]),s.current}function MB(t){const e=K.useRef(null);return K.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function Ra(t){return ob(t.filter(e=>e!==void 0).join("/"))}function ob(t){return t.replace(/\/{2,}/g,"/")}function p1(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Fu(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function $B(t){return Fu(p1(t))}function ev(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function BB(t,e,n){return ev(t,n)===ev(e,n)}function zB({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;e=tv(t,e,i),n=tv(t,n,i);let l=qd(e);const c=qd(n);l.length>1&&((s=Bp(l))==null?void 0:s.value)==="/"&&l.pop(),c.forEach((f,h)=>{f.value==="/"?h?h===c.length-1&&l.push(f):l=[f]:f.value===".."?l.pop():f.value==="."||l.push(f)}),l.length>1&&(((o=Bp(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const d=Ra([t,...l.map(f=>f.value)]);return ob(d)}function qd(t){if(!t)return[];t=ob(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Ng({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=qd(t),o={};for(const[l,c]of Object.entries(e)){const d=typeof c=="string";["*","_splat"].includes(l)?o[l]=d?encodeURI(c):c:o[l]=d?WB(c,i):c}return Ra(s.map(l=>{if(l.type==="wildcard"){const c=o._splat;return n?`${l.value}${c??""}`:c}if(l.type==="param"){if(r){const c=o[l.value];return`${l.value}${c??""}`}return o[l.value.substring(1)]??"undefined"}return l.value}))}function WB(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function kg(t,e,n){const r=UB(t,e,n);if(!(n.to&&!r))return r??{}}function tv(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function UB(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=tv(t,e,n.caseSensitive);const r=tv(t,`${n.to??"$"}`,n.caseSensitive),i=qd(e),s=qd(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let c=0;c<Math.max(i.length,s.length);c++){const d=i[c],f=s[c],h=c>=i.length-1,b=c>=s.length-1;if(f){if(f.type==="wildcard"){const x=decodeURI(Ra(i.slice(c).map(w=>w.value)));return o["*"]=x,o._splat=x,!0}if(f.type==="pathname"){if(f.value==="/"&&!d?.value)return!0;if(d){if(n.caseSensitive){if(f.value!==d.value)return!1}else if(f.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(f.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[f.value.substring(1)]=decodeURIComponent(d.value))}}if(!h&&b)return o["**"]=Ra(i.slice(c+1).map(x=>x.value)),!!n.fuzzy&&f?.value!=="/"}return!0})()?o:void 0}function Vh(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function ku(t){return!!t?.isRedirect}function Q_(t){return!!t?.isRedirect&&t.href}function h1(t){const e=t.errorComponent??ab;return p.jsx(VB,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?K.createElement(e,{error:n,reset:r}):t.children})}class VB extends K.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ab({error:t}){const[e,n]=K.useState(!1);return p.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[p.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),p.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),p.jsx("div",{style:{height:".25rem"}}),e?p.jsx("div",{children:p.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?p.jsx("code",{children:t.message}):null})}):null]})}function $i(t){const e=Oo({warn:t?.router===void 0}),n=t?.router||e,r=K.useRef();return CB(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const s=Hs(r.current,t.select(i));return r.current=s,s}return t.select(i)}return i})}function mo(t){return!!t?.isNotFound}function HB(t){const e=$i({select:n=>`not-found-${n.location.pathname}-${n.status}`});return p.jsx(h1,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(mo(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(mo(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function QB(){return p.jsx("p",{children:"Not Found"})}const wp={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],s=Cg.find(o=>o.stringifyCondition(i));return s?s.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n];if(Tl(i)){const s=Cg.find(o=>o.parseCondition(i));if(s)return s.parse(i)}return r}),encode:t=>{if(Array.isArray(t))return t.map(n=>wp.encode(n));if(Tl(t))return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,wp.encode(r)]));const e=Cg.find(n=>n.stringifyCondition(t));return e?e.stringify(t):t},decode:t=>{if(Tl(t)){const e=Cg.find(n=>n.parseCondition(t));if(e)return e.parse(t)}return Array.isArray(t)?t.map(e=>wp.decode(e)):Tl(t)?Object.fromEntries(Object.entries(t).map(([e,n])=>[e,wp.decode(n)])):t}},Ig=(t,e,n,r)=>({key:t,stringifyCondition:e,stringify:i=>({[`$${t}`]:n(i)}),parseCondition:i=>Object.hasOwn(i,`$${t}`),parse:i=>r(i[`$${t}`])}),Cg=[Ig("undefined",t=>t===void 0,()=>0,()=>{}),Ig("date",t=>t instanceof Date,t=>t.toISOString(),t=>new Date(t)),Ig("error",t=>t instanceof Error,t=>({...t,message:t.message,stack:t.stack,cause:t.cause}),t=>Object.assign(new Error(t.message),t)),Ig("formData",t=>t instanceof FormData,t=>{const e={};return t.forEach((n,r)=>{const i=e[r];i!==void 0?Array.isArray(i)?i.push(n):e[r]=[i,n]:e[r]=n}),e},t=>{const e=new FormData;return Object.entries(t).forEach(([n,r])=>{Array.isArray(r)?r.forEach(i=>e.append(n,i)):e.append(n,r)}),e})],Lj=["component","errorComponent","pendingComponent","notFoundComponent"];function KB(t){var e;for(const n of Lj)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function K_(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new QS("Async validation not supported");if(n.issues)throw new QS(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function GB(t){return new ZB(t)}class ZB{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${$B(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?vB({initialEntries:[this.basepath||"/"]}):yB()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new HS(YB(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((l,c)=>{l.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const d=this.routesById[l.id];if(Ss(!d,`Duplicate routes found with id: ${String(l.id)}`),this.routesById[l.id]=l,!l.isRoot&&l.path){const h=Fu(l.fullPath);(!this.routesByPath[h]||l.fullPath.endsWith("/"))&&(this.routesByPath[h]=l)}const f=l.children;f?.length&&r(f)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,l)=>{var c;if(o.isRoot||!o.path)return;const d=p1(o.fullPath),f=qd(d);for(;f.length>1&&((c=f[0])==null?void 0:c.value)==="/";)f.shift();const h=f.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);i.push({child:o,trimmed:d,parsed:f,index:l,scores:h})}),this.flatRoutes=i.sort((o,l)=>{const c=Math.min(o.scores.length,l.scores.length);for(let d=0;d<c;d++)if(o.scores[d]!==l.scores[d])return l.scores[d]-o.scores[d];if(o.scores.length!==l.scores.length)return l.scores.length-o.scores.length;for(let d=0;d<c;d++)if(o.parsed[d].value!==l.parsed[d].value)return o.parsed[d].value>l.parsed[d].value?1:-1;return o.index-l.index}).map((o,l)=>(o.child.rank=l,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:c,search:d,hash:f,state:h})=>{const b=this.options.parseSearch(d),x=this.options.stringifySearch(b);return{pathname:c,searchStr:x,search:Hs(n?.search,b),hash:f.split("#").reverse()[0]??"",href:`${c}${x}${f}`,state:Hs(n?.state,h)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:l}=s.state;if(o&&(!l||l===this.tempLocationKey)){const c=i(o);return c.state.key=s.state.key,delete c.state.__tempLocation,{...c,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>zB({basepath:this.basepath,base:n,to:ob(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const s=Fu(n.pathname),o=f=>kg(this.basepath,s,{to:f.fullPath,caseSensitive:f.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let l=r?.to!==void 0?this.routesByPath[r.to]:void 0;l?i=o(l):l=this.flatRoutes.find(f=>{const h=o(f);return h?(i=h,!0):!1});let c=l||this.routesById[_s];const d=[c];for(;c.parentRoute;)c=c.parentRoute,d.unshift(c);return{matchedRoutes:d,routeParams:i,foundRoute:l}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var l,c,d,f,h,b;const x=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,w=s.from!=null?x.find(F=>kg(this.basepath,Fu(F.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,E=w?.pathname||this.latestLocation.pathname;Ss(s.from==null||w!=null,"Could not find match for from: "+s.from);const I=(l=this.state.pendingMatches)!=null&&l.length?(c=Bp(this.state.pendingMatches))==null?void 0:c.search:((d=Bp(x))==null?void 0:d.search)||this.latestLocation.search,T=o?.matchedRoutes.filter(F=>x.find(W=>W.routeId===F.id));let O;if(s.to)O=this.resolvePathWithBase(E,`${s.to}`);else{const F=this.routesById[(f=T?.find(W=>{const V=Ng({path:W.fullPath,params:o?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return Ra([this.basepath,V])===E}))==null?void 0:f.id];O=this.resolvePathWithBase(E,F?.to??E)}const q={...(h=Bp(x))==null?void 0:h.params};let A=(s.params??!0)===!0?q:{...q,...Pu(s.params,q)};Object.keys(A).length>0&&o?.matchedRoutes.map(F=>{var W;return((W=F.options.params)==null?void 0:W.stringify)??F.options.stringifyParams}).filter(Boolean).forEach(F=>{A={...A,...F(A)}}),O=Ng({path:O,params:A??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let D=I;if(n._includeValidateSearch&&((b=this.options.search)!=null&&b.strict)){let F={};o?.matchedRoutes.forEach(W=>{try{W.options.validateSearch&&(F={...F,...K_(W.options.validateSearch,{...F,...D})??{}})}catch{}}),D=F}D=(F=>{const W=o?.matchedRoutes.reduce((ee,J)=>{var le;const se=[];if("search"in J.options)(le=J.options.search)!=null&&le.middlewares&&se.push(...J.options.search.middlewares);else if(J.options.preSearchFilters||J.options.postSearchFilters){const ne=({search:oe,next:X})=>{let ce=oe;"preSearchFilters"in J.options&&J.options.preSearchFilters&&(ce=J.options.preSearchFilters.reduce((ye,_e)=>_e(ye),oe));const de=X(ce);return"postSearchFilters"in J.options&&J.options.postSearchFilters?J.options.postSearchFilters.reduce((ye,_e)=>_e(ye),de):de};se.push(ne)}if(n._includeValidateSearch&&J.options.validateSearch){const ne=({search:oe,next:X})=>{try{const ce=X(oe);return{...ce,...K_(J.options.validateSearch,ce)??{}}}catch{}};se.push(ne)}return ee.concat(se)},[])??[],V=({search:ee})=>s.search?s.search===!0?ee:Pu(s.search,ee):{};W.push(V);const B=(ee,J)=>{if(ee>=W.length)return J;const le=W[ee];return le({search:J,next:ne=>B(ee+1,ne)})};return B(0,F)})(D),D=Hs(I,D);const z=this.options.stringifySearch(D),P=s.hash===!0?this.latestLocation.hash:s.hash?Pu(s.hash,this.latestLocation.hash):void 0,R=P?`#${P}`:"";let M=s.state===!0?this.latestLocation.state:s.state?Pu(s.state,this.latestLocation.state):{};return M=Hs(this.latestLocation.state,M),{pathname:O,search:D,searchStr:z,state:M,hash:P??"",href:`${O}${z}${R}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var l;const c=r(s);let d=o?r(o):void 0;if(!d){let b={};const x=(l=this.options.routeMasks)==null?void 0:l.find(w=>{const E=kg(this.basepath,c.pathname,{to:w.from,caseSensitive:!1,fuzzy:!1});return E?(b=E,!0):!1});if(x){const{from:w,...E}=x;o={...oy(n,["from"]),...E,params:b},d=r(o)}}const f=this.getMatchedRoutes(c,s),h=r(s,f);if(d){const b=this.getMatchedRoutes(d,o),x=r(o,b);h.maskedLocation=x}return h};return n.mask?i(n,{...oy(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{i.state.key=this.latestLocation.state.key;const c=md(i.state,this.latestLocation.state);return delete i.state.key,c},o=this.latestLocation.href===i.href,l=this.commitLocationPromise;if(this.commitLocationPromise=Xc(()=>{l?.resolve()}),o&&s())this.load();else{let{maskedLocation:c,hashScrollIntoView:d,...f}=i;c&&(f={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...f,search:f.searchStr,state:{...f.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(f.unmaskOnReload??this.options.unmaskOnReload??!1)&&(f.state.__tempKey=this.tempLocationKey)),f.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](f.href,f.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:l,...c}={})=>{if(l){const f=this.history.location.state.__TSR_index,h=ih(l,{__TSR_index:n?f:f+1});c.to=h.pathname,c.search=this.options.parseSearch(h.search),c.hash=h.hash.slice(1)}const d=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){i||(i=this.buildLocation({to:n,...s}).href),s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,d=this.state.resolvedLocation,f=d.href!==c.href,h=d.pathname!==c.pathname;this.cancelMatches();let b;U_(()=>{b=this.matchRoutes(c),this.__store.setState(x=>({...x,status:"pending",isLoading:!0,location:c,pendingMatches:b,cachedMatches:x.cachedMatches.filter(w=>!b.find(E=>E.id===w.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:c,pathChanged:h,hrefChanged:f}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:c,pathChanged:h,hrefChanged:f}),await this.loadMatches({sync:n?.sync,matches:b,location:c,onReady:async()=>{this.startViewTransition(async()=>{let x,w,E;U_(()=>{this.__store.setState(I=>{const T=I.matches,O=I.pendingMatches||I.matches;return x=T.filter(q=>!O.find(A=>A.id===q.id)),w=O.filter(q=>!T.find(A=>A.id===q.id)),E=T.filter(q=>O.find(A=>A.id===q.id)),{...I,isLoading:!1,loadedAt:Date.now(),matches:O,pendingMatches:void 0,cachedMatches:[...I.cachedMatches,...x.filter(q=>q.status!=="error")]}}),this.clearExpiredCache()}),[[x,"onLeave"],[w,"onEnter"],[E,"onStay"]].forEach(([I,T])=>{I.forEach(O=>{var q,A;(A=(q=this.looseRoutesById[O.routeId].options)[T])==null||A.call(q,O)})})})}})}catch(c){Q_(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):mo(c)&&(i=c),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:i?404:d.matches.some(f=>f.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(f=>f.id===n),l=this.state.matches.find(f=>f.id===n),c=this.state.cachedMatches.find(f=>f.id===n),d=o?"pendingMatches":l?"matches":c?"cachedMatches":"";return d&&this.__store.setState(f=>{var h;return{...f,[d]:(h=f[d])==null?void 0:h.map(b=>b.id===n?s=r(b):b)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:l})=>{let c,d=!1;const f=async()=>{d||(d=!0,await s?.())},h=x=>!!(i&&!this.state.matches.find(w=>w.id===x));!this.isServer&&!this.state.matches.length&&f();const b=(x,w)=>{var E,I,T;if(Q_(w)&&!w.reloadDocument)throw w;if(ku(w)||mo(w)){if(o(x.id,O=>({...O,status:ku(w)?"redirected":mo(w)?"notFound":"error",isFetching:!1,error:w,beforeLoadPromise:void 0,loaderPromise:void 0})),w.routeId||(w.routeId=x.routeId),(E=x.beforeLoadPromise)==null||E.resolve(),(I=x.loaderPromise)==null||I.resolve(),(T=x.loadPromise)==null||T.resolve(),ku(w))throw d=!0,w=this.resolveRedirect({...w,_fromLocation:n}),w;if(mo(w))throw this._handleNotFound(r,w,{updateMatch:o}),w}};try{await new Promise((x,w)=>{(async()=>{var E,I,T;try{const O=(D,L,z)=>{var P,R;const{id:M,routeId:F}=r[D],W=this.looseRoutesById[F];if(L instanceof Promise)throw L;L.routerCode=z,c=c??D,b(this.getMatch(M),L);try{(R=(P=W.options).onError)==null||R.call(P,L)}catch(V){L=V,b(this.getMatch(M),L)}o(M,V=>{var B,ee;return(B=V.beforeLoadPromise)==null||B.resolve(),(ee=V.loadPromise)==null||ee.resolve(),{...V,error:L,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[D,{id:L,routeId:z}]of r.entries()){const P=this.getMatch(L),R=(E=r[D-1])==null?void 0:E.id,M=this.looseRoutesById[z],F=M.options.pendingMs??this.options.defaultPendingMs,W=!!(s&&!this.isServer&&!h(L)&&(M.options.loader||M.options.beforeLoad)&&typeof F=="number"&&F!==1/0&&(M.options.pendingComponent??this.options.defaultPendingComponent));let V=!0;if((P.beforeLoadPromise||P.loaderPromise)&&(W&&setTimeout(()=>{try{f()}catch{}},F),await P.beforeLoadPromise,V=this.getMatch(L).status!=="success"),V){try{o(L,Ne=>({...Ne,loadPromise:Xc(()=>{var ze;(ze=Ne.loadPromise)==null||ze.resolve()}),beforeLoadPromise:Xc()}));const B=new AbortController;let ee;W&&(ee=setTimeout(()=>{try{f()}catch{}},F));const{paramsError:J,searchError:le}=this.getMatch(L);J&&O(D,J,"PARSE_PARAMS"),le&&O(D,le,"VALIDATE_SEARCH");const se=()=>R?this.getMatch(R).context:this.options.context??{};o(L,Ne=>({...Ne,isFetching:"beforeLoad",fetchCount:Ne.fetchCount+1,abortController:B,pendingTimeout:ee,context:{...se(),...Ne.__routeContext}}));const{search:ne,params:oe,context:X,cause:ce}=this.getMatch(L),de=h(L),ye={search:ne,abortController:B,params:oe,preload:de,context:X,location:n,navigate:Ne=>this.navigate({...Ne,_fromLocation:n}),buildLocation:this.buildLocation,cause:de?"preload":ce,matches:r};let _e=await ((T=(I=M.options).beforeLoad)==null?void 0:T.call(I,ye))??{};this.serializeLoaderData&&(_e=this.serializeLoaderData("__beforeLoadContext",_e,{router:this,match:this.getMatch(L)})),(ku(_e)||mo(_e))&&O(D,_e,"BEFORE_LOAD"),o(L,Ne=>({...Ne,__beforeLoadContext:_e,context:{...se(),...Ne.__routeContext,..._e},abortController:B}))}catch(B){O(D,B,"BEFORE_LOAD")}o(L,B=>{var ee;return(ee=B.beforeLoadPromise)==null||ee.resolve(),{...B,beforeLoadPromise:void 0,isFetching:!1}})}}const q=r.slice(0,c),A=[];q.forEach(({id:D,routeId:L},z)=>{A.push((async()=>{const{loaderPromise:P}=this.getMatch(D);let R=!1,M=!1;if(P){await P;const F=this.getMatch(D);F.error&&b(F,F.error)}else{const F=A[z-1],W=this.looseRoutesById[L],V=()=>{const{params:ce,loaderDeps:de,abortController:ye,context:_e,cause:Ne}=this.getMatch(D),ze=h(D);return{params:ce,deps:de,preload:!!ze,parentMatchPromise:F,abortController:ye,context:_e,location:n,navigate:qe=>this.navigate({...qe,_fromLocation:n}),cause:ze?"preload":Ne,route:W}},B=Date.now()-this.getMatch(D).updatedAt,ee=h(D),J=ee?W.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:W.options.staleTime??this.options.defaultStaleTime??0,le=W.options.shouldReload,se=typeof le=="function"?le(V()):le;o(D,ce=>({...ce,loaderPromise:Xc(),preload:!!ee&&!this.state.matches.find(de=>de.id===D)}));const ne=async()=>{var ce,de,ye,_e,Ne,ze,qe,De;try{const Ze=async()=>{const Xe=this.getMatch(D);Xe.minPendingPromise&&await Xe.minPendingPromise};try{this.loadRouteChunk(W),o(D,en=>({...en,isFetching:"loader"}));let Xe=await ((de=(ce=W.options).loader)==null?void 0:de.call(ce,V()));this.serializeLoaderData&&(Xe=this.serializeLoaderData("loaderData",Xe,{router:this,match:this.getMatch(D)})),b(this.getMatch(D),Xe),await W._lazyPromise,await Ze();const Ue=(_e=(ye=W.options).head)==null?void 0:_e.call(ye,{matches:r,match:this.getMatch(D),params:this.getMatch(D).params,loaderData:Xe}),ut=Ue?.meta,wt=Ue?.links,Tt=Ue?.scripts,Wt=(ze=(Ne=W.options).headers)==null?void 0:ze.call(Ne,{loaderData:Xe});o(D,en=>({...en,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Xe,meta:ut,links:wt,scripts:Tt,headers:Wt}))}catch(Xe){let Ue=Xe;await Ze(),b(this.getMatch(D),Xe);try{(De=(qe=W.options).onError)==null||De.call(qe,Xe)}catch(ut){Ue=ut,b(this.getMatch(D),ut)}o(D,ut=>({...ut,error:Ue,status:"error",isFetching:!1}))}await W._componentsPromise}catch(Ze){o(D,Xe=>({...Xe,loaderPromise:void 0})),b(this.getMatch(D),Ze)}},{status:oe,invalid:X}=this.getMatch(D);R=oe==="success"&&(X||(se??B>J)),ee&&W.options.preload===!1||(R&&!l?(M=!0,(async()=>{try{await ne();const{loaderPromise:ce,loadPromise:de}=this.getMatch(D);ce?.resolve(),de?.resolve(),o(D,ye=>({...ye,loaderPromise:void 0}))}catch(ce){Q_(ce)&&await this.navigate(ce)}})()):(oe!=="success"||R&&l)&&await ne())}if(!M){const{loaderPromise:F,loadPromise:W}=this.getMatch(D);F?.resolve(),W?.resolve()}return o(D,F=>({...F,isFetching:M?F.isFetching:!1,loaderPromise:M?F.loaderPromise:void 0,invalid:!1})),this.getMatch(D)})())}),await Promise.all(A),x()}catch(O){w(O)}})()}),await f()}catch(x){if(ku(x)||mo(x))throw mo(x)&&!i&&await f(),x}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n?.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load({sync:n?.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(Lj.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...s,...this.state.cachedMatches.map(l=>l.id)]);U_(()=>{i.forEach(l=>{o.has(l.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,l]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(l,c)=>{s.has(l)?i=i.map(d=>d.id===l?c(d):d):this.updateMatch(l,c)}}),i}catch(l){if(ku(l))return l.reloadDocument?void 0:await this.preloadRoute({...l,_fromLocation:r});console.error(l);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,c=kg(this.basepath,l.pathname,{...r,to:s.pathname});return!c||n.params&&!md(c,n.params,{partial:!0})?!1:c&&(r?.includeSearch??!0)?md(l.search,s.search,{partial:!0})?c:!1:c},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??XB;return{state:{dehydratedMatches:this.state.matches.map(i=>({...oy(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let s;typeof document<"u"&&(s=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),Ss(s),this.dehydratedData=s.payload,(i=(r=this.options).hydrate)==null||i.call(r,s.payload);const o=s.router.state,l=this.matchRoutes(this.state.location).map(c=>{const d=o.dehydratedMatches.find(f=>f.id===c.id);return Ss(d,`Could not find a client-side match for dehydrated match with id: ${c.id}!`),{...c,...d}});this.__store.setState(c=>({...c,matches:l})),this.manifest=s.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const s=Object.fromEntries(n.map(c=>[c.routeId,c]));let o=(r.global?this.looseRoutesById[_s]:this.looseRoutesById[r.routeId])||this.looseRoutesById[_s];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==_s;)o=o.parentRoute,Ss(o);const l=s[o.id];Ss(l,"Could not find match for route: "+o.id),i(l.id,c=>({...c,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??AB,parseSearch:e.parseSearch??jB,transformer:e.transformer??wp}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(e,n?.dest);let o=!1;(r?r.path!=="/"&&s["**"]:Fu(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const l=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let h=i.length-1;h>=0;h--){const b=i[h];if(b.children)return b.id}return _s}})(),c=i.map(h=>{var b;let x;const w=((b=h.options.params)==null?void 0:b.parse)??h.options.parseParams;if(w)try{const E=w(s);Object.assign(s,E)}catch(E){if(x=new JB(E.message,{cause:E}),n?.throwOnError)throw x;return x}}),d=[],f=h=>h?.id?h.context??this.options.context??{}:this.options.context??{};return i.forEach((h,b)=>{var x,w,E,I;const T=d[b-1],[O,q]=(()=>{const V=T?.search??e.search;try{const B=K_(h.options.validateSearch,V)??{};return[{...V,...B},void 0]}catch(B){const ee=new QS(B.message,{cause:B});if(n?.throwOnError)throw ee;return[V,ee]}})(),A=((w=(x=h.options).loaderDeps)==null?void 0:w.call(x,{search:O}))??"",D=A?JSON.stringify(A):"",L=Ng({path:h.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),z=Ng({path:h.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+D,P=this.getMatch(z),R=this.state.matches.find(V=>V.routeId===h.id),M=R?"stay":"enter";let F;if(P)F={...P,cause:M,params:R?Hs(R.params,s):s,search:Hs(R?R.search:P.search,O)};else{const V=h.options.loader||h.options.beforeLoad||h.lazyFn||KB(h)?"pending":"success";F={id:z,index:b,routeId:h.id,params:R?Hs(R.params,s):s,pathname:Ra([this.basepath,L]),updatedAt:Date.now(),search:R?Hs(R.search,O):O,searchError:void 0,status:V,isFetching:!1,error:void 0,paramsError:c[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:M,loaderDeps:R?Hs(R.loaderDeps,A):A,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:Xc(),fullPath:h.fullPath}}F.status==="success"&&(F.headers=(I=(E=h.options).headers)==null?void 0:I.call(E,{loaderData:F.loaderData})),n?.preload||(F.globalNotFound=l===h.id),F.searchError=q;const W=f(T);F.context={...W,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((h,b)=>{var x,w,E,I;const T=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&n?._buildLocation!==!0){const A=d[b-1],D=f(A),L={deps:h.loaderDeps,params:h.params,context:D,location:e,navigate:z=>this.navigate({...z,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:d};h.__routeContext=((w=(x=T.options).context)==null?void 0:w.call(x,L))??{},h.context={...D,...h.__routeContext,...h.__beforeLoadContext}}const q=(I=(E=T.options).head)==null?void 0:I.call(E,{matches:d,match:h,params:h.params,loaderData:h.loaderData??void 0});h.links=q?.links,h.scripts=q?.scripts,h.meta=q?.meta}),d}}class QS extends Error{}class JB extends Error{}function YB(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function XB(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function IC(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function CC(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const lb=K.createContext(void 0),e4=K.createContext(void 0);function Dl(t){const e=K.useContext(t.from?e4:lb);return $i({select:r=>{const i=r.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(Ss(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function Kl(t){return Dl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function t4(t){const{select:e,...n}=t;return Dl({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function xn(t){return Dl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function n4(t){return Dl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Zd(t){const{navigate:e}=Oo();return K.useCallback(n=>e({...n}),[e])}let Mj=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!s?.path&&!s?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=_s:Ss(this.parentRoute);let l=o?_s:s.path;l&&l!=="/"&&(l=p1(l));const c=s?.id||l;let d=o?_s:Ra([this.parentRoute.id===_s?"":this.parentRoute.id,c]);l===_s&&(l="/"),d!==_s&&(d=Ra(["/",d]));const f=d===_s?"/":Ra([this.parentRoute.fullPath,l]);this._path=l,this._id=d,this._fullPath=f,this._to=f,this._ssr=s?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>Dl({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Dl({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>n4({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>xn({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>t4({...n,from:this.id}),this.useLoaderData=n=>Kl({...n,from:this.id}),this.useNavigate=()=>Zd({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,Ss(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function r4(t){return new Mj(t)}function i4(){return t=>o4(t)}class s4 extends Mj{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function o4(t){return new s4(t)}function Gt(t){return new a4(t,{silent:!0}).createRoute}class a4{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=r4(r);return i.isRoot=!1,i},this.silent=n?.silent}}function ay(t){return p.jsx(p.Fragment,{children:t.children})}function $j(t,e,n){return e.options.notFoundComponent?p.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?p.jsx(t.options.defaultNotFoundComponent,{data:n}):p.jsx(QB,{})}const Bj=K.memo(function({matchId:e}){var n,r;const i=Oo(),s=$i({select:I=>{var T;return(T=I.matches.find(O=>O.id===e))==null?void 0:T.routeId}});Ss(s);const o=i.routesById[s],l=o.options.pendingComponent??i.options.defaultPendingComponent,c=l?p.jsx(l,{}):null,d=o.options.errorComponent??i.options.defaultErrorComponent,f=o.options.onCatch??i.options.defaultOnCatch,h=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,b=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??l??((r=o.options.errorComponent)==null?void 0:r.preload))?K.Suspense:ay,x=d?h1:ay,w=h?HB:ay,E=$i({select:I=>I.loadedAt});return p.jsx(lb.Provider,{value:e,children:p.jsx(b,{fallback:c,children:p.jsx(x,{getResetKey:()=>E,errorComponent:d||ab,onCatch:(I,T)=>{if(mo(I))throw I;f?.(I,T)},children:p.jsx(w,{fallback:I=>{if(!h||I.routeId&&I.routeId!==s||!I.routeId&&!o.isRoot)throw I;return K.createElement(h,I)},children:p.jsx(l4,{matchId:e})})})})})}),l4=K.memo(function({matchId:e}){var n,r,i,s,o;const l=Oo(),{match:c,matchIndex:d,routeId:f}=$i({select:w=>{const E=w.matches.findIndex(O=>O.id===e),I=w.matches[E];return{routeId:I.routeId,matchIndex:E,match:oy(I,["id","status","error"])}},structuralSharing:!0}),h=l.routesById[f],b=K.useMemo(()=>{const w=h.options.component??l.options.defaultComponent;return w?p.jsx(w,{}):p.jsx(no,{})},[h.options.component,l.options.defaultComponent]),x=(h.options.errorComponent??l.options.defaultErrorComponent)||ab;if(c.status==="notFound"){let w;return IC(c.error)?w=(((n=l.options.errorSerializer)==null?void 0:n.deserialize)??CC)(c.error.data):w=c.error,Ss(mo(w)),$j(l,h,w)}if(c.status==="redirected")throw Ss(ku(c.error)),(r=l.getMatch(c.id))==null?void 0:r.loadPromise;if(c.status==="error"){if(l.isServer)return p.jsx(x,{error:c.error,info:{componentStack:""}});throw IC(c.error)?(((i=l.options.errorSerializer)==null?void 0:i.deserialize)??CC)(c.error.data):c.error}if(c.status==="pending"){const w=h.options.pendingMinMs??l.options.defaultPendingMinMs;if(w&&!((s=l.getMatch(c.id))!=null&&s.minPendingPromise)&&!l.isServer){const E=Xc();Promise.resolve().then(()=>{l.updateMatch(c.id,I=>({...I,minPendingPromise:E}))}),setTimeout(()=>{E.resolve(),l.updateMatch(c.id,I=>({...I,minPendingPromise:void 0}))},w)}throw(o=l.getMatch(c.id))==null?void 0:o.loadPromise}return p.jsxs(p.Fragment,{children:[b,l.AfterEachMatch?p.jsx(l.AfterEachMatch,{match:c,matchIndex:d}):null]})}),no=K.memo(function(){const e=Oo(),n=K.useContext(lb),r=$i({select:d=>{var f;return(f=d.matches.find(h=>h.id===n))==null?void 0:f.routeId}}),i=e.routesById[r],s=$i({select:d=>{const h=d.matches.find(b=>b.id===n);return Ss(h),h.globalNotFound}}),o=$i({select:d=>{var f;const h=d.matches,b=h.findIndex(x=>x.id===n);return(f=h[b+1])==null?void 0:f.id}});if(s)return $j(e,i,void 0);if(!o)return null;const l=p.jsx(Bj,{matchId:o}),c=e.options.defaultPendingComponent?p.jsx(e.options.defaultPendingComponent,{}):null;return n===_s?p.jsx(K.Suspense,{fallback:c,children:l}):l});var G_={exports:{}},is={},Z_={exports:{}},J_={};var TC;function u4(){return TC||(TC=1,function(t){function e(se,ne){var oe=se.length;se.push(ne);e:for(;0<oe;){var X=oe-1>>>1,ce=se[X];if(0<i(ce,ne))se[X]=ne,se[oe]=ce,oe=X;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ne=se[0],oe=se.pop();if(oe!==ne){se[0]=oe;e:for(var X=0,ce=se.length,de=ce>>>1;X<de;){var ye=2*(X+1)-1,_e=se[ye],Ne=ye+1,ze=se[Ne];if(0>i(_e,oe))Ne<ce&&0>i(ze,_e)?(se[X]=ze,se[Ne]=oe,X=Ne):(se[X]=_e,se[ye]=oe,X=ye);else if(Ne<ce&&0>i(ze,oe))se[X]=ze,se[Ne]=oe,X=Ne;else break e}}return ne}function i(se,ne){var oe=se.sortIndex-ne.sortIndex;return oe!==0?oe:se.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,b=3,x=!1,w=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(se){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=se)r(d),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(d)}}function A(se){if(E=!1,q(se),!w)if(n(c)!==null)w=!0,J(D);else{var ne=n(d);ne!==null&&le(A,ne.startTime-se)}}function D(se,ne){w=!1,E&&(E=!1,T(P),P=-1),x=!0;var oe=b;try{for(q(ne),h=n(c);h!==null&&(!(h.expirationTime>ne)||se&&!F());){var X=h.callback;if(typeof X=="function"){h.callback=null,b=h.priorityLevel;var ce=X(h.expirationTime<=ne);ne=t.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(c)&&r(c),q(ne)}else r(c);h=n(c)}if(h!==null)var de=!0;else{var ye=n(d);ye!==null&&le(A,ye.startTime-ne),de=!1}return de}finally{h=null,b=oe,x=!1}}var L=!1,z=null,P=-1,R=5,M=-1;function F(){return!(t.unstable_now()-M<R)}function W(){if(z!==null){var se=t.unstable_now();M=se;var ne=!0;try{ne=z(!0,se)}finally{ne?V():(L=!1,z=null)}}else L=!1}var V;if(typeof O=="function")V=function(){O(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ee=B.port2;B.port1.onmessage=W,V=function(){ee.postMessage(null)}}else V=function(){I(W,0)};function J(se){z=se,L||(L=!0,V())}function le(se,ne){P=I(function(){se(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){w||x||(w=!0,J(D))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(se){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var oe=b;b=ne;try{return se()}finally{b=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ne){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var oe=b;b=se;try{return ne()}finally{b=oe}},t.unstable_scheduleCallback=function(se,ne,oe){var X=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?X+oe:X):oe=X,se){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=0x3fffffff;break;case 4:ce=1e4;break;default:ce=5e3}return ce=oe+ce,se={id:f++,callback:ne,priorityLevel:se,startTime:oe,expirationTime:ce,sortIndex:-1},oe>X?(se.sortIndex=oe,e(d,se),n(c)===null&&se===n(d)&&(E?(T(P),P=-1):E=!0,le(A,oe-X))):(se.sortIndex=ce,e(c,se),w||x||(w=!0,J(D))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var ne=b;return function(){var oe=b;b=ne;try{return se.apply(this,arguments)}finally{b=oe}}}}(J_)),J_}var OC;function c4(){return OC||(OC=1,Z_.exports=u4()),Z_.exports}var qC;function d4(){if(qC)return is;qC=1;var t=Uh(),e=c4();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function b(a){return c.call(h,a)?!0:c.call(f,a)?!1:d.test(a)?h[a]=!0:(f[a]=!0,!1)}function x(a,u,m,_){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return _?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,m,_){if(u===null||typeof u>"u"||x(a,u,m,_))return!0;if(_)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function E(a,u,m,_,k,j,Z){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=_,this.attributeNamespace=k,this.mustUseProperty=m,this.propertyName=a,this.type=u,this.sanitizeURL=j,this.removeEmptyString=Z}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new E(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];I[u]=new E(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new E(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new E(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new E(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new E(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new E(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new E(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new E(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function O(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(T,O);I[u]=new E(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(T,O);I[u]=new E(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(T,O);I[u]=new E(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new E(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new E(a,1,!1,a.toLowerCase(),null,!0,!0)});function q(a,u,m,_){var k=I.hasOwnProperty(u)?I[u]:null;(k!==null?k.type!==0:_||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,m,k,_)&&(m=null),_||k===null?b(u)&&(m===null?a.removeAttribute(u):a.setAttribute(u,""+m)):k.mustUseProperty?a[k.propertyName]=m===null?k.type===3?!1:"":m:(u=k.attributeName,_=k.attributeNamespace,m===null?a.removeAttribute(u):(k=k.type,m=k===3||k===4&&m===!0?"":""+m,_?a.setAttributeNS(_,u,m):a.setAttribute(u,m))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),se=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=se&&a[se]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Object.assign,X;function ce(a){if(X===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);X=u&&u[1]||""}return`
`+X+a}var de=!1;function ye(a,u){if(!a||de)return"";de=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(He){var _=He}Reflect.construct(a,[],u)}else{try{u.call()}catch(He){_=He}a.call(u.prototype)}else{try{throw Error()}catch(He){_=He}a()}}catch(He){if(He&&_&&typeof He.stack=="string"){for(var k=He.stack.split(`
`),j=_.stack.split(`
`),Z=k.length-1,ge=j.length-1;1<=Z&&0<=ge&&k[Z]!==j[ge];)ge--;for(;1<=Z&&0<=ge;Z--,ge--)if(k[Z]!==j[ge]){if(Z!==1||ge!==1)do if(Z--,ge--,0>ge||k[Z]!==j[ge]){var Se=`
`+k[Z].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=Z&&0<=ge);break}}}finally{de=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?ce(a):""}function _e(a){switch(a.tag){case 5:return ce(a.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return a=ye(a.type,!1),a;case 11:return a=ye(a.type.render,!1),a;case 1:return a=ye(a.type,!0),a;default:return""}}function Ne(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case L:return"Portal";case R:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case M:return(a._context.displayName||"Context")+".Provider";case W:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return u=a.displayName||null,u!==null?u:Ne(a.type)||"Memo";case J:u=a._payload,a=a._init;try{return Ne(a(u))}catch{}}return null}function ze(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function qe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function De(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ze(a){var u=De(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),_=""+a[u];if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,j=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return k.call(this)},set:function(Z){_=""+Z,j.call(this,Z)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return _},setValue:function(Z){_=""+Z},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Xe(a){a._valueTracker||(a._valueTracker=Ze(a))}function Ue(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var m=u.getValue(),_="";return a&&(_=De(a)?a.checked?"true":"false":a.value),a=_,a!==m?(u.setValue(a),!0):!1}function ut(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function wt(a,u){var m=u.checked;return oe({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Tt(a,u){var m=u.defaultValue==null?"":u.defaultValue,_=u.checked!=null?u.checked:u.defaultChecked;m=qe(u.value!=null?u.value:m),a._wrapperState={initialChecked:_,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Wt(a,u){u=u.checked,u!=null&&q(a,"checked",u,!1)}function en(a,u){Wt(a,u);var m=qe(u.value),_=u.type;if(m!=null)_==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(_==="submit"||_==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?ve(a,u.type,m):u.hasOwnProperty("defaultValue")&&ve(a,u.type,qe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function xe(a,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var _=u.type;if(!(_!=="submit"&&_!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,m||u===a.value||(a.value=u),a.defaultValue=u}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function ve(a,u,m){(u!=="number"||ut(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var ke=Array.isArray;function Ae(a,u,m,_){if(a=a.options,u){u={};for(var k=0;k<m.length;k++)u["$"+m[k]]=!0;for(m=0;m<a.length;m++)k=u.hasOwnProperty("$"+a[m].value),a[m].selected!==k&&(a[m].selected=k),k&&_&&(a[m].defaultSelected=!0)}else{for(m=""+qe(m),u=null,k=0;k<a.length;k++){if(a[k].value===m){a[k].selected=!0,_&&(a[k].defaultSelected=!0);return}u!==null||a[k].disabled||(u=a[k])}u!==null&&(u.selected=!0)}}function Ve(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if(ke(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}a._wrapperState={initialValue:qe(m)}}function Me(a,u){var m=qe(u.value),_=qe(u.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),u.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),_!=null&&(a.defaultValue=""+_)}function ct(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Ht(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Ht(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var pn,lr=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,_,k){MSApp.execUnsafeLocalFunction(function(){return a(u,m,_,k)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(pn=pn||document.createElement("div"),pn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=pn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Dn(a,u){if(u){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=u;return}}a.textContent=u}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oi=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(a){Oi.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Vr[u]=Vr[a]})});function Cr(a,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||Vr.hasOwnProperty(a)&&Vr[a]?(""+u).trim():u+"px"}function Kt(a,u){a=a.style;for(var m in u)if(u.hasOwnProperty(m)){var _=m.indexOf("--")===0,k=Cr(m,u[m],_);m==="float"&&(m="cssFloat"),_?a.setProperty(m,k):a[m]=k}}var Ki=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gi(a,u){if(u){if(Ki[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Zi(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function aa(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var iu=null,As=null,H=null;function dc(a){if(a=Hf(a)){if(typeof iu!="function")throw Error(n(280));var u=a.stateNode;u&&(u=Lm(u),iu(a.stateNode,a.type,u))}}function ln(a){As?H?H.push(a):H=[a]:As=a}function fc(){if(As){var a=As,u=H;if(H=As=null,dc(a),u)for(a=0;a<u.length;a++)dc(u[a])}}function pc(a,u){return a(u)}function hc(){}var su=!1;function la(a,u,m){if(su)return a(u,m);su=!0;try{return pc(a,u,m)}finally{su=!1,(As!==null||H!==null)&&(hc(),fc())}}function Ji(a,u){var m=a.stateNode;if(m===null)return null;var _=Lm(m);if(_===null)return null;m=_[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(a=a.type,_=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!_;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var ou=!1;if(l)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){ou=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{ou=!1}function bf(a,u,m,_,k,j,Z,ge,Se){var He=Array.prototype.slice.call(arguments,3);try{u.apply(m,He)}catch(ht){this.onError(ht)}}var ca=!1,Ps=null,Ua=!1,Fs=null,xf={onError:function(a){ca=!0,Ps=a}};function _f(a,u,m,_,k,j,Z,ge,Se){ca=!1,Ps=null,bf.apply(xf,arguments)}function mc(a,u,m,_,k,j,Z,ge,Se){if(_f.apply(this,arguments),ca){if(ca){var He=Ps;ca=!1,Ps=null}else throw Error(n(198));Ua||(Ua=!0,Fs=He)}}function Ds(a){var u=a,m=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(m=u.return),a=u.return;while(a)}return u.tag===3?m:null}function gc(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function yc(a){if(Ds(a)!==a)throw Error(n(188))}function wf(a){var u=a.alternate;if(!u){if(u=Ds(a),u===null)throw Error(n(188));return u!==a?null:a}for(var m=a,_=u;;){var k=m.return;if(k===null)break;var j=k.alternate;if(j===null){if(_=k.return,_!==null){m=_;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===m)return yc(k),a;if(j===_)return yc(k),u;j=j.sibling}throw Error(n(188))}if(m.return!==_.return)m=k,_=j;else{for(var Z=!1,ge=k.child;ge;){if(ge===m){Z=!0,m=k,_=j;break}if(ge===_){Z=!0,_=k,m=j;break}ge=ge.sibling}if(!Z){for(ge=j.child;ge;){if(ge===m){Z=!0,m=j,_=k;break}if(ge===_){Z=!0,_=j,m=k;break}ge=ge.sibling}if(!Z)throw Error(n(189))}}if(m.alternate!==_)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:u}function vc(a){return a=wf(a),a!==null?bc(a):null}function bc(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=bc(a);if(u!==null)return u;a=a.sibling}return null}var xc=e.unstable_scheduleCallback,au=e.unstable_cancelCallback,_c=e.unstable_shouldYield,Sf=e.unstable_requestPaint,ur=e.unstable_now,Ef=e.unstable_getCurrentPriorityLevel,lu=e.unstable_ImmediatePriority,wc=e.unstable_UserBlockingPriority,Va=e.unstable_NormalPriority,Nf=e.unstable_LowPriority,uu=e.unstable_IdlePriority,Ha=null,Yi=null;function kf(a){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(Ha,a,void 0,(a.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:Tf,If=Math.log,Cf=Math.LN2;function Tf(a){return a>>>=0,a===0?32:31-(If(a)/Cf|0)|0}var jo=64,Qa=4194304;function qi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return a&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return a}}function Ka(a,u){var m=a.pendingLanes;if(m===0)return 0;var _=0,k=a.suspendedLanes,j=a.pingedLanes,Z=m&0xfffffff;if(Z!==0){var ge=Z&~k;ge!==0?_=qi(ge):(j&=Z,j!==0&&(_=qi(j)))}else Z=m&~k,Z!==0?_=qi(Z):j!==0&&(_=qi(j));if(_===0)return 0;if(u!==0&&u!==_&&!(u&k)&&(k=_&-_,j=u&-u,k>=j||k===16&&(j&4194240)!==0))return u;if(_&4&&(_|=m&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=_;0<u;)m=31-hi(u),k=1<<m,_|=a[m],u&=~k;return _}function ux(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function cx(a,u){for(var m=a.suspendedLanes,_=a.pingedLanes,k=a.expirationTimes,j=a.pendingLanes;0<j;){var Z=31-hi(j),ge=1<<Z,Se=k[Z];Se===-1?(!(ge&m)||ge&_)&&(k[Z]=ux(ge,u)):Se<=u&&(a.expiredLanes|=ge),j&=~ge}}function Of(a){return a=a.pendingLanes&-0x40000001,a!==0?a:a&0x40000000?0x40000000:0}function Cm(){var a=jo;return jo<<=1,!(jo&4194240)&&(jo=64),a}function qf(a){for(var u=[],m=0;31>m;m++)u.push(a);return u}function cu(a,u,m){a.pendingLanes|=u,u!==0x20000000&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-hi(u),a[u]=m}function dx(a,u){var m=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var _=a.eventTimes;for(a=a.expirationTimes;0<m;){var k=31-hi(m),j=1<<k;u[k]=0,_[k]=-1,a[k]=-1,m&=~j}}function Rf(a,u){var m=a.entangledLanes|=u;for(a=a.entanglements;m;){var _=31-hi(m),k=1<<_;k&u|a[_]&u&&(a[_]|=u),m&=~k}}var Ln=0;function Tm(a){return a&=-a,1<a?4<a?a&0xfffffff?16:0x20000000:4:1}var jf,he,Af,du,Pf,g=!1,y=[],S=null,N=null,C=null,$=new Map,fe=new Map,me=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tt(a,u){switch(a){case"focusin":case"focusout":S=null;break;case"dragenter":case"dragleave":N=null;break;case"mouseover":case"mouseout":C=null;break;case"pointerover":case"pointerout":$.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(u.pointerId)}}function at(a,u,m,_,k,j){return a===null||a.nativeEvent!==j?(a={blockedOn:u,domEventName:m,eventSystemFlags:_,nativeEvent:j,targetContainers:[k]},u!==null&&(u=Hf(u),u!==null&&he(u)),a):(a.eventSystemFlags|=_,u=a.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),a)}function mt(a,u,m,_,k){switch(u){case"focusin":return S=at(S,a,u,m,_,k),!0;case"dragenter":return N=at(N,a,u,m,_,k),!0;case"mouseover":return C=at(C,a,u,m,_,k),!0;case"pointerover":var j=k.pointerId;return $.set(j,at($.get(j)||null,a,u,m,_,k)),!0;case"gotpointercapture":return j=k.pointerId,fe.set(j,at(fe.get(j)||null,a,u,m,_,k)),!0}return!1}function Be(a){var u=fu(a.target);if(u!==null){var m=Ds(u);if(m!==null){if(u=m.tag,u===13){if(u=gc(m),u!==null){a.blockedOn=u,Pf(a.priority,function(){Af(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Re(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var m=ue(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var _=new m.constructor(m.type,m);io=_,m.target.dispatchEvent(_),io=null}else return u=Hf(m),u!==null&&he(u),a.blockedOn=m,!1;u.shift()}return!0}function et(a,u,m){Re(a)&&m.delete(u)}function be(){g=!1,S!==null&&Re(S)&&(S=null),N!==null&&Re(N)&&(N=null),C!==null&&Re(C)&&(C=null),$.forEach(et),fe.forEach(et)}function Ie(a,u){a.blockedOn===u&&(a.blockedOn=null,g||(g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,be)))}function Te(a){function u(k){return Ie(k,a)}if(0<y.length){Ie(y[0],a);for(var m=1;m<y.length;m++){var _=y[m];_.blockedOn===a&&(_.blockedOn=null)}}for(S!==null&&Ie(S,a),N!==null&&Ie(N,a),C!==null&&Ie(C,a),$.forEach(u),fe.forEach(u),m=0;m<me.length;m++)_=me[m],_.blockedOn===a&&(_.blockedOn=null);for(;0<me.length&&(m=me[0],m.blockedOn===null);)Be(m),m.blockedOn===null&&me.shift()}var Je=A.ReactCurrentBatchConfig,Ge=!0;function Oe(a,u,m,_){var k=Ln,j=Je.transition;Je.transition=null;try{Ln=1,St(a,u,m,_)}finally{Ln=k,Je.transition=j}}function Ke(a,u,m,_){var k=Ln,j=Je.transition;Je.transition=null;try{Ln=4,St(a,u,m,_)}finally{Ln=k,Je.transition=j}}function St(a,u,m,_){if(Ge){var k=ue(a,u,m,_);if(k===null)Nx(a,u,_,Y,m),tt(a,_);else if(mt(k,a,u,m,_))_.stopPropagation();else if(tt(a,_),u&4&&-1<Qe.indexOf(a)){for(;k!==null;){var j=Hf(k);if(j!==null&&jf(j),j=ue(a,u,m,_),j===null&&Nx(a,u,_,Y,m),j===k)break;k=j}k!==null&&_.stopPropagation()}else Nx(a,u,_,null,m)}}var Y=null;function ue(a,u,m,_){if(Y=null,a=aa(_),a=fu(a),a!==null)if(u=Ds(a),u===null)a=null;else if(m=u.tag,m===13){if(a=gc(u),a!==null)return a;a=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Y=a,null}function Ee(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ef()){case lu:return 1;case wc:return 4;case Va:case Nf:return 16;case uu:return 0x20000000;default:return 16}default:return 16}}var st=null,ae=null,pe=null;function Q(){if(pe)return pe;var a,u=ae,m=u.length,_,k="value"in st?st.value:st.textContent,j=k.length;for(a=0;a<m&&u[a]===k[a];a++);var Z=m-a;for(_=1;_<=Z&&u[m-_]===k[j-_];_++);return pe=k.slice(a,1<_?1-_:void 0)}function re(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ie(){return!0}function Le(){return!1}function it(a){function u(m,_,k,j,Z){this._reactName=m,this._targetInst=k,this.type=_,this.nativeEvent=j,this.target=Z,this.currentTarget=null;for(var ge in a)a.hasOwnProperty(ge)&&(m=a[ge],this[ge]=m?m(j):j[ge]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ie:Le,this.isPropagationStopped=Le,this}return oe(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){},isPersistent:ie}),u}var Ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bt=it(Ot),Zt=oe({},Ot,{view:0,detail:0}),lt=it(Zt),we,Pe,ot,pt=oe({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ot&&(ot&&a.type==="mousemove"?(we=a.screenX-ot.screenX,Pe=a.screenY-ot.screenY):Pe=we=0,ot=a),we)},movementY:function(a){return"movementY"in a?a.movementY:Pe}}),Ft=it(pt),Jt=oe({},pt,{dataTransfer:0}),je=it(Jt),nt=oe({},Zt,{relatedTarget:0}),dt=it(nt),Nt=oe({},Ot,{animationName:0,elapsedTime:0,pseudoElement:0}),xt=it(Nt),$t=oe({},Ot,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),hn=it($t),qt=oe({},Ot,{data:0}),Tr=it(qt),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kt(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=_t[a])?!!u[a]:!1}function yn(){return kt}var Hn=oe({},Zt,{key:function(a){if(a.key){var u=We[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=re(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(a){return a.type==="keypress"?re(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?re(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bn=it(Hn),Un=oe({},pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),da=it(Un),oi=oe({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn}),fx=it(oi),px=oe({},Ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ls=it(px),hx=oe({},pt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Om=it(hx),Ff=[9,13,27,32],mx=l&&"CompositionEvent"in window,Df=null;l&&"documentMode"in document&&(Df=document.documentMode);var TM=l&&"TextEvent"in window&&!Df,KN=l&&(!mx||Df&&8<Df&&11>=Df),GN=" ",ZN=!1;function JN(a,u){switch(a){case"keyup":return Ff.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YN(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Sc=!1;function OM(a,u){switch(a){case"compositionend":return YN(u);case"keypress":return u.which!==32?null:(ZN=!0,GN);case"textInput":return a=u.data,a===GN&&ZN?null:a;default:return null}}function qM(a,u){if(Sc)return a==="compositionend"||!mx&&JN(a,u)?(a=Q(),pe=ae=st=null,Sc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return KN&&u.locale!=="ko"?null:u.data;default:return null}}var RM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XN(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!RM[a.type]:u==="textarea"}function ek(a,u,m,_){ln(_),u=Pm(u,"onChange"),0<u.length&&(m=new Bt("onChange","change",null,m,_),a.push({event:m,listeners:u}))}var Lf=null,Mf=null;function jM(a){vk(a,0)}function qm(a){var u=Cc(a);if(Ue(u))return a}function AM(a,u){if(a==="change")return u}var tk=!1;if(l){var gx;if(l){var yx="oninput"in document;if(!yx){var nk=document.createElement("div");nk.setAttribute("oninput","return;"),yx=typeof nk.oninput=="function"}gx=yx}else gx=!1;tk=gx&&(!document.documentMode||9<document.documentMode)}function rk(){Lf&&(Lf.detachEvent("onpropertychange",ik),Mf=Lf=null)}function ik(a){if(a.propertyName==="value"&&qm(Mf)){var u=[];ek(u,Mf,a,aa(a)),la(jM,u)}}function PM(a,u,m){a==="focusin"?(rk(),Lf=u,Mf=m,Lf.attachEvent("onpropertychange",ik)):a==="focusout"&&rk()}function FM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return qm(Mf)}function DM(a,u){if(a==="click")return qm(u)}function LM(a,u){if(a==="input"||a==="change")return qm(u)}function MM(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var so=typeof Object.is=="function"?Object.is:MM;function $f(a,u){if(so(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var m=Object.keys(a),_=Object.keys(u);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var k=m[_];if(!c.call(u,k)||!so(a[k],u[k]))return!1}return!0}function sk(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ok(a,u){var m=sk(a);a=0;for(var _;m;){if(m.nodeType===3){if(_=a+m.textContent.length,a<=u&&_>=u)return{node:m,offset:u-a};a=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=sk(m)}}function ak(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?ak(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function lk(){for(var a=window,u=ut();u instanceof a.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)a=u.contentWindow;else break;u=ut(a.document)}return u}function vx(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function $M(a){var u=lk(),m=a.focusedElem,_=a.selectionRange;if(u!==m&&m&&m.ownerDocument&&ak(m.ownerDocument.documentElement,m)){if(_!==null&&vx(m)){if(u=_.start,a=_.end,a===void 0&&(a=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(a,m.value.length);else if(a=(u=m.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var k=m.textContent.length,j=Math.min(_.start,k);_=_.end===void 0?j:Math.min(_.end,k),!a.extend&&j>_&&(k=_,_=j,j=k),k=ok(m,j);var Z=ok(m,_);k&&Z&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==Z.node||a.focusOffset!==Z.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),a.removeAllRanges(),j>_?(a.addRange(u),a.extend(Z.node,Z.offset)):(u.setEnd(Z.node,Z.offset),a.addRange(u)))}}for(u=[],a=m;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)a=u[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var BM=l&&"documentMode"in document&&11>=document.documentMode,Ec=null,bx=null,Bf=null,xx=!1;function uk(a,u,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;xx||Ec==null||Ec!==ut(_)||(_=Ec,"selectionStart"in _&&vx(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Bf&&$f(Bf,_)||(Bf=_,_=Pm(bx,"onSelect"),0<_.length&&(u=new Bt("onSelect","select",null,u,m),a.push({event:u,listeners:_}),u.target=Ec)))}function Rm(a,u){var m={};return m[a.toLowerCase()]=u.toLowerCase(),m["Webkit"+a]="webkit"+u,m["Moz"+a]="moz"+u,m}var Nc={animationend:Rm("Animation","AnimationEnd"),animationiteration:Rm("Animation","AnimationIteration"),animationstart:Rm("Animation","AnimationStart"),transitionend:Rm("Transition","TransitionEnd")},_x={},ck={};l&&(ck=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);function jm(a){if(_x[a])return _x[a];if(!Nc[a])return a;var u=Nc[a],m;for(m in u)if(u.hasOwnProperty(m)&&m in ck)return _x[a]=u[m];return a}var dk=jm("animationend"),fk=jm("animationiteration"),pk=jm("animationstart"),hk=jm("transitionend"),mk=new Map,gk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(a,u){mk.set(a,u),s(u,[a])}for(var wx=0;wx<gk.length;wx++){var Sx=gk[wx],zM=Sx.toLowerCase(),WM=Sx[0].toUpperCase()+Sx.slice(1);Ga(zM,"on"+WM)}Ga(dk,"onAnimationEnd"),Ga(fk,"onAnimationIteration"),Ga(pk,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(hk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UM=new Set("cancel close invalid load scroll toggle".split(" ").concat(zf));function yk(a,u,m){var _=a.type||"unknown-event";a.currentTarget=m,mc(_,u,void 0,a),a.currentTarget=null}function vk(a,u){u=(u&4)!==0;for(var m=0;m<a.length;m++){var _=a[m],k=_.event;_=_.listeners;e:{var j=void 0;if(u)for(var Z=_.length-1;0<=Z;Z--){var ge=_[Z],Se=ge.instance,He=ge.currentTarget;if(ge=ge.listener,Se!==j&&k.isPropagationStopped())break e;yk(k,ge,He),j=Se}else for(Z=0;Z<_.length;Z++){if(ge=_[Z],Se=ge.instance,He=ge.currentTarget,ge=ge.listener,Se!==j&&k.isPropagationStopped())break e;yk(k,ge,He),j=Se}}}if(Ua)throw a=Fs,Ua=!1,Fs=null,a}function cr(a,u){var m=u[qx];m===void 0&&(m=u[qx]=new Set);var _=a+"__bubble";m.has(_)||(bk(u,a,2,!1),m.add(_))}function Ex(a,u,m){var _=0;u&&(_|=4),bk(m,a,_,u)}var Am="_reactListening"+Math.random().toString(36).slice(2);function Wf(a){if(!a[Am]){a[Am]=!0,r.forEach(function(m){m!=="selectionchange"&&(UM.has(m)||Ex(m,!1,a),Ex(m,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Am]||(u[Am]=!0,Ex("selectionchange",!1,u))}}function bk(a,u,m,_){switch(Ee(u)){case 1:var k=Oe;break;case 4:k=Ke;break;default:k=St}m=k.bind(null,u,m,a),k=void 0,!ou||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),_?k!==void 0?a.addEventListener(u,m,{capture:!0,passive:k}):a.addEventListener(u,m,!0):k!==void 0?a.addEventListener(u,m,{passive:k}):a.addEventListener(u,m,!1)}function Nx(a,u,m,_,k){var j=_;if(!(u&1)&&!(u&2)&&_!==null)e:for(;;){if(_===null)return;var Z=_.tag;if(Z===3||Z===4){var ge=_.stateNode.containerInfo;if(ge===k||ge.nodeType===8&&ge.parentNode===k)break;if(Z===4)for(Z=_.return;Z!==null;){var Se=Z.tag;if((Se===3||Se===4)&&(Se=Z.stateNode.containerInfo,Se===k||Se.nodeType===8&&Se.parentNode===k))return;Z=Z.return}for(;ge!==null;){if(Z=fu(ge),Z===null)return;if(Se=Z.tag,Se===5||Se===6){_=j=Z;continue e}ge=ge.parentNode}}_=_.return}la(function(){var He=j,ht=aa(m),gt=[];e:{var ft=mk.get(a);if(ft!==void 0){var jt=Bt,Mt=a;switch(a){case"keypress":if(re(m)===0)break e;case"keydown":case"keyup":jt=Bn;break;case"focusin":Mt="focus",jt=dt;break;case"focusout":Mt="blur",jt=dt;break;case"beforeblur":case"afterblur":jt=dt;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jt=Ft;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jt=je;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jt=fx;break;case dk:case fk:case pk:jt=xt;break;case hk:jt=Ls;break;case"scroll":jt=lt;break;case"wheel":jt=Om;break;case"copy":case"cut":case"paste":jt=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jt=da}var zt=(u&4)!==0,Mr=!zt&&a==="scroll",Fe=zt?ft!==null?ft+"Capture":null:ft;zt=[];for(var Ce=He,$e;Ce!==null;){$e=Ce;var bt=$e.stateNode;if($e.tag===5&&bt!==null&&($e=bt,Fe!==null&&(bt=Ji(Ce,Fe),bt!=null&&zt.push(Uf(Ce,bt,$e)))),Mr)break;Ce=Ce.return}0<zt.length&&(ft=new jt(ft,Mt,null,m,ht),gt.push({event:ft,listeners:zt}))}}if(!(u&7)){e:{if(ft=a==="mouseover"||a==="pointerover",jt=a==="mouseout"||a==="pointerout",ft&&m!==io&&(Mt=m.relatedTarget||m.fromElement)&&(fu(Mt)||Mt[fa]))break e;if((jt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,jt?(Mt=m.relatedTarget||m.toElement,jt=He,Mt=Mt?fu(Mt):null,Mt!==null&&(Mr=Ds(Mt),Mt!==Mr||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(jt=null,Mt=He),jt!==Mt)){if(zt=Ft,bt="onMouseLeave",Fe="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(zt=da,bt="onPointerLeave",Fe="onPointerEnter",Ce="pointer"),Mr=jt==null?ft:Cc(jt),$e=Mt==null?ft:Cc(Mt),ft=new zt(bt,Ce+"leave",jt,m,ht),ft.target=Mr,ft.relatedTarget=$e,bt=null,fu(ht)===He&&(zt=new zt(Fe,Ce+"enter",Mt,m,ht),zt.target=$e,zt.relatedTarget=Mr,bt=zt),Mr=bt,jt&&Mt)t:{for(zt=jt,Fe=Mt,Ce=0,$e=zt;$e;$e=kc($e))Ce++;for($e=0,bt=Fe;bt;bt=kc(bt))$e++;for(;0<Ce-$e;)zt=kc(zt),Ce--;for(;0<$e-Ce;)Fe=kc(Fe),$e--;for(;Ce--;){if(zt===Fe||Fe!==null&&zt===Fe.alternate)break t;zt=kc(zt),Fe=kc(Fe)}zt=null}else zt=null;jt!==null&&xk(gt,ft,jt,zt,!1),Mt!==null&&Mr!==null&&xk(gt,Mr,Mt,zt,!0)}}e:{if(ft=He?Cc(He):window,jt=ft.nodeName&&ft.nodeName.toLowerCase(),jt==="select"||jt==="input"&&ft.type==="file")var Ut=AM;else if(XN(ft))if(tk)Ut=LM;else{Ut=FM;var Yt=PM}else(jt=ft.nodeName)&&jt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Ut=DM);if(Ut&&(Ut=Ut(a,He))){ek(gt,Ut,m,ht);break e}Yt&&Yt(a,ft,He),a==="focusout"&&(Yt=ft._wrapperState)&&Yt.controlled&&ft.type==="number"&&ve(ft,"number",ft.value)}switch(Yt=He?Cc(He):window,a){case"focusin":(XN(Yt)||Yt.contentEditable==="true")&&(Ec=Yt,bx=He,Bf=null);break;case"focusout":Bf=bx=Ec=null;break;case"mousedown":xx=!0;break;case"contextmenu":case"mouseup":case"dragend":xx=!1,uk(gt,m,ht);break;case"selectionchange":if(BM)break;case"keydown":case"keyup":uk(gt,m,ht)}var Xt;if(mx)e:{switch(a){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else Sc?JN(a,m)&&(on="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(on="onCompositionStart");on&&(KN&&m.locale!=="ko"&&(Sc||on!=="onCompositionStart"?on==="onCompositionEnd"&&Sc&&(Xt=Q()):(st=ht,ae="value"in st?st.value:st.textContent,Sc=!0)),Yt=Pm(He,on),0<Yt.length&&(on=new Tr(on,a,null,m,ht),gt.push({event:on,listeners:Yt}),Xt?on.data=Xt:(Xt=YN(m),Xt!==null&&(on.data=Xt)))),(Xt=TM?OM(a,m):qM(a,m))&&(He=Pm(He,"onBeforeInput"),0<He.length&&(ht=new Tr("onBeforeInput","beforeinput",null,m,ht),gt.push({event:ht,listeners:He}),ht.data=Xt))}vk(gt,u)})}function Uf(a,u,m){return{instance:a,listener:u,currentTarget:m}}function Pm(a,u){for(var m=u+"Capture",_=[];a!==null;){var k=a,j=k.stateNode;k.tag===5&&j!==null&&(k=j,j=Ji(a,m),j!=null&&_.unshift(Uf(a,j,k)),j=Ji(a,u),j!=null&&_.push(Uf(a,j,k))),a=a.return}return _}function kc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function xk(a,u,m,_,k){for(var j=u._reactName,Z=[];m!==null&&m!==_;){var ge=m,Se=ge.alternate,He=ge.stateNode;if(Se!==null&&Se===_)break;ge.tag===5&&He!==null&&(ge=He,k?(Se=Ji(m,j),Se!=null&&Z.unshift(Uf(m,Se,ge))):k||(Se=Ji(m,j),Se!=null&&Z.push(Uf(m,Se,ge)))),m=m.return}Z.length!==0&&a.push({event:u,listeners:Z})}var VM=/\r\n?/g,HM=/\u0000|\uFFFD/g;function _k(a){return(typeof a=="string"?a:""+a).replace(VM,`
`).replace(HM,"")}function Fm(a,u,m){if(u=_k(u),_k(a)!==u&&m)throw Error(n(425))}function Dm(){}var kx=null,Ix=null;function Cx(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Tx=typeof setTimeout=="function"?setTimeout:void 0,QM=typeof clearTimeout=="function"?clearTimeout:void 0,wk=typeof Promise=="function"?Promise:void 0,KM=typeof queueMicrotask=="function"?queueMicrotask:typeof wk<"u"?function(a){return wk.resolve(null).then(a).catch(GM)}:Tx;function GM(a){setTimeout(function(){throw a})}function Ox(a,u){var m=u,_=0;do{var k=m.nextSibling;if(a.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(_===0){a.removeChild(k),Te(u);return}_--}else m!=="$"&&m!=="$?"&&m!=="$!"||_++;m=k}while(m);Te(u)}function Za(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function Sk(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return a;u--}else m==="/$"&&u++}a=a.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),Ao="__reactFiber$"+Ic,Vf="__reactProps$"+Ic,fa="__reactContainer$"+Ic,qx="__reactEvents$"+Ic,ZM="__reactListeners$"+Ic,JM="__reactHandles$"+Ic;function fu(a){var u=a[Ao];if(u)return u;for(var m=a.parentNode;m;){if(u=m[fa]||m[Ao]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(a=Sk(a);a!==null;){if(m=a[Ao])return m;a=Sk(a)}return u}a=m,m=a.parentNode}return null}function Hf(a){return a=a[Ao]||a[fa],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Cc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Lm(a){return a[Vf]||null}var Rx=[],Tc=-1;function Ja(a){return{current:a}}function dr(a){0>Tc||(a.current=Rx[Tc],Rx[Tc]=null,Tc--)}function rr(a,u){Tc++,Rx[Tc]=a.current,a.current=u}var Ya={},mi=Ja(Ya),Xi=Ja(!1),pu=Ya;function Oc(a,u){var m=a.type.contextTypes;if(!m)return Ya;var _=a.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var k={},j;for(j in m)k[j]=u[j];return _&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=k),k}function es(a){return a=a.childContextTypes,a!=null}function Mm(){dr(Xi),dr(mi)}function Ek(a,u,m){if(mi.current!==Ya)throw Error(n(168));rr(mi,u),rr(Xi,m)}function Nk(a,u,m){var _=a.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return m;_=_.getChildContext();for(var k in _)if(!(k in u))throw Error(n(108,ze(a)||"Unknown",k));return oe({},m,_)}function $m(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ya,pu=mi.current,rr(mi,a),rr(Xi,Xi.current),!0}function kk(a,u,m){var _=a.stateNode;if(!_)throw Error(n(169));m?(a=Nk(a,u,pu),_.__reactInternalMemoizedMergedChildContext=a,dr(Xi),dr(mi),rr(mi,a)):dr(Xi),rr(Xi,m)}var pa=null,Bm=!1,jx=!1;function Ik(a){pa===null?pa=[a]:pa.push(a)}function YM(a){Bm=!0,Ik(a)}function Xa(){if(!jx&&pa!==null){jx=!0;var a=0,u=Ln;try{var m=pa;for(Ln=1;a<m.length;a++){var _=m[a];do _=_(!0);while(_!==null)}pa=null,Bm=!1}catch(k){throw pa!==null&&(pa=pa.slice(a+1)),xc(lu,Xa),k}finally{Ln=u,jx=!1}}return null}var qc=[],Rc=0,zm=null,Wm=0,Ms=[],$s=0,hu=null,ha=1,ma="";function mu(a,u){qc[Rc++]=Wm,qc[Rc++]=zm,zm=a,Wm=u}function Ck(a,u,m){Ms[$s++]=ha,Ms[$s++]=ma,Ms[$s++]=hu,hu=a;var _=ha;a=ma;var k=32-hi(_)-1;_&=~(1<<k),m+=1;var j=32-hi(u)+k;if(30<j){var Z=k-k%5;j=(_&(1<<Z)-1).toString(32),_>>=Z,k-=Z,ha=1<<32-hi(u)+k|m<<k|_,ma=j+a}else ha=1<<j|m<<k|_,ma=a}function Ax(a){a.return!==null&&(mu(a,1),Ck(a,1,0))}function Px(a){for(;a===zm;)zm=qc[--Rc],qc[Rc]=null,Wm=qc[--Rc],qc[Rc]=null;for(;a===hu;)hu=Ms[--$s],Ms[$s]=null,ma=Ms[--$s],Ms[$s]=null,ha=Ms[--$s],Ms[$s]=null}var gs=null,ys=null,mr=!1,oo=null;function Tk(a,u){var m=Us(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=a,u=a.deletions,u===null?(a.deletions=[m],a.flags|=16):u.push(m)}function Ok(a,u){switch(a.tag){case 5:var m=a.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,gs=a,ys=Za(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,gs=a,ys=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=hu!==null?{id:ha,overflow:ma}:null,a.memoizedState={dehydrated:u,treeContext:m,retryLane:0x40000000},m=Us(18,null,null,0),m.stateNode=u,m.return=a,a.child=m,gs=a,ys=null,!0):!1;default:return!1}}function Fx(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Dx(a){if(mr){var u=ys;if(u){var m=u;if(!Ok(a,u)){if(Fx(a))throw Error(n(418));u=Za(m.nextSibling);var _=gs;u&&Ok(a,u)?Tk(_,m):(a.flags=a.flags&-4097|2,mr=!1,gs=a)}}else{if(Fx(a))throw Error(n(418));a.flags=a.flags&-4097|2,mr=!1,gs=a}}}function qk(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;gs=a}function Um(a){if(a!==gs)return!1;if(!mr)return qk(a),mr=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Cx(a.type,a.memoizedProps)),u&&(u=ys)){if(Fx(a))throw Rk(),Error(n(418));for(;u;)Tk(a,u),u=Za(u.nextSibling)}if(qk(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(u===0){ys=Za(a.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}a=a.nextSibling}ys=null}}else ys=gs?Za(a.stateNode.nextSibling):null;return!0}function Rk(){for(var a=ys;a;)a=Za(a.nextSibling)}function jc(){ys=gs=null,mr=!1}function Lx(a){oo===null?oo=[a]:oo.push(a)}var XM=A.ReactCurrentBatchConfig;function Qf(a,u,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var _=m.stateNode}if(!_)throw Error(n(147,a));var k=_,j=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===j?u.ref:(u=function(Z){var ge=k.refs;Z===null?delete ge[j]:ge[j]=Z},u._stringRef=j,u)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function Vm(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function jk(a){var u=a._init;return u(a._payload)}function Ak(a){function u(Fe,Ce){if(a){var $e=Fe.deletions;$e===null?(Fe.deletions=[Ce],Fe.flags|=16):$e.push(Ce)}}function m(Fe,Ce){if(!a)return null;for(;Ce!==null;)u(Fe,Ce),Ce=Ce.sibling;return null}function _(Fe,Ce){for(Fe=new Map;Ce!==null;)Ce.key!==null?Fe.set(Ce.key,Ce):Fe.set(Ce.index,Ce),Ce=Ce.sibling;return Fe}function k(Fe,Ce){return Fe=al(Fe,Ce),Fe.index=0,Fe.sibling=null,Fe}function j(Fe,Ce,$e){return Fe.index=$e,a?($e=Fe.alternate,$e!==null?($e=$e.index,$e<Ce?(Fe.flags|=2,Ce):$e):(Fe.flags|=2,Ce)):(Fe.flags|=1048576,Ce)}function Z(Fe){return a&&Fe.alternate===null&&(Fe.flags|=2),Fe}function ge(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==6?(Ce=T_($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function Se(Fe,Ce,$e,bt){var Ut=$e.type;return Ut===z?ht(Fe,Ce,$e.props.children,bt,$e.key):Ce!==null&&(Ce.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===J&&jk(Ut)===Ce.type)?(bt=k(Ce,$e.props),bt.ref=Qf(Fe,Ce,$e),bt.return=Fe,bt):(bt=mg($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Qf(Fe,Ce,$e),bt.return=Fe,bt)}function He(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==$e.containerInfo||Ce.stateNode.implementation!==$e.implementation?(Ce=O_($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e.children||[]),Ce.return=Fe,Ce)}function ht(Fe,Ce,$e,bt,Ut){return Ce===null||Ce.tag!==7?(Ce=Su($e,Fe.mode,bt,Ut),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function gt(Fe,Ce,$e){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=T_(""+Ce,Fe.mode,$e),Ce.return=Fe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return $e=mg(Ce.type,Ce.key,Ce.props,null,Fe.mode,$e),$e.ref=Qf(Fe,null,Ce),$e.return=Fe,$e;case L:return Ce=O_(Ce,Fe.mode,$e),Ce.return=Fe,Ce;case J:var bt=Ce._init;return gt(Fe,bt(Ce._payload),$e)}if(ke(Ce)||ne(Ce))return Ce=Su(Ce,Fe.mode,$e,null),Ce.return=Fe,Ce;Vm(Fe,Ce)}return null}function ft(Fe,Ce,$e,bt){var Ut=Ce!==null?Ce.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Ut!==null?null:ge(Fe,Ce,""+$e,bt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return $e.key===Ut?Se(Fe,Ce,$e,bt):null;case L:return $e.key===Ut?He(Fe,Ce,$e,bt):null;case J:return Ut=$e._init,ft(Fe,Ce,Ut($e._payload),bt)}if(ke($e)||ne($e))return Ut!==null?null:ht(Fe,Ce,$e,bt,null);Vm(Fe,$e)}return null}function jt(Fe,Ce,$e,bt,Ut){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Fe=Fe.get($e)||null,ge(Ce,Fe,""+bt,Ut);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case D:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,Se(Ce,Fe,bt,Ut);case L:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,He(Ce,Fe,bt,Ut);case J:var Yt=bt._init;return jt(Fe,Ce,$e,Yt(bt._payload),Ut)}if(ke(bt)||ne(bt))return Fe=Fe.get($e)||null,ht(Ce,Fe,bt,Ut,null);Vm(Ce,bt)}return null}function Mt(Fe,Ce,$e,bt){for(var Ut=null,Yt=null,Xt=Ce,on=Ce=0,ii=null;Xt!==null&&on<$e.length;on++){Xt.index>on?(ii=Xt,Xt=null):ii=Xt.sibling;var An=ft(Fe,Xt,$e[on],bt);if(An===null){Xt===null&&(Xt=ii);break}a&&Xt&&An.alternate===null&&u(Fe,Xt),Ce=j(An,Ce,on),Yt===null?Ut=An:Yt.sibling=An,Yt=An,Xt=ii}if(on===$e.length)return m(Fe,Xt),mr&&mu(Fe,on),Ut;if(Xt===null){for(;on<$e.length;on++)Xt=gt(Fe,$e[on],bt),Xt!==null&&(Ce=j(Xt,Ce,on),Yt===null?Ut=Xt:Yt.sibling=Xt,Yt=Xt);return mr&&mu(Fe,on),Ut}for(Xt=_(Fe,Xt);on<$e.length;on++)ii=jt(Xt,Fe,on,$e[on],bt),ii!==null&&(a&&ii.alternate!==null&&Xt.delete(ii.key===null?on:ii.key),Ce=j(ii,Ce,on),Yt===null?Ut=ii:Yt.sibling=ii,Yt=ii);return a&&Xt.forEach(function(ll){return u(Fe,ll)}),mr&&mu(Fe,on),Ut}function zt(Fe,Ce,$e,bt){var Ut=ne($e);if(typeof Ut!="function")throw Error(n(150));if($e=Ut.call($e),$e==null)throw Error(n(151));for(var Yt=Ut=null,Xt=Ce,on=Ce=0,ii=null,An=$e.next();Xt!==null&&!An.done;on++,An=$e.next()){Xt.index>on?(ii=Xt,Xt=null):ii=Xt.sibling;var ll=ft(Fe,Xt,An.value,bt);if(ll===null){Xt===null&&(Xt=ii);break}a&&Xt&&ll.alternate===null&&u(Fe,Xt),Ce=j(ll,Ce,on),Yt===null?Ut=ll:Yt.sibling=ll,Yt=ll,Xt=ii}if(An.done)return m(Fe,Xt),mr&&mu(Fe,on),Ut;if(Xt===null){for(;!An.done;on++,An=$e.next())An=gt(Fe,An.value,bt),An!==null&&(Ce=j(An,Ce,on),Yt===null?Ut=An:Yt.sibling=An,Yt=An);return mr&&mu(Fe,on),Ut}for(Xt=_(Fe,Xt);!An.done;on++,An=$e.next())An=jt(Xt,Fe,on,An.value,bt),An!==null&&(a&&An.alternate!==null&&Xt.delete(An.key===null?on:An.key),Ce=j(An,Ce,on),Yt===null?Ut=An:Yt.sibling=An,Yt=An);return a&&Xt.forEach(function(q$){return u(Fe,q$)}),mr&&mu(Fe,on),Ut}function Mr(Fe,Ce,$e,bt){if(typeof $e=="object"&&$e!==null&&$e.type===z&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:e:{for(var Ut=$e.key,Yt=Ce;Yt!==null;){if(Yt.key===Ut){if(Ut=$e.type,Ut===z){if(Yt.tag===7){m(Fe,Yt.sibling),Ce=k(Yt,$e.props.children),Ce.return=Fe,Fe=Ce;break e}}else if(Yt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===J&&jk(Ut)===Yt.type){m(Fe,Yt.sibling),Ce=k(Yt,$e.props),Ce.ref=Qf(Fe,Yt,$e),Ce.return=Fe,Fe=Ce;break e}m(Fe,Yt);break}else u(Fe,Yt);Yt=Yt.sibling}$e.type===z?(Ce=Su($e.props.children,Fe.mode,bt,$e.key),Ce.return=Fe,Fe=Ce):(bt=mg($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Qf(Fe,Ce,$e),bt.return=Fe,Fe=bt)}return Z(Fe);case L:e:{for(Yt=$e.key;Ce!==null;){if(Ce.key===Yt)if(Ce.tag===4&&Ce.stateNode.containerInfo===$e.containerInfo&&Ce.stateNode.implementation===$e.implementation){m(Fe,Ce.sibling),Ce=k(Ce,$e.children||[]),Ce.return=Fe,Fe=Ce;break e}else{m(Fe,Ce);break}else u(Fe,Ce);Ce=Ce.sibling}Ce=O_($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce}return Z(Fe);case J:return Yt=$e._init,Mr(Fe,Ce,Yt($e._payload),bt)}if(ke($e))return Mt(Fe,Ce,$e,bt);if(ne($e))return zt(Fe,Ce,$e,bt);Vm(Fe,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ce!==null&&Ce.tag===6?(m(Fe,Ce.sibling),Ce=k(Ce,$e),Ce.return=Fe,Fe=Ce):(m(Fe,Ce),Ce=T_($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce),Z(Fe)):m(Fe,Ce)}return Mr}var Ac=Ak(!0),Pk=Ak(!1),Hm=Ja(null),Qm=null,Pc=null,Mx=null;function $x(){Mx=Pc=Qm=null}function Bx(a){var u=Hm.current;dr(Hm),a._currentValue=u}function zx(a,u,m){for(;a!==null;){var _=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),a===m)break;a=a.return}}function Fc(a,u){Qm=a,Mx=Pc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(ts=!0),a.firstContext=null)}function Bs(a){var u=a._currentValue;if(Mx!==a)if(a={context:a,memoizedValue:u,next:null},Pc===null){if(Qm===null)throw Error(n(308));Pc=a,Qm.dependencies={lanes:0,firstContext:a}}else Pc=Pc.next=a;return u}var gu=null;function Wx(a){gu===null?gu=[a]:gu.push(a)}function Fk(a,u,m,_){var k=u.interleaved;return k===null?(m.next=m,Wx(u)):(m.next=k.next,k.next=m),u.interleaved=m,ga(a,_)}function ga(a,u){a.lanes|=u;var m=a.alternate;for(m!==null&&(m.lanes|=u),m=a,a=a.return;a!==null;)a.childLanes|=u,m=a.alternate,m!==null&&(m.childLanes|=u),m=a,a=a.return;return m.tag===3?m.stateNode:null}var el=!1;function Ux(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dk(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ya(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function tl(a,u,m){var _=a.updateQueue;if(_===null)return null;if(_=_.shared,qn&2){var k=_.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),_.pending=u,ga(a,m)}return k=_.interleaved,k===null?(u.next=u,Wx(_)):(u.next=k.next,k.next=u),_.interleaved=u,ga(a,m)}function Km(a,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var _=u.lanes;_&=a.pendingLanes,m|=_,u.lanes=m,Rf(a,m)}}function Lk(a,u){var m=a.updateQueue,_=a.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var k=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var Z={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?k=j=Z:j=j.next=Z,m=m.next}while(m!==null);j===null?k=j=u:j=j.next=u}else k=j=u;m={baseState:_.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:_.shared,effects:_.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=u}function Gm(a,u,m,_){var k=a.updateQueue;el=!1;var j=k.firstBaseUpdate,Z=k.lastBaseUpdate,ge=k.shared.pending;if(ge!==null){k.shared.pending=null;var Se=ge,He=Se.next;Se.next=null,Z===null?j=He:Z.next=He,Z=Se;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,ge=ht.lastBaseUpdate,ge!==Z&&(ge===null?ht.firstBaseUpdate=He:ge.next=He,ht.lastBaseUpdate=Se))}if(j!==null){var gt=k.baseState;Z=0,ht=He=Se=null,ge=j;do{var ft=ge.lane,jt=ge.eventTime;if((_&ft)===ft){ht!==null&&(ht=ht.next={eventTime:jt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Mt=a,zt=ge;switch(ft=u,jt=m,zt.tag){case 1:if(Mt=zt.payload,typeof Mt=="function"){gt=Mt.call(jt,gt,ft);break e}gt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=zt.payload,ft=typeof Mt=="function"?Mt.call(jt,gt,ft):Mt,ft==null)break e;gt=oe({},gt,ft);break e;case 2:el=!0}}ge.callback!==null&&ge.lane!==0&&(a.flags|=64,ft=k.effects,ft===null?k.effects=[ge]:ft.push(ge))}else jt={eventTime:jt,lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ht===null?(He=ht=jt,Se=gt):ht=ht.next=jt,Z|=ft;if(ge=ge.next,ge===null){if(ge=k.shared.pending,ge===null)break;ft=ge,ge=ft.next,ft.next=null,k.lastBaseUpdate=ft,k.shared.pending=null}}while(!0);if(ht===null&&(Se=gt),k.baseState=Se,k.firstBaseUpdate=He,k.lastBaseUpdate=ht,u=k.shared.interleaved,u!==null){k=u;do Z|=k.lane,k=k.next;while(k!==u)}else j===null&&(k.shared.lanes=0);bu|=Z,a.lanes=Z,a.memoizedState=gt}}function Mk(a,u,m){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var _=a[u],k=_.callback;if(k!==null){if(_.callback=null,_=m,typeof k!="function")throw Error(n(191,k));k.call(_)}}}var Kf={},Po=Ja(Kf),Gf=Ja(Kf),Zf=Ja(Kf);function yu(a){if(a===Kf)throw Error(n(174));return a}function Vx(a,u){switch(rr(Zf,u),rr(Gf,a),rr(Po,Kf),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Qt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Qt(u,a)}dr(Po),rr(Po,u)}function Dc(){dr(Po),dr(Gf),dr(Zf)}function $k(a){yu(Zf.current);var u=yu(Po.current),m=Qt(u,a.type);u!==m&&(rr(Gf,a),rr(Po,m))}function Hx(a){Gf.current===a&&(dr(Po),dr(Gf))}var Or=Ja(0);function Zm(a){for(var u=a;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Qx=[];function Kx(){for(var a=0;a<Qx.length;a++)Qx[a]._workInProgressVersionPrimary=null;Qx.length=0}var Jm=A.ReactCurrentDispatcher,Gx=A.ReactCurrentBatchConfig,vu=0,qr=null,Xr=null,ni=null,Ym=!1,Jf=!1,Yf=0,e$=0;function gi(){throw Error(n(321))}function Zx(a,u){if(u===null)return!1;for(var m=0;m<u.length&&m<a.length;m++)if(!so(a[m],u[m]))return!1;return!0}function Jx(a,u,m,_,k,j){if(vu=j,qr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Jm.current=a===null||a.memoizedState===null?i$:s$,a=m(_,k),Jf){j=0;do{if(Jf=!1,Yf=0,25<=j)throw Error(n(301));j+=1,ni=Xr=null,u.updateQueue=null,Jm.current=o$,a=m(_,k)}while(Jf)}if(Jm.current=tg,u=Xr!==null&&Xr.next!==null,vu=0,ni=Xr=qr=null,Ym=!1,u)throw Error(n(300));return a}function Yx(){var a=Yf!==0;return Yf=0,a}function Fo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?qr.memoizedState=ni=a:ni=ni.next=a,ni}function zs(){if(Xr===null){var a=qr.alternate;a=a!==null?a.memoizedState:null}else a=Xr.next;var u=ni===null?qr.memoizedState:ni.next;if(u!==null)ni=u,Xr=a;else{if(a===null)throw Error(n(310));Xr=a,a={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},ni===null?qr.memoizedState=ni=a:ni=ni.next=a}return ni}function Xf(a,u){return typeof u=="function"?u(a):u}function Xx(a){var u=zs(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var _=Xr,k=_.baseQueue,j=m.pending;if(j!==null){if(k!==null){var Z=k.next;k.next=j.next,j.next=Z}_.baseQueue=k=j,m.pending=null}if(k!==null){j=k.next,_=_.baseState;var ge=Z=null,Se=null,He=j;do{var ht=He.lane;if((vu&ht)===ht)Se!==null&&(Se=Se.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),_=He.hasEagerState?He.eagerState:a(_,He.action);else{var gt={lane:ht,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Se===null?(ge=Se=gt,Z=_):Se=Se.next=gt,qr.lanes|=ht,bu|=ht}He=He.next}while(He!==null&&He!==j);Se===null?Z=_:Se.next=ge,so(_,u.memoizedState)||(ts=!0),u.memoizedState=_,u.baseState=Z,u.baseQueue=Se,m.lastRenderedState=_}if(a=m.interleaved,a!==null){k=a;do j=k.lane,qr.lanes|=j,bu|=j,k=k.next;while(k!==a)}else k===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function e_(a){var u=zs(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var _=m.dispatch,k=m.pending,j=u.memoizedState;if(k!==null){m.pending=null;var Z=k=k.next;do j=a(j,Z.action),Z=Z.next;while(Z!==k);so(j,u.memoizedState)||(ts=!0),u.memoizedState=j,u.baseQueue===null&&(u.baseState=j),m.lastRenderedState=j}return[j,_]}function Bk(){}function zk(a,u){var m=qr,_=zs(),k=u(),j=!so(_.memoizedState,k);if(j&&(_.memoizedState=k,ts=!0),_=_.queue,t_(Vk.bind(null,m,_,a),[a]),_.getSnapshot!==u||j||ni!==null&&ni.memoizedState.tag&1){if(m.flags|=2048,ep(9,Uk.bind(null,m,_,k,u),void 0,null),ri===null)throw Error(n(349));vu&30||Wk(m,u,k)}return k}function Wk(a,u,m){a.flags|=16384,a={getSnapshot:u,value:m},u=qr.updateQueue,u===null?(u={lastEffect:null,stores:null},qr.updateQueue=u,u.stores=[a]):(m=u.stores,m===null?u.stores=[a]:m.push(a))}function Uk(a,u,m,_){u.value=m,u.getSnapshot=_,Hk(u)&&Qk(a)}function Vk(a,u,m){return m(function(){Hk(u)&&Qk(a)})}function Hk(a){var u=a.getSnapshot;a=a.value;try{var m=u();return!so(a,m)}catch{return!0}}function Qk(a){var u=ga(a,1);u!==null&&co(u,a,1,-1)}function Kk(a){var u=Fo();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:a},u.queue=a,a=a.dispatch=r$.bind(null,qr,a),[u.memoizedState,a]}function ep(a,u,m,_){return a={tag:a,create:u,destroy:m,deps:_,next:null},u=qr.updateQueue,u===null?(u={lastEffect:null,stores:null},qr.updateQueue=u,u.lastEffect=a.next=a):(m=u.lastEffect,m===null?u.lastEffect=a.next=a:(_=m.next,m.next=a,a.next=_,u.lastEffect=a)),a}function Gk(){return zs().memoizedState}function Xm(a,u,m,_){var k=Fo();qr.flags|=a,k.memoizedState=ep(1|u,m,void 0,_===void 0?null:_)}function eg(a,u,m,_){var k=zs();_=_===void 0?null:_;var j=void 0;if(Xr!==null){var Z=Xr.memoizedState;if(j=Z.destroy,_!==null&&Zx(_,Z.deps)){k.memoizedState=ep(u,m,j,_);return}}qr.flags|=a,k.memoizedState=ep(1|u,m,j,_)}function Zk(a,u){return Xm(8390656,8,a,u)}function t_(a,u){return eg(2048,8,a,u)}function Jk(a,u){return eg(4,2,a,u)}function Yk(a,u){return eg(4,4,a,u)}function Xk(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function eI(a,u,m){return m=m!=null?m.concat([a]):null,eg(4,4,Xk.bind(null,u,a),m)}function n_(){}function tI(a,u){var m=zs();u=u===void 0?null:u;var _=m.memoizedState;return _!==null&&u!==null&&Zx(u,_[1])?_[0]:(m.memoizedState=[a,u],a)}function nI(a,u){var m=zs();u=u===void 0?null:u;var _=m.memoizedState;return _!==null&&u!==null&&Zx(u,_[1])?_[0]:(a=a(),m.memoizedState=[a,u],a)}function rI(a,u,m){return vu&21?(so(m,u)||(m=Cm(),qr.lanes|=m,bu|=m,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,ts=!0),a.memoizedState=m)}function t$(a,u){var m=Ln;Ln=m!==0&&4>m?m:4,a(!0);var _=Gx.transition;Gx.transition={};try{a(!1),u()}finally{Ln=m,Gx.transition=_}}function iI(){return zs().memoizedState}function n$(a,u,m){var _=sl(a);if(m={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null},sI(a))oI(u,m);else if(m=Fk(a,u,m,_),m!==null){var k=ji();co(m,a,_,k),aI(m,u,_)}}function r$(a,u,m){var _=sl(a),k={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null};if(sI(a))oI(u,k);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=u.lastRenderedReducer,j!==null))try{var Z=u.lastRenderedState,ge=j(Z,m);if(k.hasEagerState=!0,k.eagerState=ge,so(ge,Z)){var Se=u.interleaved;Se===null?(k.next=k,Wx(u)):(k.next=Se.next,Se.next=k),u.interleaved=k;return}}catch{}finally{}m=Fk(a,u,k,_),m!==null&&(k=ji(),co(m,a,_,k),aI(m,u,_))}}function sI(a){var u=a.alternate;return a===qr||u!==null&&u===qr}function oI(a,u){Jf=Ym=!0;var m=a.pending;m===null?u.next=u:(u.next=m.next,m.next=u),a.pending=u}function aI(a,u,m){if(m&4194240){var _=u.lanes;_&=a.pendingLanes,m|=_,u.lanes=m,Rf(a,m)}}var tg={readContext:Bs,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},i$={readContext:Bs,useCallback:function(a,u){return Fo().memoizedState=[a,u===void 0?null:u],a},useContext:Bs,useEffect:Zk,useImperativeHandle:function(a,u,m){return m=m!=null?m.concat([a]):null,Xm(4194308,4,Xk.bind(null,u,a),m)},useLayoutEffect:function(a,u){return Xm(4194308,4,a,u)},useInsertionEffect:function(a,u){return Xm(4,2,a,u)},useMemo:function(a,u){var m=Fo();return u=u===void 0?null:u,a=a(),m.memoizedState=[a,u],a},useReducer:function(a,u,m){var _=Fo();return u=m!==void 0?m(u):u,_.memoizedState=_.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},_.queue=a,a=a.dispatch=n$.bind(null,qr,a),[_.memoizedState,a]},useRef:function(a){var u=Fo();return a={current:a},u.memoizedState=a},useState:Kk,useDebugValue:n_,useDeferredValue:function(a){return Fo().memoizedState=a},useTransition:function(){var a=Kk(!1),u=a[0];return a=t$.bind(null,a[1]),Fo().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,m){var _=qr,k=Fo();if(mr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),ri===null)throw Error(n(349));vu&30||Wk(_,u,m)}k.memoizedState=m;var j={value:m,getSnapshot:u};return k.queue=j,Zk(Vk.bind(null,_,j,a),[a]),_.flags|=2048,ep(9,Uk.bind(null,_,j,m,u),void 0,null),m},useId:function(){var a=Fo(),u=ri.identifierPrefix;if(mr){var m=ma,_=ha;m=(_&~(1<<32-hi(_)-1)).toString(32)+m,u=":"+u+"R"+m,m=Yf++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=e$++,u=":"+u+"r"+m.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},s$={readContext:Bs,useCallback:tI,useContext:Bs,useEffect:t_,useImperativeHandle:eI,useInsertionEffect:Jk,useLayoutEffect:Yk,useMemo:nI,useReducer:Xx,useRef:Gk,useState:function(){return Xx(Xf)},useDebugValue:n_,useDeferredValue:function(a){var u=zs();return rI(u,Xr.memoizedState,a)},useTransition:function(){var a=Xx(Xf)[0],u=zs().memoizedState;return[a,u]},useMutableSource:Bk,useSyncExternalStore:zk,useId:iI,unstable_isNewReconciler:!1},o$={readContext:Bs,useCallback:tI,useContext:Bs,useEffect:t_,useImperativeHandle:eI,useInsertionEffect:Jk,useLayoutEffect:Yk,useMemo:nI,useReducer:e_,useRef:Gk,useState:function(){return e_(Xf)},useDebugValue:n_,useDeferredValue:function(a){var u=zs();return Xr===null?u.memoizedState=a:rI(u,Xr.memoizedState,a)},useTransition:function(){var a=e_(Xf)[0],u=zs().memoizedState;return[a,u]},useMutableSource:Bk,useSyncExternalStore:zk,useId:iI,unstable_isNewReconciler:!1};function ao(a,u){if(a&&a.defaultProps){u=oe({},u),a=a.defaultProps;for(var m in a)u[m]===void 0&&(u[m]=a[m]);return u}return u}function r_(a,u,m,_){u=a.memoizedState,m=m(_,u),m=m==null?u:oe({},u,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var ng={isMounted:function(a){return(a=a._reactInternals)?Ds(a)===a:!1},enqueueSetState:function(a,u,m){a=a._reactInternals;var _=ji(),k=sl(a),j=ya(_,k);j.payload=u,m!=null&&(j.callback=m),u=tl(a,j,k),u!==null&&(co(u,a,k,_),Km(u,a,k))},enqueueReplaceState:function(a,u,m){a=a._reactInternals;var _=ji(),k=sl(a),j=ya(_,k);j.tag=1,j.payload=u,m!=null&&(j.callback=m),u=tl(a,j,k),u!==null&&(co(u,a,k,_),Km(u,a,k))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var m=ji(),_=sl(a),k=ya(m,_);k.tag=2,u!=null&&(k.callback=u),u=tl(a,k,_),u!==null&&(co(u,a,_,m),Km(u,a,_))}};function lI(a,u,m,_,k,j,Z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(_,j,Z):u.prototype&&u.prototype.isPureReactComponent?!$f(m,_)||!$f(k,j):!0}function uI(a,u,m){var _=!1,k=Ya,j=u.contextType;return typeof j=="object"&&j!==null?j=Bs(j):(k=es(u)?pu:mi.current,_=u.contextTypes,j=(_=_!=null)?Oc(a,k):Ya),u=new u(m,j),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ng,a.stateNode=u,u._reactInternals=a,_&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=j),u}function cI(a,u,m,_){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,_),u.state!==a&&ng.enqueueReplaceState(u,u.state,null)}function i_(a,u,m,_){var k=a.stateNode;k.props=m,k.state=a.memoizedState,k.refs={},Ux(a);var j=u.contextType;typeof j=="object"&&j!==null?k.context=Bs(j):(j=es(u)?pu:mi.current,k.context=Oc(a,j)),k.state=a.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(r_(a,u,j,m),k.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&ng.enqueueReplaceState(k,k.state,null),Gm(a,m,k,_),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function Lc(a,u){try{var m="",_=u;do m+=_e(_),_=_.return;while(_);var k=m}catch(j){k=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:u,stack:k,digest:null}}function s_(a,u,m){return{value:a,source:null,stack:m??null,digest:u??null}}function o_(a,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var a$=typeof WeakMap=="function"?WeakMap:Map;function dI(a,u,m){m=ya(-1,m),m.tag=3,m.payload={element:null};var _=u.value;return m.callback=function(){ug||(ug=!0,__=_),o_(a,u)},m}function fI(a,u,m){m=ya(-1,m),m.tag=3;var _=a.type.getDerivedStateFromError;if(typeof _=="function"){var k=u.value;m.payload=function(){return _(k)},m.callback=function(){o_(a,u)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){o_(a,u),typeof _!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var Z=u.stack;this.componentDidCatch(u.value,{componentStack:Z!==null?Z:""})}),m}function pI(a,u,m){var _=a.pingCache;if(_===null){_=a.pingCache=new a$;var k=new Set;_.set(u,k)}else k=_.get(u),k===void 0&&(k=new Set,_.set(u,k));k.has(m)||(k.add(m),a=_$.bind(null,a,u,m),u.then(a,a))}function hI(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function mI(a,u,m,_,k){return a.mode&1?(a.flags|=65536,a.lanes=k,a):(a===u?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=ya(-1,1),u.tag=2,tl(m,u,1))),m.lanes|=1),a)}var l$=A.ReactCurrentOwner,ts=!1;function Ri(a,u,m,_){u.child=a===null?Pk(u,null,m,_):Ac(u,a.child,m,_)}function gI(a,u,m,_,k){m=m.render;var j=u.ref;return Fc(u,k),_=Jx(a,u,m,_,j,k),m=Yx(),a!==null&&!ts?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~k,va(a,u,k)):(mr&&m&&Ax(u),u.flags|=1,Ri(a,u,_,k),u.child)}function yI(a,u,m,_,k){if(a===null){var j=m.type;return typeof j=="function"&&!C_(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=j,vI(a,u,j,_,k)):(a=mg(m.type,null,_,u,u.mode,k),a.ref=u.ref,a.return=u,u.child=a)}if(j=a.child,!(a.lanes&k)){var Z=j.memoizedProps;if(m=m.compare,m=m!==null?m:$f,m(Z,_)&&a.ref===u.ref)return va(a,u,k)}return u.flags|=1,a=al(j,_),a.ref=u.ref,a.return=u,u.child=a}function vI(a,u,m,_,k){if(a!==null){var j=a.memoizedProps;if($f(j,_)&&a.ref===u.ref)if(ts=!1,u.pendingProps=_=j,(a.lanes&k)!==0)a.flags&131072&&(ts=!0);else return u.lanes=a.lanes,va(a,u,k)}return a_(a,u,m,_,k)}function bI(a,u,m){var _=u.pendingProps,k=_.children,j=a!==null?a.memoizedState:null;if(_.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr($c,vs),vs|=m;else{if(!(m&0x40000000))return a=j!==null?j.baseLanes|m:m,u.lanes=u.childLanes=0x40000000,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,rr($c,vs),vs|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=j!==null?j.baseLanes:m,rr($c,vs),vs|=_}else j!==null?(_=j.baseLanes|m,u.memoizedState=null):_=m,rr($c,vs),vs|=_;return Ri(a,u,k,m),u.child}function xI(a,u){var m=u.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function a_(a,u,m,_,k){var j=es(m)?pu:mi.current;return j=Oc(u,j),Fc(u,k),m=Jx(a,u,m,_,j,k),_=Yx(),a!==null&&!ts?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~k,va(a,u,k)):(mr&&_&&Ax(u),u.flags|=1,Ri(a,u,m,k),u.child)}function _I(a,u,m,_,k){if(es(m)){var j=!0;$m(u)}else j=!1;if(Fc(u,k),u.stateNode===null)ig(a,u),uI(u,m,_),i_(u,m,_,k),_=!0;else if(a===null){var Z=u.stateNode,ge=u.memoizedProps;Z.props=ge;var Se=Z.context,He=m.contextType;typeof He=="object"&&He!==null?He=Bs(He):(He=es(m)?pu:mi.current,He=Oc(u,He));var ht=m.getDerivedStateFromProps,gt=typeof ht=="function"||typeof Z.getSnapshotBeforeUpdate=="function";gt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ge!==_||Se!==He)&&cI(u,Z,_,He),el=!1;var ft=u.memoizedState;Z.state=ft,Gm(u,_,Z,k),Se=u.memoizedState,ge!==_||ft!==Se||Xi.current||el?(typeof ht=="function"&&(r_(u,m,ht,_),Se=u.memoizedState),(ge=el||lI(u,m,ge,_,ft,Se,He))?(gt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=Se),Z.props=_,Z.state=Se,Z.context=He,_=ge):(typeof Z.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{Z=u.stateNode,Dk(a,u),ge=u.memoizedProps,He=u.type===u.elementType?ge:ao(u.type,ge),Z.props=He,gt=u.pendingProps,ft=Z.context,Se=m.contextType,typeof Se=="object"&&Se!==null?Se=Bs(Se):(Se=es(m)?pu:mi.current,Se=Oc(u,Se));var jt=m.getDerivedStateFromProps;(ht=typeof jt=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ge!==gt||ft!==Se)&&cI(u,Z,_,Se),el=!1,ft=u.memoizedState,Z.state=ft,Gm(u,_,Z,k);var Mt=u.memoizedState;ge!==gt||ft!==Mt||Xi.current||el?(typeof jt=="function"&&(r_(u,m,jt,_),Mt=u.memoizedState),(He=el||lI(u,m,He,_,ft,Mt,Se)||!1)?(ht||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(_,Mt,Se),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(_,Mt,Se)),typeof Z.componentDidUpdate=="function"&&(u.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Z.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=Mt),Z.props=_,Z.state=Mt,Z.context=Se,_=He):(typeof Z.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=1024),_=!1)}return l_(a,u,m,_,j,k)}function l_(a,u,m,_,k,j){xI(a,u);var Z=(u.flags&128)!==0;if(!_&&!Z)return k&&kk(u,m,!1),va(a,u,j);_=u.stateNode,l$.current=u;var ge=Z&&typeof m.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,a!==null&&Z?(u.child=Ac(u,a.child,null,j),u.child=Ac(u,null,ge,j)):Ri(a,u,ge,j),u.memoizedState=_.state,k&&kk(u,m,!0),u.child}function wI(a){var u=a.stateNode;u.pendingContext?Ek(a,u.pendingContext,u.pendingContext!==u.context):u.context&&Ek(a,u.context,!1),Vx(a,u.containerInfo)}function SI(a,u,m,_,k){return jc(),Lx(k),u.flags|=256,Ri(a,u,m,_),u.child}var u_={dehydrated:null,treeContext:null,retryLane:0};function c_(a){return{baseLanes:a,cachePool:null,transitions:null}}function EI(a,u,m){var _=u.pendingProps,k=Or.current,j=!1,Z=(u.flags&128)!==0,ge;if((ge=Z)||(ge=a!==null&&a.memoizedState===null?!1:(k&2)!==0),ge?(j=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),rr(Or,k&1),a===null)return Dx(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=0x40000000:u.lanes=1,null):(Z=_.children,a=_.fallback,j?(_=u.mode,j=u.child,Z={mode:"hidden",children:Z},!(_&1)&&j!==null?(j.childLanes=0,j.pendingProps=Z):j=gg(Z,_,0,null),a=Su(a,_,m,null),j.return=u,a.return=u,j.sibling=a,u.child=j,u.child.memoizedState=c_(m),u.memoizedState=u_,a):d_(u,Z));if(k=a.memoizedState,k!==null&&(ge=k.dehydrated,ge!==null))return u$(a,u,Z,_,ge,k,m);if(j){j=_.fallback,Z=u.mode,k=a.child,ge=k.sibling;var Se={mode:"hidden",children:_.children};return!(Z&1)&&u.child!==k?(_=u.child,_.childLanes=0,_.pendingProps=Se,u.deletions=null):(_=al(k,Se),_.subtreeFlags=k.subtreeFlags&0xe00000),ge!==null?j=al(ge,j):(j=Su(j,Z,m,null),j.flags|=2),j.return=u,_.return=u,_.sibling=j,u.child=_,_=j,j=u.child,Z=a.child.memoizedState,Z=Z===null?c_(m):{baseLanes:Z.baseLanes|m,cachePool:null,transitions:Z.transitions},j.memoizedState=Z,j.childLanes=a.childLanes&~m,u.memoizedState=u_,_}return j=a.child,a=j.sibling,_=al(j,{mode:"visible",children:_.children}),!(u.mode&1)&&(_.lanes=m),_.return=u,_.sibling=null,a!==null&&(m=u.deletions,m===null?(u.deletions=[a],u.flags|=16):m.push(a)),u.child=_,u.memoizedState=null,_}function d_(a,u){return u=gg({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function rg(a,u,m,_){return _!==null&&Lx(_),Ac(u,a.child,null,m),a=d_(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function u$(a,u,m,_,k,j,Z){if(m)return u.flags&256?(u.flags&=-257,_=s_(Error(n(422))),rg(a,u,Z,_)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(j=_.fallback,k=u.mode,_=gg({mode:"visible",children:_.children},k,0,null),j=Su(j,k,Z,null),j.flags|=2,_.return=u,j.return=u,_.sibling=j,u.child=_,u.mode&1&&Ac(u,a.child,null,Z),u.child.memoizedState=c_(Z),u.memoizedState=u_,j);if(!(u.mode&1))return rg(a,u,Z,null);if(k.data==="$!"){if(_=k.nextSibling&&k.nextSibling.dataset,_)var ge=_.dgst;return _=ge,j=Error(n(419)),_=s_(j,_,void 0),rg(a,u,Z,_)}if(ge=(Z&a.childLanes)!==0,ts||ge){if(_=ri,_!==null){switch(Z&-Z){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:k=32;break;case 0x20000000:k=0x10000000;break;default:k=0}k=k&(_.suspendedLanes|Z)?0:k,k!==0&&k!==j.retryLane&&(j.retryLane=k,ga(a,k),co(_,a,k,-1))}return I_(),_=s_(Error(n(421))),rg(a,u,Z,_)}return k.data==="$?"?(u.flags|=128,u.child=a.child,u=w$.bind(null,a),k._reactRetry=u,null):(a=j.treeContext,ys=Za(k.nextSibling),gs=u,mr=!0,oo=null,a!==null&&(Ms[$s++]=ha,Ms[$s++]=ma,Ms[$s++]=hu,ha=a.id,ma=a.overflow,hu=u),u=d_(u,_.children),u.flags|=4096,u)}function NI(a,u,m){a.lanes|=u;var _=a.alternate;_!==null&&(_.lanes|=u),zx(a.return,u,m)}function f_(a,u,m,_,k){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:k}:(j.isBackwards=u,j.rendering=null,j.renderingStartTime=0,j.last=_,j.tail=m,j.tailMode=k)}function kI(a,u,m){var _=u.pendingProps,k=_.revealOrder,j=_.tail;if(Ri(a,u,_.children,m),_=Or.current,_&2)_=_&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&NI(a,m,u);else if(a.tag===19)NI(a,m,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}_&=1}if(rr(Or,_),!(u.mode&1))u.memoizedState=null;else switch(k){case"forwards":for(m=u.child,k=null;m!==null;)a=m.alternate,a!==null&&Zm(a)===null&&(k=m),m=m.sibling;m=k,m===null?(k=u.child,u.child=null):(k=m.sibling,m.sibling=null),f_(u,!1,k,m,j);break;case"backwards":for(m=null,k=u.child,u.child=null;k!==null;){if(a=k.alternate,a!==null&&Zm(a)===null){u.child=k;break}a=k.sibling,k.sibling=m,m=k,k=a}f_(u,!0,m,null,j);break;case"together":f_(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ig(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function va(a,u,m){if(a!==null&&(u.dependencies=a.dependencies),bu|=u.lanes,!(m&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,m=al(a,a.pendingProps),u.child=m,m.return=u;a.sibling!==null;)a=a.sibling,m=m.sibling=al(a,a.pendingProps),m.return=u;m.sibling=null}return u.child}function c$(a,u,m){switch(u.tag){case 3:wI(u),jc();break;case 5:$k(u);break;case 1:es(u.type)&&$m(u);break;case 4:Vx(u,u.stateNode.containerInfo);break;case 10:var _=u.type._context,k=u.memoizedProps.value;rr(Hm,_._currentValue),_._currentValue=k;break;case 13:if(_=u.memoizedState,_!==null)return _.dehydrated!==null?(rr(Or,Or.current&1),u.flags|=128,null):m&u.child.childLanes?EI(a,u,m):(rr(Or,Or.current&1),a=va(a,u,m),a!==null?a.sibling:null);rr(Or,Or.current&1);break;case 19:if(_=(m&u.childLanes)!==0,a.flags&128){if(_)return kI(a,u,m);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),rr(Or,Or.current),_)break;return null;case 22:case 23:return u.lanes=0,bI(a,u,m)}return va(a,u,m)}var II,p_,CI,TI;II=function(a,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},p_=function(){},CI=function(a,u,m,_){var k=a.memoizedProps;if(k!==_){a=u.stateNode,yu(Po.current);var j=null;switch(m){case"input":k=wt(a,k),_=wt(a,_),j=[];break;case"select":k=oe({},k,{value:void 0}),_=oe({},_,{value:void 0}),j=[];break;case"textarea":k=Ve(a,k),_=Ve(a,_),j=[];break;default:typeof k.onClick!="function"&&typeof _.onClick=="function"&&(a.onclick=Dm)}Gi(m,_);var Z;m=null;for(He in k)if(!_.hasOwnProperty(He)&&k.hasOwnProperty(He)&&k[He]!=null)if(He==="style"){var ge=k[He];for(Z in ge)ge.hasOwnProperty(Z)&&(m||(m={}),m[Z]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(i.hasOwnProperty(He)?j||(j=[]):(j=j||[]).push(He,null));for(He in _){var Se=_[He];if(ge=k?.[He],_.hasOwnProperty(He)&&Se!==ge&&(Se!=null||ge!=null))if(He==="style")if(ge){for(Z in ge)!ge.hasOwnProperty(Z)||Se&&Se.hasOwnProperty(Z)||(m||(m={}),m[Z]="");for(Z in Se)Se.hasOwnProperty(Z)&&ge[Z]!==Se[Z]&&(m||(m={}),m[Z]=Se[Z])}else m||(j||(j=[]),j.push(He,m)),m=Se;else He==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ge=ge?ge.__html:void 0,Se!=null&&ge!==Se&&(j=j||[]).push(He,Se)):He==="children"?typeof Se!="string"&&typeof Se!="number"||(j=j||[]).push(He,""+Se):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(i.hasOwnProperty(He)?(Se!=null&&He==="onScroll"&&cr("scroll",a),j||ge===Se||(j=[])):(j=j||[]).push(He,Se))}m&&(j=j||[]).push("style",m);var He=j;(u.updateQueue=He)&&(u.flags|=4)}},TI=function(a,u,m,_){m!==_&&(u.flags|=4)};function tp(a,u){if(!mr)switch(a.tailMode){case"hidden":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:_.sibling=null}}function yi(a){var u=a.alternate!==null&&a.alternate.child===a.child,m=0,_=0;if(u)for(var k=a.child;k!==null;)m|=k.lanes|k.childLanes,_|=k.subtreeFlags&0xe00000,_|=k.flags&0xe00000,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)m|=k.lanes|k.childLanes,_|=k.subtreeFlags,_|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=_,a.childLanes=m,u}function d$(a,u,m){var _=u.pendingProps;switch(Px(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(u),null;case 1:return es(u.type)&&Mm(),yi(u),null;case 3:return _=u.stateNode,Dc(),dr(Xi),dr(mi),Kx(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(a===null||a.child===null)&&(Um(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,oo!==null&&(E_(oo),oo=null))),p_(a,u),yi(u),null;case 5:Hx(u);var k=yu(Zf.current);if(m=u.type,a!==null&&u.stateNode!=null)CI(a,u,m,_,k),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(n(166));return yi(u),null}if(a=yu(Po.current),Um(u)){_=u.stateNode,m=u.type;var j=u.memoizedProps;switch(_[Ao]=u,_[Vf]=j,a=(u.mode&1)!==0,m){case"dialog":cr("cancel",_),cr("close",_);break;case"iframe":case"object":case"embed":cr("load",_);break;case"video":case"audio":for(k=0;k<zf.length;k++)cr(zf[k],_);break;case"source":cr("error",_);break;case"img":case"image":case"link":cr("error",_),cr("load",_);break;case"details":cr("toggle",_);break;case"input":Tt(_,j),cr("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!j.multiple},cr("invalid",_);break;case"textarea":rt(_,j),cr("invalid",_)}Gi(m,j),k=null;for(var Z in j)if(j.hasOwnProperty(Z)){var ge=j[Z];Z==="children"?typeof ge=="string"?_.textContent!==ge&&(j.suppressHydrationWarning!==!0&&Fm(_.textContent,ge,a),k=["children",ge]):typeof ge=="number"&&_.textContent!==""+ge&&(j.suppressHydrationWarning!==!0&&Fm(_.textContent,ge,a),k=["children",""+ge]):i.hasOwnProperty(Z)&&ge!=null&&Z==="onScroll"&&cr("scroll",_)}switch(m){case"input":Xe(_),xe(_,j,!0);break;case"textarea":Xe(_),ct(_);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(_.onclick=Dm)}_=k,u.updateQueue=_,_!==null&&(u.flags|=4)}else{Z=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ht(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=Z.createElement("div"),a.innerHTML="<script></script>",a=a.removeChild(a.firstChild)):typeof _.is=="string"?a=Z.createElement(m,{is:_.is}):(a=Z.createElement(m),m==="select"&&(Z=a,_.multiple?Z.multiple=!0:_.size&&(Z.size=_.size))):a=Z.createElementNS(a,m),a[Ao]=u,a[Vf]=_,II(a,u,!1,!1),u.stateNode=a;e:{switch(Z=Zi(m,_),m){case"dialog":cr("cancel",a),cr("close",a),k=_;break;case"iframe":case"object":case"embed":cr("load",a),k=_;break;case"video":case"audio":for(k=0;k<zf.length;k++)cr(zf[k],a);k=_;break;case"source":cr("error",a),k=_;break;case"img":case"image":case"link":cr("error",a),cr("load",a),k=_;break;case"details":cr("toggle",a),k=_;break;case"input":Tt(a,_),k=wt(a,_),cr("invalid",a);break;case"option":k=_;break;case"select":a._wrapperState={wasMultiple:!!_.multiple},k=oe({},_,{value:void 0}),cr("invalid",a);break;case"textarea":rt(a,_),k=Ve(a,_),cr("invalid",a);break;default:k=_}Gi(m,k),ge=k;for(j in ge)if(ge.hasOwnProperty(j)){var Se=ge[j];j==="style"?Kt(a,Se):j==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&lr(a,Se)):j==="children"?typeof Se=="string"?(m!=="textarea"||Se!=="")&&Dn(a,Se):typeof Se=="number"&&Dn(a,""+Se):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Se!=null&&j==="onScroll"&&cr("scroll",a):Se!=null&&q(a,j,Se,Z))}switch(m){case"input":Xe(a),xe(a,_,!1);break;case"textarea":Xe(a),ct(a);break;case"option":_.value!=null&&a.setAttribute("value",""+qe(_.value));break;case"select":a.multiple=!!_.multiple,j=_.value,j!=null?Ae(a,!!_.multiple,j,!1):_.defaultValue!=null&&Ae(a,!!_.multiple,_.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=Dm)}switch(m){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return yi(u),null;case 6:if(a&&u.stateNode!=null)TI(a,u,a.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(n(166));if(m=yu(Zf.current),yu(Po.current),Um(u)){if(_=u.stateNode,m=u.memoizedProps,_[Ao]=u,(j=_.nodeValue!==m)&&(a=gs,a!==null))switch(a.tag){case 3:Fm(_.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Fm(_.nodeValue,m,(a.mode&1)!==0)}j&&(u.flags|=4)}else _=(m.nodeType===9?m:m.ownerDocument).createTextNode(_),_[Ao]=u,u.stateNode=_}return yi(u),null;case 13:if(dr(Or),_=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(mr&&ys!==null&&u.mode&1&&!(u.flags&128))Rk(),jc(),u.flags|=98560,j=!1;else if(j=Um(u),_!==null&&_.dehydrated!==null){if(a===null){if(!j)throw Error(n(318));if(j=u.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Ao]=u}else jc(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;yi(u),j=!1}else oo!==null&&(E_(oo),oo=null),j=!0;if(!j)return u.flags&65536?u:null}return u.flags&128?(u.lanes=m,u):(_=_!==null,_!==(a!==null&&a.memoizedState!==null)&&_&&(u.child.flags|=8192,u.mode&1&&(a===null||Or.current&1?ei===0&&(ei=3):I_())),u.updateQueue!==null&&(u.flags|=4),yi(u),null);case 4:return Dc(),p_(a,u),a===null&&Wf(u.stateNode.containerInfo),yi(u),null;case 10:return Bx(u.type._context),yi(u),null;case 17:return es(u.type)&&Mm(),yi(u),null;case 19:if(dr(Or),j=u.memoizedState,j===null)return yi(u),null;if(_=(u.flags&128)!==0,Z=j.rendering,Z===null)if(_)tp(j,!1);else{if(ei!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(Z=Zm(a),Z!==null){for(u.flags|=128,tp(j,!1),_=Z.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),u.subtreeFlags=0,_=m,m=u.child;m!==null;)j=m,a=_,j.flags&=0xe00002,Z=j.alternate,Z===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=Z.childLanes,j.lanes=Z.lanes,j.child=Z.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=Z.memoizedProps,j.memoizedState=Z.memoizedState,j.updateQueue=Z.updateQueue,j.type=Z.type,a=Z.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return rr(Or,Or.current&1|2),u.child}a=a.sibling}j.tail!==null&&ur()>Bc&&(u.flags|=128,_=!0,tp(j,!1),u.lanes=4194304)}else{if(!_)if(a=Zm(Z),a!==null){if(u.flags|=128,_=!0,m=a.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),tp(j,!0),j.tail===null&&j.tailMode==="hidden"&&!Z.alternate&&!mr)return yi(u),null}else 2*ur()-j.renderingStartTime>Bc&&m!==0x40000000&&(u.flags|=128,_=!0,tp(j,!1),u.lanes=4194304);j.isBackwards?(Z.sibling=u.child,u.child=Z):(m=j.last,m!==null?m.sibling=Z:u.child=Z,j.last=Z)}return j.tail!==null?(u=j.tail,j.rendering=u,j.tail=u.sibling,j.renderingStartTime=ur(),u.sibling=null,m=Or.current,rr(Or,_?m&1|2:m&1),u):(yi(u),null);case 22:case 23:return k_(),_=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==_&&(u.flags|=8192),_&&u.mode&1?vs&0x40000000&&(yi(u),u.subtreeFlags&6&&(u.flags|=8192)):yi(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function f$(a,u){switch(Px(u),u.tag){case 1:return es(u.type)&&Mm(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Dc(),dr(Xi),dr(mi),Kx(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return Hx(u),null;case 13:if(dr(Or),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));jc()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return dr(Or),null;case 4:return Dc(),null;case 10:return Bx(u.type._context),null;case 22:case 23:return k_(),null;case 24:return null;default:return null}}var sg=!1,vi=!1,p$=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Mc(a,u){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(_){Fr(a,u,_)}else m.current=null}function h_(a,u,m){try{m()}catch(_){Fr(a,u,_)}}var OI=!1;function h$(a,u){if(kx=Ge,a=lk(),vx(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var k=_.anchorOffset,j=_.focusNode;_=_.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var Z=0,ge=-1,Se=-1,He=0,ht=0,gt=a,ft=null;t:for(;;){for(var jt;gt!==m||k!==0&&gt.nodeType!==3||(ge=Z+k),gt!==j||_!==0&&gt.nodeType!==3||(Se=Z+_),gt.nodeType===3&&(Z+=gt.nodeValue.length),(jt=gt.firstChild)!==null;)ft=gt,gt=jt;for(;;){if(gt===a)break t;if(ft===m&&++He===k&&(ge=Z),ft===j&&++ht===_&&(Se=Z),(jt=gt.nextSibling)!==null)break;gt=ft,ft=gt.parentNode}gt=jt}m=ge===-1||Se===-1?null:{start:ge,end:Se}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ix={focusedElem:a,selectionRange:m},Ge=!1,Dt=u;Dt!==null;)if(u=Dt,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Dt=a;else for(;Dt!==null;){u=Dt;try{var Mt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var zt=Mt.memoizedProps,Mr=Mt.memoizedState,Fe=u.stateNode,Ce=Fe.getSnapshotBeforeUpdate(u.elementType===u.type?zt:ao(u.type,zt),Mr);Fe.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var $e=u.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(bt){Fr(u,u.return,bt)}if(a=u.sibling,a!==null){a.return=u.return,Dt=a;break}Dt=u.return}return Mt=OI,OI=!1,Mt}function np(a,u,m){var _=u.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var k=_=_.next;do{if((k.tag&a)===a){var j=k.destroy;k.destroy=void 0,j!==void 0&&h_(u,m,j)}k=k.next}while(k!==_)}}function og(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&a)===a){var _=m.create;m.destroy=_()}m=m.next}while(m!==u)}}function m_(a){var u=a.ref;if(u!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof u=="function"?u(a):u.current=a}}function qI(a){var u=a.alternate;u!==null&&(a.alternate=null,qI(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Ao],delete u[Vf],delete u[qx],delete u[ZM],delete u[JM])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function RI(a){return a.tag===5||a.tag===3||a.tag===4}function jI(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||RI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function g_(a,u,m){var _=a.tag;if(_===5||_===6)a=a.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(a,u):m.insertBefore(a,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(a,m)):(u=m,u.appendChild(a)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=Dm));else if(_!==4&&(a=a.child,a!==null))for(g_(a,u,m),a=a.sibling;a!==null;)g_(a,u,m),a=a.sibling}function y_(a,u,m){var _=a.tag;if(_===5||_===6)a=a.stateNode,u?m.insertBefore(a,u):m.appendChild(a);else if(_!==4&&(a=a.child,a!==null))for(y_(a,u,m),a=a.sibling;a!==null;)y_(a,u,m),a=a.sibling}var ai=null,lo=!1;function nl(a,u,m){for(m=m.child;m!==null;)AI(a,u,m),m=m.sibling}function AI(a,u,m){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(Ha,m)}catch{}switch(m.tag){case 5:vi||Mc(m,u);case 6:var _=ai,k=lo;ai=null,nl(a,u,m),ai=_,lo=k,ai!==null&&(lo?(a=ai,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):ai.removeChild(m.stateNode));break;case 18:ai!==null&&(lo?(a=ai,m=m.stateNode,a.nodeType===8?Ox(a.parentNode,m):a.nodeType===1&&Ox(a,m),Te(a)):Ox(ai,m.stateNode));break;case 4:_=ai,k=lo,ai=m.stateNode.containerInfo,lo=!0,nl(a,u,m),ai=_,lo=k;break;case 0:case 11:case 14:case 15:if(!vi&&(_=m.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){k=_=_.next;do{var j=k,Z=j.destroy;j=j.tag,Z!==void 0&&(j&2||j&4)&&h_(m,u,Z),k=k.next}while(k!==_)}nl(a,u,m);break;case 1:if(!vi&&(Mc(m,u),_=m.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=m.memoizedProps,_.state=m.memoizedState,_.componentWillUnmount()}catch(ge){Fr(m,u,ge)}nl(a,u,m);break;case 21:nl(a,u,m);break;case 22:m.mode&1?(vi=(_=vi)||m.memoizedState!==null,nl(a,u,m),vi=_):nl(a,u,m);break;default:nl(a,u,m)}}function PI(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new p$),u.forEach(function(_){var k=S$.bind(null,a,_);m.has(_)||(m.add(_),_.then(k,k))})}}function uo(a,u){var m=u.deletions;if(m!==null)for(var _=0;_<m.length;_++){var k=m[_];try{var j=a,Z=u,ge=Z;e:for(;ge!==null;){switch(ge.tag){case 5:ai=ge.stateNode,lo=!1;break e;case 3:ai=ge.stateNode.containerInfo,lo=!0;break e;case 4:ai=ge.stateNode.containerInfo,lo=!0;break e}ge=ge.return}if(ai===null)throw Error(n(160));AI(j,Z,k),ai=null,lo=!1;var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(He){Fr(k,u,He)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)FI(u,a),u=u.sibling}function FI(a,u){var m=a.alternate,_=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(uo(u,a),Do(a),_&4){try{np(3,a,a.return),og(3,a)}catch(zt){Fr(a,a.return,zt)}try{np(5,a,a.return)}catch(zt){Fr(a,a.return,zt)}}break;case 1:uo(u,a),Do(a),_&512&&m!==null&&Mc(m,m.return);break;case 5:if(uo(u,a),Do(a),_&512&&m!==null&&Mc(m,m.return),a.flags&32){var k=a.stateNode;try{Dn(k,"")}catch(zt){Fr(a,a.return,zt)}}if(_&4&&(k=a.stateNode,k!=null)){var j=a.memoizedProps,Z=m!==null?m.memoizedProps:j,ge=a.type,Se=a.updateQueue;if(a.updateQueue=null,Se!==null)try{ge==="input"&&j.type==="radio"&&j.name!=null&&Wt(k,j),Zi(ge,Z);var He=Zi(ge,j);for(Z=0;Z<Se.length;Z+=2){var ht=Se[Z],gt=Se[Z+1];ht==="style"?Kt(k,gt):ht==="dangerouslySetInnerHTML"?lr(k,gt):ht==="children"?Dn(k,gt):q(k,ht,gt,He)}switch(ge){case"input":en(k,j);break;case"textarea":Me(k,j);break;case"select":var ft=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!j.multiple;var jt=j.value;jt!=null?Ae(k,!!j.multiple,jt,!1):ft!==!!j.multiple&&(j.defaultValue!=null?Ae(k,!!j.multiple,j.defaultValue,!0):Ae(k,!!j.multiple,j.multiple?[]:"",!1))}k[Vf]=j}catch(zt){Fr(a,a.return,zt)}}break;case 6:if(uo(u,a),Do(a),_&4){if(a.stateNode===null)throw Error(n(162));k=a.stateNode,j=a.memoizedProps;try{k.nodeValue=j}catch(zt){Fr(a,a.return,zt)}}break;case 3:if(uo(u,a),Do(a),_&4&&m!==null&&m.memoizedState.isDehydrated)try{Te(u.containerInfo)}catch(zt){Fr(a,a.return,zt)}break;case 4:uo(u,a),Do(a);break;case 13:uo(u,a),Do(a),k=a.child,k.flags&8192&&(j=k.memoizedState!==null,k.stateNode.isHidden=j,!j||k.alternate!==null&&k.alternate.memoizedState!==null||(x_=ur())),_&4&&PI(a);break;case 22:if(ht=m!==null&&m.memoizedState!==null,a.mode&1?(vi=(He=vi)||ht,uo(u,a),vi=He):uo(u,a),Do(a),_&8192){if(He=a.memoizedState!==null,(a.stateNode.isHidden=He)&&!ht&&a.mode&1)for(Dt=a,ht=a.child;ht!==null;){for(gt=Dt=ht;Dt!==null;){switch(ft=Dt,jt=ft.child,ft.tag){case 0:case 11:case 14:case 15:np(4,ft,ft.return);break;case 1:Mc(ft,ft.return);var Mt=ft.stateNode;if(typeof Mt.componentWillUnmount=="function"){_=ft,m=ft.return;try{u=_,Mt.props=u.memoizedProps,Mt.state=u.memoizedState,Mt.componentWillUnmount()}catch(zt){Fr(_,m,zt)}}break;case 5:Mc(ft,ft.return);break;case 22:if(ft.memoizedState!==null){MI(gt);continue}}jt!==null?(jt.return=ft,Dt=jt):MI(gt)}ht=ht.sibling}e:for(ht=null,gt=a;;){if(gt.tag===5){if(ht===null){ht=gt;try{k=gt.stateNode,He?(j=k.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ge=gt.stateNode,Se=gt.memoizedProps.style,Z=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ge.style.display=Cr("display",Z))}catch(zt){Fr(a,a.return,zt)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=He?"":gt.memoizedProps}catch(zt){Fr(a,a.return,zt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===a)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===a)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===a)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:uo(u,a),Do(a),_&4&&PI(a);break;case 21:break;default:uo(u,a),Do(a)}}function Do(a){var u=a.flags;if(u&2){try{e:{for(var m=a.return;m!==null;){if(RI(m)){var _=m;break e}m=m.return}throw Error(n(160))}switch(_.tag){case 5:var k=_.stateNode;_.flags&32&&(Dn(k,""),_.flags&=-33);var j=jI(a);y_(a,j,k);break;case 3:case 4:var Z=_.stateNode.containerInfo,ge=jI(a);g_(a,ge,Z);break;default:throw Error(n(161))}}catch(Se){Fr(a,a.return,Se)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function m$(a,u,m){Dt=a,DI(a)}function DI(a,u,m){for(var _=(a.mode&1)!==0;Dt!==null;){var k=Dt,j=k.child;if(k.tag===22&&_){var Z=k.memoizedState!==null||sg;if(!Z){var ge=k.alternate,Se=ge!==null&&ge.memoizedState!==null||vi;ge=sg;var He=vi;if(sg=Z,(vi=Se)&&!He)for(Dt=k;Dt!==null;)Z=Dt,Se=Z.child,Z.tag===22&&Z.memoizedState!==null?$I(k):Se!==null?(Se.return=Z,Dt=Se):$I(k);for(;j!==null;)Dt=j,DI(j),j=j.sibling;Dt=k,sg=ge,vi=He}LI(a)}else k.subtreeFlags&8772&&j!==null?(j.return=k,Dt=j):LI(a)}}function LI(a){for(;Dt!==null;){var u=Dt;if(u.flags&8772){var m=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:vi||og(5,u);break;case 1:var _=u.stateNode;if(u.flags&4&&!vi)if(m===null)_.componentDidMount();else{var k=u.elementType===u.type?m.memoizedProps:ao(u.type,m.memoizedProps);_.componentDidUpdate(k,m.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var j=u.updateQueue;j!==null&&Mk(u,j,_);break;case 3:var Z=u.updateQueue;if(Z!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Mk(u,Z,m)}break;case 5:var ge=u.stateNode;if(m===null&&u.flags&4){m=ge;var Se=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&m.focus();break;case"img":Se.src&&(m.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var He=u.alternate;if(He!==null){var ht=He.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&Te(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vi||u.flags&512&&m_(u)}catch(ft){Fr(u,u.return,ft)}}if(u===a){Dt=null;break}if(m=u.sibling,m!==null){m.return=u.return,Dt=m;break}Dt=u.return}}function MI(a){for(;Dt!==null;){var u=Dt;if(u===a){Dt=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Dt=m;break}Dt=u.return}}function $I(a){for(;Dt!==null;){var u=Dt;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{og(4,u)}catch(Se){Fr(u,m,Se)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var k=u.return;try{_.componentDidMount()}catch(Se){Fr(u,k,Se)}}var j=u.return;try{m_(u)}catch(Se){Fr(u,j,Se)}break;case 5:var Z=u.return;try{m_(u)}catch(Se){Fr(u,Z,Se)}}}catch(Se){Fr(u,u.return,Se)}if(u===a){Dt=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,Dt=ge;break}Dt=u.return}}var g$=Math.ceil,ag=A.ReactCurrentDispatcher,v_=A.ReactCurrentOwner,Ws=A.ReactCurrentBatchConfig,qn=0,ri=null,Hr=null,li=0,vs=0,$c=Ja(0),ei=0,rp=null,bu=0,lg=0,b_=0,ip=null,ns=null,x_=0,Bc=1/0,ba=null,ug=!1,__=null,rl=null,cg=!1,il=null,dg=0,sp=0,w_=null,fg=-1,pg=0;function ji(){return qn&6?ur():fg!==-1?fg:fg=ur()}function sl(a){return a.mode&1?qn&2&&li!==0?li&-li:XM.transition!==null?(pg===0&&(pg=Cm()),pg):(a=Ln,a!==0||(a=window.event,a=a===void 0?16:Ee(a.type)),a):1}function co(a,u,m,_){if(50<sp)throw sp=0,w_=null,Error(n(185));cu(a,m,_),(!(qn&2)||a!==ri)&&(a===ri&&(!(qn&2)&&(lg|=m),ei===4&&ol(a,li)),rs(a,_),m===1&&qn===0&&!(u.mode&1)&&(Bc=ur()+500,Bm&&Xa()))}function rs(a,u){var m=a.callbackNode;cx(a,u);var _=Ka(a,a===ri?li:0);if(_===0)m!==null&&au(m),a.callbackNode=null,a.callbackPriority=0;else if(u=_&-_,a.callbackPriority!==u){if(m!=null&&au(m),u===1)a.tag===0?YM(zI.bind(null,a)):Ik(zI.bind(null,a)),KM(function(){!(qn&6)&&Xa()}),m=null;else{switch(Tm(_)){case 1:m=lu;break;case 4:m=wc;break;case 16:m=Va;break;case 0x20000000:m=uu;break;default:m=Va}m=ZI(m,BI.bind(null,a))}a.callbackPriority=u,a.callbackNode=m}}function BI(a,u){if(fg=-1,pg=0,qn&6)throw Error(n(327));var m=a.callbackNode;if(zc()&&a.callbackNode!==m)return null;var _=Ka(a,a===ri?li:0);if(_===0)return null;if(_&30||_&a.expiredLanes||u)u=hg(a,_);else{u=_;var k=qn;qn|=2;var j=UI();(ri!==a||li!==u)&&(ba=null,Bc=ur()+500,_u(a,u));do try{b$();break}catch(ge){WI(a,ge)}while(!0);$x(),ag.current=j,qn=k,Hr!==null?u=0:(ri=null,li=0,u=ei)}if(u!==0){if(u===2&&(k=Of(a),k!==0&&(_=k,u=S_(a,k))),u===1)throw m=rp,_u(a,0),ol(a,_),rs(a,ur()),m;if(u===6)ol(a,_);else{if(k=a.current.alternate,!(_&30)&&!y$(k)&&(u=hg(a,_),u===2&&(j=Of(a),j!==0&&(_=j,u=S_(a,j))),u===1))throw m=rp,_u(a,0),ol(a,_),rs(a,ur()),m;switch(a.finishedWork=k,a.finishedLanes=_,u){case 0:case 1:throw Error(n(345));case 2:wu(a,ns,ba);break;case 3:if(ol(a,_),(_&0x7c00000)===_&&(u=x_+500-ur(),10<u)){if(Ka(a,0)!==0)break;if(k=a.suspendedLanes,(k&_)!==_){ji(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=Tx(wu.bind(null,a,ns,ba),u);break}wu(a,ns,ba);break;case 4:if(ol(a,_),(_&4194240)===_)break;for(u=a.eventTimes,k=-1;0<_;){var Z=31-hi(_);j=1<<Z,Z=u[Z],Z>k&&(k=Z),_&=~j}if(_=k,_=ur()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*g$(_/1960))-_,10<_){a.timeoutHandle=Tx(wu.bind(null,a,ns,ba),_);break}wu(a,ns,ba);break;case 5:wu(a,ns,ba);break;default:throw Error(n(329))}}}return rs(a,ur()),a.callbackNode===m?BI.bind(null,a):null}function S_(a,u){var m=ip;return a.current.memoizedState.isDehydrated&&(_u(a,u).flags|=256),a=hg(a,u),a!==2&&(u=ns,ns=m,u!==null&&E_(u)),a}function E_(a){ns===null?ns=a:ns.push.apply(ns,a)}function y$(a){for(var u=a;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var _=0;_<m.length;_++){var k=m[_],j=k.getSnapshot;k=k.value;try{if(!so(j(),k))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ol(a,u){for(u&=~b_,u&=~lg,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var m=31-hi(u),_=1<<m;a[m]=-1,u&=~_}}function zI(a){if(qn&6)throw Error(n(327));zc();var u=Ka(a,0);if(!(u&1))return rs(a,ur()),null;var m=hg(a,u);if(a.tag!==0&&m===2){var _=Of(a);_!==0&&(u=_,m=S_(a,_))}if(m===1)throw m=rp,_u(a,0),ol(a,u),rs(a,ur()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,wu(a,ns,ba),rs(a,ur()),null}function N_(a,u){var m=qn;qn|=1;try{return a(u)}finally{qn=m,qn===0&&(Bc=ur()+500,Bm&&Xa())}}function xu(a){il!==null&&il.tag===0&&!(qn&6)&&zc();var u=qn;qn|=1;var m=Ws.transition,_=Ln;try{if(Ws.transition=null,Ln=1,a)return a()}finally{Ln=_,Ws.transition=m,qn=u,!(qn&6)&&Xa()}}function k_(){vs=$c.current,dr($c)}function _u(a,u){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,QM(m)),Hr!==null)for(m=Hr.return;m!==null;){var _=m;switch(Px(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Mm();break;case 3:Dc(),dr(Xi),dr(mi),Kx();break;case 5:Hx(_);break;case 4:Dc();break;case 13:dr(Or);break;case 19:dr(Or);break;case 10:Bx(_.type._context);break;case 22:case 23:k_()}m=m.return}if(ri=a,Hr=a=al(a.current,null),li=vs=u,ei=0,rp=null,b_=lg=bu=0,ns=ip=null,gu!==null){for(u=0;u<gu.length;u++)if(m=gu[u],_=m.interleaved,_!==null){m.interleaved=null;var k=_.next,j=m.pending;if(j!==null){var Z=j.next;j.next=k,_.next=Z}m.pending=_}gu=null}return a}function WI(a,u){do{var m=Hr;try{if($x(),Jm.current=tg,Ym){for(var _=qr.memoizedState;_!==null;){var k=_.queue;k!==null&&(k.pending=null),_=_.next}Ym=!1}if(vu=0,ni=Xr=qr=null,Jf=!1,Yf=0,v_.current=null,m===null||m.return===null){ei=1,rp=u,Hr=null;break}e:{var j=a,Z=m.return,ge=m,Se=u;if(u=li,ge.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var He=Se,ht=ge,gt=ht.tag;if(!(ht.mode&1)&&(gt===0||gt===11||gt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var jt=hI(Z);if(jt!==null){jt.flags&=-257,mI(jt,Z,ge,j,u),jt.mode&1&&pI(j,He,u),u=jt,Se=He;var Mt=u.updateQueue;if(Mt===null){var zt=new Set;zt.add(Se),u.updateQueue=zt}else Mt.add(Se);break e}else{if(!(u&1)){pI(j,He,u),I_();break e}Se=Error(n(426))}}else if(mr&&ge.mode&1){var Mr=hI(Z);if(Mr!==null){!(Mr.flags&65536)&&(Mr.flags|=256),mI(Mr,Z,ge,j,u),Lx(Lc(Se,ge));break e}}j=Se=Lc(Se,ge),ei!==4&&(ei=2),ip===null?ip=[j]:ip.push(j),j=Z;do{switch(j.tag){case 3:j.flags|=65536,u&=-u,j.lanes|=u;var Fe=dI(j,Se,u);Lk(j,Fe);break e;case 1:ge=Se;var Ce=j.type,$e=j.stateNode;if(!(j.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(rl===null||!rl.has($e)))){j.flags|=65536,u&=-u,j.lanes|=u;var bt=fI(j,ge,u);Lk(j,bt);break e}}j=j.return}while(j!==null)}HI(m)}catch(Ut){u=Ut,Hr===m&&m!==null&&(Hr=m=m.return);continue}break}while(!0)}function UI(){var a=ag.current;return ag.current=tg,a===null?tg:a}function I_(){(ei===0||ei===3||ei===2)&&(ei=4),ri===null||!(bu&0xfffffff)&&!(lg&0xfffffff)||ol(ri,li)}function hg(a,u){var m=qn;qn|=2;var _=UI();(ri!==a||li!==u)&&(ba=null,_u(a,u));do try{v$();break}catch(k){WI(a,k)}while(!0);if($x(),qn=m,ag.current=_,Hr!==null)throw Error(n(261));return ri=null,li=0,ei}function v$(){for(;Hr!==null;)VI(Hr)}function b$(){for(;Hr!==null&&!_c();)VI(Hr)}function VI(a){var u=GI(a.alternate,a,vs);a.memoizedProps=a.pendingProps,u===null?HI(a):Hr=u,v_.current=null}function HI(a){var u=a;do{var m=u.alternate;if(a=u.return,u.flags&32768){if(m=f$(m,u),m!==null){m.flags&=32767,Hr=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ei=6,Hr=null;return}}else if(m=d$(m,u,vs),m!==null){Hr=m;return}if(u=u.sibling,u!==null){Hr=u;return}Hr=u=a}while(u!==null);ei===0&&(ei=5)}function wu(a,u,m){var _=Ln,k=Ws.transition;try{Ws.transition=null,Ln=1,x$(a,u,m,_)}finally{Ws.transition=k,Ln=_}return null}function x$(a,u,m,_){do zc();while(il!==null);if(qn&6)throw Error(n(327));m=a.finishedWork;var k=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var j=m.lanes|m.childLanes;if(dx(a,j),a===ri&&(Hr=ri=null,li=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||cg||(cg=!0,ZI(Va,function(){return zc(),null})),j=(m.flags&15990)!==0,m.subtreeFlags&15990||j){j=Ws.transition,Ws.transition=null;var Z=Ln;Ln=1;var ge=qn;qn|=4,v_.current=null,h$(a,m),FI(m,a),$M(Ix),Ge=!!kx,Ix=kx=null,a.current=m,m$(m),Sf(),qn=ge,Ln=Z,Ws.transition=j}else a.current=m;if(cg&&(cg=!1,il=a,dg=k),j=a.pendingLanes,j===0&&(rl=null),kf(m.stateNode),rs(a,ur()),u!==null)for(_=a.onRecoverableError,m=0;m<u.length;m++)k=u[m],_(k.value,{componentStack:k.stack,digest:k.digest});if(ug)throw ug=!1,a=__,__=null,a;return dg&1&&a.tag!==0&&zc(),j=a.pendingLanes,j&1?a===w_?sp++:(sp=0,w_=a):sp=0,Xa(),null}function zc(){if(il!==null){var a=Tm(dg),u=Ws.transition,m=Ln;try{if(Ws.transition=null,Ln=16>a?16:a,il===null)var _=!1;else{if(a=il,il=null,dg=0,qn&6)throw Error(n(331));var k=qn;for(qn|=4,Dt=a.current;Dt!==null;){var j=Dt,Z=j.child;if(Dt.flags&16){var ge=j.deletions;if(ge!==null){for(var Se=0;Se<ge.length;Se++){var He=ge[Se];for(Dt=He;Dt!==null;){var ht=Dt;switch(ht.tag){case 0:case 11:case 15:np(8,ht,j)}var gt=ht.child;if(gt!==null)gt.return=ht,Dt=gt;else for(;Dt!==null;){ht=Dt;var ft=ht.sibling,jt=ht.return;if(qI(ht),ht===He){Dt=null;break}if(ft!==null){ft.return=jt,Dt=ft;break}Dt=jt}}}var Mt=j.alternate;if(Mt!==null){var zt=Mt.child;if(zt!==null){Mt.child=null;do{var Mr=zt.sibling;zt.sibling=null,zt=Mr}while(zt!==null)}}Dt=j}}if(j.subtreeFlags&2064&&Z!==null)Z.return=j,Dt=Z;else e:for(;Dt!==null;){if(j=Dt,j.flags&2048)switch(j.tag){case 0:case 11:case 15:np(9,j,j.return)}var Fe=j.sibling;if(Fe!==null){Fe.return=j.return,Dt=Fe;break e}Dt=j.return}}var Ce=a.current;for(Dt=Ce;Dt!==null;){Z=Dt;var $e=Z.child;if(Z.subtreeFlags&2064&&$e!==null)$e.return=Z,Dt=$e;else e:for(Z=Ce;Dt!==null;){if(ge=Dt,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:og(9,ge)}}catch(Ut){Fr(ge,ge.return,Ut)}if(ge===Z){Dt=null;break e}var bt=ge.sibling;if(bt!==null){bt.return=ge.return,Dt=bt;break e}Dt=ge.return}}if(qn=k,Xa(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(Ha,a)}catch{}_=!0}return _}finally{Ln=m,Ws.transition=u}}return!1}function QI(a,u,m){u=Lc(m,u),u=dI(a,u,1),a=tl(a,u,1),u=ji(),a!==null&&(cu(a,1,u),rs(a,u))}function Fr(a,u,m){if(a.tag===3)QI(a,a,m);else for(;u!==null;){if(u.tag===3){QI(u,a,m);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(rl===null||!rl.has(_))){a=Lc(m,a),a=fI(u,a,1),u=tl(u,a,1),a=ji(),u!==null&&(cu(u,1,a),rs(u,a));break}}u=u.return}}function _$(a,u,m){var _=a.pingCache;_!==null&&_.delete(u),u=ji(),a.pingedLanes|=a.suspendedLanes&m,ri===a&&(li&m)===m&&(ei===4||ei===3&&(li&0x7c00000)===li&&500>ur()-x_?_u(a,0):b_|=m),rs(a,u)}function KI(a,u){u===0&&(a.mode&1?(u=Qa,Qa<<=1,!(Qa&0x7c00000)&&(Qa=4194304)):u=1);var m=ji();a=ga(a,u),a!==null&&(cu(a,u,m),rs(a,m))}function w$(a){var u=a.memoizedState,m=0;u!==null&&(m=u.retryLane),KI(a,m)}function S$(a,u){var m=0;switch(a.tag){case 13:var _=a.stateNode,k=a.memoizedState;k!==null&&(m=k.retryLane);break;case 19:_=a.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(u),KI(a,m)}var GI;GI=function(a,u,m){if(a!==null)if(a.memoizedProps!==u.pendingProps||Xi.current)ts=!0;else{if(!(a.lanes&m)&&!(u.flags&128))return ts=!1,c$(a,u,m);ts=!!(a.flags&131072)}else ts=!1,mr&&u.flags&1048576&&Ck(u,Wm,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;ig(a,u),a=u.pendingProps;var k=Oc(u,mi.current);Fc(u,m),k=Jx(null,u,_,a,k,m);var j=Yx();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,es(_)?(j=!0,$m(u)):j=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Ux(u),k.updater=ng,u.stateNode=k,k._reactInternals=u,i_(u,_,a,m),u=l_(null,u,_,!0,j,m)):(u.tag=0,mr&&j&&Ax(u),Ri(null,u,k,m),u=u.child),u;case 16:_=u.elementType;e:{switch(ig(a,u),a=u.pendingProps,k=_._init,_=k(_._payload),u.type=_,k=u.tag=N$(_),a=ao(_,a),k){case 0:u=a_(null,u,_,a,m);break e;case 1:u=_I(null,u,_,a,m);break e;case 11:u=gI(null,u,_,a,m);break e;case 14:u=yI(null,u,_,ao(_.type,a),m);break e}throw Error(n(306,_,""))}return u;case 0:return _=u.type,k=u.pendingProps,k=u.elementType===_?k:ao(_,k),a_(a,u,_,k,m);case 1:return _=u.type,k=u.pendingProps,k=u.elementType===_?k:ao(_,k),_I(a,u,_,k,m);case 3:e:{if(wI(u),a===null)throw Error(n(387));_=u.pendingProps,j=u.memoizedState,k=j.element,Dk(a,u),Gm(u,_,null,m);var Z=u.memoizedState;if(_=Z.element,j.isDehydrated)if(j={element:_,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},u.updateQueue.baseState=j,u.memoizedState=j,u.flags&256){k=Lc(Error(n(423)),u),u=SI(a,u,_,m,k);break e}else if(_!==k){k=Lc(Error(n(424)),u),u=SI(a,u,_,m,k);break e}else for(ys=Za(u.stateNode.containerInfo.firstChild),gs=u,mr=!0,oo=null,m=Pk(u,null,_,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(jc(),_===k){u=va(a,u,m);break e}Ri(a,u,_,m)}u=u.child}return u;case 5:return $k(u),a===null&&Dx(u),_=u.type,k=u.pendingProps,j=a!==null?a.memoizedProps:null,Z=k.children,Cx(_,k)?Z=null:j!==null&&Cx(_,j)&&(u.flags|=32),xI(a,u),Ri(a,u,Z,m),u.child;case 6:return a===null&&Dx(u),null;case 13:return EI(a,u,m);case 4:return Vx(u,u.stateNode.containerInfo),_=u.pendingProps,a===null?u.child=Ac(u,null,_,m):Ri(a,u,_,m),u.child;case 11:return _=u.type,k=u.pendingProps,k=u.elementType===_?k:ao(_,k),gI(a,u,_,k,m);case 7:return Ri(a,u,u.pendingProps,m),u.child;case 8:return Ri(a,u,u.pendingProps.children,m),u.child;case 12:return Ri(a,u,u.pendingProps.children,m),u.child;case 10:e:{if(_=u.type._context,k=u.pendingProps,j=u.memoizedProps,Z=k.value,rr(Hm,_._currentValue),_._currentValue=Z,j!==null)if(so(j.value,Z)){if(j.children===k.children&&!Xi.current){u=va(a,u,m);break e}}else for(j=u.child,j!==null&&(j.return=u);j!==null;){var ge=j.dependencies;if(ge!==null){Z=j.child;for(var Se=ge.firstContext;Se!==null;){if(Se.context===_){if(j.tag===1){Se=ya(-1,m&-m),Se.tag=2;var He=j.updateQueue;if(He!==null){He=He.shared;var ht=He.pending;ht===null?Se.next=Se:(Se.next=ht.next,ht.next=Se),He.pending=Se}}j.lanes|=m,Se=j.alternate,Se!==null&&(Se.lanes|=m),zx(j.return,m,u),ge.lanes|=m;break}Se=Se.next}}else if(j.tag===10)Z=j.type===u.type?null:j.child;else if(j.tag===18){if(Z=j.return,Z===null)throw Error(n(341));Z.lanes|=m,ge=Z.alternate,ge!==null&&(ge.lanes|=m),zx(Z,m,u),Z=j.sibling}else Z=j.child;if(Z!==null)Z.return=j;else for(Z=j;Z!==null;){if(Z===u){Z=null;break}if(j=Z.sibling,j!==null){j.return=Z.return,Z=j;break}Z=Z.return}j=Z}Ri(a,u,k.children,m),u=u.child}return u;case 9:return k=u.type,_=u.pendingProps.children,Fc(u,m),k=Bs(k),_=_(k),u.flags|=1,Ri(a,u,_,m),u.child;case 14:return _=u.type,k=ao(_,u.pendingProps),k=ao(_.type,k),yI(a,u,_,k,m);case 15:return vI(a,u,u.type,u.pendingProps,m);case 17:return _=u.type,k=u.pendingProps,k=u.elementType===_?k:ao(_,k),ig(a,u),u.tag=1,es(_)?(a=!0,$m(u)):a=!1,Fc(u,m),uI(u,_,k),i_(u,_,k,m),l_(null,u,_,!0,a,m);case 19:return kI(a,u,m);case 22:return bI(a,u,m)}throw Error(n(156,u.tag))};function ZI(a,u){return xc(a,u)}function E$(a,u,m,_){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Us(a,u,m,_){return new E$(a,u,m,_)}function C_(a){return a=a.prototype,!(!a||!a.isReactComponent)}function N$(a){if(typeof a=="function")return C_(a)?1:0;if(a!=null){if(a=a.$$typeof,a===W)return 11;if(a===ee)return 14}return 2}function al(a,u){var m=a.alternate;return m===null?(m=Us(a.tag,u,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=u,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&0xe00000,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,u=a.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function mg(a,u,m,_,k,j){var Z=2;if(_=a,typeof a=="function")C_(a)&&(Z=1);else if(typeof a=="string")Z=5;else e:switch(a){case z:return Su(m.children,k,j,u);case P:Z=8,k|=8;break;case R:return a=Us(12,m,u,k|2),a.elementType=R,a.lanes=j,a;case V:return a=Us(13,m,u,k),a.elementType=V,a.lanes=j,a;case B:return a=Us(19,m,u,k),a.elementType=B,a.lanes=j,a;case le:return gg(m,k,j,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:Z=10;break e;case F:Z=9;break e;case W:Z=11;break e;case ee:Z=14;break e;case J:Z=16,_=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Us(Z,m,u,k),u.elementType=a,u.type=_,u.lanes=j,u}function Su(a,u,m,_){return a=Us(7,a,_,u),a.lanes=m,a}function gg(a,u,m,_){return a=Us(22,a,_,u),a.elementType=le,a.lanes=m,a.stateNode={isHidden:!1},a}function T_(a,u,m){return a=Us(6,a,null,u),a.lanes=m,a}function O_(a,u,m){return u=Us(4,a.children!==null?a.children:[],a.key,u),u.lanes=m,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function k$(a,u,m,_,k){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qf(0),this.expirationTimes=qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.identifierPrefix=_,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function q_(a,u,m,_,k,j,Z,ge,Se){return a=new k$(a,u,m,ge,Se),u===1?(u=1,j===!0&&(u|=8)):u=0,j=Us(3,null,null,u),a.current=j,j.stateNode=a,j.memoizedState={element:_,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ux(j),a}function I$(a,u,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:_==null?null:""+_,children:a,containerInfo:u,implementation:m}}function JI(a){if(!a)return Ya;a=a._reactInternals;e:{if(Ds(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(es(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(es(m))return Nk(a,m,u)}return u}function YI(a,u,m,_,k,j,Z,ge,Se){return a=q_(m,_,!0,a,k,j,Z,ge,Se),a.context=JI(null),m=a.current,_=ji(),k=sl(m),j=ya(_,k),j.callback=u??null,tl(m,j,k),a.current.lanes=k,cu(a,k,_),rs(a,_),a}function yg(a,u,m,_){var k=u.current,j=ji(),Z=sl(k);return m=JI(m),u.context===null?u.context=m:u.pendingContext=m,u=ya(j,Z),u.payload={element:a},_=_===void 0?null:_,_!==null&&(u.callback=_),a=tl(k,u,Z),a!==null&&(co(a,k,Z,j),Km(a,k,Z)),Z}function vg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function XI(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<u?m:u}}function R_(a,u){XI(a,u),(a=a.alternate)&&XI(a,u)}var eC=typeof reportError=="function"?reportError:function(a){console.error(a)};function j_(a){this._internalRoot=a}bg.prototype.render=j_.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));yg(a,u,null,null)},bg.prototype.unmount=j_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;xu(function(){yg(null,a,null,null)}),u[fa]=null}};function bg(a){this._internalRoot=a}bg.prototype.unstable_scheduleHydration=function(a){if(a){var u=du();a={blockedOn:null,target:a,priority:u};for(var m=0;m<me.length&&u!==0&&u<me[m].priority;m++);me.splice(m,0,a),m===0&&Be(a)}};function A_(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function xg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function tC(){}function C$(a,u,m,_,k){if(k){if(typeof _=="function"){var j=_;_=function(){var He=vg(Z);j.call(He)}}var Z=YI(u,_,a,0,null,!1,!1,"",tC);return a._reactRootContainer=Z,a[fa]=Z.current,Wf(a.nodeType===8?a.parentNode:a),xu(),Z}for(;k=a.lastChild;)a.removeChild(k);if(typeof _=="function"){var ge=_;_=function(){var He=vg(Se);ge.call(He)}}var Se=q_(a,0,!1,null,null,!1,!1,"",tC);return a._reactRootContainer=Se,a[fa]=Se.current,Wf(a.nodeType===8?a.parentNode:a),xu(function(){yg(u,Se,m,_)}),Se}function _g(a,u,m,_,k){var j=m._reactRootContainer;if(j){var Z=j;if(typeof k=="function"){var ge=k;k=function(){var Se=vg(Z);ge.call(Se)}}yg(u,Z,a,k)}else Z=C$(m,u,a,k,_);return vg(Z)}jf=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var m=qi(u.pendingLanes);m!==0&&(Rf(u,m|1),rs(u,ur()),!(qn&6)&&(Bc=ur()+500,Xa()))}break;case 13:xu(function(){var _=ga(a,1);if(_!==null){var k=ji();co(_,a,1,k)}}),R_(a,1)}},he=function(a){if(a.tag===13){var u=ga(a,0x8000000);if(u!==null){var m=ji();co(u,a,0x8000000,m)}R_(a,0x8000000)}},Af=function(a){if(a.tag===13){var u=sl(a),m=ga(a,u);if(m!==null){var _=ji();co(m,a,u,_)}R_(a,u)}},du=function(){return Ln},Pf=function(a,u){var m=Ln;try{return Ln=a,u()}finally{Ln=m}},iu=function(a,u,m){switch(u){case"input":if(en(a,m),u=m.name,m.type==="radio"&&u!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var _=m[u];if(_!==a&&_.form===a.form){var k=Lm(_);if(!k)throw Error(n(90));Ue(_),en(_,k)}}}break;case"textarea":Me(a,m);break;case"select":u=m.value,u!=null&&Ae(a,!!m.multiple,u,!1)}},pc=N_,hc=xu;var T$={usingClientEntryPoint:!1,Events:[Hf,Cc,Lm,ln,fc,N_]},op={findFiberByHostInstance:fu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O$={bundleType:op.bundleType,version:op.version,rendererPackageName:op.rendererPackageName,rendererConfig:op.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=vc(a),a===null?null:a.stateNode},findFiberByHostInstance:op.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{Ha=wg.inject(O$),Yi=wg}catch{}}return is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$,is.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A_(u))throw Error(n(200));return I$(a,u,null,m)},is.createRoot=function(a,u){if(!A_(a))throw Error(n(299));var m=!1,_="",k=eC;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=q_(a,1,!1,null,null,m,!1,_,k),a[fa]=u.current,Wf(a.nodeType===8?a.parentNode:a),new j_(u)},is.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=vc(u),a=a===null?null:a.stateNode,a},is.flushSync=function(a){return xu(a)},is.hydrate=function(a,u,m){if(!xg(u))throw Error(n(200));return _g(null,a,u,!0,m)},is.hydrateRoot=function(a,u,m){if(!A_(a))throw Error(n(405));var _=m!=null&&m.hydratedSources||null,k=!1,j="",Z=eC;if(m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(Z=m.onRecoverableError)),u=YI(u,null,a,1,m??null,k,!1,j,Z),a[fa]=u.current,Wf(a),_)for(a=0;a<_.length;a++)m=_[a],k=m._getVersion,k=k(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,k]:u.mutableSourceEagerHydrationData.push(m,k);return new bg(u)},is.render=function(a,u,m){if(!xg(u))throw Error(n(200));return _g(null,a,u,!1,m)},is.unmountComponentAtNode=function(a){if(!xg(a))throw Error(n(40));return a._reactRootContainer?(xu(function(){_g(null,null,a,!1,function(){a._reactRootContainer=null,a[fa]=null})}),!0):!1},is.unstable_batchedUpdates=N_,is.unstable_renderSubtreeIntoContainer=function(a,u,m,_){if(!xg(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return _g(a,u,m,!1,_)},is.version="18.3.1-next-f1338f8080-20240426",is}var RC;function zj(){if(RC)return G_.exports;RC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),G_.exports=d4(),G_.exports}var ub=zj();const f4="Error preloading route! ";function p4(t,e){const n=Oo(),[r,i]=K.useState(!1),s=K.useRef(!1),o=MB(e),{activeProps:l=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:d,to:f,preload:h,preloadDelay:b,hashScrollIntoView:x,replace:w,startTransition:E,resetScroll:I,viewTransition:T,children:O,target:q,disabled:A,style:D,className:L,onClick:z,onFocus:P,onMouseEnter:R,onMouseLeave:M,onTouchStart:F,ignoreBlocker:W,...V}=t,{params:B,search:ee,hash:J,state:le,mask:se,reloadDocument:ne,...oe}=V,X=K.useMemo(()=>{try{return new URL(`${f}`),"external"}catch{}return"internal"},[f]),ce=$i({select:ke=>ke.location.search,structuralSharing:!0});t={from:Dl({strict:!1,select:ke=>ke.pathname}),...t};const ye=K.useMemo(()=>n.buildLocation(t),[n,t,ce]),_e=K.useMemo(()=>t.reloadDocument?!1:h??n.options.defaultPreload,[n.options.defaultPreload,h,t.reloadDocument]),Ne=b??n.options.defaultPreloadDelay??0,ze=$i({select:ke=>{if(d?.exact){if(!BB(ke.location.pathname,ye.pathname,n.basepath))return!1}else{const Ae=ev(ke.location.pathname,n.basepath).split("/");if(!ev(ye.pathname,n.basepath).split("/").every((Me,ct)=>Me===Ae[ct]))return!1}return(d?.includeSearch??!0)&&!md(ke.location.search,ye.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?ke.location.hash===ye.hash:!0}}),qe=K.useCallback(()=>{n.preloadRoute(t).catch(ke=>{console.warn(ke),console.warn(f4)})},[t,n]),De=K.useCallback(ke=>{ke?.isIntersecting&&qe()},[qe]);if(LB(o,De,{rootMargin:"100px"},{disabled:!!A||_e!=="viewport"}),_p(()=>{s.current||!A&&_e==="render"&&(qe(),s.current=!0)},[A,qe,_e]),X==="external")return{...oe,ref:o,type:X,href:f,...O&&{children:O},...q&&{target:q},...A&&{disabled:A},...D&&{style:D},...L&&{className:L},...z&&{onClick:z},...P&&{onFocus:P},...R&&{onMouseEnter:R},...M&&{onMouseLeave:M},...F&&{onTouchStart:F}};const Ze=ke=>{if(!A&&!m4(ke)&&!ke.defaultPrevented&&(!q||q==="_self")&&ke.button===0){ke.preventDefault(),ub.flushSync(()=>{i(!0)});const Ae=n.subscribe("onResolved",()=>{Ae(),i(!1)});return n.navigate({...t,replace:w,resetScroll:I,hashScrollIntoView:x,startTransition:E,viewTransition:T,ignoreBlocker:W})}},Xe=ke=>{A||_e&&qe()},Ue=Xe,ut=ke=>{if(A)return;const Ae=ke.target||{};if(_e){if(Ae.preloadTimeout)return;Ae.preloadTimeout=setTimeout(()=>{Ae.preloadTimeout=null,qe()},Ne)}},wt=ke=>{if(A)return;const Ae=ke.target||{};Ae.preloadTimeout&&(clearTimeout(Ae.preloadTimeout),Ae.preloadTimeout=null)},Tt=ke=>Ae=>{var Ve;(Ve=Ae.persist)==null||Ve.call(Ae),ke.filter(Boolean).forEach(rt=>{Ae.defaultPrevented||rt(Ae)})},Wt=ze?Pu(l,{})??{}:{},en=ze?{}:Pu(c,{}),xe=[L,Wt.className,en.className].filter(Boolean).join(" "),ve={...D,...Wt.style,...en.style};return{...oe,...Wt,...en,href:A?void 0:ye.maskedLocation?n.history.createHref(ye.maskedLocation.href):n.history.createHref(ye.href),ref:o,onClick:Tt([z,Ze]),onFocus:Tt([P,Xe]),onMouseEnter:Tt([R,ut]),onMouseLeave:Tt([M,wt]),onTouchStart:Tt([F,Ue]),disabled:!!A,target:q,...Object.keys(ve).length&&{style:ve},...xe&&{className:xe},...A&&{role:"link","aria-disabled":!0},...ze&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function Wj(t){return K.forwardRef(function(n,r){return p.jsx(h4,{...n,_asChild:t,ref:r})})}const h4=K.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:s,...o}=p4(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,K.createElement(n||"a",{...o,ref:s},l)});function m4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function g4(){const t=Oo(),e=K.useRef({router:t,mounted:!1}),n=$i({select:({isLoading:h})=>h}),[r,i]=K.useState(!1),s=$i({select:h=>h.matches.some(b=>b.status==="pending"),structuralSharing:!0}),o=H_(n),l=n||r||s,c=H_(l),d=n||s,f=H_(d);return t.isServer||(t.startReactTransition=h=>{i(!0),K.startTransition(()=>{h(),i(!1)})}),K.useEffect(()=>{const h=t.history.subscribe(t.load),b=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Fu(t.latestLocation.href)!==Fu(b.href)&&t.commitLocation({...b,replace:!0}),()=>{h()}},[t,t.history]),_p(()=>{var h;if(typeof window<"u"&&((h=window.__TSR__)!=null&&h.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),_p(()=>{if(o&&!n){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,w=b.href!==h.href;t.emit({type:"onLoad",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:w})}},[o,t,n]),_p(()=>{if(f&&!d){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,w=b.href!==h.href;t.emit({type:"onBeforeRouteMount",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:w})}},[d,f,t]),_p(()=>{if(c&&!l){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,w=b.href!==h.href;if(t.emit({type:"onResolved",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:w}),t.__store.setState(E=>({...E,status:"idle",resolvedLocation:E.location})),typeof document<"u"&&document.querySelector){const E=t.state.location.state.__hashScrollIntoViewOptions??!0;if(E&&t.state.location.hash!==""){const I=document.getElementById(t.state.location.hash);I&&I.scrollIntoView(E)}}}},[l,c,t]),null}function y4(){const t=Oo(),e=t.options.defaultPendingComponent?p.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?ay:K.Suspense,r=p.jsxs(n,{fallback:e,children:[p.jsx(g4,{}),p.jsx(v4,{})]});return t.options.InnerWrap?p.jsx(t.options.InnerWrap,{children:r}):r}function v4(){const t=$i({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=$i({select:n=>n.loadedAt});return p.jsx(lb.Provider,{value:t,children:p.jsx(h1,{getResetKey:()=>e,errorComponent:ab,onCatch:n=>{n.message||n.toString()},children:t?p.jsx(Bj,{matchId:t}):null})})}function b4(){const t=Oo();return $i({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),K.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s,...o}=e;return t.matchRoute(o,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s})},[t])}function x4({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=Aj(),i=p.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?p.jsx(t.options.Wrap,{children:i}):i}function _4({router:t,...e}){return p.jsx(x4,{router:t,...e,children:p.jsx(y4,{})})}const w4=typeof window<"u"?K.useLayoutEffect:K.useEffect,Y_="window",jC="___";let X_=new WeakSet;const S4=typeof window<"u"&&window.sessionStorage,ho=S4?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{ho.state=Pu(n,ho.state),window.sessionStorage.setItem(t,JSON.stringify(ho.state))}}})():void 0,E4=t=>t.state.key||t.href;function N4(t){const e=Oo();w4(()=>{const n=t?.getKey||E4,{history:r}=window;r.scrollRestoration="manual";const i=l=>{if(X_.has(l.target))return;X_.add(l.target);let c="";if(l.target===document||l.target===window)c=Y_;else{const d=l.target.getAttribute("data-scroll-restoration-id");d?c=`[data-scroll-restoration-id="${d}"]`:c=I4(l.target)}ho.state.next[c]||ho.set(d=>({...d,next:{...d.next,[c]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const s=e.subscribe("onBeforeLoad",l=>{if(l.hrefChanged){const c=n(l.fromLocation);for(const d in ho.state.next){const f=ho.state.next[d];if(d===Y_)f.scrollX=window.scrollX||0,f.scrollY=window.scrollY||0;else if(d){const h=document.querySelector(d);f.scrollX=h?.scrollLeft||0,f.scrollY=h?.scrollTop||0}ho.set(h=>{const b={...h.next};return delete b[d],{...h,next:b,cached:{...h.cached,[[c,d].join(jC)]:f}}})}}}),o=e.subscribe("onBeforeRouteMount",l=>{if(l.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const c=n(l.toLocation);let d=!1;for(const f in ho.state.cached){const h=ho.state.cached[f],[b,x]=f.split(jC);if(b===c){if(x===Y_)d=!0,window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:t?.scrollBehavior});else if(x){const w=document.querySelector(x);w&&(w.scrollLeft=h.scrollX,w.scrollTop=h.scrollY)}}}d||window.scrollTo(0,0),ho.set(f=>({...f,next:{}})),X_=new WeakSet}});return()=>{document.removeEventListener("scroll",i),s(),o()}},[t?.getKey,e])}function k4(t){return N4(t),null}function I4(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function er(t){return Dl({...t,select:e=>t.select?t.select(e.context):e.context})}let C4={data:""},T4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||C4,O4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,q4=/\/\*[^]*?\*\/|  +/g,AC=/\n+/g,_l=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?_l(o,s):s+"{"+_l(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=_l(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=_l.p?_l.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},xa={},Uj=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Uj(t[n]);return e}return t},R4=(t,e,n,r,i)=>{let s=Uj(t),o=xa[s]||(xa[s]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(s));if(!xa[o]){let c=s!==t?t:(d=>{let f,h,b=[{}];for(;f=O4.exec(d.replace(q4,""));)f[4]?b.shift():f[3]?(h=f[3].replace(AC," ").trim(),b.unshift(b[0][h]=b[0][h]||{})):b[0][f[1]]=f[2].replace(AC," ").trim();return b[0]})(t);xa[o]=_l(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&xa.g?xa.g:null;return n&&(xa.g=xa[o]),((c,d,f,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(xa[o],e,r,l),o},j4=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":_l(l,""):l===!1?"":l}return r+i+(o??"")},"");function cb(t){let e=this||{},n=t.call?t(e.p):t;return R4(n.unshift?n.raw?j4(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,T4(e.target),e.g,e.o,e.k)}let Vj,KS,GS;cb.bind({g:1});let Pa=cb.bind({k:1});function A4(t,e,n,r){_l.p=e,Vj=t,KS=n,GS=r}function Gl(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),c=l.className||i.className;n.p=Object.assign({theme:KS&&KS()},l),n.o=/ *go\d+/.test(c),l.className=cb.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),GS&&d[0]&&GS(l),Vj(d,l)}return i}}var P4=t=>typeof t=="function",nv=(t,e)=>P4(t)?t(e):t,F4=(()=>{let t=0;return()=>(++t).toString()})(),Hj=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),D4=20,Qj=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,D4)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return Qj(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},ly=[],uy={toasts:[],pausedAt:void 0},oc=t=>{uy=Qj(uy,t),ly.forEach(e=>{e(uy)})},L4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},M4=(t={})=>{let[e,n]=K.useState(uy);K.useEffect(()=>(ly.push(n),()=>{let i=ly.indexOf(n);i>-1&&ly.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||t?.removeDelay,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||t?.duration||L4[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},$4=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||F4()}),Hh=t=>(e,n)=>{let r=$4(e,t,n);return oc({type:2,toast:r}),r.id},En=(t,e)=>Hh("blank")(t,e);En.error=Hh("error");En.success=Hh("success");En.loading=Hh("loading");En.custom=Hh("custom");En.dismiss=t=>{oc({type:3,toastId:t})};En.remove=t=>oc({type:4,toastId:t});En.promise=(t,e,n)=>{let r=En.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?nv(e.success,i):void 0;return s?En.success(s,{id:r,...n,...n?.success}):En.dismiss(r),i}).catch(i=>{let s=e.error?nv(e.error,i):void 0;s?En.error(s,{id:r,...n,...n?.error}):En.dismiss(r)}),t};var B4=(t,e)=>{oc({type:1,toast:{id:t,height:e}})},z4=()=>{oc({type:5,time:Date.now()})},zp=new Map,W4=1e3,U4=(t,e=W4)=>{if(zp.has(t))return;let n=setTimeout(()=>{zp.delete(t),oc({type:4,toastId:t})},e);zp.set(t,n)},V4=t=>{let{toasts:e,pausedAt:n}=M4(t);K.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&En.dismiss(l.id);return}return setTimeout(()=>En.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=K.useCallback(()=>{n&&oc({type:6,time:Date.now()})},[n]),i=K.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},f=e.filter(x=>(x.position||d)===(s.position||d)&&x.height),h=f.findIndex(x=>x.id===s.id),b=f.filter((x,w)=>w<h&&x.visible).length;return f.filter(x=>x.visible).slice(...l?[b+1]:[0,b]).reduce((x,w)=>x+(w.height||0)+c,0)},[e]);return K.useEffect(()=>{e.forEach(s=>{if(s.dismissed)U4(s.id,s.removeDelay);else{let o=zp.get(s.id);o&&(clearTimeout(o),zp.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:B4,startPause:z4,endPause:r,calculateOffset:i}}},H4=Pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Q4=Pa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,K4=Pa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,G4=Gl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${H4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Q4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${K4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Z4=Pa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,J4=Gl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Z4} 1s linear infinite;
`,Y4=Pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,X4=Pa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ez=Gl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Y4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${X4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tz=Gl("div")`
  position: absolute;
`,nz=Gl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rz=Pa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iz=Gl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sz=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?K.createElement(iz,null,e):e:n==="blank"?null:K.createElement(nz,null,K.createElement(J4,{...r}),n!=="loading"&&K.createElement(tz,null,n==="error"?K.createElement(G4,{...r}):K.createElement(ez,{...r})))},oz=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,az=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,lz="0%{opacity:0;} 100%{opacity:1;}",uz="0%{opacity:1;} 100%{opacity:0;}",cz=Gl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dz=Gl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fz=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Hj()?[lz,uz]:[oz(n),az(n)];return{animation:e?`${Pa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},pz=K.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?fz(t.position||e||"top-center",t.visible):{opacity:0},s=K.createElement(sz,{toast:t}),o=K.createElement(dz,{...t.ariaProps},nv(t.message,t));return K.createElement(cz,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):K.createElement(K.Fragment,null,s,o))});A4(K.createElement);var hz=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=K.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return K.createElement("div",{ref:s,className:e,style:n},i)},mz=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Hj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},gz=cb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Tg=16,yz=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=V4(n);return K.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Tg,left:Tg,right:Tg,bottom:Tg,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let f=d.position||e,h=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),b=mz(f,h);return K.createElement(hz,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?gz:"",style:b},d.type==="custom"?nv(d.message,d):i?i(d):K.createElement(pz,{toast:d,position:f}))}))},vz=En;class ac extends Error{}class bz extends ac{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class xz extends ac{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class _z extends ac{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class id extends ac{}class Kj extends ac{constructor(e){super(`Invalid unit ${e}`)}}class xi extends ac{}class ul extends ac{constructor(){super("Zone is an abstract class")}}const Ct="numeric",No="short",Cs="long",rv={year:Ct,month:Ct,day:Ct},Gj={year:Ct,month:No,day:Ct},wz={year:Ct,month:No,day:Ct,weekday:No},Zj={year:Ct,month:Cs,day:Ct},Jj={year:Ct,month:Cs,day:Ct,weekday:Cs},Yj={hour:Ct,minute:Ct},Xj={hour:Ct,minute:Ct,second:Ct},eA={hour:Ct,minute:Ct,second:Ct,timeZoneName:No},tA={hour:Ct,minute:Ct,second:Ct,timeZoneName:Cs},nA={hour:Ct,minute:Ct,hourCycle:"h23"},rA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23"},iA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:No},sA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:Cs},oA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct},aA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct,second:Ct},lA={year:Ct,month:No,day:Ct,hour:Ct,minute:Ct},uA={year:Ct,month:No,day:Ct,hour:Ct,minute:Ct,second:Ct},Sz={year:Ct,month:No,day:Ct,weekday:No,hour:Ct,minute:Ct},cA={year:Ct,month:Cs,day:Ct,hour:Ct,minute:Ct,timeZoneName:No},dA={year:Ct,month:Cs,day:Ct,hour:Ct,minute:Ct,second:Ct,timeZoneName:No},fA={year:Ct,month:Cs,day:Ct,weekday:Cs,hour:Ct,minute:Ct,timeZoneName:Cs},pA={year:Ct,month:Cs,day:Ct,weekday:Cs,hour:Ct,minute:Ct,second:Ct,timeZoneName:Cs};class Qh{get type(){throw new ul}get name(){throw new ul}get ianaName(){return this.name}get isUniversal(){throw new ul}offsetName(e,n){throw new ul}formatOffset(e,n){throw new ul}offset(e){throw new ul}equals(e){throw new ul}get isValid(){throw new ul}}let ew=null;class db extends Qh{static get instance(){return ew===null&&(ew=new db),ew}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return wA(e,n,r)}formatOffset(e,n){return Wp(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let cy={};function Ez(t){return cy[t]||(cy[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),cy[t]}const Nz={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function kz(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,l,c,d,f]=r;return[o,i,s,l,c,d,f]}function Iz(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=Nz[s];s==="era"?r[l]=o:cn(l)||(r[l]=parseInt(o,10))}return r}let Og={};class Fa extends Qh{static create(e){return Og[e]||(Og[e]=new Fa(e)),Og[e]}static resetCache(){Og={},cy={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Fa.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return wA(e,n,r,this.name)}formatOffset(e,n){return Wp(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=Ez(this.name);let[i,s,o,l,c,d,f]=r.formatToParts?Iz(r,n):kz(r,n);l==="BC"&&(i=-Math.abs(i)+1);const b=pb({year:i,month:s,day:o,hour:c===24?0:c,minute:d,second:f,millisecond:0});let x=+n;const w=x%1e3;return x-=w>=0?w:1e3+w,(b-x)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let PC={};function Cz(t,e={}){const n=JSON.stringify([t,e]);let r=PC[n];return r||(r=new Intl.ListFormat(t,e),PC[n]=r),r}let ZS={};function JS(t,e={}){const n=JSON.stringify([t,e]);let r=ZS[n];return r||(r=new Intl.DateTimeFormat(t,e),ZS[n]=r),r}let YS={};function Tz(t,e={}){const n=JSON.stringify([t,e]);let r=YS[n];return r||(r=new Intl.NumberFormat(t,e),YS[n]=r),r}let XS={};function Oz(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=XS[i];return s||(s=new Intl.RelativeTimeFormat(t,e),XS[i]=s),s}let Sp=null;function qz(){return Sp||(Sp=new Intl.DateTimeFormat().resolvedOptions().locale,Sp)}let FC={};function Rz(t){let e=FC[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,FC[t]=e}return e}function jz(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=JS(t).resolvedOptions(),i=t}catch{const c=t.substring(0,n);r=JS(c).resolvedOptions(),i=c}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function Az(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Pz(t){const e=[];for(let n=1;n<=12;n++){const r=un.utc(2009,n,1);e.push(t(r))}return e}function Fz(t){const e=[];for(let n=1;n<=7;n++){const r=un.utc(2016,11,13+n);e.push(t(r))}return e}function qg(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function Dz(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Lz{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=Tz(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):b1(e,3);return Qr(n,this.padTo)}}}class Mz{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Fa.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=JS(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class $z{constructor(e,n,r){this.opts={style:"long",...r},!n&&xA()&&(this.rtf=Oz(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):uW(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const Bz={firstDay:1,minimalDays:4,weekend:[6,7]};class Wn{static fromOpts(e){return Wn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const o=e||Lr.defaultLocale,l=o||(s?"en-US":qz()),c=n||Lr.defaultNumberingSystem,d=r||Lr.defaultOutputCalendar,f=eE(i)||Lr.defaultWeekSettings;return new Wn(l,c,d,f,o)}static resetCache(){Sp=null,ZS={},YS={},XS={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Wn.create(e,n,r,i)}constructor(e,n,r,i,s){const[o,l,c]=jz(e);this.locale=o,this.numberingSystem=n||l||null,this.outputCalendar=r||c||null,this.weekSettings=i,this.intl=Az(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Dz(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Wn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,eE(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return qg(this,e,NA,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Pz(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return qg(this,e,CA,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Fz(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return qg(this,void 0,()=>TA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[un.utc(2016,11,13,9),un.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return qg(this,e,OA,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[un.utc(-40,1,1),un.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new Lz(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Mz(e,this.intl,n)}relFormatter(e={}){return new $z(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Cz(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:_A()?Rz(this.locale):Bz}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let tw=null;class Mi extends Qh{static get utcInstance(){return tw===null&&(tw=new Mi(0)),tw}static instance(e){return e===0?Mi.utcInstance:new Mi(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Mi(hb(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Wp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Wp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Wp(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class zz extends Qh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function wl(t,e){if(cn(t)||t===null)return e;if(t instanceof Qh)return t;if(Kz(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?db.instance:n==="utc"||n==="gmt"?Mi.utcInstance:Mi.parseSpecifier(n)||Fa.create(t)}else return Ol(t)?Mi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new zz(t)}const m1={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},DC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Wz=m1.hanidec.replace(/[\[|\]]/g,"").split("");function Uz(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(m1.hanidec)!==-1)e+=Wz.indexOf(t[n]);else for(const i in DC){const[s,o]=DC[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}let ed={};function Vz(){ed={}}function fo({numberingSystem:t},e=""){const n=t||"latn";return ed[n]||(ed[n]={}),ed[n][e]||(ed[n][e]=new RegExp(`${m1[n]}${e}`)),ed[n][e]}let LC=()=>Date.now(),MC="system",$C=null,BC=null,zC=null,WC=60,UC,VC=null;class Lr{static get now(){return LC}static set now(e){LC=e}static set defaultZone(e){MC=e}static get defaultZone(){return wl(MC,db.instance)}static get defaultLocale(){return $C}static set defaultLocale(e){$C=e}static get defaultNumberingSystem(){return BC}static set defaultNumberingSystem(e){BC=e}static get defaultOutputCalendar(){return zC}static set defaultOutputCalendar(e){zC=e}static get defaultWeekSettings(){return VC}static set defaultWeekSettings(e){VC=eE(e)}static get twoDigitCutoffYear(){return WC}static set twoDigitCutoffYear(e){WC=e%100}static get throwOnInvalid(){return UC}static set throwOnInvalid(e){UC=e}static resetCaches(){Wn.resetCache(),Fa.resetCache(),un.resetCache(),Vz()}}class _o{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const hA=[0,31,59,90,120,151,181,212,243,273,304,334],mA=[0,31,60,91,121,152,182,213,244,274,305,335];function Ys(t,e){return new _o("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function g1(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function gA(t,e,n){return n+(Kh(t)?mA:hA)[e-1]}function yA(t,e){const n=Kh(t)?mA:hA,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function y1(t,e){return(t-e+7)%7+1}function iv(t,e=4,n=1){const{year:r,month:i,day:s}=t,o=gA(r,i,s),l=y1(g1(r,i,s),n);let c=Math.floor((o-l+14-e)/7),d;return c<1?(d=r-1,c=sh(d,e,n)):c>sh(r,e,n)?(d=r+1,c=1):d=r,{weekYear:d,weekNumber:c,weekday:l,...mb(t)}}function HC(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,o=y1(g1(r,1,e),n),l=gd(r);let c=i*7+s-o-7+e,d;c<1?(d=r-1,c+=gd(d)):c>l?(d=r+1,c-=gd(r)):d=r;const{month:f,day:h}=yA(d,c);return{year:d,month:f,day:h,...mb(t)}}function nw(t){const{year:e,month:n,day:r}=t,i=gA(e,n,r);return{year:e,ordinal:i,...mb(t)}}function QC(t){const{year:e,ordinal:n}=t,{month:r,day:i}=yA(e,n);return{year:e,month:r,day:i,...mb(t)}}function KC(t,e){if(!cn(t.localWeekday)||!cn(t.localWeekNumber)||!cn(t.localWeekYear)){if(!cn(t.weekday)||!cn(t.weekNumber)||!cn(t.weekYear))throw new id("Cannot mix locale-based week fields with ISO-based week fields");return cn(t.localWeekday)||(t.weekday=t.localWeekday),cn(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),cn(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Hz(t,e=4,n=1){const r=fb(t.weekYear),i=Xs(t.weekNumber,1,sh(t.weekYear,e,n)),s=Xs(t.weekday,1,7);return r?i?s?!1:Ys("weekday",t.weekday):Ys("week",t.weekNumber):Ys("weekYear",t.weekYear)}function Qz(t){const e=fb(t.year),n=Xs(t.ordinal,1,gd(t.year));return e?n?!1:Ys("ordinal",t.ordinal):Ys("year",t.year)}function vA(t){const e=fb(t.year),n=Xs(t.month,1,12),r=Xs(t.day,1,sv(t.year,t.month));return e?n?r?!1:Ys("day",t.day):Ys("month",t.month):Ys("year",t.year)}function bA(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=Xs(e,0,23)||e===24&&n===0&&r===0&&i===0,o=Xs(n,0,59),l=Xs(r,0,59),c=Xs(i,0,999);return s?o?l?c?!1:Ys("millisecond",i):Ys("second",r):Ys("minute",n):Ys("hour",e)}function cn(t){return typeof t>"u"}function Ol(t){return typeof t=="number"}function fb(t){return typeof t=="number"&&t%1===0}function Kz(t){return typeof t=="string"}function Gz(t){return Object.prototype.toString.call(t)==="[object Date]"}function xA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function _A(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Zz(t){return Array.isArray(t)?t:[t]}function GC(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function Jz(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Rd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function eE(t){if(t==null)return null;if(typeof t!="object")throw new xi("Week settings must be an object");if(!Xs(t.firstDay,1,7)||!Xs(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Xs(e,1,7)))throw new xi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Xs(t,e,n){return fb(t)&&t>=e&&t<=n}function Yz(t,e){return t-e*Math.floor(t/e)}function Qr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function vl(t){if(!(cn(t)||t===null||t===""))return parseInt(t,10)}function Eu(t){if(!(cn(t)||t===null||t===""))return parseFloat(t)}function v1(t){if(!(cn(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function b1(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Kh(t){return t%4===0&&(t%100!==0||t%400===0)}function gd(t){return Kh(t)?366:365}function sv(t,e){const n=Yz(e-1,12)+1,r=t+(e-n)/12;return n===2?Kh(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function pb(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function ZC(t,e,n){return-y1(g1(t,1,e),n)+e-1}function sh(t,e=4,n=1){const r=ZC(t,e,n),i=ZC(t+1,e,n);return(gd(t)-r+i)/7}function tE(t){return t>99?t:t>Lr.twoDigitCutoffYear?1900+t:2e3+t}function wA(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function hb(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function SA(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new xi(`Invalid unit value ${t}`);return e}function ov(t,e){const n={};for(const r in t)if(Rd(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=SA(i)}return n}function Wp(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Qr(n,2)}:${Qr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Qr(n,2)}${Qr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function mb(t){return Jz(t,["hour","minute","second","millisecond"])}const Xz=["January","February","March","April","May","June","July","August","September","October","November","December"],EA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],eW=["J","F","M","A","M","J","J","A","S","O","N","D"];function NA(t){switch(t){case"narrow":return[...eW];case"short":return[...EA];case"long":return[...Xz];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const kA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],IA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tW=["M","T","W","T","F","S","S"];function CA(t){switch(t){case"narrow":return[...tW];case"short":return[...IA];case"long":return[...kA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const TA=["AM","PM"],nW=["Before Christ","Anno Domini"],rW=["BC","AD"],iW=["B","A"];function OA(t){switch(t){case"narrow":return[...iW];case"short":return[...rW];case"long":return[...nW];default:return null}}function sW(t){return TA[t.hour<12?0:1]}function oW(t,e){return CA(e)[t.weekday-1]}function aW(t,e){return NA(e)[t.month-1]}function lW(t,e){return OA(e)[t.year<0?0:1]}function uW(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${i[t][0]}`;case-1:return h?"yesterday":`last ${i[t][0]}`;case 0:return h?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),c=l===1,d=i[t],f=r?c?d[1]:d[2]||d[1]:c?i[t][0]:t;return o?`${l} ${f} ago`:`in ${l} ${f}`}function JC(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const cW={D:rv,DD:Gj,DDD:Zj,DDDD:Jj,t:Yj,tt:Xj,ttt:eA,tttt:tA,T:nA,TT:rA,TTT:iA,TTTT:sA,f:oA,ff:lA,fff:cA,ffff:fA,F:aA,FF:uA,FFF:dA,FFFF:pA};class wi{static create(e,n={}){return new wi(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return cW[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Qr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(x,w)=>this.loc.extract(e,x,w),o=x=>e.isOffsetFixed&&e.offset===0&&x.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,x.format):"",l=()=>r?sW(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(x,w)=>r?aW(e,x):s(w?{month:x}:{month:x,day:"numeric"},"month"),d=(x,w)=>r?oW(e,x):s(w?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),f=x=>{const w=wi.macroTokenToFormatOpts(x);return w?this.formatWithSystemDefault(e,w):x},h=x=>r?lW(e,x):s({era:x},"era"),b=x=>{switch(x){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(x)}};return JC(wi.parseFormat(n),b)}formatDurationFromString(e,n){const r=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=c=>d=>{const f=r(d);return f?this.num(c.get(f),d.length):d},s=wi.parseFormat(n),o=s.reduce((c,{literal:d,val:f})=>d?c:c.concat(f),[]),l=e.shiftTo(...o.map(r).filter(c=>c));return JC(s,i(l))}}const qA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Jd(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Yd(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,c]=s(e,i);return[{...n,...o},l||r,c]},[{},null,1]).slice(0,2)}function Xd(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function RA(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=vl(e[n+i]);return[r,null,n+i]}}const jA=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,dW=`(?:${jA.source}?(?:\\[(${qA.source})\\])?)?`,x1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,AA=RegExp(`${x1.source}${dW}`),_1=RegExp(`(?:T${AA.source})?`),fW=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,pW=/(\d{4})-?W(\d\d)(?:-?(\d))?/,hW=/(\d{4})-?(\d{3})/,mW=RA("weekYear","weekNumber","weekDay"),gW=RA("year","ordinal"),yW=/(\d{4})-(\d\d)-(\d\d)/,PA=RegExp(`${x1.source} ?(?:${jA.source}|(${qA.source}))?`),vW=RegExp(`(?: ${PA.source})?`);function yd(t,e,n){const r=t[e];return cn(r)?n:vl(r)}function bW(t,e){return[{year:yd(t,e),month:yd(t,e+1,1),day:yd(t,e+2,1)},null,e+3]}function ef(t,e){return[{hours:yd(t,e,0),minutes:yd(t,e+1,0),seconds:yd(t,e+2,0),milliseconds:v1(t[e+3])},null,e+4]}function Gh(t,e){const n=!t[e]&&!t[e+1],r=hb(t[e+1],t[e+2]),i=n?null:Mi.instance(r);return[{},i,e+3]}function Zh(t,e){const n=t[e]?Fa.create(t[e]):null;return[{},n,e+1]}const xW=RegExp(`^T?${x1.source}$`),_W=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function wW(t){const[e,n,r,i,s,o,l,c,d]=t,f=e[0]==="-",h=c&&c[0]==="-",b=(x,w=!1)=>x!==void 0&&(w||x&&f)?-x:x;return[{years:b(Eu(n)),months:b(Eu(r)),weeks:b(Eu(i)),days:b(Eu(s)),hours:b(Eu(o)),minutes:b(Eu(l)),seconds:b(Eu(c),c==="-0"),milliseconds:b(v1(d),h)}]}const SW={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function w1(t,e,n,r,i,s,o){const l={year:e.length===2?tE(vl(e)):vl(e),month:EA.indexOf(n)+1,day:vl(r),hour:vl(i),minute:vl(s)};return o&&(l.second=vl(o)),t&&(l.weekday=t.length>3?kA.indexOf(t)+1:IA.indexOf(t)+1),l}const EW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function NW(t){const[,e,n,r,i,s,o,l,c,d,f,h]=t,b=w1(e,i,r,n,s,o,l);let x;return c?x=SW[c]:d?x=0:x=hb(f,h),[b,new Mi(x)]}function kW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const IW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,CW=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,TW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function YC(t){const[,e,n,r,i,s,o,l]=t;return[w1(e,i,r,n,s,o,l),Mi.utcInstance]}function OW(t){const[,e,n,r,i,s,o,l]=t;return[w1(e,l,n,r,i,s,o),Mi.utcInstance]}const qW=Jd(fW,_1),RW=Jd(pW,_1),jW=Jd(hW,_1),AW=Jd(AA),FA=Yd(bW,ef,Gh,Zh),PW=Yd(mW,ef,Gh,Zh),FW=Yd(gW,ef,Gh,Zh),DW=Yd(ef,Gh,Zh);function LW(t){return Xd(t,[qW,FA],[RW,PW],[jW,FW],[AW,DW])}function MW(t){return Xd(kW(t),[EW,NW])}function $W(t){return Xd(t,[IW,YC],[CW,YC],[TW,OW])}function BW(t){return Xd(t,[_W,wW])}const zW=Yd(ef);function WW(t){return Xd(t,[xW,zW])}const UW=Jd(yW,vW),VW=Jd(PA),HW=Yd(ef,Gh,Zh);function QW(t){return Xd(t,[UW,FA],[VW,HW])}const XC="Invalid Duration",DA={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},KW={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...DA},Vs=146097/400,Wc=146097/4800,GW={years:{quarters:4,months:12,weeks:Vs/7,days:Vs,hours:Vs*24,minutes:Vs*24*60,seconds:Vs*24*60*60,milliseconds:Vs*24*60*60*1e3},quarters:{months:3,weeks:Vs/28,days:Vs/4,hours:Vs*24/4,minutes:Vs*24*60/4,seconds:Vs*24*60*60/4,milliseconds:Vs*24*60*60*1e3/4},months:{weeks:Wc/7,days:Wc,hours:Wc*24,minutes:Wc*24*60,seconds:Wc*24*60*60,milliseconds:Wc*24*60*60*1e3},...DA},Du=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ZW=Du.slice(0).reverse();function cl(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Rn(r)}function LA(t,e){let n=e.milliseconds??0;for(const r of ZW.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function eT(t,e){const n=LA(t,e)<0?-1:1;Du.reduceRight((r,i)=>{if(cn(e[i]))return r;if(r){const s=e[r]*n,o=t[i][r],l=Math.floor(s/o);e[i]+=l*n,e[r]-=l*o*n}return i},null),Du.reduce((r,i)=>{if(cn(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function JW(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class Rn{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?GW:KW;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Wn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return Rn.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new xi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Rn({values:ov(e,Rn.normalizeUnit),loc:Wn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Ol(e))return Rn.fromMillis(e);if(Rn.isDuration(e))return e;if(typeof e=="object")return Rn.fromObject(e);throw new xi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=BW(e);return r?Rn.fromObject(r,n):Rn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=WW(e);return r?Rn.fromObject(r,n):Rn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new xi("need to specify a reason the Duration is invalid");const r=e instanceof _o?e:new _o(e,n);if(Lr.throwOnInvalid)throw new _z(r);return new Rn({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Kj(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?wi.create(this.loc,r).formatDurationFromString(this,e):XC}toHuman(e={}){if(!this.isValid)return XC;const n=Du.map(r=>{const i=this.values[r];return cn(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=b1(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},un.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?LA(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Rn.fromDurationLike(e),r={};for(const i of Du)(Rd(n.values,i)||Rd(this.values,i))&&(r[i]=n.get(i)+this.get(i));return cl(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=Rn.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=SA(e(this.values[r],r));return cl(this,{values:n},!0)}get(e){return this[Rn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...ov(e,Rn.normalizeUnit)};return cl(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return cl(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return eT(this.matrix,e),cl(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=JW(this.normalize().shiftToAll().toObject());return cl(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Rn.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Du)if(e.indexOf(o)>=0){s=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;Ol(i[o])&&(l+=i[o]);const c=Math.trunc(l);n[o]=c,r[o]=(l*1e3-c*1e3)/1e3}else Ol(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return eT(this.matrix,n),cl(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return cl(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Du)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Uc="Invalid Interval";function YW(t,e){return!t||!t.isValid?Dr.invalid("missing or invalid start"):!e||!e.isValid?Dr.invalid("missing or invalid end"):e<t?Dr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Dr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new xi("need to specify a reason the Interval is invalid");const r=e instanceof _o?e:new _o(e,n);if(Lr.throwOnInvalid)throw new xz(r);return new Dr({invalid:r})}static fromDateTimes(e,n){const r=lp(e),i=lp(n),s=YW(r,i);return s??new Dr({start:r,end:i})}static after(e,n){const r=Rn.fromDurationLike(n),i=lp(e);return Dr.fromDateTimes(i,i.plus(r))}static before(e,n){const r=Rn.fromDurationLike(n),i=lp(e);return Dr.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=un.fromISO(r,n),o=s.isValid}catch{o=!1}let l,c;try{l=un.fromISO(i,n),c=l.isValid}catch{c=!1}if(o&&c)return Dr.fromDateTimes(s,l);if(o){const d=Rn.fromISO(i,n);if(d.isValid)return Dr.after(s,d)}else if(c){const d=Rn.fromISO(r,n);if(d.isValid)return Dr.before(l,d)}}return Dr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Dr.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(lp).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(Dr.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=Rn.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(c=>c*i));s=+l>+this.e?this.e:l,o.push(Dr.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Dr.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Dr.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((c,d)=>c.time-d.time);for(const c of l)r+=c.type==="s"?1:-1,r===1?n=c.time:(n&&+n!=+c.time&&i.push(Dr.fromDateTimes(n,c.time)),n=null);return Dr.merge(i)}difference(...e){return Dr.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Uc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=rv,n={}){return this.isValid?wi.create(this.s.loc.clone(n),e).formatInterval(this):Uc}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Uc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Uc}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Uc}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Uc}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Rn.invalid(this.invalidReason)}mapEndpoints(e){return Dr.fromDateTimes(e(this.s),e(this.e))}}class Rg{static hasDST(e=Lr.defaultZone){const n=un.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Fa.isValidZone(e)}static normalizeZone(e){return wl(e,Lr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Wn.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Wn.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Wn.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Wn.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Wn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Wn.create(n,null,"gregory").eras(e)}static features(){return{relative:xA(),localeWeek:_A()}}}function tT(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(Rn.fromMillis(r).as("days"))}function XW(t,e,n){const r=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const f=tT(c,d);return(f-f%7)/7}],["days",tT]],i={},s=t;let o,l;for(const[c,d]of r)n.indexOf(c)>=0&&(o=c,i[c]=d(t,e),l=s.plus(i),l>e?(i[c]--,t=s.plus(i),t>e&&(l=t,i[c]--,t=s.plus(i))):t=l);return[t,i,l,o]}function e6(t,e,n,r){let[i,s,o,l]=XW(t,e,n);const c=e-i,d=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);d.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+c/(o-i)));const f=Rn.fromObject(s,r);return d.length>0?Rn.fromMillis(c,r).shiftTo(...d).plus(f):f}const t6="missing Intl.DateTimeFormat.formatToParts support";function Mn(t,e=n=>n){return{regex:t,deser:([n])=>e(Uz(n))}}const n6="\xa0",MA=`[ ${n6}]`,$A=new RegExp(MA,"g");function r6(t){return t.replace(/\./g,"\\.?").replace($A,MA)}function nT(t){return t.replace(/\./g,"").replace($A," ").toLowerCase()}function po(t,e){return t===null?null:{regex:RegExp(t.map(r6).join("|")),deser:([n])=>t.findIndex(r=>nT(n)===nT(r))+e}}function rT(t,e){return{regex:t,deser:([,n,r])=>hb(n,r),groups:e}}function jg(t){return{regex:t,deser:([e])=>e}}function i6(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s6(t,e){const n=fo(e),r=fo(e,"{2}"),i=fo(e,"{3}"),s=fo(e,"{4}"),o=fo(e,"{6}"),l=fo(e,"{1,2}"),c=fo(e,"{1,3}"),d=fo(e,"{1,6}"),f=fo(e,"{1,9}"),h=fo(e,"{2,4}"),b=fo(e,"{4,6}"),x=I=>({regex:RegExp(i6(I.val)),deser:([T])=>T,literal:!0}),E=(I=>{if(t.literal)return x(I);switch(I.val){case"G":return po(e.eras("short"),0);case"GG":return po(e.eras("long"),0);case"y":return Mn(d);case"yy":return Mn(h,tE);case"yyyy":return Mn(s);case"yyyyy":return Mn(b);case"yyyyyy":return Mn(o);case"M":return Mn(l);case"MM":return Mn(r);case"MMM":return po(e.months("short",!0),1);case"MMMM":return po(e.months("long",!0),1);case"L":return Mn(l);case"LL":return Mn(r);case"LLL":return po(e.months("short",!1),1);case"LLLL":return po(e.months("long",!1),1);case"d":return Mn(l);case"dd":return Mn(r);case"o":return Mn(c);case"ooo":return Mn(i);case"HH":return Mn(r);case"H":return Mn(l);case"hh":return Mn(r);case"h":return Mn(l);case"mm":return Mn(r);case"m":return Mn(l);case"q":return Mn(l);case"qq":return Mn(r);case"s":return Mn(l);case"ss":return Mn(r);case"S":return Mn(c);case"SSS":return Mn(i);case"u":return jg(f);case"uu":return jg(l);case"uuu":return Mn(n);case"a":return po(e.meridiems(),0);case"kkkk":return Mn(s);case"kk":return Mn(h,tE);case"W":return Mn(l);case"WW":return Mn(r);case"E":case"c":return Mn(n);case"EEE":return po(e.weekdays("short",!1),1);case"EEEE":return po(e.weekdays("long",!1),1);case"ccc":return po(e.weekdays("short",!0),1);case"cccc":return po(e.weekdays("long",!0),1);case"Z":case"ZZ":return rT(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return rT(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return jg(/[a-z_+-/]{1,256}?/i);case" ":return jg(/[^\S\n\r]/);default:return x(I)}})(t)||{invalidReason:t6};return E.token=t,E}const o6={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function a6(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const c=/^\s+$/.test(i);return{literal:!c,val:c?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let l=o6[o];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function l6(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function u6(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(Rd(n,o)){const l=n[o],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+c))),s+=c}return[r,i]}else return[r,{}]}function c6(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return cn(t.z)||(n=Fa.create(t.z)),cn(t.Z)||(n||(n=new Mi(t.Z)),r=t.Z),cn(t.q)||(t.M=(t.q-1)*3+1),cn(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),cn(t.u)||(t.S=v1(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let rw=null;function d6(){return rw||(rw=un.fromMillis(0x16a2e5618e3)),rw}function f6(t,e){if(t.literal)return t;const n=wi.macroTokenToFormatOpts(t.val),r=UA(n,e);return r==null||r.includes(void 0)?t:r}function BA(t,e){return Array.prototype.concat(...t.map(n=>f6(n,e)))}class zA{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=BA(wi.parseFormat(n),e),this.units=this.tokens.map(r=>s6(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=l6(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=u6(e,this.regex,this.handlers),[i,s,o]=r?c6(r):[null,null,void 0];if(Rd(r,"a")&&Rd(r,"H"))throw new id("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function WA(t,e,n){return new zA(t,n).explainFromTokens(e)}function p6(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=WA(t,e,n);return[r,i,s,o]}function UA(t,e){if(!t)return null;const r=wi.create(e,t).dtFormatter(d6()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>a6(o,t,s))}const iw="Invalid DateTime",h6=864e13;function Ep(t){return new _o("unsupported zone",`the zone "${t.name}" is not supported`)}function sw(t){return t.weekData===null&&(t.weekData=iv(t.c)),t.weekData}function ow(t){return t.localWeekData===null&&(t.localWeekData=iv(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Nu(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new un({...n,...e,old:n})}function VA(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Ag(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function dy(t,e,n){return VA(pb(t),e,n)}function iT(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,sv(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Rn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=pb(s);let[c,d]=VA(l,n,t.zone);return o!==0&&(c+=o,d=t.zone.offset(c)),{ts:c,o:d}}function Vc(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const c=e||l,d=un.fromObject(t,{...n,zone:c,specificOffset:s});return o?d:d.setZone(l)}else return un.invalid(new _o("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Pg(t,e,n=!0){return t.isValid?wi.create(Wn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function aw(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Qr(t.c.year,n?6:4),e?(r+="-",r+=Qr(t.c.month),r+="-",r+=Qr(t.c.day)):(r+=Qr(t.c.month),r+=Qr(t.c.day)),r}function sT(t,e,n,r,i,s){let o=Qr(t.c.hour);return e?(o+=":",o+=Qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Qr(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=Qr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Qr(Math.trunc(-t.o/60)),o+=":",o+=Qr(Math.trunc(-t.o%60))):(o+="+",o+=Qr(Math.trunc(t.o/60)),o+=":",o+=Qr(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const HA={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},m6={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},g6={ordinal:1,hour:0,minute:0,second:0,millisecond:0},QA=["year","month","day","hour","minute","second","millisecond"],y6=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],v6=["year","ordinal","hour","minute","second","millisecond"];function b6(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Kj(t);return e}function oT(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return b6(t)}}function x6(t){return py[t]||(fy===void 0&&(fy=Lr.now()),py[t]=t.offset(fy)),py[t]}function aT(t,e){const n=wl(e.zone,Lr.defaultZone);if(!n.isValid)return un.invalid(Ep(n));const r=Wn.fromObject(e);let i,s;if(cn(t.year))i=Lr.now();else{for(const c of QA)cn(t[c])&&(t[c]=HA[c]);const o=vA(t)||bA(t);if(o)return un.invalid(o);const l=x6(n);[i,s]=dy(t,l,n)}return new un({ts:i,zone:n,loc:r,o:s})}function lT(t,e,n){const r=cn(n.round)?!0:n.round,i=(o,l)=>(o=b1(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function uT(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let fy,py={};class un{constructor(e){const n=e.zone||Lr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new _o("invalid input"):null)||(n.isValid?null:Ep(n));this.ts=cn(e.ts)?Lr.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=Ol(e.o)&&!e.old?e.o:n.offset(this.ts);i=Ag(this.ts,l),r=Number.isNaN(i.year)?new _o("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||Wn.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new un({})}static local(){const[e,n]=uT(arguments),[r,i,s,o,l,c,d]=n;return aT({year:r,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},e)}static utc(){const[e,n]=uT(arguments),[r,i,s,o,l,c,d]=n;return e.zone=Mi.utcInstance,aT({year:r,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},e)}static fromJSDate(e,n={}){const r=Gz(e)?e.valueOf():NaN;if(Number.isNaN(r))return un.invalid("invalid input");const i=wl(n.zone,Lr.defaultZone);return i.isValid?new un({ts:r,zone:i,loc:Wn.fromObject(n)}):un.invalid(Ep(i))}static fromMillis(e,n={}){if(Ol(e))return e<-864e13||e>h6?un.invalid("Timestamp out of range"):new un({ts:e,zone:wl(n.zone,Lr.defaultZone),loc:Wn.fromObject(n)});throw new xi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Ol(e))return new un({ts:e*1e3,zone:wl(n.zone,Lr.defaultZone),loc:Wn.fromObject(n)});throw new xi("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=wl(n.zone,Lr.defaultZone);if(!r.isValid)return un.invalid(Ep(r));const i=Wn.fromObject(n),s=ov(e,oT),{minDaysInFirstWeek:o,startOfWeek:l}=KC(s,i),c=Lr.now(),d=cn(n.specificOffset)?r.offset(c):n.specificOffset,f=!cn(s.ordinal),h=!cn(s.year),b=!cn(s.month)||!cn(s.day),x=h||b,w=s.weekYear||s.weekNumber;if((x||f)&&w)throw new id("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&f)throw new id("Can't mix ordinal dates with month/day");const E=w||s.weekday&&!x;let I,T,O=Ag(c,d);E?(I=y6,T=m6,O=iv(O,o,l)):f?(I=v6,T=g6,O=nw(O)):(I=QA,T=HA);let q=!1;for(const M of I){const F=s[M];cn(F)?q?s[M]=T[M]:s[M]=O[M]:q=!0}const A=E?Hz(s,o,l):f?Qz(s):vA(s),D=A||bA(s);if(D)return un.invalid(D);const L=E?HC(s,o,l):f?QC(s):s,[z,P]=dy(L,d,r),R=new un({ts:z,zone:r,o:P,loc:i});return s.weekday&&x&&e.weekday!==R.weekday?un.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${R.toISO()}`):R.isValid?R:un.invalid(R.invalid)}static fromISO(e,n={}){const[r,i]=LW(e);return Vc(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=MW(e);return Vc(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=$W(e);return Vc(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(cn(e)||cn(n))throw new xi("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,c,d,f]=p6(o,e,n);return f?un.invalid(f):Vc(l,c,r,`format ${n}`,e,d)}static fromString(e,n,r={}){return un.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=QW(e);return Vc(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new xi("need to specify a reason the DateTime is invalid");const r=e instanceof _o?e:new _o(e,n);if(Lr.throwOnInvalid)throw new bz(r);return new un({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=UA(e,Wn.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return BA(wi.parseFormat(e),Wn.fromObject(n)).map(i=>i.val).join("")}static resetCache(){fy=void 0,py={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?sw(this).weekYear:NaN}get weekNumber(){return this.isValid?sw(this).weekNumber:NaN}get weekday(){return this.isValid?sw(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?ow(this).weekday:NaN}get localWeekNumber(){return this.isValid?ow(this).weekNumber:NaN}get localWeekYear(){return this.isValid?ow(this).weekYear:NaN}get ordinal(){return this.isValid?nw(this.c).ordinal:NaN}get monthShort(){return this.isValid?Rg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Rg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Rg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Rg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=pb(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),l=this.zone.offset(r-s*n);if(o===l)return[this];const c=r-o*n,d=r-l*n,f=Ag(c,o),h=Ag(d,l);return f.hour===h.hour&&f.minute===h.minute&&f.second===h.second&&f.millisecond===h.millisecond?[Nu(this,{ts:c}),Nu(this,{ts:d})]:[this]}get isInLeapYear(){return Kh(this.year)}get daysInMonth(){return sv(this.year,this.month)}get daysInYear(){return this.isValid?gd(this.year):NaN}get weeksInWeekYear(){return this.isValid?sh(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?sh(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=wi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Mi.instance(e),n)}toLocal(){return this.setZone(Lr.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=wl(e,Lr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=dy(o,s,e)}return Nu(this,{ts:i,zone:e})}else return un.invalid(Ep(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Nu(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=ov(e,oT),{minDaysInFirstWeek:r,startOfWeek:i}=KC(n,this.loc),s=!cn(n.weekYear)||!cn(n.weekNumber)||!cn(n.weekday),o=!cn(n.ordinal),l=!cn(n.year),c=!cn(n.month)||!cn(n.day),d=l||c,f=n.weekYear||n.weekNumber;if((d||o)&&f)throw new id("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new id("Can't mix ordinal dates with month/day");let h;s?h=HC({...iv(this.c,r,i),...n},r,i):cn(n.ordinal)?(h={...this.toObject(),...n},cn(n.day)&&(h.day=Math.min(sv(h.year,h.month),h.day))):h=QC({...nw(this.c),...n});const[b,x]=dy(h,this.o,this.zone);return Nu(this,{ts:b,o:x})}plus(e){if(!this.isValid)return this;const n=Rn.fromDurationLike(e);return Nu(this,iT(this,n))}minus(e){if(!this.isValid)return this;const n=Rn.fromDurationLike(e).negate();return Nu(this,iT(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=Rn.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?wi.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):iw}toLocaleString(e=rv,n={}){return this.isValid?wi.create(this.loc.clone(n),e).formatDateTime(this):iw}toLocaleParts(e={}){return this.isValid?wi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=aw(this,o);return l+="T",l+=sT(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?aw(this,e==="extended"):null}toISOWeekDate(){return Pg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+sT(this,o==="extended",n,e,r,s):null}toRFC2822(){return Pg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Pg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?aw(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Pg(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():iw}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return Rn.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=Zz(n).map(Rn.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,c=o?e:this,d=e6(l,c,s,i);return o?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(un.now(),e,n)}until(e){return this.isValid?Dr.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||un.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),lT(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?lT(e.base||un.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(un.isDateTime))throw new xi("min requires all arguments be DateTimes");return GC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(un.isDateTime))throw new xi("max requires all arguments be DateTimes");return GC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return WA(o,e,n)}static fromStringExplain(e,n,r={}){return un.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=Wn.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new zA(s,e)}static fromFormatParser(e,n,r={}){if(cn(e)||cn(n))throw new xi("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new xi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:l,zone:c,specificOffset:d,invalidReason:f}=n.explainFromTokens(e);return f?un.invalid(f):Vc(l,c,r,`format ${n.format}`,e,d)}static get DATE_SHORT(){return rv}static get DATE_MED(){return Gj}static get DATE_MED_WITH_WEEKDAY(){return wz}static get DATE_FULL(){return Zj}static get DATE_HUGE(){return Jj}static get TIME_SIMPLE(){return Yj}static get TIME_WITH_SECONDS(){return Xj}static get TIME_WITH_SHORT_OFFSET(){return eA}static get TIME_WITH_LONG_OFFSET(){return tA}static get TIME_24_SIMPLE(){return nA}static get TIME_24_WITH_SECONDS(){return rA}static get TIME_24_WITH_SHORT_OFFSET(){return iA}static get TIME_24_WITH_LONG_OFFSET(){return sA}static get DATETIME_SHORT(){return oA}static get DATETIME_SHORT_WITH_SECONDS(){return aA}static get DATETIME_MED(){return lA}static get DATETIME_MED_WITH_SECONDS(){return uA}static get DATETIME_MED_WITH_WEEKDAY(){return Sz}static get DATETIME_FULL(){return cA}static get DATETIME_FULL_WITH_SECONDS(){return dA}static get DATETIME_HUGE(){return fA}static get DATETIME_HUGE_WITH_SECONDS(){return pA}}function lp(t){if(un.isDateTime(t))return t;if(t&&t.valueOf&&Ol(t.valueOf()))return un.fromJSDate(t);if(t&&typeof t=="object")return un.fromObject(t);throw new xi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function KA(t,e){return function(){return t.apply(e,arguments)}}const{toString:_6}=Object.prototype,{getPrototypeOf:S1}=Object,gb=(t=>e=>{const n=_6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qo=t=>(t=t.toLowerCase(),e=>gb(e)===t),yb=t=>e=>typeof e===t,{isArray:tf}=Array,oh=yb("undefined");function w6(t){return t!==null&&!oh(t)&&t.constructor!==null&&!oh(t.constructor)&&Ts(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const GA=qo("ArrayBuffer");function S6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&GA(t.buffer),e}const E6=yb("string"),Ts=yb("function"),ZA=yb("number"),vb=t=>t!==null&&typeof t=="object",N6=t=>t===!0||t===!1,hy=t=>{if(gb(t)!=="object")return!1;const e=S1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},k6=qo("Date"),I6=qo("File"),C6=qo("Blob"),T6=qo("FileList"),O6=t=>vb(t)&&Ts(t.pipe),q6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ts(t.append)&&((e=gb(t))==="formdata"||e==="object"&&Ts(t.toString)&&t.toString()==="[object FormData]"))},R6=qo("URLSearchParams"),[j6,A6,P6,F6]=["ReadableStream","Request","Response","Headers"].map(qo),D6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),tf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function JA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Lu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YA=t=>!oh(t)&&t!==Lu;function nE(){const{caseless:t}=YA(this)&&this||{},e={},n=(r,i)=>{const s=t&&JA(e,i)||i;hy(e[s])&&hy(r)?e[s]=nE(e[s],r):hy(r)?e[s]=nE({},r):tf(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Jh(arguments[r],n);return e}const L6=(t,e,n,{allOwnKeys:r}={})=>(Jh(e,(i,s)=>{n&&Ts(i)?t[s]=KA(i,n):t[s]=i},{allOwnKeys:r}),t),M6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},B6=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&S1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},z6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},W6=t=>{if(!t)return null;if(tf(t))return t;let e=t.length;if(!ZA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},U6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&S1(Uint8Array)),V6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},H6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Q6=qo("HTMLFormElement"),K6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),cT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),G6=qo("RegExp"),XA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Jh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Z6=t=>{XA(t,(e,n)=>{if(Ts(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ts(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},J6=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return tf(t)?r(t):r(String(t).split(e)),n},Y6=()=>{},X6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,lw="abcdefghijklmnopqrstuvwxyz",dT="0123456789",eP={DIGIT:dT,ALPHA:lw,ALPHA_DIGIT:lw+lw.toUpperCase()+dT},eU=(t=16,e=eP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function tU(t){return!!(t&&Ts(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const nU=t=>{const e=new Array(10),n=(r,i)=>{if(vb(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=tf(r)?[]:{};return Jh(r,(o,l)=>{const c=n(o,i+1);!oh(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},rU=qo("AsyncFunction"),iU=t=>t&&(vb(t)||Ts(t))&&Ts(t.then)&&Ts(t.catch),tP=((t,e)=>t?setImmediate:e?((n,r)=>(Lu.addEventListener("message",({source:i,data:s})=>{i===Lu&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Lu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ts(Lu.postMessage)),sU=typeof queueMicrotask<"u"?queueMicrotask.bind(Lu):typeof process<"u"&&process.nextTick||tP,Ye={isArray:tf,isArrayBuffer:GA,isBuffer:w6,isFormData:q6,isArrayBufferView:S6,isString:E6,isNumber:ZA,isBoolean:N6,isObject:vb,isPlainObject:hy,isReadableStream:j6,isRequest:A6,isResponse:P6,isHeaders:F6,isUndefined:oh,isDate:k6,isFile:I6,isBlob:C6,isRegExp:G6,isFunction:Ts,isStream:O6,isURLSearchParams:R6,isTypedArray:U6,isFileList:T6,forEach:Jh,merge:nE,extend:L6,trim:D6,stripBOM:M6,inherits:$6,toFlatObject:B6,kindOf:gb,kindOfTest:qo,endsWith:z6,toArray:W6,forEachEntry:V6,matchAll:H6,isHTMLForm:Q6,hasOwnProperty:cT,hasOwnProp:cT,reduceDescriptors:XA,freezeMethods:Z6,toObjectSet:J6,toCamelCase:K6,noop:Y6,toFiniteNumber:X6,findKey:JA,global:Lu,isContextDefined:YA,ALPHABET:eP,generateString:eU,isSpecCompliantForm:tU,toJSONObject:nU,isAsyncFn:rU,isThenable:iU,setImmediate:tP,asap:sU};function vn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ye.inherits(vn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const nP=vn.prototype,rP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rP[t]={value:t}});Object.defineProperties(vn,rP);Object.defineProperty(nP,"isAxiosError",{value:!0});vn.from=(t,e,n,r,i,s)=>{const o=Object.create(nP);return Ye.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),vn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const oU=null;function rE(t){return Ye.isPlainObject(t)||Ye.isArray(t)}function iP(t){return Ye.endsWith(t,"[]")?t.slice(0,-2):t}function fT(t,e,n){return t?t.concat(e).map(function(i,s){return i=iP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function aU(t){return Ye.isArray(t)&&!t.some(rE)}const lU=Ye.toFlatObject(Ye,{},null,function(e){return/^is[A-Z]/.test(e)});function bb(t,e,n){if(!Ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,I){return!Ye.isUndefined(I[E])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(e);if(!Ye.isFunction(i))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(Ye.isDate(w))return w.toISOString();if(!c&&Ye.isBlob(w))throw new vn("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(w)||Ye.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,E,I){let T=w;if(w&&!I&&typeof w=="object"){if(Ye.endsWith(E,"{}"))E=r?E:E.slice(0,-2),w=JSON.stringify(w);else if(Ye.isArray(w)&&aU(w)||(Ye.isFileList(w)||Ye.endsWith(E,"[]"))&&(T=Ye.toArray(w)))return E=iP(E),T.forEach(function(q,A){!(Ye.isUndefined(q)||q===null)&&e.append(o===!0?fT([E],A,s):o===null?E:E+"[]",d(q))}),!1}return rE(w)?!0:(e.append(fT(I,E,s),d(w)),!1)}const h=[],b=Object.assign(lU,{defaultVisitor:f,convertValue:d,isVisitable:rE});function x(w,E){if(!Ye.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+E.join("."));h.push(w),Ye.forEach(w,function(T,O){(!(Ye.isUndefined(T)||T===null)&&i.call(e,T,Ye.isString(O)?O.trim():O,E,b))===!0&&x(T,E?E.concat(O):[O])}),h.pop()}}if(!Ye.isObject(t))throw new TypeError("data must be an object");return x(t),e}function pT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function E1(t,e){this._pairs=[],t&&bb(t,this,e)}const sP=E1.prototype;sP.append=function(e,n){this._pairs.push([e,n])};sP.toString=function(e){const n=e?function(r){return e.call(this,r,pT)}:pT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function uU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oP(t,e,n){if(!e)return t;const r=n&&n.encode||uU;Ye.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ye.isURLSearchParams(e)?e.toString():new E1(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class hT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const aP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cU=typeof URLSearchParams<"u"?URLSearchParams:E1,dU=typeof FormData<"u"?FormData:null,fU=typeof Blob<"u"?Blob:null,pU={isBrowser:!0,classes:{URLSearchParams:cU,FormData:dU,Blob:fU},protocols:["http","https","file","blob","url","data"]},N1=typeof window<"u"&&typeof document<"u",iE=typeof navigator=="object"&&navigator||void 0,hU=N1&&(!iE||["ReactNative","NativeScript","NS"].indexOf(iE.product)<0),mU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gU=N1&&window.location.href||"http://localhost",yU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:N1,hasStandardBrowserEnv:hU,hasStandardBrowserWebWorkerEnv:mU,navigator:iE,origin:gU},Symbol.toStringTag,{value:"Module"})),Si={...yU,...pU};function vU(t,e){return bb(t,new Si.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Si.isNode&&Ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function bU(t){return Ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xU(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function lP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&Ye.isArray(i)?i.length:o,c?(Ye.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Ye.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ye.isArray(i[o])&&(i[o]=xU(i[o])),!l)}if(Ye.isFormData(t)&&Ye.isFunction(t.entries)){const n={};return Ye.forEachEntry(t,(r,i)=>{e(bU(r),i,n,0)}),n}return null}function _U(t,e,n){if(Ye.isString(t))try{return(e||JSON.parse)(t),Ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Yh={transitional:aP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ye.isObject(e);if(s&&Ye.isHTMLForm(e)&&(e=new FormData(e)),Ye.isFormData(e))return i?JSON.stringify(lP(e)):e;if(Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e)||Ye.isReadableStream(e))return e;if(Ye.isArrayBufferView(e))return e.buffer;if(Ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vU(e,this.formSerializer).toString();if((l=Ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return bb(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),_U(e)):e}],transformResponse:[function(e){const n=this.transitional||Yh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ye.isResponse(e)||Ye.isReadableStream(e))return e;if(e&&Ye.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?vn.from(l,vn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Si.classes.FormData,Blob:Si.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],t=>{Yh.headers[t]={}});const wU=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SU=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&wU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},mT=Symbol("internals");function up(t){return t&&String(t).trim().toLowerCase()}function my(t){return t===!1||t==null?t:Ye.isArray(t)?t.map(my):String(t)}function EU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const NU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uw(t,e,n,r,i){if(Ye.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ye.isString(e)){if(Ye.isString(r))return e.indexOf(r)!==-1;if(Ye.isRegExp(r))return r.test(e)}}function kU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function IU(t,e){const n=Ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let ds=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,d){const f=up(c);if(!f)throw new Error("header name must be a non-empty string");const h=Ye.findKey(i,f);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=my(l))}const o=(l,c)=>Ye.forEach(l,(d,f)=>s(d,f,c));if(Ye.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ye.isString(e)&&(e=e.trim())&&!NU(e))o(SU(e),n);else if(Ye.isHeaders(e))for(const[l,c]of e.entries())s(c,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=up(e),e){const r=Ye.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return EU(i);if(Ye.isFunction(n))return n.call(this,i,r);if(Ye.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=up(e),e){const r=Ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||uw(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=up(o),o){const l=Ye.findKey(r,o);l&&(!n||uw(r,r[l],l,n))&&(delete r[l],i=!0)}}return Ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||uw(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ye.forEach(this,(i,s)=>{const o=Ye.findKey(r,s);if(o){n[o]=my(i),delete n[s];return}const l=e?kU(s):String(s).trim();l!==s&&delete n[s],n[l]=my(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[mT]=this[mT]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=up(o);r[l]||(IU(i,o),r[l]=!0)}return Ye.isArray(e)?e.forEach(s):s(e),this}};ds.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(ds.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ye.freezeMethods(ds);function cw(t,e){const n=this||Yh,r=e||n,i=ds.from(r.headers);let s=r.data;return Ye.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function uP(t){return!!(t&&t.__CANCEL__)}function nf(t,e,n){vn.call(this,t??"canceled",vn.ERR_CANCELED,e,n),this.name="CanceledError"}Ye.inherits(nf,vn,{__CANCEL__:!0});function cP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new vn("Request failed with status code "+n.status,[vn.ERR_BAD_REQUEST,vn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function CU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),n[i]=c,r[i]=d;let h=s,b=0;for(;h!==i;)b+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const x=f&&d-f;return x?Math.round(b*1e3/x):void 0}}function OU(t,e){let n=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const av=(t,e,n=3)=>{let r=0;const i=TU(50,250);return OU(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},gT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},yT=t=>(...e)=>Ye.asap(()=>t(...e)),qU=Si.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Si.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Si.origin),Si.navigator&&/(msie|trident)/i.test(Si.navigator.userAgent)):()=>!0,RU=Si.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ye.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ye.isString(r)&&o.push("path="+r),Ye.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function AU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function dP(t,e){return t&&!jU(e)?AU(t,e):e}const vT=t=>t instanceof ds?{...t}:t;function Gu(t,e){e=e||{};const n={};function r(d,f,h,b){return Ye.isPlainObject(d)&&Ye.isPlainObject(f)?Ye.merge.call({caseless:b},d,f):Ye.isPlainObject(f)?Ye.merge({},f):Ye.isArray(f)?f.slice():f}function i(d,f,h,b){if(Ye.isUndefined(f)){if(!Ye.isUndefined(d))return r(void 0,d,h,b)}else return r(d,f,h,b)}function s(d,f){if(!Ye.isUndefined(f))return r(void 0,f)}function o(d,f){if(Ye.isUndefined(f)){if(!Ye.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,h){if(h in e)return r(d,f);if(h in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>i(vT(d),vT(f),h,!0)};return Ye.forEach(Object.keys(Object.assign({},t,e)),function(f){const h=c[f]||i,b=h(t[f],e[f],f);Ye.isUndefined(b)&&h!==l||(n[f]=b)}),n}const fP=t=>{const e=Gu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=ds.from(o),e.url=oP(dP(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Ye.isFormData(n)){if(Si.hasStandardBrowserEnv||Si.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Si.hasStandardBrowserEnv&&(r&&Ye.isFunction(r)&&(r=r(e)),r||r!==!1&&qU(e.url))){const d=i&&s&&RU.read(s);d&&o.set(i,d)}return e},PU=typeof XMLHttpRequest<"u",FU=PU&&function(t){return new Promise(function(n,r){const i=fP(t);let s=i.data;const o=ds.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,f,h,b,x,w;function E(){x&&x(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function T(){if(!I)return;const q=ds.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:q,config:t,request:I};cP(function(z){n(z),E()},function(z){r(z),E()},D),I=null}"onloadend"in I?I.onloadend=T:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(T)},I.onabort=function(){I&&(r(new vn("Request aborted",vn.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new vn("Network Error",vn.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||aP;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new vn(A,D.clarifyTimeoutError?vn.ETIMEDOUT:vn.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&Ye.forEach(o.toJSON(),function(A,D){I.setRequestHeader(D,A)}),Ye.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),l&&l!=="json"&&(I.responseType=i.responseType),d&&([b,w]=av(d,!0),I.addEventListener("progress",b)),c&&I.upload&&([h,x]=av(c),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(f=q=>{I&&(r(!q||q.type?new nf(null,t,I):q),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const O=CU(i.url);if(O&&Si.protocols.indexOf(O)===-1){r(new vn("Unsupported protocol "+O+":",vn.ERR_BAD_REQUEST,t));return}I.send(s||null)})},DU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof vn?f:new nf(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new vn(`timeout ${e} of ms exceeded`,vn.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Ye.asap(l),c}},LU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},MU=async function*(t,e){for await(const n of $U(t))yield*LU(n,e)},$U=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},bT=(t,e,n,r)=>{const i=MU(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){l(),c.close();return}let h=f.byteLength;if(n){let b=s+=h;n(b)}c.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},xb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pP=xb&&typeof ReadableStream=="function",BU=xb&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},zU=pP&&hP(()=>{let t=!1;const e=new Request(Si.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),xT=64*1024,sE=pP&&hP(()=>Ye.isReadableStream(new Response("").body)),lv={stream:sE&&(t=>t.body)};xb&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lv[e]&&(lv[e]=Ye.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new vn(`Response type '${e}' is not supported`,vn.ERR_NOT_SUPPORT,r)})})})(new Response);const WU=async t=>{if(t==null)return 0;if(Ye.isBlob(t))return t.size;if(Ye.isSpecCompliantForm(t))return(await new Request(Si.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(t)||Ye.isArrayBuffer(t))return t.byteLength;if(Ye.isURLSearchParams(t)&&(t=t+""),Ye.isString(t))return(await BU(t)).byteLength},UU=async(t,e)=>{const n=Ye.toFiniteNumber(t.getContentLength());return n??WU(e)},VU=xb&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:f,withCredentials:h="same-origin",fetchOptions:b}=fP(t);d=d?(d+"").toLowerCase():"text";let x=DU([i,s&&s.toAbortSignal()],o),w;const E=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let I;try{if(c&&zU&&n!=="get"&&n!=="head"&&(I=await UU(f,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(Ye.isFormData(r)&&(L=D.headers.get("content-type"))&&f.setContentType(L),D.body){const[z,P]=gT(I,av(yT(c)));r=bT(D.body,xT,z,P)}}Ye.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;w=new Request(e,{...b,signal:x,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:T?h:void 0});let O=await fetch(w);const q=sE&&(d==="stream"||d==="response");if(sE&&(l||q&&E)){const D={};["status","statusText","headers"].forEach(R=>{D[R]=O[R]});const L=Ye.toFiniteNumber(O.headers.get("content-length")),[z,P]=l&&gT(L,av(yT(l),!0))||[];O=new Response(bT(O.body,xT,z,()=>{P&&P(),E&&E()}),D)}d=d||"text";let A=await lv[Ye.findKey(lv,d)||"text"](O,t);return!q&&E&&E(),await new Promise((D,L)=>{cP(D,L,{data:A,headers:ds.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:w})})}catch(T){throw E&&E(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new vn("Network Error",vn.ERR_NETWORK,t,w),{cause:T.cause||T}):vn.from(T,T&&T.code,t,w)}}),oE={http:oU,xhr:FU,fetch:VU};Ye.forEach(oE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _T=t=>`- ${t}`,HU=t=>Ye.isFunction(t)||t===null||t===!1,mP={getAdapter:t=>{t=Ye.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!HU(n)&&(r=oE[(o=String(n)).toLowerCase()],r===void 0))throw new vn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(_T).join(`
`):" "+_T(s[0]):"as no adapter specified";throw new vn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:oE};function dw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nf(null,t)}function wT(t){return dw(t),t.headers=ds.from(t.headers),t.data=cw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mP.getAdapter(t.adapter||Yh.adapter)(t).then(function(r){return dw(t),r.data=cw.call(t,t.transformResponse,r),r.headers=ds.from(r.headers),r},function(r){return uP(r)||(dw(t),r&&r.response&&(r.response.data=cw.call(t,t.transformResponse,r.response),r.response.headers=ds.from(r.response.headers))),Promise.reject(r)})}const gP="1.7.9",_b={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_b[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ST={};_b.transitional=function(e,n,r){function i(s,o){return"[Axios v"+gP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new vn(i(o," has been removed"+(n?" in "+n:"")),vn.ERR_DEPRECATED);return n&&!ST[o]&&(ST[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};_b.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function QU(t,e,n){if(typeof t!="object")throw new vn("options must be an object",vn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new vn("option "+s+" must be "+c,vn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new vn("Unknown option "+s,vn.ERR_BAD_OPTION)}}const gy={assertOptions:QU,validators:_b},Lo=gy.validators;let Wu=class{constructor(e){this.defaults=e,this.interceptors={request:new hT,response:new hT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Gu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&gy.assertOptions(r,{silentJSONParsing:Lo.transitional(Lo.boolean),forcedJSONParsing:Lo.transitional(Lo.boolean),clarifyTimeoutError:Lo.transitional(Lo.boolean)},!1),i!=null&&(Ye.isFunction(i)?n.paramsSerializer={serialize:i}:gy.assertOptions(i,{encode:Lo.function,serialize:Lo.function},!0)),gy.assertOptions(n,{baseUrl:Lo.spelling("baseURL"),withXsrfToken:Lo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ye.merge(s.common,s[n.method]);s&&Ye.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=ds.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(c=c&&E.synchronous,l.unshift(E.fulfilled,E.rejected))});const d=[];this.interceptors.response.forEach(function(E){d.push(E.fulfilled,E.rejected)});let f,h=0,b;if(!c){const w=[wT.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,d),b=w.length,f=Promise.resolve(n);h<b;)f=f.then(w[h++],w[h++]);return f}b=l.length;let x=n;for(h=0;h<b;){const w=l[h++],E=l[h++];try{x=w(x)}catch(I){E.call(this,I);break}}try{f=wT.call(this,x)}catch(w){return Promise.reject(w)}for(h=0,b=d.length;h<b;)f=f.then(d[h++],d[h++]);return f}getUri(e){e=Gu(this.defaults,e);const n=dP(e.baseURL,e.url);return oP(n,e.params,e.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(e){Wu.prototype[e]=function(n,r){return this.request(Gu(r||{},{method:e,url:n,data:(r||{}).data}))}});Ye.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Gu(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Wu.prototype[e]=n(),Wu.prototype[e+"Form"]=n(!0)});let KU=class yP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new nf(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new yP(function(i){e=i}),cancel:e}}};function GU(t){return function(n){return t.apply(null,n)}}function ZU(t){return Ye.isObject(t)&&t.isAxiosError===!0}const aE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aE).forEach(([t,e])=>{aE[e]=t});function vP(t){const e=new Wu(t),n=KA(Wu.prototype.request,e);return Ye.extend(n,Wu.prototype,e,{allOwnKeys:!0}),Ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return vP(Gu(t,i))},n}const Wr=vP(Yh);Wr.Axios=Wu;Wr.CanceledError=nf;Wr.CancelToken=KU;Wr.isCancel=uP;Wr.VERSION=gP;Wr.toFormData=bb;Wr.AxiosError=vn;Wr.Cancel=Wr.CanceledError;Wr.all=function(e){return Promise.all(e)};Wr.spread=GU;Wr.isAxiosError=ZU;Wr.mergeConfig=Gu;Wr.AxiosHeaders=ds;Wr.formToJSON=t=>lP(Ye.isHTMLForm(t)?new FormData(t):t);Wr.getAdapter=mP.getAdapter;Wr.HttpStatusCode=aE;Wr.default=Wr;const{Axios:tle,AxiosError:JU,CanceledError:nle,isCancel:rle,CancelToken:ile,VERSION:sle,all:ole,Cancel:ale,isAxiosError:lle,spread:ule,toFormData:cle,AxiosHeaders:dle,HttpStatusCode:fle,formToJSON:ple,getAdapter:hle,mergeConfig:mle}=Wr,k1=({error:t,schema:e,onError:n})=>{if(t instanceof JU){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var fw,ET;function YU(){if(ET)return fw;ET=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(s){return Promise.reject(s)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,s){this.push({resolve:function(){try{e(r)}catch(o){return s(o),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var s=new t(r);return s.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(s),r.getMaxRPS=t.prototype.getMaxRPS.bind(s),r.setMaxRPS=t.prototype.setMaxRPS.bind(s),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(s),r}return fw=n,fw}var XU=YU();const eV=to(XU),tV=({instance:t,limit:e}={})=>eV(t||Wr,e||{maxRequests:5,perMilliseconds:100}),I1="-",nV=t=>{const e=iV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(I1);return l[0]===""&&l.length!==1&&l.shift(),bP(l,e)||rV(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},bP=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?bP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(I1);return e.validators.find(({validator:o})=>o(s))?.classGroupId},NT=/^\[(.+)\]$/,rV=t=>{if(NT.test(t)){const e=NT.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},iV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return oV(Object.entries(t.classGroups),n).forEach(([s,o])=>{lE(o,r,s,e)}),r},lE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:kT(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(sV(i)){lE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{lE(o,kT(e,s),n,r)})})},kT=(t,e)=>{let n=t;return e.split(I1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sV=t=>t.isThemeGetter,oV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,aV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},xP="!",lV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let d=0,f=0,h;for(let I=0;I<l.length;I++){let T=l[I];if(d===0){if(T===i&&(r||l.slice(I,I+s)===e)){c.push(l.slice(f,I)),f=I+s;continue}if(T==="/"){h=I;continue}}T==="["?d++:T==="]"&&d--}const b=c.length===0?l:l.substring(f),x=b.startsWith(xP),w=x?b.substring(1):b,E=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:E}};return n?l=>n({className:l,parseClassName:o}):o},uV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},cV=t=>({cache:aV(t.cacheSize),parseClassName:lV(t),...nV(t)}),dV=/\s+/,fV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(dV);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:x}=n(d);let w=!!x,E=r(w?b.substring(0,x):b);if(!E){if(!w){l=d+(l.length>0?" "+l:l);continue}if(E=r(b),!E){l=d+(l.length>0?" "+l:l);continue}w=!1}const I=uV(f).join(":"),T=h?I+xP:I,O=T+E;if(s.includes(O))continue;s.push(O);const q=i(E,w);for(let A=0;A<q.length;++A){const D=q[A];s.push(T+D)}l=d+(l.length>0?" "+l:l)}return l};function pV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_P(e))&&(r&&(r+=" "),r+=n);return r}const _P=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_P(t[r]))&&(n&&(n+=" "),n+=e);return n};function hV(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((f,h)=>h(f),t());return n=cV(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=fV(c,n);return i(c,f),f}return function(){return s(pV.apply(null,arguments))}}const fr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wP=/^\[(?:([a-z-]+):)?(.+)\]$/i,mV=/^\d+\/\d+$/,gV=new Set(["px","full","screen"]),yV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_V=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_a=t=>vd(t)||gV.has(t)||mV.test(t),dl=t=>rf(t,"length",TV),vd=t=>!!t&&!Number.isNaN(Number(t)),pw=t=>rf(t,"number",vd),cp=t=>!!t&&Number.isInteger(Number(t)),wV=t=>t.endsWith("%")&&vd(t.slice(0,-1)),_n=t=>wP.test(t),fl=t=>yV.test(t),SV=new Set(["length","size","percentage"]),EV=t=>rf(t,SV,SP),NV=t=>rf(t,"position",SP),kV=new Set(["image","url"]),IV=t=>rf(t,kV,qV),CV=t=>rf(t,"",OV),dp=()=>!0,rf=(t,e,n)=>{const r=wP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},TV=t=>vV.test(t)&&!bV.test(t),SP=()=>!1,OV=t=>xV.test(t),qV=t=>_V.test(t),RV=()=>{const t=fr("colors"),e=fr("spacing"),n=fr("blur"),r=fr("brightness"),i=fr("borderColor"),s=fr("borderRadius"),o=fr("borderSpacing"),l=fr("borderWidth"),c=fr("contrast"),d=fr("grayscale"),f=fr("hueRotate"),h=fr("invert"),b=fr("gap"),x=fr("gradientColorStops"),w=fr("gradientColorStopPositions"),E=fr("inset"),I=fr("margin"),T=fr("opacity"),O=fr("padding"),q=fr("saturate"),A=fr("scale"),D=fr("sepia"),L=fr("skew"),z=fr("space"),P=fr("translate"),R=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",_n,e],W=()=>[_n,e],V=()=>["",_a,dl],B=()=>["auto",vd,_n],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",_n],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[vd,_n];return{cacheSize:500,separator:":",theme:{colors:[dp],spacing:[_a,dl],blur:["none","",fl,_n],brightness:X(),borderColor:[t],borderRadius:["none","","full",fl,_n],borderSpacing:W(),borderWidth:V(),contrast:X(),grayscale:ne(),hueRotate:X(),invert:ne(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[wV,dl],inset:F(),margin:F(),opacity:X(),padding:W(),saturate:X(),scale:X(),sepia:ne(),skew:X(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",_n]}],container:["container"],columns:[{columns:[fl]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),_n]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cp,_n]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_n]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",cp,_n]}],"grid-cols":[{"grid-cols":[dp]}],"col-start-end":[{col:["auto",{span:["full",cp,_n]},_n]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[dp]}],"row-start-end":[{row:["auto",{span:[cp,_n]},_n]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_n]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_n]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_n,e]}],"min-w":[{"min-w":[_n,e,"min","max","fit"]}],"max-w":[{"max-w":[_n,e,"none","full","min","max","fit","prose",{screen:[fl]},fl]}],h:[{h:[_n,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_n,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_n,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_n,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fl,dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pw]}],"font-family":[{font:[dp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_n]}],"line-clamp":[{"line-clamp":["none",vd,pw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_a,_n]}],"list-image":[{"list-image":["none",_n]}],"list-style-type":[{list:["none","disc","decimal",_n]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_a,dl]}],"underline-offset":[{"underline-offset":["auto",_a,_n]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_n]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_n]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),NV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[_a,_n]}],"outline-w":[{outline:[_a,dl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[_a,dl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fl,CV]}],"shadow-color":[{shadow:[dp]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",fl,_n]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[q]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[q]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_n]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",_n]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",_n]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[cp,_n]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_n]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_n]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_n]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_a,dl,pw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EP=hV(RV),uE=new Proxy(()=>uE,{get:()=>uE});function gn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:s,...o}={})=>({slots:new Proxy({},{get:(l,c)=>({css:d,...f}={})=>{const h=[],b=t,x={...b?.()?.config.defaults,...i,...o,...f};h.push(b?.(x)?.slots[c]?.(x)),h.push(Array.isArray(e[c])?e[c]:[e[c]]);for(const[w,E]of Object.entries(x)){const I=n[w]?.[E];I&&h.push(I)}for(const w of r)Object.entries(w.if).every(([E,I])=>I===x[E])&&h.push(w.then?.[c]);return h.push(s?.[c]),h.push(d),EP(h)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...o}},type:uE()})}const Ei=EP;var hw,IT;function NP(){return IT||(IT=1,hw=Object),hw}var mw,CT;function jV(){return CT||(CT=1,mw=Error),mw}var gw,TT;function AV(){return TT||(TT=1,gw=EvalError),gw}var yw,OT;function PV(){return OT||(OT=1,yw=RangeError),yw}var vw,qT;function FV(){return qT||(qT=1,vw=ReferenceError),vw}var bw,RT;function DV(){return RT||(RT=1,bw=SyntaxError),bw}var xw,jT;function kP(){return jT||(jT=1,xw=TypeError),xw}var _w,AT;function LV(){return AT||(AT=1,_w=URIError),_w}var ww,PT;function MV(){return PT||(PT=1,ww=Math.abs),ww}var Sw,FT;function $V(){return FT||(FT=1,Sw=Math.floor),Sw}var Ew,DT;function BV(){return DT||(DT=1,Ew=Math.max),Ew}var Nw,LT;function zV(){return LT||(LT=1,Nw=Math.min),Nw}var kw,MT;function WV(){return MT||(MT=1,kw=Math.pow),kw}var Iw,$T;function UV(){return $T||($T=1,Iw=Math.round),Iw}var Cw,BT;function VV(){return BT||(BT=1,Cw=Number.isNaN||function(e){return e!==e}),Cw}var Tw,zT;function HV(){if(zT)return Tw;zT=1;var t=VV();return Tw=function(n){return t(n)||n===0?n:n<0?-1:1},Tw}var Ow,WT;function QV(){return WT||(WT=1,Ow=Object.getOwnPropertyDescriptor),Ow}var qw,UT;function IP(){if(UT)return qw;UT=1;var t=QV();if(t)try{t([],"length")}catch{t=null}return qw=t,qw}var Rw,VT;function KV(){if(VT)return Rw;VT=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Rw=t,Rw}var jw,HT;function CP(){return HT||(HT=1,jw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),jw}var Aw,QT;function GV(){if(QT)return Aw;QT=1;var t=typeof Symbol<"u"&&Symbol,e=CP();return Aw=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Aw}var Pw,KT;function TP(){return KT||(KT=1,Pw=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Pw}var Fw,GT;function OP(){if(GT)return Fw;GT=1;var t=NP();return Fw=t.getPrototypeOf||null,Fw}var Dw,ZT;function ZV(){if(ZT)return Dw;ZT=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,d){for(var f=[],h=0;h<c.length;h+=1)f[h]=c[h];for(var b=0;b<d.length;b+=1)f[b+c.length]=d[b];return f},s=function(c,d){for(var f=[],h=d,b=0;h<c.length;h+=1,b+=1)f[b]=c[h];return f},o=function(l,c){for(var d="",f=0;f<l.length;f+=1)d+=l[f],f+1<l.length&&(d+=c);return d};return Dw=function(c){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var f=s(arguments,1),h,b=function(){if(this instanceof h){var T=d.apply(this,i(f,arguments));return Object(T)===T?T:this}return d.apply(c,i(f,arguments))},x=n(0,d.length-f.length),w=[],E=0;E<x;E++)w[E]="$"+E;if(h=Function("binder","return function ("+o(w,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var I=function(){};I.prototype=d.prototype,h.prototype=new I,I.prototype=null}return h},Dw}var Lw,JT;function wb(){if(JT)return Lw;JT=1;var t=ZV();return Lw=Function.prototype.bind||t,Lw}var Mw,YT;function C1(){return YT||(YT=1,Mw=Function.prototype.call),Mw}var $w,XT;function qP(){return XT||(XT=1,$w=Function.prototype.apply),$w}var Bw,eO;function JV(){return eO||(eO=1,Bw=typeof Reflect<"u"&&Reflect&&Reflect.apply),Bw}var zw,tO;function YV(){if(tO)return zw;tO=1;var t=wb(),e=qP(),n=C1(),r=JV();return zw=r||t.call(n,e),zw}var Ww,nO;function RP(){if(nO)return Ww;nO=1;var t=wb(),e=kP(),n=C1(),r=YV();return Ww=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},Ww}var Uw,rO;function XV(){if(rO)return Uw;rO=1;var t=RP(),e=IP(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Uw=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,Uw}var Vw,iO;function e5(){if(iO)return Vw;iO=1;var t=TP(),e=OP(),n=XV();return Vw=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,Vw}var Hw,sO;function t5(){if(sO)return Hw;sO=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=wb();return Hw=n.call(t,e),Hw}var Qw,oO;function n5(){if(oO)return Qw;oO=1;var t,e=NP(),n=jV(),r=AV(),i=PV(),s=FV(),o=DV(),l=kP(),c=LV(),d=MV(),f=$V(),h=BV(),b=zV(),x=WV(),w=UV(),E=HV(),I=Function,T=function(De){try{return I('"use strict"; return ('+De+").constructor;")()}catch{}},O=IP(),q=KV(),A=function(){throw new l},D=O?function(){try{return arguments.callee,A}catch{try{return O(arguments,"callee").get}catch{return A}}}():A,L=GV()(),z=e5(),P=OP(),R=TP(),M=qP(),F=C1(),W={},V=typeof Uint8Array>"u"||!z?t:z(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":L&&z?z([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":W,"%AsyncGenerator%":W,"%AsyncGeneratorFunction%":W,"%AsyncIteratorPrototype%":W,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":W,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&z?z(z([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!z?t:z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":O,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!z?t:z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&z?z(""[Symbol.iterator]()):t,"%Symbol%":L?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":D,"%TypedArray%":V,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":M,"%Object.defineProperty%":q,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":b,"%Math.pow%":x,"%Math.round%":w,"%Math.sign%":E,"%Reflect.getPrototypeOf%":R};if(z)try{null.error}catch(De){var ee=z(z(De));B["%Error.prototype%"]=ee}var J=function De(Ze){var Xe;if(Ze==="%AsyncFunction%")Xe=T("async function () {}");else if(Ze==="%GeneratorFunction%")Xe=T("function* () {}");else if(Ze==="%AsyncGeneratorFunction%")Xe=T("async function* () {}");else if(Ze==="%AsyncGenerator%"){var Ue=De("%AsyncGeneratorFunction%");Ue&&(Xe=Ue.prototype)}else if(Ze==="%AsyncIteratorPrototype%"){var ut=De("%AsyncGenerator%");ut&&z&&(Xe=z(ut.prototype))}return B[Ze]=Xe,Xe},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},se=wb(),ne=t5(),oe=se.call(F,Array.prototype.concat),X=se.call(M,Array.prototype.splice),ce=se.call(F,String.prototype.replace),de=se.call(F,String.prototype.slice),ye=se.call(F,RegExp.prototype.exec),_e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ne=/\\(\\)?/g,ze=function(Ze){var Xe=de(Ze,0,1),Ue=de(Ze,-1);if(Xe==="%"&&Ue!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&Xe!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ut=[];return ce(Ze,_e,function(wt,Tt,Wt,en){ut[ut.length]=Wt?ce(en,Ne,"$1"):Tt||wt}),ut},qe=function(Ze,Xe){var Ue=Ze,ut;if(ne(le,Ue)&&(ut=le[Ue],Ue="%"+ut[0]+"%"),ne(B,Ue)){var wt=B[Ue];if(wt===W&&(wt=J(Ue)),typeof wt>"u"&&!Xe)throw new l("intrinsic "+Ze+" exists, but is not available. Please file an issue!");return{alias:ut,name:Ue,value:wt}}throw new o("intrinsic "+Ze+" does not exist!")};return Qw=function(Ze,Xe){if(typeof Ze!="string"||Ze.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Xe!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ye(/^%?[^%]*%?$/,Ze)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=ze(Ze),ut=Ue.length>0?Ue[0]:"",wt=qe("%"+ut+"%",Xe),Tt=wt.name,Wt=wt.value,en=!1,xe=wt.alias;xe&&(ut=xe[0],X(Ue,oe([0,1],xe)));for(var ve=1,ke=!0;ve<Ue.length;ve+=1){var Ae=Ue[ve],Ve=de(Ae,0,1),rt=de(Ae,-1);if((Ve==='"'||Ve==="'"||Ve==="`"||rt==='"'||rt==="'"||rt==="`")&&Ve!==rt)throw new o("property names with quotes must have matching quotes");if((Ae==="constructor"||!ke)&&(en=!0),ut+="."+Ae,Tt="%"+ut+"%",ne(B,Tt))Wt=B[Tt];else if(Wt!=null){if(!(Ae in Wt)){if(!Xe)throw new l("base intrinsic for "+Ze+" exists, but the property is not available.");return}if(O&&ve+1>=Ue.length){var Me=O(Wt,Ae);ke=!!Me,ke&&"get"in Me&&!("originalValue"in Me.get)?Wt=Me.get:Wt=Wt[Ae]}else ke=ne(Wt,Ae),Wt=Wt[Ae];ke&&!en&&(B[Tt]=Wt)}}return Wt},Qw}var Kw,aO;function r5(){if(aO)return Kw;aO=1;var t=n5(),e=RP(),n=e([t("%String.prototype.indexOf%")]);return Kw=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e([o]):o},Kw}var Gw,lO;function i5(){if(lO)return Gw;lO=1;var t=CP();return Gw=function(){return t()&&!!Symbol.toStringTag},Gw}var Zw,uO;function s5(){if(uO)return Zw;uO=1;var t=r5(),e=t("String.prototype.valueOf"),n=function(l){try{return e(l),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",s=i5()();return Zw=function(l){return typeof l=="string"?!0:!l||typeof l!="object"?!1:s?n(l):r(l)===i},Zw}var o5=s5();const a5=to(o5),Sb=t=>a5(t),l5=(t,e,n={})=>{const r=[];return t.filter((s,o)=>{const l=n.regionLowerCase?s.toLowerCase():s;if(e.includes(l))return r.push({index:o,appLocale:l}),!0;const{isAvailable:c,appLocale:d}=u5(l,e,n);return c&&r.push({index:o,appLocale:n.regionLowerCase?d.toLowerCase():d}),c}).map((s,o)=>!r||r.length===0?s:r[o]?.appLocale)},u5=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(s=>{if(!yy()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const o=yy()?new Intl.Locale(t).minimize().language:t.split("-")[0],l=yy()?new Intl.Locale(s).minimize().language:s.split("-")[0],c=o===l;return c&&(r=s),c}),appLocale:r}},c5=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},yy=()=>Intl&&"Locale"in Intl,d5=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const s=yy()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:o,script:l}=s;let{region:c}=s;return e.regionLowerCase&&c&&(c=c.toLowerCase()),i.length>2?`${o}-${l}-${c}`:c?`${o}-${c}`:o});return[...new Set(n)]},f5=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=c5(n),i=d5([...r,t],n);return l5(i,e,n)[0]||t},p5=({available:t,fallback:e})=>f5(e,t,{languageOnly:!0});var Jw={exports:{}};const h5={},m5=Object.freeze(Object.defineProperty({__proto__:null,default:h5},Symbol.toStringTag,{value:"Module"})),cO=j$(m5);var dO;function g5(){return dO||(dO=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=Au:i&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,l=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),d=[-0x80000000,8388608,32768,128],f=[24,16,8,0],h=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],b=["hex","array","digest","arrayBuffer"],x=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(L){return Object.prototype.toString.call(L)==="[object Array]"}),l&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(L){return typeof L=="object"&&L.buffer&&L.buffer.constructor===ArrayBuffer});var w=function(L,z){return function(P){return new q(z,!0).update(P)[L]()}},E=function(L){var z=w("hex",L);s&&(z=I(z,L)),z.create=function(){return new q(L)},z.update=function(M){return z.create().update(M)};for(var P=0;P<b.length;++P){var R=b[P];z[R]=w(R,L)}return z},I=function(L,z){var P=cO,R=cO.Buffer,M=z?"sha224":"sha256",F;R.from&&!r.JS_SHA256_NO_BUFFER_FROM?F=R.from:F=function(V){return new R(V)};var W=function(V){if(typeof V=="string")return P.createHash(M).update(V,"utf8").digest("hex");if(V==null)throw new Error(e);return V.constructor===ArrayBuffer&&(V=new Uint8Array(V)),Array.isArray(V)||ArrayBuffer.isView(V)||V.constructor===R?P.createHash(M).update(F(V)).digest("hex"):L(V)};return W},T=function(L,z){return function(P,R){return new A(P,z,!0).update(R)[L]()}},O=function(L){var z=T("hex",L);z.create=function(M){return new A(M,L)},z.update=function(M,F){return z.create(M).update(F)};for(var P=0;P<b.length;++P){var R=b[P];z[R]=T(R,L)}return z};function q(L,z){z?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=L}q.prototype.update=function(L){if(!this.finalized){var z,P=typeof L;if(P!=="string"){if(P==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);z=!0}for(var R,M=0,F,W=L.length,V=this.blocks;M<W;){if(this.hashed&&(this.hashed=!1,V[0]=this.block,this.block=V[16]=V[1]=V[2]=V[3]=V[4]=V[5]=V[6]=V[7]=V[8]=V[9]=V[10]=V[11]=V[12]=V[13]=V[14]=V[15]=0),z)for(F=this.start;M<W&&F<64;++M)V[F>>>2]|=L[M]<<f[F++&3];else for(F=this.start;M<W&&F<64;++M)R=L.charCodeAt(M),R<128?V[F>>>2]|=R<<f[F++&3]:R<2048?(V[F>>>2]|=(192|R>>>6)<<f[F++&3],V[F>>>2]|=(128|R&63)<<f[F++&3]):R<55296||R>=57344?(V[F>>>2]|=(224|R>>>12)<<f[F++&3],V[F>>>2]|=(128|R>>>6&63)<<f[F++&3],V[F>>>2]|=(128|R&63)<<f[F++&3]):(R=65536+((R&1023)<<10|L.charCodeAt(++M)&1023),V[F>>>2]|=(240|R>>>18)<<f[F++&3],V[F>>>2]|=(128|R>>>12&63)<<f[F++&3],V[F>>>2]|=(128|R>>>6&63)<<f[F++&3],V[F>>>2]|=(128|R&63)<<f[F++&3]);this.lastByteIndex=F,this.bytes+=F-this.start,F>=64?(this.block=V[16],this.start=F-64,this.hash(),this.hashed=!0):this.start=F}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},q.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var L=this.blocks,z=this.lastByteIndex;L[16]=this.block,L[z>>>2]|=d[z&3],this.block=L[16],z>=56&&(this.hashed||this.hash(),L[0]=this.block,L[16]=L[1]=L[2]=L[3]=L[4]=L[5]=L[6]=L[7]=L[8]=L[9]=L[10]=L[11]=L[12]=L[13]=L[14]=L[15]=0),L[14]=this.hBytes<<3|this.bytes>>>29,L[15]=this.bytes<<3,this.hash()}},q.prototype.hash=function(){var L=this.h0,z=this.h1,P=this.h2,R=this.h3,M=this.h4,F=this.h5,W=this.h6,V=this.h7,B=this.blocks,ee,J,le,se,ne,oe,X,ce,de,ye,_e;for(ee=16;ee<64;++ee)ne=B[ee-15],J=(ne>>>7|ne<<25)^(ne>>>18|ne<<14)^ne>>>3,ne=B[ee-2],le=(ne>>>17|ne<<15)^(ne>>>19|ne<<13)^ne>>>10,B[ee]=B[ee-16]+J+B[ee-7]+le<<0;for(_e=z&P,ee=0;ee<64;ee+=4)this.first?(this.is224?(ce=300032,ne=B[0]-0x543c9a5b,V=ne-0x8f1a6c7<<0,R=ne+0x170e9b5<<0):(ce=0x2a01a605,ne=B[0]-0xc881298,V=ne-0x5ab00ac6<<0,R=ne+0x8909ae5<<0),this.first=!1):(J=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),le=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),ce=L&z,se=ce^L&P^_e,X=M&F^~M&W,ne=V+le+X+h[ee]+B[ee],oe=J+se,V=R+ne<<0,R=ne+oe<<0),J=(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),le=(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7),de=R&L,se=de^R&z^ce,X=V&M^~V&F,ne=W+le+X+h[ee+1]+B[ee+1],oe=J+se,W=P+ne<<0,P=ne+oe<<0,J=(P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),le=(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7),ye=P&R,se=ye^P&L^de,X=W&V^~W&M,ne=F+le+X+h[ee+2]+B[ee+2],oe=J+se,F=z+ne<<0,z=ne+oe<<0,J=(z>>>2|z<<30)^(z>>>13|z<<19)^(z>>>22|z<<10),le=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),_e=z&P,se=_e^z&R^ye,X=F&W^~F&V,ne=M+le+X+h[ee+3]+B[ee+3],oe=J+se,M=L+ne<<0,L=ne+oe<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+L<<0,this.h1=this.h1+z<<0,this.h2=this.h2+P<<0,this.h3=this.h3+R<<0,this.h4=this.h4+M<<0,this.h5=this.h5+F<<0,this.h6=this.h6+W<<0,this.h7=this.h7+V<<0},q.prototype.hex=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,R=this.h3,M=this.h4,F=this.h5,W=this.h6,V=this.h7,B=c[L>>>28&15]+c[L>>>24&15]+c[L>>>20&15]+c[L>>>16&15]+c[L>>>12&15]+c[L>>>8&15]+c[L>>>4&15]+c[L&15]+c[z>>>28&15]+c[z>>>24&15]+c[z>>>20&15]+c[z>>>16&15]+c[z>>>12&15]+c[z>>>8&15]+c[z>>>4&15]+c[z&15]+c[P>>>28&15]+c[P>>>24&15]+c[P>>>20&15]+c[P>>>16&15]+c[P>>>12&15]+c[P>>>8&15]+c[P>>>4&15]+c[P&15]+c[R>>>28&15]+c[R>>>24&15]+c[R>>>20&15]+c[R>>>16&15]+c[R>>>12&15]+c[R>>>8&15]+c[R>>>4&15]+c[R&15]+c[M>>>28&15]+c[M>>>24&15]+c[M>>>20&15]+c[M>>>16&15]+c[M>>>12&15]+c[M>>>8&15]+c[M>>>4&15]+c[M&15]+c[F>>>28&15]+c[F>>>24&15]+c[F>>>20&15]+c[F>>>16&15]+c[F>>>12&15]+c[F>>>8&15]+c[F>>>4&15]+c[F&15]+c[W>>>28&15]+c[W>>>24&15]+c[W>>>20&15]+c[W>>>16&15]+c[W>>>12&15]+c[W>>>8&15]+c[W>>>4&15]+c[W&15];return this.is224||(B+=c[V>>>28&15]+c[V>>>24&15]+c[V>>>20&15]+c[V>>>16&15]+c[V>>>12&15]+c[V>>>8&15]+c[V>>>4&15]+c[V&15]),B},q.prototype.toString=q.prototype.hex,q.prototype.digest=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,R=this.h3,M=this.h4,F=this.h5,W=this.h6,V=this.h7,B=[L>>>24&255,L>>>16&255,L>>>8&255,L&255,z>>>24&255,z>>>16&255,z>>>8&255,z&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255];return this.is224||B.push(V>>>24&255,V>>>16&255,V>>>8&255,V&255),B},q.prototype.array=q.prototype.digest,q.prototype.arrayBuffer=function(){this.finalize();var L=new ArrayBuffer(this.is224?28:32),z=new DataView(L);return z.setUint32(0,this.h0),z.setUint32(4,this.h1),z.setUint32(8,this.h2),z.setUint32(12,this.h3),z.setUint32(16,this.h4),z.setUint32(20,this.h5),z.setUint32(24,this.h6),this.is224||z.setUint32(28,this.h7),L};function A(L,z,P){var R,M=typeof L;if(M==="string"){var F=[],W=L.length,V=0,B;for(R=0;R<W;++R)B=L.charCodeAt(R),B<128?F[V++]=B:B<2048?(F[V++]=192|B>>>6,F[V++]=128|B&63):B<55296||B>=57344?(F[V++]=224|B>>>12,F[V++]=128|B>>>6&63,F[V++]=128|B&63):(B=65536+((B&1023)<<10|L.charCodeAt(++R)&1023),F[V++]=240|B>>>18,F[V++]=128|B>>>12&63,F[V++]=128|B>>>6&63,F[V++]=128|B&63);L=F}else if(M==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);L.length>64&&(L=new q(z,!0).update(L).array());var ee=[],J=[];for(R=0;R<64;++R){var le=L[R]||0;ee[R]=92^le,J[R]=54^le}q.call(this,z,P),this.update(J),this.oKeyPad=ee,this.inner=!0,this.sharedMemory=P}A.prototype=new q,A.prototype.finalize=function(){if(q.prototype.finalize.call(this),this.inner){this.inner=!1;var L=this.array();q.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(L),q.prototype.finalize.call(this)}};var D=E();D.sha256=D,D.sha224=E(!0),D.sha256.hmac=O(),D.sha224.hmac=O(!0),o?t.exports=D:(r.sha256=D.sha256,r.sha224=D.sha224)})()}(Jw)),Jw.exports}var cE=g5();const y5=cE.sha224,jP=({index:t,key:e,fallback:n})=>t[y5(e)]?.value??t[e]?.value??n??e,v5=({index:t,key:e,fallback:n})=>jP({index:t,key:e,fallback:n}),b5=({index:t,key:e,fallback:n})=>jP({index:t,key:e,fallback:n}),Ll={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>v5({index:Ll.index,key:t,fallback:e}),rich:(t,e)=>b5({index:Ll.index,key:t,fallback:e})};function ql(t){return typeof t>"u"||t===void 0}function qs(t){return typeof t=="string"}function Eb(t){return typeof t=="number"}function uv(t){return typeof t=="boolean"}function T1(t){return t===null}function x5(t){return t instanceof Date}function O1(t){return typeof t=="bigint"}function js(t){return typeof t=="function"}function Bo(t){return typeof t=="object"&&t!==null}function G(t){return Object.freeze(t)}function Fg(t){return Da(t)?t:[t]}function Da(t){return Array.isArray(t)}function Rl(t){return t}const Gn=G({is(t){return t.kind==="AlterTableNode"},create(t){return G({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return G({...t,...e})},cloneWithColumnAlteration(t,e){return G({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),br=G({is(t){return t.kind==="IdentifierNode"},create(t){return G({kind:"IdentifierNode",name:t})}}),ka=G({is(t){return t.kind==="CreateIndexNode"},create(t){return G({kind:"CreateIndexNode",name:br.create(t)})},cloneWith(t,e){return G({...t,...e})},cloneWithColumns(t,e){return G({...t,columns:[...t.columns||[],...e]})}}),AP=G({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return G({kind:"CreateSchemaNode",schema:br.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),_5=["preserve rows","delete rows","drop"],bs=G({is(t){return t.kind==="CreateTableNode"},create(t){return G({kind:"CreateTableNode",table:t,columns:G([])})},cloneWithColumn(t,e){return G({...t,columns:G([...t.columns,e])})},cloneWithConstraint(t,e){return G({...t,constraints:t.constraints?G([...t.constraints,e]):G([e])})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):G([e])})},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):G([e])})},cloneWith(t,e){return G({...t,...e})}}),Ml=G({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return G({kind:"SchemableIdentifierNode",identifier:br.create(t)})},createWithSchema(t,e){return G({kind:"SchemableIdentifierNode",schema:br.create(t),identifier:br.create(e)})}}),Up=G({is(t){return t.kind==="DropIndexNode"},create(t,e){return G({kind:"DropIndexNode",name:Ml.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),dE=G({is(t){return t.kind==="DropSchemaNode"},create(t,e){return G({kind:"DropSchemaNode",schema:br.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),fE=G({is(t){return t.kind==="DropTableNode"},create(t,e){return G({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return G({...t,...e})}}),Zl=G({is(t){return t.kind==="AliasNode"},create(t,e){return G({kind:"AliasNode",node:t,alias:e})}}),jl=G({is(t){return t.kind==="TableNode"},create(t){return G({kind:"TableNode",table:Ml.create(t)})},createWithSchema(t,e){return G({kind:"TableNode",table:Ml.createWithSchema(t,e)})}});function hs(t){return Bo(t)&&js(t.toOperationNode)}function w5(t){return Bo(t)&&"expressionType"in t&&hs(t)}function S5(t){return Bo(t)&&"expression"in t&&qs(t.alias)&&hs(t)}const wa=G({is(t){return t.kind==="SelectModifierNode"},create(t,e){return G({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return G({kind:"SelectModifierNode",rawModifier:t})}}),$l=G({is(t){return t.kind==="AndNode"},create(t,e){return G({kind:"AndNode",left:t,right:e})}}),sf=G({is(t){return t.kind==="OrNode"},create(t,e){return G({kind:"OrNode",left:t,right:e})}}),Yw=G({is(t){return t.kind==="OnNode"},create(t){return G({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return G({...t,on:e==="And"?$l.create(t.on,n):sf.create(t.on,n)})}}),Vp=G({is(t){return t.kind==="JoinNode"},create(t,e){return G({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return G({kind:"JoinNode",joinType:t,table:e,on:Yw.create(n)})},cloneWithOn(t,e){return G({...t,on:t.on?Yw.cloneWithOperation(t.on,"And",e):Yw.create(e)})}}),jd=G({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return G({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),E5=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],N5=["+","-","*","/","%","^","&","|","#","<<",">>"],PP=["->","->>"],k5=[...E5,...N5,"&&","||"],I5=["exists","not exists"],C5=["not","-",...I5],T5=[...k5,...PP,...C5,"between","between symmetric"],Bl=G({is(t){return t.kind==="OperatorNode"},create(t){return G({kind:"OperatorNode",operator:t})}});function fO(t){return qs(t)&&PP.includes(t)}const Ur=G({is(t){return t.kind==="ColumnNode"},create(t){return G({kind:"ColumnNode",column:br.create(t)})}}),q1=G({is(t){return t.kind==="SelectAllNode"},create(){return G({kind:"SelectAllNode"})}}),Nb=G({is(t){return t.kind==="ReferenceNode"},create(t,e){return G({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return G({kind:"ReferenceNode",table:t,column:q1.create()})}});class O5{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return $P(this.#e)}}function FP(t){return Bo(t)&&hs(t)&&qs(t.dynamicReference)}const pE=G({is(t){return t.kind==="OrderByItemNode"},create(t,e){return G({kind:"OrderByItemNode",orderBy:t,direction:e})}}),_i=G({is(t){return t.kind==="RawNode"},create(t,e){return G({kind:"RawNode",sqlFragments:G(t),parameters:G(e)})},createWithSql(t){return _i.create([t],[])},createWithChild(t){return _i.create(["",""],[t])},createWithChildren(t){return _i.create(new Array(t.length+1).fill(""),t)}});function DP(t){return t==="asc"||t==="desc"}function Xh(t){if(t.length===2)return[Xw(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>Xw(n)):[Xw(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function Xw(t,e){const n=q5(t);if(pE.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return pE.create(n,LP(e))}function q5(t){if(im(t))return lc(t);if(FP(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!DP(n))throw new Error(`Invalid order by direction: ${n}`);return pE.create(La(e),LP(n))}return La(t)}function LP(t){if(t)return t==="asc"||t==="desc"?_i.createWithSql(t):t.toOperationNode()}const cv=G({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return G({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return G({...t,traversal:e})}}),MP=G({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return G({kind:"JSONOperatorChainNode",operator:t,values:G([])})},cloneWithValue(t,e){return G({...t,values:G([...t.values,e])})}}),Hp=G({is(t){return t.kind==="JSONPathNode"},create(t){return G({kind:"JSONPathNode",inOperator:t,pathLegs:G([])})},cloneWithLeg(t,e){return G({...t,pathLegs:G([...t.pathLegs,e])})}});function $P(t){return qs(t)?La(t):t.toOperationNode()}function ah(t){return Da(t)?t.map(e=>Ns(e)):[Ns(t)]}function Ns(t){return im(t)?lc(t):$P(t)}function R5(t,e){const n=La(t);if(fO(e))return cv.create(n,MP.create(Bl.create(e)));const r=e.slice(0,-1);if(fO(r))return cv.create(n,Hp.create(Bl.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function La(t){const e=".";if(!t.includes(e))return Nb.create(Ur.create(t));const n=t.split(e).map(R1);if(n.length===3)return A5(n);if(n.length===2)return P5(n);throw new Error(`invalid column reference ${t}`)}function j5(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(R1);return Zl.create(La(n),br.create(r))}else return La(t)}function BP(t){return Ur.create(t)}function dv(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(R1);if(!DP(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return Xh([n,r])[0]}else return BP(t)}function A5(t){const[e,n,r]=t;return Nb.create(Ur.create(r),jl.createWithSchema(e,n))}function P5(t){const[e,n]=t;return Nb.create(Ur.create(n),jl.create(e))}function R1(t){return t.trim()}const zP=G({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return G({kind:"PrimitiveValueListNode",values:G([...t])})}}),j1=G({is(t){return t.kind==="ValueListNode"},create(t){return G({kind:"ValueListNode",values:G(t)})}}),Jo=G({is(t){return t.kind==="ValueNode"},create(t){return G({kind:"ValueNode",value:t})},createImmediate(t){return G({kind:"ValueNode",value:t,immediate:!0})}});function F5(t){return Da(t)?D5(t):Gr(t)}function Gr(t){return im(t)?lc(t):Jo.create(t)}function A1(t){return Eb(t)||uv(t)||T1(t)}function P1(t){if(!A1(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Jo.createImmediate(t)}function D5(t){return t.some(im)?j1.create(t.map(e=>Gr(e))):zP.create(t)}const Ad=G({is(t){return t.kind==="ParensNode"},create(t){return G({kind:"ParensNode",node:t})}});function fi(t){if(t.length===3)return F1(t[0],t[1],t[2]);if(t.length===1)return Gr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function F1(t,e,n){return L5(e)&&WP(n)?jd.create(Ns(t),hE(e),Jo.createImmediate(n)):jd.create(Ns(t),hE(e),F5(n))}function Yo(t,e,n){return jd.create(Ns(t),hE(e),Ns(n))}function pO(t,e){return fv(Object.entries(t).filter(([,n])=>!ql(n)).map(([n,r])=>F1(n,WP(r)?"is":"=",r)),e)}function fv(t,e,n=!0){const r=e==="and"?$l.create:sf.create;if(t.length===0)return jd.create(Jo.createImmediate(1),Bl.create("="),Jo.createImmediate(e==="and"?1:0));let i=hO(t[0]);for(let s=1;s<t.length;++s)i=r(i,hO(t[s]));return t.length>1&&n?Ad.create(i):i}function L5(t){return t==="is"||t==="is not"}function WP(t){return T1(t)||uv(t)}function hE(t){if(qs(t)&&T5.includes(t))return Bl.create(t);if(hs(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function hO(t){return hs(t)?t.toOperationNode():t}const zl=G({is(t){return t.kind==="OrderByNode"},create(t){return G({kind:"OrderByNode",items:G([...t])})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),mO=G({is(t){return t.kind==="PartitionByNode"},create(t){return G({kind:"PartitionByNode",items:G(t)})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),mE=G({is(t){return t.kind==="OverNode"},create(){return G({kind:"OverNode"})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?zl.cloneWithItems(t.orderBy,e):zl.create(e)})},cloneWithPartitionByItems(t,e){return G({...t,partitionBy:t.partitionBy?mO.cloneWithItems(t.partitionBy,e):mO.create(e)})}}),pv=G({is(t){return t.kind==="FromNode"},create(t){return G({kind:"FromNode",froms:G(t)})},cloneWithFroms(t,e){return G({...t,froms:G([...t.froms,...e])})}}),gO=G({is(t){return t.kind==="GroupByNode"},create(t){return G({kind:"GroupByNode",items:G(t)})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),yO=G({is(t){return t.kind==="HavingNode"},create(t){return G({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return G({...t,having:e==="And"?$l.create(t.having,n):sf.create(t.having,n)})}}),Kn=G({is(t){return t.kind==="SelectQueryNode"},create(t){return G({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return G({kind:"SelectQueryNode",from:pv.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})},cloneWithDistinctOn(t,e){return G({...t,distinctOn:t.distinctOn?G([...t.distinctOn,...e]):G(e)})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):G([e])})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?zl.cloneWithItems(t.orderBy,e):zl.create(e)})},cloneWithGroupByItems(t,e){return G({...t,groupBy:t.groupBy?gO.cloneWithItems(t.groupBy,e):gO.create(e)})},cloneWithLimit(t,e){return G({...t,limit:e})},cloneWithOffset(t,e){return G({...t,offset:e})},cloneWithFetch(t,e){return G({...t,fetch:e})},cloneWithHaving(t,e){return G({...t,having:t.having?yO.cloneWithOperation(t.having,"And",e):yO.create(e)})},cloneWithSetOperations(t,e){return G({...t,setOperations:t.setOperations?G([...t.setOperations,...e]):G([...e])})},cloneWithoutSelections(t){return G({...t,selections:[]})},cloneWithoutLimit(t){return G({...t,limit:void 0})},cloneWithoutOffset(t){return G({...t,offset:void 0})},cloneWithoutOrderBy(t){return G({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return G({...t,groupBy:void 0})}});function wn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class bd{#e;constructor(e){this.#e=G(e)}on(...e){return new bd({...this.#e,joinNode:Vp.cloneWithOn(this.#e.joinNode,fi(e))})}onRef(e,n,r){return new bd({...this.#e,joinNode:Vp.cloneWithOn(this.#e.joinNode,Yo(e,n,r))})}onTrue(){return new bd({...this.#e,joinNode:Vp.cloneWithOn(this.#e.joinNode,_i.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}wn(bd,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const M5=G({is(t){return t.kind==="PartitionByItemNode"},create(t){return G({kind:"PartitionByItemNode",partitionBy:t})}});function $5(t){return ah(t).map(M5.create)}class lh{#e;constructor(e){this.#e=G(e)}orderBy(e,n){return new lh({overNode:mE.cloneWithOrderByItems(this.#e.overNode,Xh([e,n]))})}partitionBy(e){return new lh({overNode:mE.cloneWithPartitionByItems(this.#e.overNode,$5(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}wn(lh,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Qp=G({is(t){return t.kind==="SelectionNode"},create(t){return G({kind:"SelectionNode",selection:t})},createSelectAll(){return G({kind:"SelectionNode",selection:q1.create()})},createSelectAllFromTable(t){return G({kind:"SelectionNode",selection:Nb.createSelectAll(t)})}});function ko(t){return js(t)?ko(t(af())):Da(t)?t.map(e=>vO(e)):[vO(t)]}function vO(t){return qs(t)?Qp.create(j5(t)):FP(t)?Qp.create(t.toOperationNode()):Qp.create(nF(t))}function Xo(t){return t?Array.isArray(t)?t.map(bO):[bO(t)]:[Qp.createSelectAll()]}function bO(t){if(qs(t))return Qp.createSelectAllFromTable(Br(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const B5=G({is(t){return t.kind==="ValuesNode"},create(t){return G({kind:"ValuesNode",values:G(t)})}}),z5=G({is(t){return t.kind==="DefaultInsertValueNode"},create(){return G({kind:"DefaultInsertValueNode"})}});function UP(t){const e=js(t)?t(af()):t,n=Da(e)?e:G([e]);return W5(n)}function W5(t){const e=U5(t);return[G([...e.keys()].map(Ur.create)),B5.create(t.map(n=>V5(n,e)))]}function U5(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function V5(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const o of n){const l=e.get(o);if(ql(l))continue;const c=t[o];(ql(c)||im(c))&&(i=!0),r[l]=c}if(n.length<e.size||i){const o=z5.create();return j1.create(r.map(l=>ql(l)?o:Gr(l)))}return zP.create(r)}const ws=G({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return G({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return G({kind:"InsertQueryNode"})},cloneWith(t,e){return G({...t,...e})}}),xd=G({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return G({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return G({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return G({...t,from:t.from?pv.cloneWithFroms(t.from,e):pv.create(e)})},cloneWithUpdates(t,e){return G({...t,updates:t.updates?G([...t.updates,...e]):e})},cloneWithLimit(t,e){return G({...t,limit:e})}}),xO=G({is(t){return t.kind==="UsingNode"},create(t){return G({kind:"UsingNode",tables:G(t)})},cloneWithTables(t,e){return G({...t,tables:G([...t.tables,...e])})}}),qu=G({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return G({kind:"DeleteQueryNode",from:pv.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?zl.cloneWithItems(t.orderBy,e):zl.create(e)})},cloneWithoutOrderBy(t){return G({...t,orderBy:void 0})},cloneWithLimit(t,e){return G({...t,limit:e})},cloneWithoutLimit(t){return G({...t,limit:void 0})},cloneWithUsing(t,e){return G({...t,using:t.using!==void 0?xO.cloneWithTables(t.using,e):xO.create(e)})}}),ls=G({is(t){return t.kind==="WhereNode"},create(t){return G({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return G({...t,where:e==="And"?$l.create(t.where,n):sf.create(t.where,n)})}}),_O=G({is(t){return t.kind==="ReturningNode"},create(t){return G({kind:"ReturningNode",selections:G(t)})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})}}),H5=G({is(t){return t.kind==="ExplainNode"},create(t,e){return G({kind:"ExplainNode",format:t,options:e})}}),em=G({is(t){return t.kind==="WhenNode"},create(t){return G({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return G({...t,result:e})}}),us=G({is(t){return t.kind==="MergeQueryNode"},create(t,e){return G({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return G({...t,using:e})},cloneWithWhen(t,e){return G({...t,whens:t.whens?G([...t.whens,e]):G([e])})},cloneWithThen(t,e){return G({...t,whens:t.whens?G([...t.whens.slice(0,-1),em.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),wO=G({is(t){return t.kind==="OutputNode"},create(t){return G({kind:"OutputNode",selections:G(t)})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})}}),Pt=G({is(t){return Kn.is(t)||ws.is(t)||xd.is(t)||qu.is(t)||us.is(t)},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):G([e])})},cloneWithWhere(t,e){return G({...t,where:t.where?ls.cloneWithOperation(t.where,"And",e):ls.create(e)})},cloneWithJoin(t,e){return G({...t,joins:t.joins?G([...t.joins,e]):G([e])})},cloneWithReturning(t,e){return G({...t,returning:t.returning?_O.cloneWithSelections(t.returning,e):_O.create(e)})},cloneWithoutReturning(t){return G({...t,returning:void 0})},cloneWithoutWhere(t){return G({...t,where:void 0})},cloneWithExplain(t,e,n){return G({...t,explain:H5.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return G({...t,top:e})},cloneWithOutput(t,e){return G({...t,output:t.output?wO.cloneWithSelections(t.output,e):wO.create(e)})}}),VP=G({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return G({kind:"ColumnUpdateNode",column:t,value:e})}});function Q5(...t){return t.length===2?[VP.create(Ns(t[0]),Gr(t[1]))]:D1(t[0])}function D1(t){const e=js(t)?t(af()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>VP.create(Ur.create(n),Gr(r)))}const K5=G({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return G({kind:"OnDuplicateKeyNode",updates:t})}});class G5{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class tm extends Error{node;constructor(e){super("no result"),this.node=e}}function nm(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const xs=G({is(t){return t.kind==="OnConflictNode"},create(){return G({kind:"OnConflictNode"})},cloneWith(t,e){return G({...t,...e})},cloneWithIndexWhere(t,e){return G({...t,indexWhere:t.indexWhere?ls.cloneWithOperation(t.indexWhere,"And",e):ls.create(e)})},cloneWithIndexOrWhere(t,e){return G({...t,indexWhere:t.indexWhere?ls.cloneWithOperation(t.indexWhere,"Or",e):ls.create(e)})},cloneWithUpdateWhere(t,e){return G({...t,updateWhere:t.updateWhere?ls.cloneWithOperation(t.updateWhere,"And",e):ls.create(e)})},cloneWithUpdateOrWhere(t,e){return G({...t,updateWhere:t.updateWhere?ls.cloneWithOperation(t.updateWhere,"Or",e):ls.create(e)})},cloneWithoutIndexWhere(t){return G({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return G({...t,updateWhere:void 0})}});class $o{#e;constructor(e){this.#e=G(e)}column(e){const n=Ur.create(e);return new $o({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?G([...this.#e.onConflictNode.columns,n]):G([n])})})}columns(e){const n=e.map(Ur.create);return new $o({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?G([...this.#e.onConflictNode.columns,...n]):G(n)})})}constraint(e){return new $o({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{constraint:br.create(e)})})}expression(e){return new $o({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new $o({...this.#e,onConflictNode:xs.cloneWithIndexWhere(this.#e.onConflictNode,fi(e))})}whereRef(e,n,r){return new $o({...this.#e,onConflictNode:xs.cloneWithIndexWhere(this.#e.onConflictNode,Yo(e,n,r))})}clearWhere(){return new $o({...this.#e,onConflictNode:xs.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new HP({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new _d({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{updates:D1(e)})})}$call(e){return e(this)}}wn($o,"don't await OnConflictBuilder instances.");class HP{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.onConflictNode}}wn(HP,"don't await OnConflictDoNothingBuilder instances.");class _d{#e;constructor(e){this.#e=G(e)}where(...e){return new _d({...this.#e,onConflictNode:xs.cloneWithUpdateWhere(this.#e.onConflictNode,fi(e))})}whereRef(e,n,r){return new _d({...this.#e,onConflictNode:xs.cloneWithUpdateWhere(this.#e.onConflictNode,Yo(e,n,r))})}clearWhere(){return new _d({...this.#e,onConflictNode:xs.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}wn(_d,"don't await OnConflictUpdateBuilder instances.");const Z5=G({is(t){return t.kind==="TopNode"},create(t,e){return G({kind:"TopNode",expression:t,modifiers:e})}});function of(t,e){if(!Eb(t)&&!O1(t))throw new Error(`Invalid top expression: ${t}`);if(!ql(e)&&!J5(e))throw new Error(`Invalid top modifiers: ${e}`);return Z5.create(t,e)}function J5(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class gr{#e;constructor(e){this.#e=G(e)}values(e){const[n,r]=UP(e);return new gr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new gr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{columns:G(e.map(Ur.create))})})}expression(e){return new gr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{values:lc(e)})})}defaultValues(){return new gr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new gr({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new gr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new gr({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,of(e,n))})}onConflict(e){return new gr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{onConflict:e(new $o({onConflictNode:xs.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new gr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{onDuplicateKey:K5.create(D1(e))})})}returning(e){return new gr({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,ko(e))})}returningAll(){return new gr({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,Xo())})}output(e){return new gr({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,ko(e))})}outputAll(e){return new gr({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,Xo(e))})}clearReturning(){return new gr({...this.#e,queryNode:Pt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new gr({...this.#e})}$castTo(){return new gr(this.#e)}$narrowType(){return new gr(this.#e)}$assertType(){return new gr(this.#e)}withPlugin(e){return new gr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new G5(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=tm){const n=await this.executeTakeFirst();if(n===void 0)throw nm(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new gr({...this.#e,queryNode:Pt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}wn(gr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class Y5{numDeletedRows;constructor(e){this.numDeletedRows=e}}const L1=G({is(t){return t.kind==="LimitNode"},create(t){return G({kind:"LimitNode",limit:t})}});class Qn{#e;constructor(e){this.#e=G(e)}where(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,fi(e))})}whereRef(e,n,r){return new Qn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}clearWhere(){return new Qn({...this.#e,queryNode:Pt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Qn({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,of(e,n))})}using(e){return new Qn({...this.#e,queryNode:qu.cloneWithUsing(this.#e.queryNode,dh(e))})}innerJoin(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("InnerJoin",e))})}leftJoin(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LeftJoin",e))})}rightJoin(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("RightJoin",e))})}fullJoin(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("FullJoin",e))})}returning(e){return new Qn({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,ko(e))})}returningAll(e){return new Qn({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,Xo(e))})}output(e){return new Qn({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,ko(e))})}outputAll(e){return new Qn({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,Xo(e))})}clearReturning(){return new Qn({...this.#e,queryNode:Pt.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Qn({...this.#e,queryNode:qu.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Qn({...this.#e,queryNode:qu.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Qn({...this.#e,queryNode:qu.cloneWithOrderByItems(this.#e.queryNode,Xh([e,n]))})}limit(e){return new Qn({...this.#e,queryNode:qu.cloneWithLimit(this.#e.queryNode,L1.create(Gr(e)))})}modifyEnd(e){return new Qn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Qn({...this.#e})}$castTo(){return new Qn(this.#e)}$narrowType(){return new Qn(this.#e)}$assertType(){return new Qn(this.#e)}withPlugin(e){return new Qn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new Y5(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=tm){const n=await this.executeTakeFirst();if(n===void 0)throw nm(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Qn({...this.#e,queryNode:Pt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}wn(Qn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class X5{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class Yn{#e;constructor(e){this.#e=G(e)}where(...e){return new Yn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,fi(e))})}whereRef(e,n,r){return new Yn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}clearWhere(){return new Yn({...this.#e,queryNode:Pt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Yn({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,of(e,n))})}from(e){return new Yn({...this.#e,queryNode:xd.cloneWithFromItems(this.#e.queryNode,dh(e))})}innerJoin(...e){return new Yn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("InnerJoin",e))})}leftJoin(...e){return new Yn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LeftJoin",e))})}rightJoin(...e){return new Yn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("RightJoin",e))})}fullJoin(...e){return new Yn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("FullJoin",e))})}limit(e){return new Yn({...this.#e,queryNode:xd.cloneWithLimit(this.#e.queryNode,L1.create(Gr(e)))})}set(...e){return new Yn({...this.#e,queryNode:xd.cloneWithUpdates(this.#e.queryNode,Q5(...e))})}returning(e){return new Yn({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,ko(e))})}returningAll(e){return new Yn({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,Xo(e))})}output(e){return new Yn({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,ko(e))})}outputAll(e){return new Yn({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,Xo(e))})}modifyEnd(e){return new Yn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Yn({...this.#e,queryNode:Pt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Yn({...this.#e})}$castTo(){return new Yn(this.#e)}$narrowType(){return new Yn(this.#e)}$assertType(){return new Yn(this.#e)}withPlugin(e){return new Yn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new X5(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=tm){const n=await this.executeTakeFirst();if(n===void 0)throw nm(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Yn({...this.#e,queryNode:Pt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}wn(Yn,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const SO=G({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return G({kind:"CommonTableExpressionNameNode",table:jl.create(t),columns:e?G(e.map(Ur.create)):void 0})}}),hv=G({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return G({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return G({...t,...e})}});class uh{#e;constructor(e){this.#e=G(e)}materialized(){return new uh({...this.#e,node:hv.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new uh({...this.#e,node:hv.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}wn(uh,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function EO(t,e){const n=e(d8()).toOperationNode();return js(t)?t(e8(n)).toOperationNode():hv.create(QP(t),n)}function e8(t){return e=>new uh({node:hv.create(QP(e),t)})}function QP(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return SO.create(n,r)}else return SO.create(t)}const Dg=G({is(t){return t.kind==="WithNode"},create(t,e){return G({kind:"WithNode",expressions:G([t]),...e})},cloneWithExpression(t,e){return G({...t,expressions:G([...t.expressions,e])})}}),NO=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function t8(t){let e="";for(let n=0;n<t;++n)e+=n8();return e}function n8(){return NO[~~(Math.random()*NO.length)]}function Zn(){return new r8}class r8{#e;get queryId(){return this.#e===void 0&&(this.#e=t8(8)),this.#e}}class KP{nodeStack=[];#e=G({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),G(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&G(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:G([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const i8=G({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class s8 extends KP{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const s of n)this.#n.add(s);const r=this.#i(e);for(const s of r)this.#t.add(s);const i=super.transformNodeImpl(e);for(const s of r)this.#t.delete(s);for(const s of n)this.#n.delete(s);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:br.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:jl.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in i8}#i(e){const n=new Set;if("name"in e&&e.name&&Ml.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#u(e.with,n),n}#o(e,n){const r=jl.is(e)?e:Zl.is(e)&&jl.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#u(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class rm{#e;constructor(e){this.#e=new s8(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const o8=G({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return G({kind:"MatchedNode",not:t,bySource:e})}});function kO(t,e,n){return em.create(fv([o8.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?Yo(e[0],e[1],e[2]):fi(e)]:[]],"and",!1))}function Kp(t){return qs(t)?_i.create([t],[]):hs(t)?t.toOperationNode():t}class IO{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const CO=new Set;function a8(t){CO.has(t)||(CO.add(t),console.log(t))}const l8=G([]);class GP{#e;constructor(e=l8){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await this.#t(i,n);return u8(i,s),s})}async *stream(e,n,r){const i=new IO,s=new IO;this.provideConnection(async l=>(i.resolve(l),await s.promise)).catch(l=>i.reject(l));const o=await i.promise;try{for await(const l of o.streamQuery(e,n))yield await this.#t(l,r)}finally{s.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function u8(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||a8("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class sd extends GP{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new sd([...this.plugins,e])}withPlugins(e){return new sd([...this.plugins,...e])}withPluginAtFront(e){return new sd([e,...this.plugins])}withoutPlugins(){return new sd([])}}const kb=new sd;class c8{numChangedRows;constructor(e){this.numChangedRows=e}}class Mu{#e;constructor(e){this.#e=G(e)}modifyEnd(e){return new Mu({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Mu({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,of(e,n))})}using(...e){return new ks({...this.#e,queryNode:us.cloneWithUsing(this.#e.queryNode,Fi("Using",e))})}output(e){return new Mu({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,ko(e))})}outputAll(e){return new Mu({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,Xo(e))})}}wn(Mu,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ks{#e;constructor(e){this.#e=G(e)}modifyEnd(e){return new ks({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new ks({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,of(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new gE({...this.#e,queryNode:us.cloneWithWhen(this.#e.queryNode,kO({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new ks({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,ko(e))})}outputAll(e){return new ks({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,Xo(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:us.cloneWithWhen(this.#e.queryNode,kO({isMatched:!1,bySource:r},e,n))},s=r?gE:ZP;return new s(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new ks({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new c8(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=tm){const n=await this.executeTakeFirst();if(n===void 0)throw nm(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}wn(ks,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class gE{#e;constructor(e){this.#e=G(e)}thenDelete(){return new ks({...this.#e,queryNode:us.cloneWithThen(this.#e.queryNode,Kp("delete"))})}thenDoNothing(){return new ks({...this.#e,queryNode:us.cloneWithThen(this.#e.queryNode,Kp("do nothing"))})}thenUpdate(e){return new ks({...this.#e,queryNode:us.cloneWithThen(this.#e.queryNode,Kp(e(new Yn({queryId:this.#e.queryId,executor:kb,queryNode:xd.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}wn(gE,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ZP{#e;constructor(e){this.#e=G(e)}thenDoNothing(){return new ks({...this.#e,queryNode:us.cloneWithThen(this.#e.queryNode,Kp("do nothing"))})}thenInsertValues(e){const[n,r]=UP(e);return new ks({...this.#e,queryNode:us.cloneWithThen(this.#e.queryNode,Kp(ws.cloneWith(ws.createWithoutInto(),{columns:n,values:r})))})}}wn(ZP,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Sl{#e;constructor(e){this.#e=G(e)}selectFrom(e){return yE({queryId:Zn(),executor:this.#e.executor,queryNode:Kn.createFrom(dh(e),this.#e.withNode)})}selectNoFrom(e){return yE({queryId:Zn(),executor:this.#e.executor,queryNode:Kn.cloneWithSelections(Kn.create(this.#e.withNode),ko(e))})}insertInto(e){return new gr({queryId:Zn(),executor:this.#e.executor,queryNode:ws.create(Br(e),this.#e.withNode)})}replaceInto(e){return new gr({queryId:Zn(),executor:this.#e.executor,queryNode:ws.create(Br(e),this.#e.withNode,!0)})}deleteFrom(e){return new Qn({queryId:Zn(),executor:this.#e.executor,queryNode:qu.create(dh(e),this.#e.withNode)})}updateTable(e){return new Yn({queryId:Zn(),executor:this.#e.executor,queryNode:xd.create(fh(e),this.#e.withNode)})}mergeInto(e){return new Mu({queryId:Zn(),executor:this.#e.executor,queryNode:us.create(rF(e),this.#e.withNode)})}with(e,n){const r=EO(e,n);return new Sl({...this.#e,withNode:this.#e.withNode?Dg.cloneWithExpression(this.#e.withNode,r):Dg.create(r)})}withRecursive(e,n){const r=EO(e,n);return new Sl({...this.#e,withNode:this.#e.withNode?Dg.cloneWithExpression(this.#e.withNode,r):Dg.create(r,{recursive:!0})})}withPlugin(e){return new Sl({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Sl({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Sl({...this.#e,executor:this.#e.executor.withPluginAtFront(new rm(e))})}}function d8(){return new Sl({executor:kb})}function f8(t,e){return new bd({joinNode:Vp.create(t,fh(e))})}function p8(){return new lh({overNode:mE.create()})}function Fi(t,e){if(e.length===3)return m8(t,e[0],e[1],e[2]);if(e.length===2)return h8(t,e[0],e[1]);throw new Error("not implemented")}function h8(t,e,n){return n(f8(t,e)).toOperationNode()}function m8(t,e,n,r){return Vp.createWithOn(t,fh(e),Yo(n,"=",r))}const g8=G({is(t){return t.kind==="OffsetNode"},create(t){return G({kind:"OffsetNode",offset:t})}}),y8=G({is(t){return t.kind==="GroupByItemNode"},create(t){return G({kind:"GroupByItemNode",groupBy:t})}});function v8(t){return t=js(t)?t(af()):t,ah(t).map(y8.create)}const JP=G({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return G({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function Hc(t,e,n){return js(e)&&(e=e($1())),Da(e)||(e=[e]),e.map(r=>JP.create(t,lc(r),n))}class Xn{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new M1(this,e)}or(...e){return new mv(sf.create(this.#e,fi(e)))}and(...e){return new gv($l.create(this.#e,fi(e)))}$castTo(){return new Xn(this.#e)}$notNull(){return new Xn(this.#e)}toOperationNode(){return this.#e}}class M1{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Zl.create(this.#e.toOperationNode(),hs(this.#t)?this.#t.toOperationNode():br.create(this.#t))}}class mv{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new M1(this,e)}or(...e){return new mv(sf.create(this.#e,fi(e)))}$castTo(){return new mv(this.#e)}toOperationNode(){return Ad.create(this.#e)}}class gv{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new M1(this,e)}and(...e){return new gv($l.create(this.#e,fi(e)))}$castTo(){return new gv(this.#e)}toOperationNode(){return Ad.create(this.#e)}}const b8={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Jo.create(t),modifier:e}}};function x8(t,e){if(!Eb(t)&&!O1(t))throw new Error(`Invalid fetch row count: ${t}`);if(!_8(e))throw new Error(`Invalid fetch modifier: ${e}`);return b8.create(t,e)}function _8(t){return t==="only"||t==="with ties"}class nn{#e;constructor(e){this.#e=G(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new nn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,fi(e))})}whereRef(e,n,r){return new nn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}having(...e){return new nn({...this.#e,queryNode:Kn.cloneWithHaving(this.#e.queryNode,fi(e))})}havingRef(e,n,r){return new nn({...this.#e,queryNode:Kn.cloneWithHaving(this.#e.queryNode,Yo(e,n,r))})}select(e){return new nn({...this.#e,queryNode:Kn.cloneWithSelections(this.#e.queryNode,ko(e))})}distinctOn(e){return new nn({...this.#e,queryNode:Kn.cloneWithDistinctOn(this.#e.queryNode,ah(e))})}modifyFront(e){return new nn({...this.#e,queryNode:Kn.cloneWithFrontModifier(this.#e.queryNode,wa.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new nn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,wa.createWithExpression(e.toOperationNode()))})}distinct(){return new nn({...this.#e,queryNode:Kn.cloneWithFrontModifier(this.#e.queryNode,wa.create("Distinct"))})}forUpdate(e){return new nn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,wa.create("ForUpdate",e?Fg(e).map(Br):void 0))})}forShare(e){return new nn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,wa.create("ForShare",e?Fg(e).map(Br):void 0))})}forKeyShare(e){return new nn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,wa.create("ForKeyShare",e?Fg(e).map(Br):void 0))})}forNoKeyUpdate(e){return new nn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,wa.create("ForNoKeyUpdate",e?Fg(e).map(Br):void 0))})}skipLocked(){return new nn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,wa.create("SkipLocked"))})}noWait(){return new nn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,wa.create("NoWait"))})}selectAll(e){return new nn({...this.#e,queryNode:Kn.cloneWithSelections(this.#e.queryNode,Xo(e))})}innerJoin(...e){return new nn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("InnerJoin",e))})}leftJoin(...e){return new nn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LeftJoin",e))})}rightJoin(...e){return new nn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("RightJoin",e))})}fullJoin(...e){return new nn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("FullJoin",e))})}innerJoinLateral(...e){return new nn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LateralInnerJoin",e))})}leftJoinLateral(...e){return new nn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LateralLeftJoin",e))})}orderBy(...e){return new nn({...this.#e,queryNode:Kn.cloneWithOrderByItems(this.#e.queryNode,Xh(e))})}groupBy(e){return new nn({...this.#e,queryNode:Kn.cloneWithGroupByItems(this.#e.queryNode,v8(e))})}limit(e){return new nn({...this.#e,queryNode:Kn.cloneWithLimit(this.#e.queryNode,L1.create(Gr(e)))})}offset(e){return new nn({...this.#e,queryNode:Kn.cloneWithOffset(this.#e.queryNode,g8.create(Gr(e)))})}fetch(e,n="only"){return new nn({...this.#e,queryNode:Kn.cloneWithFetch(this.#e.queryNode,x8(e,n))})}top(e,n){return new nn({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,of(e,n))})}union(e){return new nn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hc("union",e,!1))})}unionAll(e){return new nn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hc("union",e,!0))})}intersect(e){return new nn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hc("intersect",e,!1))})}intersectAll(e){return new nn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hc("intersect",e,!0))})}except(e){return new nn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hc("except",e,!1))})}exceptAll(e){return new nn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hc("except",e,!0))})}as(e){return new YP(this,e)}clearSelect(){return new nn({...this.#e,queryNode:Kn.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new nn({...this.#e,queryNode:Pt.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new nn({...this.#e,queryNode:Kn.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new nn({...this.#e,queryNode:Kn.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new nn({...this.#e,queryNode:Kn.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new nn({...this.#e,queryNode:Kn.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new nn({...this.#e})}$castTo(){return new nn(this.#e)}$narrowType(){return new nn(this.#e)}$assertType(){return new nn(this.#e)}$asTuple(){return new Xn(this.toOperationNode())}withPlugin(e){return new nn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=tm){const n=await this.executeTakeFirst();if(n===void 0)throw nm(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new nn({...this.#e,queryNode:Pt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}wn(nn,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function yE(t){return new nn(t)}class YP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Zl.create(this.#e.toOperationNode(),br.create(this.#t))}}wn(YP,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const El=G({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return G({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return G({...t,distinct:!0})},cloneWithOrderBy(t,e){return G({...t,orderBy:t.orderBy?zl.cloneWithItems(t.orderBy,e):zl.create(e)})},cloneWithFilter(t,e){return G({...t,filter:t.filter?ls.cloneWithOperation(t.filter,"And",e):ls.create(e)})},cloneWithOrFilter(t,e){return G({...t,filter:t.filter?ls.cloneWithOperation(t.filter,"Or",e):ls.create(e)})},cloneWithOver(t,e){return G({...t,over:e})}}),TO=G({is(t){return t.kind==="FunctionNode"},create(t,e){return G({kind:"FunctionNode",func:t,arguments:e})}});class Gs{#e;constructor(e){this.#e=G(e)}get expressionType(){}as(e){return new w8(this,e)}distinct(){return new Gs({...this.#e,aggregateFunctionNode:El.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new Gs({...this.#e,aggregateFunctionNode:El.cloneWithOrderBy(this.#e.aggregateFunctionNode,Xh([e,n]))})}filterWhere(...e){return new Gs({...this.#e,aggregateFunctionNode:El.cloneWithFilter(this.#e.aggregateFunctionNode,fi(e))})}filterWhereRef(e,n,r){return new Gs({...this.#e,aggregateFunctionNode:El.cloneWithFilter(this.#e.aggregateFunctionNode,Yo(e,n,r))})}over(e){const n=p8();return new Gs({...this.#e,aggregateFunctionNode:El.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Gs(this.#e)}$notNull(){return new Gs(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}wn(Gs,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class w8{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Zl.create(this.#e.toOperationNode(),br.create(this.#t))}}function XP(){const t=(n,r)=>new Xn(TO.create(n,ah(r??[]))),e=(n,r)=>new Gs({aggregateFunctionNode:El.create(n,r?ah(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new Gs({aggregateFunctionNode:El.create("count",Xo(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new Gs({aggregateFunctionNode:El.create("json_agg",[qs(n)?Br(n):n.toOperationNode()])})},toJson(n){return new Xn(TO.create("to_json",[qs(n)?Br(n):n.toOperationNode()]))}})}const S8=G({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return G({kind:"UnaryOperationNode",operator:t,operand:e})}});function E8(t,e){return S8.create(Bl.create(t),Ns(e))}const Wo=G({is(t){return t.kind==="CaseNode"},create(t){return G({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return G({...t,when:G(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return G({...t,when:t.when?G([...t.when.slice(0,-1),em.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return G({...t,...e})}});class eF{#e;constructor(e){this.#e=G(e)}when(...e){return new tF({...this.#e,node:Wo.cloneWithWhen(this.#e.node,em.create(fi(e)))})}}class tF{#e;constructor(e){this.#e=G(e)}then(e){return new N8({...this.#e,node:Wo.cloneWithThen(this.#e.node,A1(e)?P1(e):Gr(e))})}}class N8{#e;constructor(e){this.#e=G(e)}when(...e){return new tF({...this.#e,node:Wo.cloneWithWhen(this.#e.node,em.create(fi(e)))})}else(e){return new k8({...this.#e,node:Wo.cloneWith(this.#e.node,{else:A1(e)?P1(e):Gr(e)})})}end(){return new Xn(Wo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Xn(Wo.cloneWith(this.#e.node,{isStatement:!0}))}}class k8{#e;constructor(e){this.#e=G(e)}end(){return new Xn(Wo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Xn(Wo.cloneWith(this.#e.node,{isStatement:!0}))}}const OO=G({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return G({kind:"JSONPathLegNode",type:t,value:e})}});class vE{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return cv.is(this.#e)?new ch(cv.cloneWithTraversal(this.#e,Hp.is(this.#e.traversal)?Hp.cloneWithLeg(this.#e.traversal,OO.create(e,n)):MP.cloneWithValue(this.#e.traversal,Jo.createImmediate(n)))):new ch(Hp.cloneWithLeg(this.#e,OO.create(e,n)))}}class ch extends vE{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new I8(this,e)}$castTo(){return new ch(this.#e)}$notNull(){return new ch(this.#e)}toOperationNode(){return this.#e}}class I8{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Zl.create(this.#e.toOperationNode(),hs(this.#t)?this.#t.toOperationNode():br.create(this.#t))}}const qO=G({is(t){return t.kind==="TupleNode"},create(t){return G({kind:"TupleNode",values:G(t)})}}),C8=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],T8=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],O8=G({is(t){return t.kind==="DataTypeNode"},create(t){return G({kind:"DataTypeNode",dataType:t})}});function q8(t){return!!(C8.includes(t)||T8.some(e=>e.test(t)))}function Zu(t){if(hs(t))return t.toOperationNode();if(q8(t))return O8.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const R8=G({is(t){return t.kind==="CastNode"},create(t,e){return G({kind:"CastNode",expression:t,dataType:e})}});function $1(t=kb){function e(i,s,o){return new Xn(F1(i,s,o))}function n(i,s){return new Xn(E8(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return yE({queryId:Zn(),executor:t,queryNode:Kn.createFrom(dh(i))})},case(i){return new eF({node:Wo.create(ql(i)?void 0:Ns(i))})},ref(i,s){return ql(s)?new Xn(La(i)):new vE(R5(i,s))},jsonPath(){return new vE(Hp.create())},table(i){return new Xn(Br(i))},val(i){return new Xn(Gr(i))},refTuple(...i){return new Xn(qO.create(i.map(Ns)))},tuple(...i){return new Xn(qO.create(i.map(Gr)))},lit(i){return new Xn(P1(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new Xn(jd.create(Ns(i),Bl.create("between"),$l.create(Gr(s),Gr(o))))},betweenSymmetric(i,s,o){return new Xn(jd.create(Ns(i),Bl.create("between symmetric"),$l.create(Gr(s),Gr(o))))},and(i){return Da(i)?new Xn(fv(i,"and")):new Xn(pO(i,"and"))},or(i){return Da(i)?new Xn(fv(i,"or")):new Xn(pO(i,"or"))},parens(...i){const s=fi(i);return Ad.is(s)?new Xn(s):new Xn(Ad.create(s))},cast(i,s){return new Xn(R8.create(Ns(i),Zu(s)))},withSchema(i){return $1(t.withPluginAtFront(new rm(i)))}});return r.fn=XP(),r.eb=r,r}function af(t){return $1()}function lc(t){if(hs(t))return t.toOperationNode();if(js(t))return t(af()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function nF(t){if(hs(t))return t.toOperationNode();if(js(t))return t(af()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function im(t){return w5(t)||S5(t)||js(t)}function dh(t){return Da(t)?t.map(e=>fh(e)):[fh(t)]}function fh(t){return qs(t)?rF(t):nF(t)}function rF(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(iF);return Zl.create(Br(n),br.create(r))}else return Br(t)}function Br(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(iF);return jl.createWithSchema(n,r)}else return jl.create(t)}function iF(t){return t.trim()}const sF=G({is(t){return t.kind==="AddColumnNode"},create(t){return G({kind:"AddColumnNode",column:t})}}),yr=G({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return G({kind:"ColumnDefinitionNode",column:Ur.create(t),dataType:e})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):[e]})},cloneWith(t,e){return G({...t,...e})}}),oF=G({is(t){return t.kind==="DropColumnNode"},create(t){return G({kind:"DropColumnNode",column:Ur.create(t)})}}),aF=G({is(t){return t.kind==="RenameColumnNode"},create(t,e){return G({kind:"RenameColumnNode",column:Ur.create(t),renameTo:Ur.create(e)})}}),B1=G({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return G({kind:"CheckConstraintNode",expression:t,name:e?br.create(e):void 0})}}),j8=["no action","restrict","cascade","set null","set default"],vy=G({is(t){return t.kind==="ReferencesNode"},create(t,e){return G({kind:"ReferencesNode",table:t,columns:G([...e])})},cloneWithOnDelete(t,e){return G({...t,onDelete:e})},cloneWithOnUpdate(t,e){return G({...t,onUpdate:e})}});function lF(t){return hs(t)?t.toOperationNode():Jo.createImmediate(t)}const Lg=G({is(t){return t.kind==="GeneratedNode"},create(t){return G({kind:"GeneratedNode",...t})},createWithExpression(t){return G({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return G({...t,...e})}}),A8=G({is(t){return t.kind==="DefaultValueNode"},create(t){return G({kind:"DefaultValueNode",defaultValue:t})}});function yv(t){if(j8.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class sr{#e;constructor(e){this.#e=e}autoIncrement(){return new sr(yr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new sr(yr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new sr(yr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=La(e);if(!n.table||q1.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new sr(yr.cloneWith(this.#e,{references:vy.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new sr(yr.cloneWith(this.#e,{references:vy.cloneWithOnDelete(this.#e.references,yv(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new sr(yr.cloneWith(this.#e,{references:vy.cloneWithOnUpdate(this.#e.references,yv(e))}))}unique(){return new sr(yr.cloneWith(this.#e,{unique:!0}))}notNull(){return new sr(yr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new sr(yr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new sr(yr.cloneWith(this.#e,{defaultTo:A8.create(lF(e))}))}check(e){return new sr(yr.cloneWith(this.#e,{check:B1.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new sr(yr.cloneWith(this.#e,{generated:Lg.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new sr(yr.cloneWith(this.#e,{generated:Lg.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new sr(yr.cloneWith(this.#e,{generated:Lg.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new sr(yr.cloneWith(this.#e,{generated:Lg.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new sr(yr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new sr(yr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new sr(yr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new sr(yr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}wn(sr,"don't await ColumnDefinitionBuilder instances directly.");const uF=G({is(t){return t.kind==="ModifyColumnNode"},create(t){return G({kind:"ModifyColumnNode",column:t})}}),vv=G({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return G({kind:"ForeignKeyConstraintNode",columns:t,references:vy.create(e,n),name:r?br.create(r):void 0})},cloneWith(t,e){return G({...t,...e})}});class Pd{#e;constructor(e){this.#e=e}onDelete(e){return new Pd(vv.cloneWith(this.#e,{onDelete:yv(e)}))}onUpdate(e){return new Pd(vv.cloneWith(this.#e,{onUpdate:yv(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}wn(Pd,"don't await ForeignKeyConstraintBuilder instances directly.");const by=G({is(t){return t.kind==="AddConstraintNode"},create(t){return G({kind:"AddConstraintNode",constraint:t})}}),z1=G({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return G({kind:"UniqueConstraintNode",columns:G(t.map(Ur.create)),name:e?br.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return G({...t,...e})}}),xy=G({is(t){return t.kind==="DropConstraintNode"},create(t){return G({kind:"DropConstraintNode",constraintName:br.create(t)})},cloneWith(t,e){return G({...t,...e})}}),fp=G({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return G({kind:"AlterColumnNode",column:Ur.create(t),[e]:n})}});class W1{#e;constructor(e){this.#e=e}setDataType(e){return new td(fp.create(this.#e,"dataType",Zu(e)))}setDefault(e){return new td(fp.create(this.#e,"setDefault",lF(e)))}dropDefault(){return new td(fp.create(this.#e,"dropDefault",!0))}setNotNull(){return new td(fp.create(this.#e,"setNotNull",!0))}dropNotNull(){return new td(fp.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}wn(W1,"don't await AlterColumnBuilder instances");class td{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}wn(td,"don't await AlteredColumnBuilder instances");class Iu{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Iu,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class ph{#e;constructor(e){this.#e=G(e)}onDelete(e){return new ph({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new ph({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Gn.cloneWithTableProps(this.#e.node,{addConstraint:by.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(ph,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class wd{#e;constructor(e){this.#e=G(e)}ifExists(){return new wd({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropConstraint:xy.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new wd({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropConstraint:xy.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new wd({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropConstraint:xy.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(wd,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const cF=G({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return G({kind:"PrimaryKeyConstraintNode",columns:G(t.map(Ur.create)),name:e?br.create(e):void 0})}}),nd=G({is(t){return t.kind==="AddIndexNode"},create(t){return G({kind:"AddIndexNode",name:br.create(t)})},cloneWith(t,e){return G({...t,...e})},cloneWithColumns(t,e){return G({...t,columns:[...t.columns||[],...e]})}});class Nl{#e;constructor(e){this.#e=G(e)}unique(){return new Nl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Nl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWithColumns(this.#e.node.addIndex,[dv(e)])})})}columns(e){return new Nl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWithColumns(this.#e.node.addIndex,e.map(dv))})})}expression(e){return new Nl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Nl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWith(this.#e.node.addIndex,{using:_i.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Nl,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class sm{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new sm(z1.cloneWith(this.#e,{nullsNotDistinct:!0}))}}wn(sm,"don't await UniqueConstraintNodeBuilder instances directly.");class dF{#e;constructor(e){this.#e=G(e)}renameTo(e){return new Iu({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{renameTo:Br(e)})})}setSchema(e){return new Iu({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{setSchema:br.create(e)})})}alterColumn(e,n){const r=n(new W1(e));return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,oF.create(e))})}renameColumn(e,n){return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,aF.create(e,n))})}addColumn(e,n,r=Rl){const i=r(new sr(yr.create(e,Zu(n))));return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,sF.create(i.toOperationNode()))})}modifyColumn(e,n,r=Rl){const i=r(new sr(yr.create(e,Zu(n))));return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,uF.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=Rl){const i=r(new sm(z1.create(n,e)));return new Iu({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addConstraint:by.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new Iu({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addConstraint:by.create(B1.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new ph({...this.#e,constraintBuilder:new Pd(vv.create(n.map(Ur.create),Br(r),i.map(Ur.create),e))})}addPrimaryKeyConstraint(e,n){return new Iu({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addConstraint:by.create(cF.create(n,e))})})}dropConstraint(e){return new wd({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropConstraint:xy.create(e)})})}addIndex(e){return new Nl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:nd.create(e)})})}dropIndex(e){return new Iu({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropIndex:Up.create(e)})})}$call(e){return e(this)}}wn(dF,"don't await AlterTableBuilder instances");class Js{#e;constructor(e){this.#e=G(e)}alterColumn(e,n){const r=n(new W1(e));return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,oF.create(e))})}renameColumn(e,n){return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,aF.create(e,n))})}addColumn(e,n,r=Rl){const i=r(new sr(yr.create(e,Zu(n))));return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,sF.create(i.toOperationNode()))})}modifyColumn(e,n,r=Rl){const i=r(new sr(yr.create(e,Zu(n))));return new Js({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,uF.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Js,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class fF extends KP{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Qs{#e;constructor(e){this.#e=G(e)}ifNotExists(){return new Qs({...this.#e,node:ka.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Qs({...this.#e,node:ka.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Qs({...this.#e,node:ka.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Qs({...this.#e,node:ka.cloneWith(this.#e.node,{table:Br(e)})})}column(e){return new Qs({...this.#e,node:ka.cloneWithColumns(this.#e.node,[dv(e)])})}columns(e){return new Qs({...this.#e,node:ka.cloneWithColumns(this.#e.node,e.map(dv))})}expression(e){return new Qs({...this.#e,node:ka.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Qs({...this.#e,node:ka.cloneWith(this.#e.node,{using:_i.createWithSql(e)})})}where(...e){const n=new fF;return new Qs({...this.#e,node:Pt.cloneWithWhere(this.#e.node,n.transformNode(fi(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Qs,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Ib{#e;constructor(e){this.#e=G(e)}ifNotExists(){return new Ib({...this.#e,node:AP.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Ib,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function P8(t){if(_5.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class ss{#e;constructor(e){this.#e=G(e)}temporary(){return new ss({...this.#e,node:bs.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new ss({...this.#e,node:bs.cloneWith(this.#e.node,{onCommit:P8(e)})})}ifNotExists(){return new ss({...this.#e,node:bs.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=Rl){const i=r(new sr(yr.create(e,Zu(n))));return new ss({...this.#e,node:bs.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new ss({...this.#e,node:bs.cloneWithConstraint(this.#e.node,cF.create(n,e))})}addUniqueConstraint(e,n,r=Rl){const i=r(new sm(z1.create(n,e)));return new ss({...this.#e,node:bs.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new ss({...this.#e,node:bs.cloneWithConstraint(this.#e.node,B1.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,s=Rl){const o=s(new Pd(vv.create(n.map(Ur.create),Br(r),i.map(Ur.create),e)));return new ss({...this.#e,node:bs.cloneWithConstraint(this.#e.node,o.toOperationNode())})}modifyFront(e){return new ss({...this.#e,node:bs.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new ss({...this.#e,node:bs.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new ss({...this.#e,node:bs.cloneWith(this.#e.node,{selectQuery:lc(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(ss,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class Sd{#e;constructor(e){this.#e=G(e)}on(e){return new Sd({...this.#e,node:Up.cloneWith(this.#e.node,{table:Br(e)})})}ifExists(){return new Sd({...this.#e,node:Up.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Sd({...this.#e,node:Up.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Sd,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class hh{#e;constructor(e){this.#e=G(e)}ifExists(){return new hh({...this.#e,node:dE.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new hh({...this.#e,node:dE.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(hh,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class mh{#e;constructor(e){this.#e=G(e)}ifExists(){return new mh({...this.#e,node:fE.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new mh({...this.#e,node:fE.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(mh,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const bl=G({is(t){return t.kind==="CreateViewNode"},create(t){return G({kind:"CreateViewNode",name:Ml.create(t)})},cloneWith(t,e){return G({...t,...e})}});class F8{#e=new fF;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Ta{#e;constructor(e){this.#e=G(e)}temporary(){return new Ta({...this.#e,node:bl.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Ta({...this.#e,node:bl.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Ta({...this.#e,node:bl.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Ta({...this.#e,node:bl.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Ta({...this.#e,node:bl.cloneWith(this.#e.node,{columns:e.map(BP)})})}as(e){const n=e.withPlugin(new F8).toOperationNode();return new Ta({...this.#e,node:bl.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Ta,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const _y=G({is(t){return t.kind==="DropViewNode"},create(t){return G({kind:"DropViewNode",name:Ml.create(t)})},cloneWith(t,e){return G({...t,...e})}});class Ed{#e;constructor(e){this.#e=G(e)}materialized(){return new Ed({...this.#e,node:_y.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new Ed({...this.#e,node:_y.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Ed({...this.#e,node:_y.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Ed,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const pF=G({is(t){return t.kind==="CreateTypeNode"},create(t){return G({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return G({...t,enum:j1.create(e.map(n=>Jo.createImmediate(n)))})}});class Cb{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Cb({...this.#e,node:pF.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Cb,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const hF=G({is(t){return t.kind==="DropTypeNode"},create(t){return G({kind:"DropTypeNode",name:t})},cloneWith(t,e){return G({...t,...e})}});class Tb{#e;constructor(e){this.#e=G(e)}ifExists(){return new Tb({...this.#e,node:hF.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Tb,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function RO(t){const e=".";if(t.includes(e)){const n=t.split(e).map(D8);if(n.length===2)return Ml.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return Ml.create(t)}function D8(t){return t.trim()}class Gp{#e;constructor(e){this.#e=e}createTable(e){return new ss({queryId:Zn(),executor:this.#e,node:bs.create(Br(e))})}dropTable(e){return new mh({queryId:Zn(),executor:this.#e,node:fE.create(Br(e))})}createIndex(e){return new Qs({queryId:Zn(),executor:this.#e,node:ka.create(e)})}dropIndex(e){return new Sd({queryId:Zn(),executor:this.#e,node:Up.create(e)})}createSchema(e){return new Ib({queryId:Zn(),executor:this.#e,node:AP.create(e)})}dropSchema(e){return new hh({queryId:Zn(),executor:this.#e,node:dE.create(e)})}alterTable(e){return new dF({queryId:Zn(),executor:this.#e,node:Gn.create(Br(e))})}createView(e){return new Ta({queryId:Zn(),executor:this.#e,node:bl.create(e)})}dropView(e){return new Ed({queryId:Zn(),executor:this.#e,node:_y.create(e)})}createType(e){return new Cb({queryId:Zn(),executor:this.#e,node:pF.create(RO(e))})}dropType(e){return new Tb({queryId:Zn(),executor:this.#e,node:hF.create(RO(e))})}withPlugin(e){return new Gp(this.#e.withPlugin(e))}withoutPlugins(){return new Gp(this.#e.withoutPlugins())}withSchema(e){return new Gp(this.#e.withPluginAtFront(new rm(e)))}}class L8{ref(e){return new O5(e)}}class M8{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class Ru extends GP{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new Ru(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new Ru(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new Ru(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new Ru(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Ru(this.#e,this.#t,this.#n,[])}}function jO(){return typeof performance<"u"&&js(performance.now)?performance.now():Date.now()}class $8{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const s=jO();try{return await n.call(e,r)}catch(o){throw i=o,await this.#u(o,r,s),o}finally{i||await this.#l(r,s)}}}async #u(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#c(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(n)}))}#c(e){return jO()-e}}const B8=()=>{};class mF{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(B8);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const z8=["read uncommitted","read committed","repeatable read","serializable","snapshot"];G(["query","error"]);class W8{#e;#t;constructor(e){js(e)?(this.#t=e,this.#e=G({query:!0,error:!0})):(this.#t=U8,this.#e=G({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function U8(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function V8(t){return Bo(t)&&js(t.compile)}let U1=class Np extends Sl{#e;constructor(e){let n,r;if(H8(e))n={executor:e.executor},r={...e};else{const i=e.dialect,s=i.createDriver(),o=i.createQueryCompiler(),l=i.createAdapter(),c=new W8(e.log??[]),d=new $8(s,c),f=new M8(d),h=new Ru(o,l,f,e.plugins??[]);n={executor:h},r={config:e,executor:h,dialect:i,driver:d}}super(n),this.#e=G(r)}get schema(){return new Gp(this.#e.executor)}get dynamic(){return new L8}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new eF({node:Wo.create(ql(e)?void 0:lc(e))})}get fn(){return XP()}transaction(){return new Ob({...this.#e})}connection(){return new gF({...this.#e})}withPlugin(e){return new Np({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Np({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Np({...this.#e,executor:this.#e.executor.withPluginAtFront(new rm(e))})}withTables(){return new Np({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=Zn()){const r=V8(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}};class od extends U1{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new od({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new od({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new od({...this.#e,executor:this.#e.executor.withPluginAtFront(new rm(e))})}withTables(){return new od({...this.#e})}}function H8(t){return Bo(t)&&Bo(t.config)&&Bo(t.driver)&&Bo(t.executor)&&Bo(t.dialect)}class gF{#e;constructor(e){this.#e=G(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new mF(n)),i=new U1({...this.#e,executor:r});return await e(i)})}}wn(gF,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class Ob{#e;constructor(e){this.#e=G(e)}setIsolationLevel(e){return new Ob({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return Q8(i),this.#e.executor.provideConnection(async s=>{const o=this.#e.executor.withConnectionProvider(new mF(s)),l=new od({...r,executor:o});try{await this.#e.driver.beginTransaction(s,i);const c=await e(l);return await this.#e.driver.commitTransaction(s),c}catch(c){throw await this.#e.driver.rollbackTransaction(s),c}})}}wn(Ob,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function Q8(t){if(t.isolationLevel&&!z8.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class Nd{#e;constructor(e){this.#e=G(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new yF(this,e)}$castTo(){return new Nd({...this.#e})}$notNull(){return new Nd(this.#e)}withPlugin(e){return new Nd({...this.#e,plugins:this.#e.plugins!==void 0?G([...this.#e.plugins,e]):G([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():kb;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function pl(t){return new Nd(t)}wn(Nd,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class yF{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return Zl.create(this.#e.toOperationNode(),hs(this.#t)?this.#t.toOperationNode():br.create(this.#t))}}wn(yF,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Ar=Object.assign((t,...e)=>pl({queryId:Zn(),rawNode:_i.create(t,e?.map(AO)??[])}),{ref(t){return pl({queryId:Zn(),rawNode:_i.createWithChild(La(t))})},val(t){return pl({queryId:Zn(),rawNode:_i.createWithChild(Gr(t))})},value(t){return this.val(t)},table(t){return pl({queryId:Zn(),rawNode:_i.createWithChild(Br(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",pl({queryId:Zn(),rawNode:_i.create(e,t.map(br.create))})},lit(t){return pl({queryId:Zn(),rawNode:_i.createWithChild(Jo.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return pl({queryId:Zn(),rawNode:_i.createWithSql(t)})},join(t,e=Ar`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=AO(t[i]),i!==t.length-1&&(n[2*i+1]=r);return pl({queryId:Zn(),rawNode:_i.createWithChildren(n)})}});function AO(t){return hs(t)?t.toOperationNode():Gr(t)}class K8{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=G({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class G8 extends K8{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),G({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!Ad.is(this.parentNode)&&!ws.is(this.parentNode)&&!bs.is(this.parentNode)&&!bl.is(this.parentNode)&&!JP.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(Pt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!us.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!us.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(Pt.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!qs(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(J8[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(Pt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!us.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!us.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),uv(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(Z8[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return Bl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const s of e)i+=s,s===n?i+=n:s===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(qs(e))this.append(`'${e}'`);else if(Eb(e)||uv(e))this.append(e.toString());else if(T1(e))this.append("null");else if(x5(e))this.appendImmediateValue(e.toISOString());else if(O1(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?PO[n.modifier]-PO[r.modifier]:1),G(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const Z8=G({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),PO=G({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),J8=G({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class Y8{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const X8=/"/g;class eH extends G8{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(X8,'""')}visitDefaultInsertValue(e){this.append("null")}}const tH="kysely_migration",nH="kysely_migration_lock";G({__noMigrations__:!0});class rH{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",tH).where("name","!=",nH));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(o=>o.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),s=await n.selectFrom(Ar`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:s.map(o=>({name:o.name,dataType:o.type,isNullable:!o.notnull,isAutoIncrementing:o.name===i,hasDefaultValue:o.dflt_value!=null,comment:void 0}))}}}class iH extends Y8{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const V1={jsonObject(t){const e=Ar.join(Object.entries(t).map(([n,r])=>Ar`${n}, ${r}`));return Ar`json_object(${e})`},jsonGroupArray(t){return Ar`json_group_array(${V1.jsonObject(t)})`}},vF={hash(t){return cE.sha224(t)},verify(t,e){return cE.sha224(t)===e}};var On;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(On||(On={}));var bE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(bE||(bE={}));const At=On.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Oa=t=>{switch(typeof t){case"undefined":return At.undefined;case"string":return At.string;case"number":return isNaN(t)?At.nan:At.number;case"boolean":return At.boolean;case"function":return At.function;case"bigint":return At.bigint;case"symbol":return At.symbol;case"object":return Array.isArray(t)?At.array:t===null?At.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?At.promise:typeof Map<"u"&&t instanceof Map?At.map:typeof Set<"u"&&t instanceof Set?At.set:typeof Date<"u"&&t instanceof Date?At.date:At.object;default:return At.unknown}},yt=On.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),sH=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Os extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Os))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,On.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Os.create=t=>new Os(t);const Fd=(t,e)=>{let n;switch(t.code){case yt.invalid_type:t.received===At.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,On.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${On.joinValues(t.keys,", ")}`;break;case yt.invalid_union:n="Invalid input";break;case yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${On.joinValues(t.options)}`;break;case yt.invalid_enum_value:n=`Invalid enum value. Expected ${On.joinValues(t.options)}, received '${t.received}'`;break;case yt.invalid_arguments:n="Invalid function arguments";break;case yt.invalid_return_type:n="Invalid function return type";break;case yt.invalid_date:n="Invalid date";break;case yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:On.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case yt.custom:n="Invalid input";break;case yt.invalid_intersection_types:n="Intersection results could not be merged";break;case yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,On.assertNever(t)}return{message:n}};let bF=Fd;function oH(t){bF=t}function bv(){return bF}const xv=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},aH=[];function It(t,e){const n=bv(),r=xv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fd?void 0:Fd].filter(i=>!!i)});t.common.issues.push(r)}class ki{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return sn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return ki.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return sn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const sn=Object.freeze({status:"aborted"}),ad=t=>({status:"dirty",value:t}),Bi=t=>({status:"valid",value:t}),xE=t=>t.status==="aborted",_E=t=>t.status==="dirty",Ju=t=>t.status==="valid",gh=t=>typeof Promise<"u"&&t instanceof Promise;function _v(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function xF(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Vt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Vt||(Vt={}));var kp,Ip;class ea{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const FO=(t,e)=>{if(Ju(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Os(t.common.issues);return this._error=n,this._error}}};function bn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,d;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class Sn{get description(){return this._def.description}_getType(e){return Oa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Oa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ki,ctx:{common:e.parent.common,data:e.data,parsedType:Oa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oa(e)},s=this._parseSync({data:e,path:i.path,parent:i});return FO(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oa(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Ju(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Ju(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oa(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await (gh(i)?i:Promise.resolve(i));return FO(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Io({schema:this,typeName:rn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ho.create(this,this._def)}nullable(){return Hl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Eo.create(this)}promise(){return Ld.create(this,this._def)}or(e){return xh.create([this,e],this._def)}and(e){return _h.create(this,e,this._def)}transform(e){return new Io({...bn(this._def),schema:this,typeName:rn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new kh({...bn(this._def),innerType:this,defaultValue:n,typeName:rn.ZodDefault})}brand(){return new H1({typeName:rn.ZodBranded,type:this,...bn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ih({...bn(this._def),innerType:this,catchValue:n,typeName:rn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return om.create(this,e)}readonly(){return Ch.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lH=/^c[^\s-]{8,}$/i,uH=/^[0-9a-z]+$/,cH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,dH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fH=/^[a-z0-9_-]{21}$/i,pH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hH=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let e0;const yH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_H=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_F="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",SH=new RegExp(`^${_F}$`);function wF(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function EH(t){return new RegExp(`^${wF(t)}$`)}function SF(t){let e=`${_F}T${wF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function NH(t,e){return!!((e==="v4"||!e)&&yH.test(t)||(e==="v6"||!e)&&bH.test(t))}function kH(t,e){if(!pH.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function IH(t,e){return!!((e==="v4"||!e)&&vH.test(t)||(e==="v6"||!e)&&xH.test(t))}class wo extends Sn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==At.string){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.string,received:s.parsedType}),sn}const r=new ki;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")mH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"email",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")e0||(e0=new RegExp(gH,"u")),e0.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")dH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")fH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"nanoid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")lH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")uH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")cH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),It(i,{validation:"url",code:yt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"regex",code:yt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?SF(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?SH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?EH(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?hH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"duration",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?NH(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ip",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?kH(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"jwt",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?IH(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cidr",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?_H.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?wH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64url",code:yt.invalid_string,message:s.message}),r.dirty()):On.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:yt.invalid_string,...Vt.errToObj(r)})}_addCheck(e){return new wo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Vt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Vt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Vt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Vt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Vt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Vt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Vt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Vt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Vt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Vt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Vt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Vt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Vt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Vt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Vt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Vt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Vt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Vt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Vt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Vt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Vt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Vt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Vt.errToObj(n)})}nonempty(e){return this.min(1,Vt.errToObj(e))}trim(){return new wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wo.create=t=>{var e;return new wo({checks:[],typeName:rn.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...bn(t)})};function CH(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Wl extends Sn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==At.number){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.number,received:s.parsedType}),sn}let r;const i=new ki;for(const s of this._def.checks)s.kind==="int"?On.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?CH(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_finite,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Vt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Vt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Vt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Vt.toString(n))}setLimit(e,n,r,i){return new Wl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Vt.toString(i)}]})}_addCheck(e){return new Wl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Vt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Vt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Vt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Vt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Vt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&On.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Wl.create=t=>new Wl({checks:[],typeName:rn.ZodNumber,coerce:t?.coerce||!1,...bn(t)});class Ul extends Sn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==At.bigint)return this._getInvalidInput(e);let r;const i=new ki;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:At.bigint,received:n.parsedType}),sn}gte(e,n){return this.setLimit("min",e,!0,Vt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Vt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Vt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Vt.toString(n))}setLimit(e,n,r,i){return new Ul({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Vt.toString(i)}]})}_addCheck(e){return new Ul({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ul.create=t=>{var e;return new Ul({checks:[],typeName:rn.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...bn(t)})};class yh extends Sn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==At.boolean){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.boolean,received:r.parsedType}),sn}return Bi(e.data)}}yh.create=t=>new yh({typeName:rn.ZodBoolean,coerce:t?.coerce||!1,...bn(t)});class Yu extends Sn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==At.date){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.date,received:s.parsedType}),sn}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_date}),sn}const r=new ki;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):On.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Vt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Vt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Yu.create=t=>new Yu({checks:[],coerce:t?.coerce||!1,typeName:rn.ZodDate,...bn(t)});class wv extends Sn{_parse(e){if(this._getType(e)!==At.symbol){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.symbol,received:r.parsedType}),sn}return Bi(e.data)}}wv.create=t=>new wv({typeName:rn.ZodSymbol,...bn(t)});class vh extends Sn{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.undefined,received:r.parsedType}),sn}return Bi(e.data)}}vh.create=t=>new vh({typeName:rn.ZodUndefined,...bn(t)});class bh extends Sn{_parse(e){if(this._getType(e)!==At.null){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.null,received:r.parsedType}),sn}return Bi(e.data)}}bh.create=t=>new bh({typeName:rn.ZodNull,...bn(t)});class Dd extends Sn{constructor(){super(...arguments),this._any=!0}_parse(e){return Bi(e.data)}}Dd.create=t=>new Dd({typeName:rn.ZodAny,...bn(t)});class Uu extends Sn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bi(e.data)}}Uu.create=t=>new Uu({typeName:rn.ZodUnknown,...bn(t)});class Ma extends Sn{_parse(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:At.never,received:n.parsedType}),sn}}Ma.create=t=>new Ma({typeName:rn.ZodNever,...bn(t)});class Sv extends Sn{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.void,received:r.parsedType}),sn}return Bi(e.data)}}Sv.create=t=>new Sv({typeName:rn.ZodVoid,...bn(t)});class Eo extends Sn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==At.array)return It(n,{code:yt.invalid_type,expected:At.array,received:n.parsedType}),sn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(It(n,{code:o?yt.too_big:yt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(It(n,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(It(n,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new ea(n,o,n.path,l)))).then(o=>ki.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new ea(n,o,n.path,l)));return ki.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Eo({...this._def,minLength:{value:e,message:Vt.toString(n)}})}max(e,n){return new Eo({...this._def,maxLength:{value:e,message:Vt.toString(n)}})}length(e,n){return new Eo({...this._def,exactLength:{value:e,message:Vt.toString(n)}})}nonempty(e){return this.min(1,e)}}Eo.create=(t,e)=>new Eo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rn.ZodArray,...bn(e)});function rd(t){if(t instanceof jr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ho.create(rd(r))}return new jr({...t._def,shape:()=>e})}else return t instanceof Eo?new Eo({...t._def,type:rd(t.element)}):t instanceof Ho?Ho.create(rd(t.unwrap())):t instanceof Hl?Hl.create(rd(t.unwrap())):t instanceof ta?ta.create(t.items.map(e=>rd(e))):t}class jr extends Sn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=On.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==At.object){const d=this._getOrReturnCtx(e);return It(d,{code:yt.invalid_type,expected:At.object,received:d.parsedType}),sn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ma&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=s[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new ea(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ma){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(It(i,{code:yt.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const h=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new ea(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const h=await f.key,b=await f.value;d.push({key:h,value:b,alwaysSet:f.alwaysSet})}return d}).then(d=>ki.mergeObjectSync(r,d)):ki.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Vt.errToObj,new jr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Vt.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new jr({...this._def,unknownKeys:"strip"})}passthrough(){return new jr({...this._def,unknownKeys:"passthrough"})}extend(e){return new jr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new jr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new jr({...this._def,catchall:e})}pick(e){const n={};return On.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new jr({...this._def,shape:()=>n})}omit(e){const n={};return On.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new jr({...this._def,shape:()=>n})}deepPartial(){return rd(this)}partial(e){const n={};return On.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new jr({...this._def,shape:()=>n})}required(e){const n={};return On.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ho;)s=s._def.innerType;n[r]=s}}),new jr({...this._def,shape:()=>n})}keyof(){return EF(On.objectKeys(this.shape))}}jr.create=(t,e)=>new jr({shape:()=>t,unknownKeys:"strip",catchall:Ma.create(),typeName:rn.ZodObject,...bn(e)});jr.strictCreate=(t,e)=>new jr({shape:()=>t,unknownKeys:"strict",catchall:Ma.create(),typeName:rn.ZodObject,...bn(e)});jr.lazycreate=(t,e)=>new jr({shape:t,unknownKeys:"strip",catchall:Ma.create(),typeName:rn.ZodObject,...bn(e)});class xh extends Sn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Os(l.ctx.common.issues));return It(n,{code:yt.invalid_union,unionErrors:o}),sn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Os(c));return It(n,{code:yt.invalid_union,unionErrors:l}),sn}}get options(){return this._def.options}}xh.create=(t,e)=>new xh({options:t,typeName:rn.ZodUnion,...bn(e)});const Ia=t=>t instanceof Sh?Ia(t.schema):t instanceof Io?Ia(t.innerType()):t instanceof Eh?[t.value]:t instanceof Vl?t.options:t instanceof Nh?On.objectValues(t.enum):t instanceof kh?Ia(t._def.innerType):t instanceof vh?[void 0]:t instanceof bh?[null]:t instanceof Ho?[void 0,...Ia(t.unwrap())]:t instanceof Hl?[null,...Ia(t.unwrap())]:t instanceof H1||t instanceof Ch?Ia(t.unwrap()):t instanceof Ih?Ia(t._def.innerType):[];class qb extends Sn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.object)return It(n,{code:yt.invalid_type,expected:At.object,received:n.parsedType}),sn;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(It(n,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),sn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Ia(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new qb({typeName:rn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...bn(r)})}}function wE(t,e){const n=Oa(t),r=Oa(e);if(t===e)return{valid:!0,data:t};if(n===At.object&&r===At.object){const i=On.objectKeys(e),s=On.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=wE(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===At.array&&r===At.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=wE(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===At.date&&r===At.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _h extends Sn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(xE(s)||xE(o))return sn;const l=wE(s.value,o.value);return l.valid?((_E(s)||_E(o))&&n.dirty(),{status:n.value,value:l.data}):(It(r,{code:yt.invalid_intersection_types}),sn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_h.create=(t,e,n)=>new _h({left:t,right:e,typeName:rn.ZodIntersection,...bn(n)});class ta extends Sn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.array)return It(r,{code:yt.invalid_type,expected:At.array,received:r.parsedType}),sn;if(r.data.length<this._def.items.length)return It(r,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),sn;!this._def.rest&&r.data.length>this._def.items.length&&(It(r,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ea(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>ki.mergeArray(n,o)):ki.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ta({...this._def,rest:e})}}ta.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ta({items:t,typeName:rn.ZodTuple,rest:null,...bn(e)})};class wh extends Sn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.object)return It(r,{code:yt.invalid_type,expected:At.object,received:r.parsedType}),sn;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new ea(r,l,r.path,l)),value:o._parse(new ea(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?ki.mergeObjectAsync(n,i):ki.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Sn?new wh({keyType:e,valueType:n,typeName:rn.ZodRecord,...bn(r)}):new wh({keyType:wo.create(),valueType:e,typeName:rn.ZodRecord,...bn(n)})}}class Ev extends Sn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.map)return It(r,{code:yt.invalid_type,expected:At.map,received:r.parsedType}),sn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new ea(r,l,r.path,[d,"key"])),value:s._parse(new ea(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return sn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return sn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}Ev.create=(t,e,n)=>new Ev({valueType:e,keyType:t,typeName:rn.ZodMap,...bn(n)});class Xu extends Sn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.set)return It(r,{code:yt.invalid_type,expected:At.set,received:r.parsedType}),sn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(It(r,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(It(r,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return sn;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>s._parse(new ea(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Xu({...this._def,minSize:{value:e,message:Vt.toString(n)}})}max(e,n){return new Xu({...this._def,maxSize:{value:e,message:Vt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Xu.create=(t,e)=>new Xu({valueType:t,minSize:null,maxSize:null,typeName:rn.ZodSet,...bn(e)});class kd extends Sn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.function)return It(n,{code:yt.invalid_type,expected:At.function,received:n.parsedType}),sn;function r(l,c){return xv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,bv(),Fd].filter(d=>!!d),issueData:{code:yt.invalid_arguments,argumentsError:c}})}function i(l,c){return xv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,bv(),Fd].filter(d=>!!d),issueData:{code:yt.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ld){const l=this;return Bi(async function(...c){const d=new Os([]),f=await l._def.args.parseAsync(c,s).catch(x=>{throw d.addIssue(r(c,x)),d}),h=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(h,s).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return Bi(function(...c){const d=l._def.args.safeParse(c,s);if(!d.success)throw new Os([r(c,d.error)]);const f=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(f,s);if(!h.success)throw new Os([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kd({...this._def,args:ta.create(e).rest(Uu.create())})}returns(e){return new kd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new kd({args:e||ta.create([]).rest(Uu.create()),returns:n||Uu.create(),typeName:rn.ZodFunction,...bn(r)})}}class Sh extends Sn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Sh.create=(t,e)=>new Sh({getter:t,typeName:rn.ZodLazy,...bn(e)});class Eh extends Sn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return It(n,{received:n.data,code:yt.invalid_literal,expected:this._def.value}),sn}return{status:"valid",value:e.data}}get value(){return this._def.value}}Eh.create=(t,e)=>new Eh({value:t,typeName:rn.ZodLiteral,...bn(e)});function EF(t,e){return new Vl({values:t,typeName:rn.ZodEnum,...bn(e)})}class Vl extends Sn{constructor(){super(...arguments),kp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{expected:On.joinValues(r),received:n.parsedType,code:yt.invalid_type}),sn}if(_v(this,kp)||xF(this,kp,new Set(this._def.values)),!_v(this,kp).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{received:n.data,code:yt.invalid_enum_value,options:r}),sn}return Bi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Vl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Vl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}kp=new WeakMap;Vl.create=EF;class Nh extends Sn{constructor(){super(...arguments),Ip.set(this,void 0)}_parse(e){const n=On.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==At.string&&r.parsedType!==At.number){const i=On.objectValues(n);return It(r,{expected:On.joinValues(i),received:r.parsedType,code:yt.invalid_type}),sn}if(_v(this,Ip)||xF(this,Ip,new Set(On.getValidEnumValues(this._def.values))),!_v(this,Ip).has(e.data)){const i=On.objectValues(n);return It(r,{received:r.data,code:yt.invalid_enum_value,options:i}),sn}return Bi(e.data)}get enum(){return this._def.values}}Ip=new WeakMap;Nh.create=(t,e)=>new Nh({values:t,typeName:rn.ZodNativeEnum,...bn(e)});class Ld extends Sn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.promise&&n.common.async===!1)return It(n,{code:yt.invalid_type,expected:At.promise,received:n.parsedType}),sn;const r=n.parsedType===At.promise?n.data:Promise.resolve(n.data);return Bi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ld.create=(t,e)=>new Ld({type:t,typeName:rn.ZodPromise,...bn(e)});class Io extends Sn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{It(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return sn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?sn:c.status==="dirty"||n.value==="dirty"?ad(c.value):c});{if(n.value==="aborted")return sn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?sn:l.status==="dirty"||n.value==="dirty"?ad(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?sn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?sn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ju(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ju(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);On.assertNever(i)}}Io.create=(t,e,n)=>new Io({schema:t,typeName:rn.ZodEffects,effect:e,...bn(n)});Io.createWithPreprocess=(t,e,n)=>new Io({schema:e,effect:{type:"preprocess",transform:t},typeName:rn.ZodEffects,...bn(n)});class Ho extends Sn{_parse(e){return this._getType(e)===At.undefined?Bi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ho.create=(t,e)=>new Ho({innerType:t,typeName:rn.ZodOptional,...bn(e)});class Hl extends Sn{_parse(e){return this._getType(e)===At.null?Bi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hl.create=(t,e)=>new Hl({innerType:t,typeName:rn.ZodNullable,...bn(e)});class kh extends Sn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===At.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}kh.create=(t,e)=>new kh({innerType:t,typeName:rn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...bn(e)});class Ih extends Sn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Os(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Os(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ih.create=(t,e)=>new Ih({innerType:t,typeName:rn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...bn(e)});class Nv extends Sn{_parse(e){if(this._getType(e)!==At.nan){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.nan,received:r.parsedType}),sn}return{status:"valid",value:e.data}}}Nv.create=t=>new Nv({typeName:rn.ZodNaN,...bn(t)});const TH=Symbol("zod_brand");class H1 extends Sn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class om extends Sn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?sn:s.status==="dirty"?(n.dirty(),ad(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?sn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new om({in:e,out:n,typeName:rn.ZodPipeline})}}class Ch extends Sn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ju(i)&&(i.value=Object.freeze(i.value)),i);return gh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Ch.create=(t,e)=>new Ch({innerType:t,typeName:rn.ZodReadonly,...bn(e)});function NF(t,e={},n){return t?Dd.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...d,fatal:c})}}):Dd.create()}const OH={object:jr.lazycreate};var rn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rn||(rn={}));const qH=(t,e={message:`Input not instance of ${t.name}`})=>NF(n=>n instanceof t,e),kF=wo.create,IF=Wl.create,RH=Nv.create,jH=Ul.create,CF=yh.create,AH=Yu.create,PH=wv.create,FH=vh.create,DH=bh.create,LH=Dd.create,MH=Uu.create,$H=Ma.create,BH=Sv.create,zH=Eo.create,WH=jr.create,UH=jr.strictCreate,VH=xh.create,HH=qb.create,QH=_h.create,KH=ta.create,GH=wh.create,ZH=Ev.create,JH=Xu.create,YH=kd.create,XH=Sh.create,e9=Eh.create,t9=Vl.create,n9=Nh.create,r9=Ld.create,DO=Io.create,i9=Ho.create,s9=Hl.create,o9=Io.createWithPreprocess,a9=om.create,l9=()=>kF().optional(),u9=()=>IF().optional(),c9=()=>CF().optional(),d9={string:t=>wo.create({...t,coerce:!0}),number:t=>Wl.create({...t,coerce:!0}),boolean:t=>yh.create({...t,coerce:!0}),bigint:t=>Ul.create({...t,coerce:!0}),date:t=>Yu.create({...t,coerce:!0})},f9=sn;var U=Object.freeze({__proto__:null,defaultErrorMap:Fd,setErrorMap:oH,getErrorMap:bv,makeIssue:xv,EMPTY_PATH:aH,addIssueToContext:It,ParseStatus:ki,INVALID:sn,DIRTY:ad,OK:Bi,isAborted:xE,isDirty:_E,isValid:Ju,isAsync:gh,get util(){return On},get objectUtil(){return bE},ZodParsedType:At,getParsedType:Oa,ZodType:Sn,datetimeRegex:SF,ZodString:wo,ZodNumber:Wl,ZodBigInt:Ul,ZodBoolean:yh,ZodDate:Yu,ZodSymbol:wv,ZodUndefined:vh,ZodNull:bh,ZodAny:Dd,ZodUnknown:Uu,ZodNever:Ma,ZodVoid:Sv,ZodArray:Eo,ZodObject:jr,ZodUnion:xh,ZodDiscriminatedUnion:qb,ZodIntersection:_h,ZodTuple:ta,ZodRecord:wh,ZodMap:Ev,ZodSet:Xu,ZodFunction:kd,ZodLazy:Sh,ZodLiteral:Eh,ZodEnum:Vl,ZodNativeEnum:Nh,ZodPromise:Ld,ZodEffects:Io,ZodTransformer:Io,ZodOptional:Ho,ZodNullable:Hl,ZodDefault:kh,ZodCatch:Ih,ZodNaN:Nv,BRAND:TH,ZodBranded:H1,ZodPipeline:om,ZodReadonly:Ch,custom:NF,Schema:Sn,ZodSchema:Sn,late:OH,get ZodFirstPartyTypeKind(){return rn},coerce:d9,any:LH,array:zH,bigint:jH,boolean:CF,date:AH,discriminatedUnion:HH,effect:DO,enum:t9,function:YH,instanceof:qH,intersection:QH,lazy:XH,literal:e9,map:ZH,nan:RH,nativeEnum:n9,never:$H,null:DH,nullable:s9,number:IF,object:WH,oboolean:c9,onumber:u9,optional:i9,ostring:l9,pipeline:a9,preprocess:o9,promise:r9,record:GH,set:JH,strictObject:UH,string:kF,symbol:PH,transformer:DO,tuple:KH,undefined:FH,union:VH,unknown:MH,void:BH,NEVER:f9,ZodIssueCode:yt,quotelessJson:sH,ZodError:Os});const p9=U.object({page:U.number().gte(0,"Page must be greater than zero"),size:U.number().gte(1,"Page size must be greater than one to get any data")}),Wi=U.object({id:U.string().min(1)}),Q1=U.object({message:U.string()}),Ui=U.object({id:U.string().optional(),idIn:U.array(U.string()).optional(),fulltext:U.string().optional()}),h9=U.enum(["asc","desc"]),na=()=>U.union([U.boolean(),U.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),ra=()=>U.union([U.number(),U.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t))]),Zp=()=>U.union([U.number().int(),U.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t))]),Ni=t=>U.string().transform(e=>JSON.parse(e)).refine(e=>Array.isArray(e)).transform(e=>U.array(t).parse(e)),SE=new Proxy(()=>SE,{get:()=>SE}),Vi=({entity:t,shape:e,filter:n,sort:r})=>{const i=SE();return{entity:t,"~entity":i,"~entity-array":[],"~entity-partial-exclude-id":i,shape:e,"~shape":i,"~shape-partial":i,filter:n,"~filter":i,sort:U.array(U.object({name:U.enum(r),sort:h9})),"~sort":i,"~sort-keyof":i}},hl=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),m9=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:hl(1,i),start:[],end:[]};const o=Math.max(t-n,r),l=Math.min(t+n,i-r),c=o>r+2,d=l<i-(r+1);return!c&&d?{type:"end",page:t,total:e,start:[],pages:hl(1,n*2+r+2),end:hl(e-(r-1),i)}:c&&!d?{type:"start",page:t,total:e,start:hl(1,r),pages:hl(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:hl(1,r),pages:hl(o,l),end:hl(i-r+1,i)}};var Qc={},Sa={},ir={},ml={},LO;function TF(){if(LO)return ml;LO=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.anumber=t,ml.abytes=n,ml.ahash=r,ml.aexists=i,ml.aoutput=s;function t(o){if(!Number.isSafeInteger(o)||o<0)throw new Error("positive integer expected, got "+o)}function e(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function n(o,...l){if(!e(o))throw new Error("Uint8Array expected");if(l.length>0&&!l.includes(o.length))throw new Error("Uint8Array expected of length "+l+", got length="+o.length)}function r(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(o.outputLen),t(o.blockLen)}function i(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function s(o,l){n(o);const c=l.outputLen;if(o.length<c)throw new Error("digestInto() expects output buffer of length at least "+c)}return ml}var dn={},MO;function g9(){if(MO)return dn;MO=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.add5L=dn.add5H=dn.add4H=dn.add4L=dn.add3H=dn.add3L=dn.rotlBL=dn.rotlBH=dn.rotlSL=dn.rotlSH=dn.rotr32L=dn.rotr32H=dn.rotrBL=dn.rotrBH=dn.rotrSL=dn.rotrSH=dn.shrSL=dn.shrSH=dn.toBig=void 0,dn.fromBig=n,dn.split=r,dn.add=T;const t=BigInt(2**32-1),e=BigInt(32);function n(R,M=!1){return M?{h:Number(R&t),l:Number(R>>e&t)}:{h:Number(R>>e&t)|0,l:Number(R&t)|0}}function r(R,M=!1){let F=new Uint32Array(R.length),W=new Uint32Array(R.length);for(let V=0;V<R.length;V++){const{h:B,l:ee}=n(R[V],M);[F[V],W[V]]=[B,ee]}return[F,W]}const i=(R,M)=>BigInt(R>>>0)<<e|BigInt(M>>>0);dn.toBig=i;const s=(R,M,F)=>R>>>F;dn.shrSH=s;const o=(R,M,F)=>R<<32-F|M>>>F;dn.shrSL=o;const l=(R,M,F)=>R>>>F|M<<32-F;dn.rotrSH=l;const c=(R,M,F)=>R<<32-F|M>>>F;dn.rotrSL=c;const d=(R,M,F)=>R<<64-F|M>>>F-32;dn.rotrBH=d;const f=(R,M,F)=>R>>>F-32|M<<64-F;dn.rotrBL=f;const h=(R,M)=>M;dn.rotr32H=h;const b=(R,M)=>R;dn.rotr32L=b;const x=(R,M,F)=>R<<F|M>>>32-F;dn.rotlSH=x;const w=(R,M,F)=>M<<F|R>>>32-F;dn.rotlSL=w;const E=(R,M,F)=>M<<F-32|R>>>64-F;dn.rotlBH=E;const I=(R,M,F)=>R<<F-32|M>>>64-F;dn.rotlBL=I;function T(R,M,F,W){const V=(M>>>0)+(W>>>0);return{h:R+F+(V/2**32|0)|0,l:V|0}}const O=(R,M,F)=>(R>>>0)+(M>>>0)+(F>>>0);dn.add3L=O;const q=(R,M,F,W)=>M+F+W+(R/2**32|0)|0;dn.add3H=q;const A=(R,M,F,W)=>(R>>>0)+(M>>>0)+(F>>>0)+(W>>>0);dn.add4L=A;const D=(R,M,F,W,V)=>M+F+W+V+(R/2**32|0)|0;dn.add4H=D;const L=(R,M,F,W,V)=>(R>>>0)+(M>>>0)+(F>>>0)+(W>>>0)+(V>>>0);dn.add5L=L;const z=(R,M,F,W,V,B)=>M+F+W+V+B+(R/2**32|0)|0;dn.add5H=z;const P={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:l,rotrSL:c,rotrBH:d,rotrBL:f,rotr32H:h,rotr32L:b,rotlSH:x,rotlSL:w,rotlBH:E,rotlBL:I,add:T,add3L:O,add3H:q,add4L:A,add4H:D,add5H:z,add5L:L};return dn.default=P,dn}var t0={},pp={},$O;function y9(){return $O||($O=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.crypto=void 0,pp.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),pp}var BO;function v9(){return BO||(BO=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.isLE=void 0,t.isBytes=r,t.u8=i,t.u32=s,t.createView=o,t.rotr=l,t.rotl=c,t.byteSwap=d,t.byteSwap32=f,t.bytesToHex=b,t.hexToBytes=E,t.asyncLoop=T,t.utf8ToBytes=O,t.toBytes=q,t.concatBytes=A,t.checkOpts=L,t.wrapConstructor=z,t.wrapConstructorWithOpts=P,t.wrapXOFConstructorWithOpts=R,t.randomBytes=M;const e=y9(),n=TF();function r(F){return F instanceof Uint8Array||ArrayBuffer.isView(F)&&F.constructor.name==="Uint8Array"}function i(F){return new Uint8Array(F.buffer,F.byteOffset,F.byteLength)}function s(F){return new Uint32Array(F.buffer,F.byteOffset,Math.floor(F.byteLength/4))}function o(F){return new DataView(F.buffer,F.byteOffset,F.byteLength)}function l(F,W){return F<<32-W|F>>>W}function c(F,W){return F<<W|F>>>32-W>>>0}t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;function d(F){return F<<24&0xff000000|F<<8&0xff0000|F>>>8&65280|F>>>24&255}t.byteSwapIfBE=t.isLE?F=>F:F=>d(F);function f(F){for(let W=0;W<F.length;W++)F[W]=d(F[W])}const h=Array.from({length:256},(F,W)=>W.toString(16).padStart(2,"0"));function b(F){(0,n.abytes)(F);let W="";for(let V=0;V<F.length;V++)W+=h[F[V]];return W}const x={_0:48,_9:57,A:65,F:70,a:97,f:102};function w(F){if(F>=x._0&&F<=x._9)return F-x._0;if(F>=x.A&&F<=x.F)return F-(x.A-10);if(F>=x.a&&F<=x.f)return F-(x.a-10)}function E(F){if(typeof F!="string")throw new Error("hex string expected, got "+typeof F);const W=F.length,V=W/2;if(W%2)throw new Error("hex string expected, got unpadded hex of length "+W);const B=new Uint8Array(V);for(let ee=0,J=0;ee<V;ee++,J+=2){const le=w(F.charCodeAt(J)),se=w(F.charCodeAt(J+1));if(le===void 0||se===void 0){const ne=F[J]+F[J+1];throw new Error('hex string expected, got non-hex character "'+ne+'" at index '+J)}B[ee]=le*16+se}return B}const I=async()=>{};t.nextTick=I;async function T(F,W,V){let B=Date.now();for(let ee=0;ee<F;ee++){V(ee);const J=Date.now()-B;J>=0&&J<W||(await (0,t.nextTick)(),B+=J)}}function O(F){if(typeof F!="string")throw new Error("utf8ToBytes expected string, got "+typeof F);return new Uint8Array(new TextEncoder().encode(F))}function q(F){return typeof F=="string"&&(F=O(F)),(0,n.abytes)(F),F}function A(...F){let W=0;for(let B=0;B<F.length;B++){const ee=F[B];(0,n.abytes)(ee),W+=ee.length}const V=new Uint8Array(W);for(let B=0,ee=0;B<F.length;B++){const J=F[B];V.set(J,ee),ee+=J.length}return V}class D{clone(){return this._cloneInto()}}t.Hash=D;function L(F,W){if(W!==void 0&&{}.toString.call(W)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(F,W)}function z(F){const W=B=>F().update(q(B)).digest(),V=F();return W.outputLen=V.outputLen,W.blockLen=V.blockLen,W.create=()=>F(),W}function P(F){const W=(B,ee)=>F(ee).update(q(B)).digest(),V=F({});return W.outputLen=V.outputLen,W.blockLen=V.blockLen,W.create=B=>F(B),W}function R(F){const W=(B,ee)=>F(ee).update(q(B)).digest(),V=F({});return W.outputLen=V.outputLen,W.blockLen=V.blockLen,W.create=B=>F(B),W}function M(F=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(F));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(F);throw new Error("crypto.getRandomValues must be defined")}}(t0)),t0}var zO;function b9(){if(zO)return ir;zO=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.shake256=ir.shake128=ir.keccak_512=ir.keccak_384=ir.keccak_256=ir.keccak_224=ir.sha3_512=ir.sha3_384=ir.sha3_256=ir.sha3_224=ir.Keccak=void 0,ir.keccakP=I;const t=TF(),e=g9(),n=v9(),r=[],i=[],s=[],o=BigInt(0),l=BigInt(1),c=BigInt(2),d=BigInt(7),f=BigInt(256),h=BigInt(113);for(let A=0,D=l,L=1,z=0;A<24;A++){[L,z]=[z,(2*L+3*z)%5],r.push(2*(5*z+L)),i.push((A+1)*(A+2)/2%64);let P=o;for(let R=0;R<7;R++)D=(D<<l^(D>>d)*h)%f,D&c&&(P^=l<<(l<<BigInt(R))-l);s.push(P)}const[b,x]=(0,e.split)(s,!0),w=(A,D,L)=>L>32?(0,e.rotlBH)(A,D,L):(0,e.rotlSH)(A,D,L),E=(A,D,L)=>L>32?(0,e.rotlBL)(A,D,L):(0,e.rotlSL)(A,D,L);function I(A,D=24){const L=new Uint32Array(10);for(let z=24-D;z<24;z++){for(let M=0;M<10;M++)L[M]=A[M]^A[M+10]^A[M+20]^A[M+30]^A[M+40];for(let M=0;M<10;M+=2){const F=(M+8)%10,W=(M+2)%10,V=L[W],B=L[W+1],ee=w(V,B,1)^L[F],J=E(V,B,1)^L[F+1];for(let le=0;le<50;le+=10)A[M+le]^=ee,A[M+le+1]^=J}let P=A[2],R=A[3];for(let M=0;M<24;M++){const F=i[M],W=w(P,R,F),V=E(P,R,F),B=r[M];P=A[B],R=A[B+1],A[B]=W,A[B+1]=V}for(let M=0;M<50;M+=10){for(let F=0;F<10;F++)L[F]=A[M+F];for(let F=0;F<10;F++)A[M+F]^=~L[(F+2)%10]&L[(F+4)%10]}A[0]^=b[z],A[1]^=x[z]}L.fill(0)}class T extends n.Hash{constructor(D,L,z,P=!1,R=24){if(super(),this.blockLen=D,this.suffix=L,this.outputLen=z,this.enableXOF=P,this.rounds=R,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),I(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(D){(0,t.aexists)(this);const{blockLen:L,state:z}=this;D=(0,n.toBytes)(D);const P=D.length;for(let R=0;R<P;){const M=Math.min(L-this.pos,P-R);for(let F=0;F<M;F++)z[this.pos++]^=D[R++];this.pos===L&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:D,suffix:L,pos:z,blockLen:P}=this;D[z]^=L,L&128&&z===P-1&&this.keccak(),D[P-1]^=128,this.keccak()}writeInto(D){(0,t.aexists)(this,!1),(0,t.abytes)(D),this.finish();const L=this.state,{blockLen:z}=this;for(let P=0,R=D.length;P<R;){this.posOut>=z&&this.keccak();const M=Math.min(z-this.posOut,R-P);D.set(L.subarray(this.posOut,this.posOut+M),P),this.posOut+=M,P+=M}return D}xofInto(D){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(D)}xof(D){return(0,t.anumber)(D),this.xofInto(new Uint8Array(D))}digestInto(D){if((0,t.aoutput)(D,this),this.finished)throw new Error("digest() was already called");return this.writeInto(D),this.destroy(),D}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(D){const{blockLen:L,suffix:z,outputLen:P,rounds:R,enableXOF:M}=this;return D||(D=new T(L,z,P,M,R)),D.state32.set(this.state32),D.pos=this.pos,D.posOut=this.posOut,D.finished=this.finished,D.rounds=R,D.suffix=z,D.outputLen=P,D.enableXOF=M,D.destroyed=this.destroyed,D}}ir.Keccak=T;const O=(A,D,L)=>(0,n.wrapConstructor)(()=>new T(D,A,L));ir.sha3_224=O(6,144,224/8),ir.sha3_256=O(6,136,256/8),ir.sha3_384=O(6,104,384/8),ir.sha3_512=O(6,72,512/8),ir.keccak_224=O(1,144,224/8),ir.keccak_256=O(1,136,256/8),ir.keccak_384=O(1,104,384/8),ir.keccak_512=O(1,72,512/8);const q=(A,D,L)=>(0,n.wrapXOFConstructorWithOpts)((z={})=>new T(D,A,z.dkLen===void 0?L:z.dkLen,!0));return ir.shake128=q(31,168,128/8),ir.shake256=q(31,136,256/8),ir}var WO;function x9(){if(WO)return Sa;WO=1;const{sha3_512:t}=b9(),e=24,n=32,r=(w=4,E=Math.random)=>{let I="";for(;I.length<w;)I=I+Math.floor(E()*36).toString(36);return I};function i(w){let E=8n,I=0n;for(const T of w.values()){const O=BigInt(T);I=(I<<E)+O}return I}const s=(w="")=>i(t(w)).toString(36).slice(1),o=Array.from({length:26},(w,E)=>String.fromCharCode(E+97)),l=w=>o[Math.floor(w()*o.length)],c=({globalObj:w=typeof Au<"u"?Au:typeof window<"u"?window:{},random:E=Math.random}={})=>{const I=Object.keys(w).toString(),T=I.length?I+r(n,E):r(n,E);return s(T).substring(0,n)},d=w=>()=>w++,f=0x1c6b1f1f,h=({random:w=Math.random,counter:E=d(Math.floor(w()*f)),length:I=e,fingerprint:T=c({random:w})}={})=>function(){const q=l(w),A=Date.now().toString(36),D=E().toString(36),L=r(I,w),z=`${A+L+D+T}`;return`${q+s(z).substring(1,I)}`},b=h(),x=(w,{minLength:E=2,maxLength:I=n}={})=>{const T=w.length,O=/^[0-9a-z]+$/;try{if(typeof w=="string"&&T>=E&&T<=I&&O.test(w))return!0}finally{}return!1};return Sa.getConstants=()=>({defaultLength:e,bigLength:n}),Sa.init=h,Sa.createId=b,Sa.bufToBigInt=i,Sa.createCounter=d,Sa.createFingerprint=c,Sa.isCuid=x,Sa}var UO;function _9(){if(UO)return Qc;UO=1;const{createId:t,init:e,getConstants:n,isCuid:r}=x9();return Qc.createId=t,Qc.init=e,Qc.getConstants=n,Qc.isCuid=r,Qc}var w9=_9();const jn=w9.createId;var n0,VO;function S9(){if(VO)return n0;VO=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(O){O!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(q){try{var A=t.call(q);return i.test(A)}catch{return!1}},o=function(q){try{return s(q)?!1:(t.call(q),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",d="[object Function]",f="[object GeneratorFunction]",h="[object HTMLAllCollection]",b="[object HTML document.all class]",x="[object HTMLCollection]",w=typeof Symbol=="function"&&!!Symbol.toStringTag,E=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var T=document.all;l.call(T)===l.call(document.all)&&(I=function(q){if((E||!q)&&(typeof q>"u"||typeof q=="object"))try{var A=l.call(q);return(A===h||A===b||A===x||A===c)&&q("")==null}catch{}return!1})}return n0=e?function(q){if(I(q))return!0;if(!q||typeof q!="function"&&typeof q!="object")return!1;try{e(q,null,n)}catch(A){if(A!==r)return!1}return!s(q)&&o(q)}:function(q){if(I(q))return!0;if(!q||typeof q!="function"&&typeof q!="object")return!1;if(w)return o(q);if(s(q))return!1;var A=l.call(q);return A!==d&&A!==f&&!/^\[object HTML/.test(A)?!1:o(q)},n0}var E9=S9();const N9=to(E9),k9=t=>N9(t);var wy={exports:{}},I9=wy.exports,HO;function C9(){return HO||(HO=1,function(t){(function(e,n){t.exports=n()})(I9,function(){var e=Object.prototype.toString;function n(h,b){return h==null?!1:Object.prototype.hasOwnProperty.call(h,b)}function r(h){if(!h||o(h)&&h.length===0)return!0;if(typeof h!="string"){for(var b in h)if(n(h,b))return!1;return!0}return!1}function i(h){return e.call(h)}function s(h){return typeof h=="object"&&i(h)==="[object Object]"}var o=Array.isArray||function(h){return e.call(h)==="[object Array]"};function l(h){return typeof h=="boolean"||i(h)==="[object Boolean]"}function c(h){var b=parseInt(h);return b.toString()===h?b:h}function d(h){h=h||{};var b=function(T){return Object.keys(b).reduce(function(O,q){return q==="create"||typeof b[q]=="function"&&(O[q]=b[q].bind(b,T)),O},{})},x;h.includeInheritedProps?x=function(){return!0}:x=function(T,O){return typeof O=="number"&&Array.isArray(T)||n(T,O)};function w(T,O){if(x(T,O))return T[O]}var E;h.includeInheritedProps?E=function(T,O){typeof O!="string"&&typeof O!="number"&&(O=String(O));var q=w(T,O);if(O==="__proto__"||O==="prototype"||O==="constructor"&&typeof q=="function")throw new Error("For security reasons, object's magic properties cannot be set");return q}:E=function(T,O){return w(T,O)};function I(T,O,q,A){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return T;if(typeof O=="string")return I(T,O.split(".").map(c),q,A);var D=O[0],L=E(T,D);return O.length===1?((L===void 0||!A)&&(T[D]=q),L):(L===void 0&&(typeof O[1]=="number"?T[D]=[]:T[D]={}),I(T[D],O.slice(1),q,A))}return b.has=function(T,O){if(typeof O=="number"?O=[O]:typeof O=="string"&&(O=O.split(".")),!O||O.length===0)return!!T;for(var q=0;q<O.length;q++){var A=c(O[q]);if(typeof A=="number"&&o(T)&&A<T.length||(h.includeInheritedProps?A in Object(T):n(T,A)))T=T[A];else return!1}return!0},b.ensureExists=function(T,O,q){return I(T,O,q,!0)},b.set=function(T,O,q,A){return I(T,O,q,A)},b.insert=function(T,O,q,A){var D=b.get(T,O);A=~~A,o(D)||(D=[],b.set(T,O,D)),D.splice(A,0,q)},b.empty=function(T,O){if(!r(O)&&T!=null){var q,A;if(q=b.get(T,O)){if(typeof q=="string")return b.set(T,O,"");if(l(q))return b.set(T,O,!1);if(typeof q=="number")return b.set(T,O,0);if(o(q))q.length=0;else if(s(q))for(A in q)x(q,A)&&delete q[A];else return b.set(T,O,null)}}},b.push=function(T,O){var q=b.get(T,O);o(q)||(q=[],b.set(T,O,q)),q.push.apply(q,Array.prototype.slice.call(arguments,2))},b.coalesce=function(T,O,q){for(var A,D=0,L=O.length;D<L;D++)if((A=b.get(T,O[D]))!==void 0)return A;return q},b.get=function(T,O,q){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return T;if(T==null)return q;if(typeof O=="string")return b.get(T,O.split("."),q);var A=c(O[0]),D=E(T,A);return D===void 0?q:O.length===1?D:b.get(T[A],O.slice(1),q)},b.del=function(O,q){if(typeof q=="number"&&(q=[q]),O==null||r(q))return O;if(typeof q=="string")return b.del(O,q.split("."));var A=c(q[0]);if(E(O,A),!x(O,A))return O;if(q.length===1)o(O)?O.splice(A,1):delete O[A];else return b.del(O[A],q.slice(1));return O},b}var f=d();return f.create=d,f.withInheritedProps=d({includeInheritedProps:!0}),f})}(wy)),wy.exports}var T9=C9();const QO=to(T9);function In({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const K1=({error:t,errors:e,onError:n})=>{const r=e.some(s=>s),i=t instanceof Error;return!r&&i&&n(t),r||i},OF=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),O9=gn({use:OF,slot:{},variant:{},defaults:{}}),Sy=({icon:t,iconProps:e,variant:n,tva:r=O9,css:i,children:s,...o})=>{const l=r({...n,css:i}).slots;return p.jsxs("div",{className:l.base(),...o,children:[Sb(t)?p.jsx(an,{icon:t,...e}):t,s]})};function Rb(){return typeof window<"u"}function Jl(t){return qF(t)?(t.nodeName||"").toLowerCase():"#document"}function fs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sa(t){var e;return(e=(qF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qF(t){return Rb()?t instanceof Node||t instanceof fs(t).Node:!1}function or(t){return Rb()?t instanceof Element||t instanceof fs(t).Element:!1}function Zr(t){return Rb()?t instanceof HTMLElement||t instanceof fs(t).HTMLElement:!1}function EE(t){return!Rb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fs(t).ShadowRoot}function am(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function q9(t){return["table","td","th"].includes(Jl(t))}function jb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function G1(t){const e=Ab(),n=or(t)?eo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function R9(t){let e=$a(t);for(;Zr(e)&&!ja(e);){if(G1(e))return e;if(jb(e))return null;e=$a(e)}return null}function Ab(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ja(t){return["html","body","#document"].includes(Jl(t))}function eo(t){return fs(t).getComputedStyle(t)}function Pb(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $a(t){if(Jl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||EE(t)&&t.host||sa(t);return EE(e)?e.host:e}function RF(t){const e=$a(t);return ja(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zr(e)&&am(e)?e:RF(e)}function Al(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=RF(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=fs(i);if(s){const l=NE(o);return e.concat(o,o.visualViewport||[],am(i)?i:[],l&&n?Al(l):[])}return e.concat(i,Al(i,[],n))}function NE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vo(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function ci(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&EE(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function Z1(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function jF(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function AF(t){return t.mozInputSource===0&&t.isTrusted?!0:kE()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function J1(t){return A9()?!1:!kE()&&t.width===0&&t.height===0||kE()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function PF(){return/apple/i.test(navigator.vendor)}function kE(){const t=/android/i;return t.test(Z1())||t.test(jF())}function j9(){return Z1().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function A9(){return jF().includes("jsdom/")}function Th(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function P9(t){return"nativeEvent"in t}function F9(t){return t.matches("html,body")}function di(t){return t?.ownerDocument||document}function r0(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function kl(t){return"composedPath"in t?t.composedPath()[0]:t.target}const D9="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Y1(t){return Zr(t)&&t.matches(D9)}function Ai(t){t.preventDefault(),t.stopPropagation()}function FF(t){return t?t.getAttribute("role")==="combobox"&&Y1(t):!1}const Md=Math.min,Es=Math.max,kv=Math.round,ld=Math.floor,Qo=t=>({x:t,y:t}),L9={left:"right",right:"left",bottom:"top",top:"bottom"},M9={start:"end",end:"start"};function KO(t,e,n){return Es(t,Md(e,n))}function lm(t,e){return typeof t=="function"?t(e):t}function Ql(t){return t.split("-")[0]}function um(t){return t.split("-")[1]}function DF(t){return t==="x"?"y":"x"}function LF(t){return t==="y"?"height":"width"}function ec(t){return["top","bottom"].includes(Ql(t))?"y":"x"}function MF(t){return DF(ec(t))}function $9(t,e,n){n===void 0&&(n=!1);const r=um(t),i=MF(t),s=LF(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Iv(o)),[o,Iv(o)]}function B9(t){const e=Iv(t);return[IE(t),e,IE(e)]}function IE(t){return t.replace(/start|end/g,e=>M9[e])}function z9(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function W9(t,e,n,r){const i=um(t);let s=z9(Ql(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(IE)))),s}function Iv(t){return t.replace(/left|right|bottom|top/g,e=>L9[e])}function U9(t){return{top:0,right:0,bottom:0,left:0,...t}}function V9(t){return typeof t!="number"?U9(t):{top:t,right:t,bottom:t,left:t}}function Cv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var H9=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Tv=H9.join(","),$F=typeof Element>"u",$d=$F?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ov=!$F&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},qv=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},Q9=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},K9=function(e,n,r){if(qv(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Tv));return n&&$d.call(e,Tv)&&i.unshift(e),i=i.filter(r),i},G9=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!qv(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),c=l.length?l:o.children,d=t(c,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:o,candidates:d})}else{var f=$d.call(o,Tv);f&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),b=!qv(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&b){var x=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:o,candidates:x})}else s.unshift.apply(s,o.children)}}return i},BF=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},zF=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Q9(e))&&!BF(e)?0:e.tabIndex},Z9=function(e,n){var r=zF(e);return r<0&&n&&!BF(e)?0:r},J9=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},WF=function(e){return e.tagName==="INPUT"},Y9=function(e){return WF(e)&&e.type==="hidden"},X9=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},e7=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},t7=function(e){if(!e.name)return!0;var n=e.form||Ov(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=e7(i,e.form);return!s||s===e},n7=function(e){return WF(e)&&e.type==="radio"},r7=function(e){return n7(e)&&!t7(e)},i7=function(e){var n,r=e&&Ov(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,l,c;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&i;){var d,f,h;r=Ov(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((f=i)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},GO=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},s7=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=$d.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if($d.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var c=e.parentElement,d=Ov(e);if(c&&!c.shadowRoot&&i(c)===!0)return GO(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=l}if(i7(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return GO(e);return!1},o7=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return $d.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},a7=function(e,n){return!(n.disabled||qv(n)||Y9(n)||s7(n,e)||X9(n)||o7(n))},CE=function(e,n){return!(r7(n)||zF(n)<0||!a7(e,n))},l7=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},u7=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,c=Z9(l,o),d=o?t(i.candidates):l;c===0?o?n.push.apply(n,d):n.push(l):r.push({documentOrder:s,tabIndex:c,item:i,isScope:o,content:d})}),r.sort(J9).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},Fb=function(e,n){n=n||{};var r;return n.getShadowRoot?r=G9([e],n.includeContainer,{filter:CE.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:l7}):r=K9(e,n.includeContainer,CE.bind(null,n)),u7(r)},c7=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return $d.call(e,Tv)===!1?!1:CE(n,e)};function ZO(t,e,n){let{reference:r,floating:i}=t;const s=ec(e),o=MF(e),l=LF(o),c=Ql(e),d=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:f,y:r.y-i.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(um(e)){case"start":x[o]-=b*(n&&d?-1:1);break;case"end":x[o]+=b*(n&&d?-1:1);break}return x}const d7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await (o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=ZO(d,r,c),b=r,x={},w=0;for(let E=0;E<l.length;E++){const{name:I,fn:T}=l[E],{x:O,y:q,data:A,reset:D}=await T({x:f,y:h,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=O??f,h=q??h,x={...x,[I]:{...x[I],...A}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:h}=ZO(d,b,c)),E=-1)}return{x:f,y:h,placement:b,strategy:i,middlewareData:x}};async function X1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:b=!1,padding:x=0}=lm(e,t),w=V9(x),I=l[b?h==="floating"?"reference":"floating":h],T=Cv(await s.getClippingRect({element:(n=await (s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await (s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),O=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,q=await (s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await (s.isElement==null?void 0:s.isElement(q))?await (s.getScale==null?void 0:s.getScale(q))||{x:1,y:1}:{x:1,y:1},D=Cv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:O,offsetParent:q,strategy:c}):O);return{top:(T.top-D.top+w.top)/A.y,bottom:(D.bottom-T.bottom+w.bottom)/A.y,left:(T.left-D.left+w.left)/A.x,right:(D.right-T.right+w.right)/A.x}}const f7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:E=!0,...I}=lm(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Ql(i),O=ec(l),q=Ql(l)===l,A=await (c.isRTL==null?void 0:c.isRTL(d.floating)),D=b||(q||!E?[Iv(l)]:B9(l)),L=w!=="none";!b&&L&&D.push(...W9(l,E,w,A));const z=[l,...D],P=await X1(e,I),R=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&R.push(P[T]),h){const B=$9(i,o,A);R.push(P[B[0]],P[B[1]])}if(M=[...M,{placement:i,overflows:R}],!R.every(B=>B<=0)){var F,W;const B=(((F=s.flip)==null?void 0:F.index)||0)+1,ee=z[B];if(ee)return{data:{index:B,overflows:M},reset:{placement:ee}};let J=(W=M.filter(le=>le.overflows[0]<=0).sort((le,se)=>le.overflows[1]-se.overflows[1])[0])==null?void 0:W.placement;if(!J)switch(x){case"bestFit":{var V;const le=(V=M.filter(se=>{if(L){const ne=ec(se.placement);return ne===O||ne==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((se,ne)=>se[1]-ne[1])[0])==null?void 0:V[0];le&&(J=le);break}case"initialPlacement":J=l;break}if(i!==J)return{reset:{placement:J}}}return{}}}};async function p7(t,e){const{placement:n,platform:r,elements:i}=t,s=await (r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ql(n),l=um(n),c=ec(n)==="y",d=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,h=lm(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(x=l==="end"?w*-1:w),c?{x:x*f,y:b*d}:{x:b*d,y:x*f}}const h7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await p7(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},m7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:I=>{let{x:T,y:O}=I;return{x:T,y:O}}},...c}=lm(t,e),d={x:n,y:r},f=await X1(e,c),h=ec(Ql(i)),b=DF(h);let x=d[b],w=d[h];if(s){const I=b==="y"?"top":"left",T=b==="y"?"bottom":"right",O=x+f[I],q=x-f[T];x=KO(O,x,q)}if(o){const I=h==="y"?"top":"left",T=h==="y"?"bottom":"right",O=w+f[I],q=w-f[T];w=KO(O,w,q)}const E=l.fn({...e,[b]:x,[h]:w});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[b]:s,[h]:o}}}}}},g7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=lm(t,e),f=await X1(e,d),h=Ql(i),b=um(i),x=ec(i)==="y",{width:w,height:E}=s.floating;let I,T;h==="top"||h==="bottom"?(I=h,T=b===(await (o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(T=h,I=b==="end"?"top":"bottom");const O=E-f.top-f.bottom,q=w-f.left-f.right,A=Md(E-f[I],O),D=Md(w-f[T],q),L=!e.middlewareData.shift;let z=A,P=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=q),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=O),L&&!b){const M=Es(f.left,0),F=Es(f.right,0),W=Es(f.top,0),V=Es(f.bottom,0);x?P=w-2*(M!==0||F!==0?M+F:Es(f.left,f.right)):z=E-2*(W!==0||V!==0?W+V:Es(f.top,f.bottom))}await c({...e,availableWidth:P,availableHeight:z});const R=await o.getDimensions(l.floating);return w!==R.width||E!==R.height?{reset:{rects:!0}}:{}}}};function UF(t){const e=eo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=kv(n)!==s||kv(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function eN(t){return or(t)?t:t.contextElement}function Id(t){const e=eN(t);if(!Zr(e))return Qo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=UF(e);let o=(s?kv(n.width):n.width)/r,l=(s?kv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const y7=Qo(0);function VF(t){const e=fs(t);return!Ab()||!e.visualViewport?y7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function v7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fs(t)?!1:e}function tc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=eN(t);let o=Qo(1);e&&(r?or(r)&&(o=Id(r)):o=Id(t));const l=v7(s,n,r)?VF(s):Qo(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const b=fs(s),x=r&&or(r)?fs(r):r;let w=b,E=NE(w);for(;E&&r&&x!==w;){const I=Id(E),T=E.getBoundingClientRect(),O=eo(E),q=T.left+(E.clientLeft+parseFloat(O.paddingLeft))*I.x,A=T.top+(E.clientTop+parseFloat(O.paddingTop))*I.y;c*=I.x,d*=I.y,f*=I.x,h*=I.y,c+=q,d+=A,w=fs(E),E=NE(w)}}return Cv({width:f,height:h,x:c,y:d})}function tN(t,e){const n=Pb(t).scrollLeft;return e?e.left+n:tc(sa(t)).left+n}function HF(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:tN(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function b7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=sa(r),l=e?jb(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Qo(1);const f=Qo(0),h=Zr(r);if((h||!h&&!s)&&((Jl(r)!=="body"||am(o))&&(c=Pb(r)),Zr(r))){const x=tc(r);d=Id(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const b=o&&!h&&!s?HF(o,c,!0):Qo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+b.x,y:n.y*d.y-c.scrollTop*d.y+f.y+b.y}}function x7(t){return Array.from(t.getClientRects())}function _7(t){const e=sa(t),n=Pb(t),r=t.ownerDocument.body,i=Es(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Es(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tN(t);const l=-n.scrollTop;return eo(r).direction==="rtl"&&(o+=Es(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function w7(t,e){const n=fs(t),r=sa(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=Ab();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function S7(t,e){const n=tc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Zr(t)?Id(t):Qo(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function JO(t,e,n){let r;if(e==="viewport")r=w7(t,n);else if(e==="document")r=_7(sa(t));else if(or(e))r=S7(e,n);else{const i=VF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Cv(r)}function QF(t,e){const n=$a(t);return n===e||!or(n)||ja(n)?!1:eo(n).position==="fixed"||QF(n,e)}function E7(t,e){const n=e.get(t);if(n)return n;let r=Al(t,[],!1).filter(l=>or(l)&&Jl(l)!=="body"),i=null;const s=eo(t).position==="fixed";let o=s?$a(t):t;for(;or(o)&&!ja(o);){const l=eo(o),c=G1(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||am(o)&&!c&&QF(t,o))?r=r.filter(f=>f!==o):i=l,o=$a(o)}return e.set(t,r),r}function N7(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?jb(e)?[]:E7(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const h=JO(e,f,i);return d.top=Es(h.top,d.top),d.right=Md(h.right,d.right),d.bottom=Md(h.bottom,d.bottom),d.left=Es(h.left,d.left),d},JO(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function k7(t){const{width:e,height:n}=UF(t);return{width:e,height:n}}function I7(t,e,n){const r=Zr(e),i=sa(e),s=n==="fixed",o=tc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Qo(0);if(r||!r&&!s)if((Jl(e)!=="body"||am(i))&&(l=Pb(e)),r){const b=tc(e,!0,s,e);c.x=b.x+e.clientLeft,c.y=b.y+e.clientTop}else i&&(c.x=tN(i));const d=i&&!r&&!s?HF(i,l):Qo(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function i0(t){return eo(t).position==="static"}function YO(t,e){if(!Zr(t)||eo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return sa(t)===n&&(n=n.ownerDocument.body),n}function KF(t,e){const n=fs(t);if(jb(t))return n;if(!Zr(t)){let i=$a(t);for(;i&&!ja(i);){if(or(i)&&!i0(i))return i;i=$a(i)}return n}let r=YO(t,e);for(;r&&q9(r)&&i0(r);)r=YO(r,e);return r&&ja(r)&&i0(r)&&!G1(r)?n:r||R9(t)||n}const C7=async function(t){const e=this.getOffsetParent||KF,n=this.getDimensions,r=await n(t.floating);return{reference:I7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function T7(t){return eo(t).direction==="rtl"}const O7={convertOffsetParentRelativeRectToViewportRelativeRect:b7,getDocumentElement:sa,getClippingRect:N7,getOffsetParent:KF,getElementRects:C7,getClientRects:x7,getDimensions:k7,getScale:Id,isElement:or,isRTL:T7};function GF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function q7(t,e){let n=null,r;const i=sa(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:h,width:b,height:x}=d;if(l||e(),!b||!x)return;const w=ld(h),E=ld(i.clientWidth-(f+b)),I=ld(i.clientHeight-(h+x)),T=ld(f),q={rootMargin:-w+"px "+-E+"px "+-I+"px "+-T+"px",threshold:Es(0,Md(1,c))||1};let A=!0;function D(L){const z=L[0].intersectionRatio;if(z!==c){if(!A)return o();z?o(!1,z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}z===1&&!GF(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(D,{...q,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,q)}n.observe(t)}return o(!0),s}function ZF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=eN(t),f=i||s?[...d?Al(d):[],...Al(e)]:[];f.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const h=d&&l?q7(d,n):null;let b=-1,x=null;o&&(x=new ResizeObserver(T=>{let[O]=T;O&&O.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var q;(q=x)==null||q.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let w,E=c?tc(t):null;c&&I();function I(){const T=tc(t);E&&!GF(E,T)&&n(),E=T,w=requestAnimationFrame(I)}return n(),()=>{var T;f.forEach(O=>{i&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),h?.(),(T=x)==null||T.disconnect(),x=null,c&&cancelAnimationFrame(w)}}const R7=h7,j7=m7,A7=f7,P7=g7,F7=(t,e,n)=>{const r=new Map,i={platform:O7,...n},s={...i.platform,_c:r};return d7(t,e,{...i,platform:s})};var Ey=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Rv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Rv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function JF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function XO(t,e){const n=JF(t);return Math.round(e*n)/n}function s0(t){const e=K.useRef(t);return Ey(()=>{e.current=t}),e}function D7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,h]=K.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=K.useState(r);Rv(b,r)||x(r);const[w,E]=K.useState(null),[I,T]=K.useState(null),O=K.useCallback(se=>{se!==L.current&&(L.current=se,E(se))},[]),q=K.useCallback(se=>{se!==z.current&&(z.current=se,T(se))},[]),A=s||w,D=o||I,L=K.useRef(null),z=K.useRef(null),P=K.useRef(f),R=c!=null,M=s0(c),F=s0(i),W=s0(d),V=K.useCallback(()=>{if(!L.current||!z.current)return;const se={placement:e,strategy:n,middleware:b};F.current&&(se.platform=F.current),F7(L.current,z.current,se).then(ne=>{const oe={...ne,isPositioned:W.current!==!1};B.current&&!Rv(P.current,oe)&&(P.current=oe,ub.flushSync(()=>{h(oe)}))})},[b,e,n,F,W]);Ey(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(se=>({...se,isPositioned:!1})))},[d]);const B=K.useRef(!1);Ey(()=>(B.current=!0,()=>{B.current=!1}),[]),Ey(()=>{if(A&&(L.current=A),D&&(z.current=D),A&&D){if(M.current)return M.current(A,D,V);V()}},[A,D,V,M,R]);const ee=K.useMemo(()=>({reference:L,floating:z,setReference:O,setFloating:q}),[O,q]),J=K.useMemo(()=>({reference:A,floating:D}),[A,D]),le=K.useMemo(()=>{const se={position:n,left:0,top:0};if(!J.floating)return se;const ne=XO(J.floating,f.x),oe=XO(J.floating,f.y);return l?{...se,transform:"translate("+ne+"px, "+oe+"px)",...JF(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,l,J.floating,f.x,f.y]);return K.useMemo(()=>({...f,update:V,refs:ee,elements:J,floatingStyles:le}),[f,V,ee,J,le])}const YF=(t,e)=>({...R7(t),options:[t,e]}),L7=(t,e)=>({...j7(t),options:[t,e]}),XF=(t,e)=>({...A7(t),options:[t,e]}),M7=(t,e)=>({...P7(t),options:[t,e]});function eq(t){return K.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const eD={...rB},$7=eD.useInsertionEffect,B7=$7||(t=>t());function Di(t){const e=K.useRef(()=>{});return B7(()=>{e.current=t}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const nN="ArrowUp",cm="ArrowDown",Pl="ArrowLeft",Fl="ArrowRight";function Mg(t,e,n){return Math.floor(t/e)!==n}function Jp(t,e){return e<0||e>=t.current.length}function o0(t,e){return bi(t,{disabledIndices:e})}function tq(t,e){return bi(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function bi(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e;const o=t.current;let l=n;do l+=r?-s:s;while(l>=0&&l<=o.length-1&&Ny(o,l,i));return l}function z7(t,e){let{event:n,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:l,minIndex:c,maxIndex:d,prevIndex:f,stopEvent:h=!1}=e,b=f;if(n.key===nN){if(h&&Ai(n),f===-1)b=d;else if(b=bi(t,{startingIndex:b,amount:o,decrement:!0,disabledIndices:l}),i&&(f-o<c||b<0)){const x=f%o,w=d%o,E=d-(w-x);w===x?b=d:b=w>x?E:E-o}Jp(t,b)&&(b=f)}if(n.key===cm&&(h&&Ai(n),f===-1?b=c:(b=bi(t,{startingIndex:f,amount:o,disabledIndices:l}),i&&f+o>d&&(b=bi(t,{startingIndex:f%o-o,amount:o,disabledIndices:l}))),Jp(t,b)&&(b=f)),r==="both"){const x=ld(f/o);n.key===(s?Pl:Fl)&&(h&&Ai(n),f%o!==o-1?(b=bi(t,{startingIndex:f,disabledIndices:l}),i&&Mg(b,o,x)&&(b=bi(t,{startingIndex:f-f%o-1,disabledIndices:l}))):i&&(b=bi(t,{startingIndex:f-f%o-1,disabledIndices:l})),Mg(b,o,x)&&(b=f)),n.key===(s?Fl:Pl)&&(h&&Ai(n),f%o!==0?(b=bi(t,{startingIndex:f,decrement:!0,disabledIndices:l}),i&&Mg(b,o,x)&&(b=bi(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l}))):i&&(b=bi(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l})),Mg(b,o,x)&&(b=f));const w=ld(d/o)===x;Jp(t,b)&&(i&&w?b=n.key===(s?Fl:Pl)?d:bi(t,{startingIndex:f-f%o-1,disabledIndices:l}):b=f)}return b}function W7(t,e,n){const r=[];let i=0;return t.forEach((s,o)=>{let{width:l,height:c}=s,d=!1;for(n&&(i=0);!d;){const f=[];for(let h=0;h<l;h++)for(let b=0;b<c;b++)f.push(i+h+b*e);i%e+l<=e&&f.every(h=>r[h]==null)?(f.forEach(h=>{r[h]=o}),d=!0):i++}}),[...r]}function U7(t,e,n,r,i){if(t===-1)return-1;const s=n.indexOf(t),o=e[t];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return n.lastIndexOf(t)}}function V7(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function Ny(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var vr=typeof document<"u"?K.useLayoutEffect:K.useEffect;let nq=!1,H7=0;const rq=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+H7++;function Q7(){const[t,e]=K.useState(()=>nq?rq():void 0);return vr(()=>{t==null&&e(rq())},[]),K.useEffect(()=>{nq=!0},[]),t}const K7=eD.useId,rN=K7||Q7;function tD(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const nD=K.createContext(null),rD=K.createContext(null),dm=()=>{var t;return((t=K.useContext(nD))==null?void 0:t.id)||null},lf=()=>K.useContext(rD);function G7(t){const e=rN(),n=lf(),i=dm();return vr(()=>{if(!e)return;const s={id:e,parentId:i};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,e,i]),e}function Z7(t){const{children:e,id:n}=t,r=dm();return p.jsx(nD.Provider,{value:K.useMemo(()=>({id:n,parentId:r}),[n,r]),children:e})}function J7(t){const{children:e}=t,n=K.useRef([]),r=K.useCallback(o=>{n.current=[...n.current,o]},[]),i=K.useCallback(o=>{n.current=n.current.filter(l=>l!==o)},[]),s=K.useState(()=>tD())[0];return p.jsx(rD.Provider,{value:K.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:s}),[r,i,s]),children:e})}function nc(t){return"data-floating-ui-"+t}function Li(t){const e=K.useRef(t);return vr(()=>{e.current=t}),e}const iq=nc("safe-polygon");function a0(t,e,n){return n&&!Th(n)?0:typeof t=="number"?t:t?.[e]}function Y7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:l=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:h=0,move:b=!0}=e,x=lf(),w=dm(),E=Li(d),I=Li(c),T=Li(n),O=K.useRef(),q=K.useRef(-1),A=K.useRef(),D=K.useRef(-1),L=K.useRef(!0),z=K.useRef(!1),P=K.useRef(()=>{}),R=K.useRef(!1),M=K.useCallback(()=>{var le;const se=(le=i.current.openEvent)==null?void 0:le.type;return se?.includes("mouse")&&se!=="mousedown"},[i]);K.useEffect(()=>{if(!l)return;function le(se){let{open:ne}=se;ne||(clearTimeout(q.current),clearTimeout(D.current),L.current=!0,R.current=!1)}return s.on("openchange",le),()=>{s.off("openchange",le)}},[l,s]),K.useEffect(()=>{if(!l||!E.current||!n)return;function le(ne){M()&&r(!1,ne,"hover")}const se=di(o.floating).documentElement;return se.addEventListener("mouseleave",le),()=>{se.removeEventListener("mouseleave",le)}},[o.floating,n,r,l,E,M]);const F=K.useCallback(function(le,se,ne){se===void 0&&(se=!0),ne===void 0&&(ne="hover");const oe=a0(I.current,"close",O.current);oe&&!A.current?(clearTimeout(q.current),q.current=window.setTimeout(()=>r(!1,le,ne),oe)):se&&(clearTimeout(q.current),r(!1,le,ne))},[I,r]),W=Di(()=>{P.current(),A.current=void 0}),V=Di(()=>{if(z.current){const le=di(o.floating).body;le.style.pointerEvents="",le.removeAttribute(iq),z.current=!1}}),B=Di(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);K.useEffect(()=>{if(!l)return;function le(X){if(clearTimeout(q.current),L.current=!1,f&&!Th(O.current)||h>0&&!a0(I.current,"open"))return;const ce=a0(I.current,"open",O.current);ce?q.current=window.setTimeout(()=>{T.current||r(!0,X,"hover")},ce):n||r(!0,X,"hover")}function se(X){if(B())return;P.current();const ce=di(o.floating);if(clearTimeout(D.current),R.current=!1,E.current&&i.current.floatingContext){n||clearTimeout(q.current),A.current=E.current({...i.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){V(),W(),B()||F(X,!0,"safe-polygon")}});const ye=A.current;ce.addEventListener("mousemove",ye),P.current=()=>{ce.removeEventListener("mousemove",ye)};return}(O.current==="touch"?!ci(o.floating,X.relatedTarget):!0)&&F(X)}function ne(X){B()||i.current.floatingContext&&(E.current==null||E.current({...i.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){V(),W(),B()||F(X)}})(X))}if(or(o.domReference)){var oe;const X=o.domReference;return n&&X.addEventListener("mouseleave",ne),(oe=o.floating)==null||oe.addEventListener("mouseleave",ne),b&&X.addEventListener("mousemove",le,{once:!0}),X.addEventListener("mouseenter",le),X.addEventListener("mouseleave",se),()=>{var ce;n&&X.removeEventListener("mouseleave",ne),(ce=o.floating)==null||ce.removeEventListener("mouseleave",ne),b&&X.removeEventListener("mousemove",le),X.removeEventListener("mouseenter",le),X.removeEventListener("mouseleave",se)}}},[o,l,t,f,h,b,F,W,V,r,n,T,x,I,E,i,B]),vr(()=>{var le;if(l&&n&&(le=E.current)!=null&&le.__options.blockPointerEvents&&M()){z.current=!0;const ne=o.floating;if(or(o.domReference)&&ne){var se;const oe=di(o.floating).body;oe.setAttribute(iq,"");const X=o.domReference,ce=x==null||(se=x.nodesRef.current.find(de=>de.id===w))==null||(se=se.context)==null?void 0:se.elements.floating;return ce&&(ce.style.pointerEvents=""),oe.style.pointerEvents="none",X.style.pointerEvents="auto",ne.style.pointerEvents="auto",()=>{oe.style.pointerEvents="",X.style.pointerEvents="",ne.style.pointerEvents=""}}}},[l,n,w,o,x,E,M]),vr(()=>{n||(O.current=void 0,R.current=!1,W(),V())},[n,W,V]),K.useEffect(()=>()=>{W(),clearTimeout(q.current),clearTimeout(D.current),V()},[l,o.domReference,W,V]);const ee=K.useMemo(()=>{function le(se){O.current=se.pointerType}return{onPointerDown:le,onPointerEnter:le,onMouseMove(se){const{nativeEvent:ne}=se;function oe(){!L.current&&!T.current&&r(!0,ne,"hover")}f&&!Th(O.current)||n||h===0||R.current&&se.movementX**2+se.movementY**2<2||(clearTimeout(D.current),O.current==="touch"?oe():(R.current=!0,D.current=window.setTimeout(oe,h)))}}},[f,r,n,T,h]),J=K.useMemo(()=>({onMouseEnter(){clearTimeout(q.current)},onMouseLeave(le){B()||F(le.nativeEvent,!1)}}),[F,B]);return K.useMemo(()=>l?{reference:ee,floating:J}:{},[l,ee,J])}let sq=0;function Cu(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(sq);const s=()=>t?.focus({preventScroll:n});i?s():sq=requestAnimationFrame(s)}function oq(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s?.parentId,s&&(r=r.concat(s))}return r}function Cd(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var l;return i.parentId===o.id&&((l=i.context)==null?void 0:l.open)})}),n=n.concat(r);return n}function X7(t,e){let n,r=-1;function i(s,o){o>r&&(n=s,r=o),Cd(t,s).forEach(c=>{i(c.id,o+1)})}return i(e,0),t.find(s=>s.id===n)}let Kc=new WeakMap,$g=new WeakSet,Bg={},l0=0;const eQ=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,iD=t=>t&&(t.host||iD(t.parentNode)),tQ=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=iD(n);return t.contains(r)?r:null}).filter(n=>n!=null);function nQ(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=tQ(e,t),l=new Set,c=new Set(o),d=[];Bg[i]||(Bg[i]=new WeakMap);const f=Bg[i];o.forEach(h),b(e),l.clear();function h(x){!x||l.has(x)||(l.add(x),x.parentNode&&h(x.parentNode))}function b(x){!x||c.has(x)||[].forEach.call(x.children,w=>{if(Jl(w)!=="script")if(l.has(w))b(w);else{const E=s?w.getAttribute(s):null,I=E!==null&&E!=="false",T=Kc.get(w)||0,O=s?T+1:T,q=(f.get(w)||0)+1;Kc.set(w,O),f.set(w,q),d.push(w),O===1&&I&&$g.add(w),q===1&&w.setAttribute(i,""),!I&&s&&w.setAttribute(s,"true")}})}return l0++,()=>{d.forEach(x=>{const w=Kc.get(x)||0,E=s?w-1:w,I=(f.get(x)||0)-1;Kc.set(x,E),f.set(x,I),E||(!$g.has(x)&&s&&x.removeAttribute(s),$g.delete(x)),I||x.removeAttribute(i)}),l0--,l0||(Kc=new WeakMap,Kc=new WeakMap,$g=new WeakSet,Bg={})}}function aq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=di(t[0]).body;return nQ(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const Db=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function sD(t,e){const n=Fb(t,Db());e==="prev"&&n.reverse();const r=n.indexOf(vo(di(t)));return n.slice(r+1)[0]}function oD(){return sD(document.body,"next")}function aD(){return sD(document.body,"prev")}function Yp(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!ci(n,r)}function rQ(t){Fb(t,Db()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function lq(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Lb={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let iQ;function uq(t){t.key==="Tab"&&(t.target,clearTimeout(iQ))}const jv=K.forwardRef(function(e,n){const[r,i]=K.useState();vr(()=>(PF()&&i("button"),document.addEventListener("keydown",uq),()=>{document.removeEventListener("keydown",uq)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[nc("focus-guard")]:"",style:Lb};return p.jsx("span",{...e,...s})}),lD=K.createContext(null),cq=nc("portal");function sQ(t){t===void 0&&(t={});const{id:e,root:n}=t,r=rN(),i=uD(),[s,o]=K.useState(null),l=K.useRef(null);return vr(()=>()=>{s?.remove(),queueMicrotask(()=>{l.current=null})},[s]),vr(()=>{if(!r||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=r,d.setAttribute(cq,""),c.appendChild(d),l.current=d,o(d)},[e,r]),vr(()=>{if(n===null||!r||l.current)return;let c=n||i?.portalNode;c&&!or(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const f=document.createElement("div");f.id=r,f.setAttribute(cq,""),c=d||c,c.appendChild(f),l.current=f,o(f)},[e,n,r,i]),s}function iN(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,s=sQ({id:n,root:r}),[o,l]=K.useState(null),c=K.useRef(null),d=K.useRef(null),f=K.useRef(null),h=K.useRef(null),b=o?.modal,x=o?.open,w=!!o&&!o.modal&&o.open&&i&&!!(r||s);return K.useEffect(()=>{if(!s||!i||b)return;function E(I){s&&Yp(I)&&(I.type==="focusin"?lq:rQ)(s)}return s.addEventListener("focusin",E,!0),s.addEventListener("focusout",E,!0),()=>{s.removeEventListener("focusin",E,!0),s.removeEventListener("focusout",E,!0)}},[s,i,b]),K.useEffect(()=>{s&&(x||lq(s))},[x,s]),p.jsxs(lD.Provider,{value:K.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:h,portalNode:s,setFocusManagerState:l}),[i,s]),children:[w&&s&&p.jsx(jv,{"data-type":"outside",ref:c,onFocus:E=>{if(Yp(E,s)){var I;(I=f.current)==null||I.focus()}else{const T=aD()||o?.domReference;T?.focus()}}}),w&&s&&p.jsx("span",{"aria-owns":s.id,style:Lb}),s&&ub.createPortal(e,s),w&&s&&p.jsx(jv,{"data-type":"outside",ref:d,onFocus:E=>{if(Yp(E,s)){var I;(I=h.current)==null||I.focus()}else{const T=oD()||o?.domReference;T?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,E.nativeEvent,"focus-out")}}})]})}const uD=()=>K.useContext(lD),TE="data-floating-ui-focusable";function OE(t){return t?t.hasAttribute(TE)?t:t.querySelector("["+TE+"]")||t:null}const oQ=20;let Tu=[];function u0(t){Tu=Tu.filter(e=>e.isConnected),t&&Jl(t)!=="body"&&(Tu.push(t),Tu.length>oQ&&(Tu=Tu.slice(-20)))}function dq(){return Tu.slice().reverse().find(t=>t.isConnected)}function aQ(t){const e=Db();return c7(t,e)?t:Fb(t,e)[0]||t}const lQ=K.forwardRef(function(e,n){return p.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:Lb})});function cD(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:c=!1,modal:d=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:h=!0,outsideElementsInert:b=!1}=t,{open:x,onOpenChange:w,events:E,dataRef:I,elements:{domReference:T,floating:O}}=e,q=Di(()=>{var De;return(De=I.current.floatingContext)==null?void 0:De.nodeId}),A=typeof o=="number"&&o<0,D=FF(T)&&A,L=eQ(),z=L?s:!0,P=!z||L&&b,R=Li(i),M=Li(o),F=Li(l),W=lf(),V=uD(),B=K.useRef(null),ee=K.useRef(null),J=K.useRef(!1),le=K.useRef(!1),se=K.useRef(-1),ne=V!=null,oe=OE(O),X=Di(function(De){return De===void 0&&(De=oe),De?Fb(De,Db()):[]}),ce=Di(De=>{const Ze=X(De);return R.current.map(Xe=>T&&Xe==="reference"?T:oe&&Xe==="floating"?oe:Ze).filter(Boolean).flat()});K.useEffect(()=>{if(r||!d)return;function De(Xe){if(Xe.key==="Tab"){ci(oe,vo(di(oe)))&&X().length===0&&!D&&Ai(Xe);const Ue=ce(),ut=kl(Xe);R.current[0]==="reference"&&ut===T&&(Ai(Xe),Xe.shiftKey?Cu(Ue[Ue.length-1]):Cu(Ue[1])),R.current[1]==="floating"&&ut===oe&&Xe.shiftKey&&(Ai(Xe),Cu(Ue[0]))}}const Ze=di(oe);return Ze.addEventListener("keydown",De),()=>{Ze.removeEventListener("keydown",De)}},[r,T,oe,d,R,D,X,ce]),K.useEffect(()=>{if(r||!O)return;function De(Ze){const Xe=kl(Ze),ut=X().indexOf(Xe);ut!==-1&&(se.current=ut)}return O.addEventListener("focusin",De),()=>{O.removeEventListener("focusin",De)}},[r,O,X]),K.useEffect(()=>{if(r||!h)return;function De(){le.current=!0,setTimeout(()=>{le.current=!1})}function Ze(Xe){const Ue=Xe.relatedTarget;queueMicrotask(()=>{const ut=q(),wt=!(ci(T,Ue)||ci(O,Ue)||ci(Ue,O)||ci(V?.portalNode,Ue)||Ue!=null&&Ue.hasAttribute(nc("focus-guard"))||W&&(Cd(W.nodesRef.current,ut).find(Tt=>{var Wt,en;return ci((Wt=Tt.context)==null?void 0:Wt.elements.floating,Ue)||ci((en=Tt.context)==null?void 0:en.elements.domReference,Ue)})||oq(W.nodesRef.current,ut).find(Tt=>{var Wt,en,xe;return[(Wt=Tt.context)==null?void 0:Wt.elements.floating,OE((en=Tt.context)==null?void 0:en.elements.floating)].includes(Ue)||((xe=Tt.context)==null?void 0:xe.elements.domReference)===Ue})));if(c&&wt&&vo(di(oe))===di(oe).body){Zr(oe)&&oe.focus();const Tt=se.current,Wt=X(),en=Wt[Tt]||Wt[Wt.length-1]||oe;Zr(en)&&en.focus()}(D||!d)&&Ue&&wt&&!le.current&&Ue!==dq()&&(J.current=!0,w(!1,Xe,"focus-out"))})}if(O&&Zr(T))return T.addEventListener("focusout",Ze),T.addEventListener("pointerdown",De),O.addEventListener("focusout",Ze),()=>{T.removeEventListener("focusout",Ze),T.removeEventListener("pointerdown",De),O.removeEventListener("focusout",Ze)}},[r,T,O,oe,d,W,V,w,h,c,X,D,q]);const de=K.useRef(null),ye=K.useRef(null),_e=eq([de,V?.beforeInsideRef]),Ne=eq([ye,V?.afterInsideRef]);K.useEffect(()=>{var De;if(r||!O)return;const Ze=Array.from((V==null||(De=V.portalNode)==null?void 0:De.querySelectorAll("["+nc("portal")+"]"))||[]),Xe=W&&!d?oq(W?.nodesRef.current,q()).map(wt=>{var Tt;return(Tt=wt.context)==null?void 0:Tt.elements.floating}):[],Ue=[O,...Ze,...Xe,B.current,ee.current,de.current,ye.current,V?.beforeOutsideRef.current,V?.afterOutsideRef.current,R.current.includes("reference")||D?T:null].filter(wt=>wt!=null),ut=d||D?aq(Ue,!P,P):aq(Ue);return()=>{ut()}},[r,T,O,d,R,V,D,z,P,W,q]),vr(()=>{if(r||!Zr(oe))return;const De=di(oe),Ze=vo(De);queueMicrotask(()=>{const Xe=ce(oe),Ue=M.current,ut=(typeof Ue=="number"?Xe[Ue]:Ue.current)||oe,wt=ci(oe,Ze);!A&&!wt&&x&&Cu(ut,{preventScroll:ut===oe})})},[r,x,oe,A,ce,M]),vr(()=>{if(r||!oe)return;let De=!1;const Ze=di(oe),Xe=vo(Ze);let ut=I.current.openEvent;u0(Xe);function wt(en){let{open:xe,reason:ve,event:ke,nested:Ae}=en;xe&&(ut=ke),ve==="escape-key"&&T&&u0(T),["hover","safe-polygon"].includes(ve)&&ke.type==="mouseleave"&&(J.current=!0),ve==="outside-press"&&(Ae?(J.current=!1,De=!0):J.current=!(AF(ke)||J1(ke)))}E.on("openchange",wt);const Tt=Ze.createElement("span");Tt.setAttribute("tabindex","-1"),Tt.setAttribute("aria-hidden","true"),Object.assign(Tt.style,Lb),ne&&T&&T.insertAdjacentElement("afterend",Tt);function Wt(){return typeof F.current=="boolean"?dq()||Tt:F.current.current||Tt}return()=>{E.off("openchange",wt);const en=vo(Ze),xe=ci(O,en)||W&&Cd(W.nodesRef.current,q()).some(Ae=>{var Ve;return ci((Ve=Ae.context)==null?void 0:Ve.elements.floating,en)});(xe||ut&&["click","mousedown"].includes(ut.type))&&T&&u0(T);const ke=Wt();queueMicrotask(()=>{const Ae=aQ(ke);F.current&&!J.current&&Zr(Ae)&&(!(Ae!==en&&en!==Ze.body)||xe)&&Ae.focus({preventScroll:De}),Tt.remove()})}},[r,O,oe,F,I,E,W,ne,T,q]),K.useEffect(()=>{queueMicrotask(()=>{J.current=!1})},[r]),vr(()=>{if(!r&&V)return V.setFocusManagerState({modal:d,closeOnFocusOut:h,open:x,onOpenChange:w,domReference:T}),()=>{V.setFocusManagerState(null)}},[r,V,d,x,w,h,T]),vr(()=>{if(r||!oe||typeof MutationObserver!="function"||A)return;const De=()=>{const Xe=oe.getAttribute("tabindex"),Ue=X(),ut=vo(di(O)),wt=Ue.indexOf(ut);wt!==-1&&(se.current=wt),R.current.includes("floating")||ut!==T&&Ue.length===0?Xe!=="0"&&oe.setAttribute("tabindex","0"):Xe!=="-1"&&oe.setAttribute("tabindex","-1")};De();const Ze=new MutationObserver(De);return Ze.observe(oe,{childList:!0,subtree:!0,attributes:!0}),()=>{Ze.disconnect()}},[r,O,oe,T,R,X,A]);function ze(De){return r||!f||!d?null:p.jsx(lQ,{ref:De==="start"?B:ee,onClick:Ze=>w(!1,Ze.nativeEvent),children:typeof f=="string"?f:"Dismiss"})}const qe=!r&&z&&(d?!D:!0)&&(ne||d);return p.jsxs(p.Fragment,{children:[qe&&p.jsx(jv,{"data-type":"inside",ref:_e,onFocus:De=>{if(d){const Xe=ce();Cu(i[0]==="reference"?Xe[0]:Xe[Xe.length-1])}else if(V!=null&&V.preserveTabOrder&&V.portalNode)if(J.current=!1,Yp(De,V.portalNode)){const Xe=oD()||T;Xe?.focus()}else{var Ze;(Ze=V.beforeOutsideRef.current)==null||Ze.focus()}}}),!D&&ze("start"),n,ze("end"),qe&&p.jsx(jv,{"data-type":"inside",ref:Ne,onFocus:De=>{if(d)Cu(ce()[0]);else if(V!=null&&V.preserveTabOrder&&V.portalNode)if(h&&(J.current=!0),Yp(De,V.portalNode)){const Xe=aD()||T;Xe?.focus()}else{var Ze;(Ze=V.afterOutsideRef.current)==null||Ze.focus()}}})]})}let zg=0;function uQ(){const t=/iP(hone|ad|od)|iOS/.test(Z1()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=e.left?parseFloat(e.left):window.scrollX,o=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var l,c;const d=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,f=((c=window.visualViewport)==null?void 0:c.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(o-Math.floor(f))+"px",left:-(s-Math.floor(d))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o))}}let fq=()=>{};const cQ=K.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return vr(()=>{if(r)return zg++,zg===1&&(fq=uQ()),()=>{zg--,zg===0&&fq()}},[r]),p.jsx("div",{ref:n,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});function pq(t){return Zr(t.target)&&t.target.tagName==="BUTTON"}function hq(t){return Y1(t)}function sN(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:d=!1,keyboardHandlers:f=!0,stickIfOpen:h=!0}=e,b=K.useRef(),x=K.useRef(!1),w=K.useMemo(()=>({onPointerDown(E){b.current=E.pointerType},onMouseDown(E){const I=b.current;E.button===0&&l!=="click"&&(Th(I,!0)&&d||(n&&c&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="mousedown")?r(!1,E.nativeEvent,"click"):(E.preventDefault(),r(!0,E.nativeEvent,"click"))))},onClick(E){const I=b.current;if(l==="mousedown"&&b.current){b.current=void 0;return}Th(I,!0)&&d||(n&&c&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="click")?r(!1,E.nativeEvent,"click"):r(!0,E.nativeEvent,"click"))},onKeyDown(E){b.current=void 0,!(E.defaultPrevented||!f||pq(E))&&(E.key===" "&&!hq(s)&&(E.preventDefault(),x.current=!0),E.key==="Enter"&&r(!(n&&c),E.nativeEvent,"click"))},onKeyUp(E){E.defaultPrevented||!f||pq(E)||hq(s)||E.key===" "&&x.current&&(x.current=!1,r(!(n&&c),E.nativeEvent,"click"))}}),[i,s,l,d,f,r,n,h,c]);return K.useMemo(()=>o?{reference:w}:{},[o,w])}const dQ={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},fQ={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},mq=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function oN(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:b=!1,bubbles:x,capture:w}=e,E=lf(),I=Di(typeof c=="function"?c:()=>!1),T=typeof c=="function"?I:c,O=K.useRef(!1),q=K.useRef(!1),{escapeKey:A,outsidePress:D}=mq(x),{escapeKey:L,outsidePress:z}=mq(w),P=K.useRef(!1),R=Di(ee=>{var J;if(!n||!o||!l||ee.key!=="Escape"||P.current)return;const le=(J=s.current.floatingContext)==null?void 0:J.nodeId,se=E?Cd(E.nodesRef.current,le):[];if(!A&&(ee.stopPropagation(),se.length>0)){let ne=!0;if(se.forEach(oe=>{var X;if((X=oe.context)!=null&&X.open&&!oe.context.dataRef.current.__escapeKeyBubbles){ne=!1;return}}),!ne)return}r(!1,P9(ee)?ee.nativeEvent:ee,"escape-key")}),M=Di(ee=>{var J;const le=()=>{var se;R(ee),(se=kl(ee))==null||se.removeEventListener("keydown",le)};(J=kl(ee))==null||J.addEventListener("keydown",le)}),F=Di(ee=>{var J;const le=O.current;O.current=!1;const se=q.current;if(q.current=!1,d==="click"&&se||le||typeof T=="function"&&!T(ee))return;const ne=kl(ee),oe="["+nc("inert")+"]",X=di(i.floating).querySelectorAll(oe);let ce=or(ne)?ne:null;for(;ce&&!ja(ce);){const Ne=$a(ce);if(ja(Ne)||!or(Ne))break;ce=Ne}if(X.length&&or(ne)&&!F9(ne)&&!ci(ne,i.floating)&&Array.from(X).every(Ne=>!ci(ce,Ne)))return;if(Zr(ne)&&B){const Ne=ja(ne),ze=eo(ne),qe=/auto|scroll/,De=Ne||qe.test(ze.overflowX),Ze=Ne||qe.test(ze.overflowY),Xe=De&&ne.clientWidth>0&&ne.scrollWidth>ne.clientWidth,Ue=Ze&&ne.clientHeight>0&&ne.scrollHeight>ne.clientHeight,ut=ze.direction==="rtl",wt=Ue&&(ut?ee.offsetX<=ne.offsetWidth-ne.clientWidth:ee.offsetX>ne.clientWidth),Tt=Xe&&ee.offsetY>ne.clientHeight;if(wt||Tt)return}const de=(J=s.current.floatingContext)==null?void 0:J.nodeId,ye=E&&Cd(E.nodesRef.current,de).some(Ne=>{var ze;return r0(ee,(ze=Ne.context)==null?void 0:ze.elements.floating)});if(r0(ee,i.floating)||r0(ee,i.domReference)||ye)return;const _e=E?Cd(E.nodesRef.current,de):[];if(_e.length>0){let Ne=!0;if(_e.forEach(ze=>{var qe;if((qe=ze.context)!=null&&qe.open&&!ze.context.dataRef.current.__outsidePressBubbles){Ne=!1;return}}),!Ne)return}r(!1,ee,"outside-press")}),W=Di(ee=>{var J;const le=()=>{var se;F(ee),(se=kl(ee))==null||se.removeEventListener(d,le)};(J=kl(ee))==null||J.addEventListener(d,le)});K.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=A,s.current.__outsidePressBubbles=D;let ee=-1;function J(X){r(!1,X,"ancestor-scroll")}function le(){window.clearTimeout(ee),P.current=!0}function se(){ee=window.setTimeout(()=>{P.current=!1},Ab()?5:0)}const ne=di(i.floating);l&&(ne.addEventListener("keydown",L?M:R,L),ne.addEventListener("compositionstart",le),ne.addEventListener("compositionend",se)),T&&ne.addEventListener(d,z?W:F,z);let oe=[];return b&&(or(i.domReference)&&(oe=Al(i.domReference)),or(i.floating)&&(oe=oe.concat(Al(i.floating))),!or(i.reference)&&i.reference&&i.reference.contextElement&&(oe=oe.concat(Al(i.reference.contextElement)))),oe=oe.filter(X=>{var ce;return X!==((ce=ne.defaultView)==null?void 0:ce.visualViewport)}),oe.forEach(X=>{X.addEventListener("scroll",J,{passive:!0})}),()=>{l&&(ne.removeEventListener("keydown",L?M:R,L),ne.removeEventListener("compositionstart",le),ne.removeEventListener("compositionend",se)),T&&ne.removeEventListener(d,z?W:F,z),oe.forEach(X=>{X.removeEventListener("scroll",J)}),window.clearTimeout(ee)}},[s,i,l,T,d,n,r,b,o,A,D,R,L,M,F,z,W]),K.useEffect(()=>{O.current=!1},[T,d]);const V=K.useMemo(()=>({onKeyDown:R,...f&&{[dQ[h]]:ee=>{r(!1,ee.nativeEvent,"reference-press")},...h!=="click"&&{onClick(ee){r(!1,ee.nativeEvent,"reference-press")}}}}),[R,r,f,h]),B=K.useMemo(()=>({onKeyDown:R,onMouseDown(){q.current=!0},onMouseUp(){q.current=!0},[fQ[d]]:()=>{O.current=!0}}),[R,d]);return K.useMemo(()=>o?{reference:V,floating:B}:{},[o,V,B])}function pQ(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=rN(),s=K.useRef({}),[o]=K.useState(()=>tD()),l=dm()!=null,[c,d]=K.useState(r.reference),f=Di((x,w,E)=>{s.current.openEvent=x?w:void 0,o.emit("openchange",{open:x,event:w,reason:E,nested:l}),n?.(x,w,E)}),h=K.useMemo(()=>({setPositionReference:d}),[]),b=K.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return K.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:b,events:o,floatingId:i,refs:h}),[e,f,b,o,i,h])}function aN(t){t===void 0&&(t={});const{nodeId:e}=t,n=pQ({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=K.useState(null),[l,c]=K.useState(null),f=i?.domReference||s,h=K.useRef(null),b=lf();vr(()=>{f&&(h.current=f)},[f]);const x=D7({...t,elements:{...i,...l&&{reference:l}}}),w=K.useCallback(q=>{const A=or(q)?{getBoundingClientRect:()=>q.getBoundingClientRect(),contextElement:q}:q;c(A),x.refs.setReference(A)},[x.refs]),E=K.useCallback(q=>{(or(q)||q===null)&&(h.current=q,o(q)),(or(x.refs.reference.current)||x.refs.reference.current===null||q!==null&&!or(q))&&x.refs.setReference(q)},[x.refs]),I=K.useMemo(()=>({...x.refs,setReference:E,setPositionReference:w,domReference:h}),[x.refs,E,w]),T=K.useMemo(()=>({...x.elements,domReference:f}),[x.elements,f]),O=K.useMemo(()=>({...x,...r,refs:I,elements:T,nodeId:e}),[x,I,T,e,r]);return vr(()=>{r.dataRef.current.floatingContext=O;const q=b?.nodesRef.current.find(A=>A.id===e);q&&(q.context=O)}),K.useMemo(()=>({...x,context:O,refs:I,elements:T}),[x,I,T,O])}function hQ(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:l=!0,visibleOnly:c=!0}=e,d=K.useRef(!1),f=K.useRef(),h=K.useRef(!0);K.useEffect(()=>{if(!l)return;const x=fs(o.domReference);function w(){!n&&Zr(o.domReference)&&o.domReference===vo(di(o.domReference))&&(d.current=!0)}function E(){h.current=!0}return x.addEventListener("blur",w),x.addEventListener("keydown",E,!0),()=>{x.removeEventListener("blur",w),x.removeEventListener("keydown",E,!0)}},[o.domReference,n,l]),K.useEffect(()=>{if(!l)return;function x(w){let{reason:E}=w;(E==="reference-press"||E==="escape-key")&&(d.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[i,l]),K.useEffect(()=>()=>{clearTimeout(f.current)},[]);const b=K.useMemo(()=>({onPointerDown(x){J1(x.nativeEvent)||(h.current=!1)},onMouseLeave(){d.current=!1},onFocus(x){if(d.current)return;const w=kl(x.nativeEvent);if(c&&or(w))try{if(PF()&&j9())throw Error();if(!w.matches(":focus-visible"))return}catch{if(!h.current&&!Y1(w))return}r(!0,x.nativeEvent,"focus")},onBlur(x){d.current=!1;const w=x.relatedTarget,E=x.nativeEvent,I=or(w)&&w.hasAttribute(nc("focus-guard"))&&w.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var T;const O=vo(o.domReference?o.domReference.ownerDocument:document);!w&&O===o.domReference||ci((T=s.current.floatingContext)==null?void 0:T.refs.floating.current,O)||ci(o.domReference,O)||I||r(!1,E,"focus")})}}),[s,o.domReference,r,c]);return K.useMemo(()=>l?{reference:b}:{},[l,b])}const gq="active",yq="selected";function c0(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[gq]:o,[yq]:l,...c}=t;s=c}return{...n==="floating"&&{tabIndex:-1,[TE]:""},...s,...e.map(o=>{const l=o?o[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((o,l)=>(l&&Object.entries(l).forEach(c=>{let[d,f]=c;if(!(i&&[gq,yq].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var h;(h=r.get(d))==null||h.push(f),o[d]=function(){for(var b,x=arguments.length,w=new Array(x),E=0;E<x;E++)w[E]=arguments[E];return(b=r.get(d))==null?void 0:b.map(I=>I(...w)).find(I=>I!==void 0)}}}else o[d]=f}),o),{})}}function lN(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),r=t.map(l=>l?.item),i=K.useCallback(l=>c0(l,t,"reference"),e),s=K.useCallback(l=>c0(l,t,"floating"),n),o=K.useCallback(l=>c0(l,t,"item"),r);return K.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function Mb(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function vq(t,e){return Mb(e,t===nN||t===cm,t===Pl||t===Fl)}function d0(t,e,n){return Mb(e,t===cm,n?t===Pl:t===Fl)||t==="Enter"||t===" "||t===""}function mQ(t,e,n){return Mb(e,n?t===Pl:t===Fl,t===cm)}function bq(t,e,n){return Mb(e,n?t===Fl:t===Pl,t===nN)}function gQ(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:d=null,allowEscape:f=!1,loop:h=!1,nested:b=!1,rtl:x=!1,virtual:w=!1,focusItemOnOpen:E="auto",focusItemOnHover:I=!0,openOnArrowKeyDown:T=!0,disabledIndices:O=void 0,orientation:q="vertical",cols:A=1,scrollItemIntoView:D=!0,virtualItemRef:L,itemSizes:z,dense:P=!1}=e,R=OE(i.floating),M=Li(R),F=dm(),W=lf(),V=Di(()=>{l(J.current===-1?null:J.current)}),B=FF(i.domReference),ee=K.useRef(E),J=K.useRef(d??-1),le=K.useRef(null),se=K.useRef(!0),ne=K.useRef(V),oe=K.useRef(!!i.floating),X=K.useRef(n),ce=K.useRef(!1),de=K.useRef(!1),ye=Li(O),_e=Li(n),Ne=Li(D),ze=Li(d),[qe,De]=K.useState(),[Ze,Xe]=K.useState(),Ue=Di(()=>{function ve(Ve){w?(De(Ve.id),W?.events.emit("virtualfocus",Ve),L&&(L.current=Ve)):Cu(Ve,{sync:ce.current,preventScroll:!0})}const ke=s.current[J.current];ke&&ve(ke),(ce.current?Ve=>Ve():requestAnimationFrame)(()=>{const Ve=s.current[J.current]||ke;if(!Ve)return;ke||ve(Ve);const rt=Ne.current;rt&&wt&&(de.current||!se.current)&&(Ve.scrollIntoView==null||Ve.scrollIntoView(typeof rt=="boolean"?{block:"nearest",inline:"nearest"}:rt))})});vr(()=>{c&&(n&&i.floating?ee.current&&d!=null&&(de.current=!0,J.current=d,V()):oe.current&&(J.current=-1,ne.current()))},[c,n,i.floating,d,V]),vr(()=>{if(c&&n&&i.floating)if(o==null){if(ce.current=!1,ze.current!=null)return;if(oe.current&&(J.current=-1,Ue()),(!X.current||!oe.current)&&ee.current&&(le.current!=null||ee.current===!0&&le.current==null)){let ve=0;const ke=()=>{s.current[0]==null?(ve<2&&(ve?requestAnimationFrame:queueMicrotask)(ke),ve++):(J.current=le.current==null||d0(le.current,q,x)||b?o0(s,ye.current):tq(s,ye.current),le.current=null,V())};ke()}}else Jp(s,o)||(J.current=o,Ue(),de.current=!1)},[c,n,i.floating,o,ze,b,s,q,x,V,Ue,ye]),vr(()=>{var ve;if(!c||i.floating||!W||w||!oe.current)return;const ke=W.nodesRef.current,Ae=(ve=ke.find(Me=>Me.id===F))==null||(ve=ve.context)==null?void 0:ve.elements.floating,Ve=vo(di(i.floating)),rt=ke.some(Me=>Me.context&&ci(Me.context.elements.floating,Ve));Ae&&!rt&&se.current&&Ae.focus({preventScroll:!0})},[c,i.floating,W,F,w]),vr(()=>{if(!c||!W||!w||F)return;function ve(ke){Xe(ke.id),L&&(L.current=ke)}return W.events.on("virtualfocus",ve),()=>{W.events.off("virtualfocus",ve)}},[c,W,w,F,L]),vr(()=>{ne.current=V,X.current=n,oe.current=!!i.floating}),vr(()=>{n||(le.current=null)},[n]);const ut=o!=null,wt=K.useMemo(()=>{function ve(Ae){if(!n)return;const Ve=s.current.indexOf(Ae);Ve!==-1&&J.current!==Ve&&(J.current=Ve,V())}return{onFocus(Ae){let{currentTarget:Ve}=Ae;ce.current=!0,ve(Ve)},onClick:Ae=>{let{currentTarget:Ve}=Ae;return Ve.focus({preventScroll:!0})},...I&&{onMouseMove(Ae){let{currentTarget:Ve}=Ae;ce.current=!0,de.current=!1,ve(Ve)},onPointerLeave(Ae){let{pointerType:Ve}=Ae;if(!(!se.current||Ve==="touch")&&(ce.current=!0,J.current=-1,V(),!w)){var rt;(rt=M.current)==null||rt.focus({preventScroll:!0})}}}}},[n,M,I,s,V,w]),Tt=Di(ve=>{if(se.current=!1,ce.current=!0,ve.which===229||!_e.current&&ve.currentTarget===M.current)return;if(b&&bq(ve.key,q,x)){Ai(ve),r(!1,ve.nativeEvent,"list-navigation"),Zr(i.domReference)&&(w?W?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ke=J.current,Ae=o0(s,O),Ve=tq(s,O);if(B||(ve.key==="Home"&&(Ai(ve),J.current=Ae,V()),ve.key==="End"&&(Ai(ve),J.current=Ve,V())),A>1){const rt=z||Array.from({length:s.current.length},()=>({width:1,height:1})),Me=W7(rt,A,P),ct=Me.findIndex(pn=>pn!=null&&!Ny(s.current,pn,O)),Ht=Me.reduce((pn,lr,Dn)=>lr!=null&&!Ny(s.current,lr,O)?Dn:pn,-1),Qt=Me[z7({current:Me.map(pn=>pn!=null?s.current[pn]:null)},{event:ve,orientation:q,loop:h,rtl:x,cols:A,disabledIndices:V7([...O||s.current.map((pn,lr)=>Ny(s.current,lr)?lr:void 0),void 0],Me),minIndex:ct,maxIndex:Ht,prevIndex:U7(J.current>Ve?Ae:J.current,rt,Me,A,ve.key===cm?"bl":ve.key===(x?Pl:Fl)?"tr":"tl"),stopEvent:!0})];if(Qt!=null&&(J.current=Qt,V()),q==="both")return}if(vq(ve.key,q)){if(Ai(ve),n&&!w&&vo(ve.currentTarget.ownerDocument)===ve.currentTarget){J.current=d0(ve.key,q,x)?Ae:Ve,V();return}d0(ve.key,q,x)?h?J.current=ke>=Ve?f&&ke!==s.current.length?-1:Ae:bi(s,{startingIndex:ke,disabledIndices:O}):J.current=Math.min(Ve,bi(s,{startingIndex:ke,disabledIndices:O})):h?J.current=ke<=Ae?f&&ke!==-1?s.current.length:Ve:bi(s,{startingIndex:ke,decrement:!0,disabledIndices:O}):J.current=Math.max(Ae,bi(s,{startingIndex:ke,decrement:!0,disabledIndices:O})),Jp(s,J.current)&&(J.current=-1),V()}}),Wt=K.useMemo(()=>w&&n&&ut&&{"aria-activedescendant":Ze||qe},[w,n,ut,Ze,qe]),en=K.useMemo(()=>({"aria-orientation":q==="both"?void 0:q,...B?{}:Wt,onKeyDown:Tt,onPointerMove(){se.current=!0}}),[Wt,Tt,q,B]),xe=K.useMemo(()=>{function ve(Ae){E==="auto"&&AF(Ae.nativeEvent)&&(ee.current=!0)}function ke(Ae){ee.current=E,E==="auto"&&J1(Ae.nativeEvent)&&(ee.current=!0)}return{...Wt,onKeyDown(Ae){se.current=!1;const Ve=Ae.key.startsWith("Arrow"),rt=["Home","End"].includes(Ae.key),Me=Ve||rt,ct=mQ(Ae.key,q,x),Ht=bq(Ae.key,q,x),Qt=vq(Ae.key,q),pn=(b?ct:Qt)||Ae.key==="Enter"||Ae.key.trim()==="";if(w&&n){const Oi=W?.nodesRef.current.find(Kt=>Kt.parentId==null),Cr=W&&Oi?X7(W.nodesRef.current,Oi.id):null;if(Me&&Cr&&L){const Kt=new KeyboardEvent("keydown",{key:Ae.key,bubbles:!0});if(ct||Ht){var lr,Dn;const Ki=((lr=Cr.context)==null?void 0:lr.elements.domReference)===Ae.currentTarget,Gi=Ht&&!Ki?(Dn=Cr.context)==null?void 0:Dn.elements.domReference:ct?s.current.find(Zi=>Zi?.id===qe):null;Gi&&(Ai(Ae),Gi.dispatchEvent(Kt),Xe(void 0))}if((Qt||rt)&&Cr.context&&Cr.context.open&&Cr.parentId&&Ae.currentTarget!==Cr.context.elements.domReference){var Vr;Ai(Ae),(Vr=Cr.context.elements.domReference)==null||Vr.dispatchEvent(Kt);return}}return Tt(Ae)}if(!(!n&&!T&&Ve)){if(pn&&(le.current=b&&Qt?null:Ae.key),b){ct&&(Ai(Ae),n?(J.current=o0(s,ye.current),V()):r(!0,Ae.nativeEvent,"list-navigation"));return}Qt&&(d!=null&&(J.current=d),Ai(Ae),!n&&T?r(!0,Ae.nativeEvent,"list-navigation"):Tt(Ae),n&&V())}},onFocus(){n&&!w&&(J.current=-1,V())},onPointerDown:ke,onPointerEnter:ke,onMouseDown:ve,onClick:ve}},[qe,Wt,Tt,ye,E,s,b,V,r,n,T,q,x,d,W,w,L]);return K.useMemo(()=>c?{reference:xe,floating:en,item:wt}:{},[c,xe,en,wt])}const xq=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Gc(t,e){return typeof t=="function"?t(e):t}function yQ(t,e){const[n,r]=K.useState(t);return t&&!n&&r(!0),K.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function vQ(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,o=(typeof i=="number"?i:i.close)||0,[l,c]=K.useState("unmounted"),d=yQ(n,o);return!d&&l==="close"&&c("unmounted"),vr(()=>{if(r){if(n){c("initial");const f=requestAnimationFrame(()=>{c("open")});return()=>{cancelAnimationFrame(f)}}c("close")}},[n,r]),{isMounted:d,status:l}}function uN(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:o=250}=e,l=t.placement,c=l.split("-")[0],d=K.useMemo(()=>({side:c,placement:l}),[c,l]),f=typeof o=="number",h=(f?o:o.open)||0,b=(f?o:o.close)||0,[x,w]=K.useState(()=>({...Gc(s,d),...Gc(n,d)})),{isMounted:E,status:I}=vQ(t,{duration:o}),T=Li(n),O=Li(r),q=Li(i),A=Li(s);return vr(()=>{const D=Gc(T.current,d),L=Gc(q.current,d),z=Gc(A.current,d),P=Gc(O.current,d)||Object.keys(D).reduce((R,M)=>(R[M]="",R),{});if(I==="initial"&&w(R=>({transitionProperty:R.transitionProperty,...z,...D})),I==="open"&&w({transitionProperty:Object.keys(P).map(xq).join(","),transitionDuration:h+"ms",...z,...P}),I==="close"){const R=L||D;w({transitionProperty:Object.keys(R).map(xq).join(","),transitionDuration:b+"ms",...z,...R})}},[b,q,T,O,A,h,I,d]),{isMounted:E,styles:x}}const bQ=K.createContext({close(){}}),xQ=gn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),_Q=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:s,variant:o,tva:l=xQ,css:c,children:d})=>{const[f,h]=K.useState(!1),{refs:b,floatingStyles:x,context:w}=aN({open:f,onOpenChange:h,placement:"top",whileElementsMounted:ZF,middleware:[YF(10),XF({fallbackAxisSideDirection:"start"}),L7()],...s}),{getReferenceProps:E,getFloatingProps:I}=lN([Y7(w,{enabled:e==="hover",delay:i}),sN(w,{enabled:e==="click"}),hQ(w),oN(w)]),{isMounted:T,styles:O}=uN(w),q=l({mounted:T,...o,css:c}).slots;return p.jsxs(p.Fragment,{children:[p.jsx("button",{type:"button",ref:b.setReference,...E(),disabled:n,className:q.target(),children:t}),p.jsx(iN,{children:p.jsx("div",{ref:b.setFloating,style:{...x,...O},className:q.portal(),...I(),onClick:r?()=>{h(!1)}:void 0,children:p.jsx(bQ.Provider,{value:{close(){h(!1)}},children:d})})})]})},dD="icon-[system-uicons--menu-hamburger]",fD=gn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),an=({icon:t,variant:e,tva:n=fD,css:r,...i})=>{const s=n({...e,css:r}).slots;return t?p.jsx("div",{className:s.base({css:[t]}),...i}):null},wQ=gn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),Vn=({icon:t=dD,iconProps:e,children:n,variant:r,tva:i=wQ,css:s,...o})=>{const l=i({...r,css:s}).slots;return p.jsx(J7,{children:p.jsx(_Q,{action:"click",target:p.jsx(an,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...o,children:p.jsx("div",{className:l.base(),children:n})})})},pD="icon-[svg-spinners--90-ring-with-bg]",SQ=gn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),fm=({iconEnabled:t,iconDisabled:e,iconLoading:n=pD,disabled:r=!1,loading:i=!1,onClick:s,variant:o,tva:l=SQ,css:c,children:d,...f})=>{const h=l({disabled:r,loading:i,...o,css:c}).slots;return p.jsxs("div",{className:h.base(),onClick:r?void 0:s,...f,children:[r?p.jsx(an,{icon:i?n:e??t}):p.jsx(an,{icon:i?n:t}),d]})},cN="icon-[iconamoon--close-light]",$b=K.createContext(void 0),EQ=gn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),uf=({target:t,icon:e,textTitle:n,disabled:r=!1,defaultOpen:i=!1,outside:s=!1,variant:o,css:l,tva:c=EQ,children:d})=>{const[f,h]=K.useState(i),b=G7(),{refs:x,context:w}=aN({nodeId:b,open:f,onOpenChange:h}),E=sN(w),I=oN(w,{outsidePress:s}),{getReferenceProps:T,getFloatingProps:O}=lN([E,I]),{isMounted:q,styles:A}=uN(w),D=c({disabled:r,...o,css:l}).slots;return p.jsxs($b.Provider,{value:{close(){h(!1)}},children:[p.jsx("div",{ref:x.setReference,...T({disabled:r}),className:D.target(),children:t}),p.jsx(Z7,{id:b,children:q&&p.jsx(p.Fragment,{children:p.jsx(iN,{children:p.jsx(cQ,{lockScroll:!0,style:A,className:D.base(),children:p.jsx(cD,{context:w,children:p.jsxs("div",{ref:x.setFloating,...O(),className:D.modal(),children:[p.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Sb(e)?p.jsx(an,{icon:e,variant:{size:"xl"}}):e),n&&p.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),p.jsx(fm,{iconEnabled:cN,onClick:()=>h(!1)})]}),k9(d)?p.jsx(d,{close:()=>h(!1)}):d]})})})})})})]})},NQ=gn({use:OF,slot:{},variant:{},defaults:{}}),mn=({icon:t,iconProps:e,label:n,disabled:r=!1,hidden:i=!1,variant:s,tva:o=NQ,css:l,...c})=>{const d=o({...s,disabled:r,css:l}).slots;return i?null:p.jsxs("div",{className:d.base(),children:[Sb(t)?p.jsx(an,{icon:t,...e}):t,p.jsx(uf,{icon:t,target:n,disabled:r,css:{modal:["w-1/2"]},...c})]})},kQ=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),Ko=({variant:t,tva:e=kQ,css:n,...r})=>{const i=e({...t,css:n}).slots;return p.jsx("div",{className:i.base(),...r})},qE="icon-[material-symbols-light--check-small]",IQ="icon-[material-symbols-light--close-small]",CQ="icon-[material-symbols-light--check-indeterminate-small]",TQ=gn({use:fD,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),Bb=({value:t,checkIcon:e=qE,unCheckIcon:n=IQ,undefinedIcon:r=CQ,tva:i=TQ,...s})=>t==null?p.jsx(an,{icon:r,tva:i,...s}):p.jsx(an,{icon:t?e:n,tva:o=>i({...o,value:t}),...s}),OQ=gn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),hD=({value:t,onChange:e,variant:n,tva:r=OQ,css:i,...s})=>{const o=r({...n,css:i}).slots;return p.jsx("div",{className:o.base(),children:p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:l=>{e(l.target.checked)},...s}),p.jsx("div",{className:o.switch()})]})})},qQ=gn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),Fn=({iconEnabled:t,iconDisabled:e,iconLoading:n=pD,iconProps:r,loading:i,variant:s,tva:o=qQ,css:l,children:c,...d})=>{const f=o({disabled:d.disabled,...s,css:l}).slots;return p.jsxs("button",{type:"button",className:f.base({disabled:d.disabled}),...d,children:[d.disabled?p.jsx(an,{icon:i===!0?n:e,variant:{size:"xl"},...r}):p.jsx(an,{icon:i===!0?n:t,variant:{size:"xl"},...r}),c]})},dN=K.createContext({inline:!1}),RQ=gn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),jQ=({inline:t,label:e,value:n,variant:r,tva:i=RQ,css:s})=>{const o=K.useContext(dN),l=t??o?.inline,c=i({inline:l,...r,css:s}).slots;return p.jsxs("div",{className:c.base(),children:[e?p.jsx("div",{className:c.label(),children:e}):null,p.jsx("div",{className:c.value(),children:n})]})},AQ=gn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),mD=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:s=AQ,css:o,inline:l=!1})=>{const c=s({inline:l,...i,css:o}).slots;return p.jsx(dN.Provider,{value:{inline:l},children:p.jsx("div",{className:c.base(),children:t.filter(({id:d})=>!e.includes(d)).map(({id:d,render:f,...h})=>p.jsx(jQ,{value:p.jsx(f,{entity:r}),...n,...h},d))})})},PQ=gn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),_q="icon-[tabler--dots]",FQ=gn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),DQ=gn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),f0=({pages:t,page:e,onPage:n,variant:r,tva:i=DQ,css:s})=>{const o=i({...r,css:s}).slots;return p.jsx("nav",{className:o.base(),children:p.jsx("ul",{className:o.list(),children:t.map((l,c)=>p.jsx("li",{className:o.page({current:e===l-1}),onClick:()=>n(l-1),children:l},`page-${l}-${c}`))})})},LQ=gn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),MQ=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:s=!1,onItem:o,onSelect:l,onChange:c,value:d,variant:f,tva:h=LQ,css:b})=>{const[x,w]=K.useState(!1),[E,I]=K.useState(null),[T,O]=K.useState(t.findIndex(ne=>ne.id===n));K.useEffect(()=>{O(t.findIndex(ne=>ne.id===d))},[d]);const{refs:q,floatingStyles:A,context:D}=aN({placement:"bottom-start",open:x,onOpenChange:w,whileElementsMounted:ZF,middleware:[YF(5),XF({padding:10}),M7({apply({rects:ne,elements:oe,availableHeight:X}){Object.assign(oe.floating.style,{maxHeight:`${X}px`,minWidth:`${ne.reference.width}px`})},padding:10})]}),L=K.useRef([]),z=K.useRef(!1),P=sN(D,{event:"mousedown"}),R=oN(D),M=gQ(D,{listRef:L,activeIndex:E,selectedIndex:T,onNavigate:I,loop:!0}),{getReferenceProps:F,getFloatingProps:W,getItemProps:V}=lN([R,M,P]),{isMounted:B,styles:ee}=uN(D),J=ne=>{O(ne),w(!1);const oe=t[ne];oe&&o?.(oe),l?.(oe),c?.(oe?.id)},le=T===null?void 0:t[T],se=h({disabled:s,...f,css:b}).slots;return p.jsxs(p.Fragment,{children:[p.jsx("div",{tabIndex:s?-1:0,ref:s?void 0:q.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...s?{}:F(),className:se.base(),children:p.jsxs("div",{className:se.input(),children:[e?p.jsx(an,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,le?p.jsx(r,{entity:le}):i||Ll.rich("Select item"),p.jsx(an,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!x&&"text-slate-400",x&&"text-slate-600","group-hover:text-slate-600"]}})]})}),B&&p.jsx(iN,{children:p.jsx(cD,{context:D,modal:!1,children:p.jsx("div",{ref:q.setFloating,style:{...A,...ee},className:se.popup(),...W(),children:t.map((ne,oe)=>p.jsxs("div",{ref:X=>{L.current[oe]=X},role:"option",tabIndex:oe===E?0:-1,"aria-selected":oe===T&&oe===E,className:se.item({selected:oe===T,active:oe===E}),...V({onClick(){J(oe)},onKeyDown(X){X.key==="Enter"&&(X.preventDefault(),J(oe)),X.key===" "&&!z.current&&(X.preventDefault(),J(oe))}}),children:[p.jsx(r,{entity:ne}),oe===T&&p.jsx(an,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},ne.id))})})})]})},$Q=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>p.jsx(MQ,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),wq=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:s,tva:o=FQ,css:l})=>{const c=K.useMemo(()=>m9({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),d=o({...s,css:l}).slots;return p.jsxs("div",{className:d.base(),children:[c.total>1?p.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(c.type)&&p.jsxs(p.Fragment,{children:[p.jsx(f0,{page:t.page,pages:c.start,onPage:r}),p.jsx(an,{icon:_q})]}),p.jsx(f0,{page:t.page,pages:c.pages,onPage:r}),["both","end"].includes(c.type)&&p.jsxs(p.Fragment,{children:[p.jsx(an,{icon:_q}),p.jsx(f0,{page:t.page,pages:c.end,onPage:r})]})]}):null,p.jsxs("div",{className:d.sums(),children:[p.jsx("div",{children:n}),p.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&p.jsxs(p.Fragment,{children:[p.jsx("div",{children:"/"}),p.jsx("div",{className:"font-semibold",children:e.where})]})]}),p.jsx($Q,{size:t.size,onSize:i})]})},Sq="function",ud="64e10b34-2bf7-4616-9668-f99de5aa046e",BQ="get",zQ="has",WQ="set",{isArray:ky}=Array;let{SharedArrayBuffer:Av,window:UQ}=globalThis,{notify:gD,wait:yD,waitAsync:Pv}=Atomics,vD=null;Pv||(Pv=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new Av(4)}catch{Av=ArrayBuffer;const e=new WeakMap;if(UQ){const n=new Map,{prototype:{postMessage:r}}=Worker,i=s=>{const o=s.data?.[ud];if(!ky(o)){s.stopImmediatePropagation();const{id:l,sb:c}=o;n.get(l)(c)}};vD=function(s,...o){const l=s?.[ud];if(ky(l)){const[c,d]=l;e.set(d,c),this.addEventListener("message",i)}return r.call(this,s,...o)},Pv=s=>({value:new Promise(o=>{n.set(e.get(s),o)}).then(o=>{n.delete(e.get(s)),e.delete(s);for(let l=0;l<o.length;l++)s[l]=o[l];return"ok"})})}else{const n=(r,i)=>({[ud]:{id:r,sb:i}});gD=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[ud];if(ky(i)){const[s,o]=i;e.set(o,s)}})}}const{Int32Array:RE,Map:Eq,Uint16Array:jE}=globalThis,{BYTES_PER_ELEMENT:Nq}=RE,{BYTES_PER_ELEMENT:VQ}=jE,HQ=(t,e,n)=>{for(;yD(t,0,0,e)==="timed-out";)n()},AE=new WeakSet,p0=new WeakMap,QQ={value:{then:t=>t()}};let KQ=0;const fN=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!p0.has(t)){const s=vD||t.postMessage,o=(b,...x)=>s.call(t,{[ud]:x},{transfer:b}),l=typeof i===Sq?i:i?.handler,c=i?.delay||42,d=new TextDecoder("utf-16"),f=(b,x)=>b?Pv(x,0):(l?HQ(x,c,l):yD(x,0),QQ);let h=!1;p0.set(t,new Proxy(new Eq,{[zQ]:(b,x)=>typeof x=="string"&&!x.startsWith("_"),[BQ]:(b,x)=>x==="then"?null:(...w)=>{const E=KQ++;let I=new RE(new Av(Nq*2)),T=[];AE.has(w.at(-1)||T)&&AE.delete(T=w.pop()),o(T,E,I,x,r?w.map(r):w);const O=t!==globalThis;let q=0;return h&&O&&(q=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${x}(...args) is awaited`)),f(O,I).value.then(()=>{clearTimeout(q);const A=I[1];if(!A)return;const D=VQ*A;return I=new RE(new Av(D+D%Nq)),o([],E,I),f(O,I).value.then(()=>e(d.decode(new jE(I.buffer).slice(0,A))))})},[WQ](b,x,w){const E=typeof w;if(E!==Sq)throw new Error(`Unable to assign ${x} as ${E}`);if(!b.size){const I=new Eq;t.addEventListener("message",async T=>{const O=T.data?.[ud];if(ky(O)){T.stopImmediatePropagation();const[q,A,...D]=O;let L;if(D.length){const[z,P]=D;if(b.has(z)){h=!0;try{const R=await b.get(z)(...P);if(R!==void 0){const M=n(r?r(R):R);I.set(q,M),A[1]=M.length}}catch(R){L=R}finally{h=!1}}else L=new Error(`Unsupported action: ${z}`);A[0]=1}else{const z=I.get(q);I.delete(q);for(let P=new jE(A.buffer),R=0;R<z.length;R++)P[R]=z.charCodeAt(R)}if(gD(A,0),L)throw L}})}return!!b.set(x,w)}}))}return p0.get(t)};fN.transfer=(...t)=>(AE.add(t),t);var pN=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,s,o=new Promise((g,y)=>{i=g,s=y}),l=typeof window=="object",c=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const d=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,d.debugModule("globalThis.location =",globalThis.location);var f=Object.assign({},r),h="./this.program",b="";function x(g){return r.locateFile?r.locateFile(g,b):b+g}var w,E;(l||c)&&(c?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),t&&(b=t),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),c&&(E=g=>{var y=new XMLHttpRequest;return y.open("GET",g,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),w=g=>fetch(g,{credentials:"same-origin"}).then(y=>y.ok?y.arrayBuffer():Promise.reject(new Error(y.status+" : "+y.url))));var I=r.print||console.log.bind(console),T=r.printErr||console.error.bind(console);Object.assign(r,f),f=null,r.arguments&&r.arguments,r.thisProgram&&(h=r.thisProgram);var O=r.wasmBinary,q,A=!1,D,L,z,P,R,M;function F(){var g=q.buffer;r.HEAP8=D=new Int8Array(g),r.HEAP16=z=new Int16Array(g),r.HEAPU8=L=new Uint8Array(g),r.HEAPU16=new Uint16Array(g),r.HEAP32=P=new Int32Array(g),r.HEAPU32=R=new Uint32Array(g),r.HEAPF32=new Float32Array(g),r.HEAPF64=new Float64Array(g),r.HEAP64=M=new BigInt64Array(g),r.HEAPU64=new BigUint64Array(g)}if(r.wasmMemory)q=r.wasmMemory;else{var W=r.INITIAL_MEMORY||0x1000000;q=new WebAssembly.Memory({initial:W/65536,maximum:32768})}F();var V=[],B=[],ee=[];function J(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)ne(r.preRun.shift());xe(V)}function le(){!r.noFSInit&&!H.initialized&&H.init(),H.ignorePermissions=!1,xe(B)}function se(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)X(r.postRun.shift());xe(ee)}function ne(g){V.unshift(g)}function oe(g){B.unshift(g)}function X(g){ee.unshift(g)}var ce=0,de=null;function ye(g){return g}function _e(g){ce++,r.monitorRunDependencies?.(ce)}function Ne(g){if(ce--,r.monitorRunDependencies?.(ce),ce==0&&de){var y=de;de=null,y()}}function ze(g){r.onAbort?.(g),g="Aborted("+g+")",T(g),A=!0,g+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(g);throw s(y),y}var qe="data:application/octet-stream;base64,",De=g=>g.startsWith(qe);function Ze(){if(r.locateFile){var g="sqlite3.wasm";return De(g)?g:x(g)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var Xe;function Ue(g){if(g==Xe&&O)return new Uint8Array(O);if(E)return E(g);throw"both async and sync fetching of the wasm failed"}function ut(g){return O?Promise.resolve().then(()=>Ue(g)):w(g).then(y=>new Uint8Array(y),()=>Ue(g))}function wt(g,y,S){return ut(g).then(N=>WebAssembly.instantiate(N,y)).then(S,N=>{T(`failed to asynchronously prepare wasm: ${N}`),ze(N)})}function Tt(g,y,S,N){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!De(y)&&typeof fetch=="function"?fetch(y,{credentials:"same-origin"}).then(C=>{var $=WebAssembly.instantiateStreaming(C,S);return $.then(N,function(fe){return T(`wasm streaming compile failed: ${fe}`),T("falling back to ArrayBuffer instantiation"),wt(y,S,N)})}):wt(y,S,N)}function Wt(){return{env:jf,wasi_snapshot_preview1:jf}}function en(){var g=Wt();function y(N,C){return he=N.exports,oe(he.__wasm_call_ctors),Ne(),he}_e();function S(N){y(N.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(g,y)}catch(N){T(`Module.instantiateWasm callback failed with error: ${N}`),s(N)}return Xe||(Xe=Ze()),Tt(O,Xe,g,S).catch(s),{}}var xe=g=>{for(;g.length>0;)g.shift()(r)};r.noExitRuntime;var ve={isAbs:g=>g.charAt(0)==="/",splitPath:g=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(g).slice(1)},normalizeArray:(g,y)=>{for(var S=0,N=g.length-1;N>=0;N--){var C=g[N];C==="."?g.splice(N,1):C===".."?(g.splice(N,1),S++):S&&(g.splice(N,1),S--)}if(y)for(;S;S--)g.unshift("..");return g},normalize:g=>{var y=ve.isAbs(g),S=g.substr(-1)==="/";return g=ve.normalizeArray(g.split("/").filter(N=>!!N),!y).join("/"),!g&&!y&&(g="."),g&&S&&(g+="/"),(y?"/":"")+g},dirname:g=>{var y=ve.splitPath(g),S=y[0],N=y[1];return!S&&!N?".":(N&&(N=N.substr(0,N.length-1)),S+N)},basename:g=>{if(g==="/")return"/";g=ve.normalize(g),g=g.replace(/\/$/,"");var y=g.lastIndexOf("/");return y===-1?g:g.substr(y+1)},join:(...g)=>ve.normalize(g.join("/")),join2:(g,y)=>ve.normalize(g+"/"+y)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return g=>crypto.getRandomValues(g);ze("initRandomDevice")},Ae=g=>(Ae=ke())(g),Ve={resolve:(...g)=>{for(var y="",S=!1,N=g.length-1;N>=-1&&!S;N--){var C=N>=0?g[N]:H.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,S=ve.isAbs(C)}return y=ve.normalizeArray(y.split("/").filter($=>!!$),!S).join("/"),(S?"/":"")+y||"."},relative:(g,y)=>{g=Ve.resolve(g).substr(1),y=Ve.resolve(y).substr(1);function S(tt){for(var at=0;at<tt.length&&tt[at]==="";at++);for(var mt=tt.length-1;mt>=0&&tt[mt]==="";mt--);return at>mt?[]:tt.slice(at,mt-at+1)}for(var N=S(g.split("/")),C=S(y.split("/")),$=Math.min(N.length,C.length),fe=$,me=0;me<$;me++)if(N[me]!==C[me]){fe=me;break}for(var Qe=[],me=fe;me<N.length;me++)Qe.push("..");return Qe=Qe.concat(C.slice(fe)),Qe.join("/")}},rt=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(g,y,S)=>{for(var N=y+S,C=y;g[C]&&!(C>=N);)++C;if(C-y>16&&g.buffer&&rt)return rt.decode(g.subarray(y,C));for(var $="";y<C;){var fe=g[y++];if(!(fe&128)){$+=String.fromCharCode(fe);continue}var me=g[y++]&63;if((fe&224)==192){$+=String.fromCharCode((fe&31)<<6|me);continue}var Qe=g[y++]&63;if((fe&240)==224?fe=(fe&15)<<12|me<<6|Qe:fe=(fe&7)<<18|me<<12|Qe<<6|g[y++]&63,fe<65536)$+=String.fromCharCode(fe);else{var tt=fe-65536;$+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return $},ct=[],Ht=g=>{for(var y=0,S=0;S<g.length;++S){var N=g.charCodeAt(S);N<=127?y++:N<=2047?y+=2:N>=55296&&N<=57343?(y+=4,++S):y+=3}return y},Qt=(g,y,S,N)=>{if(!(N>0))return 0;for(var C=S,$=S+N-1,fe=0;fe<g.length;++fe){var me=g.charCodeAt(fe);if(me>=55296&&me<=57343){var Qe=g.charCodeAt(++fe);me=65536+((me&1023)<<10)|Qe&1023}if(me<=127){if(S>=$)break;y[S++]=me}else if(me<=2047){if(S+1>=$)break;y[S++]=192|me>>6,y[S++]=128|me&63}else if(me<=65535){if(S+2>=$)break;y[S++]=224|me>>12,y[S++]=128|me>>6&63,y[S++]=128|me&63}else{if(S+3>=$)break;y[S++]=240|me>>18,y[S++]=128|me>>12&63,y[S++]=128|me>>6&63,y[S++]=128|me&63}}return y[S]=0,S-C};function pn(g,y,S){var N=Ht(g)+1,C=new Array(N),$=Qt(g,C,0,C.length);return C.length=$,C}var lr=()=>{if(!ct.length){var g=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(g=window.prompt("Input: "),g!==null&&(g+=`
`)),!g)return null;ct=pn(g)}return ct.shift()},Dn={ttys:[],init(){},shutdown(){},register(g,y){Dn.ttys[g]={input:[],output:[],ops:y},H.registerDevice(g,Dn.stream_ops)},stream_ops:{open(g){var y=Dn.ttys[g.node.rdev];if(!y)throw new H.ErrnoError(43);g.tty=y,g.seekable=!1},close(g){g.tty.ops.fsync(g.tty)},fsync(g){g.tty.ops.fsync(g.tty)},read(g,y,S,N,C){if(!g.tty||!g.tty.ops.get_char)throw new H.ErrnoError(60);for(var $=0,fe=0;fe<N;fe++){var me;try{me=g.tty.ops.get_char(g.tty)}catch{throw new H.ErrnoError(29)}if(me===void 0&&$===0)throw new H.ErrnoError(6);if(me==null)break;$++,y[S+fe]=me}return $&&(g.node.timestamp=Date.now()),$},write(g,y,S,N,C){if(!g.tty||!g.tty.ops.put_char)throw new H.ErrnoError(60);try{for(var $=0;$<N;$++)g.tty.ops.put_char(g.tty,y[S+$])}catch{throw new H.ErrnoError(29)}return N&&(g.node.timestamp=Date.now()),$}},default_tty_ops:{get_char(g){return lr()},put_char(g,y){y===null||y===10?(I(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(I(Me(g.output,0)),g.output=[])},ioctl_tcgets(g){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(g,y,S){return 0},ioctl_tiocgwinsz(g){return[24,80]}},default_tty1_ops:{put_char(g,y){y===null||y===10?(T(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(T(Me(g.output,0)),g.output=[])}}},Vr=(g,y)=>(L.fill(0,g,g+y),g),Oi=(g,y)=>Math.ceil(g/y)*y,Cr=g=>{g=Oi(g,65536);var y=Af(65536,g);return y?Vr(y,g):0},Kt={ops_table:null,mount(g){return Kt.createNode(null,"/",16895,0)},createNode(g,y,S,N){if(H.isBlkdev(S)||H.isFIFO(S))throw new H.ErrnoError(63);Kt.ops_table||={dir:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr,lookup:Kt.node_ops.lookup,mknod:Kt.node_ops.mknod,rename:Kt.node_ops.rename,unlink:Kt.node_ops.unlink,rmdir:Kt.node_ops.rmdir,readdir:Kt.node_ops.readdir,symlink:Kt.node_ops.symlink},stream:{llseek:Kt.stream_ops.llseek}},file:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr},stream:{llseek:Kt.stream_ops.llseek,read:Kt.stream_ops.read,write:Kt.stream_ops.write,allocate:Kt.stream_ops.allocate,mmap:Kt.stream_ops.mmap,msync:Kt.stream_ops.msync}},link:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr,readlink:Kt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr},stream:H.chrdev_stream_ops}};var C=H.createNode(g,y,S,N);return H.isDir(C.mode)?(C.node_ops=Kt.ops_table.dir.node,C.stream_ops=Kt.ops_table.dir.stream,C.contents={}):H.isFile(C.mode)?(C.node_ops=Kt.ops_table.file.node,C.stream_ops=Kt.ops_table.file.stream,C.usedBytes=0,C.contents=null):H.isLink(C.mode)?(C.node_ops=Kt.ops_table.link.node,C.stream_ops=Kt.ops_table.link.stream):H.isChrdev(C.mode)&&(C.node_ops=Kt.ops_table.chrdev.node,C.stream_ops=Kt.ops_table.chrdev.stream),C.timestamp=Date.now(),g&&(g.contents[y]=C,g.timestamp=C.timestamp),C},getFileDataAsTypedArray(g){return g.contents?g.contents.subarray?g.contents.subarray(0,g.usedBytes):new Uint8Array(g.contents):new Uint8Array(0)},expandFileStorage(g,y){var S=g.contents?g.contents.length:0;if(!(S>=y)){var N=1024*1024;y=Math.max(y,S*(S<N?2:1.125)>>>0),S!=0&&(y=Math.max(y,256));var C=g.contents;g.contents=new Uint8Array(y),g.usedBytes>0&&g.contents.set(C.subarray(0,g.usedBytes),0)}},resizeFileStorage(g,y){if(g.usedBytes!=y)if(y==0)g.contents=null,g.usedBytes=0;else{var S=g.contents;g.contents=new Uint8Array(y),S&&g.contents.set(S.subarray(0,Math.min(y,g.usedBytes))),g.usedBytes=y}},node_ops:{getattr(g){var y={};return y.dev=H.isChrdev(g.mode)?g.id:1,y.ino=g.id,y.mode=g.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=g.rdev,H.isDir(g.mode)?y.size=4096:H.isFile(g.mode)?y.size=g.usedBytes:H.isLink(g.mode)?y.size=g.link.length:y.size=0,y.atime=new Date(g.timestamp),y.mtime=new Date(g.timestamp),y.ctime=new Date(g.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr(g,y){y.mode!==void 0&&(g.mode=y.mode),y.timestamp!==void 0&&(g.timestamp=y.timestamp),y.size!==void 0&&Kt.resizeFileStorage(g,y.size)},lookup(g,y){throw H.genericErrors[44]},mknod(g,y,S,N){return Kt.createNode(g,y,S,N)},rename(g,y,S){if(H.isDir(g.mode)){var N;try{N=H.lookupNode(y,S)}catch{}if(N)for(var C in N.contents)throw new H.ErrnoError(55)}delete g.parent.contents[g.name],g.parent.timestamp=Date.now(),g.name=S,y.contents[S]=g,y.timestamp=g.parent.timestamp},unlink(g,y){delete g.contents[y],g.timestamp=Date.now()},rmdir(g,y){var S=H.lookupNode(g,y);for(var N in S.contents)throw new H.ErrnoError(55);delete g.contents[y],g.timestamp=Date.now()},readdir(g){var y=[".",".."];for(var S of Object.keys(g.contents))y.push(S);return y},symlink(g,y,S){var N=Kt.createNode(g,y,41471,0);return N.link=S,N},readlink(g){if(!H.isLink(g.mode))throw new H.ErrnoError(28);return g.link}},stream_ops:{read(g,y,S,N,C){var $=g.node.contents;if(C>=g.node.usedBytes)return 0;var fe=Math.min(g.node.usedBytes-C,N);if(fe>8&&$.subarray)y.set($.subarray(C,C+fe),S);else for(var me=0;me<fe;me++)y[S+me]=$[C+me];return fe},write(g,y,S,N,C,$){if(y.buffer===D.buffer&&($=!1),!N)return 0;var fe=g.node;if(fe.timestamp=Date.now(),y.subarray&&(!fe.contents||fe.contents.subarray)){if($)return fe.contents=y.subarray(S,S+N),fe.usedBytes=N,N;if(fe.usedBytes===0&&C===0)return fe.contents=y.slice(S,S+N),fe.usedBytes=N,N;if(C+N<=fe.usedBytes)return fe.contents.set(y.subarray(S,S+N),C),N}if(Kt.expandFileStorage(fe,C+N),fe.contents.subarray&&y.subarray)fe.contents.set(y.subarray(S,S+N),C);else for(var me=0;me<N;me++)fe.contents[C+me]=y[S+me];return fe.usedBytes=Math.max(fe.usedBytes,C+N),N},llseek(g,y,S){var N=y;if(S===1?N+=g.position:S===2&&H.isFile(g.node.mode)&&(N+=g.node.usedBytes),N<0)throw new H.ErrnoError(28);return N},allocate(g,y,S){Kt.expandFileStorage(g.node,y+S),g.node.usedBytes=Math.max(g.node.usedBytes,y+S)},mmap(g,y,S,N,C){if(!H.isFile(g.node.mode))throw new H.ErrnoError(43);var $,fe,me=g.node.contents;if(!(C&2)&&me&&me.buffer===D.buffer)fe=!1,$=me.byteOffset;else{if(fe=!0,$=Cr(y),!$)throw new H.ErrnoError(48);me&&((S>0||S+y<me.length)&&(me.subarray?me=me.subarray(S,S+y):me=Array.prototype.slice.call(me,S,S+y)),D.set(me,$))}return{ptr:$,allocated:fe}},msync(g,y,S,N,C){return Kt.stream_ops.write(g,y,0,N,S,!1),0}}},Ki=(g,y,S,N)=>{var C=`al ${g}`;w(g).then($=>{y(new Uint8Array($)),C&&Ne()},$=>{if(S)S();else throw`Loading data file "${g}" failed.`}),C&&_e()},Gi=(g,y,S,N,C,$)=>{H.createDataFile(g,y,S,N,C,$)},Zi=r.preloadPlugins||[],io=(g,y,S,N)=>{typeof Browser<"u"&&Browser.init();var C=!1;return Zi.forEach($=>{C||$.canHandle(y)&&($.handle(g,y,S,N),C=!0)}),C},aa=(g,y,S,N,C,$,fe,me,Qe,tt)=>{var at=y?Ve.resolve(ve.join2(g,y)):g;function mt(Be){function Re(et){tt?.(),me||Gi(g,y,et,N,C,Qe),$?.(),Ne()}io(Be,at,Re,()=>{fe?.(),Ne()})||Re(Be)}_e(),typeof S=="string"?Ki(S,mt,fe):mt(S)},iu=g=>{var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},S=y[g];if(typeof S>"u")throw new Error(`Unknown file open mode: ${g}`);return S},As=(g,y)=>{var S=0;return g&&(S|=365),y&&(S|=146),S},H={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(g){this.name="ErrnoError",this.errno=g}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(g){this.node=g}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(g){this.shared.flags=g}get position(){return this.shared.position}set position(g){this.shared.position=g}},FSNode:class{constructor(g,y,S,N){g||(g=this),this.parent=g,this.mount=g.mount,this.mounted=null,this.id=H.nextInode++,this.name=y,this.mode=S,this.node_ops={},this.stream_ops={},this.rdev=N,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(g){g?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(g){g?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return H.isDir(this.mode)}get isDevice(){return H.isChrdev(this.mode)}},lookupPath(g,y={}){if(g=Ve.resolve(g),!g)return{path:"",node:null};var S={follow_mount:!0,recurse_count:0};if(y=Object.assign(S,y),y.recurse_count>8)throw new H.ErrnoError(32);for(var N=g.split("/").filter(mt=>!!mt),C=H.root,$="/",fe=0;fe<N.length;fe++){var me=fe===N.length-1;if(me&&y.parent)break;if(C=H.lookupNode(C,N[fe]),$=ve.join2($,N[fe]),H.isMountpoint(C)&&(!me||me&&y.follow_mount)&&(C=C.mounted.root),!me||y.follow)for(var Qe=0;H.isLink(C.mode);){var tt=H.readlink($);$=Ve.resolve(ve.dirname($),tt);var at=H.lookupPath($,{recurse_count:y.recurse_count+1});if(C=at.node,Qe++>40)throw new H.ErrnoError(32)}}return{path:$,node:C}},getPath(g){for(var y;;){if(H.isRoot(g)){var S=g.mount.mountpoint;return y?S[S.length-1]!=="/"?`${S}/${y}`:S+y:S}y=y?`${g.name}/${y}`:g.name,g=g.parent}},hashName(g,y){for(var S=0,N=0;N<y.length;N++)S=(S<<5)-S+y.charCodeAt(N)|0;return(g+S>>>0)%H.nameTable.length},hashAddNode(g){var y=H.hashName(g.parent.id,g.name);g.name_next=H.nameTable[y],H.nameTable[y]=g},hashRemoveNode(g){var y=H.hashName(g.parent.id,g.name);if(H.nameTable[y]===g)H.nameTable[y]=g.name_next;else for(var S=H.nameTable[y];S;){if(S.name_next===g){S.name_next=g.name_next;break}S=S.name_next}},lookupNode(g,y){var S=H.mayLookup(g);if(S)throw new H.ErrnoError(S);for(var N=H.hashName(g.id,y),C=H.nameTable[N];C;C=C.name_next){var $=C.name;if(C.parent.id===g.id&&$===y)return C}return H.lookup(g,y)},createNode(g,y,S,N){var C=new H.FSNode(g,y,S,N);return H.hashAddNode(C),C},destroyNode(g){H.hashRemoveNode(g)},isRoot(g){return g===g.parent},isMountpoint(g){return!!g.mounted},isFile(g){return(g&61440)===32768},isDir(g){return(g&61440)===16384},isLink(g){return(g&61440)===40960},isChrdev(g){return(g&61440)===8192},isBlkdev(g){return(g&61440)===24576},isFIFO(g){return(g&61440)===4096},isSocket(g){return(g&49152)===49152},flagsToPermissionString(g){var y=["r","w","rw"][g&3];return g&512&&(y+="w"),y},nodePermissions(g,y){return H.ignorePermissions?0:y.includes("r")&&!(g.mode&292)||y.includes("w")&&!(g.mode&146)||y.includes("x")&&!(g.mode&73)?2:0},mayLookup(g){if(!H.isDir(g.mode))return 54;var y=H.nodePermissions(g,"x");return y||(g.node_ops.lookup?0:2)},mayCreate(g,y){try{var S=H.lookupNode(g,y);return 20}catch{}return H.nodePermissions(g,"wx")},mayDelete(g,y,S){var N;try{N=H.lookupNode(g,y)}catch($){return $.errno}var C=H.nodePermissions(g,"wx");if(C)return C;if(S){if(!H.isDir(N.mode))return 54;if(H.isRoot(N)||H.getPath(N)===H.cwd())return 10}else if(H.isDir(N.mode))return 31;return 0},mayOpen(g,y){return g?H.isLink(g.mode)?32:H.isDir(g.mode)&&(H.flagsToPermissionString(y)!=="r"||y&512)?31:H.nodePermissions(g,H.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd(){for(var g=0;g<=H.MAX_OPEN_FDS;g++)if(!H.streams[g])return g;throw new H.ErrnoError(33)},getStreamChecked(g){var y=H.getStream(g);if(!y)throw new H.ErrnoError(8);return y},getStream:g=>H.streams[g],createStream(g,y=-1){return g=Object.assign(new H.FSStream,g),y==-1&&(y=H.nextfd()),g.fd=y,H.streams[y]=g,g},closeStream(g){H.streams[g]=null},dupStream(g,y=-1){var S=H.createStream(g,y);return S.stream_ops?.dup?.(S),S},chrdev_stream_ops:{open(g){var y=H.getDevice(g.node.rdev);g.stream_ops=y.stream_ops,g.stream_ops.open?.(g)},llseek(){throw new H.ErrnoError(70)}},major:g=>g>>8,minor:g=>g&255,makedev:(g,y)=>g<<8|y,registerDevice(g,y){H.devices[g]={stream_ops:y}},getDevice:g=>H.devices[g],getMounts(g){for(var y=[],S=[g];S.length;){var N=S.pop();y.push(N),S.push(...N.mounts)}return y},syncfs(g,y){typeof g=="function"&&(y=g,g=!1),H.syncFSRequests++,H.syncFSRequests>1&&T(`warning: ${H.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var S=H.getMounts(H.root.mount),N=0;function C(fe){return H.syncFSRequests--,y(fe)}function $(fe){if(fe)return $.errored?void 0:($.errored=!0,C(fe));++N>=S.length&&C(null)}S.forEach(fe=>{if(!fe.type.syncfs)return $(null);fe.type.syncfs(fe,g,$)})},mount(g,y,S){var N=S==="/",C=!S,$;if(N&&H.root)throw new H.ErrnoError(10);if(!N&&!C){var fe=H.lookupPath(S,{follow_mount:!1});if(S=fe.path,$=fe.node,H.isMountpoint($))throw new H.ErrnoError(10);if(!H.isDir($.mode))throw new H.ErrnoError(54)}var me={type:g,opts:y,mountpoint:S,mounts:[]},Qe=g.mount(me);return Qe.mount=me,me.root=Qe,N?H.root=Qe:$&&($.mounted=me,$.mount&&$.mount.mounts.push(me)),Qe},unmount(g){var y=H.lookupPath(g,{follow_mount:!1});if(!H.isMountpoint(y.node))throw new H.ErrnoError(28);var S=y.node,N=S.mounted,C=H.getMounts(N);Object.keys(H.nameTable).forEach(fe=>{for(var me=H.nameTable[fe];me;){var Qe=me.name_next;C.includes(me.mount)&&H.destroyNode(me),me=Qe}}),S.mounted=null;var $=S.mount.mounts.indexOf(N);S.mount.mounts.splice($,1)},lookup(g,y){return g.node_ops.lookup(g,y)},mknod(g,y,S){var N=H.lookupPath(g,{parent:!0}),C=N.node,$=ve.basename(g);if(!$||$==="."||$==="..")throw new H.ErrnoError(28);var fe=H.mayCreate(C,$);if(fe)throw new H.ErrnoError(fe);if(!C.node_ops.mknod)throw new H.ErrnoError(63);return C.node_ops.mknod(C,$,y,S)},create(g,y){return y=y!==void 0?y:438,y&=4095,y|=32768,H.mknod(g,y,0)},mkdir(g,y){return y=y!==void 0?y:511,y&=1023,y|=16384,H.mknod(g,y,0)},mkdirTree(g,y){for(var S=g.split("/"),N="",C=0;C<S.length;++C)if(S[C]){N+="/"+S[C];try{H.mkdir(N,y)}catch($){if($.errno!=20)throw $}}},mkdev(g,y,S){return typeof S>"u"&&(S=y,y=438),y|=8192,H.mknod(g,y,S)},symlink(g,y){if(!Ve.resolve(g))throw new H.ErrnoError(44);var S=H.lookupPath(y,{parent:!0}),N=S.node;if(!N)throw new H.ErrnoError(44);var C=ve.basename(y),$=H.mayCreate(N,C);if($)throw new H.ErrnoError($);if(!N.node_ops.symlink)throw new H.ErrnoError(63);return N.node_ops.symlink(N,C,g)},rename(g,y){var S=ve.dirname(g),N=ve.dirname(y),C=ve.basename(g),$=ve.basename(y),fe,me,Qe;if(fe=H.lookupPath(g,{parent:!0}),me=fe.node,fe=H.lookupPath(y,{parent:!0}),Qe=fe.node,!me||!Qe)throw new H.ErrnoError(44);if(me.mount!==Qe.mount)throw new H.ErrnoError(75);var tt=H.lookupNode(me,C),at=Ve.relative(g,N);if(at.charAt(0)!==".")throw new H.ErrnoError(28);if(at=Ve.relative(y,S),at.charAt(0)!==".")throw new H.ErrnoError(55);var mt;try{mt=H.lookupNode(Qe,$)}catch{}if(tt!==mt){var Be=H.isDir(tt.mode),Re=H.mayDelete(me,C,Be);if(Re)throw new H.ErrnoError(Re);if(Re=mt?H.mayDelete(Qe,$,Be):H.mayCreate(Qe,$),Re)throw new H.ErrnoError(Re);if(!me.node_ops.rename)throw new H.ErrnoError(63);if(H.isMountpoint(tt)||mt&&H.isMountpoint(mt))throw new H.ErrnoError(10);if(Qe!==me&&(Re=H.nodePermissions(me,"w"),Re))throw new H.ErrnoError(Re);H.hashRemoveNode(tt);try{me.node_ops.rename(tt,Qe,$),tt.parent=Qe}catch(et){throw et}finally{H.hashAddNode(tt)}}},rmdir(g){var y=H.lookupPath(g,{parent:!0}),S=y.node,N=ve.basename(g),C=H.lookupNode(S,N),$=H.mayDelete(S,N,!0);if($)throw new H.ErrnoError($);if(!S.node_ops.rmdir)throw new H.ErrnoError(63);if(H.isMountpoint(C))throw new H.ErrnoError(10);S.node_ops.rmdir(S,N),H.destroyNode(C)},readdir(g){var y=H.lookupPath(g,{follow:!0}),S=y.node;if(!S.node_ops.readdir)throw new H.ErrnoError(54);return S.node_ops.readdir(S)},unlink(g){var y=H.lookupPath(g,{parent:!0}),S=y.node;if(!S)throw new H.ErrnoError(44);var N=ve.basename(g),C=H.lookupNode(S,N),$=H.mayDelete(S,N,!1);if($)throw new H.ErrnoError($);if(!S.node_ops.unlink)throw new H.ErrnoError(63);if(H.isMountpoint(C))throw new H.ErrnoError(10);S.node_ops.unlink(S,N),H.destroyNode(C)},readlink(g){var y=H.lookupPath(g),S=y.node;if(!S)throw new H.ErrnoError(44);if(!S.node_ops.readlink)throw new H.ErrnoError(28);return Ve.resolve(H.getPath(S.parent),S.node_ops.readlink(S))},stat(g,y){var S=H.lookupPath(g,{follow:!y}),N=S.node;if(!N)throw new H.ErrnoError(44);if(!N.node_ops.getattr)throw new H.ErrnoError(63);return N.node_ops.getattr(N)},lstat(g){return H.stat(g,!0)},chmod(g,y,S){var N;if(typeof g=="string"){var C=H.lookupPath(g,{follow:!S});N=C.node}else N=g;if(!N.node_ops.setattr)throw new H.ErrnoError(63);N.node_ops.setattr(N,{mode:y&4095|N.mode&-4096,timestamp:Date.now()})},lchmod(g,y){H.chmod(g,y,!0)},fchmod(g,y){var S=H.getStreamChecked(g);H.chmod(S.node,y)},chown(g,y,S,N){var C;if(typeof g=="string"){var $=H.lookupPath(g,{follow:!N});C=$.node}else C=g;if(!C.node_ops.setattr)throw new H.ErrnoError(63);C.node_ops.setattr(C,{timestamp:Date.now()})},lchown(g,y,S){H.chown(g,y,S,!0)},fchown(g,y,S){var N=H.getStreamChecked(g);H.chown(N.node,y,S)},truncate(g,y){if(y<0)throw new H.ErrnoError(28);var S;if(typeof g=="string"){var N=H.lookupPath(g,{follow:!0});S=N.node}else S=g;if(!S.node_ops.setattr)throw new H.ErrnoError(63);if(H.isDir(S.mode))throw new H.ErrnoError(31);if(!H.isFile(S.mode))throw new H.ErrnoError(28);var C=H.nodePermissions(S,"w");if(C)throw new H.ErrnoError(C);S.node_ops.setattr(S,{size:y,timestamp:Date.now()})},ftruncate(g,y){var S=H.getStreamChecked(g);if(!(S.flags&2097155))throw new H.ErrnoError(28);H.truncate(S.node,y)},utime(g,y,S){var N=H.lookupPath(g,{follow:!0}),C=N.node;C.node_ops.setattr(C,{timestamp:Math.max(y,S)})},open(g,y,S){if(g==="")throw new H.ErrnoError(44);y=typeof y=="string"?iu(y):y,y&64?(S=typeof S>"u"?438:S,S=S&4095|32768):S=0;var N;if(typeof g=="object")N=g;else{g=ve.normalize(g);try{var C=H.lookupPath(g,{follow:!(y&131072)});N=C.node}catch{}}var $=!1;if(y&64)if(N){if(y&128)throw new H.ErrnoError(20)}else N=H.mknod(g,S,0),$=!0;if(!N)throw new H.ErrnoError(44);if(H.isChrdev(N.mode)&&(y&=-513),y&65536&&!H.isDir(N.mode))throw new H.ErrnoError(54);if(!$){var fe=H.mayOpen(N,y);if(fe)throw new H.ErrnoError(fe)}y&512&&!$&&H.truncate(N,0),y&=-131713;var me=H.createStream({node:N,path:H.getPath(N),flags:y,seekable:!0,position:0,stream_ops:N.stream_ops,ungotten:[],error:!1});return me.stream_ops.open&&me.stream_ops.open(me),r.logReadFiles&&!(y&1)&&(H.readFiles||(H.readFiles={}),g in H.readFiles||(H.readFiles[g]=1)),me},close(g){if(H.isClosed(g))throw new H.ErrnoError(8);g.getdents&&(g.getdents=null);try{g.stream_ops.close&&g.stream_ops.close(g)}catch(y){throw y}finally{H.closeStream(g.fd)}g.fd=null},isClosed(g){return g.fd===null},llseek(g,y,S){if(H.isClosed(g))throw new H.ErrnoError(8);if(!g.seekable||!g.stream_ops.llseek)throw new H.ErrnoError(70);if(S!=0&&S!=1&&S!=2)throw new H.ErrnoError(28);return g.position=g.stream_ops.llseek(g,y,S),g.ungotten=[],g.position},read(g,y,S,N,C){if(N<0||C<0)throw new H.ErrnoError(28);if(H.isClosed(g))throw new H.ErrnoError(8);if((g.flags&2097155)===1)throw new H.ErrnoError(8);if(H.isDir(g.node.mode))throw new H.ErrnoError(31);if(!g.stream_ops.read)throw new H.ErrnoError(28);var $=typeof C<"u";if(!$)C=g.position;else if(!g.seekable)throw new H.ErrnoError(70);var fe=g.stream_ops.read(g,y,S,N,C);return $||(g.position+=fe),fe},write(g,y,S,N,C,$){if(N<0||C<0)throw new H.ErrnoError(28);if(H.isClosed(g))throw new H.ErrnoError(8);if(!(g.flags&2097155))throw new H.ErrnoError(8);if(H.isDir(g.node.mode))throw new H.ErrnoError(31);if(!g.stream_ops.write)throw new H.ErrnoError(28);g.seekable&&g.flags&1024&&H.llseek(g,0,2);var fe=typeof C<"u";if(!fe)C=g.position;else if(!g.seekable)throw new H.ErrnoError(70);var me=g.stream_ops.write(g,y,S,N,C,$);return fe||(g.position+=me),me},allocate(g,y,S){if(H.isClosed(g))throw new H.ErrnoError(8);if(y<0||S<=0)throw new H.ErrnoError(28);if(!(g.flags&2097155))throw new H.ErrnoError(8);if(!H.isFile(g.node.mode)&&!H.isDir(g.node.mode))throw new H.ErrnoError(43);if(!g.stream_ops.allocate)throw new H.ErrnoError(138);g.stream_ops.allocate(g,y,S)},mmap(g,y,S,N,C){if(N&2&&!(C&2)&&(g.flags&2097155)!==2)throw new H.ErrnoError(2);if((g.flags&2097155)===1)throw new H.ErrnoError(2);if(!g.stream_ops.mmap)throw new H.ErrnoError(43);if(!y)throw new H.ErrnoError(28);return g.stream_ops.mmap(g,y,S,N,C)},msync(g,y,S,N,C){return g.stream_ops.msync?g.stream_ops.msync(g,y,S,N,C):0},ioctl(g,y,S){if(!g.stream_ops.ioctl)throw new H.ErrnoError(59);return g.stream_ops.ioctl(g,y,S)},readFile(g,y={}){if(y.flags=y.flags||0,y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error(`Invalid encoding type "${y.encoding}"`);var S,N=H.open(g,y.flags),C=H.stat(g),$=C.size,fe=new Uint8Array($);return H.read(N,fe,0,$,0),y.encoding==="utf8"?S=Me(fe,0):y.encoding==="binary"&&(S=fe),H.close(N),S},writeFile(g,y,S={}){S.flags=S.flags||577;var N=H.open(g,S.flags,S.mode);if(typeof y=="string"){var C=new Uint8Array(Ht(y)+1),$=Qt(y,C,0,C.length);H.write(N,C,0,$,void 0,S.canOwn)}else if(ArrayBuffer.isView(y))H.write(N,y,0,y.byteLength,void 0,S.canOwn);else throw new Error("Unsupported data type");H.close(N)},cwd:()=>H.currentPath,chdir(g){var y=H.lookupPath(g,{follow:!0});if(y.node===null)throw new H.ErrnoError(44);if(!H.isDir(y.node.mode))throw new H.ErrnoError(54);var S=H.nodePermissions(y.node,"x");if(S)throw new H.ErrnoError(S);H.currentPath=y.path},createDefaultDirectories(){H.mkdir("/tmp"),H.mkdir("/home"),H.mkdir("/home/web_user")},createDefaultDevices(){H.mkdir("/dev"),H.registerDevice(H.makedev(1,3),{read:()=>0,write:(N,C,$,fe,me)=>fe}),H.mkdev("/dev/null",H.makedev(1,3)),Dn.register(H.makedev(5,0),Dn.default_tty_ops),Dn.register(H.makedev(6,0),Dn.default_tty1_ops),H.mkdev("/dev/tty",H.makedev(5,0)),H.mkdev("/dev/tty1",H.makedev(6,0));var g=new Uint8Array(1024),y=0,S=()=>(y===0&&(y=Ae(g).byteLength),g[--y]);H.createDevice("/dev","random",S),H.createDevice("/dev","urandom",S),H.mkdir("/dev/shm"),H.mkdir("/dev/shm/tmp")},createSpecialDirectories(){H.mkdir("/proc");var g=H.mkdir("/proc/self");H.mkdir("/proc/self/fd"),H.mount({mount(){var y=H.createNode(g,"fd",16895,73);return y.node_ops={lookup(S,N){var C=+N,$=H.getStreamChecked(C),fe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>$.path}};return fe.parent=fe,fe}},y}},{},"/proc/self/fd")},createStandardStreams(g,y,S){g?H.createDevice("/dev","stdin",g):H.symlink("/dev/tty","/dev/stdin"),y?H.createDevice("/dev","stdout",null,y):H.symlink("/dev/tty","/dev/stdout"),S?H.createDevice("/dev","stderr",null,S):H.symlink("/dev/tty1","/dev/stderr"),H.open("/dev/stdin",0),H.open("/dev/stdout",1),H.open("/dev/stderr",1)},staticInit(){[44].forEach(g=>{H.genericErrors[g]=new H.ErrnoError(g),H.genericErrors[g].stack="<generic error, no stack>"}),H.nameTable=new Array(4096),H.mount(Kt,{},"/"),H.createDefaultDirectories(),H.createDefaultDevices(),H.createSpecialDirectories(),H.filesystems={MEMFS:Kt}},init(g,y,S){H.initialized=!0,g??=r.stdin,y??=r.stdout,S??=r.stderr,H.createStandardStreams(g,y,S)},quit(){H.initialized=!1;for(var g=0;g<H.streams.length;g++){var y=H.streams[g];y&&H.close(y)}},findObject(g,y){var S=H.analyzePath(g,y);return S.exists?S.object:null},analyzePath(g,y){try{var S=H.lookupPath(g,{follow:!y});g=S.path}catch{}var N={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var S=H.lookupPath(g,{parent:!0});N.parentExists=!0,N.parentPath=S.path,N.parentObject=S.node,N.name=ve.basename(g),S=H.lookupPath(g,{follow:!y}),N.exists=!0,N.path=S.path,N.object=S.node,N.name=S.node.name,N.isRoot=S.path==="/"}catch(C){N.error=C.errno}return N},createPath(g,y,S,N){g=typeof g=="string"?g:H.getPath(g);for(var C=y.split("/").reverse();C.length;){var $=C.pop();if($){var fe=ve.join2(g,$);try{H.mkdir(fe)}catch{}g=fe}}return fe},createFile(g,y,S,N,C){var $=ve.join2(typeof g=="string"?g:H.getPath(g),y),fe=As(N,C);return H.create($,fe)},createDataFile(g,y,S,N,C,$){var fe=y;g&&(g=typeof g=="string"?g:H.getPath(g),fe=y?ve.join2(g,y):g);var me=As(N,C),Qe=H.create(fe,me);if(S){if(typeof S=="string"){for(var tt=new Array(S.length),at=0,mt=S.length;at<mt;++at)tt[at]=S.charCodeAt(at);S=tt}H.chmod(Qe,me|146);var Be=H.open(Qe,577);H.write(Be,S,0,S.length,0,$),H.close(Be),H.chmod(Qe,me)}},createDevice(g,y,S,N){var C=ve.join2(typeof g=="string"?g:H.getPath(g),y),$=As(!!S,!!N);H.createDevice.major||(H.createDevice.major=64);var fe=H.makedev(H.createDevice.major++,0);return H.registerDevice(fe,{open(me){me.seekable=!1},close(me){N?.buffer?.length&&N(10)},read(me,Qe,tt,at,mt){for(var Be=0,Re=0;Re<at;Re++){var et;try{et=S()}catch{throw new H.ErrnoError(29)}if(et===void 0&&Be===0)throw new H.ErrnoError(6);if(et==null)break;Be++,Qe[tt+Re]=et}return Be&&(me.node.timestamp=Date.now()),Be},write(me,Qe,tt,at,mt){for(var Be=0;Be<at;Be++)try{N(Qe[tt+Be])}catch{throw new H.ErrnoError(29)}return at&&(me.node.timestamp=Date.now()),Be}}),H.mkdev(C,$,fe)},forceLoadFile(g){if(g.isDevice||g.isFolder||g.link||g.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{g.contents=E(g.url),g.usedBytes=g.contents.length}catch{throw new H.ErrnoError(29)}},createLazyFile(g,y,S,N,C){class ${constructor(){this.lengthKnown=!1,this.chunks=[]}get(Re){if(!(Re>this.length-1||Re<0)){var et=Re%this.chunkSize,be=Re/this.chunkSize|0;return this.getter(be)[et]}}setDataGetter(Re){this.getter=Re}cacheLength(){var Re=new XMLHttpRequest;if(Re.open("HEAD",S,!1),Re.send(null),!(Re.status>=200&&Re.status<300||Re.status===304))throw new Error("Couldn't load "+S+". Status: "+Re.status);var et=Number(Re.getResponseHeader("Content-length")),be,Ie=(be=Re.getResponseHeader("Accept-Ranges"))&&be==="bytes",Te=(be=Re.getResponseHeader("Content-Encoding"))&&be==="gzip",Je=1024*1024;Ie||(Je=et);var Ge=(Ke,St)=>{if(Ke>St)throw new Error("invalid range ("+Ke+", "+St+") or no bytes requested!");if(St>et-1)throw new Error("only "+et+" bytes available! programmer error!");var Y=new XMLHttpRequest;if(Y.open("GET",S,!1),et!==Je&&Y.setRequestHeader("Range","bytes="+Ke+"-"+St),Y.responseType="arraybuffer",Y.overrideMimeType&&Y.overrideMimeType("text/plain; charset=x-user-defined"),Y.send(null),!(Y.status>=200&&Y.status<300||Y.status===304))throw new Error("Couldn't load "+S+". Status: "+Y.status);return Y.response!==void 0?new Uint8Array(Y.response||[]):pn(Y.responseText||"")},Oe=this;Oe.setDataGetter(Ke=>{var St=Ke*Je,Y=(Ke+1)*Je-1;if(Y=Math.min(Y,et-1),typeof Oe.chunks[Ke]>"u"&&(Oe.chunks[Ke]=Ge(St,Y)),typeof Oe.chunks[Ke]>"u")throw new Error("doXHR failed!");return Oe.chunks[Ke]}),(Te||!et)&&(Je=et=1,et=this.getter(0).length,Je=et,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=et,this._chunkSize=Je,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!c)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var fe=new $,me={isDevice:!1,contents:fe}}else var me={isDevice:!1,url:S};var Qe=H.createFile(g,y,me,N,C);me.contents?Qe.contents=me.contents:me.url&&(Qe.contents=null,Qe.url=me.url),Object.defineProperties(Qe,{usedBytes:{get:function(){return this.contents.length}}});var tt={},at=Object.keys(Qe.stream_ops);at.forEach(Be=>{var Re=Qe.stream_ops[Be];tt[Be]=(...et)=>(H.forceLoadFile(Qe),Re(...et))});function mt(Be,Re,et,be,Ie){var Te=Be.node.contents;if(Ie>=Te.length)return 0;var Je=Math.min(Te.length-Ie,be);if(Te.slice)for(var Ge=0;Ge<Je;Ge++)Re[et+Ge]=Te[Ie+Ge];else for(var Ge=0;Ge<Je;Ge++)Re[et+Ge]=Te.get(Ie+Ge);return Je}return tt.read=(Be,Re,et,be,Ie)=>(H.forceLoadFile(Qe),mt(Be,Re,et,be,Ie)),tt.mmap=(Be,Re,et,be,Ie)=>{H.forceLoadFile(Qe);var Te=Cr(Re);if(!Te)throw new H.ErrnoError(48);return mt(Be,D,Te,Re,et),{ptr:Te,allocated:!0}},Qe.stream_ops=tt,Qe}},dc=(g,y)=>g?Me(L,g,y):"",ln={DEFAULT_POLLMASK:5,calculateAt(g,y,S){if(ve.isAbs(y))return y;var N;if(g===-100)N=H.cwd();else{var C=ln.getStreamFromFD(g);N=C.path}if(y.length==0){if(!S)throw new H.ErrnoError(44);return N}return ve.join2(N,y)},doStat(g,y,S){var N=g(y);P[S>>2]=N.dev,P[S+4>>2]=N.mode,R[S+8>>2]=N.nlink,P[S+12>>2]=N.uid,P[S+16>>2]=N.gid,P[S+20>>2]=N.rdev,M[S+24>>3]=BigInt(N.size),P[S+32>>2]=4096,P[S+36>>2]=N.blocks;var C=N.atime.getTime(),$=N.mtime.getTime(),fe=N.ctime.getTime();return M[S+40>>3]=BigInt(Math.floor(C/1e3)),R[S+48>>2]=C%1e3*1e3*1e3,M[S+56>>3]=BigInt(Math.floor($/1e3)),R[S+64>>2]=$%1e3*1e3*1e3,M[S+72>>3]=BigInt(Math.floor(fe/1e3)),R[S+80>>2]=fe%1e3*1e3*1e3,M[S+88>>3]=BigInt(N.ino),0},doMsync(g,y,S,N,C){if(!H.isFile(y.node.mode))throw new H.ErrnoError(43);if(N&2)return 0;var $=L.slice(g,g+S);H.msync(y,$,C,S,N)},getStreamFromFD(g){var y=H.getStreamChecked(g);return y},varargs:void 0,getStr(g){var y=dc(g);return y}};function fc(g,y){try{return g=ln.getStr(g),H.chmod(g,y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function pc(g,y,S,N){try{if(y=ln.getStr(y),y=ln.calculateAt(g,y),S&-8)return-28;var C=H.lookupPath(y,{follow:!0}),$=C.node;if(!$)return-44;var fe="";return S&4&&(fe+="r"),S&2&&(fe+="w"),S&1&&(fe+="x"),fe&&H.nodePermissions($,fe)?-2:0}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function hc(g,y){try{return H.fchmod(g,y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function su(g,y,S){try{return H.fchown(g,y,S),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function la(){var g=P[+ln.varargs>>2];return ln.varargs+=4,g}var Ji=la;function ou(g,y,S){ln.varargs=S;try{var N=ln.getStreamFromFD(g);switch(y){case 0:{var C=la();if(C<0)return-28;for(;H.streams[C];)C++;var $;return $=H.dupStream(N,C),$.fd}case 1:case 2:return 0;case 3:return N.flags;case 4:{var C=la();return N.flags|=C,0}case 12:{var C=Ji(),fe=0;return z[C+fe>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function ua(g,y){try{var S=ln.getStreamFromFD(g);return ln.doStat(H.stat,S.path,y)}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var bf=0x20000000000000,ca=-0x20000000000000,Ps=g=>g<ca||g>bf?NaN:Number(g);function Ua(g,y){y=Ps(y);try{return isNaN(y)?61:(H.ftruncate(g,y),0)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}var Fs=(g,y,S)=>Qt(g,L,y,S);function xf(g,y){try{if(y===0)return-28;var S=H.cwd(),N=Ht(S)+1;return y<N?-68:(Fs(S,g,y),N)}catch(C){if(typeof H>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function _f(g,y,S){ln.varargs=S;try{var N=ln.getStreamFromFD(g);switch(y){case 21509:return N.tty?0:-59;case 21505:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tcgets){var C=N.tty.ops.ioctl_tcgets(N),$=Ji();P[$>>2]=C.c_iflag||0,P[$+4>>2]=C.c_oflag||0,P[$+8>>2]=C.c_cflag||0,P[$+12>>2]=C.c_lflag||0;for(var fe=0;fe<32;fe++)D[$+fe+17]=C.c_cc[fe]||0;return 0}return 0}case 21510:case 21511:case 21512:return N.tty?0:-59;case 21506:case 21507:case 21508:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tcsets){for(var $=Ji(),me=P[$>>2],Qe=P[$+4>>2],tt=P[$+8>>2],at=P[$+12>>2],mt=[],fe=0;fe<32;fe++)mt.push(D[$+fe+17]);return N.tty.ops.ioctl_tcsets(N.tty,y,{c_iflag:me,c_oflag:Qe,c_cflag:tt,c_lflag:at,c_cc:mt})}return 0}case 21519:{if(!N.tty)return-59;var $=Ji();return P[$>>2]=0,0}case 21520:return N.tty?-28:-59;case 21531:{var $=Ji();return H.ioctl(N,y,$)}case 21523:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tiocgwinsz){var Be=N.tty.ops.ioctl_tiocgwinsz(N.tty),$=Ji();z[$>>1]=Be[0],z[$+2>>1]=Be[1]}return 0}case 21524:return N.tty?0:-59;case 21515:return N.tty?0:-59;default:return-28}}catch(Re){if(typeof H>"u"||Re.name!=="ErrnoError")throw Re;return-Re.errno}}function mc(g,y){try{return g=ln.getStr(g),ln.doStat(H.lstat,g,y)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Ds(g,y,S){try{return y=ln.getStr(y),y=ln.calculateAt(g,y),y=ve.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),H.mkdir(y,S,0),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function gc(g,y,S,N){try{y=ln.getStr(y);var C=N&256,$=N&4096;return N=N&-6401,y=ln.calculateAt(g,y,$),ln.doStat(C?H.lstat:H.stat,y,S)}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return-fe.errno}}function yc(g,y,S,N){ln.varargs=N;try{y=ln.getStr(y),y=ln.calculateAt(g,y);var C=N?la():0;return H.open(y,S,C).fd}catch($){if(typeof H>"u"||$.name!=="ErrnoError")throw $;return-$.errno}}function wf(g,y,S,N){try{if(y=ln.getStr(y),y=ln.calculateAt(g,y),N<=0)return-28;var C=H.readlink(y),$=Math.min(N,Ht(C)),fe=D[S+$];return Fs(C,S,N+1),D[S+$]=fe,$}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function vc(g){try{return g=ln.getStr(g),H.rmdir(g),0}catch(y){if(typeof H>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function bc(g,y){try{return g=ln.getStr(g),ln.doStat(H.stat,g,y)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function xc(g,y,S){try{return y=ln.getStr(y),y=ln.calculateAt(g,y),S===0?H.unlink(y):S===512?H.rmdir(y):ze("Invalid flags passed to unlinkat"),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var au=g=>R[g>>2]+P[g+4>>2]*0x100000000;function _c(g,y,S,N){try{y=ln.getStr(y),y=ln.calculateAt(g,y,!0);var C=Date.now(),$,fe;if(!S)$=C,fe=C;else{var me=au(S),Qe=P[S+8>>2];Qe==0x3fffffff?$=C:Qe==0x3ffffffe?$=-1:$=me*1e3+Qe/(1e3*1e3),S+=16,me=au(S),Qe=P[S+8>>2],Qe==0x3fffffff?fe=C:Qe==0x3ffffffe?fe=-1:fe=me*1e3+Qe/(1e3*1e3)}return(fe!=-1||$!=-1)&&H.utime(y,$,fe),0}catch(tt){if(typeof H>"u"||tt.name!=="ErrnoError")throw tt;return-tt.errno}}var Sf=1,ur=()=>Sf,Ef=g=>g%4===0&&(g%100!==0||g%400===0),lu=[0,31,60,91,121,152,182,213,244,274,305,335],wc=[0,31,59,90,120,151,181,212,243,273,304,334],Va=g=>{var y=Ef(g.getFullYear()),S=y?lu:wc,N=S[g.getMonth()]+g.getDate()-1;return N};function Nf(g,y){g=Ps(g);var S=new Date(g*1e3);P[y>>2]=S.getSeconds(),P[y+4>>2]=S.getMinutes(),P[y+8>>2]=S.getHours(),P[y+12>>2]=S.getDate(),P[y+16>>2]=S.getMonth(),P[y+20>>2]=S.getFullYear()-1900,P[y+24>>2]=S.getDay();var N=Va(S)|0;P[y+28>>2]=N,P[y+36>>2]=-(S.getTimezoneOffset()*60);var C=new Date(S.getFullYear(),0,1),$=new Date(S.getFullYear(),6,1).getTimezoneOffset(),fe=C.getTimezoneOffset(),me=($!=fe&&S.getTimezoneOffset()==Math.min(fe,$))|0;P[y+32>>2]=me}function uu(g,y,S,N,C,$,fe){C=Ps(C);try{if(isNaN(C))return 61;var me=ln.getStreamFromFD(N),Qe=H.mmap(me,g,C,y,S),tt=Qe.ptr;return P[$>>2]=Qe.allocated,R[fe>>2]=tt,0}catch(at){if(typeof H>"u"||at.name!=="ErrnoError")throw at;return-at.errno}}function Ha(g,y,S,N,C,$){$=Ps($);try{var fe=ln.getStreamFromFD(C);S&2&&ln.doMsync(g,fe,y,N,$)}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}var Yi=(g,y,S,N)=>{var C=new Date().getFullYear(),$=new Date(C,0,1),fe=new Date(C,6,1),me=$.getTimezoneOffset(),Qe=fe.getTimezoneOffset(),tt=Math.max(me,Qe);R[g>>2]=tt*60,P[y>>2]=+(me!=Qe);var at=Re=>{var et=Re>=0?"-":"+",be=Math.abs(Re),Ie=String(Math.floor(be/60)).padStart(2,"0"),Te=String(be%60).padStart(2,"0");return`UTC${et}${Ie}${Te}`},mt=at(me),Be=at(Qe);Qe<me?(Fs(mt,S,17),Fs(Be,N,17)):(Fs(mt,N,17),Fs(Be,S,17))},kf=()=>Date.now(),hi;hi=()=>performance.now();var If=()=>0x80000000,Cf=g=>{var y=q.buffer,S=(g-y.byteLength+65535)/65536;try{return q.grow(S),F(),1}catch{}},Tf=g=>{var y=L.length;g>>>=0;var S=If();if(g>S)return!1;for(var N=1;N<=4;N*=2){var C=y*(1+.2/N);C=Math.min(C,g+0x6000000);var $=Math.min(S,Oi(Math.max(g,C),65536)),fe=Cf($);if(fe)return!0}return!1},jo={},Qa=()=>h||"./this.program",qi=()=>{if(!qi.strings){var g=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:g,_:Qa()};for(var S in jo)jo[S]===void 0?delete y[S]:y[S]=jo[S];var N=[];for(var S in y)N.push(`${S}=${y[S]}`);qi.strings=N}return qi.strings},Ka=(g,y)=>{for(var S=0;S<g.length;++S)D[y++]=g.charCodeAt(S);D[y]=0},ux=(g,y)=>{var S=0;return qi().forEach((N,C)=>{var $=y+S;R[g+C*4>>2]=$,Ka(N,$),S+=N.length+1}),0},cx=(g,y)=>{var S=qi();R[g>>2]=S.length;var N=0;return S.forEach(C=>N+=C.length+1),R[y>>2]=N,0};function Of(g){try{var y=ln.getStreamFromFD(g);return H.close(y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return S.errno}}function Cm(g,y){try{var S=0,N=0,C=0,$=ln.getStreamFromFD(g),fe=$.tty?2:H.isDir($.mode)?3:H.isLink($.mode)?7:4;return D[y]=fe,z[y+2>>1]=C,M[y+8>>3]=BigInt(S),M[y+16>>3]=BigInt(N),0}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return me.errno}}var qf=(g,y,S,N)=>{for(var C=0,$=0;$<S;$++){var fe=R[y>>2],me=R[y+4>>2];y+=8;var Qe=H.read(g,D,fe,me,N);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function cu(g,y,S,N){try{var C=ln.getStreamFromFD(g),$=qf(C,y,S);return R[N>>2]=$,0}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}function dx(g,y,S,N){y=Ps(y);try{if(isNaN(y))return 61;var C=ln.getStreamFromFD(g);return H.llseek(C,y,S),M[N>>3]=BigInt(C.position),C.getdents&&y===0&&S===0&&(C.getdents=null),0}catch($){if(typeof H>"u"||$.name!=="ErrnoError")throw $;return $.errno}}function Rf(g){try{var y=ln.getStreamFromFD(g);return y.stream_ops?.fsync?y.stream_ops.fsync(y):0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return S.errno}}var Ln=(g,y,S,N)=>{for(var C=0,$=0;$<S;$++){var fe=R[y>>2],me=R[y+4>>2];y+=8;var Qe=H.write(g,D,fe,me,N);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function Tm(g,y,S,N){try{var C=ln.getStreamFromFD(g),$=Ln(C,y,S);return R[N>>2]=$,0}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}H.createPreloadedFile=aa,H.staticInit();var jf={__syscall_chmod:fc,__syscall_faccessat:pc,__syscall_fchmod:hc,__syscall_fchown32:su,__syscall_fcntl64:ou,__syscall_fstat64:ua,__syscall_ftruncate64:Ua,__syscall_getcwd:xf,__syscall_ioctl:_f,__syscall_lstat64:mc,__syscall_mkdirat:Ds,__syscall_newfstatat:gc,__syscall_openat:yc,__syscall_readlinkat:wf,__syscall_rmdir:vc,__syscall_stat64:bc,__syscall_unlinkat:xc,__syscall_utimensat:_c,_emscripten_get_now_is_monotonic:ur,_localtime_js:Nf,_mmap_js:uu,_munmap_js:Ha,_tzset_js:Yi,emscripten_date_now:kf,emscripten_get_now:hi,emscripten_resize_heap:Tf,environ_get:ux,environ_sizes_get:cx,fd_close:Of,fd_fdstat_get:Cm,fd_read:cu,fd_seek:dx,fd_sync:Rf,fd_write:Tm,memory:q},he=en();r._sqlite3_status64=(g,y,S,N)=>(r._sqlite3_status64=he.sqlite3_status64)(g,y,S,N),r._sqlite3_status=(g,y,S,N)=>(r._sqlite3_status=he.sqlite3_status)(g,y,S,N),r._sqlite3_db_status=(g,y,S,N,C)=>(r._sqlite3_db_status=he.sqlite3_db_status)(g,y,S,N,C),r._sqlite3_msize=g=>(r._sqlite3_msize=he.sqlite3_msize)(g),r._sqlite3_vfs_find=g=>(r._sqlite3_vfs_find=he.sqlite3_vfs_find)(g),r._sqlite3_initialize=()=>(r._sqlite3_initialize=he.sqlite3_initialize)(),r._sqlite3_malloc=g=>(r._sqlite3_malloc=he.sqlite3_malloc)(g),r._sqlite3_free=g=>(r._sqlite3_free=he.sqlite3_free)(g),r._sqlite3_vfs_register=(g,y)=>(r._sqlite3_vfs_register=he.sqlite3_vfs_register)(g,y),r._sqlite3_vfs_unregister=g=>(r._sqlite3_vfs_unregister=he.sqlite3_vfs_unregister)(g),r._sqlite3_malloc64=g=>(r._sqlite3_malloc64=he.sqlite3_malloc64)(g),r._sqlite3_realloc=(g,y)=>(r._sqlite3_realloc=he.sqlite3_realloc)(g,y),r._sqlite3_realloc64=(g,y)=>(r._sqlite3_realloc64=he.sqlite3_realloc64)(g,y),r._sqlite3_value_text=g=>(r._sqlite3_value_text=he.sqlite3_value_text)(g),r._sqlite3_randomness=(g,y)=>(r._sqlite3_randomness=he.sqlite3_randomness)(g,y),r._sqlite3_stricmp=(g,y)=>(r._sqlite3_stricmp=he.sqlite3_stricmp)(g,y),r._sqlite3_strnicmp=(g,y,S)=>(r._sqlite3_strnicmp=he.sqlite3_strnicmp)(g,y,S),r._sqlite3_uri_parameter=(g,y)=>(r._sqlite3_uri_parameter=he.sqlite3_uri_parameter)(g,y),r._sqlite3_uri_boolean=(g,y,S)=>(r._sqlite3_uri_boolean=he.sqlite3_uri_boolean)(g,y,S),r._sqlite3_serialize=(g,y,S,N)=>(r._sqlite3_serialize=he.sqlite3_serialize)(g,y,S,N),r._sqlite3_prepare_v2=(g,y,S,N,C)=>(r._sqlite3_prepare_v2=he.sqlite3_prepare_v2)(g,y,S,N,C),r._sqlite3_step=g=>(r._sqlite3_step=he.sqlite3_step)(g),r._sqlite3_column_int64=(g,y)=>(r._sqlite3_column_int64=he.sqlite3_column_int64)(g,y),r._sqlite3_reset=g=>(r._sqlite3_reset=he.sqlite3_reset)(g),r._sqlite3_exec=(g,y,S,N,C)=>(r._sqlite3_exec=he.sqlite3_exec)(g,y,S,N,C),r._sqlite3_column_int=(g,y)=>(r._sqlite3_column_int=he.sqlite3_column_int)(g,y),r._sqlite3_finalize=g=>(r._sqlite3_finalize=he.sqlite3_finalize)(g),r._sqlite3_file_control=(g,y,S,N)=>(r._sqlite3_file_control=he.sqlite3_file_control)(g,y,S,N),r._sqlite3_column_name=(g,y)=>(r._sqlite3_column_name=he.sqlite3_column_name)(g,y),r._sqlite3_column_text=(g,y)=>(r._sqlite3_column_text=he.sqlite3_column_text)(g,y),r._sqlite3_column_type=(g,y)=>(r._sqlite3_column_type=he.sqlite3_column_type)(g,y),r._sqlite3_errmsg=g=>(r._sqlite3_errmsg=he.sqlite3_errmsg)(g),r._sqlite3_deserialize=(g,y,S,N,C,$)=>(r._sqlite3_deserialize=he.sqlite3_deserialize)(g,y,S,N,C,$),r._sqlite3_clear_bindings=g=>(r._sqlite3_clear_bindings=he.sqlite3_clear_bindings)(g),r._sqlite3_value_blob=g=>(r._sqlite3_value_blob=he.sqlite3_value_blob)(g),r._sqlite3_value_bytes=g=>(r._sqlite3_value_bytes=he.sqlite3_value_bytes)(g),r._sqlite3_value_double=g=>(r._sqlite3_value_double=he.sqlite3_value_double)(g),r._sqlite3_value_int=g=>(r._sqlite3_value_int=he.sqlite3_value_int)(g),r._sqlite3_value_int64=g=>(r._sqlite3_value_int64=he.sqlite3_value_int64)(g),r._sqlite3_value_subtype=g=>(r._sqlite3_value_subtype=he.sqlite3_value_subtype)(g),r._sqlite3_value_pointer=(g,y)=>(r._sqlite3_value_pointer=he.sqlite3_value_pointer)(g,y),r._sqlite3_value_type=g=>(r._sqlite3_value_type=he.sqlite3_value_type)(g),r._sqlite3_value_nochange=g=>(r._sqlite3_value_nochange=he.sqlite3_value_nochange)(g),r._sqlite3_value_frombind=g=>(r._sqlite3_value_frombind=he.sqlite3_value_frombind)(g),r._sqlite3_value_dup=g=>(r._sqlite3_value_dup=he.sqlite3_value_dup)(g),r._sqlite3_value_free=g=>(r._sqlite3_value_free=he.sqlite3_value_free)(g),r._sqlite3_result_blob=(g,y,S,N)=>(r._sqlite3_result_blob=he.sqlite3_result_blob)(g,y,S,N),r._sqlite3_result_error_toobig=g=>(r._sqlite3_result_error_toobig=he.sqlite3_result_error_toobig)(g),r._sqlite3_result_error_nomem=g=>(r._sqlite3_result_error_nomem=he.sqlite3_result_error_nomem)(g),r._sqlite3_result_double=(g,y)=>(r._sqlite3_result_double=he.sqlite3_result_double)(g,y),r._sqlite3_result_error=(g,y,S)=>(r._sqlite3_result_error=he.sqlite3_result_error)(g,y,S),r._sqlite3_result_int=(g,y)=>(r._sqlite3_result_int=he.sqlite3_result_int)(g,y),r._sqlite3_result_int64=(g,y)=>(r._sqlite3_result_int64=he.sqlite3_result_int64)(g,y),r._sqlite3_result_null=g=>(r._sqlite3_result_null=he.sqlite3_result_null)(g),r._sqlite3_result_pointer=(g,y,S,N)=>(r._sqlite3_result_pointer=he.sqlite3_result_pointer)(g,y,S,N),r._sqlite3_result_subtype=(g,y)=>(r._sqlite3_result_subtype=he.sqlite3_result_subtype)(g,y),r._sqlite3_result_text=(g,y,S,N)=>(r._sqlite3_result_text=he.sqlite3_result_text)(g,y,S,N),r._sqlite3_result_zeroblob=(g,y)=>(r._sqlite3_result_zeroblob=he.sqlite3_result_zeroblob)(g,y),r._sqlite3_result_zeroblob64=(g,y)=>(r._sqlite3_result_zeroblob64=he.sqlite3_result_zeroblob64)(g,y),r._sqlite3_result_error_code=(g,y)=>(r._sqlite3_result_error_code=he.sqlite3_result_error_code)(g,y),r._sqlite3_user_data=g=>(r._sqlite3_user_data=he.sqlite3_user_data)(g),r._sqlite3_context_db_handle=g=>(r._sqlite3_context_db_handle=he.sqlite3_context_db_handle)(g),r._sqlite3_vtab_nochange=g=>(r._sqlite3_vtab_nochange=he.sqlite3_vtab_nochange)(g),r._sqlite3_vtab_in_first=(g,y)=>(r._sqlite3_vtab_in_first=he.sqlite3_vtab_in_first)(g,y),r._sqlite3_vtab_in_next=(g,y)=>(r._sqlite3_vtab_in_next=he.sqlite3_vtab_in_next)(g,y),r._sqlite3_aggregate_context=(g,y)=>(r._sqlite3_aggregate_context=he.sqlite3_aggregate_context)(g,y),r._sqlite3_get_auxdata=(g,y)=>(r._sqlite3_get_auxdata=he.sqlite3_get_auxdata)(g,y),r._sqlite3_set_auxdata=(g,y,S,N)=>(r._sqlite3_set_auxdata=he.sqlite3_set_auxdata)(g,y,S,N),r._sqlite3_column_count=g=>(r._sqlite3_column_count=he.sqlite3_column_count)(g),r._sqlite3_data_count=g=>(r._sqlite3_data_count=he.sqlite3_data_count)(g),r._sqlite3_column_blob=(g,y)=>(r._sqlite3_column_blob=he.sqlite3_column_blob)(g,y),r._sqlite3_column_bytes=(g,y)=>(r._sqlite3_column_bytes=he.sqlite3_column_bytes)(g,y),r._sqlite3_column_double=(g,y)=>(r._sqlite3_column_double=he.sqlite3_column_double)(g,y),r._sqlite3_column_value=(g,y)=>(r._sqlite3_column_value=he.sqlite3_column_value)(g,y),r._sqlite3_column_decltype=(g,y)=>(r._sqlite3_column_decltype=he.sqlite3_column_decltype)(g,y),r._sqlite3_bind_blob=(g,y,S,N,C)=>(r._sqlite3_bind_blob=he.sqlite3_bind_blob)(g,y,S,N,C),r._sqlite3_bind_double=(g,y,S)=>(r._sqlite3_bind_double=he.sqlite3_bind_double)(g,y,S),r._sqlite3_bind_int=(g,y,S)=>(r._sqlite3_bind_int=he.sqlite3_bind_int)(g,y,S),r._sqlite3_bind_int64=(g,y,S)=>(r._sqlite3_bind_int64=he.sqlite3_bind_int64)(g,y,S),r._sqlite3_bind_null=(g,y)=>(r._sqlite3_bind_null=he.sqlite3_bind_null)(g,y),r._sqlite3_bind_pointer=(g,y,S,N,C)=>(r._sqlite3_bind_pointer=he.sqlite3_bind_pointer)(g,y,S,N,C),r._sqlite3_bind_text=(g,y,S,N,C)=>(r._sqlite3_bind_text=he.sqlite3_bind_text)(g,y,S,N,C),r._sqlite3_bind_parameter_count=g=>(r._sqlite3_bind_parameter_count=he.sqlite3_bind_parameter_count)(g),r._sqlite3_bind_parameter_name=(g,y)=>(r._sqlite3_bind_parameter_name=he.sqlite3_bind_parameter_name)(g,y),r._sqlite3_bind_parameter_index=(g,y)=>(r._sqlite3_bind_parameter_index=he.sqlite3_bind_parameter_index)(g,y),r._sqlite3_db_handle=g=>(r._sqlite3_db_handle=he.sqlite3_db_handle)(g),r._sqlite3_stmt_readonly=g=>(r._sqlite3_stmt_readonly=he.sqlite3_stmt_readonly)(g),r._sqlite3_stmt_isexplain=g=>(r._sqlite3_stmt_isexplain=he.sqlite3_stmt_isexplain)(g),r._sqlite3_stmt_explain=(g,y)=>(r._sqlite3_stmt_explain=he.sqlite3_stmt_explain)(g,y),r._sqlite3_stmt_busy=g=>(r._sqlite3_stmt_busy=he.sqlite3_stmt_busy)(g),r._sqlite3_stmt_status=(g,y,S)=>(r._sqlite3_stmt_status=he.sqlite3_stmt_status)(g,y,S),r._sqlite3_sql=g=>(r._sqlite3_sql=he.sqlite3_sql)(g),r._sqlite3_expanded_sql=g=>(r._sqlite3_expanded_sql=he.sqlite3_expanded_sql)(g),r._sqlite3_preupdate_old=(g,y,S)=>(r._sqlite3_preupdate_old=he.sqlite3_preupdate_old)(g,y,S),r._sqlite3_preupdate_count=g=>(r._sqlite3_preupdate_count=he.sqlite3_preupdate_count)(g),r._sqlite3_preupdate_depth=g=>(r._sqlite3_preupdate_depth=he.sqlite3_preupdate_depth)(g),r._sqlite3_preupdate_blobwrite=g=>(r._sqlite3_preupdate_blobwrite=he.sqlite3_preupdate_blobwrite)(g),r._sqlite3_preupdate_new=(g,y,S)=>(r._sqlite3_preupdate_new=he.sqlite3_preupdate_new)(g,y,S),r._sqlite3_value_numeric_type=g=>(r._sqlite3_value_numeric_type=he.sqlite3_value_numeric_type)(g),r._sqlite3_set_authorizer=(g,y,S)=>(r._sqlite3_set_authorizer=he.sqlite3_set_authorizer)(g,y,S),r._sqlite3_strglob=(g,y)=>(r._sqlite3_strglob=he.sqlite3_strglob)(g,y),r._sqlite3_strlike=(g,y,S)=>(r._sqlite3_strlike=he.sqlite3_strlike)(g,y,S),r._sqlite3_auto_extension=g=>(r._sqlite3_auto_extension=he.sqlite3_auto_extension)(g),r._sqlite3_cancel_auto_extension=g=>(r._sqlite3_cancel_auto_extension=he.sqlite3_cancel_auto_extension)(g),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=he.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(g,y,S,N,C,$)=>(r._sqlite3_prepare_v3=he.sqlite3_prepare_v3)(g,y,S,N,C,$),r._sqlite3_create_module=(g,y,S,N)=>(r._sqlite3_create_module=he.sqlite3_create_module)(g,y,S,N),r._sqlite3_create_module_v2=(g,y,S,N,C)=>(r._sqlite3_create_module_v2=he.sqlite3_create_module_v2)(g,y,S,N,C),r._sqlite3_drop_modules=(g,y)=>(r._sqlite3_drop_modules=he.sqlite3_drop_modules)(g,y),r._sqlite3_declare_vtab=(g,y)=>(r._sqlite3_declare_vtab=he.sqlite3_declare_vtab)(g,y),r._sqlite3_vtab_on_conflict=g=>(r._sqlite3_vtab_on_conflict=he.sqlite3_vtab_on_conflict)(g),r._sqlite3_vtab_collation=(g,y)=>(r._sqlite3_vtab_collation=he.sqlite3_vtab_collation)(g,y),r._sqlite3_vtab_in=(g,y,S)=>(r._sqlite3_vtab_in=he.sqlite3_vtab_in)(g,y,S),r._sqlite3_vtab_rhs_value=(g,y,S)=>(r._sqlite3_vtab_rhs_value=he.sqlite3_vtab_rhs_value)(g,y,S),r._sqlite3_vtab_distinct=g=>(r._sqlite3_vtab_distinct=he.sqlite3_vtab_distinct)(g),r._sqlite3_keyword_name=(g,y,S)=>(r._sqlite3_keyword_name=he.sqlite3_keyword_name)(g,y,S),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=he.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(g,y)=>(r._sqlite3_keyword_check=he.sqlite3_keyword_check)(g,y),r._sqlite3_complete=g=>(r._sqlite3_complete=he.sqlite3_complete)(g),r._sqlite3_libversion=()=>(r._sqlite3_libversion=he.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=he.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=he.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=g=>(r._sqlite3_last_insert_rowid=he.sqlite3_last_insert_rowid)(g),r._sqlite3_set_last_insert_rowid=(g,y)=>(r._sqlite3_set_last_insert_rowid=he.sqlite3_set_last_insert_rowid)(g,y),r._sqlite3_changes64=g=>(r._sqlite3_changes64=he.sqlite3_changes64)(g),r._sqlite3_changes=g=>(r._sqlite3_changes=he.sqlite3_changes)(g),r._sqlite3_total_changes64=g=>(r._sqlite3_total_changes64=he.sqlite3_total_changes64)(g),r._sqlite3_total_changes=g=>(r._sqlite3_total_changes=he.sqlite3_total_changes)(g),r._sqlite3_txn_state=(g,y)=>(r._sqlite3_txn_state=he.sqlite3_txn_state)(g,y),r._sqlite3_close_v2=g=>(r._sqlite3_close_v2=he.sqlite3_close_v2)(g),r._sqlite3_busy_handler=(g,y,S)=>(r._sqlite3_busy_handler=he.sqlite3_busy_handler)(g,y,S),r._sqlite3_progress_handler=(g,y,S,N)=>(r._sqlite3_progress_handler=he.sqlite3_progress_handler)(g,y,S,N),r._sqlite3_busy_timeout=(g,y)=>(r._sqlite3_busy_timeout=he.sqlite3_busy_timeout)(g,y),r._sqlite3_interrupt=g=>(r._sqlite3_interrupt=he.sqlite3_interrupt)(g),r._sqlite3_is_interrupted=g=>(r._sqlite3_is_interrupted=he.sqlite3_is_interrupted)(g),r._sqlite3_create_function=(g,y,S,N,C,$,fe,me)=>(r._sqlite3_create_function=he.sqlite3_create_function)(g,y,S,N,C,$,fe,me),r._sqlite3_create_function_v2=(g,y,S,N,C,$,fe,me,Qe)=>(r._sqlite3_create_function_v2=he.sqlite3_create_function_v2)(g,y,S,N,C,$,fe,me,Qe),r._sqlite3_create_window_function=(g,y,S,N,C,$,fe,me,Qe,tt)=>(r._sqlite3_create_window_function=he.sqlite3_create_window_function)(g,y,S,N,C,$,fe,me,Qe,tt),r._sqlite3_overload_function=(g,y,S)=>(r._sqlite3_overload_function=he.sqlite3_overload_function)(g,y,S),r._sqlite3_trace_v2=(g,y,S,N)=>(r._sqlite3_trace_v2=he.sqlite3_trace_v2)(g,y,S,N),r._sqlite3_commit_hook=(g,y,S)=>(r._sqlite3_commit_hook=he.sqlite3_commit_hook)(g,y,S),r._sqlite3_update_hook=(g,y,S)=>(r._sqlite3_update_hook=he.sqlite3_update_hook)(g,y,S),r._sqlite3_rollback_hook=(g,y,S)=>(r._sqlite3_rollback_hook=he.sqlite3_rollback_hook)(g,y,S),r._sqlite3_preupdate_hook=(g,y,S)=>(r._sqlite3_preupdate_hook=he.sqlite3_preupdate_hook)(g,y,S),r._sqlite3_error_offset=g=>(r._sqlite3_error_offset=he.sqlite3_error_offset)(g),r._sqlite3_errcode=g=>(r._sqlite3_errcode=he.sqlite3_errcode)(g),r._sqlite3_extended_errcode=g=>(r._sqlite3_extended_errcode=he.sqlite3_extended_errcode)(g),r._sqlite3_errstr=g=>(r._sqlite3_errstr=he.sqlite3_errstr)(g),r._sqlite3_limit=(g,y,S)=>(r._sqlite3_limit=he.sqlite3_limit)(g,y,S),r._sqlite3_open=(g,y)=>(r._sqlite3_open=he.sqlite3_open)(g,y),r._sqlite3_open_v2=(g,y,S,N)=>(r._sqlite3_open_v2=he.sqlite3_open_v2)(g,y,S,N),r._sqlite3_create_collation=(g,y,S,N,C)=>(r._sqlite3_create_collation=he.sqlite3_create_collation)(g,y,S,N,C),r._sqlite3_create_collation_v2=(g,y,S,N,C,$)=>(r._sqlite3_create_collation_v2=he.sqlite3_create_collation_v2)(g,y,S,N,C,$),r._sqlite3_collation_needed=(g,y,S)=>(r._sqlite3_collation_needed=he.sqlite3_collation_needed)(g,y,S),r._sqlite3_get_autocommit=g=>(r._sqlite3_get_autocommit=he.sqlite3_get_autocommit)(g),r._sqlite3_table_column_metadata=(g,y,S,N,C,$,fe,me,Qe)=>(r._sqlite3_table_column_metadata=he.sqlite3_table_column_metadata)(g,y,S,N,C,$,fe,me,Qe),r._sqlite3_extended_result_codes=(g,y)=>(r._sqlite3_extended_result_codes=he.sqlite3_extended_result_codes)(g,y),r._sqlite3_uri_key=(g,y)=>(r._sqlite3_uri_key=he.sqlite3_uri_key)(g,y),r._sqlite3_uri_int64=(g,y,S)=>(r._sqlite3_uri_int64=he.sqlite3_uri_int64)(g,y,S),r._sqlite3_db_name=(g,y)=>(r._sqlite3_db_name=he.sqlite3_db_name)(g,y),r._sqlite3_db_filename=(g,y)=>(r._sqlite3_db_filename=he.sqlite3_db_filename)(g,y),r._sqlite3_db_readonly=(g,y)=>(r._sqlite3_db_readonly=he.sqlite3_db_readonly)(g,y),r._sqlite3_compileoption_used=g=>(r._sqlite3_compileoption_used=he.sqlite3_compileoption_used)(g),r._sqlite3_compileoption_get=g=>(r._sqlite3_compileoption_get=he.sqlite3_compileoption_get)(g),r._sqlite3session_diff=(g,y,S,N)=>(r._sqlite3session_diff=he.sqlite3session_diff)(g,y,S,N),r._sqlite3session_attach=(g,y)=>(r._sqlite3session_attach=he.sqlite3session_attach)(g,y),r._sqlite3session_create=(g,y,S)=>(r._sqlite3session_create=he.sqlite3session_create)(g,y,S),r._sqlite3session_delete=g=>(r._sqlite3session_delete=he.sqlite3session_delete)(g),r._sqlite3session_table_filter=(g,y,S)=>(r._sqlite3session_table_filter=he.sqlite3session_table_filter)(g,y,S),r._sqlite3session_changeset=(g,y,S)=>(r._sqlite3session_changeset=he.sqlite3session_changeset)(g,y,S),r._sqlite3session_changeset_strm=(g,y,S)=>(r._sqlite3session_changeset_strm=he.sqlite3session_changeset_strm)(g,y,S),r._sqlite3session_patchset_strm=(g,y,S)=>(r._sqlite3session_patchset_strm=he.sqlite3session_patchset_strm)(g,y,S),r._sqlite3session_patchset=(g,y,S)=>(r._sqlite3session_patchset=he.sqlite3session_patchset)(g,y,S),r._sqlite3session_enable=(g,y)=>(r._sqlite3session_enable=he.sqlite3session_enable)(g,y),r._sqlite3session_indirect=(g,y)=>(r._sqlite3session_indirect=he.sqlite3session_indirect)(g,y),r._sqlite3session_isempty=g=>(r._sqlite3session_isempty=he.sqlite3session_isempty)(g),r._sqlite3session_memory_used=g=>(r._sqlite3session_memory_used=he.sqlite3session_memory_used)(g),r._sqlite3session_object_config=(g,y,S)=>(r._sqlite3session_object_config=he.sqlite3session_object_config)(g,y,S),r._sqlite3session_changeset_size=g=>(r._sqlite3session_changeset_size=he.sqlite3session_changeset_size)(g),r._sqlite3changeset_start=(g,y,S)=>(r._sqlite3changeset_start=he.sqlite3changeset_start)(g,y,S),r._sqlite3changeset_start_v2=(g,y,S,N)=>(r._sqlite3changeset_start_v2=he.sqlite3changeset_start_v2)(g,y,S,N),r._sqlite3changeset_start_strm=(g,y,S)=>(r._sqlite3changeset_start_strm=he.sqlite3changeset_start_strm)(g,y,S),r._sqlite3changeset_start_v2_strm=(g,y,S,N)=>(r._sqlite3changeset_start_v2_strm=he.sqlite3changeset_start_v2_strm)(g,y,S,N),r._sqlite3changeset_next=g=>(r._sqlite3changeset_next=he.sqlite3changeset_next)(g),r._sqlite3changeset_op=(g,y,S,N,C)=>(r._sqlite3changeset_op=he.sqlite3changeset_op)(g,y,S,N,C),r._sqlite3changeset_pk=(g,y,S)=>(r._sqlite3changeset_pk=he.sqlite3changeset_pk)(g,y,S),r._sqlite3changeset_old=(g,y,S)=>(r._sqlite3changeset_old=he.sqlite3changeset_old)(g,y,S),r._sqlite3changeset_new=(g,y,S)=>(r._sqlite3changeset_new=he.sqlite3changeset_new)(g,y,S),r._sqlite3changeset_conflict=(g,y,S)=>(r._sqlite3changeset_conflict=he.sqlite3changeset_conflict)(g,y,S),r._sqlite3changeset_fk_conflicts=(g,y)=>(r._sqlite3changeset_fk_conflicts=he.sqlite3changeset_fk_conflicts)(g,y),r._sqlite3changeset_finalize=g=>(r._sqlite3changeset_finalize=he.sqlite3changeset_finalize)(g),r._sqlite3changeset_invert=(g,y,S,N)=>(r._sqlite3changeset_invert=he.sqlite3changeset_invert)(g,y,S,N),r._sqlite3changeset_invert_strm=(g,y,S,N)=>(r._sqlite3changeset_invert_strm=he.sqlite3changeset_invert_strm)(g,y,S,N),r._sqlite3changeset_apply_v2=(g,y,S,N,C,$,fe,me,Qe)=>(r._sqlite3changeset_apply_v2=he.sqlite3changeset_apply_v2)(g,y,S,N,C,$,fe,me,Qe),r._sqlite3changeset_apply=(g,y,S,N,C,$)=>(r._sqlite3changeset_apply=he.sqlite3changeset_apply)(g,y,S,N,C,$),r._sqlite3changeset_apply_v2_strm=(g,y,S,N,C,$,fe,me,Qe)=>(r._sqlite3changeset_apply_v2_strm=he.sqlite3changeset_apply_v2_strm)(g,y,S,N,C,$,fe,me,Qe),r._sqlite3changeset_apply_strm=(g,y,S,N,C,$)=>(r._sqlite3changeset_apply_strm=he.sqlite3changeset_apply_strm)(g,y,S,N,C,$),r._sqlite3changegroup_new=g=>(r._sqlite3changegroup_new=he.sqlite3changegroup_new)(g),r._sqlite3changegroup_add=(g,y,S)=>(r._sqlite3changegroup_add=he.sqlite3changegroup_add)(g,y,S),r._sqlite3changegroup_output=(g,y,S)=>(r._sqlite3changegroup_output=he.sqlite3changegroup_output)(g,y,S),r._sqlite3changegroup_add_strm=(g,y,S)=>(r._sqlite3changegroup_add_strm=he.sqlite3changegroup_add_strm)(g,y,S),r._sqlite3changegroup_output_strm=(g,y,S)=>(r._sqlite3changegroup_output_strm=he.sqlite3changegroup_output_strm)(g,y,S),r._sqlite3changegroup_delete=g=>(r._sqlite3changegroup_delete=he.sqlite3changegroup_delete)(g),r._sqlite3changeset_concat=(g,y,S,N,C,$)=>(r._sqlite3changeset_concat=he.sqlite3changeset_concat)(g,y,S,N,C,$),r._sqlite3changeset_concat_strm=(g,y,S,N,C,$)=>(r._sqlite3changeset_concat_strm=he.sqlite3changeset_concat_strm)(g,y,S,N,C,$),r._sqlite3session_config=(g,y)=>(r._sqlite3session_config=he.sqlite3session_config)(g,y),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=he.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=he.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=g=>(r._sqlite3__wasm_pstack_restore=he.sqlite3__wasm_pstack_restore)(g),r._sqlite3__wasm_pstack_alloc=g=>(r._sqlite3__wasm_pstack_alloc=he.sqlite3__wasm_pstack_alloc)(g),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=he.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=he.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(g,y,S)=>(r._sqlite3__wasm_db_error=he.sqlite3__wasm_db_error)(g,y,S),r._sqlite3__wasm_test_struct=g=>(r._sqlite3__wasm_test_struct=he.sqlite3__wasm_test_struct)(g),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=he.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(g,y)=>(r._sqlite3__wasm_vfs_unlink=he.sqlite3__wasm_vfs_unlink)(g,y),r._sqlite3__wasm_db_vfs=(g,y)=>(r._sqlite3__wasm_db_vfs=he.sqlite3__wasm_db_vfs)(g,y),r._sqlite3__wasm_db_reset=g=>(r._sqlite3__wasm_db_reset=he.sqlite3__wasm_db_reset)(g),r._sqlite3__wasm_db_export_chunked=(g,y)=>(r._sqlite3__wasm_db_export_chunked=he.sqlite3__wasm_db_export_chunked)(g,y),r._sqlite3__wasm_db_serialize=(g,y,S,N,C)=>(r._sqlite3__wasm_db_serialize=he.sqlite3__wasm_db_serialize)(g,y,S,N,C),r._sqlite3__wasm_vfs_create_file=(g,y,S,N)=>(r._sqlite3__wasm_vfs_create_file=he.sqlite3__wasm_vfs_create_file)(g,y,S,N),r._sqlite3__wasm_posix_create_file=(g,y,S)=>(r._sqlite3__wasm_posix_create_file=he.sqlite3__wasm_posix_create_file)(g,y,S),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(g,y)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=he.sqlite3__wasm_kvvfsMakeKeyOnPstack)(g,y),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=he.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(g,y,S)=>(r._sqlite3__wasm_vtab_config=he.sqlite3__wasm_vtab_config)(g,y,S),r._sqlite3__wasm_db_config_ip=(g,y,S,N)=>(r._sqlite3__wasm_db_config_ip=he.sqlite3__wasm_db_config_ip)(g,y,S,N),r._sqlite3__wasm_db_config_pii=(g,y,S,N,C)=>(r._sqlite3__wasm_db_config_pii=he.sqlite3__wasm_db_config_pii)(g,y,S,N,C),r._sqlite3__wasm_db_config_s=(g,y,S)=>(r._sqlite3__wasm_db_config_s=he.sqlite3__wasm_db_config_s)(g,y,S),r._sqlite3__wasm_config_i=(g,y)=>(r._sqlite3__wasm_config_i=he.sqlite3__wasm_config_i)(g,y),r._sqlite3__wasm_config_ii=(g,y,S)=>(r._sqlite3__wasm_config_ii=he.sqlite3__wasm_config_ii)(g,y,S),r._sqlite3__wasm_config_j=(g,y)=>(r._sqlite3__wasm_config_j=he.sqlite3__wasm_config_j)(g,y),r._sqlite3__wasm_qfmt_token=(g,y)=>(r._sqlite3__wasm_qfmt_token=he.sqlite3__wasm_qfmt_token)(g,y),r._sqlite3__wasm_init_wasmfs=g=>(r._sqlite3__wasm_init_wasmfs=he.sqlite3__wasm_init_wasmfs)(g),r._sqlite3__wasm_test_intptr=g=>(r._sqlite3__wasm_test_intptr=he.sqlite3__wasm_test_intptr)(g),r._sqlite3__wasm_test_voidptr=g=>(r._sqlite3__wasm_test_voidptr=he.sqlite3__wasm_test_voidptr)(g),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=he.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=he.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=g=>(r._sqlite3__wasm_test_int64_times2=he.sqlite3__wasm_test_int64_times2)(g),r._sqlite3__wasm_test_int64_minmax=(g,y)=>(r._sqlite3__wasm_test_int64_minmax=he.sqlite3__wasm_test_int64_minmax)(g,y),r._sqlite3__wasm_test_int64ptr=g=>(r._sqlite3__wasm_test_int64ptr=he.sqlite3__wasm_test_int64ptr)(g),r._sqlite3__wasm_test_stack_overflow=g=>(r._sqlite3__wasm_test_stack_overflow=he.sqlite3__wasm_test_stack_overflow)(g),r._sqlite3__wasm_test_str_hello=g=>(r._sqlite3__wasm_test_str_hello=he.sqlite3__wasm_test_str_hello)(g),r._sqlite3__wasm_SQLTester_strglob=(g,y)=>(r._sqlite3__wasm_SQLTester_strglob=he.sqlite3__wasm_SQLTester_strglob)(g,y),r._malloc=g=>(r._malloc=he.malloc)(g),r._free=g=>(r._free=he.free)(g),r._realloc=(g,y)=>(r._realloc=he.realloc)(g,y);var Af=(g,y)=>(Af=he.emscripten_builtin_memalign)(g,y);r.wasmMemory=q;var du;de=function g(){du||Pf(),du||(de=g)};function Pf(){if(ce>0||(J(),ce>0))return;function g(){du||(du=!0,r.calledRun=!0,!A&&(le(),i(r),r.onRuntimeInitialized?.(),se()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),g()},1)):g()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Pf(),r.postRun||(r.postRun=[]),r.postRun.push(function(g){if(globalThis.sqlite3ApiBootstrap=function y(S=globalThis.sqlite3ApiConfig||y.defaultConfig){if(y.sqlite3)return(y.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),y.sqlite3;const N=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof g<"u"&&g.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},S||{});Object.assign(N,{allocExportName:N.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:N.useStdAlloc?"free":"sqlite3_free",reallocExportName:N.useStdAlloc?"realloc":"sqlite3_realloc"},N),["exports","memory","wasmfsOpfsDir"].forEach(Q=>{typeof N[Q]=="function"&&(N[Q]=N[Q]())}),delete globalThis.sqlite3ApiConfig,delete y.defaultConfig;const C=Object.create(null),$=Object.create(null),fe=Q=>C.sqlite3_js_rc_str&&C.sqlite3_js_rc_str(Q)||"Unknown result code #"+Q,me=Q=>typeof Q=="number"&&Q===(Q|0);class Qe extends Error{constructor(...re){let ie;if(re.length)if(me(re[0]))if(ie=re[0],re.length===1)super(fe(re[0]));else{const Le=fe(ie);typeof re[1]=="object"?super(Le,re[1]):(re[0]=Le+":",super(re.join(" ")))}else re.length===2&&typeof re[1]=="object"?super(...re):super(re.join(" "));this.resultCode=ie||C.SQLITE_ERROR,this.name="SQLite3Error"}}Qe.toss=(...Q)=>{throw new Qe(...Q)};const tt=Qe.toss;N.wasmfsOpfsDir&&!/^\/[^/]+$/.test(N.wasmfsOpfsDir)&&tt("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const at=Q=>typeof Q!="bigint"&&Q===(Q|0)&&Q<=0x7fffffff&&Q>=-0x80000000,mt=function Q(re){return Q._max||(Q._max=BigInt("0x7fffffffffffffff"),Q._min=~Q._max),re>=Q._min&&re<=Q._max},Be=Q=>Q>=-2147483647n-1n&&Q<=2147483647n,Re=function Q(re){return Q._min||(Q._min=Number.MIN_SAFE_INTEGER,Q._max=Number.MAX_SAFE_INTEGER),re>=Q._min&&re<=Q._max},et=Q=>Q&&Q.constructor&&at(Q.constructor.BYTES_PER_ELEMENT)?Q:!1,be=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ie=Q=>Q.buffer instanceof be,Te=(Q,re,ie)=>Ie(Q)?Q.slice(re,ie):Q.subarray(re,ie),Je=Q=>Q&&(Q instanceof Uint8Array||Q instanceof Int8Array||Q instanceof ArrayBuffer),Ge=Q=>Q&&(Q instanceof Uint8Array||Q instanceof Int8Array||Q instanceof ArrayBuffer),Oe=Q=>Je(Q)||tt("Value is not of a supported TypedArray type."),Ke=new TextDecoder("utf-8"),St=function(Q,re,ie){return Ke.decode(Te(Q,re,ie))},Y=function(Q){return Ge(Q)?St(Q instanceof ArrayBuffer?new Uint8Array(Q):Q):Array.isArray(Q)?Q.join(""):($.isPtr(Q)&&(Q=$.cstrToJs(Q)),Q)};class ue extends Error{constructor(...re){re.length===2&&typeof re[1]=="object"?super(...re):re.length?super(re.join(" ")):super("Allocation failed."),this.resultCode=C.SQLITE_NOMEM,this.name="WasmAllocError"}}ue.toss=(...Q)=>{throw new ue(...Q)},Object.assign(C,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(Q,re,ie,Le,it,Ot,Bt,Zt,lt)=>{},sqlite3_create_function:(Q,re,ie,Le,it,Ot,Bt,Zt)=>{},sqlite3_create_window_function:(Q,re,ie,Le,it,Ot,Bt,Zt,lt,we)=>{},sqlite3_prepare_v3:(Q,re,ie,Le,it,Ot)=>{},sqlite3_prepare_v2:(Q,re,ie,Le,it)=>{},sqlite3_exec:(Q,re,ie,Le,it)=>{},sqlite3_randomness:(Q,re)=>{}});const Ee={affirmBindableTypedArray:Oe,flexibleString:Y,bigIntFits32:Be,bigIntFits64:mt,bigIntFitsDouble:Re,isBindableTypedArray:Je,isInt32:at,isSQLableTypedArray:Ge,isTypedArray:et,typedArrayToString:St,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:Ie,toss:function(...Q){throw new Error(Q.join(" "))},toss3:tt,typedArrayPart:Te,affirmDbHeader:function(Q){Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q));const re="SQLite format 3";re.length>Q.byteLength&&tt("Input does not contain an SQLite3 database header.");for(let ie=0;ie<re.length;++ie)re.charCodeAt(ie)!==Q[ie]&&tt("Input does not contain an SQLite3 database header.")},affirmIsDb:function(Q){Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q));const re=Q.byteLength;(re<512||re%512!==0)&&tt("Byte array size",re,"is invalid for an SQLite3 db."),Ee.affirmDbHeader(Q)}};Object.assign($,{ptrSizeof:N.wasmPtrSizeof||4,ptrIR:N.wasmPtrIR||"i32",bigIntEnabled:!!N.bigIntEnabled,exports:N.exports||tt("Missing API config.exports (WASM module exports)."),memory:N.memory||N.exports.memory||tt("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),$.allocFromTypedArray=function(Q){Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),Oe(Q);const re=$.alloc(Q.byteLength||1);return $.heapForSize(Q.constructor).set(Q.byteLength?Q:[0],re),re};{const Q=N.allocExportName,re=N.deallocExportName,ie=N.reallocExportName;for(const Le of[Q,re,ie])$.exports[Le]instanceof Function||tt("Missing required exports[",Le,"] function.");$.alloc=function Le(it){return Le.impl(it)||ue.toss("Failed to allocate",it," bytes.")},$.alloc.impl=$.exports[Q],$.realloc=function Le(it,Ot){const Bt=Le.impl(it,Ot);return Ot?Bt||ue.toss("Failed to reallocate",Ot," bytes."):0},$.realloc.impl=$.exports[ie],$.dealloc=$.exports[re]}$.compileOptionUsed=function Q(re){if(arguments.length){if(Array.isArray(re)){const ie={};return re.forEach(Le=>{ie[Le]=C.sqlite3_compileoption_used(Le)}),ie}else if(typeof re=="object")return Object.keys(re).forEach(ie=>{re[ie]=C.sqlite3_compileoption_used(ie)}),re}else{if(Q._result)return Q._result;Q._opt||(Q._rx=/^([^=]+)=(.+)/,Q._rxInt=/^-?\d+$/,Q._opt=function(Bt,Zt){const lt=Q._rx.exec(Bt);Zt[0]=lt?lt[1]:Bt,Zt[1]=lt?Q._rxInt.test(lt[2])?+lt[2]:lt[2]:!0});const ie={},Le=[0,0];let it=0,Ot;for(;Ot=C.sqlite3_compileoption_get(it++);)Q._opt(Ot,Le),ie[Le[0]]=Le[1];return Q._result=ie}return typeof re=="string"?!!C.sqlite3_compileoption_used(re):!1},$.pstack=Object.assign(Object.create(null),{restore:$.exports.sqlite3__wasm_pstack_restore,alloc:function(Q){return typeof Q=="string"&&!(Q=$.sizeofIR(Q))&&ue.toss("Invalid value for pstack.alloc(",arguments[0],")"),$.exports.sqlite3__wasm_pstack_alloc(Q)||ue.toss("Could not allocate",Q,"bytes from the pstack.")},allocChunks:function(Q,re){typeof re=="string"&&!(re=$.sizeofIR(re))&&ue.toss("Invalid size value for allocChunks(",arguments[1],")");const ie=$.pstack.alloc(Q*re),Le=[];let it=0,Ot=0;for(;it<Q;++it,Ot+=re)Le.push(ie+Ot);return Le},allocPtr:(Q=1,re=!0)=>Q===1?$.pstack.alloc(re?8:$.ptrSizeof):$.pstack.allocChunks(Q,re?8:$.ptrSizeof),call:function(Q){const re=$.pstack.pointer;try{return Q(pe)}finally{$.pstack.restore(re)}}}),Object.defineProperties($.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_remaining}}),C.sqlite3_randomness=(...Q)=>{if(Q.length===1&&Ee.isTypedArray(Q[0])&&Q[0].BYTES_PER_ELEMENT===1){const re=Q[0];if(re.byteLength===0)return $.exports.sqlite3_randomness(0,0),re;const ie=$.pstack.pointer;try{let Le=re.byteLength,it=0;const Ot=$.exports.sqlite3_randomness,Bt=$.heap8u(),Zt=Le<512?Le:512,lt=$.pstack.alloc(Zt);do{const we=Le>Zt?Zt:Le;Ot(we,lt),re.set(Te(Bt,lt,lt+we),it),Le-=we,it+=we}while(Le>0)}catch(Le){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Le)}finally{$.pstack.restore(ie)}return re}$.exports.sqlite3_randomness(...Q)};let st;if(C.sqlite3_wasmfs_opfs_dir=function(){if(st!==void 0)return st;const Q=N.wasmfsOpfsDir;if(!Q||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return st="";try{return Q&&$.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],Q)===0?st=Q:st=""}catch{return st=""}},C.sqlite3_wasmfs_filename_is_persistent=function(Q){const re=C.sqlite3_wasmfs_opfs_dir();return re&&Q?Q.startsWith(re+"/"):!1},C.sqlite3_js_db_uses_vfs=function(Q,re,ie=0){try{const Le=C.sqlite3_vfs_find(re);return Le?Q?Le===C.sqlite3_js_db_vfs(Q,ie)?Le:!1:Le===C.sqlite3_vfs_find(0)?Le:!1:!1}catch{return!1}},C.sqlite3_js_vfs_list=function(){const Q=[];let re=C.sqlite3_vfs_find(0);for(;re;){const ie=new C.sqlite3_vfs(re);Q.push($.cstrToJs(ie.$zName)),re=ie.$pNext,ie.dispose()}return Q},C.sqlite3_js_db_export=function(Q,re=0){Q=$.xWrap.testConvertArg("sqlite3*",Q),Q||tt("Invalid sqlite3* argument."),$.bigIntEnabled||tt("BigInt64 support is not enabled.");const ie=$.scopedAllocPush();let Le;try{const it=$.scopedAlloc(8+$.ptrSizeof),Ot=it+8,Bt=re?$.isPtr(re)?re:$.scopedAllocCString(""+re):0;let Zt=$.exports.sqlite3__wasm_db_serialize(Q,Bt,Ot,it,0);Zt&&tt("Database serialization failed with code",pe.capi.sqlite3_js_rc_str(Zt)),Le=$.peekPtr(Ot);const lt=$.peek(it,"i64");return Zt=lt?$.heap8u().slice(Le,Le+Number(lt)):new Uint8Array,Zt}finally{Le&&$.exports.sqlite3_free(Le),$.scopedAllocPop(ie)}},C.sqlite3_js_db_vfs=(Q,re=0)=>Ee.sqlite3__wasm_db_vfs(Q,re),C.sqlite3_js_aggregate_context=(Q,re)=>C.sqlite3_aggregate_context(Q,re)||(re?ue.toss("Cannot allocate",re,"bytes for sqlite3_aggregate_context()"):0),C.sqlite3_js_posix_create_file=function(Q,re,ie){let Le;re&&$.isPtr(re)?Le=re:re instanceof ArrayBuffer||re instanceof Uint8Array?(Le=$.allocFromTypedArray(re),(arguments.length<3||!Ee.isInt32(ie)||ie<0)&&(ie=re.byteLength)):Qe.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!Ee.isInt32(ie)||ie<0)&&Qe.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const it=Ee.sqlite3__wasm_posix_create_file(Q,Le,ie);it&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(it))}finally{$.dealloc(Le)}},C.sqlite3_js_vfs_create_file=function(Q,re,ie,Le){N.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let it;ie?($.isPtr(ie)?it=ie:ie instanceof ArrayBuffer&&(ie=new Uint8Array(ie)),ie instanceof Uint8Array?(it=$.allocFromTypedArray(ie),(arguments.length<4||!Ee.isInt32(Le)||Le<0)&&(Le=ie.byteLength)):Qe.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):it=0,(!Ee.isInt32(Le)||Le<0)&&($.dealloc(it),Qe.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Ot=Ee.sqlite3__wasm_vfs_create_file(Q,re,it,Le);Ot&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(Ot))}finally{$.dealloc(it)}},C.sqlite3_js_sql_to_string=Q=>{if(typeof Q=="string")return Q;const re=Y(v);return re===v?void 0:re},Ee.isUIThread()){const Q=function(re){const ie=Object.create(null);return ie.prefix="kvvfs-"+re,ie.stores=[],(re==="session"||re==="")&&ie.stores.push(globalThis.sessionStorage),(re==="local"||re==="")&&ie.stores.push(globalThis.localStorage),ie};C.sqlite3_js_kvvfs_clear=function(re=""){let ie=0;const Le=Q(re);return Le.stores.forEach(it=>{const Ot=[];let Bt;for(Bt=0;Bt<it.length;++Bt){const Zt=it.key(Bt);Zt.startsWith(Le.prefix)&&Ot.push(Zt)}Ot.forEach(Zt=>it.removeItem(Zt)),ie+=Ot.length}),ie},C.sqlite3_js_kvvfs_size=function(re=""){let ie=0;const Le=Q(re);return Le.stores.forEach(it=>{let Ot;for(Ot=0;Ot<it.length;++Ot){const Bt=it.key(Ot);Bt.startsWith(Le.prefix)&&(ie+=Bt.length,ie+=it.getItem(Bt).length)}}),ie*2}}C.sqlite3_db_config=function(Q,re,...ie){switch(this.s||(this.s=$.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=$.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=$.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),re){case C.SQLITE_DBCONFIG_ENABLE_FKEY:case C.SQLITE_DBCONFIG_ENABLE_TRIGGER:case C.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case C.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case C.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case C.SQLITE_DBCONFIG_ENABLE_QPSG:case C.SQLITE_DBCONFIG_TRIGGER_EQP:case C.SQLITE_DBCONFIG_RESET_DATABASE:case C.SQLITE_DBCONFIG_DEFENSIVE:case C.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case C.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case C.SQLITE_DBCONFIG_DQS_DML:case C.SQLITE_DBCONFIG_DQS_DDL:case C.SQLITE_DBCONFIG_ENABLE_VIEW:case C.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case C.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case C.SQLITE_DBCONFIG_STMT_SCANSTATUS:case C.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(Q,re,ie[0],ie[1]||0);case C.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(Q,re,ie[0],ie[1],ie[2]);case C.SQLITE_DBCONFIG_MAINDBNAME:return this.s(Q,re,ie[0]);default:return C.SQLITE_MISUSE}}.bind(Object.create(null)),C.sqlite3_value_to_js=function(Q,re=!0){let ie;const Le=C.sqlite3_value_type(Q);switch(Le){case C.SQLITE_INTEGER:$.bigIntEnabled?(ie=C.sqlite3_value_int64(Q),Ee.bigIntFitsDouble(ie)&&(ie=Number(ie))):ie=C.sqlite3_value_double(Q);break;case C.SQLITE_FLOAT:ie=C.sqlite3_value_double(Q);break;case C.SQLITE_TEXT:ie=C.sqlite3_value_text(Q);break;case C.SQLITE_BLOB:{const it=C.sqlite3_value_bytes(Q),Ot=C.sqlite3_value_blob(Q);it&&!Ot&&pe.WasmAllocError.toss("Cannot allocate memory for blob argument of",it,"byte(s)"),ie=it?$.heap8u().slice(Ot,Ot+Number(it)):null;break}case C.SQLITE_NULL:ie=null;break;default:re&&tt(C.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Le),ie=void 0}return ie},C.sqlite3_values_to_js=function(Q,re,ie=!0){let Le;const it=[];for(Le=0;Le<Q;++Le)it.push(C.sqlite3_value_to_js($.peekPtr(re+$.ptrSizeof*Le),ie));return it},C.sqlite3_result_error_js=function(Q,re){re instanceof ue?C.sqlite3_result_error_nomem(Q):C.sqlite3_result_error(Q,""+re,-1)},C.sqlite3_result_js=function(Q,re){if(re instanceof Error){C.sqlite3_result_error_js(Q,re);return}try{switch(typeof re){case"undefined":break;case"boolean":C.sqlite3_result_int(Q,re?1:0);break;case"bigint":Ee.bigIntFits32(re)?C.sqlite3_result_int(Q,Number(re)):Ee.bigIntFitsDouble(re)?C.sqlite3_result_double(Q,Number(re)):$.bigIntEnabled?Ee.bigIntFits64(re)?C.sqlite3_result_int64(Q,re):tt("BigInt value",re.toString(),"is too BigInt for int64."):tt("BigInt value",re.toString(),"is too BigInt.");break;case"number":{let ie;Ee.isInt32(re)?ie=C.sqlite3_result_int:$.bigIntEnabled&&Number.isInteger(re)&&Ee.bigIntFits64(BigInt(re))?ie=C.sqlite3_result_int64:ie=C.sqlite3_result_double,ie(Q,re);break}case"string":{const[ie,Le]=$.allocCString(re,!0);C.sqlite3_result_text(Q,ie,Le,C.SQLITE_WASM_DEALLOC);break}case"object":if(re===null){C.sqlite3_result_null(Q);break}else if(Ee.isBindableTypedArray(re)){const ie=$.allocFromTypedArray(re);C.sqlite3_result_blob(Q,ie,re.byteLength,C.SQLITE_WASM_DEALLOC);break}default:tt("Don't not how to handle this UDF result value:",typeof re,re)}}catch(ie){C.sqlite3_result_error_js(Q,ie)}},C.sqlite3_column_js=function(Q,re,ie=!0){const Le=C.sqlite3_column_value(Q,re);return Le===0?void 0:C.sqlite3_value_to_js(Le,ie)};const ae=function(Q,re,ie){ie=C[ie],this.ptr?$.pokePtr(this.ptr,0):this.ptr=$.allocPtr();const Le=ie(Q,re,this.ptr);if(Le)return Qe.toss(Le,arguments[2]+"() failed with code "+Le);const it=$.peekPtr(this.ptr);return it?C.sqlite3_value_to_js(it,!0):void 0}.bind(Object.create(null));C.sqlite3_preupdate_new_js=(Q,re)=>ae(Q,re,"sqlite3_preupdate_new"),C.sqlite3_preupdate_old_js=(Q,re)=>ae(Q,re,"sqlite3_preupdate_old"),C.sqlite3changeset_new_js=(Q,re)=>ae(Q,re,"sqlite3changeset_new"),C.sqlite3changeset_old_js=(Q,re)=>ae(Q,re,"sqlite3changeset_old");const pe={WasmAllocError:ue,SQLite3Error:Qe,capi:C,util:Ee,wasm:$,config:N,version:Object.create(null),client:void 0,asyncPostInit:async function Q(){if(Q.isReady instanceof Promise)return Q.isReady;let re=y.initializersAsync;delete y.initializersAsync;const ie=async()=>(pe.__isUnderTest||(delete pe.util,delete pe.StructBinder),pe),Le=Ot=>{throw N.error("an async sqlite3 initializer failed:",Ot),Ot};if(!re||!re.length)return Q.isReady=ie().catch(Le);re=re.map(Ot=>Ot instanceof Function?async Bt=>Ot(pe):Ot),re.push(ie);let it=Promise.resolve(pe);for(;re.length;)it=it.then(re.shift());return Q.isReady=it.catch(Le)},scriptInfo:void 0};try{y.initializers.forEach(Q=>{Q(pe)})}catch(Q){throw console.error("sqlite3 bootstrap initializer threw:",Q),Q}return delete y.initializers,y.sqlite3=pe,pe},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(y){y.bigIntEnabled===void 0&&(y.bigIntEnabled=!!globalThis.BigInt64Array);const S=(...Y)=>{throw new Error(Y.join(" "))};y.exports||Object.defineProperty(y,"exports",{enumerable:!0,configurable:!0,get:()=>y.instance&&y.instance.exports});const N=y.pointerIR||"i32",C=y.ptrSizeof=N==="i32"?4:N==="i64"?8:S("Unhandled ptrSizeof:",N),$=Object.create(null);$.heapSize=0,$.memory=null,$.freeFuncIndexes=[],$.scopedAlloc=[],$.utf8Decoder=new TextDecoder,$.utf8Encoder=new TextEncoder("utf-8"),y.sizeofIR=Y=>{switch(Y){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return C;default:return(""+Y).endsWith("*")?C:void 0}};const fe=function(){if(!$.memory)$.memory=y.memory instanceof WebAssembly.Memory?y.memory:y.exports.memory;else if($.heapSize===$.memory.buffer.byteLength)return $;const Y=$.memory.buffer;return $.HEAP8=new Int8Array(Y),$.HEAP8U=new Uint8Array(Y),$.HEAP16=new Int16Array(Y),$.HEAP16U=new Uint16Array(Y),$.HEAP32=new Int32Array(Y),$.HEAP32U=new Uint32Array(Y),y.bigIntEnabled&&($.HEAP64=new BigInt64Array(Y),$.HEAP64U=new BigUint64Array(Y)),$.HEAP32F=new Float32Array(Y),$.HEAP64F=new Float64Array(Y),$.heapSize=Y.byteLength,$};y.heap8=()=>fe().HEAP8,y.heap8u=()=>fe().HEAP8U,y.heap16=()=>fe().HEAP16,y.heap16u=()=>fe().HEAP16U,y.heap32=()=>fe().HEAP32,y.heap32u=()=>fe().HEAP32U,y.heapForSize=function(Y,ue=!0){const Ee=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe();switch(Y){case Int8Array:return Ee.HEAP8;case Uint8Array:return Ee.HEAP8U;case Int16Array:return Ee.HEAP16;case Uint16Array:return Ee.HEAP16U;case Int32Array:return Ee.HEAP32;case Uint32Array:return Ee.HEAP32U;case 8:return ue?Ee.HEAP8U:Ee.HEAP8;case 16:return ue?Ee.HEAP16U:Ee.HEAP16;case 32:return ue?Ee.HEAP32U:Ee.HEAP32;case 64:if(Ee.HEAP64)return ue?Ee.HEAP64U:Ee.HEAP64;break;default:if(y.bigIntEnabled){if(Y===globalThis.BigUint64Array)return Ee.HEAP64U;if(Y===globalThis.BigInt64Array)return Ee.HEAP64;break}}S("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},y.functionTable=function(){return y.exports.__indirect_function_table},y.functionEntry=function(Y){const ue=y.functionTable();return Y<ue.length?ue.get(Y):void 0},y.jsFuncToWasm=function Y(ue,Ee){if(Y._||(Y._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(pe,Q,re){re<128?pe[Q](re):pe[Q](re%128|128,re>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(pe){const Q=Y._.rxJSig.exec(pe);return Q?Q[2]:pe.substr(1)},letterType:pe=>Y._.sigTypes[pe]||S("Invalid signature letter:",pe),pushSigType:(pe,Q)=>pe.push(Y._.typeCodes[Y._.letterType(Q)])}),typeof ue=="string"){const pe=Ee;Ee=ue,ue=pe}const st=Y._.sigParams(Ee),ae=[1,96];Y._.uleb128Encode(ae,"push",st.length);for(const pe of st)Y._.pushSigType(ae,pe);return Ee[0]==="v"?ae.push(0):(ae.push(1),Y._.pushSigType(ae,Ee[0])),Y._.uleb128Encode(ae,"unshift",ae.length),ae.unshift(0,97,115,109,1,0,0,0,1),ae.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(ae)),{e:{f:ue}}).exports.f};const me=function(ue,Ee,st){if(st&&!$.scopedAlloc.length&&S("No scopedAllocPush() scope is active."),typeof ue=="string"){const re=Ee;Ee=ue,ue=re}(typeof Ee!="string"||!(ue instanceof Function))&&S("Invalid arguments: expecting (function,signature) or (signature,function).");const ae=y.functionTable(),pe=ae.length;let Q;for(;$.freeFuncIndexes.length&&(Q=$.freeFuncIndexes.pop(),ae.get(Q));){Q=null;continue}Q||(Q=pe,ae.grow(1));try{return ae.set(Q,ue),st&&$.scopedAlloc[$.scopedAlloc.length-1].push(Q),Q}catch(re){if(!(re instanceof TypeError))throw Q===pe&&$.freeFuncIndexes.push(pe),re}try{const re=y.jsFuncToWasm(ue,Ee);ae.set(Q,re),st&&$.scopedAlloc[$.scopedAlloc.length-1].push(Q)}catch(re){throw Q===pe&&$.freeFuncIndexes.push(pe),re}return Q};y.installFunction=(Y,ue)=>me(Y,ue,!1),y.scopedInstallFunction=(Y,ue)=>me(Y,ue,!0),y.uninstallFunction=function(Y){if(!Y&&Y!==0)return;const ue=$.freeFuncIndexes,Ee=y.functionTable();ue.push(Y);const st=Ee.get(Y);return Ee.set(Y,null),st},y.peek=function(ue,Ee="i8"){Ee.endsWith("*")&&(Ee=N);const st=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe(),ae=Array.isArray(ue)?[]:void 0;let pe;do{switch(ae&&(ue=arguments[0].shift()),Ee){case"i1":case"i8":pe=st.HEAP8[ue>>0];break;case"i16":pe=st.HEAP16[ue>>1];break;case"i32":pe=st.HEAP32[ue>>2];break;case"float":case"f32":pe=st.HEAP32F[ue>>2];break;case"double":case"f64":pe=Number(st.HEAP64F[ue>>3]);break;case"i64":if(y.bigIntEnabled){pe=BigInt(st.HEAP64[ue>>3]);break}default:S("Invalid type for peek():",Ee)}ae&&ae.push(pe)}while(ae&&arguments[0].length);return ae||pe},y.poke=function(Y,ue,Ee="i8"){Ee.endsWith("*")&&(Ee=N);const st=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe();for(const ae of Array.isArray(Y)?Y:[Y])switch(Ee){case"i1":case"i8":st.HEAP8[ae>>0]=ue;continue;case"i16":st.HEAP16[ae>>1]=ue;continue;case"i32":st.HEAP32[ae>>2]=ue;continue;case"float":case"f32":st.HEAP32F[ae>>2]=ue;continue;case"double":case"f64":st.HEAP64F[ae>>3]=ue;continue;case"i64":if(st.HEAP64){st.HEAP64[ae>>3]=BigInt(ue);continue}default:S("Invalid type for poke(): "+Ee)}return this},y.peekPtr=(...Y)=>y.peek(Y.length===1?Y[0]:Y,N),y.pokePtr=(Y,ue=0)=>y.poke(Y,ue,N),y.peek8=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i8"),y.poke8=(Y,ue)=>y.poke(Y,ue,"i8"),y.peek16=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i16"),y.poke16=(Y,ue)=>y.poke(Y,ue,"i16"),y.peek32=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i32"),y.poke32=(Y,ue)=>y.poke(Y,ue,"i32"),y.peek64=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i64"),y.poke64=(Y,ue)=>y.poke(Y,ue,"i64"),y.peek32f=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"f32"),y.poke32f=(Y,ue)=>y.poke(Y,ue,"f32"),y.peek64f=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"f64"),y.poke64f=(Y,ue)=>y.poke(Y,ue,"f64"),y.getMemValue=y.peek,y.getPtrValue=y.peekPtr,y.setMemValue=y.poke,y.setPtrValue=y.pokePtr,y.isPtr32=Y=>typeof Y=="number"&&Y===(Y|0)&&Y>=0,y.isPtr=y.isPtr32,y.cstrlen=function(Y){if(!Y||!y.isPtr(Y))return null;const ue=fe().HEAP8U;let Ee=Y;for(;ue[Ee]!==0;++Ee);return Ee-Y};const Qe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,tt=function(Y,ue,Ee){return $.utf8Decoder.decode(Y.buffer instanceof Qe?Y.slice(ue,Ee):Y.subarray(ue,Ee))};y.cstrToJs=function(Y){const ue=y.cstrlen(Y);return ue?tt(fe().HEAP8U,Y,Y+ue):ue===null?ue:""},y.jstrlen=function(Y){if(typeof Y!="string")return null;const ue=Y.length;let Ee=0;for(let st=0;st<ue;++st){let ae=Y.charCodeAt(st);ae>=55296&&ae<=57343&&(ae=65536+((ae&1023)<<10)|Y.charCodeAt(++st)&1023),ae<=127?++Ee:ae<=2047?Ee+=2:ae<=65535?Ee+=3:Ee+=4}return Ee},y.jstrcpy=function(Y,ue,Ee=0,st=-1,ae=!0){if((!ue||!(ue instanceof Int8Array)&&!(ue instanceof Uint8Array))&&S("jstrcpy() target must be an Int8Array or Uint8Array."),st<0&&(st=ue.length-Ee),!(st>0)||!(Ee>=0))return 0;let pe=0,Q=Y.length;const re=Ee,ie=Ee+st-(ae?1:0);for(;pe<Q&&Ee<ie;++pe){let Le=Y.charCodeAt(pe);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|Y.charCodeAt(++pe)&1023),Le<=127){if(Ee>=ie)break;ue[Ee++]=Le}else if(Le<=2047){if(Ee+1>=ie)break;ue[Ee++]=192|Le>>6,ue[Ee++]=128|Le&63}else if(Le<=65535){if(Ee+2>=ie)break;ue[Ee++]=224|Le>>12,ue[Ee++]=128|Le>>6&63,ue[Ee++]=128|Le&63}else{if(Ee+3>=ie)break;ue[Ee++]=240|Le>>18,ue[Ee++]=128|Le>>12&63,ue[Ee++]=128|Le>>6&63,ue[Ee++]=128|Le&63}}return ae&&(ue[Ee++]=0),Ee-re},y.cstrncpy=function(Y,ue,Ee){if((!Y||!ue)&&S("cstrncpy() does not accept NULL strings."),Ee<0)Ee=y.cstrlen(strPtr)+1;else if(!(Ee>0))return 0;const st=y.heap8u();let ae=0,pe;for(;ae<Ee&&(pe=st[ue+ae]);++ae)st[Y+ae]=pe;return ae<Ee&&(st[Y+ae++]=0),ae},y.jstrToUintArray=(Y,ue=!1)=>$.utf8Encoder.encode(ue?Y+"\0":Y);const at=(Y,ue)=>{(!(Y.alloc instanceof Function)||!(Y.dealloc instanceof Function))&&S("Object is missing alloc() and/or dealloc() function(s)","required by",ue+"().")},mt=function(Y,ue,Ee,st){if(at(y,st),typeof Y!="string")return null;{const ae=$.utf8Encoder.encode(Y),pe=Ee(ae.length+1),Q=fe().HEAP8U;return Q.set(ae,pe),Q[pe+ae.length]=0,ue?[pe,ae.length]:pe}};y.allocCString=(Y,ue=!1)=>mt(Y,ue,y.alloc,"allocCString()"),y.scopedAllocPush=function(){at(y,"scopedAllocPush");const Y=[];return $.scopedAlloc.push(Y),Y},y.scopedAllocPop=function(Y){at(y,"scopedAllocPop");const ue=arguments.length?$.scopedAlloc.indexOf(Y):$.scopedAlloc.length-1;ue<0&&S("Invalid state object for scopedAllocPop()."),arguments.length===0&&(Y=$.scopedAlloc[ue]),$.scopedAlloc.splice(ue,1);for(let Ee;Ee=Y.pop();)y.functionEntry(Ee)?y.uninstallFunction(Ee):y.dealloc(Ee)},y.scopedAlloc=function(Y){$.scopedAlloc.length||S("No scopedAllocPush() scope is active.");const ue=y.alloc(Y);return $.scopedAlloc[$.scopedAlloc.length-1].push(ue),ue},Object.defineProperty(y.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>$.scopedAlloc.length,set:()=>S("The 'active' property is read-only.")}),y.scopedAllocCString=(Y,ue=!1)=>mt(Y,ue,y.scopedAlloc,"scopedAllocCString()");const Be=function(Y,ue){const Ee=y[Y?"scopedAlloc":"alloc"]((ue.length+1)*y.ptrSizeof);let st=0;return ue.forEach(ae=>{y.pokePtr(Ee+y.ptrSizeof*st++,y[Y?"scopedAllocCString":"allocCString"](""+ae))}),y.pokePtr(Ee+y.ptrSizeof*st,0),Ee};y.scopedAllocMainArgv=Y=>Be(!0,Y),y.allocMainArgv=Y=>Be(!1,Y),y.cArgvToJs=(Y,ue)=>{const Ee=[];for(let st=0;st<Y;++st){const ae=y.peekPtr(ue+y.ptrSizeof*st);Ee.push(ae?y.cstrToJs(ae):null)}return Ee},y.scopedAllocCall=function(Y){y.scopedAllocPush();try{return Y()}finally{y.scopedAllocPop()}};const Re=function(Y,ue,Ee){at(y,Ee);const st=ue?"i64":N;let ae=y[Ee](Y*(ue?8:C));if(y.poke(ae,0,st),Y===1)return ae;const pe=[ae];for(let Q=1;Q<Y;++Q)ae+=ue?8:C,pe[Q]=ae,y.poke(ae,0,st);return pe};y.allocPtr=(Y=1,ue=!0)=>Re(Y,ue,"alloc"),y.scopedAllocPtr=(Y=1,ue=!0)=>Re(Y,ue,"scopedAlloc"),y.xGet=function(Y){return y.exports[Y]||S("Cannot find exported symbol:",Y)};const et=(Y,ue)=>S(Y+"() requires",ue,"argument(s).");y.xCall=function(Y,...ue){const Ee=Y instanceof Function?Y:y.xGet(Y);return Ee instanceof Function||S("Exported symbol",Y,"is not a function."),Ee.length!==ue.length&&et(Ee===Y?Ee.name:Y,Ee.length),arguments.length===2&&Array.isArray(arguments[1])?Ee.apply(null,arguments[1]):Ee.apply(null,ue)},$.xWrap=Object.create(null),$.xWrap.convert=Object.create(null),$.xWrap.convert.arg=new Map,$.xWrap.convert.result=new Map;const be=$.xWrap.convert.arg,Ie=$.xWrap.convert.result;y.bigIntEnabled&&be.set("i64",Y=>BigInt(Y));const Te=N==="i32"?Y=>Y|0:Y=>BigInt(Y)|BigInt(0);be.set("i32",Te).set("i16",Y=>(Y|0)&65535).set("i8",Y=>(Y|0)&255).set("f32",Y=>Number(Y).valueOf()).set("float",be.get("f32")).set("f64",be.get("f32")).set("double",be.get("f64")).set("int",be.get("i32")).set("null",Y=>Y).set(null,be.get("null")).set("**",Te).set("*",Te),Ie.set("*",Te).set("pointer",Te).set("number",Y=>Number(Y)).set("void",Y=>{}).set("null",Y=>Y).set(null,Ie.get("null"));{const Y=["i8","i16","i32","int","f32","float","f64","double"];y.bigIntEnabled&&Y.push("i64");const ue=be.get(N);for(const Ee of Y)be.set(Ee+"*",ue),Ie.set(Ee+"*",ue),Ie.set(Ee,be.get(Ee)||S("Missing arg converter:",Ee))}const Je=function(Y){return typeof Y=="string"?y.scopedAllocCString(Y):Y?Te(Y):null};be.set("string",Je).set("utf8",Je).set("pointer",Je),Ie.set("string",Y=>y.cstrToJs(Y)).set("utf8",Ie.get("string")).set("string:dealloc",Y=>{try{return Y?y.cstrToJs(Y):null}finally{y.dealloc(Y)}}).set("utf8:dealloc",Ie.get("string:dealloc")).set("json",Y=>JSON.parse(y.cstrToJs(Y))).set("json:dealloc",Y=>{try{return Y?JSON.parse(y.cstrToJs(Y)):null}finally{y.dealloc(Y)}});const Ge=class{constructor(Y){this.name=Y.name||"unnamed adapter"}convertArg(Y,ue,Ee){S("AbstractArgAdapter must be subclassed.")}};be.FuncPtrAdapter=class Ca extends Ge{constructor(ue){super(ue),be.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",ue),this.name=ue.name||"unnamed",this.signature=ue.signature,ue.contextKey instanceof Function&&(this.contextKey=ue.contextKey,ue.bindScope||(ue.bindScope="context")),this.bindScope=ue.bindScope||S("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Ca.bindScopes.indexOf(ue.bindScope)<0&&S("Invalid options.bindScope ("+ue.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Ca.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=ue.callProxy instanceof Function?ue.callProxy:void 0}contextKey(ue,Ee){return this}contextMap(ue){const Ee=this.__cmap||(this.__cmap=new Map);let st=Ee.get(ue);return st===void 0&&Ee.set(ue,st=[]),st}convertArg(ue,Ee,st){let ae=this.singleton;if(!ae&&this.isContext&&(ae=this.contextMap(this.contextKey(Ee,st))),ae&&ae[0]===ue)return ae[1];if(ue instanceof Function){this.callProxy&&(ue=this.callProxy(ue));const pe=me(ue,this.signature,this.isTransient);if(Ca.debugFuncInstall&&Ca.debugOut("FuncPtrAdapter installed",this,this.contextKey(Ee,st),"@"+pe,ue),ae){if(ae[1]){Ca.debugFuncInstall&&Ca.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+ae[1],ue);try{$.scopedAlloc[$.scopedAlloc.length-1].push(ae[1])}catch{}}ae[0]=ue,ae[1]=pe}return pe}else if(y.isPtr(ue)||ue===null||ue===void 0){if(ae&&ae[1]&&ae[1]!==ue){Ca.debugFuncInstall&&Ca.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+ae[1],ue);try{$.scopedAlloc[$.scopedAlloc.length-1].push(ae[1])}catch{}ae[0]=ae[1]=ue|0}return ue||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},be.FuncPtrAdapter.warnOnUse=!1,be.FuncPtrAdapter.debugFuncInstall=!1,be.FuncPtrAdapter.debugOut=console.debug.bind(console),be.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Oe=Y=>be.get(Y)||S("Argument adapter not found:",Y),Ke=Y=>Ie.get(Y)||S("Result adapter not found:",Y);$.xWrap.convertArg=(Y,...ue)=>Oe(Y)(...ue),$.xWrap.convertArgNoCheck=(Y,...ue)=>be.get(Y)(...ue),$.xWrap.convertResult=(Y,ue)=>Y===null?ue:Y?Ke(Y)(ue):void 0,$.xWrap.convertResultNoCheck=(Y,ue)=>Y===null?ue:Y?Ie.get(Y)(ue):void 0,y.xWrap=function(Y,ue,...Ee){arguments.length===3&&Array.isArray(arguments[2])&&(Ee=arguments[2]),y.isPtr(Y)&&(Y=y.functionEntry(Y)||S("Function pointer not found in WASM function table."));const st=Y instanceof Function,ae=st?Y:y.xGet(Y);if(st&&(Y=ae.name||"unnamed function"),Ee.length!==ae.length&&et(Y,ae.length),ue===null&&ae.length===0)return ae;ue!=null&&Ke(ue);for(const Q of Ee)Q instanceof Ge?be.set(Q,(...re)=>Q.convertArg(...re)):Oe(Q);const pe=$.xWrap;return ae.length===0?(...Q)=>Q.length?et(Y,ae.length):pe.convertResult(ue,ae.call(null)):function(...Q){Q.length!==ae.length&&et(Y,ae.length);const re=y.scopedAllocPush();try{let ie=0;for(;ie<Q.length;++ie)Q[ie]=pe.convertArgNoCheck(Ee[ie],Q[ie],Q,ie);return pe.convertResultNoCheck(ue,ae.apply(null,Q))}finally{y.scopedAllocPop(re)}}};const St=function(Y,ue,Ee,st,ae,pe){if(typeof Ee=="string"){if(ue===1)return pe.get(Ee);if(ue===2){if(st)st instanceof Function||S(ae,"requires a function argument.");else return delete pe.get(Ee),Y;return pe.set(Ee,st),Y}}S("Invalid arguments to",ae)};return y.xWrap.resultAdapter=function Y(ue,Ee){return St(Y,arguments.length,ue,Ee,"resultAdapter()",Ie)},y.xWrap.argAdapter=function Y(ue,Ee){return St(Y,arguments.length,ue,Ee,"argAdapter()",be)},y.xWrap.FuncPtrAdapter=be.FuncPtrAdapter,y.xCallWrapped=function(Y,ue,Ee,...st){return Array.isArray(arguments[3])&&(st=arguments[3]),y.xWrap(Y,ue,Ee||[]).apply(null,st||[])},y.xWrap.testConvertArg=$.xWrap.convertArg,y.xWrap.testConvertResult=$.xWrap.convertResult,y},globalThis.WhWasmUtilInstaller.yawl=function(y){const S=()=>fetch(y.uri,{credentials:"same-origin"}),N=this,C=function(fe){if(y.wasmUtilTarget){const me=(...tt)=>{throw new Error(tt.join(" "))},Qe=y.wasmUtilTarget;if(Qe.module=fe.module,Qe.instance=fe.instance,Qe.instance.exports.memory||(Qe.memory=y.imports&&y.imports.env&&y.imports.env.memory||me("Missing 'memory' object!")),!Qe.alloc&&fe.instance.exports.malloc){const tt=fe.instance.exports;Qe.alloc=function(at){return tt.malloc(at)||me("Allocation of",at,"bytes failed.")},Qe.dealloc=function(at){tt.free(at)}}N(Qe)}return y.onload&&y.onload(fe,y),fe};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(S(),y.imports||{}).then(C)}:function(){return S().then(me=>me.arrayBuffer()).then(me=>WebAssembly.instantiate(me,y.imports||{})).then(C)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function y(S){const N=(...We)=>{throw new Error(We.join(" "))};!(S.heap instanceof WebAssembly.Memory)&&!(S.heap instanceof Function)&&N("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(We){S[We]instanceof Function||N("Config option '"+We+"' must be a function.")});const C=y,$=S.heap instanceof Function?S.heap:()=>new Uint8Array(S.heap.buffer),fe=S.alloc,me=S.dealloc,Qe=S.log||console.log.bind(console),tt=S.memberPrefix||"",at=S.memberSuffix||"",mt=S.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!S.bigIntEnabled,Be=globalThis.BigInt,Re=globalThis.BigInt64Array,et=S.ptrSizeof||4,be=S.ptrIR||"i32";C.debugFlags||(C.__makeDebugFlags=function(We=null){We&&We.__flags&&(We=We.__flags);const vt=function _t(kt){return arguments.length===0?_t.__flags:(kt<0?(delete _t.__flags.getter,delete _t.__flags.setter,delete _t.__flags.alloc,delete _t.__flags.dealloc):(_t.__flags.getter=(1&kt)!==0,_t.__flags.setter=(2&kt)!==0,_t.__flags.alloc=(4&kt)!==0,_t.__flags.dealloc=(8&kt)!==0),_t._flags)};return Object.defineProperty(vt,"__flags",{iterable:!1,writable:!1,value:Object.create(We)}),We||vt(0),vt},C.debugFlags=C.__makeDebugFlags());const Ie=function(){const We=new ArrayBuffer(2);return new DataView(We).setInt16(0,256,!0),new Int16Array(We)[0]===256}(),Te=We=>We[1]==="(",Je=We=>We==="P",Ge=We=>Te(We)?"p":We[0],Oe=function(We){switch(Ge(We)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return be;case"j":return"i64";case"f":return"float";case"d":return"double"}N("Unhandled signature IR:",We)},Ke=Re?()=>!0:()=>N("BigInt64Array is not available."),St=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"getInt32";case 8:return Ke()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Ke()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}N("Unhandled DataView getter for signature:",We)},Y=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"setInt32";case 8:return Ke()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Ke()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}N("Unhandled DataView setter for signature:",We)},ue=function(We){switch(Ge(We)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Ke()&&Be;case"p":case"P":case"s":switch(et){case 4:return Number;case 8:return Ke()&&Be}break}N("Unhandled DataView set wrapper for signature:",We)},Ee=(We,vt)=>We+"::"+vt,st=function(We,vt){return()=>N(Ee(We,vt),"is read-only.")},ae=new WeakMap,pe="(pointer-is-external)",Q=function(We,vt,_t){if(_t||(_t=ae.get(vt)),_t){if(ae.delete(vt),Array.isArray(vt.ondispose)){let kt;for(;kt=vt.ondispose.shift();)try{kt instanceof Function?kt.call(vt):kt instanceof $t?kt.dispose():typeof kt=="number"&&me(kt)}catch(yn){console.warn("ondispose() for",We.structName,"@",_t,"threw. NOT propagating it.",yn)}}else if(vt.ondispose instanceof Function)try{vt.ondispose()}catch(kt){console.warn("ondispose() for",We.structName,"@",_t,"threw. NOT propagating it.",kt)}delete vt.ondispose,We.debugFlags.__flags.dealloc&&Qe("debug.dealloc:",vt[pe]?"EXTERNAL":"",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+_t),vt[pe]||me(_t)}},re=We=>({configurable:!1,writable:!1,iterable:!1,value:We}),ie=function(We,vt,_t){let kt=!_t;_t?Object.defineProperty(vt,pe,re(_t)):(_t=fe(We.structInfo.sizeof),_t||N("Allocation of",We.structName,"structure failed."));try{We.debugFlags.__flags.alloc&&Qe("debug.alloc:",kt?"":"EXTERNAL",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+_t),kt&&$().fill(0,_t,_t+We.structInfo.sizeof),ae.set(vt,_t)}catch(yn){throw Q(We,vt,_t),yn}},Le=function(){const We=this.pointer;return We?new Uint8Array($().slice(We,We+this.structInfo.sizeof)):null},Ot=re(We=>tt+We+at),Bt=function(We,vt,_t=!0){let kt=We.members[vt];if(!kt&&(tt||at)){for(const yn of Object.values(We.members))if(yn.key===vt){kt=yn;break}!kt&&_t&&N(Ee(We.name,vt),"is not a mapped struct member.")}return kt},Zt=function We(vt,_t,kt=!1){We._||(We._=Hn=>Hn.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const yn=Bt(vt.structInfo,_t,!0);return kt?We._(yn.signature):yn.signature},lt={configurable:!1,enumerable:!1,get:function(){return ae.get(this)},set:()=>N("Cannot assign the 'pointer' property of a struct.")},we=re(function(){const We=[];for(const vt of Object.keys(this.structInfo.members))We.push(this.memberKey(vt));return We}),Pe=new TextDecoder("utf-8"),ot=new TextEncoder,pt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ft=function(We,vt,_t){return Pe.decode(We.buffer instanceof pt?We.slice(vt,_t):We.subarray(vt,_t))},Jt=function(We,vt,_t=!1){const kt=Bt(We.structInfo,vt,_t);return kt&&kt.signature.length===1&&kt.signature[0]==="s"?kt:!1},je=function(We){We.signature!=="s"&&N("Invalid member type signature for C-string value:",JSON.stringify(We))},nt=function(vt,_t){const kt=Bt(vt.structInfo,_t,!0);je(kt);const yn=vt[kt.key];if(!yn)return null;let Hn=yn;const Bn=$();for(;Bn[Hn]!==0;++Hn);return yn===Hn?"":Ft(Bn,yn,Hn)},dt=function(We,...vt){We.ondispose?Array.isArray(We.ondispose)||(We.ondispose=[We.ondispose]):We.ondispose=[],We.ondispose.push(...vt)},Nt=function(We){const vt=ot.encode(We),_t=fe(vt.length+1);_t||N("Allocation error while duplicating string:",We);const kt=$();return kt.set(vt,_t),kt[_t+vt.length]=0,_t},xt=function(We,vt,_t){const kt=Bt(We.structInfo,vt,!0);je(kt);const yn=Nt(_t);return We[kt.key]=yn,dt(We,yn),We},$t=function(vt,_t){arguments[2]!==re&&N("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:re(vt),structInfo:re(_t)})};$t.prototype=Object.create(null,{dispose:re(function(){Q(this.constructor,this)}),lookupMember:re(function(We,vt=!0){return Bt(this.structInfo,We,vt)}),memberToJsString:re(function(We){return nt(this,We)}),memberIsString:re(function(We,vt=!0){return Jt(this,We,vt)}),memberKey:Ot,memberKeys:we,memberSignature:re(function(We,vt=!1){return Zt(this,We,vt)}),memoryDump:re(Le),pointer:lt,setMemberCString:re(function(We,vt){return xt(this,We,vt)})}),Object.assign($t.prototype,{addOnDispose:function(...We){return dt(this,...We),this}}),Object.defineProperties($t,{allocCString:re(Nt),isA:re(We=>We instanceof $t),hasExternalPointer:re(We=>We instanceof $t&&!!We[pe]),memberKey:Ot});const hn=We=>Number.isFinite(We)||We instanceof(Be||Number),qt=function We(vt,_t,kt){if(!We._){We._={getters:{},setters:{},sw:{}};const oi=["i","c","C","p","P","s","f","d","v()"];mt&&oi.push("j"),oi.forEach(function(Ls){We._.getters[Ls]=St(Ls),We._.setters[Ls]=Y(Ls),We._.sw[Ls]=ue(Ls)});const fx=/^[ipPsjfdcC]$/,px=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;We.sigCheck=function(Ls,hx,Om,Ff){Object.prototype.hasOwnProperty.call(Ls,Om)&&N(Ls.structName,"already has a property named",Om+"."),fx.test(Ff)||px.test(Ff)||N("Malformed signature for",Ee(Ls.structName,hx)+":",Ff)}}const yn=vt.memberKey(_t);We.sigCheck(vt.prototype,_t,yn,kt.signature),kt.key=yn,kt.name=_t;const Hn=Ge(kt.signature),Bn=Ee(vt.prototype.structName,yn),Un=vt.prototype.debugFlags.__flags,da=Object.create(null);da.configurable=!1,da.enumerable=!1,da.get=function(){Un.getter&&Qe("debug.getter:",We._.getters[Hn],"for",Oe(Hn),Bn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof);let oi=new DataView($().buffer,this.pointer+kt.offset,kt.sizeof)[We._.getters[Hn]](0,Ie);return Un.getter&&Qe("debug.getter:",Bn,"result =",oi),oi},kt.readOnly?da.set=st(vt.prototype.structName,yn):da.set=function(oi){if(Un.setter&&Qe("debug.setter:",We._.setters[Hn],"for",Oe(Hn),Bn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof,oi),this.pointer||N("Cannot set struct property on disposed instance."),oi===null)oi=0;else for(;!hn(oi);){if(Je(kt.signature)&&oi instanceof $t){oi=oi.pointer||0,Un.setter&&Qe("debug.setter:",Bn,"resolved to",oi);break}N("Invalid value for pointer-type",Bn+".")}new DataView($().buffer,this.pointer+kt.offset,kt.sizeof)[We._.setters[Hn]](0,We._.sw[Hn](oi),Ie)},Object.defineProperty(vt.prototype,yn,da)},Tr=function We(vt,_t){arguments.length===1?(_t=vt,vt=_t.name):_t.name||(_t.name=vt),vt||N("Struct name is required.");let kt=!1;Object.keys(_t.members).forEach(Bn=>{const Un=_t.members[Bn];Un.sizeof?Un.sizeof===1?Un.signature==="c"||Un.signature==="C"||N("Unexpected sizeof==1 member",Ee(_t.name,Bn),"with signature",Un.signature):(Un.sizeof%4!==0&&(console.warn("Invalid struct member description =",Un,"from",_t),N(vt,"member",Bn,"sizeof is not aligned. sizeof="+Un.sizeof)),Un.offset%4!==0&&(console.warn("Invalid struct member description =",Un,"from",_t),N(vt,"member",Bn,"offset is not aligned. offset="+Un.offset))):N(vt,"member",Bn,"is missing sizeof."),(!kt||kt.offset<Un.offset)&&(kt=Un)}),kt?_t.sizeof<kt.offset+kt.sizeof&&N("Invalid struct config:",vt,"max member offset ("+kt.offset+") ","extends past end of struct (sizeof="+_t.sizeof+")."):N("No member property descriptions found.");const yn=re(C.__makeDebugFlags(We.debugFlags)),Hn=function Bn(Un){this instanceof Bn?arguments.length?((Un!==(Un|0)||Un<=0)&&N("Invalid pointer value for",vt,"constructor."),ie(Bn,this,Un)):ie(Bn,this):N("The",vt,"constructor may only be called via 'new'.")};return Object.defineProperties(Hn,{debugFlags:yn,isA:re(Bn=>Bn instanceof Hn),memberKey:Ot,memberKeys:we,methodInfoForKey:re(function(Bn){}),structInfo:re(_t),structName:re(vt)}),Hn.prototype=new $t(vt,_t,re),Object.defineProperties(Hn.prototype,{debugFlags:yn,constructor:re(Hn)}),Object.keys(_t.members).forEach(Bn=>qt(Hn,Bn,_t.members[Bn])),Hn};return Tr.StructType=$t,Tr.config=S,Tr.allocCString=Nt,Tr.debugFlags||(Tr.debugFlags=C.__makeDebugFlags(C.debugFlags)),Tr},globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...be)=>{throw new Error(be.join(" "))};y.SQLite3Error.toss;const N=y.capi,C=y.wasm,$=y.util;if(globalThis.WhWasmUtilInstaller(C),delete globalThis.WhWasmUtilInstaller,C.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new C.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:be=>{let Ie;return(Te,Je,Ge,Oe)=>{try{const Ke=C.cArgvToJs(Je,Ge);return Ie||(Ie=C.cArgvToJs(Je,Oe)),be(Ke,Ie)|0}catch(Ke){return Ke.resultCode||N.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new C.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(be,Ie)=>be[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],C.exports.sqlite3_progress_handler&&C.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(be,Ie)=>be[0]}),"*"]]),C.exports.sqlite3_stmt_explain&&C.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),C.exports.sqlite3_set_authorizer&&C.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(be,Ie)=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe,Ke)=>{try{return Je=Je&&C.cstrToJs(Je),Ge=Ge&&C.cstrToJs(Ge),Oe=Oe&&C.cstrToJs(Oe),Ke=Ke&&C.cstrToJs(Ke),be(Ie,Te,Je,Ge,Oe,Ke)||0}catch(St){return St.resultCode||N.SQLITE_ERROR}}}),"*"]]),C.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:be=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe)=>{be(Ie,Te,C.cstrToJs(Je),C.cstrToJs(Ge),Oe)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],C.bigIntEnabled&&C.exports.sqlite3_declare_vtab&&C.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),C.bigIntEnabled&&C.exports.sqlite3_preupdate_hook&&C.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:be=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe,Ke,St)=>{be(Ie,Te,Je,C.cstrToJs(Ge),C.cstrToJs(Oe),Ke,St)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),C.bigIntEnabled&&C.exports.sqlite3changegroup_add&&C.exports.sqlite3session_create&&C.exports.sqlite3_preupdate_hook){const be={signature:"i(ps)",callProxy:Ie=>(Te,Je)=>{try{return Ie(Te,C.cstrToJs(Je))|0}catch(Ge){return Ge.resultCode||N.SQLITE_ERROR}}};C.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xFilter",...be,contextKey:(Ie,Te)=>Ie[0]}),"*"]])}C.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],y.StructBinder=globalThis.Jaccwabyt({heap:C.heap8u,alloc:C.alloc,dealloc:C.dealloc,bigIntEnabled:C.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const be=C.xWrap.argAdapter("string");C.xWrap.argAdapter("string:flexible",Oe=>be($.flexibleString(Oe))),C.xWrap.argAdapter("string:static",function(Oe){return C.isPtr(Oe)?Oe:(Oe=""+Oe,this[Oe]||(this[Oe]=C.allocCString(Oe)))}.bind(Object.create(null)));const Ie=C.xWrap.argAdapter("*"),Te=function(){};C.xWrap.argAdapter("sqlite3_filename",Ie)("sqlite3_context*",Ie)("sqlite3_value*",Ie)("void*",Ie)("sqlite3_changegroup*",Ie)("sqlite3_changeset_iter*",Ie)("sqlite3_session*",Ie)("sqlite3_stmt*",Oe=>Ie(Oe instanceof(y?.oo1?.Stmt||Te)?Oe.pointer:Oe))("sqlite3*",Oe=>Ie(Oe instanceof(y?.oo1?.DB||Te)?Oe.pointer:Oe))("sqlite3_vfs*",Oe=>typeof Oe=="string"?N.sqlite3_vfs_find(Oe)||y.SQLite3Error.toss(N.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",Oe):Ie(Oe instanceof(N.sqlite3_vfs||Te)?Oe.pointer:Oe)),C.exports.sqlite3_declare_vtab&&C.xWrap.argAdapter("sqlite3_index_info*",Oe=>Ie(Oe instanceof(N.sqlite3_index_info||Te)?Oe.pointer:Oe))("sqlite3_module*",Oe=>Ie(Oe instanceof(N.sqlite3_module||Te)?Oe.pointer:Oe));const Je=C.xWrap.resultAdapter("*");C.xWrap.resultAdapter("sqlite3*",Je)("sqlite3_context*",Je)("sqlite3_stmt*",Je)("sqlite3_value*",Je)("sqlite3_vfs*",Je)("void*",Je),C.exports.sqlite3_step.length===0&&(C.xWrap.doArgcCheck=!1,y.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const Oe of C.bindingSignatures)N[Oe[0]]=C.xWrap.apply(null,Oe);for(const Oe of C.bindingSignatures.wasmInternal)$[Oe[0]]=C.xWrap.apply(null,Oe);const Ge=function(Oe){return()=>S(Oe+"() is unavailable due to lack","of BigInt support in this build.")};for(const Oe of C.bindingSignatures.int64)N[Oe[0]]=C.bigIntEnabled?C.xWrap.apply(null,Oe):Ge(Oe[0]);if(delete C.bindingSignatures,C.exports.sqlite3__wasm_db_error){const Oe=C.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");$.sqlite3__wasm_db_error=function(Ke,St,Y){return St instanceof y.WasmAllocError?(St=N.SQLITE_NOMEM,Y=0):St instanceof Error&&(Y=Y||""+St,St=St.resultCode||N.SQLITE_ERROR),Ke?Oe(Ke,St,Y):St}}else $.sqlite3__wasm_db_error=function(Oe,Ke,St){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Ke}}{const be=C.xCall("sqlite3__wasm_enum_json");be||S("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),C.ctype=JSON.parse(C.cstrToJs(be));const Ie=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];C.bigIntEnabled&&Ie.push("serialize","session","vtab");for(const Ge of Ie)for(const Oe of Object.entries(C.ctype[Ge]))N[Oe[0]]=Oe[1];C.functionEntry(N.SQLITE_WASM_DEALLOC)||S("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+N.SQLITE_WASM_DEALLOC+").");const Te=Object.create(null);for(const Ge of["resultCodes"])for(const Oe of Object.entries(C.ctype[Ge]))Te[Oe[1]]=Oe[0];N.sqlite3_js_rc_str=Ge=>Te[Ge];const Je=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!$.isUIThread(),sqlite3_index_info:!C.bigIntEnabled,sqlite3_index_constraint:!C.bigIntEnabled,sqlite3_index_orderby:!C.bigIntEnabled,sqlite3_index_constraint_usage:!C.bigIntEnabled});for(const Ge of C.ctype.structs)Je[Ge.name]||(N[Ge.name]=y.StructBinder(Ge));if(N.sqlite3_index_info){for(const Ge of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])N.sqlite3_index_info[Ge]=N[Ge],delete N[Ge];N.sqlite3_vtab_config=C.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const fe=(be,Ie,Te)=>$.sqlite3__wasm_db_error(be,N.SQLITE_MISUSE,Ie+"() requires "+Te+" argument"+(Te===1?"":"s")+"."),me=be=>$.sqlite3__wasm_db_error(be,N.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Qe=be=>C.xWrap.argAdapter("sqlite3*")(be),tt=be=>C.isPtr(be)?C.cstrToJs(be):be,at=function(be,Ie){be=Qe(be);let Te=this.dbMap.get(be);if(Ie)!Te&&Ie>0&&this.dbMap.set(be,Te=Object.create(null));else return this.dbMap.delete(be),Te;return Te}.bind(Object.assign(Object.create(null),{dbMap:new Map}));at.addCollation=function(be,Ie){const Te=at(be,1);Te.collation||(Te.collation=new Set),Te.collation.add(tt(Ie).toLowerCase())},at._addUDF=function(be,Ie,Te,Je){Ie=tt(Ie).toLowerCase();let Ge=Je.get(Ie);Ge||Je.set(Ie,Ge=new Set),Ge.add(Te<0?-1:Te)},at.addFunction=function(be,Ie,Te){const Je=at(be,1);Je.udf||(Je.udf=new Map),this._addUDF(be,Ie,Te,Je.udf)},C.exports.sqlite3_create_window_function&&(at.addWindowFunc=function(be,Ie,Te){const Je=at(be,1);Je.wudf||(Je.wudf=new Map),this._addUDF(be,Ie,Te,Je.wudf)}),at.cleanup=function(be){be=Qe(be);const Ie=[be];for(const Ge of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const Oe=C.exports[Ge];if(Oe){Ie.length=Oe.length;try{N[Ge](...Ie)}catch(Ke){y.config.warn("close-time call of",Ge+"(",Ie,") threw:",Ke)}}}const Te=at(be,0);if(!Te)return;if(Te.collation){for(const Ge of Te.collation)try{N.sqlite3_create_collation_v2(be,Ge,N.SQLITE_UTF8,0,0,0)}catch{}delete Te.collation}let Je;for(Je=0;Je<2;++Je){const Ge=Je?Te.wudf:Te.udf;if(!Ge)continue;const Oe=Je?N.sqlite3_create_window_function:N.sqlite3_create_function_v2;for(const Ke of Ge){const St=Ke[0],Y=Ke[1],ue=[be,St,0,N.SQLITE_UTF8,0,0,0,0,0];Je&&ue.push(0);for(const Ee of Y)try{ue[2]=Ee,Oe.apply(null,ue)}catch{}Y.clear()}Ge.clear()}delete Te.udf,delete Te.wudf};{const be=C.xWrap("sqlite3_close_v2","int","sqlite3*");N.sqlite3_close_v2=function(Ie){if(arguments.length!==1)return fe(Ie,"sqlite3_close_v2",1);if(Ie)try{at.cleanup(Ie)}catch{}return be(Ie)}}if(N.sqlite3session_create){const be=C.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);N.sqlite3session_delete=function(Ie){if(arguments.length!==1)return fe(pDb,"sqlite3session_delete",1);Ie&&N.sqlite3session_table_filter(Ie,0,0),be(Ie)}}{const be=(Te,Je)=>"argv["+Je+"]:"+Te[0]+":"+C.cstrToJs(Te[1]).toLowerCase(),Ie=C.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new C.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:be}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:be})]);N.sqlite3_create_collation_v2=function(Te,Je,Ge,Oe,Ke,St){if(arguments.length!==6)return fe(Te,"sqlite3_create_collation_v2",6);if(!(Ge&15))Ge|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Ge&15))return me(Te);try{const Y=Ie(Te,Je,Ge,Oe,Ke,St);return Y===0&&Ke instanceof Function&&at.addCollation(Te,Je),Y}catch(Y){return $.sqlite3__wasm_db_error(Te,Y)}},N.sqlite3_create_collation=(Te,Je,Ge,Oe,Ke)=>arguments.length===5?N.sqlite3_create_collation_v2(Te,Je,Ge,Oe,Ke,0):fe(Te,"sqlite3_create_collation",5)}{const be=function(Ge,Oe){return Ge[0]+":"+(Ge[2]<0?-1:Ge[2])+":"+Oe+":"+C.cstrToJs(Ge[1]).toLowerCase()},Ie=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Oe,Ke,St)=>{try{Ge(Oe,...N.sqlite3_values_to_js(Ke,St))}catch(Y){N.sqlite3_result_error_js(Oe,Y)}}},xFinalAndValue:{signature:"v(p)",contextKey:be,callProxy:Ge=>Oe=>{try{N.sqlite3_result_js(Oe,Ge(Oe))}catch(Ke){N.sqlite3_result_error_js(Oe,Ke)}}},xFunc:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Oe,Ke,St)=>{try{N.sqlite3_result_js(Oe,Ge(Oe,...N.sqlite3_values_to_js(Ke,St)))}catch(Y){N.sqlite3_result_error_js(Oe,Y)}}},xDestroy:{signature:"v(p)",contextKey:be,callProxy:Ge=>Oe=>{try{Ge(Oe)}catch(Ke){console.error("UDF xDestroy method threw:",Ke)}}}}),Te=C.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xFunc",...Ie.xFunc}),new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]),Je=C.exports.sqlite3_create_window_function?C.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xValue",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xInverse",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]):void 0;N.sqlite3_create_function_v2=function Ge(Oe,Ke,St,Y,ue,Ee,st,ae,pe){if(Ge.length!==arguments.length)return fe(Oe,"sqlite3_create_function_v2",Ge.length);if(!(Y&15))Y|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Y&15))return me(Oe);try{const Q=Te(Oe,Ke,St,Y,ue,Ee,st,ae,pe);return Q===0&&(Ee instanceof Function||st instanceof Function||ae instanceof Function||pe instanceof Function)&&at.addFunction(Oe,Ke,St),Q}catch(Q){return console.error("sqlite3_create_function_v2() setup threw:",Q),$.sqlite3__wasm_db_error(Oe,Q,"Creation of UDF threw: "+Q)}},N.sqlite3_create_function=function Ge(Oe,Ke,St,Y,ue,Ee,st,ae){return Ge.length===arguments.length?N.sqlite3_create_function_v2(Oe,Ke,St,Y,ue,Ee,st,ae,0):fe(Oe,"sqlite3_create_function",Ge.length)},Je?N.sqlite3_create_window_function=function Ge(Oe,Ke,St,Y,ue,Ee,st,ae,pe,Q){if(Ge.length!==arguments.length)return fe(Oe,"sqlite3_create_window_function",Ge.length);if(!(Y&15))Y|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Y&15))return me(Oe);try{const re=Je(Oe,Ke,St,Y,ue,Ee,st,ae,pe,Q);return re===0&&(Ee instanceof Function||st instanceof Function||ae instanceof Function||pe instanceof Function||Q instanceof Function)&&at.addWindowFunc(Oe,Ke,St),re}catch(re){return console.error("sqlite3_create_window_function() setup threw:",re),$.sqlite3__wasm_db_error(Oe,re,"Creation of UDF threw: "+re)}}:delete N.sqlite3_create_window_function,N.sqlite3_create_function_v2.udfSetResult=N.sqlite3_create_function.udfSetResult=N.sqlite3_result_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfSetResult=N.sqlite3_result_js),N.sqlite3_create_function_v2.udfConvertArgs=N.sqlite3_create_function.udfConvertArgs=N.sqlite3_values_to_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfConvertArgs=N.sqlite3_values_to_js),N.sqlite3_create_function_v2.udfSetError=N.sqlite3_create_function.udfSetError=N.sqlite3_result_error_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfSetError=N.sqlite3_result_error_js)}{const be=(Te,Je)=>(typeof Te=="string"?Je=-1:$.isSQLableTypedArray(Te)?(Je=Te.byteLength,Te=$.typedArrayToString(Te instanceof ArrayBuffer?new Uint8Array(Te):Te)):Array.isArray(Te)&&(Te=Te.join(""),Je=-1),[Te,Je]),Ie={basic:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};N.sqlite3_prepare_v3=function Te(Je,Ge,Oe,Ke,St,Y){if(Te.length!==arguments.length)return fe(Je,"sqlite3_prepare_v3",Te.length);const[ue,Ee]=be(Ge,Oe);switch(typeof ue){case"string":return Ie.basic(Je,ue,Ee,Ke,St,null);case"number":return Ie.full(Je,ue,Ee,Ke,St,Y);default:return $.sqlite3__wasm_db_error(Je,N.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},N.sqlite3_prepare_v2=function Te(Je,Ge,Oe,Ke,St){return Te.length===arguments.length?N.sqlite3_prepare_v3(Je,Ge,Oe,0,Ke,St):fe(Je,"sqlite3_prepare_v2",Te.length)}}{const be=C.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),Ie=C.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);N.sqlite3_bind_text=function Te(Je,Ge,Oe,Ke,St){if(Te.length!==arguments.length)return fe(N.sqlite3_db_handle(Je),"sqlite3_bind_text",Te.length);if(C.isPtr(Oe)||Oe===null)return be(Je,Ge,Oe,Ke,St);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(pMem)&&(Oe=pMem.join(""));let Y,ue;try{if($.isSQLableTypedArray(Oe))Y=C.allocFromTypedArray(Oe),ue=Oe.byteLength;else if(typeof Oe=="string")[Y,ue]=C.allocCString(Oe);else return $.sqlite3__wasm_db_error(N.sqlite3_db_handle(Je),N.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return be(Je,Ge,Y,ue,N.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(Y),$.sqlite3__wasm_db_error(N.sqlite3_db_handle(Je),Ee)}},N.sqlite3_bind_blob=function Te(Je,Ge,Oe,Ke,St){if(Te.length!==arguments.length)return fe(N.sqlite3_db_handle(Je),"sqlite3_bind_blob",Te.length);if(C.isPtr(Oe)||Oe===null)return Ie(Je,Ge,Oe,Ke,St);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(Oe)&&(Oe=Oe.join(""));let Y,ue;try{if($.isBindableTypedArray(Oe))Y=C.allocFromTypedArray(Oe),ue=Ke>=0?Ke:Oe.byteLength;else if(typeof Oe=="string")[Y,ue]=C.allocCString(Oe);else return $.sqlite3__wasm_db_error(N.sqlite3_db_handle(Je),N.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return Ie(Je,Ge,Y,ue,N.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(Y),$.sqlite3__wasm_db_error(N.sqlite3_db_handle(Je),Ee)}}}N.sqlite3_config=function(be,...Ie){if(arguments.length<2)return N.SQLITE_MISUSE;switch(be){case N.SQLITE_CONFIG_COVERING_INDEX_SCAN:case N.SQLITE_CONFIG_MEMSTATUS:case N.SQLITE_CONFIG_SMALL_MALLOC:case N.SQLITE_CONFIG_SORTERREF_SIZE:case N.SQLITE_CONFIG_STMTJRNL_SPILL:case N.SQLITE_CONFIG_URI:return C.exports.sqlite3__wasm_config_i(be,Ie[0]);case N.SQLITE_CONFIG_LOOKASIDE:return C.exports.sqlite3__wasm_config_ii(be,Ie[0],Ie[1]);case N.SQLITE_CONFIG_MEMDB_MAXSIZE:return C.exports.sqlite3__wasm_config_j(be,Ie[0]);case N.SQLITE_CONFIG_GETMALLOC:case N.SQLITE_CONFIG_GETMUTEX:case N.SQLITE_CONFIG_GETPCACHE2:case N.SQLITE_CONFIG_GETPCACHE:case N.SQLITE_CONFIG_HEAP:case N.SQLITE_CONFIG_LOG:case N.SQLITE_CONFIG_MALLOC:case N.SQLITE_CONFIG_MMAP_SIZE:case N.SQLITE_CONFIG_MULTITHREAD:case N.SQLITE_CONFIG_MUTEX:case N.SQLITE_CONFIG_PAGECACHE:case N.SQLITE_CONFIG_PCACHE2:case N.SQLITE_CONFIG_PCACHE:case N.SQLITE_CONFIG_PCACHE_HDRSZ:case N.SQLITE_CONFIG_PMASZ:case N.SQLITE_CONFIG_SERIALIZED:case N.SQLITE_CONFIG_SINGLETHREAD:case N.SQLITE_CONFIG_SQLLOG:case N.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return N.SQLITE_NOTFOUND}};{const be=new Set;N.sqlite3_auto_extension=function(Ie){if(Ie instanceof Function)Ie=C.installFunction("i(ppp)",Ie);else if(arguments.length!==1||!C.isPtr(Ie))return N.SQLITE_MISUSE;const Te=C.exports.sqlite3_auto_extension(Ie);return Ie!==arguments[0]&&(Te===0?be.add(Ie):C.uninstallFunction(Ie)),Te},N.sqlite3_cancel_auto_extension=function(Ie){return!Ie||arguments.length!==1||!C.isPtr(Ie)?0:C.exports.sqlite3_cancel_auto_extension(Ie)},N.sqlite3_reset_auto_extension=function(){C.exports.sqlite3_reset_auto_extension();for(const Ie of be)C.uninstallFunction(Ie);be.clear()}}const mt=N.sqlite3_vfs_find("kvvfs");if(mt)if($.isUIThread()){const be=new N.sqlite3_kvvfs_methods(C.exports.sqlite3__wasm_kvvfs_methods());delete N.sqlite3_kvvfs_methods;const Ie=C.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,Te=C.pstack,Je=Oe=>C.peek(Oe)===115?sessionStorage:localStorage,Ge={xRead:(Oe,Ke,St,Y)=>{const ue=Te.pointer,Ee=C.scopedAllocPush();try{const st=Ie(Oe,Ke);if(!st)return-3;const ae=C.cstrToJs(st),pe=Je(Oe).getItem(ae);if(!pe)return-1;const Q=pe.length;if(Y<=0)return Q;if(Y===1)return C.poke(St,0),Q;const re=C.scopedAllocCString(pe);return Y>Q+1&&(Y=Q+1),C.heap8u().copyWithin(St,re,re+Y-1),C.poke(St+Y-1,0),Y-1}catch(st){return console.error("kvstorageRead()",st),-2}finally{Te.restore(ue),C.scopedAllocPop(Ee)}},xWrite:(Oe,Ke,St)=>{const Y=Te.pointer;try{const ue=Ie(Oe,Ke);if(!ue)return 1;const Ee=C.cstrToJs(ue);return Je(Oe).setItem(Ee,C.cstrToJs(St)),0}catch(ue){return console.error("kvstorageWrite()",ue),N.SQLITE_IOERR}finally{Te.restore(Y)}},xDelete:(Oe,Ke)=>{const St=Te.pointer;try{const Y=Ie(Oe,Ke);return Y?(Je(Oe).removeItem(C.cstrToJs(Y)),0):1}catch(Y){return console.error("kvstorageDelete()",Y),N.SQLITE_IOERR}finally{Te.restore(St)}}};for(const Oe of Object.keys(Ge))be[be.memberKey(Oe)]=C.installFunction(be.memberSignature(Oe),Ge[Oe])}else N.sqlite3_vfs_unregister(mt);C.xWrap.FuncPtrAdapter.warnOnUse=!0;const Be=y.StructBinder,Re=function be(Ie,Te,Je,Ge=be.installMethodArgcCheck){if(Ie instanceof Be.StructType?!(Je instanceof Function)&&!C.isPtr(Je)&&S("Usage errror: expecting a Function or WASM pointer to one."):S("Usage error: target object is-not-a StructType."),arguments.length===1)return(Y,ue)=>be(Ie,Y,ue,Ge);be.argcProxy||(be.argcProxy=function(Y,ue,Ee,st){return function(...ae){return Ee.length!==arguments.length&&S("Argument mismatch for",Y.structInfo.name+"::"+ue+": Native signature is:",st),Ee.apply(this,ae)}},be.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((Y,ue)=>{if(typeof Y=="number")try{C.uninstallFunction(Y)}catch{}}),delete this.ondispose.__removeFuncList)});const Oe=Ie.memberSignature(Te);Oe.length<2&&S("Member",Te,"does not have a function pointer signature:",Oe);const Ke=Ie.memberKey(Te),St=Ge&&!C.isPtr(Je)?be.argcProxy(Ie,Ke,Je,Oe):Je;if(C.isPtr(St))St&&!C.functionEntry(St)&&S("Pointer",St,"is not a WASM function table entry."),Ie[Ke]=St;else{const Y=C.installFunction(St,Ie.memberSignature(Te,!0));Ie[Ke]=Y,(!Ie.ondispose||!Ie.ondispose.__removeFuncList)&&(Ie.addOnDispose("ondispose.__removeFuncList handler",be.removeFuncList),Ie.ondispose.__removeFuncList=[]),Ie.ondispose.__removeFuncList.push(Ke,Y)}return(Y,ue)=>be(Ie,Y,ue,Ge)};Re.installMethodArgcCheck=!1;const et=function(be,Ie,Te=Re.installMethodArgcCheck){const Je=new Map;for(const Ge of Object.keys(Ie)){const Oe=Ie[Ge],Ke=Je.get(Oe);if(Ke){const St=be.memberKey(Ge);be[St]=be[be.memberKey(Ke)]}else Re(be,Ge,Oe,Te),Je.set(Oe,Ge)}return be};Be.StructType.prototype.installMethod=function(Ie,Te,Je=Re.installMethodArgcCheck){return arguments.length<3&&Ie&&typeof Ie=="object"?et(this,...arguments):Re(this,...arguments)},Be.StructType.prototype.installMethods=function(be,Ie=Re.installMethodArgcCheck){return et(this,be,Ie)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){y.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...ae)=>{throw new y.SQLite3Error(...ae)},N=y.capi,C=y.wasm,$=y.util,fe=new WeakMap,me=new WeakMap,Qe=(ae,pe,Q)=>{const re=Object.getOwnPropertyDescriptor(ae,pe);return re?re.value:Q},tt=function(ae,pe){return pe&&(ae instanceof Re&&(ae=ae.pointer),S(pe,"sqlite3 result code",pe+":",ae?N.sqlite3_errmsg(ae):N.sqlite3_errstr(pe))),arguments[0]},at=C.installFunction("i(ippp)",function(ae,pe,Q,re){N.SQLITE_TRACE_STMT===ae&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+pe+":",C.cstrToJs(re))}.bind({counter:0})),mt=Object.create(null),Be=function ae(...pe){if(!ae._name2vfs){ae._name2vfs=Object.create(null);const we=typeof importScripts=="function"?Pe=>S("The VFS for",Pe,"is only available in the main window thread."):!1;ae._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:we||(()=>"local")},ae._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:we||(()=>"session")}}const Q=ae.normalizeArgs(...pe);let re=Q.filename,ie=Q.vfs,Le=Q.flags;(typeof re!="string"&&typeof re!="number"||typeof Le!="string"||ie&&typeof ie!="string"&&typeof ie!="number")&&(y.config.error("Invalid DB ctor args",Q,arguments),S("Invalid arguments for DB constructor."));let it=typeof re=="number"?C.cstrToJs(re):re;const Ot=ae._name2vfs[it];Ot&&(ie=Ot.vfs,re=it=Ot.filename(it));let Bt,Zt=0;Le.indexOf("c")>=0&&(Zt|=N.SQLITE_OPEN_CREATE|N.SQLITE_OPEN_READWRITE),Le.indexOf("w")>=0&&(Zt|=N.SQLITE_OPEN_READWRITE),Zt===0&&(Zt|=N.SQLITE_OPEN_READONLY),Zt|=N.SQLITE_OPEN_EXRESCODE;const lt=C.pstack.pointer;try{const we=C.pstack.allocPtr();let Pe=N.sqlite3_open_v2(re,we,Zt,ie||0);Bt=C.peekPtr(we),tt(Bt,Pe),N.sqlite3_extended_result_codes(Bt,1),Le.indexOf("t")>=0&&N.sqlite3_trace_v2(Bt,N.SQLITE_TRACE_STMT,at,Bt)}catch(we){throw Bt&&N.sqlite3_close_v2(Bt),we}finally{C.pstack.restore(lt)}this.filename=it,fe.set(this,Bt),me.set(this,Object.create(null));try{const we=N.sqlite3_js_db_vfs(Bt)||S("Internal error: cannot get VFS for new db handle."),Pe=mt[we];Pe&&(Pe instanceof Function?Pe(this,y):tt(Bt,N.sqlite3_exec(Bt,Pe,0,0,0)))}catch(we){throw this.close(),we}};Be.setVfsPostOpenCallback=function(ae,pe){pe instanceof Function||S("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),mt[ae]=pe},Be.normalizeArgs=function(ae=":memory:",pe="c",Q=null){const re={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(re,arguments[0]),re.flags===void 0&&(re.flags="c"),re.vfs===void 0&&(re.vfs=null),re.filename===void 0&&(re.filename=":memory:")):(re.filename=ae,re.flags=pe,re.vfs=Q),re};const Re=function(...ae){Be.apply(this,ae)};Re.dbCtorHelper=Be;const et={null:1,number:2,string:3,boolean:4,blob:5};et.undefined==et.null,C.bigIntEnabled&&(et.bigint=et.number);const be=function(){et!==arguments[2]&&S(N.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],fe.set(this,arguments[1]),this.parameterCount=N.sqlite3_bind_parameter_count(this.pointer)},Ie=function(ae){return ae.pointer||S("DB has been closed."),ae},Te=function(ae,pe){return(pe!==(pe|0)||pe<0||pe>=ae.columnCount)&&S("Column index",pe,"is out of range."),ae},Je=function(ae,pe){const Q=Object.create(null);switch(Q.opt=Object.create(null),pe.length){case 1:typeof pe[0]=="string"||$.isSQLableTypedArray(pe[0])||Array.isArray(pe[0])?Q.sql=pe[0]:pe[0]&&typeof pe[0]=="object"&&(Q.opt=pe[0],Q.sql=Q.opt.sql);break;case 2:Q.sql=pe[0],Q.opt=pe[1];break;default:S("Invalid argument count for exec().")}Q.sql=$.flexibleString(Q.sql),typeof Q.sql!="string"&&S("Missing SQL argument or unsupported SQL value type.");const re=Q.opt;switch(re.returnValue){case"resultRows":re.resultRows||(re.resultRows=[]),Q.returnVal=()=>re.resultRows;break;case"saveSql":re.saveSql||(re.saveSql=[]),Q.returnVal=()=>re.saveSql;break;case void 0:case"this":Q.returnVal=()=>ae;break;default:S("Invalid returnValue value:",re.returnValue)}if(!re.callback&&!re.returnValue&&re.rowMode!==void 0&&(re.resultRows||(re.resultRows=[]),Q.returnVal=()=>re.resultRows),re.callback||re.resultRows)switch(re.rowMode===void 0?"array":re.rowMode){case"object":Q.cbArg=(ie,Le)=>{Le.columnNames||(Le.columnNames=ie.getColumnNames([]));const it=ie.get([]),Ot=Object.create(null);for(const Bt in Le.columnNames)Ot[Le.columnNames[Bt]]=it[Bt];return Ot};break;case"array":Q.cbArg=ie=>ie.get([]);break;case"stmt":Array.isArray(re.resultRows)&&S("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),Q.cbArg=ie=>ie;break;default:if($.isInt32(re.rowMode)){Q.cbArg=ie=>ie.get(re.rowMode);break}else if(typeof re.rowMode=="string"&&re.rowMode.length>1&&re.rowMode[0]==="$"){const ie=re.rowMode.substr(1);Q.cbArg=Le=>{const it=Le.get(Object.create(null))[ie];return it===void 0?S(N.SQLITE_NOTFOUND,"exec(): unknown result column:",ie):it};break}S("Invalid rowMode:",re.rowMode)}return Q},Ge=(ae,pe,Q,...re)=>{const ie=ae.prepare(pe);try{const Le=ie.bind(Q).step()?ie.get(...re):void 0;return ie.reset(),Le}finally{ie.finalize()}},Oe=(ae,pe,Q,re)=>ae.exec({sql:pe,bind:Q,rowMode:re,returnValue:"resultRows"});Re.checkRc=(ae,pe)=>tt(ae,pe),Re.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return Ie(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const ae=this.pointer;if(Object.keys(me.get(this)).forEach((pe,Q)=>{if(Q&&Q.pointer)try{Q.finalize()}catch{}}),fe.delete(this),me.delete(this),N.sqlite3_close_v2(ae),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(ae=!1,pe=!1){const Q=Ie(this).pointer;return ae?pe?N.sqlite3_total_changes64(Q):N.sqlite3_total_changes(Q):pe?N.sqlite3_changes64(Q):N.sqlite3_changes(Q)},dbFilename:function(ae="main"){return N.sqlite3_db_filename(Ie(this).pointer,ae)},dbName:function(ae=0){return N.sqlite3_db_name(Ie(this).pointer,ae)},dbVfsName:function(ae=0){let pe;const Q=N.sqlite3_js_db_vfs(Ie(this).pointer,ae);if(Q){const re=new N.sqlite3_vfs(Q);try{pe=C.cstrToJs(re.$zName)}finally{re.dispose()}}return pe},prepare:function(ae){Ie(this);const pe=C.pstack.pointer;let Q,re;try{Q=C.pstack.alloc(8),Re.checkRc(this,N.sqlite3_prepare_v2(this.pointer,ae,-1,Q,null)),re=C.peekPtr(Q)}finally{C.pstack.restore(pe)}re||S("Cannot prepare empty SQL.");const ie=new be(this,re,et);return me.get(this)[re]=ie,ie},exec:function(){Ie(this);const ae=Je(this,arguments);if(!ae.sql)return S("exec() requires an SQL string.");const pe=ae.opt,Q=pe.callback,re=Array.isArray(pe.resultRows)?pe.resultRows:void 0;let ie,Le=pe.bind,it=!!(ae.cbArg||pe.columnNames||re);const Ot=C.scopedAllocPush(),Bt=Array.isArray(pe.saveSql)?pe.saveSql:void 0;try{const Zt=$.isSQLableTypedArray(ae.sql);let lt=Zt?ae.sql.byteLength:C.jstrlen(ae.sql);const we=C.scopedAlloc(2*C.ptrSizeof+(lt+1)),Pe=we+C.ptrSizeof;let ot=Pe+C.ptrSizeof;const pt=ot+lt;for(Zt?C.heap8().set(ae.sql,ot):C.jstrcpy(ae.sql,C.heap8(),ot,lt,!1),C.poke(ot+lt,0);ot&&C.peek(ot,"i8");){C.pokePtr([we,Pe],0),Re.checkRc(this,N.sqlite3_prepare_v3(this.pointer,ot,lt,0,we,Pe));const Ft=C.peekPtr(we);if(ot=C.peekPtr(Pe),lt=pt-ot,!!Ft){if(Bt&&Bt.push(N.sqlite3_sql(Ft).trim()),ie=new be(this,Ft,et),Le&&ie.parameterCount&&(ie.bind(Le),Le=null),it&&ie.columnCount){let Jt=Array.isArray(pe.columnNames)?0:1;if(it=!1,ae.cbArg||re){const je=Object.create(null);for(;ie.step();ie._lockedByExec=!1){Jt++===0&&ie.getColumnNames(je.columnNames=pe.columnNames||[]),ie._lockedByExec=!0;const nt=ae.cbArg(ie,je);if(re&&re.push(nt),Q&&Q.call(pe,nt,ie)===!1)break}ie._lockedByExec=!1}Jt===0&&ie.getColumnNames(pe.columnNames)}else ie.step();ie.reset().finalize(),ie=null}}}finally{C.scopedAllocPop(Ot),ie&&(delete ie._lockedByExec,ie.finalize())}return ae.returnVal()},createFunction:function(pe,Q,re){const ie=je=>je instanceof Function;switch(arguments.length){case 1:re=pe,pe=re.name,Q=re.xFunc||0;break;case 2:ie(Q)||(re=Q,Q=re.xFunc||0);break}re||(re={}),typeof pe!="string"&&S("Invalid arguments: missing function name.");let Le=re.xStep||0,it=re.xFinal||0;const Ot=re.xValue||0,Bt=re.xInverse||0;let Zt;ie(Q)?(Zt=!1,(ie(Le)||ie(it))&&S("Ambiguous arguments: scalar or aggregate?"),Le=it=null):ie(Le)?(ie(it)||S("Missing xFinal() callback for aggregate or window UDF."),Q=null):ie(it)?S("Missing xStep() callback for aggregate or window UDF."):S("Missing function-type properties."),Zt===!1?(ie(Ot)||ie(Bt))&&S("xValue and xInverse are not permitted for non-window UDFs."):ie(Ot)?(ie(Bt)||S("xInverse must be provided if xValue is."),Zt=!0):ie(Bt)&&S("xValue must be provided if xInverse is.");const lt=re.pApp;lt!=null&&(typeof lt!="number"||!$.isInt32(lt))&&S("Invalid value for pApp property. Must be a legal WASM pointer value.");const we=re.xDestroy||0;we&&!ie(we)&&S("xDestroy property must be a function.");let Pe=0;Qe(re,"deterministic")&&(Pe|=N.SQLITE_DETERMINISTIC),Qe(re,"directOnly")&&(Pe|=N.SQLITE_DIRECTONLY),Qe(re,"innocuous")&&(Pe|=N.SQLITE_INNOCUOUS),pe=pe.toLowerCase();const ot=Q||Le,pt=Qe(re,"arity"),Ft=typeof pt=="number"?pt:ot.length?ot.length-1:0;let Jt;return Zt?Jt=N.sqlite3_create_window_function(this.pointer,pe,Ft,N.SQLITE_UTF8|Pe,lt||0,Le,it,Ot,Bt,we):Jt=N.sqlite3_create_function_v2(this.pointer,pe,Ft,N.SQLITE_UTF8|Pe,lt||0,Q,Le,it,we),Re.checkRc(this,Jt),this},selectValue:function(ae,pe,Q){return Ge(this,ae,pe,0,Q)},selectValues:function(ae,pe,Q){const re=this.prepare(ae),ie=[];try{for(re.bind(pe);re.step();)ie.push(re.get(0,Q));re.reset()}finally{re.finalize()}return ie},selectArray:function(ae,pe){return Ge(this,ae,pe,[])},selectObject:function(ae,pe){return Ge(this,ae,pe,{})},selectArrays:function(ae,pe){return Oe(this,ae,pe,"array")},selectObjects:function(ae,pe){return Oe(this,ae,pe,"object")},openStatementCount:function(){return this.pointer?Object.keys(me.get(this)).length:0},transaction:function(ae){let pe="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&S(N.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),pe+=" "+arguments[0],ae=arguments[1]),Ie(this).exec(pe);try{const Q=ae(this);return this.exec("COMMIT"),Q}catch(Q){throw this.exec("ROLLBACK"),Q}},savepoint:function(ae){Ie(this).exec("SAVEPOINT oo1");try{const pe=ae(this);return this.exec("RELEASE oo1"),pe}catch(pe){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),pe}},checkRc:function(ae){return tt(this,ae)}};const Ke=function(ae){return ae.pointer||S("Stmt has been closed."),ae},St=function(ae){let pe=et[ae==null?"null":typeof ae];switch(pe){case et.boolean:case et.null:case et.number:case et.string:return pe;case et.bigint:if(C.bigIntEnabled)return pe;default:return $.isBindableTypedArray(ae)?et.blob:void 0}},Y=function(ae){return St(ae)||S("Unsupported bind() argument type:",typeof ae)},ue=function(ae,pe){const Q=typeof pe=="number"?pe:N.sqlite3_bind_parameter_index(ae.pointer,pe);return Q===0||!$.isInt32(Q)?S("Invalid bind() parameter name: "+pe):(Q<1||Q>ae.parameterCount)&&S("Bind index",pe,"is out of range."),Q},Ee=function(ae,pe){return ae._lockedByExec&&S("Operation is illegal when statement is locked:",pe),ae},st=function ae(pe,Q,re,ie){Ee(Ke(pe),"bind()"),ae._||(ae._tooBigInt=it=>S("BigInt value is too big to store without precision loss:",it),ae._={string:function(it,Ot,Bt,Zt){const[lt,we]=C.allocCString(Bt,!0);return(Zt?N.sqlite3_bind_blob:N.sqlite3_bind_text)(it.pointer,Ot,lt,we,N.SQLITE_WASM_DEALLOC)}}),Y(ie),Q=ue(pe,Q);let Le=0;switch(ie==null?et.null:re){case et.null:Le=N.sqlite3_bind_null(pe.pointer,Q);break;case et.string:Le=ae._.string(pe,Q,ie,!1);break;case et.number:{let it;$.isInt32(ie)?it=N.sqlite3_bind_int:typeof ie=="bigint"?$.bigIntFits64(ie)?C.bigIntEnabled?it=N.sqlite3_bind_int64:$.bigIntFitsDouble(ie)?(ie=Number(ie),it=N.sqlite3_bind_double):ae._tooBigInt(ie):ae._tooBigInt(ie):(ie=Number(ie),C.bigIntEnabled&&Number.isInteger(ie)?it=N.sqlite3_bind_int64:it=N.sqlite3_bind_double),Le=it(pe.pointer,Q,ie);break}case et.boolean:Le=N.sqlite3_bind_int(pe.pointer,Q,ie?1:0);break;case et.blob:{if(typeof ie=="string"){Le=ae._.string(pe,Q,ie,!0);break}else ie instanceof ArrayBuffer?ie=new Uint8Array(ie):$.isBindableTypedArray(ie)||S("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const it=C.alloc(ie.byteLength||1);C.heap8().set(ie.byteLength?ie:[0],it),Le=N.sqlite3_bind_blob(pe.pointer,Q,it,ie.byteLength,N.SQLITE_WASM_DEALLOC);break}default:y.config.warn("Unsupported bind() argument type:",ie),S("Unsupported bind() argument type: "+typeof ie)}return Le&&Re.checkRc(pe.db.pointer,Le),pe._mayGet=!1,pe};be.prototype={finalize:function(){if(this.pointer){Ee(this,"finalize()");const ae=N.sqlite3_finalize(this.pointer);return delete me.get(this.db)[this.pointer],fe.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,ae}},clearBindings:function(){return Ee(Ke(this),"clearBindings()"),N.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(ae){Ee(this,"reset()"),ae&&this.clearBindings();const pe=N.sqlite3_reset(Ke(this).pointer);return this._mayGet=!1,tt(this.db,pe),this},bind:function(){Ke(this);let ae,pe;switch(arguments.length){case 1:ae=1,pe=arguments[0];break;case 2:ae=arguments[0],pe=arguments[1];break;default:S("Invalid bind() arguments.")}return pe===void 0?this:(this.parameterCount||S("This statement has no bindable parameters."),this._mayGet=!1,pe===null?st(this,ae,et.null,pe):Array.isArray(pe)?(arguments.length!==1&&S("When binding an array, an index argument is not permitted."),pe.forEach((Q,re)=>st(this,re+1,Y(Q),Q)),this):(pe instanceof ArrayBuffer&&(pe=new Uint8Array(pe)),typeof pe=="object"&&!$.isBindableTypedArray(pe)?(arguments.length!==1&&S("When binding an object, an index argument is not permitted."),Object.keys(pe).forEach(Q=>st(this,Q,Y(pe[Q]),pe[Q])),this):st(this,ae,Y(pe),pe)))},bindAsBlob:function(ae,pe){Ke(this),arguments.length===1&&(pe=ae,ae=1);const Q=Y(pe);return et.string!==Q&&et.blob!==Q&&et.null!==Q&&S("Invalid value type for bindAsBlob()"),st(this,ae,et.blob,pe)},step:function(){Ee(this,"step()");const ae=N.sqlite3_step(Ke(this).pointer);switch(ae){case N.SQLITE_DONE:return this._mayGet=!1;case N.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,y.config.warn("sqlite3_step() rc=",ae,N.sqlite3_js_rc_str(ae),"SQL =",N.sqlite3_sql(this.pointer)),Re.checkRc(this.db.pointer,ae)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const ae=this.step();return this.reset(),ae}finally{try{this.finalize()}catch{}}},get:function(ae,pe){if(Ke(this)._mayGet||S("Stmt.step() has not (recently) returned true."),Array.isArray(ae)){let Q=0;const re=this.columnCount;for(;Q<re;)ae[Q]=this.get(Q++);return ae}else if(ae&&typeof ae=="object"){let Q=0;const re=this.columnCount;for(;Q<re;)ae[N.sqlite3_column_name(this.pointer,Q)]=this.get(Q++);return ae}switch(Te(this,ae),pe===void 0?N.sqlite3_column_type(this.pointer,ae):pe){case N.SQLITE_NULL:return null;case N.SQLITE_INTEGER:if(C.bigIntEnabled){const Q=N.sqlite3_column_int64(this.pointer,ae);return Q>=Number.MIN_SAFE_INTEGER&&Q<=Number.MAX_SAFE_INTEGER?Number(Q).valueOf():Q}else{const Q=N.sqlite3_column_double(this.pointer,ae);return(Q>Number.MAX_SAFE_INTEGER||Q<Number.MIN_SAFE_INTEGER)&&S("Integer is out of range for JS integer range: "+Q),$.isInt32(Q)?Q|0:Q}case N.SQLITE_FLOAT:return N.sqlite3_column_double(this.pointer,ae);case N.SQLITE_TEXT:return N.sqlite3_column_text(this.pointer,ae);case N.SQLITE_BLOB:{const Q=N.sqlite3_column_bytes(this.pointer,ae),re=N.sqlite3_column_blob(this.pointer,ae),ie=new Uint8Array(Q);return Q&&ie.set(C.heap8u().slice(re,re+Q),0),Q&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(ie.buffer),ie}default:S("Don't know how to translate","type of result column #"+ae+".")}S("Not reached.")},getInt:function(ae){return this.get(ae,N.SQLITE_INTEGER)},getFloat:function(ae){return this.get(ae,N.SQLITE_FLOAT)},getString:function(ae){return this.get(ae,N.SQLITE_TEXT)},getBlob:function(ae){return this.get(ae,N.SQLITE_BLOB)},getJSON:function(ae){const pe=this.get(ae,N.SQLITE_STRING);return pe===null?pe:JSON.parse(pe)},getColumnName:function(ae){return N.sqlite3_column_name(Te(Ke(this),ae).pointer,ae)},getColumnNames:function(ae=[]){Te(Ke(this),0);const pe=this.columnCount;for(let Q=0;Q<pe;++Q)ae.push(N.sqlite3_column_name(this.pointer,Q));return ae},getParamIndex:function(ae){return Ke(this).parameterCount?N.sqlite3_bind_parameter_index(this.pointer,ae):void 0},getParamName:function(ae){return Ke(this).parameterCount?N.sqlite3_bind_parameter_name(this.pointer,ae):void 0},isBusy:function(){return N.sqlite3_stmt_busy(Ke(this))!==0},isReadOnly:function(){return N.sqlite3_stmt_readonly(Ke(this))!==0}};{const ae={enumerable:!0,get:function(){return fe.get(this)},set:()=>S("The pointer property is read-only.")};Object.defineProperty(be.prototype,"pointer",ae),Object.defineProperty(Re.prototype,"pointer",ae)}if(Object.defineProperty(be.prototype,"columnCount",{enumerable:!1,get:function(){return N.sqlite3_column_count(this.pointer)},set:()=>S("The columnCount property is read-only.")}),y.oo1={DB:Re,Stmt:be},$.isUIThread()){y.oo1.JsStorageDb=function(pe="session"){const Q=Be.normalizeArgs(...arguments);pe=Q.filename,pe!=="session"&&pe!=="local"&&S("JsStorageDb db name must be one of 'session' or 'local'."),Q.vfs="kvvfs",Be.call(this,Q)};const ae=y.oo1.JsStorageDb;ae.prototype=Object.create(Re.prototype),ae.clearStorage=N.sqlite3_js_kvvfs_clear,ae.prototype.clearStorage=function(){return ae.clearStorage(Ie(this).filename)},ae.storageSize=N.sqlite3_js_kvvfs_size,ae.prototype.storageSize=function(){return ae.storageSize(Ie(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util;y.initWorker1API=function(){const N=(...Be)=>{throw new Error(Be.join(" "))};globalThis.WorkerGlobalScope instanceof Function||N("initWorker1API() must be run from a Worker thread.");const C=this.sqlite3||N("Missing this.sqlite3 object."),$=C.oo1.DB,fe=function(Be){let Re=me.idMap.get(Be);return Re||(Re="db#"+ ++me.idSeq+"@"+Be.pointer,me.idMap.set(Be,Re),Re)},me={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Be){const Re=new $(Be);return this.dbs[fe(Re)]=Re,this.dbList.indexOf(Re)<0&&this.dbList.push(Re),Re},close:function(Be,Re){if(Be){delete this.dbs[fe(Be)];const et=Be.filename,be=S.sqlite3__wasm_db_vfs(Be.pointer,0);Be.close();const Ie=this.dbList.indexOf(Be);Ie>=0&&this.dbList.splice(Ie,1),Re&&et&&be&&S.sqlite3__wasm_vfs_unlink(be,et)}},post:function(Be,Re){Re&&Re.length?(globalThis.postMessage(Be,Array.from(Re)),Re.length=0):globalThis.postMessage(Be)},dbs:Object.create(null),getDb:function(Be,Re=!0){return this.dbs[Be]||(Re?N("Unknown (or closed) DB ID:",Be):void 0)}},Qe=function(Be=me.dbList[0]){return Be&&Be.pointer?Be:N("DB is not opened.")},tt=function(Be,Re=!0){const et=me.getDb(Be.dbId,!1)||me.dbList[0];return Re?Qe(et):et},at=function(){return me.dbList[0]&&fe(me.dbList[0])},mt={open:function(Be){const Re=Object.create(null),et=Be.args||Object.create(null);et.simulateError&&N("Throwing because of simulateError flag.");const be=Object.create(null);Re.vfs=et.vfs,Re.filename=et.filename||"";const Ie=me.open(Re);return be.filename=Ie.filename,be.persistent=!!C.capi.sqlite3_js_db_uses_vfs(Ie.pointer,"opfs"),be.dbId=fe(Ie),be.vfs=Ie.dbVfsName(),be},close:function(Be){const Re=tt(Be,!1),et={filename:Re&&Re.filename};if(Re){const be=Be.args&&typeof Be.args=="object"?!!Be.args.unlink:!1;me.close(Re,be)}return et},exec:function(Be){const Re=typeof Be.args=="string"?{sql:Be.args}:Be.args||Object.create(null);Re.rowMode==="stmt"?N("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):Re.sql||N("'exec' requires input SQL.");const et=tt(Be);(Re.callback||Array.isArray(Re.resultRows))&&(et._blobXfer=me.xfer);const be=Re.callback;let Ie=0;const Te=!!Re.columnNames;typeof be=="string"&&(Te||(Re.columnNames=[]),Re.callback=function(Je,Ge){me.post({type:be,columnNames:Re.columnNames,rowNumber:++Ie,row:Je},me.xfer)});try{const Je=Re.countChanges?et.changes(!0,Re.countChanges===64):void 0;et.exec(Re),Je!==void 0&&(Re.changeCount=et.changes(!0,Re.countChanges===64)-Je),Re.callback instanceof Function&&(Re.callback=be,me.post({type:be,columnNames:Re.columnNames,rowNumber:null,row:void 0}))}finally{delete et._blobXfer,Re.callback&&(Re.callback=be)}return Re},"config-get":function(){const Be=Object.create(null),Re=C.config;return["bigIntEnabled"].forEach(function(et){Object.getOwnPropertyDescriptor(Re,et)&&(Be[et]=Re[et])}),Be.version=C.version,Be.vfsList=C.capi.sqlite3_js_vfs_list(),Be},export:function(Be){const Re=tt(Be),et={byteArray:C.capi.sqlite3_js_db_export(Re.pointer),filename:Re.filename,mimetype:"application/x-sqlite3"};return me.xfer.push(et.byteArray.buffer),et},toss:function(Be){N("Testing worker exception")}};globalThis.onmessage=async function(Be){Be=Be.data;let Re,et=Be.dbId,be=Be.type;const Ie=performance.now();try{mt.hasOwnProperty(be)&&mt[be]instanceof Function?Re=await mt[be](Be):N("Unknown db worker message type:",Be.type)}catch(Te){be="error",Re={operation:Be.type,message:Te.message,errorClass:Te.name,input:Be},Te.stack&&(Re.stack=typeof Te.stack=="string"?Te.stack.split(/\n\s*/):Te.stack)}et||(et=Re.dbId||at()),me.post({type:be,dbId:et,messageId:Be.messageId,workerReceivedTime:Ie,workerRespondTime:performance.now(),departureTime:Be.departureTime,result:Re},me.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:y})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.wasm,N=y.capi,C=y.util.toss3,$=Object.create(null);y.vfs=$,N.sqlite3_vfs.prototype.registerVfs=function(fe=!1){this instanceof y.capi.sqlite3_vfs||C("Expecting a sqlite3_vfs-type argument.");const me=N.sqlite3_vfs_register(this,fe?1:0);return me&&C("sqlite3_vfs_register(",this,") failed with rc",me),this.pointer!==N.sqlite3_vfs_find(this.$zName)&&C("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},$.installVfs=function(fe){let me=0;const Qe=["io","vfs"];for(const tt of Qe){const at=fe[tt];at&&(++me,at.struct.installMethods(at.methods,!!at.applyArgcCheck),tt==="vfs"&&(!at.struct.$zName&&typeof at.name=="string"&&at.struct.addOnDispose(at.struct.$zName=S.allocCString(at.name)),at.struct.registerVfs(!!at.asDefault)))}return me||C("Misuse: installVfs() options object requires at least","one of:",Qe),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){if(!y.wasm.exports.sqlite3_declare_vtab)return;const S=y.wasm,N=y.capi,C=y.util.toss3,$=Object.create(null);y.vtab=$;const fe=N.sqlite3_index_info;fe.prototype.nthConstraint=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraint+fe.sqlite3_index_constraint.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint(mt)},fe.prototype.nthConstraintUsage=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraintUsage+fe.sqlite3_index_constraint_usage.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint_usage(mt)},fe.prototype.nthOrderBy=function(tt,at=!1){if(tt<0||tt>=this.$nOrderBy)return!1;const mt=this.$aOrderBy+fe.sqlite3_index_orderby.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_orderby(mt)};const me=function(tt,at){return function(mt,Be=!1){if(arguments.length===0&&(mt=new at),mt instanceof at)return this.set(mt.pointer,mt),mt;S.isPtr(mt)||y.SQLite3Error.toss("Invalid argument to",tt+"()");let Re=this.get(mt);return Be&&this.delete(mt),Re}.bind(new Map)},Qe=function(tt,at){const mt=me(tt,at);return Object.assign(Object.create(null),{StructType:at,create:Be=>{const Re=mt();return S.pokePtr(Be,Re.pointer),Re},get:Be=>mt(Be),unget:Be=>mt(Be,!0),dispose:Be=>{const Re=mt(Be,!0);Re&&Re.dispose()}})};$.xVtab=Qe("xVtab",N.sqlite3_vtab),$.xCursor=Qe("xCursor",N.sqlite3_vtab_cursor),$.xIndexInfo=tt=>new N.sqlite3_index_info(tt),$.xError=function tt(at,mt,Be){if(tt.errorReporter instanceof Function)try{tt.errorReporter("sqlite3_module::"+at+"(): "+mt.message)}catch{}let Re;return mt instanceof y.WasmAllocError?Re=N.SQLITE_NOMEM:arguments.length>2?Re=Be:mt instanceof y.SQLite3Error&&(Re=mt.resultCode),Re||N.SQLITE_ERROR},$.xError.errorReporter=console.error.bind(console),$.xRowid=(tt,at)=>S.poke(tt,at,"i64"),$.setupModule=function(tt){let at=!1;const mt=this instanceof N.sqlite3_module?this:tt.struct||(at=new N.sqlite3_module);try{const Be=tt.methods||C("Missing 'methods' object.");for(const Re of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const et=Re[0],be=Re[1];Be[et]===!0?Be[et]=Be[be]:Be[be]===!0&&(Be[be]=Be[et])}if(tt.catchExceptions){const Re=function(Ie,Te){return["xConnect","xCreate"].indexOf(Ie)>=0?function(Je,Ge,Oe,Ke,St,Y){try{return Te(...arguments)||0}catch(ue){return ue instanceof y.WasmAllocError||(S.dealloc(S.peekPtr(Y)),S.pokePtr(Y,S.allocCString(ue.message))),$.xError(Ie,ue)}}:function(...Je){try{return Te(...Je)||0}catch(Ge){return $.xError(Ie,Ge)}}},et=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],be=Object.create(null);for(const Ie of et){const Te=Be[Ie];if(Te instanceof Function)Ie==="xConnect"&&Be.xCreate===Te?be[Ie]=Be.xCreate:Ie==="xCreate"&&Be.xConnect===Te?be[Ie]=Be.xConnect:be[Ie]=Re(Ie,Te);else continue}mt.installMethods(be,!1)}else mt.installMethods(Be,!!tt.applyArgcCheck);if(mt.$iVersion===0){let Re;typeof tt.iVersion=="number"?Re=tt.iVersion:mt.$xShadowName?Re=3:mt.$xSavePoint||mt.$xRelease||mt.$xRollbackTo?Re=2:Re=1,mt.$iVersion=Re}}catch(Be){throw at&&at.dispose(),Be}return mt},N.sqlite3_module.prototype.setupModule=function(tt){return $.setupModule.call(this,tt)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=function N(C){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!C||typeof C!="object")&&(C=Object.create(null));const $=new URL(globalThis.location.href).searchParams;return $.has("opfs-disable")?Promise.resolve(y):(C.verbose===void 0&&(C.verbose=$.has("opfs-verbose")?+$.get("opfs-verbose")||2:1),C.sanityChecks===void 0&&(C.sanityChecks=$.has("opfs-sanity-check")),C.proxyUri===void 0&&(C.proxyUri=N.defaultProxyUri),typeof C.proxyUri=="function"&&(C.proxyUri=C.proxyUri()),new Promise(function(me,Qe){const tt=[y.config.error,y.config.warn,y.config.log],at=(je,...nt)=>{C.verbose>je&&tt[je]("OPFS syncer:",...nt)},mt=(...je)=>at(2,...je),Be=(...je)=>at(1,...je),Re=(...je)=>at(0,...je),et=y.util.toss,be=y.capi,Ie=y.util,Te=y.wasm,Je=be.sqlite3_vfs,Ge=be.sqlite3_file,Oe=be.sqlite3_io_methods,Ke=Object.create(null),St=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Ke.metrics={dump:function(){let je,nt=0,dt=0,Nt=0;for(je in ie.opIds){const xt=Le[je];nt+=xt.count,dt+=xt.time,Nt+=xt.wait,xt.avgTime=xt.count&&xt.time?xt.time/xt.count:0,xt.avgWait=xt.count&&xt.wait?xt.wait/xt.count:0}y.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Le,`
Total of`,nt,"op(s) for",dt,"ms (incl. "+Nt+" ms of waiting on the async side)"),y.config.log("Serialization metrics:",Le.s11n),pe.postMessage({type:"opfs-async-metrics"})},reset:function(){let je;const nt=Nt=>Nt.count=Nt.time=Nt.wait=0;for(je in ie.opIds)nt(Le[je]=Object.create(null));let dt=Le.s11n=Object.create(null);dt=dt.serialize=Object.create(null),dt.count=dt.time=0,dt=Le.s11n.deserialize=Object.create(null),dt.count=dt.time=0}};const Y=new Oe,ue=new Je().addOnDispose(()=>Y.dispose());let Ee;const st=je=>(Ee=!0,ue.dispose(),Qe(je)),ae=()=>(Ee=!1,me(y)),pe=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{Ee===void 0&&st(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),pe._originalOnError=pe.onerror,pe.onerror=function(je){Re("Error initializing OPFS asyncer:",je),st(new Error("Loading OPFS async Worker failed for unknown reasons."))};const Q=be.sqlite3_vfs_find(null),re=Q?new Je(Q):null;Y.$iVersion=1,ue.$iVersion=2,ue.$szOsFile=be.sqlite3_file.structInfo.sizeof,ue.$mxPathname=1024,ue.$zName=Te.allocCString("opfs"),ue.$xDlOpen=ue.$xDlError=ue.$xDlSym=ue.$xDlClose=null,ue.addOnDispose("$zName",ue.$zName,"cleanup default VFS wrapper",()=>re?re.dispose():null);const ie=Object.create(null);ie.verbose=C.verbose,ie.littleEndian=(()=>{const je=new ArrayBuffer(2);return new DataView(je).setInt16(0,256,!0),new Int16Array(je)[0]===256})(),ie.asyncIdleWaitTime=150,ie.asyncS11nExceptions=1,ie.fileBufferSize=1024*64,ie.sabS11nOffset=ie.fileBufferSize,ie.sabS11nSize=ue.$mxPathname*2,ie.sabIO=new SharedArrayBuffer(ie.fileBufferSize+ie.sabS11nSize),ie.opIds=Object.create(null);const Le=Object.create(null);{let je=0;ie.opIds.whichOp=je++,ie.opIds.rc=je++,ie.opIds.xAccess=je++,ie.opIds.xClose=je++,ie.opIds.xDelete=je++,ie.opIds.xDeleteNoWait=je++,ie.opIds.xFileSize=je++,ie.opIds.xLock=je++,ie.opIds.xOpen=je++,ie.opIds.xRead=je++,ie.opIds.xSleep=je++,ie.opIds.xSync=je++,ie.opIds.xTruncate=je++,ie.opIds.xUnlock=je++,ie.opIds.xWrite=je++,ie.opIds.mkdir=je++,ie.opIds["opfs-async-metrics"]=je++,ie.opIds["opfs-async-shutdown"]=je++,ie.opIds.retry=je++,ie.sabOP=new SharedArrayBuffer(je*4),Ke.metrics.reset()}ie.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(je=>{(ie.sq3Codes[je]=be[je])===void 0&&et("Maintenance required: not found:",je)}),ie.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const it=(je,...nt)=>{const dt=ie.opIds[je]||et("Invalid op ID:",je);ie.s11n.serialize(...nt),Atomics.store(ie.sabOPView,ie.opIds.rc,-1),Atomics.store(ie.sabOPView,ie.opIds.whichOp,dt),Atomics.notify(ie.sabOPView,ie.opIds.whichOp);const Nt=performance.now();for(;Atomics.wait(ie.sabOPView,ie.opIds.rc,-1)!=="not-equal";);const xt=Atomics.load(ie.sabOPView,ie.opIds.rc);if(Le[je].wait+=performance.now()-Nt,xt&&ie.asyncS11nExceptions){const $t=ie.s11n.deserialize();$t&&Re(je+"() async error:",...$t)}return xt};Ke.debug={asyncShutdown:()=>{Be("Shutting down OPFS async listener. The OPFS VFS will no longer work."),it("opfs-async-shutdown")},asyncRestart:()=>{Be("Attempting to restart OPFS VFS async listener. Might work, might not."),pe.postMessage({type:"opfs-async-restart"})}};const Ot=()=>{if(ie.s11n)return ie.s11n;const je=new TextDecoder,nt=new TextEncoder("utf-8"),dt=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Nt=new DataView(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize);ie.s11n=Object.create(null);const xt=Object.create(null);xt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},xt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},xt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},xt.string={id:4};const $t=qt=>xt[typeof qt]||et("Maintenance required: this value type cannot be serialized.",qt),hn=qt=>{switch(qt){case xt.number.id:return xt.number;case xt.bigint.id:return xt.bigint;case xt.boolean.id:return xt.boolean;case xt.string.id:return xt.string;default:et("Invalid type ID:",qt)}};return ie.s11n.deserialize=function(qt=!1){++Le.s11n.deserialize.count;const Tr=performance.now(),We=dt[0],vt=We?[]:null;if(We){const _t=[];let kt=1,yn,Hn,Bn;for(yn=0;yn<We;++yn,++kt)_t.push(hn(dt[kt]));for(yn=0;yn<We;++yn){const Un=_t[yn];Un.getter?(Bn=Nt[Un.getter](kt,ie.littleEndian),kt+=Un.size):(Hn=Nt.getInt32(kt,ie.littleEndian),kt+=4,Bn=je.decode(dt.slice(kt,kt+Hn)),kt+=Hn),vt.push(Bn)}}return qt&&(dt[0]=0),Le.s11n.deserialize.time+=performance.now()-Tr,vt},ie.s11n.serialize=function(...qt){const Tr=performance.now();if(++Le.s11n.serialize.count,qt.length){const We=[];let vt=0,_t=1;for(dt[0]=qt.length&255;vt<qt.length;++vt,++_t)We.push($t(qt[vt])),dt[_t]=We[vt].id;for(vt=0;vt<qt.length;++vt){const kt=We[vt];if(kt.setter)Nt[kt.setter](_t,qt[vt],ie.littleEndian),_t+=kt.size;else{const yn=nt.encode(qt[vt]);Nt.setInt32(_t,yn.byteLength,ie.littleEndian),_t+=4,dt.set(yn,_t),_t+=yn.byteLength}}}else dt[0]=0;Le.s11n.serialize.time+=performance.now()-Tr},ie.s11n},Bt=function je(nt=16){je._chars||(je._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",je._n=je._chars.length);const dt=[];let Nt=0;for(;Nt<nt;++Nt){const xt=Math.random()*(je._n*64)%je._n|0;dt[Nt]=je._chars[xt]}return dt.join("")},Zt=Object.create(null),lt=Object.create(null);lt.op=void 0,lt.start=void 0;const we=je=>{lt.start=performance.now(),lt.op=je,++Le[je].count},Pe=()=>Le[lt.op].time+=performance.now()-lt.start,ot={xCheckReservedLock:function(je,nt){return Te.poke(nt,0,"i32"),0},xClose:function(je){we("xClose");let nt=0;const dt=Zt[je];return dt&&(delete Zt[je],nt=it("xClose",je),dt.sq3File&&dt.sq3File.dispose()),Pe(),nt},xDeviceCharacteristics:function(je){return be.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(je,nt,dt){return be.SQLITE_NOTFOUND},xFileSize:function(je,nt){we("xFileSize");let dt=it("xFileSize",je);if(dt==0)try{const Nt=ie.s11n.deserialize()[0];Te.poke(nt,Nt,"i64")}catch(Nt){Re("Unexpected error reading xFileSize() result:",Nt),dt=ie.sq3Codes.SQLITE_IOERR}return Pe(),dt},xLock:function(je,nt){we("xLock");const dt=Zt[je];let Nt=0;return dt.lockType?dt.lockType=nt:(Nt=it("xLock",je,nt),Nt===0&&(dt.lockType=nt)),Pe(),Nt},xRead:function(je,nt,dt,Nt){we("xRead");const xt=Zt[je];let $t;try{$t=it("xRead",je,dt,Number(Nt)),($t===0||be.SQLITE_IOERR_SHORT_READ===$t)&&Te.heap8u().set(xt.sabView.subarray(0,dt),nt)}catch(hn){Re("xRead(",arguments,") failed:",hn,xt),$t=be.SQLITE_IOERR_READ}return Pe(),$t},xSync:function(je,nt){we("xSync"),++Le.xSync.count;const dt=it("xSync",je,nt);return Pe(),dt},xTruncate:function(je,nt){we("xTruncate");const dt=it("xTruncate",je,Number(nt));return Pe(),dt},xUnlock:function(je,nt){we("xUnlock");const dt=Zt[je];let Nt=0;return be.SQLITE_LOCK_NONE===nt&&dt.lockType&&(Nt=it("xUnlock",je,nt)),Nt===0&&(dt.lockType=nt),Pe(),Nt},xWrite:function(je,nt,dt,Nt){we("xWrite");const xt=Zt[je];let $t;try{xt.sabView.set(Te.heap8u().subarray(nt,nt+dt)),$t=it("xWrite",je,dt,Number(Nt))}catch(hn){Re("xWrite(",arguments,") failed:",hn,xt),$t=be.SQLITE_IOERR_WRITE}return Pe(),$t}},pt={xAccess:function(je,nt,dt,Nt){we("xAccess");const xt=it("xAccess",Te.cstrToJs(nt));return Te.poke(Nt,xt?0:1,"i32"),Pe(),0},xCurrentTime:function(je,nt){return Te.poke(nt,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(je,nt){return Te.poke(nt,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(je,nt,dt){we("xDelete");const Nt=it("xDelete",Te.cstrToJs(nt),dt,!1);return Pe(),Nt},xFullPathname:function(je,nt,dt,Nt){return Te.cstrncpy(Nt,nt,dt)<dt?0:be.SQLITE_CANTOPEN},xGetLastError:function(je,nt,dt){return Be("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(nt,dt,Nt,xt,$t){we("xOpen");let hn=0;dt===0?dt=Bt():Te.isPtr(dt)&&(be.sqlite3_uri_boolean(dt,"opfs-unlock-asap",0)&&(hn|=ie.opfsFlags.OPFS_UNLOCK_ASAP),be.sqlite3_uri_boolean(dt,"delete-before-open",0)&&(hn|=ie.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),dt=Te.cstrToJs(dt));const qt=Object.create(null);qt.fid=Nt,qt.filename=dt,qt.sab=new SharedArrayBuffer(ie.fileBufferSize),qt.flags=xt,qt.readOnly=!(y.SQLITE_OPEN_CREATE&xt)&&!!(xt&be.SQLITE_OPEN_READONLY);const Tr=it("xOpen",Nt,dt,xt,hn);return Tr||(qt.readOnly&&Te.poke($t,be.SQLITE_OPEN_READONLY,"i32"),Zt[Nt]=qt,qt.sabView=ie.sabFileBufView,qt.sq3File=new Ge(Nt),qt.sq3File.$pMethods=Y.pointer,qt.lockType=be.SQLITE_LOCK_NONE),Pe(),Tr}};re&&(ue.$xRandomness=re.$xRandomness,ue.$xSleep=re.$xSleep),ue.$xRandomness||(pt.xRandomness=function(je,nt,dt){const Nt=Te.heap8u();let xt=0;for(;xt<nt;++xt)Nt[dt+xt]=Math.random()*255e3&255;return xt}),ue.$xSleep||(pt.xSleep=function(je,nt){return Atomics.wait(ie.sabOPView,ie.opIds.xSleep,0,nt),0}),Ke.getResolvedPath=function(je,nt){const dt=new URL(je,"file://irrelevant").pathname;return nt?dt.split("/").filter(Nt=>!!Nt):dt},Ke.getDirForFilename=async function(nt,dt=!1){const Nt=Ke.getResolvedPath(nt,!0),xt=Nt.pop();let $t=Ke.rootDirectory;for(const hn of Nt)hn&&($t=await $t.getDirectoryHandle(hn,{create:!!dt}));return[$t,xt]},Ke.mkdir=async function(je){try{return await Ke.getDirForFilename(je+"/filepart",!0),!0}catch{return!1}},Ke.entryExists=async function(je){try{const[nt,dt]=await Ke.getDirForFilename(je);return await nt.getFileHandle(dt),!0}catch{return!1}},Ke.randomFilename=Bt,Ke.treeList=async function(){const je=async function dt(Nt,xt){xt.name=Nt.name,xt.dirs=[],xt.files=[];for await(const $t of Nt.values())if($t.kind==="directory"){const hn=Object.create(null);xt.dirs.push(hn),await dt($t,hn)}else xt.files.push($t.name)},nt=Object.create(null);return await je(Ke.rootDirectory,nt),nt},Ke.rmfr=async function(){const je=Ke.rootDirectory,nt={recurse:!0};for await(const dt of je.values())je.removeEntry(dt.name,nt)},Ke.unlink=async function(je,nt=!1,dt=!1){try{const[Nt,xt]=await Ke.getDirForFilename(je,!1);return await Nt.removeEntry(xt,{recursive:nt}),!0}catch(Nt){if(dt)throw new Error("unlink(",arguments[0],") failed: "+Nt.message,{cause:Nt});return!1}},Ke.traverse=async function(je){const nt={recursive:!0,directory:Ke.rootDirectory};typeof je=="function"&&(je={callback:je}),je=Object.assign(nt,je||{}),async function Nt(xt,$t){for await(const hn of xt.values()){if(je.callback(hn,xt,$t)===!1)return!1;if(je.recursive&&hn.kind==="directory"&&await Nt(hn,$t+1)===!1)break}}(je.directory,0)};const Ft=async function(je,nt){const[dt,Nt]=await Ke.getDirForFilename(je,!0);let $t=await (await dt.getFileHandle(Nt,{create:!0})).createSyncAccessHandle(),hn=0,qt,Tr=!1;try{for($t.truncate(0);(qt=await nt())!==void 0;)qt instanceof ArrayBuffer&&(qt=new Uint8Array(qt)),hn===0&&qt.byteLength>=15&&(Ie.affirmDbHeader(qt),Tr=!0),$t.write(qt,{at:hn}),hn+=qt.byteLength;if((hn<512||hn%512!==0)&&et("Input size",hn,"is not correct for an SQLite database."),!Tr){const We=new Uint8Array(20);$t.read(We,{at:0}),Ie.affirmDbHeader(We)}return $t.write(new Uint8Array([1,1]),{at:18}),hn}catch(We){throw await $t.close(),$t=void 0,await dt.removeEntry(Nt).catch(()=>{}),We}finally{$t&&await $t.close()}};if(Ke.importDb=async function(je,nt){if(nt instanceof Function)return Ft(je,nt);nt instanceof ArrayBuffer&&(nt=new Uint8Array(nt)),Ie.affirmIsDb(nt);const dt=nt.byteLength,[Nt,xt]=await Ke.getDirForFilename(je,!0);let $t,hn=0;try{return $t=await (await Nt.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),$t.truncate(0),hn=$t.write(nt,{at:0}),hn!=dt&&et("Expected to write "+dt+" bytes but wrote "+hn+"."),$t.write(new Uint8Array([1,1]),{at:18}),hn}catch(qt){throw $t&&(await $t.close(),$t=void 0),await Nt.removeEntry(xt).catch(()=>{}),qt}finally{$t&&await $t.close()}},y.oo1){const je=function(...nt){const dt=y.oo1.DB.dbCtorHelper.normalizeArgs(...nt);dt.vfs=ue.$zName,y.oo1.DB.dbCtorHelper.call(this,dt)};je.prototype=Object.create(y.oo1.DB.prototype),y.oo1.OpfsDb=je,je.importDb=Ke.importDb,y.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(ue.pointer,function(nt,dt){dt.capi.sqlite3_busy_timeout(nt,1e4)})}const Jt=function(){const je=Te.scopedAllocPush(),nt=new Ge;try{const dt=nt.pointer,Nt=be.SQLITE_OPEN_CREATE|be.SQLITE_OPEN_READWRITE|be.SQLITE_OPEN_MAIN_DB,xt=Te.scopedAlloc(8),$t="/sanity/check/file"+Bt(8),hn=Te.scopedAllocCString($t);let qt;if(ie.s11n.serialize("This is \xe4 string."),qt=ie.s11n.deserialize(),mt("deserialize() says:",qt),qt[0]!=="This is \xe4 string."&&et("String d13n error."),pt.xAccess(ue.pointer,hn,0,xt),qt=Te.peek(xt,"i32"),mt("xAccess(",$t,") exists ?=",qt),qt=pt.xOpen(ue.pointer,hn,dt,Nt,xt),mt("open rc =",qt,"state.sabOPView[xOpen] =",ie.sabOPView[ie.opIds.xOpen]),qt!==0){Re("open failed with code",qt);return}pt.xAccess(ue.pointer,hn,0,xt),qt=Te.peek(xt,"i32"),qt||et("xAccess() failed to detect file."),qt=ot.xSync(nt.pointer,0),qt&&et("sync failed w/ rc",qt),qt=ot.xTruncate(nt.pointer,1024),qt&&et("truncate failed w/ rc",qt),Te.poke(xt,0,"i64"),qt=ot.xFileSize(nt.pointer,xt),qt&&et("xFileSize failed w/ rc",qt),mt("xFileSize says:",Te.peek(xt,"i64")),qt=ot.xWrite(nt.pointer,hn,10,1),qt&&et("xWrite() failed!");const Tr=Te.scopedAlloc(16);qt=ot.xRead(nt.pointer,Tr,6,2),Te.poke(Tr+6,0);let We=Te.cstrToJs(Tr);mt("xRead() got:",We),We!=="sanity"&&et("Unexpected xRead() value."),pt.xSleep&&(mt("xSleep()ing before close()ing..."),pt.xSleep(ue.pointer,2e3),mt("waking up from xSleep()")),qt=ot.xClose(dt),mt("xClose rc =",qt,"sabOPView =",ie.sabOPView),mt("Deleting file:",$t),pt.xDelete(ue.pointer,hn,4660),pt.xAccess(ue.pointer,hn,0,xt),qt=Te.peek(xt,"i32"),qt&&et("Expecting 0 from xAccess(",$t,") after xDelete()."),Be("End of OPFS sanity checks.")}finally{nt.dispose(),Te.scopedAllocPop(je)}};pe.onmessage=function({data:je}){switch(je.type){case"opfs-unavailable":st(new Error(je.payload.join(" ")));break;case"opfs-async-loaded":pe.postMessage({type:"opfs-async-init",args:ie});break;case"opfs-async-inited":{if(Ee===!0)break;try{y.vfs.installVfs({io:{struct:Y,methods:ot},vfs:{struct:ue,methods:pt}}),ie.sabOPView=new Int32Array(ie.sabOP),ie.sabFileBufView=new Uint8Array(ie.sabIO,0,ie.fileBufferSize),ie.sabS11nView=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Ot(),C.sanityChecks&&(Be("Running sanity checks because of opfs-sanity-check URL arg..."),Jt()),St()?navigator.storage.getDirectory().then(nt=>{pe.onerror=pe._originalOnError,delete pe._originalOnError,y.opfs=Ke,Ke.rootDirectory=nt,mt("End of OPFS sqlite3_vfs setup.",ue),ae()}).catch(st):ae()}catch(nt){Re(nt),st(nt)}break}default:{const nt="Unexpected message from the OPFS async worker: "+JSON.stringify(je);Re(nt),st(new Error(nt));break}}}}))};S.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async N=>{try{let C=S.defaultProxyUri;return N.scriptInfo.sqlite3Dir&&(S.defaultProxyUri=N.scriptInfo.sqlite3Dir+C),S().catch($=>{N.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",$.message)})}catch(C){return N.config.error("installOpfsVfs() exception:",C),Promise.reject(C)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util.toss,N=y.util.toss3,C=Object.create(null),$=y.capi,fe=y.util,me=y.wasm,Qe=4096,tt=512,at=4,mt=8,Be=tt+at,Re=tt,et=Be,be=Qe,Ie=$.SQLITE_OPEN_MAIN_DB|$.SQLITE_OPEN_MAIN_JOURNAL|$.SQLITE_OPEN_SUPER_JOURNAL|$.SQLITE_OPEN_WAL,Te=".opaque",Je=()=>Math.random().toString(36).slice(2),Ge=new TextDecoder,Oe=new TextEncoder,Ke=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),St=[y.config.error,y.config.warn,y.config.log];y.config.log;const Y=y.config.warn;y.config.error;const ue=new Map,Ee=lt=>ue.get(lt),st=(lt,we)=>{we?ue.set(lt,we):ue.delete(lt)},ae=new Map,pe=lt=>ae.get(lt),Q=(lt,we)=>{we?ae.set(lt,we):ae.delete(lt)},re={xCheckReservedLock:function(lt,we){const Pe=pe(lt);return Pe.log("xCheckReservedLock"),Pe.storeErr(),me.poke32(we,1),0},xClose:function(lt){const we=pe(lt);we.storeErr();const Pe=we.getOFileForS3File(lt);if(Pe)try{we.log(`xClose ${Pe.path}`),we.mapS3FileToOFile(lt,!1),Pe.sah.flush(),Pe.flags&$.SQLITE_OPEN_DELETEONCLOSE&&we.deletePath(Pe.path)}catch(ot){return we.storeErr(ot,$.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(lt){return $.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(lt,we,Pe){return $.SQLITE_NOTFOUND},xFileSize:function(lt,we){const Pe=pe(lt);Pe.log("xFileSize");const pt=Pe.getOFileForS3File(lt).sah.getSize()-be;return me.poke64(we,BigInt(pt)),0},xLock:function(lt,we){const Pe=pe(lt);Pe.log(`xLock ${we}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);return ot.lockType=we,0},xRead:function(lt,we,Pe,ot){const pt=pe(lt);pt.storeErr();const Ft=pt.getOFileForS3File(lt);pt.log(`xRead ${Ft.path} ${Pe} @ ${ot}`);try{const Jt=Ft.sah.read(me.heap8u().subarray(we,we+Pe),{at:be+Number(ot)});return Jt<Pe?(me.heap8u().fill(0,we+Jt,we+Pe),$.SQLITE_IOERR_SHORT_READ):0}catch(Jt){return pt.storeErr(Jt,$.SQLITE_IOERR)}},xSectorSize:function(lt){return Qe},xSync:function(lt,we){const Pe=pe(lt);Pe.log(`xSync ${we}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.flush(),0}catch(pt){return Pe.storeErr(pt,$.SQLITE_IOERR)}},xTruncate:function(lt,we){const Pe=pe(lt);Pe.log(`xTruncate ${we}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.truncate(be+Number(we)),0}catch(pt){return Pe.storeErr(pt,$.SQLITE_IOERR)}},xUnlock:function(lt,we){const Pe=pe(lt);Pe.log("xUnlock");const ot=Pe.getOFileForS3File(lt);return ot.lockType=we,0},xWrite:function(lt,we,Pe,ot){const pt=pe(lt);pt.storeErr();const Ft=pt.getOFileForS3File(lt);pt.log(`xWrite ${Ft.path} ${Pe} ${ot}`);try{const Jt=Ft.sah.write(me.heap8u().subarray(we,we+Pe),{at:be+Number(ot)});return Pe===Jt?0:S("Unknown write() failure.")}catch(Jt){return pt.storeErr(Jt,$.SQLITE_IOERR)}}},ie=new $.sqlite3_io_methods;ie.$iVersion=1,y.vfs.installVfs({io:{struct:ie,methods:re}});const Le={xAccess:function(lt,we,Pe,ot){const pt=Ee(lt);pt.storeErr();try{const Ft=pt.getPath(we);me.poke32(ot,pt.hasFilename(Ft)?1:0)}catch{me.poke32(ot,0)}return 0},xCurrentTime:function(lt,we){return me.poke(we,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(lt,we){return me.poke(we,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(lt,we,Pe){const ot=Ee(lt);ot.log(`xDelete ${me.cstrToJs(we)}`),ot.storeErr();try{return ot.deletePath(ot.getPath(we)),0}catch(pt){return ot.storeErr(pt),$.SQLITE_IOERR_DELETE}},xFullPathname:function(lt,we,Pe,ot){return me.cstrncpy(ot,we,Pe)<Pe?0:$.SQLITE_CANTOPEN},xGetLastError:function(lt,we,Pe){const ot=Ee(lt),pt=ot.popErr();if(ot.log(`xGetLastError ${we} e =`,pt),pt){const Ft=me.scopedAllocPush();try{const[Jt,je]=me.scopedAllocCString(pt.message,!0);me.cstrncpy(Pe,Jt,we),je>we&&me.poke8(Pe+we-1,0)}catch{return $.SQLITE_NOMEM}finally{me.scopedAllocPop(Ft)}}return pt?pt.sqlite3Rc||$.SQLITE_IOERR:0},xOpen:function(we,Pe,ot,pt,Ft){const Jt=Ee(we);try{Jt.log(`xOpen ${me.cstrToJs(Pe)} ${pt}`);const je=Pe&&me.peek8(Pe)?Jt.getPath(Pe):Je();let nt=Jt.getSAHForPath(je);!nt&&pt&$.SQLITE_OPEN_CREATE&&(Jt.getFileCount()<Jt.getCapacity()?(nt=Jt.nextAvailableSAH(),Jt.setAssociatedPath(nt,je,pt)):S("SAH pool is full. Cannot create file",je)),nt||S("file not found:",je);const dt={path:je,flags:pt,sah:nt};Jt.mapS3FileToOFile(ot,dt),dt.lockType=$.SQLITE_LOCK_NONE;const Nt=new $.sqlite3_file(ot);return Nt.$pMethods=ie.pointer,Nt.dispose(),me.poke32(Ft,pt),0}catch(je){return Jt.storeErr(je),$.SQLITE_CANTOPEN}}},it=function(lt){y.capi.sqlite3_vfs_find(lt)&&N("VFS name is already registered:",lt);const we=new $.sqlite3_vfs,Pe=$.sqlite3_vfs_find(null),ot=Pe?new $.sqlite3_vfs(Pe):null;return we.$iVersion=2,we.$szOsFile=$.sqlite3_file.structInfo.sizeof,we.$mxPathname=tt,we.addOnDispose(we.$zName=me.allocCString(lt),()=>st(we.pointer,0)),ot&&(we.$xRandomness=ot.$xRandomness,we.$xSleep=ot.$xSleep,ot.dispose()),!we.$xRandomness&&!Le.xRandomness&&(Le.xRandomness=function(pt,Ft,Jt){const je=me.heap8u();let nt=0;for(;nt<Ft;++nt)je[Jt+nt]=Math.random()*255e3&255;return nt}),!we.$xSleep&&!Le.xSleep&&(Le.xSleep=(pt,Ft)=>0),y.vfs.installVfs({vfs:{struct:we,methods:Le}}),we};class Ot{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Be);#u;#l;#c;constructor(we=Object.create(null)){this.#c=we.verbosity??Ke.verbosity,this.vfsName=we.name||Ke.name,this.#l=it(this.vfsName),st(this.#l.pointer,this),this.vfsDir=we.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(we.clearOnInit??Ke.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(we.initialCapacity||Ke.initialCapacity)})}#d(we,...Pe){this.#c>we&&St[we](this.vfsName+":",...Pe)}log(...we){this.#d(2,...we)}warn(...we){this.#d(1,...we)}error(...we){this.#d(0,...we)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const we=[],Pe=this.#i.keys();for(const ot of Pe)we.push(ot);return we}async addCapacity(we){for(let Pe=0;Pe<we;++Pe){const ot=Je(),Ft=await (await this.#t.getFileHandle(ot,{create:!0})).createSyncAccessHandle();this.#r.set(Ft,ot),this.setAssociatedPath(Ft,"",0)}return this.getCapacity()}async reduceCapacity(we){let Pe=0;for(const ot of Array.from(this.#s)){if(Pe===we||this.getFileCount()===this.getCapacity())break;const pt=this.#r.get(ot);ot.close(),await this.#t.removeEntry(pt),this.#r.delete(ot),this.#s.delete(ot),++Pe}return Pe}releaseAccessHandles(){for(const we of this.#r.keys())we.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(we){const Pe=[];for await(const[ot,pt]of this.#t)pt.kind==="file"&&Pe.push([ot,pt]);return Promise.all(Pe.map(async([ot,pt])=>{try{const Ft=await pt.createSyncAccessHandle();if(this.#r.set(Ft,ot),we)Ft.truncate(be),this.setAssociatedPath(Ft,"",0);else{const Jt=this.getAssociatedPath(Ft);Jt?this.#i.set(Jt,Ft):this.#s.add(Ft)}}catch(Ft){throw this.storeErr(Ft),this.releaseAccessHandles(),Ft}}))}getAssociatedPath(we){we.read(this.#a,{at:0});const Pe=this.#u.getUint32(Re);if(this.#a[0]&&(Pe&$.SQLITE_OPEN_DELETEONCLOSE||!(Pe&Ie)))return Y(`Removing file with unexpected flags ${Pe.toString(16)}`,this.#a),this.setAssociatedPath(we,"",0),"";const ot=new Uint32Array(mt/4);we.read(ot,{at:et});const pt=this.computeDigest(this.#a);if(ot.every((Ft,Jt)=>Ft===pt[Jt])){const Ft=this.#a.findIndex(Jt=>Jt===0);return Ft===0&&we.truncate(be),Ft?Ge.decode(this.#a.subarray(0,Ft)):""}else return Y("Disassociating file with bad digest."),this.setAssociatedPath(we,"",0),""}setAssociatedPath(we,Pe,ot){const pt=Oe.encodeInto(Pe,this.#a);tt<=pt.written+1&&S("Path too long:",Pe),this.#a.fill(0,pt.written,tt),this.#u.setUint32(Re,ot);const Ft=this.computeDigest(this.#a);we.write(this.#a,{at:0}),we.write(Ft,{at:et}),we.flush(),Pe?(this.#i.set(Pe,we),this.#s.delete(we)):(we.truncate(be),this.#s.add(we))}computeDigest(we){let Pe=0xdeadbeef,ot=0x41c6ce57;for(const pt of we)Pe=31*Pe+pt*307,ot=31*ot+pt*307;return new Uint32Array([Pe>>>0,ot>>>0])}async reset(we){await this.isReady;let Pe=await navigator.storage.getDirectory(),ot;for(const pt of this.vfsDir.split("/"))pt&&(ot=Pe,Pe=await Pe.getDirectoryHandle(pt,{create:!0}));return this.#e=Pe,this.#n=ot,this.#t=await this.#e.getDirectoryHandle(Te,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(we)}getPath(we){return me.isPtr(we)&&(we=me.cstrToJs(we)),(we instanceof URL?we:new URL(we,"file://localhost/")).pathname}deletePath(we){const Pe=this.#i.get(we);return Pe&&(this.#i.delete(we),this.setAssociatedPath(Pe,"",0)),!!Pe}storeErr(we,Pe){return we&&(we.sqlite3Rc=Pe||$.SQLITE_IOERR,this.error(we)),this.$error=we,Pe}popErr(){const we=this.$error;return this.$error=void 0,we}nextAvailableSAH(){const[we]=this.#s.keys();return we}getOFileForS3File(we){return this.#o.get(we)}mapS3FileToOFile(we,Pe){Pe?(this.#o.set(we,Pe),Q(we,this)):(this.#o.delete(we),Q(we,!1))}hasFilename(we){return this.#i.has(we)}getSAHForPath(we){return this.#i.get(we)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;$.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete C[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(Te,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(we){y.config.error(this.vfsName,"removeVfs() failed:",we)}return!0}exportFile(we){const Pe=this.#i.get(we)||S("File not found:",we),ot=Pe.getSize()-be,pt=new Uint8Array(ot>0?ot:0);if(ot>0){const Ft=Pe.read(pt,{at:be});Ft!=ot&&S("Expected to read "+ot+" bytes but read "+Ft+".")}return pt}async importDbChunked(we,Pe){const ot=this.#i.get(we)||this.nextAvailableSAH()||S("No available handles to import to.");ot.truncate(0);let pt=0,Ft,Jt=!1;try{for(;(Ft=await Pe())!==void 0;)Ft instanceof ArrayBuffer&&(Ft=new Uint8Array(Ft)),pt===0&&Ft.byteLength>=15&&(fe.affirmDbHeader(Ft),Jt=!0),ot.write(Ft,{at:be+pt}),pt+=Ft.byteLength;if((pt<512||pt%512!==0)&&S("Input size",pt,"is not correct for an SQLite database."),!Jt){const je=new Uint8Array(20);ot.read(je,{at:0}),fe.affirmDbHeader(je)}ot.write(new Uint8Array([1,1]),{at:be+18})}catch(je){throw this.setAssociatedPath(ot,"",0),je}return this.setAssociatedPath(ot,we,$.SQLITE_OPEN_MAIN_DB),pt}importDb(we,Pe){if(Pe instanceof ArrayBuffer)Pe=new Uint8Array(Pe);else if(Pe instanceof Function)return this.importDbChunked(we,Pe);const ot=this.#i.get(we)||this.nextAvailableSAH()||S("No available handles to import to."),pt=Pe.byteLength;(pt<512||pt%512!=0)&&S("Byte array size is invalid for an SQLite db.");const Ft="SQLite format 3";for(let je=0;je<Ft.length;++je)Ft.charCodeAt(je)!==Pe[je]&&S("Input does not contain an SQLite database header.");const Jt=ot.write(Pe,{at:be});return Jt!=pt?(this.setAssociatedPath(ot,"",0),S("Expected to write "+pt+" bytes but wrote "+Jt+".")):(ot.write(new Uint8Array([1,1]),{at:be+18}),this.setAssociatedPath(ot,we,$.SQLITE_OPEN_MAIN_DB)),Jt}}class Bt{#e;constructor(we){this.#e=we,this.vfsName=we.vfsName}async addCapacity(we){return this.#e.addCapacity(we)}async reduceCapacity(we){return this.#e.reduceCapacity(we)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(we){const Pe=this.#e.getCapacity();return Pe<we?this.#e.addCapacity(we-Pe):Pe}exportFile(we){return this.#e.exportFile(we)}importDb(we,Pe){return this.#e.importDb(we,Pe)}async wipeFiles(){return this.#e.reset(!0)}unlink(we){return this.#e.deletePath(we)}async removeVfs(){return this.#e.removeVfs()}}const Zt=async()=>{const lt=await navigator.storage.getDirectory(),we=".opfs-sahpool-sync-check-"+Je(),pt=(await (await lt.getFileHandle(we,{create:!0})).createSyncAccessHandle()).close();return await pt,await lt.removeEntry(we),pt?.then&&S("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};y.installOpfsSAHPoolVfs=async function(lt=Object.create(null)){lt=Object.assign(Object.create(null),Ke,lt||{});const we=lt.name;if(lt.$testThrowPhase1)throw lt.$testThrowPhase1;if(C[we])try{return await C[we]}catch(Pe){if(lt.forceReinitIfPreviouslyFailed)delete C[we];else throw Pe}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?C[we]=Promise.reject(new Error("Missing required OPFS APIs.")):C[we]=Zt().then(async function(){if(lt.$testThrowPhase2)throw lt.$testThrowPhase2;const Pe=new Ot(lt);return Pe.isReady.then(async()=>{const ot=new Bt(Pe);if(y.oo1){const pt=y.oo1,Ft=Pe.getVfs(),Jt=function(...je){const nt=pt.DB.dbCtorHelper.normalizeArgs(...je);nt.vfs=Ft.$zName,pt.DB.dbCtorHelper.call(this,nt)};Jt.prototype=Object.create(pt.DB.prototype),ot.OpfsSAHPoolDb=Jt}return Pe.log("VFS initialized."),ot}).catch(async ot=>{throw await Pe.removeVfs().catch(()=>{}),ot})}).catch(Pe=>C[we]=Promise.reject(Pe))}}),typeof g<"u"){const y=Object.assign(Object.create(null),{exports:typeof he>"u"?g.asm:he,memory:g.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=y;let S;try{S=globalThis.sqlite3ApiBootstrap()}catch(N){throw console.error("sqlite3ApiBootstrap() error:",N),N}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}g.sqlite3=S}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=o,n}})();const GQ=function(){const t=pN;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const s=i.sqlite3;s.scriptInfo=e,n.__isUnderTest&&(s.__isUnderTest=!0);const o=s.asyncPostInit;return delete s.asyncPostInit,o()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();pN=GQ;const ZQ=pN;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const h=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=h}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,s=e.debug||r,o=e.generateMessageId?void 0:Object.create(null),l=e.generateMessageId||function(h){return h.type+"#"+(o[h.type]=(o[h.type]||0)+1)},c=(...h)=>{throw new Error(h.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let d,f;return e.worker.onmessage=function(h){h=h.data,s("worker1.onmessage",h);let b=n[h.messageId];if(!b){if(h&&h.type==="sqlite3-api"&&h.result==="worker1-ready"){e.onready&&e.onready(f);return}if(b=n[h.type],b&&b.onrow){b.onrow(h);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",h);return}switch(delete n[h.messageId],h.type){case"error":b.reject(h);return;case"open":d||(d=h.dbId);break;case"close":h.dbId===d&&(d=void 0);break}try{b.resolve(h)}catch(x){b.reject(x)}},f=function(){let h;arguments.length===1?h=arguments[0]:arguments.length===2?(h=Object.create(null),h.type=arguments[0],h.args=arguments[1],h.dbId=h.args.dbId):c("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!h.dbId&&h.type!=="open"&&(h.dbId=d),h.messageId=l(h),h.departureTime=performance.now();const b=Object.create(null);b.message=h;let x;h.type==="exec"&&h.args&&(typeof h.args.callback=="function"?(x=h.messageId+":row",b.onrow=h.args.callback,h.args.callback=x,n[x]=b):typeof h.args.callback=="string"&&c("exec callback may not be a string when using the Promise interface."));let w=new Promise(function(E,I){b.resolve=E,b.reject=I,n[h.messageId]=b,s("Posting",h.type,"message to Worker dbId="+(d||"default")+":",h),e.worker.postMessage(h)});return x&&(w=w.finally(()=>delete n[x])),w}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(s){n.reject(s)}}});const r=new Promise(function(i,s){n.resolve=i,n.reject=s});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function kq(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function h0(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function bD(t){const e=t.split(/[\\/]/).filter(s=>s!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(s=>`${n}-${s}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let s=await navigator.storage.getDirectory();for(let o of e)s=await s.getDirectoryHandle(o);return s}}}async function PE(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const s=[];let o=!1;for(;!o;){const f=await i.read();f.value&&s.push(f.value),o=f.done}const l=s.reduce((f,h)=>f+h.length,0),c=new Uint8Array(l);let d=0;return s.forEach(f=>{c.set(f,d),d+=f.length}),c}}else return n}class JQ{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:kq()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:kq()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:s,verbose:o}=this.config,l=[s===!0?"r":"cw",o===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await ZQ()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,l),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,l),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=c=>{this.config.clientKey!==c.data.clientKey&&this.init(c.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(c){this.emitMessage({type:"error",error:c,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const s=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),s.type){case"config":this.editConfig(s);break;case"query":case"batch":case"transaction":this.exec(s);break;case"function":this.createUserFunction(s);break;case"getinfo":this.getDatabaseInfo(s);break;case"import":this.importDb(s);break;case"export":this.exportDb(s);break;case"delete":this.deleteDb(s);break;case"destroy":this.destroy(s);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const s=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{s||await this.transactionMutex.lock();const o=h0(this.db,r);i.data.push(o)}finally{s||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(o=>{for(let l of r.statements){const c=h0(o,l);i.data.push(c)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const o=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:o}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)h0(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,s=this.dbStorageType,o=s!==void 0?s!=="memory"?await navigator.storage?.persisted():!1:void 0,c=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],d=typeof c=="number"?c:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:d,storageType:s,persisted:o}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:s,queryKey:o}=r;let l;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:o});return}s==="callback"?l=(...c)=>{this.emitMessage({type:"callback",name:i,args:c})}:l=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:s,name:i,func:l}),this.emitMessage({type:"success",queryKey:o})}catch(c){this.emitMessage({type:"error",error:c,queryKey:o})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...s)=>r.func(...s),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:s}=r;let o=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const l=await PE(s,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,l)}else{const l=await PE(s,"buffer"),c=this.sqlite3.wasm.allocFromTypedArray(l);this.pointers.push(c);const d=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",c,l.byteLength,l.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(d),this.execInitStatements()}}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const s=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:s},[s])}catch(s){this.emitMessage({type:"error",error:s,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let s=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:o,fileName:l,tempFileNames:c}=bD(this.config.databasePath),d=await o(),f=[l,...c];this.destroy(),await Promise.all(f.map(async h=>d.removeEntry(h).catch(b=>{if(!(b instanceof DOMException&&b.name==="NotFoundError"))throw b})))}else this.destroy()}catch(o){this.emitMessage({type:"error",error:o,queryKey:i}),s=!0}finally{await this.init("delete")}s||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:fN(globalThis);this.proxy=n,this.init("initial")}}function Fv(t,...e){return{sql:t.join("?"),params:e}}function YQ(t){return!t.some(e=>!Array.isArray(e))}function m0(t,e){let n;return YQ(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((s,o)=>{i[s]=r[o]}),i})}function XQ(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function eK(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function tK(t){if(typeof t=="function"&&(t=t(Fv)),XQ(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!eK(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function g0(){return crypto.randomUUID()}function Iq(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=Fv(t,...e),n}async function Wg(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class nK{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const l=o instanceof MessageEvent?o.data:o,c=this.queriesInProgress;switch(l.type){case"success":case"data":case"buffer":case"info":case"error":if(l.queryKey&&c.has(l.queryKey)){const[f,h]=c.get(l.queryKey);l.type==="error"?h(l.error):f(l),c.delete(l.queryKey)}else if(l.type==="error")throw l.error;break;case"callback":const d=this.userCallbacks.get(l.name);d&&d(...l.args??[]);break;case"event":this.config.onConnect?.(l.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Wg("shared",this.bypassMutationLock||o.type==="import"||o.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const l=g0();switch(o.type){case"import":this.processor.postMessage({...o,queryKey:l},[o.database]);break;default:this.processor.postMessage({...o,queryKey:l});break}return new Promise((c,d)=>{this.queriesInProgress.set(l,[c,d])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l,c="all",d)=>{const f=await this.createQuery({type:"query",transactionKey:d,sql:o,params:l,method:c}),h={rows:[],columns:[]};return f.type==="data"&&(h.rows=f.data[0]?.rows??[],h.columns=f.data[0]?.columns??[]),h}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=await this.createQuery({type:"batch",statements:o}),c=new Array(o.length).fill({rows:[],columns:[]});return l.type==="data"&&l.data.forEach((d,f)=>{c[f]=d}),c}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(o,...l)=>{const c=Iq(o,l),{rows:d,columns:f}=await this.exec(c.sql,c.params,"all");return m0(d,f)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=o(Fv);return(await this.execBatch(l)).map(({rows:d,columns:f})=>m0(d,f))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=g0();await this.createQuery({type:"transaction",transactionKey:o,action:"begin"});const l=async h=>{const b=tK(h),{rows:x,columns:w}=await this.exec(b.sql,b.params,"all",o);return m0(x,w)};return{query:l,sql:async(h,...b)=>{const x=Iq(h,b);return await l(x)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Wg("exclusive",!1,this.config,async()=>{let l;this.bypassMutationLock=!0;try{l=await this.beginTransaction();const c=await o({sql:l.sql,query:l.query});return await l.commit(),c}catch(c){throw await l?.rollback(),c}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await this.createQuery({type:"function",functionName:o,functionType:"callback"}),this.userCallbacks.set(o,l)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{const c=`_sqlocal_func_${o}`;this.proxy===globalThis&&(this.proxy[c]=l),await this.createQuery({type:"function",functionName:o,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[c]=l)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=await this.createQuery({type:"getinfo"});if(o.type==="info")return o.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let o,l;const{storageType:c}=await this.getDatabaseInfo();if(c==="opfs"){const d=bD(this.config.databasePath),{directories:f,getDirectoryHandle:h}=d;o=d.fileName;const b=`backup-${Date.now()}--${o}`,x=`${f.join("/")}/${b}`;await this.exec("VACUUM INTO ?",[x]);const w=await h();l=await (await (await w.getFileHandle(b)).getFile()).arrayBuffer(),await w.removeEntry(b)}else{const d=await this.createQuery({type:"export"});if(d.type==="buffer")o="database.sqlite3",l=d.buffer;else throw new Error("The database failed to export.")}return new File([l],o,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await Wg("exclusive",!1,this.config,async()=>{try{const c=await PE(o);await this.createQuery({type:"import",database:c}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{await Wg("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof o=="function"&&(this.bypassMutationLock=!0,await o()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...s}=n;this.config=n,this.clientKey=g0(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s.databasePath})`),typeof globalThis.Worker<"u"&&s.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=fN(this.processor)):(this.processor=new JQ(!0),this.processor.onmessage=o=>this.processMessageEvent(o),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...s,clientKey:this.clientKey,onInitStatements:r?.(Fv)??[]}})}}class rK extends nK{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new iH,createDriver:()=>new iK(this),createIntrospector:e=>new rH(e),createQueryCompiler:()=>new eH}})}}class iK{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new sK(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class sK{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const oK=({database:t,bootstrap:e})=>{const{dialect:n}=new rK({databasePath:`${t}.sqlite3`,onInit(i){return[i`PRAGMA foreign_keys = ON;`]}}),r=new U1({dialect:n});return{kysely:r,async bootstrap(){return e({kysely:r})}}},Ii=gn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),aK="icon-[material-symbols--error-outline]",lK=gn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),pi=({error:t,variant:e,tva:n=lK,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?p.jsxs("div",{className:i.base(),children:[p.jsx(an,{icon:aK}),p.jsx("span",{children:Ll.rich(t.message)})]}):null},uK=gn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-emerald-600","font-bold"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),kn=({label:t,hint:e,required:n=!1,formState:r,name:i,children:s,variant:o,tva:l=uK,css:c})=>{const d=l({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...o,css:c}).slots;return p.jsxs("div",{className:d.base(),children:[p.jsxs("div",{className:"flex flex-row justify-between",children:[t?p.jsx("label",{htmlFor:i,children:t}):null,p.jsx(pi,{variant:{compact:!0},error:r.errors[i]})]}),e?p.jsx("div",{className:"text-sm italic",children:e}):null,p.jsx("div",{className:d.input(),children:s})]})},ms=({form:t,mutation:e})=>{const n=t.handleSubmit(async r=>e.mutateAsync(r,{onError:i=>{K1({error:i,errors:[k1({error:i,schema:Q1,onError:({data:s})=>{t.setError("root",{message:s.message})}})],onError:s=>{t.setError("root",{message:s.message})}})}}).catch(()=>{}));return r=>{r.stopPropagation(),n(r)}};function cK(t,e,n,r={leading:!1}){const[i,s]=K.useState(t),[o,l]=K.useState(t),c=K.useRef(null),d=K.useRef(!0),f=()=>window.clearTimeout(c.current||void 0);K.useEffect(()=>f,[]),K.useEffect(()=>{e(i)},[i]),K.useEffect(()=>{l(t),s(t)},[t]);const h=K.useCallback(b=>{l(b),f(),d.current&&r.leading?s(b):c.current=window.setTimeout(()=>{d.current=!0,s(b)},n),d.current=!1},[r.leading]);return[o,h]}const dK=gn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),xD=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=dK,css:s})=>{const o=i({...r,css:s}).slots,[l,c]=cK(t,d=>{e(d||"")},500);return p.jsxs("div",{className:o.base(),children:[p.jsx("div",{className:o.search(),children:p.jsx(an,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),p.jsx("input",{value:l||"",className:o.input(),type:"text",placeholder:n||Ll.text("Fulltext (placeholder)"),onChange:d=>{c(d.target.value)}}),t&&p.jsx("div",{className:o.clear(),onClick:()=>{e("")},children:p.jsx(an,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},rc="icon-[pajamas--go-back]",Dv="icon-[line-md--confirm-circle]",_D="icon-[mage--edit]",fK="icon-[arcticons--nothing-x]",pK="icon-[tabler--filter-plus]",Cq="icon-[tabler--filter-minus]",zb="icon-[ph--list-dashes-thin]",hK="icon-[svg-spinners--3-dots-scale]",hN="icon-[material-symbols-light--logout-sharp]",mK="icon-[fluent--shape-intersect-20-regular]",Wb="icon-[fluent--checkbox-unchecked-20-regular]",Ub="icon-[fluent--checkbox-checked-20-regular]",Oh="icon-[teenyicons--tag-outline]",si="icon-[ph--trash]",gK="icon-[clarity--upload-cloud-line]",mN="icon-[ph--user]",yK=async({queryClient:t,keys:e})=>{for await(const n of e)await t.invalidateQueries({queryKey:n,refetchType:"all"})},pr=t=>{const e=sb(),n=Oo();return async()=>{await yK({keys:t,queryClient:e}),await n.invalidate()}};var y0={exports:{}},v0,Tq;function vK(){if(Tq)return v0;Tq=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return v0=t,v0}var b0,Oq;function bK(){if(Oq)return b0;Oq=1;var t=vK();function e(){}function n(){}return n.resetWarningCache=e,b0=function(){function r(o,l,c,d,f,h){if(h!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},b0}var qq;function xK(){return qq||(qq=1,y0.exports=bK()()),y0.exports}var _K=xK();const Jn=to(_K);function uc(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?s(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}const wK=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Bd(t,e,n){const r=SK(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&Rq(r,"path",s),Rq(r,"relativePath",s),r}function SK(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=wK.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function Rq(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const EK=[".DS_Store","Thumbs.db"];function NK(t){return uc(this,void 0,void 0,function*(){return Lv(t)&&kK(t.dataTransfer)?OK(t.dataTransfer,t.type):IK(t)?CK(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?TK(t):[]})}function kK(t){return Lv(t)}function IK(t){return Lv(t)&&Lv(t.target)}function Lv(t){return typeof t=="object"&&t!==null}function CK(t){return FE(t.target.files).map(e=>Bd(e))}function TK(t){return uc(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Bd(n))})}function OK(t,e){return uc(this,void 0,void 0,function*(){if(t.items){const n=FE(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(qK));return jq(wD(r))}return jq(FE(t.files).map(n=>Bd(n)))})}function jq(t){return t.filter(e=>EK.indexOf(e.name)===-1)}function FE(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function qK(t){if(typeof t.webkitGetAsEntry!="function")return Aq(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?SD(e):Aq(t,e)}function wD(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?wD(n):[n]],[])}function Aq(t,e){return uc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Bd(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Bd(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function RK(t){return uc(this,void 0,void 0,function*(){return t.isDirectory?SD(t):jK(t)})}function SD(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>uc(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(RK));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function jK(t){return uc(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Bd(r,t.fullPath);e(i)},r=>{n(r)})})})}var Ug={},Pq;function AK(){return Pq||(Pq=1,Ug.__esModule=!0,Ug.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),Ug}var PK=AK();const x0=to(PK);function Fq(t){return LK(t)||DK(t)||ND(t)||FK()}function FK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LK(t){if(Array.isArray(t))return DE(t)}function Dq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(n),!0).forEach(function(r){ED(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ED(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qh(t,e){return BK(t)||$K(t,e)||ND(t,e)||MK()}function MK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ND(t,e){if(t){if(typeof t=="string")return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $K(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function BK(t){if(Array.isArray(t))return t}var zK=typeof x0=="function"?x0:x0.default,kD="file-invalid-type",ID="file-too-large",CD="file-too-small",TD="too-many-files",WK={FileInvalidType:kD,FileTooLarge:ID,FileTooSmall:CD,TooManyFiles:TD},UK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:kD,message:"File type must be ".concat(r)}},Mq=function(e){return{code:ID,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},$q=function(e){return{code:CD,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},VK={code:TD,message:"Too many files"};function OD(t,e){var n=t.type==="application/x-moz-file"||zK(t,e);return[n,n?null:UK(e)]}function qD(t,e,n){if(ju(t.size))if(ju(e)&&ju(n)){if(t.size>n)return[!1,Mq(n)];if(t.size<e)return[!1,$q(e)]}else{if(ju(e)&&t.size<e)return[!1,$q(e)];if(ju(n)&&t.size>n)return[!1,Mq(n)]}return[!0,null]}function ju(t){return t!=null}function HK(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(c){var d=OD(c,n),f=qh(d,1),h=f[0],b=qD(c,r,i),x=qh(b,1),w=x[0],E=l?l(c):null;return h&&w&&!E})}function Mv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Vg(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Bq(t){t.preventDefault()}function QK(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function KK(t){return t.indexOf("Edge/")!==-1}function GK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return QK(t)||KK(t)}function Mo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!Mv(r)&&l&&l.apply(void 0,[r].concat(s)),Mv(r)})}}function ZK(){return"showOpenFilePicker"in window}function JK(t){if(ju(t)){var e=Object.entries(t).filter(function(n){var r=qh(n,2),i=r[0],s=r[1],o=!0;return RD(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(jD))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=qh(r,2),s=i[0],o=i[1];return Lq(Lq({},n),{},ED({},s,o))},{});return[{description:"Files",accept:e}]}return t}function YK(t){if(ju(t))return Object.entries(t).reduce(function(e,n){var r=qh(n,2),i=r[0],s=r[1];return[].concat(Fq(e),[i],Fq(s))},[]).filter(function(e){return RD(e)||jD(e)}).join(",")}function XK(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function eG(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function RD(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function jD(t){return/^.*\.[\w]+$/.test(t)}var tG=["children"],nG=["open"],rG=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],iG=["refKey","onChange","onClick"];function sG(t){return lG(t)||aG(t)||AD(t)||oG()}function oG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lG(t){if(Array.isArray(t))return LE(t)}function _0(t,e){return dG(t)||cG(t,e)||AD(t,e)||uG()}function uG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AD(t,e){if(t){if(typeof t=="string")return LE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LE(t,e)}}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function dG(t){if(Array.isArray(t))return t}function zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zq(Object(n),!0).forEach(function(r){ME(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ME(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $v(t,e){if(t==null)return{};var n=fG(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Vb=K.forwardRef(function(t,e){var n=t.children,r=$v(t,tG),i=FD(r),s=i.open,o=$v(i,nG);return K.useImperativeHandle(e,function(){return{open:s}},[s]),$n.createElement(K.Fragment,null,n(Rr(Rr({},o),{},{open:s})))});Vb.displayName="Dropzone";var PD={disabled:!1,getFilesFromEvent:NK,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Vb.defaultProps=PD;Vb.propTypes={children:Jn.func,accept:Jn.objectOf(Jn.arrayOf(Jn.string)),multiple:Jn.bool,preventDropOnDocument:Jn.bool,noClick:Jn.bool,noKeyboard:Jn.bool,noDrag:Jn.bool,noDragEventsBubbling:Jn.bool,minSize:Jn.number,maxSize:Jn.number,maxFiles:Jn.number,disabled:Jn.bool,getFilesFromEvent:Jn.func,onFileDialogCancel:Jn.func,onFileDialogOpen:Jn.func,useFsAccessApi:Jn.bool,autoFocus:Jn.bool,onDragEnter:Jn.func,onDragLeave:Jn.func,onDragOver:Jn.func,onDrop:Jn.func,onDropAccepted:Jn.func,onDropRejected:Jn.func,onError:Jn.func,validator:Jn.func};var $E={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function FD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Rr(Rr({},PD),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,b=e.onDrop,x=e.onDropAccepted,w=e.onDropRejected,E=e.onFileDialogCancel,I=e.onFileDialogOpen,T=e.useFsAccessApi,O=e.autoFocus,q=e.preventDropOnDocument,A=e.noClick,D=e.noKeyboard,L=e.noDrag,z=e.noDragEventsBubbling,P=e.onError,R=e.validator,M=K.useMemo(function(){return YK(n)},[n]),F=K.useMemo(function(){return JK(n)},[n]),W=K.useMemo(function(){return typeof I=="function"?I:Wq},[I]),V=K.useMemo(function(){return typeof E=="function"?E:Wq},[E]),B=K.useRef(null),ee=K.useRef(null),J=K.useReducer(pG,$E),le=_0(J,2),se=le[0],ne=le[1],oe=se.isFocused,X=se.isFileDialogActive,ce=K.useRef(typeof window<"u"&&window.isSecureContext&&T&&ZK()),de=function(){!ce.current&&X&&setTimeout(function(){if(ee.current){var ct=ee.current.files;ct.length||(ne({type:"closeDialog"}),V())}},300)};K.useEffect(function(){return window.addEventListener("focus",de,!1),function(){window.removeEventListener("focus",de,!1)}},[ee,X,V,ce]);var ye=K.useRef([]),_e=function(ct){B.current&&B.current.contains(ct.target)||(ct.preventDefault(),ye.current=[])};K.useEffect(function(){return q&&(document.addEventListener("dragover",Bq,!1),document.addEventListener("drop",_e,!1)),function(){q&&(document.removeEventListener("dragover",Bq),document.removeEventListener("drop",_e))}},[B,q]),K.useEffect(function(){return!r&&O&&B.current&&B.current.focus(),function(){}},[B,O,r]);var Ne=K.useCallback(function(Me){P?P(Me):console.error(Me)},[P]),ze=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[].concat(sG(ye.current),[Me.target]),Vg(Me)&&Promise.resolve(i(Me)).then(function(ct){if(!(Mv(Me)&&!z)){var Ht=ct.length,Qt=Ht>0&&HK({files:ct,accept:M,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:R}),pn=Ht>0&&!Qt;ne({isDragAccept:Qt,isDragReject:pn,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Me)}}).catch(function(ct){return Ne(ct)})},[i,d,Ne,z,M,o,s,l,c,R]),qe=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ct=Vg(Me);if(ct&&Me.dataTransfer)try{Me.dataTransfer.dropEffect="copy"}catch{}return ct&&h&&h(Me),!1},[h,z]),De=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ct=ye.current.filter(function(Qt){return B.current&&B.current.contains(Qt)}),Ht=ct.indexOf(Me.target);Ht!==-1&&ct.splice(Ht,1),ye.current=ct,!(ct.length>0)&&(ne({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Vg(Me)&&f&&f(Me))},[B,f,z]),Ze=K.useCallback(function(Me,ct){var Ht=[],Qt=[];Me.forEach(function(pn){var lr=OD(pn,M),Dn=_0(lr,2),Vr=Dn[0],Oi=Dn[1],Cr=qD(pn,o,s),Kt=_0(Cr,2),Ki=Kt[0],Gi=Kt[1],Zi=R?R(pn):null;if(Vr&&Ki&&!Zi)Ht.push(pn);else{var io=[Oi,Gi];Zi&&(io=io.concat(Zi)),Qt.push({file:pn,errors:io.filter(function(aa){return aa})})}}),(!l&&Ht.length>1||l&&c>=1&&Ht.length>c)&&(Ht.forEach(function(pn){Qt.push({file:pn,errors:[VK]})}),Ht.splice(0)),ne({acceptedFiles:Ht,fileRejections:Qt,isDragReject:Qt.length>0,type:"setFiles"}),b&&b(Ht,Qt,ct),Qt.length>0&&w&&w(Qt,ct),Ht.length>0&&x&&x(Ht,ct)},[ne,l,M,o,s,c,b,x,w,R]),Xe=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[],Vg(Me)&&Promise.resolve(i(Me)).then(function(ct){Mv(Me)&&!z||Ze(ct,Me)}).catch(function(ct){return Ne(ct)}),ne({type:"reset"})},[i,Ze,Ne,z]),Ue=K.useCallback(function(){if(ce.current){ne({type:"openDialog"}),W();var Me={multiple:l,types:F};window.showOpenFilePicker(Me).then(function(ct){return i(ct)}).then(function(ct){Ze(ct,null),ne({type:"closeDialog"})}).catch(function(ct){XK(ct)?(V(ct),ne({type:"closeDialog"})):eG(ct)?(ce.current=!1,ee.current?(ee.current.value=null,ee.current.click()):Ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ne(ct)});return}ee.current&&(ne({type:"openDialog"}),W(),ee.current.value=null,ee.current.click())},[ne,W,V,T,Ze,Ne,F,l]),ut=K.useCallback(function(Me){!B.current||!B.current.isEqualNode(Me.target)||(Me.key===" "||Me.key==="Enter"||Me.keyCode===32||Me.keyCode===13)&&(Me.preventDefault(),Ue())},[B,Ue]),wt=K.useCallback(function(){ne({type:"focus"})},[]),Tt=K.useCallback(function(){ne({type:"blur"})},[]),Wt=K.useCallback(function(){A||(GK()?setTimeout(Ue,0):Ue())},[A,Ue]),en=function(ct){return r?null:ct},xe=function(ct){return D?null:en(ct)},ve=function(ct){return L?null:en(ct)},ke=function(ct){z&&ct.stopPropagation()},Ae=K.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=Me.refKey,Ht=ct===void 0?"ref":ct,Qt=Me.role,pn=Me.onKeyDown,lr=Me.onFocus,Dn=Me.onBlur,Vr=Me.onClick,Oi=Me.onDragEnter,Cr=Me.onDragOver,Kt=Me.onDragLeave,Ki=Me.onDrop,Gi=$v(Me,rG);return Rr(Rr(ME({onKeyDown:xe(Mo(pn,ut)),onFocus:xe(Mo(lr,wt)),onBlur:xe(Mo(Dn,Tt)),onClick:en(Mo(Vr,Wt)),onDragEnter:ve(Mo(Oi,ze)),onDragOver:ve(Mo(Cr,qe)),onDragLeave:ve(Mo(Kt,De)),onDrop:ve(Mo(Ki,Xe)),role:typeof Qt=="string"&&Qt!==""?Qt:"presentation"},Ht,B),!r&&!D?{tabIndex:0}:{}),Gi)}},[B,ut,wt,Tt,Wt,ze,qe,De,Xe,D,L,r]),Ve=K.useCallback(function(Me){Me.stopPropagation()},[]),rt=K.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=Me.refKey,Ht=ct===void 0?"ref":ct,Qt=Me.onChange,pn=Me.onClick,lr=$v(Me,iG),Dn=ME({accept:M,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:en(Mo(Qt,Xe)),onClick:en(Mo(pn,Ve)),tabIndex:-1},Ht,ee);return Rr(Rr({},Dn),lr)}},[ee,n,l,Xe,r]);return Rr(Rr({},se),{},{isFocused:oe&&!r,getRootProps:Ae,getInputProps:rt,rootRef:B,inputRef:ee,open:en(Ue)})}function pG(t,e){switch(e.type){case"focus":return Rr(Rr({},t),{},{isFocused:!0});case"blur":return Rr(Rr({},t),{},{isFocused:!1});case"openDialog":return Rr(Rr({},$E),{},{isFileDialogActive:!0});case"closeDialog":return Rr(Rr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Rr(Rr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Rr(Rr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Rr({},$E);default:return t}}function Wq(){}const hG=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:WK,default:Vb,useDropzone:FD},Symbol.toStringTag,{value:"Module"})),mG=gn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:gG}=hG,yG=({id:t,accept:e,text:n,variant:r,tva:i=mG,css:s,...o})=>{const{getRootProps:l,getInputProps:c,isDragActive:d,isDragReject:f}=gG({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...o}),h=i({active:d,rejected:f,...r,css:s}).slots;return p.jsx("div",{...l(),className:h.base(),children:p.jsxs("label",{htmlFor:t,className:h.label(),children:[p.jsxs("div",{className:h.zone(),children:[p.jsx(an,{icon:gK,variant:{size:"4xl"}}),p.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||Ll.rich("Drag 'n' drop a file here")}),n?.message?p.jsx("p",{className:"text-xs",children:n.message}):null]}),p.jsx("input",{id:t,type:"file",className:"hidden",...c()})]})})},vG=gn({slot:{base:["min-h-screen","flex","flex-col"],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["flex-grow","h-full","border-b","border-b-slate-200","p-2"]},variant:{},defaults:{}}),DD=({logo:t,menu:e,actions:n,variant:r,tva:i=vG,css:s,children:o})=>{const l=i({...r,css:s}).slots;return p.jsxs("div",{className:l.base(),children:[p.jsx(yz,{position:"top-right"}),p.jsxs("div",{className:l.header(),children:[p.jsx("div",{children:t}),p.jsx("div",{className:"flex-grow",children:e}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),p.jsx("div",{className:l.content(),children:o??p.jsx(no,{})})]})},bG=gn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),xG=K.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=bG,css:i,children:s,...o},l)=>{const c=r({...n,css:i}).slots;return p.jsxs("a",{...o,ref:l,className:c.base(),children:[t&&p.jsx(an,{icon:t,...e}),s]})}),_G=Wj(xG),fn=t=>p.jsx(_G,{preload:"intent",...t}),wG=gn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),SG=({show:t=!0,variant:e,tva:n=wG,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?p.jsx("div",{className:i.base(),children:p.jsx(an,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var Iy={exports:{}},EG=Iy.exports,Uq;function NG(){return Uq||(Uq=1,function(t,e){(function(n,r){t.exports=r()})(EG,()=>(()=>{var n={d:(w,E)=>{for(var I in E)n.o(E,I)&&!n.o(w,I)&&Object.defineProperty(w,I,{enumerable:!0,get:E[I]})},o:(w,E)=>Object.prototype.hasOwnProperty.call(w,E)},r={};n.d(r,{default:()=>x});const i=(...w)=>{},s=w=>w!==null&&w?.constructor.name==="Object";let o,l;const c=()=>{if(!o){o=!0;try{l=h.storage||localStorage,l.getItem("")}catch{l=(()=>{const w={getItem:I=>E[I]||null,setItem:(I,T)=>{E[I]=T},removeItem:I=>{E[I]=void 0},clear:()=>{E={__proto__:w}}};let E={__proto__:w};return E})()}b()}},d="\0",f=(w,E,I=!0)=>I?[...JSON.stringify(w)].map(T=>String.fromCharCode(T.charCodeAt(0)+E)).join(""):JSON.parse([...w].map(T=>String.fromCharCode(T.charCodeAt(0)-E)).join("")),h={ttl:null,encrypt:!1,encrypter:f,decrypter:(w,E)=>f(w,E,!1),secret:75,storage:void 0};Object.seal(h);const b=(w=!1)=>{c();for(const E of Object.keys(l)){const I=l.getItem(E);let T;try{T=JSON.parse(I||"")}catch{continue}s(T)&&d in T&&(Date.now()>T.ttl||w)&&l.removeItem(E)}},x={config:h,set:(w,E,I={})=>{c();const T={...h,...I,encrypt:I.encrypt!==!1&&(I.encrypt||h.encrypt),ttl:I.ttl===null?null:I.ttl||h.ttl};try{const O=T.ttl&&!isNaN(T.ttl)&&T.ttl>0;let q=O?{[d]:E,ttl:Date.now()+1e3*T.ttl}:E;T.encrypt&&(O?q[d]=(T.encrypter||i)(q[d],T.secret):q=(T.encrypter||i)(q,T.secret)),l.setItem(w,JSON.stringify(q))}catch{return!1}},get:(w,E={})=>{c();const I=l.getItem(w),T={...h,...E,encrypt:E.encrypt!==!1&&(E.encrypt||h.encrypt),ttl:E.ttl===null?null:E.ttl||h.ttl};let O,q;try{O=JSON.parse(I||""),q=s(O)&&d in O,(T.decrypt||T.encrypt)&&(q?O[d]=(T.decrypter||i)(O[d],T.secret):O=(T.decrypter||i)(O,T.secret))}catch{}return q?Date.now()>O.ttl?(l.removeItem(w),null):O[d]:O!==void 0?O:I},flush:b,clear:()=>{c(),l.clear()},remove:w=>{c(),l.removeItem(w)}};return r.default})())}(Iy)),Iy.exports}var kG=NG();const IG=to(kG),cf=IG,CG=gn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Yl=({variant:t,tva:e=CG,css:n,children:r})=>{const i=e({...t,css:n}).slots;return p.jsx("div",{className:i.base(),children:r})},LD=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),TG=K.forwardRef(({icon:t=null,variant:e,tva:n=LD,css:r,children:i,...s},o)=>{const l=n({...e,css:r}).slots;return p.jsxs("a",{...s,className:l.base(),ref:o,children:[Sb(t)?p.jsx(an,{icon:t}):t,i]})}),OG=Wj(TG),Pn=({match:t=[],variant:e,tva:n=LD,css:r,...i})=>{const s=b4(),o=t.some(l=>!!s(l));return p.jsx(OG,{preload:"intent",variant:{active:!!s({to:i.to,params:i.params})||o,...e},tva:n,css:r,...i})},qG=gn({slot:{base:["flex","flex-row","flex-wrap","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),zd=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:s,tva:o=qG,css:l})=>{const c=i?n.slice(0,i):n,d=o({...s,css:l}).slots;return p.jsxs("div",{className:d.base(),children:[n.length?null:e,c.map(f=>p.jsx(r,{entity:f},`items-${f.id}`)),i&&n.length>i&&p.jsx(uf,{textTitle:t,target:p.jsx(fm,{iconEnabled:dD}),outside:!0,children:p.jsx("div",{className:"flex flex-col gap-2",children:n.map(f=>p.jsx(r,{entity:f},`items-${f.id}`))})})]})},RG=gn({slot:{base:[]},variant:{},defaults:{}}),te=({label:t,fallback:e,variant:n,tva:r=RG,css:i})=>{const s=r({...n,css:i}).slots;return p.jsx("div",{className:s.base(),children:Ll.rich(t,e)})},MD=gn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),jG=gn({use:MD,slot:{},variant:{},defaults:{}}),AG=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:c,value:d,onChange:f,variant:h,tva:b=jG,css:x})=>{const w=b({...h,css:x}).slots,[E,I]=K.useState(0),[T,O]=K.useState(15),[q,A]=K.useState(d||[]),[D,L]=K.useState(void 0),z=Yy({queryKey:[l,"PopupMultiSelect","data",{fulltext:D,page:E,size:T}],async queryFn(){return c({filter:{fulltext:D},cursor:{page:E,size:T}})}}),P=Yy({queryKey:[l,"PopupMultiSelect","selected",{value:d}],async queryFn(){return c({filter:{idIn:d}})},enabled:!!d});return p.jsx(uf,{icon:t,target:p.jsxs("label",{className:w.input({loading:P.isLoading,selected:!!P.data?.data.length}),children:[p.jsx(an,{icon:P.data?.data?.length?Ub:Wb}),P.data&&P.data.data.length?p.jsx(s,{entities:P.data.data}):n||p.jsx(te,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:p.jsxs("div",{className:w.base(),children:[p.jsx("div",{className:w.content(),children:p.jsx(i,{cursor:{cursor:{page:E,size:T},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:p.jsx(te,{label:"Total count of items (label)"}),onPage(R){I(R)},onSize(R){O(R),I(0)}},fulltext:{value:D,set(R){L(R),I(0)}},table:{data:z.data?.data??[],selection:{type:"multi",value:q,set(R){A(R)}}}})}),p.jsx($b.Consumer,{children:R=>p.jsxs("div",{className:w.footer(),children:[p.jsx(Fn,{iconEnabled:rc,iconDisabled:rc,onClick:()=>{R?.close()},variant:{variant:"subtle"},children:p.jsx(te,{label:"Close (label)"})}),p.jsx(Fn,{iconEnabled:Dv,iconDisabled:Dv,disabled:!q.length&&!o,onClick:()=>{f(q),R?.close()},children:p.jsx(te,{label:"Confirm selection (label)"})})]})})]})})},$D=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:c,value:d,onChange:f,variant:h,tva:b=MD,css:x})=>{const w=b({...h,css:x}).slots,[E,I]=K.useState(0),[T,O]=K.useState(15),[q,A]=K.useState(d?[d]:[]),[D,L]=K.useState(void 0),z=Yy({queryKey:[l,"PopupSelect","data",{fulltext:D,page:E,size:T}],async queryFn(){return c({filter:{fulltext:D},cursor:{page:E,size:T}})}}),P=Yy({queryKey:[l,"PopupSelect","selected",{value:d}],async queryFn(){return c({filter:{id:d||void 0}})},enabled:!!d});return p.jsx(uf,{icon:t,target:p.jsxs("label",{className:w.input({loading:P.isLoading,selected:!!P.data?.data?.length}),children:[p.jsx(an,{icon:P.data?.data?.[0]?Ub:Wb}),P.data?.data?.[0]?p.jsx(s,{entity:P.data?.data?.[0]}):n||p.jsx(te,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:p.jsxs("div",{className:w.base(),children:[p.jsx("div",{className:w.content(),children:p.jsx(i,{cursor:{cursor:{page:E,size:T},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:p.jsx(te,{label:"Total count of items (label)"}),onPage(R){I(R)},onSize(R){O(R),I(0)}},fulltext:{value:D,set(R){L(R),I(0)}},table:{data:z.data?.data??[],selection:{type:"single",value:q,set(R){A(R)}}}})}),p.jsx($b.Consumer,{children:R=>p.jsxs("div",{className:w.footer(),children:[p.jsx(Fn,{iconEnabled:rc,iconDisabled:rc,onClick:()=>{R?.close()},variant:{variant:"subtle"},children:p.jsx(te,{label:"Close (label)"})}),p.jsx(Fn,{iconEnabled:Dv,iconDisabled:Dv,disabled:!q.length&&!o,onClick:()=>{f(q?.[0]),R?.close()},children:p.jsx(te,{label:"Confirm selection (label)"})})]})})]})})},PG=gn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),df=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:s,tva:o=PG,css:l})=>{const c=o({...s,css:l}).slots;return p.jsx(dN.Provider,{value:{inline:!0},children:p.jsx("div",{className:c.base(),children:p.jsxs("div",{className:c.container(),children:[p.jsx("div",{className:c.title(),children:p.jsx(e,{entity:t})}),p.jsx("div",{className:c.links(),children:p.jsx(n,{entity:t})}),p.jsx("div",{className:c.actions(),children:p.jsx(r,{entity:t})}),p.jsx("div",{className:c.extra(),children:p.jsx(i,{entity:t})})]})})})},FG=gn({slot:{base:["w-full","bg-slate-200","rounded","transition-all"],progress:["h-full","bg-blue-400","rounded","leading-none","transition-all"]},variant:{size:{xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-4"}},defaults:{size:"md"}}),ff=({value:t,variant:e,tva:n=FG,css:r})=>{const i=n({...e,css:r}).slots;return p.jsx("div",{className:i.base(),children:p.jsx("div",{style:{width:`${t}%`},className:i.progress()})})},DG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},LG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},xr=t=>({onPage:DG(t),onSize:LG(t)}),_r=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),wr=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},Hi=t=>e=>{t({search(n){return{...n,selection:e}}})},hr=t=>({loading:p.jsx(te,{label:`${t} - Loading (label)`}),success:p.jsx(te,{label:`${t} - Success (label)`}),error:p.jsx(te,{label:`${t} - Error (label)`})}),MG=gn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),Qi=({textContent:t,textToast:e,callback:n,onCancel:r,invalidator:i,variant:s,tva:o=MG,css:l})=>{const c=o({...s,css:l}).slots,d=K.useContext($b),f=tn({async mutationFn(){return vz.promise(n(),hr(e))},async onSuccess(){await i?.(),d?.close()}});return p.jsxs("div",{className:c.base(),children:[p.jsx("div",{className:c.content(),children:t}),p.jsxs("div",{className:c.footer(),children:[p.jsx(Fn,{variant:{variant:"subtle",size:"sm"},iconEnabled:rc,onClick:()=>{d?.close(),r?.()},children:p.jsx(te,{label:"Cancel (button)"})}),p.jsx(Fn,{variant:{variant:"danger",size:"md"},iconEnabled:si,onClick:()=>{f.mutate()},children:p.jsx(te,{label:"Delete (button)"})})]})]})},$G=async({select:t,query:e=()=>t,filter:n,where:r})=>({total:(await t.clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,filter:(await e({select:e({select:t,where:r}),where:n}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,where:(await e({select:t,where:r}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count}),Xl=async({select:t,query:e=()=>t,output:n,filter:r,where:i})=>n.parse(await e({select:e({select:t,where:i}),where:r}).executeTakeFirstOrThrow()),Uo=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>{const o=l=>{let c=l;return s&&(c=l.limit(s.size).offset(s.page*s.size)),c};return U.array(n).parse(await o(e({select:e({select:t,where:i}),where:r})).execute())},tr=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>({data:await Uo({select:t,output:n,where:i,filter:r,query:e,cursor:s}),count:await $G({select:t,where:i,filter:r,query:e})}),nr=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:s=>"schema"in t?t.schema.parse(s):t.parse(s)}},Hg=(t,e)=>U.custom().pipe(t.catch(e)),Sr=({filter:t},{size:e=30}={size:30})=>U.object({filter:Hg(t.optional(),void 0),cursor:Hg(p9,{page:0,size:e}).default({page:0,size:e}),sort:Hg(U.any().optional(),[]).default([]),selection:Hg(U.array(U.string()),[]).default([])}),BG=gn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),BD=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:s=BG,css:o,children:l})=>{const c=s({...i,css:o}).slots;return p.jsxs("div",{className:c.base(),children:[n?p.jsx(an,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,p.jsx("div",{className:c.title(),children:t}),p.jsx("div",{className:c.message(),children:e}),p.jsx("div",{className:c.body(),children:l})]})},gN=gn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),zG=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:s=gN,css:o})=>{const l=e.def.render,c=s({...i,css:o}).slots;return p.jsx("td",{className:c.td(),children:p.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[p.jsx(l,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?p.jsx(an,{icon:pK,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},WG=({table:t,row:e,action:n,variant:r,tva:i=gN,css:s})=>{const o=i({...r,css:s}).slots,l=n?.table,c=n?.row;return p.jsxs("tr",{className:o.tr({selected:t.selection.isSelected(e)}),children:[l||c||t.selection.enabled?p.jsx("td",{className:"w-0",children:p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?p.jsx(an,{icon:t.selection.isSelected(e)?Ub:Wb,css:{base:o.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,c?p.jsx(c,{table:t,data:e.data}):null]})}):null,e.cells.map(d=>p.jsx(zG,{table:t,cell:d,variant:r,tva:i,css:s},`${e.id}-${d.column.id}`)),p.jsx("td",{})]})},Er=({table:t,fulltext:e,cursor:n,empty:r=()=>p.jsx(BD,{icon:fK,textTitle:p.jsx(te,{label:"Nothing here"}),textMessage:p.jsx(te,{label:"There is nothing to see right now."})}),action:i,variant:s,tva:o=gN,css:l})=>{const c=o({...s,css:l}).slots,d=i?.table,f=i?.row;return p.jsxs("div",{className:c.base(),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?p.jsx(xD,{value:e.value,onFulltext:e.set}):null}),p.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[p.jsx(wq,{...n}),t.filter.is()&&p.jsx(fm,{iconEnabled:Cq,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),p.jsx("div",{className:"relative overflow-x-auto",children:p.jsxs("table",{className:c.table(),children:[p.jsx("thead",{className:c.thead(),children:p.jsxs("tr",{children:[d||f||t.selection.enabled?p.jsx("th",{className:"w-0",children:p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?p.jsx(an,{icon:t.selection.isAll()?Ub:t.selection.isAny()?mK:Wb,variant:{disabled:t.selection.isSingle},css:{base:c.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,d?p.jsx(d,{table:t}):null]})}):null,t.visible.map(h=>{const b=h.def.header||(()=>null);return p.jsx("th",{className:c.th(),style:h.def.size?{width:`${h.def.size}rem`}:void 0,children:p.jsxs("div",{className:"flex flex-row items-center justify-between",children:[p.jsx(b,{table:t}),p.jsx("div",{className:"flex flex-row items-center gap-2",children:h.filter?.is()&&p.jsx(an,{icon:Cq,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{h.filter?.reset()}})})]})},h.id)}),p.jsx("th",{})]})}),t.isEmpty?null:p.jsx("tbody",{className:c.tbody(),children:t.rows?.map(h=>p.jsx(WG,{row:h,table:t,action:i,variant:s,tva:o,css:l},h.id))})]})}),t.isEmpty?p.jsx(r,{}):null,p.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[p.jsx("div",{}),p.jsx(wq,{...n})]})]})},ui=[];for(let t=0;t<256;++t)ui.push((t+256).toString(16).slice(1));function UG(t,e=0){return(ui[t[e+0]]+ui[t[e+1]]+ui[t[e+2]]+ui[t[e+3]]+"-"+ui[t[e+4]]+ui[t[e+5]]+"-"+ui[t[e+6]]+ui[t[e+7]]+"-"+ui[t[e+8]]+ui[t[e+9]]+"-"+ui[t[e+10]]+ui[t[e+11]]+ui[t[e+12]]+ui[t[e+13]]+ui[t[e+14]]+ui[t[e+15]]).toLowerCase()}let w0;const VG=new Uint8Array(16);function HG(){if(!w0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");w0=crypto.getRandomValues.bind(crypto)}return w0(VG)}const QG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vq={randomUUID:QG};function Hq(t,e,n){if(Vq.randomUUID&&!t)return Vq.randomUUID();t=t||{};const r=t.random??t.rng?.()??HG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,UG(r)}const Nr=({columns:t,order:e=t.map(c=>c.name),hidden:n=[],visible:r=t.map(c=>c.name),data:i,filter:s,selection:o,context:l})=>{const c={...s?.value||{}},d=QO(c),f=new Set(o?.value),h=t.map(x=>({id:Hq(),def:x,filter:x.filter?{is(){return x.filter?d.get(x.filter.path)!==void 0:!1},reset(){x.filter&&d.set(x.filter.path,void 0),s?.set({...c})},shallow(w,E){x.filter&&d.set(w,E),s?.set({...c})},set(w){s?.set({...w})}}:void 0})),b=h.filter(x=>r.includes(x.def.name)&&!n.includes(x.def.name)).sort((x,w)=>{const E=e.indexOf(x.def.name),I=e.indexOf(w.def.name);return(E===-1?1/0:E)-(I===-1?1/0:I)});return{columns:h,visible:b,rows:i?.map(x=>({id:Hq(),data:x,cells:b.map(w=>({column:w,data:x,value:QO(x).get(w.def.name)}))})),isEmpty:i.length===0,filter:{is(){return h.some(x=>x.filter?.is())},reset(){s?.set({})},set(x){s?.set({...x})},shallow(x,w){d.set(x,w)}},selection:{enabled:!!o&&i.length>0,selection:Array.from(f),isSingle:o?.type==="single",isMulti:o?.type==="multi",isSelected({data:x}){return f.has(x.id)||!1},isAll(){return i.every(x=>f.has(x.id))},isAny(){return i.some(x=>f.has(x.id))},withRowHandler({data:x}){return()=>{if(o?.type==="single"){const w=f.has(x.id);f.clear(),w?f.delete(x.id):f.add(x.id)}else f.has(x.id)?f.delete(x.id):f.add(x.id);o?.set(Array.from(f))}},withAllHandler(){return()=>{i.every(x=>f.has(x.id))?f.clear():i.forEach(({id:x})=>f.add(x)),o?.set(Array.from(f))}}},context:l}},kr=()=>t=>t,zD=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((s,o)=>s.sort-o.sort);return p.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(s=>p.jsx(Ko,{onClick:()=>n?.(s),children:e({tag:s})},s.id)):r||p.jsx(te,{label:"No tags (label)"})})},KG=gn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500","font-bold"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),pf=({icon:t,title:e,subtitle:n,variant:r,tva:i=KG,css:s})=>{const o=i({withSubtitle:!!n,...r,css:s}).slots;return p.jsxs("div",{className:o.base(),children:[p.jsxs("div",{className:o.title(),children:[t?p.jsx(an,{icon:t}):null,e]}),n?p.jsx("div",{className:o.subtitle(),children:n}):null]})};var Qg={},Qq;function GG(){if(Qq)return Qg;Qq=1;var t=zj();return Qg.createRoot=t.createRoot,Qg.hydrateRoot=t.hydrateRoot,Qg}var ZG=GG();const JG=to(ZG),yN=i4()({component:()=>p.jsxs(p.Fragment,{children:[p.jsx(k4,{}),p.jsx(no,{})]})}),YG="modulepreload",XG=function(t){return"/"+t},Kq={},Gq=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=XG(c),c in Kq)return;Kq[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":YG,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((b,x)=>{h.addEventListener("load",b),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},eZ=Gt("/$locale")({component:no,loader:async({params:{locale:t}})=>{try{Ll.push((await tZ(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function tZ(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return Gq(()=>import("./cs-BKNdLWwU.js"),[]);case"../translation/en":case"../translation/en.yaml":return Gq(()=>import("./en-DcVNgCt-.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const WD="cs",nZ=[WD,"en"],rZ=Gt("/")({loader:async()=>{throw Vh({to:"/$locale",params:{locale:p5({available:nZ,fallback:WD})}})}}),iZ=Gt("/$locale/")({component:()=>{const{locale:t}=xn({from:"/$locale"});return p.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:p.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[p.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),p.jsx("ul",{children:p.jsx("li",{children:p.jsx(fn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:Rt,bootstrap:sZ}=oK({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)";try{await t.selectFrom("User").select(n=>n.fn.countAll().as("count")).executeTakeFirstOrThrow()}catch{await t.schema.createTable("User").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("login","varchar(128)",r=>r.notNull()).addColumn("password","varchar(256)",r=>r.notNull()).addUniqueConstraint("[User] login",["login"]).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("code","varchar(64)",r=>r.notNull()).addColumn("label","varchar(128)",r=>r.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",r=>r.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Cycle] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("stamp","datetime",r=>r.defaultTo(Ar`CURRENT_TIMESTAMP`).notNull()).execute(),await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addUniqueConstraint("[Resource] name",["name"]).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("tagId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] tagId",["tagId"],"Tag",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Resource_Tag] resourceId-tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).execute(),await t.schema.createTable("Default_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Default_Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).addUniqueConstraint("[Default_Inventory] resourceId",["resourceId"]).execute(),await t.schema.createTable("User_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[User_Inventory] userId-inventoryId",["userId","inventoryId"]).execute(),await t.schema.createTable("Blueprint").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).addColumn("sort","integer",r=>r.notNull()).addColumn("limit","integer",r=>r.notNull().defaultTo(1)).addUniqueConstraint("[Blueprint] name",["name"]).execute(),await t.schema.createTable("Blueprint_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Inventory] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Inventory] blueprintId-inventoryId",["blueprintId","inventoryId"]).execute(),await t.schema.createTable("Blueprint_Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).execute(),await t.schema.createTable("Blueprint_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Requirement] blueprintId-requirementId",["blueprintId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("dependencyId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] dependencyId",["dependencyId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Dependency] blueprintId-dependencyId",["blueprintId","dependencyId"]).execute(),await t.schema.createTable("Blueprint_Conflict").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("conflictId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] conflictId",["conflictId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Conflict] blueprintId-conflictId",["blueprintId","conflictId"]).execute(),await t.schema.createTable("Blueprint_Production_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Requirement] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Production_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-blueprintId",["blueprintProductionId","blueprintId"]).execute(),await t.schema.createTable("Blueprint_Production_Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Production_Queue").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("count","integer",r=>r.notNull().defaultTo(0)).addColumn("limit","integer",r=>r.notNull().defaultTo(0)).addColumn("priority","integer",r=>r.notNull().defaultTo(0)).addColumn("paused","boolean",r=>r.notNull().defaultTo(!1)).addUniqueConstraint("[Production_Queue] userId-blueprintProductionId",["blueprintProductionId","userId"]).execute(),await t.schema.createTable("Construction").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("x","float4",r=>r.notNull().defaultTo(0)).addColumn("y","float4",r=>r.notNull().defaultTo(0)).addColumn("plan","boolean",r=>r.notNull().defaultTo(!0)).addColumn("valid","boolean",r=>r.notNull().defaultTo(!0)).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Building").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("x","float4",r=>r.notNull().defaultTo(0)).addColumn("y","float4",r=>r.notNull().defaultTo(0)).execute(),await t.schema.createTable("Building_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Building_Inventory] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[Building_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Building_Inventory] buildingId-inventoryId",["buildingId","inventoryId"]).execute(),await t.schema.createTable("Route").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("fromId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] fromId",["fromId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("toId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] toId",["toId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Route] userId-fromId-toId",["userId","fromId","toId"]).execute(),await t.schema.createTable("Route_Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("routeId",e,r=>r.notNull()).addForeignKeyConstraint("[Route_Resource] routeId",["routeId"],"Route",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Route_Resource] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4").execute()}}}),oZ=Gt("/$locale/apps/derivean")({loader:sZ}),vN="icon-[proicons--game]",aZ=gn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),UD=({variant:t,tva:e=aZ,css:n})=>{const r=e({...t,css:n}).slots;return p.jsx("div",{className:r.base(),children:"DeRivean"})},eu="icon-[fluent--building-shop-20-regular]",zi="icon-[mingcute--inventory-line]",ar="icon-[hugeicons--resources-add]",lZ=t=>{const{locale:e}=xn({from:"/$locale"});return p.jsxs(Yl,{...t,children:[p.jsx(Pn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},children:p.jsx(te,{label:"Editor (menu)"})}),p.jsx(Pn,{icon:eu,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/blueprint/$id/view"},{to:"/$locale/apps/derivean/root/blueprint/$id/dependencies"},{to:"/$locale/apps/derivean/root/blueprint/$id/production"},{to:"/$locale/apps/derivean/root/blueprint/$id/requirements"},{to:"/$locale/apps/derivean/root/blueprint/$id/edit"},{to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements"}],children:p.jsx(te,{label:"Blueprint list (menu)"})}),p.jsx(Pn,{icon:ar,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:p.jsx(te,{label:"Resource list (menu)"})}),p.jsx(Pn,{icon:zi,to:"/$locale/apps/derivean/root/default/inventory",params:{locale:e},children:p.jsx(te,{label:"Default inventory (menu)"})}),p.jsx(Pn,{icon:mN,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"},{to:"/$locale/apps/derivean/root/user/$id/inventory"}],children:p.jsx(te,{label:"User list (menu)"})}),p.jsx(Pn,{icon:Oh,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},children:p.jsx(te,{label:"Tag list (menu)"})})]})},pm=U.object({id:U.string(),name:U.string(),login:U.string()}),uZ=Gt("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return pm.parse(cf.get("session"))}catch{throw Vh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=xn({from:"/$locale"}),{session:e}=Kl({from:"/$locale/apps/derivean/root"});return p.jsx(DD,{logo:p.jsx(fn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:p.jsx(UD,{})}),menu:p.jsx(lZ,{}),actions:p.jsxs(p.Fragment,{children:[e.name,p.jsx(fn,{icon:vN,to:"/$locale/apps/derivean/game",params:{locale:t}}),p.jsx(fn,{icon:hN,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}});function Yr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Yr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var cZ={value:()=>{}};function Hb(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Cy(n)}function Cy(t){this._=t}function dZ(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Cy.prototype=Hb.prototype={constructor:Cy,on:function(t,e){var n=this._,r=dZ(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=fZ(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Zq(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Zq(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Cy(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function fZ(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Zq(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=cZ,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var BE="http://www.w3.org/1999/xhtml";const Jq={svg:"http://www.w3.org/2000/svg",xhtml:BE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qb(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Jq.hasOwnProperty(e)?{space:Jq[e],local:t}:t}function pZ(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===BE&&e.documentElement.namespaceURI===BE?e.createElement(t):e.createElementNS(n,t)}}function hZ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function VD(t){var e=Qb(t);return(e.local?hZ:pZ)(e)}function mZ(){}function bN(t){return t==null?mZ:function(){return this.querySelector(t)}}function gZ(t){typeof t!="function"&&(t=bN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),c,d,f=0;f<o;++f)(c=s[f])&&(d=t.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d);return new Rs(r,this._parents)}function yZ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vZ(){return[]}function HD(t){return t==null?vZ:function(){return this.querySelectorAll(t)}}function bZ(t){return function(){return yZ(t.apply(this,arguments))}}function xZ(t){typeof t=="function"?t=bZ(t):t=HD(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&(r.push(t.call(c,c.__data__,d,o)),i.push(c));return new Rs(r,i)}function QD(t){return function(){return this.matches(t)}}function KD(t){return function(e){return e.matches(t)}}var _Z=Array.prototype.find;function wZ(t){return function(){return _Z.call(this.children,t)}}function SZ(){return this.firstElementChild}function EZ(t){return this.select(t==null?SZ:wZ(typeof t=="function"?t:KD(t)))}var NZ=Array.prototype.filter;function kZ(){return Array.from(this.children)}function IZ(t){return function(){return NZ.call(this.children,t)}}function CZ(t){return this.selectAll(t==null?kZ:IZ(typeof t=="function"?t:KD(t)))}function TZ(t){typeof t!="function"&&(t=QD(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new Rs(r,this._parents)}function GD(t){return new Array(t.length)}function OZ(){return new Rs(this._enter||this._groups.map(GD),this._parents)}function Bv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bv.prototype={constructor:Bv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function qZ(t){return function(){return t}}function RZ(t,e,n,r,i,s){for(var o=0,l,c=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new Bv(t,s[o]);for(;o<c;++o)(l=e[o])&&(i[o]=l)}function jZ(t,e,n,r,i,s,o){var l,c,d=new Map,f=e.length,h=s.length,b=new Array(f),x;for(l=0;l<f;++l)(c=e[l])&&(b[l]=x=o.call(c,c.__data__,l,e)+"",d.has(x)?i[l]=c:d.set(x,c));for(l=0;l<h;++l)x=o.call(t,s[l],l,s)+"",(c=d.get(x))?(r[l]=c,c.__data__=s[l],d.delete(x)):n[l]=new Bv(t,s[l]);for(l=0;l<f;++l)(c=e[l])&&d.get(b[l])===c&&(i[l]=c)}function AZ(t){return t.__data__}function PZ(t,e){if(!arguments.length)return Array.from(this,AZ);var n=e?jZ:RZ,r=this._parents,i=this._groups;typeof t!="function"&&(t=qZ(t));for(var s=i.length,o=new Array(s),l=new Array(s),c=new Array(s),d=0;d<s;++d){var f=r[d],h=i[d],b=h.length,x=FZ(t.call(f,f&&f.__data__,d,r)),w=x.length,E=l[d]=new Array(w),I=o[d]=new Array(w),T=c[d]=new Array(b);n(f,h,E,I,T,x,e);for(var O=0,q=0,A,D;O<w;++O)if(A=E[O]){for(O>=q&&(q=O+1);!(D=I[q])&&++q<w;);A._next=D||null}}return o=new Rs(o,r),o._enter=l,o._exit=c,o}function FZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DZ(){return new Rs(this._exit||this._groups.map(GD),this._parents)}function LZ(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function MZ(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),c=0;c<o;++c)for(var d=n[c],f=r[c],h=d.length,b=l[c]=new Array(h),x,w=0;w<h;++w)(x=d[w]||f[w])&&(b[w]=x);for(;c<i;++c)l[c]=n[c];return new Rs(l,this._parents)}function $Z(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function BZ(t){t||(t=zZ);function e(h,b){return h&&b?t(h.__data__,b.__data__):!h-!b}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=i[s]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(c[f]=d);c.sort(e)}return new Rs(i,this._parents).order()}function zZ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function WZ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function UZ(){return Array.from(this)}function VZ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function HZ(){let t=0;for(const e of this)++t;return t}function QZ(){return!this.node()}function KZ(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function GZ(t){return function(){this.removeAttribute(t)}}function ZZ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function JZ(t,e){return function(){this.setAttribute(t,e)}}function YZ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function XZ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function eJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function tJ(t,e){var n=Qb(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ZZ:GZ:typeof e=="function"?n.local?eJ:XZ:n.local?YZ:JZ)(n,e))}function ZD(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nJ(t){return function(){this.style.removeProperty(t)}}function rJ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function iJ(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function sJ(t,e,n){return arguments.length>1?this.each((e==null?nJ:typeof e=="function"?iJ:rJ)(t,e,n??"")):Wd(this.node(),t)}function Wd(t,e){return t.style.getPropertyValue(e)||ZD(t).getComputedStyle(t,null).getPropertyValue(e)}function oJ(t){return function(){delete this[t]}}function aJ(t,e){return function(){this[t]=e}}function lJ(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function uJ(t,e){return arguments.length>1?this.each((e==null?oJ:typeof e=="function"?lJ:aJ)(t,e)):this.node()[t]}function JD(t){return t.trim().split(/^|\s+/)}function xN(t){return t.classList||new YD(t)}function YD(t){this._node=t,this._names=JD(t.getAttribute("class")||"")}YD.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function XD(t,e){for(var n=xN(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function e2(t,e){for(var n=xN(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function cJ(t){return function(){XD(this,t)}}function dJ(t){return function(){e2(this,t)}}function fJ(t,e){return function(){(e.apply(this,arguments)?XD:e2)(this,t)}}function pJ(t,e){var n=JD(t+"");if(arguments.length<2){for(var r=xN(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?fJ:e?cJ:dJ)(n,e))}function hJ(){this.textContent=""}function mJ(t){return function(){this.textContent=t}}function gJ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function yJ(t){return arguments.length?this.each(t==null?hJ:(typeof t=="function"?gJ:mJ)(t)):this.node().textContent}function vJ(){this.innerHTML=""}function bJ(t){return function(){this.innerHTML=t}}function xJ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function _J(t){return arguments.length?this.each(t==null?vJ:(typeof t=="function"?xJ:bJ)(t)):this.node().innerHTML}function wJ(){this.nextSibling&&this.parentNode.appendChild(this)}function SJ(){return this.each(wJ)}function EJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NJ(){return this.each(EJ)}function kJ(t){var e=typeof t=="function"?t:VD(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function IJ(){return null}function CJ(t,e){var n=typeof t=="function"?t:VD(t),r=e==null?IJ:typeof e=="function"?e:bN(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function TJ(){var t=this.parentNode;t&&t.removeChild(this)}function OJ(){return this.each(TJ)}function qJ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function RJ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jJ(t){return this.select(t?RJ:qJ)}function AJ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function PJ(t){return function(e){t.call(this,e,this.__data__)}}function FJ(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function DJ(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function LJ(t,e,n){return function(){var r=this.__on,i,s=PJ(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function MJ(t,e,n){var r=FJ(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,f;c<d;++c)for(i=0,f=l[c];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?LJ:DJ,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function t2(t,e,n){var r=ZD(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $J(t,e){return function(){return t2(this,t,e)}}function BJ(t,e){return function(){return t2(this,t,e.apply(this,arguments))}}function zJ(t,e){return this.each((typeof e=="function"?BJ:$J)(t,e))}function*WJ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var n2=[null];function Rs(t,e){this._groups=t,this._parents=e}function hm(){return new Rs([[document.documentElement]],n2)}function UJ(){return this}Rs.prototype=hm.prototype={constructor:Rs,select:gZ,selectAll:xZ,selectChild:EZ,selectChildren:CZ,filter:TZ,data:PZ,enter:OZ,exit:DZ,join:LZ,merge:MZ,selection:UJ,order:$Z,sort:BZ,call:WZ,nodes:UZ,node:VZ,size:HZ,empty:QZ,each:KZ,attr:tJ,style:sJ,property:uJ,classed:pJ,text:yJ,html:_J,raise:SJ,lower:NJ,append:kJ,insert:CJ,remove:OJ,clone:jJ,datum:AJ,on:MJ,dispatch:zJ,[Symbol.iterator]:WJ};function Is(t){return typeof t=="string"?new Rs([[document.querySelector(t)]],[document.documentElement]):new Rs([[t]],n2)}function VJ(t){let e;for(;e=t.sourceEvent;)t=e;return t}function go(t,e){if(t=VJ(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const HJ={passive:!1},Rh={capture:!0,passive:!1};function S0(t){t.stopImmediatePropagation()}function Td(t){t.preventDefault(),t.stopImmediatePropagation()}function r2(t){var e=t.document.documentElement,n=Is(t).on("dragstart.drag",Td,Rh);"onselectstart"in e?n.on("selectstart.drag",Td,Rh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function i2(t,e){var n=t.document.documentElement,r=Is(t).on("dragstart.drag",null);e&&(r.on("click.drag",Td,Rh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Kg=t=>()=>t;function zE(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:c,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}zE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function QJ(t){return!t.ctrlKey&&!t.button}function KJ(){return this.parentNode}function GJ(t,e){return e??{x:t.x,y:t.y}}function ZJ(){return navigator.maxTouchPoints||"ontouchstart"in this}function s2(){var t=QJ,e=KJ,n=GJ,r=ZJ,i={},s=Hb("start","drag","end"),o=0,l,c,d,f,h=0;function b(A){A.on("mousedown.drag",x).filter(r).on("touchstart.drag",I).on("touchmove.drag",T,HJ).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(A,D){if(!(f||!t.call(this,A,D))){var L=q(this,e.call(this,A,D),A,D,"mouse");L&&(Is(A.view).on("mousemove.drag",w,Rh).on("mouseup.drag",E,Rh),r2(A.view),S0(A),d=!1,l=A.clientX,c=A.clientY,L("start",A))}}function w(A){if(Td(A),!d){var D=A.clientX-l,L=A.clientY-c;d=D*D+L*L>h}i.mouse("drag",A)}function E(A){Is(A.view).on("mousemove.drag mouseup.drag",null),i2(A.view,d),Td(A),i.mouse("end",A)}function I(A,D){if(t.call(this,A,D)){var L=A.changedTouches,z=e.call(this,A,D),P=L.length,R,M;for(R=0;R<P;++R)(M=q(this,z,A,D,L[R].identifier,L[R]))&&(S0(A),M("start",A,L[R]))}}function T(A){var D=A.changedTouches,L=D.length,z,P;for(z=0;z<L;++z)(P=i[D[z].identifier])&&(Td(A),P("drag",A,D[z]))}function O(A){var D=A.changedTouches,L=D.length,z,P;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),z=0;z<L;++z)(P=i[D[z].identifier])&&(S0(A),P("end",A,D[z]))}function q(A,D,L,z,P,R){var M=s.copy(),F=go(R||L,D),W,V,B;if((B=n.call(A,new zE("beforestart",{sourceEvent:L,target:b,identifier:P,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:M}),z))!=null)return W=B.x-F[0]||0,V=B.y-F[1]||0,function ee(J,le,se){var ne=F,oe;switch(J){case"start":i[P]=ee,oe=o++;break;case"end":delete i[P],--o;case"drag":F=go(se||le,D),oe=o;break}M.call(J,A,new zE(J,{sourceEvent:le,subject:B,target:b,identifier:P,active:oe,x:F[0]+W,y:F[1]+V,dx:F[0]-ne[0],dy:F[1]-ne[1],dispatch:M}),z)}}return b.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Kg(!!A),b):t},b.container=function(A){return arguments.length?(e=typeof A=="function"?A:Kg(A),b):e},b.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Kg(A),b):n},b.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Kg(!!A),b):r},b.on=function(){var A=s.on.apply(s,arguments);return A===s?b:A},b.clickDistance=function(A){return arguments.length?(h=(A=+A)*A,b):Math.sqrt(h)},b}function _N(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function o2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mm(){}var jh=.7,zv=1/jh,Od="\\s*([+-]?\\d+)\\s*",Ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JJ=/^#([0-9a-f]{3,8})$/,YJ=new RegExp(`^rgb\\(${Od},${Od},${Od}\\)$`),XJ=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),eY=new RegExp(`^rgba\\(${Od},${Od},${Od},${Ah}\\)$`),tY=new RegExp(`^rgba\\(${Go},${Go},${Go},${Ah}\\)$`),nY=new RegExp(`^hsl\\(${Ah},${Go},${Go}\\)$`),rY=new RegExp(`^hsla\\(${Ah},${Go},${Go},${Ah}\\)$`),Yq={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};_N(mm,Ph,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xq,formatHex:Xq,formatHex8:iY,formatHsl:sY,formatRgb:eR,toString:eR});function Xq(){return this.rgb().formatHex()}function iY(){return this.rgb().formatHex8()}function sY(){return a2(this).formatHsl()}function eR(){return this.rgb().formatRgb()}function Ph(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=JJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tR(e):n===3?new cs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=YJ.exec(t))?new cs(e[1],e[2],e[3],1):(e=XJ.exec(t))?new cs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eY.exec(t))?Gg(e[1],e[2],e[3],e[4]):(e=tY.exec(t))?Gg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nY.exec(t))?iR(e[1],e[2]/100,e[3]/100,1):(e=rY.exec(t))?iR(e[1],e[2]/100,e[3]/100,e[4]):Yq.hasOwnProperty(t)?tR(Yq[t]):t==="transparent"?new cs(NaN,NaN,NaN,0):null}function tR(t){return new cs(t>>16&255,t>>8&255,t&255,1)}function Gg(t,e,n,r){return r<=0&&(t=e=n=NaN),new cs(t,e,n,r)}function oY(t){return t instanceof mm||(t=Ph(t)),t?(t=t.rgb(),new cs(t.r,t.g,t.b,t.opacity)):new cs}function WE(t,e,n,r){return arguments.length===1?oY(t):new cs(t,e,n,r??1)}function cs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_N(cs,WE,o2(mm,{brighter(t){return t=t==null?zv:Math.pow(zv,t),new cs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jh:Math.pow(jh,t),new cs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new cs(Vu(this.r),Vu(this.g),Vu(this.b),Wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nR,formatHex:nR,formatHex8:aY,formatRgb:rR,toString:rR}));function nR(){return`#${$u(this.r)}${$u(this.g)}${$u(this.b)}`}function aY(){return`#${$u(this.r)}${$u(this.g)}${$u(this.b)}${$u((isNaN(this.opacity)?1:this.opacity)*255)}`}function rR(){const t=Wv(this.opacity);return`${t===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${t===1?")":`, ${t})`}`}function Wv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $u(t){return t=Vu(t),(t<16?"0":"")+t.toString(16)}function iR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bo(t,e,n,r)}function a2(t){if(t instanceof bo)return new bo(t.h,t.s,t.l,t.opacity);if(t instanceof mm||(t=Ph(t)),!t)return new bo;if(t instanceof bo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new bo(o,l,c,t.opacity)}function lY(t,e,n,r){return arguments.length===1?a2(t):new bo(t,e,n,r??1)}function bo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_N(bo,lY,o2(mm,{brighter(t){return t=t==null?zv:Math.pow(zv,t),new bo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jh:Math.pow(jh,t),new bo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new cs(E0(t>=240?t-240:t+120,i,r),E0(t,i,r),E0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bo(sR(this.h),Zg(this.s),Zg(this.l),Wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wv(this.opacity);return`${t===1?"hsl(":"hsla("}${sR(this.h)}, ${Zg(this.s)*100}%, ${Zg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sR(t){return t=(t||0)%360,t<0?t+360:t}function Zg(t){return Math.max(0,Math.min(1,t||0))}function E0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const l2=t=>()=>t;function uY(t,e){return function(n){return t+n*e}}function cY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dY(t){return(t=+t)==1?u2:function(e,n){return n-e?cY(e,n,t):l2(isNaN(e)?n:e)}}function u2(t,e){var n=e-t;return n?uY(t,n):l2(isNaN(t)?e:t)}const oR=function t(e){var n=dY(e);function r(i,s){var o=n((i=WE(i)).r,(s=WE(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=u2(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function xl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var UE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N0=new RegExp(UE.source,"g");function fY(t){return function(){return t}}function pY(t){return function(e){return t(e)+""}}function hY(t,e){var n=UE.lastIndex=N0.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=UE.exec(t))&&(i=N0.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:xl(r,i)})),n=N0.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?pY(c[0].x):fY(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(d);return l.join("")})}var aR=180/Math.PI,VE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function c2(t,e,n,r,i,s){var o,l,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*aR,skewX:Math.atan(c)*aR,scaleX:o,scaleY:l}}var Jg;function mY(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?VE:c2(e.a,e.b,e.c,e.d,e.e,e.f)}function gY(t){return t==null||(Jg||(Jg=document.createElementNS("http://www.w3.org/2000/svg","g")),Jg.setAttribute("transform",t),!(t=Jg.transform.baseVal.consolidate()))?VE:(t=t.matrix,c2(t.a,t.b,t.c,t.d,t.e,t.f))}function d2(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,f,h,b,x,w){if(d!==h||f!==b){var E=x.push("translate(",null,e,null,n);w.push({i:E-4,x:xl(d,h)},{i:E-2,x:xl(f,b)})}else(h||b)&&x.push("translate("+h+e+b+n)}function o(d,f,h,b){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),b.push({i:h.push(i(h)+"rotate(",null,r)-2,x:xl(d,f)})):f&&h.push(i(h)+"rotate("+f+r)}function l(d,f,h,b){d!==f?b.push({i:h.push(i(h)+"skewX(",null,r)-2,x:xl(d,f)}):f&&h.push(i(h)+"skewX("+f+r)}function c(d,f,h,b,x,w){if(d!==h||f!==b){var E=x.push(i(x)+"scale(",null,",",null,")");w.push({i:E-4,x:xl(d,h)},{i:E-2,x:xl(f,b)})}else(h!==1||b!==1)&&x.push(i(x)+"scale("+h+","+b+")")}return function(d,f){var h=[],b=[];return d=t(d),f=t(f),s(d.translateX,d.translateY,f.translateX,f.translateY,h,b),o(d.rotate,f.rotate,h,b),l(d.skewX,f.skewX,h,b),c(d.scaleX,d.scaleY,f.scaleX,f.scaleY,h,b),d=f=null,function(x){for(var w=-1,E=b.length,I;++w<E;)h[(I=b[w]).i]=I.x(x);return h.join("")}}}var yY=d2(mY,"px, ","px)","deg)"),vY=d2(gY,", ",")",")"),bY=1e-12;function lR(t){return((t=Math.exp(t))+1/t)/2}function xY(t){return((t=Math.exp(t))-1/t)/2}function _Y(t){return((t=Math.exp(2*t))-1)/(t+1)}const wY=function t(e,n,r){function i(s,o){var l=s[0],c=s[1],d=s[2],f=o[0],h=o[1],b=o[2],x=f-l,w=h-c,E=x*x+w*w,I,T;if(E<bY)T=Math.log(b/d)/e,I=function(z){return[l+z*x,c+z*w,d*Math.exp(e*z*T)]};else{var O=Math.sqrt(E),q=(b*b-d*d+r*E)/(2*d*n*O),A=(b*b-d*d-r*E)/(2*b*n*O),D=Math.log(Math.sqrt(q*q+1)-q),L=Math.log(Math.sqrt(A*A+1)-A);T=(L-D)/e,I=function(z){var P=z*T,R=lR(D),M=d/(n*O)*(R*_Y(e*P+D)-xY(D));return[l+M*x,c+M*w,d*R/lR(e*P+D)]}}return I.duration=T*1e3*e/Math.SQRT2,I}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,c=l*l;return t(o,l,c)},i}(Math.SQRT2,2,4);var Ud=0,Cp=0,hp=0,f2=1e3,Uv,Tp,Vv=0,ic=0,Kb=0,Fh=typeof performance=="object"&&performance.now?performance:Date,p2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wN(){return ic||(p2(SY),ic=Fh.now()+Kb)}function SY(){ic=0}function Hv(){this._call=this._time=this._next=null}Hv.prototype=h2.prototype={constructor:Hv,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?wN():+n)+(e==null?0:+e),!this._next&&Tp!==this&&(Tp?Tp._next=this:Uv=this,Tp=this),this._call=t,this._time=n,HE()},stop:function(){this._call&&(this._call=null,this._time=1/0,HE())}};function h2(t,e,n){var r=new Hv;return r.restart(t,e,n),r}function EY(){wN(),++Ud;for(var t=Uv,e;t;)(e=ic-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ud}function uR(){ic=(Vv=Fh.now())+Kb,Ud=Cp=0;try{EY()}finally{Ud=0,kY(),ic=0}}function NY(){var t=Fh.now(),e=t-Vv;e>f2&&(Kb-=e,Vv=t)}function kY(){for(var t,e=Uv,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Uv=n);Tp=t,HE(r)}function HE(t){if(!Ud){Cp&&(Cp=clearTimeout(Cp));var e=t-ic;e>24?(t<1/0&&(Cp=setTimeout(uR,t-Fh.now()-Kb)),hp&&(hp=clearInterval(hp))):(hp||(Vv=Fh.now(),hp=setInterval(NY,f2)),Ud=1,p2(uR))}}function cR(t,e,n){var r=new Hv;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var IY=Hb("start","end","cancel","interrupt"),CY=[],m2=0,dR=1,QE=2,Ty=3,fR=4,KE=5,Oy=6;function Gb(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;TY(t,n,{name:e,index:r,group:i,on:IY,tween:CY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:m2})}function SN(t,e){var n=Ro(t,e);if(n.state>m2)throw new Error("too late; already scheduled");return n}function oa(t,e){var n=Ro(t,e);if(n.state>Ty)throw new Error("too late; already running");return n}function Ro(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function TY(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=h2(s,0,n.time);function s(d){n.state=dR,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var f,h,b,x;if(n.state!==dR)return c();for(f in r)if(x=r[f],x.name===n.name){if(x.state===Ty)return cR(o);x.state===fR?(x.state=Oy,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[f]):+f<e&&(x.state=Oy,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[f])}if(cR(function(){n.state===Ty&&(n.state=fR,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=QE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===QE){for(n.state=Ty,i=new Array(b=n.tween.length),f=0,h=-1;f<b;++f)(x=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=x);i.length=h+1}}function l(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=KE,1),h=-1,b=i.length;++h<b;)i[h].call(t,f);n.state===KE&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Oy,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function qy(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>QE&&r.state<KE,r.state=Oy,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function OY(t){return this.each(function(){qy(this,t)})}function qY(t,e){var n,r;return function(){var i=oa(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function RY(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=oa(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},c=0,d=i.length;c<d;++c)if(i[c].name===e){i[c]=l;break}c===d&&i.push(l)}s.tween=i}}function jY(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ro(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?qY:RY)(n,t,e))}function EN(t,e,n){var r=t._id;return t.each(function(){var i=oa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ro(i,r).value[e]}}function g2(t,e){var n;return(typeof e=="number"?xl:e instanceof Ph?oR:(n=Ph(e))?(e=n,oR):hY)(t,e)}function AY(t){return function(){this.removeAttribute(t)}}function PY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function FY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function DY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function LY(t,e,n){var r,i,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=l+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l)))}}function MY(t,e,n){var r,i,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=l+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l)))}}function $Y(t,e){var n=Qb(t),r=n==="transform"?vY:g2;return this.attrTween(t,typeof e=="function"?(n.local?MY:LY)(n,r,EN(this,"attr."+t,e)):e==null?(n.local?PY:AY)(n):(n.local?DY:FY)(n,r,e))}function BY(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function zY(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function WY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&zY(t,s)),n}return i._value=e,i}function UY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&BY(t,s)),n}return i._value=e,i}function VY(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Qb(t);return this.tween(n,(r.local?WY:UY)(r,e))}function HY(t,e){return function(){SN(this,t).delay=+e.apply(this,arguments)}}function QY(t,e){return e=+e,function(){SN(this,t).delay=e}}function KY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?HY:QY)(e,t)):Ro(this.node(),e).delay}function GY(t,e){return function(){oa(this,t).duration=+e.apply(this,arguments)}}function ZY(t,e){return e=+e,function(){oa(this,t).duration=e}}function JY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?GY:ZY)(e,t)):Ro(this.node(),e).duration}function YY(t,e){if(typeof e!="function")throw new Error;return function(){oa(this,t).ease=e}}function XY(t){var e=this._id;return arguments.length?this.each(YY(e,t)):Ro(this.node(),e).ease}function eX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;oa(this,t).ease=n}}function tX(t){if(typeof t!="function")throw new Error;return this.each(eX(this._id,t))}function nX(t){typeof t!="function"&&(t=QD(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new Ba(r,this._parents,this._name,this._id)}function rX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var c=e[l],d=n[l],f=c.length,h=o[l]=new Array(f),b,x=0;x<f;++x)(b=c[x]||d[x])&&(h[x]=b);for(;l<r;++l)o[l]=e[l];return new Ba(o,this._parents,this._name,this._id)}function iX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function sX(t,e,n){var r,i,s=iX(e)?SN:oa;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function oX(t,e){var n=this._id;return arguments.length<2?Ro(this.node(),n).on.on(t):this.each(sX(n,t,e))}function aX(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function lX(){return this.on("end.remove",aX(this._id))}function uX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bN(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],c=l.length,d=s[o]=new Array(c),f,h,b=0;b<c;++b)(f=l[b])&&(h=t.call(f,f.__data__,b,l))&&("__data__"in f&&(h.__data__=f.__data__),d[b]=h,Gb(d[b],e,n,b,d,Ro(f,n)));return new Ba(s,this._parents,e,n)}function cX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=HD(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var c=r[l],d=c.length,f,h=0;h<d;++h)if(f=c[h]){for(var b=t.call(f,f.__data__,h,c),x,w=Ro(f,n),E=0,I=b.length;E<I;++E)(x=b[E])&&Gb(x,e,n,E,b,w);s.push(b),o.push(f)}return new Ba(s,o,e,n)}var dX=hm.prototype.constructor;function fX(){return new dX(this._groups,this._parents)}function pX(t,e){var n,r,i;return function(){var s=Wd(this,t),o=(this.style.removeProperty(t),Wd(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function y2(t){return function(){this.style.removeProperty(t)}}function hX(t,e,n){var r,i=n+"",s;return function(){var o=Wd(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function mX(t,e,n){var r,i,s;return function(){var o=Wd(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),Wd(this,t))),o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l))}}function gX(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var c=oa(this,t),d=c.on,f=c.value[s]==null?l||(l=y2(e)):void 0;(d!==n||i!==f)&&(r=(n=d).copy()).on(o,i=f),c.on=r}}function yX(t,e,n){var r=(t+="")=="transform"?yY:g2;return e==null?this.styleTween(t,pX(t,r)).on("end.style."+t,y2(t)):typeof e=="function"?this.styleTween(t,mX(t,r,EN(this,"style."+t,e))).each(gX(this._id,t)):this.styleTween(t,hX(t,r,e),n).on("end.style."+t,null)}function vX(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function bX(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&vX(t,o,n)),r}return s._value=e,s}function xX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,bX(t,e,n??""))}function _X(t){return function(){this.textContent=t}}function wX(t){return function(){var e=t(this);this.textContent=e??""}}function SX(t){return this.tween("text",typeof t=="function"?wX(EN(this,"text",t)):_X(t==null?"":t+""))}function EX(t){return function(e){this.textContent=t.call(this,e)}}function NX(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&EX(i)),e}return r._value=t,r}function kX(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,NX(t))}function IX(){for(var t=this._name,e=this._id,n=v2(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,c,d=0;d<l;++d)if(c=o[d]){var f=Ro(c,e);Gb(c,t,n,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ba(r,this._parents,t,n)}function CX(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--i===0&&s()}};n.each(function(){var d=oa(this,r),f=d.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),d.on=e}),i===0&&s()})}var TX=0;function Ba(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function v2(){return++TX}var Ea=hm.prototype;Ba.prototype={constructor:Ba,select:uX,selectAll:cX,selectChild:Ea.selectChild,selectChildren:Ea.selectChildren,filter:nX,merge:rX,selection:fX,transition:IX,call:Ea.call,nodes:Ea.nodes,node:Ea.node,size:Ea.size,empty:Ea.empty,each:Ea.each,on:oX,attr:$Y,attrTween:VY,style:yX,styleTween:xX,text:SX,textTween:kX,remove:lX,tween:jY,delay:KY,duration:JY,ease:XY,easeVarying:tX,end:CX,[Symbol.iterator]:Ea[Symbol.iterator]};function OX(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qX={time:null,delay:0,duration:250,ease:OX};function RX(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function jX(t){var e,n;t instanceof Ba?(e=t._id,t=t._name):(e=v2(),(n=qX).time=wN(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&Gb(c,t,e,d,o,n||RX(c,e));return new Ba(r,this._parents,t,e)}hm.prototype.interrupt=OY;hm.prototype.transition=jX;const Yg=t=>()=>t;function AX(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function qa(t,e,n){this.k=t,this.x=e,this.y=n}qa.prototype={constructor:qa,scale:function(t){return t===1?this:new qa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zb=new qa(1,0,0);b2.prototype=qa.prototype;function b2(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Zb;return t.__zoom}function k0(t){t.stopImmediatePropagation()}function mp(t){t.preventDefault(),t.stopImmediatePropagation()}function PX(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function FX(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function pR(){return this.__zoom||Zb}function DX(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function LX(){return navigator.maxTouchPoints||"ontouchstart"in this}function MX(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function x2(){var t=PX,e=FX,n=MX,r=DX,i=LX,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=wY,d=Hb("start","zoom","end"),f,h,b,x=500,w=150,E=0,I=10;function T(B){B.property("__zoom",pR).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(B,ee,J,le){var se=B.selection?B.selection():B;se.property("__zoom",pR),B!==se?D(B,ee,J,le):se.interrupt().each(function(){L(this,arguments).event(le).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},T.scaleBy=function(B,ee,J,le){T.scaleTo(B,function(){var se=this.__zoom.k,ne=typeof ee=="function"?ee.apply(this,arguments):ee;return se*ne},J,le)},T.scaleTo=function(B,ee,J,le){T.transform(B,function(){var se=e.apply(this,arguments),ne=this.__zoom,oe=J==null?A(se):typeof J=="function"?J.apply(this,arguments):J,X=ne.invert(oe),ce=typeof ee=="function"?ee.apply(this,arguments):ee;return n(q(O(ne,ce),oe,X),se,o)},J,le)},T.translateBy=function(B,ee,J,le){T.transform(B,function(){return n(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof J=="function"?J.apply(this,arguments):J),e.apply(this,arguments),o)},null,le)},T.translateTo=function(B,ee,J,le,se){T.transform(B,function(){var ne=e.apply(this,arguments),oe=this.__zoom,X=le==null?A(ne):typeof le=="function"?le.apply(this,arguments):le;return n(Zb.translate(X[0],X[1]).scale(oe.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof J=="function"?-J.apply(this,arguments):-J),ne,o)},le,se)};function O(B,ee){return ee=Math.max(s[0],Math.min(s[1],ee)),ee===B.k?B:new qa(ee,B.x,B.y)}function q(B,ee,J){var le=ee[0]-J[0]*B.k,se=ee[1]-J[1]*B.k;return le===B.x&&se===B.y?B:new qa(B.k,le,se)}function A(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function D(B,ee,J,le){B.on("start.zoom",function(){L(this,arguments).event(le).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(le).end()}).tween("zoom",function(){var se=this,ne=arguments,oe=L(se,ne).event(le),X=e.apply(se,ne),ce=J==null?A(X):typeof J=="function"?J.apply(se,ne):J,de=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ye=se.__zoom,_e=typeof ee=="function"?ee.apply(se,ne):ee,Ne=c(ye.invert(ce).concat(de/ye.k),_e.invert(ce).concat(de/_e.k));return function(ze){if(ze===1)ze=_e;else{var qe=Ne(ze),De=de/qe[2];ze=new qa(De,ce[0]-qe[0]*De,ce[1]-qe[1]*De)}oe.zoom(null,ze)}})}function L(B,ee,J){return!J&&B.__zooming||new z(B,ee)}function z(B,ee){this.that=B,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=e.apply(B,ee),this.taps=0}z.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,ee){return this.mouse&&B!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var ee=Is(this.that).datum();d.call(B,this.that,new AX(B,{sourceEvent:this.sourceEvent,target:T,type:B,transform:this.that.__zoom,dispatch:d}),ee)}};function P(B,...ee){if(!t.apply(this,arguments))return;var J=L(this,ee).event(B),le=this.__zoom,se=Math.max(s[0],Math.min(s[1],le.k*Math.pow(2,r.apply(this,arguments)))),ne=go(B);if(J.wheel)(J.mouse[0][0]!==ne[0]||J.mouse[0][1]!==ne[1])&&(J.mouse[1]=le.invert(J.mouse[0]=ne)),clearTimeout(J.wheel);else{if(le.k===se)return;J.mouse=[ne,le.invert(ne)],qy(this),J.start()}mp(B),J.wheel=setTimeout(oe,w),J.zoom("mouse",n(q(O(le,se),J.mouse[0],J.mouse[1]),J.extent,o));function oe(){J.wheel=null,J.end()}}function R(B,...ee){if(b||!t.apply(this,arguments))return;var J=B.currentTarget,le=L(this,ee,!0).event(B),se=Is(B.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",de,!0),ne=go(B,J),oe=B.clientX,X=B.clientY;r2(B.view),k0(B),le.mouse=[ne,this.__zoom.invert(ne)],qy(this),le.start();function ce(ye){if(mp(ye),!le.moved){var _e=ye.clientX-oe,Ne=ye.clientY-X;le.moved=_e*_e+Ne*Ne>E}le.event(ye).zoom("mouse",n(q(le.that.__zoom,le.mouse[0]=go(ye,J),le.mouse[1]),le.extent,o))}function de(ye){se.on("mousemove.zoom mouseup.zoom",null),i2(ye.view,le.moved),mp(ye),le.event(ye).end()}}function M(B,...ee){if(t.apply(this,arguments)){var J=this.__zoom,le=go(B.changedTouches?B.changedTouches[0]:B,this),se=J.invert(le),ne=J.k*(B.shiftKey?.5:2),oe=n(q(O(J,ne),le,se),e.apply(this,ee),o);mp(B),l>0?Is(this).transition().duration(l).call(D,oe,le,B):Is(this).call(T.transform,oe,le,B)}}function F(B,...ee){if(t.apply(this,arguments)){var J=B.touches,le=J.length,se=L(this,ee,B.changedTouches.length===le).event(B),ne,oe,X,ce;for(k0(B),oe=0;oe<le;++oe)X=J[oe],ce=go(X,this),ce=[ce,this.__zoom.invert(ce),X.identifier],se.touch0?!se.touch1&&se.touch0[2]!==ce[2]&&(se.touch1=ce,se.taps=0):(se.touch0=ce,ne=!0,se.taps=1+!!f);f&&(f=clearTimeout(f)),ne&&(se.taps<2&&(h=ce[0],f=setTimeout(function(){f=null},x)),qy(this),se.start())}}function W(B,...ee){if(this.__zooming){var J=L(this,ee).event(B),le=B.changedTouches,se=le.length,ne,oe,X,ce;for(mp(B),ne=0;ne<se;++ne)oe=le[ne],X=go(oe,this),J.touch0&&J.touch0[2]===oe.identifier?J.touch0[0]=X:J.touch1&&J.touch1[2]===oe.identifier&&(J.touch1[0]=X);if(oe=J.that.__zoom,J.touch1){var de=J.touch0[0],ye=J.touch0[1],_e=J.touch1[0],Ne=J.touch1[1],ze=(ze=_e[0]-de[0])*ze+(ze=_e[1]-de[1])*ze,qe=(qe=Ne[0]-ye[0])*qe+(qe=Ne[1]-ye[1])*qe;oe=O(oe,Math.sqrt(ze/qe)),X=[(de[0]+_e[0])/2,(de[1]+_e[1])/2],ce=[(ye[0]+Ne[0])/2,(ye[1]+Ne[1])/2]}else if(J.touch0)X=J.touch0[0],ce=J.touch0[1];else return;J.zoom("touch",n(q(oe,X,ce),J.extent,o))}}function V(B,...ee){if(this.__zooming){var J=L(this,ee).event(B),le=B.changedTouches,se=le.length,ne,oe;for(k0(B),b&&clearTimeout(b),b=setTimeout(function(){b=null},x),ne=0;ne<se;++ne)oe=le[ne],J.touch0&&J.touch0[2]===oe.identifier?delete J.touch0:J.touch1&&J.touch1[2]===oe.identifier&&delete J.touch1;if(J.touch1&&!J.touch0&&(J.touch0=J.touch1,delete J.touch1),J.touch0)J.touch0[1]=this.__zoom.invert(J.touch0[0]);else if(J.end(),J.taps===2&&(oe=go(oe,this),Math.hypot(h[0]-oe[0],h[1]-oe[1])<I)){var X=Is(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return T.wheelDelta=function(B){return arguments.length?(r=typeof B=="function"?B:Yg(+B),T):r},T.filter=function(B){return arguments.length?(t=typeof B=="function"?B:Yg(!!B),T):t},T.touchable=function(B){return arguments.length?(i=typeof B=="function"?B:Yg(!!B),T):i},T.extent=function(B){return arguments.length?(e=typeof B=="function"?B:Yg([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),T):e},T.scaleExtent=function(B){return arguments.length?(s[0]=+B[0],s[1]=+B[1],T):[s[0],s[1]]},T.translateExtent=function(B){return arguments.length?(o[0][0]=+B[0][0],o[1][0]=+B[1][0],o[0][1]=+B[0][1],o[1][1]=+B[1][1],T):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},T.constrain=function(B){return arguments.length?(n=B,T):n},T.duration=function(B){return arguments.length?(l=+B,T):l},T.interpolate=function(B){return arguments.length?(c=B,T):c},T.on=function(){var B=d.on.apply(d,arguments);return B===d?T:B},T.clickDistance=function(B){return arguments.length?(E=(B=+B)*B,T):Math.sqrt(E)},T.tapDistance=function(B){return arguments.length?(I=+B,T):I},T}const za={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Dh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],_2=["Enter"," ","Escape"];var Vd;(function(t){t.Strict="strict",t.Loose="loose"})(Vd||(Vd={}));var Hu;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Hu||(Hu={}));var Lh;(function(t){t.Partial="partial",t.Full="full"})(Lh||(Lh={}));const w2={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Il;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Il||(Il={}));var Mh;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Mh||(Mh={}));var Lt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Lt||(Lt={}));const hR={[Lt.Left]:Lt.Right,[Lt.Right]:Lt.Left,[Lt.Top]:Lt.Bottom,[Lt.Bottom]:Lt.Top};function S2(t){return t===null?null:t?"valid":"invalid"}const E2=t=>"id"in t&&"source"in t&&"target"in t,$X=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),NN=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),gm=(t,e=[0,0])=>{const{width:n,height:r}=Wa(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},BX=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):NN(i)?i:e.nodeLookup.get(i.id));const l=o?Qv(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Jb(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yb(n)},ym=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=Qv(r);n=Jb(n,i)}}),Yb(n)},N2=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const l={...vm(e,[n,r,i]),width:e.width/i,height:e.height/i},c=[];for(const d of t.values()){const{measured:f,selectable:h=!0,hidden:b=!1}=d;if(o&&!h||b)continue;const x=f.width??d.width??d.initialWidth??null,w=f.height??d.height??d.initialHeight??null,E=$h(l,Qd(d)),I=(x??0)*(w??0),T=s&&E>0;(!d.internals.handleBounds||T||E>=I||d.dragging)&&c.push(d)}return c},zX=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function GE(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function ZE({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const l=ym(t),c=kN(l,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(c,{duration:o?.duration}),Promise.resolve(!0)}function k2({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),l=o.parentId?n.get(o.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let h=i;if(o.extent==="parent"&&!o.expandParent)if(!l)s?.("005",za.error005());else{const x=l.measured.width,w=l.measured.height;x&&w&&(h=[[c,d],[c+x,d+w]])}else l&&Kd(o.extent)&&(h=[[o.extent[0][0]+c,o.extent[0][1]+d],[o.extent[1][0]+c,o.extent[1][1]+d]]);const b=Kd(h)?sc(e,h,o.measured):e;return{position:{x:b.x-c+o.measured.width*f[0],y:b.y-d+o.measured.height*f[1]},positionAbsolute:b}}async function WX({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(b=>b.id)),o=[];for(const b of n){if(b.deletable===!1)continue;const x=s.has(b.id),w=!x&&b.parentId&&o.find(E=>E.id===b.parentId);(x||w)&&o.push(b)}const l=new Set(e.map(b=>b.id)),c=r.filter(b=>b.deletable!==!1),f=zX(o,c);for(const b of c)l.has(b.id)&&!f.find(w=>w.id===b.id)&&f.push(b);if(!i)return{edges:f,nodes:o};const h=await i({nodes:o,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:o}:{edges:[],nodes:[]}:h}const Hd=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),sc=(t={x:0,y:0},e,n)=>({x:Hd(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Hd(t.y,e[0][1],e[1][1]-(n?.height??0))});function I2(t,e,n){const{width:r,height:i}=Wa(n),{x:s,y:o}=n.internals.positionAbsolute;return sc(t,[[s,o],[s+r,o+i]],e)}const mR=(t,e,n)=>t<e?Hd(Math.abs(t-e),1,e)/e:t>n?-Hd(Math.abs(t-n),1,e)/e:0,C2=(t,e,n=15,r=40)=>{const i=mR(t.x,r,e.width-r)*n,s=mR(t.y,r,e.height-r)*n;return[i,s]},Jb=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),JE=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Yb=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Qd=(t,e=[0,0])=>{const{x:n,y:r}=NN(t)?t.internals.positionAbsolute:gm(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Qv=(t,e=[0,0])=>{const{x:n,y:r}=NN(t)?t.internals.positionAbsolute:gm(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},T2=(t,e)=>Yb(Jb(JE(t),JE(e))),$h=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},gR=t=>So(t.width)&&So(t.height)&&So(t.x)&&So(t.y),So=t=>!isNaN(t)&&isFinite(t),UX=(t,e)=>{},Xb=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),vm=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?Xb(l,o):l},O2=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),kN=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),l=n/(t.height*(1+s)),c=Math.min(o,l),d=Hd(c,r,i),f=t.x+t.width/2,h=t.y+t.height/2,b=e/2-f*d,x=n/2-h*d;return{x:b,y:x,zoom:d}},Kv=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Kd(t){return t!==void 0&&t!=="parent"}function Wa(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function q2(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function R2(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function yR(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Xp(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Aa(t),l=vm({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:c,y:d}=n?Xb(l,e):l;return{xSnapped:c,ySnapped:d,...l}}const ex=t=>({width:t.offsetWidth,height:t.offsetHeight}),j2=t=>t?.getRootNode?.()||window?.document,VX=["INPUT","SELECT","TEXTAREA"];function YE(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:VX.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const A2=t=>"clientX"in t,Aa=(t,e)=>{const n=A2(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},vR=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...ex(o)}})};function P2({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const c=t*.125+i*.375+o*.375+n*.125,d=e*.125+s*.375+l*.375+r*.125,f=Math.abs(c-t),h=Math.abs(d-e);return[c,d,f,h]}function Xg(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function bR({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Lt.Left:return[e-Xg(e-r,s),n];case Lt.Right:return[e+Xg(r-e,s),n];case Lt.Top:return[e,n-Xg(n-i,s)];case Lt.Bottom:return[e,n+Xg(i-n,s)]}}function IN({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,curvature:o=.25}){const[l,c]=bR({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[d,f]=bR({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[h,b,x,w]=P2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${t},${e} C${l},${c} ${d},${f} ${r},${i}`,h,b,x,w]}function F2({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[s,l,i,o]}function HX({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function QX({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Jb(Qv(t),Qv(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return $h(o,Yb(s))>0}const KX=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,GX=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),D2=(t,e)=>{if(!t.source||!t.target)return e;let n;return E2(t)?n={...t}:n={...t,id:KX(t)},GX(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function CN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,l]=F2({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,l]}const xR={[Lt.Left]:{x:-1,y:0},[Lt.Right]:{x:1,y:0},[Lt.Top]:{x:0,y:-1},[Lt.Bottom]:{x:0,y:1}},ZX=({source:t,sourcePosition:e=Lt.Bottom,target:n})=>e===Lt.Left||e===Lt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},_R=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function JX({source:t,sourcePosition:e=Lt.Bottom,target:n,targetPosition:r=Lt.Top,center:i,offset:s}){const o=xR[e],l=xR[r],c={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},f=ZX({source:c,sourcePosition:e,target:d}),h=f.x!==0?"x":"y",b=f[h];let x=[],w,E;const I={x:0,y:0},T={x:0,y:0},[O,q,A,D]=F2({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*l[h]===-1){w=i.x??O,E=i.y??q;const z=[{x:w,y:c.y},{x:w,y:d.y}],P=[{x:c.x,y:E},{x:d.x,y:E}];o[h]===b?x=h==="x"?z:P:x=h==="x"?P:z}else{const z=[{x:c.x,y:d.y}],P=[{x:d.x,y:c.y}];if(h==="x"?x=o.x===b?P:z:x=o.y===b?z:P,e===r){const V=Math.abs(t[h]-n[h]);if(V<=s){const B=Math.min(s-1,s-V);o[h]===b?I[h]=(c[h]>t[h]?-1:1)*B:T[h]=(d[h]>n[h]?-1:1)*B}}if(e!==r){const V=h==="x"?"y":"x",B=o[h]===l[V],ee=c[V]>d[V],J=c[V]<d[V];(o[h]===1&&(!B&&ee||B&&J)||o[h]!==1&&(!B&&J||B&&ee))&&(x=h==="x"?z:P)}const R={x:c.x+I.x,y:c.y+I.y},M={x:d.x+T.x,y:d.y+T.y},F=Math.max(Math.abs(R.x-x[0].x),Math.abs(M.x-x[0].x)),W=Math.max(Math.abs(R.y-x[0].y),Math.abs(M.y-x[0].y));F>=W?(w=(R.x+M.x)/2,E=x[0].y):(w=x[0].x,E=(R.y+M.y)/2)}return[[t,{x:c.x+I.x,y:c.y+I.y},...x,{x:d.x+T.x,y:d.y+T.y},n],w,E,A,D]}function YX(t,e,n,r){const i=Math.min(_R(t,e)/2,_R(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*f}`}const l=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${s},${o+i*c}Q ${s},${o} ${s+i*l},${o}`}function XE({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,borderRadius:o=5,centerX:l,centerY:c,offset:d=20}){const[f,h,b,x,w]=JX({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:l,y:c},offset:d});return[f.reduce((I,T,O)=>{let q="";return O>0&&O<f.length-1?q=YX(f[O-1],T,f[O+1],o):q=`${O===0?"M":"L"}${T.x} ${T.y}`,I+=q,I},""),h,b,x,w]}function wR(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function XX(t){const{sourceNode:e,targetNode:n}=t;if(!wR(e)||!wR(n))return null;const r=e.internals.handleBounds||SR(e.handles),i=n.internals.handleBounds||SR(n.handles),s=ER(r?.source??[],t.sourceHandle),o=ER(t.connectionMode===Vd.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",za.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=s?.position||Lt.Bottom,c=o?.position||Lt.Top,d=Bh(e,s,l),f=Bh(n,o,c);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}function SR(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Bh(t,e,n=Lt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??Wa(t);if(r)return{x:i+o/2,y:s+l/2};switch(e?.position??n){case Lt.Top:return{x:i+o/2,y:s};case Lt.Right:return{x:i+o,y:s+l/2};case Lt.Bottom:return{x:i+o/2,y:s+l};case Lt.Left:return{x:i,y:s+l/2}}}function ER(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function e1(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function eee(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const d=e1(c,e);s.has(d)||(o.push({id:d,color:c.color||n,...c}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const TN={nodeOrigin:[0,0],nodeExtent:Dh,elevateNodesOnSelect:!0,defaults:{}},tee={...TN,checkEquality:!0};function ON(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function nee(t,e,n){const r=ON(TN,n);for(const i of t.values())if(i.parentId)qN(i,t,e,r);else{const s=gm(i,r.nodeOrigin),o=Kd(i.extent)?i.extent:r.nodeExtent,l=sc(s,o,Wa(i));i.internals.positionAbsolute=l}}function t1(t,e,n,r){const i=ON(tee,r),s=new Map(e),o=i?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let c=s.get(l.id);if(i.checkEquality&&l===c?.internals.userNode)e.set(l.id,c);else{const d=gm(l,i.nodeOrigin),f=Kd(l.extent)?l.extent:i.nodeExtent,h=sc(d,f,Wa(l));c={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:h,handleBounds:l.measured?c?.internals.handleBounds:void 0,z:L2(l,o),userNode:l}},e.set(l.id,c)}l.parentId&&qN(c,e,n,r)}}function ree(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function qN(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=ON(TN,r),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}ree(t,n);const d=i?1e3:0,{x:f,y:h,z:b}=iee(t,c,s,o,d),{positionAbsolute:x}=t.internals,w=f!==x.x||h!==x.y;(w||b!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:w?{x:f,y:h}:x,z:b}})}function L2(t,e){return(So(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function iee(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,l=Wa(t),c=gm(t,n),d=Kd(t.extent)?sc(c,t.extent,l):c;let f=sc({x:s+d.x,y:o+d.y},r,l);t.extent==="parent"&&(f=I2(f,l,e));const h=L2(t,i),b=e.internals.z??0;return{x:f.x,y:f.y,z:b>h?b:h}}function RN(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const l=e.get(o.parentId);if(!l)continue;const c=s.get(o.parentId)?.expandedRect??Qd(l),d=T2(c,o.rect);s.set(o.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:o,parent:l},c)=>{const d=l.internals.positionAbsolute,f=Wa(l),h=l.origin??r,b=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,x=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,w=Math.max(f.width,Math.round(o.width)),E=Math.max(f.height,Math.round(o.height)),I=(w-f.width)*h[0],T=(E-f.height)*h[1];(b>0||x>0||I||T)&&(i.push({id:c,type:"position",position:{x:l.position.x-b+I,y:l.position.y-x+T}}),n.get(c)?.forEach(O=>{t.some(q=>q.id===O.id)||i.push({id:O.id,type:"position",position:{x:O.position.x+b,y:O.position.y+x}})})),(f.width<o.width||f.height<o.height||b||x)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:w+(b?h[0]*b-I:0),height:E+(x?h[1]*x-T:0)}})}),i}function see(t,e,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const b of t.values()){const x=e.get(b.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),l=!0;continue}const w=ex(b.nodeElement),E=x.measured.width!==w.width||x.measured.height!==w.height;if(!!(w.width&&w.height&&(E||!x.internals.handleBounds||b.force))){const T=b.nodeElement.getBoundingClientRect(),O=Kd(x.extent)?x.extent:s;let{positionAbsolute:q}=x.internals;x.parentId&&x.extent==="parent"?q=I2(q,w,e.get(x.parentId)):O&&(q=sc(q,O,w));const A={...x,measured:w,internals:{...x.internals,positionAbsolute:q,handleBounds:{source:vR("source",b.nodeElement,T,f,x.id),target:vR("target",b.nodeElement,T,f,x.id)}}};e.set(x.id,A),x.parentId&&qN(A,e,n,{nodeOrigin:i}),l=!0,E&&(c.push({id:x.id,type:"dimensions",dimensions:w}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:Qd(A,i)}))}}if(h.length>0){const b=RN(h,e,n,i);c.push(...b)}return{changes:c,updatedInternals:l}}async function oee({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function NR(t,e,n,r,i,s){let o=i;const l=r.get(o)||new Map;r.set(o,l.set(n,e)),o=`${i}-${t}`;const c=r.get(o)||new Map;if(r.set(o,c.set(n,e)),s){o=`${i}-${t}-${s}`;const d=r.get(o)||new Map;r.set(o,d.set(n,e))}}function M2(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,c={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l},d=`${i}-${o}--${s}-${l}`,f=`${s}-${l}--${i}-${o}`;NR("source",c,f,t,i,o),NR("target",c,d,t,s,l),e.set(r.id,r)}}function $2(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:$2(n,e):!1}function kR(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function aee(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!$2(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function I0({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,l]of e){const c=n.get(o)?.internals.userNode;c&&i.push({...c,position:l.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function lee({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,c=!1,d={x:0,y:0},f=null,h=!1,b=null,x=!1;function w({noDragClassName:I,handleSelector:T,domNode:O,isSelectable:q,nodeId:A,nodeClickDistance:D=0}){b=Is(O);function L({x:M,y:F},W){const{nodeLookup:V,nodeExtent:B,snapGrid:ee,snapToGrid:J,nodeOrigin:le,onNodeDrag:se,onSelectionDrag:ne,onError:oe,updateNodePositions:X}=e();s={x:M,y:F};let ce=!1,de={x:0,y:0,x2:0,y2:0};if(l.size>1&&B){const ye=ym(l);de=JE(ye)}for(const[ye,_e]of l){if(!V.has(ye))continue;let Ne={x:M-_e.distance.x,y:F-_e.distance.y};J&&(Ne=Xb(Ne,ee));let ze=[[B[0][0],B[0][1]],[B[1][0],B[1][1]]];if(l.size>1&&B&&!_e.extent){const{positionAbsolute:Ze}=_e.internals,Xe=Ze.x-de.x+B[0][0],Ue=Ze.x+_e.measured.width-de.x2+B[1][0],ut=Ze.y-de.y+B[0][1],wt=Ze.y+_e.measured.height-de.y2+B[1][1];ze=[[Xe,ut],[Ue,wt]]}const{position:qe,positionAbsolute:De}=k2({nodeId:ye,nextPosition:Ne,nodeLookup:V,nodeExtent:ze,nodeOrigin:le,onError:oe});ce=ce||_e.position.x!==qe.x||_e.position.y!==qe.y,_e.position=qe,_e.internals.positionAbsolute=De}if(ce&&(X(l,!0),W&&(r||se||!A&&ne))){const[ye,_e]=I0({nodeId:A,dragItems:l,nodeLookup:V});r?.(W,l,ye,_e),se?.(W,ye,_e),A||ne?.(W,_e)}}async function z(){if(!f)return;const{transform:M,panBy:F,autoPanSpeed:W}=e(),[V,B]=C2(d,f,W);(V!==0||B!==0)&&(s.x=(s.x??0)-V/M[2],s.y=(s.y??0)-B/M[2],await F({x:V,y:B})&&L(s,null)),o=requestAnimationFrame(z)}function P(M){const{nodeLookup:F,multiSelectionActive:W,nodesDraggable:V,transform:B,snapGrid:ee,snapToGrid:J,selectNodesOnDrag:le,onNodeDragStart:se,onSelectionDragStart:ne,unselectNodesAndEdges:oe}=e();h=!0,(!le||!q)&&!W&&A&&(F.get(A)?.selected||oe()),q&&le&&A&&t?.(A);const X=Xp(M.sourceEvent,{transform:B,snapGrid:ee,snapToGrid:J,containerBounds:f});if(s=X,l=aee(F,V,X,A),l.size>0&&(n||se||!A&&ne)){const[ce,de]=I0({nodeId:A,dragItems:l,nodeLookup:F});n?.(M.sourceEvent,l,ce,de),se?.(M.sourceEvent,ce,de),A||ne?.(M.sourceEvent,de)}}const R=s2().clickDistance(D).on("start",M=>{const{domNode:F,nodeDragThreshold:W,transform:V,snapGrid:B,snapToGrid:ee}=e();f=F?.getBoundingClientRect()||null,x=!1,W===0&&P(M),s=Xp(M.sourceEvent,{transform:V,snapGrid:B,snapToGrid:ee,containerBounds:f}),d=Aa(M.sourceEvent,f)}).on("drag",M=>{const{autoPanOnNodeDrag:F,transform:W,snapGrid:V,snapToGrid:B,nodeDragThreshold:ee,nodeLookup:J}=e(),le=Xp(M.sourceEvent,{transform:W,snapGrid:V,snapToGrid:B,containerBounds:f});if((M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1||A&&!J.has(A))&&(x=!0),!x){if(!c&&F&&h&&(c=!0,z()),!h){const se=le.xSnapped-(s.x??0),ne=le.ySnapped-(s.y??0);Math.sqrt(se*se+ne*ne)>ee&&P(M)}(s.x!==le.xSnapped||s.y!==le.ySnapped)&&l&&h&&(d=Aa(M.sourceEvent,f),L(le,M.sourceEvent))}}).on("end",M=>{if(!(!h||x)&&(c=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:F,updateNodePositions:W,onNodeDragStop:V,onSelectionDragStop:B}=e();if(W(l,!1),i||V||!A&&B){const[ee,J]=I0({nodeId:A,dragItems:l,nodeLookup:F,dragging:!1});i?.(M.sourceEvent,l,ee,J),V?.(M.sourceEvent,ee,J),A||B?.(M.sourceEvent,J)}}}).filter(M=>{const F=M.target;return!M.button&&(!I||!kR(F,`.${I}`,O))&&(!T||kR(F,T,O))});b.call(R)}function E(){b?.on(".drag",null)}return{update:w,destroy:E}}function uee(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())$h(i,Qd(s))>0&&r.push(s);return r}const cee=250;function dee(t,e,n,r){let i=[],s=1/0;const o=uee(t,n,e+cee);for(const l of o){const c=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:h}=Bh(l,d,d.position,!0),b=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(h-t.y,2));b>e||(b<s?(i=[{...d,x:f,y:h}],s=b):b===s&&i.push({...d,x:f,y:h}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(c=>c.type===l)??i[0]}return i[0]}function B2(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const l=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],c=(n?l?.find(d=>d.id===n):l?.[0])??null;return c&&s?{...c,...Bh(o,c,c.position,!0)}:c}function z2(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function fee(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const W2=()=>!0;function pee(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:f,flowId:h,panBy:b,cancelConnection:x,onConnectStart:w,onConnect:E,onConnectEnd:I,isValidConnection:T=W2,onReconnectEnd:O,updateConnection:q,getTransform:A,getFromHandle:D,autoPanSpeed:L}){const z=j2(t.target);let P=0,R;const{x:M,y:F}=Aa(t),W=z?.elementFromPoint(M,F),V=z2(s,W),B=l?.getBoundingClientRect();if(!B||!V)return;const ee=B2(i,V,r,c,e);if(!ee)return;let J=Aa(t,B),le=!1,se=null,ne=!1,oe=null;function X(){if(!f||!B)return;const[De,Ze]=C2(J,B,L);b({x:De,y:Ze}),P=requestAnimationFrame(X)}const ce={...ee,nodeId:i,type:V,position:ee.position},de=c.get(i),_e={inProgress:!0,isValid:null,from:Bh(de,ce,Lt.Left,!0),fromHandle:ce,fromPosition:ce.position,fromNode:de,to:J,toHandle:null,toPosition:hR[ce.position],toNode:null};q(_e);let Ne=_e;w?.(t,{nodeId:i,handleId:r,handleType:V});function ze(De){if(!D()||!ce){qe(De);return}const Ze=A();J=Aa(De,B),R=dee(vm(J,Ze,!1,[1,1]),n,c,ce),le||(X(),le=!0);const Xe=U2(De,{handle:R,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:T,doc:z,lib:d,flowId:h,nodeLookup:c});oe=Xe.handleDomNode,se=Xe.connection,ne=fee(!!R,Xe.isValid);const Ue={...Ne,isValid:ne,to:R&&ne?O2({x:R.x,y:R.y},Ze):J,toHandle:Xe.toHandle,toPosition:ne&&Xe.toHandle?Xe.toHandle.position:hR[ce.position],toNode:Xe.toHandle?c.get(Xe.toHandle.nodeId):null};ne&&R&&Ne.toHandle&&Ue.toHandle&&Ne.toHandle.type===Ue.toHandle.type&&Ne.toHandle.nodeId===Ue.toHandle.nodeId&&Ne.toHandle.id===Ue.toHandle.id&&Ne.to.x===Ue.to.x&&Ne.to.y===Ue.to.y||(q(Ue),Ne=Ue)}function qe(De){(R||oe)&&se&&ne&&E?.(se);const{inProgress:Ze,...Xe}=Ne,Ue={...Xe,toPosition:Ne.toHandle?Ne.toPosition:null};I?.(De,Ue),s&&O?.(De,Ue),x(),cancelAnimationFrame(P),le=!1,ne=!1,se=null,oe=null,z.removeEventListener("mousemove",ze),z.removeEventListener("mouseup",qe),z.removeEventListener("touchmove",ze),z.removeEventListener("touchend",qe)}z.addEventListener("mousemove",ze),z.addEventListener("mouseup",qe),z.addEventListener("touchmove",ze),z.addEventListener("touchend",qe)}function U2(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:c,isValidConnection:d=W2,nodeLookup:f}){const h=s==="target",b=e?o.querySelector(`.${l}-flow__handle[data-id="${c}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x,y:w}=Aa(t),E=o.elementFromPoint(x,w),I=E?.classList.contains(`${l}-flow__handle`)?E:b,T={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const O=z2(void 0,I),q=I.getAttribute("data-nodeid"),A=I.getAttribute("data-handleid"),D=I.classList.contains("connectable"),L=I.classList.contains("connectableend");if(!q||!O)return T;const z={source:h?q:r,sourceHandle:h?A:i,target:h?r:q,targetHandle:h?i:A};T.connection=z;const R=D&&L&&(n===Vd.Strict?h&&O==="source"||!h&&O==="target":q!==r||A!==i);T.isValid=R&&d(z),T.toHandle=B2(q,O,A,f,n,!1)}return T}const n1={onPointerDown:pee,isValid:U2};function hee({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Is(t);function s({translateExtent:l,width:c,height:d,zoomStep:f=10,pannable:h=!0,zoomable:b=!0,inversePan:x=!1}){const w=q=>{const A=n();if(q.sourceEvent.type!=="wheel"||!e)return;const D=-q.sourceEvent.deltaY*(q.sourceEvent.deltaMode===1?.05:q.sourceEvent.deltaMode?1:.002)*f,L=A[2]*Math.pow(2,D);e.scaleTo(L)};let E=[0,0];const I=q=>{(q.sourceEvent.type==="mousedown"||q.sourceEvent.type==="touchstart")&&(E=[q.sourceEvent.clientX??q.sourceEvent.touches[0].clientX,q.sourceEvent.clientY??q.sourceEvent.touches[0].clientY])},T=q=>{const A=n();if(q.sourceEvent.type!=="mousemove"&&q.sourceEvent.type!=="touchmove"||!e)return;const D=[q.sourceEvent.clientX??q.sourceEvent.touches[0].clientX,q.sourceEvent.clientY??q.sourceEvent.touches[0].clientY],L=[D[0]-E[0],D[1]-E[1]];E=D;const z=r()*Math.max(A[2],Math.log(A[2]))*(x?-1:1),P={x:A[0]-L[0]*z,y:A[1]-L[1]*z},R=[[0,0],[c,d]];e.setViewportConstrained({x:P.x,y:P.y,zoom:A[2]},R,l)},O=x2().on("start",I).on("zoom",h?T:null).on("zoom.wheel",b?w:null);i.call(O,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:go}}const mee=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,tx=t=>({x:t.x,y:t.y,zoom:t.k}),C0=({x:t,y:e,zoom:n})=>Zb.translate(t,e).scale(n),cd=(t,e)=>t.target.closest(`.${e}`),V2=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),T0=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},H2=t=>{const e=t.ctrlKey&&Kv()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function gee({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return f=>{if(cd(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&o){const I=go(f),T=H2(f),O=h*Math.pow(2,T);r.scaleTo(n,O,I,f);return}const b=f.deltaMode===1?20:1;let x=i===Hu.Vertical?0:f.deltaX*b,w=i===Hu.Horizontal?0:f.deltaY*b;!Kv()&&f.shiftKey&&i!==Hu.Vertical&&(x=f.deltaY*b,w=0),r.translateBy(n,-(x/h)*s,-(w/h)*s,{internal:!0});const E=tx(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l?.(f,E)),t.isPanScrolling&&(c?.(f,E),t.panScrollTimeout=setTimeout(()=>{d?.(f,E),t.isPanScrolling=!1},150))}}function yee({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||cd(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function vee({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=tx(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function bee({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&V2(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,tx(s.transform))}}function xee({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&V2(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&mee(t.prevViewport,o.transform))){const l=tx(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,l)},n?150:0)}}}function _ee({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:c,lib:d}){return f=>{const h=t||e,b=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(cd(f,`${d}-flow__node`)||cd(f,`${d}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||o||cd(f,l)&&f.type==="wheel"||cd(f,c)&&(f.type!=="wheel"||i&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&f.touches?.length>1)return f.preventDefault(),!1;if(!h&&!i&&!b&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&x}}function wee({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),b=x2().clickDistance(!So(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),x=Is(t).call(b);q({x:s.x,y:s.y,zoom:Hd(s.zoom,e,n)},[[0,0],[h.width,h.height]],i);const w=x.on("wheel.zoom"),E=x.on("dblclick.zoom");b.wheelDelta(H2);function I(W,V){return x?new Promise(B=>{b?.transform(T0(x,V?.duration,()=>B(!0)),W)}):Promise.resolve(!1)}function T({noWheelClassName:W,noPanClassName:V,onPaneContextMenu:B,userSelectionActive:ee,panOnScroll:J,panOnDrag:le,panOnScrollMode:se,panOnScrollSpeed:ne,preventScrolling:oe,zoomOnPinch:X,zoomOnScroll:ce,zoomOnDoubleClick:de,zoomActivationKeyPressed:ye,lib:_e,onTransformChange:Ne}){ee&&!f.isZoomingOrPanning&&O();const qe=J&&!ye&&!ee?gee({zoomPanValues:f,noWheelClassName:W,d3Selection:x,d3Zoom:b,panOnScrollMode:se,panOnScrollSpeed:ne,zoomOnPinch:X,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):yee({noWheelClassName:W,preventScrolling:oe,d3ZoomHandler:w});if(x.on("wheel.zoom",qe,{passive:!1}),!ee){const Ze=vee({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});b.on("start",Ze);const Xe=bee({zoomPanValues:f,panOnDrag:le,onPaneContextMenu:!!B,onPanZoom:o,onTransformChange:Ne});b.on("zoom",Xe);const Ue=xee({zoomPanValues:f,panOnDrag:le,panOnScroll:J,onPaneContextMenu:B,onPanZoomEnd:c,onDraggingChange:d});b.on("end",Ue)}const De=_ee({zoomActivationKeyPressed:ye,panOnDrag:le,zoomOnScroll:ce,panOnScroll:J,zoomOnDoubleClick:de,zoomOnPinch:X,userSelectionActive:ee,noPanClassName:V,noWheelClassName:W,lib:_e});b.filter(De),de?x.on("dblclick.zoom",E):x.on("dblclick.zoom",null)}function O(){b.on("zoom",null)}async function q(W,V,B){const ee=C0(W),J=b?.constrain()(ee,V,B);return J&&await I(J),new Promise(le=>le(J))}async function A(W,V){const B=C0(W);return await I(B,V),new Promise(ee=>ee(B))}function D(W){if(x){const V=C0(W),B=x.property("__zoom");(B.k!==W.zoom||B.x!==W.x||B.y!==W.y)&&b?.transform(x,V,null,{sync:!0})}}function L(){const W=x?b2(x.node()):{x:0,y:0,k:1};return{x:W.x,y:W.y,zoom:W.k}}function z(W,V){return x?new Promise(B=>{b?.scaleTo(T0(x,V?.duration,()=>B(!0)),W)}):Promise.resolve(!1)}function P(W,V){return x?new Promise(B=>{b?.scaleBy(T0(x,V?.duration,()=>B(!0)),W)}):Promise.resolve(!1)}function R(W){b?.scaleExtent(W)}function M(W){b?.translateExtent(W)}function F(W){const V=!So(W)||W<0?0:W;b?.clickDistance(V)}return{update:T,destroy:O,setViewport:A,setViewportConstrained:q,getViewport:L,scaleTo:z,scaleBy:P,setScaleExtent:R,setTranslateExtent:M,syncViewport:D,setClickDistance:F}}var eh;(function(t){t.Line="line",t.Handle="handle"})(eh||(eh={}));function See({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,l=n-r,c=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function Eee(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function gl(t,e){return Math.max(0,e-t)}function yl(t,e){return Math.max(0,t-e)}function ey(t,e,n){return Math.max(0,e-t,t-n)}function IR(t,e){return t?!e:e}function Nee(t,e,n,r,i,s,o,l){let{affectsX:c,affectsY:d}=e;const{isHorizontal:f,isVertical:h}=e,b=f&&h,{xSnapped:x,ySnapped:w}=n,{minWidth:E,maxWidth:I,minHeight:T,maxHeight:O}=r,{x:q,y:A,width:D,height:L,aspectRatio:z}=t;let P=Math.floor(f?x-t.pointerX:0),R=Math.floor(h?w-t.pointerY:0);const M=D+(c?-P:P),F=L+(d?-R:R),W=-s[0]*D,V=-s[1]*L;let B=ey(M,E,I),ee=ey(F,T,O);if(o){let se=0,ne=0;c&&P<0?se=gl(q+P+W,o[0][0]):!c&&P>0&&(se=yl(q+M+W,o[1][0])),d&&R<0?ne=gl(A+R+V,o[0][1]):!d&&R>0&&(ne=yl(A+F+V,o[1][1])),B=Math.max(B,se),ee=Math.max(ee,ne)}if(l){let se=0,ne=0;c&&P>0?se=yl(q+P,l[0][0]):!c&&P<0&&(se=gl(q+M,l[1][0])),d&&R>0?ne=yl(A+R,l[0][1]):!d&&R<0&&(ne=gl(A+F,l[1][1])),B=Math.max(B,se),ee=Math.max(ee,ne)}if(i){if(f){const se=ey(M/z,T,O)*z;if(B=Math.max(B,se),o){let ne=0;!c&&!d||c&&!d&&b?ne=yl(A+V+M/z,o[1][1])*z:ne=gl(A+V+(c?P:-P)/z,o[0][1])*z,B=Math.max(B,ne)}if(l){let ne=0;!c&&!d||c&&!d&&b?ne=gl(A+M/z,l[1][1])*z:ne=yl(A+(c?P:-P)/z,l[0][1])*z,B=Math.max(B,ne)}}if(h){const se=ey(F*z,E,I)/z;if(ee=Math.max(ee,se),o){let ne=0;!c&&!d||d&&!c&&b?ne=yl(q+F*z+W,o[1][0])/z:ne=gl(q+(d?R:-R)*z+W,o[0][0])/z,ee=Math.max(ee,ne)}if(l){let ne=0;!c&&!d||d&&!c&&b?ne=gl(q+F*z,l[1][0])/z:ne=yl(q+(d?R:-R)*z,l[0][0])/z,ee=Math.max(ee,ne)}}}R=R+(R<0?ee:-ee),P=P+(P<0?B:-B),i&&(b?M>F*z?R=(IR(c,d)?-P:P)/z:P=(IR(c,d)?-R:R)*z:f?(R=P/z,d=c):(P=R*z,c=d));const J=c?q+P:q,le=d?A+R:A;return{width:D+(c?-P:P),height:L+(d?-R:R),x:s[0]*P*(c?-1:1)+J,y:s[1]*R*(d?-1:1)+le}}const Q2={width:0,height:0,x:0,y:0},kee={...Q2,pointerX:0,pointerY:0,aspectRatio:1};function Iee(t){return[[0,0],[t.measured.width,t.measured.height]]}function Cee(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,l=n[0]*s,c=n[1]*o;return[[r-l,i-c],[r+s-l,i+o-c]]}function Tee({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Is(t);function o({controlPosition:c,boundaries:d,keepAspectRatio:f,onResizeStart:h,onResize:b,onResizeEnd:x,shouldResize:w}){let E={...Q2},I={...kee};const T=Eee(c);let O,q=null,A=[],D,L,z;const P=s2().on("start",R=>{const{nodeLookup:M,transform:F,snapGrid:W,snapToGrid:V,nodeOrigin:B,paneDomNode:ee}=n();if(O=M.get(e),!O)return;q=ee?.getBoundingClientRect()??null;const{xSnapped:J,ySnapped:le}=Xp(R.sourceEvent,{transform:F,snapGrid:W,snapToGrid:V,containerBounds:q});E={width:O.measured.width??0,height:O.measured.height??0,x:O.position.x??0,y:O.position.y??0},I={...E,pointerX:J,pointerY:le,aspectRatio:E.width/E.height},D=void 0,O.parentId&&(O.extent==="parent"||O.expandParent)&&(D=M.get(O.parentId),L=D&&O.extent==="parent"?Iee(D):void 0),A=[],z=void 0;for(const[se,ne]of M)if(ne.parentId===e&&(A.push({id:se,position:{...ne.position},extent:ne.extent}),ne.extent==="parent"||ne.expandParent)){const oe=Cee(ne,O,ne.origin??B);z?z=[[Math.min(oe[0][0],z[0][0]),Math.min(oe[0][1],z[0][1])],[Math.max(oe[1][0],z[1][0]),Math.max(oe[1][1],z[1][1])]]:z=oe}h?.(R,{...E})}).on("drag",R=>{const{transform:M,snapGrid:F,snapToGrid:W,nodeOrigin:V}=n(),B=Xp(R.sourceEvent,{transform:M,snapGrid:F,snapToGrid:W,containerBounds:q}),ee=[];if(!O)return;const{x:J,y:le,width:se,height:ne}=E,oe={},X=O.origin??V,{width:ce,height:de,x:ye,y:_e}=Nee(I,T,B,d,f,X,L,z),Ne=ce!==se,ze=de!==ne,qe=ye!==J&&Ne,De=_e!==le&&ze;if(!qe&&!De&&!Ne&&!ze)return;if((qe||De||X[0]===1||X[1]===1)&&(oe.x=qe?ye:E.x,oe.y=De?_e:E.y,E.x=oe.x,E.y=oe.y,A.length>0)){const ut=ye-J,wt=_e-le;for(const Tt of A)Tt.position={x:Tt.position.x-ut+X[0]*(ce-se),y:Tt.position.y-wt+X[1]*(de-ne)},ee.push(Tt)}if((Ne||ze)&&(oe.width=Ne?ce:E.width,oe.height=ze?de:E.height,E.width=oe.width,E.height=oe.height),D&&O.expandParent){const ut=X[0]*(oe.width??0);oe.x&&oe.x<ut&&(E.x=ut,I.x=I.x-(oe.x-ut));const wt=X[1]*(oe.height??0);oe.y&&oe.y<wt&&(E.y=wt,I.y=I.y-(oe.y-wt))}const Ze=See({width:E.width,prevWidth:se,height:E.height,prevHeight:ne,affectsX:T.affectsX,affectsY:T.affectsY}),Xe={...E,direction:Ze};w?.(R,Xe)!==!1&&(b?.(R,Xe),r(oe,ee))}).on("end",R=>{x?.(R,{...E}),i?.()});s.call(P)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}const CR=t=>{let e;const n=new Set,r=(f,h)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const x=e;e=h??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(w=>w(e,x))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{n.clear()}},d=e=t(r,i,c);return c},Oee=t=>t?CR(t):CR,{useDebugValue:qee}=$n,{useSyncExternalStoreWithSelector:Ree}=NB,jee=t=>t;function K2(t,e=jee,n){const r=Ree(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return qee(r),r}const TR=(t,e)=>{const n=Oee(t),r=(i,s=e)=>K2(n,i,s);return Object.assign(r,n),r},Aee=(t,e)=>t?TR(t,e):TR;function Pr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const nx=K.createContext(null),Pee=nx.Provider,G2=za.error001();function Cn(t,e){const n=K.useContext(nx);if(n===null)throw new Error(G2);return K2(n,t,e)}function Ir(){const t=K.useContext(nx);if(t===null)throw new Error(G2);return K.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const OR={display:"none"},Fee={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Z2="react-flow__node-desc",J2="react-flow__edge-desc",Dee="react-flow__aria-live",Lee=t=>t.ariaLiveMessage;function Mee({rfId:t}){const e=Cn(Lee);return p.jsx("div",{id:`${Dee}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Fee,children:e})}function $ee({rfId:t,disableKeyboardA11y:e}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{id:`${Z2}-${t}`,style:OR,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),p.jsx("div",{id:`${J2}-${t}`,style:OR,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&p.jsx(Mee,{rfId:t})]})}const Bee=t=>t.userSelectionActive?"none":"all",jN=K.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=Cn(Bee),l=`${t}`.split("-");return p.jsx("div",{className:Yr(["react-flow__panel",n,...l]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});function zee({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:p.jsx(jN,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Wee=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},ty=t=>t.id;function Uee(t,e){return Pr(t.selectedNodes.map(ty),e.selectedNodes.map(ty))&&Pr(t.selectedEdges.map(ty),e.selectedEdges.map(ty))}function Vee({onSelectionChange:t}){const e=Ir(),{selectedNodes:n,selectedEdges:r}=Cn(Wee,Uee);return K.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const Hee=t=>!!t.onSelectionChangeHandlers;function Qee({onSelectionChange:t}){const e=Cn(Hee);return t||e?p.jsx(Vee,{onSelectionChange:t}):null}const Y2=[0,0],Kee={x:0,y:0,zoom:1},Gee=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],qR=[...Gee,"rfId"],Zee=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),RR={translateExtent:Dh,nodeOrigin:Y2,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Jee(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=Cn(Zee,Pr),f=Ir();K.useEffect(()=>(c(t.defaultNodes,t.defaultEdges),()=>{h.current=RR,l()}),[]);const h=K.useRef(RR);return K.useEffect(()=>{for(const b of qR){const x=t[b],w=h.current[b];x!==w&&(typeof t[b]>"u"||(b==="nodes"?e(x):b==="edges"?n(x):b==="minZoom"?r(x):b==="maxZoom"?i(x):b==="translateExtent"?s(x):b==="nodeExtent"?o(x):b==="paneClickDistance"?d(x):b==="fitView"?f.setState({fitViewOnInit:x}):b==="fitViewOptions"?f.setState({fitViewOnInitOptions:x}):f.setState({[b]:x})))}h.current=t},qR.map(b=>t[b])),null}function jR(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Yee(t){const[e,n]=K.useState(t==="system"?null:t);return K.useEffect(()=>{if(t!=="system"){n(t);return}const r=jR(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:jR()?.matches?"dark":"light"}const AR=typeof document<"u"?document:null;function zh(t=null,e={target:AR,actInsideInputWithModifier:!0}){const[n,r]=K.useState(!1),i=K.useRef(!1),s=K.useRef(new Set([])),[o,l]=K.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((h,b)=>h.concat(...b),[]);return[d,f]}return[[],[]]},[t]);return K.useEffect(()=>{const c=e?.target||AR;if(t!==null){const d=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&YE(b))return!1;const w=FR(b.code,l);s.current.add(b[w]),PR(o,s.current,!1)&&(b.preventDefault(),r(!0))},f=b=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&YE(b))return!1;const w=FR(b.code,l);PR(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[w]),b.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return c?.addEventListener("keydown",d),c?.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c?.removeEventListener("keydown",d),c?.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function PR(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function FR(t,e){return e.includes(t)?"code":"key"}const Xee=()=>{const t=Ir();return K.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const l=GE(n,e),{width:c,height:d}=ex(o);return ZE({nodes:l,width:c,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:l}=t.getState(),c=typeof r?.zoom<"u"?r.zoom:o,d=i/2-e*c,f=s/2-n*c;return l?(await l.setViewport({x:d,y:f,zoom:c},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),c=kN(e,r,i,s,o,n?.padding??.1);return l?(await l.setViewport(c,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:l}=s.getBoundingClientRect(),c={x:e.x-o,y:e.y-l};return vm(c,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=O2(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function X2(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const c of o)ete(c,l);n.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function ete(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function AN(t,e){return X2(t,e)}function eL(t,e){return X2(t,e)}function Ou(t,e){return{id:t,type:"select",selected:e}}function dd(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(Ou(s.id,o)))}return r}function DR({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),l=o?.internals?.userNode??o;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function LR(t){return{id:t.id,type:"remove"}}const MR=t=>$X(t),tte=t=>E2(t);function tL(t){return K.forwardRef(t)}const nte=typeof window<"u"?K.useLayoutEffect:K.useEffect;function $R(t){const[e,n]=K.useState(BigInt(0)),[r]=K.useState(()=>rte(()=>n(i=>i+BigInt(1))));return nte(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function rte(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const nL=K.createContext(null);function ite({children:t}){const e=Ir(),n=K.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:f,onNodesChange:h,nodeLookup:b}=e.getState();let x=c;for(const w of l)x=typeof w=="function"?w(x):w;f?d(x):h&&h(DR({items:x,lookup:b}))},[]),r=$R(n),i=K.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:b}=e.getState();let x=c;for(const w of l)x=typeof w=="function"?w(x):w;f?d(x):h&&h(DR({items:x,lookup:b}))},[]),s=$R(i),o=K.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return p.jsx(nL.Provider,{value:o,children:t})}function ste(){const t=K.useContext(nL);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const ote=t=>!!t.panZoom;function hf(){const t=Xee(),e=Ir(),n=ste(),r=Cn(ote),i=K.useMemo(()=>{const s=h=>e.getState().nodeLookup.get(h),o=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},c=h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState(),w=MR(h)?h:b.get(h.id),E=w.parentId?R2(w.position,w.measured,w.parentId,b,x):w.position,I={...w,position:E,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return Qd(I)},d=(h,b,x={replace:!1})=>{o(w=>w.map(E=>{if(E.id===h){const I=typeof b=="function"?b(E):b;return x.replace&&MR(I)?I:{...E,...I}}return E}))},f=(h,b,x={replace:!1})=>{l(w=>w.map(E=>{if(E.id===h){const I=typeof b=="function"?b(E):b;return x.replace&&tte(I)?I:{...E,...I}}return E}))};return{getNodes:()=>e.getState().nodes.map(h=>({...h})),getNode:h=>s(h)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:h=[]}=e.getState();return h.map(b=>({...b}))},getEdge:h=>e.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const b=Array.isArray(h)?h:[h];n.nodeQueue.push(x=>[...x,...b])},addEdges:h=>{const b=Array.isArray(h)?h:[h];n.edgeQueue.push(x=>[...x,...b])},toObject:()=>{const{nodes:h=[],edges:b=[],transform:x}=e.getState(),[w,E,I]=x;return{nodes:h.map(T=>({...T})),edges:b.map(T=>({...T})),viewport:{x:w,y:E,zoom:I}}},deleteElements:async({nodes:h=[],edges:b=[]})=>{const{nodes:x,edges:w,onNodesDelete:E,onEdgesDelete:I,triggerNodeChanges:T,triggerEdgeChanges:O,onDelete:q,onBeforeDelete:A}=e.getState(),{nodes:D,edges:L}=await WX({nodesToRemove:h,edgesToRemove:b,nodes:x,edges:w,onBeforeDelete:A}),z=L.length>0,P=D.length>0;if(z){const R=L.map(LR);I?.(L),O(R)}if(P){const R=D.map(LR);E?.(D),T(R)}return(P||z)&&q?.({nodes:D,edges:L}),{deletedNodes:D,deletedEdges:L}},getIntersectingNodes:(h,b=!0,x)=>{const w=gR(h),E=w?h:c(h),I=x!==void 0;return E?(x||e.getState().nodes).filter(T=>{const O=e.getState().nodeLookup.get(T.id);if(O&&!w&&(T.id===h.id||!O.internals.positionAbsolute))return!1;const q=Qd(I?T:O),A=$h(q,E);return b&&A>0||A>=E.width*E.height}):[]},isNodeIntersecting:(h,b,x=!0)=>{const E=gR(h)?h:c(h);if(!E)return!1;const I=$h(E,b);return x&&I>0||I>=E.width*E.height},updateNode:d,updateNodeData:(h,b,x={replace:!1})=>{d(h,w=>{const E=typeof b=="function"?b(w):b;return x.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},x)},updateEdge:f,updateEdgeData:(h,b,x={replace:!1})=>{f(h,w=>{const E=typeof b=="function"?b(w):b;return x.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},x)},getNodesBounds:h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState();return BX(h,{nodeLookup:b,nodeOrigin:x})},getHandleConnections:({type:h,id:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}-${h}${b?`-${b}`:""}`)?.values()??[]),getNodeConnections:({type:h,handleId:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}${h?b?`-${h}-${b}`:`-${h}`:""}`)?.values()??[])}},[]);return K.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const BR=t=>t.selected,ate={actInsideInputWithModifier:!1},lte=typeof window<"u"?window:void 0;function ute({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Ir(),{deleteElements:r}=hf(),i=zh(t,ate),s=zh(e,{target:lte});K.useEffect(()=>{if(i){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(BR),edges:o.filter(BR)}),n.setState({nodesSelectionActive:!1})}},[i]),K.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function cte(t){const e=Ir();K.useEffect(()=>{const n=()=>{if(!t.current)return!1;const r=ex(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",za.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const rx={position:"absolute",width:"100%",height:"100%",top:0,left:0},dte=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function fte({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Hu.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:f,maxZoom:h,zoomActivationKeyCode:b,preventScrolling:x=!0,children:w,noWheelClassName:E,noPanClassName:I,onViewportChange:T,isControlledViewport:O,paneClickDistance:q}){const A=Ir(),D=K.useRef(null),{userSelectionActive:L,lib:z}=Cn(dte,Pr),P=zh(b),R=K.useRef();cte(D);const M=K.useCallback(F=>{T?.({x:F[0],y:F[1],zoom:F[2]}),O||A.setState({transform:F})},[T,O]);return K.useEffect(()=>{if(D.current){R.current=wee({domNode:D.current,minZoom:f,maxZoom:h,translateExtent:d,viewport:c,paneClickDistance:q,onDraggingChange:B=>A.setState({paneDragging:B}),onPanZoomStart:(B,ee)=>{const{onViewportChangeStart:J,onMoveStart:le}=A.getState();le?.(B,ee),J?.(ee)},onPanZoom:(B,ee)=>{const{onViewportChange:J,onMove:le}=A.getState();le?.(B,ee),J?.(ee)},onPanZoomEnd:(B,ee)=>{const{onViewportChangeEnd:J,onMoveEnd:le}=A.getState();le?.(B,ee),J?.(ee)}});const{x:F,y:W,zoom:V}=R.current.getViewport();return A.setState({panZoom:R.current,transform:[F,W,V],domNode:D.current.closest(".react-flow")}),()=>{R.current?.destroy()}}},[]),K.useEffect(()=>{R.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:x,noPanClassName:I,userSelectionActive:L,noWheelClassName:E,lib:z,onTransformChange:M})},[t,e,n,r,i,s,o,l,P,x,I,L,E,z,M]),p.jsx("div",{className:"react-flow__renderer",ref:D,style:rx,children:w})}const pte=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function hte(){const{userSelectionActive:t,userSelectionRect:e}=Cn(pte,Pr);return t&&e?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const O0=(t,e)=>n=>{n.target===e.current&&t?.(n)},mte=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function gte({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Lh.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:b,children:x}){const w=Ir(),{userSelectionActive:E,elementsSelectable:I,dragging:T}=Cn(mte,Pr),O=I&&(t||E),q=K.useRef(null),A=K.useRef(),D=K.useRef(new Set),L=K.useRef(new Set),z=K.useRef(!1),P=K.useRef(!1),R=J=>{if(z.current){z.current=!1;return}l?.(J),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},M=J=>{if(Array.isArray(r)&&r?.includes(2)){J.preventDefault();return}c?.(J)},F=d?J=>d(J):void 0,W=J=>{const{resetSelectedElements:le,domNode:se}=w.getState();if(A.current=se?.getBoundingClientRect(),!I||!t||J.button!==0||J.target!==q.current||!A.current)return;J.target?.setPointerCapture?.(J.pointerId),P.current=!0,z.current=!1;const{x:ne,y:oe}=Aa(J.nativeEvent,A.current);le(),w.setState({userSelectionRect:{width:0,height:0,startX:ne,startY:oe,x:ne,y:oe}}),s?.(J)},V=J=>{const{userSelectionRect:le,transform:se,nodeLookup:ne,edgeLookup:oe,connectionLookup:X,triggerNodeChanges:ce,triggerEdgeChanges:de,defaultEdgeOptions:ye}=w.getState();if(!A.current||!le)return;z.current=!0;const{x:_e,y:Ne}=Aa(J.nativeEvent,A.current),{startX:ze,startY:qe}=le,De={startX:ze,startY:qe,x:_e<ze?_e:ze,y:Ne<qe?Ne:qe,width:Math.abs(_e-ze),height:Math.abs(Ne-qe)},Ze=D.current,Xe=L.current;D.current=new Set(N2(ne,De,se,n===Lh.Partial,!0).map(ut=>ut.id)),L.current=new Set;const Ue=ye?.selectable??!0;for(const ut of D.current){const wt=X.get(ut);if(wt)for(const{edgeId:Tt}of wt.values()){const Wt=oe.get(Tt);Wt&&(Wt.selectable??Ue)&&L.current.add(Tt)}}if(!yR(Ze,D.current)){const ut=dd(ne,D.current,!0);ce(ut)}if(!yR(Xe,L.current)){const ut=dd(oe,L.current);de(ut)}w.setState({userSelectionRect:De,userSelectionActive:!0,nodesSelectionActive:!1})},B=J=>{if(J.button!==0||!P.current)return;J.target?.releasePointerCapture?.(J.pointerId);const{userSelectionRect:le}=w.getState();!E&&le&&J.target===q.current&&R?.(J),w.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),o?.(J),(e||i)&&(z.current=!1),P.current=!1},ee=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:Yr(["react-flow__pane",{draggable:ee,dragging:T,selection:t}]),onClick:O?void 0:O0(R,q),onContextMenu:O0(M,q),onWheel:O0(F,q),onPointerEnter:O?void 0:f,onPointerDown:O?W:h,onPointerMove:O?V:h,onPointerUp:O?B:void 0,onPointerLeave:b,ref:q,style:rx,children:[x,p.jsx(hte,{})]})}function r1({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:c}=e.getState(),d=l.get(t);if(!d){c?.("012",za.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function rL({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=Ir(),[c,d]=K.useState(!1),f=K.useRef();return K.useEffect(()=>{f.current=lee({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{r1({id:h,store:l,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),K.useEffect(()=>{if(e)f.current?.destroy();else if(t.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{f.current?.destroy()}},[n,r,e,s,t,i]),c}const yte=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function iL(){const t=Ir();return K.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:f}=t.getState(),h=new Map,b=yte(o),x=i?s[0]:5,w=i?s[1]:5,E=n.direction.x*x*n.factor,I=n.direction.y*w*n.factor;for(const[,T]of d){if(!b(T))continue;let O={x:T.internals.positionAbsolute.x+E,y:T.internals.positionAbsolute.y+I};i&&(O=Xb(O,s));const{position:q,positionAbsolute:A}=k2({nodeId:T.id,nextPosition:O,nodeLookup:d,nodeExtent:r,nodeOrigin:f,onError:l});T.position=q,T.internals.positionAbsolute=A,h.set(T.id,T)}c(h)},[])}const PN=K.createContext(null),vte=PN.Provider;PN.Consumer;const sL=()=>K.useContext(PN),bte=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),xte=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:c,isValid:d}=o,f=c?.nodeId===t&&c?.id===e&&c?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:f,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Vd.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,valid:f&&d}};function _te({type:t="source",position:e=Lt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:c,className:d,onMouseDown:f,onTouchStart:h,...b},x){const w=o||null,E=t==="target",I=Ir(),T=sL(),{connectOnClick:O,noPanClassName:q,rfId:A}=Cn(bte,Pr),{connectingFrom:D,connectingTo:L,clickConnecting:z,isPossibleEndHandle:P,connectionInProcess:R,valid:M}=Cn(xte(T,w,t),Pr);T||I.getState().onError?.("010",za.error010());const F=B=>{const{defaultEdgeOptions:ee,onConnect:J,hasDefaultEdges:le}=I.getState(),se={...ee,...B};if(le){const{edges:ne,setEdges:oe}=I.getState();oe(D2(se,ne))}J?.(se),l?.(se)},W=B=>{if(!T)return;const ee=A2(B.nativeEvent);if(i&&(ee&&B.button===0||!ee)){const J=I.getState();n1.onPointerDown(B.nativeEvent,{autoPanOnConnect:J.autoPanOnConnect,connectionMode:J.connectionMode,connectionRadius:J.connectionRadius,domNode:J.domNode,nodeLookup:J.nodeLookup,lib:J.lib,isTarget:E,handleId:w,nodeId:T,flowId:J.rfId,panBy:J.panBy,cancelConnection:J.cancelConnection,onConnectStart:J.onConnectStart,onConnectEnd:J.onConnectEnd,updateConnection:J.updateConnection,onConnect:F,isValidConnection:n||J.isValidConnection,getTransform:()=>I.getState().transform,getFromHandle:()=>I.getState().connection.fromHandle,autoPanSpeed:J.autoPanSpeed})}ee?f?.(B):h?.(B)},V=B=>{const{onClickConnectStart:ee,onClickConnectEnd:J,connectionClickStartHandle:le,connectionMode:se,isValidConnection:ne,lib:oe,rfId:X,nodeLookup:ce,connection:de}=I.getState();if(!T||!le&&!i)return;if(!le){ee?.(B.nativeEvent,{nodeId:T,handleId:w,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:T,type:t,id:w}});return}const ye=j2(B.target),_e=n||ne,{connection:Ne,isValid:ze}=n1.isValid(B.nativeEvent,{handle:{nodeId:T,id:w,type:t},connectionMode:se,fromNodeId:le.nodeId,fromHandleId:le.id||null,fromType:le.type,isValidConnection:_e,flowId:X,doc:ye,lib:oe,nodeLookup:ce});ze&&Ne&&F(Ne);const qe=structuredClone(de);delete qe.inProgress,qe.toPosition=qe.toHandle?qe.toHandle.position:null,J?.(B,qe),I.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":w,"data-nodeid":T,"data-handlepos":e,"data-id":`${A}-${T}-${w}-${t}`,className:Yr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",q,d,{source:!E,target:E,connectable:r,connectablestart:i,connectableend:s,clickconnecting:z,connectingfrom:D,connectingto:L,valid:M,connectionindicator:r&&(!R||P)&&(R?s:i)}]),onMouseDown:W,onTouchStart:W,onClick:O?V:void 0,ref:x,...b,children:c})}const ia=K.memo(tL(_te));function wte({data:t,isConnectable:e,sourcePosition:n=Lt.Bottom}){return p.jsxs(p.Fragment,{children:[t?.label,p.jsx(ia,{type:"source",position:n,isConnectable:e})]})}function Ste({data:t,isConnectable:e,targetPosition:n=Lt.Top,sourcePosition:r=Lt.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx(ia,{type:"target",position:n,isConnectable:e}),t?.label,p.jsx(ia,{type:"source",position:r,isConnectable:e})]})}function Ete(){return null}function Nte({data:t,isConnectable:e,targetPosition:n=Lt.Top}){return p.jsxs(p.Fragment,{children:[p.jsx(ia,{type:"target",position:n,isConnectable:e}),t?.label]})}const Gv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},zR={input:wte,default:Ste,output:Nte,group:Ete};function kte(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const Ite=t=>{const{width:e,height:n,x:r,y:i}=ym(t.nodeLookup,{filter:s=>!!s.selected});return{width:So(e)?e:null,height:So(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Cte({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Ir(),{width:i,height:s,transformString:o,userSelectionActive:l}=Cn(Ite,Pr),c=iL(),d=K.useRef(null);if(K.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),rL({nodeRef:d}),l||!i||!s)return null;const f=t?b=>{const x=r.getState().nodes.filter(w=>w.selected);t(b,x)}:void 0,h=b=>{Object.prototype.hasOwnProperty.call(Gv,b.key)&&(b.preventDefault(),c({direction:Gv[b.key],factor:b.shiftKey?4:1}))};return p.jsx("div",{className:Yr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:p.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s}})})}const WR=typeof window<"u"?window:void 0,Tte=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function oL({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:E,zoomActivationKeyCode:I,elementsSelectable:T,zoomOnScroll:O,zoomOnPinch:q,panOnScroll:A,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:P,defaultViewport:R,translateExtent:M,minZoom:F,maxZoom:W,preventScrolling:V,onSelectionContextMenu:B,noWheelClassName:ee,noPanClassName:J,disableKeyboardA11y:le,onViewportChange:se,isControlledViewport:ne}){const{nodesSelectionActive:oe,userSelectionActive:X}=Cn(Tte),ce=zh(d,{target:WR}),de=zh(E,{target:WR}),ye=de||P,_e=de||A,Ne=f&&ye!==!0,ze=ce||X||Ne;return ute({deleteKeyCode:c,multiSelectionKeyCode:w}),p.jsx(fte,{onPaneContextMenu:s,elementsSelectable:T,zoomOnScroll:O,zoomOnPinch:q,panOnScroll:_e,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:!ce&&ye,defaultViewport:R,translateExtent:M,minZoom:F,maxZoom:W,zoomActivationKeyCode:I,preventScrolling:V,noWheelClassName:ee,noPanClassName:J,onViewportChange:se,isControlledViewport:ne,paneClickDistance:l,children:p.jsxs(gte,{onSelectionStart:b,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ye,isSelecting:!!ze,selectionMode:h,selectionKeyPressed:ce,selectionOnDrag:Ne,children:[t,oe&&p.jsx(Cte,{onSelectionContextMenu:B,noPanClassName:J,disableKeyboardA11y:le})]})})}oL.displayName="FlowRenderer";const Ote=K.memo(oL),qte=t=>e=>t?N2(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Rte(t){return Cn(K.useCallback(qte(t),[t]),Pr)}const jte=t=>t.updateNodeInternals;function Ate(){const t=Cn(jte),[e]=K.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return K.useEffect(()=>()=>{e?.disconnect()},[e]),e}function Pte({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Ir(),s=K.useRef(null),o=K.useRef(null),l=K.useRef(t.sourcePosition),c=K.useRef(t.targetPosition),d=K.useRef(e),f=n&&!!t.internals.handleBounds;return K.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[f,t.hidden]),K.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),K.useEffect(()=>{if(s.current){const h=d.current!==e,b=l.current!==t.sourcePosition,x=c.current!==t.targetPosition;(h||b||x)&&(d.current=e,l.current=t.sourcePosition,c.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function Fte({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:f,resizeObserver:h,noDragClassName:b,noPanClassName:x,disableKeyboardA11y:w,rfId:E,nodeTypes:I,nodeExtent:T,nodeClickDistance:O,onError:q}){const{node:A,internals:D,isParent:L}=Cn(qe=>{const De=qe.nodeLookup.get(t),Ze=qe.parentLookup.has(t);return{node:De,internals:De.internals,isParent:Ze}},Pr);let z=A.type||"default",P=I?.[z]||zR[z];P===void 0&&(q?.("003",za.error003(z)),z="default",P=zR.default);const R=!!(A.draggable||l&&typeof A.draggable>"u"),M=!!(A.selectable||c&&typeof A.selectable>"u"),F=!!(A.connectable||d&&typeof A.connectable>"u"),W=!!(A.focusable||f&&typeof A.focusable>"u"),V=Ir(),B=q2(A),ee=Pte({node:A,nodeType:z,hasDimensions:B,resizeObserver:h}),J=rL({nodeRef:ee,disabled:A.hidden||!R,noDragClassName:b,handleSelector:A.dragHandle,nodeId:t,isSelectable:M,nodeClickDistance:O}),le=iL();if(A.hidden)return null;const se=Wa(A),ne=kte(A),oe=M||R||e||n||r||i,X=n?qe=>n(qe,{...D.userNode}):void 0,ce=r?qe=>r(qe,{...D.userNode}):void 0,de=i?qe=>i(qe,{...D.userNode}):void 0,ye=s?qe=>s(qe,{...D.userNode}):void 0,_e=o?qe=>o(qe,{...D.userNode}):void 0,Ne=qe=>{const{selectNodesOnDrag:De,nodeDragThreshold:Ze}=V.getState();M&&(!De||!R||Ze>0)&&r1({id:t,store:V,nodeRef:ee}),e&&e(qe,{...D.userNode})},ze=qe=>{if(!(YE(qe.nativeEvent)||w))if(_2.includes(qe.key)&&M){const De=qe.key==="Escape";r1({id:t,store:V,unselect:De,nodeRef:ee})}else R&&A.selected&&Object.prototype.hasOwnProperty.call(Gv,qe.key)&&(qe.preventDefault(),V.setState({ariaLiveMessage:`Moved selected node ${qe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D.positionAbsolute.x}, y: ${~~D.positionAbsolute.y}`}),le({direction:Gv[qe.key],factor:qe.shiftKey?4:1}))};return p.jsx("div",{className:Yr(["react-flow__node",`react-flow__node-${z}`,{[x]:R},A.className,{selected:A.selected,selectable:M,parent:L,draggable:R,dragging:J}]),ref:ee,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:oe?"all":"none",visibility:B?"visible":"hidden",...A.style,...ne},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:X,onMouseMove:ce,onMouseLeave:de,onContextMenu:ye,onClick:Ne,onDoubleClick:_e,onKeyDown:W?ze:void 0,tabIndex:W?0:void 0,role:W?"button":void 0,"aria-describedby":w?void 0:`${Z2}-${E}`,"aria-label":A.ariaLabel,children:p.jsx(vte,{value:t,children:p.jsx(P,{id:t,data:A.data,type:z,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:A.selected??!1,selectable:M,draggable:R,deletable:A.deletable??!0,isConnectable:F,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:J,dragHandle:A.dragHandle,zIndex:D.z,parentId:A.parentId,...se})})})}const Dte=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function aL(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Cn(Dte,Pr),o=Rte(t.onlyRenderVisibleElements),l=Ate();return p.jsx("div",{className:"react-flow__nodes",style:rx,children:o.map(c=>p.jsx(Fte,{id:c,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},c))})}aL.displayName="NodeRenderer";const Lte=K.memo(aL);function Mte(t){return Cn(K.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&QX({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Pr)}const $te=({color:t="none",strokeWidth:e=1})=>p.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Bte=({color:t="none",strokeWidth:e=1})=>p.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),UR={[Mh.Arrow]:$te,[Mh.ArrowClosed]:Bte};function zte(t){const e=Ir();return K.useMemo(()=>Object.prototype.hasOwnProperty.call(UR,t)?UR[t]:(e.getState().onError?.("009",za.error009(t)),null),[t])}const Wte=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=zte(e);return c?p.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:p.jsx(c,{color:n,strokeWidth:o})}):null},lL=({defaultColor:t,rfId:e})=>{const n=Cn(s=>s.edges),r=Cn(s=>s.defaultEdgeOptions),i=K.useMemo(()=>eee(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?p.jsx("svg",{className:"react-flow__marker",children:p.jsx("defs",{children:i.map(s=>p.jsx(Wte,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};lL.displayName="MarkerDefinitions";var Ute=K.memo(lL);function uL({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...f}){const[h,b]=K.useState({x:1,y:0,width:0,height:0}),x=Yr(["react-flow__edge-textwrapper",d]),w=K.useRef(null);return K.useEffect(()=>{if(w.current){const E=w.current.getBBox();b({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),typeof n>"u"||!n?null:p.jsxs("g",{transform:`translate(${t-h.width/2} ${e-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...f,children:[i&&p.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),p.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:w,style:r,children:n}),c]})}uL.displayName="EdgeText";const Vte=K.memo(uL);function bm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...f}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{...f,d:t,fill:"none",className:Yr(["react-flow__edge-path",f.className])}),d&&p.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&So(e)&&So(n)?p.jsx(Vte,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function VR({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Lt.Left||t===Lt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function FN({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top}){const[o,l]=VR({pos:n,x1:t,y1:e,x2:r,y2:i}),[c,d]=VR({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,h,b,x]=P2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${o},${l} ${c},${d} ${r},${i}`,f,h,b,x]}function cL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:l=Lt.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:I,interactionWidth:T})=>{const[O,q,A]=FN({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),D=t.isInternal?void 0:e;return p.jsx(bm,{id:D,path:O,labelX:q,labelY:A,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:I,interactionWidth:T})})}const Hte=cL({isInternal:!1}),dL=cL({isInternal:!0});Hte.displayName="SimpleBezierEdge";dL.displayName="SimpleBezierEdgeInternal";function fL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,sourcePosition:x=Lt.Bottom,targetPosition:w=Lt.Top,markerEnd:E,markerStart:I,pathOptions:T,interactionWidth:O})=>{const[q,A,D]=XE({sourceX:n,sourceY:r,sourcePosition:x,targetX:i,targetY:s,targetPosition:w,borderRadius:T?.borderRadius,offset:T?.offset}),L=t.isInternal?void 0:e;return p.jsx(bm,{id:L,path:q,labelX:A,labelY:D,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:E,markerStart:I,interactionWidth:O})})}const pL=fL({isInternal:!1}),hL=fL({isInternal:!0});pL.displayName="SmoothStepEdge";hL.displayName="SmoothStepEdgeInternal";function mL(t){return K.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return p.jsx(pL,{...n,id:r,pathOptions:K.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const Qte=mL({isInternal:!1}),gL=mL({isInternal:!0});Qte.displayName="StepEdge";gL.displayName="StepEdgeInternal";function yL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:w,interactionWidth:E})=>{const[I,T,O]=CN({sourceX:n,sourceY:r,targetX:i,targetY:s}),q=t.isInternal?void 0:e;return p.jsx(bm,{id:q,path:I,labelX:T,labelY:O,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:w,interactionWidth:E})})}const Kte=yL({isInternal:!1}),vL=yL({isInternal:!0});Kte.displayName="StraightEdge";vL.displayName="StraightEdgeInternal";function bL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:l=Lt.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:I,pathOptions:T,interactionWidth:O})=>{const[q,A,D]=IN({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:T?.curvature}),L=t.isInternal?void 0:e;return p.jsx(bm,{id:L,path:q,labelX:A,labelY:D,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:I,interactionWidth:O})})}const Gte=bL({isInternal:!1}),xL=bL({isInternal:!0});Gte.displayName="BezierEdge";xL.displayName="BezierEdgeInternal";const HR={default:xL,straight:vL,step:gL,smoothstep:hL,simplebezier:dL},QR={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Zte=(t,e,n)=>n===Lt.Left?t-e:n===Lt.Right?t+e:t,Jte=(t,e,n)=>n===Lt.Top?t-e:n===Lt.Bottom?t+e:t,KR="react-flow__edgeupdater";function GR({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return p.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Yr([KR,`${KR}-${l}`]),cx:Zte(e,r,t),cy:Jte(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Yte({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:b,setUpdateHover:x}){const w=Ir(),E=(A,D)=>{if(A.button!==0)return;const{autoPanOnConnect:L,domNode:z,isValidConnection:P,connectionMode:R,connectionRadius:M,lib:F,onConnectStart:W,onConnectEnd:V,cancelConnection:B,nodeLookup:ee,rfId:J,panBy:le,updateConnection:se}=w.getState(),ne=D.type==="target";b(!0),f?.(A,n,D.type);const oe=(ce,de)=>{b(!1),h?.(ce,n,D.type,de)},X=ce=>d?.(n,ce);n1.onPointerDown(A.nativeEvent,{autoPanOnConnect:L,connectionMode:R,connectionRadius:M,domNode:z,handleId:D.id,nodeId:D.nodeId,nodeLookup:ee,isTarget:ne,edgeUpdaterType:D.type,lib:F,flowId:J,cancelConnection:B,panBy:le,isValidConnection:P,onConnect:X,onConnectStart:W,onConnectEnd:V,onReconnectEnd:oe,updateConnection:se,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle})},I=A=>E(A,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),T=A=>E(A,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),O=()=>x(!0),q=()=>x(!1);return p.jsxs(p.Fragment,{children:[(t===!0||t==="source")&&p.jsx(GR,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:I,onMouseEnter:O,onMouseOut:q,type:"source"}),(t===!0||t==="target")&&p.jsx(GR,{position:c,centerX:s,centerY:o,radius:e,onMouseDown:T,onMouseEnter:O,onMouseOut:q,type:"target"})]})}function Xte({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:f,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,rfId:w,edgeTypes:E,noPanClassName:I,onError:T,disableKeyboardA11y:O}){let q=Cn(Ue=>Ue.edgeLookup.get(t));const A=Cn(Ue=>Ue.defaultEdgeOptions);q=A?{...A,...q}:q;let D=q.type||"default",L=E?.[D]||HR[D];L===void 0&&(T?.("011",za.error011(D)),D="default",L=HR.default);const z=!!(q.focusable||e&&typeof q.focusable>"u"),P=typeof h<"u"&&(q.reconnectable||n&&typeof q.reconnectable>"u"),R=!!(q.selectable||r&&typeof q.selectable>"u"),M=K.useRef(null),[F,W]=K.useState(!1),[V,B]=K.useState(!1),ee=Ir(),{zIndex:J,sourceX:le,sourceY:se,targetX:ne,targetY:oe,sourcePosition:X,targetPosition:ce}=Cn(K.useCallback(Ue=>{const ut=Ue.nodeLookup.get(q.source),wt=Ue.nodeLookup.get(q.target);if(!ut||!wt)return{zIndex:q.zIndex,...QR};const Tt=XX({id:t,sourceNode:ut,targetNode:wt,sourceHandle:q.sourceHandle||null,targetHandle:q.targetHandle||null,connectionMode:Ue.connectionMode,onError:T});return{zIndex:HX({selected:q.selected,zIndex:q.zIndex,sourceNode:ut,targetNode:wt,elevateOnSelect:Ue.elevateEdgesOnSelect}),...Tt||QR}},[q.source,q.target,q.sourceHandle,q.targetHandle,q.selected,q.zIndex]),Pr),de=K.useMemo(()=>q.markerStart?`url('#${e1(q.markerStart,w)}')`:void 0,[q.markerStart,w]),ye=K.useMemo(()=>q.markerEnd?`url('#${e1(q.markerEnd,w)}')`:void 0,[q.markerEnd,w]);if(q.hidden||le===null||se===null||ne===null||oe===null)return null;const _e=Ue=>{const{addSelectedEdges:ut,unselectNodesAndEdges:wt,multiSelectionActive:Tt}=ee.getState();R&&(ee.setState({nodesSelectionActive:!1}),q.selected&&Tt?(wt({nodes:[],edges:[q]}),M.current?.blur()):ut([t])),i&&i(Ue,q)},Ne=s?Ue=>{s(Ue,{...q})}:void 0,ze=o?Ue=>{o(Ue,{...q})}:void 0,qe=l?Ue=>{l(Ue,{...q})}:void 0,De=c?Ue=>{c(Ue,{...q})}:void 0,Ze=d?Ue=>{d(Ue,{...q})}:void 0,Xe=Ue=>{if(!O&&_2.includes(Ue.key)&&R){const{unselectNodesAndEdges:ut,addSelectedEdges:wt}=ee.getState();Ue.key==="Escape"?(M.current?.blur(),ut({edges:[q]})):wt([t])}};return p.jsx("svg",{style:{zIndex:J},children:p.jsxs("g",{className:Yr(["react-flow__edge",`react-flow__edge-${D}`,q.className,I,{selected:q.selected,animated:q.animated,inactive:!R&&!i,updating:F,selectable:R}]),onClick:_e,onDoubleClick:Ne,onContextMenu:ze,onMouseEnter:qe,onMouseMove:De,onMouseLeave:Ze,onKeyDown:z?Xe:void 0,tabIndex:z?0:void 0,role:z?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":q.ariaLabel===null?void 0:q.ariaLabel||`Edge from ${q.source} to ${q.target}`,"aria-describedby":z?`${J2}-${w}`:void 0,ref:M,children:[!V&&p.jsx(L,{id:t,source:q.source,target:q.target,type:q.type,selected:q.selected,animated:q.animated,selectable:R,deletable:q.deletable??!0,label:q.label,labelStyle:q.labelStyle,labelShowBg:q.labelShowBg,labelBgStyle:q.labelBgStyle,labelBgPadding:q.labelBgPadding,labelBgBorderRadius:q.labelBgBorderRadius,sourceX:le,sourceY:se,targetX:ne,targetY:oe,sourcePosition:X,targetPosition:ce,data:q.data,style:q.style,sourceHandleId:q.sourceHandle,targetHandleId:q.targetHandle,markerStart:de,markerEnd:ye,pathOptions:"pathOptions"in q?q.pathOptions:void 0,interactionWidth:q.interactionWidth}),P&&p.jsx(Yte,{edge:q,isReconnectable:P,reconnectRadius:f,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,sourceX:le,sourceY:se,targetX:ne,targetY:oe,sourcePosition:X,targetPosition:ce,setUpdateHover:W,setReconnecting:B})]})})}const ene=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function _L({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:b,onReconnectStart:x,onReconnectEnd:w,disableKeyboardA11y:E}){const{edgesFocusable:I,edgesReconnectable:T,elementsSelectable:O,onError:q}=Cn(ene,Pr),A=Mte(e);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(Ute,{defaultColor:t,rfId:n}),A.map(D=>p.jsx(Xte,{id:D,edgesFocusable:I,edgesReconnectable:T,elementsSelectable:O,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:f,reconnectRadius:h,onDoubleClick:b,onReconnectStart:x,onReconnectEnd:w,rfId:n,onError:q,edgeTypes:r,disableKeyboardA11y:E},D))]})}_L.displayName="EdgeRenderer";const tne=K.memo(_L),nne=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function rne({children:t}){const e=Cn(nne);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function ine(t){const e=hf(),n=K.useRef(!1);K.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const sne=t=>t.panZoom?.syncViewport;function one(t){const e=Cn(sne),n=Ir();return K.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function ane(t){return t.connection.inProgress?{...t.connection,to:vm(t.connection.to,t.transform)}:{...t.connection}}function lne(t){return ane}function wL(t){const e=lne();return Cn(e,Pr)}const une=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function cne({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:c}=Cn(une,Pr);return!(s&&i&&c)?null:p.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:Yr(["react-flow__connection",S2(l)]),children:p.jsx(SL,{style:e,type:n,CustomComponent:r,isValid:l})})})}const SL=({style:t,type:e=Il.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:c,to:d,toNode:f,toHandle:h,toPosition:b}=wL();if(!i)return;if(n)return p.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:b,connectionStatus:S2(r),toNode:f,toHandle:h});let x="";const w={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:b};switch(e){case Il.Bezier:[x]=IN(w);break;case Il.SimpleBezier:[x]=FN(w);break;case Il.Step:[x]=XE({...w,borderRadius:0});break;case Il.SmoothStep:[x]=XE(w);break;default:[x]=CN(w)}return p.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};SL.displayName="ConnectionLine";const dne={};function ZR(t=dne){K.useRef(t),Ir(),K.useEffect(()=>{},[t])}function fne(){Ir(),K.useRef(!1),K.useEffect(()=>{},[])}function EL({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:b,onSelectionEnd:x,connectionLineType:w,connectionLineStyle:E,connectionLineComponent:I,connectionLineContainerStyle:T,selectionKeyCode:O,selectionOnDrag:q,selectionMode:A,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,deleteKeyCode:P,onlyRenderVisibleElements:R,elementsSelectable:M,defaultViewport:F,translateExtent:W,minZoom:V,maxZoom:B,preventScrolling:ee,defaultMarkerColor:J,zoomOnScroll:le,zoomOnPinch:se,panOnScroll:ne,panOnScrollSpeed:oe,panOnScrollMode:X,zoomOnDoubleClick:ce,panOnDrag:de,onPaneClick:ye,onPaneMouseEnter:_e,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneScroll:qe,onPaneContextMenu:De,paneClickDistance:Ze,nodeClickDistance:Xe,onEdgeContextMenu:Ue,onEdgeMouseEnter:ut,onEdgeMouseMove:wt,onEdgeMouseLeave:Tt,reconnectRadius:Wt,onReconnect:en,onReconnectStart:xe,onReconnectEnd:ve,noDragClassName:ke,noWheelClassName:Ae,noPanClassName:Ve,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ct,viewport:Ht,onViewportChange:Qt}){return ZR(t),ZR(e),fne(),ine(n),one(Ht),p.jsx(Ote,{onPaneClick:ye,onPaneMouseEnter:_e,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneContextMenu:De,onPaneScroll:qe,paneClickDistance:Ze,deleteKeyCode:P,selectionKeyCode:O,selectionOnDrag:q,selectionMode:A,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,elementsSelectable:M,zoomOnScroll:le,zoomOnPinch:se,zoomOnDoubleClick:ce,panOnScroll:ne,panOnScrollSpeed:oe,panOnScrollMode:X,panOnDrag:de,defaultViewport:F,translateExtent:W,minZoom:V,maxZoom:B,onSelectionContextMenu:h,preventScrolling:ee,noDragClassName:ke,noWheelClassName:Ae,noPanClassName:Ve,disableKeyboardA11y:rt,onViewportChange:Qt,isControlledViewport:!!Ht,children:p.jsxs(rne,{children:[p.jsx(tne,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:en,onReconnectStart:xe,onReconnectEnd:ve,onlyRenderVisibleElements:R,onEdgeContextMenu:Ue,onEdgeMouseEnter:ut,onEdgeMouseMove:wt,onEdgeMouseLeave:Tt,reconnectRadius:Wt,defaultMarkerColor:J,noPanClassName:Ve,disableKeyboardA11y:rt,rfId:ct}),p.jsx(cne,{style:E,type:w,component:I,containerStyle:T}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(Lte,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:Xe,onlyRenderVisibleElements:R,noPanClassName:Ve,noDragClassName:ke,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ct}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}EL.displayName="GraphView";const pne=K.memo(EL),JR=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}={})=>{const d=new Map,f=new Map,h=new Map,b=new Map,x=r??e??[],w=n??t??[],E=l??[0,0],I=c??Dh;M2(h,b,x),t1(w,d,f,{nodeOrigin:E,nodeExtent:I,elevateNodesOnSelect:!1});let T=[0,0,1];if(o&&i&&s){const O=ym(d,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:q,y:A,zoom:D}=kN(O,i,s,.5,2,.1);T=[q,A,D]}return{rfId:"1",width:0,height:0,transform:T,nodes:w,nodeLookup:d,parentLookup:f,edges:x,edgeLookup:b,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Dh,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Vd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...w2},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:UX,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},hne=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c})=>Aee((d,f)=>({...JR({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:h=>{const{nodeLookup:b,parentLookup:x,nodeOrigin:w,elevateNodesOnSelect:E}=f();t1(h,b,x,{nodeOrigin:w,nodeExtent:c,elevateNodesOnSelect:E,checkEquality:!0}),d({nodes:h})},setEdges:h=>{const{connectionLookup:b,edgeLookup:x}=f();M2(b,x,h),d({edges:h})},setDefaultNodesAndEdges:(h,b)=>{if(h){const{setNodes:x}=f();x(h),d({hasDefaultNodes:!0})}if(b){const{setEdges:x}=f();x(b),d({hasDefaultEdges:!0})}},updateNodeInternals:(h,b={triggerFitView:!0})=>{const{triggerNodeChanges:x,nodeLookup:w,parentLookup:E,fitViewOnInit:I,fitViewDone:T,fitViewOnInitOptions:O,domNode:q,nodeOrigin:A,nodeExtent:D,debug:L,fitViewSync:z}=f(),{changes:P,updatedInternals:R}=see(h,w,E,q,A,D);if(R){if(nee(w,E,{nodeOrigin:A,nodeExtent:D}),b.triggerFitView){let M=T;!T&&I&&(M=z({...O,nodes:O?.nodes})),d({fitViewDone:M})}else d({});P?.length>0&&(L&&console.log("React Flow: trigger node changes",P),x?.(P))}},updateNodePositions:(h,b=!1)=>{const x=[],w=[];for(const[E,I]of h){const T=!!(I?.expandParent&&I?.parentId&&I?.position),O={id:E,type:"position",position:T?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:b};T&&x.push({id:E,parentId:I.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width,height:I.measured.height}}),w.push(O)}if(x.length>0){const{nodeLookup:E,parentLookup:I,nodeOrigin:T}=f(),O=RN(x,E,I,T);w.push(...O)}f().triggerNodeChanges(w)},triggerNodeChanges:h=>{const{onNodesChange:b,setNodes:x,nodes:w,hasDefaultNodes:E,debug:I}=f();if(h?.length){if(E){const T=AN(h,w);x(T)}I&&console.log("React Flow: trigger node changes",h),b?.(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:b,setEdges:x,edges:w,hasDefaultEdges:E,debug:I}=f();if(h?.length){if(E){const T=eL(h,w);x(T)}I&&console.log("React Flow: trigger edge changes",h),b?.(h)}},addSelectedNodes:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:I}=f();if(b){const T=h.map(O=>Ou(O,!0));E(T);return}E(dd(w,new Set([...h]),!0)),I(dd(x))},addSelectedEdges:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:I}=f();if(b){const T=h.map(O=>Ou(O,!0));I(T);return}I(dd(x,new Set([...h]))),E(dd(w,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:b}={})=>{const{edges:x,nodes:w,nodeLookup:E,triggerNodeChanges:I,triggerEdgeChanges:T}=f(),O=h||w,q=b||x,A=O.map(L=>{const z=E.get(L.id);return z&&(z.selected=!1),Ou(L.id,!1)}),D=q.map(L=>Ou(L.id,!1));I(A),T(D)},setMinZoom:h=>{const{panZoom:b,maxZoom:x}=f();b?.setScaleExtent([h,x]),d({minZoom:h})},setMaxZoom:h=>{const{panZoom:b,minZoom:x}=f();b?.setScaleExtent([x,h]),d({maxZoom:h})},setTranslateExtent:h=>{f().panZoom?.setTranslateExtent(h),d({translateExtent:h})},setPaneClickDistance:h=>{f().panZoom?.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:b,triggerNodeChanges:x,triggerEdgeChanges:w}=f(),E=b.reduce((T,O)=>O.selected?[...T,Ou(O.id,!1)]:T,[]),I=h.reduce((T,O)=>O.selected?[...T,Ou(O.id,!1)]:T,[]);x(E),w(I)},setNodeExtent:h=>{const{nodes:b,nodeLookup:x,parentLookup:w,nodeOrigin:E,elevateNodesOnSelect:I,nodeExtent:T}=f();h[0][0]===T[0][0]&&h[0][1]===T[0][1]&&h[1][0]===T[1][0]&&h[1][1]===T[1][1]||(t1(b,x,w,{nodeOrigin:E,nodeExtent:h,elevateNodesOnSelect:I,checkEquality:!1}),d({nodeExtent:h}))},panBy:h=>{const{transform:b,width:x,height:w,panZoom:E,translateExtent:I}=f();return oee({delta:h,panZoom:E,transform:b,translateExtent:I,width:x,height:w})},fitView:h=>{const{panZoom:b,width:x,height:w,minZoom:E,maxZoom:I,nodeLookup:T}=f();if(!b)return Promise.resolve(!1);const O=GE(T,h);return ZE({nodes:O,width:x,height:w,panZoom:b,minZoom:E,maxZoom:I},h)},fitViewSync:h=>{const{panZoom:b,width:x,height:w,minZoom:E,maxZoom:I,nodeLookup:T}=f();if(!b)return!1;const O=GE(T,h);return ZE({nodes:O,width:x,height:w,panZoom:b,minZoom:E,maxZoom:I},h),O.size>0},cancelConnection:()=>{d({connection:{...w2}})},updateConnection:h=>{d({connection:h})},reset:()=>d({...JR()})}),Object.is);function NL({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:c,children:d}){const[f]=K.useState(()=>hne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}));return p.jsx(Pee,{value:f,children:p.jsx(ite,{children:d})})}function mne({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,nodeOrigin:c,nodeExtent:d}){return K.useContext(nx)?p.jsx(p.Fragment,{children:t}):p.jsx(NL,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:c,nodeExtent:d,children:t})}const gne={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function yne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:f,onMoveStart:h,onMoveEnd:b,onConnect:x,onConnectStart:w,onConnectEnd:E,onClickConnectStart:I,onClickConnectEnd:T,onNodeMouseEnter:O,onNodeMouseMove:q,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:L,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:R,onNodesDelete:M,onEdgesDelete:F,onDelete:W,onSelectionChange:V,onSelectionDragStart:B,onSelectionDrag:ee,onSelectionDragStop:J,onSelectionContextMenu:le,onSelectionStart:se,onSelectionEnd:ne,onBeforeDelete:oe,connectionMode:X,connectionLineType:ce=Il.Bezier,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:_e,deleteKeyCode:Ne="Backspace",selectionKeyCode:ze="Shift",selectionOnDrag:qe=!1,selectionMode:De=Lh.Full,panActivationKeyCode:Ze="Space",multiSelectionKeyCode:Xe=Kv()?"Meta":"Control",zoomActivationKeyCode:Ue=Kv()?"Meta":"Control",snapToGrid:ut,snapGrid:wt,onlyRenderVisibleElements:Tt=!1,selectNodesOnDrag:Wt,nodesDraggable:en,nodesConnectable:xe,nodesFocusable:ve,nodeOrigin:ke=Y2,edgesFocusable:Ae,edgesReconnectable:Ve,elementsSelectable:rt=!0,defaultViewport:Me=Kee,minZoom:ct=.5,maxZoom:Ht=2,translateExtent:Qt=Dh,preventScrolling:pn=!0,nodeExtent:lr,defaultMarkerColor:Dn="#b1b1b7",zoomOnScroll:Vr=!0,zoomOnPinch:Oi=!0,panOnScroll:Cr=!1,panOnScrollSpeed:Kt=.5,panOnScrollMode:Ki=Hu.Free,zoomOnDoubleClick:Gi=!0,panOnDrag:Zi=!0,onPaneClick:io,onPaneMouseEnter:aa,onPaneMouseMove:iu,onPaneMouseLeave:As,onPaneScroll:H,onPaneContextMenu:dc,paneClickDistance:ln=0,nodeClickDistance:fc=0,children:pc,onReconnect:hc,onReconnectStart:su,onReconnectEnd:la,onEdgeContextMenu:Ji,onEdgeDoubleClick:ou,onEdgeMouseEnter:ua,onEdgeMouseMove:bf,onEdgeMouseLeave:ca,reconnectRadius:Ps=10,onNodesChange:Ua,onEdgesChange:Fs,noDragClassName:xf="nodrag",noWheelClassName:_f="nowheel",noPanClassName:mc="nopan",fitView:Ds,fitViewOptions:gc,connectOnClick:yc,attributionPosition:wf,proOptions:vc,defaultEdgeOptions:bc,elevateNodesOnSelect:xc,elevateEdgesOnSelect:au,disableKeyboardA11y:_c=!1,autoPanOnConnect:Sf,autoPanOnNodeDrag:ur,autoPanSpeed:Ef,connectionRadius:lu,isValidConnection:wc,onError:Va,style:Nf,id:uu,nodeDragThreshold:Ha,viewport:Yi,onViewportChange:kf,width:hi,height:If,colorMode:Cf="light",debug:Tf,...jo},Qa){const qi=uu||"1",Ka=Yee(Cf);return p.jsx("div",{"data-testid":"rf__wrapper",...jo,style:{...Nf,...gne},ref:Qa,className:Yr(["react-flow",i,Ka]),id:uu,children:p.jsxs(mne,{nodes:t,edges:e,width:hi,height:If,fitView:Ds,nodeOrigin:ke,nodeExtent:lr,children:[p.jsx(pne,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:O,onNodeMouseMove:q,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:L,nodeTypes:s,edgeTypes:o,connectionLineType:ce,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:_e,selectionKeyCode:ze,selectionOnDrag:qe,selectionMode:De,deleteKeyCode:Ne,multiSelectionKeyCode:Xe,panActivationKeyCode:Ze,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:Tt,defaultViewport:Me,translateExtent:Qt,minZoom:ct,maxZoom:Ht,preventScrolling:pn,zoomOnScroll:Vr,zoomOnPinch:Oi,zoomOnDoubleClick:Gi,panOnScroll:Cr,panOnScrollSpeed:Kt,panOnScrollMode:Ki,panOnDrag:Zi,onPaneClick:io,onPaneMouseEnter:aa,onPaneMouseMove:iu,onPaneMouseLeave:As,onPaneScroll:H,onPaneContextMenu:dc,paneClickDistance:ln,nodeClickDistance:fc,onSelectionContextMenu:le,onSelectionStart:se,onSelectionEnd:ne,onReconnect:hc,onReconnectStart:su,onReconnectEnd:la,onEdgeContextMenu:Ji,onEdgeDoubleClick:ou,onEdgeMouseEnter:ua,onEdgeMouseMove:bf,onEdgeMouseLeave:ca,reconnectRadius:Ps,defaultMarkerColor:Dn,noDragClassName:xf,noWheelClassName:_f,noPanClassName:mc,rfId:qi,disableKeyboardA11y:_c,nodeExtent:lr,viewport:Yi,onViewportChange:kf}),p.jsx(Jee,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:w,onConnectEnd:E,onClickConnectStart:I,onClickConnectEnd:T,nodesDraggable:en,nodesConnectable:xe,nodesFocusable:ve,edgesFocusable:Ae,edgesReconnectable:Ve,elementsSelectable:rt,elevateNodesOnSelect:xc,elevateEdgesOnSelect:au,minZoom:ct,maxZoom:Ht,nodeExtent:lr,onNodesChange:Ua,onEdgesChange:Fs,snapToGrid:ut,snapGrid:wt,connectionMode:X,translateExtent:Qt,connectOnClick:yc,defaultEdgeOptions:bc,fitView:Ds,fitViewOptions:gc,onNodesDelete:M,onEdgesDelete:F,onDelete:W,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:R,onSelectionDrag:ee,onSelectionDragStart:B,onSelectionDragStop:J,onMove:f,onMoveStart:h,onMoveEnd:b,noPanClassName:mc,nodeOrigin:ke,rfId:qi,autoPanOnConnect:Sf,autoPanOnNodeDrag:ur,autoPanSpeed:Ef,onError:Va,connectionRadius:lu,isValidConnection:wc,selectNodesOnDrag:Wt,nodeDragThreshold:Ha,onBeforeDelete:oe,paneClickDistance:ln,debug:Tf}),p.jsx(Qee,{onSelectionChange:V}),pc,p.jsx(zee,{proOptions:vc,position:wf}),p.jsx($ee,{rfId:qi,disableKeyboardA11y:_c})]})})}var kL=tL(yne);const vne=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function bne({children:t}){const e=Cn(vne);return e?ub.createPortal(t,e):null}function xne(t){const[e,n]=K.useState(t),r=K.useCallback(i=>n(s=>AN(i,s)),[]);return[e,n,r]}function _ne(t){const[e,n]=K.useState(t),r=K.useCallback(i=>n(s=>eL(i,s)),[]);return[e,n,r]}function YR(t){return Cn(K.useCallback(n=>n.nodeLookup.get(t),[t]),Pr)}function wne({dimensions:t,lineWidth:e,variant:n,className:r}){return p.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Yr(["react-flow__background-pattern",n,r])})}function Sne({radius:t,className:e}){return p.jsx("circle",{cx:t,cy:t,r:t,className:Yr(["react-flow__background-pattern","dots",e])})}var Zo;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Zo||(Zo={}));const Ene={[Zo.Dots]:1,[Zo.Lines]:1,[Zo.Cross]:6},Nne=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function IL({id:t,variant:e=Zo.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:c,className:d,patternClassName:f}){const h=K.useRef(null),{transform:b,patternId:x}=Cn(Nne,Pr),w=r||Ene[e],E=e===Zo.Dots,I=e===Zo.Cross,T=Array.isArray(n)?n:[n,n],O=[T[0]*b[2]||1,T[1]*b[2]||1],q=w*b[2],A=Array.isArray(s)?s:[s,s],D=I?[q,q]:O,L=[A[0]*b[2]||1+D[0]/2,A[1]*b[2]||1+D[1]/2],z=`${x}${t||""}`;return p.jsxs("svg",{className:Yr(["react-flow__background",d]),style:{...c,...rx,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[p.jsx("pattern",{id:z,x:b[0]%O[0],y:b[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:E?p.jsx(Sne,{radius:q/2,className:f}):p.jsx(wne,{dimensions:D,lineWidth:i,variant:e,className:f})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${z})`})]})}IL.displayName="Background";const CL=K.memo(IL);function kne(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Ine(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Cne(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Tne(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function One(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ny({children:t,className:e,...n}){return p.jsx("button",{type:"button",className:Yr(["react-flow__controls-button",e]),...n,children:t})}const qne=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function TL({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:d,children:f,position:h="bottom-left",orientation:b="vertical","aria-label":x="React Flow controls"}){const w=Ir(),{isInteractive:E,minZoomReached:I,maxZoomReached:T}=Cn(qne,Pr),{zoomIn:O,zoomOut:q,fitView:A}=hf(),D=()=>{O(),s?.()},L=()=>{q(),o?.()},z=()=>{A(i),l?.()},P=()=>{w.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),c?.(!E)},R=b==="horizontal"?"horizontal":"vertical";return p.jsxs(jN,{className:Yr(["react-flow__controls",R,d]),position:h,style:t,"data-testid":"rf__controls","aria-label":x,children:[e&&p.jsxs(p.Fragment,{children:[p.jsx(ny,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:T,children:p.jsx(kne,{})}),p.jsx(ny,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:I,children:p.jsx(Ine,{})})]}),n&&p.jsx(ny,{className:"react-flow__controls-fitview",onClick:z,title:"fit view","aria-label":"fit view",children:p.jsx(Cne,{})}),r&&p.jsx(ny,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:E?p.jsx(One,{}):p.jsx(Tne,{})}),f]})}TL.displayName="Controls";const OL=K.memo(TL);function Rne({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:c,className:d,borderRadius:f,shapeRendering:h,selected:b,onClick:x}){const{background:w,backgroundColor:E}=s||{},I=o||w||E;return p.jsx("rect",{className:Yr(["react-flow__minimap-node",{selected:b},d]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:I,stroke:l,strokeWidth:c},shapeRendering:h,onClick:x?T=>x(T,t):void 0})}const jne=K.memo(Rne),Ane=t=>t.nodes.map(e=>e.id),q0=t=>t instanceof Function?t:()=>t;function Pne({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=jne,onClick:o}){const l=Cn(Ane,Pr),c=q0(e),d=q0(t),f=q0(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:l.map(b=>p.jsx(Dne,{id:b,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:h},b))})}function Fne({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:c}){const{node:d,x:f,y:h,width:b,height:x}=Cn(w=>{const E=w.nodeLookup.get(t),{x:I,y:T}=E.internals.positionAbsolute,{width:O,height:q}=Wa(E);return{node:E,x:I,y:T,width:O,height:q}},Pr);return!d||d.hidden||!q2(d)?null:p.jsx(l,{x:f,y:h,width:b,height:x,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:c,id:d.id})}const Dne=K.memo(Fne);var Lne=K.memo(Pne);const Mne=200,$ne=150,Bne=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?T2(ym(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},zne="react-flow__minimap-desc";function qL({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:f,maskStrokeWidth:h,position:b="bottom-right",onClick:x,onNodeClick:w,pannable:E=!1,zoomable:I=!1,ariaLabel:T="React Flow mini map",inversePan:O,zoomStep:q=10,offsetScale:A=5}){const D=Ir(),L=K.useRef(null),{boundingRect:z,viewBB:P,rfId:R,panZoom:M,translateExtent:F,flowWidth:W,flowHeight:V}=Cn(Bne,Pr),B=t?.width??Mne,ee=t?.height??$ne,J=z.width/B,le=z.height/ee,se=Math.max(J,le),ne=se*B,oe=se*ee,X=A*se,ce=z.x-(ne-z.width)/2-X,de=z.y-(oe-z.height)/2-X,ye=ne+X*2,_e=oe+X*2,Ne=`${zne}-${R}`,ze=K.useRef(0),qe=K.useRef();ze.current=se,K.useEffect(()=>{if(L.current&&M)return qe.current=hee({domNode:L.current,panZoom:M,getTransform:()=>D.getState().transform,getViewScale:()=>ze.current}),()=>{qe.current?.destroy()}},[M]),K.useEffect(()=>{qe.current?.update({translateExtent:F,width:W,height:V,inversePan:O,pannable:E,zoomStep:q,zoomable:I})},[E,I,O,q,F,W,V]);const De=x?Xe=>{const[Ue,ut]=qe.current?.pointer(Xe)||[0,0];x(Xe,{x:Ue,y:ut})}:void 0,Ze=w?K.useCallback((Xe,Ue)=>{const ut=D.getState().nodeLookup.get(Ue);w(Xe,ut)},[]):void 0;return p.jsx(jN,{position:b,style:{...t,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*se:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:Yr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:B,height:ee,viewBox:`${ce} ${de} ${ye} ${_e}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ne,ref:L,onClick:De,children:[T&&p.jsx("title",{id:Ne,children:T}),p.jsx(Lne,{onClick:Ze,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${ce-X},${de-X}h${ye+X*2}v${_e+X*2}h${-ye-X*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}qL.displayName="MiniMap";const RL=K.memo(qL);function Wne({nodeId:t,position:e,variant:n=eh.Handle,className:r,style:i={},children:s,color:o,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:b,onResizeStart:x,onResize:w,onResizeEnd:E}){const I=sL(),T=typeof t=="string"?t:I,O=Ir(),q=K.useRef(null),A=n===eh.Line?"right":"bottom-right",D=e??A,L=K.useRef(null);K.useEffect(()=>{if(!(!q.current||!T))return L.current||(L.current=Tee({domNode:q.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:M,transform:F,snapGrid:W,snapToGrid:V,nodeOrigin:B,domNode:ee}=O.getState();return{nodeLookup:M,transform:F,snapGrid:W,snapToGrid:V,nodeOrigin:B,paneDomNode:ee}},onChange:(M,F)=>{const{triggerNodeChanges:W,nodeLookup:V,parentLookup:B,nodeOrigin:ee}=O.getState(),J=[],le={x:M.x,y:M.y},se=V.get(T);if(se&&se.expandParent&&se.parentId){const ne=se.origin??ee,oe=M.width??se.measured.width,X=M.height??se.measured.height,ce={id:se.id,parentId:se.parentId,rect:{width:oe,height:X,...R2({x:M.x??se.position.x,y:M.y??se.position.y},{width:oe,height:X},se.parentId,V,ne)}},de=RN([ce],V,B,ee);J.push(...de),le.x=M.x?Math.max(ne[0]*oe,M.x):void 0,le.y=M.y?Math.max(ne[1]*X,M.y):void 0}if(le.x!==void 0&&le.y!==void 0){const ne={id:T,type:"position",position:{...le}};J.push(ne)}if(M.width!==void 0&&M.height!==void 0){const ne={id:T,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:M.width,height:M.height}};J.push(ne)}for(const ne of F){const oe={...ne,type:"position"};J.push(oe)}W(J)},onEnd:()=>{const M={id:T,type:"dimensions",resizing:!1};O.getState().triggerNodeChanges([M])}})),L.current.update({controlPosition:D,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:f},keepAspectRatio:h,onResizeStart:x,onResize:w,onResizeEnd:E,shouldResize:b}),()=>{L.current?.destroy()}},[D,l,c,d,f,h,x,w,E,b]);const z=D.split("-"),P=n===eh.Line?"borderColor":"backgroundColor",R=o?{...i,[P]:o}:i;return p.jsx("div",{className:Yr(["react-flow__resize-control","nodrag",...z,n,r]),ref:q,style:R,children:s})}K.memo(Wne);const Zv="icon-[gala--clock]",Une=async({tx:t,userId:e,buildingId:n,blueprintProductionId:r})=>{const i=await t.selectFrom("Blueprint_Production as bp").select(["bp.cycles"]).where("bp.id","=",r).executeTakeFirstOrThrow(),{count:s}=await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow(),o=await t.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",r).execute();for await(const{resourceId:l,amount:c,passive:d}of o){const f=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",c).executeTakeFirstOrThrow();d||await t.updateTable("Inventory").set({amount:f.amount-c}).where("id","=",f.id).execute()}await t.insertInto("Production").values({id:jn(),buildingId:n,blueprintProductionId:r,userId:e,cycle:0,from:s,to:s+i.cycles}).execute()},Vne=async({tx:t,userId:e})=>{await t.insertInto("Cycle").values({id:jn(),stamp:un.now().toUTC().toSQLTime(),userId:e}).execute();const n=(await t.selectFrom("Cycle as c").select(o=>o.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow()).count,r=await t.selectFrom("Construction as c").select(["c.id","c.cycle","c.to","c.blueprintId","c.x","c.y"]).where("userId","=",e).where("c.plan","=",!1).execute();for await(const{id:o,blueprintId:l,cycle:c,to:d,x:f,y:h}of r){if(n>d){const b=await t.insertInto("Building").values({id:jn(),blueprintId:l,userId:e,x:f,y:h}).returning("id").executeTakeFirstOrThrow(),x=await t.selectFrom("Inventory as i").select(["i.amount","i.limit","i.resourceId"]).where("i.id","in",t.selectFrom("Blueprint_Inventory as bi").select("bi.inventoryId").where("bi.blueprintId","=",l)).execute();for await(const{amount:w,limit:E,resourceId:I}of x)await t.insertInto("Building_Inventory").values({id:jn(),buildingId:b.id,inventoryId:(await t.insertInto("Inventory").values({id:jn(),amount:w,limit:E,resourceId:I}).returning("id").executeTakeFirstOrThrow()).id}).execute();await t.deleteFrom("Construction").where("id","=",o).execute();continue}await t.updateTable("Construction").set("cycle",c+1).where("id","=",o).execute()}const i=await t.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","p.cycle","p.to","bp.resourceId","r.name","bp.amount"]).where("userId","=",e).execute();for await(const{id:o,resourceId:l,cycle:c,to:d,amount:f}of i){if(n>d){const h=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","i.id","ui.inventoryId").select(["i.id","i.amount","i.limit"]).where("ui.userId","=",e).where("i.resourceId","=",l).executeTakeFirst();if(!h||h.limit>0&&h.amount+f>h.limit)continue;await t.updateTable("Inventory").set({amount:h.amount+f}).where("id","=",h.id).execute(),await t.deleteFrom("Production as p").where("p.id","=",o).execute();continue}await t.updateTable("Production").set("cycle",c+1).where("id","=",o).execute()}const s=await t.selectFrom("Production_Queue as pq").innerJoin("Blueprint_Production as bp","bp.id","pq.blueprintProductionId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["pq.id","pq.count","pq.limit","pq.blueprintProductionId","pq.buildingId"]).where("pq.userId","=",e).where("pq.paused","=",!1).orderBy("pq.priority","desc").execute();for await(const{id:o,count:l,limit:c,blueprintProductionId:d,buildingId:f}of s)try{const{count:h}=await t.selectFrom("Production as p").where("p.buildingId","=",f).select(b=>b.fn.count("p.id").as("count")).executeTakeFirstOrThrow();if(h>0)continue;await Une({tx:t,blueprintProductionId:d,buildingId:f,userId:e}),await t.updateTable("Production_Queue").set({count:l+1}).where("id","=",o).execute(),c>0&&l+1>=c&&await t.deleteFrom("Production_Queue").where("id","=",o).execute()}catch{}},jL=({userId:t,cycle:e,...n})=>{const r=pr([["Cycle"],["GameMap"],["Resource_Queue"],["Building_Queue"],["Building"],["User_Inventory"],["Inventory"],["Building_Base_Production"]]),i=tn({mutationKey:["useCycleMutation"],async mutationFn({userId:s}){return Rt.transaction().execute(async o=>Vne({userId:s,tx:o}))},async onSuccess(){await r()}});return p.jsxs(Fn,{iconEnabled:Zv,iconDisabled:Zv,onClick:()=>{i.mutate({userId:t})},loading:i.isPending,...n,children:[p.jsx(te,{css:{base:["font-bold"]},label:"New cycle (label)"}),p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("div",{className:"font-light text-sm",children:In({number:e})}),p.jsx(an,{icon:"icon-[solar--arrow-right-linear]"}),p.jsx("div",{className:"font-bold",children:In({number:e+1})})]})]})},Hne=({fromX:t,fromY:e,toX:n,toY:r,connectionLineStyle:i})=>{const[s]=CN({sourceX:t,sourceY:e,targetX:n,targetY:r});return p.jsx("g",{children:p.jsx("path",{style:i,fill:"none",d:s})})};function XR(t,e){const n={...t.internals.positionAbsolute,...t},r=Math.round(n.x),i=Math.round(n.y),s=Math.round(e.x),o=Math.round(e.y);return s<=r+1?Lt.Left:s>=r+n.measured.width-1?Lt.Right:o<=i+1?Lt.Top:o>=n.y+n.measured.height-1?Lt.Bottom:Lt.Top}function e3(t,e){const{width:n,height:r}=t.measured,i=t.internals.positionAbsolute,s=e.internals.positionAbsolute,o=n/2,l=r/2,c=i.x+o,d=i.y+l,f=s.x+e.measured.width/2,h=s.y+e.measured.height/2,b=(f-c)/(2*o)-(h-d)/(2*l),x=(f-c)/(2*o)+(h-d)/(2*l),w=1/(Math.abs(b)+Math.abs(x)||1),E=w*b,I=w*x,T=o*(E+I)+c,O=l*(-E+I)+d;return{x:T,y:O}}function Qne(t,e){const n=e3(t,e),r=e3(e,t);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:XR(t,n),targetPos:XR(e,r)}}const Kne=({id:t,source:e,target:n,markerEnd:r,style:i})=>{const s=YR(e),o=YR(n);if(!s||!o)return null;const{sx:l,sy:c,tx:d,ty:f}=Qne(s,o),[h]=FN({sourceX:l,sourceY:c,targetX:d,targetY:f});return p.jsx("path",{id:t,className:"react-flow__edge-path",d:h,markerEnd:r,style:i})},Gne=({id:t,data:e})=>{const{locale:n}=xn({from:"/$locale"});return p.jsxs("div",{className:"flex flex-row gap-2 w-full items-center justify-between",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(an,{icon:eu,css:{base:["text-slate-500"]}}),p.jsx("div",{className:"font-bold",children:e.name})]}),p.jsx("div",{className:"flex flex-row gap-2 items-center",onClick:r=>r.stopPropagation(),onDoubleClick:r=>r.stopPropagation(),onMouseDown:r=>r.stopPropagation(),children:p.jsx(fn,{icon:"icon-[gis--route-end]",to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:n,id:t}})}),p.jsx(ia,{className:"hidden",position:Lt.Right,type:"source",isConnectable:!1}),p.jsx(ia,{className:"hidden",position:Lt.Left,type:"target",isConnectable:!1})]})},Zne=({id:t,data:e})=>{const n=wL(),r=n.inProgress&&n.fromNode.id!==t;return p.jsxs("div",{className:"flex flex-row gap-2 w-full",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(an,{icon:"icon-[gis--route-end]",css:{base:["text-slate-500"]}}),p.jsx("div",{className:"font-bold",children:e.name})]}),!n.inProgress&&p.jsx(ia,{className:"absolute top-0 left-0 transform-none border-none opacity-0 w-full h-full",position:Lt.Right,type:"source"}),(!n.inProgress||r)&&p.jsx(ia,{className:"absolute top-0 left-0 transform-none border-none opacity-0 w-full h-full",position:Lt.Left,type:"target",isConnectableStart:!1})]})},Jne=({data:t})=>{const e=pr([["GameMap"]]),n=tn({async mutationFn({constructionId:r}){return Rt.transaction().execute(i=>i.updateTable("Construction").set({plan:!1}).where("id","=",r).execute())},async onSuccess(){await e()}});return p.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between w-full",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(an,{icon:"icon-[carbon--floorplan]",css:{base:["text-slate-500"]}}),p.jsx("div",{className:"font-bold",children:t.name})]}),p.jsx(Fn,{iconEnabled:qE,iconDisabled:qE,loading:n.isPending,disabled:!t.valid,onClick:()=>{n.mutate({constructionId:t.id})}})]})},Jv="icon-[emojione-monotone--construction]",Yne=({data:t})=>p.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(an,{icon:Jv,css:{base:["text-slate-500"]}}),p.jsx("div",{className:"font-bold",children:t.name})]}),p.jsx(ff,{value:100*t.cycle/(t.to-t.from)})]}),Tn="icon-[solar--home-outline]",Ry=256,R0=Ry/4,j0=["bg-white","border-[4px]","border-slate-300","shadow-slate-200"],Xne={stroke:"#b1b1b7"},ere={construction:Jne,queue:Yne,building:Gne,"building-route":Zne},tre={route:Kne},nre=({userId:t,cycle:e,construction:n,queue:r,building:i,route:s,zoomToId:o,routing:l})=>{const c=pr([["GameMap"]]),{locale:d}=xn({from:"/$locale"}),f=K.useMemo(()=>[...n.map(R=>({id:R.id,data:R,position:{x:R.x,y:R.y},type:"construction",width:Ry,height:R0,className:Ei(j0,["z-10",R.valid?["border-green-500"]:["border-red-500"]])})),...r.map(R=>({id:R.id,data:R,position:{x:R.x,y:R.y},type:"queue",width:Ry,height:R0,className:Ei(j0,["nodrag"])})),...i.map(R=>({id:R.id,data:R,position:{x:R.x,y:R.y},type:l?"building-route":"building",width:Ry,height:R0,className:Ei(j0,["nodrag"])}))],[n,r,i,l]),h=K.useMemo(()=>[...s.map(R=>({id:R.id,source:R.fromId,target:R.toId,type:"route",animated:!1,markerEnd:{type:Mh.ArrowClosed,color:"#b1b1b7"}}))],[s]),[b,x]=xne(f),[w,E]=_ne(h),{updateNode:I,getIntersectingNodes:T,fitView:O}=hf();K.useEffect(()=>{x(f)},[f]),K.useEffect(()=>{o&&setTimeout(()=>{O({nodes:[{id:o}],duration:750,minZoom:1,maxZoom:1})},250)},[O,o]);const q=tn({mutationKey:["Construction","position"],async mutationFn({constructionId:R,x:M,y:F,valid:W}){return Rt.transaction().execute(async V=>(await V.selectFrom("Construction as c").select(["c.id"]).where("c.plan","=",!0).where("c.id","=",R).executeTakeFirstOrThrow(()=>new Error("Construction not found or not planned.")),V.updateTable("Construction").set({x:M,y:F,valid:W}).where("id","=",R).execute()))},async onSuccess(){await c()}}),A=K.useCallback(R=>{x(M=>AN(R,M))},[x]),D=K.useCallback((R,M)=>{const F=T(M).length>0;I(M.id,{...M,data:{...M.data,valid:!F},className:Ei([M.className,F?["border-red-500"]:["border-green-500"]])})},[T,I]),L=K.useCallback((R,M)=>{if(M.type==="construction"){const F=T(M).length>0;q.mutate({constructionId:M.id,x:M.position.x,y:M.position.y,valid:!F})}},[T,q]),z=tn({async mutationFn({fromId:R,toId:M}){return Rt.transaction().execute(async F=>F.insertInto("Route").values({id:jn(),fromId:R,toId:M,userId:t}).execute())},async onSuccess(){await c()}}),P=K.useCallback(R=>E(M=>(z.mutate({fromId:R.source,toId:R.target}),D2(R,M))),[E]);return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex flex-row",children:[p.jsxs(kL,{nodes:b,edges:w,onNodesChange:A,onNodeDrag:D,onNodeDragStop:L,onConnect:P,className:"flex-grow h-screen",fitView:!0,snapToGrid:!0,snapGrid:[32,32],elementsSelectable:!1,nodeTypes:ere,edgeTypes:tre,connectionLineComponent:Hne,connectionLineStyle:Xne,children:[p.jsx(jL,{userId:t,cycle:e,css:{base:["react-flow__panel","absolute","top-1","right-1"]}}),p.jsx(OL,{orientation:"horizontal",showInteractive:!1,showZoom:!0}),p.jsx(RL,{zoomable:!0,draggable:!0,pannable:!0}),p.jsx(CL,{variant:Zo.Dots,gap:32,size:1}),p.jsxs("div",{className:"react-flow__panel flex flex-row p-2 border bg-white border-slate-300 shadow-sm",children:[p.jsx(fn,{icon:rc,to:"/$locale/apps/derivean/game",params:{locale:d}}),p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/map/construction",params:{locale:d}}),p.jsx(fn,{icon:zi,to:"/$locale/apps/derivean/map/inventory",params:{locale:d}}),p.jsx(fn,{icon:"icon-[gis--route-end]",to:"/$locale/apps/derivean/map",params:{locale:d},search:{routing:!l},css:{base:l?["text-green-600"]:void 0}})]})]}),p.jsx(no,{})]})})},rre=({cycle:t,userId:e,construction:n,building:r,queue:i,route:s,zoomToId:o,routing:l})=>p.jsx(NL,{children:p.jsx(nre,{userId:e,cycle:t,construction:n,queue:i,building:r,route:s,zoomToId:o,routing:l})}),i1=Gt("/$locale/apps/derivean/map")({validateSearch:nr(U.object({zoomToId:U.string().optional(),routing:U.boolean().optional()})),async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return pm.parse(cf.get("session"))}catch{throw Vh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{user:r,construction:await t.ensureQueryData({queryKey:["GameMap","construction",r.id],async queryFn(){return e.transaction().execute(i=>Uo({select:i.selectFrom("Construction as c").innerJoin("Blueprint as bl","bl.id","c.blueprintId").select(["c.id","c.blueprintId","bl.name","c.x","c.y","c.valid"]).where("c.plan","=",!0).where("c.userId","=",r.id),output:U.object({id:U.string().min(1),blueprintId:U.string().min(1),name:U.string().min(1),x:U.number(),y:U.number(),valid:na()})}))}}),queue:await t.ensureQueryData({queryKey:["GameMap","queue",r.id],async queryFn(){return e.transaction().execute(i=>Uo({select:i.selectFrom("Construction as c").innerJoin("Blueprint as bl","bl.id","c.blueprintId").select(["c.id","c.blueprintId","bl.name","c.x","c.y","c.valid","c.from","c.to","c.cycle"]).where("c.plan","=",!1).where("c.userId","=",r.id),output:U.object({id:U.string().min(1),blueprintId:U.string().min(1),name:U.string().min(1),x:U.number(),y:U.number(),from:U.number().int().nonnegative(),to:U.number().int().nonnegative(),cycle:U.number().int().nonnegative(),valid:na()})}))}}),building:await t.ensureQueryData({queryKey:["GameMap","building",r.id],async queryFn(){return e.transaction().execute(i=>Uo({select:i.selectFrom("Building as bg").innerJoin("Blueprint as bl","bl.id","bg.blueprintId").select(["bg.id","bg.blueprintId","bl.name","bg.x","bg.y"]).where("bg.userId","=",r.id),output:U.object({id:U.string().min(1),blueprintId:U.string().min(1),name:U.string().min(1),x:U.number(),y:U.number()})}))}}),route:await t.ensureQueryData({queryKey:["GameMap","route",r.id],async queryFn(){return e.transaction().execute(i=>Uo({select:i.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Blueprint as blf","blf.id","bf.blueprintId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blf.name as fromName","blt.name as toName"]).where("r.userId","=",r.id),output:U.object({id:U.string().min(1),fromId:U.string().min(1),toId:U.string().min(1),fromName:U.string().min(1),toName:U.string().min(1)})}))}}),cycle:await t.ensureQueryData({queryKey:["GameMap","Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component(){const{user:t,construction:e,queue:n,building:r,route:i,cycle:s}=i1.useLoaderData(),{zoomToId:o,routing:l}=i1.useSearch();return p.jsx(rre,{userId:t.id,cycle:s,construction:e,queue:n,building:r,route:i,zoomToId:o,routing:l})}}),Co="icon-[fluent-mdl2--production-floor-management]",ire=t=>{const{locale:e}=xn({from:"/$locale"});return p.jsxs(Yl,{...t,children:[p.jsx(Pn,{icon:"icon-[et--map]",to:"/$locale/apps/derivean/map",params:{locale:e},children:p.jsx(te,{label:"Map (menu)"})}),p.jsx(Pn,{icon:Co,to:"/$locale/apps/derivean/game/production/queue",params:{locale:e},children:p.jsx(te,{label:"Production queue (menu)"})}),p.jsx(Pn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/list",params:{locale:e},children:p.jsx(te,{label:"Blueprint list (menu)"})}),p.jsx(Pn,{icon:zi,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:p.jsx(te,{label:"Inventory (menu)"})})]})},sre=Gt("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return pm.parse(cf.get("session"))}catch{throw Vh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{session:r,inventory:await t.ensureQueryData({queryKey:["User_Inventory"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.limit","i.resourceId"]).where("ui.userId","=",r.id).execute())}}),cycle:await t.ensureQueryData({queryKey:["Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component(){const{locale:t}=xn({from:"/$locale"}),{session:e,cycle:n}=Kl({from:"/$locale/apps/derivean/game"}),r=gB({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(i){return i.state.status}});return p.jsx(DD,{logo:p.jsx(fn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:p.jsx(UD,{})}),menu:p.jsxs("div",{className:"flex flex-row items-center gap-4",children:[p.jsx(ire,{}),p.jsx(jL,{cycle:n,userId:e.id})]}),actions:p.jsxs(p.Fragment,{children:[e.name,p.jsx(fn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),p.jsx(fn,{icon:hN,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:p.jsx(no,{})})}});var jy={exports:{}},ore=jy.exports,t3;function are(){return t3||(t3=1,function(t,e){(function(n,r){r()})(ore,function(){function n(d,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,f,h){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){c(b.response,f,h)},b.onerror=function(){console.error("could not download file")},b.send()}function i(d){var f=new XMLHttpRequest;f.open("HEAD",d,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Au=="object"&&Au.global===Au?Au:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,f,h){var b=o.URL||o.webkitURL,x=document.createElement("a");f=f||d.name||"download",x.download=f,x.rel="noopener",typeof d=="string"?(x.href=d,x.origin===location.origin?s(x):i(x.href)?r(d,f,h):s(x,x.target="_blank")):(x.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(d,f,h){if(f=f||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,h),f);else if(i(d))r(d,f,h);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,f,h,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return r(d,f,h);var x=d.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||x&&w||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var q=I.result;q=E?q:q.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=q:location=q,b=null},I.readAsDataURL(d)}else{var T=o.URL||o.webkitURL,O=T.createObjectURL(d);b?b.location=O:location.href=O,b=null,setTimeout(function(){T.revokeObjectURL(O)},4e4)}});o.saveAs=c.saveAs=c,t.exports=c})}(jy)),jy.exports}var lre=are();const ure=to(lre),A0=["Tag","Resource","Resource_Tag","Blueprint","Blueprint_Inventory","Blueprint_Dependency","Blueprint_Conflict","Blueprint_Requirement","Blueprint_Production","Blueprint_Production_Requirement","Blueprint_Production_Dependency","Blueprint_Production_Resource","Default_Inventory"],cre=Gt("/$locale/apps/derivean/root/")({component(){const t=tn({mutationKey:["export"],async mutationFn(){return En.promise((async()=>{const e=[];await Rt.transaction().execute(async n=>{for await(const r of A0)e.push({source:r,entities:await n.selectFrom(r).selectAll().execute()})}),ure.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"export.json")})(),hr("Export game files"))}});return p.jsxs("div",{className:"flex flex-col gap-4 w-2/3 mx-auto",children:[p.jsx(yG,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text());await Ar`PRAGMA foreign_keys = OFF`.execute(Rt),await En.promise(Rt.transaction().execute(async i=>{for await(const{source:s}of r){const o=A0.find(l=>l===s);if(!o)throw new Error(`Unknown source [${s}]`);await i.deleteFrom(o).execute()}for await(const{source:s,entities:o}of r){const l=A0.find(c=>c===s);if(!l)throw new Error(`Unknown source [${s}]`);for await(const c of Object.values(o))await i.insertInto(l).values(c).execute()}}),hr("Import game files")),await Ar`PRAGMA foreign_keys = ON`.execute(Rt)}}),p.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:p.jsx(Fn,{iconEnabled:vN,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:p.jsx(te,{label:"Export game files (label)"})})}),p.jsx("h2",{children:"TODO"}),p.jsxs("ul",{className:"flex flex-col gap-2",children:[p.jsx("li",{children:'Add exclusive to (building "exclusiveToId" cannot be built when target exists); Ok, exclusive to will be m:n.'}),p.jsx("li",{children:'Upgrades: Put everything into the building, drive upgrades by passive "Research" points'}),p.jsx("li",{children:"Bundle default gameplay as exported json (put into public); add button to root to load default/selected gameplay; idea is a few buttons: Settler like, Fantasy, AoE and so on."}),p.jsx("li",{children:"Define game ending rules: amount of resources in (individual resourece per required cycle), required building in a cycle. When a player fail, game end with the ability to reset. Each game rule may have an ending message to show."}),p.jsx("li",{children:"Define winning rules: amount of resources / building built in specific cycle. When rules are not met, it's like a fail."}),p.jsx("li",{children:"Idea: Blueprint should have display list (like present resource in inventory), also production should have display list (like present resource in inventory)."}),p.jsx("li",{children:"Add something like world available resources + the ability to drain and add resources to the world. Something like Wolrd_Inventory where 0 means unlimited resources."}),p.jsx("li",{children:"World renewal resources: a list of resources with cycles and amount when they got renewed (world_renewal_queue)."}),p.jsx("li",{children:"Defines seasons: list of cyclic seasons with their length; resource production may be bound to specific season(s)."}),p.jsx("li",{children:"Add maintenance cost for a building: when a cycle ends, cost is deducted from the inventory. If there is not enough resources, building will be marked as offline (closed for production)."}),p.jsx("li",{children:"Dispaly resources per season (some resources will be available only in specific season)"}),p.jsx("li",{children:"Add resource probability drop: some resources may have not be produces (like a crop). This should be thinked out."}),p.jsx("li",{children:'Production line should have requirements, but also something like "display requirements" required to even show the production line. Same for buildings.'})]})]})}}),dre=Gt("/$locale/apps/derivean/map/")({}),fre=Gt("/$locale/apps/derivean/game/")({component(){const{tva:t}=er({from:"__root__"}),e=t().slots;return p.jsx("div",{className:e.base(),children:p.jsx("div",{children:"management here"})})}});var P0,n3;function DN(){if(n3)return P0;n3=1;var t="\0",e="\0",n="\x01";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(f){f&&(this._isDirected=Object.hasOwn(f,"directed")?f.directed:!0,this._isMultigraph=Object.hasOwn(f,"multigraph")?f.multigraph:!1,this._isCompound=Object.hasOwn(f,"compound")?f.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(f){return this._label=f,this}graph(){return this._label}setDefaultNodeLabel(f){return this._defaultNodeLabelFn=f,typeof f!="function"&&(this._defaultNodeLabelFn=()=>f),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var f=this;return this.nodes().filter(h=>Object.keys(f._in[h]).length===0)}sinks(){var f=this;return this.nodes().filter(h=>Object.keys(f._out[h]).length===0)}setNodes(f,h){var b=arguments,x=this;return f.forEach(function(w){b.length>1?x.setNode(w,h):x.setNode(w)}),this}setNode(f,h){return Object.hasOwn(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=h),this):(this._nodes[f]=arguments.length>1?h:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=e,this._children[f]={},this._children[e][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)}node(f){return this._nodes[f]}hasNode(f){return Object.hasOwn(this._nodes,f)}removeNode(f){var h=this;if(Object.hasOwn(this._nodes,f)){var b=x=>h.removeEdge(h._edgeObjs[x]);delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],this.children(f).forEach(function(x){h.setParent(x)}),delete this._children[f]),Object.keys(this._in[f]).forEach(b),delete this._in[f],delete this._preds[f],Object.keys(this._out[f]).forEach(b),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this}setParent(f,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h===void 0)h=e;else{h+="";for(var b=h;b!==void 0;b=this.parent(b))if(b===f)throw new Error("Setting "+h+" as parent of "+f+" would create a cycle");this.setNode(h)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=h,this._children[h][f]=!0,this}_removeFromParentsChildList(f){delete this._children[this._parent[f]][f]}parent(f){if(this._isCompound){var h=this._parent[f];if(h!==e)return h}}children(f=e){if(this._isCompound){var h=this._children[f];if(h)return Object.keys(h)}else{if(f===e)return this.nodes();if(this.hasNode(f))return[]}}predecessors(f){var h=this._preds[f];if(h)return Object.keys(h)}successors(f){var h=this._sucs[f];if(h)return Object.keys(h)}neighbors(f){var h=this.predecessors(f);if(h){const x=new Set(h);for(var b of this.successors(f))x.add(b);return Array.from(x.values())}}isLeaf(f){var h;return this.isDirected()?h=this.successors(f):h=this.neighbors(f),h.length===0}filterNodes(f){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var b=this;Object.entries(this._nodes).forEach(function([E,I]){f(E)&&h.setNode(E,I)}),Object.values(this._edgeObjs).forEach(function(E){h.hasNode(E.v)&&h.hasNode(E.w)&&h.setEdge(E,b.edge(E))});var x={};function w(E){var I=b.parent(E);return I===void 0||h.hasNode(I)?(x[E]=I,I):I in x?x[I]:w(I)}return this._isCompound&&h.nodes().forEach(E=>h.setParent(E,w(E))),h}setDefaultEdgeLabel(f){return this._defaultEdgeLabelFn=f,typeof f!="function"&&(this._defaultEdgeLabelFn=()=>f),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(f,h){var b=this,x=arguments;return f.reduce(function(w,E){return x.length>1?b.setEdge(w,E,h):b.setEdge(w,E),E}),this}setEdge(){var f,h,b,x,w=!1,E=arguments[0];typeof E=="object"&&E!==null&&"v"in E?(f=E.v,h=E.w,b=E.name,arguments.length===2&&(x=arguments[1],w=!0)):(f=E,h=arguments[1],b=arguments[3],arguments.length>2&&(x=arguments[2],w=!0)),f=""+f,h=""+h,b!==void 0&&(b=""+b);var I=o(this._isDirected,f,h,b);if(Object.hasOwn(this._edgeLabels,I))return w&&(this._edgeLabels[I]=x),this;if(b!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(h),this._edgeLabels[I]=w?x:this._defaultEdgeLabelFn(f,h,b);var T=l(this._isDirected,f,h,b);return f=T.v,h=T.w,Object.freeze(T),this._edgeObjs[I]=T,i(this._preds[h],f),i(this._sucs[f],h),this._in[h][I]=T,this._out[f][I]=T,this._edgeCount++,this}edge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b);return this._edgeLabels[x]}edgeAsObj(){const f=this.edge(...arguments);return typeof f!="object"?{label:f}:f}hasEdge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b);return Object.hasOwn(this._edgeLabels,x)}removeEdge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b),w=this._edgeObjs[x];return w&&(f=w.v,h=w.w,delete this._edgeLabels[x],delete this._edgeObjs[x],s(this._preds[h],f),s(this._sucs[f],h),delete this._in[h][x],delete this._out[f][x],this._edgeCount--),this}inEdges(f,h){var b=this._in[f];if(b){var x=Object.values(b);return h?x.filter(w=>w.v===h):x}}outEdges(f,h){var b=this._out[f];if(b){var x=Object.values(b);return h?x.filter(w=>w.w===h):x}}nodeEdges(f,h){var b=this.inEdges(f,h);if(b)return b.concat(this.outEdges(f,h))}}function i(d,f){d[f]?d[f]++:d[f]=1}function s(d,f){--d[f]||delete d[f]}function o(d,f,h,b){var x=""+f,w=""+h;if(!d&&x>w){var E=x;x=w,w=E}return x+n+w+n+(b===void 0?t:b)}function l(d,f,h,b){var x=""+f,w=""+h;if(!d&&x>w){var E=x;x=w,w=E}var I={v:x,w};return b&&(I.name=b),I}function c(d,f){return o(d,f.v,f.w,f.name)}return P0=r,P0}var F0,r3;function pre(){return r3||(r3=1,F0="2.2.4"),F0}var D0,i3;function hre(){return i3||(i3=1,D0={Graph:DN(),version:pre()}),D0}var L0,s3;function mre(){if(s3)return L0;s3=1;var t=DN();L0={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var l=s.node(o),c=s.parent(o),d={v:o};return l!==void 0&&(d.value=l),c!==void 0&&(d.parent=c),d})}function r(s){return s.edges().map(function(o){var l=s.edge(o),c={v:o.v,w:o.w};return o.name!==void 0&&(c.name=o.name),l!==void 0&&(c.value=l),c})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),s.edges.forEach(function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return L0}var M0,o3;function gre(){if(o3)return M0;o3=1,M0=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return M0}var $0,a3;function AL(){if(a3)return $0;a3=1;class t{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],l=i[r];i[n]=l,i[r]=o,s[l.key]=n,s[o.key]=r}}return $0=t,$0}var B0,l3;function PL(){if(l3)return B0;l3=1;var t=AL();B0=n;var e=()=>1;function n(i,s,o,l){return r(i,String(s),o||e,l||function(c){return i.outEdges(c)})}function r(i,s,o,l){var c={},d=new t,f,h,b=function(x){var w=x.v!==f?x.v:x.w,E=c[w],I=o(x),T=h.distance+I;if(I<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+I);T<E.distance&&(E.distance=T,E.predecessor=f,d.decrease(w,T))};for(i.nodes().forEach(function(x){var w=x===s?0:Number.POSITIVE_INFINITY;c[x]={distance:w},d.add(x,w)});d.size()>0&&(f=d.removeMin(),h=c[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(b);return c}return B0}var z0,u3;function yre(){if(u3)return z0;u3=1;var t=PL();z0=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return z0}var W0,c3;function FL(){if(c3)return W0;c3=1,W0=t;function t(e){var n=0,r=[],i={},s=[];function o(l){var c=i[l]={onStack:!0,lowlink:n,index:n++};if(r.push(l),e.successors(l).forEach(function(h){Object.hasOwn(i,h)?i[h].onStack&&(c.lowlink=Math.min(c.lowlink,i[h].index)):(o(h),c.lowlink=Math.min(c.lowlink,i[h].lowlink))}),c.lowlink===c.index){var d=[],f;do f=r.pop(),i[f].onStack=!1,d.push(f);while(l!==f);s.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||o(l)}),s}return W0}var U0,d3;function vre(){if(d3)return U0;d3=1;var t=FL();U0=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return U0}var V0,f3;function bre(){if(f3)return V0;f3=1,V0=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},l=r.nodes();return l.forEach(function(c){o[c]={},o[c][c]={distance:0},l.forEach(function(d){c!==d&&(o[c][d]={distance:Number.POSITIVE_INFINITY})}),s(c).forEach(function(d){var f=d.v===c?d.w:d.v,h=i(d);o[c][f]={distance:h,predecessor:c}})}),l.forEach(function(c){var d=o[c];l.forEach(function(f){var h=o[f];l.forEach(function(b){var x=h[c],w=d[b],E=h[b],I=x.distance+w.distance;I<E.distance&&(E.distance=I,E.predecessor=w.predecessor)})})}),o}return V0}var H0,p3;function DL(){if(p3)return H0;p3=1;function t(n){var r={},i={},s=[];function o(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(r,l)||(i[l]=!0,r[l]=!0,n.predecessors(l).forEach(o),delete i[l],s.push(l))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return H0=t,t.CycleException=e,H0}var Q0,h3;function xre(){if(h3)return Q0;h3=1;var t=DL();Q0=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return Q0}var K0,m3;function LL(){if(m3)return K0;m3=1,K0=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var l=i.isDirected()?h=>i.successors(h):h=>i.neighbors(h),c=o==="post"?e:n,d=[],f={};return s.forEach(h=>{if(!i.hasNode(h))throw new Error("Graph does not have node: "+h);c(h,l,f,d)}),d}function e(i,s,o,l){for(var c=[[i,!1]];c.length>0;){var d=c.pop();d[1]?l.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,c.push([d[0],!0]),r(s(d[0]),f=>c.push([f,!1])))}}function n(i,s,o,l){for(var c=[i];c.length>0;){var d=c.pop();Object.hasOwn(o,d)||(o[d]=!0,l.push(d),r(s(d),f=>c.push(f)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return K0}var G0,g3;function _re(){if(g3)return G0;g3=1;var t=LL();G0=e;function e(n,r){return t(n,r,"post")}return G0}var Z0,y3;function wre(){if(y3)return Z0;y3=1;var t=LL();Z0=e;function e(n,r){return t(n,r,"pre")}return Z0}var J0,v3;function Sre(){if(v3)return J0;v3=1;var t=DN(),e=AL();J0=n;function n(r,i){var s=new t,o={},l=new e,c;function d(h){var b=h.v===c?h.w:h.v,x=l.priority(b);if(x!==void 0){var w=i(h);w<x&&(o[b]=c,l.decrease(b,w))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(r.nodes()[0],0);for(var f=!1;l.size()>0;){if(c=l.removeMin(),Object.hasOwn(o,c))s.setEdge(c,o[c]);else{if(f)throw new Error("Input graph is not connected: "+r);f=!0}r.nodeEdges(c).forEach(d)}return s}return J0}var Y0,b3;function Ere(){return b3||(b3=1,Y0={components:gre(),dijkstra:PL(),dijkstraAll:yre(),findCycles:vre(),floydWarshall:bre(),isAcyclic:xre(),postorder:_re(),preorder:wre(),prim:Sre(),tarjan:FL(),topsort:DL()}),Y0}var X0,x3;function To(){if(x3)return X0;x3=1;var t=hre();return X0={Graph:t.Graph,json:mre(),alg:Ere(),version:t.version},X0}var eS,_3;function Nre(){if(_3)return eS;_3=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return eS=t,eS}var tS,w3;function kre(){if(w3)return tS;w3=1;let t=To().Graph,e=Nre();tS=r;let n=()=>1;function r(d,f){if(d.nodeCount()<=1)return[];let h=o(d,f||n);return i(h.graph,h.buckets,h.zeroIdx).flatMap(x=>d.outEdges(x.v,x.w))}function i(d,f,h){let b=[],x=f[f.length-1],w=f[0],E;for(;d.nodeCount();){for(;E=w.dequeue();)s(d,f,h,E);for(;E=x.dequeue();)s(d,f,h,E);if(d.nodeCount()){for(let I=f.length-2;I>0;--I)if(E=f[I].dequeue(),E){b=b.concat(s(d,f,h,E,!0));break}}}return b}function s(d,f,h,b,x){let w=x?[]:void 0;return d.inEdges(b.v).forEach(E=>{let I=d.edge(E),T=d.node(E.v);x&&w.push({v:E.v,w:E.w}),T.out-=I,l(f,h,T)}),d.outEdges(b.v).forEach(E=>{let I=d.edge(E),T=E.w,O=d.node(T);O.in-=I,l(f,h,O)}),d.removeNode(b.v),w}function o(d,f){let h=new t,b=0,x=0;d.nodes().forEach(I=>{h.setNode(I,{v:I,in:0,out:0})}),d.edges().forEach(I=>{let T=h.edge(I.v,I.w)||0,O=f(I),q=T+O;h.setEdge(I.v,I.w,q),x=Math.max(x,h.node(I.v).out+=O),b=Math.max(b,h.node(I.w).in+=O)});let w=c(x+b+3).map(()=>new e),E=b+1;return h.nodes().forEach(I=>{l(w,E,h.node(I))}),{graph:h,buckets:w,zeroIdx:E}}function l(d,f,h){h.out?h.in?d[h.out-h.in+f].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}function c(d){const f=[];for(let h=0;h<d;h++)f.push(h);return f}return tS}var nS,S3;function Jr(){if(S3)return nS;S3=1;let t=To().Graph;nS={addBorderNode:f,addDummyNode:e,applyWithChunking:x,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:o,mapValues:L,maxRank:w,normalizeRanks:c,notime:T,partition:E,pick:D,predecessorWeights:s,range:A,removeEmptyRanks:d,simplify:n,successorWeights:i,time:I,uniqueId:q,zipObject:z};function e(P,R,M,F){let W;do W=q(F);while(P.hasNode(W));return M.dummy=R,P.setNode(W,M),W}function n(P){let R=new t().setGraph(P.graph());return P.nodes().forEach(M=>R.setNode(M,P.node(M))),P.edges().forEach(M=>{let F=R.edge(M.v,M.w)||{weight:0,minlen:1},W=P.edge(M);R.setEdge(M.v,M.w,{weight:F.weight+W.weight,minlen:Math.max(F.minlen,W.minlen)})}),R}function r(P){let R=new t({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(M=>{P.children(M).length||R.setNode(M,P.node(M))}),P.edges().forEach(M=>{R.setEdge(M,P.edge(M))}),R}function i(P){let R=P.nodes().map(M=>{let F={};return P.outEdges(M).forEach(W=>{F[W.w]=(F[W.w]||0)+P.edge(W).weight}),F});return z(P.nodes(),R)}function s(P){let R=P.nodes().map(M=>{let F={};return P.inEdges(M).forEach(W=>{F[W.v]=(F[W.v]||0)+P.edge(W).weight}),F});return z(P.nodes(),R)}function o(P,R){let M=P.x,F=P.y,W=R.x-M,V=R.y-F,B=P.width/2,ee=P.height/2;if(!W&&!V)throw new Error("Not possible to find intersection inside of the rectangle");let J,le;return Math.abs(V)*B>Math.abs(W)*ee?(V<0&&(ee=-ee),J=ee*W/V,le=ee):(W<0&&(B=-B),J=B,le=B*V/W),{x:M+J,y:F+le}}function l(P){let R=A(w(P)+1).map(()=>[]);return P.nodes().forEach(M=>{let F=P.node(M),W=F.rank;W!==void 0&&(R[W][F.order]=M)}),R}function c(P){let R=P.nodes().map(F=>{let W=P.node(F).rank;return W===void 0?Number.MAX_VALUE:W}),M=x(Math.min,R);P.nodes().forEach(F=>{let W=P.node(F);Object.hasOwn(W,"rank")&&(W.rank-=M)})}function d(P){let R=P.nodes().map(B=>P.node(B).rank),M=x(Math.min,R),F=[];P.nodes().forEach(B=>{let ee=P.node(B).rank-M;F[ee]||(F[ee]=[]),F[ee].push(B)});let W=0,V=P.graph().nodeRankFactor;Array.from(F).forEach((B,ee)=>{B===void 0&&ee%V!==0?--W:B!==void 0&&W&&B.forEach(J=>P.node(J).rank+=W)})}function f(P,R,M,F){let W={width:0,height:0};return arguments.length>=4&&(W.rank=M,W.order=F),e(P,"border",W,R)}function h(P,R=b){const M=[];for(let F=0;F<P.length;F+=R){const W=P.slice(F,F+R);M.push(W)}return M}const b=65535;function x(P,R){if(R.length>b){const M=h(R);return P.apply(null,M.map(F=>P.apply(null,F)))}else return P.apply(null,R)}function w(P){const M=P.nodes().map(F=>{let W=P.node(F).rank;return W===void 0?Number.MIN_VALUE:W});return x(Math.max,M)}function E(P,R){let M={lhs:[],rhs:[]};return P.forEach(F=>{R(F)?M.lhs.push(F):M.rhs.push(F)}),M}function I(P,R){let M=Date.now();try{return R()}finally{console.log(P+" time: "+(Date.now()-M)+"ms")}}function T(P,R){return R()}let O=0;function q(P){var R=++O;return toString(P)+R}function A(P,R,M=1){R==null&&(R=P,P=0);let F=V=>V<R;M<0&&(F=V=>R<V);const W=[];for(let V=P;F(V);V+=M)W.push(V);return W}function D(P,R){const M={};for(const F of R)P[F]!==void 0&&(M[F]=P[F]);return M}function L(P,R){let M=R;return typeof R=="string"&&(M=F=>F[R]),Object.entries(P).reduce((F,[W,V])=>(F[W]=M(V,W),F),{})}function z(P,R){return P.reduce((M,F,W)=>(M[F]=R[W],M),{})}return nS}var rS,E3;function Ire(){if(E3)return rS;E3=1;let t=kre(),e=Jr().uniqueId;rS={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,l(s)):r(s)).forEach(c=>{let d=s.edge(c);s.removeEdge(c),d.forwardName=c.name,d.reversed=!0,s.setEdge(c.w,c.v,d,e("rev"))});function l(c){return d=>c.edge(d).weight}}function r(s){let o=[],l={},c={};function d(f){Object.hasOwn(c,f)||(c[f]=!0,l[f]=!0,s.outEdges(f).forEach(h=>{Object.hasOwn(l,h.w)?o.push(h):d(h.w)}),delete l[f])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let l=s.edge(o);if(l.reversed){s.removeEdge(o);let c=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,c)}})}return rS}var iS,N3;function Cre(){if(N3)return iS;N3=1;let t=Jr();iS={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,l=i.node(o).rank,c=s.w,d=i.node(c).rank,f=s.name,h=i.edge(s),b=h.labelRank;if(d===l+1)return;i.removeEdge(s);let x,w,E;for(E=0,++l;l<d;++E,++l)h.points=[],w={width:0,height:0,edgeLabel:h,edgeObj:s,rank:l},x=t.addDummyNode(i,"edge",w,"_d"),l===b&&(w.width=h.width,w.height=h.height,w.dummy="edge-label",w.labelpos=h.labelpos),i.setEdge(o,x,{weight:h.weight},f),E===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,c,{weight:h.weight},f)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),l=o.edgeLabel,c;for(i.setEdge(o.edgeObj,l);o.dummy;)c=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=c,o=i.node(s)})}return iS}var sS,k3;function Yv(){if(k3)return sS;k3=1;const{applyWithChunking:t}=Jr();sS={longestPath:e,slack:n};function e(r){var i={};function s(o){var l=r.node(o);if(Object.hasOwn(i,o))return l.rank;i[o]=!0;let c=r.outEdges(o).map(f=>f==null?Number.POSITIVE_INFINITY:s(f.w)-r.edge(f).minlen);var d=t(Math.min,c);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return sS}var oS,I3;function ML(){if(I3)return oS;I3=1;var t=To().Graph,e=Yv().slack;oS=n;function n(o){var l=new t({directed:!1}),c=o.nodes()[0],d=o.nodeCount();l.setNode(c,{});for(var f,h;r(l,o)<d;)f=i(l,o),h=l.hasNode(f.v)?e(o,f):-e(o,f),s(l,o,h);return l}function r(o,l){function c(d){l.nodeEdges(d).forEach(f=>{var h=f.v,b=d===h?f.w:h;!o.hasNode(b)&&!e(l,f)&&(o.setNode(b,{}),o.setEdge(d,b,{}),c(b))})}return o.nodes().forEach(c),o.nodeCount()}function i(o,l){return l.edges().reduce((d,f)=>{let h=Number.POSITIVE_INFINITY;return o.hasNode(f.v)!==o.hasNode(f.w)&&(h=e(l,f)),h<d[0]?[h,f]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,l,c){o.nodes().forEach(d=>l.node(d).rank+=c)}return oS}var aS,C3;function Tre(){if(C3)return aS;C3=1;var t=ML(),e=Yv().slack,n=Yv().longestPath,r=To().alg.preorder,i=To().alg.postorder,s=Jr().simplify;aS=o,o.initLowLimValues=f,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=b,o.enterEdge=x,o.exchangeEdges=w;function o(O){O=s(O),n(O);var q=t(O);f(q),l(q,O);for(var A,D;A=b(q);)D=x(q,O,A),w(q,O,A,D)}function l(O,q){var A=i(O,O.nodes());A=A.slice(0,A.length-1),A.forEach(D=>c(O,q,D))}function c(O,q,A){var D=O.node(A),L=D.parent;O.edge(A,L).cutvalue=d(O,q,A)}function d(O,q,A){var D=O.node(A),L=D.parent,z=!0,P=q.edge(A,L),R=0;return P||(z=!1,P=q.edge(L,A)),R=P.weight,q.nodeEdges(A).forEach(M=>{var F=M.v===A,W=F?M.w:M.v;if(W!==L){var V=F===z,B=q.edge(M).weight;if(R+=V?B:-B,I(O,A,W)){var ee=O.edge(A,W).cutvalue;R+=V?-ee:ee}}}),R}function f(O,q){arguments.length<2&&(q=O.nodes()[0]),h(O,{},1,q)}function h(O,q,A,D,L){var z=A,P=O.node(D);return q[D]=!0,O.neighbors(D).forEach(R=>{Object.hasOwn(q,R)||(A=h(O,q,A,R,D))}),P.low=z,P.lim=A++,L?P.parent=L:delete P.parent,A}function b(O){return O.edges().find(q=>O.edge(q).cutvalue<0)}function x(O,q,A){var D=A.v,L=A.w;q.hasEdge(D,L)||(D=A.w,L=A.v);var z=O.node(D),P=O.node(L),R=z,M=!1;z.lim>P.lim&&(R=P,M=!0);var F=q.edges().filter(W=>M===T(O,O.node(W.v),R)&&M!==T(O,O.node(W.w),R));return F.reduce((W,V)=>e(q,V)<e(q,W)?V:W)}function w(O,q,A,D){var L=A.v,z=A.w;O.removeEdge(L,z),O.setEdge(D.v,D.w,{}),f(O),l(O,q),E(O,q)}function E(O,q){var A=O.nodes().find(L=>!q.node(L).parent),D=r(O,A);D=D.slice(1),D.forEach(L=>{var z=O.node(L).parent,P=q.edge(L,z),R=!1;P||(P=q.edge(z,L),R=!0),q.node(L).rank=q.node(z).rank+(R?P.minlen:-P.minlen)})}function I(O,q,A){return O.hasEdge(q,A)}function T(O,q,A){return A.low<=q.lim&&q.lim<=A.lim}return aS}var lS,T3;function Ore(){if(T3)return lS;T3=1;var t=Yv(),e=t.longestPath,n=ML(),r=Tre();lS=i;function i(c){switch(c.graph().ranker){case"network-simplex":l(c);break;case"tight-tree":o(c);break;case"longest-path":s(c);break;default:l(c)}}var s=e;function o(c){e(c),n(c)}function l(c){r(c)}return lS}var uS,O3;function qre(){if(O3)return uS;O3=1,uS=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),l=o.edgeObj,c=e(r,i,l.v,l.w),d=c.path,f=c.lca,h=0,b=d[h],x=!0;for(;s!==l.w;){if(o=r.node(s),x){for(;(b=d[h])!==f&&r.node(b).maxRank<o.rank;)h++;b===f&&(x=!1)}if(!x){for(;h<d.length-1&&r.node(b=d[h+1]).minRank<=o.rank;)h++;b=d[h]}r.setParent(s,b),s=r.successors(s)[0]}})}function e(r,i,s,o){let l=[],c=[],d=Math.min(i[s].low,i[o].low),f=Math.max(i[s].lim,i[o].lim),h,b;h=s;do h=r.parent(h),l.push(h);while(h&&(i[h].low>d||f>i[h].lim));for(b=h,h=o;(h=r.parent(h))!==b;)c.push(h);return{path:l.concat(c.reverse()),lca:b}}function n(r){let i={},s=0;function o(l){let c=s;r.children(l).forEach(o),i[l]={low:c,lim:s++}}return r.children().forEach(o),i}return uS}var cS,q3;function Rre(){if(q3)return cS;q3=1;let t=Jr();cS={run:e,cleanup:s};function e(o){let l=t.addDummyNode(o,"root",{},"_root"),c=r(o),d=Object.values(c),f=t.applyWithChunking(Math.max,d)-1,h=2*f+1;o.graph().nestingRoot=l,o.edges().forEach(x=>o.edge(x).minlen*=h);let b=i(o)+1;o.children().forEach(x=>n(o,l,h,b,f,c,x)),o.graph().nodeRankFactor=h}function n(o,l,c,d,f,h,b){let x=o.children(b);if(!x.length){b!==l&&o.setEdge(l,b,{weight:0,minlen:c});return}let w=t.addBorderNode(o,"_bt"),E=t.addBorderNode(o,"_bb"),I=o.node(b);o.setParent(w,b),I.borderTop=w,o.setParent(E,b),I.borderBottom=E,x.forEach(T=>{n(o,l,c,d,f,h,T);let O=o.node(T),q=O.borderTop?O.borderTop:T,A=O.borderBottom?O.borderBottom:T,D=O.borderTop?d:2*d,L=q!==A?1:f-h[b]+1;o.setEdge(w,q,{weight:D,minlen:L,nestingEdge:!0}),o.setEdge(A,E,{weight:D,minlen:L,nestingEdge:!0})}),o.parent(b)||o.setEdge(l,w,{weight:0,minlen:f+h[b]})}function r(o){var l={};function c(d,f){var h=o.children(d);h&&h.length&&h.forEach(b=>c(b,f+1)),l[d]=f}return o.children().forEach(d=>c(d,1)),l}function i(o){return o.edges().reduce((l,c)=>l+o.edge(c).weight,0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(c=>{var d=o.edge(c);d.nestingEdge&&o.removeEdge(c)})}return cS}var dS,R3;function jre(){if(R3)return dS;R3=1;let t=Jr();dS=e;function e(r){function i(s){let o=r.children(s),l=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let c=l.minRank,d=l.maxRank+1;c<d;++c)n(r,"borderLeft","_bl",s,l,c),n(r,"borderRight","_br",s,l,c)}}r.children().forEach(i)}function n(r,i,s,o,l,c){let d={width:0,height:0,rank:c,borderType:i},f=l[i][c-1],h=t.addDummyNode(r,"border",d,s);l[i][c]=h,r.setParent(h,o),f&&r.setEdge(f,h,{weight:1})}return dS}var fS,j3;function Are(){if(j3)return fS;j3=1,fS={adjust:t,undo:e};function t(c){let d=c.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(c)}function e(c){let d=c.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(c),(d==="lr"||d==="rl")&&(o(c),n(c))}function n(c){c.nodes().forEach(d=>r(c.node(d))),c.edges().forEach(d=>r(c.edge(d)))}function r(c){let d=c.width;c.width=c.height,c.height=d}function i(c){c.nodes().forEach(d=>s(c.node(d))),c.edges().forEach(d=>{let f=c.edge(d);f.points.forEach(s),Object.hasOwn(f,"y")&&s(f)})}function s(c){c.y=-c.y}function o(c){c.nodes().forEach(d=>l(c.node(d))),c.edges().forEach(d=>{let f=c.edge(d);f.points.forEach(l),Object.hasOwn(f,"x")&&l(f)})}function l(c){let d=c.x;c.x=c.y,c.y=d}return fS}var pS,A3;function Pre(){if(A3)return pS;A3=1;let t=Jr();pS=e;function e(n){let r={},i=n.nodes().filter(f=>!n.children(f).length),s=i.map(f=>n.node(f).rank),o=t.applyWithChunking(Math.max,s),l=t.range(o+1).map(()=>[]);function c(f){if(r[f])return;r[f]=!0;let h=n.node(f);l[h.rank].push(f),n.successors(f).forEach(c)}return i.sort((f,h)=>n.node(f).rank-n.node(h).rank).forEach(c),l}return pS}var hS,P3;function Fre(){if(P3)return hS;P3=1;let t=Jr().zipObject;hS=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((b,x)=>x)),l=i.flatMap(b=>r.outEdges(b).map(x=>({pos:o[x.w],weight:r.edge(x).weight})).sort((x,w)=>x.pos-w.pos)),c=1;for(;c<s.length;)c<<=1;let d=2*c-1;c-=1;let f=new Array(d).fill(0),h=0;return l.forEach(b=>{let x=b.pos+c;f[x]+=b.weight;let w=0;for(;x>0;)x%2&&(w+=f[x+1]),x=x-1>>1,f[x]+=b.weight;h+=b.weight*w}),h}return hS}var mS,F3;function Dre(){if(F3)return mS;F3=1,mS=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,l)=>{let c=e.edge(l),d=e.node(l.v);return{sum:o.sum+c.weight*d.order,weight:o.weight+c.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return mS}var gS,D3;function Lre(){if(D3)return gS;D3=1;let t=Jr();gS=e;function e(i,s){let o={};i.forEach((c,d)=>{let f=o[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:d};c.barycenter!==void 0&&(f.barycenter=c.barycenter,f.weight=c.weight)}),s.edges().forEach(c=>{let d=o[c.v],f=o[c.w];d!==void 0&&f!==void 0&&(f.indegree++,d.out.push(o[c.w]))});let l=Object.values(o).filter(c=>!c.indegree);return n(l)}function n(i){let s=[];function o(c){return d=>{d.merged||(d.barycenter===void 0||c.barycenter===void 0||d.barycenter>=c.barycenter)&&r(c,d)}}function l(c){return d=>{d.in.push(c),--d.indegree===0&&i.push(d)}}for(;i.length;){let c=i.pop();s.push(c),c.in.reverse().forEach(o(c)),c.out.forEach(l(c))}return s.filter(c=>!c.merged).map(c=>t.pick(c,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,l=0;i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),s.weight&&(o+=s.barycenter*s.weight,l+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/l,i.weight=l,i.i=Math.min(s.i,i.i),s.merged=!0}return gS}var yS,L3;function Mre(){if(L3)return yS;L3=1;let t=Jr();yS=e;function e(i,s){let o=t.partition(i,w=>Object.hasOwn(w,"barycenter")),l=o.lhs,c=o.rhs.sort((w,E)=>E.i-w.i),d=[],f=0,h=0,b=0;l.sort(r(!!s)),b=n(d,c,b),l.forEach(w=>{b+=w.vs.length,d.push(w.vs),f+=w.barycenter*w.weight,h+=w.weight,b=n(d,c,b)});let x={vs:d.flat(!0)};return h&&(x.barycenter=f/h,x.weight=h),x}function n(i,s,o){let l;for(;s.length&&(l=s[s.length-1]).i<=o;)s.pop(),i.push(l.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return yS}var vS,M3;function $re(){if(M3)return vS;M3=1;let t=Dre(),e=Lre(),n=Mre();vS=r;function r(o,l,c,d){let f=o.children(l),h=o.node(l),b=h?h.borderLeft:void 0,x=h?h.borderRight:void 0,w={};b&&(f=f.filter(O=>O!==b&&O!==x));let E=t(o,f);E.forEach(O=>{if(o.children(O.v).length){let q=r(o,O.v,c,d);w[O.v]=q,Object.hasOwn(q,"barycenter")&&s(O,q)}});let I=e(E,c);i(I,w);let T=n(I,d);if(b&&(T.vs=[b,T.vs,x].flat(!0),o.predecessors(b).length)){let O=o.node(o.predecessors(b)[0]),q=o.node(o.predecessors(x)[0]);Object.hasOwn(T,"barycenter")||(T.barycenter=0,T.weight=0),T.barycenter=(T.barycenter*T.weight+O.order+q.order)/(T.weight+2),T.weight+=2}return T}function i(o,l){o.forEach(c=>{c.vs=c.vs.flatMap(d=>l[d]?l[d].vs:d)})}function s(o,l){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)}return vS}var bS,$3;function Bre(){if($3)return bS;$3=1;let t=To().Graph,e=Jr();bS=n;function n(i,s,o){let l=r(i),c=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let f=i.node(d),h=i.parent(d);(f.rank===s||f.minRank<=s&&s<=f.maxRank)&&(c.setNode(d),c.setParent(d,h||l),i[o](d).forEach(b=>{let x=b.v===d?b.w:b.v,w=c.edge(x,d),E=w!==void 0?w.weight:0;c.setEdge(x,d,{weight:i.edge(b).weight+E})}),Object.hasOwn(f,"minRank")&&c.setNode(d,{borderLeft:f.borderLeft[s],borderRight:f.borderRight[s]}))}),c}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return bS}var xS,B3;function zre(){if(B3)return xS;B3=1,xS=t;function t(e,n,r){let i={},s;r.forEach(o=>{let l=e.parent(o),c,d;for(;l;){if(c=e.parent(l),c?(d=i[c],i[c]=l):(d=s,s=l),d&&d!==l){n.setEdge(d,l);return}l=c}})}return xS}var _S,z3;function Wre(){if(z3)return _S;z3=1;let t=Pre(),e=Fre(),n=$re(),r=Bre(),i=zre(),s=To().Graph,o=Jr();_S=l;function l(h,b){if(b&&typeof b.customOrder=="function"){b.customOrder(h,l);return}let x=o.maxRank(h),w=c(h,o.range(1,x+1),"inEdges"),E=c(h,o.range(x-1,-1,-1),"outEdges"),I=t(h);if(f(h,I),b&&b.disableOptimalOrderHeuristic)return;let T=Number.POSITIVE_INFINITY,O;for(let q=0,A=0;A<4;++q,++A){d(q%2?w:E,q%4>=2),I=o.buildLayerMatrix(h);let D=e(h,I);D<T&&(A=0,O=Object.assign({},I),T=D)}f(h,O)}function c(h,b,x){return b.map(function(w){return r(h,w,x)})}function d(h,b){let x=new s;h.forEach(function(w){let E=w.graph().root,I=n(w,E,x,b);I.vs.forEach((T,O)=>w.node(T).order=O),i(w,x,I.vs)})}function f(h,b){Object.values(b).forEach(x=>x.forEach((w,E)=>h.node(w).order=E))}return _S}var wS,W3;function Ure(){if(W3)return wS;W3=1;let t=To().Graph,e=Jr();wS={positionX:x,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:h,findSmallestWidthAlignment:f,balance:b};function n(I,T){let O={};function q(A,D){let L=0,z=0,P=A.length,R=D[D.length-1];return D.forEach((M,F)=>{let W=i(I,M),V=W?I.node(W).order:P;(W||M===R)&&(D.slice(z,F+1).forEach(B=>{I.predecessors(B).forEach(ee=>{let J=I.node(ee),le=J.order;(le<L||V<le)&&!(J.dummy&&I.node(B).dummy)&&s(O,ee,B)})}),z=F+1,L=V)}),D}return T.length&&T.reduce(q),O}function r(I,T){let O={};function q(D,L,z,P,R){let M;e.range(L,z).forEach(F=>{M=D[F],I.node(M).dummy&&I.predecessors(M).forEach(W=>{let V=I.node(W);V.dummy&&(V.order<P||V.order>R)&&s(O,W,M)})})}function A(D,L){let z=-1,P,R=0;return L.forEach((M,F)=>{if(I.node(M).dummy==="border"){let W=I.predecessors(M);W.length&&(P=I.node(W[0]).order,q(L,R,F,z,P),R=F,z=P)}q(L,R,L.length,P,D.length)}),L}return T.length&&T.reduce(A),O}function i(I,T){if(I.node(T).dummy)return I.predecessors(T).find(O=>I.node(O).dummy)}function s(I,T,O){if(T>O){let A=T;T=O,O=A}let q=I[T];q||(I[T]=q={}),q[O]=!0}function o(I,T,O){if(T>O){let q=T;T=O,O=q}return!!I[T]&&Object.hasOwn(I[T],O)}function l(I,T,O,q){let A={},D={},L={};return T.forEach(z=>{z.forEach((P,R)=>{A[P]=P,D[P]=P,L[P]=R})}),T.forEach(z=>{let P=-1;z.forEach(R=>{let M=q(R);if(M.length){M=M.sort((W,V)=>L[W]-L[V]);let F=(M.length-1)/2;for(let W=Math.floor(F),V=Math.ceil(F);W<=V;++W){let B=M[W];D[R]===R&&P<L[B]&&!o(O,R,B)&&(D[B]=R,D[R]=A[R]=A[B],P=L[B])}}})}),{root:A,align:D}}function c(I,T,O,q,A){let D={},L=d(I,T,O,A),z=A?"borderLeft":"borderRight";function P(F,W){let V=L.nodes(),B=V.pop(),ee={};for(;B;)ee[B]?F(B):(ee[B]=!0,V.push(B),V=V.concat(W(B))),B=V.pop()}function R(F){D[F]=L.inEdges(F).reduce((W,V)=>Math.max(W,D[V.v]+L.edge(V)),0)}function M(F){let W=L.outEdges(F).reduce((B,ee)=>Math.min(B,D[ee.w]-L.edge(ee)),Number.POSITIVE_INFINITY),V=I.node(F);W!==Number.POSITIVE_INFINITY&&V.borderType!==z&&(D[F]=Math.max(D[F],W))}return P(R,L.predecessors.bind(L)),P(M,L.successors.bind(L)),Object.keys(q).forEach(F=>D[F]=D[O[F]]),D}function d(I,T,O,q){let A=new t,D=I.graph(),L=w(D.nodesep,D.edgesep,q);return T.forEach(z=>{let P;z.forEach(R=>{let M=O[R];if(A.setNode(M),P){var F=O[P],W=A.edge(F,M);A.setEdge(F,M,Math.max(L(I,R,P),W||0))}P=R})}),A}function f(I,T){return Object.values(T).reduce((O,q)=>{let A=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(q).forEach(([z,P])=>{let R=E(I,z)/2;A=Math.max(P+R,A),D=Math.min(P-R,D)});const L=A-D;return L<O[0]&&(O=[L,q]),O},[Number.POSITIVE_INFINITY,null])[1]}function h(I,T){let O=Object.values(T),q=e.applyWithChunking(Math.min,O),A=e.applyWithChunking(Math.max,O);["u","d"].forEach(D=>{["l","r"].forEach(L=>{let z=D+L,P=I[z];if(P===T)return;let R=Object.values(P),M=q-e.applyWithChunking(Math.min,R);L!=="l"&&(M=A-e.applyWithChunking(Math.max,R)),M&&(I[z]=e.mapValues(P,F=>F+M))})})}function b(I,T){return e.mapValues(I.ul,(O,q)=>{if(T)return I[T.toLowerCase()][q];{let A=Object.values(I).map(D=>D[q]).sort((D,L)=>D-L);return(A[1]+A[2])/2}})}function x(I){let T=e.buildLayerMatrix(I),O=Object.assign(n(I,T),r(I,T)),q={},A;["u","d"].forEach(L=>{A=L==="u"?T:Object.values(T).reverse(),["l","r"].forEach(z=>{z==="r"&&(A=A.map(F=>Object.values(F).reverse()));let P=(L==="u"?I.predecessors:I.successors).bind(I),R=l(I,A,O,P),M=c(I,A,R.root,R.align,z==="r");z==="r"&&(M=e.mapValues(M,F=>-F)),q[L+z]=M})});let D=f(I,q);return h(q,D),b(q,I.graph().align)}function w(I,T,O){return(q,A,D)=>{let L=q.node(A),z=q.node(D),P=0,R;if(P+=L.width/2,Object.hasOwn(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":R=-L.width/2;break;case"r":R=L.width/2;break}if(R&&(P+=O?R:-R),R=0,P+=(L.dummy?T:I)/2,P+=(z.dummy?T:I)/2,P+=z.width/2,Object.hasOwn(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":R=z.width/2;break;case"r":R=-z.width/2;break}return R&&(P+=O?R:-R),R=0,P}}function E(I,T){return I.node(T).width}return wS}var SS,U3;function Vre(){if(U3)return SS;U3=1;let t=Jr(),e=Ure().positionX;SS=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,l=0;s.forEach(c=>{const d=c.reduce((f,h)=>{const b=i.node(h).height;return f>b?f:b},0);c.forEach(f=>i.node(f).y=l+d/2),l+=d+o})}return SS}var ES,V3;function Hre(){if(V3)return ES;V3=1;let t=Ire(),e=Cre(),n=Ore(),r=Jr().normalizeRanks,i=qre(),s=Jr().removeEmptyRanks,o=Rre(),l=jre(),c=Are(),d=Wre(),f=Vre(),h=Jr(),b=To().Graph;ES=x;function x(de,ye){let _e=ye&&ye.debugTiming?h.time:h.notime;_e("layout",()=>{let Ne=_e("  buildLayoutGraph",()=>P(de));_e("  runLayout",()=>w(Ne,_e,ye)),_e("  updateInputGraph",()=>E(de,Ne))})}function w(de,ye,_e){ye("    makeSpaceForEdgeLabels",()=>R(de)),ye("    removeSelfEdges",()=>se(de)),ye("    acyclic",()=>t.run(de)),ye("    nestingGraph.run",()=>o.run(de)),ye("    rank",()=>n(h.asNonCompoundGraph(de))),ye("    injectEdgeLabelProxies",()=>M(de)),ye("    removeEmptyRanks",()=>s(de)),ye("    nestingGraph.cleanup",()=>o.cleanup(de)),ye("    normalizeRanks",()=>r(de)),ye("    assignRankMinMax",()=>F(de)),ye("    removeEdgeLabelProxies",()=>W(de)),ye("    normalize.run",()=>e.run(de)),ye("    parentDummyChains",()=>i(de)),ye("    addBorderSegments",()=>l(de)),ye("    order",()=>d(de,_e)),ye("    insertSelfEdges",()=>ne(de)),ye("    adjustCoordinateSystem",()=>c.adjust(de)),ye("    position",()=>f(de)),ye("    positionSelfEdges",()=>oe(de)),ye("    removeBorderNodes",()=>le(de)),ye("    normalize.undo",()=>e.undo(de)),ye("    fixupEdgeLabelCoords",()=>ee(de)),ye("    undoCoordinateSystem",()=>c.undo(de)),ye("    translateGraph",()=>V(de)),ye("    assignNodeIntersects",()=>B(de)),ye("    reversePoints",()=>J(de)),ye("    acyclic.undo",()=>t.undo(de))}function E(de,ye){de.nodes().forEach(_e=>{let Ne=de.node(_e),ze=ye.node(_e);Ne&&(Ne.x=ze.x,Ne.y=ze.y,Ne.rank=ze.rank,ye.children(_e).length&&(Ne.width=ze.width,Ne.height=ze.height))}),de.edges().forEach(_e=>{let Ne=de.edge(_e),ze=ye.edge(_e);Ne.points=ze.points,Object.hasOwn(ze,"x")&&(Ne.x=ze.x,Ne.y=ze.y)}),de.graph().width=ye.graph().width,de.graph().height=ye.graph().height}let I=["nodesep","edgesep","ranksep","marginx","marginy"],T={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},O=["acyclicer","ranker","rankdir","align"],q=["width","height"],A={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],L={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function P(de){let ye=new b({multigraph:!0,compound:!0}),_e=ce(de.graph());return ye.setGraph(Object.assign({},T,X(_e,I),h.pick(_e,O))),de.nodes().forEach(Ne=>{let ze=ce(de.node(Ne));const qe=X(ze,q);Object.keys(A).forEach(De=>{qe[De]===void 0&&(qe[De]=A[De])}),ye.setNode(Ne,qe),ye.setParent(Ne,de.parent(Ne))}),de.edges().forEach(Ne=>{let ze=ce(de.edge(Ne));ye.setEdge(Ne,Object.assign({},L,X(ze,D),h.pick(ze,z)))}),ye}function R(de){let ye=de.graph();ye.ranksep/=2,de.edges().forEach(_e=>{let Ne=de.edge(_e);Ne.minlen*=2,Ne.labelpos.toLowerCase()!=="c"&&(ye.rankdir==="TB"||ye.rankdir==="BT"?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}function M(de){de.edges().forEach(ye=>{let _e=de.edge(ye);if(_e.width&&_e.height){let Ne=de.node(ye.v),qe={rank:(de.node(ye.w).rank-Ne.rank)/2+Ne.rank,e:ye};h.addDummyNode(de,"edge-proxy",qe,"_ep")}})}function F(de){let ye=0;de.nodes().forEach(_e=>{let Ne=de.node(_e);Ne.borderTop&&(Ne.minRank=de.node(Ne.borderTop).rank,Ne.maxRank=de.node(Ne.borderBottom).rank,ye=Math.max(ye,Ne.maxRank))}),de.graph().maxRank=ye}function W(de){de.nodes().forEach(ye=>{let _e=de.node(ye);_e.dummy==="edge-proxy"&&(de.edge(_e.e).labelRank=_e.rank,de.removeNode(ye))})}function V(de){let ye=Number.POSITIVE_INFINITY,_e=0,Ne=Number.POSITIVE_INFINITY,ze=0,qe=de.graph(),De=qe.marginx||0,Ze=qe.marginy||0;function Xe(Ue){let ut=Ue.x,wt=Ue.y,Tt=Ue.width,Wt=Ue.height;ye=Math.min(ye,ut-Tt/2),_e=Math.max(_e,ut+Tt/2),Ne=Math.min(Ne,wt-Wt/2),ze=Math.max(ze,wt+Wt/2)}de.nodes().forEach(Ue=>Xe(de.node(Ue))),de.edges().forEach(Ue=>{let ut=de.edge(Ue);Object.hasOwn(ut,"x")&&Xe(ut)}),ye-=De,Ne-=Ze,de.nodes().forEach(Ue=>{let ut=de.node(Ue);ut.x-=ye,ut.y-=Ne}),de.edges().forEach(Ue=>{let ut=de.edge(Ue);ut.points.forEach(wt=>{wt.x-=ye,wt.y-=Ne}),Object.hasOwn(ut,"x")&&(ut.x-=ye),Object.hasOwn(ut,"y")&&(ut.y-=Ne)}),qe.width=_e-ye+De,qe.height=ze-Ne+Ze}function B(de){de.edges().forEach(ye=>{let _e=de.edge(ye),Ne=de.node(ye.v),ze=de.node(ye.w),qe,De;_e.points?(qe=_e.points[0],De=_e.points[_e.points.length-1]):(_e.points=[],qe=ze,De=Ne),_e.points.unshift(h.intersectRect(Ne,qe)),_e.points.push(h.intersectRect(ze,De))})}function ee(de){de.edges().forEach(ye=>{let _e=de.edge(ye);if(Object.hasOwn(_e,"x"))switch((_e.labelpos==="l"||_e.labelpos==="r")&&(_e.width-=_e.labeloffset),_e.labelpos){case"l":_e.x-=_e.width/2+_e.labeloffset;break;case"r":_e.x+=_e.width/2+_e.labeloffset;break}})}function J(de){de.edges().forEach(ye=>{let _e=de.edge(ye);_e.reversed&&_e.points.reverse()})}function le(de){de.nodes().forEach(ye=>{if(de.children(ye).length){let _e=de.node(ye),Ne=de.node(_e.borderTop),ze=de.node(_e.borderBottom),qe=de.node(_e.borderLeft[_e.borderLeft.length-1]),De=de.node(_e.borderRight[_e.borderRight.length-1]);_e.width=Math.abs(De.x-qe.x),_e.height=Math.abs(ze.y-Ne.y),_e.x=qe.x+_e.width/2,_e.y=Ne.y+_e.height/2}}),de.nodes().forEach(ye=>{de.node(ye).dummy==="border"&&de.removeNode(ye)})}function se(de){de.edges().forEach(ye=>{if(ye.v===ye.w){var _e=de.node(ye.v);_e.selfEdges||(_e.selfEdges=[]),_e.selfEdges.push({e:ye,label:de.edge(ye)}),de.removeEdge(ye)}})}function ne(de){var ye=h.buildLayerMatrix(de);ye.forEach(_e=>{var Ne=0;_e.forEach((ze,qe)=>{var De=de.node(ze);De.order=qe+Ne,(De.selfEdges||[]).forEach(Ze=>{h.addDummyNode(de,"selfedge",{width:Ze.label.width,height:Ze.label.height,rank:De.rank,order:qe+ ++Ne,e:Ze.e,label:Ze.label},"_se")}),delete De.selfEdges})})}function oe(de){de.nodes().forEach(ye=>{var _e=de.node(ye);if(_e.dummy==="selfedge"){var Ne=de.node(_e.e.v),ze=Ne.x+Ne.width/2,qe=Ne.y,De=_e.x-ze,Ze=Ne.height/2;de.setEdge(_e.e,_e.label),de.removeNode(ye),_e.label.points=[{x:ze+2*De/3,y:qe-Ze},{x:ze+5*De/6,y:qe-Ze},{x:ze+De,y:qe},{x:ze+5*De/6,y:qe+Ze},{x:ze+2*De/3,y:qe+Ze}],_e.label.x=_e.x,_e.label.y=_e.y}})}function X(de,ye){return h.mapValues(h.pick(de,ye),Number)}function ce(de){var ye={};return de&&Object.entries(de).forEach(([_e,Ne])=>{typeof _e=="string"&&(_e=_e.toLowerCase()),ye[_e]=Ne}),ye}return ES}var NS,H3;function Qre(){if(H3)return NS;H3=1;let t=Jr(),e=To().Graph;NS={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,l)=>{let c="layer"+l;s.setNode(c,{rank:"same"}),o.reduce((d,f)=>(s.setEdge(d,f,{style:"invis"}),f))}),s}return NS}var kS,Q3;function Kre(){return Q3||(Q3=1,kS="1.1.4"),kS}var IS,K3;function Gre(){return K3||(K3=1,IS={graphlib:To(),layout:Hre(),debug:Qre(),util:{time:Jr().time,notime:Jr().notime},version:Kre()}),IS}var Zre=Gre();const $L=to(Zre);var xm=t=>t.type==="checkbox",Bu=t=>t instanceof Date,Pi=t=>t==null;const BL=t=>typeof t=="object";var zr=t=>!Pi(t)&&!Array.isArray(t)&&BL(t)&&!Bu(t),zL=t=>zr(t)&&t.target?xm(t.target)?t.target.checked:t.target.value:t,Jre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,WL=(t,e)=>t.has(Jre(e)),Yre=t=>{const e=t.constructor&&t.constructor.prototype;return zr(e)&&e.hasOwnProperty("isPrototypeOf")},LN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function os(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(LN&&(t instanceof Blob||r))&&(n||zr(t)))if(e=n?[]:{},!n&&!Yre(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=os(t[i]));else return t;return e}var ix=t=>Array.isArray(t)?t.filter(Boolean):[],$r=t=>t===void 0,Et=(t,e,n)=>{if(!e||!zr(t))return n;const r=ix(e.split(/[,[\].]+?/)).reduce((i,s)=>Pi(i)?i:i[s],t);return $r(r)||r===t?$r(t[e])?n:t[e]:r},Zs=t=>typeof t=="boolean",MN=t=>/^\w*$/.test(t),UL=t=>ix(t.replace(/["|']|\]/g,"").split(/\.|\[/)),zn=(t,e,n)=>{let r=-1;const i=MN(e)?[e]:UL(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=zr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const Xv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Na={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Xre=$n.createContext(null),$N=()=>$n.useContext(Xre);var VL=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==xo.all&&(e._proxyFormState[o]=!r||xo.all),n&&(n[o]=!0),t[o]}});return i},as=t=>zr(t)&&!Object.keys(t).length,HL=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return as(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||xo.all))},th=t=>Array.isArray(t)?t:[t],QL=(t,e,n)=>!t||!e||t===e||th(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function BN(t){const e=$n.useRef(t);e.current=t,$n.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function eie(t){const e=$N(),{control:n=e.control,disabled:r,name:i,exact:s}=t,[o,l]=$n.useState(n._formState),c=$n.useRef(!0),d=$n.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=$n.useRef(i);return f.current=i,BN({disabled:r,next:h=>c.current&&QL(f.current,h.name,s)&&HL(h,d.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),$n.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),$n.useMemo(()=>VL(o,n,d.current,!1),[o,n])}var Vo=t=>typeof t=="string",KL=(t,e,n,r,i)=>Vo(t)?(r&&e.watch.add(t),Et(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Et(n,s))):(r&&(e.watchAll=!0),n);function tie(t){const e=$N(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t,l=$n.useRef(r);l.current=r,BN({disabled:s,subject:n._subjects.values,next:f=>{QL(l.current,f.name,o)&&d(os(KL(l.current,n._names,f.values||n._formValues,!1,i)))}});const[c,d]=$n.useState(n._getWatch(r,i));return $n.useEffect(()=>n._removeUnmounted()),c}function nie(t){const e=$N(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=WL(i._names.array,n),l=tie({control:i,name:n,defaultValue:Et(i._formValues,n,Et(i._defaultValues,n,t.defaultValue)),exact:!0}),c=eie({control:i,name:n,exact:!0}),d=$n.useRef(i.register(n,{...t.rules,value:l,...Zs(t.disabled)?{disabled:t.disabled}:{}})),f=$n.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Et(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Et(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Et(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Et(c.validatingFields,n)},error:{enumerable:!0,get:()=>Et(c.errors,n)}}),[c,n]),h=$n.useMemo(()=>({name:n,value:l,...Zs(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:b=>d.current.onChange({target:{value:zL(b),name:n},type:Xv.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:Et(i._formValues,n),name:n},type:Xv.BLUR}),ref:b=>{const x=Et(i._fields,n);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:w=>b.setCustomValidity(w),reportValidity:()=>b.reportValidity()})}}),[n,i._formValues,r,c.disabled,l,i._fields]);return $n.useEffect(()=>{const b=i._options.shouldUnregister||s,x=(w,E)=>{const I=Et(i._fields,w);I&&I._f&&(I._f.mount=E)};if(x(n,!0),b){const w=os(Et(i._options.defaultValues,n));zn(i._defaultValues,n,w),$r(Et(i._formValues,n))&&zn(i._formValues,n,w)}return!o&&i.register(n),()=>{(o?b&&!i._state.action:b)?i.unregister(n):x(n,!1)}},[n,i,o,s]),$n.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),$n.useMemo(()=>({field:h,formState:c,fieldState:f}),[h,c,f])}const ps=t=>t.render(nie(t));var GL=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},G3=t=>({isOnSubmit:!t||t===xo.onSubmit,isOnBlur:t===xo.onBlur,isOnChange:t===xo.onChange,isOnAll:t===xo.all,isOnTouch:t===xo.onTouched}),Z3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const nh=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Et(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(nh(l,e))break}else if(zr(l)&&nh(l,e))break}}};var rie=(t,e,n)=>{const r=th(Et(t,n));return zn(r,"root",e[n]),zn(t,n,r),t},zN=t=>t.type==="file",zo=t=>typeof t=="function",eb=t=>{if(!LN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ay=t=>Vo(t),WN=t=>t.type==="radio",tb=t=>t instanceof RegExp;const J3={value:!1,isValid:!1},Y3={value:!0,isValid:!0};var ZL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$r(t[0].attributes.value)?$r(t[0].value)||t[0].value===""?Y3:{value:t[0].value,isValid:!0}:Y3:J3}return J3};const X3={isValid:!1,value:null};var JL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,X3):X3;function ej(t,e,n="validate"){if(Ay(t)||Array.isArray(t)&&t.every(Ay)||Zs(t)&&!t)return{type:n,message:Ay(t)?t:"",ref:e}}var Zc=t=>zr(t)&&!tb(t)?t:{value:t,message:""},tj=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:h,max:b,pattern:x,validate:w,name:E,valueAsNumber:I,mount:T}=t._f,O=Et(n,E);if(!T||e.has(E))return{};const q=l?l[0]:o,A=W=>{i&&q.reportValidity&&(q.setCustomValidity(Zs(W)?"":W||""),q.reportValidity())},D={},L=WN(o),z=xm(o),P=L||z,R=(I||zN(o))&&$r(o.value)&&$r(O)||eb(o)&&o.value===""||O===""||Array.isArray(O)&&!O.length,M=GL.bind(null,E,r,D),F=(W,V,B,ee=Na.maxLength,J=Na.minLength)=>{const le=W?V:B;D[E]={type:W?ee:J,message:le,ref:o,...M(W?ee:J,le)}};if(s?!Array.isArray(O)||!O.length:c&&(!P&&(R||Pi(O))||Zs(O)&&!O||z&&!ZL(l).isValid||L&&!JL(l).isValid)){const{value:W,message:V}=Ay(c)?{value:!!c,message:c}:Zc(c);if(W&&(D[E]={type:Na.required,message:V,ref:q,...M(Na.required,V)},!r))return A(V),D}if(!R&&(!Pi(h)||!Pi(b))){let W,V;const B=Zc(b),ee=Zc(h);if(!Pi(O)&&!isNaN(O)){const J=o.valueAsNumber||O&&+O;Pi(B.value)||(W=J>B.value),Pi(ee.value)||(V=J<ee.value)}else{const J=o.valueAsDate||new Date(O),le=oe=>new Date(new Date().toDateString()+" "+oe),se=o.type=="time",ne=o.type=="week";Vo(B.value)&&O&&(W=se?le(O)>le(B.value):ne?O>B.value:J>new Date(B.value)),Vo(ee.value)&&O&&(V=se?le(O)<le(ee.value):ne?O<ee.value:J<new Date(ee.value))}if((W||V)&&(F(!!W,B.message,ee.message,Na.max,Na.min),!r))return A(D[E].message),D}if((d||f)&&!R&&(Vo(O)||s&&Array.isArray(O))){const W=Zc(d),V=Zc(f),B=!Pi(W.value)&&O.length>+W.value,ee=!Pi(V.value)&&O.length<+V.value;if((B||ee)&&(F(B,W.message,V.message),!r))return A(D[E].message),D}if(x&&!R&&Vo(O)){const{value:W,message:V}=Zc(x);if(tb(W)&&!O.match(W)&&(D[E]={type:Na.pattern,message:V,ref:o,...M(Na.pattern,V)},!r))return A(V),D}if(w){if(zo(w)){const W=await w(O,n),V=ej(W,q);if(V&&(D[E]={...V,...M(Na.validate,V.message)},!r))return A(V.message),D}else if(zr(w)){let W={};for(const V in w){if(!as(W)&&!r)break;const B=ej(await w[V](O,n),q,V);B&&(W={...B,...M(V,B.message)},A(B.message),r&&(D[E]=W))}if(!as(W)&&(D[E]={ref:q,...W},!r))return D}}return A(!0),D};function iie(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=$r(t)?r++:t[e[r++]];return t}function sie(t){for(const e in t)if(t.hasOwnProperty(e)&&!$r(t[e]))return!1;return!0}function ti(t,e){const n=Array.isArray(e)?e:MN(e)?[e]:UL(e),r=n.length===1?t:iie(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(zr(r)&&as(r)||Array.isArray(r)&&sie(r))&&ti(t,n.slice(0,-1)),t}var CS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},s1=t=>Pi(t)||!BL(t);function Cl(t,e){if(s1(t)||s1(e))return t===e;if(Bu(t)&&Bu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Bu(s)&&Bu(o)||zr(s)&&zr(o)||Array.isArray(s)&&Array.isArray(o)?!Cl(s,o):s!==o)return!1}}return!0}var YL=t=>t.type==="select-multiple",oie=t=>WN(t)||xm(t),TS=t=>eb(t)&&t.isConnected,XL=t=>{for(const e in t)if(zo(t[e]))return!0;return!1};function nb(t,e={}){const n=Array.isArray(t);if(zr(t)||n)for(const r in t)Array.isArray(t[r])||zr(t[r])&&!XL(t[r])?(e[r]=Array.isArray(t[r])?[]:{},nb(t[r],e[r])):Pi(t[r])||(e[r]=!0);return e}function eM(t,e,n){const r=Array.isArray(t);if(zr(t)||r)for(const i in t)Array.isArray(t[i])||zr(t[i])&&!XL(t[i])?$r(e)||s1(n[i])?n[i]=Array.isArray(t[i])?nb(t[i],[]):{...nb(t[i])}:eM(t[i],Pi(e)?{}:e[i],n[i]):n[i]=!Cl(t[i],e[i]);return n}var gp=(t,e)=>eM(t,e,nb(e)),tM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>$r(t)?t:e?t===""?NaN:t&&+t:n&&Vo(t)?new Date(t):r?r(t):t;function OS(t){const e=t.ref;return zN(e)?e.files:WN(e)?JL(t.refs).value:YL(e)?[...e.selectedOptions].map(({value:n})=>n):xm(e)?ZL(t.refs).value:tM($r(e.value)?t.ref.value:e.value,t)}var aie=(t,e,n,r)=>{const i={};for(const s of t){const o=Et(e,s);o&&zn(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},yp=t=>$r(t)?t:tb(t)?t.source:zr(t)?tb(t.value)?t.value.source:t.value:t;const nj="AsyncFunction";var lie=t=>!!t&&!!t.validate&&!!(zo(t.validate)&&t.validate.constructor.name===nj||zr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===nj)),uie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function rj(t,e,n){const r=Et(t,n);if(r||MN(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Et(e,s),l=Et(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var cie=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,die=(t,e)=>!ix(Et(t,e)).length&&ti(t,e);const fie={mode:xo.onSubmit,reValidateMode:xo.onChange,shouldFocusError:!0};function pie(t={}){let e={...fie,...t},n={submitCount:0,isDirty:!1,isLoading:zo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=zr(e.defaultValues)||zr(e.values)?os(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:os(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:CS(),array:CS(),state:CS()},b=G3(e.mode),x=G3(e.reValidateMode),w=e.criteriaMode===xo.all,E=xe=>ve=>{clearTimeout(d),d=setTimeout(xe,ve)},I=async xe=>{if(!e.disabled&&(f.isValid||xe)){const ve=e.resolver?as((await P()).errors):await M(r,!0);ve!==n.isValid&&h.state.next({isValid:ve})}},T=(xe,ve)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((xe||Array.from(l.mount)).forEach(ke=>{ke&&(ve?zn(n.validatingFields,ke,ve):ti(n.validatingFields,ke))}),h.state.next({validatingFields:n.validatingFields,isValidating:!as(n.validatingFields)}))},O=(xe,ve=[],ke,Ae,Ve=!0,rt=!0)=>{if(Ae&&ke&&!e.disabled){if(o.action=!0,rt&&Array.isArray(Et(r,xe))){const Me=ke(Et(r,xe),Ae.argA,Ae.argB);Ve&&zn(r,xe,Me)}if(rt&&Array.isArray(Et(n.errors,xe))){const Me=ke(Et(n.errors,xe),Ae.argA,Ae.argB);Ve&&zn(n.errors,xe,Me),die(n.errors,xe)}if(f.touchedFields&&rt&&Array.isArray(Et(n.touchedFields,xe))){const Me=ke(Et(n.touchedFields,xe),Ae.argA,Ae.argB);Ve&&zn(n.touchedFields,xe,Me)}f.dirtyFields&&(n.dirtyFields=gp(i,s)),h.state.next({name:xe,isDirty:W(xe,ve),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else zn(s,xe,ve)},q=(xe,ve)=>{zn(n.errors,xe,ve),h.state.next({errors:n.errors})},A=xe=>{n.errors=xe,h.state.next({errors:n.errors,isValid:!1})},D=(xe,ve,ke,Ae)=>{const Ve=Et(r,xe);if(Ve){const rt=Et(s,xe,$r(ke)?Et(i,xe):ke);$r(rt)||Ae&&Ae.defaultChecked||ve?zn(s,xe,ve?rt:OS(Ve._f)):ee(xe,rt),o.mount&&I()}},L=(xe,ve,ke,Ae,Ve)=>{let rt=!1,Me=!1;const ct={name:xe};if(!e.disabled){const Ht=!!(Et(r,xe)&&Et(r,xe)._f&&Et(r,xe)._f.disabled);if(!ke||Ae){f.isDirty&&(Me=n.isDirty,n.isDirty=ct.isDirty=W(),rt=Me!==ct.isDirty);const Qt=Ht||Cl(Et(i,xe),ve);Me=!!(!Ht&&Et(n.dirtyFields,xe)),Qt||Ht?ti(n.dirtyFields,xe):zn(n.dirtyFields,xe,!0),ct.dirtyFields=n.dirtyFields,rt=rt||f.dirtyFields&&Me!==!Qt}if(ke){const Qt=Et(n.touchedFields,xe);Qt||(zn(n.touchedFields,xe,ke),ct.touchedFields=n.touchedFields,rt=rt||f.touchedFields&&Qt!==ke)}rt&&Ve&&h.state.next(ct)}return rt?ct:{}},z=(xe,ve,ke,Ae)=>{const Ve=Et(n.errors,xe),rt=f.isValid&&Zs(ve)&&n.isValid!==ve;if(e.delayError&&ke?(c=E(()=>q(xe,ke)),c(e.delayError)):(clearTimeout(d),c=null,ke?zn(n.errors,xe,ke):ti(n.errors,xe)),(ke?!Cl(Ve,ke):Ve)||!as(Ae)||rt){const Me={...Ae,...rt&&Zs(ve)?{isValid:ve}:{},errors:n.errors,name:xe};n={...n,...Me},h.state.next(Me)}},P=async xe=>{T(xe,!0);const ve=await e.resolver(s,e.context,aie(xe||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(xe),ve},R=async xe=>{const{errors:ve}=await P(xe);if(xe)for(const ke of xe){const Ae=Et(ve,ke);Ae?zn(n.errors,ke,Ae):ti(n.errors,ke)}else n.errors=ve;return ve},M=async(xe,ve,ke={valid:!0})=>{for(const Ae in xe){const Ve=xe[Ae];if(Ve){const{_f:rt,...Me}=Ve;if(rt){const ct=l.array.has(rt.name),Ht=Ve._f&&lie(Ve._f);Ht&&f.validatingFields&&T([Ae],!0);const Qt=await tj(Ve,l.disabled,s,w,e.shouldUseNativeValidation&&!ve,ct);if(Ht&&f.validatingFields&&T([Ae]),Qt[rt.name]&&(ke.valid=!1,ve))break;!ve&&(Et(Qt,rt.name)?ct?rie(n.errors,Qt,rt.name):zn(n.errors,rt.name,Qt[rt.name]):ti(n.errors,rt.name))}!as(Me)&&await M(Me,ve,ke)}}return ke.valid},F=()=>{for(const xe of l.unMount){const ve=Et(r,xe);ve&&(ve._f.refs?ve._f.refs.every(ke=>!TS(ke)):!TS(ve._f.ref))&&Ne(xe)}l.unMount=new Set},W=(xe,ve)=>!e.disabled&&(xe&&ve&&zn(s,xe,ve),!Cl(X(),i)),V=(xe,ve,ke)=>KL(xe,l,{...o.mount?s:$r(ve)?i:Vo(xe)?{[xe]:ve}:ve},ke,ve),B=xe=>ix(Et(o.mount?s:i,xe,e.shouldUnregister?Et(i,xe,[]):[])),ee=(xe,ve,ke={})=>{const Ae=Et(r,xe);let Ve=ve;if(Ae){const rt=Ae._f;rt&&(!rt.disabled&&zn(s,xe,tM(ve,rt)),Ve=eb(rt.ref)&&Pi(ve)?"":ve,YL(rt.ref)?[...rt.ref.options].forEach(Me=>Me.selected=Ve.includes(Me.value)):rt.refs?xm(rt.ref)?rt.refs.length>1?rt.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(Ve)?!!Ve.find(ct=>ct===Me.value):Ve===Me.value)):rt.refs[0]&&(rt.refs[0].checked=!!Ve):rt.refs.forEach(Me=>Me.checked=Me.value===Ve):zN(rt.ref)?rt.ref.value="":(rt.ref.value=Ve,rt.ref.type||h.values.next({name:xe,values:{...s}})))}(ke.shouldDirty||ke.shouldTouch)&&L(xe,Ve,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&oe(xe)},J=(xe,ve,ke)=>{for(const Ae in ve){const Ve=ve[Ae],rt=`${xe}.${Ae}`,Me=Et(r,rt);(l.array.has(xe)||zr(Ve)||Me&&!Me._f)&&!Bu(Ve)?J(rt,Ve,ke):ee(rt,Ve,ke)}},le=(xe,ve,ke={})=>{const Ae=Et(r,xe),Ve=l.array.has(xe),rt=os(ve);zn(s,xe,rt),Ve?(h.array.next({name:xe,values:{...s}}),(f.isDirty||f.dirtyFields)&&ke.shouldDirty&&h.state.next({name:xe,dirtyFields:gp(i,s),isDirty:W(xe,rt)})):Ae&&!Ae._f&&!Pi(rt)?J(xe,rt,ke):ee(xe,rt,ke),Z3(xe,l)&&h.state.next({...n}),h.values.next({name:o.mount?xe:void 0,values:{...s}})},se=async xe=>{o.mount=!0;const ve=xe.target;let ke=ve.name,Ae=!0;const Ve=Et(r,ke),rt=()=>ve.type?OS(Ve._f):zL(xe),Me=ct=>{Ae=Number.isNaN(ct)||Bu(ct)&&isNaN(ct.getTime())||Cl(ct,Et(s,ke,ct))};if(Ve){let ct,Ht;const Qt=rt(),pn=xe.type===Xv.BLUR||xe.type===Xv.FOCUS_OUT,lr=!uie(Ve._f)&&!e.resolver&&!Et(n.errors,ke)&&!Ve._f.deps||cie(pn,Et(n.touchedFields,ke),n.isSubmitted,x,b),Dn=Z3(ke,l,pn);zn(s,ke,Qt),pn?(Ve._f.onBlur&&Ve._f.onBlur(xe),c&&c(0)):Ve._f.onChange&&Ve._f.onChange(xe);const Vr=L(ke,Qt,pn,!1),Oi=!as(Vr)||Dn;if(!pn&&h.values.next({name:ke,type:xe.type,values:{...s}}),lr)return f.isValid&&(e.mode==="onBlur"&&pn?I():pn||I()),Oi&&h.state.next({name:ke,...Dn?{}:Vr});if(!pn&&Dn&&h.state.next({...n}),e.resolver){const{errors:Cr}=await P([ke]);if(Me(Qt),Ae){const Kt=rj(n.errors,r,ke),Ki=rj(Cr,r,Kt.name||ke);ct=Ki.error,ke=Ki.name,Ht=as(Cr)}}else T([ke],!0),ct=(await tj(Ve,l.disabled,s,w,e.shouldUseNativeValidation))[ke],T([ke]),Me(Qt),Ae&&(ct?Ht=!1:f.isValid&&(Ht=await M(r,!0)));Ae&&(Ve._f.deps&&oe(Ve._f.deps),z(ke,Ht,ct,Vr))}},ne=(xe,ve)=>{if(Et(n.errors,ve)&&xe.focus)return xe.focus(),1},oe=async(xe,ve={})=>{let ke,Ae;const Ve=th(xe);if(e.resolver){const rt=await R($r(xe)?xe:Ve);ke=as(rt),Ae=xe?!Ve.some(Me=>Et(rt,Me)):ke}else xe?(Ae=(await Promise.all(Ve.map(async rt=>{const Me=Et(r,rt);return await M(Me&&Me._f?{[rt]:Me}:Me)}))).every(Boolean),!(!Ae&&!n.isValid)&&I()):Ae=ke=await M(r);return h.state.next({...!Vo(xe)||f.isValid&&ke!==n.isValid?{}:{name:xe},...e.resolver||!xe?{isValid:ke}:{},errors:n.errors}),ve.shouldFocus&&!Ae&&nh(r,ne,xe?Ve:l.mount),Ae},X=xe=>{const ve={...o.mount?s:i};return $r(xe)?ve:Vo(xe)?Et(ve,xe):xe.map(ke=>Et(ve,ke))},ce=(xe,ve)=>({invalid:!!Et((ve||n).errors,xe),isDirty:!!Et((ve||n).dirtyFields,xe),error:Et((ve||n).errors,xe),isValidating:!!Et(n.validatingFields,xe),isTouched:!!Et((ve||n).touchedFields,xe)}),de=xe=>{xe&&th(xe).forEach(ve=>ti(n.errors,ve)),h.state.next({errors:xe?n.errors:{}})},ye=(xe,ve,ke)=>{const Ae=(Et(r,xe,{_f:{}})._f||{}).ref,Ve=Et(n.errors,xe)||{},{ref:rt,message:Me,type:ct,...Ht}=Ve;zn(n.errors,xe,{...Ht,...ve,ref:Ae}),h.state.next({name:xe,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},_e=(xe,ve)=>zo(xe)?h.values.subscribe({next:ke=>xe(V(void 0,ve),ke)}):V(xe,ve,!0),Ne=(xe,ve={})=>{for(const ke of xe?th(xe):l.mount)l.mount.delete(ke),l.array.delete(ke),ve.keepValue||(ti(r,ke),ti(s,ke)),!ve.keepError&&ti(n.errors,ke),!ve.keepDirty&&ti(n.dirtyFields,ke),!ve.keepTouched&&ti(n.touchedFields,ke),!ve.keepIsValidating&&ti(n.validatingFields,ke),!e.shouldUnregister&&!ve.keepDefaultValue&&ti(i,ke);h.values.next({values:{...s}}),h.state.next({...n,...ve.keepDirty?{isDirty:W()}:{}}),!ve.keepIsValid&&I()},ze=({disabled:xe,name:ve,field:ke,fields:Ae})=>{(Zs(xe)&&o.mount||xe||l.disabled.has(ve))&&(xe?l.disabled.add(ve):l.disabled.delete(ve),L(ve,OS(ke?ke._f:Et(Ae,ve)._f),!1,!1,!0))},qe=(xe,ve={})=>{let ke=Et(r,xe);const Ae=Zs(ve.disabled)||Zs(e.disabled);return zn(r,xe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:xe}},name:xe,mount:!0,...ve}}),l.mount.add(xe),ke?ze({field:ke,disabled:Zs(ve.disabled)?ve.disabled:e.disabled,name:xe}):D(xe,!0,ve.value),{...Ae?{disabled:ve.disabled||e.disabled}:{},...e.progressive?{required:!!ve.required,min:yp(ve.min),max:yp(ve.max),minLength:yp(ve.minLength),maxLength:yp(ve.maxLength),pattern:yp(ve.pattern)}:{},name:xe,onChange:se,onBlur:se,ref:Ve=>{if(Ve){qe(xe,ve),ke=Et(r,xe);const rt=$r(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,Me=oie(rt),ct=ke._f.refs||[];if(Me?ct.find(Ht=>Ht===rt):rt===ke._f.ref)return;zn(r,xe,{_f:{...ke._f,...Me?{refs:[...ct.filter(TS),rt,...Array.isArray(Et(i,xe))?[{}]:[]],ref:{type:rt.type,name:xe}}:{ref:rt}}}),D(xe,!1,void 0,rt)}else ke=Et(r,xe,{}),ke._f&&(ke._f.mount=!1),(e.shouldUnregister||ve.shouldUnregister)&&!(WL(l.array,xe)&&o.action)&&l.unMount.add(xe)}}},De=()=>e.shouldFocusError&&nh(r,ne,l.mount),Ze=xe=>{Zs(xe)&&(h.state.next({disabled:xe}),nh(r,(ve,ke)=>{const Ae=Et(r,ke);Ae&&(ve.disabled=Ae._f.disabled||xe,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Ve=>{Ve.disabled=Ae._f.disabled||xe}))},0,!1))},Xe=(xe,ve)=>async ke=>{let Ae;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ve=os(s);if(l.disabled.size)for(const rt of l.disabled)zn(Ve,rt,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:rt,values:Me}=await P();n.errors=rt,Ve=Me}else await M(r);if(ti(n.errors,"root"),as(n.errors)){h.state.next({errors:{}});try{await xe(Ve,ke)}catch(rt){Ae=rt}}else ve&&await ve({...n.errors},ke),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:as(n.errors)&&!Ae,submitCount:n.submitCount+1,errors:n.errors}),Ae)throw Ae},Ue=(xe,ve={})=>{Et(r,xe)&&($r(ve.defaultValue)?le(xe,os(Et(i,xe))):(le(xe,ve.defaultValue),zn(i,xe,os(ve.defaultValue))),ve.keepTouched||ti(n.touchedFields,xe),ve.keepDirty||(ti(n.dirtyFields,xe),n.isDirty=ve.defaultValue?W(xe,os(Et(i,xe))):W()),ve.keepError||(ti(n.errors,xe),f.isValid&&I()),h.state.next({...n}))},ut=(xe,ve={})=>{const ke=xe?os(xe):i,Ae=os(ke),Ve=as(xe),rt=Ve?i:Ae;if(ve.keepDefaultValues||(i=ke),!ve.keepValues){if(ve.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(gp(i,s))]);for(const ct of Array.from(Me))Et(n.dirtyFields,ct)?zn(rt,ct,Et(s,ct)):le(ct,Et(rt,ct))}else{if(LN&&$r(xe))for(const Me of l.mount){const ct=Et(r,Me);if(ct&&ct._f){const Ht=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(eb(Ht)){const Qt=Ht.closest("form");if(Qt){Qt.reset();break}}}}r={}}s=e.shouldUnregister?ve.keepDefaultValues?os(i):{}:os(rt),h.array.next({values:{...rt}}),h.values.next({values:{...rt}})}l={mount:ve.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:ve.keepSubmitCount?n.submitCount:0,isDirty:Ve?!1:ve.keepDirty?n.isDirty:!!(ve.keepDefaultValues&&!Cl(xe,i)),isSubmitted:ve.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ve?{}:ve.keepDirtyValues?ve.keepDefaultValues&&s?gp(i,s):n.dirtyFields:ve.keepDefaultValues&&xe?gp(i,xe):ve.keepDirty?n.dirtyFields:{},touchedFields:ve.keepTouched?n.touchedFields:{},errors:ve.keepErrors?n.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},wt=(xe,ve)=>ut(zo(xe)?xe(s):xe,ve);return{control:{register:qe,unregister:Ne,getFieldState:ce,handleSubmit:Xe,setError:ye,_executeSchema:P,_getWatch:V,_getDirty:W,_updateValid:I,_removeUnmounted:F,_updateFieldArray:O,_updateDisabledField:ze,_getFieldArray:B,_reset:ut,_resetDefaultValues:()=>zo(e.defaultValues)&&e.defaultValues().then(xe=>{wt(xe,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:xe=>{n={...n,...xe}},_disableForm:Ze,_subjects:h,_proxyFormState:f,_setErrors:A,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(xe){o=xe},get _defaultValues(){return i},get _names(){return l},set _names(xe){l=xe},get _formState(){return n},set _formState(xe){n=xe},get _options(){return e},set _options(xe){e={...e,...xe}}},trigger:oe,register:qe,handleSubmit:Xe,watch:_e,setValue:le,getValues:X,reset:wt,resetField:Ue,clearErrors:de,unregister:Ne,setError:ye,setFocus:(xe,ve={})=>{const ke=Et(r,xe),Ae=ke&&ke._f;if(Ae){const Ve=Ae.refs?Ae.refs[0]:Ae.ref;Ve.focus&&(Ve.focus(),ve.shouldSelect&&zo(Ve.select)&&Ve.select())}},getFieldState:ce}}function Ci(t={}){const e=$n.useRef(void 0),n=$n.useRef(void 0),[r,i]=$n.useState({isDirty:!1,isValidating:!1,isLoading:zo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:zo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...pie(t),formState:r});const s=e.current.control;return s._options=t,BN({subject:s._subjects.state,next:o=>{HL(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),$n.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),$n.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),$n.useEffect(()=>{t.values&&!Cl(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),$n.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),$n.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),$n.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=VL(r,s),e.current}const ij=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Et(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},nM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?ij(r.ref,n,t):r.refs&&r.refs.forEach(i=>ij(i,n,t))}},hie=(t,e)=>{e.shouldUseNativeValidation&&nM(t,e);const n={};for(const r in t){const i=Et(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(mie(e.names||Object.keys(t),r)){const o=Object.assign({},Et(n,r));zn(o,"root",s),zn(n,r,o)}else zn(n,r,s)}return n},mie=(t,e)=>t.some(n=>n.startsWith(e+"."));var gie=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=GL(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},Ti=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&nM({},s),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:hie(gie(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const yie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({name:U.string().min(1),cycles:U.number().int(),sort:U.number().int(),limit:U.number().int()})),shape:t,filter:e,sort:["id","name","cycles","sort","limit"]}),vie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({blueprintId:U.string().min(1),conflictId:U.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","conflictId"]}),bie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({blueprintId:U.string().min(1),dependencyId:U.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","dependencyId"]}),xie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({blueprintId:U.string().min(1),inventoryId:U.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","inventoryId"]}),_ie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({blueprintId:U.string().min(1),resourceId:U.string().min(1),amount:U.number(),cycles:U.number().int()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","cycles"]}),wie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({blueprintProductionId:U.string().min(1),blueprintId:U.string().min(1)})),shape:t,filter:e,sort:["id","blueprintProductionId","blueprintId"]}),Sie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({blueprintProductionId:U.string().min(1),resourceId:U.string().min(1),amount:U.number(),passive:na()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount","passive"]}),Eie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({blueprintProductionId:U.string().min(1),resourceId:U.string().min(1),amount:U.number()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount"]}),Nie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({blueprintId:U.string().min(1),resourceId:U.string().min(1),amount:U.number(),passive:na()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","passive"]}),kie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({userId:U.string().min(1),blueprintId:U.string().min(1),x:U.number(),y:U.number()})),shape:t,filter:e,sort:["id","userId","blueprintId","x","y"]}),Iie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({resourceId:U.string().min(1),amount:U.number(),limit:U.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Cie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({resourceId:U.string().min(1),amount:U.number(),limit:U.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Tie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({name:U.string().min(1)})),shape:t,filter:e,sort:["id","name"]}),Oie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({code:U.string().min(1),label:U.string().min(1),group:U.string().nullish(),sort:U.number().int()})),shape:t,filter:e,sort:["id","code","label","group","sort"]}),qie=({shape:t,filter:e})=>Vi({entity:Wi.merge(U.object({name:U.string().min(1),login:U.string().min(1),password:U.string().min(1)})),shape:t,filter:e,sort:["id","name","login","password"]}),UN=yie({shape:U.object({name:U.string().min(1),cycles:Zp(),sort:Zp(),limit:Zp()}),filter:Ui.merge(U.object({name:U.string().optional()}))}),rb=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(UN.shape),defaultValues:{cycles:1,sort:0,limit:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"name",label:p.jsx(te,{label:"Building name (label)"}),required:!0,children:p.jsx("input",{type:"text",className:o.input(),...s.register("name")})}),p.jsx(kn,{formState:s.formState,name:"cycles",label:p.jsx(te,{label:"Construction cycles (label)"}),hint:p.jsx(te,{label:"Amount of cycles to build this building (hint)"}),required:!0,children:p.jsx("input",{type:"number",className:o.input(),min:1,...s.register("cycles")})}),p.jsx(kn,{formState:s.formState,name:"limit",label:p.jsx(te,{label:"Building limit (label)"}),hint:p.jsx(te,{label:"Maximum number of building a player can build (hint)"}),required:!0,children:p.jsx("input",{type:"number",className:o.input(),min:1,...s.register("limit")})}),p.jsx(kn,{formState:s.formState,name:"sort",label:p.jsx(te,{label:"Blueprint sort (label)"}),hint:p.jsx(te,{label:"Sort blueprints by this number (hint)"}),required:!0,children:p.jsx("input",{type:"number",className:o.input(),min:0,...s.register("sort")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:Tn,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},Rie=({id:t,data:e,isConnectable:n})=>{const{locale:r}=xn({from:"/$locale"}),i=Zd();return p.jsxs("div",{className:"min-w-[14rem]",onClick:()=>{i({to:"/$locale/apps/derivean/root/editor",params:{locale:r},search:{zoomTo:t}})},onDoubleClick:()=>{i({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t}})},children:[p.jsx(ia,{type:"target",position:Lt.Left,className:"w-4 h-4"}),p.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[p.jsx("div",{className:"flex flex-row items-center gap-2",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t},children:e.name})}),p.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:[p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(fn,{icon:ar,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:r,id:t}}),p.jsx(fn,{icon:Co,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:r,id:t}}),p.jsx(fn,{icon:_D,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:r,id:t}})]}),p.jsx("div",{children:p.jsx(uf,{target:p.jsx(fm,{iconEnabled:si,css:{base:["text-red-500"]}}),outside:!0,textTitle:p.jsx(te,{label:"Delete blueprint (modal)"}),css:{modal:["w-1/3"]},children:()=>{const s=pr([["Editor"]]);return p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async o=>o.deleteFrom("Blueprint").where("id","=",e.id).execute()),textContent:p.jsx(te,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:s})}})})]})]}),p.jsx(ia,{type:"source",position:Lt.Right,isConnectable:n,className:"w-4 h-4"})]})},jie=({nodeId:t})=>{const{fitView:e}=hf();return K.useEffect(()=>{t&&setTimeout(()=>{e({nodes:[{id:t}],duration:750,minZoom:1,maxZoom:1})},50)},[t]),null},Aie=({data:t,zoomTo:e})=>{const n=pr([]),r=tn({async mutationFn({blueprintId:i,dependencyId:s}){return Rt.transaction().execute(async o=>o.insertInto("Blueprint_Dependency").values({id:jn(),blueprintId:i,dependencyId:s}).execute())},async onSuccess(){await n()}});return p.jsx("div",{className:"w-fit h-fit mx-auto border border-slate-300 rounded-md shadow-md m-8",children:p.jsx("div",{style:{width:"95vw",height:"85vh"},children:p.jsxs(kL,{nodes:t.nodes,edges:t.edges,onConnect:i=>{r.mutate({blueprintId:i.target,dependencyId:i.source})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:K.useMemo(()=>({blueprint(i){return p.jsx(Rie,{...i})}}),[]),edgeTypes:K.useMemo(()=>({dependency({id:i,sourceX:s,sourceY:o,targetX:l,targetY:c,sourcePosition:d,targetPosition:f,style:h={},markerEnd:b}){const{setEdges:x}=hf(),[w,E,I]=IN({sourceX:s,sourceY:o,sourcePosition:d,targetX:l,targetY:c,targetPosition:f}),T=pr([]),O=tn({async mutationFn({id:q}){return Rt.transaction().execute(async A=>{await A.deleteFrom("Blueprint_Dependency").where("id","=",q).execute()})},async onSuccess(){x(q=>q.filter(A=>A.id!==i)),await T()}});return p.jsxs(p.Fragment,{children:[p.jsx(bm,{path:w,markerEnd:b,style:h}),p.jsx(bne,{children:p.jsx("div",{className:Ei("nodrag nopan",["flex","items-center","justify-center","cursor-pointer","bg-red-200","text-red-500","border","border-red-300","hover:border-red-600","hover:bg-red-300","hover:text-red-700","rounded-full","w-4","h-4","z-20"]),style:{position:"absolute",pointerEvents:"all",transformOrigin:"center",transform:`translate(-50%, -50%) translate(${E}px,${I}px)`},children:p.jsx(an,{icon:O.isPending?hK:cN,onClick:()=>{O.mutate({id:i})}})})})]})}}),[]),children:[p.jsx(jie,{nodeId:e}),p.jsx(OL,{orientation:"horizontal",showInteractive:!1,showZoom:!1,children:p.jsx(uf,{target:p.jsx(fm,{className:"react-flow__controls-button",iconEnabled:Tn}),outside:!1,textTitle:p.jsx(te,{label:"Create blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:i})=>{const s=pr([["Editor"]]),{locale:o}=xn({from:"/$locale"}),l=Zd();return p.jsx(rb,{mutation:tn({async mutationFn(c){return En.promise(Rt.transaction().execute(d=>d.insertInto("Blueprint").values({id:jn(),...c}).returningAll().executeTakeFirstOrThrow()),hr("Create blueprint"))},async onSuccess(c){await s(),l({to:"/$locale/apps/derivean/root/editor",params:{locale:o},search:{zoomTo:c.id}}),i()}})})}})}),p.jsx(RL,{}),p.jsx(CL,{variant:Zo.Dots,gap:12,size:1})]})})})},Pie=({graph:t,nodes:e,edges:n,size:r={width:344,height:36}})=>(t.setGraph({rankdir:"LR",nodesep:125,edgesep:65,ranksep:50}),e.forEach(i=>{t.setNode(i.id,{width:r.width,height:r.height})}),n.forEach(i=>{t.setEdge(i.source,i.target)}),$L.layout(t,{}),{nodes:e.map(i=>{const s=t.node(i.id);return{...i,targetPosition:"left",sourcePosition:"right",position:{x:s.x-r.width/2,y:s.y-r.height/2}}}),edges:n}),o1=Gt("/$locale/apps/derivean/root/editor")({validateSearch:nr(U.object({zoomTo:U.string().optional()})),async loader({context:{kysely:t}}){const e=(await t.selectFrom("Blueprint").select(["id","name","cycles","sort"]).execute()).map(r=>({id:r.id,position:{x:0,y:0},data:r,type:"blueprint"})),n=(await t.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:r,blueprintId:i,dependencyId:s})=>({id:r,source:s,target:i,type:"dependency"}));return Pie({graph:new $L.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:[...e],edges:[...n]})},component(){const t=o1.useLoaderData(),{zoomTo:e}=o1.useSearch();return p.jsx(Aie,{data:t,zoomTo:e})}}),a1=async({tx:t,userId:e})=>{const n=await t.selectFrom("Default_Inventory as di").select(["di.amount","di.resourceId","di.limit"]).limit(5e3).execute();await t.deleteFrom("User_Inventory").where("userId","=",e).execute();for await(const{amount:r,resourceId:i,limit:s}of n)t.insertInto("User_Inventory").values({id:jn(),userId:e,inventoryId:(await t.insertInto("Inventory").values({id:jn(),amount:r,resourceId:i,limit:s}).returning("id").executeTakeFirstOrThrow()).id}).execute()},Fie=async({tx:t,userId:e})=>{await a1({tx:t,userId:e})},Die=()=>tn({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return Rt.transaction().execute(async r=>{const i=pm.parse(await r.insertInto("User").values({id:jn(),name:e,login:t,password:vF.hash(n)}).returning(["User.id","User.name","User.login"]).executeTakeFirstOrThrow());try{await Fie({tx:r,userId:i.id})}catch(s){console.error(s)}return i})}}),Lie=U.object({name:U.string().min(1),login:U.string().min(1),password1:U.string().min(1),password2:U.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),Mie=({onSuccess:t})=>{const e=Die(),n=Ci({resolver:Ti(Lie)}),r=Ii({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return p.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:s=>{K1({error:s,errors:[k1({error:s,schema:Q1,onError:({data:o})=>{n.setError("root",{message:o.message})}})],onError:o=>{n.setError("root",{message:o.message})}})}}).catch(()=>{})),children:[p.jsx(pi,{variant:{highlight:!0},error:n.formState.errors.root}),p.jsx(kn,{formState:n.formState,name:"name",label:p.jsx(te,{label:"Name (label)"}),children:p.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),p.jsx(kn,{formState:n.formState,name:"login",label:p.jsx(te,{label:"Login (label)"}),children:p.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),p.jsx(kn,{formState:n.formState,name:"password1",label:p.jsx(te,{label:"Password 1 (label)"}),children:p.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),p.jsx(kn,{formState:n.formState,name:"password2",label:p.jsx(te,{label:"Password 2 (label)"}),children:p.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),p.jsx(Fn,{iconEnabled:"icon-[mdi--register-outline]",iconDisabled:"icon-[mdi--register-outline]",type:"submit",children:p.jsx(te,{label:"Register (submit)"})})]})},$ie=Gt("/$locale/apps/derivean/public/register")({component:()=>{const t=Zd();return p.jsx("div",{className:Ei(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[p.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),p.jsx(Mie,{onSuccess:async e=>{cf.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Bie=Gt("/$locale/apps/derivean/public/logout")({pendingComponent(){return p.jsx("div",{className:Ei(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsx(BD,{icon:hN,textTitle:p.jsx(te,{label:"Logout (label)"}),textMessage:p.jsx(te,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw cf.remove("session"),Vh({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),zie=()=>tn({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return Rt.transaction().execute(async n=>{const r=await n.selectFrom("User as u").select(["u.id","u.login","u.name"]).where("u.login","=",t).where("u.password","=",vF.hash(e)).executeTakeFirstOrThrow();return{id:r.id,login:r.login,name:r.name}})}}),Wie=U.object({login:U.string().min(1),password:U.string().min(1)}),Uie=({onSuccess:t})=>{const{locale:e}=xn({from:"/$locale"}),n=zie(),r=Ci({resolver:Ti(Wie)}),i=Ii({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return p.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async s=>n.mutateAsync(s,{onSuccess:t,onError:o=>{K1({error:o,errors:[k1({error:o,schema:Q1,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[p.jsx(pi,{variant:{highlight:!0},error:r.formState.errors.root}),p.jsx(kn,{formState:r.formState,name:"login",label:p.jsx(te,{label:"Login (label)"}),children:p.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),p.jsx(kn,{formState:r.formState,name:"password",label:p.jsx(te,{label:"Password (label)"}),children:p.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),p.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[p.jsx(fn,{icon:"icon-[mdi--register-outline]",to:"/$locale/apps/derivean/public/register",params:{locale:e},children:p.jsx(te,{label:"Register (link)"})}),p.jsx(Fn,{iconEnabled:"icon-[uiw--login]",iconDisabled:"icon-[uiw--login]",type:"submit",children:p.jsx(te,{label:"Login (submit)"})})]})]})},Vie=Gt("/$locale/apps/derivean/public/login")({component:()=>{const t=Zd();return p.jsx("div",{className:Ei(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[p.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),p.jsx(Uie,{onSuccess:async e=>{cf.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Hie=({entity:t})=>p.jsxs("div",{className:Ei(["flex","flex-col","gap-2","rounded-md","border","border-slate-300","p-2","cursor-default","hover:bg-slate-100"]),children:[p.jsx("div",{className:"font-bold",children:t.name}),t.limit>0?p.jsx(ff,{variant:{size:"md"},value:100*t.amount/t.limit}):null]}),Qie=gn({slot:{base:["flex","flex-col","gap-4","w-4/12","border-l-2","border-slate-200","shadow-sm","relative","max-h-screen"],title:["flex","flex-row","justify-between","items-center","px-4","py-4","shadow-md"],content:["flex","flex-col","gap-2","max-h-full","overflow-y-auto","px-4","mb-4"]},variant:{},defaults:{}}),sx=({icon:t,textTitle:e,textSubTitle:n,variant:r,tva:i=Qie,css:s,children:o})=>{const{locale:l}=xn({from:"/$locale"}),c=i({...r,css:s}).slots;return p.jsxs("div",{className:c.base(),children:[p.jsxs("div",{className:c.title(),children:[p.jsxs("div",{className:"flex flex-col gap-2 font-bold",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(an,{icon:t,css:{base:["text-slate-500"]}}),e]}),n?p.jsx("div",{className:"text-sm text-slate-500",children:n}):null]}),p.jsx(fn,{icon:cN,to:"/$locale/apps/derivean/map",params:{locale:l}})]}),p.jsx("div",{className:c.content(),children:o})]})},Kie=({inventory:t,fulltextProps:e,...n})=>p.jsxs(sx,{icon:zi,textTitle:p.jsx(te,{label:"Inventory (label)"}),...n,children:[p.jsx(xD,{...e}),t.map(r=>p.jsx(Hie,{entity:r},r.id))]}),Py=Gt("/$locale/apps/derivean/map/inventory")({validateSearch:nr(U.object({fulltext:U.string().optional()})),loaderDeps({search:{fulltext:t}}){return{fulltext:t}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{fulltext:r}}){const i=await n();return{inventory:await t.ensureQueryData({queryKey:["User_Inventory",i.id,{fulltext:r}],async queryFn(){return e.transaction().execute(async s=>Uo({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.amount","i.limit","r.name"]).where("i.id","in",s.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:o,where:l}){let c=o;if(l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("r.name","like",d)]))}return c},output:U.object({id:U.string().min(1),amount:U.number().nonnegative(),limit:U.number().nonnegative(),name:U.string().min(1)}),filter:{fulltext:r}}))}})}},component(){const{fulltext:t}=Py.useSearch(),e=Py.useNavigate(),{inventory:n}=Py.useLoaderData();return p.jsx(Kie,{inventory:n,fulltextProps:{value:t,onFulltext(r){e({search:{fulltext:r}})}}})}}),Gie=gn({slot:{base:["flex","flex-col","gap-2","rounded-md","bg-white","border","border-slate-300","p-2","hover:bg-slate-100","cursor-draggable"]},variant:{isDragging:{true:[]}},match:[{if:{isDragging:!0},then:{base:["cursor-grabbing","bg-slate-100"]}}],defaults:{isDragging:!1}}),Zie=async({blueprintId:t,userId:e,x:n,y:r,plan:i,valid:s})=>Rt.transaction().execute(async o=>{const l=await o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.resourceId","br.amount","br.passive","r.name"]).where("br.blueprintId","=",t).execute();for await(const{resourceId:f,amount:h,passive:b,name:x}of l){const w=await o.selectFrom("Inventory as i").select(["i.id","i.amount"]).where("i.resourceId","=",f).where("i.amount",">=",h).where("i.id","in",o.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",e)).executeTakeFirstOrThrow(()=>new Error(`"Not enough resources [${x}]; required [${h}]`));b||await o.updateTable("Inventory").set({amount:w.amount-h}).where("id","=",w.id).execute()}const{count:c}=await o.selectFrom("Cycle as c").select(f=>f.fn.count("c.id").as("count")).executeTakeFirstOrThrow(),d=await o.selectFrom("Blueprint as b").select(["b.cycles"]).where("b.id","=",t).executeTakeFirstOrThrow();return o.insertInto("Construction").values({id:jn(),blueprintId:t,userId:e,cycle:0,from:c,to:c+d.cycles,x:n,y:r,plan:i,valid:s}).returningAll().executeTakeFirstOrThrow()}),Jie=({userId:t,entity:e,variant:n,tva:r=Gie,css:i})=>{const{locale:s}=xn({from:"/$locale"}),o=Zd(),l=pr([["GameMap"]]),c=tn({async mutationFn({blueprintId:f}){const h=await Zie({userId:t,blueprintId:f,x:0,y:0,plan:!0,valid:!1});o({to:"/$locale/apps/derivean/map/construction",params:{locale:s},search:{zoomToId:h.id}})},async onSuccess(){await l()},onError(f){console.error(f)}}),d=r({...n,css:i}).slots;return p.jsx("div",{className:d.base(),children:p.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between",children:[p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsxs(Ko,{children:["x",e.count]}),p.jsx("div",{className:"font-bold",children:e.name})]}),p.jsx("div",{className:"flex flex-row gap-2",children:p.jsx(Fn,{iconEnabled:Jv,iconDisabled:Jv,loading:c.isPending,onClick:()=>{c.mutate({blueprintId:e.id})}})})]})})},Yie=({userId:t,blueprints:e,...n})=>p.jsx(sx,{icon:Jv,textTitle:p.jsx(te,{label:"Construction (label)"}),...n,children:e.map(r=>p.jsx(Jie,{userId:t,entity:r},r.id))}),rM=Gt("/$locale/apps/derivean/map/construction")({async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{user:r,blueprints:await t.ensureQueryData({queryKey:["GameMap",r.id],async queryFn(){return e.transaction().execute(async i=>Uo({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name",s=>s.selectFrom("Building as bg").select(o=>o.fn.count("bg.id").as("count")).whereRef("bg.blueprintId","=","bl.id").where("bg.userId","=",r.id).as("count")]).orderBy("bl.sort","asc"),output:U.object({id:U.string().min(1),name:U.string().min(1),count:U.number().int().nonnegative()})}))}})}},component(){const{user:t,blueprints:e}=rM.useLoaderData();return p.jsx(Yie,{userId:t.id,blueprints:e})}}),ry=kr(),Xie=[ry({name:"name",header(){return p.jsx(te,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),ry({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:18}),ry({name:"limit",header(){return p.jsx(te,{label:"Inventory limit (label)"})},render({value:t}){return In({number:t})},size:14}),ry({name:"storage",header(){return p.jsx(te,{label:"Storage (label)"})},render({data:t}){return p.jsx(ff,{value:100*t.amount/t.limit})},size:24})],ese=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:Xie}),...e}),VN=Cie({shape:U.object({resourceId:U.string().min(1),amount:ra(),limit:ra()}),filter:Ui.merge(U.object({resourceId:U.string().optional()}))}),Fy=Gt("/$locale/apps/derivean/game/inventory")({validateSearch:nr(Sr(VN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(s=>tr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").selectAll("i").select("r.name").where("i.id","in",s.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("i.id","=",l.id)),l?.idIn&&(c=c.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return c},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative(),limit:U.number().nonnegative()}),filter:n,cursor:r}))},component(){const{data:t,count:e}=Fy.useLoaderData(),{filter:n,cursor:r}=Fy.useSearch(),i=Fy.useNavigate(),{tva:s}=er({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(ese,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of items"}),...xr(i)}})})}}),iM=Gt("/$locale/apps/derivean/db/schema")({async loader({context:{kysely:t}}){return{tables:await t.introspection.getTables()}},component(){const{tables:t}=iM.useLoaderData(),e=({dataType:i,isNullable:s})=>{const o=i.toLowerCase();let l=`z.never({message: '${i}'})`;switch(o){case"integer":{l="z.number().int()";break}case"float4":{l="z.number()";break}case"datetime":{l="z.string()";break}case"boolean":{l="withBoolSchema()";break}}return o.startsWith("varchar")&&(l=`z.string()${s?"":".min(1)"}`),`
// ${i} / ${s?"nullable":"not nullable"}
${l}${s?".nullish()":""}
`},n=t.map(i=>{const s=i.name.replaceAll("_","");return`
export const with${s}Schema = <
    TShapeSchema extends ShapeSchema,
    TFilterSchema extends FilterSchema,
>({
    shape,
    filter,
}: {
    shape: TShapeSchema;
    filter: TFilterSchema;
}) => {
    return withSourceSchema({
        entity: IdentitySchema.merge(z.object({
                ${i.columns.filter(({name:o})=>o!=="id").map(o=>`
    "${o.name}": ${e(o)}
        `.trim()).join(`,
			`)},
        })),
        shape,
        filter,
        sort: [${i.columns.map(o=>`"${o.name}"`).join(", ")}],
    });
}

export type ${s}Entity = ReturnType<typeof with${s}Schema>['~entity'];
            `.trim()}),r=t.map(i=>{const s=i.name.replaceAll("_","");return`${i.name}: ${s}Entity;`});return p.jsxs("pre",{children:[`
import {
    IdentitySchema,
    withSourceSchema,
    type FilterSchema,
    type ShapeSchema,
    withBoolSchema,
} from "@use-pico/common";
import { z } from "zod";
            `.trim(),`

${n.join(`

`)}`,`

export interface Database {
    ${r.join(`
	`)}
}
                `]})}}),sj=kr(),tse=[sj({name:"name",header(){return p.jsx(te,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),sj({name:"login",header(){return p.jsx(te,{label:"User login (label)"})},render({value:t}){return t},size:14})],nse=({table:t,...e})=>{const n=pr([["Management"],["User_Inventory"]]),r=tn({async mutationFn({userId:o}){return Rt.transaction().execute(l=>a1({tx:l,userId:o}))},async onSuccess(){await n()}}),i=tn({async mutationFn({userId:o}){return Rt.transaction().execute(async l=>{await a1({tx:l,userId:o}),await l.deleteFrom("Building").where("userId","=",o).execute(),await l.deleteFrom("Production").where("userId","=",o).execute(),await l.deleteFrom("Construction").where("userId","=",o).execute(),await l.deleteFrom("Cycle").where("userId","=",o).execute()})},async onSuccess(){await n()}}),s=tn({async mutationFn({userId:o}){return Rt.transaction().execute(async l=>{await l.updateTable("Inventory").set({amount:1e3}).where("id","in",l.selectFrom("User_Inventory").select("inventoryId").where("userId","=",o)).execute()})},async onSuccess(){await n()}});return p.jsx(Er,{table:Nr({...t,columns:tse}),action:{row({data:o}){return p.jsxs(Vn,{children:[p.jsx(Sy,{icon:zi,onClick:()=>{r.mutateAsync({userId:o.id})},children:p.jsx(te,{label:"Apply default inventory (menu)"})}),p.jsx(Sy,{icon:vN,onClick:()=>{s.mutateAsync({userId:o.id})},children:p.jsx(te,{label:"Cheat inventory (menu)"})}),p.jsx(Sy,{icon:si,onClick:()=>{i.mutateAsync({userId:o.id})},children:p.jsx(te,{label:"Reset game (menu)"})})]})}},...e})},rse=qie({shape:U.object({name:U.string().min(1),login:U.string().min(1),password:U.string().min(1)}),filter:Ui.merge(U.object({login:U.string().optional(),password:U.string().optional()}))}),Dy=Gt("/$locale/apps/derivean/root/user/list")({validateSearch:nr(Sr(rse)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["User","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>tr({select:i.selectFrom("User as u").select(["u.id","u.name","u.login"]),output:U.object({id:U.string().min(1),name:U.string().min(1),login:U.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Dy.useLoaderData(),{filter:n,cursor:r,selection:i}=Dy.useSearch(),s=Dy.useNavigate(),{tva:o}=er({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(nse,{table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:wr(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of users (label)"}),...xr(s)}})})}}),ise=({entity:t,...e})=>{const{locale:n}=xn({from:"/$locale"});return p.jsxs(Yl,{...e,children:[p.jsx(Pn,{icon:mN,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:p.jsx(te,{label:"View detail (menu)"})}),p.jsx(Pn,{icon:eu,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Building list (menu)"})}),p.jsx(Pn,{icon:zi,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Inventory (menu)"})})]})},sse=t=>{const{locale:e}=xn({from:"/$locale"});return p.jsx(df,{title:({entity:n})=>p.jsx(pf,{icon:mN,title:n.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(fn,{icon:zb,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:p.jsx(te,{label:"User list (label)"})})}),...t})},sM=Gt("/$locale/apps/derivean/root/user/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await Xl({select:n.selectFrom("User as u").select(["u.id","u.name"]).where("u.id","=",e),output:U.object({id:U.string().min(1),name:U.string().min(1)})})}))},component(){const{tva:t}=er({from:"__root__"}),{entity:e}=sM.useLoaderData(),n=t().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(sse,{entity:e}),p.jsx(ise,{entity:e}),p.jsx(no,{})]})}}),_m=Oie({shape:U.object({code:U.string().min(1),label:U.string().min(1),group:U.string().nullish(),sort:Zp()}),filter:Ui.merge(U.object({code:U.string().optional(),group:U.string().optional()}))}),oj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(_m.shape),defaultValues:{sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"code",label:p.jsx(te,{label:"Tag code (label)"}),required:!0,children:p.jsx("input",{type:"text",className:o.input(),...s.register("code")})}),p.jsx(kn,{formState:s.formState,name:"label",label:p.jsx(te,{label:"Tag label (label)"}),required:!0,children:p.jsx("input",{type:"text",className:o.input(),...s.register("label")})}),p.jsx(kn,{formState:s.formState,name:"group",label:p.jsx(te,{label:"Tag group (label)"}),children:p.jsx("input",{type:"text",className:o.input(),...s.register("group")})}),p.jsx(kn,{formState:s.formState,name:"sort",label:p.jsx(te,{label:"Tag sort (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:Oh,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},qS=kr(),ose=[qS({name:"label",header(){return p.jsx(te,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),qS({name:"code",header(){return p.jsx(te,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),qS({name:"group",header(){return p.jsx(te,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],oM=({group:t,table:e,...n})=>{const r=pr([["Tag"],["Resource"]]);return p.jsx(Er,{table:Nr({...e,columns:ose}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create tag (menu)"}),textTitle:p.jsx(te,{label:"Create tag (modal)"}),icon:Oh,children:p.jsx(oj,{defaultValues:{group:t},mutation:tn({async mutationFn(i){return En.promise(Rt.transaction().execute(s=>s.insertInto("Tag").values({id:jn(),...i}).returningAll().executeTakeFirstOrThrow()),hr("Create tag"))},async onSuccess(){await r()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit tag (modal)"}),icon:Oh,children:p.jsx(oj,{defaultValues:{group:t,...i},mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(o=>o.updateTable("Tag").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),hr("Edit tag"))},async onSuccess(){await r()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>{await Rt.transaction().execute(s=>s.deleteFrom("Tag").where("id","=",i.id).execute())},textContent:p.jsx(te,{label:"Tag delete (content)"}),textToast:"Tag delete",invalidator:r})})]})}},...n})},Ly=Gt("/$locale/apps/derivean/root/tag/list")({validateSearch:nr(Sr(_m)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Tag","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>tr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]).orderBy("t.sort","desc"),output:U.object({id:U.string().min(1),code:U.string().min(1),label:U.string().min(1),group:U.string().nullish(),sort:U.number().int().nonnegative()}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Ly.useLoaderData(),{filter:n,cursor:r,selection:i}=Ly.useSearch(),s=Ly.useNavigate(),{tva:o}=er({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(oM,{table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:wr(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of items"}),...xr(s)}})})}}),ase=({group:t,...e})=>p.jsx(AG,{icon:Oh,table:n=>p.jsx(oM,{group:t,...n}),render:({entities:n})=>p.jsx(zD,{tags:n}),queryKey:"Tag",query:async({filter:n,cursor:r})=>Rt.transaction().execute(async i=>tr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]),output:_m.entity,query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("t.id","=",o.id)),o?.idIn&&(l=l.where("t.id","in",o.idIn)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("t.code","like",c),d("t.group","like",c),d("t.label","like",c),d("t.id","like",c)]))}return l},filter:n,cursor:r})),...e}),aM=Tie({shape:U.object({name:U.string().min(1),tagIds:U.array(U.string()).optional()}),filter:Ui.merge(U.object({name:U.string().optional()}))}),aj=({group:t="resource",mutation:e,defaultValues:n,variant:r,tva:i=Ii,css:s})=>{const o=Ci({resolver:Ti(aM.shape),defaultValues:n}),l=i({...r,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:s}).slots;return p.jsxs("form",{className:l.base(),onSubmit:ms({form:o,mutation:e}),children:[p.jsx(pi,{variant:{highlight:!0},error:o.formState.errors.root}),p.jsx(kn,{formState:o.formState,name:"name",label:p.jsx(te,{label:"Resource name (label)"}),children:p.jsx("input",{type:"text",className:l.input(),...o.register("name")})}),p.jsx(kn,{formState:o.formState,name:"tagIds",label:p.jsx(te,{label:"Resource tags (label)"}),children:p.jsx(ps,{control:o.control,name:"tagIds",render:({field:{ref:c,...d}})=>p.jsx(ase,{group:t,textTitle:p.jsx(te,{label:"Select resource tags (title)"}),textSelect:p.jsx(te,{label:"Select resource tags (label)"}),allowEmpty:!0,...d})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:ar,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},vp=kr(),lse=[vp({name:"name",header(){return p.jsx(te,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),vp({name:"countProduction",header(){return p.jsx(te,{label:"Resource production count (label)"})},render({value:t}){return p.jsx(Ko,{css:{base:t!==void 0&&t===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:In({number:t})})},size:12}),vp({name:"countRequirement",header(){return p.jsx(te,{label:"Resource requirement count (label)"})},render({data:t,value:e}){return p.jsx(Ko,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:In({number:e})})},size:12}),vp({name:"countProductionRequirement",header(){return p.jsx(te,{label:"Resource production requirement count (label)"})},render({data:t,value:e}){return p.jsx(Ko,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:In({number:e})})},size:18}),vp({name:"tags",header(){return p.jsx(te,{label:"Resource tags (label)"})},render({value:t}){return p.jsx(zD,{tags:t})},size:32})],lM=({group:t,table:e,...n})=>{const r=pr([["Resource"],["Resource_Tag"]]);return p.jsx(Er,{table:Nr({...e,columns:lse}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create resource (menu)"}),textTitle:p.jsx(te,{label:"Create resource (modal)"}),icon:ar,children:({close:i})=>p.jsx(aj,{group:t,mutation:tn({async mutationFn({name:s,tagIds:o=[]}){return En.promise(Rt.transaction().execute(async l=>{const c=await l.insertInto("Resource").values({id:jn(),name:s}).returningAll().executeTakeFirstOrThrow();return o.length&&await l.insertInto("Resource_Tag").values(o.map(d=>({id:jn(),resourceId:c.id,tagId:d}))).execute(),c}),hr("Create resource"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit resource (modal)"}),icon:ar,children:({close:s})=>p.jsx(aj,{defaultValues:{...i,tagIds:i.tags.map(({id:o})=>o)},mutation:tn({async mutationFn({tagIds:o,...l}){return En.promise(Rt.transaction().execute(async c=>{const d=await c.updateTable("Resource").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await c.deleteFrom("Resource_Tag").where("resourceId","=",d.id).execute(),o?.length&&await c.insertInto("Resource_Tag").values(o.map(f=>({id:jn(),resourceId:d.id,tagId:f}))).execute(),d}),hr("Update resource"))},async onSuccess(){await r(),s()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Resource").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Resource delete (content)"}),textToast:"Resource delete",invalidator:r})})]})}},...n})},My=Gt("/$locale/apps/derivean/root/resource/list")({validateSearch:nr(Sr(aM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Resource","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>tr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>Ar`json_group_array(json_object(
                                            'id', ${o.ref("t.id")},
                                            'code', ${o.ref("t.code")},
                                            'group', ${o.ref("t.group")},
                                            'sort', ${o.ref("t.sort")},
                                            'label', ${o.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",s.selectFrom("Resource_Tag as rt").select("rt.tagId").whereRef("rt.resourceId","=","r.id")).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",c),d("r.name","like",c),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:U.object({id:U.string().min(1),name:U.string().min(1),countRequirement:U.number().nonnegative(),countProduction:U.number().nonnegative(),countProductionRequirement:U.number().nonnegative(),tags:Ni(_m.entity)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=My.useLoaderData(),{filter:n,cursor:r,selection:i}=My.useSearch(),s=My.useNavigate(),{tva:o}=er({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(lM,{table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:wr(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of items"}),...xr(s)}})})}}),use=({entity:t,...e})=>{const{locale:n}=xn({from:"/$locale"});return p.jsx(Yl,{...e,children:p.jsx(Pn,{icon:ar,to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:p.jsx(te,{label:"View detail (menu)"})})})},cse=t=>{const{locale:e}=xn({from:"/$locale"});return p.jsx(df,{title:({entity:n})=>p.jsx(pf,{icon:ar,title:n.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(fn,{icon:zb,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:p.jsx(te,{label:"Resource list (label)"})})}),...t})},uM=Gt("/$locale/apps/derivean/root/resource/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Resource",n],async queryFn(){return e.transaction().execute(async r=>({entity:await Xl({select:r.selectFrom("Resource as r").select(["r.id","r.name"]).where("r.id","=",n),output:U.object({id:U.string().min(1),name:U.string().min(1)})})}))}})},component:()=>{const{tva:t}=er({from:"__root__"}),{entity:e}=uM.useLoaderData(),n=t().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(cse,{entity:e}),p.jsx(use,{entity:e}),p.jsx(no,{})]})}}),mf=({group:t,...e})=>p.jsx($D,{icon:ar,textTitle:p.jsx(te,{label:"Select resource (title)"}),textSelect:p.jsx(te,{label:"Select resource (label)"}),table:n=>p.jsx(lM,{group:t,...n}),render:({entity:n})=>n.name,queryKey:"Resource",query:async({filter:n,cursor:r})=>Rt.transaction().execute(async i=>tr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>Ar`json_group_array(json_object(
                                                'id', ${o.ref("t.id")},
                                                'code', ${o.ref("t.code")},
                                                'group', ${o.ref("t.group")},
                                                'sort', ${o.ref("t.sort")},
                                                'label', ${o.ref("t.label")}
                                            ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",s.ref("r.id"))).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("r.id","=",o.id)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",c),d("r.name","like",c),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:U.object({id:U.string().min(1),name:U.string().min(1),tags:Ni(_m.entity),countRequirement:U.number().nonnegative(),countProduction:U.number().nonnegative(),countProductionRequirement:U.number().nonnegative()}),filter:n,cursor:r})),...e}),cM=Iie({shape:U.object({resourceId:U.string().min(1),amount:ra(),limit:ra()}),filter:Ui}),lj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(cM.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"resourceId",label:p.jsx(te,{label:"Resource name (label)"}),children:p.jsx(ps,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(mf,{textTitle:p.jsx(te,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),p.jsx(kn,{formState:s.formState,name:"amount",label:p.jsx(te,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(kn,{formState:s.formState,name:"limit",label:p.jsx(te,{label:"Limit (label)"}),hint:p.jsx(te,{label:"Inventory limit (hint)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:zi,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},RS=kr(),dse=[RS({name:"name",header(){return p.jsx(te,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),RS({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:12}),RS({name:"limit",header(){return p.jsx(te,{label:"Inventory limit (label)"})},render({value:t,data:e}){return p.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[p.jsx("div",{children:In({number:t})}),p.jsx(ff,{value:100*e.amount/e.limit})]})},size:14})],fse=({table:t,...e})=>{const n=pr([["Default_Inventory"]]),r=tn({async mutationFn(){return Rt.transaction().execute(async i=>{const s=await i.selectFrom("Resource as r").select(["r.id"]).where("r.id","not in",i.selectFrom("Default_Inventory").select("resourceId")).execute();return i.insertInto("Default_Inventory").values(s.map(({id:o})=>({id:jn(),amount:0,limit:0,resourceId:o}))).execute()})},async onSuccess(){await n()}});return p.jsx(Er,{table:Nr({...t,columns:dse}),action:{table(){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Create inventory item (menu)"}),textTitle:p.jsx(te,{label:"Create inventory item (modal)"}),icon:zi,children:p.jsx(lj,{mutation:tn({async mutationFn(i){return En.promise(Rt.transaction().execute(async s=>s.insertInto("Default_Inventory").values({id:jn(),...i}).returningAll().executeTakeFirstOrThrow()),hr("Create inventory item"))},async onSuccess(){await n()}})})}),p.jsx(Sy,{icon:ar,onClick:()=>{r.mutate()},children:p.jsx(te,{label:"Fill missing resources (label)"})})]})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit inventory item (modal)"}),icon:zi,children:p.jsx(lj,{defaultValues:i,mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(async o=>o.updateTable("Default_Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),hr("Update inventory item"))},async onSuccess(){await n()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Default_Inventory").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:n})})]})}},...e})},$y=Gt("/$locale/apps/derivean/root/default/inventory")({validateSearch:nr(Sr(cM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Default_Inventory","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>tr({select:i.selectFrom("Default_Inventory as di").innerJoin("Resource as r","r.id","di.resourceId").select(["di.id","r.name","di.amount","di.limit","di.resourceId"]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("di.id","=",o.id)),o?.idIn&&(l=l.where("di.id","in",o.idIn)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("di.id","like",`%${c}%`),d("r.id","like",`%${c}%`),d("r.name","like",`%${c}%`),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative(),limit:U.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=$y.useLoaderData(),{filter:n,cursor:r,selection:i}=$y.useSearch(),s=$y.useNavigate(),{tva:o}=er({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(fse,{table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:wr(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of items"}),...xr(s)}})})}}),pse=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2","bg-sky-100","border-sky-300","text-sky-500"]},variant:{missing:{true:[]}},match:[{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{missing:!1}}),dM=({dependencies:t,variant:e,tva:n=pse,css:r,...i})=>{const s=n({...e,css:r}).slots;return p.jsx(zd,{items:t,render:({entity:o})=>p.jsx("div",{className:s.item(),children:p.jsx("div",{children:o.name})}),...i})};var iy={},uj;function hse(){if(uj)return iy;uj=1;function t(r,i,s,o){var l=new Set;return function(c){if(!l.has(c)){var d=new Set,f=[],h=[];for(h.push({node:c,processed:!1});h.length>0;){var b=h[h.length-1],x=b.processed,w=b.node;if(x)h.pop(),f.pop(),d.delete(w),l.add(w),(!i||r.get(w).length===0)&&s.push(w);else{if(l.has(w)){h.pop();continue}else if(d.has(w)){if(o){h.pop();continue}throw f.push(w),new n(f)}d.add(w),f.push(w);for(var E=r.get(w),I=E.length-1;I>=0;I--)h.push({node:E[I],processed:!1});b.processed=!0}}}}}var e=iy.DepGraph=function(i){this.nodes=new Map,this.outgoingEdges=new Map,this.incomingEdges=new Map,this.circular=i&&!!i.circular};e.prototype={size:function(){return this.nodes.size},addNode:function(r,i){this.hasNode(r)||(arguments.length===2?this.nodes.set(r,i):this.nodes.set(r,r),this.outgoingEdges.set(r,[]),this.incomingEdges.set(r,[]))},removeNode:function(r){this.hasNode(r)&&(this.nodes.delete(r),this.outgoingEdges.delete(r),this.incomingEdges.delete(r),[this.incomingEdges,this.outgoingEdges].forEach(function(i){i.forEach(function(s){var o=s.indexOf(r);o>=0&&s.splice(o,1)})}))},hasNode:function(r){return this.nodes.has(r)},getNodeData:function(r){if(this.hasNode(r))return this.nodes.get(r);throw new Error("Node does not exist: "+r)},setNodeData:function(r,i){if(this.hasNode(r))this.nodes.set(r,i);else throw new Error("Node does not exist: "+r)},addDependency:function(r,i){if(!this.hasNode(r))throw new Error("Node does not exist: "+r);if(!this.hasNode(i))throw new Error("Node does not exist: "+i);return this.outgoingEdges.get(r).indexOf(i)===-1&&this.outgoingEdges.get(r).push(i),this.incomingEdges.get(i).indexOf(r)===-1&&this.incomingEdges.get(i).push(r),!0},removeDependency:function(r,i){var s;this.hasNode(r)&&(s=this.outgoingEdges.get(r).indexOf(i),s>=0&&this.outgoingEdges.get(r).splice(s,1)),this.hasNode(i)&&(s=this.incomingEdges.get(i).indexOf(r),s>=0&&this.incomingEdges.get(i).splice(s,1))},clone:function(){var r=this,i=new e;return r.nodes.forEach(function(s,o){i.nodes.set(o,s),i.outgoingEdges.set(o,r.outgoingEdges.get(o).slice(0)),i.incomingEdges.set(o,r.incomingEdges.get(o).slice(0))}),i.circular=r.circular,i},directDependenciesOf:function(r){if(this.hasNode(r))return this.outgoingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},directDependantsOf:function(r){if(this.hasNode(r))return this.incomingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},dependenciesOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.outgoingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},dependantsOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.incomingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},overallOrder:function(r){var i=this,s=[],o=Array.from(this.nodes.keys());if(o.length===0)return s;if(!this.circular){var l=t(this.outgoingEdges,!1,[],this.circular);o.forEach(function(d){l(d)})}var c=t(this.outgoingEdges,r,s,this.circular);return o.filter(function(d){return i.incomingEdges.get(d).length===0}).forEach(function(d){c(d)}),this.circular&&o.filter(function(d){return s.indexOf(d)===-1}).forEach(function(d){c(d)}),s},entryNodes:function(){var r=this;return Array.from(this.nodes.keys()).filter(function(i){return r.incomingEdges.get(i).length===0})}},e.prototype.directDependentsOf=e.prototype.directDependantsOf,e.prototype.dependentsOf=e.prototype.dependantsOf;var n=iy.DepGraphCycleError=function(r){var i="Dependency Cycle Found: "+r.join(" -> "),s=new Error(i);return s.cyclePath=r,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,n),s};return n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(n,Error),iy}var fM=hse();const wm=async({tx:t})=>{const e=new fM.DepGraph({circular:!1});for await(const{id:n,name:r}of await t.selectFrom("Blueprint").select(["id","name"]).execute())e.addNode(n,r);for await(const{blueprintId:n,dependencyId:r}of await t.selectFrom("Blueprint_Dependency").select(["blueprintId","dependencyId"]).execute())e.addDependency(n,r);return e},Wh=async({tx:t})=>{const e=wm({tx:t}),n=await t.selectFrom("Blueprint as bl").select(["bl.id"]).execute();for await(const r of n){const i=(await e).dependenciesOf(r.id);await t.updateTable("Blueprint").set({sort:i.length}).where("id","=",r.id).execute()}},mse=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),Sm=({requirements:t,diff:e,variant:n,tva:r=mse,css:i,...s})=>{const o=r({...n,css:i}).slots;return p.jsx(zd,{items:t,render:({entity:l})=>{const c=e?.find(f=>f.resourceId===l.resourceId),d=c?.amount?c.amount-l.amount:-l.amount;return p.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[p.jsx("div",{children:l.name}),p.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",In({number:l.amount})]}),e?d>=0?p.jsx(an,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):p.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[p.jsx(an,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",In({number:d}),")"]}):null]})},...s})},bp=kr(),gse=[bp({name:"name",header(){return p.jsx(te,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(fn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:n},search:{zoomTo:t.id}}),p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),bp({name:"dependencies",header(){return p.jsx(te,{label:"Blueprint dependencies (label)"})},render({value:t}){return t.length>0?p.jsxs("div",{className:"flex flex-col flex-wrap gap-2 w-full",children:[p.jsx(dM,{textTitle:p.jsx(te,{label:"Blueprint dependencies (title)"}),dependencies:t}),p.jsx("div",{className:"border-b border-slate-200"})]}):p.jsx(te,{label:"No dependencies (label)"})},size:32}),bp({name:"requirements",header(){return p.jsx(te,{label:"Required resources (label)"})},render({value:t}){return p.jsx(Sm,{textTitle:p.jsx(te,{label:"Blueprint requirements (title)"}),textEmpty:p.jsx(te,{label:"No requirements (label)"}),requirements:t})},size:32}),bp({name:"cycles",header(){return p.jsx(te,{label:"Construction cycles (label)"})},render({value:t}){return p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(an,{icon:Zv}),In({number:t})]})},size:8}),bp({name:"limit",header(){return p.jsx(te,{label:"Building limit (label)"})},render({value:t}){return In({number:t})},size:8})],pM=({dependencies:t,table:e,...n})=>{const r=pr([["Blueprint"],["Inventory"]]);return p.jsx(Er,{table:Nr({...e,columns:gse,context:{dependencies:t}}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create blueprint (menu)"}),textTitle:p.jsx(te,{label:"Create blueprint (modal)"}),icon:Tn,children:({close:i})=>p.jsx(rb,{mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(async o=>{const l=o.insertInto("Blueprint").values({id:jn(),...s}).returningAll().executeTakeFirstOrThrow();return await Wh({tx:o}),l}),hr("Create blueprint"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit blueprint (modal)"}),icon:Tn,children:({close:s})=>p.jsx(rb,{defaultValues:i,mutation:tn({async mutationFn(o){return En.promise(Rt.transaction().execute(async l=>{const c=l.updateTable("Blueprint").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await Wh({tx:l}),c}),hr("Update blueprint"))},async onSuccess(){await r(),s()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete blueprint (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Blueprint").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:r})})]})}},...n})},tu=bie({shape:U.object({dependencyId:U.string().min(1)}),filter:Ui.merge(U.object({blueprintId:U.string().optional(),dependencyId:U.string().optional()}))}),gf=Nie({shape:U.object({resourceId:U.string().min(1),amount:ra(),passive:U.boolean()}),filter:Ui.merge(U.object({blueprintId:U.string().optional(),resourceId:U.string().optional()}))}),By=Gt("/$locale/apps/derivean/root/blueprint/list")({validateSearch:nr(Sr(UN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.limit",o=>o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(l=>Ar`json_group_array(json_object(
                                                'id', ${l.ref("br.id")},
                                                'amount', ${l.ref("br.amount")},
                                                'passive', ${l.ref("br.passive")},
                                                'resourceId', ${l.ref("br.resourceId")},
                                                'blueprintId', ${l.ref("br.blueprintId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),o=>o.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(l=>Ar`json_group_array(json_object(
                                                        'id', ${l.ref("bd.id")},
                                                        'dependencyId', ${l.ref("bd.dependencyId")},
                                                        'blueprintId', ${l.ref("bd.blueprintId")},
                                                        'name', ${l.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("bl.id","=",l.id)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("bl.id","like",d),f("bl.name","like",d)]))}return c},output:U.object({id:U.string().min(1),name:U.string().min(1),cycles:U.number().nonnegative(),sort:U.number().nonnegative(),limit:U.number().nonnegative(),requirements:Ni(gf.entity.merge(U.object({name:U.string().min(1)}))),dependencies:Ni(tu.entity.merge(U.object({name:U.string().min(1)})))}),filter:n,cursor:r}))}}),dependencies:await e.transaction().execute(async s=>wm({tx:s}))}},component(){const{data:{data:t,count:e},dependencies:n}=By.useLoaderData(),{filter:r,cursor:i,selection:s}=By.useSearch(),o=By.useNavigate(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(pM,{dependencies:n,table:{data:t,filter:{value:r,set:_r(o)},selection:{type:"multi",value:s,set:Hi(o)}},fulltext:{value:r?.fulltext,set:wr(o)},cursor:{count:e,cursor:i,textTotal:p.jsx(te,{label:"Number of blueprints"}),...xr(o)}})})}}),yse=({entity:t,...e})=>{const{locale:n}=xn({from:"/$locale"});return p.jsxs(Yl,{...e,children:[p.jsx(Pn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:p.jsx(te,{label:"View detail (menu)"})}),p.jsx(Pn,{icon:eu,to:"/$locale/apps/derivean/root/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Blueprint dependencies (menu)"})}),p.jsx(Pn,{icon:ar,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Required resources (menu)"})}),p.jsx(Pn,{icon:Co,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Resource production (menu)"})}),p.jsx(Pn,{icon:zi,to:"/$locale/apps/derivean/root/blueprint/$id/inventory",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Blueprint inventory (menu)"})}),p.jsx(Pn,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Blueprint conflicts (menu)"})}),p.jsx(Pn,{icon:_D,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Edit (menu)"})})]})},vse=t=>{const{locale:e}=xn({from:"/$locale"});return p.jsx(df,{title:({entity:n})=>p.jsx(pf,{icon:Tn,title:n.name}),actions:({entity:n})=>p.jsxs(p.Fragment,{children:[p.jsx(fn,{icon:zb,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},children:p.jsx(te,{label:"Blueprint list (label)"})}),p.jsx(fn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},search:{zoomTo:n.id},children:p.jsx(te,{label:"Editor (label)"})})]}),...t})},hM=Gt("/$locale/apps/derivean/root/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>Xl({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles",s=>s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(o=>Ar`json_group_array(json_object(
                                                  'id', ${o.ref("br.id")},
                                                  'amount', ${o.ref("br.amount")},
                                                  'passive', ${o.ref("br.passive")},
                                                  'resourceId', ${o.ref("br.resourceId")},
                                                  'blueprintId', ${o.ref("br.blueprintId")},
                                                  'name', ${o.ref("r.name")}
                                              ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),s=>s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(o=>Ar`json_group_array(json_object(
                                                          'id', ${o.ref("bd.id")},
                                                          'dependencyId', ${o.ref("bd.dependencyId")},
                                                          'blueprintId', ${o.ref("bd.blueprintId")},
                                                          'name', ${o.ref("bl2.name")}
                                                      ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",c),d("bl.name","like",c),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(f=>f.or([f("r.name","like",c)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(f=>f.or([f("b.name","like",c)])))]))}return l},output:U.object({id:U.string().min(1),name:U.string().min(1),cycles:U.number().nonnegative(),sort:U.number().nonnegative(),requirements:Ni(gf.entity.merge(U.object({name:U.string().min(1)}))),dependencies:Ni(tu.entity.merge(U.object({name:U.string().min(1)})))})}))}}),graph:await e.transaction().execute(async i=>wm({tx:i}))}},component(){const{tva:t}=er({from:"__root__"}),{entity:e}=hM.useLoaderData(),n=t().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(vse,{entity:e}),p.jsx(yse,{entity:e}),p.jsx(no,{})]})}}),bse=Gt("/$locale/apps/derivean/map/route/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["GameMap","route",n],async queryFn(){return e.transaction().execute(async r=>Xl({select:r.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Blueprint as blf","blf.id","bf.blueprintId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blf.name as fromName","blt.name as toName"]).where("r.id","=",n),output:U.object({id:U.string().min(1),fromId:U.string().min(1),toId:U.string().min(1),fromName:U.string().min(1),toName:U.string().min(1)})}))}})}}}),xse=Gt("/$locale/apps/derivean/map/building/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["GameMap","building",n],async queryFn(){return e.transaction().execute(async r=>Xl({select:r.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name"]).where("b.id","=",n),output:U.object({id:U.string().min(1),name:U.string().min(1)})}))}})}}}),_se=U.object({id:U.string().min(1),blueprintProductionId:U.string().min(1),blueprintId:U.string().min(1),name:U.string().min(1),resource:U.string().min(1),amount:U.number().nonnegative(),count:U.number().nonnegative(),limit:U.number().nonnegative(),priority:U.number(),paused:na(),requirements:Ni(U.object({id:U.string().min(1),amount:U.number().nonnegative(),passive:na(),resourceId:U.string().min(1),name:U.string().min(1)}))}),wse=({entity:t})=>{const{locale:e}=xn({from:"/$locale"}),n=pr([["Management"]]),r=tn({async mutationFn({id:l,priority:c}){return Rt.transaction().execute(async d=>d.updateTable("Production_Queue").set({priority:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),i=tn({async mutationFn({id:l,limit:c}){return Rt.transaction().execute(async d=>d.updateTable("Production_Queue").set({limit:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),s=tn({async mutationFn({id:l,paused:c}){return Rt.transaction().execute(async d=>d.updateTable("Production_Queue").set({paused:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),o=tn({async mutationFn(){return Rt.transaction().execute(async l=>l.deleteFrom("Production_Queue").where("id","=",t.id).execute())},async onSuccess(){await n()}});return p.jsxs("div",{className:Ei("flex flex-row items-center justify-between border border-slate-300 p-2 rounded-md hover:bg-slate-50 hover:border-slate-500",t.paused?["bg-slate-100","hover:bg-slate-200"]:void 0),children:[p.jsxs("div",{className:"flex flex-row gap-6",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2 font-bold",children:[p.jsx(Fn,{iconEnabled:t.paused?"icon-[lucide--play]":"icon-[solar--pause-outline]",loading:i.isPending,onClick:()=>{s.mutate({id:t.id,paused:!t.paused})},variant:{variant:"subtle"}}),p.jsx(fn,{icon:eu,to:"/$locale/apps/derivean/game",params:{locale:e},search:{blueprintId:t.blueprintId},children:t.name})]}),p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(an,{icon:ar,css:{base:["text-slate-400"]}}),p.jsx("div",{children:t.resource}),p.jsxs(Ko,{children:["x",In({number:t.amount})]})]}),p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(an,{icon:"icon-[fluent--text-word-count-20-regular]",css:{base:["text-slate-400"]}}),p.jsxs(Ko,{children:[In({number:t.count}),t.limit>0?` / ${In({number:t.limit})}`:null]})]}),p.jsxs("div",{className:"flex flex-row items-center gap-2 font-bold",children:[p.jsx(an,{icon:"icon-[material-symbols-light--low-priority-rounded]",css:{base:["text-slate-400"]}}),p.jsx(Ko,{children:In({number:t.priority})})]})]}),p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Sm,{requirements:t.requirements}),p.jsx(Fn,{iconEnabled:"icon-[ph--minus-fill]",iconDisabled:"icon-[ph--minus-fill]",loading:i.isPending,disabled:t.limit===0,onClick:()=>{i.mutate({id:t.id,limit:Math.max(0,t.limit-1)})}}),p.jsx(Fn,{iconEnabled:"icon-[ph--plus-fill]",loading:i.isPending,onClick:()=>{i.mutate({id:t.id,limit:t.limit+1})}}),p.jsx(Fn,{iconEnabled:"icon-[bx--down-arrow]",iconDisabled:"icon-[bx--down-arrow]",loading:r.isPending,disabled:t.priority===0,onClick:()=>{r.mutate({id:t.id,priority:t.priority-5})}}),p.jsx(Fn,{iconEnabled:"icon-[bx--up-arrow]",loading:r.isPending,onClick:()=>{r.mutate({id:t.id,priority:t.priority+5})}}),p.jsx(Fn,{iconEnabled:si,loading:o.isPending,variant:{variant:"danger"},onClick:()=>{o.mutate()}})]})]})},mM=Gt("/$locale/apps/derivean/game/production/queue")({async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{data:await t.ensureQueryData({queryKey:["Management","Production-Queue",r.id],queryFn:async()=>Uo({select:e.selectFrom("Production_Queue as pq").innerJoin("Blueprint_Production as bp","bp.id","pq.blueprintProductionId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["pq.id","pq.blueprintProductionId","bl.name","bl.id as blueprintId","r.name as resource","bp.amount","pq.priority","pq.count","pq.limit","pq.paused",s=>s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r2","r2.id","bpr.resourceId").select([o=>V1.jsonGroupArray({id:o.ref("bpr.id"),amount:o.ref("bpr.amount"),passive:o.ref("bpr.passive"),name:o.ref("r2.name"),blueprintId:o.ref("bp.id"),resourceId:o.ref("bpr.resourceId")}).as("requirements")]).whereRef("bpr.blueprintProductionId","=","pq.blueprintProductionId").as("requirements")]).where("userId","=",r.id).orderBy("priority","desc"),output:_se})})}},component(){const{data:t}=mM.useLoaderData();return p.jsx("div",{className:"flex flex-col gap-2",children:t.map(e=>p.jsx(wse,{entity:e},e.id))})}}),cj=kr(),Sse=[cj({name:"name",header(){return p.jsx(te,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(fn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/game",params:{locale:n},search:{blueprintId:t.id}}),p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),cj({name:"cycles",header(){return p.jsx(te,{label:"Construction cycles (label)"})},render({value:t}){return p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(an,{icon:Zv}),In({number:t})]})},size:8})],Ese=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:Sse}),...e}),zy=Gt("/$locale/apps/derivean/game/blueprint/list")({validateSearch:nr(Sr(UN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const s=await n();return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:r,cursor:i}],async queryFn(){return e.transaction().execute(async l=>tr({select:l.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.cycles"]).where("bl.id","in",l.selectFrom("Building as bg").select("bg.blueprintId").where("bg.userId","=",s.id)).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:c,where:d}){let f=c;if(d?.id&&(f=f.where("bl.id","=",d.id)),d?.fulltext){const h=`%${d.fulltext}%`.toLowerCase();f=f.where(b=>b.or([b("bl.id","like",h),b("bl.name","like",h)]))}return f},output:U.object({id:U.string().min(1),name:U.string().min(1),cycles:U.number().nonnegative()}),filter:r,cursor:i}))}})}},component(){const{data:{data:t,count:e}}=zy.useLoaderData(),{filter:n,cursor:r}=zy.useSearch(),i=zy.useNavigate(),{tva:s}=er({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(Ese,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of blueprints"}),...xr(i)}})})}}),Nse=({entity:t,...e})=>{const{locale:n}=xn({from:"/$locale"});return p.jsxs(Yl,{...e,children:[p.jsx(Pn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.id},children:p.jsx(te,{label:"View detail (menu)"})}),p.jsx(Pn,{icon:eu,to:"/$locale/apps/derivean/game/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Blueprint dependencies (menu)"})}),p.jsx(Pn,{icon:ar,to:"/$locale/apps/derivean/game/blueprint/$id/requirements",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Required resources (menu)"})}),p.jsx(Pn,{icon:Co,to:"/$locale/apps/derivean/game/blueprint/$id/production",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Resource production (menu)"})}),p.jsx(Pn,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/game/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Blueprint conflicts (menu)"})})]})},kse=t=>{const{locale:e}=xn({from:"/$locale"});return p.jsx(df,{title:({entity:n})=>p.jsx(pf,{icon:Tn,title:n.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(fn,{icon:zb,to:"/$locale/apps/derivean/game/blueprint/list",params:{locale:e},children:p.jsx(te,{label:"Blueprint list (label)"})})}),...t})},gM=Gt("/$locale/apps/derivean/game/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>Xl({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.cycles"]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",c),d("bl.name","like",c),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(f=>f.or([f("r.name","like",c)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(f=>f.or([f("b.name","like",c)])))]))}return l},output:U.object({id:U.string().min(1),name:U.string().min(1),cycles:U.number().nonnegative()})}))}}),graph:await e.transaction().execute(async i=>wm({tx:i}))}},component(){const{tva:t}=er({from:"__root__"}),{entity:e}=gM.useLoaderData(),n=t().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(kse,{entity:e}),p.jsx(Nse,{entity:e}),p.jsx(no,{})]})}}),Ise=Gt("/$locale/apps/derivean/root/user/$id/view")({component:()=>"yep"}),ib=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(VN.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"resourceId",label:p.jsx(te,{label:"Resource name (label)"}),children:p.jsx(ps,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(mf,{textTitle:p.jsx(te,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),p.jsx(kn,{formState:s.formState,name:"amount",label:p.jsx(te,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(kn,{formState:s.formState,name:"limit",label:p.jsx(te,{label:"Inventory limit (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:zi,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},jS=kr(),Cse=[jS({name:"name",header(){return p.jsx(te,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),jS({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:12}),jS({name:"limit",header(){return p.jsx(te,{label:"Inventory limit (label)"})},render({value:t,data:e}){return p.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[p.jsx("div",{children:In({number:t})}),p.jsx(ff,{value:100*e.amount/e.limit})]})},size:14})],Tse=({onCreate:t,table:e,...n})=>{const r=pr([["Inventory"],["User_Inventory"],["Building_Base_Production"]]);return p.jsx(Er,{table:Nr({...e,columns:Cse}),action:{table:t?()=>p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create inventory item (menu)"}),textTitle:p.jsx(te,{label:"Create inventory item (modal)"}),icon:zi,children:p.jsx(ib,{mutation:tn({async mutationFn(i){return En.promise(Rt.transaction().execute(async s=>{const o=await s.insertInto("Inventory").values({id:jn(),...i}).returningAll().executeTakeFirstOrThrow();return await t?.({tx:s,entity:o}),o}),hr("Create inventory item"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit inventory item (modal)"}),icon:zi,children:p.jsx(ib,{defaultValues:i,mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),hr("Update inventory item"))},async onSuccess(){await r()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},Op=Gt("/$locale/apps/derivean/root/user/$id/inventory")({validateSearch:nr(Sr(VN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>tr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","i.amount","i.limit"]).where("i.id","in",s.selectFrom("User_Inventory as ui").where("ui.userId","=",i).select("ui.inventoryId")).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("i.id","=",l.id)),l?.idIn&&(c=c.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return c},output:U.object({id:U.string().min(1),resourceId:U.string().min(1),name:U.string().min(1),amount:U.number().nonnegative(),limit:U.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Op.useLoaderData(),{filter:n,cursor:r,selection:i}=Op.useSearch(),s=Op.useNavigate(),{id:o}=Op.useParams(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(Tse,{onCreate:async({tx:d,entity:f})=>d.insertInto("User_Inventory").values({id:jn(),userId:o,inventoryId:f.id}).execute(),table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:wr(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of items"}),...xr(s)}})})}}),Ose=Gt("/$locale/apps/derivean/root/resource/$id/view")({component:()=>p.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),yM="icon-[carbon--document-requirements]",qse=({entity:t,...e})=>{const{locale:n}=xn({from:"/$locale"});return p.jsxs(Yl,{...e,children:[p.jsx(Pn,{icon:yM,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Production requirements (menu)"})}),p.jsx(Pn,{icon:ar,to:"/$locale/apps/derivean/root/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Production resource requirements (menu)"})}),p.jsx(Pn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Production resource dependencies (menu)"})})]})},Rse=t=>{const{locale:e}=xn({from:"/$locale"});return p.jsx(df,{title:({entity:n})=>p.jsx(pf,{icon:Co,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>p.jsx(p.Fragment,{children:p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:p.jsx(te,{label:"Building base detail (label)"})})}),...t})},vM=Gt("/$locale/apps/derivean/root/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await Xl({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:U.object({id:U.string().min(1),resource:U.string().min(1),blueprint:U.string().min(1),blueprintId:U.string().min(1),amount:U.number().nonnegative(),cycles:U.number().int().nonnegative()})})}))}})},component(){const{entity:t}=vM.useLoaderData(),{tva:e}=er({from:"__root__"}),n=e().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(Rse,{entity:t}),p.jsx(qse,{entity:t}),p.jsx(no,{})]})}}),jse=({graph:t,blueprintId:e,mode:n="dependencies",reverse:r=!1})=>{try{const i=(s=>r?s.reverse():s)(n==="dependants"?t.dependantsOf(e):t.dependenciesOf(e));return p.jsxs("div",{className:Ei(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:[i.length>0?p.jsx(an,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):p.jsx(an,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(s=>p.jsx(Ko,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(s)},jn())):p.jsx(te,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof fM.DepGraphCycleError?p.jsxs("div",{className:Ei(["flex","flex-row","gap-2","items-center"]),children:[p.jsx(an,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(s=>p.jsx(Ko,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(s)},jn()))]}):"kaboom"}},Ase=({dependencies:t,...e})=>p.jsx(mD,{items:[{id:"name",label:p.jsx(te,{label:"Building name (label)"}),render({entity:n}){return n.name}},{id:"cycles",label:p.jsx(te,{label:"Construction cycles (label)"}),render({entity:n}){return In({number:n.cycles})}},{id:"requirements",label:p.jsx(te,{label:"Required resources (label)"}),render({entity:n}){return p.jsx(Sm,{requirements:n.requirements,textEmpty:p.jsx(te,{label:"No requirements (label)"})})}},{id:"dependencies",label:p.jsx(te,{label:"Blueprint dependencies (label)"}),render({entity:n}){return p.jsx(dM,{dependencies:n.dependencies,textEmpty:p.jsx(te,{label:"No dependencies (label)"})})}},{id:"deps",label:p.jsx(te,{label:"Blueprint dependency graph (label)"}),render({entity:n}){return p.jsx(jse,{graph:t,blueprintId:n.id})}}],...e}),bM=Gt("/$locale/apps/derivean/root/blueprint/$id/view")({async loader({context:{kysely:t}}){return{dependencies:await t.transaction().execute(async e=>wm({tx:e}))}},component(){const{dependencies:t}=bM.useLoaderData(),{entity:e}=Kl({from:"/$locale/apps/derivean/root/blueprint/$id"});return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(Ase,{dependencies:t,entity:e})})}}),dj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(gf.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"resourceId",label:p.jsx(te,{label:"Requirement (label)"}),children:p.jsx(ps,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(mf,{allowEmpty:!0,...c})})}),p.jsx(kn,{formState:s.formState,name:"amount",label:p.jsx(te,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(kn,{formState:s.formState,name:"passive",label:p.jsx(te,{label:"Passive requirement (label)"}),hint:p.jsx(te,{label:"Passive requirement (hint)"}),children:p.jsx(ps,{control:s.control,name:"passive",render:({field:{ref:l,...c}})=>p.jsx(hD,{...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:ar,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},AS=kr(),Pse=[AS({name:"name",header(){return p.jsx(te,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),AS({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10}),AS({name:"passive",header(){return p.jsx(te,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(Bb,{value:t})},size:10})],Fse=({blueprintId:t,table:e,...n})=>{const r=pr([["Blueprint"],["Blueprint_Requirement"],["Blueprint_Resource_Requirement"],["Resource"]]);return p.jsx(Er,{table:Nr({...e,columns:Pse}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create requirement item (menu)"}),textTitle:p.jsx(te,{label:"Create requirement item (modal)"}),icon:ar,children:p.jsx(dj,{mutation:tn({async mutationFn(i){return Rt.transaction().execute(async s=>s.insertInto("Blueprint_Requirement").values({id:jn(),...i,blueprintId:t}).execute())},async onSuccess(){await r()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit requirement item (modal)"}),icon:ar,children:p.jsx(dj,{defaultValues:i,mutation:tn({async mutationFn(s){return Rt.transaction().execute(async o=>o.updateTable("Blueprint_Requirement").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete requirement item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Blueprint_Requirement").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Delete requirement item (content)"}),textToast:"Delete requirement item",invalidator:r})})]})}},...n})},qp=Gt("/$locale/apps/derivean/root/blueprint/$id/requirements")({validateSearch:nr(Sr(gf)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("br.id","=",l.id)),l?.idIn&&(c=c.where("br.id","in",l.idIn)),l?.resourceId&&(c=c.where("br.resourceId","=",l.resourceId)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative(),passive:na()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=qp.useLoaderData(),{filter:n,cursor:r,selection:i}=qp.useSearch(),{id:s}=qp.useParams(),o=qp.useNavigate(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(Fse,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of requirements (label)"}),...xr(o)}})})}}),HN=_ie({shape:U.object({resourceId:U.string().min(1),amount:ra(),cycles:Zp()}),filter:Ui.merge(U.object({blueprintId:U.string().optional(),resourceId:U.string().optional()}))}),fj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(HN.shape),defaultValues:{amount:1,cycles:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"resourceId",label:p.jsx(te,{label:"Resource name (label)"}),children:p.jsx(ps,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(mf,{textTitle:p.jsx(te,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),p.jsx(kn,{formState:s.formState,name:"amount",label:p.jsx(te,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(kn,{formState:s.formState,name:"cycles",label:p.jsx(te,{label:"Production cycles (label)"}),hint:p.jsx(te,{label:"Production cycles (hint)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:Co,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},Em=t=>p.jsx($D,{icon:Tn,textTitle:p.jsx(te,{label:"Select blueprint (title)"}),table:({table:e,...n})=>p.jsx(pM,{table:{...e,hidden:["requirements","dependencies"]},...n}),render:({entity:e})=>e.name,queryKey:"Blueprint",query:async({filter:e,cursor:n})=>Rt.transaction().execute(async r=>tr({select:r.selectFrom("Blueprint as b").select(["b.id","b.name","b.sort","b.cycles","b.limit",i=>i.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(s=>Ar`json_group_array(json_object(
                                                    'id', ${s.ref("br.id")},
                                                    'amount', ${s.ref("br.amount")},
                                                    'passive', ${s.ref("br.passive")},
                                                    'resourceId', ${s.ref("br.resourceId")},
                                                    'blueprintId', ${s.ref("br.blueprintId")},
                                                    'name', ${s.ref("r.name")}
                                                ))`.as("requirements")).whereRef("br.blueprintId","=","b.id").as("requirements"),i=>i.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.blueprintId").select(s=>Ar`json_group_array(json_object(
                                                    'id', ${s.ref("bd.id")},
                                                    'dependencyId', ${s.ref("bd.dependencyId")},
                                                    'blueprintId', ${s.ref("bd.blueprintId")},
                                                    'name', ${s.ref("b.name")}
                                                ))`.as("requirements")).whereRef("bd.blueprintId","=","b.id").as("dependencies")]).orderBy("b.name","asc"),query({select:i,where:s}){let o=i;if(s?.id&&(o=o.where("b.id","=",s.id)),s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(c=>c.or([c("b.id","like",l),c("b.name","like",l)]))}return o},output:U.object({id:U.string().min(1),name:U.string().min(1),cycles:U.number().nonnegative(),sort:U.number().nonnegative(),limit:U.number().nonnegative(),requirements:Ni(gf.entity.merge(U.object({name:U.string().min(1)}))),dependencies:Ni(tu.entity.merge(U.object({name:U.string().min(1)})))}),filter:e,cursor:n})),...t}),Dse=U.object({blueprintId:U.string().min(1)}),Lse=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Dse),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"blueprintId",label:p.jsx(te,{label:"Target blueprint (label)"}),children:p.jsx(ps,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>p.jsx(Em,{allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:Tn,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},Jc=kr(),Mse=[Jc({name:"name",header(){return p.jsx(te,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{icon:Co,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),Jc({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:8}),Jc({name:"cycles",header(){return p.jsx(te,{label:"Production cycles (label)"})},render({value:t}){return In({number:t})},size:8}),Jc({name:"requirements",header(){return p.jsx(te,{label:"Required resources (label)"})},render({value:t}){return p.jsx(Sm,{textTitle:p.jsx(te,{label:"Resource requirements (title)"}),textEmpty:p.jsx(te,{label:"No requirements (label)"}),requirements:t})},size:32}),Jc({name:"resources",header(){return p.jsx(te,{label:"Required production resources (label)"})},render({value:t}){return p.jsx(zd,{items:t,render:({entity:e})=>p.jsxs("div",{className:Ei(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[p.jsx("div",{children:e.name}),p.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",In({number:e.amount})]})]})})},size:32}),Jc({name:"dependencies",header(){return p.jsx(te,{label:"Required production dependencies (label)"})},render({value:t}){return p.jsx(zd,{items:t,render:({entity:e})=>p.jsx("div",{className:Ei(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:p.jsx("div",{children:e.name})})})},size:32})],$se=({blueprintId:t,table:e,...n})=>{const r=pr([["Blueprint"],["Blueprint_Production"],["Blueprint_Production_Requirement"],["Resource"]]);return p.jsx(Er,{table:Nr({...e,columns:Mse}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create blueprint production (menu)"}),textTitle:p.jsx(te,{label:"Create blueprint production (modal)"}),icon:Co,children:({close:i})=>p.jsx(fj,{mutation:tn({async mutationFn(s){return Rt.transaction().execute(async o=>await o.insertInto("Blueprint_Production").values({id:jn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit blueprint production (modal)"}),icon:Co,children:p.jsx(fj,{defaultValues:i,mutation:tn({async mutationFn(s){return Rt.transaction().execute(async o=>o.updateTable("Blueprint_Production").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),p.jsx(mn,{label:p.jsx(te,{label:"Move production to (menu)"}),textTitle:p.jsx(te,{label:"Move production to (modal)"}),icon:ar,children:({close:s})=>p.jsx(Lse,{mutation:tn({async mutationFn(o){return Rt.transaction().execute(async l=>{await l.updateTable("Blueprint_Production").set({blueprintId:o.blueprintId}).where("id","=",i.id).execute()})},async onSuccess(){await r(),s()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete blueprint production (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Delete blueprint production (content)"}),textToast:"Delete blueprint production",invalidator:r})})]})}},...n})},Nm=wie({shape:U.object({blueprintId:U.string().min(1)}),filter:Ui}),km=Sie({shape:U.object({resourceId:U.string().min(1),amount:ra(),passive:U.boolean()}),filter:Ui.merge(U.object({blueprintProductionId:U.string().optional(),resourceId:U.string().optional()}))}),Im=Eie({shape:U.object({resourceId:U.string().min(1),amount:ra()}),filter:Ui.merge(U.object({resourceId:U.string().optional()}))}),Rp=Gt("/$locale/apps/derivean/root/blueprint/$id/production")({validateSearch:nr(Sr(HN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Ar`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Ar`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>Ar`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative(),cycles:U.number().nonnegative(),requirements:Ni(km.entity.merge(U.object({name:U.string().min(1)}))),resources:Ni(Im.entity.merge(U.object({name:U.string().min(1)}))),dependencies:Ni(Nm.entity.merge(U.object({name:U.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Rp.useLoaderData(),{filter:n,cursor:r,selection:i}=Rp.useSearch(),{id:s}=Rp.useParams(),o=Rp.useNavigate(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx($se,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of productions (label)"}),...xr(o)}})})}}),PS=kr(),Bse=[PS({name:"name",header(){return p.jsx(te,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),PS({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:12}),PS({name:"limit",header(){return p.jsx(te,{label:"Inventory limit (label)"})},render({value:t,data:e}){return p.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[p.jsx("div",{children:In({number:t})}),p.jsx(ff,{value:100*e.amount/e.limit})]})},size:14})],zse=({blueprintId:t,table:e,...n})=>{const r=pr([["Blueprint_Inventory"]]);return p.jsx(Er,{table:Nr({...e,columns:Bse}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create inventory item (menu)"}),textTitle:p.jsx(te,{label:"Create inventory item (modal)"}),icon:zi,children:p.jsx(ib,{mutation:tn({async mutationFn(i){return En.promise(Rt.transaction().execute(async s=>s.insertInto("Blueprint_Inventory").values({id:jn(),blueprintId:t,inventoryId:(await s.insertInto("Inventory").values({id:jn(),...i}).returningAll().executeTakeFirstOrThrow()).id}).returningAll().executeTakeFirstOrThrow()),hr("Create inventory item"))},async onSuccess(){await r()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit inventory item (modal)"}),icon:zi,children:p.jsx(ib,{defaultValues:i,mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.inventoryId).returningAll().executeTakeFirstOrThrow()),hr("Update inventory item"))},async onSuccess(){await r()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.inventoryId).execute()),textContent:p.jsx(te,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},Wse=xie({shape:U.object({blueprintId:U.string().min(1),inventoryId:U.string().min(1)}),filter:Ui.merge(U.object({blueprintId:U.string().optional(),inventoryId:U.string().optional()}))}),jp=Gt("/$locale/apps/derivean/root/blueprint/$id/inventory")({validateSearch:nr(Sr(Wse)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Inventory","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>tr({select:s.selectFrom("Blueprint_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").innerJoin("Resource as r","r.id","i.resourceId").select(["bi.id","r.name","i.amount","i.limit","i.resourceId","bi.blueprintId","bi.inventoryId"]).where("bi.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("bi.id","=",l.id)),l?.idIn&&(c=c.where("bi.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("bi.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return c},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),blueprintId:U.string().min(1),inventoryId:U.string().min(1),amount:U.number().nonnegative(),limit:U.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=jp.useLoaderData(),{filter:n,cursor:r,selection:i}=jp.useSearch(),{id:s}=jp.useParams(),o=jp.useNavigate(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(zse,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of items"}),...xr(o)}})})}}),xM=Gt("/$locale/apps/derivean/root/blueprint/$id/edit")({component:()=>{const{entity:t}=Kl({from:"/$locale/apps/derivean/root/blueprint/$id"}),e=xM.useNavigate(),n=pr([["Blueprint"]]);return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(rb,{defaultValues:t,mutation:tn({async mutationFn(r){return En.promise(Rt.transaction().execute(async i=>i.updateTable("Blueprint").set(r).where("id","=",t.id).returningAll().executeTakeFirstOrThrow()),hr("Update blueprint"))},async onSuccess(){await n(),e({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{id:t.id}})}})})})}}),pj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(tu.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"dependencyId",label:p.jsx(te,{label:"Blueprint dependency (label)"}),children:p.jsx(ps,{control:s.control,name:"dependencyId",render:({field:{ref:l,...c}})=>p.jsx(Em,{textTitle:p.jsx(te,{label:"Select blueprint (title)"}),allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:Tn,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},Use=kr(),Vse=[Use({name:"name",header(){return p.jsx(te,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],Hse=({blueprintId:t,table:e,...n})=>{const r=pr([["Blueprint_Dependency"],["Blueprint"]]);return p.jsx(Er,{table:Nr({...e,columns:Vse}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create blueprint dependency (menu)"}),textTitle:p.jsx(te,{label:"Create blueprint dependency (modal)"}),icon:Tn,children:({close:i})=>p.jsx(pj,{mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Dependency").values({id:jn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Wh({tx:o}),l}),hr("Create blueprint dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit blueprint dependency (modal)"}),icon:Tn,children:({close:s})=>p.jsx(pj,{defaultValues:i,mutation:tn({async mutationFn(o){return En.promise(Rt.transaction().execute(async l=>l.updateTable("Blueprint_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),hr("Update blueprint dependency"))},async onSuccess(){await r(),s()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete blueprint dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Blueprint_Dependency").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Delete blueprint dependency (content)"}),textToast:"Delete blueprint dependency",invalidator:r})})]})}},...n})},Ap=Gt("/$locale/apps/derivean/root/blueprint/$id/dependencies")({validateSearch:nr(Sr(tu)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bd.id","=",l.id)),l?.idIn&&(c=c.where("bd.id","in",l.idIn)),l?.blueprintId&&(c=c.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(c=c.where("bd.dependencyId","=",l.dependencyId)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1),dependencyId:U.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ap.useLoaderData(),{filter:n,cursor:r,selection:i}=Ap.useSearch(),{id:s}=Ap.useParams(),o=Ap.useNavigate(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(Hse,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of requirements (label)"}),...xr(o)}})})}}),Qse=vie({shape:U.object({conflictId:U.string().min(1)}),filter:Ui}),hj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Qse.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"conflictId",label:p.jsx(te,{label:"Blueprint conflict (label)"}),hint:p.jsx(te,{label:"Blueprint conflict (hint)"}),children:p.jsx(ps,{control:s.control,name:"conflictId",render:({field:{ref:l,...c}})=>p.jsx(Em,{textTitle:p.jsx(te,{label:"Select blueprint conflict (title)"}),allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:Tn,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},Kse=kr(),Gse=[Kse({name:"name",header(){return p.jsx(te,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],Zse=({blueprintId:t,table:e,...n})=>{const r=pr([["Blueprint_Conflict"],["Blueprint"]]);return p.jsx(Er,{table:Nr({...e,columns:Gse}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create blueprint conflict (menu)"}),textTitle:p.jsx(te,{label:"Create blueprint conflict (modal)"}),icon:Tn,children:({close:i})=>p.jsx(hj,{mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Conflict").values({id:jn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Wh({tx:o}),l}),hr("Create blueprint conflict"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit blueprint conflict (modal)"}),icon:Tn,children:({close:s})=>p.jsx(hj,{defaultValues:i,mutation:tn({async mutationFn(o){return En.promise(Rt.transaction().execute(async l=>l.updateTable("Blueprint_Conflict").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),hr("Update blueprint conflict"))},async onSuccess(){await r(),s()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete blueprint conflict (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Blueprint_Conflict").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Delete blueprint conflict (content)"}),textToast:"Delete blueprint conflict",invalidator:r})})]})}},...n})},Pp=Gt("/$locale/apps/derivean/root/blueprint/$id/conflicts")({validateSearch:nr(Sr(tu)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bc.id","=",l.id)),l?.idIn&&(c=c.where("bc.id","in",l.idIn)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1),conflictId:U.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Pp.useLoaderData(),{filter:n,cursor:r,selection:i}=Pp.useSearch(),{id:s}=Pp.useParams(),o=Pp.useNavigate(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(Zse,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of conflicts (label)"}),...xr(o)}})})}}),Jse=({entity:t})=>p.jsx("div",{children:"hovno"}),Yse=({entity:t})=>p.jsx("div",{children:"pica"}),Xse=({entity:t,resource:e,inventory:n,...r})=>{const{locale:i}=xn({from:"/$locale"});return p.jsxs(sx,{icon:ar,textTitle:p.jsx(te,{label:"Route resources (label)"}),textSubTitle:p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(fn,{icon:rc,to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:i,id:t.fromId}}),t.fromName]}),...r,children:[p.jsx("div",{children:e.length>0?e.map(s=>p.jsx(Yse,{entity:s},s.id)):p.jsx(te,{label:"No route resources yet (label)"})}),p.jsx("div",{className:"border-b border-slate-300 shadow-md"}),p.jsx("div",{children:n.length>0?n.map(s=>p.jsx(Jse,{entity:s},s.id)):p.jsx(te,{label:"There are no available items for transport (label)"})})]})},_M=Gt("/$locale/apps/derivean/map/route/$id/resources")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{resource:await t.ensureQueryData({queryKey:["GameMap","route","resources",n],async queryFn(){return e.transaction().execute(async r=>Uo({select:r.selectFrom("Route_Resource as rr").innerJoin("Resource as r","r.id","rr.resourceId").select(["rr.id","r.name","rr.amount","rr.routeId","rr.resourceId"]).where("rr.routeId","=",n),output:U.object({id:U.string().min(1),routeId:U.string().min(1),resourceId:U.string().min(1),name:U.string().min(1),amount:U.number().nonnegative()})}))}})}},component(){const{entity:t}=Kl({from:"/$locale/apps/derivean/map/route/$id"}),{resource:e}=_M.useLoaderData();return p.jsx(Xse,{entity:t,resource:e,inventory:[]})}}),eoe=({entity:t,...e})=>{const{locale:n}=xn({from:"/$locale"});return p.jsx(sx,{icon:"icon-[gis--route-end]",textTitle:p.jsx(te,{label:"Routes (label)"}),textSubTitle:p.jsx(fn,{to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:n,id:t.id},search:{zoomToId:t.id},children:t.name}),...e})},wM=Gt("/$locale/apps/derivean/map/building/$id/routes")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{route:await t.ensureQueryData({queryKey:["GameMap","building","routes",n],async queryFn(){return e.transaction().execute(async r=>Uo({select:r.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Blueprint as blf","blf.id","bf.blueprintId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blf.name as fromName","blt.name as toName",i=>i.selectFrom("Building_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").innerJoin("Resource as r","r.id","i.resourceId").where("bi.buildingId","=","r.buildingId").select(s=>V1.jsonGroupArray({id:s.ref("bi.id"),amount:s.ref("i.amount"),limit:s.ref("i.limit"),name:s.ref("r.name")}).as("inventory")).as("inventory")]).where("r.fromId","=",n),output:U.object({id:U.string().min(1),fromId:U.string().min(1),toId:U.string().min(1),fromName:U.string().min(1),toName:U.string().min(1),inventory:Ni(U.any())})}))}})}},component(){const{entity:t}=Kl({from:"/$locale/apps/derivean/map/building/$id"});return wM.useLoaderData(),p.jsx(eoe,{entity:t})}}),toe=({entity:t,...e})=>{const{locale:n}=xn({from:"/$locale"});return p.jsxs(Yl,{...e,children:[p.jsx(Pn,{icon:yM,to:"/$locale/apps/derivean/game/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Production requirements (menu)"})}),p.jsx(Pn,{icon:ar,to:"/$locale/apps/derivean/game/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Production resource requirements (menu)"})}),p.jsx(Pn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:p.jsx(te,{label:"Production resource dependencies (menu)"})})]})},noe=t=>{const{locale:e}=xn({from:"/$locale"});return p.jsx(df,{title:({entity:n})=>p.jsx(pf,{icon:Co,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>p.jsx(p.Fragment,{children:p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:p.jsx(te,{label:"Building base detail (label)"})})}),...t})},SM=Gt("/$locale/apps/derivean/game/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await Xl({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:U.object({id:U.string().min(1),resource:U.string().min(1),blueprint:U.string().min(1),blueprintId:U.string().min(1),amount:U.number().nonnegative(),cycles:U.number().int().nonnegative()})})}))}})},component(){const{entity:t}=SM.useLoaderData(),{tva:e}=er({from:"__root__"}),n=e().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(noe,{entity:t}),p.jsx(toe,{entity:t}),p.jsx(no,{})]})}}),roe=t=>p.jsx(mD,{items:[{id:"name",label:p.jsx(te,{label:"Building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:p.jsx(te,{label:"Construction cycles (label)"}),render({entity:e}){return In({number:e.cycles})}}],...t}),ioe=Gt("/$locale/apps/derivean/game/blueprint/$id/view")({component(){const{entity:t}=Kl({from:"/$locale/apps/derivean/game/blueprint/$id"});return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(roe,{entity:t})})}}),FS=kr(),soe=[FS({name:"name",header(){return p.jsx(te,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),FS({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10}),FS({name:"passive",header(){return p.jsx(te,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(Bb,{value:t})},size:10})],ooe=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:soe}),...e}),Wy=Gt("/$locale/apps/derivean/game/blueprint/$id/requirements")({validateSearch:nr(Sr(gf)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("br.id","=",l.id)),l?.idIn&&(c=c.where("br.id","in",l.idIn)),l?.resourceId&&(c=c.where("br.resourceId","=",l.resourceId)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative(),passive:na()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Wy.useLoaderData(),{filter:n,cursor:r}=Wy.useSearch(),i=Wy.useNavigate(),{tva:s}=er({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(ooe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of requirements (label)"}),...xr(i)}})})}}),Yc=kr(),aoe=[Yc({name:"name",header(){return p.jsx(te,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{icon:Co,to:"/$locale/apps/derivean/game/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),Yc({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:8}),Yc({name:"cycles",header(){return p.jsx(te,{label:"Production cycles (label)"})},render({value:t}){return In({number:t})},size:8}),Yc({name:"requirements",header(){return p.jsx(te,{label:"Required resources (label)"})},render({value:t}){return p.jsx(Sm,{textTitle:p.jsx(te,{label:"Resource requirements (title)"}),textEmpty:p.jsx(te,{label:"No requirements (label)"}),requirements:t})},size:32}),Yc({name:"resources",header(){return p.jsx(te,{label:"Required production resources (label)"})},render({value:t}){return p.jsx(zd,{items:t,render:({entity:e})=>p.jsxs("div",{className:Ei(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[p.jsx("div",{children:e.name}),p.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",In({number:e.amount})]})]})})},size:32}),Yc({name:"dependencies",header(){return p.jsx(te,{label:"Required production dependencies (label)"})},render({value:t}){const{locale:e}=xn({from:"/$locale"});return p.jsx(zd,{items:t,render:({entity:n})=>p.jsx("div",{className:Ei(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:p.jsx(fn,{to:"/$locale/apps/derivean/game/blueprint/$id/requirements",params:{locale:e,id:n.blueprintId},children:n.name})})})},size:32})],loe=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:aoe}),...e}),Uy=Gt("/$locale/apps/derivean/game/blueprint/$id/production")({validateSearch:nr(Sr(HN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Ar`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Ar`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>Ar`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative(),cycles:U.number().nonnegative(),requirements:Ni(km.entity.merge(U.object({name:U.string().min(1)}))),resources:Ni(Im.entity.merge(U.object({name:U.string().min(1)}))),dependencies:Ni(Nm.entity.merge(U.object({name:U.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Uy.useLoaderData(),{filter:n,cursor:r}=Uy.useSearch(),i=Uy.useNavigate(),{tva:s}=er({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(loe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of productions (label)"}),...xr(i)}})})}}),uoe=kr(),coe=[uoe({name:"name",header(){return p.jsx(te,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],doe=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:coe}),...e}),Vy=Gt("/$locale/apps/derivean/game/blueprint/$id/dependencies")({validateSearch:nr(Sr(tu)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bd.id","=",l.id)),l?.idIn&&(c=c.where("bd.id","in",l.idIn)),l?.blueprintId&&(c=c.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(c=c.where("bd.dependencyId","=",l.dependencyId)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1),dependencyId:U.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Vy.useLoaderData(),{filter:n,cursor:r}=Vy.useSearch(),i=Vy.useNavigate(),{tva:s}=er({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(doe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of dependencies (label)"}),...xr(i)}})})}}),foe=kr(),poe=[foe({name:"name",header(){return p.jsx(te,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],hoe=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:poe}),...e}),Hy=Gt("/$locale/apps/derivean/game/blueprint/$id/conflicts")({validateSearch:nr(Sr(tu)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bc.id","=",l.id)),l?.idIn&&(c=c.where("bc.id","in",l.idIn)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1),conflictId:U.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Hy.useLoaderData(),{filter:n,cursor:r}=Hy.useSearch(),i=Hy.useNavigate(),{tva:s}=er({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(hoe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of conflicts (label)"}),...xr(i)}})})}}),EM=kie({shape:U.object({blueprintId:U.string().min(1),x:ra(),y:ra()}),filter:Ui.merge(U.object({userId:U.string().optional(),blueprintId:U.string().optional(),name:U.string().optional()}))}),mj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(EM.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"blueprintId",label:p.jsx(te,{label:"Select blueprint (label)"}),children:p.jsx(ps,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>p.jsx(Em,{allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:eu,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},moe=kr(),goe=[moe({name:"name",header(){return p.jsx(te,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId}}),e]})},size:14})],yoe=({userId:t,table:e,...n})=>{const r=pr([["Building"]]);return p.jsx(Er,{table:Nr({...e,columns:goe}),action:{table:t?()=>p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create building (menu)"}),textTitle:p.jsx(te,{label:"Create building (modal)"}),icon:ar,children:p.jsx(mj,{mutation:tn({async mutationFn(i){return En.promise(Rt.transaction().execute(s=>s.insertInto("Building").values({id:jn(),...i,userId:t}).returningAll().executeTakeFirstOrThrow()),hr("Create building"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit building (modal)"}),icon:eu,children:p.jsx(mj,{defaultValues:i,mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(o=>o.updateTable("Building").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),hr("Edit building"))},async onSuccess(){await r()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Building").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Building delete (content)"}),textToast:"Building delete",invalidator:r})})]})}},...n})},Fp=Gt("/$locale/apps/derivean/root/user/$id/building/list")({validateSearch:nr(Sr(EM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>tr({select:s.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.blueprintId"]).where("b.userId","=",i),output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Fp.useLoaderData(),{filter:n,cursor:r,selection:i}=Fp.useSearch(),{id:s}=Fp.useParams(),o=Fp.useNavigate(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(yoe,{userId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of buildings (label)"}),...xr(o)}})})}}),gj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Im.shape),defaultValues:{amount:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"resourceId",label:p.jsx(te,{label:"Requirement (label)"}),children:p.jsx(ps,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(mf,{allowEmpty:!0,...c})})}),p.jsx(kn,{formState:s.formState,name:"amount",label:p.jsx(te,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:ar,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},yj=kr(),voe=[yj({name:"name",header(){return p.jsx(te,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),yj({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10})],boe=({blueprintProductionId:t,table:e,...n})=>{const r=pr([["Blueprint_Production_Resource"],["Blueprint_Production"],["Resource"]]);return p.jsx(Er,{table:Nr({...e,columns:voe}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create production resource requirement (menu)"}),textTitle:p.jsx(te,{label:"Create production resource requirement (modal)"}),icon:ar,children:({close:i})=>p.jsx(gj,{mutation:tn({async mutationFn(s){return Rt.transaction().execute(async o=>o.insertInto("Blueprint_Production_Resource").values({id:jn(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit production resource requirement (modal)"}),icon:ar,children:({close:s})=>p.jsx(gj,{defaultValues:i,mutation:tn({async mutationFn(o){return Rt.transaction().execute(async l=>l.updateTable("Blueprint_Production_Resource").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete production resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Resource").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Delete production resource requirement (content)"}),textToast:"Delete production resource requirement item",invalidator:r})})]})}},...n})},Dp=Gt("/$locale/apps/derivean/root/blueprint/production/$id/resources")({validateSearch:nr(Sr(Im)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Dp.useLoaderData(),{filter:n,cursor:r,selection:i}=Dp.useSearch(),{id:s}=Dp.useParams(),o=Dp.useNavigate();return p.jsx(p.Fragment,{children:p.jsx(boe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of production resource requirements (label)"}),...xr(o)}})})}}),vj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(km.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"resourceId",label:p.jsx(te,{label:"Requirement (label)"}),children:p.jsx(ps,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(mf,{allowEmpty:!0,...c})})}),p.jsx(kn,{formState:s.formState,name:"amount",label:p.jsx(te,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(kn,{formState:s.formState,name:"passive",label:p.jsx(te,{label:"Passive requirement (label)"}),hint:p.jsx(te,{label:"Passive requirement (hint)"}),children:p.jsx(ps,{control:s.control,name:"passive",render:({field:{ref:l,...c}})=>p.jsx(hD,{...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:ar,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},DS=kr(),xoe=[DS({name:"name",header(){return p.jsx(te,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),DS({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10}),DS({name:"passive",header(){return p.jsx(te,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(Bb,{value:t})},size:10})],_oe=({blueprintProductionId:t,table:e,...n})=>{const r=pr([["Blueprint_Production_Requirement"],["Blueprint_Production"],["Resource"]]);return p.jsx(Er,{table:Nr({...e,columns:xoe}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create production requirement (menu)"}),textTitle:p.jsx(te,{label:"Create production requirement (modal)"}),icon:ar,children:({close:i})=>p.jsx(vj,{mutation:tn({async mutationFn(s){return Rt.transaction().execute(async o=>o.insertInto("Blueprint_Production_Requirement").values({id:jn(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit production requirement (modal)"}),icon:ar,children:({close:s})=>p.jsx(vj,{defaultValues:i,mutation:tn({async mutationFn(o){return Rt.transaction().execute(async l=>l.updateTable("Blueprint_Production_Requirement").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete production requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Requirement").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Delete production requirement (content)"}),textToast:"Delete production requirement item",invalidator:r})})]})}},...n})},Lp=Gt("/$locale/apps/derivean/root/blueprint/production/$id/requirements")({validateSearch:nr(Sr(km)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative(),passive:na()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Lp.useLoaderData(),{filter:n,cursor:r,selection:i}=Lp.useSearch(),{id:s}=Lp.useParams(),o=Lp.useNavigate();return p.jsx(p.Fragment,{children:p.jsx(_oe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of production requirements (label)"}),...xr(o)}})})}}),bj=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Nm.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(pi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(kn,{formState:s.formState,name:"blueprintId",label:p.jsx(te,{label:"Blueprint dependency (label)"}),children:p.jsx(ps,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>p.jsx(Em,{textTitle:p.jsx(te,{label:"Select blueprint (title)"}),allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Fn,{iconEnabled:Tn,type:"submit",children:p.jsx(te,{label:"Save (submit)"})})})]})},woe=kr(),Soe=[woe({name:"name",header(){return p.jsx(te,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],Eoe=({blueprintProductionId:t,table:e,...n})=>{const r=pr([["Blueprint_Production_Dependency"],["Blueprint"]]);return p.jsx(Er,{table:Nr({...e,columns:Soe}),action:{table(){return p.jsx(Vn,{children:p.jsx(mn,{label:p.jsx(te,{label:"Create blueprint production dependency (menu)"}),textTitle:p.jsx(te,{label:"Create blueprint production dependency (modal)"}),icon:Tn,children:({close:i})=>p.jsx(bj,{mutation:tn({async mutationFn(s){return En.promise(Rt.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Production_Dependency").values({id:jn(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow();return await Wh({tx:o}),l}),hr("Create blueprint production dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Vn,{children:[p.jsx(mn,{label:p.jsx(te,{label:"Edit (menu)"}),textTitle:p.jsx(te,{label:"Edit blueprint production dependency (modal)"}),icon:Tn,children:({close:s})=>p.jsx(bj,{defaultValues:i,mutation:tn({async mutationFn(o){return En.promise(Rt.transaction().execute(async l=>l.updateTable("Blueprint_Production_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),hr("Update blueprint production dependency"))},async onSuccess(){await r(),s()}})})}),p.jsx(mn,{icon:si,label:p.jsx(te,{label:"Delete (menu)"}),textTitle:p.jsx(te,{label:"Delete blueprint production dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(Qi,{callback:async()=>Rt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Dependency").where("id","=",i.id).execute()),textContent:p.jsx(te,{label:"Delete blueprint production dependency (content)"}),textToast:"Delete blueprint production dependency",invalidator:r})})]})}},...n})},Mp=Gt("/$locale/apps/derivean/root/blueprint/production/$id/dependencies")({validateSearch:nr(Sr(Nm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpd.id","=",l.id)),l?.idIn&&(c=c.where("bpd.id","in",l.idIn)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Mp.useLoaderData(),{filter:n,cursor:r,selection:i}=Mp.useSearch(),{id:s}=Mp.useParams(),o=Mp.useNavigate(),{tva:l}=er({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(Eoe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:wr(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of dependencies (label)"}),...xr(o)}})})}}),xj=kr(),Noe=[xj({name:"name",header(){return p.jsx(te,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),xj({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10})],koe=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:Noe}),...e}),Qy=Gt("/$locale/apps/derivean/game/blueprint/production/$id/resources")({validateSearch:nr(Sr(Im)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Qy.useLoaderData(),{filter:n,cursor:r}=Qy.useSearch(),i=Qy.useNavigate();return p.jsx(p.Fragment,{children:p.jsx(koe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of production resource requirements (label)"}),...xr(i)}})})}}),LS=kr(),Ioe=[LS({name:"name",header(){return p.jsx(te,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),LS({name:"amount",header(){return p.jsx(te,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10}),LS({name:"passive",header(){return p.jsx(te,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(Bb,{value:t})},size:10})],Coe=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:Ioe}),...e}),Ky=Gt("/$locale/apps/derivean/game/blueprint/production/$id/requirements")({validateSearch:nr(Sr(km)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),resourceId:U.string().min(1),amount:U.number().nonnegative(),passive:na()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ky.useLoaderData(),{filter:n,cursor:r}=Ky.useSearch(),i=Ky.useNavigate();return p.jsx(p.Fragment,{children:p.jsx(Coe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of production requirements (label)"}),...xr(i)}})})}}),Toe=kr(),Ooe=[Toe({name:"name",header(){return p.jsx(te,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=xn({from:"/$locale"});return p.jsx(fn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],qoe=({table:t,...e})=>p.jsx(Er,{table:Nr({...t,columns:Ooe}),...e}),Gy=Gt("/$locale/apps/derivean/game/blueprint/production/$id/dependencies")({validateSearch:nr(Sr(Nm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>tr({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpd.id","=",l.id)),l?.idIn&&(c=c.where("bpd.id","in",l.idIn)),c},output:U.object({id:U.string().min(1),name:U.string().min(1),blueprintId:U.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Gy.useLoaderData(),{filter:n,cursor:r}=Gy.useSearch(),i=Gy.useNavigate(),{tva:s}=er({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(qoe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:wr(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(te,{label:"Number of dependencies (label)"}),...xr(i)}})})}}),QN=eZ.update({id:"/$locale",path:"/$locale",getParentRoute:()=>yN}),Roe=rZ.update({id:"/",path:"/",getParentRoute:()=>yN}),joe=iZ.update({id:"/",path:"/",getParentRoute:()=>QN}),nu=oZ.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>QN}),ro=uZ.update({id:"/root",path:"/root",getParentRoute:()=>nu}),yf=i1.update({id:"/map",path:"/map",getParentRoute:()=>nu}),cc=sre.update({id:"/game",path:"/game",getParentRoute:()=>nu}),Aoe=cre.update({id:"/",path:"/",getParentRoute:()=>ro}),Poe=dre.update({id:"/",path:"/",getParentRoute:()=>yf}),Foe=fre.update({id:"/",path:"/",getParentRoute:()=>cc}),Doe=o1.update({id:"/editor",path:"/editor",getParentRoute:()=>ro}),Loe=$ie.update({id:"/public/register",path:"/public/register",getParentRoute:()=>nu}),Moe=Bie.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>nu}),$oe=Vie.update({id:"/public/login",path:"/public/login",getParentRoute:()=>nu}),Boe=Py.update({id:"/inventory",path:"/inventory",getParentRoute:()=>yf}),zoe=rM.update({id:"/construction",path:"/construction",getParentRoute:()=>yf}),Woe=Fy.update({id:"/inventory",path:"/inventory",getParentRoute:()=>cc}),Uoe=iM.update({id:"/db/schema",path:"/db/schema",getParentRoute:()=>nu}),Voe=Dy.update({id:"/user/list",path:"/user/list",getParentRoute:()=>ro}),ox=sM.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>ro}),Hoe=Ly.update({id:"/tag/list",path:"/tag/list",getParentRoute:()=>ro}),Qoe=My.update({id:"/resource/list",path:"/resource/list",getParentRoute:()=>ro}),NM=uM.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>ro}),Koe=$y.update({id:"/default/inventory",path:"/default/inventory",getParentRoute:()=>ro}),Goe=By.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>ro}),ru=hM.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>ro}),kM=bse.update({id:"/route/$id",path:"/route/$id",getParentRoute:()=>yf}),IM=xse.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>yf}),Zoe=mM.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>cc}),Joe=zy.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>cc}),vf=gM.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>cc}),Yoe=Ise.update({id:"/view",path:"/view",getParentRoute:()=>ox}),Xoe=Op.update({id:"/inventory",path:"/inventory",getParentRoute:()=>ox}),eae=Ose.update({id:"/view",path:"/view",getParentRoute:()=>NM}),ax=vM.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>ro}),tae=bM.update({id:"/view",path:"/view",getParentRoute:()=>ru}),nae=qp.update({id:"/requirements",path:"/requirements",getParentRoute:()=>ru}),rae=Rp.update({id:"/production",path:"/production",getParentRoute:()=>ru}),iae=jp.update({id:"/inventory",path:"/inventory",getParentRoute:()=>ru}),sae=xM.update({id:"/edit",path:"/edit",getParentRoute:()=>ru}),oae=Ap.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>ru}),aae=Pp.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>ru}),lae=_M.update({id:"/resources",path:"/resources",getParentRoute:()=>kM}),uae=wM.update({id:"/routes",path:"/routes",getParentRoute:()=>IM}),lx=SM.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>cc}),cae=ioe.update({id:"/view",path:"/view",getParentRoute:()=>vf}),dae=Wy.update({id:"/requirements",path:"/requirements",getParentRoute:()=>vf}),fae=Uy.update({id:"/production",path:"/production",getParentRoute:()=>vf}),pae=Vy.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>vf}),hae=Hy.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>vf}),mae=Fp.update({id:"/building/list",path:"/building/list",getParentRoute:()=>ox}),gae=Dp.update({id:"/resources",path:"/resources",getParentRoute:()=>ax}),yae=Lp.update({id:"/requirements",path:"/requirements",getParentRoute:()=>ax}),vae=Mp.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>ax}),bae=Qy.update({id:"/resources",path:"/resources",getParentRoute:()=>lx}),xae=Ky.update({id:"/requirements",path:"/requirements",getParentRoute:()=>lx}),_ae=Gy.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>lx}),wae={LocaleAppsDeriveanGameBlueprintIdConflictsRoute:hae,LocaleAppsDeriveanGameBlueprintIdDependenciesRoute:pae,LocaleAppsDeriveanGameBlueprintIdProductionRoute:fae,LocaleAppsDeriveanGameBlueprintIdRequirementsRoute:dae,LocaleAppsDeriveanGameBlueprintIdViewRoute:cae},Sae=vf._addFileChildren(wae),Eae={LocaleAppsDeriveanGameBlueprintProductionIdDependenciesRoute:_ae,LocaleAppsDeriveanGameBlueprintProductionIdRequirementsRoute:xae,LocaleAppsDeriveanGameBlueprintProductionIdResourcesRoute:bae},Nae=lx._addFileChildren(Eae),kae={LocaleAppsDeriveanGameInventoryRoute:Woe,LocaleAppsDeriveanGameIndexRoute:Foe,LocaleAppsDeriveanGameBlueprintIdRoute:Sae,LocaleAppsDeriveanGameBlueprintListRoute:Joe,LocaleAppsDeriveanGameProductionQueueRoute:Zoe,LocaleAppsDeriveanGameBlueprintProductionIdRoute:Nae},Iae=cc._addFileChildren(kae),Cae={LocaleAppsDeriveanMapBuildingIdRoutesRoute:uae},Tae=IM._addFileChildren(Cae),Oae={LocaleAppsDeriveanMapRouteIdResourcesRoute:lae},qae=kM._addFileChildren(Oae),Rae={LocaleAppsDeriveanMapConstructionRoute:zoe,LocaleAppsDeriveanMapInventoryRoute:Boe,LocaleAppsDeriveanMapIndexRoute:Poe,LocaleAppsDeriveanMapBuildingIdRoute:Tae,LocaleAppsDeriveanMapRouteIdRoute:qae},jae=yf._addFileChildren(Rae),Aae={LocaleAppsDeriveanRootBlueprintIdConflictsRoute:aae,LocaleAppsDeriveanRootBlueprintIdDependenciesRoute:oae,LocaleAppsDeriveanRootBlueprintIdEditRoute:sae,LocaleAppsDeriveanRootBlueprintIdInventoryRoute:iae,LocaleAppsDeriveanRootBlueprintIdProductionRoute:rae,LocaleAppsDeriveanRootBlueprintIdRequirementsRoute:nae,LocaleAppsDeriveanRootBlueprintIdViewRoute:tae},Pae=ru._addFileChildren(Aae),Fae={LocaleAppsDeriveanRootResourceIdViewRoute:eae},Dae=NM._addFileChildren(Fae),Lae={LocaleAppsDeriveanRootUserIdInventoryRoute:Xoe,LocaleAppsDeriveanRootUserIdViewRoute:Yoe,LocaleAppsDeriveanRootUserIdBuildingListRoute:mae},Mae=ox._addFileChildren(Lae),$ae={LocaleAppsDeriveanRootBlueprintProductionIdDependenciesRoute:vae,LocaleAppsDeriveanRootBlueprintProductionIdRequirementsRoute:yae,LocaleAppsDeriveanRootBlueprintProductionIdResourcesRoute:gae},Bae=ax._addFileChildren($ae),zae={LocaleAppsDeriveanRootEditorRoute:Doe,LocaleAppsDeriveanRootIndexRoute:Aoe,LocaleAppsDeriveanRootBlueprintIdRoute:Pae,LocaleAppsDeriveanRootBlueprintListRoute:Goe,LocaleAppsDeriveanRootDefaultInventoryRoute:Koe,LocaleAppsDeriveanRootResourceIdRoute:Dae,LocaleAppsDeriveanRootResourceListRoute:Qoe,LocaleAppsDeriveanRootTagListRoute:Hoe,LocaleAppsDeriveanRootUserIdRoute:Mae,LocaleAppsDeriveanRootUserListRoute:Voe,LocaleAppsDeriveanRootBlueprintProductionIdRoute:Bae},Wae=ro._addFileChildren(zae),Uae={LocaleAppsDeriveanGameRoute:Iae,LocaleAppsDeriveanMapRoute:jae,LocaleAppsDeriveanRootRoute:Wae,LocaleAppsDeriveanDbSchemaRoute:Uoe,LocaleAppsDeriveanPublicLoginRoute:$oe,LocaleAppsDeriveanPublicLogoutRoute:Moe,LocaleAppsDeriveanPublicRegisterRoute:Loe},Vae=nu._addFileChildren(Uae),Hae={LocaleIndexRoute:joe,LocaleAppsDeriveanRoute:Vae},Qae=QN._addFileChildren(Hae),Kae={IndexRoute:Roe,LocaleRoute:Qae},Gae=yN._addFileChildren(Kae)._addFileTypes(),CM=new Y$({defaultOptions:{queries:{placeholderData:M$}}}),Zae=GB({routeTree:Gae,context:{queryClient:CM,tva:PQ,async session(){return pm.parse(null)},kysely:Rt},defaultPendingComponent:SG,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),_j=document.getElementById("app");tV({limit:{maxRequests:10,perMilliseconds:100}});_j.innerHTML||JG.createRoot(_j).render(p.jsx(iB,{client:CM,children:p.jsx(_4,{router:Zae})}))})();