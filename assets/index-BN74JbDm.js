(async()=>{function aR(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Zv={exports:{}},Rd={},Yv={exports:{}},hr={};var dN;function uR(){if(dN)return hr;dN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function E(Q){return Q===null||typeof Q!="object"?null:(Q=w&&Q[w]||Q["@@iterator"],typeof Q=="function"?Q:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,q={};function A(Q,Se,lt){this.props=Q,this.context=Se,this.refs=q,this.updater=lt||k}A.prototype.isReactComponent={},A.prototype.setState=function(Q,Se){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,Se,"setState")},A.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function D(){}D.prototype=A.prototype;function F(Q,Se,lt){this.props=Q,this.context=Se,this.refs=q,this.updater=lt||k}var $=F.prototype=new D;$.constructor=F,C($,A.prototype),$.isPureReactComponent=!0;var H=Array.isArray,G=Object.prototype.hasOwnProperty,B={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function ie(Q,Se,lt){var at,dt={},mt=null,ft=null;if(Se!=null)for(at in Se.ref!==void 0&&(ft=Se.ref),Se.key!==void 0&&(mt=""+Se.key),Se)G.call(Se,at)&&!Z.hasOwnProperty(at)&&(dt[at]=Se[at]);var yt=arguments.length-2;if(yt===1)dt.children=lt;else if(1<yt){for(var jt=Array(yt),vt=0;vt<yt;vt++)jt[vt]=arguments[vt+2];dt.children=jt}if(Q&&Q.defaultProps)for(at in yt=Q.defaultProps,yt)dt[at]===void 0&&(dt[at]=yt[at]);return{$$typeof:t,type:Q,key:mt,ref:ft,props:dt,_owner:B.current}}function V(Q,Se){return{$$typeof:t,type:Q.type,key:Se,ref:Q.ref,props:Q.props,_owner:Q._owner}}function ne(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function M(Q){var Se={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(lt){return Se[lt]})}var se=/\/+/g;function Y(Q,Se){return typeof Q=="object"&&Q!==null&&Q.key!=null?M(""+Q.key):Se.toString(36)}function me(Q,Se,lt,at,dt){var mt=typeof Q;(mt==="undefined"||mt==="boolean")&&(Q=null);var ft=!1;if(Q===null)ft=!0;else switch(mt){case"string":case"number":ft=!0;break;case"object":switch(Q.$$typeof){case t:case e:ft=!0}}if(ft)return ft=Q,dt=dt(ft),Q=at===""?"."+Y(ft,0):at,H(dt)?(lt="",Q!=null&&(lt=Q.replace(se,"$&/")+"/"),me(dt,Se,lt,"",function(vt){return vt})):dt!=null&&(ne(dt)&&(dt=V(dt,lt+(!dt.key||ft&&ft.key===dt.key?"":(""+dt.key).replace(se,"$&/")+"/")+Q)),Se.push(dt)),1;if(ft=0,at=at===""?".":at+":",H(Q))for(var yt=0;yt<Q.length;yt++){mt=Q[yt];var jt=at+Y(mt,yt);ft+=me(mt,Se,lt,jt,dt)}else if(jt=E(Q),typeof jt=="function")for(Q=jt.call(Q),yt=0;!(mt=Q.next()).done;)mt=mt.value,jt=at+Y(mt,yt++),ft+=me(mt,Se,lt,jt,dt);else if(mt==="object")throw Se=String(Q),Error("Objects are not valid as a React child (found: "+(Se==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":Se)+"). If you meant to render a collection of children, use an array instead.");return ft}function Te(Q,Se,lt){if(Q==null)return Q;var at=[],dt=0;return me(Q,at,"","",function(mt){return Se.call(lt,mt,dt++)}),at}function qe(Q){if(Q._status===-1){var Se=Q._result;Se=Se(),Se.then(function(lt){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=lt)},function(lt){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=lt)}),Q._status===-1&&(Q._status=0,Q._result=Se)}if(Q._status===1)return Q._result.default;throw Q._result}var je={current:null},_e={transition:null},ge={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:_e,ReactCurrentOwner:B};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return hr.Children={map:Te,forEach:function(Q,Se,lt){Te(Q,function(){Se.apply(this,arguments)},lt)},count:function(Q){var Se=0;return Te(Q,function(){Se++}),Se},toArray:function(Q){return Te(Q,function(Se){return Se})||[]},only:function(Q){if(!ne(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},hr.Component=A,hr.Fragment=r,hr.Profiler=s,hr.PureComponent=F,hr.StrictMode=n,hr.Suspense=d,hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,hr.act=Ee,hr.cloneElement=function(Q,Se,lt){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var at=C({},Q.props),dt=Q.key,mt=Q.ref,ft=Q._owner;if(Se!=null){if(Se.ref!==void 0&&(mt=Se.ref,ft=B.current),Se.key!==void 0&&(dt=""+Se.key),Q.type&&Q.type.defaultProps)var yt=Q.type.defaultProps;for(jt in Se)G.call(Se,jt)&&!Z.hasOwnProperty(jt)&&(at[jt]=Se[jt]===void 0&&yt!==void 0?yt[jt]:Se[jt])}var jt=arguments.length-2;if(jt===1)at.children=lt;else if(1<jt){yt=Array(jt);for(var vt=0;vt<jt;vt++)yt[vt]=arguments[vt+2];at.children=yt}return{$$typeof:t,type:Q.type,key:dt,ref:mt,props:at,_owner:ft}},hr.createContext=function(Q){return Q={$$typeof:l,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:o,_context:Q},Q.Consumer=Q},hr.createElement=ie,hr.createFactory=function(Q){var Se=ie.bind(null,Q);return Se.type=Q,Se},hr.createRef=function(){return{current:null}},hr.forwardRef=function(Q){return{$$typeof:u,render:Q}},hr.isValidElement=ne,hr.lazy=function(Q){return{$$typeof:y,_payload:{_status:-1,_result:Q},_init:qe}},hr.memo=function(Q,Se){return{$$typeof:m,type:Q,compare:Se===void 0?null:Se}},hr.startTransition=function(Q){var Se=_e.transition;_e.transition={};try{Q()}finally{_e.transition=Se}},hr.unstable_act=Ee,hr.useCallback=function(Q,Se){return je.current.useCallback(Q,Se)},hr.useContext=function(Q){return je.current.useContext(Q)},hr.useDebugValue=function(){},hr.useDeferredValue=function(Q){return je.current.useDeferredValue(Q)},hr.useEffect=function(Q,Se){return je.current.useEffect(Q,Se)},hr.useId=function(){return je.current.useId()},hr.useImperativeHandle=function(Q,Se,lt){return je.current.useImperativeHandle(Q,Se,lt)},hr.useInsertionEffect=function(Q,Se){return je.current.useInsertionEffect(Q,Se)},hr.useLayoutEffect=function(Q,Se){return je.current.useLayoutEffect(Q,Se)},hr.useMemo=function(Q,Se){return je.current.useMemo(Q,Se)},hr.useReducer=function(Q,Se,lt){return je.current.useReducer(Q,Se,lt)},hr.useRef=function(Q){return je.current.useRef(Q)},hr.useState=function(Q){return je.current.useState(Q)},hr.useSyncExternalStore=function(Q,Se,lt){return je.current.useSyncExternalStore(Q,Se,lt)},hr.useTransition=function(){return je.current.useTransition()},hr.version="18.3.1",hr}var fN;function Vf(){return fN||(fN=1,Yv.exports=uR()),Yv.exports}var hN;function cR(){if(hN)return Rd;hN=1;var t=Vf(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,m){var y,w={},E=null,k=null;m!==void 0&&(E=""+m),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(k=d.ref);for(y in d)n.call(d,y)&&!o.hasOwnProperty(y)&&(w[y]=d[y]);if(u&&u.defaultProps)for(y in d=u.defaultProps,d)w[y]===void 0&&(w[y]=d[y]);return{$$typeof:e,type:u,key:E,ref:k,props:w,_owner:s.current}}return Rd.Fragment=r,Rd.jsx=l,Rd.jsxs=l,Rd}var pN;function dR(){return pN||(pN=1,Zv.exports=cR()),Zv.exports}var g=dR(),Tc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zl=typeof window>"u"||"Deno"in globalThis;function xs(){}function fR(t,e){return typeof t=="function"?t(e):t}function Pb(t){return typeof t=="number"&&t>=0&&t!==1/0}function SI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nc(t,e){return typeof t=="function"?t(e):t}function Ws(t,e){return typeof t=="function"?t(e):t}function mN(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:l,stale:u}=t;if(l){if(n){if(e.queryHash!==Rw(l,e.options))return!1}else if(!pf(e.queryKey,l))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||o&&!o(e))}function gN(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Yl(e.options.mutationKey)!==Yl(o))return!1}else if(!pf(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Rw(t,e){return(e?.queryKeyHashFn||Yl)(t)}function Yl(t){return JSON.stringify(t,(e,r)=>jb(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function pf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!pf(t[r],e[r])):!1}function Aw(t,e){if(t===e)return t;const r=yN(t)&&yN(e);if(r||jb(t)&&jb(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),l=o.length,u=r?[]:{};let d=0;for(let m=0;m<l;m++){const y=r?m:o[m];(!r&&n.includes(y)||r)&&t[y]===void 0&&e[y]===void 0?(u[y]=void 0,d++):(u[y]=Aw(t[y],e[y]),u[y]===t[y]&&t[y]!==void 0&&d++)}return s===l&&d===s?t:u}return e}function Im(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function yN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jb(t){if(!vN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!vN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vN(t){return Object.prototype.toString.call(t)==="[object Object]"}function hR(t){return new Promise(e=>{setTimeout(e,t)})}function Fb(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Aw(t,e):e}function pR(t){return t}function mR(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function gR(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Pw=Symbol();function NI(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Pw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yR=class extends Tc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Zl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},jw=new yR,vR=class extends Tc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Zl&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Cm=new vR;function Lb(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function _R(t){return Math.min(1e3*2**t,3e4)}function EI(t){return(t??"online")==="online"?Cm.isOnline():!0}var kI=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Xv(t){return t instanceof kI}function II(t){let e=!1,r=0,n=!1,s;const o=Lb(),l=q=>{n||(E(new kI(q)),t.abort?.())},u=()=>{e=!0},d=()=>{e=!1},m=()=>jw.isFocused()&&(t.networkMode==="always"||Cm.isOnline())&&t.canRun(),y=()=>EI(t.networkMode)&&t.canRun(),w=q=>{n||(n=!0,t.onSuccess?.(q),s?.(),o.resolve(q))},E=q=>{n||(n=!0,t.onError?.(q),s?.(),o.reject(q))},k=()=>new Promise(q=>{s=A=>{(n||m())&&q(A)},t.onPause?.()}).then(()=>{s=void 0,n||t.onContinue?.()}),C=()=>{if(n)return;let q;const A=r===0?t.initialPromise:void 0;try{q=A??t.fn()}catch(D){q=Promise.reject(D)}Promise.resolve(q).then(w).catch(D=>{if(n)return;const F=t.retry??(Zl?0:3),$=t.retryDelay??_R,H=typeof $=="function"?$(r,D):$,G=F===!0||typeof F=="number"&&r<F||typeof F=="function"&&F(r,D);if(e||!G){E(D);return}r++,t.onFail?.(r,D),hR(H).then(()=>m()?void 0:k()).then(()=>{e?E(D):C()})})};return{promise:o,cancel:l,continue:()=>(s?.(),o),cancelRetry:u,continueRetry:d,canStart:y,start:()=>(y()?C():k().then(C),o)}}function bR(){let t=[],e=0,r=u=>{u()},n=u=>{u()},s=u=>setTimeout(u,0);const o=u=>{e?t.push(u):s(()=>{r(u)})},l=()=>{const u=t;t=[],u.length&&s(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var kn=bR(),CI=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pb(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zl?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},wR=class extends CI{#e;#t;#r;#n;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=xR(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Fb(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(xs).catch(xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ws(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!SI(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},s=()=>{const u=NI(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return n(d),this.#s=!1,this.options.persister?this.options.persister(u,d,this):u(d)},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});const l=u=>{Xv(u)&&u.silent||this.#o({type:"error",error:u}),Xv(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#n=II({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){l(d);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,d)=>{this.#o({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qI(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Xv(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),kn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function qI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var SR=class extends Tc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,s=e.queryHash??Rw(n,e);let o=this.get(s);return o||(o=new wR({cache:this,queryKey:n,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>mN(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>mN(t,r)):e}notify(t){kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},NR=class extends CI{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||TI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=II({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,s)=>{this.#n({type:"failed",failureCount:n,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),kn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function TI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ER=class extends Tc{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new NR({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=Np(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=Np(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Np(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Np(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>gN(e,r))}findAll(t={}){return this.getAll().filter(e=>gN(t,e))}notify(t){kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return kn.batch(()=>Promise.all(t.map(e=>e.continue().catch(xs))))}};function Np(t){return t.options.scope?.id??String(t.mutationId)}function _N(t){return{onFetch:(e,r)=>{const n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const m=async()=>{let y=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},E=NI(e.options,e.fetchOptions),k=async(C,q,A)=>{if(y)return Promise.reject();if(q==null&&C.pages.length)return Promise.resolve(C);const D={queryKey:e.queryKey,pageParam:q,direction:A?"backward":"forward",meta:e.options.meta};w(D);const F=await E(D),{maxPages:$}=e.options,H=A?gR:mR;return{pages:H(C.pages,F,$),pageParams:H(C.pageParams,q,$)}};if(s&&o.length){const C=s==="backward",q=C?kR:bN,A={pages:o,pageParams:l},D=q(n,A);u=await k(A,D,C)}else{const C=t??o.length;do{const q=d===0?l[0]??n.initialPageParam:bN(n,u);if(d>0&&q==null)break;u=await k(u,q),d++}while(d<C)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function bN(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function kR(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var IR=class{#e;#t;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new SR,this.#t=t.mutationCache||new ER,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=jw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Cm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(nc(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,l=fR(e,o);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return kn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;kn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return kn.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=kn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(xs).catch(xs)}invalidateQueries(t,e={}){return kn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none")return Promise.resolve();const r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=kn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(xs)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(xs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(nc(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xs).catch(xs)}fetchInfiniteQuery(t){return t.behavior=_N(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xs).catch(xs)}ensureInfiniteQueryData(t){return t.behavior=_N(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Yl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{pf(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Yl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let r={};return e.forEach(n=>{pf(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Rw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Pw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},CR=class extends Tc{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=Lb(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),wN(this.#t,this.options)?this.#p():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Db(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Db(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ws(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),r._defaulted&&!Im(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&xN(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),s&&(this.#t!==n||Ws(this.options.enabled,this.#t)!==Ws(r.enabled,this.#t)||nc(this.options.staleTime,this.#t)!==nc(r.staleTime,this.#t))&&this.#g();const o=this.#y();s&&(this.#t!==n||Ws(this.options.enabled,this.#t)!==Ws(r.enabled,this.#t)||o!==this.#f)&&this.#v(o)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return TR(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(xs)),e}#g(){this.#b();const t=nc(this.options.staleTime,this.#t);if(Zl||this.#n.isStale||!Pb(t))return;const r=SI(this.#n.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Zl||Ws(this.options.enabled,this.#t)===!1||!Pb(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||jw.isFocused())&&this.#p()},this.#f))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,s=this.#n,o=this.#i,l=this.#s,d=t!==r?t.state:this.#r,{state:m}=t;let y={...m},w=!1,E;if(e._optimisticResults){const Z=this.hasListeners(),ie=!Z&&wN(t,e),V=Z&&xN(t,r,e,n);(ie||V)&&(y={...y,...qI(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:k,errorUpdatedAt:C,status:q}=y;if(e.select&&y.data!==void 0)if(s&&y.data===o?.data&&e.select===this.#u)E=this.#l;else try{this.#u=e.select,E=e.select(y.data),E=Fb(s?.data,E,e),this.#l=E,this.#a=null}catch(Z){this.#a=Z}else E=y.data;if(e.placeholderData!==void 0&&E===void 0&&q==="pending"){let Z;if(s?.isPlaceholderData&&e.placeholderData===l?.placeholderData)Z=s.data;else if(Z=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&Z!==void 0)try{Z=e.select(Z),this.#a=null}catch(ie){this.#a=ie}Z!==void 0&&(q="success",E=Fb(s?.data,Z,e),w=!0)}this.#a&&(k=this.#a,E=this.#l,C=Date.now(),q="error");const A=y.fetchStatus==="fetching",D=q==="pending",F=q==="error",$=D&&A,H=E!==void 0,B={status:q,fetchStatus:y.fetchStatus,isPending:D,isSuccess:q==="success",isError:F,isInitialLoading:$,isLoading:$,data:E,dataUpdatedAt:y.dataUpdatedAt,error:k,errorUpdatedAt:C,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>d.dataUpdateCount||y.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!D,isLoadingError:F&&!H,isPaused:y.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:F&&H,isStale:Fw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const Z=ne=>{B.status==="error"?ne.reject(B.error):B.data!==void 0&&ne.resolve(B.data)},ie=()=>{const ne=this.#o=B.promise=Lb();Z(ne)},V=this.#o;switch(V.status){case"pending":t.queryHash===r.queryHash&&Z(V);break;case"fulfilled":(B.status==="error"||B.data!==V.value)&&ie();break;case"rejected":(B.status!=="error"||B.error!==V.reason)&&ie();break}}return B}updateResult(t){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),Im(r,e))return;this.#n=r;const n={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.#m.size)return!0;const u=new Set(l??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#n).some(d=>{const m=d;return this.#n[m]!==e[m]&&u.has(m)})};t?.listeners!==!1&&s()&&(n.listeners=!0),this.#S({...n,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){kn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function qR(t,e){return Ws(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function wN(t,e){return qR(t,e)||t.state.data!==void 0&&Db(t,e,e.refetchOnMount)}function Db(t,e,r){if(Ws(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Fw(t,e)}return!1}function xN(t,e,r,n){return(t!==e||Ws(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Fw(t,r)}function Fw(t,e){return Ws(e.enabled,t)!==!1&&t.isStaleByTime(nc(e.staleTime,t))}function TR(t,e){return!Im(t.getCurrentResult(),e)}var OR=class extends Tc{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Im(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Yl(r.mutationKey)!==Yl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??TI();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){kn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},K=Vf();const Tr=qc(K),RR=aR({__proto__:null,default:Tr},[K]);var OI=K.createContext(void 0),dl=t=>{const e=K.useContext(OI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},AR=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(OI.Provider,{value:t,children:e})),RI=K.createContext(!1),PR=()=>K.useContext(RI);RI.Provider;function jR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var FR=K.createContext(jR()),LR=()=>K.useContext(FR);function AI(t,e){return typeof t=="function"?t(...e):!!t}function Mb(){}var DR=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},MR=t=>{K.useEffect(()=>{t.clearReset()},[t])},BR=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&AI(r,[t.error,n]),$R=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},WR=(t,e)=>t.isLoading&&t.isFetching&&!e,zR=(t,e)=>t?.suspense&&e.isPending,SN=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function UR(t,e,r){const n=dl(),s=PR(),o=LR(),l=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=s?"isRestoring":"optimistic",$R(l),DR(l,o),MR(o);const u=!n.getQueryCache().get(l.queryHash),[d]=K.useState(()=>new e(n,l)),m=d.getOptimisticResult(l);if(K.useSyncExternalStore(K.useCallback(y=>{const w=s?Mb:d.subscribe(kn.batchCalls(y));return d.updateResult(),w},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),K.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),zR(l,m))throw SN(l,d,o);if(BR({result:m,errorResetBoundary:o,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Zl&&WR(m,s)&&(u?SN(l,d,o):n.getQueryCache().get(l.queryHash)?.promise)?.catch(Mb).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?m:d.trackResult(m)}function Lw(t,e){return UR(t,CR)}function NN(t,e){return t.findAll(e.filters).map(r=>e.select?e.select(r):r.state)}function VR(t={},e){const r=dl().getMutationCache(),n=K.useRef(t),s=K.useRef(null);return s.current||(s.current=NN(r,t)),K.useEffect(()=>{n.current=t}),K.useSyncExternalStore(K.useCallback(o=>r.subscribe(()=>{const l=Aw(s.current,NN(r,n.current));s.current!==l&&(s.current=l,kn.schedule(o))}),[r]),()=>s.current,()=>s.current)}function ko(t,e){const r=dl(),[n]=K.useState(()=>new OR(r,t));K.useEffect(()=>{n.setOptions(t)},[n,t]);const s=K.useSyncExternalStore(K.useCallback(l=>n.subscribe(kn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=K.useCallback((l,u)=>{n.mutate(l,u).catch(Mb)},[n]);if(s.error&&AI(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const EN="popstate",kN="beforeunload";function PI(t){let e=t.getLocation();const r=new Set,n=l=>{e=t.getLocation(),r.forEach(u=>u({location:e,action:l}))},s=()=>{e=t.getLocation(),r.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},o=async({task:l,navigateOpts:u,...d})=>{var m,y;if(u?.ignoreBlocker??!1){l();return}const E=((m=t.getBlockers)==null?void 0:m.call(t))??[],k=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&E.length&&k)for(const C of E){const q=mf(d.path,d.state);if(await C.blockerFn({currentLocation:e,nextLocation:q,action:d.type})){(y=t.onBlocked)==null||y.call(t,s);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:r,subscribe:l=>(r.add(l),()=>{r.delete(l)}),push:(l,u,d)=>{u=IN(u),o({task:()=>{t.pushState(l,u),n({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:u})},replace:(l,u,d)=>{u=IN(u),o({task:()=>{t.replaceState(l,u),n({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:u})},go:(l,u)=>{o({task:()=>{t.go(l),n({type:"GO",index:l})},navigateOpts:u,type:"GO"})},back:l=>{o({task:()=>{t.back(l?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{t.forward(l?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var u;if(!t.setBlockers)return()=>{};const d=((u=t.getBlockers)==null?void 0:u.call(t))??[];return t.setBlockers([...d,l]),()=>{var m,y;const w=((m=t.getBlockers)==null?void 0:m.call(t))??[];(y=t.setBlockers)==null||y.call(t,w.filter(E=>E!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:n}}function IN(t){return t||(t={}),{...t,key:KR()}}function HR(t){const e=typeof document<"u"?window:void 0,r=e.history.pushState,n=e.history.replaceState;let s=[];const o=()=>s,l=Z=>s=Z,u=Z=>Z,d=()=>mf(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=d(),y,w=!1,E=!1,k=!1;const C=()=>m;let q,A;const D=()=>{q&&(B._ignoreSubscribers=!0,(q.isPush?e.history.pushState:e.history.replaceState)(q.state,"",q.href),B._ignoreSubscribers=!1,q=void 0,A=void 0,y=void 0)},F=(Z,ie,V)=>{const ne=u(ie);A||(y=m),m=mf(ie,V),q={href:ne,state:V,isPush:q?.isPush||Z==="push"},A||(A=Promise.resolve().then(()=>D()))},$=()=>{m=d(),B.notify({type:"POP"})},H=async()=>{if(w){w=!1;return}if(E)E=!1;else{const Z=o();if(typeof document<"u"&&Z.length)for(const ie of Z){const V=d();if(await ie.blockerFn({currentLocation:m,nextLocation:V,action:"POP"})){w=!0,e.history.go(1),B.notify({type:"POP"});return}}}m=d(),B.notify({type:"POP"})},G=Z=>{if(k){k=!1;return}let ie=!1;const V=o();if(typeof document<"u"&&V.length)for(const ne of V){const M=ne.enableBeforeUnload??!0;if(M===!0){ie=!0;break}if(typeof M=="function"&&M()===!0){ie=!0;break}}if(ie)return Z.preventDefault(),Z.returnValue=""},B=PI({getLocation:C,getLength:()=>e.history.length,pushState:(Z,ie)=>F("push",Z,ie),replaceState:(Z,ie)=>F("replace",Z,ie),back:Z=>(Z&&(E=!0),k=!0,e.history.back()),forward:Z=>{Z&&(E=!0),k=!0,e.history.forward()},go:Z=>e.history.go(Z),createHref:Z=>u(Z),flush:D,destroy:()=>{e.history.pushState=r,e.history.replaceState=n,e.removeEventListener(kN,G,{capture:!0}),e.removeEventListener(EN,H)},onBlocked:Z=>{y&&m!==y&&(m=y,Z())},getBlockers:o,setBlockers:l});return e.addEventListener(kN,G,{capture:!0}),e.addEventListener(EN,H),e.history.pushState=function(...Z){const ie=r.apply(e.history,Z);return B._ignoreSubscribers||$(),ie},e.history.replaceState=function(...Z){const ie=n.apply(e.history,Z);return B._ignoreSubscribers||$(),ie},B}function QR(t={initialEntries:["/"]}){const e=t.initialEntries;let r=t.initialIndex??e.length-1;const n=e.map(()=>({}));return PI({getLocation:()=>mf(e[r],n[r]),getLength:()=>e.length,pushState:(o,l)=>{r<e.length-1&&(e.splice(r+1),n.splice(r+1)),n.push(l),e.push(o),r=Math.max(e.length-1,0)},replaceState:(o,l)=>{n[r]=l,e[r]=o},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,e.length-1)},go:o=>{r=Math.min(Math.max(r+o,0),e.length-1)},createHref:o=>o})}function mf(t,e){const r=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:t.length),hash:r>-1?t.substring(r):"",search:n>-1?t.slice(n,r===-1?void 0:r):"",state:e||{}}}function KR(){return(Math.random()+1).toString(36).substring(7)}var GR="Invariant failed";function es(t,e){if(!t)throw new Error(GR)}const e_=K.createContext(null);function jI(){return typeof document>"u"?e_:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=e_,e_)}function Mi(t){const e=K.useContext(jI());return t?.warn,e}var t_={exports:{}},r_={},n_={exports:{}},i_={};var CN;function JR(){if(CN)return i_;CN=1;var t=Vf();function e(w,E){return w===E&&(w!==0||1/w===1/E)||w!==w&&E!==E}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(w,E){var k=E(),C=n({inst:{value:k,getSnapshot:E}}),q=C[0].inst,A=C[1];return o(function(){q.value=k,q.getSnapshot=E,d(q)&&A({inst:q})},[w,k,E]),s(function(){return d(q)&&A({inst:q}),w(function(){d(q)&&A({inst:q})})},[w]),l(k),k}function d(w){var E=w.getSnapshot;w=w.value;try{var k=E();return!r(w,k)}catch{return!0}}function m(w,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return i_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,i_}var qN;function ZR(){return qN||(qN=1,n_.exports=JR()),n_.exports}var TN;function YR(){if(TN)return r_;TN=1;var t=Vf(),e=ZR();function r(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return r_.useSyncExternalStoreWithSelector=function(m,y,w,E,k){var C=o(null);if(C.current===null){var q={hasValue:!1,value:null};C.current=q}else q=C.current;C=u(function(){function D(B){if(!F){if(F=!0,$=B,B=E(B),k!==void 0&&q.hasValue){var Z=q.value;if(k(Z,B))return H=Z}return H=B}if(Z=H,n($,B))return Z;var ie=E(B);return k!==void 0&&k(Z,ie)?($=B,Z):($=B,H=ie)}var F=!1,$,H,G=w===void 0?null:w;return[function(){return D(y())},G===null?void 0:function(){return D(G())}]},[y,w,E,k]);var A=s(m,C[0],C[1]);return l(function(){q.hasValue=!0,q.value=A},[A]),d(A),A},r_}var ON;function XR(){return ON||(ON=1,t_.exports=YR()),t_.exports}var eA=XR();class tA{constructor(e,r){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=n=>{var s,o;this.listeners.add(n);const l=(o=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:o.call(s,n,this);return()=>{this.listeners.delete(n),l?.()}},this.setState=n=>{var s,o,l;const u=this.state;this.state=(s=this.options)!=null&&s.updateFn?this.options.updateFn(u)(n):n(u),(l=(o=this.options)==null?void 0:o.onUpdate)==null||l.call(o),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(s=>{this._flushing===n&&s()})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=r}}function rA(t,e=r=>r){return eA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,nA)}function nA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,s]of t)if(!e.has(n)||!Object.is(s,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}const Zi="__root__";function iA(t,e){let r,n,s,o="";for(r in t)if((s=t[r])!==void 0)if(Array.isArray(s))for(n=0;n<s.length;n++)o&&(o+="&"),o+=encodeURIComponent(r)+"="+encodeURIComponent(s[n]);else o&&(o+="&"),o+=encodeURIComponent(r)+"="+encodeURIComponent(s);return""+o}function RN(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function sA(t,e){let r,n;const s={},o=t.split("&");for(;r=o.shift();){const l=r.indexOf("=");if(l!==-1){n=r.slice(0,l),n=decodeURIComponent(n);const u=r.slice(l+1);s[n]!==void 0?s[n]=[].concat(s[n],RN(u)):s[n]=RN(u)}else n=r,n=decodeURIComponent(n),s[n]=""}return s}const oA=lA(JSON.parse),aA=uA(JSON.stringify,JSON.parse);function lA(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const r=sA(e);for(const n in r){const s=r[n];if(typeof s=="string")try{r[n]=t(s)}catch{}}return r}}function uA(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(o=>{const l=n[o];typeof l>"u"||l===void 0?delete n[o]:n[o]=r(l)});const s=iA(n).toString();return s?`?${s}`:""}}function ef(t){return t[t.length-1]}function cA(t){return typeof t=="function"}function $l(t,e){return cA(t)?t(e):t}function Hp(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function bs(t,e){if(t===e)return t;const r=e,n=PN(t)&&PN(r);if(n||vc(t)&&vc(r)){const s=n?t:Object.keys(t),o=s.length,l=n?r:Object.keys(r),u=l.length,d=n?[]:{};let m=0;for(let y=0;y<u;y++){const w=n?y:l[y];(!n&&s.includes(w)||n)&&t[w]===void 0&&r[w]===void 0?(d[w]=void 0,m++):(d[w]=bs(t[w],r[w]),d[w]===t[w]&&t[w]!==void 0&&m++)}return o===u&&m===o?t:d}return r}function vc(t){if(!AN(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!AN(r)||!r.hasOwnProperty("isPrototypeOf"))}function AN(t){return Object.prototype.toString.call(t)==="[object Object]"}function PN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jN(t,e){let r=Object.keys(t);return e&&(r=r.filter(n=>t[n]!==void 0)),r}function ic(t,e,r){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(vc(t)&&vc(e)){const n=r?.ignoreUndefined??!0,s=jN(t,n),o=jN(e,n);return!r?.partial&&s.length!==o.length?!1:o.every(l=>ic(t[l],e[l],r))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((n,s)=>!ic(n,e[s],r)):!1}const $d=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Uu(t){let e,r;const n=new Promise((s,o)=>{e=s,r=o});return n.status="pending",n.resolve=s=>{n.status="resolved",n.value=s,e(s),t?.(s)},n.reject=s=>{n.status="rejected",r(s)},n}function s_(t){const e=K.useRef({value:t,prev:null}),r=e.current.value;return t!==r&&(e.current={value:t,prev:r}),e.current.prev}function dA(t,e,r={},n={}){const s=K.useRef(typeof IntersectionObserver=="function"),o=K.useRef(null);return K.useEffect(()=>{if(!(!t.current||!s.current||n.disabled))return o.current=new IntersectionObserver(([l])=>{e(l)},r),o.current.observe(t.current),()=>{var l;(l=o.current)==null||l.disconnect()}},[e,r,n.disabled,t]),o.current}function fA(t){const e=K.useRef(null);return K.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function Yo(t){return _g(t.filter(e=>e!==void 0).join("/"))}function _g(t){return t.replace(/\/{2,}/g,"/")}function Dw(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Wl(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function hA(t){return Wl(Dw(t))}function qm(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function pA(t,e,r){return qm(t,r)===qm(e,r)}function mA({basepath:t,base:e,to:r,trailingSlash:n="never",caseSensitive:s}){var o,l;e=Tm(t,e,s),r=Tm(t,r,s);let u=_c(e);const d=_c(r);u.length>1&&((o=ef(u))==null?void 0:o.value)==="/"&&u.pop(),d.forEach((y,w)=>{y.value==="/"?w?w===d.length-1&&u.push(y):u=[y]:y.value===".."?u.pop():y.value==="."||u.push(y)}),u.length>1&&(((l=ef(u))==null?void 0:l.value)==="/"?n==="never"&&u.pop():n==="always"&&u.push({type:"pathname",value:"/"}));const m=Yo([t,...u.map(y=>y.value)]);return _g(m)}function _c(t){if(!t)return[];t=_g(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const r=t.split("/").filter(Boolean);return e.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Ep({path:t,params:e,leaveWildcards:r,leaveParams:n,decodeCharMap:s}){const o=_c(t),l={};for(const[u,d]of Object.entries(e)){const m=typeof d=="string";["*","_splat"].includes(u)?l[u]=m?encodeURI(d):d:l[u]=m?gA(d,s):d}return Yo(o.map(u=>{if(u.type==="wildcard"){const d=l._splat;return r?`${u.value}${d??""}`:d}if(u.type==="param"){if(n){const d=l[u.value];return`${u.value}${d??""}`}return l[u.value.substring(1)]??"undefined"}return u.value}))}function gA(t,e){let r=encodeURIComponent(t);if(e)for(const[n,s]of e)r=r.replaceAll(n,s);return r}function kp(t,e,r){const n=yA(t,e,r);if(!(r.to&&!n))return n??{}}function Tm(t,e,r=!1){const n=r?t:t.toLowerCase(),s=r?e:e.toLowerCase();switch(!0){case n==="/":return e;case s===n:return"";case e.length<t.length:return e;case s[n.length]!=="/":return e;case s.startsWith(n):return e.slice(t.length);default:return e}}function yA(t,e,r){if(t!=="/"&&!e.startsWith(t))return;e=Tm(t,e,r.caseSensitive);const n=Tm(t,`${r.to??"$"}`,r.caseSensitive),s=_c(e),o=_c(n);e.startsWith("/")||s.unshift({type:"pathname",value:"/"}),n.startsWith("/")||o.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let d=0;d<Math.max(s.length,o.length);d++){const m=s[d],y=o[d],w=d>=s.length-1,E=d>=o.length-1;if(y){if(y.type==="wildcard"){const k=decodeURI(Yo(s.slice(d).map(C=>C.value)));return l["*"]=k,l._splat=k,!0}if(y.type==="pathname"){if(y.value==="/"&&!m?.value)return!0;if(m){if(r.caseSensitive){if(y.value!==m.value)return!1}else if(y.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(y.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[y.value.substring(1)]=decodeURIComponent(m.value))}}if(!w&&E)return l["**"]=Yo(s.slice(d+1).map(k=>k.value)),!!r.fuzzy&&y?.value!=="/"}return!0})()?l:void 0}function bg(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function jl(t){return!!t?.isRedirect}function o_(t){return!!t?.isRedirect&&t.href}function Mw(t){const e=t.errorComponent??wg;return g.jsx(vA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:r,reset:n})=>r?K.createElement(e,{error:r,reset:n}):t.children})}class vA extends K.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,r){this.props.onCatch&&this.props.onCatch(e,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function wg({error:t}){const[e,r]=K.useState(!1);return g.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[g.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),g.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:e?"Hide Error":"Show Error"})]}),g.jsx("div",{style:{height:".25rem"}}),e?g.jsx("div",{children:g.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?g.jsx("code",{children:t.message}):null})}):null]})}function _i(t){const e=Mi({warn:t?.router===void 0}),r=t?.router||e,n=K.useRef();return rA(r.__store,s=>{if(t?.select){if(t.structuralSharing??r.options.defaultStructuralSharing){const o=bs(n.current,t.select(s));return n.current=o,o}return t.select(s)}return s})}function $s(t){return!!t?.isNotFound}function _A(t){const e=_i({select:r=>`not-found-${r.location.pathname}-${r.status}`});return g.jsx(Mw,{getResetKey:()=>e,onCatch:(r,n)=>{var s;if($s(r))(s=t.onCatch)==null||s.call(t,r,n);else throw r},errorComponent:({error:r})=>{var n;if($s(r))return(n=t.fallback)==null?void 0:n.call(t,r);throw r},children:t.children})}function bA(){return g.jsx("p",{children:"Not Found"})}const wA={stringify:t=>JSON.stringify(t,function(r,n){const s=this[r],o=FN.find(l=>l.stringifyCondition(s));return o?o.stringify(s):n}),parse:t=>JSON.parse(t,function(r,n){const s=this[r],o=FN.find(l=>l.parseCondition(s));return o?o.parse(s):n})},FN=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>vc(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>vc(t)&&t.$undefined==="",parse:()=>{}}],FI=["component","errorComponent","pendingComponent","notFoundComponent"];function xA(t){var e;for(const r of FI)if((e=t.options[r])!=null&&e.preload)return!0;return!1}function a_(t,e){if(t==null)return{};if("~standard"in t){const r=t["~standard"].validate(e);if(r instanceof Promise)throw new Bb("Async validation not supported");if(r.issues)throw new Bb(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function SA(t){return new NA(t)}class NA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||r.basepath&&r.basepath!==s.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${hA(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?QR({initialEntries:[this.basepath||"/"]}):HR()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new tA(kA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=l=>{l.forEach((u,d)=>{u.init({originalIndex:d,defaultSsr:this.options.defaultSsr});const m=this.routesById[u.id];if(es(!m,`Duplicate routes found with id: ${String(u.id)}`),this.routesById[u.id]=u,!u.isRoot&&u.path){const w=Wl(u.fullPath);(!this.routesByPath[w]||u.fullPath.endsWith("/"))&&(this.routesByPath[w]=u)}const y=u.children;y?.length&&n(y)})};n([this.routeTree]);const s=[];Object.values(this.routesById).forEach((l,u)=>{var d;if(l.isRoot||!l.path)return;const m=Dw(l.fullPath),y=_c(m);for(;y.length>1&&((d=y[0])==null?void 0:d.value)==="/";)y.shift();const w=y.map(E=>E.value==="/"?.75:E.type==="param"?.5:E.type==="wildcard"?.25:1);s.push({child:l,trimmed:m,parsed:y,index:u,scores:w})}),this.flatRoutes=s.sort((l,u)=>{const d=Math.min(l.scores.length,u.scores.length);for(let m=0;m<d;m++)if(l.scores[m]!==u.scores[m])return u.scores[m]-l.scores[m];if(l.scores.length!==u.scores.length)return u.scores.length-l.scores.length;for(let m=0;m<d;m++)if(l.parsed[m].value!==u.parsed[m].value)return l.parsed[m].value>u.parsed[m].value?1:-1;return l.index-u.index}).map((l,u)=>(l.child.rank=u,l.child))},this.subscribe=(r,n)=>{const s={eventType:r,fn:n};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const s=({pathname:d,search:m,hash:y,state:w})=>{const E=this.options.parseSearch(m),k=this.options.stringifySearch(E);return{pathname:d,searchStr:k,search:bs(r?.search,E),hash:y.split("#").reverse()[0]??"",href:`${d}${k}${y}`,state:bs(r?.state,w)}},o=s(n??this.history.location),{__tempLocation:l,__tempKey:u}=o.state;if(l&&(!u||u===this.tempLocationKey)){const d=s(l);return d.state.key=o.state.key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(r,n)=>mA({basepath:this.basepath,base:r,to:_g(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let s={};const o=Wl(r.pathname),l=y=>kp(this.basepath,o,{to:y.fullPath,caseSensitive:y.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let u=n?.to!==void 0?this.routesByPath[n.to]:void 0;u?s=l(u):u=this.flatRoutes.find(y=>{const w=l(y);return w?(s=w,!0):!1});let d=u||this.routesById[Zi];const m=[d];for(;d.parentRoute;)d=d.parentRoute,m.unshift(d);return{matchedRoutes:m,routeParams:s,foundRoute:u}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(o={},l)=>{var u,d,m,y,w,E;const k=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,C=o.from!=null?k.find(M=>kp(this.basepath,Wl(M.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,q=C?.pathname||this.latestLocation.pathname;es(o.from==null||C!=null,"Could not find match for from: "+o.from);const A=(u=this.state.pendingMatches)!=null&&u.length?(d=ef(this.state.pendingMatches))==null?void 0:d.search:((m=ef(k))==null?void 0:m.search)||this.latestLocation.search,D=l?.matchedRoutes.filter(M=>k.find(se=>se.routeId===M.id));let F;if(o.to)F=this.resolvePathWithBase(q,`${o.to}`);else{const M=this.routesById[(y=D?.find(se=>{const Y=Ep({path:se.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return Yo([this.basepath,Y])===q}))==null?void 0:y.id];F=this.resolvePathWithBase(q,M?.to??q)}const $={...(w=ef(k))==null?void 0:w.params};let H=(o.params??!0)===!0?$:{...$,...$l(o.params,$)};Object.keys(H).length>0&&l?.matchedRoutes.map(M=>{var se;return((se=M.options.params)==null?void 0:se.stringify)??M.options.stringifyParams}).filter(Boolean).forEach(M=>{H={...H,...M(H)}}),F=Ep({path:F,params:H??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let G=A;if(r._includeValidateSearch&&((E=this.options.search)!=null&&E.strict)){let M={};l?.matchedRoutes.forEach(se=>{try{se.options.validateSearch&&(M={...M,...a_(se.options.validateSearch,{...M,...G})??{}})}catch{}}),G=M}G=(M=>{const se=l?.matchedRoutes.reduce((Te,qe)=>{var je;const _e=[];if("search"in qe.options)(je=qe.options.search)!=null&&je.middlewares&&_e.push(...qe.options.search.middlewares);else if(qe.options.preSearchFilters||qe.options.postSearchFilters){const ge=({search:Ee,next:Q})=>{let Se=Ee;"preSearchFilters"in qe.options&&qe.options.preSearchFilters&&(Se=qe.options.preSearchFilters.reduce((at,dt)=>dt(at),Ee));const lt=Q(Se);return"postSearchFilters"in qe.options&&qe.options.postSearchFilters?qe.options.postSearchFilters.reduce((at,dt)=>dt(at),lt):lt};_e.push(ge)}if(r._includeValidateSearch&&qe.options.validateSearch){const ge=({search:Ee,next:Q})=>{try{const Se=Q(Ee);return{...Se,...a_(qe.options.validateSearch,Se)??{}}}catch{}};_e.push(ge)}return Te.concat(_e)},[])??[],Y=({search:Te})=>o.search?o.search===!0?Te:$l(o.search,Te):{};se.push(Y);const me=(Te,qe)=>{if(Te>=se.length)return qe;const je=se[Te];return je({search:qe,next:ge=>me(Te+1,ge)})};return me(0,M)})(G),G=bs(A,G);const Z=this.options.stringifySearch(G),ie=o.hash===!0?this.latestLocation.hash:o.hash?$l(o.hash,this.latestLocation.hash):void 0,V=ie?`#${ie}`:"";let ne=o.state===!0?this.latestLocation.state:o.state?$l(o.state,this.latestLocation.state):{};return ne=bs(this.latestLocation.state,ne),{pathname:F,search:G,searchStr:Z,state:ne,hash:ie??"",href:`${F}${Z}${V}`,unmaskOnReload:o.unmaskOnReload}},s=(o={},l)=>{var u;const d=n(o);let m=l?n(l):void 0;if(!m){let E={};const k=(u=this.options.routeMasks)==null?void 0:u.find(C=>{const q=kp(this.basepath,d.pathname,{to:C.from,caseSensitive:!1,fuzzy:!1});return q?(E=q,!0):!1});if(k){const{from:C,...q}=k;l={...Hp(r,["from"]),...q,params:E},m=n(l)}}const y=this.getMatchedRoutes(d,o),w=n(o,y);if(m){const E=this.getMatchedRoutes(m,l),k=n(l,E);w.maskedLocation=k}return w};return r.mask?s(r,{...Hp(r,["from"]),...r.mask}):s(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...s})=>{const o=()=>{s.state.key=this.latestLocation.state.key;const d=ic(s.state,this.latestLocation.state);return delete s.state.key,d},l=this.latestLocation.href===s.href,u=this.commitLocationPromise;if(this.commitLocationPromise=Uu(()=>{u?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:m,...y}=s;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[s.replace?"replace":"push"](y.href,y.state,{ignoreBlocker:n})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:l,href:u,...d}={})=>{if(u){const y=mf(u,{});d.to=y.pathname,d.search=this.options.parseSearch(y.search),d.hash=y.hash.slice(1)}const m=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:o,replace:r,resetScroll:n,hashScrollIntoView:s,ignoreBlocker:l})},this.navigate=({to:r,reloadDocument:n,href:s,...o})=>{if(n){s||(s=this.buildLocation({to:r,...o}).href),o.replace?window.location.replace(s):window.location.href=s;return}return this.buildAndCommitLocation({...o,href:s,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const u=this.latestLocation,d=this.state.resolvedLocation,m=d.href!==u.href,y=d.pathname!==u.pathname;this.cancelMatches();let w;this.__store.batch(()=>{w=this.matchRoutes(u),this.__store.setState(E=>({...E,status:"pending",isLoading:!0,location:u,pendingMatches:w,cachedMatches:E.cachedMatches.filter(k=>!w.find(C=>C.id===k.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:u,pathChanged:y,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:u,pathChanged:y,hrefChanged:m}),await this.loadMatches({matches:w,location:u,onReady:async()=>{this.startViewTransition(async()=>{let E,k,C;this.__store.batch(()=>{this.__store.setState(q=>{const A=q.matches,D=q.pendingMatches||q.matches;return E=A.filter(F=>!D.find($=>$.id===F.id)),k=D.filter(F=>!A.find($=>$.id===F.id)),C=A.filter(F=>D.find($=>$.id===F.id)),{...q,isLoading:!1,loadedAt:Date.now(),matches:D,pendingMatches:void 0,cachedMatches:[...q.cachedMatches,...E.filter(F=>F.status!=="error")]}}),this.clearExpiredCache()}),[[E,"onLeave"],[k,"onEnter"],[C,"onStay"]].forEach(([q,A])=>{q.forEach(D=>{var F,$;($=(F=this.looseRoutesById[D.routeId].options)[A])==null||$.call(F,D)})})})}})}catch(u){o_(u)?(r=u,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):$s(u)&&(n=u),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:n?404:d.matches.some(m=>m.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;typeof n=="object"&&this.isViewTransitionTypesSupported?s={update:r,types:n.types}:s=r,document.startViewTransition(s)}else r()},this.updateMatch=(r,n)=>{var s;let o;const l=(s=this.state.pendingMatches)==null?void 0:s.find(y=>y.id===r),u=this.state.matches.find(y=>y.id===r),d=this.state.cachedMatches.find(y=>y.id===r),m=l?"pendingMatches":u?"matches":d?"cachedMatches":"";return m&&this.__store.setState(y=>{var w;return{...y,[m]:(w=y[m])==null?void 0:w.map(E=>E.id===r?o=n(E):E)}}),o},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:s,onReady:o,updateMatch:l=this.updateMatch})=>{let u,d=!1;const m=async()=>{d||(d=!0,await o?.())},y=E=>!!(s&&!this.state.matches.find(k=>k.id===E));!this.isServer&&!this.state.matches.length&&m();const w=(E,k)=>{var C,q,A;if(o_(k)&&!k.reloadDocument)throw k;if(jl(k)||$s(k)){if(l(E.id,D=>({...D,status:jl(k)?"redirected":$s(k)?"notFound":"error",isFetching:!1,error:k,beforeLoadPromise:void 0,loaderPromise:void 0})),k.routeId||(k.routeId=E.routeId),(C=E.beforeLoadPromise)==null||C.resolve(),(q=E.loaderPromise)==null||q.resolve(),(A=E.loadPromise)==null||A.resolve(),jl(k))throw d=!0,k=this.resolveRedirect({...k,_fromLocation:r}),k;if($s(k))throw this._handleNotFound(n,k,{updateMatch:l}),k}};try{await new Promise((E,k)=>{(async()=>{var C,q,A;try{const D=(H,G,B)=>{var Z,ie;const{id:V,routeId:ne}=n[H],M=this.looseRoutesById[ne];if(G instanceof Promise)throw G;G.routerCode=B,u=u??H,w(this.getMatch(V),G);try{(ie=(Z=M.options).onError)==null||ie.call(Z,G)}catch(se){G=se,w(this.getMatch(V),G)}l(V,se=>{var Y,me;return(Y=se.beforeLoadPromise)==null||Y.resolve(),(me=se.loadPromise)==null||me.resolve(),{...se,error:G,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[H,{id:G,routeId:B}]of n.entries()){const Z=this.getMatch(G),ie=(C=n[H-1])==null?void 0:C.id,V=this.looseRoutesById[B],ne=V.options.pendingMs??this.options.defaultPendingMs,M=!!(o&&!this.isServer&&!y(G)&&(V.options.loader||V.options.beforeLoad)&&typeof ne=="number"&&ne!==1/0&&(V.options.pendingComponent??this.options.defaultPendingComponent));let se=!0;if((Z.beforeLoadPromise||Z.loaderPromise)&&(M&&setTimeout(()=>{try{m()}catch{}},ne),await Z.beforeLoadPromise,se=this.getMatch(G).status!=="success"),se){try{l(G,dt=>({...dt,loadPromise:Uu(()=>{var mt;(mt=dt.loadPromise)==null||mt.resolve()}),beforeLoadPromise:Uu()}));const Y=new AbortController;let me;M&&(me=setTimeout(()=>{try{m()}catch{}},ne));const{paramsError:Te,searchError:qe}=this.getMatch(G);Te&&D(H,Te,"PARSE_PARAMS"),qe&&D(H,qe,"VALIDATE_SEARCH");const je=()=>ie?this.getMatch(ie).context:this.options.context??{};l(G,dt=>({...dt,isFetching:"beforeLoad",fetchCount:dt.fetchCount+1,abortController:Y,pendingTimeout:me,context:{...je(),...dt.__routeContext,...dt.__beforeLoadContext}}));const{search:_e,params:ge,context:Ee,cause:Q}=this.getMatch(G),Se=y(G),lt={search:_e,abortController:Y,params:ge,preload:Se,context:Ee,location:r,navigate:dt=>this.navigate({...dt,_fromLocation:r}),buildLocation:this.buildLocation,cause:Se?"preload":Q,matches:n};let at=await ((A=(q=V.options).beforeLoad)==null?void 0:A.call(q,lt))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(G)})),(jl(at)||$s(at))&&D(H,at,"BEFORE_LOAD"),l(G,dt=>({...dt,__beforeLoadContext:at,context:{...je(),...dt.__routeContext,...at},abortController:Y}))}catch(Y){D(H,Y,"BEFORE_LOAD")}l(G,Y=>{var me;return(me=Y.beforeLoadPromise)==null||me.resolve(),{...Y,beforeLoadPromise:void 0,isFetching:!1}})}}const F=n.slice(0,u),$=[];F.forEach(({id:H,routeId:G},B)=>{$.push((async()=>{const{loaderPromise:Z}=this.getMatch(H);let ie=!1;if(Z)await Z;else{const V=$[B-1],ne=this.looseRoutesById[G],M=()=>{const{params:Se,loaderDeps:lt,abortController:at,context:dt,cause:mt}=this.getMatch(H),ft=y(H);return{params:Se,deps:lt,preload:!!ft,parentMatchPromise:V,abortController:at,context:dt,location:r,navigate:yt=>this.navigate({...yt,_fromLocation:r}),cause:ft?"preload":mt,route:ne}},se=Date.now()-this.getMatch(H).updatedAt,Y=y(H),me=Y?ne.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ne.options.staleTime??this.options.defaultStaleTime??0,Te=ne.options.shouldReload,qe=typeof Te=="function"?Te(M()):Te;l(H,Se=>({...Se,loaderPromise:Uu(),preload:!!Y&&!this.state.matches.find(lt=>lt.id===H)}));const je=async()=>{var Se,lt,at,dt,mt,ft,yt,jt;try{const vt=async()=>{const gt=this.getMatch(H);gt.minPendingPromise&&await gt.minPendingPromise};try{this.loadRouteChunk(ne),l(H,mr=>({...mr,isFetching:"loader"}));let gt=await ((lt=(Se=ne.options).loader)==null?void 0:lt.call(Se,M()));this.serializeLoaderData&&(gt=this.serializeLoaderData("loaderData",gt,{router:this,match:this.getMatch(H)})),w(this.getMatch(H),gt),await ne._lazyPromise,await vt();const Ot=(dt=(at=ne.options).head)==null?void 0:dt.call(at,{matches:n,match:this.getMatch(H),params:this.getMatch(H).params,loaderData:gt}),qt=Ot?.meta,er=Ot?.links,Zt=Ot?.scripts,sr=(ft=(mt=ne.options).headers)==null?void 0:ft.call(mt,{loaderData:gt});l(H,mr=>({...mr,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:gt,meta:qt,links:er,scripts:Zt,headers:sr}))}catch(gt){let Ot=gt;await vt(),w(this.getMatch(H),gt);try{(jt=(yt=ne.options).onError)==null||jt.call(yt,gt)}catch(qt){Ot=qt,w(this.getMatch(H),qt)}l(H,qt=>({...qt,error:Ot,status:"error",isFetching:!1}))}await ne._componentsPromise}catch(vt){l(H,gt=>({...gt,loaderPromise:void 0})),w(this.getMatch(H),vt)}},{status:_e,invalid:ge}=this.getMatch(H);ie=_e==="success"&&(ge||(qe??se>me)),Y&&ne.options.preload===!1||(ie?(async()=>{try{await je()}catch(Se){o_(Se)&&await this.navigate(Se)}})():_e!=="success"&&await je());const{loaderPromise:Ee,loadPromise:Q}=this.getMatch(H);Ee?.resolve(),Q?.resolve()}return l(H,V=>({...V,isFetching:ie?V.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(H)})())}),await Promise.all($),E()}catch(D){k(D)}})()}),await m()}catch(E){if(jl(E)||$s(E))throw $s(E)&&!s&&await m(),E}return n},this.invalidate=r=>{const n=s=>{var o;return((o=r?.filter)==null?void 0:o.call(r,s))??!0?{...s,invalid:!0,...s.status==="error"?{status:"pending",error:void 0}:{}}:s};return this.__store.setState(s=>{var o;return{...s,matches:s.matches.map(n),cachedMatches:s.cachedMatches.map(n),pendingMatches:(o=s.pendingMatches)==null?void 0:o.map(n)}}),this.load()},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r?.filter;n!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(o=>!n(o))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const s=this.looseRoutesById[n.routeId];if(!s.options.loader)return!0;const o=(n.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<o)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:s,...o}=n.options;Object.assign(r.options,o)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(FI.map(async n=>{const s=r.options[n];s?.preload&&await s.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let s=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(u=>u.id)),l=new Set([...o,...this.state.cachedMatches.map(u=>u.id)]);this.__store.batch(()=>{s.forEach(u=>{l.has(u.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,u]}))})});try{return s=await this.loadMatches({matches:s,location:n,preload:!0,updateMatch:(u,d)=>{o.has(u)?s=s.map(m=>m.id===u?d(m):m):this.updateMatch(u,d)}}),s}catch(u){if(jl(u))return u.reloadDocument?void 0:await this.preloadRoute({...u,_fromLocation:n});console.error(u);return}},this.matchRoute=(r,n)=>{const s={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},o=this.buildLocation(s);if(n?.pending&&this.state.status!=="pending")return!1;const u=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,d=kp(this.basepath,u.pathname,{...n,to:o.pathname});return!d||r.params&&!ic(d,r.params,{partial:!0})?!1:d&&(n?.includeSearch??!0)?ic(u.search,o.search,{partial:!0})?d:!1:d},this.dehydrate=()=>{var r;const n=((r=this.options.errorSerializer)==null?void 0:r.serialize)??IA;return{state:{dehydratedMatches:this.state.matches.map(s=>({...Hp(s,["id","status","updatedAt"]),error:s.error?{data:n(s.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var r,n,s;let o;typeof document<"u"&&(o=this.options.transformer.parse((r=window.__TSR__)==null?void 0:r.dehydrated)),es(o),this.dehydratedData=o.payload,(s=(n=this.options).hydrate)==null||s.call(n,o.payload);const l=o.router.state,u=this.matchRoutes(this.state.location).map(d=>{const m=l.dehydratedMatches.find(y=>y.id===d.id);return es(m,`Could not find a client-side match for dehydrated match with id: ${d.id}!`),{...d,...m}});this.__store.setState(d=>({...d,matches:u})),this.manifest=o.router.manifest},this.injectedHtml=[],this.injectHtml=r=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(s=>s!==n),r);this.injectedHtml.push(n)},this.injectScript=(r,n)=>{this.injectHtml(`<script class='tsr-once'>${r}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=r=>{var n;if(this.isServer)return;const s=(n=window.__TSR__)==null?void 0:n.streamedValues[r];if(s)return s.parsed||(s.parsed=this.options.transformer.parse(s.value)),s.parsed},this.streamValue=(r,n)=>{var s;this.streamedKeys.has(r),this.streamedKeys.add(r),this.injectScript(`__TSR__.streamedValues['${r}'] = { value: ${(s=this.serializer)==null?void 0:s.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(r,n,{updateMatch:s=this.updateMatch}={})=>{const o=Object.fromEntries(r.map(d=>[d.routeId,d]));let l=(n.global?this.looseRoutesById[Zi]:this.looseRoutesById[n.routeId])||this.looseRoutesById[Zi];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==Zi;)l=l.parentRoute,es(l);const u=o[l.id];es(u,"Could not find match for route: "+l.id),s(u.id,d=>({...d,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(n.routeId=l.parentRoute.id,this._handleNotFound(r,n,{updateMatch:s}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??aA,parseSearch:e.parseSearch??oA,transformer:e.transformer??wA}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,r,n){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r)}matchRoutesInternal(e,r){const{foundRoute:n,matchedRoutes:s,routeParams:o}=this.getMatchedRoutes(e,r?.dest);let l=!1;(n?n.path!=="/"&&o["**"]:Wl(e.pathname))&&(this.options.notFoundRoute?s.push(this.options.notFoundRoute):l=!0);const u=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let w=s.length-1;w>=0;w--){const E=s[w];if(E.children)return E.id}return Zi}})(),d=s.map(w=>{var E;let k;const C=((E=w.options.params)==null?void 0:E.parse)??w.options.parseParams;if(C)try{const q=C(o);Object.assign(o,q)}catch(q){if(k=new EA(q.message,{cause:q}),r?.throwOnError)throw k;return k}}),m=[],y=w=>w?.id?w.context??this.options.context??{}:this.options.context??{};return s.forEach((w,E)=>{var k,C,q,A;const D=m[E-1],[F,$]=(()=>{const Y=D?.search??e.search;try{const me=a_(w.options.validateSearch,Y)??{};return[{...Y,...me},void 0]}catch(me){const Te=new Bb(me.message,{cause:me});if(r?.throwOnError)throw Te;return[Y,Te]}})(),H=((C=(k=w.options).loaderDeps)==null?void 0:C.call(k,{search:F}))??"",G=H?JSON.stringify(H):"",B=Ep({path:w.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),Z=Ep({path:w.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+G,ie=this.getMatch(Z),V=this.state.matches.find(Y=>Y.routeId===w.id),ne=V?"stay":"enter";let M;if(ie)M={...ie,cause:ne,params:V?bs(V.params,o):o,search:bs(V?V.search:ie.search,F)};else{const Y=w.options.loader||w.options.beforeLoad||w.lazyFn||xA(w)?"pending":"success";M={id:Z,index:E,routeId:w.id,params:V?bs(V.params,o):o,pathname:Yo([this.basepath,B]),updatedAt:Date.now(),search:V?bs(V.search,F):F,searchError:void 0,status:Y,isFetching:!1,error:void 0,paramsError:d[E],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ne,loaderDeps:V?bs(V.loaderDeps,H):H,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:w.options.staticData||{},loadPromise:Uu(),fullPath:w.fullPath}}M.status==="success"&&(M.headers=(A=(q=w.options).headers)==null?void 0:A.call(q,{loaderData:M.loaderData})),r?.preload||(M.globalNotFound=u===w.id),M.searchError=$;const se=y(D);M.context={...se,...M.__routeContext,...M.__beforeLoadContext},m.push(M)}),m.forEach((w,E)=>{var k,C,q,A;const D=this.looseRoutesById[w.routeId];if(!this.getMatch(w.id)&&r?._buildLocation!==!0){const H=m[E-1],G=y(H),B={deps:w.loaderDeps,params:w.params,context:G,location:e,navigate:Z=>this.navigate({...Z,_fromLocation:e}),buildLocation:this.buildLocation,cause:w.cause,abortController:w.abortController,preload:!!w.preload,matches:m};w.__routeContext=((C=(k=D.options).context)==null?void 0:C.call(k,B))??{},w.context={...G,...w.__routeContext,...w.__beforeLoadContext}}const $=(A=(q=D.options).head)==null?void 0:A.call(q,{matches:m,match:w,params:w.params,loaderData:w.loaderData??void 0});w.links=$?.links,w.scripts=$?.scripts,w.meta=$?.meta}),m}}class Bb extends Error{}class EA extends Error{}function kA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function IA(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function LN(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function DN(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const xg=K.createContext(void 0),CA=K.createContext(void 0);function el(t){const e=K.useContext(t.from?CA:xg);return _i({select:n=>{const s=n.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(es(!((t.shouldThrow??!0)&&!s),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),s!==void 0)return t.select?t.select(s):s},structuralSharing:t.structuralSharing})}function fl(t){return el({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function qA(t){const{select:e,...r}=t;return el({...r,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function tn(t){return el({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function TA(t){return el({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Bw(t){const{navigate:e}=Mi();return K.useCallback(r=>e({...r}),[e])}let LI=class{constructor(e){this.init=r=>{var n,s;this.originalIndex=r.originalIndex;const o=this.options,l=!o?.path&&!o?.id;this.parentRoute=(s=(n=this.options).getParentRoute)==null?void 0:s.call(n),l?this._path=Zi:es(this.parentRoute);let u=l?Zi:o.path;u&&u!=="/"&&(u=Dw(u));const d=o?.id||u;let m=l?Zi:Yo([this.parentRoute.id===Zi?"":this.parentRoute.id,d]);u===Zi&&(u="/"),m!==Zi&&(m=Yo(["/",m]));const y=m===Zi?"/":Yo([this.parentRoute.fullPath,u]);this._path=u,this._id=m,this._fullPath=y,this._to=y,this._ssr=o?.ssr??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>el({select:r?.select,from:this.id,structuralSharing:r?.structuralSharing}),this.useRouteContext=r=>el({...r,from:this.id,select:n=>r?.select?r.select(n.context):n.context}),this.useSearch=r=>TA({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useParams=r=>tn({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useLoaderDeps=r=>qA({...r,from:this.id}),this.useLoaderData=r=>fl({...r,from:this.id}),this.useNavigate=()=>Bw({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,es(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function OA(t){return new LI(t)}function RA(){return t=>PA(t)}class AA extends LI{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function PA(t){return new AA(t)}function ir(t){return new jA(t,{silent:!0}).createRoute}class jA{constructor(e,r){this.path=e,this.createRoute=n=>{this.silent;const s=OA(n);return s.isRoot=!1,s},this.silent=r?.silent}}function Qp(t){return g.jsx(g.Fragment,{children:t.children})}function DI(t,e,r){return e.options.notFoundComponent?g.jsx(e.options.notFoundComponent,{data:r}):t.options.defaultNotFoundComponent?g.jsx(t.options.defaultNotFoundComponent,{data:r}):g.jsx(bA,{})}const MI=K.memo(function({matchId:e}){var r,n;const s=Mi(),o=_i({select:A=>{var D;return(D=A.matches.find(F=>F.id===e))==null?void 0:D.routeId}});es(o);const l=s.routesById[o],u=l.options.pendingComponent??s.options.defaultPendingComponent,d=u?g.jsx(u,{}):null,m=l.options.errorComponent??s.options.defaultErrorComponent,y=l.options.onCatch??s.options.defaultOnCatch,w=l.isRoot?l.options.notFoundComponent??((r=s.options.notFoundRoute)==null?void 0:r.options.component):l.options.notFoundComponent,E=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??u??((n=l.options.errorComponent)==null?void 0:n.preload))?K.Suspense:Qp,k=m?Mw:Qp,C=w?_A:Qp,q=_i({select:A=>A.loadedAt});return g.jsx(xg.Provider,{value:e,children:g.jsx(E,{fallback:d,children:g.jsx(k,{getResetKey:()=>q,errorComponent:m||wg,onCatch:(A,D)=>{if($s(A))throw A;y?.(A,D)},children:g.jsx(C,{fallback:A=>{if(!w||A.routeId&&A.routeId!==o||!A.routeId&&!l.isRoot)throw A;return K.createElement(w,A)},children:g.jsx(FA,{matchId:e})})})})})}),FA=K.memo(function({matchId:e}){var r,n,s,o,l;const u=Mi(),{match:d,matchIndex:m,routeId:y}=_i({select:C=>{const q=C.matches.findIndex(F=>F.id===e),A=C.matches[q];return{routeId:A.routeId,matchIndex:q,match:Hp(A,["id","status","error"])}},structuralSharing:!0}),w=u.routesById[y],E=K.useMemo(()=>{const C=w.options.component??u.options.defaultComponent;return C?g.jsx(C,{}):g.jsx(aa,{})},[w.options.component,u.options.defaultComponent]),k=(w.options.errorComponent??u.options.defaultErrorComponent)||wg;if(d.status==="notFound"){let C;return LN(d.error)?C=(((r=u.options.errorSerializer)==null?void 0:r.deserialize)??DN)(d.error.data):C=d.error,es($s(C)),DI(u,w,C)}if(d.status==="redirected")throw es(jl(d.error)),(n=u.getMatch(d.id))==null?void 0:n.loadPromise;if(d.status==="error"){if(u.isServer)return g.jsx(k,{error:d.error,info:{componentStack:""}});throw LN(d.error)?(((s=u.options.errorSerializer)==null?void 0:s.deserialize)??DN)(d.error.data):d.error}if(d.status==="pending"){const C=w.options.pendingMinMs??u.options.defaultPendingMinMs;if(C&&!((o=u.getMatch(d.id))!=null&&o.minPendingPromise)&&!u.isServer){const q=Uu();Promise.resolve().then(()=>{u.updateMatch(d.id,A=>({...A,minPendingPromise:q}))}),setTimeout(()=>{q.resolve(),u.updateMatch(d.id,A=>({...A,minPendingPromise:void 0}))},C)}throw(l=u.getMatch(d.id))==null?void 0:l.loadPromise}return g.jsxs(g.Fragment,{children:[E,u.AfterEachMatch?g.jsx(u.AfterEachMatch,{match:d,matchIndex:m}):null]})}),aa=K.memo(function(){const e=Mi(),r=K.useContext(xg),n=_i({select:m=>{var y;return(y=m.matches.find(w=>w.id===r))==null?void 0:y.routeId}}),s=e.routesById[n],o=_i({select:m=>{const w=m.matches.find(E=>E.id===r);return es(w),w.globalNotFound}}),l=_i({select:m=>{var y;const w=m.matches,E=w.findIndex(k=>k.id===r);return(y=w[E+1])==null?void 0:y.id}});if(o)return DI(e,s,void 0);if(!l)return null;const u=g.jsx(MI,{matchId:l}),d=e.options.defaultPendingComponent?g.jsx(e.options.defaultPendingComponent,{}):null;return r===Zi?g.jsx(K.Suspense,{fallback:d,children:u}):u});var l_={exports:{}},qi={},u_={exports:{}},c_={};var MN;function LA(){return MN||(MN=1,function(t){function e(_e,ge){var Ee=_e.length;_e.push(ge);e:for(;0<Ee;){var Q=Ee-1>>>1,Se=_e[Q];if(0<s(Se,ge))_e[Q]=ge,_e[Ee]=Se,Ee=Q;else break e}}function r(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var ge=_e[0],Ee=_e.pop();if(Ee!==ge){_e[0]=Ee;e:for(var Q=0,Se=_e.length,lt=Se>>>1;Q<lt;){var at=2*(Q+1)-1,dt=_e[at],mt=at+1,ft=_e[mt];if(0>s(dt,Ee))mt<Se&&0>s(ft,dt)?(_e[Q]=ft,_e[mt]=Ee,Q=mt):(_e[Q]=dt,_e[at]=Ee,Q=at);else if(mt<Se&&0>s(ft,Ee))_e[Q]=ft,_e[mt]=Ee,Q=mt;else break e}}return ge}function s(_e,ge){var Ee=_e.sortIndex-ge.sortIndex;return Ee!==0?Ee:_e.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],y=1,w=null,E=3,k=!1,C=!1,q=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(_e){for(var ge=r(m);ge!==null;){if(ge.callback===null)n(m);else if(ge.startTime<=_e)n(m),ge.sortIndex=ge.expirationTime,e(d,ge);else break;ge=r(m)}}function H(_e){if(q=!1,$(_e),!C)if(r(d)!==null)C=!0,qe(G);else{var ge=r(m);ge!==null&&je(H,ge.startTime-_e)}}function G(_e,ge){C=!1,q&&(q=!1,D(ie),ie=-1),k=!0;var Ee=E;try{for($(ge),w=r(d);w!==null&&(!(w.expirationTime>ge)||_e&&!M());){var Q=w.callback;if(typeof Q=="function"){w.callback=null,E=w.priorityLevel;var Se=Q(w.expirationTime<=ge);ge=t.unstable_now(),typeof Se=="function"?w.callback=Se:w===r(d)&&n(d),$(ge)}else n(d);w=r(d)}if(w!==null)var lt=!0;else{var at=r(m);at!==null&&je(H,at.startTime-ge),lt=!1}return lt}finally{w=null,E=Ee,k=!1}}var B=!1,Z=null,ie=-1,V=5,ne=-1;function M(){return!(t.unstable_now()-ne<V)}function se(){if(Z!==null){var _e=t.unstable_now();ne=_e;var ge=!0;try{ge=Z(!0,_e)}finally{ge?Y():(B=!1,Z=null)}}else B=!1}var Y;if(typeof F=="function")Y=function(){F(se)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Te=me.port2;me.port1.onmessage=se,Y=function(){Te.postMessage(null)}}else Y=function(){A(se,0)};function qe(_e){Z=_e,B||(B=!0,Y())}function je(_e,ge){ie=A(function(){_e(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){C||k||(C=!0,qe(G))},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(_e){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var Ee=E;E=ge;try{return _e()}finally{E=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,ge){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var Ee=E;E=_e;try{return ge()}finally{E=Ee}},t.unstable_scheduleCallback=function(_e,ge,Ee){var Q=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Q+Ee:Q):Ee=Q,_e){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=0x3fffffff;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Ee+Se,_e={id:y++,callback:ge,priorityLevel:_e,startTime:Ee,expirationTime:Se,sortIndex:-1},Ee>Q?(_e.sortIndex=Ee,e(m,_e),r(d)===null&&_e===r(m)&&(q?(D(ie),ie=-1):q=!0,je(H,Ee-Q))):(_e.sortIndex=Se,e(d,_e),C||k||(C=!0,qe(G))),_e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(_e){var ge=E;return function(){var Ee=E;E=ge;try{return _e.apply(this,arguments)}finally{E=Ee}}}}(c_)),c_}var BN;function DA(){return BN||(BN=1,u_.exports=LA()),u_.exports}var $N;function MA(){if($N)return qi;$N=1;var t=Vf(),e=DA();function r(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)n.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function E(i){return d.call(w,i)?!0:d.call(y,i)?!1:m.test(i)?w[i]=!0:(y[i]=!0,!1)}function k(i,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,a,c,p){if(a===null||typeof a>"u"||k(i,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function q(i,a,c,p,x,N,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=N,this.removeEmptyString=P}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new q(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];A[a]=new q(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new q(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new q(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new q(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new q(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new q(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new q(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new q(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(D,F);A[a]=new q(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(D,F);A[a]=new q(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(D,F);A[a]=new q(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new q(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new q(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,a,c,p){var x=A.hasOwnProperty(a)?A[a]:null;(x!==null?x.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,c,x,p)&&(c=null),p||x===null?E(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):x.mustUseProperty?i[x.propertyName]=c===null?x.type===3?!1:"":c:(a=x.attributeName,p=x.attributeNamespace,c===null?i.removeAttribute(a):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,p?i.setAttributeNS(p,a,c):i.setAttribute(a,c))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),B=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),M=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),_e=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=_e&&i[_e]||i["@@iterator"],typeof i=="function"?i:null)}var Ee=Object.assign,Q;function Se(i){if(Q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Q=a&&a[1]||""}return`
`+Q+i}var lt=!1;function at(i,a){if(!i||lt)return"";lt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Fe){var p=Fe}Reflect.construct(i,[],a)}else{try{a.call()}catch(Fe){p=Fe}i.call(a.prototype)}else{try{throw Error()}catch(Fe){p=Fe}i()}}catch(Fe){if(Fe&&p&&typeof Fe.stack=="string"){for(var x=Fe.stack.split(`
`),N=p.stack.split(`
`),P=x.length-1,oe=N.length-1;1<=P&&0<=oe&&x[P]!==N[oe];)oe--;for(;1<=P&&0<=oe;P--,oe--)if(x[P]!==N[oe]){if(P!==1||oe!==1)do if(P--,oe--,0>oe||x[P]!==N[oe]){var fe=`
`+x[P].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=P&&0<=oe);break}}}finally{lt=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?Se(i):""}function dt(i){switch(i.tag){case 5:return Se(i.type);case 16:return Se("Lazy");case 13:return Se("Suspense");case 19:return Se("SuspenseList");case 0:case 2:case 15:return i=at(i.type,!1),i;case 11:return i=at(i.type.render,!1),i;case 1:return i=at(i.type,!0),i;default:return""}}function mt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Z:return"Fragment";case B:return"Portal";case V:return"Profiler";case ie:return"StrictMode";case Y:return"Suspense";case me:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case ne:return(i._context.displayName||"Context")+".Provider";case se:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Te:return a=i.displayName||null,a!==null?a:mt(i.type)||"Memo";case qe:a=i._payload,i=i._init;try{return mt(i(a))}catch{}}return null}function ft(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mt(a);case 8:return a===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function yt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function jt(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vt(i){var a=jt(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,N=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return x.call(this)},set:function(P){p=""+P,N.call(this,P)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function gt(i){i._valueTracker||(i._valueTracker=vt(i))}function Ot(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return i&&(p=jt(i)?i.checked?"true":"false":i.value),i=p,i!==c?(a.setValue(i),!0):!1}function qt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function er(i,a){var c=a.checked;return Ee({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Zt(i,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=yt(a.value!=null?a.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function sr(i,a){a=a.checked,a!=null&&$(i,"checked",a,!1)}function mr(i,a){sr(i,a);var c=yt(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ce(i,a.type,c):a.hasOwnProperty("defaultValue")&&ce(i,a.type,yt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ae(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ce(i,a,c){(a!=="number"||qt(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ye=Array.isArray;function Oe(i,a,c,p){if(i=i.options,a){a={};for(var x=0;x<c.length;x++)a["$"+c[x]]=!0;for(c=0;c<i.length;c++)x=a.hasOwnProperty("$"+i[c].value),i[c].selected!==x&&(i[c].selected=x),x&&p&&(i[c].defaultSelected=!0)}else{for(c=""+yt(c),a=null,x=0;x<i.length;x++){if(i[x].value===c){i[x].selected=!0,p&&(i[x].defaultSelected=!0);return}a!==null||i[x].disabled||(a=i[x])}a!==null&&(a.selected=!0)}}function De(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ee({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ge(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(r(92));if(ye(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:yt(c)}}function _t(i,a){var c=yt(a.value),p=yt(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function $t(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Sr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gr(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Sr(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var $r,ci=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,x){MSApp.execUnsafeLocalFunction(function(){return i(a,c,p,x)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=$r.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function dn(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},To=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(i){To.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),xi[a]=xi[i]})});function $n(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||xi.hasOwnProperty(i)&&xi[i]?(""+a).trim():a+"px"}function Ht(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,x=$n(c,a[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,x):i[c]=x}}var fa=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(i,a){if(a){if(fa[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function pa(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=null;function Gc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Jc=null,io=null,O=null;function vh(i){if(i=yd(i)){if(typeof Jc!="function")throw Error(r(280));var a=i.stateNode;a&&(a=Mh(a),Jc(i.stateNode,i.type,a))}}function rr(i){io?O?O.push(i):O=[i]:io=i}function _h(){if(io){var i=io,a=O;if(O=io=null,vh(i),a)for(i=0;i<a.length;i++)vh(a[i])}}function bh(i,a){return i(a)}function wh(){}var Zc=!1;function gl(i,a,c){if(Zc)return i(a,c);Zc=!0;try{return bh(i,a,c)}finally{Zc=!1,(io!==null||O!==null)&&(wh(),_h())}}function cs(i,a){var c=i.stateNode;if(c===null)return null;var p=Mh(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var Yc=!1;if(u)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{Yc=!1}function fy(i,a,c,p,x,N,P,oe,fe){var Fe=Array.prototype.slice.call(arguments,3);try{a.apply(c,Fe)}catch(tt){this.onError(tt)}}var vl=!1,so=null,cu=!1,oo=null,hy={onError:function(i){vl=!0,so=i}};function py(i,a,c,p,x,N,P,oe,fe){vl=!1,so=null,fy.apply(hy,arguments)}function my(i,a,c,p,x,N,P,oe,fe){if(py.apply(this,arguments),vl){if(vl){var Fe=so;vl=!1,so=null}else throw Error(r(198));cu||(cu=!0,oo=Fe)}}function Oo(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function xh(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Sh(i){if(Oo(i)!==i)throw Error(r(188))}function gy(i){var a=i.alternate;if(!a){if(a=Oo(i),a===null)throw Error(r(188));return a!==i?null:i}for(var c=i,p=a;;){var x=c.return;if(x===null)break;var N=x.alternate;if(N===null){if(p=x.return,p!==null){c=p;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===c)return Sh(x),i;if(N===p)return Sh(x),a;N=N.sibling}throw Error(r(188))}if(c.return!==p.return)c=x,p=N;else{for(var P=!1,oe=x.child;oe;){if(oe===c){P=!0,c=x,p=N;break}if(oe===p){P=!0,p=x,c=N;break}oe=oe.sibling}if(!P){for(oe=N.child;oe;){if(oe===c){P=!0,c=N,p=x;break}if(oe===p){P=!0,p=N,c=x;break}oe=oe.sibling}if(!P)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:a}function Nh(i){return i=gy(i),i!==null?Eh(i):null}function Eh(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Eh(i);if(a!==null)return a;i=i.sibling}return null}var kh=e.unstable_scheduleCallback,Xc=e.unstable_cancelCallback,yy=e.unstable_shouldYield,vy=e.unstable_requestPaint,sn=e.unstable_now,_y=e.unstable_getCurrentPriorityLevel,ed=e.unstable_ImmediatePriority,Ih=e.unstable_UserBlockingPriority,du=e.unstable_NormalPriority,by=e.unstable_LowPriority,Ch=e.unstable_IdlePriority,fu=null,ds=null;function wy(i){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(fu,i,void 0,(i.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:Ny,xy=Math.log,Sy=Math.LN2;function Ny(i){return i>>>=0,i===0?32:31-(xy(i)/Sy|0)|0}var ma=64,hu=4194304;function Ts(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return i&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return i}}function pu(i,a){var c=i.pendingLanes;if(c===0)return 0;var p=0,x=i.suspendedLanes,N=i.pingedLanes,P=c&0xfffffff;if(P!==0){var oe=P&~x;oe!==0?p=Ts(oe):(N&=P,N!==0&&(p=Ts(N)))}else P=c&~x,P!==0?p=Ts(P):N!==0&&(p=Ts(N));if(p===0)return 0;if(a!==0&&a!==p&&!(a&x)&&(x=p&-p,N=a&-a,x>=N||x===16&&(N&4194240)!==0))return a;if(p&4&&(p|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)c=31-Si(a),x=1<<c,p|=i[c],a&=~x;return p}function Ey(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function ky(i,a){for(var c=i.suspendedLanes,p=i.pingedLanes,x=i.expirationTimes,N=i.pendingLanes;0<N;){var P=31-Si(N),oe=1<<P,fe=x[P];fe===-1?(!(oe&c)||oe&p)&&(x[P]=Ey(oe,a)):fe<=a&&(i.expiredLanes|=oe),N&=~oe}}function td(i){return i=i.pendingLanes&-0x40000001,i!==0?i:i&0x40000000?0x40000000:0}function qh(){var i=ma;return ma<<=1,!(ma&4194240)&&(ma=64),i}function rd(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function _l(i,a,c){i.pendingLanes|=a,a!==0x20000000&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Si(a),i[a]=c}function Iy(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var x=31-Si(c),N=1<<x;a[x]=0,p[x]=-1,i[x]=-1,c&=~N}}function nd(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var p=31-Si(c),x=1<<p;x&a|i[p]&a&&(i[p]|=a),c&=~x}}var Nr=0;function Th(i){return i&=-i,1<i?4<i?i&0xfffffff?16:0x20000000:4:1}var id,te,sd,bl,od,f=!1,h=[],_=null,b=null,S=null,I=new Map,X=new Map,re=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ue(i,a){switch(i){case"focusin":case"focusout":_=null;break;case"dragenter":case"dragleave":b=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":I.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":X.delete(a.pointerId)}}function Je(i,a,c,p,x,N){return i===null||i.nativeEvent!==N?(i={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:N,targetContainers:[x]},a!==null&&(a=yd(a),a!==null&&te(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),i)}function rt(i,a,c,p,x){switch(a){case"focusin":return _=Je(_,i,a,c,p,x),!0;case"dragenter":return b=Je(b,i,a,c,p,x),!0;case"mouseover":return S=Je(S,i,a,c,p,x),!0;case"pointerover":var N=x.pointerId;return I.set(N,Je(I.get(N)||null,i,a,c,p,x)),!0;case"gotpointercapture":return N=x.pointerId,X.set(N,Je(X.get(N)||null,i,a,c,p,x)),!0}return!1}function Ae(i){var a=wl(i.target);if(a!==null){var c=Oo(a);if(c!==null){if(a=c.tag,a===13){if(a=xh(c),a!==null){i.blockedOn=a,od(i.priority,function(){sd(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xe(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=J(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);Kc=p,c.target.dispatchEvent(p),Kc=null}else return a=yd(c),a!==null&&te(a),i.blockedOn=c,!1;a.shift()}return!0}function ze(i,a,c){xe(i)&&c.delete(a)}function le(){f=!1,_!==null&&xe(_)&&(_=null),b!==null&&xe(b)&&(b=null),S!==null&&xe(S)&&(S=null),I.forEach(ze),X.forEach(ze)}function pe(i,a){i.blockedOn===a&&(i.blockedOn=null,f||(f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,le)))}function be(i){function a(x){return pe(x,i)}if(0<h.length){pe(h[0],i);for(var c=1;c<h.length;c++){var p=h[c];p.blockedOn===i&&(p.blockedOn=null)}}for(_!==null&&pe(_,i),b!==null&&pe(b,i),S!==null&&pe(S,i),I.forEach(a),X.forEach(a),c=0;c<re.length;c++)p=re[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<re.length&&(c=re[0],c.blockedOn===null);)Ae(c),c.blockedOn===null&&re.shift()}var $e=H.ReactCurrentBatchConfig,Be=!0;function we(i,a,c,p){var x=Nr,N=$e.transition;$e.transition=null;try{Nr=1,ht(i,a,c,p)}finally{Nr=x,$e.transition=N}}function Me(i,a,c,p){var x=Nr,N=$e.transition;$e.transition=null;try{Nr=4,ht(i,a,c,p)}finally{Nr=x,$e.transition=N}}function ht(i,a,c,p){if(Be){var x=J(i,a,c,p);if(x===null)$y(i,a,p,j,c),Ue(i,p);else if(rt(x,i,a,c,p))p.stopPropagation();else if(Ue(i,p),a&4&&-1<Le.indexOf(i)){for(;x!==null;){var N=yd(x);if(N!==null&&id(N),N=J(i,a,c,p),N===null&&$y(i,a,p,j,c),N===x)break;x=N}x!==null&&p.stopPropagation()}else $y(i,a,p,null,c)}}var j=null;function J(i,a,c,p){if(j=null,i=Gc(p),i=wl(i),i!==null)if(a=Oo(i),a===null)i=null;else if(c=a.tag,c===13){if(i=xh(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return j=i,null}function he(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_y()){case ed:return 1;case Ih:return 4;case du:case by:return 16;case Ch:return 0x20000000;default:return 16}default:return 16}}var Qe=null,z=null,ee=null;function T(){if(ee)return ee;var i,a=z,c=a.length,p,x="value"in Qe?Qe.value:Qe.textContent,N=x.length;for(i=0;i<c&&a[i]===x[i];i++);var P=c-i;for(p=1;p<=P&&a[c-p]===x[N-p];p++);return ee=x.slice(i,1<p?1-p:void 0)}function L(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function W(){return!0}function Ce(){return!1}function He(i){function a(c,p,x,N,P){this._reactName=c,this._targetInst=x,this.type=p,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var oe in i)i.hasOwnProperty(oe)&&(c=i[oe],this[oe]=c?c(N):N[oe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?W:Ce,this.isPropagationStopped=Ce,this}return Ee(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=W)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=W)},persist:function(){},isPersistent:W}),a}var Et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lt=He(Et),Wt=Ee({},Et,{view:0,detail:0}),Ze=He(Wt),de,ke,Ke,et=Ee({},Wt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ke&&(Ke&&i.type==="mousemove"?(de=i.screenX-Ke.screenX,ke=i.screenY-Ke.screenY):ke=de=0,Ke=i),de)},movementY:function(i){return"movementY"in i?i.movementY:ke}}),Rt=He(et),zt=Ee({},et,{dataTransfer:0}),Ne=He(zt),Ve=Ee({},Wt,{relatedTarget:0}),Ye=He(Ve),bt=Ee({},Et,{animationName:0,elapsedTime:0,pseudoElement:0}),ut=He(bt),Ft=Ee({},Et,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nr=He(Ft),kt=Ee({},Et,{data:0}),on=He(kt),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ct[i])?!!a[i]:!1}function or(){return wt}var Rr=Ee({},Wt,{key:function(i){if(i.key){var a=Pe[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=L(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?st[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(i){return i.type==="keypress"?L(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?L(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kr=He(Rr),qr=Ee({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=He(qr),Wn=Ee({},Wt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),Cy=He(Wn),qy=Ee({},Et,{propertyName:0,elapsedTime:0,pseudoElement:0}),fs=He(qy),Ty=Ee({},et,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Oh=He(Ty),ad=[9,13,27,32],Oy=u&&"CompositionEvent"in window,ld=null;u&&"documentMode"in document&&(ld=document.documentMode);var n3=u&&"TextEvent"in window&&!ld,nx=u&&(!Oy||ld&&8<ld&&11>=ld),ix=" ",sx=!1;function ox(i,a){switch(i){case"keyup":return ad.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mu=!1;function i3(i,a){switch(i){case"compositionend":return ax(a);case"keypress":return a.which!==32?null:(sx=!0,ix);case"textInput":return i=a.data,i===ix&&sx?null:i;default:return null}}function s3(i,a){if(mu)return i==="compositionend"||!Oy&&ox(i,a)?(i=T(),ee=z=Qe=null,mu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return nx&&a.locale!=="ko"?null:a.data;default:return null}}var o3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!o3[i.type]:a==="textarea"}function ux(i,a,c,p){rr(p),a=Fh(a,"onChange"),0<a.length&&(c=new Lt("onChange","change",null,c,p),i.push({event:c,listeners:a}))}var ud=null,cd=null;function a3(i){Ix(i,0)}function Rh(i){var a=bu(i);if(Ot(a))return i}function l3(i,a){if(i==="change")return a}var cx=!1;if(u){var Ry;if(u){var Ay="oninput"in document;if(!Ay){var dx=document.createElement("div");dx.setAttribute("oninput","return;"),Ay=typeof dx.oninput=="function"}Ry=Ay}else Ry=!1;cx=Ry&&(!document.documentMode||9<document.documentMode)}function fx(){ud&&(ud.detachEvent("onpropertychange",hx),cd=ud=null)}function hx(i){if(i.propertyName==="value"&&Rh(cd)){var a=[];ux(a,cd,i,Gc(i)),gl(a3,a)}}function u3(i,a,c){i==="focusin"?(fx(),ud=a,cd=c,ud.attachEvent("onpropertychange",hx)):i==="focusout"&&fx()}function c3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rh(cd)}function d3(i,a){if(i==="click")return Rh(a)}function f3(i,a){if(i==="input"||i==="change")return Rh(a)}function h3(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Os=typeof Object.is=="function"?Object.is:h3;function dd(i,a){if(Os(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var x=c[p];if(!d.call(a,x)||!Os(i[x],a[x]))return!1}return!0}function px(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mx(i,a){var c=px(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=a&&p>=a)return{node:c,offset:a-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=px(c)}}function gx(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?gx(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function yx(){for(var i=window,a=qt();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=qt(i.document)}return a}function Py(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function p3(i){var a=yx(),c=i.focusedElem,p=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&gx(c.ownerDocument.documentElement,c)){if(p!==null&&Py(c)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var x=c.textContent.length,N=Math.min(p.start,x);p=p.end===void 0?N:Math.min(p.end,x),!i.extend&&N>p&&(x=p,p=N,N=x),x=mx(c,N);var P=mx(c,p);x&&P&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),i.removeAllRanges(),N>p?(i.addRange(a),i.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var m3=u&&"documentMode"in document&&11>=document.documentMode,gu=null,jy=null,fd=null,Fy=!1;function vx(i,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Fy||gu==null||gu!==qt(p)||(p=gu,"selectionStart"in p&&Py(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),fd&&dd(fd,p)||(fd=p,p=Fh(jy,"onSelect"),0<p.length&&(a=new Lt("onSelect","select",null,a,c),i.push({event:a,listeners:p}),a.target=gu)))}function Ah(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var yu={animationend:Ah("Animation","AnimationEnd"),animationiteration:Ah("Animation","AnimationIteration"),animationstart:Ah("Animation","AnimationStart"),transitionend:Ah("Transition","TransitionEnd")},Ly={},_x={};u&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function Ph(i){if(Ly[i])return Ly[i];if(!yu[i])return i;var a=yu[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in _x)return Ly[i]=a[c];return i}var bx=Ph("animationend"),wx=Ph("animationiteration"),xx=Ph("animationstart"),Sx=Ph("transitionend"),Nx=new Map,Ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(i,a){Nx.set(i,a),o(a,[i])}for(var Dy=0;Dy<Ex.length;Dy++){var My=Ex[Dy],g3=My.toLowerCase(),y3=My[0].toUpperCase()+My.slice(1);ga(g3,"on"+y3)}ga(bx,"onAnimationEnd"),ga(wx,"onAnimationIteration"),ga(xx,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(Sx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v3=new Set("cancel close invalid load scroll toggle".split(" ").concat(hd));function kx(i,a,c){var p=i.type||"unknown-event";i.currentTarget=c,my(p,a,void 0,i),i.currentTarget=null}function Ix(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],x=p.event;p=p.listeners;e:{var N=void 0;if(a)for(var P=p.length-1;0<=P;P--){var oe=p[P],fe=oe.instance,Fe=oe.currentTarget;if(oe=oe.listener,fe!==N&&x.isPropagationStopped())break e;kx(x,oe,Fe),N=fe}else for(P=0;P<p.length;P++){if(oe=p[P],fe=oe.instance,Fe=oe.currentTarget,oe=oe.listener,fe!==N&&x.isPropagationStopped())break e;kx(x,oe,Fe),N=fe}}}if(cu)throw i=oo,cu=!1,oo=null,i}function Qr(i,a){var c=a[Qy];c===void 0&&(c=a[Qy]=new Set);var p=i+"__bubble";c.has(p)||(Cx(a,i,2,!1),c.add(p))}function By(i,a,c){var p=0;a&&(p|=4),Cx(c,i,p,a)}var jh="_reactListening"+Math.random().toString(36).slice(2);function pd(i){if(!i[jh]){i[jh]=!0,n.forEach(function(c){c!=="selectionchange"&&(v3.has(c)||By(c,!1,i),By(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[jh]||(a[jh]=!0,By("selectionchange",!1,a))}}function Cx(i,a,c,p){switch(he(a)){case 1:var x=we;break;case 4:x=Me;break;default:x=ht}c=x.bind(null,a,c,i),x=void 0,!Yc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),p?x!==void 0?i.addEventListener(a,c,{capture:!0,passive:x}):i.addEventListener(a,c,!0):x!==void 0?i.addEventListener(a,c,{passive:x}):i.addEventListener(a,c,!1)}function $y(i,a,c,p,x){var N=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var oe=p.stateNode.containerInfo;if(oe===x||oe.nodeType===8&&oe.parentNode===x)break;if(P===4)for(P=p.return;P!==null;){var fe=P.tag;if((fe===3||fe===4)&&(fe=P.stateNode.containerInfo,fe===x||fe.nodeType===8&&fe.parentNode===x))return;P=P.return}for(;oe!==null;){if(P=wl(oe),P===null)return;if(fe=P.tag,fe===5||fe===6){p=N=P;continue e}oe=oe.parentNode}}p=p.return}gl(function(){var Fe=N,tt=Gc(c),nt=[];e:{var Xe=Nx.get(i);if(Xe!==void 0){var It=Lt,Pt=i;switch(i){case"keypress":if(L(c)===0)break e;case"keydown":case"keyup":It=kr;break;case"focusin":Pt="focus",It=Ye;break;case"focusout":Pt="blur",It=Ye;break;case"beforeblur":case"afterblur":It=Ye;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=Rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=Ne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=Cy;break;case bx:case wx:case xx:It=ut;break;case Sx:It=fs;break;case"scroll":It=Ze;break;case"wheel":It=Oh;break;case"copy":case"cut":case"paste":It=nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=Ro}var Dt=(a&4)!==0,mn=!Dt&&i==="scroll",Ie=Dt?Xe!==null?Xe+"Capture":null:Xe;Dt=[];for(var ve=Fe,Re;ve!==null;){Re=ve;var ot=Re.stateNode;if(Re.tag===5&&ot!==null&&(Re=ot,Ie!==null&&(ot=cs(ve,Ie),ot!=null&&Dt.push(md(ve,ot,Re)))),mn)break;ve=ve.return}0<Dt.length&&(Xe=new It(Xe,Pt,null,c,tt),nt.push({event:Xe,listeners:Dt}))}}if(!(a&7)){e:{if(Xe=i==="mouseover"||i==="pointerover",It=i==="mouseout"||i==="pointerout",Xe&&c!==Kc&&(Pt=c.relatedTarget||c.fromElement)&&(wl(Pt)||Pt[Ao]))break e;if((It||Xe)&&(Xe=tt.window===tt?tt:(Xe=tt.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,It?(Pt=c.relatedTarget||c.toElement,It=Fe,Pt=Pt?wl(Pt):null,Pt!==null&&(mn=Oo(Pt),Pt!==mn||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(It=null,Pt=Fe),It!==Pt)){if(Dt=Rt,ot="onMouseLeave",Ie="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(Dt=Ro,ot="onPointerLeave",Ie="onPointerEnter",ve="pointer"),mn=It==null?Xe:bu(It),Re=Pt==null?Xe:bu(Pt),Xe=new Dt(ot,ve+"leave",It,c,tt),Xe.target=mn,Xe.relatedTarget=Re,ot=null,wl(tt)===Fe&&(Dt=new Dt(Ie,ve+"enter",Pt,c,tt),Dt.target=Re,Dt.relatedTarget=mn,ot=Dt),mn=ot,It&&Pt)t:{for(Dt=It,Ie=Pt,ve=0,Re=Dt;Re;Re=vu(Re))ve++;for(Re=0,ot=Ie;ot;ot=vu(ot))Re++;for(;0<ve-Re;)Dt=vu(Dt),ve--;for(;0<Re-ve;)Ie=vu(Ie),Re--;for(;ve--;){if(Dt===Ie||Ie!==null&&Dt===Ie.alternate)break t;Dt=vu(Dt),Ie=vu(Ie)}Dt=null}else Dt=null;It!==null&&qx(nt,Xe,It,Dt,!1),Pt!==null&&mn!==null&&qx(nt,mn,Pt,Dt,!0)}}e:{if(Xe=Fe?bu(Fe):window,It=Xe.nodeName&&Xe.nodeName.toLowerCase(),It==="select"||It==="input"&&Xe.type==="file")var Mt=l3;else if(lx(Xe))if(cx)Mt=f3;else{Mt=c3;var Ut=u3}else(It=Xe.nodeName)&&It.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(Mt=d3);if(Mt&&(Mt=Mt(i,Fe))){ux(nt,Mt,c,tt);break e}Ut&&Ut(i,Xe,Fe),i==="focusout"&&(Ut=Xe._wrapperState)&&Ut.controlled&&Xe.type==="number"&&ce(Xe,"number",Xe.value)}switch(Ut=Fe?bu(Fe):window,i){case"focusin":(lx(Ut)||Ut.contentEditable==="true")&&(gu=Ut,jy=Fe,fd=null);break;case"focusout":fd=jy=gu=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,vx(nt,c,tt);break;case"selectionchange":if(m3)break;case"keydown":case"keyup":vx(nt,c,tt)}var Vt;if(Oy)e:{switch(i){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else mu?ox(i,c)&&(Jt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Jt="onCompositionStart");Jt&&(nx&&c.locale!=="ko"&&(mu||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&mu&&(Vt=T()):(Qe=tt,z="value"in Qe?Qe.value:Qe.textContent,mu=!0)),Ut=Fh(Fe,Jt),0<Ut.length&&(Jt=new on(Jt,i,null,c,tt),nt.push({event:Jt,listeners:Ut}),Vt?Jt.data=Vt:(Vt=ax(c),Vt!==null&&(Jt.data=Vt)))),(Vt=n3?i3(i,c):s3(i,c))&&(Fe=Fh(Fe,"onBeforeInput"),0<Fe.length&&(tt=new on("onBeforeInput","beforeinput",null,c,tt),nt.push({event:tt,listeners:Fe}),tt.data=Vt))}Ix(nt,a)})}function md(i,a,c){return{instance:i,listener:a,currentTarget:c}}function Fh(i,a){for(var c=a+"Capture",p=[];i!==null;){var x=i,N=x.stateNode;x.tag===5&&N!==null&&(x=N,N=cs(i,c),N!=null&&p.unshift(md(i,N,x)),N=cs(i,a),N!=null&&p.push(md(i,N,x))),i=i.return}return p}function vu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function qx(i,a,c,p,x){for(var N=a._reactName,P=[];c!==null&&c!==p;){var oe=c,fe=oe.alternate,Fe=oe.stateNode;if(fe!==null&&fe===p)break;oe.tag===5&&Fe!==null&&(oe=Fe,x?(fe=cs(c,N),fe!=null&&P.unshift(md(c,fe,oe))):x||(fe=cs(c,N),fe!=null&&P.push(md(c,fe,oe)))),c=c.return}P.length!==0&&i.push({event:a,listeners:P})}var _3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function Tx(i){return(typeof i=="string"?i:""+i).replace(_3,`
`).replace(b3,"")}function Lh(i,a,c){if(a=Tx(a),Tx(i)!==a&&c)throw Error(r(425))}function Dh(){}var Wy=null,zy=null;function Uy(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vy=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0,Ox=typeof Promise=="function"?Promise:void 0,x3=typeof queueMicrotask=="function"?queueMicrotask:typeof Ox<"u"?function(i){return Ox.resolve(null).then(i).catch(S3)}:Vy;function S3(i){setTimeout(function(){throw i})}function Hy(i,a){var c=a,p=0;do{var x=c.nextSibling;if(i.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(p===0){i.removeChild(x),be(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=x}while(c);be(a)}function ya(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Rx(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var _u=Math.random().toString(36).slice(2),ao="__reactFiber$"+_u,gd="__reactProps$"+_u,Ao="__reactContainer$"+_u,Qy="__reactEvents$"+_u,N3="__reactListeners$"+_u,E3="__reactHandles$"+_u;function wl(i){var a=i[ao];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Ao]||c[ao]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=Rx(i);i!==null;){if(c=i[ao])return c;i=Rx(i)}return a}i=c,c=i.parentNode}return null}function yd(i){return i=i[ao]||i[Ao],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function bu(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Mh(i){return i[gd]||null}var Ky=[],wu=-1;function va(i){return{current:i}}function Kr(i){0>wu||(i.current=Ky[wu],Ky[wu]=null,wu--)}function Wr(i,a){wu++,Ky[wu]=i.current,i.current=a}var _a={},Gn=va(_a),Ni=va(!1),xl=_a;function xu(i,a){var c=i.type.contextTypes;if(!c)return _a;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var x={},N;for(N in c)x[N]=a[N];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=x),x}function Ei(i){return i=i.childContextTypes,i!=null}function Bh(){Kr(Ni),Kr(Gn)}function Ax(i,a,c){if(Gn.current!==_a)throw Error(r(168));Wr(Gn,a),Wr(Ni,c)}function Px(i,a,c){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var x in p)if(!(x in a))throw Error(r(108,ft(i)||"Unknown",x));return Ee({},c,p)}function $h(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||_a,xl=Gn.current,Wr(Gn,i),Wr(Ni,Ni.current),!0}function jx(i,a,c){var p=i.stateNode;if(!p)throw Error(r(169));c?(i=Px(i,a,xl),p.__reactInternalMemoizedMergedChildContext=i,Kr(Ni),Kr(Gn),Wr(Gn,i)):Kr(Ni),Wr(Ni,c)}var Po=null,Wh=!1,Gy=!1;function Fx(i){Po===null?Po=[i]:Po.push(i)}function k3(i){Wh=!0,Fx(i)}function ba(){if(!Gy&&Po!==null){Gy=!0;var i=0,a=Nr;try{var c=Po;for(Nr=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}Po=null,Wh=!1}catch(x){throw Po!==null&&(Po=Po.slice(i+1)),kh(ed,ba),x}finally{Nr=a,Gy=!1}}return null}var Su=[],Nu=0,zh=null,Uh=0,hs=[],ps=0,Sl=null,jo=1,Fo="";function Nl(i,a){Su[Nu++]=Uh,Su[Nu++]=zh,zh=i,Uh=a}function Lx(i,a,c){hs[ps++]=jo,hs[ps++]=Fo,hs[ps++]=Sl,Sl=i;var p=jo;i=Fo;var x=32-Si(p)-1;p&=~(1<<x),c+=1;var N=32-Si(a)+x;if(30<N){var P=x-x%5;N=(p&(1<<P)-1).toString(32),p>>=P,x-=P,jo=1<<32-Si(a)+x|c<<x|p,Fo=N+i}else jo=1<<N|c<<x|p,Fo=i}function Jy(i){i.return!==null&&(Nl(i,1),Lx(i,1,0))}function Zy(i){for(;i===zh;)zh=Su[--Nu],Su[Nu]=null,Uh=Su[--Nu],Su[Nu]=null;for(;i===Sl;)Sl=hs[--ps],hs[ps]=null,Fo=hs[--ps],hs[ps]=null,jo=hs[--ps],hs[ps]=null}var Hi=null,Qi=null,Jr=!1,Rs=null;function Dx(i,a){var c=vs(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function Mx(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Hi=i,Qi=ya(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Hi=i,Qi=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Sl!==null?{id:jo,overflow:Fo}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:0x40000000},c=vs(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,Hi=i,Qi=null,!0):!1;default:return!1}}function Yy(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Xy(i){if(Jr){var a=Qi;if(a){var c=a;if(!Mx(i,a)){if(Yy(i))throw Error(r(418));a=ya(c.nextSibling);var p=Hi;a&&Mx(i,a)?Dx(p,c):(i.flags=i.flags&-4097|2,Jr=!1,Hi=i)}}else{if(Yy(i))throw Error(r(418));i.flags=i.flags&-4097|2,Jr=!1,Hi=i}}}function Bx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Hi=i}function Vh(i){if(i!==Hi)return!1;if(!Jr)return Bx(i),Jr=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Uy(i.type,i.memoizedProps)),a&&(a=Qi)){if(Yy(i))throw $x(),Error(r(418));for(;a;)Dx(i,a),a=ya(a.nextSibling)}if(Bx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){Qi=ya(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}Qi=null}}else Qi=Hi?ya(i.stateNode.nextSibling):null;return!0}function $x(){for(var i=Qi;i;)i=ya(i.nextSibling)}function Eu(){Qi=Hi=null,Jr=!1}function ev(i){Rs===null?Rs=[i]:Rs.push(i)}var I3=H.ReactCurrentBatchConfig;function vd(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var p=c.stateNode}if(!p)throw Error(r(147,i));var x=p,N=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===N?a.ref:(a=function(P){var oe=x.refs;P===null?delete oe[N]:oe[N]=P},a._stringRef=N,a)}if(typeof i!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,i))}return i}function Hh(i,a){throw i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Wx(i){var a=i._init;return a(i._payload)}function zx(i){function a(Ie,ve){if(i){var Re=Ie.deletions;Re===null?(Ie.deletions=[ve],Ie.flags|=16):Re.push(ve)}}function c(Ie,ve){if(!i)return null;for(;ve!==null;)a(Ie,ve),ve=ve.sibling;return null}function p(Ie,ve){for(Ie=new Map;ve!==null;)ve.key!==null?Ie.set(ve.key,ve):Ie.set(ve.index,ve),ve=ve.sibling;return Ie}function x(Ie,ve){return Ie=Ca(Ie,ve),Ie.index=0,Ie.sibling=null,Ie}function N(Ie,ve,Re){return Ie.index=Re,i?(Re=Ie.alternate,Re!==null?(Re=Re.index,Re<ve?(Ie.flags|=2,ve):Re):(Ie.flags|=2,ve)):(Ie.flags|=1048576,ve)}function P(Ie){return i&&Ie.alternate===null&&(Ie.flags|=2),Ie}function oe(Ie,ve,Re,ot){return ve===null||ve.tag!==6?(ve=Vv(Re,Ie.mode,ot),ve.return=Ie,ve):(ve=x(ve,Re),ve.return=Ie,ve)}function fe(Ie,ve,Re,ot){var Mt=Re.type;return Mt===Z?tt(Ie,ve,Re.props.children,ot,Re.key):ve!==null&&(ve.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===qe&&Wx(Mt)===ve.type)?(ot=x(ve,Re.props),ot.ref=vd(Ie,ve,Re),ot.return=Ie,ot):(ot=gp(Re.type,Re.key,Re.props,null,Ie.mode,ot),ot.ref=vd(Ie,ve,Re),ot.return=Ie,ot)}function Fe(Ie,ve,Re,ot){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Re.containerInfo||ve.stateNode.implementation!==Re.implementation?(ve=Hv(Re,Ie.mode,ot),ve.return=Ie,ve):(ve=x(ve,Re.children||[]),ve.return=Ie,ve)}function tt(Ie,ve,Re,ot,Mt){return ve===null||ve.tag!==7?(ve=Rl(Re,Ie.mode,ot,Mt),ve.return=Ie,ve):(ve=x(ve,Re),ve.return=Ie,ve)}function nt(Ie,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=Vv(""+ve,Ie.mode,Re),ve.return=Ie,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case G:return Re=gp(ve.type,ve.key,ve.props,null,Ie.mode,Re),Re.ref=vd(Ie,null,ve),Re.return=Ie,Re;case B:return ve=Hv(ve,Ie.mode,Re),ve.return=Ie,ve;case qe:var ot=ve._init;return nt(Ie,ot(ve._payload),Re)}if(ye(ve)||ge(ve))return ve=Rl(ve,Ie.mode,Re,null),ve.return=Ie,ve;Hh(Ie,ve)}return null}function Xe(Ie,ve,Re,ot){var Mt=ve!==null?ve.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Mt!==null?null:oe(Ie,ve,""+Re,ot);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case G:return Re.key===Mt?fe(Ie,ve,Re,ot):null;case B:return Re.key===Mt?Fe(Ie,ve,Re,ot):null;case qe:return Mt=Re._init,Xe(Ie,ve,Mt(Re._payload),ot)}if(ye(Re)||ge(Re))return Mt!==null?null:tt(Ie,ve,Re,ot,null);Hh(Ie,Re)}return null}function It(Ie,ve,Re,ot,Mt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Ie=Ie.get(Re)||null,oe(ve,Ie,""+ot,Mt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case G:return Ie=Ie.get(ot.key===null?Re:ot.key)||null,fe(ve,Ie,ot,Mt);case B:return Ie=Ie.get(ot.key===null?Re:ot.key)||null,Fe(ve,Ie,ot,Mt);case qe:var Ut=ot._init;return It(Ie,ve,Re,Ut(ot._payload),Mt)}if(ye(ot)||ge(ot))return Ie=Ie.get(Re)||null,tt(ve,Ie,ot,Mt,null);Hh(ve,ot)}return null}function Pt(Ie,ve,Re,ot){for(var Mt=null,Ut=null,Vt=ve,Jt=ve=0,Bn=null;Vt!==null&&Jt<Re.length;Jt++){Vt.index>Jt?(Bn=Vt,Vt=null):Bn=Vt.sibling;var wr=Xe(Ie,Vt,Re[Jt],ot);if(wr===null){Vt===null&&(Vt=Bn);break}i&&Vt&&wr.alternate===null&&a(Ie,Vt),ve=N(wr,ve,Jt),Ut===null?Mt=wr:Ut.sibling=wr,Ut=wr,Vt=Bn}if(Jt===Re.length)return c(Ie,Vt),Jr&&Nl(Ie,Jt),Mt;if(Vt===null){for(;Jt<Re.length;Jt++)Vt=nt(Ie,Re[Jt],ot),Vt!==null&&(ve=N(Vt,ve,Jt),Ut===null?Mt=Vt:Ut.sibling=Vt,Ut=Vt);return Jr&&Nl(Ie,Jt),Mt}for(Vt=p(Ie,Vt);Jt<Re.length;Jt++)Bn=It(Vt,Ie,Jt,Re[Jt],ot),Bn!==null&&(i&&Bn.alternate!==null&&Vt.delete(Bn.key===null?Jt:Bn.key),ve=N(Bn,ve,Jt),Ut===null?Mt=Bn:Ut.sibling=Bn,Ut=Bn);return i&&Vt.forEach(function(qa){return a(Ie,qa)}),Jr&&Nl(Ie,Jt),Mt}function Dt(Ie,ve,Re,ot){var Mt=ge(Re);if(typeof Mt!="function")throw Error(r(150));if(Re=Mt.call(Re),Re==null)throw Error(r(151));for(var Ut=Mt=null,Vt=ve,Jt=ve=0,Bn=null,wr=Re.next();Vt!==null&&!wr.done;Jt++,wr=Re.next()){Vt.index>Jt?(Bn=Vt,Vt=null):Bn=Vt.sibling;var qa=Xe(Ie,Vt,wr.value,ot);if(qa===null){Vt===null&&(Vt=Bn);break}i&&Vt&&qa.alternate===null&&a(Ie,Vt),ve=N(qa,ve,Jt),Ut===null?Mt=qa:Ut.sibling=qa,Ut=qa,Vt=Bn}if(wr.done)return c(Ie,Vt),Jr&&Nl(Ie,Jt),Mt;if(Vt===null){for(;!wr.done;Jt++,wr=Re.next())wr=nt(Ie,wr.value,ot),wr!==null&&(ve=N(wr,ve,Jt),Ut===null?Mt=wr:Ut.sibling=wr,Ut=wr);return Jr&&Nl(Ie,Jt),Mt}for(Vt=p(Ie,Vt);!wr.done;Jt++,wr=Re.next())wr=It(Vt,Ie,Jt,wr.value,ot),wr!==null&&(i&&wr.alternate!==null&&Vt.delete(wr.key===null?Jt:wr.key),ve=N(wr,ve,Jt),Ut===null?Mt=wr:Ut.sibling=wr,Ut=wr);return i&&Vt.forEach(function(oR){return a(Ie,oR)}),Jr&&Nl(Ie,Jt),Mt}function mn(Ie,ve,Re,ot){if(typeof Re=="object"&&Re!==null&&Re.type===Z&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case G:e:{for(var Mt=Re.key,Ut=ve;Ut!==null;){if(Ut.key===Mt){if(Mt=Re.type,Mt===Z){if(Ut.tag===7){c(Ie,Ut.sibling),ve=x(Ut,Re.props.children),ve.return=Ie,Ie=ve;break e}}else if(Ut.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===qe&&Wx(Mt)===Ut.type){c(Ie,Ut.sibling),ve=x(Ut,Re.props),ve.ref=vd(Ie,Ut,Re),ve.return=Ie,Ie=ve;break e}c(Ie,Ut);break}else a(Ie,Ut);Ut=Ut.sibling}Re.type===Z?(ve=Rl(Re.props.children,Ie.mode,ot,Re.key),ve.return=Ie,Ie=ve):(ot=gp(Re.type,Re.key,Re.props,null,Ie.mode,ot),ot.ref=vd(Ie,ve,Re),ot.return=Ie,Ie=ot)}return P(Ie);case B:e:{for(Ut=Re.key;ve!==null;){if(ve.key===Ut)if(ve.tag===4&&ve.stateNode.containerInfo===Re.containerInfo&&ve.stateNode.implementation===Re.implementation){c(Ie,ve.sibling),ve=x(ve,Re.children||[]),ve.return=Ie,Ie=ve;break e}else{c(Ie,ve);break}else a(Ie,ve);ve=ve.sibling}ve=Hv(Re,Ie.mode,ot),ve.return=Ie,Ie=ve}return P(Ie);case qe:return Ut=Re._init,mn(Ie,ve,Ut(Re._payload),ot)}if(ye(Re))return Pt(Ie,ve,Re,ot);if(ge(Re))return Dt(Ie,ve,Re,ot);Hh(Ie,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ve!==null&&ve.tag===6?(c(Ie,ve.sibling),ve=x(ve,Re),ve.return=Ie,Ie=ve):(c(Ie,ve),ve=Vv(Re,Ie.mode,ot),ve.return=Ie,Ie=ve),P(Ie)):c(Ie,ve)}return mn}var ku=zx(!0),Ux=zx(!1),Qh=va(null),Kh=null,Iu=null,tv=null;function rv(){tv=Iu=Kh=null}function nv(i){var a=Qh.current;Kr(Qh),i._currentValue=a}function iv(i,a,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===c)break;i=i.return}}function Cu(i,a){Kh=i,tv=Iu=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(ki=!0),i.firstContext=null)}function ms(i){var a=i._currentValue;if(tv!==i)if(i={context:i,memoizedValue:a,next:null},Iu===null){if(Kh===null)throw Error(r(308));Iu=i,Kh.dependencies={lanes:0,firstContext:i}}else Iu=Iu.next=i;return a}var El=null;function sv(i){El===null?El=[i]:El.push(i)}function Vx(i,a,c,p){var x=a.interleaved;return x===null?(c.next=c,sv(a)):(c.next=x.next,x.next=c),a.interleaved=c,Lo(i,p)}function Lo(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var wa=!1;function ov(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Do(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function xa(i,a,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,vr&2){var x=p.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),p.pending=a,Lo(i,c)}return x=p.interleaved,x===null?(a.next=a,sv(p)):(a.next=x.next,x.next=a),p.interleaved=a,Lo(i,c)}function Gh(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,c|=p,a.lanes=c,nd(i,c)}}function Qx(i,a){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var x=null,N=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};N===null?x=N=P:N=N.next=P,c=c.next}while(c!==null);N===null?x=N=a:N=N.next=a}else x=N=a;c={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function Jh(i,a,c,p){var x=i.updateQueue;wa=!1;var N=x.firstBaseUpdate,P=x.lastBaseUpdate,oe=x.shared.pending;if(oe!==null){x.shared.pending=null;var fe=oe,Fe=fe.next;fe.next=null,P===null?N=Fe:P.next=Fe,P=fe;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,oe=tt.lastBaseUpdate,oe!==P&&(oe===null?tt.firstBaseUpdate=Fe:oe.next=Fe,tt.lastBaseUpdate=fe))}if(N!==null){var nt=x.baseState;P=0,tt=Fe=fe=null,oe=N;do{var Xe=oe.lane,It=oe.eventTime;if((p&Xe)===Xe){tt!==null&&(tt=tt.next={eventTime:It,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Pt=i,Dt=oe;switch(Xe=a,It=c,Dt.tag){case 1:if(Pt=Dt.payload,typeof Pt=="function"){nt=Pt.call(It,nt,Xe);break e}nt=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Dt.payload,Xe=typeof Pt=="function"?Pt.call(It,nt,Xe):Pt,Xe==null)break e;nt=Ee({},nt,Xe);break e;case 2:wa=!0}}oe.callback!==null&&oe.lane!==0&&(i.flags|=64,Xe=x.effects,Xe===null?x.effects=[oe]:Xe.push(oe))}else It={eventTime:It,lane:Xe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},tt===null?(Fe=tt=It,fe=nt):tt=tt.next=It,P|=Xe;if(oe=oe.next,oe===null){if(oe=x.shared.pending,oe===null)break;Xe=oe,oe=Xe.next,Xe.next=null,x.lastBaseUpdate=Xe,x.shared.pending=null}}while(!0);if(tt===null&&(fe=nt),x.baseState=fe,x.firstBaseUpdate=Fe,x.lastBaseUpdate=tt,a=x.shared.interleaved,a!==null){x=a;do P|=x.lane,x=x.next;while(x!==a)}else N===null&&(x.shared.lanes=0);Cl|=P,i.lanes=P,i.memoizedState=nt}}function Kx(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],x=p.callback;if(x!==null){if(p.callback=null,p=c,typeof x!="function")throw Error(r(191,x));x.call(p)}}}var _d={},lo=va(_d),bd=va(_d),wd=va(_d);function kl(i){if(i===_d)throw Error(r(174));return i}function av(i,a){switch(Wr(wd,a),Wr(bd,i),Wr(lo,_d),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:gr(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=gr(a,i)}Kr(lo),Wr(lo,a)}function qu(){Kr(lo),Kr(bd),Kr(wd)}function Gx(i){kl(wd.current);var a=kl(lo.current),c=gr(a,i.type);a!==c&&(Wr(bd,i),Wr(lo,c))}function lv(i){bd.current===i&&(Kr(lo),Kr(bd))}var an=va(0);function Zh(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var uv=[];function cv(){for(var i=0;i<uv.length;i++)uv[i]._workInProgressVersionPrimary=null;uv.length=0}var Yh=H.ReactCurrentDispatcher,dv=H.ReactCurrentBatchConfig,Il=0,ln=null,jn=null,Dn=null,Xh=!1,xd=!1,Sd=0,C3=0;function Jn(){throw Error(r(321))}function fv(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Os(i[c],a[c]))return!1;return!0}function hv(i,a,c,p,x,N){if(Il=N,ln=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Yh.current=i===null||i.memoizedState===null?R3:A3,i=c(p,x),xd){N=0;do{if(xd=!1,Sd=0,25<=N)throw Error(r(301));N+=1,Dn=jn=null,a.updateQueue=null,Yh.current=P3,i=c(p,x)}while(xd)}if(Yh.current=rp,a=jn!==null&&jn.next!==null,Il=0,Dn=jn=ln=null,Xh=!1,a)throw Error(r(300));return i}function pv(){var i=Sd!==0;return Sd=0,i}function uo(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?ln.memoizedState=Dn=i:Dn=Dn.next=i,Dn}function gs(){if(jn===null){var i=ln.alternate;i=i!==null?i.memoizedState:null}else i=jn.next;var a=Dn===null?ln.memoizedState:Dn.next;if(a!==null)Dn=a,jn=i;else{if(i===null)throw Error(r(310));jn=i,i={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Dn===null?ln.memoizedState=Dn=i:Dn=Dn.next=i}return Dn}function Nd(i,a){return typeof a=="function"?a(i):a}function mv(i){var a=gs(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var p=jn,x=p.baseQueue,N=c.pending;if(N!==null){if(x!==null){var P=x.next;x.next=N.next,N.next=P}p.baseQueue=x=N,c.pending=null}if(x!==null){N=x.next,p=p.baseState;var oe=P=null,fe=null,Fe=N;do{var tt=Fe.lane;if((Il&tt)===tt)fe!==null&&(fe=fe.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),p=Fe.hasEagerState?Fe.eagerState:i(p,Fe.action);else{var nt={lane:tt,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};fe===null?(oe=fe=nt,P=p):fe=fe.next=nt,ln.lanes|=tt,Cl|=tt}Fe=Fe.next}while(Fe!==null&&Fe!==N);fe===null?P=p:fe.next=oe,Os(p,a.memoizedState)||(ki=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=fe,c.lastRenderedState=p}if(i=c.interleaved,i!==null){x=i;do N=x.lane,ln.lanes|=N,Cl|=N,x=x.next;while(x!==i)}else x===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function gv(i){var a=gs(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var p=c.dispatch,x=c.pending,N=a.memoizedState;if(x!==null){c.pending=null;var P=x=x.next;do N=i(N,P.action),P=P.next;while(P!==x);Os(N,a.memoizedState)||(ki=!0),a.memoizedState=N,a.baseQueue===null&&(a.baseState=N),c.lastRenderedState=N}return[N,p]}function Jx(){}function Zx(i,a){var c=ln,p=gs(),x=a(),N=!Os(p.memoizedState,x);if(N&&(p.memoizedState=x,ki=!0),p=p.queue,yv(eS.bind(null,c,p,i),[i]),p.getSnapshot!==a||N||Dn!==null&&Dn.memoizedState.tag&1){if(c.flags|=2048,Ed(9,Xx.bind(null,c,p,x,a),void 0,null),Mn===null)throw Error(r(349));Il&30||Yx(c,a,x)}return x}function Yx(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=ln.updateQueue,a===null?(a={lastEffect:null,stores:null},ln.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Xx(i,a,c,p){a.value=c,a.getSnapshot=p,tS(a)&&rS(i)}function eS(i,a,c){return c(function(){tS(a)&&rS(i)})}function tS(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Os(i,c)}catch{return!0}}function rS(i){var a=Lo(i,1);a!==null&&Fs(a,i,1,-1)}function nS(i){var a=uo();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:i},a.queue=i,i=i.dispatch=O3.bind(null,ln,i),[a.memoizedState,i]}function Ed(i,a,c,p){return i={tag:i,create:a,destroy:c,deps:p,next:null},a=ln.updateQueue,a===null?(a={lastEffect:null,stores:null},ln.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,a.lastEffect=i)),i}function iS(){return gs().memoizedState}function ep(i,a,c,p){var x=uo();ln.flags|=i,x.memoizedState=Ed(1|a,c,void 0,p===void 0?null:p)}function tp(i,a,c,p){var x=gs();p=p===void 0?null:p;var N=void 0;if(jn!==null){var P=jn.memoizedState;if(N=P.destroy,p!==null&&fv(p,P.deps)){x.memoizedState=Ed(a,c,N,p);return}}ln.flags|=i,x.memoizedState=Ed(1|a,c,N,p)}function sS(i,a){return ep(8390656,8,i,a)}function yv(i,a){return tp(2048,8,i,a)}function oS(i,a){return tp(4,2,i,a)}function aS(i,a){return tp(4,4,i,a)}function lS(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function uS(i,a,c){return c=c!=null?c.concat([i]):null,tp(4,4,lS.bind(null,a,i),c)}function vv(){}function cS(i,a){var c=gs();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&fv(a,p[1])?p[0]:(c.memoizedState=[i,a],i)}function dS(i,a){var c=gs();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&fv(a,p[1])?p[0]:(i=i(),c.memoizedState=[i,a],i)}function fS(i,a,c){return Il&21?(Os(c,a)||(c=qh(),ln.lanes|=c,Cl|=c,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,ki=!0),i.memoizedState=c)}function q3(i,a){var c=Nr;Nr=c!==0&&4>c?c:4,i(!0);var p=dv.transition;dv.transition={};try{i(!1),a()}finally{Nr=c,dv.transition=p}}function hS(){return gs().memoizedState}function T3(i,a,c){var p=ka(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},pS(i))mS(a,c);else if(c=Vx(i,a,c,p),c!==null){var x=fi();Fs(c,i,p,x),gS(c,a,p)}}function O3(i,a,c){var p=ka(i),x={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(pS(i))mS(a,x);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=a.lastRenderedReducer,N!==null))try{var P=a.lastRenderedState,oe=N(P,c);if(x.hasEagerState=!0,x.eagerState=oe,Os(oe,P)){var fe=a.interleaved;fe===null?(x.next=x,sv(a)):(x.next=fe.next,fe.next=x),a.interleaved=x;return}}catch{}finally{}c=Vx(i,a,x,p),c!==null&&(x=fi(),Fs(c,i,p,x),gS(c,a,p))}}function pS(i){var a=i.alternate;return i===ln||a!==null&&a===ln}function mS(i,a){xd=Xh=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function gS(i,a,c){if(c&4194240){var p=a.lanes;p&=i.pendingLanes,c|=p,a.lanes=c,nd(i,c)}}var rp={readContext:ms,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},R3={readContext:ms,useCallback:function(i,a){return uo().memoizedState=[i,a===void 0?null:a],i},useContext:ms,useEffect:sS,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,ep(4194308,4,lS.bind(null,a,i),c)},useLayoutEffect:function(i,a){return ep(4194308,4,i,a)},useInsertionEffect:function(i,a){return ep(4,2,i,a)},useMemo:function(i,a){var c=uo();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var p=uo();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=T3.bind(null,ln,i),[p.memoizedState,i]},useRef:function(i){var a=uo();return i={current:i},a.memoizedState=i},useState:nS,useDebugValue:vv,useDeferredValue:function(i){return uo().memoizedState=i},useTransition:function(){var i=nS(!1),a=i[0];return i=q3.bind(null,i[1]),uo().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var p=ln,x=uo();if(Jr){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),Mn===null)throw Error(r(349));Il&30||Yx(p,a,c)}x.memoizedState=c;var N={value:c,getSnapshot:a};return x.queue=N,sS(eS.bind(null,p,N,i),[i]),p.flags|=2048,Ed(9,Xx.bind(null,p,N,c,a),void 0,null),c},useId:function(){var i=uo(),a=Mn.identifierPrefix;if(Jr){var c=Fo,p=jo;c=(p&~(1<<32-Si(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Sd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=C3++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},A3={readContext:ms,useCallback:cS,useContext:ms,useEffect:yv,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:dS,useReducer:mv,useRef:iS,useState:function(){return mv(Nd)},useDebugValue:vv,useDeferredValue:function(i){var a=gs();return fS(a,jn.memoizedState,i)},useTransition:function(){var i=mv(Nd)[0],a=gs().memoizedState;return[i,a]},useMutableSource:Jx,useSyncExternalStore:Zx,useId:hS,unstable_isNewReconciler:!1},P3={readContext:ms,useCallback:cS,useContext:ms,useEffect:yv,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:dS,useReducer:gv,useRef:iS,useState:function(){return gv(Nd)},useDebugValue:vv,useDeferredValue:function(i){var a=gs();return jn===null?a.memoizedState=i:fS(a,jn.memoizedState,i)},useTransition:function(){var i=gv(Nd)[0],a=gs().memoizedState;return[i,a]},useMutableSource:Jx,useSyncExternalStore:Zx,useId:hS,unstable_isNewReconciler:!1};function As(i,a){if(i&&i.defaultProps){a=Ee({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function _v(i,a,c,p){a=i.memoizedState,c=c(p,a),c=c==null?a:Ee({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var np={isMounted:function(i){return(i=i._reactInternals)?Oo(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var p=fi(),x=ka(i),N=Do(p,x);N.payload=a,c!=null&&(N.callback=c),a=xa(i,N,x),a!==null&&(Fs(a,i,x,p),Gh(a,i,x))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var p=fi(),x=ka(i),N=Do(p,x);N.tag=1,N.payload=a,c!=null&&(N.callback=c),a=xa(i,N,x),a!==null&&(Fs(a,i,x,p),Gh(a,i,x))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=fi(),p=ka(i),x=Do(c,p);x.tag=2,a!=null&&(x.callback=a),a=xa(i,x,p),a!==null&&(Fs(a,i,p,c),Gh(a,i,p))}};function yS(i,a,c,p,x,N,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,P):a.prototype&&a.prototype.isPureReactComponent?!dd(c,p)||!dd(x,N):!0}function vS(i,a,c){var p=!1,x=_a,N=a.contextType;return typeof N=="object"&&N!==null?N=ms(N):(x=Ei(a)?xl:Gn.current,p=a.contextTypes,N=(p=p!=null)?xu(i,x):_a),a=new a(c,N),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=np,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=N),a}function _S(i,a,c,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==i&&np.enqueueReplaceState(a,a.state,null)}function bv(i,a,c,p){var x=i.stateNode;x.props=c,x.state=i.memoizedState,x.refs={},ov(i);var N=a.contextType;typeof N=="object"&&N!==null?x.context=ms(N):(N=Ei(a)?xl:Gn.current,x.context=xu(i,N)),x.state=i.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(_v(i,a,N,c),x.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&np.enqueueReplaceState(x,x.state,null),Jh(i,c,x,p),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Tu(i,a){try{var c="",p=a;do c+=dt(p),p=p.return;while(p);var x=c}catch(N){x=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:a,stack:x,digest:null}}function wv(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function xv(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var j3=typeof WeakMap=="function"?WeakMap:Map;function bS(i,a,c){c=Do(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){cp||(cp=!0,Lv=p),xv(i,a)},c}function wS(i,a,c){c=Do(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var x=a.value;c.payload=function(){return p(x)},c.callback=function(){xv(i,a)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(c.callback=function(){xv(i,a),typeof p!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function xS(i,a,c){var p=i.pingCache;if(p===null){p=i.pingCache=new j3;var x=new Set;p.set(a,x)}else x=p.get(a),x===void 0&&(x=new Set,p.set(a,x));x.has(c)||(x.add(c),i=G3.bind(null,i,a,c),a.then(i,i))}function SS(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function NS(i,a,c,p,x){return i.mode&1?(i.flags|=65536,i.lanes=x,i):(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Do(-1,1),a.tag=2,xa(c,a,1))),c.lanes|=1),i)}var F3=H.ReactCurrentOwner,ki=!1;function di(i,a,c,p){a.child=i===null?Ux(a,null,c,p):ku(a,i.child,c,p)}function ES(i,a,c,p,x){c=c.render;var N=a.ref;return Cu(a,x),p=hv(i,a,c,p,N,x),c=pv(),i!==null&&!ki?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,Mo(i,a,x)):(Jr&&c&&Jy(a),a.flags|=1,di(i,a,p,x),a.child)}function kS(i,a,c,p,x){if(i===null){var N=c.type;return typeof N=="function"&&!Uv(N)&&N.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=N,IS(i,a,N,p,x)):(i=gp(c.type,null,p,a,a.mode,x),i.ref=a.ref,i.return=a,a.child=i)}if(N=i.child,!(i.lanes&x)){var P=N.memoizedProps;if(c=c.compare,c=c!==null?c:dd,c(P,p)&&i.ref===a.ref)return Mo(i,a,x)}return a.flags|=1,i=Ca(N,p),i.ref=a.ref,i.return=a,a.child=i}function IS(i,a,c,p,x){if(i!==null){var N=i.memoizedProps;if(dd(N,p)&&i.ref===a.ref)if(ki=!1,a.pendingProps=p=N,(i.lanes&x)!==0)i.flags&131072&&(ki=!0);else return a.lanes=i.lanes,Mo(i,a,x)}return Sv(i,a,c,p,x)}function CS(i,a,c){var p=a.pendingProps,x=p.children,N=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(Ru,Ki),Ki|=c;else{if(!(c&0x40000000))return i=N!==null?N.baseLanes|c:c,a.lanes=a.childLanes=0x40000000,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Wr(Ru,Ki),Ki|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=N!==null?N.baseLanes:c,Wr(Ru,Ki),Ki|=p}else N!==null?(p=N.baseLanes|c,a.memoizedState=null):p=c,Wr(Ru,Ki),Ki|=p;return di(i,a,x,c),a.child}function qS(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Sv(i,a,c,p,x){var N=Ei(c)?xl:Gn.current;return N=xu(a,N),Cu(a,x),c=hv(i,a,c,p,N,x),p=pv(),i!==null&&!ki?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,Mo(i,a,x)):(Jr&&p&&Jy(a),a.flags|=1,di(i,a,c,x),a.child)}function TS(i,a,c,p,x){if(Ei(c)){var N=!0;$h(a)}else N=!1;if(Cu(a,x),a.stateNode===null)sp(i,a),vS(a,c,p),bv(a,c,p,x),p=!0;else if(i===null){var P=a.stateNode,oe=a.memoizedProps;P.props=oe;var fe=P.context,Fe=c.contextType;typeof Fe=="object"&&Fe!==null?Fe=ms(Fe):(Fe=Ei(c)?xl:Gn.current,Fe=xu(a,Fe));var tt=c.getDerivedStateFromProps,nt=typeof tt=="function"||typeof P.getSnapshotBeforeUpdate=="function";nt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(oe!==p||fe!==Fe)&&_S(a,P,p,Fe),wa=!1;var Xe=a.memoizedState;P.state=Xe,Jh(a,p,P,x),fe=a.memoizedState,oe!==p||Xe!==fe||Ni.current||wa?(typeof tt=="function"&&(_v(a,c,tt,p),fe=a.memoizedState),(oe=wa||yS(a,c,oe,p,Xe,fe,Fe))?(nt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=fe),P.props=p,P.state=fe,P.context=Fe,p=oe):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,Hx(i,a),oe=a.memoizedProps,Fe=a.type===a.elementType?oe:As(a.type,oe),P.props=Fe,nt=a.pendingProps,Xe=P.context,fe=c.contextType,typeof fe=="object"&&fe!==null?fe=ms(fe):(fe=Ei(c)?xl:Gn.current,fe=xu(a,fe));var It=c.getDerivedStateFromProps;(tt=typeof It=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(oe!==nt||Xe!==fe)&&_S(a,P,p,fe),wa=!1,Xe=a.memoizedState,P.state=Xe,Jh(a,p,P,x);var Pt=a.memoizedState;oe!==nt||Xe!==Pt||Ni.current||wa?(typeof It=="function"&&(_v(a,c,It,p),Pt=a.memoizedState),(Fe=wa||yS(a,c,Fe,p,Xe,Pt,fe)||!1)?(tt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Pt,fe),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Pt,fe)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Pt),P.props=p,P.state=Pt,P.context=fe,p=Fe):(typeof P.componentDidUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(a.flags|=1024),p=!1)}return Nv(i,a,c,p,N,x)}function Nv(i,a,c,p,x,N){qS(i,a);var P=(a.flags&128)!==0;if(!p&&!P)return x&&jx(a,c,!1),Mo(i,a,N);p=a.stateNode,F3.current=a;var oe=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&P?(a.child=ku(a,i.child,null,N),a.child=ku(a,null,oe,N)):di(i,a,oe,N),a.memoizedState=p.state,x&&jx(a,c,!0),a.child}function OS(i){var a=i.stateNode;a.pendingContext?Ax(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Ax(i,a.context,!1),av(i,a.containerInfo)}function RS(i,a,c,p,x){return Eu(),ev(x),a.flags|=256,di(i,a,c,p),a.child}var Ev={dehydrated:null,treeContext:null,retryLane:0};function kv(i){return{baseLanes:i,cachePool:null,transitions:null}}function AS(i,a,c){var p=a.pendingProps,x=an.current,N=!1,P=(a.flags&128)!==0,oe;if((oe=P)||(oe=i!==null&&i.memoizedState===null?!1:(x&2)!==0),oe?(N=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),Wr(an,x&1),i===null)return Xy(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?i.data==="$!"?a.lanes=8:a.lanes=0x40000000:a.lanes=1,null):(P=p.children,i=p.fallback,N?(p=a.mode,N=a.child,P={mode:"hidden",children:P},!(p&1)&&N!==null?(N.childLanes=0,N.pendingProps=P):N=yp(P,p,0,null),i=Rl(i,p,c,null),N.return=a,i.return=a,N.sibling=i,a.child=N,a.child.memoizedState=kv(c),a.memoizedState=Ev,i):Iv(a,P));if(x=i.memoizedState,x!==null&&(oe=x.dehydrated,oe!==null))return L3(i,a,P,p,oe,x,c);if(N){N=p.fallback,P=a.mode,x=i.child,oe=x.sibling;var fe={mode:"hidden",children:p.children};return!(P&1)&&a.child!==x?(p=a.child,p.childLanes=0,p.pendingProps=fe,a.deletions=null):(p=Ca(x,fe),p.subtreeFlags=x.subtreeFlags&0xe00000),oe!==null?N=Ca(oe,N):(N=Rl(N,P,c,null),N.flags|=2),N.return=a,p.return=a,p.sibling=N,a.child=p,p=N,N=a.child,P=i.child.memoizedState,P=P===null?kv(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},N.memoizedState=P,N.childLanes=i.childLanes&~c,a.memoizedState=Ev,p}return N=i.child,i=N.sibling,p=Ca(N,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=p,a.memoizedState=null,p}function Iv(i,a){return a=yp({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function ip(i,a,c,p){return p!==null&&ev(p),ku(a,i.child,null,c),i=Iv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function L3(i,a,c,p,x,N,P){if(c)return a.flags&256?(a.flags&=-257,p=wv(Error(r(422))),ip(i,a,P,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(N=p.fallback,x=a.mode,p=yp({mode:"visible",children:p.children},x,0,null),N=Rl(N,x,P,null),N.flags|=2,p.return=a,N.return=a,p.sibling=N,a.child=p,a.mode&1&&ku(a,i.child,null,P),a.child.memoizedState=kv(P),a.memoizedState=Ev,N);if(!(a.mode&1))return ip(i,a,P,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var oe=p.dgst;return p=oe,N=Error(r(419)),p=wv(N,p,void 0),ip(i,a,P,p)}if(oe=(P&i.childLanes)!==0,ki||oe){if(p=Mn,p!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:x=32;break;case 0x20000000:x=0x10000000;break;default:x=0}x=x&(p.suspendedLanes|P)?0:x,x!==0&&x!==N.retryLane&&(N.retryLane=x,Lo(i,x),Fs(p,i,x,-1))}return zv(),p=wv(Error(r(421))),ip(i,a,P,p)}return x.data==="$?"?(a.flags|=128,a.child=i.child,a=J3.bind(null,i),x._reactRetry=a,null):(i=N.treeContext,Qi=ya(x.nextSibling),Hi=a,Jr=!0,Rs=null,i!==null&&(hs[ps++]=jo,hs[ps++]=Fo,hs[ps++]=Sl,jo=i.id,Fo=i.overflow,Sl=a),a=Iv(a,p.children),a.flags|=4096,a)}function PS(i,a,c){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),iv(i.return,a,c)}function Cv(i,a,c,p,x){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:x}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=c,N.tailMode=x)}function jS(i,a,c){var p=a.pendingProps,x=p.revealOrder,N=p.tail;if(di(i,a,p.children,c),p=an.current,p&2)p=p&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&PS(i,c,a);else if(i.tag===19)PS(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Wr(an,p),!(a.mode&1))a.memoizedState=null;else switch(x){case"forwards":for(c=a.child,x=null;c!==null;)i=c.alternate,i!==null&&Zh(i)===null&&(x=c),c=c.sibling;c=x,c===null?(x=a.child,a.child=null):(x=c.sibling,c.sibling=null),Cv(a,!1,x,c,N);break;case"backwards":for(c=null,x=a.child,a.child=null;x!==null;){if(i=x.alternate,i!==null&&Zh(i)===null){a.child=x;break}i=x.sibling,x.sibling=c,c=x,x=i}Cv(a,!0,c,null,N);break;case"together":Cv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function sp(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Mo(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Cl|=a.lanes,!(c&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,c=Ca(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Ca(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function D3(i,a,c){switch(a.tag){case 3:OS(a),Eu();break;case 5:Gx(a);break;case 1:Ei(a.type)&&$h(a);break;case 4:av(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,x=a.memoizedProps.value;Wr(Qh,p._currentValue),p._currentValue=x;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Wr(an,an.current&1),a.flags|=128,null):c&a.child.childLanes?AS(i,a,c):(Wr(an,an.current&1),i=Mo(i,a,c),i!==null?i.sibling:null);Wr(an,an.current&1);break;case 19:if(p=(c&a.childLanes)!==0,i.flags&128){if(p)return jS(i,a,c);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Wr(an,an.current),p)break;return null;case 22:case 23:return a.lanes=0,CS(i,a,c)}return Mo(i,a,c)}var FS,qv,LS,DS;FS=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},qv=function(){},LS=function(i,a,c,p){var x=i.memoizedProps;if(x!==p){i=a.stateNode,kl(lo.current);var N=null;switch(c){case"input":x=er(i,x),p=er(i,p),N=[];break;case"select":x=Ee({},x,{value:void 0}),p=Ee({},p,{value:void 0}),N=[];break;case"textarea":x=De(i,x),p=De(i,p),N=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Dh)}ha(c,p);var P;c=null;for(Fe in x)if(!p.hasOwnProperty(Fe)&&x.hasOwnProperty(Fe)&&x[Fe]!=null)if(Fe==="style"){var oe=x[Fe];for(P in oe)oe.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(s.hasOwnProperty(Fe)?N||(N=[]):(N=N||[]).push(Fe,null));for(Fe in p){var fe=p[Fe];if(oe=x?.[Fe],p.hasOwnProperty(Fe)&&fe!==oe&&(fe!=null||oe!=null))if(Fe==="style")if(oe){for(P in oe)!oe.hasOwnProperty(P)||fe&&fe.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in fe)fe.hasOwnProperty(P)&&oe[P]!==fe[P]&&(c||(c={}),c[P]=fe[P])}else c||(N||(N=[]),N.push(Fe,c)),c=fe;else Fe==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,oe=oe?oe.__html:void 0,fe!=null&&oe!==fe&&(N=N||[]).push(Fe,fe)):Fe==="children"?typeof fe!="string"&&typeof fe!="number"||(N=N||[]).push(Fe,""+fe):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Fe)?(fe!=null&&Fe==="onScroll"&&Qr("scroll",i),N||oe===fe||(N=[])):(N=N||[]).push(Fe,fe))}c&&(N=N||[]).push("style",c);var Fe=N;(a.updateQueue=Fe)&&(a.flags|=4)}},DS=function(i,a,c,p){c!==p&&(a.flags|=4)};function kd(i,a){if(!Jr)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Zn(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(a)for(var x=i.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags&0xe00000,p|=x.flags&0xe00000,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=p,i.childLanes=c,a}function M3(i,a,c){var p=a.pendingProps;switch(Zy(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(a),null;case 1:return Ei(a.type)&&Bh(),Zn(a),null;case 3:return p=a.stateNode,qu(),Kr(Ni),Kr(Gn),cv(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Vh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Rs!==null&&(Bv(Rs),Rs=null))),qv(i,a),Zn(a),null;case 5:lv(a);var x=kl(wd.current);if(c=a.type,i!==null&&a.stateNode!=null)LS(i,a,c,p,x),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(r(166));return Zn(a),null}if(i=kl(lo.current),Vh(a)){p=a.stateNode,c=a.type;var N=a.memoizedProps;switch(p[ao]=a,p[gd]=N,i=(a.mode&1)!==0,c){case"dialog":Qr("cancel",p),Qr("close",p);break;case"iframe":case"object":case"embed":Qr("load",p);break;case"video":case"audio":for(x=0;x<hd.length;x++)Qr(hd[x],p);break;case"source":Qr("error",p);break;case"img":case"image":case"link":Qr("error",p),Qr("load",p);break;case"details":Qr("toggle",p);break;case"input":Zt(p,N),Qr("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!N.multiple},Qr("invalid",p);break;case"textarea":Ge(p,N),Qr("invalid",p)}ha(c,N),x=null;for(var P in N)if(N.hasOwnProperty(P)){var oe=N[P];P==="children"?typeof oe=="string"?p.textContent!==oe&&(N.suppressHydrationWarning!==!0&&Lh(p.textContent,oe,i),x=["children",oe]):typeof oe=="number"&&p.textContent!==""+oe&&(N.suppressHydrationWarning!==!0&&Lh(p.textContent,oe,i),x=["children",""+oe]):s.hasOwnProperty(P)&&oe!=null&&P==="onScroll"&&Qr("scroll",p)}switch(c){case"input":gt(p),ae(p,N,!0);break;case"textarea":gt(p),$t(p);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(p.onclick=Dh)}p=x,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Sr(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=P.createElement("div"),i.innerHTML="<script></script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=P.createElement(c,{is:p.is}):(i=P.createElement(c),c==="select"&&(P=i,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):i=P.createElementNS(i,c),i[ao]=a,i[gd]=p,FS(i,a,!1,!1),a.stateNode=i;e:{switch(P=pa(c,p),c){case"dialog":Qr("cancel",i),Qr("close",i),x=p;break;case"iframe":case"object":case"embed":Qr("load",i),x=p;break;case"video":case"audio":for(x=0;x<hd.length;x++)Qr(hd[x],i);x=p;break;case"source":Qr("error",i),x=p;break;case"img":case"image":case"link":Qr("error",i),Qr("load",i),x=p;break;case"details":Qr("toggle",i),x=p;break;case"input":Zt(i,p),x=er(i,p),Qr("invalid",i);break;case"option":x=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},x=Ee({},p,{value:void 0}),Qr("invalid",i);break;case"textarea":Ge(i,p),x=De(i,p),Qr("invalid",i);break;default:x=p}ha(c,x),oe=x;for(N in oe)if(oe.hasOwnProperty(N)){var fe=oe[N];N==="style"?Ht(i,fe):N==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&ci(i,fe)):N==="children"?typeof fe=="string"?(c!=="textarea"||fe!=="")&&dn(i,fe):typeof fe=="number"&&dn(i,""+fe):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?fe!=null&&N==="onScroll"&&Qr("scroll",i):fe!=null&&$(i,N,fe,P))}switch(c){case"input":gt(i),ae(i,p,!1);break;case"textarea":gt(i),$t(i);break;case"option":p.value!=null&&i.setAttribute("value",""+yt(p.value));break;case"select":i.multiple=!!p.multiple,N=p.value,N!=null?Oe(i,!!p.multiple,N,!1):p.defaultValue!=null&&Oe(i,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Dh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Zn(a),null;case 6:if(i&&a.stateNode!=null)DS(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(r(166));if(c=kl(wd.current),kl(lo.current),Vh(a)){if(p=a.stateNode,c=a.memoizedProps,p[ao]=a,(N=p.nodeValue!==c)&&(i=Hi,i!==null))switch(i.tag){case 3:Lh(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lh(p.nodeValue,c,(i.mode&1)!==0)}N&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[ao]=a,a.stateNode=p}return Zn(a),null;case 13:if(Kr(an),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Jr&&Qi!==null&&a.mode&1&&!(a.flags&128))$x(),Eu(),a.flags|=98560,N=!1;else if(N=Vh(a),p!==null&&p.dehydrated!==null){if(i===null){if(!N)throw Error(r(318));if(N=a.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[ao]=a}else Eu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Zn(a),N=!1}else Rs!==null&&(Bv(Rs),Rs=null),N=!0;if(!N)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(i===null||an.current&1?Fn===0&&(Fn=3):zv())),a.updateQueue!==null&&(a.flags|=4),Zn(a),null);case 4:return qu(),qv(i,a),i===null&&pd(a.stateNode.containerInfo),Zn(a),null;case 10:return nv(a.type._context),Zn(a),null;case 17:return Ei(a.type)&&Bh(),Zn(a),null;case 19:if(Kr(an),N=a.memoizedState,N===null)return Zn(a),null;if(p=(a.flags&128)!==0,P=N.rendering,P===null)if(p)kd(N,!1);else{if(Fn!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(P=Zh(i),P!==null){for(a.flags|=128,kd(N,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)N=c,i=p,N.flags&=0xe00002,P=N.alternate,P===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=P.childLanes,N.lanes=P.lanes,N.child=P.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=P.memoizedProps,N.memoizedState=P.memoizedState,N.updateQueue=P.updateQueue,N.type=P.type,i=P.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Wr(an,an.current&1|2),a.child}i=i.sibling}N.tail!==null&&sn()>Au&&(a.flags|=128,p=!0,kd(N,!1),a.lanes=4194304)}else{if(!p)if(i=Zh(P),i!==null){if(a.flags|=128,p=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),kd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!P.alternate&&!Jr)return Zn(a),null}else 2*sn()-N.renderingStartTime>Au&&c!==0x40000000&&(a.flags|=128,p=!0,kd(N,!1),a.lanes=4194304);N.isBackwards?(P.sibling=a.child,a.child=P):(c=N.last,c!==null?c.sibling=P:a.child=P,N.last=P)}return N.tail!==null?(a=N.tail,N.rendering=a,N.tail=a.sibling,N.renderingStartTime=sn(),a.sibling=null,c=an.current,Wr(an,p?c&1|2:c&1),a):(Zn(a),null);case 22:case 23:return Wv(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Ki&0x40000000&&(Zn(a),a.subtreeFlags&6&&(a.flags|=8192)):Zn(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function B3(i,a){switch(Zy(a),a.tag){case 1:return Ei(a.type)&&Bh(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return qu(),Kr(Ni),Kr(Gn),cv(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return lv(a),null;case 13:if(Kr(an),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Eu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Kr(an),null;case 4:return qu(),null;case 10:return nv(a.type._context),null;case 22:case 23:return Wv(),null;case 24:return null;default:return null}}var op=!1,Yn=!1,$3=typeof WeakSet=="function"?WeakSet:Set,At=null;function Ou(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){fn(i,a,p)}else c.current=null}function Tv(i,a,c){try{c()}catch(p){fn(i,a,p)}}var MS=!1;function W3(i,a){if(Wy=Be,i=yx(),Py(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var x=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{c.nodeType,N.nodeType}catch{c=null;break e}var P=0,oe=-1,fe=-1,Fe=0,tt=0,nt=i,Xe=null;t:for(;;){for(var It;nt!==c||x!==0&&nt.nodeType!==3||(oe=P+x),nt!==N||p!==0&&nt.nodeType!==3||(fe=P+p),nt.nodeType===3&&(P+=nt.nodeValue.length),(It=nt.firstChild)!==null;)Xe=nt,nt=It;for(;;){if(nt===i)break t;if(Xe===c&&++Fe===x&&(oe=P),Xe===N&&++tt===p&&(fe=P),(It=nt.nextSibling)!==null)break;nt=Xe,Xe=nt.parentNode}nt=It}c=oe===-1||fe===-1?null:{start:oe,end:fe}}else c=null}c=c||{start:0,end:0}}else c=null;for(zy={focusedElem:i,selectionRange:c},Be=!1,At=a;At!==null;)if(a=At,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,At=i;else for(;At!==null;){a=At;try{var Pt=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Dt=Pt.memoizedProps,mn=Pt.memoizedState,Ie=a.stateNode,ve=Ie.getSnapshotBeforeUpdate(a.elementType===a.type?Dt:As(a.type,Dt),mn);Ie.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Re=a.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){fn(a,a.return,ot)}if(i=a.sibling,i!==null){i.return=a.return,At=i;break}At=a.return}return Pt=MS,MS=!1,Pt}function Id(i,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&i)===i){var N=x.destroy;x.destroy=void 0,N!==void 0&&Tv(a,c,N)}x=x.next}while(x!==p)}}function ap(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Ov(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function BS(i){var a=i.alternate;a!==null&&(i.alternate=null,BS(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[ao],delete a[gd],delete a[Qy],delete a[N3],delete a[E3])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function $S(i){return i.tag===5||i.tag===3||i.tag===4}function WS(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$S(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rv(i,a,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Dh));else if(p!==4&&(i=i.child,i!==null))for(Rv(i,a,c),i=i.sibling;i!==null;)Rv(i,a,c),i=i.sibling}function Av(i,a,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Av(i,a,c),i=i.sibling;i!==null;)Av(i,a,c),i=i.sibling}var zn=null,Ps=!1;function Sa(i,a,c){for(c=c.child;c!==null;)zS(i,a,c),c=c.sibling}function zS(i,a,c){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(fu,c)}catch{}switch(c.tag){case 5:Yn||Ou(c,a);case 6:var p=zn,x=Ps;zn=null,Sa(i,a,c),zn=p,Ps=x,zn!==null&&(Ps?(i=zn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):zn.removeChild(c.stateNode));break;case 18:zn!==null&&(Ps?(i=zn,c=c.stateNode,i.nodeType===8?Hy(i.parentNode,c):i.nodeType===1&&Hy(i,c),be(i)):Hy(zn,c.stateNode));break;case 4:p=zn,x=Ps,zn=c.stateNode.containerInfo,Ps=!0,Sa(i,a,c),zn=p,Ps=x;break;case 0:case 11:case 14:case 15:if(!Yn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var N=x,P=N.destroy;N=N.tag,P!==void 0&&(N&2||N&4)&&Tv(c,a,P),x=x.next}while(x!==p)}Sa(i,a,c);break;case 1:if(!Yn&&(Ou(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(oe){fn(c,a,oe)}Sa(i,a,c);break;case 21:Sa(i,a,c);break;case 22:c.mode&1?(Yn=(p=Yn)||c.memoizedState!==null,Sa(i,a,c),Yn=p):Sa(i,a,c);break;default:Sa(i,a,c)}}function US(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new $3),a.forEach(function(p){var x=Z3.bind(null,i,p);c.has(p)||(c.add(p),p.then(x,x))})}}function js(i,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var x=c[p];try{var N=i,P=a,oe=P;e:for(;oe!==null;){switch(oe.tag){case 5:zn=oe.stateNode,Ps=!1;break e;case 3:zn=oe.stateNode.containerInfo,Ps=!0;break e;case 4:zn=oe.stateNode.containerInfo,Ps=!0;break e}oe=oe.return}if(zn===null)throw Error(r(160));zS(N,P,x),zn=null,Ps=!1;var fe=x.alternate;fe!==null&&(fe.return=null),x.return=null}catch(Fe){fn(x,a,Fe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)VS(a,i),a=a.sibling}function VS(i,a){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(js(a,i),co(i),p&4){try{Id(3,i,i.return),ap(3,i)}catch(Dt){fn(i,i.return,Dt)}try{Id(5,i,i.return)}catch(Dt){fn(i,i.return,Dt)}}break;case 1:js(a,i),co(i),p&512&&c!==null&&Ou(c,c.return);break;case 5:if(js(a,i),co(i),p&512&&c!==null&&Ou(c,c.return),i.flags&32){var x=i.stateNode;try{dn(x,"")}catch(Dt){fn(i,i.return,Dt)}}if(p&4&&(x=i.stateNode,x!=null)){var N=i.memoizedProps,P=c!==null?c.memoizedProps:N,oe=i.type,fe=i.updateQueue;if(i.updateQueue=null,fe!==null)try{oe==="input"&&N.type==="radio"&&N.name!=null&&sr(x,N),pa(oe,P);var Fe=pa(oe,N);for(P=0;P<fe.length;P+=2){var tt=fe[P],nt=fe[P+1];tt==="style"?Ht(x,nt):tt==="dangerouslySetInnerHTML"?ci(x,nt):tt==="children"?dn(x,nt):$(x,tt,nt,Fe)}switch(oe){case"input":mr(x,N);break;case"textarea":_t(x,N);break;case"select":var Xe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!N.multiple;var It=N.value;It!=null?Oe(x,!!N.multiple,It,!1):Xe!==!!N.multiple&&(N.defaultValue!=null?Oe(x,!!N.multiple,N.defaultValue,!0):Oe(x,!!N.multiple,N.multiple?[]:"",!1))}x[gd]=N}catch(Dt){fn(i,i.return,Dt)}}break;case 6:if(js(a,i),co(i),p&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,N=i.memoizedProps;try{x.nodeValue=N}catch(Dt){fn(i,i.return,Dt)}}break;case 3:if(js(a,i),co(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{be(a.containerInfo)}catch(Dt){fn(i,i.return,Dt)}break;case 4:js(a,i),co(i);break;case 13:js(a,i),co(i),x=i.child,x.flags&8192&&(N=x.memoizedState!==null,x.stateNode.isHidden=N,!N||x.alternate!==null&&x.alternate.memoizedState!==null||(Fv=sn())),p&4&&US(i);break;case 22:if(tt=c!==null&&c.memoizedState!==null,i.mode&1?(Yn=(Fe=Yn)||tt,js(a,i),Yn=Fe):js(a,i),co(i),p&8192){if(Fe=i.memoizedState!==null,(i.stateNode.isHidden=Fe)&&!tt&&i.mode&1)for(At=i,tt=i.child;tt!==null;){for(nt=At=tt;At!==null;){switch(Xe=At,It=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:Id(4,Xe,Xe.return);break;case 1:Ou(Xe,Xe.return);var Pt=Xe.stateNode;if(typeof Pt.componentWillUnmount=="function"){p=Xe,c=Xe.return;try{a=p,Pt.props=a.memoizedProps,Pt.state=a.memoizedState,Pt.componentWillUnmount()}catch(Dt){fn(p,c,Dt)}}break;case 5:Ou(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){KS(nt);continue}}It!==null?(It.return=Xe,At=It):KS(nt)}tt=tt.sibling}e:for(tt=null,nt=i;;){if(nt.tag===5){if(tt===null){tt=nt;try{x=nt.stateNode,Fe?(N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(oe=nt.stateNode,fe=nt.memoizedProps.style,P=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,oe.style.display=$n("display",P))}catch(Dt){fn(i,i.return,Dt)}}}else if(nt.tag===6){if(tt===null)try{nt.stateNode.nodeValue=Fe?"":nt.memoizedProps}catch(Dt){fn(i,i.return,Dt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;tt===nt&&(tt=null),nt=nt.return}tt===nt&&(tt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:js(a,i),co(i),p&4&&US(i);break;case 21:break;default:js(a,i),co(i)}}function co(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if($S(c)){var p=c;break e}c=c.return}throw Error(r(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(dn(x,""),p.flags&=-33);var N=WS(i);Av(i,N,x);break;case 3:case 4:var P=p.stateNode.containerInfo,oe=WS(i);Rv(i,oe,P);break;default:throw Error(r(161))}}catch(fe){fn(i,i.return,fe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function z3(i,a,c){At=i,HS(i)}function HS(i,a,c){for(var p=(i.mode&1)!==0;At!==null;){var x=At,N=x.child;if(x.tag===22&&p){var P=x.memoizedState!==null||op;if(!P){var oe=x.alternate,fe=oe!==null&&oe.memoizedState!==null||Yn;oe=op;var Fe=Yn;if(op=P,(Yn=fe)&&!Fe)for(At=x;At!==null;)P=At,fe=P.child,P.tag===22&&P.memoizedState!==null?GS(x):fe!==null?(fe.return=P,At=fe):GS(x);for(;N!==null;)At=N,HS(N),N=N.sibling;At=x,op=oe,Yn=Fe}QS(i)}else x.subtreeFlags&8772&&N!==null?(N.return=x,At=N):QS(i)}}function QS(i){for(;At!==null;){var a=At;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Yn||ap(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Yn)if(c===null)p.componentDidMount();else{var x=a.elementType===a.type?c.memoizedProps:As(a.type,c.memoizedProps);p.componentDidUpdate(x,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var N=a.updateQueue;N!==null&&Kx(a,N,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Kx(a,P,c)}break;case 5:var oe=a.stateNode;if(c===null&&a.flags&4){c=oe;var fe=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&c.focus();break;case"img":fe.src&&(c.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Fe=a.alternate;if(Fe!==null){var tt=Fe.memoizedState;if(tt!==null){var nt=tt.dehydrated;nt!==null&&be(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yn||a.flags&512&&Ov(a)}catch(Xe){fn(a,a.return,Xe)}}if(a===i){At=null;break}if(c=a.sibling,c!==null){c.return=a.return,At=c;break}At=a.return}}function KS(i){for(;At!==null;){var a=At;if(a===i){At=null;break}var c=a.sibling;if(c!==null){c.return=a.return,At=c;break}At=a.return}}function GS(i){for(;At!==null;){var a=At;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{ap(4,a)}catch(fe){fn(a,c,fe)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var x=a.return;try{p.componentDidMount()}catch(fe){fn(a,x,fe)}}var N=a.return;try{Ov(a)}catch(fe){fn(a,N,fe)}break;case 5:var P=a.return;try{Ov(a)}catch(fe){fn(a,P,fe)}}}catch(fe){fn(a,a.return,fe)}if(a===i){At=null;break}var oe=a.sibling;if(oe!==null){oe.return=a.return,At=oe;break}At=a.return}}var U3=Math.ceil,lp=H.ReactCurrentDispatcher,Pv=H.ReactCurrentOwner,ys=H.ReactCurrentBatchConfig,vr=0,Mn=null,Nn=null,Un=0,Ki=0,Ru=va(0),Fn=0,Cd=null,Cl=0,up=0,jv=0,qd=null,Ii=null,Fv=0,Au=1/0,Bo=null,cp=!1,Lv=null,Na=null,dp=!1,Ea=null,fp=0,Td=0,Dv=null,hp=-1,pp=0;function fi(){return vr&6?sn():hp!==-1?hp:hp=sn()}function ka(i){return i.mode&1?vr&2&&Un!==0?Un&-Un:I3.transition!==null?(pp===0&&(pp=qh()),pp):(i=Nr,i!==0||(i=window.event,i=i===void 0?16:he(i.type)),i):1}function Fs(i,a,c,p){if(50<Td)throw Td=0,Dv=null,Error(r(185));_l(i,c,p),(!(vr&2)||i!==Mn)&&(i===Mn&&(!(vr&2)&&(up|=c),Fn===4&&Ia(i,Un)),Ci(i,p),c===1&&vr===0&&!(a.mode&1)&&(Au=sn()+500,Wh&&ba()))}function Ci(i,a){var c=i.callbackNode;ky(i,a);var p=pu(i,i===Mn?Un:0);if(p===0)c!==null&&Xc(c),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(c!=null&&Xc(c),a===1)i.tag===0?k3(ZS.bind(null,i)):Fx(ZS.bind(null,i)),x3(function(){!(vr&6)&&ba()}),c=null;else{switch(Th(p)){case 1:c=ed;break;case 4:c=Ih;break;case 16:c=du;break;case 0x20000000:c=Ch;break;default:c=du}c=sN(c,JS.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function JS(i,a){if(hp=-1,pp=0,vr&6)throw Error(r(327));var c=i.callbackNode;if(Pu()&&i.callbackNode!==c)return null;var p=pu(i,i===Mn?Un:0);if(p===0)return null;if(p&30||p&i.expiredLanes||a)a=mp(i,p);else{a=p;var x=vr;vr|=2;var N=XS();(Mn!==i||Un!==a)&&(Bo=null,Au=sn()+500,Tl(i,a));do try{Q3();break}catch(oe){YS(i,oe)}while(!0);rv(),lp.current=N,vr=x,Nn!==null?a=0:(Mn=null,Un=0,a=Fn)}if(a!==0){if(a===2&&(x=td(i),x!==0&&(p=x,a=Mv(i,x))),a===1)throw c=Cd,Tl(i,0),Ia(i,p),Ci(i,sn()),c;if(a===6)Ia(i,p);else{if(x=i.current.alternate,!(p&30)&&!V3(x)&&(a=mp(i,p),a===2&&(N=td(i),N!==0&&(p=N,a=Mv(i,N))),a===1))throw c=Cd,Tl(i,0),Ia(i,p),Ci(i,sn()),c;switch(i.finishedWork=x,i.finishedLanes=p,a){case 0:case 1:throw Error(r(345));case 2:Ol(i,Ii,Bo);break;case 3:if(Ia(i,p),(p&0x7c00000)===p&&(a=Fv+500-sn(),10<a)){if(pu(i,0)!==0)break;if(x=i.suspendedLanes,(x&p)!==p){fi(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Vy(Ol.bind(null,i,Ii,Bo),a);break}Ol(i,Ii,Bo);break;case 4:if(Ia(i,p),(p&4194240)===p)break;for(a=i.eventTimes,x=-1;0<p;){var P=31-Si(p);N=1<<P,P=a[P],P>x&&(x=P),p&=~N}if(p=x,p=sn()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*U3(p/1960))-p,10<p){i.timeoutHandle=Vy(Ol.bind(null,i,Ii,Bo),p);break}Ol(i,Ii,Bo);break;case 5:Ol(i,Ii,Bo);break;default:throw Error(r(329))}}}return Ci(i,sn()),i.callbackNode===c?JS.bind(null,i):null}function Mv(i,a){var c=qd;return i.current.memoizedState.isDehydrated&&(Tl(i,a).flags|=256),i=mp(i,a),i!==2&&(a=Ii,Ii=c,a!==null&&Bv(a)),i}function Bv(i){Ii===null?Ii=i:Ii.push.apply(Ii,i)}function V3(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var x=c[p],N=x.getSnapshot;x=x.value;try{if(!Os(N(),x))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ia(i,a){for(a&=~jv,a&=~up,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-Si(a),p=1<<c;i[c]=-1,a&=~p}}function ZS(i){if(vr&6)throw Error(r(327));Pu();var a=pu(i,0);if(!(a&1))return Ci(i,sn()),null;var c=mp(i,a);if(i.tag!==0&&c===2){var p=td(i);p!==0&&(a=p,c=Mv(i,p))}if(c===1)throw c=Cd,Tl(i,0),Ia(i,a),Ci(i,sn()),c;if(c===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ol(i,Ii,Bo),Ci(i,sn()),null}function $v(i,a){var c=vr;vr|=1;try{return i(a)}finally{vr=c,vr===0&&(Au=sn()+500,Wh&&ba())}}function ql(i){Ea!==null&&Ea.tag===0&&!(vr&6)&&Pu();var a=vr;vr|=1;var c=ys.transition,p=Nr;try{if(ys.transition=null,Nr=1,i)return i()}finally{Nr=p,ys.transition=c,vr=a,!(vr&6)&&ba()}}function Wv(){Ki=Ru.current,Kr(Ru)}function Tl(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,w3(c)),Nn!==null)for(c=Nn.return;c!==null;){var p=c;switch(Zy(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Bh();break;case 3:qu(),Kr(Ni),Kr(Gn),cv();break;case 5:lv(p);break;case 4:qu();break;case 13:Kr(an);break;case 19:Kr(an);break;case 10:nv(p.type._context);break;case 22:case 23:Wv()}c=c.return}if(Mn=i,Nn=i=Ca(i.current,null),Un=Ki=a,Fn=0,Cd=null,jv=up=Cl=0,Ii=qd=null,El!==null){for(a=0;a<El.length;a++)if(c=El[a],p=c.interleaved,p!==null){c.interleaved=null;var x=p.next,N=c.pending;if(N!==null){var P=N.next;N.next=x,p.next=P}c.pending=p}El=null}return i}function YS(i,a){do{var c=Nn;try{if(rv(),Yh.current=rp,Xh){for(var p=ln.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}Xh=!1}if(Il=0,Dn=jn=ln=null,xd=!1,Sd=0,Pv.current=null,c===null||c.return===null){Fn=1,Cd=a,Nn=null;break}e:{var N=i,P=c.return,oe=c,fe=a;if(a=Un,oe.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Fe=fe,tt=oe,nt=tt.tag;if(!(tt.mode&1)&&(nt===0||nt===11||nt===15)){var Xe=tt.alternate;Xe?(tt.updateQueue=Xe.updateQueue,tt.memoizedState=Xe.memoizedState,tt.lanes=Xe.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var It=SS(P);if(It!==null){It.flags&=-257,NS(It,P,oe,N,a),It.mode&1&&xS(N,Fe,a),a=It,fe=Fe;var Pt=a.updateQueue;if(Pt===null){var Dt=new Set;Dt.add(fe),a.updateQueue=Dt}else Pt.add(fe);break e}else{if(!(a&1)){xS(N,Fe,a),zv();break e}fe=Error(r(426))}}else if(Jr&&oe.mode&1){var mn=SS(P);if(mn!==null){!(mn.flags&65536)&&(mn.flags|=256),NS(mn,P,oe,N,a),ev(Tu(fe,oe));break e}}N=fe=Tu(fe,oe),Fn!==4&&(Fn=2),qd===null?qd=[N]:qd.push(N),N=P;do{switch(N.tag){case 3:N.flags|=65536,a&=-a,N.lanes|=a;var Ie=bS(N,fe,a);Qx(N,Ie);break e;case 1:oe=fe;var ve=N.type,Re=N.stateNode;if(!(N.flags&128)&&(typeof ve.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(Na===null||!Na.has(Re)))){N.flags|=65536,a&=-a,N.lanes|=a;var ot=wS(N,oe,a);Qx(N,ot);break e}}N=N.return}while(N!==null)}tN(c)}catch(Mt){a=Mt,Nn===c&&c!==null&&(Nn=c=c.return);continue}break}while(!0)}function XS(){var i=lp.current;return lp.current=rp,i===null?rp:i}function zv(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Mn===null||!(Cl&0xfffffff)&&!(up&0xfffffff)||Ia(Mn,Un)}function mp(i,a){var c=vr;vr|=2;var p=XS();(Mn!==i||Un!==a)&&(Bo=null,Tl(i,a));do try{H3();break}catch(x){YS(i,x)}while(!0);if(rv(),vr=c,lp.current=p,Nn!==null)throw Error(r(261));return Mn=null,Un=0,Fn}function H3(){for(;Nn!==null;)eN(Nn)}function Q3(){for(;Nn!==null&&!yy();)eN(Nn)}function eN(i){var a=iN(i.alternate,i,Ki);i.memoizedProps=i.pendingProps,a===null?tN(i):Nn=a,Pv.current=null}function tN(i){var a=i;do{var c=a.alternate;if(i=a.return,a.flags&32768){if(c=B3(c,a),c!==null){c.flags&=32767,Nn=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Fn=6,Nn=null;return}}else if(c=M3(c,a,Ki),c!==null){Nn=c;return}if(a=a.sibling,a!==null){Nn=a;return}Nn=a=i}while(a!==null);Fn===0&&(Fn=5)}function Ol(i,a,c){var p=Nr,x=ys.transition;try{ys.transition=null,Nr=1,K3(i,a,c,p)}finally{ys.transition=x,Nr=p}return null}function K3(i,a,c,p){do Pu();while(Ea!==null);if(vr&6)throw Error(r(327));c=i.finishedWork;var x=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var N=c.lanes|c.childLanes;if(Iy(i,N),i===Mn&&(Nn=Mn=null,Un=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||dp||(dp=!0,sN(du,function(){return Pu(),null})),N=(c.flags&15990)!==0,c.subtreeFlags&15990||N){N=ys.transition,ys.transition=null;var P=Nr;Nr=1;var oe=vr;vr|=4,Pv.current=null,W3(i,c),VS(c,i),p3(zy),Be=!!Wy,zy=Wy=null,i.current=c,z3(c),vy(),vr=oe,Nr=P,ys.transition=N}else i.current=c;if(dp&&(dp=!1,Ea=i,fp=x),N=i.pendingLanes,N===0&&(Na=null),wy(c.stateNode),Ci(i,sn()),a!==null)for(p=i.onRecoverableError,c=0;c<a.length;c++)x=a[c],p(x.value,{componentStack:x.stack,digest:x.digest});if(cp)throw cp=!1,i=Lv,Lv=null,i;return fp&1&&i.tag!==0&&Pu(),N=i.pendingLanes,N&1?i===Dv?Td++:(Td=0,Dv=i):Td=0,ba(),null}function Pu(){if(Ea!==null){var i=Th(fp),a=ys.transition,c=Nr;try{if(ys.transition=null,Nr=16>i?16:i,Ea===null)var p=!1;else{if(i=Ea,Ea=null,fp=0,vr&6)throw Error(r(331));var x=vr;for(vr|=4,At=i.current;At!==null;){var N=At,P=N.child;if(At.flags&16){var oe=N.deletions;if(oe!==null){for(var fe=0;fe<oe.length;fe++){var Fe=oe[fe];for(At=Fe;At!==null;){var tt=At;switch(tt.tag){case 0:case 11:case 15:Id(8,tt,N)}var nt=tt.child;if(nt!==null)nt.return=tt,At=nt;else for(;At!==null;){tt=At;var Xe=tt.sibling,It=tt.return;if(BS(tt),tt===Fe){At=null;break}if(Xe!==null){Xe.return=It,At=Xe;break}At=It}}}var Pt=N.alternate;if(Pt!==null){var Dt=Pt.child;if(Dt!==null){Pt.child=null;do{var mn=Dt.sibling;Dt.sibling=null,Dt=mn}while(Dt!==null)}}At=N}}if(N.subtreeFlags&2064&&P!==null)P.return=N,At=P;else e:for(;At!==null;){if(N=At,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Id(9,N,N.return)}var Ie=N.sibling;if(Ie!==null){Ie.return=N.return,At=Ie;break e}At=N.return}}var ve=i.current;for(At=ve;At!==null;){P=At;var Re=P.child;if(P.subtreeFlags&2064&&Re!==null)Re.return=P,At=Re;else e:for(P=ve;At!==null;){if(oe=At,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:ap(9,oe)}}catch(Mt){fn(oe,oe.return,Mt)}if(oe===P){At=null;break e}var ot=oe.sibling;if(ot!==null){ot.return=oe.return,At=ot;break e}At=oe.return}}if(vr=x,ba(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(fu,i)}catch{}p=!0}return p}finally{Nr=c,ys.transition=a}}return!1}function rN(i,a,c){a=Tu(c,a),a=bS(i,a,1),i=xa(i,a,1),a=fi(),i!==null&&(_l(i,1,a),Ci(i,a))}function fn(i,a,c){if(i.tag===3)rN(i,i,c);else for(;a!==null;){if(a.tag===3){rN(a,i,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Na===null||!Na.has(p))){i=Tu(c,i),i=wS(a,i,1),a=xa(a,i,1),i=fi(),a!==null&&(_l(a,1,i),Ci(a,i));break}}a=a.return}}function G3(i,a,c){var p=i.pingCache;p!==null&&p.delete(a),a=fi(),i.pingedLanes|=i.suspendedLanes&c,Mn===i&&(Un&c)===c&&(Fn===4||Fn===3&&(Un&0x7c00000)===Un&&500>sn()-Fv?Tl(i,0):jv|=c),Ci(i,a)}function nN(i,a){a===0&&(i.mode&1?(a=hu,hu<<=1,!(hu&0x7c00000)&&(hu=4194304)):a=1);var c=fi();i=Lo(i,a),i!==null&&(_l(i,a,c),Ci(i,c))}function J3(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),nN(i,c)}function Z3(i,a){var c=0;switch(i.tag){case 13:var p=i.stateNode,x=i.memoizedState;x!==null&&(c=x.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(a),nN(i,c)}var iN;iN=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||Ni.current)ki=!0;else{if(!(i.lanes&c)&&!(a.flags&128))return ki=!1,D3(i,a,c);ki=!!(i.flags&131072)}else ki=!1,Jr&&a.flags&1048576&&Lx(a,Uh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;sp(i,a),i=a.pendingProps;var x=xu(a,Gn.current);Cu(a,c),x=hv(null,a,p,i,x,c);var N=pv();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ei(p)?(N=!0,$h(a)):N=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ov(a),x.updater=np,a.stateNode=x,x._reactInternals=a,bv(a,p,i,c),a=Nv(null,a,p,!0,N,c)):(a.tag=0,Jr&&N&&Jy(a),di(null,a,x,c),a=a.child),a;case 16:p=a.elementType;e:{switch(sp(i,a),i=a.pendingProps,x=p._init,p=x(p._payload),a.type=p,x=a.tag=X3(p),i=As(p,i),x){case 0:a=Sv(null,a,p,i,c);break e;case 1:a=TS(null,a,p,i,c);break e;case 11:a=ES(null,a,p,i,c);break e;case 14:a=kS(null,a,p,As(p.type,i),c);break e}throw Error(r(306,p,""))}return a;case 0:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:As(p,x),Sv(i,a,p,x,c);case 1:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:As(p,x),TS(i,a,p,x,c);case 3:e:{if(OS(a),i===null)throw Error(r(387));p=a.pendingProps,N=a.memoizedState,x=N.element,Hx(i,a),Jh(a,p,null,c);var P=a.memoizedState;if(p=P.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=N,a.memoizedState=N,a.flags&256){x=Tu(Error(r(423)),a),a=RS(i,a,p,c,x);break e}else if(p!==x){x=Tu(Error(r(424)),a),a=RS(i,a,p,c,x);break e}else for(Qi=ya(a.stateNode.containerInfo.firstChild),Hi=a,Jr=!0,Rs=null,c=Ux(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Eu(),p===x){a=Mo(i,a,c);break e}di(i,a,p,c)}a=a.child}return a;case 5:return Gx(a),i===null&&Xy(a),p=a.type,x=a.pendingProps,N=i!==null?i.memoizedProps:null,P=x.children,Uy(p,x)?P=null:N!==null&&Uy(p,N)&&(a.flags|=32),qS(i,a),di(i,a,P,c),a.child;case 6:return i===null&&Xy(a),null;case 13:return AS(i,a,c);case 4:return av(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=ku(a,null,p,c):di(i,a,p,c),a.child;case 11:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:As(p,x),ES(i,a,p,x,c);case 7:return di(i,a,a.pendingProps,c),a.child;case 8:return di(i,a,a.pendingProps.children,c),a.child;case 12:return di(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,x=a.pendingProps,N=a.memoizedProps,P=x.value,Wr(Qh,p._currentValue),p._currentValue=P,N!==null)if(Os(N.value,P)){if(N.children===x.children&&!Ni.current){a=Mo(i,a,c);break e}}else for(N=a.child,N!==null&&(N.return=a);N!==null;){var oe=N.dependencies;if(oe!==null){P=N.child;for(var fe=oe.firstContext;fe!==null;){if(fe.context===p){if(N.tag===1){fe=Do(-1,c&-c),fe.tag=2;var Fe=N.updateQueue;if(Fe!==null){Fe=Fe.shared;var tt=Fe.pending;tt===null?fe.next=fe:(fe.next=tt.next,tt.next=fe),Fe.pending=fe}}N.lanes|=c,fe=N.alternate,fe!==null&&(fe.lanes|=c),iv(N.return,c,a),oe.lanes|=c;break}fe=fe.next}}else if(N.tag===10)P=N.type===a.type?null:N.child;else if(N.tag===18){if(P=N.return,P===null)throw Error(r(341));P.lanes|=c,oe=P.alternate,oe!==null&&(oe.lanes|=c),iv(P,c,a),P=N.sibling}else P=N.child;if(P!==null)P.return=N;else for(P=N;P!==null;){if(P===a){P=null;break}if(N=P.sibling,N!==null){N.return=P.return,P=N;break}P=P.return}N=P}di(i,a,x.children,c),a=a.child}return a;case 9:return x=a.type,p=a.pendingProps.children,Cu(a,c),x=ms(x),p=p(x),a.flags|=1,di(i,a,p,c),a.child;case 14:return p=a.type,x=As(p,a.pendingProps),x=As(p.type,x),kS(i,a,p,x,c);case 15:return IS(i,a,a.type,a.pendingProps,c);case 17:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:As(p,x),sp(i,a),a.tag=1,Ei(p)?(i=!0,$h(a)):i=!1,Cu(a,c),vS(a,p,x),bv(a,p,x,c),Nv(null,a,p,!0,i,c);case 19:return jS(i,a,c);case 22:return CS(i,a,c)}throw Error(r(156,a.tag))};function sN(i,a){return kh(i,a)}function Y3(i,a,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(i,a,c,p){return new Y3(i,a,c,p)}function Uv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function X3(i){if(typeof i=="function")return Uv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===se)return 11;if(i===Te)return 14}return 2}function Ca(i,a){var c=i.alternate;return c===null?(c=vs(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&0xe00000,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function gp(i,a,c,p,x,N){var P=2;if(p=i,typeof i=="function")Uv(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case Z:return Rl(c.children,x,N,a);case ie:P=8,x|=8;break;case V:return i=vs(12,c,a,x|2),i.elementType=V,i.lanes=N,i;case Y:return i=vs(13,c,a,x),i.elementType=Y,i.lanes=N,i;case me:return i=vs(19,c,a,x),i.elementType=me,i.lanes=N,i;case je:return yp(c,x,N,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:P=10;break e;case M:P=9;break e;case se:P=11;break e;case Te:P=14;break e;case qe:P=16,p=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return a=vs(P,c,a,x),a.elementType=i,a.type=p,a.lanes=N,a}function Rl(i,a,c,p){return i=vs(7,i,p,a),i.lanes=c,i}function yp(i,a,c,p){return i=vs(22,i,p,a),i.elementType=je,i.lanes=c,i.stateNode={isHidden:!1},i}function Vv(i,a,c){return i=vs(6,i,null,a),i.lanes=c,i}function Hv(i,a,c){return a=vs(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function eR(i,a,c,p,x){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Qv(i,a,c,p,x,N,P,oe,fe){return i=new eR(i,a,c,oe,fe),a===1?(a=1,N===!0&&(a|=8)):a=0,N=vs(3,null,null,a),i.current=N,N.stateNode=i,N.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ov(N),i}function tR(i,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:p==null?null:""+p,children:i,containerInfo:a,implementation:c}}function oN(i){if(!i)return _a;i=i._reactInternals;e:{if(Oo(i)!==i||i.tag!==1)throw Error(r(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ei(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(i.tag===1){var c=i.type;if(Ei(c))return Px(i,c,a)}return a}function aN(i,a,c,p,x,N,P,oe,fe){return i=Qv(c,p,!0,i,x,N,P,oe,fe),i.context=oN(null),c=i.current,p=fi(),x=ka(c),N=Do(p,x),N.callback=a??null,xa(c,N,x),i.current.lanes=x,_l(i,x,p),Ci(i,p),i}function vp(i,a,c,p){var x=a.current,N=fi(),P=ka(x);return c=oN(c),a.context===null?a.context=c:a.pendingContext=c,a=Do(N,P),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=xa(x,a,P),i!==null&&(Fs(i,x,P,N),Gh(i,x,P)),P}function _p(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function lN(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Kv(i,a){lN(i,a),(i=i.alternate)&&lN(i,a)}function rR(){return null}var uN=typeof reportError=="function"?reportError:function(i){console.error(i)};function Gv(i){this._internalRoot=i}bp.prototype.render=Gv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));vp(i,a,null,null)},bp.prototype.unmount=Gv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ql(function(){vp(null,i,null,null)}),a[Ao]=null}};function bp(i){this._internalRoot=i}bp.prototype.unstable_scheduleHydration=function(i){if(i){var a=bl();i={blockedOn:null,target:i,priority:a};for(var c=0;c<re.length&&a!==0&&a<re[c].priority;c++);re.splice(c,0,i),c===0&&Ae(i)}};function Jv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function cN(){}function nR(i,a,c,p,x){if(x){if(typeof p=="function"){var N=p;p=function(){var Fe=_p(P);N.call(Fe)}}var P=aN(a,p,i,0,null,!1,!1,"",cN);return i._reactRootContainer=P,i[Ao]=P.current,pd(i.nodeType===8?i.parentNode:i),ql(),P}for(;x=i.lastChild;)i.removeChild(x);if(typeof p=="function"){var oe=p;p=function(){var Fe=_p(fe);oe.call(Fe)}}var fe=Qv(i,0,!1,null,null,!1,!1,"",cN);return i._reactRootContainer=fe,i[Ao]=fe.current,pd(i.nodeType===8?i.parentNode:i),ql(function(){vp(a,fe,c,p)}),fe}function xp(i,a,c,p,x){var N=c._reactRootContainer;if(N){var P=N;if(typeof x=="function"){var oe=x;x=function(){var fe=_p(P);oe.call(fe)}}vp(a,P,i,x)}else P=nR(c,a,i,x,p);return _p(P)}id=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ts(a.pendingLanes);c!==0&&(nd(a,c|1),Ci(a,sn()),!(vr&6)&&(Au=sn()+500,ba()))}break;case 13:ql(function(){var p=Lo(i,1);if(p!==null){var x=fi();Fs(p,i,1,x)}}),Kv(i,1)}},te=function(i){if(i.tag===13){var a=Lo(i,0x8000000);if(a!==null){var c=fi();Fs(a,i,0x8000000,c)}Kv(i,0x8000000)}},sd=function(i){if(i.tag===13){var a=ka(i),c=Lo(i,a);if(c!==null){var p=fi();Fs(c,i,a,p)}Kv(i,a)}},bl=function(){return Nr},od=function(i,a){var c=Nr;try{return Nr=i,a()}finally{Nr=c}},Jc=function(i,a,c){switch(a){case"input":if(mr(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==i&&p.form===i.form){var x=Mh(p);if(!x)throw Error(r(90));Ot(p),mr(p,x)}}}break;case"textarea":_t(i,c);break;case"select":a=c.value,a!=null&&Oe(i,!!c.multiple,a,!1)}},bh=$v,wh=ql;var iR={usingClientEntryPoint:!1,Events:[yd,bu,Mh,rr,_h,$v]},Od={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sR={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Nh(i),i===null?null:i.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||rR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sp.isDisabled&&Sp.supportsFiber)try{fu=Sp.inject(sR),ds=Sp}catch{}}return qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iR,qi.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jv(a))throw Error(r(200));return tR(i,a,null,c)},qi.createRoot=function(i,a){if(!Jv(i))throw Error(r(299));var c=!1,p="",x=uN;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Qv(i,1,!1,null,null,c,!1,p,x),i[Ao]=a.current,pd(i.nodeType===8?i.parentNode:i),new Gv(a)},qi.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Nh(a),i=i===null?null:i.stateNode,i},qi.flushSync=function(i){return ql(i)},qi.hydrate=function(i,a,c){if(!wp(a))throw Error(r(200));return xp(null,i,a,!0,c)},qi.hydrateRoot=function(i,a,c){if(!Jv(i))throw Error(r(405));var p=c!=null&&c.hydratedSources||null,x=!1,N="",P=uN;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(N=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=aN(a,null,i,1,c??null,x,!1,N,P),i[Ao]=a.current,pd(i),p)for(i=0;i<p.length;i++)c=p[i],x=c._getVersion,x=x(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,x]:a.mutableSourceEagerHydrationData.push(c,x);return new bp(a)},qi.render=function(i,a,c){if(!wp(a))throw Error(r(200));return xp(null,i,a,!1,c)},qi.unmountComponentAtNode=function(i){if(!wp(i))throw Error(r(40));return i._reactRootContainer?(ql(function(){xp(null,null,i,!1,function(){i._reactRootContainer=null,i[Ao]=null})}),!0):!1},qi.unstable_batchedUpdates=$v,qi.unstable_renderSubtreeIntoContainer=function(i,a,c,p){if(!wp(c))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return xp(i,a,c,!1,p)},qi.version="18.3.1-next-f1338f8080-20240426",qi}var WN;function BI(){if(WN)return l_.exports;WN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l_.exports=MA(),l_.exports}var $w=BI();const BA="Error preloading route! ";function $A(t,e){const r=Mi(),[n,s]=K.useState(!1),o=K.useRef(!1),l=fA(e),{activeProps:u=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:m,to:y,preload:w,preloadDelay:E,hashScrollIntoView:k,replace:C,startTransition:q,resetScroll:A,viewTransition:D,children:F,target:$,disabled:H,style:G,className:B,onClick:Z,onFocus:ie,onMouseEnter:V,onMouseLeave:ne,onTouchStart:M,ignoreBlocker:se,...Y}=t,{params:me,search:Te,hash:qe,state:je,mask:_e,reloadDocument:ge,...Ee}=Y,Q=K.useMemo(()=>{try{return new URL(`${y}`),"external"}catch{}return"internal"},[y]),Se=_i({select:ye=>ye.location.search,structuralSharing:!0});t={from:el({strict:!1,select:ye=>ye.pathname}),...t};const at=K.useMemo(()=>r.buildLocation(t),[r,t,Se]),dt=K.useMemo(()=>t.reloadDocument?!1:w??r.options.defaultPreload,[r.options.defaultPreload,w,t.reloadDocument]),mt=E??r.options.defaultPreloadDelay??0,ft=_i({select:ye=>{if(m?.exact){if(!pA(ye.location.pathname,at.pathname,r.basepath))return!1}else{const Oe=qm(ye.location.pathname,r.basepath).split("/");if(!qm(at.pathname,r.basepath).split("/").every((_t,$t)=>_t===Oe[$t]))return!1}return(m?.includeSearch??!0)&&!ic(ye.location.search,at.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ye.location.hash===at.hash:!0}}),yt=K.useCallback(()=>{r.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(BA)})},[t,r]),jt=K.useCallback(ye=>{ye?.isIntersecting&&yt()},[yt]);if(dA(l,jt,{rootMargin:"100px"},{disabled:!!H||dt!=="viewport"}),$d(()=>{o.current||!H&&dt==="render"&&(yt(),o.current=!0)},[H,yt,dt]),Q==="external")return{...Ee,ref:l,type:Q,href:y,...F&&{children:F},...$&&{target:$},...H&&{disabled:H},...G&&{style:G},...B&&{className:B},...Z&&{onClick:Z},...ie&&{onFocus:ie},...V&&{onMouseEnter:V},...ne&&{onMouseLeave:ne},...M&&{onTouchStart:M}};const vt=ye=>{if(!H&&!zA(ye)&&!ye.defaultPrevented&&(!$||$==="_self")&&ye.button===0){ye.preventDefault(),$w.flushSync(()=>{s(!0)});const Oe=r.subscribe("onResolved",()=>{Oe(),s(!1)});return r.navigate({...t,replace:C,resetScroll:A,hashScrollIntoView:k,startTransition:q,viewTransition:D,ignoreBlocker:se})}},gt=ye=>{H||dt&&yt()},Ot=gt,qt=ye=>{if(H)return;const Oe=ye.target||{};if(dt){if(Oe.preloadTimeout)return;Oe.preloadTimeout=setTimeout(()=>{Oe.preloadTimeout=null,yt()},mt)}},er=ye=>{if(H)return;const Oe=ye.target||{};Oe.preloadTimeout&&(clearTimeout(Oe.preloadTimeout),Oe.preloadTimeout=null)},Zt=ye=>Oe=>{var De;(De=Oe.persist)==null||De.call(Oe),ye.filter(Boolean).forEach(Ge=>{Oe.defaultPrevented||Ge(Oe)})},sr=ft?$l(u,{})??{}:{},mr=ft?{}:$l(d,{}),ae=[B,sr.className,mr.className].filter(Boolean).join(" "),ce={...G,...sr.style,...mr.style};return{...Ee,...sr,...mr,href:H?void 0:at.maskedLocation?r.history.createHref(at.maskedLocation.href):r.history.createHref(at.href),ref:l,onClick:Zt([Z,vt]),onFocus:Zt([ie,gt]),onMouseEnter:Zt([V,qt]),onMouseLeave:Zt([ne,er]),onTouchStart:Zt([M,Ot]),disabled:!!H,target:$,...Object.keys(ce).length&&{style:ce},...ae&&{className:ae},...H&&{role:"link","aria-disabled":!0},...ft&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}function $I(t){return K.forwardRef(function(r,n){return g.jsx(WA,{...r,_asChild:t,ref:n})})}const WA=K.forwardRef((t,e)=>{const{_asChild:r,...n}=t,{type:s,ref:o,...l}=$A(n,e),u=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return typeof r>"u"&&delete l.disabled,K.createElement(r||"a",{...l,ref:o},u)});function zA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UA(){const t=Mi(),e=K.useRef({router:t,mounted:!1}),r=_i({select:({isLoading:w})=>w}),[n,s]=K.useState(!1),o=_i({select:w=>w.matches.some(E=>E.status==="pending"),structuralSharing:!0}),l=s_(r),u=r||n||o,d=s_(u),m=r||o,y=s_(m);return t.isServer||(t.startReactTransition=w=>{s(!0),K.startTransition(()=>{w(),s(!1)})}),K.useEffect(()=>{const w=t.history.subscribe(t.load),E=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Wl(t.latestLocation.href)!==Wl(E.href)&&t.commitLocation({...E,replace:!0}),()=>{w()}},[t,t.history]),$d(()=>{var w;if(typeof window<"u"&&((w=window.__TSR__)!=null&&w.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(k){console.error(k)}})()},[t]),$d(()=>{if(l&&!r){const w=t.state.location,E=t.state.resolvedLocation,k=E.pathname!==w.pathname,C=E.href!==w.href;t.emit({type:"onLoad",fromLocation:E,toLocation:w,pathChanged:k,hrefChanged:C})}},[l,t,r]),$d(()=>{if(y&&!m){const w=t.state.location,E=t.state.resolvedLocation,k=E.pathname!==w.pathname,C=E.href!==w.href;t.emit({type:"onBeforeRouteMount",fromLocation:E,toLocation:w,pathChanged:k,hrefChanged:C})}},[m,y,t]),$d(()=>{if(d&&!u){const w=t.state.location,E=t.state.resolvedLocation,k=E.pathname!==w.pathname,C=E.href!==w.href;if(t.emit({type:"onResolved",fromLocation:E,toLocation:w,pathChanged:k,hrefChanged:C}),t.__store.setState(q=>({...q,status:"idle",resolvedLocation:q.location})),typeof document<"u"&&document.querySelector){const q=t.state.location.state.__hashScrollIntoViewOptions??!0;if(q&&t.state.location.hash!==""){const A=document.getElementById(t.state.location.hash);A&&A.scrollIntoView(q)}}}},[u,d,t]),null}function VA(){const t=Mi(),e=t.options.defaultPendingComponent?g.jsx(t.options.defaultPendingComponent,{}):null,r=t.isServer||typeof document<"u"&&window.__TSR__?Qp:K.Suspense,n=g.jsxs(r,{fallback:e,children:[g.jsx(UA,{}),g.jsx(HA,{})]});return t.options.InnerWrap?g.jsx(t.options.InnerWrap,{children:n}):n}function HA(){const t=_i({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),e=_i({select:r=>r.loadedAt});return g.jsx(xg.Provider,{value:t,children:g.jsx(Mw,{getResetKey:()=>e,errorComponent:wg,onCatch:r=>{r.message||r.toString()},children:t?g.jsx(MI,{matchId:t}):null})})}function WI(){const t=Mi();return _i({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),K.useCallback(e=>{const{pending:r,caseSensitive:n,fuzzy:s,includeSearch:o,...l}=e;return t.matchRoute(l,{pending:r,caseSensitive:n,fuzzy:s,includeSearch:o})},[t])}function QA({router:t,children:e,...r}){t.update({...t.options,...r,context:{...t.options.context,...r.context}});const n=jI(),s=g.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?g.jsx(t.options.Wrap,{children:s}):s}function KA({router:t,...e}){return g.jsx(QA,{router:t,...e,children:g.jsx(VA,{})})}const GA=typeof window<"u"?K.useLayoutEffect:K.useEffect,d_="window",zN="___";let f_=new WeakSet;const JA=typeof window<"u"&&window.sessionStorage,Bs=JA?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:r=>{Bs.state=$l(r,Bs.state),window.sessionStorage.setItem(t,JSON.stringify(Bs.state))}}})():void 0,ZA=t=>t.state.key||t.href;function YA(t){const e=Mi();GA(()=>{const r=t?.getKey||ZA,{history:n}=window;n.scrollRestoration="manual";const s=u=>{if(f_.has(u.target))return;f_.add(u.target);let d="";if(u.target===document||u.target===window)d=d_;else{const m=u.target.getAttribute("data-scroll-restoration-id");m?d=`[data-scroll-restoration-id="${m}"]`:d=eP(u.target)}Bs.state.next[d]||Bs.set(m=>({...m,next:{...m.next,[d]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",s,!0);const o=e.subscribe("onBeforeLoad",u=>{if(u.hrefChanged){const d=r(u.fromLocation);for(const m in Bs.state.next){const y=Bs.state.next[m];if(m===d_)y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(m){const w=document.querySelector(m);y.scrollX=w?.scrollLeft||0,y.scrollY=w?.scrollTop||0}Bs.set(w=>{const E={...w.next};return delete E[m],{...w,next:E,cached:{...w.cached,[[d,m].join(zN)]:y}}})}}}),l=e.subscribe("onBeforeRouteMount",u=>{if(u.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const d=r(u.toLocation);let m=!1;for(const y in Bs.state.cached){const w=Bs.state.cached[y],[E,k]=y.split(zN);if(E===d){if(k===d_)m=!0,window.scrollTo(w.scrollX,w.scrollY);else if(k){const C=document.querySelector(k);C&&(C.scrollLeft=w.scrollX,C.scrollTop=w.scrollY)}}}m||window.scrollTo(0,0),Bs.set(y=>({...y,next:{}})),f_=new WeakSet}});return()=>{document.removeEventListener("scroll",s),o(),l()}},[t?.getKey,e])}function XA(t){return YA(t),null}function eP(t){const e=[];let r;for(;r=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(r.children,t)+1})`),t=r;return`${e.join(" > ")}`.toLowerCase()}function rn(t){return el({...t,select:e=>t.select?t.select(e.context):e.context})}let tP={data:""},rP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||tP,nP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,iP=/\/\*[^]*?\*\/|  +/g,UN=/\n+/g,Da=(t,e)=>{let r="",n="",s="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?r=o+" "+l+";":n+=o[1]=="f"?Da(l,o):o+"{"+Da(l,o[1]=="k"?"":e)+"}":typeof l=="object"?n+=Da(l,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Da.p?Da.p(o,l):o+":"+l+";")}return r+(e&&s?e+"{"+s+"}":s)+n},$o={},zI=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+zI(t[r]);return e}return t},sP=(t,e,r,n,s)=>{let o=zI(t),l=$o[o]||($o[o]=(d=>{let m=0,y=11;for(;m<d.length;)y=101*y+d.charCodeAt(m++)>>>0;return"go"+y})(o));if(!$o[l]){let d=o!==t?t:(m=>{let y,w,E=[{}];for(;y=nP.exec(m.replace(iP,""));)y[4]?E.shift():y[3]?(w=y[3].replace(UN," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][y[1]]=y[2].replace(UN," ").trim();return E[0]})(t);$o[l]=Da(s?{["@keyframes "+l]:d}:d,r?"":"."+l)}let u=r&&$o.g?$o.g:null;return r&&($o.g=$o[l]),((d,m,y,w)=>{w?m.data=m.data.replace(w,d):m.data.indexOf(d)===-1&&(m.data=y?d+m.data:m.data+d)})($o[l],e,n,u),l},oP=(t,e,r)=>t.reduce((n,s,o)=>{let l=e[o];if(l&&l.call){let u=l(r),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":Da(u,""):u===!1?"":u}return n+s+(l??"")},"");function Sg(t){let e=this||{},r=t.call?t(e.p):t;return sP(r.unshift?r.raw?oP(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,rP(e.target),e.g,e.o,e.k)}let UI,$b,Wb;Sg.bind({g:1});let ea=Sg.bind({k:1});function aP(t,e,r,n){Da.p=e,UI=t,$b=r,Wb=n}function hl(t,e){let r=this||{};return function(){let n=arguments;function s(o,l){let u=Object.assign({},o),d=u.className||s.className;r.p=Object.assign({theme:$b&&$b()},u),r.o=/ *go\d+/.test(d),u.className=Sg.apply(r,n)+(d?" "+d:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),Wb&&m[0]&&Wb(u),UI(m,u)}return s}}var lP=t=>typeof t=="function",Om=(t,e)=>lP(t)?t(e):t,uP=(()=>{let t=0;return()=>(++t).toString()})(),VI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),cP=20,Kp=new Map,dP=1e3,VN=t=>{if(Kp.has(t))return;let e=setTimeout(()=>{Kp.delete(t),au({type:4,toastId:t})},dP);Kp.set(t,e)},fP=t=>{let e=Kp.get(t);e&&clearTimeout(e)},zb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,cP)};case 1:return e.toast.id&&fP(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return t.toasts.find(o=>o.id===r.id)?zb(t,{type:1,toast:r}):zb(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?VN(n):t.toasts.forEach(o=>{VN(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Gp=[],Jp={toasts:[],pausedAt:void 0},au=t=>{Jp=zb(Jp,t),Gp.forEach(e=>{e(Jp)})},hP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pP=(t={})=>{let[e,r]=K.useState(Jp);K.useEffect(()=>(Gp.push(r),()=>{let s=Gp.indexOf(r);s>-1&&Gp.splice(s,1)}),[e]);let n=e.toasts.map(s=>{var o,l;return{...t,...t[s.type],...s,duration:s.duration||((o=t[s.type])==null?void 0:o.duration)||t?.duration||hP[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:n}},mP=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||uP()}),Hf=t=>(e,r)=>{let n=mP(e,t,r);return au({type:2,toast:n}),n.id},pr=(t,e)=>Hf("blank")(t,e);pr.error=Hf("error");pr.success=Hf("success");pr.loading=Hf("loading");pr.custom=Hf("custom");pr.dismiss=t=>{au({type:3,toastId:t})};pr.remove=t=>au({type:4,toastId:t});pr.promise=(t,e,r)=>{let n=pr.loading(e.loading,{...r,...r?.loading});return t.then(s=>(pr.success(Om(e.success,s),{id:n,...r,...r?.success}),s)).catch(s=>{pr.error(Om(e.error,s),{id:n,...r,...r?.error})}),t};var gP=(t,e)=>{au({type:1,toast:{id:t,height:e}})},yP=()=>{au({type:5,time:Date.now()})},vP=t=>{let{toasts:e,pausedAt:r}=pP(t);K.useEffect(()=>{if(r)return;let o=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(d<0){u.visible&&pr.dismiss(u.id);return}return setTimeout(()=>pr.dismiss(u.id),d)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,r]);let n=K.useCallback(()=>{r&&au({type:6,time:Date.now()})},[r]),s=K.useCallback((o,l)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:m}=l||{},y=e.filter(k=>(k.position||m)===(o.position||m)&&k.height),w=y.findIndex(k=>k.id===o.id),E=y.filter((k,C)=>C<w&&k.visible).length;return y.filter(k=>k.visible).slice(...u?[E+1]:[0,E]).reduce((k,C)=>k+(C.height||0)+d,0)},[e]);return{toasts:e,handlers:{updateHeight:gP,startPause:yP,endPause:n,calculateOffset:s}}},_P=ea`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bP=ea`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wP=ea`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,xP=hl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_P} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SP=ea`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NP=hl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${SP} 1s linear infinite;
`,EP=ea`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kP=ea`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IP=hl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CP=hl("div")`
  position: absolute;
`,qP=hl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TP=ea`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OP=hl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,RP=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?K.createElement(OP,null,e):e:r==="blank"?null:K.createElement(qP,null,K.createElement(NP,{...n}),r!=="loading"&&K.createElement(CP,null,r==="error"?K.createElement(xP,{...n}):K.createElement(IP,{...n})))},AP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,jP="0%{opacity:0;} 100%{opacity:1;}",FP="0%{opacity:1;} 100%{opacity:0;}",LP=hl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DP=hl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MP=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=VI()?[jP,FP]:[AP(r),PP(r)];return{animation:e?`${ea(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ea(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BP=K.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?MP(t.position||e||"top-center",t.visible):{opacity:0},o=K.createElement(RP,{toast:t}),l=K.createElement(DP,{...t.ariaProps},Om(t.message,t));return K.createElement(LP,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:o,message:l}):K.createElement(K.Fragment,null,o,l))});aP(K.createElement);var $P=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let o=K.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;n(t,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return K.createElement("div",{ref:o,className:e,style:r},s)},WP=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:VI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},zP=Sg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ip=16,UP=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=vP(r);return K.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ip,left:Ip,right:Ip,bottom:Ip,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(m=>{let y=m.position||e,w=d.calculateOffset(m,{reverseOrder:t,gutter:n,defaultPosition:e}),E=WP(y,w);return K.createElement($P,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?zP:"",style:E},m.type==="custom"?Om(m.message,m):s?s(m):K.createElement(BP,{toast:m,position:y}))}))},VP=pr;class lu extends Error{}class HP extends lu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class QP extends lu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class KP extends lu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Gu extends lu{}class HI extends lu{constructor(e){super(`Invalid unit ${e}`)}}class ei extends lu{}class Ta extends lu{constructor(){super("Zone is an abstract class")}}const Nt="numeric",Ks="short",is="long",Rm={year:Nt,month:Nt,day:Nt},QI={year:Nt,month:Ks,day:Nt},GP={year:Nt,month:Ks,day:Nt,weekday:Ks},KI={year:Nt,month:is,day:Nt},GI={year:Nt,month:is,day:Nt,weekday:is},JI={hour:Nt,minute:Nt},ZI={hour:Nt,minute:Nt,second:Nt},YI={hour:Nt,minute:Nt,second:Nt,timeZoneName:Ks},XI={hour:Nt,minute:Nt,second:Nt,timeZoneName:is},eC={hour:Nt,minute:Nt,hourCycle:"h23"},tC={hour:Nt,minute:Nt,second:Nt,hourCycle:"h23"},rC={hour:Nt,minute:Nt,second:Nt,hourCycle:"h23",timeZoneName:Ks},nC={hour:Nt,minute:Nt,second:Nt,hourCycle:"h23",timeZoneName:is},iC={year:Nt,month:Nt,day:Nt,hour:Nt,minute:Nt},sC={year:Nt,month:Nt,day:Nt,hour:Nt,minute:Nt,second:Nt},oC={year:Nt,month:Ks,day:Nt,hour:Nt,minute:Nt},aC={year:Nt,month:Ks,day:Nt,hour:Nt,minute:Nt,second:Nt},JP={year:Nt,month:Ks,day:Nt,weekday:Ks,hour:Nt,minute:Nt},lC={year:Nt,month:is,day:Nt,hour:Nt,minute:Nt,timeZoneName:Ks},uC={year:Nt,month:is,day:Nt,hour:Nt,minute:Nt,second:Nt,timeZoneName:Ks},cC={year:Nt,month:is,day:Nt,weekday:is,hour:Nt,minute:Nt,timeZoneName:is},dC={year:Nt,month:is,day:Nt,weekday:is,hour:Nt,minute:Nt,second:Nt,timeZoneName:is};class Qf{get type(){throw new Ta}get name(){throw new Ta}get ianaName(){return this.name}get isUniversal(){throw new Ta}offsetName(e,r){throw new Ta}formatOffset(e,r){throw new Ta}offset(e){throw new Ta}equals(e){throw new Ta}get isValid(){throw new Ta}}let h_=null;class Ng extends Qf{static get instance(){return h_===null&&(h_=new Ng),h_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return bC(e,r,n)}formatOffset(e,r){return tf(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Zp={};function ZP(t){return Zp[t]||(Zp[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Zp[t]}const YP={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function XP(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,o,l,u,d,m,y]=n;return[l,s,o,u,d,m,y]}function ej(t,e){const r=t.formatToParts(e),n=[];for(let s=0;s<r.length;s++){const{type:o,value:l}=r[s],u=YP[o];o==="era"?n[u]=l:Xt(u)||(n[u]=parseInt(l,10))}return n}let Cp={};class ta extends Qf{static create(e){return Cp[e]||(Cp[e]=new ta(e)),Cp[e]}static resetCache(){Cp={},Zp={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ta.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return bC(e,r,n,this.name)}formatOffset(e,r){return tf(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=ZP(this.name);let[s,o,l,u,d,m,y]=n.formatToParts?ej(n,r):XP(n,r);u==="BC"&&(s=-Math.abs(s)+1);const E=kg({year:s,month:o,day:l,hour:d===24?0:d,minute:m,second:y,millisecond:0});let k=+r;const C=k%1e3;return k-=C>=0?C:1e3+C,(E-k)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let HN={};function tj(t,e={}){const r=JSON.stringify([t,e]);let n=HN[r];return n||(n=new Intl.ListFormat(t,e),HN[r]=n),n}let Ub={};function Vb(t,e={}){const r=JSON.stringify([t,e]);let n=Ub[r];return n||(n=new Intl.DateTimeFormat(t,e),Ub[r]=n),n}let Hb={};function rj(t,e={}){const r=JSON.stringify([t,e]);let n=Hb[r];return n||(n=new Intl.NumberFormat(t,e),Hb[r]=n),n}let Qb={};function nj(t,e={}){const{base:r,...n}=e,s=JSON.stringify([t,n]);let o=Qb[s];return o||(o=new Intl.RelativeTimeFormat(t,e),Qb[s]=o),o}let Wd=null;function ij(){return Wd||(Wd=new Intl.DateTimeFormat().resolvedOptions().locale,Wd)}let QN={};function sj(t){let e=QN[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,QN[t]=e}return e}function oj(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,s;try{n=Vb(t).resolvedOptions(),s=t}catch{const d=t.substring(0,r);n=Vb(d).resolvedOptions(),s=d}const{numberingSystem:o,calendar:l}=n;return[s,o,l]}}function aj(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function lj(t){const e=[];for(let r=1;r<=12;r++){const n=Yt.utc(2009,r,1);e.push(t(n))}return e}function uj(t){const e=[];for(let r=1;r<=7;r++){const n=Yt.utc(2016,11,13+r);e.push(t(n))}return e}function qp(t,e,r,n){const s=t.listingMode();return s==="error"?null:s==="en"?r(e):n(e)}function cj(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class dj{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:o,...l}=n;if(!r||Object.keys(l).length>0){const u={useGrouping:!1,...n};n.padTo>0&&(u.minimumIntegerDigits=n.padTo),this.inf=rj(e,u)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):Hw(e,3);return En(r,this.padTo)}}}class fj{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),u=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&ta.create(u).valid?(s=u,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||s,this.dtf=Vb(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class hj{constructor(e,r,n){this.opts={style:"long",...n},!r&&vC()&&(this.rtf=nj(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Fj(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const pj={firstDay:1,minimalDays:4,weekend:[6,7]};class Cr{static fromOpts(e){return Cr.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,s,o=!1){const l=e||pn.defaultLocale,u=l||(o?"en-US":ij()),d=r||pn.defaultNumberingSystem,m=n||pn.defaultOutputCalendar,y=Kb(s)||pn.defaultWeekSettings;return new Cr(u,d,m,y,l)}static resetCache(){Wd=null,Ub={},Hb={},Qb={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:s}={}){return Cr.create(e,r,n,s)}constructor(e,r,n,s,o){const[l,u,d]=oj(e);this.locale=l,this.numberingSystem=r||u||null,this.outputCalendar=n||d||null,this.weekSettings=s,this.intl=aj(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=cj(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Cr.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Kb(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return qp(this,e,SC,()=>{const n=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=lj(o=>this.extract(o,n,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return qp(this,e,kC,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=uj(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return qp(this,void 0,()=>IC,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Yt.utc(2016,11,13,9),Yt.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return qp(this,e,CC,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Yt.utc(-40,1,1),Yt.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const s=this.dtFormatter(e,r),o=s.formatToParts(),l=o.find(u=>u.type.toLowerCase()===n);return l?l.value:null}numberFormatter(e={}){return new dj(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new fj(e,this.intl,r)}relFormatter(e={}){return new hj(this.intl,this.isEnglish(),e)}listFormatter(e={}){return tj(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:_C()?sj(this.locale):pj}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let p_=null;class yi extends Qf{static get utcInstance(){return p_===null&&(p_=new yi(0)),p_}static instance(e){return e===0?yi.utcInstance:new yi(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new yi(Ig(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${tf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${tf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return tf(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class mj extends Qf{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ma(t,e){if(Xt(t)||t===null)return e;if(t instanceof Qf)return t;if(wj(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?Ng.instance:r==="utc"||r==="gmt"?yi.utcInstance:yi.parseSpecifier(r)||ta.create(t)}else return Qa(t)?yi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new mj(t)}const Ww={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},KN={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},gj=Ww.hanidec.replace(/[\[|\]]/g,"").split("");function yj(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(Ww.hanidec)!==-1)e+=gj.indexOf(t[r]);else for(const s in KN){const[o,l]=KN[s];n>=o&&n<=l&&(e+=n-o)}}return parseInt(e,10)}else return e}let Vu={};function vj(){Vu={}}function Ls({numberingSystem:t},e=""){const r=t||"latn";return Vu[r]||(Vu[r]={}),Vu[r][e]||(Vu[r][e]=new RegExp(`${Ww[r]}${e}`)),Vu[r][e]}let GN=()=>Date.now(),JN="system",ZN=null,YN=null,XN=null,eE=60,tE,rE=null;class pn{static get now(){return GN}static set now(e){GN=e}static set defaultZone(e){JN=e}static get defaultZone(){return Ma(JN,Ng.instance)}static get defaultLocale(){return ZN}static set defaultLocale(e){ZN=e}static get defaultNumberingSystem(){return YN}static set defaultNumberingSystem(e){YN=e}static get defaultOutputCalendar(){return XN}static set defaultOutputCalendar(e){XN=e}static get defaultWeekSettings(){return rE}static set defaultWeekSettings(e){rE=Kb(e)}static get twoDigitCutoffYear(){return eE}static set twoDigitCutoffYear(e){eE=e%100}static get throwOnInvalid(){return tE}static set throwOnInvalid(e){tE=e}static resetCaches(){Cr.resetCache(),ta.resetCache(),Yt.resetCache(),vj()}}class Vs{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const fC=[0,31,59,90,120,151,181,212,243,273,304,334],hC=[0,31,60,91,121,152,182,213,244,274,305,335];function Es(t,e){return new Vs("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function zw(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function pC(t,e,r){return r+(Kf(t)?hC:fC)[e-1]}function mC(t,e){const r=Kf(t)?hC:fC,n=r.findIndex(o=>o<e),s=e-r[n];return{month:n+1,day:s}}function Uw(t,e){return(t-e+7)%7+1}function Am(t,e=4,r=1){const{year:n,month:s,day:o}=t,l=pC(n,s,o),u=Uw(zw(n,s,o),r);let d=Math.floor((l-u+14-e)/7),m;return d<1?(m=n-1,d=gf(m,e,r)):d>gf(n,e,r)?(m=n+1,d=1):m=n,{weekYear:m,weekNumber:d,weekday:u,...Cg(t)}}function nE(t,e=4,r=1){const{weekYear:n,weekNumber:s,weekday:o}=t,l=Uw(zw(n,1,e),r),u=sc(n);let d=s*7+o-l-7+e,m;d<1?(m=n-1,d+=sc(m)):d>u?(m=n+1,d-=sc(n)):m=n;const{month:y,day:w}=mC(m,d);return{year:m,month:y,day:w,...Cg(t)}}function m_(t){const{year:e,month:r,day:n}=t,s=pC(e,r,n);return{year:e,ordinal:s,...Cg(t)}}function iE(t){const{year:e,ordinal:r}=t,{month:n,day:s}=mC(e,r);return{year:e,month:n,day:s,...Cg(t)}}function sE(t,e){if(!Xt(t.localWeekday)||!Xt(t.localWeekNumber)||!Xt(t.localWeekYear)){if(!Xt(t.weekday)||!Xt(t.weekNumber)||!Xt(t.weekYear))throw new Gu("Cannot mix locale-based week fields with ISO-based week fields");return Xt(t.localWeekday)||(t.weekday=t.localWeekday),Xt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Xt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function _j(t,e=4,r=1){const n=Eg(t.weekYear),s=ks(t.weekNumber,1,gf(t.weekYear,e,r)),o=ks(t.weekday,1,7);return n?s?o?!1:Es("weekday",t.weekday):Es("week",t.weekNumber):Es("weekYear",t.weekYear)}function bj(t){const e=Eg(t.year),r=ks(t.ordinal,1,sc(t.year));return e?r?!1:Es("ordinal",t.ordinal):Es("year",t.year)}function gC(t){const e=Eg(t.year),r=ks(t.month,1,12),n=ks(t.day,1,Pm(t.year,t.month));return e?r?n?!1:Es("day",t.day):Es("month",t.month):Es("year",t.year)}function yC(t){const{hour:e,minute:r,second:n,millisecond:s}=t,o=ks(e,0,23)||e===24&&r===0&&n===0&&s===0,l=ks(r,0,59),u=ks(n,0,59),d=ks(s,0,999);return o?l?u?d?!1:Es("millisecond",s):Es("second",n):Es("minute",r):Es("hour",e)}function Xt(t){return typeof t>"u"}function Qa(t){return typeof t=="number"}function Eg(t){return typeof t=="number"&&t%1===0}function wj(t){return typeof t=="string"}function xj(t){return Object.prototype.toString.call(t)==="[object Date]"}function vC(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function _C(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Sj(t){return Array.isArray(t)?t:[t]}function oE(t,e,r){if(t.length!==0)return t.reduce((n,s)=>{const o=[e(s),s];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function Nj(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function bc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kb(t){if(t==null)return null;if(typeof t!="object")throw new ei("Week settings must be an object");if(!ks(t.firstDay,1,7)||!ks(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!ks(e,1,7)))throw new ei("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function ks(t,e,r){return Eg(t)&&t>=e&&t<=r}function Ej(t,e){return t-e*Math.floor(t/e)}function En(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Fa(t){if(!(Xt(t)||t===null||t===""))return parseInt(t,10)}function Al(t){if(!(Xt(t)||t===null||t===""))return parseFloat(t)}function Vw(t){if(!(Xt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Hw(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Kf(t){return t%4===0&&(t%100!==0||t%400===0)}function sc(t){return Kf(t)?366:365}function Pm(t,e){const r=Ej(e-1,12)+1,n=t+(e-r)/12;return r===2?Kf(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function kg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function aE(t,e,r){return-Uw(zw(t,1,e),r)+e-1}function gf(t,e=4,r=1){const n=aE(t,e,r),s=aE(t+1,e,r);return(sc(t)-n+s)/7}function Gb(t){return t>99?t:t>pn.twoDigitCutoffYear?1900+t:2e3+t}function bC(t,e,r,n=null){const s=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const l={timeZoneName:e,...o},u=new Intl.DateTimeFormat(r,l).formatToParts(s).find(d=>d.type.toLowerCase()==="timezonename");return u?u.value:null}function Ig(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function wC(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new ei(`Invalid unit value ${t}`);return e}function jm(t,e){const r={};for(const n in t)if(bc(t,n)){const s=t[n];if(s==null)continue;r[e(n)]=wC(s)}return r}function tf(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${En(r,2)}:${En(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${En(r,2)}${En(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Cg(t){return Nj(t,["hour","minute","second","millisecond"])}const kj=["January","February","March","April","May","June","July","August","September","October","November","December"],xC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ij=["J","F","M","A","M","J","J","A","S","O","N","D"];function SC(t){switch(t){case"narrow":return[...Ij];case"short":return[...xC];case"long":return[...kj];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const NC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],EC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Cj=["M","T","W","T","F","S","S"];function kC(t){switch(t){case"narrow":return[...Cj];case"short":return[...EC];case"long":return[...NC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const IC=["AM","PM"],qj=["Before Christ","Anno Domini"],Tj=["BC","AD"],Oj=["B","A"];function CC(t){switch(t){case"narrow":return[...Oj];case"short":return[...Tj];case"long":return[...qj];default:return null}}function Rj(t){return IC[t.hour<12?0:1]}function Aj(t,e){return kC(e)[t.weekday-1]}function Pj(t,e){return SC(e)[t.month-1]}function jj(t,e){return CC(e)[t.year<0?0:1]}function Fj(t,e,r="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&o){const w=t==="days";switch(e){case 1:return w?"tomorrow":`next ${s[t][0]}`;case-1:return w?"yesterday":`last ${s[t][0]}`;case 0:return w?"today":`this ${s[t][0]}`}}const l=Object.is(e,-0)||e<0,u=Math.abs(e),d=u===1,m=s[t],y=n?d?m[1]:m[2]||m[1]:d?s[t][0]:t;return l?`${u} ${y} ago`:`in ${u} ${y}`}function lE(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const Lj={D:Rm,DD:QI,DDD:KI,DDDD:GI,t:JI,tt:ZI,ttt:YI,tttt:XI,T:eC,TT:tC,TTT:rC,TTTT:nC,f:iC,ff:oC,fff:lC,ffff:cC,F:sC,FF:aC,FFF:uC,FFFF:dC};class ri{static create(e,r={}){return new ri(e,r)}static parseFormat(e){let r=null,n="",s=!1;const o=[];for(let l=0;l<e.length;l++){const u=e.charAt(l);u==="'"?(n.length>0&&o.push({literal:s||/^\s+$/.test(n),val:n}),r=null,n="",s=!s):s||u===r?n+=u:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=u,r=u)}return n.length>0&&o.push({literal:s||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(e){return Lj[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return En(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(k,C)=>this.loc.extract(e,k,C),l=k=>e.isOffsetFixed&&e.offset===0&&k.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,k.format):"",u=()=>n?Rj(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(k,C)=>n?Pj(e,k):o(C?{month:k}:{month:k,day:"numeric"},"month"),m=(k,C)=>n?Aj(e,k):o(C?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),y=k=>{const C=ri.macroTokenToFormatOpts(k);return C?this.formatWithSystemDefault(e,C):k},w=k=>n?jj(e,k):o({era:k},"era"),E=k=>{switch(k){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return u();case"d":return s?o({day:"numeric"},"day"):this.num(e.day);case"dd":return s?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return s?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return s?o({month:"numeric"},"month"):this.num(e.month);case"MM":return s?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return s?o({year:"numeric"},"year"):this.num(e.year);case"yy":return s?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return w("short");case"GG":return w("long");case"GGGGG":return w("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return y(k)}};return lE(ri.parseFormat(r),E)}formatDurationFromString(e,r){const n=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=d=>m=>{const y=n(m);return y?this.num(d.get(y),m.length):m},o=ri.parseFormat(r),l=o.reduce((d,{literal:m,val:y})=>m?d:d.concat(y),[]),u=e.shiftTo(...l.map(n).filter(d=>d));return lE(o,s(u))}}const qC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Oc(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Rc(...t){return e=>t.reduce(([r,n,s],o)=>{const[l,u,d]=o(e,s);return[{...r,...l},u||n,d]},[{},null,1]).slice(0,2)}function Ac(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const s=r.exec(t);if(s)return n(s)}return[null,null]}function TC(...t){return(e,r)=>{const n={};let s;for(s=0;s<t.length;s++)n[t[s]]=Fa(e[r+s]);return[n,null,r+s]}}const OC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Dj=`(?:${OC.source}?(?:\\[(${qC.source})\\])?)?`,Qw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,RC=RegExp(`${Qw.source}${Dj}`),Kw=RegExp(`(?:T${RC.source})?`),Mj=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Bj=/(\d{4})-?W(\d\d)(?:-?(\d))?/,$j=/(\d{4})-?(\d{3})/,Wj=TC("weekYear","weekNumber","weekDay"),zj=TC("year","ordinal"),Uj=/(\d{4})-(\d\d)-(\d\d)/,AC=RegExp(`${Qw.source} ?(?:${OC.source}|(${qC.source}))?`),Vj=RegExp(`(?: ${AC.source})?`);function oc(t,e,r){const n=t[e];return Xt(n)?r:Fa(n)}function Hj(t,e){return[{year:oc(t,e),month:oc(t,e+1,1),day:oc(t,e+2,1)},null,e+3]}function Pc(t,e){return[{hours:oc(t,e,0),minutes:oc(t,e+1,0),seconds:oc(t,e+2,0),milliseconds:Vw(t[e+3])},null,e+4]}function Gf(t,e){const r=!t[e]&&!t[e+1],n=Ig(t[e+1],t[e+2]),s=r?null:yi.instance(n);return[{},s,e+3]}function Jf(t,e){const r=t[e]?ta.create(t[e]):null;return[{},r,e+1]}const Qj=RegExp(`^T?${Qw.source}$`),Kj=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Gj(t){const[e,r,n,s,o,l,u,d,m]=t,y=e[0]==="-",w=d&&d[0]==="-",E=(k,C=!1)=>k!==void 0&&(C||k&&y)?-k:k;return[{years:E(Al(r)),months:E(Al(n)),weeks:E(Al(s)),days:E(Al(o)),hours:E(Al(l)),minutes:E(Al(u)),seconds:E(Al(d),d==="-0"),milliseconds:E(Vw(m),w)}]}const Jj={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Gw(t,e,r,n,s,o,l){const u={year:e.length===2?Gb(Fa(e)):Fa(e),month:xC.indexOf(r)+1,day:Fa(n),hour:Fa(s),minute:Fa(o)};return l&&(u.second=Fa(l)),t&&(u.weekday=t.length>3?NC.indexOf(t)+1:EC.indexOf(t)+1),u}const Zj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Yj(t){const[,e,r,n,s,o,l,u,d,m,y,w]=t,E=Gw(e,s,n,r,o,l,u);let k;return d?k=Jj[d]:m?k=0:k=Ig(y,w),[E,new yi(k)]}function Xj(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const eF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,tF=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,rF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function uE(t){const[,e,r,n,s,o,l,u]=t;return[Gw(e,s,n,r,o,l,u),yi.utcInstance]}function nF(t){const[,e,r,n,s,o,l,u]=t;return[Gw(e,u,r,n,s,o,l),yi.utcInstance]}const iF=Oc(Mj,Kw),sF=Oc(Bj,Kw),oF=Oc($j,Kw),aF=Oc(RC),PC=Rc(Hj,Pc,Gf,Jf),lF=Rc(Wj,Pc,Gf,Jf),uF=Rc(zj,Pc,Gf,Jf),cF=Rc(Pc,Gf,Jf);function dF(t){return Ac(t,[iF,PC],[sF,lF],[oF,uF],[aF,cF])}function fF(t){return Ac(Xj(t),[Zj,Yj])}function hF(t){return Ac(t,[eF,uE],[tF,uE],[rF,nF])}function pF(t){return Ac(t,[Kj,Gj])}const mF=Rc(Pc);function gF(t){return Ac(t,[Qj,mF])}const yF=Oc(Uj,Vj),vF=Oc(AC),_F=Rc(Pc,Gf,Jf);function bF(t){return Ac(t,[yF,PC],[vF,_F])}const cE="Invalid Duration",jC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},wF={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...jC},_s=146097/400,ju=146097/4800,xF={years:{quarters:4,months:12,weeks:_s/7,days:_s,hours:_s*24,minutes:_s*24*60,seconds:_s*24*60*60,milliseconds:_s*24*60*60*1e3},quarters:{months:3,weeks:_s/28,days:_s/4,hours:_s*24/4,minutes:_s*24*60/4,seconds:_s*24*60*60/4,milliseconds:_s*24*60*60*1e3/4},months:{weeks:ju/7,days:ju,hours:ju*24,minutes:ju*24*60,seconds:ju*24*60*60,milliseconds:ju*24*60*60*1e3},...jC},zl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],SF=zl.slice(0).reverse();function Oa(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new _r(n)}function FC(t,e){let r=e.milliseconds??0;for(const n of SF.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function dE(t,e){const r=FC(t,e)<0?-1:1;zl.reduceRight((n,s)=>{if(Xt(e[s]))return n;if(n){const o=e[n]*r,l=t[s][n],u=Math.floor(o/l);e[s]+=u*r,e[n]-=u*l*r}return s},null),zl.reduce((n,s)=>{if(Xt(e[s]))return n;if(n){const o=e[n]%1;e[n]-=o,e[s]+=o*t[n][s]}return s},null)}function NF(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class _r{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?xF:wF;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Cr.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return _r.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new ei(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new _r({values:jm(e,_r.normalizeUnit),loc:Cr.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Qa(e))return _r.fromMillis(e);if(_r.isDuration(e))return e;if(typeof e=="object")return _r.fromObject(e);throw new ei(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=pF(e);return n?_r.fromObject(n,r):_r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=gF(e);return n?_r.fromObject(n,r):_r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new ei("need to specify a reason the Duration is invalid");const n=e instanceof Vs?e:new Vs(e,r);if(pn.throwOnInvalid)throw new KP(n);return new _r({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new HI(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?ri.create(this.loc,n).formatDurationFromString(this,e):cE}toHuman(e={}){if(!this.isValid)return cE;const r=zl.map(n=>{const s=this.values[n];return Xt(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Hw(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Yt.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?FC(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=_r.fromDurationLike(e),n={};for(const s of zl)(bc(r.values,s)||bc(this.values,s))&&(n[s]=r.get(s)+this.get(s));return Oa(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=_r.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=wC(e(this.values[n],n));return Oa(this,{values:r},!0)}get(e){return this[_r.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...jm(e,_r.normalizeUnit)};return Oa(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:n};return Oa(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return dE(this.matrix,e),Oa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=NF(this.normalize().shiftToAll().toObject());return Oa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>_r.normalizeUnit(l));const r={},n={},s=this.toObject();let o;for(const l of zl)if(e.indexOf(l)>=0){o=l;let u=0;for(const m in n)u+=this.matrix[m][l]*n[m],n[m]=0;Qa(s[l])&&(u+=s[l]);const d=Math.trunc(u);r[l]=d,n[l]=(u*1e3-d*1e3)/1e3}else Qa(s[l])&&(n[l]=s[l]);for(const l in n)n[l]!==0&&(r[o]+=l===o?n[l]:n[l]/this.matrix[o][l]);return dE(this.matrix,r),Oa(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Oa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of zl)if(!r(this.values[n],e.values[n]))return!1;return!0}}const Fu="Invalid Interval";function EF(t,e){return!t||!t.isValid?hn.invalid("missing or invalid start"):!e||!e.isValid?hn.invalid("missing or invalid end"):e<t?hn.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class hn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new ei("need to specify a reason the Interval is invalid");const n=e instanceof Vs?e:new Vs(e,r);if(pn.throwOnInvalid)throw new QP(n);return new hn({invalid:n})}static fromDateTimes(e,r){const n=Ad(e),s=Ad(r),o=EF(n,s);return o??new hn({start:n,end:s})}static after(e,r){const n=_r.fromDurationLike(r),s=Ad(e);return hn.fromDateTimes(s,s.plus(n))}static before(e,r){const n=_r.fromDurationLike(r),s=Ad(e);return hn.fromDateTimes(s.minus(n),s)}static fromISO(e,r){const[n,s]=(e||"").split("/",2);if(n&&s){let o,l;try{o=Yt.fromISO(n,r),l=o.isValid}catch{l=!1}let u,d;try{u=Yt.fromISO(s,r),d=u.isValid}catch{d=!1}if(l&&d)return hn.fromDateTimes(o,u);if(l){const m=_r.fromISO(s,r);if(m.isValid)return hn.after(o,m)}else if(d){const m=_r.fromISO(n,r);if(m.isValid)return hn.before(u,m)}}return hn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,r),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?hn.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Ad).filter(l=>this.contains(l)).sort((l,u)=>l.toMillis()-u.toMillis()),n=[];let{s}=this,o=0;for(;s<this.e;){const l=r[o]||this.e,u=+l>+this.e?this.e:l;n.push(hn.fromDateTimes(s,u)),s=u,o+=1}return n}splitBy(e){const r=_r.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,o;const l=[];for(;n<this.e;){const u=this.start.plus(r.mapUnits(d=>d*s));o=+u>+this.e?this.e:u,l.push(hn.fromDateTimes(n,o)),n=o,s+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:hn.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return hn.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((s,o)=>s.s-o.s).reduce(([s,o],l)=>o?o.overlaps(l)||o.abutsStart(l)?[s,o.union(l)]:[s.concat([o]),l]:[s,l],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const s=[],o=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...o),u=l.sort((d,m)=>d.time-m.time);for(const d of u)n+=d.type==="s"?1:-1,n===1?r=d.time:(r&&+r!=+d.time&&s.push(hn.fromDateTimes(r,d.time)),r=null);return hn.merge(s)}difference(...e){return hn.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Fu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Rm,r={}){return this.isValid?ri.create(this.s.loc.clone(r),e).formatInterval(this):Fu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Fu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Fu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Fu}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Fu}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):_r.invalid(this.invalidReason)}mapEndpoints(e){return hn.fromDateTimes(e(this.s),e(this.e))}}class Tp{static hasDST(e=pn.defaultZone){const r=Yt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return ta.isValidZone(e)}static normalizeZone(e){return Ma(e,pn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Cr.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Cr.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Cr.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||Cr.create(r,n,o)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||Cr.create(r,n,o)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||Cr.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||Cr.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Cr.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Cr.create(r,null,"gregory").eras(e)}static features(){return{relative:vC(),localeWeek:_C()}}}function fE(t,e){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(_r.fromMillis(n).as("days"))}function kF(t,e,r){const n=[["years",(d,m)=>m.year-d.year],["quarters",(d,m)=>m.quarter-d.quarter+(m.year-d.year)*4],["months",(d,m)=>m.month-d.month+(m.year-d.year)*12],["weeks",(d,m)=>{const y=fE(d,m);return(y-y%7)/7}],["days",fE]],s={},o=t;let l,u;for(const[d,m]of n)r.indexOf(d)>=0&&(l=d,s[d]=m(t,e),u=o.plus(s),u>e?(s[d]--,t=o.plus(s),t>e&&(u=t,s[d]--,t=o.plus(s))):t=u);return[t,s,u,l]}function IF(t,e,r,n){let[s,o,l,u]=kF(t,e,r);const d=e-s,m=r.filter(w=>["hours","minutes","seconds","milliseconds"].indexOf(w)>=0);m.length===0&&(l<e&&(l=s.plus({[u]:1})),l!==s&&(o[u]=(o[u]||0)+d/(l-s)));const y=_r.fromObject(o,n);return m.length>0?_r.fromMillis(d,n).shiftTo(...m).plus(y):y}const CF="missing Intl.DateTimeFormat.formatToParts support";function Er(t,e=r=>r){return{regex:t,deser:([r])=>e(yj(r))}}const qF="\xa0",LC=`[ ${qF}]`,DC=new RegExp(LC,"g");function TF(t){return t.replace(/\./g,"\\.?").replace(DC,LC)}function hE(t){return t.replace(/\./g,"").replace(DC," ").toLowerCase()}function Ds(t,e){return t===null?null:{regex:RegExp(t.map(TF).join("|")),deser:([r])=>t.findIndex(n=>hE(r)===hE(n))+e}}function pE(t,e){return{regex:t,deser:([,r,n])=>Ig(r,n),groups:e}}function Op(t){return{regex:t,deser:([e])=>e}}function OF(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function RF(t,e){const r=Ls(e),n=Ls(e,"{2}"),s=Ls(e,"{3}"),o=Ls(e,"{4}"),l=Ls(e,"{6}"),u=Ls(e,"{1,2}"),d=Ls(e,"{1,3}"),m=Ls(e,"{1,6}"),y=Ls(e,"{1,9}"),w=Ls(e,"{2,4}"),E=Ls(e,"{4,6}"),k=A=>({regex:RegExp(OF(A.val)),deser:([D])=>D,literal:!0}),q=(A=>{if(t.literal)return k(A);switch(A.val){case"G":return Ds(e.eras("short"),0);case"GG":return Ds(e.eras("long"),0);case"y":return Er(m);case"yy":return Er(w,Gb);case"yyyy":return Er(o);case"yyyyy":return Er(E);case"yyyyyy":return Er(l);case"M":return Er(u);case"MM":return Er(n);case"MMM":return Ds(e.months("short",!0),1);case"MMMM":return Ds(e.months("long",!0),1);case"L":return Er(u);case"LL":return Er(n);case"LLL":return Ds(e.months("short",!1),1);case"LLLL":return Ds(e.months("long",!1),1);case"d":return Er(u);case"dd":return Er(n);case"o":return Er(d);case"ooo":return Er(s);case"HH":return Er(n);case"H":return Er(u);case"hh":return Er(n);case"h":return Er(u);case"mm":return Er(n);case"m":return Er(u);case"q":return Er(u);case"qq":return Er(n);case"s":return Er(u);case"ss":return Er(n);case"S":return Er(d);case"SSS":return Er(s);case"u":return Op(y);case"uu":return Op(u);case"uuu":return Er(r);case"a":return Ds(e.meridiems(),0);case"kkkk":return Er(o);case"kk":return Er(w,Gb);case"W":return Er(u);case"WW":return Er(n);case"E":case"c":return Er(r);case"EEE":return Ds(e.weekdays("short",!1),1);case"EEEE":return Ds(e.weekdays("long",!1),1);case"ccc":return Ds(e.weekdays("short",!0),1);case"cccc":return Ds(e.weekdays("long",!0),1);case"Z":case"ZZ":return pE(new RegExp(`([+-]${u.source})(?::(${n.source}))?`),2);case"ZZZ":return pE(new RegExp(`([+-]${u.source})(${n.source})?`),2);case"z":return Op(/[a-z_+-/]{1,256}?/i);case" ":return Op(/[^\S\n\r]/);default:return k(A)}})(t)||{invalidReason:CF};return q.token=t,q}const AF={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function PF(t,e,r){const{type:n,value:s}=t;if(n==="literal"){const d=/^\s+$/.test(s);return{literal:!d,val:d?" ":s}}const o=e[n];let l=n;n==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=r.hour12?"hour12":"hour24");let u=AF[l];if(typeof u=="object"&&(u=u[o]),u)return{literal:!1,val:u}}function jF(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function FF(t,e,r){const n=t.match(e);if(n){const s={};let o=1;for(const l in r)if(bc(r,l)){const u=r[l],d=u.groups?u.groups+1:1;!u.literal&&u.token&&(s[u.token.val[0]]=u.deser(n.slice(o,o+d))),o+=d}return[n,s]}else return[n,{}]}function LF(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Xt(t.z)||(r=ta.create(t.z)),Xt(t.Z)||(r||(r=new yi(t.Z)),n=t.Z),Xt(t.q)||(t.M=(t.q-1)*3+1),Xt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Xt(t.u)||(t.S=Vw(t.u)),[Object.keys(t).reduce((o,l)=>{const u=e(l);return u&&(o[u]=t[l]),o},{}),r,n]}let g_=null;function DF(){return g_||(g_=Yt.fromMillis(0x16a2e5618e3)),g_}function MF(t,e){if(t.literal)return t;const r=ri.macroTokenToFormatOpts(t.val),n=WC(r,e);return n==null||n.includes(void 0)?t:n}function MC(t,e){return Array.prototype.concat(...t.map(r=>MF(r,e)))}class BC{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=MC(ri.parseFormat(r),e),this.units=this.tokens.map(n=>RF(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=jF(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[r,n]=FF(e,this.regex,this.handlers),[s,o,l]=n?LF(n):[null,null,void 0];if(bc(n,"a")&&bc(n,"H"))throw new Gu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:s,zone:o,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function $C(t,e,r){return new BC(t,r).explainFromTokens(e)}function BF(t,e,r){const{result:n,zone:s,specificOffset:o,invalidReason:l}=$C(t,e,r);return[n,s,o,l]}function WC(t,e){if(!t)return null;const n=ri.create(e,t).dtFormatter(DF()),s=n.formatToParts(),o=n.resolvedOptions();return s.map(l=>PF(l,t,o))}const y_="Invalid DateTime",mE=864e13;function zd(t){return new Vs("unsupported zone",`the zone "${t.name}" is not supported`)}function v_(t){return t.weekData===null&&(t.weekData=Am(t.c)),t.weekData}function __(t){return t.localWeekData===null&&(t.localWeekData=Am(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Pl(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Yt({...r,...e,old:r})}function zC(t,e,r){let n=t-e*60*1e3;const s=r.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const o=r.offset(n);return s===o?[n,s]:[t-Math.min(s,o)*60*1e3,Math.max(s,o)]}function Rp(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Yp(t,e,r){return zC(kg(t),e,r)}function gE(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:n,month:s,day:Math.min(t.c.day,Pm(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=_r.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),u=kg(o);let[d,m]=zC(u,r,t.zone);return l!==0&&(d+=l,m=t.zone.offset(d)),{ts:d,o:m}}function Lu(t,e,r,n,s,o){const{setZone:l,zone:u}=r;if(t&&Object.keys(t).length!==0||e){const d=e||u,m=Yt.fromObject(t,{...r,zone:d,specificOffset:o});return l?m:m.setZone(u)}else return Yt.invalid(new Vs("unparsable",`the input "${s}" can't be parsed as ${n}`))}function Ap(t,e,r=!0){return t.isValid?ri.create(Cr.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function b_(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=En(t.c.year,r?6:4),e?(n+="-",n+=En(t.c.month),n+="-",n+=En(t.c.day)):(n+=En(t.c.month),n+=En(t.c.day)),n}function yE(t,e,r,n,s,o){let l=En(t.c.hour);return e?(l+=":",l+=En(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(l+=":")):l+=En(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(l+=En(t.c.second),(t.c.millisecond!==0||!n)&&(l+=".",l+=En(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!o?l+="Z":t.o<0?(l+="-",l+=En(Math.trunc(-t.o/60)),l+=":",l+=En(Math.trunc(-t.o%60))):(l+="+",l+=En(Math.trunc(t.o/60)),l+=":",l+=En(Math.trunc(t.o%60)))),o&&(l+="["+t.zone.ianaName+"]"),l}const UC={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},$F={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},WF={ordinal:1,hour:0,minute:0,second:0,millisecond:0},VC=["year","month","day","hour","minute","second","millisecond"],zF=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],UF=["year","ordinal","hour","minute","second","millisecond"];function VF(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new HI(t);return e}function vE(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return VF(t)}}function HF(t){return em[t]||(Xp===void 0&&(Xp=pn.now()),em[t]=t.offset(Xp)),em[t]}function _E(t,e){const r=Ma(e.zone,pn.defaultZone);if(!r.isValid)return Yt.invalid(zd(r));const n=Cr.fromObject(e);let s,o;if(Xt(t.year))s=pn.now();else{for(const d of VC)Xt(t[d])&&(t[d]=UC[d]);const l=gC(t)||yC(t);if(l)return Yt.invalid(l);const u=HF(r);[s,o]=Yp(t,u,r)}return new Yt({ts:s,zone:r,loc:n,o})}function bE(t,e,r){const n=Xt(r.round)?!0:r.round,s=(l,u)=>(l=Hw(l,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(l,u)),o=l=>r.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(r.unit)return s(o(r.unit),r.unit);for(const l of r.units){const u=o(l);if(Math.abs(u)>=1)return s(u,l)}return s(t>e?-0:0,r.units[r.units.length-1])}function wE(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let Xp,em={};class Yt{constructor(e){const r=e.zone||pn.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Vs("invalid input"):null)||(r.isValid?null:zd(r));this.ts=Xt(e.ts)?pn.now():e.ts;let s=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,o]=[e.old.c,e.old.o];else{const u=Qa(e.o)&&!e.old?e.o:r.offset(this.ts);s=Rp(this.ts,u),n=Number.isNaN(s.year)?new Vs("invalid input"):null,s=n?null:s,o=n?null:u}this._zone=r,this.loc=e.loc||Cr.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}static now(){return new Yt({})}static local(){const[e,r]=wE(arguments),[n,s,o,l,u,d,m]=r;return _E({year:n,month:s,day:o,hour:l,minute:u,second:d,millisecond:m},e)}static utc(){const[e,r]=wE(arguments),[n,s,o,l,u,d,m]=r;return e.zone=yi.utcInstance,_E({year:n,month:s,day:o,hour:l,minute:u,second:d,millisecond:m},e)}static fromJSDate(e,r={}){const n=xj(e)?e.valueOf():NaN;if(Number.isNaN(n))return Yt.invalid("invalid input");const s=Ma(r.zone,pn.defaultZone);return s.isValid?new Yt({ts:n,zone:s,loc:Cr.fromObject(r)}):Yt.invalid(zd(s))}static fromMillis(e,r={}){if(Qa(e))return e<-mE||e>mE?Yt.invalid("Timestamp out of range"):new Yt({ts:e,zone:Ma(r.zone,pn.defaultZone),loc:Cr.fromObject(r)});throw new ei(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Qa(e))return new Yt({ts:e*1e3,zone:Ma(r.zone,pn.defaultZone),loc:Cr.fromObject(r)});throw new ei("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=Ma(r.zone,pn.defaultZone);if(!n.isValid)return Yt.invalid(zd(n));const s=Cr.fromObject(r),o=jm(e,vE),{minDaysInFirstWeek:l,startOfWeek:u}=sE(o,s),d=pn.now(),m=Xt(r.specificOffset)?n.offset(d):r.specificOffset,y=!Xt(o.ordinal),w=!Xt(o.year),E=!Xt(o.month)||!Xt(o.day),k=w||E,C=o.weekYear||o.weekNumber;if((k||y)&&C)throw new Gu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(E&&y)throw new Gu("Can't mix ordinal dates with month/day");const q=C||o.weekday&&!k;let A,D,F=Rp(d,m);q?(A=zF,D=$F,F=Am(F,l,u)):y?(A=UF,D=WF,F=m_(F)):(A=VC,D=UC);let $=!1;for(const ne of A){const M=o[ne];Xt(M)?$?o[ne]=D[ne]:o[ne]=F[ne]:$=!0}const H=q?_j(o,l,u):y?bj(o):gC(o),G=H||yC(o);if(G)return Yt.invalid(G);const B=q?nE(o,l,u):y?iE(o):o,[Z,ie]=Yp(B,m,n),V=new Yt({ts:Z,zone:n,o:ie,loc:s});return o.weekday&&k&&e.weekday!==V.weekday?Yt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${V.toISO()}`):V.isValid?V:Yt.invalid(V.invalid)}static fromISO(e,r={}){const[n,s]=dF(e);return Lu(n,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,s]=fF(e);return Lu(n,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,s]=hF(e);return Lu(n,s,r,"HTTP",r)}static fromFormat(e,r,n={}){if(Xt(e)||Xt(r))throw new ei("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:o=null}=n,l=Cr.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0}),[u,d,m,y]=BF(l,e,r);return y?Yt.invalid(y):Lu(u,d,n,`format ${r}`,e,m)}static fromString(e,r,n={}){return Yt.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,s]=bF(e);return Lu(n,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new ei("need to specify a reason the DateTime is invalid");const n=e instanceof Vs?e:new Vs(e,r);if(pn.throwOnInvalid)throw new HP(n);return new Yt({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=WC(e,Cr.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return MC(ri.parseFormat(e),Cr.fromObject(r)).map(s=>s.val).join("")}static resetCache(){Xp=void 0,em={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?v_(this).weekYear:NaN}get weekNumber(){return this.isValid?v_(this).weekNumber:NaN}get weekday(){return this.isValid?v_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?__(this).weekday:NaN}get localWeekNumber(){return this.isValid?__(this).weekNumber:NaN}get localWeekYear(){return this.isValid?__(this).weekYear:NaN}get ordinal(){return this.isValid?m_(this.c).ordinal:NaN}get monthShort(){return this.isValid?Tp.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Tp.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Tp.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Tp.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=kg(this.c),s=this.zone.offset(n-e),o=this.zone.offset(n+e),l=this.zone.offset(n-s*r),u=this.zone.offset(n-o*r);if(l===u)return[this];const d=n-l*r,m=n-u*r,y=Rp(d,l),w=Rp(m,u);return y.hour===w.hour&&y.minute===w.minute&&y.second===w.second&&y.millisecond===w.millisecond?[Pl(this,{ts:d}),Pl(this,{ts:m})]:[this]}get isInLeapYear(){return Kf(this.year)}get daysInMonth(){return Pm(this.year,this.month)}get daysInYear(){return this.isValid?sc(this.year):NaN}get weeksInWeekYear(){return this.isValid?gf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?gf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:s}=ri.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(yi.instance(e),r)}toLocal(){return this.setZone(pn.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Ma(e,pn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||n){const o=e.offset(this.ts),l=this.toObject();[s]=Yp(l,o,e)}return Pl(this,{ts:s,zone:e})}else return Yt.invalid(zd(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Pl(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=jm(e,vE),{minDaysInFirstWeek:n,startOfWeek:s}=sE(r,this.loc),o=!Xt(r.weekYear)||!Xt(r.weekNumber)||!Xt(r.weekday),l=!Xt(r.ordinal),u=!Xt(r.year),d=!Xt(r.month)||!Xt(r.day),m=u||d,y=r.weekYear||r.weekNumber;if((m||l)&&y)throw new Gu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new Gu("Can't mix ordinal dates with month/day");let w;o?w=nE({...Am(this.c,n,s),...r},n,s):Xt(r.ordinal)?(w={...this.toObject(),...r},Xt(r.day)&&(w.day=Math.min(Pm(w.year,w.month),w.day))):w=iE({...m_(this.c),...r});const[E,k]=Yp(w,this.o,this.zone);return Pl(this,{ts:E,o:k})}plus(e){if(!this.isValid)return this;const r=_r.fromDurationLike(e);return Pl(this,gE(this,r))}minus(e){if(!this.isValid)return this;const r=_r.fromDurationLike(e).negate();return Pl(this,gE(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},s=_r.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:l}=this;l<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if(s==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?ri.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):y_}toLocaleString(e=Rm,r={}){return this.isValid?ri.create(this.loc.clone(r),e).formatDateTime(this):y_}toLocaleParts(e={}){return this.isValid?ri.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const l=e==="extended";let u=b_(this,l);return u+="T",u+=yE(this,l,r,n,s,o),u}toISODate({format:e="extended"}={}){return this.isValid?b_(this,e==="extended"):null}toISOWeekDate(){return Ap(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:o=!1,format:l="extended"}={}){return this.isValid?(s?"T":"")+yE(this,l==="extended",r,e,n,o):null}toRFC2822(){return Ap(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ap(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?b_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(n&&(s+=" "),r?s+="z":e&&(s+="ZZ")),Ap(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():y_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return _r.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=Sj(r).map(_r.normalizeUnit),l=e.valueOf()>this.valueOf(),u=l?this:e,d=l?e:this,m=IF(u,d,o,s);return l?m.negate():m}diffNow(e="milliseconds",r={}){return this.diff(Yt.now(),e,r)}until(e){return this.isValid?hn.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const s=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(r,n)<=s&&s<=o.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||Yt.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(s=e.unit,o=void 0),bE(r,this.plus(n),{...e,numeric:"always",units:s,unit:o})}toRelativeCalendar(e={}){return this.isValid?bE(e.base||Yt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Yt.isDateTime))throw new ei("min requires all arguments be DateTimes");return oE(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(Yt.isDateTime))throw new ei("max requires all arguments be DateTimes");return oE(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:s=null,numberingSystem:o=null}=n,l=Cr.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});return $C(l,e,r)}static fromStringExplain(e,r,n={}){return Yt.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){const{locale:n=null,numberingSystem:s=null}=r,o=Cr.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new BC(o,e)}static fromFormatParser(e,r,n={}){if(Xt(e)||Xt(r))throw new ei("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:o=null}=n,l=Cr.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});if(!l.equals(r.locale))throw new ei(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${r.locale}`);const{result:u,zone:d,specificOffset:m,invalidReason:y}=r.explainFromTokens(e);return y?Yt.invalid(y):Lu(u,d,n,`format ${r.format}`,e,m)}static get DATE_SHORT(){return Rm}static get DATE_MED(){return QI}static get DATE_MED_WITH_WEEKDAY(){return GP}static get DATE_FULL(){return KI}static get DATE_HUGE(){return GI}static get TIME_SIMPLE(){return JI}static get TIME_WITH_SECONDS(){return ZI}static get TIME_WITH_SHORT_OFFSET(){return YI}static get TIME_WITH_LONG_OFFSET(){return XI}static get TIME_24_SIMPLE(){return eC}static get TIME_24_WITH_SECONDS(){return tC}static get TIME_24_WITH_SHORT_OFFSET(){return rC}static get TIME_24_WITH_LONG_OFFSET(){return nC}static get DATETIME_SHORT(){return iC}static get DATETIME_SHORT_WITH_SECONDS(){return sC}static get DATETIME_MED(){return oC}static get DATETIME_MED_WITH_SECONDS(){return aC}static get DATETIME_MED_WITH_WEEKDAY(){return JP}static get DATETIME_FULL(){return lC}static get DATETIME_FULL_WITH_SECONDS(){return uC}static get DATETIME_HUGE(){return cC}static get DATETIME_HUGE_WITH_SECONDS(){return dC}}function Ad(t){if(Yt.isDateTime(t))return t;if(t&&t.valueOf&&Qa(t.valueOf()))return Yt.fromJSDate(t);if(t&&typeof t=="object")return Yt.fromObject(t);throw new ei(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function HC(t,e){return function(){return t.apply(e,arguments)}}const{toString:QF}=Object.prototype,{getPrototypeOf:Jw}=Object,qg=(t=>e=>{const r=QF.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ys=t=>(t=t.toLowerCase(),e=>qg(e)===t),Tg=t=>e=>typeof e===t,{isArray:jc}=Array,yf=Tg("undefined");function KF(t){return t!==null&&!yf(t)&&t.constructor!==null&&!yf(t.constructor)&&ss(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const QC=Ys("ArrayBuffer");function GF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&QC(t.buffer),e}const JF=Tg("string"),ss=Tg("function"),KC=Tg("number"),Og=t=>t!==null&&typeof t=="object",ZF=t=>t===!0||t===!1,tm=t=>{if(qg(t)!=="object")return!1;const e=Jw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},YF=Ys("Date"),XF=Ys("File"),eL=Ys("Blob"),tL=Ys("FileList"),rL=t=>Og(t)&&ss(t.pipe),nL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ss(t.append)&&((e=qg(t))==="formdata"||e==="object"&&ss(t.toString)&&t.toString()==="[object FormData]"))},iL=Ys("URLSearchParams"),[sL,oL,aL,lL]=["ReadableStream","Request","Response","Headers"].map(Ys),uL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),jc(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,t[u],u,t)}}function GC(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Ul=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JC=t=>!yf(t)&&t!==Ul;function Jb(){const{caseless:t}=JC(this)&&this||{},e={},r=(n,s)=>{const o=t&&GC(e,s)||s;tm(e[o])&&tm(n)?e[o]=Jb(e[o],n):tm(n)?e[o]=Jb({},n):jc(n)?e[o]=n.slice():e[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Zf(arguments[n],r);return e}const cL=(t,e,r,{allOwnKeys:n}={})=>(Zf(e,(s,o)=>{r&&ss(s)?t[o]=HC(s,r):t[o]=s},{allOwnKeys:n}),t),dL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fL=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},hL=(t,e,r,n)=>{let s,o,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!n||n(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=r!==!1&&Jw(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},pL=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},mL=t=>{if(!t)return null;if(jc(t))return t;let e=t.length;if(!KC(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},gL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jw(Uint8Array)),yL=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},vL=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},_L=Ys("HTMLFormElement"),bL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),xE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),wL=Ys("RegExp"),ZC=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Zf(r,(s,o)=>{let l;(l=e(s,o,t))!==!1&&(n[o]=l||s)}),Object.defineProperties(t,n)},xL=t=>{ZC(t,(e,r)=>{if(ss(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ss(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},SL=(t,e)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return jc(t)?n(t):n(String(t).split(e)),r},NL=()=>{},EL=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,w_="abcdefghijklmnopqrstuvwxyz",SE="0123456789",YC={DIGIT:SE,ALPHA:w_,ALPHA_DIGIT:w_+w_.toUpperCase()+SE},kL=(t=16,e=YC.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function IL(t){return!!(t&&ss(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const CL=t=>{const e=new Array(10),r=(n,s)=>{if(Og(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const o=jc(n)?[]:{};return Zf(n,(l,u)=>{const d=r(l,s+1);!yf(d)&&(o[u]=d)}),e[s]=void 0,o}}return n};return r(t,0)},qL=Ys("AsyncFunction"),TL=t=>t&&(Og(t)||ss(t))&&ss(t.then)&&ss(t.catch),XC=((t,e)=>t?setImmediate:e?((r,n)=>(Ul.addEventListener("message",({source:s,data:o})=>{s===Ul&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ul.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ss(Ul.postMessage)),OL=typeof queueMicrotask<"u"?queueMicrotask.bind(Ul):typeof process<"u"&&process.nextTick||XC,We={isArray:jc,isArrayBuffer:QC,isBuffer:KF,isFormData:nL,isArrayBufferView:GF,isString:JF,isNumber:KC,isBoolean:ZF,isObject:Og,isPlainObject:tm,isReadableStream:sL,isRequest:oL,isResponse:aL,isHeaders:lL,isUndefined:yf,isDate:YF,isFile:XF,isBlob:eL,isRegExp:wL,isFunction:ss,isStream:rL,isURLSearchParams:iL,isTypedArray:gL,isFileList:tL,forEach:Zf,merge:Jb,extend:cL,trim:uL,stripBOM:dL,inherits:fL,toFlatObject:hL,kindOf:qg,kindOfTest:Ys,endsWith:pL,toArray:mL,forEachEntry:yL,matchAll:vL,isHTMLForm:_L,hasOwnProperty:xE,hasOwnProp:xE,reduceDescriptors:ZC,freezeMethods:xL,toObjectSet:SL,toCamelCase:bL,noop:NL,toFiniteNumber:EL,findKey:GC,global:Ul,isContextDefined:JC,ALPHABET:YC,generateString:kL,isSpecCompliantForm:IL,toJSONObject:CL,isAsyncFn:qL,isThenable:TL,setImmediate:XC,asap:OL};function ar(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}We.inherits(ar,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.status}}});const eq=ar.prototype,tq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tq[t]={value:t}});Object.defineProperties(ar,tq);Object.defineProperty(eq,"isAxiosError",{value:!0});ar.from=(t,e,r,n,s,o)=>{const l=Object.create(eq);return We.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),ar.call(l,t.message,e,r,n,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const RL=null;function Zb(t){return We.isPlainObject(t)||We.isArray(t)}function rq(t){return We.endsWith(t,"[]")?t.slice(0,-2):t}function NE(t,e,r){return t?t.concat(e).map(function(s,o){return s=rq(s),!r&&o?"["+s+"]":s}).join(r?".":""):e}function AL(t){return We.isArray(t)&&!t.some(Zb)}const PL=We.toFlatObject(We,{},null,function(e){return/^is[A-Z]/.test(e)});function Rg(t,e,r){if(!We.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=We.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,A){return!We.isUndefined(A[q])});const n=r.metaTokens,s=r.visitor||y,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(e);if(!We.isFunction(s))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(We.isDate(C))return C.toISOString();if(!d&&We.isBlob(C))throw new ar("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(C)||We.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function y(C,q,A){let D=C;if(C&&!A&&typeof C=="object"){if(We.endsWith(q,"{}"))q=n?q:q.slice(0,-2),C=JSON.stringify(C);else if(We.isArray(C)&&AL(C)||(We.isFileList(C)||We.endsWith(q,"[]"))&&(D=We.toArray(C)))return q=rq(q),D.forEach(function($,H){!(We.isUndefined($)||$===null)&&e.append(l===!0?NE([q],H,o):l===null?q:q+"[]",m($))}),!1}return Zb(C)?!0:(e.append(NE(A,q,o),m(C)),!1)}const w=[],E=Object.assign(PL,{defaultVisitor:y,convertValue:m,isVisitable:Zb});function k(C,q){if(!We.isUndefined(C)){if(w.indexOf(C)!==-1)throw Error("Circular reference detected in "+q.join("."));w.push(C),We.forEach(C,function(D,F){(!(We.isUndefined(D)||D===null)&&s.call(e,D,We.isString(F)?F.trim():F,q,E))===!0&&k(D,q?q.concat(F):[F])}),w.pop()}}if(!We.isObject(t))throw new TypeError("data must be an object");return k(t),e}function EE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Zw(t,e){this._pairs=[],t&&Rg(t,this,e)}const nq=Zw.prototype;nq.append=function(e,r){this._pairs.push([e,r])};nq.toString=function(e){const r=e?function(n){return e.call(this,n,EE)}:EE;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function jL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iq(t,e,r){if(!e)return t;const n=r&&r.encode||jL;We.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(e,r):o=We.isURLSearchParams(e)?e.toString():new Zw(e,r).toString(n),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class kE{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){We.forEach(this.handlers,function(n){n!==null&&e(n)})}}const sq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FL=typeof URLSearchParams<"u"?URLSearchParams:Zw,LL=typeof FormData<"u"?FormData:null,DL=typeof Blob<"u"?Blob:null,ML={isBrowser:!0,classes:{URLSearchParams:FL,FormData:LL,Blob:DL},protocols:["http","https","file","blob","url","data"]},Yw=typeof window<"u"&&typeof document<"u",Yb=typeof navigator=="object"&&navigator||void 0,BL=Yw&&(!Yb||["ReactNative","NativeScript","NS"].indexOf(Yb.product)<0),$L=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WL=Yw&&window.location.href||"http://localhost",zL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yw,hasStandardBrowserEnv:BL,hasStandardBrowserWebWorkerEnv:$L,navigator:Yb,origin:WL},Symbol.toStringTag,{value:"Module"})),ni={...zL,...ML};function UL(t,e){return Rg(t,new ni.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,o){return ni.isNode&&We.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function VL(t){return We.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HL(t){const e={},r=Object.keys(t);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],e[o]=t[o];return e}function oq(t){function e(r,n,s,o){let l=r[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=r.length;return l=!l&&We.isArray(s)?s.length:l,d?(We.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!We.isObject(s[l]))&&(s[l]=[]),e(r,n,s[l],o)&&We.isArray(s[l])&&(s[l]=HL(s[l])),!u)}if(We.isFormData(t)&&We.isFunction(t.entries)){const r={};return We.forEachEntry(t,(n,s)=>{e(VL(n),s,r,0)}),r}return null}function QL(t,e,r){if(We.isString(t))try{return(e||JSON.parse)(t),We.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Yf={transitional:sq,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=We.isObject(e);if(o&&We.isHTMLForm(e)&&(e=new FormData(e)),We.isFormData(e))return s?JSON.stringify(oq(e)):e;if(We.isArrayBuffer(e)||We.isBuffer(e)||We.isStream(e)||We.isFile(e)||We.isBlob(e)||We.isReadableStream(e))return e;if(We.isArrayBufferView(e))return e.buffer;if(We.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return UL(e,this.formSerializer).toString();if((u=We.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Rg(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),QL(e)):e}],transformResponse:[function(e){const r=this.transitional||Yf.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(We.isResponse(e)||We.isReadableStream(e))return e;if(e&&We.isString(e)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?ar.from(u,ar.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ni.classes.FormData,Blob:ni.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],t=>{Yf.headers[t]={}});const KL=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GL=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||e[r]&&KL[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},IE=Symbol("internals");function Pd(t){return t&&String(t).trim().toLowerCase()}function rm(t){return t===!1||t==null?t:We.isArray(t)?t.map(rm):String(t)}function JL(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const ZL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function x_(t,e,r,n,s){if(We.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!We.isString(e)){if(We.isString(n))return e.indexOf(n)!==-1;if(We.isRegExp(n))return n.test(e)}}function YL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function XL(t,e){const r=We.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,o,l){return this[n].call(this,e,s,o,l)},configurable:!0})})}let Li=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function o(u,d,m){const y=Pd(d);if(!y)throw new Error("header name must be a non-empty string");const w=We.findKey(s,y);(!w||s[w]===void 0||m===!0||m===void 0&&s[w]!==!1)&&(s[w||d]=rm(u))}const l=(u,d)=>We.forEach(u,(m,y)=>o(m,y,d));if(We.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(We.isString(e)&&(e=e.trim())&&!ZL(e))l(GL(e),r);else if(We.isHeaders(e))for(const[u,d]of e.entries())o(d,u,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=Pd(e),e){const n=We.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return JL(s);if(We.isFunction(r))return r.call(this,s,n);if(We.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Pd(e),e){const n=We.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||x_(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function o(l){if(l=Pd(l),l){const u=We.findKey(n,l);u&&(!r||x_(n,n[u],u,r))&&(delete n[u],s=!0)}}return We.isArray(e)?e.forEach(o):o(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!e||x_(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const r=this,n={};return We.forEach(this,(s,o)=>{const l=We.findKey(n,o);if(l){r[l]=rm(s),delete r[o];return}const u=e?YL(o):String(o).trim();u!==o&&delete r[o],r[u]=rm(s),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return We.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&We.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[IE]=this[IE]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Pd(l);n[u]||(XL(s,l),n[u]=!0)}return We.isArray(e)?e.forEach(o):o(e),this}};Li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(Li.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});We.freezeMethods(Li);function S_(t,e){const r=this||Yf,n=e||r,s=Li.from(n.headers);let o=n.data;return We.forEach(t,function(u){o=u.call(r,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function aq(t){return!!(t&&t.__CANCEL__)}function Fc(t,e,r){ar.call(this,t??"canceled",ar.ERR_CANCELED,e,r),this.name="CanceledError"}We.inherits(Fc,ar,{__CANCEL__:!0});function lq(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ar("Request failed with status code "+r.status,[ar.ERR_BAD_REQUEST,ar.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function e2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function t2(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),y=n[o];l||(l=m),r[s]=d,n[s]=m;let w=o,E=0;for(;w!==s;)E+=r[w++],w=w%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),m-l<e)return;const k=y&&m-y;return k?Math.round(E*1e3/k):void 0}}function r2(t,e){let r=0,n=1e3/e,s,o;const l=(m,y=Date.now())=>{r=y,s=null,o&&(clearTimeout(o),o=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),w=y-r;w>=n?l(m,y):(s=m,o||(o=setTimeout(()=>{o=null,l(s)},n-w)))},()=>s&&l(s)]}const Fm=(t,e,r=3)=>{let n=0;const s=t2(50,250);return r2(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,m=s(d),y=l<=u;n=l;const w={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:m||void 0,estimated:m&&u&&y?(u-l)/m:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(w)},r)},CE=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},qE=t=>(...e)=>We.asap(()=>t(...e)),n2=ni.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,ni.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(ni.origin),ni.navigator&&/(msie|trident)/i.test(ni.navigator.userAgent)):()=>!0,i2=ni.hasStandardBrowserEnv?{write(t,e,r,n,s,o){const l=[t+"="+encodeURIComponent(e)];We.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),We.isString(n)&&l.push("path="+n),We.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function s2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function o2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uq(t,e){return t&&!s2(e)?o2(t,e):e}const TE=t=>t instanceof Li?{...t}:t;function Xl(t,e){e=e||{};const r={};function n(m,y,w,E){return We.isPlainObject(m)&&We.isPlainObject(y)?We.merge.call({caseless:E},m,y):We.isPlainObject(y)?We.merge({},y):We.isArray(y)?y.slice():y}function s(m,y,w,E){if(We.isUndefined(y)){if(!We.isUndefined(m))return n(void 0,m,w,E)}else return n(m,y,w,E)}function o(m,y){if(!We.isUndefined(y))return n(void 0,y)}function l(m,y){if(We.isUndefined(y)){if(!We.isUndefined(m))return n(void 0,m)}else return n(void 0,y)}function u(m,y,w){if(w in e)return n(m,y);if(w in t)return n(void 0,m)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,y,w)=>s(TE(m),TE(y),w,!0)};return We.forEach(Object.keys(Object.assign({},t,e)),function(y){const w=d[y]||s,E=w(t[y],e[y],y);We.isUndefined(E)&&w!==u||(r[y]=E)}),r}const cq=t=>{const e=Xl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Li.from(l),e.url=iq(uq(e.baseURL,e.url),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(We.isFormData(r)){if(ni.hasStandardBrowserEnv||ni.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[m,...y]=d?d.split(";").map(w=>w.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...y].join("; "))}}if(ni.hasStandardBrowserEnv&&(n&&We.isFunction(n)&&(n=n(e)),n||n!==!1&&n2(e.url))){const m=s&&o&&i2.read(o);m&&l.set(s,m)}return e},a2=typeof XMLHttpRequest<"u",l2=a2&&function(t){return new Promise(function(r,n){const s=cq(t);let o=s.data;const l=Li.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:m}=s,y,w,E,k,C;function q(){k&&k(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function D(){if(!A)return;const $=Li.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),G={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:$,config:t,request:A};lq(function(Z){r(Z),q()},function(Z){n(Z),q()},G),A=null}"onloadend"in A?A.onloadend=D:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(D)},A.onabort=function(){A&&(n(new ar("Request aborted",ar.ECONNABORTED,t,A)),A=null)},A.onerror=function(){n(new ar("Network Error",ar.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let H=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const G=s.transitional||sq;s.timeoutErrorMessage&&(H=s.timeoutErrorMessage),n(new ar(H,G.clarifyTimeoutError?ar.ETIMEDOUT:ar.ECONNABORTED,t,A)),A=null},o===void 0&&l.setContentType(null),"setRequestHeader"in A&&We.forEach(l.toJSON(),function(H,G){A.setRequestHeader(G,H)}),We.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),u&&u!=="json"&&(A.responseType=s.responseType),m&&([E,C]=Fm(m,!0),A.addEventListener("progress",E)),d&&A.upload&&([w,k]=Fm(d),A.upload.addEventListener("progress",w),A.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(y=$=>{A&&(n(!$||$.type?new Fc(null,t,A):$),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const F=e2(s.url);if(F&&ni.protocols.indexOf(F)===-1){n(new ar("Unsupported protocol "+F+":",ar.ERR_BAD_REQUEST,t));return}A.send(o||null)})},u2=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const o=function(m){if(!s){s=!0,u();const y=m instanceof Error?m:this.reason;n.abort(y instanceof ar?y:new Fc(y instanceof Error?y.message:y))}};let l=e&&setTimeout(()=>{l=null,o(new ar(`timeout ${e} of ms exceeded`,ar.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>We.asap(u),d}},c2=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},d2=async function*(t,e){for await(const r of f2(t))yield*c2(r,e)},f2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},OE=(t,e,r,n)=>{const s=d2(t,e);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:m,value:y}=await s.next();if(m){u(),d.close();return}let w=y.byteLength;if(r){let E=o+=w;r(E)}d.enqueue(new Uint8Array(y))}catch(m){throw u(m),m}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},Ag=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dq=Ag&&typeof ReadableStream=="function",h2=Ag&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),fq=(t,...e)=>{try{return!!t(...e)}catch{return!1}},p2=dq&&fq(()=>{let t=!1;const e=new Request(ni.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),RE=64*1024,Xb=dq&&fq(()=>We.isReadableStream(new Response("").body)),Lm={stream:Xb&&(t=>t.body)};Ag&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lm[e]&&(Lm[e]=We.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new ar(`Response type '${e}' is not supported`,ar.ERR_NOT_SUPPORT,n)})})})(new Response);const m2=async t=>{if(t==null)return 0;if(We.isBlob(t))return t.size;if(We.isSpecCompliantForm(t))return(await new Request(ni.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(We.isArrayBufferView(t)||We.isArrayBuffer(t))return t.byteLength;if(We.isURLSearchParams(t)&&(t=t+""),We.isString(t))return(await h2(t)).byteLength},g2=async(t,e)=>{const r=We.toFiniteNumber(t.getContentLength());return r??m2(e)},y2=Ag&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:m,headers:y,withCredentials:w="same-origin",fetchOptions:E}=cq(t);m=m?(m+"").toLowerCase():"text";let k=u2([s,o&&o.toAbortSignal()],l),C;const q=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let A;try{if(d&&p2&&r!=="get"&&r!=="head"&&(A=await g2(y,n))!==0){let G=new Request(e,{method:"POST",body:n,duplex:"half"}),B;if(We.isFormData(n)&&(B=G.headers.get("content-type"))&&y.setContentType(B),G.body){const[Z,ie]=CE(A,Fm(qE(d)));n=OE(G.body,RE,Z,ie)}}We.isString(w)||(w=w?"include":"omit");const D="credentials"in Request.prototype;C=new Request(e,{...E,signal:k,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:n,duplex:"half",credentials:D?w:void 0});let F=await fetch(C);const $=Xb&&(m==="stream"||m==="response");if(Xb&&(u||$&&q)){const G={};["status","statusText","headers"].forEach(V=>{G[V]=F[V]});const B=We.toFiniteNumber(F.headers.get("content-length")),[Z,ie]=u&&CE(B,Fm(qE(u),!0))||[];F=new Response(OE(F.body,RE,Z,()=>{ie&&ie(),q&&q()}),G)}m=m||"text";let H=await Lm[We.findKey(Lm,m)||"text"](F,t);return!$&&q&&q(),await new Promise((G,B)=>{lq(G,B,{data:H,headers:Li.from(F.headers),status:F.status,statusText:F.statusText,config:t,request:C})})}catch(D){throw q&&q(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new ar("Network Error",ar.ERR_NETWORK,t,C),{cause:D.cause||D}):ar.from(D,D&&D.code,t,C)}}),ew={http:RL,xhr:l2,fetch:y2};We.forEach(ew,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const AE=t=>`- ${t}`,v2=t=>We.isFunction(t)||t===null||t===!1,hq={getAdapter:t=>{t=We.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let o=0;o<e;o++){r=t[o];let l;if(n=r,!v2(r)&&(n=ew[(l=String(r)).toLowerCase()],n===void 0))throw new ar(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+o]=n}if(!n){const o=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(AE).join(`
`):" "+AE(o[0]):"as no adapter specified";throw new ar("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:ew};function N_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fc(null,t)}function PE(t){return N_(t),t.headers=Li.from(t.headers),t.data=S_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hq.getAdapter(t.adapter||Yf.adapter)(t).then(function(n){return N_(t),n.data=S_.call(t,t.transformResponse,n),n.headers=Li.from(n.headers),n},function(n){return aq(n)||(N_(t),n&&n.response&&(n.response.data=S_.call(t,t.transformResponse,n.response),n.response.headers=Li.from(n.response.headers))),Promise.reject(n)})}const pq="1.7.9",Pg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pg[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const jE={};Pg.transitional=function(e,r,n){function s(o,l){return"[Axios v"+pq+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new ar(s(l," has been removed"+(r?" in "+r:"")),ar.ERR_DEPRECATED);return r&&!jE[l]&&(jE[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,l,u):!0}};Pg.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function _2(t,e,r){if(typeof t!="object")throw new ar("options must be an object",ar.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new ar("option "+o+" must be "+d,ar.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ar("Unknown option "+o,ar.ERR_BAD_OPTION)}}const nm={assertOptions:_2,validators:Pg},fo=nm.validators;let Gl=class{constructor(e){this.defaults=e,this.interceptors={request:new kE,response:new kE}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Xl(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&nm.assertOptions(n,{silentJSONParsing:fo.transitional(fo.boolean),forcedJSONParsing:fo.transitional(fo.boolean),clarifyTimeoutError:fo.transitional(fo.boolean)},!1),s!=null&&(We.isFunction(s)?r.paramsSerializer={serialize:s}:nm.assertOptions(s,{encode:fo.function,serialize:fo.function},!0)),nm.assertOptions(r,{baseUrl:fo.spelling("baseURL"),withXsrfToken:fo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&We.merge(o.common,o[r.method]);o&&We.forEach(["delete","get","head","post","put","patch","common"],C=>{delete o[C]}),r.headers=Li.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(r)===!1||(d=d&&q.synchronous,u.unshift(q.fulfilled,q.rejected))});const m=[];this.interceptors.response.forEach(function(q){m.push(q.fulfilled,q.rejected)});let y,w=0,E;if(!d){const C=[PE.bind(this),void 0];for(C.unshift.apply(C,u),C.push.apply(C,m),E=C.length,y=Promise.resolve(r);w<E;)y=y.then(C[w++],C[w++]);return y}E=u.length;let k=r;for(w=0;w<E;){const C=u[w++],q=u[w++];try{k=C(k)}catch(A){q.call(this,A);break}}try{y=PE.call(this,k)}catch(C){return Promise.reject(C)}for(w=0,E=m.length;w<E;)y=y.then(m[w++],m[w++]);return y}getUri(e){e=Xl(this.defaults,e);const r=uq(e.baseURL,e.url);return iq(r,e.params,e.paramsSerializer)}};We.forEach(["delete","get","head","options"],function(e){Gl.prototype[e]=function(r,n){return this.request(Xl(n||{},{method:e,url:r,data:(n||{}).data}))}});We.forEach(["post","put","patch"],function(e){function r(n){return function(o,l,u){return this.request(Xl(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Gl.prototype[e]=r(),Gl.prototype[e+"Form"]=r(!0)});let b2=class mq{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new Fc(o,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new mq(function(s){e=s}),cancel:e}}};function w2(t){return function(r){return t.apply(null,r)}}function x2(t){return We.isObject(t)&&t.isAxiosError===!0}const tw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tw).forEach(([t,e])=>{tw[e]=t});function gq(t){const e=new Gl(t),r=HC(Gl.prototype.request,e);return We.extend(r,Gl.prototype,e,{allOwnKeys:!0}),We.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return gq(Xl(t,s))},r}const bn=gq(Yf);bn.Axios=Gl;bn.CanceledError=Fc;bn.CancelToken=b2;bn.isCancel=aq;bn.VERSION=pq;bn.toFormData=Rg;bn.AxiosError=ar;bn.Cancel=bn.CanceledError;bn.all=function(e){return Promise.all(e)};bn.spread=w2;bn.isAxiosError=x2;bn.mergeConfig=Xl;bn.AxiosHeaders=Li;bn.formToJSON=t=>oq(We.isHTMLForm(t)?new FormData(t):t);bn.getAdapter=hq.getAdapter;bn.HttpStatusCode=tw;bn.default=bn;const{Axios:q8,AxiosError:S2,CanceledError:T8,isCancel:O8,CancelToken:R8,VERSION:A8,all:P8,Cancel:j8,isAxiosError:F8,spread:L8,toFormData:D8,AxiosHeaders:M8,HttpStatusCode:B8,formToJSON:$8,getAdapter:W8,mergeConfig:z8}=bn,Xw=({error:t,schema:e,onError:r})=>{if(t instanceof S2){const s=e.safeParse(t.response?.data);return s.success&&r({error:t,data:s.data}),s.success}return!1};var E_,FE;function N2(){if(FE)return E_;FE=1;function t(n){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(n)}t.prototype.getMaxRPS=function(){var n=this.perMilliseconds/1e3;return this.maxRequests/n},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(n){this.setRateLimitOptions({maxRequests:n,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(n){n.maxRPS?this.setMaxRPS(n.maxRPS):(this.perMilliseconds=n.perMilliseconds,this.maxRequests=n.maxRequests)},t.prototype.enable=function(n){function s(o){return Promise.reject(o)}this.interceptors.request=n.interceptors.request.use(this.handleRequest,s),this.interceptors.response=n.interceptors.response.use(this.handleResponse,s)};function e(n){n.cancelToken&&n.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(n){return new Promise(function(s,o){this.push({resolve:function(){try{e(n)}catch(l){return o(l),!1}return s(n),!0}})}.bind(this))},t.prototype.handleResponse=function(n){return this.shift(),n},t.prototype.push=function(n){this.queue.push(n),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var n=this.queue.shift(),s=n.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!s){this.shift();return}this.timeslotRequests+=1}};function r(n,s){var o=new t(n);return o.setRateLimitOptions(s),n.getQueue=t.prototype.getQueue.bind(o),n.getMaxRPS=t.prototype.getMaxRPS.bind(o),n.setMaxRPS=t.prototype.setMaxRPS.bind(o),n.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(o),n}return E_=r,E_}var E2=N2();const k2=qc(E2),I2=({instance:t,limit:e}={})=>k2(t||bn,e||{maxRequests:5,perMilliseconds:100}),e0="-",C2=t=>{const e=T2(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const u=l.split(e0);return u[0]===""&&u.length!==1&&u.shift(),yq(u,e)||q2(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},yq=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?yq(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(e0);return e.validators.find(({validator:l})=>l(o))?.classGroupId},LE=/^\[(.+)\]$/,q2=t=>{if(LE.test(t)){const e=LE.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},T2=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return R2(Object.entries(t.classGroups),r).forEach(([o,l])=>{rw(l,n,o,e)}),n},rw=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:DE(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(O2(s)){rw(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,l])=>{rw(l,DE(e,o),r,n)})})},DE=(t,e)=>{let r=t;return e.split(e0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},O2=t=>t.isThemeGetter,R2=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[e+l,u])):o);return[r,s]}):t,A2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,l)=>{r.set(o,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return s(o,l),l},set(o,l){r.has(o)?r.set(o,l):s(o,l)}}},vq="!",P2=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,l=u=>{const d=[];let m=0,y=0,w;for(let A=0;A<u.length;A++){let D=u[A];if(m===0){if(D===s&&(n||u.slice(A,A+o)===e)){d.push(u.slice(y,A)),y=A+o;continue}if(D==="/"){w=A;continue}}D==="["?m++:D==="]"&&m--}const E=d.length===0?u:u.substring(y),k=E.startsWith(vq),C=k?E.substring(1):E,q=w&&w>y?w-y:void 0;return{modifiers:d,hasImportantModifier:k,baseClassName:C,maybePostfixModifierPosition:q}};return r?u=>r({className:u,parseClassName:l}):l},j2=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},F2=t=>({cache:A2(t.cacheSize),parseClassName:P2(t),...C2(t)}),L2=/\s+/,D2=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],l=t.trim().split(L2);let u="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{modifiers:y,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:k}=r(m);let C=!!k,q=n(C?E.substring(0,k):E);if(!q){if(!C){u=m+(u.length>0?" "+u:u);continue}if(q=n(E),!q){u=m+(u.length>0?" "+u:u);continue}C=!1}const A=j2(y).join(":"),D=w?A+vq:A,F=D+q;if(o.includes(F))continue;o.push(F);const $=s(q,C);for(let H=0;H<$.length;++H){const G=$[H];o.push(D+G)}u=m+(u.length>0?" "+u:u)}return u};function M2(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=_q(e))&&(n&&(n+=" "),n+=r);return n}const _q=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=_q(t[n]))&&(r&&(r+=" "),r+=e);return r};function B2(t,...e){let r,n,s,o=l;function l(d){const m=e.reduce((y,w)=>w(y),t());return r=F2(m),n=r.cache.get,s=r.cache.set,o=u,u(d)}function u(d){const m=n(d);if(m)return m;const y=D2(d,r);return s(d,y),y}return function(){return o(M2.apply(null,arguments))}}const Gr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},bq=/^\[(?:([a-z-]+):)?(.+)\]$/i,$2=/^\d+\/\d+$/,W2=new Set(["px","full","screen"]),z2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,H2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Q2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wo=t=>ac(t)||W2.has(t)||$2.test(t),Ra=t=>Lc(t,"length",tD),ac=t=>!!t&&!Number.isNaN(Number(t)),k_=t=>Lc(t,"number",ac),jd=t=>!!t&&Number.isInteger(Number(t)),K2=t=>t.endsWith("%")&&ac(t.slice(0,-1)),ur=t=>bq.test(t),Aa=t=>z2.test(t),G2=new Set(["length","size","percentage"]),J2=t=>Lc(t,G2,wq),Z2=t=>Lc(t,"position",wq),Y2=new Set(["image","url"]),X2=t=>Lc(t,Y2,nD),eD=t=>Lc(t,"",rD),Fd=()=>!0,Lc=(t,e,r)=>{const n=bq.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},tD=t=>U2.test(t)&&!V2.test(t),wq=()=>!1,rD=t=>H2.test(t),nD=t=>Q2.test(t),iD=()=>{const t=Gr("colors"),e=Gr("spacing"),r=Gr("blur"),n=Gr("brightness"),s=Gr("borderColor"),o=Gr("borderRadius"),l=Gr("borderSpacing"),u=Gr("borderWidth"),d=Gr("contrast"),m=Gr("grayscale"),y=Gr("hueRotate"),w=Gr("invert"),E=Gr("gap"),k=Gr("gradientColorStops"),C=Gr("gradientColorStopPositions"),q=Gr("inset"),A=Gr("margin"),D=Gr("opacity"),F=Gr("padding"),$=Gr("saturate"),H=Gr("scale"),G=Gr("sepia"),B=Gr("skew"),Z=Gr("space"),ie=Gr("translate"),V=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ur,e],se=()=>[ur,e],Y=()=>["",Wo,Ra],me=()=>["auto",ac,ur],Te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],qe=()=>["solid","dashed","dotted","double","none"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",ur],Ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[ac,ur];return{cacheSize:500,separator:":",theme:{colors:[Fd],spacing:[Wo,Ra],blur:["none","",Aa,ur],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Aa,ur],borderSpacing:se(),borderWidth:Y(),contrast:Q(),grayscale:ge(),hueRotate:Q(),invert:ge(),gap:se(),gradientColorStops:[t],gradientColorStopPositions:[K2,Ra],inset:M(),margin:M(),opacity:Q(),padding:se(),saturate:Q(),scale:Q(),sepia:ge(),skew:Q(),space:se(),translate:se()},classGroups:{aspect:[{aspect:["auto","square","video",ur]}],container:["container"],columns:[{columns:[Aa]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Te(),ur]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[q]}],"inset-x":[{"inset-x":[q]}],"inset-y":[{"inset-y":[q]}],start:[{start:[q]}],end:[{end:[q]}],top:[{top:[q]}],right:[{right:[q]}],bottom:[{bottom:[q]}],left:[{left:[q]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jd,ur]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ur]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",jd,ur]}],"grid-cols":[{"grid-cols":[Fd]}],"col-start-end":[{col:["auto",{span:["full",jd,ur]},ur]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[Fd]}],"row-start-end":[{row:["auto",{span:[jd,ur]},ur]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ur]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ur]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",..._e()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._e(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._e(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ur,e]}],"min-w":[{"min-w":[ur,e,"min","max","fit"]}],"max-w":[{"max-w":[ur,e,"none","full","min","max","fit","prose",{screen:[Aa]},Aa]}],h:[{h:[ur,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ur,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ur,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ur,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Aa,Ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",k_]}],"font-family":[{font:[Fd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ur]}],"line-clamp":[{"line-clamp":["none",ac,k_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wo,ur]}],"list-image":[{"list-image":["none",ur]}],"list-style-type":[{list:["none","disc","decimal",ur]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...qe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wo,Ra]}],"underline-offset":[{"underline-offset":["auto",Wo,ur]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ur]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ur]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Te(),Z2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",J2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},X2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...qe(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:qe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...qe()]}],"outline-offset":[{"outline-offset":[Wo,ur]}],"outline-w":[{outline:[Wo,Ra]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[Wo,Ra]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Aa,eD]}],"shadow-color":[{shadow:[Fd]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...je(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":je()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Aa,ur]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[w]}],saturate:[{saturate:[$]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ur]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ur]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ur]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[jd,ur]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ur]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ur]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":se()}],"scroll-mx":[{"scroll-mx":se()}],"scroll-my":[{"scroll-my":se()}],"scroll-ms":[{"scroll-ms":se()}],"scroll-me":[{"scroll-me":se()}],"scroll-mt":[{"scroll-mt":se()}],"scroll-mr":[{"scroll-mr":se()}],"scroll-mb":[{"scroll-mb":se()}],"scroll-ml":[{"scroll-ml":se()}],"scroll-p":[{"scroll-p":se()}],"scroll-px":[{"scroll-px":se()}],"scroll-py":[{"scroll-py":se()}],"scroll-ps":[{"scroll-ps":se()}],"scroll-pe":[{"scroll-pe":se()}],"scroll-pt":[{"scroll-pt":se()}],"scroll-pr":[{"scroll-pr":se()}],"scroll-pb":[{"scroll-pb":se()}],"scroll-pl":[{"scroll-pl":se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ur]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wo,Ra,k_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xq=B2(iD),nw=new Proxy(()=>nw,{get:()=>nw});function fr({use:t,slot:e,variant:r,match:n=[],defaults:s}){return({css:o,...l}={})=>({slots:new Proxy({},{get:(u,d)=>({css:m,...y}={})=>{const w=[],E=t,k={...E?.()?.config.defaults,...s,...l,...y};w.push(E?.(k)?.slots[d]?.(k)),w.push(Array.isArray(e[d])?e[d]:[e[d]]);for(const[C,q]of Object.entries(k)){const A=r[C]?.[q];A&&w.push(A)}for(const C of n)Object.entries(C.if).every(([q,A])=>A===k[q])&&w.push(C.then?.[d]);return w.push(o?.[d]),w.push(m),xq(w)}}),config:{defaults:{...t?.()?.config.defaults,...s},values:{...t?.()?.config.defaults,...s,...l}},type:nw()})}const t0=xq;var I_,ME;function sD(){return ME||(ME=1,I_=Object),I_}var C_,BE;function oD(){return BE||(BE=1,C_=Error),C_}var q_,$E;function aD(){return $E||($E=1,q_=EvalError),q_}var T_,WE;function lD(){return WE||(WE=1,T_=RangeError),T_}var O_,zE;function uD(){return zE||(zE=1,O_=ReferenceError),O_}var R_,UE;function cD(){return UE||(UE=1,R_=SyntaxError),R_}var A_,VE;function Sq(){return VE||(VE=1,A_=TypeError),A_}var P_,HE;function dD(){return HE||(HE=1,P_=URIError),P_}var j_,QE;function fD(){return QE||(QE=1,j_=Math.abs),j_}var F_,KE;function hD(){return KE||(KE=1,F_=Math.floor),F_}var L_,GE;function pD(){return GE||(GE=1,L_=Math.max),L_}var D_,JE;function mD(){return JE||(JE=1,D_=Math.min),D_}var M_,ZE;function gD(){return ZE||(ZE=1,M_=Math.pow),M_}var B_,YE;function yD(){return YE||(YE=1,B_=Object.getOwnPropertyDescriptor),B_}var $_,XE;function Nq(){if(XE)return $_;XE=1;var t=yD();if(t)try{t([],"length")}catch{t=null}return $_=t,$_}var W_,e1;function vD(){if(e1)return W_;e1=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return W_=t,W_}var z_,t1;function Eq(){return t1||(t1=1,z_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==s||u.enumerable!==!0)return!1}return!0}),z_}var U_,r1;function _D(){if(r1)return U_;r1=1;var t=typeof Symbol<"u"&&Symbol,e=Eq();return U_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},U_}var V_,n1;function bD(){if(n1)return V_;n1=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(d,m){for(var y=[],w=0;w<d.length;w+=1)y[w]=d[w];for(var E=0;E<m.length;E+=1)y[E+d.length]=m[E];return y},o=function(d,m){for(var y=[],w=m,E=0;w<d.length;w+=1,E+=1)y[E]=d[w];return y},l=function(u,d){for(var m="",y=0;y<u.length;y+=1)m+=u[y],y+1<u.length&&(m+=d);return m};return V_=function(d){var m=this;if(typeof m!="function"||e.apply(m)!==n)throw new TypeError(t+m);for(var y=o(arguments,1),w,E=function(){if(this instanceof w){var D=m.apply(this,s(y,arguments));return Object(D)===D?D:this}return m.apply(d,s(y,arguments))},k=r(0,m.length-y.length),C=[],q=0;q<k;q++)C[q]="$"+q;if(w=Function("binder","return function ("+l(C,",")+"){ return binder.apply(this,arguments); }")(E),m.prototype){var A=function(){};A.prototype=m.prototype,w.prototype=new A,A.prototype=null}return w},V_}var H_,i1;function jg(){if(i1)return H_;i1=1;var t=bD();return H_=Function.prototype.bind||t,H_}var Q_,s1;function r0(){return s1||(s1=1,Q_=Function.prototype.call),Q_}var K_,o1;function kq(){return o1||(o1=1,K_=Function.prototype.apply),K_}var G_,a1;function wD(){return a1||(a1=1,G_=typeof Reflect<"u"&&Reflect&&Reflect.apply),G_}var J_,l1;function xD(){if(l1)return J_;l1=1;var t=jg(),e=kq(),r=r0(),n=wD();return J_=n||t.call(r,e),J_}var Z_,u1;function Iq(){if(u1)return Z_;u1=1;var t=jg(),e=Sq(),r=r0(),n=xD();return Z_=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return n(t,r,o)},Z_}var Y_,c1;function SD(){if(c1)return Y_;c1=1;var t=Iq(),e=Nq(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return Y_=n&&typeof n.get=="function"?t([n.get]):typeof o=="function"?function(u){return o(u==null?u:s(u))}:!1,Y_}var X_,d1;function ND(){if(d1)return X_;d1=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=jg();return X_=r.call(t,e),X_}var eb,f1;function ED(){if(f1)return eb;f1=1;var t,e=sD(),r=oD(),n=aD(),s=lD(),o=uD(),l=cD(),u=Sq(),d=dD(),m=fD(),y=hD(),w=pD(),E=mD(),k=gD(),C=Function,q=function(mt){try{return C('"use strict"; return ('+mt+").constructor;")()}catch{}},A=Nq(),D=vD(),F=function(){throw new u},$=A?function(){try{return arguments.callee,F}catch{try{return A(arguments,"callee").get}catch{return F}}}():F,H=_D()(),G=SD(),B=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||G,Z=kq(),ie=r0(),V={},ne=typeof Uint8Array>"u"||!B?t:B(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":H&&B?B([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&B?B(B([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H||!B?t:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H||!B?t:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&B?B(""[Symbol.iterator]()):t,"%Symbol%":H?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":$,"%TypedArray%":ne,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":ie,"%Function.prototype.apply%":Z,"%Object.defineProperty%":D,"%Math.abs%":m,"%Math.floor%":y,"%Math.max%":w,"%Math.min%":E,"%Math.pow%":k};if(B)try{null.error}catch(mt){var se=B(B(mt));M["%Error.prototype%"]=se}var Y=function mt(ft){var yt;if(ft==="%AsyncFunction%")yt=q("async function () {}");else if(ft==="%GeneratorFunction%")yt=q("function* () {}");else if(ft==="%AsyncGeneratorFunction%")yt=q("async function* () {}");else if(ft==="%AsyncGenerator%"){var jt=mt("%AsyncGeneratorFunction%");jt&&(yt=jt.prototype)}else if(ft==="%AsyncIteratorPrototype%"){var vt=mt("%AsyncGenerator%");vt&&B&&(yt=B(vt.prototype))}return M[ft]=yt,yt},me={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Te=jg(),qe=ND(),je=Te.call(ie,Array.prototype.concat),_e=Te.call(Z,Array.prototype.splice),ge=Te.call(ie,String.prototype.replace),Ee=Te.call(ie,String.prototype.slice),Q=Te.call(ie,RegExp.prototype.exec),Se=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,at=function(ft){var yt=Ee(ft,0,1),jt=Ee(ft,-1);if(yt==="%"&&jt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(jt==="%"&&yt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var vt=[];return ge(ft,Se,function(gt,Ot,qt,er){vt[vt.length]=qt?ge(er,lt,"$1"):Ot||gt}),vt},dt=function(ft,yt){var jt=ft,vt;if(qe(me,jt)&&(vt=me[jt],jt="%"+vt[0]+"%"),qe(M,jt)){var gt=M[jt];if(gt===V&&(gt=Y(jt)),typeof gt>"u"&&!yt)throw new u("intrinsic "+ft+" exists, but is not available. Please file an issue!");return{alias:vt,name:jt,value:gt}}throw new l("intrinsic "+ft+" does not exist!")};return eb=function(ft,yt){if(typeof ft!="string"||ft.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof yt!="boolean")throw new u('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,ft)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var jt=at(ft),vt=jt.length>0?jt[0]:"",gt=dt("%"+vt+"%",yt),Ot=gt.name,qt=gt.value,er=!1,Zt=gt.alias;Zt&&(vt=Zt[0],_e(jt,je([0,1],Zt)));for(var sr=1,mr=!0;sr<jt.length;sr+=1){var ae=jt[sr],ce=Ee(ae,0,1),ye=Ee(ae,-1);if((ce==='"'||ce==="'"||ce==="`"||ye==='"'||ye==="'"||ye==="`")&&ce!==ye)throw new l("property names with quotes must have matching quotes");if((ae==="constructor"||!mr)&&(er=!0),vt+="."+ae,Ot="%"+vt+"%",qe(M,Ot))qt=M[Ot];else if(qt!=null){if(!(ae in qt)){if(!yt)throw new u("base intrinsic for "+ft+" exists, but the property is not available.");return}if(A&&sr+1>=jt.length){var Oe=A(qt,ae);mr=!!Oe,mr&&"get"in Oe&&!("originalValue"in Oe.get)?qt=Oe.get:qt=qt[ae]}else mr=qe(qt,ae),qt=qt[ae];mr&&!er&&(M[Ot]=qt)}}return qt},eb}var tb,h1;function kD(){if(h1)return tb;h1=1;var t=ED(),e=Iq(),r=e([t("%String.prototype.indexOf%")]);return tb=function(s,o){var l=t(s,!!o);return typeof l=="function"&&r(s,".prototype.")>-1?e([l]):l},tb}var rb,p1;function ID(){if(p1)return rb;p1=1;var t=Eq();return rb=function(){return t()&&!!Symbol.toStringTag},rb}var nb,m1;function CD(){if(m1)return nb;m1=1;var t=kD(),e=t("String.prototype.valueOf"),r=function(u){try{return e(u),!0}catch{return!1}},n=t("Object.prototype.toString"),s="[object String]",o=ID()();return nb=function(u){return typeof u=="string"?!0:!u||typeof u!="object"?!1:o?r(u):n(u)===s},nb}var qD=CD();const TD=qc(qD),Xf=t=>TD(t),OD=(t,e,r={})=>{const n=[];return t.filter((o,l)=>{const u=r.regionLowerCase?o.toLowerCase():o;if(e.includes(u))return n.push({index:l,appLocale:u}),!0;const{isAvailable:d,appLocale:m}=RD(u,e,r);return d&&n.push({index:l,appLocale:r.regionLowerCase?m.toLowerCase():m}),d}).map((o,l)=>!n||n.length===0?o:n[l]?.appLocale)},RD=(t,e,r={})=>{r?.languageOnly||(r.languageOnly=!1);let n=t;return{isAvailable:e.some(o=>{if(!im()&&!r.languageOnly&&t.split("-")[1]===void 0)return!1;const l=im()?new Intl.Locale(t).minimize().language:t.split("-")[0],u=im()?new Intl.Locale(o).minimize().language:o.split("-")[0],d=l===u;return d&&(n=o),d}),appLocale:n}},AD=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(r=>t.regionLowerCase?r.toLowerCase():r)},im=()=>Intl&&"Locale"in Intl,PD=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const r=t.map(n=>{const s=n.split("-");if(e.languageOnly)return s[0];const o=im()?new Intl.Locale(n).maximize():{language:s[0],script:s.length===3?s[1]:void 0,region:s.length===3?s[2]:s[1]},{language:l,script:u}=o;let{region:d}=o;return e.regionLowerCase&&d&&(d=d.toLowerCase()),s.length>2?`${l}-${u}-${d}`:d?`${l}-${d}`:l});return[...new Set(r)]},jD=(t,e,r={})=>{r.regionLowerCase||(r.regionLowerCase=!1),r.languageOnly||(r.languageOnly=!1);const n=AD(r),s=PD([...n,t],r);return OD(s,e,r)[0]||t},FD=({available:t,fallback:e})=>jD(e,t,{languageOnly:!0});var ib={exports:{}};const LD={},DD=Object.freeze(Object.defineProperty({__proto__:null,default:LD},Symbol.toStringTag,{value:"Module"})),g1=lR(DD);var y1;function MD(){return y1||(y1=1,function(t){(function(){var e="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?n=Ab:s&&(n=self);var l=!n.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,u=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],y=[24,16,8,0],w=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],E=["hex","array","digest","arrayBuffer"],k=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),u&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var C=function(B,Z){return function(ie){return new $(Z,!0).update(ie)[B]()}},q=function(B){var Z=C("hex",B);o&&(Z=A(Z,B)),Z.create=function(){return new $(B)},Z.update=function(ne){return Z.create().update(ne)};for(var ie=0;ie<E.length;++ie){var V=E[ie];Z[V]=C(V,B)}return Z},A=function(B,Z){var ie=g1,V=g1.Buffer,ne=Z?"sha224":"sha256",M;V.from&&!n.JS_SHA256_NO_BUFFER_FROM?M=V.from:M=function(Y){return new V(Y)};var se=function(Y){if(typeof Y=="string")return ie.createHash(ne).update(Y,"utf8").digest("hex");if(Y==null)throw new Error(e);return Y.constructor===ArrayBuffer&&(Y=new Uint8Array(Y)),Array.isArray(Y)||ArrayBuffer.isView(Y)||Y.constructor===V?ie.createHash(ne).update(M(Y)).digest("hex"):B(Y)};return se},D=function(B,Z){return function(ie,V){return new H(ie,Z,!0).update(V)[B]()}},F=function(B){var Z=D("hex",B);Z.create=function(ne){return new H(ne,B)},Z.update=function(ne,M){return Z.create(ne).update(M)};for(var ie=0;ie<E.length;++ie){var V=E[ie];Z[V]=D(V,B)}return Z};function $(B,Z){Z?(k[0]=k[16]=k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=k[10]=k[11]=k[12]=k[13]=k[14]=k[15]=0,this.blocks=k):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}$.prototype.update=function(B){if(!this.finalized){var Z,ie=typeof B;if(ie!=="string"){if(ie==="object"){if(B===null)throw new Error(e);if(u&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!u||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);Z=!0}for(var V,ne=0,M,se=B.length,Y=this.blocks;ne<se;){if(this.hashed&&(this.hashed=!1,Y[0]=this.block,this.block=Y[16]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=Y[10]=Y[11]=Y[12]=Y[13]=Y[14]=Y[15]=0),Z)for(M=this.start;ne<se&&M<64;++ne)Y[M>>>2]|=B[ne]<<y[M++&3];else for(M=this.start;ne<se&&M<64;++ne)V=B.charCodeAt(ne),V<128?Y[M>>>2]|=V<<y[M++&3]:V<2048?(Y[M>>>2]|=(192|V>>>6)<<y[M++&3],Y[M>>>2]|=(128|V&63)<<y[M++&3]):V<55296||V>=57344?(Y[M>>>2]|=(224|V>>>12)<<y[M++&3],Y[M>>>2]|=(128|V>>>6&63)<<y[M++&3],Y[M>>>2]|=(128|V&63)<<y[M++&3]):(V=65536+((V&1023)<<10|B.charCodeAt(++ne)&1023),Y[M>>>2]|=(240|V>>>18)<<y[M++&3],Y[M>>>2]|=(128|V>>>12&63)<<y[M++&3],Y[M>>>2]|=(128|V>>>6&63)<<y[M++&3],Y[M>>>2]|=(128|V&63)<<y[M++&3]);this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.block=Y[16],this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,Z=this.lastByteIndex;B[16]=this.block,B[Z>>>2]|=m[Z&3],this.block=B[16],Z>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var B=this.h0,Z=this.h1,ie=this.h2,V=this.h3,ne=this.h4,M=this.h5,se=this.h6,Y=this.h7,me=this.blocks,Te,qe,je,_e,ge,Ee,Q,Se,lt,at,dt;for(Te=16;Te<64;++Te)ge=me[Te-15],qe=(ge>>>7|ge<<25)^(ge>>>18|ge<<14)^ge>>>3,ge=me[Te-2],je=(ge>>>17|ge<<15)^(ge>>>19|ge<<13)^ge>>>10,me[Te]=me[Te-16]+qe+me[Te-7]+je<<0;for(dt=Z&ie,Te=0;Te<64;Te+=4)this.first?(this.is224?(Se=300032,ge=me[0]-0x543c9a5b,Y=ge-0x8f1a6c7<<0,V=ge+0x170e9b5<<0):(Se=0x2a01a605,ge=me[0]-0xc881298,Y=ge-0x5ab00ac6<<0,V=ge+0x8909ae5<<0),this.first=!1):(qe=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),je=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),Se=B&Z,_e=Se^B&ie^dt,Q=ne&M^~ne&se,ge=Y+je+Q+w[Te]+me[Te],Ee=qe+_e,Y=V+ge<<0,V=ge+Ee<<0),qe=(V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10),je=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),lt=V&B,_e=lt^V&Z^Se,Q=Y&ne^~Y&M,ge=se+je+Q+w[Te+1]+me[Te+1],Ee=qe+_e,se=ie+ge<<0,ie=ge+Ee<<0,qe=(ie>>>2|ie<<30)^(ie>>>13|ie<<19)^(ie>>>22|ie<<10),je=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),at=ie&V,_e=at^ie&B^lt,Q=se&Y^~se&ne,ge=M+je+Q+w[Te+2]+me[Te+2],Ee=qe+_e,M=Z+ge<<0,Z=ge+Ee<<0,qe=(Z>>>2|Z<<30)^(Z>>>13|Z<<19)^(Z>>>22|Z<<10),je=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),dt=Z&ie,_e=dt^Z&V^at,Q=M&se^~M&Y,ge=ne+je+Q+w[Te+3]+me[Te+3],Ee=qe+_e,ne=B+ge<<0,B=ge+Ee<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+B<<0,this.h1=this.h1+Z<<0,this.h2=this.h2+ie<<0,this.h3=this.h3+V<<0,this.h4=this.h4+ne<<0,this.h5=this.h5+M<<0,this.h6=this.h6+se<<0,this.h7=this.h7+Y<<0},$.prototype.hex=function(){this.finalize();var B=this.h0,Z=this.h1,ie=this.h2,V=this.h3,ne=this.h4,M=this.h5,se=this.h6,Y=this.h7,me=d[B>>>28&15]+d[B>>>24&15]+d[B>>>20&15]+d[B>>>16&15]+d[B>>>12&15]+d[B>>>8&15]+d[B>>>4&15]+d[B&15]+d[Z>>>28&15]+d[Z>>>24&15]+d[Z>>>20&15]+d[Z>>>16&15]+d[Z>>>12&15]+d[Z>>>8&15]+d[Z>>>4&15]+d[Z&15]+d[ie>>>28&15]+d[ie>>>24&15]+d[ie>>>20&15]+d[ie>>>16&15]+d[ie>>>12&15]+d[ie>>>8&15]+d[ie>>>4&15]+d[ie&15]+d[V>>>28&15]+d[V>>>24&15]+d[V>>>20&15]+d[V>>>16&15]+d[V>>>12&15]+d[V>>>8&15]+d[V>>>4&15]+d[V&15]+d[ne>>>28&15]+d[ne>>>24&15]+d[ne>>>20&15]+d[ne>>>16&15]+d[ne>>>12&15]+d[ne>>>8&15]+d[ne>>>4&15]+d[ne&15]+d[M>>>28&15]+d[M>>>24&15]+d[M>>>20&15]+d[M>>>16&15]+d[M>>>12&15]+d[M>>>8&15]+d[M>>>4&15]+d[M&15]+d[se>>>28&15]+d[se>>>24&15]+d[se>>>20&15]+d[se>>>16&15]+d[se>>>12&15]+d[se>>>8&15]+d[se>>>4&15]+d[se&15];return this.is224||(me+=d[Y>>>28&15]+d[Y>>>24&15]+d[Y>>>20&15]+d[Y>>>16&15]+d[Y>>>12&15]+d[Y>>>8&15]+d[Y>>>4&15]+d[Y&15]),me},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var B=this.h0,Z=this.h1,ie=this.h2,V=this.h3,ne=this.h4,M=this.h5,se=this.h6,Y=this.h7,me=[B>>>24&255,B>>>16&255,B>>>8&255,B&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,se>>>24&255,se>>>16&255,se>>>8&255,se&255];return this.is224||me.push(Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255),me},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),Z=new DataView(B);return Z.setUint32(0,this.h0),Z.setUint32(4,this.h1),Z.setUint32(8,this.h2),Z.setUint32(12,this.h3),Z.setUint32(16,this.h4),Z.setUint32(20,this.h5),Z.setUint32(24,this.h6),this.is224||Z.setUint32(28,this.h7),B};function H(B,Z,ie){var V,ne=typeof B;if(ne==="string"){var M=[],se=B.length,Y=0,me;for(V=0;V<se;++V)me=B.charCodeAt(V),me<128?M[Y++]=me:me<2048?(M[Y++]=192|me>>>6,M[Y++]=128|me&63):me<55296||me>=57344?(M[Y++]=224|me>>>12,M[Y++]=128|me>>>6&63,M[Y++]=128|me&63):(me=65536+((me&1023)<<10|B.charCodeAt(++V)&1023),M[Y++]=240|me>>>18,M[Y++]=128|me>>>12&63,M[Y++]=128|me>>>6&63,M[Y++]=128|me&63);B=M}else if(ne==="object"){if(B===null)throw new Error(e);if(u&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!u||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);B.length>64&&(B=new $(Z,!0).update(B).array());var Te=[],qe=[];for(V=0;V<64;++V){var je=B[V]||0;Te[V]=92^je,qe[V]=54^je}$.call(this,Z,ie),this.update(qe),this.oKeyPad=Te,this.inner=!0,this.sharedMemory=ie}H.prototype=new $,H.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();$.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),$.prototype.finalize.call(this)}};var G=q();G.sha256=G,G.sha224=q(!0),G.sha256.hmac=F(),G.sha224.hmac=F(!0),l?t.exports=G:(n.sha256=G.sha256,n.sha224=G.sha224)})()}(ib)),ib.exports}var iw=MD();const BD=iw.sha224,Cq=({index:t,key:e,fallback:r})=>t[BD(e)]?.value??t[e]?.value??r??e,$D=({index:t,key:e,fallback:r})=>Cq({index:t,key:e,fallback:r}),WD=({index:t,key:e,fallback:r})=>Cq({index:t,key:e,fallback:r}),xr={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>$D({index:xr.index,key:t,fallback:e}),rich:(t,e)=>WD({index:xr.index,key:t,fallback:e})},qq={hash(t){return iw.sha224(t)},verify(t,e){return iw.sha224(t)===e}};var yr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of o)l[u]=s[u];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},t.find=(s,o)=>{for(const l of s)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(yr||(yr={}));var sw;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(sw||(sw={}));const Ct=yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Go=t=>{switch(typeof t){case"undefined":return Ct.undefined;case"string":return Ct.string;case"number":return isNaN(t)?Ct.nan:Ct.number;case"boolean":return Ct.boolean;case"function":return Ct.function;case"bigint":return Ct.bigint;case"symbol":return Ct.symbol;case"object":return Array.isArray(t)?Ct.array:t===null?Ct.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ct.promise:typeof Map<"u"&&t instanceof Map?Ct.map:typeof Set<"u"&&t instanceof Set?Ct.set:typeof Date<"u"&&t instanceof Date?Ct.date:Ct.object;default:return Ct.unknown}},it=yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),zD=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class os extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let u=n,d=0;for(;d<l.path.length;){const m=l.path[d];d===l.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(r(l))):u[m]=u[m]||{_errors:[]},u=u[m],d++}}};return s(this),n}static assert(e){if(!(e instanceof os))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}os.create=t=>new os(t);const wc=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===Ct.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,yr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${yr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${yr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${yr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:yr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,yr.assertNever(t)}return{message:r}};let Tq=wc;function UD(t){Tq=t}function Dm(){return Tq}const Mm=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],l={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let u="";const d=n.filter(m=>!!m).slice().reverse();for(const m of d)u=m(l,{data:e,defaultError:u}).message;return{...s,path:o,message:u}},VD=[];function St(t,e){const r=Dm(),n=Mm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===wc?void 0:wc].filter(s=>!!s)});t.common.issues.push(n)}class oi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Gt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const o=await s.key,l=await s.value;n.push({key:o,value:l})}return oi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return Gt;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(n[o.value]=l.value)}return{status:e.value,value:n}}}const Gt=Object.freeze({status:"aborted"}),Ju=t=>({status:"dirty",value:t}),wi=t=>({status:"valid",value:t}),ow=t=>t.status==="aborted",aw=t=>t.status==="dirty",eu=t=>t.status==="valid",vf=t=>typeof Promise<"u"&&t instanceof Promise;function Bm(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Oq(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Bt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Bt||(Bt={}));var Ud,Vd;class wo{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const v1=(t,e)=>{if(eu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new os(t.common.issues);return this._error=r,this._error}}};function lr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{var d,m;const{message:y}=t;return l.code==="invalid_enum_value"?{message:y??u.defaultError}:typeof u.data>"u"?{message:(d=y??n)!==null&&d!==void 0?d:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(m=y??r)!==null&&m!==void 0?m:u.defaultError}},description:s}}class dr{get description(){return this._def.description}_getType(e){return Go(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Go(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new oi,ctx:{common:e.parent.common,data:e.data,parsedType:Go(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(vf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Go(e)},o=this._parseSync({data:e,path:s.path,parent:s});return v1(s,o)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Go(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:s});return eu(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((n=(r=o?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(o=>eu(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Go(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await (vf(s)?s:Promise.resolve(s));return v1(n,o)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const l=e(s),u=()=>o.addIssue({code:it.custom,...n(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Gs({schema:this,typeName:Kt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _o.create(this,this._def)}nullable(){return il.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qs.create(this)}promise(){return Sc.create(this,this._def)}or(e){return xf.create([this,e],this._def)}and(e){return Sf.create(this,e,this._def)}transform(e){return new Gs({...lr(this._def),schema:this,typeName:Kt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Cf({...lr(this._def),innerType:this,defaultValue:r,typeName:Kt.ZodDefault})}brand(){return new n0({typeName:Kt.ZodBranded,type:this,...lr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new qf({...lr(this._def),innerType:this,catchValue:r,typeName:Kt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return eh.create(this,e)}readonly(){return Tf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HD=/^c[^\s-]{8,}$/i,QD=/^[0-9a-z]+$/,KD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,GD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,JD=/^[a-z0-9_-]{21}$/i,ZD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,YD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sb;const tM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Rq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aM=new RegExp(`^${Rq}$`);function Aq(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function lM(t){return new RegExp(`^${Aq(t)}$`)}function Pq(t){let e=`${Rq}T${Aq(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function uM(t,e){return!!((e==="v4"||!e)&&tM.test(t)||(e==="v6"||!e)&&nM.test(t))}function cM(t,e){if(!ZD.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function dM(t,e){return!!((e==="v4"||!e)&&rM.test(t)||(e==="v6"||!e)&&iM.test(t))}class Hs extends dr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ct.string){const o=this._getOrReturnCtx(e);return St(o,{code:it.invalid_type,expected:Ct.string,received:o.parsedType}),Gt}const n=new oi;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),St(s,{code:it.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),St(s,{code:it.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,u=e.data.length<o.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?St(s,{code:it.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&St(s,{code:it.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")XD.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"email",code:it.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")sb||(sb=new RegExp(eM,"u")),sb.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"emoji",code:it.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")GD.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"uuid",code:it.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")JD.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"nanoid",code:it.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")HD.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"cuid",code:it.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")QD.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"cuid2",code:it.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")KD.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"ulid",code:it.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),St(s,{validation:"url",code:it.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"regex",code:it.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),St(s,{code:it.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),St(s,{code:it.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),St(s,{code:it.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?Pq(o).test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{code:it.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?aM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{code:it.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?lM(o).test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{code:it.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?YD.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"duration",code:it.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?uM(e.data,o.version)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"ip",code:it.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?cM(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"jwt",code:it.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?dM(e.data,o.version)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"cidr",code:it.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?sM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"base64",code:it.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?oM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"base64url",code:it.invalid_string,message:o.message}),n.dirty()):yr.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:it.invalid_string,...Bt.errToObj(n)})}_addCheck(e){return new Hs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Bt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Bt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Bt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Bt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Bt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Bt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Bt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Bt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Bt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Bt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Bt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Bt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Bt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Bt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Bt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Bt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Bt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Bt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Bt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Bt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Bt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Bt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Bt.errToObj(r)})}nonempty(e){return this.min(1,Bt.errToObj(e))}trim(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Hs.create=t=>{var e;return new Hs({checks:[],typeName:Kt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...lr(t)})};function fM(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(t.toFixed(s).replace(".","")),l=parseInt(e.toFixed(s).replace(".",""));return o%l/Math.pow(10,s)}class tl extends dr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ct.number){const o=this._getOrReturnCtx(e);return St(o,{code:it.invalid_type,expected:Ct.number,received:o.parsedType}),Gt}let n;const s=new oi;for(const o of this._def.checks)o.kind==="int"?yr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),St(n,{code:it.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),St(n,{code:it.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),St(n,{code:it.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?fM(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),St(n,{code:it.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),St(n,{code:it.not_finite,message:o.message}),s.dirty()):yr.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Bt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Bt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Bt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Bt.toString(r))}setLimit(e,r,n,s){return new tl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Bt.toString(s)}]})}_addCheck(e){return new tl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Bt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Bt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Bt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Bt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Bt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Bt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}tl.create=t=>new tl({checks:[],typeName:Kt.ZodNumber,coerce:t?.coerce||!1,...lr(t)});class rl extends dr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ct.bigint)return this._getInvalidInput(e);let n;const s=new oi;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),St(n,{code:it.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),St(n,{code:it.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),St(n,{code:it.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):yr.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return St(r,{code:it.invalid_type,expected:Ct.bigint,received:r.parsedType}),Gt}gte(e,r){return this.setLimit("min",e,!0,Bt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Bt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Bt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Bt.toString(r))}setLimit(e,r,n,s){return new rl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Bt.toString(s)}]})}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Bt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Bt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}rl.create=t=>{var e;return new rl({checks:[],typeName:Kt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...lr(t)})};class _f extends dr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ct.boolean){const n=this._getOrReturnCtx(e);return St(n,{code:it.invalid_type,expected:Ct.boolean,received:n.parsedType}),Gt}return wi(e.data)}}_f.create=t=>new _f({typeName:Kt.ZodBoolean,coerce:t?.coerce||!1,...lr(t)});class tu extends dr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ct.date){const o=this._getOrReturnCtx(e);return St(o,{code:it.invalid_type,expected:Ct.date,received:o.parsedType}),Gt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return St(o,{code:it.invalid_date}),Gt}const n=new oi;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),St(s,{code:it.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),St(s,{code:it.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):yr.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tu({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Bt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Bt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}tu.create=t=>new tu({checks:[],coerce:t?.coerce||!1,typeName:Kt.ZodDate,...lr(t)});class $m extends dr{_parse(e){if(this._getType(e)!==Ct.symbol){const n=this._getOrReturnCtx(e);return St(n,{code:it.invalid_type,expected:Ct.symbol,received:n.parsedType}),Gt}return wi(e.data)}}$m.create=t=>new $m({typeName:Kt.ZodSymbol,...lr(t)});class bf extends dr{_parse(e){if(this._getType(e)!==Ct.undefined){const n=this._getOrReturnCtx(e);return St(n,{code:it.invalid_type,expected:Ct.undefined,received:n.parsedType}),Gt}return wi(e.data)}}bf.create=t=>new bf({typeName:Kt.ZodUndefined,...lr(t)});class wf extends dr{_parse(e){if(this._getType(e)!==Ct.null){const n=this._getOrReturnCtx(e);return St(n,{code:it.invalid_type,expected:Ct.null,received:n.parsedType}),Gt}return wi(e.data)}}wf.create=t=>new wf({typeName:Kt.ZodNull,...lr(t)});class xc extends dr{constructor(){super(...arguments),this._any=!0}_parse(e){return wi(e.data)}}xc.create=t=>new xc({typeName:Kt.ZodAny,...lr(t)});class Jl extends dr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return wi(e.data)}}Jl.create=t=>new Jl({typeName:Kt.ZodUnknown,...lr(t)});class ra extends dr{_parse(e){const r=this._getOrReturnCtx(e);return St(r,{code:it.invalid_type,expected:Ct.never,received:r.parsedType}),Gt}}ra.create=t=>new ra({typeName:Kt.ZodNever,...lr(t)});class Wm extends dr{_parse(e){if(this._getType(e)!==Ct.undefined){const n=this._getOrReturnCtx(e);return St(n,{code:it.invalid_type,expected:Ct.void,received:n.parsedType}),Gt}return wi(e.data)}}Wm.create=t=>new Wm({typeName:Kt.ZodVoid,...lr(t)});class Qs extends dr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Ct.array)return St(r,{code:it.invalid_type,expected:Ct.array,received:r.parsedType}),Gt;if(s.exactLength!==null){const l=r.data.length>s.exactLength.value,u=r.data.length<s.exactLength.value;(l||u)&&(St(r,{code:l?it.too_big:it.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(St(r,{code:it.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(St(r,{code:it.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,u)=>s.type._parseAsync(new wo(r,l,r.path,u)))).then(l=>oi.mergeArray(n,l));const o=[...r.data].map((l,u)=>s.type._parseSync(new wo(r,l,r.path,u)));return oi.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new Qs({...this._def,minLength:{value:e,message:Bt.toString(r)}})}max(e,r){return new Qs({...this._def,maxLength:{value:e,message:Bt.toString(r)}})}length(e,r){return new Qs({...this._def,exactLength:{value:e,message:Bt.toString(r)}})}nonempty(e){return this.min(1,e)}}Qs.create=(t,e)=>new Qs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Kt.ZodArray,...lr(e)});function Hu(t){if(t instanceof un){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=_o.create(Hu(n))}return new un({...t._def,shape:()=>e})}else return t instanceof Qs?new Qs({...t._def,type:Hu(t.element)}):t instanceof _o?_o.create(Hu(t.unwrap())):t instanceof il?il.create(Hu(t.unwrap())):t instanceof xo?xo.create(t.items.map(e=>Hu(e))):t}class un extends dr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=yr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ct.object){const m=this._getOrReturnCtx(e);return St(m,{code:it.invalid_type,expected:Ct.object,received:m.parsedType}),Gt}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof ra&&this._def.unknownKeys==="strip"))for(const m in s.data)l.includes(m)||u.push(m);const d=[];for(const m of l){const y=o[m],w=s.data[m];d.push({key:{status:"valid",value:m},value:y._parse(new wo(s,w,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof ra){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of u)d.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(m==="strict")u.length>0&&(St(s,{code:it.unrecognized_keys,keys:u}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of u){const w=s.data[y];d.push({key:{status:"valid",value:y},value:m._parse(new wo(s,w,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of d){const w=await y.key,E=await y.value;m.push({key:w,value:E,alwaysSet:y.alwaysSet})}return m}).then(m=>oi.mergeObjectSync(n,m)):oi.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return Bt.errToObj,new un({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,o,l,u;const d=(l=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=Bt.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new un({...this._def,unknownKeys:"strip"})}passthrough(){return new un({...this._def,unknownKeys:"passthrough"})}extend(e){return new un({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new un({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Kt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new un({...this._def,catchall:e})}pick(e){const r={};return yr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new un({...this._def,shape:()=>r})}omit(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new un({...this._def,shape:()=>r})}deepPartial(){return Hu(this)}partial(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new un({...this._def,shape:()=>r})}required(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof _o;)o=o._def.innerType;r[n]=o}}),new un({...this._def,shape:()=>r})}keyof(){return jq(yr.objectKeys(this.shape))}}un.create=(t,e)=>new un({shape:()=>t,unknownKeys:"strip",catchall:ra.create(),typeName:Kt.ZodObject,...lr(e)});un.strictCreate=(t,e)=>new un({shape:()=>t,unknownKeys:"strict",catchall:ra.create(),typeName:Kt.ZodObject,...lr(e)});un.lazycreate=(t,e)=>new un({shape:t,unknownKeys:"strip",catchall:ra.create(),typeName:Kt.ZodObject,...lr(e)});class xf extends dr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const l=o.map(u=>new os(u.ctx.common.issues));return St(r,{code:it.invalid_union,unionErrors:l}),Gt}if(r.common.async)return Promise.all(n.map(async o=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(s);{let o;const l=[];for(const d of n){const m={...r,common:{...r.common,issues:[]},parent:null},y=d._parseSync({data:r.data,path:r.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!o&&(o={result:y,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const u=l.map(d=>new os(d));return St(r,{code:it.invalid_union,unionErrors:u}),Gt}}get options(){return this._def.options}}xf.create=(t,e)=>new xf({options:t,typeName:Kt.ZodUnion,...lr(e)});const Ho=t=>t instanceof Ef?Ho(t.schema):t instanceof Gs?Ho(t.innerType()):t instanceof kf?[t.value]:t instanceof nl?t.options:t instanceof If?yr.objectValues(t.enum):t instanceof Cf?Ho(t._def.innerType):t instanceof bf?[void 0]:t instanceof wf?[null]:t instanceof _o?[void 0,...Ho(t.unwrap())]:t instanceof il?[null,...Ho(t.unwrap())]:t instanceof n0||t instanceof Tf?Ho(t.unwrap()):t instanceof qf?Ho(t._def.innerType):[];class Fg extends dr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.object)return St(r,{code:it.invalid_type,expected:Ct.object,received:r.parsedType}),Gt;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(St(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const o of r){const l=Ho(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,o)}}return new Fg({typeName:Kt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...lr(n)})}}function lw(t,e){const r=Go(t),n=Go(e);if(t===e)return{valid:!0,data:t};if(r===Ct.object&&n===Ct.object){const s=yr.objectKeys(e),o=yr.objectKeys(t).filter(u=>s.indexOf(u)!==-1),l={...t,...e};for(const u of o){const d=lw(t[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(r===Ct.array&&n===Ct.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const l=t[o],u=e[o],d=lw(l,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return r===Ct.date&&n===Ct.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Sf extends dr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(o,l)=>{if(ow(o)||ow(l))return Gt;const u=lw(o.value,l.value);return u.valid?((aw(o)||aw(l))&&r.dirty(),{status:r.value,value:u.data}):(St(n,{code:it.invalid_intersection_types}),Gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Sf.create=(t,e,r)=>new Sf({left:t,right:e,typeName:Kt.ZodIntersection,...lr(r)});class xo extends dr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.array)return St(n,{code:it.invalid_type,expected:Ct.array,received:n.parsedType}),Gt;if(n.data.length<this._def.items.length)return St(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Gt;!this._def.rest&&n.data.length>this._def.items.length&&(St(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new wo(n,l,n.path,u)):null}).filter(l=>!!l);return n.common.async?Promise.all(o).then(l=>oi.mergeArray(r,l)):oi.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new xo({...this._def,rest:e})}}xo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xo({items:t,typeName:Kt.ZodTuple,rest:null,...lr(e)})};class Nf extends dr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.object)return St(n,{code:it.invalid_type,expected:Ct.object,received:n.parsedType}),Gt;const s=[],o=this._def.keyType,l=this._def.valueType;for(const u in n.data)s.push({key:o._parse(new wo(n,u,n.path,u)),value:l._parse(new wo(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?oi.mergeObjectAsync(r,s):oi.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof dr?new Nf({keyType:e,valueType:r,typeName:Kt.ZodRecord,...lr(n)}):new Nf({keyType:Hs.create(),valueType:e,typeName:Kt.ZodRecord,...lr(r)})}}class zm extends dr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.map)return St(n,{code:it.invalid_type,expected:Ct.map,received:n.parsedType}),Gt;const s=this._def.keyType,o=this._def.valueType,l=[...n.data.entries()].map(([u,d],m)=>({key:s._parse(new wo(n,u,n.path,[m,"key"])),value:o._parse(new wo(n,d,n.path,[m,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const m=await d.key,y=await d.value;if(m.status==="aborted"||y.status==="aborted")return Gt;(m.status==="dirty"||y.status==="dirty")&&r.dirty(),u.set(m.value,y.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of l){const m=d.key,y=d.value;if(m.status==="aborted"||y.status==="aborted")return Gt;(m.status==="dirty"||y.status==="dirty")&&r.dirty(),u.set(m.value,y.value)}return{status:r.value,value:u}}}}zm.create=(t,e,r)=>new zm({valueType:e,keyType:t,typeName:Kt.ZodMap,...lr(r)});class ru extends dr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.set)return St(n,{code:it.invalid_type,expected:Ct.set,received:n.parsedType}),Gt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(St(n,{code:it.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(St(n,{code:it.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function l(d){const m=new Set;for(const y of d){if(y.status==="aborted")return Gt;y.status==="dirty"&&r.dirty(),m.add(y.value)}return{status:r.value,value:m}}const u=[...n.data.values()].map((d,m)=>o._parse(new wo(n,d,n.path,m)));return n.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,r){return new ru({...this._def,minSize:{value:e,message:Bt.toString(r)}})}max(e,r){return new ru({...this._def,maxSize:{value:e,message:Bt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ru.create=(t,e)=>new ru({valueType:t,minSize:null,maxSize:null,typeName:Kt.ZodSet,...lr(e)});class lc extends dr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.function)return St(r,{code:it.invalid_type,expected:Ct.function,received:r.parsedType}),Gt;function n(u,d){return Mm({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Dm(),wc].filter(m=>!!m),issueData:{code:it.invalid_arguments,argumentsError:d}})}function s(u,d){return Mm({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Dm(),wc].filter(m=>!!m),issueData:{code:it.invalid_return_type,returnTypeError:d}})}const o={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Sc){const u=this;return wi(async function(...d){const m=new os([]),y=await u._def.args.parseAsync(d,o).catch(k=>{throw m.addIssue(n(d,k)),m}),w=await Reflect.apply(l,this,y);return await u._def.returns._def.type.parseAsync(w,o).catch(k=>{throw m.addIssue(s(w,k)),m})})}else{const u=this;return wi(function(...d){const m=u._def.args.safeParse(d,o);if(!m.success)throw new os([n(d,m.error)]);const y=Reflect.apply(l,this,m.data),w=u._def.returns.safeParse(y,o);if(!w.success)throw new os([s(y,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new lc({...this._def,args:xo.create(e).rest(Jl.create())})}returns(e){return new lc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new lc({args:e||xo.create([]).rest(Jl.create()),returns:r||Jl.create(),typeName:Kt.ZodFunction,...lr(n)})}}class Ef extends dr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ef.create=(t,e)=>new Ef({getter:t,typeName:Kt.ZodLazy,...lr(e)});class kf extends dr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return St(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),Gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}kf.create=(t,e)=>new kf({value:t,typeName:Kt.ZodLiteral,...lr(e)});function jq(t,e){return new nl({values:t,typeName:Kt.ZodEnum,...lr(e)})}class nl extends dr{constructor(){super(...arguments),Ud.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return St(r,{expected:yr.joinValues(n),received:r.parsedType,code:it.invalid_type}),Gt}if(Bm(this,Ud)||Oq(this,Ud,new Set(this._def.values)),!Bm(this,Ud).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return St(r,{received:r.data,code:it.invalid_enum_value,options:n}),Gt}return wi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return nl.create(e,{...this._def,...r})}exclude(e,r=this._def){return nl.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ud=new WeakMap;nl.create=jq;class If extends dr{constructor(){super(...arguments),Vd.set(this,void 0)}_parse(e){const r=yr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ct.string&&n.parsedType!==Ct.number){const s=yr.objectValues(r);return St(n,{expected:yr.joinValues(s),received:n.parsedType,code:it.invalid_type}),Gt}if(Bm(this,Vd)||Oq(this,Vd,new Set(yr.getValidEnumValues(this._def.values))),!Bm(this,Vd).has(e.data)){const s=yr.objectValues(r);return St(n,{received:n.data,code:it.invalid_enum_value,options:s}),Gt}return wi(e.data)}get enum(){return this._def.values}}Vd=new WeakMap;If.create=(t,e)=>new If({values:t,typeName:Kt.ZodNativeEnum,...lr(e)});class Sc extends dr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.promise&&r.common.async===!1)return St(r,{code:it.invalid_type,expected:Ct.promise,received:r.parsedType}),Gt;const n=r.parsedType===Ct.promise?r.data:Promise.resolve(r.data);return wi(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Sc.create=(t,e)=>new Sc({type:t,typeName:Kt.ZodPromise,...lr(e)});class Gs extends dr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:l=>{St(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(n.data,o);if(n.common.async)return Promise.resolve(l).then(async u=>{if(r.value==="aborted")return Gt;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?Gt:d.status==="dirty"||r.value==="dirty"?Ju(d.value):d});{if(r.value==="aborted")return Gt;const u=this._def.schema._parseSync({data:l,path:n.path,parent:n});return u.status==="aborted"?Gt:u.status==="dirty"||r.value==="dirty"?Ju(u.value):u}}if(s.type==="refinement"){const l=u=>{const d=s.refinement(u,o);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Gt:(u.status==="dirty"&&r.dirty(),l(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Gt:(u.status==="dirty"&&r.dirty(),l(u.value).then(()=>({status:r.value,value:u.value}))))}if(s.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!eu(l))return l;const u=s.transform(l.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>eu(l)?Promise.resolve(s.transform(l.value,o)).then(u=>({status:r.value,value:u})):l);yr.assertNever(s)}}Gs.create=(t,e,r)=>new Gs({schema:t,typeName:Kt.ZodEffects,effect:e,...lr(r)});Gs.createWithPreprocess=(t,e,r)=>new Gs({schema:e,effect:{type:"preprocess",transform:t},typeName:Kt.ZodEffects,...lr(r)});class _o extends dr{_parse(e){return this._getType(e)===Ct.undefined?wi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_o.create=(t,e)=>new _o({innerType:t,typeName:Kt.ZodOptional,...lr(e)});class il extends dr{_parse(e){return this._getType(e)===Ct.null?wi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}il.create=(t,e)=>new il({innerType:t,typeName:Kt.ZodNullable,...lr(e)});class Cf extends dr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ct.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Cf.create=(t,e)=>new Cf({innerType:t,typeName:Kt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...lr(e)});class qf extends dr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return vf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new os(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new os(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}qf.create=(t,e)=>new qf({innerType:t,typeName:Kt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...lr(e)});class Um extends dr{_parse(e){if(this._getType(e)!==Ct.nan){const n=this._getOrReturnCtx(e);return St(n,{code:it.invalid_type,expected:Ct.nan,received:n.parsedType}),Gt}return{status:"valid",value:e.data}}}Um.create=t=>new Um({typeName:Kt.ZodNaN,...lr(t)});const hM=Symbol("zod_brand");class n0 extends dr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class eh extends dr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Gt:o.status==="dirty"?(r.dirty(),Ju(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Gt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new eh({in:e,out:r,typeName:Kt.ZodPipeline})}}class Tf extends dr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(eu(s)&&(s.value=Object.freeze(s.value)),s);return vf(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Tf.create=(t,e)=>new Tf({innerType:t,typeName:Kt.ZodReadonly,...lr(e)});function Fq(t,e={},r){return t?xc.create().superRefine((n,s)=>{var o,l;if(!t(n)){const u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,d=(l=(o=u.fatal)!==null&&o!==void 0?o:r)!==null&&l!==void 0?l:!0,m=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...m,fatal:d})}}):xc.create()}const pM={object:un.lazycreate};var Kt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Kt||(Kt={}));const mM=(t,e={message:`Input not instance of ${t.name}`})=>Fq(r=>r instanceof t,e),Lq=Hs.create,Dq=tl.create,gM=Um.create,yM=rl.create,Mq=_f.create,vM=tu.create,_M=$m.create,bM=bf.create,wM=wf.create,xM=xc.create,SM=Jl.create,NM=ra.create,EM=Wm.create,kM=Qs.create,IM=un.create,CM=un.strictCreate,qM=xf.create,TM=Fg.create,OM=Sf.create,RM=xo.create,AM=Nf.create,PM=zm.create,jM=ru.create,FM=lc.create,LM=Ef.create,DM=kf.create,MM=nl.create,BM=If.create,$M=Sc.create,_1=Gs.create,WM=_o.create,zM=il.create,UM=Gs.createWithPreprocess,VM=eh.create,HM=()=>Lq().optional(),QM=()=>Dq().optional(),KM=()=>Mq().optional(),GM={string:t=>Hs.create({...t,coerce:!0}),number:t=>tl.create({...t,coerce:!0}),boolean:t=>_f.create({...t,coerce:!0}),bigint:t=>rl.create({...t,coerce:!0}),date:t=>tu.create({...t,coerce:!0})},JM=Gt;var ue=Object.freeze({__proto__:null,defaultErrorMap:wc,setErrorMap:UD,getErrorMap:Dm,makeIssue:Mm,EMPTY_PATH:VD,addIssueToContext:St,ParseStatus:oi,INVALID:Gt,DIRTY:Ju,OK:wi,isAborted:ow,isDirty:aw,isValid:eu,isAsync:vf,get util(){return yr},get objectUtil(){return sw},ZodParsedType:Ct,getParsedType:Go,ZodType:dr,datetimeRegex:Pq,ZodString:Hs,ZodNumber:tl,ZodBigInt:rl,ZodBoolean:_f,ZodDate:tu,ZodSymbol:$m,ZodUndefined:bf,ZodNull:wf,ZodAny:xc,ZodUnknown:Jl,ZodNever:ra,ZodVoid:Wm,ZodArray:Qs,ZodObject:un,ZodUnion:xf,ZodDiscriminatedUnion:Fg,ZodIntersection:Sf,ZodTuple:xo,ZodRecord:Nf,ZodMap:zm,ZodSet:ru,ZodFunction:lc,ZodLazy:Ef,ZodLiteral:kf,ZodEnum:nl,ZodNativeEnum:If,ZodPromise:Sc,ZodEffects:Gs,ZodTransformer:Gs,ZodOptional:_o,ZodNullable:il,ZodDefault:Cf,ZodCatch:qf,ZodNaN:Um,BRAND:hM,ZodBranded:n0,ZodPipeline:eh,ZodReadonly:Tf,custom:Fq,Schema:dr,ZodSchema:dr,late:pM,get ZodFirstPartyTypeKind(){return Kt},coerce:GM,any:xM,array:kM,bigint:yM,boolean:Mq,date:vM,discriminatedUnion:TM,effect:_1,enum:MM,function:FM,instanceof:mM,intersection:OM,lazy:LM,literal:DM,map:PM,nan:gM,nativeEnum:BM,never:NM,null:wM,nullable:zM,number:Dq,object:IM,oboolean:KM,onumber:QM,optional:WM,ostring:HM,pipeline:VM,preprocess:UM,promise:$M,record:AM,set:jM,strictObject:CM,string:Lq,symbol:_M,transformer:_1,tuple:RM,undefined:bM,union:qM,unknown:SM,void:EM,NEVER:JM,ZodIssueCode:it,quotelessJson:zD,ZodError:os});const ZM=ue.object({page:ue.number().gte(0,"Page must be greater than zero"),size:ue.number().gte(1,"Page size must be greater than one to get any data")}),Bi=ue.object({id:ue.string().min(1)}),i0=ue.object({message:ue.string()}),$i=ue.object({id:ue.string().optional(),idIn:ue.array(ue.string()).optional(),fulltext:ue.string().optional()}),YM=ue.enum(["asc","desc"]),XM=Bi.merge(ue.object({code:ue.string().min(1),label:ue.string().min(1),group:ue.string().nullish(),sort:ue.number().default(0)}));var Du={},zo={},zr={},Ms={},b1;function Bq(){if(b1)return Ms;b1=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.anumber=t,Ms.number=t,Ms.abytes=r,Ms.bytes=r,Ms.ahash=n,Ms.aexists=s,Ms.aoutput=o;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error("positive integer expected, got "+u)}function e(u){return u instanceof Uint8Array||ArrayBuffer.isView(u)&&u.constructor.name==="Uint8Array"}function r(u,...d){if(!e(u))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(u.length))throw new Error("Uint8Array expected of length "+d+", got length="+u.length)}function n(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}function s(u,d=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(d&&u.finished)throw new Error("Hash#digest() has already been called")}function o(u,d){r(u);const m=d.outputLen;if(u.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:r,hash:n,exists:s,output:o};return Ms.default=l,Ms}var tr={},w1;function eB(){if(w1)return tr;w1=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.add5L=tr.add5H=tr.add4H=tr.add4L=tr.add3H=tr.add3L=tr.rotlBL=tr.rotlBH=tr.rotlSL=tr.rotlSH=tr.rotr32L=tr.rotr32H=tr.rotrBL=tr.rotrBH=tr.rotrSL=tr.rotrSH=tr.shrSL=tr.shrSH=tr.toBig=void 0,tr.fromBig=r,tr.split=n,tr.add=D;const t=BigInt(2**32-1),e=BigInt(32);function r(V,ne=!1){return ne?{h:Number(V&t),l:Number(V>>e&t)}:{h:Number(V>>e&t)|0,l:Number(V&t)|0}}function n(V,ne=!1){let M=new Uint32Array(V.length),se=new Uint32Array(V.length);for(let Y=0;Y<V.length;Y++){const{h:me,l:Te}=r(V[Y],ne);[M[Y],se[Y]]=[me,Te]}return[M,se]}const s=(V,ne)=>BigInt(V>>>0)<<e|BigInt(ne>>>0);tr.toBig=s;const o=(V,ne,M)=>V>>>M;tr.shrSH=o;const l=(V,ne,M)=>V<<32-M|ne>>>M;tr.shrSL=l;const u=(V,ne,M)=>V>>>M|ne<<32-M;tr.rotrSH=u;const d=(V,ne,M)=>V<<32-M|ne>>>M;tr.rotrSL=d;const m=(V,ne,M)=>V<<64-M|ne>>>M-32;tr.rotrBH=m;const y=(V,ne,M)=>V>>>M-32|ne<<64-M;tr.rotrBL=y;const w=(V,ne)=>ne;tr.rotr32H=w;const E=(V,ne)=>V;tr.rotr32L=E;const k=(V,ne,M)=>V<<M|ne>>>32-M;tr.rotlSH=k;const C=(V,ne,M)=>ne<<M|V>>>32-M;tr.rotlSL=C;const q=(V,ne,M)=>ne<<M-32|V>>>64-M;tr.rotlBH=q;const A=(V,ne,M)=>V<<M-32|ne>>>64-M;tr.rotlBL=A;function D(V,ne,M,se){const Y=(ne>>>0)+(se>>>0);return{h:V+M+(Y/2**32|0)|0,l:Y|0}}const F=(V,ne,M)=>(V>>>0)+(ne>>>0)+(M>>>0);tr.add3L=F;const $=(V,ne,M,se)=>ne+M+se+(V/2**32|0)|0;tr.add3H=$;const H=(V,ne,M,se)=>(V>>>0)+(ne>>>0)+(M>>>0)+(se>>>0);tr.add4L=H;const G=(V,ne,M,se,Y)=>ne+M+se+Y+(V/2**32|0)|0;tr.add4H=G;const B=(V,ne,M,se,Y)=>(V>>>0)+(ne>>>0)+(M>>>0)+(se>>>0)+(Y>>>0);tr.add5L=B;const Z=(V,ne,M,se,Y,me)=>ne+M+se+Y+me+(V/2**32|0)|0;tr.add5H=Z;const ie={fromBig:r,split:n,toBig:s,shrSH:o,shrSL:l,rotrSH:u,rotrSL:d,rotrBH:m,rotrBL:y,rotr32H:w,rotr32L:E,rotlSH:k,rotlSL:C,rotlBH:q,rotlBL:A,add:D,add3L:F,add3H:$,add4L:H,add4H:G,add5H:Z,add5L:B};return tr.default=ie,tr}var ob={},Ld={},x1;function tB(){return x1||(x1=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.crypto=void 0,Ld.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Ld}var S1;function rB(){return S1||(S1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=n,t.byteSwap32=y,t.bytesToHex=E,t.hexToBytes=q,t.asyncLoop=D,t.utf8ToBytes=F,t.toBytes=$,t.concatBytes=H,t.checkOpts=B,t.wrapConstructor=Z,t.wrapConstructorWithOpts=ie,t.wrapXOFConstructorWithOpts=V,t.randomBytes=ne;const e=tB(),r=Bq();function n(M){return M instanceof Uint8Array||ArrayBuffer.isView(M)&&M.constructor.name==="Uint8Array"}const s=M=>new Uint8Array(M.buffer,M.byteOffset,M.byteLength);t.u8=s;const o=M=>new Uint32Array(M.buffer,M.byteOffset,Math.floor(M.byteLength/4));t.u32=o;const l=M=>new DataView(M.buffer,M.byteOffset,M.byteLength);t.createView=l;const u=(M,se)=>M<<32-se|M>>>se;t.rotr=u;const d=(M,se)=>M<<se|M>>>32-se>>>0;t.rotl=d,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=M=>M<<24&0xff000000|M<<8&0xff0000|M>>>8&65280|M>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?M=>M:M=>(0,t.byteSwap)(M);function y(M){for(let se=0;se<M.length;se++)M[se]=(0,t.byteSwap)(M[se])}const w=Array.from({length:256},(M,se)=>se.toString(16).padStart(2,"0"));function E(M){(0,r.abytes)(M);let se="";for(let Y=0;Y<M.length;Y++)se+=w[M[Y]];return se}const k={_0:48,_9:57,A:65,F:70,a:97,f:102};function C(M){if(M>=k._0&&M<=k._9)return M-k._0;if(M>=k.A&&M<=k.F)return M-(k.A-10);if(M>=k.a&&M<=k.f)return M-(k.a-10)}function q(M){if(typeof M!="string")throw new Error("hex string expected, got "+typeof M);const se=M.length,Y=se/2;if(se%2)throw new Error("hex string expected, got unpadded hex of length "+se);const me=new Uint8Array(Y);for(let Te=0,qe=0;Te<Y;Te++,qe+=2){const je=C(M.charCodeAt(qe)),_e=C(M.charCodeAt(qe+1));if(je===void 0||_e===void 0){const ge=M[qe]+M[qe+1];throw new Error('hex string expected, got non-hex character "'+ge+'" at index '+qe)}me[Te]=je*16+_e}return me}const A=async()=>{};t.nextTick=A;async function D(M,se,Y){let me=Date.now();for(let Te=0;Te<M;Te++){Y(Te);const qe=Date.now()-me;qe>=0&&qe<se||(await (0,t.nextTick)(),me+=qe)}}function F(M){if(typeof M!="string")throw new Error("utf8ToBytes expected string, got "+typeof M);return new Uint8Array(new TextEncoder().encode(M))}function $(M){return typeof M=="string"&&(M=F(M)),(0,r.abytes)(M),M}function H(...M){let se=0;for(let me=0;me<M.length;me++){const Te=M[me];(0,r.abytes)(Te),se+=Te.length}const Y=new Uint8Array(se);for(let me=0,Te=0;me<M.length;me++){const qe=M[me];Y.set(qe,Te),Te+=qe.length}return Y}class G{clone(){return this._cloneInto()}}t.Hash=G;function B(M,se){if(se!==void 0&&{}.toString.call(se)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(M,se)}function Z(M){const se=me=>M().update($(me)).digest(),Y=M();return se.outputLen=Y.outputLen,se.blockLen=Y.blockLen,se.create=()=>M(),se}function ie(M){const se=(me,Te)=>M(Te).update($(me)).digest(),Y=M({});return se.outputLen=Y.outputLen,se.blockLen=Y.blockLen,se.create=me=>M(me),se}function V(M){const se=(me,Te)=>M(Te).update($(me)).digest(),Y=M({});return se.outputLen=Y.outputLen,se.blockLen=Y.blockLen,se.create=me=>M(me),se}function ne(M=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(M));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(M);throw new Error("crypto.getRandomValues must be defined")}}(ob)),ob}var N1;function nB(){if(N1)return zr;N1=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.shake256=zr.shake128=zr.keccak_512=zr.keccak_384=zr.keccak_256=zr.keccak_224=zr.sha3_512=zr.sha3_384=zr.sha3_256=zr.sha3_224=zr.Keccak=void 0,zr.keccakP=A;const t=Bq(),e=eB(),r=rB(),n=[],s=[],o=[],l=BigInt(0),u=BigInt(1),d=BigInt(2),m=BigInt(7),y=BigInt(256),w=BigInt(113);for(let H=0,G=u,B=1,Z=0;H<24;H++){[B,Z]=[Z,(2*B+3*Z)%5],n.push(2*(5*Z+B)),s.push((H+1)*(H+2)/2%64);let ie=l;for(let V=0;V<7;V++)G=(G<<u^(G>>m)*w)%y,G&d&&(ie^=u<<(u<<BigInt(V))-u);o.push(ie)}const[E,k]=(0,e.split)(o,!0),C=(H,G,B)=>B>32?(0,e.rotlBH)(H,G,B):(0,e.rotlSH)(H,G,B),q=(H,G,B)=>B>32?(0,e.rotlBL)(H,G,B):(0,e.rotlSL)(H,G,B);function A(H,G=24){const B=new Uint32Array(10);for(let Z=24-G;Z<24;Z++){for(let ne=0;ne<10;ne++)B[ne]=H[ne]^H[ne+10]^H[ne+20]^H[ne+30]^H[ne+40];for(let ne=0;ne<10;ne+=2){const M=(ne+8)%10,se=(ne+2)%10,Y=B[se],me=B[se+1],Te=C(Y,me,1)^B[M],qe=q(Y,me,1)^B[M+1];for(let je=0;je<50;je+=10)H[ne+je]^=Te,H[ne+je+1]^=qe}let ie=H[2],V=H[3];for(let ne=0;ne<24;ne++){const M=s[ne],se=C(ie,V,M),Y=q(ie,V,M),me=n[ne];ie=H[me],V=H[me+1],H[me]=se,H[me+1]=Y}for(let ne=0;ne<50;ne+=10){for(let M=0;M<10;M++)B[M]=H[ne+M];for(let M=0;M<10;M++)H[ne+M]^=~B[(M+2)%10]&B[(M+4)%10]}H[0]^=E[Z],H[1]^=k[Z]}B.fill(0)}class D extends r.Hash{constructor(G,B,Z,ie=!1,V=24){if(super(),this.blockLen=G,this.suffix=B,this.outputLen=Z,this.enableXOF=ie,this.rounds=V,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(Z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),A(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(G){(0,t.aexists)(this);const{blockLen:B,state:Z}=this;G=(0,r.toBytes)(G);const ie=G.length;for(let V=0;V<ie;){const ne=Math.min(B-this.pos,ie-V);for(let M=0;M<ne;M++)Z[this.pos++]^=G[V++];this.pos===B&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:G,suffix:B,pos:Z,blockLen:ie}=this;G[Z]^=B,B&128&&Z===ie-1&&this.keccak(),G[ie-1]^=128,this.keccak()}writeInto(G){(0,t.aexists)(this,!1),(0,t.abytes)(G),this.finish();const B=this.state,{blockLen:Z}=this;for(let ie=0,V=G.length;ie<V;){this.posOut>=Z&&this.keccak();const ne=Math.min(Z-this.posOut,V-ie);G.set(B.subarray(this.posOut,this.posOut+ne),ie),this.posOut+=ne,ie+=ne}return G}xofInto(G){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(G)}xof(G){return(0,t.anumber)(G),this.xofInto(new Uint8Array(G))}digestInto(G){if((0,t.aoutput)(G,this),this.finished)throw new Error("digest() was already called");return this.writeInto(G),this.destroy(),G}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(G){const{blockLen:B,suffix:Z,outputLen:ie,rounds:V,enableXOF:ne}=this;return G||(G=new D(B,Z,ie,ne,V)),G.state32.set(this.state32),G.pos=this.pos,G.posOut=this.posOut,G.finished=this.finished,G.rounds=V,G.suffix=Z,G.outputLen=ie,G.enableXOF=ne,G.destroyed=this.destroyed,G}}zr.Keccak=D;const F=(H,G,B)=>(0,r.wrapConstructor)(()=>new D(G,H,B));zr.sha3_224=F(6,144,224/8),zr.sha3_256=F(6,136,256/8),zr.sha3_384=F(6,104,384/8),zr.sha3_512=F(6,72,512/8),zr.keccak_224=F(1,144,224/8),zr.keccak_256=F(1,136,256/8),zr.keccak_384=F(1,104,384/8),zr.keccak_512=F(1,72,512/8);const $=(H,G,B)=>(0,r.wrapXOFConstructorWithOpts)((Z={})=>new D(G,H,Z.dkLen===void 0?B:Z.dkLen,!0));return zr.shake128=$(31,168,128/8),zr.shake256=$(31,136,256/8),zr}var E1;function iB(){if(E1)return zo;E1=1;const{sha3_512:t}=nB(),e=24,r=32,n=(C=4,q=Math.random)=>{let A="";for(;A.length<C;)A=A+Math.floor(q()*36).toString(36);return A};function s(C){let q=8n,A=0n;for(const D of C.values()){const F=BigInt(D);A=(A<<q)+F}return A}const o=(C="")=>s(t(C)).toString(36).slice(1),l=Array.from({length:26},(C,q)=>String.fromCharCode(q+97)),u=C=>l[Math.floor(C()*l.length)],d=({globalObj:C=typeof Ab<"u"?Ab:typeof window<"u"?window:{},random:q=Math.random}={})=>{const A=Object.keys(C).toString(),D=A.length?A+n(r,q):n(r,q);return o(D).substring(0,r)},m=C=>()=>C++,y=0x1c6b1f1f,w=({random:C=Math.random,counter:q=m(Math.floor(C()*y)),length:A=e,fingerprint:D=d({random:C})}={})=>function(){const $=u(C),H=Date.now().toString(36),G=q().toString(36),B=n(A,C),Z=`${H+B+G+D}`;return`${$+o(Z).substring(1,A)}`},E=w(),k=(C,{minLength:q=2,maxLength:A=r}={})=>{const D=C.length,F=/^[0-9a-z]+$/;try{if(typeof C=="string"&&D>=q&&D<=A&&F.test(C))return!0}finally{}return!1};return zo.getConstants=()=>({defaultLength:e,bigLength:r}),zo.init=w,zo.createId=E,zo.bufToBigInt=s,zo.createCounter=m,zo.createFingerprint=d,zo.isCuid=k,zo}var k1;function sB(){if(k1)return Du;k1=1;const{createId:t,init:e,getConstants:r,isCuid:n}=iB();return Du.createId=t,Du.init=e,Du.getConstants=r,Du.isCuid=n,Du}var oB=sB();const xt=oB.createId,Wi=({name:t,schema:e,db:r,map:n,select$:s,create$:o,patch$:l,delete$:u,event:d})=>({name:t,schema:e,db:r,async create$({tx:m,entity:y,shape:w}){const E=xt();await d?.onPreCreate?.({tx:m,entity:y,shape:w}),await o({tx:m}).values(e.entity.parse({...await n?.toCreate?.({entity:y,shape:w})||y,id:E})).execute();const k=await this.getOrThrow$({tx:m,id:E,error:"Cannot fetch created entity"});return await d?.onPostCreate?.({tx:m,entity:k,shape:w}),k},async patch$({tx:m,entity:y,shape:w,where:E,filter:k}){const C=await this.fetchOrThrow$({tx:m,where:E,filter:k,error:"Cannot patch an unknown entity (empty query result)."});await d?.onPrePatch?.({tx:m,entity:y,shape:w}),await l({tx:m}).set(e.entity.partial().parse(await n?.toPatch?.({entity:y,shape:w})||y)).where("id","=",C.id).execute();const q=await this.getOrThrow$({tx:m,id:C.id});return await d?.onPostPatch?.({tx:m,entity:q,shape:w}),q},async delete$({tx:m,where:y,filter:w}){const E=await this.fetchOrThrow$({tx:m,where:y,filter:w,error:"Cannot patch an unknown entity (empty query result)."});return await u({tx:m}).where("id","=",E.id).execute(),E},async fetch$({tx:m,where:y,filter:w,sort:E}){const k=await s({tx:m,where:y,filter:w,sort:E,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirst();if(!k)return;const C=e.entity.parse(k);return(e.output??e.entity).parse(await n?.toOutput?.({tx:m,entity:C})||C)},async fetchOrThrow$({tx:m,where:y,filter:w,sort:E,error:k}){try{const C=e.entity.parse(await s({tx:m,where:y,filter:w,sort:E,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirstOrThrow());return(e.output??e.entity).parse(await n?.toOutput?.({tx:m,entity:C})||C)}catch(C){throw console.error(C),k?new Error(k):C}},async get$({tx:m,id:y}){return this.fetch$({tx:m,where:{id:y}})},async getOrThrow$({tx:m,id:y,error:w}){return this.fetchOrThrow$({tx:m,where:{id:y},error:w})},async list$({tx:m,where:y,filter:w,sort:E,cursor:k}){const C=e.output??e.entity;return Promise.all(ue.array(e.entity).parse(await s({tx:m,where:y,filter:w,sort:E,cursor:k,use:["where","filter","cursor","sort"]}).execute()).map(q=>e.entity.parse(q)).map(async q=>C.parse(await n?.toOutput?.({tx:m,entity:q})||q)))},async count$({tx:m,where:y,filter:w}){return{total:(await s({tx:m,use:[]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count,where:(await s({tx:m,where:y,use:["where"]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count,filter:(await s({tx:m,where:y,filter:w,use:["where","filter"]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count}}}),uw=new Proxy(()=>uw,{get:()=>uw}),zi=({entity:t,output:e=t,shape:r,filter:n,sort:s})=>{const o=uw();return{entity:t,"~entity":o,"~entity-array":[],"~entity-partial-exclude-id":o,shape:r,"~shape":o,"~shape-partial":o,filter:n,"~filter":o,output:e,"~output":o,"~output-array":[],sort:ue.array(ue.object({name:ue.enum(s),sort:YM})),"~sort":o,"~sort-keyof":o}},Pa=(t,e)=>Array.from({length:e-t+1},(r,n)=>n+t),aB=({page:t,total:e,siblings:r=1,boundaries:n=1})=>{const s=Math.max(Math.trunc(e),0);if(r*2+3+n*2>=s)return{type:"simple",page:t,total:e,pages:Pa(1,s),start:[],end:[]};const l=Math.max(t-r,n),u=Math.min(t+r,s-n),d=l>n+2,m=u<s-(n+1);return!d&&m?{type:"end",page:t,total:e,start:[],pages:Pa(1,r*2+n+2),end:Pa(e-(n-1),s)}:d&&!m?{type:"start",page:t,total:e,start:Pa(1,n),pages:Pa(e-(n+1+2*r),s),end:[]}:{type:"both",page:t,total:e,start:Pa(1,n),pages:Pa(l,u),end:Pa(s-n+1,s)}};var sm={exports:{}},lB=sm.exports,I1;function uB(){return I1||(I1=1,function(t){(function(e,r){t.exports=r()})(lB,function(){var e=Object.prototype.toString;function r(w,E){return w==null?!1:Object.prototype.hasOwnProperty.call(w,E)}function n(w){if(!w||l(w)&&w.length===0)return!0;if(typeof w!="string"){for(var E in w)if(r(w,E))return!1;return!0}return!1}function s(w){return e.call(w)}function o(w){return typeof w=="object"&&s(w)==="[object Object]"}var l=Array.isArray||function(w){return e.call(w)==="[object Array]"};function u(w){return typeof w=="boolean"||s(w)==="[object Boolean]"}function d(w){var E=parseInt(w);return E.toString()===w?E:w}function m(w){w=w||{};var E=function(D){return Object.keys(E).reduce(function(F,$){return $==="create"||typeof E[$]=="function"&&(F[$]=E[$].bind(E,D)),F},{})},k;w.includeInheritedProps?k=function(){return!0}:k=function(D,F){return typeof F=="number"&&Array.isArray(D)||r(D,F)};function C(D,F){if(k(D,F))return D[F]}var q;w.includeInheritedProps?q=function(D,F){typeof F!="string"&&typeof F!="number"&&(F=String(F));var $=C(D,F);if(F==="__proto__"||F==="prototype"||F==="constructor"&&typeof $=="function")throw new Error("For security reasons, object's magic properties cannot be set");return $}:q=function(D,F){return C(D,F)};function A(D,F,$,H){if(typeof F=="number"&&(F=[F]),!F||F.length===0)return D;if(typeof F=="string")return A(D,F.split(".").map(d),$,H);var G=F[0],B=q(D,G);return F.length===1?((B===void 0||!H)&&(D[G]=$),B):(B===void 0&&(typeof F[1]=="number"?D[G]=[]:D[G]={}),A(D[G],F.slice(1),$,H))}return E.has=function(D,F){if(typeof F=="number"?F=[F]:typeof F=="string"&&(F=F.split(".")),!F||F.length===0)return!!D;for(var $=0;$<F.length;$++){var H=d(F[$]);if(typeof H=="number"&&l(D)&&H<D.length||(w.includeInheritedProps?H in Object(D):r(D,H)))D=D[H];else return!1}return!0},E.ensureExists=function(D,F,$){return A(D,F,$,!0)},E.set=function(D,F,$,H){return A(D,F,$,H)},E.insert=function(D,F,$,H){var G=E.get(D,F);H=~~H,l(G)||(G=[],E.set(D,F,G)),G.splice(H,0,$)},E.empty=function(D,F){if(!n(F)&&D!=null){var $,H;if($=E.get(D,F)){if(typeof $=="string")return E.set(D,F,"");if(u($))return E.set(D,F,!1);if(typeof $=="number")return E.set(D,F,0);if(l($))$.length=0;else if(o($))for(H in $)k($,H)&&delete $[H];else return E.set(D,F,null)}}},E.push=function(D,F){var $=E.get(D,F);l($)||($=[],E.set(D,F,$)),$.push.apply($,Array.prototype.slice.call(arguments,2))},E.coalesce=function(D,F,$){for(var H,G=0,B=F.length;G<B;G++)if((H=E.get(D,F[G]))!==void 0)return H;return $},E.get=function(D,F,$){if(typeof F=="number"&&(F=[F]),!F||F.length===0)return D;if(D==null)return $;if(typeof F=="string")return E.get(D,F.split("."),$);var H=d(F[0]),G=q(D,H);return G===void 0?$:F.length===1?G:E.get(D[H],F.slice(1),$)},E.del=function(F,$){if(typeof $=="number"&&($=[$]),F==null||n($))return F;if(typeof $=="string")return E.del(F,$.split("."));var H=d($[0]);if(q(F,H),!k(F,H))return F;if($.length===1)l(F)?F.splice(H,1):delete F[H];else return E.del(F[H],$.slice(1));return F},E}var y=m();return y.create=m,y.withInheritedProps=m({includeInheritedProps:!0}),y})}(sm)),sm.exports}var cB=uB();const C1=qc(cB);function gn({number:t,empty:e="-",fraction:r=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:r})}catch(n){return console.error("toHumanNumber",t,n),t.toFixed(2)}}const s0=({error:t,errors:e,onError:r})=>{const n=e.some(o=>o),s=t instanceof Error;return!n&&s&&r(t),n||s},$q=fr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),dB=fr({use:$q,slot:{},variant:{},defaults:{}}),fB=({icon:t,iconProps:e,variant:r,tva:n=dB,css:s,children:o,...l})=>{const u=n({...r,css:s}).slots;return g.jsxs("div",{className:u.base(),...l,children:[Xf(t)?g.jsx(br,{icon:t,...e}):t,o]})};function Lg(){return typeof window<"u"}function pl(t){return Wq(t)?(t.nodeName||"").toLowerCase():"#document"}function Di(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Io(t){var e;return(e=(Wq(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Wq(t){return Lg()?t instanceof Node||t instanceof Di(t).Node:!1}function Vr(t){return Lg()?t instanceof Element||t instanceof Di(t).Element:!1}function Cn(t){return Lg()?t instanceof HTMLElement||t instanceof Di(t).HTMLElement:!1}function cw(t){return!Lg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Di(t).ShadowRoot}function th(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Is(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function hB(t){return["table","td","th"].includes(pl(t))}function Dg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function o0(t){const e=Mg(),r=Vr(t)?Is(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function pB(t){let e=na(t);for(;Cn(e)&&!Xo(e);){if(o0(e))return e;if(Dg(e))return null;e=na(e)}return null}function Mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xo(t){return["html","body","#document"].includes(pl(t))}function Is(t){return Di(t).getComputedStyle(t)}function Bg(t){return Vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function na(t){if(pl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cw(t)&&t.host||Io(t);return cw(e)?e.host:e}function zq(t){const e=na(t);return Xo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cn(e)&&th(e)?e:zq(e)}function Ka(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=zq(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),l=Di(s);if(o){const u=dw(l);return e.concat(l,l.visualViewport||[],th(s)?s:[],u&&r?Ka(u):[])}return e.concat(s,Ka(s,[],r))}function dw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zs(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function Hn(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&cw(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function a0(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Uq(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function Vq(t){return t.mozInputSource===0&&t.isTrusted?!0:fw()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function l0(t){return gB()?!1:!fw()&&t.width===0&&t.height===0||fw()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function Hq(){return/apple/i.test(navigator.vendor)}function fw(){const t=/android/i;return t.test(a0())||t.test(Uq())}function mB(){return a0().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function gB(){return Uq().includes("jsdom/")}function Of(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function yB(t){return"nativeEvent"in t}function vB(t){return t.matches("html,body")}function Qn(t){return t?.ownerDocument||document}function ab(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function Ba(t){return"composedPath"in t?t.composedPath()[0]:t.target}const _B="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function u0(t){return Cn(t)&&t.matches(_B)}function hi(t){t.preventDefault(),t.stopPropagation()}function Qq(t){return t?t.getAttribute("role")==="combobox"&&u0(t):!1}const Nc=Math.min,ts=Math.max,Vm=Math.round,Zu=Math.floor,bo=t=>({x:t,y:t}),bB={left:"right",right:"left",bottom:"top",top:"bottom"},wB={start:"end",end:"start"};function q1(t,e,r){return ts(t,Nc(e,r))}function rh(t,e){return typeof t=="function"?t(e):t}function sl(t){return t.split("-")[0]}function nh(t){return t.split("-")[1]}function Kq(t){return t==="x"?"y":"x"}function Gq(t){return t==="y"?"height":"width"}function nu(t){return["top","bottom"].includes(sl(t))?"y":"x"}function Jq(t){return Kq(nu(t))}function xB(t,e,r){r===void 0&&(r=!1);const n=nh(t),s=Jq(t),o=Gq(s);let l=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Hm(l)),[l,Hm(l)]}function SB(t){const e=Hm(t);return[hw(t),e,hw(e)]}function hw(t){return t.replace(/start|end/g,e=>wB[e])}function NB(t,e,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?o:l;default:return[]}}function EB(t,e,r,n){const s=nh(t);let o=NB(sl(t),r==="start",n);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(hw)))),o}function Hm(t){return t.replace(/left|right|bottom|top/g,e=>bB[e])}function kB(t){return{top:0,right:0,bottom:0,left:0,...t}}function IB(t){return typeof t!="number"?kB(t):{top:t,right:t,bottom:t,left:t}}function Qm(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}var CB=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Km=CB.join(","),Zq=typeof Element>"u",Ec=Zq?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Gm=!Zq&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Jm=function t(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=s===""||s==="true",l=o||r&&e&&t(e.parentNode);return l},qB=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},TB=function(e,r,n){if(Jm(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(Km));return r&&Ec.call(e,Km)&&s.unshift(e),s=s.filter(n),s},OB=function t(e,r,n){for(var s=[],o=Array.from(e);o.length;){var l=o.shift();if(!Jm(l,!1))if(l.tagName==="SLOT"){var u=l.assignedElements(),d=u.length?u:l.children,m=t(d,!0,n);n.flatten?s.push.apply(s,m):s.push({scopeParent:l,candidates:m})}else{var y=Ec.call(l,Km);y&&n.filter(l)&&(r||!e.includes(l))&&s.push(l);var w=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),E=!Jm(w,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(w&&E){var k=t(w===!0?l.children:w.children,!0,n);n.flatten?s.push.apply(s,k):s.push({scopeParent:l,candidates:k})}else o.unshift.apply(o,l.children)}}return s},Yq=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Xq=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||qB(e))&&!Yq(e)?0:e.tabIndex},RB=function(e,r){var n=Xq(e);return n<0&&r&&!Yq(e)?0:n},AB=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},eT=function(e){return e.tagName==="INPUT"},PB=function(e){return eT(e)&&e.type==="hidden"},jB=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},FB=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},LB=function(e){if(!e.name)return!0;var r=e.form||Gm(e),n=function(u){return r.querySelectorAll('input[type="radio"][name="'+u+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=FB(s,e.form);return!o||o===e},DB=function(e){return eT(e)&&e.type==="radio"},MB=function(e){return DB(e)&&!LB(e)},BB=function(e){var r,n=e&&Gm(e),s=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var l,u,d;for(o=!!((l=s)!==null&&l!==void 0&&(u=l.ownerDocument)!==null&&u!==void 0&&u.contains(s)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!o&&s;){var m,y,w;n=Gm(s),s=(m=n)===null||m===void 0?void 0:m.host,o=!!((y=s)!==null&&y!==void 0&&(w=y.ownerDocument)!==null&&w!==void 0&&w.contains(s))}}return o},T1=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},$B=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Ec.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(Ec.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var u=e;e;){var d=e.parentElement,m=Gm(e);if(d&&!d.shadowRoot&&s(d)===!0)return T1(e);e.assignedSlot?e=e.assignedSlot:!d&&m!==e.ownerDocument?e=m.host:e=d}e=u}if(BB(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return T1(e);return!1},WB=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return Ec.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},zB=function(e,r){return!(r.disabled||Jm(r)||PB(r)||$B(r,e)||jB(r)||WB(r))},pw=function(e,r){return!(MB(r)||Xq(r)<0||!zB(e,r))},UB=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},VB=function t(e){var r=[],n=[];return e.forEach(function(s,o){var l=!!s.scopeParent,u=l?s.scopeParent:s,d=RB(u,l),m=l?t(s.candidates):u;d===0?l?r.push.apply(r,m):r.push(u):n.push({documentOrder:o,tabIndex:d,item:s,isScope:l,content:m})}),n.sort(AB).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(r)},$g=function(e,r){r=r||{};var n;return r.getShadowRoot?n=OB([e],r.includeContainer,{filter:pw.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:UB}):n=TB(e,r.includeContainer,pw.bind(null,r)),VB(n)},HB=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Ec.call(e,Km)===!1?!1:pw(r,e)};function O1(t,e,r){let{reference:n,floating:s}=t;const o=nu(e),l=Jq(e),u=Gq(l),d=sl(e),m=o==="y",y=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,E=n[u]/2-s[u]/2;let k;switch(d){case"top":k={x:y,y:n.y-s.height};break;case"bottom":k={x:y,y:n.y+n.height};break;case"right":k={x:n.x+n.width,y:w};break;case"left":k={x:n.x-s.width,y:w};break;default:k={x:n.x,y:n.y}}switch(nh(e)){case"start":k[l]-=E*(r&&m?-1:1);break;case"end":k[l]+=E*(r&&m?-1:1);break}return k}const QB=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),d=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:y,y:w}=O1(m,n,d),E=n,k={},C=0;for(let q=0;q<u.length;q++){const{name:A,fn:D}=u[q],{x:F,y:$,data:H,reset:G}=await D({x:y,y:w,initialPlacement:n,placement:E,strategy:s,middlewareData:k,rects:m,platform:l,elements:{reference:t,floating:e}});y=F??y,w=$??w,k={...k,[A]:{...k[A],...H}},G&&C<=50&&(C++,typeof G=="object"&&(G.placement&&(E=G.placement),G.rects&&(m=G.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):G.rects),{x:y,y:w}=O1(m,E,d)),q=-1)}return{x:y,y:w,placement:E,strategy:s,middlewareData:k}};async function c0(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:l,elements:u,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:E=!1,padding:k=0}=rh(e,t),C=IB(k),A=u[E?w==="floating"?"reference":"floating":w],D=Qm(await o.getClippingRect({element:(r=await (o.isElement==null?void 0:o.isElement(A)))==null||r?A:A.contextElement||await (o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:y,strategy:d})),F=w==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,$=await (o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),H=await (o.isElement==null?void 0:o.isElement($))?await (o.getScale==null?void 0:o.getScale($))||{x:1,y:1}:{x:1,y:1},G=Qm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:F,offsetParent:$,strategy:d}):F);return{top:(D.top-G.top+C.top)/H.y,bottom:(G.bottom-D.bottom+C.bottom)/H.y,left:(D.left-G.left+C.left)/H.x,right:(G.right-D.right+C.right)/H.x}}const KB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:m}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:E,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:q=!0,...A}=rh(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const D=sl(s),F=nu(u),$=sl(u)===u,H=await (d.isRTL==null?void 0:d.isRTL(m.floating)),G=E||($||!q?[Hm(u)]:SB(u)),B=C!=="none";!E&&B&&G.push(...EB(u,q,C,H));const Z=[u,...G],ie=await c0(e,A),V=[];let ne=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&V.push(ie[D]),w){const me=xB(s,l,H);V.push(ie[me[0]],ie[me[1]])}if(ne=[...ne,{placement:s,overflows:V}],!V.every(me=>me<=0)){var M,se;const me=(((M=o.flip)==null?void 0:M.index)||0)+1,Te=Z[me];if(Te)return{data:{index:me,overflows:ne},reset:{placement:Te}};let qe=(se=ne.filter(je=>je.overflows[0]<=0).sort((je,_e)=>je.overflows[1]-_e.overflows[1])[0])==null?void 0:se.placement;if(!qe)switch(k){case"bestFit":{var Y;const je=(Y=ne.filter(_e=>{if(B){const ge=nu(_e.placement);return ge===F||ge==="y"}return!0}).map(_e=>[_e.placement,_e.overflows.filter(ge=>ge>0).reduce((ge,Ee)=>ge+Ee,0)]).sort((_e,ge)=>_e[1]-ge[1])[0])==null?void 0:Y[0];je&&(qe=je);break}case"initialPlacement":qe=u;break}if(s!==qe)return{reset:{placement:qe}}}return{}}}};async function GB(t,e){const{placement:r,platform:n,elements:s}=t,o=await (n.isRTL==null?void 0:n.isRTL(s.floating)),l=sl(r),u=nh(r),d=nu(r)==="y",m=["left","top"].includes(l)?-1:1,y=o&&d?-1:1,w=rh(e,t);let{mainAxis:E,crossAxis:k,alignmentAxis:C}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return u&&typeof C=="number"&&(k=u==="end"?C*-1:C),d?{x:k*y,y:E*m}:{x:E*m,y:k*y}}const JB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:l,middlewareData:u}=e,d=await GB(e,t);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},ZB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:A=>{let{x:D,y:F}=A;return{x:D,y:F}}},...d}=rh(t,e),m={x:r,y:n},y=await c0(e,d),w=nu(sl(s)),E=Kq(w);let k=m[E],C=m[w];if(o){const A=E==="y"?"top":"left",D=E==="y"?"bottom":"right",F=k+y[A],$=k-y[D];k=q1(F,k,$)}if(l){const A=w==="y"?"top":"left",D=w==="y"?"bottom":"right",F=C+y[A],$=C-y[D];C=q1(F,C,$)}const q=u.fn({...e,[E]:k,[w]:C});return{...q,data:{x:q.x-r,y:q.y-n,enabled:{[E]:o,[w]:l}}}}}},YB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:l,elements:u}=e,{apply:d=()=>{},...m}=rh(t,e),y=await c0(e,m),w=sl(s),E=nh(s),k=nu(s)==="y",{width:C,height:q}=o.floating;let A,D;w==="top"||w==="bottom"?(A=w,D=E===(await (l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=w,A=E==="end"?"top":"bottom");const F=q-y.top-y.bottom,$=C-y.left-y.right,H=Nc(q-y[A],F),G=Nc(C-y[D],$),B=!e.middlewareData.shift;let Z=H,ie=G;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(ie=$),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(Z=F),B&&!E){const ne=ts(y.left,0),M=ts(y.right,0),se=ts(y.top,0),Y=ts(y.bottom,0);k?ie=C-2*(ne!==0||M!==0?ne+M:ts(y.left,y.right)):Z=q-2*(se!==0||Y!==0?se+Y:ts(y.top,y.bottom))}await d({...e,availableWidth:ie,availableHeight:Z});const V=await l.getDimensions(u.floating);return C!==V.width||q!==V.height?{reset:{rects:!0}}:{}}}};function tT(t){const e=Is(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Cn(t),o=s?t.offsetWidth:r,l=s?t.offsetHeight:n,u=Vm(r)!==o||Vm(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function d0(t){return Vr(t)?t:t.contextElement}function uc(t){const e=d0(t);if(!Cn(e))return bo(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=tT(e);let l=(o?Vm(r.width):r.width)/n,u=(o?Vm(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const XB=bo(0);function rT(t){const e=Di(t);return!Mg()||!e.visualViewport?XB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function e$(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Di(t)?!1:e}function iu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=d0(t);let l=bo(1);e&&(n?Vr(n)&&(l=uc(n)):l=uc(t));const u=e$(o,r,n)?rT(o):bo(0);let d=(s.left+u.x)/l.x,m=(s.top+u.y)/l.y,y=s.width/l.x,w=s.height/l.y;if(o){const E=Di(o),k=n&&Vr(n)?Di(n):n;let C=E,q=dw(C);for(;q&&n&&k!==C;){const A=uc(q),D=q.getBoundingClientRect(),F=Is(q),$=D.left+(q.clientLeft+parseFloat(F.paddingLeft))*A.x,H=D.top+(q.clientTop+parseFloat(F.paddingTop))*A.y;d*=A.x,m*=A.y,y*=A.x,w*=A.y,d+=$,m+=H,C=Di(q),q=dw(C)}}return Qm({width:y,height:w,x:d,y:m})}function f0(t,e){const r=Bg(t).scrollLeft;return e?e.left+r:iu(Io(t)).left+r}function nT(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:f0(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function t$(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",l=Io(n),u=e?Dg(e.floating):!1;if(n===l||u&&o)return r;let d={scrollLeft:0,scrollTop:0},m=bo(1);const y=bo(0),w=Cn(n);if((w||!w&&!o)&&((pl(n)!=="body"||th(l))&&(d=Bg(n)),Cn(n))){const k=iu(n);m=uc(n),y.x=k.x+n.clientLeft,y.y=k.y+n.clientTop}const E=l&&!w&&!o?nT(l,d,!0):bo(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-d.scrollLeft*m.x+y.x+E.x,y:r.y*m.y-d.scrollTop*m.y+y.y+E.y}}function r$(t){return Array.from(t.getClientRects())}function n$(t){const e=Io(t),r=Bg(t),n=t.ownerDocument.body,s=ts(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=ts(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+f0(t);const u=-r.scrollTop;return Is(n).direction==="rtl"&&(l+=ts(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:u}}function i$(t,e){const r=Di(t),n=Io(t),s=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(s){o=s.width,l=s.height;const m=Mg();(!m||m&&e==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:u,y:d}}function s$(t,e){const r=iu(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Cn(t)?uc(t):bo(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,d=s*o.x,m=n*o.y;return{width:l,height:u,x:d,y:m}}function R1(t,e,r){let n;if(e==="viewport")n=i$(t,r);else if(e==="document")n=n$(Io(t));else if(Vr(e))n=s$(e,r);else{const s=rT(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qm(n)}function iT(t,e){const r=na(t);return r===e||!Vr(r)||Xo(r)?!1:Is(r).position==="fixed"||iT(r,e)}function o$(t,e){const r=e.get(t);if(r)return r;let n=Ka(t,[],!1).filter(u=>Vr(u)&&pl(u)!=="body"),s=null;const o=Is(t).position==="fixed";let l=o?na(t):t;for(;Vr(l)&&!Xo(l);){const u=Is(l),d=o0(l);!d&&u.position==="fixed"&&(s=null),(o?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||th(l)&&!d&&iT(t,l))?n=n.filter(y=>y!==l):s=u,l=na(l)}return e.set(t,n),n}function a$(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const l=[...r==="clippingAncestors"?Dg(e)?[]:o$(e,this._c):[].concat(r),n],u=l[0],d=l.reduce((m,y)=>{const w=R1(e,y,s);return m.top=ts(w.top,m.top),m.right=Nc(w.right,m.right),m.bottom=Nc(w.bottom,m.bottom),m.left=ts(w.left,m.left),m},R1(e,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function l$(t){const{width:e,height:r}=tT(t);return{width:e,height:r}}function u$(t,e,r){const n=Cn(e),s=Io(e),o=r==="fixed",l=iu(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=bo(0);if(n||!n&&!o)if((pl(e)!=="body"||th(s))&&(u=Bg(e)),n){const E=iu(e,!0,o,e);d.x=E.x+e.clientLeft,d.y=E.y+e.clientTop}else s&&(d.x=f0(s));const m=s&&!n&&!o?nT(s,u):bo(0),y=l.left+u.scrollLeft-d.x-m.x,w=l.top+u.scrollTop-d.y-m.y;return{x:y,y:w,width:l.width,height:l.height}}function lb(t){return Is(t).position==="static"}function A1(t,e){if(!Cn(t)||Is(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Io(t)===r&&(r=r.ownerDocument.body),r}function sT(t,e){const r=Di(t);if(Dg(t))return r;if(!Cn(t)){let s=na(t);for(;s&&!Xo(s);){if(Vr(s)&&!lb(s))return s;s=na(s)}return r}let n=A1(t,e);for(;n&&hB(n)&&lb(n);)n=A1(n,e);return n&&Xo(n)&&lb(n)&&!o0(n)?r:n||pB(t)||r}const c$=async function(t){const e=this.getOffsetParent||sT,r=this.getDimensions,n=await r(t.floating);return{reference:u$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function d$(t){return Is(t).direction==="rtl"}const f$={convertOffsetParentRelativeRectToViewportRelativeRect:t$,getDocumentElement:Io,getClippingRect:a$,getOffsetParent:sT,getElementRects:c$,getClientRects:r$,getDimensions:l$,getScale:uc,isElement:Vr,isRTL:d$};function h$(t,e){let r=null,n;const s=Io(t);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const{left:m,top:y,width:w,height:E}=t.getBoundingClientRect();if(u||e(),!w||!E)return;const k=Zu(y),C=Zu(s.clientWidth-(m+w)),q=Zu(s.clientHeight-(y+E)),A=Zu(m),F={rootMargin:-k+"px "+-C+"px "+-q+"px "+-A+"px",threshold:ts(0,Nc(1,d))||1};let $=!0;function H(G){const B=G[0].intersectionRatio;if(B!==d){if(!$)return l();B?l(!1,B):n=setTimeout(()=>{l(!1,1e-7)},1e3)}$=!1}try{r=new IntersectionObserver(H,{...F,root:s.ownerDocument})}catch{r=new IntersectionObserver(H,F)}r.observe(t)}return l(!0),o}function oT(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,m=d0(t),y=s||o?[...m?Ka(m):[],...Ka(e)]:[];y.forEach(D=>{s&&D.addEventListener("scroll",r,{passive:!0}),o&&D.addEventListener("resize",r)});const w=m&&u?h$(m,r):null;let E=-1,k=null;l&&(k=new ResizeObserver(D=>{let[F]=D;F&&F.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var $;($=k)==null||$.observe(e)})),r()}),m&&!d&&k.observe(m),k.observe(e));let C,q=d?iu(t):null;d&&A();function A(){const D=iu(t);q&&(D.x!==q.x||D.y!==q.y||D.width!==q.width||D.height!==q.height)&&r(),q=D,C=requestAnimationFrame(A)}return r(),()=>{var D;y.forEach(F=>{s&&F.removeEventListener("scroll",r),o&&F.removeEventListener("resize",r)}),w?.(),(D=k)==null||D.disconnect(),k=null,d&&cancelAnimationFrame(C)}}const p$=JB,m$=ZB,g$=KB,y$=YB,v$=(t,e,r)=>{const n=new Map,s={platform:f$,...r},o={...s.platform,_c:n};return QB(t,e,{...s,platform:o})};var om=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Zm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Zm(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!Zm(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function aT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P1(t,e){const r=aT(t);return Math.round(e*r)/r}function ub(t){const e=K.useRef(t);return om(()=>{e.current=t}),e}function _$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:m}=t,[y,w]=K.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[E,k]=K.useState(n);Zm(E,n)||k(n);const[C,q]=K.useState(null),[A,D]=K.useState(null),F=K.useCallback(_e=>{_e!==B.current&&(B.current=_e,q(_e))},[]),$=K.useCallback(_e=>{_e!==Z.current&&(Z.current=_e,D(_e))},[]),H=o||C,G=l||A,B=K.useRef(null),Z=K.useRef(null),ie=K.useRef(y),V=d!=null,ne=ub(d),M=ub(s),se=ub(m),Y=K.useCallback(()=>{if(!B.current||!Z.current)return;const _e={placement:e,strategy:r,middleware:E};M.current&&(_e.platform=M.current),v$(B.current,Z.current,_e).then(ge=>{const Ee={...ge,isPositioned:se.current!==!1};me.current&&!Zm(ie.current,Ee)&&(ie.current=Ee,$w.flushSync(()=>{w(Ee)}))})},[E,e,r,M,se]);om(()=>{m===!1&&ie.current.isPositioned&&(ie.current.isPositioned=!1,w(_e=>({..._e,isPositioned:!1})))},[m]);const me=K.useRef(!1);om(()=>(me.current=!0,()=>{me.current=!1}),[]),om(()=>{if(H&&(B.current=H),G&&(Z.current=G),H&&G){if(ne.current)return ne.current(H,G,Y);Y()}},[H,G,Y,ne,V]);const Te=K.useMemo(()=>({reference:B,floating:Z,setReference:F,setFloating:$}),[F,$]),qe=K.useMemo(()=>({reference:H,floating:G}),[H,G]),je=K.useMemo(()=>{const _e={position:r,left:0,top:0};if(!qe.floating)return _e;const ge=P1(qe.floating,y.x),Ee=P1(qe.floating,y.y);return u?{..._e,transform:"translate("+ge+"px, "+Ee+"px)",...aT(qe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ge,top:Ee}},[r,u,qe.floating,y.x,y.y]);return K.useMemo(()=>({...y,update:Y,refs:Te,elements:qe,floatingStyles:je}),[y,Y,Te,qe,je])}const lT=(t,e)=>({...p$(t),options:[t,e]}),b$=(t,e)=>({...m$(t),options:[t,e]}),uT=(t,e)=>({...g$(t),options:[t,e]}),w$=(t,e)=>({...y$(t),options:[t,e]});function j1(t){return K.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const cT={...RR},x$=cT.useInsertionEffect,S$=x$||(t=>t());function Pi(t){const e=K.useRef(()=>{});return S$(()=>{e.current=t}),K.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}const h0="ArrowUp",ih="ArrowDown",Ga="ArrowLeft",Ja="ArrowRight";function Pp(t,e,r){return Math.floor(t/e)!==r}function rf(t,e){return e<0||e>=t.current.length}function cb(t,e){return Xn(t,{disabledIndices:e})}function F1(t,e){return Xn(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Xn(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:s,amount:o=1}=e===void 0?{}:e;const l=t.current;let u=r;do u+=n?-o:o;while(u>=0&&u<=l.length-1&&am(l,u,s));return u}function N$(t,e){let{event:r,orientation:n,loop:s,rtl:o,cols:l,disabledIndices:u,minIndex:d,maxIndex:m,prevIndex:y,stopEvent:w=!1}=e,E=y;if(r.key===h0){if(w&&hi(r),y===-1)E=m;else if(E=Xn(t,{startingIndex:E,amount:l,decrement:!0,disabledIndices:u}),s&&(y-l<d||E<0)){const k=y%l,C=m%l,q=m-(C-k);C===k?E=m:E=C>k?q:q-l}rf(t,E)&&(E=y)}if(r.key===ih&&(w&&hi(r),y===-1?E=d:(E=Xn(t,{startingIndex:y,amount:l,disabledIndices:u}),s&&y+l>m&&(E=Xn(t,{startingIndex:y%l-l,amount:l,disabledIndices:u}))),rf(t,E)&&(E=y)),n==="both"){const k=Zu(y/l);r.key===(o?Ga:Ja)&&(w&&hi(r),y%l!==l-1?(E=Xn(t,{startingIndex:y,disabledIndices:u}),s&&Pp(E,l,k)&&(E=Xn(t,{startingIndex:y-y%l-1,disabledIndices:u}))):s&&(E=Xn(t,{startingIndex:y-y%l-1,disabledIndices:u})),Pp(E,l,k)&&(E=y)),r.key===(o?Ja:Ga)&&(w&&hi(r),y%l!==0?(E=Xn(t,{startingIndex:y,decrement:!0,disabledIndices:u}),s&&Pp(E,l,k)&&(E=Xn(t,{startingIndex:y+(l-y%l),decrement:!0,disabledIndices:u}))):s&&(E=Xn(t,{startingIndex:y+(l-y%l),decrement:!0,disabledIndices:u})),Pp(E,l,k)&&(E=y));const C=Zu(m/l)===k;rf(t,E)&&(s&&C?E=r.key===(o?Ja:Ga)?m:Xn(t,{startingIndex:y-y%l-1,disabledIndices:u}):E=y)}return E}function E$(t,e,r){const n=[];let s=0;return t.forEach((o,l)=>{let{width:u,height:d}=o,m=!1;for(r&&(s=0);!m;){const y=[];for(let w=0;w<u;w++)for(let E=0;E<d;E++)y.push(s+w+E*e);s%e+u<=e&&y.every(w=>n[w]==null)?(y.forEach(w=>{n[w]=l}),m=!0):s++}}),[...n]}function k$(t,e,r,n,s){if(t===-1)return-1;const o=r.indexOf(t),l=e[t];switch(s){case"tl":return o;case"tr":return l?o+l.width-1:o;case"bl":return l?o+(l.height-1)*n:o;case"br":return r.lastIndexOf(t)}}function I$(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function am(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}var Xr=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rf.apply(this,arguments)}let L1=!1,C$=0;const D1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+C$++;function q$(){const[t,e]=K.useState(()=>L1?D1():void 0);return Xr(()=>{t==null&&e(D1())},[]),K.useEffect(()=>{L1=!0},[]),t}const T$=cT.useId,p0=T$||q$;function dT(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const fT=K.createContext(null),hT=K.createContext(null),sh=()=>{var t;return((t=K.useContext(fT))==null?void 0:t.id)||null},Dc=()=>K.useContext(hT);function O$(t){const e=p0(),r=Dc(),s=sh();return Xr(()=>{if(!e)return;const o={id:e,parentId:s};return r?.addNode(o),()=>{r?.removeNode(o)}},[r,e,s]),e}function R$(t){const{children:e,id:r}=t,n=sh();return K.createElement(fT.Provider,{value:K.useMemo(()=>({id:r,parentId:n}),[r,n])},e)}function A$(t){const{children:e}=t,r=K.useRef([]),n=K.useCallback(l=>{r.current=[...r.current,l]},[]),s=K.useCallback(l=>{r.current=r.current.filter(u=>u!==l)},[]),o=K.useState(()=>dT())[0];return K.createElement(hT.Provider,{value:K.useMemo(()=>({nodesRef:r,addNode:n,removeNode:s,events:o}),[n,s,o])},e)}function su(t){return"data-floating-ui-"+t}function gi(t){const e=K.useRef(t);return Xr(()=>{e.current=t}),e}const M1=su("safe-polygon");function db(t,e,r){return r&&!Of(r)?0:typeof t=="number"?t:t?.[e]}function P$(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:s,events:o,elements:l}=t,{enabled:u=!0,delay:d=0,handleClose:m=null,mouseOnly:y=!1,restMs:w=0,move:E=!0}=e,k=Dc(),C=sh(),q=gi(m),A=gi(d),D=gi(r),F=K.useRef(),$=K.useRef(-1),H=K.useRef(),G=K.useRef(-1),B=K.useRef(!0),Z=K.useRef(!1),ie=K.useRef(()=>{}),V=K.useRef(!1),ne=K.useCallback(()=>{var je;const _e=(je=s.current.openEvent)==null?void 0:je.type;return _e?.includes("mouse")&&_e!=="mousedown"},[s]);K.useEffect(()=>{if(!u)return;function je(_e){let{open:ge}=_e;ge||(clearTimeout($.current),clearTimeout(G.current),B.current=!0,V.current=!1)}return o.on("openchange",je),()=>{o.off("openchange",je)}},[u,o]),K.useEffect(()=>{if(!u||!q.current||!r)return;function je(ge){ne()&&n(!1,ge,"hover")}const _e=Qn(l.floating).documentElement;return _e.addEventListener("mouseleave",je),()=>{_e.removeEventListener("mouseleave",je)}},[l.floating,r,n,u,q,ne]);const M=K.useCallback(function(je,_e,ge){_e===void 0&&(_e=!0),ge===void 0&&(ge="hover");const Ee=db(A.current,"close",F.current);Ee&&!H.current?(clearTimeout($.current),$.current=window.setTimeout(()=>n(!1,je,ge),Ee)):_e&&(clearTimeout($.current),n(!1,je,ge))},[A,n]),se=Pi(()=>{ie.current(),H.current=void 0}),Y=Pi(()=>{if(Z.current){const je=Qn(l.floating).body;je.style.pointerEvents="",je.removeAttribute(M1),Z.current=!1}}),me=Pi(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);K.useEffect(()=>{if(!u)return;function je(Q){if(clearTimeout($.current),B.current=!1,y&&!Of(F.current)||w>0&&!db(A.current,"open"))return;const Se=db(A.current,"open",F.current);Se?$.current=window.setTimeout(()=>{D.current||n(!0,Q,"hover")},Se):r||n(!0,Q,"hover")}function _e(Q){if(me())return;ie.current();const Se=Qn(l.floating);if(clearTimeout(G.current),V.current=!1,q.current&&s.current.floatingContext){r||clearTimeout($.current),H.current=q.current({...s.current.floatingContext,tree:k,x:Q.clientX,y:Q.clientY,onClose(){Y(),se(),me()||M(Q,!0,"safe-polygon")}});const at=H.current;Se.addEventListener("mousemove",at),ie.current=()=>{Se.removeEventListener("mousemove",at)};return}(F.current==="touch"?!Hn(l.floating,Q.relatedTarget):!0)&&M(Q)}function ge(Q){me()||s.current.floatingContext&&(q.current==null||q.current({...s.current.floatingContext,tree:k,x:Q.clientX,y:Q.clientY,onClose(){Y(),se(),me()||M(Q)}})(Q))}if(Vr(l.domReference)){var Ee;const Q=l.domReference;return r&&Q.addEventListener("mouseleave",ge),(Ee=l.floating)==null||Ee.addEventListener("mouseleave",ge),E&&Q.addEventListener("mousemove",je,{once:!0}),Q.addEventListener("mouseenter",je),Q.addEventListener("mouseleave",_e),()=>{var Se;r&&Q.removeEventListener("mouseleave",ge),(Se=l.floating)==null||Se.removeEventListener("mouseleave",ge),E&&Q.removeEventListener("mousemove",je),Q.removeEventListener("mouseenter",je),Q.removeEventListener("mouseleave",_e)}}},[l,u,t,y,w,E,M,se,Y,n,r,D,k,A,q,s,me]),Xr(()=>{var je;if(u&&r&&(je=q.current)!=null&&je.__options.blockPointerEvents&&ne()){Z.current=!0;const ge=l.floating;if(Vr(l.domReference)&&ge){var _e;const Ee=Qn(l.floating).body;Ee.setAttribute(M1,"");const Q=l.domReference,Se=k==null||(_e=k.nodesRef.current.find(lt=>lt.id===C))==null||(_e=_e.context)==null?void 0:_e.elements.floating;return Se&&(Se.style.pointerEvents=""),Ee.style.pointerEvents="none",Q.style.pointerEvents="auto",ge.style.pointerEvents="auto",()=>{Ee.style.pointerEvents="",Q.style.pointerEvents="",ge.style.pointerEvents=""}}}},[u,r,C,l,k,q,ne]),Xr(()=>{r||(F.current=void 0,V.current=!1,se(),Y())},[r,se,Y]),K.useEffect(()=>()=>{se(),clearTimeout($.current),clearTimeout(G.current),Y()},[u,l.domReference,se,Y]);const Te=K.useMemo(()=>{function je(_e){F.current=_e.pointerType}return{onPointerDown:je,onPointerEnter:je,onMouseMove(_e){const{nativeEvent:ge}=_e;function Ee(){!B.current&&!D.current&&n(!0,ge,"hover")}y&&!Of(F.current)||r||w===0||V.current&&_e.movementX**2+_e.movementY**2<2||(clearTimeout(G.current),F.current==="touch"?Ee():(V.current=!0,G.current=window.setTimeout(Ee,w)))}}},[y,n,r,D,w]),qe=K.useMemo(()=>({onMouseEnter(){clearTimeout($.current)},onMouseLeave(je){me()||M(je.nativeEvent,!1)}}),[M,me]);return K.useMemo(()=>u?{reference:Te,floating:qe}:{},[u,Te,qe])}let B1=0;function Fl(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:s=!1}=e;n&&cancelAnimationFrame(B1);const o=()=>t?.focus({preventScroll:r});s?o():B1=requestAnimationFrame(o)}function $1(t,e){var r;let n=[],s=(r=t.find(o=>o.id===e))==null?void 0:r.parentId;for(;s;){const o=t.find(l=>l.id===s);s=o?.parentId,o&&(n=n.concat(o))}return n}function cc(t,e){let r=t.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),n=r;for(;n.length;)n=t.filter(s=>{var o;return(o=n)==null?void 0:o.some(l=>{var u;return s.parentId===l.id&&((u=s.context)==null?void 0:u.open)})}),r=r.concat(n);return r}function j$(t,e){let r,n=-1;function s(o,l){l>n&&(r=o,n=l),cc(t,o).forEach(d=>{s(d.id,l+1)})}return s(e,0),t.find(o=>o.id===r)}let Mu=new WeakMap,jp=new WeakSet,Fp={},fb=0;const F$=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,pT=t=>t&&(t.host||pT(t.parentNode)),L$=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=pT(r);return t.contains(n)?n:null}).filter(r=>r!=null);function D$(t,e,r,n){const s="data-floating-ui-inert",o=n?"inert":r?"aria-hidden":null,l=L$(e,t),u=new Set,d=new Set(l),m=[];Fp[s]||(Fp[s]=new WeakMap);const y=Fp[s];l.forEach(w),E(e),u.clear();function w(k){!k||u.has(k)||(u.add(k),k.parentNode&&w(k.parentNode))}function E(k){!k||d.has(k)||[].forEach.call(k.children,C=>{if(pl(C)!=="script")if(u.has(C))E(C);else{const q=o?C.getAttribute(o):null,A=q!==null&&q!=="false",D=Mu.get(C)||0,F=o?D+1:D,$=(y.get(C)||0)+1;Mu.set(C,F),y.set(C,$),m.push(C),F===1&&A&&jp.add(C),$===1&&C.setAttribute(s,""),!A&&o&&C.setAttribute(o,"true")}})}return fb++,()=>{m.forEach(k=>{const C=Mu.get(k)||0,q=o?C-1:C,A=(y.get(k)||0)-1;Mu.set(k,q),y.set(k,A),q||(!jp.has(k)&&o&&k.removeAttribute(o),jp.delete(k)),A||k.removeAttribute(s)}),fb--,fb||(Mu=new WeakMap,Mu=new WeakMap,jp=new WeakSet,Fp={})}}function W1(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=Qn(t[0]).body;return D$(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const Wg=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function mT(t,e){const r=$g(t,Wg());e==="prev"&&r.reverse();const n=r.indexOf(zs(Qn(t)));return r.slice(n+1)[0]}function gT(){return mT(document.body,"next")}function yT(){return mT(document.body,"prev")}function nf(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!Hn(r,n)}function M$(t){$g(t,Wg()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function z1(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const zg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let B$;function U1(t){t.key==="Tab"&&(t.target,clearTimeout(B$))}const Ym=K.forwardRef(function(e,r){const[n,s]=K.useState();Xr(()=>(Hq()&&s("button"),document.addEventListener("keydown",U1),()=>{document.removeEventListener("keydown",U1)}),[]);const o={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[su("focus-guard")]:"",style:zg};return K.createElement("span",Rf({},e,o))}),vT=K.createContext(null),V1=su("portal");function $$(t){t===void 0&&(t={});const{id:e,root:r}=t,n=p0(),s=_T(),[o,l]=K.useState(null),u=K.useRef(null);return Xr(()=>()=>{o?.remove(),queueMicrotask(()=>{u.current=null})},[o]),Xr(()=>{if(!n||u.current)return;const d=e?document.getElementById(e):null;if(!d)return;const m=document.createElement("div");m.id=n,m.setAttribute(V1,""),d.appendChild(m),u.current=m,l(m)},[e,n]),Xr(()=>{if(r===null||!n||u.current)return;let d=r||s?.portalNode;d&&!Vr(d)&&(d=d.current),d=d||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,d.appendChild(m));const y=document.createElement("div");y.id=n,y.setAttribute(V1,""),d=m||d,d.appendChild(y),u.current=y,l(y)},[e,r,n,s]),o}function m0(t){const{children:e,id:r,root:n,preserveTabOrder:s=!0}=t,o=$$({id:r,root:n}),[l,u]=K.useState(null),d=K.useRef(null),m=K.useRef(null),y=K.useRef(null),w=K.useRef(null),E=l?.modal,k=l?.open,C=!!l&&!l.modal&&l.open&&s&&!!(n||o);return K.useEffect(()=>{if(!o||!s||E)return;function q(A){o&&nf(A)&&(A.type==="focusin"?z1:M$)(o)}return o.addEventListener("focusin",q,!0),o.addEventListener("focusout",q,!0),()=>{o.removeEventListener("focusin",q,!0),o.removeEventListener("focusout",q,!0)}},[o,s,E]),K.useEffect(()=>{o&&(k||z1(o))},[k,o]),K.createElement(vT.Provider,{value:K.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:d,afterOutsideRef:m,beforeInsideRef:y,afterInsideRef:w,portalNode:o,setFocusManagerState:u}),[s,o])},C&&o&&K.createElement(Ym,{"data-type":"outside",ref:d,onFocus:q=>{if(nf(q,o)){var A;(A=y.current)==null||A.focus()}else{const D=yT()||l?.refs.domReference.current;D?.focus()}}}),C&&o&&K.createElement("span",{"aria-owns":o.id,style:zg}),o&&$w.createPortal(e,o),C&&o&&K.createElement(Ym,{"data-type":"outside",ref:m,onFocus:q=>{if(nf(q,o)){var A;(A=w.current)==null||A.focus()}else{const D=gT()||l?.refs.domReference.current;D?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,q.nativeEvent,"focus-out")}}}))}const _T=()=>K.useContext(vT),mw="data-floating-ui-focusable";function gw(t){return t?t.hasAttribute(mw)?t:t.querySelector("["+mw+"]")||t:null}const H1=20;let Ll=[];function hb(t){Ll=Ll.filter(e=>e.isConnected),t&&pl(t)!=="body"&&(Ll.push(t),Ll.length>H1&&(Ll=Ll.slice(-H1)))}function Q1(){return Ll.slice().reverse().find(t=>t.isConnected)}function W$(t){const e=Wg();return HB(t,e)?t:$g(t,e)[0]||t}const z$=K.forwardRef(function(e,r){return K.createElement("button",Rf({},e,{type:"button",ref:r,tabIndex:-1,style:zg}))});function bT(t){const{context:e,children:r,disabled:n=!1,order:s=["content"],guards:o=!0,initialFocus:l=0,returnFocus:u=!0,restoreFocus:d=!1,modal:m=!0,visuallyHiddenDismiss:y=!1,closeOnFocusOut:w=!0,outsideElementsInert:E=!1}=t,{open:k,refs:C,nodeId:q,onOpenChange:A,events:D,dataRef:F,elements:{domReference:$,floating:H}}=e,G=typeof l=="number"&&l<0,B=Qq($)&&G,Z=F$(),ie=Z?o:!0,V=!ie||Z&&E,ne=gi(s),M=gi(l),se=gi(u),Y=Dc(),me=_T(),Te=K.useRef(null),qe=K.useRef(null),je=K.useRef(!1),_e=K.useRef(!1),ge=K.useRef(-1),Ee=me!=null,Q=gw(H),Se=Pi(function(vt){return vt===void 0&&(vt=Q),vt?$g(vt,Wg()):[]}),lt=Pi(vt=>{const gt=Se(vt);return ne.current.map(Ot=>$&&Ot==="reference"?$:Q&&Ot==="floating"?Q:gt).filter(Boolean).flat()});K.useEffect(()=>{if(n||!m)return;function vt(Ot){if(Ot.key==="Tab"){Hn(Q,zs(Qn(Q)))&&Se().length===0&&!B&&hi(Ot);const qt=lt(),er=Ba(Ot);ne.current[0]==="reference"&&er===$&&(hi(Ot),Ot.shiftKey?Fl(qt[qt.length-1]):Fl(qt[1])),ne.current[1]==="floating"&&er===Q&&Ot.shiftKey&&(hi(Ot),Fl(qt[0]))}}const gt=Qn(Q);return gt.addEventListener("keydown",vt),()=>{gt.removeEventListener("keydown",vt)}},[n,$,Q,m,ne,B,Se,lt]),K.useEffect(()=>{if(n||!H)return;function vt(gt){const Ot=Ba(gt),er=Se().indexOf(Ot);er!==-1&&(ge.current=er)}return H.addEventListener("focusin",vt),()=>{H.removeEventListener("focusin",vt)}},[n,H,Se]),K.useEffect(()=>{if(n||!w)return;function vt(){_e.current=!0,setTimeout(()=>{_e.current=!1})}function gt(Ot){const qt=Ot.relatedTarget;queueMicrotask(()=>{const er=!(Hn($,qt)||Hn(H,qt)||Hn(qt,H)||Hn(me?.portalNode,qt)||qt!=null&&qt.hasAttribute(su("focus-guard"))||Y&&(cc(Y.nodesRef.current,q).find(Zt=>{var sr,mr;return Hn((sr=Zt.context)==null?void 0:sr.elements.floating,qt)||Hn((mr=Zt.context)==null?void 0:mr.elements.domReference,qt)})||$1(Y.nodesRef.current,q).find(Zt=>{var sr,mr,ae;return[(sr=Zt.context)==null?void 0:sr.elements.floating,gw((mr=Zt.context)==null?void 0:mr.elements.floating)].includes(qt)||((ae=Zt.context)==null?void 0:ae.elements.domReference)===qt})));if(d&&er&&zs(Qn(Q))===Qn(Q).body){Cn(Q)&&Q.focus();const Zt=ge.current,sr=Se(),mr=sr[Zt]||sr[sr.length-1]||Q;Cn(mr)&&mr.focus()}(B||!m)&&qt&&er&&!_e.current&&qt!==Q1()&&(je.current=!0,A(!1,Ot,"focus-out"))})}if(H&&Cn($))return $.addEventListener("focusout",gt),$.addEventListener("pointerdown",vt),H.addEventListener("focusout",gt),()=>{$.removeEventListener("focusout",gt),$.removeEventListener("pointerdown",vt),H.removeEventListener("focusout",gt)}},[n,$,H,Q,m,q,Y,me,A,w,d,Se,B]);const at=K.useRef(null),dt=K.useRef(null),mt=j1([at,me?.beforeInsideRef]),ft=j1([dt,me?.afterInsideRef]);K.useEffect(()=>{var vt;if(n||!H)return;const gt=Array.from((me==null||(vt=me.portalNode)==null?void 0:vt.querySelectorAll("["+su("portal")+"]"))||[]),Ot=Y&&!m?$1(Y?.nodesRef.current,q).map(Zt=>{var sr;return(sr=Zt.context)==null?void 0:sr.elements.floating}):[],qt=[H,...gt,...Ot,Te.current,qe.current,at.current,dt.current,me?.beforeOutsideRef.current,me?.afterOutsideRef.current,ne.current.includes("reference")||B?$:null].filter(Zt=>Zt!=null),er=m||B?W1(qt,!V,V):W1(qt);return()=>{er()}},[n,$,H,m,ne,me,B,ie,V,Y,q]),Xr(()=>{if(n||!Cn(Q))return;const vt=Qn(Q),gt=zs(vt);queueMicrotask(()=>{const Ot=lt(Q),qt=M.current,er=(typeof qt=="number"?Ot[qt]:qt.current)||Q,Zt=Hn(Q,gt);!G&&!Zt&&k&&Fl(er,{preventScroll:er===Q})})},[n,k,Q,G,lt,M]),Xr(()=>{if(n||!Q)return;let vt=!1;const gt=Qn(Q),Ot=zs(gt);let er=F.current.openEvent;hb(Ot);function Zt(ae){let{open:ce,reason:ye,event:Oe,nested:De}=ae;ce&&(er=Oe),ye==="escape-key"&&C.domReference.current&&hb(C.domReference.current),["hover","safe-polygon"].includes(ye)&&Oe.type==="mouseleave"&&(je.current=!0),ye==="outside-press"&&(De?(je.current=!1,vt=!0):je.current=!(Vq(Oe)||l0(Oe)))}D.on("openchange",Zt);const sr=gt.createElement("span");sr.setAttribute("tabindex","-1"),sr.setAttribute("aria-hidden","true"),Object.assign(sr.style,zg),Ee&&$&&$.insertAdjacentElement("afterend",sr);function mr(){return typeof se.current=="boolean"?Q1()||sr:se.current.current||sr}return()=>{D.off("openchange",Zt);const ae=zs(gt),ce=Hn(H,ae)||Y&&cc(Y.nodesRef.current,q).some(De=>{var Ge;return Hn((Ge=De.context)==null?void 0:Ge.elements.floating,ae)});(ce||er&&["click","mousedown"].includes(er.type))&&C.domReference.current&&hb(C.domReference.current);const Oe=mr();queueMicrotask(()=>{const De=W$(Oe);se.current&&!je.current&&Cn(De)&&(!(De!==ae&&ae!==gt.body)||ce)&&De.focus({preventScroll:vt}),sr.remove()})}},[n,H,Q,se,F,C,D,Y,q,Ee,$]),K.useEffect(()=>{queueMicrotask(()=>{je.current=!1})},[n]),Xr(()=>{if(!n&&me)return me.setFocusManagerState({modal:m,closeOnFocusOut:w,open:k,onOpenChange:A,refs:C}),()=>{me.setFocusManagerState(null)}},[n,me,m,k,A,C,w]),Xr(()=>{if(n||!Q||typeof MutationObserver!="function"||G)return;const vt=()=>{const Ot=Q.getAttribute("tabindex"),qt=Se(),er=zs(Qn(H)),Zt=qt.indexOf(er);Zt!==-1&&(ge.current=Zt),ne.current.includes("floating")||er!==C.domReference.current&&qt.length===0?Ot!=="0"&&Q.setAttribute("tabindex","0"):Ot!=="-1"&&Q.setAttribute("tabindex","-1")};vt();const gt=new MutationObserver(vt);return gt.observe(Q,{childList:!0,subtree:!0,attributes:!0}),()=>{gt.disconnect()}},[n,H,Q,C,ne,Se,G]);function yt(vt){return n||!y||!m?null:K.createElement(z$,{ref:vt==="start"?Te:qe,onClick:gt=>A(!1,gt.nativeEvent)},typeof y=="string"?y:"Dismiss")}const jt=!n&&ie&&(m?!B:!0)&&(Ee||m);return K.createElement(K.Fragment,null,jt&&K.createElement(Ym,{"data-type":"inside",ref:mt,onFocus:vt=>{if(m){const Ot=lt();Fl(s[0]==="reference"?Ot[0]:Ot[Ot.length-1])}else if(me!=null&&me.preserveTabOrder&&me.portalNode)if(je.current=!1,nf(vt,me.portalNode)){const Ot=gT()||$;Ot?.focus()}else{var gt;(gt=me.beforeOutsideRef.current)==null||gt.focus()}}}),!B&&yt("start"),r,yt("end"),jt&&K.createElement(Ym,{"data-type":"inside",ref:ft,onFocus:vt=>{if(m)Fl(lt()[0]);else if(me!=null&&me.preserveTabOrder&&me.portalNode)if(w&&(je.current=!0),nf(vt,me.portalNode)){const Ot=yT()||$;Ot?.focus()}else{var gt;(gt=me.afterOutsideRef.current)==null||gt.focus()}}}))}let Lp=0;function U$(){const t=/iP(hone|ad|od)|iOS/.test(a0()),e=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,o=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",s&&(e[n]=s+"px"),t){var u,d;const m=((u=window.visualViewport)==null?void 0:u.offsetLeft)||0,y=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(y))+"px",left:-(o-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[n]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(o,l))}}let K1=()=>{};const V$=K.forwardRef(function(e,r){const{lockScroll:n=!1,...s}=e;return Xr(()=>{if(n)return Lp++,Lp===1&&(K1=U$()),()=>{Lp--,Lp===0&&K1()}},[n]),K.createElement("div",Rf({ref:r},s,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...s.style}}))});function G1(t){return Cn(t.target)&&t.target.tagName==="BUTTON"}function J1(t){return u0(t)}function g0(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:s,elements:{domReference:o}}=t,{enabled:l=!0,event:u="click",toggle:d=!0,ignoreMouse:m=!1,keyboardHandlers:y=!0,stickIfOpen:w=!0}=e,E=K.useRef(),k=K.useRef(!1),C=K.useMemo(()=>({onPointerDown(q){E.current=q.pointerType},onMouseDown(q){const A=E.current;q.button===0&&u!=="click"&&(Of(A,!0)&&m||(r&&d&&(!(s.current.openEvent&&w)||s.current.openEvent.type==="mousedown")?n(!1,q.nativeEvent,"click"):(q.preventDefault(),n(!0,q.nativeEvent,"click"))))},onClick(q){const A=E.current;if(u==="mousedown"&&E.current){E.current=void 0;return}Of(A,!0)&&m||(r&&d&&(!(s.current.openEvent&&w)||s.current.openEvent.type==="click")?n(!1,q.nativeEvent,"click"):n(!0,q.nativeEvent,"click"))},onKeyDown(q){E.current=void 0,!(q.defaultPrevented||!y||G1(q))&&(q.key===" "&&!J1(o)&&(q.preventDefault(),k.current=!0),q.key==="Enter"&&n(!(r&&d),q.nativeEvent,"click"))},onKeyUp(q){q.defaultPrevented||!y||G1(q)||J1(o)||q.key===" "&&k.current&&(k.current=!1,n(!(r&&d),q.nativeEvent,"click"))}}),[s,o,u,m,y,n,r,w,d]);return K.useMemo(()=>l?{reference:C}:{},[l,C])}const H$={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Q$={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Z1=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t?.outsidePress)!=null?r:!0}};function y0(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:s,dataRef:o}=t,{enabled:l=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:m="pointerdown",referencePress:y=!1,referencePressEvent:w="pointerdown",ancestorScroll:E=!1,bubbles:k,capture:C}=e,q=Dc(),A=Pi(typeof d=="function"?d:()=>!1),D=typeof d=="function"?A:d,F=K.useRef(!1),$=K.useRef(!1),{escapeKey:H,outsidePress:G}=Z1(k),{escapeKey:B,outsidePress:Z}=Z1(C),ie=K.useRef(!1),V=Pi(Te=>{var qe;if(!r||!l||!u||Te.key!=="Escape"||ie.current)return;const je=(qe=o.current.floatingContext)==null?void 0:qe.nodeId,_e=q?cc(q.nodesRef.current,je):[];if(!H&&(Te.stopPropagation(),_e.length>0)){let ge=!0;if(_e.forEach(Ee=>{var Q;if((Q=Ee.context)!=null&&Q.open&&!Ee.context.dataRef.current.__escapeKeyBubbles){ge=!1;return}}),!ge)return}n(!1,yB(Te)?Te.nativeEvent:Te,"escape-key")}),ne=Pi(Te=>{var qe;const je=()=>{var _e;V(Te),(_e=Ba(Te))==null||_e.removeEventListener("keydown",je)};(qe=Ba(Te))==null||qe.addEventListener("keydown",je)}),M=Pi(Te=>{var qe;const je=F.current;F.current=!1;const _e=$.current;if($.current=!1,m==="click"&&_e||je||typeof D=="function"&&!D(Te))return;const ge=Ba(Te),Ee="["+su("inert")+"]",Q=Qn(s.floating).querySelectorAll(Ee);let Se=Vr(ge)?ge:null;for(;Se&&!Xo(Se);){const mt=na(Se);if(Xo(mt)||!Vr(mt))break;Se=mt}if(Q.length&&Vr(ge)&&!vB(ge)&&!Hn(ge,s.floating)&&Array.from(Q).every(mt=>!Hn(Se,mt)))return;if(Cn(ge)&&me){const mt=Xo(ge),ft=Is(ge),yt=/auto|scroll/,jt=mt||yt.test(ft.overflowX),vt=mt||yt.test(ft.overflowY),gt=jt&&ge.clientWidth>0&&ge.scrollWidth>ge.clientWidth,Ot=vt&&ge.clientHeight>0&&ge.scrollHeight>ge.clientHeight,qt=ft.direction==="rtl",er=Ot&&(qt?Te.offsetX<=ge.offsetWidth-ge.clientWidth:Te.offsetX>ge.clientWidth),Zt=gt&&Te.offsetY>ge.clientHeight;if(er||Zt)return}const lt=(qe=o.current.floatingContext)==null?void 0:qe.nodeId,at=q&&cc(q.nodesRef.current,lt).some(mt=>{var ft;return ab(Te,(ft=mt.context)==null?void 0:ft.elements.floating)});if(ab(Te,s.floating)||ab(Te,s.domReference)||at)return;const dt=q?cc(q.nodesRef.current,lt):[];if(dt.length>0){let mt=!0;if(dt.forEach(ft=>{var yt;if((yt=ft.context)!=null&&yt.open&&!ft.context.dataRef.current.__outsidePressBubbles){mt=!1;return}}),!mt)return}n(!1,Te,"outside-press")}),se=Pi(Te=>{var qe;const je=()=>{var _e;M(Te),(_e=Ba(Te))==null||_e.removeEventListener(m,je)};(qe=Ba(Te))==null||qe.addEventListener(m,je)});K.useEffect(()=>{if(!r||!l)return;o.current.__escapeKeyBubbles=H,o.current.__outsidePressBubbles=G;let Te=-1;function qe(Q){n(!1,Q,"ancestor-scroll")}function je(){window.clearTimeout(Te),ie.current=!0}function _e(){Te=window.setTimeout(()=>{ie.current=!1},Mg()?5:0)}const ge=Qn(s.floating);u&&(ge.addEventListener("keydown",B?ne:V,B),ge.addEventListener("compositionstart",je),ge.addEventListener("compositionend",_e)),D&&ge.addEventListener(m,Z?se:M,Z);let Ee=[];return E&&(Vr(s.domReference)&&(Ee=Ka(s.domReference)),Vr(s.floating)&&(Ee=Ee.concat(Ka(s.floating))),!Vr(s.reference)&&s.reference&&s.reference.contextElement&&(Ee=Ee.concat(Ka(s.reference.contextElement)))),Ee=Ee.filter(Q=>{var Se;return Q!==((Se=ge.defaultView)==null?void 0:Se.visualViewport)}),Ee.forEach(Q=>{Q.addEventListener("scroll",qe,{passive:!0})}),()=>{u&&(ge.removeEventListener("keydown",B?ne:V,B),ge.removeEventListener("compositionstart",je),ge.removeEventListener("compositionend",_e)),D&&ge.removeEventListener(m,Z?se:M,Z),Ee.forEach(Q=>{Q.removeEventListener("scroll",qe)}),window.clearTimeout(Te)}},[o,s,u,D,m,r,n,E,l,H,G,V,B,ne,M,Z,se]),K.useEffect(()=>{F.current=!1},[D,m]);const Y=K.useMemo(()=>({onKeyDown:V,...y&&{[H$[w]]:Te=>{n(!1,Te.nativeEvent,"reference-press")},...w!=="click"&&{onClick(Te){n(!1,Te.nativeEvent,"reference-press")}}}}),[V,n,y,w]),me=K.useMemo(()=>({onKeyDown:V,onMouseDown(){$.current=!0},onMouseUp(){$.current=!0},[Q$[m]]:()=>{F.current=!0}}),[V,m]);return K.useMemo(()=>l?{reference:Y,floating:me}:{},[l,Y,me])}function K$(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=p0(),o=K.useRef({}),[l]=K.useState(()=>dT()),u=sh()!=null,[d,m]=K.useState(n.reference),y=Pi((k,C,q)=>{o.current.openEvent=k?C:void 0,l.emit("openchange",{open:k,event:C,reason:q,nested:u}),r?.(k,C,q)}),w=K.useMemo(()=>({setPositionReference:m}),[]),E=K.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return K.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:E,events:l,floatingId:s,refs:w}),[e,y,E,l,s,w])}function v0(t){t===void 0&&(t={});const{nodeId:e}=t,r=K$({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[o,l]=K.useState(null),[u,d]=K.useState(null),y=s?.domReference||o,w=K.useRef(null),E=Dc();Xr(()=>{y&&(w.current=y)},[y]);const k=_$({...t,elements:{...s,...u&&{reference:u}}}),C=K.useCallback($=>{const H=Vr($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;d(H),k.refs.setReference(H)},[k.refs]),q=K.useCallback($=>{(Vr($)||$===null)&&(w.current=$,l($)),(Vr(k.refs.reference.current)||k.refs.reference.current===null||$!==null&&!Vr($))&&k.refs.setReference($)},[k.refs]),A=K.useMemo(()=>({...k.refs,setReference:q,setPositionReference:C,domReference:w}),[k.refs,q,C]),D=K.useMemo(()=>({...k.elements,domReference:y}),[k.elements,y]),F=K.useMemo(()=>({...k,...n,refs:A,elements:D,nodeId:e}),[k,A,D,e,n]);return Xr(()=>{n.dataRef.current.floatingContext=F;const $=E?.nodesRef.current.find(H=>H.id===e);$&&($.context=F)}),K.useMemo(()=>({...k,context:F,refs:A,elements:D}),[k,A,D,F])}function G$(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:s,dataRef:o,elements:l}=t,{enabled:u=!0,visibleOnly:d=!0}=e,m=K.useRef(!1),y=K.useRef(),w=K.useRef(!0);K.useEffect(()=>{if(!u)return;const k=Di(l.domReference);function C(){!r&&Cn(l.domReference)&&l.domReference===zs(Qn(l.domReference))&&(m.current=!0)}function q(){w.current=!0}return k.addEventListener("blur",C),k.addEventListener("keydown",q,!0),()=>{k.removeEventListener("blur",C),k.removeEventListener("keydown",q,!0)}},[l.domReference,r,u]),K.useEffect(()=>{if(!u)return;function k(C){let{reason:q}=C;(q==="reference-press"||q==="escape-key")&&(m.current=!0)}return s.on("openchange",k),()=>{s.off("openchange",k)}},[s,u]),K.useEffect(()=>()=>{clearTimeout(y.current)},[]);const E=K.useMemo(()=>({onPointerDown(k){l0(k.nativeEvent)||(w.current=!1)},onMouseLeave(){m.current=!1},onFocus(k){if(m.current)return;const C=Ba(k.nativeEvent);if(d&&Vr(C))try{if(Hq()&&mB())throw Error();if(!C.matches(":focus-visible"))return}catch{if(!w.current&&!u0(C))return}n(!0,k.nativeEvent,"focus")},onBlur(k){m.current=!1;const C=k.relatedTarget,q=k.nativeEvent,A=Vr(C)&&C.hasAttribute(su("focus-guard"))&&C.getAttribute("data-type")==="outside";y.current=window.setTimeout(()=>{var D;const F=zs(l.domReference?l.domReference.ownerDocument:document);!C&&F===l.domReference||Hn((D=o.current.floatingContext)==null?void 0:D.refs.floating.current,F)||Hn(l.domReference,F)||A||n(!1,q,"focus")})}}),[o,l.domReference,n,d]);return K.useMemo(()=>u?{reference:E}:{},[u,E])}const Y1="active",X1="selected";function pb(t,e,r){const n=new Map,s=r==="item";let o=t;if(s&&t){const{[Y1]:l,[X1]:u,...d}=t;o=d}return{...r==="floating"&&{tabIndex:-1,[mw]:""},...o,...e.map(l=>{const u=l?l[r]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((l,u)=>(u&&Object.entries(u).forEach(d=>{let[m,y]=d;if(!(s&&[Y1,X1].includes(m)))if(m.indexOf("on")===0){if(n.has(m)||n.set(m,[]),typeof y=="function"){var w;(w=n.get(m))==null||w.push(y),l[m]=function(){for(var E,k=arguments.length,C=new Array(k),q=0;q<k;q++)C[q]=arguments[q];return(E=n.get(m))==null?void 0:E.map(A=>A(...C)).find(A=>A!==void 0)}}}else l[m]=y}),l),{})}}function _0(t){t===void 0&&(t=[]);const e=t.map(u=>u?.reference),r=t.map(u=>u?.floating),n=t.map(u=>u?.item),s=K.useCallback(u=>pb(u,t,"reference"),e),o=K.useCallback(u=>pb(u,t,"floating"),r),l=K.useCallback(u=>pb(u,t,"item"),n);return K.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:l}),[s,o,l])}function Ug(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function ek(t,e){return Ug(e,t===h0||t===ih,t===Ga||t===Ja)}function mb(t,e,r){return Ug(e,t===ih,r?t===Ga:t===Ja)||t==="Enter"||t===" "||t===""}function J$(t,e,r){return Ug(e,r?t===Ga:t===Ja,t===ih)}function tk(t,e,r){return Ug(e,r?t===Ja:t===Ga,t===h0)}function Z$(t,e){const{open:r,onOpenChange:n,elements:s}=t,{listRef:o,activeIndex:l,onNavigate:u=()=>{},enabled:d=!0,selectedIndex:m=null,allowEscape:y=!1,loop:w=!1,nested:E=!1,rtl:k=!1,virtual:C=!1,focusItemOnOpen:q="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:D=!0,disabledIndices:F=void 0,orientation:$="vertical",cols:H=1,scrollItemIntoView:G=!0,virtualItemRef:B,itemSizes:Z,dense:ie=!1}=e,V=gw(s.floating),ne=gi(V),M=sh(),se=Dc(),Y=Pi(()=>{u(qe.current===-1?null:qe.current)}),me=Qq(s.domReference),Te=K.useRef(q),qe=K.useRef(m??-1),je=K.useRef(null),_e=K.useRef(!0),ge=K.useRef(Y),Ee=K.useRef(!!s.floating),Q=K.useRef(r),Se=K.useRef(!1),lt=K.useRef(!1),at=gi(F),dt=gi(r),mt=gi(G),ft=gi(m),[yt,jt]=K.useState(),[vt,gt]=K.useState(),Ot=Pi(()=>{function ce(De){C?(jt(De.id),se?.events.emit("virtualfocus",De),B&&(B.current=De)):Fl(De,{sync:Se.current,preventScroll:!0})}const ye=o.current[qe.current];ye&&ce(ye),(Se.current?De=>De():requestAnimationFrame)(()=>{const De=o.current[qe.current]||ye;if(!De)return;ye||ce(De);const Ge=mt.current;Ge&&er&&(lt.current||!_e.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof Ge=="boolean"?{block:"nearest",inline:"nearest"}:Ge))})});Xr(()=>{d&&(r&&s.floating?Te.current&&m!=null&&(lt.current=!0,qe.current=m,Y()):Ee.current&&(qe.current=-1,ge.current()))},[d,r,s.floating,m,Y]),Xr(()=>{if(d&&r&&s.floating)if(l==null){if(Se.current=!1,ft.current!=null)return;if(Ee.current&&(qe.current=-1,Ot()),(!Q.current||!Ee.current)&&Te.current&&(je.current!=null||Te.current===!0&&je.current==null)){let ce=0;const ye=()=>{o.current[0]==null?(ce<2&&(ce?requestAnimationFrame:queueMicrotask)(ye),ce++):(qe.current=je.current==null||mb(je.current,$,k)||E?cb(o,at.current):F1(o,at.current),je.current=null,Y())};ye()}}else rf(o,l)||(qe.current=l,Ot(),lt.current=!1)},[d,r,s.floating,l,ft,E,o,$,k,Y,Ot,at]),Xr(()=>{var ce;if(!d||s.floating||!se||C||!Ee.current)return;const ye=se.nodesRef.current,Oe=(ce=ye.find(_t=>_t.id===M))==null||(ce=ce.context)==null?void 0:ce.elements.floating,De=zs(Qn(s.floating)),Ge=ye.some(_t=>_t.context&&Hn(_t.context.elements.floating,De));Oe&&!Ge&&_e.current&&Oe.focus({preventScroll:!0})},[d,s.floating,se,M,C]),Xr(()=>{if(!d||!se||!C||M)return;function ce(ye){gt(ye.id),B&&(B.current=ye)}return se.events.on("virtualfocus",ce),()=>{se.events.off("virtualfocus",ce)}},[d,se,C,M,B]),Xr(()=>{ge.current=Y,Q.current=r,Ee.current=!!s.floating}),Xr(()=>{r||(je.current=null)},[r]);const qt=l!=null,er=K.useMemo(()=>{function ce(Oe){if(!r)return;const De=o.current.indexOf(Oe);De!==-1&&qe.current!==De&&(qe.current=De,Y())}return{onFocus(Oe){let{currentTarget:De}=Oe;Se.current=!0,ce(De)},onClick:Oe=>{let{currentTarget:De}=Oe;return De.focus({preventScroll:!0})},...A&&{onMouseMove(Oe){let{currentTarget:De}=Oe;Se.current=!0,lt.current=!1,ce(De)},onPointerLeave(Oe){let{pointerType:De}=Oe;if(!(!_e.current||De==="touch")&&(Se.current=!0,qe.current=-1,Y(),!C)){var Ge;(Ge=ne.current)==null||Ge.focus({preventScroll:!0})}}}}},[r,ne,A,o,Y,C]),Zt=Pi(ce=>{if(_e.current=!1,Se.current=!0,ce.which===229||!dt.current&&ce.currentTarget===ne.current)return;if(E&&tk(ce.key,$,k)){hi(ce),n(!1,ce.nativeEvent,"list-navigation"),Cn(s.domReference)&&(C?se?.events.emit("virtualfocus",s.domReference):s.domReference.focus());return}const ye=qe.current,Oe=cb(o,F),De=F1(o,F);if(me||(ce.key==="Home"&&(hi(ce),qe.current=Oe,Y()),ce.key==="End"&&(hi(ce),qe.current=De,Y())),H>1){const Ge=Z||Array.from({length:o.current.length},()=>({width:1,height:1})),_t=E$(Ge,H,ie),$t=_t.findIndex($r=>$r!=null&&!am(o.current,$r,F)),Sr=_t.reduce(($r,ci,dn)=>ci!=null&&!am(o.current,ci,F)?dn:$r,-1),gr=_t[N$({current:_t.map($r=>$r!=null?o.current[$r]:null)},{event:ce,orientation:$,loop:w,rtl:k,cols:H,disabledIndices:I$([...F||o.current.map(($r,ci)=>am(o.current,ci)?ci:void 0),void 0],_t),minIndex:$t,maxIndex:Sr,prevIndex:k$(qe.current>De?Oe:qe.current,Ge,_t,H,ce.key===ih?"bl":ce.key===(k?Ga:Ja)?"tr":"tl"),stopEvent:!0})];if(gr!=null&&(qe.current=gr,Y()),$==="both")return}if(ek(ce.key,$)){if(hi(ce),r&&!C&&zs(ce.currentTarget.ownerDocument)===ce.currentTarget){qe.current=mb(ce.key,$,k)?Oe:De,Y();return}mb(ce.key,$,k)?w?qe.current=ye>=De?y&&ye!==o.current.length?-1:Oe:Xn(o,{startingIndex:ye,disabledIndices:F}):qe.current=Math.min(De,Xn(o,{startingIndex:ye,disabledIndices:F})):w?qe.current=ye<=Oe?y&&ye!==-1?o.current.length:De:Xn(o,{startingIndex:ye,decrement:!0,disabledIndices:F}):qe.current=Math.max(Oe,Xn(o,{startingIndex:ye,decrement:!0,disabledIndices:F})),rf(o,qe.current)&&(qe.current=-1),Y()}}),sr=K.useMemo(()=>C&&r&&qt&&{"aria-activedescendant":vt||yt},[C,r,qt,vt,yt]),mr=K.useMemo(()=>({"aria-orientation":$==="both"?void 0:$,...me?{}:sr,onKeyDown:Zt,onPointerMove(){_e.current=!0}}),[sr,Zt,$,me]),ae=K.useMemo(()=>{function ce(Oe){q==="auto"&&Vq(Oe.nativeEvent)&&(Te.current=!0)}function ye(Oe){Te.current=q,q==="auto"&&l0(Oe.nativeEvent)&&(Te.current=!0)}return{...sr,onKeyDown(Oe){_e.current=!1;const De=Oe.key.startsWith("Arrow"),Ge=["Home","End"].includes(Oe.key),_t=De||Ge,$t=J$(Oe.key,$,k),Sr=tk(Oe.key,$,k),gr=ek(Oe.key,$),$r=(E?$t:gr)||Oe.key==="Enter"||Oe.key.trim()==="";if(C&&r){const To=se?.nodesRef.current.find(Ht=>Ht.parentId==null),$n=se&&To?j$(se.nodesRef.current,To.id):null;if(_t&&$n&&B){const Ht=new KeyboardEvent("keydown",{key:Oe.key,bubbles:!0});if($t||Sr){var ci,dn;const fa=((ci=$n.context)==null?void 0:ci.elements.domReference)===Oe.currentTarget,ha=Sr&&!fa?(dn=$n.context)==null?void 0:dn.elements.domReference:$t?o.current.find(pa=>pa?.id===yt):null;ha&&(hi(Oe),ha.dispatchEvent(Ht),gt(void 0))}if((gr||Ge)&&$n.context&&$n.context.open&&$n.parentId&&Oe.currentTarget!==$n.context.elements.domReference){var xi;hi(Oe),(xi=$n.context.elements.domReference)==null||xi.dispatchEvent(Ht);return}}return Zt(Oe)}if(!(!r&&!D&&De)){if($r&&(je.current=E&&gr?null:Oe.key),E){$t&&(hi(Oe),r?(qe.current=cb(o,at.current),Y()):n(!0,Oe.nativeEvent,"list-navigation"));return}gr&&(m!=null&&(qe.current=m),hi(Oe),!r&&D?n(!0,Oe.nativeEvent,"list-navigation"):Zt(Oe),r&&Y())}},onFocus(){r&&!C&&(qe.current=-1,Y())},onPointerDown:ye,onMouseDown:ce,onClick:ce}},[yt,sr,Zt,at,q,o,E,Y,n,r,D,$,k,m,se,C,B]);return K.useMemo(()=>d?{reference:ae,floating:mr,item:er}:{},[d,ae,mr,er])}const rk=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function Bu(t,e){return typeof t=="function"?t(e):t}function Y$(t,e){const[r,n]=K.useState(t);return t&&!r&&n(!0),K.useEffect(()=>{if(!t&&r){const s=setTimeout(()=>n(!1),e);return()=>clearTimeout(s)}},[t,r,e]),r}function X$(t,e){e===void 0&&(e={});const{open:r,elements:{floating:n}}=t,{duration:s=250}=e,l=(typeof s=="number"?s:s.close)||0,[u,d]=K.useState("unmounted"),m=Y$(r,l);return!m&&u==="close"&&d("unmounted"),Xr(()=>{if(n){if(r){d("initial");const y=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(y)}}d("close")}},[r,n]),{isMounted:m,status:u}}function b0(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:n,close:s,common:o,duration:l=250}=e,u=t.placement,d=u.split("-")[0],m=K.useMemo(()=>({side:d,placement:u}),[d,u]),y=typeof l=="number",w=(y?l:l.open)||0,E=(y?l:l.close)||0,[k,C]=K.useState(()=>({...Bu(o,m),...Bu(r,m)})),{isMounted:q,status:A}=X$(t,{duration:l}),D=gi(r),F=gi(n),$=gi(s),H=gi(o);return Xr(()=>{const G=Bu(D.current,m),B=Bu($.current,m),Z=Bu(H.current,m),ie=Bu(F.current,m)||Object.keys(G).reduce((V,ne)=>(V[ne]="",V),{});if(A==="initial"&&C(V=>({transitionProperty:V.transitionProperty,...Z,...G})),A==="open"&&C({transitionProperty:Object.keys(ie).map(rk).join(","),transitionDuration:w+"ms",...Z,...ie}),A==="close"){const V=B||G;C({transitionProperty:Object.keys(V).map(rk).join(","),transitionDuration:E+"ms",...Z,...V})}},[E,$,D,F,H,w,A,m]),{isMounted:q,styles:k}}const e4=K.createContext({close(){}}),t4=fr({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),r4=({target:t,action:e="hover",disabled:r=!1,closeOnClick:n=!1,delay:s=100,float:o,variant:l,tva:u=t4,css:d,children:m})=>{const[y,w]=K.useState(!1),{refs:E,floatingStyles:k,context:C}=v0({open:y,onOpenChange:w,placement:"top",whileElementsMounted:oT,middleware:[lT(10),uT({fallbackAxisSideDirection:"start"}),b$()],...o}),{getReferenceProps:q,getFloatingProps:A}=_0([P$(C,{enabled:e==="hover",delay:s}),g0(C,{enabled:e==="click"}),G$(C),y0(C)]),{isMounted:D,styles:F}=b0(C),$=u({mounted:D,...l,css:d}).slots;return g.jsxs(g.Fragment,{children:[g.jsx("button",{type:"button",ref:E.setReference,...q(),disabled:r,className:$.target(),children:t}),g.jsx(m0,{children:g.jsx("div",{ref:E.setFloating,style:{...k,...F},className:$.portal(),...A(),onClick:n?()=>{w(!1)}:void 0,children:g.jsx(e4.Provider,{value:{close(){w(!1)}},children:m})})})]})},wT="icon-[system-uicons--menu-hamburger]",xT=fr({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),br=({icon:t,variant:e,tva:r=xT,css:n,...s})=>{const o=r({...e,css:n}).slots;return t?g.jsx("div",{className:o.base({css:[t]}),...s}):null},n4=fr({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),qn=({icon:t=wT,iconProps:e,children:r,variant:n,tva:s=n4,css:o,...l})=>{const u=s({...n,css:o}).slots;return g.jsx(A$,{children:g.jsx(r4,{action:"click",target:g.jsx(br,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:g.jsx("div",{className:u.base(),children:r})})})},ST="icon-[svg-spinners--90-ring-with-bg]",i4=fr({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),w0=({iconEnabled:t,iconDisabled:e,iconLoading:r=ST,disabled:n=!1,loading:s=!1,onClick:o,variant:l,tva:u=i4,css:d,children:m,...y})=>{const w=u({disabled:n,loading:s,...l,css:d}).slots;return g.jsxs("div",{className:w.base(),onClick:n?void 0:o,...y,children:[n?g.jsx(br,{icon:s?r:e??t,variant:{size:"xl"}}):g.jsx(br,{icon:s?r:t,variant:{size:"xl"}}),m]})},s4="icon-[iconamoon--close-light]",ls=K.createContext(void 0),o4=fr({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),Vg=({target:t,icon:e,title:r,disabled:n=!1,outside:s=!1,variant:o,css:l,tva:u=o4,children:d})=>{const[m,y]=K.useState(!1),w=O$(),{refs:E,context:k}=v0({nodeId:w,open:m,onOpenChange:y}),C=g0(k),q=y0(k,{outsidePress:s}),{getReferenceProps:A,getFloatingProps:D}=_0([C,q]),{isMounted:F,styles:$}=b0(k),H=u({disabled:n,...o,css:l}).slots;return g.jsxs(ls.Provider,{value:{close(){y(!1)}},children:[g.jsx("div",{ref:E.setReference,...A({disabled:n}),className:H.target(),children:t}),g.jsx(R$,{id:w,children:F&&g.jsx(g.Fragment,{children:g.jsx(m0,{children:g.jsx(V$,{lockScroll:!0,style:$,className:H.base(),children:g.jsx(bT,{context:k,children:g.jsxs("div",{ref:E.setFloating,...D(),className:H.modal(),children:[g.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Xf(e)?g.jsx(br,{icon:e,variant:{size:"xl"}}):e),r&&g.jsx("div",{className:"text-lg font-semibold text-slate-700",children:r})]}),g.jsx(w0,{iconEnabled:s4,onClick:()=>y(!1)})]}),d]})})})})})})]})},a4=fr({use:$q,slot:{},variant:{},defaults:{}}),Dr=({icon:t,iconProps:e,label:r,textTitle:n,disabled:s=!1,modalProps:o,hidden:l=!1,variant:u,tva:d=a4,css:m,children:y})=>{const w=d({...u,disabled:s,css:m}).slots;return l?null:g.jsxs("div",{className:w.base(),children:[Xf(t)?g.jsx(br,{icon:t,...e}):t,g.jsx(Vg,{icon:t,target:r,title:n,disabled:s,css:{modal:["w-1/2"]},...o,children:y})]})},l4=fr({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),u4=({variant:t,tva:e=l4,css:r,...n})=>{const s=e({...t,css:r}).slots;return g.jsx("div",{className:s.base(),...n})},c4="icon-[material-symbols-light--check-small]",d4="icon-[material-symbols-light--close-small]",f4="icon-[material-symbols-light--check-indeterminate-small]",h4=fr({use:xT,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),p4=({value:t,checkIcon:e=c4,unCheckIcon:r=d4,undefinedIcon:n=f4,tva:s=h4,...o})=>t==null?g.jsx(br,{icon:n,tva:s,...o}):g.jsx(br,{icon:t?e:r,tva:l=>s({...l,value:t}),...o}),m4=fr({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),g4=({value:t,onChange:e,variant:r,tva:n=m4,css:s,...o})=>{const l=n({...r,css:s}).slots;return g.jsx("div",{className:l.base(),children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:u=>{e(u.target.checked)},...o}),g.jsx("div",{className:l.switch()})]})})},y4=fr({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),wn=({iconEnabled:t,iconDisabled:e,iconLoading:r=ST,iconProps:n,loading:s,variant:o,tva:l=y4,css:u,children:d,...m})=>{const y=l({disabled:m.disabled,...o,css:u}).slots;return g.jsxs("button",{type:"button",className:y.base({disabled:m.disabled}),...m,children:[m.disabled?g.jsx(br,{icon:s===!0?r:e,variant:{size:"xl"},...n}):g.jsx(br,{icon:s===!0?r:t,variant:{size:"xl"},...n}),d]})},x0=K.createContext({inline:!1}),v4=fr({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),_4=({inline:t,label:e,value:r,variant:n,tva:s=v4,css:o})=>{const l=K.useContext(x0),u=t??l?.inline,d=s({inline:u,...n,css:o}).slots;return g.jsxs("div",{className:d.base(),children:[e?g.jsx("div",{className:d.label(),children:e}):null,g.jsx("div",{className:d.value(),children:r})]})},b4=fr({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),NT=({items:t,hidden:e=[],valueOfProps:r,entity:n,variant:s,tva:o=b4,css:l,inline:u=!1})=>{const d=o({inline:u,...s,css:l}).slots;return g.jsx(x0.Provider,{value:{inline:u},children:g.jsx("div",{className:d.base(),children:t.filter(({id:m})=>!e.includes(m)).map(({id:m,render:y,...w})=>g.jsx(_4,{value:g.jsx(y,{entity:n}),...r,...w},m))})})},w4=fr({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),nk="icon-[tabler--dots]",x4=fr({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),S4=fr({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),gb=({pages:t,page:e,onPage:r,variant:n,tva:s=S4,css:o})=>{const l=s({...n,css:o}).slots;return g.jsx("nav",{className:l.base(),children:g.jsx("ul",{className:l.list(),children:t.map((u,d)=>g.jsx("li",{className:l.page({current:e===u-1}),onClick:()=>r(u-1),children:u},`page-${u}-${d}`))})})},N4=fr({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),E4=({items:t,icon:e,defaultValue:r,render:n,textSelect:s,disabled:o=!1,onItem:l,onSelect:u,onChange:d,value:m,variant:y,tva:w=N4,css:E})=>{const[k,C]=K.useState(!1),[q,A]=K.useState(null),[D,F]=K.useState(t.findIndex(ge=>ge.id===r));K.useEffect(()=>{F(t.findIndex(ge=>ge.id===m))},[m]);const{refs:$,floatingStyles:H,context:G}=v0({placement:"bottom-start",open:k,onOpenChange:C,whileElementsMounted:oT,middleware:[lT(5),uT({padding:10}),w$({apply({rects:ge,elements:Ee,availableHeight:Q}){Object.assign(Ee.floating.style,{maxHeight:`${Q}px`,minWidth:`${ge.reference.width}px`})},padding:10})]}),B=K.useRef([]),Z=K.useRef(!1),ie=g0(G,{event:"mousedown"}),V=y0(G),ne=Z$(G,{listRef:B,activeIndex:q,selectedIndex:D,onNavigate:A,loop:!0}),{getReferenceProps:M,getFloatingProps:se,getItemProps:Y}=_0([V,ne,ie]),{isMounted:me,styles:Te}=b0(G),qe=ge=>{F(ge),C(!1);const Ee=t[ge];Ee&&l?.(Ee),u?.(Ee),d?.(Ee?.id)},je=D===null?void 0:t[D],_e=w({disabled:o,...y,css:E}).slots;return g.jsxs(g.Fragment,{children:[g.jsx("div",{tabIndex:o?-1:0,ref:o?void 0:$.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...o?{}:M(),className:_e.base(),children:g.jsxs("div",{className:_e.input(),children:[e?g.jsx(br,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,je?g.jsx(n,{entity:je}):s||xr.rich("Select item"),g.jsx(br,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!k&&"text-slate-400",k&&"text-slate-600","group-hover:text-slate-600"]}})]})}),me&&g.jsx(m0,{children:g.jsx(bT,{context:G,modal:!1,children:g.jsx("div",{ref:$.setFloating,style:{...H,...Te},className:_e.popup(),...se(),children:t.map((ge,Ee)=>g.jsxs("div",{ref:Q=>{B.current[Ee]=Q},role:"option",tabIndex:Ee===q?0:-1,"aria-selected":Ee===D&&Ee===q,className:_e.item({selected:Ee===D,active:Ee===q}),...Y({onClick(){qe(Ee)},onKeyDown(Q){Q.key==="Enter"&&(Q.preventDefault(),qe(Ee)),Q.key===" "&&!Z.current&&(Q.preventDefault(),qe(Ee))}}),children:[g.jsx(n,{entity:ge}),Ee===D&&g.jsx(br,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},ge.id))})})})]})},k4=({sizes:t=[5,15,30,50,100],size:e,onSize:r,...n})=>g.jsx(E4,{items:t.map(s=>({id:`${s}`,size:s})),defaultValue:`${e}`,value:`${e}`,onItem:({size:s})=>r(s),render:({entity:{size:s}})=>s,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...n}),ik=({cursor:t,count:e,textTotal:r,onPage:n,onSize:s,variant:o,tva:l=x4,css:u})=>{const d=K.useMemo(()=>aB({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...o,css:u}).slots;return g.jsxs("div",{className:m.base(),children:[d.total>1?g.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(d.type)&&g.jsxs(g.Fragment,{children:[g.jsx(gb,{page:t.page,pages:d.start,onPage:n}),g.jsx(br,{icon:nk})]}),g.jsx(gb,{page:t.page,pages:d.pages,onPage:n}),["both","end"].includes(d.type)&&g.jsxs(g.Fragment,{children:[g.jsx(br,{icon:nk}),g.jsx(gb,{page:t.page,pages:d.end,onPage:n})]})]}):null,g.jsxs("div",{className:m.sums(),children:[g.jsx("div",{children:r}),g.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&g.jsxs(g.Fragment,{children:[g.jsx("div",{children:"/"}),g.jsx("div",{className:"font-semibold",children:e.where})]})]}),g.jsx(k4,{size:t.size,onSize:s})]})};function Za(t){return typeof t>"u"||t===void 0}function as(t){return typeof t=="string"}function Hg(t){return typeof t=="number"}function Xm(t){return typeof t=="boolean"}function S0(t){return t===null}function I4(t){return t instanceof Date}function N0(t){return typeof t=="bigint"}function us(t){return typeof t=="function"}function po(t){return typeof t=="object"&&t!==null}function R(t){return Object.freeze(t)}function Dp(t){return ia(t)?t:[t]}function ia(t){return Array.isArray(t)}function Ya(t){return t}const jr=R({is(t){return t.kind==="AlterTableNode"},create(t){return R({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return R({...t,...e})},cloneWithColumnAlteration(t,e){return R({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),en=R({is(t){return t.kind==="IdentifierNode"},create(t){return R({kind:"IdentifierNode",name:t})}}),Qo=R({is(t){return t.kind==="CreateIndexNode"},create(t){return R({kind:"CreateIndexNode",name:en.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}}),ET=R({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return R({kind:"CreateSchemaNode",schema:en.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),C4=["preserve rows","delete rows","drop"],Gi=R({is(t){return t.kind==="CreateTableNode"},create(t){return R({kind:"CreateTableNode",table:t,columns:R([])})},cloneWithColumn(t,e){return R({...t,columns:R([...t.columns,e])})},cloneWithConstraint(t,e){return R({...t,constraints:t.constraints?R([...t.constraints,e]):R([e])})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWith(t,e){return R({...t,...e})}}),ol=R({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return R({kind:"SchemableIdentifierNode",identifier:en.create(t)})},createWithSchema(t,e){return R({kind:"SchemableIdentifierNode",schema:en.create(t),identifier:en.create(e)})}}),sf=R({is(t){return t.kind==="DropIndexNode"},create(t,e){return R({kind:"DropIndexNode",name:ol.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),yw=R({is(t){return t.kind==="DropSchemaNode"},create(t,e){return R({kind:"DropSchemaNode",schema:en.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),vw=R({is(t){return t.kind==="DropTableNode"},create(t,e){return R({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return R({...t,...e})}}),ml=R({is(t){return t.kind==="AliasNode"},create(t,e){return R({kind:"AliasNode",node:t,alias:e})}}),Xa=R({is(t){return t.kind==="TableNode"},create(t){return R({kind:"TableNode",table:ol.create(t)})},createWithSchema(t,e){return R({kind:"TableNode",table:ol.createWithSchema(t,e)})}});function Ui(t){return po(t)&&us(t.toOperationNode)}function q4(t){return po(t)&&"expressionType"in t&&Ui(t)}function T4(t){return po(t)&&"expression"in t&&as(t.alias)&&Ui(t)}const Uo=R({is(t){return t.kind==="SelectModifierNode"},create(t,e){return R({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return R({kind:"SelectModifierNode",rawModifier:t})}}),al=R({is(t){return t.kind==="AndNode"},create(t,e){return R({kind:"AndNode",left:t,right:e})}}),Mc=R({is(t){return t.kind==="OrNode"},create(t,e){return R({kind:"OrNode",left:t,right:e})}}),yb=R({is(t){return t.kind==="OnNode"},create(t){return R({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return R({...t,on:e==="And"?al.create(t.on,r):Mc.create(t.on,r)})}}),of=R({is(t){return t.kind==="JoinNode"},create(t,e){return R({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return R({kind:"JoinNode",joinType:t,table:e,on:yb.create(r)})},cloneWithOn(t,e){return R({...t,on:t.on?yb.cloneWithOperation(t.on,"And",e):yb.create(e)})}}),kc=R({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return R({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),O4=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],R4=["+","-","*","/","%","^","&","|","#","<<",">>"],kT=["->","->>"],A4=[...O4,...R4,"&&","||"],P4=["exists","not exists"],j4=["not","-",...P4],F4=[...A4,...kT,...j4,"between","between symmetric"],ll=R({is(t){return t.kind==="OperatorNode"},create(t){return R({kind:"OperatorNode",operator:t})}});function sk(t){return as(t)&&kT.includes(t)}const xn=R({is(t){return t.kind==="ColumnNode"},create(t){return R({kind:"ColumnNode",column:en.create(t)})}}),E0=R({is(t){return t.kind==="SelectAllNode"},create(){return R({kind:"SelectAllNode"})}}),Qg=R({is(t){return t.kind==="ReferenceNode"},create(t,e){return R({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return R({kind:"ReferenceNode",table:t,column:E0.create()})}});class L4{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return OT(this.#e)}}function IT(t){return po(t)&&Ui(t)&&as(t.dynamicReference)}const _w=R({is(t){return t.kind==="OrderByItemNode"},create(t,e){return R({kind:"OrderByItemNode",orderBy:t,direction:e})}}),ti=R({is(t){return t.kind==="RawNode"},create(t,e){return R({kind:"RawNode",sqlFragments:R(t),parameters:R(e)})},createWithSql(t){return ti.create([t],[])},createWithChild(t){return ti.create(["",""],[t])},createWithChildren(t){return ti.create(new Array(t.length+1).fill(""),t)}});function CT(t){return t==="asc"||t==="desc"}function oh(t){if(t.length===2)return[vb(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>vb(r)):[vb(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function vb(t,e){const r=D4(t);if(_w.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return _w.create(r,qT(e))}function D4(t){if(dh(t))return uu(t);if(IT(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!CT(r))throw new Error(`Invalid order by direction: ${r}`);return _w.create(sa(e),qT(r))}return sa(t)}function qT(t){if(t)return t==="asc"||t==="desc"?ti.createWithSql(t):t.toOperationNode()}const eg=R({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return R({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return R({...t,traversal:e})}}),TT=R({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return R({kind:"JSONOperatorChainNode",operator:t,values:R([])})},cloneWithValue(t,e){return R({...t,values:R([...t.values,e])})}}),af=R({is(t){return t.kind==="JSONPathNode"},create(t){return R({kind:"JSONPathNode",inOperator:t,pathLegs:R([])})},cloneWithLeg(t,e){return R({...t,pathLegs:R([...t.pathLegs,e])})}});function OT(t){return as(t)?sa(t):t.toOperationNode()}function Af(t){return ia(t)?t.map(e=>rs(e)):[rs(t)]}function rs(t){return dh(t)?uu(t):OT(t)}function M4(t,e){const r=sa(t);if(sk(e))return eg.create(r,TT.create(ll.create(e)));const n=e.slice(0,-1);if(sk(n))return eg.create(r,af.create(ll.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function sa(t){const e=".";if(!t.includes(e))return Qg.create(xn.create(t));const r=t.split(e).map(k0);if(r.length===3)return $4(r);if(r.length===2)return W4(r);throw new Error(`invalid column reference ${t}`)}function B4(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(k0);return ml.create(sa(r),en.create(n))}else return sa(t)}function RT(t){return xn.create(t)}function tg(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(k0);if(!CT(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return oh([r,n])[0]}else return RT(t)}function $4(t){const[e,r,n]=t;return Qg.create(xn.create(n),Xa.createWithSchema(e,r))}function W4(t){const[e,r]=t;return Qg.create(xn.create(r),Xa.create(e))}function k0(t){return t.trim()}const AT=R({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return R({kind:"PrimitiveValueListNode",values:R([...t])})}}),I0=R({is(t){return t.kind==="ValueListNode"},create(t){return R({kind:"ValueListNode",values:R(t)})}}),So=R({is(t){return t.kind==="ValueNode"},create(t){return R({kind:"ValueNode",value:t})},createImmediate(t){return R({kind:"ValueNode",value:t,immediate:!0})}});function z4(t){return ia(t)?U4(t):In(t)}function In(t){return dh(t)?uu(t):So.create(t)}function C0(t){return Hg(t)||Xm(t)||S0(t)}function q0(t){if(!C0(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return So.createImmediate(t)}function U4(t){return t.some(dh)?I0.create(t.map(e=>In(e))):AT.create(t)}const Ic=R({is(t){return t.kind==="ParensNode"},create(t){return R({kind:"ParensNode",node:t})}});function Kn(t){if(t.length===3)return T0(t[0],t[1],t[2]);if(t.length===1)return In(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function T0(t,e,r){return V4(e)&&PT(r)?kc.create(rs(t),bw(e),So.createImmediate(r)):kc.create(rs(t),bw(e),z4(r))}function No(t,e,r){return kc.create(rs(t),bw(e),rs(r))}function ok(t,e){return rg(Object.entries(t).filter(([,r])=>!Za(r)).map(([r,n])=>T0(r,PT(n)?"is":"=",n)),e)}function rg(t,e,r=!0){const n=e==="and"?al.create:Mc.create;if(t.length===0)return kc.create(So.createImmediate(1),ll.create("="),So.createImmediate(e==="and"?1:0));let s=ak(t[0]);for(let o=1;o<t.length;++o)s=n(s,ak(t[o]));return t.length>1&&r?Ic.create(s):s}function V4(t){return t==="is"||t==="is not"}function PT(t){return S0(t)||Xm(t)}function bw(t){if(as(t)&&F4.includes(t))return ll.create(t);if(Ui(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function ak(t){return Ui(t)?t.toOperationNode():t}const ul=R({is(t){return t.kind==="OrderByNode"},create(t){return R({kind:"OrderByNode",items:R([...t])})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),lk=R({is(t){return t.kind==="PartitionByNode"},create(t){return R({kind:"PartitionByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),ww=R({is(t){return t.kind==="OverNode"},create(){return R({kind:"OverNode"})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?ul.cloneWithItems(t.orderBy,e):ul.create(e)})},cloneWithPartitionByItems(t,e){return R({...t,partitionBy:t.partitionBy?lk.cloneWithItems(t.partitionBy,e):lk.create(e)})}}),ng=R({is(t){return t.kind==="FromNode"},create(t){return R({kind:"FromNode",froms:R(t)})},cloneWithFroms(t,e){return R({...t,froms:R([...t.froms,...e])})}}),uk=R({is(t){return t.kind==="GroupByNode"},create(t){return R({kind:"GroupByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),ck=R({is(t){return t.kind==="HavingNode"},create(t){return R({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return R({...t,having:e==="And"?al.create(t.having,r):Mc.create(t.having,r)})}}),Pr=R({is(t){return t.kind==="SelectQueryNode"},create(t){return R({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return R({kind:"SelectQueryNode",from:ng.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})},cloneWithDistinctOn(t,e){return R({...t,distinctOn:t.distinctOn?R([...t.distinctOn,...e]):R(e)})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?ul.cloneWithItems(t.orderBy,e):ul.create(e)})},cloneWithGroupByItems(t,e){return R({...t,groupBy:t.groupBy?uk.cloneWithItems(t.groupBy,e):uk.create(e)})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithOffset(t,e){return R({...t,offset:e})},cloneWithFetch(t,e){return R({...t,fetch:e})},cloneWithHaving(t,e){return R({...t,having:t.having?ck.cloneWithOperation(t.having,"And",e):ck.create(e)})},cloneWithSetOperations(t,e){return R({...t,setOperations:t.setOperations?R([...t.setOperations,...e]):R([...e])})},cloneWithoutSelections(t){return R({...t,selections:[]})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithoutOffset(t){return R({...t,offset:void 0})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return R({...t,groupBy:void 0})}});function cr(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class dc{#e;constructor(e){this.#e=R(e)}on(...e){return new dc({...this.#e,joinNode:of.cloneWithOn(this.#e.joinNode,Kn(e))})}onRef(e,r,n){return new dc({...this.#e,joinNode:of.cloneWithOn(this.#e.joinNode,No(e,r,n))})}onTrue(){return new dc({...this.#e,joinNode:of.cloneWithOn(this.#e.joinNode,ti.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}cr(dc,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const H4=R({is(t){return t.kind==="PartitionByItemNode"},create(t){return R({kind:"PartitionByItemNode",partitionBy:t})}});function Q4(t){return Af(t).map(H4.create)}class Pf{#e;constructor(e){this.#e=R(e)}orderBy(e,r){return new Pf({overNode:ww.cloneWithOrderByItems(this.#e.overNode,oh([e,r]))})}partitionBy(e){return new Pf({overNode:ww.cloneWithPartitionByItems(this.#e.overNode,Q4(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}cr(Pf,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const lf=R({is(t){return t.kind==="SelectionNode"},create(t){return R({kind:"SelectionNode",selection:t})},createSelectAll(){return R({kind:"SelectionNode",selection:E0.create()})},createSelectAllFromTable(t){return R({kind:"SelectionNode",selection:Qg.createSelectAll(t)})}});function Js(t){return us(t)?Js(t($c())):ia(t)?t.map(e=>dk(e)):[dk(t)]}function dk(t){return as(t)?lf.create(B4(t)):IT(t)?lf.create(t.toOperationNode()):lf.create(QT(t))}function Eo(t){return t?Array.isArray(t)?t.map(fk):[fk(t)]:[lf.createSelectAll()]}function fk(t){if(as(t))return lf.createSelectAllFromTable(yn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const K4=R({is(t){return t.kind==="ValuesNode"},create(t){return R({kind:"ValuesNode",values:R(t)})}}),G4=R({is(t){return t.kind==="DefaultInsertValueNode"},create(){return R({kind:"DefaultInsertValueNode"})}});function jT(t){const e=us(t)?t($c()):t,r=ia(e)?e:R([e]);return J4(r)}function J4(t){const e=Z4(t);return[R([...e.keys()].map(xn.create)),K4.create(t.map(r=>Y4(r,e)))]}function Z4(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const s of n)!e.has(s)&&r[s]!==void 0&&e.set(s,e.size)}return e}function Y4(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let s=!1;for(const l of r){const u=e.get(l);if(Za(u))continue;const d=t[l];(Za(d)||dh(d))&&(s=!0),n[u]=d}if(r.length<e.size||s){const l=G4.create();return I0.create(n.map(u=>Za(u)?l:In(u)))}return AT.create(n)}const Yi=R({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return R({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return R({kind:"InsertQueryNode"})},cloneWith(t,e){return R({...t,...e})}}),fc=R({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return R({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return R({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return R({...t,from:t.from?ng.cloneWithFroms(t.from,e):ng.create(e)})},cloneWithUpdates(t,e){return R({...t,updates:t.updates?R([...t.updates,...e]):e})},cloneWithLimit(t,e){return R({...t,limit:e})}}),hk=R({is(t){return t.kind==="UsingNode"},create(t){return R({kind:"UsingNode",tables:R(t)})},cloneWithTables(t,e){return R({...t,tables:R([...t.tables,...e])})}}),Ml=R({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return R({kind:"DeleteQueryNode",from:ng.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?ul.cloneWithItems(t.orderBy,e):ul.create(e)})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithUsing(t,e){return R({...t,using:t.using!==void 0?hk.cloneWithTables(t.using,e):hk.create(e)})}}),Ai=R({is(t){return t.kind==="WhereNode"},create(t){return R({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return R({...t,where:e==="And"?al.create(t.where,r):Mc.create(t.where,r)})}}),pk=R({is(t){return t.kind==="ReturningNode"},create(t){return R({kind:"ReturningNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),X4=R({is(t){return t.kind==="ExplainNode"},create(t,e){return R({kind:"ExplainNode",format:t,options:e})}}),ah=R({is(t){return t.kind==="WhenNode"},create(t){return R({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return R({...t,result:e})}}),ji=R({is(t){return t.kind==="MergeQueryNode"},create(t,e){return R({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return R({...t,using:e})},cloneWithWhen(t,e){return R({...t,whens:t.whens?R([...t.whens,e]):R([e])})},cloneWithThen(t,e){return R({...t,whens:t.whens?R([...t.whens.slice(0,-1),ah.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),mk=R({is(t){return t.kind==="OutputNode"},create(t){return R({kind:"OutputNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),Tt=R({is(t){return Pr.is(t)||Yi.is(t)||fc.is(t)||Ml.is(t)||ji.is(t)},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWithWhere(t,e){return R({...t,where:t.where?Ai.cloneWithOperation(t.where,"And",e):Ai.create(e)})},cloneWithJoin(t,e){return R({...t,joins:t.joins?R([...t.joins,e]):R([e])})},cloneWithReturning(t,e){return R({...t,returning:t.returning?pk.cloneWithSelections(t.returning,e):pk.create(e)})},cloneWithoutReturning(t){return R({...t,returning:void 0})},cloneWithoutWhere(t){return R({...t,where:void 0})},cloneWithExplain(t,e,r){return R({...t,explain:X4.create(e,r?.toOperationNode())})},cloneWithTop(t,e){return R({...t,top:e})},cloneWithOutput(t,e){return R({...t,output:t.output?mk.cloneWithSelections(t.output,e):mk.create(e)})}}),FT=R({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return R({kind:"ColumnUpdateNode",column:t,value:e})}});function eW(...t){return t.length===2?[FT.create(rs(t[0]),In(t[1]))]:O0(t[0])}function O0(t){const e=us(t)?t($c()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>FT.create(xn.create(r),In(n)))}const tW=R({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return R({kind:"OnDuplicateKeyNode",updates:t})}});class rW{insertId;numInsertedOrUpdatedRows;constructor(e,r){this.insertId=e,this.numInsertedOrUpdatedRows=r}}class lh extends Error{node;constructor(e){super("no result"),this.node=e}}function uh(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const Ji=R({is(t){return t.kind==="OnConflictNode"},create(){return R({kind:"OnConflictNode"})},cloneWith(t,e){return R({...t,...e})},cloneWithIndexWhere(t,e){return R({...t,indexWhere:t.indexWhere?Ai.cloneWithOperation(t.indexWhere,"And",e):Ai.create(e)})},cloneWithIndexOrWhere(t,e){return R({...t,indexWhere:t.indexWhere?Ai.cloneWithOperation(t.indexWhere,"Or",e):Ai.create(e)})},cloneWithUpdateWhere(t,e){return R({...t,updateWhere:t.updateWhere?Ai.cloneWithOperation(t.updateWhere,"And",e):Ai.create(e)})},cloneWithUpdateOrWhere(t,e){return R({...t,updateWhere:t.updateWhere?Ai.cloneWithOperation(t.updateWhere,"Or",e):Ai.create(e)})},cloneWithoutIndexWhere(t){return R({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return R({...t,updateWhere:void 0})}});class ho{#e;constructor(e){this.#e=R(e)}column(e){const r=xn.create(e);return new ho({...this.#e,onConflictNode:Ji.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,r]):R([r])})})}columns(e){const r=e.map(xn.create);return new ho({...this.#e,onConflictNode:Ji.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,...r]):R(r)})})}constraint(e){return new ho({...this.#e,onConflictNode:Ji.cloneWith(this.#e.onConflictNode,{constraint:en.create(e)})})}expression(e){return new ho({...this.#e,onConflictNode:Ji.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new ho({...this.#e,onConflictNode:Ji.cloneWithIndexWhere(this.#e.onConflictNode,Kn(e))})}whereRef(e,r,n){return new ho({...this.#e,onConflictNode:Ji.cloneWithIndexWhere(this.#e.onConflictNode,No(e,r,n))})}clearWhere(){return new ho({...this.#e,onConflictNode:Ji.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new LT({...this.#e,onConflictNode:Ji.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new hc({...this.#e,onConflictNode:Ji.cloneWith(this.#e.onConflictNode,{updates:O0(e)})})}$call(e){return e(this)}}cr(ho,"don't await OnConflictBuilder instances.");class LT{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.onConflictNode}}cr(LT,"don't await OnConflictDoNothingBuilder instances.");class hc{#e;constructor(e){this.#e=R(e)}where(...e){return new hc({...this.#e,onConflictNode:Ji.cloneWithUpdateWhere(this.#e.onConflictNode,Kn(e))})}whereRef(e,r,n){return new hc({...this.#e,onConflictNode:Ji.cloneWithUpdateWhere(this.#e.onConflictNode,No(e,r,n))})}clearWhere(){return new hc({...this.#e,onConflictNode:Ji.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}cr(hc,"don't await OnConflictUpdateBuilder instances.");const nW=R({is(t){return t.kind==="TopNode"},create(t,e){return R({kind:"TopNode",expression:t,modifiers:e})}});function Bc(t,e){if(!Hg(t)&&!N0(t))throw new Error(`Invalid top expression: ${t}`);if(!Za(e)&&!iW(e))throw new Error(`Invalid top modifiers: ${e}`);return nW.create(t,e)}function iW(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class Zr{#e;constructor(e){this.#e=R(e)}values(e){const[r,n]=jT(e);return new Zr({...this.#e,queryNode:Yi.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new Zr({...this.#e,queryNode:Yi.cloneWith(this.#e.queryNode,{columns:R(e.map(xn.create))})})}expression(e){return new Zr({...this.#e,queryNode:Yi.cloneWith(this.#e.queryNode,{values:uu(e)})})}defaultValues(){return new Zr({...this.#e,queryNode:Yi.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new Zr({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new Zr({...this.#e,queryNode:Yi.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,r){return new Zr({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Bc(e,r))})}onConflict(e){return new Zr({...this.#e,queryNode:Yi.cloneWith(this.#e.queryNode,{onConflict:e(new ho({onConflictNode:Ji.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Zr({...this.#e,queryNode:Yi.cloneWith(this.#e.queryNode,{onDuplicateKey:tW.create(O0(e))})})}returning(e){return new Zr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Js(e))})}returningAll(){return new Zr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Eo())})}output(e){return new Zr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Js(e))})}outputAll(e){return new Zr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Eo(e))})}clearReturning(){return new Zr({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Zr({...this.#e})}$castTo(){return new Zr(this.#e)}$narrowType(){return new Zr(this.#e)}$assertType(){return new Zr(this.#e)}withPlugin(e){return new Zr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new rW(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=lh){const r=await this.executeTakeFirst();if(r===void 0)throw uh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Zr({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}cr(Zr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class sW{numDeletedRows;constructor(e){this.numDeletedRows=e}}const R0=R({is(t){return t.kind==="LimitNode"},create(t){return R({kind:"LimitNode",limit:t})}});class Ar{#e;constructor(e){this.#e=R(e)}where(...e){return new Ar({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Kn(e))})}whereRef(e,r,n){return new Ar({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,No(e,r,n))})}clearWhere(){return new Ar({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Ar({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Bc(e,r))})}using(e){return new Ar({...this.#e,queryNode:Ml.cloneWithUsing(this.#e.queryNode,Lf(e))})}innerJoin(...e){return new Ar({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("InnerJoin",e))})}leftJoin(...e){return new Ar({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("LeftJoin",e))})}rightJoin(...e){return new Ar({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("RightJoin",e))})}fullJoin(...e){return new Ar({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("FullJoin",e))})}returning(e){return new Ar({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Js(e))})}returningAll(e){return new Ar({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Eo(e))})}output(e){return new Ar({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Js(e))})}outputAll(e){return new Ar({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Eo(e))})}clearReturning(){return new Ar({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Ar({...this.#e,queryNode:Ml.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Ar({...this.#e,queryNode:Ml.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,r){return new Ar({...this.#e,queryNode:Ml.cloneWithOrderByItems(this.#e.queryNode,oh([e,r]))})}limit(e){return new Ar({...this.#e,queryNode:Ml.cloneWithLimit(this.#e.queryNode,R0.create(In(e)))})}modifyEnd(e){return new Ar({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,r){return e?r(this):new Ar({...this.#e})}$castTo(){return new Ar(this.#e)}$narrowType(){return new Ar(this.#e)}$assertType(){return new Ar(this.#e)}withPlugin(e){return new Ar({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new sW(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=lh){const r=await this.executeTakeFirst();if(r===void 0)throw uh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Ar({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}cr(Ar,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class oW{numUpdatedRows;numChangedRows;constructor(e,r){this.numUpdatedRows=e,this.numChangedRows=r}}class Mr{#e;constructor(e){this.#e=R(e)}where(...e){return new Mr({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Kn(e))})}whereRef(e,r,n){return new Mr({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,No(e,r,n))})}clearWhere(){return new Mr({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Mr({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Bc(e,r))})}from(e){return new Mr({...this.#e,queryNode:fc.cloneWithFromItems(this.#e.queryNode,Lf(e))})}innerJoin(...e){return new Mr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("InnerJoin",e))})}leftJoin(...e){return new Mr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("LeftJoin",e))})}rightJoin(...e){return new Mr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("RightJoin",e))})}fullJoin(...e){return new Mr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("FullJoin",e))})}limit(e){return new Mr({...this.#e,queryNode:fc.cloneWithLimit(this.#e.queryNode,R0.create(In(e)))})}set(...e){return new Mr({...this.#e,queryNode:fc.cloneWithUpdates(this.#e.queryNode,eW(...e))})}returning(e){return new Mr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Js(e))})}returningAll(e){return new Mr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Eo(e))})}output(e){return new Mr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Js(e))})}outputAll(e){return new Mr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Eo(e))})}modifyEnd(e){return new Mr({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Mr({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Mr({...this.#e})}$castTo(){return new Mr(this.#e)}$narrowType(){return new Mr(this.#e)}$assertType(){return new Mr(this.#e)}withPlugin(e){return new Mr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new oW(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=lh){const r=await this.executeTakeFirst();if(r===void 0)throw uh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Mr({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}cr(Mr,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const gk=R({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return R({kind:"CommonTableExpressionNameNode",table:Xa.create(t),columns:e?R(e.map(xn.create)):void 0})}}),ig=R({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return R({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return R({...t,...e})}});class jf{#e;constructor(e){this.#e=R(e)}materialized(){return new jf({...this.#e,node:ig.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new jf({...this.#e,node:ig.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}cr(jf,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function yk(t,e){const r=e(vW()).toOperationNode();return us(t)?t(aW(r)).toOperationNode():ig.create(DT(t),r)}function aW(t){return e=>new jf({node:ig.create(DT(e),t)})}function DT(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(s=>s.trim());return gk.create(r,n)}else return gk.create(t)}const Mp=R({is(t){return t.kind==="WithNode"},create(t,e){return R({kind:"WithNode",expressions:R([t]),...e})},cloneWithExpression(t,e){return R({...t,expressions:R([...t.expressions,e])})}}),vk=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function lW(t){let e="";for(let r=0;r<t;++r)e+=uW();return e}function uW(){return vk[~~(Math.random()*vk.length)]}function Fr(){return new cW}class cW{#e;get queryId(){return this.#e===void 0&&(this.#e=lW(8)),this.#e}}class MT{nodeStack=[];#e=R({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),R(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&R(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:R([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const dW=R({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class fW extends MT{#e;#t=new Set;#r=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#n(e))return super.transformNodeImpl(e);const r=this.#s(e);for(const o of r)this.#r.add(o);const n=this.#i(e);for(const o of n)this.#t.add(o);const s=super.transformNodeImpl(e);for(const o of n)this.#t.delete(o);for(const o of r)this.#r.delete(o);return s}transformSchemableIdentifier(e){const r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:en.create(this.#e)}}transformReferences(e){const r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:Xa.createWithSchema(this.#e,r.table.table.identifier.name)}}#n(e){return e.kind in dW}#i(e){const r=new Set;if("name"in e&&e.name&&ol.is(e.name)&&this.#a(e.name,r),"from"in e&&e.from)for(const n of e.from.froms)this.#o(n,r);if("into"in e&&e.into&&this.#o(e.into,r),"table"in e&&e.table&&this.#o(e.table,r),"joins"in e&&e.joins)for(const n of e.joins)this.#o(n.table,r);return"using"in e&&e.using&&this.#o(e.using,r),r}#s(e){const r=new Set;return"with"in e&&e.with&&this.#u(e.with,r),r}#o(e,r){const n=Xa.is(e)?e:ml.is(e)&&Xa.is(e.node)?e.node:null;n&&this.#a(n.table,r)}#a(e,r){const n=e.identifier.name;!this.#t.has(n)&&!this.#r.has(n)&&r.add(n)}#u(e,r){for(const n of e.expressions){const s=n.name.table.table.identifier.name;this.#r.has(s)||r.add(s)}}}class ch{#e;constructor(e){this.#e=new fW(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const hW=R({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return R({kind:"MatchedNode",not:t,bySource:e})}});function _k(t,e,r){return ah.create(rg([hW.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?No(e[0],e[1],e[2]):Kn(e)]:[]],"and",!1))}function uf(t){return as(t)?ti.create([t],[]):Ui(t)?t.toOperationNode():t}class bk{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}}const wk=new Set;function pW(t){wk.has(t)||(wk.add(t),console.log(t))}const mW=R([]);class BT{#e;constructor(e=mW){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(const n of this.#e){const s=n.transformQuery({node:e,queryId:r});if(s.kind===e.kind)e=s;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${s.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const s=await n.executeQuery(e),o=await this.#t(s,r);return gW(s,o),o})}async *stream(e,r,n){const s=new bk,o=new bk;this.provideConnection(async u=>(s.resolve(u),await o.promise)).catch(u=>s.reject(u));const l=await s.promise;try{for await(const u of l.streamQuery(e,r))yield await this.#t(u,n)}finally{o.resolve()}}async #t(e,r){for(const n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}}function gW(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||pW("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Yu extends BT{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Yu([...this.plugins,e])}withPlugins(e){return new Yu([...this.plugins,...e])}withPluginAtFront(e){return new Yu([e,...this.plugins])}withoutPlugins(){return new Yu([])}}const Kg=new Yu;class yW{numChangedRows;constructor(e){this.numChangedRows=e}}class Vl{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new Vl({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Vl({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Bc(e,r))})}using(...e){return new ns({...this.#e,queryNode:ji.cloneWithUsing(this.#e.queryNode,mi("Using",e))})}output(e){return new Vl({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Js(e))})}outputAll(e){return new Vl({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Eo(e))})}}cr(Vl,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ns{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new ns({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new ns({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Bc(e,r))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,r,n){return this.#t([e,r,n],!0)}#t(e,r){return new xw({...this.#e,queryNode:ji.cloneWithWhen(this.#e.queryNode,_k({isMatched:!0},e,r))})}whenNotMatched(){return this.#r([])}whenNotMatchedAnd(...e){return this.#r(e)}whenNotMatchedAndRef(e,r,n){return this.#r([e,r,n],!0)}whenNotMatchedBySource(){return this.#r([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#r(e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return this.#r([e,r,n],!0,!0)}output(e){return new ns({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Js(e))})}outputAll(e){return new ns({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Eo(e))})}#r(e,r=!1,n=!1){const s={...this.#e,queryNode:ji.cloneWithWhen(this.#e.queryNode,_k({isMatched:!1,bySource:n},e,r))},o=n?xw:$T;return new o(s)}$call(e){return e(this)}$if(e,r){return e?r(this):new ns({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?r.rows:[new yW(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=lh){const r=await this.executeTakeFirst();if(r===void 0)throw uh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}}cr(ns,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class xw{#e;constructor(e){this.#e=R(e)}thenDelete(){return new ns({...this.#e,queryNode:ji.cloneWithThen(this.#e.queryNode,uf("delete"))})}thenDoNothing(){return new ns({...this.#e,queryNode:ji.cloneWithThen(this.#e.queryNode,uf("do nothing"))})}thenUpdate(e){return new ns({...this.#e,queryNode:ji.cloneWithThen(this.#e.queryNode,uf(e(new Mr({queryId:this.#e.queryId,executor:Kg,queryNode:fc.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}cr(xw,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class $T{#e;constructor(e){this.#e=R(e)}thenDoNothing(){return new ns({...this.#e,queryNode:ji.cloneWithThen(this.#e.queryNode,uf("do nothing"))})}thenInsertValues(e){const[r,n]=jT(e);return new ns({...this.#e,queryNode:ji.cloneWithThen(this.#e.queryNode,uf(Yi.cloneWith(Yi.createWithoutInto(),{columns:r,values:n})))})}}cr($T,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class $a{#e;constructor(e){this.#e=R(e)}selectFrom(e){return Sw({queryId:Fr(),executor:this.#e.executor,queryNode:Pr.createFrom(Lf(e),this.#e.withNode)})}selectNoFrom(e){return Sw({queryId:Fr(),executor:this.#e.executor,queryNode:Pr.cloneWithSelections(Pr.create(this.#e.withNode),Js(e))})}insertInto(e){return new Zr({queryId:Fr(),executor:this.#e.executor,queryNode:Yi.create(yn(e),this.#e.withNode)})}replaceInto(e){return new Zr({queryId:Fr(),executor:this.#e.executor,queryNode:Yi.create(yn(e),this.#e.withNode,!0)})}deleteFrom(e){return new Ar({queryId:Fr(),executor:this.#e.executor,queryNode:Ml.create(Lf(e),this.#e.withNode)})}updateTable(e){return new Mr({queryId:Fr(),executor:this.#e.executor,queryNode:fc.create(Df(e),this.#e.withNode)})}mergeInto(e){return new Vl({queryId:Fr(),executor:this.#e.executor,queryNode:ji.create(KT(e),this.#e.withNode)})}with(e,r){const n=yk(e,r);return new $a({...this.#e,withNode:this.#e.withNode?Mp.cloneWithExpression(this.#e.withNode,n):Mp.create(n)})}withRecursive(e,r){const n=yk(e,r);return new $a({...this.#e,withNode:this.#e.withNode?Mp.cloneWithExpression(this.#e.withNode,n):Mp.create(n,{recursive:!0})})}withPlugin(e){return new $a({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new $a({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new $a({...this.#e,executor:this.#e.executor.withPluginAtFront(new ch(e))})}}function vW(){return new $a({executor:Kg})}function _W(t,e){return new dc({joinNode:of.create(t,Df(e))})}function bW(){return new Pf({overNode:ww.create()})}function mi(t,e){if(e.length===3)return xW(t,e[0],e[1],e[2]);if(e.length===2)return wW(t,e[0],e[1]);throw new Error("not implemented")}function wW(t,e,r){return r(_W(t,e)).toOperationNode()}function xW(t,e,r,n){return of.createWithOn(t,Df(e),No(r,"=",n))}const SW=R({is(t){return t.kind==="OffsetNode"},create(t){return R({kind:"OffsetNode",offset:t})}}),NW=R({is(t){return t.kind==="GroupByItemNode"},create(t){return R({kind:"GroupByItemNode",groupBy:t})}});function EW(t){return t=us(t)?t($c()):t,Af(t).map(NW.create)}const WT=R({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return R({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function $u(t,e,r){return us(e)&&(e=e(P0())),ia(e)||(e=[e]),e.map(n=>WT.create(t,uu(n),r))}class Br{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new A0(this,e)}or(...e){return new sg(Mc.create(this.#e,Kn(e)))}and(...e){return new og(al.create(this.#e,Kn(e)))}$castTo(){return new Br(this.#e)}$notNull(){return new Br(this.#e)}toOperationNode(){return this.#e}}class A0{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),Ui(this.#t)?this.#t.toOperationNode():en.create(this.#t))}}class sg{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new A0(this,e)}or(...e){return new sg(Mc.create(this.#e,Kn(e)))}$castTo(){return new sg(this.#e)}toOperationNode(){return Ic.create(this.#e)}}class og{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new A0(this,e)}and(...e){return new og(al.create(this.#e,Kn(e)))}$castTo(){return new og(this.#e)}toOperationNode(){return Ic.create(this.#e)}}const kW={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:So.create(t),modifier:e}}};function IW(t,e){if(!Hg(t)&&!N0(t))throw new Error(`Invalid fetch row count: ${t}`);if(!CW(e))throw new Error(`Invalid fetch modifier: ${e}`);return kW.create(t,e)}function CW(t){return t==="only"||t==="with ties"}class Qt{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Kn(e))})}whereRef(e,r,n){return new Qt({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,No(e,r,n))})}having(...e){return new Qt({...this.#e,queryNode:Pr.cloneWithHaving(this.#e.queryNode,Kn(e))})}havingRef(e,r,n){return new Qt({...this.#e,queryNode:Pr.cloneWithHaving(this.#e.queryNode,No(e,r,n))})}select(e){return new Qt({...this.#e,queryNode:Pr.cloneWithSelections(this.#e.queryNode,Js(e))})}distinctOn(e){return new Qt({...this.#e,queryNode:Pr.cloneWithDistinctOn(this.#e.queryNode,Af(e))})}modifyFront(e){return new Qt({...this.#e,queryNode:Pr.cloneWithFrontModifier(this.#e.queryNode,Uo.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Uo.createWithExpression(e.toOperationNode()))})}distinct(){return new Qt({...this.#e,queryNode:Pr.cloneWithFrontModifier(this.#e.queryNode,Uo.create("Distinct"))})}forUpdate(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Uo.create("ForUpdate",e?Dp(e).map(yn):void 0))})}forShare(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Uo.create("ForShare",e?Dp(e).map(yn):void 0))})}forKeyShare(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Uo.create("ForKeyShare",e?Dp(e).map(yn):void 0))})}forNoKeyUpdate(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Uo.create("ForNoKeyUpdate",e?Dp(e).map(yn):void 0))})}skipLocked(){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Uo.create("SkipLocked"))})}noWait(){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Uo.create("NoWait"))})}selectAll(e){return new Qt({...this.#e,queryNode:Pr.cloneWithSelections(this.#e.queryNode,Eo(e))})}innerJoin(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("InnerJoin",e))})}leftJoin(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("LeftJoin",e))})}rightJoin(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("RightJoin",e))})}fullJoin(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("FullJoin",e))})}innerJoinLateral(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,mi("LateralLeftJoin",e))})}orderBy(...e){return new Qt({...this.#e,queryNode:Pr.cloneWithOrderByItems(this.#e.queryNode,oh(e))})}groupBy(e){return new Qt({...this.#e,queryNode:Pr.cloneWithGroupByItems(this.#e.queryNode,EW(e))})}limit(e){return new Qt({...this.#e,queryNode:Pr.cloneWithLimit(this.#e.queryNode,R0.create(In(e)))})}offset(e){return new Qt({...this.#e,queryNode:Pr.cloneWithOffset(this.#e.queryNode,SW.create(In(e)))})}fetch(e,r="only"){return new Qt({...this.#e,queryNode:Pr.cloneWithFetch(this.#e.queryNode,IW(e,r))})}top(e,r){return new Qt({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Bc(e,r))})}union(e){return new Qt({...this.#e,queryNode:Pr.cloneWithSetOperations(this.#e.queryNode,$u("union",e,!1))})}unionAll(e){return new Qt({...this.#e,queryNode:Pr.cloneWithSetOperations(this.#e.queryNode,$u("union",e,!0))})}intersect(e){return new Qt({...this.#e,queryNode:Pr.cloneWithSetOperations(this.#e.queryNode,$u("intersect",e,!1))})}intersectAll(e){return new Qt({...this.#e,queryNode:Pr.cloneWithSetOperations(this.#e.queryNode,$u("intersect",e,!0))})}except(e){return new Qt({...this.#e,queryNode:Pr.cloneWithSetOperations(this.#e.queryNode,$u("except",e,!1))})}exceptAll(e){return new Qt({...this.#e,queryNode:Pr.cloneWithSetOperations(this.#e.queryNode,$u("except",e,!0))})}as(e){return new zT(this,e)}clearSelect(){return new Qt({...this.#e,queryNode:Pr.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Qt({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Qt({...this.#e,queryNode:Pr.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Qt({...this.#e,queryNode:Pr.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Qt({...this.#e,queryNode:Pr.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Qt({...this.#e,queryNode:Pr.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Qt({...this.#e})}$castTo(){return new Qt(this.#e)}$narrowType(){return new Qt(this.#e)}$assertType(){return new Qt(this.#e)}$asTuple(){return new Br(this.toOperationNode())}withPlugin(e){return new Qt({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=lh){const r=await this.executeTakeFirst();if(r===void 0)throw uh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Qt({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}cr(Qt,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function Sw(t){return new Qt(t)}class zT{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return ml.create(this.#e.toOperationNode(),en.create(this.#t))}}cr(zT,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Wa=R({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return R({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return R({...t,distinct:!0})},cloneWithOrderBy(t,e){return R({...t,orderBy:t.orderBy?ul.cloneWithItems(t.orderBy,e):ul.create(e)})},cloneWithFilter(t,e){return R({...t,filter:t.filter?Ai.cloneWithOperation(t.filter,"And",e):Ai.create(e)})},cloneWithOrFilter(t,e){return R({...t,filter:t.filter?Ai.cloneWithOperation(t.filter,"Or",e):Ai.create(e)})},cloneWithOver(t,e){return R({...t,over:e})}}),xk=R({is(t){return t.kind==="FunctionNode"},create(t,e){return R({kind:"FunctionNode",func:t,arguments:e})}});class Ss{#e;constructor(e){this.#e=R(e)}get expressionType(){}as(e){return new qW(this,e)}distinct(){return new Ss({...this.#e,aggregateFunctionNode:Wa.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,r){return new Ss({...this.#e,aggregateFunctionNode:Wa.cloneWithOrderBy(this.#e.aggregateFunctionNode,oh([e,r]))})}filterWhere(...e){return new Ss({...this.#e,aggregateFunctionNode:Wa.cloneWithFilter(this.#e.aggregateFunctionNode,Kn(e))})}filterWhereRef(e,r,n){return new Ss({...this.#e,aggregateFunctionNode:Wa.cloneWithFilter(this.#e.aggregateFunctionNode,No(e,r,n))})}over(e){const r=bW();return new Ss({...this.#e,aggregateFunctionNode:Wa.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Ss(this.#e)}$notNull(){return new Ss(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}cr(Ss,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class qW{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),en.create(this.#t))}}function UT(){const t=(r,n)=>new Br(xk.create(r,Af(n??[]))),e=(r,n)=>new Ss({aggregateFunctionNode:Wa.create(r,n?Af(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new Ss({aggregateFunctionNode:Wa.create("count",Eo(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new Ss({aggregateFunctionNode:Wa.create("json_agg",[as(r)?yn(r):r.toOperationNode()])})},toJson(r){return new Br(xk.create("to_json",[as(r)?yn(r):r.toOperationNode()]))}})}const TW=R({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return R({kind:"UnaryOperationNode",operator:t,operand:e})}});function OW(t,e){return TW.create(ll.create(t),rs(e))}const yo=R({is(t){return t.kind==="CaseNode"},create(t){return R({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return R({...t,when:R(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return R({...t,when:t.when?R([...t.when.slice(0,-1),ah.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return R({...t,...e})}});class VT{#e;constructor(e){this.#e=R(e)}when(...e){return new HT({...this.#e,node:yo.cloneWithWhen(this.#e.node,ah.create(Kn(e)))})}}class HT{#e;constructor(e){this.#e=R(e)}then(e){return new RW({...this.#e,node:yo.cloneWithThen(this.#e.node,C0(e)?q0(e):In(e))})}}class RW{#e;constructor(e){this.#e=R(e)}when(...e){return new HT({...this.#e,node:yo.cloneWithWhen(this.#e.node,ah.create(Kn(e)))})}else(e){return new AW({...this.#e,node:yo.cloneWith(this.#e.node,{else:C0(e)?q0(e):In(e)})})}end(){return new Br(yo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Br(yo.cloneWith(this.#e.node,{isStatement:!0}))}}class AW{#e;constructor(e){this.#e=R(e)}end(){return new Br(yo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Br(yo.cloneWith(this.#e.node,{isStatement:!0}))}}const Sk=R({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return R({kind:"JSONPathLegNode",type:t,value:e})}});class Nw{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,r){return eg.is(this.#e)?new Ff(eg.cloneWithTraversal(this.#e,af.is(this.#e.traversal)?af.cloneWithLeg(this.#e.traversal,Sk.create(e,r)):TT.cloneWithValue(this.#e.traversal,So.createImmediate(r)))):new Ff(af.cloneWithLeg(this.#e,Sk.create(e,r)))}}class Ff extends Nw{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new PW(this,e)}$castTo(){return new Ff(this.#e)}$notNull(){return new Ff(this.#e)}toOperationNode(){return this.#e}}class PW{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),Ui(this.#t)?this.#t.toOperationNode():en.create(this.#t))}}const Nk=R({is(t){return t.kind==="TupleNode"},create(t){return R({kind:"TupleNode",values:R(t)})}}),jW=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],FW=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],LW=R({is(t){return t.kind==="DataTypeNode"},create(t){return R({kind:"DataTypeNode",dataType:t})}});function DW(t){return!!(jW.includes(t)||FW.some(e=>e.test(t)))}function ou(t){if(Ui(t))return t.toOperationNode();if(DW(t))return LW.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const MW=R({is(t){return t.kind==="CastNode"},create(t,e){return R({kind:"CastNode",expression:t,dataType:e})}});function P0(t=Kg){function e(s,o,l){return new Br(T0(s,o,l))}function r(s,o){return new Br(OW(s,o))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(s){return Sw({queryId:Fr(),executor:t,queryNode:Pr.createFrom(Lf(s))})},case(s){return new VT({node:yo.create(Za(s)?void 0:rs(s))})},ref(s,o){return Za(o)?new Br(sa(s)):new Nw(M4(s,o))},jsonPath(){return new Nw(af.create())},table(s){return new Br(yn(s))},val(s){return new Br(In(s))},refTuple(...s){return new Br(Nk.create(s.map(rs)))},tuple(...s){return new Br(Nk.create(s.map(In)))},lit(s){return new Br(q0(s))},unary:r,not(s){return r("not",s)},exists(s){return r("exists",s)},neg(s){return r("-",s)},between(s,o,l){return new Br(kc.create(rs(s),ll.create("between"),al.create(In(o),In(l))))},betweenSymmetric(s,o,l){return new Br(kc.create(rs(s),ll.create("between symmetric"),al.create(In(o),In(l))))},and(s){return ia(s)?new Br(rg(s,"and")):new Br(ok(s,"and"))},or(s){return ia(s)?new Br(rg(s,"or")):new Br(ok(s,"or"))},parens(...s){const o=Kn(s);return Ic.is(o)?new Br(o):new Br(Ic.create(o))},cast(s,o){return new Br(MW.create(rs(s),ou(o)))},withSchema(s){return P0(t.withPluginAtFront(new ch(s)))}});return n.fn=UT(),n.eb=n,n}function $c(t){return P0()}function uu(t){if(Ui(t))return t.toOperationNode();if(us(t))return t($c()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function QT(t){if(Ui(t))return t.toOperationNode();if(us(t))return t($c()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function dh(t){return q4(t)||T4(t)||us(t)}function Lf(t){return ia(t)?t.map(e=>Df(e)):[Df(t)]}function Df(t){return as(t)?KT(t):QT(t)}function KT(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(GT);return ml.create(yn(r),en.create(n))}else return yn(t)}function yn(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(GT);return Xa.createWithSchema(r,n)}else return Xa.create(t)}function GT(t){return t.trim()}const JT=R({is(t){return t.kind==="AddColumnNode"},create(t){return R({kind:"AddColumnNode",column:t})}}),Yr=R({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return R({kind:"ColumnDefinitionNode",column:xn.create(t),dataType:e})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):[e]})},cloneWith(t,e){return R({...t,...e})}}),ZT=R({is(t){return t.kind==="DropColumnNode"},create(t){return R({kind:"DropColumnNode",column:xn.create(t)})}}),YT=R({is(t){return t.kind==="RenameColumnNode"},create(t,e){return R({kind:"RenameColumnNode",column:xn.create(t),renameTo:xn.create(e)})}}),j0=R({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return R({kind:"CheckConstraintNode",expression:t,name:e?en.create(e):void 0})}}),BW=["no action","restrict","cascade","set null","set default"],lm=R({is(t){return t.kind==="ReferencesNode"},create(t,e){return R({kind:"ReferencesNode",table:t,columns:R([...e])})},cloneWithOnDelete(t,e){return R({...t,onDelete:e})},cloneWithOnUpdate(t,e){return R({...t,onUpdate:e})}});function XT(t){return Ui(t)?t.toOperationNode():So.createImmediate(t)}const Bp=R({is(t){return t.kind==="GeneratedNode"},create(t){return R({kind:"GeneratedNode",...t})},createWithExpression(t){return R({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return R({...t,...e})}}),$W=R({is(t){return t.kind==="DefaultValueNode"},create(t){return R({kind:"DefaultValueNode",defaultValue:t})}});function ag(t){if(BW.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Ur{#e;constructor(e){this.#e=e}autoIncrement(){return new Ur(Yr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Ur(Yr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Ur(Yr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const r=sa(e);if(!r.table||E0.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Ur(Yr.cloneWith(this.#e,{references:lm.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Ur(Yr.cloneWith(this.#e,{references:lm.cloneWithOnDelete(this.#e.references,ag(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Ur(Yr.cloneWith(this.#e,{references:lm.cloneWithOnUpdate(this.#e.references,ag(e))}))}unique(){return new Ur(Yr.cloneWith(this.#e,{unique:!0}))}notNull(){return new Ur(Yr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Ur(Yr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Ur(Yr.cloneWith(this.#e,{defaultTo:$W.create(XT(e))}))}check(e){return new Ur(Yr.cloneWith(this.#e,{check:j0.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Ur(Yr.cloneWith(this.#e,{generated:Bp.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Ur(Yr.cloneWith(this.#e,{generated:Bp.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Ur(Yr.cloneWith(this.#e,{generated:Bp.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Ur(Yr.cloneWith(this.#e,{generated:Bp.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Ur(Yr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Ur(Yr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Ur(Yr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Ur(Yr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}cr(Ur,"don't await ColumnDefinitionBuilder instances directly.");const eO=R({is(t){return t.kind==="ModifyColumnNode"},create(t){return R({kind:"ModifyColumnNode",column:t})}}),lg=R({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return R({kind:"ForeignKeyConstraintNode",columns:t,references:lm.create(e,r),name:n?en.create(n):void 0})},cloneWith(t,e){return R({...t,...e})}});class Cc{#e;constructor(e){this.#e=e}onDelete(e){return new Cc(lg.cloneWith(this.#e,{onDelete:ag(e)}))}onUpdate(e){return new Cc(lg.cloneWith(this.#e,{onUpdate:ag(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}cr(Cc,"don't await ForeignKeyConstraintBuilder instances directly.");const um=R({is(t){return t.kind==="AddConstraintNode"},create(t){return R({kind:"AddConstraintNode",constraint:t})}}),F0=R({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return R({kind:"UniqueConstraintNode",columns:R(t.map(xn.create)),name:e?en.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return R({...t,...e})}}),cm=R({is(t){return t.kind==="DropConstraintNode"},create(t){return R({kind:"DropConstraintNode",constraintName:en.create(t)})},cloneWith(t,e){return R({...t,...e})}}),Dd=R({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return R({kind:"AlterColumnNode",column:xn.create(t),[e]:r})}});class L0{#e;constructor(e){this.#e=e}setDataType(e){return new Qu(Dd.create(this.#e,"dataType",ou(e)))}setDefault(e){return new Qu(Dd.create(this.#e,"setDefault",XT(e)))}dropDefault(){return new Qu(Dd.create(this.#e,"dropDefault",!0))}setNotNull(){return new Qu(Dd.create(this.#e,"setNotNull",!0))}dropNotNull(){return new Qu(Dd.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}cr(L0,"don't await AlterColumnBuilder instances");class Qu{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}cr(Qu,"don't await AlteredColumnBuilder instances");class Dl{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Dl,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class Mf{#e;constructor(e){this.#e=R(e)}onDelete(e){return new Mf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new Mf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(jr.cloneWithTableProps(this.#e.node,{addConstraint:um.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Mf,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class pc{#e;constructor(e){this.#e=R(e)}ifExists(){return new pc({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{dropConstraint:cm.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new pc({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{dropConstraint:cm.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new pc({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{dropConstraint:cm.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(pc,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const tO=R({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return R({kind:"PrimaryKeyConstraintNode",columns:R(t.map(xn.create)),name:e?en.create(e):void 0})}}),Ku=R({is(t){return t.kind==="AddIndexNode"},create(t){return R({kind:"AddIndexNode",name:en.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}});class za{#e;constructor(e){this.#e=R(e)}unique(){return new za({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addIndex:Ku.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new za({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addIndex:Ku.cloneWithColumns(this.#e.node.addIndex,[tg(e)])})})}columns(e){return new za({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addIndex:Ku.cloneWithColumns(this.#e.node.addIndex,e.map(tg))})})}expression(e){return new za({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addIndex:Ku.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new za({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addIndex:Ku.cloneWith(this.#e.node.addIndex,{using:ti.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(za,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class fh{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new fh(F0.cloneWith(this.#e,{nullsNotDistinct:!0}))}}cr(fh,"don't await UniqueConstraintNodeBuilder instances directly.");class rO{#e;constructor(e){this.#e=R(e)}renameTo(e){return new Dl({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{renameTo:yn(e)})})}setSchema(e){return new Dl({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{setSchema:en.create(e)})})}alterColumn(e,r){const n=r(new L0(e));return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,ZT.create(e))})}renameColumn(e,r){return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,YT.create(e,r))})}addColumn(e,r,n=Ya){const s=n(new Ur(Yr.create(e,ou(r))));return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,JT.create(s.toOperationNode()))})}modifyColumn(e,r,n=Ya){const s=n(new Ur(Yr.create(e,ou(r))));return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,eO.create(s.toOperationNode()))})}addUniqueConstraint(e,r,n=Ya){const s=n(new fh(F0.create(r,e)));return new Dl({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addConstraint:um.create(s.toOperationNode())})})}addCheckConstraint(e,r){return new Dl({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addConstraint:um.create(j0.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,s){return new Mf({...this.#e,constraintBuilder:new Cc(lg.create(r.map(xn.create),yn(n),s.map(xn.create),e))})}addPrimaryKeyConstraint(e,r){return new Dl({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addConstraint:um.create(tO.create(r,e))})})}dropConstraint(e){return new pc({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{dropConstraint:cm.create(e)})})}addIndex(e){return new za({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{addIndex:Ku.create(e)})})}dropIndex(e){return new Dl({...this.#e,node:jr.cloneWithTableProps(this.#e.node,{dropIndex:sf.create(e)})})}$call(e){return e(this)}}cr(rO,"don't await AlterTableBuilder instances");class Ns{#e;constructor(e){this.#e=R(e)}alterColumn(e,r){const n=r(new L0(e));return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,ZT.create(e))})}renameColumn(e,r){return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,YT.create(e,r))})}addColumn(e,r,n=Ya){const s=n(new Ur(Yr.create(e,ou(r))));return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,JT.create(s.toOperationNode()))})}modifyColumn(e,r,n=Ya){const s=n(new Ur(Yr.create(e,ou(r))));return new Ns({...this.#e,node:jr.cloneWithColumnAlteration(this.#e.node,eO.create(s.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Ns,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class nO extends MT{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class ws{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new ws({...this.#e,node:Qo.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new ws({...this.#e,node:Qo.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new ws({...this.#e,node:Qo.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new ws({...this.#e,node:Qo.cloneWith(this.#e.node,{table:yn(e)})})}column(e){return new ws({...this.#e,node:Qo.cloneWithColumns(this.#e.node,[tg(e)])})}columns(e){return new ws({...this.#e,node:Qo.cloneWithColumns(this.#e.node,e.map(tg))})}expression(e){return new ws({...this.#e,node:Qo.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new ws({...this.#e,node:Qo.cloneWith(this.#e.node,{using:ti.createWithSql(e)})})}where(...e){const r=new nO;return new ws({...this.#e,node:Tt.cloneWithWhere(this.#e.node,r.transformNode(Kn(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(ws,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Gg{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new Gg({...this.#e,node:ET.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Gg,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function WW(t){if(C4.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class Ti{#e;constructor(e){this.#e=R(e)}temporary(){return new Ti({...this.#e,node:Gi.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new Ti({...this.#e,node:Gi.cloneWith(this.#e.node,{onCommit:WW(e)})})}ifNotExists(){return new Ti({...this.#e,node:Gi.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=Ya){const s=n(new Ur(Yr.create(e,ou(r))));return new Ti({...this.#e,node:Gi.cloneWithColumn(this.#e.node,s.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new Ti({...this.#e,node:Gi.cloneWithConstraint(this.#e.node,tO.create(r,e))})}addUniqueConstraint(e,r,n=Ya){const s=n(new fh(F0.create(r,e)));return new Ti({...this.#e,node:Gi.cloneWithConstraint(this.#e.node,s.toOperationNode())})}addCheckConstraint(e,r){return new Ti({...this.#e,node:Gi.cloneWithConstraint(this.#e.node,j0.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,s,o=Ya){const l=o(new Cc(lg.create(r.map(xn.create),yn(n),s.map(xn.create),e)));return new Ti({...this.#e,node:Gi.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new Ti({...this.#e,node:Gi.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new Ti({...this.#e,node:Gi.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new Ti({...this.#e,node:Gi.cloneWith(this.#e.node,{selectQuery:uu(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Ti,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class mc{#e;constructor(e){this.#e=R(e)}on(e){return new mc({...this.#e,node:sf.cloneWith(this.#e.node,{table:yn(e)})})}ifExists(){return new mc({...this.#e,node:sf.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new mc({...this.#e,node:sf.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(mc,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class Bf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Bf({...this.#e,node:yw.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Bf({...this.#e,node:yw.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Bf,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class $f{#e;constructor(e){this.#e=R(e)}ifExists(){return new $f({...this.#e,node:vw.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new $f({...this.#e,node:vw.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr($f,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const La=R({is(t){return t.kind==="CreateViewNode"},create(t){return R({kind:"CreateViewNode",name:ol.create(t)})},cloneWith(t,e){return R({...t,...e})}});class zW{#e=new nO;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Jo{#e;constructor(e){this.#e=R(e)}temporary(){return new Jo({...this.#e,node:La.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Jo({...this.#e,node:La.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Jo({...this.#e,node:La.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Jo({...this.#e,node:La.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Jo({...this.#e,node:La.cloneWith(this.#e.node,{columns:e.map(RT)})})}as(e){const r=e.withPlugin(new zW).toOperationNode();return new Jo({...this.#e,node:La.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Jo,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const dm=R({is(t){return t.kind==="DropViewNode"},create(t){return R({kind:"DropViewNode",name:ol.create(t)})},cloneWith(t,e){return R({...t,...e})}});class gc{#e;constructor(e){this.#e=R(e)}materialized(){return new gc({...this.#e,node:dm.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new gc({...this.#e,node:dm.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new gc({...this.#e,node:dm.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(gc,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const iO=R({is(t){return t.kind==="CreateTypeNode"},create(t){return R({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return R({...t,enum:I0.create(e.map(r=>So.createImmediate(r)))})}});class Jg{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Jg({...this.#e,node:iO.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Jg,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const sO=R({is(t){return t.kind==="DropTypeNode"},create(t){return R({kind:"DropTypeNode",name:t})},cloneWith(t,e){return R({...t,...e})}});class Zg{#e;constructor(e){this.#e=R(e)}ifExists(){return new Zg({...this.#e,node:sO.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Zg,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function Ek(t){const e=".";if(t.includes(e)){const r=t.split(e).map(UW);if(r.length===2)return ol.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return ol.create(t)}function UW(t){return t.trim()}class cf{#e;constructor(e){this.#e=e}createTable(e){return new Ti({queryId:Fr(),executor:this.#e,node:Gi.create(yn(e))})}dropTable(e){return new $f({queryId:Fr(),executor:this.#e,node:vw.create(yn(e))})}createIndex(e){return new ws({queryId:Fr(),executor:this.#e,node:Qo.create(e)})}dropIndex(e){return new mc({queryId:Fr(),executor:this.#e,node:sf.create(e)})}createSchema(e){return new Gg({queryId:Fr(),executor:this.#e,node:ET.create(e)})}dropSchema(e){return new Bf({queryId:Fr(),executor:this.#e,node:yw.create(e)})}alterTable(e){return new rO({queryId:Fr(),executor:this.#e,node:jr.create(yn(e))})}createView(e){return new Jo({queryId:Fr(),executor:this.#e,node:La.create(e)})}dropView(e){return new gc({queryId:Fr(),executor:this.#e,node:dm.create(e)})}createType(e){return new Jg({queryId:Fr(),executor:this.#e,node:iO.create(Ek(e))})}dropType(e){return new Zg({queryId:Fr(),executor:this.#e,node:sO.create(Ek(e))})}withPlugin(e){return new cf(this.#e.withPlugin(e))}withoutPlugins(){return new cf(this.#e.withoutPlugins())}withSchema(e){return new cf(this.#e.withPluginAtFront(new ch(e)))}}class VW{ref(e){return new L4(e)}}class HW{#e;constructor(e){this.#e=e}async provideConnection(e){const r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}}class Bl extends BT{#e;#t;#r;constructor(e,r,n,s=[]){super(s),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new Bl(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new Bl(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new Bl(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new Bl(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Bl(this.#e,this.#t,this.#r,[])}}function kk(){return typeof performance<"u"&&us(performance.now)?performance.now():Date.now()}class QW{#e;#t;#r;#n;#i;#s=new WeakSet;constructor(e,r){this.#n=!1,this.#e=e,this.#t=r}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||(this.#r=this.#e.init().then(()=>{this.#n=!0}).catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const r=e.executeQuery;e.executeQuery=async n=>{let s;const o=kk();try{return await r.call(e,n)}catch(l){throw s=l,await this.#u(l,n,o),l}finally{s||await this.#l(n,o)}}}async #u(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async #l(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return kk()-e}}const KW=()=>{};class oO{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(KW);return this.#t=this.#r(e).finally(()=>{this.#t=void 0}),this.#t}async #r(e){return await e(this.#e)}}const GW=["read uncommitted","read committed","repeatable read","serializable","snapshot"];R(["query","error"]);class JW{#e;#t;constructor(e){us(e)?(this.#t=e,this.#e=R({query:!0,error:!0})):(this.#t=ZW,this.#e=R({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function ZW(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function YW(t){return po(t)&&us(t.compile)}class Va extends $a{#e;constructor(e){let r,n;if(XW(e))r={executor:e.executor},n={...e};else{const s=e.dialect,o=s.createDriver(),l=s.createQueryCompiler(),u=s.createAdapter(),d=new JW(e.log??[]),m=new QW(o,d),y=new HW(m),w=new Bl(l,u,y,e.plugins??[]);r={executor:w},n={config:e,executor:w,dialect:s,driver:m}}super(r),this.#e=R(n)}get schema(){return new cf(this.#e.executor)}get dynamic(){return new VW}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new VT({node:yo.create(Za(e)?void 0:uu(e))})}get fn(){return UT()}transaction(){return new Yg({...this.#e})}connection(){return new aO({...this.#e})}withPlugin(e){return new Va({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Va({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Va({...this.#e,executor:this.#e.executor.withPluginAtFront(new ch(e))})}withTables(){return new Va({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=Fr()){const n=YW(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}}class Xu extends Va{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new Xu({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Xu({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Xu({...this.#e,executor:this.#e.executor.withPluginAtFront(new ch(e))})}withTables(){return new Xu({...this.#e})}}function XW(t){return po(t)&&po(t.config)&&po(t.driver)&&po(t.executor)&&po(t.dialect)}class aO{#e;constructor(e){this.#e=R(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{const n=this.#e.executor.withConnectionProvider(new oO(r)),s=new Va({...this.#e,executor:n});return await e(s)})}}cr(aO,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class Yg{#e;constructor(e){this.#e=R(e)}setIsolationLevel(e){return new Yg({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=this.#e,s={isolationLevel:r};return e6(s),this.#e.executor.provideConnection(async o=>{const l=this.#e.executor.withConnectionProvider(new oO(o)),u=new Xu({...n,executor:l});try{await this.#e.driver.beginTransaction(o,s);const d=await e(u);return await this.#e.driver.commitTransaction(o),d}catch(d){throw await this.#e.driver.rollbackTransaction(o),d}})}}cr(Yg,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function e6(t){if(t.isolationLevel&&!GW.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class yc{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new lO(this,e)}$castTo(){return new yc({...this.#e})}$notNull(){return new yc(this.#e)}withPlugin(e){return new yc({...this.#e,plugins:this.#e.plugins!==void 0?R([...this.#e.plugins,e]):R([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){const r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){const r=e!==void 0?e.getExecutor():Kg;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}}function ja(t){return new yc(t)}cr(yc,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class lO{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return ml.create(this.#e.toOperationNode(),Ui(this.#t)?this.#t.toOperationNode():en.create(this.#t))}}cr(lO,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const D0=Object.assign((t,...e)=>ja({queryId:Fr(),rawNode:ti.create(t,e?.map(Ik)??[])}),{ref(t){return ja({queryId:Fr(),rawNode:ti.createWithChild(sa(t))})},val(t){return ja({queryId:Fr(),rawNode:ti.createWithChild(In(t))})},value(t){return this.val(t)},table(t){return ja({queryId:Fr(),rawNode:ti.createWithChild(yn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",ja({queryId:Fr(),rawNode:ti.create(e,t.map(en.create))})},lit(t){return ja({queryId:Fr(),rawNode:ti.createWithChild(So.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return ja({queryId:Fr(),rawNode:ti.createWithSql(t)})},join(t,e=D0`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let s=0;s<t.length;++s)r[2*s]=Ik(t[s]),s!==t.length-1&&(r[2*s+1]=n);return ja({queryId:Fr(),rawNode:ti.createWithChildren(r)})}});function Ik(t){return Ui(t)?t.toOperationNode():In(t)}class t6{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=R({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class r6 extends t6{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),R({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const r=this.parentNode!==void 0&&!Ic.is(this.parentNode)&&!Yi.is(this.parentNode)&&!Gi.is(this.parentNode)&&!La.is(this.parentNode)&&!WT.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){const n=e.length-1;for(let s=0;s<=n;s++)this.visitNode(e[s]),s<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const r=this.nodeStack.find(Tt.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!ji.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!ji.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const r=this.nodeStack.find(Tt.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!as(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(i6[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:r,parameters:n}=e;for(let s=0;s<r.length;++s)this.append(r[s]),n.length>s&&this.visitNode(n[s])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const r=this.nodeStack.find(Tt.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!ji.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!ji.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),Xm(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(n6[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return ll.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const r of e.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(e){const r=e.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(e.value)),r&&this.append("]")}visitJSONOperatorChain(e){for(let r=0,n=e.values.length;r<n;r++)r===n-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[r])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper();let s="";for(const o of e)s+=o,o===r?s+=r:o===n&&(s+=n);return s}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(as(e))this.append(`'${e}'`);else if(Hg(e)||Xm(e))this.append(e.toString());else if(S0(e))this.append("null");else if(I4(e))this.appendImmediateValue(e.toISOString());else if(N0(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((r,n)=>r.modifier&&n.modifier?Ck[r.modifier]-Ck[n.modifier]:1),R(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const n6=R({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),Ck=R({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),i6=R({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class s6{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const o6=/"/g;class a6 extends r6{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(o6,'""')}visitDefaultInsertValue(e){this.append("null")}}const l6="kysely_migration",u6="kysely_migration_lock";R({__noMigrations__:!0});class c6{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",l6).where("name","!=",u6));const n=await r.execute();return Promise.all(n.map(({name:s})=>this.#t(s)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const r=this.#e,n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),s=n.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),o=await r.selectFrom(D0`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:o.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===s,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class d6 extends s6{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const qk="function",ec="64e10b34-2bf7-4616-9668-f99de5aa046e",f6="get",h6="has",p6="set",{isArray:fm}=Array;let{SharedArrayBuffer:ug,window:m6}=globalThis,{notify:uO,wait:cO,waitAsync:cg}=Atomics,dO=null;cg||(cg=t=>({value:new Promise(e=>{let r=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");r.onmessage=e,r.postMessage(t)})}));try{new ug(4)}catch{ug=ArrayBuffer;const e=new WeakMap;if(m6){const r=new Map,{prototype:{postMessage:n}}=Worker,s=o=>{const l=o.data?.[ec];if(!fm(l)){o.stopImmediatePropagation();const{id:u,sb:d}=l;r.get(u)(d)}};dO=function(o,...l){const u=o?.[ec];if(fm(u)){const[d,m]=u;e.set(m,d),this.addEventListener("message",s)}return n.call(this,o,...l)},cg=o=>({value:new Promise(l=>{r.set(e.get(o),l)}).then(l=>{r.delete(e.get(o)),e.delete(o);for(let u=0;u<l.length;u++)o[u]=l[u];return"ok"})})}else{const r=(n,s)=>({[ec]:{id:n,sb:s}});uO=n=>{postMessage(r(e.get(n),n))},addEventListener("message",n=>{const s=n.data?.[ec];if(fm(s)){const[o,l]=s;e.set(l,o)}})}}const{Int32Array:Ew,Map:Tk,Uint16Array:kw}=globalThis,{BYTES_PER_ELEMENT:Ok}=Ew,{BYTES_PER_ELEMENT:g6}=kw,y6=(t,e,r)=>{for(;cO(t,0,0,e)==="timed-out";)r()},Iw=new WeakSet,_b=new WeakMap,v6={value:{then:t=>t()}};let _6=0;const M0=(t,{parse:e=JSON.parse,stringify:r=JSON.stringify,transform:n,interrupt:s}=JSON)=>{if(!_b.has(t)){const o=dO||t.postMessage,l=(E,...k)=>o.call(t,{[ec]:k},{transfer:E}),u=typeof s===qk?s:s?.handler,d=s?.delay||42,m=new TextDecoder("utf-16"),y=(E,k)=>E?cg(k,0):(u?y6(k,d,u):cO(k,0),v6);let w=!1;_b.set(t,new Proxy(new Tk,{[h6]:(E,k)=>typeof k=="string"&&!k.startsWith("_"),[f6]:(E,k)=>k==="then"?null:(...C)=>{const q=_6++;let A=new Ew(new ug(Ok*2)),D=[];Iw.has(C.at(-1)||D)&&Iw.delete(D=C.pop()),l(D,q,A,k,n?C.map(n):C);const F=t!==globalThis;let $=0;return w&&F&&($=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${k}(...args) is awaited`)),y(F,A).value.then(()=>{clearTimeout($);const H=A[1];if(!H)return;const G=g6*H;return A=new Ew(new ug(G+G%Ok)),l([],q,A),y(F,A).value.then(()=>e(m.decode(new kw(A.buffer).slice(0,H))))})},[p6](E,k,C){const q=typeof C;if(q!==qk)throw new Error(`Unable to assign ${k} as ${q}`);if(!E.size){const A=new Tk;t.addEventListener("message",async D=>{const F=D.data?.[ec];if(fm(F)){D.stopImmediatePropagation();const[$,H,...G]=F;let B;if(G.length){const[Z,ie]=G;if(E.has(Z)){w=!0;try{const V=await E.get(Z)(...ie);if(V!==void 0){const ne=r(n?n(V):V);A.set($,ne),H[1]=ne.length}}catch(V){B=V}finally{w=!1}}else B=new Error(`Unsupported action: ${Z}`);H[0]=1}else{const Z=A.get($);A.delete($);for(let ie=new kw(H.buffer),V=0;V<Z.length;V++)ie[V]=Z.charCodeAt(V)}if(uO(H,0),B)throw B}})}return!!E.set(k,C)}}))}return _b.get(t)};M0.transfer=(...t)=>(Iw.add(t),t);var B0=(()=>{var t=import.meta.url;return function(e={}){var r,n=e,s,o,l=new Promise((f,h)=>{s=f,o=h}),u=typeof window=="object",d=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var y=Object.assign({},n),w="./this.program",E="";function k(f){return n.locateFile?n.locateFile(f,E):E+f}var C,q;(u||d)&&(d?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),t&&(E=t),E.startsWith("blob:")?E="":E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1),d&&(q=f=>{var h=new XMLHttpRequest;return h.open("GET",f,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),C=f=>fetch(f,{credentials:"same-origin"}).then(h=>h.ok?h.arrayBuffer():Promise.reject(new Error(h.status+" : "+h.url))));var A=n.print||console.log.bind(console),D=n.printErr||console.error.bind(console);Object.assign(n,y),y=null,n.arguments&&n.arguments,n.thisProgram&&(w=n.thisProgram);var F=n.wasmBinary,$,H=!1,G,B,Z,ie,V,ne;function M(){var f=$.buffer;n.HEAP8=G=new Int8Array(f),n.HEAP16=Z=new Int16Array(f),n.HEAPU8=B=new Uint8Array(f),n.HEAPU16=new Uint16Array(f),n.HEAP32=ie=new Int32Array(f),n.HEAPU32=V=new Uint32Array(f),n.HEAPF32=new Float32Array(f),n.HEAPF64=new Float64Array(f),n.HEAP64=ne=new BigInt64Array(f),n.HEAPU64=new BigUint64Array(f)}if(n.wasmMemory)$=n.wasmMemory;else{var se=n.INITIAL_MEMORY||0x1000000;$=new WebAssembly.Memory({initial:se/65536,maximum:32768})}M();var Y=[],me=[],Te=[];function qe(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ge(n.preRun.shift());ae(Y)}function je(){!n.noFSInit&&!O.initialized&&O.init(),O.ignorePermissions=!1,ae(me)}function _e(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Q(n.postRun.shift());ae(Te)}function ge(f){Y.unshift(f)}function Ee(f){me.unshift(f)}function Q(f){Te.unshift(f)}var Se=0,lt=null;function at(f){return f}function dt(f){Se++,n.monitorRunDependencies?.(Se)}function mt(f){if(Se--,n.monitorRunDependencies?.(Se),Se==0&&lt){var h=lt;lt=null,h()}}function ft(f){n.onAbort?.(f),f="Aborted("+f+")",D(f),H=!0,f+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(f);throw o(h),h}var yt="data:application/octet-stream;base64,",jt=f=>f.startsWith(yt);function vt(){if(n.locateFile){var f="sqlite3.wasm";return jt(f)?f:k(f)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var gt;function Ot(f){if(f==gt&&F)return new Uint8Array(F);if(q)return q(f);throw"both async and sync fetching of the wasm failed"}function qt(f){return F?Promise.resolve().then(()=>Ot(f)):C(f).then(h=>new Uint8Array(h),()=>Ot(f))}function er(f,h,_){return qt(f).then(b=>WebAssembly.instantiate(b,h)).then(_,b=>{D(`failed to asynchronously prepare wasm: ${b}`),ft(b)})}function Zt(f,h,_,b){return!f&&typeof WebAssembly.instantiateStreaming=="function"&&!jt(h)&&typeof fetch=="function"?fetch(h,{credentials:"same-origin"}).then(S=>{var I=WebAssembly.instantiateStreaming(S,_);return I.then(b,function(X){return D(`wasm streaming compile failed: ${X}`),D("falling back to ArrayBuffer instantiation"),er(h,_,b)})}):er(h,_,b)}function sr(){return{env:id,wasi_snapshot_preview1:id}}function mr(){var f=sr();function h(b,S){return te=b.exports,Ee(te.__wasm_call_ctors),mt(),te}dt();function _(b){h(b.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(f,h)}catch(b){D(`Module.instantiateWasm callback failed with error: ${b}`),o(b)}return gt||(gt=vt()),Zt(F,gt,f,_).catch(o),{}}var ae=f=>{for(;f.length>0;)f.shift()(n)};n.noExitRuntime;var ce={isAbs:f=>f.charAt(0)==="/",splitPath:f=>{var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return h.exec(f).slice(1)},normalizeArray:(f,h)=>{for(var _=0,b=f.length-1;b>=0;b--){var S=f[b];S==="."?f.splice(b,1):S===".."?(f.splice(b,1),_++):_&&(f.splice(b,1),_--)}if(h)for(;_;_--)f.unshift("..");return f},normalize:f=>{var h=ce.isAbs(f),_=f.substr(-1)==="/";return f=ce.normalizeArray(f.split("/").filter(b=>!!b),!h).join("/"),!f&&!h&&(f="."),f&&_&&(f+="/"),(h?"/":"")+f},dirname:f=>{var h=ce.splitPath(f),_=h[0],b=h[1];return!_&&!b?".":(b&&(b=b.substr(0,b.length-1)),_+b)},basename:f=>{if(f==="/")return"/";f=ce.normalize(f),f=f.replace(/\/$/,"");var h=f.lastIndexOf("/");return h===-1?f:f.substr(h+1)},join:(...f)=>ce.normalize(f.join("/")),join2:(f,h)=>ce.normalize(f+"/"+h)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);ft("initRandomDevice")},Oe=f=>(Oe=ye())(f),De={resolve:(...f)=>{for(var h="",_=!1,b=f.length-1;b>=-1&&!_;b--){var S=b>=0?f[b]:O.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";h=S+"/"+h,_=ce.isAbs(S)}return h=ce.normalizeArray(h.split("/").filter(I=>!!I),!_).join("/"),(_?"/":"")+h||"."},relative:(f,h)=>{f=De.resolve(f).substr(1),h=De.resolve(h).substr(1);function _(Ue){for(var Je=0;Je<Ue.length&&Ue[Je]==="";Je++);for(var rt=Ue.length-1;rt>=0&&Ue[rt]==="";rt--);return Je>rt?[]:Ue.slice(Je,rt-Je+1)}for(var b=_(f.split("/")),S=_(h.split("/")),I=Math.min(b.length,S.length),X=I,re=0;re<I;re++)if(b[re]!==S[re]){X=re;break}for(var Le=[],re=X;re<b.length;re++)Le.push("..");return Le=Le.concat(S.slice(X)),Le.join("/")}},Ge=typeof TextDecoder<"u"?new TextDecoder:void 0,_t=(f,h,_)=>{for(var b=h+_,S=h;f[S]&&!(S>=b);)++S;if(S-h>16&&f.buffer&&Ge)return Ge.decode(f.subarray(h,S));for(var I="";h<S;){var X=f[h++];if(!(X&128)){I+=String.fromCharCode(X);continue}var re=f[h++]&63;if((X&224)==192){I+=String.fromCharCode((X&31)<<6|re);continue}var Le=f[h++]&63;if((X&240)==224?X=(X&15)<<12|re<<6|Le:X=(X&7)<<18|re<<12|Le<<6|f[h++]&63,X<65536)I+=String.fromCharCode(X);else{var Ue=X-65536;I+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return I},$t=[],Sr=f=>{for(var h=0,_=0;_<f.length;++_){var b=f.charCodeAt(_);b<=127?h++:b<=2047?h+=2:b>=55296&&b<=57343?(h+=4,++_):h+=3}return h},gr=(f,h,_,b)=>{if(!(b>0))return 0;for(var S=_,I=_+b-1,X=0;X<f.length;++X){var re=f.charCodeAt(X);if(re>=55296&&re<=57343){var Le=f.charCodeAt(++X);re=65536+((re&1023)<<10)|Le&1023}if(re<=127){if(_>=I)break;h[_++]=re}else if(re<=2047){if(_+1>=I)break;h[_++]=192|re>>6,h[_++]=128|re&63}else if(re<=65535){if(_+2>=I)break;h[_++]=224|re>>12,h[_++]=128|re>>6&63,h[_++]=128|re&63}else{if(_+3>=I)break;h[_++]=240|re>>18,h[_++]=128|re>>12&63,h[_++]=128|re>>6&63,h[_++]=128|re&63}}return h[_]=0,_-S};function $r(f,h,_){var b=Sr(f)+1,S=new Array(b),I=gr(f,S,0,S.length);return S.length=I,S}var ci=()=>{if(!$t.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f)return null;$t=$r(f)}return $t.shift()},dn={ttys:[],init(){},shutdown(){},register(f,h){dn.ttys[f]={input:[],output:[],ops:h},O.registerDevice(f,dn.stream_ops)},stream_ops:{open(f){var h=dn.ttys[f.node.rdev];if(!h)throw new O.ErrnoError(43);f.tty=h,f.seekable=!1},close(f){f.tty.ops.fsync(f.tty)},fsync(f){f.tty.ops.fsync(f.tty)},read(f,h,_,b,S){if(!f.tty||!f.tty.ops.get_char)throw new O.ErrnoError(60);for(var I=0,X=0;X<b;X++){var re;try{re=f.tty.ops.get_char(f.tty)}catch{throw new O.ErrnoError(29)}if(re===void 0&&I===0)throw new O.ErrnoError(6);if(re==null)break;I++,h[_+X]=re}return I&&(f.node.timestamp=Date.now()),I},write(f,h,_,b,S){if(!f.tty||!f.tty.ops.put_char)throw new O.ErrnoError(60);try{for(var I=0;I<b;I++)f.tty.ops.put_char(f.tty,h[_+I])}catch{throw new O.ErrnoError(29)}return b&&(f.node.timestamp=Date.now()),I}},default_tty_ops:{get_char(f){return ci()},put_char(f,h){h===null||h===10?(A(_t(f.output,0)),f.output=[]):h!=0&&f.output.push(h)},fsync(f){f.output&&f.output.length>0&&(A(_t(f.output,0)),f.output=[])},ioctl_tcgets(f){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(f,h,_){return 0},ioctl_tiocgwinsz(f){return[24,80]}},default_tty1_ops:{put_char(f,h){h===null||h===10?(D(_t(f.output,0)),f.output=[]):h!=0&&f.output.push(h)},fsync(f){f.output&&f.output.length>0&&(D(_t(f.output,0)),f.output=[])}}},xi=(f,h)=>(B.fill(0,f,f+h),f),To=(f,h)=>Math.ceil(f/h)*h,$n=f=>{f=To(f,65536);var h=sd(65536,f);return h?xi(h,f):0},Ht={ops_table:null,mount(f){return Ht.createNode(null,"/",16895,0)},createNode(f,h,_,b){if(O.isBlkdev(_)||O.isFIFO(_))throw new O.ErrnoError(63);Ht.ops_table||={dir:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,lookup:Ht.node_ops.lookup,mknod:Ht.node_ops.mknod,rename:Ht.node_ops.rename,unlink:Ht.node_ops.unlink,rmdir:Ht.node_ops.rmdir,readdir:Ht.node_ops.readdir,symlink:Ht.node_ops.symlink},stream:{llseek:Ht.stream_ops.llseek}},file:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:{llseek:Ht.stream_ops.llseek,read:Ht.stream_ops.read,write:Ht.stream_ops.write,allocate:Ht.stream_ops.allocate,mmap:Ht.stream_ops.mmap,msync:Ht.stream_ops.msync}},link:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,readlink:Ht.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:O.chrdev_stream_ops}};var S=O.createNode(f,h,_,b);return O.isDir(S.mode)?(S.node_ops=Ht.ops_table.dir.node,S.stream_ops=Ht.ops_table.dir.stream,S.contents={}):O.isFile(S.mode)?(S.node_ops=Ht.ops_table.file.node,S.stream_ops=Ht.ops_table.file.stream,S.usedBytes=0,S.contents=null):O.isLink(S.mode)?(S.node_ops=Ht.ops_table.link.node,S.stream_ops=Ht.ops_table.link.stream):O.isChrdev(S.mode)&&(S.node_ops=Ht.ops_table.chrdev.node,S.stream_ops=Ht.ops_table.chrdev.stream),S.timestamp=Date.now(),f&&(f.contents[h]=S,f.timestamp=S.timestamp),S},getFileDataAsTypedArray(f){return f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0)},expandFileStorage(f,h){var _=f.contents?f.contents.length:0;if(!(_>=h)){var b=1024*1024;h=Math.max(h,_*(_<b?2:1.125)>>>0),_!=0&&(h=Math.max(h,256));var S=f.contents;f.contents=new Uint8Array(h),f.usedBytes>0&&f.contents.set(S.subarray(0,f.usedBytes),0)}},resizeFileStorage(f,h){if(f.usedBytes!=h)if(h==0)f.contents=null,f.usedBytes=0;else{var _=f.contents;f.contents=new Uint8Array(h),_&&f.contents.set(_.subarray(0,Math.min(h,f.usedBytes))),f.usedBytes=h}},node_ops:{getattr(f){var h={};return h.dev=O.isChrdev(f.mode)?f.id:1,h.ino=f.id,h.mode=f.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=f.rdev,O.isDir(f.mode)?h.size=4096:O.isFile(f.mode)?h.size=f.usedBytes:O.isLink(f.mode)?h.size=f.link.length:h.size=0,h.atime=new Date(f.timestamp),h.mtime=new Date(f.timestamp),h.ctime=new Date(f.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr(f,h){h.mode!==void 0&&(f.mode=h.mode),h.timestamp!==void 0&&(f.timestamp=h.timestamp),h.size!==void 0&&Ht.resizeFileStorage(f,h.size)},lookup(f,h){throw O.genericErrors[44]},mknod(f,h,_,b){return Ht.createNode(f,h,_,b)},rename(f,h,_){if(O.isDir(f.mode)){var b;try{b=O.lookupNode(h,_)}catch{}if(b)for(var S in b.contents)throw new O.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=_,h.contents[_]=f,h.timestamp=f.parent.timestamp},unlink(f,h){delete f.contents[h],f.timestamp=Date.now()},rmdir(f,h){var _=O.lookupNode(f,h);for(var b in _.contents)throw new O.ErrnoError(55);delete f.contents[h],f.timestamp=Date.now()},readdir(f){var h=[".",".."];for(var _ of Object.keys(f.contents))h.push(_);return h},symlink(f,h,_){var b=Ht.createNode(f,h,41471,0);return b.link=_,b},readlink(f){if(!O.isLink(f.mode))throw new O.ErrnoError(28);return f.link}},stream_ops:{read(f,h,_,b,S){var I=f.node.contents;if(S>=f.node.usedBytes)return 0;var X=Math.min(f.node.usedBytes-S,b);if(X>8&&I.subarray)h.set(I.subarray(S,S+X),_);else for(var re=0;re<X;re++)h[_+re]=I[S+re];return X},write(f,h,_,b,S,I){if(h.buffer===G.buffer&&(I=!1),!b)return 0;var X=f.node;if(X.timestamp=Date.now(),h.subarray&&(!X.contents||X.contents.subarray)){if(I)return X.contents=h.subarray(_,_+b),X.usedBytes=b,b;if(X.usedBytes===0&&S===0)return X.contents=h.slice(_,_+b),X.usedBytes=b,b;if(S+b<=X.usedBytes)return X.contents.set(h.subarray(_,_+b),S),b}if(Ht.expandFileStorage(X,S+b),X.contents.subarray&&h.subarray)X.contents.set(h.subarray(_,_+b),S);else for(var re=0;re<b;re++)X.contents[S+re]=h[_+re];return X.usedBytes=Math.max(X.usedBytes,S+b),b},llseek(f,h,_){var b=h;if(_===1?b+=f.position:_===2&&O.isFile(f.node.mode)&&(b+=f.node.usedBytes),b<0)throw new O.ErrnoError(28);return b},allocate(f,h,_){Ht.expandFileStorage(f.node,h+_),f.node.usedBytes=Math.max(f.node.usedBytes,h+_)},mmap(f,h,_,b,S){if(!O.isFile(f.node.mode))throw new O.ErrnoError(43);var I,X,re=f.node.contents;if(!(S&2)&&re&&re.buffer===G.buffer)X=!1,I=re.byteOffset;else{if(X=!0,I=$n(h),!I)throw new O.ErrnoError(48);re&&((_>0||_+h<re.length)&&(re.subarray?re=re.subarray(_,_+h):re=Array.prototype.slice.call(re,_,_+h)),G.set(re,I))}return{ptr:I,allocated:X}},msync(f,h,_,b,S){return Ht.stream_ops.write(f,h,0,b,_,!1),0}}},fa=(f,h,_,b)=>{var S=`al ${f}`;C(f).then(I=>{h(new Uint8Array(I)),S&&mt()},I=>{if(_)_();else throw`Loading data file "${f}" failed.`}),S&&dt()},ha=(f,h,_,b,S,I)=>{O.createDataFile(f,h,_,b,S,I)},pa=n.preloadPlugins||[],Kc=(f,h,_,b)=>{typeof Browser<"u"&&Browser.init();var S=!1;return pa.forEach(I=>{S||I.canHandle(h)&&(I.handle(f,h,_,b),S=!0)}),S},Gc=(f,h,_,b,S,I,X,re,Le,Ue)=>{var Je=h?De.resolve(ce.join2(f,h)):f;function rt(Ae){function xe(ze){Ue?.(),re||ha(f,h,ze,b,S,Le),I?.(),mt()}Kc(Ae,Je,xe,()=>{X?.(),mt()})||xe(Ae)}dt(),typeof _=="string"?fa(_,rt,X):rt(_)},Jc=f=>{var h={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},_=h[f];if(typeof _>"u")throw new Error(`Unknown file open mode: ${f}`);return _},io=(f,h)=>{var _=0;return f&&(_|=365),h&&(_|=146),_},O={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(f){this.name="ErrnoError",this.errno=f}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(f){this.node=f}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(f){this.shared.flags=f}get position(){return this.shared.position}set position(f){this.shared.position=f}},FSNode:class{constructor(f,h,_,b){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=O.nextInode++,this.name=h,this.mode=_,this.node_ops={},this.stream_ops={},this.rdev=b,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(f){f?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(f){f?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return O.isDir(this.mode)}get isDevice(){return O.isChrdev(this.mode)}},lookupPath(f,h={}){if(f=De.resolve(f),!f)return{path:"",node:null};var _={follow_mount:!0,recurse_count:0};if(h=Object.assign(_,h),h.recurse_count>8)throw new O.ErrnoError(32);for(var b=f.split("/").filter(rt=>!!rt),S=O.root,I="/",X=0;X<b.length;X++){var re=X===b.length-1;if(re&&h.parent)break;if(S=O.lookupNode(S,b[X]),I=ce.join2(I,b[X]),O.isMountpoint(S)&&(!re||re&&h.follow_mount)&&(S=S.mounted.root),!re||h.follow)for(var Le=0;O.isLink(S.mode);){var Ue=O.readlink(I);I=De.resolve(ce.dirname(I),Ue);var Je=O.lookupPath(I,{recurse_count:h.recurse_count+1});if(S=Je.node,Le++>40)throw new O.ErrnoError(32)}}return{path:I,node:S}},getPath(f){for(var h;;){if(O.isRoot(f)){var _=f.mount.mountpoint;return h?_[_.length-1]!=="/"?`${_}/${h}`:_+h:_}h=h?`${f.name}/${h}`:f.name,f=f.parent}},hashName(f,h){for(var _=0,b=0;b<h.length;b++)_=(_<<5)-_+h.charCodeAt(b)|0;return(f+_>>>0)%O.nameTable.length},hashAddNode(f){var h=O.hashName(f.parent.id,f.name);f.name_next=O.nameTable[h],O.nameTable[h]=f},hashRemoveNode(f){var h=O.hashName(f.parent.id,f.name);if(O.nameTable[h]===f)O.nameTable[h]=f.name_next;else for(var _=O.nameTable[h];_;){if(_.name_next===f){_.name_next=f.name_next;break}_=_.name_next}},lookupNode(f,h){var _=O.mayLookup(f);if(_)throw new O.ErrnoError(_);for(var b=O.hashName(f.id,h),S=O.nameTable[b];S;S=S.name_next){var I=S.name;if(S.parent.id===f.id&&I===h)return S}return O.lookup(f,h)},createNode(f,h,_,b){var S=new O.FSNode(f,h,_,b);return O.hashAddNode(S),S},destroyNode(f){O.hashRemoveNode(f)},isRoot(f){return f===f.parent},isMountpoint(f){return!!f.mounted},isFile(f){return(f&61440)===32768},isDir(f){return(f&61440)===16384},isLink(f){return(f&61440)===40960},isChrdev(f){return(f&61440)===8192},isBlkdev(f){return(f&61440)===24576},isFIFO(f){return(f&61440)===4096},isSocket(f){return(f&49152)===49152},flagsToPermissionString(f){var h=["r","w","rw"][f&3];return f&512&&(h+="w"),h},nodePermissions(f,h){return O.ignorePermissions?0:h.includes("r")&&!(f.mode&292)||h.includes("w")&&!(f.mode&146)||h.includes("x")&&!(f.mode&73)?2:0},mayLookup(f){if(!O.isDir(f.mode))return 54;var h=O.nodePermissions(f,"x");return h||(f.node_ops.lookup?0:2)},mayCreate(f,h){try{var _=O.lookupNode(f,h);return 20}catch{}return O.nodePermissions(f,"wx")},mayDelete(f,h,_){var b;try{b=O.lookupNode(f,h)}catch(I){return I.errno}var S=O.nodePermissions(f,"wx");if(S)return S;if(_){if(!O.isDir(b.mode))return 54;if(O.isRoot(b)||O.getPath(b)===O.cwd())return 10}else if(O.isDir(b.mode))return 31;return 0},mayOpen(f,h){return f?O.isLink(f.mode)?32:O.isDir(f.mode)&&(O.flagsToPermissionString(h)!=="r"||h&512)?31:O.nodePermissions(f,O.flagsToPermissionString(h)):44},MAX_OPEN_FDS:4096,nextfd(){for(var f=0;f<=O.MAX_OPEN_FDS;f++)if(!O.streams[f])return f;throw new O.ErrnoError(33)},getStreamChecked(f){var h=O.getStream(f);if(!h)throw new O.ErrnoError(8);return h},getStream:f=>O.streams[f],createStream(f,h=-1){return f=Object.assign(new O.FSStream,f),h==-1&&(h=O.nextfd()),f.fd=h,O.streams[h]=f,f},closeStream(f){O.streams[f]=null},dupStream(f,h=-1){var _=O.createStream(f,h);return _.stream_ops?.dup?.(_),_},chrdev_stream_ops:{open(f){var h=O.getDevice(f.node.rdev);f.stream_ops=h.stream_ops,f.stream_ops.open?.(f)},llseek(){throw new O.ErrnoError(70)}},major:f=>f>>8,minor:f=>f&255,makedev:(f,h)=>f<<8|h,registerDevice(f,h){O.devices[f]={stream_ops:h}},getDevice:f=>O.devices[f],getMounts(f){for(var h=[],_=[f];_.length;){var b=_.pop();h.push(b),_.push(...b.mounts)}return h},syncfs(f,h){typeof f=="function"&&(h=f,f=!1),O.syncFSRequests++,O.syncFSRequests>1&&D(`warning: ${O.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var _=O.getMounts(O.root.mount),b=0;function S(X){return O.syncFSRequests--,h(X)}function I(X){if(X)return I.errored?void 0:(I.errored=!0,S(X));++b>=_.length&&S(null)}_.forEach(X=>{if(!X.type.syncfs)return I(null);X.type.syncfs(X,f,I)})},mount(f,h,_){var b=_==="/",S=!_,I;if(b&&O.root)throw new O.ErrnoError(10);if(!b&&!S){var X=O.lookupPath(_,{follow_mount:!1});if(_=X.path,I=X.node,O.isMountpoint(I))throw new O.ErrnoError(10);if(!O.isDir(I.mode))throw new O.ErrnoError(54)}var re={type:f,opts:h,mountpoint:_,mounts:[]},Le=f.mount(re);return Le.mount=re,re.root=Le,b?O.root=Le:I&&(I.mounted=re,I.mount&&I.mount.mounts.push(re)),Le},unmount(f){var h=O.lookupPath(f,{follow_mount:!1});if(!O.isMountpoint(h.node))throw new O.ErrnoError(28);var _=h.node,b=_.mounted,S=O.getMounts(b);Object.keys(O.nameTable).forEach(X=>{for(var re=O.nameTable[X];re;){var Le=re.name_next;S.includes(re.mount)&&O.destroyNode(re),re=Le}}),_.mounted=null;var I=_.mount.mounts.indexOf(b);_.mount.mounts.splice(I,1)},lookup(f,h){return f.node_ops.lookup(f,h)},mknod(f,h,_){var b=O.lookupPath(f,{parent:!0}),S=b.node,I=ce.basename(f);if(!I||I==="."||I==="..")throw new O.ErrnoError(28);var X=O.mayCreate(S,I);if(X)throw new O.ErrnoError(X);if(!S.node_ops.mknod)throw new O.ErrnoError(63);return S.node_ops.mknod(S,I,h,_)},create(f,h){return h=h!==void 0?h:438,h&=4095,h|=32768,O.mknod(f,h,0)},mkdir(f,h){return h=h!==void 0?h:511,h&=1023,h|=16384,O.mknod(f,h,0)},mkdirTree(f,h){for(var _=f.split("/"),b="",S=0;S<_.length;++S)if(_[S]){b+="/"+_[S];try{O.mkdir(b,h)}catch(I){if(I.errno!=20)throw I}}},mkdev(f,h,_){return typeof _>"u"&&(_=h,h=438),h|=8192,O.mknod(f,h,_)},symlink(f,h){if(!De.resolve(f))throw new O.ErrnoError(44);var _=O.lookupPath(h,{parent:!0}),b=_.node;if(!b)throw new O.ErrnoError(44);var S=ce.basename(h),I=O.mayCreate(b,S);if(I)throw new O.ErrnoError(I);if(!b.node_ops.symlink)throw new O.ErrnoError(63);return b.node_ops.symlink(b,S,f)},rename(f,h){var _=ce.dirname(f),b=ce.dirname(h),S=ce.basename(f),I=ce.basename(h),X,re,Le;if(X=O.lookupPath(f,{parent:!0}),re=X.node,X=O.lookupPath(h,{parent:!0}),Le=X.node,!re||!Le)throw new O.ErrnoError(44);if(re.mount!==Le.mount)throw new O.ErrnoError(75);var Ue=O.lookupNode(re,S),Je=De.relative(f,b);if(Je.charAt(0)!==".")throw new O.ErrnoError(28);if(Je=De.relative(h,_),Je.charAt(0)!==".")throw new O.ErrnoError(55);var rt;try{rt=O.lookupNode(Le,I)}catch{}if(Ue!==rt){var Ae=O.isDir(Ue.mode),xe=O.mayDelete(re,S,Ae);if(xe)throw new O.ErrnoError(xe);if(xe=rt?O.mayDelete(Le,I,Ae):O.mayCreate(Le,I),xe)throw new O.ErrnoError(xe);if(!re.node_ops.rename)throw new O.ErrnoError(63);if(O.isMountpoint(Ue)||rt&&O.isMountpoint(rt))throw new O.ErrnoError(10);if(Le!==re&&(xe=O.nodePermissions(re,"w"),xe))throw new O.ErrnoError(xe);O.hashRemoveNode(Ue);try{re.node_ops.rename(Ue,Le,I),Ue.parent=Le}catch(ze){throw ze}finally{O.hashAddNode(Ue)}}},rmdir(f){var h=O.lookupPath(f,{parent:!0}),_=h.node,b=ce.basename(f),S=O.lookupNode(_,b),I=O.mayDelete(_,b,!0);if(I)throw new O.ErrnoError(I);if(!_.node_ops.rmdir)throw new O.ErrnoError(63);if(O.isMountpoint(S))throw new O.ErrnoError(10);_.node_ops.rmdir(_,b),O.destroyNode(S)},readdir(f){var h=O.lookupPath(f,{follow:!0}),_=h.node;if(!_.node_ops.readdir)throw new O.ErrnoError(54);return _.node_ops.readdir(_)},unlink(f){var h=O.lookupPath(f,{parent:!0}),_=h.node;if(!_)throw new O.ErrnoError(44);var b=ce.basename(f),S=O.lookupNode(_,b),I=O.mayDelete(_,b,!1);if(I)throw new O.ErrnoError(I);if(!_.node_ops.unlink)throw new O.ErrnoError(63);if(O.isMountpoint(S))throw new O.ErrnoError(10);_.node_ops.unlink(_,b),O.destroyNode(S)},readlink(f){var h=O.lookupPath(f),_=h.node;if(!_)throw new O.ErrnoError(44);if(!_.node_ops.readlink)throw new O.ErrnoError(28);return De.resolve(O.getPath(_.parent),_.node_ops.readlink(_))},stat(f,h){var _=O.lookupPath(f,{follow:!h}),b=_.node;if(!b)throw new O.ErrnoError(44);if(!b.node_ops.getattr)throw new O.ErrnoError(63);return b.node_ops.getattr(b)},lstat(f){return O.stat(f,!0)},chmod(f,h,_){var b;if(typeof f=="string"){var S=O.lookupPath(f,{follow:!_});b=S.node}else b=f;if(!b.node_ops.setattr)throw new O.ErrnoError(63);b.node_ops.setattr(b,{mode:h&4095|b.mode&-4096,timestamp:Date.now()})},lchmod(f,h){O.chmod(f,h,!0)},fchmod(f,h){var _=O.getStreamChecked(f);O.chmod(_.node,h)},chown(f,h,_,b){var S;if(typeof f=="string"){var I=O.lookupPath(f,{follow:!b});S=I.node}else S=f;if(!S.node_ops.setattr)throw new O.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(f,h,_){O.chown(f,h,_,!0)},fchown(f,h,_){var b=O.getStreamChecked(f);O.chown(b.node,h,_)},truncate(f,h){if(h<0)throw new O.ErrnoError(28);var _;if(typeof f=="string"){var b=O.lookupPath(f,{follow:!0});_=b.node}else _=f;if(!_.node_ops.setattr)throw new O.ErrnoError(63);if(O.isDir(_.mode))throw new O.ErrnoError(31);if(!O.isFile(_.mode))throw new O.ErrnoError(28);var S=O.nodePermissions(_,"w");if(S)throw new O.ErrnoError(S);_.node_ops.setattr(_,{size:h,timestamp:Date.now()})},ftruncate(f,h){var _=O.getStreamChecked(f);if(!(_.flags&2097155))throw new O.ErrnoError(28);O.truncate(_.node,h)},utime(f,h,_){var b=O.lookupPath(f,{follow:!0}),S=b.node;S.node_ops.setattr(S,{timestamp:Math.max(h,_)})},open(f,h,_){if(f==="")throw new O.ErrnoError(44);h=typeof h=="string"?Jc(h):h,h&64?(_=typeof _>"u"?438:_,_=_&4095|32768):_=0;var b;if(typeof f=="object")b=f;else{f=ce.normalize(f);try{var S=O.lookupPath(f,{follow:!(h&131072)});b=S.node}catch{}}var I=!1;if(h&64)if(b){if(h&128)throw new O.ErrnoError(20)}else b=O.mknod(f,_,0),I=!0;if(!b)throw new O.ErrnoError(44);if(O.isChrdev(b.mode)&&(h&=-513),h&65536&&!O.isDir(b.mode))throw new O.ErrnoError(54);if(!I){var X=O.mayOpen(b,h);if(X)throw new O.ErrnoError(X)}h&512&&!I&&O.truncate(b,0),h&=-131713;var re=O.createStream({node:b,path:O.getPath(b),flags:h,seekable:!0,position:0,stream_ops:b.stream_ops,ungotten:[],error:!1});return re.stream_ops.open&&re.stream_ops.open(re),n.logReadFiles&&!(h&1)&&(O.readFiles||(O.readFiles={}),f in O.readFiles||(O.readFiles[f]=1)),re},close(f){if(O.isClosed(f))throw new O.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(h){throw h}finally{O.closeStream(f.fd)}f.fd=null},isClosed(f){return f.fd===null},llseek(f,h,_){if(O.isClosed(f))throw new O.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new O.ErrnoError(70);if(_!=0&&_!=1&&_!=2)throw new O.ErrnoError(28);return f.position=f.stream_ops.llseek(f,h,_),f.ungotten=[],f.position},read(f,h,_,b,S){if(b<0||S<0)throw new O.ErrnoError(28);if(O.isClosed(f))throw new O.ErrnoError(8);if((f.flags&2097155)===1)throw new O.ErrnoError(8);if(O.isDir(f.node.mode))throw new O.ErrnoError(31);if(!f.stream_ops.read)throw new O.ErrnoError(28);var I=typeof S<"u";if(!I)S=f.position;else if(!f.seekable)throw new O.ErrnoError(70);var X=f.stream_ops.read(f,h,_,b,S);return I||(f.position+=X),X},write(f,h,_,b,S,I){if(b<0||S<0)throw new O.ErrnoError(28);if(O.isClosed(f))throw new O.ErrnoError(8);if(!(f.flags&2097155))throw new O.ErrnoError(8);if(O.isDir(f.node.mode))throw new O.ErrnoError(31);if(!f.stream_ops.write)throw new O.ErrnoError(28);f.seekable&&f.flags&1024&&O.llseek(f,0,2);var X=typeof S<"u";if(!X)S=f.position;else if(!f.seekable)throw new O.ErrnoError(70);var re=f.stream_ops.write(f,h,_,b,S,I);return X||(f.position+=re),re},allocate(f,h,_){if(O.isClosed(f))throw new O.ErrnoError(8);if(h<0||_<=0)throw new O.ErrnoError(28);if(!(f.flags&2097155))throw new O.ErrnoError(8);if(!O.isFile(f.node.mode)&&!O.isDir(f.node.mode))throw new O.ErrnoError(43);if(!f.stream_ops.allocate)throw new O.ErrnoError(138);f.stream_ops.allocate(f,h,_)},mmap(f,h,_,b,S){if(b&2&&!(S&2)&&(f.flags&2097155)!==2)throw new O.ErrnoError(2);if((f.flags&2097155)===1)throw new O.ErrnoError(2);if(!f.stream_ops.mmap)throw new O.ErrnoError(43);if(!h)throw new O.ErrnoError(28);return f.stream_ops.mmap(f,h,_,b,S)},msync(f,h,_,b,S){return f.stream_ops.msync?f.stream_ops.msync(f,h,_,b,S):0},ioctl(f,h,_){if(!f.stream_ops.ioctl)throw new O.ErrnoError(59);return f.stream_ops.ioctl(f,h,_)},readFile(f,h={}){if(h.flags=h.flags||0,h.encoding=h.encoding||"binary",h.encoding!=="utf8"&&h.encoding!=="binary")throw new Error(`Invalid encoding type "${h.encoding}"`);var _,b=O.open(f,h.flags),S=O.stat(f),I=S.size,X=new Uint8Array(I);return O.read(b,X,0,I,0),h.encoding==="utf8"?_=_t(X,0):h.encoding==="binary"&&(_=X),O.close(b),_},writeFile(f,h,_={}){_.flags=_.flags||577;var b=O.open(f,_.flags,_.mode);if(typeof h=="string"){var S=new Uint8Array(Sr(h)+1),I=gr(h,S,0,S.length);O.write(b,S,0,I,void 0,_.canOwn)}else if(ArrayBuffer.isView(h))O.write(b,h,0,h.byteLength,void 0,_.canOwn);else throw new Error("Unsupported data type");O.close(b)},cwd:()=>O.currentPath,chdir(f){var h=O.lookupPath(f,{follow:!0});if(h.node===null)throw new O.ErrnoError(44);if(!O.isDir(h.node.mode))throw new O.ErrnoError(54);var _=O.nodePermissions(h.node,"x");if(_)throw new O.ErrnoError(_);O.currentPath=h.path},createDefaultDirectories(){O.mkdir("/tmp"),O.mkdir("/home"),O.mkdir("/home/web_user")},createDefaultDevices(){O.mkdir("/dev"),O.registerDevice(O.makedev(1,3),{read:()=>0,write:(b,S,I,X,re)=>X}),O.mkdev("/dev/null",O.makedev(1,3)),dn.register(O.makedev(5,0),dn.default_tty_ops),dn.register(O.makedev(6,0),dn.default_tty1_ops),O.mkdev("/dev/tty",O.makedev(5,0)),O.mkdev("/dev/tty1",O.makedev(6,0));var f=new Uint8Array(1024),h=0,_=()=>(h===0&&(h=Oe(f).byteLength),f[--h]);O.createDevice("/dev","random",_),O.createDevice("/dev","urandom",_),O.mkdir("/dev/shm"),O.mkdir("/dev/shm/tmp")},createSpecialDirectories(){O.mkdir("/proc");var f=O.mkdir("/proc/self");O.mkdir("/proc/self/fd"),O.mount({mount(){var h=O.createNode(f,"fd",16895,73);return h.node_ops={lookup(_,b){var S=+b,I=O.getStreamChecked(S),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>I.path}};return X.parent=X,X}},h}},{},"/proc/self/fd")},createStandardStreams(f,h,_){f?O.createDevice("/dev","stdin",f):O.symlink("/dev/tty","/dev/stdin"),h?O.createDevice("/dev","stdout",null,h):O.symlink("/dev/tty","/dev/stdout"),_?O.createDevice("/dev","stderr",null,_):O.symlink("/dev/tty1","/dev/stderr"),O.open("/dev/stdin",0),O.open("/dev/stdout",1),O.open("/dev/stderr",1)},staticInit(){[44].forEach(f=>{O.genericErrors[f]=new O.ErrnoError(f),O.genericErrors[f].stack="<generic error, no stack>"}),O.nameTable=new Array(4096),O.mount(Ht,{},"/"),O.createDefaultDirectories(),O.createDefaultDevices(),O.createSpecialDirectories(),O.filesystems={MEMFS:Ht}},init(f,h,_){O.initialized=!0,f??=n.stdin,h??=n.stdout,_??=n.stderr,O.createStandardStreams(f,h,_)},quit(){O.initialized=!1;for(var f=0;f<O.streams.length;f++){var h=O.streams[f];h&&O.close(h)}},findObject(f,h){var _=O.analyzePath(f,h);return _.exists?_.object:null},analyzePath(f,h){try{var _=O.lookupPath(f,{follow:!h});f=_.path}catch{}var b={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var _=O.lookupPath(f,{parent:!0});b.parentExists=!0,b.parentPath=_.path,b.parentObject=_.node,b.name=ce.basename(f),_=O.lookupPath(f,{follow:!h}),b.exists=!0,b.path=_.path,b.object=_.node,b.name=_.node.name,b.isRoot=_.path==="/"}catch(S){b.error=S.errno}return b},createPath(f,h,_,b){f=typeof f=="string"?f:O.getPath(f);for(var S=h.split("/").reverse();S.length;){var I=S.pop();if(I){var X=ce.join2(f,I);try{O.mkdir(X)}catch{}f=X}}return X},createFile(f,h,_,b,S){var I=ce.join2(typeof f=="string"?f:O.getPath(f),h),X=io(b,S);return O.create(I,X)},createDataFile(f,h,_,b,S,I){var X=h;f&&(f=typeof f=="string"?f:O.getPath(f),X=h?ce.join2(f,h):f);var re=io(b,S),Le=O.create(X,re);if(_){if(typeof _=="string"){for(var Ue=new Array(_.length),Je=0,rt=_.length;Je<rt;++Je)Ue[Je]=_.charCodeAt(Je);_=Ue}O.chmod(Le,re|146);var Ae=O.open(Le,577);O.write(Ae,_,0,_.length,0,I),O.close(Ae),O.chmod(Le,re)}},createDevice(f,h,_,b){var S=ce.join2(typeof f=="string"?f:O.getPath(f),h),I=io(!!_,!!b);O.createDevice.major||(O.createDevice.major=64);var X=O.makedev(O.createDevice.major++,0);return O.registerDevice(X,{open(re){re.seekable=!1},close(re){b?.buffer?.length&&b(10)},read(re,Le,Ue,Je,rt){for(var Ae=0,xe=0;xe<Je;xe++){var ze;try{ze=_()}catch{throw new O.ErrnoError(29)}if(ze===void 0&&Ae===0)throw new O.ErrnoError(6);if(ze==null)break;Ae++,Le[Ue+xe]=ze}return Ae&&(re.node.timestamp=Date.now()),Ae},write(re,Le,Ue,Je,rt){for(var Ae=0;Ae<Je;Ae++)try{b(Le[Ue+Ae])}catch{throw new O.ErrnoError(29)}return Je&&(re.node.timestamp=Date.now()),Ae}}),O.mkdev(S,I,X)},forceLoadFile(f){if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{f.contents=q(f.url),f.usedBytes=f.contents.length}catch{throw new O.ErrnoError(29)}},createLazyFile(f,h,_,b,S){class I{constructor(){this.lengthKnown=!1,this.chunks=[]}get(xe){if(!(xe>this.length-1||xe<0)){var ze=xe%this.chunkSize,le=xe/this.chunkSize|0;return this.getter(le)[ze]}}setDataGetter(xe){this.getter=xe}cacheLength(){var xe=new XMLHttpRequest;if(xe.open("HEAD",_,!1),xe.send(null),!(xe.status>=200&&xe.status<300||xe.status===304))throw new Error("Couldn't load "+_+". Status: "+xe.status);var ze=Number(xe.getResponseHeader("Content-length")),le,pe=(le=xe.getResponseHeader("Accept-Ranges"))&&le==="bytes",be=(le=xe.getResponseHeader("Content-Encoding"))&&le==="gzip",$e=1024*1024;pe||($e=ze);var Be=(Me,ht)=>{if(Me>ht)throw new Error("invalid range ("+Me+", "+ht+") or no bytes requested!");if(ht>ze-1)throw new Error("only "+ze+" bytes available! programmer error!");var j=new XMLHttpRequest;if(j.open("GET",_,!1),ze!==$e&&j.setRequestHeader("Range","bytes="+Me+"-"+ht),j.responseType="arraybuffer",j.overrideMimeType&&j.overrideMimeType("text/plain; charset=x-user-defined"),j.send(null),!(j.status>=200&&j.status<300||j.status===304))throw new Error("Couldn't load "+_+". Status: "+j.status);return j.response!==void 0?new Uint8Array(j.response||[]):$r(j.responseText||"")},we=this;we.setDataGetter(Me=>{var ht=Me*$e,j=(Me+1)*$e-1;if(j=Math.min(j,ze-1),typeof we.chunks[Me]>"u"&&(we.chunks[Me]=Be(ht,j)),typeof we.chunks[Me]>"u")throw new Error("doXHR failed!");return we.chunks[Me]}),(be||!ze)&&($e=ze=1,ze=this.getter(0).length,$e=ze,A("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ze,this._chunkSize=$e,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new I,re={isDevice:!1,contents:X}}else var re={isDevice:!1,url:_};var Le=O.createFile(f,h,re,b,S);re.contents?Le.contents=re.contents:re.url&&(Le.contents=null,Le.url=re.url),Object.defineProperties(Le,{usedBytes:{get:function(){return this.contents.length}}});var Ue={},Je=Object.keys(Le.stream_ops);Je.forEach(Ae=>{var xe=Le.stream_ops[Ae];Ue[Ae]=(...ze)=>(O.forceLoadFile(Le),xe(...ze))});function rt(Ae,xe,ze,le,pe){var be=Ae.node.contents;if(pe>=be.length)return 0;var $e=Math.min(be.length-pe,le);if(be.slice)for(var Be=0;Be<$e;Be++)xe[ze+Be]=be[pe+Be];else for(var Be=0;Be<$e;Be++)xe[ze+Be]=be.get(pe+Be);return $e}return Ue.read=(Ae,xe,ze,le,pe)=>(O.forceLoadFile(Le),rt(Ae,xe,ze,le,pe)),Ue.mmap=(Ae,xe,ze,le,pe)=>{O.forceLoadFile(Le);var be=$n(xe);if(!be)throw new O.ErrnoError(48);return rt(Ae,G,be,xe,ze),{ptr:be,allocated:!0}},Le.stream_ops=Ue,Le}},vh=(f,h)=>f?_t(B,f,h):"",rr={DEFAULT_POLLMASK:5,calculateAt(f,h,_){if(ce.isAbs(h))return h;var b;if(f===-100)b=O.cwd();else{var S=rr.getStreamFromFD(f);b=S.path}if(h.length==0){if(!_)throw new O.ErrnoError(44);return b}return ce.join2(b,h)},doStat(f,h,_){var b=f(h);ie[_>>2]=b.dev,ie[_+4>>2]=b.mode,V[_+8>>2]=b.nlink,ie[_+12>>2]=b.uid,ie[_+16>>2]=b.gid,ie[_+20>>2]=b.rdev,ne[_+24>>3]=BigInt(b.size),ie[_+32>>2]=4096,ie[_+36>>2]=b.blocks;var S=b.atime.getTime(),I=b.mtime.getTime(),X=b.ctime.getTime();return ne[_+40>>3]=BigInt(Math.floor(S/1e3)),V[_+48>>2]=S%1e3*1e3*1e3,ne[_+56>>3]=BigInt(Math.floor(I/1e3)),V[_+64>>2]=I%1e3*1e3*1e3,ne[_+72>>3]=BigInt(Math.floor(X/1e3)),V[_+80>>2]=X%1e3*1e3*1e3,ne[_+88>>3]=BigInt(b.ino),0},doMsync(f,h,_,b,S){if(!O.isFile(h.node.mode))throw new O.ErrnoError(43);if(b&2)return 0;var I=B.slice(f,f+_);O.msync(h,I,S,_,b)},getStreamFromFD(f){var h=O.getStreamChecked(f);return h},varargs:void 0,getStr(f){var h=vh(f);return h}};function _h(f,h){try{return f=rr.getStr(f),O.chmod(f,h),0}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function bh(f,h,_,b){try{if(h=rr.getStr(h),h=rr.calculateAt(f,h),_&-8)return-28;var S=O.lookupPath(h,{follow:!0}),I=S.node;if(!I)return-44;var X="";return _&4&&(X+="r"),_&2&&(X+="w"),_&1&&(X+="x"),X&&O.nodePermissions(I,X)?-2:0}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function wh(f,h){try{return O.fchmod(f,h),0}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Zc(f,h,_){try{return O.fchown(f,h,_),0}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function gl(){var f=ie[+rr.varargs>>2];return rr.varargs+=4,f}var cs=gl;function Yc(f,h,_){rr.varargs=_;try{var b=rr.getStreamFromFD(f);switch(h){case 0:{var S=gl();if(S<0)return-28;for(;O.streams[S];)S++;var I;return I=O.dupStream(b,S),I.fd}case 1:case 2:return 0;case 3:return b.flags;case 4:{var S=gl();return b.flags|=S,0}case 12:{var S=cs(),X=0;return Z[S+X>>1]=2,0}case 13:case 14:return 0}return-28}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function yl(f,h){try{var _=rr.getStreamFromFD(f);return rr.doStat(O.stat,_.path,h)}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var fy=0x20000000000000,vl=-0x20000000000000,so=f=>f<vl||f>fy?NaN:Number(f);function cu(f,h){h=so(h);try{return isNaN(h)?61:(O.ftruncate(f,h),0)}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var oo=(f,h,_)=>gr(f,B,h,_);function hy(f,h){try{if(h===0)return-28;var _=O.cwd(),b=Sr(_)+1;return h<b?-68:(oo(_,f,h),b)}catch(S){if(typeof O>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function py(f,h,_){rr.varargs=_;try{var b=rr.getStreamFromFD(f);switch(h){case 21509:return b.tty?0:-59;case 21505:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tcgets){var S=b.tty.ops.ioctl_tcgets(b),I=cs();ie[I>>2]=S.c_iflag||0,ie[I+4>>2]=S.c_oflag||0,ie[I+8>>2]=S.c_cflag||0,ie[I+12>>2]=S.c_lflag||0;for(var X=0;X<32;X++)G[I+X+17]=S.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:return b.tty?0:-59;case 21506:case 21507:case 21508:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tcsets){for(var I=cs(),re=ie[I>>2],Le=ie[I+4>>2],Ue=ie[I+8>>2],Je=ie[I+12>>2],rt=[],X=0;X<32;X++)rt.push(G[I+X+17]);return b.tty.ops.ioctl_tcsets(b.tty,h,{c_iflag:re,c_oflag:Le,c_cflag:Ue,c_lflag:Je,c_cc:rt})}return 0}case 21519:{if(!b.tty)return-59;var I=cs();return ie[I>>2]=0,0}case 21520:return b.tty?-28:-59;case 21531:{var I=cs();return O.ioctl(b,h,I)}case 21523:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tiocgwinsz){var Ae=b.tty.ops.ioctl_tiocgwinsz(b.tty),I=cs();Z[I>>1]=Ae[0],Z[I+2>>1]=Ae[1]}return 0}case 21524:return b.tty?0:-59;case 21515:return b.tty?0:-59;default:return-28}}catch(xe){if(typeof O>"u"||xe.name!=="ErrnoError")throw xe;return-xe.errno}}function my(f,h){try{return f=rr.getStr(f),rr.doStat(O.lstat,f,h)}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Oo(f,h,_){try{return h=rr.getStr(h),h=rr.calculateAt(f,h),h=ce.normalize(h),h[h.length-1]==="/"&&(h=h.substr(0,h.length-1)),O.mkdir(h,_,0),0}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function xh(f,h,_,b){try{h=rr.getStr(h);var S=b&256,I=b&4096;return b=b&-6401,h=rr.calculateAt(f,h,I),rr.doStat(S?O.lstat:O.stat,h,_)}catch(X){if(typeof O>"u"||X.name!=="ErrnoError")throw X;return-X.errno}}function Sh(f,h,_,b){rr.varargs=b;try{h=rr.getStr(h),h=rr.calculateAt(f,h);var S=b?gl():0;return O.open(h,_,S).fd}catch(I){if(typeof O>"u"||I.name!=="ErrnoError")throw I;return-I.errno}}function gy(f,h,_,b){try{if(h=rr.getStr(h),h=rr.calculateAt(f,h),b<=0)return-28;var S=O.readlink(h),I=Math.min(b,Sr(S)),X=G[_+I];return oo(S,_,b+1),G[_+I]=X,I}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function Nh(f){try{return f=rr.getStr(f),O.rmdir(f),0}catch(h){if(typeof O>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Eh(f,h){try{return f=rr.getStr(f),rr.doStat(O.stat,f,h)}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function kh(f,h,_){try{return h=rr.getStr(h),h=rr.calculateAt(f,h),_===0?O.unlink(h):_===512?O.rmdir(h):ft("Invalid flags passed to unlinkat"),0}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var Xc=f=>V[f>>2]+ie[f+4>>2]*0x100000000;function yy(f,h,_,b){try{h=rr.getStr(h),h=rr.calculateAt(f,h,!0);var S=Date.now(),I,X;if(!_)I=S,X=S;else{var re=Xc(_),Le=ie[_+8>>2];Le==0x3fffffff?I=S:Le==0x3ffffffe?I=-1:I=re*1e3+Le/(1e3*1e3),_+=16,re=Xc(_),Le=ie[_+8>>2],Le==0x3fffffff?X=S:Le==0x3ffffffe?X=-1:X=re*1e3+Le/(1e3*1e3)}return(X!=-1||I!=-1)&&O.utime(h,I,X),0}catch(Ue){if(typeof O>"u"||Ue.name!=="ErrnoError")throw Ue;return-Ue.errno}}var vy=1,sn=()=>vy,_y=f=>f%4===0&&(f%100!==0||f%400===0),ed=[0,31,60,91,121,152,182,213,244,274,305,335],Ih=[0,31,59,90,120,151,181,212,243,273,304,334],du=f=>{var h=_y(f.getFullYear()),_=h?ed:Ih,b=_[f.getMonth()]+f.getDate()-1;return b};function by(f,h){f=so(f);var _=new Date(f*1e3);ie[h>>2]=_.getSeconds(),ie[h+4>>2]=_.getMinutes(),ie[h+8>>2]=_.getHours(),ie[h+12>>2]=_.getDate(),ie[h+16>>2]=_.getMonth(),ie[h+20>>2]=_.getFullYear()-1900,ie[h+24>>2]=_.getDay();var b=du(_)|0;ie[h+28>>2]=b,ie[h+36>>2]=-(_.getTimezoneOffset()*60);var S=new Date(_.getFullYear(),0,1),I=new Date(_.getFullYear(),6,1).getTimezoneOffset(),X=S.getTimezoneOffset(),re=(I!=X&&_.getTimezoneOffset()==Math.min(X,I))|0;ie[h+32>>2]=re}function Ch(f,h,_,b,S,I,X){S=so(S);try{if(isNaN(S))return 61;var re=rr.getStreamFromFD(b),Le=O.mmap(re,f,S,h,_),Ue=Le.ptr;return ie[I>>2]=Le.allocated,V[X>>2]=Ue,0}catch(Je){if(typeof O>"u"||Je.name!=="ErrnoError")throw Je;return-Je.errno}}function fu(f,h,_,b,S,I){I=so(I);try{var X=rr.getStreamFromFD(S);_&2&&rr.doMsync(f,X,h,b,I)}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}var ds=(f,h,_,b)=>{var S=new Date().getFullYear(),I=new Date(S,0,1),X=new Date(S,6,1),re=I.getTimezoneOffset(),Le=X.getTimezoneOffset(),Ue=Math.max(re,Le);V[f>>2]=Ue*60,ie[h>>2]=+(re!=Le);var Je=xe=>{var ze=xe>=0?"-":"+",le=Math.abs(xe),pe=String(Math.floor(le/60)).padStart(2,"0"),be=String(le%60).padStart(2,"0");return`UTC${ze}${pe}${be}`},rt=Je(re),Ae=Je(Le);Le<re?(oo(rt,_,17),oo(Ae,b,17)):(oo(rt,b,17),oo(Ae,_,17))},wy=()=>Date.now(),Si;Si=()=>performance.now();var xy=()=>0x80000000,Sy=f=>{var h=$.buffer,_=(f-h.byteLength+65535)/65536;try{return $.grow(_),M(),1}catch{}},Ny=f=>{var h=B.length;f>>>=0;var _=xy();if(f>_)return!1;for(var b=1;b<=4;b*=2){var S=h*(1+.2/b);S=Math.min(S,f+0x6000000);var I=Math.min(_,To(Math.max(f,S),65536)),X=Sy(I);if(X)return!0}return!1},ma={},hu=()=>w||"./this.program",Ts=()=>{if(!Ts.strings){var f=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:f,_:hu()};for(var _ in ma)ma[_]===void 0?delete h[_]:h[_]=ma[_];var b=[];for(var _ in h)b.push(`${_}=${h[_]}`);Ts.strings=b}return Ts.strings},pu=(f,h)=>{for(var _=0;_<f.length;++_)G[h++]=f.charCodeAt(_);G[h]=0},Ey=(f,h)=>{var _=0;return Ts().forEach((b,S)=>{var I=h+_;V[f+S*4>>2]=I,pu(b,I),_+=b.length+1}),0},ky=(f,h)=>{var _=Ts();V[f>>2]=_.length;var b=0;return _.forEach(S=>b+=S.length+1),V[h>>2]=b,0};function td(f){try{var h=rr.getStreamFromFD(f);return O.close(h),0}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return _.errno}}function qh(f,h){try{var _=0,b=0,S=0,I=rr.getStreamFromFD(f),X=I.tty?2:O.isDir(I.mode)?3:O.isLink(I.mode)?7:4;return G[h]=X,Z[h+2>>1]=S,ne[h+8>>3]=BigInt(_),ne[h+16>>3]=BigInt(b),0}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return re.errno}}var rd=(f,h,_,b)=>{for(var S=0,I=0;I<_;I++){var X=V[h>>2],re=V[h+4>>2];h+=8;var Le=O.read(f,G,X,re,b);if(Le<0)return-1;if(S+=Le,Le<re)break}return S};function _l(f,h,_,b){try{var S=rr.getStreamFromFD(f),I=rd(S,h,_);return V[b>>2]=I,0}catch(X){if(typeof O>"u"||X.name!=="ErrnoError")throw X;return X.errno}}function Iy(f,h,_,b){h=so(h);try{if(isNaN(h))return 61;var S=rr.getStreamFromFD(f);return O.llseek(S,h,_),ne[b>>3]=BigInt(S.position),S.getdents&&h===0&&_===0&&(S.getdents=null),0}catch(I){if(typeof O>"u"||I.name!=="ErrnoError")throw I;return I.errno}}function nd(f){try{var h=rr.getStreamFromFD(f);return h.stream_ops?.fsync?h.stream_ops.fsync(h):0}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return _.errno}}var Nr=(f,h,_,b)=>{for(var S=0,I=0;I<_;I++){var X=V[h>>2],re=V[h+4>>2];h+=8;var Le=O.write(f,G,X,re,b);if(Le<0)return-1;if(S+=Le,Le<re)break}return S};function Th(f,h,_,b){try{var S=rr.getStreamFromFD(f),I=Nr(S,h,_);return V[b>>2]=I,0}catch(X){if(typeof O>"u"||X.name!=="ErrnoError")throw X;return X.errno}}O.createPreloadedFile=Gc,O.staticInit();var id={__syscall_chmod:_h,__syscall_faccessat:bh,__syscall_fchmod:wh,__syscall_fchown32:Zc,__syscall_fcntl64:Yc,__syscall_fstat64:yl,__syscall_ftruncate64:cu,__syscall_getcwd:hy,__syscall_ioctl:py,__syscall_lstat64:my,__syscall_mkdirat:Oo,__syscall_newfstatat:xh,__syscall_openat:Sh,__syscall_readlinkat:gy,__syscall_rmdir:Nh,__syscall_stat64:Eh,__syscall_unlinkat:kh,__syscall_utimensat:yy,_emscripten_get_now_is_monotonic:sn,_localtime_js:by,_mmap_js:Ch,_munmap_js:fu,_tzset_js:ds,emscripten_date_now:wy,emscripten_get_now:Si,emscripten_resize_heap:Ny,environ_get:Ey,environ_sizes_get:ky,fd_close:td,fd_fdstat_get:qh,fd_read:_l,fd_seek:Iy,fd_sync:nd,fd_write:Th,memory:$},te=mr();n._sqlite3_status64=(f,h,_,b)=>(n._sqlite3_status64=te.sqlite3_status64)(f,h,_,b),n._sqlite3_status=(f,h,_,b)=>(n._sqlite3_status=te.sqlite3_status)(f,h,_,b),n._sqlite3_db_status=(f,h,_,b,S)=>(n._sqlite3_db_status=te.sqlite3_db_status)(f,h,_,b,S),n._sqlite3_msize=f=>(n._sqlite3_msize=te.sqlite3_msize)(f),n._sqlite3_vfs_find=f=>(n._sqlite3_vfs_find=te.sqlite3_vfs_find)(f),n._sqlite3_initialize=()=>(n._sqlite3_initialize=te.sqlite3_initialize)(),n._sqlite3_malloc=f=>(n._sqlite3_malloc=te.sqlite3_malloc)(f),n._sqlite3_free=f=>(n._sqlite3_free=te.sqlite3_free)(f),n._sqlite3_vfs_register=(f,h)=>(n._sqlite3_vfs_register=te.sqlite3_vfs_register)(f,h),n._sqlite3_vfs_unregister=f=>(n._sqlite3_vfs_unregister=te.sqlite3_vfs_unregister)(f),n._sqlite3_malloc64=f=>(n._sqlite3_malloc64=te.sqlite3_malloc64)(f),n._sqlite3_realloc=(f,h)=>(n._sqlite3_realloc=te.sqlite3_realloc)(f,h),n._sqlite3_realloc64=(f,h)=>(n._sqlite3_realloc64=te.sqlite3_realloc64)(f,h),n._sqlite3_value_text=f=>(n._sqlite3_value_text=te.sqlite3_value_text)(f),n._sqlite3_randomness=(f,h)=>(n._sqlite3_randomness=te.sqlite3_randomness)(f,h),n._sqlite3_stricmp=(f,h)=>(n._sqlite3_stricmp=te.sqlite3_stricmp)(f,h),n._sqlite3_strnicmp=(f,h,_)=>(n._sqlite3_strnicmp=te.sqlite3_strnicmp)(f,h,_),n._sqlite3_uri_parameter=(f,h)=>(n._sqlite3_uri_parameter=te.sqlite3_uri_parameter)(f,h),n._sqlite3_uri_boolean=(f,h,_)=>(n._sqlite3_uri_boolean=te.sqlite3_uri_boolean)(f,h,_),n._sqlite3_serialize=(f,h,_,b)=>(n._sqlite3_serialize=te.sqlite3_serialize)(f,h,_,b),n._sqlite3_prepare_v2=(f,h,_,b,S)=>(n._sqlite3_prepare_v2=te.sqlite3_prepare_v2)(f,h,_,b,S),n._sqlite3_step=f=>(n._sqlite3_step=te.sqlite3_step)(f),n._sqlite3_column_int64=(f,h)=>(n._sqlite3_column_int64=te.sqlite3_column_int64)(f,h),n._sqlite3_reset=f=>(n._sqlite3_reset=te.sqlite3_reset)(f),n._sqlite3_exec=(f,h,_,b,S)=>(n._sqlite3_exec=te.sqlite3_exec)(f,h,_,b,S),n._sqlite3_column_int=(f,h)=>(n._sqlite3_column_int=te.sqlite3_column_int)(f,h),n._sqlite3_finalize=f=>(n._sqlite3_finalize=te.sqlite3_finalize)(f),n._sqlite3_file_control=(f,h,_,b)=>(n._sqlite3_file_control=te.sqlite3_file_control)(f,h,_,b),n._sqlite3_column_name=(f,h)=>(n._sqlite3_column_name=te.sqlite3_column_name)(f,h),n._sqlite3_column_text=(f,h)=>(n._sqlite3_column_text=te.sqlite3_column_text)(f,h),n._sqlite3_column_type=(f,h)=>(n._sqlite3_column_type=te.sqlite3_column_type)(f,h),n._sqlite3_errmsg=f=>(n._sqlite3_errmsg=te.sqlite3_errmsg)(f),n._sqlite3_deserialize=(f,h,_,b,S,I)=>(n._sqlite3_deserialize=te.sqlite3_deserialize)(f,h,_,b,S,I),n._sqlite3_clear_bindings=f=>(n._sqlite3_clear_bindings=te.sqlite3_clear_bindings)(f),n._sqlite3_value_blob=f=>(n._sqlite3_value_blob=te.sqlite3_value_blob)(f),n._sqlite3_value_bytes=f=>(n._sqlite3_value_bytes=te.sqlite3_value_bytes)(f),n._sqlite3_value_double=f=>(n._sqlite3_value_double=te.sqlite3_value_double)(f),n._sqlite3_value_int=f=>(n._sqlite3_value_int=te.sqlite3_value_int)(f),n._sqlite3_value_int64=f=>(n._sqlite3_value_int64=te.sqlite3_value_int64)(f),n._sqlite3_value_subtype=f=>(n._sqlite3_value_subtype=te.sqlite3_value_subtype)(f),n._sqlite3_value_pointer=(f,h)=>(n._sqlite3_value_pointer=te.sqlite3_value_pointer)(f,h),n._sqlite3_value_type=f=>(n._sqlite3_value_type=te.sqlite3_value_type)(f),n._sqlite3_value_nochange=f=>(n._sqlite3_value_nochange=te.sqlite3_value_nochange)(f),n._sqlite3_value_frombind=f=>(n._sqlite3_value_frombind=te.sqlite3_value_frombind)(f),n._sqlite3_value_dup=f=>(n._sqlite3_value_dup=te.sqlite3_value_dup)(f),n._sqlite3_value_free=f=>(n._sqlite3_value_free=te.sqlite3_value_free)(f),n._sqlite3_result_blob=(f,h,_,b)=>(n._sqlite3_result_blob=te.sqlite3_result_blob)(f,h,_,b),n._sqlite3_result_error_toobig=f=>(n._sqlite3_result_error_toobig=te.sqlite3_result_error_toobig)(f),n._sqlite3_result_error_nomem=f=>(n._sqlite3_result_error_nomem=te.sqlite3_result_error_nomem)(f),n._sqlite3_result_double=(f,h)=>(n._sqlite3_result_double=te.sqlite3_result_double)(f,h),n._sqlite3_result_error=(f,h,_)=>(n._sqlite3_result_error=te.sqlite3_result_error)(f,h,_),n._sqlite3_result_int=(f,h)=>(n._sqlite3_result_int=te.sqlite3_result_int)(f,h),n._sqlite3_result_int64=(f,h)=>(n._sqlite3_result_int64=te.sqlite3_result_int64)(f,h),n._sqlite3_result_null=f=>(n._sqlite3_result_null=te.sqlite3_result_null)(f),n._sqlite3_result_pointer=(f,h,_,b)=>(n._sqlite3_result_pointer=te.sqlite3_result_pointer)(f,h,_,b),n._sqlite3_result_subtype=(f,h)=>(n._sqlite3_result_subtype=te.sqlite3_result_subtype)(f,h),n._sqlite3_result_text=(f,h,_,b)=>(n._sqlite3_result_text=te.sqlite3_result_text)(f,h,_,b),n._sqlite3_result_zeroblob=(f,h)=>(n._sqlite3_result_zeroblob=te.sqlite3_result_zeroblob)(f,h),n._sqlite3_result_zeroblob64=(f,h)=>(n._sqlite3_result_zeroblob64=te.sqlite3_result_zeroblob64)(f,h),n._sqlite3_result_error_code=(f,h)=>(n._sqlite3_result_error_code=te.sqlite3_result_error_code)(f,h),n._sqlite3_user_data=f=>(n._sqlite3_user_data=te.sqlite3_user_data)(f),n._sqlite3_context_db_handle=f=>(n._sqlite3_context_db_handle=te.sqlite3_context_db_handle)(f),n._sqlite3_vtab_nochange=f=>(n._sqlite3_vtab_nochange=te.sqlite3_vtab_nochange)(f),n._sqlite3_vtab_in_first=(f,h)=>(n._sqlite3_vtab_in_first=te.sqlite3_vtab_in_first)(f,h),n._sqlite3_vtab_in_next=(f,h)=>(n._sqlite3_vtab_in_next=te.sqlite3_vtab_in_next)(f,h),n._sqlite3_aggregate_context=(f,h)=>(n._sqlite3_aggregate_context=te.sqlite3_aggregate_context)(f,h),n._sqlite3_get_auxdata=(f,h)=>(n._sqlite3_get_auxdata=te.sqlite3_get_auxdata)(f,h),n._sqlite3_set_auxdata=(f,h,_,b)=>(n._sqlite3_set_auxdata=te.sqlite3_set_auxdata)(f,h,_,b),n._sqlite3_column_count=f=>(n._sqlite3_column_count=te.sqlite3_column_count)(f),n._sqlite3_data_count=f=>(n._sqlite3_data_count=te.sqlite3_data_count)(f),n._sqlite3_column_blob=(f,h)=>(n._sqlite3_column_blob=te.sqlite3_column_blob)(f,h),n._sqlite3_column_bytes=(f,h)=>(n._sqlite3_column_bytes=te.sqlite3_column_bytes)(f,h),n._sqlite3_column_double=(f,h)=>(n._sqlite3_column_double=te.sqlite3_column_double)(f,h),n._sqlite3_column_value=(f,h)=>(n._sqlite3_column_value=te.sqlite3_column_value)(f,h),n._sqlite3_column_decltype=(f,h)=>(n._sqlite3_column_decltype=te.sqlite3_column_decltype)(f,h),n._sqlite3_bind_blob=(f,h,_,b,S)=>(n._sqlite3_bind_blob=te.sqlite3_bind_blob)(f,h,_,b,S),n._sqlite3_bind_double=(f,h,_)=>(n._sqlite3_bind_double=te.sqlite3_bind_double)(f,h,_),n._sqlite3_bind_int=(f,h,_)=>(n._sqlite3_bind_int=te.sqlite3_bind_int)(f,h,_),n._sqlite3_bind_int64=(f,h,_)=>(n._sqlite3_bind_int64=te.sqlite3_bind_int64)(f,h,_),n._sqlite3_bind_null=(f,h)=>(n._sqlite3_bind_null=te.sqlite3_bind_null)(f,h),n._sqlite3_bind_pointer=(f,h,_,b,S)=>(n._sqlite3_bind_pointer=te.sqlite3_bind_pointer)(f,h,_,b,S),n._sqlite3_bind_text=(f,h,_,b,S)=>(n._sqlite3_bind_text=te.sqlite3_bind_text)(f,h,_,b,S),n._sqlite3_bind_parameter_count=f=>(n._sqlite3_bind_parameter_count=te.sqlite3_bind_parameter_count)(f),n._sqlite3_bind_parameter_name=(f,h)=>(n._sqlite3_bind_parameter_name=te.sqlite3_bind_parameter_name)(f,h),n._sqlite3_bind_parameter_index=(f,h)=>(n._sqlite3_bind_parameter_index=te.sqlite3_bind_parameter_index)(f,h),n._sqlite3_db_handle=f=>(n._sqlite3_db_handle=te.sqlite3_db_handle)(f),n._sqlite3_stmt_readonly=f=>(n._sqlite3_stmt_readonly=te.sqlite3_stmt_readonly)(f),n._sqlite3_stmt_isexplain=f=>(n._sqlite3_stmt_isexplain=te.sqlite3_stmt_isexplain)(f),n._sqlite3_stmt_explain=(f,h)=>(n._sqlite3_stmt_explain=te.sqlite3_stmt_explain)(f,h),n._sqlite3_stmt_busy=f=>(n._sqlite3_stmt_busy=te.sqlite3_stmt_busy)(f),n._sqlite3_stmt_status=(f,h,_)=>(n._sqlite3_stmt_status=te.sqlite3_stmt_status)(f,h,_),n._sqlite3_sql=f=>(n._sqlite3_sql=te.sqlite3_sql)(f),n._sqlite3_expanded_sql=f=>(n._sqlite3_expanded_sql=te.sqlite3_expanded_sql)(f),n._sqlite3_preupdate_old=(f,h,_)=>(n._sqlite3_preupdate_old=te.sqlite3_preupdate_old)(f,h,_),n._sqlite3_preupdate_count=f=>(n._sqlite3_preupdate_count=te.sqlite3_preupdate_count)(f),n._sqlite3_preupdate_depth=f=>(n._sqlite3_preupdate_depth=te.sqlite3_preupdate_depth)(f),n._sqlite3_preupdate_blobwrite=f=>(n._sqlite3_preupdate_blobwrite=te.sqlite3_preupdate_blobwrite)(f),n._sqlite3_preupdate_new=(f,h,_)=>(n._sqlite3_preupdate_new=te.sqlite3_preupdate_new)(f,h,_),n._sqlite3_value_numeric_type=f=>(n._sqlite3_value_numeric_type=te.sqlite3_value_numeric_type)(f),n._sqlite3_set_authorizer=(f,h,_)=>(n._sqlite3_set_authorizer=te.sqlite3_set_authorizer)(f,h,_),n._sqlite3_strglob=(f,h)=>(n._sqlite3_strglob=te.sqlite3_strglob)(f,h),n._sqlite3_strlike=(f,h,_)=>(n._sqlite3_strlike=te.sqlite3_strlike)(f,h,_),n._sqlite3_auto_extension=f=>(n._sqlite3_auto_extension=te.sqlite3_auto_extension)(f),n._sqlite3_cancel_auto_extension=f=>(n._sqlite3_cancel_auto_extension=te.sqlite3_cancel_auto_extension)(f),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=te.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(f,h,_,b,S,I)=>(n._sqlite3_prepare_v3=te.sqlite3_prepare_v3)(f,h,_,b,S,I),n._sqlite3_create_module=(f,h,_,b)=>(n._sqlite3_create_module=te.sqlite3_create_module)(f,h,_,b),n._sqlite3_create_module_v2=(f,h,_,b,S)=>(n._sqlite3_create_module_v2=te.sqlite3_create_module_v2)(f,h,_,b,S),n._sqlite3_drop_modules=(f,h)=>(n._sqlite3_drop_modules=te.sqlite3_drop_modules)(f,h),n._sqlite3_declare_vtab=(f,h)=>(n._sqlite3_declare_vtab=te.sqlite3_declare_vtab)(f,h),n._sqlite3_vtab_on_conflict=f=>(n._sqlite3_vtab_on_conflict=te.sqlite3_vtab_on_conflict)(f),n._sqlite3_vtab_collation=(f,h)=>(n._sqlite3_vtab_collation=te.sqlite3_vtab_collation)(f,h),n._sqlite3_vtab_in=(f,h,_)=>(n._sqlite3_vtab_in=te.sqlite3_vtab_in)(f,h,_),n._sqlite3_vtab_rhs_value=(f,h,_)=>(n._sqlite3_vtab_rhs_value=te.sqlite3_vtab_rhs_value)(f,h,_),n._sqlite3_vtab_distinct=f=>(n._sqlite3_vtab_distinct=te.sqlite3_vtab_distinct)(f),n._sqlite3_keyword_name=(f,h,_)=>(n._sqlite3_keyword_name=te.sqlite3_keyword_name)(f,h,_),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=te.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(f,h)=>(n._sqlite3_keyword_check=te.sqlite3_keyword_check)(f,h),n._sqlite3_complete=f=>(n._sqlite3_complete=te.sqlite3_complete)(f),n._sqlite3_libversion=()=>(n._sqlite3_libversion=te.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=te.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=te.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=f=>(n._sqlite3_last_insert_rowid=te.sqlite3_last_insert_rowid)(f),n._sqlite3_set_last_insert_rowid=(f,h)=>(n._sqlite3_set_last_insert_rowid=te.sqlite3_set_last_insert_rowid)(f,h),n._sqlite3_changes64=f=>(n._sqlite3_changes64=te.sqlite3_changes64)(f),n._sqlite3_changes=f=>(n._sqlite3_changes=te.sqlite3_changes)(f),n._sqlite3_total_changes64=f=>(n._sqlite3_total_changes64=te.sqlite3_total_changes64)(f),n._sqlite3_total_changes=f=>(n._sqlite3_total_changes=te.sqlite3_total_changes)(f),n._sqlite3_txn_state=(f,h)=>(n._sqlite3_txn_state=te.sqlite3_txn_state)(f,h),n._sqlite3_close_v2=f=>(n._sqlite3_close_v2=te.sqlite3_close_v2)(f),n._sqlite3_busy_handler=(f,h,_)=>(n._sqlite3_busy_handler=te.sqlite3_busy_handler)(f,h,_),n._sqlite3_progress_handler=(f,h,_,b)=>(n._sqlite3_progress_handler=te.sqlite3_progress_handler)(f,h,_,b),n._sqlite3_busy_timeout=(f,h)=>(n._sqlite3_busy_timeout=te.sqlite3_busy_timeout)(f,h),n._sqlite3_interrupt=f=>(n._sqlite3_interrupt=te.sqlite3_interrupt)(f),n._sqlite3_is_interrupted=f=>(n._sqlite3_is_interrupted=te.sqlite3_is_interrupted)(f),n._sqlite3_create_function=(f,h,_,b,S,I,X,re)=>(n._sqlite3_create_function=te.sqlite3_create_function)(f,h,_,b,S,I,X,re),n._sqlite3_create_function_v2=(f,h,_,b,S,I,X,re,Le)=>(n._sqlite3_create_function_v2=te.sqlite3_create_function_v2)(f,h,_,b,S,I,X,re,Le),n._sqlite3_create_window_function=(f,h,_,b,S,I,X,re,Le,Ue)=>(n._sqlite3_create_window_function=te.sqlite3_create_window_function)(f,h,_,b,S,I,X,re,Le,Ue),n._sqlite3_overload_function=(f,h,_)=>(n._sqlite3_overload_function=te.sqlite3_overload_function)(f,h,_),n._sqlite3_trace_v2=(f,h,_,b)=>(n._sqlite3_trace_v2=te.sqlite3_trace_v2)(f,h,_,b),n._sqlite3_commit_hook=(f,h,_)=>(n._sqlite3_commit_hook=te.sqlite3_commit_hook)(f,h,_),n._sqlite3_update_hook=(f,h,_)=>(n._sqlite3_update_hook=te.sqlite3_update_hook)(f,h,_),n._sqlite3_rollback_hook=(f,h,_)=>(n._sqlite3_rollback_hook=te.sqlite3_rollback_hook)(f,h,_),n._sqlite3_preupdate_hook=(f,h,_)=>(n._sqlite3_preupdate_hook=te.sqlite3_preupdate_hook)(f,h,_),n._sqlite3_error_offset=f=>(n._sqlite3_error_offset=te.sqlite3_error_offset)(f),n._sqlite3_errcode=f=>(n._sqlite3_errcode=te.sqlite3_errcode)(f),n._sqlite3_extended_errcode=f=>(n._sqlite3_extended_errcode=te.sqlite3_extended_errcode)(f),n._sqlite3_errstr=f=>(n._sqlite3_errstr=te.sqlite3_errstr)(f),n._sqlite3_limit=(f,h,_)=>(n._sqlite3_limit=te.sqlite3_limit)(f,h,_),n._sqlite3_open=(f,h)=>(n._sqlite3_open=te.sqlite3_open)(f,h),n._sqlite3_open_v2=(f,h,_,b)=>(n._sqlite3_open_v2=te.sqlite3_open_v2)(f,h,_,b),n._sqlite3_create_collation=(f,h,_,b,S)=>(n._sqlite3_create_collation=te.sqlite3_create_collation)(f,h,_,b,S),n._sqlite3_create_collation_v2=(f,h,_,b,S,I)=>(n._sqlite3_create_collation_v2=te.sqlite3_create_collation_v2)(f,h,_,b,S,I),n._sqlite3_collation_needed=(f,h,_)=>(n._sqlite3_collation_needed=te.sqlite3_collation_needed)(f,h,_),n._sqlite3_get_autocommit=f=>(n._sqlite3_get_autocommit=te.sqlite3_get_autocommit)(f),n._sqlite3_table_column_metadata=(f,h,_,b,S,I,X,re,Le)=>(n._sqlite3_table_column_metadata=te.sqlite3_table_column_metadata)(f,h,_,b,S,I,X,re,Le),n._sqlite3_extended_result_codes=(f,h)=>(n._sqlite3_extended_result_codes=te.sqlite3_extended_result_codes)(f,h),n._sqlite3_uri_key=(f,h)=>(n._sqlite3_uri_key=te.sqlite3_uri_key)(f,h),n._sqlite3_uri_int64=(f,h,_)=>(n._sqlite3_uri_int64=te.sqlite3_uri_int64)(f,h,_),n._sqlite3_db_name=(f,h)=>(n._sqlite3_db_name=te.sqlite3_db_name)(f,h),n._sqlite3_db_filename=(f,h)=>(n._sqlite3_db_filename=te.sqlite3_db_filename)(f,h),n._sqlite3_db_readonly=(f,h)=>(n._sqlite3_db_readonly=te.sqlite3_db_readonly)(f,h),n._sqlite3_compileoption_used=f=>(n._sqlite3_compileoption_used=te.sqlite3_compileoption_used)(f),n._sqlite3_compileoption_get=f=>(n._sqlite3_compileoption_get=te.sqlite3_compileoption_get)(f),n._sqlite3session_diff=(f,h,_,b)=>(n._sqlite3session_diff=te.sqlite3session_diff)(f,h,_,b),n._sqlite3session_attach=(f,h)=>(n._sqlite3session_attach=te.sqlite3session_attach)(f,h),n._sqlite3session_create=(f,h,_)=>(n._sqlite3session_create=te.sqlite3session_create)(f,h,_),n._sqlite3session_delete=f=>(n._sqlite3session_delete=te.sqlite3session_delete)(f),n._sqlite3session_table_filter=(f,h,_)=>(n._sqlite3session_table_filter=te.sqlite3session_table_filter)(f,h,_),n._sqlite3session_changeset=(f,h,_)=>(n._sqlite3session_changeset=te.sqlite3session_changeset)(f,h,_),n._sqlite3session_changeset_strm=(f,h,_)=>(n._sqlite3session_changeset_strm=te.sqlite3session_changeset_strm)(f,h,_),n._sqlite3session_patchset_strm=(f,h,_)=>(n._sqlite3session_patchset_strm=te.sqlite3session_patchset_strm)(f,h,_),n._sqlite3session_patchset=(f,h,_)=>(n._sqlite3session_patchset=te.sqlite3session_patchset)(f,h,_),n._sqlite3session_enable=(f,h)=>(n._sqlite3session_enable=te.sqlite3session_enable)(f,h),n._sqlite3session_indirect=(f,h)=>(n._sqlite3session_indirect=te.sqlite3session_indirect)(f,h),n._sqlite3session_isempty=f=>(n._sqlite3session_isempty=te.sqlite3session_isempty)(f),n._sqlite3session_memory_used=f=>(n._sqlite3session_memory_used=te.sqlite3session_memory_used)(f),n._sqlite3session_object_config=(f,h,_)=>(n._sqlite3session_object_config=te.sqlite3session_object_config)(f,h,_),n._sqlite3session_changeset_size=f=>(n._sqlite3session_changeset_size=te.sqlite3session_changeset_size)(f),n._sqlite3changeset_start=(f,h,_)=>(n._sqlite3changeset_start=te.sqlite3changeset_start)(f,h,_),n._sqlite3changeset_start_v2=(f,h,_,b)=>(n._sqlite3changeset_start_v2=te.sqlite3changeset_start_v2)(f,h,_,b),n._sqlite3changeset_start_strm=(f,h,_)=>(n._sqlite3changeset_start_strm=te.sqlite3changeset_start_strm)(f,h,_),n._sqlite3changeset_start_v2_strm=(f,h,_,b)=>(n._sqlite3changeset_start_v2_strm=te.sqlite3changeset_start_v2_strm)(f,h,_,b),n._sqlite3changeset_next=f=>(n._sqlite3changeset_next=te.sqlite3changeset_next)(f),n._sqlite3changeset_op=(f,h,_,b,S)=>(n._sqlite3changeset_op=te.sqlite3changeset_op)(f,h,_,b,S),n._sqlite3changeset_pk=(f,h,_)=>(n._sqlite3changeset_pk=te.sqlite3changeset_pk)(f,h,_),n._sqlite3changeset_old=(f,h,_)=>(n._sqlite3changeset_old=te.sqlite3changeset_old)(f,h,_),n._sqlite3changeset_new=(f,h,_)=>(n._sqlite3changeset_new=te.sqlite3changeset_new)(f,h,_),n._sqlite3changeset_conflict=(f,h,_)=>(n._sqlite3changeset_conflict=te.sqlite3changeset_conflict)(f,h,_),n._sqlite3changeset_fk_conflicts=(f,h)=>(n._sqlite3changeset_fk_conflicts=te.sqlite3changeset_fk_conflicts)(f,h),n._sqlite3changeset_finalize=f=>(n._sqlite3changeset_finalize=te.sqlite3changeset_finalize)(f),n._sqlite3changeset_invert=(f,h,_,b)=>(n._sqlite3changeset_invert=te.sqlite3changeset_invert)(f,h,_,b),n._sqlite3changeset_invert_strm=(f,h,_,b)=>(n._sqlite3changeset_invert_strm=te.sqlite3changeset_invert_strm)(f,h,_,b),n._sqlite3changeset_apply_v2=(f,h,_,b,S,I,X,re,Le)=>(n._sqlite3changeset_apply_v2=te.sqlite3changeset_apply_v2)(f,h,_,b,S,I,X,re,Le),n._sqlite3changeset_apply=(f,h,_,b,S,I)=>(n._sqlite3changeset_apply=te.sqlite3changeset_apply)(f,h,_,b,S,I),n._sqlite3changeset_apply_v2_strm=(f,h,_,b,S,I,X,re,Le)=>(n._sqlite3changeset_apply_v2_strm=te.sqlite3changeset_apply_v2_strm)(f,h,_,b,S,I,X,re,Le),n._sqlite3changeset_apply_strm=(f,h,_,b,S,I)=>(n._sqlite3changeset_apply_strm=te.sqlite3changeset_apply_strm)(f,h,_,b,S,I),n._sqlite3changegroup_new=f=>(n._sqlite3changegroup_new=te.sqlite3changegroup_new)(f),n._sqlite3changegroup_add=(f,h,_)=>(n._sqlite3changegroup_add=te.sqlite3changegroup_add)(f,h,_),n._sqlite3changegroup_output=(f,h,_)=>(n._sqlite3changegroup_output=te.sqlite3changegroup_output)(f,h,_),n._sqlite3changegroup_add_strm=(f,h,_)=>(n._sqlite3changegroup_add_strm=te.sqlite3changegroup_add_strm)(f,h,_),n._sqlite3changegroup_output_strm=(f,h,_)=>(n._sqlite3changegroup_output_strm=te.sqlite3changegroup_output_strm)(f,h,_),n._sqlite3changegroup_delete=f=>(n._sqlite3changegroup_delete=te.sqlite3changegroup_delete)(f),n._sqlite3changeset_concat=(f,h,_,b,S,I)=>(n._sqlite3changeset_concat=te.sqlite3changeset_concat)(f,h,_,b,S,I),n._sqlite3changeset_concat_strm=(f,h,_,b,S,I)=>(n._sqlite3changeset_concat_strm=te.sqlite3changeset_concat_strm)(f,h,_,b,S,I),n._sqlite3session_config=(f,h)=>(n._sqlite3session_config=te.sqlite3session_config)(f,h),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=te.sqlite3_sourceid)(),n._sqlite3__wasm_pstack_ptr=()=>(n._sqlite3__wasm_pstack_ptr=te.sqlite3__wasm_pstack_ptr)(),n._sqlite3__wasm_pstack_restore=f=>(n._sqlite3__wasm_pstack_restore=te.sqlite3__wasm_pstack_restore)(f),n._sqlite3__wasm_pstack_alloc=f=>(n._sqlite3__wasm_pstack_alloc=te.sqlite3__wasm_pstack_alloc)(f),n._sqlite3__wasm_pstack_remaining=()=>(n._sqlite3__wasm_pstack_remaining=te.sqlite3__wasm_pstack_remaining)(),n._sqlite3__wasm_pstack_quota=()=>(n._sqlite3__wasm_pstack_quota=te.sqlite3__wasm_pstack_quota)(),n._sqlite3__wasm_db_error=(f,h,_)=>(n._sqlite3__wasm_db_error=te.sqlite3__wasm_db_error)(f,h,_),n._sqlite3__wasm_test_struct=f=>(n._sqlite3__wasm_test_struct=te.sqlite3__wasm_test_struct)(f),n._sqlite3__wasm_enum_json=()=>(n._sqlite3__wasm_enum_json=te.sqlite3__wasm_enum_json)(),n._sqlite3__wasm_vfs_unlink=(f,h)=>(n._sqlite3__wasm_vfs_unlink=te.sqlite3__wasm_vfs_unlink)(f,h),n._sqlite3__wasm_db_vfs=(f,h)=>(n._sqlite3__wasm_db_vfs=te.sqlite3__wasm_db_vfs)(f,h),n._sqlite3__wasm_db_reset=f=>(n._sqlite3__wasm_db_reset=te.sqlite3__wasm_db_reset)(f),n._sqlite3__wasm_db_export_chunked=(f,h)=>(n._sqlite3__wasm_db_export_chunked=te.sqlite3__wasm_db_export_chunked)(f,h),n._sqlite3__wasm_db_serialize=(f,h,_,b,S)=>(n._sqlite3__wasm_db_serialize=te.sqlite3__wasm_db_serialize)(f,h,_,b,S),n._sqlite3__wasm_vfs_create_file=(f,h,_,b)=>(n._sqlite3__wasm_vfs_create_file=te.sqlite3__wasm_vfs_create_file)(f,h,_,b),n._sqlite3__wasm_posix_create_file=(f,h,_)=>(n._sqlite3__wasm_posix_create_file=te.sqlite3__wasm_posix_create_file)(f,h,_),n._sqlite3__wasm_kvvfsMakeKeyOnPstack=(f,h)=>(n._sqlite3__wasm_kvvfsMakeKeyOnPstack=te.sqlite3__wasm_kvvfsMakeKeyOnPstack)(f,h),n._sqlite3__wasm_kvvfs_methods=()=>(n._sqlite3__wasm_kvvfs_methods=te.sqlite3__wasm_kvvfs_methods)(),n._sqlite3__wasm_vtab_config=(f,h,_)=>(n._sqlite3__wasm_vtab_config=te.sqlite3__wasm_vtab_config)(f,h,_),n._sqlite3__wasm_db_config_ip=(f,h,_,b)=>(n._sqlite3__wasm_db_config_ip=te.sqlite3__wasm_db_config_ip)(f,h,_,b),n._sqlite3__wasm_db_config_pii=(f,h,_,b,S)=>(n._sqlite3__wasm_db_config_pii=te.sqlite3__wasm_db_config_pii)(f,h,_,b,S),n._sqlite3__wasm_db_config_s=(f,h,_)=>(n._sqlite3__wasm_db_config_s=te.sqlite3__wasm_db_config_s)(f,h,_),n._sqlite3__wasm_config_i=(f,h)=>(n._sqlite3__wasm_config_i=te.sqlite3__wasm_config_i)(f,h),n._sqlite3__wasm_config_ii=(f,h,_)=>(n._sqlite3__wasm_config_ii=te.sqlite3__wasm_config_ii)(f,h,_),n._sqlite3__wasm_config_j=(f,h)=>(n._sqlite3__wasm_config_j=te.sqlite3__wasm_config_j)(f,h),n._sqlite3__wasm_qfmt_token=(f,h)=>(n._sqlite3__wasm_qfmt_token=te.sqlite3__wasm_qfmt_token)(f,h),n._sqlite3__wasm_init_wasmfs=f=>(n._sqlite3__wasm_init_wasmfs=te.sqlite3__wasm_init_wasmfs)(f),n._sqlite3__wasm_test_intptr=f=>(n._sqlite3__wasm_test_intptr=te.sqlite3__wasm_test_intptr)(f),n._sqlite3__wasm_test_voidptr=f=>(n._sqlite3__wasm_test_voidptr=te.sqlite3__wasm_test_voidptr)(f),n._sqlite3__wasm_test_int64_max=()=>(n._sqlite3__wasm_test_int64_max=te.sqlite3__wasm_test_int64_max)(),n._sqlite3__wasm_test_int64_min=()=>(n._sqlite3__wasm_test_int64_min=te.sqlite3__wasm_test_int64_min)(),n._sqlite3__wasm_test_int64_times2=f=>(n._sqlite3__wasm_test_int64_times2=te.sqlite3__wasm_test_int64_times2)(f),n._sqlite3__wasm_test_int64_minmax=(f,h)=>(n._sqlite3__wasm_test_int64_minmax=te.sqlite3__wasm_test_int64_minmax)(f,h),n._sqlite3__wasm_test_int64ptr=f=>(n._sqlite3__wasm_test_int64ptr=te.sqlite3__wasm_test_int64ptr)(f),n._sqlite3__wasm_test_stack_overflow=f=>(n._sqlite3__wasm_test_stack_overflow=te.sqlite3__wasm_test_stack_overflow)(f),n._sqlite3__wasm_test_str_hello=f=>(n._sqlite3__wasm_test_str_hello=te.sqlite3__wasm_test_str_hello)(f),n._sqlite3__wasm_SQLTester_strglob=(f,h)=>(n._sqlite3__wasm_SQLTester_strglob=te.sqlite3__wasm_SQLTester_strglob)(f,h),n._malloc=f=>(n._malloc=te.malloc)(f),n._free=f=>(n._free=te.free)(f),n._realloc=(f,h)=>(n._realloc=te.realloc)(f,h);var sd=(f,h)=>(sd=te.emscripten_builtin_memalign)(f,h);n.wasmMemory=$;var bl;lt=function f(){bl||od(),bl||(lt=f)};function od(){if(Se>0||(qe(),Se>0))return;function f(){bl||(bl=!0,n.calledRun=!0,!H&&(je(),s(n),n.onRuntimeInitialized?.(),_e()))}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),f()},1)):f()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return od(),n.postRun||(n.postRun=[]),n.postRun.push(function(f){if(globalThis.sqlite3ApiBootstrap=function h(_=globalThis.sqlite3ApiConfig||h.defaultConfig){if(h.sqlite3)return(h.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),h.sqlite3;const b=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof f<"u"&&f.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},_||{});Object.assign(b,{allocExportName:b.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:b.useStdAlloc?"free":"sqlite3_free",reallocExportName:b.useStdAlloc?"realloc":"sqlite3_realloc"},b),["exports","memory","wasmfsOpfsDir"].forEach(T=>{typeof b[T]=="function"&&(b[T]=b[T]())}),delete globalThis.sqlite3ApiConfig,delete h.defaultConfig;const S=Object.create(null),I=Object.create(null),X=T=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(T)||"Unknown result code #"+T,re=T=>typeof T=="number"&&T===(T|0);class Le extends Error{constructor(...L){let W;if(L.length)if(re(L[0]))if(W=L[0],L.length===1)super(X(L[0]));else{const Ce=X(W);typeof L[1]=="object"?super(Ce,L[1]):(L[0]=Ce+":",super(L.join(" ")))}else L.length===2&&typeof L[1]=="object"?super(...L):super(L.join(" "));this.resultCode=W||S.SQLITE_ERROR,this.name="SQLite3Error"}}Le.toss=(...T)=>{throw new Le(...T)};const Ue=Le.toss;b.wasmfsOpfsDir&&!/^\/[^/]+$/.test(b.wasmfsOpfsDir)&&Ue("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Je=T=>typeof T!="bigint"&&T===(T|0)&&T<=0x7fffffff&&T>=-0x80000000,rt=function T(L){return T._max||(T._max=BigInt("0x7fffffffffffffff"),T._min=~T._max),L>=T._min&&L<=T._max},Ae=T=>T>=-2147483647n-1n&&T<=2147483647n,xe=function T(L){return T._min||(T._min=Number.MIN_SAFE_INTEGER,T._max=Number.MAX_SAFE_INTEGER),L>=T._min&&L<=T._max},ze=T=>T&&T.constructor&&Je(T.constructor.BYTES_PER_ELEMENT)?T:!1,le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,pe=T=>T.buffer instanceof le,be=(T,L,W)=>pe(T)?T.slice(L,W):T.subarray(L,W),$e=T=>T&&(T instanceof Uint8Array||T instanceof Int8Array||T instanceof ArrayBuffer),Be=T=>T&&(T instanceof Uint8Array||T instanceof Int8Array||T instanceof ArrayBuffer),we=T=>$e(T)||Ue("Value is not of a supported TypedArray type."),Me=new TextDecoder("utf-8"),ht=function(T,L,W){return Me.decode(be(T,L,W))},j=function(T){return Be(T)?ht(T instanceof ArrayBuffer?new Uint8Array(T):T):Array.isArray(T)?T.join(""):(I.isPtr(T)&&(T=I.cstrToJs(T)),T)};class J extends Error{constructor(...L){L.length===2&&typeof L[1]=="object"?super(...L):L.length?super(L.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}J.toss=(...T)=>{throw new J(...T)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(T,L,W,Ce,He,Et,Lt,Wt,Ze)=>{},sqlite3_create_function:(T,L,W,Ce,He,Et,Lt,Wt)=>{},sqlite3_create_window_function:(T,L,W,Ce,He,Et,Lt,Wt,Ze,de)=>{},sqlite3_prepare_v3:(T,L,W,Ce,He,Et)=>{},sqlite3_prepare_v2:(T,L,W,Ce,He)=>{},sqlite3_exec:(T,L,W,Ce,He)=>{},sqlite3_randomness:(T,L)=>{}});const he={affirmBindableTypedArray:we,flexibleString:j,bigIntFits32:Ae,bigIntFits64:rt,bigIntFitsDouble:xe,isBindableTypedArray:$e,isInt32:Je,isSQLableTypedArray:Be,isTypedArray:ze,typedArrayToString:ht,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:pe,toss:function(...T){throw new Error(T.join(" "))},toss3:Ue,typedArrayPart:be,affirmDbHeader:function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));const L="SQLite format 3";L.length>T.byteLength&&Ue("Input does not contain an SQLite3 database header.");for(let W=0;W<L.length;++W)L.charCodeAt(W)!==T[W]&&Ue("Input does not contain an SQLite3 database header.")},affirmIsDb:function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));const L=T.byteLength;(L<512||L%512!==0)&&Ue("Byte array size",L,"is invalid for an SQLite3 db."),he.affirmDbHeader(T)}};Object.assign(I,{ptrSizeof:b.wasmPtrSizeof||4,ptrIR:b.wasmPtrIR||"i32",bigIntEnabled:!!b.bigIntEnabled,exports:b.exports||Ue("Missing API config.exports (WASM module exports)."),memory:b.memory||b.exports.memory||Ue("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),I.allocFromTypedArray=function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T)),we(T);const L=I.alloc(T.byteLength||1);return I.heapForSize(T.constructor).set(T.byteLength?T:[0],L),L};{const T=b.allocExportName,L=b.deallocExportName,W=b.reallocExportName;for(const Ce of[T,L,W])I.exports[Ce]instanceof Function||Ue("Missing required exports[",Ce,"] function.");I.alloc=function Ce(He){return Ce.impl(He)||J.toss("Failed to allocate",He," bytes.")},I.alloc.impl=I.exports[T],I.realloc=function Ce(He,Et){const Lt=Ce.impl(He,Et);return Et?Lt||J.toss("Failed to reallocate",Et," bytes."):0},I.realloc.impl=I.exports[W],I.dealloc=I.exports[L]}I.compileOptionUsed=function T(L){if(arguments.length){if(Array.isArray(L)){const W={};return L.forEach(Ce=>{W[Ce]=S.sqlite3_compileoption_used(Ce)}),W}else if(typeof L=="object")return Object.keys(L).forEach(W=>{L[W]=S.sqlite3_compileoption_used(W)}),L}else{if(T._result)return T._result;T._opt||(T._rx=/^([^=]+)=(.+)/,T._rxInt=/^-?\d+$/,T._opt=function(Lt,Wt){const Ze=T._rx.exec(Lt);Wt[0]=Ze?Ze[1]:Lt,Wt[1]=Ze?T._rxInt.test(Ze[2])?+Ze[2]:Ze[2]:!0});const W={},Ce=[0,0];let He=0,Et;for(;Et=S.sqlite3_compileoption_get(He++);)T._opt(Et,Ce),W[Ce[0]]=Ce[1];return T._result=W}return typeof L=="string"?!!S.sqlite3_compileoption_used(L):!1},I.pstack=Object.assign(Object.create(null),{restore:I.exports.sqlite3__wasm_pstack_restore,alloc:function(T){return typeof T=="string"&&!(T=I.sizeofIR(T))&&J.toss("Invalid value for pstack.alloc(",arguments[0],")"),I.exports.sqlite3__wasm_pstack_alloc(T)||J.toss("Could not allocate",T,"bytes from the pstack.")},allocChunks:function(T,L){typeof L=="string"&&!(L=I.sizeofIR(L))&&J.toss("Invalid size value for allocChunks(",arguments[1],")");const W=I.pstack.alloc(T*L),Ce=[];let He=0,Et=0;for(;He<T;++He,Et+=L)Ce.push(W+Et);return Ce},allocPtr:(T=1,L=!0)=>T===1?I.pstack.alloc(L?8:I.ptrSizeof):I.pstack.allocChunks(T,L?8:I.ptrSizeof),call:function(T){const L=I.pstack.pointer;try{return T(ee)}finally{I.pstack.restore(L)}}}),Object.defineProperties(I.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...T)=>{if(T.length===1&&he.isTypedArray(T[0])&&T[0].BYTES_PER_ELEMENT===1){const L=T[0];if(L.byteLength===0)return I.exports.sqlite3_randomness(0,0),L;const W=I.pstack.pointer;try{let Ce=L.byteLength,He=0;const Et=I.exports.sqlite3_randomness,Lt=I.heap8u(),Wt=Ce<512?Ce:512,Ze=I.pstack.alloc(Wt);do{const de=Ce>Wt?Wt:Ce;Et(de,Ze),L.set(be(Lt,Ze,Ze+de),He),Ce-=de,He+=de}while(Ce>0)}catch(Ce){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Ce)}finally{I.pstack.restore(W)}return L}I.exports.sqlite3_randomness(...T)};let Qe;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Qe!==void 0)return Qe;const T=b.wasmfsOpfsDir;if(!T||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Qe="";try{return T&&I.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],T)===0?Qe=T:Qe=""}catch{return Qe=""}},S.sqlite3_wasmfs_filename_is_persistent=function(T){const L=S.sqlite3_wasmfs_opfs_dir();return L&&T?T.startsWith(L+"/"):!1},S.sqlite3_js_db_uses_vfs=function(T,L,W=0){try{const Ce=S.sqlite3_vfs_find(L);return Ce?T?Ce===S.sqlite3_js_db_vfs(T,W)?Ce:!1:Ce===S.sqlite3_vfs_find(0)?Ce:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const T=[];let L=S.sqlite3_vfs_find(0);for(;L;){const W=new S.sqlite3_vfs(L);T.push(I.cstrToJs(W.$zName)),L=W.$pNext,W.dispose()}return T},S.sqlite3_js_db_export=function(T,L=0){T=I.xWrap.testConvertArg("sqlite3*",T),T||Ue("Invalid sqlite3* argument."),I.bigIntEnabled||Ue("BigInt64 support is not enabled.");const W=I.scopedAllocPush();let Ce;try{const He=I.scopedAlloc(8+I.ptrSizeof),Et=He+8,Lt=L?I.isPtr(L)?L:I.scopedAllocCString(""+L):0;let Wt=I.exports.sqlite3__wasm_db_serialize(T,Lt,Et,He,0);Wt&&Ue("Database serialization failed with code",ee.capi.sqlite3_js_rc_str(Wt)),Ce=I.peekPtr(Et);const Ze=I.peek(He,"i64");return Wt=Ze?I.heap8u().slice(Ce,Ce+Number(Ze)):new Uint8Array,Wt}finally{Ce&&I.exports.sqlite3_free(Ce),I.scopedAllocPop(W)}},S.sqlite3_js_db_vfs=(T,L=0)=>he.sqlite3__wasm_db_vfs(T,L),S.sqlite3_js_aggregate_context=(T,L)=>S.sqlite3_aggregate_context(T,L)||(L?J.toss("Cannot allocate",L,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(T,L,W){let Ce;L&&I.isPtr(L)?Ce=L:L instanceof ArrayBuffer||L instanceof Uint8Array?(Ce=I.allocFromTypedArray(L),(arguments.length<3||!he.isInt32(W)||W<0)&&(W=L.byteLength)):Le.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!he.isInt32(W)||W<0)&&Le.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const He=he.sqlite3__wasm_posix_create_file(T,Ce,W);He&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(He))}finally{I.dealloc(Ce)}},S.sqlite3_js_vfs_create_file=function(T,L,W,Ce){b.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let He;W?(I.isPtr(W)?He=W:W instanceof ArrayBuffer&&(W=new Uint8Array(W)),W instanceof Uint8Array?(He=I.allocFromTypedArray(W),(arguments.length<4||!he.isInt32(Ce)||Ce<0)&&(Ce=W.byteLength)):Le.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):He=0,(!he.isInt32(Ce)||Ce<0)&&(I.dealloc(He),Le.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Et=he.sqlite3__wasm_vfs_create_file(T,L,He,Ce);Et&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(Et))}finally{I.dealloc(He)}},S.sqlite3_js_sql_to_string=T=>{if(typeof T=="string")return T;const L=j(v);return L===v?void 0:L},he.isUIThread()){const T=function(L){const W=Object.create(null);return W.prefix="kvvfs-"+L,W.stores=[],(L==="session"||L==="")&&W.stores.push(globalThis.sessionStorage),(L==="local"||L==="")&&W.stores.push(globalThis.localStorage),W};S.sqlite3_js_kvvfs_clear=function(L=""){let W=0;const Ce=T(L);return Ce.stores.forEach(He=>{const Et=[];let Lt;for(Lt=0;Lt<He.length;++Lt){const Wt=He.key(Lt);Wt.startsWith(Ce.prefix)&&Et.push(Wt)}Et.forEach(Wt=>He.removeItem(Wt)),W+=Et.length}),W},S.sqlite3_js_kvvfs_size=function(L=""){let W=0;const Ce=T(L);return Ce.stores.forEach(He=>{let Et;for(Et=0;Et<He.length;++Et){const Lt=He.key(Et);Lt.startsWith(Ce.prefix)&&(W+=Lt.length,W+=He.getItem(Lt).length)}}),W*2}}S.sqlite3_db_config=function(T,L,...W){switch(this.s||(this.s=I.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=I.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=I.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),L){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(T,L,W[0],W[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(T,L,W[0],W[1],W[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(T,L,W[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(T,L=!0){let W;const Ce=S.sqlite3_value_type(T);switch(Ce){case S.SQLITE_INTEGER:I.bigIntEnabled?(W=S.sqlite3_value_int64(T),he.bigIntFitsDouble(W)&&(W=Number(W))):W=S.sqlite3_value_double(T);break;case S.SQLITE_FLOAT:W=S.sqlite3_value_double(T);break;case S.SQLITE_TEXT:W=S.sqlite3_value_text(T);break;case S.SQLITE_BLOB:{const He=S.sqlite3_value_bytes(T),Et=S.sqlite3_value_blob(T);He&&!Et&&ee.WasmAllocError.toss("Cannot allocate memory for blob argument of",He,"byte(s)"),W=He?I.heap8u().slice(Et,Et+Number(He)):null;break}case S.SQLITE_NULL:W=null;break;default:L&&Ue(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Ce),W=void 0}return W},S.sqlite3_values_to_js=function(T,L,W=!0){let Ce;const He=[];for(Ce=0;Ce<T;++Ce)He.push(S.sqlite3_value_to_js(I.peekPtr(L+I.ptrSizeof*Ce),W));return He},S.sqlite3_result_error_js=function(T,L){L instanceof J?S.sqlite3_result_error_nomem(T):S.sqlite3_result_error(T,""+L,-1)},S.sqlite3_result_js=function(T,L){if(L instanceof Error){S.sqlite3_result_error_js(T,L);return}try{switch(typeof L){case"undefined":break;case"boolean":S.sqlite3_result_int(T,L?1:0);break;case"bigint":he.bigIntFits32(L)?S.sqlite3_result_int(T,Number(L)):he.bigIntFitsDouble(L)?S.sqlite3_result_double(T,Number(L)):I.bigIntEnabled?he.bigIntFits64(L)?S.sqlite3_result_int64(T,L):Ue("BigInt value",L.toString(),"is too BigInt for int64."):Ue("BigInt value",L.toString(),"is too BigInt.");break;case"number":{let W;he.isInt32(L)?W=S.sqlite3_result_int:I.bigIntEnabled&&Number.isInteger(L)&&he.bigIntFits64(BigInt(L))?W=S.sqlite3_result_int64:W=S.sqlite3_result_double,W(T,L);break}case"string":{const[W,Ce]=I.allocCString(L,!0);S.sqlite3_result_text(T,W,Ce,S.SQLITE_WASM_DEALLOC);break}case"object":if(L===null){S.sqlite3_result_null(T);break}else if(he.isBindableTypedArray(L)){const W=I.allocFromTypedArray(L);S.sqlite3_result_blob(T,W,L.byteLength,S.SQLITE_WASM_DEALLOC);break}default:Ue("Don't not how to handle this UDF result value:",typeof L,L)}}catch(W){S.sqlite3_result_error_js(T,W)}},S.sqlite3_column_js=function(T,L,W=!0){const Ce=S.sqlite3_column_value(T,L);return Ce===0?void 0:S.sqlite3_value_to_js(Ce,W)};const z=function(T,L,W){W=S[W],this.ptr?I.pokePtr(this.ptr,0):this.ptr=I.allocPtr();const Ce=W(T,L,this.ptr);if(Ce)return Le.toss(Ce,arguments[2]+"() failed with code "+Ce);const He=I.peekPtr(this.ptr);return He?S.sqlite3_value_to_js(He,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(T,L)=>z(T,L,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(T,L)=>z(T,L,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(T,L)=>z(T,L,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(T,L)=>z(T,L,"sqlite3changeset_old");const ee={WasmAllocError:J,SQLite3Error:Le,capi:S,util:he,wasm:I,config:b,version:Object.create(null),client:void 0,asyncPostInit:async function T(){if(T.isReady instanceof Promise)return T.isReady;let L=h.initializersAsync;delete h.initializersAsync;const W=async()=>(ee.__isUnderTest||(delete ee.util,delete ee.StructBinder),ee),Ce=Et=>{throw b.error("an async sqlite3 initializer failed:",Et),Et};if(!L||!L.length)return T.isReady=W().catch(Ce);L=L.map(Et=>Et instanceof Function?async Lt=>Et(ee):Et),L.push(W);let He=Promise.resolve(ee);for(;L.length;)He=He.then(L.shift());return T.isReady=He.catch(Ce)},scriptInfo:void 0};try{h.initializers.forEach(T=>{T(ee)})}catch(T){throw console.error("sqlite3 bootstrap initializer threw:",T),T}return delete h.initializers,h.sqlite3=ee,ee},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(h){h.bigIntEnabled===void 0&&(h.bigIntEnabled=!!globalThis.BigInt64Array);const _=(...j)=>{throw new Error(j.join(" "))};h.exports||Object.defineProperty(h,"exports",{enumerable:!0,configurable:!0,get:()=>h.instance&&h.instance.exports});const b=h.pointerIR||"i32",S=h.ptrSizeof=b==="i32"?4:b==="i64"?8:_("Unhandled ptrSizeof:",b),I=Object.create(null);I.heapSize=0,I.memory=null,I.freeFuncIndexes=[],I.scopedAlloc=[],I.utf8Decoder=new TextDecoder,I.utf8Encoder=new TextEncoder("utf-8"),h.sizeofIR=j=>{switch(j){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+j).endsWith("*")?S:void 0}};const X=function(){if(!I.memory)I.memory=h.memory instanceof WebAssembly.Memory?h.memory:h.exports.memory;else if(I.heapSize===I.memory.buffer.byteLength)return I;const j=I.memory.buffer;return I.HEAP8=new Int8Array(j),I.HEAP8U=new Uint8Array(j),I.HEAP16=new Int16Array(j),I.HEAP16U=new Uint16Array(j),I.HEAP32=new Int32Array(j),I.HEAP32U=new Uint32Array(j),h.bigIntEnabled&&(I.HEAP64=new BigInt64Array(j),I.HEAP64U=new BigUint64Array(j)),I.HEAP32F=new Float32Array(j),I.HEAP64F=new Float64Array(j),I.heapSize=j.byteLength,I};h.heap8=()=>X().HEAP8,h.heap8u=()=>X().HEAP8U,h.heap16=()=>X().HEAP16,h.heap16u=()=>X().HEAP16U,h.heap32=()=>X().HEAP32,h.heap32u=()=>X().HEAP32U,h.heapForSize=function(j,J=!0){const he=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X();switch(j){case Int8Array:return he.HEAP8;case Uint8Array:return he.HEAP8U;case Int16Array:return he.HEAP16;case Uint16Array:return he.HEAP16U;case Int32Array:return he.HEAP32;case Uint32Array:return he.HEAP32U;case 8:return J?he.HEAP8U:he.HEAP8;case 16:return J?he.HEAP16U:he.HEAP16;case 32:return J?he.HEAP32U:he.HEAP32;case 64:if(he.HEAP64)return J?he.HEAP64U:he.HEAP64;break;default:if(h.bigIntEnabled){if(j===globalThis.BigUint64Array)return he.HEAP64U;if(j===globalThis.BigInt64Array)return he.HEAP64;break}}_("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},h.functionTable=function(){return h.exports.__indirect_function_table},h.functionEntry=function(j){const J=h.functionTable();return j<J.length?J.get(j):void 0},h.jsFuncToWasm=function j(J,he){if(j._||(j._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(ee,T,L){L<128?ee[T](L):ee[T](L%128|128,L>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(ee){const T=j._.rxJSig.exec(ee);return T?T[2]:ee.substr(1)},letterType:ee=>j._.sigTypes[ee]||_("Invalid signature letter:",ee),pushSigType:(ee,T)=>ee.push(j._.typeCodes[j._.letterType(T)])}),typeof J=="string"){const ee=he;he=J,J=ee}const Qe=j._.sigParams(he),z=[1,96];j._.uleb128Encode(z,"push",Qe.length);for(const ee of Qe)j._.pushSigType(z,ee);return he[0]==="v"?z.push(0):(z.push(1),j._.pushSigType(z,he[0])),j._.uleb128Encode(z,"unshift",z.length),z.unshift(0,97,115,109,1,0,0,0,1),z.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(z)),{e:{f:J}}).exports.f};const re=function(J,he,Qe){if(Qe&&!I.scopedAlloc.length&&_("No scopedAllocPush() scope is active."),typeof J=="string"){const L=he;he=J,J=L}(typeof he!="string"||!(J instanceof Function))&&_("Invalid arguments: expecting (function,signature) or (signature,function).");const z=h.functionTable(),ee=z.length;let T;for(;I.freeFuncIndexes.length&&(T=I.freeFuncIndexes.pop(),z.get(T));){T=null;continue}T||(T=ee,z.grow(1));try{return z.set(T,J),Qe&&I.scopedAlloc[I.scopedAlloc.length-1].push(T),T}catch(L){if(!(L instanceof TypeError))throw T===ee&&I.freeFuncIndexes.push(ee),L}try{const L=h.jsFuncToWasm(J,he);z.set(T,L),Qe&&I.scopedAlloc[I.scopedAlloc.length-1].push(T)}catch(L){throw T===ee&&I.freeFuncIndexes.push(ee),L}return T};h.installFunction=(j,J)=>re(j,J,!1),h.scopedInstallFunction=(j,J)=>re(j,J,!0),h.uninstallFunction=function(j){if(!j&&j!==0)return;const J=I.freeFuncIndexes,he=h.functionTable();J.push(j);const Qe=he.get(j);return he.set(j,null),Qe},h.peek=function(J,he="i8"){he.endsWith("*")&&(he=b);const Qe=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X(),z=Array.isArray(J)?[]:void 0;let ee;do{switch(z&&(J=arguments[0].shift()),he){case"i1":case"i8":ee=Qe.HEAP8[J>>0];break;case"i16":ee=Qe.HEAP16[J>>1];break;case"i32":ee=Qe.HEAP32[J>>2];break;case"float":case"f32":ee=Qe.HEAP32F[J>>2];break;case"double":case"f64":ee=Number(Qe.HEAP64F[J>>3]);break;case"i64":if(h.bigIntEnabled){ee=BigInt(Qe.HEAP64[J>>3]);break}default:_("Invalid type for peek():",he)}z&&z.push(ee)}while(z&&arguments[0].length);return z||ee},h.poke=function(j,J,he="i8"){he.endsWith("*")&&(he=b);const Qe=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X();for(const z of Array.isArray(j)?j:[j])switch(he){case"i1":case"i8":Qe.HEAP8[z>>0]=J;continue;case"i16":Qe.HEAP16[z>>1]=J;continue;case"i32":Qe.HEAP32[z>>2]=J;continue;case"float":case"f32":Qe.HEAP32F[z>>2]=J;continue;case"double":case"f64":Qe.HEAP64F[z>>3]=J;continue;case"i64":if(Qe.HEAP64){Qe.HEAP64[z>>3]=BigInt(J);continue}default:_("Invalid type for poke(): "+he)}return this},h.peekPtr=(...j)=>h.peek(j.length===1?j[0]:j,b),h.pokePtr=(j,J=0)=>h.poke(j,J,b),h.peek8=(...j)=>h.peek(j.length===1?j[0]:j,"i8"),h.poke8=(j,J)=>h.poke(j,J,"i8"),h.peek16=(...j)=>h.peek(j.length===1?j[0]:j,"i16"),h.poke16=(j,J)=>h.poke(j,J,"i16"),h.peek32=(...j)=>h.peek(j.length===1?j[0]:j,"i32"),h.poke32=(j,J)=>h.poke(j,J,"i32"),h.peek64=(...j)=>h.peek(j.length===1?j[0]:j,"i64"),h.poke64=(j,J)=>h.poke(j,J,"i64"),h.peek32f=(...j)=>h.peek(j.length===1?j[0]:j,"f32"),h.poke32f=(j,J)=>h.poke(j,J,"f32"),h.peek64f=(...j)=>h.peek(j.length===1?j[0]:j,"f64"),h.poke64f=(j,J)=>h.poke(j,J,"f64"),h.getMemValue=h.peek,h.getPtrValue=h.peekPtr,h.setMemValue=h.poke,h.setPtrValue=h.pokePtr,h.isPtr32=j=>typeof j=="number"&&j===(j|0)&&j>=0,h.isPtr=h.isPtr32,h.cstrlen=function(j){if(!j||!h.isPtr(j))return null;const J=X().HEAP8U;let he=j;for(;J[he]!==0;++he);return he-j};const Le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ue=function(j,J,he){return I.utf8Decoder.decode(j.buffer instanceof Le?j.slice(J,he):j.subarray(J,he))};h.cstrToJs=function(j){const J=h.cstrlen(j);return J?Ue(X().HEAP8U,j,j+J):J===null?J:""},h.jstrlen=function(j){if(typeof j!="string")return null;const J=j.length;let he=0;for(let Qe=0;Qe<J;++Qe){let z=j.charCodeAt(Qe);z>=55296&&z<=57343&&(z=65536+((z&1023)<<10)|j.charCodeAt(++Qe)&1023),z<=127?++he:z<=2047?he+=2:z<=65535?he+=3:he+=4}return he},h.jstrcpy=function(j,J,he=0,Qe=-1,z=!0){if((!J||!(J instanceof Int8Array)&&!(J instanceof Uint8Array))&&_("jstrcpy() target must be an Int8Array or Uint8Array."),Qe<0&&(Qe=J.length-he),!(Qe>0)||!(he>=0))return 0;let ee=0,T=j.length;const L=he,W=he+Qe-(z?1:0);for(;ee<T&&he<W;++ee){let Ce=j.charCodeAt(ee);if(Ce>=55296&&Ce<=57343&&(Ce=65536+((Ce&1023)<<10)|j.charCodeAt(++ee)&1023),Ce<=127){if(he>=W)break;J[he++]=Ce}else if(Ce<=2047){if(he+1>=W)break;J[he++]=192|Ce>>6,J[he++]=128|Ce&63}else if(Ce<=65535){if(he+2>=W)break;J[he++]=224|Ce>>12,J[he++]=128|Ce>>6&63,J[he++]=128|Ce&63}else{if(he+3>=W)break;J[he++]=240|Ce>>18,J[he++]=128|Ce>>12&63,J[he++]=128|Ce>>6&63,J[he++]=128|Ce&63}}return z&&(J[he++]=0),he-L},h.cstrncpy=function(j,J,he){if((!j||!J)&&_("cstrncpy() does not accept NULL strings."),he<0)he=h.cstrlen(strPtr)+1;else if(!(he>0))return 0;const Qe=h.heap8u();let z=0,ee;for(;z<he&&(ee=Qe[J+z]);++z)Qe[j+z]=ee;return z<he&&(Qe[j+z++]=0),z},h.jstrToUintArray=(j,J=!1)=>I.utf8Encoder.encode(J?j+"\0":j);const Je=(j,J)=>{(!(j.alloc instanceof Function)||!(j.dealloc instanceof Function))&&_("Object is missing alloc() and/or dealloc() function(s)","required by",J+"().")},rt=function(j,J,he,Qe){if(Je(h,Qe),typeof j!="string")return null;{const z=I.utf8Encoder.encode(j),ee=he(z.length+1),T=X().HEAP8U;return T.set(z,ee),T[ee+z.length]=0,J?[ee,z.length]:ee}};h.allocCString=(j,J=!1)=>rt(j,J,h.alloc,"allocCString()"),h.scopedAllocPush=function(){Je(h,"scopedAllocPush");const j=[];return I.scopedAlloc.push(j),j},h.scopedAllocPop=function(j){Je(h,"scopedAllocPop");const J=arguments.length?I.scopedAlloc.indexOf(j):I.scopedAlloc.length-1;J<0&&_("Invalid state object for scopedAllocPop()."),arguments.length===0&&(j=I.scopedAlloc[J]),I.scopedAlloc.splice(J,1);for(let he;he=j.pop();)h.functionEntry(he)?h.uninstallFunction(he):h.dealloc(he)},h.scopedAlloc=function(j){I.scopedAlloc.length||_("No scopedAllocPush() scope is active.");const J=h.alloc(j);return I.scopedAlloc[I.scopedAlloc.length-1].push(J),J},Object.defineProperty(h.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>I.scopedAlloc.length,set:()=>_("The 'active' property is read-only.")}),h.scopedAllocCString=(j,J=!1)=>rt(j,J,h.scopedAlloc,"scopedAllocCString()");const Ae=function(j,J){const he=h[j?"scopedAlloc":"alloc"]((J.length+1)*h.ptrSizeof);let Qe=0;return J.forEach(z=>{h.pokePtr(he+h.ptrSizeof*Qe++,h[j?"scopedAllocCString":"allocCString"](""+z))}),h.pokePtr(he+h.ptrSizeof*Qe,0),he};h.scopedAllocMainArgv=j=>Ae(!0,j),h.allocMainArgv=j=>Ae(!1,j),h.cArgvToJs=(j,J)=>{const he=[];for(let Qe=0;Qe<j;++Qe){const z=h.peekPtr(J+h.ptrSizeof*Qe);he.push(z?h.cstrToJs(z):null)}return he},h.scopedAllocCall=function(j){h.scopedAllocPush();try{return j()}finally{h.scopedAllocPop()}};const xe=function(j,J,he){Je(h,he);const Qe=J?"i64":b;let z=h[he](j*(J?8:S));if(h.poke(z,0,Qe),j===1)return z;const ee=[z];for(let T=1;T<j;++T)z+=J?8:S,ee[T]=z,h.poke(z,0,Qe);return ee};h.allocPtr=(j=1,J=!0)=>xe(j,J,"alloc"),h.scopedAllocPtr=(j=1,J=!0)=>xe(j,J,"scopedAlloc"),h.xGet=function(j){return h.exports[j]||_("Cannot find exported symbol:",j)};const ze=(j,J)=>_(j+"() requires",J,"argument(s).");h.xCall=function(j,...J){const he=j instanceof Function?j:h.xGet(j);return he instanceof Function||_("Exported symbol",j,"is not a function."),he.length!==J.length&&ze(he===j?he.name:j,he.length),arguments.length===2&&Array.isArray(arguments[1])?he.apply(null,arguments[1]):he.apply(null,J)},I.xWrap=Object.create(null),I.xWrap.convert=Object.create(null),I.xWrap.convert.arg=new Map,I.xWrap.convert.result=new Map;const le=I.xWrap.convert.arg,pe=I.xWrap.convert.result;h.bigIntEnabled&&le.set("i64",j=>BigInt(j));const be=b==="i32"?j=>j|0:j=>BigInt(j)|BigInt(0);le.set("i32",be).set("i16",j=>(j|0)&65535).set("i8",j=>(j|0)&255).set("f32",j=>Number(j).valueOf()).set("float",le.get("f32")).set("f64",le.get("f32")).set("double",le.get("f64")).set("int",le.get("i32")).set("null",j=>j).set(null,le.get("null")).set("**",be).set("*",be),pe.set("*",be).set("pointer",be).set("number",j=>Number(j)).set("void",j=>{}).set("null",j=>j).set(null,pe.get("null"));{const j=["i8","i16","i32","int","f32","float","f64","double"];h.bigIntEnabled&&j.push("i64");const J=le.get(b);for(const he of j)le.set(he+"*",J),pe.set(he+"*",J),pe.set(he,le.get(he)||_("Missing arg converter:",he))}const $e=function(j){return typeof j=="string"?h.scopedAllocCString(j):j?be(j):null};le.set("string",$e).set("utf8",$e).set("pointer",$e),pe.set("string",j=>h.cstrToJs(j)).set("utf8",pe.get("string")).set("string:dealloc",j=>{try{return j?h.cstrToJs(j):null}finally{h.dealloc(j)}}).set("utf8:dealloc",pe.get("string:dealloc")).set("json",j=>JSON.parse(h.cstrToJs(j))).set("json:dealloc",j=>{try{return j?JSON.parse(h.cstrToJs(j)):null}finally{h.dealloc(j)}});const Be=class{constructor(j){this.name=j.name||"unnamed adapter"}convertArg(j,J,he){_("AbstractArgAdapter must be subclassed.")}};le.FuncPtrAdapter=class Ko extends Be{constructor(J){super(J),le.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",J),this.name=J.name||"unnamed",this.signature=J.signature,J.contextKey instanceof Function&&(this.contextKey=J.contextKey,J.bindScope||(J.bindScope="context")),this.bindScope=J.bindScope||_("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Ko.bindScopes.indexOf(J.bindScope)<0&&_("Invalid options.bindScope ("+J.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Ko.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=J.callProxy instanceof Function?J.callProxy:void 0}contextKey(J,he){return this}contextMap(J){const he=this.__cmap||(this.__cmap=new Map);let Qe=he.get(J);return Qe===void 0&&he.set(J,Qe=[]),Qe}convertArg(J,he,Qe){let z=this.singleton;if(!z&&this.isContext&&(z=this.contextMap(this.contextKey(he,Qe))),z&&z[0]===J)return z[1];if(J instanceof Function){this.callProxy&&(J=this.callProxy(J));const ee=re(J,this.signature,this.isTransient);if(Ko.debugFuncInstall&&Ko.debugOut("FuncPtrAdapter installed",this,this.contextKey(he,Qe),"@"+ee,J),z){if(z[1]){Ko.debugFuncInstall&&Ko.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(he,Qe),"@"+z[1],J);try{I.scopedAlloc[I.scopedAlloc.length-1].push(z[1])}catch{}}z[0]=J,z[1]=ee}return ee}else if(h.isPtr(J)||J===null||J===void 0){if(z&&z[1]&&z[1]!==J){Ko.debugFuncInstall&&Ko.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(he,Qe),"@"+z[1],J);try{I.scopedAlloc[I.scopedAlloc.length-1].push(z[1])}catch{}z[0]=z[1]=J|0}return J||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},le.FuncPtrAdapter.warnOnUse=!1,le.FuncPtrAdapter.debugFuncInstall=!1,le.FuncPtrAdapter.debugOut=console.debug.bind(console),le.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const we=j=>le.get(j)||_("Argument adapter not found:",j),Me=j=>pe.get(j)||_("Result adapter not found:",j);I.xWrap.convertArg=(j,...J)=>we(j)(...J),I.xWrap.convertArgNoCheck=(j,...J)=>le.get(j)(...J),I.xWrap.convertResult=(j,J)=>j===null?J:j?Me(j)(J):void 0,I.xWrap.convertResultNoCheck=(j,J)=>j===null?J:j?pe.get(j)(J):void 0,h.xWrap=function(j,J,...he){arguments.length===3&&Array.isArray(arguments[2])&&(he=arguments[2]),h.isPtr(j)&&(j=h.functionEntry(j)||_("Function pointer not found in WASM function table."));const Qe=j instanceof Function,z=Qe?j:h.xGet(j);if(Qe&&(j=z.name||"unnamed function"),he.length!==z.length&&ze(j,z.length),J===null&&z.length===0)return z;J!=null&&Me(J);for(const T of he)T instanceof Be?le.set(T,(...L)=>T.convertArg(...L)):we(T);const ee=I.xWrap;return z.length===0?(...T)=>T.length?ze(j,z.length):ee.convertResult(J,z.call(null)):function(...T){T.length!==z.length&&ze(j,z.length);const L=h.scopedAllocPush();try{let W=0;for(;W<T.length;++W)T[W]=ee.convertArgNoCheck(he[W],T[W],T,W);return ee.convertResultNoCheck(J,z.apply(null,T))}finally{h.scopedAllocPop(L)}}};const ht=function(j,J,he,Qe,z,ee){if(typeof he=="string"){if(J===1)return ee.get(he);if(J===2){if(Qe)Qe instanceof Function||_(z,"requires a function argument.");else return delete ee.get(he),j;return ee.set(he,Qe),j}}_("Invalid arguments to",z)};return h.xWrap.resultAdapter=function j(J,he){return ht(j,arguments.length,J,he,"resultAdapter()",pe)},h.xWrap.argAdapter=function j(J,he){return ht(j,arguments.length,J,he,"argAdapter()",le)},h.xWrap.FuncPtrAdapter=le.FuncPtrAdapter,h.xCallWrapped=function(j,J,he,...Qe){return Array.isArray(arguments[3])&&(Qe=arguments[3]),h.xWrap(j,J,he||[]).apply(null,Qe||[])},h.xWrap.testConvertArg=I.xWrap.convertArg,h.xWrap.testConvertResult=I.xWrap.convertResult,h},globalThis.WhWasmUtilInstaller.yawl=function(h){const _=()=>fetch(h.uri,{credentials:"same-origin"}),b=this,S=function(X){if(h.wasmUtilTarget){const re=(...Ue)=>{throw new Error(Ue.join(" "))},Le=h.wasmUtilTarget;if(Le.module=X.module,Le.instance=X.instance,Le.instance.exports.memory||(Le.memory=h.imports&&h.imports.env&&h.imports.env.memory||re("Missing 'memory' object!")),!Le.alloc&&X.instance.exports.malloc){const Ue=X.instance.exports;Le.alloc=function(Je){return Ue.malloc(Je)||re("Allocation of",Je,"bytes failed.")},Le.dealloc=function(Je){Ue.free(Je)}}b(Le)}return h.onload&&h.onload(X,h),X};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(_(),h.imports||{}).then(S)}:function(){return _().then(re=>re.arrayBuffer()).then(re=>WebAssembly.instantiate(re,h.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function h(_){const b=(...Pe)=>{throw new Error(Pe.join(" "))};!(_.heap instanceof WebAssembly.Memory)&&!(_.heap instanceof Function)&&b("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Pe){_[Pe]instanceof Function||b("Config option '"+Pe+"' must be a function.")});const S=h,I=_.heap instanceof Function?_.heap:()=>new Uint8Array(_.heap.buffer),X=_.alloc,re=_.dealloc,Le=_.log||console.log.bind(console),Ue=_.memberPrefix||"",Je=_.memberSuffix||"",rt=_.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!_.bigIntEnabled,Ae=globalThis.BigInt,xe=globalThis.BigInt64Array,ze=_.ptrSizeof||4,le=_.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Pe=null){Pe&&Pe.__flags&&(Pe=Pe.__flags);const st=function ct(wt){return arguments.length===0?ct.__flags:(wt<0?(delete ct.__flags.getter,delete ct.__flags.setter,delete ct.__flags.alloc,delete ct.__flags.dealloc):(ct.__flags.getter=(1&wt)!==0,ct.__flags.setter=(2&wt)!==0,ct.__flags.alloc=(4&wt)!==0,ct.__flags.dealloc=(8&wt)!==0),ct._flags)};return Object.defineProperty(st,"__flags",{iterable:!1,writable:!1,value:Object.create(Pe)}),Pe||st(0),st},S.debugFlags=S.__makeDebugFlags());const pe=function(){const Pe=new ArrayBuffer(2);return new DataView(Pe).setInt16(0,256,!0),new Int16Array(Pe)[0]===256}(),be=Pe=>Pe[1]==="(",$e=Pe=>Pe==="P",Be=Pe=>be(Pe)?"p":Pe[0],we=function(Pe){switch(Be(Pe)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return le;case"j":return"i64";case"f":return"float";case"d":return"double"}b("Unhandled signature IR:",Pe)},Me=xe?()=>!0:()=>b("BigInt64Array is not available."),ht=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(ze){case 4:return"getInt32";case 8:return Me()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Me()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}b("Unhandled DataView getter for signature:",Pe)},j=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(ze){case 4:return"setInt32";case 8:return Me()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Me()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}b("Unhandled DataView setter for signature:",Pe)},J=function(Pe){switch(Be(Pe)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Me()&&Ae;case"p":case"P":case"s":switch(ze){case 4:return Number;case 8:return Me()&&Ae}break}b("Unhandled DataView set wrapper for signature:",Pe)},he=(Pe,st)=>Pe+"::"+st,Qe=function(Pe,st){return()=>b(he(Pe,st),"is read-only.")},z=new WeakMap,ee="(pointer-is-external)",T=function(Pe,st,ct){if(ct||(ct=z.get(st)),ct){if(z.delete(st),Array.isArray(st.ondispose)){let wt;for(;wt=st.ondispose.shift();)try{wt instanceof Function?wt.call(st):wt instanceof Ft?wt.dispose():typeof wt=="number"&&re(wt)}catch(or){console.warn("ondispose() for",Pe.structName,"@",ct,"threw. NOT propagating it.",or)}}else if(st.ondispose instanceof Function)try{st.ondispose()}catch(wt){console.warn("ondispose() for",Pe.structName,"@",ct,"threw. NOT propagating it.",wt)}delete st.ondispose,Pe.debugFlags.__flags.dealloc&&Le("debug.dealloc:",st[ee]?"EXTERNAL":"",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+ct),st[ee]||re(ct)}},L=Pe=>({configurable:!1,writable:!1,iterable:!1,value:Pe}),W=function(Pe,st,ct){let wt=!ct;ct?Object.defineProperty(st,ee,L(ct)):(ct=X(Pe.structInfo.sizeof),ct||b("Allocation of",Pe.structName,"structure failed."));try{Pe.debugFlags.__flags.alloc&&Le("debug.alloc:",wt?"":"EXTERNAL",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+ct),wt&&I().fill(0,ct,ct+Pe.structInfo.sizeof),z.set(st,ct)}catch(or){throw T(Pe,st,ct),or}},Ce=function(){const Pe=this.pointer;return Pe?new Uint8Array(I().slice(Pe,Pe+this.structInfo.sizeof)):null},Et=L(Pe=>Ue+Pe+Je),Lt=function(Pe,st,ct=!0){let wt=Pe.members[st];if(!wt&&(Ue||Je)){for(const or of Object.values(Pe.members))if(or.key===st){wt=or;break}!wt&&ct&&b(he(Pe.name,st),"is not a mapped struct member.")}return wt},Wt=function Pe(st,ct,wt=!1){Pe._||(Pe._=Rr=>Rr.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const or=Lt(st.structInfo,ct,!0);return wt?Pe._(or.signature):or.signature},Ze={configurable:!1,enumerable:!1,get:function(){return z.get(this)},set:()=>b("Cannot assign the 'pointer' property of a struct.")},de=L(function(){const Pe=[];for(const st of Object.keys(this.structInfo.members))Pe.push(this.memberKey(st));return Pe}),ke=new TextDecoder("utf-8"),Ke=new TextEncoder,et=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Rt=function(Pe,st,ct){return ke.decode(Pe.buffer instanceof et?Pe.slice(st,ct):Pe.subarray(st,ct))},zt=function(Pe,st,ct=!1){const wt=Lt(Pe.structInfo,st,ct);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},Ne=function(Pe){Pe.signature!=="s"&&b("Invalid member type signature for C-string value:",JSON.stringify(Pe))},Ve=function(st,ct){const wt=Lt(st.structInfo,ct,!0);Ne(wt);const or=st[wt.key];if(!or)return null;let Rr=or;const kr=I();for(;kr[Rr]!==0;++Rr);return or===Rr?"":Rt(kr,or,Rr)},Ye=function(Pe,...st){Pe.ondispose?Array.isArray(Pe.ondispose)||(Pe.ondispose=[Pe.ondispose]):Pe.ondispose=[],Pe.ondispose.push(...st)},bt=function(Pe){const st=Ke.encode(Pe),ct=X(st.length+1);ct||b("Allocation error while duplicating string:",Pe);const wt=I();return wt.set(st,ct),wt[ct+st.length]=0,ct},ut=function(Pe,st,ct){const wt=Lt(Pe.structInfo,st,!0);Ne(wt);const or=bt(ct);return Pe[wt.key]=or,Ye(Pe,or),Pe},Ft=function(st,ct){arguments[2]!==L&&b("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:L(st),structInfo:L(ct)})};Ft.prototype=Object.create(null,{dispose:L(function(){T(this.constructor,this)}),lookupMember:L(function(Pe,st=!0){return Lt(this.structInfo,Pe,st)}),memberToJsString:L(function(Pe){return Ve(this,Pe)}),memberIsString:L(function(Pe,st=!0){return zt(this,Pe,st)}),memberKey:Et,memberKeys:de,memberSignature:L(function(Pe,st=!1){return Wt(this,Pe,st)}),memoryDump:L(Ce),pointer:Ze,setMemberCString:L(function(Pe,st){return ut(this,Pe,st)})}),Object.assign(Ft.prototype,{addOnDispose:function(...Pe){return Ye(this,...Pe),this}}),Object.defineProperties(Ft,{allocCString:L(bt),isA:L(Pe=>Pe instanceof Ft),hasExternalPointer:L(Pe=>Pe instanceof Ft&&!!Pe[ee]),memberKey:Et});const nr=Pe=>Number.isFinite(Pe)||Pe instanceof(Ae||Number),kt=function Pe(st,ct,wt){if(!Pe._){Pe._={getters:{},setters:{},sw:{}};const Wn=["i","c","C","p","P","s","f","d","v()"];rt&&Wn.push("j"),Wn.forEach(function(fs){Pe._.getters[fs]=ht(fs),Pe._.setters[fs]=j(fs),Pe._.sw[fs]=J(fs)});const Cy=/^[ipPsjfdcC]$/,qy=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Pe.sigCheck=function(fs,Ty,Oh,ad){Object.prototype.hasOwnProperty.call(fs,Oh)&&b(fs.structName,"already has a property named",Oh+"."),Cy.test(ad)||qy.test(ad)||b("Malformed signature for",he(fs.structName,Ty)+":",ad)}}const or=st.memberKey(ct);Pe.sigCheck(st.prototype,ct,or,wt.signature),wt.key=or,wt.name=ct;const Rr=Be(wt.signature),kr=he(st.prototype.structName,or),qr=st.prototype.debugFlags.__flags,Ro=Object.create(null);Ro.configurable=!1,Ro.enumerable=!1,Ro.get=function(){qr.getter&&Le("debug.getter:",Pe._.getters[Rr],"for",we(Rr),kr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let Wn=new DataView(I().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.getters[Rr]](0,pe);return qr.getter&&Le("debug.getter:",kr,"result =",Wn),Wn},wt.readOnly?Ro.set=Qe(st.prototype.structName,or):Ro.set=function(Wn){if(qr.setter&&Le("debug.setter:",Pe._.setters[Rr],"for",we(Rr),kr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,Wn),this.pointer||b("Cannot set struct property on disposed instance."),Wn===null)Wn=0;else for(;!nr(Wn);){if($e(wt.signature)&&Wn instanceof Ft){Wn=Wn.pointer||0,qr.setter&&Le("debug.setter:",kr,"resolved to",Wn);break}b("Invalid value for pointer-type",kr+".")}new DataView(I().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.setters[Rr]](0,Pe._.sw[Rr](Wn),pe)},Object.defineProperty(st.prototype,or,Ro)},on=function Pe(st,ct){arguments.length===1?(ct=st,st=ct.name):ct.name||(ct.name=st),st||b("Struct name is required.");let wt=!1;Object.keys(ct.members).forEach(kr=>{const qr=ct.members[kr];qr.sizeof?qr.sizeof===1?qr.signature==="c"||qr.signature==="C"||b("Unexpected sizeof==1 member",he(ct.name,kr),"with signature",qr.signature):(qr.sizeof%4!==0&&(console.warn("Invalid struct member description =",qr,"from",ct),b(st,"member",kr,"sizeof is not aligned. sizeof="+qr.sizeof)),qr.offset%4!==0&&(console.warn("Invalid struct member description =",qr,"from",ct),b(st,"member",kr,"offset is not aligned. offset="+qr.offset))):b(st,"member",kr,"is missing sizeof."),(!wt||wt.offset<qr.offset)&&(wt=qr)}),wt?ct.sizeof<wt.offset+wt.sizeof&&b("Invalid struct config:",st,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+ct.sizeof+")."):b("No member property descriptions found.");const or=L(S.__makeDebugFlags(Pe.debugFlags)),Rr=function kr(qr){this instanceof kr?arguments.length?((qr!==(qr|0)||qr<=0)&&b("Invalid pointer value for",st,"constructor."),W(kr,this,qr)):W(kr,this):b("The",st,"constructor may only be called via 'new'.")};return Object.defineProperties(Rr,{debugFlags:or,isA:L(kr=>kr instanceof Rr),memberKey:Et,memberKeys:de,methodInfoForKey:L(function(kr){}),structInfo:L(ct),structName:L(st)}),Rr.prototype=new Ft(st,ct,L),Object.defineProperties(Rr.prototype,{debugFlags:or,constructor:L(Rr)}),Object.keys(ct.members).forEach(kr=>kt(Rr,kr,ct.members[kr])),Rr};return on.StructType=Ft,on.config=_,on.allocCString=bt,on.debugFlags||(on.debugFlags=S.__makeDebugFlags(S.debugFlags)),on},globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=(...le)=>{throw new Error(le.join(" "))};h.SQLite3Error.toss;const b=h.capi,S=h.wasm,I=h.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(le,pe)=>le[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:le=>le[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:le=>{let pe;return(be,$e,Be,we)=>{try{const Me=S.cArgvToJs($e,Be);return pe||(pe=S.cArgvToJs($e,we)),le(Me,pe)|0}catch(Me){return Me.resultCode||b.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:le=>le[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(le,pe)=>le[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(le,pe)=>le[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(le,pe)=>le[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(le,pe)=>le[0],callProxy:le=>(pe,be,$e,Be,we,Me)=>{try{return $e=$e&&S.cstrToJs($e),Be=Be&&S.cstrToJs(Be),we=we&&S.cstrToJs(we),Me=Me&&S.cstrToJs(Me),le(pe,be,$e,Be,we,Me)||0}catch(ht){return ht.resultCode||b.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:le=>le[0],callProxy:le=>(pe,be,$e,Be,we)=>{le(pe,be,S.cstrToJs($e),S.cstrToJs(Be),we)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:le=>le[0],callProxy:le=>(pe,be,$e,Be,we,Me,ht)=>{le(pe,be,$e,S.cstrToJs(Be),S.cstrToJs(we),Me,ht)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const le={signature:"i(ps)",callProxy:pe=>(be,$e)=>{try{return pe(be,S.cstrToJs($e))|0}catch(Be){return Be.resultCode||b.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...le,contextKey:(pe,be)=>pe[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],h.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const le=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",we=>le(I.flexibleString(we))),S.xWrap.argAdapter("string:static",function(we){return S.isPtr(we)?we:(we=""+we,this[we]||(this[we]=S.allocCString(we)))}.bind(Object.create(null)));const pe=S.xWrap.argAdapter("*"),be=function(){};S.xWrap.argAdapter("sqlite3_filename",pe)("sqlite3_context*",pe)("sqlite3_value*",pe)("void*",pe)("sqlite3_changegroup*",pe)("sqlite3_changeset_iter*",pe)("sqlite3_session*",pe)("sqlite3_stmt*",we=>pe(we instanceof(h?.oo1?.Stmt||be)?we.pointer:we))("sqlite3*",we=>pe(we instanceof(h?.oo1?.DB||be)?we.pointer:we))("sqlite3_vfs*",we=>typeof we=="string"?b.sqlite3_vfs_find(we)||h.SQLite3Error.toss(b.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",we):pe(we instanceof(b.sqlite3_vfs||be)?we.pointer:we)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",we=>pe(we instanceof(b.sqlite3_index_info||be)?we.pointer:we))("sqlite3_module*",we=>pe(we instanceof(b.sqlite3_module||be)?we.pointer:we));const $e=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",$e)("sqlite3_context*",$e)("sqlite3_stmt*",$e)("sqlite3_value*",$e)("sqlite3_vfs*",$e)("void*",$e),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,h.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const we of S.bindingSignatures)b[we[0]]=S.xWrap.apply(null,we);for(const we of S.bindingSignatures.wasmInternal)I[we[0]]=S.xWrap.apply(null,we);const Be=function(we){return()=>_(we+"() is unavailable due to lack","of BigInt support in this build.")};for(const we of S.bindingSignatures.int64)b[we[0]]=S.bigIntEnabled?S.xWrap.apply(null,we):Be(we[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const we=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");I.sqlite3__wasm_db_error=function(Me,ht,j){return ht instanceof h.WasmAllocError?(ht=b.SQLITE_NOMEM,j=0):ht instanceof Error&&(j=j||""+ht,ht=ht.resultCode||b.SQLITE_ERROR),Me?we(Me,ht,j):ht}}else I.sqlite3__wasm_db_error=function(we,Me,ht){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Me}}{const le=S.xCall("sqlite3__wasm_enum_json");le||_("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(le));const pe=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&pe.push("serialize","session","vtab");for(const Be of pe)for(const we of Object.entries(S.ctype[Be]))b[we[0]]=we[1];S.functionEntry(b.SQLITE_WASM_DEALLOC)||_("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+b.SQLITE_WASM_DEALLOC+").");const be=Object.create(null);for(const Be of["resultCodes"])for(const we of Object.entries(S.ctype[Be]))be[we[1]]=we[0];b.sqlite3_js_rc_str=Be=>be[Be];const $e=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!I.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const Be of S.ctype.structs)$e[Be.name]||(b[Be.name]=h.StructBinder(Be));if(b.sqlite3_index_info){for(const Be of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])b.sqlite3_index_info[Be]=b[Be],delete b[Be];b.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const X=(le,pe,be)=>I.sqlite3__wasm_db_error(le,b.SQLITE_MISUSE,pe+"() requires "+be+" argument"+(be===1?"":"s")+"."),re=le=>I.sqlite3__wasm_db_error(le,b.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Le=le=>S.xWrap.argAdapter("sqlite3*")(le),Ue=le=>S.isPtr(le)?S.cstrToJs(le):le,Je=function(le,pe){le=Le(le);let be=this.dbMap.get(le);if(pe)!be&&pe>0&&this.dbMap.set(le,be=Object.create(null));else return this.dbMap.delete(le),be;return be}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Je.addCollation=function(le,pe){const be=Je(le,1);be.collation||(be.collation=new Set),be.collation.add(Ue(pe).toLowerCase())},Je._addUDF=function(le,pe,be,$e){pe=Ue(pe).toLowerCase();let Be=$e.get(pe);Be||$e.set(pe,Be=new Set),Be.add(be<0?-1:be)},Je.addFunction=function(le,pe,be){const $e=Je(le,1);$e.udf||($e.udf=new Map),this._addUDF(le,pe,be,$e.udf)},S.exports.sqlite3_create_window_function&&(Je.addWindowFunc=function(le,pe,be){const $e=Je(le,1);$e.wudf||($e.wudf=new Map),this._addUDF(le,pe,be,$e.wudf)}),Je.cleanup=function(le){le=Le(le);const pe=[le];for(const Be of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const we=S.exports[Be];if(we){pe.length=we.length;try{b[Be](...pe)}catch(Me){h.config.warn("close-time call of",Be+"(",pe,") threw:",Me)}}}const be=Je(le,0);if(!be)return;if(be.collation){for(const Be of be.collation)try{b.sqlite3_create_collation_v2(le,Be,b.SQLITE_UTF8,0,0,0)}catch{}delete be.collation}let $e;for($e=0;$e<2;++$e){const Be=$e?be.wudf:be.udf;if(!Be)continue;const we=$e?b.sqlite3_create_window_function:b.sqlite3_create_function_v2;for(const Me of Be){const ht=Me[0],j=Me[1],J=[le,ht,0,b.SQLITE_UTF8,0,0,0,0,0];$e&&J.push(0);for(const he of j)try{J[2]=he,we.apply(null,J)}catch{}j.clear()}Be.clear()}delete be.udf,delete be.wudf};{const le=S.xWrap("sqlite3_close_v2","int","sqlite3*");b.sqlite3_close_v2=function(pe){if(arguments.length!==1)return X(pe,"sqlite3_close_v2",1);if(pe)try{Je.cleanup(pe)}catch{}return le(pe)}}if(b.sqlite3session_create){const le=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);b.sqlite3session_delete=function(pe){if(arguments.length!==1)return X(pDb,"sqlite3session_delete",1);pe&&b.sqlite3session_table_filter(pe,0,0),le(pe)}}{const le=(be,$e)=>"argv["+$e+"]:"+be[0]+":"+S.cstrToJs(be[1]).toLowerCase(),pe=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:le}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:le})]);b.sqlite3_create_collation_v2=function(be,$e,Be,we,Me,ht){if(arguments.length!==6)return X(be,"sqlite3_create_collation_v2",6);if(!(Be&15))Be|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(Be&15))return re(be);try{const j=pe(be,$e,Be,we,Me,ht);return j===0&&Me instanceof Function&&Je.addCollation(be,$e),j}catch(j){return I.sqlite3__wasm_db_error(be,j)}},b.sqlite3_create_collation=(be,$e,Be,we,Me)=>arguments.length===5?b.sqlite3_create_collation_v2(be,$e,Be,we,Me,0):X(be,"sqlite3_create_collation",5)}{const le=function(Be,we){return Be[0]+":"+(Be[2]<0?-1:Be[2])+":"+we+":"+S.cstrToJs(Be[1]).toLowerCase()},pe=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:le,callProxy:Be=>(we,Me,ht)=>{try{Be(we,...b.sqlite3_values_to_js(Me,ht))}catch(j){b.sqlite3_result_error_js(we,j)}}},xFinalAndValue:{signature:"v(p)",contextKey:le,callProxy:Be=>we=>{try{b.sqlite3_result_js(we,Be(we))}catch(Me){b.sqlite3_result_error_js(we,Me)}}},xFunc:{signature:"v(pip)",contextKey:le,callProxy:Be=>(we,Me,ht)=>{try{b.sqlite3_result_js(we,Be(we,...b.sqlite3_values_to_js(Me,ht)))}catch(j){b.sqlite3_result_error_js(we,j)}}},xDestroy:{signature:"v(p)",contextKey:le,callProxy:Be=>we=>{try{Be(we)}catch(Me){console.error("UDF xDestroy method threw:",Me)}}}}),be=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...pe.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...pe.xDestroy})]),$e=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...pe.xDestroy})]):void 0;b.sqlite3_create_function_v2=function Be(we,Me,ht,j,J,he,Qe,z,ee){if(Be.length!==arguments.length)return X(we,"sqlite3_create_function_v2",Be.length);if(!(j&15))j|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(j&15))return re(we);try{const T=be(we,Me,ht,j,J,he,Qe,z,ee);return T===0&&(he instanceof Function||Qe instanceof Function||z instanceof Function||ee instanceof Function)&&Je.addFunction(we,Me,ht),T}catch(T){return console.error("sqlite3_create_function_v2() setup threw:",T),I.sqlite3__wasm_db_error(we,T,"Creation of UDF threw: "+T)}},b.sqlite3_create_function=function Be(we,Me,ht,j,J,he,Qe,z){return Be.length===arguments.length?b.sqlite3_create_function_v2(we,Me,ht,j,J,he,Qe,z,0):X(we,"sqlite3_create_function",Be.length)},$e?b.sqlite3_create_window_function=function Be(we,Me,ht,j,J,he,Qe,z,ee,T){if(Be.length!==arguments.length)return X(we,"sqlite3_create_window_function",Be.length);if(!(j&15))j|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(j&15))return re(we);try{const L=$e(we,Me,ht,j,J,he,Qe,z,ee,T);return L===0&&(he instanceof Function||Qe instanceof Function||z instanceof Function||ee instanceof Function||T instanceof Function)&&Je.addWindowFunc(we,Me,ht),L}catch(L){return console.error("sqlite3_create_window_function() setup threw:",L),I.sqlite3__wasm_db_error(we,L,"Creation of UDF threw: "+L)}}:delete b.sqlite3_create_window_function,b.sqlite3_create_function_v2.udfSetResult=b.sqlite3_create_function.udfSetResult=b.sqlite3_result_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfSetResult=b.sqlite3_result_js),b.sqlite3_create_function_v2.udfConvertArgs=b.sqlite3_create_function.udfConvertArgs=b.sqlite3_values_to_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfConvertArgs=b.sqlite3_values_to_js),b.sqlite3_create_function_v2.udfSetError=b.sqlite3_create_function.udfSetError=b.sqlite3_result_error_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfSetError=b.sqlite3_result_error_js)}{const le=(be,$e)=>(typeof be=="string"?$e=-1:I.isSQLableTypedArray(be)?($e=be.byteLength,be=I.typedArrayToString(be instanceof ArrayBuffer?new Uint8Array(be):be)):Array.isArray(be)&&(be=be.join(""),$e=-1),[be,$e]),pe={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};b.sqlite3_prepare_v3=function be($e,Be,we,Me,ht,j){if(be.length!==arguments.length)return X($e,"sqlite3_prepare_v3",be.length);const[J,he]=le(Be,we);switch(typeof J){case"string":return pe.basic($e,J,he,Me,ht,null);case"number":return pe.full($e,J,he,Me,ht,j);default:return I.sqlite3__wasm_db_error($e,b.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},b.sqlite3_prepare_v2=function be($e,Be,we,Me,ht){return be.length===arguments.length?b.sqlite3_prepare_v3($e,Be,we,0,Me,ht):X($e,"sqlite3_prepare_v2",be.length)}}{const le=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),pe=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);b.sqlite3_bind_text=function be($e,Be,we,Me,ht){if(be.length!==arguments.length)return X(b.sqlite3_db_handle($e),"sqlite3_bind_text",be.length);if(S.isPtr(we)||we===null)return le($e,Be,we,Me,ht);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(pMem)&&(we=pMem.join(""));let j,J;try{if(I.isSQLableTypedArray(we))j=S.allocFromTypedArray(we),J=we.byteLength;else if(typeof we=="string")[j,J]=S.allocCString(we);else return I.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),b.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return le($e,Be,j,J,b.SQLITE_WASM_DEALLOC)}catch(he){return S.dealloc(j),I.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),he)}},b.sqlite3_bind_blob=function be($e,Be,we,Me,ht){if(be.length!==arguments.length)return X(b.sqlite3_db_handle($e),"sqlite3_bind_blob",be.length);if(S.isPtr(we)||we===null)return pe($e,Be,we,Me,ht);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(we)&&(we=we.join(""));let j,J;try{if(I.isBindableTypedArray(we))j=S.allocFromTypedArray(we),J=Me>=0?Me:we.byteLength;else if(typeof we=="string")[j,J]=S.allocCString(we);else return I.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),b.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return pe($e,Be,j,J,b.SQLITE_WASM_DEALLOC)}catch(he){return S.dealloc(j),I.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),he)}}}b.sqlite3_config=function(le,...pe){if(arguments.length<2)return b.SQLITE_MISUSE;switch(le){case b.SQLITE_CONFIG_COVERING_INDEX_SCAN:case b.SQLITE_CONFIG_MEMSTATUS:case b.SQLITE_CONFIG_SMALL_MALLOC:case b.SQLITE_CONFIG_SORTERREF_SIZE:case b.SQLITE_CONFIG_STMTJRNL_SPILL:case b.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(le,pe[0]);case b.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(le,pe[0],pe[1]);case b.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(le,pe[0]);case b.SQLITE_CONFIG_GETMALLOC:case b.SQLITE_CONFIG_GETMUTEX:case b.SQLITE_CONFIG_GETPCACHE2:case b.SQLITE_CONFIG_GETPCACHE:case b.SQLITE_CONFIG_HEAP:case b.SQLITE_CONFIG_LOG:case b.SQLITE_CONFIG_MALLOC:case b.SQLITE_CONFIG_MMAP_SIZE:case b.SQLITE_CONFIG_MULTITHREAD:case b.SQLITE_CONFIG_MUTEX:case b.SQLITE_CONFIG_PAGECACHE:case b.SQLITE_CONFIG_PCACHE2:case b.SQLITE_CONFIG_PCACHE:case b.SQLITE_CONFIG_PCACHE_HDRSZ:case b.SQLITE_CONFIG_PMASZ:case b.SQLITE_CONFIG_SERIALIZED:case b.SQLITE_CONFIG_SINGLETHREAD:case b.SQLITE_CONFIG_SQLLOG:case b.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return b.SQLITE_NOTFOUND}};{const le=new Set;b.sqlite3_auto_extension=function(pe){if(pe instanceof Function)pe=S.installFunction("i(ppp)",pe);else if(arguments.length!==1||!S.isPtr(pe))return b.SQLITE_MISUSE;const be=S.exports.sqlite3_auto_extension(pe);return pe!==arguments[0]&&(be===0?le.add(pe):S.uninstallFunction(pe)),be},b.sqlite3_cancel_auto_extension=function(pe){return!pe||arguments.length!==1||!S.isPtr(pe)?0:S.exports.sqlite3_cancel_auto_extension(pe)},b.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const pe of le)S.uninstallFunction(pe);le.clear()}}const rt=b.sqlite3_vfs_find("kvvfs");if(rt)if(I.isUIThread()){const le=new b.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete b.sqlite3_kvvfs_methods;const pe=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,be=S.pstack,$e=we=>S.peek(we)===115?sessionStorage:localStorage,Be={xRead:(we,Me,ht,j)=>{const J=be.pointer,he=S.scopedAllocPush();try{const Qe=pe(we,Me);if(!Qe)return-3;const z=S.cstrToJs(Qe),ee=$e(we).getItem(z);if(!ee)return-1;const T=ee.length;if(j<=0)return T;if(j===1)return S.poke(ht,0),T;const L=S.scopedAllocCString(ee);return j>T+1&&(j=T+1),S.heap8u().copyWithin(ht,L,L+j-1),S.poke(ht+j-1,0),j-1}catch(Qe){return console.error("kvstorageRead()",Qe),-2}finally{be.restore(J),S.scopedAllocPop(he)}},xWrite:(we,Me,ht)=>{const j=be.pointer;try{const J=pe(we,Me);if(!J)return 1;const he=S.cstrToJs(J);return $e(we).setItem(he,S.cstrToJs(ht)),0}catch(J){return console.error("kvstorageWrite()",J),b.SQLITE_IOERR}finally{be.restore(j)}},xDelete:(we,Me)=>{const ht=be.pointer;try{const j=pe(we,Me);return j?($e(we).removeItem(S.cstrToJs(j)),0):1}catch(j){return console.error("kvstorageDelete()",j),b.SQLITE_IOERR}finally{be.restore(ht)}}};for(const we of Object.keys(Be))le[le.memberKey(we)]=S.installFunction(le.memberSignature(we),Be[we])}else b.sqlite3_vfs_unregister(rt);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ae=h.StructBinder,xe=function le(pe,be,$e,Be=le.installMethodArgcCheck){if(pe instanceof Ae.StructType?!($e instanceof Function)&&!S.isPtr($e)&&_("Usage errror: expecting a Function or WASM pointer to one."):_("Usage error: target object is-not-a StructType."),arguments.length===1)return(j,J)=>le(pe,j,J,Be);le.argcProxy||(le.argcProxy=function(j,J,he,Qe){return function(...z){return he.length!==arguments.length&&_("Argument mismatch for",j.structInfo.name+"::"+J+": Native signature is:",Qe),he.apply(this,z)}},le.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((j,J)=>{if(typeof j=="number")try{S.uninstallFunction(j)}catch{}}),delete this.ondispose.__removeFuncList)});const we=pe.memberSignature(be);we.length<2&&_("Member",be,"does not have a function pointer signature:",we);const Me=pe.memberKey(be),ht=Be&&!S.isPtr($e)?le.argcProxy(pe,Me,$e,we):$e;if(S.isPtr(ht))ht&&!S.functionEntry(ht)&&_("Pointer",ht,"is not a WASM function table entry."),pe[Me]=ht;else{const j=S.installFunction(ht,pe.memberSignature(be,!0));pe[Me]=j,(!pe.ondispose||!pe.ondispose.__removeFuncList)&&(pe.addOnDispose("ondispose.__removeFuncList handler",le.removeFuncList),pe.ondispose.__removeFuncList=[]),pe.ondispose.__removeFuncList.push(Me,j)}return(j,J)=>le(pe,j,J,Be)};xe.installMethodArgcCheck=!1;const ze=function(le,pe,be=xe.installMethodArgcCheck){const $e=new Map;for(const Be of Object.keys(pe)){const we=pe[Be],Me=$e.get(we);if(Me){const ht=le.memberKey(Be);le[ht]=le[le.memberKey(Me)]}else xe(le,Be,we,be),$e.set(we,Be)}return le};Ae.StructType.prototype.installMethod=function(pe,be,$e=xe.installMethodArgcCheck){return arguments.length<3&&pe&&typeof pe=="object"?ze(this,...arguments):xe(this,...arguments)},Ae.StructType.prototype.installMethods=function(le,pe=xe.installMethodArgcCheck){return ze(this,le,pe)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){h.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=(...z)=>{throw new h.SQLite3Error(...z)},b=h.capi,S=h.wasm,I=h.util,X=new WeakMap,re=new WeakMap,Le=(z,ee,T)=>{const L=Object.getOwnPropertyDescriptor(z,ee);return L?L.value:T},Ue=function(z,ee){return ee&&(z instanceof xe&&(z=z.pointer),_(ee,"sqlite3 result code",ee+":",z?b.sqlite3_errmsg(z):b.sqlite3_errstr(ee))),arguments[0]},Je=S.installFunction("i(ippp)",function(z,ee,T,L){b.SQLITE_TRACE_STMT===z&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+ee+":",S.cstrToJs(L))}.bind({counter:0})),rt=Object.create(null),Ae=function z(...ee){if(!z._name2vfs){z._name2vfs=Object.create(null);const de=typeof importScripts=="function"?ke=>_("The VFS for",ke,"is only available in the main window thread."):!1;z._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:de||(()=>"local")},z._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:de||(()=>"session")}}const T=z.normalizeArgs(...ee);let L=T.filename,W=T.vfs,Ce=T.flags;(typeof L!="string"&&typeof L!="number"||typeof Ce!="string"||W&&typeof W!="string"&&typeof W!="number")&&(h.config.error("Invalid DB ctor args",T,arguments),_("Invalid arguments for DB constructor."));let He=typeof L=="number"?S.cstrToJs(L):L;const Et=z._name2vfs[He];Et&&(W=Et.vfs,L=He=Et.filename(He));let Lt,Wt=0;Ce.indexOf("c")>=0&&(Wt|=b.SQLITE_OPEN_CREATE|b.SQLITE_OPEN_READWRITE),Ce.indexOf("w")>=0&&(Wt|=b.SQLITE_OPEN_READWRITE),Wt===0&&(Wt|=b.SQLITE_OPEN_READONLY),Wt|=b.SQLITE_OPEN_EXRESCODE;const Ze=S.pstack.pointer;try{const de=S.pstack.allocPtr();let ke=b.sqlite3_open_v2(L,de,Wt,W||0);Lt=S.peekPtr(de),Ue(Lt,ke),b.sqlite3_extended_result_codes(Lt,1),Ce.indexOf("t")>=0&&b.sqlite3_trace_v2(Lt,b.SQLITE_TRACE_STMT,Je,Lt)}catch(de){throw Lt&&b.sqlite3_close_v2(Lt),de}finally{S.pstack.restore(Ze)}this.filename=He,X.set(this,Lt),re.set(this,Object.create(null));try{const de=b.sqlite3_js_db_vfs(Lt)||_("Internal error: cannot get VFS for new db handle."),ke=rt[de];ke&&(ke instanceof Function?ke(this,h):Ue(Lt,b.sqlite3_exec(Lt,ke,0,0,0)))}catch(de){throw this.close(),de}};Ae.setVfsPostOpenCallback=function(z,ee){ee instanceof Function||_("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),rt[z]=ee},Ae.normalizeArgs=function(z=":memory:",ee="c",T=null){const L={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(L,arguments[0]),L.flags===void 0&&(L.flags="c"),L.vfs===void 0&&(L.vfs=null),L.filename===void 0&&(L.filename=":memory:")):(L.filename=z,L.flags=ee,L.vfs=T),L};const xe=function(...z){Ae.apply(this,z)};xe.dbCtorHelper=Ae;const ze={null:1,number:2,string:3,boolean:4,blob:5};ze.undefined==ze.null,S.bigIntEnabled&&(ze.bigint=ze.number);const le=function(){ze!==arguments[2]&&_(b.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],X.set(this,arguments[1]),this.parameterCount=b.sqlite3_bind_parameter_count(this.pointer)},pe=function(z){return z.pointer||_("DB has been closed."),z},be=function(z,ee){return(ee!==(ee|0)||ee<0||ee>=z.columnCount)&&_("Column index",ee,"is out of range."),z},$e=function(z,ee){const T=Object.create(null);switch(T.opt=Object.create(null),ee.length){case 1:typeof ee[0]=="string"||I.isSQLableTypedArray(ee[0])||Array.isArray(ee[0])?T.sql=ee[0]:ee[0]&&typeof ee[0]=="object"&&(T.opt=ee[0],T.sql=T.opt.sql);break;case 2:T.sql=ee[0],T.opt=ee[1];break;default:_("Invalid argument count for exec().")}T.sql=I.flexibleString(T.sql),typeof T.sql!="string"&&_("Missing SQL argument or unsupported SQL value type.");const L=T.opt;switch(L.returnValue){case"resultRows":L.resultRows||(L.resultRows=[]),T.returnVal=()=>L.resultRows;break;case"saveSql":L.saveSql||(L.saveSql=[]),T.returnVal=()=>L.saveSql;break;case void 0:case"this":T.returnVal=()=>z;break;default:_("Invalid returnValue value:",L.returnValue)}if(!L.callback&&!L.returnValue&&L.rowMode!==void 0&&(L.resultRows||(L.resultRows=[]),T.returnVal=()=>L.resultRows),L.callback||L.resultRows)switch(L.rowMode===void 0?"array":L.rowMode){case"object":T.cbArg=(W,Ce)=>{Ce.columnNames||(Ce.columnNames=W.getColumnNames([]));const He=W.get([]),Et=Object.create(null);for(const Lt in Ce.columnNames)Et[Ce.columnNames[Lt]]=He[Lt];return Et};break;case"array":T.cbArg=W=>W.get([]);break;case"stmt":Array.isArray(L.resultRows)&&_("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),T.cbArg=W=>W;break;default:if(I.isInt32(L.rowMode)){T.cbArg=W=>W.get(L.rowMode);break}else if(typeof L.rowMode=="string"&&L.rowMode.length>1&&L.rowMode[0]==="$"){const W=L.rowMode.substr(1);T.cbArg=Ce=>{const He=Ce.get(Object.create(null))[W];return He===void 0?_(b.SQLITE_NOTFOUND,"exec(): unknown result column:",W):He};break}_("Invalid rowMode:",L.rowMode)}return T},Be=(z,ee,T,...L)=>{const W=z.prepare(ee);try{const Ce=W.bind(T).step()?W.get(...L):void 0;return W.reset(),Ce}finally{W.finalize()}},we=(z,ee,T,L)=>z.exec({sql:ee,bind:T,rowMode:L,returnValue:"resultRows"});xe.checkRc=(z,ee)=>Ue(z,ee),xe.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return pe(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const z=this.pointer;if(Object.keys(re.get(this)).forEach((ee,T)=>{if(T&&T.pointer)try{T.finalize()}catch{}}),X.delete(this),re.delete(this),b.sqlite3_close_v2(z),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(z=!1,ee=!1){const T=pe(this).pointer;return z?ee?b.sqlite3_total_changes64(T):b.sqlite3_total_changes(T):ee?b.sqlite3_changes64(T):b.sqlite3_changes(T)},dbFilename:function(z="main"){return b.sqlite3_db_filename(pe(this).pointer,z)},dbName:function(z=0){return b.sqlite3_db_name(pe(this).pointer,z)},dbVfsName:function(z=0){let ee;const T=b.sqlite3_js_db_vfs(pe(this).pointer,z);if(T){const L=new b.sqlite3_vfs(T);try{ee=S.cstrToJs(L.$zName)}finally{L.dispose()}}return ee},prepare:function(z){pe(this);const ee=S.pstack.pointer;let T,L;try{T=S.pstack.alloc(8),xe.checkRc(this,b.sqlite3_prepare_v2(this.pointer,z,-1,T,null)),L=S.peekPtr(T)}finally{S.pstack.restore(ee)}L||_("Cannot prepare empty SQL.");const W=new le(this,L,ze);return re.get(this)[L]=W,W},exec:function(){pe(this);const z=$e(this,arguments);if(!z.sql)return _("exec() requires an SQL string.");const ee=z.opt,T=ee.callback,L=Array.isArray(ee.resultRows)?ee.resultRows:void 0;let W,Ce=ee.bind,He=!!(z.cbArg||ee.columnNames||L);const Et=S.scopedAllocPush(),Lt=Array.isArray(ee.saveSql)?ee.saveSql:void 0;try{const Wt=I.isSQLableTypedArray(z.sql);let Ze=Wt?z.sql.byteLength:S.jstrlen(z.sql);const de=S.scopedAlloc(2*S.ptrSizeof+(Ze+1)),ke=de+S.ptrSizeof;let Ke=ke+S.ptrSizeof;const et=Ke+Ze;for(Wt?S.heap8().set(z.sql,Ke):S.jstrcpy(z.sql,S.heap8(),Ke,Ze,!1),S.poke(Ke+Ze,0);Ke&&S.peek(Ke,"i8");){S.pokePtr([de,ke],0),xe.checkRc(this,b.sqlite3_prepare_v3(this.pointer,Ke,Ze,0,de,ke));const Rt=S.peekPtr(de);if(Ke=S.peekPtr(ke),Ze=et-Ke,!!Rt){if(Lt&&Lt.push(b.sqlite3_sql(Rt).trim()),W=new le(this,Rt,ze),Ce&&W.parameterCount&&(W.bind(Ce),Ce=null),He&&W.columnCount){let zt=Array.isArray(ee.columnNames)?0:1;if(He=!1,z.cbArg||L){const Ne=Object.create(null);for(;W.step();W._lockedByExec=!1){zt++===0&&W.getColumnNames(Ne.columnNames=ee.columnNames||[]),W._lockedByExec=!0;const Ve=z.cbArg(W,Ne);if(L&&L.push(Ve),T&&T.call(ee,Ve,W)===!1)break}W._lockedByExec=!1}zt===0&&W.getColumnNames(ee.columnNames)}else W.step();W.reset().finalize(),W=null}}}finally{S.scopedAllocPop(Et),W&&(delete W._lockedByExec,W.finalize())}return z.returnVal()},createFunction:function(ee,T,L){const W=Ne=>Ne instanceof Function;switch(arguments.length){case 1:L=ee,ee=L.name,T=L.xFunc||0;break;case 2:W(T)||(L=T,T=L.xFunc||0);break}L||(L={}),typeof ee!="string"&&_("Invalid arguments: missing function name.");let Ce=L.xStep||0,He=L.xFinal||0;const Et=L.xValue||0,Lt=L.xInverse||0;let Wt;W(T)?(Wt=!1,(W(Ce)||W(He))&&_("Ambiguous arguments: scalar or aggregate?"),Ce=He=null):W(Ce)?(W(He)||_("Missing xFinal() callback for aggregate or window UDF."),T=null):W(He)?_("Missing xStep() callback for aggregate or window UDF."):_("Missing function-type properties."),Wt===!1?(W(Et)||W(Lt))&&_("xValue and xInverse are not permitted for non-window UDFs."):W(Et)?(W(Lt)||_("xInverse must be provided if xValue is."),Wt=!0):W(Lt)&&_("xValue must be provided if xInverse is.");const Ze=L.pApp;Ze!=null&&(typeof Ze!="number"||!I.isInt32(Ze))&&_("Invalid value for pApp property. Must be a legal WASM pointer value.");const de=L.xDestroy||0;de&&!W(de)&&_("xDestroy property must be a function.");let ke=0;Le(L,"deterministic")&&(ke|=b.SQLITE_DETERMINISTIC),Le(L,"directOnly")&&(ke|=b.SQLITE_DIRECTONLY),Le(L,"innocuous")&&(ke|=b.SQLITE_INNOCUOUS),ee=ee.toLowerCase();const Ke=T||Ce,et=Le(L,"arity"),Rt=typeof et=="number"?et:Ke.length?Ke.length-1:0;let zt;return Wt?zt=b.sqlite3_create_window_function(this.pointer,ee,Rt,b.SQLITE_UTF8|ke,Ze||0,Ce,He,Et,Lt,de):zt=b.sqlite3_create_function_v2(this.pointer,ee,Rt,b.SQLITE_UTF8|ke,Ze||0,T,Ce,He,de),xe.checkRc(this,zt),this},selectValue:function(z,ee,T){return Be(this,z,ee,0,T)},selectValues:function(z,ee,T){const L=this.prepare(z),W=[];try{for(L.bind(ee);L.step();)W.push(L.get(0,T));L.reset()}finally{L.finalize()}return W},selectArray:function(z,ee){return Be(this,z,ee,[])},selectObject:function(z,ee){return Be(this,z,ee,{})},selectArrays:function(z,ee){return we(this,z,ee,"array")},selectObjects:function(z,ee){return we(this,z,ee,"object")},openStatementCount:function(){return this.pointer?Object.keys(re.get(this)).length:0},transaction:function(z){let ee="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&_(b.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),ee+=" "+arguments[0],z=arguments[1]),pe(this).exec(ee);try{const T=z(this);return this.exec("COMMIT"),T}catch(T){throw this.exec("ROLLBACK"),T}},savepoint:function(z){pe(this).exec("SAVEPOINT oo1");try{const ee=z(this);return this.exec("RELEASE oo1"),ee}catch(ee){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),ee}},checkRc:function(z){return Ue(this,z)}};const Me=function(z){return z.pointer||_("Stmt has been closed."),z},ht=function(z){let ee=ze[z==null?"null":typeof z];switch(ee){case ze.boolean:case ze.null:case ze.number:case ze.string:return ee;case ze.bigint:if(S.bigIntEnabled)return ee;default:return I.isBindableTypedArray(z)?ze.blob:void 0}},j=function(z){return ht(z)||_("Unsupported bind() argument type:",typeof z)},J=function(z,ee){const T=typeof ee=="number"?ee:b.sqlite3_bind_parameter_index(z.pointer,ee);return T===0||!I.isInt32(T)?_("Invalid bind() parameter name: "+ee):(T<1||T>z.parameterCount)&&_("Bind index",ee,"is out of range."),T},he=function(z,ee){return z._lockedByExec&&_("Operation is illegal when statement is locked:",ee),z},Qe=function z(ee,T,L,W){he(Me(ee),"bind()"),z._||(z._tooBigInt=He=>_("BigInt value is too big to store without precision loss:",He),z._={string:function(He,Et,Lt,Wt){const[Ze,de]=S.allocCString(Lt,!0);return(Wt?b.sqlite3_bind_blob:b.sqlite3_bind_text)(He.pointer,Et,Ze,de,b.SQLITE_WASM_DEALLOC)}}),j(W),T=J(ee,T);let Ce=0;switch(W==null?ze.null:L){case ze.null:Ce=b.sqlite3_bind_null(ee.pointer,T);break;case ze.string:Ce=z._.string(ee,T,W,!1);break;case ze.number:{let He;I.isInt32(W)?He=b.sqlite3_bind_int:typeof W=="bigint"?I.bigIntFits64(W)?S.bigIntEnabled?He=b.sqlite3_bind_int64:I.bigIntFitsDouble(W)?(W=Number(W),He=b.sqlite3_bind_double):z._tooBigInt(W):z._tooBigInt(W):(W=Number(W),S.bigIntEnabled&&Number.isInteger(W)?He=b.sqlite3_bind_int64:He=b.sqlite3_bind_double),Ce=He(ee.pointer,T,W);break}case ze.boolean:Ce=b.sqlite3_bind_int(ee.pointer,T,W?1:0);break;case ze.blob:{if(typeof W=="string"){Ce=z._.string(ee,T,W,!0);break}else W instanceof ArrayBuffer?W=new Uint8Array(W):I.isBindableTypedArray(W)||_("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const He=S.alloc(W.byteLength||1);S.heap8().set(W.byteLength?W:[0],He),Ce=b.sqlite3_bind_blob(ee.pointer,T,He,W.byteLength,b.SQLITE_WASM_DEALLOC);break}default:h.config.warn("Unsupported bind() argument type:",W),_("Unsupported bind() argument type: "+typeof W)}return Ce&&xe.checkRc(ee.db.pointer,Ce),ee._mayGet=!1,ee};le.prototype={finalize:function(){if(this.pointer){he(this,"finalize()");const z=b.sqlite3_finalize(this.pointer);return delete re.get(this.db)[this.pointer],X.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,z}},clearBindings:function(){return he(Me(this),"clearBindings()"),b.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(z){he(this,"reset()"),z&&this.clearBindings();const ee=b.sqlite3_reset(Me(this).pointer);return this._mayGet=!1,Ue(this.db,ee),this},bind:function(){Me(this);let z,ee;switch(arguments.length){case 1:z=1,ee=arguments[0];break;case 2:z=arguments[0],ee=arguments[1];break;default:_("Invalid bind() arguments.")}return ee===void 0?this:(this.parameterCount||_("This statement has no bindable parameters."),this._mayGet=!1,ee===null?Qe(this,z,ze.null,ee):Array.isArray(ee)?(arguments.length!==1&&_("When binding an array, an index argument is not permitted."),ee.forEach((T,L)=>Qe(this,L+1,j(T),T)),this):(ee instanceof ArrayBuffer&&(ee=new Uint8Array(ee)),typeof ee=="object"&&!I.isBindableTypedArray(ee)?(arguments.length!==1&&_("When binding an object, an index argument is not permitted."),Object.keys(ee).forEach(T=>Qe(this,T,j(ee[T]),ee[T])),this):Qe(this,z,j(ee),ee)))},bindAsBlob:function(z,ee){Me(this),arguments.length===1&&(ee=z,z=1);const T=j(ee);return ze.string!==T&&ze.blob!==T&&ze.null!==T&&_("Invalid value type for bindAsBlob()"),Qe(this,z,ze.blob,ee)},step:function(){he(this,"step()");const z=b.sqlite3_step(Me(this).pointer);switch(z){case b.SQLITE_DONE:return this._mayGet=!1;case b.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,h.config.warn("sqlite3_step() rc=",z,b.sqlite3_js_rc_str(z),"SQL =",b.sqlite3_sql(this.pointer)),xe.checkRc(this.db.pointer,z)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const z=this.step();return this.reset(),z}finally{try{this.finalize()}catch{}}},get:function(z,ee){if(Me(this)._mayGet||_("Stmt.step() has not (recently) returned true."),Array.isArray(z)){let T=0;const L=this.columnCount;for(;T<L;)z[T]=this.get(T++);return z}else if(z&&typeof z=="object"){let T=0;const L=this.columnCount;for(;T<L;)z[b.sqlite3_column_name(this.pointer,T)]=this.get(T++);return z}switch(be(this,z),ee===void 0?b.sqlite3_column_type(this.pointer,z):ee){case b.SQLITE_NULL:return null;case b.SQLITE_INTEGER:if(S.bigIntEnabled){const T=b.sqlite3_column_int64(this.pointer,z);return T>=Number.MIN_SAFE_INTEGER&&T<=Number.MAX_SAFE_INTEGER?Number(T).valueOf():T}else{const T=b.sqlite3_column_double(this.pointer,z);return(T>Number.MAX_SAFE_INTEGER||T<Number.MIN_SAFE_INTEGER)&&_("Integer is out of range for JS integer range: "+T),I.isInt32(T)?T|0:T}case b.SQLITE_FLOAT:return b.sqlite3_column_double(this.pointer,z);case b.SQLITE_TEXT:return b.sqlite3_column_text(this.pointer,z);case b.SQLITE_BLOB:{const T=b.sqlite3_column_bytes(this.pointer,z),L=b.sqlite3_column_blob(this.pointer,z),W=new Uint8Array(T);return T&&W.set(S.heap8u().slice(L,L+T),0),T&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(W.buffer),W}default:_("Don't know how to translate","type of result column #"+z+".")}_("Not reached.")},getInt:function(z){return this.get(z,b.SQLITE_INTEGER)},getFloat:function(z){return this.get(z,b.SQLITE_FLOAT)},getString:function(z){return this.get(z,b.SQLITE_TEXT)},getBlob:function(z){return this.get(z,b.SQLITE_BLOB)},getJSON:function(z){const ee=this.get(z,b.SQLITE_STRING);return ee===null?ee:JSON.parse(ee)},getColumnName:function(z){return b.sqlite3_column_name(be(Me(this),z).pointer,z)},getColumnNames:function(z=[]){be(Me(this),0);const ee=this.columnCount;for(let T=0;T<ee;++T)z.push(b.sqlite3_column_name(this.pointer,T));return z},getParamIndex:function(z){return Me(this).parameterCount?b.sqlite3_bind_parameter_index(this.pointer,z):void 0},getParamName:function(z){return Me(this).parameterCount?b.sqlite3_bind_parameter_name(this.pointer,z):void 0},isBusy:function(){return b.sqlite3_stmt_busy(Me(this))!==0},isReadOnly:function(){return b.sqlite3_stmt_readonly(Me(this))!==0}};{const z={enumerable:!0,get:function(){return X.get(this)},set:()=>_("The pointer property is read-only.")};Object.defineProperty(le.prototype,"pointer",z),Object.defineProperty(xe.prototype,"pointer",z)}if(Object.defineProperty(le.prototype,"columnCount",{enumerable:!1,get:function(){return b.sqlite3_column_count(this.pointer)},set:()=>_("The columnCount property is read-only.")}),h.oo1={DB:xe,Stmt:le},I.isUIThread()){h.oo1.JsStorageDb=function(ee="session"){const T=Ae.normalizeArgs(...arguments);ee=T.filename,ee!=="session"&&ee!=="local"&&_("JsStorageDb db name must be one of 'session' or 'local'."),T.vfs="kvvfs",Ae.call(this,T)};const z=h.oo1.JsStorageDb;z.prototype=Object.create(xe.prototype),z.clearStorage=b.sqlite3_js_kvvfs_clear,z.prototype.clearStorage=function(){return z.clearStorage(pe(this).filename)},z.storageSize=b.sqlite3_js_kvvfs_size,z.prototype.storageSize=function(){return z.storageSize(pe(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.util;h.initWorker1API=function(){const b=(...Ae)=>{throw new Error(Ae.join(" "))};globalThis.WorkerGlobalScope instanceof Function||b("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||b("Missing this.sqlite3 object."),I=S.oo1.DB,X=function(Ae){let xe=re.idMap.get(Ae);return xe||(xe="db#"+ ++re.idSeq+"@"+Ae.pointer,re.idMap.set(Ae,xe),xe)},re={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ae){const xe=new I(Ae);return this.dbs[X(xe)]=xe,this.dbList.indexOf(xe)<0&&this.dbList.push(xe),xe},close:function(Ae,xe){if(Ae){delete this.dbs[X(Ae)];const ze=Ae.filename,le=_.sqlite3__wasm_db_vfs(Ae.pointer,0);Ae.close();const pe=this.dbList.indexOf(Ae);pe>=0&&this.dbList.splice(pe,1),xe&&ze&&le&&_.sqlite3__wasm_vfs_unlink(le,ze)}},post:function(Ae,xe){xe&&xe.length?(globalThis.postMessage(Ae,Array.from(xe)),xe.length=0):globalThis.postMessage(Ae)},dbs:Object.create(null),getDb:function(Ae,xe=!0){return this.dbs[Ae]||(xe?b("Unknown (or closed) DB ID:",Ae):void 0)}},Le=function(Ae=re.dbList[0]){return Ae&&Ae.pointer?Ae:b("DB is not opened.")},Ue=function(Ae,xe=!0){const ze=re.getDb(Ae.dbId,!1)||re.dbList[0];return xe?Le(ze):ze},Je=function(){return re.dbList[0]&&X(re.dbList[0])},rt={open:function(Ae){const xe=Object.create(null),ze=Ae.args||Object.create(null);ze.simulateError&&b("Throwing because of simulateError flag.");const le=Object.create(null);xe.vfs=ze.vfs,xe.filename=ze.filename||"";const pe=re.open(xe);return le.filename=pe.filename,le.persistent=!!S.capi.sqlite3_js_db_uses_vfs(pe.pointer,"opfs"),le.dbId=X(pe),le.vfs=pe.dbVfsName(),le},close:function(Ae){const xe=Ue(Ae,!1),ze={filename:xe&&xe.filename};if(xe){const le=Ae.args&&typeof Ae.args=="object"?!!Ae.args.unlink:!1;re.close(xe,le)}return ze},exec:function(Ae){const xe=typeof Ae.args=="string"?{sql:Ae.args}:Ae.args||Object.create(null);xe.rowMode==="stmt"?b("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):xe.sql||b("'exec' requires input SQL.");const ze=Ue(Ae);(xe.callback||Array.isArray(xe.resultRows))&&(ze._blobXfer=re.xfer);const le=xe.callback;let pe=0;const be=!!xe.columnNames;typeof le=="string"&&(be||(xe.columnNames=[]),xe.callback=function($e,Be){re.post({type:le,columnNames:xe.columnNames,rowNumber:++pe,row:$e},re.xfer)});try{const $e=xe.countChanges?ze.changes(!0,xe.countChanges===64):void 0;ze.exec(xe),$e!==void 0&&(xe.changeCount=ze.changes(!0,xe.countChanges===64)-$e),xe.callback instanceof Function&&(xe.callback=le,re.post({type:le,columnNames:xe.columnNames,rowNumber:null,row:void 0}))}finally{delete ze._blobXfer,xe.callback&&(xe.callback=le)}return xe},"config-get":function(){const Ae=Object.create(null),xe=S.config;return["bigIntEnabled"].forEach(function(ze){Object.getOwnPropertyDescriptor(xe,ze)&&(Ae[ze]=xe[ze])}),Ae.version=S.version,Ae.vfsList=S.capi.sqlite3_js_vfs_list(),Ae},export:function(Ae){const xe=Ue(Ae),ze={byteArray:S.capi.sqlite3_js_db_export(xe.pointer),filename:xe.filename,mimetype:"application/x-sqlite3"};return re.xfer.push(ze.byteArray.buffer),ze},toss:function(Ae){b("Testing worker exception")}};globalThis.onmessage=async function(Ae){Ae=Ae.data;let xe,ze=Ae.dbId,le=Ae.type;const pe=performance.now();try{rt.hasOwnProperty(le)&&rt[le]instanceof Function?xe=await rt[le](Ae):b("Unknown db worker message type:",Ae.type)}catch(be){le="error",xe={operation:Ae.type,message:be.message,errorClass:be.name,input:Ae},be.stack&&(xe.stack=typeof be.stack=="string"?be.stack.split(/\n\s*/):be.stack)}ze||(ze=xe.dbId||Je()),re.post({type:le,dbId:ze,messageId:Ae.messageId,workerReceivedTime:pe,workerRespondTime:performance.now(),departureTime:Ae.departureTime,result:xe},re.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:h})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.wasm,b=h.capi,S=h.util.toss3,I=Object.create(null);h.vfs=I,b.sqlite3_vfs.prototype.registerVfs=function(X=!1){this instanceof h.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const re=b.sqlite3_vfs_register(this,X?1:0);return re&&S("sqlite3_vfs_register(",this,") failed with rc",re),this.pointer!==b.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},I.installVfs=function(X){let re=0;const Le=["io","vfs"];for(const Ue of Le){const Je=X[Ue];Je&&(++re,Je.struct.installMethods(Je.methods,!!Je.applyArgcCheck),Ue==="vfs"&&(!Je.struct.$zName&&typeof Je.name=="string"&&Je.struct.addOnDispose(Je.struct.$zName=_.allocCString(Je.name)),Je.struct.registerVfs(!!Je.asDefault)))}return re||S("Misuse: installVfs() options object requires at least","one of:",Le),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){if(!h.wasm.exports.sqlite3_declare_vtab)return;const _=h.wasm,b=h.capi,S=h.util.toss3,I=Object.create(null);h.vtab=I;const X=b.sqlite3_index_info;X.prototype.nthConstraint=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nConstraint)return!1;const rt=this.$aConstraint+X.sqlite3_index_constraint.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_constraint(rt)},X.prototype.nthConstraintUsage=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nConstraint)return!1;const rt=this.$aConstraintUsage+X.sqlite3_index_constraint_usage.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_constraint_usage(rt)},X.prototype.nthOrderBy=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nOrderBy)return!1;const rt=this.$aOrderBy+X.sqlite3_index_orderby.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_orderby(rt)};const re=function(Ue,Je){return function(rt,Ae=!1){if(arguments.length===0&&(rt=new Je),rt instanceof Je)return this.set(rt.pointer,rt),rt;_.isPtr(rt)||h.SQLite3Error.toss("Invalid argument to",Ue+"()");let xe=this.get(rt);return Ae&&this.delete(rt),xe}.bind(new Map)},Le=function(Ue,Je){const rt=re(Ue,Je);return Object.assign(Object.create(null),{StructType:Je,create:Ae=>{const xe=rt();return _.pokePtr(Ae,xe.pointer),xe},get:Ae=>rt(Ae),unget:Ae=>rt(Ae,!0),dispose:Ae=>{const xe=rt(Ae,!0);xe&&xe.dispose()}})};I.xVtab=Le("xVtab",b.sqlite3_vtab),I.xCursor=Le("xCursor",b.sqlite3_vtab_cursor),I.xIndexInfo=Ue=>new b.sqlite3_index_info(Ue),I.xError=function Ue(Je,rt,Ae){if(Ue.errorReporter instanceof Function)try{Ue.errorReporter("sqlite3_module::"+Je+"(): "+rt.message)}catch{}let xe;return rt instanceof h.WasmAllocError?xe=b.SQLITE_NOMEM:arguments.length>2?xe=Ae:rt instanceof h.SQLite3Error&&(xe=rt.resultCode),xe||b.SQLITE_ERROR},I.xError.errorReporter=console.error.bind(console),I.xRowid=(Ue,Je)=>_.poke(Ue,Je,"i64"),I.setupModule=function(Ue){let Je=!1;const rt=this instanceof b.sqlite3_module?this:Ue.struct||(Je=new b.sqlite3_module);try{const Ae=Ue.methods||S("Missing 'methods' object.");for(const xe of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const ze=xe[0],le=xe[1];Ae[ze]===!0?Ae[ze]=Ae[le]:Ae[le]===!0&&(Ae[le]=Ae[ze])}if(Ue.catchExceptions){const xe=function(pe,be){return["xConnect","xCreate"].indexOf(pe)>=0?function($e,Be,we,Me,ht,j){try{return be(...arguments)||0}catch(J){return J instanceof h.WasmAllocError||(_.dealloc(_.peekPtr(j)),_.pokePtr(j,_.allocCString(J.message))),I.xError(pe,J)}}:function(...$e){try{return be(...$e)||0}catch(Be){return I.xError(pe,Be)}}},ze=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],le=Object.create(null);for(const pe of ze){const be=Ae[pe];if(be instanceof Function)pe==="xConnect"&&Ae.xCreate===be?le[pe]=Ae.xCreate:pe==="xCreate"&&Ae.xConnect===be?le[pe]=Ae.xConnect:le[pe]=xe(pe,be);else continue}rt.installMethods(le,!1)}else rt.installMethods(Ae,!!Ue.applyArgcCheck);if(rt.$iVersion===0){let xe;typeof Ue.iVersion=="number"?xe=Ue.iVersion:rt.$xShadowName?xe=3:rt.$xSavePoint||rt.$xRelease||rt.$xRollbackTo?xe=2:xe=1,rt.$iVersion=xe}}catch(Ae){throw Je&&Je.dispose(),Ae}return rt},b.sqlite3_module.prototype.setupModule=function(Ue){return I.setupModule.call(this,Ue)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=function b(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const I=new URL(globalThis.location.href).searchParams;return I.has("opfs-disable")?Promise.resolve(h):(S.verbose===void 0&&(S.verbose=I.has("opfs-verbose")?+I.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=I.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=b.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(re,Le){const Ue=[h.config.error,h.config.warn,h.config.log],Je=(Ne,...Ve)=>{S.verbose>Ne&&Ue[Ne]("OPFS syncer:",...Ve)},rt=(...Ne)=>Je(2,...Ne),Ae=(...Ne)=>Je(1,...Ne),xe=(...Ne)=>Je(0,...Ne),ze=h.util.toss,le=h.capi,pe=h.util,be=h.wasm,$e=le.sqlite3_vfs,Be=le.sqlite3_file,we=le.sqlite3_io_methods,Me=Object.create(null),ht=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Me.metrics={dump:function(){let Ne,Ve=0,Ye=0,bt=0;for(Ne in W.opIds){const ut=Ce[Ne];Ve+=ut.count,Ye+=ut.time,bt+=ut.wait,ut.avgTime=ut.count&&ut.time?ut.time/ut.count:0,ut.avgWait=ut.count&&ut.wait?ut.wait/ut.count:0}h.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Ce,`
Total of`,Ve,"op(s) for",Ye,"ms (incl. "+bt+" ms of waiting on the async side)"),h.config.log("Serialization metrics:",Ce.s11n),ee.postMessage({type:"opfs-async-metrics"})},reset:function(){let Ne;const Ve=bt=>bt.count=bt.time=bt.wait=0;for(Ne in W.opIds)Ve(Ce[Ne]=Object.create(null));let Ye=Ce.s11n=Object.create(null);Ye=Ye.serialize=Object.create(null),Ye.count=Ye.time=0,Ye=Ce.s11n.deserialize=Object.create(null),Ye.count=Ye.time=0}};const j=new we,J=new $e().addOnDispose(()=>j.dispose());let he;const Qe=Ne=>(he=!0,J.dispose(),Le(Ne)),z=()=>(he=!1,re(h)),ee=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{he===void 0&&Qe(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),ee._originalOnError=ee.onerror,ee.onerror=function(Ne){xe("Error initializing OPFS asyncer:",Ne),Qe(new Error("Loading OPFS async Worker failed for unknown reasons."))};const T=le.sqlite3_vfs_find(null),L=T?new $e(T):null;j.$iVersion=1,J.$iVersion=2,J.$szOsFile=le.sqlite3_file.structInfo.sizeof,J.$mxPathname=1024,J.$zName=be.allocCString("opfs"),J.$xDlOpen=J.$xDlError=J.$xDlSym=J.$xDlClose=null,J.addOnDispose("$zName",J.$zName,"cleanup default VFS wrapper",()=>L?L.dispose():null);const W=Object.create(null);W.verbose=S.verbose,W.littleEndian=(()=>{const Ne=new ArrayBuffer(2);return new DataView(Ne).setInt16(0,256,!0),new Int16Array(Ne)[0]===256})(),W.asyncIdleWaitTime=150,W.asyncS11nExceptions=1,W.fileBufferSize=1024*64,W.sabS11nOffset=W.fileBufferSize,W.sabS11nSize=J.$mxPathname*2,W.sabIO=new SharedArrayBuffer(W.fileBufferSize+W.sabS11nSize),W.opIds=Object.create(null);const Ce=Object.create(null);{let Ne=0;W.opIds.whichOp=Ne++,W.opIds.rc=Ne++,W.opIds.xAccess=Ne++,W.opIds.xClose=Ne++,W.opIds.xDelete=Ne++,W.opIds.xDeleteNoWait=Ne++,W.opIds.xFileSize=Ne++,W.opIds.xLock=Ne++,W.opIds.xOpen=Ne++,W.opIds.xRead=Ne++,W.opIds.xSleep=Ne++,W.opIds.xSync=Ne++,W.opIds.xTruncate=Ne++,W.opIds.xUnlock=Ne++,W.opIds.xWrite=Ne++,W.opIds.mkdir=Ne++,W.opIds["opfs-async-metrics"]=Ne++,W.opIds["opfs-async-shutdown"]=Ne++,W.opIds.retry=Ne++,W.sabOP=new SharedArrayBuffer(Ne*4),Me.metrics.reset()}W.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Ne=>{(W.sq3Codes[Ne]=le[Ne])===void 0&&ze("Maintenance required: not found:",Ne)}),W.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const He=(Ne,...Ve)=>{const Ye=W.opIds[Ne]||ze("Invalid op ID:",Ne);W.s11n.serialize(...Ve),Atomics.store(W.sabOPView,W.opIds.rc,-1),Atomics.store(W.sabOPView,W.opIds.whichOp,Ye),Atomics.notify(W.sabOPView,W.opIds.whichOp);const bt=performance.now();for(;Atomics.wait(W.sabOPView,W.opIds.rc,-1)!=="not-equal";);const ut=Atomics.load(W.sabOPView,W.opIds.rc);if(Ce[Ne].wait+=performance.now()-bt,ut&&W.asyncS11nExceptions){const Ft=W.s11n.deserialize();Ft&&xe(Ne+"() async error:",...Ft)}return ut};Me.debug={asyncShutdown:()=>{Ae("Shutting down OPFS async listener. The OPFS VFS will no longer work."),He("opfs-async-shutdown")},asyncRestart:()=>{Ae("Attempting to restart OPFS VFS async listener. Might work, might not."),ee.postMessage({type:"opfs-async-restart"})}};const Et=()=>{if(W.s11n)return W.s11n;const Ne=new TextDecoder,Ve=new TextEncoder("utf-8"),Ye=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),bt=new DataView(W.sabIO,W.sabS11nOffset,W.sabS11nSize);W.s11n=Object.create(null);const ut=Object.create(null);ut.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},ut.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},ut.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},ut.string={id:4};const Ft=kt=>ut[typeof kt]||ze("Maintenance required: this value type cannot be serialized.",kt),nr=kt=>{switch(kt){case ut.number.id:return ut.number;case ut.bigint.id:return ut.bigint;case ut.boolean.id:return ut.boolean;case ut.string.id:return ut.string;default:ze("Invalid type ID:",kt)}};return W.s11n.deserialize=function(kt=!1){++Ce.s11n.deserialize.count;const on=performance.now(),Pe=Ye[0],st=Pe?[]:null;if(Pe){const ct=[];let wt=1,or,Rr,kr;for(or=0;or<Pe;++or,++wt)ct.push(nr(Ye[wt]));for(or=0;or<Pe;++or){const qr=ct[or];qr.getter?(kr=bt[qr.getter](wt,W.littleEndian),wt+=qr.size):(Rr=bt.getInt32(wt,W.littleEndian),wt+=4,kr=Ne.decode(Ye.slice(wt,wt+Rr)),wt+=Rr),st.push(kr)}}return kt&&(Ye[0]=0),Ce.s11n.deserialize.time+=performance.now()-on,st},W.s11n.serialize=function(...kt){const on=performance.now();if(++Ce.s11n.serialize.count,kt.length){const Pe=[];let st=0,ct=1;for(Ye[0]=kt.length&255;st<kt.length;++st,++ct)Pe.push(Ft(kt[st])),Ye[ct]=Pe[st].id;for(st=0;st<kt.length;++st){const wt=Pe[st];if(wt.setter)bt[wt.setter](ct,kt[st],W.littleEndian),ct+=wt.size;else{const or=Ve.encode(kt[st]);bt.setInt32(ct,or.byteLength,W.littleEndian),ct+=4,Ye.set(or,ct),ct+=or.byteLength}}}else Ye[0]=0;Ce.s11n.serialize.time+=performance.now()-on},W.s11n},Lt=function Ne(Ve=16){Ne._chars||(Ne._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Ne._n=Ne._chars.length);const Ye=[];let bt=0;for(;bt<Ve;++bt){const ut=Math.random()*(Ne._n*64)%Ne._n|0;Ye[bt]=Ne._chars[ut]}return Ye.join("")},Wt=Object.create(null),Ze=Object.create(null);Ze.op=void 0,Ze.start=void 0;const de=Ne=>{Ze.start=performance.now(),Ze.op=Ne,++Ce[Ne].count},ke=()=>Ce[Ze.op].time+=performance.now()-Ze.start,Ke={xCheckReservedLock:function(Ne,Ve){return be.poke(Ve,0,"i32"),0},xClose:function(Ne){de("xClose");let Ve=0;const Ye=Wt[Ne];return Ye&&(delete Wt[Ne],Ve=He("xClose",Ne),Ye.sq3File&&Ye.sq3File.dispose()),ke(),Ve},xDeviceCharacteristics:function(Ne){return le.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ne,Ve,Ye){return le.SQLITE_NOTFOUND},xFileSize:function(Ne,Ve){de("xFileSize");let Ye=He("xFileSize",Ne);if(Ye==0)try{const bt=W.s11n.deserialize()[0];be.poke(Ve,bt,"i64")}catch(bt){xe("Unexpected error reading xFileSize() result:",bt),Ye=W.sq3Codes.SQLITE_IOERR}return ke(),Ye},xLock:function(Ne,Ve){de("xLock");const Ye=Wt[Ne];let bt=0;return Ye.lockType?Ye.lockType=Ve:(bt=He("xLock",Ne,Ve),bt===0&&(Ye.lockType=Ve)),ke(),bt},xRead:function(Ne,Ve,Ye,bt){de("xRead");const ut=Wt[Ne];let Ft;try{Ft=He("xRead",Ne,Ye,Number(bt)),(Ft===0||le.SQLITE_IOERR_SHORT_READ===Ft)&&be.heap8u().set(ut.sabView.subarray(0,Ye),Ve)}catch(nr){xe("xRead(",arguments,") failed:",nr,ut),Ft=le.SQLITE_IOERR_READ}return ke(),Ft},xSync:function(Ne,Ve){de("xSync"),++Ce.xSync.count;const Ye=He("xSync",Ne,Ve);return ke(),Ye},xTruncate:function(Ne,Ve){de("xTruncate");const Ye=He("xTruncate",Ne,Number(Ve));return ke(),Ye},xUnlock:function(Ne,Ve){de("xUnlock");const Ye=Wt[Ne];let bt=0;return le.SQLITE_LOCK_NONE===Ve&&Ye.lockType&&(bt=He("xUnlock",Ne,Ve)),bt===0&&(Ye.lockType=Ve),ke(),bt},xWrite:function(Ne,Ve,Ye,bt){de("xWrite");const ut=Wt[Ne];let Ft;try{ut.sabView.set(be.heap8u().subarray(Ve,Ve+Ye)),Ft=He("xWrite",Ne,Ye,Number(bt))}catch(nr){xe("xWrite(",arguments,") failed:",nr,ut),Ft=le.SQLITE_IOERR_WRITE}return ke(),Ft}},et={xAccess:function(Ne,Ve,Ye,bt){de("xAccess");const ut=He("xAccess",be.cstrToJs(Ve));return be.poke(bt,ut?0:1,"i32"),ke(),0},xCurrentTime:function(Ne,Ve){return be.poke(Ve,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ne,Ve){return be.poke(Ve,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ne,Ve,Ye){de("xDelete");const bt=He("xDelete",be.cstrToJs(Ve),Ye,!1);return ke(),bt},xFullPathname:function(Ne,Ve,Ye,bt){return be.cstrncpy(bt,Ve,Ye)<Ye?0:le.SQLITE_CANTOPEN},xGetLastError:function(Ne,Ve,Ye){return Ae("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ve,Ye,bt,ut,Ft){de("xOpen");let nr=0;Ye===0?Ye=Lt():be.isPtr(Ye)&&(le.sqlite3_uri_boolean(Ye,"opfs-unlock-asap",0)&&(nr|=W.opfsFlags.OPFS_UNLOCK_ASAP),le.sqlite3_uri_boolean(Ye,"delete-before-open",0)&&(nr|=W.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Ye=be.cstrToJs(Ye));const kt=Object.create(null);kt.fid=bt,kt.filename=Ye,kt.sab=new SharedArrayBuffer(W.fileBufferSize),kt.flags=ut,kt.readOnly=!(h.SQLITE_OPEN_CREATE&ut)&&!!(ut&le.SQLITE_OPEN_READONLY);const on=He("xOpen",bt,Ye,ut,nr);return on||(kt.readOnly&&be.poke(Ft,le.SQLITE_OPEN_READONLY,"i32"),Wt[bt]=kt,kt.sabView=W.sabFileBufView,kt.sq3File=new Be(bt),kt.sq3File.$pMethods=j.pointer,kt.lockType=le.SQLITE_LOCK_NONE),ke(),on}};L&&(J.$xRandomness=L.$xRandomness,J.$xSleep=L.$xSleep),J.$xRandomness||(et.xRandomness=function(Ne,Ve,Ye){const bt=be.heap8u();let ut=0;for(;ut<Ve;++ut)bt[Ye+ut]=Math.random()*255e3&255;return ut}),J.$xSleep||(et.xSleep=function(Ne,Ve){return Atomics.wait(W.sabOPView,W.opIds.xSleep,0,Ve),0}),Me.getResolvedPath=function(Ne,Ve){const Ye=new URL(Ne,"file://irrelevant").pathname;return Ve?Ye.split("/").filter(bt=>!!bt):Ye},Me.getDirForFilename=async function(Ve,Ye=!1){const bt=Me.getResolvedPath(Ve,!0),ut=bt.pop();let Ft=Me.rootDirectory;for(const nr of bt)nr&&(Ft=await Ft.getDirectoryHandle(nr,{create:!!Ye}));return[Ft,ut]},Me.mkdir=async function(Ne){try{return await Me.getDirForFilename(Ne+"/filepart",!0),!0}catch{return!1}},Me.entryExists=async function(Ne){try{const[Ve,Ye]=await Me.getDirForFilename(Ne);return await Ve.getFileHandle(Ye),!0}catch{return!1}},Me.randomFilename=Lt,Me.treeList=async function(){const Ne=async function Ye(bt,ut){ut.name=bt.name,ut.dirs=[],ut.files=[];for await(const Ft of bt.values())if(Ft.kind==="directory"){const nr=Object.create(null);ut.dirs.push(nr),await Ye(Ft,nr)}else ut.files.push(Ft.name)},Ve=Object.create(null);return await Ne(Me.rootDirectory,Ve),Ve},Me.rmfr=async function(){const Ne=Me.rootDirectory,Ve={recurse:!0};for await(const Ye of Ne.values())Ne.removeEntry(Ye.name,Ve)},Me.unlink=async function(Ne,Ve=!1,Ye=!1){try{const[bt,ut]=await Me.getDirForFilename(Ne,!1);return await bt.removeEntry(ut,{recursive:Ve}),!0}catch(bt){if(Ye)throw new Error("unlink(",arguments[0],") failed: "+bt.message,{cause:bt});return!1}},Me.traverse=async function(Ne){const Ve={recursive:!0,directory:Me.rootDirectory};typeof Ne=="function"&&(Ne={callback:Ne}),Ne=Object.assign(Ve,Ne||{}),async function bt(ut,Ft){for await(const nr of ut.values()){if(Ne.callback(nr,ut,Ft)===!1)return!1;if(Ne.recursive&&nr.kind==="directory"&&await bt(nr,Ft+1)===!1)break}}(Ne.directory,0)};const Rt=async function(Ne,Ve){const[Ye,bt]=await Me.getDirForFilename(Ne,!0);let Ft=await (await Ye.getFileHandle(bt,{create:!0})).createSyncAccessHandle(),nr=0,kt,on=!1;try{for(Ft.truncate(0);(kt=await Ve())!==void 0;)kt instanceof ArrayBuffer&&(kt=new Uint8Array(kt)),nr===0&&kt.byteLength>=15&&(pe.affirmDbHeader(kt),on=!0),Ft.write(kt,{at:nr}),nr+=kt.byteLength;if((nr<512||nr%512!==0)&&ze("Input size",nr,"is not correct for an SQLite database."),!on){const Pe=new Uint8Array(20);Ft.read(Pe,{at:0}),pe.affirmDbHeader(Pe)}return Ft.write(new Uint8Array([1,1]),{at:18}),nr}catch(Pe){throw await Ft.close(),Ft=void 0,await Ye.removeEntry(bt).catch(()=>{}),Pe}finally{Ft&&await Ft.close()}};if(Me.importDb=async function(Ne,Ve){if(Ve instanceof Function)return Rt(Ne,Ve);Ve instanceof ArrayBuffer&&(Ve=new Uint8Array(Ve)),pe.affirmIsDb(Ve);const Ye=Ve.byteLength,[bt,ut]=await Me.getDirForFilename(Ne,!0);let Ft,nr=0;try{return Ft=await (await bt.getFileHandle(ut,{create:!0})).createSyncAccessHandle(),Ft.truncate(0),nr=Ft.write(Ve,{at:0}),nr!=Ye&&ze("Expected to write "+Ye+" bytes but wrote "+nr+"."),Ft.write(new Uint8Array([1,1]),{at:18}),nr}catch(kt){throw Ft&&(await Ft.close(),Ft=void 0),await bt.removeEntry(ut).catch(()=>{}),kt}finally{Ft&&await Ft.close()}},h.oo1){const Ne=function(...Ve){const Ye=h.oo1.DB.dbCtorHelper.normalizeArgs(...Ve);Ye.vfs=J.$zName,h.oo1.DB.dbCtorHelper.call(this,Ye)};Ne.prototype=Object.create(h.oo1.DB.prototype),h.oo1.OpfsDb=Ne,Ne.importDb=Me.importDb,h.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(J.pointer,function(Ve,Ye){Ye.capi.sqlite3_busy_timeout(Ve,1e4)})}const zt=function(){const Ne=be.scopedAllocPush(),Ve=new Be;try{const Ye=Ve.pointer,bt=le.SQLITE_OPEN_CREATE|le.SQLITE_OPEN_READWRITE|le.SQLITE_OPEN_MAIN_DB,ut=be.scopedAlloc(8),Ft="/sanity/check/file"+Lt(8),nr=be.scopedAllocCString(Ft);let kt;if(W.s11n.serialize("This is \xe4 string."),kt=W.s11n.deserialize(),rt("deserialize() says:",kt),kt[0]!=="This is \xe4 string."&&ze("String d13n error."),et.xAccess(J.pointer,nr,0,ut),kt=be.peek(ut,"i32"),rt("xAccess(",Ft,") exists ?=",kt),kt=et.xOpen(J.pointer,nr,Ye,bt,ut),rt("open rc =",kt,"state.sabOPView[xOpen] =",W.sabOPView[W.opIds.xOpen]),kt!==0){xe("open failed with code",kt);return}et.xAccess(J.pointer,nr,0,ut),kt=be.peek(ut,"i32"),kt||ze("xAccess() failed to detect file."),kt=Ke.xSync(Ve.pointer,0),kt&&ze("sync failed w/ rc",kt),kt=Ke.xTruncate(Ve.pointer,1024),kt&&ze("truncate failed w/ rc",kt),be.poke(ut,0,"i64"),kt=Ke.xFileSize(Ve.pointer,ut),kt&&ze("xFileSize failed w/ rc",kt),rt("xFileSize says:",be.peek(ut,"i64")),kt=Ke.xWrite(Ve.pointer,nr,10,1),kt&&ze("xWrite() failed!");const on=be.scopedAlloc(16);kt=Ke.xRead(Ve.pointer,on,6,2),be.poke(on+6,0);let Pe=be.cstrToJs(on);rt("xRead() got:",Pe),Pe!=="sanity"&&ze("Unexpected xRead() value."),et.xSleep&&(rt("xSleep()ing before close()ing..."),et.xSleep(J.pointer,2e3),rt("waking up from xSleep()")),kt=Ke.xClose(Ye),rt("xClose rc =",kt,"sabOPView =",W.sabOPView),rt("Deleting file:",Ft),et.xDelete(J.pointer,nr,4660),et.xAccess(J.pointer,nr,0,ut),kt=be.peek(ut,"i32"),kt&&ze("Expecting 0 from xAccess(",Ft,") after xDelete()."),Ae("End of OPFS sanity checks.")}finally{Ve.dispose(),be.scopedAllocPop(Ne)}};ee.onmessage=function({data:Ne}){switch(Ne.type){case"opfs-unavailable":Qe(new Error(Ne.payload.join(" ")));break;case"opfs-async-loaded":ee.postMessage({type:"opfs-async-init",args:W});break;case"opfs-async-inited":{if(he===!0)break;try{h.vfs.installVfs({io:{struct:j,methods:Ke},vfs:{struct:J,methods:et}}),W.sabOPView=new Int32Array(W.sabOP),W.sabFileBufView=new Uint8Array(W.sabIO,0,W.fileBufferSize),W.sabS11nView=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),Et(),S.sanityChecks&&(Ae("Running sanity checks because of opfs-sanity-check URL arg..."),zt()),ht()?navigator.storage.getDirectory().then(Ve=>{ee.onerror=ee._originalOnError,delete ee._originalOnError,h.opfs=Me,Me.rootDirectory=Ve,rt("End of OPFS sqlite3_vfs setup.",J),z()}).catch(Qe):z()}catch(Ve){xe(Ve),Qe(Ve)}break}default:{const Ve="Unexpected message from the OPFS async worker: "+JSON.stringify(Ne);xe(Ve),Qe(new Error(Ve));break}}}}))};_.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async b=>{try{let S=_.defaultProxyUri;return b.scriptInfo.sqlite3Dir&&(_.defaultProxyUri=b.scriptInfo.sqlite3Dir+S),_().catch(I=>{b.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",I.message)})}catch(S){return b.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.util.toss,b=h.util.toss3,S=Object.create(null),I=h.capi,X=h.util,re=h.wasm,Le=4096,Ue=512,Je=4,rt=8,Ae=Ue+Je,xe=Ue,ze=Ae,le=Le,pe=I.SQLITE_OPEN_MAIN_DB|I.SQLITE_OPEN_MAIN_JOURNAL|I.SQLITE_OPEN_SUPER_JOURNAL|I.SQLITE_OPEN_WAL,be=".opaque",$e=()=>Math.random().toString(36).slice(2),Be=new TextDecoder,we=new TextEncoder,Me=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),ht=[h.config.error,h.config.warn,h.config.log];h.config.log;const j=h.config.warn;h.config.error;const J=new Map,he=Ze=>J.get(Ze),Qe=(Ze,de)=>{de?J.set(Ze,de):J.delete(Ze)},z=new Map,ee=Ze=>z.get(Ze),T=(Ze,de)=>{de?z.set(Ze,de):z.delete(Ze)},L={xCheckReservedLock:function(Ze,de){const ke=ee(Ze);return ke.log("xCheckReservedLock"),ke.storeErr(),re.poke32(de,1),0},xClose:function(Ze){const de=ee(Ze);de.storeErr();const ke=de.getOFileForS3File(Ze);if(ke)try{de.log(`xClose ${ke.path}`),de.mapS3FileToOFile(Ze,!1),ke.sah.flush(),ke.flags&I.SQLITE_OPEN_DELETEONCLOSE&&de.deletePath(ke.path)}catch(Ke){return de.storeErr(Ke,I.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ze){return I.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ze,de,ke){return I.SQLITE_NOTFOUND},xFileSize:function(Ze,de){const ke=ee(Ze);ke.log("xFileSize");const et=ke.getOFileForS3File(Ze).sah.getSize()-le;return re.poke64(de,BigInt(et)),0},xLock:function(Ze,de){const ke=ee(Ze);ke.log(`xLock ${de}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);return Ke.lockType=de,0},xRead:function(Ze,de,ke,Ke){const et=ee(Ze);et.storeErr();const Rt=et.getOFileForS3File(Ze);et.log(`xRead ${Rt.path} ${ke} @ ${Ke}`);try{const zt=Rt.sah.read(re.heap8u().subarray(de,de+ke),{at:le+Number(Ke)});return zt<ke?(re.heap8u().fill(0,de+zt,de+ke),I.SQLITE_IOERR_SHORT_READ):0}catch(zt){return et.storeErr(zt,I.SQLITE_IOERR)}},xSectorSize:function(Ze){return Le},xSync:function(Ze,de){const ke=ee(Ze);ke.log(`xSync ${de}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);try{return Ke.sah.flush(),0}catch(et){return ke.storeErr(et,I.SQLITE_IOERR)}},xTruncate:function(Ze,de){const ke=ee(Ze);ke.log(`xTruncate ${de}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);try{return Ke.sah.truncate(le+Number(de)),0}catch(et){return ke.storeErr(et,I.SQLITE_IOERR)}},xUnlock:function(Ze,de){const ke=ee(Ze);ke.log("xUnlock");const Ke=ke.getOFileForS3File(Ze);return Ke.lockType=de,0},xWrite:function(Ze,de,ke,Ke){const et=ee(Ze);et.storeErr();const Rt=et.getOFileForS3File(Ze);et.log(`xWrite ${Rt.path} ${ke} ${Ke}`);try{const zt=Rt.sah.write(re.heap8u().subarray(de,de+ke),{at:le+Number(Ke)});return ke===zt?0:_("Unknown write() failure.")}catch(zt){return et.storeErr(zt,I.SQLITE_IOERR)}}},W=new I.sqlite3_io_methods;W.$iVersion=1,h.vfs.installVfs({io:{struct:W,methods:L}});const Ce={xAccess:function(Ze,de,ke,Ke){const et=he(Ze);et.storeErr();try{const Rt=et.getPath(de);re.poke32(Ke,et.hasFilename(Rt)?1:0)}catch{re.poke32(Ke,0)}return 0},xCurrentTime:function(Ze,de){return re.poke(de,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ze,de){return re.poke(de,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ze,de,ke){const Ke=he(Ze);Ke.log(`xDelete ${re.cstrToJs(de)}`),Ke.storeErr();try{return Ke.deletePath(Ke.getPath(de)),0}catch(et){return Ke.storeErr(et),I.SQLITE_IOERR_DELETE}},xFullPathname:function(Ze,de,ke,Ke){return re.cstrncpy(Ke,de,ke)<ke?0:I.SQLITE_CANTOPEN},xGetLastError:function(Ze,de,ke){const Ke=he(Ze),et=Ke.popErr();if(Ke.log(`xGetLastError ${de} e =`,et),et){const Rt=re.scopedAllocPush();try{const[zt,Ne]=re.scopedAllocCString(et.message,!0);re.cstrncpy(ke,zt,de),Ne>de&&re.poke8(ke+de-1,0)}catch{return I.SQLITE_NOMEM}finally{re.scopedAllocPop(Rt)}}return et?et.sqlite3Rc||I.SQLITE_IOERR:0},xOpen:function(de,ke,Ke,et,Rt){const zt=he(de);try{zt.log(`xOpen ${re.cstrToJs(ke)} ${et}`);const Ne=ke&&re.peek8(ke)?zt.getPath(ke):$e();let Ve=zt.getSAHForPath(Ne);!Ve&&et&I.SQLITE_OPEN_CREATE&&(zt.getFileCount()<zt.getCapacity()?(Ve=zt.nextAvailableSAH(),zt.setAssociatedPath(Ve,Ne,et)):_("SAH pool is full. Cannot create file",Ne)),Ve||_("file not found:",Ne);const Ye={path:Ne,flags:et,sah:Ve};zt.mapS3FileToOFile(Ke,Ye),Ye.lockType=I.SQLITE_LOCK_NONE;const bt=new I.sqlite3_file(Ke);return bt.$pMethods=W.pointer,bt.dispose(),re.poke32(Rt,et),0}catch(Ne){return zt.storeErr(Ne),I.SQLITE_CANTOPEN}}},He=function(Ze){h.capi.sqlite3_vfs_find(Ze)&&b("VFS name is already registered:",Ze);const de=new I.sqlite3_vfs,ke=I.sqlite3_vfs_find(null),Ke=ke?new I.sqlite3_vfs(ke):null;return de.$iVersion=2,de.$szOsFile=I.sqlite3_file.structInfo.sizeof,de.$mxPathname=Ue,de.addOnDispose(de.$zName=re.allocCString(Ze),()=>Qe(de.pointer,0)),Ke&&(de.$xRandomness=Ke.$xRandomness,de.$xSleep=Ke.$xSleep,Ke.dispose()),!de.$xRandomness&&!Ce.xRandomness&&(Ce.xRandomness=function(et,Rt,zt){const Ne=re.heap8u();let Ve=0;for(;Ve<Rt;++Ve)Ne[zt+Ve]=Math.random()*255e3&255;return Ve}),!de.$xSleep&&!Ce.xSleep&&(Ce.xSleep=(et,Rt)=>0),h.vfs.installVfs({vfs:{struct:de,methods:Ce}}),de};class Et{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ae);#u;#l;#c;constructor(de=Object.create(null)){this.#c=de.verbosity??Me.verbosity,this.vfsName=de.name||Me.name,this.#l=He(this.vfsName),Qe(this.#l.pointer,this),this.vfsDir=de.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(de.clearOnInit??Me.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(de.initialCapacity||Me.initialCapacity)})}#d(de,...ke){this.#c>de&&ht[de](this.vfsName+":",...ke)}log(...de){this.#d(2,...de)}warn(...de){this.#d(1,...de)}error(...de){this.#d(0,...de)}getVfs(){return this.#l}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const de=[],ke=this.#i.keys();for(const Ke of ke)de.push(Ke);return de}async addCapacity(de){for(let ke=0;ke<de;++ke){const Ke=$e(),Rt=await (await this.#t.getFileHandle(Ke,{create:!0})).createSyncAccessHandle();this.#n.set(Rt,Ke),this.setAssociatedPath(Rt,"",0)}return this.getCapacity()}async reduceCapacity(de){let ke=0;for(const Ke of Array.from(this.#s)){if(ke===de||this.getFileCount()===this.getCapacity())break;const et=this.#n.get(Ke);Ke.close(),await this.#t.removeEntry(et),this.#n.delete(Ke),this.#s.delete(Ke),++ke}return ke}releaseAccessHandles(){for(const de of this.#n.keys())de.close();this.#n.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(de){const ke=[];for await(const[Ke,et]of this.#t)et.kind==="file"&&ke.push([Ke,et]);return Promise.all(ke.map(async([Ke,et])=>{try{const Rt=await et.createSyncAccessHandle();if(this.#n.set(Rt,Ke),de)Rt.truncate(le),this.setAssociatedPath(Rt,"",0);else{const zt=this.getAssociatedPath(Rt);zt?this.#i.set(zt,Rt):this.#s.add(Rt)}}catch(Rt){throw this.storeErr(Rt),this.releaseAccessHandles(),Rt}}))}getAssociatedPath(de){de.read(this.#a,{at:0});const ke=this.#u.getUint32(xe);if(this.#a[0]&&(ke&I.SQLITE_OPEN_DELETEONCLOSE||!(ke&pe)))return j(`Removing file with unexpected flags ${ke.toString(16)}`,this.#a),this.setAssociatedPath(de,"",0),"";const Ke=new Uint32Array(rt/4);de.read(Ke,{at:ze});const et=this.computeDigest(this.#a);if(Ke.every((Rt,zt)=>Rt===et[zt])){const Rt=this.#a.findIndex(zt=>zt===0);return Rt===0&&de.truncate(le),Rt?Be.decode(this.#a.subarray(0,Rt)):""}else return j("Disassociating file with bad digest."),this.setAssociatedPath(de,"",0),""}setAssociatedPath(de,ke,Ke){const et=we.encodeInto(ke,this.#a);Ue<=et.written+1&&_("Path too long:",ke),this.#a.fill(0,et.written,Ue),this.#u.setUint32(xe,Ke);const Rt=this.computeDigest(this.#a);de.write(this.#a,{at:0}),de.write(Rt,{at:ze}),de.flush(),ke?(this.#i.set(ke,de),this.#s.delete(de)):(de.truncate(le),this.#s.add(de))}computeDigest(de){let ke=0xdeadbeef,Ke=0x41c6ce57;for(const et of de)ke=31*ke+et*307,Ke=31*Ke+et*307;return new Uint32Array([ke>>>0,Ke>>>0])}async reset(de){await this.isReady;let ke=await navigator.storage.getDirectory(),Ke;for(const et of this.vfsDir.split("/"))et&&(Ke=ke,ke=await ke.getDirectoryHandle(et,{create:!0}));return this.#e=ke,this.#r=Ke,this.#t=await this.#e.getDirectoryHandle(be,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(de)}getPath(de){return re.isPtr(de)&&(de=re.cstrToJs(de)),(de instanceof URL?de:new URL(de,"file://localhost/")).pathname}deletePath(de){const ke=this.#i.get(de);return ke&&(this.#i.delete(de),this.setAssociatedPath(ke,"",0)),!!ke}storeErr(de,ke){return de&&(de.sqlite3Rc=ke||I.SQLITE_IOERR,this.error(de)),this.$error=de,ke}popErr(){const de=this.$error;return this.$error=void 0,de}nextAvailableSAH(){const[de]=this.#s.keys();return de}getOFileForS3File(de){return this.#o.get(de)}mapS3FileToOFile(de,ke){ke?(this.#o.set(de,ke),T(de,this)):(this.#o.delete(de),T(de,!1))}hasFilename(de){return this.#i.has(de)}getSAHForPath(de){return this.#i.get(de)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;I.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(be,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(de){h.config.error(this.vfsName,"removeVfs() failed:",de)}return!0}exportFile(de){const ke=this.#i.get(de)||_("File not found:",de),Ke=ke.getSize()-le,et=new Uint8Array(Ke>0?Ke:0);if(Ke>0){const Rt=ke.read(et,{at:le});Rt!=Ke&&_("Expected to read "+Ke+" bytes but read "+Rt+".")}return et}async importDbChunked(de,ke){const Ke=this.#i.get(de)||this.nextAvailableSAH()||_("No available handles to import to.");Ke.truncate(0);let et=0,Rt,zt=!1;try{for(;(Rt=await ke())!==void 0;)Rt instanceof ArrayBuffer&&(Rt=new Uint8Array(Rt)),et===0&&Rt.byteLength>=15&&(X.affirmDbHeader(Rt),zt=!0),Ke.write(Rt,{at:le+et}),et+=Rt.byteLength;if((et<512||et%512!==0)&&_("Input size",et,"is not correct for an SQLite database."),!zt){const Ne=new Uint8Array(20);Ke.read(Ne,{at:0}),X.affirmDbHeader(Ne)}Ke.write(new Uint8Array([1,1]),{at:le+18})}catch(Ne){throw this.setAssociatedPath(Ke,"",0),Ne}return this.setAssociatedPath(Ke,de,I.SQLITE_OPEN_MAIN_DB),et}importDb(de,ke){if(ke instanceof ArrayBuffer)ke=new Uint8Array(ke);else if(ke instanceof Function)return this.importDbChunked(de,ke);const Ke=this.#i.get(de)||this.nextAvailableSAH()||_("No available handles to import to."),et=ke.byteLength;(et<512||et%512!=0)&&_("Byte array size is invalid for an SQLite db.");const Rt="SQLite format 3";for(let Ne=0;Ne<Rt.length;++Ne)Rt.charCodeAt(Ne)!==ke[Ne]&&_("Input does not contain an SQLite database header.");const zt=Ke.write(ke,{at:le});return zt!=et?(this.setAssociatedPath(Ke,"",0),_("Expected to write "+et+" bytes but wrote "+zt+".")):(Ke.write(new Uint8Array([1,1]),{at:le+18}),this.setAssociatedPath(Ke,de,I.SQLITE_OPEN_MAIN_DB)),zt}}class Lt{#e;constructor(de){this.#e=de,this.vfsName=de.vfsName}async addCapacity(de){return this.#e.addCapacity(de)}async reduceCapacity(de){return this.#e.reduceCapacity(de)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(de){const ke=this.#e.getCapacity();return ke<de?this.#e.addCapacity(de-ke):ke}exportFile(de){return this.#e.exportFile(de)}importDb(de,ke){return this.#e.importDb(de,ke)}async wipeFiles(){return this.#e.reset(!0)}unlink(de){return this.#e.deletePath(de)}async removeVfs(){return this.#e.removeVfs()}}const Wt=async()=>{const Ze=await navigator.storage.getDirectory(),de=".opfs-sahpool-sync-check-"+$e(),et=(await (await Ze.getFileHandle(de,{create:!0})).createSyncAccessHandle()).close();return await et,await Ze.removeEntry(de),et?.then&&_("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};h.installOpfsSAHPoolVfs=async function(Ze=Object.create(null)){Ze=Object.assign(Object.create(null),Me,Ze||{});const de=Ze.name;if(Ze.$testThrowPhase1)throw Ze.$testThrowPhase1;if(S[de])try{return await S[de]}catch(ke){if(Ze.forceReinitIfPreviouslyFailed)delete S[de];else throw ke}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[de]=Promise.reject(new Error("Missing required OPFS APIs.")):S[de]=Wt().then(async function(){if(Ze.$testThrowPhase2)throw Ze.$testThrowPhase2;const ke=new Et(Ze);return ke.isReady.then(async()=>{const Ke=new Lt(ke);if(h.oo1){const et=h.oo1,Rt=ke.getVfs(),zt=function(...Ne){const Ve=et.DB.dbCtorHelper.normalizeArgs(...Ne);Ve.vfs=Rt.$zName,et.DB.dbCtorHelper.call(this,Ve)};zt.prototype=Object.create(et.DB.prototype),Ke.OpfsSAHPoolDb=zt}return ke.log("VFS initialized."),Ke}).catch(async Ke=>{throw await ke.removeVfs().catch(()=>{}),Ke})}).catch(ke=>S[de]=Promise.reject(ke))}}),typeof f<"u"){const h=Object.assign(Object.create(null),{exports:typeof te>"u"?f.asm:te,memory:f.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=h;let _;try{_=globalThis.sqlite3ApiBootstrap()}catch(b){throw console.error("sqlite3ApiBootstrap() error:",b),b}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}f.sqlite3=_}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r=l,r}})();const b6=function(){const t=B0;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const r=e.moduleScript.src.split("/");r.pop(),e.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return t(...n).then(s=>{const o=s.sqlite3;o.scriptInfo=e,r.__isUnderTest&&(o.__isUnderTest=!0);const l=o.asyncPostInit;return delete o.asyncPostInit,l()}).catch(s=>{throw console.error("Exception loading sqlite3 module:",s),s})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();B0=b6;const w6=B0;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const w=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=w}else e=Object.assign(Object.create(null),t.defaultConfig,e);const r=Object.create(null),n=function(){},s=e.onerror||n,o=e.debug||n,l=e.generateMessageId?void 0:Object.create(null),u=e.generateMessageId||function(w){return w.type+"#"+(l[w.type]=(l[w.type]||0)+1)},d=(...w)=>{throw new Error(w.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,y;return e.worker.onmessage=function(w){w=w.data,o("worker1.onmessage",w);let E=r[w.messageId];if(!E){if(w&&w.type==="sqlite3-api"&&w.result==="worker1-ready"){e.onready&&e.onready(y);return}if(E=r[w.type],E&&E.onrow){E.onrow(w);return}e.onunhandled?e.onunhandled(arguments[0]):s("sqlite3Worker1Promiser() unhandled worker message:",w);return}switch(delete r[w.messageId],w.type){case"error":E.reject(w);return;case"open":m||(m=w.dbId);break;case"close":w.dbId===m&&(m=void 0);break}try{E.resolve(w)}catch(k){E.reject(k)}},y=function(){let w;arguments.length===1?w=arguments[0]:arguments.length===2?(w=Object.create(null),w.type=arguments[0],w.args=arguments[1],w.dbId=w.args.dbId):d("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!w.dbId&&w.type!=="open"&&(w.dbId=m),w.messageId=u(w),w.departureTime=performance.now();const E=Object.create(null);E.message=w;let k;w.type==="exec"&&w.args&&(typeof w.args.callback=="function"?(k=w.messageId+":row",E.onrow=w.args.callback,w.args.callback=k,r[k]=E):typeof w.args.callback=="string"&&d("exec callback may not be a string when using the Promise interface."));let C=new Promise(function(q,A){E.resolve=q,E.reject=A,r[w.messageId]=E,o("Posting",w.type,"message to Worker dbId="+(m||"default")+":",w),e.worker.postMessage(w)});return k&&(C=C.finally(()=>delete r[k])),C}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const r=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(s){try{e&&await e(s),r.resolve(s)}catch(o){r.reject(o)}}});const n=new Promise(function(s,o){r.resolve=s,r.reject=o});try{this.original(t)}catch(s){r.reject(s)}return n}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function Rk(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(s=>{e=s})},unlock:async()=>{const s=e;t=void 0,e=void 0,s?.()}}}function bb(t,e){const r={rows:[],columns:[]},n=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:r.columns});switch(e.method){case"run":break;case"get":r.rows=n[0]??[];break;case"all":default:r.rows=n;break}return r}function fO(t){const e=t.split(/[\\/]/).filter(o=>o!==""),r=e.pop();if(!r)throw new Error("Database path is invalid.");const n=["journal","wal","shm"].map(o=>`${r}-${o}`);return{directories:e,fileName:r,tempFileNames:n,getDirectoryHandle:async()=>{let o=await navigator.storage.getDirectory();for(let l of e)o=await o.getDirectoryHandle(l);return o}}}async function Cw(t,e){let r;if(t instanceof Blob?r=t.stream():r=t,r instanceof ReadableStream&&e){const s=r.getReader();switch(e){case"callback":return async()=>(await s.read()).value;case"buffer":const o=[];let l=!1;for(;!l;){const y=await s.read();y.value&&o.push(y.value),l=y.done}const u=o.reduce((y,w)=>y+w.length,0),d=new Uint8Array(u);let m=0;return o.forEach(y=>{d.set(y,m),m+=y.length}),d}}else return r}class x6{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:Rk()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:Rk()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:s,readOnly:o,verbose:l}=this.config,u=[o===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await w6()),this.db&&this.destroy(),"opfs"in this.sqlite3&&s!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(s,u),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(s,u),this.dbStorageType="memory",s!==":memory:"&&console.warn(`The origin private file system is not available, so ${s} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s})`),this.reinitChannel.onmessage=d=>{this.config.clientKey!==d.data.clientKey&&this.init(d.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:n})}catch(d){this.emitMessage({type:"error",error:d,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(n,s)=>{const o=n instanceof MessageEvent?n.data:n;switch(await this.initMutex.lock(),o.type){case"config":this.editConfig(o);break;case"query":case"batch":case"transaction":this.exec(o);break;case"function":this.createUserFunction(o);break;case"getinfo":this.getDatabaseInfo(o);break;case"import":this.importDb(o);break;case"export":this.exportDb(o);break;case"delete":this.deleteDb(o);break;case"destroy":this.destroy(o);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(n,s=[])=>{this.onmessage&&this.onmessage(n,s)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.config=n.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(this.db)try{const s={type:"data",queryKey:n.queryKey,data:[]};switch(n.type){case"query":const o=this.transactionKey!==null&&this.transactionKey===n.transactionKey;try{o||await this.transactionMutex.lock();const l=bb(this.db,n);s.data.push(l)}finally{o||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let u of n.statements){const d=bb(l,u);s.data.push(d)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(n.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=n.transactionKey,this.db.exec({sql:"BEGIN"})),(n.action==="commit"||n.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===n.transactionKey){const l=n.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(s)}catch(s){this.emitMessage({type:"error",error:s,queryKey:n.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let n of this.config.onInitStatements)bb(this.db,n)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{try{const s=this.config.databasePath,o=this.dbStorageType,l=o!==void 0?o!=="memory"?await navigator.storage?.persisted():!1:void 0,d=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof d=="number"?d:void 0;this.emitMessage({type:"info",queryKey:n.queryKey,info:{databasePath:s,databaseSizeBytes:m,storageType:o,persisted:l}})}catch(s){this.emitMessage({type:"error",queryKey:n.queryKey,error:s})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{const{functionName:s,functionType:o,queryKey:l}=n;let u;if(this.userFunctions.has(s)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${s}" has already been created for this SQLocal instance.`),queryKey:l});return}o==="callback"?u=(...d)=>{this.emitMessage({type:"callback",name:s,args:d})}:u=this.proxy[`_sqlocal_func_${s}`];try{this.initUserFunction({type:o,name:s,func:u}),this.emitMessage({type:"success",queryKey:l})}catch(d){this.emitMessage({type:"error",error:d,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.createFunction({name:n.name,xFunc:(s,...o)=>n.func(...o),arity:-1}),this.userFunctions.set(n.name,n))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:s,database:o}=n;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const u=await Cw(o,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,u)}else{const u=await Cw(o,"buffer"),d=this.sqlite3.wasm.allocFromTypedArray(u);this.pointers.push(d);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",d,u.byteLength,u.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(u){this.emitMessage({type:"error",error:u,queryKey:s}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:s})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:n=>{if(!this.sqlite3||!this.db)return;const{queryKey:s}=n;try{const o=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:s,buffer:o},[o])}catch(o){this.emitMessage({type:"error",error:o,queryKey:s})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;const{queryKey:s}=n;let o=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:u,tempFileNames:d}=fO(this.config.databasePath),m=await l(),y=[u,...d];this.destroy(),await Promise.all(y.map(async w=>m.removeEntry(w).catch(E=>{if(!(E instanceof DOMException&&E.name==="NotFoundError"))throw E})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:s}),o=!0}finally{await this.init("delete")}o||this.emitMessage({type:"success",queryKey:s})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(s=>this.sqlite3?.wasm.dealloc(s)),this.pointers=[],n&&this.emitMessage({type:"success",queryKey:n.queryKey})}});const r=e?globalThis:M0(globalThis);this.proxy=r,this.init("initial")}}function dg(t,...e){return{sql:t.join("?"),params:e}}function S6(t){return!t.some(e=>!Array.isArray(e))}function wb(t,e){let r;return S6(t)?r=t:r=[t],r.map(n=>{const s={};return e.forEach((o,l)=>{s[o]=n[l]}),s})}function N6(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function E6(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function k6(t){if(typeof t=="function"&&(t=t(dg)),N6(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const n=t.toSQL();if(!E6(n))throw 2;return n}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let r=[];return"params"in t?r=t.params:"parameters"in t&&(r=t.parameters),{sql:e,params:r}}function xb(){return crypto.randomUUID()}function Ak(t,e){let r;return typeof t=="string"?r={sql:t,params:e}:r=dg(t,...e),r}async function $p(t,e,r,n){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${r.databasePath})`,{mode:t},n):n()}class I6{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const u=l instanceof MessageEvent?l.data:l,d=this.queriesInProgress;switch(u.type){case"success":case"data":case"buffer":case"info":case"error":if(u.queryKey&&d.has(u.queryKey)){const[y,w]=d.get(u.queryKey);u.type==="error"?w(u.error):y(u),d.delete(u.queryKey)}else if(u.type==="error")throw u.error;break;case"callback":const m=this.userCallbacks.get(u.name);m&&m(...u.args??[]);break;case"event":this.config.onConnect?.(u.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>$p("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const u=xb();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:u},[l.database]);break;default:this.processor.postMessage({...l,queryKey:u});break}return new Promise((d,m)=>{this.queriesInProgress.set(u,[d,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u,d="all",m)=>{const y=await this.createQuery({type:"query",transactionKey:m,sql:l,params:u,method:d}),w={rows:[],columns:[]};return y.type==="data"&&(w.rows=y.data[0]?.rows??[],w.columns=y.data[0]?.columns??[]),w}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const u=await this.createQuery({type:"batch",statements:l}),d=new Array(l.length).fill({rows:[],columns:[]});return u.type==="data"&&u.data.forEach((m,y)=>{d[y]=m}),d}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...u)=>{const d=Ak(l,u),{rows:m,columns:y}=await this.exec(d.sql,d.params,"all");return wb(m,y)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const u=l(dg);return(await this.execBatch(u)).map(({rows:m,columns:y})=>wb(m,y))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=xb();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const u=async w=>{const E=k6(w),{rows:k,columns:C}=await this.exec(E.sql,E.params,"all",l);return wb(k,C)};return{query:u,sql:async(w,...E)=>{const k=Ak(w,E);return await u(k)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>$p("exclusive",!1,this.config,async()=>{let u;this.bypassMutationLock=!0;try{u=await this.beginTransaction();const d=await l({sql:u.sql,query:u.query});return await u.commit(),d}catch(d){throw await u?.rollback(),d}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,u)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{const d=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[d]=u),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[d]=u)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,u;const{storageType:d}=await this.getDatabaseInfo();if(d==="opfs"){const m=fO(this.config.databasePath),{directories:y,getDirectoryHandle:w}=m;l=m.fileName;const E=`backup-${Date.now()}--${l}`,k=`${y.join("/")}/${E}`;await this.exec("VACUUM INTO ?",[k]);const C=await w();u=await (await (await C.getFileHandle(E)).getFile()).arrayBuffer(),await C.removeEntry(E)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",u=m.buffer;else throw new Error("The database failed to export.")}return new File([u],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{await $p("exclusive",!1,this.config,async()=>{try{const d=await Cw(l);await this.createQuery({type:"import",database:d}),typeof u=="function"&&(this.bypassMutationLock=!0,await u()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await $p("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const r=typeof e=="string"?{databasePath:e}:e,{onInit:n,onConnect:s,...o}=r;this.config=r,this.clientKey=xb(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${o.databasePath})`),typeof globalThis.Worker<"u"&&o.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=M0(this.processor)):(this.processor=new x6(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...o,clientKey:this.clientKey,onInitStatements:n?.(dg)??[]}})}}class C6 extends I6{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new d6,createDriver:()=>new q6(this),createIntrospector:e=>new c6(e),createQueryCompiler:()=>new a6}})}}class q6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new T6(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class T6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let r;return this.transaction===null?r=await this.client.sql(e.sql,...e.parameters):r=await this.transaction.query(e),{rows:r}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const O6=({database:t,bootstrap:e})=>{const{dialect:r}=new C6({databasePath:`${t}.sqlite3`}),n=new Va({dialect:r});return{kysely:n,bootstrap(){return e({kysely:n})}}},Xs=fr({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),R6="icon-[material-symbols--error-outline]",A6=fr({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Cs=({error:t,variant:e,tva:r=A6,css:n})=>{const s=r({...e,css:n}).slots;return t?.message?g.jsxs("div",{className:s.base(),children:[g.jsx(br,{icon:R6}),g.jsx("span",{children:xr.rich(t.message)})]}):null},P6=fr({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),Lr=({label:t,hint:e,required:r=!1,formState:n,name:s,children:o,variant:l,tva:u=P6,css:d})=>{const m=u({isSubmitting:n.isSubmitting,isLoading:n.isLoading,isError:!!n.errors[s],required:r,...l,css:d}).slots;return g.jsxs("div",{className:m.base(),children:[g.jsxs("div",{className:"flex flex-row justify-between",children:[t?g.jsx("label",{htmlFor:s,children:t}):null,g.jsx(Cs,{variant:{compact:!0},error:n.errors[s]})]}),e?g.jsx("div",{className:"text-sm italic",children:e}):null,g.jsx("div",{className:m.input(),children:o})]})},la=({form:t,mutation:e,onSuccess:r})=>{const n=t.handleSubmit(async s=>e.mutateAsync(s,{onSuccess:r,onError:o=>{s0({error:o,errors:[Xw({error:o,schema:i0,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return s=>{s.stopPropagation(),n(s)}};function j6(t,e,r,n={leading:!1}){const[s,o]=K.useState(t),[l,u]=K.useState(t),d=K.useRef(null),m=K.useRef(!0),y=()=>window.clearTimeout(d.current||void 0);K.useEffect(()=>y,[]),K.useEffect(()=>{e(s)},[s]),K.useEffect(()=>{u(t),o(t)},[t]);const w=K.useCallback(E=>{u(E),y(),m.current&&n.leading?o(E):d.current=window.setTimeout(()=>{m.current=!0,o(E)},r),m.current=!1},[n.leading]);return[l,w]}const F6=fr({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),L6=({value:t="",onFulltext:e,textPlaceholder:r,variant:n,tva:s=F6,css:o})=>{const l=s({...n,css:o}).slots,[u,d]=j6(t,m=>{e(m||"")},500);return g.jsxs("div",{className:l.base(),children:[g.jsx("div",{className:l.search(),children:g.jsx(br,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),g.jsx("input",{value:u||"",className:l.input(),type:"text",placeholder:r||xr.text("Fulltext (placeholder)"),onChange:m=>{d(m.target.value)}}),t&&g.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:g.jsx(br,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},Wf="icon-[pajamas--go-back]",fg="icon-[line-md--confirm-circle]",D6="icon-[mage--edit]",M6="icon-[arcticons--nothing-x]",B6="icon-[tabler--filter-plus]",Pk="icon-[tabler--filter-minus]",Xg="icon-[ph--list-dashes-thin]",$0="icon-[material-symbols-light--logout-sharp]",$6="icon-[fluent--shape-intersect-20-regular]",ey="icon-[fluent--checkbox-unchecked-20-regular]",ty="icon-[fluent--checkbox-checked-20-regular]",W6="icon-[ph--gear-thin]",hg="icon-[teenyicons--tag-outline]",eo="icon-[ph--trash]",W0="icon-[ph--user]",z6=async({queryClient:t,keys:e})=>Promise.all(e.map(r=>t.refetchQueries({queryKey:r}))).catch(r=>{console.error(r)}),U6=fr({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),V6=()=>g.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),hO=({logo:t,menu:e,actions:r,variant:n,tva:s=U6,css:o,children:l})=>{const u=s({...n,css:o}).slots;return g.jsxs("div",{className:u.base(),children:[g.jsx(UP,{position:"top-center"}),g.jsxs("div",{className:u.header(),children:[g.jsx("div",{children:t}),g.jsx("div",{className:"flex-grow",children:e}),g.jsx("div",{className:"flex flex-row gap-2 items-center",children:r})]}),g.jsx("div",{className:u.content(),children:l??g.jsx(aa,{})}),g.jsx(V6,{})]})},H6=fr({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),Q6=K.forwardRef(({icon:t,iconProps:e,variant:r,tva:n=H6,css:s,children:o,...l},u)=>{const d=n({...r,css:s}).slots;return g.jsxs("a",{...l,ref:u,className:d.base(),children:[t&&g.jsx(br,{icon:t,...e}),o]})}),K6=$I(Q6),vn=t=>g.jsx(K6,{preload:"intent",...t}),G6=fr({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),J6=({show:t=!0,variant:e,tva:r=G6,css:n})=>{const s=r({show:t,...e,css:n}).slots;return t?g.jsx("div",{className:s.base(),children:g.jsx(br,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var hm={exports:{}},Z6=hm.exports,jk;function Y6(){return jk||(jk=1,function(t,e){(function(r,n){t.exports=n()})(Z6,()=>(()=>{var r={d:(C,q)=>{for(var A in q)r.o(q,A)&&!r.o(C,A)&&Object.defineProperty(C,A,{enumerable:!0,get:q[A]})},o:(C,q)=>Object.prototype.hasOwnProperty.call(C,q)},n={};r.d(n,{default:()=>k});const s=(...C)=>{},o=C=>C!==null&&C?.constructor.name==="Object";let l,u;const d=()=>{if(!l){l=!0;try{u=w.storage||localStorage,u.getItem("")}catch{u=(()=>{const C={getItem:A=>q[A]||null,setItem:(A,D)=>{q[A]=D},removeItem:A=>{q[A]=void 0},clear:()=>{q={__proto__:C}}};let q={__proto__:C};return q})()}E()}},m="\0",y=(C,q,A=!0)=>A?[...JSON.stringify(C)].map(D=>String.fromCharCode(D.charCodeAt(0)+q)).join(""):JSON.parse([...C].map(D=>String.fromCharCode(D.charCodeAt(0)-q)).join("")),w={ttl:null,encrypt:!1,encrypter:y,decrypter:(C,q)=>y(C,q,!1),secret:75,storage:void 0};Object.seal(w);const E=(C=!1)=>{d();for(const q of Object.keys(u)){const A=u.getItem(q);let D;try{D=JSON.parse(A||"")}catch{continue}o(D)&&m in D&&(Date.now()>D.ttl||C)&&u.removeItem(q)}},k={config:w,set:(C,q,A={})=>{d();const D={...w,...A,encrypt:A.encrypt!==!1&&(A.encrypt||w.encrypt),ttl:A.ttl===null?null:A.ttl||w.ttl};try{const F=D.ttl&&!isNaN(D.ttl)&&D.ttl>0;let $=F?{[m]:q,ttl:Date.now()+1e3*D.ttl}:q;D.encrypt&&(F?$[m]=(D.encrypter||s)($[m],D.secret):$=(D.encrypter||s)($,D.secret)),u.setItem(C,JSON.stringify($))}catch{return!1}},get:(C,q={})=>{d();const A=u.getItem(C),D={...w,...q,encrypt:q.encrypt!==!1&&(q.encrypt||w.encrypt),ttl:q.ttl===null?null:q.ttl||w.ttl};let F,$;try{F=JSON.parse(A||""),$=o(F)&&m in F,(D.decrypt||D.encrypt)&&($?F[m]=(D.decrypter||s)(F[m],D.secret):F=(D.decrypter||s)(F,D.secret))}catch{}return $?Date.now()>F.ttl?(u.removeItem(C),null):F[m]:F!==void 0?F:A},flush:E,clear:()=>{d(),u.clear()},remove:C=>{d(),u.removeItem(C)}};return n.default})())}(hm)),hm.exports}var X6=Y6();const ez=qc(X6),hh=ez,tz=fr({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Wc=({variant:t,tva:e=tz,css:r,children:n})=>{const s=e({...t,css:r}).slots;return g.jsx("div",{className:s.base(),children:n})},rz=fr({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),Fk=({icon:t,label:e,active:r=[],variant:n,tva:s=rz,css:o,children:l})=>{const u=WI(),d=r.some(y=>!!u(y)),m=s({active:d,...n,css:o}).slots;return g.jsxs("div",{className:m.base(),children:[g.jsxs("div",{className:m.label(),children:[t?g.jsx(br,{icon:t}):null,e]}),g.jsx("div",{className:m.items(),children:l})]})},nz=fr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),iz=K.forwardRef(({icon:t=null,variant:e,tva:r=nz,css:n,children:s,...o},l)=>{const u=r({...e,css:n}).slots;return g.jsxs("a",{...o,className:u.base(),ref:l,children:[Xf(t)?g.jsx(br,{icon:t}):t,s]})}),sz=$I(iz),Hr=({active:t=[],variant:e,...r})=>{const n=WI(),s=t.some(o=>!!n(o));return g.jsx(sz,{preload:"intent",variant:{active:!!n({to:r.to,params:r.params})||s,...e},...r})},oz=fr({slot:{base:["flex","flex-row","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),az=({textTitle:t,textEmpty:e,items:r,render:n,limit:s,variant:o,tva:l=oz,css:u})=>{const d=s?r.slice(0,s):r,m=l({...o,css:u}).slots;return g.jsxs("div",{className:m.base(),children:[r.length?null:e,d.map(y=>g.jsx(n,{entity:y},`items-${y.id}`)),s&&r.length>s&&g.jsx(Vg,{title:t,target:g.jsx(w0,{iconEnabled:wT}),outside:!0,children:g.jsx("div",{className:"flex flex-col gap-2",children:r.map(y=>g.jsx(n,{entity:y},`items-${y.id}`))})})]})},lz=fr({slot:{base:[]},variant:{},defaults:{}}),U=({label:t,fallback:e,variant:r,tva:n=lz,css:s})=>{const o=n({...r,css:s}).slots;return g.jsx("div",{className:o.base(),children:xr.rich(t,e)})},pO=fr({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),uz=fr({use:pO,slot:{},variant:{},defaults:{}}),cz=({icon:t,titleText:e,modalProps:r,table:n,render:s,allowEmpty:o=!1,source:l,useListQuery:u,value:d,onChange:m,variant:y,tva:w=uz,css:E})=>{const k=w({...y,css:E}).slots,[C,q]=K.useState(0),[A,D]=K.useState(15),[F,$]=K.useState(d||[]),[H,G]=K.useState(void 0),B=u({source:l,filter:{fulltext:H},cursor:{page:C,size:A}}),Z=u({source:l,where:{idIn:d},options:{enabled:!!d}});return g.jsx(Vg,{icon:t,target:g.jsxs("label",{className:k.input({loading:Z.isLoading,selected:!!Z.data?.data.length}),children:[g.jsx(br,{icon:Z.data?.data?.length?ty:ey}),Z.data&&Z.data.data.length?g.jsx(s,{entities:Z.data.data}):g.jsx(U,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:g.jsxs("div",{className:k.base(),children:[g.jsx("div",{className:k.content(),children:g.jsx(n,{cursor:{cursor:{page:C,size:A},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:g.jsx(U,{label:"Total count of items (label)"}),onPage(ie){q(ie)},onSize(ie){D(ie),q(0)}},fulltext:{value:H,set(ie){G(ie)}},table:{data:B.data?.data??[],selection:{type:"multi",value:F,set(ie){$(ie)}}}})}),g.jsx(ls.Consumer,{children:ie=>g.jsxs("div",{className:k.footer(),children:[g.jsx(wn,{iconEnabled:Wf,iconDisabled:Wf,onClick:()=>{ie?.close()},variant:{variant:"subtle"},children:g.jsx(U,{label:"Close (label)"})}),g.jsx(wn,{iconEnabled:fg,iconDisabled:fg,disabled:!F.length&&!o,onClick:()=>{m(F),ie?.close()},children:g.jsx(U,{label:"Confirm selection (label)"})})]})})]})})},mO=({icon:t,titleText:e,modalProps:r,table:n,render:s,allowEmpty:o=!1,source:l,useListQuery:u,value:d,onChange:m,variant:y,tva:w=pO,css:E})=>{const k=w({...y,css:E}).slots,[C,q]=K.useState(0),[A,D]=K.useState(10),[F,$]=K.useState(d?[d]:[]),[H,G]=K.useState(void 0),B=u({source:l,where:{fulltext:H},cursor:{page:C,size:A}}),Z=u({source:l,where:{id:d},options:{enabled:!!d}});return g.jsx(Vg,{icon:t,target:g.jsxs("label",{className:k.input({loading:Z.isLoading,selected:!!Z.data?.data?.length}),children:[g.jsx(br,{icon:Z.data?.data?.[0]?ty:ey}),Z.data?.data?.[0]?g.jsx(s,{entity:Z.data?.data?.[0]}):g.jsx(U,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:g.jsxs("div",{className:k.base(),children:[g.jsx("div",{className:k.content(),children:g.jsx(n,{cursor:{cursor:{page:C,size:A},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:g.jsx(U,{label:"Total count of items (label)"}),onPage(ie){q(ie)},onSize(ie){D(ie)}},fulltext:{value:H,set(ie){G(ie)}},table:{data:B.data?.data??[],selection:{type:"single",value:F,set(ie){$(ie)}}}})}),g.jsx(ls.Consumer,{children:ie=>g.jsxs("div",{className:k.footer(),children:[g.jsx(wn,{iconEnabled:Wf,iconDisabled:Wf,onClick:()=>{ie?.close()},variant:{variant:"subtle"},children:g.jsx(U,{label:"Close (label)"})}),g.jsx(wn,{iconEnabled:fg,iconDisabled:fg,disabled:!F.length&&!o,onClick:()=>{m(F?.[0]),ie?.close()},children:g.jsx(U,{label:"Confirm selection (label)"})})]})})]})})},dz=fr({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),ry=({entity:t,title:e=()=>null,links:r=()=>null,actions:n=()=>null,extra:s=()=>null,variant:o,tva:l=dz,css:u})=>{const d=l({...o,css:u}).slots;return g.jsx(x0.Provider,{value:{inline:!0},children:g.jsx("div",{className:d.base(),children:g.jsxs("div",{className:d.container(),children:[g.jsx("div",{className:d.title(),children:g.jsx(e,{entity:t})}),g.jsx("div",{className:d.links(),children:g.jsx(r,{entity:t})}),g.jsx("div",{className:d.actions(),children:g.jsx(n,{entity:t})}),g.jsx("div",{className:d.extra(),children:g.jsx(s,{entity:t})})]})})})},fz=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,page:e}})})},hz=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,size:e,page:0}})})},Tn=t=>({onPage:fz(t),onSize:hz(t)}),On=t=>e=>t({search:({cursor:r,...n})=>({...n,filter:e,cursor:{...r,page:0}})}),Rn=t=>e=>{t({search:({cursor:r,filter:n,...s})=>({...s,filter:{...n,fulltext:e},cursor:{...r,page:e?0:r.page}}),replace:!!e})},Vi=t=>e=>{t({search(r){return{...r,selection:e}}})},pz=fr({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),mz=({source:t,wrap:e=s=>s(),onSuccess:r,options:n})=>{const s=dl(),o=Mi();return ko({mutationKey:["useRemoveMutation",t.name],async mutationFn({where:l,filter:u}){return e(async()=>t.db.transaction().execute(async d=>{const m=await t.delete$({tx:d,where:l,filter:u});return await r?.({queryClient:s,router:o,entity:m}),m}))},...n})},Co=({source:t,textContent:e,filter:r,onCancel:n,invalidator:s,variant:o,tva:l=pz,css:u})=>{const d=l({...o,css:u}).slots,m=K.useContext(ls),y=mz({source:t,async wrap(w){return VP.promise(w(),{loading:g.jsx(U,{label:"Deleting... (label)"}),success:g.jsx(U,{label:"Items deleted (label)"}),error:g.jsx(U,{label:"Items cannot be removed (label)"})})},options:{async onSuccess(){await s?.(),m?.close()}}});return g.jsxs("div",{className:d.base(),children:[g.jsx("div",{className:d.content(),children:e}),g.jsxs("div",{className:d.footer(),children:[g.jsx(wn,{variant:{variant:"subtle",size:"sm"},iconEnabled:Wf,onClick:()=>{m?.close(),n?.()},children:g.jsx(U,{label:"Cancel (button)"})}),g.jsx(wn,{variant:{variant:"danger",size:"md"},iconEnabled:eo,onClick:()=>y.mutate({filter:r}),children:g.jsx(U,{label:"Delete (button)"})})]})]})},gO=({source:t,where:e,filter:r,options:n})=>Lw({queryKey:["useCountQuery",t.name,{where:e,filter:r}],async queryFn(){return t.db.transaction().execute(async s=>t.count$({tx:s,where:e,filter:r}))},...n}),ua=({source:t,wrap:e=async s=>s(),toCreate:r=async({shape:s})=>({entity:s,shape:s}),onSuccess:n})=>{const s=dl(),o=Mi();return ko({mutationKey:["useCreateMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async u=>{const d=await t.create$({tx:u,...await r({shape:l}),shape:l});return await n?.({queryClient:s,router:o,entity:d}),d}))}})},Sn=async({tx:t,queryClient:e,source:r,where:n,filter:s,cursor:o,sort:l})=>e.ensureQueryData({queryKey:["withListCountLoader",r.name,{where:n,filter:s,cursor:o,sort:l}],async queryFn(){return{data:await r.list$({tx:t,where:n,filter:s,cursor:o,sort:l}),count:await r.count$({tx:t,where:n,filter:s})}}}),z0=({source:t,where:e,filter:r,cursor:n,options:s})=>{const o=dl();return Lw({queryKey:["useListQuery",t.name,{where:e,filter:r,cursor:n}],async queryFn(){return t.db.transaction().execute(async l=>Sn({queryClient:o,tx:l,source:t,where:e,filter:r,cursor:n}))},...s})},qo=({source:t,wrap:e=async s=>s(),toPatch:r,onSuccess:n})=>{const s=dl(),o=Mi();return ko({mutationKey:["usePatchMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async u=>{const d=await t.patch$({tx:u,entity:l,shape:l,...await r({shape:l})});return await n?.({queryClient:s,router:o,entity:d}),d}))}})},qs=({sources:t,route:e=!0,queries:r=[]})=>{const n=dl(),s=Mi();return async()=>{await z6({queryClient:n,keys:[...t.map(({name:o})=>["withCountLoader",o]),...t.map(({name:o})=>["withFetchLoader",o]),...t.map(({name:o})=>["withListLoader",o]),...t.map(({name:o})=>["useListQuery",o]),...t.map(({name:o})=>["withListCountLoader",o]),...t.map(({name:o})=>["useCountQuery",o]),...r]}),e&&await s.invalidate()}},U0=async({tx:t,queryClient:e,source:r,where:n,filter:s})=>e.ensureQueryData({queryKey:["withFetchLoader",r.name,{where:n,filter:s}],async queryFn(){return r.fetchOrThrow$({tx:t,where:n,filter:s})}}),An=t=>{const e="input"in t?t.input:"input",r="output"in t?t.output:"output",n="schema"in t?t.schema._input:t._input,s="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?s:n,output:r==="input"?n:s},parse:o=>"schema"in t?t.schema.parse(o):t.parse(o)}},Wp=(t,e)=>ue.custom().pipe(t.catch(e)),Pn=({filter:t,sort:e})=>ue.object({filter:Wp(t.optional(),void 0),cursor:Wp(ZM,{page:0,size:15}).default({page:0,size:15}),sort:Wp(e.optional(),void 0),selection:Wp(ue.array(ue.string()),[]).default([])}),gz=fr({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),yO=({textTitle:t,textMessage:e,icon:r,iconProps:n,variant:s,tva:o=gz,css:l,children:u})=>{const d=o({...s,css:l}).slots;return g.jsxs("div",{className:d.base(),children:[r?g.jsx(br,{icon:r,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...n}):null,g.jsx("div",{className:d.title(),children:t}),g.jsx("div",{className:d.message(),children:e}),g.jsx("div",{className:d.body(),children:u})]})},V0=fr({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),yz=({table:t,cell:{column:e,data:r,value:n},variant:s,tva:o=V0,css:l})=>{const u=e.def.render,d=o({...s,css:l}).slots;return g.jsx("td",{className:d.td(),children:g.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[g.jsx(u,{table:t,data:r,value:n,context:t.context}),e.filter&&!e.filter.is()?g.jsx(br,{icon:B6,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:r,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},vz=({table:t,row:e,action:r,variant:n,tva:s=V0,css:o})=>{const l=s({...n,css:o}).slots,u=r?.table,d=r?.row;return g.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[u||d||t.selection.enabled?g.jsx("td",{className:"w-0",children:g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?g.jsx(br,{icon:t.selection.isSelected(e)?ty:ey,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,d?g.jsx(d,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>g.jsx(yz,{table:t,cell:m,variant:n,tva:s,css:o},`${e.id}-${m.column.id}`)),g.jsx("td",{})]})},ai=({table:t,fulltext:e,cursor:r,empty:n=()=>g.jsx(yO,{icon:M6,textTitle:g.jsx(U,{label:"Nothing here"}),textMessage:g.jsx(U,{label:"There is nothing to see right now."})}),action:s,variant:o,tva:l=V0,css:u})=>{const d=l({...o,css:u}).slots,m=s?.table,y=s?.row;return g.jsxs("div",{className:d.base(),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?g.jsx(L6,{value:e.value,onFulltext:e.set}):null}),g.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[g.jsx(ik,{...r}),t.filter.is()&&g.jsx(w0,{iconEnabled:Pk,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),g.jsx("div",{className:"relative overflow-x-auto",children:g.jsxs("table",{className:d.table(),children:[g.jsx("thead",{className:d.thead(),children:g.jsxs("tr",{children:[m||y||t.selection.enabled?g.jsx("th",{className:"w-0",children:g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?g.jsx(br,{icon:t.selection.isAll()?ty:t.selection.isAny()?$6:ey,variant:{disabled:t.selection.isSingle},css:{base:d.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?g.jsx(m,{table:t}):null]})}):null,t.visible.map(w=>{const E=w.def.header||(()=>null);return g.jsx("th",{className:d.th(),style:w.def.size?{width:`${w.def.size}rem`}:void 0,children:g.jsxs("div",{className:"flex flex-row items-center justify-between",children:[g.jsx(E,{table:t}),g.jsx("div",{className:"flex flex-row items-center gap-2",children:w.filter?.is()&&g.jsx(br,{icon:Pk,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{w.filter?.reset()}})})]})},w.id)}),g.jsx("th",{})]})}),t.isEmpty?null:g.jsx("tbody",{className:d.tbody(),children:t.rows?.map(w=>g.jsx(vz,{row:w,table:t,action:s,variant:o,tva:l,css:u},w.id))})]})}),t.isEmpty?g.jsx(n,{}):null,g.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[g.jsx("div",{}),g.jsx(ik,{...r})]})]})},Vn=[];for(let t=0;t<256;++t)Vn.push((t+256).toString(16).slice(1));function _z(t,e=0){return(Vn[t[e+0]]+Vn[t[e+1]]+Vn[t[e+2]]+Vn[t[e+3]]+"-"+Vn[t[e+4]]+Vn[t[e+5]]+"-"+Vn[t[e+6]]+Vn[t[e+7]]+"-"+Vn[t[e+8]]+Vn[t[e+9]]+"-"+Vn[t[e+10]]+Vn[t[e+11]]+Vn[t[e+12]]+Vn[t[e+13]]+Vn[t[e+14]]+Vn[t[e+15]]).toLowerCase()}let Sb;const bz=new Uint8Array(16);function wz(){if(!Sb){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Sb=crypto.getRandomValues.bind(crypto)}return Sb(bz)}const xz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lk={randomUUID:xz};function Dk(t,e,r){if(Lk.randomUUID&&!e&&!t)return Lk.randomUUID();t=t||{};const n=t.random||(t.rng||wz)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,_z(n)}const li=({columns:t,order:e=t.map(d=>d.name),hidden:r=[],visible:n=t.map(d=>d.name),data:s,filter:o,selection:l,context:u})=>{const d={...o?.value||{}},m=C1(d||{}),y=new Set(l?.value),w=t.map(k=>({id:Dk(),def:k,filter:k.filter?{is(){return k.filter?m.get(k.filter.path)!==void 0:!1},reset(){k.filter&&m.set(k.filter.path,void 0),o?.set({...d})},shallow(C,q){k.filter&&m.set(C,q),o?.set({...d})},set(C){o?.set({...C})}}:void 0})),E=w.filter(k=>n.includes(k.def.name)&&!r.includes(k.def.name)).sort((k,C)=>{const q=e.indexOf(k.def.name),A=e.indexOf(C.def.name);return(q===-1?1/0:q)-(A===-1?1/0:A)});return{columns:w,visible:E,rows:s?.map(k=>({id:Dk(),data:k,cells:E.map(C=>({column:C,data:k,value:C1(k).get(C.def.name)}))})),isEmpty:s.length===0,filter:{is(){return w.some(k=>k.filter?.is())},reset(){o?.set({})},set(k){o?.set({...k})},shallow(k,C){m.set(k,C)}},selection:{enabled:!!l&&s.length>0,selection:Array.from(y),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:k}){return y.has(k.id)||!1},isAll(){return s.every(k=>y.has(k.id))},isAny(){return s.some(k=>y.has(k.id))},withRowHandler({data:k}){return()=>{if(l?.type==="single"){const C=y.has(k.id);y.clear(),C?y.delete(k.id):y.add(k.id)}else y.has(k.id)?y.delete(k.id):y.add(k.id);l?.set(Array.from(y))}},withAllHandler(){return()=>{s.every(k=>y.has(k.id))?y.clear():s.forEach(({id:k})=>y.add(k)),l?.set(Array.from(y))}}},context:u}},ui=()=>t=>t,vO=({tags:t=[],render:e=({tag:s})=>s.label,onClick:r,textEmpty:n})=>{const s=t.filter(Boolean).sort((o,l)=>o.sort-l.sort);return g.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:s.length?s.map(o=>g.jsx(u4,{onClick:()=>r?.(o),children:e({tag:o})},o.id)):n||g.jsx(U,{label:"No tags (label)"})})},Sz=fr({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),ny=({icon:t,title:e,subtitle:r,variant:n,tva:s=Sz,css:o})=>{const l=s({withSubtitle:!!r,...n,css:o}).slots;return g.jsxs("div",{className:l.base(),children:[g.jsxs("div",{className:l.title(),children:[t?g.jsx(br,{icon:t}):null,e]}),r?g.jsx("div",{className:l.subtitle(),children:r}):null]})};var zp={},Mk;function Nz(){if(Mk)return zp;Mk=1;var t=BI();return zp.createRoot=t.createRoot,zp.hydrateRoot=t.hydrateRoot,zp}var Ez=Nz();const kz=qc(Ez),H0=RA()({component:()=>g.jsxs(g.Fragment,{children:[g.jsx(XA,{}),g.jsx(aa,{})]})}),Iz="modulepreload",Cz=function(t){return"/"+t},Bk={},$k=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=Promise.allSettled(r.map(d=>{if(d=Cz(d),d in Bk)return;Bk[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":Iz,m||(w.as="script"),w.crossOrigin="",w.href=d,u&&w.setAttribute("nonce",u),document.head.appendChild(w),m)return new Promise((E,k)=>{w.addEventListener("load",E),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},qz=ir("/$locale")({component:aa,loader:async({params:{locale:t}})=>{try{xr.push((await Tz(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function Tz(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return $k(()=>import("./cs-cUbx6Aqz.js"),[]);case"../translation/en":case"../translation/en.yaml":return $k(()=>import("./en-DxZkj4fJ.js"),[]);default:return new Promise(function(e,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const _O="cs",Oz=[_O,"en"],Rz=ir("/")({loader:async()=>{throw bg({to:"/$locale",params:{locale:FD({available:Oz,fallback:_O})}})}}),Az=ir("/$locale/")({component:()=>{const{locale:t}=tn({from:"/$locale"});return g.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:g.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[g.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),g.jsx("ul",{children:g.jsx("li",{children:g.jsx(vn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:nn,bootstrap:Pz}=O6({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)",r=async()=>{await t.schema.createTable("User").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull()).addColumn("login","varchar(128)",l=>l.notNull().unique()).addColumn("password","varchar(256)",l=>l.notNull()).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("code","varchar(64)",l=>l.notNull()).addColumn("label","varchar(128)",l=>l.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",l=>l.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("stamp","datetime",l=>l.defaultTo(D0`CURRENT_TIMESTAMP`).notNull()).execute()},n=async()=>{await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId",e,l=>l.references("Tag.id").onDelete("cascade").notNull()).addUniqueConstraint("Resource_Tag_resourceId_tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Inventory_userId_resourceId",["userId","resourceId"]).execute()},s=async()=>{await t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).addColumn("cycles","int2",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuilding_Requirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Requirement_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuilding_Limit").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("limit","float8",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Limit_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuildingProduction").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("cycles","float8",l=>l.notNull()).addColumn("limit","float8",l=>l.notNull()).execute()},o=async()=>{await t.schema.createTable("Building").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).execute(),await t.schema.createTable("Building_Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Building_Storage_buildingId_resourceId",["buildingId","resourceId"]).execute(),await t.schema.createTable("BuildingQueue").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("start","float8",l=>l.notNull()).addColumn("current","float8",l=>l.notNull()).addColumn("finish","float8",l=>l.notNull()).execute(),await t.schema.createTable("BuildingProductionQueue").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("baseBuildingProductionId",e,l=>l.references("BaseBuildingProduction.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("start","float8",l=>l.notNull()).addColumn("current","float8",l=>l.notNull()).addColumn("finish","float8",l=>l.notNull()).execute()};await r(),await n(),await s(),await o()}}),jz=ir("/$locale/apps/derivean")({loader:Pz}),bO="icon-[proicons--game]",Fz=fr({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),wO=({variant:t,tva:e=Fz,css:r})=>{const n=e({...t,css:r}).slots;return g.jsx("div",{className:n.base(),children:"DeRivean"})},oa="icon-[material-symbols-light--construction-rounded]",Zs="icon-[fluent--building-shop-20-regular]",Or="icon-[hugeicons--resources-add]",Lz=t=>{const{locale:e}=tn({from:"/$locale"});return g.jsxs(Wc,{...t,children:[g.jsx(Hr,{icon:W0,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:g.jsx(U,{label:"User list (menu)"})}),g.jsxs(Fk,{icon:Zs,label:g.jsx(U,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/requirement/list"},{to:"/$locale/apps/derivean/root/building/base/$id/limit/list"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/$id/resource/list"}],children:[g.jsx(Hr,{icon:oa,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:g.jsx(U,{label:"Base building list (menu)"})}),g.jsx(Hr,{icon:Zs,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:g.jsx(U,{label:"Building list (menu)"})})]}),g.jsx(Hr,{icon:Or,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:g.jsx(U,{label:"Resource list (menu)"})}),g.jsx(Fk,{icon:W6,label:g.jsx(U,{label:"Settings (menu)"}),children:g.jsx(Hr,{icon:hg,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:g.jsx(U,{label:"Tag list (menu)"})})})]})},iy=ue.object({id:ue.string(),name:ue.string(),login:ue.string()}),Dz=ir("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return iy.parse(hh.get("session"))}catch{throw bg({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=tn({from:"/$locale"}),{session:e}=fl({from:"/$locale/apps/derivean/root"});return g.jsx(hO,{logo:g.jsx(vn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:g.jsx(wO,{})}),menu:g.jsx(Lz,{}),actions:g.jsxs(g.Fragment,{children:[e.name,g.jsx(vn,{icon:bO,to:"/$locale/apps/derivean/game",params:{locale:t}}),g.jsx(vn,{icon:$0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),Mz=zi({entity:Bi.merge(ue.object({userId:ue.string().min(1),stamp:ue.string().min(1)})),shape:ue.object({}),filter:$i.merge(ue.object({userId:ue.string().optional()})),sort:["stamp"]}),Hl=Wi({name:"CycleSource",schema:Mz,db:nn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("Cycle as c").selectAll("c").leftJoin("User as u","u.id","c.userId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("c.id","like",m),y("u.id","like",m)]))},u=d=>{d?.id&&(o=o.where("c.id","=",d.id)),d?.idIn&&(o=o.where("c.id","in",d.idIn)),d?.userId&&(o=o.where("c.userId","=",d.userId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("Cycle")},patch$({tx:t}){return t.updateTable("Cycle")},delete$({tx:t}){return t.deleteFrom("Cycle")},map:{async toCreate({entity:t}){return{...t,stamp:Yt.utc().toSQLTime()}}}}),sy=zi({entity:XM,shape:ue.object({code:ue.string().min(1),label:ue.string().min(1),group:ue.string().nullish(),sort:ue.union([ue.number().int().nonnegative(),ue.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:xr.text("Sort must be a number")})])}),filter:$i.merge(ue.object({code:ue.string().optional(),group:ue.string().optional()})),sort:["sort","code","label","group"]}),Wk=Bi.merge(ue.object({name:ue.string().min(1)})),ca=zi({entity:Wk,output:Wk.merge(ue.object({tagIds:ue.array(ue.string()),tags:ue.array(sy.output)})),shape:ue.object({name:ue.string().min(1),tagIds:ue.array(ue.string()).optional()}),filter:$i.merge(ue.object({name:ue.string().optional()})),sort:["name"]}),zk=Bi.merge(ue.object({baseBuildingId:ue.string().min(1),resourceId:ue.string().min(1),limit:ue.number().positive()})),oy=zi({entity:zk,output:zk.merge(ue.object({resource:ca.output})),shape:ue.object({resourceId:ue.string().min(1),limit:ue.union([ue.number().positive(),ue.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:xr.text("Limit must be a number")})])}),filter:$i.merge(ue.object({resourceId:ue.string().optional(),baseBuildingId:ue.string().optional()})),sort:["name","resource"]}),Uk=Bi.merge(ue.object({baseBuildingId:ue.string().min(1),resourceId:ue.string().min(1),amount:ue.number().positive(),passive:ue.union([ue.boolean(),ue.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),ay=zi({entity:Uk,output:Uk.merge(ue.object({resource:ca.output})),shape:ue.object({resourceId:ue.string().min(1),amount:ue.union([ue.number().positive(),ue.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:xr.text("Amount must be a number")})]),passive:ue.boolean()}),filter:$i.merge(ue.object({baseBuildingId:ue.string().optional(),resourceId:ue.string().optional(),passive:ue.boolean().optional()})),sort:["name","resource","passive"]}),Vk=Bi.merge(ue.object({name:ue.string().min(1),cycles:ue.number().int().positive()})),zc=zi({entity:Vk,output:Vk.merge(ue.object({requirements:ue.array(ay.output),limits:ue.array(oy.output)})),shape:ue.object({name:ue.string().min(1),cycles:ue.union([ue.number().int().positive(),ue.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:xr.text("Cycles must be a number")})])}),filter:$i.merge(ue.object({name:ue.string().optional()})),sort:["name"]}),Bz=zi({entity:Bi.merge(ue.object({resourceId:ue.string().min(1),tagId:ue.string().min(1)})),shape:ue.object({resourceId:ue.string().min(1),tagId:ue.string().min(1)}),filter:$i.merge(ue.object({resourceId:ue.string().optional(),tagId:ue.string().optional()})),sort:["name","sort"]}),df=Wi({name:"ResourceTagSource",schema:Bz,db:nn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("Resource_Tag as rt").selectAll("rt").leftJoin("Resource as r","r.id","rt.resourceId").leftJoin("Tag as t","t.id","rt.tagId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("rt.id","like",m),y("r.id","like",m),y("t.id","like",m),y("r.name","like",m),y("t.code","like",m),y("t.label","like",m),y("t.group","like",m)]))},u=d=>{d?.id&&(o=o.where("rt.id","=",d.id)),d?.idIn&&(o=o.where("rt.id","in",d.idIn)),d?.resourceId&&(o=o.where("rt.resourceId","=",d.resourceId)),d?.tagId&&(o=o.where("rt.tagId","=",d.tagId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("Resource_Tag")},patch$({tx:t}){return t.updateTable("Resource_Tag")},delete$({tx:t}){return t.deleteFrom("Resource_Tag")}}),Ql=Wi({name:"TagSource",schema:sy,db:nn,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("Tag as t").selectAll("t");const u={code:"t.code",group:"t.group",label:"t.label",sort:"t.sort"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("t.id","like",w),E("t.code","like",w),E("t.group","like",w),E("t.label","like",w)]))},m=y=>{y?.id&&(l=l.where("t.id","=",y.id)),y?.idIn&&(l=l.where("t.id","in",y.idIn)),y?.code&&(l=l.where("t.code","=",y.code)),y?.group&&(l=l.where("t.group","=",y.group)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Tag")},patch$({tx:t}){return t.updateTable("Tag")},delete$({tx:t}){return t.deleteFrom("Tag")}}),Fi=Wi({name:"ResourceSource",schema:ca,db:nn,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("Resource as r").selectAll("r");const u={name:"r.name"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("r.id","like",w),E("r.name","like",w)]))},m=y=>{y?.id&&(l=l.where("r.id","=",y.id)),y?.idIn&&(l=l.where("r.id","in",y.idIn)),y?.name&&(l=l.where("r.name","=",y.name)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Resource")},patch$({tx:t}){return t.updateTable("Resource")},delete$({tx:t}){return t.deleteFrom("Resource")},map:{async toOutput({tx:t,entity:e}){const r=(await df.list$({tx:t,where:{resourceId:e.id}})).map(({tagId:n})=>n);return{...e,tagIds:r,tags:await Ql.list$({tx:t,where:{idIn:r}})}}},event:{async onPostCreate({tx:t,entity:e,shape:r}){await Promise.all(r.tagIds?.forEach(async n=>df.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))||[])},async onPostPatch({tx:t,entity:e,shape:r}){Array.isArray(r.tagIds)&&(await t.deleteFrom("Resource_Tag").where("resourceId","=",e.id).execute(),await Promise.all(r.tagIds.map(async n=>df.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))))}}}),tc=Wi({name:"BaseBuildingLimitSource",schema:oy,db:nn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("BaseBuilding_Limit as bbl").selectAll("bbl").leftJoin("BaseBuilding as bb","bb.id","bbl.baseBuildingId").leftJoin("Resource as r","r.id","bbl.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbl.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},u=d=>{d?.id&&(o=o.where("bbl.id","=",d.id)),d?.idIn&&(o=o.where("bbl.id","in",d.idIn)),d?.resourceId&&(o=o.where("bbl.resourceId","=",d.resourceId)),d?.baseBuildingId&&(o=o.where("bbl.baseBuildingId","=",d.baseBuildingId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("BaseBuilding_Limit")},patch$({tx:t}){return t.updateTable("BaseBuilding_Limit")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Limit")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Fi.getOrThrow$({tx:t,id:e.resourceId,error:"Cannot find resource for limit"})}}}}),rc=Wi({name:"BaseBuildingRequirementSource",schema:ay,db:nn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("BaseBuilding_Requirement as bbr").selectAll("bbr").leftJoin("BaseBuilding as bb","bb.id","bbr.baseBuildingId").leftJoin("Resource as r","r.id","bbr.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbr.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},u=d=>{d?.id&&(o=o.where("bbr.id","=",d.id)),d?.idIn&&(o=o.where("bbr.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("bbr.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("bbr.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("BaseBuilding_Requirement")},patch$({tx:t}){return t.updateTable("BaseBuilding_Requirement")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Requirement")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Fi.getOrThrow$({tx:t,id:e.resourceId})}}}}),ii=Wi({name:"BaseBuildingSource",schema:zc,db:nn,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("BaseBuilding as bb").selectAll("bb");const u={name:"bb.name"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("bb.id","like",w),E("bb.name","like",w)]))},m=y=>{y?.id&&(l=l.where("bb.id","=",y.id)),y?.idIn&&(l=l.where("bb.id","in",y.idIn)),y?.name&&(l=l.where("bb.name","=",y.name)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("BaseBuilding")},patch$({tx:t}){return t.updateTable("BaseBuilding")},delete$({tx:t}){return t.deleteFrom("BaseBuilding")},map:{async toOutput({tx:t,entity:e}){return{...e,requirements:await rc.list$({tx:t,where:{baseBuildingId:e.id}}),limits:await tc.list$({tx:t,where:{baseBuildingId:e.id}})}}}}),Hk=Bi.merge(ue.object({userId:ue.string().min(1),baseBuildingId:ue.string().min(1)})),Uc=zi({entity:Hk,output:Hk.merge(ue.object({baseBuilding:zc.output})),shape:ue.object({baseBuildingId:ue.string().min(1)}),filter:$i.merge(ue.object({userId:ue.string().optional(),baseBuildingId:ue.string().optional(),name:ue.string().optional()})),sort:["name"]}),bi=Wi({name:"BuildingSource",db:nn,schema:Uc,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("Building as b").selectAll("b").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("b.id","like",m),y("bb.id","like",m),y("bb.name","like",m)]))},u=d=>{d?.id&&(o=o.where("b.id","=",d.id)),d?.idIn&&(o=o.where("b.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("b.baseBuildingId","=",d.baseBuildingId)),d?.name&&(o=o.where("bb.name","=",d.name)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("Building")},patch$({tx:t}){return t.updateTable("Building")},delete$({tx:t}){return t.deleteFrom("Building")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await ii.getOrThrow$({tx:t,id:e.baseBuildingId})}}}}),Qk=Bi.merge(ue.object({baseBuildingProductionId:ue.string().min(1),buildingId:ue.string().min(1),resourceId:ue.string().min(1),amount:ue.number().nonnegative(),start:ue.number().nonnegative(),current:ue.number().nonnegative(),finish:ue.number().nonnegative()})),Q0=zi({entity:Qk,output:Qk.merge(ue.object({building:Uc.output,resource:ca.output})),shape:ue.object({baseBuildingProductionId:ue.string().min(1),buildingId:ue.string().min(1),resourceId:ue.string().min(1),amount:ue.number().nonnegative(),start:ue.number().nonnegative(),current:ue.number().nonnegative(),finish:ue.number().nonnegative()}),filter:$i.merge(ue.object({baseBuildingProductionId:ue.string().optional(),buildingId:ue.string().optional(),baseBuildingId:ue.string().optional(),resourceId:ue.string().optional(),userId:ue.string().optional(),finishGte:ue.number().optional(),finishGt:ue.number().optional()})),sort:["building","resource","start","current","finish"]}),mo=Wi({name:"BuildingProductionQueueSource",schema:Q0,db:nn,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("BuildingProductionQueue as bpq").selectAll("bpq").leftJoin("Building as b","b.id","bpq.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","bpq.resourceId");const u={resource:"r.name",building:"bb.name",start:"bpq.start",current:"bpq.current",finish:"bpq.finish"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("bpq.id","like",w)]))},m=y=>{y?.id&&(l=l.where("bpq.id","=",y.id)),y?.idIn&&(l=l.where("bpq.id","in",y.idIn)),y?.userId&&(l=l.where("b.userId","=",y.userId)),y?.baseBuildingId&&(l=l.where("b.baseBuildingId","=",y.baseBuildingId)),y?.buildingId&&(l=l.where("bpq.buildingId","=",y.buildingId)),y?.baseBuildingProductionId&&(l=l.where("bpq.baseBuildingProductionId","=",y.baseBuildingProductionId)),y?.finishGte&&(l=l.where("bpq.finish","<=",y.finishGte)),y?.finishGt&&(l=l.where("bpq.finish","<",y.finishGt)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("BuildingProductionQueue")},patch$({tx:t}){return t.updateTable("BuildingProductionQueue")},delete$({tx:t}){return t.deleteFrom("BuildingProductionQueue")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await bi.getOrThrow$({tx:t,id:e.buildingId}),resource:await Fi.getOrThrow$({tx:t,id:e.resourceId})}}}}),Kk=Bi.merge(ue.object({userId:ue.string().min(1),baseBuildingId:ue.string().min(1),start:ue.number().nonnegative(),current:ue.number().nonnegative(),finish:ue.number().nonnegative()})),xO=zi({entity:Kk,output:Kk.merge(ue.object({baseBuilding:zc.output})),shape:ue.object({baseBuildingId:ue.string().min(1),start:ue.number().nonnegative(),current:ue.number().nonnegative(),finish:ue.number().nonnegative()}),filter:$i.merge(ue.object({userId:ue.string().optional(),baseBuildingId:ue.string().optional(),finishGte:ue.number().optional(),finishGt:ue.number().optional()})),sort:["name","start","current","finish"]}),Zo=Wi({name:"BuildingQueueSource",schema:xO,db:nn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("BuildingQueue as bq").selectAll("bq");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bq.id","like",m)]))},u=d=>{d?.id&&(o=o.where("bq.id","=",d.id)),d?.idIn&&(o=o.where("bq.id","in",d.idIn)),d?.userId&&(o=o.where("bq.userId","=",d.userId)),d?.baseBuildingId&&(o=o.where("bq.baseBuildingId","=",d.baseBuildingId)),d?.finishGte&&(o=o.where("bq.finish","<=",d.finishGte)),d?.finishGt&&(o=o.where("bq.finish","<",d.finishGt)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("BuildingQueue")},patch$({tx:t}){return t.updateTable("BuildingQueue")},delete$({tx:t}){return t.deleteFrom("BuildingQueue")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await ii.getOrThrow$({tx:t,id:e.baseBuildingId,error:"Cannot find base building for building queue"})}}}}),Gk=Bi.merge(ue.object({buildingId:ue.string().min(1),resourceId:ue.string().min(1),amount:ue.number().nonnegative()})),Vc=zi({entity:Gk,output:Gk.merge(ue.object({building:Uc.output,resource:ca.output})),shape:ue.object({resourceId:ue.string().min(1),amount:ue.union([ue.number().nonnegative(),ue.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:xr.text("Amount must be a number")})])}),filter:$i.merge(ue.object({userId:ue.string().optional(),buildingId:ue.string().optional(),resourceId:ue.string().optional(),baseBuildingId:ue.string().optional()})),sort:["name","resource"]}),vi=Wi({name:"BuildingResourceSource",schema:Vc,db:nn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("Building_Resource as br").selectAll("br").leftJoin("Building as b","b.id","br.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","br.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("br.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},u=d=>{d?.id&&(o=o.where("br.id","=",d.id)),d?.idIn&&(o=o.where("br.id","in",d.idIn)),d?.buildingId&&(o=o.where("br.buildingId","=",d.buildingId)),d?.baseBuildingId&&(o=o.where("b.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("br.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("Building_Resource")},patch$({tx:t}){return t.updateTable("Building_Resource")},delete$({tx:t}){return t.deleteFrom("Building_Resource")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await bi.getOrThrow$({tx:t,id:e.buildingId}),resource:await Fi.getOrThrow$({tx:t,id:e.resourceId})}}}}),$z=({userId:t})=>{const e=qs({sources:[Hl,Zo,bi,mo,vi]});return ko({mutationKey:["useCycleMutation"],async mutationFn(){return Hl.db.transaction().execute(async r=>{await Hl.create$({tx:r,shape:{},entity:{userId:t}});const{filter:n}=await Hl.count$({tx:r,where:{userId:t}}),s=async()=>{const l=await Zo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t}});for await(const d of l)await Zo.patch$({tx:r,entity:{current:d.current+1},shape:{current:d.current+1},where:{id:d.id}});const u=await Zo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t,finishGt:n}});for await(const d of u)await bi.create$({tx:r,shape:{baseBuildingId:d.baseBuildingId},entity:{baseBuildingId:d.baseBuildingId,userId:t}}),await Zo.delete$({tx:r,where:{id:d.id}})},o=async()=>{const l=await mo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t}});for await(const d of l)await mo.patch$({tx:r,entity:{current:d.current+1},shape:{current:d.current+1},where:{id:d.id}});const u=await mo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t,finishGt:n}});for await(const d of u){const m=d.building.baseBuilding.limits.find(w=>w.resourceId===d.resourceId)?.limit||void 0;let y=!1;try{(!m||d.amount<=m)&&(await vi.create$({tx:r,shape:{resourceId:d.resourceId,amount:d.amount},entity:{buildingId:d.buildingId,resourceId:d.resourceId,amount:d.amount}}),y=!0)}catch{const E=await vi.fetchOrThrow$({tx:r,where:{buildingId:d.buildingId,resourceId:d.resourceId}});(!m||E.amount+d.amount<=m)&&(await vi.patch$({tx:r,entity:{amount:E.amount+d.amount},shape:{amount:E.amount+d.amount},where:{buildingId:d.buildingId,resourceId:d.resourceId}}),y=!0)}y&&await mo.delete$({tx:r,where:{id:d.id}})}};await s(),await o()})},async onSuccess(){await e()}})},Jk="icon-[iconamoon--clock-thin]",Wz=({userId:t,...e})=>{const r=$z({userId:t}),n=gO({source:Hl,where:{userId:t}});return g.jsxs(wn,{iconEnabled:Jk,iconDisabled:Jk,onClick:async()=>pr.promise(r.mutateAsync(),{loading:xr.text("Running cycle (toast)"),success:xr.text("Cycle success (toast)"),error:xr.text("Cycle failed (toast)")}),disabled:r.isPending,loading:n.isLoading,...e,children:[g.jsx(U,{label:"New cycle (label)"}),n.isSuccess?` (${gn({number:n.data.filter})})`:""]})},zz="icon-[emojione-monotone--construction]",zf="icon-[mingcute--inventory-line]",SO="icon-[heroicons--queue-list]",Uz=t=>{const{locale:e}=tn({from:"/$locale"});return g.jsxs(Wc,{...t,children:[g.jsx(Hr,{icon:oa,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:g.jsx(U,{label:"Building build list (label)"})}),g.jsx(Hr,{icon:Zs,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:g.jsx(U,{label:"Building list (label)"})}),g.jsx(Hr,{icon:zz,to:"/$locale/apps/derivean/game/building/queue/construction/list",params:{locale:e},children:g.jsx(U,{label:"Building queue list (label)"})}),g.jsx(Hr,{icon:SO,to:"/$locale/apps/derivean/game/building/queue/production/list",params:{locale:e},children:g.jsx(U,{label:"Production queue (menu)"})}),g.jsx(Hr,{icon:Or,to:"/$locale/apps/derivean/game/building/resource/list",params:{locale:e},children:g.jsx(U,{label:"Resource list (menu)"})}),g.jsx(Hr,{icon:zf,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:g.jsx(U,{label:"Inventory (menu)"})})]})},Zk=Bi.merge(ue.object({userId:ue.string().min(1),resourceId:ue.string().min(1),amount:ue.number().nonnegative()})),ly=zi({entity:Zk,output:Zk.merge(ue.object({resource:ca.output})),shape:ue.object({resourceId:ue.string().min(1),amount:ue.union([ue.number().nonnegative(),ue.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:xr.text("Amount must be a number")})])}),filter:$i.merge(ue.object({userId:ue.string().optional(),resourceId:ue.string().optional()})),sort:["resource","amount"]}),si=Wi({name:"InventorySource",db:nn,schema:ly,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("Inventory as i").selectAll("i").leftJoin("Resource as r","r.id","i.resourceId");const u={resource:"r.name",amount:"i.amount"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("i.id","like",w),E("r.id","like",w),E("r.name","like",w)]))},m=y=>{y?.id&&(l=l.where("i.id","=",y.id)),y?.idIn&&(l=l.where("i.id","in",y.idIn)),y?.resourceId&&(l=l.where("i.resourceId","=",y.resourceId)),y?.userId&&(l=l.where("i.userId","=",y.userId)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Inventory")},patch$({tx:t}){return t.updateTable("Inventory")},delete$({tx:t}){return t.deleteFrom("Inventory")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Fi.getOrThrow$({tx:t,id:e.resourceId})}}}}),Vz=ir("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return iy.parse(hh.get("session"))}catch{throw bg({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{kysely:t,session:e}}){const r=await e();return t.transaction().execute(async n=>({session:r,inventory:await si.list$({tx:n,where:{userId:r.id}})}))},component:()=>{const{locale:t}=tn({from:"/$locale"}),{session:e}=fl({from:"/$locale/apps/derivean/game"}),r=VR({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(n){return n.state.status}});return g.jsx(hO,{logo:g.jsx(vn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:g.jsx(wO,{})}),menu:g.jsxs("div",{className:"flex flex-row items-center gap-4",children:[g.jsx(Uz,{}),g.jsx(Wz,{userId:e.id})]}),actions:g.jsxs(g.Fragment,{children:[e.name,g.jsx(vn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),g.jsx(vn,{icon:$0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:g.jsx(aa,{})})}}),Hz=async t=>{const e={building:{forester:xt(),sawmill:xt(),quarry:xt(),castle:xt(),storage:xt(),house:xt(),university:xt()},resource:{wood:xt(),plank:xt(),stone:xt(),sand:xt(),glass:xt(),coal:xt(),flour:xt(),dressedStone:xt(),gold:xt(),silver:xt(),coin:xt(),storageBlueprint:xt(),castleBlueprint:xt(),houseBlueprint:xt(),universityBlueprint:xt(),quarryBlueprint:xt(),foresterBlueprint:xt(),sawmillBlueprint:xt()},tag:{material:xt(),product:xt(),food:xt(),valuables:xt(),blueprint:xt()}};try{await t.insertInto("BaseBuilding").values([{id:e.building.castle,name:"Castle",cycles:30},{id:e.building.forester,name:"Forester",cycles:3},{id:e.building.quarry,name:"Quarry",cycles:3},{id:e.building.sawmill,name:"Sawmill",cycles:10},{id:e.building.storage,name:"Storage",cycles:5},{id:e.building.house,name:"House",cycles:1},{id:e.building.university,name:"University",cycles:75}]).execute()}catch{}try{await t.insertInto("Tag").values([{id:e.tag.material,code:"material",label:"Material",sort:0,group:"resource"},{id:e.tag.valuables,code:"valuables",label:"Valuables",sort:0,group:"resource"},{id:e.tag.blueprint,code:"blueprint",label:"Blueprint",sort:1,group:"resource"},{id:e.tag.product,code:"product",label:"Product",sort:1,group:"resource"}]).execute()}catch{}try{await t.insertInto("Resource").values([{id:e.resource.coal,name:"Coal"},{id:e.resource.flour,name:"Flour"},{id:e.resource.sand,name:"Sand"},{id:e.resource.glass,name:"Glass"},{id:e.resource.wood,name:"Wood"},{id:e.resource.plank,name:"Plank"},{id:e.resource.stone,name:"Stone"},{id:e.resource.dressedStone,name:"Dressed Stone"},{id:e.resource.silver,name:"Silver"},{id:e.resource.gold,name:"Gold"},{id:e.resource.coin,name:"Coin"},{id:e.resource.storageBlueprint,name:"Storage - Blueprint"},{id:e.resource.castleBlueprint,name:"Castle - Blueprint"},{id:e.resource.houseBlueprint,name:"House - Blueprint"},{id:e.resource.universityBlueprint,name:"University - Blueprint"},{id:e.resource.quarryBlueprint,name:"Quarry - Blueprint"},{id:e.resource.foresterBlueprint,name:"Forester - Blueprint"},{id:e.resource.sawmillBlueprint,name:"Sawmill - Blueprint"}]).execute()}catch{}try{await t.insertInto("Resource_Tag").values([{id:xt(),resourceId:e.resource.stone,tagId:e.tag.material},{id:xt(),resourceId:e.resource.flour,tagId:e.tag.material},{id:xt(),resourceId:e.resource.coal,tagId:e.tag.material},{id:xt(),resourceId:e.resource.sand,tagId:e.tag.material},{id:xt(),resourceId:e.resource.glass,tagId:e.tag.product},{id:xt(),resourceId:e.resource.plank,tagId:e.tag.material},{id:xt(),resourceId:e.resource.dressedStone,tagId:e.tag.material},{id:xt(),resourceId:e.resource.wood,tagId:e.tag.material},{id:xt(),resourceId:e.resource.storageBlueprint,tagId:e.tag.blueprint},{id:xt(),resourceId:e.resource.castleBlueprint,tagId:e.tag.blueprint},{id:xt(),resourceId:e.resource.houseBlueprint,tagId:e.tag.blueprint},{id:xt(),resourceId:e.resource.universityBlueprint,tagId:e.tag.blueprint},{id:xt(),resourceId:e.resource.quarryBlueprint,tagId:e.tag.blueprint},{id:xt(),resourceId:e.resource.sawmillBlueprint,tagId:e.tag.blueprint},{id:xt(),resourceId:e.resource.foresterBlueprint,tagId:e.tag.blueprint},{id:xt(),resourceId:e.resource.coin,tagId:e.tag.valuables},{id:xt(),resourceId:e.resource.gold,tagId:e.tag.valuables},{id:xt(),resourceId:e.resource.silver,tagId:e.tag.valuables}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Requirement").values([{id:xt(),baseBuildingId:e.building.storage,resourceId:e.resource.stone,passive:!1,amount:3},{id:xt(),baseBuildingId:e.building.storage,resourceId:e.resource.wood,passive:!1,amount:5},{id:xt(),baseBuildingId:e.building.storage,resourceId:e.resource.storageBlueprint,passive:!1,amount:1},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.stone,passive:!1,amount:10},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.dressedStone,passive:!1,amount:25},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.wood,passive:!1,amount:25},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.plank,passive:!1,amount:50},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.coin,passive:!1,amount:2e3},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.gold,passive:!1,amount:25},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.castleBlueprint,passive:!1,amount:1},{id:xt(),baseBuildingId:e.building.house,resourceId:e.resource.stone,passive:!1,amount:5},{id:xt(),baseBuildingId:e.building.house,resourceId:e.resource.wood,passive:!1,amount:10},{id:xt(),baseBuildingId:e.building.house,resourceId:e.resource.houseBlueprint,passive:!1,amount:1},{id:xt(),baseBuildingId:e.building.university,resourceId:e.resource.stone,passive:!1,amount:100},{id:xt(),baseBuildingId:e.building.university,resourceId:e.resource.dressedStone,passive:!1,amount:75},{id:xt(),baseBuildingId:e.building.university,resourceId:e.resource.wood,passive:!1,amount:250},{id:xt(),baseBuildingId:e.building.university,resourceId:e.resource.plank,passive:!1,amount:150},{id:xt(),baseBuildingId:e.building.university,resourceId:e.resource.universityBlueprint,passive:!1,amount:3},{id:xt(),baseBuildingId:e.building.university,resourceId:e.resource.coin,passive:!1,amount:2e3},{id:xt(),baseBuildingId:e.building.sawmill,resourceId:e.resource.wood,passive:!1,amount:10},{id:xt(),baseBuildingId:e.building.sawmill,resourceId:e.resource.stone,passive:!1,amount:15}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Limit").values([{id:xt(),baseBuildingId:e.building.storage,resourceId:e.resource.stone,limit:100},{id:xt(),baseBuildingId:e.building.storage,resourceId:e.resource.wood,limit:150},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.stone,limit:25},{id:xt(),baseBuildingId:e.building.castle,resourceId:e.resource.wood,limit:50}]).execute()}catch{}try{await t.insertInto("BaseBuildingProduction").values([{id:xt(),baseBuildingId:e.building.house,resourceId:e.resource.coin,amount:3,cycles:1,limit:1},{id:xt(),baseBuildingId:e.building.sawmill,resourceId:e.resource.plank,amount:1,cycles:1,limit:1},{id:xt(),baseBuildingId:e.building.forester,resourceId:e.resource.wood,amount:1,cycles:1,limit:1},{id:xt(),baseBuildingId:e.building.quarry,resourceId:e.resource.stone,amount:1,cycles:2,limit:1}]).execute()}catch{}},Qz=ir("/$locale/apps/derivean/root/")({component(){const t=ko({mutationKey:["base-game"],async mutationFn(){return pr.promise(Hz(nn),{success:xr.text("Base game installed (toast)"),error:xr.text("Base game installation failed (toast)"),loading:xr.text("Installing base game (toast)")})}});return g.jsx("div",{className:"flex items-center justify-center mt-10",children:g.jsx(wn,{iconEnabled:bO,loading:t.isPending,onClick:()=>t.mutate(),children:g.jsx(U,{label:"Install base game (label)"})})})}}),Kz=ir("/$locale/apps/derivean/game/")({component:()=>g.jsx("div",{children:"game dashboard here :)"})});var ph=t=>t.type==="checkbox",Kl=t=>t instanceof Date,pi=t=>t==null;const NO=t=>typeof t=="object";var _n=t=>!pi(t)&&!Array.isArray(t)&&NO(t)&&!Kl(t),EO=t=>_n(t)&&t.target?ph(t.target)?t.target.checked:t.target.value:t,Gz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kO=(t,e)=>t.has(Gz(e)),Jz=t=>{const e=t.constructor&&t.constructor.prototype;return _n(e)&&e.hasOwnProperty("isPrototypeOf")},K0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Oi(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(K0&&(t instanceof Blob||n))&&(r||_n(t)))if(e=r?[]:{},!r&&!Jz(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Oi(t[s]));else return t;return e}var uy=t=>Array.isArray(t)?t.filter(Boolean):[],cn=t=>t===void 0,pt=(t,e,r)=>{if(!e||!_n(t))return r;const n=uy(e.split(/[,[\].]+?/)).reduce((s,o)=>pi(s)?s:s[o],t);return cn(n)||n===t?cn(t[e])?r:t[e]:n},Xi=t=>typeof t=="boolean",G0=t=>/^\w*$/.test(t),IO=t=>uy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ir=(t,e,r)=>{let n=-1;const s=G0(e)?[e]:IO(e),o=s.length,l=o-1;for(;++n<o;){const u=s[n];let d=r;if(n!==l){const m=t[u];d=_n(m)||Array.isArray(m)?m:isNaN(+s[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}return t};const pg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zz=Tr.createContext(null),J0=()=>Tr.useContext(Zz);var CO=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const l=o;return e._proxyFormState[l]!==Us.all&&(e._proxyFormState[l]=!n||Us.all),r&&(r[l]=!0),t[l]}});return s},Ri=t=>_n(t)&&!Object.keys(t).length,qO=(t,e,r,n)=>{r(t);const{name:s,...o}=t;return Ri(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!n||Us.all))},ff=t=>Array.isArray(t)?t:[t],TO=(t,e,r)=>!t||!e||t===e||ff(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Z0(t){const e=Tr.useRef(t);e.current=t,Tr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Yz(t){const e=J0(),{control:r=e.control,disabled:n,name:s,exact:o}=t||{},[l,u]=Tr.useState(r._formState),d=Tr.useRef(!0),m=Tr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),y=Tr.useRef(s);return y.current=s,Z0({disabled:n,next:w=>d.current&&TO(y.current,w.name,o)&&qO(w,m.current,r._updateFormState)&&u({...r._formState,...w}),subject:r._subjects.state}),Tr.useEffect(()=>(d.current=!0,m.current.isValid&&r._updateValid(!0),()=>{d.current=!1}),[r]),Tr.useMemo(()=>CO(l,r,m.current,!1),[l,r])}var vo=t=>typeof t=="string",OO=(t,e,r,n,s)=>vo(t)?(n&&e.watch.add(t),pt(r,t,s)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),pt(r,o))):(n&&(e.watchAll=!0),r);function Xz(t){const e=J0(),{control:r=e.control,name:n,defaultValue:s,disabled:o,exact:l}=t||{},u=Tr.useRef(n);u.current=n,Z0({disabled:o,subject:r._subjects.values,next:y=>{TO(u.current,y.name,l)&&m(Oi(OO(u.current,r._names,y.values||r._formValues,!1,s)))}});const[d,m]=Tr.useState(r._getWatch(n,s));return Tr.useEffect(()=>r._removeUnmounted()),d}function eU(t){const e=J0(),{name:r,disabled:n,control:s=e.control,shouldUnregister:o}=t,l=kO(s._names.array,r),u=Xz({control:s,name:r,defaultValue:pt(s._formValues,r,pt(s._defaultValues,r,t.defaultValue)),exact:!0}),d=Yz({control:s,name:r,exact:!0}),m=Tr.useRef(s.register(r,{...t.rules,value:u,...Xi(t.disabled)?{disabled:t.disabled}:{}})),y=Tr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!pt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!pt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!pt(d.validatingFields,r)},error:{enumerable:!0,get:()=>pt(d.errors,r)}}),[d,r]),w=Tr.useMemo(()=>({name:r,value:u,...Xi(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:E=>m.current.onChange({target:{value:EO(E),name:r},type:pg.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:pt(s._formValues,r),name:r},type:pg.BLUR}),ref:E=>{const k=pt(s._fields,r);k&&E&&(k._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:C=>E.setCustomValidity(C),reportValidity:()=>E.reportValidity()})}}),[r,s._formValues,n,d.disabled,u,s._fields]);return Tr.useEffect(()=>{const E=s._options.shouldUnregister||o,k=(C,q)=>{const A=pt(s._fields,C);A&&A._f&&(A._f.mount=q)};if(k(r,!0),E){const C=Oi(pt(s._options.defaultValues,r));Ir(s._defaultValues,r,C),cn(pt(s._formValues,r))&&Ir(s._formValues,r,C)}return()=>{(l?E&&!s._state.action:E)?s.unregister(r):k(r,!1)}},[r,s,l,o]),Tr.useEffect(()=>{Xi(n)&&pt(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:pt(s._fields,r)._f.value})},[n,r,s]),Tr.useMemo(()=>({field:w,formState:d,fieldState:y}),[w,d,y])}const cl=t=>t.render(eU(t));var RO=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Yk=t=>({isOnSubmit:!t||t===Us.onSubmit,isOnBlur:t===Us.onBlur,isOnChange:t===Us.onChange,isOnAll:t===Us.all,isOnTouch:t===Us.onTouched}),Xk=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const hf=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const o=pt(t,s);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(hf(u,e))break}else if(_n(u)&&hf(u,e))break}}};var tU=(t,e,r)=>{const n=ff(pt(t,r));return Ir(n,"root",e[r]),Ir(t,r,n),t},Y0=t=>t.type==="file",go=t=>typeof t=="function",mg=t=>{if(!K0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},pm=t=>vo(t),X0=t=>t.type==="radio",gg=t=>t instanceof RegExp;const eI={value:!1,isValid:!1},tI={value:!0,isValid:!0};var AO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!cn(t[0].attributes.value)?cn(t[0].value)||t[0].value===""?tI:{value:t[0].value,isValid:!0}:tI:eI}return eI};const rI={isValid:!1,value:null};var PO=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,rI):rI;function nI(t,e,r="validate"){if(pm(t)||Array.isArray(t)&&t.every(pm)||Xi(t)&&!t)return{type:r,message:pm(t)?t:"",ref:e}}var Wu=t=>_n(t)&&!gg(t)?t:{value:t,message:""},iI=async(t,e,r,n,s)=>{const{ref:o,refs:l,required:u,maxLength:d,minLength:m,min:y,max:w,pattern:E,validate:k,name:C,valueAsNumber:q,mount:A,disabled:D}=t._f,F=pt(e,C);if(!A||D)return{};const $=l?l[0]:o,H=se=>{n&&$.reportValidity&&($.setCustomValidity(Xi(se)?"":se||""),$.reportValidity())},G={},B=X0(o),Z=ph(o),ie=B||Z,V=(q||Y0(o))&&cn(o.value)&&cn(F)||mg(o)&&o.value===""||F===""||Array.isArray(F)&&!F.length,ne=RO.bind(null,C,r,G),M=(se,Y,me,Te=Vo.maxLength,qe=Vo.minLength)=>{const je=se?Y:me;G[C]={type:se?Te:qe,message:je,ref:o,...ne(se?Te:qe,je)}};if(s?!Array.isArray(F)||!F.length:u&&(!ie&&(V||pi(F))||Xi(F)&&!F||Z&&!AO(l).isValid||B&&!PO(l).isValid)){const{value:se,message:Y}=pm(u)?{value:!!u,message:u}:Wu(u);if(se&&(G[C]={type:Vo.required,message:Y,ref:$,...ne(Vo.required,Y)},!r))return H(Y),G}if(!V&&(!pi(y)||!pi(w))){let se,Y;const me=Wu(w),Te=Wu(y);if(!pi(F)&&!isNaN(F)){const qe=o.valueAsNumber||F&&+F;pi(me.value)||(se=qe>me.value),pi(Te.value)||(Y=qe<Te.value)}else{const qe=o.valueAsDate||new Date(F),je=Ee=>new Date(new Date().toDateString()+" "+Ee),_e=o.type=="time",ge=o.type=="week";vo(me.value)&&F&&(se=_e?je(F)>je(me.value):ge?F>me.value:qe>new Date(me.value)),vo(Te.value)&&F&&(Y=_e?je(F)<je(Te.value):ge?F<Te.value:qe<new Date(Te.value))}if((se||Y)&&(M(!!se,me.message,Te.message,Vo.max,Vo.min),!r))return H(G[C].message),G}if((d||m)&&!V&&(vo(F)||s&&Array.isArray(F))){const se=Wu(d),Y=Wu(m),me=!pi(se.value)&&F.length>+se.value,Te=!pi(Y.value)&&F.length<+Y.value;if((me||Te)&&(M(me,se.message,Y.message),!r))return H(G[C].message),G}if(E&&!V&&vo(F)){const{value:se,message:Y}=Wu(E);if(gg(se)&&!F.match(se)&&(G[C]={type:Vo.pattern,message:Y,ref:o,...ne(Vo.pattern,Y)},!r))return H(Y),G}if(k){if(go(k)){const se=await k(F,e),Y=nI(se,$);if(Y&&(G[C]={...Y,...ne(Vo.validate,Y.message)},!r))return H(Y.message),G}else if(_n(k)){let se={};for(const Y in k){if(!Ri(se)&&!r)break;const me=nI(await k[Y](F,e),$,Y);me&&(se={...me,...ne(Y,me.message)},H(me.message),r&&(G[C]=se))}if(!Ri(se)&&(G[C]={ref:$,...se},!r))return G}}return H(!0),G};function rU(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=cn(t)?n++:t[e[n++]];return t}function nU(t){for(const e in t)if(t.hasOwnProperty(e)&&!cn(t[e]))return!1;return!0}function Ln(t,e){const r=Array.isArray(e)?e:G0(e)?[e]:IO(e),n=r.length===1?t:rU(t,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(_n(n)&&Ri(n)||Array.isArray(n)&&nU(n))&&Ln(t,r.slice(0,-1)),t}var Nb=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},qw=t=>pi(t)||!NO(t);function Ua(t,e){if(qw(t)||qw(e))return t===e;if(Kl(t)&&Kl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const o=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const l=e[s];if(Kl(o)&&Kl(l)||_n(o)&&_n(l)||Array.isArray(o)&&Array.isArray(l)?!Ua(o,l):o!==l)return!1}}return!0}var jO=t=>t.type==="select-multiple",iU=t=>X0(t)||ph(t),Eb=t=>mg(t)&&t.isConnected,FO=t=>{for(const e in t)if(go(t[e]))return!0;return!1};function yg(t,e={}){const r=Array.isArray(t);if(_n(t)||r)for(const n in t)Array.isArray(t[n])||_n(t[n])&&!FO(t[n])?(e[n]=Array.isArray(t[n])?[]:{},yg(t[n],e[n])):pi(t[n])||(e[n]=!0);return e}function LO(t,e,r){const n=Array.isArray(t);if(_n(t)||n)for(const s in t)Array.isArray(t[s])||_n(t[s])&&!FO(t[s])?cn(e)||qw(r[s])?r[s]=Array.isArray(t[s])?yg(t[s],[]):{...yg(t[s])}:LO(t[s],pi(e)?{}:e[s],r[s]):r[s]=!Ua(t[s],e[s]);return r}var Md=(t,e)=>LO(t,e,yg(e)),DO=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>cn(t)?t:e?t===""?NaN:t&&+t:r&&vo(t)?new Date(t):n?n(t):t;function kb(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Y0(e)?e.files:X0(e)?PO(t.refs).value:jO(e)?[...e.selectedOptions].map(({value:r})=>r):ph(e)?AO(t.refs).value:DO(cn(e.value)?t.ref.value:e.value,t)}var sU=(t,e,r,n)=>{const s={};for(const o of t){const l=pt(e,o);l&&Ir(s,o,l._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Bd=t=>cn(t)?t:gg(t)?t.source:_n(t)?gg(t.value)?t.value.source:t.value:t;const sI="AsyncFunction";var oU=t=>!!t&&!!t.validate&&!!(go(t.validate)&&t.validate.constructor.name===sI||_n(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===sI)),aU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function oI(t,e,r){const n=pt(t,r);if(n||G0(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),l=pt(e,o),u=pt(t,o);if(l&&!Array.isArray(l)&&r!==o)return{name:r};if(u&&u.type)return{name:o,error:u};s.pop()}return{name:r}}var lU=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,uU=(t,e)=>!uy(pt(t,e)).length&&Ln(t,e);const cU={mode:Us.onSubmit,reValidateMode:Us.onChange,shouldFocusError:!0};function dU(t={}){let e={...cU,...t},r={submitCount:0,isDirty:!1,isLoading:go(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=_n(e.defaultValues)||_n(e.values)?Oi(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Oi(s),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:Nb(),array:Nb(),state:Nb()},E=Yk(e.mode),k=Yk(e.reValidateMode),C=e.criteriaMode===Us.all,q=ae=>ce=>{clearTimeout(m),m=setTimeout(ae,ce)},A=async ae=>{if(!e.disabled&&(y.isValid||ae)){const ce=e.resolver?Ri((await ie()).errors):await ne(n,!0);ce!==r.isValid&&w.state.next({isValid:ce})}},D=(ae,ce)=>{!e.disabled&&(y.isValidating||y.validatingFields)&&((ae||Array.from(u.mount)).forEach(ye=>{ye&&(ce?Ir(r.validatingFields,ye,ce):Ln(r.validatingFields,ye))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Ri(r.validatingFields)}))},F=(ae,ce=[],ye,Oe,De=!0,Ge=!0)=>{if(Oe&&ye&&!e.disabled){if(l.action=!0,Ge&&Array.isArray(pt(n,ae))){const _t=ye(pt(n,ae),Oe.argA,Oe.argB);De&&Ir(n,ae,_t)}if(Ge&&Array.isArray(pt(r.errors,ae))){const _t=ye(pt(r.errors,ae),Oe.argA,Oe.argB);De&&Ir(r.errors,ae,_t),uU(r.errors,ae)}if(y.touchedFields&&Ge&&Array.isArray(pt(r.touchedFields,ae))){const _t=ye(pt(r.touchedFields,ae),Oe.argA,Oe.argB);De&&Ir(r.touchedFields,ae,_t)}y.dirtyFields&&(r.dirtyFields=Md(s,o)),w.state.next({name:ae,isDirty:se(ae,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ir(o,ae,ce)},$=(ae,ce)=>{Ir(r.errors,ae,ce),w.state.next({errors:r.errors})},H=ae=>{r.errors=ae,w.state.next({errors:r.errors,isValid:!1})},G=(ae,ce,ye,Oe)=>{const De=pt(n,ae);if(De){const Ge=pt(o,ae,cn(ye)?pt(s,ae):ye);cn(Ge)||Oe&&Oe.defaultChecked||ce?Ir(o,ae,ce?Ge:kb(De._f)):Te(ae,Ge),l.mount&&A()}},B=(ae,ce,ye,Oe,De)=>{let Ge=!1,_t=!1;const $t={name:ae};if(!e.disabled){const Sr=!!(pt(n,ae)&&pt(n,ae)._f&&pt(n,ae)._f.disabled);if(!ye||Oe){y.isDirty&&(_t=r.isDirty,r.isDirty=$t.isDirty=se(),Ge=_t!==$t.isDirty);const gr=Sr||Ua(pt(s,ae),ce);_t=!!(!Sr&&pt(r.dirtyFields,ae)),gr||Sr?Ln(r.dirtyFields,ae):Ir(r.dirtyFields,ae,!0),$t.dirtyFields=r.dirtyFields,Ge=Ge||y.dirtyFields&&_t!==!gr}if(ye){const gr=pt(r.touchedFields,ae);gr||(Ir(r.touchedFields,ae,ye),$t.touchedFields=r.touchedFields,Ge=Ge||y.touchedFields&&gr!==ye)}Ge&&De&&w.state.next($t)}return Ge?$t:{}},Z=(ae,ce,ye,Oe)=>{const De=pt(r.errors,ae),Ge=y.isValid&&Xi(ce)&&r.isValid!==ce;if(e.delayError&&ye?(d=q(()=>$(ae,ye)),d(e.delayError)):(clearTimeout(m),d=null,ye?Ir(r.errors,ae,ye):Ln(r.errors,ae)),(ye?!Ua(De,ye):De)||!Ri(Oe)||Ge){const _t={...Oe,...Ge&&Xi(ce)?{isValid:ce}:{},errors:r.errors,name:ae};r={...r,..._t},w.state.next(_t)}},ie=async ae=>{D(ae,!0);const ce=await e.resolver(o,e.context,sU(ae||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return D(ae),ce},V=async ae=>{const{errors:ce}=await ie(ae);if(ae)for(const ye of ae){const Oe=pt(ce,ye);Oe?Ir(r.errors,ye,Oe):Ln(r.errors,ye)}else r.errors=ce;return ce},ne=async(ae,ce,ye={valid:!0})=>{for(const Oe in ae){const De=ae[Oe];if(De){const{_f:Ge,..._t}=De;if(Ge){const $t=u.array.has(Ge.name),Sr=De._f&&oU(De._f);Sr&&y.validatingFields&&D([Oe],!0);const gr=await iI(De,o,C,e.shouldUseNativeValidation&&!ce,$t);if(Sr&&y.validatingFields&&D([Oe]),gr[Ge.name]&&(ye.valid=!1,ce))break;!ce&&(pt(gr,Ge.name)?$t?tU(r.errors,gr,Ge.name):Ir(r.errors,Ge.name,gr[Ge.name]):Ln(r.errors,Ge.name))}!Ri(_t)&&await ne(_t,ce,ye)}}return ye.valid},M=()=>{for(const ae of u.unMount){const ce=pt(n,ae);ce&&(ce._f.refs?ce._f.refs.every(ye=>!Eb(ye)):!Eb(ce._f.ref))&&mt(ae)}u.unMount=new Set},se=(ae,ce)=>!e.disabled&&(ae&&ce&&Ir(o,ae,ce),!Ua(Q(),s)),Y=(ae,ce,ye)=>OO(ae,u,{...l.mount?o:cn(ce)?s:vo(ae)?{[ae]:ce}:ce},ye,ce),me=ae=>uy(pt(l.mount?o:s,ae,e.shouldUnregister?pt(s,ae,[]):[])),Te=(ae,ce,ye={})=>{const Oe=pt(n,ae);let De=ce;if(Oe){const Ge=Oe._f;Ge&&(!Ge.disabled&&Ir(o,ae,DO(ce,Ge)),De=mg(Ge.ref)&&pi(ce)?"":ce,jO(Ge.ref)?[...Ge.ref.options].forEach(_t=>_t.selected=De.includes(_t.value)):Ge.refs?ph(Ge.ref)?Ge.refs.length>1?Ge.refs.forEach(_t=>(!_t.defaultChecked||!_t.disabled)&&(_t.checked=Array.isArray(De)?!!De.find($t=>$t===_t.value):De===_t.value)):Ge.refs[0]&&(Ge.refs[0].checked=!!De):Ge.refs.forEach(_t=>_t.checked=_t.value===De):Y0(Ge.ref)?Ge.ref.value="":(Ge.ref.value=De,Ge.ref.type||w.values.next({name:ae,values:{...o}})))}(ye.shouldDirty||ye.shouldTouch)&&B(ae,De,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Ee(ae)},qe=(ae,ce,ye)=>{for(const Oe in ce){const De=ce[Oe],Ge=`${ae}.${Oe}`,_t=pt(n,Ge);(u.array.has(ae)||_n(De)||_t&&!_t._f)&&!Kl(De)?qe(Ge,De,ye):Te(Ge,De,ye)}},je=(ae,ce,ye={})=>{const Oe=pt(n,ae),De=u.array.has(ae),Ge=Oi(ce);Ir(o,ae,Ge),De?(w.array.next({name:ae,values:{...o}}),(y.isDirty||y.dirtyFields)&&ye.shouldDirty&&w.state.next({name:ae,dirtyFields:Md(s,o),isDirty:se(ae,Ge)})):Oe&&!Oe._f&&!pi(Ge)?qe(ae,Ge,ye):Te(ae,Ge,ye),Xk(ae,u)&&w.state.next({...r}),w.values.next({name:l.mount?ae:void 0,values:{...o}})},_e=async ae=>{l.mount=!0;const ce=ae.target;let ye=ce.name,Oe=!0;const De=pt(n,ye),Ge=()=>ce.type?kb(De._f):EO(ae),_t=$t=>{Oe=Number.isNaN($t)||Kl($t)&&isNaN($t.getTime())||Ua($t,pt(o,ye,$t))};if(De){let $t,Sr;const gr=Ge(),$r=ae.type===pg.BLUR||ae.type===pg.FOCUS_OUT,ci=!aU(De._f)&&!e.resolver&&!pt(r.errors,ye)&&!De._f.deps||lU($r,pt(r.touchedFields,ye),r.isSubmitted,k,E),dn=Xk(ye,u,$r);Ir(o,ye,gr),$r?(De._f.onBlur&&De._f.onBlur(ae),d&&d(0)):De._f.onChange&&De._f.onChange(ae);const xi=B(ye,gr,$r,!1),To=!Ri(xi)||dn;if(!$r&&w.values.next({name:ye,type:ae.type,values:{...o}}),ci)return y.isValid&&(e.mode==="onBlur"?$r&&A():A()),To&&w.state.next({name:ye,...dn?{}:xi});if(!$r&&dn&&w.state.next({...r}),e.resolver){const{errors:$n}=await ie([ye]);if(_t(gr),Oe){const Ht=oI(r.errors,n,ye),fa=oI($n,n,Ht.name||ye);$t=fa.error,ye=fa.name,Sr=Ri($n)}}else D([ye],!0),$t=(await iI(De,o,C,e.shouldUseNativeValidation))[ye],D([ye]),_t(gr),Oe&&($t?Sr=!1:y.isValid&&(Sr=await ne(n,!0)));Oe&&(De._f.deps&&Ee(De._f.deps),Z(ye,Sr,$t,xi))}},ge=(ae,ce)=>{if(pt(r.errors,ce)&&ae.focus)return ae.focus(),1},Ee=async(ae,ce={})=>{let ye,Oe;const De=ff(ae);if(e.resolver){const Ge=await V(cn(ae)?ae:De);ye=Ri(Ge),Oe=ae?!De.some(_t=>pt(Ge,_t)):ye}else ae?(Oe=(await Promise.all(De.map(async Ge=>{const _t=pt(n,Ge);return await ne(_t&&_t._f?{[Ge]:_t}:_t)}))).every(Boolean),!(!Oe&&!r.isValid)&&A()):Oe=ye=await ne(n);return w.state.next({...!vo(ae)||y.isValid&&ye!==r.isValid?{}:{name:ae},...e.resolver||!ae?{isValid:ye}:{},errors:r.errors}),ce.shouldFocus&&!Oe&&hf(n,ge,ae?De:u.mount),Oe},Q=ae=>{const ce={...l.mount?o:s};return cn(ae)?ce:vo(ae)?pt(ce,ae):ae.map(ye=>pt(ce,ye))},Se=(ae,ce)=>({invalid:!!pt((ce||r).errors,ae),isDirty:!!pt((ce||r).dirtyFields,ae),error:pt((ce||r).errors,ae),isValidating:!!pt(r.validatingFields,ae),isTouched:!!pt((ce||r).touchedFields,ae)}),lt=ae=>{ae&&ff(ae).forEach(ce=>Ln(r.errors,ce)),w.state.next({errors:ae?r.errors:{}})},at=(ae,ce,ye)=>{const Oe=(pt(n,ae,{_f:{}})._f||{}).ref,De=pt(r.errors,ae)||{},{ref:Ge,message:_t,type:$t,...Sr}=De;Ir(r.errors,ae,{...Sr,...ce,ref:Oe}),w.state.next({name:ae,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Oe&&Oe.focus&&Oe.focus()},dt=(ae,ce)=>go(ae)?w.values.subscribe({next:ye=>ae(Y(void 0,ce),ye)}):Y(ae,ce,!0),mt=(ae,ce={})=>{for(const ye of ae?ff(ae):u.mount)u.mount.delete(ye),u.array.delete(ye),ce.keepValue||(Ln(n,ye),Ln(o,ye)),!ce.keepError&&Ln(r.errors,ye),!ce.keepDirty&&Ln(r.dirtyFields,ye),!ce.keepTouched&&Ln(r.touchedFields,ye),!ce.keepIsValidating&&Ln(r.validatingFields,ye),!e.shouldUnregister&&!ce.keepDefaultValue&&Ln(s,ye);w.values.next({values:{...o}}),w.state.next({...r,...ce.keepDirty?{isDirty:se()}:{}}),!ce.keepIsValid&&A()},ft=({disabled:ae,name:ce,field:ye,fields:Oe,value:De})=>{if(Xi(ae)&&l.mount||ae){const Ge=ae?void 0:cn(De)?kb(ye?ye._f:pt(Oe,ce)._f):De;(ae||!ae&&!cn(Ge))&&Ir(o,ce,Ge),B(ce,Ge,!1,!1,!0)}},yt=(ae,ce={})=>{let ye=pt(n,ae);const Oe=Xi(ce.disabled)||Xi(e.disabled);return Ir(n,ae,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:ae}},name:ae,mount:!0,...ce}}),u.mount.add(ae),ye?ft({field:ye,disabled:Xi(ce.disabled)?ce.disabled:e.disabled,name:ae,value:ce.value}):G(ae,!0,ce.value),{...Oe?{disabled:ce.disabled||e.disabled}:{},...e.progressive?{required:!!ce.required,min:Bd(ce.min),max:Bd(ce.max),minLength:Bd(ce.minLength),maxLength:Bd(ce.maxLength),pattern:Bd(ce.pattern)}:{},name:ae,onChange:_e,onBlur:_e,ref:De=>{if(De){yt(ae,ce),ye=pt(n,ae);const Ge=cn(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,_t=iU(Ge),$t=ye._f.refs||[];if(_t?$t.find(Sr=>Sr===Ge):Ge===ye._f.ref)return;Ir(n,ae,{_f:{...ye._f,..._t?{refs:[...$t.filter(Eb),Ge,...Array.isArray(pt(s,ae))?[{}]:[]],ref:{type:Ge.type,name:ae}}:{ref:Ge}}}),G(ae,!1,void 0,Ge)}else ye=pt(n,ae,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||ce.shouldUnregister)&&!(kO(u.array,ae)&&l.action)&&u.unMount.add(ae)}}},jt=()=>e.shouldFocusError&&hf(n,ge,u.mount),vt=ae=>{Xi(ae)&&(w.state.next({disabled:ae}),hf(n,(ce,ye)=>{const Oe=pt(n,ye);Oe&&(ce.disabled=Oe._f.disabled||ae,Array.isArray(Oe._f.refs)&&Oe._f.refs.forEach(De=>{De.disabled=Oe._f.disabled||ae}))},0,!1))},gt=(ae,ce)=>async ye=>{let Oe;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){ce&&await ce({...r.errors},ye);return}let De=Oi(o);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:Ge,values:_t}=await ie();r.errors=Ge,De=_t}else await ne(n);if(Ln(r.errors,"root"),Ri(r.errors)){w.state.next({errors:{}});try{await ae(De,ye)}catch(Ge){Oe=Ge}}else ce&&await ce({...r.errors},ye),jt(),setTimeout(jt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ri(r.errors)&&!Oe,submitCount:r.submitCount+1,errors:r.errors}),Oe)throw Oe},Ot=(ae,ce={})=>{pt(n,ae)&&(cn(ce.defaultValue)?je(ae,Oi(pt(s,ae))):(je(ae,ce.defaultValue),Ir(s,ae,Oi(ce.defaultValue))),ce.keepTouched||Ln(r.touchedFields,ae),ce.keepDirty||(Ln(r.dirtyFields,ae),r.isDirty=ce.defaultValue?se(ae,Oi(pt(s,ae))):se()),ce.keepError||(Ln(r.errors,ae),y.isValid&&A()),w.state.next({...r}))},qt=(ae,ce={})=>{const ye=ae?Oi(ae):s,Oe=Oi(ye),De=Ri(ae),Ge=De?s:Oe;if(ce.keepDefaultValues||(s=ye),!ce.keepValues){if(ce.keepDirtyValues){const _t=new Set([...u.mount,...Object.keys(Md(s,o))]);for(const $t of Array.from(_t))pt(r.dirtyFields,$t)?Ir(Ge,$t,pt(o,$t)):je($t,pt(Ge,$t))}else{if(K0&&cn(ae))for(const _t of u.mount){const $t=pt(n,_t);if($t&&$t._f){const Sr=Array.isArray($t._f.refs)?$t._f.refs[0]:$t._f.ref;if(mg(Sr)){const gr=Sr.closest("form");if(gr){gr.reset();break}}}}n={}}o=e.shouldUnregister?ce.keepDefaultValues?Oi(s):{}:Oi(Ge),w.array.next({values:{...Ge}}),w.values.next({values:{...Ge}})}u={mount:ce.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!y.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,l.watch=!!e.shouldUnregister,w.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:De?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!Ua(ae,s)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:De?{}:ce.keepDirtyValues?ce.keepDefaultValues&&o?Md(s,o):r.dirtyFields:ce.keepDefaultValues&&ae?Md(s,ae):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},er=(ae,ce)=>qt(go(ae)?ae(o):ae,ce);return{control:{register:yt,unregister:mt,getFieldState:Se,handleSubmit:gt,setError:at,_executeSchema:ie,_getWatch:Y,_getDirty:se,_updateValid:A,_removeUnmounted:M,_updateFieldArray:F,_updateDisabledField:ft,_getFieldArray:me,_reset:qt,_resetDefaultValues:()=>go(e.defaultValues)&&e.defaultValues().then(ae=>{er(ae,e.resetOptions),w.state.next({isLoading:!1})}),_updateFormState:ae=>{r={...r,...ae}},_disableForm:vt,_subjects:w,_proxyFormState:y,_setErrors:H,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(ae){l=ae},get _defaultValues(){return s},get _names(){return u},set _names(ae){u=ae},get _formState(){return r},set _formState(ae){r=ae},get _options(){return e},set _options(ae){e={...e,...ae}}},trigger:Ee,register:yt,handleSubmit:gt,watch:dt,setValue:je,getValues:Q,reset:er,resetField:Ot,clearErrors:lt,unregister:mt,setError:at,setFocus:(ae,ce={})=>{const ye=pt(n,ae),Oe=ye&&ye._f;if(Oe){const De=Oe.refs?Oe.refs[0]:Oe.ref;De.focus&&(De.focus(),ce.shouldSelect&&go(De.select)&&De.select())}},getFieldState:Se}}function to(t={}){const e=Tr.useRef(void 0),r=Tr.useRef(void 0),[n,s]=Tr.useState({isDirty:!1,isValidating:!1,isLoading:go(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:go(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...dU(t),formState:n});const o=e.current.control;return o._options=t,Z0({subject:o._subjects.state,next:l=>{qO(l,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),Tr.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Tr.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),Tr.useEffect(()=>{t.values&&!Ua(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,s(l=>({...l}))):o._resetDefaultValues()},[t.values,o]),Tr.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),Tr.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Tr.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=CO(n,o),e.current}const aI=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},MO=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?aI(n.ref,r,t):n.refs&&n.refs.forEach(s=>aI(s,r,t))}},fU=(t,e)=>{e.shouldUseNativeValidation&&MO(t,e);const r={};for(const n in t){const s=pt(e.fields,n),o=Object.assign(t[n]||{},{ref:s&&s.ref});if(hU(e.names||Object.keys(t),n)){const l=Object.assign({},pt(r,n));Ir(l,"root",o),Ir(r,n,l)}else Ir(r,n,o)}return r},hU=(t,e)=>t.some(r=>r.startsWith(e+"."));var pU=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,o=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[l]={message:u.message,type:u.code}}else r[l]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(y){return y.errors.forEach(function(w){return t.push(w)})}),e){var d=r[l].types,m=d&&d[n.code];r[l]=RO(l,e,r,s,m?[].concat(m,n.message):n.message)}t.shift()}return r},ro=function(t,e,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(l,u){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return o.shouldUseNativeValidation&&MO({},o),{errors:{},values:r.raw?n:m}})}catch(m){return u(m)}return d&&d.then?d.then(void 0,u):d}(0,function(l){if(function(u){return Array.isArray(u?.errors)}(l))return{values:{},errors:fU(pU(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}}};const mU=async({tx:t,userId:e})=>{const r=[{resource:"Wood",amount:100},{resource:"Stone",amount:150},{resource:"Storage - Blueprint",amount:1},{resource:"House - Blueprint",amount:10},{resource:"Castle - Blueprint",amount:1}];for await(const n of r){const s={userId:e,resourceId:(await Fi.fetchOrThrow$({tx:t,where:{name:n.resource},error:`Cannot find resource [${n.resource}]`})).id,amount:n.amount};await si.create$({tx:t,shape:s,entity:s})}},BO=zi({entity:Bi.merge(ue.object({name:ue.string().min(1),login:ue.string().min(1),password:ue.string().min(1)})),shape:ue.object({name:ue.string().min(1),login:ue.string().min(1),password:ue.string().min(1)}),filter:$i.merge(ue.object({login:ue.string().optional(),password:ue.string().optional()})),sort:["name","login"]}),cy=Wi({name:"UserSource",schema:BO,db:nn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("User as u").selectAll("u");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("u.id","like",m),y("u.name","like",m),y("u.login","like",m)]))},u=d=>{d?.id&&(o=o.where("u.id","=",d.id)),d?.password&&(o=o.where("u.password","=",d.password)),d?.login&&(o=o.where("u.login","=",d.login)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("User")},patch$({tx:t}){return t.updateTable("User")},delete$({tx:t}){return t.deleteFrom("User")},map:{async toCreate({entity:{password:t,...e}}){return{...e,password:t?qq.hash(t):void 0}}}}),gU=()=>ko({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:r}){return nn.transaction().execute(async n=>{const s=iy.parse(await cy.create$({tx:n,shape:{name:e,login:t,password:r},entity:{name:e,login:t,password:r}}));try{await mU({tx:n,userId:s.id})}catch(o){console.error(o)}return s})}}),yU=ue.object({name:ue.string().min(1),login:ue.string().min(1),password1:ue.string().min(1),password2:ue.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),vU=({onSuccess:t})=>{const e=gU(),r=to({resolver:ro(yU)}),n=Xs({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return g.jsxs("form",{className:n.base(),onSubmit:r.handleSubmit(async s=>e.mutateAsync(s,{onSuccess:t,onError:o=>{s0({error:o,errors:[Xw({error:o,schema:i0,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[g.jsx(Cs,{variant:{highlight:!0},error:r.formState.errors.root}),g.jsx(Lr,{formState:r.formState,name:"name",label:g.jsx(U,{label:"Name (label)"}),children:g.jsx("input",{type:"text",className:n.input(),...r.register("name")})}),g.jsx(Lr,{formState:r.formState,name:"login",label:g.jsx(U,{label:"Login (label)"}),children:g.jsx("input",{type:"text",className:n.input(),...r.register("login")})}),g.jsx(Lr,{formState:r.formState,name:"password1",label:g.jsx(U,{label:"Password 1 (label)"}),children:g.jsx("input",{type:"password",className:n.input(),...r.register("password1")})}),g.jsx(Lr,{formState:r.formState,name:"password2",label:g.jsx(U,{label:"Password 2 (label)"}),children:g.jsx("input",{type:"password",className:n.input(),...r.register("password2")})}),g.jsx(wn,{type:"submit",children:g.jsx(U,{label:"Register (submit)"})})]})},_U=ir("/$locale/apps/derivean/public/register")({component:()=>{const t=Bw();return g.jsx("div",{className:t0(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:g.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[g.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),g.jsx(vU,{onSuccess:async e=>{hh.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),bU=ir("/$locale/apps/derivean/public/logout")({pendingComponent(){return g.jsx("div",{className:t0(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:g.jsx(yO,{icon:$0,textTitle:g.jsx(U,{label:"Logout (label)"}),textMessage:g.jsx(U,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw hh.remove("session"),bg({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),wU=()=>ko({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return nn.transaction().execute(async r=>{const n=await cy.fetchOrThrow$({tx:r,where:{login:t,password:qq.hash(e)},error:"Invalid login or password"});return{id:n.id,login:n.login,name:n.name}})}}),xU=ue.object({login:ue.string().min(1),password:ue.string().min(1)}),SU=({onSuccess:t})=>{const{locale:e}=tn({from:"/$locale"}),r=wU(),n=to({resolver:ro(xU)}),s=Xs({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return g.jsxs("form",{className:s.base(),onSubmit:n.handleSubmit(async o=>r.mutateAsync(o,{onSuccess:t,onError:l=>{s0({error:l,errors:[Xw({error:l,schema:i0,onError:({data:u})=>{n.setError("root",{message:u.message})}})],onError:u=>{n.setError("root",{message:u.message})}})}}).catch(()=>{})),children:[g.jsx(Cs,{variant:{highlight:!0},error:n.formState.errors.root}),g.jsx(Lr,{formState:n.formState,name:"login",label:g.jsx(U,{label:"Login (label)"}),children:g.jsx("input",{type:"text",className:s.input(),...n.register("login")})}),g.jsx(Lr,{formState:n.formState,name:"password",label:g.jsx(U,{label:"Password (label)"}),children:g.jsx("input",{type:"password",className:s.input(),...n.register("password")})}),g.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[g.jsx(vn,{to:"/$locale/apps/derivean/public/register",params:{locale:e},children:g.jsx(U,{label:"Register (link)"})}),g.jsx(wn,{type:"submit",children:g.jsx(U,{label:"Login (submit)"})})]})]})},NU=ir("/$locale/apps/derivean/public/login")({component:()=>{const t=Bw();return g.jsx("div",{className:t0(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:g.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[g.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),g.jsx(SU,{onSuccess:async e=>{hh.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),lI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(sy.shape),defaultValues:{sort:0,...e}}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"code",label:g.jsx(U,{label:"Tag code (label)"}),required:!0,children:g.jsx("input",{type:"text",className:d.input(),...l.register("code")})}),g.jsx(Lr,{formState:l.formState,name:"label",label:g.jsx(U,{label:"Resource description (label)"}),required:!0,children:g.jsx("input",{type:"text",className:d.input(),...l.register("label")})}),g.jsx(Lr,{formState:l.formState,name:"group",label:g.jsx(U,{label:"Tag group (label)"}),children:g.jsx("input",{type:"text",className:d.input(),...l.register("group")})}),g.jsx(Lr,{formState:l.formState,name:"sort",label:g.jsx(U,{label:"Tag sort (label)"}),children:g.jsx("input",{type:"number",className:d.input(),...l.register("sort")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:hg,type:"submit",children:g.jsx(U,{label:"Save tag (submit)"})})})]})},Ib=ui(),EU=[Ib({name:"code",header(){return g.jsx(U,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),Ib({name:"label",header(){return g.jsx(U,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),Ib({name:"group",header(){return g.jsx(U,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],$O=({group:t,table:e,...r})=>{const n=qs({sources:[Ql,Fi,df]});return g.jsx(ai,{table:li({...e,columns:EU}),action:{table(){return g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create tag (menu)"}),textTitle:g.jsx(U,{label:"Create tag (modal)"}),icon:hg,children:g.jsx(lI,{defaultValues:{group:t},mutation:ua({source:Ql,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving tag (label)"}),success:g.jsx(U,{label:"Tag successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return g.jsxs(qn,{children:[g.jsx(Dr,{label:g.jsx(U,{label:"Edit tag (menu)"}),textTitle:g.jsx(U,{label:"Edit tag (modal)"}),icon:hg,children:g.jsx(lI,{defaultValues:{group:t,...s},mutation:qo({source:Ql,async wrap(o){return pr.promise(o(),{loading:g.jsx(U,{label:"Saving tag (label)"}),success:g.jsx(U,{label:"Tag successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save tag (label)"})})},async toPatch({shape:o}){return{entity:o,filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete tag (label)"}),textTitle:g.jsx(U,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:Ql,textContent:g.jsx(U,{label:"Tag delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},kU=({group:t,...e})=>g.jsx(cz,{table:r=>g.jsx($O,{group:t,...r}),render:({entities:r})=>g.jsx(vO,{tags:r}),source:Ql,useListQuery:({where:r,...n})=>z0({...n,where:{...r,group:t}}),...e}),uI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(ca.shape),defaultValues:e}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"name",label:g.jsx(U,{label:"Resource name (label)"}),children:g.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),g.jsx(Lr,{formState:l.formState,name:"tagIds",label:g.jsx(U,{label:"Resource tags (label)"}),children:g.jsx(cl,{control:l.control,name:"tagIds",render:({field:{ref:m,...y}})=>g.jsx(kU,{icon:Or,group:"resource",titleText:g.jsx(U,{label:"Select resource tags (title)"}),allowEmpty:!0,...y})})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:Or,type:"submit",children:g.jsx(U,{label:"Save resource (submit)"})})})]})},cI=ui(),IU=[cI({name:"name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:r,id:t.id},children:e})},size:18}),cI({name:"tags",header(){return g.jsx(U,{label:"Resource tags (label)"})},render({value:t}){return g.jsx(vO,{tags:t})},size:32})],WO=({table:t,...e})=>{const r=qs({sources:[Fi,df]});return g.jsx(ai,{table:li({...t,columns:IU}),action:{table(){return g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create resource (menu)"}),textTitle:g.jsx(U,{label:"Create resource (modal)"}),icon:Or,children:g.jsx(uI,{mutation:ua({source:Fi,async wrap(n){return pr.promise(n(),{loading:g.jsx(U,{label:"Saving resource (label)"}),success:g.jsx(U,{label:"Resource successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return g.jsxs(qn,{children:[g.jsx(Dr,{label:g.jsx(U,{label:"Edit resource (menu)"}),textTitle:g.jsx(U,{label:"Edit resource (modal)"}),icon:Or,children:g.jsx(uI,{defaultValues:n,mutation:qo({source:Fi,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving resource (label)"}),success:g.jsx(U,{label:"Resource successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{await r(),s?.close()}})}),g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete resource (label)"}),textTitle:g.jsx(U,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:Fi,textContent:g.jsx(U,{label:"Resource delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},mh=t=>g.jsx(mO,{icon:Or,titleText:g.jsx(U,{label:"Select resource (title)"}),table:WO,render:({entity:e})=>e.name,source:Fi,useListQuery:z0,...t}),dI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(ly.shape),defaultValues:e}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"resourceId",label:g.jsx(U,{label:"Resource name (label)"}),children:g.jsx(cl,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>g.jsx(mh,{icon:Or,titleText:g.jsx(U,{label:"Select resource (title)"}),allowEmpty:!0,...y})})}),g.jsx(Lr,{formState:l.formState,name:"amount",label:g.jsx(U,{label:"Amount (label)"}),children:g.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:zf,type:"submit",children:g.jsx(U,{label:"Save inventory item (submit)"})})})]})},fI=ui(),CU=[fI({name:"resource.name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),fI({name:"amount",header(){return g.jsx(U,{label:"Amount (label)"})},render({value:t}){return gn({number:t})},size:18})],zO=({userId:t,table:e,...r})=>{const n=qs({sources:[si]});return g.jsx(ai,{table:li({...e,columns:CU}),action:{table:t?()=>g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create inventory item (menu)"}),textTitle:g.jsx(U,{label:"Create inventory item (modal)"}),icon:zf,children:g.jsx(dI,{mutation:ua({source:si,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving inventory item (label)"}),success:g.jsx(U,{label:"Inventory item successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save inventory item (label)"})})},async toCreate({shape:s}){return{entity:{...s,userId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})}):void 0,row({data:s}){return g.jsxs(qn,{children:[t?g.jsx(Dr,{label:g.jsx(U,{label:"Edit inventory item (menu)"}),textTitle:g.jsx(U,{label:"Edit inventory item (modal)"}),icon:zf,children:g.jsx(dI,{defaultValues:s,mutation:qo({source:si,async wrap(o){return pr.promise(o(),{loading:g.jsx(U,{label:"Saving inventory item (label)"}),success:g.jsx(U,{label:"Inventory item successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save inventory item (label)"})})},async toPatch(){return{filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}):null,g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete inventory item (label)"}),textTitle:g.jsx(U,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:si,textContent:g.jsx(U,{label:"Inventory item delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},mm=ir("/$locale/apps/derivean/game/inventory/")({validateSearch:An(Pn(ly)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const o=await r();return e.transaction().execute(l=>Sn({tx:l,queryClient:t,source:si,filter:n,cursor:s,where:{userId:o.id}}))},component(){const{data:t,count:e}=mm.useLoaderData(),{filter:r,cursor:n,selection:s}=mm.useSearch(),o=mm.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsx("div",{className:u.base(),children:g.jsx(zO,{table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),qU=({entity:t,...e})=>{const{locale:r}=tn({from:"/$locale"});return g.jsxs(Wc,{...e,children:[g.jsx(Hr,{icon:W0,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:g.jsx(U,{label:"View detail (menu)"})}),g.jsx(Hr,{icon:Zs,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Building list (menu)"})}),g.jsx(Hr,{icon:Or,to:"/$locale/apps/derivean/root/user/$id/building/resource/list",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Building resource list (label)"})}),g.jsx(Hr,{icon:zf,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Inventory (label)"})})]})},TU=t=>{const{locale:e}=tn({from:"/$locale"});return g.jsx(ry,{title:({entity:r})=>g.jsx(ny,{icon:W0,title:r.name}),actions:()=>g.jsx(g.Fragment,{children:g.jsx(vn,{icon:Xg,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:g.jsx(U,{label:"User list (label)"})})}),...t})},UO=ir("/$locale/apps/derivean/root/user/$id")({async loader({context:{queryClient:t},params:{id:e}}){return nn.transaction().execute(async r=>({entity:await U0({tx:r,queryClient:t,source:cy,where:{id:e}})}))},component(){const{tva:t}=rn({from:"__root__"}),{entity:e}=UO.useLoaderData(),r=t().slots;return g.jsxs("div",{className:r.base(),children:[g.jsx(TU,{entity:e}),g.jsx(qU,{entity:e}),g.jsx(aa,{})]})}}),OU=ir("/$locale/apps/derivean/root/resource/$id")({component:()=>g.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),RU=({entity:t,...e})=>{const{locale:r}=tn({from:"/$locale"});return g.jsxs(Wc,{...e,children:[g.jsx(Hr,{icon:Zs,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Building detail (label)"})}),g.jsx(Hr,{icon:Or,to:"/$locale/apps/derivean/root/building/$id/resource/list",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Building resource list (label)"})})]})},AU=t=>{const{locale:e}=tn({from:"/$locale"});return g.jsx(ry,{title:({entity:r})=>g.jsx(ny,{icon:Zs,title:r.baseBuilding.name}),actions:()=>g.jsx(g.Fragment,{children:g.jsx(vn,{icon:Xg,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:g.jsx(U,{label:"Building list (label)"})})}),...t})},VO=ir("/$locale/apps/derivean/root/building/$id")({async loader({context:{kysely:t,queryClient:e},params:{id:r}}){return t.transaction().execute(async n=>({entity:await U0({tx:n,queryClient:e,source:bi,where:{id:r}})}))},component(){const{tva:t}=rn({from:"__root__"}),{entity:e}=VO.useLoaderData(),r=t().slots;return g.jsxs("div",{className:r.base(),children:[g.jsx(AU,{entity:e}),g.jsx(RU,{entity:e}),g.jsx(aa,{})]})}}),vg="icon-[fluent-mdl2--production-floor-management]",PU=({entity:t,...e})=>{const{locale:r}=tn({from:"/$locale"});return g.jsxs(Wc,{...e,children:[g.jsx(Hr,{icon:Zs,to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:r,id:t.id},children:g.jsx(U,{label:"View detail (menu)"})}),g.jsx(Hr,{icon:vg,to:"/$locale/apps/derivean/game/building/$id/production",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Building production (menu)"})}),g.jsx(Hr,{icon:SO,to:"/$locale/apps/derivean/game/building/$id/production/queue",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Building production queue (menu)"})}),g.jsx(Hr,{icon:Or,to:"/$locale/apps/derivean/game/building/$id/resource/list",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Building resource list (label)"})})]})},jU=t=>{const{locale:e}=tn({from:"/$locale"});return g.jsx(ry,{title:({entity:r})=>g.jsx(ny,{icon:Zs,title:r.baseBuilding.name}),actions:()=>g.jsx(g.Fragment,{children:g.jsx(vn,{icon:Xg,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:g.jsx(U,{label:"Building list (label)"})})}),...t})},HO=ir("/$locale/apps/derivean/game/building/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async r=>({entity:await bi.getOrThrow$({tx:r,id:e,error:"Cannot find a building"})}))},component(){const{tva:t}=rn({from:"__root__"}),{entity:e}=HO.useLoaderData(),r=t().slots;return g.jsxs("div",{className:r.base(),children:[g.jsx(jU,{entity:e}),g.jsx(PU,{entity:e}),g.jsx(aa,{})]})}}),hI=ui(),FU=[hI({name:"name",header(){return g.jsx(U,{label:"User name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:e})},size:14}),hI({name:"login",header(){return g.jsx(U,{label:"User login (label)"})},render({value:t}){return t},size:14})],LU=({table:t,...e})=>g.jsx(ai,{table:li({...t,columns:FU}),...e}),gm=ir("/$locale/apps/derivean/root/user/list/")({validateSearch:An(Pn(BO)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(s=>Sn({tx:s,queryClient:t,source:cy,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=gm.useLoaderData(),{filter:r,cursor:n,selection:s}=gm.useSearch(),o=gm.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsx("div",{className:u.base(),children:g.jsx(LU,{table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),ym=ir("/$locale/apps/derivean/root/tag/list/")({validateSearch:An(Pn(sy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>Sn({tx:s,queryClient:t,source:Ql,filter:r,cursor:n,sort:[{name:"sort",sort:"asc"},{name:"group",sort:"asc"},{name:"label",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=ym.useLoaderData(),{filter:r,cursor:n,selection:s}=ym.useSearch(),o=ym.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsx("div",{className:u.base(),children:g.jsx($O,{table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),vm=ir("/$locale/apps/derivean/root/resource/list/")({validateSearch:An(Pn(ca)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(s=>Sn({tx:s,queryClient:t,source:Fi,filter:r,cursor:n,sort:[{name:"name",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=vm.useLoaderData(),{filter:r,cursor:n,selection:s}=vm.useSearch(),o=vm.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsx("div",{className:u.base(),children:g.jsx(WO,{table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),DU=ir("/$locale/apps/derivean/root/building/list/")({component:()=>g.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),MU=ui(),BU=[MU({name:"baseBuilding.name",header(){return g.jsx(U,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],$U=({table:t,...e})=>g.jsx(ai,{table:li({...t,columns:BU}),...e}),_m=ir("/$locale/apps/derivean/game/building/list/")({validateSearch:An(Pn(Uc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const o=await r();return e.transaction().execute(async l=>Sn({tx:l,queryClient:t,source:bi,where:{userId:o.id},filter:n,cursor:s}))},component:()=>{const{data:t,count:e}=_m.useLoaderData(),{filter:r,cursor:n}=_m.useSearch(),s=_m.useNavigate(),{tva:o}=rn({from:"__root__"}),l=o().slots;return g.jsx("div",{className:l.base(),children:g.jsx($U,{table:{data:t,filter:{value:r,set:On(s)}},fulltext:{value:r?.fulltext,set:Rn(s)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(s)}})})}}),Tw="icon-[vaadin--storage]",WU=({entity:t,...e})=>{const{locale:r}=tn({from:"/$locale"});return g.jsxs(Wc,{...e,children:[g.jsx(Hr,{icon:oa,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:g.jsx(U,{label:"View detail (menu)"})}),g.jsx(Hr,{icon:Or,to:"/$locale/apps/derivean/root/building/base/$id/requirement/list",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Base building resource requirement (menu)"})}),g.jsx(Hr,{icon:Tw,to:"/$locale/apps/derivean/root/building/base/$id/limit/list",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Base building limit list (menu)"})}),g.jsx(Hr,{icon:vg,to:"/$locale/apps/derivean/root/building/base/$id/production",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Base building production (menu)"})}),g.jsx(Hr,{icon:D6,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:r,id:t.id},children:g.jsx(U,{label:"Base building edit (menu)"})})]})},zU=t=>{const{locale:e}=tn({from:"/$locale"});return g.jsx(ry,{title:({entity:r})=>g.jsx(ny,{icon:oa,title:r.name}),actions:()=>g.jsx(vn,{icon:Xg,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:g.jsx(U,{label:"Base building list (label)"})}),...t})},QO=ir("/$locale/apps/derivean/root/building/base/$id")({async loader({context:{queryClient:t},params:{id:e}}){return nn.transaction().execute(async r=>({entity:await U0({tx:r,queryClient:t,source:ii,where:{id:e}})}))},component(){const{tva:t}=rn({from:"__root__"}),{entity:e}=QO.useLoaderData(),r=t().slots;return g.jsxs("div",{className:r.base(),children:[g.jsx(zU,{entity:e}),g.jsx(WU,{entity:e}),g.jsx(aa,{})]})}}),UU=ir("/$locale/apps/derivean/root/user/$id/view/")({component:()=>"yep"}),Hd=ir("/$locale/apps/derivean/root/user/$id/inventory/")({validateSearch:An(Pn(ly)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(l=>Sn({tx:l,queryClient:t,source:si,filter:r,cursor:n,where:{userId:o},sort:s||[{name:"resource",sort:"asc"},{name:"amount",sort:"desc"}]}))},component(){const{data:t,count:e}=Hd.useLoaderData(),{filter:r,cursor:n,selection:s}=Hd.useSearch(),o=Hd.useNavigate(),{id:l}=Hd.useParams(),{tva:u}=rn({from:"__root__"}),d=u().slots;return g.jsx("div",{className:d.base(),children:g.jsx(zO,{userId:l,table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),VU=ir("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>g.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),Ow=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(zc.shape),defaultValues:{cycles:1,...e}}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"name",label:g.jsx(U,{label:"Base building name (label)"}),required:!0,children:g.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),g.jsx(Lr,{formState:l.formState,name:"cycles",label:g.jsx(U,{label:"Base building cycles (label)"}),hint:g.jsx(U,{label:"Base building cycles (hint)"}),required:!0,children:g.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:oa,type:"submit",children:g.jsx(U,{label:"Save base building (submit)"})})})]})},pI=ui(),HU=[pI({name:"name",header(){return g.jsx(U,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:e})},size:10}),pI({name:"cycles",header(){return g.jsx(U,{label:"Base building cycles (label)"})},render({value:t}){return gn({number:t})},size:14})],KO=({table:t,...e})=>{const r=qs({sources:[ii]});return g.jsx(ai,{table:li({...t,columns:HU}),action:{table(){return g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create base building (menu)"}),textTitle:g.jsx(U,{label:"Create base building (modal)"}),icon:oa,children:g.jsx(Ow,{mutation:ua({source:ii,async wrap(n){return pr.promise(n(),{loading:g.jsx(U,{label:"Saving base building (label)"}),success:g.jsx(U,{label:"Base building successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return g.jsxs(qn,{children:[g.jsx(Dr,{label:g.jsx(U,{label:"Edit base building (menu)"}),textTitle:g.jsx(U,{label:"Edit base building (modal)"}),icon:oa,children:g.jsx(Ow,{defaultValues:n,mutation:qo({source:ii,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving base building (label)"}),success:g.jsx(U,{label:"Base building successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{await r(),s?.close()}})}),g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete base building (label)"}),textTitle:g.jsx(U,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:ii,textContent:g.jsx(U,{label:"Base building delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},bm=ir("/$locale/apps/derivean/root/building/base/list/")({validateSearch:An(Pn(zc)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s}}){return e.transaction().execute(async o=>Sn({tx:o,queryClient:t,source:ii,filter:r,cursor:n,sort:s||[{name:"name",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=bm.useLoaderData(),{filter:r,cursor:n,selection:s}=bm.useSearch(),o=bm.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsx("div",{className:u.base(),children:g.jsx(KO,{table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),QU=t=>g.jsx(NT,{items:[{id:"name",label:g.jsx(U,{label:"Building name (label)"}),render({entity:e}){return e.baseBuilding.name}}],...t}),KU=ir("/$locale/apps/derivean/root/building/$id/view/")({component(){const{entity:t}=fl({from:"/$locale/apps/derivean/root/building/$id"});return g.jsx("div",{className:"w-1/2 mx-auto",children:g.jsx(QU,{entity:t})})}}),GO=({icon:t,title:e,amount:r})=>g.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t?Xf(t)?g.jsx(br,{icon:t,css:{base:["text-slate-500"]}}):t:null,g.jsx("div",{className:"text-slate-500",children:e}),g.jsx("div",{className:"font-bold text-slate-700",children:gn({number:r.map(({amount:n})=>n).reduce((n,s)=>n+s,0)})})]}),GU=()=>{const t=qs({sources:[vi,si]});return ko({mutationKey:["useResourcePickupMutation"],async mutationFn({buildingId:e}){return pr.promise(nn.transaction().execute(async r=>{const n=await bi.getOrThrow$({tx:r,id:e}),s=await vi.list$({tx:r,where:{buildingId:e}});for await(const o of s){try{await si.create$({tx:r,shape:{amount:o.amount,resourceId:o.resourceId},entity:{amount:o.amount,resourceId:o.resourceId,userId:n.userId}})}catch{const u=await si.fetchOrThrow$({tx:r,where:{userId:n.userId,resourceId:o.resourceId}});await si.patch$({tx:r,filter:{id:u.id},shape:{},entity:{amount:u.amount+o.amount}})}await vi.delete$({tx:r,where:{id:o.id}})}}),{loading:xr.text("Transferring resources... (label)"),success:xr.text("Resources transferred successfully (label)"),error:xr.text("Failed to transfer resources (label)")})},async onSuccess(){await t()}})},JU=({source:t,resourceId:e,fallback:r=void 0})=>{const n=t.find(s=>s.resourceId===e);return n===void 0?r:n.limit},JO=({limits:t,resourceId:e,amount:r})=>{const n=JU({source:t,resourceId:e});return g.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[g.jsx("div",{className:"",children:gn({number:r})}),n===void 0?null:g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-slate-500",children:"/"}),g.jsx("div",{className:"font-light text-slate-500",children:n})]})]})},Cb=ui(),ZU=[Cb({name:"building.baseBuilding.name",header(){return g.jsx(U,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/game/building/$id/resource/list",params:{locale:r,id:t.buildingId},children:e})},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),Cb({name:"resource.name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/game/inventory",params:{locale:r},search:{filter:{resourceId:t.resourceId}},children:e})},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),Cb({name:"amount",header(){return g.jsx(U,{label:"Amount (label)"})},render({data:t,value:e}){return g.jsx(JO,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],ZO=({buildingId:t,table:e,...r})=>g.jsx(ai,{table:li({...e,hidden:t?["building.baseBuilding.name"]:[],columns:ZU}),action:{table:t?()=>{const n=GU();return g.jsx(qn,{children:g.jsx(fB,{icon:Or,onClick:()=>{n.mutate({buildingId:t})},children:g.jsx(U,{label:"Pickup resources (label)"})})})}:void 0,row({data:n}){return g.jsx(qn,{children:g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete resource item (label)"}),textTitle:g.jsx(U,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:vi,textContent:g.jsx(U,{label:"Resource item delete user (content)"}),filter:{id:n.id}})})})}},...r}),wm=ir("/$locale/apps/derivean/game/building/resource/list/")({validateSearch:An(Pn(Vc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const o=await r();return e.transaction().execute(async l=>Sn({tx:l,queryClient:t,source:vi,filter:n,cursor:s,where:{userId:o.id}}))},component(){const{data:t,count:e}=wm.useLoaderData(),{filter:r,cursor:n,selection:s}=wm.useSearch(),o=wm.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsxs("div",{className:u.base(),children:[g.jsx(GO,{icon:Or,title:g.jsx(U,{label:"Resource sum (label)"}),amount:t}),g.jsx(ZO,{table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})]})}}),YU=({baseBuildingId:t,userId:e})=>Lw({queryKey:["useBuildingCount",t,e],async queryFn(){return nn.transaction().execute(async r=>{const{filter:n}=await bi.count$({tx:r,filter:{baseBuildingId:t,userId:e}}),{filter:s}=await Zo.count$({tx:r,filter:{baseBuildingId:t,userId:e}});return{count:n,queue:s,total:n+s}})}}),Uf=({inventory:t,requirements:e})=>{const r=[];for(const n of e){const s=t.find(o=>o.resourceId===n.resourceId);s?s.amount<n.amount&&r.push({...n,amount:n.amount-s.amount}):r.push(n)}return r.length?{check:!1,missing:r}:{check:!0,missing:r}},XU=async({tx:t,userId:e,baseBuildingId:r,bypass:n=!1})=>{const s=await ii.getOrThrow$({tx:t,id:r});if(!n&&!Uf({requirements:s.requirements,inventory:await si.list$({tx:t,where:{userId:e}})}).check)throw new Error(xr.text("Not enough resources to construct the building."));for await(const u of s.requirements){if(u.passive)continue;const d=await si.fetchOrThrow$({tx:t,where:{userId:e,resourceId:u.resourceId}});await si.patch$({tx:t,entity:{amount:d.amount-u.amount},shape:{amount:d.amount-u.amount},where:{userId:e,resourceId:u.resourceId}})}const{filter:o}=await Hl.count$({tx:t,where:{userId:e}}),l={userId:e,baseBuildingId:s.id,start:o,current:0,finish:o+s.cycles};await Zo.create$({tx:t,shape:l,entity:l})},eV=({userId:t})=>{const e=qs({sources:[Zo,bi,ii,si],queries:[["useBuildingCount"]]});return ko({mutationKey:["useConstructMutation"],async mutationFn({baseBuildingId:r}){return nn.transaction().execute(async n=>pr.promise(XU({tx:n,baseBuildingId:r,userId:t}),{success:xr.text("Building queued."),error:xr.text("Failed to queue building."),loading:xr.text("Queuing building...")}))},async onSuccess(){await e()}})},tV=fr({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),ex=({resources:t,diff:e,variant:r,tva:n=tV,css:s,...o})=>{const l=n({...r,css:s}).slots;return g.jsx(az,{items:t,render:({entity:u})=>{const d=e?.find(m=>m.resourceId===u.resourceId);return g.jsxs("div",{className:l.item({passive:u.passive}),children:[g.jsx("div",{children:u.resource.name}),g.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",gn({number:u.amount})]}),d?g.jsx(g.Fragment,{children:d.amount>0?g.jsxs("div",{className:"text-sm text-red-500",children:["(-",gn({number:d.amount}),")"]}):g.jsx(br,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}})}):e?g.jsx(br,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):null]})},...o})},qb=ui(),rV=[qb({name:"name",header(){return g.jsx(U,{label:"Base building name (label)"})},render({data:t,value:e,context:{inventory:r,userId:n}}){const s=eV({userId:n}),o=YU({baseBuildingId:t.id,userId:n}),{check:l}=Uf({inventory:r,requirements:t.requirements}),u=l;return g.jsx(wn,{iconEnabled:Zs,iconDisabled:Zs,variant:{variant:!u||o.isLoading?"subtle":"primary"},onClick:()=>{s.mutate({baseBuildingId:t.id})},disabled:!u,loading:s.isPending||o.isLoading,css:{base:["w-full"]},children:e})},size:10}),qb({name:"cycles",header(){return g.jsx(U,{label:"Base building cycles (label)"})},render({value:t}){return gn({number:t})},size:14}),qb({name:"requirements",header(){return g.jsx(U,{label:"Required resources (label)"})},render({value:t,context:{inventory:e}}){const{missing:r}=Uf({inventory:e,requirements:t});return g.jsx(ex,{textTitle:g.jsx(U,{label:"Building requirements (title)"}),resources:t,diff:r,limit:5})},size:72})],nV=({userId:t,inventory:e,table:r,...n})=>g.jsx(ai,{table:li({...r,columns:rV,context:{userId:t,inventory:e}}),...n}),xm=ir("/$locale/apps/derivean/game/building/base/list/")({validateSearch:An(Pn(zc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>Sn({tx:s,queryClient:t,source:ii,filter:r,cursor:n}))},component(){const{data:t,count:e}=xm.useLoaderData(),{filter:r,cursor:n}=xm.useSearch(),s=xm.useNavigate(),{tva:o}=rn({from:"__root__"}),l=o().slots,{inventory:u,session:d}=fl({from:"/$locale/apps/derivean/game"});return g.jsx("div",{className:l.base(),children:g.jsx(nV,{userId:d.id,inventory:u,table:{data:t,filter:{value:r,set:On(s)}},fulltext:{value:r?.fulltext,set:Rn(s)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(s)}})})}}),iV=ir("/$locale/apps/derivean/game/building/$id/view/")({component(){return"detail"}}),mI=Bi.merge(ue.object({baseBuildingId:ue.string().min(1),resourceId:ue.string().min(1),amount:ue.number().nonnegative(),cycles:ue.number().nonnegative(),limit:ue.number().nonnegative()})),dy=zi({entity:mI,output:mI.merge(ue.object({resource:ca.output,requirements:ue.array(ue.any())})),shape:ue.object({resourceId:ue.string().min(1),amount:ue.union([ue.number().positive(),ue.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:xr.text("Amount must be a number")})]),cycles:ue.union([ue.number().positive(),ue.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:xr.text("Cycles must be a number")})]),limit:ue.union([ue.number().positive(),ue.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:xr.text("Limit must be a number")})])}),filter:$i.merge(ue.object({baseBuildingId:ue.string().optional(),resourceId:ue.string().optional()})),sort:["name","resource"]}),Ha=Wi({name:"BaseBuildingProductionSource",schema:dy,db:nn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("BaseBuildingProduction as bbp").selectAll("bbp").leftJoin("BaseBuilding as bb","bb.id","bbp.baseBuildingId").leftJoin("Resource as r","r.id","bbp.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbp.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},u=d=>{d?.id&&(o=o.where("bbp.id","=",d.id)),d?.idIn&&(o=o.where("bbp.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("bbp.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("bbp.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("BaseBuildingProduction")},patch$({tx:t}){return t.updateTable("BaseBuildingProduction")},delete$({tx:t}){return t.deleteFrom("BaseBuildingProduction")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Fi.getOrThrow$({tx:t,id:e.resourceId}),requirements:[]}}}}),sV=()=>{const t=qs({sources:[Ha,mo]});return ko({mutationKey:["useProductionMutation"],async mutationFn({baseBuildingProductionId:e,buildingId:r,userId:n}){return pr.promise(nn.transaction().execute(async s=>{const o=await Ha.getOrThrow$({tx:s,id:e,error:"Cannot find base building production"}),{filter:l}=await Hl.count$({tx:s,where:{userId:n}}),u={baseBuildingProductionId:e,buildingId:r,amount:o.amount,resourceId:o.resourceId,start:l,current:0,finish:l+o.cycles};await mo.create$({tx:s,shape:u,entity:u})}),{loading:xr.text("Queuing production... (label)"),error:xr.text("Failed to queue production. (label)"),success:xr.text("Production queued. (label)")})},async onSuccess(){await t()}})},Up=ui(),oV=[Up({name:"resource.name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({data:t,value:e,context:{inventory:r,buildingId:n,userId:s}}){const o=sV(),{check:l}=Uf({inventory:r,requirements:t.requirements}),u=gO({source:mo,filter:{baseBuildingProductionId:t.id}}),d=l&&u.isSuccess?u.data.filter<t.limit:!1;return g.jsx(wn,{iconEnabled:vg,iconDisabled:vg,variant:{variant:d?"primary":"subtle"},onClick:()=>{o.mutate({baseBuildingProductionId:t.id,buildingId:n,userId:s})},disabled:!d,loading:o.isPending||u.isLoading,css:{base:["w-full"]},children:e})},size:18}),Up({name:"amount",header(){return g.jsx(U,{label:"Amount (label)"})},render({value:t}){return gn({number:t})},size:14}),Up({name:"cycles",header(){return g.jsx(U,{label:"Cycle count (label)"})},render({value:t}){return gn({number:t})},size:14}),Up({name:"requirements",header(){return g.jsx(U,{label:"Required resources (label)"})},render({value:t,context:{inventory:e}}){const{missing:r}=Uf({inventory:e,requirements:t});return g.jsx(ex,{textTitle:g.jsx(U,{label:"Resource requirements (title)"}),resources:t,diff:r,limit:5})}})],aV=({table:t,inventory:e,buildingId:r,userId:n,...s})=>g.jsx(ai,{table:li({...t,columns:oV,context:{inventory:e,buildingId:r,userId:n}}),...s}),Qd=ir("/$locale/apps/derivean/game/building/$id/production/")({validateSearch:An(Pn(dy)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>{const u=await bi.getOrThrow$({tx:l,id:o});return Sn({tx:l,queryClient:t,source:Ha,filter:r,cursor:n,sort:s,where:{baseBuildingId:u.baseBuildingId}})})},component(){const{data:t,count:e}=Qd.useLoaderData(),{filter:r,cursor:n}=Qd.useSearch(),{id:s}=Qd.useParams(),o=Qd.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots,{inventory:d,session:m}=fl({from:"/$locale/apps/derivean/game"});return g.jsx("div",{className:u.base(),children:g.jsx(aV,{buildingId:s,userId:m.id,inventory:d,table:{data:t,filter:{value:r,set:On(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),zu=ui(),lV=[zu({name:"building.baseBuilding.name",header(){return g.jsx(U,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/game/building/$id/production/queue",params:{locale:r,id:t.buildingId},children:e})},size:14}),zu({name:"resource.name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/game/inventory",params:{locale:r},search:{filter:{resourceId:t.resourceId}},children:e})},size:14}),zu({name:"amount",header(){return g.jsx(U,{label:"Amount (label)"})},render({value:t}){return gn({number:t})},size:12}),zu({name:"current",header(){return g.jsx(U,{label:"Cycle - current (label)"})},render({data:t,value:e}){return g.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[g.jsx("div",{className:"font-bold",children:gn({number:e})}),"/",g.jsx("div",{className:"text-sm text-slate-600",children:gn({number:t.finish-t.start})})]})},size:10}),zu({name:"start",header(){return g.jsx(U,{label:"Cycle - started (label)"})},render({value:t}){return gn({number:t})},size:10}),zu({name:"finish",header(){return g.jsx(U,{label:"Cycle - finish (label)"})},render({value:t}){return gn({number:t})},size:10})],YO=({table:t,...e})=>g.jsx(ai,{table:li({...t,columns:lV}),...e}),Sm=ir("/$locale/apps/derivean/game/building/$id/production/queue")({validateSearch:An(Pn(Q0)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s,sort:o},params:{id:l}}){const u=await r();return e.transaction().execute(async d=>Sn({tx:d,queryClient:t,source:mo,filter:n,cursor:s,sort:o,where:{userId:u.id,buildingId:l}}))},component(){const{data:t,count:e}=Sm.useLoaderData(),{filter:r,cursor:n}=Sm.useSearch(),s=Sm.useNavigate(),{tva:o}=rn({from:"__root__"}),l=o().slots;return g.jsx("div",{className:l.base(),children:g.jsx(YO,{table:{data:t,filter:{value:r,set:On(s)},hidden:["building.baseBuilding.name"]},fulltext:{value:r?.fulltext,set:Rn(s)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(s)}})})}}),uV=t=>g.jsx(mO,{icon:oa,titleText:g.jsx(U,{label:"Select base building (title)"}),table:KO,render:({entity:e})=>e.name,source:ii,useListQuery:z0,...t}),gI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(Uc.shape),defaultValues:e}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"baseBuildingId",label:g.jsx(U,{label:"Base building name (label)"}),children:g.jsx(cl,{control:l.control,name:"baseBuildingId",render:({field:{ref:m,...y}})=>g.jsx(uV,{icon:oa,titleText:g.jsx(U,{label:"Select base building (title)"}),allowEmpty:!0,...y})})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:Or,type:"submit",children:g.jsx(U,{label:"Save Building (submit)"})})})]})},cV=ui(),dV=[cV({name:"baseBuilding.name",header(){return g.jsx(U,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=tn({from:"/$locale"});return g.jsx(vn,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],fV=({userId:t,table:e,...r})=>g.jsx(ai,{table:li({...e,columns:dV}),action:{table(){return g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create building (menu)"}),textTitle:g.jsx(U,{label:"Create building (modal)"}),icon:Or,children:g.jsx(gI,{mutation:ua({source:bi,async wrap(n){return pr.promise(n(),{loading:g.jsx(U,{label:"Saving building (label)"}),success:g.jsx(U,{label:"Building successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save building (label)"})})},async toCreate({shape:n}){return{entity:{...n,userId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return g.jsxs(qn,{children:[g.jsx(Dr,{label:g.jsx(U,{label:"Edit building (menu)"}),textTitle:g.jsx(U,{label:"Edit building (modal)"}),icon:Zs,children:g.jsx(gI,{defaultValues:n,mutation:qo({source:bi,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving building (label)"}),success:g.jsx(U,{label:"Building successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete building (label)"}),textTitle:g.jsx(U,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:bi,textContent:g.jsx(U,{label:"Building delete (content)"}),filter:{id:n.id}})})]})}},...r}),Kd=ir("/$locale/apps/derivean/root/user/$id/building/list/")({validateSearch:An(Pn(Uc)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(l=>Sn({tx:l,queryClient:t,source:bi,filter:r,cursor:n,sort:s,where:{userId:o}}))},component(){const{data:t,count:e}=Kd.useLoaderData(),{filter:r,cursor:n,selection:s}=Kd.useSearch(),{id:o}=Kd.useParams(),l=Kd.useNavigate(),{tva:u}=rn({from:"__root__"}),d=u().slots;return g.jsx("div",{className:d.base(),children:g.jsx(fV,{userId:o,table:{data:t,filter:{value:r,set:On(l)},selection:{type:"multi",value:s,set:Vi(l)}},fulltext:{value:r?.fulltext,set:Rn(l)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(l)}})})}}),hV=t=>g.jsx(NT,{items:[{id:"name",label:g.jsx(U,{label:"Base building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:g.jsx(U,{label:"Base building cycles (label)"}),render({entity:e}){return e.cycles}},{id:"requirement.resources",label:g.jsx(U,{label:"Base building requirements (label)"}),render({entity:e}){return g.jsx(ex,{resources:e.requirements,limit:5})}}],...t}),pV=ir("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>{const{entity:t}=fl({from:"/$locale/apps/derivean/root/building/base/$id"});return g.jsx("div",{className:"w-1/2 mx-auto",children:g.jsx(hV,{entity:t})})}}),yI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(dy.shape),defaultValues:{amount:1,cycles:1,limit:1,...e}}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"resourceId",label:g.jsx(U,{label:"Resource name (label)"}),children:g.jsx(cl,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>g.jsx(mh,{...y})})}),g.jsx(Lr,{formState:l.formState,name:"amount",label:g.jsx(U,{label:"Amount (label)"}),children:g.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),g.jsx(Lr,{formState:l.formState,name:"limit",label:g.jsx(U,{label:"Production limit (label)"}),children:g.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),g.jsx(Lr,{formState:l.formState,name:"cycles",label:g.jsx(U,{label:"Cycle count (label)"}),hint:g.jsx(U,{label:"Cycle count (hint)"}),children:g.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:Or,type:"submit",children:g.jsx(U,{label:"Save resource production (submit)"})})})]})},Tb=ui(),mV=[Tb({name:"resource.name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),Tb({name:"amount",header(){return g.jsx(U,{label:"Amount (label)"})},render({value:t}){return gn({number:t})},size:14}),Tb({name:"cycles",header(){return g.jsx(U,{label:"Cycle count (label)"})},render({value:t}){return gn({number:t})},size:14})],gV=({baseBuildingId:t,table:e,...r})=>{const n=qs({sources:[ii,Ha]});return g.jsx(ai,{table:li({...e,columns:mV}),action:{table(){return g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create production resource (menu)"}),textTitle:g.jsx(U,{label:"Create production resource (modal)"}),icon:Or,children:g.jsx(yI,{mutation:ua({source:Ha,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving production resource (label)"}),success:g.jsx(U,{label:"Production resource successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save production resource (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return g.jsxs(qn,{children:[g.jsx(Dr,{label:g.jsx(U,{label:"Edit production resource (menu)"}),textTitle:g.jsx(U,{label:"Edit production resource (modal)"}),icon:Or,children:g.jsx(yI,{defaultValues:s,mutation:qo({source:Ha,async wrap(o){return pr.promise(o(),{loading:g.jsx(U,{label:"Saving production resource (label)"}),success:g.jsx(U,{label:"Production resource successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save production resource (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete production resource (label)"}),textTitle:g.jsx(U,{label:"Delete production resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:Ha,textContent:g.jsx(U,{label:"Production resource delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Gd=ir("/$locale/apps/derivean/root/building/base/$id/production/")({validateSearch:An(Pn(dy)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>Sn({tx:l,queryClient:t,source:Ha,filter:r,cursor:n,sort:s,where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=Gd.useLoaderData(),{filter:r,cursor:n,selection:s}=Gd.useSearch(),{id:o}=Gd.useParams(),l=Gd.useNavigate(),{tva:u}=rn({from:"__root__"}),d=u().slots;return g.jsx("div",{className:d.base(),children:g.jsx(gV,{baseBuildingId:o,table:{data:t,filter:{value:r,set:On(l)},selection:{type:"multi",value:s,set:Vi(l)}},fulltext:{value:r?.fulltext,set:Rn(l)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(l)}})})}}),XO=ir("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=fl({from:"/$locale/apps/derivean/root/building/base/$id"}),e=XO.useNavigate(),r=qs({sources:[ii]});return g.jsx("div",{className:"w-1/2 mx-auto",children:g.jsx(Ow,{defaultValues:t,mutation:qo({source:ii,async wrap(n){return pr.promise(n(),{loading:g.jsx(U,{label:"Saving base building (label)"}),success:g.jsx(U,{label:"Base building successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{await r(),e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),vI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(Vc.shape),defaultValues:e}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"resourceId",label:g.jsx(U,{label:"Resource name (label)"}),children:g.jsx(cl,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>g.jsx(mh,{icon:Or,titleText:g.jsx(U,{label:"Select resource (title)"}),allowEmpty:!0,...y})})}),g.jsx(Lr,{formState:l.formState,name:"amount",label:g.jsx(U,{label:"Amount (label)"}),children:g.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:Or,type:"submit",children:g.jsx(U,{label:"Save resources item (submit)"})})})]})},Ob=ui(),yV=[Ob({name:"building.baseBuilding.name",header(){return g.jsx(U,{label:"Building name (label)"})},render({value:t}){return t},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),Ob({name:"resource.name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),Ob({name:"amount",header(){return g.jsx(U,{label:"Amount (label)"})},render({data:t,value:e}){return g.jsx(JO,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],e3=({buildingId:t,table:e,...r})=>g.jsx(ai,{table:li({...e,columns:yV}),action:{table(){return g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create resource item (menu)"}),textTitle:g.jsx(U,{label:"Create resource item (modal)"}),icon:Or,hidden:!t,children:g.jsx(vI,{mutation:ua({source:vi,async wrap(n){return pr.promise(n(),{loading:g.jsx(U,{label:"Saving resource item (label)"}),success:g.jsx(U,{label:"Resource item successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save resource item (label)"})})},async toCreate({shape:n}){return{entity:{...n,buildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return g.jsxs(qn,{children:[g.jsx(Dr,{label:g.jsx(U,{label:"Edit resource item (menu)"}),textTitle:g.jsx(U,{label:"Edit resource item (modal)"}),icon:Or,children:g.jsx(vI,{defaultValues:n,mutation:qo({source:vi,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving resource item (label)"}),success:g.jsx(U,{label:"Resource item successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save resource item (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete resource item (label)"}),textTitle:g.jsx(U,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:vi,textContent:g.jsx(U,{label:"Resource item delete (content)"}),filter:{id:n.id}})})]})}},...r}),Jd=ir("/$locale/apps/derivean/root/building/$id/resource/list/")({validateSearch:An(Pn(Vc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(o=>Sn({tx:o,queryClient:t,source:vi,filter:r,cursor:n,where:{buildingId:s}}))},component(){const{data:t,count:e}=Jd.useLoaderData(),{filter:r,cursor:n,selection:s}=Jd.useSearch(),{id:o}=Jd.useParams(),l=Jd.useNavigate(),{tva:u}=rn({from:"__root__"}),d=u().slots;return g.jsx("div",{className:d.base(),children:g.jsx(e3,{buildingId:o,table:{data:t,filter:{value:r,set:On(l)},selection:{type:"multi",value:s,set:Vi(l)}},fulltext:{value:r?.fulltext,set:Rn(l)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(l)}})})}}),Nm=ir("/$locale/apps/derivean/game/building/queue/production/list/")({validateSearch:An(Pn(Q0)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s,sort:o}}){const l=await r();return e.transaction().execute(async u=>Sn({tx:u,queryClient:t,source:mo,filter:n,cursor:s,sort:o,where:{userId:l.id}}))},component(){const{data:t,count:e}=Nm.useLoaderData(),{filter:r,cursor:n}=Nm.useSearch(),s=Nm.useNavigate(),{tva:o}=rn({from:"__root__"}),l=o().slots;return g.jsx("div",{className:l.base(),children:g.jsx(YO,{table:{data:t,filter:{value:r,set:On(s)}},fulltext:{value:r?.fulltext,set:Rn(s)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(s)}})})}}),Vp=ui(),vV=[Vp({name:"baseBuilding.name",header(){return g.jsx(U,{label:"Base building name (label)"})},render({value:t}){return t},size:10}),Vp({name:"current",header(){return g.jsx(U,{label:"Building queue - current (label)"})},render({data:t,value:e}){return g.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[g.jsx("div",{className:"font-bold",children:gn({number:e})}),"/",g.jsx("div",{className:"text-sm text-slate-600",children:t.baseBuilding.cycles})]})},size:10}),Vp({name:"start",header(){return g.jsx(U,{label:"Building queue - started (label)"})},render({value:t}){return gn({number:t})},size:10}),Vp({name:"finish",header(){return g.jsx(U,{label:"Building queue - finish (label)"})},render({value:t}){return gn({number:t})},size:10})],_V=({table:t,...e})=>g.jsx(ai,{table:li({...t,columns:vV}),...e}),Em=ir("/$locale/apps/derivean/game/building/queue/construction/list/")({validateSearch:An(Pn(xO)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const o=await r();return e.transaction().execute(l=>Sn({tx:l,queryClient:t,source:Zo,filter:n,cursor:s,where:{userId:o.id}}))},component(){const{data:t,count:e}=Em.useLoaderData(),{filter:r,cursor:n,selection:s}=Em.useSearch(),o=Em.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsx("div",{className:u.base(),children:g.jsx(_V,{table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),Zd=ir("/$locale/apps/derivean/game/building/$id/resource/list/")({validateSearch:An(Pn(Vc)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(l=>Sn({tx:l,queryClient:t,source:vi,filter:r,cursor:n,sort:s,where:{buildingId:o}}))},component(){const{data:t,count:e}=Zd.useLoaderData(),{filter:r,cursor:n}=Zd.useSearch(),{id:s}=Zd.useParams(),o=Zd.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsx("div",{className:u.base(),children:g.jsx(ZO,{buildingId:s,table:{data:t,filter:{value:r,set:On(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})})}}),km=ir("/$locale/apps/derivean/root/user/$id/building/resource/list/")({validateSearch:An(Pn(Vc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(o=>Sn({tx:o,queryClient:t,source:vi,filter:r,where:{userId:s},cursor:n}))},component(){const{data:t,count:e}=km.useLoaderData(),{filter:r,cursor:n,selection:s}=km.useSearch(),o=km.useNavigate(),{tva:l}=rn({from:"__root__"}),u=l().slots;return g.jsxs("div",{className:u.base(),children:[g.jsx(GO,{icon:Or,title:g.jsx(U,{label:"Resource sum (label)"}),amount:t}),g.jsx(e3,{table:{data:t,filter:{value:r,set:On(o)},selection:{type:"multi",value:s,set:Vi(o)}},fulltext:{value:r?.fulltext,set:Rn(o)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(o)}})]})}}),_I=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(ay.shape),defaultValues:{passive:!1,...e}}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"resourceId",label:g.jsx(U,{label:"Resource name (label)"}),children:g.jsx(cl,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>g.jsx(mh,{...y})})}),g.jsx(Lr,{formState:l.formState,name:"amount",label:g.jsx(U,{label:"Amount (label)"}),children:g.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),g.jsx(Lr,{formState:l.formState,name:"passive",label:g.jsx(U,{label:"Passive requirement (label)"}),hint:g.jsx(U,{label:"Passive requirement (hint)"}),children:g.jsx(cl,{control:l.control,name:"passive",render:({field:{ref:m,...y}})=>g.jsx(g4,{...y})})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:Or,type:"submit",children:g.jsx(U,{label:"Save resource requirement (submit)"})})})]})},Rb=ui(),bV=[Rb({name:"resource.name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),Rb({name:"amount",header(){return g.jsx(U,{label:"Amount (label)"})},render({value:t}){return gn({number:t})},size:14}),Rb({name:"passive",header(){return g.jsx(U,{label:"Passive requirement (label)"})},render({value:t}){return g.jsx(p4,{value:t})},size:14})],wV=({baseBuildingId:t,table:e,...r})=>{const n=qs({sources:[ii,rc]});return g.jsx(ai,{table:li({...e,columns:bV}),action:{table(){return g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create resource requirement (menu)"}),textTitle:g.jsx(U,{label:"Create resource requirement (modal)"}),icon:Or,children:g.jsx(_I,{mutation:ua({source:rc,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving resource requirement (label)"}),success:g.jsx(U,{label:"Resource requirement successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return g.jsxs(qn,{children:[g.jsx(Dr,{label:g.jsx(U,{label:"Edit resource requirement (menu)"}),textTitle:g.jsx(U,{label:"Edit resource requirement (modal)"}),icon:Or,children:g.jsx(_I,{defaultValues:s,mutation:qo({source:rc,async wrap(o){return pr.promise(o(),{loading:g.jsx(U,{label:"Saving resource requirement (label)"}),success:g.jsx(U,{label:"Resource requirement successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete resource requirement (label)"}),textTitle:g.jsx(U,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:rc,textContent:g.jsx(U,{label:"Resource requirement delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Yd=ir("/$locale/apps/derivean/root/building/base/$id/requirement/list/")({validateSearch:An(Pn(ay)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>Sn({tx:l,queryClient:t,source:rc,filter:r,cursor:n,sort:s||[{name:"resource",sort:"asc"}],where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=Yd.useLoaderData(),{filter:r,cursor:n,selection:s}=Yd.useSearch(),{id:o}=Yd.useParams(),l=Yd.useNavigate(),{tva:u}=rn({from:"__root__"}),d=u().slots;return g.jsx("div",{className:d.base(),children:g.jsx(wV,{baseBuildingId:o,table:{data:t,filter:{value:r,set:On(l)},selection:{type:"multi",value:s,set:Vi(l)}},fulltext:{value:r?.fulltext,set:Rn(l)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(l)}})})}}),bI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Xs,css:o})=>{const l=to({resolver:ro(oy.shape),defaultValues:{limit:0,...e}}),u=K.useContext(ls),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return g.jsxs("form",{className:d.base(),onSubmit:la({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[g.jsx(Cs,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(Lr,{formState:l.formState,name:"resourceId",label:g.jsx(U,{label:"Resource name (label)"}),children:g.jsx(cl,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>g.jsx(mh,{icon:Or,titleText:g.jsx(U,{label:"Select resource (title)"}),...y})})}),g.jsx(Lr,{formState:l.formState,name:"limit",label:g.jsx(U,{label:"Limit (label)"}),children:g.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(wn,{iconEnabled:Or,type:"submit",children:g.jsx(U,{label:"Save resource limit (submit)"})})})]})},wI=ui(),xV=[wI({name:"resource.name",header(){return g.jsx(U,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),wI({name:"limit",header(){return g.jsx(U,{label:"Storage limit (label)"})},render({value:t}){return t},size:18})],SV=({baseBuildingId:t,table:e,...r})=>{const n=qs({sources:[tc]});return g.jsx(ai,{table:li({...e,columns:xV}),action:{table(){return g.jsx(qn,{children:g.jsx(Dr,{label:g.jsx(U,{label:"Create resource limit (menu)"}),textTitle:g.jsx(U,{label:"Create resource limit (modal)"}),icon:Tw,children:g.jsx(bI,{mutation:ua({source:tc,async wrap(s){return pr.promise(s(),{loading:g.jsx(U,{label:"Saving resource limit (label)"}),success:g.jsx(U,{label:"Resource limit successfully saved (label)"}),error:g.jsx(U,{label:"Cannot resource limit storage (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return g.jsxs(qn,{children:[g.jsx(Dr,{label:g.jsx(U,{label:"Edit base storage (menu)"}),textTitle:g.jsx(U,{label:"Edit base storage (modal)"}),icon:Tw,children:g.jsx(bI,{defaultValues:s,mutation:qo({source:tc,async wrap(o){return pr.promise(o(),{loading:g.jsx(U,{label:"Saving base storage (label)"}),success:g.jsx(U,{label:"Base storage successfully saved (label)"}),error:g.jsx(U,{label:"Cannot save base storage (label)"})})},async toPatch(){return{filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),g.jsx(Dr,{icon:eo,label:g.jsx(U,{label:"Delete base storage (label)"}),textTitle:g.jsx(U,{label:"Delete base storage (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(Co,{source:tc,textContent:g.jsx(U,{label:"Base storage delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Xd=ir("/$locale/apps/derivean/root/building/base/$id/limit/list/")({validateSearch:An(Pn(oy)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>Sn({tx:l,queryClient:t,source:tc,filter:r,cursor:n,sort:s,where:{baseBuildingId:o}}))},component(){const{data:t,count:e}=Xd.useLoaderData(),{filter:r,cursor:n,selection:s}=Xd.useSearch(),{id:o}=Xd.useParams(),l=Xd.useNavigate(),{tva:u}=rn({from:"__root__"}),d=u().slots;return g.jsx("div",{className:d.base(),children:g.jsx(SV,{baseBuildingId:o,table:{data:t,filter:{value:r,set:On(l)},selection:{type:"multi",value:s,set:Vi(l)}},fulltext:{value:r?.fulltext,set:Rn(l)},cursor:{count:e,cursor:n,textTotal:g.jsx(U,{label:"Number of items"}),...Tn(l)}})})}}),tx=qz.update({id:"/$locale",path:"/$locale",getParentRoute:()=>H0}),NV=Rz.update({id:"/",path:"/",getParentRoute:()=>H0}),EV=Az.update({id:"/",path:"/",getParentRoute:()=>tx}),Hc=jz.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>tx}),no=Dz.update({id:"/root",path:"/root",getParentRoute:()=>Hc}),da=Vz.update({id:"/game",path:"/game",getParentRoute:()=>Hc}),kV=Qz.update({id:"/",path:"/",getParentRoute:()=>no}),IV=Kz.update({id:"/",path:"/",getParentRoute:()=>da}),CV=_U.update({id:"/public/register",path:"/public/register",getParentRoute:()=>Hc}),qV=bU.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>Hc}),TV=NU.update({id:"/public/login",path:"/public/login",getParentRoute:()=>Hc}),OV=mm.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>da}),gh=UO.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>no}),t3=OU.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>no}),rx=VO.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>no}),yh=HO.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>da}),RV=gm.update({id:"/user/list/",path:"/user/list/",getParentRoute:()=>no}),AV=ym.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>no}),PV=vm.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>no}),jV=DU.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>no}),FV=_m.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>da}),Qc=QO.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>no}),LV=UU.update({id:"/view/",path:"/view/",getParentRoute:()=>gh}),DV=Hd.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>gh}),MV=VU.update({id:"/view/",path:"/view/",getParentRoute:()=>t3}),BV=bm.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>no}),$V=KU.update({id:"/view/",path:"/view/",getParentRoute:()=>rx}),WV=wm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>da}),zV=xm.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>da}),UV=iV.update({id:"/view/",path:"/view/",getParentRoute:()=>yh}),VV=Qd.update({id:"/production/",path:"/production/",getParentRoute:()=>yh}),HV=Sm.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>yh}),QV=Kd.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>gh}),KV=pV.update({id:"/view/",path:"/view/",getParentRoute:()=>Qc}),GV=Gd.update({id:"/production/",path:"/production/",getParentRoute:()=>Qc}),JV=XO.update({id:"/edit/",path:"/edit/",getParentRoute:()=>Qc}),ZV=Jd.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>rx}),YV=Nm.update({id:"/building/queue/production/list/",path:"/building/queue/production/list/",getParentRoute:()=>da}),XV=Em.update({id:"/building/queue/construction/list/",path:"/building/queue/construction/list/",getParentRoute:()=>da}),e8=Zd.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>yh}),t8=km.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>gh}),r8=Yd.update({id:"/requirement/list/",path:"/requirement/list/",getParentRoute:()=>Qc}),n8=Xd.update({id:"/limit/list/",path:"/limit/list/",getParentRoute:()=>Qc}),i8={LocaleAppsDeriveanGameBuildingIdProductionQueueRoute:HV,LocaleAppsDeriveanGameBuildingIdProductionIndexRoute:VV,LocaleAppsDeriveanGameBuildingIdViewIndexRoute:UV,LocaleAppsDeriveanGameBuildingIdResourceListIndexRoute:e8},s8=yh._addFileChildren(i8),o8={LocaleAppsDeriveanGameIndexRoute:IV,LocaleAppsDeriveanGameBuildingIdRoute:s8,LocaleAppsDeriveanGameInventoryIndexRoute:OV,LocaleAppsDeriveanGameBuildingListIndexRoute:FV,LocaleAppsDeriveanGameBuildingBaseListIndexRoute:zV,LocaleAppsDeriveanGameBuildingResourceListIndexRoute:WV,LocaleAppsDeriveanGameBuildingQueueConstructionListIndexRoute:XV,LocaleAppsDeriveanGameBuildingQueueProductionListIndexRoute:YV},a8=da._addFileChildren(o8),l8={LocaleAppsDeriveanRootBuildingIdViewIndexRoute:$V,LocaleAppsDeriveanRootBuildingIdResourceListIndexRoute:ZV},u8=rx._addFileChildren(l8),c8={LocaleAppsDeriveanRootResourceIdViewIndexRoute:MV},d8=t3._addFileChildren(c8),f8={LocaleAppsDeriveanRootUserIdInventoryIndexRoute:DV,LocaleAppsDeriveanRootUserIdViewIndexRoute:LV,LocaleAppsDeriveanRootUserIdBuildingListIndexRoute:QV,LocaleAppsDeriveanRootUserIdBuildingResourceListIndexRoute:t8},h8=gh._addFileChildren(f8),p8={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:JV,LocaleAppsDeriveanRootBuildingBaseIdProductionIndexRoute:GV,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:KV,LocaleAppsDeriveanRootBuildingBaseIdLimitListIndexRoute:n8,LocaleAppsDeriveanRootBuildingBaseIdRequirementListIndexRoute:r8},m8=Qc._addFileChildren(p8),g8={LocaleAppsDeriveanRootIndexRoute:kV,LocaleAppsDeriveanRootBuildingIdRoute:u8,LocaleAppsDeriveanRootResourceIdRoute:d8,LocaleAppsDeriveanRootUserIdRoute:h8,LocaleAppsDeriveanRootBuildingBaseIdRoute:m8,LocaleAppsDeriveanRootBuildingListIndexRoute:jV,LocaleAppsDeriveanRootResourceListIndexRoute:PV,LocaleAppsDeriveanRootTagListIndexRoute:AV,LocaleAppsDeriveanRootUserListIndexRoute:RV,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:BV},y8=no._addFileChildren(g8),v8={LocaleAppsDeriveanGameRoute:a8,LocaleAppsDeriveanRootRoute:y8,LocaleAppsDeriveanPublicLoginRoute:TV,LocaleAppsDeriveanPublicLogoutRoute:qV,LocaleAppsDeriveanPublicRegisterRoute:CV},_8=Hc._addFileChildren(v8),b8={LocaleIndexRoute:EV,LocaleAppsDeriveanRoute:_8},w8=tx._addFileChildren(b8),x8={IndexRoute:NV,LocaleRoute:w8},S8=H0._addFileChildren(x8)._addFileTypes(),r3=new IR({defaultOptions:{queries:{placeholderData:pR}}}),N8=SA({routeTree:S8,context:{queryClient:r3,tva:w4,async session(){return iy.parse(null)},kysely:nn},defaultPendingComponent:J6,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),xI=document.getElementById("app");I2({limit:{maxRequests:10,perMilliseconds:100}});xI.innerHTML||kz.createRoot(xI).render(g.jsx(AR,{client:r3,children:g.jsx(KA,{router:N8})}))})();