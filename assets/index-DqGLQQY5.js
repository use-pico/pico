(async()=>{function Mq(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ec(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Pv={exports:{}},Sd={},Fv={exports:{}},fr={};var KS;function $q(){if(KS)return fr;KS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function N(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function A(H,Se,lt){this.props=H,this.context=Se,this.refs=T,this.updater=lt||k}A.prototype.isReactComponent={},A.prototype.setState=function(H,Se){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Se,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=A.prototype;function L(H,Se,lt){this.props=H,this.context=Se,this.refs=T,this.updater=lt||k}var $=L.prototype=new D;$.constructor=L,I($,A.prototype),$.isPureReactComponent=!0;var V=Array.isArray,K=Object.prototype.hasOwnProperty,B={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function ne(H,Se,lt){var at,dt={},mt=null,ft=null;if(Se!=null)for(at in Se.ref!==void 0&&(ft=Se.ref),Se.key!==void 0&&(mt=""+Se.key),Se)K.call(Se,at)&&!J.hasOwnProperty(at)&&(dt[at]=Se[at]);var gt=arguments.length-2;if(gt===1)dt.children=lt;else if(1<gt){for(var Pt=Array(gt),vt=0;vt<gt;vt++)Pt[vt]=arguments[vt+2];dt.children=Pt}if(H&&H.defaultProps)for(at in gt=H.defaultProps,gt)dt[at]===void 0&&(dt[at]=gt[at]);return{$$typeof:t,type:H,key:mt,ref:ft,props:dt,_owner:B.current}}function U(H,Se){return{$$typeof:t,type:H.type,key:Se,ref:H.ref,props:H.props,_owner:H._owner}}function re(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function M(H){var Se={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(lt){return Se[lt]})}var se=/\/+/g;function Z(H,Se){return typeof H=="object"&&H!==null&&H.key!=null?M(""+H.key):Se.toString(36)}function pe(H,Se,lt,at,dt){var mt=typeof H;(mt==="undefined"||mt==="boolean")&&(H=null);var ft=!1;if(H===null)ft=!0;else switch(mt){case"string":case"number":ft=!0;break;case"object":switch(H.$$typeof){case t:case e:ft=!0}}if(ft)return ft=H,dt=dt(ft),H=at===""?"."+Z(ft,0):at,V(dt)?(lt="",H!=null&&(lt=H.replace(se,"$&/")+"/"),pe(dt,Se,lt,"",function(vt){return vt})):dt!=null&&(re(dt)&&(dt=U(dt,lt+(!dt.key||ft&&ft.key===dt.key?"":(""+dt.key).replace(se,"$&/")+"/")+H)),Se.push(dt)),1;if(ft=0,at=at===""?".":at+":",V(H))for(var gt=0;gt<H.length;gt++){mt=H[gt];var Pt=at+Z(mt,gt);ft+=pe(mt,Se,lt,Pt,dt)}else if(Pt=N(H),typeof Pt=="function")for(H=Pt.call(H),gt=0;!(mt=H.next()).done;)mt=mt.value,Pt=at+Z(mt,gt++),ft+=pe(mt,Se,lt,Pt,dt);else if(mt==="object")throw Se=String(H),Error("Objects are not valid as a React child (found: "+(Se==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Se)+"). If you meant to render a collection of children, use an array instead.");return ft}function Ce(H,Se,lt){if(H==null)return H;var at=[],dt=0;return pe(H,at,"","",function(mt){return Se.call(lt,mt,dt++)}),at}function Te(H){if(H._status===-1){var Se=H._result;Se=Se(),Se.then(function(lt){(H._status===0||H._status===-1)&&(H._status=1,H._result=lt)},function(lt){(H._status===0||H._status===-1)&&(H._status=2,H._result=lt)}),H._status===-1&&(H._status=0,H._result=Se)}if(H._status===1)return H._result.default;throw H._result}var Fe={current:null},ve={transition:null},me={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ve,ReactCurrentOwner:B};function Ne(){throw Error("act(...) is not supported in production builds of React.")}return fr.Children={map:Ce,forEach:function(H,Se,lt){Ce(H,function(){Se.apply(this,arguments)},lt)},count:function(H){var Se=0;return Ce(H,function(){Se++}),Se},toArray:function(H){return Ce(H,function(Se){return Se})||[]},only:function(H){if(!re(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},fr.Component=A,fr.Fragment=r,fr.Profiler=s,fr.PureComponent=L,fr.StrictMode=n,fr.Suspense=d,fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,fr.act=Ne,fr.cloneElement=function(H,Se,lt){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var at=I({},H.props),dt=H.key,mt=H.ref,ft=H._owner;if(Se!=null){if(Se.ref!==void 0&&(mt=Se.ref,ft=B.current),Se.key!==void 0&&(dt=""+Se.key),H.type&&H.type.defaultProps)var gt=H.type.defaultProps;for(Pt in Se)K.call(Se,Pt)&&!J.hasOwnProperty(Pt)&&(at[Pt]=Se[Pt]===void 0&&gt!==void 0?gt[Pt]:Se[Pt])}var Pt=arguments.length-2;if(Pt===1)at.children=lt;else if(1<Pt){gt=Array(Pt);for(var vt=0;vt<Pt;vt++)gt[vt]=arguments[vt+2];at.children=gt}return{$$typeof:t,type:H.type,key:dt,ref:mt,props:at,_owner:ft}},fr.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},fr.createElement=ne,fr.createFactory=function(H){var Se=ne.bind(null,H);return Se.type=H,Se},fr.createRef=function(){return{current:null}},fr.forwardRef=function(H){return{$$typeof:u,render:H}},fr.isValidElement=re,fr.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Te}},fr.memo=function(H,Se){return{$$typeof:p,type:H,compare:Se===void 0?null:Se}},fr.startTransition=function(H){var Se=ve.transition;ve.transition={};try{H()}finally{ve.transition=Se}},fr.unstable_act=Ne,fr.useCallback=function(H,Se){return Fe.current.useCallback(H,Se)},fr.useContext=function(H){return Fe.current.useContext(H)},fr.useDebugValue=function(){},fr.useDeferredValue=function(H){return Fe.current.useDeferredValue(H)},fr.useEffect=function(H,Se){return Fe.current.useEffect(H,Se)},fr.useId=function(){return Fe.current.useId()},fr.useImperativeHandle=function(H,Se,lt){return Fe.current.useImperativeHandle(H,Se,lt)},fr.useInsertionEffect=function(H,Se){return Fe.current.useInsertionEffect(H,Se)},fr.useLayoutEffect=function(H,Se){return Fe.current.useLayoutEffect(H,Se)},fr.useMemo=function(H,Se){return Fe.current.useMemo(H,Se)},fr.useReducer=function(H,Se,lt){return Fe.current.useReducer(H,Se,lt)},fr.useRef=function(H){return Fe.current.useRef(H)},fr.useState=function(H){return Fe.current.useState(H)},fr.useSyncExternalStore=function(H,Se,lt){return Fe.current.useSyncExternalStore(H,Se,lt)},fr.useTransition=function(){return Fe.current.useTransition()},fr.version="18.3.1",fr}var GS;function Af(){return GS||(GS=1,Fv.exports=$q()),Fv.exports}var JS;function Wq(){if(JS)return Sd;JS=1;var t=Af(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var g,w={},N=null,k=null;p!==void 0&&(N=""+p),d.key!==void 0&&(N=""+d.key),d.ref!==void 0&&(k=d.ref);for(g in d)n.call(d,g)&&!a.hasOwnProperty(g)&&(w[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)w[g]===void 0&&(w[g]=d[g]);return{$$typeof:e,type:u,key:N,ref:k,props:w,_owner:s.current}}return Sd.Fragment=r,Sd.jsx=l,Sd.jsxs=l,Sd}var ZS;function zq(){return ZS||(ZS=1,Pv.exports=Wq()),Pv.exports}var y=zq(),Nc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ul=typeof window>"u"||"Deno"in globalThis;function ls(){}function Uq(t,e){return typeof t=="function"?t(e):t}function mb(t){return typeof t=="number"&&t>=0&&t!==1/0}function t3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zu(t,e){return typeof t=="function"?t(e):t}function Ps(t,e){return typeof t=="function"?t(e):t}function YS(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:l,stale:u}=t;if(l){if(n){if(e.queryHash!==pw(l,e.options))return!1}else if(!rf(e.queryKey,l))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||a&&!a(e))}function XS(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Vl(e.options.mutationKey)!==Vl(a))return!1}else if(!rf(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function pw(t,e){return(e?.queryKeyHashFn||Vl)(t)}function Vl(t){return JSON.stringify(t,(e,r)=>yb(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function rf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!rf(t[r],e[r])):!1}function mw(t,e){if(t===e)return t;const r=eE(t)&&eE(e);if(r||yb(t)&&yb(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),l=a.length,u=r?[]:{};let d=0;for(let p=0;p<l;p++){const g=r?p:a[p];(!r&&n.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(u[g]=void 0,d++):(u[g]=mw(t[g],e[g]),u[g]===t[g]&&t[g]!==void 0&&d++)}return s===l&&d===s?t:u}return e}function hm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function eE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yb(t){if(!tE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!tE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tE(t){return Object.prototype.toString.call(t)==="[object Object]"}function Vq(t){return new Promise(e=>{setTimeout(e,t)})}function gb(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?mw(t,e):e}function Hq(t){return t}function Qq(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Kq(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var yw=Symbol();function r3(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===yw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gq=class extends Nc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Ul&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},gw=new Gq,Jq=class extends Nc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Ul&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},pm=new Jq;function vb(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function Zq(t){return Math.min(1e3*2**t,3e4)}function n3(t){return(t??"online")==="online"?pm.isOnline():!0}var i3=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Lv(t){return t instanceof i3}function s3(t){let e=!1,r=0,n=!1,s;const a=vb(),l=T=>{n||(N(new i3(T)),t.abort?.())},u=()=>{e=!0},d=()=>{e=!1},p=()=>gw.isFocused()&&(t.networkMode==="always"||pm.isOnline())&&t.canRun(),g=()=>n3(t.networkMode)&&t.canRun(),w=T=>{n||(n=!0,t.onSuccess?.(T),s?.(),a.resolve(T))},N=T=>{n||(n=!0,t.onError?.(T),s?.(),a.reject(T))},k=()=>new Promise(T=>{s=A=>{(n||p())&&T(A)},t.onPause?.()}).then(()=>{s=void 0,n||t.onContinue?.()}),I=()=>{if(n)return;let T;const A=r===0?t.initialPromise:void 0;try{T=A??t.fn()}catch(D){T=Promise.reject(D)}Promise.resolve(T).then(w).catch(D=>{if(n)return;const L=t.retry??(Ul?0:3),$=t.retryDelay??Zq,V=typeof $=="function"?$(r,D):$,K=L===!0||typeof L=="number"&&r<L||typeof L=="function"&&L(r,D);if(e||!K){N(D);return}r++,t.onFail?.(r,D),Vq(V).then(()=>p()?void 0:k()).then(()=>{e?N(D):I()})})};return{promise:a,cancel:l,continue:()=>(s?.(),a),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?I():k().then(I),a)}}function Yq(){let t=[],e=0,r=u=>{u()},n=u=>{u()},s=u=>setTimeout(u,0);const a=u=>{e?t.push(u):s(()=>{r(u)})},l=()=>{const u=t;t=[],u.length&&s(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var vn=Yq(),o3=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mb(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ul?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Xq=class extends o3{#e;#t;#r;#n;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=eR(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=gb(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ps(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!t3(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},s=()=>{const u=r3(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return n(d),this.#s=!1,this.options.persister?this.options.persister(u,d,this):u(d)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta});const l=u=>{Lv(u)&&u.silent||this.#o({type:"error",error:u}),Lv(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#n=s3({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){l(d);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,d)=>{this.#o({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...a3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Lv(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),vn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function a3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n3(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function eR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var tR=class extends Nc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,s=e.queryHash??pw(n,e);let a=this.get(s);return a||(a=new Xq({cache:this,queryKey:n,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>YS(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>YS(t,r)):e}notify(t){vn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rR=class extends o3{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||l3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=s3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,s)=>{this.#n({type:"failed",failureCount:n,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),vn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function l3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nR=class extends Nc{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new rR({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=pp(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=pp(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(pp(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(pp(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>XS(e,r))}findAll(t={}){return this.getAll().filter(e=>XS(t,e))}notify(t){vn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return vn.batch(()=>Promise.all(t.map(e=>e.continue().catch(ls))))}};function pp(t){return t.options.scope?.id??String(t.mutationId)}function rE(t){return{onFetch:(e,r)=>{const n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let g=!1;const w=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},N=r3(e.options,e.fetchOptions),k=async(I,T,A)=>{if(g)return Promise.reject();if(T==null&&I.pages.length)return Promise.resolve(I);const D={queryKey:e.queryKey,pageParam:T,direction:A?"backward":"forward",meta:e.options.meta};w(D);const L=await N(D),{maxPages:$}=e.options,V=A?Kq:Qq;return{pages:V(I.pages,L,$),pageParams:V(I.pageParams,T,$)}};if(s&&a.length){const I=s==="backward",T=I?iR:nE,A={pages:a,pageParams:l},D=T(n,A);u=await k(A,D,I)}else{const I=t??a.length;do{const T=d===0?l[0]??n.initialPageParam:nE(n,u);if(d>0&&T==null)break;u=await k(u,T),d++}while(d<I)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=p}}}function nE(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function iR(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var sR=class{#e;#t;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new tR,this.#t=t.mutationCache||new nR,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=gw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=pm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Zu(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(n.queryHash)?.state.data,l=Uq(e,a);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return vn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;vn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return vn.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=vn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ls).catch(ls)}invalidateQueries(t,e={}){return vn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none")return Promise.resolve();const r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=vn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ls)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Zu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ls).catch(ls)}fetchInfiniteQuery(t){return t.behavior=rE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ls).catch(ls)}ensureInfiniteQueryData(t){return t.behavior=rE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Vl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{rf(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Vl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let r={};return e.forEach(n=>{rf(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=pw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},oR=class extends Nc{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=vb(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),iE(this.#t,this.options)?this.#p():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _b(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _b(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ps(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),r._defaulted&&!hm(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&sE(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),s&&(this.#t!==n||Ps(this.options.enabled,this.#t)!==Ps(r.enabled,this.#t)||Zu(this.options.staleTime,this.#t)!==Zu(r.staleTime,this.#t))&&this.#y();const a=this.#g();s&&(this.#t!==n||Ps(this.options.enabled,this.#t)!==Ps(r.enabled,this.#t)||a!==this.#f)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return lR(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ls)),e}#y(){this.#b();const t=Zu(this.options.staleTime,this.#t);if(Ul||this.#n.isStale||!mb(t))return;const r=t3(this.#n.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Ul||Ps(this.options.enabled,this.#t)===!1||!mb(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||gw.isFocused())&&this.#p()},this.#f))}#_(){this.#y(),this.#v(this.#g())}#b(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,s=this.#n,a=this.#i,l=this.#s,d=t!==r?t.state:this.#r,{state:p}=t;let g={...p},w=!1,N;if(e._optimisticResults){const J=this.hasListeners(),ne=!J&&iE(t,e),U=J&&sE(t,r,e,n);(ne||U)&&(g={...g,...a3(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:k,errorUpdatedAt:I,status:T}=g;if(e.select&&g.data!==void 0)if(s&&g.data===a?.data&&e.select===this.#u)N=this.#l;else try{this.#u=e.select,N=e.select(g.data),N=gb(s?.data,N,e),this.#l=N,this.#a=null}catch(J){this.#a=J}else N=g.data;if(e.placeholderData!==void 0&&N===void 0&&T==="pending"){let J;if(s?.isPlaceholderData&&e.placeholderData===l?.placeholderData)J=s.data;else if(J=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&J!==void 0)try{J=e.select(J),this.#a=null}catch(ne){this.#a=ne}J!==void 0&&(T="success",N=gb(s?.data,J,e),w=!0)}this.#a&&(k=this.#a,N=this.#l,I=Date.now(),T="error");const A=g.fetchStatus==="fetching",D=T==="pending",L=T==="error",$=D&&A,V=N!==void 0,B={status:T,fetchStatus:g.fetchStatus,isPending:D,isSuccess:T==="success",isError:L,isInitialLoading:$,isLoading:$,data:N,dataUpdatedAt:g.dataUpdatedAt,error:k,errorUpdatedAt:I,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!D,isLoadingError:L&&!V,isPaused:g.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:L&&V,isStale:vw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const J=re=>{B.status==="error"?re.reject(B.error):B.data!==void 0&&re.resolve(B.data)},ne=()=>{const re=this.#o=B.promise=vb();J(re)},U=this.#o;switch(U.status){case"pending":t.queryHash===r.queryHash&&J(U);break;case"fulfilled":(B.status==="error"||B.data!==U.value)&&ne();break;case"rejected":(B.status!=="error"||B.error!==U.reason)&&ne();break}}return B}updateResult(t){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),hm(r,e))return;this.#n=r;const n={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#m.size)return!0;const u=new Set(l??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#n).some(d=>{const p=d;return this.#n[p]!==e[p]&&u.has(p)})};t?.listeners!==!1&&s()&&(n.listeners=!0),this.#S({...n,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){vn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function aR(t,e){return Ps(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function iE(t,e){return aR(t,e)||t.state.data!==void 0&&_b(t,e,e.refetchOnMount)}function _b(t,e,r){if(Ps(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&vw(t,e)}return!1}function sE(t,e,r,n){return(t!==e||Ps(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&vw(t,r)}function vw(t,e){return Ps(e.enabled,t)!==!1&&t.isStaleByTime(Zu(e.staleTime,t))}function lR(t,e){return!hm(t.getCurrentResult(),e)}var uR=class extends Nc{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),hm(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Vl(r.mutationKey)!==Vl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??l3();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){vn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},Q=Af();const Tr=Ec(Q),cR=Mq({__proto__:null,default:Tr},[Q]);var u3=Q.createContext(void 0),Xa=t=>{const e=Q.useContext(u3);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},dR=({client:t,children:e})=>(Q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(u3.Provider,{value:t,children:e})),c3=Q.createContext(!1),fR=()=>Q.useContext(c3);c3.Provider;function hR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var pR=Q.createContext(hR()),mR=()=>Q.useContext(pR);function d3(t,e){return typeof t=="function"?t(...e):!!t}function bb(){}var yR=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},gR=t=>{Q.useEffect(()=>{t.clearReset()},[t])},vR=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&d3(r,[t.error,n]),_R=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},bR=(t,e)=>t.isLoading&&t.isFetching&&!e,wR=(t,e)=>t?.suspense&&e.isPending,oE=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function xR(t,e,r){const n=Xa(),s=fR(),a=mR(),l=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=s?"isRestoring":"optimistic",_R(l),yR(l,a),gR(a);const u=!n.getQueryCache().get(l.queryHash),[d]=Q.useState(()=>new e(n,l)),p=d.getOptimisticResult(l);if(Q.useSyncExternalStore(Q.useCallback(g=>{const w=s?bb:d.subscribe(vn.batchCalls(g));return d.updateResult(),w},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),Q.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),wR(l,p))throw oE(l,d,a);if(vR({result:p,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw p.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,p),l.experimental_prefetchInRender&&!Ul&&bR(p,s)&&(u?oE(l,d,a):n.getQueryCache().get(l.queryHash)?.promise)?.catch(bb).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?p:d.trackResult(p)}function _w(t,e){return xR(t,oR)}function aE(t,e){return t.findAll(e.filters).map(r=>e.select?e.select(r):r.state)}function SR(t={},e){const r=Xa().getMutationCache(),n=Q.useRef(t),s=Q.useRef(null);return s.current||(s.current=aE(r,t)),Q.useEffect(()=>{n.current=t}),Q.useSyncExternalStore(Q.useCallback(a=>r.subscribe(()=>{const l=mw(s.current,aE(r,n.current));s.current!==l&&(s.current=l,vn.schedule(a))}),[r]),()=>s.current,()=>s.current)}function el(t,e){const r=Xa(),[n]=Q.useState(()=>new uR(r,t));Q.useEffect(()=>{n.setOptions(t)},[n,t]);const s=Q.useSyncExternalStore(Q.useCallback(l=>n.subscribe(vn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=Q.useCallback((l,u)=>{n.mutate(l,u).catch(bb)},[n]);if(s.error&&d3(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const lE="popstate",uE="beforeunload";function f3(t){let e=t.getLocation();const r=new Set,n=l=>{e=t.getLocation(),r.forEach(u=>u({location:e,action:l}))},s=()=>{e=t.getLocation(),r.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},a=async({task:l,navigateOpts:u,...d})=>{var p,g;if(u?.ignoreBlocker??!1){l();return}const N=((p=t.getBlockers)==null?void 0:p.call(t))??[],k=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&N.length&&k)for(const I of N){const T=nf(d.path,d.state);if(await I.blockerFn({currentLocation:e,nextLocation:T,action:d.type})){(g=t.onBlocked)==null||g.call(t,s);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:r,subscribe:l=>(r.add(l),()=>{r.delete(l)}),push:(l,u,d)=>{u=cE(u),a({task:()=>{t.pushState(l,u),n({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:u})},replace:(l,u,d)=>{u=cE(u),a({task:()=>{t.replaceState(l,u),n({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:u})},go:(l,u)=>{a({task:()=>{t.go(l),n({type:"GO",index:l})},navigateOpts:u,type:"GO"})},back:l=>{a({task:()=>{t.back(l?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{a({task:()=>{t.forward(l?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var u;if(!t.setBlockers)return()=>{};const d=((u=t.getBlockers)==null?void 0:u.call(t))??[];return t.setBlockers([...d,l]),()=>{var p,g;const w=((p=t.getBlockers)==null?void 0:p.call(t))??[];(g=t.setBlockers)==null||g.call(t,w.filter(N=>N!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:n}}function cE(t){return t||(t={}),{...t,key:kR()}}function ER(t){const e=typeof document<"u"?window:void 0,r=e.history.pushState,n=e.history.replaceState;let s=[];const a=()=>s,l=J=>s=J,u=J=>J,d=()=>nf(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let p=d(),g,w=!1,N=!1,k=!1;const I=()=>p;let T,A;const D=()=>{T&&(B._ignoreSubscribers=!0,(T.isPush?e.history.pushState:e.history.replaceState)(T.state,"",T.href),B._ignoreSubscribers=!1,T=void 0,A=void 0,g=void 0)},L=(J,ne,U)=>{const re=u(ne);A||(g=p),p=nf(ne,U),T={href:re,state:U,isPush:T?.isPush||J==="push"},A||(A=Promise.resolve().then(()=>D()))},$=()=>{p=d(),B.notify({type:"POP"})},V=async()=>{if(w){w=!1;return}if(N)N=!1;else{const J=a();if(typeof document<"u"&&J.length)for(const ne of J){const U=d();if(await ne.blockerFn({currentLocation:p,nextLocation:U,action:"POP"})){w=!0,e.history.go(1),B.notify({type:"POP"});return}}}p=d(),B.notify({type:"POP"})},K=J=>{if(k){k=!1;return}let ne=!1;const U=a();if(typeof document<"u"&&U.length)for(const re of U){const M=re.enableBeforeUnload??!0;if(M===!0){ne=!0;break}if(typeof M=="function"&&M()===!0){ne=!0;break}}if(ne)return J.preventDefault(),J.returnValue=""},B=f3({getLocation:I,getLength:()=>e.history.length,pushState:(J,ne)=>L("push",J,ne),replaceState:(J,ne)=>L("replace",J,ne),back:J=>(J&&(N=!0),k=!0,e.history.back()),forward:J=>{J&&(N=!0),k=!0,e.history.forward()},go:J=>e.history.go(J),createHref:J=>u(J),flush:D,destroy:()=>{e.history.pushState=r,e.history.replaceState=n,e.removeEventListener(uE,K,{capture:!0}),e.removeEventListener(lE,V)},onBlocked:J=>{g&&p!==g&&(p=g,J())},getBlockers:a,setBlockers:l});return e.addEventListener(uE,K,{capture:!0}),e.addEventListener(lE,V),e.history.pushState=function(...J){const ne=r.apply(e.history,J);return B._ignoreSubscribers||$(),ne},e.history.replaceState=function(...J){const ne=n.apply(e.history,J);return B._ignoreSubscribers||$(),ne},B}function NR(t={initialEntries:["/"]}){const e=t.initialEntries;let r=t.initialIndex??e.length-1;const n=e.map(()=>({}));return f3({getLocation:()=>nf(e[r],n[r]),getLength:()=>e.length,pushState:(a,l)=>{r<e.length-1&&(e.splice(r+1),n.splice(r+1)),n.push(l),e.push(a),r=Math.max(e.length-1,0)},replaceState:(a,l)=>{n[r]=l,e[r]=a},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,e.length-1)},go:a=>{r=Math.min(Math.max(r+a,0),e.length-1)},createHref:a=>a})}function nf(t,e){const r=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:t.length),hash:r>-1?t.substring(r):"",search:n>-1?t.slice(n,r===-1?void 0:r):"",state:e||{}}}function kR(){return(Math.random()+1).toString(36).substring(7)}var OR="Invariant failed";function $i(t,e){if(!t)throw new Error(OR)}const jv=Q.createContext(null);function h3(){return typeof document>"u"?jv:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=jv,jv)}function Ii(t){const e=Q.useContext(h3());return t?.warn,e}var Dv={exports:{}},Mv={},Bv={exports:{}},$v={};var dE;function IR(){if(dE)return $v;dE=1;var t=Af();function e(w,N){return w===N&&(w!==0||1/w===1/N)||w!==w&&N!==N}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(w,N){var k=N(),I=n({inst:{value:k,getSnapshot:N}}),T=I[0].inst,A=I[1];return a(function(){T.value=k,T.getSnapshot=N,d(T)&&A({inst:T})},[w,k,N]),s(function(){return d(T)&&A({inst:T}),w(function(){d(T)&&A({inst:T})})},[w]),l(k),k}function d(w){var N=w.getSnapshot;w=w.value;try{var k=N();return!r(w,k)}catch{return!0}}function p(w,N){return N()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return $v.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,$v}var fE;function TR(){return fE||(fE=1,Bv.exports=IR()),Bv.exports}var hE;function CR(){if(hE)return Mv;hE=1;var t=Af(),e=TR();function r(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Mv.useSyncExternalStoreWithSelector=function(p,g,w,N,k){var I=a(null);if(I.current===null){var T={hasValue:!1,value:null};I.current=T}else T=I.current;I=u(function(){function D(B){if(!L){if(L=!0,$=B,B=N(B),k!==void 0&&T.hasValue){var J=T.value;if(k(J,B))return V=J}return V=B}if(J=V,n($,B))return J;var ne=N(B);return k!==void 0&&k(J,ne)?($=B,J):($=B,V=ne)}var L=!1,$,V,K=w===void 0?null:w;return[function(){return D(g())},K===null?void 0:function(){return D(K())}]},[g,w,N,k]);var A=s(p,I[0],I[1]);return l(function(){T.hasValue=!0,T.value=A},[A]),d(A),A},Mv}var pE;function qR(){return pE||(pE=1,Dv.exports=CR()),Dv.exports}var RR=qR();class AR{constructor(e,r){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=n=>{var s,a;this.listeners.add(n);const l=(a=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:a.call(s,n,this);return()=>{this.listeners.delete(n),l?.()}},this.setState=n=>{var s,a,l;const u=this.state;this.state=(s=this.options)!=null&&s.updateFn?this.options.updateFn(u)(n):n(u),(l=(a=this.options)==null?void 0:a.onUpdate)==null||l.call(a),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(s=>{this._flushing===n&&s()})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=r}}function PR(t,e=r=>r){return RR.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,FR)}function FR(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,s]of t)if(!e.has(n)||!Object.is(s,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}const Di="__root__";function LR(t,e){let r,n,s,a="";for(r in t)if((s=t[r])!==void 0)if(Array.isArray(s))for(n=0;n<s.length;n++)a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(s[n]);else a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(s);return""+a}function mE(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function jR(t,e){let r,n;const s={},a=t.split("&");for(;r=a.shift();){const l=r.indexOf("=");if(l!==-1){n=r.slice(0,l),n=decodeURIComponent(n);const u=r.slice(l+1);s[n]!==void 0?s[n]=[].concat(s[n],mE(u)):s[n]=mE(u)}else n=r,n=decodeURIComponent(n),s[n]=""}return s}const DR=BR(JSON.parse),MR=$R(JSON.stringify,JSON.parse);function BR(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const r=jR(e);for(const n in r){const s=r[n];if(typeof s=="string")try{r[n]=t(s)}catch{}}return r}}function $R(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(a=>{const l=n[a];typeof l>"u"||l===void 0?delete n[a]:n[a]=r(l)});const s=LR(n).toString();return s?`?${s}`:""}}function Wd(t){return t[t.length-1]}function WR(t){return typeof t=="function"}function Fl(t,e){return WR(t)?t(e):t}function Fp(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function os(t,e){if(t===e)return t;const r=e,n=gE(t)&&gE(r);if(n||hc(t)&&hc(r)){const s=n?t:Object.keys(t),a=s.length,l=n?r:Object.keys(r),u=l.length,d=n?[]:{};let p=0;for(let g=0;g<u;g++){const w=n?g:l[g];(!n&&s.includes(w)||n)&&t[w]===void 0&&r[w]===void 0?(d[w]=void 0,p++):(d[w]=os(t[w],r[w]),d[w]===t[w]&&t[w]!==void 0&&p++)}return a===u&&p===a?t:d}return r}function hc(t){if(!yE(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!yE(r)||!r.hasOwnProperty("isPrototypeOf"))}function yE(t){return Object.prototype.toString.call(t)==="[object Object]"}function gE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vE(t,e){let r=Object.keys(t);return e&&(r=r.filter(n=>t[n]!==void 0)),r}function Yu(t,e,r){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(hc(t)&&hc(e)){const n=r?.ignoreUndefined??!0,s=vE(t,n),a=vE(e,n);return!r?.partial&&s.length!==a.length?!1:a.every(l=>Yu(t[l],e[l],r))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((n,s)=>!Yu(n,e[s],r)):!1}const Rd=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Du(t){let e,r;const n=new Promise((s,a)=>{e=s,r=a});return n.status="pending",n.resolve=s=>{n.status="resolved",n.value=s,e(s),t?.(s)},n.reject=s=>{n.status="rejected",r(s)},n}function Wv(t){const e=Q.useRef({value:t,prev:null}),r=e.current.value;return t!==r&&(e.current={value:t,prev:r}),e.current.prev}function zR(t,e,r={},n={}){const s=Q.useRef(typeof IntersectionObserver=="function"),a=Q.useRef(null);return Q.useEffect(()=>{if(!(!t.current||!s.current||n.disabled))return a.current=new IntersectionObserver(([l])=>{e(l)},r),a.current.observe(t.current),()=>{var l;(l=a.current)==null||l.disconnect()}},[e,r,n.disabled,t]),a.current}function UR(t){const e=Q.useRef(null);return Q.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function Uo(t){return iy(t.filter(e=>e!==void 0).join("/"))}function iy(t){return t.replace(/\/{2,}/g,"/")}function bw(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Ll(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function VR(t){return Ll(bw(t))}function mm(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function HR(t,e,r){return mm(t,r)===mm(e,r)}function QR({basepath:t,base:e,to:r,trailingSlash:n="never",caseSensitive:s}){var a,l;e=ym(t,e,s),r=ym(t,r,s);let u=pc(e);const d=pc(r);u.length>1&&((a=Wd(u))==null?void 0:a.value)==="/"&&u.pop(),d.forEach((g,w)=>{g.value==="/"?w?w===d.length-1&&u.push(g):u=[g]:g.value===".."?u.pop():g.value==="."||u.push(g)}),u.length>1&&(((l=Wd(u))==null?void 0:l.value)==="/"?n==="never"&&u.pop():n==="always"&&u.push({type:"pathname",value:"/"}));const p=Uo([t,...u.map(g=>g.value)]);return iy(p)}function pc(t){if(!t)return[];t=iy(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const r=t.split("/").filter(Boolean);return e.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function mp({path:t,params:e,leaveWildcards:r,leaveParams:n,decodeCharMap:s}){const a=pc(t),l={};for(const[u,d]of Object.entries(e)){const p=typeof d=="string";["*","_splat"].includes(u)?l[u]=p?encodeURI(d):d:l[u]=p?KR(d,s):d}return Uo(a.map(u=>{if(u.type==="wildcard"){const d=l._splat;return r?`${u.value}${d??""}`:d}if(u.type==="param"){if(n){const d=l[u.value];return`${u.value}${d??""}`}return l[u.value.substring(1)]??"undefined"}return u.value}))}function KR(t,e){let r=encodeURIComponent(t);if(e)for(const[n,s]of e)r=r.replaceAll(n,s);return r}function yp(t,e,r){const n=GR(t,e,r);if(!(r.to&&!n))return n??{}}function ym(t,e,r=!1){const n=r?t:t.toLowerCase(),s=r?e:e.toLowerCase();switch(!0){case n==="/":return e;case s===n:return"";case e.length<t.length:return e;case s[n.length]!=="/":return e;case s.startsWith(n):return e.slice(t.length);default:return e}}function GR(t,e,r){if(t!=="/"&&!e.startsWith(t))return;e=ym(t,e,r.caseSensitive);const n=ym(t,`${r.to??"$"}`,r.caseSensitive),s=pc(e),a=pc(n);e.startsWith("/")||s.unshift({type:"pathname",value:"/"}),n.startsWith("/")||a.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let d=0;d<Math.max(s.length,a.length);d++){const p=s[d],g=a[d],w=d>=s.length-1,N=d>=a.length-1;if(g){if(g.type==="wildcard"){const k=decodeURI(Uo(s.slice(d).map(I=>I.value)));return l["*"]=k,l._splat=k,!0}if(g.type==="pathname"){if(g.value==="/"&&!p?.value)return!0;if(p){if(r.caseSensitive){if(g.value!==p.value)return!1}else if(g.value.toLowerCase()!==p.value.toLowerCase())return!1}}if(!p)return!1;if(g.type==="param"){if(p.value==="/")return!1;p.value.charAt(0)!=="$"&&(l[g.value.substring(1)]=decodeURIComponent(p.value))}}if(!w&&N)return l["**"]=Uo(s.slice(d+1).map(k=>k.value)),!!r.fuzzy&&g?.value!=="/"}return!0})()?l:void 0}function sy(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Tl(t){return!!t?.isRedirect}function zv(t){return!!t?.isRedirect&&t.href}function ww(t){const e=t.errorComponent??oy;return y.jsx(JR,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:r,reset:n})=>r?Q.createElement(e,{error:r,reset:n}):t.children})}class JR extends Q.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,r){this.props.onCatch&&this.props.onCatch(e,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function oy({error:t}){const[e,r]=Q.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:e?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),e?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?y.jsx("code",{children:t.message}):null})}):null]})}function ai(t){const e=Ii({warn:t?.router===void 0}),r=t?.router||e,n=Q.useRef();return PR(r.__store,s=>{if(t?.select){if(t.structuralSharing??r.options.defaultStructuralSharing){const a=os(n.current,t.select(s));return n.current=a,a}return t.select(s)}return s})}function As(t){return!!t?.isNotFound}function ZR(t){const e=ai({select:r=>`not-found-${r.location.pathname}-${r.status}`});return y.jsx(ww,{getResetKey:()=>e,onCatch:(r,n)=>{var s;if(As(r))(s=t.onCatch)==null||s.call(t,r,n);else throw r},errorComponent:({error:r})=>{var n;if(As(r))return(n=t.fallback)==null?void 0:n.call(t,r);throw r},children:t.children})}function YR(){return y.jsx("p",{children:"Not Found"})}const XR={stringify:t=>JSON.stringify(t,function(r,n){const s=this[r],a=_E.find(l=>l.stringifyCondition(s));return a?a.stringify(s):n}),parse:t=>JSON.parse(t,function(r,n){const s=this[r],a=_E.find(l=>l.parseCondition(s));return a?a.parse(s):n})},_E=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>hc(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>hc(t)&&t.$undefined==="",parse:()=>{}}],p3=["component","errorComponent","pendingComponent","notFoundComponent"];function eA(t){var e;for(const r of p3)if((e=t.options[r])!=null&&e.preload)return!0;return!1}function Uv(t,e){if(t==null)return{};if("~standard"in t){const r=t["~standard"].validate(e);if(r instanceof Promise)throw new wb("Async validation not supported");if(r.issues)throw new wb(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function tA(t){return new rA(t)}class rA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(a=>[encodeURIComponent(a),a])):void 0,(!this.basepath||r.basepath&&r.basepath!==s.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${VR(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?NR({initialEntries:[this.basepath||"/"]}):ER()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new AR(iA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(a=>!["redirected"].includes(a.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=l=>{l.forEach((u,d)=>{u.init({originalIndex:d,defaultSsr:this.options.defaultSsr});const p=this.routesById[u.id];if($i(!p,`Duplicate routes found with id: ${String(u.id)}`),this.routesById[u.id]=u,!u.isRoot&&u.path){const w=Ll(u.fullPath);(!this.routesByPath[w]||u.fullPath.endsWith("/"))&&(this.routesByPath[w]=u)}const g=u.children;g?.length&&n(g)})};n([this.routeTree]);const s=[];Object.values(this.routesById).forEach((l,u)=>{var d;if(l.isRoot||!l.path)return;const p=bw(l.fullPath),g=pc(p);for(;g.length>1&&((d=g[0])==null?void 0:d.value)==="/";)g.shift();const w=g.map(N=>N.value==="/"?.75:N.type==="param"?.5:N.type==="wildcard"?.25:1);s.push({child:l,trimmed:p,parsed:g,index:u,scores:w})}),this.flatRoutes=s.sort((l,u)=>{const d=Math.min(l.scores.length,u.scores.length);for(let p=0;p<d;p++)if(l.scores[p]!==u.scores[p])return u.scores[p]-l.scores[p];if(l.scores.length!==u.scores.length)return u.scores.length-l.scores.length;for(let p=0;p<d;p++)if(l.parsed[p].value!==u.parsed[p].value)return l.parsed[p].value>u.parsed[p].value?1:-1;return l.index-u.index}).map((l,u)=>(l.child.rank=u,l.child))},this.subscribe=(r,n)=>{const s={eventType:r,fn:n};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const s=({pathname:d,search:p,hash:g,state:w})=>{const N=this.options.parseSearch(p),k=this.options.stringifySearch(N);return{pathname:d,searchStr:k,search:os(r?.search,N),hash:g.split("#").reverse()[0]??"",href:`${d}${k}${g}`,state:os(r?.state,w)}},a=s(n??this.history.location),{__tempLocation:l,__tempKey:u}=a.state;if(l&&(!u||u===this.tempLocationKey)){const d=s(l);return d.state.key=a.state.key,delete d.state.__tempLocation,{...d,maskedLocation:a}}return a},this.resolvePathWithBase=(r,n)=>QR({basepath:this.basepath,base:r,to:iy(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let s={};const a=Ll(r.pathname),l=g=>yp(this.basepath,a,{to:g.fullPath,caseSensitive:g.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let u=n?.to!==void 0?this.routesByPath[n.to]:void 0;u?s=l(u):u=this.flatRoutes.find(g=>{const w=l(g);return w?(s=w,!0):!1});let d=u||this.routesById[Di];const p=[d];for(;d.parentRoute;)d=d.parentRoute,p.unshift(d);return{matchedRoutes:p,routeParams:s,foundRoute:u}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(a={},l)=>{var u,d,p,g,w,N;const k=a._fromLocation?this.matchRoutes(a._fromLocation,{_buildLocation:!0}):this.state.matches,I=a.from!=null?k.find(M=>yp(this.basepath,Ll(M.pathname),{to:a.from,caseSensitive:!1,fuzzy:!1})):void 0,T=I?.pathname||this.latestLocation.pathname;$i(a.from==null||I!=null,"Could not find match for from: "+a.from);const A=(u=this.state.pendingMatches)!=null&&u.length?(d=Wd(this.state.pendingMatches))==null?void 0:d.search:((p=Wd(k))==null?void 0:p.search)||this.latestLocation.search,D=l?.matchedRoutes.filter(M=>k.find(se=>se.routeId===M.id));let L;if(a.to)L=this.resolvePathWithBase(T,`${a.to}`);else{const M=this.routesById[(g=D?.find(se=>{const Z=mp({path:se.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return Uo([this.basepath,Z])===T}))==null?void 0:g.id];L=this.resolvePathWithBase(T,M?.to??T)}const $={...(w=Wd(k))==null?void 0:w.params};let V=(a.params??!0)===!0?$:{...$,...Fl(a.params,$)};Object.keys(V).length>0&&l?.matchedRoutes.map(M=>{var se;return((se=M.options.params)==null?void 0:se.stringify)??M.options.stringifyParams}).filter(Boolean).forEach(M=>{V={...V,...M(V)}}),L=mp({path:L,params:V??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let K=A;if(r._includeValidateSearch&&((N=this.options.search)!=null&&N.strict)){let M={};l?.matchedRoutes.forEach(se=>{try{se.options.validateSearch&&(M={...M,...Uv(se.options.validateSearch,{...M,...K})??{}})}catch{}}),K=M}K=(M=>{const se=l?.matchedRoutes.reduce((Ce,Te)=>{var Fe;const ve=[];if("search"in Te.options)(Fe=Te.options.search)!=null&&Fe.middlewares&&ve.push(...Te.options.search.middlewares);else if(Te.options.preSearchFilters||Te.options.postSearchFilters){const me=({search:Ne,next:H})=>{let Se=Ne;"preSearchFilters"in Te.options&&Te.options.preSearchFilters&&(Se=Te.options.preSearchFilters.reduce((at,dt)=>dt(at),Ne));const lt=H(Se);return"postSearchFilters"in Te.options&&Te.options.postSearchFilters?Te.options.postSearchFilters.reduce((at,dt)=>dt(at),lt):lt};ve.push(me)}if(r._includeValidateSearch&&Te.options.validateSearch){const me=({search:Ne,next:H})=>{try{const Se=H(Ne);return{...Se,...Uv(Te.options.validateSearch,Se)??{}}}catch{}};ve.push(me)}return Ce.concat(ve)},[])??[],Z=({search:Ce})=>a.search?a.search===!0?Ce:Fl(a.search,Ce):{};se.push(Z);const pe=(Ce,Te)=>{if(Ce>=se.length)return Te;const Fe=se[Ce];return Fe({search:Te,next:me=>pe(Ce+1,me)})};return pe(0,M)})(K),K=os(A,K);const J=this.options.stringifySearch(K),ne=a.hash===!0?this.latestLocation.hash:a.hash?Fl(a.hash,this.latestLocation.hash):void 0,U=ne?`#${ne}`:"";let re=a.state===!0?this.latestLocation.state:a.state?Fl(a.state,this.latestLocation.state):{};return re=os(this.latestLocation.state,re),{pathname:L,search:K,searchStr:J,state:re,hash:ne??"",href:`${L}${J}${U}`,unmaskOnReload:a.unmaskOnReload}},s=(a={},l)=>{var u;const d=n(a);let p=l?n(l):void 0;if(!p){let N={};const k=(u=this.options.routeMasks)==null?void 0:u.find(I=>{const T=yp(this.basepath,d.pathname,{to:I.from,caseSensitive:!1,fuzzy:!1});return T?(N=T,!0):!1});if(k){const{from:I,...T}=k;l={...Fp(r,["from"]),...T,params:N},p=n(l)}}const g=this.getMatchedRoutes(d,a),w=n(a,g);if(p){const N=this.getMatchedRoutes(p,l),k=n(l,N);w.maskedLocation=k}return w};return r.mask?s(r,{...Fp(r,["from"]),...r.mask}):s(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...s})=>{const a=()=>{s.state.key=this.latestLocation.state.key;const d=Yu(s.state,this.latestLocation.state);return delete s.state.key,d},l=this.latestLocation.href===s.href,u=this.commitLocationPromise;if(this.commitLocationPromise=Du(()=>{u?.resolve()}),l&&a())this.load();else{let{maskedLocation:d,hashScrollIntoView:p,...g}=s;d&&(g={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[s.replace?"replace":"push"](g.href,g.state,{ignoreBlocker:n})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:s,viewTransition:a,ignoreBlocker:l,href:u,...d}={})=>{if(u){const g=nf(u,{});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const p=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...p,viewTransition:a,replace:r,resetScroll:n,hashScrollIntoView:s,ignoreBlocker:l})},this.navigate=({to:r,reloadDocument:n,href:s,...a})=>{if(n){s||(s=this.buildLocation({to:r,...a}).href),a.replace?window.location.replace(s):window.location.href=s;return}return this.buildAndCommitLocation({...a,href:s,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,s;for(s=new Promise(a=>{this.startReactTransition(async()=>{var l;try{const u=this.latestLocation,d=this.state.resolvedLocation,p=d.href!==u.href,g=d.pathname!==u.pathname;this.cancelMatches();let w;this.__store.batch(()=>{w=this.matchRoutes(u),this.__store.setState(N=>({...N,status:"pending",isLoading:!0,location:u,pendingMatches:w,cachedMatches:N.cachedMatches.filter(k=>!w.find(I=>I.id===k.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:u,pathChanged:g,hrefChanged:p}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:u,pathChanged:g,hrefChanged:p}),await this.loadMatches({matches:w,location:u,onReady:async()=>{this.startViewTransition(async()=>{let N,k,I;this.__store.batch(()=>{this.__store.setState(T=>{const A=T.matches,D=T.pendingMatches||T.matches;return N=A.filter(L=>!D.find($=>$.id===L.id)),k=D.filter(L=>!A.find($=>$.id===L.id)),I=A.filter(L=>D.find($=>$.id===L.id)),{...T,isLoading:!1,loadedAt:Date.now(),matches:D,pendingMatches:void 0,cachedMatches:[...T.cachedMatches,...N.filter(L=>L.status!=="error")]}}),this.clearExpiredCache()}),[[N,"onLeave"],[k,"onEnter"],[I,"onStay"]].forEach(([T,A])=>{T.forEach(D=>{var L,$;($=(L=this.looseRoutesById[D.routeId].options)[A])==null||$.call(L,D)})})})}})}catch(u){zv(u)?(r=u,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):As(u)&&(n=u),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:n?404:d.matches.some(p=>p.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;typeof n=="object"&&this.isViewTransitionTypesSupported?s={update:r,types:n.types}:s=r,document.startViewTransition(s)}else r()},this.updateMatch=(r,n)=>{var s;let a;const l=(s=this.state.pendingMatches)==null?void 0:s.find(g=>g.id===r),u=this.state.matches.find(g=>g.id===r),d=this.state.cachedMatches.find(g=>g.id===r),p=l?"pendingMatches":u?"matches":d?"cachedMatches":"";return p&&this.__store.setState(g=>{var w;return{...g,[p]:(w=g[p])==null?void 0:w.map(N=>N.id===r?a=n(N):N)}}),a},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:s,onReady:a,updateMatch:l=this.updateMatch})=>{let u,d=!1;const p=async()=>{d||(d=!0,await a?.())},g=N=>!!(s&&!this.state.matches.find(k=>k.id===N));!this.isServer&&!this.state.matches.length&&p();const w=(N,k)=>{var I,T,A;if(zv(k)&&!k.reloadDocument)throw k;if(Tl(k)||As(k)){if(l(N.id,D=>({...D,status:Tl(k)?"redirected":As(k)?"notFound":"error",isFetching:!1,error:k,beforeLoadPromise:void 0,loaderPromise:void 0})),k.routeId||(k.routeId=N.routeId),(I=N.beforeLoadPromise)==null||I.resolve(),(T=N.loaderPromise)==null||T.resolve(),(A=N.loadPromise)==null||A.resolve(),Tl(k))throw d=!0,k=this.resolveRedirect({...k,_fromLocation:r}),k;if(As(k))throw this._handleNotFound(n,k,{updateMatch:l}),k}};try{await new Promise((N,k)=>{(async()=>{var I,T,A;try{const D=(V,K,B)=>{var J,ne;const{id:U,routeId:re}=n[V],M=this.looseRoutesById[re];if(K instanceof Promise)throw K;K.routerCode=B,u=u??V,w(this.getMatch(U),K);try{(ne=(J=M.options).onError)==null||ne.call(J,K)}catch(se){K=se,w(this.getMatch(U),K)}l(U,se=>{var Z,pe;return(Z=se.beforeLoadPromise)==null||Z.resolve(),(pe=se.loadPromise)==null||pe.resolve(),{...se,error:K,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[V,{id:K,routeId:B}]of n.entries()){const J=this.getMatch(K),ne=(I=n[V-1])==null?void 0:I.id,U=this.looseRoutesById[B],re=U.options.pendingMs??this.options.defaultPendingMs,M=!!(a&&!this.isServer&&!g(K)&&(U.options.loader||U.options.beforeLoad)&&typeof re=="number"&&re!==1/0&&(U.options.pendingComponent??this.options.defaultPendingComponent));let se=!0;if((J.beforeLoadPromise||J.loaderPromise)&&(M&&setTimeout(()=>{try{p()}catch{}},re),await J.beforeLoadPromise,se=this.getMatch(K).status!=="success"),se){try{l(K,dt=>({...dt,loadPromise:Du(()=>{var mt;(mt=dt.loadPromise)==null||mt.resolve()}),beforeLoadPromise:Du()}));const Z=new AbortController;let pe;M&&(pe=setTimeout(()=>{try{p()}catch{}},re));const{paramsError:Ce,searchError:Te}=this.getMatch(K);Ce&&D(V,Ce,"PARSE_PARAMS"),Te&&D(V,Te,"VALIDATE_SEARCH");const Fe=()=>ne?this.getMatch(ne).context:this.options.context??{};l(K,dt=>({...dt,isFetching:"beforeLoad",fetchCount:dt.fetchCount+1,abortController:Z,pendingTimeout:pe,context:{...Fe(),...dt.__routeContext,...dt.__beforeLoadContext}}));const{search:ve,params:me,context:Ne,cause:H}=this.getMatch(K),Se=g(K),lt={search:ve,abortController:Z,params:me,preload:Se,context:Ne,location:r,navigate:dt=>this.navigate({...dt,_fromLocation:r}),buildLocation:this.buildLocation,cause:Se?"preload":H,matches:n};let at=await ((A=(T=U.options).beforeLoad)==null?void 0:A.call(T,lt))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(K)})),(Tl(at)||As(at))&&D(V,at,"BEFORE_LOAD"),l(K,dt=>({...dt,__beforeLoadContext:at,context:{...Fe(),...dt.__routeContext,...at},abortController:Z}))}catch(Z){D(V,Z,"BEFORE_LOAD")}l(K,Z=>{var pe;return(pe=Z.beforeLoadPromise)==null||pe.resolve(),{...Z,beforeLoadPromise:void 0,isFetching:!1}})}}const L=n.slice(0,u),$=[];L.forEach(({id:V,routeId:K},B)=>{$.push((async()=>{const{loaderPromise:J}=this.getMatch(V);let ne=!1;if(J)await J;else{const U=$[B-1],re=this.looseRoutesById[K],M=()=>{const{params:Se,loaderDeps:lt,abortController:at,context:dt,cause:mt}=this.getMatch(V),ft=g(V);return{params:Se,deps:lt,preload:!!ft,parentMatchPromise:U,abortController:at,context:dt,location:r,navigate:gt=>this.navigate({...gt,_fromLocation:r}),cause:ft?"preload":mt,route:re}},se=Date.now()-this.getMatch(V).updatedAt,Z=g(V),pe=Z?re.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:re.options.staleTime??this.options.defaultStaleTime??0,Ce=re.options.shouldReload,Te=typeof Ce=="function"?Ce(M()):Ce;l(V,Se=>({...Se,loaderPromise:Du(),preload:!!Z&&!this.state.matches.find(lt=>lt.id===V)}));const Fe=async()=>{var Se,lt,at,dt,mt,ft,gt,Pt;try{const vt=async()=>{const yt=this.getMatch(V);yt.minPendingPromise&&await yt.minPendingPromise};try{this.loadRouteChunk(re),l(V,pr=>({...pr,isFetching:"loader"}));let yt=await ((lt=(Se=re.options).loader)==null?void 0:lt.call(Se,M()));this.serializeLoaderData&&(yt=this.serializeLoaderData("loaderData",yt,{router:this,match:this.getMatch(V)})),w(this.getMatch(V),yt),await re._lazyPromise,await vt();const Ct=(dt=(at=re.options).head)==null?void 0:dt.call(at,{matches:n,match:this.getMatch(V),params:this.getMatch(V).params,loaderData:yt}),It=Ct?.meta,er=Ct?.links,Zt=Ct?.scripts,ir=(ft=(mt=re.options).headers)==null?void 0:ft.call(mt,{loaderData:yt});l(V,pr=>({...pr,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:yt,meta:It,links:er,scripts:Zt,headers:ir}))}catch(yt){let Ct=yt;await vt(),w(this.getMatch(V),yt);try{(Pt=(gt=re.options).onError)==null||Pt.call(gt,yt)}catch(It){Ct=It,w(this.getMatch(V),It)}l(V,It=>({...It,error:Ct,status:"error",isFetching:!1}))}await re._componentsPromise}catch(vt){l(V,yt=>({...yt,loaderPromise:void 0})),w(this.getMatch(V),vt)}},{status:ve,invalid:me}=this.getMatch(V);ne=ve==="success"&&(me||(Te??se>pe)),Z&&re.options.preload===!1||(ne?(async()=>{try{await Fe()}catch(Se){zv(Se)&&await this.navigate(Se)}})():ve!=="success"&&await Fe());const{loaderPromise:Ne,loadPromise:H}=this.getMatch(V);Ne?.resolve(),H?.resolve()}return l(V,U=>({...U,isFetching:ne?U.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(V)})())}),await Promise.all($),N()}catch(D){k(D)}})()}),await p()}catch(N){if(Tl(N)||As(N))throw As(N)&&!s&&await p(),N}return n},this.invalidate=r=>{const n=s=>{var a;return((a=r?.filter)==null?void 0:a.call(r,s))??!0?{...s,invalid:!0,...s.status==="error"?{status:"pending",error:void 0}:{}}:s};return this.__store.setState(s=>{var a;return{...s,matches:s.matches.map(n),cachedMatches:s.cachedMatches.map(n),pendingMatches:(a=s.pendingMatches)==null?void 0:a.map(n)}}),this.load()},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r?.filter;n!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(a=>!n(a))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const s=this.looseRoutesById[n.routeId];if(!s.options.loader)return!0;const a=(n.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<a)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:s,...a}=n.options;Object.assign(r.options,a)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(p3.map(async n=>{const s=r.options[n];s?.preload&&await s.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let s=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(u=>u.id)),l=new Set([...a,...this.state.cachedMatches.map(u=>u.id)]);this.__store.batch(()=>{s.forEach(u=>{l.has(u.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,u]}))})});try{return s=await this.loadMatches({matches:s,location:n,preload:!0,updateMatch:(u,d)=>{a.has(u)?s=s.map(p=>p.id===u?d(p):p):this.updateMatch(u,d)}}),s}catch(u){if(Tl(u))return u.reloadDocument?void 0:await this.preloadRoute({...u,_fromLocation:n});console.error(u);return}},this.matchRoute=(r,n)=>{const s={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},a=this.buildLocation(s);if(n?.pending&&this.state.status!=="pending")return!1;const u=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,d=yp(this.basepath,u.pathname,{...n,to:a.pathname});return!d||r.params&&!Yu(d,r.params,{partial:!0})?!1:d&&(n?.includeSearch??!0)?Yu(u.search,a.search,{partial:!0})?d:!1:d},this.dehydrate=()=>{var r;const n=((r=this.options.errorSerializer)==null?void 0:r.serialize)??sA;return{state:{dehydratedMatches:this.state.matches.map(s=>({...Fp(s,["id","status","updatedAt"]),error:s.error?{data:n(s.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var r,n,s;let a;typeof document<"u"&&(a=this.options.transformer.parse((r=window.__TSR__)==null?void 0:r.dehydrated)),$i(a),this.dehydratedData=a.payload,(s=(n=this.options).hydrate)==null||s.call(n,a.payload);const l=a.router.state,u=this.matchRoutes(this.state.location).map(d=>{const p=l.dehydratedMatches.find(g=>g.id===d.id);return $i(p,`Could not find a client-side match for dehydrated match with id: ${d.id}!`),{...d,...p}});this.__store.setState(d=>({...d,matches:u})),this.manifest=a.router.manifest},this.injectedHtml=[],this.injectHtml=r=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(s=>s!==n),r);this.injectedHtml.push(n)},this.injectScript=(r,n)=>{this.injectHtml(`<script class='tsr-once'>${r}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=r=>{var n;if(this.isServer)return;const s=(n=window.__TSR__)==null?void 0:n.streamedValues[r];if(s)return s.parsed||(s.parsed=this.options.transformer.parse(s.value)),s.parsed},this.streamValue=(r,n)=>{var s;this.streamedKeys.has(r),this.streamedKeys.add(r),this.injectScript(`__TSR__.streamedValues['${r}'] = { value: ${(s=this.serializer)==null?void 0:s.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(r,n,{updateMatch:s=this.updateMatch}={})=>{const a=Object.fromEntries(r.map(d=>[d.routeId,d]));let l=(n.global?this.looseRoutesById[Di]:this.looseRoutesById[n.routeId])||this.looseRoutesById[Di];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==Di;)l=l.parentRoute,$i(l);const u=a[l.id];$i(u,"Could not find match for route: "+l.id),s(u.id,d=>({...d,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(n.routeId=l.parentRoute.id,this._handleNotFound(r,n,{updateMatch:s}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??MR,parseSearch:e.parseSearch??DR,transformer:e.transformer??XR}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,r,n){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r)}matchRoutesInternal(e,r){const{foundRoute:n,matchedRoutes:s,routeParams:a}=this.getMatchedRoutes(e,r?.dest);let l=!1;(n?n.path!=="/"&&a["**"]:Ll(e.pathname))&&(this.options.notFoundRoute?s.push(this.options.notFoundRoute):l=!0);const u=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let w=s.length-1;w>=0;w--){const N=s[w];if(N.children)return N.id}return Di}})(),d=s.map(w=>{var N;let k;const I=((N=w.options.params)==null?void 0:N.parse)??w.options.parseParams;if(I)try{const T=I(a);Object.assign(a,T)}catch(T){if(k=new nA(T.message,{cause:T}),r?.throwOnError)throw k;return k}}),p=[],g=w=>w?.id?w.context??this.options.context??{}:this.options.context??{};return s.forEach((w,N)=>{var k,I,T,A;const D=p[N-1],[L,$]=(()=>{const Z=D?.search??e.search;try{const pe=Uv(w.options.validateSearch,Z)??{};return[{...Z,...pe},void 0]}catch(pe){const Ce=new wb(pe.message,{cause:pe});if(r?.throwOnError)throw Ce;return[Z,Ce]}})(),V=((I=(k=w.options).loaderDeps)==null?void 0:I.call(k,{search:L}))??"",K=V?JSON.stringify(V):"",B=mp({path:w.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),J=mp({path:w.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+K,ne=this.getMatch(J),U=this.state.matches.find(Z=>Z.routeId===w.id),re=U?"stay":"enter";let M;if(ne)M={...ne,cause:re,params:U?os(U.params,a):a,search:os(U?U.search:ne.search,L)};else{const Z=w.options.loader||w.options.beforeLoad||w.lazyFn||eA(w)?"pending":"success";M={id:J,index:N,routeId:w.id,params:U?os(U.params,a):a,pathname:Uo([this.basepath,B]),updatedAt:Date.now(),search:U?os(U.search,L):L,searchError:void 0,status:Z,isFetching:!1,error:void 0,paramsError:d[N],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:re,loaderDeps:U?os(U.loaderDeps,V):V,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:w.options.staticData||{},loadPromise:Du(),fullPath:w.fullPath}}M.status==="success"&&(M.headers=(A=(T=w.options).headers)==null?void 0:A.call(T,{loaderData:M.loaderData})),r?.preload||(M.globalNotFound=u===w.id),M.searchError=$;const se=g(D);M.context={...se,...M.__routeContext,...M.__beforeLoadContext},p.push(M)}),p.forEach((w,N)=>{var k,I,T,A;const D=this.looseRoutesById[w.routeId];if(!this.getMatch(w.id)&&r?._buildLocation!==!0){const V=p[N-1],K=g(V),B={deps:w.loaderDeps,params:w.params,context:K,location:e,navigate:J=>this.navigate({...J,_fromLocation:e}),buildLocation:this.buildLocation,cause:w.cause,abortController:w.abortController,preload:!!w.preload,matches:p};w.__routeContext=((I=(k=D.options).context)==null?void 0:I.call(k,B))??{},w.context={...K,...w.__routeContext,...w.__beforeLoadContext}}const $=(A=(T=D.options).head)==null?void 0:A.call(T,{matches:p,match:w,params:w.params,loaderData:w.loaderData??void 0});w.links=$?.links,w.scripts=$?.scripts,w.meta=$?.meta}),p}}class wb extends Error{}class nA extends Error{}function iA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function sA(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function bE(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function wE(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const ay=Q.createContext(void 0),oA=Q.createContext(void 0);function Wa(t){const e=Q.useContext(t.from?oA:ay);return ai({select:n=>{const s=n.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if($i(!((t.shouldThrow??!0)&&!s),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),s!==void 0)return t.select?t.select(s):s},structuralSharing:t.structuralSharing})}function eu(t){return Wa({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function aA(t){const{select:e,...r}=t;return Wa({...r,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function Cn(t){return Wa({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function lA(t){return Wa({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function xw(t){const{navigate:e}=Ii();return Q.useCallback(r=>e({...r}),[e])}let m3=class{constructor(e){this.init=r=>{var n,s;this.originalIndex=r.originalIndex;const a=this.options,l=!a?.path&&!a?.id;this.parentRoute=(s=(n=this.options).getParentRoute)==null?void 0:s.call(n),l?this._path=Di:$i(this.parentRoute);let u=l?Di:a.path;u&&u!=="/"&&(u=bw(u));const d=a?.id||u;let p=l?Di:Uo([this.parentRoute.id===Di?"":this.parentRoute.id,d]);u===Di&&(u="/"),p!==Di&&(p=Uo(["/",p]));const g=p===Di?"/":Uo([this.parentRoute.fullPath,u]);this._path=u,this._id=p,this._fullPath=g,this._to=g,this._ssr=a?.ssr??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>Wa({select:r?.select,from:this.id,structuralSharing:r?.structuralSharing}),this.useRouteContext=r=>Wa({...r,from:this.id,select:n=>r?.select?r.select(n.context):n.context}),this.useSearch=r=>lA({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useParams=r=>Cn({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useLoaderDeps=r=>aA({...r,from:this.id}),this.useLoaderData=r=>eu({...r,from:this.id}),this.useNavigate=()=>xw({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,$i(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function uA(t){return new m3(t)}function cA(){return t=>fA(t)}class dA extends m3{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function fA(t){return new dA(t)}function hr(t){return new hA(t,{silent:!0}).createRoute}class hA{constructor(e,r){this.path=e,this.createRoute=n=>{this.silent;const s=uA(n);return s.isRoot=!1,s},this.silent=r?.silent}}function Lp(t){return y.jsx(y.Fragment,{children:t.children})}function y3(t,e,r){return e.options.notFoundComponent?y.jsx(e.options.notFoundComponent,{data:r}):t.options.defaultNotFoundComponent?y.jsx(t.options.defaultNotFoundComponent,{data:r}):y.jsx(YR,{})}const g3=Q.memo(function({matchId:e}){var r,n;const s=Ii(),a=ai({select:A=>{var D;return(D=A.matches.find(L=>L.id===e))==null?void 0:D.routeId}});$i(a);const l=s.routesById[a],u=l.options.pendingComponent??s.options.defaultPendingComponent,d=u?y.jsx(u,{}):null,p=l.options.errorComponent??s.options.defaultErrorComponent,g=l.options.onCatch??s.options.defaultOnCatch,w=l.isRoot?l.options.notFoundComponent??((r=s.options.notFoundRoute)==null?void 0:r.options.component):l.options.notFoundComponent,N=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??u??((n=l.options.errorComponent)==null?void 0:n.preload))?Q.Suspense:Lp,k=p?ww:Lp,I=w?ZR:Lp,T=ai({select:A=>A.loadedAt});return y.jsx(ay.Provider,{value:e,children:y.jsx(N,{fallback:d,children:y.jsx(k,{getResetKey:()=>T,errorComponent:p||oy,onCatch:(A,D)=>{if(As(A))throw A;g?.(A,D)},children:y.jsx(I,{fallback:A=>{if(!w||A.routeId&&A.routeId!==a||!A.routeId&&!l.isRoot)throw A;return Q.createElement(w,A)},children:y.jsx(pA,{matchId:e})})})})})}),pA=Q.memo(function({matchId:e}){var r,n,s,a,l;const u=Ii(),{match:d,matchIndex:p,routeId:g}=ai({select:I=>{const T=I.matches.findIndex(L=>L.id===e),A=I.matches[T];return{routeId:A.routeId,matchIndex:T,match:Fp(A,["id","status","error"])}},structuralSharing:!0}),w=u.routesById[g],N=Q.useMemo(()=>{const I=w.options.component??u.options.defaultComponent;return I?y.jsx(I,{}):y.jsx(tl,{})},[w.options.component,u.options.defaultComponent]),k=(w.options.errorComponent??u.options.defaultErrorComponent)||oy;if(d.status==="notFound"){let I;return bE(d.error)?I=(((r=u.options.errorSerializer)==null?void 0:r.deserialize)??wE)(d.error.data):I=d.error,$i(As(I)),y3(u,w,I)}if(d.status==="redirected")throw $i(Tl(d.error)),(n=u.getMatch(d.id))==null?void 0:n.loadPromise;if(d.status==="error"){if(u.isServer)return y.jsx(k,{error:d.error,info:{componentStack:""}});throw bE(d.error)?(((s=u.options.errorSerializer)==null?void 0:s.deserialize)??wE)(d.error.data):d.error}if(d.status==="pending"){const I=w.options.pendingMinMs??u.options.defaultPendingMinMs;if(I&&!((a=u.getMatch(d.id))!=null&&a.minPendingPromise)&&!u.isServer){const T=Du();Promise.resolve().then(()=>{u.updateMatch(d.id,A=>({...A,minPendingPromise:T}))}),setTimeout(()=>{T.resolve(),u.updateMatch(d.id,A=>({...A,minPendingPromise:void 0}))},I)}throw(l=u.getMatch(d.id))==null?void 0:l.loadPromise}return y.jsxs(y.Fragment,{children:[N,u.AfterEachMatch?y.jsx(u.AfterEachMatch,{match:d,matchIndex:p}):null]})}),tl=Q.memo(function(){const e=Ii(),r=Q.useContext(ay),n=ai({select:p=>{var g;return(g=p.matches.find(w=>w.id===r))==null?void 0:g.routeId}}),s=e.routesById[n],a=ai({select:p=>{const w=p.matches.find(N=>N.id===r);return $i(w),w.globalNotFound}}),l=ai({select:p=>{var g;const w=p.matches,N=w.findIndex(k=>k.id===r);return(g=w[N+1])==null?void 0:g.id}});if(a)return y3(e,s,void 0);if(!l)return null;const u=y.jsx(g3,{matchId:l}),d=e.options.defaultPendingComponent?y.jsx(e.options.defaultPendingComponent,{}):null;return r===Di?y.jsx(Q.Suspense,{fallback:d,children:u}):u});var Vv={exports:{}},_i={},Hv={exports:{}},Qv={};var xE;function mA(){return xE||(xE=1,function(t){function e(ve,me){var Ne=ve.length;ve.push(me);e:for(;0<Ne;){var H=Ne-1>>>1,Se=ve[H];if(0<s(Se,me))ve[H]=me,ve[Ne]=Se,Ne=H;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var me=ve[0],Ne=ve.pop();if(Ne!==me){ve[0]=Ne;e:for(var H=0,Se=ve.length,lt=Se>>>1;H<lt;){var at=2*(H+1)-1,dt=ve[at],mt=at+1,ft=ve[mt];if(0>s(dt,Ne))mt<Se&&0>s(ft,dt)?(ve[H]=ft,ve[mt]=Ne,H=mt):(ve[H]=dt,ve[at]=Ne,H=at);else if(mt<Se&&0>s(ft,Ne))ve[H]=ft,ve[mt]=Ne,H=mt;else break e}}return me}function s(ve,me){var Ne=ve.sortIndex-me.sortIndex;return Ne!==0?Ne:ve.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,w=null,N=3,k=!1,I=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ve){for(var me=r(p);me!==null;){if(me.callback===null)n(p);else if(me.startTime<=ve)n(p),me.sortIndex=me.expirationTime,e(d,me);else break;me=r(p)}}function V(ve){if(T=!1,$(ve),!I)if(r(d)!==null)I=!0,Te(K);else{var me=r(p);me!==null&&Fe(V,me.startTime-ve)}}function K(ve,me){I=!1,T&&(T=!1,D(ne),ne=-1),k=!0;var Ne=N;try{for($(me),w=r(d);w!==null&&(!(w.expirationTime>me)||ve&&!M());){var H=w.callback;if(typeof H=="function"){w.callback=null,N=w.priorityLevel;var Se=H(w.expirationTime<=me);me=t.unstable_now(),typeof Se=="function"?w.callback=Se:w===r(d)&&n(d),$(me)}else n(d);w=r(d)}if(w!==null)var lt=!0;else{var at=r(p);at!==null&&Fe(V,at.startTime-me),lt=!1}return lt}finally{w=null,N=Ne,k=!1}}var B=!1,J=null,ne=-1,U=5,re=-1;function M(){return!(t.unstable_now()-re<U)}function se(){if(J!==null){var ve=t.unstable_now();re=ve;var me=!0;try{me=J(!0,ve)}finally{me?Z():(B=!1,J=null)}}else B=!1}var Z;if(typeof L=="function")Z=function(){L(se)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ce=pe.port2;pe.port1.onmessage=se,Z=function(){Ce.postMessage(null)}}else Z=function(){A(se,0)};function Te(ve){J=ve,B||(B=!0,Z())}function Fe(ve,me){ne=A(function(){ve(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){I||k||(I=!0,Te(K))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(ve){switch(N){case 1:case 2:case 3:var me=3;break;default:me=N}var Ne=N;N=me;try{return ve()}finally{N=Ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,me){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ne=N;N=ve;try{return me()}finally{N=Ne}},t.unstable_scheduleCallback=function(ve,me,Ne){var H=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?H+Ne:H):Ne=H,ve){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=0x3fffffff;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Ne+Se,ve={id:g++,callback:me,priorityLevel:ve,startTime:Ne,expirationTime:Se,sortIndex:-1},Ne>H?(ve.sortIndex=Ne,e(p,ve),r(d)===null&&ve===r(p)&&(T?(D(ne),ne=-1):T=!0,Fe(V,Ne-H))):(ve.sortIndex=Se,e(d,ve),I||k||(I=!0,Te(K))),ve},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ve){var me=N;return function(){var Ne=N;N=me;try{return ve.apply(this,arguments)}finally{N=Ne}}}}(Qv)),Qv}var SE;function yA(){return SE||(SE=1,Hv.exports=mA()),Hv.exports}var EE;function gA(){if(EE)return _i;EE=1;var t=Af(),e=yA();function r(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)n.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function N(i){return d.call(w,i)?!0:d.call(g,i)?!1:p.test(i)?w[i]=!0:(g[i]=!0,!1)}function k(i,o,c,m){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,o,c,m){if(o===null||typeof o>"u"||k(i,o,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function T(i,o,c,m,x,E,P){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=E,this.removeEmptyString=P}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new T(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,L);A[o]=new T(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,L);A[o]=new T(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,L);A[o]=new T(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,o,c,m){var x=A.hasOwnProperty(o)?A[o]:null;(x!==null?x.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,c,x,m)&&(c=null),m||x===null?N(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):x.mustUseProperty?i[x.propertyName]=c===null?x.type===3?!1:"":c:(o=x.attributeName,m=x.attributeNamespace,c===null?i.removeAttribute(o):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,m?i.setAttributeNS(m,o,c):i.setAttribute(o,c))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),B=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),M=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),ve=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ve&&i[ve]||i["@@iterator"],typeof i=="function"?i:null)}var Ne=Object.assign,H;function Se(i){if(H===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+i}var lt=!1;function at(i,o){if(!i||lt)return"";lt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Le){var m=Le}Reflect.construct(i,[],o)}else{try{o.call()}catch(Le){m=Le}i.call(o.prototype)}else{try{throw Error()}catch(Le){m=Le}i()}}catch(Le){if(Le&&m&&typeof Le.stack=="string"){for(var x=Le.stack.split(`
`),E=m.stack.split(`
`),P=x.length-1,oe=E.length-1;1<=P&&0<=oe&&x[P]!==E[oe];)oe--;for(;1<=P&&0<=oe;P--,oe--)if(x[P]!==E[oe]){if(P!==1||oe!==1)do if(P--,oe--,0>oe||x[P]!==E[oe]){var de=`
`+x[P].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=P&&0<=oe);break}}}finally{lt=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?Se(i):""}function dt(i){switch(i.tag){case 5:return Se(i.type);case 16:return Se("Lazy");case 13:return Se("Suspense");case 19:return Se("SuspenseList");case 0:case 2:case 15:return i=at(i.type,!1),i;case 11:return i=at(i.type.render,!1),i;case 1:return i=at(i.type,!0),i;default:return""}}function mt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case J:return"Fragment";case B:return"Portal";case U:return"Profiler";case ne:return"StrictMode";case Z:return"Suspense";case pe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case re:return(i._context.displayName||"Context")+".Provider";case se:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ce:return o=i.displayName||null,o!==null?o:mt(i.type)||"Memo";case Te:o=i._payload,i=i._init;try{return mt(i(o))}catch{}}return null}function ft(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mt(o);case 8:return o===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function gt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pt(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vt(i){var o=Pt(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,E=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(P){m=""+P,E.call(this,P)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function yt(i){i._valueTracker||(i._valueTracker=vt(i))}function Ct(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return i&&(m=Pt(i)?i.checked?"true":"false":i.value),i=m,i!==c?(o.setValue(i),!0):!1}function It(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function er(i,o){var c=o.checked;return Ne({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Zt(i,o){var c=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;c=gt(o.value!=null?o.value:c),i._wrapperState={initialChecked:m,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ir(i,o){o=o.checked,o!=null&&$(i,"checked",o,!1)}function pr(i,o){ir(i,o);var c=gt(o.value),m=o.type;if(c!=null)m==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ue(i,o.type,c):o.hasOwnProperty("defaultValue")&&ue(i,o.type,gt(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ae(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ue(i,o,c){(o!=="number"||It(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ye=Array.isArray;function qe(i,o,c,m){if(i=i.options,o){o={};for(var x=0;x<c.length;x++)o["$"+c[x]]=!0;for(c=0;c<i.length;c++)x=o.hasOwnProperty("$"+i[c].value),i[c].selected!==x&&(i[c].selected=x),x&&m&&(i[c].defaultSelected=!0)}else{for(c=""+gt(c),o=null,x=0;x<i.length;x++){if(i[x].value===c){i[x].selected=!0,m&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function De(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ne({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ge(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(r(92));if(ye(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:gt(c)}}function _t(i,o){var c=gt(o.value),m=gt(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),m!=null&&(i.defaultValue=""+m)}function Bt(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function xr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mr(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?xr(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var jr,Yn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,m,x){MSApp.execUnsafeLocalFunction(function(){return i(o,c,m,x)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=jr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function an(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xo=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(i){xo.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),fi[o]=fi[i]})});function qn(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||fi.hasOwnProperty(i)&&fi[i]?(""+o).trim():o+"px"}function Vt(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var m=c.indexOf("--")===0,x=qn(c,o[c],m);c==="float"&&(c="cssFloat"),m?i.setProperty(c,x):i[c]=x}}var ta=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(i,o){if(o){if(ta[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function na(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=null;function Bc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $c=null,Js=null,q=null;function lh(i){if(i=ld(i)){if(typeof $c!="function")throw Error(r(280));var o=i.stateNode;o&&(o=Th(o),$c(i.stateNode,i.type,o))}}function rr(i){Js?q?q.push(i):q=[i]:Js=i}function uh(){if(Js){var i=Js,o=q;if(q=Js=null,lh(i),o)for(i=0;i<o.length;i++)lh(o[i])}}function ch(i,o){return i(o)}function dh(){}var Wc=!1;function cl(i,o,c){if(Wc)return i(o,c);Wc=!0;try{return ch(i,o,c)}finally{Wc=!1,(Js!==null||q!==null)&&(dh(),uh())}}function Ji(i,o){var c=i.stateNode;if(c===null)return null;var m=Th(c);if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var zc=!1;if(u)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){zc=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{zc=!1}function Gy(i,o,c,m,x,E,P,oe,de){var Le=Array.prototype.slice.call(arguments,3);try{o.apply(c,Le)}catch(tt){this.onError(tt)}}var fl=!1,Zs=null,su=!1,Ys=null,Jy={onError:function(i){fl=!0,Zs=i}};function Zy(i,o,c,m,x,E,P,oe,de){fl=!1,Zs=null,Gy.apply(Jy,arguments)}function Yy(i,o,c,m,x,E,P,oe,de){if(Zy.apply(this,arguments),fl){if(fl){var Le=Zs;fl=!1,Zs=null}else throw Error(r(198));su||(su=!0,Ys=Le)}}function So(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function fh(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function hh(i){if(So(i)!==i)throw Error(r(188))}function Xy(i){var o=i.alternate;if(!o){if(o=So(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,m=o;;){var x=c.return;if(x===null)break;var E=x.alternate;if(E===null){if(m=x.return,m!==null){c=m;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===c)return hh(x),i;if(E===m)return hh(x),o;E=E.sibling}throw Error(r(188))}if(c.return!==m.return)c=x,m=E;else{for(var P=!1,oe=x.child;oe;){if(oe===c){P=!0,c=x,m=E;break}if(oe===m){P=!0,m=x,c=E;break}oe=oe.sibling}if(!P){for(oe=E.child;oe;){if(oe===c){P=!0,c=E,m=x;break}if(oe===m){P=!0,m=E,c=x;break}oe=oe.sibling}if(!P)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function ph(i){return i=Xy(i),i!==null?mh(i):null}function mh(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=mh(i);if(o!==null)return o;i=i.sibling}return null}var yh=e.unstable_scheduleCallback,Uc=e.unstable_cancelCallback,eg=e.unstable_shouldYield,tg=e.unstable_requestPaint,en=e.unstable_now,rg=e.unstable_getCurrentPriorityLevel,Vc=e.unstable_ImmediatePriority,gh=e.unstable_UserBlockingPriority,ou=e.unstable_NormalPriority,ng=e.unstable_LowPriority,vh=e.unstable_IdlePriority,au=null,Zi=null;function ig(i){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(au,i,void 0,(i.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:ag,sg=Math.log,og=Math.LN2;function ag(i){return i>>>=0,i===0?32:31-(sg(i)/og|0)|0}var ia=64,lu=4194304;function xs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return i&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return i}}function uu(i,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,x=i.suspendedLanes,E=i.pingedLanes,P=c&0xfffffff;if(P!==0){var oe=P&~x;oe!==0?m=xs(oe):(E&=P,E!==0&&(m=xs(E)))}else P=c&~x,P!==0?m=xs(P):E!==0&&(m=xs(E));if(m===0)return 0;if(o!==0&&o!==m&&!(o&x)&&(x=m&-m,E=o&-o,x>=E||x===16&&(E&4194240)!==0))return o;if(m&4&&(m|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=m;0<o;)c=31-hi(o),x=1<<c,m|=i[c],o&=~x;return m}function lg(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function ug(i,o){for(var c=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,E=i.pendingLanes;0<E;){var P=31-hi(E),oe=1<<P,de=x[P];de===-1?(!(oe&c)||oe&m)&&(x[P]=lg(oe,o)):de<=o&&(i.expiredLanes|=oe),E&=~oe}}function Hc(i){return i=i.pendingLanes&-0x40000001,i!==0?i:i&0x40000000?0x40000000:0}function _h(){var i=ia;return ia<<=1,!(ia&4194240)&&(ia=64),i}function Qc(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function hl(i,o,c){i.pendingLanes|=o,o!==0x20000000&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-hi(o),i[o]=c}function cg(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<c;){var x=31-hi(c),E=1<<x;o[x]=0,m[x]=-1,i[x]=-1,c&=~E}}function Kc(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var m=31-hi(c),x=1<<m;x&o|i[m]&o&&(i[m]|=o),c&=~x}}var Sr=0;function bh(i){return i&=-i,1<i?4<i?i&0xfffffff?16:0x20000000:4:1}var Gc,ee,Jc,pl,Zc,f=!1,h=[],_=null,b=null,S=null,O=new Map,Y=new Map,te=[],je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ue(i,o){switch(i){case"focusin":case"focusout":_=null;break;case"dragenter":case"dragleave":b=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":O.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Y.delete(o.pointerId)}}function Je(i,o,c,m,x,E){return i===null||i.nativeEvent!==E?(i={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:E,targetContainers:[x]},o!==null&&(o=ld(o),o!==null&&ee(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function rt(i,o,c,m,x){switch(o){case"focusin":return _=Je(_,i,o,c,m,x),!0;case"dragenter":return b=Je(b,i,o,c,m,x),!0;case"mouseover":return S=Je(S,i,o,c,m,x),!0;case"pointerover":var E=x.pointerId;return O.set(E,Je(O.get(E)||null,i,o,c,m,x)),!0;case"gotpointercapture":return E=x.pointerId,Y.set(E,Je(Y.get(E)||null,i,o,c,m,x)),!0}return!1}function Ae(i){var o=ml(i.target);if(o!==null){var c=So(o);if(c!==null){if(o=c.tag,o===13){if(o=fh(c),o!==null){i.blockedOn=o,Zc(i.priority,function(){Jc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xe(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=G(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);Mc=m,c.target.dispatchEvent(m),Mc=null}else return o=ld(c),o!==null&&ee(o),i.blockedOn=c,!1;o.shift()}return!0}function ze(i,o,c){xe(i)&&c.delete(o)}function le(){f=!1,_!==null&&xe(_)&&(_=null),b!==null&&xe(b)&&(b=null),S!==null&&xe(S)&&(S=null),O.forEach(ze),Y.forEach(ze)}function he(i,o){i.blockedOn===o&&(i.blockedOn=null,f||(f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,le)))}function _e(i){function o(x){return he(x,i)}if(0<h.length){he(h[0],i);for(var c=1;c<h.length;c++){var m=h[c];m.blockedOn===i&&(m.blockedOn=null)}}for(_!==null&&he(_,i),b!==null&&he(b,i),S!==null&&he(S,i),O.forEach(o),Y.forEach(o),c=0;c<te.length;c++)m=te[c],m.blockedOn===i&&(m.blockedOn=null);for(;0<te.length&&(c=te[0],c.blockedOn===null);)Ae(c),c.blockedOn===null&&te.shift()}var $e=V.ReactCurrentBatchConfig,Be=!0;function we(i,o,c,m){var x=Sr,E=$e.transition;$e.transition=null;try{Sr=1,ht(i,o,c,m)}finally{Sr=x,$e.transition=E}}function Me(i,o,c,m){var x=Sr,E=$e.transition;$e.transition=null;try{Sr=4,ht(i,o,c,m)}finally{Sr=x,$e.transition=E}}function ht(i,o,c,m){if(Be){var x=G(i,o,c,m);if(x===null)Eg(i,o,m,F,c),Ue(i,m);else if(rt(x,i,o,c,m))m.stopPropagation();else if(Ue(i,m),o&4&&-1<je.indexOf(i)){for(;x!==null;){var E=ld(x);if(E!==null&&Gc(E),E=G(i,o,c,m),E===null&&Eg(i,o,m,F,c),E===x)break;x=E}x!==null&&m.stopPropagation()}else Eg(i,o,m,null,c)}}var F=null;function G(i,o,c,m){if(F=null,i=Bc(m),i=ml(i),i!==null)if(o=So(i),o===null)i=null;else if(c=o.tag,c===13){if(i=fh(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return F=i,null}function fe(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rg()){case Vc:return 1;case gh:return 4;case ou:case ng:return 16;case vh:return 0x20000000;default:return 16}default:return 16}}var Qe=null,z=null,X=null;function C(){if(X)return X;var i,o=z,c=o.length,m,x="value"in Qe?Qe.value:Qe.textContent,E=x.length;for(i=0;i<c&&o[i]===x[i];i++);var P=c-i;for(m=1;m<=P&&o[c-m]===x[E-m];m++);return X=x.slice(i,1<m?1-m:void 0)}function j(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function W(){return!0}function Ie(){return!1}function He(i){function o(c,m,x,E,P){this._reactName=c,this._targetInst=x,this.type=m,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var oe in i)i.hasOwnProperty(oe)&&(c=i[oe],this[oe]=c?c(E):E[oe]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?W:Ie,this.isPropagationStopped=Ie,this}return Ne(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=W)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=W)},persist:function(){},isPersistent:W}),o}var Et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lt=He(Et),$t=Ne({},Et,{view:0,detail:0}),Ze=He($t),ce,ke,Ke,et=Ne({},$t,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ke&&(Ke&&i.type==="mousemove"?(ce=i.screenX-Ke.screenX,ke=i.screenY-Ke.screenY):ke=ce=0,Ke=i),ce)},movementY:function(i){return"movementY"in i?i.movementY:ke}}),qt=He(et),Wt=Ne({},et,{dataTransfer:0}),Ee=He(Wt),Ve=Ne({},$t,{relatedTarget:0}),Ye=He(Ve),bt=Ne({},Et,{animationName:0,elapsedTime:0,pseudoElement:0}),ut=He(bt),Ft=Ne({},Et,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nr=He(Ft),Nt=Ne({},Et,{data:0}),tn=He(Nt),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ct[i])?!!o[i]:!1}function sr(){return wt}var Cr=Ne({},$t,{key:function(i){if(i.key){var o=Pe[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=j(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?st[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(i){return i.type==="keypress"?j(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?j(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Nr=He(Cr),Ir=Ne({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=He(Ir),Rn=Ne({},$t,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),dg=He(Rn),fg=Ne({},Et,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yi=He(fg),hg=Ne({},et,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wh=He(hg),Yc=[9,13,27,32],pg=u&&"CompositionEvent"in window,Xc=null;u&&"documentMode"in document&&(Xc=document.documentMode);var FC=u&&"TextEvent"in window&&!Xc,B0=u&&(!pg||Xc&&8<Xc&&11>=Xc),$0=" ",W0=!1;function z0(i,o){switch(i){case"keyup":return Yc.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var cu=!1;function LC(i,o){switch(i){case"compositionend":return U0(o);case"keypress":return o.which!==32?null:(W0=!0,$0);case"textInput":return i=o.data,i===$0&&W0?null:i;default:return null}}function jC(i,o){if(cu)return i==="compositionend"||!pg&&z0(i,o)?(i=C(),X=z=Qe=null,cu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return B0&&o.locale!=="ko"?null:o.data;default:return null}}var DC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!DC[i.type]:o==="textarea"}function H0(i,o,c,m){rr(m),o=kh(o,"onChange"),0<o.length&&(c=new Lt("onChange","change",null,c,m),i.push({event:c,listeners:o}))}var ed=null,td=null;function MC(i){cx(i,0)}function xh(i){var o=mu(i);if(Ct(o))return i}function BC(i,o){if(i==="change")return o}var Q0=!1;if(u){var mg;if(u){var yg="oninput"in document;if(!yg){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),yg=typeof K0.oninput=="function"}mg=yg}else mg=!1;Q0=mg&&(!document.documentMode||9<document.documentMode)}function G0(){ed&&(ed.detachEvent("onpropertychange",J0),td=ed=null)}function J0(i){if(i.propertyName==="value"&&xh(td)){var o=[];H0(o,td,i,Bc(i)),cl(MC,o)}}function $C(i,o,c){i==="focusin"?(G0(),ed=o,td=c,ed.attachEvent("onpropertychange",J0)):i==="focusout"&&G0()}function WC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xh(td)}function zC(i,o){if(i==="click")return xh(o)}function UC(i,o){if(i==="input"||i==="change")return xh(o)}function VC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ss=typeof Object.is=="function"?Object.is:VC;function rd(i,o){if(Ss(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var x=c[m];if(!d.call(o,x)||!Ss(i[x],o[x]))return!1}return!0}function Z0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Y0(i,o){var c=Z0(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=o&&m>=o)return{node:c,offset:o-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Z0(c)}}function X0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?X0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ex(){for(var i=window,o=It();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=It(i.document)}return o}function gg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function HC(i){var o=ex(),c=i.focusedElem,m=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&X0(c.ownerDocument.documentElement,c)){if(m!==null&&gg(c)){if(o=m.start,i=m.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var x=c.textContent.length,E=Math.min(m.start,x);m=m.end===void 0?E:Math.min(m.end,x),!i.extend&&E>m&&(x=m,m=E,E=x),x=Y0(c,E);var P=Y0(c,m);x&&P&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),i.removeAllRanges(),E>m?(i.addRange(o),i.extend(P.node,P.offset)):(o.setEnd(P.node,P.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var QC=u&&"documentMode"in document&&11>=document.documentMode,du=null,vg=null,nd=null,_g=!1;function tx(i,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;_g||du==null||du!==It(m)||(m=du,"selectionStart"in m&&gg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),nd&&rd(nd,m)||(nd=m,m=kh(vg,"onSelect"),0<m.length&&(o=new Lt("onSelect","select",null,o,c),i.push({event:o,listeners:m}),o.target=du)))}function Sh(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var fu={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},bg={},rx={};u&&(rx=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function Eh(i){if(bg[i])return bg[i];if(!fu[i])return i;var o=fu[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in rx)return bg[i]=o[c];return i}var nx=Eh("animationend"),ix=Eh("animationiteration"),sx=Eh("animationstart"),ox=Eh("transitionend"),ax=new Map,lx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(i,o){ax.set(i,o),a(o,[i])}for(var wg=0;wg<lx.length;wg++){var xg=lx[wg],KC=xg.toLowerCase(),GC=xg[0].toUpperCase()+xg.slice(1);sa(KC,"on"+GC)}sa(nx,"onAnimationEnd"),sa(ix,"onAnimationIteration"),sa(sx,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(ox,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("cancel close invalid load scroll toggle".split(" ").concat(id));function ux(i,o,c){var m=i.type||"unknown-event";i.currentTarget=c,Yy(m,o,void 0,i),i.currentTarget=null}function cx(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],x=m.event;m=m.listeners;e:{var E=void 0;if(o)for(var P=m.length-1;0<=P;P--){var oe=m[P],de=oe.instance,Le=oe.currentTarget;if(oe=oe.listener,de!==E&&x.isPropagationStopped())break e;ux(x,oe,Le),E=de}else for(P=0;P<m.length;P++){if(oe=m[P],de=oe.instance,Le=oe.currentTarget,oe=oe.listener,de!==E&&x.isPropagationStopped())break e;ux(x,oe,Le),E=de}}}if(su)throw i=Ys,su=!1,Ys=null,i}function zr(i,o){var c=o[Cg];c===void 0&&(c=o[Cg]=new Set);var m=i+"__bubble";c.has(m)||(dx(o,i,2,!1),c.add(m))}function Sg(i,o,c){var m=0;o&&(m|=4),dx(c,i,m,o)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function sd(i){if(!i[Nh]){i[Nh]=!0,n.forEach(function(c){c!=="selectionchange"&&(JC.has(c)||Sg(c,!1,i),Sg(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Nh]||(o[Nh]=!0,Sg("selectionchange",!1,o))}}function dx(i,o,c,m){switch(fe(o)){case 1:var x=we;break;case 4:x=Me;break;default:x=ht}c=x.bind(null,o,c,i),x=void 0,!zc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?i.addEventListener(o,c,{capture:!0,passive:x}):i.addEventListener(o,c,!0):x!==void 0?i.addEventListener(o,c,{passive:x}):i.addEventListener(o,c,!1)}function Eg(i,o,c,m,x){var E=m;if(!(o&1)&&!(o&2)&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var oe=m.stateNode.containerInfo;if(oe===x||oe.nodeType===8&&oe.parentNode===x)break;if(P===4)for(P=m.return;P!==null;){var de=P.tag;if((de===3||de===4)&&(de=P.stateNode.containerInfo,de===x||de.nodeType===8&&de.parentNode===x))return;P=P.return}for(;oe!==null;){if(P=ml(oe),P===null)return;if(de=P.tag,de===5||de===6){m=E=P;continue e}oe=oe.parentNode}}m=m.return}cl(function(){var Le=E,tt=Bc(c),nt=[];e:{var Xe=ax.get(i);if(Xe!==void 0){var kt=Lt,At=i;switch(i){case"keypress":if(j(c)===0)break e;case"keydown":case"keyup":kt=Nr;break;case"focusin":At="focus",kt=Ye;break;case"focusout":At="blur",kt=Ye;break;case"beforeblur":case"afterblur":kt=Ye;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Ee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=dg;break;case nx:case ix:case sx:kt=ut;break;case ox:kt=Yi;break;case"scroll":kt=Ze;break;case"wheel":kt=wh;break;case"copy":case"cut":case"paste":kt=nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Eo}var jt=(o&4)!==0,dn=!jt&&i==="scroll",Oe=jt?Xe!==null?Xe+"Capture":null:Xe;jt=[];for(var ge=Le,Re;ge!==null;){Re=ge;var ot=Re.stateNode;if(Re.tag===5&&ot!==null&&(Re=ot,Oe!==null&&(ot=Ji(ge,Oe),ot!=null&&jt.push(od(ge,ot,Re)))),dn)break;ge=ge.return}0<jt.length&&(Xe=new kt(Xe,At,null,c,tt),nt.push({event:Xe,listeners:jt}))}}if(!(o&7)){e:{if(Xe=i==="mouseover"||i==="pointerover",kt=i==="mouseout"||i==="pointerout",Xe&&c!==Mc&&(At=c.relatedTarget||c.fromElement)&&(ml(At)||At[No]))break e;if((kt||Xe)&&(Xe=tt.window===tt?tt:(Xe=tt.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,kt?(At=c.relatedTarget||c.toElement,kt=Le,At=At?ml(At):null,At!==null&&(dn=So(At),At!==dn||At.tag!==5&&At.tag!==6)&&(At=null)):(kt=null,At=Le),kt!==At)){if(jt=qt,ot="onMouseLeave",Oe="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(jt=Eo,ot="onPointerLeave",Oe="onPointerEnter",ge="pointer"),dn=kt==null?Xe:mu(kt),Re=At==null?Xe:mu(At),Xe=new jt(ot,ge+"leave",kt,c,tt),Xe.target=dn,Xe.relatedTarget=Re,ot=null,ml(tt)===Le&&(jt=new jt(Oe,ge+"enter",At,c,tt),jt.target=Re,jt.relatedTarget=dn,ot=jt),dn=ot,kt&&At)t:{for(jt=kt,Oe=At,ge=0,Re=jt;Re;Re=hu(Re))ge++;for(Re=0,ot=Oe;ot;ot=hu(ot))Re++;for(;0<ge-Re;)jt=hu(jt),ge--;for(;0<Re-ge;)Oe=hu(Oe),Re--;for(;ge--;){if(jt===Oe||Oe!==null&&jt===Oe.alternate)break t;jt=hu(jt),Oe=hu(Oe)}jt=null}else jt=null;kt!==null&&fx(nt,Xe,kt,jt,!1),At!==null&&dn!==null&&fx(nt,dn,At,jt,!0)}}e:{if(Xe=Le?mu(Le):window,kt=Xe.nodeName&&Xe.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Xe.type==="file")var Dt=BC;else if(V0(Xe))if(Q0)Dt=UC;else{Dt=WC;var zt=$C}else(kt=Xe.nodeName)&&kt.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(Dt=zC);if(Dt&&(Dt=Dt(i,Le))){H0(nt,Dt,c,tt);break e}zt&&zt(i,Xe,Le),i==="focusout"&&(zt=Xe._wrapperState)&&zt.controlled&&Xe.type==="number"&&ue(Xe,"number",Xe.value)}switch(zt=Le?mu(Le):window,i){case"focusin":(V0(zt)||zt.contentEditable==="true")&&(du=zt,vg=Le,nd=null);break;case"focusout":nd=vg=du=null;break;case"mousedown":_g=!0;break;case"contextmenu":case"mouseup":case"dragend":_g=!1,tx(nt,c,tt);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":tx(nt,c,tt)}var Ut;if(pg)e:{switch(i){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else cu?z0(i,c)&&(Jt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Jt="onCompositionStart");Jt&&(B0&&c.locale!=="ko"&&(cu||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&cu&&(Ut=C()):(Qe=tt,z="value"in Qe?Qe.value:Qe.textContent,cu=!0)),zt=kh(Le,Jt),0<zt.length&&(Jt=new tn(Jt,i,null,c,tt),nt.push({event:Jt,listeners:zt}),Ut?Jt.data=Ut:(Ut=U0(c),Ut!==null&&(Jt.data=Ut)))),(Ut=FC?LC(i,c):jC(i,c))&&(Le=kh(Le,"onBeforeInput"),0<Le.length&&(tt=new tn("onBeforeInput","beforeinput",null,c,tt),nt.push({event:tt,listeners:Le}),tt.data=Ut))}cx(nt,o)})}function od(i,o,c){return{instance:i,listener:o,currentTarget:c}}function kh(i,o){for(var c=o+"Capture",m=[];i!==null;){var x=i,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=Ji(i,c),E!=null&&m.unshift(od(i,E,x)),E=Ji(i,o),E!=null&&m.push(od(i,E,x))),i=i.return}return m}function hu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function fx(i,o,c,m,x){for(var E=o._reactName,P=[];c!==null&&c!==m;){var oe=c,de=oe.alternate,Le=oe.stateNode;if(de!==null&&de===m)break;oe.tag===5&&Le!==null&&(oe=Le,x?(de=Ji(c,E),de!=null&&P.unshift(od(c,de,oe))):x||(de=Ji(c,E),de!=null&&P.push(od(c,de,oe)))),c=c.return}P.length!==0&&i.push({event:o,listeners:P})}var ZC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function hx(i){return(typeof i=="string"?i:""+i).replace(ZC,`
`).replace(YC,"")}function Oh(i,o,c){if(o=hx(o),hx(i)!==o&&c)throw Error(r(425))}function Ih(){}var Ng=null,kg=null;function Og(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ig=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,px=typeof Promise=="function"?Promise:void 0,eq=typeof queueMicrotask=="function"?queueMicrotask:typeof px<"u"?function(i){return px.resolve(null).then(i).catch(tq)}:Ig;function tq(i){setTimeout(function(){throw i})}function Tg(i,o){var c=o,m=0;do{var x=c.nextSibling;if(i.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(m===0){i.removeChild(x),_e(o);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=x}while(c);_e(o)}function oa(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function mx(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var pu=Math.random().toString(36).slice(2),Xs="__reactFiber$"+pu,ad="__reactProps$"+pu,No="__reactContainer$"+pu,Cg="__reactEvents$"+pu,rq="__reactListeners$"+pu,nq="__reactHandles$"+pu;function ml(i){var o=i[Xs];if(o)return o;for(var c=i.parentNode;c;){if(o=c[No]||c[Xs]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=mx(i);i!==null;){if(c=i[Xs])return c;i=mx(i)}return o}i=c,c=i.parentNode}return null}function ld(i){return i=i[Xs]||i[No],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function mu(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Th(i){return i[ad]||null}var qg=[],yu=-1;function aa(i){return{current:i}}function Ur(i){0>yu||(i.current=qg[yu],qg[yu]=null,yu--)}function Dr(i,o){yu++,qg[yu]=i.current,i.current=o}var la={},Bn=aa(la),pi=aa(!1),yl=la;function gu(i,o){var c=i.type.contextTypes;if(!c)return la;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in c)x[E]=o[E];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=x),x}function mi(i){return i=i.childContextTypes,i!=null}function Ch(){Ur(pi),Ur(Bn)}function yx(i,o,c){if(Bn.current!==la)throw Error(r(168));Dr(Bn,o),Dr(pi,c)}function gx(i,o,c){var m=i.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var x in m)if(!(x in o))throw Error(r(108,ft(i)||"Unknown",x));return Ne({},c,m)}function qh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||la,yl=Bn.current,Dr(Bn,i),Dr(pi,pi.current),!0}function vx(i,o,c){var m=i.stateNode;if(!m)throw Error(r(169));c?(i=gx(i,o,yl),m.__reactInternalMemoizedMergedChildContext=i,Ur(pi),Ur(Bn),Dr(Bn,i)):Ur(pi),Dr(pi,c)}var ko=null,Rh=!1,Rg=!1;function _x(i){ko===null?ko=[i]:ko.push(i)}function iq(i){Rh=!0,_x(i)}function ua(){if(!Rg&&ko!==null){Rg=!0;var i=0,o=Sr;try{var c=ko;for(Sr=1;i<c.length;i++){var m=c[i];do m=m(!0);while(m!==null)}ko=null,Rh=!1}catch(x){throw ko!==null&&(ko=ko.slice(i+1)),yh(Vc,ua),x}finally{Sr=o,Rg=!1}}return null}var vu=[],_u=0,Ah=null,Ph=0,Xi=[],es=0,gl=null,Oo=1,Io="";function vl(i,o){vu[_u++]=Ph,vu[_u++]=Ah,Ah=i,Ph=o}function bx(i,o,c){Xi[es++]=Oo,Xi[es++]=Io,Xi[es++]=gl,gl=i;var m=Oo;i=Io;var x=32-hi(m)-1;m&=~(1<<x),c+=1;var E=32-hi(o)+x;if(30<E){var P=x-x%5;E=(m&(1<<P)-1).toString(32),m>>=P,x-=P,Oo=1<<32-hi(o)+x|c<<x|m,Io=E+i}else Oo=1<<E|c<<x|m,Io=i}function Ag(i){i.return!==null&&(vl(i,1),bx(i,1,0))}function Pg(i){for(;i===Ah;)Ah=vu[--_u],vu[_u]=null,Ph=vu[--_u],vu[_u]=null;for(;i===gl;)gl=Xi[--es],Xi[es]=null,Io=Xi[--es],Xi[es]=null,Oo=Xi[--es],Xi[es]=null}var Ai=null,Pi=null,Hr=!1,Es=null;function wx(i,o){var c=is(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function xx(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Ai=i,Pi=oa(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Ai=i,Pi=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=gl!==null?{id:Oo,overflow:Io}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:0x40000000},c=is(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Ai=i,Pi=null,!0):!1;default:return!1}}function Fg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Lg(i){if(Hr){var o=Pi;if(o){var c=o;if(!xx(i,o)){if(Fg(i))throw Error(r(418));o=oa(c.nextSibling);var m=Ai;o&&xx(i,o)?wx(m,c):(i.flags=i.flags&-4097|2,Hr=!1,Ai=i)}}else{if(Fg(i))throw Error(r(418));i.flags=i.flags&-4097|2,Hr=!1,Ai=i}}}function Sx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ai=i}function Fh(i){if(i!==Ai)return!1;if(!Hr)return Sx(i),Hr=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Og(i.type,i.memoizedProps)),o&&(o=Pi)){if(Fg(i))throw Ex(),Error(r(418));for(;o;)wx(i,o),o=oa(o.nextSibling)}if(Sx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Pi=oa(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Pi=null}}else Pi=Ai?oa(i.stateNode.nextSibling):null;return!0}function Ex(){for(var i=Pi;i;)i=oa(i.nextSibling)}function bu(){Pi=Ai=null,Hr=!1}function jg(i){Es===null?Es=[i]:Es.push(i)}var sq=V.ReactCurrentBatchConfig;function ud(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var m=c.stateNode}if(!m)throw Error(r(147,i));var x=m,E=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(P){var oe=x.refs;P===null?delete oe[E]:oe[E]=P},o._stringRef=E,o)}if(typeof i!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,i))}return i}function Lh(i,o){throw i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Nx(i){var o=i._init;return o(i._payload)}function kx(i){function o(Oe,ge){if(i){var Re=Oe.deletions;Re===null?(Oe.deletions=[ge],Oe.flags|=16):Re.push(ge)}}function c(Oe,ge){if(!i)return null;for(;ge!==null;)o(Oe,ge),ge=ge.sibling;return null}function m(Oe,ge){for(Oe=new Map;ge!==null;)ge.key!==null?Oe.set(ge.key,ge):Oe.set(ge.index,ge),ge=ge.sibling;return Oe}function x(Oe,ge){return Oe=ga(Oe,ge),Oe.index=0,Oe.sibling=null,Oe}function E(Oe,ge,Re){return Oe.index=Re,i?(Re=Oe.alternate,Re!==null?(Re=Re.index,Re<ge?(Oe.flags|=2,ge):Re):(Oe.flags|=2,ge)):(Oe.flags|=1048576,ge)}function P(Oe){return i&&Oe.alternate===null&&(Oe.flags|=2),Oe}function oe(Oe,ge,Re,ot){return ge===null||ge.tag!==6?(ge=Iv(Re,Oe.mode,ot),ge.return=Oe,ge):(ge=x(ge,Re),ge.return=Oe,ge)}function de(Oe,ge,Re,ot){var Dt=Re.type;return Dt===J?tt(Oe,ge,Re.props.children,ot,Re.key):ge!==null&&(ge.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Te&&Nx(Dt)===ge.type)?(ot=x(ge,Re.props),ot.ref=ud(Oe,ge,Re),ot.return=Oe,ot):(ot=op(Re.type,Re.key,Re.props,null,Oe.mode,ot),ot.ref=ud(Oe,ge,Re),ot.return=Oe,ot)}function Le(Oe,ge,Re,ot){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Re.containerInfo||ge.stateNode.implementation!==Re.implementation?(ge=Tv(Re,Oe.mode,ot),ge.return=Oe,ge):(ge=x(ge,Re.children||[]),ge.return=Oe,ge)}function tt(Oe,ge,Re,ot,Dt){return ge===null||ge.tag!==7?(ge=kl(Re,Oe.mode,ot,Dt),ge.return=Oe,ge):(ge=x(ge,Re),ge.return=Oe,ge)}function nt(Oe,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Iv(""+ge,Oe.mode,Re),ge.return=Oe,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case K:return Re=op(ge.type,ge.key,ge.props,null,Oe.mode,Re),Re.ref=ud(Oe,null,ge),Re.return=Oe,Re;case B:return ge=Tv(ge,Oe.mode,Re),ge.return=Oe,ge;case Te:var ot=ge._init;return nt(Oe,ot(ge._payload),Re)}if(ye(ge)||me(ge))return ge=kl(ge,Oe.mode,Re,null),ge.return=Oe,ge;Lh(Oe,ge)}return null}function Xe(Oe,ge,Re,ot){var Dt=ge!==null?ge.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Dt!==null?null:oe(Oe,ge,""+Re,ot);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case K:return Re.key===Dt?de(Oe,ge,Re,ot):null;case B:return Re.key===Dt?Le(Oe,ge,Re,ot):null;case Te:return Dt=Re._init,Xe(Oe,ge,Dt(Re._payload),ot)}if(ye(Re)||me(Re))return Dt!==null?null:tt(Oe,ge,Re,ot,null);Lh(Oe,Re)}return null}function kt(Oe,ge,Re,ot,Dt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Oe=Oe.get(Re)||null,oe(ge,Oe,""+ot,Dt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case K:return Oe=Oe.get(ot.key===null?Re:ot.key)||null,de(ge,Oe,ot,Dt);case B:return Oe=Oe.get(ot.key===null?Re:ot.key)||null,Le(ge,Oe,ot,Dt);case Te:var zt=ot._init;return kt(Oe,ge,Re,zt(ot._payload),Dt)}if(ye(ot)||me(ot))return Oe=Oe.get(Re)||null,tt(ge,Oe,ot,Dt,null);Lh(ge,ot)}return null}function At(Oe,ge,Re,ot){for(var Dt=null,zt=null,Ut=ge,Jt=ge=0,Tn=null;Ut!==null&&Jt<Re.length;Jt++){Ut.index>Jt?(Tn=Ut,Ut=null):Tn=Ut.sibling;var wr=Xe(Oe,Ut,Re[Jt],ot);if(wr===null){Ut===null&&(Ut=Tn);break}i&&Ut&&wr.alternate===null&&o(Oe,Ut),ge=E(wr,ge,Jt),zt===null?Dt=wr:zt.sibling=wr,zt=wr,Ut=Tn}if(Jt===Re.length)return c(Oe,Ut),Hr&&vl(Oe,Jt),Dt;if(Ut===null){for(;Jt<Re.length;Jt++)Ut=nt(Oe,Re[Jt],ot),Ut!==null&&(ge=E(Ut,ge,Jt),zt===null?Dt=Ut:zt.sibling=Ut,zt=Ut);return Hr&&vl(Oe,Jt),Dt}for(Ut=m(Oe,Ut);Jt<Re.length;Jt++)Tn=kt(Ut,Oe,Jt,Re[Jt],ot),Tn!==null&&(i&&Tn.alternate!==null&&Ut.delete(Tn.key===null?Jt:Tn.key),ge=E(Tn,ge,Jt),zt===null?Dt=Tn:zt.sibling=Tn,zt=Tn);return i&&Ut.forEach(function(va){return o(Oe,va)}),Hr&&vl(Oe,Jt),Dt}function jt(Oe,ge,Re,ot){var Dt=me(Re);if(typeof Dt!="function")throw Error(r(150));if(Re=Dt.call(Re),Re==null)throw Error(r(151));for(var zt=Dt=null,Ut=ge,Jt=ge=0,Tn=null,wr=Re.next();Ut!==null&&!wr.done;Jt++,wr=Re.next()){Ut.index>Jt?(Tn=Ut,Ut=null):Tn=Ut.sibling;var va=Xe(Oe,Ut,wr.value,ot);if(va===null){Ut===null&&(Ut=Tn);break}i&&Ut&&va.alternate===null&&o(Oe,Ut),ge=E(va,ge,Jt),zt===null?Dt=va:zt.sibling=va,zt=va,Ut=Tn}if(wr.done)return c(Oe,Ut),Hr&&vl(Oe,Jt),Dt;if(Ut===null){for(;!wr.done;Jt++,wr=Re.next())wr=nt(Oe,wr.value,ot),wr!==null&&(ge=E(wr,ge,Jt),zt===null?Dt=wr:zt.sibling=wr,zt=wr);return Hr&&vl(Oe,Jt),Dt}for(Ut=m(Oe,Ut);!wr.done;Jt++,wr=Re.next())wr=kt(Ut,Oe,Jt,wr.value,ot),wr!==null&&(i&&wr.alternate!==null&&Ut.delete(wr.key===null?Jt:wr.key),ge=E(wr,ge,Jt),zt===null?Dt=wr:zt.sibling=wr,zt=wr);return i&&Ut.forEach(function(Dq){return o(Oe,Dq)}),Hr&&vl(Oe,Jt),Dt}function dn(Oe,ge,Re,ot){if(typeof Re=="object"&&Re!==null&&Re.type===J&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case K:e:{for(var Dt=Re.key,zt=ge;zt!==null;){if(zt.key===Dt){if(Dt=Re.type,Dt===J){if(zt.tag===7){c(Oe,zt.sibling),ge=x(zt,Re.props.children),ge.return=Oe,Oe=ge;break e}}else if(zt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Te&&Nx(Dt)===zt.type){c(Oe,zt.sibling),ge=x(zt,Re.props),ge.ref=ud(Oe,zt,Re),ge.return=Oe,Oe=ge;break e}c(Oe,zt);break}else o(Oe,zt);zt=zt.sibling}Re.type===J?(ge=kl(Re.props.children,Oe.mode,ot,Re.key),ge.return=Oe,Oe=ge):(ot=op(Re.type,Re.key,Re.props,null,Oe.mode,ot),ot.ref=ud(Oe,ge,Re),ot.return=Oe,Oe=ot)}return P(Oe);case B:e:{for(zt=Re.key;ge!==null;){if(ge.key===zt)if(ge.tag===4&&ge.stateNode.containerInfo===Re.containerInfo&&ge.stateNode.implementation===Re.implementation){c(Oe,ge.sibling),ge=x(ge,Re.children||[]),ge.return=Oe,Oe=ge;break e}else{c(Oe,ge);break}else o(Oe,ge);ge=ge.sibling}ge=Tv(Re,Oe.mode,ot),ge.return=Oe,Oe=ge}return P(Oe);case Te:return zt=Re._init,dn(Oe,ge,zt(Re._payload),ot)}if(ye(Re))return At(Oe,ge,Re,ot);if(me(Re))return jt(Oe,ge,Re,ot);Lh(Oe,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ge!==null&&ge.tag===6?(c(Oe,ge.sibling),ge=x(ge,Re),ge.return=Oe,Oe=ge):(c(Oe,ge),ge=Iv(Re,Oe.mode,ot),ge.return=Oe,Oe=ge),P(Oe)):c(Oe,ge)}return dn}var wu=kx(!0),Ox=kx(!1),jh=aa(null),Dh=null,xu=null,Dg=null;function Mg(){Dg=xu=Dh=null}function Bg(i){var o=jh.current;Ur(jh),i._currentValue=o}function $g(i,o,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===c)break;i=i.return}}function Su(i,o){Dh=i,Dg=xu=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(yi=!0),i.firstContext=null)}function ts(i){var o=i._currentValue;if(Dg!==i)if(i={context:i,memoizedValue:o,next:null},xu===null){if(Dh===null)throw Error(r(308));xu=i,Dh.dependencies={lanes:0,firstContext:i}}else xu=xu.next=i;return o}var _l=null;function Wg(i){_l===null?_l=[i]:_l.push(i)}function Ix(i,o,c,m){var x=o.interleaved;return x===null?(c.next=c,Wg(o)):(c.next=x.next,x.next=c),o.interleaved=c,To(i,m)}function To(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var ca=!1;function zg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Co(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function da(i,o,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,gr&2){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,To(i,c)}return x=m.interleaved,x===null?(o.next=o,Wg(m)):(o.next=x.next,x.next=o),m.interleaved=o,To(i,c)}function Mh(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,Kc(i,c)}}function Cx(i,o){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var x=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?x=E=P:E=E.next=P,c=c.next}while(c!==null);E===null?x=E=o:E=E.next=o}else x=E=o;c={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:m.shared,effects:m.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function Bh(i,o,c,m){var x=i.updateQueue;ca=!1;var E=x.firstBaseUpdate,P=x.lastBaseUpdate,oe=x.shared.pending;if(oe!==null){x.shared.pending=null;var de=oe,Le=de.next;de.next=null,P===null?E=Le:P.next=Le,P=de;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,oe=tt.lastBaseUpdate,oe!==P&&(oe===null?tt.firstBaseUpdate=Le:oe.next=Le,tt.lastBaseUpdate=de))}if(E!==null){var nt=x.baseState;P=0,tt=Le=de=null,oe=E;do{var Xe=oe.lane,kt=oe.eventTime;if((m&Xe)===Xe){tt!==null&&(tt=tt.next={eventTime:kt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var At=i,jt=oe;switch(Xe=o,kt=c,jt.tag){case 1:if(At=jt.payload,typeof At=="function"){nt=At.call(kt,nt,Xe);break e}nt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=jt.payload,Xe=typeof At=="function"?At.call(kt,nt,Xe):At,Xe==null)break e;nt=Ne({},nt,Xe);break e;case 2:ca=!0}}oe.callback!==null&&oe.lane!==0&&(i.flags|=64,Xe=x.effects,Xe===null?x.effects=[oe]:Xe.push(oe))}else kt={eventTime:kt,lane:Xe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},tt===null?(Le=tt=kt,de=nt):tt=tt.next=kt,P|=Xe;if(oe=oe.next,oe===null){if(oe=x.shared.pending,oe===null)break;Xe=oe,oe=Xe.next,Xe.next=null,x.lastBaseUpdate=Xe,x.shared.pending=null}}while(!0);if(tt===null&&(de=nt),x.baseState=de,x.firstBaseUpdate=Le,x.lastBaseUpdate=tt,o=x.shared.interleaved,o!==null){x=o;do P|=x.lane,x=x.next;while(x!==o)}else E===null&&(x.shared.lanes=0);xl|=P,i.lanes=P,i.memoizedState=nt}}function qx(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var m=i[o],x=m.callback;if(x!==null){if(m.callback=null,m=c,typeof x!="function")throw Error(r(191,x));x.call(m)}}}var cd={},eo=aa(cd),dd=aa(cd),fd=aa(cd);function bl(i){if(i===cd)throw Error(r(174));return i}function Ug(i,o){switch(Dr(fd,o),Dr(dd,i),Dr(eo,cd),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mr(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=mr(o,i)}Ur(eo),Dr(eo,o)}function Eu(){Ur(eo),Ur(dd),Ur(fd)}function Rx(i){bl(fd.current);var o=bl(eo.current),c=mr(o,i.type);o!==c&&(Dr(dd,i),Dr(eo,c))}function Vg(i){dd.current===i&&(Ur(eo),Ur(dd))}var rn=aa(0);function $h(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Hg=[];function Qg(){for(var i=0;i<Hg.length;i++)Hg[i]._workInProgressVersionPrimary=null;Hg.length=0}var Wh=V.ReactCurrentDispatcher,Kg=V.ReactCurrentBatchConfig,wl=0,nn=null,Sn=null,On=null,zh=!1,hd=!1,pd=0,oq=0;function $n(){throw Error(r(321))}function Gg(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Ss(i[c],o[c]))return!1;return!0}function Jg(i,o,c,m,x,E){if(wl=E,nn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Wh.current=i===null||i.memoizedState===null?cq:dq,i=c(m,x),hd){E=0;do{if(hd=!1,pd=0,25<=E)throw Error(r(301));E+=1,On=Sn=null,o.updateQueue=null,Wh.current=fq,i=c(m,x)}while(hd)}if(Wh.current=Hh,o=Sn!==null&&Sn.next!==null,wl=0,On=Sn=nn=null,zh=!1,o)throw Error(r(300));return i}function Zg(){var i=pd!==0;return pd=0,i}function to(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?nn.memoizedState=On=i:On=On.next=i,On}function rs(){if(Sn===null){var i=nn.alternate;i=i!==null?i.memoizedState:null}else i=Sn.next;var o=On===null?nn.memoizedState:On.next;if(o!==null)On=o,Sn=i;else{if(i===null)throw Error(r(310));Sn=i,i={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},On===null?nn.memoizedState=On=i:On=On.next=i}return On}function md(i,o){return typeof o=="function"?o(i):o}function Yg(i){var o=rs(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var m=Sn,x=m.baseQueue,E=c.pending;if(E!==null){if(x!==null){var P=x.next;x.next=E.next,E.next=P}m.baseQueue=x=E,c.pending=null}if(x!==null){E=x.next,m=m.baseState;var oe=P=null,de=null,Le=E;do{var tt=Le.lane;if((wl&tt)===tt)de!==null&&(de=de.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),m=Le.hasEagerState?Le.eagerState:i(m,Le.action);else{var nt={lane:tt,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};de===null?(oe=de=nt,P=m):de=de.next=nt,nn.lanes|=tt,xl|=tt}Le=Le.next}while(Le!==null&&Le!==E);de===null?P=m:de.next=oe,Ss(m,o.memoizedState)||(yi=!0),o.memoizedState=m,o.baseState=P,o.baseQueue=de,c.lastRenderedState=m}if(i=c.interleaved,i!==null){x=i;do E=x.lane,nn.lanes|=E,xl|=E,x=x.next;while(x!==i)}else x===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Xg(i){var o=rs(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var m=c.dispatch,x=c.pending,E=o.memoizedState;if(x!==null){c.pending=null;var P=x=x.next;do E=i(E,P.action),P=P.next;while(P!==x);Ss(E,o.memoizedState)||(yi=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),c.lastRenderedState=E}return[E,m]}function Ax(){}function Px(i,o){var c=nn,m=rs(),x=o(),E=!Ss(m.memoizedState,x);if(E&&(m.memoizedState=x,yi=!0),m=m.queue,ev(jx.bind(null,c,m,i),[i]),m.getSnapshot!==o||E||On!==null&&On.memoizedState.tag&1){if(c.flags|=2048,yd(9,Lx.bind(null,c,m,x,o),void 0,null),In===null)throw Error(r(349));wl&30||Fx(c,o,x)}return x}function Fx(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=nn.updateQueue,o===null?(o={lastEffect:null,stores:null},nn.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Lx(i,o,c,m){o.value=c,o.getSnapshot=m,Dx(o)&&Mx(i)}function jx(i,o,c){return c(function(){Dx(o)&&Mx(i)})}function Dx(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Ss(i,c)}catch{return!0}}function Mx(i){var o=To(i,1);o!==null&&Is(o,i,1,-1)}function Bx(i){var o=to();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:i},o.queue=i,i=i.dispatch=uq.bind(null,nn,i),[o.memoizedState,i]}function yd(i,o,c,m){return i={tag:i,create:o,destroy:c,deps:m,next:null},o=nn.updateQueue,o===null?(o={lastEffect:null,stores:null},nn.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,o.lastEffect=i)),i}function $x(){return rs().memoizedState}function Uh(i,o,c,m){var x=to();nn.flags|=i,x.memoizedState=yd(1|o,c,void 0,m===void 0?null:m)}function Vh(i,o,c,m){var x=rs();m=m===void 0?null:m;var E=void 0;if(Sn!==null){var P=Sn.memoizedState;if(E=P.destroy,m!==null&&Gg(m,P.deps)){x.memoizedState=yd(o,c,E,m);return}}nn.flags|=i,x.memoizedState=yd(1|o,c,E,m)}function Wx(i,o){return Uh(8390656,8,i,o)}function ev(i,o){return Vh(2048,8,i,o)}function zx(i,o){return Vh(4,2,i,o)}function Ux(i,o){return Vh(4,4,i,o)}function Vx(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Hx(i,o,c){return c=c!=null?c.concat([i]):null,Vh(4,4,Vx.bind(null,o,i),c)}function tv(){}function Qx(i,o){var c=rs();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&Gg(o,m[1])?m[0]:(c.memoizedState=[i,o],i)}function Kx(i,o){var c=rs();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&Gg(o,m[1])?m[0]:(i=i(),c.memoizedState=[i,o],i)}function Gx(i,o,c){return wl&21?(Ss(c,o)||(c=_h(),nn.lanes|=c,xl|=c,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,yi=!0),i.memoizedState=c)}function aq(i,o){var c=Sr;Sr=c!==0&&4>c?c:4,i(!0);var m=Kg.transition;Kg.transition={};try{i(!1),o()}finally{Sr=c,Kg.transition=m}}function Jx(){return rs().memoizedState}function lq(i,o,c){var m=ma(i);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},Zx(i))Yx(o,c);else if(c=Ix(i,o,c,m),c!==null){var x=ei();Is(c,i,m,x),Xx(c,o,m)}}function uq(i,o,c){var m=ma(i),x={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(Zx(i))Yx(o,x);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var P=o.lastRenderedState,oe=E(P,c);if(x.hasEagerState=!0,x.eagerState=oe,Ss(oe,P)){var de=o.interleaved;de===null?(x.next=x,Wg(o)):(x.next=de.next,de.next=x),o.interleaved=x;return}}catch{}finally{}c=Ix(i,o,x,m),c!==null&&(x=ei(),Is(c,i,m,x),Xx(c,o,m))}}function Zx(i){var o=i.alternate;return i===nn||o!==null&&o===nn}function Yx(i,o){hd=zh=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function Xx(i,o,c){if(c&4194240){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,Kc(i,c)}}var Hh={readContext:ts,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},cq={readContext:ts,useCallback:function(i,o){return to().memoizedState=[i,o===void 0?null:o],i},useContext:ts,useEffect:Wx,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,Uh(4194308,4,Vx.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Uh(4194308,4,i,o)},useInsertionEffect:function(i,o){return Uh(4,2,i,o)},useMemo:function(i,o){var c=to();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var m=to();return o=c!==void 0?c(o):o,m.memoizedState=m.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},m.queue=i,i=i.dispatch=lq.bind(null,nn,i),[m.memoizedState,i]},useRef:function(i){var o=to();return i={current:i},o.memoizedState=i},useState:Bx,useDebugValue:tv,useDeferredValue:function(i){return to().memoizedState=i},useTransition:function(){var i=Bx(!1),o=i[0];return i=aq.bind(null,i[1]),to().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var m=nn,x=to();if(Hr){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),In===null)throw Error(r(349));wl&30||Fx(m,o,c)}x.memoizedState=c;var E={value:c,getSnapshot:o};return x.queue=E,Wx(jx.bind(null,m,E,i),[i]),m.flags|=2048,yd(9,Lx.bind(null,m,E,c,o),void 0,null),c},useId:function(){var i=to(),o=In.identifierPrefix;if(Hr){var c=Io,m=Oo;c=(m&~(1<<32-hi(m)-1)).toString(32)+c,o=":"+o+"R"+c,c=pd++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=oq++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},dq={readContext:ts,useCallback:Qx,useContext:ts,useEffect:ev,useImperativeHandle:Hx,useInsertionEffect:zx,useLayoutEffect:Ux,useMemo:Kx,useReducer:Yg,useRef:$x,useState:function(){return Yg(md)},useDebugValue:tv,useDeferredValue:function(i){var o=rs();return Gx(o,Sn.memoizedState,i)},useTransition:function(){var i=Yg(md)[0],o=rs().memoizedState;return[i,o]},useMutableSource:Ax,useSyncExternalStore:Px,useId:Jx,unstable_isNewReconciler:!1},fq={readContext:ts,useCallback:Qx,useContext:ts,useEffect:ev,useImperativeHandle:Hx,useInsertionEffect:zx,useLayoutEffect:Ux,useMemo:Kx,useReducer:Xg,useRef:$x,useState:function(){return Xg(md)},useDebugValue:tv,useDeferredValue:function(i){var o=rs();return Sn===null?o.memoizedState=i:Gx(o,Sn.memoizedState,i)},useTransition:function(){var i=Xg(md)[0],o=rs().memoizedState;return[i,o]},useMutableSource:Ax,useSyncExternalStore:Px,useId:Jx,unstable_isNewReconciler:!1};function Ns(i,o){if(i&&i.defaultProps){o=Ne({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function rv(i,o,c,m){o=i.memoizedState,c=c(m,o),c=c==null?o:Ne({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Qh={isMounted:function(i){return(i=i._reactInternals)?So(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var m=ei(),x=ma(i),E=Co(m,x);E.payload=o,c!=null&&(E.callback=c),o=da(i,E,x),o!==null&&(Is(o,i,x,m),Mh(o,i,x))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var m=ei(),x=ma(i),E=Co(m,x);E.tag=1,E.payload=o,c!=null&&(E.callback=c),o=da(i,E,x),o!==null&&(Is(o,i,x,m),Mh(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=ei(),m=ma(i),x=Co(c,m);x.tag=2,o!=null&&(x.callback=o),o=da(i,x,m),o!==null&&(Is(o,i,m,c),Mh(o,i,m))}};function eS(i,o,c,m,x,E,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,E,P):o.prototype&&o.prototype.isPureReactComponent?!rd(c,m)||!rd(x,E):!0}function tS(i,o,c){var m=!1,x=la,E=o.contextType;return typeof E=="object"&&E!==null?E=ts(E):(x=mi(o)?yl:Bn.current,m=o.contextTypes,E=(m=m!=null)?gu(i,x):la),o=new o(c,E),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Qh,i.stateNode=o,o._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=E),o}function rS(i,o,c,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==i&&Qh.enqueueReplaceState(o,o.state,null)}function nv(i,o,c,m){var x=i.stateNode;x.props=c,x.state=i.memoizedState,x.refs={},zg(i);var E=o.contextType;typeof E=="object"&&E!==null?x.context=ts(E):(E=mi(o)?yl:Bn.current,x.context=gu(i,E)),x.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(rv(i,o,E,c),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&Qh.enqueueReplaceState(x,x.state,null),Bh(i,c,x,m),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Nu(i,o){try{var c="",m=o;do c+=dt(m),m=m.return;while(m);var x=c}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:o,stack:x,digest:null}}function iv(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function sv(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var hq=typeof WeakMap=="function"?WeakMap:Map;function nS(i,o,c){c=Co(-1,c),c.tag=3,c.payload={element:null};var m=o.value;return c.callback=function(){ep||(ep=!0,bv=m),sv(i,o)},c}function iS(i,o,c){c=Co(-1,c),c.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var x=o.value;c.payload=function(){return m(x)},c.callback=function(){sv(i,o)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){sv(i,o),typeof m!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var P=o.stack;this.componentDidCatch(o.value,{componentStack:P!==null?P:""})}),c}function sS(i,o,c){var m=i.pingCache;if(m===null){m=i.pingCache=new hq;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(c)||(x.add(c),i=Oq.bind(null,i,o,c),o.then(i,i))}function oS(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function aS(i,o,c,m,x){return i.mode&1?(i.flags|=65536,i.lanes=x,i):(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Co(-1,1),o.tag=2,da(c,o,1))),c.lanes|=1),i)}var pq=V.ReactCurrentOwner,yi=!1;function Xn(i,o,c,m){o.child=i===null?Ox(o,null,c,m):wu(o,i.child,c,m)}function lS(i,o,c,m,x){c=c.render;var E=o.ref;return Su(o,x),m=Jg(i,o,c,m,E,x),c=Zg(),i!==null&&!yi?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,qo(i,o,x)):(Hr&&c&&Ag(o),o.flags|=1,Xn(i,o,m,x),o.child)}function uS(i,o,c,m,x){if(i===null){var E=c.type;return typeof E=="function"&&!Ov(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=E,cS(i,o,E,m,x)):(i=op(c.type,null,m,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(E=i.child,!(i.lanes&x)){var P=E.memoizedProps;if(c=c.compare,c=c!==null?c:rd,c(P,m)&&i.ref===o.ref)return qo(i,o,x)}return o.flags|=1,i=ga(E,m),i.ref=o.ref,i.return=o,o.child=i}function cS(i,o,c,m,x){if(i!==null){var E=i.memoizedProps;if(rd(E,m)&&i.ref===o.ref)if(yi=!1,o.pendingProps=m=E,(i.lanes&x)!==0)i.flags&131072&&(yi=!0);else return o.lanes=i.lanes,qo(i,o,x)}return ov(i,o,c,m,x)}function dS(i,o,c){var m=o.pendingProps,x=m.children,E=i!==null?i.memoizedState:null;if(m.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr(Ou,Fi),Fi|=c;else{if(!(c&0x40000000))return i=E!==null?E.baseLanes|c:c,o.lanes=o.childLanes=0x40000000,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Dr(Ou,Fi),Fi|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:c,Dr(Ou,Fi),Fi|=m}else E!==null?(m=E.baseLanes|c,o.memoizedState=null):m=c,Dr(Ou,Fi),Fi|=m;return Xn(i,o,x,c),o.child}function fS(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function ov(i,o,c,m,x){var E=mi(c)?yl:Bn.current;return E=gu(o,E),Su(o,x),c=Jg(i,o,c,m,E,x),m=Zg(),i!==null&&!yi?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,qo(i,o,x)):(Hr&&m&&Ag(o),o.flags|=1,Xn(i,o,c,x),o.child)}function hS(i,o,c,m,x){if(mi(c)){var E=!0;qh(o)}else E=!1;if(Su(o,x),o.stateNode===null)Gh(i,o),tS(o,c,m),nv(o,c,m,x),m=!0;else if(i===null){var P=o.stateNode,oe=o.memoizedProps;P.props=oe;var de=P.context,Le=c.contextType;typeof Le=="object"&&Le!==null?Le=ts(Le):(Le=mi(c)?yl:Bn.current,Le=gu(o,Le));var tt=c.getDerivedStateFromProps,nt=typeof tt=="function"||typeof P.getSnapshotBeforeUpdate=="function";nt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(oe!==m||de!==Le)&&rS(o,P,m,Le),ca=!1;var Xe=o.memoizedState;P.state=Xe,Bh(o,m,P,x),de=o.memoizedState,oe!==m||Xe!==de||pi.current||ca?(typeof tt=="function"&&(rv(o,c,tt,m),de=o.memoizedState),(oe=ca||eS(o,c,oe,m,Xe,de,Le))?(nt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(o.flags|=4194308)):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=de),P.props=m,P.state=de,P.context=Le,m=oe):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{P=o.stateNode,Tx(i,o),oe=o.memoizedProps,Le=o.type===o.elementType?oe:Ns(o.type,oe),P.props=Le,nt=o.pendingProps,Xe=P.context,de=c.contextType,typeof de=="object"&&de!==null?de=ts(de):(de=mi(c)?yl:Bn.current,de=gu(o,de));var kt=c.getDerivedStateFromProps;(tt=typeof kt=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(oe!==nt||Xe!==de)&&rS(o,P,m,de),ca=!1,Xe=o.memoizedState,P.state=Xe,Bh(o,m,P,x);var At=o.memoizedState;oe!==nt||Xe!==At||pi.current||ca?(typeof kt=="function"&&(rv(o,c,kt,m),At=o.memoizedState),(Le=ca||eS(o,c,Le,m,Xe,At,de)||!1)?(tt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,At,de),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,At,de)),typeof P.componentDidUpdate=="function"&&(o.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof P.componentDidUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=At),P.props=m,P.state=At,P.context=de,m=Le):(typeof P.componentDidUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(o.flags|=1024),m=!1)}return av(i,o,c,m,E,x)}function av(i,o,c,m,x,E){fS(i,o);var P=(o.flags&128)!==0;if(!m&&!P)return x&&vx(o,c,!1),qo(i,o,E);m=o.stateNode,pq.current=o;var oe=P&&typeof c.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,i!==null&&P?(o.child=wu(o,i.child,null,E),o.child=wu(o,null,oe,E)):Xn(i,o,oe,E),o.memoizedState=m.state,x&&vx(o,c,!0),o.child}function pS(i){var o=i.stateNode;o.pendingContext?yx(i,o.pendingContext,o.pendingContext!==o.context):o.context&&yx(i,o.context,!1),Ug(i,o.containerInfo)}function mS(i,o,c,m,x){return bu(),jg(x),o.flags|=256,Xn(i,o,c,m),o.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function uv(i){return{baseLanes:i,cachePool:null,transitions:null}}function yS(i,o,c){var m=o.pendingProps,x=rn.current,E=!1,P=(o.flags&128)!==0,oe;if((oe=P)||(oe=i!==null&&i.memoizedState===null?!1:(x&2)!==0),oe?(E=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),Dr(rn,x&1),i===null)return Lg(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=0x40000000:o.lanes=1,null):(P=m.children,i=m.fallback,E?(m=o.mode,E=o.child,P={mode:"hidden",children:P},!(m&1)&&E!==null?(E.childLanes=0,E.pendingProps=P):E=ap(P,m,0,null),i=kl(i,m,c,null),E.return=o,i.return=o,E.sibling=i,o.child=E,o.child.memoizedState=uv(c),o.memoizedState=lv,i):cv(o,P));if(x=i.memoizedState,x!==null&&(oe=x.dehydrated,oe!==null))return mq(i,o,P,m,oe,x,c);if(E){E=m.fallback,P=o.mode,x=i.child,oe=x.sibling;var de={mode:"hidden",children:m.children};return!(P&1)&&o.child!==x?(m=o.child,m.childLanes=0,m.pendingProps=de,o.deletions=null):(m=ga(x,de),m.subtreeFlags=x.subtreeFlags&0xe00000),oe!==null?E=ga(oe,E):(E=kl(E,P,c,null),E.flags|=2),E.return=o,m.return=o,m.sibling=E,o.child=m,m=E,E=o.child,P=i.child.memoizedState,P=P===null?uv(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},E.memoizedState=P,E.childLanes=i.childLanes&~c,o.memoizedState=lv,m}return E=i.child,i=E.sibling,m=ga(E,{mode:"visible",children:m.children}),!(o.mode&1)&&(m.lanes=c),m.return=o,m.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=m,o.memoizedState=null,m}function cv(i,o){return o=ap({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Kh(i,o,c,m){return m!==null&&jg(m),wu(o,i.child,null,c),i=cv(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function mq(i,o,c,m,x,E,P){if(c)return o.flags&256?(o.flags&=-257,m=iv(Error(r(422))),Kh(i,o,P,m)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(E=m.fallback,x=o.mode,m=ap({mode:"visible",children:m.children},x,0,null),E=kl(E,x,P,null),E.flags|=2,m.return=o,E.return=o,m.sibling=E,o.child=m,o.mode&1&&wu(o,i.child,null,P),o.child.memoizedState=uv(P),o.memoizedState=lv,E);if(!(o.mode&1))return Kh(i,o,P,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var oe=m.dgst;return m=oe,E=Error(r(419)),m=iv(E,m,void 0),Kh(i,o,P,m)}if(oe=(P&i.childLanes)!==0,yi||oe){if(m=In,m!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:x=32;break;case 0x20000000:x=0x10000000;break;default:x=0}x=x&(m.suspendedLanes|P)?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,To(i,x),Is(m,i,x,-1))}return kv(),m=iv(Error(r(421))),Kh(i,o,P,m)}return x.data==="$?"?(o.flags|=128,o.child=i.child,o=Iq.bind(null,i),x._reactRetry=o,null):(i=E.treeContext,Pi=oa(x.nextSibling),Ai=o,Hr=!0,Es=null,i!==null&&(Xi[es++]=Oo,Xi[es++]=Io,Xi[es++]=gl,Oo=i.id,Io=i.overflow,gl=o),o=cv(o,m.children),o.flags|=4096,o)}function gS(i,o,c){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),$g(i.return,o,c)}function dv(i,o,c,m,x){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:x}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=c,E.tailMode=x)}function vS(i,o,c){var m=o.pendingProps,x=m.revealOrder,E=m.tail;if(Xn(i,o,m.children,c),m=rn.current,m&2)m=m&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gS(i,c,o);else if(i.tag===19)gS(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(Dr(rn,m),!(o.mode&1))o.memoizedState=null;else switch(x){case"forwards":for(c=o.child,x=null;c!==null;)i=c.alternate,i!==null&&$h(i)===null&&(x=c),c=c.sibling;c=x,c===null?(x=o.child,o.child=null):(x=c.sibling,c.sibling=null),dv(o,!1,x,c,E);break;case"backwards":for(c=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&$h(i)===null){o.child=x;break}i=x.sibling,x.sibling=c,c=x,x=i}dv(o,!0,c,null,E);break;case"together":dv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Gh(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function qo(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),xl|=o.lanes,!(c&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=ga(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=ga(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function yq(i,o,c){switch(o.tag){case 3:pS(o),bu();break;case 5:Rx(o);break;case 1:mi(o.type)&&qh(o);break;case 4:Ug(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,x=o.memoizedProps.value;Dr(jh,m._currentValue),m._currentValue=x;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(Dr(rn,rn.current&1),o.flags|=128,null):c&o.child.childLanes?yS(i,o,c):(Dr(rn,rn.current&1),i=qo(i,o,c),i!==null?i.sibling:null);Dr(rn,rn.current&1);break;case 19:if(m=(c&o.childLanes)!==0,i.flags&128){if(m)return vS(i,o,c);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Dr(rn,rn.current),m)break;return null;case 22:case 23:return o.lanes=0,dS(i,o,c)}return qo(i,o,c)}var _S,fv,bS,wS;_S=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},fv=function(){},bS=function(i,o,c,m){var x=i.memoizedProps;if(x!==m){i=o.stateNode,bl(eo.current);var E=null;switch(c){case"input":x=er(i,x),m=er(i,m),E=[];break;case"select":x=Ne({},x,{value:void 0}),m=Ne({},m,{value:void 0}),E=[];break;case"textarea":x=De(i,x),m=De(i,m),E=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Ih)}ra(c,m);var P;c=null;for(Le in x)if(!m.hasOwnProperty(Le)&&x.hasOwnProperty(Le)&&x[Le]!=null)if(Le==="style"){var oe=x[Le];for(P in oe)oe.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(s.hasOwnProperty(Le)?E||(E=[]):(E=E||[]).push(Le,null));for(Le in m){var de=m[Le];if(oe=x?.[Le],m.hasOwnProperty(Le)&&de!==oe&&(de!=null||oe!=null))if(Le==="style")if(oe){for(P in oe)!oe.hasOwnProperty(P)||de&&de.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in de)de.hasOwnProperty(P)&&oe[P]!==de[P]&&(c||(c={}),c[P]=de[P])}else c||(E||(E=[]),E.push(Le,c)),c=de;else Le==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,oe=oe?oe.__html:void 0,de!=null&&oe!==de&&(E=E||[]).push(Le,de)):Le==="children"?typeof de!="string"&&typeof de!="number"||(E=E||[]).push(Le,""+de):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(s.hasOwnProperty(Le)?(de!=null&&Le==="onScroll"&&zr("scroll",i),E||oe===de||(E=[])):(E=E||[]).push(Le,de))}c&&(E=E||[]).push("style",c);var Le=E;(o.updateQueue=Le)&&(o.flags|=4)}},wS=function(i,o,c,m){c!==m&&(o.flags|=4)};function gd(i,o){if(!Hr)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Wn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(o)for(var x=i.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags&0xe00000,m|=x.flags&0xe00000,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=c,o}function gq(i,o,c){var m=o.pendingProps;switch(Pg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(o),null;case 1:return mi(o.type)&&Ch(),Wn(o),null;case 3:return m=o.stateNode,Eu(),Ur(pi),Ur(Bn),Qg(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Fh(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Es!==null&&(Sv(Es),Es=null))),fv(i,o),Wn(o),null;case 5:Vg(o);var x=bl(fd.current);if(c=o.type,i!==null&&o.stateNode!=null)bS(i,o,c,m,x),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wn(o),null}if(i=bl(eo.current),Fh(o)){m=o.stateNode,c=o.type;var E=o.memoizedProps;switch(m[Xs]=o,m[ad]=E,i=(o.mode&1)!==0,c){case"dialog":zr("cancel",m),zr("close",m);break;case"iframe":case"object":case"embed":zr("load",m);break;case"video":case"audio":for(x=0;x<id.length;x++)zr(id[x],m);break;case"source":zr("error",m);break;case"img":case"image":case"link":zr("error",m),zr("load",m);break;case"details":zr("toggle",m);break;case"input":Zt(m,E),zr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},zr("invalid",m);break;case"textarea":Ge(m,E),zr("invalid",m)}ra(c,E),x=null;for(var P in E)if(E.hasOwnProperty(P)){var oe=E[P];P==="children"?typeof oe=="string"?m.textContent!==oe&&(E.suppressHydrationWarning!==!0&&Oh(m.textContent,oe,i),x=["children",oe]):typeof oe=="number"&&m.textContent!==""+oe&&(E.suppressHydrationWarning!==!0&&Oh(m.textContent,oe,i),x=["children",""+oe]):s.hasOwnProperty(P)&&oe!=null&&P==="onScroll"&&zr("scroll",m)}switch(c){case"input":yt(m),ae(m,E,!0);break;case"textarea":yt(m),Bt(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=Ih)}m=x,o.updateQueue=m,m!==null&&(o.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=xr(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=P.createElement("div"),i.innerHTML="<script></script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=P.createElement(c,{is:m.is}):(i=P.createElement(c),c==="select"&&(P=i,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):i=P.createElementNS(i,c),i[Xs]=o,i[ad]=m,_S(i,o,!1,!1),o.stateNode=i;e:{switch(P=na(c,m),c){case"dialog":zr("cancel",i),zr("close",i),x=m;break;case"iframe":case"object":case"embed":zr("load",i),x=m;break;case"video":case"audio":for(x=0;x<id.length;x++)zr(id[x],i);x=m;break;case"source":zr("error",i),x=m;break;case"img":case"image":case"link":zr("error",i),zr("load",i),x=m;break;case"details":zr("toggle",i),x=m;break;case"input":Zt(i,m),x=er(i,m),zr("invalid",i);break;case"option":x=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},x=Ne({},m,{value:void 0}),zr("invalid",i);break;case"textarea":Ge(i,m),x=De(i,m),zr("invalid",i);break;default:x=m}ra(c,x),oe=x;for(E in oe)if(oe.hasOwnProperty(E)){var de=oe[E];E==="style"?Vt(i,de):E==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Yn(i,de)):E==="children"?typeof de=="string"?(c!=="textarea"||de!=="")&&an(i,de):typeof de=="number"&&an(i,""+de):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?de!=null&&E==="onScroll"&&zr("scroll",i):de!=null&&$(i,E,de,P))}switch(c){case"input":yt(i),ae(i,m,!1);break;case"textarea":yt(i),Bt(i);break;case"option":m.value!=null&&i.setAttribute("value",""+gt(m.value));break;case"select":i.multiple=!!m.multiple,E=m.value,E!=null?qe(i,!!m.multiple,E,!1):m.defaultValue!=null&&qe(i,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Ih)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wn(o),null;case 6:if(i&&o.stateNode!=null)wS(i,o,i.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(c=bl(fd.current),bl(eo.current),Fh(o)){if(m=o.stateNode,c=o.memoizedProps,m[Xs]=o,(E=m.nodeValue!==c)&&(i=Ai,i!==null))switch(i.tag){case 3:Oh(m.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Oh(m.nodeValue,c,(i.mode&1)!==0)}E&&(o.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[Xs]=o,o.stateNode=m}return Wn(o),null;case 13:if(Ur(rn),m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Hr&&Pi!==null&&o.mode&1&&!(o.flags&128))Ex(),bu(),o.flags|=98560,E=!1;else if(E=Fh(o),m!==null&&m.dehydrated!==null){if(i===null){if(!E)throw Error(r(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Xs]=o}else bu(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Wn(o),E=!1}else Es!==null&&(Sv(Es),Es=null),E=!0;if(!E)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(o.child.flags|=8192,o.mode&1&&(i===null||rn.current&1?En===0&&(En=3):kv())),o.updateQueue!==null&&(o.flags|=4),Wn(o),null);case 4:return Eu(),fv(i,o),i===null&&sd(o.stateNode.containerInfo),Wn(o),null;case 10:return Bg(o.type._context),Wn(o),null;case 17:return mi(o.type)&&Ch(),Wn(o),null;case 19:if(Ur(rn),E=o.memoizedState,E===null)return Wn(o),null;if(m=(o.flags&128)!==0,P=E.rendering,P===null)if(m)gd(E,!1);else{if(En!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(P=$h(i),P!==null){for(o.flags|=128,gd(E,!1),m=P.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=c,c=o.child;c!==null;)E=c,i=m,E.flags&=0xe00002,P=E.alternate,P===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=P.childLanes,E.lanes=P.lanes,E.child=P.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,E.type=P.type,i=P.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Dr(rn,rn.current&1|2),o.child}i=i.sibling}E.tail!==null&&en()>Iu&&(o.flags|=128,m=!0,gd(E,!1),o.lanes=4194304)}else{if(!m)if(i=$h(P),i!==null){if(o.flags|=128,m=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),gd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!Hr)return Wn(o),null}else 2*en()-E.renderingStartTime>Iu&&c!==0x40000000&&(o.flags|=128,m=!0,gd(E,!1),o.lanes=4194304);E.isBackwards?(P.sibling=o.child,o.child=P):(c=E.last,c!==null?c.sibling=P:o.child=P,E.last=P)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=en(),o.sibling=null,c=rn.current,Dr(rn,m?c&1|2:c&1),o):(Wn(o),null);case 22:case 23:return Nv(),m=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(o.flags|=8192),m&&o.mode&1?Fi&0x40000000&&(Wn(o),o.subtreeFlags&6&&(o.flags|=8192)):Wn(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function vq(i,o){switch(Pg(o),o.tag){case 1:return mi(o.type)&&Ch(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Eu(),Ur(pi),Ur(Bn),Qg(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Vg(o),null;case 13:if(Ur(rn),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));bu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ur(rn),null;case 4:return Eu(),null;case 10:return Bg(o.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var Jh=!1,zn=!1,_q=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function ku(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){ln(i,o,m)}else c.current=null}function hv(i,o,c){try{c()}catch(m){ln(i,o,m)}}var xS=!1;function bq(i,o){if(Ng=Be,i=ex(),gg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var x=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var P=0,oe=-1,de=-1,Le=0,tt=0,nt=i,Xe=null;t:for(;;){for(var kt;nt!==c||x!==0&&nt.nodeType!==3||(oe=P+x),nt!==E||m!==0&&nt.nodeType!==3||(de=P+m),nt.nodeType===3&&(P+=nt.nodeValue.length),(kt=nt.firstChild)!==null;)Xe=nt,nt=kt;for(;;){if(nt===i)break t;if(Xe===c&&++Le===x&&(oe=P),Xe===E&&++tt===m&&(de=P),(kt=nt.nextSibling)!==null)break;nt=Xe,Xe=nt.parentNode}nt=kt}c=oe===-1||de===-1?null:{start:oe,end:de}}else c=null}c=c||{start:0,end:0}}else c=null;for(kg={focusedElem:i,selectionRange:c},Be=!1,Rt=o;Rt!==null;)if(o=Rt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Rt=i;else for(;Rt!==null;){o=Rt;try{var At=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var jt=At.memoizedProps,dn=At.memoizedState,Oe=o.stateNode,ge=Oe.getSnapshotBeforeUpdate(o.elementType===o.type?jt:Ns(o.type,jt),dn);Oe.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Re=o.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){ln(o,o.return,ot)}if(i=o.sibling,i!==null){i.return=o.return,Rt=i;break}Rt=o.return}return At=xS,xS=!1,At}function vd(i,o,c){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&i)===i){var E=x.destroy;x.destroy=void 0,E!==void 0&&hv(o,c,E)}x=x.next}while(x!==m)}}function Zh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var m=c.create;c.destroy=m()}c=c.next}while(c!==o)}}function pv(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function SS(i){var o=i.alternate;o!==null&&(i.alternate=null,SS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Xs],delete o[ad],delete o[Cg],delete o[rq],delete o[nq])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ES(i){return i.tag===5||i.tag===3||i.tag===4}function NS(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ES(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mv(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ih));else if(m!==4&&(i=i.child,i!==null))for(mv(i,o,c),i=i.sibling;i!==null;)mv(i,o,c),i=i.sibling}function yv(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(yv(i,o,c),i=i.sibling;i!==null;)yv(i,o,c),i=i.sibling}var An=null,ks=!1;function fa(i,o,c){for(c=c.child;c!==null;)kS(i,o,c),c=c.sibling}function kS(i,o,c){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(au,c)}catch{}switch(c.tag){case 5:zn||ku(c,o);case 6:var m=An,x=ks;An=null,fa(i,o,c),An=m,ks=x,An!==null&&(ks?(i=An,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):An.removeChild(c.stateNode));break;case 18:An!==null&&(ks?(i=An,c=c.stateNode,i.nodeType===8?Tg(i.parentNode,c):i.nodeType===1&&Tg(i,c),_e(i)):Tg(An,c.stateNode));break;case 4:m=An,x=ks,An=c.stateNode.containerInfo,ks=!0,fa(i,o,c),An=m,ks=x;break;case 0:case 11:case 14:case 15:if(!zn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var E=x,P=E.destroy;E=E.tag,P!==void 0&&(E&2||E&4)&&hv(c,o,P),x=x.next}while(x!==m)}fa(i,o,c);break;case 1:if(!zn&&(ku(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(oe){ln(c,o,oe)}fa(i,o,c);break;case 21:fa(i,o,c);break;case 22:c.mode&1?(zn=(m=zn)||c.memoizedState!==null,fa(i,o,c),zn=m):fa(i,o,c);break;default:fa(i,o,c)}}function OS(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new _q),o.forEach(function(m){var x=Tq.bind(null,i,m);c.has(m)||(c.add(m),m.then(x,x))})}}function Os(i,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];try{var E=i,P=o,oe=P;e:for(;oe!==null;){switch(oe.tag){case 5:An=oe.stateNode,ks=!1;break e;case 3:An=oe.stateNode.containerInfo,ks=!0;break e;case 4:An=oe.stateNode.containerInfo,ks=!0;break e}oe=oe.return}if(An===null)throw Error(r(160));kS(E,P,x),An=null,ks=!1;var de=x.alternate;de!==null&&(de.return=null),x.return=null}catch(Le){ln(x,o,Le)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)IS(o,i),o=o.sibling}function IS(i,o){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Os(o,i),ro(i),m&4){try{vd(3,i,i.return),Zh(3,i)}catch(jt){ln(i,i.return,jt)}try{vd(5,i,i.return)}catch(jt){ln(i,i.return,jt)}}break;case 1:Os(o,i),ro(i),m&512&&c!==null&&ku(c,c.return);break;case 5:if(Os(o,i),ro(i),m&512&&c!==null&&ku(c,c.return),i.flags&32){var x=i.stateNode;try{an(x,"")}catch(jt){ln(i,i.return,jt)}}if(m&4&&(x=i.stateNode,x!=null)){var E=i.memoizedProps,P=c!==null?c.memoizedProps:E,oe=i.type,de=i.updateQueue;if(i.updateQueue=null,de!==null)try{oe==="input"&&E.type==="radio"&&E.name!=null&&ir(x,E),na(oe,P);var Le=na(oe,E);for(P=0;P<de.length;P+=2){var tt=de[P],nt=de[P+1];tt==="style"?Vt(x,nt):tt==="dangerouslySetInnerHTML"?Yn(x,nt):tt==="children"?an(x,nt):$(x,tt,nt,Le)}switch(oe){case"input":pr(x,E);break;case"textarea":_t(x,E);break;case"select":var Xe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var kt=E.value;kt!=null?qe(x,!!E.multiple,kt,!1):Xe!==!!E.multiple&&(E.defaultValue!=null?qe(x,!!E.multiple,E.defaultValue,!0):qe(x,!!E.multiple,E.multiple?[]:"",!1))}x[ad]=E}catch(jt){ln(i,i.return,jt)}}break;case 6:if(Os(o,i),ro(i),m&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,E=i.memoizedProps;try{x.nodeValue=E}catch(jt){ln(i,i.return,jt)}}break;case 3:if(Os(o,i),ro(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{_e(o.containerInfo)}catch(jt){ln(i,i.return,jt)}break;case 4:Os(o,i),ro(i);break;case 13:Os(o,i),ro(i),x=i.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(_v=en())),m&4&&OS(i);break;case 22:if(tt=c!==null&&c.memoizedState!==null,i.mode&1?(zn=(Le=zn)||tt,Os(o,i),zn=Le):Os(o,i),ro(i),m&8192){if(Le=i.memoizedState!==null,(i.stateNode.isHidden=Le)&&!tt&&i.mode&1)for(Rt=i,tt=i.child;tt!==null;){for(nt=Rt=tt;Rt!==null;){switch(Xe=Rt,kt=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:vd(4,Xe,Xe.return);break;case 1:ku(Xe,Xe.return);var At=Xe.stateNode;if(typeof At.componentWillUnmount=="function"){m=Xe,c=Xe.return;try{o=m,At.props=o.memoizedProps,At.state=o.memoizedState,At.componentWillUnmount()}catch(jt){ln(m,c,jt)}}break;case 5:ku(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){qS(nt);continue}}kt!==null?(kt.return=Xe,Rt=kt):qS(nt)}tt=tt.sibling}e:for(tt=null,nt=i;;){if(nt.tag===5){if(tt===null){tt=nt;try{x=nt.stateNode,Le?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(oe=nt.stateNode,de=nt.memoizedProps.style,P=de!=null&&de.hasOwnProperty("display")?de.display:null,oe.style.display=qn("display",P))}catch(jt){ln(i,i.return,jt)}}}else if(nt.tag===6){if(tt===null)try{nt.stateNode.nodeValue=Le?"":nt.memoizedProps}catch(jt){ln(i,i.return,jt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;tt===nt&&(tt=null),nt=nt.return}tt===nt&&(tt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:Os(o,i),ro(i),m&4&&OS(i);break;case 21:break;default:Os(o,i),ro(i)}}function ro(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(ES(c)){var m=c;break e}c=c.return}throw Error(r(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(an(x,""),m.flags&=-33);var E=NS(i);yv(i,E,x);break;case 3:case 4:var P=m.stateNode.containerInfo,oe=NS(i);mv(i,oe,P);break;default:throw Error(r(161))}}catch(de){ln(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function wq(i,o,c){Rt=i,TS(i)}function TS(i,o,c){for(var m=(i.mode&1)!==0;Rt!==null;){var x=Rt,E=x.child;if(x.tag===22&&m){var P=x.memoizedState!==null||Jh;if(!P){var oe=x.alternate,de=oe!==null&&oe.memoizedState!==null||zn;oe=Jh;var Le=zn;if(Jh=P,(zn=de)&&!Le)for(Rt=x;Rt!==null;)P=Rt,de=P.child,P.tag===22&&P.memoizedState!==null?RS(x):de!==null?(de.return=P,Rt=de):RS(x);for(;E!==null;)Rt=E,TS(E),E=E.sibling;Rt=x,Jh=oe,zn=Le}CS(i)}else x.subtreeFlags&8772&&E!==null?(E.return=x,Rt=E):CS(i)}}function CS(i){for(;Rt!==null;){var o=Rt;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:zn||Zh(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!zn)if(c===null)m.componentDidMount();else{var x=o.elementType===o.type?c.memoizedProps:Ns(o.type,c.memoizedProps);m.componentDidUpdate(x,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&qx(o,E,m);break;case 3:var P=o.updateQueue;if(P!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}qx(o,P,c)}break;case 5:var oe=o.stateNode;if(c===null&&o.flags&4){c=oe;var de=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&c.focus();break;case"img":de.src&&(c.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Le=o.alternate;if(Le!==null){var tt=Le.memoizedState;if(tt!==null){var nt=tt.dehydrated;nt!==null&&_e(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zn||o.flags&512&&pv(o)}catch(Xe){ln(o,o.return,Xe)}}if(o===i){Rt=null;break}if(c=o.sibling,c!==null){c.return=o.return,Rt=c;break}Rt=o.return}}function qS(i){for(;Rt!==null;){var o=Rt;if(o===i){Rt=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Rt=c;break}Rt=o.return}}function RS(i){for(;Rt!==null;){var o=Rt;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Zh(4,o)}catch(de){ln(o,c,de)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var x=o.return;try{m.componentDidMount()}catch(de){ln(o,x,de)}}var E=o.return;try{pv(o)}catch(de){ln(o,E,de)}break;case 5:var P=o.return;try{pv(o)}catch(de){ln(o,P,de)}}}catch(de){ln(o,o.return,de)}if(o===i){Rt=null;break}var oe=o.sibling;if(oe!==null){oe.return=o.return,Rt=oe;break}Rt=o.return}}var xq=Math.ceil,Yh=V.ReactCurrentDispatcher,gv=V.ReactCurrentOwner,ns=V.ReactCurrentBatchConfig,gr=0,In=null,yn=null,Pn=0,Fi=0,Ou=aa(0),En=0,_d=null,xl=0,Xh=0,vv=0,bd=null,gi=null,_v=0,Iu=1/0,Ro=null,ep=!1,bv=null,ha=null,tp=!1,pa=null,rp=0,wd=0,wv=null,np=-1,ip=0;function ei(){return gr&6?en():np!==-1?np:np=en()}function ma(i){return i.mode&1?gr&2&&Pn!==0?Pn&-Pn:sq.transition!==null?(ip===0&&(ip=_h()),ip):(i=Sr,i!==0||(i=window.event,i=i===void 0?16:fe(i.type)),i):1}function Is(i,o,c,m){if(50<wd)throw wd=0,wv=null,Error(r(185));hl(i,c,m),(!(gr&2)||i!==In)&&(i===In&&(!(gr&2)&&(Xh|=c),En===4&&ya(i,Pn)),vi(i,m),c===1&&gr===0&&!(o.mode&1)&&(Iu=en()+500,Rh&&ua()))}function vi(i,o){var c=i.callbackNode;ug(i,o);var m=uu(i,i===In?Pn:0);if(m===0)c!==null&&Uc(c),i.callbackNode=null,i.callbackPriority=0;else if(o=m&-m,i.callbackPriority!==o){if(c!=null&&Uc(c),o===1)i.tag===0?iq(PS.bind(null,i)):_x(PS.bind(null,i)),eq(function(){!(gr&6)&&ua()}),c=null;else{switch(bh(m)){case 1:c=Vc;break;case 4:c=gh;break;case 16:c=ou;break;case 0x20000000:c=vh;break;default:c=ou}c=WS(c,AS.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function AS(i,o){if(np=-1,ip=0,gr&6)throw Error(r(327));var c=i.callbackNode;if(Tu()&&i.callbackNode!==c)return null;var m=uu(i,i===In?Pn:0);if(m===0)return null;if(m&30||m&i.expiredLanes||o)o=sp(i,m);else{o=m;var x=gr;gr|=2;var E=LS();(In!==i||Pn!==o)&&(Ro=null,Iu=en()+500,El(i,o));do try{Nq();break}catch(oe){FS(i,oe)}while(!0);Mg(),Yh.current=E,gr=x,yn!==null?o=0:(In=null,Pn=0,o=En)}if(o!==0){if(o===2&&(x=Hc(i),x!==0&&(m=x,o=xv(i,x))),o===1)throw c=_d,El(i,0),ya(i,m),vi(i,en()),c;if(o===6)ya(i,m);else{if(x=i.current.alternate,!(m&30)&&!Sq(x)&&(o=sp(i,m),o===2&&(E=Hc(i),E!==0&&(m=E,o=xv(i,E))),o===1))throw c=_d,El(i,0),ya(i,m),vi(i,en()),c;switch(i.finishedWork=x,i.finishedLanes=m,o){case 0:case 1:throw Error(r(345));case 2:Nl(i,gi,Ro);break;case 3:if(ya(i,m),(m&0x7c00000)===m&&(o=_v+500-en(),10<o)){if(uu(i,0)!==0)break;if(x=i.suspendedLanes,(x&m)!==m){ei(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Ig(Nl.bind(null,i,gi,Ro),o);break}Nl(i,gi,Ro);break;case 4:if(ya(i,m),(m&4194240)===m)break;for(o=i.eventTimes,x=-1;0<m;){var P=31-hi(m);E=1<<P,P=o[P],P>x&&(x=P),m&=~E}if(m=x,m=en()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*xq(m/1960))-m,10<m){i.timeoutHandle=Ig(Nl.bind(null,i,gi,Ro),m);break}Nl(i,gi,Ro);break;case 5:Nl(i,gi,Ro);break;default:throw Error(r(329))}}}return vi(i,en()),i.callbackNode===c?AS.bind(null,i):null}function xv(i,o){var c=bd;return i.current.memoizedState.isDehydrated&&(El(i,o).flags|=256),i=sp(i,o),i!==2&&(o=gi,gi=c,o!==null&&Sv(o)),i}function Sv(i){gi===null?gi=i:gi.push.apply(gi,i)}function Sq(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var x=c[m],E=x.getSnapshot;x=x.value;try{if(!Ss(E(),x))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ya(i,o){for(o&=~vv,o&=~Xh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-hi(o),m=1<<c;i[c]=-1,o&=~m}}function PS(i){if(gr&6)throw Error(r(327));Tu();var o=uu(i,0);if(!(o&1))return vi(i,en()),null;var c=sp(i,o);if(i.tag!==0&&c===2){var m=Hc(i);m!==0&&(o=m,c=xv(i,m))}if(c===1)throw c=_d,El(i,0),ya(i,o),vi(i,en()),c;if(c===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Nl(i,gi,Ro),vi(i,en()),null}function Ev(i,o){var c=gr;gr|=1;try{return i(o)}finally{gr=c,gr===0&&(Iu=en()+500,Rh&&ua())}}function Sl(i){pa!==null&&pa.tag===0&&!(gr&6)&&Tu();var o=gr;gr|=1;var c=ns.transition,m=Sr;try{if(ns.transition=null,Sr=1,i)return i()}finally{Sr=m,ns.transition=c,gr=o,!(gr&6)&&ua()}}function Nv(){Fi=Ou.current,Ur(Ou)}function El(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,XC(c)),yn!==null)for(c=yn.return;c!==null;){var m=c;switch(Pg(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ch();break;case 3:Eu(),Ur(pi),Ur(Bn),Qg();break;case 5:Vg(m);break;case 4:Eu();break;case 13:Ur(rn);break;case 19:Ur(rn);break;case 10:Bg(m.type._context);break;case 22:case 23:Nv()}c=c.return}if(In=i,yn=i=ga(i.current,null),Pn=Fi=o,En=0,_d=null,vv=Xh=xl=0,gi=bd=null,_l!==null){for(o=0;o<_l.length;o++)if(c=_l[o],m=c.interleaved,m!==null){c.interleaved=null;var x=m.next,E=c.pending;if(E!==null){var P=E.next;E.next=x,m.next=P}c.pending=m}_l=null}return i}function FS(i,o){do{var c=yn;try{if(Mg(),Wh.current=Hh,zh){for(var m=nn.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}zh=!1}if(wl=0,On=Sn=nn=null,hd=!1,pd=0,gv.current=null,c===null||c.return===null){En=1,_d=o,yn=null;break}e:{var E=i,P=c.return,oe=c,de=o;if(o=Pn,oe.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Le=de,tt=oe,nt=tt.tag;if(!(tt.mode&1)&&(nt===0||nt===11||nt===15)){var Xe=tt.alternate;Xe?(tt.updateQueue=Xe.updateQueue,tt.memoizedState=Xe.memoizedState,tt.lanes=Xe.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var kt=oS(P);if(kt!==null){kt.flags&=-257,aS(kt,P,oe,E,o),kt.mode&1&&sS(E,Le,o),o=kt,de=Le;var At=o.updateQueue;if(At===null){var jt=new Set;jt.add(de),o.updateQueue=jt}else At.add(de);break e}else{if(!(o&1)){sS(E,Le,o),kv();break e}de=Error(r(426))}}else if(Hr&&oe.mode&1){var dn=oS(P);if(dn!==null){!(dn.flags&65536)&&(dn.flags|=256),aS(dn,P,oe,E,o),jg(Nu(de,oe));break e}}E=de=Nu(de,oe),En!==4&&(En=2),bd===null?bd=[E]:bd.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var Oe=nS(E,de,o);Cx(E,Oe);break e;case 1:oe=de;var ge=E.type,Re=E.stateNode;if(!(E.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(ha===null||!ha.has(Re)))){E.flags|=65536,o&=-o,E.lanes|=o;var ot=iS(E,oe,o);Cx(E,ot);break e}}E=E.return}while(E!==null)}DS(c)}catch(Dt){o=Dt,yn===c&&c!==null&&(yn=c=c.return);continue}break}while(!0)}function LS(){var i=Yh.current;return Yh.current=Hh,i===null?Hh:i}function kv(){(En===0||En===3||En===2)&&(En=4),In===null||!(xl&0xfffffff)&&!(Xh&0xfffffff)||ya(In,Pn)}function sp(i,o){var c=gr;gr|=2;var m=LS();(In!==i||Pn!==o)&&(Ro=null,El(i,o));do try{Eq();break}catch(x){FS(i,x)}while(!0);if(Mg(),gr=c,Yh.current=m,yn!==null)throw Error(r(261));return In=null,Pn=0,En}function Eq(){for(;yn!==null;)jS(yn)}function Nq(){for(;yn!==null&&!eg();)jS(yn)}function jS(i){var o=$S(i.alternate,i,Fi);i.memoizedProps=i.pendingProps,o===null?DS(i):yn=o,gv.current=null}function DS(i){var o=i;do{var c=o.alternate;if(i=o.return,o.flags&32768){if(c=vq(c,o),c!==null){c.flags&=32767,yn=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{En=6,yn=null;return}}else if(c=gq(c,o,Fi),c!==null){yn=c;return}if(o=o.sibling,o!==null){yn=o;return}yn=o=i}while(o!==null);En===0&&(En=5)}function Nl(i,o,c){var m=Sr,x=ns.transition;try{ns.transition=null,Sr=1,kq(i,o,c,m)}finally{ns.transition=x,Sr=m}return null}function kq(i,o,c,m){do Tu();while(pa!==null);if(gr&6)throw Error(r(327));c=i.finishedWork;var x=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var E=c.lanes|c.childLanes;if(cg(i,E),i===In&&(yn=In=null,Pn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||tp||(tp=!0,WS(ou,function(){return Tu(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=ns.transition,ns.transition=null;var P=Sr;Sr=1;var oe=gr;gr|=4,gv.current=null,bq(i,c),IS(c,i),HC(kg),Be=!!Ng,kg=Ng=null,i.current=c,wq(c),tg(),gr=oe,Sr=P,ns.transition=E}else i.current=c;if(tp&&(tp=!1,pa=i,rp=x),E=i.pendingLanes,E===0&&(ha=null),ig(c.stateNode),vi(i,en()),o!==null)for(m=i.onRecoverableError,c=0;c<o.length;c++)x=o[c],m(x.value,{componentStack:x.stack,digest:x.digest});if(ep)throw ep=!1,i=bv,bv=null,i;return rp&1&&i.tag!==0&&Tu(),E=i.pendingLanes,E&1?i===wv?wd++:(wd=0,wv=i):wd=0,ua(),null}function Tu(){if(pa!==null){var i=bh(rp),o=ns.transition,c=Sr;try{if(ns.transition=null,Sr=16>i?16:i,pa===null)var m=!1;else{if(i=pa,pa=null,rp=0,gr&6)throw Error(r(331));var x=gr;for(gr|=4,Rt=i.current;Rt!==null;){var E=Rt,P=E.child;if(Rt.flags&16){var oe=E.deletions;if(oe!==null){for(var de=0;de<oe.length;de++){var Le=oe[de];for(Rt=Le;Rt!==null;){var tt=Rt;switch(tt.tag){case 0:case 11:case 15:vd(8,tt,E)}var nt=tt.child;if(nt!==null)nt.return=tt,Rt=nt;else for(;Rt!==null;){tt=Rt;var Xe=tt.sibling,kt=tt.return;if(SS(tt),tt===Le){Rt=null;break}if(Xe!==null){Xe.return=kt,Rt=Xe;break}Rt=kt}}}var At=E.alternate;if(At!==null){var jt=At.child;if(jt!==null){At.child=null;do{var dn=jt.sibling;jt.sibling=null,jt=dn}while(jt!==null)}}Rt=E}}if(E.subtreeFlags&2064&&P!==null)P.return=E,Rt=P;else e:for(;Rt!==null;){if(E=Rt,E.flags&2048)switch(E.tag){case 0:case 11:case 15:vd(9,E,E.return)}var Oe=E.sibling;if(Oe!==null){Oe.return=E.return,Rt=Oe;break e}Rt=E.return}}var ge=i.current;for(Rt=ge;Rt!==null;){P=Rt;var Re=P.child;if(P.subtreeFlags&2064&&Re!==null)Re.return=P,Rt=Re;else e:for(P=ge;Rt!==null;){if(oe=Rt,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:Zh(9,oe)}}catch(Dt){ln(oe,oe.return,Dt)}if(oe===P){Rt=null;break e}var ot=oe.sibling;if(ot!==null){ot.return=oe.return,Rt=ot;break e}Rt=oe.return}}if(gr=x,ua(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(au,i)}catch{}m=!0}return m}finally{Sr=c,ns.transition=o}}return!1}function MS(i,o,c){o=Nu(c,o),o=nS(i,o,1),i=da(i,o,1),o=ei(),i!==null&&(hl(i,1,o),vi(i,o))}function ln(i,o,c){if(i.tag===3)MS(i,i,c);else for(;o!==null;){if(o.tag===3){MS(o,i,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ha===null||!ha.has(m))){i=Nu(c,i),i=iS(o,i,1),o=da(o,i,1),i=ei(),o!==null&&(hl(o,1,i),vi(o,i));break}}o=o.return}}function Oq(i,o,c){var m=i.pingCache;m!==null&&m.delete(o),o=ei(),i.pingedLanes|=i.suspendedLanes&c,In===i&&(Pn&c)===c&&(En===4||En===3&&(Pn&0x7c00000)===Pn&&500>en()-_v?El(i,0):vv|=c),vi(i,o)}function BS(i,o){o===0&&(i.mode&1?(o=lu,lu<<=1,!(lu&0x7c00000)&&(lu=4194304)):o=1);var c=ei();i=To(i,o),i!==null&&(hl(i,o,c),vi(i,c))}function Iq(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),BS(i,c)}function Tq(i,o){var c=0;switch(i.tag){case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(c=x.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(o),BS(i,c)}var $S;$S=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||pi.current)yi=!0;else{if(!(i.lanes&c)&&!(o.flags&128))return yi=!1,yq(i,o,c);yi=!!(i.flags&131072)}else yi=!1,Hr&&o.flags&1048576&&bx(o,Ph,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Gh(i,o),i=o.pendingProps;var x=gu(o,Bn.current);Su(o,c),x=Jg(null,o,m,i,x,c);var E=Zg();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,mi(m)?(E=!0,qh(o)):E=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,zg(o),x.updater=Qh,o.stateNode=x,x._reactInternals=o,nv(o,m,i,c),o=av(null,o,m,!0,E,c)):(o.tag=0,Hr&&E&&Ag(o),Xn(null,o,x,c),o=o.child),o;case 16:m=o.elementType;e:{switch(Gh(i,o),i=o.pendingProps,x=m._init,m=x(m._payload),o.type=m,x=o.tag=qq(m),i=Ns(m,i),x){case 0:o=ov(null,o,m,i,c);break e;case 1:o=hS(null,o,m,i,c);break e;case 11:o=lS(null,o,m,i,c);break e;case 14:o=uS(null,o,m,Ns(m.type,i),c);break e}throw Error(r(306,m,""))}return o;case 0:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:Ns(m,x),ov(i,o,m,x,c);case 1:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:Ns(m,x),hS(i,o,m,x,c);case 3:e:{if(pS(o),i===null)throw Error(r(387));m=o.pendingProps,E=o.memoizedState,x=E.element,Tx(i,o),Bh(o,m,null,c);var P=o.memoizedState;if(m=P.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){x=Nu(Error(r(423)),o),o=mS(i,o,m,c,x);break e}else if(m!==x){x=Nu(Error(r(424)),o),o=mS(i,o,m,c,x);break e}else for(Pi=oa(o.stateNode.containerInfo.firstChild),Ai=o,Hr=!0,Es=null,c=Ox(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(bu(),m===x){o=qo(i,o,c);break e}Xn(i,o,m,c)}o=o.child}return o;case 5:return Rx(o),i===null&&Lg(o),m=o.type,x=o.pendingProps,E=i!==null?i.memoizedProps:null,P=x.children,Og(m,x)?P=null:E!==null&&Og(m,E)&&(o.flags|=32),fS(i,o),Xn(i,o,P,c),o.child;case 6:return i===null&&Lg(o),null;case 13:return yS(i,o,c);case 4:return Ug(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=wu(o,null,m,c):Xn(i,o,m,c),o.child;case 11:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:Ns(m,x),lS(i,o,m,x,c);case 7:return Xn(i,o,o.pendingProps,c),o.child;case 8:return Xn(i,o,o.pendingProps.children,c),o.child;case 12:return Xn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(m=o.type._context,x=o.pendingProps,E=o.memoizedProps,P=x.value,Dr(jh,m._currentValue),m._currentValue=P,E!==null)if(Ss(E.value,P)){if(E.children===x.children&&!pi.current){o=qo(i,o,c);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var oe=E.dependencies;if(oe!==null){P=E.child;for(var de=oe.firstContext;de!==null;){if(de.context===m){if(E.tag===1){de=Co(-1,c&-c),de.tag=2;var Le=E.updateQueue;if(Le!==null){Le=Le.shared;var tt=Le.pending;tt===null?de.next=de:(de.next=tt.next,tt.next=de),Le.pending=de}}E.lanes|=c,de=E.alternate,de!==null&&(de.lanes|=c),$g(E.return,c,o),oe.lanes|=c;break}de=de.next}}else if(E.tag===10)P=E.type===o.type?null:E.child;else if(E.tag===18){if(P=E.return,P===null)throw Error(r(341));P.lanes|=c,oe=P.alternate,oe!==null&&(oe.lanes|=c),$g(P,c,o),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===o){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}Xn(i,o,x.children,c),o=o.child}return o;case 9:return x=o.type,m=o.pendingProps.children,Su(o,c),x=ts(x),m=m(x),o.flags|=1,Xn(i,o,m,c),o.child;case 14:return m=o.type,x=Ns(m,o.pendingProps),x=Ns(m.type,x),uS(i,o,m,x,c);case 15:return cS(i,o,o.type,o.pendingProps,c);case 17:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:Ns(m,x),Gh(i,o),o.tag=1,mi(m)?(i=!0,qh(o)):i=!1,Su(o,c),tS(o,m,x),nv(o,m,x,c),av(null,o,m,!0,i,c);case 19:return vS(i,o,c);case 22:return dS(i,o,c)}throw Error(r(156,o.tag))};function WS(i,o){return yh(i,o)}function Cq(i,o,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(i,o,c,m){return new Cq(i,o,c,m)}function Ov(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qq(i){if(typeof i=="function")return Ov(i)?1:0;if(i!=null){if(i=i.$$typeof,i===se)return 11;if(i===Ce)return 14}return 2}function ga(i,o){var c=i.alternate;return c===null?(c=is(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&0xe00000,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function op(i,o,c,m,x,E){var P=2;if(m=i,typeof i=="function")Ov(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case J:return kl(c.children,x,E,o);case ne:P=8,x|=8;break;case U:return i=is(12,c,o,x|2),i.elementType=U,i.lanes=E,i;case Z:return i=is(13,c,o,x),i.elementType=Z,i.lanes=E,i;case pe:return i=is(19,c,o,x),i.elementType=pe,i.lanes=E,i;case Fe:return ap(c,x,E,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case re:P=10;break e;case M:P=9;break e;case se:P=11;break e;case Ce:P=14;break e;case Te:P=16,m=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return o=is(P,c,o,x),o.elementType=i,o.type=m,o.lanes=E,o}function kl(i,o,c,m){return i=is(7,i,m,o),i.lanes=c,i}function ap(i,o,c,m){return i=is(22,i,m,o),i.elementType=Fe,i.lanes=c,i.stateNode={isHidden:!1},i}function Iv(i,o,c){return i=is(6,i,null,o),i.lanes=c,i}function Tv(i,o,c){return o=is(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Rq(i,o,c,m,x){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qc(0),this.expirationTimes=Qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Cv(i,o,c,m,x,E,P,oe,de){return i=new Rq(i,o,c,oe,de),o===1?(o=1,E===!0&&(o|=8)):o=0,E=is(3,null,null,o),i.current=E,E.stateNode=i,E.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(E),i}function Aq(i,o,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:i,containerInfo:o,implementation:c}}function zS(i){if(!i)return la;i=i._reactInternals;e:{if(So(i)!==i||i.tag!==1)throw Error(r(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(mi(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(i.tag===1){var c=i.type;if(mi(c))return gx(i,c,o)}return o}function US(i,o,c,m,x,E,P,oe,de){return i=Cv(c,m,!0,i,x,E,P,oe,de),i.context=zS(null),c=i.current,m=ei(),x=ma(c),E=Co(m,x),E.callback=o??null,da(c,E,x),i.current.lanes=x,hl(i,x,m),vi(i,m),i}function lp(i,o,c,m){var x=o.current,E=ei(),P=ma(x);return c=zS(c),o.context===null?o.context=c:o.pendingContext=c,o=Co(E,P),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=da(x,o,P),i!==null&&(Is(i,x,P,E),Mh(i,x,P)),P}function up(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function VS(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function qv(i,o){VS(i,o),(i=i.alternate)&&VS(i,o)}function Pq(){return null}var HS=typeof reportError=="function"?reportError:function(i){console.error(i)};function Rv(i){this._internalRoot=i}cp.prototype.render=Rv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));lp(i,o,null,null)},cp.prototype.unmount=Rv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Sl(function(){lp(null,i,null,null)}),o[No]=null}};function cp(i){this._internalRoot=i}cp.prototype.unstable_scheduleHydration=function(i){if(i){var o=pl();i={blockedOn:null,target:i,priority:o};for(var c=0;c<te.length&&o!==0&&o<te[c].priority;c++);te.splice(c,0,i),c===0&&Ae(i)}};function Av(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function dp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function QS(){}function Fq(i,o,c,m,x){if(x){if(typeof m=="function"){var E=m;m=function(){var Le=up(P);E.call(Le)}}var P=US(o,m,i,0,null,!1,!1,"",QS);return i._reactRootContainer=P,i[No]=P.current,sd(i.nodeType===8?i.parentNode:i),Sl(),P}for(;x=i.lastChild;)i.removeChild(x);if(typeof m=="function"){var oe=m;m=function(){var Le=up(de);oe.call(Le)}}var de=Cv(i,0,!1,null,null,!1,!1,"",QS);return i._reactRootContainer=de,i[No]=de.current,sd(i.nodeType===8?i.parentNode:i),Sl(function(){lp(o,de,c,m)}),de}function fp(i,o,c,m,x){var E=c._reactRootContainer;if(E){var P=E;if(typeof x=="function"){var oe=x;x=function(){var de=up(P);oe.call(de)}}lp(o,P,i,x)}else P=Fq(c,o,i,x,m);return up(P)}Gc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=xs(o.pendingLanes);c!==0&&(Kc(o,c|1),vi(o,en()),!(gr&6)&&(Iu=en()+500,ua()))}break;case 13:Sl(function(){var m=To(i,1);if(m!==null){var x=ei();Is(m,i,1,x)}}),qv(i,1)}},ee=function(i){if(i.tag===13){var o=To(i,0x8000000);if(o!==null){var c=ei();Is(o,i,0x8000000,c)}qv(i,0x8000000)}},Jc=function(i){if(i.tag===13){var o=ma(i),c=To(i,o);if(c!==null){var m=ei();Is(c,i,o,m)}qv(i,o)}},pl=function(){return Sr},Zc=function(i,o){var c=Sr;try{return Sr=i,o()}finally{Sr=c}},$c=function(i,o,c){switch(o){case"input":if(pr(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==i&&m.form===i.form){var x=Th(m);if(!x)throw Error(r(90));Ct(m),pr(m,x)}}}break;case"textarea":_t(i,c);break;case"select":o=c.value,o!=null&&qe(i,!!c.multiple,o,!1)}},ch=Ev,dh=Sl;var Lq={usingClientEntryPoint:!1,Events:[ld,mu,Th,rr,uh,Ev]},xd={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jq={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ph(i),i===null?null:i.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||Pq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{au=hp.inject(jq),Zi=hp}catch{}}return _i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lq,_i.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(o))throw Error(r(200));return Aq(i,o,null,c)},_i.createRoot=function(i,o){if(!Av(i))throw Error(r(299));var c=!1,m="",x=HS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Cv(i,1,!1,null,null,c,!1,m,x),i[No]=o.current,sd(i.nodeType===8?i.parentNode:i),new Rv(o)},_i.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ph(o),i=i===null?null:i.stateNode,i},_i.flushSync=function(i){return Sl(i)},_i.hydrate=function(i,o,c){if(!dp(o))throw Error(r(200));return fp(null,i,o,!0,c)},_i.hydrateRoot=function(i,o,c){if(!Av(i))throw Error(r(405));var m=c!=null&&c.hydratedSources||null,x=!1,E="",P=HS;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),o=US(o,null,i,1,c??null,x,!1,E,P),i[No]=o.current,sd(i),m)for(i=0;i<m.length;i++)c=m[i],x=c._getVersion,x=x(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,x]:o.mutableSourceEagerHydrationData.push(c,x);return new cp(o)},_i.render=function(i,o,c){if(!dp(o))throw Error(r(200));return fp(null,i,o,!1,c)},_i.unmountComponentAtNode=function(i){if(!dp(i))throw Error(r(40));return i._reactRootContainer?(Sl(function(){fp(null,null,i,!1,function(){i._reactRootContainer=null,i[No]=null})}),!0):!1},_i.unstable_batchedUpdates=Ev,_i.unstable_renderSubtreeIntoContainer=function(i,o,c,m){if(!dp(c))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return fp(i,o,c,!1,m)},_i.version="18.3.1-next-f1338f8080-20240426",_i}var NE;function v3(){if(NE)return Vv.exports;NE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vv.exports=gA(),Vv.exports}var Sw=v3();const vA="Error preloading route! ☝️";function _A(t,e){const r=Ii(),[n,s]=Q.useState(!1),a=Q.useRef(!1),l=UR(e),{activeProps:u=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:p,to:g,preload:w,preloadDelay:N,hashScrollIntoView:k,replace:I,startTransition:T,resetScroll:A,viewTransition:D,children:L,target:$,disabled:V,style:K,className:B,onClick:J,onFocus:ne,onMouseEnter:U,onMouseLeave:re,onTouchStart:M,ignoreBlocker:se,...Z}=t,{params:pe,search:Ce,hash:Te,state:Fe,mask:ve,reloadDocument:me,...Ne}=Z,H=Q.useMemo(()=>{try{return new URL(`${g}`),"external"}catch{}return"internal"},[g]),Se=ai({select:ye=>ye.location.search,structuralSharing:!0});t={from:Wa({strict:!1,select:ye=>ye.pathname}),...t};const at=Q.useMemo(()=>r.buildLocation(t),[r,t,Se]),dt=Q.useMemo(()=>t.reloadDocument?!1:w??r.options.defaultPreload,[r.options.defaultPreload,w,t.reloadDocument]),mt=N??r.options.defaultPreloadDelay??0,ft=ai({select:ye=>{if(p?.exact){if(!HR(ye.location.pathname,at.pathname,r.basepath))return!1}else{const qe=mm(ye.location.pathname,r.basepath).split("/");if(!mm(at.pathname,r.basepath).split("/").every((_t,Bt)=>_t===qe[Bt]))return!1}return(p?.includeSearch??!0)&&!Yu(ye.location.search,at.search,{partial:!p?.exact,ignoreUndefined:!p?.explicitUndefined})?!1:p?.includeHash?ye.location.hash===at.hash:!0}}),gt=Q.useCallback(()=>{r.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(vA)})},[t,r]),Pt=Q.useCallback(ye=>{ye?.isIntersecting&&gt()},[gt]);if(zR(l,Pt,{rootMargin:"100px"},{disabled:!!V||dt!=="viewport"}),Rd(()=>{a.current||!V&&dt==="render"&&(gt(),a.current=!0)},[V,gt,dt]),H==="external")return{...Ne,ref:l,type:H,href:g,...L&&{children:L},...$&&{target:$},...V&&{disabled:V},...K&&{style:K},...B&&{className:B},...J&&{onClick:J},...ne&&{onFocus:ne},...U&&{onMouseEnter:U},...re&&{onMouseLeave:re},...M&&{onTouchStart:M}};const vt=ye=>{if(!V&&!wA(ye)&&!ye.defaultPrevented&&(!$||$==="_self")&&ye.button===0){ye.preventDefault(),Sw.flushSync(()=>{s(!0)});const qe=r.subscribe("onResolved",()=>{qe(),s(!1)});return r.navigate({...t,replace:I,resetScroll:A,hashScrollIntoView:k,startTransition:T,viewTransition:D,ignoreBlocker:se})}},yt=ye=>{V||dt&&gt()},Ct=yt,It=ye=>{if(V)return;const qe=ye.target||{};if(dt){if(qe.preloadTimeout)return;qe.preloadTimeout=setTimeout(()=>{qe.preloadTimeout=null,gt()},mt)}},er=ye=>{if(V)return;const qe=ye.target||{};qe.preloadTimeout&&(clearTimeout(qe.preloadTimeout),qe.preloadTimeout=null)},Zt=ye=>qe=>{var De;(De=qe.persist)==null||De.call(qe),ye.filter(Boolean).forEach(Ge=>{qe.defaultPrevented||Ge(qe)})},ir=ft?Fl(u,{})??{}:{},pr=ft?{}:Fl(d,{}),ae=[B,ir.className,pr.className].filter(Boolean).join(" "),ue={...K,...ir.style,...pr.style};return{...Ne,...ir,...pr,href:V?void 0:at.maskedLocation?r.history.createHref(at.maskedLocation.href):r.history.createHref(at.href),ref:l,onClick:Zt([J,vt]),onFocus:Zt([ne,yt]),onMouseEnter:Zt([U,It]),onMouseLeave:Zt([re,er]),onTouchStart:Zt([M,Ct]),disabled:!!V,target:$,...Object.keys(ue).length&&{style:ue},...ae&&{className:ae},...V&&{role:"link","aria-disabled":!0},...ft&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}function _3(t){return Q.forwardRef(function(r,n){return y.jsx(bA,{...r,_asChild:t,ref:n})})}const bA=Q.forwardRef((t,e)=>{const{_asChild:r,...n}=t,{type:s,ref:a,...l}=_A(n,e),u=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return typeof r>"u"&&delete l.disabled,Q.createElement(r||"a",{...l,ref:a},u)});function wA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xA(){const t=Ii(),e=Q.useRef({router:t,mounted:!1}),r=ai({select:({isLoading:w})=>w}),[n,s]=Q.useState(!1),a=ai({select:w=>w.matches.some(N=>N.status==="pending"),structuralSharing:!0}),l=Wv(r),u=r||n||a,d=Wv(u),p=r||a,g=Wv(p);return t.isServer||(t.startReactTransition=w=>{s(!0),Q.startTransition(()=>{w(),s(!1)})}),Q.useEffect(()=>{const w=t.history.subscribe(t.load),N=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ll(t.latestLocation.href)!==Ll(N.href)&&t.commitLocation({...N,replace:!0}),()=>{w()}},[t,t.history]),Rd(()=>{var w;if(typeof window<"u"&&((w=window.__TSR__)!=null&&w.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(k){console.error(k)}})()},[t]),Rd(()=>{if(l&&!r){const w=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==w.pathname,I=N.href!==w.href;t.emit({type:"onLoad",fromLocation:N,toLocation:w,pathChanged:k,hrefChanged:I})}},[l,t,r]),Rd(()=>{if(g&&!p){const w=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==w.pathname,I=N.href!==w.href;t.emit({type:"onBeforeRouteMount",fromLocation:N,toLocation:w,pathChanged:k,hrefChanged:I})}},[p,g,t]),Rd(()=>{if(d&&!u){const w=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==w.pathname,I=N.href!==w.href;if(t.emit({type:"onResolved",fromLocation:N,toLocation:w,pathChanged:k,hrefChanged:I}),t.__store.setState(T=>({...T,status:"idle",resolvedLocation:T.location})),typeof document<"u"&&document.querySelector){const T=t.state.location.state.__hashScrollIntoViewOptions??!0;if(T&&t.state.location.hash!==""){const A=document.getElementById(t.state.location.hash);A&&A.scrollIntoView(T)}}}},[u,d,t]),null}function SA(){const t=Ii(),e=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null,r=t.isServer||typeof document<"u"&&window.__TSR__?Lp:Q.Suspense,n=y.jsxs(r,{fallback:e,children:[y.jsx(xA,{}),y.jsx(EA,{})]});return t.options.InnerWrap?y.jsx(t.options.InnerWrap,{children:n}):n}function EA(){const t=ai({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),e=ai({select:r=>r.loadedAt});return y.jsx(ay.Provider,{value:t,children:y.jsx(ww,{getResetKey:()=>e,errorComponent:oy,onCatch:r=>{r.message||r.toString()},children:t?y.jsx(g3,{matchId:t}):null})})}function b3(){const t=Ii();return ai({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),Q.useCallback(e=>{const{pending:r,caseSensitive:n,fuzzy:s,includeSearch:a,...l}=e;return t.matchRoute(l,{pending:r,caseSensitive:n,fuzzy:s,includeSearch:a})},[t])}function NA({router:t,children:e,...r}){t.update({...t.options,...r,context:{...t.options.context,...r.context}});const n=h3(),s=y.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?y.jsx(t.options.Wrap,{children:s}):s}function kA({router:t,...e}){return y.jsx(NA,{router:t,...e,children:y.jsx(SA,{})})}const OA=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,Kv="window",kE="___";let Gv=new WeakSet;const IA=typeof window<"u"&&window.sessionStorage,Rs=IA?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:r=>{Rs.state=Fl(r,Rs.state),window.sessionStorage.setItem(t,JSON.stringify(Rs.state))}}})():void 0,TA=t=>t.state.key||t.href;function CA(t){const e=Ii();OA(()=>{const r=t?.getKey||TA,{history:n}=window;n.scrollRestoration="manual";const s=u=>{if(Gv.has(u.target))return;Gv.add(u.target);let d="";if(u.target===document||u.target===window)d=Kv;else{const p=u.target.getAttribute("data-scroll-restoration-id");p?d=`[data-scroll-restoration-id="${p}"]`:d=RA(u.target)}Rs.state.next[d]||Rs.set(p=>({...p,next:{...p.next,[d]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",s,!0);const a=e.subscribe("onBeforeLoad",u=>{if(u.hrefChanged){const d=r(u.fromLocation);for(const p in Rs.state.next){const g=Rs.state.next[p];if(p===Kv)g.scrollX=window.scrollX||0,g.scrollY=window.scrollY||0;else if(p){const w=document.querySelector(p);g.scrollX=w?.scrollLeft||0,g.scrollY=w?.scrollTop||0}Rs.set(w=>{const N={...w.next};return delete N[p],{...w,next:N,cached:{...w.cached,[[d,p].join(kE)]:g}}})}}}),l=e.subscribe("onBeforeRouteMount",u=>{if(u.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const d=r(u.toLocation);let p=!1;for(const g in Rs.state.cached){const w=Rs.state.cached[g],[N,k]=g.split(kE);if(N===d){if(k===Kv)p=!0,window.scrollTo(w.scrollX,w.scrollY);else if(k){const I=document.querySelector(k);I&&(I.scrollLeft=w.scrollX,I.scrollTop=w.scrollY)}}}p||window.scrollTo(0,0),Rs.set(g=>({...g,next:{}})),Gv=new WeakSet}});return()=>{document.removeEventListener("scroll",s),a(),l()}},[t?.getKey,e])}function qA(t){return CA(t),null}function RA(t){const e=[];let r;for(;r=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(r.children,t)+1})`),t=r;return`${e.join(" > ")}`.toLowerCase()}function Mn(t){return Wa({...t,select:e=>t.select?t.select(e.context):e.context})}let AA={data:""},PA=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||AA,FA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LA=/\/\*[^]*?\*\/|  +/g,OE=/\n+/g,Oa=(t,e)=>{let r="",n="",s="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?Oa(l,a):a+"{"+Oa(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Oa(l,e?e.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Oa.p?Oa.p(a,l):a+":"+l+";")}return r+(e&&s?e+"{"+s+"}":s)+n},Ao={},w3=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+w3(t[r]);return e}return t},jA=(t,e,r,n,s)=>{let a=w3(t),l=Ao[a]||(Ao[a]=(d=>{let p=0,g=11;for(;p<d.length;)g=101*g+d.charCodeAt(p++)>>>0;return"go"+g})(a));if(!Ao[l]){let d=a!==t?t:(p=>{let g,w,N=[{}];for(;g=FA.exec(p.replace(LA,""));)g[4]?N.shift():g[3]?(w=g[3].replace(OE," ").trim(),N.unshift(N[0][w]=N[0][w]||{})):N[0][g[1]]=g[2].replace(OE," ").trim();return N[0]})(t);Ao[l]=Oa(s?{["@keyframes "+l]:d}:d,r?"":"."+l)}let u=r&&Ao.g?Ao.g:null;return r&&(Ao.g=Ao[l]),((d,p,g,w)=>{w?p.data=p.data.replace(w,d):p.data.indexOf(d)===-1&&(p.data=g?d+p.data:p.data+d)})(Ao[l],e,n,u),l},DA=(t,e,r)=>t.reduce((n,s,a)=>{let l=e[a];if(l&&l.call){let u=l(r),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":Oa(u,""):u===!1?"":u}return n+s+(l??"")},"");function ly(t){let e=this||{},r=t.call?t(e.p):t;return jA(r.unshift?r.raw?DA(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,PA(e.target),e.g,e.o,e.k)}let x3,xb,Sb;ly.bind({g:1});let Ho=ly.bind({k:1});function MA(t,e,r,n){Oa.p=e,x3=t,xb=r,Sb=n}function rl(t,e){let r=this||{};return function(){let n=arguments;function s(a,l){let u=Object.assign({},a),d=u.className||s.className;r.p=Object.assign({theme:xb&&xb()},u),r.o=/ *go\d+/.test(d),u.className=ly.apply(r,n)+(d?" "+d:"");let p=t;return t[0]&&(p=u.as||t,delete u.as),Sb&&p[0]&&Sb(u),x3(p,u)}return s}}var BA=t=>typeof t=="function",gm=(t,e)=>BA(t)?t(e):t,$A=(()=>{let t=0;return()=>(++t).toString()})(),S3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),WA=20,jp=new Map,zA=1e3,IE=t=>{if(jp.has(t))return;let e=setTimeout(()=>{jp.delete(t),tu({type:4,toastId:t})},zA);jp.set(t,e)},UA=t=>{let e=jp.get(t);e&&clearTimeout(e)},Eb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,WA)};case 1:return e.toast.id&&UA(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?Eb(t,{type:1,toast:r}):Eb(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?IE(n):t.toasts.forEach(a=>{IE(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Dp=[],Mp={toasts:[],pausedAt:void 0},tu=t=>{Mp=Eb(Mp,t),Dp.forEach(e=>{e(Mp)})},VA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},HA=(t={})=>{let[e,r]=Q.useState(Mp);Q.useEffect(()=>(Dp.push(r),()=>{let s=Dp.indexOf(r);s>-1&&Dp.splice(s,1)}),[e]);let n=e.toasts.map(s=>{var a,l;return{...t,...t[s.type],...s,duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||t?.duration||VA[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:n}},QA=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||$A()}),Pf=t=>(e,r)=>{let n=QA(e,t,r);return tu({type:2,toast:n}),n.id},_r=(t,e)=>Pf("blank")(t,e);_r.error=Pf("error");_r.success=Pf("success");_r.loading=Pf("loading");_r.custom=Pf("custom");_r.dismiss=t=>{tu({type:3,toastId:t})};_r.remove=t=>tu({type:4,toastId:t});_r.promise=(t,e,r)=>{let n=_r.loading(e.loading,{...r,...r?.loading});return t.then(s=>(_r.success(gm(e.success,s),{id:n,...r,...r?.success}),s)).catch(s=>{_r.error(gm(e.error,s),{id:n,...r,...r?.error})}),t};var KA=(t,e)=>{tu({type:1,toast:{id:t,height:e}})},GA=()=>{tu({type:5,time:Date.now()})},JA=t=>{let{toasts:e,pausedAt:r}=HA(t);Q.useEffect(()=>{if(r)return;let a=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(a-u.createdAt);if(d<0){u.visible&&_r.dismiss(u.id);return}return setTimeout(()=>_r.dismiss(u.id),d)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,r]);let n=Q.useCallback(()=>{r&&tu({type:6,time:Date.now()})},[r]),s=Q.useCallback((a,l)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:p}=l||{},g=e.filter(k=>(k.position||p)===(a.position||p)&&k.height),w=g.findIndex(k=>k.id===a.id),N=g.filter((k,I)=>I<w&&k.visible).length;return g.filter(k=>k.visible).slice(...u?[N+1]:[0,N]).reduce((k,I)=>k+(I.height||0)+d,0)},[e]);return{toasts:e,handlers:{updateHeight:KA,startPause:GA,endPause:n,calculateOffset:s}}},ZA=Ho`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YA=Ho`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XA=Ho`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eP=rl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${XA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tP=Ho`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rP=rl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${tP} 1s linear infinite;
`,nP=Ho`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,iP=Ho`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sP=rl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${iP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,oP=rl("div")`
  position: absolute;
`,aP=rl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lP=Ho`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uP=rl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cP=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?Q.createElement(uP,null,e):e:r==="blank"?null:Q.createElement(aP,null,Q.createElement(rP,{...n}),r!=="loading"&&Q.createElement(oP,null,r==="error"?Q.createElement(eP,{...n}):Q.createElement(sP,{...n})))},dP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,hP="0%{opacity:0;} 100%{opacity:1;}",pP="0%{opacity:1;} 100%{opacity:0;}",mP=rl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yP=rl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gP=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=S3()?[hP,pP]:[dP(r),fP(r)];return{animation:e?`${Ho(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ho(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vP=Q.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?gP(t.position||e||"top-center",t.visible):{opacity:0},a=Q.createElement(cP,{toast:t}),l=Q.createElement(yP,{...t.ariaProps},gm(t.message,t));return Q.createElement(mP,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:a,message:l}):Q.createElement(Q.Fragment,null,a,l))});MA(Q.createElement);var _P=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let a=Q.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;n(t,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return Q.createElement("div",{ref:a,className:e,style:r},s)},bP=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:S3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},wP=ly`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gp=16,xP=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:a,containerClassName:l})=>{let{toasts:u,handlers:d}=JA(r);return Q.createElement("div",{style:{position:"fixed",zIndex:9999,top:gp,left:gp,right:gp,bottom:gp,pointerEvents:"none",...a},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(p=>{let g=p.position||e,w=d.calculateOffset(p,{reverseOrder:t,gutter:n,defaultPosition:e}),N=bP(g,w);return Q.createElement(_P,{id:p.id,key:p.id,onHeightUpdate:d.updateHeight,className:p.visible?wP:"",style:N},p.type==="custom"?gm(p.message,p):s?s(p):Q.createElement(vP,{toast:p,position:g}))}))},SP=_r;class ru extends Error{}class EP extends ru{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class NP extends ru{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class kP extends ru{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class zu extends ru{}class E3 extends ru{constructor(e){super(`Invalid unit ${e}`)}}class Vn extends ru{}class _a extends ru{constructor(){super("Zone is an abstract class")}}const St="numeric",$s="short",Vi="long",vm={year:St,month:St,day:St},N3={year:St,month:$s,day:St},OP={year:St,month:$s,day:St,weekday:$s},k3={year:St,month:Vi,day:St},O3={year:St,month:Vi,day:St,weekday:Vi},I3={hour:St,minute:St},T3={hour:St,minute:St,second:St},C3={hour:St,minute:St,second:St,timeZoneName:$s},q3={hour:St,minute:St,second:St,timeZoneName:Vi},R3={hour:St,minute:St,hourCycle:"h23"},A3={hour:St,minute:St,second:St,hourCycle:"h23"},P3={hour:St,minute:St,second:St,hourCycle:"h23",timeZoneName:$s},F3={hour:St,minute:St,second:St,hourCycle:"h23",timeZoneName:Vi},L3={year:St,month:St,day:St,hour:St,minute:St},j3={year:St,month:St,day:St,hour:St,minute:St,second:St},D3={year:St,month:$s,day:St,hour:St,minute:St},M3={year:St,month:$s,day:St,hour:St,minute:St,second:St},IP={year:St,month:$s,day:St,weekday:$s,hour:St,minute:St},B3={year:St,month:Vi,day:St,hour:St,minute:St,timeZoneName:$s},$3={year:St,month:Vi,day:St,hour:St,minute:St,second:St,timeZoneName:$s},W3={year:St,month:Vi,day:St,weekday:Vi,hour:St,minute:St,timeZoneName:Vi},z3={year:St,month:Vi,day:St,weekday:Vi,hour:St,minute:St,second:St,timeZoneName:Vi};class Ff{get type(){throw new _a}get name(){throw new _a}get ianaName(){return this.name}get isUniversal(){throw new _a}offsetName(e,r){throw new _a}formatOffset(e,r){throw new _a}offset(e){throw new _a}equals(e){throw new _a}get isValid(){throw new _a}}let Jv=null;class uy extends Ff{static get instance(){return Jv===null&&(Jv=new uy),Jv}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Y3(e,r,n)}formatOffset(e,r){return zd(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Bp={};function TP(t){return Bp[t]||(Bp[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Bp[t]}const CP={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function qP(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,a,l,u,d,p,g]=n;return[l,s,a,u,d,p,g]}function RP(t,e){const r=t.formatToParts(e),n=[];for(let s=0;s<r.length;s++){const{type:a,value:l}=r[s],u=CP[a];a==="era"?n[u]=l:Xt(u)||(n[u]=parseInt(l,10))}return n}let vp={};class Qo extends Ff{static create(e){return vp[e]||(vp[e]=new Qo(e)),vp[e]}static resetCache(){vp={},Bp={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Qo.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Y3(e,r,n,this.name)}formatOffset(e,r){return zd(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=TP(this.name);let[s,a,l,u,d,p,g]=n.formatToParts?RP(n,r):qP(n,r);u==="BC"&&(s=-Math.abs(s)+1);const N=dy({year:s,month:a,day:l,hour:d===24?0:d,minute:p,second:g,millisecond:0});let k=+r;const I=k%1e3;return k-=I>=0?I:1e3+I,(N-k)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let TE={};function AP(t,e={}){const r=JSON.stringify([t,e]);let n=TE[r];return n||(n=new Intl.ListFormat(t,e),TE[r]=n),n}let Nb={};function kb(t,e={}){const r=JSON.stringify([t,e]);let n=Nb[r];return n||(n=new Intl.DateTimeFormat(t,e),Nb[r]=n),n}let Ob={};function PP(t,e={}){const r=JSON.stringify([t,e]);let n=Ob[r];return n||(n=new Intl.NumberFormat(t,e),Ob[r]=n),n}let Ib={};function FP(t,e={}){const{base:r,...n}=e,s=JSON.stringify([t,n]);let a=Ib[s];return a||(a=new Intl.RelativeTimeFormat(t,e),Ib[s]=a),a}let Ad=null;function LP(){return Ad||(Ad=new Intl.DateTimeFormat().resolvedOptions().locale,Ad)}let CE={};function jP(t){let e=CE[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,CE[t]=e}return e}function DP(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,s;try{n=kb(t).resolvedOptions(),s=t}catch{const d=t.substring(0,r);n=kb(d).resolvedOptions(),s=d}const{numberingSystem:a,calendar:l}=n;return[s,a,l]}}function MP(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function BP(t){const e=[];for(let r=1;r<=12;r++){const n=Yt.utc(2009,r,1);e.push(t(n))}return e}function $P(t){const e=[];for(let r=1;r<=7;r++){const n=Yt.utc(2016,11,13+r);e.push(t(n))}return e}function _p(t,e,r,n){const s=t.listingMode();return s==="error"?null:s==="en"?r(e):n(e)}function WP(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class zP{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:a,...l}=n;if(!r||Object.keys(l).length>0){const u={useGrouping:!1,...n};n.padTo>0&&(u.minimumIntegerDigits=n.padTo),this.inf=PP(e,u)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):Iw(e,3);return gn(r,this.padTo)}}}class UP{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),u=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&Qo.create(u).valid?(s=u,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const a={...this.opts};a.timeZone=a.timeZone||s,this.dtf=kb(r,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class VP{constructor(e,r,n){this.opts={style:"long",...n},!r&&J3()&&(this.rtf=FP(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):pF(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const HP={firstDay:1,minimalDays:4,weekend:[6,7]};class Or{static fromOpts(e){return Or.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,s,a=!1){const l=e||cn.defaultLocale,u=l||(a?"en-US":LP()),d=r||cn.defaultNumberingSystem,p=n||cn.defaultOutputCalendar,g=Tb(s)||cn.defaultWeekSettings;return new Or(u,d,p,g,l)}static resetCache(){Ad=null,Nb={},Ob={},Ib={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:s}={}){return Or.create(e,r,n,s)}constructor(e,r,n,s,a){const[l,u,d]=DP(e);this.locale=l,this.numberingSystem=r||u||null,this.outputCalendar=n||d||null,this.weekSettings=s,this.intl=MP(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=WP(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Or.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Tb(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return _p(this,e,tO,()=>{const n=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=BP(a=>this.extract(a,n,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return _p(this,e,iO,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=$P(a=>this.extract(a,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return _p(this,void 0,()=>sO,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Yt.utc(2016,11,13,9),Yt.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return _p(this,e,oO,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Yt.utc(-40,1,1),Yt.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const s=this.dtFormatter(e,r),a=s.formatToParts(),l=a.find(u=>u.type.toLowerCase()===n);return l?l.value:null}numberFormatter(e={}){return new zP(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new UP(e,this.intl,r)}relFormatter(e={}){return new VP(this.intl,this.isEnglish(),e)}listFormatter(e={}){return AP(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Z3()?jP(this.locale):HP}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Zv=null;class si extends Ff{static get utcInstance(){return Zv===null&&(Zv=new si(0)),Zv}static instance(e){return e===0?si.utcInstance:new si(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new si(fy(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${zd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${zd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return zd(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class QP extends Ff{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ia(t,e){if(Xt(t)||t===null)return e;if(t instanceof Ff)return t;if(XP(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?uy.instance:r==="utc"||r==="gmt"?si.utcInstance:si.parseSpecifier(r)||Qo.create(t)}else return Fa(t)?si.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new QP(t)}const Ew={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},qE={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},KP=Ew.hanidec.replace(/[\[|\]]/g,"").split("");function GP(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(Ew.hanidec)!==-1)e+=KP.indexOf(t[r]);else for(const s in qE){const[a,l]=qE[s];n>=a&&n<=l&&(e+=n-a)}}return parseInt(e,10)}else return e}let Mu={};function JP(){Mu={}}function Ts({numberingSystem:t},e=""){const r=t||"latn";return Mu[r]||(Mu[r]={}),Mu[r][e]||(Mu[r][e]=new RegExp(`${Ew[r]}${e}`)),Mu[r][e]}let RE=()=>Date.now(),AE="system",PE=null,FE=null,LE=null,jE=60,DE,ME=null;class cn{static get now(){return RE}static set now(e){RE=e}static set defaultZone(e){AE=e}static get defaultZone(){return Ia(AE,uy.instance)}static get defaultLocale(){return PE}static set defaultLocale(e){PE=e}static get defaultNumberingSystem(){return FE}static set defaultNumberingSystem(e){FE=e}static get defaultOutputCalendar(){return LE}static set defaultOutputCalendar(e){LE=e}static get defaultWeekSettings(){return ME}static set defaultWeekSettings(e){ME=Tb(e)}static get twoDigitCutoffYear(){return jE}static set twoDigitCutoffYear(e){jE=e%100}static get throwOnInvalid(){return DE}static set throwOnInvalid(e){DE=e}static resetCaches(){Or.resetCache(),Qo.resetCache(),Yt.resetCache(),JP()}}class js{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const U3=[0,31,59,90,120,151,181,212,243,273,304,334],V3=[0,31,60,91,121,152,182,213,244,274,305,335];function ds(t,e){return new js("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Nw(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function H3(t,e,r){return r+(Lf(t)?V3:U3)[e-1]}function Q3(t,e){const r=Lf(t)?V3:U3,n=r.findIndex(a=>a<e),s=e-r[n];return{month:n+1,day:s}}function kw(t,e){return(t-e+7)%7+1}function _m(t,e=4,r=1){const{year:n,month:s,day:a}=t,l=H3(n,s,a),u=kw(Nw(n,s,a),r);let d=Math.floor((l-u+14-e)/7),p;return d<1?(p=n-1,d=sf(p,e,r)):d>sf(n,e,r)?(p=n+1,d=1):p=n,{weekYear:p,weekNumber:d,weekday:u,...hy(t)}}function BE(t,e=4,r=1){const{weekYear:n,weekNumber:s,weekday:a}=t,l=kw(Nw(n,1,e),r),u=Xu(n);let d=s*7+a-l-7+e,p;d<1?(p=n-1,d+=Xu(p)):d>u?(p=n+1,d-=Xu(n)):p=n;const{month:g,day:w}=Q3(p,d);return{year:p,month:g,day:w,...hy(t)}}function Yv(t){const{year:e,month:r,day:n}=t,s=H3(e,r,n);return{year:e,ordinal:s,...hy(t)}}function $E(t){const{year:e,ordinal:r}=t,{month:n,day:s}=Q3(e,r);return{year:e,month:n,day:s,...hy(t)}}function WE(t,e){if(!Xt(t.localWeekday)||!Xt(t.localWeekNumber)||!Xt(t.localWeekYear)){if(!Xt(t.weekday)||!Xt(t.weekNumber)||!Xt(t.weekYear))throw new zu("Cannot mix locale-based week fields with ISO-based week fields");return Xt(t.localWeekday)||(t.weekday=t.localWeekday),Xt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Xt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ZP(t,e=4,r=1){const n=cy(t.weekYear),s=fs(t.weekNumber,1,sf(t.weekYear,e,r)),a=fs(t.weekday,1,7);return n?s?a?!1:ds("weekday",t.weekday):ds("week",t.weekNumber):ds("weekYear",t.weekYear)}function YP(t){const e=cy(t.year),r=fs(t.ordinal,1,Xu(t.year));return e?r?!1:ds("ordinal",t.ordinal):ds("year",t.year)}function K3(t){const e=cy(t.year),r=fs(t.month,1,12),n=fs(t.day,1,bm(t.year,t.month));return e?r?n?!1:ds("day",t.day):ds("month",t.month):ds("year",t.year)}function G3(t){const{hour:e,minute:r,second:n,millisecond:s}=t,a=fs(e,0,23)||e===24&&r===0&&n===0&&s===0,l=fs(r,0,59),u=fs(n,0,59),d=fs(s,0,999);return a?l?u?d?!1:ds("millisecond",s):ds("second",n):ds("minute",r):ds("hour",e)}function Xt(t){return typeof t>"u"}function Fa(t){return typeof t=="number"}function cy(t){return typeof t=="number"&&t%1===0}function XP(t){return typeof t=="string"}function eF(t){return Object.prototype.toString.call(t)==="[object Date]"}function J3(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Z3(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function tF(t){return Array.isArray(t)?t:[t]}function zE(t,e,r){if(t.length!==0)return t.reduce((n,s)=>{const a=[e(s),s];return n&&r(n[0],a[0])===n[0]?n:a},null)[1]}function rF(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function mc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tb(t){if(t==null)return null;if(typeof t!="object")throw new Vn("Week settings must be an object");if(!fs(t.firstDay,1,7)||!fs(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!fs(e,1,7)))throw new Vn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function fs(t,e,r){return cy(t)&&t>=e&&t<=r}function nF(t,e){return t-e*Math.floor(t/e)}function gn(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Na(t){if(!(Xt(t)||t===null||t===""))return parseInt(t,10)}function Ol(t){if(!(Xt(t)||t===null||t===""))return parseFloat(t)}function Ow(t){if(!(Xt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Iw(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Lf(t){return t%4===0&&(t%100!==0||t%400===0)}function Xu(t){return Lf(t)?366:365}function bm(t,e){const r=nF(e-1,12)+1,n=t+(e-r)/12;return r===2?Lf(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function dy(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function UE(t,e,r){return-kw(Nw(t,1,e),r)+e-1}function sf(t,e=4,r=1){const n=UE(t,e,r),s=UE(t+1,e,r);return(Xu(t)-n+s)/7}function Cb(t){return t>99?t:t>cn.twoDigitCutoffYear?1900+t:2e3+t}function Y3(t,e,r,n=null){const s=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);const l={timeZoneName:e,...a},u=new Intl.DateTimeFormat(r,l).formatToParts(s).find(d=>d.type.toLowerCase()==="timezonename");return u?u.value:null}function fy(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function X3(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Vn(`Invalid unit value ${t}`);return e}function wm(t,e){const r={};for(const n in t)if(mc(t,n)){const s=t[n];if(s==null)continue;r[e(n)]=X3(s)}return r}function zd(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${gn(r,2)}:${gn(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${gn(r,2)}${gn(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function hy(t){return rF(t,["hour","minute","second","millisecond"])}const iF=["January","February","March","April","May","June","July","August","September","October","November","December"],eO=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sF=["J","F","M","A","M","J","J","A","S","O","N","D"];function tO(t){switch(t){case"narrow":return[...sF];case"short":return[...eO];case"long":return[...iF];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const rO=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],nO=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],oF=["M","T","W","T","F","S","S"];function iO(t){switch(t){case"narrow":return[...oF];case"short":return[...nO];case"long":return[...rO];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const sO=["AM","PM"],aF=["Before Christ","Anno Domini"],lF=["BC","AD"],uF=["B","A"];function oO(t){switch(t){case"narrow":return[...uF];case"short":return[...lF];case"long":return[...aF];default:return null}}function cF(t){return sO[t.hour<12?0:1]}function dF(t,e){return iO(e)[t.weekday-1]}function fF(t,e){return tO(e)[t.month-1]}function hF(t,e){return oO(e)[t.year<0?0:1]}function pF(t,e,r="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&a){const w=t==="days";switch(e){case 1:return w?"tomorrow":`next ${s[t][0]}`;case-1:return w?"yesterday":`last ${s[t][0]}`;case 0:return w?"today":`this ${s[t][0]}`}}const l=Object.is(e,-0)||e<0,u=Math.abs(e),d=u===1,p=s[t],g=n?d?p[1]:p[2]||p[1]:d?s[t][0]:t;return l?`${u} ${g} ago`:`in ${u} ${g}`}function VE(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const mF={D:vm,DD:N3,DDD:k3,DDDD:O3,t:I3,tt:T3,ttt:C3,tttt:q3,T:R3,TT:A3,TTT:P3,TTTT:F3,f:L3,ff:D3,fff:B3,ffff:W3,F:j3,FF:M3,FFF:$3,FFFF:z3};class Qn{static create(e,r={}){return new Qn(e,r)}static parseFormat(e){let r=null,n="",s=!1;const a=[];for(let l=0;l<e.length;l++){const u=e.charAt(l);u==="'"?(n.length>0&&a.push({literal:s||/^\s+$/.test(n),val:n}),r=null,n="",s=!s):s||u===r?n+=u:(n.length>0&&a.push({literal:/^\s+$/.test(n),val:n}),n=u,r=u)}return n.length>0&&a.push({literal:s||/^\s+$/.test(n),val:n}),a}static macroTokenToFormatOpts(e){return mF[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return gn(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(k,I)=>this.loc.extract(e,k,I),l=k=>e.isOffsetFixed&&e.offset===0&&k.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,k.format):"",u=()=>n?cF(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(k,I)=>n?fF(e,k):a(I?{month:k}:{month:k,day:"numeric"},"month"),p=(k,I)=>n?dF(e,k):a(I?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),g=k=>{const I=Qn.macroTokenToFormatOpts(k);return I?this.formatWithSystemDefault(e,I):k},w=k=>n?hF(e,k):a({era:k},"era"),N=k=>{switch(k){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return u();case"d":return s?a({day:"numeric"},"day"):this.num(e.day);case"dd":return s?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return p("short",!0);case"cccc":return p("long",!0);case"ccccc":return p("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return p("short",!1);case"EEEE":return p("long",!1);case"EEEEE":return p("narrow",!1);case"L":return s?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return s?a({month:"numeric"},"month"):this.num(e.month);case"MM":return s?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return s?a({year:"numeric"},"year"):this.num(e.year);case"yy":return s?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return w("short");case"GG":return w("long");case"GGGGG":return w("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return g(k)}};return VE(Qn.parseFormat(r),N)}formatDurationFromString(e,r){const n=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=d=>p=>{const g=n(p);return g?this.num(d.get(g),p.length):p},a=Qn.parseFormat(r),l=a.reduce((d,{literal:p,val:g})=>p?d:d.concat(g),[]),u=e.shiftTo(...l.map(n).filter(d=>d));return VE(a,s(u))}}const aO=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function kc(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Oc(...t){return e=>t.reduce(([r,n,s],a)=>{const[l,u,d]=a(e,s);return[{...r,...l},u||n,d]},[{},null,1]).slice(0,2)}function Ic(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const s=r.exec(t);if(s)return n(s)}return[null,null]}function lO(...t){return(e,r)=>{const n={};let s;for(s=0;s<t.length;s++)n[t[s]]=Na(e[r+s]);return[n,null,r+s]}}const uO=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,yF=`(?:${uO.source}?(?:\\[(${aO.source})\\])?)?`,Tw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,cO=RegExp(`${Tw.source}${yF}`),Cw=RegExp(`(?:T${cO.source})?`),gF=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vF=/(\d{4})-?W(\d\d)(?:-?(\d))?/,_F=/(\d{4})-?(\d{3})/,bF=lO("weekYear","weekNumber","weekDay"),wF=lO("year","ordinal"),xF=/(\d{4})-(\d\d)-(\d\d)/,dO=RegExp(`${Tw.source} ?(?:${uO.source}|(${aO.source}))?`),SF=RegExp(`(?: ${dO.source})?`);function ec(t,e,r){const n=t[e];return Xt(n)?r:Na(n)}function EF(t,e){return[{year:ec(t,e),month:ec(t,e+1,1),day:ec(t,e+2,1)},null,e+3]}function Tc(t,e){return[{hours:ec(t,e,0),minutes:ec(t,e+1,0),seconds:ec(t,e+2,0),milliseconds:Ow(t[e+3])},null,e+4]}function jf(t,e){const r=!t[e]&&!t[e+1],n=fy(t[e+1],t[e+2]),s=r?null:si.instance(n);return[{},s,e+3]}function Df(t,e){const r=t[e]?Qo.create(t[e]):null;return[{},r,e+1]}const NF=RegExp(`^T?${Tw.source}$`),kF=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function OF(t){const[e,r,n,s,a,l,u,d,p]=t,g=e[0]==="-",w=d&&d[0]==="-",N=(k,I=!1)=>k!==void 0&&(I||k&&g)?-k:k;return[{years:N(Ol(r)),months:N(Ol(n)),weeks:N(Ol(s)),days:N(Ol(a)),hours:N(Ol(l)),minutes:N(Ol(u)),seconds:N(Ol(d),d==="-0"),milliseconds:N(Ow(p),w)}]}const IF={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qw(t,e,r,n,s,a,l){const u={year:e.length===2?Cb(Na(e)):Na(e),month:eO.indexOf(r)+1,day:Na(n),hour:Na(s),minute:Na(a)};return l&&(u.second=Na(l)),t&&(u.weekday=t.length>3?rO.indexOf(t)+1:nO.indexOf(t)+1),u}const TF=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function CF(t){const[,e,r,n,s,a,l,u,d,p,g,w]=t,N=qw(e,s,n,r,a,l,u);let k;return d?k=IF[d]:p?k=0:k=fy(g,w),[N,new si(k)]}function qF(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const RF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,AF=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,PF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function HE(t){const[,e,r,n,s,a,l,u]=t;return[qw(e,s,n,r,a,l,u),si.utcInstance]}function FF(t){const[,e,r,n,s,a,l,u]=t;return[qw(e,u,r,n,s,a,l),si.utcInstance]}const LF=kc(gF,Cw),jF=kc(vF,Cw),DF=kc(_F,Cw),MF=kc(cO),fO=Oc(EF,Tc,jf,Df),BF=Oc(bF,Tc,jf,Df),$F=Oc(wF,Tc,jf,Df),WF=Oc(Tc,jf,Df);function zF(t){return Ic(t,[LF,fO],[jF,BF],[DF,$F],[MF,WF])}function UF(t){return Ic(qF(t),[TF,CF])}function VF(t){return Ic(t,[RF,HE],[AF,HE],[PF,FF])}function HF(t){return Ic(t,[kF,OF])}const QF=Oc(Tc);function KF(t){return Ic(t,[NF,QF])}const GF=kc(xF,SF),JF=kc(dO),ZF=Oc(Tc,jf,Df);function YF(t){return Ic(t,[GF,fO],[JF,ZF])}const QE="Invalid Duration",hO={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},XF={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...hO},ss=146097/400,Cu=146097/4800,eL={years:{quarters:4,months:12,weeks:ss/7,days:ss,hours:ss*24,minutes:ss*24*60,seconds:ss*24*60*60,milliseconds:ss*24*60*60*1e3},quarters:{months:3,weeks:ss/28,days:ss/4,hours:ss*24/4,minutes:ss*24*60/4,seconds:ss*24*60*60/4,milliseconds:ss*24*60*60*1e3/4},months:{weeks:Cu/7,days:Cu,hours:Cu*24,minutes:Cu*24*60,seconds:Cu*24*60*60,milliseconds:Cu*24*60*60*1e3},...hO},jl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],tL=jl.slice(0).reverse();function ba(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new vr(n)}function pO(t,e){let r=e.milliseconds??0;for(const n of tL.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function KE(t,e){const r=pO(t,e)<0?-1:1;jl.reduceRight((n,s)=>{if(Xt(e[s]))return n;if(n){const a=e[n]*r,l=t[s][n],u=Math.floor(a/l);e[s]+=u*r,e[n]-=u*l*r}return s},null),jl.reduce((n,s)=>{if(Xt(e[s]))return n;if(n){const a=e[n]%1;e[n]-=a,e[s]+=a*t[n][s]}return s},null)}function rL(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class vr{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?eL:XF;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Or.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return vr.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Vn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new vr({values:wm(e,vr.normalizeUnit),loc:Or.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Fa(e))return vr.fromMillis(e);if(vr.isDuration(e))return e;if(typeof e=="object")return vr.fromObject(e);throw new Vn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=HF(e);return n?vr.fromObject(n,r):vr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=KF(e);return n?vr.fromObject(n,r):vr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Vn("need to specify a reason the Duration is invalid");const n=e instanceof js?e:new js(e,r);if(cn.throwOnInvalid)throw new kP(n);return new vr({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new E3(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Qn.create(this.loc,n).formatDurationFromString(this,e):QE}toHuman(e={}){if(!this.isValid)return QE;const r=jl.map(n=>{const s=this.values[n];return Xt(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Iw(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Yt.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?pO(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=vr.fromDurationLike(e),n={};for(const s of jl)(mc(r.values,s)||mc(this.values,s))&&(n[s]=r.get(s)+this.get(s));return ba(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=vr.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=X3(e(this.values[n],n));return ba(this,{values:r},!0)}get(e){return this[vr.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...wm(e,vr.normalizeUnit)};return ba(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:n};return ba(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return KE(this.matrix,e),ba(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=rL(this.normalize().shiftToAll().toObject());return ba(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>vr.normalizeUnit(l));const r={},n={},s=this.toObject();let a;for(const l of jl)if(e.indexOf(l)>=0){a=l;let u=0;for(const p in n)u+=this.matrix[p][l]*n[p],n[p]=0;Fa(s[l])&&(u+=s[l]);const d=Math.trunc(u);r[l]=d,n[l]=(u*1e3-d*1e3)/1e3}else Fa(s[l])&&(n[l]=s[l]);for(const l in n)n[l]!==0&&(r[a]+=l===a?n[l]:n[l]/this.matrix[a][l]);return KE(this.matrix,r),ba(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ba(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of jl)if(!r(this.values[n],e.values[n]))return!1;return!0}}const qu="Invalid Interval";function nL(t,e){return!t||!t.isValid?un.invalid("missing or invalid start"):!e||!e.isValid?un.invalid("missing or invalid end"):e<t?un.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class un{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Vn("need to specify a reason the Interval is invalid");const n=e instanceof js?e:new js(e,r);if(cn.throwOnInvalid)throw new NP(n);return new un({invalid:n})}static fromDateTimes(e,r){const n=Ed(e),s=Ed(r),a=nL(n,s);return a??new un({start:n,end:s})}static after(e,r){const n=vr.fromDurationLike(r),s=Ed(e);return un.fromDateTimes(s,s.plus(n))}static before(e,r){const n=vr.fromDurationLike(r),s=Ed(e);return un.fromDateTimes(s.minus(n),s)}static fromISO(e,r){const[n,s]=(e||"").split("/",2);if(n&&s){let a,l;try{a=Yt.fromISO(n,r),l=a.isValid}catch{l=!1}let u,d;try{u=Yt.fromISO(s,r),d=u.isValid}catch{d=!1}if(l&&d)return un.fromDateTimes(a,u);if(l){const p=vr.fromISO(s,r);if(p.isValid)return un.after(a,p)}else if(d){const p=vr.fromISO(n,r);if(p.isValid)return un.before(u,p)}}return un.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,r),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?un.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Ed).filter(l=>this.contains(l)).sort((l,u)=>l.toMillis()-u.toMillis()),n=[];let{s}=this,a=0;for(;s<this.e;){const l=r[a]||this.e,u=+l>+this.e?this.e:l;n.push(un.fromDateTimes(s,u)),s=u,a+=1}return n}splitBy(e){const r=vr.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,a;const l=[];for(;n<this.e;){const u=this.start.plus(r.mapUnits(d=>d*s));a=+u>+this.e?this.e:u,l.push(un.fromDateTimes(n,a)),n=a,s+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:un.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return un.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((s,a)=>s.s-a.s).reduce(([s,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[s,a.union(l)]:[s.concat([a]),l]:[s,l],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const s=[],a=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...a),u=l.sort((d,p)=>d.time-p.time);for(const d of u)n+=d.type==="s"?1:-1,n===1?r=d.time:(r&&+r!=+d.time&&s.push(un.fromDateTimes(r,d.time)),r=null);return un.merge(s)}difference(...e){return un.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:qu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=vm,r={}){return this.isValid?Qn.create(this.s.loc.clone(r),e).formatInterval(this):qu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:qu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:qu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:qu}toFormat(e,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:qu}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):vr.invalid(this.invalidReason)}mapEndpoints(e){return un.fromDateTimes(e(this.s),e(this.e))}}class bp{static hasDST(e=cn.defaultZone){const r=Yt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Qo.isValidZone(e)}static normalizeZone(e){return Ia(e,cn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Or.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Or.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Or.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:a="gregory"}={}){return(s||Or.create(r,n,a)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:a="gregory"}={}){return(s||Or.create(r,n,a)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||Or.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||Or.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Or.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Or.create(r,null,"gregory").eras(e)}static features(){return{relative:J3(),localeWeek:Z3()}}}function GE(t,e){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(vr.fromMillis(n).as("days"))}function iL(t,e,r){const n=[["years",(d,p)=>p.year-d.year],["quarters",(d,p)=>p.quarter-d.quarter+(p.year-d.year)*4],["months",(d,p)=>p.month-d.month+(p.year-d.year)*12],["weeks",(d,p)=>{const g=GE(d,p);return(g-g%7)/7}],["days",GE]],s={},a=t;let l,u;for(const[d,p]of n)r.indexOf(d)>=0&&(l=d,s[d]=p(t,e),u=a.plus(s),u>e?(s[d]--,t=a.plus(s),t>e&&(u=t,s[d]--,t=a.plus(s))):t=u);return[t,s,u,l]}function sL(t,e,r,n){let[s,a,l,u]=iL(t,e,r);const d=e-s,p=r.filter(w=>["hours","minutes","seconds","milliseconds"].indexOf(w)>=0);p.length===0&&(l<e&&(l=s.plus({[u]:1})),l!==s&&(a[u]=(a[u]||0)+d/(l-s)));const g=vr.fromObject(a,n);return p.length>0?vr.fromMillis(d,n).shiftTo(...p).plus(g):g}const oL="missing Intl.DateTimeFormat.formatToParts support";function Er(t,e=r=>r){return{regex:t,deser:([r])=>e(GP(r))}}const aL="\xa0",mO=`[ ${aL}]`,yO=new RegExp(mO,"g");function lL(t){return t.replace(/\./g,"\\.?").replace(yO,mO)}function JE(t){return t.replace(/\./g,"").replace(yO," ").toLowerCase()}function Cs(t,e){return t===null?null:{regex:RegExp(t.map(lL).join("|")),deser:([r])=>t.findIndex(n=>JE(r)===JE(n))+e}}function ZE(t,e){return{regex:t,deser:([,r,n])=>fy(r,n),groups:e}}function wp(t){return{regex:t,deser:([e])=>e}}function uL(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function cL(t,e){const r=Ts(e),n=Ts(e,"{2}"),s=Ts(e,"{3}"),a=Ts(e,"{4}"),l=Ts(e,"{6}"),u=Ts(e,"{1,2}"),d=Ts(e,"{1,3}"),p=Ts(e,"{1,6}"),g=Ts(e,"{1,9}"),w=Ts(e,"{2,4}"),N=Ts(e,"{4,6}"),k=A=>({regex:RegExp(uL(A.val)),deser:([D])=>D,literal:!0}),T=(A=>{if(t.literal)return k(A);switch(A.val){case"G":return Cs(e.eras("short"),0);case"GG":return Cs(e.eras("long"),0);case"y":return Er(p);case"yy":return Er(w,Cb);case"yyyy":return Er(a);case"yyyyy":return Er(N);case"yyyyyy":return Er(l);case"M":return Er(u);case"MM":return Er(n);case"MMM":return Cs(e.months("short",!0),1);case"MMMM":return Cs(e.months("long",!0),1);case"L":return Er(u);case"LL":return Er(n);case"LLL":return Cs(e.months("short",!1),1);case"LLLL":return Cs(e.months("long",!1),1);case"d":return Er(u);case"dd":return Er(n);case"o":return Er(d);case"ooo":return Er(s);case"HH":return Er(n);case"H":return Er(u);case"hh":return Er(n);case"h":return Er(u);case"mm":return Er(n);case"m":return Er(u);case"q":return Er(u);case"qq":return Er(n);case"s":return Er(u);case"ss":return Er(n);case"S":return Er(d);case"SSS":return Er(s);case"u":return wp(g);case"uu":return wp(u);case"uuu":return Er(r);case"a":return Cs(e.meridiems(),0);case"kkkk":return Er(a);case"kk":return Er(w,Cb);case"W":return Er(u);case"WW":return Er(n);case"E":case"c":return Er(r);case"EEE":return Cs(e.weekdays("short",!1),1);case"EEEE":return Cs(e.weekdays("long",!1),1);case"ccc":return Cs(e.weekdays("short",!0),1);case"cccc":return Cs(e.weekdays("long",!0),1);case"Z":case"ZZ":return ZE(new RegExp(`([+-]${u.source})(?::(${n.source}))?`),2);case"ZZZ":return ZE(new RegExp(`([+-]${u.source})(${n.source})?`),2);case"z":return wp(/[a-z_+-/]{1,256}?/i);case" ":return wp(/[^\S\n\r]/);default:return k(A)}})(t)||{invalidReason:oL};return T.token=t,T}const dL={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function fL(t,e,r){const{type:n,value:s}=t;if(n==="literal"){const d=/^\s+$/.test(s);return{literal:!d,val:d?" ":s}}const a=e[n];let l=n;n==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=r.hour12?"hour12":"hour24");let u=dL[l];if(typeof u=="object"&&(u=u[a]),u)return{literal:!1,val:u}}function hL(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function pL(t,e,r){const n=t.match(e);if(n){const s={};let a=1;for(const l in r)if(mc(r,l)){const u=r[l],d=u.groups?u.groups+1:1;!u.literal&&u.token&&(s[u.token.val[0]]=u.deser(n.slice(a,a+d))),a+=d}return[n,s]}else return[n,{}]}function mL(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Xt(t.z)||(r=Qo.create(t.z)),Xt(t.Z)||(r||(r=new si(t.Z)),n=t.Z),Xt(t.q)||(t.M=(t.q-1)*3+1),Xt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Xt(t.u)||(t.S=Ow(t.u)),[Object.keys(t).reduce((a,l)=>{const u=e(l);return u&&(a[u]=t[l]),a},{}),r,n]}let Xv=null;function yL(){return Xv||(Xv=Yt.fromMillis(0x16a2e5618e3)),Xv}function gL(t,e){if(t.literal)return t;const r=Qn.macroTokenToFormatOpts(t.val),n=bO(r,e);return n==null||n.includes(void 0)?t:n}function gO(t,e){return Array.prototype.concat(...t.map(r=>gL(r,e)))}class vO{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=gO(Qn.parseFormat(r),e),this.units=this.tokens.map(n=>cL(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=hL(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[r,n]=pL(e,this.regex,this.handlers),[s,a,l]=n?mL(n):[null,null,void 0];if(mc(n,"a")&&mc(n,"H"))throw new zu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:s,zone:a,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function _O(t,e,r){return new vO(t,r).explainFromTokens(e)}function vL(t,e,r){const{result:n,zone:s,specificOffset:a,invalidReason:l}=_O(t,e,r);return[n,s,a,l]}function bO(t,e){if(!t)return null;const n=Qn.create(e,t).dtFormatter(yL()),s=n.formatToParts(),a=n.resolvedOptions();return s.map(l=>fL(l,t,a))}const e_="Invalid DateTime",YE=864e13;function Pd(t){return new js("unsupported zone",`the zone "${t.name}" is not supported`)}function t_(t){return t.weekData===null&&(t.weekData=_m(t.c)),t.weekData}function r_(t){return t.localWeekData===null&&(t.localWeekData=_m(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Il(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Yt({...r,...e,old:r})}function wO(t,e,r){let n=t-e*60*1e3;const s=r.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const a=r.offset(n);return s===a?[n,s]:[t-Math.min(s,a)*60*1e3,Math.max(s,a)]}function xp(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function $p(t,e,r){return wO(dy(t),e,r)}function XE(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:n,month:s,day:Math.min(t.c.day,bm(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=vr.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),u=dy(a);let[d,p]=wO(u,r,t.zone);return l!==0&&(d+=l,p=t.zone.offset(d)),{ts:d,o:p}}function Ru(t,e,r,n,s,a){const{setZone:l,zone:u}=r;if(t&&Object.keys(t).length!==0||e){const d=e||u,p=Yt.fromObject(t,{...r,zone:d,specificOffset:a});return l?p:p.setZone(u)}else return Yt.invalid(new js("unparsable",`the input "${s}" can't be parsed as ${n}`))}function Sp(t,e,r=!0){return t.isValid?Qn.create(Or.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function n_(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=gn(t.c.year,r?6:4),e?(n+="-",n+=gn(t.c.month),n+="-",n+=gn(t.c.day)):(n+=gn(t.c.month),n+=gn(t.c.day)),n}function eN(t,e,r,n,s,a){let l=gn(t.c.hour);return e?(l+=":",l+=gn(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(l+=":")):l+=gn(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(l+=gn(t.c.second),(t.c.millisecond!==0||!n)&&(l+=".",l+=gn(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!a?l+="Z":t.o<0?(l+="-",l+=gn(Math.trunc(-t.o/60)),l+=":",l+=gn(Math.trunc(-t.o%60))):(l+="+",l+=gn(Math.trunc(t.o/60)),l+=":",l+=gn(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}const xO={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},_L={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},bL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},SO=["year","month","day","hour","minute","second","millisecond"],wL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],xL=["year","ordinal","hour","minute","second","millisecond"];function SL(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new E3(t);return e}function tN(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return SL(t)}}function EL(t){return zp[t]||(Wp===void 0&&(Wp=cn.now()),zp[t]=t.offset(Wp)),zp[t]}function rN(t,e){const r=Ia(e.zone,cn.defaultZone);if(!r.isValid)return Yt.invalid(Pd(r));const n=Or.fromObject(e);let s,a;if(Xt(t.year))s=cn.now();else{for(const d of SO)Xt(t[d])&&(t[d]=xO[d]);const l=K3(t)||G3(t);if(l)return Yt.invalid(l);const u=EL(r);[s,a]=$p(t,u,r)}return new Yt({ts:s,zone:r,loc:n,o:a})}function nN(t,e,r){const n=Xt(r.round)?!0:r.round,s=(l,u)=>(l=Iw(l,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(l,u)),a=l=>r.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(r.unit)return s(a(r.unit),r.unit);for(const l of r.units){const u=a(l);if(Math.abs(u)>=1)return s(u,l)}return s(t>e?-0:0,r.units[r.units.length-1])}function iN(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let Wp,zp={};class Yt{constructor(e){const r=e.zone||cn.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new js("invalid input"):null)||(r.isValid?null:Pd(r));this.ts=Xt(e.ts)?cn.now():e.ts;let s=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,a]=[e.old.c,e.old.o];else{const u=Fa(e.o)&&!e.old?e.o:r.offset(this.ts);s=xp(this.ts,u),n=Number.isNaN(s.year)?new js("invalid input"):null,s=n?null:s,a=n?null:u}this._zone=r,this.loc=e.loc||Or.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=a,this.isLuxonDateTime=!0}static now(){return new Yt({})}static local(){const[e,r]=iN(arguments),[n,s,a,l,u,d,p]=r;return rN({year:n,month:s,day:a,hour:l,minute:u,second:d,millisecond:p},e)}static utc(){const[e,r]=iN(arguments),[n,s,a,l,u,d,p]=r;return e.zone=si.utcInstance,rN({year:n,month:s,day:a,hour:l,minute:u,second:d,millisecond:p},e)}static fromJSDate(e,r={}){const n=eF(e)?e.valueOf():NaN;if(Number.isNaN(n))return Yt.invalid("invalid input");const s=Ia(r.zone,cn.defaultZone);return s.isValid?new Yt({ts:n,zone:s,loc:Or.fromObject(r)}):Yt.invalid(Pd(s))}static fromMillis(e,r={}){if(Fa(e))return e<-YE||e>YE?Yt.invalid("Timestamp out of range"):new Yt({ts:e,zone:Ia(r.zone,cn.defaultZone),loc:Or.fromObject(r)});throw new Vn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Fa(e))return new Yt({ts:e*1e3,zone:Ia(r.zone,cn.defaultZone),loc:Or.fromObject(r)});throw new Vn("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=Ia(r.zone,cn.defaultZone);if(!n.isValid)return Yt.invalid(Pd(n));const s=Or.fromObject(r),a=wm(e,tN),{minDaysInFirstWeek:l,startOfWeek:u}=WE(a,s),d=cn.now(),p=Xt(r.specificOffset)?n.offset(d):r.specificOffset,g=!Xt(a.ordinal),w=!Xt(a.year),N=!Xt(a.month)||!Xt(a.day),k=w||N,I=a.weekYear||a.weekNumber;if((k||g)&&I)throw new zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(N&&g)throw new zu("Can't mix ordinal dates with month/day");const T=I||a.weekday&&!k;let A,D,L=xp(d,p);T?(A=wL,D=_L,L=_m(L,l,u)):g?(A=xL,D=bL,L=Yv(L)):(A=SO,D=xO);let $=!1;for(const re of A){const M=a[re];Xt(M)?$?a[re]=D[re]:a[re]=L[re]:$=!0}const V=T?ZP(a,l,u):g?YP(a):K3(a),K=V||G3(a);if(K)return Yt.invalid(K);const B=T?BE(a,l,u):g?$E(a):a,[J,ne]=$p(B,p,n),U=new Yt({ts:J,zone:n,o:ne,loc:s});return a.weekday&&k&&e.weekday!==U.weekday?Yt.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${U.toISO()}`):U.isValid?U:Yt.invalid(U.invalid)}static fromISO(e,r={}){const[n,s]=zF(e);return Ru(n,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,s]=UF(e);return Ru(n,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,s]=VF(e);return Ru(n,s,r,"HTTP",r)}static fromFormat(e,r,n={}){if(Xt(e)||Xt(r))throw new Vn("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:a=null}=n,l=Or.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0}),[u,d,p,g]=vL(l,e,r);return g?Yt.invalid(g):Ru(u,d,n,`format ${r}`,e,p)}static fromString(e,r,n={}){return Yt.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,s]=YF(e);return Ru(n,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Vn("need to specify a reason the DateTime is invalid");const n=e instanceof js?e:new js(e,r);if(cn.throwOnInvalid)throw new EP(n);return new Yt({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=bO(e,Or.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return gO(Qn.parseFormat(e),Or.fromObject(r)).map(s=>s.val).join("")}static resetCache(){Wp=void 0,zp={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?t_(this).weekYear:NaN}get weekNumber(){return this.isValid?t_(this).weekNumber:NaN}get weekday(){return this.isValid?t_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?r_(this).weekday:NaN}get localWeekNumber(){return this.isValid?r_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?r_(this).weekYear:NaN}get ordinal(){return this.isValid?Yv(this.c).ordinal:NaN}get monthShort(){return this.isValid?bp.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?bp.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?bp.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?bp.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=dy(this.c),s=this.zone.offset(n-e),a=this.zone.offset(n+e),l=this.zone.offset(n-s*r),u=this.zone.offset(n-a*r);if(l===u)return[this];const d=n-l*r,p=n-u*r,g=xp(d,l),w=xp(p,u);return g.hour===w.hour&&g.minute===w.minute&&g.second===w.second&&g.millisecond===w.millisecond?[Il(this,{ts:d}),Il(this,{ts:p})]:[this]}get isInLeapYear(){return Lf(this.year)}get daysInMonth(){return bm(this.year,this.month)}get daysInYear(){return this.isValid?Xu(this.year):NaN}get weeksInWeekYear(){return this.isValid?sf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?sf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:s}=Qn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(si.instance(e),r)}toLocal(){return this.setZone(cn.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Ia(e,cn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||n){const a=e.offset(this.ts),l=this.toObject();[s]=$p(l,a,e)}return Il(this,{ts:s,zone:e})}else return Yt.invalid(Pd(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Il(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=wm(e,tN),{minDaysInFirstWeek:n,startOfWeek:s}=WE(r,this.loc),a=!Xt(r.weekYear)||!Xt(r.weekNumber)||!Xt(r.weekday),l=!Xt(r.ordinal),u=!Xt(r.year),d=!Xt(r.month)||!Xt(r.day),p=u||d,g=r.weekYear||r.weekNumber;if((p||l)&&g)throw new zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new zu("Can't mix ordinal dates with month/day");let w;a?w=BE({..._m(this.c,n,s),...r},n,s):Xt(r.ordinal)?(w={...this.toObject(),...r},Xt(r.day)&&(w.day=Math.min(bm(w.year,w.month),w.day))):w=$E({...Yv(this.c),...r});const[N,k]=$p(w,this.o,this.zone);return Il(this,{ts:N,o:k})}plus(e){if(!this.isValid)return this;const r=vr.fromDurationLike(e);return Il(this,XE(this,r))}minus(e){if(!this.isValid)return this;const r=vr.fromDurationLike(e).negate();return Il(this,XE(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},s=vr.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(r){const a=this.loc.getStartOfWeek(),{weekday:l}=this;l<a&&(n.weekNumber=this.weekNumber-1),n.weekday=a}else n.weekday=1;if(s==="quarters"){const a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Qn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):e_}toLocaleString(e=vm,r={}){return this.isValid?Qn.create(this.loc.clone(r),e).formatDateTime(this):e_}toLocaleParts(e={}){return this.isValid?Qn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l=e==="extended";let u=n_(this,l);return u+="T",u+=eN(this,l,r,n,s,a),u}toISODate({format:e="extended"}={}){return this.isValid?n_(this,e==="extended"):null}toISOWeekDate(){return Sp(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(s?"T":"")+eN(this,l==="extended",r,e,n,a):null}toRFC2822(){return Sp(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Sp(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?n_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(n&&(s+=" "),r?s+="z":e&&(s+="ZZ")),Sp(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():e_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return vr.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=tF(r).map(vr.normalizeUnit),l=e.valueOf()>this.valueOf(),u=l?this:e,d=l?e:this,p=sL(u,d,a,s);return l?p.negate():p}diffNow(e="milliseconds",r={}){return this.diff(Yt.now(),e,r)}until(e){return this.isValid?un.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const s=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(r,n)<=s&&s<=a.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||Yt.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(s=e.unit,a=void 0),nN(r,this.plus(n),{...e,numeric:"always",units:s,unit:a})}toRelativeCalendar(e={}){return this.isValid?nN(e.base||Yt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Yt.isDateTime))throw new Vn("min requires all arguments be DateTimes");return zE(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(Yt.isDateTime))throw new Vn("max requires all arguments be DateTimes");return zE(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:s=null,numberingSystem:a=null}=n,l=Or.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0});return _O(l,e,r)}static fromStringExplain(e,r,n={}){return Yt.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){const{locale:n=null,numberingSystem:s=null}=r,a=Or.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new vO(a,e)}static fromFormatParser(e,r,n={}){if(Xt(e)||Xt(r))throw new Vn("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:a=null}=n,l=Or.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0});if(!l.equals(r.locale))throw new Vn(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${r.locale}`);const{result:u,zone:d,specificOffset:p,invalidReason:g}=r.explainFromTokens(e);return g?Yt.invalid(g):Ru(u,d,n,`format ${r.format}`,e,p)}static get DATE_SHORT(){return vm}static get DATE_MED(){return N3}static get DATE_MED_WITH_WEEKDAY(){return OP}static get DATE_FULL(){return k3}static get DATE_HUGE(){return O3}static get TIME_SIMPLE(){return I3}static get TIME_WITH_SECONDS(){return T3}static get TIME_WITH_SHORT_OFFSET(){return C3}static get TIME_WITH_LONG_OFFSET(){return q3}static get TIME_24_SIMPLE(){return R3}static get TIME_24_WITH_SECONDS(){return A3}static get TIME_24_WITH_SHORT_OFFSET(){return P3}static get TIME_24_WITH_LONG_OFFSET(){return F3}static get DATETIME_SHORT(){return L3}static get DATETIME_SHORT_WITH_SECONDS(){return j3}static get DATETIME_MED(){return D3}static get DATETIME_MED_WITH_SECONDS(){return M3}static get DATETIME_MED_WITH_WEEKDAY(){return IP}static get DATETIME_FULL(){return B3}static get DATETIME_FULL_WITH_SECONDS(){return $3}static get DATETIME_HUGE(){return W3}static get DATETIME_HUGE_WITH_SECONDS(){return z3}}function Ed(t){if(Yt.isDateTime(t))return t;if(t&&t.valueOf&&Fa(t.valueOf()))return Yt.fromJSDate(t);if(t&&typeof t=="object")return Yt.fromObject(t);throw new Vn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function EO(t,e){return function(){return t.apply(e,arguments)}}const{toString:NL}=Object.prototype,{getPrototypeOf:Rw}=Object,py=(t=>e=>{const r=NL.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Us=t=>(t=t.toLowerCase(),e=>py(e)===t),my=t=>e=>typeof e===t,{isArray:Cc}=Array,of=my("undefined");function kL(t){return t!==null&&!of(t)&&t.constructor!==null&&!of(t.constructor)&&Hi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const NO=Us("ArrayBuffer");function OL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&NO(t.buffer),e}const IL=my("string"),Hi=my("function"),kO=my("number"),yy=t=>t!==null&&typeof t=="object",TL=t=>t===!0||t===!1,Up=t=>{if(py(t)!=="object")return!1;const e=Rw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CL=Us("Date"),qL=Us("File"),RL=Us("Blob"),AL=Us("FileList"),PL=t=>yy(t)&&Hi(t.pipe),FL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hi(t.append)&&((e=py(t))==="formdata"||e==="object"&&Hi(t.toString)&&t.toString()==="[object FormData]"))},LL=Us("URLSearchParams"),[jL,DL,ML,BL]=["ReadableStream","Request","Response","Headers"].map(Us),$L=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Cc(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let u;for(n=0;n<l;n++)u=a[n],e.call(null,t[u],u,t)}}function OO(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IO=t=>!of(t)&&t!==Dl;function qb(){const{caseless:t}=IO(this)&&this||{},e={},r=(n,s)=>{const a=t&&OO(e,s)||s;Up(e[a])&&Up(n)?e[a]=qb(e[a],n):Up(n)?e[a]=qb({},n):Cc(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Mf(arguments[n],r);return e}const WL=(t,e,r,{allOwnKeys:n}={})=>(Mf(e,(s,a)=>{r&&Hi(s)?t[a]=EO(s,r):t[a]=s},{allOwnKeys:n}),t),zL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),UL=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},VL=(t,e,r,n)=>{let s,a,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!n||n(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=r!==!1&&Rw(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},HL=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},QL=t=>{if(!t)return null;if(Cc(t))return t;let e=t.length;if(!kO(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},KL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Rw(Uint8Array)),GL=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},JL=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},ZL=Us("HTMLFormElement"),YL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),sN=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),XL=Us("RegExp"),TO=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Mf(r,(s,a)=>{let l;(l=e(s,a,t))!==!1&&(n[a]=l||s)}),Object.defineProperties(t,n)},ej=t=>{TO(t,(e,r)=>{if(Hi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Hi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},tj=(t,e)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Cc(t)?n(t):n(String(t).split(e)),r},rj=()=>{},nj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,i_="abcdefghijklmnopqrstuvwxyz",oN="0123456789",CO={DIGIT:oN,ALPHA:i_,ALPHA_DIGIT:i_+i_.toUpperCase()+oN},ij=(t=16,e=CO.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function sj(t){return!!(t&&Hi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const oj=t=>{const e=new Array(10),r=(n,s)=>{if(yy(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const a=Cc(n)?[]:{};return Mf(n,(l,u)=>{const d=r(l,s+1);!of(d)&&(a[u]=d)}),e[s]=void 0,a}}return n};return r(t,0)},aj=Us("AsyncFunction"),lj=t=>t&&(yy(t)||Hi(t))&&Hi(t.then)&&Hi(t.catch),qO=((t,e)=>t?setImmediate:e?((r,n)=>(Dl.addEventListener("message",({source:s,data:a})=>{s===Dl&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Dl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Hi(Dl.postMessage)),uj=typeof queueMicrotask<"u"?queueMicrotask.bind(Dl):typeof process<"u"&&process.nextTick||qO,We={isArray:Cc,isArrayBuffer:NO,isBuffer:kL,isFormData:FL,isArrayBufferView:OL,isString:IL,isNumber:kO,isBoolean:TL,isObject:yy,isPlainObject:Up,isReadableStream:jL,isRequest:DL,isResponse:ML,isHeaders:BL,isUndefined:of,isDate:CL,isFile:qL,isBlob:RL,isRegExp:XL,isFunction:Hi,isStream:PL,isURLSearchParams:LL,isTypedArray:KL,isFileList:AL,forEach:Mf,merge:qb,extend:WL,trim:$L,stripBOM:zL,inherits:UL,toFlatObject:VL,kindOf:py,kindOfTest:Us,endsWith:HL,toArray:QL,forEachEntry:GL,matchAll:JL,isHTMLForm:ZL,hasOwnProperty:sN,hasOwnProp:sN,reduceDescriptors:TO,freezeMethods:ej,toObjectSet:tj,toCamelCase:YL,noop:rj,toFiniteNumber:nj,findKey:OO,global:Dl,isContextDefined:IO,ALPHABET:CO,generateString:ij,isSpecCompliantForm:sj,toJSONObject:oj,isAsyncFn:aj,isThenable:lj,setImmediate:qO,asap:uj};function or(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}We.inherits(or,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.status}}});const RO=or.prototype,AO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AO[t]={value:t}});Object.defineProperties(or,AO);Object.defineProperty(RO,"isAxiosError",{value:!0});or.from=(t,e,r,n,s,a)=>{const l=Object.create(RO);return We.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),or.call(l,t.message,e,r,n,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const cj=null;function Rb(t){return We.isPlainObject(t)||We.isArray(t)}function PO(t){return We.endsWith(t,"[]")?t.slice(0,-2):t}function aN(t,e,r){return t?t.concat(e).map(function(s,a){return s=PO(s),!r&&a?"["+s+"]":s}).join(r?".":""):e}function dj(t){return We.isArray(t)&&!t.some(Rb)}const fj=We.toFlatObject(We,{},null,function(e){return/^is[A-Z]/.test(e)});function gy(t,e,r){if(!We.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=We.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,A){return!We.isUndefined(A[T])});const n=r.metaTokens,s=r.visitor||g,a=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(e);if(!We.isFunction(s))throw new TypeError("visitor must be a function");function p(I){if(I===null)return"";if(We.isDate(I))return I.toISOString();if(!d&&We.isBlob(I))throw new or("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(I)||We.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function g(I,T,A){let D=I;if(I&&!A&&typeof I=="object"){if(We.endsWith(T,"{}"))T=n?T:T.slice(0,-2),I=JSON.stringify(I);else if(We.isArray(I)&&dj(I)||(We.isFileList(I)||We.endsWith(T,"[]"))&&(D=We.toArray(I)))return T=PO(T),D.forEach(function($,V){!(We.isUndefined($)||$===null)&&e.append(l===!0?aN([T],V,a):l===null?T:T+"[]",p($))}),!1}return Rb(I)?!0:(e.append(aN(A,T,a),p(I)),!1)}const w=[],N=Object.assign(fj,{defaultVisitor:g,convertValue:p,isVisitable:Rb});function k(I,T){if(!We.isUndefined(I)){if(w.indexOf(I)!==-1)throw Error("Circular reference detected in "+T.join("."));w.push(I),We.forEach(I,function(D,L){(!(We.isUndefined(D)||D===null)&&s.call(e,D,We.isString(L)?L.trim():L,T,N))===!0&&k(D,T?T.concat(L):[L])}),w.pop()}}if(!We.isObject(t))throw new TypeError("data must be an object");return k(t),e}function lN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Aw(t,e){this._pairs=[],t&&gy(t,this,e)}const FO=Aw.prototype;FO.append=function(e,r){this._pairs.push([e,r])};FO.toString=function(e){const r=e?function(n){return e.call(this,n,lN)}:lN;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function hj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LO(t,e,r){if(!e)return t;const n=r&&r.encode||hj;We.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(e,r):a=We.isURLSearchParams(e)?e.toString():new Aw(e,r).toString(n),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class uN{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){We.forEach(this.handlers,function(n){n!==null&&e(n)})}}const jO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pj=typeof URLSearchParams<"u"?URLSearchParams:Aw,mj=typeof FormData<"u"?FormData:null,yj=typeof Blob<"u"?Blob:null,gj={isBrowser:!0,classes:{URLSearchParams:pj,FormData:mj,Blob:yj},protocols:["http","https","file","blob","url","data"]},Pw=typeof window<"u"&&typeof document<"u",Ab=typeof navigator=="object"&&navigator||void 0,vj=Pw&&(!Ab||["ReactNative","NativeScript","NS"].indexOf(Ab.product)<0),_j=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bj=Pw&&window.location.href||"http://localhost",wj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pw,hasStandardBrowserEnv:vj,hasStandardBrowserWebWorkerEnv:_j,navigator:Ab,origin:bj},Symbol.toStringTag,{value:"Module"})),Kn={...wj,...gj};function xj(t,e){return gy(t,new Kn.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return Kn.isNode&&We.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Sj(t){return We.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ej(t){const e={},r=Object.keys(t);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],e[a]=t[a];return e}function DO(t){function e(r,n,s,a){let l=r[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=a>=r.length;return l=!l&&We.isArray(s)?s.length:l,d?(We.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!We.isObject(s[l]))&&(s[l]=[]),e(r,n,s[l],a)&&We.isArray(s[l])&&(s[l]=Ej(s[l])),!u)}if(We.isFormData(t)&&We.isFunction(t.entries)){const r={};return We.forEachEntry(t,(n,s)=>{e(Sj(n),s,r,0)}),r}return null}function Nj(t,e,r){if(We.isString(t))try{return(e||JSON.parse)(t),We.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Bf={transitional:jO,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=We.isObject(e);if(a&&We.isHTMLForm(e)&&(e=new FormData(e)),We.isFormData(e))return s?JSON.stringify(DO(e)):e;if(We.isArrayBuffer(e)||We.isBuffer(e)||We.isStream(e)||We.isFile(e)||We.isBlob(e)||We.isReadableStream(e))return e;if(We.isArrayBufferView(e))return e.buffer;if(We.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return xj(e,this.formSerializer).toString();if((u=We.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return gy(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Nj(e)):e}],transformResponse:[function(e){const r=this.transitional||Bf.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(We.isResponse(e)||We.isReadableStream(e))return e;if(e&&We.isString(e)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?or.from(u,or.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],t=>{Bf.headers[t]={}});const kj=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Oj=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||e[r]&&kj[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},cN=Symbol("internals");function Nd(t){return t&&String(t).trim().toLowerCase()}function Vp(t){return t===!1||t==null?t:We.isArray(t)?t.map(Vp):String(t)}function Ij(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Tj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function s_(t,e,r,n,s){if(We.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!We.isString(e)){if(We.isString(n))return e.indexOf(n)!==-1;if(We.isRegExp(n))return n.test(e)}}function Cj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function qj(t,e){const r=We.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,a,l){return this[n].call(this,e,s,a,l)},configurable:!0})})}let ki=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function a(u,d,p){const g=Nd(d);if(!g)throw new Error("header name must be a non-empty string");const w=We.findKey(s,g);(!w||s[w]===void 0||p===!0||p===void 0&&s[w]!==!1)&&(s[w||d]=Vp(u))}const l=(u,d)=>We.forEach(u,(p,g)=>a(p,g,d));if(We.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(We.isString(e)&&(e=e.trim())&&!Tj(e))l(Oj(e),r);else if(We.isHeaders(e))for(const[u,d]of e.entries())a(d,u,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=Nd(e),e){const n=We.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return Ij(s);if(We.isFunction(r))return r.call(this,s,n);if(We.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Nd(e),e){const n=We.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||s_(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function a(l){if(l=Nd(l),l){const u=We.findKey(n,l);u&&(!r||s_(n,n[u],u,r))&&(delete n[u],s=!0)}}return We.isArray(e)?e.forEach(a):a(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!e||s_(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const r=this,n={};return We.forEach(this,(s,a)=>{const l=We.findKey(n,a);if(l){r[l]=Vp(s),delete r[a];return}const u=e?Cj(a):String(a).trim();u!==a&&delete r[a],r[u]=Vp(s),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return We.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&We.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[cN]=this[cN]={accessors:{}}).accessors,s=this.prototype;function a(l){const u=Nd(l);n[u]||(qj(s,l),n[u]=!0)}return We.isArray(e)?e.forEach(a):a(e),this}};ki.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(ki.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});We.freezeMethods(ki);function o_(t,e){const r=this||Bf,n=e||r,s=ki.from(n.headers);let a=n.data;return We.forEach(t,function(u){a=u.call(r,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function MO(t){return!!(t&&t.__CANCEL__)}function qc(t,e,r){or.call(this,t??"canceled",or.ERR_CANCELED,e,r),this.name="CanceledError"}We.inherits(qc,or,{__CANCEL__:!0});function BO(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new or("Request failed with status code "+r.status,[or.ERR_BAD_REQUEST,or.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Rj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Aj(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),g=n[a];l||(l=p),r[s]=d,n[s]=p;let w=a,N=0;for(;w!==s;)N+=r[w++],w=w%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),p-l<e)return;const k=g&&p-g;return k?Math.round(N*1e3/k):void 0}}function Pj(t,e){let r=0,n=1e3/e,s,a;const l=(p,g=Date.now())=>{r=g,s=null,a&&(clearTimeout(a),a=null),t.apply(null,p)};return[(...p)=>{const g=Date.now(),w=g-r;w>=n?l(p,g):(s=p,a||(a=setTimeout(()=>{a=null,l(s)},n-w)))},()=>s&&l(s)]}const xm=(t,e,r=3)=>{let n=0;const s=Aj(50,250);return Pj(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,d=l-n,p=s(d),g=l<=u;n=l;const w={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:p||void 0,estimated:p&&u&&g?(u-l)/p:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(w)},r)},dN=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},fN=t=>(...e)=>We.asap(()=>t(...e)),Fj=Kn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Kn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Kn.origin),Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent)):()=>!0,Lj=Kn.hasStandardBrowserEnv?{write(t,e,r,n,s,a){const l=[t+"="+encodeURIComponent(e)];We.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),We.isString(n)&&l.push("path="+n),We.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Dj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $O(t,e){return t&&!jj(e)?Dj(t,e):e}const hN=t=>t instanceof ki?{...t}:t;function Hl(t,e){e=e||{};const r={};function n(p,g,w,N){return We.isPlainObject(p)&&We.isPlainObject(g)?We.merge.call({caseless:N},p,g):We.isPlainObject(g)?We.merge({},g):We.isArray(g)?g.slice():g}function s(p,g,w,N){if(We.isUndefined(g)){if(!We.isUndefined(p))return n(void 0,p,w,N)}else return n(p,g,w,N)}function a(p,g){if(!We.isUndefined(g))return n(void 0,g)}function l(p,g){if(We.isUndefined(g)){if(!We.isUndefined(p))return n(void 0,p)}else return n(void 0,g)}function u(p,g,w){if(w in e)return n(p,g);if(w in t)return n(void 0,p)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(p,g,w)=>s(hN(p),hN(g),w,!0)};return We.forEach(Object.keys(Object.assign({},t,e)),function(g){const w=d[g]||s,N=w(t[g],e[g],g);We.isUndefined(N)&&w!==u||(r[g]=N)}),r}const WO=t=>{const e=Hl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:u}=e;e.headers=l=ki.from(l),e.url=LO($O(e.baseURL,e.url),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(We.isFormData(r)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...g]=d?d.split(";").map(w=>w.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...g].join("; "))}}if(Kn.hasStandardBrowserEnv&&(n&&We.isFunction(n)&&(n=n(e)),n||n!==!1&&Fj(e.url))){const p=s&&a&&Lj.read(a);p&&l.set(s,p)}return e},Mj=typeof XMLHttpRequest<"u",Bj=Mj&&function(t){return new Promise(function(r,n){const s=WO(t);let a=s.data;const l=ki.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:p}=s,g,w,N,k,I;function T(){k&&k(),I&&I(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function D(){if(!A)return;const $=ki.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),K={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:$,config:t,request:A};BO(function(J){r(J),T()},function(J){n(J),T()},K),A=null}"onloadend"in A?A.onloadend=D:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(D)},A.onabort=function(){A&&(n(new or("Request aborted",or.ECONNABORTED,t,A)),A=null)},A.onerror=function(){n(new or("Network Error",or.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let V=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const K=s.transitional||jO;s.timeoutErrorMessage&&(V=s.timeoutErrorMessage),n(new or(V,K.clarifyTimeoutError?or.ETIMEDOUT:or.ECONNABORTED,t,A)),A=null},a===void 0&&l.setContentType(null),"setRequestHeader"in A&&We.forEach(l.toJSON(),function(V,K){A.setRequestHeader(K,V)}),We.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),u&&u!=="json"&&(A.responseType=s.responseType),p&&([N,I]=xm(p,!0),A.addEventListener("progress",N)),d&&A.upload&&([w,k]=xm(d),A.upload.addEventListener("progress",w),A.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(g=$=>{A&&(n(!$||$.type?new qc(null,t,A):$),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const L=Rj(s.url);if(L&&Kn.protocols.indexOf(L)===-1){n(new or("Unsupported protocol "+L+":",or.ERR_BAD_REQUEST,t));return}A.send(a||null)})},$j=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const a=function(p){if(!s){s=!0,u();const g=p instanceof Error?p:this.reason;n.abort(g instanceof or?g:new qc(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new or(`timeout ${e} of ms exceeded`,or.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),t=null)};t.forEach(p=>p.addEventListener("abort",a));const{signal:d}=n;return d.unsubscribe=()=>We.asap(u),d}},Wj=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},zj=async function*(t,e){for await(const r of Uj(t))yield*Wj(r,e)},Uj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},pN=(t,e,r,n)=>{const s=zj(t,e);let a=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:g}=await s.next();if(p){u(),d.close();return}let w=g.byteLength;if(r){let N=a+=w;r(N)}d.enqueue(new Uint8Array(g))}catch(p){throw u(p),p}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},vy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zO=vy&&typeof ReadableStream=="function",Vj=vy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),UO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Hj=zO&&UO(()=>{let t=!1;const e=new Request(Kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),mN=64*1024,Pb=zO&&UO(()=>We.isReadableStream(new Response("").body)),Sm={stream:Pb&&(t=>t.body)};vy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sm[e]&&(Sm[e]=We.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new or(`Response type '${e}' is not supported`,or.ERR_NOT_SUPPORT,n)})})})(new Response);const Qj=async t=>{if(t==null)return 0;if(We.isBlob(t))return t.size;if(We.isSpecCompliantForm(t))return(await new Request(Kn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(We.isArrayBufferView(t)||We.isArrayBuffer(t))return t.byteLength;if(We.isURLSearchParams(t)&&(t=t+""),We.isString(t))return(await Vj(t)).byteLength},Kj=async(t,e)=>{const r=We.toFiniteNumber(t.getContentLength());return r??Qj(e)},Gj=vy&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:p,headers:g,withCredentials:w="same-origin",fetchOptions:N}=WO(t);p=p?(p+"").toLowerCase():"text";let k=$j([s,a&&a.toAbortSignal()],l),I;const T=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let A;try{if(d&&Hj&&r!=="get"&&r!=="head"&&(A=await Kj(g,n))!==0){let K=new Request(e,{method:"POST",body:n,duplex:"half"}),B;if(We.isFormData(n)&&(B=K.headers.get("content-type"))&&g.setContentType(B),K.body){const[J,ne]=dN(A,xm(fN(d)));n=pN(K.body,mN,J,ne)}}We.isString(w)||(w=w?"include":"omit");const D="credentials"in Request.prototype;I=new Request(e,{...N,signal:k,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:D?w:void 0});let L=await fetch(I);const $=Pb&&(p==="stream"||p==="response");if(Pb&&(u||$&&T)){const K={};["status","statusText","headers"].forEach(U=>{K[U]=L[U]});const B=We.toFiniteNumber(L.headers.get("content-length")),[J,ne]=u&&dN(B,xm(fN(u),!0))||[];L=new Response(pN(L.body,mN,J,()=>{ne&&ne(),T&&T()}),K)}p=p||"text";let V=await Sm[We.findKey(Sm,p)||"text"](L,t);return!$&&T&&T(),await new Promise((K,B)=>{BO(K,B,{data:V,headers:ki.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:I})})}catch(D){throw T&&T(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new or("Network Error",or.ERR_NETWORK,t,I),{cause:D.cause||D}):or.from(D,D&&D.code,t,I)}}),Fb={http:cj,xhr:Bj,fetch:Gj};We.forEach(Fb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yN=t=>`- ${t}`,Jj=t=>We.isFunction(t)||t===null||t===!1,VO={getAdapter:t=>{t=We.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let a=0;a<e;a++){r=t[a];let l;if(n=r,!Jj(r)&&(n=Fb[(l=String(r)).toLowerCase()],n===void 0))throw new or(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+a]=n}if(!n){const a=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(yN).join(`
`):" "+yN(a[0]):"as no adapter specified";throw new or("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Fb};function a_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qc(null,t)}function gN(t){return a_(t),t.headers=ki.from(t.headers),t.data=o_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),VO.getAdapter(t.adapter||Bf.adapter)(t).then(function(n){return a_(t),n.data=o_.call(t,t.transformResponse,n),n.headers=ki.from(n.headers),n},function(n){return MO(n)||(a_(t),n&&n.response&&(n.response.data=o_.call(t,t.transformResponse,n.response),n.response.headers=ki.from(n.response.headers))),Promise.reject(n)})}const HO="1.7.9",_y={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_y[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const vN={};_y.transitional=function(e,r,n){function s(a,l){return"[Axios v"+HO+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,u)=>{if(e===!1)throw new or(s(l," has been removed"+(r?" in "+r:"")),or.ERR_DEPRECATED);return r&&!vN[l]&&(vN[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,l,u):!0}};_y.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Zj(t,e,r){if(typeof t!="object")throw new or("options must be an object",or.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],l=e[a];if(l){const u=t[a],d=u===void 0||l(u,a,t);if(d!==!0)throw new or("option "+a+" must be "+d,or.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new or("Unknown option "+a,or.ERR_BAD_OPTION)}}const Hp={assertOptions:Zj,validators:_y},no=Hp.validators;let Wl=class{constructor(e){this.defaults=e,this.interceptors={request:new uN,response:new uN}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Hl(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Hp.assertOptions(n,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),s!=null&&(We.isFunction(s)?r.paramsSerializer={serialize:s}:Hp.assertOptions(s,{encode:no.function,serialize:no.function},!0)),Hp.assertOptions(r,{baseUrl:no.spelling("baseURL"),withXsrfToken:no.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&We.merge(a.common,a[r.method]);a&&We.forEach(["delete","get","head","post","put","patch","common"],I=>{delete a[I]}),r.headers=ki.concat(l,a);const u=[];let d=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(r)===!1||(d=d&&T.synchronous,u.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let g,w=0,N;if(!d){const I=[gN.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,p),N=I.length,g=Promise.resolve(r);w<N;)g=g.then(I[w++],I[w++]);return g}N=u.length;let k=r;for(w=0;w<N;){const I=u[w++],T=u[w++];try{k=I(k)}catch(A){T.call(this,A);break}}try{g=gN.call(this,k)}catch(I){return Promise.reject(I)}for(w=0,N=p.length;w<N;)g=g.then(p[w++],p[w++]);return g}getUri(e){e=Hl(this.defaults,e);const r=$O(e.baseURL,e.url);return LO(r,e.params,e.paramsSerializer)}};We.forEach(["delete","get","head","options"],function(e){Wl.prototype[e]=function(r,n){return this.request(Hl(n||{},{method:e,url:r,data:(n||{}).data}))}});We.forEach(["post","put","patch"],function(e){function r(n){return function(a,l,u){return this.request(Hl(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Wl.prototype[e]=r(),Wl.prototype[e+"Form"]=r(!0)});let Yj=class QO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(u=>{n.subscribe(u),a=u}).then(s);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,u){n.reason||(n.reason=new qc(a,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new QO(function(s){e=s}),cancel:e}}};function Xj(t){return function(r){return t.apply(null,r)}}function e2(t){return We.isObject(t)&&t.isAxiosError===!0}const Lb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lb).forEach(([t,e])=>{Lb[e]=t});function KO(t){const e=new Wl(t),r=EO(Wl.prototype.request,e);return We.extend(r,Wl.prototype,e,{allOwnKeys:!0}),We.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return KO(Hl(t,s))},r}const pn=KO(Bf);pn.Axios=Wl;pn.CanceledError=qc;pn.CancelToken=Yj;pn.isCancel=MO;pn.VERSION=HO;pn.toFormData=gy;pn.AxiosError=or;pn.Cancel=pn.CanceledError;pn.all=function(e){return Promise.all(e)};pn.spread=Xj;pn.isAxiosError=e2;pn.mergeConfig=Hl;pn.AxiosHeaders=ki;pn.formToJSON=t=>DO(We.isHTMLForm(t)?new FormData(t):t);pn.getAdapter=VO.getAdapter;pn.HttpStatusCode=Lb;pn.default=pn;const{Axios:MV,AxiosError:t2,CanceledError:BV,isCancel:$V,CancelToken:WV,VERSION:zV,all:UV,Cancel:VV,isAxiosError:HV,spread:QV,toFormData:KV,AxiosHeaders:GV,HttpStatusCode:JV,formToJSON:ZV,getAdapter:YV,mergeConfig:XV}=pn,Fw=({error:t,schema:e,onError:r})=>{if(t instanceof t2){const s=e.safeParse(t.response?.data);return s.success&&r({error:t,data:s.data}),s.success}return!1};var l_,_N;function r2(){if(_N)return l_;_N=1;function t(n){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(n)}t.prototype.getMaxRPS=function(){var n=this.perMilliseconds/1e3;return this.maxRequests/n},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(n){this.setRateLimitOptions({maxRequests:n,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(n){n.maxRPS?this.setMaxRPS(n.maxRPS):(this.perMilliseconds=n.perMilliseconds,this.maxRequests=n.maxRequests)},t.prototype.enable=function(n){function s(a){return Promise.reject(a)}this.interceptors.request=n.interceptors.request.use(this.handleRequest,s),this.interceptors.response=n.interceptors.response.use(this.handleResponse,s)};function e(n){n.cancelToken&&n.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(n){return new Promise(function(s,a){this.push({resolve:function(){try{e(n)}catch(l){return a(l),!1}return s(n),!0}})}.bind(this))},t.prototype.handleResponse=function(n){return this.shift(),n},t.prototype.push=function(n){this.queue.push(n),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var n=this.queue.shift(),s=n.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!s){this.shift();return}this.timeslotRequests+=1}};function r(n,s){var a=new t(n);return a.setRateLimitOptions(s),n.getQueue=t.prototype.getQueue.bind(a),n.getMaxRPS=t.prototype.getMaxRPS.bind(a),n.setMaxRPS=t.prototype.setMaxRPS.bind(a),n.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(a),n}return l_=r,l_}var n2=r2();const i2=Ec(n2),s2=({instance:t,limit:e}={})=>i2(t||pn,e||{maxRequests:5,perMilliseconds:100}),Lw="-",o2=t=>{const e=l2(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const u=l.split(Lw);return u[0]===""&&u.length!==1&&u.shift(),GO(u,e)||a2(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},GO=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?GO(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(Lw);return e.validators.find(({validator:l})=>l(a))?.classGroupId},bN=/^\[(.+)\]$/,a2=t=>{if(bN.test(t)){const e=bN.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},l2=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return c2(Object.entries(t.classGroups),r).forEach(([a,l])=>{jb(l,n,a,e)}),n},jb=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:wN(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(u2(s)){jb(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,l])=>{jb(l,wN(e,a),r,n)})})},wN=(t,e)=>{let r=t;return e.split(Lw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},u2=t=>t.isThemeGetter,c2=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[e+l,u])):a);return[r,s]}):t,d2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,l)=>{r.set(a,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return s(a,l),l},set(a,l){r.has(a)?r.set(a,l):s(a,l)}}},JO="!",f2=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,l=u=>{const d=[];let p=0,g=0,w;for(let A=0;A<u.length;A++){let D=u[A];if(p===0){if(D===s&&(n||u.slice(A,A+a)===e)){d.push(u.slice(g,A)),g=A+a;continue}if(D==="/"){w=A;continue}}D==="["?p++:D==="]"&&p--}const N=d.length===0?u:u.substring(g),k=N.startsWith(JO),I=k?N.substring(1):N,T=w&&w>g?w-g:void 0;return{modifiers:d,hasImportantModifier:k,baseClassName:I,maybePostfixModifierPosition:T}};return r?u=>r({className:u,parseClassName:l}):l},h2=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},p2=t=>({cache:d2(t.cacheSize),parseClassName:f2(t),...o2(t)}),m2=/\s+/,y2=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],l=t.trim().split(m2);let u="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:g,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:k}=r(p);let I=!!k,T=n(I?N.substring(0,k):N);if(!T){if(!I){u=p+(u.length>0?" "+u:u);continue}if(T=n(N),!T){u=p+(u.length>0?" "+u:u);continue}I=!1}const A=h2(g).join(":"),D=w?A+JO:A,L=D+T;if(a.includes(L))continue;a.push(L);const $=s(T,I);for(let V=0;V<$.length;++V){const K=$[V];a.push(D+K)}u=p+(u.length>0?" "+u:u)}return u};function g2(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=ZO(e))&&(n&&(n+=" "),n+=r);return n}const ZO=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=ZO(t[n]))&&(r&&(r+=" "),r+=e);return r};function v2(t,...e){let r,n,s,a=l;function l(d){const p=e.reduce((g,w)=>w(g),t());return r=p2(p),n=r.cache.get,s=r.cache.set,a=u,u(d)}function u(d){const p=n(d);if(p)return p;const g=y2(d,r);return s(d,g),g}return function(){return a(g2.apply(null,arguments))}}const Vr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},YO=/^\[(?:([a-z-]+):)?(.+)\]$/i,_2=/^\d+\/\d+$/,b2=new Set(["px","full","screen"]),w2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Po=t=>tc(t)||b2.has(t)||_2.test(t),wa=t=>Rc(t,"length",A2),tc=t=>!!t&&!Number.isNaN(Number(t)),u_=t=>Rc(t,"number",tc),kd=t=>!!t&&Number.isInteger(Number(t)),k2=t=>t.endsWith("%")&&tc(t.slice(0,-1)),lr=t=>YO.test(t),xa=t=>w2.test(t),O2=new Set(["length","size","percentage"]),I2=t=>Rc(t,O2,XO),T2=t=>Rc(t,"position",XO),C2=new Set(["image","url"]),q2=t=>Rc(t,C2,F2),R2=t=>Rc(t,"",P2),Od=()=>!0,Rc=(t,e,r)=>{const n=YO.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},A2=t=>x2.test(t)&&!S2.test(t),XO=()=>!1,P2=t=>E2.test(t),F2=t=>N2.test(t),L2=()=>{const t=Vr("colors"),e=Vr("spacing"),r=Vr("blur"),n=Vr("brightness"),s=Vr("borderColor"),a=Vr("borderRadius"),l=Vr("borderSpacing"),u=Vr("borderWidth"),d=Vr("contrast"),p=Vr("grayscale"),g=Vr("hueRotate"),w=Vr("invert"),N=Vr("gap"),k=Vr("gradientColorStops"),I=Vr("gradientColorStopPositions"),T=Vr("inset"),A=Vr("margin"),D=Vr("opacity"),L=Vr("padding"),$=Vr("saturate"),V=Vr("scale"),K=Vr("sepia"),B=Vr("skew"),J=Vr("space"),ne=Vr("translate"),U=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",lr,e],se=()=>[lr,e],Z=()=>["",Po,wa],pe=()=>["auto",tc,lr],Ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Te=()=>["solid","dashed","dotted","double","none"],Fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",lr],Ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[tc,lr];return{cacheSize:500,separator:":",theme:{colors:[Od],spacing:[Po,wa],blur:["none","",xa,lr],brightness:H(),borderColor:[t],borderRadius:["none","","full",xa,lr],borderSpacing:se(),borderWidth:Z(),contrast:H(),grayscale:me(),hueRotate:H(),invert:me(),gap:se(),gradientColorStops:[t],gradientColorStopPositions:[k2,wa],inset:M(),margin:M(),opacity:H(),padding:se(),saturate:H(),scale:H(),sepia:me(),skew:H(),space:se(),translate:se()},classGroups:{aspect:[{aspect:["auto","square","video",lr]}],container:["container"],columns:[{columns:[xa]}],"break-after":[{"break-after":Ne()}],"break-before":[{"break-before":Ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ce(),lr]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kd,lr]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lr]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",kd,lr]}],"grid-cols":[{"grid-cols":[Od]}],"col-start-end":[{col:["auto",{span:["full",kd,lr]},lr]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[Od]}],"row-start-end":[{row:["auto",{span:[kd,lr]},lr]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lr]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[L]}],px:[{px:[L]}],py:[{py:[L]}],ps:[{ps:[L]}],pe:[{pe:[L]}],pt:[{pt:[L]}],pr:[{pr:[L]}],pb:[{pb:[L]}],pl:[{pl:[L]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[J]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[J]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lr,e]}],"min-w":[{"min-w":[lr,e,"min","max","fit"]}],"max-w":[{"max-w":[lr,e,"none","full","min","max","fit","prose",{screen:[xa]},xa]}],h:[{h:[lr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xa,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",u_]}],"font-family":[{font:[Od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lr]}],"line-clamp":[{"line-clamp":["none",tc,u_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Po,lr]}],"list-image":[{"list-image":["none",lr]}],"list-style-type":[{list:["none","disc","decimal",lr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Po,wa]}],"underline-offset":[{"underline-offset":["auto",Po,lr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ce(),T2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},q2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...Te(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:Te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Te()]}],"outline-offset":[{"outline-offset":[Po,lr]}],"outline-w":[{outline:[Po,wa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[Po,wa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xa,R2]}],"shadow-color":[{shadow:[Od]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...Fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Fe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",xa,lr]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[w]}],saturate:[{saturate:[$]}],sepia:[{sepia:[K]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[K]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lr]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",lr]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",lr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[kd,lr]}],"translate-x":[{"translate-x":[ne]}],"translate-y":[{"translate-y":[ne]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":se()}],"scroll-mx":[{"scroll-mx":se()}],"scroll-my":[{"scroll-my":se()}],"scroll-ms":[{"scroll-ms":se()}],"scroll-me":[{"scroll-me":se()}],"scroll-mt":[{"scroll-mt":se()}],"scroll-mr":[{"scroll-mr":se()}],"scroll-mb":[{"scroll-mb":se()}],"scroll-ml":[{"scroll-ml":se()}],"scroll-p":[{"scroll-p":se()}],"scroll-px":[{"scroll-px":se()}],"scroll-py":[{"scroll-py":se()}],"scroll-ps":[{"scroll-ps":se()}],"scroll-pe":[{"scroll-pe":se()}],"scroll-pt":[{"scroll-pt":se()}],"scroll-pr":[{"scroll-pr":se()}],"scroll-pb":[{"scroll-pb":se()}],"scroll-pl":[{"scroll-pl":se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Po,wa,u_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eI=v2(L2),Db=new Proxy(()=>Db,{get:()=>Db});function dr({use:t,slot:e,variant:r,match:n=[],defaults:s}){return({css:a,...l}={})=>({slots:new Proxy({},{get:(u,d)=>({css:p,...g}={})=>{const w=[],N=t,k={...N?.()?.config.defaults,...s,...l,...g};w.push(N?.(k)?.slots[d]?.(k)),w.push(Array.isArray(e[d])?e[d]:[e[d]]);for(const[I,T]of Object.entries(k)){const A=r[I]?.[T];A&&w.push(A)}for(const I of n)Object.entries(I.if).every(([T,A])=>A===k[T])&&w.push(I.then?.[d]);return w.push(a?.[d]),w.push(p),eI(w)}}),config:{defaults:{...t?.()?.config.defaults,...s},values:{...t?.()?.config.defaults,...s,...l}},type:Db()})}const $f=eI;var c_,xN;function j2(){return xN||(xN=1,c_=Object),c_}var d_,SN;function D2(){return SN||(SN=1,d_=Error),d_}var f_,EN;function M2(){return EN||(EN=1,f_=EvalError),f_}var h_,NN;function B2(){return NN||(NN=1,h_=RangeError),h_}var p_,kN;function $2(){return kN||(kN=1,p_=ReferenceError),p_}var m_,ON;function W2(){return ON||(ON=1,m_=SyntaxError),m_}var y_,IN;function tI(){return IN||(IN=1,y_=TypeError),y_}var g_,TN;function z2(){return TN||(TN=1,g_=URIError),g_}var v_,CN;function U2(){return CN||(CN=1,v_=Math.abs),v_}var __,qN;function V2(){return qN||(qN=1,__=Math.floor),__}var b_,RN;function H2(){return RN||(RN=1,b_=Math.max),b_}var w_,AN;function Q2(){return AN||(AN=1,w_=Math.min),w_}var x_,PN;function K2(){return PN||(PN=1,x_=Math.pow),x_}var S_,FN;function G2(){return FN||(FN=1,S_=Object.getOwnPropertyDescriptor),S_}var E_,LN;function rI(){if(LN)return E_;LN=1;var t=G2();if(t)try{t([],"length")}catch{t=null}return E_=t,E_}var N_,jN;function J2(){if(jN)return N_;jN=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return N_=t,N_}var k_,DN;function nI(){return DN||(DN=1,k_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==s||u.enumerable!==!0)return!1}return!0}),k_}var O_,MN;function Z2(){if(MN)return O_;MN=1;var t=typeof Symbol<"u"&&Symbol,e=nI();return O_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},O_}var I_,BN;function Y2(){if(BN)return I_;BN=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(d,p){for(var g=[],w=0;w<d.length;w+=1)g[w]=d[w];for(var N=0;N<p.length;N+=1)g[N+d.length]=p[N];return g},a=function(d,p){for(var g=[],w=p,N=0;w<d.length;w+=1,N+=1)g[N]=d[w];return g},l=function(u,d){for(var p="",g=0;g<u.length;g+=1)p+=u[g],g+1<u.length&&(p+=d);return p};return I_=function(d){var p=this;if(typeof p!="function"||e.apply(p)!==n)throw new TypeError(t+p);for(var g=a(arguments,1),w,N=function(){if(this instanceof w){var D=p.apply(this,s(g,arguments));return Object(D)===D?D:this}return p.apply(d,s(g,arguments))},k=r(0,p.length-g.length),I=[],T=0;T<k;T++)I[T]="$"+T;if(w=Function("binder","return function ("+l(I,",")+"){ return binder.apply(this,arguments); }")(N),p.prototype){var A=function(){};A.prototype=p.prototype,w.prototype=new A,A.prototype=null}return w},I_}var T_,$N;function by(){if($N)return T_;$N=1;var t=Y2();return T_=Function.prototype.bind||t,T_}var C_,WN;function jw(){return WN||(WN=1,C_=Function.prototype.call),C_}var q_,zN;function iI(){return zN||(zN=1,q_=Function.prototype.apply),q_}var R_,UN;function X2(){return UN||(UN=1,R_=typeof Reflect<"u"&&Reflect&&Reflect.apply),R_}var A_,VN;function eD(){if(VN)return A_;VN=1;var t=by(),e=iI(),r=jw(),n=X2();return A_=n||t.call(r,e),A_}var P_,HN;function sI(){if(HN)return P_;HN=1;var t=by(),e=tI(),r=jw(),n=eD();return P_=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,r,a)},P_}var F_,QN;function tD(){if(QN)return F_;QN=1;var t=sI(),e=rI(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return F_=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(u){return a(u==null?u:s(u))}:!1,F_}var L_,KN;function rD(){if(KN)return L_;KN=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=by();return L_=r.call(t,e),L_}var j_,GN;function nD(){if(GN)return j_;GN=1;var t,e=j2(),r=D2(),n=M2(),s=B2(),a=$2(),l=W2(),u=tI(),d=z2(),p=U2(),g=V2(),w=H2(),N=Q2(),k=K2(),I=Function,T=function(mt){try{return I('"use strict"; return ('+mt+").constructor;")()}catch{}},A=rI(),D=J2(),L=function(){throw new u},$=A?function(){try{return arguments.callee,L}catch{try{return A(arguments,"callee").get}catch{return L}}}():L,V=Z2()(),K=tD(),B=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||K,J=iI(),ne=jw(),U={},re=typeof Uint8Array>"u"||!B?t:B(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":V&&B?B([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V&&B?B(B([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!V||!B?t:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!V||!B?t:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V&&B?B(""[Symbol.iterator]()):t,"%Symbol%":V?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":$,"%TypedArray%":re,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":ne,"%Function.prototype.apply%":J,"%Object.defineProperty%":D,"%Math.abs%":p,"%Math.floor%":g,"%Math.max%":w,"%Math.min%":N,"%Math.pow%":k};if(B)try{null.error}catch(mt){var se=B(B(mt));M["%Error.prototype%"]=se}var Z=function mt(ft){var gt;if(ft==="%AsyncFunction%")gt=T("async function () {}");else if(ft==="%GeneratorFunction%")gt=T("function* () {}");else if(ft==="%AsyncGeneratorFunction%")gt=T("async function* () {}");else if(ft==="%AsyncGenerator%"){var Pt=mt("%AsyncGeneratorFunction%");Pt&&(gt=Pt.prototype)}else if(ft==="%AsyncIteratorPrototype%"){var vt=mt("%AsyncGenerator%");vt&&B&&(gt=B(vt.prototype))}return M[ft]=gt,gt},pe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ce=by(),Te=rD(),Fe=Ce.call(ne,Array.prototype.concat),ve=Ce.call(J,Array.prototype.splice),me=Ce.call(ne,String.prototype.replace),Ne=Ce.call(ne,String.prototype.slice),H=Ce.call(ne,RegExp.prototype.exec),Se=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,at=function(ft){var gt=Ne(ft,0,1),Pt=Ne(ft,-1);if(gt==="%"&&Pt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(Pt==="%"&&gt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var vt=[];return me(ft,Se,function(yt,Ct,It,er){vt[vt.length]=It?me(er,lt,"$1"):Ct||yt}),vt},dt=function(ft,gt){var Pt=ft,vt;if(Te(pe,Pt)&&(vt=pe[Pt],Pt="%"+vt[0]+"%"),Te(M,Pt)){var yt=M[Pt];if(yt===U&&(yt=Z(Pt)),typeof yt>"u"&&!gt)throw new u("intrinsic "+ft+" exists, but is not available. Please file an issue!");return{alias:vt,name:Pt,value:yt}}throw new l("intrinsic "+ft+" does not exist!")};return j_=function(ft,gt){if(typeof ft!="string"||ft.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof gt!="boolean")throw new u('"allowMissing" argument must be a boolean');if(H(/^%?[^%]*%?$/,ft)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Pt=at(ft),vt=Pt.length>0?Pt[0]:"",yt=dt("%"+vt+"%",gt),Ct=yt.name,It=yt.value,er=!1,Zt=yt.alias;Zt&&(vt=Zt[0],ve(Pt,Fe([0,1],Zt)));for(var ir=1,pr=!0;ir<Pt.length;ir+=1){var ae=Pt[ir],ue=Ne(ae,0,1),ye=Ne(ae,-1);if((ue==='"'||ue==="'"||ue==="`"||ye==='"'||ye==="'"||ye==="`")&&ue!==ye)throw new l("property names with quotes must have matching quotes");if((ae==="constructor"||!pr)&&(er=!0),vt+="."+ae,Ct="%"+vt+"%",Te(M,Ct))It=M[Ct];else if(It!=null){if(!(ae in It)){if(!gt)throw new u("base intrinsic for "+ft+" exists, but the property is not available.");return}if(A&&ir+1>=Pt.length){var qe=A(It,ae);pr=!!qe,pr&&"get"in qe&&!("originalValue"in qe.get)?It=qe.get:It=It[ae]}else pr=Te(It,ae),It=It[ae];pr&&!er&&(M[Ct]=It)}}return It},j_}var D_,JN;function iD(){if(JN)return D_;JN=1;var t=nD(),e=sI(),r=e([t("%String.prototype.indexOf%")]);return D_=function(s,a){var l=t(s,!!a);return typeof l=="function"&&r(s,".prototype.")>-1?e([l]):l},D_}var M_,ZN;function sD(){if(ZN)return M_;ZN=1;var t=nI();return M_=function(){return t()&&!!Symbol.toStringTag},M_}var B_,YN;function oD(){if(YN)return B_;YN=1;var t=iD(),e=t("String.prototype.valueOf"),r=function(u){try{return e(u),!0}catch{return!1}},n=t("Object.prototype.toString"),s="[object String]",a=sD()();return B_=function(u){return typeof u=="string"?!0:!u||typeof u!="object"?!1:a?r(u):n(u)===s},B_}var aD=oD();const lD=Ec(aD),wy=t=>lD(t),uD=(t,e,r={})=>{const n=[];return t.filter((a,l)=>{const u=r.regionLowerCase?a.toLowerCase():a;if(e.includes(u))return n.push({index:l,appLocale:u}),!0;const{isAvailable:d,appLocale:p}=cD(u,e,r);return d&&n.push({index:l,appLocale:r.regionLowerCase?p.toLowerCase():p}),d}).map((a,l)=>!n||n.length===0?a:n[l]?.appLocale)},cD=(t,e,r={})=>{r?.languageOnly||(r.languageOnly=!1);let n=t;return{isAvailable:e.some(a=>{if(!Qp()&&!r.languageOnly&&t.split("-")[1]===void 0)return!1;const l=Qp()?new Intl.Locale(t).minimize().language:t.split("-")[0],u=Qp()?new Intl.Locale(a).minimize().language:a.split("-")[0],d=l===u;return d&&(n=a),d}),appLocale:n}},dD=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(r=>t.regionLowerCase?r.toLowerCase():r)},Qp=()=>Intl&&"Locale"in Intl,fD=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const r=t.map(n=>{const s=n.split("-");if(e.languageOnly)return s[0];const a=Qp()?new Intl.Locale(n).maximize():{language:s[0],script:s.length===3?s[1]:void 0,region:s.length===3?s[2]:s[1]},{language:l,script:u}=a;let{region:d}=a;return e.regionLowerCase&&d&&(d=d.toLowerCase()),s.length>2?`${l}-${u}-${d}`:d?`${l}-${d}`:l});return[...new Set(r)]},hD=(t,e,r={})=>{r.regionLowerCase||(r.regionLowerCase=!1),r.languageOnly||(r.languageOnly=!1);const n=dD(r),s=fD([...n,t],r);return uD(s,e,r)[0]||t},pD=({available:t,fallback:e})=>hD(e,t,{languageOnly:!0});var $_={exports:{}};const mD={},yD=Object.freeze(Object.defineProperty({__proto__:null,default:mD},Symbol.toStringTag,{value:"Module"})),XN=Bq(yD);var e1;function gD(){return e1||(e1=1,function(t){(function(){var e="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",a=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?n=pb:s&&(n=self);var l=!n.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,u=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),p=[-0x80000000,8388608,32768,128],g=[24,16,8,0],w=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],N=["hex","array","digest","arrayBuffer"],k=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),u&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var I=function(B,J){return function(ne){return new $(J,!0).update(ne)[B]()}},T=function(B){var J=I("hex",B);a&&(J=A(J,B)),J.create=function(){return new $(B)},J.update=function(re){return J.create().update(re)};for(var ne=0;ne<N.length;++ne){var U=N[ne];J[U]=I(U,B)}return J},A=function(B,J){var ne=XN,U=XN.Buffer,re=J?"sha224":"sha256",M;U.from&&!n.JS_SHA256_NO_BUFFER_FROM?M=U.from:M=function(Z){return new U(Z)};var se=function(Z){if(typeof Z=="string")return ne.createHash(re).update(Z,"utf8").digest("hex");if(Z==null)throw new Error(e);return Z.constructor===ArrayBuffer&&(Z=new Uint8Array(Z)),Array.isArray(Z)||ArrayBuffer.isView(Z)||Z.constructor===U?ne.createHash(re).update(M(Z)).digest("hex"):B(Z)};return se},D=function(B,J){return function(ne,U){return new V(ne,J,!0).update(U)[B]()}},L=function(B){var J=D("hex",B);J.create=function(re){return new V(re,B)},J.update=function(re,M){return J.create(re).update(M)};for(var ne=0;ne<N.length;++ne){var U=N[ne];J[U]=D(U,B)}return J};function $(B,J){J?(k[0]=k[16]=k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=k[10]=k[11]=k[12]=k[13]=k[14]=k[15]=0,this.blocks=k):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}$.prototype.update=function(B){if(!this.finalized){var J,ne=typeof B;if(ne!=="string"){if(ne==="object"){if(B===null)throw new Error(e);if(u&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!u||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);J=!0}for(var U,re=0,M,se=B.length,Z=this.blocks;re<se;){if(this.hashed&&(this.hashed=!1,Z[0]=this.block,this.block=Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),J)for(M=this.start;re<se&&M<64;++re)Z[M>>>2]|=B[re]<<g[M++&3];else for(M=this.start;re<se&&M<64;++re)U=B.charCodeAt(re),U<128?Z[M>>>2]|=U<<g[M++&3]:U<2048?(Z[M>>>2]|=(192|U>>>6)<<g[M++&3],Z[M>>>2]|=(128|U&63)<<g[M++&3]):U<55296||U>=57344?(Z[M>>>2]|=(224|U>>>12)<<g[M++&3],Z[M>>>2]|=(128|U>>>6&63)<<g[M++&3],Z[M>>>2]|=(128|U&63)<<g[M++&3]):(U=65536+((U&1023)<<10|B.charCodeAt(++re)&1023),Z[M>>>2]|=(240|U>>>18)<<g[M++&3],Z[M>>>2]|=(128|U>>>12&63)<<g[M++&3],Z[M>>>2]|=(128|U>>>6&63)<<g[M++&3],Z[M>>>2]|=(128|U&63)<<g[M++&3]);this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.block=Z[16],this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,J=this.lastByteIndex;B[16]=this.block,B[J>>>2]|=p[J&3],this.block=B[16],J>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var B=this.h0,J=this.h1,ne=this.h2,U=this.h3,re=this.h4,M=this.h5,se=this.h6,Z=this.h7,pe=this.blocks,Ce,Te,Fe,ve,me,Ne,H,Se,lt,at,dt;for(Ce=16;Ce<64;++Ce)me=pe[Ce-15],Te=(me>>>7|me<<25)^(me>>>18|me<<14)^me>>>3,me=pe[Ce-2],Fe=(me>>>17|me<<15)^(me>>>19|me<<13)^me>>>10,pe[Ce]=pe[Ce-16]+Te+pe[Ce-7]+Fe<<0;for(dt=J&ne,Ce=0;Ce<64;Ce+=4)this.first?(this.is224?(Se=300032,me=pe[0]-0x543c9a5b,Z=me-0x8f1a6c7<<0,U=me+0x170e9b5<<0):(Se=0x2a01a605,me=pe[0]-0xc881298,Z=me-0x5ab00ac6<<0,U=me+0x8909ae5<<0),this.first=!1):(Te=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),Fe=(re>>>6|re<<26)^(re>>>11|re<<21)^(re>>>25|re<<7),Se=B&J,ve=Se^B&ne^dt,H=re&M^~re&se,me=Z+Fe+H+w[Ce]+pe[Ce],Ne=Te+ve,Z=U+me<<0,U=me+Ne<<0),Te=(U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10),Fe=(Z>>>6|Z<<26)^(Z>>>11|Z<<21)^(Z>>>25|Z<<7),lt=U&B,ve=lt^U&J^Se,H=Z&re^~Z&M,me=se+Fe+H+w[Ce+1]+pe[Ce+1],Ne=Te+ve,se=ne+me<<0,ne=me+Ne<<0,Te=(ne>>>2|ne<<30)^(ne>>>13|ne<<19)^(ne>>>22|ne<<10),Fe=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),at=ne&U,ve=at^ne&B^lt,H=se&Z^~se&re,me=M+Fe+H+w[Ce+2]+pe[Ce+2],Ne=Te+ve,M=J+me<<0,J=me+Ne<<0,Te=(J>>>2|J<<30)^(J>>>13|J<<19)^(J>>>22|J<<10),Fe=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),dt=J&ne,ve=dt^J&U^at,H=M&se^~M&Z,me=re+Fe+H+w[Ce+3]+pe[Ce+3],Ne=Te+ve,re=B+me<<0,B=me+Ne<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+B<<0,this.h1=this.h1+J<<0,this.h2=this.h2+ne<<0,this.h3=this.h3+U<<0,this.h4=this.h4+re<<0,this.h5=this.h5+M<<0,this.h6=this.h6+se<<0,this.h7=this.h7+Z<<0},$.prototype.hex=function(){this.finalize();var B=this.h0,J=this.h1,ne=this.h2,U=this.h3,re=this.h4,M=this.h5,se=this.h6,Z=this.h7,pe=d[B>>>28&15]+d[B>>>24&15]+d[B>>>20&15]+d[B>>>16&15]+d[B>>>12&15]+d[B>>>8&15]+d[B>>>4&15]+d[B&15]+d[J>>>28&15]+d[J>>>24&15]+d[J>>>20&15]+d[J>>>16&15]+d[J>>>12&15]+d[J>>>8&15]+d[J>>>4&15]+d[J&15]+d[ne>>>28&15]+d[ne>>>24&15]+d[ne>>>20&15]+d[ne>>>16&15]+d[ne>>>12&15]+d[ne>>>8&15]+d[ne>>>4&15]+d[ne&15]+d[U>>>28&15]+d[U>>>24&15]+d[U>>>20&15]+d[U>>>16&15]+d[U>>>12&15]+d[U>>>8&15]+d[U>>>4&15]+d[U&15]+d[re>>>28&15]+d[re>>>24&15]+d[re>>>20&15]+d[re>>>16&15]+d[re>>>12&15]+d[re>>>8&15]+d[re>>>4&15]+d[re&15]+d[M>>>28&15]+d[M>>>24&15]+d[M>>>20&15]+d[M>>>16&15]+d[M>>>12&15]+d[M>>>8&15]+d[M>>>4&15]+d[M&15]+d[se>>>28&15]+d[se>>>24&15]+d[se>>>20&15]+d[se>>>16&15]+d[se>>>12&15]+d[se>>>8&15]+d[se>>>4&15]+d[se&15];return this.is224||(pe+=d[Z>>>28&15]+d[Z>>>24&15]+d[Z>>>20&15]+d[Z>>>16&15]+d[Z>>>12&15]+d[Z>>>8&15]+d[Z>>>4&15]+d[Z&15]),pe},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var B=this.h0,J=this.h1,ne=this.h2,U=this.h3,re=this.h4,M=this.h5,se=this.h6,Z=this.h7,pe=[B>>>24&255,B>>>16&255,B>>>8&255,B&255,J>>>24&255,J>>>16&255,J>>>8&255,J&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,U>>>24&255,U>>>16&255,U>>>8&255,U&255,re>>>24&255,re>>>16&255,re>>>8&255,re&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,se>>>24&255,se>>>16&255,se>>>8&255,se&255];return this.is224||pe.push(Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255),pe},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),J=new DataView(B);return J.setUint32(0,this.h0),J.setUint32(4,this.h1),J.setUint32(8,this.h2),J.setUint32(12,this.h3),J.setUint32(16,this.h4),J.setUint32(20,this.h5),J.setUint32(24,this.h6),this.is224||J.setUint32(28,this.h7),B};function V(B,J,ne){var U,re=typeof B;if(re==="string"){var M=[],se=B.length,Z=0,pe;for(U=0;U<se;++U)pe=B.charCodeAt(U),pe<128?M[Z++]=pe:pe<2048?(M[Z++]=192|pe>>>6,M[Z++]=128|pe&63):pe<55296||pe>=57344?(M[Z++]=224|pe>>>12,M[Z++]=128|pe>>>6&63,M[Z++]=128|pe&63):(pe=65536+((pe&1023)<<10|B.charCodeAt(++U)&1023),M[Z++]=240|pe>>>18,M[Z++]=128|pe>>>12&63,M[Z++]=128|pe>>>6&63,M[Z++]=128|pe&63);B=M}else if(re==="object"){if(B===null)throw new Error(e);if(u&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!u||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);B.length>64&&(B=new $(J,!0).update(B).array());var Ce=[],Te=[];for(U=0;U<64;++U){var Fe=B[U]||0;Ce[U]=92^Fe,Te[U]=54^Fe}$.call(this,J,ne),this.update(Te),this.oKeyPad=Ce,this.inner=!0,this.sharedMemory=ne}V.prototype=new $,V.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();$.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),$.prototype.finalize.call(this)}};var K=T();K.sha256=K,K.sha224=T(!0),K.sha256.hmac=L(),K.sha224.hmac=L(!0),l?t.exports=K:(n.sha256=K.sha256,n.sha224=K.sha224)})()}($_)),$_.exports}var Mb=gD();const vD=Mb.sha224,oI=({index:t,key:e,fallback:r})=>t[vD(e)]?.value??t[e]?.value??r??e,_D=({index:t,key:e,fallback:r})=>oI({index:t,key:e,fallback:r}),bD=({index:t,key:e,fallback:r})=>oI({index:t,key:e,fallback:r}),Jr={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>_D({index:Jr.index,key:t,fallback:e}),rich:(t,e)=>bD({index:Jr.index,key:t,fallback:e})},aI={hash(t){return Mb.sha224(t)},verify(t,e){return Mb.sha224(t)===e}};var yr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const l of s)a[l]=l;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of a)l[u]=s[u];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(l);return a},t.find=(s,a)=>{for(const l of s)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(yr||(yr={}));var Bb;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Bb||(Bb={}));const Ot=yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$o=t=>{switch(typeof t){case"undefined":return Ot.undefined;case"string":return Ot.string;case"number":return isNaN(t)?Ot.nan:Ot.number;case"boolean":return Ot.boolean;case"function":return Ot.function;case"bigint":return Ot.bigint;case"symbol":return Ot.symbol;case"object":return Array.isArray(t)?Ot.array:t===null?Ot.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ot.promise:typeof Map<"u"&&t instanceof Map?Ot.map:typeof Set<"u"&&t instanceof Set?Ot.set:typeof Date<"u"&&t instanceof Date?Ot.date:Ot.object;default:return Ot.unknown}},it=yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wD=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Qi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let u=n,d=0;for(;d<l.path.length;){const p=l.path[d];d===l.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(r(l))):u[p]=u[p]||{_errors:[]},u=u[p],d++}}};return s(this),n}static assert(e){if(!(e instanceof Qi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Qi.create=t=>new Qi(t);const yc=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===Ot.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,yr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${yr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${yr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${yr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:yr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,yr.assertNever(t)}return{message:r}};let lI=yc;function xD(t){lI=t}function Em(){return lI}const Nm=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],l={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let u="";const d=n.filter(p=>!!p).slice().reverse();for(const p of d)u=p(l,{data:e,defaultError:u}).message;return{...s,path:a,message:u}},SD=[];function xt(t,e){const r=Em(),n=Nm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===yc?void 0:yc].filter(s=>!!s)});t.common.issues.push(n)}class Jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Gt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,l=await s.value;n.push({key:a,value:l})}return Jn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:l}=s;if(a.status==="aborted"||l.status==="aborted")return Gt;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(n[a.value]=l.value)}return{status:e.value,value:n}}}const Gt=Object.freeze({status:"aborted"}),Uu=t=>({status:"dirty",value:t}),li=t=>({status:"valid",value:t}),$b=t=>t.status==="aborted",Wb=t=>t.status==="dirty",Ql=t=>t.status==="valid",af=t=>typeof Promise<"u"&&t instanceof Promise;function km(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function uI(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Mt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Mt||(Mt={}));var Fd,Ld;class fo{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const t1=(t,e)=>{if(Ql(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qi(t.common.issues);return this._error=r,this._error}}};function ar(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{var d,p;const{message:g}=t;return l.code==="invalid_enum_value"?{message:g??u.defaultError}:typeof u.data>"u"?{message:(d=g??n)!==null&&d!==void 0?d:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(p=g??r)!==null&&p!==void 0?p:u.defaultError}},description:s}}class cr{get description(){return this._def.description}_getType(e){return $o(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:$o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jn,ctx:{common:e.parent.common,data:e.data,parsedType:$o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(af(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$o(e)},a=this._parseSync({data:e,path:s.path,parent:s});return t1(s,a)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$o(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return Ql(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((n=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>Ql(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$o(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await (af(s)?s:Promise.resolve(s));return t1(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const l=e(s),u=()=>a.addIssue({code:it.custom,...n(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ws({schema:this,typeName:Qt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return uo.create(this,this._def)}nullable(){return Ha.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ms.create(this)}promise(){return vc.create(this,this._def)}or(e){return df.create([this,e],this._def)}and(e){return ff.create(this,e,this._def)}transform(e){return new Ws({...ar(this._def),schema:this,typeName:Qt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new gf({...ar(this._def),innerType:this,defaultValue:r,typeName:Qt.ZodDefault})}brand(){return new Dw({typeName:Qt.ZodBranded,type:this,...ar(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new vf({...ar(this._def),innerType:this,catchValue:r,typeName:Qt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Wf.create(this,e)}readonly(){return _f.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ED=/^c[^\s-]{8,}$/i,ND=/^[0-9a-z]+$/,kD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ID=/^[a-z0-9_-]{21}$/i,TD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,CD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let W_;const AD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,DD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MD=new RegExp(`^${cI}$`);function dI(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function BD(t){return new RegExp(`^${dI(t)}$`)}function fI(t){let e=`${cI}T${dI(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function $D(t,e){return!!((e==="v4"||!e)&&AD.test(t)||(e==="v6"||!e)&&FD.test(t))}function WD(t,e){if(!TD.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function zD(t,e){return!!((e==="v4"||!e)&&PD.test(t)||(e==="v6"||!e)&&LD.test(t))}class Ds extends cr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ot.string){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:Ot.string,received:a.parsedType}),Gt}const n=new Jn;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),xt(s,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),xt(s,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?xt(s,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&xt(s,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")qD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"email",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")W_||(W_=new RegExp(RD,"u")),W_.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"emoji",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")OD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"uuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")ID.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"nanoid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")ED.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"cuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ND.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"cuid2",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")kD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"ulid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),xt(s,{validation:"url",code:it.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"regex",code:it.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?fI(a).test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?MD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?BD(a).test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?CD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"duration",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?$D(e.data,a.version)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"ip",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?WD(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"jwt",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?zD(e.data,a.version)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"cidr",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?jD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"base64",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?DD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"base64url",code:it.invalid_string,message:a.message}),n.dirty()):yr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:it.invalid_string,...Mt.errToObj(n)})}_addCheck(e){return new Ds({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Mt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Mt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Mt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Mt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Mt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Mt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Mt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Mt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Mt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Mt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Mt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Mt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Mt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Mt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Mt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Mt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Mt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Mt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Mt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Mt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Mt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Mt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Mt.errToObj(r)})}nonempty(e){return this.min(1,Mt.errToObj(e))}trim(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ds.create=t=>{var e;return new Ds({checks:[],typeName:Qt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ar(t)})};function UD(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(t.toFixed(s).replace(".","")),l=parseInt(e.toFixed(s).replace(".",""));return a%l/Math.pow(10,s)}class za extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ot.number){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:Ot.number,received:a.parsedType}),Gt}let n;const s=new Jn;for(const a of this._def.checks)a.kind==="int"?yr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?UD(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_finite,message:a.message}),s.dirty()):yr.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Mt.toString(r))}setLimit(e,r,n,s){return new za({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Mt.toString(s)}]})}_addCheck(e){return new za({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Mt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}za.create=t=>new za({checks:[],typeName:Qt.ZodNumber,coerce:t?.coerce||!1,...ar(t)});class Ua extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ot.bigint)return this._getInvalidInput(e);let n;const s=new Jn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):yr.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:Ot.bigint,received:r.parsedType}),Gt}gte(e,r){return this.setLimit("min",e,!0,Mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Mt.toString(r))}setLimit(e,r,n,s){return new Ua({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Mt.toString(s)}]})}_addCheck(e){return new Ua({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ua.create=t=>{var e;return new Ua({checks:[],typeName:Qt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ar(t)})};class lf extends cr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ot.boolean){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:Ot.boolean,received:n.parsedType}),Gt}return li(e.data)}}lf.create=t=>new lf({typeName:Qt.ZodBoolean,coerce:t?.coerce||!1,...ar(t)});class Kl extends cr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ot.date){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:Ot.date,received:a.parsedType}),Gt}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_date}),Gt}const n=new Jn;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),xt(s,{code:it.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),xt(s,{code:it.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):yr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kl({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Mt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Mt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Kl.create=t=>new Kl({checks:[],coerce:t?.coerce||!1,typeName:Qt.ZodDate,...ar(t)});class Om extends cr{_parse(e){if(this._getType(e)!==Ot.symbol){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:Ot.symbol,received:n.parsedType}),Gt}return li(e.data)}}Om.create=t=>new Om({typeName:Qt.ZodSymbol,...ar(t)});class uf extends cr{_parse(e){if(this._getType(e)!==Ot.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:Ot.undefined,received:n.parsedType}),Gt}return li(e.data)}}uf.create=t=>new uf({typeName:Qt.ZodUndefined,...ar(t)});class cf extends cr{_parse(e){if(this._getType(e)!==Ot.null){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:Ot.null,received:n.parsedType}),Gt}return li(e.data)}}cf.create=t=>new cf({typeName:Qt.ZodNull,...ar(t)});class gc extends cr{constructor(){super(...arguments),this._any=!0}_parse(e){return li(e.data)}}gc.create=t=>new gc({typeName:Qt.ZodAny,...ar(t)});class zl extends cr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return li(e.data)}}zl.create=t=>new zl({typeName:Qt.ZodUnknown,...ar(t)});class Ko extends cr{_parse(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:Ot.never,received:r.parsedType}),Gt}}Ko.create=t=>new Ko({typeName:Qt.ZodNever,...ar(t)});class Im extends cr{_parse(e){if(this._getType(e)!==Ot.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:Ot.void,received:n.parsedType}),Gt}return li(e.data)}}Im.create=t=>new Im({typeName:Qt.ZodVoid,...ar(t)});class Ms extends cr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Ot.array)return xt(r,{code:it.invalid_type,expected:Ot.array,received:r.parsedType}),Gt;if(s.exactLength!==null){const l=r.data.length>s.exactLength.value,u=r.data.length<s.exactLength.value;(l||u)&&(xt(r,{code:l?it.too_big:it.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(xt(r,{code:it.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(xt(r,{code:it.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,u)=>s.type._parseAsync(new fo(r,l,r.path,u)))).then(l=>Jn.mergeArray(n,l));const a=[...r.data].map((l,u)=>s.type._parseSync(new fo(r,l,r.path,u)));return Jn.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ms({...this._def,minLength:{value:e,message:Mt.toString(r)}})}max(e,r){return new Ms({...this._def,maxLength:{value:e,message:Mt.toString(r)}})}length(e,r){return new Ms({...this._def,exactLength:{value:e,message:Mt.toString(r)}})}nonempty(e){return this.min(1,e)}}Ms.create=(t,e)=>new Ms({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Qt.ZodArray,...ar(e)});function Bu(t){if(t instanceof sn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=uo.create(Bu(n))}return new sn({...t._def,shape:()=>e})}else return t instanceof Ms?new Ms({...t._def,type:Bu(t.element)}):t instanceof uo?uo.create(Bu(t.unwrap())):t instanceof Ha?Ha.create(Bu(t.unwrap())):t instanceof ho?ho.create(t.items.map(e=>Bu(e))):t}class sn extends cr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=yr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ot.object){const p=this._getOrReturnCtx(e);return xt(p,{code:it.invalid_type,expected:Ot.object,received:p.parsedType}),Gt}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ko&&this._def.unknownKeys==="strip"))for(const p in s.data)l.includes(p)||u.push(p);const d=[];for(const p of l){const g=a[p],w=s.data[p];d.push({key:{status:"valid",value:p},value:g._parse(new fo(s,w,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof Ko){const p=this._def.unknownKeys;if(p==="passthrough")for(const g of u)d.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(p==="strict")u.length>0&&(xt(s,{code:it.unrecognized_keys,keys:u}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const g of u){const w=s.data[g];d.push({key:{status:"valid",value:g},value:p._parse(new fo(s,w,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const g of d){const w=await g.key,N=await g.value;p.push({key:w,value:N,alwaysSet:g.alwaysSet})}return p}).then(p=>Jn.mergeObjectSync(n,p)):Jn.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return Mt.errToObj,new sn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a,l,u;const d=(l=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=Mt.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new sn({...this._def,unknownKeys:"strip"})}passthrough(){return new sn({...this._def,unknownKeys:"passthrough"})}extend(e){return new sn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new sn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new sn({...this._def,catchall:e})}pick(e){const r={};return yr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new sn({...this._def,shape:()=>r})}omit(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new sn({...this._def,shape:()=>r})}deepPartial(){return Bu(this)}partial(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new sn({...this._def,shape:()=>r})}required(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof uo;)a=a._def.innerType;r[n]=a}}),new sn({...this._def,shape:()=>r})}keyof(){return hI(yr.objectKeys(this.shape))}}sn.create=(t,e)=>new sn({shape:()=>t,unknownKeys:"strip",catchall:Ko.create(),typeName:Qt.ZodObject,...ar(e)});sn.strictCreate=(t,e)=>new sn({shape:()=>t,unknownKeys:"strict",catchall:Ko.create(),typeName:Qt.ZodObject,...ar(e)});sn.lazycreate=(t,e)=>new sn({shape:t,unknownKeys:"strip",catchall:Ko.create(),typeName:Qt.ZodObject,...ar(e)});class df extends cr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new Qi(u.ctx.common.issues));return xt(r,{code:it.invalid_union,unionErrors:l}),Gt}if(r.common.async)return Promise.all(n.map(async a=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(s);{let a;const l=[];for(const d of n){const p={...r,common:{...r.common,issues:[]},parent:null},g=d._parseSync({data:r.data,path:r.path,parent:p});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:p}),p.common.issues.length&&l.push(p.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(d=>new Qi(d));return xt(r,{code:it.invalid_union,unionErrors:u}),Gt}}get options(){return this._def.options}}df.create=(t,e)=>new df({options:t,typeName:Qt.ZodUnion,...ar(e)});const Do=t=>t instanceof pf?Do(t.schema):t instanceof Ws?Do(t.innerType()):t instanceof mf?[t.value]:t instanceof Va?t.options:t instanceof yf?yr.objectValues(t.enum):t instanceof gf?Do(t._def.innerType):t instanceof uf?[void 0]:t instanceof cf?[null]:t instanceof uo?[void 0,...Do(t.unwrap())]:t instanceof Ha?[null,...Do(t.unwrap())]:t instanceof Dw||t instanceof _f?Do(t.unwrap()):t instanceof vf?Do(t._def.innerType):[];class xy extends cr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ot.object)return xt(r,{code:it.invalid_type,expected:Ot.object,received:r.parsedType}),Gt;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xt(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const a of r){const l=Do(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,a)}}return new xy({typeName:Qt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...ar(n)})}}function zb(t,e){const r=$o(t),n=$o(e);if(t===e)return{valid:!0,data:t};if(r===Ot.object&&n===Ot.object){const s=yr.objectKeys(e),a=yr.objectKeys(t).filter(u=>s.indexOf(u)!==-1),l={...t,...e};for(const u of a){const d=zb(t[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(r===Ot.array&&n===Ot.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const l=t[a],u=e[a],d=zb(l,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return r===Ot.date&&n===Ot.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ff extends cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,l)=>{if($b(a)||$b(l))return Gt;const u=zb(a.value,l.value);return u.valid?((Wb(a)||Wb(l))&&r.dirty(),{status:r.value,value:u.data}):(xt(n,{code:it.invalid_intersection_types}),Gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ff.create=(t,e,r)=>new ff({left:t,right:e,typeName:Qt.ZodIntersection,...ar(r)});class ho extends cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ot.array)return xt(n,{code:it.invalid_type,expected:Ot.array,received:n.parsedType}),Gt;if(n.data.length<this._def.items.length)return xt(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Gt;!this._def.rest&&n.data.length>this._def.items.length&&(xt(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new fo(n,l,n.path,u)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>Jn.mergeArray(r,l)):Jn.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new ho({...this._def,rest:e})}}ho.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ho({items:t,typeName:Qt.ZodTuple,rest:null,...ar(e)})};class hf extends cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ot.object)return xt(n,{code:it.invalid_type,expected:Ot.object,received:n.parsedType}),Gt;const s=[],a=this._def.keyType,l=this._def.valueType;for(const u in n.data)s.push({key:a._parse(new fo(n,u,n.path,u)),value:l._parse(new fo(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Jn.mergeObjectAsync(r,s):Jn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof cr?new hf({keyType:e,valueType:r,typeName:Qt.ZodRecord,...ar(n)}):new hf({keyType:Ds.create(),valueType:e,typeName:Qt.ZodRecord,...ar(r)})}}class Tm extends cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ot.map)return xt(n,{code:it.invalid_type,expected:Ot.map,received:n.parsedType}),Gt;const s=this._def.keyType,a=this._def.valueType,l=[...n.data.entries()].map(([u,d],p)=>({key:s._parse(new fo(n,u,n.path,[p,"key"])),value:a._parse(new fo(n,d,n.path,[p,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const p=await d.key,g=await d.value;if(p.status==="aborted"||g.status==="aborted")return Gt;(p.status==="dirty"||g.status==="dirty")&&r.dirty(),u.set(p.value,g.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of l){const p=d.key,g=d.value;if(p.status==="aborted"||g.status==="aborted")return Gt;(p.status==="dirty"||g.status==="dirty")&&r.dirty(),u.set(p.value,g.value)}return{status:r.value,value:u}}}}Tm.create=(t,e,r)=>new Tm({valueType:e,keyType:t,typeName:Qt.ZodMap,...ar(r)});class Gl extends cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ot.set)return xt(n,{code:it.invalid_type,expected:Ot.set,received:n.parsedType}),Gt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(xt(n,{code:it.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(xt(n,{code:it.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function l(d){const p=new Set;for(const g of d){if(g.status==="aborted")return Gt;g.status==="dirty"&&r.dirty(),p.add(g.value)}return{status:r.value,value:p}}const u=[...n.data.values()].map((d,p)=>a._parse(new fo(n,d,n.path,p)));return n.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,r){return new Gl({...this._def,minSize:{value:e,message:Mt.toString(r)}})}max(e,r){return new Gl({...this._def,maxSize:{value:e,message:Mt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Gl.create=(t,e)=>new Gl({valueType:t,minSize:null,maxSize:null,typeName:Qt.ZodSet,...ar(e)});class rc extends cr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ot.function)return xt(r,{code:it.invalid_type,expected:Ot.function,received:r.parsedType}),Gt;function n(u,d){return Nm({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Em(),yc].filter(p=>!!p),issueData:{code:it.invalid_arguments,argumentsError:d}})}function s(u,d){return Nm({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Em(),yc].filter(p=>!!p),issueData:{code:it.invalid_return_type,returnTypeError:d}})}const a={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof vc){const u=this;return li(async function(...d){const p=new Qi([]),g=await u._def.args.parseAsync(d,a).catch(k=>{throw p.addIssue(n(d,k)),p}),w=await Reflect.apply(l,this,g);return await u._def.returns._def.type.parseAsync(w,a).catch(k=>{throw p.addIssue(s(w,k)),p})})}else{const u=this;return li(function(...d){const p=u._def.args.safeParse(d,a);if(!p.success)throw new Qi([n(d,p.error)]);const g=Reflect.apply(l,this,p.data),w=u._def.returns.safeParse(g,a);if(!w.success)throw new Qi([s(g,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new rc({...this._def,args:ho.create(e).rest(zl.create())})}returns(e){return new rc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new rc({args:e||ho.create([]).rest(zl.create()),returns:r||zl.create(),typeName:Qt.ZodFunction,...ar(n)})}}class pf extends cr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}pf.create=(t,e)=>new pf({getter:t,typeName:Qt.ZodLazy,...ar(e)});class mf extends cr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),Gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}mf.create=(t,e)=>new mf({value:t,typeName:Qt.ZodLiteral,...ar(e)});function hI(t,e){return new Va({values:t,typeName:Qt.ZodEnum,...ar(e)})}class Va extends cr{constructor(){super(...arguments),Fd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{expected:yr.joinValues(n),received:r.parsedType,code:it.invalid_type}),Gt}if(km(this,Fd)||uI(this,Fd,new Set(this._def.values)),!km(this,Fd).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{received:r.data,code:it.invalid_enum_value,options:n}),Gt}return li(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Va.create(e,{...this._def,...r})}exclude(e,r=this._def){return Va.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Fd=new WeakMap;Va.create=hI;class yf extends cr{constructor(){super(...arguments),Ld.set(this,void 0)}_parse(e){const r=yr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ot.string&&n.parsedType!==Ot.number){const s=yr.objectValues(r);return xt(n,{expected:yr.joinValues(s),received:n.parsedType,code:it.invalid_type}),Gt}if(km(this,Ld)||uI(this,Ld,new Set(yr.getValidEnumValues(this._def.values))),!km(this,Ld).has(e.data)){const s=yr.objectValues(r);return xt(n,{received:n.data,code:it.invalid_enum_value,options:s}),Gt}return li(e.data)}get enum(){return this._def.values}}Ld=new WeakMap;yf.create=(t,e)=>new yf({values:t,typeName:Qt.ZodNativeEnum,...ar(e)});class vc extends cr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ot.promise&&r.common.async===!1)return xt(r,{code:it.invalid_type,expected:Ot.promise,received:r.parsedType}),Gt;const n=r.parsedType===Ot.promise?r.data:Promise.resolve(r.data);return li(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}vc.create=(t,e)=>new vc({type:t,typeName:Qt.ZodPromise,...ar(e)});class Ws extends cr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:l=>{xt(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const l=s.transform(n.data,a);if(n.common.async)return Promise.resolve(l).then(async u=>{if(r.value==="aborted")return Gt;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?Gt:d.status==="dirty"||r.value==="dirty"?Uu(d.value):d});{if(r.value==="aborted")return Gt;const u=this._def.schema._parseSync({data:l,path:n.path,parent:n});return u.status==="aborted"?Gt:u.status==="dirty"||r.value==="dirty"?Uu(u.value):u}}if(s.type==="refinement"){const l=u=>{const d=s.refinement(u,a);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Gt:(u.status==="dirty"&&r.dirty(),l(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Gt:(u.status==="dirty"&&r.dirty(),l(u.value).then(()=>({status:r.value,value:u.value}))))}if(s.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ql(l))return l;const u=s.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>Ql(l)?Promise.resolve(s.transform(l.value,a)).then(u=>({status:r.value,value:u})):l);yr.assertNever(s)}}Ws.create=(t,e,r)=>new Ws({schema:t,typeName:Qt.ZodEffects,effect:e,...ar(r)});Ws.createWithPreprocess=(t,e,r)=>new Ws({schema:e,effect:{type:"preprocess",transform:t},typeName:Qt.ZodEffects,...ar(r)});class uo extends cr{_parse(e){return this._getType(e)===Ot.undefined?li(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uo.create=(t,e)=>new uo({innerType:t,typeName:Qt.ZodOptional,...ar(e)});class Ha extends cr{_parse(e){return this._getType(e)===Ot.null?li(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ha.create=(t,e)=>new Ha({innerType:t,typeName:Qt.ZodNullable,...ar(e)});class gf extends cr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ot.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}gf.create=(t,e)=>new gf({innerType:t,typeName:Qt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ar(e)});class vf extends cr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return af(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qi(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Qi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}vf.create=(t,e)=>new vf({innerType:t,typeName:Qt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ar(e)});class Cm extends cr{_parse(e){if(this._getType(e)!==Ot.nan){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:Ot.nan,received:n.parsedType}),Gt}return{status:"valid",value:e.data}}}Cm.create=t=>new Cm({typeName:Qt.ZodNaN,...ar(t)});const VD=Symbol("zod_brand");class Dw extends cr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wf extends cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Gt:a.status==="dirty"?(r.dirty(),Uu(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Gt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Wf({in:e,out:r,typeName:Qt.ZodPipeline})}}class _f extends cr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Ql(s)&&(s.value=Object.freeze(s.value)),s);return af(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}_f.create=(t,e)=>new _f({innerType:t,typeName:Qt.ZodReadonly,...ar(e)});function pI(t,e={},r){return t?gc.create().superRefine((n,s)=>{var a,l;if(!t(n)){const u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,d=(l=(a=u.fatal)!==null&&a!==void 0?a:r)!==null&&l!==void 0?l:!0,p=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...p,fatal:d})}}):gc.create()}const HD={object:sn.lazycreate};var Qt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Qt||(Qt={}));const QD=(t,e={message:`Input not instance of ${t.name}`})=>pI(r=>r instanceof t,e),mI=Ds.create,yI=za.create,KD=Cm.create,GD=Ua.create,gI=lf.create,JD=Kl.create,ZD=Om.create,YD=uf.create,XD=cf.create,eM=gc.create,tM=zl.create,rM=Ko.create,nM=Im.create,iM=Ms.create,sM=sn.create,oM=sn.strictCreate,aM=df.create,lM=xy.create,uM=ff.create,cM=ho.create,dM=hf.create,fM=Tm.create,hM=Gl.create,pM=rc.create,mM=pf.create,yM=mf.create,gM=Va.create,vM=yf.create,_M=vc.create,r1=Ws.create,bM=uo.create,wM=Ha.create,xM=Ws.createWithPreprocess,SM=Wf.create,EM=()=>mI().optional(),NM=()=>yI().optional(),kM=()=>gI().optional(),OM={string:t=>Ds.create({...t,coerce:!0}),number:t=>za.create({...t,coerce:!0}),boolean:t=>lf.create({...t,coerce:!0}),bigint:t=>Ua.create({...t,coerce:!0}),date:t=>Kl.create({...t,coerce:!0})},IM=Gt;var be=Object.freeze({__proto__:null,defaultErrorMap:yc,setErrorMap:xD,getErrorMap:Em,makeIssue:Nm,EMPTY_PATH:SD,addIssueToContext:xt,ParseStatus:Jn,INVALID:Gt,DIRTY:Uu,OK:li,isAborted:$b,isDirty:Wb,isValid:Ql,isAsync:af,get util(){return yr},get objectUtil(){return Bb},ZodParsedType:Ot,getParsedType:$o,ZodType:cr,datetimeRegex:fI,ZodString:Ds,ZodNumber:za,ZodBigInt:Ua,ZodBoolean:lf,ZodDate:Kl,ZodSymbol:Om,ZodUndefined:uf,ZodNull:cf,ZodAny:gc,ZodUnknown:zl,ZodNever:Ko,ZodVoid:Im,ZodArray:Ms,ZodObject:sn,ZodUnion:df,ZodDiscriminatedUnion:xy,ZodIntersection:ff,ZodTuple:ho,ZodRecord:hf,ZodMap:Tm,ZodSet:Gl,ZodFunction:rc,ZodLazy:pf,ZodLiteral:mf,ZodEnum:Va,ZodNativeEnum:yf,ZodPromise:vc,ZodEffects:Ws,ZodTransformer:Ws,ZodOptional:uo,ZodNullable:Ha,ZodDefault:gf,ZodCatch:vf,ZodNaN:Cm,BRAND:VD,ZodBranded:Dw,ZodPipeline:Wf,ZodReadonly:_f,custom:pI,Schema:cr,ZodSchema:cr,late:HD,get ZodFirstPartyTypeKind(){return Qt},coerce:OM,any:eM,array:iM,bigint:GD,boolean:gI,date:JD,discriminatedUnion:lM,effect:r1,enum:gM,function:pM,instanceof:QD,intersection:uM,lazy:mM,literal:yM,map:fM,nan:KD,nativeEnum:vM,never:rM,null:XD,nullable:wM,number:yI,object:sM,oboolean:kM,onumber:NM,optional:bM,ostring:EM,pipeline:SM,preprocess:xM,promise:_M,record:dM,set:hM,strictObject:oM,string:mI,symbol:ZD,transformer:r1,tuple:cM,undefined:YD,union:aM,unknown:tM,void:nM,NEVER:IM,ZodIssueCode:it,quotelessJson:wD,ZodError:Qi});const TM=be.object({page:be.number().gte(0,"Page must be greater than zero"),size:be.number().gte(1,"Page size must be greater than one to get any data")}),gs=be.object({id:be.string().min(1)}),Mw=be.object({message:be.string()}),vs=be.object({id:be.string().optional(),idIn:be.array(be.string()).optional(),fulltext:be.string().optional()}),CM=gs.merge(be.object({code:be.string().min(1),label:be.string().min(1),group:be.string().nullish(),sort:be.number().default(0)}));var Au={},Fo={},Mr={},qs={},n1;function vI(){if(n1)return qs;n1=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.anumber=t,qs.number=t,qs.abytes=r,qs.bytes=r,qs.ahash=n,qs.aexists=s,qs.aoutput=a;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error("positive integer expected, got "+u)}function e(u){return u instanceof Uint8Array||ArrayBuffer.isView(u)&&u.constructor.name==="Uint8Array"}function r(u,...d){if(!e(u))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(u.length))throw new Error("Uint8Array expected of length "+d+", got length="+u.length)}function n(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}function s(u,d=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(d&&u.finished)throw new Error("Hash#digest() has already been called")}function a(u,d){r(u);const p=d.outputLen;if(u.length<p)throw new Error("digestInto() expects output buffer of length at least "+p)}const l={number:t,bytes:r,hash:n,exists:s,output:a};return qs.default=l,qs}var tr={},i1;function qM(){if(i1)return tr;i1=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.add5L=tr.add5H=tr.add4H=tr.add4L=tr.add3H=tr.add3L=tr.rotlBL=tr.rotlBH=tr.rotlSL=tr.rotlSH=tr.rotr32L=tr.rotr32H=tr.rotrBL=tr.rotrBH=tr.rotrSL=tr.rotrSH=tr.shrSL=tr.shrSH=tr.toBig=void 0,tr.fromBig=r,tr.split=n,tr.add=D;const t=BigInt(2**32-1),e=BigInt(32);function r(U,re=!1){return re?{h:Number(U&t),l:Number(U>>e&t)}:{h:Number(U>>e&t)|0,l:Number(U&t)|0}}function n(U,re=!1){let M=new Uint32Array(U.length),se=new Uint32Array(U.length);for(let Z=0;Z<U.length;Z++){const{h:pe,l:Ce}=r(U[Z],re);[M[Z],se[Z]]=[pe,Ce]}return[M,se]}const s=(U,re)=>BigInt(U>>>0)<<e|BigInt(re>>>0);tr.toBig=s;const a=(U,re,M)=>U>>>M;tr.shrSH=a;const l=(U,re,M)=>U<<32-M|re>>>M;tr.shrSL=l;const u=(U,re,M)=>U>>>M|re<<32-M;tr.rotrSH=u;const d=(U,re,M)=>U<<32-M|re>>>M;tr.rotrSL=d;const p=(U,re,M)=>U<<64-M|re>>>M-32;tr.rotrBH=p;const g=(U,re,M)=>U>>>M-32|re<<64-M;tr.rotrBL=g;const w=(U,re)=>re;tr.rotr32H=w;const N=(U,re)=>U;tr.rotr32L=N;const k=(U,re,M)=>U<<M|re>>>32-M;tr.rotlSH=k;const I=(U,re,M)=>re<<M|U>>>32-M;tr.rotlSL=I;const T=(U,re,M)=>re<<M-32|U>>>64-M;tr.rotlBH=T;const A=(U,re,M)=>U<<M-32|re>>>64-M;tr.rotlBL=A;function D(U,re,M,se){const Z=(re>>>0)+(se>>>0);return{h:U+M+(Z/2**32|0)|0,l:Z|0}}const L=(U,re,M)=>(U>>>0)+(re>>>0)+(M>>>0);tr.add3L=L;const $=(U,re,M,se)=>re+M+se+(U/2**32|0)|0;tr.add3H=$;const V=(U,re,M,se)=>(U>>>0)+(re>>>0)+(M>>>0)+(se>>>0);tr.add4L=V;const K=(U,re,M,se,Z)=>re+M+se+Z+(U/2**32|0)|0;tr.add4H=K;const B=(U,re,M,se,Z)=>(U>>>0)+(re>>>0)+(M>>>0)+(se>>>0)+(Z>>>0);tr.add5L=B;const J=(U,re,M,se,Z,pe)=>re+M+se+Z+pe+(U/2**32|0)|0;tr.add5H=J;const ne={fromBig:r,split:n,toBig:s,shrSH:a,shrSL:l,rotrSH:u,rotrSL:d,rotrBH:p,rotrBL:g,rotr32H:w,rotr32L:N,rotlSH:k,rotlSL:I,rotlBH:T,rotlBL:A,add:D,add3L:L,add3H:$,add4L:V,add4H:K,add5H:J,add5L:B};return tr.default=ne,tr}var z_={},Id={},s1;function RM(){return s1||(s1=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.crypto=void 0,Id.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Id}var o1;function AM(){return o1||(o1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=n,t.byteSwap32=g,t.bytesToHex=N,t.hexToBytes=T,t.asyncLoop=D,t.utf8ToBytes=L,t.toBytes=$,t.concatBytes=V,t.checkOpts=B,t.wrapConstructor=J,t.wrapConstructorWithOpts=ne,t.wrapXOFConstructorWithOpts=U,t.randomBytes=re;const e=RM(),r=vI();function n(M){return M instanceof Uint8Array||ArrayBuffer.isView(M)&&M.constructor.name==="Uint8Array"}const s=M=>new Uint8Array(M.buffer,M.byteOffset,M.byteLength);t.u8=s;const a=M=>new Uint32Array(M.buffer,M.byteOffset,Math.floor(M.byteLength/4));t.u32=a;const l=M=>new DataView(M.buffer,M.byteOffset,M.byteLength);t.createView=l;const u=(M,se)=>M<<32-se|M>>>se;t.rotr=u;const d=(M,se)=>M<<se|M>>>32-se>>>0;t.rotl=d,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const p=M=>M<<24&0xff000000|M<<8&0xff0000|M>>>8&65280|M>>>24&255;t.byteSwap=p,t.byteSwapIfBE=t.isLE?M=>M:M=>(0,t.byteSwap)(M);function g(M){for(let se=0;se<M.length;se++)M[se]=(0,t.byteSwap)(M[se])}const w=Array.from({length:256},(M,se)=>se.toString(16).padStart(2,"0"));function N(M){(0,r.abytes)(M);let se="";for(let Z=0;Z<M.length;Z++)se+=w[M[Z]];return se}const k={_0:48,_9:57,A:65,F:70,a:97,f:102};function I(M){if(M>=k._0&&M<=k._9)return M-k._0;if(M>=k.A&&M<=k.F)return M-(k.A-10);if(M>=k.a&&M<=k.f)return M-(k.a-10)}function T(M){if(typeof M!="string")throw new Error("hex string expected, got "+typeof M);const se=M.length,Z=se/2;if(se%2)throw new Error("hex string expected, got unpadded hex of length "+se);const pe=new Uint8Array(Z);for(let Ce=0,Te=0;Ce<Z;Ce++,Te+=2){const Fe=I(M.charCodeAt(Te)),ve=I(M.charCodeAt(Te+1));if(Fe===void 0||ve===void 0){const me=M[Te]+M[Te+1];throw new Error('hex string expected, got non-hex character "'+me+'" at index '+Te)}pe[Ce]=Fe*16+ve}return pe}const A=async()=>{};t.nextTick=A;async function D(M,se,Z){let pe=Date.now();for(let Ce=0;Ce<M;Ce++){Z(Ce);const Te=Date.now()-pe;Te>=0&&Te<se||(await (0,t.nextTick)(),pe+=Te)}}function L(M){if(typeof M!="string")throw new Error("utf8ToBytes expected string, got "+typeof M);return new Uint8Array(new TextEncoder().encode(M))}function $(M){return typeof M=="string"&&(M=L(M)),(0,r.abytes)(M),M}function V(...M){let se=0;for(let pe=0;pe<M.length;pe++){const Ce=M[pe];(0,r.abytes)(Ce),se+=Ce.length}const Z=new Uint8Array(se);for(let pe=0,Ce=0;pe<M.length;pe++){const Te=M[pe];Z.set(Te,Ce),Ce+=Te.length}return Z}class K{clone(){return this._cloneInto()}}t.Hash=K;function B(M,se){if(se!==void 0&&{}.toString.call(se)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(M,se)}function J(M){const se=pe=>M().update($(pe)).digest(),Z=M();return se.outputLen=Z.outputLen,se.blockLen=Z.blockLen,se.create=()=>M(),se}function ne(M){const se=(pe,Ce)=>M(Ce).update($(pe)).digest(),Z=M({});return se.outputLen=Z.outputLen,se.blockLen=Z.blockLen,se.create=pe=>M(pe),se}function U(M){const se=(pe,Ce)=>M(Ce).update($(pe)).digest(),Z=M({});return se.outputLen=Z.outputLen,se.blockLen=Z.blockLen,se.create=pe=>M(pe),se}function re(M=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(M));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(M);throw new Error("crypto.getRandomValues must be defined")}}(z_)),z_}var a1;function PM(){if(a1)return Mr;a1=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.shake256=Mr.shake128=Mr.keccak_512=Mr.keccak_384=Mr.keccak_256=Mr.keccak_224=Mr.sha3_512=Mr.sha3_384=Mr.sha3_256=Mr.sha3_224=Mr.Keccak=void 0,Mr.keccakP=A;const t=vI(),e=qM(),r=AM(),n=[],s=[],a=[],l=BigInt(0),u=BigInt(1),d=BigInt(2),p=BigInt(7),g=BigInt(256),w=BigInt(113);for(let V=0,K=u,B=1,J=0;V<24;V++){[B,J]=[J,(2*B+3*J)%5],n.push(2*(5*J+B)),s.push((V+1)*(V+2)/2%64);let ne=l;for(let U=0;U<7;U++)K=(K<<u^(K>>p)*w)%g,K&d&&(ne^=u<<(u<<BigInt(U))-u);a.push(ne)}const[N,k]=(0,e.split)(a,!0),I=(V,K,B)=>B>32?(0,e.rotlBH)(V,K,B):(0,e.rotlSH)(V,K,B),T=(V,K,B)=>B>32?(0,e.rotlBL)(V,K,B):(0,e.rotlSL)(V,K,B);function A(V,K=24){const B=new Uint32Array(10);for(let J=24-K;J<24;J++){for(let re=0;re<10;re++)B[re]=V[re]^V[re+10]^V[re+20]^V[re+30]^V[re+40];for(let re=0;re<10;re+=2){const M=(re+8)%10,se=(re+2)%10,Z=B[se],pe=B[se+1],Ce=I(Z,pe,1)^B[M],Te=T(Z,pe,1)^B[M+1];for(let Fe=0;Fe<50;Fe+=10)V[re+Fe]^=Ce,V[re+Fe+1]^=Te}let ne=V[2],U=V[3];for(let re=0;re<24;re++){const M=s[re],se=I(ne,U,M),Z=T(ne,U,M),pe=n[re];ne=V[pe],U=V[pe+1],V[pe]=se,V[pe+1]=Z}for(let re=0;re<50;re+=10){for(let M=0;M<10;M++)B[M]=V[re+M];for(let M=0;M<10;M++)V[re+M]^=~B[(M+2)%10]&B[(M+4)%10]}V[0]^=N[J],V[1]^=k[J]}B.fill(0)}class D extends r.Hash{constructor(K,B,J,ne=!1,U=24){if(super(),this.blockLen=K,this.suffix=B,this.outputLen=J,this.enableXOF=ne,this.rounds=U,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(J),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),A(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(K){(0,t.aexists)(this);const{blockLen:B,state:J}=this;K=(0,r.toBytes)(K);const ne=K.length;for(let U=0;U<ne;){const re=Math.min(B-this.pos,ne-U);for(let M=0;M<re;M++)J[this.pos++]^=K[U++];this.pos===B&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:K,suffix:B,pos:J,blockLen:ne}=this;K[J]^=B,B&128&&J===ne-1&&this.keccak(),K[ne-1]^=128,this.keccak()}writeInto(K){(0,t.aexists)(this,!1),(0,t.abytes)(K),this.finish();const B=this.state,{blockLen:J}=this;for(let ne=0,U=K.length;ne<U;){this.posOut>=J&&this.keccak();const re=Math.min(J-this.posOut,U-ne);K.set(B.subarray(this.posOut,this.posOut+re),ne),this.posOut+=re,ne+=re}return K}xofInto(K){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(K)}xof(K){return(0,t.anumber)(K),this.xofInto(new Uint8Array(K))}digestInto(K){if((0,t.aoutput)(K,this),this.finished)throw new Error("digest() was already called");return this.writeInto(K),this.destroy(),K}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(K){const{blockLen:B,suffix:J,outputLen:ne,rounds:U,enableXOF:re}=this;return K||(K=new D(B,J,ne,re,U)),K.state32.set(this.state32),K.pos=this.pos,K.posOut=this.posOut,K.finished=this.finished,K.rounds=U,K.suffix=J,K.outputLen=ne,K.enableXOF=re,K.destroyed=this.destroyed,K}}Mr.Keccak=D;const L=(V,K,B)=>(0,r.wrapConstructor)(()=>new D(K,V,B));Mr.sha3_224=L(6,144,224/8),Mr.sha3_256=L(6,136,256/8),Mr.sha3_384=L(6,104,384/8),Mr.sha3_512=L(6,72,512/8),Mr.keccak_224=L(1,144,224/8),Mr.keccak_256=L(1,136,256/8),Mr.keccak_384=L(1,104,384/8),Mr.keccak_512=L(1,72,512/8);const $=(V,K,B)=>(0,r.wrapXOFConstructorWithOpts)((J={})=>new D(K,V,J.dkLen===void 0?B:J.dkLen,!0));return Mr.shake128=$(31,168,128/8),Mr.shake256=$(31,136,256/8),Mr}var l1;function FM(){if(l1)return Fo;l1=1;const{sha3_512:t}=PM(),e=24,r=32,n=(I=4,T=Math.random)=>{let A="";for(;A.length<I;)A=A+Math.floor(T()*36).toString(36);return A};function s(I){let T=8n,A=0n;for(const D of I.values()){const L=BigInt(D);A=(A<<T)+L}return A}const a=(I="")=>s(t(I)).toString(36).slice(1),l=Array.from({length:26},(I,T)=>String.fromCharCode(T+97)),u=I=>l[Math.floor(I()*l.length)],d=({globalObj:I=typeof pb<"u"?pb:typeof window<"u"?window:{},random:T=Math.random}={})=>{const A=Object.keys(I).toString(),D=A.length?A+n(r,T):n(r,T);return a(D).substring(0,r)},p=I=>()=>I++,g=0x1c6b1f1f,w=({random:I=Math.random,counter:T=p(Math.floor(I()*g)),length:A=e,fingerprint:D=d({random:I})}={})=>function(){const $=u(I),V=Date.now().toString(36),K=T().toString(36),B=n(A,I),J=`${V+B+K+D}`;return`${$+a(J).substring(1,A)}`},N=w(),k=(I,{minLength:T=2,maxLength:A=r}={})=>{const D=I.length,L=/^[0-9a-z]+$/;try{if(typeof I=="string"&&D>=T&&D<=A&&L.test(I))return!0}finally{}return!1};return Fo.getConstants=()=>({defaultLength:e,bigLength:r}),Fo.init=w,Fo.createId=N,Fo.bufToBigInt=s,Fo.createCounter=p,Fo.createFingerprint=d,Fo.isCuid=k,Fo}var u1;function LM(){if(u1)return Au;u1=1;const{createId:t,init:e,getConstants:r,isCuid:n}=FM();return Au.createId=t,Au.init=e,Au.getConstants=r,Au.isCuid=n,Au}var jM=LM();const Kt=jM.createId,_s=({name:t,schema:e,db:r,map:n,select$:s,create$:a,patch$:l,delete$:u,event:d})=>({name:t,schema:e,db:r,async create$({tx:p,entity:g,shape:w}){const N=Kt();await d?.onPreCreate?.({tx:p,entity:g,shape:w}),await a({tx:p}).values(e.entity.parse({...await n?.toCreate?.({entity:g,shape:w})||g,id:N})).execute();const k=await this.getOrThrow$({tx:p,id:N});return await d?.onPostCreate?.({tx:p,entity:k,shape:w}),k},async patch$({tx:p,entity:g,shape:w,where:N,filter:k}){const I=await this.fetchOrThrow$({tx:p,where:N,filter:k,error:"Cannot patch an unknown entity (empty query result)."});await d?.onPrePatch?.({tx:p,entity:g,shape:w}),await l({tx:p}).set(e.entity.partial().parse(await n?.toPatch?.({entity:g,shape:w})||g)).where("id","=",I.id).execute();const T=await this.getOrThrow$({tx:p,id:I.id});return await d?.onPostPatch?.({tx:p,entity:T,shape:w}),T},async delete$({tx:p,where:g,filter:w}){const N=await this.fetchOrThrow$({tx:p,where:g,filter:w,error:"Cannot patch an unknown entity (empty query result)."});return await u({tx:p}).where("id","=",N.id).execute(),N},async fetch$({tx:p,where:g,filter:w}){const N=await s({tx:p,where:g,filter:w,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirst();if(!N)return;const k=e.entity.parse(N);return(e.output??e.entity).parse(await n?.toOutput?.({tx:p,entity:k})||k)},async fetchOrThrow$({tx:p,where:g,filter:w,error:N}){try{const k=e.entity.parse(await s({tx:p,where:g,filter:w,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirstOrThrow());return(e.output??e.entity).parse(await n?.toOutput?.({tx:p,entity:k})||k)}catch(k){throw N?new Error(N):k}},async get$({tx:p,id:g}){return this.fetch$({tx:p,where:{id:g}})},async getOrThrow$({tx:p,id:g,error:w}){return this.fetchOrThrow$({tx:p,where:{id:g},error:w})},async list$({tx:p,where:g,filter:w,cursor:N}){const k=e.output??e.entity;return Promise.all(be.array(e.entity).parse(await s({tx:p,where:g,filter:w,cursor:N,use:["where","filter","cursor","sort"]}).execute()).map(I=>e.entity.parse(I)).map(async I=>k.parse(await n?.toOutput?.({tx:p,entity:I})||I)))},async count$({tx:p,where:g,filter:w}){return{total:(await s({tx:p,use:[]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count,where:(await s({tx:p,where:g,use:["where"]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count,filter:(await s({tx:p,where:g,filter:w,use:["where","filter"]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count}}}),Ub=new Proxy(()=>Ub,{get:()=>Ub}),bs=({entity:t,output:e=t,shape:r,filter:n})=>{const s=Ub();return{entity:t,"~entity":s,"~entity-array":[],"~entity-partial-exclude-id":s,shape:r,"~shape":s,"~shape-partial":s,filter:n,"~filter":s,output:e,"~output":s,"~output-array":[]}},Sa=(t,e)=>Array.from({length:e-t+1},(r,n)=>n+t),DM=({page:t,total:e,siblings:r=1,boundaries:n=1})=>{const s=Math.max(Math.trunc(e),0);if(r*2+3+n*2>=s)return{type:"simple",page:t,total:e,pages:Sa(1,s),start:[],end:[]};const l=Math.max(t-r,n),u=Math.min(t+r,s-n),d=l>n+2,p=u<s-(n+1);return!d&&p?{type:"end",page:t,total:e,start:[],pages:Sa(1,r*2+n+2),end:Sa(e-(n-1),s)}:d&&!p?{type:"start",page:t,total:e,start:Sa(1,n),pages:Sa(e-(n+1+2*r),s),end:[]}:{type:"both",page:t,total:e,start:Sa(1,n),pages:Sa(l,u),end:Sa(s-n+1,s)}};var Kp={exports:{}},MM=Kp.exports,c1;function BM(){return c1||(c1=1,function(t){(function(e,r){t.exports=r()})(MM,function(){var e=Object.prototype.toString;function r(w,N){return w==null?!1:Object.prototype.hasOwnProperty.call(w,N)}function n(w){if(!w||l(w)&&w.length===0)return!0;if(typeof w!="string"){for(var N in w)if(r(w,N))return!1;return!0}return!1}function s(w){return e.call(w)}function a(w){return typeof w=="object"&&s(w)==="[object Object]"}var l=Array.isArray||function(w){return e.call(w)==="[object Array]"};function u(w){return typeof w=="boolean"||s(w)==="[object Boolean]"}function d(w){var N=parseInt(w);return N.toString()===w?N:w}function p(w){w=w||{};var N=function(D){return Object.keys(N).reduce(function(L,$){return $==="create"||typeof N[$]=="function"&&(L[$]=N[$].bind(N,D)),L},{})},k;w.includeInheritedProps?k=function(){return!0}:k=function(D,L){return typeof L=="number"&&Array.isArray(D)||r(D,L)};function I(D,L){if(k(D,L))return D[L]}var T;w.includeInheritedProps?T=function(D,L){typeof L!="string"&&typeof L!="number"&&(L=String(L));var $=I(D,L);if(L==="__proto__"||L==="prototype"||L==="constructor"&&typeof $=="function")throw new Error("For security reasons, object's magic properties cannot be set");return $}:T=function(D,L){return I(D,L)};function A(D,L,$,V){if(typeof L=="number"&&(L=[L]),!L||L.length===0)return D;if(typeof L=="string")return A(D,L.split(".").map(d),$,V);var K=L[0],B=T(D,K);return L.length===1?((B===void 0||!V)&&(D[K]=$),B):(B===void 0&&(typeof L[1]=="number"?D[K]=[]:D[K]={}),A(D[K],L.slice(1),$,V))}return N.has=function(D,L){if(typeof L=="number"?L=[L]:typeof L=="string"&&(L=L.split(".")),!L||L.length===0)return!!D;for(var $=0;$<L.length;$++){var V=d(L[$]);if(typeof V=="number"&&l(D)&&V<D.length||(w.includeInheritedProps?V in Object(D):r(D,V)))D=D[V];else return!1}return!0},N.ensureExists=function(D,L,$){return A(D,L,$,!0)},N.set=function(D,L,$,V){return A(D,L,$,V)},N.insert=function(D,L,$,V){var K=N.get(D,L);V=~~V,l(K)||(K=[],N.set(D,L,K)),K.splice(V,0,$)},N.empty=function(D,L){if(!n(L)&&D!=null){var $,V;if($=N.get(D,L)){if(typeof $=="string")return N.set(D,L,"");if(u($))return N.set(D,L,!1);if(typeof $=="number")return N.set(D,L,0);if(l($))$.length=0;else if(a($))for(V in $)k($,V)&&delete $[V];else return N.set(D,L,null)}}},N.push=function(D,L){var $=N.get(D,L);l($)||($=[],N.set(D,L,$)),$.push.apply($,Array.prototype.slice.call(arguments,2))},N.coalesce=function(D,L,$){for(var V,K=0,B=L.length;K<B;K++)if((V=N.get(D,L[K]))!==void 0)return V;return $},N.get=function(D,L,$){if(typeof L=="number"&&(L=[L]),!L||L.length===0)return D;if(D==null)return $;if(typeof L=="string")return N.get(D,L.split("."),$);var V=d(L[0]),K=T(D,V);return K===void 0?$:L.length===1?K:N.get(D[V],L.slice(1),$)},N.del=function(L,$){if(typeof $=="number"&&($=[$]),L==null||n($))return L;if(typeof $=="string")return N.del(L,$.split("."));var V=d($[0]);if(T(L,V),!k(L,V))return L;if($.length===1)l(L)?L.splice(V,1):delete L[V];else return N.del(L[V],$.slice(1));return L},N}var g=p();return g.create=p,g.withInheritedProps=p({includeInheritedProps:!0}),g})}(Kp)),Kp.exports}var $M=BM();const d1=Ec($M);function ms({number:t,empty:e="-",fraction:r=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:r})}catch(n){return console.error("toHumanNumber",t,n),t.toFixed(2)}}const Bw=({error:t,errors:e,onError:r})=>{const n=e.some(a=>a),s=t instanceof Error;return!n&&s&&r(t),n||s},WM=dr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}});function Sy(){return typeof window<"u"}function nl(t){return _I(t)?(t.nodeName||"").toLowerCase():"#document"}function Oi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vo(t){var e;return(e=(_I(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _I(t){return Sy()?t instanceof Node||t instanceof Oi(t).Node:!1}function $r(t){return Sy()?t instanceof Element||t instanceof Oi(t).Element:!1}function bn(t){return Sy()?t instanceof HTMLElement||t instanceof Oi(t).HTMLElement:!1}function Vb(t){return!Sy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Oi(t).ShadowRoot}function zf(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function zM(t){return["table","td","th"].includes(nl(t))}function Ey(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $w(t){const e=Ny(),r=$r(t)?ys(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function UM(t){let e=Go(t);for(;bn(e)&&!Vo(e);){if($w(e))return e;if(Ey(e))return null;e=Go(e)}return null}function Ny(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vo(t){return["html","body","#document"].includes(nl(t))}function ys(t){return Oi(t).getComputedStyle(t)}function ky(t){return $r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Go(t){if(nl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vb(t)&&t.host||vo(t);return Vb(e)?e.host:e}function bI(t){const e=Go(t);return Vo(e)?t.ownerDocument?t.ownerDocument.body:t.body:bn(e)&&zf(e)?e:bI(e)}function La(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=bI(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),l=Oi(s);if(a){const u=Hb(l);return e.concat(l,l.visualViewport||[],zf(s)?s:[],u&&r?La(u):[])}return e.concat(s,La(s,[],r))}function Hb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Fs(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function Ln(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&Vb(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function Ww(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function wI(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function xI(t){return t.mozInputSource===0&&t.isTrusted?!0:Qb()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function zw(t){return HM()?!1:!Qb()&&t.width===0&&t.height===0||Qb()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function SI(){return/apple/i.test(navigator.vendor)}function Qb(){const t=/android/i;return t.test(Ww())||t.test(wI())}function VM(){return Ww().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function HM(){return wI().includes("jsdom/")}function bf(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function QM(t){return"nativeEvent"in t}function KM(t){return t.matches("html,body")}function jn(t){return t?.ownerDocument||document}function U_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function Ta(t){return"composedPath"in t?t.composedPath()[0]:t.target}const GM="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Uw(t){return bn(t)&&t.matches(GM)}function ti(t){t.preventDefault(),t.stopPropagation()}function EI(t){return t?t.getAttribute("role")==="combobox"&&Uw(t):!1}const _c=Math.min,Wi=Math.max,qm=Math.round,Vu=Math.floor,co=t=>({x:t,y:t}),JM={left:"right",right:"left",bottom:"top",top:"bottom"},ZM={start:"end",end:"start"};function f1(t,e,r){return Wi(t,_c(e,r))}function Uf(t,e){return typeof t=="function"?t(e):t}function Qa(t){return t.split("-")[0]}function Vf(t){return t.split("-")[1]}function NI(t){return t==="x"?"y":"x"}function kI(t){return t==="y"?"height":"width"}function Jl(t){return["top","bottom"].includes(Qa(t))?"y":"x"}function OI(t){return NI(Jl(t))}function YM(t,e,r){r===void 0&&(r=!1);const n=Vf(t),s=OI(t),a=kI(s);let l=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Rm(l)),[l,Rm(l)]}function XM(t){const e=Rm(t);return[Kb(t),e,Kb(e)]}function Kb(t){return t.replace(/start|end/g,e=>ZM[e])}function e4(t,e,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?a:l;default:return[]}}function t4(t,e,r,n){const s=Vf(t);let a=e4(Qa(t),r==="start",n);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(Kb)))),a}function Rm(t){return t.replace(/left|right|bottom|top/g,e=>JM[e])}function r4(t){return{top:0,right:0,bottom:0,left:0,...t}}function n4(t){return typeof t!="number"?r4(t):{top:t,right:t,bottom:t,left:t}}function Am(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}var i4=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Pm=i4.join(","),II=typeof Element>"u",bc=II?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Fm=!II&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Lm=function t(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=s===""||s==="true",l=a||r&&e&&t(e.parentNode);return l},s4=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},o4=function(e,r,n){if(Lm(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(Pm));return r&&bc.call(e,Pm)&&s.unshift(e),s=s.filter(n),s},a4=function t(e,r,n){for(var s=[],a=Array.from(e);a.length;){var l=a.shift();if(!Lm(l,!1))if(l.tagName==="SLOT"){var u=l.assignedElements(),d=u.length?u:l.children,p=t(d,!0,n);n.flatten?s.push.apply(s,p):s.push({scopeParent:l,candidates:p})}else{var g=bc.call(l,Pm);g&&n.filter(l)&&(r||!e.includes(l))&&s.push(l);var w=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),N=!Lm(w,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(w&&N){var k=t(w===!0?l.children:w.children,!0,n);n.flatten?s.push.apply(s,k):s.push({scopeParent:l,candidates:k})}else a.unshift.apply(a,l.children)}}return s},TI=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},CI=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||s4(e))&&!TI(e)?0:e.tabIndex},l4=function(e,r){var n=CI(e);return n<0&&r&&!TI(e)?0:n},u4=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},qI=function(e){return e.tagName==="INPUT"},c4=function(e){return qI(e)&&e.type==="hidden"},d4=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},f4=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},h4=function(e){if(!e.name)return!0;var r=e.form||Fm(e),n=function(u){return r.querySelectorAll('input[type="radio"][name="'+u+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=f4(s,e.form);return!a||a===e},p4=function(e){return qI(e)&&e.type==="radio"},m4=function(e){return p4(e)&&!h4(e)},y4=function(e){var r,n=e&&Fm(e),s=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var l,u,d;for(a=!!((l=s)!==null&&l!==void 0&&(u=l.ownerDocument)!==null&&u!==void 0&&u.contains(s)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!a&&s;){var p,g,w;n=Fm(s),s=(p=n)===null||p===void 0?void 0:p.host,a=!!((g=s)!==null&&g!==void 0&&(w=g.ownerDocument)!==null&&w!==void 0&&w.contains(s))}}return a},h1=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},g4=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=bc.call(e,"details>summary:first-of-type"),l=a?e.parentElement:e;if(bc.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var u=e;e;){var d=e.parentElement,p=Fm(e);if(d&&!d.shadowRoot&&s(d)===!0)return h1(e);e.assignedSlot?e=e.assignedSlot:!d&&p!==e.ownerDocument?e=p.host:e=d}e=u}if(y4(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return h1(e);return!1},v4=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return bc.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},_4=function(e,r){return!(r.disabled||Lm(r)||c4(r)||g4(r,e)||d4(r)||v4(r))},Gb=function(e,r){return!(m4(r)||CI(r)<0||!_4(e,r))},b4=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},w4=function t(e){var r=[],n=[];return e.forEach(function(s,a){var l=!!s.scopeParent,u=l?s.scopeParent:s,d=l4(u,l),p=l?t(s.candidates):u;d===0?l?r.push.apply(r,p):r.push(u):n.push({documentOrder:a,tabIndex:d,item:s,isScope:l,content:p})}),n.sort(u4).reduce(function(s,a){return a.isScope?s.push.apply(s,a.content):s.push(a.content),s},[]).concat(r)},Oy=function(e,r){r=r||{};var n;return r.getShadowRoot?n=a4([e],r.includeContainer,{filter:Gb.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:b4}):n=o4(e,r.includeContainer,Gb.bind(null,r)),w4(n)},x4=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return bc.call(e,Pm)===!1?!1:Gb(r,e)};function p1(t,e,r){let{reference:n,floating:s}=t;const a=Jl(e),l=OI(e),u=kI(l),d=Qa(e),p=a==="y",g=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,N=n[u]/2-s[u]/2;let k;switch(d){case"top":k={x:g,y:n.y-s.height};break;case"bottom":k={x:g,y:n.y+n.height};break;case"right":k={x:n.x+n.width,y:w};break;case"left":k={x:n.x-s.width,y:w};break;default:k={x:n.x,y:n.y}}switch(Vf(e)){case"start":k[l]-=N*(r&&p?-1:1);break;case"end":k[l]+=N*(r&&p?-1:1);break}return k}const S4=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:l}=r,u=a.filter(Boolean),d=await (l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:w}=p1(p,n,d),N=n,k={},I=0;for(let T=0;T<u.length;T++){const{name:A,fn:D}=u[T],{x:L,y:$,data:V,reset:K}=await D({x:g,y:w,initialPlacement:n,placement:N,strategy:s,middlewareData:k,rects:p,platform:l,elements:{reference:t,floating:e}});g=L??g,w=$??w,k={...k,[A]:{...k[A],...V}},K&&I<=50&&(I++,typeof K=="object"&&(K.placement&&(N=K.placement),K.rects&&(p=K.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):K.rects),{x:g,y:w}=p1(p,N,d)),T=-1)}return{x:g,y:w,placement:N,strategy:s,middlewareData:k}};async function Vw(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:l,elements:u,strategy:d}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:w="floating",altBoundary:N=!1,padding:k=0}=Uf(e,t),I=n4(k),A=u[N?w==="floating"?"reference":"floating":w],D=Am(await a.getClippingRect({element:(r=await (a.isElement==null?void 0:a.isElement(A)))==null||r?A:A.contextElement||await (a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:d})),L=w==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,$=await (a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),V=await (a.isElement==null?void 0:a.isElement($))?await (a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},K=Am(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:L,offsetParent:$,strategy:d}):L);return{top:(D.top-K.top+I.top)/V.y,bottom:(K.bottom-D.bottom+I.bottom)/V.y,left:(D.left-K.left+I.left)/V.x,right:(K.right-D.right+I.right)/V.x}}const E4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:p}=e,{mainAxis:g=!0,crossAxis:w=!0,fallbackPlacements:N,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:T=!0,...A}=Uf(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const D=Qa(s),L=Jl(u),$=Qa(u)===u,V=await (d.isRTL==null?void 0:d.isRTL(p.floating)),K=N||($||!T?[Rm(u)]:XM(u)),B=I!=="none";!N&&B&&K.push(...t4(u,T,I,V));const J=[u,...K],ne=await Vw(e,A),U=[];let re=((n=a.flip)==null?void 0:n.overflows)||[];if(g&&U.push(ne[D]),w){const pe=YM(s,l,V);U.push(ne[pe[0]],ne[pe[1]])}if(re=[...re,{placement:s,overflows:U}],!U.every(pe=>pe<=0)){var M,se;const pe=(((M=a.flip)==null?void 0:M.index)||0)+1,Ce=J[pe];if(Ce)return{data:{index:pe,overflows:re},reset:{placement:Ce}};let Te=(se=re.filter(Fe=>Fe.overflows[0]<=0).sort((Fe,ve)=>Fe.overflows[1]-ve.overflows[1])[0])==null?void 0:se.placement;if(!Te)switch(k){case"bestFit":{var Z;const Fe=(Z=re.filter(ve=>{if(B){const me=Jl(ve.placement);return me===L||me==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(me=>me>0).reduce((me,Ne)=>me+Ne,0)]).sort((ve,me)=>ve[1]-me[1])[0])==null?void 0:Z[0];Fe&&(Te=Fe);break}case"initialPlacement":Te=u;break}if(s!==Te)return{reset:{placement:Te}}}return{}}}};async function N4(t,e){const{placement:r,platform:n,elements:s}=t,a=await (n.isRTL==null?void 0:n.isRTL(s.floating)),l=Qa(r),u=Vf(r),d=Jl(r)==="y",p=["left","top"].includes(l)?-1:1,g=a&&d?-1:1,w=Uf(e,t);let{mainAxis:N,crossAxis:k,alignmentAxis:I}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return u&&typeof I=="number"&&(k=u==="end"?I*-1:I),d?{x:k*g,y:N*p}:{x:N*p,y:k*g}}const k4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:l,middlewareData:u}=e,d=await N4(e,t);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},O4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:A=>{let{x:D,y:L}=A;return{x:D,y:L}}},...d}=Uf(t,e),p={x:r,y:n},g=await Vw(e,d),w=Jl(Qa(s)),N=NI(w);let k=p[N],I=p[w];if(a){const A=N==="y"?"top":"left",D=N==="y"?"bottom":"right",L=k+g[A],$=k-g[D];k=f1(L,k,$)}if(l){const A=w==="y"?"top":"left",D=w==="y"?"bottom":"right",L=I+g[A],$=I-g[D];I=f1(L,I,$)}const T=u.fn({...e,[N]:k,[w]:I});return{...T,data:{x:T.x-r,y:T.y-n,enabled:{[N]:a,[w]:l}}}}}},I4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:l,elements:u}=e,{apply:d=()=>{},...p}=Uf(t,e),g=await Vw(e,p),w=Qa(s),N=Vf(s),k=Jl(s)==="y",{width:I,height:T}=a.floating;let A,D;w==="top"||w==="bottom"?(A=w,D=N===(await (l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=w,A=N==="end"?"top":"bottom");const L=T-g.top-g.bottom,$=I-g.left-g.right,V=_c(T-g[A],L),K=_c(I-g[D],$),B=!e.middlewareData.shift;let J=V,ne=K;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(ne=$),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(J=L),B&&!N){const re=Wi(g.left,0),M=Wi(g.right,0),se=Wi(g.top,0),Z=Wi(g.bottom,0);k?ne=I-2*(re!==0||M!==0?re+M:Wi(g.left,g.right)):J=T-2*(se!==0||Z!==0?se+Z:Wi(g.top,g.bottom))}await d({...e,availableWidth:ne,availableHeight:J});const U=await l.getDimensions(u.floating);return I!==U.width||T!==U.height?{reset:{rects:!0}}:{}}}};function RI(t){const e=ys(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=bn(t),a=s?t.offsetWidth:r,l=s?t.offsetHeight:n,u=qm(r)!==a||qm(n)!==l;return u&&(r=a,n=l),{width:r,height:n,$:u}}function Hw(t){return $r(t)?t:t.contextElement}function nc(t){const e=Hw(t);if(!bn(e))return co(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=RI(e);let l=(a?qm(r.width):r.width)/n,u=(a?qm(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const T4=co(0);function AI(t){const e=Oi(t);return!Ny()||!e.visualViewport?T4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function C4(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Oi(t)?!1:e}function Zl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=Hw(t);let l=co(1);e&&(n?$r(n)&&(l=nc(n)):l=nc(t));const u=C4(a,r,n)?AI(a):co(0);let d=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,w=s.height/l.y;if(a){const N=Oi(a),k=n&&$r(n)?Oi(n):n;let I=N,T=Hb(I);for(;T&&n&&k!==I;){const A=nc(T),D=T.getBoundingClientRect(),L=ys(T),$=D.left+(T.clientLeft+parseFloat(L.paddingLeft))*A.x,V=D.top+(T.clientTop+parseFloat(L.paddingTop))*A.y;d*=A.x,p*=A.y,g*=A.x,w*=A.y,d+=$,p+=V,I=Oi(T),T=Hb(I)}}return Am({width:g,height:w,x:d,y:p})}function Qw(t,e){const r=ky(t).scrollLeft;return e?e.left+r:Zl(vo(t)).left+r}function PI(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Qw(t,n)),a=n.top+e.scrollTop;return{x:s,y:a}}function q4(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",l=vo(n),u=e?Ey(e.floating):!1;if(n===l||u&&a)return r;let d={scrollLeft:0,scrollTop:0},p=co(1);const g=co(0),w=bn(n);if((w||!w&&!a)&&((nl(n)!=="body"||zf(l))&&(d=ky(n)),bn(n))){const k=Zl(n);p=nc(n),g.x=k.x+n.clientLeft,g.y=k.y+n.clientTop}const N=l&&!w&&!a?PI(l,d,!0):co(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-d.scrollLeft*p.x+g.x+N.x,y:r.y*p.y-d.scrollTop*p.y+g.y+N.y}}function R4(t){return Array.from(t.getClientRects())}function A4(t){const e=vo(t),r=ky(t),n=t.ownerDocument.body,s=Wi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Wi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Qw(t);const u=-r.scrollTop;return ys(n).direction==="rtl"&&(l+=Wi(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:l,y:u}}function P4(t,e){const r=Oi(t),n=vo(t),s=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,u=0,d=0;if(s){a=s.width,l=s.height;const p=Ny();(!p||p&&e==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:a,height:l,x:u,y:d}}function F4(t,e){const r=Zl(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=bn(t)?nc(t):co(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,d=s*a.x,p=n*a.y;return{width:l,height:u,x:d,y:p}}function m1(t,e,r){let n;if(e==="viewport")n=P4(t,r);else if(e==="document")n=A4(vo(t));else if($r(e))n=F4(e,r);else{const s=AI(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Am(n)}function FI(t,e){const r=Go(t);return r===e||!$r(r)||Vo(r)?!1:ys(r).position==="fixed"||FI(r,e)}function L4(t,e){const r=e.get(t);if(r)return r;let n=La(t,[],!1).filter(u=>$r(u)&&nl(u)!=="body"),s=null;const a=ys(t).position==="fixed";let l=a?Go(t):t;for(;$r(l)&&!Vo(l);){const u=ys(l),d=$w(l);!d&&u.position==="fixed"&&(s=null),(a?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||zf(l)&&!d&&FI(t,l))?n=n.filter(g=>g!==l):s=u,l=Go(l)}return e.set(t,n),n}function j4(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const l=[...r==="clippingAncestors"?Ey(e)?[]:L4(e,this._c):[].concat(r),n],u=l[0],d=l.reduce((p,g)=>{const w=m1(e,g,s);return p.top=Wi(w.top,p.top),p.right=_c(w.right,p.right),p.bottom=_c(w.bottom,p.bottom),p.left=Wi(w.left,p.left),p},m1(e,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function D4(t){const{width:e,height:r}=RI(t);return{width:e,height:r}}function M4(t,e,r){const n=bn(e),s=vo(e),a=r==="fixed",l=Zl(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const d=co(0);if(n||!n&&!a)if((nl(e)!=="body"||zf(s))&&(u=ky(e)),n){const N=Zl(e,!0,a,e);d.x=N.x+e.clientLeft,d.y=N.y+e.clientTop}else s&&(d.x=Qw(s));const p=s&&!n&&!a?PI(s,u):co(0),g=l.left+u.scrollLeft-d.x-p.x,w=l.top+u.scrollTop-d.y-p.y;return{x:g,y:w,width:l.width,height:l.height}}function V_(t){return ys(t).position==="static"}function y1(t,e){if(!bn(t)||ys(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return vo(t)===r&&(r=r.ownerDocument.body),r}function LI(t,e){const r=Oi(t);if(Ey(t))return r;if(!bn(t)){let s=Go(t);for(;s&&!Vo(s);){if($r(s)&&!V_(s))return s;s=Go(s)}return r}let n=y1(t,e);for(;n&&zM(n)&&V_(n);)n=y1(n,e);return n&&Vo(n)&&V_(n)&&!$w(n)?r:n||UM(t)||r}const B4=async function(t){const e=this.getOffsetParent||LI,r=this.getDimensions,n=await r(t.floating);return{reference:M4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $4(t){return ys(t).direction==="rtl"}const W4={convertOffsetParentRelativeRectToViewportRelativeRect:q4,getDocumentElement:vo,getClippingRect:j4,getOffsetParent:LI,getElementRects:B4,getClientRects:R4,getDimensions:D4,getScale:nc,isElement:$r,isRTL:$4};function z4(t,e){let r=null,n;const s=vo(t);function a(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const{left:p,top:g,width:w,height:N}=t.getBoundingClientRect();if(u||e(),!w||!N)return;const k=Vu(g),I=Vu(s.clientWidth-(p+w)),T=Vu(s.clientHeight-(g+N)),A=Vu(p),L={rootMargin:-k+"px "+-I+"px "+-T+"px "+-A+"px",threshold:Wi(0,_c(1,d))||1};let $=!0;function V(K){const B=K[0].intersectionRatio;if(B!==d){if(!$)return l();B?l(!1,B):n=setTimeout(()=>{l(!1,1e-7)},1e3)}$=!1}try{r=new IntersectionObserver(V,{...L,root:s.ownerDocument})}catch{r=new IntersectionObserver(V,L)}r.observe(t)}return l(!0),a}function jI(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=Hw(t),g=s||a?[...p?La(p):[],...La(e)]:[];g.forEach(D=>{s&&D.addEventListener("scroll",r,{passive:!0}),a&&D.addEventListener("resize",r)});const w=p&&u?z4(p,r):null;let N=-1,k=null;l&&(k=new ResizeObserver(D=>{let[L]=D;L&&L.target===p&&k&&(k.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var $;($=k)==null||$.observe(e)})),r()}),p&&!d&&k.observe(p),k.observe(e));let I,T=d?Zl(t):null;d&&A();function A(){const D=Zl(t);T&&(D.x!==T.x||D.y!==T.y||D.width!==T.width||D.height!==T.height)&&r(),T=D,I=requestAnimationFrame(A)}return r(),()=>{var D;g.forEach(L=>{s&&L.removeEventListener("scroll",r),a&&L.removeEventListener("resize",r)}),w?.(),(D=k)==null||D.disconnect(),k=null,d&&cancelAnimationFrame(I)}}const U4=k4,V4=O4,H4=E4,Q4=I4,K4=(t,e,r)=>{const n=new Map,s={platform:W4,...r},a={...s.platform,_c:n};return S4(t,e,{...s,platform:a})};var Gp=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function jm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!jm(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!jm(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function DI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function g1(t,e){const r=DI(t);return Math.round(e*r)/r}function H_(t){const e=Q.useRef(t);return Gp(()=>{e.current=t}),e}function G4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=t,[g,w]=Q.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[N,k]=Q.useState(n);jm(N,n)||k(n);const[I,T]=Q.useState(null),[A,D]=Q.useState(null),L=Q.useCallback(ve=>{ve!==B.current&&(B.current=ve,T(ve))},[]),$=Q.useCallback(ve=>{ve!==J.current&&(J.current=ve,D(ve))},[]),V=a||I,K=l||A,B=Q.useRef(null),J=Q.useRef(null),ne=Q.useRef(g),U=d!=null,re=H_(d),M=H_(s),se=H_(p),Z=Q.useCallback(()=>{if(!B.current||!J.current)return;const ve={placement:e,strategy:r,middleware:N};M.current&&(ve.platform=M.current),K4(B.current,J.current,ve).then(me=>{const Ne={...me,isPositioned:se.current!==!1};pe.current&&!jm(ne.current,Ne)&&(ne.current=Ne,Sw.flushSync(()=>{w(Ne)}))})},[N,e,r,M,se]);Gp(()=>{p===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,w(ve=>({...ve,isPositioned:!1})))},[p]);const pe=Q.useRef(!1);Gp(()=>(pe.current=!0,()=>{pe.current=!1}),[]),Gp(()=>{if(V&&(B.current=V),K&&(J.current=K),V&&K){if(re.current)return re.current(V,K,Z);Z()}},[V,K,Z,re,U]);const Ce=Q.useMemo(()=>({reference:B,floating:J,setReference:L,setFloating:$}),[L,$]),Te=Q.useMemo(()=>({reference:V,floating:K}),[V,K]),Fe=Q.useMemo(()=>{const ve={position:r,left:0,top:0};if(!Te.floating)return ve;const me=g1(Te.floating,g.x),Ne=g1(Te.floating,g.y);return u?{...ve,transform:"translate("+me+"px, "+Ne+"px)",...DI(Te.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:me,top:Ne}},[r,u,Te.floating,g.x,g.y]);return Q.useMemo(()=>({...g,update:Z,refs:Ce,elements:Te,floatingStyles:Fe}),[g,Z,Ce,Te,Fe])}const MI=(t,e)=>({...U4(t),options:[t,e]}),J4=(t,e)=>({...V4(t),options:[t,e]}),BI=(t,e)=>({...H4(t),options:[t,e]}),Z4=(t,e)=>({...Q4(t),options:[t,e]});function v1(t){return Q.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const $I={...cR},Y4=$I.useInsertionEffect,X4=Y4||(t=>t());function Ei(t){const e=Q.useRef(()=>{});return X4(()=>{e.current=t}),Q.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}const Kw="ArrowUp",Hf="ArrowDown",ja="ArrowLeft",Da="ArrowRight";function Ep(t,e,r){return Math.floor(t/e)!==r}function Ud(t,e){return e<0||e>=t.current.length}function Q_(t,e){return Un(t,{disabledIndices:e})}function _1(t,e){return Un(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Un(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:s,amount:a=1}=e===void 0?{}:e;const l=t.current;let u=r;do u+=n?-a:a;while(u>=0&&u<=l.length-1&&Jp(l,u,s));return u}function eB(t,e){let{event:r,orientation:n,loop:s,rtl:a,cols:l,disabledIndices:u,minIndex:d,maxIndex:p,prevIndex:g,stopEvent:w=!1}=e,N=g;if(r.key===Kw){if(w&&ti(r),g===-1)N=p;else if(N=Un(t,{startingIndex:N,amount:l,decrement:!0,disabledIndices:u}),s&&(g-l<d||N<0)){const k=g%l,I=p%l,T=p-(I-k);I===k?N=p:N=I>k?T:T-l}Ud(t,N)&&(N=g)}if(r.key===Hf&&(w&&ti(r),g===-1?N=d:(N=Un(t,{startingIndex:g,amount:l,disabledIndices:u}),s&&g+l>p&&(N=Un(t,{startingIndex:g%l-l,amount:l,disabledIndices:u}))),Ud(t,N)&&(N=g)),n==="both"){const k=Vu(g/l);r.key===(a?ja:Da)&&(w&&ti(r),g%l!==l-1?(N=Un(t,{startingIndex:g,disabledIndices:u}),s&&Ep(N,l,k)&&(N=Un(t,{startingIndex:g-g%l-1,disabledIndices:u}))):s&&(N=Un(t,{startingIndex:g-g%l-1,disabledIndices:u})),Ep(N,l,k)&&(N=g)),r.key===(a?Da:ja)&&(w&&ti(r),g%l!==0?(N=Un(t,{startingIndex:g,decrement:!0,disabledIndices:u}),s&&Ep(N,l,k)&&(N=Un(t,{startingIndex:g+(l-g%l),decrement:!0,disabledIndices:u}))):s&&(N=Un(t,{startingIndex:g+(l-g%l),decrement:!0,disabledIndices:u})),Ep(N,l,k)&&(N=g));const I=Vu(p/l)===k;Ud(t,N)&&(s&&I?N=r.key===(a?Da:ja)?p:Un(t,{startingIndex:g-g%l-1,disabledIndices:u}):N=g)}return N}function tB(t,e,r){const n=[];let s=0;return t.forEach((a,l)=>{let{width:u,height:d}=a,p=!1;for(r&&(s=0);!p;){const g=[];for(let w=0;w<u;w++)for(let N=0;N<d;N++)g.push(s+w+N*e);s%e+u<=e&&g.every(w=>n[w]==null)?(g.forEach(w=>{n[w]=l}),p=!0):s++}}),[...n]}function rB(t,e,r,n,s){if(t===-1)return-1;const a=r.indexOf(t),l=e[t];switch(s){case"tl":return a;case"tr":return l?a+l.width-1:a;case"bl":return l?a+(l.height-1)*n:a;case"br":return r.lastIndexOf(t)}}function nB(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function Jp(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}var Gr=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}let b1=!1,iB=0;const w1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+iB++;function sB(){const[t,e]=Q.useState(()=>b1?w1():void 0);return Gr(()=>{t==null&&e(w1())},[]),Q.useEffect(()=>{b1=!0},[]),t}const oB=$I.useId,Gw=oB||sB;function WI(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const zI=Q.createContext(null),UI=Q.createContext(null),Qf=()=>{var t;return((t=Q.useContext(zI))==null?void 0:t.id)||null},Ac=()=>Q.useContext(UI);function aB(t){const e=Gw(),r=Ac(),s=Qf();return Gr(()=>{if(!e)return;const a={id:e,parentId:s};return r?.addNode(a),()=>{r?.removeNode(a)}},[r,e,s]),e}function lB(t){const{children:e,id:r}=t,n=Qf();return Q.createElement(zI.Provider,{value:Q.useMemo(()=>({id:r,parentId:n}),[r,n])},e)}function uB(t){const{children:e}=t,r=Q.useRef([]),n=Q.useCallback(l=>{r.current=[...r.current,l]},[]),s=Q.useCallback(l=>{r.current=r.current.filter(u=>u!==l)},[]),a=Q.useState(()=>WI())[0];return Q.createElement(UI.Provider,{value:Q.useMemo(()=>({nodesRef:r,addNode:n,removeNode:s,events:a}),[n,s,a])},e)}function Yl(t){return"data-floating-ui-"+t}function ii(t){const e=Q.useRef(t);return Gr(()=>{e.current=t}),e}const x1=Yl("safe-polygon");function K_(t,e,r){return r&&!bf(r)?0:typeof t=="number"?t:t?.[e]}function cB(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:s,events:a,elements:l}=t,{enabled:u=!0,delay:d=0,handleClose:p=null,mouseOnly:g=!1,restMs:w=0,move:N=!0}=e,k=Ac(),I=Qf(),T=ii(p),A=ii(d),D=ii(r),L=Q.useRef(),$=Q.useRef(-1),V=Q.useRef(),K=Q.useRef(-1),B=Q.useRef(!0),J=Q.useRef(!1),ne=Q.useRef(()=>{}),U=Q.useRef(!1),re=Q.useCallback(()=>{var Fe;const ve=(Fe=s.current.openEvent)==null?void 0:Fe.type;return ve?.includes("mouse")&&ve!=="mousedown"},[s]);Q.useEffect(()=>{if(!u)return;function Fe(ve){let{open:me}=ve;me||(clearTimeout($.current),clearTimeout(K.current),B.current=!0,U.current=!1)}return a.on("openchange",Fe),()=>{a.off("openchange",Fe)}},[u,a]),Q.useEffect(()=>{if(!u||!T.current||!r)return;function Fe(me){re()&&n(!1,me,"hover")}const ve=jn(l.floating).documentElement;return ve.addEventListener("mouseleave",Fe),()=>{ve.removeEventListener("mouseleave",Fe)}},[l.floating,r,n,u,T,re]);const M=Q.useCallback(function(Fe,ve,me){ve===void 0&&(ve=!0),me===void 0&&(me="hover");const Ne=K_(A.current,"close",L.current);Ne&&!V.current?(clearTimeout($.current),$.current=window.setTimeout(()=>n(!1,Fe,me),Ne)):ve&&(clearTimeout($.current),n(!1,Fe,me))},[A,n]),se=Ei(()=>{ne.current(),V.current=void 0}),Z=Ei(()=>{if(J.current){const Fe=jn(l.floating).body;Fe.style.pointerEvents="",Fe.removeAttribute(x1),J.current=!1}}),pe=Ei(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);Q.useEffect(()=>{if(!u)return;function Fe(H){if(clearTimeout($.current),B.current=!1,g&&!bf(L.current)||w>0&&!K_(A.current,"open"))return;const Se=K_(A.current,"open",L.current);Se?$.current=window.setTimeout(()=>{D.current||n(!0,H,"hover")},Se):r||n(!0,H,"hover")}function ve(H){if(pe())return;ne.current();const Se=jn(l.floating);if(clearTimeout(K.current),U.current=!1,T.current&&s.current.floatingContext){r||clearTimeout($.current),V.current=T.current({...s.current.floatingContext,tree:k,x:H.clientX,y:H.clientY,onClose(){Z(),se(),pe()||M(H,!0,"safe-polygon")}});const at=V.current;Se.addEventListener("mousemove",at),ne.current=()=>{Se.removeEventListener("mousemove",at)};return}(L.current==="touch"?!Ln(l.floating,H.relatedTarget):!0)&&M(H)}function me(H){pe()||s.current.floatingContext&&(T.current==null||T.current({...s.current.floatingContext,tree:k,x:H.clientX,y:H.clientY,onClose(){Z(),se(),pe()||M(H)}})(H))}if($r(l.domReference)){var Ne;const H=l.domReference;return r&&H.addEventListener("mouseleave",me),(Ne=l.floating)==null||Ne.addEventListener("mouseleave",me),N&&H.addEventListener("mousemove",Fe,{once:!0}),H.addEventListener("mouseenter",Fe),H.addEventListener("mouseleave",ve),()=>{var Se;r&&H.removeEventListener("mouseleave",me),(Se=l.floating)==null||Se.removeEventListener("mouseleave",me),N&&H.removeEventListener("mousemove",Fe),H.removeEventListener("mouseenter",Fe),H.removeEventListener("mouseleave",ve)}}},[l,u,t,g,w,N,M,se,Z,n,r,D,k,A,T,s,pe]),Gr(()=>{var Fe;if(u&&r&&(Fe=T.current)!=null&&Fe.__options.blockPointerEvents&&re()){J.current=!0;const me=l.floating;if($r(l.domReference)&&me){var ve;const Ne=jn(l.floating).body;Ne.setAttribute(x1,"");const H=l.domReference,Se=k==null||(ve=k.nodesRef.current.find(lt=>lt.id===I))==null||(ve=ve.context)==null?void 0:ve.elements.floating;return Se&&(Se.style.pointerEvents=""),Ne.style.pointerEvents="none",H.style.pointerEvents="auto",me.style.pointerEvents="auto",()=>{Ne.style.pointerEvents="",H.style.pointerEvents="",me.style.pointerEvents=""}}}},[u,r,I,l,k,T,re]),Gr(()=>{r||(L.current=void 0,U.current=!1,se(),Z())},[r,se,Z]),Q.useEffect(()=>()=>{se(),clearTimeout($.current),clearTimeout(K.current),Z()},[u,l.domReference,se,Z]);const Ce=Q.useMemo(()=>{function Fe(ve){L.current=ve.pointerType}return{onPointerDown:Fe,onPointerEnter:Fe,onMouseMove(ve){const{nativeEvent:me}=ve;function Ne(){!B.current&&!D.current&&n(!0,me,"hover")}g&&!bf(L.current)||r||w===0||U.current&&ve.movementX**2+ve.movementY**2<2||(clearTimeout(K.current),L.current==="touch"?Ne():(U.current=!0,K.current=window.setTimeout(Ne,w)))}}},[g,n,r,D,w]),Te=Q.useMemo(()=>({onMouseEnter(){clearTimeout($.current)},onMouseLeave(Fe){pe()||M(Fe.nativeEvent,!1)}}),[M,pe]);return Q.useMemo(()=>u?{reference:Ce,floating:Te}:{},[u,Ce,Te])}let S1=0;function Cl(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:s=!1}=e;n&&cancelAnimationFrame(S1);const a=()=>t?.focus({preventScroll:r});s?a():S1=requestAnimationFrame(a)}function E1(t,e){var r;let n=[],s=(r=t.find(a=>a.id===e))==null?void 0:r.parentId;for(;s;){const a=t.find(l=>l.id===s);s=a?.parentId,a&&(n=n.concat(a))}return n}function ic(t,e){let r=t.filter(s=>{var a;return s.parentId===e&&((a=s.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=t.filter(s=>{var a;return(a=n)==null?void 0:a.some(l=>{var u;return s.parentId===l.id&&((u=s.context)==null?void 0:u.open)})}),r=r.concat(n);return r}function dB(t,e){let r,n=-1;function s(a,l){l>n&&(r=a,n=l),ic(t,a).forEach(d=>{s(d.id,l+1)})}return s(e,0),t.find(a=>a.id===r)}let Pu=new WeakMap,Np=new WeakSet,kp={},G_=0;const fB=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,VI=t=>t&&(t.host||VI(t.parentNode)),hB=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=VI(r);return t.contains(n)?n:null}).filter(r=>r!=null);function pB(t,e,r,n){const s="data-floating-ui-inert",a=n?"inert":r?"aria-hidden":null,l=hB(e,t),u=new Set,d=new Set(l),p=[];kp[s]||(kp[s]=new WeakMap);const g=kp[s];l.forEach(w),N(e),u.clear();function w(k){!k||u.has(k)||(u.add(k),k.parentNode&&w(k.parentNode))}function N(k){!k||d.has(k)||[].forEach.call(k.children,I=>{if(nl(I)!=="script")if(u.has(I))N(I);else{const T=a?I.getAttribute(a):null,A=T!==null&&T!=="false",D=Pu.get(I)||0,L=a?D+1:D,$=(g.get(I)||0)+1;Pu.set(I,L),g.set(I,$),p.push(I),L===1&&A&&Np.add(I),$===1&&I.setAttribute(s,""),!A&&a&&I.setAttribute(a,"true")}})}return G_++,()=>{p.forEach(k=>{const I=Pu.get(k)||0,T=a?I-1:I,A=(g.get(k)||0)-1;Pu.set(k,T),g.set(k,A),T||(!Np.has(k)&&a&&k.removeAttribute(a),Np.delete(k)),A||k.removeAttribute(s)}),G_--,G_||(Pu=new WeakMap,Pu=new WeakMap,Np=new WeakSet,kp={})}}function N1(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=jn(t[0]).body;return pB(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const Iy=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function HI(t,e){const r=Oy(t,Iy());e==="prev"&&r.reverse();const n=r.indexOf(Fs(jn(t)));return r.slice(n+1)[0]}function QI(){return HI(document.body,"next")}function KI(){return HI(document.body,"prev")}function Vd(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!Ln(r,n)}function mB(t){Oy(t,Iy()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function k1(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const Ty={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let yB;function O1(t){t.key==="Tab"&&(t.target,clearTimeout(yB))}const Dm=Q.forwardRef(function(e,r){const[n,s]=Q.useState();Gr(()=>(SI()&&s("button"),document.addEventListener("keydown",O1),()=>{document.removeEventListener("keydown",O1)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[Yl("focus-guard")]:"",style:Ty};return Q.createElement("span",wf({},e,a))}),GI=Q.createContext(null),I1=Yl("portal");function gB(t){t===void 0&&(t={});const{id:e,root:r}=t,n=Gw(),s=JI(),[a,l]=Q.useState(null),u=Q.useRef(null);return Gr(()=>()=>{a?.remove(),queueMicrotask(()=>{u.current=null})},[a]),Gr(()=>{if(!n||u.current)return;const d=e?document.getElementById(e):null;if(!d)return;const p=document.createElement("div");p.id=n,p.setAttribute(I1,""),d.appendChild(p),u.current=p,l(p)},[e,n]),Gr(()=>{if(r===null||!n||u.current)return;let d=r||s?.portalNode;d&&!$r(d)&&(d=d.current),d=d||document.body;let p=null;e&&(p=document.createElement("div"),p.id=e,d.appendChild(p));const g=document.createElement("div");g.id=n,g.setAttribute(I1,""),d=p||d,d.appendChild(g),u.current=g,l(g)},[e,r,n,s]),a}function Jw(t){const{children:e,id:r,root:n,preserveTabOrder:s=!0}=t,a=gB({id:r,root:n}),[l,u]=Q.useState(null),d=Q.useRef(null),p=Q.useRef(null),g=Q.useRef(null),w=Q.useRef(null),N=l?.modal,k=l?.open,I=!!l&&!l.modal&&l.open&&s&&!!(n||a);return Q.useEffect(()=>{if(!a||!s||N)return;function T(A){a&&Vd(A)&&(A.type==="focusin"?k1:mB)(a)}return a.addEventListener("focusin",T,!0),a.addEventListener("focusout",T,!0),()=>{a.removeEventListener("focusin",T,!0),a.removeEventListener("focusout",T,!0)}},[a,s,N]),Q.useEffect(()=>{a&&(k||k1(a))},[k,a]),Q.createElement(GI.Provider,{value:Q.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:d,afterOutsideRef:p,beforeInsideRef:g,afterInsideRef:w,portalNode:a,setFocusManagerState:u}),[s,a])},I&&a&&Q.createElement(Dm,{"data-type":"outside",ref:d,onFocus:T=>{if(Vd(T,a)){var A;(A=g.current)==null||A.focus()}else{const D=KI()||l?.refs.domReference.current;D?.focus()}}}),I&&a&&Q.createElement("span",{"aria-owns":a.id,style:Ty}),a&&Sw.createPortal(e,a),I&&a&&Q.createElement(Dm,{"data-type":"outside",ref:p,onFocus:T=>{if(Vd(T,a)){var A;(A=w.current)==null||A.focus()}else{const D=QI()||l?.refs.domReference.current;D?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,T.nativeEvent,"focus-out")}}}))}const JI=()=>Q.useContext(GI),Jb="data-floating-ui-focusable";function Zb(t){return t?t.hasAttribute(Jb)?t:t.querySelector("["+Jb+"]")||t:null}const T1=20;let ql=[];function J_(t){ql=ql.filter(e=>e.isConnected),t&&nl(t)!=="body"&&(ql.push(t),ql.length>T1&&(ql=ql.slice(-T1)))}function C1(){return ql.slice().reverse().find(t=>t.isConnected)}function vB(t){const e=Iy();return x4(t,e)?t:Oy(t,e)[0]||t}const _B=Q.forwardRef(function(e,r){return Q.createElement("button",wf({},e,{type:"button",ref:r,tabIndex:-1,style:Ty}))});function ZI(t){const{context:e,children:r,disabled:n=!1,order:s=["content"],guards:a=!0,initialFocus:l=0,returnFocus:u=!0,restoreFocus:d=!1,modal:p=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:w=!0,outsideElementsInert:N=!1}=t,{open:k,refs:I,nodeId:T,onOpenChange:A,events:D,dataRef:L,elements:{domReference:$,floating:V}}=e,K=typeof l=="number"&&l<0,B=EI($)&&K,J=fB(),ne=J?a:!0,U=!ne||J&&N,re=ii(s),M=ii(l),se=ii(u),Z=Ac(),pe=JI(),Ce=Q.useRef(null),Te=Q.useRef(null),Fe=Q.useRef(!1),ve=Q.useRef(!1),me=Q.useRef(-1),Ne=pe!=null,H=Zb(V),Se=Ei(function(vt){return vt===void 0&&(vt=H),vt?Oy(vt,Iy()):[]}),lt=Ei(vt=>{const yt=Se(vt);return re.current.map(Ct=>$&&Ct==="reference"?$:H&&Ct==="floating"?H:yt).filter(Boolean).flat()});Q.useEffect(()=>{if(n||!p)return;function vt(Ct){if(Ct.key==="Tab"){Ln(H,Fs(jn(H)))&&Se().length===0&&!B&&ti(Ct);const It=lt(),er=Ta(Ct);re.current[0]==="reference"&&er===$&&(ti(Ct),Ct.shiftKey?Cl(It[It.length-1]):Cl(It[1])),re.current[1]==="floating"&&er===H&&Ct.shiftKey&&(ti(Ct),Cl(It[0]))}}const yt=jn(H);return yt.addEventListener("keydown",vt),()=>{yt.removeEventListener("keydown",vt)}},[n,$,H,p,re,B,Se,lt]),Q.useEffect(()=>{if(n||!V)return;function vt(yt){const Ct=Ta(yt),er=Se().indexOf(Ct);er!==-1&&(me.current=er)}return V.addEventListener("focusin",vt),()=>{V.removeEventListener("focusin",vt)}},[n,V,Se]),Q.useEffect(()=>{if(n||!w)return;function vt(){ve.current=!0,setTimeout(()=>{ve.current=!1})}function yt(Ct){const It=Ct.relatedTarget;queueMicrotask(()=>{const er=!(Ln($,It)||Ln(V,It)||Ln(It,V)||Ln(pe?.portalNode,It)||It!=null&&It.hasAttribute(Yl("focus-guard"))||Z&&(ic(Z.nodesRef.current,T).find(Zt=>{var ir,pr;return Ln((ir=Zt.context)==null?void 0:ir.elements.floating,It)||Ln((pr=Zt.context)==null?void 0:pr.elements.domReference,It)})||E1(Z.nodesRef.current,T).find(Zt=>{var ir,pr,ae;return[(ir=Zt.context)==null?void 0:ir.elements.floating,Zb((pr=Zt.context)==null?void 0:pr.elements.floating)].includes(It)||((ae=Zt.context)==null?void 0:ae.elements.domReference)===It})));if(d&&er&&Fs(jn(H))===jn(H).body){bn(H)&&H.focus();const Zt=me.current,ir=Se(),pr=ir[Zt]||ir[ir.length-1]||H;bn(pr)&&pr.focus()}(B||!p)&&It&&er&&!ve.current&&It!==C1()&&(Fe.current=!0,A(!1,Ct,"focus-out"))})}if(V&&bn($))return $.addEventListener("focusout",yt),$.addEventListener("pointerdown",vt),V.addEventListener("focusout",yt),()=>{$.removeEventListener("focusout",yt),$.removeEventListener("pointerdown",vt),V.removeEventListener("focusout",yt)}},[n,$,V,H,p,T,Z,pe,A,w,d,Se,B]);const at=Q.useRef(null),dt=Q.useRef(null),mt=v1([at,pe?.beforeInsideRef]),ft=v1([dt,pe?.afterInsideRef]);Q.useEffect(()=>{var vt;if(n||!V)return;const yt=Array.from((pe==null||(vt=pe.portalNode)==null?void 0:vt.querySelectorAll("["+Yl("portal")+"]"))||[]),Ct=Z&&!p?E1(Z?.nodesRef.current,T).map(Zt=>{var ir;return(ir=Zt.context)==null?void 0:ir.elements.floating}):[],It=[V,...yt,...Ct,Ce.current,Te.current,at.current,dt.current,pe?.beforeOutsideRef.current,pe?.afterOutsideRef.current,re.current.includes("reference")||B?$:null].filter(Zt=>Zt!=null),er=p||B?N1(It,!U,U):N1(It);return()=>{er()}},[n,$,V,p,re,pe,B,ne,U,Z,T]),Gr(()=>{if(n||!bn(H))return;const vt=jn(H),yt=Fs(vt);queueMicrotask(()=>{const Ct=lt(H),It=M.current,er=(typeof It=="number"?Ct[It]:It.current)||H,Zt=Ln(H,yt);!K&&!Zt&&k&&Cl(er,{preventScroll:er===H})})},[n,k,H,K,lt,M]),Gr(()=>{if(n||!H)return;let vt=!1;const yt=jn(H),Ct=Fs(yt);let er=L.current.openEvent;J_(Ct);function Zt(ae){let{open:ue,reason:ye,event:qe,nested:De}=ae;ue&&(er=qe),ye==="escape-key"&&I.domReference.current&&J_(I.domReference.current),["hover","safe-polygon"].includes(ye)&&qe.type==="mouseleave"&&(Fe.current=!0),ye==="outside-press"&&(De?(Fe.current=!1,vt=!0):Fe.current=!(xI(qe)||zw(qe)))}D.on("openchange",Zt);const ir=yt.createElement("span");ir.setAttribute("tabindex","-1"),ir.setAttribute("aria-hidden","true"),Object.assign(ir.style,Ty),Ne&&$&&$.insertAdjacentElement("afterend",ir);function pr(){return typeof se.current=="boolean"?C1()||ir:se.current.current||ir}return()=>{D.off("openchange",Zt);const ae=Fs(yt),ue=Ln(V,ae)||Z&&ic(Z.nodesRef.current,T).some(De=>{var Ge;return Ln((Ge=De.context)==null?void 0:Ge.elements.floating,ae)});(ue||er&&["click","mousedown"].includes(er.type))&&I.domReference.current&&J_(I.domReference.current);const qe=pr();queueMicrotask(()=>{const De=vB(qe);se.current&&!Fe.current&&bn(De)&&(!(De!==ae&&ae!==yt.body)||ue)&&De.focus({preventScroll:vt}),ir.remove()})}},[n,V,H,se,L,I,D,Z,T,Ne,$]),Q.useEffect(()=>{queueMicrotask(()=>{Fe.current=!1})},[n]),Gr(()=>{if(!n&&pe)return pe.setFocusManagerState({modal:p,closeOnFocusOut:w,open:k,onOpenChange:A,refs:I}),()=>{pe.setFocusManagerState(null)}},[n,pe,p,k,A,I,w]),Gr(()=>{if(n||!H||typeof MutationObserver!="function"||K)return;const vt=()=>{const Ct=H.getAttribute("tabindex"),It=Se(),er=Fs(jn(V)),Zt=It.indexOf(er);Zt!==-1&&(me.current=Zt),re.current.includes("floating")||er!==I.domReference.current&&It.length===0?Ct!=="0"&&H.setAttribute("tabindex","0"):Ct!=="-1"&&H.setAttribute("tabindex","-1")};vt();const yt=new MutationObserver(vt);return yt.observe(H,{childList:!0,subtree:!0,attributes:!0}),()=>{yt.disconnect()}},[n,V,H,I,re,Se,K]);function gt(vt){return n||!g||!p?null:Q.createElement(_B,{ref:vt==="start"?Ce:Te,onClick:yt=>A(!1,yt.nativeEvent)},typeof g=="string"?g:"Dismiss")}const Pt=!n&&ne&&(p?!B:!0)&&(Ne||p);return Q.createElement(Q.Fragment,null,Pt&&Q.createElement(Dm,{"data-type":"inside",ref:mt,onFocus:vt=>{if(p){const Ct=lt();Cl(s[0]==="reference"?Ct[0]:Ct[Ct.length-1])}else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(Fe.current=!1,Vd(vt,pe.portalNode)){const Ct=QI()||$;Ct?.focus()}else{var yt;(yt=pe.beforeOutsideRef.current)==null||yt.focus()}}}),!B&&gt("start"),r,gt("end"),Pt&&Q.createElement(Dm,{"data-type":"inside",ref:ft,onFocus:vt=>{if(p)Cl(lt()[0]);else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(w&&(Fe.current=!0),Vd(vt,pe.portalNode)){const Ct=KI()||$;Ct?.focus()}else{var yt;(yt=pe.afterOutsideRef.current)==null||yt.focus()}}}))}let Op=0;function bB(){const t=/iP(hone|ad|od)|iOS/.test(Ww()),e=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,a=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",s&&(e[n]=s+"px"),t){var u,d;const p=((u=window.visualViewport)==null?void 0:u.offsetLeft)||0,g=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(g))+"px",left:-(a-Math.floor(p))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[n]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(a,l))}}let q1=()=>{};const wB=Q.forwardRef(function(e,r){const{lockScroll:n=!1,...s}=e;return Gr(()=>{if(n)return Op++,Op===1&&(q1=bB()),()=>{Op--,Op===0&&q1()}},[n]),Q.createElement("div",wf({ref:r},s,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...s.style}}))});function R1(t){return bn(t.target)&&t.target.tagName==="BUTTON"}function A1(t){return Uw(t)}function Zw(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:s,elements:{domReference:a}}=t,{enabled:l=!0,event:u="click",toggle:d=!0,ignoreMouse:p=!1,keyboardHandlers:g=!0,stickIfOpen:w=!0}=e,N=Q.useRef(),k=Q.useRef(!1),I=Q.useMemo(()=>({onPointerDown(T){N.current=T.pointerType},onMouseDown(T){const A=N.current;T.button===0&&u!=="click"&&(bf(A,!0)&&p||(r&&d&&(!(s.current.openEvent&&w)||s.current.openEvent.type==="mousedown")?n(!1,T.nativeEvent,"click"):(T.preventDefault(),n(!0,T.nativeEvent,"click"))))},onClick(T){const A=N.current;if(u==="mousedown"&&N.current){N.current=void 0;return}bf(A,!0)&&p||(r&&d&&(!(s.current.openEvent&&w)||s.current.openEvent.type==="click")?n(!1,T.nativeEvent,"click"):n(!0,T.nativeEvent,"click"))},onKeyDown(T){N.current=void 0,!(T.defaultPrevented||!g||R1(T))&&(T.key===" "&&!A1(a)&&(T.preventDefault(),k.current=!0),T.key==="Enter"&&n(!(r&&d),T.nativeEvent,"click"))},onKeyUp(T){T.defaultPrevented||!g||R1(T)||A1(a)||T.key===" "&&k.current&&(k.current=!1,n(!(r&&d),T.nativeEvent,"click"))}}),[s,a,u,p,g,n,r,w,d]);return Q.useMemo(()=>l?{reference:I}:{},[l,I])}const xB={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},SB={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},P1=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t?.outsidePress)!=null?r:!0}};function Yw(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:s,dataRef:a}=t,{enabled:l=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:p="pointerdown",referencePress:g=!1,referencePressEvent:w="pointerdown",ancestorScroll:N=!1,bubbles:k,capture:I}=e,T=Ac(),A=Ei(typeof d=="function"?d:()=>!1),D=typeof d=="function"?A:d,L=Q.useRef(!1),$=Q.useRef(!1),{escapeKey:V,outsidePress:K}=P1(k),{escapeKey:B,outsidePress:J}=P1(I),ne=Q.useRef(!1),U=Ei(Ce=>{var Te;if(!r||!l||!u||Ce.key!=="Escape"||ne.current)return;const Fe=(Te=a.current.floatingContext)==null?void 0:Te.nodeId,ve=T?ic(T.nodesRef.current,Fe):[];if(!V&&(Ce.stopPropagation(),ve.length>0)){let me=!0;if(ve.forEach(Ne=>{var H;if((H=Ne.context)!=null&&H.open&&!Ne.context.dataRef.current.__escapeKeyBubbles){me=!1;return}}),!me)return}n(!1,QM(Ce)?Ce.nativeEvent:Ce,"escape-key")}),re=Ei(Ce=>{var Te;const Fe=()=>{var ve;U(Ce),(ve=Ta(Ce))==null||ve.removeEventListener("keydown",Fe)};(Te=Ta(Ce))==null||Te.addEventListener("keydown",Fe)}),M=Ei(Ce=>{var Te;const Fe=L.current;L.current=!1;const ve=$.current;if($.current=!1,p==="click"&&ve||Fe||typeof D=="function"&&!D(Ce))return;const me=Ta(Ce),Ne="["+Yl("inert")+"]",H=jn(s.floating).querySelectorAll(Ne);let Se=$r(me)?me:null;for(;Se&&!Vo(Se);){const mt=Go(Se);if(Vo(mt)||!$r(mt))break;Se=mt}if(H.length&&$r(me)&&!KM(me)&&!Ln(me,s.floating)&&Array.from(H).every(mt=>!Ln(Se,mt)))return;if(bn(me)&&pe){const mt=Vo(me),ft=ys(me),gt=/auto|scroll/,Pt=mt||gt.test(ft.overflowX),vt=mt||gt.test(ft.overflowY),yt=Pt&&me.clientWidth>0&&me.scrollWidth>me.clientWidth,Ct=vt&&me.clientHeight>0&&me.scrollHeight>me.clientHeight,It=ft.direction==="rtl",er=Ct&&(It?Ce.offsetX<=me.offsetWidth-me.clientWidth:Ce.offsetX>me.clientWidth),Zt=yt&&Ce.offsetY>me.clientHeight;if(er||Zt)return}const lt=(Te=a.current.floatingContext)==null?void 0:Te.nodeId,at=T&&ic(T.nodesRef.current,lt).some(mt=>{var ft;return U_(Ce,(ft=mt.context)==null?void 0:ft.elements.floating)});if(U_(Ce,s.floating)||U_(Ce,s.domReference)||at)return;const dt=T?ic(T.nodesRef.current,lt):[];if(dt.length>0){let mt=!0;if(dt.forEach(ft=>{var gt;if((gt=ft.context)!=null&&gt.open&&!ft.context.dataRef.current.__outsidePressBubbles){mt=!1;return}}),!mt)return}n(!1,Ce,"outside-press")}),se=Ei(Ce=>{var Te;const Fe=()=>{var ve;M(Ce),(ve=Ta(Ce))==null||ve.removeEventListener(p,Fe)};(Te=Ta(Ce))==null||Te.addEventListener(p,Fe)});Q.useEffect(()=>{if(!r||!l)return;a.current.__escapeKeyBubbles=V,a.current.__outsidePressBubbles=K;let Ce=-1;function Te(H){n(!1,H,"ancestor-scroll")}function Fe(){window.clearTimeout(Ce),ne.current=!0}function ve(){Ce=window.setTimeout(()=>{ne.current=!1},Ny()?5:0)}const me=jn(s.floating);u&&(me.addEventListener("keydown",B?re:U,B),me.addEventListener("compositionstart",Fe),me.addEventListener("compositionend",ve)),D&&me.addEventListener(p,J?se:M,J);let Ne=[];return N&&($r(s.domReference)&&(Ne=La(s.domReference)),$r(s.floating)&&(Ne=Ne.concat(La(s.floating))),!$r(s.reference)&&s.reference&&s.reference.contextElement&&(Ne=Ne.concat(La(s.reference.contextElement)))),Ne=Ne.filter(H=>{var Se;return H!==((Se=me.defaultView)==null?void 0:Se.visualViewport)}),Ne.forEach(H=>{H.addEventListener("scroll",Te,{passive:!0})}),()=>{u&&(me.removeEventListener("keydown",B?re:U,B),me.removeEventListener("compositionstart",Fe),me.removeEventListener("compositionend",ve)),D&&me.removeEventListener(p,J?se:M,J),Ne.forEach(H=>{H.removeEventListener("scroll",Te)}),window.clearTimeout(Ce)}},[a,s,u,D,p,r,n,N,l,V,K,U,B,re,M,J,se]),Q.useEffect(()=>{L.current=!1},[D,p]);const Z=Q.useMemo(()=>({onKeyDown:U,...g&&{[xB[w]]:Ce=>{n(!1,Ce.nativeEvent,"reference-press")},...w!=="click"&&{onClick(Ce){n(!1,Ce.nativeEvent,"reference-press")}}}}),[U,n,g,w]),pe=Q.useMemo(()=>({onKeyDown:U,onMouseDown(){$.current=!0},onMouseUp(){$.current=!0},[SB[p]]:()=>{L.current=!0}}),[U,p]);return Q.useMemo(()=>l?{reference:Z,floating:pe}:{},[l,Z,pe])}function EB(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=Gw(),a=Q.useRef({}),[l]=Q.useState(()=>WI()),u=Qf()!=null,[d,p]=Q.useState(n.reference),g=Ei((k,I,T)=>{a.current.openEvent=k?I:void 0,l.emit("openchange",{open:k,event:I,reason:T,nested:u}),r?.(k,I,T)}),w=Q.useMemo(()=>({setPositionReference:p}),[]),N=Q.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return Q.useMemo(()=>({dataRef:a,open:e,onOpenChange:g,elements:N,events:l,floatingId:s,refs:w}),[e,g,N,l,s,w])}function Xw(t){t===void 0&&(t={});const{nodeId:e}=t,r=EB({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[a,l]=Q.useState(null),[u,d]=Q.useState(null),g=s?.domReference||a,w=Q.useRef(null),N=Ac();Gr(()=>{g&&(w.current=g)},[g]);const k=G4({...t,elements:{...s,...u&&{reference:u}}}),I=Q.useCallback($=>{const V=$r($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;d(V),k.refs.setReference(V)},[k.refs]),T=Q.useCallback($=>{($r($)||$===null)&&(w.current=$,l($)),($r(k.refs.reference.current)||k.refs.reference.current===null||$!==null&&!$r($))&&k.refs.setReference($)},[k.refs]),A=Q.useMemo(()=>({...k.refs,setReference:T,setPositionReference:I,domReference:w}),[k.refs,T,I]),D=Q.useMemo(()=>({...k.elements,domReference:g}),[k.elements,g]),L=Q.useMemo(()=>({...k,...n,refs:A,elements:D,nodeId:e}),[k,A,D,e,n]);return Gr(()=>{n.dataRef.current.floatingContext=L;const $=N?.nodesRef.current.find(V=>V.id===e);$&&($.context=L)}),Q.useMemo(()=>({...k,context:L,refs:A,elements:D}),[k,A,D,L])}function NB(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:s,dataRef:a,elements:l}=t,{enabled:u=!0,visibleOnly:d=!0}=e,p=Q.useRef(!1),g=Q.useRef(),w=Q.useRef(!0);Q.useEffect(()=>{if(!u)return;const k=Oi(l.domReference);function I(){!r&&bn(l.domReference)&&l.domReference===Fs(jn(l.domReference))&&(p.current=!0)}function T(){w.current=!0}return k.addEventListener("blur",I),k.addEventListener("keydown",T,!0),()=>{k.removeEventListener("blur",I),k.removeEventListener("keydown",T,!0)}},[l.domReference,r,u]),Q.useEffect(()=>{if(!u)return;function k(I){let{reason:T}=I;(T==="reference-press"||T==="escape-key")&&(p.current=!0)}return s.on("openchange",k),()=>{s.off("openchange",k)}},[s,u]),Q.useEffect(()=>()=>{clearTimeout(g.current)},[]);const N=Q.useMemo(()=>({onPointerDown(k){zw(k.nativeEvent)||(w.current=!1)},onMouseLeave(){p.current=!1},onFocus(k){if(p.current)return;const I=Ta(k.nativeEvent);if(d&&$r(I))try{if(SI()&&VM())throw Error();if(!I.matches(":focus-visible"))return}catch{if(!w.current&&!Uw(I))return}n(!0,k.nativeEvent,"focus")},onBlur(k){p.current=!1;const I=k.relatedTarget,T=k.nativeEvent,A=$r(I)&&I.hasAttribute(Yl("focus-guard"))&&I.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var D;const L=Fs(l.domReference?l.domReference.ownerDocument:document);!I&&L===l.domReference||Ln((D=a.current.floatingContext)==null?void 0:D.refs.floating.current,L)||Ln(l.domReference,L)||A||n(!1,T,"focus")})}}),[a,l.domReference,n,d]);return Q.useMemo(()=>u?{reference:N}:{},[u,N])}const F1="active",L1="selected";function Z_(t,e,r){const n=new Map,s=r==="item";let a=t;if(s&&t){const{[F1]:l,[L1]:u,...d}=t;a=d}return{...r==="floating"&&{tabIndex:-1,[Jb]:""},...a,...e.map(l=>{const u=l?l[r]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((l,u)=>(u&&Object.entries(u).forEach(d=>{let[p,g]=d;if(!(s&&[F1,L1].includes(p)))if(p.indexOf("on")===0){if(n.has(p)||n.set(p,[]),typeof g=="function"){var w;(w=n.get(p))==null||w.push(g),l[p]=function(){for(var N,k=arguments.length,I=new Array(k),T=0;T<k;T++)I[T]=arguments[T];return(N=n.get(p))==null?void 0:N.map(A=>A(...I)).find(A=>A!==void 0)}}}else l[p]=g}),l),{})}}function e0(t){t===void 0&&(t=[]);const e=t.map(u=>u?.reference),r=t.map(u=>u?.floating),n=t.map(u=>u?.item),s=Q.useCallback(u=>Z_(u,t,"reference"),e),a=Q.useCallback(u=>Z_(u,t,"floating"),r),l=Q.useCallback(u=>Z_(u,t,"item"),n);return Q.useMemo(()=>({getReferenceProps:s,getFloatingProps:a,getItemProps:l}),[s,a,l])}function Cy(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function j1(t,e){return Cy(e,t===Kw||t===Hf,t===ja||t===Da)}function Y_(t,e,r){return Cy(e,t===Hf,r?t===ja:t===Da)||t==="Enter"||t===" "||t===""}function kB(t,e,r){return Cy(e,r?t===ja:t===Da,t===Hf)}function D1(t,e,r){return Cy(e,r?t===Da:t===ja,t===Kw)}function OB(t,e){const{open:r,onOpenChange:n,elements:s}=t,{listRef:a,activeIndex:l,onNavigate:u=()=>{},enabled:d=!0,selectedIndex:p=null,allowEscape:g=!1,loop:w=!1,nested:N=!1,rtl:k=!1,virtual:I=!1,focusItemOnOpen:T="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:D=!0,disabledIndices:L=void 0,orientation:$="vertical",cols:V=1,scrollItemIntoView:K=!0,virtualItemRef:B,itemSizes:J,dense:ne=!1}=e,U=Zb(s.floating),re=ii(U),M=Qf(),se=Ac(),Z=Ei(()=>{u(Te.current===-1?null:Te.current)}),pe=EI(s.domReference),Ce=Q.useRef(T),Te=Q.useRef(p??-1),Fe=Q.useRef(null),ve=Q.useRef(!0),me=Q.useRef(Z),Ne=Q.useRef(!!s.floating),H=Q.useRef(r),Se=Q.useRef(!1),lt=Q.useRef(!1),at=ii(L),dt=ii(r),mt=ii(K),ft=ii(p),[gt,Pt]=Q.useState(),[vt,yt]=Q.useState(),Ct=Ei(()=>{function ue(De){I?(Pt(De.id),se?.events.emit("virtualfocus",De),B&&(B.current=De)):Cl(De,{sync:Se.current,preventScroll:!0})}const ye=a.current[Te.current];ye&&ue(ye),(Se.current?De=>De():requestAnimationFrame)(()=>{const De=a.current[Te.current]||ye;if(!De)return;ye||ue(De);const Ge=mt.current;Ge&&er&&(lt.current||!ve.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof Ge=="boolean"?{block:"nearest",inline:"nearest"}:Ge))})});Gr(()=>{d&&(r&&s.floating?Ce.current&&p!=null&&(lt.current=!0,Te.current=p,Z()):Ne.current&&(Te.current=-1,me.current()))},[d,r,s.floating,p,Z]),Gr(()=>{if(d&&r&&s.floating)if(l==null){if(Se.current=!1,ft.current!=null)return;if(Ne.current&&(Te.current=-1,Ct()),(!H.current||!Ne.current)&&Ce.current&&(Fe.current!=null||Ce.current===!0&&Fe.current==null)){let ue=0;const ye=()=>{a.current[0]==null?(ue<2&&(ue?requestAnimationFrame:queueMicrotask)(ye),ue++):(Te.current=Fe.current==null||Y_(Fe.current,$,k)||N?Q_(a,at.current):_1(a,at.current),Fe.current=null,Z())};ye()}}else Ud(a,l)||(Te.current=l,Ct(),lt.current=!1)},[d,r,s.floating,l,ft,N,a,$,k,Z,Ct,at]),Gr(()=>{var ue;if(!d||s.floating||!se||I||!Ne.current)return;const ye=se.nodesRef.current,qe=(ue=ye.find(_t=>_t.id===M))==null||(ue=ue.context)==null?void 0:ue.elements.floating,De=Fs(jn(s.floating)),Ge=ye.some(_t=>_t.context&&Ln(_t.context.elements.floating,De));qe&&!Ge&&ve.current&&qe.focus({preventScroll:!0})},[d,s.floating,se,M,I]),Gr(()=>{if(!d||!se||!I||M)return;function ue(ye){yt(ye.id),B&&(B.current=ye)}return se.events.on("virtualfocus",ue),()=>{se.events.off("virtualfocus",ue)}},[d,se,I,M,B]),Gr(()=>{me.current=Z,H.current=r,Ne.current=!!s.floating}),Gr(()=>{r||(Fe.current=null)},[r]);const It=l!=null,er=Q.useMemo(()=>{function ue(qe){if(!r)return;const De=a.current.indexOf(qe);De!==-1&&Te.current!==De&&(Te.current=De,Z())}return{onFocus(qe){let{currentTarget:De}=qe;Se.current=!0,ue(De)},onClick:qe=>{let{currentTarget:De}=qe;return De.focus({preventScroll:!0})},...A&&{onMouseMove(qe){let{currentTarget:De}=qe;Se.current=!0,lt.current=!1,ue(De)},onPointerLeave(qe){let{pointerType:De}=qe;if(!(!ve.current||De==="touch")&&(Se.current=!0,Te.current=-1,Z(),!I)){var Ge;(Ge=re.current)==null||Ge.focus({preventScroll:!0})}}}}},[r,re,A,a,Z,I]),Zt=Ei(ue=>{if(ve.current=!1,Se.current=!0,ue.which===229||!dt.current&&ue.currentTarget===re.current)return;if(N&&D1(ue.key,$,k)){ti(ue),n(!1,ue.nativeEvent,"list-navigation"),bn(s.domReference)&&(I?se?.events.emit("virtualfocus",s.domReference):s.domReference.focus());return}const ye=Te.current,qe=Q_(a,L),De=_1(a,L);if(pe||(ue.key==="Home"&&(ti(ue),Te.current=qe,Z()),ue.key==="End"&&(ti(ue),Te.current=De,Z())),V>1){const Ge=J||Array.from({length:a.current.length},()=>({width:1,height:1})),_t=tB(Ge,V,ne),Bt=_t.findIndex(jr=>jr!=null&&!Jp(a.current,jr,L)),xr=_t.reduce((jr,Yn,an)=>Yn!=null&&!Jp(a.current,Yn,L)?an:jr,-1),mr=_t[eB({current:_t.map(jr=>jr!=null?a.current[jr]:null)},{event:ue,orientation:$,loop:w,rtl:k,cols:V,disabledIndices:nB([...L||a.current.map((jr,Yn)=>Jp(a.current,Yn)?Yn:void 0),void 0],_t),minIndex:Bt,maxIndex:xr,prevIndex:rB(Te.current>De?qe:Te.current,Ge,_t,V,ue.key===Hf?"bl":ue.key===(k?ja:Da)?"tr":"tl"),stopEvent:!0})];if(mr!=null&&(Te.current=mr,Z()),$==="both")return}if(j1(ue.key,$)){if(ti(ue),r&&!I&&Fs(ue.currentTarget.ownerDocument)===ue.currentTarget){Te.current=Y_(ue.key,$,k)?qe:De,Z();return}Y_(ue.key,$,k)?w?Te.current=ye>=De?g&&ye!==a.current.length?-1:qe:Un(a,{startingIndex:ye,disabledIndices:L}):Te.current=Math.min(De,Un(a,{startingIndex:ye,disabledIndices:L})):w?Te.current=ye<=qe?g&&ye!==-1?a.current.length:De:Un(a,{startingIndex:ye,decrement:!0,disabledIndices:L}):Te.current=Math.max(qe,Un(a,{startingIndex:ye,decrement:!0,disabledIndices:L})),Ud(a,Te.current)&&(Te.current=-1),Z()}}),ir=Q.useMemo(()=>I&&r&&It&&{"aria-activedescendant":vt||gt},[I,r,It,vt,gt]),pr=Q.useMemo(()=>({"aria-orientation":$==="both"?void 0:$,...pe?{}:ir,onKeyDown:Zt,onPointerMove(){ve.current=!0}}),[ir,Zt,$,pe]),ae=Q.useMemo(()=>{function ue(qe){T==="auto"&&xI(qe.nativeEvent)&&(Ce.current=!0)}function ye(qe){Ce.current=T,T==="auto"&&zw(qe.nativeEvent)&&(Ce.current=!0)}return{...ir,onKeyDown(qe){ve.current=!1;const De=qe.key.startsWith("Arrow"),Ge=["Home","End"].includes(qe.key),_t=De||Ge,Bt=kB(qe.key,$,k),xr=D1(qe.key,$,k),mr=j1(qe.key,$),jr=(N?Bt:mr)||qe.key==="Enter"||qe.key.trim()==="";if(I&&r){const xo=se?.nodesRef.current.find(Vt=>Vt.parentId==null),qn=se&&xo?dB(se.nodesRef.current,xo.id):null;if(_t&&qn&&B){const Vt=new KeyboardEvent("keydown",{key:qe.key,bubbles:!0});if(Bt||xr){var Yn,an;const ta=((Yn=qn.context)==null?void 0:Yn.elements.domReference)===qe.currentTarget,ra=xr&&!ta?(an=qn.context)==null?void 0:an.elements.domReference:Bt?a.current.find(na=>na?.id===gt):null;ra&&(ti(qe),ra.dispatchEvent(Vt),yt(void 0))}if((mr||Ge)&&qn.context&&qn.context.open&&qn.parentId&&qe.currentTarget!==qn.context.elements.domReference){var fi;ti(qe),(fi=qn.context.elements.domReference)==null||fi.dispatchEvent(Vt);return}}return Zt(qe)}if(!(!r&&!D&&De)){if(jr&&(Fe.current=N&&mr?null:qe.key),N){Bt&&(ti(qe),r?(Te.current=Q_(a,at.current),Z()):n(!0,qe.nativeEvent,"list-navigation"));return}mr&&(p!=null&&(Te.current=p),ti(qe),!r&&D?n(!0,qe.nativeEvent,"list-navigation"):Zt(qe),r&&Z())}},onFocus(){r&&!I&&(Te.current=-1,Z())},onPointerDown:ye,onMouseDown:ue,onClick:ue}},[gt,ir,Zt,at,T,a,N,Z,n,r,D,$,k,p,se,I,B]);return Q.useMemo(()=>d?{reference:ae,floating:pr,item:er}:{},[d,ae,pr,er])}const M1=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function Fu(t,e){return typeof t=="function"?t(e):t}function IB(t,e){const[r,n]=Q.useState(t);return t&&!r&&n(!0),Q.useEffect(()=>{if(!t&&r){const s=setTimeout(()=>n(!1),e);return()=>clearTimeout(s)}},[t,r,e]),r}function TB(t,e){e===void 0&&(e={});const{open:r,elements:{floating:n}}=t,{duration:s=250}=e,l=(typeof s=="number"?s:s.close)||0,[u,d]=Q.useState("unmounted"),p=IB(r,l);return!p&&u==="close"&&d("unmounted"),Gr(()=>{if(n){if(r){d("initial");const g=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(g)}}d("close")}},[r,n]),{isMounted:p,status:u}}function t0(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:n,close:s,common:a,duration:l=250}=e,u=t.placement,d=u.split("-")[0],p=Q.useMemo(()=>({side:d,placement:u}),[d,u]),g=typeof l=="number",w=(g?l:l.open)||0,N=(g?l:l.close)||0,[k,I]=Q.useState(()=>({...Fu(a,p),...Fu(r,p)})),{isMounted:T,status:A}=TB(t,{duration:l}),D=ii(r),L=ii(n),$=ii(s),V=ii(a);return Gr(()=>{const K=Fu(D.current,p),B=Fu($.current,p),J=Fu(V.current,p),ne=Fu(L.current,p)||Object.keys(K).reduce((U,re)=>(U[re]="",U),{});if(A==="initial"&&I(U=>({transitionProperty:U.transitionProperty,...J,...K})),A==="open"&&I({transitionProperty:Object.keys(ne).map(M1).join(","),transitionDuration:w+"ms",...J,...ne}),A==="close"){const U=B||K;I({transitionProperty:Object.keys(U).map(M1).join(","),transitionDuration:N+"ms",...J,...U})}},[N,$,D,L,V,w,A,p]),{isMounted:T,styles:k}}const CB=Q.createContext({close(){}}),qB=dr({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),RB=({target:t,action:e="hover",disabled:r=!1,closeOnClick:n=!1,delay:s=100,float:a,variant:l,tva:u=qB,css:d,children:p})=>{const[g,w]=Q.useState(!1),{refs:N,floatingStyles:k,context:I}=Xw({open:g,onOpenChange:w,placement:"top",whileElementsMounted:jI,middleware:[MI(10),BI({fallbackAxisSideDirection:"start"}),J4()],...a}),{getReferenceProps:T,getFloatingProps:A}=e0([cB(I,{enabled:e==="hover",delay:s}),Zw(I,{enabled:e==="click"}),NB(I),Yw(I)]),{isMounted:D,styles:L}=t0(I),$=u({mounted:D,...l,css:d}).slots;return y.jsxs(y.Fragment,{children:[y.jsx("button",{type:"button",ref:N.setReference,...T(),disabled:r,className:$.target(),children:t}),y.jsx(Jw,{children:y.jsx("div",{ref:N.setFloating,style:{...k,...L},className:$.portal(),...A(),onClick:n?()=>{w(!1)}:void 0,children:y.jsx(CB.Provider,{value:{close(){w(!1)}},children:p})})})]})},YI="icon-[system-uicons--menu-hamburger]",XI=dr({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),br=({icon:t,variant:e,tva:r=XI,css:n,...s})=>{const a=r({...e,css:n}).slots;return t?y.jsx("div",{className:a.base({css:[t]}),...s}):null},AB=dr({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),Zn=({icon:t=YI,iconProps:e,children:r,variant:n,tva:s=AB,css:a,...l})=>{const u=s({...n,css:a}).slots;return y.jsx(uB,{children:y.jsx(RB,{action:"click",target:y.jsx(br,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:y.jsx("div",{className:u.base(),children:r})})})},eT="icon-[svg-spinners--90-ring-with-bg]",PB=dr({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),r0=({iconEnabled:t,iconDisabled:e,iconLoading:r=eT,disabled:n=!1,loading:s=!1,onClick:a,variant:l,tva:u=PB,css:d,children:p,...g})=>{const w=u({disabled:n,loading:s,...l,css:d}).slots;return y.jsxs("div",{className:w.base(),onClick:n?void 0:a,...g,children:[n?y.jsx(br,{icon:s?r:e??t,variant:{size:"xl"}}):y.jsx(br,{icon:s?r:t,variant:{size:"xl"}}),p]})},FB="icon-[iconamoon--close-light]",ws=Q.createContext(void 0),LB=dr({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),qy=({target:t,icon:e,title:r,disabled:n=!1,outside:s=!1,variant:a,css:l,tva:u=LB,children:d})=>{const[p,g]=Q.useState(!1),w=aB(),{refs:N,context:k}=Xw({nodeId:w,open:p,onOpenChange:g}),I=Zw(k),T=Yw(k,{outsidePress:s}),{getReferenceProps:A,getFloatingProps:D}=e0([I,T]),{isMounted:L,styles:$}=t0(k),V=u({disabled:n,...a,css:l}).slots;return y.jsxs(ws.Provider,{value:{close(){g(!1)}},children:[y.jsx("div",{ref:N.setReference,...A({disabled:n}),className:V.target(),children:t}),y.jsx(lB,{id:w,children:L&&y.jsx(y.Fragment,{children:y.jsx(Jw,{children:y.jsx(wB,{lockScroll:!0,style:$,className:V.base(),children:y.jsx(ZI,{context:k,children:y.jsxs("div",{ref:N.setFloating,...D(),className:V.modal(),children:[y.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[y.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(wy(e)?y.jsx(br,{icon:e,variant:{size:"xl"}}):e),r&&y.jsx("div",{className:"text-lg font-semibold text-slate-700",children:r})]}),y.jsx(r0,{iconEnabled:FB,onClick:()=>g(!1)})]}),d]})})})})})})]})},jB=dr({use:WM,slot:{},variant:{},defaults:{}}),Zr=({icon:t,iconProps:e,label:r,textTitle:n,disabled:s=!1,modalProps:a,hidden:l=!1,variant:u,tva:d=jB,css:p,children:g})=>{const w=d({...u,disabled:s,css:p}).slots;return l?null:y.jsxs("div",{className:w.base(),children:[wy(t)?y.jsx(br,{icon:t,...e}):t,y.jsx(qy,{icon:t,target:r,title:n,disabled:s,css:{modal:["w-1/2"]},...a,children:g})]})},DB=dr({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),MB=({variant:t,tva:e=DB,css:r,...n})=>{const s=e({...t,css:r}).slots;return y.jsx("div",{className:s.base(),...n})},tT="icon-[material-symbols-light--check-small]",BB="icon-[material-symbols-light--close-small]",$B="icon-[material-symbols-light--check-indeterminate-small]",WB=dr({use:XI,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),rT=({value:t,checkIcon:e=tT,unCheckIcon:r=BB,undefinedIcon:n=$B,tva:s=WB,...a})=>t==null?y.jsx(br,{icon:n,tva:s,...a}):y.jsx(br,{icon:t?e:r,tva:l=>s({...l,value:t}),...a}),zB=dr({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),nT=({value:t,onChange:e,variant:r,tva:n=zB,css:s,...a})=>{const l=n({...r,css:s}).slots;return y.jsx("div",{className:l.base(),children:y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:u=>{e(u.target.checked)},...a}),y.jsx("div",{className:l.switch()})]})})},UB=dr({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),kn=({iconEnabled:t,iconDisabled:e,iconLoading:r=eT,iconProps:n,loading:s,variant:a,tva:l=UB,css:u,children:d,...p})=>{const g=l({disabled:p.disabled,...a,css:u}).slots;return y.jsxs("button",{type:"button",className:g.base({disabled:p.disabled}),...p,children:[p.disabled?y.jsx(br,{icon:s===!0?r:e,variant:{size:"xl"},...n}):y.jsx(br,{icon:s===!0?r:t,variant:{size:"xl"},...n}),d]})},n0=Q.createContext({inline:!1}),VB=dr({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),HB=({inline:t,label:e,value:r,variant:n,tva:s=VB,css:a})=>{const l=Q.useContext(n0),u=t??l?.inline,d=s({inline:u,...n,css:a}).slots;return y.jsxs("div",{className:d.base(),children:[e?y.jsx("div",{className:d.label(),children:e}):null,y.jsx("div",{className:d.value(),children:r})]})},QB=dr({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),iT=({items:t,hidden:e=[],valueOfProps:r,entity:n,variant:s,tva:a=QB,css:l,inline:u=!1})=>{const d=a({inline:u,...s,css:l}).slots;return y.jsx(n0.Provider,{value:{inline:u},children:y.jsx("div",{className:d.base(),children:t.filter(({id:p})=>!e.includes(p)).map(({id:p,render:g,...w})=>y.jsx(HB,{value:y.jsx(g,{entity:n}),...r,...w},p))})})},KB=dr({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),B1="icon-[tabler--dots]",GB=dr({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),JB=dr({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),X_=({pages:t,page:e,onPage:r,variant:n,tva:s=JB,css:a})=>{const l=s({...n,css:a}).slots;return y.jsx("nav",{className:l.base(),children:y.jsx("ul",{className:l.list(),children:t.map((u,d)=>y.jsx("li",{className:l.page({current:e===u-1}),onClick:()=>r(u-1),children:u},`page-${u}-${d}`))})})},ZB=dr({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),YB=({items:t,icon:e,defaultValue:r,render:n,textSelect:s,disabled:a=!1,onItem:l,onSelect:u,onChange:d,value:p,variant:g,tva:w=ZB,css:N})=>{const[k,I]=Q.useState(!1),[T,A]=Q.useState(null),[D,L]=Q.useState(t.findIndex(me=>me.id===r));Q.useEffect(()=>{L(t.findIndex(me=>me.id===p))},[p]);const{refs:$,floatingStyles:V,context:K}=Xw({placement:"bottom-start",open:k,onOpenChange:I,whileElementsMounted:jI,middleware:[MI(5),BI({padding:10}),Z4({apply({rects:me,elements:Ne,availableHeight:H}){Object.assign(Ne.floating.style,{maxHeight:`${H}px`,minWidth:`${me.reference.width}px`})},padding:10})]}),B=Q.useRef([]),J=Q.useRef(!1),ne=Zw(K,{event:"mousedown"}),U=Yw(K),re=OB(K,{listRef:B,activeIndex:T,selectedIndex:D,onNavigate:A,loop:!0}),{getReferenceProps:M,getFloatingProps:se,getItemProps:Z}=e0([U,re,ne]),{isMounted:pe,styles:Ce}=t0(K),Te=me=>{L(me),I(!1);const Ne=t[me];Ne&&l?.(Ne),u?.(Ne),d?.(Ne?.id)},Fe=D===null?void 0:t[D],ve=w({disabled:a,...g,css:N}).slots;return y.jsxs(y.Fragment,{children:[y.jsx("div",{tabIndex:a?-1:0,ref:a?void 0:$.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...a?{}:M(),className:ve.base(),children:y.jsxs("div",{className:ve.input(),children:[e?y.jsx(br,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,Fe?y.jsx(n,{entity:Fe}):s||Jr.rich("Select item"),y.jsx(br,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!k&&"text-slate-400",k&&"text-slate-600","group-hover:text-slate-600"]}})]})}),pe&&y.jsx(Jw,{children:y.jsx(ZI,{context:K,modal:!1,children:y.jsx("div",{ref:$.setFloating,style:{...V,...Ce},className:ve.popup(),...se(),children:t.map((me,Ne)=>y.jsxs("div",{ref:H=>{B.current[Ne]=H},role:"option",tabIndex:Ne===T?0:-1,"aria-selected":Ne===D&&Ne===T,className:ve.item({selected:Ne===D,active:Ne===T}),...Z({onClick(){Te(Ne)},onKeyDown(H){H.key==="Enter"&&(H.preventDefault(),Te(Ne)),H.key===" "&&!J.current&&(H.preventDefault(),Te(Ne))}}),children:[y.jsx(n,{entity:me}),Ne===D&&y.jsx(br,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},me.id))})})})]})},XB=({sizes:t=[5,15,30,50,100],size:e,onSize:r,...n})=>y.jsx(YB,{items:t.map(s=>({id:`${s}`,size:s})),defaultValue:`${e}`,value:`${e}`,onItem:({size:s})=>r(s),render:({entity:{size:s}})=>s,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...n}),$1=({cursor:t,count:e,textTotal:r,onPage:n,onSize:s,variant:a,tva:l=GB,css:u})=>{const d=Q.useMemo(()=>DM({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),p=l({...a,css:u}).slots;return y.jsxs("div",{className:p.base(),children:[d.total>1?y.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(d.type)&&y.jsxs(y.Fragment,{children:[y.jsx(X_,{page:t.page,pages:d.start,onPage:n}),y.jsx(br,{icon:B1})]}),y.jsx(X_,{page:t.page,pages:d.pages,onPage:n}),["both","end"].includes(d.type)&&y.jsxs(y.Fragment,{children:[y.jsx(br,{icon:B1}),y.jsx(X_,{page:t.page,pages:d.end,onPage:n})]})]}):null,y.jsxs("div",{className:p.sums(),children:[y.jsx("div",{children:r}),y.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&y.jsxs(y.Fragment,{children:[y.jsx("div",{children:"/"}),y.jsx("div",{className:"font-semibold",children:e.where})]})]}),y.jsx(XB,{size:t.size,onSize:s})]})},Ti=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,page:e}})})},Ci=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,size:e,page:0}})})};function Ma(t){return typeof t>"u"||t===void 0}function Ki(t){return typeof t=="string"}function Ry(t){return typeof t=="number"}function Mm(t){return typeof t=="boolean"}function i0(t){return t===null}function e$(t){return t instanceof Date}function s0(t){return typeof t=="bigint"}function Gi(t){return typeof t=="function"}function so(t){return typeof t=="object"&&t!==null}function R(t){return Object.freeze(t)}function Ip(t){return Jo(t)?t:[t]}function Jo(t){return Array.isArray(t)}function Ba(t){return t}const Ar=R({is(t){return t.kind==="AlterTableNode"},create(t){return R({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return R({...t,...e})},cloneWithColumnAlteration(t,e){return R({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),Yr=R({is(t){return t.kind==="IdentifierNode"},create(t){return R({kind:"IdentifierNode",name:t})}}),Mo=R({is(t){return t.kind==="CreateIndexNode"},create(t){return R({kind:"CreateIndexNode",name:Yr.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}}),sT=R({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return R({kind:"CreateSchemaNode",schema:Yr.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),t$=["preserve rows","delete rows","drop"],Li=R({is(t){return t.kind==="CreateTableNode"},create(t){return R({kind:"CreateTableNode",table:t,columns:R([])})},cloneWithColumn(t,e){return R({...t,columns:R([...t.columns,e])})},cloneWithConstraint(t,e){return R({...t,constraints:t.constraints?R([...t.constraints,e]):R([e])})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWith(t,e){return R({...t,...e})}}),Ka=R({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return R({kind:"SchemableIdentifierNode",identifier:Yr.create(t)})},createWithSchema(t,e){return R({kind:"SchemableIdentifierNode",schema:Yr.create(t),identifier:Yr.create(e)})}}),Hd=R({is(t){return t.kind==="DropIndexNode"},create(t,e){return R({kind:"DropIndexNode",name:Ka.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),Yb=R({is(t){return t.kind==="DropSchemaNode"},create(t,e){return R({kind:"DropSchemaNode",schema:Yr.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),Xb=R({is(t){return t.kind==="DropTableNode"},create(t,e){return R({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return R({...t,...e})}}),il=R({is(t){return t.kind==="AliasNode"},create(t,e){return R({kind:"AliasNode",node:t,alias:e})}}),$a=R({is(t){return t.kind==="TableNode"},create(t){return R({kind:"TableNode",table:Ka.create(t)})},createWithSchema(t,e){return R({kind:"TableNode",table:Ka.createWithSchema(t,e)})}});function qi(t){return so(t)&&Gi(t.toOperationNode)}function r$(t){return so(t)&&"expressionType"in t&&qi(t)}function n$(t){return so(t)&&"expression"in t&&Ki(t.alias)&&qi(t)}const Lo=R({is(t){return t.kind==="SelectModifierNode"},create(t,e){return R({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return R({kind:"SelectModifierNode",rawModifier:t})}}),Ga=R({is(t){return t.kind==="AndNode"},create(t,e){return R({kind:"AndNode",left:t,right:e})}}),Pc=R({is(t){return t.kind==="OrNode"},create(t,e){return R({kind:"OrNode",left:t,right:e})}}),eb=R({is(t){return t.kind==="OnNode"},create(t){return R({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return R({...t,on:e==="And"?Ga.create(t.on,r):Pc.create(t.on,r)})}}),Qd=R({is(t){return t.kind==="JoinNode"},create(t,e){return R({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return R({kind:"JoinNode",joinType:t,table:e,on:eb.create(r)})},cloneWithOn(t,e){return R({...t,on:t.on?eb.cloneWithOperation(t.on,"And",e):eb.create(e)})}}),wc=R({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return R({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),i$=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],s$=["+","-","*","/","%","^","&","|","#","<<",">>"],oT=["->","->>"],o$=[...i$,...s$,"&&","||"],a$=["exists","not exists"],l$=["not","-",...a$],u$=[...o$,...oT,...l$,"between","between symmetric"],Ja=R({is(t){return t.kind==="OperatorNode"},create(t){return R({kind:"OperatorNode",operator:t})}});function W1(t){return Ki(t)&&oT.includes(t)}const mn=R({is(t){return t.kind==="ColumnNode"},create(t){return R({kind:"ColumnNode",column:Yr.create(t)})}}),o0=R({is(t){return t.kind==="SelectAllNode"},create(){return R({kind:"SelectAllNode"})}}),Ay=R({is(t){return t.kind==="ReferenceNode"},create(t,e){return R({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return R({kind:"ReferenceNode",table:t,column:o0.create()})}});class c${#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return dT(this.#e)}}function aT(t){return so(t)&&qi(t)&&Ki(t.dynamicReference)}const ew=R({is(t){return t.kind==="OrderByItemNode"},create(t,e){return R({kind:"OrderByItemNode",orderBy:t,direction:e})}}),Hn=R({is(t){return t.kind==="RawNode"},create(t,e){return R({kind:"RawNode",sqlFragments:R(t),parameters:R(e)})},createWithSql(t){return Hn.create([t],[])},createWithChild(t){return Hn.create(["",""],[t])},createWithChildren(t){return Hn.create(new Array(t.length+1).fill(""),t)}});function lT(t){return t==="asc"||t==="desc"}function Kf(t){if(t.length===2)return[tb(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>tb(r)):[tb(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function tb(t,e){const r=d$(t);if(ew.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return ew.create(r,uT(e))}function d$(t){if(Xf(t))return nu(t);if(aT(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!lT(r))throw new Error(`Invalid order by direction: ${r}`);return ew.create(Zo(e),uT(r))}return Zo(t)}function uT(t){if(t)return t==="asc"||t==="desc"?Hn.createWithSql(t):t.toOperationNode()}const Bm=R({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return R({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return R({...t,traversal:e})}}),cT=R({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return R({kind:"JSONOperatorChainNode",operator:t,values:R([])})},cloneWithValue(t,e){return R({...t,values:R([...t.values,e])})}}),Kd=R({is(t){return t.kind==="JSONPathNode"},create(t){return R({kind:"JSONPathNode",inOperator:t,pathLegs:R([])})},cloneWithLeg(t,e){return R({...t,pathLegs:R([...t.pathLegs,e])})}});function dT(t){return Ki(t)?Zo(t):t.toOperationNode()}function xf(t){return Jo(t)?t.map(e=>zi(e)):[zi(t)]}function zi(t){return Xf(t)?nu(t):dT(t)}function f$(t,e){const r=Zo(t);if(W1(e))return Bm.create(r,cT.create(Ja.create(e)));const n=e.slice(0,-1);if(W1(n))return Bm.create(r,Kd.create(Ja.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function Zo(t){const e=".";if(!t.includes(e))return Ay.create(mn.create(t));const r=t.split(e).map(a0);if(r.length===3)return p$(r);if(r.length===2)return m$(r);throw new Error(`invalid column reference ${t}`)}function h$(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(a0);return il.create(Zo(r),Yr.create(n))}else return Zo(t)}function fT(t){return mn.create(t)}function $m(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(a0);if(!lT(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Kf([r,n])[0]}else return fT(t)}function p$(t){const[e,r,n]=t;return Ay.create(mn.create(n),$a.createWithSchema(e,r))}function m$(t){const[e,r]=t;return Ay.create(mn.create(r),$a.create(e))}function a0(t){return t.trim()}const hT=R({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return R({kind:"PrimitiveValueListNode",values:R([...t])})}}),l0=R({is(t){return t.kind==="ValueListNode"},create(t){return R({kind:"ValueListNode",values:R(t)})}}),po=R({is(t){return t.kind==="ValueNode"},create(t){return R({kind:"ValueNode",value:t})},createImmediate(t){return R({kind:"ValueNode",value:t,immediate:!0})}});function y$(t){return Jo(t)?g$(t):_n(t)}function _n(t){return Xf(t)?nu(t):po.create(t)}function u0(t){return Ry(t)||Mm(t)||i0(t)}function c0(t){if(!u0(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return po.createImmediate(t)}function g$(t){return t.some(Xf)?l0.create(t.map(e=>_n(e))):hT.create(t)}const xc=R({is(t){return t.kind==="ParensNode"},create(t){return R({kind:"ParensNode",node:t})}});function Dn(t){if(t.length===3)return d0(t[0],t[1],t[2]);if(t.length===1)return _n(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function d0(t,e,r){return v$(e)&&pT(r)?wc.create(zi(t),tw(e),po.createImmediate(r)):wc.create(zi(t),tw(e),y$(r))}function mo(t,e,r){return wc.create(zi(t),tw(e),zi(r))}function z1(t,e){return Wm(Object.entries(t).filter(([,r])=>!Ma(r)).map(([r,n])=>d0(r,pT(n)?"is":"=",n)),e)}function Wm(t,e,r=!0){const n=e==="and"?Ga.create:Pc.create;if(t.length===0)return wc.create(po.createImmediate(1),Ja.create("="),po.createImmediate(e==="and"?1:0));let s=U1(t[0]);for(let a=1;a<t.length;++a)s=n(s,U1(t[a]));return t.length>1&&r?xc.create(s):s}function v$(t){return t==="is"||t==="is not"}function pT(t){return i0(t)||Mm(t)}function tw(t){if(Ki(t)&&u$.includes(t))return Ja.create(t);if(qi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function U1(t){return qi(t)?t.toOperationNode():t}const Za=R({is(t){return t.kind==="OrderByNode"},create(t){return R({kind:"OrderByNode",items:R([...t])})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),V1=R({is(t){return t.kind==="PartitionByNode"},create(t){return R({kind:"PartitionByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),rw=R({is(t){return t.kind==="OverNode"},create(){return R({kind:"OverNode"})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?Za.cloneWithItems(t.orderBy,e):Za.create(e)})},cloneWithPartitionByItems(t,e){return R({...t,partitionBy:t.partitionBy?V1.cloneWithItems(t.partitionBy,e):V1.create(e)})}}),zm=R({is(t){return t.kind==="FromNode"},create(t){return R({kind:"FromNode",froms:R(t)})},cloneWithFroms(t,e){return R({...t,froms:R([...t.froms,...e])})}}),H1=R({is(t){return t.kind==="GroupByNode"},create(t){return R({kind:"GroupByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),Q1=R({is(t){return t.kind==="HavingNode"},create(t){return R({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return R({...t,having:e==="And"?Ga.create(t.having,r):Pc.create(t.having,r)})}}),Rr=R({is(t){return t.kind==="SelectQueryNode"},create(t){return R({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return R({kind:"SelectQueryNode",from:zm.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})},cloneWithDistinctOn(t,e){return R({...t,distinctOn:t.distinctOn?R([...t.distinctOn,...e]):R(e)})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?Za.cloneWithItems(t.orderBy,e):Za.create(e)})},cloneWithGroupByItems(t,e){return R({...t,groupBy:t.groupBy?H1.cloneWithItems(t.groupBy,e):H1.create(e)})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithOffset(t,e){return R({...t,offset:e})},cloneWithFetch(t,e){return R({...t,fetch:e})},cloneWithHaving(t,e){return R({...t,having:t.having?Q1.cloneWithOperation(t.having,"And",e):Q1.create(e)})},cloneWithSetOperations(t,e){return R({...t,setOperations:t.setOperations?R([...t.setOperations,...e]):R([...e])})},cloneWithoutSelections(t){return R({...t,selections:[]})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithoutOffset(t){return R({...t,offset:void 0})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return R({...t,groupBy:void 0})}});function ur(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class sc{#e;constructor(e){this.#e=R(e)}on(...e){return new sc({...this.#e,joinNode:Qd.cloneWithOn(this.#e.joinNode,Dn(e))})}onRef(e,r,n){return new sc({...this.#e,joinNode:Qd.cloneWithOn(this.#e.joinNode,mo(e,r,n))})}onTrue(){return new sc({...this.#e,joinNode:Qd.cloneWithOn(this.#e.joinNode,Hn.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}ur(sc,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const _$=R({is(t){return t.kind==="PartitionByItemNode"},create(t){return R({kind:"PartitionByItemNode",partitionBy:t})}});function b$(t){return xf(t).map(_$.create)}class Sf{#e;constructor(e){this.#e=R(e)}orderBy(e,r){return new Sf({overNode:rw.cloneWithOrderByItems(this.#e.overNode,Kf([e,r]))})}partitionBy(e){return new Sf({overNode:rw.cloneWithPartitionByItems(this.#e.overNode,b$(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}ur(Sf,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Gd=R({is(t){return t.kind==="SelectionNode"},create(t){return R({kind:"SelectionNode",selection:t})},createSelectAll(){return R({kind:"SelectionNode",selection:o0.create()})},createSelectAllFromTable(t){return R({kind:"SelectionNode",selection:Ay.createSelectAll(t)})}});function zs(t){return Gi(t)?zs(t(Lc())):Jo(t)?t.map(e=>K1(e)):[K1(t)]}function K1(t){return Ki(t)?Gd.create(h$(t)):aT(t)?Gd.create(t.toOperationNode()):Gd.create(OT(t))}function yo(t){return t?Array.isArray(t)?t.map(G1):[G1(t)]:[Gd.createSelectAll()]}function G1(t){if(Ki(t))return Gd.createSelectAllFromTable(fn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const w$=R({is(t){return t.kind==="ValuesNode"},create(t){return R({kind:"ValuesNode",values:R(t)})}}),x$=R({is(t){return t.kind==="DefaultInsertValueNode"},create(){return R({kind:"DefaultInsertValueNode"})}});function mT(t){const e=Gi(t)?t(Lc()):t,r=Jo(e)?e:R([e]);return S$(r)}function S$(t){const e=E$(t);return[R([...e.keys()].map(mn.create)),w$.create(t.map(r=>N$(r,e)))]}function E$(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const s of n)!e.has(s)&&r[s]!==void 0&&e.set(s,e.size)}return e}function N$(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let s=!1;for(const l of r){const u=e.get(l);if(Ma(u))continue;const d=t[l];(Ma(d)||Xf(d))&&(s=!0),n[u]=d}if(r.length<e.size||s){const l=x$.create();return l0.create(n.map(u=>Ma(u)?l:_n(u)))}return hT.create(n)}const Mi=R({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return R({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return R({kind:"InsertQueryNode"})},cloneWith(t,e){return R({...t,...e})}}),oc=R({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return R({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return R({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return R({...t,from:t.from?zm.cloneWithFroms(t.from,e):zm.create(e)})},cloneWithUpdates(t,e){return R({...t,updates:t.updates?R([...t.updates,...e]):e})},cloneWithLimit(t,e){return R({...t,limit:e})}}),J1=R({is(t){return t.kind==="UsingNode"},create(t){return R({kind:"UsingNode",tables:R(t)})},cloneWithTables(t,e){return R({...t,tables:R([...t.tables,...e])})}}),Al=R({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return R({kind:"DeleteQueryNode",from:zm.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?Za.cloneWithItems(t.orderBy,e):Za.create(e)})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithUsing(t,e){return R({...t,using:t.using!==void 0?J1.cloneWithTables(t.using,e):J1.create(e)})}}),Si=R({is(t){return t.kind==="WhereNode"},create(t){return R({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return R({...t,where:e==="And"?Ga.create(t.where,r):Pc.create(t.where,r)})}}),Z1=R({is(t){return t.kind==="ReturningNode"},create(t){return R({kind:"ReturningNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),k$=R({is(t){return t.kind==="ExplainNode"},create(t,e){return R({kind:"ExplainNode",format:t,options:e})}}),Gf=R({is(t){return t.kind==="WhenNode"},create(t){return R({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return R({...t,result:e})}}),Ni=R({is(t){return t.kind==="MergeQueryNode"},create(t,e){return R({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return R({...t,using:e})},cloneWithWhen(t,e){return R({...t,whens:t.whens?R([...t.whens,e]):R([e])})},cloneWithThen(t,e){return R({...t,whens:t.whens?R([...t.whens.slice(0,-1),Gf.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),Y1=R({is(t){return t.kind==="OutputNode"},create(t){return R({kind:"OutputNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),Tt=R({is(t){return Rr.is(t)||Mi.is(t)||oc.is(t)||Al.is(t)||Ni.is(t)},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWithWhere(t,e){return R({...t,where:t.where?Si.cloneWithOperation(t.where,"And",e):Si.create(e)})},cloneWithJoin(t,e){return R({...t,joins:t.joins?R([...t.joins,e]):R([e])})},cloneWithReturning(t,e){return R({...t,returning:t.returning?Z1.cloneWithSelections(t.returning,e):Z1.create(e)})},cloneWithoutReturning(t){return R({...t,returning:void 0})},cloneWithoutWhere(t){return R({...t,where:void 0})},cloneWithExplain(t,e,r){return R({...t,explain:k$.create(e,r?.toOperationNode())})},cloneWithTop(t,e){return R({...t,top:e})},cloneWithOutput(t,e){return R({...t,output:t.output?Y1.cloneWithSelections(t.output,e):Y1.create(e)})}}),yT=R({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return R({kind:"ColumnUpdateNode",column:t,value:e})}});function O$(...t){return t.length===2?[yT.create(zi(t[0]),_n(t[1]))]:f0(t[0])}function f0(t){const e=Gi(t)?t(Lc()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>yT.create(mn.create(r),_n(n)))}const I$=R({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return R({kind:"OnDuplicateKeyNode",updates:t})}});class T${insertId;numInsertedOrUpdatedRows;constructor(e,r){this.insertId=e,this.numInsertedOrUpdatedRows=r}}class Jf extends Error{node;constructor(e){super("no result"),this.node=e}}function Zf(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const ji=R({is(t){return t.kind==="OnConflictNode"},create(){return R({kind:"OnConflictNode"})},cloneWith(t,e){return R({...t,...e})},cloneWithIndexWhere(t,e){return R({...t,indexWhere:t.indexWhere?Si.cloneWithOperation(t.indexWhere,"And",e):Si.create(e)})},cloneWithIndexOrWhere(t,e){return R({...t,indexWhere:t.indexWhere?Si.cloneWithOperation(t.indexWhere,"Or",e):Si.create(e)})},cloneWithUpdateWhere(t,e){return R({...t,updateWhere:t.updateWhere?Si.cloneWithOperation(t.updateWhere,"And",e):Si.create(e)})},cloneWithUpdateOrWhere(t,e){return R({...t,updateWhere:t.updateWhere?Si.cloneWithOperation(t.updateWhere,"Or",e):Si.create(e)})},cloneWithoutIndexWhere(t){return R({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return R({...t,updateWhere:void 0})}});class io{#e;constructor(e){this.#e=R(e)}column(e){const r=mn.create(e);return new io({...this.#e,onConflictNode:ji.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,r]):R([r])})})}columns(e){const r=e.map(mn.create);return new io({...this.#e,onConflictNode:ji.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,...r]):R(r)})})}constraint(e){return new io({...this.#e,onConflictNode:ji.cloneWith(this.#e.onConflictNode,{constraint:Yr.create(e)})})}expression(e){return new io({...this.#e,onConflictNode:ji.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new io({...this.#e,onConflictNode:ji.cloneWithIndexWhere(this.#e.onConflictNode,Dn(e))})}whereRef(e,r,n){return new io({...this.#e,onConflictNode:ji.cloneWithIndexWhere(this.#e.onConflictNode,mo(e,r,n))})}clearWhere(){return new io({...this.#e,onConflictNode:ji.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new gT({...this.#e,onConflictNode:ji.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new ac({...this.#e,onConflictNode:ji.cloneWith(this.#e.onConflictNode,{updates:f0(e)})})}$call(e){return e(this)}}ur(io,"don't await OnConflictBuilder instances.");class gT{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.onConflictNode}}ur(gT,"don't await OnConflictDoNothingBuilder instances.");class ac{#e;constructor(e){this.#e=R(e)}where(...e){return new ac({...this.#e,onConflictNode:ji.cloneWithUpdateWhere(this.#e.onConflictNode,Dn(e))})}whereRef(e,r,n){return new ac({...this.#e,onConflictNode:ji.cloneWithUpdateWhere(this.#e.onConflictNode,mo(e,r,n))})}clearWhere(){return new ac({...this.#e,onConflictNode:ji.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}ur(ac,"don't await OnConflictUpdateBuilder instances.");const C$=R({is(t){return t.kind==="TopNode"},create(t,e){return R({kind:"TopNode",expression:t,modifiers:e})}});function Fc(t,e){if(!Ry(t)&&!s0(t))throw new Error(`Invalid top expression: ${t}`);if(!Ma(e)&&!q$(e))throw new Error(`Invalid top modifiers: ${e}`);return C$.create(t,e)}function q$(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class Qr{#e;constructor(e){this.#e=R(e)}values(e){const[r,n]=mT(e);return new Qr({...this.#e,queryNode:Mi.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new Qr({...this.#e,queryNode:Mi.cloneWith(this.#e.queryNode,{columns:R(e.map(mn.create))})})}expression(e){return new Qr({...this.#e,queryNode:Mi.cloneWith(this.#e.queryNode,{values:nu(e)})})}defaultValues(){return new Qr({...this.#e,queryNode:Mi.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new Qr({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new Qr({...this.#e,queryNode:Mi.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,r){return new Qr({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Fc(e,r))})}onConflict(e){return new Qr({...this.#e,queryNode:Mi.cloneWith(this.#e.queryNode,{onConflict:e(new io({onConflictNode:ji.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Qr({...this.#e,queryNode:Mi.cloneWith(this.#e.queryNode,{onDuplicateKey:I$.create(f0(e))})})}returning(e){return new Qr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,zs(e))})}returningAll(){return new Qr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,yo())})}output(e){return new Qr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,zs(e))})}outputAll(e){return new Qr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,yo(e))})}clearReturning(){return new Qr({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Qr({...this.#e})}$castTo(){return new Qr(this.#e)}$narrowType(){return new Qr(this.#e)}$assertType(){return new Qr(this.#e)}withPlugin(e){return new Qr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new T$(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Jf){const r=await this.executeTakeFirst();if(r===void 0)throw Zf(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Qr({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}ur(Qr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class R${numDeletedRows;constructor(e){this.numDeletedRows=e}}const h0=R({is(t){return t.kind==="LimitNode"},create(t){return R({kind:"LimitNode",limit:t})}});class qr{#e;constructor(e){this.#e=R(e)}where(...e){return new qr({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Dn(e))})}whereRef(e,r,n){return new qr({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,mo(e,r,n))})}clearWhere(){return new qr({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new qr({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Fc(e,r))})}using(e){return new qr({...this.#e,queryNode:Al.cloneWithUsing(this.#e.queryNode,kf(e))})}innerJoin(...e){return new qr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("InnerJoin",e))})}leftJoin(...e){return new qr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("LeftJoin",e))})}rightJoin(...e){return new qr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("RightJoin",e))})}fullJoin(...e){return new qr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("FullJoin",e))})}returning(e){return new qr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,zs(e))})}returningAll(e){return new qr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,yo(e))})}output(e){return new qr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,zs(e))})}outputAll(e){return new qr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,yo(e))})}clearReturning(){return new qr({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new qr({...this.#e,queryNode:Al.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new qr({...this.#e,queryNode:Al.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,r){return new qr({...this.#e,queryNode:Al.cloneWithOrderByItems(this.#e.queryNode,Kf([e,r]))})}limit(e){return new qr({...this.#e,queryNode:Al.cloneWithLimit(this.#e.queryNode,h0.create(_n(e)))})}modifyEnd(e){return new qr({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,r){return e?r(this):new qr({...this.#e})}$castTo(){return new qr(this.#e)}$narrowType(){return new qr(this.#e)}$assertType(){return new qr(this.#e)}withPlugin(e){return new qr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new R$(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Jf){const r=await this.executeTakeFirst();if(r===void 0)throw Zf(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new qr({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}ur(qr,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class A${numUpdatedRows;numChangedRows;constructor(e,r){this.numUpdatedRows=e,this.numChangedRows=r}}class Fr{#e;constructor(e){this.#e=R(e)}where(...e){return new Fr({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Dn(e))})}whereRef(e,r,n){return new Fr({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,mo(e,r,n))})}clearWhere(){return new Fr({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Fr({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Fc(e,r))})}from(e){return new Fr({...this.#e,queryNode:oc.cloneWithFromItems(this.#e.queryNode,kf(e))})}innerJoin(...e){return new Fr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("InnerJoin",e))})}leftJoin(...e){return new Fr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("LeftJoin",e))})}rightJoin(...e){return new Fr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("RightJoin",e))})}fullJoin(...e){return new Fr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("FullJoin",e))})}limit(e){return new Fr({...this.#e,queryNode:oc.cloneWithLimit(this.#e.queryNode,h0.create(_n(e)))})}set(...e){return new Fr({...this.#e,queryNode:oc.cloneWithUpdates(this.#e.queryNode,O$(...e))})}returning(e){return new Fr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,zs(e))})}returningAll(e){return new Fr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,yo(e))})}output(e){return new Fr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,zs(e))})}outputAll(e){return new Fr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,yo(e))})}modifyEnd(e){return new Fr({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Fr({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Fr({...this.#e})}$castTo(){return new Fr(this.#e)}$narrowType(){return new Fr(this.#e)}$assertType(){return new Fr(this.#e)}withPlugin(e){return new Fr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new A$(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Jf){const r=await this.executeTakeFirst();if(r===void 0)throw Zf(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Fr({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}ur(Fr,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const X1=R({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return R({kind:"CommonTableExpressionNameNode",table:$a.create(t),columns:e?R(e.map(mn.create)):void 0})}}),Um=R({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return R({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return R({...t,...e})}});class Ef{#e;constructor(e){this.#e=R(e)}materialized(){return new Ef({...this.#e,node:Um.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new Ef({...this.#e,node:Um.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}ur(Ef,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function ek(t,e){const r=e(V$()).toOperationNode();return Gi(t)?t(P$(r)).toOperationNode():Um.create(vT(t),r)}function P$(t){return e=>new Ef({node:Um.create(vT(e),t)})}function vT(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(s=>s.trim());return X1.create(r,n)}else return X1.create(t)}const Tp=R({is(t){return t.kind==="WithNode"},create(t,e){return R({kind:"WithNode",expressions:R([t]),...e})},cloneWithExpression(t,e){return R({...t,expressions:R([...t.expressions,e])})}}),tk=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function F$(t){let e="";for(let r=0;r<t;++r)e+=L$();return e}function L$(){return tk[~~(Math.random()*tk.length)]}function Pr(){return new j$}class j${#e;get queryId(){return this.#e===void 0&&(this.#e=F$(8)),this.#e}}class _T{nodeStack=[];#e=R({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),R(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&R(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:R([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const D$=R({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class M$ extends _T{#e;#t=new Set;#r=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#n(e))return super.transformNodeImpl(e);const r=this.#s(e);for(const a of r)this.#r.add(a);const n=this.#i(e);for(const a of n)this.#t.add(a);const s=super.transformNodeImpl(e);for(const a of n)this.#t.delete(a);for(const a of r)this.#r.delete(a);return s}transformSchemableIdentifier(e){const r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:Yr.create(this.#e)}}transformReferences(e){const r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:$a.createWithSchema(this.#e,r.table.table.identifier.name)}}#n(e){return e.kind in D$}#i(e){const r=new Set;if("name"in e&&e.name&&Ka.is(e.name)&&this.#a(e.name,r),"from"in e&&e.from)for(const n of e.from.froms)this.#o(n,r);if("into"in e&&e.into&&this.#o(e.into,r),"table"in e&&e.table&&this.#o(e.table,r),"joins"in e&&e.joins)for(const n of e.joins)this.#o(n.table,r);return"using"in e&&e.using&&this.#o(e.using,r),r}#s(e){const r=new Set;return"with"in e&&e.with&&this.#u(e.with,r),r}#o(e,r){const n=$a.is(e)?e:il.is(e)&&$a.is(e.node)?e.node:null;n&&this.#a(n.table,r)}#a(e,r){const n=e.identifier.name;!this.#t.has(n)&&!this.#r.has(n)&&r.add(n)}#u(e,r){for(const n of e.expressions){const s=n.name.table.table.identifier.name;this.#r.has(s)||r.add(s)}}}class Yf{#e;constructor(e){this.#e=new M$(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const B$=R({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return R({kind:"MatchedNode",not:t,bySource:e})}});function rk(t,e,r){return Gf.create(Wm([B$.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?mo(e[0],e[1],e[2]):Dn(e)]:[]],"and",!1))}function Jd(t){return Ki(t)?Hn.create([t],[]):qi(t)?t.toOperationNode():t}class nk{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}}const ik=new Set;function $$(t){ik.has(t)||(ik.add(t),console.log(t))}const W$=R([]);class bT{#e;constructor(e=W$){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(const n of this.#e){const s=n.transformQuery({node:e,queryId:r});if(s.kind===e.kind)e=s;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${s.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const s=await n.executeQuery(e),a=await this.#t(s,r);return z$(s,a),a})}async *stream(e,r,n){const s=new nk,a=new nk;this.provideConnection(async u=>(s.resolve(u),await a.promise)).catch(u=>s.reject(u));const l=await s.promise;try{for await(const u of l.streamQuery(e,r))yield await this.#t(u,n)}finally{a.resolve()}}async #t(e,r){for(const n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}}function z$(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||$$("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Hu extends bT{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Hu([...this.plugins,e])}withPlugins(e){return new Hu([...this.plugins,...e])}withPluginAtFront(e){return new Hu([e,...this.plugins])}withoutPlugins(){return new Hu([])}}const Py=new Hu;class U${numChangedRows;constructor(e){this.numChangedRows=e}}class Ml{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new Ml({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Ml({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Fc(e,r))})}using(...e){return new Ui({...this.#e,queryNode:Ni.cloneWithUsing(this.#e.queryNode,ni("Using",e))})}output(e){return new Ml({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,zs(e))})}outputAll(e){return new Ml({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,yo(e))})}}ur(Ml,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Ui{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new Ui({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Ui({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Fc(e,r))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,r,n){return this.#t([e,r,n],!0)}#t(e,r){return new nw({...this.#e,queryNode:Ni.cloneWithWhen(this.#e.queryNode,rk({isMatched:!0},e,r))})}whenNotMatched(){return this.#r([])}whenNotMatchedAnd(...e){return this.#r(e)}whenNotMatchedAndRef(e,r,n){return this.#r([e,r,n],!0)}whenNotMatchedBySource(){return this.#r([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#r(e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return this.#r([e,r,n],!0,!0)}output(e){return new Ui({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,zs(e))})}outputAll(e){return new Ui({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,yo(e))})}#r(e,r=!1,n=!1){const s={...this.#e,queryNode:Ni.cloneWithWhen(this.#e.queryNode,rk({isMatched:!1,bySource:n},e,r))},a=n?nw:wT;return new a(s)}$call(e){return e(this)}$if(e,r){return e?r(this):new Ui({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?r.rows:[new U$(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Jf){const r=await this.executeTakeFirst();if(r===void 0)throw Zf(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}}ur(Ui,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class nw{#e;constructor(e){this.#e=R(e)}thenDelete(){return new Ui({...this.#e,queryNode:Ni.cloneWithThen(this.#e.queryNode,Jd("delete"))})}thenDoNothing(){return new Ui({...this.#e,queryNode:Ni.cloneWithThen(this.#e.queryNode,Jd("do nothing"))})}thenUpdate(e){return new Ui({...this.#e,queryNode:Ni.cloneWithThen(this.#e.queryNode,Jd(e(new Fr({queryId:this.#e.queryId,executor:Py,queryNode:oc.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}ur(nw,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class wT{#e;constructor(e){this.#e=R(e)}thenDoNothing(){return new Ui({...this.#e,queryNode:Ni.cloneWithThen(this.#e.queryNode,Jd("do nothing"))})}thenInsertValues(e){const[r,n]=mT(e);return new Ui({...this.#e,queryNode:Ni.cloneWithThen(this.#e.queryNode,Jd(Mi.cloneWith(Mi.createWithoutInto(),{columns:r,values:n})))})}}ur(wT,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Ca{#e;constructor(e){this.#e=R(e)}selectFrom(e){return iw({queryId:Pr(),executor:this.#e.executor,queryNode:Rr.createFrom(kf(e),this.#e.withNode)})}selectNoFrom(e){return iw({queryId:Pr(),executor:this.#e.executor,queryNode:Rr.cloneWithSelections(Rr.create(this.#e.withNode),zs(e))})}insertInto(e){return new Qr({queryId:Pr(),executor:this.#e.executor,queryNode:Mi.create(fn(e),this.#e.withNode)})}replaceInto(e){return new Qr({queryId:Pr(),executor:this.#e.executor,queryNode:Mi.create(fn(e),this.#e.withNode,!0)})}deleteFrom(e){return new qr({queryId:Pr(),executor:this.#e.executor,queryNode:Al.create(kf(e),this.#e.withNode)})}updateTable(e){return new Fr({queryId:Pr(),executor:this.#e.executor,queryNode:oc.create(Of(e),this.#e.withNode)})}mergeInto(e){return new Ml({queryId:Pr(),executor:this.#e.executor,queryNode:Ni.create(IT(e),this.#e.withNode)})}with(e,r){const n=ek(e,r);return new Ca({...this.#e,withNode:this.#e.withNode?Tp.cloneWithExpression(this.#e.withNode,n):Tp.create(n)})}withRecursive(e,r){const n=ek(e,r);return new Ca({...this.#e,withNode:this.#e.withNode?Tp.cloneWithExpression(this.#e.withNode,n):Tp.create(n,{recursive:!0})})}withPlugin(e){return new Ca({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Ca({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Ca({...this.#e,executor:this.#e.executor.withPluginAtFront(new Yf(e))})}}function V$(){return new Ca({executor:Py})}function H$(t,e){return new sc({joinNode:Qd.create(t,Of(e))})}function Q$(){return new Sf({overNode:rw.create()})}function ni(t,e){if(e.length===3)return G$(t,e[0],e[1],e[2]);if(e.length===2)return K$(t,e[0],e[1]);throw new Error("not implemented")}function K$(t,e,r){return r(H$(t,e)).toOperationNode()}function G$(t,e,r,n){return Qd.createWithOn(t,Of(e),mo(r,"=",n))}const J$=R({is(t){return t.kind==="OffsetNode"},create(t){return R({kind:"OffsetNode",offset:t})}}),Z$=R({is(t){return t.kind==="GroupByItemNode"},create(t){return R({kind:"GroupByItemNode",groupBy:t})}});function Y$(t){return t=Gi(t)?t(Lc()):t,xf(t).map(Z$.create)}const xT=R({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return R({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Lu(t,e,r){return Gi(e)&&(e=e(m0())),Jo(e)||(e=[e]),e.map(n=>xT.create(t,nu(n),r))}class Lr{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new p0(this,e)}or(...e){return new Vm(Pc.create(this.#e,Dn(e)))}and(...e){return new Hm(Ga.create(this.#e,Dn(e)))}$castTo(){return new Lr(this.#e)}$notNull(){return new Lr(this.#e)}toOperationNode(){return this.#e}}class p0{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return il.create(this.#e.toOperationNode(),qi(this.#t)?this.#t.toOperationNode():Yr.create(this.#t))}}class Vm{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new p0(this,e)}or(...e){return new Vm(Pc.create(this.#e,Dn(e)))}$castTo(){return new Vm(this.#e)}toOperationNode(){return xc.create(this.#e)}}class Hm{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new p0(this,e)}and(...e){return new Hm(Ga.create(this.#e,Dn(e)))}$castTo(){return new Hm(this.#e)}toOperationNode(){return xc.create(this.#e)}}const X$={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:po.create(t),modifier:e}}};function eW(t,e){if(!Ry(t)&&!s0(t))throw new Error(`Invalid fetch row count: ${t}`);if(!tW(e))throw new Error(`Invalid fetch modifier: ${e}`);return X$.create(t,e)}function tW(t){return t==="only"||t==="with ties"}class Ht{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Ht({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Dn(e))})}whereRef(e,r,n){return new Ht({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,mo(e,r,n))})}having(...e){return new Ht({...this.#e,queryNode:Rr.cloneWithHaving(this.#e.queryNode,Dn(e))})}havingRef(e,r,n){return new Ht({...this.#e,queryNode:Rr.cloneWithHaving(this.#e.queryNode,mo(e,r,n))})}select(e){return new Ht({...this.#e,queryNode:Rr.cloneWithSelections(this.#e.queryNode,zs(e))})}distinctOn(e){return new Ht({...this.#e,queryNode:Rr.cloneWithDistinctOn(this.#e.queryNode,xf(e))})}modifyFront(e){return new Ht({...this.#e,queryNode:Rr.cloneWithFrontModifier(this.#e.queryNode,Lo.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Ht({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Lo.createWithExpression(e.toOperationNode()))})}distinct(){return new Ht({...this.#e,queryNode:Rr.cloneWithFrontModifier(this.#e.queryNode,Lo.create("Distinct"))})}forUpdate(e){return new Ht({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Lo.create("ForUpdate",e?Ip(e).map(fn):void 0))})}forShare(e){return new Ht({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Lo.create("ForShare",e?Ip(e).map(fn):void 0))})}forKeyShare(e){return new Ht({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Lo.create("ForKeyShare",e?Ip(e).map(fn):void 0))})}forNoKeyUpdate(e){return new Ht({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Lo.create("ForNoKeyUpdate",e?Ip(e).map(fn):void 0))})}skipLocked(){return new Ht({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Lo.create("SkipLocked"))})}noWait(){return new Ht({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Lo.create("NoWait"))})}selectAll(e){return new Ht({...this.#e,queryNode:Rr.cloneWithSelections(this.#e.queryNode,yo(e))})}innerJoin(...e){return new Ht({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("InnerJoin",e))})}leftJoin(...e){return new Ht({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("LeftJoin",e))})}rightJoin(...e){return new Ht({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("RightJoin",e))})}fullJoin(...e){return new Ht({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("FullJoin",e))})}innerJoinLateral(...e){return new Ht({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Ht({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,ni("LateralLeftJoin",e))})}orderBy(...e){return new Ht({...this.#e,queryNode:Rr.cloneWithOrderByItems(this.#e.queryNode,Kf(e))})}groupBy(e){return new Ht({...this.#e,queryNode:Rr.cloneWithGroupByItems(this.#e.queryNode,Y$(e))})}limit(e){return new Ht({...this.#e,queryNode:Rr.cloneWithLimit(this.#e.queryNode,h0.create(_n(e)))})}offset(e){return new Ht({...this.#e,queryNode:Rr.cloneWithOffset(this.#e.queryNode,J$.create(_n(e)))})}fetch(e,r="only"){return new Ht({...this.#e,queryNode:Rr.cloneWithFetch(this.#e.queryNode,eW(e,r))})}top(e,r){return new Ht({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Fc(e,r))})}union(e){return new Ht({...this.#e,queryNode:Rr.cloneWithSetOperations(this.#e.queryNode,Lu("union",e,!1))})}unionAll(e){return new Ht({...this.#e,queryNode:Rr.cloneWithSetOperations(this.#e.queryNode,Lu("union",e,!0))})}intersect(e){return new Ht({...this.#e,queryNode:Rr.cloneWithSetOperations(this.#e.queryNode,Lu("intersect",e,!1))})}intersectAll(e){return new Ht({...this.#e,queryNode:Rr.cloneWithSetOperations(this.#e.queryNode,Lu("intersect",e,!0))})}except(e){return new Ht({...this.#e,queryNode:Rr.cloneWithSetOperations(this.#e.queryNode,Lu("except",e,!1))})}exceptAll(e){return new Ht({...this.#e,queryNode:Rr.cloneWithSetOperations(this.#e.queryNode,Lu("except",e,!0))})}as(e){return new ST(this,e)}clearSelect(){return new Ht({...this.#e,queryNode:Rr.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Ht({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Ht({...this.#e,queryNode:Rr.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Ht({...this.#e,queryNode:Rr.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Ht({...this.#e,queryNode:Rr.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Ht({...this.#e,queryNode:Rr.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Ht({...this.#e})}$castTo(){return new Ht(this.#e)}$narrowType(){return new Ht(this.#e)}$assertType(){return new Ht(this.#e)}$asTuple(){return new Lr(this.toOperationNode())}withPlugin(e){return new Ht({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Jf){const r=await this.executeTakeFirst();if(r===void 0)throw Zf(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Ht({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}ur(Ht,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function iw(t){return new Ht(t)}class ST{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return il.create(this.#e.toOperationNode(),Yr.create(this.#t))}}ur(ST,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const qa=R({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return R({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return R({...t,distinct:!0})},cloneWithOrderBy(t,e){return R({...t,orderBy:t.orderBy?Za.cloneWithItems(t.orderBy,e):Za.create(e)})},cloneWithFilter(t,e){return R({...t,filter:t.filter?Si.cloneWithOperation(t.filter,"And",e):Si.create(e)})},cloneWithOrFilter(t,e){return R({...t,filter:t.filter?Si.cloneWithOperation(t.filter,"Or",e):Si.create(e)})},cloneWithOver(t,e){return R({...t,over:e})}}),sk=R({is(t){return t.kind==="FunctionNode"},create(t,e){return R({kind:"FunctionNode",func:t,arguments:e})}});class us{#e;constructor(e){this.#e=R(e)}get expressionType(){}as(e){return new rW(this,e)}distinct(){return new us({...this.#e,aggregateFunctionNode:qa.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,r){return new us({...this.#e,aggregateFunctionNode:qa.cloneWithOrderBy(this.#e.aggregateFunctionNode,Kf([e,r]))})}filterWhere(...e){return new us({...this.#e,aggregateFunctionNode:qa.cloneWithFilter(this.#e.aggregateFunctionNode,Dn(e))})}filterWhereRef(e,r,n){return new us({...this.#e,aggregateFunctionNode:qa.cloneWithFilter(this.#e.aggregateFunctionNode,mo(e,r,n))})}over(e){const r=Q$();return new us({...this.#e,aggregateFunctionNode:qa.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new us(this.#e)}$notNull(){return new us(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}ur(us,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class rW{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return il.create(this.#e.toOperationNode(),Yr.create(this.#t))}}function ET(){const t=(r,n)=>new Lr(sk.create(r,xf(n??[]))),e=(r,n)=>new us({aggregateFunctionNode:qa.create(r,n?xf(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new us({aggregateFunctionNode:qa.create("count",yo(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new us({aggregateFunctionNode:qa.create("json_agg",[Ki(r)?fn(r):r.toOperationNode()])})},toJson(r){return new Lr(sk.create("to_json",[Ki(r)?fn(r):r.toOperationNode()]))}})}const nW=R({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return R({kind:"UnaryOperationNode",operator:t,operand:e})}});function iW(t,e){return nW.create(Ja.create(t),zi(e))}const ao=R({is(t){return t.kind==="CaseNode"},create(t){return R({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return R({...t,when:R(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return R({...t,when:t.when?R([...t.when.slice(0,-1),Gf.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return R({...t,...e})}});class NT{#e;constructor(e){this.#e=R(e)}when(...e){return new kT({...this.#e,node:ao.cloneWithWhen(this.#e.node,Gf.create(Dn(e)))})}}class kT{#e;constructor(e){this.#e=R(e)}then(e){return new sW({...this.#e,node:ao.cloneWithThen(this.#e.node,u0(e)?c0(e):_n(e))})}}class sW{#e;constructor(e){this.#e=R(e)}when(...e){return new kT({...this.#e,node:ao.cloneWithWhen(this.#e.node,Gf.create(Dn(e)))})}else(e){return new oW({...this.#e,node:ao.cloneWith(this.#e.node,{else:u0(e)?c0(e):_n(e)})})}end(){return new Lr(ao.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Lr(ao.cloneWith(this.#e.node,{isStatement:!0}))}}class oW{#e;constructor(e){this.#e=R(e)}end(){return new Lr(ao.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Lr(ao.cloneWith(this.#e.node,{isStatement:!0}))}}const ok=R({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return R({kind:"JSONPathLegNode",type:t,value:e})}});class sw{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,r){return Bm.is(this.#e)?new Nf(Bm.cloneWithTraversal(this.#e,Kd.is(this.#e.traversal)?Kd.cloneWithLeg(this.#e.traversal,ok.create(e,r)):cT.cloneWithValue(this.#e.traversal,po.createImmediate(r)))):new Nf(Kd.cloneWithLeg(this.#e,ok.create(e,r)))}}class Nf extends sw{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new aW(this,e)}$castTo(){return new Nf(this.#e)}$notNull(){return new Nf(this.#e)}toOperationNode(){return this.#e}}class aW{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return il.create(this.#e.toOperationNode(),qi(this.#t)?this.#t.toOperationNode():Yr.create(this.#t))}}const ak=R({is(t){return t.kind==="TupleNode"},create(t){return R({kind:"TupleNode",values:R(t)})}}),lW=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],uW=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],cW=R({is(t){return t.kind==="DataTypeNode"},create(t){return R({kind:"DataTypeNode",dataType:t})}});function dW(t){return!!(lW.includes(t)||uW.some(e=>e.test(t)))}function Xl(t){if(qi(t))return t.toOperationNode();if(dW(t))return cW.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const fW=R({is(t){return t.kind==="CastNode"},create(t,e){return R({kind:"CastNode",expression:t,dataType:e})}});function m0(t=Py){function e(s,a,l){return new Lr(d0(s,a,l))}function r(s,a){return new Lr(iW(s,a))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(s){return iw({queryId:Pr(),executor:t,queryNode:Rr.createFrom(kf(s))})},case(s){return new NT({node:ao.create(Ma(s)?void 0:zi(s))})},ref(s,a){return Ma(a)?new Lr(Zo(s)):new sw(f$(s,a))},jsonPath(){return new sw(Kd.create())},table(s){return new Lr(fn(s))},val(s){return new Lr(_n(s))},refTuple(...s){return new Lr(ak.create(s.map(zi)))},tuple(...s){return new Lr(ak.create(s.map(_n)))},lit(s){return new Lr(c0(s))},unary:r,not(s){return r("not",s)},exists(s){return r("exists",s)},neg(s){return r("-",s)},between(s,a,l){return new Lr(wc.create(zi(s),Ja.create("between"),Ga.create(_n(a),_n(l))))},betweenSymmetric(s,a,l){return new Lr(wc.create(zi(s),Ja.create("between symmetric"),Ga.create(_n(a),_n(l))))},and(s){return Jo(s)?new Lr(Wm(s,"and")):new Lr(z1(s,"and"))},or(s){return Jo(s)?new Lr(Wm(s,"or")):new Lr(z1(s,"or"))},parens(...s){const a=Dn(s);return xc.is(a)?new Lr(a):new Lr(xc.create(a))},cast(s,a){return new Lr(fW.create(zi(s),Xl(a)))},withSchema(s){return m0(t.withPluginAtFront(new Yf(s)))}});return n.fn=ET(),n.eb=n,n}function Lc(t){return m0()}function nu(t){if(qi(t))return t.toOperationNode();if(Gi(t))return t(Lc()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function OT(t){if(qi(t))return t.toOperationNode();if(Gi(t))return t(Lc()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Xf(t){return r$(t)||n$(t)||Gi(t)}function kf(t){return Jo(t)?t.map(e=>Of(e)):[Of(t)]}function Of(t){return Ki(t)?IT(t):OT(t)}function IT(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(TT);return il.create(fn(r),Yr.create(n))}else return fn(t)}function fn(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(TT);return $a.createWithSchema(r,n)}else return $a.create(t)}function TT(t){return t.trim()}const CT=R({is(t){return t.kind==="AddColumnNode"},create(t){return R({kind:"AddColumnNode",column:t})}}),Kr=R({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return R({kind:"ColumnDefinitionNode",column:mn.create(t),dataType:e})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):[e]})},cloneWith(t,e){return R({...t,...e})}}),qT=R({is(t){return t.kind==="DropColumnNode"},create(t){return R({kind:"DropColumnNode",column:mn.create(t)})}}),RT=R({is(t){return t.kind==="RenameColumnNode"},create(t,e){return R({kind:"RenameColumnNode",column:mn.create(t),renameTo:mn.create(e)})}}),y0=R({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return R({kind:"CheckConstraintNode",expression:t,name:e?Yr.create(e):void 0})}}),hW=["no action","restrict","cascade","set null","set default"],Zp=R({is(t){return t.kind==="ReferencesNode"},create(t,e){return R({kind:"ReferencesNode",table:t,columns:R([...e])})},cloneWithOnDelete(t,e){return R({...t,onDelete:e})},cloneWithOnUpdate(t,e){return R({...t,onUpdate:e})}});function AT(t){return qi(t)?t.toOperationNode():po.createImmediate(t)}const Cp=R({is(t){return t.kind==="GeneratedNode"},create(t){return R({kind:"GeneratedNode",...t})},createWithExpression(t){return R({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return R({...t,...e})}}),pW=R({is(t){return t.kind==="DefaultValueNode"},create(t){return R({kind:"DefaultValueNode",defaultValue:t})}});function Qm(t){if(hW.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Br{#e;constructor(e){this.#e=e}autoIncrement(){return new Br(Kr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Br(Kr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Br(Kr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const r=Zo(e);if(!r.table||o0.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Br(Kr.cloneWith(this.#e,{references:Zp.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Br(Kr.cloneWith(this.#e,{references:Zp.cloneWithOnDelete(this.#e.references,Qm(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Br(Kr.cloneWith(this.#e,{references:Zp.cloneWithOnUpdate(this.#e.references,Qm(e))}))}unique(){return new Br(Kr.cloneWith(this.#e,{unique:!0}))}notNull(){return new Br(Kr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Br(Kr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Br(Kr.cloneWith(this.#e,{defaultTo:pW.create(AT(e))}))}check(e){return new Br(Kr.cloneWith(this.#e,{check:y0.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Br(Kr.cloneWith(this.#e,{generated:Cp.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Br(Kr.cloneWith(this.#e,{generated:Cp.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Br(Kr.cloneWith(this.#e,{generated:Cp.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Br(Kr.cloneWith(this.#e,{generated:Cp.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Br(Kr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Br(Kr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Br(Kr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Br(Kr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}ur(Br,"don't await ColumnDefinitionBuilder instances directly.");const PT=R({is(t){return t.kind==="ModifyColumnNode"},create(t){return R({kind:"ModifyColumnNode",column:t})}}),Km=R({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return R({kind:"ForeignKeyConstraintNode",columns:t,references:Zp.create(e,r),name:n?Yr.create(n):void 0})},cloneWith(t,e){return R({...t,...e})}});class Sc{#e;constructor(e){this.#e=e}onDelete(e){return new Sc(Km.cloneWith(this.#e,{onDelete:Qm(e)}))}onUpdate(e){return new Sc(Km.cloneWith(this.#e,{onUpdate:Qm(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}ur(Sc,"don't await ForeignKeyConstraintBuilder instances directly.");const Yp=R({is(t){return t.kind==="AddConstraintNode"},create(t){return R({kind:"AddConstraintNode",constraint:t})}}),g0=R({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return R({kind:"UniqueConstraintNode",columns:R(t.map(mn.create)),name:e?Yr.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return R({...t,...e})}}),Xp=R({is(t){return t.kind==="DropConstraintNode"},create(t){return R({kind:"DropConstraintNode",constraintName:Yr.create(t)})},cloneWith(t,e){return R({...t,...e})}}),Td=R({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return R({kind:"AlterColumnNode",column:mn.create(t),[e]:r})}});class v0{#e;constructor(e){this.#e=e}setDataType(e){return new $u(Td.create(this.#e,"dataType",Xl(e)))}setDefault(e){return new $u(Td.create(this.#e,"setDefault",AT(e)))}dropDefault(){return new $u(Td.create(this.#e,"dropDefault",!0))}setNotNull(){return new $u(Td.create(this.#e,"setNotNull",!0))}dropNotNull(){return new $u(Td.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}ur(v0,"don't await AlterColumnBuilder instances");class $u{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}ur($u,"don't await AlteredColumnBuilder instances");class Rl{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Rl,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class If{#e;constructor(e){this.#e=R(e)}onDelete(e){return new If({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new If({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Ar.cloneWithTableProps(this.#e.node,{addConstraint:Yp.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(If,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class lc{#e;constructor(e){this.#e=R(e)}ifExists(){return new lc({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{dropConstraint:Xp.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new lc({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{dropConstraint:Xp.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new lc({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{dropConstraint:Xp.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(lc,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const FT=R({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return R({kind:"PrimaryKeyConstraintNode",columns:R(t.map(mn.create)),name:e?Yr.create(e):void 0})}}),Wu=R({is(t){return t.kind==="AddIndexNode"},create(t){return R({kind:"AddIndexNode",name:Yr.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}});class Ra{#e;constructor(e){this.#e=R(e)}unique(){return new Ra({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addIndex:Wu.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Ra({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addIndex:Wu.cloneWithColumns(this.#e.node.addIndex,[$m(e)])})})}columns(e){return new Ra({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addIndex:Wu.cloneWithColumns(this.#e.node.addIndex,e.map($m))})})}expression(e){return new Ra({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addIndex:Wu.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Ra({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addIndex:Wu.cloneWith(this.#e.node.addIndex,{using:Hn.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Ra,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class eh{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new eh(g0.cloneWith(this.#e,{nullsNotDistinct:!0}))}}ur(eh,"don't await UniqueConstraintNodeBuilder instances directly.");class LT{#e;constructor(e){this.#e=R(e)}renameTo(e){return new Rl({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{renameTo:fn(e)})})}setSchema(e){return new Rl({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{setSchema:Yr.create(e)})})}alterColumn(e,r){const n=r(new v0(e));return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,qT.create(e))})}renameColumn(e,r){return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,RT.create(e,r))})}addColumn(e,r,n=Ba){const s=n(new Br(Kr.create(e,Xl(r))));return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,CT.create(s.toOperationNode()))})}modifyColumn(e,r,n=Ba){const s=n(new Br(Kr.create(e,Xl(r))));return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,PT.create(s.toOperationNode()))})}addUniqueConstraint(e,r,n=Ba){const s=n(new eh(g0.create(r,e)));return new Rl({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addConstraint:Yp.create(s.toOperationNode())})})}addCheckConstraint(e,r){return new Rl({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addConstraint:Yp.create(y0.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,s){return new If({...this.#e,constraintBuilder:new Sc(Km.create(r.map(mn.create),fn(n),s.map(mn.create),e))})}addPrimaryKeyConstraint(e,r){return new Rl({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addConstraint:Yp.create(FT.create(r,e))})})}dropConstraint(e){return new lc({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{dropConstraint:Xp.create(e)})})}addIndex(e){return new Ra({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{addIndex:Wu.create(e)})})}dropIndex(e){return new Rl({...this.#e,node:Ar.cloneWithTableProps(this.#e.node,{dropIndex:Hd.create(e)})})}$call(e){return e(this)}}ur(LT,"don't await AlterTableBuilder instances");class cs{#e;constructor(e){this.#e=R(e)}alterColumn(e,r){const n=r(new v0(e));return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,qT.create(e))})}renameColumn(e,r){return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,RT.create(e,r))})}addColumn(e,r,n=Ba){const s=n(new Br(Kr.create(e,Xl(r))));return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,CT.create(s.toOperationNode()))})}modifyColumn(e,r,n=Ba){const s=n(new Br(Kr.create(e,Xl(r))));return new cs({...this.#e,node:Ar.cloneWithColumnAlteration(this.#e.node,PT.create(s.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(cs,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class jT extends _T{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class as{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new as({...this.#e,node:Mo.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new as({...this.#e,node:Mo.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new as({...this.#e,node:Mo.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new as({...this.#e,node:Mo.cloneWith(this.#e.node,{table:fn(e)})})}column(e){return new as({...this.#e,node:Mo.cloneWithColumns(this.#e.node,[$m(e)])})}columns(e){return new as({...this.#e,node:Mo.cloneWithColumns(this.#e.node,e.map($m))})}expression(e){return new as({...this.#e,node:Mo.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new as({...this.#e,node:Mo.cloneWith(this.#e.node,{using:Hn.createWithSql(e)})})}where(...e){const r=new jT;return new as({...this.#e,node:Tt.cloneWithWhere(this.#e.node,r.transformNode(Dn(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(as,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Fy{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new Fy({...this.#e,node:sT.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Fy,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function mW(t){if(t$.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class bi{#e;constructor(e){this.#e=R(e)}temporary(){return new bi({...this.#e,node:Li.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new bi({...this.#e,node:Li.cloneWith(this.#e.node,{onCommit:mW(e)})})}ifNotExists(){return new bi({...this.#e,node:Li.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=Ba){const s=n(new Br(Kr.create(e,Xl(r))));return new bi({...this.#e,node:Li.cloneWithColumn(this.#e.node,s.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new bi({...this.#e,node:Li.cloneWithConstraint(this.#e.node,FT.create(r,e))})}addUniqueConstraint(e,r,n=Ba){const s=n(new eh(g0.create(r,e)));return new bi({...this.#e,node:Li.cloneWithConstraint(this.#e.node,s.toOperationNode())})}addCheckConstraint(e,r){return new bi({...this.#e,node:Li.cloneWithConstraint(this.#e.node,y0.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,s,a=Ba){const l=a(new Sc(Km.create(r.map(mn.create),fn(n),s.map(mn.create),e)));return new bi({...this.#e,node:Li.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new bi({...this.#e,node:Li.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new bi({...this.#e,node:Li.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new bi({...this.#e,node:Li.cloneWith(this.#e.node,{selectQuery:nu(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(bi,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class uc{#e;constructor(e){this.#e=R(e)}on(e){return new uc({...this.#e,node:Hd.cloneWith(this.#e.node,{table:fn(e)})})}ifExists(){return new uc({...this.#e,node:Hd.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new uc({...this.#e,node:Hd.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(uc,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class Tf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Tf({...this.#e,node:Yb.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Tf({...this.#e,node:Yb.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Tf,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class Cf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Cf({...this.#e,node:Xb.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Cf({...this.#e,node:Xb.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Cf,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const ka=R({is(t){return t.kind==="CreateViewNode"},create(t){return R({kind:"CreateViewNode",name:Ka.create(t)})},cloneWith(t,e){return R({...t,...e})}});class yW{#e=new jT;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Wo{#e;constructor(e){this.#e=R(e)}temporary(){return new Wo({...this.#e,node:ka.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Wo({...this.#e,node:ka.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Wo({...this.#e,node:ka.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Wo({...this.#e,node:ka.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Wo({...this.#e,node:ka.cloneWith(this.#e.node,{columns:e.map(fT)})})}as(e){const r=e.withPlugin(new yW).toOperationNode();return new Wo({...this.#e,node:ka.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Wo,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const em=R({is(t){return t.kind==="DropViewNode"},create(t){return R({kind:"DropViewNode",name:Ka.create(t)})},cloneWith(t,e){return R({...t,...e})}});class cc{#e;constructor(e){this.#e=R(e)}materialized(){return new cc({...this.#e,node:em.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new cc({...this.#e,node:em.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new cc({...this.#e,node:em.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(cc,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const DT=R({is(t){return t.kind==="CreateTypeNode"},create(t){return R({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return R({...t,enum:l0.create(e.map(r=>po.createImmediate(r)))})}});class Ly{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Ly({...this.#e,node:DT.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Ly,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const MT=R({is(t){return t.kind==="DropTypeNode"},create(t){return R({kind:"DropTypeNode",name:t})},cloneWith(t,e){return R({...t,...e})}});class jy{#e;constructor(e){this.#e=R(e)}ifExists(){return new jy({...this.#e,node:MT.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(jy,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function lk(t){const e=".";if(t.includes(e)){const r=t.split(e).map(gW);if(r.length===2)return Ka.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return Ka.create(t)}function gW(t){return t.trim()}class Zd{#e;constructor(e){this.#e=e}createTable(e){return new bi({queryId:Pr(),executor:this.#e,node:Li.create(fn(e))})}dropTable(e){return new Cf({queryId:Pr(),executor:this.#e,node:Xb.create(fn(e))})}createIndex(e){return new as({queryId:Pr(),executor:this.#e,node:Mo.create(e)})}dropIndex(e){return new uc({queryId:Pr(),executor:this.#e,node:Hd.create(e)})}createSchema(e){return new Fy({queryId:Pr(),executor:this.#e,node:sT.create(e)})}dropSchema(e){return new Tf({queryId:Pr(),executor:this.#e,node:Yb.create(e)})}alterTable(e){return new LT({queryId:Pr(),executor:this.#e,node:Ar.create(fn(e))})}createView(e){return new Wo({queryId:Pr(),executor:this.#e,node:ka.create(e)})}dropView(e){return new cc({queryId:Pr(),executor:this.#e,node:em.create(e)})}createType(e){return new Ly({queryId:Pr(),executor:this.#e,node:DT.create(lk(e))})}dropType(e){return new jy({queryId:Pr(),executor:this.#e,node:MT.create(lk(e))})}withPlugin(e){return new Zd(this.#e.withPlugin(e))}withoutPlugins(){return new Zd(this.#e.withoutPlugins())}withSchema(e){return new Zd(this.#e.withPluginAtFront(new Yf(e)))}}class vW{ref(e){return new c$(e)}}class _W{#e;constructor(e){this.#e=e}async provideConnection(e){const r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}}class Pl extends bT{#e;#t;#r;constructor(e,r,n,s=[]){super(s),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new Pl(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new Pl(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new Pl(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new Pl(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Pl(this.#e,this.#t,this.#r,[])}}function uk(){return typeof performance<"u"&&Gi(performance.now)?performance.now():Date.now()}class bW{#e;#t;#r;#n;#i;#s=new WeakSet;constructor(e,r){this.#n=!1,this.#e=e,this.#t=r}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||(this.#r=this.#e.init().then(()=>{this.#n=!0}).catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const r=e.executeQuery;e.executeQuery=async n=>{let s;const a=uk();try{return await r.call(e,n)}catch(l){throw s=l,await this.#u(l,n,a),l}finally{s||await this.#l(n,a)}}}async #u(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async #l(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return uk()-e}}const wW=()=>{};class BT{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(wW);return this.#t=this.#r(e).finally(()=>{this.#t=void 0}),this.#t}async #r(e){return await e(this.#e)}}const xW=["read uncommitted","read committed","repeatable read","serializable","snapshot"];R(["query","error"]);class SW{#e;#t;constructor(e){Gi(e)?(this.#t=e,this.#e=R({query:!0,error:!0})):(this.#t=EW,this.#e=R({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function EW(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function NW(t){return so(t)&&Gi(t.compile)}class Pa extends Ca{#e;constructor(e){let r,n;if(kW(e))r={executor:e.executor},n={...e};else{const s=e.dialect,a=s.createDriver(),l=s.createQueryCompiler(),u=s.createAdapter(),d=new SW(e.log??[]),p=new bW(a,d),g=new _W(p),w=new Pl(l,u,g,e.plugins??[]);r={executor:w},n={config:e,executor:w,dialect:s,driver:p}}super(r),this.#e=R(n)}get schema(){return new Zd(this.#e.executor)}get dynamic(){return new vW}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new NT({node:ao.create(Ma(e)?void 0:nu(e))})}get fn(){return ET()}transaction(){return new Dy({...this.#e})}connection(){return new $T({...this.#e})}withPlugin(e){return new Pa({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Pa({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Pa({...this.#e,executor:this.#e.executor.withPluginAtFront(new Yf(e))})}withTables(){return new Pa({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=Pr()){const n=NW(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}}class Qu extends Pa{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new Qu({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Qu({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Qu({...this.#e,executor:this.#e.executor.withPluginAtFront(new Yf(e))})}withTables(){return new Qu({...this.#e})}}function kW(t){return so(t)&&so(t.config)&&so(t.driver)&&so(t.executor)&&so(t.dialect)}class $T{#e;constructor(e){this.#e=R(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{const n=this.#e.executor.withConnectionProvider(new BT(r)),s=new Pa({...this.#e,executor:n});return await e(s)})}}ur($T,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class Dy{#e;constructor(e){this.#e=R(e)}setIsolationLevel(e){return new Dy({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=this.#e,s={isolationLevel:r};return OW(s),this.#e.executor.provideConnection(async a=>{const l=this.#e.executor.withConnectionProvider(new BT(a)),u=new Qu({...n,executor:l});try{await this.#e.driver.beginTransaction(a,s);const d=await e(u);return await this.#e.driver.commitTransaction(a),d}catch(d){throw await this.#e.driver.rollbackTransaction(a),d}})}}ur(Dy,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function OW(t){if(t.isolationLevel&&!xW.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class dc{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new WT(this,e)}$castTo(){return new dc({...this.#e})}$notNull(){return new dc(this.#e)}withPlugin(e){return new dc({...this.#e,plugins:this.#e.plugins!==void 0?R([...this.#e.plugins,e]):R([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){const r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){const r=e!==void 0?e.getExecutor():Py;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}}function Ea(t){return new dc(t)}ur(dc,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class WT{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return il.create(this.#e.toOperationNode(),qi(this.#t)?this.#t.toOperationNode():Yr.create(this.#t))}}ur(WT,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const _0=Object.assign((t,...e)=>Ea({queryId:Pr(),rawNode:Hn.create(t,e?.map(ck)??[])}),{ref(t){return Ea({queryId:Pr(),rawNode:Hn.createWithChild(Zo(t))})},val(t){return Ea({queryId:Pr(),rawNode:Hn.createWithChild(_n(t))})},value(t){return this.val(t)},table(t){return Ea({queryId:Pr(),rawNode:Hn.createWithChild(fn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",Ea({queryId:Pr(),rawNode:Hn.create(e,t.map(Yr.create))})},lit(t){return Ea({queryId:Pr(),rawNode:Hn.createWithChild(po.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return Ea({queryId:Pr(),rawNode:Hn.createWithSql(t)})},join(t,e=_0`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let s=0;s<t.length;++s)r[2*s]=ck(t[s]),s!==t.length-1&&(r[2*s+1]=n);return Ea({queryId:Pr(),rawNode:Hn.createWithChildren(r)})}});function ck(t){return qi(t)?t.toOperationNode():_n(t)}class IW{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=R({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class TW extends IW{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),R({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const r=this.parentNode!==void 0&&!xc.is(this.parentNode)&&!Mi.is(this.parentNode)&&!Li.is(this.parentNode)&&!ka.is(this.parentNode)&&!xT.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){const n=e.length-1;for(let s=0;s<=n;s++)this.visitNode(e[s]),s<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const r=this.nodeStack.find(Tt.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!Ni.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!Ni.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const r=this.nodeStack.find(Tt.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!Ki(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(qW[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:r,parameters:n}=e;for(let s=0;s<r.length;++s)this.append(r[s]),n.length>s&&this.visitNode(n[s])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const r=this.nodeStack.find(Tt.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!Ni.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!Ni.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),Mm(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(CW[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return Ja.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const r of e.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(e){const r=e.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(e.value)),r&&this.append("]")}visitJSONOperatorChain(e){for(let r=0,n=e.values.length;r<n;r++)r===n-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[r])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper();let s="";for(const a of e)s+=a,a===r?s+=r:a===n&&(s+=n);return s}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(Ki(e))this.append(`'${e}'`);else if(Ry(e)||Mm(e))this.append(e.toString());else if(i0(e))this.append("null");else if(e$(e))this.appendImmediateValue(e.toISOString());else if(s0(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((r,n)=>r.modifier&&n.modifier?dk[r.modifier]-dk[n.modifier]:1),R(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const CW=R({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),dk=R({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),qW=R({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class RW{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const AW=/"/g;class PW extends TW{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(AW,'""')}visitDefaultInsertValue(e){this.append("null")}}const FW="kysely_migration",LW="kysely_migration_lock";R({__noMigrations__:!0});class jW{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",FW).where("name","!=",LW));const n=await r.execute();return Promise.all(n.map(({name:s})=>this.#t(s)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const r=this.#e,n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),s=n.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),a=await r.selectFrom(_0`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:a.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===s,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class DW extends RW{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const fk="function",Ku="64e10b34-2bf7-4616-9668-f99de5aa046e",MW="get",BW="has",$W="set",{isArray:tm}=Array;let{SharedArrayBuffer:Gm,window:WW}=globalThis,{notify:zT,wait:UT,waitAsync:Jm}=Atomics,VT=null;Jm||(Jm=t=>({value:new Promise(e=>{let r=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");r.onmessage=e,r.postMessage(t)})}));try{new Gm(4)}catch{Gm=ArrayBuffer;const e=new WeakMap;if(WW){const r=new Map,{prototype:{postMessage:n}}=Worker,s=a=>{const l=a.data?.[Ku];if(!tm(l)){a.stopImmediatePropagation();const{id:u,sb:d}=l;r.get(u)(d)}};VT=function(a,...l){const u=a?.[Ku];if(tm(u)){const[d,p]=u;e.set(p,d),this.addEventListener("message",s)}return n.call(this,a,...l)},Jm=a=>({value:new Promise(l=>{r.set(e.get(a),l)}).then(l=>{r.delete(e.get(a)),e.delete(a);for(let u=0;u<l.length;u++)a[u]=l[u];return"ok"})})}else{const r=(n,s)=>({[Ku]:{id:n,sb:s}});zT=n=>{postMessage(r(e.get(n),n))},addEventListener("message",n=>{const s=n.data?.[Ku];if(tm(s)){const[a,l]=s;e.set(l,a)}})}}const{Int32Array:ow,Map:hk,Uint16Array:aw}=globalThis,{BYTES_PER_ELEMENT:pk}=ow,{BYTES_PER_ELEMENT:zW}=aw,UW=(t,e,r)=>{for(;UT(t,0,0,e)==="timed-out";)r()},lw=new WeakSet,rb=new WeakMap,VW={value:{then:t=>t()}};let HW=0;const b0=(t,{parse:e=JSON.parse,stringify:r=JSON.stringify,transform:n,interrupt:s}=JSON)=>{if(!rb.has(t)){const a=VT||t.postMessage,l=(N,...k)=>a.call(t,{[Ku]:k},{transfer:N}),u=typeof s===fk?s:s?.handler,d=s?.delay||42,p=new TextDecoder("utf-16"),g=(N,k)=>N?Jm(k,0):(u?UW(k,d,u):UT(k,0),VW);let w=!1;rb.set(t,new Proxy(new hk,{[BW]:(N,k)=>typeof k=="string"&&!k.startsWith("_"),[MW]:(N,k)=>k==="then"?null:(...I)=>{const T=HW++;let A=new ow(new Gm(pk*2)),D=[];lw.has(I.at(-1)||D)&&lw.delete(D=I.pop()),l(D,T,A,k,n?I.map(n):I);const L=t!==globalThis;let $=0;return w&&L&&($=setTimeout(console.warn,1e3,`💀🔒 - Possible deadlock if proxy.${k}(...args) is awaited`)),g(L,A).value.then(()=>{clearTimeout($);const V=A[1];if(!V)return;const K=zW*V;return A=new ow(new Gm(K+K%pk)),l([],T,A),g(L,A).value.then(()=>e(p.decode(new aw(A.buffer).slice(0,V))))})},[$W](N,k,I){const T=typeof I;if(T!==fk)throw new Error(`Unable to assign ${k} as ${T}`);if(!N.size){const A=new hk;t.addEventListener("message",async D=>{const L=D.data?.[Ku];if(tm(L)){D.stopImmediatePropagation();const[$,V,...K]=L;let B;if(K.length){const[J,ne]=K;if(N.has(J)){w=!0;try{const U=await N.get(J)(...ne);if(U!==void 0){const re=r(n?n(U):U);A.set($,re),V[1]=re.length}}catch(U){B=U}finally{w=!1}}else B=new Error(`Unsupported action: ${J}`);V[0]=1}else{const J=A.get($);A.delete($);for(let ne=new aw(V.buffer),U=0;U<J.length;U++)ne[U]=J.charCodeAt(U)}if(zT(V,0),B)throw B}})}return!!N.set(k,I)}}))}return rb.get(t)};b0.transfer=(...t)=>(lw.add(t),t);var w0=(()=>{var t=import.meta.url;return function(e={}){var r,n=e,s,a,l=new Promise((f,h)=>{s=f,a=h}),u=typeof window=="object",d=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const p=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,p.debugModule("globalThis.location =",globalThis.location);var g=Object.assign({},n),w="./this.program",N="";function k(f){return n.locateFile?n.locateFile(f,N):N+f}var I,T;(u||d)&&(d?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),t&&(N=t),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),d&&(T=f=>{var h=new XMLHttpRequest;return h.open("GET",f,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),I=f=>fetch(f,{credentials:"same-origin"}).then(h=>h.ok?h.arrayBuffer():Promise.reject(new Error(h.status+" : "+h.url))));var A=n.print||console.log.bind(console),D=n.printErr||console.error.bind(console);Object.assign(n,g),g=null,n.arguments&&n.arguments,n.thisProgram&&(w=n.thisProgram);var L=n.wasmBinary,$,V=!1,K,B,J,ne,U,re;function M(){var f=$.buffer;n.HEAP8=K=new Int8Array(f),n.HEAP16=J=new Int16Array(f),n.HEAPU8=B=new Uint8Array(f),n.HEAPU16=new Uint16Array(f),n.HEAP32=ne=new Int32Array(f),n.HEAPU32=U=new Uint32Array(f),n.HEAPF32=new Float32Array(f),n.HEAPF64=new Float64Array(f),n.HEAP64=re=new BigInt64Array(f),n.HEAPU64=new BigUint64Array(f)}if(n.wasmMemory)$=n.wasmMemory;else{var se=n.INITIAL_MEMORY||0x1000000;$=new WebAssembly.Memory({initial:se/65536,maximum:32768})}M();var Z=[],pe=[],Ce=[];function Te(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)me(n.preRun.shift());ae(Z)}function Fe(){!n.noFSInit&&!q.initialized&&q.init(),q.ignorePermissions=!1,ae(pe)}function ve(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)H(n.postRun.shift());ae(Ce)}function me(f){Z.unshift(f)}function Ne(f){pe.unshift(f)}function H(f){Ce.unshift(f)}var Se=0,lt=null;function at(f){return f}function dt(f){Se++,n.monitorRunDependencies?.(Se)}function mt(f){if(Se--,n.monitorRunDependencies?.(Se),Se==0&&lt){var h=lt;lt=null,h()}}function ft(f){n.onAbort?.(f),f="Aborted("+f+")",D(f),V=!0,f+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(f);throw a(h),h}var gt="data:application/octet-stream;base64,",Pt=f=>f.startsWith(gt);function vt(){if(n.locateFile){var f="sqlite3.wasm";return Pt(f)?f:k(f)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var yt;function Ct(f){if(f==yt&&L)return new Uint8Array(L);if(T)return T(f);throw"both async and sync fetching of the wasm failed"}function It(f){return L?Promise.resolve().then(()=>Ct(f)):I(f).then(h=>new Uint8Array(h),()=>Ct(f))}function er(f,h,_){return It(f).then(b=>WebAssembly.instantiate(b,h)).then(_,b=>{D(`failed to asynchronously prepare wasm: ${b}`),ft(b)})}function Zt(f,h,_,b){return!f&&typeof WebAssembly.instantiateStreaming=="function"&&!Pt(h)&&typeof fetch=="function"?fetch(h,{credentials:"same-origin"}).then(S=>{var O=WebAssembly.instantiateStreaming(S,_);return O.then(b,function(Y){return D(`wasm streaming compile failed: ${Y}`),D("falling back to ArrayBuffer instantiation"),er(h,_,b)})}):er(h,_,b)}function ir(){return{env:Gc,wasi_snapshot_preview1:Gc}}function pr(){var f=ir();function h(b,S){return ee=b.exports,Ne(ee.__wasm_call_ctors),mt(),ee}dt();function _(b){h(b.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(f,h)}catch(b){D(`Module.instantiateWasm callback failed with error: ${b}`),a(b)}return yt||(yt=vt()),Zt(L,yt,f,_).catch(a),{}}var ae=f=>{for(;f.length>0;)f.shift()(n)};n.noExitRuntime;var ue={isAbs:f=>f.charAt(0)==="/",splitPath:f=>{var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return h.exec(f).slice(1)},normalizeArray:(f,h)=>{for(var _=0,b=f.length-1;b>=0;b--){var S=f[b];S==="."?f.splice(b,1):S===".."?(f.splice(b,1),_++):_&&(f.splice(b,1),_--)}if(h)for(;_;_--)f.unshift("..");return f},normalize:f=>{var h=ue.isAbs(f),_=f.substr(-1)==="/";return f=ue.normalizeArray(f.split("/").filter(b=>!!b),!h).join("/"),!f&&!h&&(f="."),f&&_&&(f+="/"),(h?"/":"")+f},dirname:f=>{var h=ue.splitPath(f),_=h[0],b=h[1];return!_&&!b?".":(b&&(b=b.substr(0,b.length-1)),_+b)},basename:f=>{if(f==="/")return"/";f=ue.normalize(f),f=f.replace(/\/$/,"");var h=f.lastIndexOf("/");return h===-1?f:f.substr(h+1)},join:(...f)=>ue.normalize(f.join("/")),join2:(f,h)=>ue.normalize(f+"/"+h)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);ft("initRandomDevice")},qe=f=>(qe=ye())(f),De={resolve:(...f)=>{for(var h="",_=!1,b=f.length-1;b>=-1&&!_;b--){var S=b>=0?f[b]:q.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";h=S+"/"+h,_=ue.isAbs(S)}return h=ue.normalizeArray(h.split("/").filter(O=>!!O),!_).join("/"),(_?"/":"")+h||"."},relative:(f,h)=>{f=De.resolve(f).substr(1),h=De.resolve(h).substr(1);function _(Ue){for(var Je=0;Je<Ue.length&&Ue[Je]==="";Je++);for(var rt=Ue.length-1;rt>=0&&Ue[rt]==="";rt--);return Je>rt?[]:Ue.slice(Je,rt-Je+1)}for(var b=_(f.split("/")),S=_(h.split("/")),O=Math.min(b.length,S.length),Y=O,te=0;te<O;te++)if(b[te]!==S[te]){Y=te;break}for(var je=[],te=Y;te<b.length;te++)je.push("..");return je=je.concat(S.slice(Y)),je.join("/")}},Ge=typeof TextDecoder<"u"?new TextDecoder:void 0,_t=(f,h,_)=>{for(var b=h+_,S=h;f[S]&&!(S>=b);)++S;if(S-h>16&&f.buffer&&Ge)return Ge.decode(f.subarray(h,S));for(var O="";h<S;){var Y=f[h++];if(!(Y&128)){O+=String.fromCharCode(Y);continue}var te=f[h++]&63;if((Y&224)==192){O+=String.fromCharCode((Y&31)<<6|te);continue}var je=f[h++]&63;if((Y&240)==224?Y=(Y&15)<<12|te<<6|je:Y=(Y&7)<<18|te<<12|je<<6|f[h++]&63,Y<65536)O+=String.fromCharCode(Y);else{var Ue=Y-65536;O+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return O},Bt=[],xr=f=>{for(var h=0,_=0;_<f.length;++_){var b=f.charCodeAt(_);b<=127?h++:b<=2047?h+=2:b>=55296&&b<=57343?(h+=4,++_):h+=3}return h},mr=(f,h,_,b)=>{if(!(b>0))return 0;for(var S=_,O=_+b-1,Y=0;Y<f.length;++Y){var te=f.charCodeAt(Y);if(te>=55296&&te<=57343){var je=f.charCodeAt(++Y);te=65536+((te&1023)<<10)|je&1023}if(te<=127){if(_>=O)break;h[_++]=te}else if(te<=2047){if(_+1>=O)break;h[_++]=192|te>>6,h[_++]=128|te&63}else if(te<=65535){if(_+2>=O)break;h[_++]=224|te>>12,h[_++]=128|te>>6&63,h[_++]=128|te&63}else{if(_+3>=O)break;h[_++]=240|te>>18,h[_++]=128|te>>12&63,h[_++]=128|te>>6&63,h[_++]=128|te&63}}return h[_]=0,_-S};function jr(f,h,_){var b=xr(f)+1,S=new Array(b),O=mr(f,S,0,S.length);return S.length=O,S}var Yn=()=>{if(!Bt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f)return null;Bt=jr(f)}return Bt.shift()},an={ttys:[],init(){},shutdown(){},register(f,h){an.ttys[f]={input:[],output:[],ops:h},q.registerDevice(f,an.stream_ops)},stream_ops:{open(f){var h=an.ttys[f.node.rdev];if(!h)throw new q.ErrnoError(43);f.tty=h,f.seekable=!1},close(f){f.tty.ops.fsync(f.tty)},fsync(f){f.tty.ops.fsync(f.tty)},read(f,h,_,b,S){if(!f.tty||!f.tty.ops.get_char)throw new q.ErrnoError(60);for(var O=0,Y=0;Y<b;Y++){var te;try{te=f.tty.ops.get_char(f.tty)}catch{throw new q.ErrnoError(29)}if(te===void 0&&O===0)throw new q.ErrnoError(6);if(te==null)break;O++,h[_+Y]=te}return O&&(f.node.timestamp=Date.now()),O},write(f,h,_,b,S){if(!f.tty||!f.tty.ops.put_char)throw new q.ErrnoError(60);try{for(var O=0;O<b;O++)f.tty.ops.put_char(f.tty,h[_+O])}catch{throw new q.ErrnoError(29)}return b&&(f.node.timestamp=Date.now()),O}},default_tty_ops:{get_char(f){return Yn()},put_char(f,h){h===null||h===10?(A(_t(f.output,0)),f.output=[]):h!=0&&f.output.push(h)},fsync(f){f.output&&f.output.length>0&&(A(_t(f.output,0)),f.output=[])},ioctl_tcgets(f){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(f,h,_){return 0},ioctl_tiocgwinsz(f){return[24,80]}},default_tty1_ops:{put_char(f,h){h===null||h===10?(D(_t(f.output,0)),f.output=[]):h!=0&&f.output.push(h)},fsync(f){f.output&&f.output.length>0&&(D(_t(f.output,0)),f.output=[])}}},fi=(f,h)=>(B.fill(0,f,f+h),f),xo=(f,h)=>Math.ceil(f/h)*h,qn=f=>{f=xo(f,65536);var h=Jc(65536,f);return h?fi(h,f):0},Vt={ops_table:null,mount(f){return Vt.createNode(null,"/",16895,0)},createNode(f,h,_,b){if(q.isBlkdev(_)||q.isFIFO(_))throw new q.ErrnoError(63);Vt.ops_table||={dir:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,lookup:Vt.node_ops.lookup,mknod:Vt.node_ops.mknod,rename:Vt.node_ops.rename,unlink:Vt.node_ops.unlink,rmdir:Vt.node_ops.rmdir,readdir:Vt.node_ops.readdir,symlink:Vt.node_ops.symlink},stream:{llseek:Vt.stream_ops.llseek}},file:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:{llseek:Vt.stream_ops.llseek,read:Vt.stream_ops.read,write:Vt.stream_ops.write,allocate:Vt.stream_ops.allocate,mmap:Vt.stream_ops.mmap,msync:Vt.stream_ops.msync}},link:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,readlink:Vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:q.chrdev_stream_ops}};var S=q.createNode(f,h,_,b);return q.isDir(S.mode)?(S.node_ops=Vt.ops_table.dir.node,S.stream_ops=Vt.ops_table.dir.stream,S.contents={}):q.isFile(S.mode)?(S.node_ops=Vt.ops_table.file.node,S.stream_ops=Vt.ops_table.file.stream,S.usedBytes=0,S.contents=null):q.isLink(S.mode)?(S.node_ops=Vt.ops_table.link.node,S.stream_ops=Vt.ops_table.link.stream):q.isChrdev(S.mode)&&(S.node_ops=Vt.ops_table.chrdev.node,S.stream_ops=Vt.ops_table.chrdev.stream),S.timestamp=Date.now(),f&&(f.contents[h]=S,f.timestamp=S.timestamp),S},getFileDataAsTypedArray(f){return f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0)},expandFileStorage(f,h){var _=f.contents?f.contents.length:0;if(!(_>=h)){var b=1024*1024;h=Math.max(h,_*(_<b?2:1.125)>>>0),_!=0&&(h=Math.max(h,256));var S=f.contents;f.contents=new Uint8Array(h),f.usedBytes>0&&f.contents.set(S.subarray(0,f.usedBytes),0)}},resizeFileStorage(f,h){if(f.usedBytes!=h)if(h==0)f.contents=null,f.usedBytes=0;else{var _=f.contents;f.contents=new Uint8Array(h),_&&f.contents.set(_.subarray(0,Math.min(h,f.usedBytes))),f.usedBytes=h}},node_ops:{getattr(f){var h={};return h.dev=q.isChrdev(f.mode)?f.id:1,h.ino=f.id,h.mode=f.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=f.rdev,q.isDir(f.mode)?h.size=4096:q.isFile(f.mode)?h.size=f.usedBytes:q.isLink(f.mode)?h.size=f.link.length:h.size=0,h.atime=new Date(f.timestamp),h.mtime=new Date(f.timestamp),h.ctime=new Date(f.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr(f,h){h.mode!==void 0&&(f.mode=h.mode),h.timestamp!==void 0&&(f.timestamp=h.timestamp),h.size!==void 0&&Vt.resizeFileStorage(f,h.size)},lookup(f,h){throw q.genericErrors[44]},mknod(f,h,_,b){return Vt.createNode(f,h,_,b)},rename(f,h,_){if(q.isDir(f.mode)){var b;try{b=q.lookupNode(h,_)}catch{}if(b)for(var S in b.contents)throw new q.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=_,h.contents[_]=f,h.timestamp=f.parent.timestamp},unlink(f,h){delete f.contents[h],f.timestamp=Date.now()},rmdir(f,h){var _=q.lookupNode(f,h);for(var b in _.contents)throw new q.ErrnoError(55);delete f.contents[h],f.timestamp=Date.now()},readdir(f){var h=[".",".."];for(var _ of Object.keys(f.contents))h.push(_);return h},symlink(f,h,_){var b=Vt.createNode(f,h,41471,0);return b.link=_,b},readlink(f){if(!q.isLink(f.mode))throw new q.ErrnoError(28);return f.link}},stream_ops:{read(f,h,_,b,S){var O=f.node.contents;if(S>=f.node.usedBytes)return 0;var Y=Math.min(f.node.usedBytes-S,b);if(Y>8&&O.subarray)h.set(O.subarray(S,S+Y),_);else for(var te=0;te<Y;te++)h[_+te]=O[S+te];return Y},write(f,h,_,b,S,O){if(h.buffer===K.buffer&&(O=!1),!b)return 0;var Y=f.node;if(Y.timestamp=Date.now(),h.subarray&&(!Y.contents||Y.contents.subarray)){if(O)return Y.contents=h.subarray(_,_+b),Y.usedBytes=b,b;if(Y.usedBytes===0&&S===0)return Y.contents=h.slice(_,_+b),Y.usedBytes=b,b;if(S+b<=Y.usedBytes)return Y.contents.set(h.subarray(_,_+b),S),b}if(Vt.expandFileStorage(Y,S+b),Y.contents.subarray&&h.subarray)Y.contents.set(h.subarray(_,_+b),S);else for(var te=0;te<b;te++)Y.contents[S+te]=h[_+te];return Y.usedBytes=Math.max(Y.usedBytes,S+b),b},llseek(f,h,_){var b=h;if(_===1?b+=f.position:_===2&&q.isFile(f.node.mode)&&(b+=f.node.usedBytes),b<0)throw new q.ErrnoError(28);return b},allocate(f,h,_){Vt.expandFileStorage(f.node,h+_),f.node.usedBytes=Math.max(f.node.usedBytes,h+_)},mmap(f,h,_,b,S){if(!q.isFile(f.node.mode))throw new q.ErrnoError(43);var O,Y,te=f.node.contents;if(!(S&2)&&te&&te.buffer===K.buffer)Y=!1,O=te.byteOffset;else{if(Y=!0,O=qn(h),!O)throw new q.ErrnoError(48);te&&((_>0||_+h<te.length)&&(te.subarray?te=te.subarray(_,_+h):te=Array.prototype.slice.call(te,_,_+h)),K.set(te,O))}return{ptr:O,allocated:Y}},msync(f,h,_,b,S){return Vt.stream_ops.write(f,h,0,b,_,!1),0}}},ta=(f,h,_,b)=>{var S=`al ${f}`;I(f).then(O=>{h(new Uint8Array(O)),S&&mt()},O=>{if(_)_();else throw`Loading data file "${f}" failed.`}),S&&dt()},ra=(f,h,_,b,S,O)=>{q.createDataFile(f,h,_,b,S,O)},na=n.preloadPlugins||[],Mc=(f,h,_,b)=>{typeof Browser<"u"&&Browser.init();var S=!1;return na.forEach(O=>{S||O.canHandle(h)&&(O.handle(f,h,_,b),S=!0)}),S},Bc=(f,h,_,b,S,O,Y,te,je,Ue)=>{var Je=h?De.resolve(ue.join2(f,h)):f;function rt(Ae){function xe(ze){Ue?.(),te||ra(f,h,ze,b,S,je),O?.(),mt()}Mc(Ae,Je,xe,()=>{Y?.(),mt()})||xe(Ae)}dt(),typeof _=="string"?ta(_,rt,Y):rt(_)},$c=f=>{var h={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},_=h[f];if(typeof _>"u")throw new Error(`Unknown file open mode: ${f}`);return _},Js=(f,h)=>{var _=0;return f&&(_|=365),h&&(_|=146),_},q={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(f){this.name="ErrnoError",this.errno=f}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(f){this.node=f}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(f){this.shared.flags=f}get position(){return this.shared.position}set position(f){this.shared.position=f}},FSNode:class{constructor(f,h,_,b){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=q.nextInode++,this.name=h,this.mode=_,this.node_ops={},this.stream_ops={},this.rdev=b,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(f){f?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(f){f?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return q.isDir(this.mode)}get isDevice(){return q.isChrdev(this.mode)}},lookupPath(f,h={}){if(f=De.resolve(f),!f)return{path:"",node:null};var _={follow_mount:!0,recurse_count:0};if(h=Object.assign(_,h),h.recurse_count>8)throw new q.ErrnoError(32);for(var b=f.split("/").filter(rt=>!!rt),S=q.root,O="/",Y=0;Y<b.length;Y++){var te=Y===b.length-1;if(te&&h.parent)break;if(S=q.lookupNode(S,b[Y]),O=ue.join2(O,b[Y]),q.isMountpoint(S)&&(!te||te&&h.follow_mount)&&(S=S.mounted.root),!te||h.follow)for(var je=0;q.isLink(S.mode);){var Ue=q.readlink(O);O=De.resolve(ue.dirname(O),Ue);var Je=q.lookupPath(O,{recurse_count:h.recurse_count+1});if(S=Je.node,je++>40)throw new q.ErrnoError(32)}}return{path:O,node:S}},getPath(f){for(var h;;){if(q.isRoot(f)){var _=f.mount.mountpoint;return h?_[_.length-1]!=="/"?`${_}/${h}`:_+h:_}h=h?`${f.name}/${h}`:f.name,f=f.parent}},hashName(f,h){for(var _=0,b=0;b<h.length;b++)_=(_<<5)-_+h.charCodeAt(b)|0;return(f+_>>>0)%q.nameTable.length},hashAddNode(f){var h=q.hashName(f.parent.id,f.name);f.name_next=q.nameTable[h],q.nameTable[h]=f},hashRemoveNode(f){var h=q.hashName(f.parent.id,f.name);if(q.nameTable[h]===f)q.nameTable[h]=f.name_next;else for(var _=q.nameTable[h];_;){if(_.name_next===f){_.name_next=f.name_next;break}_=_.name_next}},lookupNode(f,h){var _=q.mayLookup(f);if(_)throw new q.ErrnoError(_);for(var b=q.hashName(f.id,h),S=q.nameTable[b];S;S=S.name_next){var O=S.name;if(S.parent.id===f.id&&O===h)return S}return q.lookup(f,h)},createNode(f,h,_,b){var S=new q.FSNode(f,h,_,b);return q.hashAddNode(S),S},destroyNode(f){q.hashRemoveNode(f)},isRoot(f){return f===f.parent},isMountpoint(f){return!!f.mounted},isFile(f){return(f&61440)===32768},isDir(f){return(f&61440)===16384},isLink(f){return(f&61440)===40960},isChrdev(f){return(f&61440)===8192},isBlkdev(f){return(f&61440)===24576},isFIFO(f){return(f&61440)===4096},isSocket(f){return(f&49152)===49152},flagsToPermissionString(f){var h=["r","w","rw"][f&3];return f&512&&(h+="w"),h},nodePermissions(f,h){return q.ignorePermissions?0:h.includes("r")&&!(f.mode&292)||h.includes("w")&&!(f.mode&146)||h.includes("x")&&!(f.mode&73)?2:0},mayLookup(f){if(!q.isDir(f.mode))return 54;var h=q.nodePermissions(f,"x");return h||(f.node_ops.lookup?0:2)},mayCreate(f,h){try{var _=q.lookupNode(f,h);return 20}catch{}return q.nodePermissions(f,"wx")},mayDelete(f,h,_){var b;try{b=q.lookupNode(f,h)}catch(O){return O.errno}var S=q.nodePermissions(f,"wx");if(S)return S;if(_){if(!q.isDir(b.mode))return 54;if(q.isRoot(b)||q.getPath(b)===q.cwd())return 10}else if(q.isDir(b.mode))return 31;return 0},mayOpen(f,h){return f?q.isLink(f.mode)?32:q.isDir(f.mode)&&(q.flagsToPermissionString(h)!=="r"||h&512)?31:q.nodePermissions(f,q.flagsToPermissionString(h)):44},MAX_OPEN_FDS:4096,nextfd(){for(var f=0;f<=q.MAX_OPEN_FDS;f++)if(!q.streams[f])return f;throw new q.ErrnoError(33)},getStreamChecked(f){var h=q.getStream(f);if(!h)throw new q.ErrnoError(8);return h},getStream:f=>q.streams[f],createStream(f,h=-1){return f=Object.assign(new q.FSStream,f),h==-1&&(h=q.nextfd()),f.fd=h,q.streams[h]=f,f},closeStream(f){q.streams[f]=null},dupStream(f,h=-1){var _=q.createStream(f,h);return _.stream_ops?.dup?.(_),_},chrdev_stream_ops:{open(f){var h=q.getDevice(f.node.rdev);f.stream_ops=h.stream_ops,f.stream_ops.open?.(f)},llseek(){throw new q.ErrnoError(70)}},major:f=>f>>8,minor:f=>f&255,makedev:(f,h)=>f<<8|h,registerDevice(f,h){q.devices[f]={stream_ops:h}},getDevice:f=>q.devices[f],getMounts(f){for(var h=[],_=[f];_.length;){var b=_.pop();h.push(b),_.push(...b.mounts)}return h},syncfs(f,h){typeof f=="function"&&(h=f,f=!1),q.syncFSRequests++,q.syncFSRequests>1&&D(`warning: ${q.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var _=q.getMounts(q.root.mount),b=0;function S(Y){return q.syncFSRequests--,h(Y)}function O(Y){if(Y)return O.errored?void 0:(O.errored=!0,S(Y));++b>=_.length&&S(null)}_.forEach(Y=>{if(!Y.type.syncfs)return O(null);Y.type.syncfs(Y,f,O)})},mount(f,h,_){var b=_==="/",S=!_,O;if(b&&q.root)throw new q.ErrnoError(10);if(!b&&!S){var Y=q.lookupPath(_,{follow_mount:!1});if(_=Y.path,O=Y.node,q.isMountpoint(O))throw new q.ErrnoError(10);if(!q.isDir(O.mode))throw new q.ErrnoError(54)}var te={type:f,opts:h,mountpoint:_,mounts:[]},je=f.mount(te);return je.mount=te,te.root=je,b?q.root=je:O&&(O.mounted=te,O.mount&&O.mount.mounts.push(te)),je},unmount(f){var h=q.lookupPath(f,{follow_mount:!1});if(!q.isMountpoint(h.node))throw new q.ErrnoError(28);var _=h.node,b=_.mounted,S=q.getMounts(b);Object.keys(q.nameTable).forEach(Y=>{for(var te=q.nameTable[Y];te;){var je=te.name_next;S.includes(te.mount)&&q.destroyNode(te),te=je}}),_.mounted=null;var O=_.mount.mounts.indexOf(b);_.mount.mounts.splice(O,1)},lookup(f,h){return f.node_ops.lookup(f,h)},mknod(f,h,_){var b=q.lookupPath(f,{parent:!0}),S=b.node,O=ue.basename(f);if(!O||O==="."||O==="..")throw new q.ErrnoError(28);var Y=q.mayCreate(S,O);if(Y)throw new q.ErrnoError(Y);if(!S.node_ops.mknod)throw new q.ErrnoError(63);return S.node_ops.mknod(S,O,h,_)},create(f,h){return h=h!==void 0?h:438,h&=4095,h|=32768,q.mknod(f,h,0)},mkdir(f,h){return h=h!==void 0?h:511,h&=1023,h|=16384,q.mknod(f,h,0)},mkdirTree(f,h){for(var _=f.split("/"),b="",S=0;S<_.length;++S)if(_[S]){b+="/"+_[S];try{q.mkdir(b,h)}catch(O){if(O.errno!=20)throw O}}},mkdev(f,h,_){return typeof _>"u"&&(_=h,h=438),h|=8192,q.mknod(f,h,_)},symlink(f,h){if(!De.resolve(f))throw new q.ErrnoError(44);var _=q.lookupPath(h,{parent:!0}),b=_.node;if(!b)throw new q.ErrnoError(44);var S=ue.basename(h),O=q.mayCreate(b,S);if(O)throw new q.ErrnoError(O);if(!b.node_ops.symlink)throw new q.ErrnoError(63);return b.node_ops.symlink(b,S,f)},rename(f,h){var _=ue.dirname(f),b=ue.dirname(h),S=ue.basename(f),O=ue.basename(h),Y,te,je;if(Y=q.lookupPath(f,{parent:!0}),te=Y.node,Y=q.lookupPath(h,{parent:!0}),je=Y.node,!te||!je)throw new q.ErrnoError(44);if(te.mount!==je.mount)throw new q.ErrnoError(75);var Ue=q.lookupNode(te,S),Je=De.relative(f,b);if(Je.charAt(0)!==".")throw new q.ErrnoError(28);if(Je=De.relative(h,_),Je.charAt(0)!==".")throw new q.ErrnoError(55);var rt;try{rt=q.lookupNode(je,O)}catch{}if(Ue!==rt){var Ae=q.isDir(Ue.mode),xe=q.mayDelete(te,S,Ae);if(xe)throw new q.ErrnoError(xe);if(xe=rt?q.mayDelete(je,O,Ae):q.mayCreate(je,O),xe)throw new q.ErrnoError(xe);if(!te.node_ops.rename)throw new q.ErrnoError(63);if(q.isMountpoint(Ue)||rt&&q.isMountpoint(rt))throw new q.ErrnoError(10);if(je!==te&&(xe=q.nodePermissions(te,"w"),xe))throw new q.ErrnoError(xe);q.hashRemoveNode(Ue);try{te.node_ops.rename(Ue,je,O),Ue.parent=je}catch(ze){throw ze}finally{q.hashAddNode(Ue)}}},rmdir(f){var h=q.lookupPath(f,{parent:!0}),_=h.node,b=ue.basename(f),S=q.lookupNode(_,b),O=q.mayDelete(_,b,!0);if(O)throw new q.ErrnoError(O);if(!_.node_ops.rmdir)throw new q.ErrnoError(63);if(q.isMountpoint(S))throw new q.ErrnoError(10);_.node_ops.rmdir(_,b),q.destroyNode(S)},readdir(f){var h=q.lookupPath(f,{follow:!0}),_=h.node;if(!_.node_ops.readdir)throw new q.ErrnoError(54);return _.node_ops.readdir(_)},unlink(f){var h=q.lookupPath(f,{parent:!0}),_=h.node;if(!_)throw new q.ErrnoError(44);var b=ue.basename(f),S=q.lookupNode(_,b),O=q.mayDelete(_,b,!1);if(O)throw new q.ErrnoError(O);if(!_.node_ops.unlink)throw new q.ErrnoError(63);if(q.isMountpoint(S))throw new q.ErrnoError(10);_.node_ops.unlink(_,b),q.destroyNode(S)},readlink(f){var h=q.lookupPath(f),_=h.node;if(!_)throw new q.ErrnoError(44);if(!_.node_ops.readlink)throw new q.ErrnoError(28);return De.resolve(q.getPath(_.parent),_.node_ops.readlink(_))},stat(f,h){var _=q.lookupPath(f,{follow:!h}),b=_.node;if(!b)throw new q.ErrnoError(44);if(!b.node_ops.getattr)throw new q.ErrnoError(63);return b.node_ops.getattr(b)},lstat(f){return q.stat(f,!0)},chmod(f,h,_){var b;if(typeof f=="string"){var S=q.lookupPath(f,{follow:!_});b=S.node}else b=f;if(!b.node_ops.setattr)throw new q.ErrnoError(63);b.node_ops.setattr(b,{mode:h&4095|b.mode&-4096,timestamp:Date.now()})},lchmod(f,h){q.chmod(f,h,!0)},fchmod(f,h){var _=q.getStreamChecked(f);q.chmod(_.node,h)},chown(f,h,_,b){var S;if(typeof f=="string"){var O=q.lookupPath(f,{follow:!b});S=O.node}else S=f;if(!S.node_ops.setattr)throw new q.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(f,h,_){q.chown(f,h,_,!0)},fchown(f,h,_){var b=q.getStreamChecked(f);q.chown(b.node,h,_)},truncate(f,h){if(h<0)throw new q.ErrnoError(28);var _;if(typeof f=="string"){var b=q.lookupPath(f,{follow:!0});_=b.node}else _=f;if(!_.node_ops.setattr)throw new q.ErrnoError(63);if(q.isDir(_.mode))throw new q.ErrnoError(31);if(!q.isFile(_.mode))throw new q.ErrnoError(28);var S=q.nodePermissions(_,"w");if(S)throw new q.ErrnoError(S);_.node_ops.setattr(_,{size:h,timestamp:Date.now()})},ftruncate(f,h){var _=q.getStreamChecked(f);if(!(_.flags&2097155))throw new q.ErrnoError(28);q.truncate(_.node,h)},utime(f,h,_){var b=q.lookupPath(f,{follow:!0}),S=b.node;S.node_ops.setattr(S,{timestamp:Math.max(h,_)})},open(f,h,_){if(f==="")throw new q.ErrnoError(44);h=typeof h=="string"?$c(h):h,h&64?(_=typeof _>"u"?438:_,_=_&4095|32768):_=0;var b;if(typeof f=="object")b=f;else{f=ue.normalize(f);try{var S=q.lookupPath(f,{follow:!(h&131072)});b=S.node}catch{}}var O=!1;if(h&64)if(b){if(h&128)throw new q.ErrnoError(20)}else b=q.mknod(f,_,0),O=!0;if(!b)throw new q.ErrnoError(44);if(q.isChrdev(b.mode)&&(h&=-513),h&65536&&!q.isDir(b.mode))throw new q.ErrnoError(54);if(!O){var Y=q.mayOpen(b,h);if(Y)throw new q.ErrnoError(Y)}h&512&&!O&&q.truncate(b,0),h&=-131713;var te=q.createStream({node:b,path:q.getPath(b),flags:h,seekable:!0,position:0,stream_ops:b.stream_ops,ungotten:[],error:!1});return te.stream_ops.open&&te.stream_ops.open(te),n.logReadFiles&&!(h&1)&&(q.readFiles||(q.readFiles={}),f in q.readFiles||(q.readFiles[f]=1)),te},close(f){if(q.isClosed(f))throw new q.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(h){throw h}finally{q.closeStream(f.fd)}f.fd=null},isClosed(f){return f.fd===null},llseek(f,h,_){if(q.isClosed(f))throw new q.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new q.ErrnoError(70);if(_!=0&&_!=1&&_!=2)throw new q.ErrnoError(28);return f.position=f.stream_ops.llseek(f,h,_),f.ungotten=[],f.position},read(f,h,_,b,S){if(b<0||S<0)throw new q.ErrnoError(28);if(q.isClosed(f))throw new q.ErrnoError(8);if((f.flags&2097155)===1)throw new q.ErrnoError(8);if(q.isDir(f.node.mode))throw new q.ErrnoError(31);if(!f.stream_ops.read)throw new q.ErrnoError(28);var O=typeof S<"u";if(!O)S=f.position;else if(!f.seekable)throw new q.ErrnoError(70);var Y=f.stream_ops.read(f,h,_,b,S);return O||(f.position+=Y),Y},write(f,h,_,b,S,O){if(b<0||S<0)throw new q.ErrnoError(28);if(q.isClosed(f))throw new q.ErrnoError(8);if(!(f.flags&2097155))throw new q.ErrnoError(8);if(q.isDir(f.node.mode))throw new q.ErrnoError(31);if(!f.stream_ops.write)throw new q.ErrnoError(28);f.seekable&&f.flags&1024&&q.llseek(f,0,2);var Y=typeof S<"u";if(!Y)S=f.position;else if(!f.seekable)throw new q.ErrnoError(70);var te=f.stream_ops.write(f,h,_,b,S,O);return Y||(f.position+=te),te},allocate(f,h,_){if(q.isClosed(f))throw new q.ErrnoError(8);if(h<0||_<=0)throw new q.ErrnoError(28);if(!(f.flags&2097155))throw new q.ErrnoError(8);if(!q.isFile(f.node.mode)&&!q.isDir(f.node.mode))throw new q.ErrnoError(43);if(!f.stream_ops.allocate)throw new q.ErrnoError(138);f.stream_ops.allocate(f,h,_)},mmap(f,h,_,b,S){if(b&2&&!(S&2)&&(f.flags&2097155)!==2)throw new q.ErrnoError(2);if((f.flags&2097155)===1)throw new q.ErrnoError(2);if(!f.stream_ops.mmap)throw new q.ErrnoError(43);if(!h)throw new q.ErrnoError(28);return f.stream_ops.mmap(f,h,_,b,S)},msync(f,h,_,b,S){return f.stream_ops.msync?f.stream_ops.msync(f,h,_,b,S):0},ioctl(f,h,_){if(!f.stream_ops.ioctl)throw new q.ErrnoError(59);return f.stream_ops.ioctl(f,h,_)},readFile(f,h={}){if(h.flags=h.flags||0,h.encoding=h.encoding||"binary",h.encoding!=="utf8"&&h.encoding!=="binary")throw new Error(`Invalid encoding type "${h.encoding}"`);var _,b=q.open(f,h.flags),S=q.stat(f),O=S.size,Y=new Uint8Array(O);return q.read(b,Y,0,O,0),h.encoding==="utf8"?_=_t(Y,0):h.encoding==="binary"&&(_=Y),q.close(b),_},writeFile(f,h,_={}){_.flags=_.flags||577;var b=q.open(f,_.flags,_.mode);if(typeof h=="string"){var S=new Uint8Array(xr(h)+1),O=mr(h,S,0,S.length);q.write(b,S,0,O,void 0,_.canOwn)}else if(ArrayBuffer.isView(h))q.write(b,h,0,h.byteLength,void 0,_.canOwn);else throw new Error("Unsupported data type");q.close(b)},cwd:()=>q.currentPath,chdir(f){var h=q.lookupPath(f,{follow:!0});if(h.node===null)throw new q.ErrnoError(44);if(!q.isDir(h.node.mode))throw new q.ErrnoError(54);var _=q.nodePermissions(h.node,"x");if(_)throw new q.ErrnoError(_);q.currentPath=h.path},createDefaultDirectories(){q.mkdir("/tmp"),q.mkdir("/home"),q.mkdir("/home/web_user")},createDefaultDevices(){q.mkdir("/dev"),q.registerDevice(q.makedev(1,3),{read:()=>0,write:(b,S,O,Y,te)=>Y}),q.mkdev("/dev/null",q.makedev(1,3)),an.register(q.makedev(5,0),an.default_tty_ops),an.register(q.makedev(6,0),an.default_tty1_ops),q.mkdev("/dev/tty",q.makedev(5,0)),q.mkdev("/dev/tty1",q.makedev(6,0));var f=new Uint8Array(1024),h=0,_=()=>(h===0&&(h=qe(f).byteLength),f[--h]);q.createDevice("/dev","random",_),q.createDevice("/dev","urandom",_),q.mkdir("/dev/shm"),q.mkdir("/dev/shm/tmp")},createSpecialDirectories(){q.mkdir("/proc");var f=q.mkdir("/proc/self");q.mkdir("/proc/self/fd"),q.mount({mount(){var h=q.createNode(f,"fd",16895,73);return h.node_ops={lookup(_,b){var S=+b,O=q.getStreamChecked(S),Y={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>O.path}};return Y.parent=Y,Y}},h}},{},"/proc/self/fd")},createStandardStreams(f,h,_){f?q.createDevice("/dev","stdin",f):q.symlink("/dev/tty","/dev/stdin"),h?q.createDevice("/dev","stdout",null,h):q.symlink("/dev/tty","/dev/stdout"),_?q.createDevice("/dev","stderr",null,_):q.symlink("/dev/tty1","/dev/stderr"),q.open("/dev/stdin",0),q.open("/dev/stdout",1),q.open("/dev/stderr",1)},staticInit(){[44].forEach(f=>{q.genericErrors[f]=new q.ErrnoError(f),q.genericErrors[f].stack="<generic error, no stack>"}),q.nameTable=new Array(4096),q.mount(Vt,{},"/"),q.createDefaultDirectories(),q.createDefaultDevices(),q.createSpecialDirectories(),q.filesystems={MEMFS:Vt}},init(f,h,_){q.initialized=!0,f??=n.stdin,h??=n.stdout,_??=n.stderr,q.createStandardStreams(f,h,_)},quit(){q.initialized=!1;for(var f=0;f<q.streams.length;f++){var h=q.streams[f];h&&q.close(h)}},findObject(f,h){var _=q.analyzePath(f,h);return _.exists?_.object:null},analyzePath(f,h){try{var _=q.lookupPath(f,{follow:!h});f=_.path}catch{}var b={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var _=q.lookupPath(f,{parent:!0});b.parentExists=!0,b.parentPath=_.path,b.parentObject=_.node,b.name=ue.basename(f),_=q.lookupPath(f,{follow:!h}),b.exists=!0,b.path=_.path,b.object=_.node,b.name=_.node.name,b.isRoot=_.path==="/"}catch(S){b.error=S.errno}return b},createPath(f,h,_,b){f=typeof f=="string"?f:q.getPath(f);for(var S=h.split("/").reverse();S.length;){var O=S.pop();if(O){var Y=ue.join2(f,O);try{q.mkdir(Y)}catch{}f=Y}}return Y},createFile(f,h,_,b,S){var O=ue.join2(typeof f=="string"?f:q.getPath(f),h),Y=Js(b,S);return q.create(O,Y)},createDataFile(f,h,_,b,S,O){var Y=h;f&&(f=typeof f=="string"?f:q.getPath(f),Y=h?ue.join2(f,h):f);var te=Js(b,S),je=q.create(Y,te);if(_){if(typeof _=="string"){for(var Ue=new Array(_.length),Je=0,rt=_.length;Je<rt;++Je)Ue[Je]=_.charCodeAt(Je);_=Ue}q.chmod(je,te|146);var Ae=q.open(je,577);q.write(Ae,_,0,_.length,0,O),q.close(Ae),q.chmod(je,te)}},createDevice(f,h,_,b){var S=ue.join2(typeof f=="string"?f:q.getPath(f),h),O=Js(!!_,!!b);q.createDevice.major||(q.createDevice.major=64);var Y=q.makedev(q.createDevice.major++,0);return q.registerDevice(Y,{open(te){te.seekable=!1},close(te){b?.buffer?.length&&b(10)},read(te,je,Ue,Je,rt){for(var Ae=0,xe=0;xe<Je;xe++){var ze;try{ze=_()}catch{throw new q.ErrnoError(29)}if(ze===void 0&&Ae===0)throw new q.ErrnoError(6);if(ze==null)break;Ae++,je[Ue+xe]=ze}return Ae&&(te.node.timestamp=Date.now()),Ae},write(te,je,Ue,Je,rt){for(var Ae=0;Ae<Je;Ae++)try{b(je[Ue+Ae])}catch{throw new q.ErrnoError(29)}return Je&&(te.node.timestamp=Date.now()),Ae}}),q.mkdev(S,O,Y)},forceLoadFile(f){if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{f.contents=T(f.url),f.usedBytes=f.contents.length}catch{throw new q.ErrnoError(29)}},createLazyFile(f,h,_,b,S){class O{constructor(){this.lengthKnown=!1,this.chunks=[]}get(xe){if(!(xe>this.length-1||xe<0)){var ze=xe%this.chunkSize,le=xe/this.chunkSize|0;return this.getter(le)[ze]}}setDataGetter(xe){this.getter=xe}cacheLength(){var xe=new XMLHttpRequest;if(xe.open("HEAD",_,!1),xe.send(null),!(xe.status>=200&&xe.status<300||xe.status===304))throw new Error("Couldn't load "+_+". Status: "+xe.status);var ze=Number(xe.getResponseHeader("Content-length")),le,he=(le=xe.getResponseHeader("Accept-Ranges"))&&le==="bytes",_e=(le=xe.getResponseHeader("Content-Encoding"))&&le==="gzip",$e=1024*1024;he||($e=ze);var Be=(Me,ht)=>{if(Me>ht)throw new Error("invalid range ("+Me+", "+ht+") or no bytes requested!");if(ht>ze-1)throw new Error("only "+ze+" bytes available! programmer error!");var F=new XMLHttpRequest;if(F.open("GET",_,!1),ze!==$e&&F.setRequestHeader("Range","bytes="+Me+"-"+ht),F.responseType="arraybuffer",F.overrideMimeType&&F.overrideMimeType("text/plain; charset=x-user-defined"),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+_+". Status: "+F.status);return F.response!==void 0?new Uint8Array(F.response||[]):jr(F.responseText||"")},we=this;we.setDataGetter(Me=>{var ht=Me*$e,F=(Me+1)*$e-1;if(F=Math.min(F,ze-1),typeof we.chunks[Me]>"u"&&(we.chunks[Me]=Be(ht,F)),typeof we.chunks[Me]>"u")throw new Error("doXHR failed!");return we.chunks[Me]}),(_e||!ze)&&($e=ze=1,ze=this.getter(0).length,$e=ze,A("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ze,this._chunkSize=$e,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Y=new O,te={isDevice:!1,contents:Y}}else var te={isDevice:!1,url:_};var je=q.createFile(f,h,te,b,S);te.contents?je.contents=te.contents:te.url&&(je.contents=null,je.url=te.url),Object.defineProperties(je,{usedBytes:{get:function(){return this.contents.length}}});var Ue={},Je=Object.keys(je.stream_ops);Je.forEach(Ae=>{var xe=je.stream_ops[Ae];Ue[Ae]=(...ze)=>(q.forceLoadFile(je),xe(...ze))});function rt(Ae,xe,ze,le,he){var _e=Ae.node.contents;if(he>=_e.length)return 0;var $e=Math.min(_e.length-he,le);if(_e.slice)for(var Be=0;Be<$e;Be++)xe[ze+Be]=_e[he+Be];else for(var Be=0;Be<$e;Be++)xe[ze+Be]=_e.get(he+Be);return $e}return Ue.read=(Ae,xe,ze,le,he)=>(q.forceLoadFile(je),rt(Ae,xe,ze,le,he)),Ue.mmap=(Ae,xe,ze,le,he)=>{q.forceLoadFile(je);var _e=qn(xe);if(!_e)throw new q.ErrnoError(48);return rt(Ae,K,_e,xe,ze),{ptr:_e,allocated:!0}},je.stream_ops=Ue,je}},lh=(f,h)=>f?_t(B,f,h):"",rr={DEFAULT_POLLMASK:5,calculateAt(f,h,_){if(ue.isAbs(h))return h;var b;if(f===-100)b=q.cwd();else{var S=rr.getStreamFromFD(f);b=S.path}if(h.length==0){if(!_)throw new q.ErrnoError(44);return b}return ue.join2(b,h)},doStat(f,h,_){var b=f(h);ne[_>>2]=b.dev,ne[_+4>>2]=b.mode,U[_+8>>2]=b.nlink,ne[_+12>>2]=b.uid,ne[_+16>>2]=b.gid,ne[_+20>>2]=b.rdev,re[_+24>>3]=BigInt(b.size),ne[_+32>>2]=4096,ne[_+36>>2]=b.blocks;var S=b.atime.getTime(),O=b.mtime.getTime(),Y=b.ctime.getTime();return re[_+40>>3]=BigInt(Math.floor(S/1e3)),U[_+48>>2]=S%1e3*1e3*1e3,re[_+56>>3]=BigInt(Math.floor(O/1e3)),U[_+64>>2]=O%1e3*1e3*1e3,re[_+72>>3]=BigInt(Math.floor(Y/1e3)),U[_+80>>2]=Y%1e3*1e3*1e3,re[_+88>>3]=BigInt(b.ino),0},doMsync(f,h,_,b,S){if(!q.isFile(h.node.mode))throw new q.ErrnoError(43);if(b&2)return 0;var O=B.slice(f,f+_);q.msync(h,O,S,_,b)},getStreamFromFD(f){var h=q.getStreamChecked(f);return h},varargs:void 0,getStr(f){var h=lh(f);return h}};function uh(f,h){try{return f=rr.getStr(f),q.chmod(f,h),0}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function ch(f,h,_,b){try{if(h=rr.getStr(h),h=rr.calculateAt(f,h),_&-8)return-28;var S=q.lookupPath(h,{follow:!0}),O=S.node;if(!O)return-44;var Y="";return _&4&&(Y+="r"),_&2&&(Y+="w"),_&1&&(Y+="x"),Y&&q.nodePermissions(O,Y)?-2:0}catch(te){if(typeof q>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function dh(f,h){try{return q.fchmod(f,h),0}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Wc(f,h,_){try{return q.fchown(f,h,_),0}catch(b){if(typeof q>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function cl(){var f=ne[+rr.varargs>>2];return rr.varargs+=4,f}var Ji=cl;function zc(f,h,_){rr.varargs=_;try{var b=rr.getStreamFromFD(f);switch(h){case 0:{var S=cl();if(S<0)return-28;for(;q.streams[S];)S++;var O;return O=q.dupStream(b,S),O.fd}case 1:case 2:return 0;case 3:return b.flags;case 4:{var S=cl();return b.flags|=S,0}case 12:{var S=Ji(),Y=0;return J[S+Y>>1]=2,0}case 13:case 14:return 0}return-28}catch(te){if(typeof q>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function dl(f,h){try{var _=rr.getStreamFromFD(f);return rr.doStat(q.stat,_.path,h)}catch(b){if(typeof q>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var Gy=0x20000000000000,fl=-0x20000000000000,Zs=f=>f<fl||f>Gy?NaN:Number(f);function su(f,h){h=Zs(h);try{return isNaN(h)?61:(q.ftruncate(f,h),0)}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var Ys=(f,h,_)=>mr(f,B,h,_);function Jy(f,h){try{if(h===0)return-28;var _=q.cwd(),b=xr(_)+1;return h<b?-68:(Ys(_,f,h),b)}catch(S){if(typeof q>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Zy(f,h,_){rr.varargs=_;try{var b=rr.getStreamFromFD(f);switch(h){case 21509:return b.tty?0:-59;case 21505:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tcgets){var S=b.tty.ops.ioctl_tcgets(b),O=Ji();ne[O>>2]=S.c_iflag||0,ne[O+4>>2]=S.c_oflag||0,ne[O+8>>2]=S.c_cflag||0,ne[O+12>>2]=S.c_lflag||0;for(var Y=0;Y<32;Y++)K[O+Y+17]=S.c_cc[Y]||0;return 0}return 0}case 21510:case 21511:case 21512:return b.tty?0:-59;case 21506:case 21507:case 21508:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tcsets){for(var O=Ji(),te=ne[O>>2],je=ne[O+4>>2],Ue=ne[O+8>>2],Je=ne[O+12>>2],rt=[],Y=0;Y<32;Y++)rt.push(K[O+Y+17]);return b.tty.ops.ioctl_tcsets(b.tty,h,{c_iflag:te,c_oflag:je,c_cflag:Ue,c_lflag:Je,c_cc:rt})}return 0}case 21519:{if(!b.tty)return-59;var O=Ji();return ne[O>>2]=0,0}case 21520:return b.tty?-28:-59;case 21531:{var O=Ji();return q.ioctl(b,h,O)}case 21523:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tiocgwinsz){var Ae=b.tty.ops.ioctl_tiocgwinsz(b.tty),O=Ji();J[O>>1]=Ae[0],J[O+2>>1]=Ae[1]}return 0}case 21524:return b.tty?0:-59;case 21515:return b.tty?0:-59;default:return-28}}catch(xe){if(typeof q>"u"||xe.name!=="ErrnoError")throw xe;return-xe.errno}}function Yy(f,h){try{return f=rr.getStr(f),rr.doStat(q.lstat,f,h)}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function So(f,h,_){try{return h=rr.getStr(h),h=rr.calculateAt(f,h),h=ue.normalize(h),h[h.length-1]==="/"&&(h=h.substr(0,h.length-1)),q.mkdir(h,_,0),0}catch(b){if(typeof q>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function fh(f,h,_,b){try{h=rr.getStr(h);var S=b&256,O=b&4096;return b=b&-6401,h=rr.calculateAt(f,h,O),rr.doStat(S?q.lstat:q.stat,h,_)}catch(Y){if(typeof q>"u"||Y.name!=="ErrnoError")throw Y;return-Y.errno}}function hh(f,h,_,b){rr.varargs=b;try{h=rr.getStr(h),h=rr.calculateAt(f,h);var S=b?cl():0;return q.open(h,_,S).fd}catch(O){if(typeof q>"u"||O.name!=="ErrnoError")throw O;return-O.errno}}function Xy(f,h,_,b){try{if(h=rr.getStr(h),h=rr.calculateAt(f,h),b<=0)return-28;var S=q.readlink(h),O=Math.min(b,xr(S)),Y=K[_+O];return Ys(S,_,b+1),K[_+O]=Y,O}catch(te){if(typeof q>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function ph(f){try{return f=rr.getStr(f),q.rmdir(f),0}catch(h){if(typeof q>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function mh(f,h){try{return f=rr.getStr(f),rr.doStat(q.stat,f,h)}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function yh(f,h,_){try{return h=rr.getStr(h),h=rr.calculateAt(f,h),_===0?q.unlink(h):_===512?q.rmdir(h):ft("Invalid flags passed to unlinkat"),0}catch(b){if(typeof q>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var Uc=f=>U[f>>2]+ne[f+4>>2]*0x100000000;function eg(f,h,_,b){try{h=rr.getStr(h),h=rr.calculateAt(f,h,!0);var S=Date.now(),O,Y;if(!_)O=S,Y=S;else{var te=Uc(_),je=ne[_+8>>2];je==0x3fffffff?O=S:je==0x3ffffffe?O=-1:O=te*1e3+je/(1e3*1e3),_+=16,te=Uc(_),je=ne[_+8>>2],je==0x3fffffff?Y=S:je==0x3ffffffe?Y=-1:Y=te*1e3+je/(1e3*1e3)}return(Y!=-1||O!=-1)&&q.utime(h,O,Y),0}catch(Ue){if(typeof q>"u"||Ue.name!=="ErrnoError")throw Ue;return-Ue.errno}}var tg=1,en=()=>tg,rg=f=>f%4===0&&(f%100!==0||f%400===0),Vc=[0,31,60,91,121,152,182,213,244,274,305,335],gh=[0,31,59,90,120,151,181,212,243,273,304,334],ou=f=>{var h=rg(f.getFullYear()),_=h?Vc:gh,b=_[f.getMonth()]+f.getDate()-1;return b};function ng(f,h){f=Zs(f);var _=new Date(f*1e3);ne[h>>2]=_.getSeconds(),ne[h+4>>2]=_.getMinutes(),ne[h+8>>2]=_.getHours(),ne[h+12>>2]=_.getDate(),ne[h+16>>2]=_.getMonth(),ne[h+20>>2]=_.getFullYear()-1900,ne[h+24>>2]=_.getDay();var b=ou(_)|0;ne[h+28>>2]=b,ne[h+36>>2]=-(_.getTimezoneOffset()*60);var S=new Date(_.getFullYear(),0,1),O=new Date(_.getFullYear(),6,1).getTimezoneOffset(),Y=S.getTimezoneOffset(),te=(O!=Y&&_.getTimezoneOffset()==Math.min(Y,O))|0;ne[h+32>>2]=te}function vh(f,h,_,b,S,O,Y){S=Zs(S);try{if(isNaN(S))return 61;var te=rr.getStreamFromFD(b),je=q.mmap(te,f,S,h,_),Ue=je.ptr;return ne[O>>2]=je.allocated,U[Y>>2]=Ue,0}catch(Je){if(typeof q>"u"||Je.name!=="ErrnoError")throw Je;return-Je.errno}}function au(f,h,_,b,S,O){O=Zs(O);try{var Y=rr.getStreamFromFD(S);_&2&&rr.doMsync(f,Y,h,b,O)}catch(te){if(typeof q>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}var Zi=(f,h,_,b)=>{var S=new Date().getFullYear(),O=new Date(S,0,1),Y=new Date(S,6,1),te=O.getTimezoneOffset(),je=Y.getTimezoneOffset(),Ue=Math.max(te,je);U[f>>2]=Ue*60,ne[h>>2]=+(te!=je);var Je=xe=>{var ze=xe>=0?"-":"+",le=Math.abs(xe),he=String(Math.floor(le/60)).padStart(2,"0"),_e=String(le%60).padStart(2,"0");return`UTC${ze}${he}${_e}`},rt=Je(te),Ae=Je(je);je<te?(Ys(rt,_,17),Ys(Ae,b,17)):(Ys(rt,b,17),Ys(Ae,_,17))},ig=()=>Date.now(),hi;hi=()=>performance.now();var sg=()=>0x80000000,og=f=>{var h=$.buffer,_=(f-h.byteLength+65535)/65536;try{return $.grow(_),M(),1}catch{}},ag=f=>{var h=B.length;f>>>=0;var _=sg();if(f>_)return!1;for(var b=1;b<=4;b*=2){var S=h*(1+.2/b);S=Math.min(S,f+0x6000000);var O=Math.min(_,xo(Math.max(f,S),65536)),Y=og(O);if(Y)return!0}return!1},ia={},lu=()=>w||"./this.program",xs=()=>{if(!xs.strings){var f=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:f,_:lu()};for(var _ in ia)ia[_]===void 0?delete h[_]:h[_]=ia[_];var b=[];for(var _ in h)b.push(`${_}=${h[_]}`);xs.strings=b}return xs.strings},uu=(f,h)=>{for(var _=0;_<f.length;++_)K[h++]=f.charCodeAt(_);K[h]=0},lg=(f,h)=>{var _=0;return xs().forEach((b,S)=>{var O=h+_;U[f+S*4>>2]=O,uu(b,O),_+=b.length+1}),0},ug=(f,h)=>{var _=xs();U[f>>2]=_.length;var b=0;return _.forEach(S=>b+=S.length+1),U[h>>2]=b,0};function Hc(f){try{var h=rr.getStreamFromFD(f);return q.close(h),0}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return _.errno}}function _h(f,h){try{var _=0,b=0,S=0,O=rr.getStreamFromFD(f),Y=O.tty?2:q.isDir(O.mode)?3:q.isLink(O.mode)?7:4;return K[h]=Y,J[h+2>>1]=S,re[h+8>>3]=BigInt(_),re[h+16>>3]=BigInt(b),0}catch(te){if(typeof q>"u"||te.name!=="ErrnoError")throw te;return te.errno}}var Qc=(f,h,_,b)=>{for(var S=0,O=0;O<_;O++){var Y=U[h>>2],te=U[h+4>>2];h+=8;var je=q.read(f,K,Y,te,b);if(je<0)return-1;if(S+=je,je<te)break}return S};function hl(f,h,_,b){try{var S=rr.getStreamFromFD(f),O=Qc(S,h,_);return U[b>>2]=O,0}catch(Y){if(typeof q>"u"||Y.name!=="ErrnoError")throw Y;return Y.errno}}function cg(f,h,_,b){h=Zs(h);try{if(isNaN(h))return 61;var S=rr.getStreamFromFD(f);return q.llseek(S,h,_),re[b>>3]=BigInt(S.position),S.getdents&&h===0&&_===0&&(S.getdents=null),0}catch(O){if(typeof q>"u"||O.name!=="ErrnoError")throw O;return O.errno}}function Kc(f){try{var h=rr.getStreamFromFD(f);return h.stream_ops?.fsync?h.stream_ops.fsync(h):0}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return _.errno}}var Sr=(f,h,_,b)=>{for(var S=0,O=0;O<_;O++){var Y=U[h>>2],te=U[h+4>>2];h+=8;var je=q.write(f,K,Y,te,b);if(je<0)return-1;if(S+=je,je<te)break}return S};function bh(f,h,_,b){try{var S=rr.getStreamFromFD(f),O=Sr(S,h,_);return U[b>>2]=O,0}catch(Y){if(typeof q>"u"||Y.name!=="ErrnoError")throw Y;return Y.errno}}q.createPreloadedFile=Bc,q.staticInit();var Gc={__syscall_chmod:uh,__syscall_faccessat:ch,__syscall_fchmod:dh,__syscall_fchown32:Wc,__syscall_fcntl64:zc,__syscall_fstat64:dl,__syscall_ftruncate64:su,__syscall_getcwd:Jy,__syscall_ioctl:Zy,__syscall_lstat64:Yy,__syscall_mkdirat:So,__syscall_newfstatat:fh,__syscall_openat:hh,__syscall_readlinkat:Xy,__syscall_rmdir:ph,__syscall_stat64:mh,__syscall_unlinkat:yh,__syscall_utimensat:eg,_emscripten_get_now_is_monotonic:en,_localtime_js:ng,_mmap_js:vh,_munmap_js:au,_tzset_js:Zi,emscripten_date_now:ig,emscripten_get_now:hi,emscripten_resize_heap:ag,environ_get:lg,environ_sizes_get:ug,fd_close:Hc,fd_fdstat_get:_h,fd_read:hl,fd_seek:cg,fd_sync:Kc,fd_write:bh,memory:$},ee=pr();n._sqlite3_status64=(f,h,_,b)=>(n._sqlite3_status64=ee.sqlite3_status64)(f,h,_,b),n._sqlite3_status=(f,h,_,b)=>(n._sqlite3_status=ee.sqlite3_status)(f,h,_,b),n._sqlite3_db_status=(f,h,_,b,S)=>(n._sqlite3_db_status=ee.sqlite3_db_status)(f,h,_,b,S),n._sqlite3_msize=f=>(n._sqlite3_msize=ee.sqlite3_msize)(f),n._sqlite3_vfs_find=f=>(n._sqlite3_vfs_find=ee.sqlite3_vfs_find)(f),n._sqlite3_initialize=()=>(n._sqlite3_initialize=ee.sqlite3_initialize)(),n._sqlite3_malloc=f=>(n._sqlite3_malloc=ee.sqlite3_malloc)(f),n._sqlite3_free=f=>(n._sqlite3_free=ee.sqlite3_free)(f),n._sqlite3_vfs_register=(f,h)=>(n._sqlite3_vfs_register=ee.sqlite3_vfs_register)(f,h),n._sqlite3_vfs_unregister=f=>(n._sqlite3_vfs_unregister=ee.sqlite3_vfs_unregister)(f),n._sqlite3_malloc64=f=>(n._sqlite3_malloc64=ee.sqlite3_malloc64)(f),n._sqlite3_realloc=(f,h)=>(n._sqlite3_realloc=ee.sqlite3_realloc)(f,h),n._sqlite3_realloc64=(f,h)=>(n._sqlite3_realloc64=ee.sqlite3_realloc64)(f,h),n._sqlite3_value_text=f=>(n._sqlite3_value_text=ee.sqlite3_value_text)(f),n._sqlite3_randomness=(f,h)=>(n._sqlite3_randomness=ee.sqlite3_randomness)(f,h),n._sqlite3_stricmp=(f,h)=>(n._sqlite3_stricmp=ee.sqlite3_stricmp)(f,h),n._sqlite3_strnicmp=(f,h,_)=>(n._sqlite3_strnicmp=ee.sqlite3_strnicmp)(f,h,_),n._sqlite3_uri_parameter=(f,h)=>(n._sqlite3_uri_parameter=ee.sqlite3_uri_parameter)(f,h),n._sqlite3_uri_boolean=(f,h,_)=>(n._sqlite3_uri_boolean=ee.sqlite3_uri_boolean)(f,h,_),n._sqlite3_serialize=(f,h,_,b)=>(n._sqlite3_serialize=ee.sqlite3_serialize)(f,h,_,b),n._sqlite3_prepare_v2=(f,h,_,b,S)=>(n._sqlite3_prepare_v2=ee.sqlite3_prepare_v2)(f,h,_,b,S),n._sqlite3_step=f=>(n._sqlite3_step=ee.sqlite3_step)(f),n._sqlite3_column_int64=(f,h)=>(n._sqlite3_column_int64=ee.sqlite3_column_int64)(f,h),n._sqlite3_reset=f=>(n._sqlite3_reset=ee.sqlite3_reset)(f),n._sqlite3_exec=(f,h,_,b,S)=>(n._sqlite3_exec=ee.sqlite3_exec)(f,h,_,b,S),n._sqlite3_column_int=(f,h)=>(n._sqlite3_column_int=ee.sqlite3_column_int)(f,h),n._sqlite3_finalize=f=>(n._sqlite3_finalize=ee.sqlite3_finalize)(f),n._sqlite3_file_control=(f,h,_,b)=>(n._sqlite3_file_control=ee.sqlite3_file_control)(f,h,_,b),n._sqlite3_column_name=(f,h)=>(n._sqlite3_column_name=ee.sqlite3_column_name)(f,h),n._sqlite3_column_text=(f,h)=>(n._sqlite3_column_text=ee.sqlite3_column_text)(f,h),n._sqlite3_column_type=(f,h)=>(n._sqlite3_column_type=ee.sqlite3_column_type)(f,h),n._sqlite3_errmsg=f=>(n._sqlite3_errmsg=ee.sqlite3_errmsg)(f),n._sqlite3_deserialize=(f,h,_,b,S,O)=>(n._sqlite3_deserialize=ee.sqlite3_deserialize)(f,h,_,b,S,O),n._sqlite3_clear_bindings=f=>(n._sqlite3_clear_bindings=ee.sqlite3_clear_bindings)(f),n._sqlite3_value_blob=f=>(n._sqlite3_value_blob=ee.sqlite3_value_blob)(f),n._sqlite3_value_bytes=f=>(n._sqlite3_value_bytes=ee.sqlite3_value_bytes)(f),n._sqlite3_value_double=f=>(n._sqlite3_value_double=ee.sqlite3_value_double)(f),n._sqlite3_value_int=f=>(n._sqlite3_value_int=ee.sqlite3_value_int)(f),n._sqlite3_value_int64=f=>(n._sqlite3_value_int64=ee.sqlite3_value_int64)(f),n._sqlite3_value_subtype=f=>(n._sqlite3_value_subtype=ee.sqlite3_value_subtype)(f),n._sqlite3_value_pointer=(f,h)=>(n._sqlite3_value_pointer=ee.sqlite3_value_pointer)(f,h),n._sqlite3_value_type=f=>(n._sqlite3_value_type=ee.sqlite3_value_type)(f),n._sqlite3_value_nochange=f=>(n._sqlite3_value_nochange=ee.sqlite3_value_nochange)(f),n._sqlite3_value_frombind=f=>(n._sqlite3_value_frombind=ee.sqlite3_value_frombind)(f),n._sqlite3_value_dup=f=>(n._sqlite3_value_dup=ee.sqlite3_value_dup)(f),n._sqlite3_value_free=f=>(n._sqlite3_value_free=ee.sqlite3_value_free)(f),n._sqlite3_result_blob=(f,h,_,b)=>(n._sqlite3_result_blob=ee.sqlite3_result_blob)(f,h,_,b),n._sqlite3_result_error_toobig=f=>(n._sqlite3_result_error_toobig=ee.sqlite3_result_error_toobig)(f),n._sqlite3_result_error_nomem=f=>(n._sqlite3_result_error_nomem=ee.sqlite3_result_error_nomem)(f),n._sqlite3_result_double=(f,h)=>(n._sqlite3_result_double=ee.sqlite3_result_double)(f,h),n._sqlite3_result_error=(f,h,_)=>(n._sqlite3_result_error=ee.sqlite3_result_error)(f,h,_),n._sqlite3_result_int=(f,h)=>(n._sqlite3_result_int=ee.sqlite3_result_int)(f,h),n._sqlite3_result_int64=(f,h)=>(n._sqlite3_result_int64=ee.sqlite3_result_int64)(f,h),n._sqlite3_result_null=f=>(n._sqlite3_result_null=ee.sqlite3_result_null)(f),n._sqlite3_result_pointer=(f,h,_,b)=>(n._sqlite3_result_pointer=ee.sqlite3_result_pointer)(f,h,_,b),n._sqlite3_result_subtype=(f,h)=>(n._sqlite3_result_subtype=ee.sqlite3_result_subtype)(f,h),n._sqlite3_result_text=(f,h,_,b)=>(n._sqlite3_result_text=ee.sqlite3_result_text)(f,h,_,b),n._sqlite3_result_zeroblob=(f,h)=>(n._sqlite3_result_zeroblob=ee.sqlite3_result_zeroblob)(f,h),n._sqlite3_result_zeroblob64=(f,h)=>(n._sqlite3_result_zeroblob64=ee.sqlite3_result_zeroblob64)(f,h),n._sqlite3_result_error_code=(f,h)=>(n._sqlite3_result_error_code=ee.sqlite3_result_error_code)(f,h),n._sqlite3_user_data=f=>(n._sqlite3_user_data=ee.sqlite3_user_data)(f),n._sqlite3_context_db_handle=f=>(n._sqlite3_context_db_handle=ee.sqlite3_context_db_handle)(f),n._sqlite3_vtab_nochange=f=>(n._sqlite3_vtab_nochange=ee.sqlite3_vtab_nochange)(f),n._sqlite3_vtab_in_first=(f,h)=>(n._sqlite3_vtab_in_first=ee.sqlite3_vtab_in_first)(f,h),n._sqlite3_vtab_in_next=(f,h)=>(n._sqlite3_vtab_in_next=ee.sqlite3_vtab_in_next)(f,h),n._sqlite3_aggregate_context=(f,h)=>(n._sqlite3_aggregate_context=ee.sqlite3_aggregate_context)(f,h),n._sqlite3_get_auxdata=(f,h)=>(n._sqlite3_get_auxdata=ee.sqlite3_get_auxdata)(f,h),n._sqlite3_set_auxdata=(f,h,_,b)=>(n._sqlite3_set_auxdata=ee.sqlite3_set_auxdata)(f,h,_,b),n._sqlite3_column_count=f=>(n._sqlite3_column_count=ee.sqlite3_column_count)(f),n._sqlite3_data_count=f=>(n._sqlite3_data_count=ee.sqlite3_data_count)(f),n._sqlite3_column_blob=(f,h)=>(n._sqlite3_column_blob=ee.sqlite3_column_blob)(f,h),n._sqlite3_column_bytes=(f,h)=>(n._sqlite3_column_bytes=ee.sqlite3_column_bytes)(f,h),n._sqlite3_column_double=(f,h)=>(n._sqlite3_column_double=ee.sqlite3_column_double)(f,h),n._sqlite3_column_value=(f,h)=>(n._sqlite3_column_value=ee.sqlite3_column_value)(f,h),n._sqlite3_column_decltype=(f,h)=>(n._sqlite3_column_decltype=ee.sqlite3_column_decltype)(f,h),n._sqlite3_bind_blob=(f,h,_,b,S)=>(n._sqlite3_bind_blob=ee.sqlite3_bind_blob)(f,h,_,b,S),n._sqlite3_bind_double=(f,h,_)=>(n._sqlite3_bind_double=ee.sqlite3_bind_double)(f,h,_),n._sqlite3_bind_int=(f,h,_)=>(n._sqlite3_bind_int=ee.sqlite3_bind_int)(f,h,_),n._sqlite3_bind_int64=(f,h,_)=>(n._sqlite3_bind_int64=ee.sqlite3_bind_int64)(f,h,_),n._sqlite3_bind_null=(f,h)=>(n._sqlite3_bind_null=ee.sqlite3_bind_null)(f,h),n._sqlite3_bind_pointer=(f,h,_,b,S)=>(n._sqlite3_bind_pointer=ee.sqlite3_bind_pointer)(f,h,_,b,S),n._sqlite3_bind_text=(f,h,_,b,S)=>(n._sqlite3_bind_text=ee.sqlite3_bind_text)(f,h,_,b,S),n._sqlite3_bind_parameter_count=f=>(n._sqlite3_bind_parameter_count=ee.sqlite3_bind_parameter_count)(f),n._sqlite3_bind_parameter_name=(f,h)=>(n._sqlite3_bind_parameter_name=ee.sqlite3_bind_parameter_name)(f,h),n._sqlite3_bind_parameter_index=(f,h)=>(n._sqlite3_bind_parameter_index=ee.sqlite3_bind_parameter_index)(f,h),n._sqlite3_db_handle=f=>(n._sqlite3_db_handle=ee.sqlite3_db_handle)(f),n._sqlite3_stmt_readonly=f=>(n._sqlite3_stmt_readonly=ee.sqlite3_stmt_readonly)(f),n._sqlite3_stmt_isexplain=f=>(n._sqlite3_stmt_isexplain=ee.sqlite3_stmt_isexplain)(f),n._sqlite3_stmt_explain=(f,h)=>(n._sqlite3_stmt_explain=ee.sqlite3_stmt_explain)(f,h),n._sqlite3_stmt_busy=f=>(n._sqlite3_stmt_busy=ee.sqlite3_stmt_busy)(f),n._sqlite3_stmt_status=(f,h,_)=>(n._sqlite3_stmt_status=ee.sqlite3_stmt_status)(f,h,_),n._sqlite3_sql=f=>(n._sqlite3_sql=ee.sqlite3_sql)(f),n._sqlite3_expanded_sql=f=>(n._sqlite3_expanded_sql=ee.sqlite3_expanded_sql)(f),n._sqlite3_preupdate_old=(f,h,_)=>(n._sqlite3_preupdate_old=ee.sqlite3_preupdate_old)(f,h,_),n._sqlite3_preupdate_count=f=>(n._sqlite3_preupdate_count=ee.sqlite3_preupdate_count)(f),n._sqlite3_preupdate_depth=f=>(n._sqlite3_preupdate_depth=ee.sqlite3_preupdate_depth)(f),n._sqlite3_preupdate_blobwrite=f=>(n._sqlite3_preupdate_blobwrite=ee.sqlite3_preupdate_blobwrite)(f),n._sqlite3_preupdate_new=(f,h,_)=>(n._sqlite3_preupdate_new=ee.sqlite3_preupdate_new)(f,h,_),n._sqlite3_value_numeric_type=f=>(n._sqlite3_value_numeric_type=ee.sqlite3_value_numeric_type)(f),n._sqlite3_set_authorizer=(f,h,_)=>(n._sqlite3_set_authorizer=ee.sqlite3_set_authorizer)(f,h,_),n._sqlite3_strglob=(f,h)=>(n._sqlite3_strglob=ee.sqlite3_strglob)(f,h),n._sqlite3_strlike=(f,h,_)=>(n._sqlite3_strlike=ee.sqlite3_strlike)(f,h,_),n._sqlite3_auto_extension=f=>(n._sqlite3_auto_extension=ee.sqlite3_auto_extension)(f),n._sqlite3_cancel_auto_extension=f=>(n._sqlite3_cancel_auto_extension=ee.sqlite3_cancel_auto_extension)(f),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=ee.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(f,h,_,b,S,O)=>(n._sqlite3_prepare_v3=ee.sqlite3_prepare_v3)(f,h,_,b,S,O),n._sqlite3_create_module=(f,h,_,b)=>(n._sqlite3_create_module=ee.sqlite3_create_module)(f,h,_,b),n._sqlite3_create_module_v2=(f,h,_,b,S)=>(n._sqlite3_create_module_v2=ee.sqlite3_create_module_v2)(f,h,_,b,S),n._sqlite3_drop_modules=(f,h)=>(n._sqlite3_drop_modules=ee.sqlite3_drop_modules)(f,h),n._sqlite3_declare_vtab=(f,h)=>(n._sqlite3_declare_vtab=ee.sqlite3_declare_vtab)(f,h),n._sqlite3_vtab_on_conflict=f=>(n._sqlite3_vtab_on_conflict=ee.sqlite3_vtab_on_conflict)(f),n._sqlite3_vtab_collation=(f,h)=>(n._sqlite3_vtab_collation=ee.sqlite3_vtab_collation)(f,h),n._sqlite3_vtab_in=(f,h,_)=>(n._sqlite3_vtab_in=ee.sqlite3_vtab_in)(f,h,_),n._sqlite3_vtab_rhs_value=(f,h,_)=>(n._sqlite3_vtab_rhs_value=ee.sqlite3_vtab_rhs_value)(f,h,_),n._sqlite3_vtab_distinct=f=>(n._sqlite3_vtab_distinct=ee.sqlite3_vtab_distinct)(f),n._sqlite3_keyword_name=(f,h,_)=>(n._sqlite3_keyword_name=ee.sqlite3_keyword_name)(f,h,_),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=ee.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(f,h)=>(n._sqlite3_keyword_check=ee.sqlite3_keyword_check)(f,h),n._sqlite3_complete=f=>(n._sqlite3_complete=ee.sqlite3_complete)(f),n._sqlite3_libversion=()=>(n._sqlite3_libversion=ee.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=ee.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=ee.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=f=>(n._sqlite3_last_insert_rowid=ee.sqlite3_last_insert_rowid)(f),n._sqlite3_set_last_insert_rowid=(f,h)=>(n._sqlite3_set_last_insert_rowid=ee.sqlite3_set_last_insert_rowid)(f,h),n._sqlite3_changes64=f=>(n._sqlite3_changes64=ee.sqlite3_changes64)(f),n._sqlite3_changes=f=>(n._sqlite3_changes=ee.sqlite3_changes)(f),n._sqlite3_total_changes64=f=>(n._sqlite3_total_changes64=ee.sqlite3_total_changes64)(f),n._sqlite3_total_changes=f=>(n._sqlite3_total_changes=ee.sqlite3_total_changes)(f),n._sqlite3_txn_state=(f,h)=>(n._sqlite3_txn_state=ee.sqlite3_txn_state)(f,h),n._sqlite3_close_v2=f=>(n._sqlite3_close_v2=ee.sqlite3_close_v2)(f),n._sqlite3_busy_handler=(f,h,_)=>(n._sqlite3_busy_handler=ee.sqlite3_busy_handler)(f,h,_),n._sqlite3_progress_handler=(f,h,_,b)=>(n._sqlite3_progress_handler=ee.sqlite3_progress_handler)(f,h,_,b),n._sqlite3_busy_timeout=(f,h)=>(n._sqlite3_busy_timeout=ee.sqlite3_busy_timeout)(f,h),n._sqlite3_interrupt=f=>(n._sqlite3_interrupt=ee.sqlite3_interrupt)(f),n._sqlite3_is_interrupted=f=>(n._sqlite3_is_interrupted=ee.sqlite3_is_interrupted)(f),n._sqlite3_create_function=(f,h,_,b,S,O,Y,te)=>(n._sqlite3_create_function=ee.sqlite3_create_function)(f,h,_,b,S,O,Y,te),n._sqlite3_create_function_v2=(f,h,_,b,S,O,Y,te,je)=>(n._sqlite3_create_function_v2=ee.sqlite3_create_function_v2)(f,h,_,b,S,O,Y,te,je),n._sqlite3_create_window_function=(f,h,_,b,S,O,Y,te,je,Ue)=>(n._sqlite3_create_window_function=ee.sqlite3_create_window_function)(f,h,_,b,S,O,Y,te,je,Ue),n._sqlite3_overload_function=(f,h,_)=>(n._sqlite3_overload_function=ee.sqlite3_overload_function)(f,h,_),n._sqlite3_trace_v2=(f,h,_,b)=>(n._sqlite3_trace_v2=ee.sqlite3_trace_v2)(f,h,_,b),n._sqlite3_commit_hook=(f,h,_)=>(n._sqlite3_commit_hook=ee.sqlite3_commit_hook)(f,h,_),n._sqlite3_update_hook=(f,h,_)=>(n._sqlite3_update_hook=ee.sqlite3_update_hook)(f,h,_),n._sqlite3_rollback_hook=(f,h,_)=>(n._sqlite3_rollback_hook=ee.sqlite3_rollback_hook)(f,h,_),n._sqlite3_preupdate_hook=(f,h,_)=>(n._sqlite3_preupdate_hook=ee.sqlite3_preupdate_hook)(f,h,_),n._sqlite3_error_offset=f=>(n._sqlite3_error_offset=ee.sqlite3_error_offset)(f),n._sqlite3_errcode=f=>(n._sqlite3_errcode=ee.sqlite3_errcode)(f),n._sqlite3_extended_errcode=f=>(n._sqlite3_extended_errcode=ee.sqlite3_extended_errcode)(f),n._sqlite3_errstr=f=>(n._sqlite3_errstr=ee.sqlite3_errstr)(f),n._sqlite3_limit=(f,h,_)=>(n._sqlite3_limit=ee.sqlite3_limit)(f,h,_),n._sqlite3_open=(f,h)=>(n._sqlite3_open=ee.sqlite3_open)(f,h),n._sqlite3_open_v2=(f,h,_,b)=>(n._sqlite3_open_v2=ee.sqlite3_open_v2)(f,h,_,b),n._sqlite3_create_collation=(f,h,_,b,S)=>(n._sqlite3_create_collation=ee.sqlite3_create_collation)(f,h,_,b,S),n._sqlite3_create_collation_v2=(f,h,_,b,S,O)=>(n._sqlite3_create_collation_v2=ee.sqlite3_create_collation_v2)(f,h,_,b,S,O),n._sqlite3_collation_needed=(f,h,_)=>(n._sqlite3_collation_needed=ee.sqlite3_collation_needed)(f,h,_),n._sqlite3_get_autocommit=f=>(n._sqlite3_get_autocommit=ee.sqlite3_get_autocommit)(f),n._sqlite3_table_column_metadata=(f,h,_,b,S,O,Y,te,je)=>(n._sqlite3_table_column_metadata=ee.sqlite3_table_column_metadata)(f,h,_,b,S,O,Y,te,je),n._sqlite3_extended_result_codes=(f,h)=>(n._sqlite3_extended_result_codes=ee.sqlite3_extended_result_codes)(f,h),n._sqlite3_uri_key=(f,h)=>(n._sqlite3_uri_key=ee.sqlite3_uri_key)(f,h),n._sqlite3_uri_int64=(f,h,_)=>(n._sqlite3_uri_int64=ee.sqlite3_uri_int64)(f,h,_),n._sqlite3_db_name=(f,h)=>(n._sqlite3_db_name=ee.sqlite3_db_name)(f,h),n._sqlite3_db_filename=(f,h)=>(n._sqlite3_db_filename=ee.sqlite3_db_filename)(f,h),n._sqlite3_db_readonly=(f,h)=>(n._sqlite3_db_readonly=ee.sqlite3_db_readonly)(f,h),n._sqlite3_compileoption_used=f=>(n._sqlite3_compileoption_used=ee.sqlite3_compileoption_used)(f),n._sqlite3_compileoption_get=f=>(n._sqlite3_compileoption_get=ee.sqlite3_compileoption_get)(f),n._sqlite3session_diff=(f,h,_,b)=>(n._sqlite3session_diff=ee.sqlite3session_diff)(f,h,_,b),n._sqlite3session_attach=(f,h)=>(n._sqlite3session_attach=ee.sqlite3session_attach)(f,h),n._sqlite3session_create=(f,h,_)=>(n._sqlite3session_create=ee.sqlite3session_create)(f,h,_),n._sqlite3session_delete=f=>(n._sqlite3session_delete=ee.sqlite3session_delete)(f),n._sqlite3session_table_filter=(f,h,_)=>(n._sqlite3session_table_filter=ee.sqlite3session_table_filter)(f,h,_),n._sqlite3session_changeset=(f,h,_)=>(n._sqlite3session_changeset=ee.sqlite3session_changeset)(f,h,_),n._sqlite3session_changeset_strm=(f,h,_)=>(n._sqlite3session_changeset_strm=ee.sqlite3session_changeset_strm)(f,h,_),n._sqlite3session_patchset_strm=(f,h,_)=>(n._sqlite3session_patchset_strm=ee.sqlite3session_patchset_strm)(f,h,_),n._sqlite3session_patchset=(f,h,_)=>(n._sqlite3session_patchset=ee.sqlite3session_patchset)(f,h,_),n._sqlite3session_enable=(f,h)=>(n._sqlite3session_enable=ee.sqlite3session_enable)(f,h),n._sqlite3session_indirect=(f,h)=>(n._sqlite3session_indirect=ee.sqlite3session_indirect)(f,h),n._sqlite3session_isempty=f=>(n._sqlite3session_isempty=ee.sqlite3session_isempty)(f),n._sqlite3session_memory_used=f=>(n._sqlite3session_memory_used=ee.sqlite3session_memory_used)(f),n._sqlite3session_object_config=(f,h,_)=>(n._sqlite3session_object_config=ee.sqlite3session_object_config)(f,h,_),n._sqlite3session_changeset_size=f=>(n._sqlite3session_changeset_size=ee.sqlite3session_changeset_size)(f),n._sqlite3changeset_start=(f,h,_)=>(n._sqlite3changeset_start=ee.sqlite3changeset_start)(f,h,_),n._sqlite3changeset_start_v2=(f,h,_,b)=>(n._sqlite3changeset_start_v2=ee.sqlite3changeset_start_v2)(f,h,_,b),n._sqlite3changeset_start_strm=(f,h,_)=>(n._sqlite3changeset_start_strm=ee.sqlite3changeset_start_strm)(f,h,_),n._sqlite3changeset_start_v2_strm=(f,h,_,b)=>(n._sqlite3changeset_start_v2_strm=ee.sqlite3changeset_start_v2_strm)(f,h,_,b),n._sqlite3changeset_next=f=>(n._sqlite3changeset_next=ee.sqlite3changeset_next)(f),n._sqlite3changeset_op=(f,h,_,b,S)=>(n._sqlite3changeset_op=ee.sqlite3changeset_op)(f,h,_,b,S),n._sqlite3changeset_pk=(f,h,_)=>(n._sqlite3changeset_pk=ee.sqlite3changeset_pk)(f,h,_),n._sqlite3changeset_old=(f,h,_)=>(n._sqlite3changeset_old=ee.sqlite3changeset_old)(f,h,_),n._sqlite3changeset_new=(f,h,_)=>(n._sqlite3changeset_new=ee.sqlite3changeset_new)(f,h,_),n._sqlite3changeset_conflict=(f,h,_)=>(n._sqlite3changeset_conflict=ee.sqlite3changeset_conflict)(f,h,_),n._sqlite3changeset_fk_conflicts=(f,h)=>(n._sqlite3changeset_fk_conflicts=ee.sqlite3changeset_fk_conflicts)(f,h),n._sqlite3changeset_finalize=f=>(n._sqlite3changeset_finalize=ee.sqlite3changeset_finalize)(f),n._sqlite3changeset_invert=(f,h,_,b)=>(n._sqlite3changeset_invert=ee.sqlite3changeset_invert)(f,h,_,b),n._sqlite3changeset_invert_strm=(f,h,_,b)=>(n._sqlite3changeset_invert_strm=ee.sqlite3changeset_invert_strm)(f,h,_,b),n._sqlite3changeset_apply_v2=(f,h,_,b,S,O,Y,te,je)=>(n._sqlite3changeset_apply_v2=ee.sqlite3changeset_apply_v2)(f,h,_,b,S,O,Y,te,je),n._sqlite3changeset_apply=(f,h,_,b,S,O)=>(n._sqlite3changeset_apply=ee.sqlite3changeset_apply)(f,h,_,b,S,O),n._sqlite3changeset_apply_v2_strm=(f,h,_,b,S,O,Y,te,je)=>(n._sqlite3changeset_apply_v2_strm=ee.sqlite3changeset_apply_v2_strm)(f,h,_,b,S,O,Y,te,je),n._sqlite3changeset_apply_strm=(f,h,_,b,S,O)=>(n._sqlite3changeset_apply_strm=ee.sqlite3changeset_apply_strm)(f,h,_,b,S,O),n._sqlite3changegroup_new=f=>(n._sqlite3changegroup_new=ee.sqlite3changegroup_new)(f),n._sqlite3changegroup_add=(f,h,_)=>(n._sqlite3changegroup_add=ee.sqlite3changegroup_add)(f,h,_),n._sqlite3changegroup_output=(f,h,_)=>(n._sqlite3changegroup_output=ee.sqlite3changegroup_output)(f,h,_),n._sqlite3changegroup_add_strm=(f,h,_)=>(n._sqlite3changegroup_add_strm=ee.sqlite3changegroup_add_strm)(f,h,_),n._sqlite3changegroup_output_strm=(f,h,_)=>(n._sqlite3changegroup_output_strm=ee.sqlite3changegroup_output_strm)(f,h,_),n._sqlite3changegroup_delete=f=>(n._sqlite3changegroup_delete=ee.sqlite3changegroup_delete)(f),n._sqlite3changeset_concat=(f,h,_,b,S,O)=>(n._sqlite3changeset_concat=ee.sqlite3changeset_concat)(f,h,_,b,S,O),n._sqlite3changeset_concat_strm=(f,h,_,b,S,O)=>(n._sqlite3changeset_concat_strm=ee.sqlite3changeset_concat_strm)(f,h,_,b,S,O),n._sqlite3session_config=(f,h)=>(n._sqlite3session_config=ee.sqlite3session_config)(f,h),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=ee.sqlite3_sourceid)(),n._sqlite3__wasm_pstack_ptr=()=>(n._sqlite3__wasm_pstack_ptr=ee.sqlite3__wasm_pstack_ptr)(),n._sqlite3__wasm_pstack_restore=f=>(n._sqlite3__wasm_pstack_restore=ee.sqlite3__wasm_pstack_restore)(f),n._sqlite3__wasm_pstack_alloc=f=>(n._sqlite3__wasm_pstack_alloc=ee.sqlite3__wasm_pstack_alloc)(f),n._sqlite3__wasm_pstack_remaining=()=>(n._sqlite3__wasm_pstack_remaining=ee.sqlite3__wasm_pstack_remaining)(),n._sqlite3__wasm_pstack_quota=()=>(n._sqlite3__wasm_pstack_quota=ee.sqlite3__wasm_pstack_quota)(),n._sqlite3__wasm_db_error=(f,h,_)=>(n._sqlite3__wasm_db_error=ee.sqlite3__wasm_db_error)(f,h,_),n._sqlite3__wasm_test_struct=f=>(n._sqlite3__wasm_test_struct=ee.sqlite3__wasm_test_struct)(f),n._sqlite3__wasm_enum_json=()=>(n._sqlite3__wasm_enum_json=ee.sqlite3__wasm_enum_json)(),n._sqlite3__wasm_vfs_unlink=(f,h)=>(n._sqlite3__wasm_vfs_unlink=ee.sqlite3__wasm_vfs_unlink)(f,h),n._sqlite3__wasm_db_vfs=(f,h)=>(n._sqlite3__wasm_db_vfs=ee.sqlite3__wasm_db_vfs)(f,h),n._sqlite3__wasm_db_reset=f=>(n._sqlite3__wasm_db_reset=ee.sqlite3__wasm_db_reset)(f),n._sqlite3__wasm_db_export_chunked=(f,h)=>(n._sqlite3__wasm_db_export_chunked=ee.sqlite3__wasm_db_export_chunked)(f,h),n._sqlite3__wasm_db_serialize=(f,h,_,b,S)=>(n._sqlite3__wasm_db_serialize=ee.sqlite3__wasm_db_serialize)(f,h,_,b,S),n._sqlite3__wasm_vfs_create_file=(f,h,_,b)=>(n._sqlite3__wasm_vfs_create_file=ee.sqlite3__wasm_vfs_create_file)(f,h,_,b),n._sqlite3__wasm_posix_create_file=(f,h,_)=>(n._sqlite3__wasm_posix_create_file=ee.sqlite3__wasm_posix_create_file)(f,h,_),n._sqlite3__wasm_kvvfsMakeKeyOnPstack=(f,h)=>(n._sqlite3__wasm_kvvfsMakeKeyOnPstack=ee.sqlite3__wasm_kvvfsMakeKeyOnPstack)(f,h),n._sqlite3__wasm_kvvfs_methods=()=>(n._sqlite3__wasm_kvvfs_methods=ee.sqlite3__wasm_kvvfs_methods)(),n._sqlite3__wasm_vtab_config=(f,h,_)=>(n._sqlite3__wasm_vtab_config=ee.sqlite3__wasm_vtab_config)(f,h,_),n._sqlite3__wasm_db_config_ip=(f,h,_,b)=>(n._sqlite3__wasm_db_config_ip=ee.sqlite3__wasm_db_config_ip)(f,h,_,b),n._sqlite3__wasm_db_config_pii=(f,h,_,b,S)=>(n._sqlite3__wasm_db_config_pii=ee.sqlite3__wasm_db_config_pii)(f,h,_,b,S),n._sqlite3__wasm_db_config_s=(f,h,_)=>(n._sqlite3__wasm_db_config_s=ee.sqlite3__wasm_db_config_s)(f,h,_),n._sqlite3__wasm_config_i=(f,h)=>(n._sqlite3__wasm_config_i=ee.sqlite3__wasm_config_i)(f,h),n._sqlite3__wasm_config_ii=(f,h,_)=>(n._sqlite3__wasm_config_ii=ee.sqlite3__wasm_config_ii)(f,h,_),n._sqlite3__wasm_config_j=(f,h)=>(n._sqlite3__wasm_config_j=ee.sqlite3__wasm_config_j)(f,h),n._sqlite3__wasm_qfmt_token=(f,h)=>(n._sqlite3__wasm_qfmt_token=ee.sqlite3__wasm_qfmt_token)(f,h),n._sqlite3__wasm_init_wasmfs=f=>(n._sqlite3__wasm_init_wasmfs=ee.sqlite3__wasm_init_wasmfs)(f),n._sqlite3__wasm_test_intptr=f=>(n._sqlite3__wasm_test_intptr=ee.sqlite3__wasm_test_intptr)(f),n._sqlite3__wasm_test_voidptr=f=>(n._sqlite3__wasm_test_voidptr=ee.sqlite3__wasm_test_voidptr)(f),n._sqlite3__wasm_test_int64_max=()=>(n._sqlite3__wasm_test_int64_max=ee.sqlite3__wasm_test_int64_max)(),n._sqlite3__wasm_test_int64_min=()=>(n._sqlite3__wasm_test_int64_min=ee.sqlite3__wasm_test_int64_min)(),n._sqlite3__wasm_test_int64_times2=f=>(n._sqlite3__wasm_test_int64_times2=ee.sqlite3__wasm_test_int64_times2)(f),n._sqlite3__wasm_test_int64_minmax=(f,h)=>(n._sqlite3__wasm_test_int64_minmax=ee.sqlite3__wasm_test_int64_minmax)(f,h),n._sqlite3__wasm_test_int64ptr=f=>(n._sqlite3__wasm_test_int64ptr=ee.sqlite3__wasm_test_int64ptr)(f),n._sqlite3__wasm_test_stack_overflow=f=>(n._sqlite3__wasm_test_stack_overflow=ee.sqlite3__wasm_test_stack_overflow)(f),n._sqlite3__wasm_test_str_hello=f=>(n._sqlite3__wasm_test_str_hello=ee.sqlite3__wasm_test_str_hello)(f),n._sqlite3__wasm_SQLTester_strglob=(f,h)=>(n._sqlite3__wasm_SQLTester_strglob=ee.sqlite3__wasm_SQLTester_strglob)(f,h),n._malloc=f=>(n._malloc=ee.malloc)(f),n._free=f=>(n._free=ee.free)(f),n._realloc=(f,h)=>(n._realloc=ee.realloc)(f,h);var Jc=(f,h)=>(Jc=ee.emscripten_builtin_memalign)(f,h);n.wasmMemory=$;var pl;lt=function f(){pl||Zc(),pl||(lt=f)};function Zc(){if(Se>0||(Te(),Se>0))return;function f(){pl||(pl=!0,n.calledRun=!0,!V&&(Fe(),s(n),n.onRuntimeInitialized?.(),ve()))}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),f()},1)):f()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Zc(),n.postRun||(n.postRun=[]),n.postRun.push(function(f){if(globalThis.sqlite3ApiBootstrap=function h(_=globalThis.sqlite3ApiConfig||h.defaultConfig){if(h.sqlite3)return(h.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),h.sqlite3;const b=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof f<"u"&&f.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},_||{});Object.assign(b,{allocExportName:b.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:b.useStdAlloc?"free":"sqlite3_free",reallocExportName:b.useStdAlloc?"realloc":"sqlite3_realloc"},b),["exports","memory","wasmfsOpfsDir"].forEach(C=>{typeof b[C]=="function"&&(b[C]=b[C]())}),delete globalThis.sqlite3ApiConfig,delete h.defaultConfig;const S=Object.create(null),O=Object.create(null),Y=C=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(C)||"Unknown result code #"+C,te=C=>typeof C=="number"&&C===(C|0);class je extends Error{constructor(...j){let W;if(j.length)if(te(j[0]))if(W=j[0],j.length===1)super(Y(j[0]));else{const Ie=Y(W);typeof j[1]=="object"?super(Ie,j[1]):(j[0]=Ie+":",super(j.join(" ")))}else j.length===2&&typeof j[1]=="object"?super(...j):super(j.join(" "));this.resultCode=W||S.SQLITE_ERROR,this.name="SQLite3Error"}}je.toss=(...C)=>{throw new je(...C)};const Ue=je.toss;b.wasmfsOpfsDir&&!/^\/[^/]+$/.test(b.wasmfsOpfsDir)&&Ue("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Je=C=>typeof C!="bigint"&&C===(C|0)&&C<=0x7fffffff&&C>=-0x80000000,rt=function C(j){return C._max||(C._max=BigInt("0x7fffffffffffffff"),C._min=~C._max),j>=C._min&&j<=C._max},Ae=C=>C>=-2147483647n-1n&&C<=2147483647n,xe=function C(j){return C._min||(C._min=Number.MIN_SAFE_INTEGER,C._max=Number.MAX_SAFE_INTEGER),j>=C._min&&j<=C._max},ze=C=>C&&C.constructor&&Je(C.constructor.BYTES_PER_ELEMENT)?C:!1,le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,he=C=>C.buffer instanceof le,_e=(C,j,W)=>he(C)?C.slice(j,W):C.subarray(j,W),$e=C=>C&&(C instanceof Uint8Array||C instanceof Int8Array||C instanceof ArrayBuffer),Be=C=>C&&(C instanceof Uint8Array||C instanceof Int8Array||C instanceof ArrayBuffer),we=C=>$e(C)||Ue("Value is not of a supported TypedArray type."),Me=new TextDecoder("utf-8"),ht=function(C,j,W){return Me.decode(_e(C,j,W))},F=function(C){return Be(C)?ht(C instanceof ArrayBuffer?new Uint8Array(C):C):Array.isArray(C)?C.join(""):(O.isPtr(C)&&(C=O.cstrToJs(C)),C)};class G extends Error{constructor(...j){j.length===2&&typeof j[1]=="object"?super(...j):j.length?super(j.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}G.toss=(...C)=>{throw new G(...C)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(C,j,W,Ie,He,Et,Lt,$t,Ze)=>{},sqlite3_create_function:(C,j,W,Ie,He,Et,Lt,$t)=>{},sqlite3_create_window_function:(C,j,W,Ie,He,Et,Lt,$t,Ze,ce)=>{},sqlite3_prepare_v3:(C,j,W,Ie,He,Et)=>{},sqlite3_prepare_v2:(C,j,W,Ie,He)=>{},sqlite3_exec:(C,j,W,Ie,He)=>{},sqlite3_randomness:(C,j)=>{}});const fe={affirmBindableTypedArray:we,flexibleString:F,bigIntFits32:Ae,bigIntFits64:rt,bigIntFitsDouble:xe,isBindableTypedArray:$e,isInt32:Je,isSQLableTypedArray:Be,isTypedArray:ze,typedArrayToString:ht,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:he,toss:function(...C){throw new Error(C.join(" "))},toss3:Ue,typedArrayPart:_e,affirmDbHeader:function(C){C instanceof ArrayBuffer&&(C=new Uint8Array(C));const j="SQLite format 3";j.length>C.byteLength&&Ue("Input does not contain an SQLite3 database header.");for(let W=0;W<j.length;++W)j.charCodeAt(W)!==C[W]&&Ue("Input does not contain an SQLite3 database header.")},affirmIsDb:function(C){C instanceof ArrayBuffer&&(C=new Uint8Array(C));const j=C.byteLength;(j<512||j%512!==0)&&Ue("Byte array size",j,"is invalid for an SQLite3 db."),fe.affirmDbHeader(C)}};Object.assign(O,{ptrSizeof:b.wasmPtrSizeof||4,ptrIR:b.wasmPtrIR||"i32",bigIntEnabled:!!b.bigIntEnabled,exports:b.exports||Ue("Missing API config.exports (WASM module exports)."),memory:b.memory||b.exports.memory||Ue("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),O.allocFromTypedArray=function(C){C instanceof ArrayBuffer&&(C=new Uint8Array(C)),we(C);const j=O.alloc(C.byteLength||1);return O.heapForSize(C.constructor).set(C.byteLength?C:[0],j),j};{const C=b.allocExportName,j=b.deallocExportName,W=b.reallocExportName;for(const Ie of[C,j,W])O.exports[Ie]instanceof Function||Ue("Missing required exports[",Ie,"] function.");O.alloc=function Ie(He){return Ie.impl(He)||G.toss("Failed to allocate",He," bytes.")},O.alloc.impl=O.exports[C],O.realloc=function Ie(He,Et){const Lt=Ie.impl(He,Et);return Et?Lt||G.toss("Failed to reallocate",Et," bytes."):0},O.realloc.impl=O.exports[W],O.dealloc=O.exports[j]}O.compileOptionUsed=function C(j){if(arguments.length){if(Array.isArray(j)){const W={};return j.forEach(Ie=>{W[Ie]=S.sqlite3_compileoption_used(Ie)}),W}else if(typeof j=="object")return Object.keys(j).forEach(W=>{j[W]=S.sqlite3_compileoption_used(W)}),j}else{if(C._result)return C._result;C._opt||(C._rx=/^([^=]+)=(.+)/,C._rxInt=/^-?\d+$/,C._opt=function(Lt,$t){const Ze=C._rx.exec(Lt);$t[0]=Ze?Ze[1]:Lt,$t[1]=Ze?C._rxInt.test(Ze[2])?+Ze[2]:Ze[2]:!0});const W={},Ie=[0,0];let He=0,Et;for(;Et=S.sqlite3_compileoption_get(He++);)C._opt(Et,Ie),W[Ie[0]]=Ie[1];return C._result=W}return typeof j=="string"?!!S.sqlite3_compileoption_used(j):!1},O.pstack=Object.assign(Object.create(null),{restore:O.exports.sqlite3__wasm_pstack_restore,alloc:function(C){return typeof C=="string"&&!(C=O.sizeofIR(C))&&G.toss("Invalid value for pstack.alloc(",arguments[0],")"),O.exports.sqlite3__wasm_pstack_alloc(C)||G.toss("Could not allocate",C,"bytes from the pstack.")},allocChunks:function(C,j){typeof j=="string"&&!(j=O.sizeofIR(j))&&G.toss("Invalid size value for allocChunks(",arguments[1],")");const W=O.pstack.alloc(C*j),Ie=[];let He=0,Et=0;for(;He<C;++He,Et+=j)Ie.push(W+Et);return Ie},allocPtr:(C=1,j=!0)=>C===1?O.pstack.alloc(j?8:O.ptrSizeof):O.pstack.allocChunks(C,j?8:O.ptrSizeof),call:function(C){const j=O.pstack.pointer;try{return C(X)}finally{O.pstack.restore(j)}}}),Object.defineProperties(O.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:O.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:O.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:O.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...C)=>{if(C.length===1&&fe.isTypedArray(C[0])&&C[0].BYTES_PER_ELEMENT===1){const j=C[0];if(j.byteLength===0)return O.exports.sqlite3_randomness(0,0),j;const W=O.pstack.pointer;try{let Ie=j.byteLength,He=0;const Et=O.exports.sqlite3_randomness,Lt=O.heap8u(),$t=Ie<512?Ie:512,Ze=O.pstack.alloc($t);do{const ce=Ie>$t?$t:Ie;Et(ce,Ze),j.set(_e(Lt,Ze,Ze+ce),He),Ie-=ce,He+=ce}while(Ie>0)}catch(Ie){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Ie)}finally{O.pstack.restore(W)}return j}O.exports.sqlite3_randomness(...C)};let Qe;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Qe!==void 0)return Qe;const C=b.wasmfsOpfsDir;if(!C||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Qe="";try{return C&&O.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],C)===0?Qe=C:Qe=""}catch{return Qe=""}},S.sqlite3_wasmfs_filename_is_persistent=function(C){const j=S.sqlite3_wasmfs_opfs_dir();return j&&C?C.startsWith(j+"/"):!1},S.sqlite3_js_db_uses_vfs=function(C,j,W=0){try{const Ie=S.sqlite3_vfs_find(j);return Ie?C?Ie===S.sqlite3_js_db_vfs(C,W)?Ie:!1:Ie===S.sqlite3_vfs_find(0)?Ie:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const C=[];let j=S.sqlite3_vfs_find(0);for(;j;){const W=new S.sqlite3_vfs(j);C.push(O.cstrToJs(W.$zName)),j=W.$pNext,W.dispose()}return C},S.sqlite3_js_db_export=function(C,j=0){C=O.xWrap.testConvertArg("sqlite3*",C),C||Ue("Invalid sqlite3* argument."),O.bigIntEnabled||Ue("BigInt64 support is not enabled.");const W=O.scopedAllocPush();let Ie;try{const He=O.scopedAlloc(8+O.ptrSizeof),Et=He+8,Lt=j?O.isPtr(j)?j:O.scopedAllocCString(""+j):0;let $t=O.exports.sqlite3__wasm_db_serialize(C,Lt,Et,He,0);$t&&Ue("Database serialization failed with code",X.capi.sqlite3_js_rc_str($t)),Ie=O.peekPtr(Et);const Ze=O.peek(He,"i64");return $t=Ze?O.heap8u().slice(Ie,Ie+Number(Ze)):new Uint8Array,$t}finally{Ie&&O.exports.sqlite3_free(Ie),O.scopedAllocPop(W)}},S.sqlite3_js_db_vfs=(C,j=0)=>fe.sqlite3__wasm_db_vfs(C,j),S.sqlite3_js_aggregate_context=(C,j)=>S.sqlite3_aggregate_context(C,j)||(j?G.toss("Cannot allocate",j,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(C,j,W){let Ie;j&&O.isPtr(j)?Ie=j:j instanceof ArrayBuffer||j instanceof Uint8Array?(Ie=O.allocFromTypedArray(j),(arguments.length<3||!fe.isInt32(W)||W<0)&&(W=j.byteLength)):je.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!fe.isInt32(W)||W<0)&&je.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const He=fe.sqlite3__wasm_posix_create_file(C,Ie,W);He&&je.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(He))}finally{O.dealloc(Ie)}},S.sqlite3_js_vfs_create_file=function(C,j,W,Ie){b.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let He;W?(O.isPtr(W)?He=W:W instanceof ArrayBuffer&&(W=new Uint8Array(W)),W instanceof Uint8Array?(He=O.allocFromTypedArray(W),(arguments.length<4||!fe.isInt32(Ie)||Ie<0)&&(Ie=W.byteLength)):je.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):He=0,(!fe.isInt32(Ie)||Ie<0)&&(O.dealloc(He),je.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Et=fe.sqlite3__wasm_vfs_create_file(C,j,He,Ie);Et&&je.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(Et))}finally{O.dealloc(He)}},S.sqlite3_js_sql_to_string=C=>{if(typeof C=="string")return C;const j=F(v);return j===v?void 0:j},fe.isUIThread()){const C=function(j){const W=Object.create(null);return W.prefix="kvvfs-"+j,W.stores=[],(j==="session"||j==="")&&W.stores.push(globalThis.sessionStorage),(j==="local"||j==="")&&W.stores.push(globalThis.localStorage),W};S.sqlite3_js_kvvfs_clear=function(j=""){let W=0;const Ie=C(j);return Ie.stores.forEach(He=>{const Et=[];let Lt;for(Lt=0;Lt<He.length;++Lt){const $t=He.key(Lt);$t.startsWith(Ie.prefix)&&Et.push($t)}Et.forEach($t=>He.removeItem($t)),W+=Et.length}),W},S.sqlite3_js_kvvfs_size=function(j=""){let W=0;const Ie=C(j);return Ie.stores.forEach(He=>{let Et;for(Et=0;Et<He.length;++Et){const Lt=He.key(Et);Lt.startsWith(Ie.prefix)&&(W+=Lt.length,W+=He.getItem(Lt).length)}}),W*2}}S.sqlite3_db_config=function(C,j,...W){switch(this.s||(this.s=O.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=O.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=O.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),j){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(C,j,W[0],W[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(C,j,W[0],W[1],W[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(C,j,W[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(C,j=!0){let W;const Ie=S.sqlite3_value_type(C);switch(Ie){case S.SQLITE_INTEGER:O.bigIntEnabled?(W=S.sqlite3_value_int64(C),fe.bigIntFitsDouble(W)&&(W=Number(W))):W=S.sqlite3_value_double(C);break;case S.SQLITE_FLOAT:W=S.sqlite3_value_double(C);break;case S.SQLITE_TEXT:W=S.sqlite3_value_text(C);break;case S.SQLITE_BLOB:{const He=S.sqlite3_value_bytes(C),Et=S.sqlite3_value_blob(C);He&&!Et&&X.WasmAllocError.toss("Cannot allocate memory for blob argument of",He,"byte(s)"),W=He?O.heap8u().slice(Et,Et+Number(He)):null;break}case S.SQLITE_NULL:W=null;break;default:j&&Ue(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Ie),W=void 0}return W},S.sqlite3_values_to_js=function(C,j,W=!0){let Ie;const He=[];for(Ie=0;Ie<C;++Ie)He.push(S.sqlite3_value_to_js(O.peekPtr(j+O.ptrSizeof*Ie),W));return He},S.sqlite3_result_error_js=function(C,j){j instanceof G?S.sqlite3_result_error_nomem(C):S.sqlite3_result_error(C,""+j,-1)},S.sqlite3_result_js=function(C,j){if(j instanceof Error){S.sqlite3_result_error_js(C,j);return}try{switch(typeof j){case"undefined":break;case"boolean":S.sqlite3_result_int(C,j?1:0);break;case"bigint":fe.bigIntFits32(j)?S.sqlite3_result_int(C,Number(j)):fe.bigIntFitsDouble(j)?S.sqlite3_result_double(C,Number(j)):O.bigIntEnabled?fe.bigIntFits64(j)?S.sqlite3_result_int64(C,j):Ue("BigInt value",j.toString(),"is too BigInt for int64."):Ue("BigInt value",j.toString(),"is too BigInt.");break;case"number":{let W;fe.isInt32(j)?W=S.sqlite3_result_int:O.bigIntEnabled&&Number.isInteger(j)&&fe.bigIntFits64(BigInt(j))?W=S.sqlite3_result_int64:W=S.sqlite3_result_double,W(C,j);break}case"string":{const[W,Ie]=O.allocCString(j,!0);S.sqlite3_result_text(C,W,Ie,S.SQLITE_WASM_DEALLOC);break}case"object":if(j===null){S.sqlite3_result_null(C);break}else if(fe.isBindableTypedArray(j)){const W=O.allocFromTypedArray(j);S.sqlite3_result_blob(C,W,j.byteLength,S.SQLITE_WASM_DEALLOC);break}default:Ue("Don't not how to handle this UDF result value:",typeof j,j)}}catch(W){S.sqlite3_result_error_js(C,W)}},S.sqlite3_column_js=function(C,j,W=!0){const Ie=S.sqlite3_column_value(C,j);return Ie===0?void 0:S.sqlite3_value_to_js(Ie,W)};const z=function(C,j,W){W=S[W],this.ptr?O.pokePtr(this.ptr,0):this.ptr=O.allocPtr();const Ie=W(C,j,this.ptr);if(Ie)return je.toss(Ie,arguments[2]+"() failed with code "+Ie);const He=O.peekPtr(this.ptr);return He?S.sqlite3_value_to_js(He,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(C,j)=>z(C,j,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(C,j)=>z(C,j,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(C,j)=>z(C,j,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(C,j)=>z(C,j,"sqlite3changeset_old");const X={WasmAllocError:G,SQLite3Error:je,capi:S,util:fe,wasm:O,config:b,version:Object.create(null),client:void 0,asyncPostInit:async function C(){if(C.isReady instanceof Promise)return C.isReady;let j=h.initializersAsync;delete h.initializersAsync;const W=async()=>(X.__isUnderTest||(delete X.util,delete X.StructBinder),X),Ie=Et=>{throw b.error("an async sqlite3 initializer failed:",Et),Et};if(!j||!j.length)return C.isReady=W().catch(Ie);j=j.map(Et=>Et instanceof Function?async Lt=>Et(X):Et),j.push(W);let He=Promise.resolve(X);for(;j.length;)He=He.then(j.shift());return C.isReady=He.catch(Ie)},scriptInfo:void 0};try{h.initializers.forEach(C=>{C(X)})}catch(C){throw console.error("sqlite3 bootstrap initializer threw:",C),C}return delete h.initializers,h.sqlite3=X,X},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(h){h.bigIntEnabled===void 0&&(h.bigIntEnabled=!!globalThis.BigInt64Array);const _=(...F)=>{throw new Error(F.join(" "))};h.exports||Object.defineProperty(h,"exports",{enumerable:!0,configurable:!0,get:()=>h.instance&&h.instance.exports});const b=h.pointerIR||"i32",S=h.ptrSizeof=b==="i32"?4:b==="i64"?8:_("Unhandled ptrSizeof:",b),O=Object.create(null);O.heapSize=0,O.memory=null,O.freeFuncIndexes=[],O.scopedAlloc=[],O.utf8Decoder=new TextDecoder,O.utf8Encoder=new TextEncoder("utf-8"),h.sizeofIR=F=>{switch(F){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+F).endsWith("*")?S:void 0}};const Y=function(){if(!O.memory)O.memory=h.memory instanceof WebAssembly.Memory?h.memory:h.exports.memory;else if(O.heapSize===O.memory.buffer.byteLength)return O;const F=O.memory.buffer;return O.HEAP8=new Int8Array(F),O.HEAP8U=new Uint8Array(F),O.HEAP16=new Int16Array(F),O.HEAP16U=new Uint16Array(F),O.HEAP32=new Int32Array(F),O.HEAP32U=new Uint32Array(F),h.bigIntEnabled&&(O.HEAP64=new BigInt64Array(F),O.HEAP64U=new BigUint64Array(F)),O.HEAP32F=new Float32Array(F),O.HEAP64F=new Float64Array(F),O.heapSize=F.byteLength,O};h.heap8=()=>Y().HEAP8,h.heap8u=()=>Y().HEAP8U,h.heap16=()=>Y().HEAP16,h.heap16u=()=>Y().HEAP16U,h.heap32=()=>Y().HEAP32,h.heap32u=()=>Y().HEAP32U,h.heapForSize=function(F,G=!0){const fe=O.memory&&O.heapSize===O.memory.buffer.byteLength?O:Y();switch(F){case Int8Array:return fe.HEAP8;case Uint8Array:return fe.HEAP8U;case Int16Array:return fe.HEAP16;case Uint16Array:return fe.HEAP16U;case Int32Array:return fe.HEAP32;case Uint32Array:return fe.HEAP32U;case 8:return G?fe.HEAP8U:fe.HEAP8;case 16:return G?fe.HEAP16U:fe.HEAP16;case 32:return G?fe.HEAP32U:fe.HEAP32;case 64:if(fe.HEAP64)return G?fe.HEAP64U:fe.HEAP64;break;default:if(h.bigIntEnabled){if(F===globalThis.BigUint64Array)return fe.HEAP64U;if(F===globalThis.BigInt64Array)return fe.HEAP64;break}}_("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},h.functionTable=function(){return h.exports.__indirect_function_table},h.functionEntry=function(F){const G=h.functionTable();return F<G.length?G.get(F):void 0},h.jsFuncToWasm=function F(G,fe){if(F._||(F._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(X,C,j){j<128?X[C](j):X[C](j%128|128,j>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(X){const C=F._.rxJSig.exec(X);return C?C[2]:X.substr(1)},letterType:X=>F._.sigTypes[X]||_("Invalid signature letter:",X),pushSigType:(X,C)=>X.push(F._.typeCodes[F._.letterType(C)])}),typeof G=="string"){const X=fe;fe=G,G=X}const Qe=F._.sigParams(fe),z=[1,96];F._.uleb128Encode(z,"push",Qe.length);for(const X of Qe)F._.pushSigType(z,X);return fe[0]==="v"?z.push(0):(z.push(1),F._.pushSigType(z,fe[0])),F._.uleb128Encode(z,"unshift",z.length),z.unshift(0,97,115,109,1,0,0,0,1),z.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(z)),{e:{f:G}}).exports.f};const te=function(G,fe,Qe){if(Qe&&!O.scopedAlloc.length&&_("No scopedAllocPush() scope is active."),typeof G=="string"){const j=fe;fe=G,G=j}(typeof fe!="string"||!(G instanceof Function))&&_("Invalid arguments: expecting (function,signature) or (signature,function).");const z=h.functionTable(),X=z.length;let C;for(;O.freeFuncIndexes.length&&(C=O.freeFuncIndexes.pop(),z.get(C));){C=null;continue}C||(C=X,z.grow(1));try{return z.set(C,G),Qe&&O.scopedAlloc[O.scopedAlloc.length-1].push(C),C}catch(j){if(!(j instanceof TypeError))throw C===X&&O.freeFuncIndexes.push(X),j}try{const j=h.jsFuncToWasm(G,fe);z.set(C,j),Qe&&O.scopedAlloc[O.scopedAlloc.length-1].push(C)}catch(j){throw C===X&&O.freeFuncIndexes.push(X),j}return C};h.installFunction=(F,G)=>te(F,G,!1),h.scopedInstallFunction=(F,G)=>te(F,G,!0),h.uninstallFunction=function(F){if(!F&&F!==0)return;const G=O.freeFuncIndexes,fe=h.functionTable();G.push(F);const Qe=fe.get(F);return fe.set(F,null),Qe},h.peek=function(G,fe="i8"){fe.endsWith("*")&&(fe=b);const Qe=O.memory&&O.heapSize===O.memory.buffer.byteLength?O:Y(),z=Array.isArray(G)?[]:void 0;let X;do{switch(z&&(G=arguments[0].shift()),fe){case"i1":case"i8":X=Qe.HEAP8[G>>0];break;case"i16":X=Qe.HEAP16[G>>1];break;case"i32":X=Qe.HEAP32[G>>2];break;case"float":case"f32":X=Qe.HEAP32F[G>>2];break;case"double":case"f64":X=Number(Qe.HEAP64F[G>>3]);break;case"i64":if(h.bigIntEnabled){X=BigInt(Qe.HEAP64[G>>3]);break}default:_("Invalid type for peek():",fe)}z&&z.push(X)}while(z&&arguments[0].length);return z||X},h.poke=function(F,G,fe="i8"){fe.endsWith("*")&&(fe=b);const Qe=O.memory&&O.heapSize===O.memory.buffer.byteLength?O:Y();for(const z of Array.isArray(F)?F:[F])switch(fe){case"i1":case"i8":Qe.HEAP8[z>>0]=G;continue;case"i16":Qe.HEAP16[z>>1]=G;continue;case"i32":Qe.HEAP32[z>>2]=G;continue;case"float":case"f32":Qe.HEAP32F[z>>2]=G;continue;case"double":case"f64":Qe.HEAP64F[z>>3]=G;continue;case"i64":if(Qe.HEAP64){Qe.HEAP64[z>>3]=BigInt(G);continue}default:_("Invalid type for poke(): "+fe)}return this},h.peekPtr=(...F)=>h.peek(F.length===1?F[0]:F,b),h.pokePtr=(F,G=0)=>h.poke(F,G,b),h.peek8=(...F)=>h.peek(F.length===1?F[0]:F,"i8"),h.poke8=(F,G)=>h.poke(F,G,"i8"),h.peek16=(...F)=>h.peek(F.length===1?F[0]:F,"i16"),h.poke16=(F,G)=>h.poke(F,G,"i16"),h.peek32=(...F)=>h.peek(F.length===1?F[0]:F,"i32"),h.poke32=(F,G)=>h.poke(F,G,"i32"),h.peek64=(...F)=>h.peek(F.length===1?F[0]:F,"i64"),h.poke64=(F,G)=>h.poke(F,G,"i64"),h.peek32f=(...F)=>h.peek(F.length===1?F[0]:F,"f32"),h.poke32f=(F,G)=>h.poke(F,G,"f32"),h.peek64f=(...F)=>h.peek(F.length===1?F[0]:F,"f64"),h.poke64f=(F,G)=>h.poke(F,G,"f64"),h.getMemValue=h.peek,h.getPtrValue=h.peekPtr,h.setMemValue=h.poke,h.setPtrValue=h.pokePtr,h.isPtr32=F=>typeof F=="number"&&F===(F|0)&&F>=0,h.isPtr=h.isPtr32,h.cstrlen=function(F){if(!F||!h.isPtr(F))return null;const G=Y().HEAP8U;let fe=F;for(;G[fe]!==0;++fe);return fe-F};const je=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ue=function(F,G,fe){return O.utf8Decoder.decode(F.buffer instanceof je?F.slice(G,fe):F.subarray(G,fe))};h.cstrToJs=function(F){const G=h.cstrlen(F);return G?Ue(Y().HEAP8U,F,F+G):G===null?G:""},h.jstrlen=function(F){if(typeof F!="string")return null;const G=F.length;let fe=0;for(let Qe=0;Qe<G;++Qe){let z=F.charCodeAt(Qe);z>=55296&&z<=57343&&(z=65536+((z&1023)<<10)|F.charCodeAt(++Qe)&1023),z<=127?++fe:z<=2047?fe+=2:z<=65535?fe+=3:fe+=4}return fe},h.jstrcpy=function(F,G,fe=0,Qe=-1,z=!0){if((!G||!(G instanceof Int8Array)&&!(G instanceof Uint8Array))&&_("jstrcpy() target must be an Int8Array or Uint8Array."),Qe<0&&(Qe=G.length-fe),!(Qe>0)||!(fe>=0))return 0;let X=0,C=F.length;const j=fe,W=fe+Qe-(z?1:0);for(;X<C&&fe<W;++X){let Ie=F.charCodeAt(X);if(Ie>=55296&&Ie<=57343&&(Ie=65536+((Ie&1023)<<10)|F.charCodeAt(++X)&1023),Ie<=127){if(fe>=W)break;G[fe++]=Ie}else if(Ie<=2047){if(fe+1>=W)break;G[fe++]=192|Ie>>6,G[fe++]=128|Ie&63}else if(Ie<=65535){if(fe+2>=W)break;G[fe++]=224|Ie>>12,G[fe++]=128|Ie>>6&63,G[fe++]=128|Ie&63}else{if(fe+3>=W)break;G[fe++]=240|Ie>>18,G[fe++]=128|Ie>>12&63,G[fe++]=128|Ie>>6&63,G[fe++]=128|Ie&63}}return z&&(G[fe++]=0),fe-j},h.cstrncpy=function(F,G,fe){if((!F||!G)&&_("cstrncpy() does not accept NULL strings."),fe<0)fe=h.cstrlen(strPtr)+1;else if(!(fe>0))return 0;const Qe=h.heap8u();let z=0,X;for(;z<fe&&(X=Qe[G+z]);++z)Qe[F+z]=X;return z<fe&&(Qe[F+z++]=0),z},h.jstrToUintArray=(F,G=!1)=>O.utf8Encoder.encode(G?F+"\0":F);const Je=(F,G)=>{(!(F.alloc instanceof Function)||!(F.dealloc instanceof Function))&&_("Object is missing alloc() and/or dealloc() function(s)","required by",G+"().")},rt=function(F,G,fe,Qe){if(Je(h,Qe),typeof F!="string")return null;{const z=O.utf8Encoder.encode(F),X=fe(z.length+1),C=Y().HEAP8U;return C.set(z,X),C[X+z.length]=0,G?[X,z.length]:X}};h.allocCString=(F,G=!1)=>rt(F,G,h.alloc,"allocCString()"),h.scopedAllocPush=function(){Je(h,"scopedAllocPush");const F=[];return O.scopedAlloc.push(F),F},h.scopedAllocPop=function(F){Je(h,"scopedAllocPop");const G=arguments.length?O.scopedAlloc.indexOf(F):O.scopedAlloc.length-1;G<0&&_("Invalid state object for scopedAllocPop()."),arguments.length===0&&(F=O.scopedAlloc[G]),O.scopedAlloc.splice(G,1);for(let fe;fe=F.pop();)h.functionEntry(fe)?h.uninstallFunction(fe):h.dealloc(fe)},h.scopedAlloc=function(F){O.scopedAlloc.length||_("No scopedAllocPush() scope is active.");const G=h.alloc(F);return O.scopedAlloc[O.scopedAlloc.length-1].push(G),G},Object.defineProperty(h.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>O.scopedAlloc.length,set:()=>_("The 'active' property is read-only.")}),h.scopedAllocCString=(F,G=!1)=>rt(F,G,h.scopedAlloc,"scopedAllocCString()");const Ae=function(F,G){const fe=h[F?"scopedAlloc":"alloc"]((G.length+1)*h.ptrSizeof);let Qe=0;return G.forEach(z=>{h.pokePtr(fe+h.ptrSizeof*Qe++,h[F?"scopedAllocCString":"allocCString"](""+z))}),h.pokePtr(fe+h.ptrSizeof*Qe,0),fe};h.scopedAllocMainArgv=F=>Ae(!0,F),h.allocMainArgv=F=>Ae(!1,F),h.cArgvToJs=(F,G)=>{const fe=[];for(let Qe=0;Qe<F;++Qe){const z=h.peekPtr(G+h.ptrSizeof*Qe);fe.push(z?h.cstrToJs(z):null)}return fe},h.scopedAllocCall=function(F){h.scopedAllocPush();try{return F()}finally{h.scopedAllocPop()}};const xe=function(F,G,fe){Je(h,fe);const Qe=G?"i64":b;let z=h[fe](F*(G?8:S));if(h.poke(z,0,Qe),F===1)return z;const X=[z];for(let C=1;C<F;++C)z+=G?8:S,X[C]=z,h.poke(z,0,Qe);return X};h.allocPtr=(F=1,G=!0)=>xe(F,G,"alloc"),h.scopedAllocPtr=(F=1,G=!0)=>xe(F,G,"scopedAlloc"),h.xGet=function(F){return h.exports[F]||_("Cannot find exported symbol:",F)};const ze=(F,G)=>_(F+"() requires",G,"argument(s).");h.xCall=function(F,...G){const fe=F instanceof Function?F:h.xGet(F);return fe instanceof Function||_("Exported symbol",F,"is not a function."),fe.length!==G.length&&ze(fe===F?fe.name:F,fe.length),arguments.length===2&&Array.isArray(arguments[1])?fe.apply(null,arguments[1]):fe.apply(null,G)},O.xWrap=Object.create(null),O.xWrap.convert=Object.create(null),O.xWrap.convert.arg=new Map,O.xWrap.convert.result=new Map;const le=O.xWrap.convert.arg,he=O.xWrap.convert.result;h.bigIntEnabled&&le.set("i64",F=>BigInt(F));const _e=b==="i32"?F=>F|0:F=>BigInt(F)|BigInt(0);le.set("i32",_e).set("i16",F=>(F|0)&65535).set("i8",F=>(F|0)&255).set("f32",F=>Number(F).valueOf()).set("float",le.get("f32")).set("f64",le.get("f32")).set("double",le.get("f64")).set("int",le.get("i32")).set("null",F=>F).set(null,le.get("null")).set("**",_e).set("*",_e),he.set("*",_e).set("pointer",_e).set("number",F=>Number(F)).set("void",F=>{}).set("null",F=>F).set(null,he.get("null"));{const F=["i8","i16","i32","int","f32","float","f64","double"];h.bigIntEnabled&&F.push("i64");const G=le.get(b);for(const fe of F)le.set(fe+"*",G),he.set(fe+"*",G),he.set(fe,le.get(fe)||_("Missing arg converter:",fe))}const $e=function(F){return typeof F=="string"?h.scopedAllocCString(F):F?_e(F):null};le.set("string",$e).set("utf8",$e).set("pointer",$e),he.set("string",F=>h.cstrToJs(F)).set("utf8",he.get("string")).set("string:dealloc",F=>{try{return F?h.cstrToJs(F):null}finally{h.dealloc(F)}}).set("utf8:dealloc",he.get("string:dealloc")).set("json",F=>JSON.parse(h.cstrToJs(F))).set("json:dealloc",F=>{try{return F?JSON.parse(h.cstrToJs(F)):null}finally{h.dealloc(F)}});const Be=class{constructor(F){this.name=F.name||"unnamed adapter"}convertArg(F,G,fe){_("AbstractArgAdapter must be subclassed.")}};le.FuncPtrAdapter=class Bo extends Be{constructor(G){super(G),le.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",G),this.name=G.name||"unnamed",this.signature=G.signature,G.contextKey instanceof Function&&(this.contextKey=G.contextKey,G.bindScope||(G.bindScope="context")),this.bindScope=G.bindScope||_("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Bo.bindScopes.indexOf(G.bindScope)<0&&_("Invalid options.bindScope ("+G.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Bo.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=G.callProxy instanceof Function?G.callProxy:void 0}contextKey(G,fe){return this}contextMap(G){const fe=this.__cmap||(this.__cmap=new Map);let Qe=fe.get(G);return Qe===void 0&&fe.set(G,Qe=[]),Qe}convertArg(G,fe,Qe){let z=this.singleton;if(!z&&this.isContext&&(z=this.contextMap(this.contextKey(fe,Qe))),z&&z[0]===G)return z[1];if(G instanceof Function){this.callProxy&&(G=this.callProxy(G));const X=te(G,this.signature,this.isTransient);if(Bo.debugFuncInstall&&Bo.debugOut("FuncPtrAdapter installed",this,this.contextKey(fe,Qe),"@"+X,G),z){if(z[1]){Bo.debugFuncInstall&&Bo.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(fe,Qe),"@"+z[1],G);try{O.scopedAlloc[O.scopedAlloc.length-1].push(z[1])}catch{}}z[0]=G,z[1]=X}return X}else if(h.isPtr(G)||G===null||G===void 0){if(z&&z[1]&&z[1]!==G){Bo.debugFuncInstall&&Bo.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(fe,Qe),"@"+z[1],G);try{O.scopedAlloc[O.scopedAlloc.length-1].push(z[1])}catch{}z[0]=z[1]=G|0}return G||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},le.FuncPtrAdapter.warnOnUse=!1,le.FuncPtrAdapter.debugFuncInstall=!1,le.FuncPtrAdapter.debugOut=console.debug.bind(console),le.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const we=F=>le.get(F)||_("Argument adapter not found:",F),Me=F=>he.get(F)||_("Result adapter not found:",F);O.xWrap.convertArg=(F,...G)=>we(F)(...G),O.xWrap.convertArgNoCheck=(F,...G)=>le.get(F)(...G),O.xWrap.convertResult=(F,G)=>F===null?G:F?Me(F)(G):void 0,O.xWrap.convertResultNoCheck=(F,G)=>F===null?G:F?he.get(F)(G):void 0,h.xWrap=function(F,G,...fe){arguments.length===3&&Array.isArray(arguments[2])&&(fe=arguments[2]),h.isPtr(F)&&(F=h.functionEntry(F)||_("Function pointer not found in WASM function table."));const Qe=F instanceof Function,z=Qe?F:h.xGet(F);if(Qe&&(F=z.name||"unnamed function"),fe.length!==z.length&&ze(F,z.length),G===null&&z.length===0)return z;G!=null&&Me(G);for(const C of fe)C instanceof Be?le.set(C,(...j)=>C.convertArg(...j)):we(C);const X=O.xWrap;return z.length===0?(...C)=>C.length?ze(F,z.length):X.convertResult(G,z.call(null)):function(...C){C.length!==z.length&&ze(F,z.length);const j=h.scopedAllocPush();try{let W=0;for(;W<C.length;++W)C[W]=X.convertArgNoCheck(fe[W],C[W],C,W);return X.convertResultNoCheck(G,z.apply(null,C))}finally{h.scopedAllocPop(j)}}};const ht=function(F,G,fe,Qe,z,X){if(typeof fe=="string"){if(G===1)return X.get(fe);if(G===2){if(Qe)Qe instanceof Function||_(z,"requires a function argument.");else return delete X.get(fe),F;return X.set(fe,Qe),F}}_("Invalid arguments to",z)};return h.xWrap.resultAdapter=function F(G,fe){return ht(F,arguments.length,G,fe,"resultAdapter()",he)},h.xWrap.argAdapter=function F(G,fe){return ht(F,arguments.length,G,fe,"argAdapter()",le)},h.xWrap.FuncPtrAdapter=le.FuncPtrAdapter,h.xCallWrapped=function(F,G,fe,...Qe){return Array.isArray(arguments[3])&&(Qe=arguments[3]),h.xWrap(F,G,fe||[]).apply(null,Qe||[])},h.xWrap.testConvertArg=O.xWrap.convertArg,h.xWrap.testConvertResult=O.xWrap.convertResult,h},globalThis.WhWasmUtilInstaller.yawl=function(h){const _=()=>fetch(h.uri,{credentials:"same-origin"}),b=this,S=function(Y){if(h.wasmUtilTarget){const te=(...Ue)=>{throw new Error(Ue.join(" "))},je=h.wasmUtilTarget;if(je.module=Y.module,je.instance=Y.instance,je.instance.exports.memory||(je.memory=h.imports&&h.imports.env&&h.imports.env.memory||te("Missing 'memory' object!")),!je.alloc&&Y.instance.exports.malloc){const Ue=Y.instance.exports;je.alloc=function(Je){return Ue.malloc(Je)||te("Allocation of",Je,"bytes failed.")},je.dealloc=function(Je){Ue.free(Je)}}b(je)}return h.onload&&h.onload(Y,h),Y};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(_(),h.imports||{}).then(S)}:function(){return _().then(te=>te.arrayBuffer()).then(te=>WebAssembly.instantiate(te,h.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function h(_){const b=(...Pe)=>{throw new Error(Pe.join(" "))};!(_.heap instanceof WebAssembly.Memory)&&!(_.heap instanceof Function)&&b("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Pe){_[Pe]instanceof Function||b("Config option '"+Pe+"' must be a function.")});const S=h,O=_.heap instanceof Function?_.heap:()=>new Uint8Array(_.heap.buffer),Y=_.alloc,te=_.dealloc,je=_.log||console.log.bind(console),Ue=_.memberPrefix||"",Je=_.memberSuffix||"",rt=_.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!_.bigIntEnabled,Ae=globalThis.BigInt,xe=globalThis.BigInt64Array,ze=_.ptrSizeof||4,le=_.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Pe=null){Pe&&Pe.__flags&&(Pe=Pe.__flags);const st=function ct(wt){return arguments.length===0?ct.__flags:(wt<0?(delete ct.__flags.getter,delete ct.__flags.setter,delete ct.__flags.alloc,delete ct.__flags.dealloc):(ct.__flags.getter=(1&wt)!==0,ct.__flags.setter=(2&wt)!==0,ct.__flags.alloc=(4&wt)!==0,ct.__flags.dealloc=(8&wt)!==0),ct._flags)};return Object.defineProperty(st,"__flags",{iterable:!1,writable:!1,value:Object.create(Pe)}),Pe||st(0),st},S.debugFlags=S.__makeDebugFlags());const he=function(){const Pe=new ArrayBuffer(2);return new DataView(Pe).setInt16(0,256,!0),new Int16Array(Pe)[0]===256}(),_e=Pe=>Pe[1]==="(",$e=Pe=>Pe==="P",Be=Pe=>_e(Pe)?"p":Pe[0],we=function(Pe){switch(Be(Pe)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return le;case"j":return"i64";case"f":return"float";case"d":return"double"}b("Unhandled signature IR:",Pe)},Me=xe?()=>!0:()=>b("BigInt64Array is not available."),ht=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(ze){case 4:return"getInt32";case 8:return Me()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Me()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}b("Unhandled DataView getter for signature:",Pe)},F=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(ze){case 4:return"setInt32";case 8:return Me()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Me()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}b("Unhandled DataView setter for signature:",Pe)},G=function(Pe){switch(Be(Pe)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Me()&&Ae;case"p":case"P":case"s":switch(ze){case 4:return Number;case 8:return Me()&&Ae}break}b("Unhandled DataView set wrapper for signature:",Pe)},fe=(Pe,st)=>Pe+"::"+st,Qe=function(Pe,st){return()=>b(fe(Pe,st),"is read-only.")},z=new WeakMap,X="(pointer-is-external)",C=function(Pe,st,ct){if(ct||(ct=z.get(st)),ct){if(z.delete(st),Array.isArray(st.ondispose)){let wt;for(;wt=st.ondispose.shift();)try{wt instanceof Function?wt.call(st):wt instanceof Ft?wt.dispose():typeof wt=="number"&&te(wt)}catch(sr){console.warn("ondispose() for",Pe.structName,"@",ct,"threw. NOT propagating it.",sr)}}else if(st.ondispose instanceof Function)try{st.ondispose()}catch(wt){console.warn("ondispose() for",Pe.structName,"@",ct,"threw. NOT propagating it.",wt)}delete st.ondispose,Pe.debugFlags.__flags.dealloc&&je("debug.dealloc:",st[X]?"EXTERNAL":"",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+ct),st[X]||te(ct)}},j=Pe=>({configurable:!1,writable:!1,iterable:!1,value:Pe}),W=function(Pe,st,ct){let wt=!ct;ct?Object.defineProperty(st,X,j(ct)):(ct=Y(Pe.structInfo.sizeof),ct||b("Allocation of",Pe.structName,"structure failed."));try{Pe.debugFlags.__flags.alloc&&je("debug.alloc:",wt?"":"EXTERNAL",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+ct),wt&&O().fill(0,ct,ct+Pe.structInfo.sizeof),z.set(st,ct)}catch(sr){throw C(Pe,st,ct),sr}},Ie=function(){const Pe=this.pointer;return Pe?new Uint8Array(O().slice(Pe,Pe+this.structInfo.sizeof)):null},Et=j(Pe=>Ue+Pe+Je),Lt=function(Pe,st,ct=!0){let wt=Pe.members[st];if(!wt&&(Ue||Je)){for(const sr of Object.values(Pe.members))if(sr.key===st){wt=sr;break}!wt&&ct&&b(fe(Pe.name,st),"is not a mapped struct member.")}return wt},$t=function Pe(st,ct,wt=!1){Pe._||(Pe._=Cr=>Cr.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const sr=Lt(st.structInfo,ct,!0);return wt?Pe._(sr.signature):sr.signature},Ze={configurable:!1,enumerable:!1,get:function(){return z.get(this)},set:()=>b("Cannot assign the 'pointer' property of a struct.")},ce=j(function(){const Pe=[];for(const st of Object.keys(this.structInfo.members))Pe.push(this.memberKey(st));return Pe}),ke=new TextDecoder("utf-8"),Ke=new TextEncoder,et=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,qt=function(Pe,st,ct){return ke.decode(Pe.buffer instanceof et?Pe.slice(st,ct):Pe.subarray(st,ct))},Wt=function(Pe,st,ct=!1){const wt=Lt(Pe.structInfo,st,ct);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},Ee=function(Pe){Pe.signature!=="s"&&b("Invalid member type signature for C-string value:",JSON.stringify(Pe))},Ve=function(st,ct){const wt=Lt(st.structInfo,ct,!0);Ee(wt);const sr=st[wt.key];if(!sr)return null;let Cr=sr;const Nr=O();for(;Nr[Cr]!==0;++Cr);return sr===Cr?"":qt(Nr,sr,Cr)},Ye=function(Pe,...st){Pe.ondispose?Array.isArray(Pe.ondispose)||(Pe.ondispose=[Pe.ondispose]):Pe.ondispose=[],Pe.ondispose.push(...st)},bt=function(Pe){const st=Ke.encode(Pe),ct=Y(st.length+1);ct||b("Allocation error while duplicating string:",Pe);const wt=O();return wt.set(st,ct),wt[ct+st.length]=0,ct},ut=function(Pe,st,ct){const wt=Lt(Pe.structInfo,st,!0);Ee(wt);const sr=bt(ct);return Pe[wt.key]=sr,Ye(Pe,sr),Pe},Ft=function(st,ct){arguments[2]!==j&&b("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:j(st),structInfo:j(ct)})};Ft.prototype=Object.create(null,{dispose:j(function(){C(this.constructor,this)}),lookupMember:j(function(Pe,st=!0){return Lt(this.structInfo,Pe,st)}),memberToJsString:j(function(Pe){return Ve(this,Pe)}),memberIsString:j(function(Pe,st=!0){return Wt(this,Pe,st)}),memberKey:Et,memberKeys:ce,memberSignature:j(function(Pe,st=!1){return $t(this,Pe,st)}),memoryDump:j(Ie),pointer:Ze,setMemberCString:j(function(Pe,st){return ut(this,Pe,st)})}),Object.assign(Ft.prototype,{addOnDispose:function(...Pe){return Ye(this,...Pe),this}}),Object.defineProperties(Ft,{allocCString:j(bt),isA:j(Pe=>Pe instanceof Ft),hasExternalPointer:j(Pe=>Pe instanceof Ft&&!!Pe[X]),memberKey:Et});const nr=Pe=>Number.isFinite(Pe)||Pe instanceof(Ae||Number),Nt=function Pe(st,ct,wt){if(!Pe._){Pe._={getters:{},setters:{},sw:{}};const Rn=["i","c","C","p","P","s","f","d","v()"];rt&&Rn.push("j"),Rn.forEach(function(Yi){Pe._.getters[Yi]=ht(Yi),Pe._.setters[Yi]=F(Yi),Pe._.sw[Yi]=G(Yi)});const dg=/^[ipPsjfdcC]$/,fg=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Pe.sigCheck=function(Yi,hg,wh,Yc){Object.prototype.hasOwnProperty.call(Yi,wh)&&b(Yi.structName,"already has a property named",wh+"."),dg.test(Yc)||fg.test(Yc)||b("Malformed signature for",fe(Yi.structName,hg)+":",Yc)}}const sr=st.memberKey(ct);Pe.sigCheck(st.prototype,ct,sr,wt.signature),wt.key=sr,wt.name=ct;const Cr=Be(wt.signature),Nr=fe(st.prototype.structName,sr),Ir=st.prototype.debugFlags.__flags,Eo=Object.create(null);Eo.configurable=!1,Eo.enumerable=!1,Eo.get=function(){Ir.getter&&je("debug.getter:",Pe._.getters[Cr],"for",we(Cr),Nr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let Rn=new DataView(O().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.getters[Cr]](0,he);return Ir.getter&&je("debug.getter:",Nr,"result =",Rn),Rn},wt.readOnly?Eo.set=Qe(st.prototype.structName,sr):Eo.set=function(Rn){if(Ir.setter&&je("debug.setter:",Pe._.setters[Cr],"for",we(Cr),Nr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,Rn),this.pointer||b("Cannot set struct property on disposed instance."),Rn===null)Rn=0;else for(;!nr(Rn);){if($e(wt.signature)&&Rn instanceof Ft){Rn=Rn.pointer||0,Ir.setter&&je("debug.setter:",Nr,"resolved to",Rn);break}b("Invalid value for pointer-type",Nr+".")}new DataView(O().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.setters[Cr]](0,Pe._.sw[Cr](Rn),he)},Object.defineProperty(st.prototype,sr,Eo)},tn=function Pe(st,ct){arguments.length===1?(ct=st,st=ct.name):ct.name||(ct.name=st),st||b("Struct name is required.");let wt=!1;Object.keys(ct.members).forEach(Nr=>{const Ir=ct.members[Nr];Ir.sizeof?Ir.sizeof===1?Ir.signature==="c"||Ir.signature==="C"||b("Unexpected sizeof==1 member",fe(ct.name,Nr),"with signature",Ir.signature):(Ir.sizeof%4!==0&&(console.warn("Invalid struct member description =",Ir,"from",ct),b(st,"member",Nr,"sizeof is not aligned. sizeof="+Ir.sizeof)),Ir.offset%4!==0&&(console.warn("Invalid struct member description =",Ir,"from",ct),b(st,"member",Nr,"offset is not aligned. offset="+Ir.offset))):b(st,"member",Nr,"is missing sizeof."),(!wt||wt.offset<Ir.offset)&&(wt=Ir)}),wt?ct.sizeof<wt.offset+wt.sizeof&&b("Invalid struct config:",st,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+ct.sizeof+")."):b("No member property descriptions found.");const sr=j(S.__makeDebugFlags(Pe.debugFlags)),Cr=function Nr(Ir){this instanceof Nr?arguments.length?((Ir!==(Ir|0)||Ir<=0)&&b("Invalid pointer value for",st,"constructor."),W(Nr,this,Ir)):W(Nr,this):b("The",st,"constructor may only be called via 'new'.")};return Object.defineProperties(Cr,{debugFlags:sr,isA:j(Nr=>Nr instanceof Cr),memberKey:Et,memberKeys:ce,methodInfoForKey:j(function(Nr){}),structInfo:j(ct),structName:j(st)}),Cr.prototype=new Ft(st,ct,j),Object.defineProperties(Cr.prototype,{debugFlags:sr,constructor:j(Cr)}),Object.keys(ct.members).forEach(Nr=>Nt(Cr,Nr,ct.members[Nr])),Cr};return tn.StructType=Ft,tn.config=_,tn.allocCString=bt,tn.debugFlags||(tn.debugFlags=S.__makeDebugFlags(S.debugFlags)),tn},globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=(...le)=>{throw new Error(le.join(" "))};h.SQLite3Error.toss;const b=h.capi,S=h.wasm,O=h.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(le,he)=>le[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:le=>le[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:le=>{let he;return(_e,$e,Be,we)=>{try{const Me=S.cArgvToJs($e,Be);return he||(he=S.cArgvToJs($e,we)),le(Me,he)|0}catch(Me){return Me.resultCode||b.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:le=>le[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(le,he)=>le[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(le,he)=>le[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(le,he)=>le[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(le,he)=>le[0],callProxy:le=>(he,_e,$e,Be,we,Me)=>{try{return $e=$e&&S.cstrToJs($e),Be=Be&&S.cstrToJs(Be),we=we&&S.cstrToJs(we),Me=Me&&S.cstrToJs(Me),le(he,_e,$e,Be,we,Me)||0}catch(ht){return ht.resultCode||b.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:le=>le[0],callProxy:le=>(he,_e,$e,Be,we)=>{le(he,_e,S.cstrToJs($e),S.cstrToJs(Be),we)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:le=>le[0],callProxy:le=>(he,_e,$e,Be,we,Me,ht)=>{le(he,_e,$e,S.cstrToJs(Be),S.cstrToJs(we),Me,ht)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const le={signature:"i(ps)",callProxy:he=>(_e,$e)=>{try{return he(_e,S.cstrToJs($e))|0}catch(Be){return Be.resultCode||b.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...le,contextKey:(he,_e)=>he[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],h.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const le=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",we=>le(O.flexibleString(we))),S.xWrap.argAdapter("string:static",function(we){return S.isPtr(we)?we:(we=""+we,this[we]||(this[we]=S.allocCString(we)))}.bind(Object.create(null)));const he=S.xWrap.argAdapter("*"),_e=function(){};S.xWrap.argAdapter("sqlite3_filename",he)("sqlite3_context*",he)("sqlite3_value*",he)("void*",he)("sqlite3_changegroup*",he)("sqlite3_changeset_iter*",he)("sqlite3_session*",he)("sqlite3_stmt*",we=>he(we instanceof(h?.oo1?.Stmt||_e)?we.pointer:we))("sqlite3*",we=>he(we instanceof(h?.oo1?.DB||_e)?we.pointer:we))("sqlite3_vfs*",we=>typeof we=="string"?b.sqlite3_vfs_find(we)||h.SQLite3Error.toss(b.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",we):he(we instanceof(b.sqlite3_vfs||_e)?we.pointer:we)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",we=>he(we instanceof(b.sqlite3_index_info||_e)?we.pointer:we))("sqlite3_module*",we=>he(we instanceof(b.sqlite3_module||_e)?we.pointer:we));const $e=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",$e)("sqlite3_context*",$e)("sqlite3_stmt*",$e)("sqlite3_value*",$e)("sqlite3_vfs*",$e)("void*",$e),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,h.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const we of S.bindingSignatures)b[we[0]]=S.xWrap.apply(null,we);for(const we of S.bindingSignatures.wasmInternal)O[we[0]]=S.xWrap.apply(null,we);const Be=function(we){return()=>_(we+"() is unavailable due to lack","of BigInt support in this build.")};for(const we of S.bindingSignatures.int64)b[we[0]]=S.bigIntEnabled?S.xWrap.apply(null,we):Be(we[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const we=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");O.sqlite3__wasm_db_error=function(Me,ht,F){return ht instanceof h.WasmAllocError?(ht=b.SQLITE_NOMEM,F=0):ht instanceof Error&&(F=F||""+ht,ht=ht.resultCode||b.SQLITE_ERROR),Me?we(Me,ht,F):ht}}else O.sqlite3__wasm_db_error=function(we,Me,ht){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Me}}{const le=S.xCall("sqlite3__wasm_enum_json");le||_("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(le));const he=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&he.push("serialize","session","vtab");for(const Be of he)for(const we of Object.entries(S.ctype[Be]))b[we[0]]=we[1];S.functionEntry(b.SQLITE_WASM_DEALLOC)||_("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+b.SQLITE_WASM_DEALLOC+").");const _e=Object.create(null);for(const Be of["resultCodes"])for(const we of Object.entries(S.ctype[Be]))_e[we[1]]=we[0];b.sqlite3_js_rc_str=Be=>_e[Be];const $e=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!O.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const Be of S.ctype.structs)$e[Be.name]||(b[Be.name]=h.StructBinder(Be));if(b.sqlite3_index_info){for(const Be of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])b.sqlite3_index_info[Be]=b[Be],delete b[Be];b.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const Y=(le,he,_e)=>O.sqlite3__wasm_db_error(le,b.SQLITE_MISUSE,he+"() requires "+_e+" argument"+(_e===1?"":"s")+"."),te=le=>O.sqlite3__wasm_db_error(le,b.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),je=le=>S.xWrap.argAdapter("sqlite3*")(le),Ue=le=>S.isPtr(le)?S.cstrToJs(le):le,Je=function(le,he){le=je(le);let _e=this.dbMap.get(le);if(he)!_e&&he>0&&this.dbMap.set(le,_e=Object.create(null));else return this.dbMap.delete(le),_e;return _e}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Je.addCollation=function(le,he){const _e=Je(le,1);_e.collation||(_e.collation=new Set),_e.collation.add(Ue(he).toLowerCase())},Je._addUDF=function(le,he,_e,$e){he=Ue(he).toLowerCase();let Be=$e.get(he);Be||$e.set(he,Be=new Set),Be.add(_e<0?-1:_e)},Je.addFunction=function(le,he,_e){const $e=Je(le,1);$e.udf||($e.udf=new Map),this._addUDF(le,he,_e,$e.udf)},S.exports.sqlite3_create_window_function&&(Je.addWindowFunc=function(le,he,_e){const $e=Je(le,1);$e.wudf||($e.wudf=new Map),this._addUDF(le,he,_e,$e.wudf)}),Je.cleanup=function(le){le=je(le);const he=[le];for(const Be of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const we=S.exports[Be];if(we){he.length=we.length;try{b[Be](...he)}catch(Me){h.config.warn("close-time call of",Be+"(",he,") threw:",Me)}}}const _e=Je(le,0);if(!_e)return;if(_e.collation){for(const Be of _e.collation)try{b.sqlite3_create_collation_v2(le,Be,b.SQLITE_UTF8,0,0,0)}catch{}delete _e.collation}let $e;for($e=0;$e<2;++$e){const Be=$e?_e.wudf:_e.udf;if(!Be)continue;const we=$e?b.sqlite3_create_window_function:b.sqlite3_create_function_v2;for(const Me of Be){const ht=Me[0],F=Me[1],G=[le,ht,0,b.SQLITE_UTF8,0,0,0,0,0];$e&&G.push(0);for(const fe of F)try{G[2]=fe,we.apply(null,G)}catch{}F.clear()}Be.clear()}delete _e.udf,delete _e.wudf};{const le=S.xWrap("sqlite3_close_v2","int","sqlite3*");b.sqlite3_close_v2=function(he){if(arguments.length!==1)return Y(he,"sqlite3_close_v2",1);if(he)try{Je.cleanup(he)}catch{}return le(he)}}if(b.sqlite3session_create){const le=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);b.sqlite3session_delete=function(he){if(arguments.length!==1)return Y(pDb,"sqlite3session_delete",1);he&&b.sqlite3session_table_filter(he,0,0),le(he)}}{const le=(_e,$e)=>"argv["+$e+"]:"+_e[0]+":"+S.cstrToJs(_e[1]).toLowerCase(),he=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:le}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:le})]);b.sqlite3_create_collation_v2=function(_e,$e,Be,we,Me,ht){if(arguments.length!==6)return Y(_e,"sqlite3_create_collation_v2",6);if(!(Be&15))Be|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(Be&15))return te(_e);try{const F=he(_e,$e,Be,we,Me,ht);return F===0&&Me instanceof Function&&Je.addCollation(_e,$e),F}catch(F){return O.sqlite3__wasm_db_error(_e,F)}},b.sqlite3_create_collation=(_e,$e,Be,we,Me)=>arguments.length===5?b.sqlite3_create_collation_v2(_e,$e,Be,we,Me,0):Y(_e,"sqlite3_create_collation",5)}{const le=function(Be,we){return Be[0]+":"+(Be[2]<0?-1:Be[2])+":"+we+":"+S.cstrToJs(Be[1]).toLowerCase()},he=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:le,callProxy:Be=>(we,Me,ht)=>{try{Be(we,...b.sqlite3_values_to_js(Me,ht))}catch(F){b.sqlite3_result_error_js(we,F)}}},xFinalAndValue:{signature:"v(p)",contextKey:le,callProxy:Be=>we=>{try{b.sqlite3_result_js(we,Be(we))}catch(Me){b.sqlite3_result_error_js(we,Me)}}},xFunc:{signature:"v(pip)",contextKey:le,callProxy:Be=>(we,Me,ht)=>{try{b.sqlite3_result_js(we,Be(we,...b.sqlite3_values_to_js(Me,ht)))}catch(F){b.sqlite3_result_error_js(we,F)}}},xDestroy:{signature:"v(p)",contextKey:le,callProxy:Be=>we=>{try{Be(we)}catch(Me){console.error("UDF xDestroy method threw:",Me)}}}}),_e=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...he.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...he.xDestroy})]),$e=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...he.xDestroy})]):void 0;b.sqlite3_create_function_v2=function Be(we,Me,ht,F,G,fe,Qe,z,X){if(Be.length!==arguments.length)return Y(we,"sqlite3_create_function_v2",Be.length);if(!(F&15))F|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(F&15))return te(we);try{const C=_e(we,Me,ht,F,G,fe,Qe,z,X);return C===0&&(fe instanceof Function||Qe instanceof Function||z instanceof Function||X instanceof Function)&&Je.addFunction(we,Me,ht),C}catch(C){return console.error("sqlite3_create_function_v2() setup threw:",C),O.sqlite3__wasm_db_error(we,C,"Creation of UDF threw: "+C)}},b.sqlite3_create_function=function Be(we,Me,ht,F,G,fe,Qe,z){return Be.length===arguments.length?b.sqlite3_create_function_v2(we,Me,ht,F,G,fe,Qe,z,0):Y(we,"sqlite3_create_function",Be.length)},$e?b.sqlite3_create_window_function=function Be(we,Me,ht,F,G,fe,Qe,z,X,C){if(Be.length!==arguments.length)return Y(we,"sqlite3_create_window_function",Be.length);if(!(F&15))F|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(F&15))return te(we);try{const j=$e(we,Me,ht,F,G,fe,Qe,z,X,C);return j===0&&(fe instanceof Function||Qe instanceof Function||z instanceof Function||X instanceof Function||C instanceof Function)&&Je.addWindowFunc(we,Me,ht),j}catch(j){return console.error("sqlite3_create_window_function() setup threw:",j),O.sqlite3__wasm_db_error(we,j,"Creation of UDF threw: "+j)}}:delete b.sqlite3_create_window_function,b.sqlite3_create_function_v2.udfSetResult=b.sqlite3_create_function.udfSetResult=b.sqlite3_result_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfSetResult=b.sqlite3_result_js),b.sqlite3_create_function_v2.udfConvertArgs=b.sqlite3_create_function.udfConvertArgs=b.sqlite3_values_to_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfConvertArgs=b.sqlite3_values_to_js),b.sqlite3_create_function_v2.udfSetError=b.sqlite3_create_function.udfSetError=b.sqlite3_result_error_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfSetError=b.sqlite3_result_error_js)}{const le=(_e,$e)=>(typeof _e=="string"?$e=-1:O.isSQLableTypedArray(_e)?($e=_e.byteLength,_e=O.typedArrayToString(_e instanceof ArrayBuffer?new Uint8Array(_e):_e)):Array.isArray(_e)&&(_e=_e.join(""),$e=-1),[_e,$e]),he={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};b.sqlite3_prepare_v3=function _e($e,Be,we,Me,ht,F){if(_e.length!==arguments.length)return Y($e,"sqlite3_prepare_v3",_e.length);const[G,fe]=le(Be,we);switch(typeof G){case"string":return he.basic($e,G,fe,Me,ht,null);case"number":return he.full($e,G,fe,Me,ht,F);default:return O.sqlite3__wasm_db_error($e,b.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},b.sqlite3_prepare_v2=function _e($e,Be,we,Me,ht){return _e.length===arguments.length?b.sqlite3_prepare_v3($e,Be,we,0,Me,ht):Y($e,"sqlite3_prepare_v2",_e.length)}}{const le=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),he=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);b.sqlite3_bind_text=function _e($e,Be,we,Me,ht){if(_e.length!==arguments.length)return Y(b.sqlite3_db_handle($e),"sqlite3_bind_text",_e.length);if(S.isPtr(we)||we===null)return le($e,Be,we,Me,ht);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(pMem)&&(we=pMem.join(""));let F,G;try{if(O.isSQLableTypedArray(we))F=S.allocFromTypedArray(we),G=we.byteLength;else if(typeof we=="string")[F,G]=S.allocCString(we);else return O.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),b.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return le($e,Be,F,G,b.SQLITE_WASM_DEALLOC)}catch(fe){return S.dealloc(F),O.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),fe)}},b.sqlite3_bind_blob=function _e($e,Be,we,Me,ht){if(_e.length!==arguments.length)return Y(b.sqlite3_db_handle($e),"sqlite3_bind_blob",_e.length);if(S.isPtr(we)||we===null)return he($e,Be,we,Me,ht);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(we)&&(we=we.join(""));let F,G;try{if(O.isBindableTypedArray(we))F=S.allocFromTypedArray(we),G=Me>=0?Me:we.byteLength;else if(typeof we=="string")[F,G]=S.allocCString(we);else return O.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),b.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return he($e,Be,F,G,b.SQLITE_WASM_DEALLOC)}catch(fe){return S.dealloc(F),O.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),fe)}}}b.sqlite3_config=function(le,...he){if(arguments.length<2)return b.SQLITE_MISUSE;switch(le){case b.SQLITE_CONFIG_COVERING_INDEX_SCAN:case b.SQLITE_CONFIG_MEMSTATUS:case b.SQLITE_CONFIG_SMALL_MALLOC:case b.SQLITE_CONFIG_SORTERREF_SIZE:case b.SQLITE_CONFIG_STMTJRNL_SPILL:case b.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(le,he[0]);case b.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(le,he[0],he[1]);case b.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(le,he[0]);case b.SQLITE_CONFIG_GETMALLOC:case b.SQLITE_CONFIG_GETMUTEX:case b.SQLITE_CONFIG_GETPCACHE2:case b.SQLITE_CONFIG_GETPCACHE:case b.SQLITE_CONFIG_HEAP:case b.SQLITE_CONFIG_LOG:case b.SQLITE_CONFIG_MALLOC:case b.SQLITE_CONFIG_MMAP_SIZE:case b.SQLITE_CONFIG_MULTITHREAD:case b.SQLITE_CONFIG_MUTEX:case b.SQLITE_CONFIG_PAGECACHE:case b.SQLITE_CONFIG_PCACHE2:case b.SQLITE_CONFIG_PCACHE:case b.SQLITE_CONFIG_PCACHE_HDRSZ:case b.SQLITE_CONFIG_PMASZ:case b.SQLITE_CONFIG_SERIALIZED:case b.SQLITE_CONFIG_SINGLETHREAD:case b.SQLITE_CONFIG_SQLLOG:case b.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return b.SQLITE_NOTFOUND}};{const le=new Set;b.sqlite3_auto_extension=function(he){if(he instanceof Function)he=S.installFunction("i(ppp)",he);else if(arguments.length!==1||!S.isPtr(he))return b.SQLITE_MISUSE;const _e=S.exports.sqlite3_auto_extension(he);return he!==arguments[0]&&(_e===0?le.add(he):S.uninstallFunction(he)),_e},b.sqlite3_cancel_auto_extension=function(he){return!he||arguments.length!==1||!S.isPtr(he)?0:S.exports.sqlite3_cancel_auto_extension(he)},b.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const he of le)S.uninstallFunction(he);le.clear()}}const rt=b.sqlite3_vfs_find("kvvfs");if(rt)if(O.isUIThread()){const le=new b.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete b.sqlite3_kvvfs_methods;const he=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,_e=S.pstack,$e=we=>S.peek(we)===115?sessionStorage:localStorage,Be={xRead:(we,Me,ht,F)=>{const G=_e.pointer,fe=S.scopedAllocPush();try{const Qe=he(we,Me);if(!Qe)return-3;const z=S.cstrToJs(Qe),X=$e(we).getItem(z);if(!X)return-1;const C=X.length;if(F<=0)return C;if(F===1)return S.poke(ht,0),C;const j=S.scopedAllocCString(X);return F>C+1&&(F=C+1),S.heap8u().copyWithin(ht,j,j+F-1),S.poke(ht+F-1,0),F-1}catch(Qe){return console.error("kvstorageRead()",Qe),-2}finally{_e.restore(G),S.scopedAllocPop(fe)}},xWrite:(we,Me,ht)=>{const F=_e.pointer;try{const G=he(we,Me);if(!G)return 1;const fe=S.cstrToJs(G);return $e(we).setItem(fe,S.cstrToJs(ht)),0}catch(G){return console.error("kvstorageWrite()",G),b.SQLITE_IOERR}finally{_e.restore(F)}},xDelete:(we,Me)=>{const ht=_e.pointer;try{const F=he(we,Me);return F?($e(we).removeItem(S.cstrToJs(F)),0):1}catch(F){return console.error("kvstorageDelete()",F),b.SQLITE_IOERR}finally{_e.restore(ht)}}};for(const we of Object.keys(Be))le[le.memberKey(we)]=S.installFunction(le.memberSignature(we),Be[we])}else b.sqlite3_vfs_unregister(rt);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ae=h.StructBinder,xe=function le(he,_e,$e,Be=le.installMethodArgcCheck){if(he instanceof Ae.StructType?!($e instanceof Function)&&!S.isPtr($e)&&_("Usage errror: expecting a Function or WASM pointer to one."):_("Usage error: target object is-not-a StructType."),arguments.length===1)return(F,G)=>le(he,F,G,Be);le.argcProxy||(le.argcProxy=function(F,G,fe,Qe){return function(...z){return fe.length!==arguments.length&&_("Argument mismatch for",F.structInfo.name+"::"+G+": Native signature is:",Qe),fe.apply(this,z)}},le.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((F,G)=>{if(typeof F=="number")try{S.uninstallFunction(F)}catch{}}),delete this.ondispose.__removeFuncList)});const we=he.memberSignature(_e);we.length<2&&_("Member",_e,"does not have a function pointer signature:",we);const Me=he.memberKey(_e),ht=Be&&!S.isPtr($e)?le.argcProxy(he,Me,$e,we):$e;if(S.isPtr(ht))ht&&!S.functionEntry(ht)&&_("Pointer",ht,"is not a WASM function table entry."),he[Me]=ht;else{const F=S.installFunction(ht,he.memberSignature(_e,!0));he[Me]=F,(!he.ondispose||!he.ondispose.__removeFuncList)&&(he.addOnDispose("ondispose.__removeFuncList handler",le.removeFuncList),he.ondispose.__removeFuncList=[]),he.ondispose.__removeFuncList.push(Me,F)}return(F,G)=>le(he,F,G,Be)};xe.installMethodArgcCheck=!1;const ze=function(le,he,_e=xe.installMethodArgcCheck){const $e=new Map;for(const Be of Object.keys(he)){const we=he[Be],Me=$e.get(we);if(Me){const ht=le.memberKey(Be);le[ht]=le[le.memberKey(Me)]}else xe(le,Be,we,_e),$e.set(we,Be)}return le};Ae.StructType.prototype.installMethod=function(he,_e,$e=xe.installMethodArgcCheck){return arguments.length<3&&he&&typeof he=="object"?ze(this,...arguments):xe(this,...arguments)},Ae.StructType.prototype.installMethods=function(le,he=xe.installMethodArgcCheck){return ze(this,le,he)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){h.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=(...z)=>{throw new h.SQLite3Error(...z)},b=h.capi,S=h.wasm,O=h.util,Y=new WeakMap,te=new WeakMap,je=(z,X,C)=>{const j=Object.getOwnPropertyDescriptor(z,X);return j?j.value:C},Ue=function(z,X){return X&&(z instanceof xe&&(z=z.pointer),_(X,"sqlite3 result code",X+":",z?b.sqlite3_errmsg(z):b.sqlite3_errstr(X))),arguments[0]},Je=S.installFunction("i(ippp)",function(z,X,C,j){b.SQLITE_TRACE_STMT===z&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+X+":",S.cstrToJs(j))}.bind({counter:0})),rt=Object.create(null),Ae=function z(...X){if(!z._name2vfs){z._name2vfs=Object.create(null);const ce=typeof importScripts=="function"?ke=>_("The VFS for",ke,"is only available in the main window thread."):!1;z._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:ce||(()=>"local")},z._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:ce||(()=>"session")}}const C=z.normalizeArgs(...X);let j=C.filename,W=C.vfs,Ie=C.flags;(typeof j!="string"&&typeof j!="number"||typeof Ie!="string"||W&&typeof W!="string"&&typeof W!="number")&&(h.config.error("Invalid DB ctor args",C,arguments),_("Invalid arguments for DB constructor."));let He=typeof j=="number"?S.cstrToJs(j):j;const Et=z._name2vfs[He];Et&&(W=Et.vfs,j=He=Et.filename(He));let Lt,$t=0;Ie.indexOf("c")>=0&&($t|=b.SQLITE_OPEN_CREATE|b.SQLITE_OPEN_READWRITE),Ie.indexOf("w")>=0&&($t|=b.SQLITE_OPEN_READWRITE),$t===0&&($t|=b.SQLITE_OPEN_READONLY),$t|=b.SQLITE_OPEN_EXRESCODE;const Ze=S.pstack.pointer;try{const ce=S.pstack.allocPtr();let ke=b.sqlite3_open_v2(j,ce,$t,W||0);Lt=S.peekPtr(ce),Ue(Lt,ke),b.sqlite3_extended_result_codes(Lt,1),Ie.indexOf("t")>=0&&b.sqlite3_trace_v2(Lt,b.SQLITE_TRACE_STMT,Je,Lt)}catch(ce){throw Lt&&b.sqlite3_close_v2(Lt),ce}finally{S.pstack.restore(Ze)}this.filename=He,Y.set(this,Lt),te.set(this,Object.create(null));try{const ce=b.sqlite3_js_db_vfs(Lt)||_("Internal error: cannot get VFS for new db handle."),ke=rt[ce];ke&&(ke instanceof Function?ke(this,h):Ue(Lt,b.sqlite3_exec(Lt,ke,0,0,0)))}catch(ce){throw this.close(),ce}};Ae.setVfsPostOpenCallback=function(z,X){X instanceof Function||_("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),rt[z]=X},Ae.normalizeArgs=function(z=":memory:",X="c",C=null){const j={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(j,arguments[0]),j.flags===void 0&&(j.flags="c"),j.vfs===void 0&&(j.vfs=null),j.filename===void 0&&(j.filename=":memory:")):(j.filename=z,j.flags=X,j.vfs=C),j};const xe=function(...z){Ae.apply(this,z)};xe.dbCtorHelper=Ae;const ze={null:1,number:2,string:3,boolean:4,blob:5};ze.undefined==ze.null,S.bigIntEnabled&&(ze.bigint=ze.number);const le=function(){ze!==arguments[2]&&_(b.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],Y.set(this,arguments[1]),this.parameterCount=b.sqlite3_bind_parameter_count(this.pointer)},he=function(z){return z.pointer||_("DB has been closed."),z},_e=function(z,X){return(X!==(X|0)||X<0||X>=z.columnCount)&&_("Column index",X,"is out of range."),z},$e=function(z,X){const C=Object.create(null);switch(C.opt=Object.create(null),X.length){case 1:typeof X[0]=="string"||O.isSQLableTypedArray(X[0])||Array.isArray(X[0])?C.sql=X[0]:X[0]&&typeof X[0]=="object"&&(C.opt=X[0],C.sql=C.opt.sql);break;case 2:C.sql=X[0],C.opt=X[1];break;default:_("Invalid argument count for exec().")}C.sql=O.flexibleString(C.sql),typeof C.sql!="string"&&_("Missing SQL argument or unsupported SQL value type.");const j=C.opt;switch(j.returnValue){case"resultRows":j.resultRows||(j.resultRows=[]),C.returnVal=()=>j.resultRows;break;case"saveSql":j.saveSql||(j.saveSql=[]),C.returnVal=()=>j.saveSql;break;case void 0:case"this":C.returnVal=()=>z;break;default:_("Invalid returnValue value:",j.returnValue)}if(!j.callback&&!j.returnValue&&j.rowMode!==void 0&&(j.resultRows||(j.resultRows=[]),C.returnVal=()=>j.resultRows),j.callback||j.resultRows)switch(j.rowMode===void 0?"array":j.rowMode){case"object":C.cbArg=(W,Ie)=>{Ie.columnNames||(Ie.columnNames=W.getColumnNames([]));const He=W.get([]),Et=Object.create(null);for(const Lt in Ie.columnNames)Et[Ie.columnNames[Lt]]=He[Lt];return Et};break;case"array":C.cbArg=W=>W.get([]);break;case"stmt":Array.isArray(j.resultRows)&&_("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),C.cbArg=W=>W;break;default:if(O.isInt32(j.rowMode)){C.cbArg=W=>W.get(j.rowMode);break}else if(typeof j.rowMode=="string"&&j.rowMode.length>1&&j.rowMode[0]==="$"){const W=j.rowMode.substr(1);C.cbArg=Ie=>{const He=Ie.get(Object.create(null))[W];return He===void 0?_(b.SQLITE_NOTFOUND,"exec(): unknown result column:",W):He};break}_("Invalid rowMode:",j.rowMode)}return C},Be=(z,X,C,...j)=>{const W=z.prepare(X);try{const Ie=W.bind(C).step()?W.get(...j):void 0;return W.reset(),Ie}finally{W.finalize()}},we=(z,X,C,j)=>z.exec({sql:X,bind:C,rowMode:j,returnValue:"resultRows"});xe.checkRc=(z,X)=>Ue(z,X),xe.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return he(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const z=this.pointer;if(Object.keys(te.get(this)).forEach((X,C)=>{if(C&&C.pointer)try{C.finalize()}catch{}}),Y.delete(this),te.delete(this),b.sqlite3_close_v2(z),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(z=!1,X=!1){const C=he(this).pointer;return z?X?b.sqlite3_total_changes64(C):b.sqlite3_total_changes(C):X?b.sqlite3_changes64(C):b.sqlite3_changes(C)},dbFilename:function(z="main"){return b.sqlite3_db_filename(he(this).pointer,z)},dbName:function(z=0){return b.sqlite3_db_name(he(this).pointer,z)},dbVfsName:function(z=0){let X;const C=b.sqlite3_js_db_vfs(he(this).pointer,z);if(C){const j=new b.sqlite3_vfs(C);try{X=S.cstrToJs(j.$zName)}finally{j.dispose()}}return X},prepare:function(z){he(this);const X=S.pstack.pointer;let C,j;try{C=S.pstack.alloc(8),xe.checkRc(this,b.sqlite3_prepare_v2(this.pointer,z,-1,C,null)),j=S.peekPtr(C)}finally{S.pstack.restore(X)}j||_("Cannot prepare empty SQL.");const W=new le(this,j,ze);return te.get(this)[j]=W,W},exec:function(){he(this);const z=$e(this,arguments);if(!z.sql)return _("exec() requires an SQL string.");const X=z.opt,C=X.callback,j=Array.isArray(X.resultRows)?X.resultRows:void 0;let W,Ie=X.bind,He=!!(z.cbArg||X.columnNames||j);const Et=S.scopedAllocPush(),Lt=Array.isArray(X.saveSql)?X.saveSql:void 0;try{const $t=O.isSQLableTypedArray(z.sql);let Ze=$t?z.sql.byteLength:S.jstrlen(z.sql);const ce=S.scopedAlloc(2*S.ptrSizeof+(Ze+1)),ke=ce+S.ptrSizeof;let Ke=ke+S.ptrSizeof;const et=Ke+Ze;for($t?S.heap8().set(z.sql,Ke):S.jstrcpy(z.sql,S.heap8(),Ke,Ze,!1),S.poke(Ke+Ze,0);Ke&&S.peek(Ke,"i8");){S.pokePtr([ce,ke],0),xe.checkRc(this,b.sqlite3_prepare_v3(this.pointer,Ke,Ze,0,ce,ke));const qt=S.peekPtr(ce);if(Ke=S.peekPtr(ke),Ze=et-Ke,!!qt){if(Lt&&Lt.push(b.sqlite3_sql(qt).trim()),W=new le(this,qt,ze),Ie&&W.parameterCount&&(W.bind(Ie),Ie=null),He&&W.columnCount){let Wt=Array.isArray(X.columnNames)?0:1;if(He=!1,z.cbArg||j){const Ee=Object.create(null);for(;W.step();W._lockedByExec=!1){Wt++===0&&W.getColumnNames(Ee.columnNames=X.columnNames||[]),W._lockedByExec=!0;const Ve=z.cbArg(W,Ee);if(j&&j.push(Ve),C&&C.call(X,Ve,W)===!1)break}W._lockedByExec=!1}Wt===0&&W.getColumnNames(X.columnNames)}else W.step();W.reset().finalize(),W=null}}}finally{S.scopedAllocPop(Et),W&&(delete W._lockedByExec,W.finalize())}return z.returnVal()},createFunction:function(X,C,j){const W=Ee=>Ee instanceof Function;switch(arguments.length){case 1:j=X,X=j.name,C=j.xFunc||0;break;case 2:W(C)||(j=C,C=j.xFunc||0);break}j||(j={}),typeof X!="string"&&_("Invalid arguments: missing function name.");let Ie=j.xStep||0,He=j.xFinal||0;const Et=j.xValue||0,Lt=j.xInverse||0;let $t;W(C)?($t=!1,(W(Ie)||W(He))&&_("Ambiguous arguments: scalar or aggregate?"),Ie=He=null):W(Ie)?(W(He)||_("Missing xFinal() callback for aggregate or window UDF."),C=null):W(He)?_("Missing xStep() callback for aggregate or window UDF."):_("Missing function-type properties."),$t===!1?(W(Et)||W(Lt))&&_("xValue and xInverse are not permitted for non-window UDFs."):W(Et)?(W(Lt)||_("xInverse must be provided if xValue is."),$t=!0):W(Lt)&&_("xValue must be provided if xInverse is.");const Ze=j.pApp;Ze!=null&&(typeof Ze!="number"||!O.isInt32(Ze))&&_("Invalid value for pApp property. Must be a legal WASM pointer value.");const ce=j.xDestroy||0;ce&&!W(ce)&&_("xDestroy property must be a function.");let ke=0;je(j,"deterministic")&&(ke|=b.SQLITE_DETERMINISTIC),je(j,"directOnly")&&(ke|=b.SQLITE_DIRECTONLY),je(j,"innocuous")&&(ke|=b.SQLITE_INNOCUOUS),X=X.toLowerCase();const Ke=C||Ie,et=je(j,"arity"),qt=typeof et=="number"?et:Ke.length?Ke.length-1:0;let Wt;return $t?Wt=b.sqlite3_create_window_function(this.pointer,X,qt,b.SQLITE_UTF8|ke,Ze||0,Ie,He,Et,Lt,ce):Wt=b.sqlite3_create_function_v2(this.pointer,X,qt,b.SQLITE_UTF8|ke,Ze||0,C,Ie,He,ce),xe.checkRc(this,Wt),this},selectValue:function(z,X,C){return Be(this,z,X,0,C)},selectValues:function(z,X,C){const j=this.prepare(z),W=[];try{for(j.bind(X);j.step();)W.push(j.get(0,C));j.reset()}finally{j.finalize()}return W},selectArray:function(z,X){return Be(this,z,X,[])},selectObject:function(z,X){return Be(this,z,X,{})},selectArrays:function(z,X){return we(this,z,X,"array")},selectObjects:function(z,X){return we(this,z,X,"object")},openStatementCount:function(){return this.pointer?Object.keys(te.get(this)).length:0},transaction:function(z){let X="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&_(b.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),X+=" "+arguments[0],z=arguments[1]),he(this).exec(X);try{const C=z(this);return this.exec("COMMIT"),C}catch(C){throw this.exec("ROLLBACK"),C}},savepoint:function(z){he(this).exec("SAVEPOINT oo1");try{const X=z(this);return this.exec("RELEASE oo1"),X}catch(X){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),X}},checkRc:function(z){return Ue(this,z)}};const Me=function(z){return z.pointer||_("Stmt has been closed."),z},ht=function(z){let X=ze[z==null?"null":typeof z];switch(X){case ze.boolean:case ze.null:case ze.number:case ze.string:return X;case ze.bigint:if(S.bigIntEnabled)return X;default:return O.isBindableTypedArray(z)?ze.blob:void 0}},F=function(z){return ht(z)||_("Unsupported bind() argument type:",typeof z)},G=function(z,X){const C=typeof X=="number"?X:b.sqlite3_bind_parameter_index(z.pointer,X);return C===0||!O.isInt32(C)?_("Invalid bind() parameter name: "+X):(C<1||C>z.parameterCount)&&_("Bind index",X,"is out of range."),C},fe=function(z,X){return z._lockedByExec&&_("Operation is illegal when statement is locked:",X),z},Qe=function z(X,C,j,W){fe(Me(X),"bind()"),z._||(z._tooBigInt=He=>_("BigInt value is too big to store without precision loss:",He),z._={string:function(He,Et,Lt,$t){const[Ze,ce]=S.allocCString(Lt,!0);return($t?b.sqlite3_bind_blob:b.sqlite3_bind_text)(He.pointer,Et,Ze,ce,b.SQLITE_WASM_DEALLOC)}}),F(W),C=G(X,C);let Ie=0;switch(W==null?ze.null:j){case ze.null:Ie=b.sqlite3_bind_null(X.pointer,C);break;case ze.string:Ie=z._.string(X,C,W,!1);break;case ze.number:{let He;O.isInt32(W)?He=b.sqlite3_bind_int:typeof W=="bigint"?O.bigIntFits64(W)?S.bigIntEnabled?He=b.sqlite3_bind_int64:O.bigIntFitsDouble(W)?(W=Number(W),He=b.sqlite3_bind_double):z._tooBigInt(W):z._tooBigInt(W):(W=Number(W),S.bigIntEnabled&&Number.isInteger(W)?He=b.sqlite3_bind_int64:He=b.sqlite3_bind_double),Ie=He(X.pointer,C,W);break}case ze.boolean:Ie=b.sqlite3_bind_int(X.pointer,C,W?1:0);break;case ze.blob:{if(typeof W=="string"){Ie=z._.string(X,C,W,!0);break}else W instanceof ArrayBuffer?W=new Uint8Array(W):O.isBindableTypedArray(W)||_("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const He=S.alloc(W.byteLength||1);S.heap8().set(W.byteLength?W:[0],He),Ie=b.sqlite3_bind_blob(X.pointer,C,He,W.byteLength,b.SQLITE_WASM_DEALLOC);break}default:h.config.warn("Unsupported bind() argument type:",W),_("Unsupported bind() argument type: "+typeof W)}return Ie&&xe.checkRc(X.db.pointer,Ie),X._mayGet=!1,X};le.prototype={finalize:function(){if(this.pointer){fe(this,"finalize()");const z=b.sqlite3_finalize(this.pointer);return delete te.get(this.db)[this.pointer],Y.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,z}},clearBindings:function(){return fe(Me(this),"clearBindings()"),b.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(z){fe(this,"reset()"),z&&this.clearBindings();const X=b.sqlite3_reset(Me(this).pointer);return this._mayGet=!1,Ue(this.db,X),this},bind:function(){Me(this);let z,X;switch(arguments.length){case 1:z=1,X=arguments[0];break;case 2:z=arguments[0],X=arguments[1];break;default:_("Invalid bind() arguments.")}return X===void 0?this:(this.parameterCount||_("This statement has no bindable parameters."),this._mayGet=!1,X===null?Qe(this,z,ze.null,X):Array.isArray(X)?(arguments.length!==1&&_("When binding an array, an index argument is not permitted."),X.forEach((C,j)=>Qe(this,j+1,F(C),C)),this):(X instanceof ArrayBuffer&&(X=new Uint8Array(X)),typeof X=="object"&&!O.isBindableTypedArray(X)?(arguments.length!==1&&_("When binding an object, an index argument is not permitted."),Object.keys(X).forEach(C=>Qe(this,C,F(X[C]),X[C])),this):Qe(this,z,F(X),X)))},bindAsBlob:function(z,X){Me(this),arguments.length===1&&(X=z,z=1);const C=F(X);return ze.string!==C&&ze.blob!==C&&ze.null!==C&&_("Invalid value type for bindAsBlob()"),Qe(this,z,ze.blob,X)},step:function(){fe(this,"step()");const z=b.sqlite3_step(Me(this).pointer);switch(z){case b.SQLITE_DONE:return this._mayGet=!1;case b.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,h.config.warn("sqlite3_step() rc=",z,b.sqlite3_js_rc_str(z),"SQL =",b.sqlite3_sql(this.pointer)),xe.checkRc(this.db.pointer,z)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const z=this.step();return this.reset(),z}finally{try{this.finalize()}catch{}}},get:function(z,X){if(Me(this)._mayGet||_("Stmt.step() has not (recently) returned true."),Array.isArray(z)){let C=0;const j=this.columnCount;for(;C<j;)z[C]=this.get(C++);return z}else if(z&&typeof z=="object"){let C=0;const j=this.columnCount;for(;C<j;)z[b.sqlite3_column_name(this.pointer,C)]=this.get(C++);return z}switch(_e(this,z),X===void 0?b.sqlite3_column_type(this.pointer,z):X){case b.SQLITE_NULL:return null;case b.SQLITE_INTEGER:if(S.bigIntEnabled){const C=b.sqlite3_column_int64(this.pointer,z);return C>=Number.MIN_SAFE_INTEGER&&C<=Number.MAX_SAFE_INTEGER?Number(C).valueOf():C}else{const C=b.sqlite3_column_double(this.pointer,z);return(C>Number.MAX_SAFE_INTEGER||C<Number.MIN_SAFE_INTEGER)&&_("Integer is out of range for JS integer range: "+C),O.isInt32(C)?C|0:C}case b.SQLITE_FLOAT:return b.sqlite3_column_double(this.pointer,z);case b.SQLITE_TEXT:return b.sqlite3_column_text(this.pointer,z);case b.SQLITE_BLOB:{const C=b.sqlite3_column_bytes(this.pointer,z),j=b.sqlite3_column_blob(this.pointer,z),W=new Uint8Array(C);return C&&W.set(S.heap8u().slice(j,j+C),0),C&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(W.buffer),W}default:_("Don't know how to translate","type of result column #"+z+".")}_("Not reached.")},getInt:function(z){return this.get(z,b.SQLITE_INTEGER)},getFloat:function(z){return this.get(z,b.SQLITE_FLOAT)},getString:function(z){return this.get(z,b.SQLITE_TEXT)},getBlob:function(z){return this.get(z,b.SQLITE_BLOB)},getJSON:function(z){const X=this.get(z,b.SQLITE_STRING);return X===null?X:JSON.parse(X)},getColumnName:function(z){return b.sqlite3_column_name(_e(Me(this),z).pointer,z)},getColumnNames:function(z=[]){_e(Me(this),0);const X=this.columnCount;for(let C=0;C<X;++C)z.push(b.sqlite3_column_name(this.pointer,C));return z},getParamIndex:function(z){return Me(this).parameterCount?b.sqlite3_bind_parameter_index(this.pointer,z):void 0},getParamName:function(z){return Me(this).parameterCount?b.sqlite3_bind_parameter_name(this.pointer,z):void 0},isBusy:function(){return b.sqlite3_stmt_busy(Me(this))!==0},isReadOnly:function(){return b.sqlite3_stmt_readonly(Me(this))!==0}};{const z={enumerable:!0,get:function(){return Y.get(this)},set:()=>_("The pointer property is read-only.")};Object.defineProperty(le.prototype,"pointer",z),Object.defineProperty(xe.prototype,"pointer",z)}if(Object.defineProperty(le.prototype,"columnCount",{enumerable:!1,get:function(){return b.sqlite3_column_count(this.pointer)},set:()=>_("The columnCount property is read-only.")}),h.oo1={DB:xe,Stmt:le},O.isUIThread()){h.oo1.JsStorageDb=function(X="session"){const C=Ae.normalizeArgs(...arguments);X=C.filename,X!=="session"&&X!=="local"&&_("JsStorageDb db name must be one of 'session' or 'local'."),C.vfs="kvvfs",Ae.call(this,C)};const z=h.oo1.JsStorageDb;z.prototype=Object.create(xe.prototype),z.clearStorage=b.sqlite3_js_kvvfs_clear,z.prototype.clearStorage=function(){return z.clearStorage(he(this).filename)},z.storageSize=b.sqlite3_js_kvvfs_size,z.prototype.storageSize=function(){return z.storageSize(he(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.util;h.initWorker1API=function(){const b=(...Ae)=>{throw new Error(Ae.join(" "))};globalThis.WorkerGlobalScope instanceof Function||b("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||b("Missing this.sqlite3 object."),O=S.oo1.DB,Y=function(Ae){let xe=te.idMap.get(Ae);return xe||(xe="db#"+ ++te.idSeq+"@"+Ae.pointer,te.idMap.set(Ae,xe),xe)},te={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ae){const xe=new O(Ae);return this.dbs[Y(xe)]=xe,this.dbList.indexOf(xe)<0&&this.dbList.push(xe),xe},close:function(Ae,xe){if(Ae){delete this.dbs[Y(Ae)];const ze=Ae.filename,le=_.sqlite3__wasm_db_vfs(Ae.pointer,0);Ae.close();const he=this.dbList.indexOf(Ae);he>=0&&this.dbList.splice(he,1),xe&&ze&&le&&_.sqlite3__wasm_vfs_unlink(le,ze)}},post:function(Ae,xe){xe&&xe.length?(globalThis.postMessage(Ae,Array.from(xe)),xe.length=0):globalThis.postMessage(Ae)},dbs:Object.create(null),getDb:function(Ae,xe=!0){return this.dbs[Ae]||(xe?b("Unknown (or closed) DB ID:",Ae):void 0)}},je=function(Ae=te.dbList[0]){return Ae&&Ae.pointer?Ae:b("DB is not opened.")},Ue=function(Ae,xe=!0){const ze=te.getDb(Ae.dbId,!1)||te.dbList[0];return xe?je(ze):ze},Je=function(){return te.dbList[0]&&Y(te.dbList[0])},rt={open:function(Ae){const xe=Object.create(null),ze=Ae.args||Object.create(null);ze.simulateError&&b("Throwing because of simulateError flag.");const le=Object.create(null);xe.vfs=ze.vfs,xe.filename=ze.filename||"";const he=te.open(xe);return le.filename=he.filename,le.persistent=!!S.capi.sqlite3_js_db_uses_vfs(he.pointer,"opfs"),le.dbId=Y(he),le.vfs=he.dbVfsName(),le},close:function(Ae){const xe=Ue(Ae,!1),ze={filename:xe&&xe.filename};if(xe){const le=Ae.args&&typeof Ae.args=="object"?!!Ae.args.unlink:!1;te.close(xe,le)}return ze},exec:function(Ae){const xe=typeof Ae.args=="string"?{sql:Ae.args}:Ae.args||Object.create(null);xe.rowMode==="stmt"?b("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):xe.sql||b("'exec' requires input SQL.");const ze=Ue(Ae);(xe.callback||Array.isArray(xe.resultRows))&&(ze._blobXfer=te.xfer);const le=xe.callback;let he=0;const _e=!!xe.columnNames;typeof le=="string"&&(_e||(xe.columnNames=[]),xe.callback=function($e,Be){te.post({type:le,columnNames:xe.columnNames,rowNumber:++he,row:$e},te.xfer)});try{const $e=xe.countChanges?ze.changes(!0,xe.countChanges===64):void 0;ze.exec(xe),$e!==void 0&&(xe.changeCount=ze.changes(!0,xe.countChanges===64)-$e),xe.callback instanceof Function&&(xe.callback=le,te.post({type:le,columnNames:xe.columnNames,rowNumber:null,row:void 0}))}finally{delete ze._blobXfer,xe.callback&&(xe.callback=le)}return xe},"config-get":function(){const Ae=Object.create(null),xe=S.config;return["bigIntEnabled"].forEach(function(ze){Object.getOwnPropertyDescriptor(xe,ze)&&(Ae[ze]=xe[ze])}),Ae.version=S.version,Ae.vfsList=S.capi.sqlite3_js_vfs_list(),Ae},export:function(Ae){const xe=Ue(Ae),ze={byteArray:S.capi.sqlite3_js_db_export(xe.pointer),filename:xe.filename,mimetype:"application/x-sqlite3"};return te.xfer.push(ze.byteArray.buffer),ze},toss:function(Ae){b("Testing worker exception")}};globalThis.onmessage=async function(Ae){Ae=Ae.data;let xe,ze=Ae.dbId,le=Ae.type;const he=performance.now();try{rt.hasOwnProperty(le)&&rt[le]instanceof Function?xe=await rt[le](Ae):b("Unknown db worker message type:",Ae.type)}catch(_e){le="error",xe={operation:Ae.type,message:_e.message,errorClass:_e.name,input:Ae},_e.stack&&(xe.stack=typeof _e.stack=="string"?_e.stack.split(/\n\s*/):_e.stack)}ze||(ze=xe.dbId||Je()),te.post({type:le,dbId:ze,messageId:Ae.messageId,workerReceivedTime:he,workerRespondTime:performance.now(),departureTime:Ae.departureTime,result:xe},te.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:h})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.wasm,b=h.capi,S=h.util.toss3,O=Object.create(null);h.vfs=O,b.sqlite3_vfs.prototype.registerVfs=function(Y=!1){this instanceof h.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const te=b.sqlite3_vfs_register(this,Y?1:0);return te&&S("sqlite3_vfs_register(",this,") failed with rc",te),this.pointer!==b.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},O.installVfs=function(Y){let te=0;const je=["io","vfs"];for(const Ue of je){const Je=Y[Ue];Je&&(++te,Je.struct.installMethods(Je.methods,!!Je.applyArgcCheck),Ue==="vfs"&&(!Je.struct.$zName&&typeof Je.name=="string"&&Je.struct.addOnDispose(Je.struct.$zName=_.allocCString(Je.name)),Je.struct.registerVfs(!!Je.asDefault)))}return te||S("Misuse: installVfs() options object requires at least","one of:",je),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){if(!h.wasm.exports.sqlite3_declare_vtab)return;const _=h.wasm,b=h.capi,S=h.util.toss3,O=Object.create(null);h.vtab=O;const Y=b.sqlite3_index_info;Y.prototype.nthConstraint=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nConstraint)return!1;const rt=this.$aConstraint+Y.sqlite3_index_constraint.structInfo.sizeof*Ue;return Je?rt:new Y.sqlite3_index_constraint(rt)},Y.prototype.nthConstraintUsage=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nConstraint)return!1;const rt=this.$aConstraintUsage+Y.sqlite3_index_constraint_usage.structInfo.sizeof*Ue;return Je?rt:new Y.sqlite3_index_constraint_usage(rt)},Y.prototype.nthOrderBy=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nOrderBy)return!1;const rt=this.$aOrderBy+Y.sqlite3_index_orderby.structInfo.sizeof*Ue;return Je?rt:new Y.sqlite3_index_orderby(rt)};const te=function(Ue,Je){return function(rt,Ae=!1){if(arguments.length===0&&(rt=new Je),rt instanceof Je)return this.set(rt.pointer,rt),rt;_.isPtr(rt)||h.SQLite3Error.toss("Invalid argument to",Ue+"()");let xe=this.get(rt);return Ae&&this.delete(rt),xe}.bind(new Map)},je=function(Ue,Je){const rt=te(Ue,Je);return Object.assign(Object.create(null),{StructType:Je,create:Ae=>{const xe=rt();return _.pokePtr(Ae,xe.pointer),xe},get:Ae=>rt(Ae),unget:Ae=>rt(Ae,!0),dispose:Ae=>{const xe=rt(Ae,!0);xe&&xe.dispose()}})};O.xVtab=je("xVtab",b.sqlite3_vtab),O.xCursor=je("xCursor",b.sqlite3_vtab_cursor),O.xIndexInfo=Ue=>new b.sqlite3_index_info(Ue),O.xError=function Ue(Je,rt,Ae){if(Ue.errorReporter instanceof Function)try{Ue.errorReporter("sqlite3_module::"+Je+"(): "+rt.message)}catch{}let xe;return rt instanceof h.WasmAllocError?xe=b.SQLITE_NOMEM:arguments.length>2?xe=Ae:rt instanceof h.SQLite3Error&&(xe=rt.resultCode),xe||b.SQLITE_ERROR},O.xError.errorReporter=console.error.bind(console),O.xRowid=(Ue,Je)=>_.poke(Ue,Je,"i64"),O.setupModule=function(Ue){let Je=!1;const rt=this instanceof b.sqlite3_module?this:Ue.struct||(Je=new b.sqlite3_module);try{const Ae=Ue.methods||S("Missing 'methods' object.");for(const xe of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const ze=xe[0],le=xe[1];Ae[ze]===!0?Ae[ze]=Ae[le]:Ae[le]===!0&&(Ae[le]=Ae[ze])}if(Ue.catchExceptions){const xe=function(he,_e){return["xConnect","xCreate"].indexOf(he)>=0?function($e,Be,we,Me,ht,F){try{return _e(...arguments)||0}catch(G){return G instanceof h.WasmAllocError||(_.dealloc(_.peekPtr(F)),_.pokePtr(F,_.allocCString(G.message))),O.xError(he,G)}}:function(...$e){try{return _e(...$e)||0}catch(Be){return O.xError(he,Be)}}},ze=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],le=Object.create(null);for(const he of ze){const _e=Ae[he];if(_e instanceof Function)he==="xConnect"&&Ae.xCreate===_e?le[he]=Ae.xCreate:he==="xCreate"&&Ae.xConnect===_e?le[he]=Ae.xConnect:le[he]=xe(he,_e);else continue}rt.installMethods(le,!1)}else rt.installMethods(Ae,!!Ue.applyArgcCheck);if(rt.$iVersion===0){let xe;typeof Ue.iVersion=="number"?xe=Ue.iVersion:rt.$xShadowName?xe=3:rt.$xSavePoint||rt.$xRelease||rt.$xRollbackTo?xe=2:xe=1,rt.$iVersion=xe}}catch(Ae){throw Je&&Je.dispose(),Ae}return rt},b.sqlite3_module.prototype.setupModule=function(Ue){return O.setupModule.call(this,Ue)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=function b(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const O=new URL(globalThis.location.href).searchParams;return O.has("opfs-disable")?Promise.resolve(h):(S.verbose===void 0&&(S.verbose=O.has("opfs-verbose")?+O.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=O.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=b.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(te,je){const Ue=[h.config.error,h.config.warn,h.config.log],Je=(Ee,...Ve)=>{S.verbose>Ee&&Ue[Ee]("OPFS syncer:",...Ve)},rt=(...Ee)=>Je(2,...Ee),Ae=(...Ee)=>Je(1,...Ee),xe=(...Ee)=>Je(0,...Ee),ze=h.util.toss,le=h.capi,he=h.util,_e=h.wasm,$e=le.sqlite3_vfs,Be=le.sqlite3_file,we=le.sqlite3_io_methods,Me=Object.create(null),ht=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Me.metrics={dump:function(){let Ee,Ve=0,Ye=0,bt=0;for(Ee in W.opIds){const ut=Ie[Ee];Ve+=ut.count,Ye+=ut.time,bt+=ut.wait,ut.avgTime=ut.count&&ut.time?ut.time/ut.count:0,ut.avgWait=ut.count&&ut.wait?ut.wait/ut.count:0}h.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Ie,`
Total of`,Ve,"op(s) for",Ye,"ms (incl. "+bt+" ms of waiting on the async side)"),h.config.log("Serialization metrics:",Ie.s11n),X.postMessage({type:"opfs-async-metrics"})},reset:function(){let Ee;const Ve=bt=>bt.count=bt.time=bt.wait=0;for(Ee in W.opIds)Ve(Ie[Ee]=Object.create(null));let Ye=Ie.s11n=Object.create(null);Ye=Ye.serialize=Object.create(null),Ye.count=Ye.time=0,Ye=Ie.s11n.deserialize=Object.create(null),Ye.count=Ye.time=0}};const F=new we,G=new $e().addOnDispose(()=>F.dispose());let fe;const Qe=Ee=>(fe=!0,G.dispose(),je(Ee)),z=()=>(fe=!1,te(h)),X=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{fe===void 0&&Qe(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),X._originalOnError=X.onerror,X.onerror=function(Ee){xe("Error initializing OPFS asyncer:",Ee),Qe(new Error("Loading OPFS async Worker failed for unknown reasons."))};const C=le.sqlite3_vfs_find(null),j=C?new $e(C):null;F.$iVersion=1,G.$iVersion=2,G.$szOsFile=le.sqlite3_file.structInfo.sizeof,G.$mxPathname=1024,G.$zName=_e.allocCString("opfs"),G.$xDlOpen=G.$xDlError=G.$xDlSym=G.$xDlClose=null,G.addOnDispose("$zName",G.$zName,"cleanup default VFS wrapper",()=>j?j.dispose():null);const W=Object.create(null);W.verbose=S.verbose,W.littleEndian=(()=>{const Ee=new ArrayBuffer(2);return new DataView(Ee).setInt16(0,256,!0),new Int16Array(Ee)[0]===256})(),W.asyncIdleWaitTime=150,W.asyncS11nExceptions=1,W.fileBufferSize=1024*64,W.sabS11nOffset=W.fileBufferSize,W.sabS11nSize=G.$mxPathname*2,W.sabIO=new SharedArrayBuffer(W.fileBufferSize+W.sabS11nSize),W.opIds=Object.create(null);const Ie=Object.create(null);{let Ee=0;W.opIds.whichOp=Ee++,W.opIds.rc=Ee++,W.opIds.xAccess=Ee++,W.opIds.xClose=Ee++,W.opIds.xDelete=Ee++,W.opIds.xDeleteNoWait=Ee++,W.opIds.xFileSize=Ee++,W.opIds.xLock=Ee++,W.opIds.xOpen=Ee++,W.opIds.xRead=Ee++,W.opIds.xSleep=Ee++,W.opIds.xSync=Ee++,W.opIds.xTruncate=Ee++,W.opIds.xUnlock=Ee++,W.opIds.xWrite=Ee++,W.opIds.mkdir=Ee++,W.opIds["opfs-async-metrics"]=Ee++,W.opIds["opfs-async-shutdown"]=Ee++,W.opIds.retry=Ee++,W.sabOP=new SharedArrayBuffer(Ee*4),Me.metrics.reset()}W.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Ee=>{(W.sq3Codes[Ee]=le[Ee])===void 0&&ze("Maintenance required: not found:",Ee)}),W.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const He=(Ee,...Ve)=>{const Ye=W.opIds[Ee]||ze("Invalid op ID:",Ee);W.s11n.serialize(...Ve),Atomics.store(W.sabOPView,W.opIds.rc,-1),Atomics.store(W.sabOPView,W.opIds.whichOp,Ye),Atomics.notify(W.sabOPView,W.opIds.whichOp);const bt=performance.now();for(;Atomics.wait(W.sabOPView,W.opIds.rc,-1)!=="not-equal";);const ut=Atomics.load(W.sabOPView,W.opIds.rc);if(Ie[Ee].wait+=performance.now()-bt,ut&&W.asyncS11nExceptions){const Ft=W.s11n.deserialize();Ft&&xe(Ee+"() async error:",...Ft)}return ut};Me.debug={asyncShutdown:()=>{Ae("Shutting down OPFS async listener. The OPFS VFS will no longer work."),He("opfs-async-shutdown")},asyncRestart:()=>{Ae("Attempting to restart OPFS VFS async listener. Might work, might not."),X.postMessage({type:"opfs-async-restart"})}};const Et=()=>{if(W.s11n)return W.s11n;const Ee=new TextDecoder,Ve=new TextEncoder("utf-8"),Ye=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),bt=new DataView(W.sabIO,W.sabS11nOffset,W.sabS11nSize);W.s11n=Object.create(null);const ut=Object.create(null);ut.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},ut.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},ut.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},ut.string={id:4};const Ft=Nt=>ut[typeof Nt]||ze("Maintenance required: this value type cannot be serialized.",Nt),nr=Nt=>{switch(Nt){case ut.number.id:return ut.number;case ut.bigint.id:return ut.bigint;case ut.boolean.id:return ut.boolean;case ut.string.id:return ut.string;default:ze("Invalid type ID:",Nt)}};return W.s11n.deserialize=function(Nt=!1){++Ie.s11n.deserialize.count;const tn=performance.now(),Pe=Ye[0],st=Pe?[]:null;if(Pe){const ct=[];let wt=1,sr,Cr,Nr;for(sr=0;sr<Pe;++sr,++wt)ct.push(nr(Ye[wt]));for(sr=0;sr<Pe;++sr){const Ir=ct[sr];Ir.getter?(Nr=bt[Ir.getter](wt,W.littleEndian),wt+=Ir.size):(Cr=bt.getInt32(wt,W.littleEndian),wt+=4,Nr=Ee.decode(Ye.slice(wt,wt+Cr)),wt+=Cr),st.push(Nr)}}return Nt&&(Ye[0]=0),Ie.s11n.deserialize.time+=performance.now()-tn,st},W.s11n.serialize=function(...Nt){const tn=performance.now();if(++Ie.s11n.serialize.count,Nt.length){const Pe=[];let st=0,ct=1;for(Ye[0]=Nt.length&255;st<Nt.length;++st,++ct)Pe.push(Ft(Nt[st])),Ye[ct]=Pe[st].id;for(st=0;st<Nt.length;++st){const wt=Pe[st];if(wt.setter)bt[wt.setter](ct,Nt[st],W.littleEndian),ct+=wt.size;else{const sr=Ve.encode(Nt[st]);bt.setInt32(ct,sr.byteLength,W.littleEndian),ct+=4,Ye.set(sr,ct),ct+=sr.byteLength}}}else Ye[0]=0;Ie.s11n.serialize.time+=performance.now()-tn},W.s11n},Lt=function Ee(Ve=16){Ee._chars||(Ee._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Ee._n=Ee._chars.length);const Ye=[];let bt=0;for(;bt<Ve;++bt){const ut=Math.random()*(Ee._n*64)%Ee._n|0;Ye[bt]=Ee._chars[ut]}return Ye.join("")},$t=Object.create(null),Ze=Object.create(null);Ze.op=void 0,Ze.start=void 0;const ce=Ee=>{Ze.start=performance.now(),Ze.op=Ee,++Ie[Ee].count},ke=()=>Ie[Ze.op].time+=performance.now()-Ze.start,Ke={xCheckReservedLock:function(Ee,Ve){return _e.poke(Ve,0,"i32"),0},xClose:function(Ee){ce("xClose");let Ve=0;const Ye=$t[Ee];return Ye&&(delete $t[Ee],Ve=He("xClose",Ee),Ye.sq3File&&Ye.sq3File.dispose()),ke(),Ve},xDeviceCharacteristics:function(Ee){return le.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ee,Ve,Ye){return le.SQLITE_NOTFOUND},xFileSize:function(Ee,Ve){ce("xFileSize");let Ye=He("xFileSize",Ee);if(Ye==0)try{const bt=W.s11n.deserialize()[0];_e.poke(Ve,bt,"i64")}catch(bt){xe("Unexpected error reading xFileSize() result:",bt),Ye=W.sq3Codes.SQLITE_IOERR}return ke(),Ye},xLock:function(Ee,Ve){ce("xLock");const Ye=$t[Ee];let bt=0;return Ye.lockType?Ye.lockType=Ve:(bt=He("xLock",Ee,Ve),bt===0&&(Ye.lockType=Ve)),ke(),bt},xRead:function(Ee,Ve,Ye,bt){ce("xRead");const ut=$t[Ee];let Ft;try{Ft=He("xRead",Ee,Ye,Number(bt)),(Ft===0||le.SQLITE_IOERR_SHORT_READ===Ft)&&_e.heap8u().set(ut.sabView.subarray(0,Ye),Ve)}catch(nr){xe("xRead(",arguments,") failed:",nr,ut),Ft=le.SQLITE_IOERR_READ}return ke(),Ft},xSync:function(Ee,Ve){ce("xSync"),++Ie.xSync.count;const Ye=He("xSync",Ee,Ve);return ke(),Ye},xTruncate:function(Ee,Ve){ce("xTruncate");const Ye=He("xTruncate",Ee,Number(Ve));return ke(),Ye},xUnlock:function(Ee,Ve){ce("xUnlock");const Ye=$t[Ee];let bt=0;return le.SQLITE_LOCK_NONE===Ve&&Ye.lockType&&(bt=He("xUnlock",Ee,Ve)),bt===0&&(Ye.lockType=Ve),ke(),bt},xWrite:function(Ee,Ve,Ye,bt){ce("xWrite");const ut=$t[Ee];let Ft;try{ut.sabView.set(_e.heap8u().subarray(Ve,Ve+Ye)),Ft=He("xWrite",Ee,Ye,Number(bt))}catch(nr){xe("xWrite(",arguments,") failed:",nr,ut),Ft=le.SQLITE_IOERR_WRITE}return ke(),Ft}},et={xAccess:function(Ee,Ve,Ye,bt){ce("xAccess");const ut=He("xAccess",_e.cstrToJs(Ve));return _e.poke(bt,ut?0:1,"i32"),ke(),0},xCurrentTime:function(Ee,Ve){return _e.poke(Ve,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ee,Ve){return _e.poke(Ve,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ee,Ve,Ye){ce("xDelete");const bt=He("xDelete",_e.cstrToJs(Ve),Ye,!1);return ke(),bt},xFullPathname:function(Ee,Ve,Ye,bt){return _e.cstrncpy(bt,Ve,Ye)<Ye?0:le.SQLITE_CANTOPEN},xGetLastError:function(Ee,Ve,Ye){return Ae("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ve,Ye,bt,ut,Ft){ce("xOpen");let nr=0;Ye===0?Ye=Lt():_e.isPtr(Ye)&&(le.sqlite3_uri_boolean(Ye,"opfs-unlock-asap",0)&&(nr|=W.opfsFlags.OPFS_UNLOCK_ASAP),le.sqlite3_uri_boolean(Ye,"delete-before-open",0)&&(nr|=W.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Ye=_e.cstrToJs(Ye));const Nt=Object.create(null);Nt.fid=bt,Nt.filename=Ye,Nt.sab=new SharedArrayBuffer(W.fileBufferSize),Nt.flags=ut,Nt.readOnly=!(h.SQLITE_OPEN_CREATE&ut)&&!!(ut&le.SQLITE_OPEN_READONLY);const tn=He("xOpen",bt,Ye,ut,nr);return tn||(Nt.readOnly&&_e.poke(Ft,le.SQLITE_OPEN_READONLY,"i32"),$t[bt]=Nt,Nt.sabView=W.sabFileBufView,Nt.sq3File=new Be(bt),Nt.sq3File.$pMethods=F.pointer,Nt.lockType=le.SQLITE_LOCK_NONE),ke(),tn}};j&&(G.$xRandomness=j.$xRandomness,G.$xSleep=j.$xSleep),G.$xRandomness||(et.xRandomness=function(Ee,Ve,Ye){const bt=_e.heap8u();let ut=0;for(;ut<Ve;++ut)bt[Ye+ut]=Math.random()*255e3&255;return ut}),G.$xSleep||(et.xSleep=function(Ee,Ve){return Atomics.wait(W.sabOPView,W.opIds.xSleep,0,Ve),0}),Me.getResolvedPath=function(Ee,Ve){const Ye=new URL(Ee,"file://irrelevant").pathname;return Ve?Ye.split("/").filter(bt=>!!bt):Ye},Me.getDirForFilename=async function(Ve,Ye=!1){const bt=Me.getResolvedPath(Ve,!0),ut=bt.pop();let Ft=Me.rootDirectory;for(const nr of bt)nr&&(Ft=await Ft.getDirectoryHandle(nr,{create:!!Ye}));return[Ft,ut]},Me.mkdir=async function(Ee){try{return await Me.getDirForFilename(Ee+"/filepart",!0),!0}catch{return!1}},Me.entryExists=async function(Ee){try{const[Ve,Ye]=await Me.getDirForFilename(Ee);return await Ve.getFileHandle(Ye),!0}catch{return!1}},Me.randomFilename=Lt,Me.treeList=async function(){const Ee=async function Ye(bt,ut){ut.name=bt.name,ut.dirs=[],ut.files=[];for await(const Ft of bt.values())if(Ft.kind==="directory"){const nr=Object.create(null);ut.dirs.push(nr),await Ye(Ft,nr)}else ut.files.push(Ft.name)},Ve=Object.create(null);return await Ee(Me.rootDirectory,Ve),Ve},Me.rmfr=async function(){const Ee=Me.rootDirectory,Ve={recurse:!0};for await(const Ye of Ee.values())Ee.removeEntry(Ye.name,Ve)},Me.unlink=async function(Ee,Ve=!1,Ye=!1){try{const[bt,ut]=await Me.getDirForFilename(Ee,!1);return await bt.removeEntry(ut,{recursive:Ve}),!0}catch(bt){if(Ye)throw new Error("unlink(",arguments[0],") failed: "+bt.message,{cause:bt});return!1}},Me.traverse=async function(Ee){const Ve={recursive:!0,directory:Me.rootDirectory};typeof Ee=="function"&&(Ee={callback:Ee}),Ee=Object.assign(Ve,Ee||{}),async function bt(ut,Ft){for await(const nr of ut.values()){if(Ee.callback(nr,ut,Ft)===!1)return!1;if(Ee.recursive&&nr.kind==="directory"&&await bt(nr,Ft+1)===!1)break}}(Ee.directory,0)};const qt=async function(Ee,Ve){const[Ye,bt]=await Me.getDirForFilename(Ee,!0);let Ft=await (await Ye.getFileHandle(bt,{create:!0})).createSyncAccessHandle(),nr=0,Nt,tn=!1;try{for(Ft.truncate(0);(Nt=await Ve())!==void 0;)Nt instanceof ArrayBuffer&&(Nt=new Uint8Array(Nt)),nr===0&&Nt.byteLength>=15&&(he.affirmDbHeader(Nt),tn=!0),Ft.write(Nt,{at:nr}),nr+=Nt.byteLength;if((nr<512||nr%512!==0)&&ze("Input size",nr,"is not correct for an SQLite database."),!tn){const Pe=new Uint8Array(20);Ft.read(Pe,{at:0}),he.affirmDbHeader(Pe)}return Ft.write(new Uint8Array([1,1]),{at:18}),nr}catch(Pe){throw await Ft.close(),Ft=void 0,await Ye.removeEntry(bt).catch(()=>{}),Pe}finally{Ft&&await Ft.close()}};if(Me.importDb=async function(Ee,Ve){if(Ve instanceof Function)return qt(Ee,Ve);Ve instanceof ArrayBuffer&&(Ve=new Uint8Array(Ve)),he.affirmIsDb(Ve);const Ye=Ve.byteLength,[bt,ut]=await Me.getDirForFilename(Ee,!0);let Ft,nr=0;try{return Ft=await (await bt.getFileHandle(ut,{create:!0})).createSyncAccessHandle(),Ft.truncate(0),nr=Ft.write(Ve,{at:0}),nr!=Ye&&ze("Expected to write "+Ye+" bytes but wrote "+nr+"."),Ft.write(new Uint8Array([1,1]),{at:18}),nr}catch(Nt){throw Ft&&(await Ft.close(),Ft=void 0),await bt.removeEntry(ut).catch(()=>{}),Nt}finally{Ft&&await Ft.close()}},h.oo1){const Ee=function(...Ve){const Ye=h.oo1.DB.dbCtorHelper.normalizeArgs(...Ve);Ye.vfs=G.$zName,h.oo1.DB.dbCtorHelper.call(this,Ye)};Ee.prototype=Object.create(h.oo1.DB.prototype),h.oo1.OpfsDb=Ee,Ee.importDb=Me.importDb,h.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(G.pointer,function(Ve,Ye){Ye.capi.sqlite3_busy_timeout(Ve,1e4)})}const Wt=function(){const Ee=_e.scopedAllocPush(),Ve=new Be;try{const Ye=Ve.pointer,bt=le.SQLITE_OPEN_CREATE|le.SQLITE_OPEN_READWRITE|le.SQLITE_OPEN_MAIN_DB,ut=_e.scopedAlloc(8),Ft="/sanity/check/file"+Lt(8),nr=_e.scopedAllocCString(Ft);let Nt;if(W.s11n.serialize("This is \xe4 string."),Nt=W.s11n.deserialize(),rt("deserialize() says:",Nt),Nt[0]!=="This is \xe4 string."&&ze("String d13n error."),et.xAccess(G.pointer,nr,0,ut),Nt=_e.peek(ut,"i32"),rt("xAccess(",Ft,") exists ?=",Nt),Nt=et.xOpen(G.pointer,nr,Ye,bt,ut),rt("open rc =",Nt,"state.sabOPView[xOpen] =",W.sabOPView[W.opIds.xOpen]),Nt!==0){xe("open failed with code",Nt);return}et.xAccess(G.pointer,nr,0,ut),Nt=_e.peek(ut,"i32"),Nt||ze("xAccess() failed to detect file."),Nt=Ke.xSync(Ve.pointer,0),Nt&&ze("sync failed w/ rc",Nt),Nt=Ke.xTruncate(Ve.pointer,1024),Nt&&ze("truncate failed w/ rc",Nt),_e.poke(ut,0,"i64"),Nt=Ke.xFileSize(Ve.pointer,ut),Nt&&ze("xFileSize failed w/ rc",Nt),rt("xFileSize says:",_e.peek(ut,"i64")),Nt=Ke.xWrite(Ve.pointer,nr,10,1),Nt&&ze("xWrite() failed!");const tn=_e.scopedAlloc(16);Nt=Ke.xRead(Ve.pointer,tn,6,2),_e.poke(tn+6,0);let Pe=_e.cstrToJs(tn);rt("xRead() got:",Pe),Pe!=="sanity"&&ze("Unexpected xRead() value."),et.xSleep&&(rt("xSleep()ing before close()ing..."),et.xSleep(G.pointer,2e3),rt("waking up from xSleep()")),Nt=Ke.xClose(Ye),rt("xClose rc =",Nt,"sabOPView =",W.sabOPView),rt("Deleting file:",Ft),et.xDelete(G.pointer,nr,4660),et.xAccess(G.pointer,nr,0,ut),Nt=_e.peek(ut,"i32"),Nt&&ze("Expecting 0 from xAccess(",Ft,") after xDelete()."),Ae("End of OPFS sanity checks.")}finally{Ve.dispose(),_e.scopedAllocPop(Ee)}};X.onmessage=function({data:Ee}){switch(Ee.type){case"opfs-unavailable":Qe(new Error(Ee.payload.join(" ")));break;case"opfs-async-loaded":X.postMessage({type:"opfs-async-init",args:W});break;case"opfs-async-inited":{if(fe===!0)break;try{h.vfs.installVfs({io:{struct:F,methods:Ke},vfs:{struct:G,methods:et}}),W.sabOPView=new Int32Array(W.sabOP),W.sabFileBufView=new Uint8Array(W.sabIO,0,W.fileBufferSize),W.sabS11nView=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),Et(),S.sanityChecks&&(Ae("Running sanity checks because of opfs-sanity-check URL arg..."),Wt()),ht()?navigator.storage.getDirectory().then(Ve=>{X.onerror=X._originalOnError,delete X._originalOnError,h.opfs=Me,Me.rootDirectory=Ve,rt("End of OPFS sqlite3_vfs setup.",G),z()}).catch(Qe):z()}catch(Ve){xe(Ve),Qe(Ve)}break}default:{const Ve="Unexpected message from the OPFS async worker: "+JSON.stringify(Ee);xe(Ve),Qe(new Error(Ve));break}}}}))};_.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async b=>{try{let S=_.defaultProxyUri;return b.scriptInfo.sqlite3Dir&&(_.defaultProxyUri=b.scriptInfo.sqlite3Dir+S),_().catch(O=>{b.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",O.message)})}catch(S){return b.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.util.toss,b=h.util.toss3,S=Object.create(null),O=h.capi,Y=h.util,te=h.wasm,je=4096,Ue=512,Je=4,rt=8,Ae=Ue+Je,xe=Ue,ze=Ae,le=je,he=O.SQLITE_OPEN_MAIN_DB|O.SQLITE_OPEN_MAIN_JOURNAL|O.SQLITE_OPEN_SUPER_JOURNAL|O.SQLITE_OPEN_WAL,_e=".opaque",$e=()=>Math.random().toString(36).slice(2),Be=new TextDecoder,we=new TextEncoder,Me=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),ht=[h.config.error,h.config.warn,h.config.log];h.config.log;const F=h.config.warn;h.config.error;const G=new Map,fe=Ze=>G.get(Ze),Qe=(Ze,ce)=>{ce?G.set(Ze,ce):G.delete(Ze)},z=new Map,X=Ze=>z.get(Ze),C=(Ze,ce)=>{ce?z.set(Ze,ce):z.delete(Ze)},j={xCheckReservedLock:function(Ze,ce){const ke=X(Ze);return ke.log("xCheckReservedLock"),ke.storeErr(),te.poke32(ce,1),0},xClose:function(Ze){const ce=X(Ze);ce.storeErr();const ke=ce.getOFileForS3File(Ze);if(ke)try{ce.log(`xClose ${ke.path}`),ce.mapS3FileToOFile(Ze,!1),ke.sah.flush(),ke.flags&O.SQLITE_OPEN_DELETEONCLOSE&&ce.deletePath(ke.path)}catch(Ke){return ce.storeErr(Ke,O.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ze){return O.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ze,ce,ke){return O.SQLITE_NOTFOUND},xFileSize:function(Ze,ce){const ke=X(Ze);ke.log("xFileSize");const et=ke.getOFileForS3File(Ze).sah.getSize()-le;return te.poke64(ce,BigInt(et)),0},xLock:function(Ze,ce){const ke=X(Ze);ke.log(`xLock ${ce}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);return Ke.lockType=ce,0},xRead:function(Ze,ce,ke,Ke){const et=X(Ze);et.storeErr();const qt=et.getOFileForS3File(Ze);et.log(`xRead ${qt.path} ${ke} @ ${Ke}`);try{const Wt=qt.sah.read(te.heap8u().subarray(ce,ce+ke),{at:le+Number(Ke)});return Wt<ke?(te.heap8u().fill(0,ce+Wt,ce+ke),O.SQLITE_IOERR_SHORT_READ):0}catch(Wt){return et.storeErr(Wt,O.SQLITE_IOERR)}},xSectorSize:function(Ze){return je},xSync:function(Ze,ce){const ke=X(Ze);ke.log(`xSync ${ce}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);try{return Ke.sah.flush(),0}catch(et){return ke.storeErr(et,O.SQLITE_IOERR)}},xTruncate:function(Ze,ce){const ke=X(Ze);ke.log(`xTruncate ${ce}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);try{return Ke.sah.truncate(le+Number(ce)),0}catch(et){return ke.storeErr(et,O.SQLITE_IOERR)}},xUnlock:function(Ze,ce){const ke=X(Ze);ke.log("xUnlock");const Ke=ke.getOFileForS3File(Ze);return Ke.lockType=ce,0},xWrite:function(Ze,ce,ke,Ke){const et=X(Ze);et.storeErr();const qt=et.getOFileForS3File(Ze);et.log(`xWrite ${qt.path} ${ke} ${Ke}`);try{const Wt=qt.sah.write(te.heap8u().subarray(ce,ce+ke),{at:le+Number(Ke)});return ke===Wt?0:_("Unknown write() failure.")}catch(Wt){return et.storeErr(Wt,O.SQLITE_IOERR)}}},W=new O.sqlite3_io_methods;W.$iVersion=1,h.vfs.installVfs({io:{struct:W,methods:j}});const Ie={xAccess:function(Ze,ce,ke,Ke){const et=fe(Ze);et.storeErr();try{const qt=et.getPath(ce);te.poke32(Ke,et.hasFilename(qt)?1:0)}catch{te.poke32(Ke,0)}return 0},xCurrentTime:function(Ze,ce){return te.poke(ce,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ze,ce){return te.poke(ce,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ze,ce,ke){const Ke=fe(Ze);Ke.log(`xDelete ${te.cstrToJs(ce)}`),Ke.storeErr();try{return Ke.deletePath(Ke.getPath(ce)),0}catch(et){return Ke.storeErr(et),O.SQLITE_IOERR_DELETE}},xFullPathname:function(Ze,ce,ke,Ke){return te.cstrncpy(Ke,ce,ke)<ke?0:O.SQLITE_CANTOPEN},xGetLastError:function(Ze,ce,ke){const Ke=fe(Ze),et=Ke.popErr();if(Ke.log(`xGetLastError ${ce} e =`,et),et){const qt=te.scopedAllocPush();try{const[Wt,Ee]=te.scopedAllocCString(et.message,!0);te.cstrncpy(ke,Wt,ce),Ee>ce&&te.poke8(ke+ce-1,0)}catch{return O.SQLITE_NOMEM}finally{te.scopedAllocPop(qt)}}return et?et.sqlite3Rc||O.SQLITE_IOERR:0},xOpen:function(ce,ke,Ke,et,qt){const Wt=fe(ce);try{Wt.log(`xOpen ${te.cstrToJs(ke)} ${et}`);const Ee=ke&&te.peek8(ke)?Wt.getPath(ke):$e();let Ve=Wt.getSAHForPath(Ee);!Ve&&et&O.SQLITE_OPEN_CREATE&&(Wt.getFileCount()<Wt.getCapacity()?(Ve=Wt.nextAvailableSAH(),Wt.setAssociatedPath(Ve,Ee,et)):_("SAH pool is full. Cannot create file",Ee)),Ve||_("file not found:",Ee);const Ye={path:Ee,flags:et,sah:Ve};Wt.mapS3FileToOFile(Ke,Ye),Ye.lockType=O.SQLITE_LOCK_NONE;const bt=new O.sqlite3_file(Ke);return bt.$pMethods=W.pointer,bt.dispose(),te.poke32(qt,et),0}catch(Ee){return Wt.storeErr(Ee),O.SQLITE_CANTOPEN}}},He=function(Ze){h.capi.sqlite3_vfs_find(Ze)&&b("VFS name is already registered:",Ze);const ce=new O.sqlite3_vfs,ke=O.sqlite3_vfs_find(null),Ke=ke?new O.sqlite3_vfs(ke):null;return ce.$iVersion=2,ce.$szOsFile=O.sqlite3_file.structInfo.sizeof,ce.$mxPathname=Ue,ce.addOnDispose(ce.$zName=te.allocCString(Ze),()=>Qe(ce.pointer,0)),Ke&&(ce.$xRandomness=Ke.$xRandomness,ce.$xSleep=Ke.$xSleep,Ke.dispose()),!ce.$xRandomness&&!Ie.xRandomness&&(Ie.xRandomness=function(et,qt,Wt){const Ee=te.heap8u();let Ve=0;for(;Ve<qt;++Ve)Ee[Wt+Ve]=Math.random()*255e3&255;return Ve}),!ce.$xSleep&&!Ie.xSleep&&(Ie.xSleep=(et,qt)=>0),h.vfs.installVfs({vfs:{struct:ce,methods:Ie}}),ce};class Et{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ae);#u;#l;#c;constructor(ce=Object.create(null)){this.#c=ce.verbosity??Me.verbosity,this.vfsName=ce.name||Me.name,this.#l=He(this.vfsName),Qe(this.#l.pointer,this),this.vfsDir=ce.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(ce.clearOnInit??Me.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(ce.initialCapacity||Me.initialCapacity)})}#d(ce,...ke){this.#c>ce&&ht[ce](this.vfsName+":",...ke)}log(...ce){this.#d(2,...ce)}warn(...ce){this.#d(1,...ce)}error(...ce){this.#d(0,...ce)}getVfs(){return this.#l}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const ce=[],ke=this.#i.keys();for(const Ke of ke)ce.push(Ke);return ce}async addCapacity(ce){for(let ke=0;ke<ce;++ke){const Ke=$e(),qt=await (await this.#t.getFileHandle(Ke,{create:!0})).createSyncAccessHandle();this.#n.set(qt,Ke),this.setAssociatedPath(qt,"",0)}return this.getCapacity()}async reduceCapacity(ce){let ke=0;for(const Ke of Array.from(this.#s)){if(ke===ce||this.getFileCount()===this.getCapacity())break;const et=this.#n.get(Ke);Ke.close(),await this.#t.removeEntry(et),this.#n.delete(Ke),this.#s.delete(Ke),++ke}return ke}releaseAccessHandles(){for(const ce of this.#n.keys())ce.close();this.#n.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(ce){const ke=[];for await(const[Ke,et]of this.#t)et.kind==="file"&&ke.push([Ke,et]);return Promise.all(ke.map(async([Ke,et])=>{try{const qt=await et.createSyncAccessHandle();if(this.#n.set(qt,Ke),ce)qt.truncate(le),this.setAssociatedPath(qt,"",0);else{const Wt=this.getAssociatedPath(qt);Wt?this.#i.set(Wt,qt):this.#s.add(qt)}}catch(qt){throw this.storeErr(qt),this.releaseAccessHandles(),qt}}))}getAssociatedPath(ce){ce.read(this.#a,{at:0});const ke=this.#u.getUint32(xe);if(this.#a[0]&&(ke&O.SQLITE_OPEN_DELETEONCLOSE||!(ke&he)))return F(`Removing file with unexpected flags ${ke.toString(16)}`,this.#a),this.setAssociatedPath(ce,"",0),"";const Ke=new Uint32Array(rt/4);ce.read(Ke,{at:ze});const et=this.computeDigest(this.#a);if(Ke.every((qt,Wt)=>qt===et[Wt])){const qt=this.#a.findIndex(Wt=>Wt===0);return qt===0&&ce.truncate(le),qt?Be.decode(this.#a.subarray(0,qt)):""}else return F("Disassociating file with bad digest."),this.setAssociatedPath(ce,"",0),""}setAssociatedPath(ce,ke,Ke){const et=we.encodeInto(ke,this.#a);Ue<=et.written+1&&_("Path too long:",ke),this.#a.fill(0,et.written,Ue),this.#u.setUint32(xe,Ke);const qt=this.computeDigest(this.#a);ce.write(this.#a,{at:0}),ce.write(qt,{at:ze}),ce.flush(),ke?(this.#i.set(ke,ce),this.#s.delete(ce)):(ce.truncate(le),this.#s.add(ce))}computeDigest(ce){let ke=0xdeadbeef,Ke=0x41c6ce57;for(const et of ce)ke=31*ke+et*307,Ke=31*Ke+et*307;return new Uint32Array([ke>>>0,Ke>>>0])}async reset(ce){await this.isReady;let ke=await navigator.storage.getDirectory(),Ke;for(const et of this.vfsDir.split("/"))et&&(Ke=ke,ke=await ke.getDirectoryHandle(et,{create:!0}));return this.#e=ke,this.#r=Ke,this.#t=await this.#e.getDirectoryHandle(_e,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(ce)}getPath(ce){return te.isPtr(ce)&&(ce=te.cstrToJs(ce)),(ce instanceof URL?ce:new URL(ce,"file://localhost/")).pathname}deletePath(ce){const ke=this.#i.get(ce);return ke&&(this.#i.delete(ce),this.setAssociatedPath(ke,"",0)),!!ke}storeErr(ce,ke){return ce&&(ce.sqlite3Rc=ke||O.SQLITE_IOERR,this.error(ce)),this.$error=ce,ke}popErr(){const ce=this.$error;return this.$error=void 0,ce}nextAvailableSAH(){const[ce]=this.#s.keys();return ce}getOFileForS3File(ce){return this.#o.get(ce)}mapS3FileToOFile(ce,ke){ke?(this.#o.set(ce,ke),C(ce,this)):(this.#o.delete(ce),C(ce,!1))}hasFilename(ce){return this.#i.has(ce)}getSAHForPath(ce){return this.#i.get(ce)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;O.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(_e,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(ce){h.config.error(this.vfsName,"removeVfs() failed:",ce)}return!0}exportFile(ce){const ke=this.#i.get(ce)||_("File not found:",ce),Ke=ke.getSize()-le,et=new Uint8Array(Ke>0?Ke:0);if(Ke>0){const qt=ke.read(et,{at:le});qt!=Ke&&_("Expected to read "+Ke+" bytes but read "+qt+".")}return et}async importDbChunked(ce,ke){const Ke=this.#i.get(ce)||this.nextAvailableSAH()||_("No available handles to import to.");Ke.truncate(0);let et=0,qt,Wt=!1;try{for(;(qt=await ke())!==void 0;)qt instanceof ArrayBuffer&&(qt=new Uint8Array(qt)),et===0&&qt.byteLength>=15&&(Y.affirmDbHeader(qt),Wt=!0),Ke.write(qt,{at:le+et}),et+=qt.byteLength;if((et<512||et%512!==0)&&_("Input size",et,"is not correct for an SQLite database."),!Wt){const Ee=new Uint8Array(20);Ke.read(Ee,{at:0}),Y.affirmDbHeader(Ee)}Ke.write(new Uint8Array([1,1]),{at:le+18})}catch(Ee){throw this.setAssociatedPath(Ke,"",0),Ee}return this.setAssociatedPath(Ke,ce,O.SQLITE_OPEN_MAIN_DB),et}importDb(ce,ke){if(ke instanceof ArrayBuffer)ke=new Uint8Array(ke);else if(ke instanceof Function)return this.importDbChunked(ce,ke);const Ke=this.#i.get(ce)||this.nextAvailableSAH()||_("No available handles to import to."),et=ke.byteLength;(et<512||et%512!=0)&&_("Byte array size is invalid for an SQLite db.");const qt="SQLite format 3";for(let Ee=0;Ee<qt.length;++Ee)qt.charCodeAt(Ee)!==ke[Ee]&&_("Input does not contain an SQLite database header.");const Wt=Ke.write(ke,{at:le});return Wt!=et?(this.setAssociatedPath(Ke,"",0),_("Expected to write "+et+" bytes but wrote "+Wt+".")):(Ke.write(new Uint8Array([1,1]),{at:le+18}),this.setAssociatedPath(Ke,ce,O.SQLITE_OPEN_MAIN_DB)),Wt}}class Lt{#e;constructor(ce){this.#e=ce,this.vfsName=ce.vfsName}async addCapacity(ce){return this.#e.addCapacity(ce)}async reduceCapacity(ce){return this.#e.reduceCapacity(ce)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(ce){const ke=this.#e.getCapacity();return ke<ce?this.#e.addCapacity(ce-ke):ke}exportFile(ce){return this.#e.exportFile(ce)}importDb(ce,ke){return this.#e.importDb(ce,ke)}async wipeFiles(){return this.#e.reset(!0)}unlink(ce){return this.#e.deletePath(ce)}async removeVfs(){return this.#e.removeVfs()}}const $t=async()=>{const Ze=await navigator.storage.getDirectory(),ce=".opfs-sahpool-sync-check-"+$e(),et=(await (await Ze.getFileHandle(ce,{create:!0})).createSyncAccessHandle()).close();return await et,await Ze.removeEntry(ce),et?.then&&_("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};h.installOpfsSAHPoolVfs=async function(Ze=Object.create(null)){Ze=Object.assign(Object.create(null),Me,Ze||{});const ce=Ze.name;if(Ze.$testThrowPhase1)throw Ze.$testThrowPhase1;if(S[ce])try{return await S[ce]}catch(ke){if(Ze.forceReinitIfPreviouslyFailed)delete S[ce];else throw ke}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[ce]=Promise.reject(new Error("Missing required OPFS APIs.")):S[ce]=$t().then(async function(){if(Ze.$testThrowPhase2)throw Ze.$testThrowPhase2;const ke=new Et(Ze);return ke.isReady.then(async()=>{const Ke=new Lt(ke);if(h.oo1){const et=h.oo1,qt=ke.getVfs(),Wt=function(...Ee){const Ve=et.DB.dbCtorHelper.normalizeArgs(...Ee);Ve.vfs=qt.$zName,et.DB.dbCtorHelper.call(this,Ve)};Wt.prototype=Object.create(et.DB.prototype),Ke.OpfsSAHPoolDb=Wt}return ke.log("VFS initialized."),Ke}).catch(async Ke=>{throw await ke.removeVfs().catch(()=>{}),Ke})}).catch(ke=>S[ce]=Promise.reject(ke))}}),typeof f<"u"){const h=Object.assign(Object.create(null),{exports:typeof ee>"u"?f.asm:ee,memory:f.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=h;let _;try{_=globalThis.sqlite3ApiBootstrap()}catch(b){throw console.error("sqlite3ApiBootstrap() error:",b),b}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}f.sqlite3=_}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r=l,r}})();const QW=function(){const t=w0;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const r=e.moduleScript.src.split("/");r.pop(),e.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return t(...n).then(s=>{const a=s.sqlite3;a.scriptInfo=e,r.__isUnderTest&&(a.__isUnderTest=!0);const l=a.asyncPostInit;return delete a.asyncPostInit,l()}).catch(s=>{throw console.error("Exception loading sqlite3 module:",s),s})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();w0=QW;const KW=w0;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const w=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=w}else e=Object.assign(Object.create(null),t.defaultConfig,e);const r=Object.create(null),n=function(){},s=e.onerror||n,a=e.debug||n,l=e.generateMessageId?void 0:Object.create(null),u=e.generateMessageId||function(w){return w.type+"#"+(l[w.type]=(l[w.type]||0)+1)},d=(...w)=>{throw new Error(w.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let p,g;return e.worker.onmessage=function(w){w=w.data,a("worker1.onmessage",w);let N=r[w.messageId];if(!N){if(w&&w.type==="sqlite3-api"&&w.result==="worker1-ready"){e.onready&&e.onready(g);return}if(N=r[w.type],N&&N.onrow){N.onrow(w);return}e.onunhandled?e.onunhandled(arguments[0]):s("sqlite3Worker1Promiser() unhandled worker message:",w);return}switch(delete r[w.messageId],w.type){case"error":N.reject(w);return;case"open":p||(p=w.dbId);break;case"close":w.dbId===p&&(p=void 0);break}try{N.resolve(w)}catch(k){N.reject(k)}},g=function(){let w;arguments.length===1?w=arguments[0]:arguments.length===2?(w=Object.create(null),w.type=arguments[0],w.args=arguments[1],w.dbId=w.args.dbId):d("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!w.dbId&&w.type!=="open"&&(w.dbId=p),w.messageId=u(w),w.departureTime=performance.now();const N=Object.create(null);N.message=w;let k;w.type==="exec"&&w.args&&(typeof w.args.callback=="function"?(k=w.messageId+":row",N.onrow=w.args.callback,w.args.callback=k,r[k]=N):typeof w.args.callback=="string"&&d("exec callback may not be a string when using the Promise interface."));let I=new Promise(function(T,A){N.resolve=T,N.reject=A,r[w.messageId]=N,a("Posting",w.type,"message to Worker dbId="+(p||"default")+":",w),e.worker.postMessage(w)});return k&&(I=I.finally(()=>delete r[k])),I}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const r=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(s){try{e&&await e(s),r.resolve(s)}catch(a){r.reject(a)}}});const n=new Promise(function(s,a){r.resolve=s,r.reject=a});try{this.original(t)}catch(s){r.reject(s)}return n}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function mk(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(s=>{e=s})},unlock:async()=>{const s=e;t=void 0,e=void 0,s?.()}}}function nb(t,e){const r={rows:[],columns:[]},n=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:r.columns});switch(e.method){case"run":break;case"get":r.rows=n[0]??[];break;case"all":default:r.rows=n;break}return r}function HT(t){const e=t.split(/[\\/]/).filter(a=>a!==""),r=e.pop();if(!r)throw new Error("Database path is invalid.");const n=["journal","wal","shm"].map(a=>`${r}-${a}`);return{directories:e,fileName:r,tempFileNames:n,getDirectoryHandle:async()=>{let a=await navigator.storage.getDirectory();for(let l of e)a=await a.getDirectoryHandle(l);return a}}}async function uw(t,e){let r;if(t instanceof Blob?r=t.stream():r=t,r instanceof ReadableStream&&e){const s=r.getReader();switch(e){case"callback":return async()=>(await s.read()).value;case"buffer":const a=[];let l=!1;for(;!l;){const g=await s.read();g.value&&a.push(g.value),l=g.done}const u=a.reduce((g,w)=>g+w.length,0),d=new Uint8Array(u);let p=0;return a.forEach(g=>{d.set(g,p),p+=g.length}),d}}else return r}class GW{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:mk()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:mk()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:s,readOnly:a,verbose:l}=this.config,u=[a===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await KW()),this.db&&this.destroy(),"opfs"in this.sqlite3&&s!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(s,u),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(s,u),this.dbStorageType="memory",s!==":memory:"&&console.warn(`The origin private file system is not available, so ${s} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s})`),this.reinitChannel.onmessage=d=>{this.config.clientKey!==d.data.clientKey&&this.init(d.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:n})}catch(d){this.emitMessage({type:"error",error:d,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(n,s)=>{const a=n instanceof MessageEvent?n.data:n;switch(await this.initMutex.lock(),a.type){case"config":this.editConfig(a);break;case"query":case"batch":case"transaction":this.exec(a);break;case"function":this.createUserFunction(a);break;case"getinfo":this.getDatabaseInfo(a);break;case"import":this.importDb(a);break;case"export":this.exportDb(a);break;case"delete":this.deleteDb(a);break;case"destroy":this.destroy(a);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(n,s=[])=>{this.onmessage&&this.onmessage(n,s)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.config=n.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(this.db)try{const s={type:"data",queryKey:n.queryKey,data:[]};switch(n.type){case"query":const a=this.transactionKey!==null&&this.transactionKey===n.transactionKey;try{a||await this.transactionMutex.lock();const l=nb(this.db,n);s.data.push(l)}finally{a||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let u of n.statements){const d=nb(l,u);s.data.push(d)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(n.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=n.transactionKey,this.db.exec({sql:"BEGIN"})),(n.action==="commit"||n.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===n.transactionKey){const l=n.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(s)}catch(s){this.emitMessage({type:"error",error:s,queryKey:n.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let n of this.config.onInitStatements)nb(this.db,n)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{try{const s=this.config.databasePath,a=this.dbStorageType,l=a!==void 0?a!=="memory"?await navigator.storage?.persisted():!1:void 0,d=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],p=typeof d=="number"?d:void 0;this.emitMessage({type:"info",queryKey:n.queryKey,info:{databasePath:s,databaseSizeBytes:p,storageType:a,persisted:l}})}catch(s){this.emitMessage({type:"error",queryKey:n.queryKey,error:s})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{const{functionName:s,functionType:a,queryKey:l}=n;let u;if(this.userFunctions.has(s)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${s}" has already been created for this SQLocal instance.`),queryKey:l});return}a==="callback"?u=(...d)=>{this.emitMessage({type:"callback",name:s,args:d})}:u=this.proxy[`_sqlocal_func_${s}`];try{this.initUserFunction({type:a,name:s,func:u}),this.emitMessage({type:"success",queryKey:l})}catch(d){this.emitMessage({type:"error",error:d,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.createFunction({name:n.name,xFunc:(s,...a)=>n.func(...a),arity:-1}),this.userFunctions.set(n.name,n))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:s,database:a}=n;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const u=await uw(a,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,u)}else{const u=await uw(a,"buffer"),d=this.sqlite3.wasm.allocFromTypedArray(u);this.pointers.push(d);const p=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",d,u.byteLength,u.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(p),this.execInitStatements()}}catch(u){this.emitMessage({type:"error",error:u,queryKey:s}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:s})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:n=>{if(!this.sqlite3||!this.db)return;const{queryKey:s}=n;try{const a=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:s,buffer:a},[a])}catch(a){this.emitMessage({type:"error",error:a,queryKey:s})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;const{queryKey:s}=n;let a=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:u,tempFileNames:d}=HT(this.config.databasePath),p=await l(),g=[u,...d];this.destroy(),await Promise.all(g.map(async w=>p.removeEntry(w).catch(N=>{if(!(N instanceof DOMException&&N.name==="NotFoundError"))throw N})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:s}),a=!0}finally{await this.init("delete")}a||this.emitMessage({type:"success",queryKey:s})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(s=>this.sqlite3?.wasm.dealloc(s)),this.pointers=[],n&&this.emitMessage({type:"success",queryKey:n.queryKey})}});const r=e?globalThis:b0(globalThis);this.proxy=r,this.init("initial")}}function Zm(t,...e){return{sql:t.join("?"),params:e}}function JW(t){return!t.some(e=>!Array.isArray(e))}function ib(t,e){let r;return JW(t)?r=t:r=[t],r.map(n=>{const s={};return e.forEach((a,l)=>{s[a]=n[l]}),s})}function ZW(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function YW(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function XW(t){if(typeof t=="function"&&(t=t(Zm)),ZW(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const n=t.toSQL();if(!YW(n))throw 2;return n}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let r=[];return"params"in t?r=t.params:"parameters"in t&&(r=t.parameters),{sql:e,params:r}}function sb(){return crypto.randomUUID()}function yk(t,e){let r;return typeof t=="string"?r={sql:t,params:e}:r=Zm(t,...e),r}async function qp(t,e,r,n){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${r.databasePath})`,{mode:t},n):n()}class e6{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const u=l instanceof MessageEvent?l.data:l,d=this.queriesInProgress;switch(u.type){case"success":case"data":case"buffer":case"info":case"error":if(u.queryKey&&d.has(u.queryKey)){const[g,w]=d.get(u.queryKey);u.type==="error"?w(u.error):g(u),d.delete(u.queryKey)}else if(u.type==="error")throw u.error;break;case"callback":const p=this.userCallbacks.get(u.name);p&&p(...u.args??[]);break;case"event":this.config.onConnect?.(u.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>qp("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const u=sb();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:u},[l.database]);break;default:this.processor.postMessage({...l,queryKey:u});break}return new Promise((d,p)=>{this.queriesInProgress.set(u,[d,p])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u,d="all",p)=>{const g=await this.createQuery({type:"query",transactionKey:p,sql:l,params:u,method:d}),w={rows:[],columns:[]};return g.type==="data"&&(w.rows=g.data[0]?.rows??[],w.columns=g.data[0]?.columns??[]),w}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const u=await this.createQuery({type:"batch",statements:l}),d=new Array(l.length).fill({rows:[],columns:[]});return u.type==="data"&&u.data.forEach((p,g)=>{d[g]=p}),d}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...u)=>{const d=yk(l,u),{rows:p,columns:g}=await this.exec(d.sql,d.params,"all");return ib(p,g)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const u=l(Zm);return(await this.execBatch(u)).map(({rows:p,columns:g})=>ib(p,g))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=sb();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const u=async w=>{const N=XW(w),{rows:k,columns:I}=await this.exec(N.sql,N.params,"all",l);return ib(k,I)};return{query:u,sql:async(w,...N)=>{const k=yk(w,N);return await u(k)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>qp("exclusive",!1,this.config,async()=>{let u;this.bypassMutationLock=!0;try{u=await this.beginTransaction();const d=await l({sql:u.sql,query:u.query});return await u.commit(),d}catch(d){throw await u?.rollback(),d}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,u)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{const d=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[d]=u),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[d]=u)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,u;const{storageType:d}=await this.getDatabaseInfo();if(d==="opfs"){const p=HT(this.config.databasePath),{directories:g,getDirectoryHandle:w}=p;l=p.fileName;const N=`backup-${Date.now()}--${l}`,k=`${g.join("/")}/${N}`;await this.exec("VACUUM INTO ?",[k]);const I=await w();u=await (await (await I.getFileHandle(N)).getFile()).arrayBuffer(),await I.removeEntry(N)}else{const p=await this.createQuery({type:"export"});if(p.type==="buffer")l="database.sqlite3",u=p.buffer;else throw new Error("The database failed to export.")}return new File([u],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{await qp("exclusive",!1,this.config,async()=>{try{const d=await uw(l);await this.createQuery({type:"import",database:d}),typeof u=="function"&&(this.bypassMutationLock=!0,await u()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await qp("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const r=typeof e=="string"?{databasePath:e}:e,{onInit:n,onConnect:s,...a}=r;this.config=r,this.clientKey=sb(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${a.databasePath})`),typeof globalThis.Worker<"u"&&a.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=b0(this.processor)):(this.processor=new GW(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...a,clientKey:this.clientKey,onInitStatements:n?.(Zm)??[]}})}}class t6 extends e6{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new DW,createDriver:()=>new r6(this),createIntrospector:e=>new jW(e),createQueryCompiler:()=>new PW}})}}class r6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new n6(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class n6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let r;return this.transaction===null?r=await this.client.sql(e.sql,...e.parameters):r=await this.transaction.query(e),{rows:r}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const i6=({database:t,bootstrap:e})=>{const{dialect:r}=new t6({databasePath:`${t}.sqlite3`}),n=new Pa({dialect:r});return{kysely:n,bootstrap(){return e({kysely:n})}}},_o=dr({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),s6="icon-[material-symbols--error-outline]",o6=dr({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Vs=({error:t,variant:e,tva:r=o6,css:n})=>{const s=r({...e,css:n}).slots;return t?.message?y.jsxs("div",{className:s.base(),children:[y.jsx(br,{icon:s6}),y.jsx("span",{children:Jr.rich(t.message)})]}):null},a6=dr({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),Wr=({label:t,hint:e,required:r=!1,formState:n,name:s,children:a,variant:l,tva:u=a6,css:d})=>{const p=u({isSubmitting:n.isSubmitting,isLoading:n.isLoading,isError:!!n.errors[s],required:r,...l,css:d}).slots;return y.jsxs("div",{className:p.base(),children:[y.jsxs("div",{className:"flex flex-row justify-between",children:[t?y.jsx("label",{htmlFor:s,children:t}):null,y.jsx(Vs,{variant:{compact:!0},error:n.errors[s]})]}),e?y.jsx("div",{className:"text-sm italic",children:e}):null,y.jsx("div",{className:p.input(),children:a})]})},sl=({form:t,mutation:e,onSuccess:r})=>{const n=t.handleSubmit(async s=>e.mutateAsync(s,{onSuccess:r,onError:a=>{Bw({error:a,errors:[Fw({error:a,schema:Mw,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return s=>{s.stopPropagation(),n(s)}};function l6(t,e,r,n={leading:!1}){const[s,a]=Q.useState(t),[l,u]=Q.useState(t),d=Q.useRef(null),p=Q.useRef(!0),g=()=>window.clearTimeout(d.current||void 0);Q.useEffect(()=>g,[]),Q.useEffect(()=>{e(s)},[s]),Q.useEffect(()=>{u(t),a(t)},[t]);const w=Q.useCallback(N=>{u(N),g(),p.current&&n.leading?a(N):d.current=window.setTimeout(()=>{p.current=!0,a(N)},r),p.current=!1},[n.leading]);return[l,w]}const u6=dr({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),c6=({value:t="",onFulltext:e,textPlaceholder:r,variant:n,tva:s=u6,css:a})=>{const l=s({...n,css:a}).slots,[u,d]=l6(t,p=>{e(p||"")},500);return y.jsxs("div",{className:l.base(),children:[y.jsx("div",{className:l.search(),children:y.jsx(br,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),y.jsx("input",{value:u||"",className:l.input(),type:"text",placeholder:r||Jr.text("Fulltext (placeholder)"),onChange:p=>{d(p.target.value)}}),t&&y.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:y.jsx(br,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},Ri=t=>e=>{t({search:({cursor:r,filter:n,...s})=>({...s,filter:{...n,fulltext:e},cursor:{...r,page:e?0:r.page}}),replace:!!e})},qf="icon-[pajamas--go-back]",Ym="icon-[line-md--confirm-circle]",d6="icon-[mage--edit]",f6="icon-[arcticons--nothing-x]",h6="icon-[tabler--filter-plus]",gk="icon-[tabler--filter-minus]",x0="icon-[ph--list-dashes-thin]",S0="icon-[material-symbols-light--logout-sharp]",p6="icon-[fluent--shape-intersect-20-regular]",My="icon-[fluent--checkbox-unchecked-20-regular]",By="icon-[fluent--checkbox-checked-20-regular]",m6="icon-[ph--gear-thin]",Xm="icon-[teenyicons--tag-outline]",Xo="icon-[ph--trash]",E0="icon-[ph--user]",y6=async({queryClient:t,keys:e})=>Promise.all(e.map(r=>t.refetchQueries({queryKey:r}))).catch(r=>{console.error(r)}),g6=dr({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),v6=()=>y.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),QT=({logo:t,menu:e,actions:r,variant:n,tva:s=g6,css:a,children:l})=>{const u=s({...n,css:a}).slots;return y.jsxs("div",{className:u.base(),children:[y.jsx(xP,{position:"top-center"}),y.jsxs("div",{className:u.header(),children:[y.jsx("div",{children:t}),y.jsx("div",{className:"flex-grow",children:e}),y.jsx("div",{className:"flex flex-row gap-2 items-center",children:r})]}),y.jsx("div",{className:u.content(),children:l??y.jsx(tl,{})}),y.jsx(v6,{})]})},_6=dr({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),b6=Q.forwardRef(({icon:t,iconProps:e,variant:r,tva:n=_6,css:s,children:a,...l},u)=>{const d=n({...r,css:s}).slots;return y.jsxs("a",{...l,ref:u,className:d.base(),children:[t&&y.jsx(br,{icon:t,...e}),a]})}),w6=_3(b6),Gn=t=>y.jsx(w6,{preload:"intent",...t}),x6=dr({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),S6=({show:t=!0,variant:e,tva:r=x6,css:n})=>{const s=r({show:t,...e,css:n}).slots;return t?y.jsx("div",{className:s.base(),children:y.jsx(br,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var rm={exports:{}},E6=rm.exports,vk;function N6(){return vk||(vk=1,function(t,e){(function(r,n){t.exports=n()})(E6,()=>(()=>{var r={d:(I,T)=>{for(var A in T)r.o(T,A)&&!r.o(I,A)&&Object.defineProperty(I,A,{enumerable:!0,get:T[A]})},o:(I,T)=>Object.prototype.hasOwnProperty.call(I,T)},n={};r.d(n,{default:()=>k});const s=(...I)=>{},a=I=>I!==null&&I?.constructor.name==="Object";let l,u;const d=()=>{if(!l){l=!0;try{u=w.storage||localStorage,u.getItem("")}catch{u=(()=>{const I={getItem:A=>T[A]||null,setItem:(A,D)=>{T[A]=D},removeItem:A=>{T[A]=void 0},clear:()=>{T={__proto__:I}}};let T={__proto__:I};return T})()}N()}},p="\0",g=(I,T,A=!0)=>A?[...JSON.stringify(I)].map(D=>String.fromCharCode(D.charCodeAt(0)+T)).join(""):JSON.parse([...I].map(D=>String.fromCharCode(D.charCodeAt(0)-T)).join("")),w={ttl:null,encrypt:!1,encrypter:g,decrypter:(I,T)=>g(I,T,!1),secret:75,storage:void 0};Object.seal(w);const N=(I=!1)=>{d();for(const T of Object.keys(u)){const A=u.getItem(T);let D;try{D=JSON.parse(A||"")}catch{continue}a(D)&&p in D&&(Date.now()>D.ttl||I)&&u.removeItem(T)}},k={config:w,set:(I,T,A={})=>{d();const D={...w,...A,encrypt:A.encrypt!==!1&&(A.encrypt||w.encrypt),ttl:A.ttl===null?null:A.ttl||w.ttl};try{const L=D.ttl&&!isNaN(D.ttl)&&D.ttl>0;let $=L?{[p]:T,ttl:Date.now()+1e3*D.ttl}:T;D.encrypt&&(L?$[p]=(D.encrypter||s)($[p],D.secret):$=(D.encrypter||s)($,D.secret)),u.setItem(I,JSON.stringify($))}catch{return!1}},get:(I,T={})=>{d();const A=u.getItem(I),D={...w,...T,encrypt:T.encrypt!==!1&&(T.encrypt||w.encrypt),ttl:T.ttl===null?null:T.ttl||w.ttl};let L,$;try{L=JSON.parse(A||""),$=a(L)&&p in L,(D.decrypt||D.encrypt)&&($?L[p]=(D.decrypter||s)(L[p],D.secret):L=(D.decrypter||s)(L,D.secret))}catch{}return $?Date.now()>L.ttl?(u.removeItem(I),null):L[p]:L!==void 0?L:A},flush:N,clear:()=>{d(),u.clear()},remove:I=>{d(),u.removeItem(I)}};return n.default})())}(rm)),rm.exports}var k6=N6();const O6=Ec(k6),th=O6,I6=dr({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),rh=({variant:t,tva:e=I6,css:r,children:n})=>{const s=e({...t,css:r}).slots;return y.jsx("div",{className:s.base(),children:n})},T6=dr({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),_k=({icon:t,label:e,active:r=[],variant:n,tva:s=T6,css:a,children:l})=>{const u=b3(),d=r.some(g=>!!u(g)),p=s({active:d,...n,css:a}).slots;return y.jsxs("div",{className:p.base(),children:[y.jsxs("div",{className:p.label(),children:[t?y.jsx(br,{icon:t}):null,e]}),y.jsx("div",{className:p.items(),children:l})]})},C6=dr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),q6=Q.forwardRef(({icon:t=null,variant:e,tva:r=C6,css:n,children:s,...a},l)=>{const u=r({...e,css:n}).slots;return y.jsxs("a",{...a,className:u.base(),ref:l,children:[wy(t)?y.jsx(br,{icon:t}):t,s]})}),R6=_3(q6),wn=({active:t=[],variant:e,...r})=>{const n=b3(),s=t.some(a=>!!n(a));return y.jsx(R6,{preload:"intent",variant:{active:!!n({to:r.to,params:r.params})||s,...e},...r})},A6=dr({slot:{base:["flex","flex-row","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),P6=({textTitle:t,textEmpty:e,items:r,render:n,limit:s,variant:a,tva:l=A6,css:u})=>{const d=s?r.slice(0,s):r,p=l({...a,css:u}).slots;return y.jsxs("div",{className:p.base(),children:[r.length?null:e,d.map(g=>y.jsx(n,{entity:g},`items-${g.id}`)),s&&r.length>s&&y.jsx(qy,{title:t,target:y.jsx(r0,{iconEnabled:YI}),outside:!0,children:y.jsx("div",{className:"flex flex-col gap-2",children:r.map(g=>y.jsx(n,{entity:g},`items-${g.id}`))})})]})},F6=dr({slot:{base:[]},variant:{},defaults:{}}),ie=({label:t,fallback:e,variant:r,tva:n=F6,css:s})=>{const a=n({...r,css:s}).slots;return y.jsx("div",{className:a.base(),children:Jr.rich(t,e)})},KT=dr({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),L6=dr({use:KT,slot:{},variant:{},defaults:{}}),j6=({icon:t,titleText:e,modalProps:r,table:n,render:s,allowEmpty:a=!1,source:l,useListQuery:u,value:d,onChange:p,variant:g,tva:w=L6,css:N})=>{const k=w({...g,css:N}).slots,[I,T]=Q.useState(0),[A,D]=Q.useState(15),[L,$]=Q.useState(d||[]),[V,K]=Q.useState(void 0),B=u({source:l,filter:{fulltext:V},cursor:{page:I,size:A}}),J=u({source:l,where:{idIn:d},options:{enabled:!!d}});return y.jsx(qy,{icon:t,target:y.jsxs("label",{className:k.input({loading:J.isLoading,selected:!!J.data?.data.length}),children:[y.jsx(br,{icon:J.data?.data?.length?By:My}),J.data&&J.data.data.length?y.jsx(s,{entities:J.data.data}):y.jsx(ie,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:y.jsxs("div",{className:k.base(),children:[y.jsx("div",{className:k.content(),children:y.jsx(n,{cursor:{cursor:{page:I,size:A},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:y.jsx(ie,{label:"Total count of items (label)"}),onPage(ne){T(ne)},onSize(ne){D(ne),T(0)}},fulltext:{value:V,onFulltext(ne){K(ne)}},table:{data:B.data?.data??[],selection:{type:"multi",value:L,set(ne){$(ne)}}}})}),y.jsx(ws.Consumer,{children:ne=>y.jsxs("div",{className:k.footer(),children:[y.jsx(kn,{iconEnabled:qf,iconDisabled:qf,onClick:()=>{ne?.close()},variant:{variant:"subtle"},children:y.jsx(ie,{label:"Close (label)"})}),y.jsx(kn,{iconEnabled:Ym,iconDisabled:Ym,disabled:!L.length&&!a,onClick:()=>{p(L),ne?.close()},children:y.jsx(ie,{label:"Confirm selection (label)"})})]})})]})})},GT=({icon:t,titleText:e,modalProps:r,table:n,render:s,allowEmpty:a=!1,source:l,useListQuery:u,value:d,onChange:p,variant:g,tva:w=KT,css:N})=>{const k=w({...g,css:N}).slots,[I,T]=Q.useState(0),[A,D]=Q.useState(10),[L,$]=Q.useState(d?[d]:[]),[V,K]=Q.useState(void 0),B=u({source:l,where:{fulltext:V},cursor:{page:I,size:A}}),J=u({source:l,where:{id:d},options:{enabled:!!d}});return y.jsx(qy,{icon:t,target:y.jsxs("label",{className:k.input({loading:J.isLoading,selected:!!J.data?.data?.length}),children:[y.jsx(br,{icon:J.data?.data?.[0]?By:My}),J.data?.data?.[0]?y.jsx(s,{entity:J.data?.data?.[0]}):y.jsx(ie,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:y.jsxs("div",{className:k.base(),children:[y.jsx("div",{className:k.content(),children:y.jsx(n,{cursor:{cursor:{page:I,size:A},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:y.jsx(ie,{label:"Total count of items (label)"}),onPage(ne){T(ne)},onSize(ne){D(ne)}},fulltext:{value:V,onFulltext(ne){K(ne)}},table:{data:B.data?.data??[],selection:{type:"single",value:L,set(ne){$(ne)}}}})}),y.jsx(ws.Consumer,{children:ne=>y.jsxs("div",{className:k.footer(),children:[y.jsx(kn,{iconEnabled:qf,iconDisabled:qf,onClick:()=>{ne?.close()},variant:{variant:"subtle"},children:y.jsx(ie,{label:"Close (label)"})}),y.jsx(kn,{iconEnabled:Ym,iconDisabled:Ym,disabled:!L.length&&!a,onClick:()=>{p(L?.[0]),ne?.close()},children:y.jsx(ie,{label:"Confirm selection (label)"})})]})})]})})},D6=dr({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),N0=({entity:t,title:e=()=>null,links:r=()=>null,actions:n=()=>null,extra:s=()=>null,variant:a,tva:l=D6,css:u})=>{const d=l({...a,css:u}).slots;return y.jsx(n0.Provider,{value:{inline:!0},children:y.jsx("div",{className:d.base(),children:y.jsxs("div",{className:d.container(),children:[y.jsx("div",{className:d.title(),children:y.jsx(e,{entity:t})}),y.jsx("div",{className:d.links(),children:y.jsx(r,{entity:t})}),y.jsx("div",{className:d.actions(),children:y.jsx(n,{entity:t})}),y.jsx("div",{className:d.extra(),children:y.jsx(s,{entity:t})})]})})})},M6=dr({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),B6=({source:t,wrap:e=s=>s(),onSuccess:r,options:n})=>{const s=Xa(),a=Ii();return el({mutationKey:["useRemoveMutation",t.name],async mutationFn({where:l,filter:u}){return e(async()=>t.db.transaction().execute(async d=>{const p=await t.delete$({tx:d,where:l,filter:u});return await r?.({queryClient:s,router:a,entity:p}),p}))},...n})},ol=({source:t,textContent:e,filter:r,onCancel:n,invalidator:s,variant:a,tva:l=M6,css:u})=>{const d=l({...a,css:u}).slots,p=Q.useContext(ws),g=B6({source:t,async wrap(w){return SP.promise(w(),{loading:y.jsx(ie,{label:"Deleting... (label)"}),success:y.jsx(ie,{label:"Items deleted (label)"}),error:y.jsx(ie,{label:"Items cannot be removed (label)"})})},options:{async onSuccess(){await s?.(),p?.close()}}});return y.jsxs("div",{className:d.base(),children:[y.jsx("div",{className:d.content(),children:e}),y.jsxs("div",{className:d.footer(),children:[y.jsx(kn,{variant:{variant:"subtle",size:"sm"},iconEnabled:qf,onClick:()=>{p?.close(),n?.()},children:y.jsx(ie,{label:"Cancel (button)"})}),y.jsx(kn,{variant:{variant:"danger",size:"md"},iconEnabled:Xo,onClick:()=>g.mutate({filter:r}),children:y.jsx(ie,{label:"Delete (button)"})})]})]})},$6=({source:t,where:e,filter:r,options:n})=>_w({queryKey:["useCountQuery",t.name,{where:e,filter:r}],async queryFn(){return t.db.transaction().execute(async s=>t.count$({tx:s,where:e,filter:r}))},...n}),al=({source:t,wrap:e=async s=>s(),toCreate:r=async({shape:s})=>({entity:s,shape:s}),onSuccess:n})=>{const s=Xa(),a=Ii();return el({mutationKey:["useCreateMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async u=>{const d=await t.create$({tx:u,...await r({shape:l}),shape:l});return await n?.({queryClient:s,router:a,entity:d}),d}))}})},ui=async({tx:t,queryClient:e,source:r,where:n,filter:s,cursor:a})=>e.ensureQueryData({queryKey:["withListCountLoader",r.name,{where:n,filter:s,cursor:a}],async queryFn(){return{data:await r.list$({tx:t,where:n,filter:s,cursor:a}),count:await r.count$({tx:t,where:n,filter:s})}}}),k0=({source:t,where:e,filter:r,cursor:n,options:s})=>{const a=Xa();return _w({queryKey:["useListQuery",t.name,{where:e,filter:r,cursor:n}],async queryFn(){return t.db.transaction().execute(async l=>ui({queryClient:a,tx:l,source:t,where:e,filter:r,cursor:n}))},...s})},ea=({source:t,wrap:e=async s=>s(),toPatch:r,onSuccess:n})=>{const s=Xa(),a=Ii();return el({mutationKey:["usePatchMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async u=>{const d=await t.patch$({tx:u,entity:l,shape:l,...await r({shape:l})});return await n?.({queryClient:s,router:a,entity:d}),d}))}})},ll=({sources:t,route:e=!0,queries:r=[]})=>{const n=Xa(),s=Ii();return async()=>{await y6({queryClient:n,keys:[...t.map(({name:a})=>["withCountLoader",a]),...t.map(({name:a})=>["withFetchLoader",a]),...t.map(({name:a})=>["withListLoader",a]),...t.map(({name:a})=>["useListQuery",a]),...t.map(({name:a})=>["withListCountLoader",a]),...t.map(({name:a})=>["useCountQuery",a]),...r]}),e&&await s.invalidate()}},O0=async({tx:t,queryClient:e,source:r,where:n,filter:s})=>e.ensureQueryData({queryKey:["withFetchLoader",r.name,{where:n,filter:s}],async queryFn(){return r.fetchOrThrow$({tx:t,where:n,filter:s})}}),W6=async({tx:t,queryClient:e,source:r,where:n,filter:s,cursor:a})=>e.ensureQueryData({queryKey:["withListLoader",r.name,{where:n,filter:s,cursor:a}],async queryFn(){return r.list$({tx:t,where:n,filter:s,cursor:a})}}),ci=t=>{const e="input"in t?t.input:"input",r="output"in t?t.output:"output",n="schema"in t?t.schema._input:t._input,s="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?s:n,output:r==="input"?n:s},parse:a=>"schema"in t?t.schema.parse(a):t.parse(a)}},ob=(t,e)=>be.custom().pipe(t.catch(e)),di=({filter:t})=>be.object({filter:ob(t.optional(),void 0),cursor:ob(TM,{page:0,size:15}).default({page:0,size:15}),selection:ob(be.array(be.string()),[]).default([])}),z6=dr({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),JT=({textTitle:t,textMessage:e,icon:r,iconProps:n,variant:s,tva:a=z6,css:l,children:u})=>{const d=a({...s,css:l}).slots;return y.jsxs("div",{className:d.base(),children:[r?y.jsx(br,{icon:r,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...n}):null,y.jsx("div",{className:d.title(),children:t}),y.jsx("div",{className:d.message(),children:e}),y.jsx("div",{className:d.body(),children:u})]})},I0=dr({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),U6=({table:t,cell:{column:e,data:r,value:n},variant:s,tva:a=I0,css:l})=>{const u=e.def.render,d=a({...s,css:l}).slots;return y.jsx("td",{className:d.td(),children:y.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[y.jsx(u,{table:t,data:r,value:n}),e.filter&&!e.filter.is()?y.jsx(br,{icon:h6,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:r,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},V6=({table:t,row:e,action:r,variant:n,tva:s=I0,css:a})=>{const l=s({...n,css:a}).slots,u=r?.table,d=r?.row;return y.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[u||d||t.selection.enabled?y.jsx("td",{className:"w-0",children:y.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?y.jsx(br,{icon:t.selection.isSelected(e)?By:My,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,d?y.jsx(d,{table:t,data:e.data}):null]})}):null,e.cells.map(p=>y.jsx(U6,{table:t,cell:p,variant:n,tva:s,css:a},`${e.id}-${p.column.id}`)),y.jsx("td",{})]})},Hs=({table:t,fulltext:e,cursor:r,empty:n=()=>y.jsx(JT,{icon:f6,textTitle:y.jsx(ie,{label:"Nothing here"}),textMessage:y.jsx(ie,{label:"There is nothing to see right now."})}),action:s,variant:a,tva:l=I0,css:u})=>{const d=l({...a,css:u}).slots,p=s?.table,g=s?.row;return y.jsxs("div",{className:d.base(),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?y.jsx(c6,{...e}):null}),y.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[y.jsx($1,{...r}),t.filter.is()&&y.jsx(r0,{iconEnabled:gk,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),y.jsx("div",{className:"relative overflow-x-auto",children:y.jsxs("table",{className:d.table(),children:[y.jsx("thead",{className:d.thead(),children:y.jsxs("tr",{children:[p||g||t.selection.enabled?y.jsx("th",{className:"w-0",children:y.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?y.jsx(br,{icon:t.selection.isAll()?By:t.selection.isAny()?p6:My,variant:{disabled:t.selection.isSingle},css:{base:d.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,p?y.jsx(p,{table:t}):null]})}):null,t.visible.map(w=>{const N=w.def.header||(()=>null);return y.jsx("th",{className:d.th(),style:w.def.size?{width:`${w.def.size}rem`}:void 0,children:y.jsxs("div",{className:"flex flex-row items-center justify-between",children:[y.jsx(N,{table:t}),y.jsx("div",{className:"flex flex-row items-center gap-2",children:w.filter?.is()&&y.jsx(br,{icon:gk,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{w.filter?.reset()}})})]})},w.id)}),y.jsx("th",{})]})}),t.isEmpty?null:y.jsx("tbody",{className:d.tbody(),children:t.rows?.map(w=>y.jsx(V6,{row:w,table:t,action:s,variant:a,tva:l,css:u},w.id))})]})}),t.isEmpty?y.jsx(n,{}):null,y.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[y.jsx("div",{}),y.jsx($1,{...r})]})]})},Fn=[];for(let t=0;t<256;++t)Fn.push((t+256).toString(16).slice(1));function H6(t,e=0){return(Fn[t[e+0]]+Fn[t[e+1]]+Fn[t[e+2]]+Fn[t[e+3]]+"-"+Fn[t[e+4]]+Fn[t[e+5]]+"-"+Fn[t[e+6]]+Fn[t[e+7]]+"-"+Fn[t[e+8]]+Fn[t[e+9]]+"-"+Fn[t[e+10]]+Fn[t[e+11]]+Fn[t[e+12]]+Fn[t[e+13]]+Fn[t[e+14]]+Fn[t[e+15]]).toLowerCase()}let ab;const Q6=new Uint8Array(16);function K6(){if(!ab){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ab=crypto.getRandomValues.bind(crypto)}return ab(Q6)}const G6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bk={randomUUID:G6};function wk(t,e,r){if(bk.randomUUID&&!e&&!t)return bk.randomUUID();t=t||{};const n=t.random||(t.rng||K6)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,H6(n)}const Qs=({columns:t,order:e=t.map(u=>u.name),hidden:r=[],visible:n=t.map(u=>u.name),data:s,filter:a,selection:l})=>{const u={...a?.value||{}},d=d1(u||{}),p=new Set(l?.value),g=t.map(N=>({id:wk(),def:N,filter:N.filter?{is(){return N.filter?d.get(N.filter.path)!==void 0:!1},reset(){N.filter&&d.set(N.filter.path,void 0),a?.set({...u})},shallow(k,I){N.filter&&d.set(k,I),a?.set({...u})},set(k){a?.set({...k})}}:void 0})),w=g.filter(N=>n.includes(N.def.name)&&!r.includes(N.def.name)).sort((N,k)=>{const I=e.indexOf(N.def.name),T=e.indexOf(k.def.name);return(I===-1?1/0:I)-(T===-1?1/0:T)});return{columns:g,visible:w,rows:s?.map(N=>({id:wk(),data:N,cells:w.map(k=>({column:k,data:N,value:d1(N).get(k.def.name)}))})),isEmpty:s.length===0,filter:{is(){return g.some(N=>N.filter?.is())},reset(){a?.set({})},set(N){a?.set({...N})},shallow(N,k){d.set(N,k)}},selection:{enabled:!!l&&s.length>0,selection:Array.from(p),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:N}){return p.has(N.id)||!1},isAll(){return s.every(N=>p.has(N.id))},isAny(){return s.some(N=>p.has(N.id))},withRowHandler({data:N}){return()=>{if(l?.type==="single"){const k=p.has(N.id);p.clear(),k?p.delete(N.id):p.add(N.id)}else p.has(N.id)?p.delete(N.id):p.add(N.id);l?.set(Array.from(p))}},withAllHandler(){return()=>{s.every(N=>p.has(N.id))?p.clear():s.forEach(({id:N})=>p.add(N)),l?.set(Array.from(p))}}}}},Ks=()=>t=>t,ZT=({tags:t=[],render:e=({tag:s})=>s.label,onClick:r,textEmpty:n})=>{const s=t.filter(Boolean).sort((a,l)=>a.sort-l.sort);return y.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:s.length?s.map(a=>y.jsx(MB,{onClick:()=>r?.(a),children:e({tag:a})},a.id)):n||y.jsx(ie,{label:"No tags (label)"})})},J6=dr({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),T0=({icon:t,title:e,subtitle:r,variant:n,tva:s=J6,css:a})=>{const l=s({withSubtitle:!!r,...n,css:a}).slots;return y.jsxs("div",{className:l.base(),children:[y.jsxs("div",{className:l.title(),children:[t?y.jsx(br,{icon:t}):null,e]}),r?y.jsx("div",{className:l.subtitle(),children:r}):null]})};var Rp={},xk;function Z6(){if(xk)return Rp;xk=1;var t=v3();return Rp.createRoot=t.createRoot,Rp.hydrateRoot=t.hydrateRoot,Rp}var Y6=Z6();const X6=Ec(Y6),C0=cA()({component:()=>y.jsxs(y.Fragment,{children:[y.jsx(qA,{}),y.jsx(tl,{})]})}),ez="modulepreload",tz=function(t){return"/"+t},Sk={},Ek=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=Promise.allSettled(r.map(d=>{if(d=tz(d),d in Sk)return;Sk[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":ez,p||(w.as="script"),w.crossOrigin="",w.href=d,u&&w.setAttribute("nonce",u),document.head.appendChild(w),p)return new Promise((N,k)=>{w.addEventListener("load",N),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},rz=hr("/$locale")({component:tl,loader:async({params:{locale:t}})=>{try{Jr.push((await nz(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function nz(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return Ek(()=>import("./cs-5j9JPV03.js"),[]);case"../translation/en":case"../translation/en.yaml":return Ek(()=>import("./en-ClbrTA1l.js"),[]);default:return new Promise(function(e,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const YT="cs",iz=[YT,"en"],sz=hr("/")({loader:async()=>{throw sy({to:"/$locale",params:{locale:pD({available:iz,fallback:YT})}})}}),oz=hr("/$locale/")({component:()=>{const{locale:t}=Cn({from:"/$locale"});return y.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:y.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[y.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),y.jsx("ul",{children:y.jsx("li",{children:y.jsx(Gn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:xn,bootstrap:az}=i6({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)",r=async()=>{await t.schema.createTable("User").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull()).addColumn("login","varchar(128)",l=>l.notNull().unique()).addColumn("password","varchar(256)",l=>l.notNull()).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("code","varchar(64)",l=>l.notNull()).addColumn("label","varchar(128)",l=>l.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",l=>l.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("stamp","datetime",l=>l.defaultTo(_0`CURRENT_TIMESTAMP`).notNull()).execute()},n=async()=>{await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId",e,l=>l.references("Tag.id").onDelete("cascade").notNull()).addUniqueConstraint("Resource_Tag_resourceId_tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Inventory_userId_resourceId",["userId","resourceId"]).execute()},s=async()=>{await t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).addColumn("preview","boolean",l=>l.notNull()).addColumn("cycles","int2",l=>l.notNull()).addColumn("limit","int2",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuilding_Requirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Requirement_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuilding_Limit").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("limit","float8",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Limit_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute()},a=async()=>{await t.schema.createTable("Building").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).execute(),await t.schema.createTable("Building_Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Building_Storage_buildingId_resourceId",["buildingId","resourceId"]).execute(),await t.schema.createTable("BuildingQueue").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("start","float8",l=>l.notNull()).addColumn("current","float8",l=>l.notNull()).addColumn("finish","float8",l=>l.notNull()).execute()};await r(),await n(),await s(),await a()}}),lz=hr("/$locale/apps/derivean")({loader:az}),XT="icon-[proicons--game]",uz=dr({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),eC=({variant:t,tva:e=uz,css:r})=>{const n=e({...t,css:r}).slots;return y.jsx("div",{className:n.base(),children:"DeRivean"})},Yo="icon-[material-symbols-light--construction-rounded]",go="icon-[fluent--building-shop-20-regular]",Xr="icon-[hugeicons--resources-add]",cz=t=>{const{locale:e}=Cn({from:"/$locale"});return y.jsxs(rh,{...t,children:[y.jsx(wn,{icon:E0,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:y.jsx(ie,{label:"User list (menu)"})}),y.jsxs(_k,{icon:go,label:y.jsx(ie,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/requirement/list"},{to:"/$locale/apps/derivean/root/building/base/$id/limit/list"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/$id/resource/list"}],children:[y.jsx(wn,{icon:Yo,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ie,{label:"Base building list (menu)"})}),y.jsx(wn,{icon:go,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ie,{label:"Building list (menu)"})})]}),y.jsx(wn,{icon:Xr,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:y.jsx(ie,{label:"Resource list (menu)"})}),y.jsx(_k,{icon:m6,label:y.jsx(ie,{label:"Settings (menu)"}),children:y.jsx(wn,{icon:Xm,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ie,{label:"Tag list (menu)"})})})]})},$y=be.object({id:be.string(),name:be.string(),login:be.string()}),dz=hr("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return $y.parse(th.get("session"))}catch{throw sy({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=Cn({from:"/$locale"}),{session:e}=eu({from:"/$locale/apps/derivean/root"});return y.jsx(QT,{logo:y.jsx(Gn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:y.jsx(eC,{})}),menu:y.jsx(cz,{}),actions:y.jsxs(y.Fragment,{children:[e.name,y.jsx(Gn,{icon:XT,to:"/$locale/apps/derivean/game",params:{locale:t}}),y.jsx(Gn,{icon:S0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),fz=bs({entity:gs.merge(be.object({userId:be.string().min(1),stamp:be.string().min(1)})),shape:be.object({}),filter:vs.merge(be.object({userId:be.string().optional()}))}),Gu=_s({name:"CycleSource",schema:fz,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Cycle as c").selectAll("c").leftJoin("User as u","u.id","c.userId");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("c.id","like",p),g("u.id","like",p)]))},u=d=>{d?.id&&(a=a.where("c.id","=",d.id)),d?.idIn&&(a=a.where("c.id","in",d.idIn)),d?.userId&&(a=a.where("c.userId","=",d.userId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Cycle")},patch$({tx:t}){return t.updateTable("Cycle")},delete$({tx:t}){return t.deleteFrom("Cycle")},map:{async toCreate({entity:t}){return{...t,stamp:Yt.utc().toSQLTime()}}}}),Wy=bs({entity:CM,shape:be.object({code:be.string().min(1),label:be.string().min(1),group:be.string().nullish(),sort:be.number()}),filter:vs.merge(be.object({code:be.string().optional(),group:be.string().optional()}))}),Nk=gs.merge(be.object({name:be.string().min(1)})),iu=bs({entity:Nk,output:Nk.merge(be.object({tagIds:be.array(be.string()),tags:be.array(Wy.output)})),shape:be.object({name:be.string().min(1),tagIds:be.array(be.string()).optional()}),filter:vs.merge(be.object({name:be.string().optional()}))}),kk=gs.merge(be.object({baseBuildingId:be.string().min(1),resourceId:be.string().min(1),limit:be.number().positive()})),zy=bs({entity:kk,output:kk.merge(be.object({resource:iu.output})),shape:be.object({resourceId:be.string().min(1),limit:be.union([be.number().positive(),be.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Jr.text("Limit must be a number")})])}),filter:vs.merge(be.object({resourceId:be.string().optional(),baseBuildingId:be.string().optional()}))}),Ok=gs.merge(be.object({baseBuildingId:be.string().min(1),resourceId:be.string().min(1),amount:be.number().positive(),passive:be.union([be.boolean(),be.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),Uy=bs({entity:Ok,output:Ok.merge(be.object({resource:iu.output})),shape:be.object({resourceId:be.string().min(1),amount:be.union([be.number().positive(),be.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Jr.text("Amount must be a number")})]),passive:be.boolean()}),filter:vs.merge(be.object({baseBuildingId:be.string().optional(),resourceId:be.string().optional(),passive:be.boolean().optional()}))}),Ik=gs.merge(be.object({name:be.string().min(1),preview:be.union([be.boolean(),be.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),cycles:be.number().int().positive(),limit:be.number().int().nonnegative()})),jc=bs({entity:Ik,output:Ik.merge(be.object({requirements:be.array(Uy.output),limits:be.array(zy.output)})),shape:be.object({name:be.string().min(1),preview:be.boolean(),cycles:be.union([be.number().int().positive(),be.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Jr.text("Cycles must be a number")})]),limit:be.union([be.number().int().nonnegative(),be.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Jr.text("Limit must be a number")})])}),filter:vs.merge(be.object({name:be.string().optional(),preview:be.boolean().optional()}))}),hz=bs({entity:gs.merge(be.object({resourceId:be.string().min(1),tagId:be.string().min(1)})),shape:be.object({resourceId:be.string().min(1),tagId:be.string().min(1)}),filter:vs.merge(be.object({resourceId:be.string().optional(),tagId:be.string().optional()}))}),Yd=_s({name:"ResourceTagSource",schema:hz,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Resource_Tag as rt").selectAll("rt").leftJoin("Resource as r","r.id","rt.resourceId").leftJoin("Tag as t","t.id","rt.tagId");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("rt.id","like",p),g("r.id","like",p),g("t.id","like",p),g("r.name","like",p),g("t.code","like",p),g("t.label","like",p),g("t.group","like",p)]))},u=d=>{d?.id&&(a=a.where("rt.id","=",d.id)),d?.idIn&&(a=a.where("rt.id","in",d.idIn)),d?.resourceId&&(a=a.where("rt.resourceId","=",d.resourceId)),d?.tagId&&(a=a.where("rt.tagId","=",d.tagId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Resource_Tag")},patch$({tx:t}){return t.updateTable("Resource_Tag")},delete$({tx:t}){return t.deleteFrom("Resource_Tag")}}),Bl=_s({name:"TagSource",schema:Wy,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Tag as t").selectAll("t");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("t.id","like",p),g("t.code","like",p),g("t.group","like",p),g("t.label","like",p)]))},u=d=>{d?.id&&(a=a.where("t.id","=",d.id)),d?.idIn&&(a=a.where("t.id","in",d.idIn)),d?.code&&(a=a.where("t.code","=",d.code)),d?.group&&(a=a.where("t.group","=",d.group)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Tag")},patch$({tx:t}){return t.updateTable("Tag")},delete$({tx:t}){return t.deleteFrom("Tag")}}),hs=_s({name:"ResourceSource",schema:iu,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Resource as r").selectAll("r");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("r.id","like",p),g("r.name","like",p)]))},u=d=>{d?.id&&(a=a.where("r.id","=",d.id)),d?.idIn&&(a=a.where("r.id","in",d.idIn)),d?.name&&(a=a.where("r.name","=",d.name)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Resource")},patch$({tx:t}){return t.updateTable("Resource")},delete$({tx:t}){return t.deleteFrom("Resource")},map:{async toOutput({tx:t,entity:e}){const r=(await Yd.list$({tx:t,where:{resourceId:e.id}})).map(({tagId:n})=>n);return{...e,tagIds:r,tags:await Bl.list$({tx:t,where:{idIn:r}})}}},event:{async onPostCreate({tx:t,entity:e,shape:r}){await Promise.all(r.tagIds?.forEach(async n=>Yd.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))||[])},async onPostPatch({tx:t,entity:e,shape:r}){Array.isArray(r.tagIds)&&(await t.deleteFrom("Resource_Tag").where("resourceId","=",e.id).execute(),await Promise.all(r.tagIds.map(async n=>Yd.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))))}}}),Xd=_s({name:"BaseBuildingLimitSource",schema:zy,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("BaseBuilding_Limit as bbl").selectAll("bbl").leftJoin("BaseBuilding as bb","bb.id","bbl.baseBuildingId").leftJoin("Resource as r","r.id","bbl.resourceId");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("bbl.id","like",p),g("bb.id","like",p),g("r.id","like",p),g("bb.name","like",p),g("r.name","like",p)]))},u=d=>{d?.id&&(a=a.where("bb.id","=",d.id)),d?.idIn&&(a=a.where("bb.id","in",d.idIn)),d?.resourceId&&(a=a.where("bbl.resourceId","=",d.resourceId)),d?.baseBuildingId&&(a=a.where("bbl.baseBuildingId","=",d.baseBuildingId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuilding_Limit")},patch$({tx:t}){return t.updateTable("BaseBuilding_Limit")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Limit")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await hs.getOrThrow$({tx:t,id:e.resourceId})}}}}),Ju=_s({name:"BaseBuildingRequirementSource",schema:Uy,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("BaseBuilding_Requirement as bbr").selectAll("bbr").leftJoin("BaseBuilding as bb","bb.id","bbr.baseBuildingId").leftJoin("Resource as r","r.id","bbr.resourceId");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("bbr.id","like",p),g("bb.id","like",p),g("r.id","like",p),g("bb.name","like",p),g("r.name","like",p)]))},u=d=>{d?.id&&(a=a.where("bbr.id","=",d.id)),d?.idIn&&(a=a.where("bbr.id","in",d.idIn)),d?.baseBuildingId&&(a=a.where("bbr.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(a=a.where("bbr.resourceId","=",d.resourceId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuilding_Requirement")},patch$({tx:t}){return t.updateTable("BaseBuilding_Requirement")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Requirement")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await hs.getOrThrow$({tx:t,id:e.resourceId})}}}}),oi=_s({name:"BaseBuildingSource",schema:jc,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("BaseBuilding as bb").selectAll("bb");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("bb.id","like",p),g("bb.name","like",p)]))},u=d=>{d?.id&&(a=a.where("bb.id","=",d.id)),d?.idIn&&(a=a.where("bb.id","in",d.idIn)),d?.name&&(a=a.where("bb.name","=",d.name)),d?.fulltext&&(a=l(d.fulltext)),d?.preview!==void 0&&(a=a.where("bb.preview","=",d.preview))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuilding")},patch$({tx:t}){return t.updateTable("BaseBuilding")},delete$({tx:t}){return t.deleteFrom("BaseBuilding")},map:{async toOutput({tx:t,entity:e}){return{...e,requirements:await Ju.list$({tx:t,where:{baseBuildingId:e.id}}),limits:await Xd.list$({tx:t,where:{baseBuildingId:e.id}})}}}}),Tk=gs.merge(be.object({userId:be.string().min(1),baseBuildingId:be.string().min(1)})),nh=bs({entity:Tk,output:Tk.merge(be.object({baseBuilding:jc.output})),shape:be.object({baseBuildingId:be.string().min(1)}),filter:vs.merge(be.object({userId:be.string().optional(),baseBuildingId:be.string().optional(),name:be.string().optional()}))}),Bs=_s({name:"BuildingSource",db:xn,schema:nh,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Building as b").selectAll("b").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("b.id","like",p),g("bb.id","like",p),g("bb.name","like",p)]))},u=d=>{d?.id&&(a=a.where("b.id","=",d.id)),d?.idIn&&(a=a.where("b.id","in",d.idIn)),d?.baseBuildingId&&(a=a.where("b.baseBuildingId","=",d.baseBuildingId)),d?.name&&(a=a.where("bb.name","=",d.name)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Building")},patch$({tx:t}){return t.updateTable("Building")},delete$({tx:t}){return t.deleteFrom("Building")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await oi.getOrThrow$({tx:t,id:e.baseBuildingId})}}}}),Ck=gs.merge(be.object({userId:be.string().min(1),baseBuildingId:be.string().min(1),start:be.number().nonnegative(),current:be.number().nonnegative(),finish:be.number().nonnegative()})),tC=bs({entity:Ck,output:Ck.merge(be.object({baseBuilding:jc.output})),shape:be.object({baseBuildingId:be.string().min(1),start:be.number().nonnegative(),current:be.number().nonnegative(),finish:be.number().nonnegative()}),filter:vs.merge(be.object({userId:be.string().optional(),baseBuildingId:be.string().optional(),finishGte:be.number().optional()}))}),zo=_s({name:"BuildingQueueSource",schema:tC,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("BuildingQueue as bq").selectAll("bq");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("bq.id","like",p)]))},u=d=>{d?.id&&(a=a.where("bq.id","=",d.id)),d?.idIn&&(a=a.where("bq.id","in",d.idIn)),d?.userId&&(a=a.where("bq.userId","=",d.userId)),d?.baseBuildingId&&(a=a.where("bq.baseBuildingId","=",d.baseBuildingId)),d?.finishGte&&(a=a.where("bq.finish","<=",d.finishGte)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BuildingQueue")},patch$({tx:t}){return t.updateTable("BuildingQueue")},delete$({tx:t}){return t.deleteFrom("BuildingQueue")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await oi.getOrThrow$({tx:t,id:e.baseBuildingId,error:"Cannot find base building for building queue"})}}}}),pz=({userId:t})=>{const e=ll({sources:[Gu,zo,Bs]});return el({mutationKey:["useCycleMutation"],async mutationFn(){return Gu.db.transaction().execute(async r=>{await Gu.create$({tx:r,shape:{},entity:{userId:t}});const{filter:n}=await Gu.count$({tx:r,where:{userId:t}});await (async()=>{const a=await zo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t}});for await(const u of a)await zo.patch$({tx:r,entity:{current:u.current+1},shape:{current:u.current+1},where:{id:u.id}});const l=await zo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t,finishGte:n}});for await(const u of l)await Bs.create$({tx:r,shape:{baseBuildingId:u.baseBuildingId},entity:{baseBuildingId:u.baseBuildingId,userId:t}}),await zo.delete$({tx:r,where:{id:u.id}})})()})},async onSuccess(){await e()}})},cw="icon-[iconamoon--clock-thin]",mz=({userId:t,...e})=>{const r=pz({userId:t}),n=$6({source:Gu,where:{userId:t}});return y.jsxs(kn,{iconEnabled:cw,iconDisabled:cw,onClick:async()=>_r.promise(r.mutateAsync(),{loading:Jr.text("Running cycle (toast)"),success:Jr.text("Cycle success (toast)"),error:Jr.text("Cycle failed (toast)")}),disabled:r.isPending,loading:n.isLoading,...e,children:[y.jsx(ie,{label:"New cycle (label)"}),n.isSuccess?` (${ms({number:n.data.filter})})`:""]})},yz="icon-[emojione-monotone--construction]",Rf="icon-[mingcute--inventory-line]",gz=t=>{const{locale:e}=Cn({from:"/$locale"});return y.jsxs(rh,{...t,children:[y.jsx(wn,{icon:Yo,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:y.jsx(ie,{label:"Building build list (label)"})}),y.jsx(wn,{icon:go,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:y.jsx(ie,{label:"Building list (label)"})}),y.jsx(wn,{icon:yz,to:"/$locale/apps/derivean/game/building/queue/list",params:{locale:e},children:y.jsx(ie,{label:"Building queue list (label)"})}),y.jsx(wn,{icon:Xr,to:"/$locale/apps/derivean/game/building/resource/list",params:{locale:e},children:y.jsx(ie,{label:"Resource list (menu)"})}),y.jsx(wn,{icon:Rf,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:y.jsx(ie,{label:"Inventory (menu)"})})]})},qk=gs.merge(be.object({userId:be.string().min(1),resourceId:be.string().min(1),amount:be.number().nonnegative()})),Vy=bs({entity:qk,output:qk.merge(be.object({resource:iu.output})),shape:be.object({resourceId:be.string().min(1),amount:be.union([be.number().nonnegative(),be.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Jr.text("Amount must be a number")})])}),filter:vs.merge(be.object({userId:be.string().optional(),resourceId:be.string().optional()}))}),ps=_s({name:"InventorySource",db:xn,schema:Vy,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Inventory as i").selectAll("i").leftJoin("Resource as r","r.id","i.resourceId");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("i.id","like",p),g("r.id","like",p),g("r.name","like",p)]))},u=d=>{d?.id&&(a=a.where("i.id","=",d.id)),d?.idIn&&(a=a.where("i.id","in",d.idIn)),d?.resourceId&&(a=a.where("i.resourceId","=",d.resourceId)),d?.userId&&(a=a.where("i.userId","=",d.userId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Inventory")},patch$({tx:t}){return t.updateTable("Inventory")},delete$({tx:t}){return t.deleteFrom("Inventory")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await hs.getOrThrow$({tx:t,id:e.resourceId})}}}}),vz=hr("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return $y.parse(th.get("session"))}catch{throw sy({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{kysely:t,session:e}}){const r=await e();return t.transaction().execute(async n=>({session:r,inventory:await ps.list$({tx:n,where:{userId:r.id}})}))},component:()=>{const{locale:t}=Cn({from:"/$locale"}),{session:e}=eu({from:"/$locale/apps/derivean/game"}),r=SR({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(n){return n.state.status}});return y.jsx(QT,{logo:y.jsx(Gn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:y.jsx(eC,{})}),menu:y.jsxs("div",{className:"flex flex-row items-center gap-4",children:[y.jsx(gz,{}),y.jsx(mz,{userId:e.id})]}),actions:y.jsxs(y.Fragment,{children:[e.name,y.jsx(Gn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),y.jsx(Gn,{icon:S0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:y.jsx(tl,{})})}}),_z=async t=>{const e={castle:Kt(),storage:Kt(),resource:{wood:Kt(),plank:Kt(),stone:Kt(),sand:Kt(),glass:Kt(),coal:Kt(),flour:Kt(),dressedStone:Kt(),gold:Kt(),silver:Kt(),coin:Kt(),storageBlueprint:Kt(),castleBlueprint:Kt()},tag:{material:Kt(),product:Kt(),food:Kt(),valuables:Kt(),blueprint:Kt()}};try{await t.insertInto("BaseBuilding").values([{id:e.castle,name:"Castle",preview:!0,cycles:5,limit:0},{id:e.storage,name:"Storage",preview:!0,cycles:1,limit:0}]).execute()}catch{}try{await t.insertInto("Tag").values([{id:e.tag.material,code:"material",label:"Material",sort:0,group:"resource"},{id:e.tag.valuables,code:"valuables",label:"Valuables",sort:0,group:"resource"},{id:e.tag.blueprint,code:"blueprint",label:"Blueprint",sort:1,group:"resource"},{id:e.tag.product,code:"product",label:"Product",sort:1,group:"resource"}]).execute()}catch{}try{await t.insertInto("Resource").values([{id:e.resource.coal,name:"Coal"},{id:e.resource.flour,name:"Flour"},{id:e.resource.sand,name:"Sand"},{id:e.resource.glass,name:"Glass"},{id:e.resource.wood,name:"Wood"},{id:e.resource.plank,name:"Plank"},{id:e.resource.stone,name:"Stone"},{id:e.resource.dressedStone,name:"Dressed Stone"},{id:e.resource.silver,name:"Silver"},{id:e.resource.gold,name:"Gold"},{id:e.resource.coin,name:"Coin"},{id:e.resource.storageBlueprint,name:"Storage - Blueprint"},{id:e.resource.castleBlueprint,name:"Castle - Blueprint"}]).execute()}catch{}try{await t.insertInto("Resource_Tag").values([{id:Kt(),resourceId:e.resource.stone,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.flour,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.coal,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.sand,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.glass,tagId:e.tag.product},{id:Kt(),resourceId:e.resource.plank,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.dressedStone,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.wood,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.storageBlueprint,tagId:e.tag.blueprint},{id:Kt(),resourceId:e.resource.castleBlueprint,tagId:e.tag.blueprint},{id:Kt(),resourceId:e.resource.coin,tagId:e.tag.valuables},{id:Kt(),resourceId:e.resource.gold,tagId:e.tag.valuables},{id:Kt(),resourceId:e.resource.silver,tagId:e.tag.valuables}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Requirement").values([{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.stone,passive:!1,amount:3},{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.wood,passive:!1,amount:5},{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.storageBlueprint,passive:!0,amount:1},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.stone,passive:!1,amount:10},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.dressedStone,passive:!1,amount:25},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.wood,passive:!1,amount:25},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.plank,passive:!1,amount:50},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.coin,passive:!1,amount:2e3},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.gold,passive:!1,amount:25},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.castleBlueprint,passive:!0,amount:1}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Limit").values([{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.stone,limit:100},{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.wood,limit:150},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.stone,limit:25},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.wood,limit:50}]).execute()}catch{}},bz=hr("/$locale/apps/derivean/root/")({component(){const t=el({mutationKey:["base-game"],async mutationFn(){return _r.promise(_z(xn),{success:Jr.text("Base game installed (toast)"),error:Jr.text("Base game installation failed (toast)"),loading:Jr.text("Installing base game (toast)")})}});return y.jsx("div",{className:"flex items-center justify-center mt-10",children:y.jsx(kn,{iconEnabled:XT,loading:t.isPending,onClick:()=>t.mutate(),children:y.jsx(ie,{label:"Install base game (label)"})})})}}),wz=hr("/$locale/apps/derivean/game/")({component:()=>y.jsx("div",{children:"game dashboard here :)"})});var ih=t=>t.type==="checkbox",$l=t=>t instanceof Date,ri=t=>t==null;const rC=t=>typeof t=="object";var hn=t=>!ri(t)&&!Array.isArray(t)&&rC(t)&&!$l(t),nC=t=>hn(t)&&t.target?ih(t.target)?t.target.checked:t.target.value:t,xz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iC=(t,e)=>t.has(xz(e)),Sz=t=>{const e=t.constructor&&t.constructor.prototype;return hn(e)&&e.hasOwnProperty("isPrototypeOf")},q0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wi(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(q0&&(t instanceof Blob||n))&&(r||hn(t)))if(e=r?[]:{},!r&&!Sz(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=wi(t[s]));else return t;return e}var Hy=t=>Array.isArray(t)?t.filter(Boolean):[],on=t=>t===void 0,pt=(t,e,r)=>{if(!e||!hn(t))return r;const n=Hy(e.split(/[,[\].]+?/)).reduce((s,a)=>ri(s)?s:s[a],t);return on(n)||n===t?on(t[e])?r:t[e]:n},Bi=t=>typeof t=="boolean",R0=t=>/^\w*$/.test(t),sC=t=>Hy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),kr=(t,e,r)=>{let n=-1;const s=R0(e)?[e]:sC(e),a=s.length,l=a-1;for(;++n<a;){const u=s[n];let d=r;if(n!==l){const p=t[u];d=hn(p)||Array.isArray(p)?p:isNaN(+s[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}return t};const ey={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ez=Tr.createContext(null),A0=()=>Tr.useContext(Ez);var oC=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const l=a;return e._proxyFormState[l]!==Ls.all&&(e._proxyFormState[l]=!n||Ls.all),r&&(r[l]=!0),t[l]}});return s},xi=t=>hn(t)&&!Object.keys(t).length,aC=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return xi(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!n||Ls.all))},ef=t=>Array.isArray(t)?t:[t],lC=(t,e,r)=>!t||!e||t===e||ef(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function P0(t){const e=Tr.useRef(t);e.current=t,Tr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Nz(t){const e=A0(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[l,u]=Tr.useState(r._formState),d=Tr.useRef(!0),p=Tr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=Tr.useRef(s);return g.current=s,P0({disabled:n,next:w=>d.current&&lC(g.current,w.name,a)&&aC(w,p.current,r._updateFormState)&&u({...r._formState,...w}),subject:r._subjects.state}),Tr.useEffect(()=>(d.current=!0,p.current.isValid&&r._updateValid(!0),()=>{d.current=!1}),[r]),Tr.useMemo(()=>oC(l,r,p.current,!1),[l,r])}var lo=t=>typeof t=="string",uC=(t,e,r,n,s)=>lo(t)?(n&&e.watch.add(t),pt(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),pt(r,a))):(n&&(e.watchAll=!0),r);function kz(t){const e=A0(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:l}=t||{},u=Tr.useRef(n);u.current=n,P0({disabled:a,subject:r._subjects.values,next:g=>{lC(u.current,g.name,l)&&p(wi(uC(u.current,r._names,g.values||r._formValues,!1,s)))}});const[d,p]=Tr.useState(r._getWatch(n,s));return Tr.useEffect(()=>r._removeUnmounted()),d}function Oz(t){const e=A0(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a}=t,l=iC(s._names.array,r),u=kz({control:s,name:r,defaultValue:pt(s._formValues,r,pt(s._defaultValues,r,t.defaultValue)),exact:!0}),d=Nz({control:s,name:r,exact:!0}),p=Tr.useRef(s.register(r,{...t.rules,value:u,...Bi(t.disabled)?{disabled:t.disabled}:{}})),g=Tr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!pt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!pt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!pt(d.validatingFields,r)},error:{enumerable:!0,get:()=>pt(d.errors,r)}}),[d,r]),w=Tr.useMemo(()=>({name:r,value:u,...Bi(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:N=>p.current.onChange({target:{value:nC(N),name:r},type:ey.CHANGE}),onBlur:()=>p.current.onBlur({target:{value:pt(s._formValues,r),name:r},type:ey.BLUR}),ref:N=>{const k=pt(s._fields,r);k&&N&&(k._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:I=>N.setCustomValidity(I),reportValidity:()=>N.reportValidity()})}}),[r,s._formValues,n,d.disabled,u,s._fields]);return Tr.useEffect(()=>{const N=s._options.shouldUnregister||a,k=(I,T)=>{const A=pt(s._fields,I);A&&A._f&&(A._f.mount=T)};if(k(r,!0),N){const I=wi(pt(s._options.defaultValues,r));kr(s._defaultValues,r,I),on(pt(s._formValues,r))&&kr(s._formValues,r,I)}return()=>{(l?N&&!s._state.action:N)?s.unregister(r):k(r,!1)}},[r,s,l,a]),Tr.useEffect(()=>{Bi(n)&&pt(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:pt(s._fields,r)._f.value})},[n,r,s]),Tr.useMemo(()=>({field:w,formState:d,fieldState:g}),[w,d,g])}const Ya=t=>t.render(Oz(t));var cC=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Rk=t=>({isOnSubmit:!t||t===Ls.onSubmit,isOnBlur:t===Ls.onBlur,isOnChange:t===Ls.onChange,isOnAll:t===Ls.all,isOnTouch:t===Ls.onTouched}),Ak=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const tf=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=pt(t,s);if(a){const{_f:l,...u}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(tf(u,e))break}else if(hn(u)&&tf(u,e))break}}};var Iz=(t,e,r)=>{const n=ef(pt(t,r));return kr(n,"root",e[r]),kr(t,r,n),t},F0=t=>t.type==="file",oo=t=>typeof t=="function",ty=t=>{if(!q0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},nm=t=>lo(t),L0=t=>t.type==="radio",ry=t=>t instanceof RegExp;const Pk={value:!1,isValid:!1},Fk={value:!0,isValid:!0};var dC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!on(t[0].attributes.value)?on(t[0].value)||t[0].value===""?Fk:{value:t[0].value,isValid:!0}:Fk:Pk}return Pk};const Lk={isValid:!1,value:null};var fC=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Lk):Lk;function jk(t,e,r="validate"){if(nm(t)||Array.isArray(t)&&t.every(nm)||Bi(t)&&!t)return{type:r,message:nm(t)?t:"",ref:e}}var ju=t=>hn(t)&&!ry(t)?t:{value:t,message:""},Dk=async(t,e,r,n,s)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:p,min:g,max:w,pattern:N,validate:k,name:I,valueAsNumber:T,mount:A,disabled:D}=t._f,L=pt(e,I);if(!A||D)return{};const $=l?l[0]:a,V=se=>{n&&$.reportValidity&&($.setCustomValidity(Bi(se)?"":se||""),$.reportValidity())},K={},B=L0(a),J=ih(a),ne=B||J,U=(T||F0(a))&&on(a.value)&&on(L)||ty(a)&&a.value===""||L===""||Array.isArray(L)&&!L.length,re=cC.bind(null,I,r,K),M=(se,Z,pe,Ce=jo.maxLength,Te=jo.minLength)=>{const Fe=se?Z:pe;K[I]={type:se?Ce:Te,message:Fe,ref:a,...re(se?Ce:Te,Fe)}};if(s?!Array.isArray(L)||!L.length:u&&(!ne&&(U||ri(L))||Bi(L)&&!L||J&&!dC(l).isValid||B&&!fC(l).isValid)){const{value:se,message:Z}=nm(u)?{value:!!u,message:u}:ju(u);if(se&&(K[I]={type:jo.required,message:Z,ref:$,...re(jo.required,Z)},!r))return V(Z),K}if(!U&&(!ri(g)||!ri(w))){let se,Z;const pe=ju(w),Ce=ju(g);if(!ri(L)&&!isNaN(L)){const Te=a.valueAsNumber||L&&+L;ri(pe.value)||(se=Te>pe.value),ri(Ce.value)||(Z=Te<Ce.value)}else{const Te=a.valueAsDate||new Date(L),Fe=Ne=>new Date(new Date().toDateString()+" "+Ne),ve=a.type=="time",me=a.type=="week";lo(pe.value)&&L&&(se=ve?Fe(L)>Fe(pe.value):me?L>pe.value:Te>new Date(pe.value)),lo(Ce.value)&&L&&(Z=ve?Fe(L)<Fe(Ce.value):me?L<Ce.value:Te<new Date(Ce.value))}if((se||Z)&&(M(!!se,pe.message,Ce.message,jo.max,jo.min),!r))return V(K[I].message),K}if((d||p)&&!U&&(lo(L)||s&&Array.isArray(L))){const se=ju(d),Z=ju(p),pe=!ri(se.value)&&L.length>+se.value,Ce=!ri(Z.value)&&L.length<+Z.value;if((pe||Ce)&&(M(pe,se.message,Z.message),!r))return V(K[I].message),K}if(N&&!U&&lo(L)){const{value:se,message:Z}=ju(N);if(ry(se)&&!L.match(se)&&(K[I]={type:jo.pattern,message:Z,ref:a,...re(jo.pattern,Z)},!r))return V(Z),K}if(k){if(oo(k)){const se=await k(L,e),Z=jk(se,$);if(Z&&(K[I]={...Z,...re(jo.validate,Z.message)},!r))return V(Z.message),K}else if(hn(k)){let se={};for(const Z in k){if(!xi(se)&&!r)break;const pe=jk(await k[Z](L,e),$,Z);pe&&(se={...pe,...re(Z,pe.message)},V(pe.message),r&&(K[I]=se))}if(!xi(se)&&(K[I]={ref:$,...se},!r))return K}}return V(!0),K};function Tz(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=on(t)?n++:t[e[n++]];return t}function Cz(t){for(const e in t)if(t.hasOwnProperty(e)&&!on(t[e]))return!1;return!0}function Nn(t,e){const r=Array.isArray(e)?e:R0(e)?[e]:sC(e),n=r.length===1?t:Tz(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(hn(n)&&xi(n)||Array.isArray(n)&&Cz(n))&&Nn(t,r.slice(0,-1)),t}var lb=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}},dw=t=>ri(t)||!rC(t);function Aa(t,e){if(dw(t)||dw(e))return t===e;if($l(t)&&$l(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const a=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const l=e[s];if($l(a)&&$l(l)||hn(a)&&hn(l)||Array.isArray(a)&&Array.isArray(l)?!Aa(a,l):a!==l)return!1}}return!0}var hC=t=>t.type==="select-multiple",qz=t=>L0(t)||ih(t),ub=t=>ty(t)&&t.isConnected,pC=t=>{for(const e in t)if(oo(t[e]))return!0;return!1};function ny(t,e={}){const r=Array.isArray(t);if(hn(t)||r)for(const n in t)Array.isArray(t[n])||hn(t[n])&&!pC(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ny(t[n],e[n])):ri(t[n])||(e[n]=!0);return e}function mC(t,e,r){const n=Array.isArray(t);if(hn(t)||n)for(const s in t)Array.isArray(t[s])||hn(t[s])&&!pC(t[s])?on(e)||dw(r[s])?r[s]=Array.isArray(t[s])?ny(t[s],[]):{...ny(t[s])}:mC(t[s],ri(e)?{}:e[s],r[s]):r[s]=!Aa(t[s],e[s]);return r}var Cd=(t,e)=>mC(t,e,ny(e)),yC=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>on(t)?t:e?t===""?NaN:t&&+t:r&&lo(t)?new Date(t):n?n(t):t;function cb(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return F0(e)?e.files:L0(e)?fC(t.refs).value:hC(e)?[...e.selectedOptions].map(({value:r})=>r):ih(e)?dC(t.refs).value:yC(on(e.value)?t.ref.value:e.value,t)}var Rz=(t,e,r,n)=>{const s={};for(const a of t){const l=pt(e,a);l&&kr(s,a,l._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},qd=t=>on(t)?t:ry(t)?t.source:hn(t)?ry(t.value)?t.value.source:t.value:t;const Mk="AsyncFunction";var Az=t=>!!t&&!!t.validate&&!!(oo(t.validate)&&t.validate.constructor.name===Mk||hn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Mk)),Pz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Bk(t,e,r){const n=pt(t,r);if(n||R0(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),l=pt(e,a),u=pt(t,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(u&&u.type)return{name:a,error:u};s.pop()}return{name:r}}var Fz=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,Lz=(t,e)=>!Hy(pt(t,e)).length&&Nn(t,e);const jz={mode:Ls.onSubmit,reValidateMode:Ls.onChange,shouldFocusError:!0};function Dz(t={}){let e={...jz,...t},r={submitCount:0,isDirty:!1,isLoading:oo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=hn(e.defaultValues)||hn(e.values)?wi(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:wi(s),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:lb(),array:lb(),state:lb()},N=Rk(e.mode),k=Rk(e.reValidateMode),I=e.criteriaMode===Ls.all,T=ae=>ue=>{clearTimeout(p),p=setTimeout(ae,ue)},A=async ae=>{if(!e.disabled&&(g.isValid||ae)){const ue=e.resolver?xi((await ne()).errors):await re(n,!0);ue!==r.isValid&&w.state.next({isValid:ue})}},D=(ae,ue)=>{!e.disabled&&(g.isValidating||g.validatingFields)&&((ae||Array.from(u.mount)).forEach(ye=>{ye&&(ue?kr(r.validatingFields,ye,ue):Nn(r.validatingFields,ye))}),w.state.next({validatingFields:r.validatingFields,isValidating:!xi(r.validatingFields)}))},L=(ae,ue=[],ye,qe,De=!0,Ge=!0)=>{if(qe&&ye&&!e.disabled){if(l.action=!0,Ge&&Array.isArray(pt(n,ae))){const _t=ye(pt(n,ae),qe.argA,qe.argB);De&&kr(n,ae,_t)}if(Ge&&Array.isArray(pt(r.errors,ae))){const _t=ye(pt(r.errors,ae),qe.argA,qe.argB);De&&kr(r.errors,ae,_t),Lz(r.errors,ae)}if(g.touchedFields&&Ge&&Array.isArray(pt(r.touchedFields,ae))){const _t=ye(pt(r.touchedFields,ae),qe.argA,qe.argB);De&&kr(r.touchedFields,ae,_t)}g.dirtyFields&&(r.dirtyFields=Cd(s,a)),w.state.next({name:ae,isDirty:se(ae,ue),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else kr(a,ae,ue)},$=(ae,ue)=>{kr(r.errors,ae,ue),w.state.next({errors:r.errors})},V=ae=>{r.errors=ae,w.state.next({errors:r.errors,isValid:!1})},K=(ae,ue,ye,qe)=>{const De=pt(n,ae);if(De){const Ge=pt(a,ae,on(ye)?pt(s,ae):ye);on(Ge)||qe&&qe.defaultChecked||ue?kr(a,ae,ue?Ge:cb(De._f)):Ce(ae,Ge),l.mount&&A()}},B=(ae,ue,ye,qe,De)=>{let Ge=!1,_t=!1;const Bt={name:ae};if(!e.disabled){const xr=!!(pt(n,ae)&&pt(n,ae)._f&&pt(n,ae)._f.disabled);if(!ye||qe){g.isDirty&&(_t=r.isDirty,r.isDirty=Bt.isDirty=se(),Ge=_t!==Bt.isDirty);const mr=xr||Aa(pt(s,ae),ue);_t=!!(!xr&&pt(r.dirtyFields,ae)),mr||xr?Nn(r.dirtyFields,ae):kr(r.dirtyFields,ae,!0),Bt.dirtyFields=r.dirtyFields,Ge=Ge||g.dirtyFields&&_t!==!mr}if(ye){const mr=pt(r.touchedFields,ae);mr||(kr(r.touchedFields,ae,ye),Bt.touchedFields=r.touchedFields,Ge=Ge||g.touchedFields&&mr!==ye)}Ge&&De&&w.state.next(Bt)}return Ge?Bt:{}},J=(ae,ue,ye,qe)=>{const De=pt(r.errors,ae),Ge=g.isValid&&Bi(ue)&&r.isValid!==ue;if(e.delayError&&ye?(d=T(()=>$(ae,ye)),d(e.delayError)):(clearTimeout(p),d=null,ye?kr(r.errors,ae,ye):Nn(r.errors,ae)),(ye?!Aa(De,ye):De)||!xi(qe)||Ge){const _t={...qe,...Ge&&Bi(ue)?{isValid:ue}:{},errors:r.errors,name:ae};r={...r,..._t},w.state.next(_t)}},ne=async ae=>{D(ae,!0);const ue=await e.resolver(a,e.context,Rz(ae||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return D(ae),ue},U=async ae=>{const{errors:ue}=await ne(ae);if(ae)for(const ye of ae){const qe=pt(ue,ye);qe?kr(r.errors,ye,qe):Nn(r.errors,ye)}else r.errors=ue;return ue},re=async(ae,ue,ye={valid:!0})=>{for(const qe in ae){const De=ae[qe];if(De){const{_f:Ge,..._t}=De;if(Ge){const Bt=u.array.has(Ge.name),xr=De._f&&Az(De._f);xr&&g.validatingFields&&D([qe],!0);const mr=await Dk(De,a,I,e.shouldUseNativeValidation&&!ue,Bt);if(xr&&g.validatingFields&&D([qe]),mr[Ge.name]&&(ye.valid=!1,ue))break;!ue&&(pt(mr,Ge.name)?Bt?Iz(r.errors,mr,Ge.name):kr(r.errors,Ge.name,mr[Ge.name]):Nn(r.errors,Ge.name))}!xi(_t)&&await re(_t,ue,ye)}}return ye.valid},M=()=>{for(const ae of u.unMount){const ue=pt(n,ae);ue&&(ue._f.refs?ue._f.refs.every(ye=>!ub(ye)):!ub(ue._f.ref))&&mt(ae)}u.unMount=new Set},se=(ae,ue)=>!e.disabled&&(ae&&ue&&kr(a,ae,ue),!Aa(H(),s)),Z=(ae,ue,ye)=>uC(ae,u,{...l.mount?a:on(ue)?s:lo(ae)?{[ae]:ue}:ue},ye,ue),pe=ae=>Hy(pt(l.mount?a:s,ae,e.shouldUnregister?pt(s,ae,[]):[])),Ce=(ae,ue,ye={})=>{const qe=pt(n,ae);let De=ue;if(qe){const Ge=qe._f;Ge&&(!Ge.disabled&&kr(a,ae,yC(ue,Ge)),De=ty(Ge.ref)&&ri(ue)?"":ue,hC(Ge.ref)?[...Ge.ref.options].forEach(_t=>_t.selected=De.includes(_t.value)):Ge.refs?ih(Ge.ref)?Ge.refs.length>1?Ge.refs.forEach(_t=>(!_t.defaultChecked||!_t.disabled)&&(_t.checked=Array.isArray(De)?!!De.find(Bt=>Bt===_t.value):De===_t.value)):Ge.refs[0]&&(Ge.refs[0].checked=!!De):Ge.refs.forEach(_t=>_t.checked=_t.value===De):F0(Ge.ref)?Ge.ref.value="":(Ge.ref.value=De,Ge.ref.type||w.values.next({name:ae,values:{...a}})))}(ye.shouldDirty||ye.shouldTouch)&&B(ae,De,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Ne(ae)},Te=(ae,ue,ye)=>{for(const qe in ue){const De=ue[qe],Ge=`${ae}.${qe}`,_t=pt(n,Ge);(u.array.has(ae)||hn(De)||_t&&!_t._f)&&!$l(De)?Te(Ge,De,ye):Ce(Ge,De,ye)}},Fe=(ae,ue,ye={})=>{const qe=pt(n,ae),De=u.array.has(ae),Ge=wi(ue);kr(a,ae,Ge),De?(w.array.next({name:ae,values:{...a}}),(g.isDirty||g.dirtyFields)&&ye.shouldDirty&&w.state.next({name:ae,dirtyFields:Cd(s,a),isDirty:se(ae,Ge)})):qe&&!qe._f&&!ri(Ge)?Te(ae,Ge,ye):Ce(ae,Ge,ye),Ak(ae,u)&&w.state.next({...r}),w.values.next({name:l.mount?ae:void 0,values:{...a}})},ve=async ae=>{l.mount=!0;const ue=ae.target;let ye=ue.name,qe=!0;const De=pt(n,ye),Ge=()=>ue.type?cb(De._f):nC(ae),_t=Bt=>{qe=Number.isNaN(Bt)||$l(Bt)&&isNaN(Bt.getTime())||Aa(Bt,pt(a,ye,Bt))};if(De){let Bt,xr;const mr=Ge(),jr=ae.type===ey.BLUR||ae.type===ey.FOCUS_OUT,Yn=!Pz(De._f)&&!e.resolver&&!pt(r.errors,ye)&&!De._f.deps||Fz(jr,pt(r.touchedFields,ye),r.isSubmitted,k,N),an=Ak(ye,u,jr);kr(a,ye,mr),jr?(De._f.onBlur&&De._f.onBlur(ae),d&&d(0)):De._f.onChange&&De._f.onChange(ae);const fi=B(ye,mr,jr,!1),xo=!xi(fi)||an;if(!jr&&w.values.next({name:ye,type:ae.type,values:{...a}}),Yn)return g.isValid&&(e.mode==="onBlur"?jr&&A():A()),xo&&w.state.next({name:ye,...an?{}:fi});if(!jr&&an&&w.state.next({...r}),e.resolver){const{errors:qn}=await ne([ye]);if(_t(mr),qe){const Vt=Bk(r.errors,n,ye),ta=Bk(qn,n,Vt.name||ye);Bt=ta.error,ye=ta.name,xr=xi(qn)}}else D([ye],!0),Bt=(await Dk(De,a,I,e.shouldUseNativeValidation))[ye],D([ye]),_t(mr),qe&&(Bt?xr=!1:g.isValid&&(xr=await re(n,!0)));qe&&(De._f.deps&&Ne(De._f.deps),J(ye,xr,Bt,fi))}},me=(ae,ue)=>{if(pt(r.errors,ue)&&ae.focus)return ae.focus(),1},Ne=async(ae,ue={})=>{let ye,qe;const De=ef(ae);if(e.resolver){const Ge=await U(on(ae)?ae:De);ye=xi(Ge),qe=ae?!De.some(_t=>pt(Ge,_t)):ye}else ae?(qe=(await Promise.all(De.map(async Ge=>{const _t=pt(n,Ge);return await re(_t&&_t._f?{[Ge]:_t}:_t)}))).every(Boolean),!(!qe&&!r.isValid)&&A()):qe=ye=await re(n);return w.state.next({...!lo(ae)||g.isValid&&ye!==r.isValid?{}:{name:ae},...e.resolver||!ae?{isValid:ye}:{},errors:r.errors}),ue.shouldFocus&&!qe&&tf(n,me,ae?De:u.mount),qe},H=ae=>{const ue={...l.mount?a:s};return on(ae)?ue:lo(ae)?pt(ue,ae):ae.map(ye=>pt(ue,ye))},Se=(ae,ue)=>({invalid:!!pt((ue||r).errors,ae),isDirty:!!pt((ue||r).dirtyFields,ae),error:pt((ue||r).errors,ae),isValidating:!!pt(r.validatingFields,ae),isTouched:!!pt((ue||r).touchedFields,ae)}),lt=ae=>{ae&&ef(ae).forEach(ue=>Nn(r.errors,ue)),w.state.next({errors:ae?r.errors:{}})},at=(ae,ue,ye)=>{const qe=(pt(n,ae,{_f:{}})._f||{}).ref,De=pt(r.errors,ae)||{},{ref:Ge,message:_t,type:Bt,...xr}=De;kr(r.errors,ae,{...xr,...ue,ref:qe}),w.state.next({name:ae,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&qe&&qe.focus&&qe.focus()},dt=(ae,ue)=>oo(ae)?w.values.subscribe({next:ye=>ae(Z(void 0,ue),ye)}):Z(ae,ue,!0),mt=(ae,ue={})=>{for(const ye of ae?ef(ae):u.mount)u.mount.delete(ye),u.array.delete(ye),ue.keepValue||(Nn(n,ye),Nn(a,ye)),!ue.keepError&&Nn(r.errors,ye),!ue.keepDirty&&Nn(r.dirtyFields,ye),!ue.keepTouched&&Nn(r.touchedFields,ye),!ue.keepIsValidating&&Nn(r.validatingFields,ye),!e.shouldUnregister&&!ue.keepDefaultValue&&Nn(s,ye);w.values.next({values:{...a}}),w.state.next({...r,...ue.keepDirty?{isDirty:se()}:{}}),!ue.keepIsValid&&A()},ft=({disabled:ae,name:ue,field:ye,fields:qe,value:De})=>{if(Bi(ae)&&l.mount||ae){const Ge=ae?void 0:on(De)?cb(ye?ye._f:pt(qe,ue)._f):De;(ae||!ae&&!on(Ge))&&kr(a,ue,Ge),B(ue,Ge,!1,!1,!0)}},gt=(ae,ue={})=>{let ye=pt(n,ae);const qe=Bi(ue.disabled)||Bi(e.disabled);return kr(n,ae,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:ae}},name:ae,mount:!0,...ue}}),u.mount.add(ae),ye?ft({field:ye,disabled:Bi(ue.disabled)?ue.disabled:e.disabled,name:ae,value:ue.value}):K(ae,!0,ue.value),{...qe?{disabled:ue.disabled||e.disabled}:{},...e.progressive?{required:!!ue.required,min:qd(ue.min),max:qd(ue.max),minLength:qd(ue.minLength),maxLength:qd(ue.maxLength),pattern:qd(ue.pattern)}:{},name:ae,onChange:ve,onBlur:ve,ref:De=>{if(De){gt(ae,ue),ye=pt(n,ae);const Ge=on(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,_t=qz(Ge),Bt=ye._f.refs||[];if(_t?Bt.find(xr=>xr===Ge):Ge===ye._f.ref)return;kr(n,ae,{_f:{...ye._f,..._t?{refs:[...Bt.filter(ub),Ge,...Array.isArray(pt(s,ae))?[{}]:[]],ref:{type:Ge.type,name:ae}}:{ref:Ge}}}),K(ae,!1,void 0,Ge)}else ye=pt(n,ae,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||ue.shouldUnregister)&&!(iC(u.array,ae)&&l.action)&&u.unMount.add(ae)}}},Pt=()=>e.shouldFocusError&&tf(n,me,u.mount),vt=ae=>{Bi(ae)&&(w.state.next({disabled:ae}),tf(n,(ue,ye)=>{const qe=pt(n,ye);qe&&(ue.disabled=qe._f.disabled||ae,Array.isArray(qe._f.refs)&&qe._f.refs.forEach(De=>{De.disabled=qe._f.disabled||ae}))},0,!1))},yt=(ae,ue)=>async ye=>{let qe;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){ue&&await ue({...r.errors},ye);return}let De=wi(a);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:Ge,values:_t}=await ne();r.errors=Ge,De=_t}else await re(n);if(Nn(r.errors,"root"),xi(r.errors)){w.state.next({errors:{}});try{await ae(De,ye)}catch(Ge){qe=Ge}}else ue&&await ue({...r.errors},ye),Pt(),setTimeout(Pt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xi(r.errors)&&!qe,submitCount:r.submitCount+1,errors:r.errors}),qe)throw qe},Ct=(ae,ue={})=>{pt(n,ae)&&(on(ue.defaultValue)?Fe(ae,wi(pt(s,ae))):(Fe(ae,ue.defaultValue),kr(s,ae,wi(ue.defaultValue))),ue.keepTouched||Nn(r.touchedFields,ae),ue.keepDirty||(Nn(r.dirtyFields,ae),r.isDirty=ue.defaultValue?se(ae,wi(pt(s,ae))):se()),ue.keepError||(Nn(r.errors,ae),g.isValid&&A()),w.state.next({...r}))},It=(ae,ue={})=>{const ye=ae?wi(ae):s,qe=wi(ye),De=xi(ae),Ge=De?s:qe;if(ue.keepDefaultValues||(s=ye),!ue.keepValues){if(ue.keepDirtyValues){const _t=new Set([...u.mount,...Object.keys(Cd(s,a))]);for(const Bt of Array.from(_t))pt(r.dirtyFields,Bt)?kr(Ge,Bt,pt(a,Bt)):Fe(Bt,pt(Ge,Bt))}else{if(q0&&on(ae))for(const _t of u.mount){const Bt=pt(n,_t);if(Bt&&Bt._f){const xr=Array.isArray(Bt._f.refs)?Bt._f.refs[0]:Bt._f.ref;if(ty(xr)){const mr=xr.closest("form");if(mr){mr.reset();break}}}}n={}}a=e.shouldUnregister?ue.keepDefaultValues?wi(s):{}:wi(Ge),w.array.next({values:{...Ge}}),w.values.next({values:{...Ge}})}u={mount:ue.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!ue.keepIsValid||!!ue.keepDirtyValues,l.watch=!!e.shouldUnregister,w.state.next({submitCount:ue.keepSubmitCount?r.submitCount:0,isDirty:De?!1:ue.keepDirty?r.isDirty:!!(ue.keepDefaultValues&&!Aa(ae,s)),isSubmitted:ue.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:De?{}:ue.keepDirtyValues?ue.keepDefaultValues&&a?Cd(s,a):r.dirtyFields:ue.keepDefaultValues&&ae?Cd(s,ae):ue.keepDirty?r.dirtyFields:{},touchedFields:ue.keepTouched?r.touchedFields:{},errors:ue.keepErrors?r.errors:{},isSubmitSuccessful:ue.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},er=(ae,ue)=>It(oo(ae)?ae(a):ae,ue);return{control:{register:gt,unregister:mt,getFieldState:Se,handleSubmit:yt,setError:at,_executeSchema:ne,_getWatch:Z,_getDirty:se,_updateValid:A,_removeUnmounted:M,_updateFieldArray:L,_updateDisabledField:ft,_getFieldArray:pe,_reset:It,_resetDefaultValues:()=>oo(e.defaultValues)&&e.defaultValues().then(ae=>{er(ae,e.resetOptions),w.state.next({isLoading:!1})}),_updateFormState:ae=>{r={...r,...ae}},_disableForm:vt,_subjects:w,_proxyFormState:g,_setErrors:V,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(ae){l=ae},get _defaultValues(){return s},get _names(){return u},set _names(ae){u=ae},get _formState(){return r},set _formState(ae){r=ae},get _options(){return e},set _options(ae){e={...e,...ae}}},trigger:Ne,register:gt,handleSubmit:yt,watch:dt,setValue:Fe,getValues:H,reset:er,resetField:Ct,clearErrors:lt,unregister:mt,setError:at,setFocus:(ae,ue={})=>{const ye=pt(n,ae),qe=ye&&ye._f;if(qe){const De=qe.refs?qe.refs[0]:qe.ref;De.focus&&(De.focus(),ue.shouldSelect&&oo(De.select)&&De.select())}},getFieldState:Se}}function bo(t={}){const e=Tr.useRef(void 0),r=Tr.useRef(void 0),[n,s]=Tr.useState({isDirty:!1,isValidating:!1,isLoading:oo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:oo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Dz(t),formState:n});const a=e.current.control;return a._options=t,P0({subject:a._subjects.state,next:l=>{aC(l,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),Tr.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Tr.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),Tr.useEffect(()=>{t.values&&!Aa(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,s(l=>({...l}))):a._resetDefaultValues()},[t.values,a]),Tr.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),Tr.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Tr.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=oC(n,a),e.current}const $k=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},gC=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?$k(n.ref,r,t):n.refs&&n.refs.forEach(s=>$k(s,r,t))}},Mz=(t,e)=>{e.shouldUseNativeValidation&&gC(t,e);const r={};for(const n in t){const s=pt(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(Bz(e.names||Object.keys(t),n)){const l=Object.assign({},pt(r,n));kr(l,"root",a),kr(r,n,l)}else kr(r,n,a)}return r},Bz=(t,e)=>t.some(r=>r.startsWith(e+"."));var $z=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[l]={message:u.message,type:u.code}}else r[l]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(w){return t.push(w)})}),e){var d=r[l].types,p=d&&d[n.code];r[l]=cC(l,e,r,s,p?[].concat(p,n.message):n.message)}t.shift()}return r},wo=function(t,e,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(l,u){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(p){return a.shouldUseNativeValidation&&gC({},a),{errors:{},values:r.raw?n:p}})}catch(p){return u(p)}return d&&d.then?d.then(void 0,u):d}(0,function(l){if(function(u){return Array.isArray(u?.errors)}(l))return{values:{},errors:Mz($z(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const vC=({inventory:t,requirements:e})=>{const r=[];for(const n of e){const s=t.find(a=>a.resourceId===n.resourceId);s?s.amount<n.amount&&r.push({...n,amount:n.amount-s.amount}):r.push(n)}return r.length?{check:!1,missing:r}:{check:!0,missing:r}},_C=async({tx:t,userId:e,baseBuildingId:r,bypass:n=!1})=>{const s=await oi.getOrThrow$({tx:t,id:r});if(!n&&!vC({requirements:s.requirements,inventory:await ps.list$({tx:t,where:{userId:e}})}).check)throw new Error(Jr.text("Not enough resources to construct the building."));for await(const u of s.requirements){if(u.passive)continue;const d=await ps.fetchOrThrow$({tx:t,where:{userId:e,resourceId:u.resourceId}});await ps.patch$({tx:t,entity:{amount:d.amount-u.amount},shape:{amount:d.amount-u.amount},where:{userId:e,resourceId:u.resourceId}})}const{filter:a}=await Gu.count$({tx:t,where:{userId:e}}),l={userId:e,baseBuildingId:s.id,start:a,current:0,finish:a+s.cycles};await zo.create$({tx:t,shape:l,entity:l})},Wz=async({tx:t,userId:e})=>{const r=["Castle","Storage"];for await(const s of r)await _C({tx:t,userId:e,baseBuildingId:(await oi.fetchOrThrow$({tx:t,where:{name:s},error:`Cannot find building [${s}]`})).id,bypass:!0});const n=[{resource:"Wood",amount:25},{resource:"Stone",amount:10},{resource:"Storage - Blueprint",amount:1}];for await(const s of n){const a={userId:e,resourceId:(await hs.fetchOrThrow$({tx:t,where:{name:s.resource},error:`Cannot find resource [${s}]`})).id,amount:s.amount};await ps.create$({tx:t,shape:a,entity:a})}},bC=bs({entity:gs.merge(be.object({name:be.string().min(1),login:be.string().min(1),password:be.string().min(1)})),shape:be.object({name:be.string().min(1),login:be.string().min(1),password:be.string().min(1)}),filter:vs.merge(be.object({login:be.string().optional(),password:be.string().optional()}))}),Qy=_s({name:"UserSource",schema:bC,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("User as u").selectAll("u");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("u.id","like",p),g("u.name","like",p),g("u.login","like",p)]))},u=d=>{d?.id&&(a=a.where("u.id","=",d.id)),d?.password&&(a=a.where("u.password","=",d.password)),d?.login&&(a=a.where("u.login","=",d.login)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("User")},patch$({tx:t}){return t.updateTable("User")},delete$({tx:t}){return t.deleteFrom("User")},map:{async toCreate({entity:{password:t,...e}}){return{...e,password:t?aI.hash(t):void 0}}}}),zz=()=>el({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:r}){return xn.transaction().execute(async n=>{const s=$y.parse(await Qy.create$({tx:n,shape:{name:e,login:t,password:r},entity:{name:e,login:t,password:r}}));try{await Wz({tx:n,userId:s.id})}catch(a){console.error(a)}return s})}}),Uz=be.object({name:be.string().min(1),login:be.string().min(1),password1:be.string().min(1),password2:be.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),Vz=({onSuccess:t})=>{const e=zz(),r=bo({resolver:wo(Uz)}),n=_o({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return y.jsxs("form",{className:n.base(),onSubmit:r.handleSubmit(async s=>e.mutateAsync(s,{onSuccess:t,onError:a=>{Bw({error:a,errors:[Fw({error:a,schema:Mw,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[y.jsx(Vs,{variant:{highlight:!0},error:r.formState.errors.root}),y.jsx(Wr,{formState:r.formState,name:"name",label:y.jsx(ie,{label:"Name (label)"}),children:y.jsx("input",{type:"text",className:n.input(),...r.register("name")})}),y.jsx(Wr,{formState:r.formState,name:"login",label:y.jsx(ie,{label:"Login (label)"}),children:y.jsx("input",{type:"text",className:n.input(),...r.register("login")})}),y.jsx(Wr,{formState:r.formState,name:"password1",label:y.jsx(ie,{label:"Password 1 (label)"}),children:y.jsx("input",{type:"password",className:n.input(),...r.register("password1")})}),y.jsx(Wr,{formState:r.formState,name:"password2",label:y.jsx(ie,{label:"Password 2 (label)"}),children:y.jsx("input",{type:"password",className:n.input(),...r.register("password2")})}),y.jsx(kn,{type:"submit",children:y.jsx(ie,{label:"Register (submit)"})})]})},Hz=hr("/$locale/apps/derivean/public/register")({component:()=>{const t=xw();return y.jsx("div",{className:$f(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[y.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),y.jsx(Vz,{onSuccess:async e=>{th.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Qz=hr("/$locale/apps/derivean/public/logout")({pendingComponent(){return y.jsx("div",{className:$f(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsx(JT,{icon:S0,textTitle:y.jsx(ie,{label:"Logout (label)"}),textMessage:y.jsx(ie,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw th.remove("session"),sy({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),Kz=()=>el({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return xn.transaction().execute(async r=>{const n=await Qy.fetchOrThrow$({tx:r,where:{login:t,password:aI.hash(e)},error:"Invalid login or password"});return{id:n.id,login:n.login,name:n.name}})}}),Gz=be.object({login:be.string().min(1),password:be.string().min(1)}),Jz=({onSuccess:t})=>{const{locale:e}=Cn({from:"/$locale"}),r=Kz(),n=bo({resolver:wo(Gz)}),s=_o({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return y.jsxs("form",{className:s.base(),onSubmit:n.handleSubmit(async a=>r.mutateAsync(a,{onSuccess:t,onError:l=>{Bw({error:l,errors:[Fw({error:l,schema:Mw,onError:({data:u})=>{n.setError("root",{message:u.message})}})],onError:u=>{n.setError("root",{message:u.message})}})}}).catch(()=>{})),children:[y.jsx(Vs,{variant:{highlight:!0},error:n.formState.errors.root}),y.jsx(Wr,{formState:n.formState,name:"login",label:y.jsx(ie,{label:"Login (label)"}),children:y.jsx("input",{type:"text",className:s.input(),...n.register("login")})}),y.jsx(Wr,{formState:n.formState,name:"password",label:y.jsx(ie,{label:"Password (label)"}),children:y.jsx("input",{type:"password",className:s.input(),...n.register("password")})}),y.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[y.jsx(Gn,{to:"/$locale/apps/derivean/public/register",params:{locale:e},children:y.jsx(ie,{label:"Register (link)"})}),y.jsx(kn,{type:"submit",children:y.jsx(ie,{label:"Login (submit)"})})]})]})},Zz=hr("/$locale/apps/derivean/public/login")({component:()=>{const t=xw();return y.jsx("div",{className:$f(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[y.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),y.jsx(Jz,{onSuccess:async e=>{th.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Wk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=_o,css:a})=>{const l=bo({resolver:wo(Wy.shape),defaultValues:{sort:0,...e}}),u=Q.useContext(ws),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:sl({form:l,mutation:t,async onSuccess(p){r?.({entity:p,modalContext:u})}}),children:[y.jsx(Vs,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Wr,{formState:l.formState,name:"code",label:y.jsx(ie,{label:"Tag code (label)"}),required:!0,children:y.jsx("input",{type:"text",className:d.input(),...l.register("code")})}),y.jsx(Wr,{formState:l.formState,name:"label",label:y.jsx(ie,{label:"Resource description (label)"}),required:!0,children:y.jsx("input",{type:"text",className:d.input(),...l.register("label")})}),y.jsx(Wr,{formState:l.formState,name:"group",label:y.jsx(ie,{label:"Tag group (label)"}),children:y.jsx("input",{type:"text",className:d.input(),...l.register("group")})}),y.jsx(Wr,{formState:l.formState,name:"sort",label:y.jsx(ie,{label:"Tag sort (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("sort")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(kn,{iconEnabled:Xm,type:"submit",children:y.jsx(ie,{label:"Save tag (submit)"})})})]})},db=Ks(),Yz=[db({name:"code",header(){return y.jsx(ie,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),db({name:"label",header(){return y.jsx(ie,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),db({name:"group",header(){return y.jsx(ie,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],wC=({group:t,table:e,...r})=>{const n=ll({sources:[Bl,hs,Yd]});return y.jsx(Hs,{table:Qs({...e,columns:Yz}),action:{table(){return y.jsx(Zn,{children:y.jsx(Zr,{label:y.jsx(ie,{label:"Create tag (menu)"}),textTitle:y.jsx(ie,{label:"Create tag (modal)"}),icon:Xm,children:y.jsx(Wk,{defaultValues:{group:t},mutation:al({source:Bl,async wrap(s){return _r.promise(s(),{loading:y.jsx(ie,{label:"Saving tag (label)"}),success:y.jsx(ie,{label:"Tag successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return y.jsxs(Zn,{children:[y.jsx(Zr,{label:y.jsx(ie,{label:"Edit tag (menu)"}),textTitle:y.jsx(ie,{label:"Edit tag (modal)"}),icon:Xm,children:y.jsx(Wk,{defaultValues:{group:t,...s},mutation:ea({source:Bl,async wrap(a){return _r.promise(a(),{loading:y.jsx(ie,{label:"Saving tag (label)"}),success:y.jsx(ie,{label:"Tag successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save tag (label)"})})},async toPatch({shape:a}){return{entity:a,filter:{id:s.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}),y.jsx(Zr,{icon:Xo,label:y.jsx(ie,{label:"Delete tag (label)"}),textTitle:y.jsx(ie,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ol,{source:Bl,textContent:y.jsx(ie,{label:"Tag delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Xz=({group:t,...e})=>y.jsx(j6,{table:r=>y.jsx(wC,{group:t,...r}),render:({entities:r})=>y.jsx(ZT,{tags:r}),source:Bl,useListQuery:({where:r,...n})=>k0({...n,where:{...r,group:t}}),...e}),zk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=_o,css:a})=>{const l=bo({resolver:wo(iu.shape),defaultValues:e}),u=Q.useContext(ws),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:sl({form:l,mutation:t,async onSuccess(p){r?.({entity:p,modalContext:u})}}),children:[y.jsx(Vs,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Wr,{formState:l.formState,name:"name",label:y.jsx(ie,{label:"Resource name (label)"}),children:y.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),y.jsx(Wr,{formState:l.formState,name:"tagIds",label:y.jsx(ie,{label:"Resource tags (label)"}),children:y.jsx(Ya,{control:l.control,name:"tagIds",render:({field:{ref:p,...g}})=>y.jsx(Xz,{icon:Xr,group:"resource",titleText:y.jsx(ie,{label:"Select resource tags (title)"}),allowEmpty:!0,...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(kn,{iconEnabled:Xr,type:"submit",children:y.jsx(ie,{label:"Save resource (submit)"})})})]})},Uk=Ks(),eU=[Uk({name:"name",header(){return y.jsx(ie,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=Cn({from:"/$locale"});return y.jsx(Gn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:r,id:t.id},children:e})},size:18}),Uk({name:"tags",header(){return y.jsx(ie,{label:"Resource tags (label)"})},render({value:t}){return y.jsx(ZT,{tags:t})},size:32})],xC=({table:t,...e})=>{const r=ll({sources:[hs,Yd]});return y.jsx(Hs,{table:Qs({...t,columns:eU}),action:{table(){return y.jsx(Zn,{children:y.jsx(Zr,{label:y.jsx(ie,{label:"Create resource (menu)"}),textTitle:y.jsx(ie,{label:"Create resource (modal)"}),icon:Xr,children:y.jsx(zk,{mutation:al({source:hs,async wrap(n){return _r.promise(n(),{loading:y.jsx(ie,{label:"Saving resource (label)"}),success:y.jsx(ie,{label:"Resource successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return y.jsxs(Zn,{children:[y.jsx(Zr,{label:y.jsx(ie,{label:"Edit resource (menu)"}),textTitle:y.jsx(ie,{label:"Edit resource (modal)"}),icon:Xr,children:y.jsx(zk,{defaultValues:n,mutation:ea({source:hs,async wrap(s){return _r.promise(s(),{loading:y.jsx(ie,{label:"Saving resource (label)"}),success:y.jsx(ie,{label:"Resource successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{await r(),s?.close()}})}),y.jsx(Zr,{icon:Xo,label:y.jsx(ie,{label:"Delete resource (label)"}),textTitle:y.jsx(ie,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ol,{source:hs,textContent:y.jsx(ie,{label:"Resource delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},Ky=t=>y.jsx(GT,{icon:Xr,titleText:y.jsx(ie,{label:"Select resource (title)"}),table:xC,render:({entity:e})=>e.name,source:hs,useListQuery:k0,...t}),Vk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=_o,css:a})=>{const l=bo({resolver:wo(Vy.shape),defaultValues:e}),u=Q.useContext(ws),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:sl({form:l,mutation:t,async onSuccess(p){r?.({entity:p,modalContext:u})}}),children:[y.jsx(Vs,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Wr,{formState:l.formState,name:"resourceId",label:y.jsx(ie,{label:"Resource name (label)"}),children:y.jsx(Ya,{control:l.control,name:"resourceId",render:({field:{ref:p,...g}})=>y.jsx(Ky,{icon:Xr,titleText:y.jsx(ie,{label:"Select resource (title)"}),allowEmpty:!0,...g})})}),y.jsx(Wr,{formState:l.formState,name:"amount",label:y.jsx(ie,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(kn,{iconEnabled:Rf,type:"submit",children:y.jsx(ie,{label:"Save inventory item (submit)"})})})]})},Hk=Ks(),tU=[Hk({name:"resource.name",header(){return y.jsx(ie,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),Hk({name:"amount",header(){return y.jsx(ie,{label:"Amount (label)"})},render({value:t}){return ms({number:t})},size:18})],SC=({userId:t,table:e,...r})=>{const n=ll({sources:[ps]});return y.jsx(Hs,{table:Qs({...e,columns:tU}),action:{table:t?()=>y.jsx(Zn,{children:y.jsx(Zr,{label:y.jsx(ie,{label:"Create inventory item (menu)"}),textTitle:y.jsx(ie,{label:"Create inventory item (modal)"}),icon:Rf,children:y.jsx(Vk,{mutation:al({source:ps,async wrap(s){return _r.promise(s(),{loading:y.jsx(ie,{label:"Saving inventory item (label)"}),success:y.jsx(ie,{label:"Inventory item successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save inventory item (label)"})})},async toCreate({shape:s}){return{entity:{...s,userId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})}):void 0,row({data:s}){return y.jsxs(Zn,{children:[t?y.jsx(Zr,{label:y.jsx(ie,{label:"Edit inventory item (menu)"}),textTitle:y.jsx(ie,{label:"Edit inventory item (modal)"}),icon:Rf,children:y.jsx(Vk,{defaultValues:s,mutation:ea({source:ps,async wrap(a){return _r.promise(a(),{loading:y.jsx(ie,{label:"Saving inventory item (label)"}),success:y.jsx(ie,{label:"Inventory item successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save inventory item (label)"})})},async toPatch(){return{filter:{id:s.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}):null,y.jsx(Zr,{icon:Xo,label:y.jsx(ie,{label:"Delete inventory item (label)"}),textTitle:y.jsx(ie,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ol,{source:ps,textContent:y.jsx(ie,{label:"Inventory item delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},im=hr("/$locale/apps/derivean/game/inventory/")({validateSearch:ci(di(Vy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const a=await r();return e.transaction().execute(l=>ui({tx:l,queryClient:t,source:ps,filter:n,cursor:s,where:{userId:a.id}}))},component(){const{data:t,count:e}=im.useLoaderData(),{filter:r,cursor:n,selection:s}=im.useSearch(),a=im.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(SC,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})})}}),rU=({entity:t,...e})=>{const{locale:r}=Cn({from:"/$locale"});return y.jsxs(rh,{...e,children:[y.jsx(wn,{icon:E0,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"View detail (menu)"})}),y.jsx(wn,{icon:go,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"Building list (menu)"})}),y.jsx(wn,{icon:Xr,to:"/$locale/apps/derivean/root/user/$id/building/resource/list",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"Building resource list (label)"})}),y.jsx(wn,{icon:Rf,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"Inventory (label)"})})]})},nU=t=>{const{locale:e}=Cn({from:"/$locale"});return y.jsx(N0,{title:({entity:r})=>y.jsx(T0,{icon:E0,title:r.name}),actions:()=>y.jsx(y.Fragment,{children:y.jsx(Gn,{icon:x0,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:y.jsx(ie,{label:"User list (label)"})})}),...t})},EC=hr("/$locale/apps/derivean/root/user/$id")({async loader({context:{queryClient:t},params:{id:e}}){return xn.transaction().execute(async r=>({entity:await O0({tx:r,queryClient:t,source:Qy,where:{id:e}})}))},component(){const{tva:t}=Mn({from:"__root__"}),{entity:e}=EC.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(nU,{entity:e}),y.jsx(rU,{entity:e}),y.jsx(tl,{})]})}}),iU=hr("/$locale/apps/derivean/root/resource/$id")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),sU=({entity:t,...e})=>{const{locale:r}=Cn({from:"/$locale"});return y.jsxs(rh,{...e,children:[y.jsx(wn,{icon:go,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"Building detail (label)"})}),y.jsx(wn,{icon:Xr,to:"/$locale/apps/derivean/root/building/$id/resource/list",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"Building resource list (label)"})})]})},oU=t=>{const{locale:e}=Cn({from:"/$locale"});return y.jsx(N0,{title:({entity:r})=>y.jsx(T0,{icon:go,title:r.baseBuilding.name}),actions:()=>y.jsx(y.Fragment,{children:y.jsx(Gn,{icon:x0,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:y.jsx(ie,{label:"Building list (label)"})})}),...t})},NC=hr("/$locale/apps/derivean/root/building/$id")({component(){const{tva:t}=Mn({from:"__root__"}),{entity:e}=NC.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(oU,{entity:e}),y.jsx(sU,{entity:e}),y.jsx(tl,{})]})},async loader({context:{kysely:t,queryClient:e},params:{id:r}}){return t.transaction().execute(async n=>({entity:await O0({tx:n,queryClient:e,source:Bs,where:{id:r}})}))}}),Qk=Ks(),aU=[Qk({name:"name",header(){return y.jsx(ie,{label:"User name (label)"})},render({data:t,value:e}){const{locale:r}=Cn({from:"/$locale"});return y.jsx(Gn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:e})},size:14}),Qk({name:"login",header(){return y.jsx(ie,{label:"User login (label)"})},render({value:t}){return t},size:14})],lU=({table:t,...e})=>y.jsx(Hs,{table:Qs({...t,columns:aU}),...e}),sm=hr("/$locale/apps/derivean/root/user/list/")({validateSearch:ci(di(bC)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(s=>ui({tx:s,queryClient:t,source:Qy,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=sm.useLoaderData(),{filter:r,cursor:n,selection:s}=sm.useSearch(),a=sm.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(lU,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})})}}),om=hr("/$locale/apps/derivean/root/tag/list/")({validateSearch:ci(di(Wy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>ui({tx:s,queryClient:t,source:Bl,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=om.useLoaderData(),{filter:r,cursor:n,selection:s}=om.useSearch(),a=om.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(wC,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})})}}),am=hr("/$locale/apps/derivean/root/resource/list/")({validateSearch:ci(di(iu)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(s=>ui({tx:s,queryClient:t,source:hs,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=am.useLoaderData(),{filter:r,cursor:n,selection:s}=am.useSearch(),a=am.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(xC,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})})}}),uU=hr("/$locale/apps/derivean/root/building/list/")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),cU=Ks(),dU=[cU({name:"baseBuilding.name",header(){return y.jsx(ie,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Cn({from:"/$locale"});return y.jsx(Gn,{to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],fU=({table:t,...e})=>y.jsx(Hs,{table:Qs({...t,columns:dU}),...e}),lm=hr("/$locale/apps/derivean/game/building/list/")({validateSearch:ci(di(nh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const a=await r();return e.transaction().execute(async l=>ui({tx:l,queryClient:t,source:Bs,where:{userId:a.id},filter:n,cursor:s}))},component:()=>{const{data:t,count:e}=lm.useLoaderData(),{filter:r,cursor:n,selection:s}=lm.useSearch(),a=lm.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(fU,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})})}}),fw="icon-[vaadin--storage]",hU=({entity:t,...e})=>{const{locale:r}=Cn({from:"/$locale"});return y.jsxs(rh,{...e,children:[y.jsx(wn,{icon:Yo,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"View detail (menu)"})}),y.jsx(wn,{icon:Xr,to:"/$locale/apps/derivean/root/building/base/$id/requirement/list",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"Base building resource requirement (menu)"})}),y.jsx(wn,{icon:fw,to:"/$locale/apps/derivean/root/building/base/$id/limit/list",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"Base building limit list (menu)"})}),y.jsx(wn,{icon:d6,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:r,id:t.id},children:y.jsx(ie,{label:"Base building edit (menu)"})})]})},pU=t=>{const{locale:e}=Cn({from:"/$locale"});return y.jsx(N0,{title:({entity:r})=>y.jsx(T0,{icon:Yo,title:r.name}),actions:()=>y.jsx(Gn,{icon:x0,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:y.jsx(ie,{label:"Base building list (label)"})}),...t})},kC=hr("/$locale/apps/derivean/root/building/base/$id")({async loader({context:{queryClient:t},params:{id:e}}){return xn.transaction().execute(async r=>({entity:await O0({tx:r,queryClient:t,source:oi,where:{id:e}})}))},component(){const{tva:t}=Mn({from:"__root__"}),{entity:e}=kC.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(pU,{entity:e}),y.jsx(hU,{entity:e}),y.jsx(tl,{})]})}}),mU=hr("/$locale/apps/derivean/root/user/$id/view/")({component:()=>"yep"}),jd=hr("/$locale/apps/derivean/root/user/$id/inventory/")({validateSearch:ci(di(Vy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(a=>ui({tx:a,queryClient:t,source:ps,filter:r,cursor:n,where:{userId:s}}))},component(){const{data:t,count:e}=jd.useLoaderData(),{filter:r,cursor:n,selection:s}=jd.useSearch(),a=jd.useNavigate(),{id:l}=jd.useParams(),{tva:u}=Mn({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(SC,{userId:l,table:{data:t,filter:{value:r,set(p){a({search:({cursor:g,...w})=>({...w,filter:p,cursor:{...g,page:0}})})}},selection:{type:"multi",value:s,set(p){a({search(g){return{...g,selection:p}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})})}}),yU=hr("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),hw=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=_o,css:a})=>{const l=bo({resolver:wo(jc.shape),defaultValues:{preview:!0,...e}}),u=Q.useContext(ws),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:sl({form:l,mutation:t,async onSuccess(p){r?.({entity:p,modalContext:u})}}),children:[y.jsx(Vs,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Wr,{formState:l.formState,name:"name",label:y.jsx(ie,{label:"Base building name (label)"}),required:!0,children:y.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),y.jsx(Wr,{formState:l.formState,name:"preview",label:y.jsx(ie,{label:"Base building preview (label)"}),hint:y.jsx(ie,{label:"Base building preview (hint)"}),required:!0,children:y.jsx(Ya,{control:l.control,name:"preview",render:({field:{ref:p,...g}})=>y.jsx(nT,{...g})})}),y.jsx(Wr,{formState:l.formState,name:"cycles",label:y.jsx(ie,{label:"Base building cycles (label)"}),hint:y.jsx(ie,{label:"Base building cycles (hint)"}),required:!0,children:y.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),y.jsx(Wr,{formState:l.formState,name:"limit",label:y.jsx(ie,{label:"Base building limit (label)"}),hint:y.jsx(ie,{label:"Base building limit (hint)"}),required:!0,children:y.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(kn,{iconEnabled:Yo,type:"submit",children:y.jsx(ie,{label:"Save base building (submit)"})})})]})},Ap=Ks(),gU=[Ap({name:"name",header(){return y.jsx(ie,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Cn({from:"/$locale"});return y.jsx(Gn,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:e})},size:10}),Ap({name:"preview",header(){return y.jsx(ie,{label:"Base building preview (label)"})},render({value:t}){return y.jsx(rT,{value:t})},size:14}),Ap({name:"cycles",header(){return y.jsx(ie,{label:"Base building cycles (label)"})},render({value:t}){return ms({number:t})},size:14}),Ap({name:"limit",header(){return y.jsx(ie,{label:"Base building limit (label)"})},render({value:t}){return t===0?Jr.text("Unlimited (label)"):ms({number:t})},size:14})],OC=({table:t,...e})=>{const r=ll({sources:[oi]});return y.jsx(Hs,{table:Qs({...t,columns:gU}),action:{table(){return y.jsx(Zn,{children:y.jsx(Zr,{label:y.jsx(ie,{label:"Create base building (menu)"}),textTitle:y.jsx(ie,{label:"Create base building (modal)"}),icon:Yo,children:y.jsx(hw,{mutation:al({source:oi,async wrap(n){return _r.promise(n(),{loading:y.jsx(ie,{label:"Saving base building (label)"}),success:y.jsx(ie,{label:"Base building successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return y.jsxs(Zn,{children:[y.jsx(Zr,{label:y.jsx(ie,{label:"Edit base building (menu)"}),textTitle:y.jsx(ie,{label:"Edit base building (modal)"}),icon:Yo,children:y.jsx(hw,{defaultValues:n,mutation:ea({source:oi,async wrap(s){return _r.promise(s(),{loading:y.jsx(ie,{label:"Saving base building (label)"}),success:y.jsx(ie,{label:"Base building successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{await r(),s?.close()}})}),y.jsx(Zr,{icon:Xo,label:y.jsx(ie,{label:"Delete base building (label)"}),textTitle:y.jsx(ie,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ol,{source:oi,textContent:y.jsx(ie,{label:"Base building delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},um=hr("/$locale/apps/derivean/root/building/base/list/")({validateSearch:ci(di(jc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>ui({tx:s,queryClient:t,source:oi,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=um.useLoaderData(),{filter:r,cursor:n,selection:s}=um.useSearch(),a=um.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(OC,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})})}}),vU=t=>y.jsx(iT,{items:[{id:"name",label:y.jsx(ie,{label:"Building name (label)"}),render({entity:e}){return e.baseBuilding.name}}],...t}),_U=hr("/$locale/apps/derivean/root/building/$id/view/")({component(){const{entity:t}=eu({from:"/$locale/apps/derivean/root/building/$id"});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(vU,{entity:t})})}}),Kk=gs.merge(be.object({buildingId:be.string().min(1),resourceId:be.string().min(1),amount:be.number().nonnegative()})),sh=bs({entity:Kk,output:Kk.merge(be.object({building:nh.output,resource:iu.output})),shape:be.object({resourceId:be.string().min(1),amount:be.union([be.number().nonnegative(),be.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Jr.text("Amount must be a number")})])}),filter:vs.merge(be.object({userId:be.string().optional(),buildingId:be.string().optional(),resourceId:be.string().optional(),baseBuildingId:be.string().optional()}))}),fc=_s({name:"BuildingResourceSource",schema:sh,db:xn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Building_Resource as br").selectAll("br").leftJoin("Building as b","b.id","br.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","br.resourceId");const l=d=>{const p=`%${d}%`;return a.where(g=>g.or([g("br.id","like",p),g("bb.id","like",p),g("r.id","like",p),g("bb.name","like",p),g("r.name","like",p)]))},u=d=>{d?.id&&(a=a.where("br.id","=",d.id)),d?.idIn&&(a=a.where("br.id","in",d.idIn)),d?.buildingId&&(a=a.where("br.buildingId","=",d.buildingId)),d?.baseBuildingId&&(a=a.where("b.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(a=a.where("br.resourceId","=",d.resourceId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Building_Resource")},patch$({tx:t}){return t.updateTable("Building_Resource")},delete$({tx:t}){return t.deleteFrom("Building_Resource")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await Bs.getOrThrow$({tx:t,id:e.buildingId}),resource:await hs.getOrThrow$({tx:t,id:e.resourceId})}}}}),Gk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=_o,css:a})=>{const l=bo({resolver:wo(sh.shape),defaultValues:e}),u=Q.useContext(ws),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:sl({form:l,mutation:t,async onSuccess(p){r?.({entity:p,modalContext:u})}}),children:[y.jsx(Vs,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Wr,{formState:l.formState,name:"resourceId",label:y.jsx(ie,{label:"Resource name (label)"}),children:y.jsx(Ya,{control:l.control,name:"resourceId",render:({field:{ref:p,...g}})=>y.jsx(Ky,{icon:Xr,titleText:y.jsx(ie,{label:"Select resource (title)"}),allowEmpty:!0,...g})})}),y.jsx(Wr,{formState:l.formState,name:"amount",label:y.jsx(ie,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(kn,{iconEnabled:Xr,type:"submit",children:y.jsx(ie,{label:"Save resources item (submit)"})})})]})},bU=({source:t,resourceId:e,fallback:r=void 0})=>{const n=t.find(s=>s.resourceId===e);return n===void 0?r:n.limit},wU=({limits:t,resourceId:e,amount:r})=>{const n=bU({source:t,resourceId:e});return y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsx("div",{className:"",children:ms({number:r})}),n===void 0?null:y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-slate-500",children:"/"}),y.jsx("div",{className:"font-light text-slate-500",children:n})]})]})},fb=Ks(),xU=[fb({name:"building.baseBuilding.name",header(){return y.jsx(ie,{label:"Building name (label)"})},render({value:t}){return t},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),fb({name:"resource.name",header(){return y.jsx(ie,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),fb({name:"amount",header(){return y.jsx(ie,{label:"Amount (label)"})},render({data:t,value:e}){return y.jsx(wU,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],j0=({buildingId:t,table:e,...r})=>y.jsx(Hs,{table:Qs({...e,columns:xU}),action:{table(){return y.jsx(Zn,{children:y.jsx(Zr,{label:y.jsx(ie,{label:"Create resource item (menu)"}),textTitle:y.jsx(ie,{label:"Create resource item (modal)"}),icon:Xr,hidden:!t,children:y.jsx(Gk,{mutation:al({source:fc,async wrap(n){return _r.promise(n(),{loading:y.jsx(ie,{label:"Saving resource item (label)"}),success:y.jsx(ie,{label:"Resource item successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save resource item (label)"})})},async toCreate({shape:n}){return{entity:{...n,buildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(Zn,{children:[y.jsx(Zr,{label:y.jsx(ie,{label:"Edit resource item (menu)"}),textTitle:y.jsx(ie,{label:"Edit resource item (modal)"}),icon:Xr,children:y.jsx(Gk,{defaultValues:n,mutation:ea({source:fc,async wrap(s){return _r.promise(s(),{loading:y.jsx(ie,{label:"Saving resource item (label)"}),success:y.jsx(ie,{label:"Resource item successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save resource item (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),y.jsx(Zr,{icon:Xo,label:y.jsx(ie,{label:"Delete resource item (label)"}),textTitle:y.jsx(ie,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ol,{source:fc,textContent:y.jsx(ie,{label:"Resource item delete (content)"}),filter:{id:n.id}})})]})}},...r}),IC=({icon:t,title:e,amount:r})=>y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t?wy(t)?y.jsx(br,{icon:t,css:{base:["text-slate-500"]}}):t:null,y.jsx("div",{className:"text-slate-500",children:e}),y.jsx("div",{className:"font-bold text-slate-700",children:ms({number:r.map(({amount:n})=>n).reduce((n,s)=>n+s,0)})})]}),cm=hr("/$locale/apps/derivean/game/building/resource/list/")({validateSearch:ci(di(sh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const a=await r();return e.transaction().execute(async l=>ui({tx:l,queryClient:t,source:fc,filter:n,cursor:s,where:{userId:a.id}}))},component(){const{data:t,count:e}=cm.useLoaderData(),{filter:r,cursor:n,selection:s}=cm.useSearch(),a=cm.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsxs("div",{className:u.base(),children:[y.jsx(IC,{icon:Xr,title:y.jsx(ie,{label:"Resource sum (label)"}),amount:t}),y.jsx(j0,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})]})}}),Pp=Ks(),SU=[Pp({name:"baseBuilding.name",header(){return y.jsx(ie,{label:"Base building name (label)"})},render({value:t}){return t},size:14}),Pp({name:"start",header(){return y.jsx(ie,{label:"Building queue - started (label)"})},render({value:t}){return ms({number:t})},size:14}),Pp({name:"current",header(){return y.jsx(ie,{label:"Building queue - current (label)"})},render({data:t,value:e}){return y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsx("div",{className:"font-bold",children:ms({number:e})}),"/",y.jsx("div",{className:"text-sm text-slate-600",children:t.baseBuilding.cycles})]})},size:14}),Pp({name:"finish",header(){return y.jsx(ie,{label:"Building queue - finish (label)"})},render({value:t}){return ms({number:t})},size:14})],EU=({table:t,...e})=>y.jsx(Hs,{table:Qs({...t,columns:SU}),...e}),dm=hr("/$locale/apps/derivean/game/building/queue/list/")({validateSearch:ci(di(tC)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const a=await r();return e.transaction().execute(l=>ui({tx:l,queryClient:t,source:zo,filter:n,cursor:s,where:{userId:a.id}}))},component(){const{data:t,count:e}=dm.useLoaderData(),{filter:r,cursor:n,selection:s}=dm.useSearch(),a=dm.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(EU,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})})}}),NU=({baseBuildingId:t,userId:e})=>_w({queryKey:["useBuildingCount",t,e],async queryFn(){return xn.transaction().execute(async r=>{const{filter:n}=await Bs.count$({tx:r,filter:{baseBuildingId:t,userId:e}}),{filter:s}=await zo.count$({tx:r,filter:{baseBuildingId:t,userId:e}});return{count:n,queue:s,total:n+s}})}}),kU=({baseBuilding:t,userId:e,mutation:r,disabled:n,...s})=>{const a=NU({baseBuildingId:t.id,userId:e});return y.jsxs(kn,{iconEnabled:go,iconDisabled:go,variant:{variant:"secondary"},onClick:()=>{r.mutate({baseBuildingId:t.id})},disabled:n||t.limit>0&&(a.data?.total||0)>=t.limit,loading:r.isPending||a.isLoading,...s,children:[y.jsx(ie,{label:"Build (label)"}),y.jsxs("div",{className:$f(["flex","flex-row","gap-2","text-sm"]),children:[y.jsx("div",{children:a.data?.total||0}),y.jsx("div",{children:"/"}),y.jsx("div",{children:t.limit===0?y.jsx(ie,{label:"Unlimited (label)"}):t.limit})]})]})},OU=dr({slot:{base:["flex","flex-col","gap-2"],item:["flex","flex-col","gap-2","bg-slate-50","hover:bg-slate-100","border","border-slate-300","hover:border-slate-400","p-2","rounded-lg"],title:["flex","flex-row","items-center","gap-2","font-bold","text-lg"]},variant:{canBuild:{true:[]},loading:{true:[]}},match:[{if:{canBuild:!0},then:{item:["bg-emerald-50","hover:bg-emerald-100","border-emerald-300","hover:border-emerald-400"]}},{if:{loading:!0},then:{base:["opacity-50","pointer-events-none"]}}],defaults:{canBuild:!1,loading:!1}}),IU=({userId:t})=>{const e=ll({sources:[zo,Bs,CC,ps],queries:[["useBuildingCount"]]});return el({mutationKey:["useConstructMutation"],async mutationFn({baseBuildingId:r}){return xn.transaction().execute(async n=>_r.promise(_C({tx:n,baseBuildingId:r,userId:t}),{success:Jr.text("Building queued."),error:Jr.text("Failed to queue building."),loading:Jr.text("Queuing building...")}))},async onSuccess(){await e()}})},TU=dr({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),TC=({resources:t,diff:e,variant:r,tva:n=TU,css:s,...a})=>{const l=n({...r,css:s}).slots;return y.jsx(P6,{items:t,render:({entity:u})=>{const d=e?.find(p=>p.resourceId===u.resourceId);return y.jsxs("div",{className:l.item({passive:u.passive}),children:[y.jsx("div",{children:u.resource.name}),y.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",ms({number:u.amount})]}),d?y.jsx("div",{children:y.jsxs("div",{className:"text-sm text-red-500",children:["(-",ms({number:d.amount}),")"]})}):e?y.jsx(br,{icon:tT}):null]})},...a})},CC=({userId:t,inventory:e,entities:r,variant:n,tva:s=OU,css:a})=>{const l=s({...n,css:a}).slots,u=IU({userId:t});return y.jsx("div",{className:l.base({loading:u.isPending}),children:r.map(d=>{const{check:p,missing:g}=vC({inventory:e,requirements:d.requirements});return y.jsxs("div",{className:l.item({canBuild:p}),children:[y.jsxs("div",{className:"flex flex-row justify-between",children:[y.jsxs("div",{className:l.title(),children:[y.jsx(br,{icon:go}),y.jsx("div",{children:d.name})]}),y.jsx("div",{children:y.jsx(TC,{textTitle:y.jsx(ie,{label:"Building requirements (title)"}),resources:d.requirements,diff:g,limit:5})})]}),y.jsxs("div",{className:"flex flex-row justify-between",children:[y.jsx(kU,{mutation:u,baseBuilding:d,userId:t,disabled:!p}),y.jsxs("div",{className:$f(["flex","flex-row","items-center","gap-2","px-2","py-1","bg-emerald-100","rounded","border","border-emerald-300"]),children:[y.jsx(br,{icon:cw}),y.jsx(ie,{label:"Base building cycles (label)"}),y.jsx("div",{className:"font-bold",children:d.cycles})]})]})]},d.id)})})},qC=hr("/$locale/apps/derivean/game/building/base/list/")({validateSearch:ci(di(jc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>({data:await W6({tx:s,queryClient:t,source:oi,filter:r,cursor:n})}))},component(){const{data:t}=qC.useLoaderData(),{inventory:e,session:r}=eu({from:"/$locale/apps/derivean/game"});return y.jsx("div",{children:y.jsx(CC,{userId:r.id,inventory:e,entities:t})})}}),CU=hr("/$locale/apps/derivean/game/building/$id/view/")({component(){return"detail"}}),qU=t=>y.jsx(GT,{icon:Yo,titleText:y.jsx(ie,{label:"Select base building (title)"}),table:OC,render:({entity:e})=>e.name,source:oi,useListQuery:k0,...t}),Jk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=_o,css:a})=>{const l=bo({resolver:wo(nh.shape),defaultValues:e}),u=Q.useContext(ws),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:sl({form:l,mutation:t,async onSuccess(p){r?.({entity:p,modalContext:u})}}),children:[y.jsx(Vs,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Wr,{formState:l.formState,name:"baseBuildingId",label:y.jsx(ie,{label:"Base building name (label)"}),children:y.jsx(Ya,{control:l.control,name:"baseBuildingId",render:({field:{ref:p,...g}})=>y.jsx(qU,{icon:Yo,titleText:y.jsx(ie,{label:"Select base building (title)"}),allowEmpty:!0,...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(kn,{iconEnabled:Xr,type:"submit",children:y.jsx(ie,{label:"Save Building (submit)"})})})]})},RU=Ks(),AU=[RU({name:"baseBuilding.name",header(){return y.jsx(ie,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Cn({from:"/$locale"});return y.jsx(Gn,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],PU=({userId:t,table:e,...r})=>y.jsx(Hs,{table:Qs({...e,columns:AU}),action:{table(){return y.jsx(Zn,{children:y.jsx(Zr,{label:y.jsx(ie,{label:"Create building (menu)"}),textTitle:y.jsx(ie,{label:"Create building (modal)"}),icon:Xr,children:y.jsx(Jk,{mutation:al({source:Bs,async wrap(n){return _r.promise(n(),{loading:y.jsx(ie,{label:"Saving building (label)"}),success:y.jsx(ie,{label:"Building successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save building (label)"})})},async toCreate({shape:n}){return{entity:{...n,userId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(Zn,{children:[y.jsx(Zr,{label:y.jsx(ie,{label:"Edit building (menu)"}),textTitle:y.jsx(ie,{label:"Edit building (modal)"}),icon:go,children:y.jsx(Jk,{defaultValues:n,mutation:ea({source:Bs,async wrap(s){return _r.promise(s(),{loading:y.jsx(ie,{label:"Saving building (label)"}),success:y.jsx(ie,{label:"Building successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),y.jsx(Zr,{icon:Xo,label:y.jsx(ie,{label:"Delete building (label)"}),textTitle:y.jsx(ie,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ol,{source:Bs,textContent:y.jsx(ie,{label:"Building delete (content)"}),filter:{id:n.id}})})]})}},...r}),Dd=hr("/$locale/apps/derivean/root/user/$id/building/list/")({validateSearch:ci(di(nh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(a=>ui({tx:a,queryClient:t,source:Bs,filter:r,cursor:n,where:{userId:s}}))},component(){const{data:t,count:e}=Dd.useLoaderData(),{filter:r,cursor:n,selection:s}=Dd.useSearch(),{id:a}=Dd.useParams(),l=Dd.useNavigate(),{tva:u}=Mn({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(PU,{userId:a,table:{data:t,filter:{value:r,set(p){l({search:({cursor:g,...w})=>({...w,filter:p,cursor:{...g,page:0}})})}},selection:{type:"multi",value:s,set(p){l({search(g){return{...g,selection:p}}})}}},fulltext:{onFulltext:Ri(l),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(l),onSize:Ci(l)}})})}}),FU=t=>y.jsx(iT,{items:[{id:"name",label:y.jsx(ie,{label:"Base building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:y.jsx(ie,{label:"Base building cycles (label)"}),render({entity:e}){return e.cycles}},{id:"limit",label:y.jsx(ie,{label:"Base building limit (label)"}),render({entity:e}){return e.limit===0?y.jsx(ie,{label:"Unlimited (label)"}):e.limit}},{id:"requirement.resources",label:y.jsx(ie,{label:"Base building requirements (label)"}),render({entity:e}){return y.jsx(TC,{resources:e.requirements})}}],...t}),LU=hr("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>{const{entity:t}=eu({from:"/$locale/apps/derivean/root/building/base/$id"});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(FU,{entity:t})})}}),RC=hr("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=eu({from:"/$locale/apps/derivean/root/building/base/$id"}),e=RC.useNavigate(),r=ll({sources:[oi]});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(hw,{defaultValues:t,mutation:ea({source:oi,async wrap(n){return _r.promise(n(),{loading:y.jsx(ie,{label:"Saving base building (label)"}),success:y.jsx(ie,{label:"Base building successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{await r(),e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),Md=hr("/$locale/apps/derivean/root/building/$id/resource/list/")({validateSearch:ci(di(sh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(a=>ui({tx:a,queryClient:t,source:fc,filter:r,cursor:n,where:{buildingId:s}}))},component(){const{data:t,count:e}=Md.useLoaderData(),{filter:r,cursor:n,selection:s}=Md.useSearch(),{id:a}=Md.useParams(),l=Md.useNavigate(),{tva:u}=Mn({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(j0,{buildingId:a,table:{data:t,filter:{value:r,set(p){l({search:({cursor:g,...w})=>({...w,filter:p,cursor:{...g,page:0}})})}},selection:{type:"multi",value:s,set(p){l({search(g){return{...g,selection:p}}})}}},fulltext:{onFulltext:Ri(l),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(l),onSize:Ci(l)}})})}}),fm=hr("/$locale/apps/derivean/root/user/$id/building/resource/list/")({validateSearch:ci(di(sh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(a=>ui({tx:a,queryClient:t,source:fc,filter:r,where:{userId:s},cursor:n}))},component(){const{data:t,count:e}=fm.useLoaderData(),{filter:r,cursor:n,selection:s}=fm.useSearch(),a=fm.useNavigate(),{tva:l}=Mn({from:"__root__"}),u=l().slots;return y.jsxs("div",{className:u.base(),children:[y.jsx(IC,{icon:Xr,title:y.jsx(ie,{label:"Resource sum (label)"}),amount:t}),y.jsx(j0,{table:{data:t,filter:{value:r,set(d){a({search:({cursor:p,...g})=>({...g,filter:d,cursor:{...p,page:0}})})}},selection:{type:"multi",value:s,set(d){a({search(p){return{...p,selection:d}}})}}},fulltext:{onFulltext:Ri(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(a),onSize:Ci(a)}})]})}}),Zk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=_o,css:a})=>{const l=bo({resolver:wo(Uy.shape),defaultValues:{passive:!1,...e}}),u=Q.useContext(ws),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:sl({form:l,mutation:t,async onSuccess(p){r?.({entity:p,modalContext:u})}}),children:[y.jsx(Vs,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Wr,{formState:l.formState,name:"resourceId",label:y.jsx(ie,{label:"Resource name (label)"}),children:y.jsx(Ya,{control:l.control,name:"resourceId",render:({field:{ref:p,...g}})=>y.jsx(Ky,{...g})})}),y.jsx(Wr,{formState:l.formState,name:"amount",label:y.jsx(ie,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),y.jsx(Wr,{formState:l.formState,name:"passive",label:y.jsx(ie,{label:"Passive requirement (label)"}),hint:y.jsx(ie,{label:"Passive requirement (hint)"}),children:y.jsx(Ya,{control:l.control,name:"passive",render:({field:{ref:p,...g}})=>y.jsx(nT,{...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(kn,{iconEnabled:Xr,type:"submit",children:y.jsx(ie,{label:"Save resource requirement (submit)"})})})]})},hb=Ks(),jU=[hb({name:"resource.name",header(){return y.jsx(ie,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),hb({name:"amount",header(){return y.jsx(ie,{label:"Amount (label)"})},render({value:t}){return ms({number:t})},size:14}),hb({name:"passive",header(){return y.jsx(ie,{label:"Passive requirement (label)"})},render({value:t}){return y.jsx(rT,{value:t})},size:14})],DU=({baseBuildingId:t,table:e,...r})=>{const n=ll({sources:[oi,Ju]});return y.jsx(Hs,{table:Qs({...e,columns:jU}),action:{table(){return y.jsx(Zn,{children:y.jsx(Zr,{label:y.jsx(ie,{label:"Create resource requirement (menu)"}),textTitle:y.jsx(ie,{label:"Create resource requirement (modal)"}),icon:Xr,children:y.jsx(Zk,{mutation:al({source:Ju,async wrap(s){return _r.promise(s(),{loading:y.jsx(ie,{label:"Saving resource requirement (label)"}),success:y.jsx(ie,{label:"Resource requirement successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return y.jsxs(Zn,{children:[y.jsx(Zr,{label:y.jsx(ie,{label:"Edit resource requirement (menu)"}),textTitle:y.jsx(ie,{label:"Edit resource requirement (modal)"}),icon:Xr,children:y.jsx(Zk,{defaultValues:s,mutation:ea({source:Ju,async wrap(a){return _r.promise(a(),{loading:y.jsx(ie,{label:"Saving resource requirement (label)"}),success:y.jsx(ie,{label:"Resource requirement successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:a}){return{entity:{...a,baseBuildingId:t},filter:{id:s.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}),y.jsx(Zr,{icon:Xo,label:y.jsx(ie,{label:"Delete resource requirement (label)"}),textTitle:y.jsx(ie,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ol,{source:Ju,textContent:y.jsx(ie,{label:"Resource requirement delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Bd=hr("/$locale/apps/derivean/root/building/base/$id/requirement/list/")({validateSearch:ci(di(Uy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(async a=>ui({tx:a,queryClient:t,source:Ju,filter:r,cursor:n,where:{baseBuildingId:s}}))},component:()=>{const{data:t,count:e}=Bd.useLoaderData(),{filter:r,cursor:n,selection:s}=Bd.useSearch(),{id:a}=Bd.useParams(),l=Bd.useNavigate(),{tva:u}=Mn({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(DU,{baseBuildingId:a,table:{data:t,filter:{value:r,set(p){l({search:({cursor:g,...w})=>({...w,filter:p,cursor:{...g,page:0}})})}},selection:{type:"multi",value:s,set(p){l({search(g){return{...g,selection:p}}})}}},fulltext:{onFulltext:Ri(l),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(l),onSize:Ci(l)}})})}}),Yk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=_o,css:a})=>{const l=bo({resolver:wo(zy.shape),defaultValues:e}),u=Q.useContext(ws),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:sl({form:l,mutation:t,async onSuccess(p){r?.({entity:p,modalContext:u})}}),children:[y.jsx(Vs,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Wr,{formState:l.formState,name:"resourceId",label:y.jsx(ie,{label:"Resource name (label)"}),children:y.jsx(Ya,{control:l.control,name:"resourceId",render:({field:{ref:p,...g}})=>y.jsx(Ky,{icon:Xr,titleText:y.jsx(ie,{label:"Select resource (title)"}),allowEmpty:!0,...g})})}),y.jsx(Wr,{formState:l.formState,name:"limit",label:y.jsx(ie,{label:"Limit (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(kn,{iconEnabled:Xr,type:"submit",children:y.jsx(ie,{label:"Save resource limit (submit)"})})})]})},Xk=Ks(),MU=[Xk({name:"resource.name",header(){return y.jsx(ie,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),Xk({name:"limit",header(){return y.jsx(ie,{label:"Storage limit (label)"})},render({value:t}){return t},size:18})],BU=({baseBuildingId:t,table:e,...r})=>y.jsx(Hs,{table:Qs({...e,columns:MU}),action:{table(){return y.jsx(Zn,{children:y.jsx(Zr,{label:y.jsx(ie,{label:"Create resource limit (menu)"}),textTitle:y.jsx(ie,{label:"Create resource limit (modal)"}),icon:fw,children:y.jsx(Yk,{mutation:al({source:Xd,async wrap(n){return _r.promise(n(),{loading:y.jsx(ie,{label:"Saving resource limit (label)"}),success:y.jsx(ie,{label:"Resource limit successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot resource limit storage (label)"})})},async toCreate({shape:n}){return{entity:{...n,baseBuildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(Zn,{children:[y.jsx(Zr,{label:y.jsx(ie,{label:"Edit base storage (menu)"}),textTitle:y.jsx(ie,{label:"Edit base storage (modal)"}),icon:fw,children:y.jsx(Yk,{defaultValues:n,mutation:ea({source:Xd,async wrap(s){return _r.promise(s(),{loading:y.jsx(ie,{label:"Saving base storage (label)"}),success:y.jsx(ie,{label:"Base storage successfully saved (label)"}),error:y.jsx(ie,{label:"Cannot save base storage (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),y.jsx(Zr,{icon:Xo,label:y.jsx(ie,{label:"Delete base storage (label)"}),textTitle:y.jsx(ie,{label:"Delete base storage (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ol,{source:Xd,textContent:y.jsx(ie,{label:"Base storage delete (content)"}),filter:{id:n.id}})})]})}},...r}),$d=hr("/$locale/apps/derivean/root/building/base/$id/limit/list/")({validateSearch:ci(di(zy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(async a=>ui({tx:a,queryClient:t,source:Xd,filter:r,cursor:n,where:{baseBuildingId:s}}))},component(){const{data:t,count:e}=$d.useLoaderData(),{filter:r,cursor:n,selection:s}=$d.useSearch(),{id:a}=$d.useParams(),l=$d.useNavigate(),{tva:u}=Mn({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(BU,{baseBuildingId:a,table:{data:t,filter:{value:r,set(p){l({search:({cursor:g,...w})=>({...w,filter:p,cursor:{...g,page:0}})})}},selection:{type:"multi",value:s,set(p){l({search(g){return{...g,selection:p}}})}}},fulltext:{onFulltext:Ri(l),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ie,{label:"Number of items"}),onPage:Ti(l),onSize:Ci(l)}})})}}),D0=rz.update({id:"/$locale",path:"/$locale",getParentRoute:()=>C0}),$U=sz.update({id:"/",path:"/",getParentRoute:()=>C0}),WU=oz.update({id:"/",path:"/",getParentRoute:()=>D0}),Dc=lz.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>D0}),Gs=dz.update({id:"/root",path:"/root",getParentRoute:()=>Dc}),ul=vz.update({id:"/game",path:"/game",getParentRoute:()=>Dc}),zU=bz.update({id:"/",path:"/",getParentRoute:()=>Gs}),UU=wz.update({id:"/",path:"/",getParentRoute:()=>ul}),VU=Hz.update({id:"/public/register",path:"/public/register",getParentRoute:()=>Dc}),HU=Qz.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>Dc}),QU=Zz.update({id:"/public/login",path:"/public/login",getParentRoute:()=>Dc}),KU=im.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>ul}),oh=EC.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>Gs}),AC=iU.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>Gs}),M0=NC.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>Gs}),GU=sm.update({id:"/user/list/",path:"/user/list/",getParentRoute:()=>Gs}),JU=om.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>Gs}),ZU=am.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Gs}),YU=uU.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Gs}),XU=lm.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>ul}),ah=kC.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>Gs}),eV=mU.update({id:"/view/",path:"/view/",getParentRoute:()=>oh}),tV=jd.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>oh}),rV=yU.update({id:"/view/",path:"/view/",getParentRoute:()=>AC}),nV=um.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>Gs}),iV=_U.update({id:"/view/",path:"/view/",getParentRoute:()=>M0}),sV=cm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>ul}),oV=dm.update({id:"/building/queue/list/",path:"/building/queue/list/",getParentRoute:()=>ul}),aV=qC.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>ul}),lV=CU.update({id:"/building/$id/view/",path:"/building/$id/view/",getParentRoute:()=>ul}),uV=Dd.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>oh}),cV=LU.update({id:"/view/",path:"/view/",getParentRoute:()=>ah}),dV=RC.update({id:"/edit/",path:"/edit/",getParentRoute:()=>ah}),fV=Md.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>M0}),hV=fm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>oh}),pV=Bd.update({id:"/requirement/list/",path:"/requirement/list/",getParentRoute:()=>ah}),mV=$d.update({id:"/limit/list/",path:"/limit/list/",getParentRoute:()=>ah}),yV={LocaleAppsDeriveanGameIndexRoute:UU,LocaleAppsDeriveanGameInventoryIndexRoute:KU,LocaleAppsDeriveanGameBuildingListIndexRoute:XU,LocaleAppsDeriveanGameBuildingIdViewIndexRoute:lV,LocaleAppsDeriveanGameBuildingBaseListIndexRoute:aV,LocaleAppsDeriveanGameBuildingQueueListIndexRoute:oV,LocaleAppsDeriveanGameBuildingResourceListIndexRoute:sV},gV=ul._addFileChildren(yV),vV={LocaleAppsDeriveanRootBuildingIdViewIndexRoute:iV,LocaleAppsDeriveanRootBuildingIdResourceListIndexRoute:fV},_V=M0._addFileChildren(vV),bV={LocaleAppsDeriveanRootResourceIdViewIndexRoute:rV},wV=AC._addFileChildren(bV),xV={LocaleAppsDeriveanRootUserIdInventoryIndexRoute:tV,LocaleAppsDeriveanRootUserIdViewIndexRoute:eV,LocaleAppsDeriveanRootUserIdBuildingListIndexRoute:uV,LocaleAppsDeriveanRootUserIdBuildingResourceListIndexRoute:hV},SV=oh._addFileChildren(xV),EV={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:dV,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:cV,LocaleAppsDeriveanRootBuildingBaseIdLimitListIndexRoute:mV,LocaleAppsDeriveanRootBuildingBaseIdRequirementListIndexRoute:pV},NV=ah._addFileChildren(EV),kV={LocaleAppsDeriveanRootIndexRoute:zU,LocaleAppsDeriveanRootBuildingIdRoute:_V,LocaleAppsDeriveanRootResourceIdRoute:wV,LocaleAppsDeriveanRootUserIdRoute:SV,LocaleAppsDeriveanRootBuildingBaseIdRoute:NV,LocaleAppsDeriveanRootBuildingListIndexRoute:YU,LocaleAppsDeriveanRootResourceListIndexRoute:ZU,LocaleAppsDeriveanRootTagListIndexRoute:JU,LocaleAppsDeriveanRootUserListIndexRoute:GU,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:nV},OV=Gs._addFileChildren(kV),IV={LocaleAppsDeriveanGameRoute:gV,LocaleAppsDeriveanRootRoute:OV,LocaleAppsDeriveanPublicLoginRoute:QU,LocaleAppsDeriveanPublicLogoutRoute:HU,LocaleAppsDeriveanPublicRegisterRoute:VU},TV=Dc._addFileChildren(IV),CV={LocaleIndexRoute:WU,LocaleAppsDeriveanRoute:TV},qV=D0._addFileChildren(CV),RV={IndexRoute:$U,LocaleRoute:qV},AV=C0._addFileChildren(RV)._addFileTypes(),PC=new sR({defaultOptions:{queries:{placeholderData:Hq}}}),PV=tA({routeTree:AV,context:{queryClient:PC,tva:KB,async session(){return $y.parse(null)},kysely:xn},defaultPendingComponent:S6,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),e3=document.getElementById("app");s2({limit:{maxRequests:10,perMilliseconds:100}});e3.innerHTML||X6.createRoot(e3).render(y.jsx(dR,{client:PC,children:y.jsx(kA,{router:PV})}))})();