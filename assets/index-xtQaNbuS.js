(async()=>{function Pq(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Fq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var $y={exports:{}},vc={},Uy={exports:{}},ar={};var T0;function Lq(){if(T0)return ar;T0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function N(Q){return Q===null||typeof Q!="object"?null:(Q=x&&Q[x]||Q["@@iterator"],typeof Q=="function"?Q:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function L(Q,xe,lt){this.props=Q,this.context=xe,this.refs=C,this.updater=lt||q}L.prototype.isReactComponent={},L.prototype.setState=function(Q,xe){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,xe,"setState")},L.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function P(){}P.prototype=L.prototype;function T(Q,xe,lt){this.props=Q,this.context=xe,this.refs=C,this.updater=lt||q}var M=T.prototype=new P;M.constructor=T,R(M,L.prototype),M.isPureReactComponent=!0;var U=Array.isArray,V=Object.prototype.hasOwnProperty,B={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function le(Q,xe,lt){var at,dt={},mt=null,ft=null;if(xe!=null)for(at in xe.ref!==void 0&&(ft=xe.ref),xe.key!==void 0&&(mt=""+xe.key),xe)V.call(xe,at)&&!K.hasOwnProperty(at)&&(dt[at]=xe[at]);var gt=arguments.length-2;if(gt===1)dt.children=lt;else if(1<gt){for(var Tt=Array(gt),vt=0;vt<gt;vt++)Tt[vt]=arguments[vt+2];dt.children=Tt}if(Q&&Q.defaultProps)for(at in gt=Q.defaultProps,gt)dt[at]===void 0&&(dt[at]=gt[at]);return{$$typeof:t,type:Q,key:mt,ref:ft,props:dt,_owner:B.current}}function H(Q,xe){return{$$typeof:t,type:Q.type,key:xe,ref:Q.ref,props:Q.props,_owner:Q._owner}}function ne(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function W(Q){var xe={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(lt){return xe[lt]})}var re=/\/+/g;function Z(Q,xe){return typeof Q=="object"&&Q!==null&&Q.key!=null?W(""+Q.key):xe.toString(36)}function pe(Q,xe,lt,at,dt){var mt=typeof Q;(mt==="undefined"||mt==="boolean")&&(Q=null);var ft=!1;if(Q===null)ft=!0;else switch(mt){case"string":case"number":ft=!0;break;case"object":switch(Q.$$typeof){case t:case e:ft=!0}}if(ft)return ft=Q,dt=dt(ft),Q=at===""?"."+Z(ft,0):at,U(dt)?(lt="",Q!=null&&(lt=Q.replace(re,"$&/")+"/"),pe(dt,xe,lt,"",function(vt){return vt})):dt!=null&&(ne(dt)&&(dt=H(dt,lt+(!dt.key||ft&&ft.key===dt.key?"":(""+dt.key).replace(re,"$&/")+"/")+Q)),xe.push(dt)),1;if(ft=0,at=at===""?".":at+":",U(Q))for(var gt=0;gt<Q.length;gt++){mt=Q[gt];var Tt=at+Z(mt,gt);ft+=pe(mt,xe,lt,Tt,dt)}else if(Tt=N(Q),typeof Tt=="function")for(Q=Tt.call(Q),gt=0;!(mt=Q.next()).done;)mt=mt.value,Tt=at+Z(mt,gt++),ft+=pe(mt,xe,lt,Tt,dt);else if(mt==="object")throw xe=String(Q),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return ft}function Re(Q,xe,lt){if(Q==null)return Q;var at=[],dt=0;return pe(Q,at,"","",function(mt){return xe.call(lt,mt,dt++)}),at}function Ce(Q){if(Q._status===-1){var xe=Q._result;xe=xe(),xe.then(function(lt){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=lt)},function(lt){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=lt)}),Q._status===-1&&(Q._status=0,Q._result=xe)}if(Q._status===1)return Q._result.default;throw Q._result}var Pe={current:null},ve={transition:null},me={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ve,ReactCurrentOwner:B};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return ar.Children={map:Re,forEach:function(Q,xe,lt){Re(Q,function(){xe.apply(this,arguments)},lt)},count:function(Q){var xe=0;return Re(Q,function(){xe++}),xe},toArray:function(Q){return Re(Q,function(xe){return xe})||[]},only:function(Q){if(!ne(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},ar.Component=L,ar.Fragment=r,ar.Profiler=o,ar.PureComponent=T,ar.StrictMode=n,ar.Suspense=p,ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ar.act=Ee,ar.cloneElement=function(Q,xe,lt){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var at=R({},Q.props),dt=Q.key,mt=Q.ref,ft=Q._owner;if(xe!=null){if(xe.ref!==void 0&&(mt=xe.ref,ft=B.current),xe.key!==void 0&&(dt=""+xe.key),Q.type&&Q.type.defaultProps)var gt=Q.type.defaultProps;for(Tt in xe)V.call(xe,Tt)&&!K.hasOwnProperty(Tt)&&(at[Tt]=xe[Tt]===void 0&&gt!==void 0?gt[Tt]:xe[Tt])}var Tt=arguments.length-2;if(Tt===1)at.children=lt;else if(1<Tt){gt=Array(Tt);for(var vt=0;vt<Tt;vt++)gt[vt]=arguments[vt+2];at.children=gt}return{$$typeof:t,type:Q.type,key:dt,ref:mt,props:at,_owner:ft}},ar.createContext=function(Q){return Q={$$typeof:l,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:a,_context:Q},Q.Consumer=Q},ar.createElement=le,ar.createFactory=function(Q){var xe=le.bind(null,Q);return xe.type=Q,xe},ar.createRef=function(){return{current:null}},ar.forwardRef=function(Q){return{$$typeof:d,render:Q}},ar.isValidElement=ne,ar.lazy=function(Q){return{$$typeof:b,_payload:{_status:-1,_result:Q},_init:Ce}},ar.memo=function(Q,xe){return{$$typeof:m,type:Q,compare:xe===void 0?null:xe}},ar.startTransition=function(Q){var xe=ve.transition;ve.transition={};try{Q()}finally{ve.transition=xe}},ar.unstable_act=Ee,ar.useCallback=function(Q,xe){return Pe.current.useCallback(Q,xe)},ar.useContext=function(Q){return Pe.current.useContext(Q)},ar.useDebugValue=function(){},ar.useDeferredValue=function(Q){return Pe.current.useDeferredValue(Q)},ar.useEffect=function(Q,xe){return Pe.current.useEffect(Q,xe)},ar.useId=function(){return Pe.current.useId()},ar.useImperativeHandle=function(Q,xe,lt){return Pe.current.useImperativeHandle(Q,xe,lt)},ar.useInsertionEffect=function(Q,xe){return Pe.current.useInsertionEffect(Q,xe)},ar.useLayoutEffect=function(Q,xe){return Pe.current.useLayoutEffect(Q,xe)},ar.useMemo=function(Q,xe){return Pe.current.useMemo(Q,xe)},ar.useReducer=function(Q,xe,lt){return Pe.current.useReducer(Q,xe,lt)},ar.useRef=function(Q){return Pe.current.useRef(Q)},ar.useState=function(Q){return Pe.current.useState(Q)},ar.useSyncExternalStore=function(Q,xe,lt){return Pe.current.useSyncExternalStore(Q,xe,lt)},ar.useTransition=function(){return Pe.current.useTransition()},ar.version="18.3.1",ar}var P0;function wd(){return P0||(P0=1,Uy.exports=Lq()),Uy.exports}var F0;function jq(){if(F0)return vc;F0=1;var t=wd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,p,m){var b,x={},N=null,q=null;m!==void 0&&(N=""+m),p.key!==void 0&&(N=""+p.key),p.ref!==void 0&&(q=p.ref);for(b in p)n.call(p,b)&&!a.hasOwnProperty(b)&&(x[b]=p[b]);if(d&&d.defaultProps)for(b in p=d.defaultProps,p)x[b]===void 0&&(x[b]=p[b]);return{$$typeof:e,type:d,key:N,ref:q,props:x,_owner:o.current}}return vc.Fragment=r,vc.jsx=l,vc.jsxs=l,vc}var L0;function Mq(){return L0||(L0=1,$y.exports=jq()),$y.exports}var w=Mq(),Eu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ka=typeof window>"u"||"Deno"in globalThis;function Mi(){}function Dq(t,e){return typeof t=="function"?t(e):t}function vv(t){return typeof t=="number"&&t>=0&&t!==1/0}function YE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jl(t,e){return typeof t=="function"?t(e):t}function Xi(t,e){return typeof t=="function"?t(e):t}function j0(t,e){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:l,stale:d}=t;if(l){if(n){if(e.queryHash!==u_(l,e.options))return!1}else if(!Vc(e.queryKey,l))return!1}if(r!=="all"){const p=e.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function M0(t,e){const{exact:r,status:n,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ga(e.options.mutationKey)!==Ga(a))return!1}else if(!Vc(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||o&&!o(e))}function u_(t,e){return(e?.queryKeyHashFn||Ga)(t)}function Ga(t){return JSON.stringify(t,(e,r)=>_v(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Vc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Vc(t[r],e[r])):!1}function eN(t,e){if(t===e)return t;const r=D0(t)&&D0(e);if(r||_v(t)&&_v(e)){const n=r?t:Object.keys(t),o=n.length,a=r?e:Object.keys(e),l=a.length,d=r?[]:{};let p=0;for(let m=0;m<l;m++){const b=r?m:a[m];(!r&&n.includes(b)||r)&&t[b]===void 0&&e[b]===void 0?(d[b]=void 0,p++):(d[b]=eN(t[b],e[b]),d[b]===t[b]&&t[b]!==void 0&&p++)}return o===l&&p===o?t:d}return e}function Ph(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function D0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _v(t){if(!W0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!W0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function W0(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wq(t){return new Promise(e=>{setTimeout(e,t)})}function bv(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?eN(t,e):e}function Bq(t){return t}function zq(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function $q(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var c_=Symbol();function tN(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===c_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Uq=class extends Eu{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Ka&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},d_=new Uq,Vq=class extends Eu{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Ka&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Fh=new Vq;function wv(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),t(o)},r.reject=o=>{n({status:"rejected",reason:o}),e(o)},r}function Hq(t){return Math.min(1e3*2**t,3e4)}function rN(t){return(t??"online")==="online"?Fh.isOnline():!0}var nN=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Vy(t){return t instanceof nN}function iN(t){let e=!1,r=0,n=!1,o;const a=wv(),l=C=>{n||(N(new nN(C)),t.abort?.())},d=()=>{e=!0},p=()=>{e=!1},m=()=>d_.isFocused()&&(t.networkMode==="always"||Fh.isOnline())&&t.canRun(),b=()=>rN(t.networkMode)&&t.canRun(),x=C=>{n||(n=!0,t.onSuccess?.(C),o?.(),a.resolve(C))},N=C=>{n||(n=!0,t.onError?.(C),o?.(),a.reject(C))},q=()=>new Promise(C=>{o=L=>{(n||m())&&C(L)},t.onPause?.()}).then(()=>{o=void 0,n||t.onContinue?.()}),R=()=>{if(n)return;let C;const L=r===0?t.initialPromise:void 0;try{C=L??t.fn()}catch(P){C=Promise.reject(P)}Promise.resolve(C).then(x).catch(P=>{if(n)return;const T=t.retry??(Ka?0:3),M=t.retryDelay??Hq,U=typeof M=="function"?M(r,P):M,V=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,P);if(e||!V){N(P);return}r++,t.onFail?.(r,P),Wq(U).then(()=>m()?void 0:q()).then(()=>{e?N(P):R()})})};return{promise:a,cancel:l,continue:()=>(o?.(),a),cancelRetry:d,continueRetry:p,canStart:b,start:()=>(b()?R():q().then(R),a)}}function Qq(){let t=[],e=0,r=d=>{d()},n=d=>{d()},o=d=>setTimeout(d,0);const a=d=>{e?t.push(d):o(()=>{r(d)})},l=()=>{const d=t;t=[],d.length&&o(()=>{n(()=>{d.forEach(p=>{r(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||l()}return p},batchCalls:d=>(...p)=>{a(()=>{d(...p)})},schedule:a,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{o=d}}}var fn=Qq(),sN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vv(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ka?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Kq=class extends sN{#e;#t;#r;#n;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Gq(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=bv(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Mi).catch(Mi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Xi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===c_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!YE(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},o=()=>{const d=tN(this.options,e),p={queryKey:this.queryKey,meta:this.meta};return n(p),this.#s=!1,this.options.persister?this.options.persister(d,p,this):d(p)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta});const l=d=>{Vy(d)&&d.silent||this.#o({type:"error",error:d}),Vy(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#n=iN({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(p){l(p);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,p)=>{this.#o({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...oN(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Vy(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),fn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function oN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Gq(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Jq=class extends Eu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,o=e.queryHash??u_(n,e);let a=this.get(o);return a||(a=new Kq({cache:this,queryKey:n,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>j0(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>j0(t,r)):e}notify(t){fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zq=class extends sN{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||aN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=iN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,o)=>{this.#n({type:"failed",failureCount:n,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),fn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function aN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xq=class extends Eu{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new Zq({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=Kf(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=Kf(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Kf(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Kf(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>M0(e,r))}findAll(t={}){return this.getAll().filter(e=>M0(t,e))}notify(t){fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return fn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Mi))))}};function Kf(t){return t.options.scope?.id??String(t.mutationId)}function B0(t){return{onFetch:(e,r)=>{const n=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},p=0;const m=async()=>{let b=!1;const x=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},N=tN(e.options,e.fetchOptions),q=async(R,C,L)=>{if(b)return Promise.reject();if(C==null&&R.pages.length)return Promise.resolve(R);const P={queryKey:e.queryKey,pageParam:C,direction:L?"backward":"forward",meta:e.options.meta};x(P);const T=await N(P),{maxPages:M}=e.options,U=L?$q:zq;return{pages:U(R.pages,T,M),pageParams:U(R.pageParams,C,M)}};if(o&&a.length){const R=o==="backward",C=R?Yq:z0,L={pages:a,pageParams:l},P=C(n,L);d=await q(L,P,R)}else{const R=t??a.length;do{const C=p===0?l[0]??n.initialPageParam:z0(n,d);if(p>0&&C==null)break;d=await q(d,C),p++}while(p<R)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function z0(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Yq(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var eC=class{#e;#t;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new Jq,this.#t=t.mutationCache||new Xq,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=d_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Fh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Jl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(n.queryHash)?.state.data,l=Dq(e,a);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return fn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;fn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return fn.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=fn.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(n).then(Mi).catch(Mi)}invalidateQueries(t,e={}){return fn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none")return Promise.resolve();const r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=fn.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Mi)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Mi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Jl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mi).catch(Mi)}fetchInfiniteQuery(t){return t.behavior=B0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mi).catch(Mi)}ensureInfiniteQueryData(t){return t.behavior=B0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Ga(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{Vc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Ga(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let r={};return e.forEach(n=>{Vc(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=u_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===c_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},tC=class extends Eu{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=wv(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$0(this.#t,this.options)?this.#p():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xv(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xv(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),r._defaulted&&!Ph(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&U0(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),o&&(this.#t!==n||Xi(this.options.enabled,this.#t)!==Xi(r.enabled,this.#t)||Jl(this.options.staleTime,this.#t)!==Jl(r.staleTime,this.#t))&&this.#y();const a=this.#g();o&&(this.#t!==n||Xi(this.options.enabled,this.#t)!==Xi(r.enabled,this.#t)||a!==this.#f)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return nC(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Mi)),e}#y(){this.#b();const t=Jl(this.options.staleTime,this.#t);if(Ka||this.#n.isStale||!vv(t))return;const r=YE(this.#n.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Ka||Xi(this.options.enabled,this.#t)===!1||!vv(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||d_.isFocused())&&this.#p()},this.#f))}#_(){this.#y(),this.#v(this.#g())}#b(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,o=this.#n,a=this.#i,l=this.#s,p=t!==r?t.state:this.#r,{state:m}=t;let b={...m},x=!1,N;if(e._optimisticResults){const K=this.hasListeners(),le=!K&&$0(t,e),H=K&&U0(t,r,e,n);(le||H)&&(b={...b,...oN(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:q,errorUpdatedAt:R,status:C}=b;if(e.select&&b.data!==void 0)if(o&&b.data===a?.data&&e.select===this.#u)N=this.#l;else try{this.#u=e.select,N=e.select(b.data),N=bv(o?.data,N,e),this.#l=N,this.#a=null}catch(K){this.#a=K}else N=b.data;if(e.placeholderData!==void 0&&N===void 0&&C==="pending"){let K;if(o?.isPlaceholderData&&e.placeholderData===l?.placeholderData)K=o.data;else if(K=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&K!==void 0)try{K=e.select(K),this.#a=null}catch(le){this.#a=le}K!==void 0&&(C="success",N=bv(o?.data,K,e),x=!0)}this.#a&&(q=this.#a,N=this.#l,R=Date.now(),C="error");const L=b.fetchStatus==="fetching",P=C==="pending",T=C==="error",M=P&&L,U=N!==void 0,B={status:C,fetchStatus:b.fetchStatus,isPending:P,isSuccess:C==="success",isError:T,isInitialLoading:M,isLoading:M,data:N,dataUpdatedAt:b.dataUpdatedAt,error:q,errorUpdatedAt:R,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:L,isRefetching:L&&!P,isLoadingError:T&&!U,isPaused:b.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:T&&U,isStale:f_(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const K=ne=>{B.status==="error"?ne.reject(B.error):B.data!==void 0&&ne.resolve(B.data)},le=()=>{const ne=this.#o=B.promise=wv();K(ne)},H=this.#o;switch(H.status){case"pending":t.queryHash===r.queryHash&&K(H);break;case"fulfilled":(B.status==="error"||B.data!==H.value)&&le();break;case"rejected":(B.status!=="error"||B.error!==H.reason)&&le();break}}return B}updateResult(t){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),Ph(r,e))return;this.#n=r;const n={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#m.size)return!0;const d=new Set(l??this.#m);return this.options.throwOnError&&d.add("error"),Object.keys(this.#n).some(p=>{const m=p;return this.#n[m]!==e[m]&&d.has(m)})};t?.listeners!==!1&&o()&&(n.listeners=!0),this.#S({...n,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){fn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function rC(t,e){return Xi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $0(t,e){return rC(t,e)||t.state.data!==void 0&&xv(t,e,e.refetchOnMount)}function xv(t,e,r){if(Xi(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&f_(t,e)}return!1}function U0(t,e,r,n){return(t!==e||Xi(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&f_(t,r)}function f_(t,e){return Xi(e.enabled,t)!==!1&&t.isStaleByTime(Jl(e.staleTime,t))}function nC(t,e){return!Ph(t.getCurrentResult(),e)}var iC=class extends Eu{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Ph(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ga(r.mutationKey)!==Ga(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??aN();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){fn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},G=wd();const wr=Su(G),sC=Pq({__proto__:null,default:wr},[G]);var lN=G.createContext(void 0),Ic=t=>{const e=G.useContext(lN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},oC=({client:t,children:e})=>(G.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(lN.Provider,{value:t,children:e})),uN=G.createContext(!1),aC=()=>G.useContext(uN);uN.Provider;function lC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var uC=G.createContext(lC()),cC=()=>G.useContext(uC);function cN(t,e){return typeof t=="function"?t(...e):!!t}function Sv(){}var dC=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},fC=t=>{G.useEffect(()=>{t.clearReset()},[t])},hC=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&cN(r,[t.error,n]),pC=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},mC=(t,e)=>t.isLoading&&t.isFetching&&!e,yC=(t,e)=>t?.suspense&&e.isPending,V0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function gC(t,e,r){const n=Ic(),o=aC(),a=cC(),l=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=o?"isRestoring":"optimistic",pC(l),dC(l,a),fC(a);const d=!n.getQueryCache().get(l.queryHash),[p]=G.useState(()=>new e(n,l)),m=p.getOptimisticResult(l);if(G.useSyncExternalStore(G.useCallback(b=>{const x=o?Sv:p.subscribe(fn.batchCalls(b));return p.updateResult(),x},[p,o]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),G.useEffect(()=>{p.setOptions(l,{listeners:!1})},[l,p]),yC(l,m))throw V0(l,p,a);if(hC({result:m,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Ka&&mC(m,o)&&(d?V0(l,p,a):n.getQueryCache().get(l.queryHash)?.promise)?.catch(Sv).finally(()=>{p.updateResult()}),l.notifyOnChangeProps?m:p.trackResult(m)}function vC(t,e){return gC(t,tC)}function Tc(t,e){const r=Ic(),[n]=G.useState(()=>new iC(r,t));G.useEffect(()=>{n.setOptions(t)},[n,t]);const o=G.useSyncExternalStore(G.useCallback(l=>n.subscribe(fn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=G.useCallback((l,d)=>{n.mutate(l,d).catch(Sv)},[n]);if(o.error&&cN(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const H0="popstate",Q0="beforeunload";function dN(t){let e=t.getLocation();const r=new Set,n=l=>{e=t.getLocation(),r.forEach(d=>d({location:e,action:l}))},o=()=>{e=t.getLocation(),r.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},a=async({task:l,navigateOpts:d,...p})=>{var m,b;if(d?.ignoreBlocker??!1){l();return}const N=((m=t.getBlockers)==null?void 0:m.call(t))??[],q=p.type==="PUSH"||p.type==="REPLACE";if(typeof document<"u"&&N.length&&q)for(const R of N){const C=Hc(p.path,p.state);if(await R.blockerFn({currentLocation:e,nextLocation:C,action:p.type})){(b=t.onBlocked)==null||b.call(t,o);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:r,subscribe:l=>(r.add(l),()=>{r.delete(l)}),push:(l,d,p)=>{d=K0(d),a({task:()=>{t.pushState(l,d),n({type:"PUSH"})},navigateOpts:p,type:"PUSH",path:l,state:d})},replace:(l,d,p)=>{d=K0(d),a({task:()=>{t.replaceState(l,d),n({type:"REPLACE"})},navigateOpts:p,type:"REPLACE",path:l,state:d})},go:(l,d)=>{a({task:()=>{t.go(l),n({type:"GO",index:l})},navigateOpts:d,type:"GO"})},back:l=>{a({task:()=>{t.back(l?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{a({task:()=>{t.forward(l?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var d;if(!t.setBlockers)return()=>{};const p=((d=t.getBlockers)==null?void 0:d.call(t))??[];return t.setBlockers([...p,l]),()=>{var m,b;const x=((m=t.getBlockers)==null?void 0:m.call(t))??[];(b=t.setBlockers)==null||b.call(t,x.filter(N=>N!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:n}}function K0(t){return t||(t={}),{...t,key:wC()}}function _C(t){const e=typeof document<"u"?window:void 0,r=e.history.pushState,n=e.history.replaceState;let o=[];const a=()=>o,l=K=>o=K,d=K=>K,p=()=>Hc(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=p(),b,x=!1,N=!1,q=!1;const R=()=>m;let C,L;const P=()=>{C&&(B._ignoreSubscribers=!0,(C.isPush?e.history.pushState:e.history.replaceState)(C.state,"",C.href),B._ignoreSubscribers=!1,C=void 0,L=void 0,b=void 0)},T=(K,le,H)=>{const ne=d(le);L||(b=m),m=Hc(le,H),C={href:ne,state:H,isPush:C?.isPush||K==="push"},L||(L=Promise.resolve().then(()=>P()))},M=()=>{m=p(),B.notify({type:"POP"})},U=async()=>{if(x){x=!1;return}if(N)N=!1;else{const K=a();if(typeof document<"u"&&K.length)for(const le of K){const H=p();if(await le.blockerFn({currentLocation:m,nextLocation:H,action:"POP"})){x=!0,e.history.go(1),B.notify({type:"POP"});return}}}m=p(),B.notify({type:"POP"})},V=K=>{if(q){q=!1;return}let le=!1;const H=a();if(typeof document<"u"&&H.length)for(const ne of H){const W=ne.enableBeforeUnload??!0;if(W===!0){le=!0;break}if(typeof W=="function"&&W()===!0){le=!0;break}}if(le)return K.preventDefault(),K.returnValue=""},B=dN({getLocation:R,getLength:()=>e.history.length,pushState:(K,le)=>T("push",K,le),replaceState:(K,le)=>T("replace",K,le),back:K=>(K&&(N=!0),q=!0,e.history.back()),forward:K=>{K&&(N=!0),q=!0,e.history.forward()},go:K=>e.history.go(K),createHref:K=>d(K),flush:P,destroy:()=>{e.history.pushState=r,e.history.replaceState=n,e.removeEventListener(Q0,V,{capture:!0}),e.removeEventListener(H0,U)},onBlocked:K=>{b&&m!==b&&(m=b,K())},getBlockers:a,setBlockers:l});return e.addEventListener(Q0,V,{capture:!0}),e.addEventListener(H0,U),e.history.pushState=function(...K){const le=r.apply(e.history,K);return B._ignoreSubscribers||M(),le},e.history.replaceState=function(...K){const le=n.apply(e.history,K);return B._ignoreSubscribers||M(),le},B}function bC(t={initialEntries:["/"]}){const e=t.initialEntries;let r=t.initialIndex??e.length-1;const n=e.map(()=>({}));return dN({getLocation:()=>Hc(e[r],n[r]),getLength:()=>e.length,pushState:(a,l)=>{r<e.length-1&&(e.splice(r+1),n.splice(r+1)),n.push(l),e.push(a),r=Math.max(e.length-1,0)},replaceState:(a,l)=>{n[r]=l,e[r]=a},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,e.length-1)},go:a=>{r=Math.min(Math.max(r+a,0),e.length-1)},createHref:a=>a})}function Hc(t,e){const r=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:t.length),hash:r>-1?t.substring(r):"",search:n>-1?t.slice(n,r===-1?void 0:r):"",state:e||{}}}function wC(){return(Math.random()+1).toString(36).substring(7)}var xC="Invariant failed";function mi(t,e){if(!t)throw new Error(xC)}const Hy=G.createContext(null);function fN(){return typeof document>"u"?Hy:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Hy,Hy)}function _i(t){const e=G.useContext(fN());return t?.warn,e}var Qy={exports:{}},Ky={},Gy={exports:{}},Jy={};var G0;function SC(){if(G0)return Jy;G0=1;var t=wd();function e(x,N){return x===N&&(x!==0||1/x===1/N)||x!==x&&N!==N}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,o=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function d(x,N){var q=N(),R=n({inst:{value:q,getSnapshot:N}}),C=R[0].inst,L=R[1];return a(function(){C.value=q,C.getSnapshot=N,p(C)&&L({inst:C})},[x,q,N]),o(function(){return p(C)&&L({inst:C}),x(function(){p(C)&&L({inst:C})})},[x]),l(q),q}function p(x){var N=x.getSnapshot;x=x.value;try{var q=N();return!r(x,q)}catch{return!0}}function m(x,N){return N()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Jy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,Jy}var J0;function EC(){return J0||(J0=1,Gy.exports=SC()),Gy.exports}var Z0;function NC(){if(Z0)return Ky;Z0=1;var t=wd(),e=EC();function r(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:r,o=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,d=t.useMemo,p=t.useDebugValue;return Ky.useSyncExternalStoreWithSelector=function(m,b,x,N,q){var R=a(null);if(R.current===null){var C={hasValue:!1,value:null};R.current=C}else C=R.current;R=d(function(){function P(B){if(!T){if(T=!0,M=B,B=N(B),q!==void 0&&C.hasValue){var K=C.value;if(q(K,B))return U=K}return U=B}if(K=U,n(M,B))return K;var le=N(B);return q!==void 0&&q(K,le)?(M=B,K):(M=B,U=le)}var T=!1,M,U,V=x===void 0?null:x;return[function(){return P(b())},V===null?void 0:function(){return P(V())}]},[b,x,N,q]);var L=o(m,R[0],R[1]);return l(function(){C.hasValue=!0,C.value=L},[L]),p(L),L},Ky}var X0;function kC(){return X0||(X0=1,Qy.exports=NC()),Qy.exports}var qC=kC();class CC{constructor(e,r){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=n=>{var o,a;this.listeners.add(n);const l=(a=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:a.call(o,n,this);return()=>{this.listeners.delete(n),l?.()}},this.setState=n=>{var o,a,l;const d=this.state;this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(d)(n):n(d),(l=(a=this.options)==null?void 0:a.onUpdate)==null||l.call(a),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(o=>{this._flushing===n&&o()})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=r}}function RC(t,e=r=>r){return qC.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,OC)}function OC(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,o]of t)if(!e.has(n)||!Object.is(o,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}const di="__root__";function AC(t,e){let r,n,o,a="";for(r in t)if((o=t[r])!==void 0)if(Array.isArray(o))for(n=0;n<o.length;n++)a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(o[n]);else a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(o);return""+a}function Y0(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function IC(t,e){let r,n;const o={},a=t.split("&");for(;r=a.shift();){const l=r.indexOf("=");if(l!==-1){n=r.slice(0,l),n=decodeURIComponent(n);const d=r.slice(l+1);o[n]!==void 0?o[n]=[].concat(o[n],Y0(d)):o[n]=Y0(d)}else n=r,n=decodeURIComponent(n),o[n]=""}return o}const TC=FC(JSON.parse),PC=LC(JSON.stringify,JSON.parse);function FC(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const r=IC(e);for(const n in r){const o=r[n];if(typeof o=="string")try{r[n]=t(o)}catch{}}return r}}function LC(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(a=>{const l=n[a];typeof l>"u"||l===void 0?delete n[a]:n[a]=r(l)});const o=AC(n).toString();return o?`?${o}`:""}}function Pc(t){return t[t.length-1]}function jC(t){return typeof t=="function"}function Wa(t,e){return jC(t)?t(e):t}function lh(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Li(t,e){if(t===e)return t;const r=e,n=tx(t)&&tx(r);if(n||du(t)&&du(r)){const o=n?t:Object.keys(t),a=o.length,l=n?r:Object.keys(r),d=l.length,p=n?[]:{};let m=0;for(let b=0;b<d;b++){const x=n?b:l[b];(!n&&o.includes(x)||n)&&t[x]===void 0&&r[x]===void 0?(p[x]=void 0,m++):(p[x]=Li(t[x],r[x]),p[x]===t[x]&&t[x]!==void 0&&m++)}return a===d&&m===a?t:p}return r}function du(t){if(!ex(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!ex(r)||!r.hasOwnProperty("isPrototypeOf"))}function ex(t){return Object.prototype.toString.call(t)==="[object Object]"}function tx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rx(t,e){let r=Object.keys(t);return e&&(r=r.filter(n=>t[n]!==void 0)),r}function Zl(t,e,r){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(du(t)&&du(e)){const n=r?.ignoreUndefined??!0,o=rx(t,n),a=rx(e,n);return!r?.partial&&o.length!==a.length?!1:a.every(l=>Zl(t[l],e[l],r))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((n,o)=>!Zl(n,e[o],r)):!1}const kc=typeof window<"u"?G.useLayoutEffect:G.useEffect;function Bl(t){let e,r;const n=new Promise((o,a)=>{e=o,r=a});return n.status="pending",n.resolve=o=>{n.status="resolved",n.value=o,e(o),t?.(o)},n.reject=o=>{n.status="rejected",r(o)},n}function Zy(t){const e=G.useRef({value:t,prev:null}),r=e.current.value;return t!==r&&(e.current={value:t,prev:r}),e.current.prev}function MC(t,e,r={},n={}){const o=G.useRef(typeof IntersectionObserver=="function"),a=G.useRef(null);return G.useEffect(()=>{if(!(!t.current||!o.current||n.disabled))return a.current=new IntersectionObserver(([l])=>{e(l)},r),a.current.observe(t.current),()=>{var l;(l=a.current)==null||l.disconnect()}},[e,r,n.disabled,t]),a.current}function DC(t){const e=G.useRef(null);return G.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function so(t){return wp(t.filter(e=>e!==void 0).join("/"))}function wp(t){return t.replace(/\/{2,}/g,"/")}function h_(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Ba(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function WC(t){return Ba(h_(t))}function Lh(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function BC(t,e,r){return Lh(t,r)===Lh(e,r)}function zC({basepath:t,base:e,to:r,trailingSlash:n="never",caseSensitive:o}){var a,l;e=jh(t,e,o),r=jh(t,r,o);let d=fu(e);const p=fu(r);d.length>1&&((a=Pc(d))==null?void 0:a.value)==="/"&&d.pop(),p.forEach((b,x)=>{b.value==="/"?x?x===p.length-1&&d.push(b):d=[b]:b.value===".."?d.pop():b.value==="."||d.push(b)}),d.length>1&&(((l=Pc(d))==null?void 0:l.value)==="/"?n==="never"&&d.pop():n==="always"&&d.push({type:"pathname",value:"/"}));const m=so([t,...d.map(b=>b.value)]);return wp(m)}function fu(t){if(!t)return[];t=wp(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const r=t.split("/").filter(Boolean);return e.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Gf({path:t,params:e,leaveWildcards:r,leaveParams:n,decodeCharMap:o}){const a=fu(t),l={};for(const[d,p]of Object.entries(e)){const m=typeof p=="string";["*","_splat"].includes(d)?l[d]=m?encodeURI(p):p:l[d]=m?$C(p,o):p}return so(a.map(d=>{if(d.type==="wildcard"){const p=l._splat;return r?`${d.value}${p??""}`:p}if(d.type==="param"){if(n){const p=l[d.value];return`${d.value}${p??""}`}return l[d.value.substring(1)]??"undefined"}return d.value}))}function $C(t,e){let r=encodeURIComponent(t);if(e)for(const[n,o]of e)r=r.replaceAll(n,o);return r}function Jf(t,e,r){const n=UC(t,e,r);if(!(r.to&&!n))return n??{}}function jh(t,e,r=!1){const n=r?t:t.toLowerCase(),o=r?e:e.toLowerCase();switch(!0){case n==="/":return e;case o===n:return"";case e.length<t.length:return e;case o[n.length]!=="/":return e;case o.startsWith(n):return e.slice(t.length);default:return e}}function UC(t,e,r){if(t!=="/"&&!e.startsWith(t))return;e=jh(t,e,r.caseSensitive);const n=jh(t,`${r.to??"$"}`,r.caseSensitive),o=fu(e),a=fu(n);e.startsWith("/")||o.unshift({type:"pathname",value:"/"}),n.startsWith("/")||a.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let p=0;p<Math.max(o.length,a.length);p++){const m=o[p],b=a[p],x=p>=o.length-1,N=p>=a.length-1;if(b){if(b.type==="wildcard"){const q=decodeURI(so(o.slice(p).map(R=>R.value)));return l["*"]=q,l._splat=q,!0}if(b.type==="pathname"){if(b.value==="/"&&!m?.value)return!0;if(m){if(r.caseSensitive){if(b.value!==m.value)return!1}else if(b.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(b.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[b.value.substring(1)]=decodeURIComponent(m.value))}}if(!x&&N)return l["**"]=so(o.slice(p+1).map(q=>q.value)),!!r.fuzzy&&b?.value!=="/"}return!0})()?l:void 0}function xp(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Pa(t){return!!t?.isRedirect}function Xy(t){return!!t?.isRedirect&&t.href}function p_(t){const e=t.errorComponent??Sp;return w.jsx(VC,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:r,reset:n})=>r?G.createElement(e,{error:r,reset:n}):t.children})}class VC extends G.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,r){this.props.onCatch&&this.props.onCatch(e,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Sp({error:t}){const[e,r]=G.useState(!1);return w.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[w.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),w.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:e?"Hide Error":"Show Error"})]}),w.jsx("div",{style:{height:".25rem"}}),e?w.jsx("div",{children:w.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?w.jsx("code",{children:t.message}):null})}):null]})}function Wn(t){const e=_i({warn:t?.router===void 0}),r=t?.router||e,n=G.useRef();return RC(r.__store,o=>{if(t?.select){if(t.structuralSharing??r.options.defaultStructuralSharing){const a=Li(n.current,t.select(o));return n.current=a,a}return t.select(o)}return o})}function Zi(t){return!!t?.isNotFound}function HC(t){const e=Wn({select:r=>`not-found-${r.location.pathname}-${r.status}`});return w.jsx(p_,{getResetKey:()=>e,onCatch:(r,n)=>{var o;if(Zi(r))(o=t.onCatch)==null||o.call(t,r,n);else throw r},errorComponent:({error:r})=>{var n;if(Zi(r))return(n=t.fallback)==null?void 0:n.call(t,r);throw r},children:t.children})}function QC(){return w.jsx("p",{children:"Not Found"})}const KC={stringify:t=>JSON.stringify(t,function(r,n){const o=this[r],a=nx.find(l=>l.stringifyCondition(o));return a?a.stringify(o):n}),parse:t=>JSON.parse(t,function(r,n){const o=this[r],a=nx.find(l=>l.parseCondition(o));return a?a.parse(o):n})},nx=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>du(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>du(t)&&t.$undefined==="",parse:()=>{}}],hN=["component","errorComponent","pendingComponent","notFoundComponent"];function GC(t){var e;for(const r of hN)if((e=t.options[r])!=null&&e.preload)return!0;return!1}function Yy(t,e){if(t==null)return{};if("~standard"in t){const r=t["~standard"].validate(e);if(r instanceof Promise)throw new Ev("Async validation not supported");if(r.issues)throw new Ev(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function JC(t){return new ZC(t)}class ZC{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const o=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(a=>[encodeURIComponent(a),a])):void 0,(!this.basepath||r.basepath&&r.basepath!==o.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${WC(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?bC({initialEntries:[this.basepath||"/"]}):_C()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new CC(YC(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(a=>!["redirected"].includes(a.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=l=>{l.forEach((d,p)=>{d.init({originalIndex:p,defaultSsr:this.options.defaultSsr});const m=this.routesById[d.id];if(mi(!m,`Duplicate routes found with id: ${String(d.id)}`),this.routesById[d.id]=d,!d.isRoot&&d.path){const x=Ba(d.fullPath);(!this.routesByPath[x]||d.fullPath.endsWith("/"))&&(this.routesByPath[x]=d)}const b=d.children;b?.length&&n(b)})};n([this.routeTree]);const o=[];Object.values(this.routesById).forEach((l,d)=>{var p;if(l.isRoot||!l.path)return;const m=h_(l.fullPath),b=fu(m);for(;b.length>1&&((p=b[0])==null?void 0:p.value)==="/";)b.shift();const x=b.map(N=>N.value==="/"?.75:N.type==="param"?.5:N.type==="wildcard"?.25:1);o.push({child:l,trimmed:m,parsed:b,index:d,scores:x})}),this.flatRoutes=o.sort((l,d)=>{const p=Math.min(l.scores.length,d.scores.length);for(let m=0;m<p;m++)if(l.scores[m]!==d.scores[m])return d.scores[m]-l.scores[m];if(l.scores.length!==d.scores.length)return d.scores.length-l.scores.length;for(let m=0;m<p;m++)if(l.parsed[m].value!==d.parsed[m].value)return l.parsed[m].value>d.parsed[m].value?1:-1;return l.index-d.index}).map((l,d)=>(l.child.rank=d,l.child))},this.subscribe=(r,n)=>{const o={eventType:r,fn:n};return this.subscribers.add(o),()=>{this.subscribers.delete(o)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const o=({pathname:p,search:m,hash:b,state:x})=>{const N=this.options.parseSearch(m),q=this.options.stringifySearch(N);return{pathname:p,searchStr:q,search:Li(r?.search,N),hash:b.split("#").reverse()[0]??"",href:`${p}${q}${b}`,state:Li(r?.state,x)}},a=o(n??this.history.location),{__tempLocation:l,__tempKey:d}=a.state;if(l&&(!d||d===this.tempLocationKey)){const p=o(l);return p.state.key=a.state.key,delete p.state.__tempLocation,{...p,maskedLocation:a}}return a},this.resolvePathWithBase=(r,n)=>zC({basepath:this.basepath,base:r,to:wp(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let o={};const a=Ba(r.pathname),l=b=>Jf(this.basepath,a,{to:b.fullPath,caseSensitive:b.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let d=n?.to!==void 0?this.routesByPath[n.to]:void 0;d?o=l(d):d=this.flatRoutes.find(b=>{const x=l(b);return x?(o=x,!0):!1});let p=d||this.routesById[di];const m=[p];for(;p.parentRoute;)p=p.parentRoute,m.unshift(p);return{matchedRoutes:m,routeParams:o,foundRoute:d}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(a={},l)=>{var d,p,m,b,x,N;const q=a._fromLocation?this.matchRoutes(a._fromLocation,{_buildLocation:!0}):this.state.matches,R=a.from!=null?q.find(W=>Jf(this.basepath,Ba(W.pathname),{to:a.from,caseSensitive:!1,fuzzy:!1})):void 0,C=R?.pathname||this.latestLocation.pathname;mi(a.from==null||R!=null,"Could not find match for from: "+a.from);const L=(d=this.state.pendingMatches)!=null&&d.length?(p=Pc(this.state.pendingMatches))==null?void 0:p.search:((m=Pc(q))==null?void 0:m.search)||this.latestLocation.search,P=l?.matchedRoutes.filter(W=>q.find(re=>re.routeId===W.id));let T;if(a.to)T=this.resolvePathWithBase(C,`${a.to}`);else{const W=this.routesById[(b=P?.find(re=>{const Z=Gf({path:re.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return so([this.basepath,Z])===C}))==null?void 0:b.id];T=this.resolvePathWithBase(C,W?.to??C)}const M={...(x=Pc(q))==null?void 0:x.params};let U=(a.params??!0)===!0?M:{...M,...Wa(a.params,M)};Object.keys(U).length>0&&l?.matchedRoutes.map(W=>{var re;return((re=W.options.params)==null?void 0:re.stringify)??W.options.stringifyParams}).filter(Boolean).forEach(W=>{U={...U,...W(U)}}),T=Gf({path:T,params:U??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let V=L;if(r._includeValidateSearch&&((N=this.options.search)!=null&&N.strict)){let W={};l?.matchedRoutes.forEach(re=>{try{re.options.validateSearch&&(W={...W,...Yy(re.options.validateSearch,{...W,...V})??{}})}catch{}}),V=W}V=(W=>{const re=l?.matchedRoutes.reduce((Re,Ce)=>{var Pe;const ve=[];if("search"in Ce.options)(Pe=Ce.options.search)!=null&&Pe.middlewares&&ve.push(...Ce.options.search.middlewares);else if(Ce.options.preSearchFilters||Ce.options.postSearchFilters){const me=({search:Ee,next:Q})=>{let xe=Ee;"preSearchFilters"in Ce.options&&Ce.options.preSearchFilters&&(xe=Ce.options.preSearchFilters.reduce((at,dt)=>dt(at),Ee));const lt=Q(xe);return"postSearchFilters"in Ce.options&&Ce.options.postSearchFilters?Ce.options.postSearchFilters.reduce((at,dt)=>dt(at),lt):lt};ve.push(me)}if(r._includeValidateSearch&&Ce.options.validateSearch){const me=({search:Ee,next:Q})=>{try{const xe=Q(Ee);return{...xe,...Yy(Ce.options.validateSearch,xe)??{}}}catch{}};ve.push(me)}return Re.concat(ve)},[])??[],Z=({search:Re})=>a.search?a.search===!0?Re:Wa(a.search,Re):{};re.push(Z);const pe=(Re,Ce)=>{if(Re>=re.length)return Ce;const Pe=re[Re];return Pe({search:Ce,next:me=>pe(Re+1,me)})};return pe(0,W)})(V),V=Li(L,V);const K=this.options.stringifySearch(V),le=a.hash===!0?this.latestLocation.hash:a.hash?Wa(a.hash,this.latestLocation.hash):void 0,H=le?`#${le}`:"";let ne=a.state===!0?this.latestLocation.state:a.state?Wa(a.state,this.latestLocation.state):{};return ne=Li(this.latestLocation.state,ne),{pathname:T,search:V,searchStr:K,state:ne,hash:le??"",href:`${T}${K}${H}`,unmaskOnReload:a.unmaskOnReload}},o=(a={},l)=>{var d;const p=n(a);let m=l?n(l):void 0;if(!m){let N={};const q=(d=this.options.routeMasks)==null?void 0:d.find(R=>{const C=Jf(this.basepath,p.pathname,{to:R.from,caseSensitive:!1,fuzzy:!1});return C?(N=C,!0):!1});if(q){const{from:R,...C}=q;l={...lh(r,["from"]),...C,params:N},m=n(l)}}const b=this.getMatchedRoutes(p,a),x=n(a,b);if(m){const N=this.getMatchedRoutes(m,l),q=n(l,N);x.maskedLocation=q}return x};return r.mask?o(r,{...lh(r,["from"]),...r.mask}):o(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...o})=>{const a=()=>{o.state.key=this.latestLocation.state.key;const p=Zl(o.state,this.latestLocation.state);return delete o.state.key,p},l=this.latestLocation.href===o.href,d=this.commitLocationPromise;if(this.commitLocationPromise=Bl(()=>{d?.resolve()}),l&&a())this.load();else{let{maskedLocation:p,hashScrollIntoView:m,...b}=o;p&&(b={...p,state:{...p.state,__tempKey:void 0,__tempLocation:{...b,search:b.searchStr,state:{...b.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(b.unmaskOnReload??this.options.unmaskOnReload??!1)&&(b.state.__tempKey=this.tempLocationKey)),b.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[o.replace?"replace":"push"](b.href,b.state,{ignoreBlocker:n})}return this.resetNextScroll=o.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:o,viewTransition:a,ignoreBlocker:l,href:d,...p}={})=>{if(d){const b=Hc(d,{});p.to=b.pathname,p.search=this.options.parseSearch(b.search),p.hash=b.hash.slice(1)}const m=this.buildLocation({...p,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:a,replace:r,resetScroll:n,hashScrollIntoView:o,ignoreBlocker:l})},this.navigate=({to:r,reloadDocument:n,href:o,...a})=>{if(n){o||(o=this.buildLocation({to:r,...a}).href),a.replace?window.location.replace(o):window.location.href=o;return}return this.buildAndCommitLocation({...a,href:o,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,o;for(o=new Promise(a=>{this.startReactTransition(async()=>{var l;try{const d=this.latestLocation,p=this.state.resolvedLocation,m=p.href!==d.href,b=p.pathname!==d.pathname;this.cancelMatches();let x;this.__store.batch(()=>{x=this.matchRoutes(d),this.__store.setState(N=>({...N,status:"pending",isLoading:!0,location:d,pendingMatches:x,cachedMatches:N.cachedMatches.filter(q=>!x.find(R=>R.id===q.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:p,toLocation:d,pathChanged:b,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:p,toLocation:d,pathChanged:b,hrefChanged:m}),await this.loadMatches({matches:x,location:d,onReady:async()=>{this.startViewTransition(async()=>{let N,q,R;this.__store.batch(()=>{this.__store.setState(C=>{const L=C.matches,P=C.pendingMatches||C.matches;return N=L.filter(T=>!P.find(M=>M.id===T.id)),q=P.filter(T=>!L.find(M=>M.id===T.id)),R=L.filter(T=>P.find(M=>M.id===T.id)),{...C,isLoading:!1,loadedAt:Date.now(),matches:P,pendingMatches:void 0,cachedMatches:[...C.cachedMatches,...N.filter(T=>T.status!=="error")]}}),this.clearExpiredCache()}),[[N,"onLeave"],[q,"onEnter"],[R,"onStay"]].forEach(([C,L])=>{C.forEach(P=>{var T,M;(M=(T=this.looseRoutesById[P.routeId].options)[L])==null||M.call(T,P)})})})}})}catch(d){Xy(d)?(r=d,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Zi(d)&&(n=d),this.__store.setState(p=>({...p,statusCode:r?r.statusCode:n?404:p.matches.some(m=>m.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let o;typeof n=="object"&&this.isViewTransitionTypesSupported?o={update:r,types:n.types}:o=r,document.startViewTransition(o)}else r()},this.updateMatch=(r,n)=>{var o;let a;const l=(o=this.state.pendingMatches)==null?void 0:o.find(b=>b.id===r),d=this.state.matches.find(b=>b.id===r),p=this.state.cachedMatches.find(b=>b.id===r),m=l?"pendingMatches":d?"matches":p?"cachedMatches":"";return m&&this.__store.setState(b=>{var x;return{...b,[m]:(x=b[m])==null?void 0:x.map(N=>N.id===r?a=n(N):N)}}),a},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:o,onReady:a,updateMatch:l=this.updateMatch})=>{let d,p=!1;const m=async()=>{p||(p=!0,await a?.())},b=N=>!!(o&&!this.state.matches.find(q=>q.id===N));!this.isServer&&!this.state.matches.length&&m();const x=(N,q)=>{var R,C,L;if(Xy(q)&&!q.reloadDocument)throw q;if(Pa(q)||Zi(q)){if(l(N.id,P=>({...P,status:Pa(q)?"redirected":Zi(q)?"notFound":"error",isFetching:!1,error:q,beforeLoadPromise:void 0,loaderPromise:void 0})),q.routeId||(q.routeId=N.routeId),(R=N.beforeLoadPromise)==null||R.resolve(),(C=N.loaderPromise)==null||C.resolve(),(L=N.loadPromise)==null||L.resolve(),Pa(q))throw p=!0,q=this.resolveRedirect({...q,_fromLocation:r}),q;if(Zi(q))throw this._handleNotFound(n,q,{updateMatch:l}),q}};try{await new Promise((N,q)=>{(async()=>{var R,C,L;try{const P=(U,V,B)=>{var K,le;const{id:H,routeId:ne}=n[U],W=this.looseRoutesById[ne];if(V instanceof Promise)throw V;V.routerCode=B,d=d??U,x(this.getMatch(H),V);try{(le=(K=W.options).onError)==null||le.call(K,V)}catch(re){V=re,x(this.getMatch(H),V)}l(H,re=>{var Z,pe;return(Z=re.beforeLoadPromise)==null||Z.resolve(),(pe=re.loadPromise)==null||pe.resolve(),{...re,error:V,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[U,{id:V,routeId:B}]of n.entries()){const K=this.getMatch(V),le=(R=n[U-1])==null?void 0:R.id,H=this.looseRoutesById[B],ne=H.options.pendingMs??this.options.defaultPendingMs,W=!!(a&&!this.isServer&&!b(V)&&(H.options.loader||H.options.beforeLoad)&&typeof ne=="number"&&ne!==1/0&&(H.options.pendingComponent??this.options.defaultPendingComponent));let re=!0;if((K.beforeLoadPromise||K.loaderPromise)&&(W&&setTimeout(()=>{try{m()}catch{}},ne),await K.beforeLoadPromise,re=this.getMatch(V).status!=="success"),re){try{l(V,dt=>({...dt,loadPromise:Bl(()=>{var mt;(mt=dt.loadPromise)==null||mt.resolve()}),beforeLoadPromise:Bl()}));const Z=new AbortController;let pe;W&&(pe=setTimeout(()=>{try{m()}catch{}},ne));const{paramsError:Re,searchError:Ce}=this.getMatch(V);Re&&P(U,Re,"PARSE_PARAMS"),Ce&&P(U,Ce,"VALIDATE_SEARCH");const Pe=()=>le?this.getMatch(le).context:this.options.context??{};l(V,dt=>({...dt,isFetching:"beforeLoad",fetchCount:dt.fetchCount+1,abortController:Z,pendingTimeout:pe,context:{...Pe(),...dt.__routeContext,...dt.__beforeLoadContext}}));const{search:ve,params:me,context:Ee,cause:Q}=this.getMatch(V),xe=b(V),lt={search:ve,abortController:Z,params:me,preload:xe,context:Ee,location:r,navigate:dt=>this.navigate({...dt,_fromLocation:r}),buildLocation:this.buildLocation,cause:xe?"preload":Q,matches:n};let at=await ((L=(C=H.options).beforeLoad)==null?void 0:L.call(C,lt))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(V)})),(Pa(at)||Zi(at))&&P(U,at,"BEFORE_LOAD"),l(V,dt=>({...dt,__beforeLoadContext:at,context:{...Pe(),...dt.__routeContext,...at},abortController:Z}))}catch(Z){P(U,Z,"BEFORE_LOAD")}l(V,Z=>{var pe;return(pe=Z.beforeLoadPromise)==null||pe.resolve(),{...Z,beforeLoadPromise:void 0,isFetching:!1}})}}const T=n.slice(0,d),M=[];T.forEach(({id:U,routeId:V},B)=>{M.push((async()=>{const{loaderPromise:K}=this.getMatch(U);let le=!1;if(K)await K;else{const H=M[B-1],ne=this.looseRoutesById[V],W=()=>{const{params:xe,loaderDeps:lt,abortController:at,context:dt,cause:mt}=this.getMatch(U),ft=b(U);return{params:xe,deps:lt,preload:!!ft,parentMatchPromise:H,abortController:at,context:dt,location:r,navigate:gt=>this.navigate({...gt,_fromLocation:r}),cause:ft?"preload":mt,route:ne}},re=Date.now()-this.getMatch(U).updatedAt,Z=b(U),pe=Z?ne.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ne.options.staleTime??this.options.defaultStaleTime??0,Re=ne.options.shouldReload,Ce=typeof Re=="function"?Re(W()):Re;l(U,xe=>({...xe,loaderPromise:Bl(),preload:!!Z&&!this.state.matches.find(lt=>lt.id===U)}));const Pe=async()=>{var xe,lt,at,dt,mt,ft,gt,Tt;try{const vt=async()=>{const yt=this.getMatch(U);yt.minPendingPromise&&await yt.minPendingPromise};try{this.loadRouteChunk(ne),l(U,ur=>({...ur,isFetching:"loader"}));let yt=await ((lt=(xe=ne.options).loader)==null?void 0:lt.call(xe,W()));this.serializeLoaderData&&(yt=this.serializeLoaderData("loaderData",yt,{router:this,match:this.getMatch(U)})),x(this.getMatch(U),yt),await ne._lazyPromise,await vt();const Rt=(dt=(at=ne.options).head)==null?void 0:dt.call(at,{matches:n,match:this.getMatch(U),params:this.getMatch(U).params,loaderData:yt}),qt=Rt?.meta,Jt=Rt?.links,Gt=Rt?.scripts,er=(ft=(mt=ne.options).headers)==null?void 0:ft.call(mt,{loaderData:yt});l(U,ur=>({...ur,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:yt,meta:qt,links:Jt,scripts:Gt,headers:er}))}catch(yt){let Rt=yt;await vt(),x(this.getMatch(U),yt);try{(Tt=(gt=ne.options).onError)==null||Tt.call(gt,yt)}catch(qt){Rt=qt,x(this.getMatch(U),qt)}l(U,qt=>({...qt,error:Rt,status:"error",isFetching:!1}))}await ne._componentsPromise}catch(vt){l(U,yt=>({...yt,loaderPromise:void 0})),x(this.getMatch(U),vt)}},{status:ve,invalid:me}=this.getMatch(U);le=ve==="success"&&(me||(Ce??re>pe)),Z&&ne.options.preload===!1||(le?(async()=>{try{await Pe()}catch(xe){Xy(xe)&&await this.navigate(xe)}})():ve!=="success"&&await Pe());const{loaderPromise:Ee,loadPromise:Q}=this.getMatch(U);Ee?.resolve(),Q?.resolve()}return l(U,H=>({...H,isFetching:le?H.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(U)})())}),await Promise.all(M),N()}catch(P){q(P)}})()}),await m()}catch(N){if(Pa(N)||Zi(N))throw Zi(N)&&!o&&await m(),N}return n},this.invalidate=r=>{const n=o=>{var a;return((a=r?.filter)==null?void 0:a.call(r,o))??!0?{...o,invalid:!0,...o.status==="error"?{status:"pending",error:void 0}:{}}:o};return this.__store.setState(o=>{var a;return{...o,matches:o.matches.map(n),cachedMatches:o.cachedMatches.map(n),pendingMatches:(a=o.pendingMatches)==null?void 0:a.map(n)}}),this.load()},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r?.filter;n!==void 0?this.__store.setState(o=>({...o,cachedMatches:o.cachedMatches.filter(a=>!n(a))})):this.__store.setState(o=>({...o,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const o=this.looseRoutesById[n.routeId];if(!o.options.loader)return!0;const a=(n.preload?o.options.preloadGcTime??this.options.defaultPreloadGcTime:o.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<a)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:o,...a}=n.options;Object.assign(r.options,a)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(hN.map(async n=>{const o=r.options[n];o?.preload&&await o.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let o=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(d=>d.id)),l=new Set([...a,...this.state.cachedMatches.map(d=>d.id)]);this.__store.batch(()=>{o.forEach(d=>{l.has(d.id)||this.__store.setState(p=>({...p,cachedMatches:[...p.cachedMatches,d]}))})});try{return o=await this.loadMatches({matches:o,location:n,preload:!0,updateMatch:(d,p)=>{a.has(d)?o=o.map(m=>m.id===d?p(m):m):this.updateMatch(d,p)}}),o}catch(d){if(Pa(d))return d.reloadDocument?void 0:await this.preloadRoute({...d,_fromLocation:n});console.error(d);return}},this.matchRoute=(r,n)=>{const o={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},a=this.buildLocation(o);if(n?.pending&&this.state.status!=="pending")return!1;const d=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,p=Jf(this.basepath,d.pathname,{...n,to:a.pathname});return!p||r.params&&!Zl(p,r.params,{partial:!0})?!1:p&&(n?.includeSearch??!0)?Zl(d.search,a.search,{partial:!0})?p:!1:p},this.dehydrate=()=>{var r;const n=((r=this.options.errorSerializer)==null?void 0:r.serialize)??eR;return{state:{dehydratedMatches:this.state.matches.map(o=>({...lh(o,["id","status","updatedAt"]),error:o.error?{data:n(o.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var r,n,o;let a;typeof document<"u"&&(a=this.options.transformer.parse((r=window.__TSR__)==null?void 0:r.dehydrated)),mi(a),this.dehydratedData=a.payload,(o=(n=this.options).hydrate)==null||o.call(n,a.payload);const l=a.router.state,d=this.matchRoutes(this.state.location).map(p=>{const m=l.dehydratedMatches.find(b=>b.id===p.id);return mi(m,`Could not find a client-side match for dehydrated match with id: ${p.id}!`),{...p,...m}});this.__store.setState(p=>({...p,matches:d})),this.manifest=a.router.manifest},this.injectedHtml=[],this.injectHtml=r=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(o=>o!==n),r);this.injectedHtml.push(n)},this.injectScript=(r,n)=>{this.injectHtml(`<script class='tsr-once'>${r}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=r=>{var n;if(this.isServer)return;const o=(n=window.__TSR__)==null?void 0:n.streamedValues[r];if(o)return o.parsed||(o.parsed=this.options.transformer.parse(o.value)),o.parsed},this.streamValue=(r,n)=>{var o;this.streamedKeys.has(r),this.streamedKeys.add(r),this.injectScript(`__TSR__.streamedValues['${r}'] = { value: ${(o=this.serializer)==null?void 0:o.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(r,n,{updateMatch:o=this.updateMatch}={})=>{const a=Object.fromEntries(r.map(p=>[p.routeId,p]));let l=(n.global?this.looseRoutesById[di]:this.looseRoutesById[n.routeId])||this.looseRoutesById[di];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==di;)l=l.parentRoute,mi(l);const d=a[l.id];mi(d,"Could not find match for route: "+l.id),o(d.id,p=>({...p,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(n.routeId=l.parentRoute.id,this._handleNotFound(r,n,{updateMatch:o}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??PC,parseSearch:e.parseSearch??TC,transformer:e.transformer??KC}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,r,n){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r)}matchRoutesInternal(e,r){const{foundRoute:n,matchedRoutes:o,routeParams:a}=this.getMatchedRoutes(e,r?.dest);let l=!1;(n?n.path!=="/"&&a["**"]:Ba(e.pathname))&&(this.options.notFoundRoute?o.push(this.options.notFoundRoute):l=!0);const d=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let x=o.length-1;x>=0;x--){const N=o[x];if(N.children)return N.id}return di}})(),p=o.map(x=>{var N;let q;const R=((N=x.options.params)==null?void 0:N.parse)??x.options.parseParams;if(R)try{const C=R(a);Object.assign(a,C)}catch(C){if(q=new XC(C.message,{cause:C}),r?.throwOnError)throw q;return q}}),m=[],b=x=>x?.id?x.context??this.options.context??{}:this.options.context??{};return o.forEach((x,N)=>{var q,R,C,L;const P=m[N-1],[T,M]=(()=>{const Z=P?.search??e.search;try{const pe=Yy(x.options.validateSearch,Z)??{};return[{...Z,...pe},void 0]}catch(pe){const Re=new Ev(pe.message,{cause:pe});if(r?.throwOnError)throw Re;return[Z,Re]}})(),U=((R=(q=x.options).loaderDeps)==null?void 0:R.call(q,{search:T}))??"",V=U?JSON.stringify(U):"",B=Gf({path:x.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),K=Gf({path:x.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+V,le=this.getMatch(K),H=this.state.matches.find(Z=>Z.routeId===x.id),ne=H?"stay":"enter";let W;if(le)W={...le,cause:ne,params:H?Li(H.params,a):a,search:Li(H?H.search:le.search,T)};else{const Z=x.options.loader||x.options.beforeLoad||x.lazyFn||GC(x)?"pending":"success";W={id:K,index:N,routeId:x.id,params:H?Li(H.params,a):a,pathname:so([this.basepath,B]),updatedAt:Date.now(),search:H?Li(H.search,T):T,searchError:void 0,status:Z,isFetching:!1,error:void 0,paramsError:p[N],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ne,loaderDeps:H?Li(H.loaderDeps,U):U,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:x.options.staticData||{},loadPromise:Bl(),fullPath:x.fullPath}}W.status==="success"&&(W.headers=(L=(C=x.options).headers)==null?void 0:L.call(C,{loaderData:W.loaderData})),r?.preload||(W.globalNotFound=d===x.id),W.searchError=M;const re=b(P);W.context={...re,...W.__routeContext,...W.__beforeLoadContext},m.push(W)}),m.forEach((x,N)=>{var q,R,C,L;const P=this.looseRoutesById[x.routeId];if(!this.getMatch(x.id)&&r?._buildLocation!==!0){const U=m[N-1],V=b(U),B={deps:x.loaderDeps,params:x.params,context:V,location:e,navigate:K=>this.navigate({...K,_fromLocation:e}),buildLocation:this.buildLocation,cause:x.cause,abortController:x.abortController,preload:!!x.preload,matches:m};x.__routeContext=((R=(q=P.options).context)==null?void 0:R.call(q,B))??{},x.context={...V,...x.__routeContext,...x.__beforeLoadContext}}const M=(L=(C=P.options).head)==null?void 0:L.call(C,{matches:m,match:x,params:x.params,loaderData:x.loaderData??void 0});x.links=M?.links,x.scripts=M?.scripts,x.meta=M?.meta}),m}}class Ev extends Error{}class XC extends Error{}function YC(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function eR(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function ix(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function sx(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Ep=G.createContext(void 0),tR=G.createContext(void 0);function Yo(t){const e=G.useContext(t.from?tR:Ep);return Wn({select:n=>{const o=n.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(mi(!((t.shouldThrow??!0)&&!o),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),o!==void 0)return t.select?t.select(o):o},structuralSharing:t.structuralSharing})}function Np(t){return Yo({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function rR(t){const{select:e,...r}=t;return Yo({...r,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function In(t){return Yo({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function nR(t){return Yo({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function m_(t){const{navigate:e}=_i();return G.useCallback(r=>e({...r}),[e])}let pN=class{constructor(e){this.init=r=>{var n,o;this.originalIndex=r.originalIndex;const a=this.options,l=!a?.path&&!a?.id;this.parentRoute=(o=(n=this.options).getParentRoute)==null?void 0:o.call(n),l?this._path=di:mi(this.parentRoute);let d=l?di:a.path;d&&d!=="/"&&(d=h_(d));const p=a?.id||d;let m=l?di:so([this.parentRoute.id===di?"":this.parentRoute.id,p]);d===di&&(d="/"),m!==di&&(m=so(["/",m]));const b=m===di?"/":so([this.parentRoute.fullPath,d]);this._path=d,this._id=m,this._fullPath=b,this._to=b,this._ssr=a?.ssr??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>Yo({select:r?.select,from:this.id,structuralSharing:r?.structuralSharing}),this.useRouteContext=r=>Yo({...r,from:this.id,select:n=>r?.select?r.select(n.context):n.context}),this.useSearch=r=>nR({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useParams=r=>In({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useLoaderDeps=r=>rR({...r,from:this.id}),this.useLoaderData=r=>Np({...r,from:this.id}),this.useNavigate=()=>m_({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,mi(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function iR(t){return new pN(t)}function sR(){return t=>aR(t)}class oR extends pN{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function aR(t){return new oR(t)}function _r(t){return new lR(t,{silent:!0}).createRoute}class lR{constructor(e,r){this.path=e,this.createRoute=n=>{this.silent;const o=iR(n);return o.isRoot=!1,o},this.silent=r?.silent}}function uh(t){return w.jsx(w.Fragment,{children:t.children})}function mN(t,e,r){return e.options.notFoundComponent?w.jsx(e.options.notFoundComponent,{data:r}):t.options.defaultNotFoundComponent?w.jsx(t.options.defaultNotFoundComponent,{data:r}):w.jsx(QC,{})}const yN=G.memo(function({matchId:e}){var r,n;const o=_i(),a=Wn({select:L=>{var P;return(P=L.matches.find(T=>T.id===e))==null?void 0:P.routeId}});mi(a);const l=o.routesById[a],d=l.options.pendingComponent??o.options.defaultPendingComponent,p=d?w.jsx(d,{}):null,m=l.options.errorComponent??o.options.defaultErrorComponent,b=l.options.onCatch??o.options.defaultOnCatch,x=l.isRoot?l.options.notFoundComponent??((r=o.options.notFoundRoute)==null?void 0:r.options.component):l.options.notFoundComponent,N=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??d??((n=l.options.errorComponent)==null?void 0:n.preload))?G.Suspense:uh,q=m?p_:uh,R=x?HC:uh,C=Wn({select:L=>L.loadedAt});return w.jsx(Ep.Provider,{value:e,children:w.jsx(N,{fallback:p,children:w.jsx(q,{getResetKey:()=>C,errorComponent:m||Sp,onCatch:(L,P)=>{if(Zi(L))throw L;b?.(L,P)},children:w.jsx(R,{fallback:L=>{if(!x||L.routeId&&L.routeId!==a||!L.routeId&&!l.isRoot)throw L;return G.createElement(x,L)},children:w.jsx(uR,{matchId:e})})})})})}),uR=G.memo(function({matchId:e}){var r,n,o,a,l;const d=_i(),{match:p,matchIndex:m,routeId:b}=Wn({select:R=>{const C=R.matches.findIndex(T=>T.id===e),L=R.matches[C];return{routeId:L.routeId,matchIndex:C,match:lh(L,["id","status","error"])}},structuralSharing:!0}),x=d.routesById[b],N=G.useMemo(()=>{const R=x.options.component??d.options.defaultComponent;return R?w.jsx(R,{}):w.jsx(Nu,{})},[x.options.component,d.options.defaultComponent]),q=(x.options.errorComponent??d.options.defaultErrorComponent)||Sp;if(p.status==="notFound"){let R;return ix(p.error)?R=(((r=d.options.errorSerializer)==null?void 0:r.deserialize)??sx)(p.error.data):R=p.error,mi(Zi(R)),mN(d,x,R)}if(p.status==="redirected")throw mi(Pa(p.error)),(n=d.getMatch(p.id))==null?void 0:n.loadPromise;if(p.status==="error"){if(d.isServer)return w.jsx(q,{error:p.error,info:{componentStack:""}});throw ix(p.error)?(((o=d.options.errorSerializer)==null?void 0:o.deserialize)??sx)(p.error.data):p.error}if(p.status==="pending"){const R=x.options.pendingMinMs??d.options.defaultPendingMinMs;if(R&&!((a=d.getMatch(p.id))!=null&&a.minPendingPromise)&&!d.isServer){const C=Bl();Promise.resolve().then(()=>{d.updateMatch(p.id,L=>({...L,minPendingPromise:C}))}),setTimeout(()=>{C.resolve(),d.updateMatch(p.id,L=>({...L,minPendingPromise:void 0}))},R)}throw(l=d.getMatch(p.id))==null?void 0:l.loadPromise}return w.jsxs(w.Fragment,{children:[N,d.AfterEachMatch?w.jsx(d.AfterEachMatch,{match:p,matchIndex:m}):null]})}),Nu=G.memo(function(){const e=_i(),r=G.useContext(Ep),n=Wn({select:m=>{var b;return(b=m.matches.find(x=>x.id===r))==null?void 0:b.routeId}}),o=e.routesById[n],a=Wn({select:m=>{const x=m.matches.find(N=>N.id===r);return mi(x),x.globalNotFound}}),l=Wn({select:m=>{var b;const x=m.matches,N=x.findIndex(q=>q.id===r);return(b=x[N+1])==null?void 0:b.id}});if(a)return mN(e,o,void 0);if(!l)return null;const d=w.jsx(yN,{matchId:l}),p=e.options.defaultPendingComponent?w.jsx(e.options.defaultPendingComponent,{}):null;return r===di?w.jsx(G.Suspense,{fallback:p,children:d}):d});var eg={exports:{}},Jn={},tg={exports:{}},rg={};var ox;function cR(){return ox||(ox=1,function(t){function e(ve,me){var Ee=ve.length;ve.push(me);e:for(;0<Ee;){var Q=Ee-1>>>1,xe=ve[Q];if(0<o(xe,me))ve[Q]=me,ve[Ee]=xe,Ee=Q;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var me=ve[0],Ee=ve.pop();if(Ee!==me){ve[0]=Ee;e:for(var Q=0,xe=ve.length,lt=xe>>>1;Q<lt;){var at=2*(Q+1)-1,dt=ve[at],mt=at+1,ft=ve[mt];if(0>o(dt,Ee))mt<xe&&0>o(ft,dt)?(ve[Q]=ft,ve[mt]=Ee,Q=mt):(ve[Q]=dt,ve[at]=Ee,Q=at);else if(mt<xe&&0>o(ft,Ee))ve[Q]=ft,ve[mt]=Ee,Q=mt;else break e}}return me}function o(ve,me){var Ee=ve.sortIndex-me.sortIndex;return Ee!==0?Ee:ve.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var p=[],m=[],b=1,x=null,N=3,q=!1,R=!1,C=!1,L=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ve){for(var me=r(m);me!==null;){if(me.callback===null)n(m);else if(me.startTime<=ve)n(m),me.sortIndex=me.expirationTime,e(p,me);else break;me=r(m)}}function U(ve){if(C=!1,M(ve),!R)if(r(p)!==null)R=!0,Ce(V);else{var me=r(m);me!==null&&Pe(U,me.startTime-ve)}}function V(ve,me){R=!1,C&&(C=!1,P(le),le=-1),q=!0;var Ee=N;try{for(M(me),x=r(p);x!==null&&(!(x.expirationTime>me)||ve&&!W());){var Q=x.callback;if(typeof Q=="function"){x.callback=null,N=x.priorityLevel;var xe=Q(x.expirationTime<=me);me=t.unstable_now(),typeof xe=="function"?x.callback=xe:x===r(p)&&n(p),M(me)}else n(p);x=r(p)}if(x!==null)var lt=!0;else{var at=r(m);at!==null&&Pe(U,at.startTime-me),lt=!1}return lt}finally{x=null,N=Ee,q=!1}}var B=!1,K=null,le=-1,H=5,ne=-1;function W(){return!(t.unstable_now()-ne<H)}function re(){if(K!==null){var ve=t.unstable_now();ne=ve;var me=!0;try{me=K(!0,ve)}finally{me?Z():(B=!1,K=null)}}else B=!1}var Z;if(typeof T=="function")Z=function(){T(re)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=re,Z=function(){Re.postMessage(null)}}else Z=function(){L(re,0)};function Ce(ve){K=ve,B||(B=!0,Z())}function Pe(ve,me){le=L(function(){ve(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){R||q||(R=!0,Ce(V))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(p)},t.unstable_next=function(ve){switch(N){case 1:case 2:case 3:var me=3;break;default:me=N}var Ee=N;N=me;try{return ve()}finally{N=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,me){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ee=N;N=ve;try{return me()}finally{N=Ee}},t.unstable_scheduleCallback=function(ve,me,Ee){var Q=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Q+Ee:Q):Ee=Q,ve){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=0x3fffffff;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Ee+xe,ve={id:b++,callback:me,priorityLevel:ve,startTime:Ee,expirationTime:xe,sortIndex:-1},Ee>Q?(ve.sortIndex=Ee,e(m,ve),r(p)===null&&ve===r(m)&&(C?(P(le),le=-1):C=!0,Pe(U,Ee-Q))):(ve.sortIndex=xe,e(p,ve),R||q||(R=!0,Ce(V))),ve},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(ve){var me=N;return function(){var Ee=N;N=me;try{return ve.apply(this,arguments)}finally{N=Ee}}}}(rg)),rg}var ax;function dR(){return ax||(ax=1,tg.exports=cR()),tg.exports}var lx;function fR(){if(lx)return Jn;lx=1;var t=wd(),e=dR();function r(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)n.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},x={};function N(i){return p.call(x,i)?!0:p.call(b,i)?!1:m.test(i)?x[i]=!0:(b[i]=!0,!1)}function q(i,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,s,u,h){if(s===null||typeof s>"u"||q(i,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(i,s,u,h,_,E,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=_,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=E,this.removeEmptyString=F}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){L[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];L[s]=new C(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){L[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){L[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){L[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){L[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){L[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){L[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){L[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(P,T);L[s]=new C(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(P,T);L[s]=new C(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(P,T);L[s]=new C(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){L[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),L.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){L[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,s,u,h){var _=L.hasOwnProperty(s)?L[s]:null;(_!==null?_.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(R(s,u,_,h)&&(u=null),h||_===null?N(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):_.mustUseProperty?i[_.propertyName]=u===null?_.type===3?!1:"":u:(s=_.attributeName,h=_.attributeNamespace,u===null?i.removeAttribute(s):(_=_.type,u=_===3||_===4&&u===!0?"":""+u,h?i.setAttributeNS(h,s,u):i.setAttribute(s,u))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),W=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),ve=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ve&&i[ve]||i["@@iterator"],typeof i=="function"?i:null)}var Ee=Object.assign,Q;function xe(i){if(Q===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Q=s&&s[1]||""}return`
`+Q+i}var lt=!1;function at(i,s){if(!i||lt)return"";lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Fe){var h=Fe}Reflect.construct(i,[],s)}else{try{s.call()}catch(Fe){h=Fe}i.call(s.prototype)}else{try{throw Error()}catch(Fe){h=Fe}i()}}catch(Fe){if(Fe&&h&&typeof Fe.stack=="string"){for(var _=Fe.stack.split(`
`),E=h.stack.split(`
`),F=_.length-1,ie=E.length-1;1<=F&&0<=ie&&_[F]!==E[ie];)ie--;for(;1<=F&&0<=ie;F--,ie--)if(_[F]!==E[ie]){if(F!==1||ie!==1)do if(F--,ie--,0>ie||_[F]!==E[ie]){var ce=`
`+_[F].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=F&&0<=ie);break}}}finally{lt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?xe(i):""}function dt(i){switch(i.tag){case 5:return xe(i.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return i=at(i.type,!1),i;case 11:return i=at(i.type.render,!1),i;case 1:return i=at(i.type,!0),i;default:return""}}function mt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case B:return"Portal";case H:return"Profiler";case le:return"StrictMode";case Z:return"Suspense";case pe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case W:return(i.displayName||"Context")+".Consumer";case ne:return(i._context.displayName||"Context")+".Provider";case re:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Re:return s=i.displayName||null,s!==null?s:mt(i.type)||"Memo";case Ce:s=i._payload,i=i._init;try{return mt(i(s))}catch{}}return null}function ft(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mt(s);case 8:return s===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function gt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Tt(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(i){var s=Tt(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,E=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(F){h=""+F,E.call(this,F)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(F){h=""+F},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yt(i){i._valueTracker||(i._valueTracker=vt(i))}function Rt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=Tt(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function qt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Jt(i,s){var u=s.checked;return Ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Gt(i,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=gt(s.value!=null?s.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function er(i,s){s=s.checked,s!=null&&M(i,"checked",s,!1)}function ur(i,s){er(i,s);var u=gt(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?ae(i,s.type,u):s.hasOwnProperty("defaultValue")&&ae(i,s.type,gt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function se(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ae(i,s,u){(s!=="number"||qt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var ye=Array.isArray;function Oe(i,s,u,h){if(i=i.options,s){s={};for(var _=0;_<u.length;_++)s["$"+u[_]]=!0;for(u=0;u<i.length;u++)_=s.hasOwnProperty("$"+i[u].value),i[u].selected!==_&&(i[u].selected=_),_&&h&&(i[u].defaultSelected=!0)}else{for(u=""+gt(u),s=null,_=0;_<i.length;_++){if(i[_].value===u){i[_].selected=!0,h&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function je(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ee({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ge(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(r(92));if(ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:gt(u)}}function _t(i,s){var u=gt(s.value),h=gt(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Dt(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function mr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cr(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?mr(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ar,Tn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,_){MSApp.execUnsafeLocalFunction(function(){return i(s,u,h,_)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ar.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Xr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},js=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(i){js.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),$n[s]=$n[i]})});function yn(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||$n.hasOwnProperty(i)&&$n[i]?(""+s).trim():s+"px"}function Ut(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,_=yn(u,s[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,_):i[u]=_}}var yo=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(i,s){if(s){if(yo[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function vo(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=null;function Fu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Lu=null,ls=null,A=null;function Bd(i){if(i=nc(i)){if(typeof Lu!="function")throw Error(r(280));var s=i.stateNode;s&&(s=uf(s),Lu(i.stateNode,i.type,s))}}function Xt(i){ls?A?A.push(i):A=[i]:ls=i}function zd(){if(ls){var i=ls,s=A;if(A=ls=null,Bd(i),s)for(i=0;i<s.length;i++)Bd(s[i])}}function $d(i,s){return i(s)}function Ud(){}var ju=!1;function ga(i,s,u){if(ju)return i(s,u);ju=!0;try{return $d(i,s,u)}finally{ju=!1,(ls!==null||A!==null)&&(Ud(),zd())}}function qi(i,s){var u=i.stateNode;if(u===null)return null;var h=uf(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Mu=!1;if(d)try{var va={};Object.defineProperty(va,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Mu=!1}function im(i,s,u,h,_,E,F,ie,ce){var Fe=Array.prototype.slice.call(arguments,3);try{s.apply(u,Fe)}catch(tt){this.onError(tt)}}var _a=!1,us=null,dl=!1,cs=null,sm={onError:function(i){_a=!0,us=i}};function om(i,s,u,h,_,E,F,ie,ce){_a=!1,us=null,im.apply(sm,arguments)}function am(i,s,u,h,_,E,F,ie,ce){if(om.apply(this,arguments),_a){if(_a){var Fe=us;_a=!1,us=null}else throw Error(r(198));dl||(dl=!0,cs=Fe)}}function Ms(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Vd(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Hd(i){if(Ms(i)!==i)throw Error(r(188))}function lm(i){var s=i.alternate;if(!s){if(s=Ms(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,h=s;;){var _=u.return;if(_===null)break;var E=_.alternate;if(E===null){if(h=_.return,h!==null){u=h;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===u)return Hd(_),i;if(E===h)return Hd(_),s;E=E.sibling}throw Error(r(188))}if(u.return!==h.return)u=_,h=E;else{for(var F=!1,ie=_.child;ie;){if(ie===u){F=!0,u=_,h=E;break}if(ie===h){F=!0,h=_,u=E;break}ie=ie.sibling}if(!F){for(ie=E.child;ie;){if(ie===u){F=!0,u=E,h=_;break}if(ie===h){F=!0,h=E,u=_;break}ie=ie.sibling}if(!F)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function Qd(i){return i=lm(i),i!==null?Kd(i):null}function Kd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Kd(i);if(s!==null)return s;i=i.sibling}return null}var Gd=e.unstable_scheduleCallback,Du=e.unstable_cancelCallback,um=e.unstable_shouldYield,cm=e.unstable_requestPaint,Vr=e.unstable_now,dm=e.unstable_getCurrentPriorityLevel,Wu=e.unstable_ImmediatePriority,Jd=e.unstable_UserBlockingPriority,fl=e.unstable_NormalPriority,fm=e.unstable_LowPriority,Zd=e.unstable_IdlePriority,hl=null,Ci=null;function hm(i){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(hl,i,void 0,(i.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:ym,pm=Math.log,mm=Math.LN2;function ym(i){return i>>>=0,i===0?32:31-(pm(i)/mm|0)|0}var _o=64,pl=4194304;function zi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return i&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return i}}function ml(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,_=i.suspendedLanes,E=i.pingedLanes,F=u&0xfffffff;if(F!==0){var ie=F&~_;ie!==0?h=zi(ie):(E&=F,E!==0&&(h=zi(E)))}else F=u&~_,F!==0?h=zi(F):E!==0&&(h=zi(E));if(h===0)return 0;if(s!==0&&s!==h&&!(s&_)&&(_=h&-h,E=s&-s,_>=E||_===16&&(E&4194240)!==0))return s;if(h&4&&(h|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)u=31-Un(s),_=1<<u,h|=i[u],s&=~_;return h}function gm(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function vm(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,_=i.expirationTimes,E=i.pendingLanes;0<E;){var F=31-Un(E),ie=1<<F,ce=_[F];ce===-1?(!(ie&u)||ie&h)&&(_[F]=gm(ie,s)):ce<=s&&(i.expiredLanes|=ie),E&=~ie}}function Bu(i){return i=i.pendingLanes&-0x40000001,i!==0?i:i&0x40000000?0x40000000:0}function Xd(){var i=_o;return _o<<=1,!(_o&4194240)&&(_o=64),i}function zu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ba(i,s,u){i.pendingLanes|=s,s!==0x20000000&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Un(s),i[s]=u}function _m(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var _=31-Un(u),E=1<<_;s[_]=0,h[_]=-1,i[_]=-1,u&=~E}}function $u(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Un(u),_=1<<h;_&s|i[h]&s&&(i[h]|=s),u&=~_}}var yr=0;function Yd(i){return i&=-i,1<i?4<i?i&0xfffffff?16:0x20000000:4:1}var Uu,ee,Vu,wa,Hu,c=!1,f=[],y=null,g=null,S=null,k=new Map,X=new Map,te=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $e(i,s){switch(i){case"focusin":case"focusout":y=null;break;case"dragenter":case"dragleave":g=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":k.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":X.delete(s.pointerId)}}function Je(i,s,u,h,_,E){return i===null||i.nativeEvent!==E?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:E,targetContainers:[_]},s!==null&&(s=nc(s),s!==null&&ee(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function rt(i,s,u,h,_){switch(s){case"focusin":return y=Je(y,i,s,u,h,_),!0;case"dragenter":return g=Je(g,i,s,u,h,_),!0;case"mouseover":return S=Je(S,i,s,u,h,_),!0;case"pointerover":var E=_.pointerId;return k.set(E,Je(k.get(E)||null,i,s,u,h,_)),!0;case"gotpointercapture":return E=_.pointerId,X.set(E,Je(X.get(E)||null,i,s,u,h,_)),!0}return!1}function Ie(i){var s=xa(i.target);if(s!==null){var u=Ms(s);if(u!==null){if(s=u.tag,s===13){if(s=Vd(u),s!==null){i.blockedOn=s,Hu(i.priority,function(){Vu(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function we(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=J(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Pu=h,u.target.dispatchEvent(h),Pu=null}else return s=nc(u),s!==null&&ee(s),i.blockedOn=u,!1;s.shift()}return!0}function ze(i,s,u){we(i)&&u.delete(s)}function oe(){c=!1,y!==null&&we(y)&&(y=null),g!==null&&we(g)&&(g=null),S!==null&&we(S)&&(S=null),k.forEach(ze),X.forEach(ze)}function fe(i,s){i.blockedOn===s&&(i.blockedOn=null,c||(c=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oe)))}function _e(i){function s(_){return fe(_,i)}if(0<f.length){fe(f[0],i);for(var u=1;u<f.length;u++){var h=f[u];h.blockedOn===i&&(h.blockedOn=null)}}for(y!==null&&fe(y,i),g!==null&&fe(g,i),S!==null&&fe(S,i),k.forEach(s),X.forEach(s),u=0;u<te.length;u++)h=te[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<te.length&&(u=te[0],u.blockedOn===null);)Ie(u),u.blockedOn===null&&te.shift()}var We=U.ReactCurrentBatchConfig,De=!0;function be(i,s,u,h){var _=yr,E=We.transition;We.transition=null;try{yr=1,ht(i,s,u,h)}finally{yr=_,We.transition=E}}function Me(i,s,u,h){var _=yr,E=We.transition;We.transition=null;try{yr=4,ht(i,s,u,h)}finally{yr=_,We.transition=E}}function ht(i,s,u,h){if(De){var _=J(i,s,u,h);if(_===null)Tm(i,s,h,j,u),$e(i,h);else if(rt(_,i,s,u,h))h.stopPropagation();else if($e(i,h),s&4&&-1<Le.indexOf(i)){for(;_!==null;){var E=nc(_);if(E!==null&&Uu(E),E=J(i,s,u,h),E===null&&Tm(i,s,h,j,u),E===_)break;_=E}_!==null&&h.stopPropagation()}else Tm(i,s,h,null,u)}}var j=null;function J(i,s,u,h){if(j=null,i=Fu(h),i=xa(i),i!==null)if(s=Ms(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Vd(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return j=i,null}function de(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dm()){case Wu:return 1;case Jd:return 4;case fl:case fm:return 16;case Zd:return 0x20000000;default:return 16}default:return 16}}var Qe=null,$=null,Y=null;function O(){if(Y)return Y;var i,s=$,u=s.length,h,_="value"in Qe?Qe.value:Qe.textContent,E=_.length;for(i=0;i<u&&s[i]===_[i];i++);var F=u-i;for(h=1;h<=F&&s[u-h]===_[E-h];h++);return Y=_.slice(i,1<h?1-h:void 0)}function D(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function z(){return!0}function qe(){return!1}function He(i){function s(u,h,_,E,F){this._reactName=u,this._targetInst=_,this.type=h,this.nativeEvent=E,this.target=F,this.currentTarget=null;for(var ie in i)i.hasOwnProperty(ie)&&(u=i[ie],this[ie]=u?u(E):E[ie]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?z:qe,this.isPropagationStopped=qe,this}return Ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=z)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=z)},persist:function(){},isPersistent:z}),s}var St={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ft=He(St),Wt=Ee({},St,{view:0,detail:0}),Ze=He(Wt),ue,Ne,Ke,et=Ee({},Wt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ke&&(Ke&&i.type==="mousemove"?(ue=i.screenX-Ke.screenX,Ne=i.screenY-Ke.screenY):Ne=ue=0,Ke=i),ue)},movementY:function(i){return"movementY"in i?i.movementY:Ne}}),Ot=He(et),Bt=Ee({},et,{dataTransfer:0}),Se=He(Bt),Ve=Ee({},Wt,{relatedTarget:0}),Xe=He(Ve),bt=Ee({},St,{animationName:0,elapsedTime:0,pseudoElement:0}),ut=He(bt),Pt=Ee({},St,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yt=He(Pt),Et=Ee({},St,{data:0}),Hr=He(Et),Te={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ct[i])?!!s[i]:!1}function tr(){return wt}var Sr=Ee({},Wt,{key:function(i){if(i.key){var s=Te[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=D(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?st[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?D(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?D(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gr=He(Sr),br=Ee({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ds=He(br),gn=Ee({},Wt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),bm=He(gn),wm=Ee({},St,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ri=He(wm),xm=Ee({},et,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ef=He(xm),Qu=[9,13,27,32],Sm=d&&"CompositionEvent"in window,Ku=null;d&&"documentMode"in document&&(Ku=document.documentMode);var O3=d&&"TextEvent"in window&&!Ku,Nb=d&&(!Sm||Ku&&8<Ku&&11>=Ku),kb=" ",qb=!1;function Cb(i,s){switch(i){case"keyup":return Qu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yl=!1;function A3(i,s){switch(i){case"compositionend":return Rb(s);case"keypress":return s.which!==32?null:(qb=!0,kb);case"textInput":return i=s.data,i===kb&&qb?null:i;default:return null}}function I3(i,s){if(yl)return i==="compositionend"||!Sm&&Cb(i,s)?(i=O(),Y=$=Qe=null,yl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nb&&s.locale!=="ko"?null:s.data;default:return null}}var T3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ob(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!T3[i.type]:s==="textarea"}function Ab(i,s,u,h){Xt(h),s=of(s,"onChange"),0<s.length&&(u=new Ft("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var Gu=null,Ju=null;function P3(i){Gb(i,0)}function tf(i){var s=wl(i);if(Rt(s))return i}function F3(i,s){if(i==="change")return s}var Ib=!1;if(d){var Em;if(d){var Nm="oninput"in document;if(!Nm){var Tb=document.createElement("div");Tb.setAttribute("oninput","return;"),Nm=typeof Tb.oninput=="function"}Em=Nm}else Em=!1;Ib=Em&&(!document.documentMode||9<document.documentMode)}function Pb(){Gu&&(Gu.detachEvent("onpropertychange",Fb),Ju=Gu=null)}function Fb(i){if(i.propertyName==="value"&&tf(Ju)){var s=[];Ab(s,Ju,i,Fu(i)),ga(P3,s)}}function L3(i,s,u){i==="focusin"?(Pb(),Gu=s,Ju=u,Gu.attachEvent("onpropertychange",Fb)):i==="focusout"&&Pb()}function j3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tf(Ju)}function M3(i,s){if(i==="click")return tf(s)}function D3(i,s){if(i==="input"||i==="change")return tf(s)}function W3(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var $i=typeof Object.is=="function"?Object.is:W3;function Zu(i,s){if($i(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var _=u[h];if(!p.call(s,_)||!$i(i[_],s[_]))return!1}return!0}function Lb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jb(i,s){var u=Lb(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Lb(u)}}function Mb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Mb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Db(){for(var i=window,s=qt();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=qt(i.document)}return s}function km(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function B3(i){var s=Db(),u=i.focusedElem,h=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&Mb(u.ownerDocument.documentElement,u)){if(h!==null&&km(u)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var _=u.textContent.length,E=Math.min(h.start,_);h=h.end===void 0?E:Math.min(h.end,_),!i.extend&&E>h&&(_=h,h=E,E=_),_=jb(u,E);var F=jb(u,h);_&&F&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==F.node||i.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),i.removeAllRanges(),E>h?(i.addRange(s),i.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var z3=d&&"documentMode"in document&&11>=document.documentMode,gl=null,qm=null,Xu=null,Cm=!1;function Wb(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cm||gl==null||gl!==qt(h)||(h=gl,"selectionStart"in h&&km(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Xu&&Zu(Xu,h)||(Xu=h,h=of(qm,"onSelect"),0<h.length&&(s=new Ft("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=gl)))}function rf(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var vl={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionend:rf("Transition","TransitionEnd")},Rm={},Bb={};d&&(Bb=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function nf(i){if(Rm[i])return Rm[i];if(!vl[i])return i;var s=vl[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Bb)return Rm[i]=s[u];return i}var zb=nf("animationend"),$b=nf("animationiteration"),Ub=nf("animationstart"),Vb=nf("transitionend"),Hb=new Map,Qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(i,s){Hb.set(i,s),a(s,[i])}for(var Om=0;Om<Qb.length;Om++){var Am=Qb[Om],$3=Am.toLowerCase(),U3=Am[0].toUpperCase()+Am.slice(1);bo($3,"on"+U3)}bo(zb,"onAnimationEnd"),bo($b,"onAnimationIteration"),bo(Ub,"onAnimationStart"),bo("dblclick","onDoubleClick"),bo("focusin","onFocus"),bo("focusout","onBlur"),bo(Vb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function Kb(i,s,u){var h=i.type||"unknown-event";i.currentTarget=u,am(h,s,void 0,i),i.currentTarget=null}function Gb(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],_=h.event;h=h.listeners;e:{var E=void 0;if(s)for(var F=h.length-1;0<=F;F--){var ie=h[F],ce=ie.instance,Fe=ie.currentTarget;if(ie=ie.listener,ce!==E&&_.isPropagationStopped())break e;Kb(_,ie,Fe),E=ce}else for(F=0;F<h.length;F++){if(ie=h[F],ce=ie.instance,Fe=ie.currentTarget,ie=ie.listener,ce!==E&&_.isPropagationStopped())break e;Kb(_,ie,Fe),E=ce}}}if(dl)throw i=cs,dl=!1,cs=null,i}function Lr(i,s){var u=s[Dm];u===void 0&&(u=s[Dm]=new Set);var h=i+"__bubble";u.has(h)||(Jb(s,i,2,!1),u.add(h))}function Im(i,s,u){var h=0;s&&(h|=4),Jb(u,i,h,s)}var sf="_reactListening"+Math.random().toString(36).slice(2);function ec(i){if(!i[sf]){i[sf]=!0,n.forEach(function(u){u!=="selectionchange"&&(V3.has(u)||Im(u,!1,i),Im(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[sf]||(s[sf]=!0,Im("selectionchange",!1,s))}}function Jb(i,s,u,h){switch(de(s)){case 1:var _=be;break;case 4:_=Me;break;default:_=ht}u=_.bind(null,s,u,i),_=void 0,!Mu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),h?_!==void 0?i.addEventListener(s,u,{capture:!0,passive:_}):i.addEventListener(s,u,!0):_!==void 0?i.addEventListener(s,u,{passive:_}):i.addEventListener(s,u,!1)}function Tm(i,s,u,h,_){var E=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var F=h.tag;if(F===3||F===4){var ie=h.stateNode.containerInfo;if(ie===_||ie.nodeType===8&&ie.parentNode===_)break;if(F===4)for(F=h.return;F!==null;){var ce=F.tag;if((ce===3||ce===4)&&(ce=F.stateNode.containerInfo,ce===_||ce.nodeType===8&&ce.parentNode===_))return;F=F.return}for(;ie!==null;){if(F=xa(ie),F===null)return;if(ce=F.tag,ce===5||ce===6){h=E=F;continue e}ie=ie.parentNode}}h=h.return}ga(function(){var Fe=E,tt=Fu(u),nt=[];e:{var Ye=Hb.get(i);if(Ye!==void 0){var Nt=Ft,It=i;switch(i){case"keypress":if(D(u)===0)break e;case"keydown":case"keyup":Nt=gr;break;case"focusin":It="focus",Nt=Xe;break;case"focusout":It="blur",Nt=Xe;break;case"beforeblur":case"afterblur":Nt=Xe;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=Ot;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=Se;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=bm;break;case zb:case $b:case Ub:Nt=ut;break;case Vb:Nt=Ri;break;case"scroll":Nt=Ze;break;case"wheel":Nt=ef;break;case"copy":case"cut":case"paste":Nt=Yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=Ds}var Lt=(s&4)!==0,en=!Lt&&i==="scroll",ke=Lt?Ye!==null?Ye+"Capture":null:Ye;Lt=[];for(var ge=Fe,Ae;ge!==null;){Ae=ge;var ot=Ae.stateNode;if(Ae.tag===5&&ot!==null&&(Ae=ot,ke!==null&&(ot=qi(ge,ke),ot!=null&&Lt.push(tc(ge,ot,Ae)))),en)break;ge=ge.return}0<Lt.length&&(Ye=new Nt(Ye,It,null,u,tt),nt.push({event:Ye,listeners:Lt}))}}if(!(s&7)){e:{if(Ye=i==="mouseover"||i==="pointerover",Nt=i==="mouseout"||i==="pointerout",Ye&&u!==Pu&&(It=u.relatedTarget||u.fromElement)&&(xa(It)||It[Ws]))break e;if((Nt||Ye)&&(Ye=tt.window===tt?tt:(Ye=tt.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,Nt?(It=u.relatedTarget||u.toElement,Nt=Fe,It=It?xa(It):null,It!==null&&(en=Ms(It),It!==en||It.tag!==5&&It.tag!==6)&&(It=null)):(Nt=null,It=Fe),Nt!==It)){if(Lt=Ot,ot="onMouseLeave",ke="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(Lt=Ds,ot="onPointerLeave",ke="onPointerEnter",ge="pointer"),en=Nt==null?Ye:wl(Nt),Ae=It==null?Ye:wl(It),Ye=new Lt(ot,ge+"leave",Nt,u,tt),Ye.target=en,Ye.relatedTarget=Ae,ot=null,xa(tt)===Fe&&(Lt=new Lt(ke,ge+"enter",It,u,tt),Lt.target=Ae,Lt.relatedTarget=en,ot=Lt),en=ot,Nt&&It)t:{for(Lt=Nt,ke=It,ge=0,Ae=Lt;Ae;Ae=_l(Ae))ge++;for(Ae=0,ot=ke;ot;ot=_l(ot))Ae++;for(;0<ge-Ae;)Lt=_l(Lt),ge--;for(;0<Ae-ge;)ke=_l(ke),Ae--;for(;ge--;){if(Lt===ke||ke!==null&&Lt===ke.alternate)break t;Lt=_l(Lt),ke=_l(ke)}Lt=null}else Lt=null;Nt!==null&&Zb(nt,Ye,Nt,Lt,!1),It!==null&&en!==null&&Zb(nt,en,It,Lt,!0)}}e:{if(Ye=Fe?wl(Fe):window,Nt=Ye.nodeName&&Ye.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Ye.type==="file")var jt=F3;else if(Ob(Ye))if(Ib)jt=D3;else{jt=j3;var zt=L3}else(Nt=Ye.nodeName)&&Nt.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(jt=M3);if(jt&&(jt=jt(i,Fe))){Ab(nt,jt,u,tt);break e}zt&&zt(i,Ye,Fe),i==="focusout"&&(zt=Ye._wrapperState)&&zt.controlled&&Ye.type==="number"&&ae(Ye,"number",Ye.value)}switch(zt=Fe?wl(Fe):window,i){case"focusin":(Ob(zt)||zt.contentEditable==="true")&&(gl=zt,qm=Fe,Xu=null);break;case"focusout":Xu=qm=gl=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,Wb(nt,u,tt);break;case"selectionchange":if(z3)break;case"keydown":case"keyup":Wb(nt,u,tt)}var $t;if(Sm)e:{switch(i){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else yl?Cb(i,u)&&(Kt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Kt="onCompositionStart");Kt&&(Nb&&u.locale!=="ko"&&(yl||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&yl&&($t=O()):(Qe=tt,$="value"in Qe?Qe.value:Qe.textContent,yl=!0)),zt=of(Fe,Kt),0<zt.length&&(Kt=new Hr(Kt,i,null,u,tt),nt.push({event:Kt,listeners:zt}),$t?Kt.data=$t:($t=Rb(u),$t!==null&&(Kt.data=$t)))),($t=O3?A3(i,u):I3(i,u))&&(Fe=of(Fe,"onBeforeInput"),0<Fe.length&&(tt=new Hr("onBeforeInput","beforeinput",null,u,tt),nt.push({event:tt,listeners:Fe}),tt.data=$t))}Gb(nt,s)})}function tc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function of(i,s){for(var u=s+"Capture",h=[];i!==null;){var _=i,E=_.stateNode;_.tag===5&&E!==null&&(_=E,E=qi(i,u),E!=null&&h.unshift(tc(i,E,_)),E=qi(i,s),E!=null&&h.push(tc(i,E,_))),i=i.return}return h}function _l(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Zb(i,s,u,h,_){for(var E=s._reactName,F=[];u!==null&&u!==h;){var ie=u,ce=ie.alternate,Fe=ie.stateNode;if(ce!==null&&ce===h)break;ie.tag===5&&Fe!==null&&(ie=Fe,_?(ce=qi(u,E),ce!=null&&F.unshift(tc(u,ce,ie))):_||(ce=qi(u,E),ce!=null&&F.push(tc(u,ce,ie)))),u=u.return}F.length!==0&&i.push({event:s,listeners:F})}var H3=/\r\n?/g,Q3=/\u0000|\uFFFD/g;function Xb(i){return(typeof i=="string"?i:""+i).replace(H3,`
`).replace(Q3,"")}function af(i,s,u){if(s=Xb(s),Xb(i)!==s&&u)throw Error(r(425))}function lf(){}var Pm=null,Fm=null;function Lm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jm=typeof setTimeout=="function"?setTimeout:void 0,K3=typeof clearTimeout=="function"?clearTimeout:void 0,Yb=typeof Promise=="function"?Promise:void 0,G3=typeof queueMicrotask=="function"?queueMicrotask:typeof Yb<"u"?function(i){return Yb.resolve(null).then(i).catch(J3)}:jm;function J3(i){setTimeout(function(){throw i})}function Mm(i,s){var u=s,h=0;do{var _=u.nextSibling;if(i.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(h===0){i.removeChild(_),_e(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=_}while(u);_e(s)}function wo(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function ew(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var bl=Math.random().toString(36).slice(2),ds="__reactFiber$"+bl,rc="__reactProps$"+bl,Ws="__reactContainer$"+bl,Dm="__reactEvents$"+bl,Z3="__reactListeners$"+bl,X3="__reactHandles$"+bl;function xa(i){var s=i[ds];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Ws]||u[ds]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=ew(i);i!==null;){if(u=i[ds])return u;i=ew(i)}return s}i=u,u=i.parentNode}return null}function nc(i){return i=i[ds]||i[Ws],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function wl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function uf(i){return i[rc]||null}var Wm=[],xl=-1;function xo(i){return{current:i}}function jr(i){0>xl||(i.current=Wm[xl],Wm[xl]=null,xl--)}function Ir(i,s){xl++,Wm[xl]=i.current,i.current=s}var So={},En=xo(So),Vn=xo(!1),Sa=So;function Sl(i,s){var u=i.type.contextTypes;if(!u)return So;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var _={},E;for(E in u)_[E]=s[E];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=_),_}function Hn(i){return i=i.childContextTypes,i!=null}function cf(){jr(Vn),jr(En)}function tw(i,s,u){if(En.current!==So)throw Error(r(168));Ir(En,s),Ir(Vn,u)}function rw(i,s,u){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var _ in h)if(!(_ in s))throw Error(r(108,ft(i)||"Unknown",_));return Ee({},u,h)}function df(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||So,Sa=En.current,Ir(En,i),Ir(Vn,Vn.current),!0}function nw(i,s,u){var h=i.stateNode;if(!h)throw Error(r(169));u?(i=rw(i,s,Sa),h.__reactInternalMemoizedMergedChildContext=i,jr(Vn),jr(En),Ir(En,i)):jr(Vn),Ir(Vn,u)}var Bs=null,ff=!1,Bm=!1;function iw(i){Bs===null?Bs=[i]:Bs.push(i)}function Y3(i){ff=!0,iw(i)}function Eo(){if(!Bm&&Bs!==null){Bm=!0;var i=0,s=yr;try{var u=Bs;for(yr=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}Bs=null,ff=!1}catch(_){throw Bs!==null&&(Bs=Bs.slice(i+1)),Gd(Wu,Eo),_}finally{yr=s,Bm=!1}}return null}var El=[],Nl=0,hf=null,pf=0,Oi=[],Ai=0,Ea=null,zs=1,$s="";function Na(i,s){El[Nl++]=pf,El[Nl++]=hf,hf=i,pf=s}function sw(i,s,u){Oi[Ai++]=zs,Oi[Ai++]=$s,Oi[Ai++]=Ea,Ea=i;var h=zs;i=$s;var _=32-Un(h)-1;h&=~(1<<_),u+=1;var E=32-Un(s)+_;if(30<E){var F=_-_%5;E=(h&(1<<F)-1).toString(32),h>>=F,_-=F,zs=1<<32-Un(s)+_|u<<_|h,$s=E+i}else zs=1<<E|u<<_|h,$s=i}function zm(i){i.return!==null&&(Na(i,1),sw(i,1,0))}function $m(i){for(;i===hf;)hf=El[--Nl],El[Nl]=null,pf=El[--Nl],El[Nl]=null;for(;i===Ea;)Ea=Oi[--Ai],Oi[Ai]=null,$s=Oi[--Ai],Oi[Ai]=null,zs=Oi[--Ai],Oi[Ai]=null}var oi=null,ai=null,Dr=!1,Ui=null;function ow(i,s){var u=Fi(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function aw(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,oi=i,ai=wo(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,oi=i,ai=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Ea!==null?{id:zs,overflow:$s}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:0x40000000},u=Fi(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,oi=i,ai=null,!0):!1;default:return!1}}function Um(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Vm(i){if(Dr){var s=ai;if(s){var u=s;if(!aw(i,s)){if(Um(i))throw Error(r(418));s=wo(u.nextSibling);var h=oi;s&&aw(i,s)?ow(h,u):(i.flags=i.flags&-4097|2,Dr=!1,oi=i)}}else{if(Um(i))throw Error(r(418));i.flags=i.flags&-4097|2,Dr=!1,oi=i}}}function lw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;oi=i}function mf(i){if(i!==oi)return!1;if(!Dr)return lw(i),Dr=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Lm(i.type,i.memoizedProps)),s&&(s=ai)){if(Um(i))throw uw(),Error(r(418));for(;s;)ow(i,s),s=wo(s.nextSibling)}if(lw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){ai=wo(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}ai=null}}else ai=oi?wo(i.stateNode.nextSibling):null;return!0}function uw(){for(var i=ai;i;)i=wo(i.nextSibling)}function kl(){ai=oi=null,Dr=!1}function Hm(i){Ui===null?Ui=[i]:Ui.push(i)}var eq=U.ReactCurrentBatchConfig;function ic(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var h=u.stateNode}if(!h)throw Error(r(147,i));var _=h,E=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===E?s.ref:(s=function(F){var ie=_.refs;F===null?delete ie[E]:ie[E]=F},s._stringRef=E,s)}if(typeof i!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,i))}return i}function yf(i,s){throw i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function cw(i){var s=i._init;return s(i._payload)}function dw(i){function s(ke,ge){if(i){var Ae=ke.deletions;Ae===null?(ke.deletions=[ge],ke.flags|=16):Ae.push(ge)}}function u(ke,ge){if(!i)return null;for(;ge!==null;)s(ke,ge),ge=ge.sibling;return null}function h(ke,ge){for(ke=new Map;ge!==null;)ge.key!==null?ke.set(ge.key,ge):ke.set(ge.index,ge),ge=ge.sibling;return ke}function _(ke,ge){return ke=Io(ke,ge),ke.index=0,ke.sibling=null,ke}function E(ke,ge,Ae){return ke.index=Ae,i?(Ae=ke.alternate,Ae!==null?(Ae=Ae.index,Ae<ge?(ke.flags|=2,ge):Ae):(ke.flags|=2,ge)):(ke.flags|=1048576,ge)}function F(ke){return i&&ke.alternate===null&&(ke.flags|=2),ke}function ie(ke,ge,Ae,ot){return ge===null||ge.tag!==6?(ge=jy(Ae,ke.mode,ot),ge.return=ke,ge):(ge=_(ge,Ae),ge.return=ke,ge)}function ce(ke,ge,Ae,ot){var jt=Ae.type;return jt===K?tt(ke,ge,Ae.props.children,ot,Ae.key):ge!==null&&(ge.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Ce&&cw(jt)===ge.type)?(ot=_(ge,Ae.props),ot.ref=ic(ke,ge,Ae),ot.return=ke,ot):(ot=Wf(Ae.type,Ae.key,Ae.props,null,ke.mode,ot),ot.ref=ic(ke,ge,Ae),ot.return=ke,ot)}function Fe(ke,ge,Ae,ot){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ae.containerInfo||ge.stateNode.implementation!==Ae.implementation?(ge=My(Ae,ke.mode,ot),ge.return=ke,ge):(ge=_(ge,Ae.children||[]),ge.return=ke,ge)}function tt(ke,ge,Ae,ot,jt){return ge===null||ge.tag!==7?(ge=Ta(Ae,ke.mode,ot,jt),ge.return=ke,ge):(ge=_(ge,Ae),ge.return=ke,ge)}function nt(ke,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=jy(""+ge,ke.mode,Ae),ge.return=ke,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case V:return Ae=Wf(ge.type,ge.key,ge.props,null,ke.mode,Ae),Ae.ref=ic(ke,null,ge),Ae.return=ke,Ae;case B:return ge=My(ge,ke.mode,Ae),ge.return=ke,ge;case Ce:var ot=ge._init;return nt(ke,ot(ge._payload),Ae)}if(ye(ge)||me(ge))return ge=Ta(ge,ke.mode,Ae,null),ge.return=ke,ge;yf(ke,ge)}return null}function Ye(ke,ge,Ae,ot){var jt=ge!==null?ge.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return jt!==null?null:ie(ke,ge,""+Ae,ot);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case V:return Ae.key===jt?ce(ke,ge,Ae,ot):null;case B:return Ae.key===jt?Fe(ke,ge,Ae,ot):null;case Ce:return jt=Ae._init,Ye(ke,ge,jt(Ae._payload),ot)}if(ye(Ae)||me(Ae))return jt!==null?null:tt(ke,ge,Ae,ot,null);yf(ke,Ae)}return null}function Nt(ke,ge,Ae,ot,jt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ke=ke.get(Ae)||null,ie(ge,ke,""+ot,jt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case V:return ke=ke.get(ot.key===null?Ae:ot.key)||null,ce(ge,ke,ot,jt);case B:return ke=ke.get(ot.key===null?Ae:ot.key)||null,Fe(ge,ke,ot,jt);case Ce:var zt=ot._init;return Nt(ke,ge,Ae,zt(ot._payload),jt)}if(ye(ot)||me(ot))return ke=ke.get(Ae)||null,tt(ge,ke,ot,jt,null);yf(ge,ot)}return null}function It(ke,ge,Ae,ot){for(var jt=null,zt=null,$t=ge,Kt=ge=0,mn=null;$t!==null&&Kt<Ae.length;Kt++){$t.index>Kt?(mn=$t,$t=null):mn=$t.sibling;var pr=Ye(ke,$t,Ae[Kt],ot);if(pr===null){$t===null&&($t=mn);break}i&&$t&&pr.alternate===null&&s(ke,$t),ge=E(pr,ge,Kt),zt===null?jt=pr:zt.sibling=pr,zt=pr,$t=mn}if(Kt===Ae.length)return u(ke,$t),Dr&&Na(ke,Kt),jt;if($t===null){for(;Kt<Ae.length;Kt++)$t=nt(ke,Ae[Kt],ot),$t!==null&&(ge=E($t,ge,Kt),zt===null?jt=$t:zt.sibling=$t,zt=$t);return Dr&&Na(ke,Kt),jt}for($t=h(ke,$t);Kt<Ae.length;Kt++)mn=Nt($t,ke,Kt,Ae[Kt],ot),mn!==null&&(i&&mn.alternate!==null&&$t.delete(mn.key===null?Kt:mn.key),ge=E(mn,ge,Kt),zt===null?jt=mn:zt.sibling=mn,zt=mn);return i&&$t.forEach(function(To){return s(ke,To)}),Dr&&Na(ke,Kt),jt}function Lt(ke,ge,Ae,ot){var jt=me(Ae);if(typeof jt!="function")throw Error(r(150));if(Ae=jt.call(Ae),Ae==null)throw Error(r(151));for(var zt=jt=null,$t=ge,Kt=ge=0,mn=null,pr=Ae.next();$t!==null&&!pr.done;Kt++,pr=Ae.next()){$t.index>Kt?(mn=$t,$t=null):mn=$t.sibling;var To=Ye(ke,$t,pr.value,ot);if(To===null){$t===null&&($t=mn);break}i&&$t&&To.alternate===null&&s(ke,$t),ge=E(To,ge,Kt),zt===null?jt=To:zt.sibling=To,zt=To,$t=mn}if(pr.done)return u(ke,$t),Dr&&Na(ke,Kt),jt;if($t===null){for(;!pr.done;Kt++,pr=Ae.next())pr=nt(ke,pr.value,ot),pr!==null&&(ge=E(pr,ge,Kt),zt===null?jt=pr:zt.sibling=pr,zt=pr);return Dr&&Na(ke,Kt),jt}for($t=h(ke,$t);!pr.done;Kt++,pr=Ae.next())pr=Nt($t,ke,Kt,pr.value,ot),pr!==null&&(i&&pr.alternate!==null&&$t.delete(pr.key===null?Kt:pr.key),ge=E(pr,ge,Kt),zt===null?jt=pr:zt.sibling=pr,zt=pr);return i&&$t.forEach(function(Tq){return s(ke,Tq)}),Dr&&Na(ke,Kt),jt}function en(ke,ge,Ae,ot){if(typeof Ae=="object"&&Ae!==null&&Ae.type===K&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case V:e:{for(var jt=Ae.key,zt=ge;zt!==null;){if(zt.key===jt){if(jt=Ae.type,jt===K){if(zt.tag===7){u(ke,zt.sibling),ge=_(zt,Ae.props.children),ge.return=ke,ke=ge;break e}}else if(zt.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Ce&&cw(jt)===zt.type){u(ke,zt.sibling),ge=_(zt,Ae.props),ge.ref=ic(ke,zt,Ae),ge.return=ke,ke=ge;break e}u(ke,zt);break}else s(ke,zt);zt=zt.sibling}Ae.type===K?(ge=Ta(Ae.props.children,ke.mode,ot,Ae.key),ge.return=ke,ke=ge):(ot=Wf(Ae.type,Ae.key,Ae.props,null,ke.mode,ot),ot.ref=ic(ke,ge,Ae),ot.return=ke,ke=ot)}return F(ke);case B:e:{for(zt=Ae.key;ge!==null;){if(ge.key===zt)if(ge.tag===4&&ge.stateNode.containerInfo===Ae.containerInfo&&ge.stateNode.implementation===Ae.implementation){u(ke,ge.sibling),ge=_(ge,Ae.children||[]),ge.return=ke,ke=ge;break e}else{u(ke,ge);break}else s(ke,ge);ge=ge.sibling}ge=My(Ae,ke.mode,ot),ge.return=ke,ke=ge}return F(ke);case Ce:return zt=Ae._init,en(ke,ge,zt(Ae._payload),ot)}if(ye(Ae))return It(ke,ge,Ae,ot);if(me(Ae))return Lt(ke,ge,Ae,ot);yf(ke,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,ge!==null&&ge.tag===6?(u(ke,ge.sibling),ge=_(ge,Ae),ge.return=ke,ke=ge):(u(ke,ge),ge=jy(Ae,ke.mode,ot),ge.return=ke,ke=ge),F(ke)):u(ke,ge)}return en}var ql=dw(!0),fw=dw(!1),gf=xo(null),vf=null,Cl=null,Qm=null;function Km(){Qm=Cl=vf=null}function Gm(i){var s=gf.current;jr(gf),i._currentValue=s}function Jm(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function Rl(i,s){vf=i,Qm=Cl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Qn=!0),i.firstContext=null)}function Ii(i){var s=i._currentValue;if(Qm!==i)if(i={context:i,memoizedValue:s,next:null},Cl===null){if(vf===null)throw Error(r(308));Cl=i,vf.dependencies={lanes:0,firstContext:i}}else Cl=Cl.next=i;return s}var ka=null;function Zm(i){ka===null?ka=[i]:ka.push(i)}function hw(i,s,u,h){var _=s.interleaved;return _===null?(u.next=u,Zm(s)):(u.next=_.next,_.next=u),s.interleaved=u,Us(i,h)}function Us(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var No=!1;function Xm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pw(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Vs(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function ko(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,hr&2){var _=h.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),h.pending=s,Us(i,u)}return _=h.interleaved,_===null?(s.next=s,Zm(h)):(s.next=_.next,_.next=s),h.interleaved=s,Us(i,u)}function _f(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,$u(i,u)}}function mw(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var _=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var F={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?_=E=F:E=E.next=F,u=u.next}while(u!==null);E===null?_=E=s:E=E.next=s}else _=E=s;u={baseState:h.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function bf(i,s,u,h){var _=i.updateQueue;No=!1;var E=_.firstBaseUpdate,F=_.lastBaseUpdate,ie=_.shared.pending;if(ie!==null){_.shared.pending=null;var ce=ie,Fe=ce.next;ce.next=null,F===null?E=Fe:F.next=Fe,F=ce;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,ie=tt.lastBaseUpdate,ie!==F&&(ie===null?tt.firstBaseUpdate=Fe:ie.next=Fe,tt.lastBaseUpdate=ce))}if(E!==null){var nt=_.baseState;F=0,tt=Fe=ce=null,ie=E;do{var Ye=ie.lane,Nt=ie.eventTime;if((h&Ye)===Ye){tt!==null&&(tt=tt.next={eventTime:Nt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var It=i,Lt=ie;switch(Ye=s,Nt=u,Lt.tag){case 1:if(It=Lt.payload,typeof It=="function"){nt=It.call(Nt,nt,Ye);break e}nt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Lt.payload,Ye=typeof It=="function"?It.call(Nt,nt,Ye):It,Ye==null)break e;nt=Ee({},nt,Ye);break e;case 2:No=!0}}ie.callback!==null&&ie.lane!==0&&(i.flags|=64,Ye=_.effects,Ye===null?_.effects=[ie]:Ye.push(ie))}else Nt={eventTime:Nt,lane:Ye,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},tt===null?(Fe=tt=Nt,ce=nt):tt=tt.next=Nt,F|=Ye;if(ie=ie.next,ie===null){if(ie=_.shared.pending,ie===null)break;Ye=ie,ie=Ye.next,Ye.next=null,_.lastBaseUpdate=Ye,_.shared.pending=null}}while(!0);if(tt===null&&(ce=nt),_.baseState=ce,_.firstBaseUpdate=Fe,_.lastBaseUpdate=tt,s=_.shared.interleaved,s!==null){_=s;do F|=_.lane,_=_.next;while(_!==s)}else E===null&&(_.shared.lanes=0);Ra|=F,i.lanes=F,i.memoizedState=nt}}function yw(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],_=h.callback;if(_!==null){if(h.callback=null,h=u,typeof _!="function")throw Error(r(191,_));_.call(h)}}}var sc={},fs=xo(sc),oc=xo(sc),ac=xo(sc);function qa(i){if(i===sc)throw Error(r(174));return i}function Ym(i,s){switch(Ir(ac,s),Ir(oc,i),Ir(fs,sc),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:cr(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=cr(s,i)}jr(fs),Ir(fs,s)}function Ol(){jr(fs),jr(oc),jr(ac)}function gw(i){qa(ac.current);var s=qa(fs.current),u=cr(s,i.type);s!==u&&(Ir(oc,i),Ir(fs,u))}function ey(i){oc.current===i&&(jr(fs),jr(oc))}var Qr=xo(0);function wf(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ty=[];function ry(){for(var i=0;i<ty.length;i++)ty[i]._workInProgressVersionPrimary=null;ty.length=0}var xf=U.ReactCurrentDispatcher,ny=U.ReactCurrentBatchConfig,Ca=0,Kr=null,un=null,hn=null,Sf=!1,lc=!1,uc=0,tq=0;function Nn(){throw Error(r(321))}function iy(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!$i(i[u],s[u]))return!1;return!0}function sy(i,s,u,h,_,E){if(Ca=E,Kr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,xf.current=i===null||i.memoizedState===null?sq:oq,i=u(h,_),lc){E=0;do{if(lc=!1,uc=0,25<=E)throw Error(r(301));E+=1,hn=un=null,s.updateQueue=null,xf.current=aq,i=u(h,_)}while(lc)}if(xf.current=kf,s=un!==null&&un.next!==null,Ca=0,hn=un=Kr=null,Sf=!1,s)throw Error(r(300));return i}function oy(){var i=uc!==0;return uc=0,i}function hs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Kr.memoizedState=hn=i:hn=hn.next=i,hn}function Ti(){if(un===null){var i=Kr.alternate;i=i!==null?i.memoizedState:null}else i=un.next;var s=hn===null?Kr.memoizedState:hn.next;if(s!==null)hn=s,un=i;else{if(i===null)throw Error(r(310));un=i,i={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},hn===null?Kr.memoizedState=hn=i:hn=hn.next=i}return hn}function cc(i,s){return typeof s=="function"?s(i):s}function ay(i){var s=Ti(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=un,_=h.baseQueue,E=u.pending;if(E!==null){if(_!==null){var F=_.next;_.next=E.next,E.next=F}h.baseQueue=_=E,u.pending=null}if(_!==null){E=_.next,h=h.baseState;var ie=F=null,ce=null,Fe=E;do{var tt=Fe.lane;if((Ca&tt)===tt)ce!==null&&(ce=ce.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),h=Fe.hasEagerState?Fe.eagerState:i(h,Fe.action);else{var nt={lane:tt,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};ce===null?(ie=ce=nt,F=h):ce=ce.next=nt,Kr.lanes|=tt,Ra|=tt}Fe=Fe.next}while(Fe!==null&&Fe!==E);ce===null?F=h:ce.next=ie,$i(h,s.memoizedState)||(Qn=!0),s.memoizedState=h,s.baseState=F,s.baseQueue=ce,u.lastRenderedState=h}if(i=u.interleaved,i!==null){_=i;do E=_.lane,Kr.lanes|=E,Ra|=E,_=_.next;while(_!==i)}else _===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function ly(i){var s=Ti(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,_=u.pending,E=s.memoizedState;if(_!==null){u.pending=null;var F=_=_.next;do E=i(E,F.action),F=F.next;while(F!==_);$i(E,s.memoizedState)||(Qn=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),u.lastRenderedState=E}return[E,h]}function vw(){}function _w(i,s){var u=Kr,h=Ti(),_=s(),E=!$i(h.memoizedState,_);if(E&&(h.memoizedState=_,Qn=!0),h=h.queue,uy(xw.bind(null,u,h,i),[i]),h.getSnapshot!==s||E||hn!==null&&hn.memoizedState.tag&1){if(u.flags|=2048,dc(9,ww.bind(null,u,h,_,s),void 0,null),pn===null)throw Error(r(349));Ca&30||bw(u,s,_)}return _}function bw(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Kr.updateQueue,s===null?(s={lastEffect:null,stores:null},Kr.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function ww(i,s,u,h){s.value=u,s.getSnapshot=h,Sw(s)&&Ew(i)}function xw(i,s,u){return u(function(){Sw(s)&&Ew(i)})}function Sw(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!$i(i,u)}catch{return!0}}function Ew(i){var s=Us(i,1);s!==null&&Ki(s,i,1,-1)}function Nw(i){var s=hs();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:i},s.queue=i,i=i.dispatch=iq.bind(null,Kr,i),[s.memoizedState,i]}function dc(i,s,u,h){return i={tag:i,create:s,destroy:u,deps:h,next:null},s=Kr.updateQueue,s===null?(s={lastEffect:null,stores:null},Kr.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i)),i}function kw(){return Ti().memoizedState}function Ef(i,s,u,h){var _=hs();Kr.flags|=i,_.memoizedState=dc(1|s,u,void 0,h===void 0?null:h)}function Nf(i,s,u,h){var _=Ti();h=h===void 0?null:h;var E=void 0;if(un!==null){var F=un.memoizedState;if(E=F.destroy,h!==null&&iy(h,F.deps)){_.memoizedState=dc(s,u,E,h);return}}Kr.flags|=i,_.memoizedState=dc(1|s,u,E,h)}function qw(i,s){return Ef(8390656,8,i,s)}function uy(i,s){return Nf(2048,8,i,s)}function Cw(i,s){return Nf(4,2,i,s)}function Rw(i,s){return Nf(4,4,i,s)}function Ow(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Aw(i,s,u){return u=u!=null?u.concat([i]):null,Nf(4,4,Ow.bind(null,s,i),u)}function cy(){}function Iw(i,s){var u=Ti();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&iy(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Tw(i,s){var u=Ti();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&iy(s,h[1])?h[0]:(i=i(),u.memoizedState=[i,s],i)}function Pw(i,s,u){return Ca&21?($i(u,s)||(u=Xd(),Kr.lanes|=u,Ra|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Qn=!0),i.memoizedState=u)}function rq(i,s){var u=yr;yr=u!==0&&4>u?u:4,i(!0);var h=ny.transition;ny.transition={};try{i(!1),s()}finally{yr=u,ny.transition=h}}function Fw(){return Ti().memoizedState}function nq(i,s,u){var h=Oo(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Lw(i))jw(s,u);else if(u=hw(i,s,u,h),u!==null){var _=Fn();Ki(u,i,h,_),Mw(u,s,h)}}function iq(i,s,u){var h=Oo(i),_={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lw(i))jw(s,_);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var F=s.lastRenderedState,ie=E(F,u);if(_.hasEagerState=!0,_.eagerState=ie,$i(ie,F)){var ce=s.interleaved;ce===null?(_.next=_,Zm(s)):(_.next=ce.next,ce.next=_),s.interleaved=_;return}}catch{}finally{}u=hw(i,s,_,h),u!==null&&(_=Fn(),Ki(u,i,h,_),Mw(u,s,h))}}function Lw(i){var s=i.alternate;return i===Kr||s!==null&&s===Kr}function jw(i,s){lc=Sf=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Mw(i,s,u){if(u&4194240){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,$u(i,u)}}var kf={readContext:Ii,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},sq={readContext:Ii,useCallback:function(i,s){return hs().memoizedState=[i,s===void 0?null:s],i},useContext:Ii,useEffect:qw,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Ef(4194308,4,Ow.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Ef(4194308,4,i,s)},useInsertionEffect:function(i,s){return Ef(4,2,i,s)},useMemo:function(i,s){var u=hs();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var h=hs();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=nq.bind(null,Kr,i),[h.memoizedState,i]},useRef:function(i){var s=hs();return i={current:i},s.memoizedState=i},useState:Nw,useDebugValue:cy,useDeferredValue:function(i){return hs().memoizedState=i},useTransition:function(){var i=Nw(!1),s=i[0];return i=rq.bind(null,i[1]),hs().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var h=Kr,_=hs();if(Dr){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),pn===null)throw Error(r(349));Ca&30||bw(h,s,u)}_.memoizedState=u;var E={value:u,getSnapshot:s};return _.queue=E,qw(xw.bind(null,h,E,i),[i]),h.flags|=2048,dc(9,ww.bind(null,h,E,u,s),void 0,null),u},useId:function(){var i=hs(),s=pn.identifierPrefix;if(Dr){var u=$s,h=zs;u=(h&~(1<<32-Un(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=uc++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=tq++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},oq={readContext:Ii,useCallback:Iw,useContext:Ii,useEffect:uy,useImperativeHandle:Aw,useInsertionEffect:Cw,useLayoutEffect:Rw,useMemo:Tw,useReducer:ay,useRef:kw,useState:function(){return ay(cc)},useDebugValue:cy,useDeferredValue:function(i){var s=Ti();return Pw(s,un.memoizedState,i)},useTransition:function(){var i=ay(cc)[0],s=Ti().memoizedState;return[i,s]},useMutableSource:vw,useSyncExternalStore:_w,useId:Fw,unstable_isNewReconciler:!1},aq={readContext:Ii,useCallback:Iw,useContext:Ii,useEffect:uy,useImperativeHandle:Aw,useInsertionEffect:Cw,useLayoutEffect:Rw,useMemo:Tw,useReducer:ly,useRef:kw,useState:function(){return ly(cc)},useDebugValue:cy,useDeferredValue:function(i){var s=Ti();return un===null?s.memoizedState=i:Pw(s,un.memoizedState,i)},useTransition:function(){var i=ly(cc)[0],s=Ti().memoizedState;return[i,s]},useMutableSource:vw,useSyncExternalStore:_w,useId:Fw,unstable_isNewReconciler:!1};function Vi(i,s){if(i&&i.defaultProps){s=Ee({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function dy(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:Ee({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var qf={isMounted:function(i){return(i=i._reactInternals)?Ms(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Fn(),_=Oo(i),E=Vs(h,_);E.payload=s,u!=null&&(E.callback=u),s=ko(i,E,_),s!==null&&(Ki(s,i,_,h),_f(s,i,_))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Fn(),_=Oo(i),E=Vs(h,_);E.tag=1,E.payload=s,u!=null&&(E.callback=u),s=ko(i,E,_),s!==null&&(Ki(s,i,_,h),_f(s,i,_))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Fn(),h=Oo(i),_=Vs(u,h);_.tag=2,s!=null&&(_.callback=s),s=ko(i,_,h),s!==null&&(Ki(s,i,h,u),_f(s,i,h))}};function Dw(i,s,u,h,_,E,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,E,F):s.prototype&&s.prototype.isPureReactComponent?!Zu(u,h)||!Zu(_,E):!0}function Ww(i,s,u){var h=!1,_=So,E=s.contextType;return typeof E=="object"&&E!==null?E=Ii(E):(_=Hn(s)?Sa:En.current,h=s.contextTypes,E=(h=h!=null)?Sl(i,_):So),s=new s(u,E),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=qf,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=E),s}function Bw(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&qf.enqueueReplaceState(s,s.state,null)}function fy(i,s,u,h){var _=i.stateNode;_.props=u,_.state=i.memoizedState,_.refs={},Xm(i);var E=s.contextType;typeof E=="object"&&E!==null?_.context=Ii(E):(E=Hn(s)?Sa:En.current,_.context=Sl(i,E)),_.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(dy(i,s,E,u),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&qf.enqueueReplaceState(_,_.state,null),bf(i,u,_,h),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function Al(i,s){try{var u="",h=s;do u+=dt(h),h=h.return;while(h);var _=u}catch(E){_=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:s,stack:_,digest:null}}function hy(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function py(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var lq=typeof WeakMap=="function"?WeakMap:Map;function zw(i,s,u){u=Vs(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){Pf||(Pf=!0,Ry=h),py(i,s)},u}function $w(i,s,u){u=Vs(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var _=s.value;u.payload=function(){return h(_)},u.callback=function(){py(i,s)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){py(i,s),typeof h!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),u}function Uw(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new lq;var _=new Set;h.set(s,_)}else _=h.get(s),_===void 0&&(_=new Set,h.set(s,_));_.has(u)||(_.add(u),i=xq.bind(null,i,s,u),s.then(i,i))}function Vw(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Hw(i,s,u,h,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Vs(-1,1),s.tag=2,ko(u,s,1))),u.lanes|=1),i)}var uq=U.ReactCurrentOwner,Qn=!1;function Pn(i,s,u,h){s.child=i===null?fw(s,null,u,h):ql(s,i.child,u,h)}function Qw(i,s,u,h,_){u=u.render;var E=s.ref;return Rl(s,_),h=sy(i,s,u,h,E,_),u=oy(),i!==null&&!Qn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Hs(i,s,_)):(Dr&&u&&zm(s),s.flags|=1,Pn(i,s,h,_),s.child)}function Kw(i,s,u,h,_){if(i===null){var E=u.type;return typeof E=="function"&&!Ly(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=E,Gw(i,s,E,h,_)):(i=Wf(u.type,null,h,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(E=i.child,!(i.lanes&_)){var F=E.memoizedProps;if(u=u.compare,u=u!==null?u:Zu,u(F,h)&&i.ref===s.ref)return Hs(i,s,_)}return s.flags|=1,i=Io(E,h),i.ref=s.ref,i.return=s,s.child=i}function Gw(i,s,u,h,_){if(i!==null){var E=i.memoizedProps;if(Zu(E,h)&&i.ref===s.ref)if(Qn=!1,s.pendingProps=h=E,(i.lanes&_)!==0)i.flags&131072&&(Qn=!0);else return s.lanes=i.lanes,Hs(i,s,_)}return my(i,s,u,h,_)}function Jw(i,s,u){var h=s.pendingProps,_=h.children,E=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Tl,li),li|=u;else{if(!(u&0x40000000))return i=E!==null?E.baseLanes|u:u,s.lanes=s.childLanes=0x40000000,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ir(Tl,li),li|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=E!==null?E.baseLanes:u,Ir(Tl,li),li|=h}else E!==null?(h=E.baseLanes|u,s.memoizedState=null):h=u,Ir(Tl,li),li|=h;return Pn(i,s,_,u),s.child}function Zw(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function my(i,s,u,h,_){var E=Hn(u)?Sa:En.current;return E=Sl(s,E),Rl(s,_),u=sy(i,s,u,h,E,_),h=oy(),i!==null&&!Qn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Hs(i,s,_)):(Dr&&h&&zm(s),s.flags|=1,Pn(i,s,u,_),s.child)}function Xw(i,s,u,h,_){if(Hn(u)){var E=!0;df(s)}else E=!1;if(Rl(s,_),s.stateNode===null)Rf(i,s),Ww(s,u,h),fy(s,u,h,_),h=!0;else if(i===null){var F=s.stateNode,ie=s.memoizedProps;F.props=ie;var ce=F.context,Fe=u.contextType;typeof Fe=="object"&&Fe!==null?Fe=Ii(Fe):(Fe=Hn(u)?Sa:En.current,Fe=Sl(s,Fe));var tt=u.getDerivedStateFromProps,nt=typeof tt=="function"||typeof F.getSnapshotBeforeUpdate=="function";nt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==h||ce!==Fe)&&Bw(s,F,h,Fe),No=!1;var Ye=s.memoizedState;F.state=Ye,bf(s,h,F,_),ce=s.memoizedState,ie!==h||Ye!==ce||Vn.current||No?(typeof tt=="function"&&(dy(s,u,tt,h),ce=s.memoizedState),(ie=No||Dw(s,u,ie,h,Ye,ce,Fe))?(nt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ce),F.props=h,F.state=ce,F.context=Fe,h=ie):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{F=s.stateNode,pw(i,s),ie=s.memoizedProps,Fe=s.type===s.elementType?ie:Vi(s.type,ie),F.props=Fe,nt=s.pendingProps,Ye=F.context,ce=u.contextType,typeof ce=="object"&&ce!==null?ce=Ii(ce):(ce=Hn(u)?Sa:En.current,ce=Sl(s,ce));var Nt=u.getDerivedStateFromProps;(tt=typeof Nt=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==nt||Ye!==ce)&&Bw(s,F,h,ce),No=!1,Ye=s.memoizedState,F.state=Ye,bf(s,h,F,_);var It=s.memoizedState;ie!==nt||Ye!==It||Vn.current||No?(typeof Nt=="function"&&(dy(s,u,Nt,h),It=s.memoizedState),(Fe=No||Dw(s,u,Fe,h,Ye,It,ce)||!1)?(tt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(h,It,ce),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(h,It,ce)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=It),F.props=h,F.state=It,F.context=ce,h=Fe):(typeof F.componentDidUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=1024),h=!1)}return yy(i,s,u,h,E,_)}function yy(i,s,u,h,_,E){Zw(i,s);var F=(s.flags&128)!==0;if(!h&&!F)return _&&nw(s,u,!1),Hs(i,s,E);h=s.stateNode,uq.current=s;var ie=F&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&F?(s.child=ql(s,i.child,null,E),s.child=ql(s,null,ie,E)):Pn(i,s,ie,E),s.memoizedState=h.state,_&&nw(s,u,!0),s.child}function Yw(i){var s=i.stateNode;s.pendingContext?tw(i,s.pendingContext,s.pendingContext!==s.context):s.context&&tw(i,s.context,!1),Ym(i,s.containerInfo)}function e0(i,s,u,h,_){return kl(),Hm(_),s.flags|=256,Pn(i,s,u,h),s.child}var gy={dehydrated:null,treeContext:null,retryLane:0};function vy(i){return{baseLanes:i,cachePool:null,transitions:null}}function t0(i,s,u){var h=s.pendingProps,_=Qr.current,E=!1,F=(s.flags&128)!==0,ie;if((ie=F)||(ie=i!==null&&i.memoizedState===null?!1:(_&2)!==0),ie?(E=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),Ir(Qr,_&1),i===null)return Vm(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=0x40000000:s.lanes=1,null):(F=h.children,i=h.fallback,E?(h=s.mode,E=s.child,F={mode:"hidden",children:F},!(h&1)&&E!==null?(E.childLanes=0,E.pendingProps=F):E=Bf(F,h,0,null),i=Ta(i,h,u,null),E.return=s,i.return=s,E.sibling=i,s.child=E,s.child.memoizedState=vy(u),s.memoizedState=gy,i):_y(s,F));if(_=i.memoizedState,_!==null&&(ie=_.dehydrated,ie!==null))return cq(i,s,F,h,ie,_,u);if(E){E=h.fallback,F=s.mode,_=i.child,ie=_.sibling;var ce={mode:"hidden",children:h.children};return!(F&1)&&s.child!==_?(h=s.child,h.childLanes=0,h.pendingProps=ce,s.deletions=null):(h=Io(_,ce),h.subtreeFlags=_.subtreeFlags&0xe00000),ie!==null?E=Io(ie,E):(E=Ta(E,F,u,null),E.flags|=2),E.return=s,h.return=s,h.sibling=E,s.child=h,h=E,E=s.child,F=i.child.memoizedState,F=F===null?vy(u):{baseLanes:F.baseLanes|u,cachePool:null,transitions:F.transitions},E.memoizedState=F,E.childLanes=i.childLanes&~u,s.memoizedState=gy,h}return E=i.child,i=E.sibling,h=Io(E,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=u),h.return=s,h.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=h,s.memoizedState=null,h}function _y(i,s){return s=Bf({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Cf(i,s,u,h){return h!==null&&Hm(h),ql(s,i.child,null,u),i=_y(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function cq(i,s,u,h,_,E,F){if(u)return s.flags&256?(s.flags&=-257,h=hy(Error(r(422))),Cf(i,s,F,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(E=h.fallback,_=s.mode,h=Bf({mode:"visible",children:h.children},_,0,null),E=Ta(E,_,F,null),E.flags|=2,h.return=s,E.return=s,h.sibling=E,s.child=h,s.mode&1&&ql(s,i.child,null,F),s.child.memoizedState=vy(F),s.memoizedState=gy,E);if(!(s.mode&1))return Cf(i,s,F,null);if(_.data==="$!"){if(h=_.nextSibling&&_.nextSibling.dataset,h)var ie=h.dgst;return h=ie,E=Error(r(419)),h=hy(E,h,void 0),Cf(i,s,F,h)}if(ie=(F&i.childLanes)!==0,Qn||ie){if(h=pn,h!==null){switch(F&-F){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:_=32;break;case 0x20000000:_=0x10000000;break;default:_=0}_=_&(h.suspendedLanes|F)?0:_,_!==0&&_!==E.retryLane&&(E.retryLane=_,Us(i,_),Ki(h,i,_,-1))}return Fy(),h=hy(Error(r(421))),Cf(i,s,F,h)}return _.data==="$?"?(s.flags|=128,s.child=i.child,s=Sq.bind(null,i),_._reactRetry=s,null):(i=E.treeContext,ai=wo(_.nextSibling),oi=s,Dr=!0,Ui=null,i!==null&&(Oi[Ai++]=zs,Oi[Ai++]=$s,Oi[Ai++]=Ea,zs=i.id,$s=i.overflow,Ea=s),s=_y(s,h.children),s.flags|=4096,s)}function r0(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Jm(i.return,s,u)}function by(i,s,u,h,_){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:_}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=u,E.tailMode=_)}function n0(i,s,u){var h=s.pendingProps,_=h.revealOrder,E=h.tail;if(Pn(i,s,h.children,u),h=Qr.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&r0(i,u,s);else if(i.tag===19)r0(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ir(Qr,h),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(u=s.child,_=null;u!==null;)i=u.alternate,i!==null&&wf(i)===null&&(_=u),u=u.sibling;u=_,u===null?(_=s.child,s.child=null):(_=u.sibling,u.sibling=null),by(s,!1,_,u,E);break;case"backwards":for(u=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&wf(i)===null){s.child=_;break}i=_.sibling,_.sibling=u,u=_,_=i}by(s,!0,u,null,E);break;case"together":by(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Rf(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Hs(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Ra|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Io(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Io(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function dq(i,s,u){switch(s.tag){case 3:Yw(s),kl();break;case 5:gw(s);break;case 1:Hn(s.type)&&df(s);break;case 4:Ym(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,_=s.memoizedProps.value;Ir(gf,h._currentValue),h._currentValue=_;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ir(Qr,Qr.current&1),s.flags|=128,null):u&s.child.childLanes?t0(i,s,u):(Ir(Qr,Qr.current&1),i=Hs(i,s,u),i!==null?i.sibling:null);Ir(Qr,Qr.current&1);break;case 19:if(h=(u&s.childLanes)!==0,i.flags&128){if(h)return n0(i,s,u);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ir(Qr,Qr.current),h)break;return null;case 22:case 23:return s.lanes=0,Jw(i,s,u)}return Hs(i,s,u)}var i0,wy,s0,o0;i0=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},wy=function(){},s0=function(i,s,u,h){var _=i.memoizedProps;if(_!==h){i=s.stateNode,qa(fs.current);var E=null;switch(u){case"input":_=Jt(i,_),h=Jt(i,h),E=[];break;case"select":_=Ee({},_,{value:void 0}),h=Ee({},h,{value:void 0}),E=[];break;case"textarea":_=je(i,_),h=je(i,h),E=[];break;default:typeof _.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=lf)}go(u,h);var F;u=null;for(Fe in _)if(!h.hasOwnProperty(Fe)&&_.hasOwnProperty(Fe)&&_[Fe]!=null)if(Fe==="style"){var ie=_[Fe];for(F in ie)ie.hasOwnProperty(F)&&(u||(u={}),u[F]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(o.hasOwnProperty(Fe)?E||(E=[]):(E=E||[]).push(Fe,null));for(Fe in h){var ce=h[Fe];if(ie=_?.[Fe],h.hasOwnProperty(Fe)&&ce!==ie&&(ce!=null||ie!=null))if(Fe==="style")if(ie){for(F in ie)!ie.hasOwnProperty(F)||ce&&ce.hasOwnProperty(F)||(u||(u={}),u[F]="");for(F in ce)ce.hasOwnProperty(F)&&ie[F]!==ce[F]&&(u||(u={}),u[F]=ce[F])}else u||(E||(E=[]),E.push(Fe,u)),u=ce;else Fe==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ie=ie?ie.__html:void 0,ce!=null&&ie!==ce&&(E=E||[]).push(Fe,ce)):Fe==="children"?typeof ce!="string"&&typeof ce!="number"||(E=E||[]).push(Fe,""+ce):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(Fe)?(ce!=null&&Fe==="onScroll"&&Lr("scroll",i),E||ie===ce||(E=[])):(E=E||[]).push(Fe,ce))}u&&(E=E||[]).push("style",u);var Fe=E;(s.updateQueue=Fe)&&(s.flags|=4)}},o0=function(i,s,u,h){u!==h&&(s.flags|=4)};function fc(i,s){if(!Dr)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function kn(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var _=i.child;_!==null;)u|=_.lanes|_.childLanes,h|=_.subtreeFlags&0xe00000,h|=_.flags&0xe00000,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)u|=_.lanes|_.childLanes,h|=_.subtreeFlags,h|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function fq(i,s,u){var h=s.pendingProps;switch($m(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(s),null;case 1:return Hn(s.type)&&cf(),kn(s),null;case 3:return h=s.stateNode,Ol(),jr(Vn),jr(En),ry(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(mf(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ui!==null&&(Iy(Ui),Ui=null))),wy(i,s),kn(s),null;case 5:ey(s);var _=qa(ac.current);if(u=s.type,i!==null&&s.stateNode!=null)s0(i,s,u,h,_),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return kn(s),null}if(i=qa(fs.current),mf(s)){h=s.stateNode,u=s.type;var E=s.memoizedProps;switch(h[ds]=s,h[rc]=E,i=(s.mode&1)!==0,u){case"dialog":Lr("cancel",h),Lr("close",h);break;case"iframe":case"object":case"embed":Lr("load",h);break;case"video":case"audio":for(_=0;_<Yu.length;_++)Lr(Yu[_],h);break;case"source":Lr("error",h);break;case"img":case"image":case"link":Lr("error",h),Lr("load",h);break;case"details":Lr("toggle",h);break;case"input":Gt(h,E),Lr("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!E.multiple},Lr("invalid",h);break;case"textarea":Ge(h,E),Lr("invalid",h)}go(u,E),_=null;for(var F in E)if(E.hasOwnProperty(F)){var ie=E[F];F==="children"?typeof ie=="string"?h.textContent!==ie&&(E.suppressHydrationWarning!==!0&&af(h.textContent,ie,i),_=["children",ie]):typeof ie=="number"&&h.textContent!==""+ie&&(E.suppressHydrationWarning!==!0&&af(h.textContent,ie,i),_=["children",""+ie]):o.hasOwnProperty(F)&&ie!=null&&F==="onScroll"&&Lr("scroll",h)}switch(u){case"input":yt(h),se(h,E,!0);break;case"textarea":yt(h),Dt(h);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(h.onclick=lf)}h=_,s.updateQueue=h,h!==null&&(s.flags|=4)}else{F=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=mr(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=F.createElement("div"),i.innerHTML="<script></script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=F.createElement(u,{is:h.is}):(i=F.createElement(u),u==="select"&&(F=i,h.multiple?F.multiple=!0:h.size&&(F.size=h.size))):i=F.createElementNS(i,u),i[ds]=s,i[rc]=h,i0(i,s,!1,!1),s.stateNode=i;e:{switch(F=vo(u,h),u){case"dialog":Lr("cancel",i),Lr("close",i),_=h;break;case"iframe":case"object":case"embed":Lr("load",i),_=h;break;case"video":case"audio":for(_=0;_<Yu.length;_++)Lr(Yu[_],i);_=h;break;case"source":Lr("error",i),_=h;break;case"img":case"image":case"link":Lr("error",i),Lr("load",i),_=h;break;case"details":Lr("toggle",i),_=h;break;case"input":Gt(i,h),_=Jt(i,h),Lr("invalid",i);break;case"option":_=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},_=Ee({},h,{value:void 0}),Lr("invalid",i);break;case"textarea":Ge(i,h),_=je(i,h),Lr("invalid",i);break;default:_=h}go(u,_),ie=_;for(E in ie)if(ie.hasOwnProperty(E)){var ce=ie[E];E==="style"?Ut(i,ce):E==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&Tn(i,ce)):E==="children"?typeof ce=="string"?(u!=="textarea"||ce!=="")&&Xr(i,ce):typeof ce=="number"&&Xr(i,""+ce):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?ce!=null&&E==="onScroll"&&Lr("scroll",i):ce!=null&&M(i,E,ce,F))}switch(u){case"input":yt(i),se(i,h,!1);break;case"textarea":yt(i),Dt(i);break;case"option":h.value!=null&&i.setAttribute("value",""+gt(h.value));break;case"select":i.multiple=!!h.multiple,E=h.value,E!=null?Oe(i,!!h.multiple,E,!1):h.defaultValue!=null&&Oe(i,!!h.multiple,h.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=lf)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return kn(s),null;case 6:if(i&&s.stateNode!=null)o0(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(u=qa(ac.current),qa(fs.current),mf(s)){if(h=s.stateNode,u=s.memoizedProps,h[ds]=s,(E=h.nodeValue!==u)&&(i=oi,i!==null))switch(i.tag){case 3:af(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&af(h.nodeValue,u,(i.mode&1)!==0)}E&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[ds]=s,s.stateNode=h}return kn(s),null;case 13:if(jr(Qr),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Dr&&ai!==null&&s.mode&1&&!(s.flags&128))uw(),kl(),s.flags|=98560,E=!1;else if(E=mf(s),h!==null&&h.dehydrated!==null){if(i===null){if(!E)throw Error(r(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[ds]=s}else kl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;kn(s),E=!1}else Ui!==null&&(Iy(Ui),Ui=null),E=!0;if(!E)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(i===null||Qr.current&1?cn===0&&(cn=3):Fy())),s.updateQueue!==null&&(s.flags|=4),kn(s),null);case 4:return Ol(),wy(i,s),i===null&&ec(s.stateNode.containerInfo),kn(s),null;case 10:return Gm(s.type._context),kn(s),null;case 17:return Hn(s.type)&&cf(),kn(s),null;case 19:if(jr(Qr),E=s.memoizedState,E===null)return kn(s),null;if(h=(s.flags&128)!==0,F=E.rendering,F===null)if(h)fc(E,!1);else{if(cn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(F=wf(i),F!==null){for(s.flags|=128,fc(E,!1),h=F.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)E=u,i=h,E.flags&=0xe00002,F=E.alternate,F===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=F.childLanes,E.lanes=F.lanes,E.child=F.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=F.memoizedProps,E.memoizedState=F.memoizedState,E.updateQueue=F.updateQueue,E.type=F.type,i=F.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ir(Qr,Qr.current&1|2),s.child}i=i.sibling}E.tail!==null&&Vr()>Pl&&(s.flags|=128,h=!0,fc(E,!1),s.lanes=4194304)}else{if(!h)if(i=wf(F),i!==null){if(s.flags|=128,h=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),fc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!F.alternate&&!Dr)return kn(s),null}else 2*Vr()-E.renderingStartTime>Pl&&u!==0x40000000&&(s.flags|=128,h=!0,fc(E,!1),s.lanes=4194304);E.isBackwards?(F.sibling=s.child,s.child=F):(u=E.last,u!==null?u.sibling=F:s.child=F,E.last=F)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=Vr(),s.sibling=null,u=Qr.current,Ir(Qr,h?u&1|2:u&1),s):(kn(s),null);case 22:case 23:return Py(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?li&0x40000000&&(kn(s),s.subtreeFlags&6&&(s.flags|=8192)):kn(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function hq(i,s){switch($m(s),s.tag){case 1:return Hn(s.type)&&cf(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ol(),jr(Vn),jr(En),ry(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return ey(s),null;case 13:if(jr(Qr),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));kl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return jr(Qr),null;case 4:return Ol(),null;case 10:return Gm(s.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var Of=!1,qn=!1,pq=typeof WeakSet=="function"?WeakSet:Set,At=null;function Il(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Yr(i,s,h)}else u.current=null}function xy(i,s,u){try{u()}catch(h){Yr(i,s,h)}}var a0=!1;function mq(i,s){if(Pm=De,i=Db(),km(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var _=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var F=0,ie=-1,ce=-1,Fe=0,tt=0,nt=i,Ye=null;t:for(;;){for(var Nt;nt!==u||_!==0&&nt.nodeType!==3||(ie=F+_),nt!==E||h!==0&&nt.nodeType!==3||(ce=F+h),nt.nodeType===3&&(F+=nt.nodeValue.length),(Nt=nt.firstChild)!==null;)Ye=nt,nt=Nt;for(;;){if(nt===i)break t;if(Ye===u&&++Fe===_&&(ie=F),Ye===E&&++tt===h&&(ce=F),(Nt=nt.nextSibling)!==null)break;nt=Ye,Ye=nt.parentNode}nt=Nt}u=ie===-1||ce===-1?null:{start:ie,end:ce}}else u=null}u=u||{start:0,end:0}}else u=null;for(Fm={focusedElem:i,selectionRange:u},De=!1,At=s;At!==null;)if(s=At,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,At=i;else for(;At!==null;){s=At;try{var It=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var Lt=It.memoizedProps,en=It.memoizedState,ke=s.stateNode,ge=ke.getSnapshotBeforeUpdate(s.elementType===s.type?Lt:Vi(s.type,Lt),en);ke.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Ae=s.stateNode.containerInfo;Ae.nodeType===1?Ae.textContent="":Ae.nodeType===9&&Ae.documentElement&&Ae.removeChild(Ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){Yr(s,s.return,ot)}if(i=s.sibling,i!==null){i.return=s.return,At=i;break}At=s.return}return It=a0,a0=!1,It}function hc(i,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var _=h=h.next;do{if((_.tag&i)===i){var E=_.destroy;_.destroy=void 0,E!==void 0&&xy(s,u,E)}_=_.next}while(_!==h)}}function Af(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function Sy(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function l0(i){var s=i.alternate;s!==null&&(i.alternate=null,l0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ds],delete s[rc],delete s[Dm],delete s[Z3],delete s[X3])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function u0(i){return i.tag===5||i.tag===3||i.tag===4}function c0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||u0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ey(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=lf));else if(h!==4&&(i=i.child,i!==null))for(Ey(i,s,u),i=i.sibling;i!==null;)Ey(i,s,u),i=i.sibling}function Ny(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Ny(i,s,u),i=i.sibling;i!==null;)Ny(i,s,u),i=i.sibling}var vn=null,Hi=!1;function qo(i,s,u){for(u=u.child;u!==null;)d0(i,s,u),u=u.sibling}function d0(i,s,u){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(hl,u)}catch{}switch(u.tag){case 5:qn||Il(u,s);case 6:var h=vn,_=Hi;vn=null,qo(i,s,u),vn=h,Hi=_,vn!==null&&(Hi?(i=vn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):vn.removeChild(u.stateNode));break;case 18:vn!==null&&(Hi?(i=vn,u=u.stateNode,i.nodeType===8?Mm(i.parentNode,u):i.nodeType===1&&Mm(i,u),_e(i)):Mm(vn,u.stateNode));break;case 4:h=vn,_=Hi,vn=u.stateNode.containerInfo,Hi=!0,qo(i,s,u),vn=h,Hi=_;break;case 0:case 11:case 14:case 15:if(!qn&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){_=h=h.next;do{var E=_,F=E.destroy;E=E.tag,F!==void 0&&(E&2||E&4)&&xy(u,s,F),_=_.next}while(_!==h)}qo(i,s,u);break;case 1:if(!qn&&(Il(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(ie){Yr(u,s,ie)}qo(i,s,u);break;case 21:qo(i,s,u);break;case 22:u.mode&1?(qn=(h=qn)||u.memoizedState!==null,qo(i,s,u),qn=h):qo(i,s,u);break;default:qo(i,s,u)}}function f0(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new pq),s.forEach(function(h){var _=Eq.bind(null,i,h);u.has(h)||(u.add(h),h.then(_,_))})}}function Qi(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var _=u[h];try{var E=i,F=s,ie=F;e:for(;ie!==null;){switch(ie.tag){case 5:vn=ie.stateNode,Hi=!1;break e;case 3:vn=ie.stateNode.containerInfo,Hi=!0;break e;case 4:vn=ie.stateNode.containerInfo,Hi=!0;break e}ie=ie.return}if(vn===null)throw Error(r(160));d0(E,F,_),vn=null,Hi=!1;var ce=_.alternate;ce!==null&&(ce.return=null),_.return=null}catch(Fe){Yr(_,s,Fe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)h0(s,i),s=s.sibling}function h0(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qi(s,i),ps(i),h&4){try{hc(3,i,i.return),Af(3,i)}catch(Lt){Yr(i,i.return,Lt)}try{hc(5,i,i.return)}catch(Lt){Yr(i,i.return,Lt)}}break;case 1:Qi(s,i),ps(i),h&512&&u!==null&&Il(u,u.return);break;case 5:if(Qi(s,i),ps(i),h&512&&u!==null&&Il(u,u.return),i.flags&32){var _=i.stateNode;try{Xr(_,"")}catch(Lt){Yr(i,i.return,Lt)}}if(h&4&&(_=i.stateNode,_!=null)){var E=i.memoizedProps,F=u!==null?u.memoizedProps:E,ie=i.type,ce=i.updateQueue;if(i.updateQueue=null,ce!==null)try{ie==="input"&&E.type==="radio"&&E.name!=null&&er(_,E),vo(ie,F);var Fe=vo(ie,E);for(F=0;F<ce.length;F+=2){var tt=ce[F],nt=ce[F+1];tt==="style"?Ut(_,nt):tt==="dangerouslySetInnerHTML"?Tn(_,nt):tt==="children"?Xr(_,nt):M(_,tt,nt,Fe)}switch(ie){case"input":ur(_,E);break;case"textarea":_t(_,E);break;case"select":var Ye=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!E.multiple;var Nt=E.value;Nt!=null?Oe(_,!!E.multiple,Nt,!1):Ye!==!!E.multiple&&(E.defaultValue!=null?Oe(_,!!E.multiple,E.defaultValue,!0):Oe(_,!!E.multiple,E.multiple?[]:"",!1))}_[rc]=E}catch(Lt){Yr(i,i.return,Lt)}}break;case 6:if(Qi(s,i),ps(i),h&4){if(i.stateNode===null)throw Error(r(162));_=i.stateNode,E=i.memoizedProps;try{_.nodeValue=E}catch(Lt){Yr(i,i.return,Lt)}}break;case 3:if(Qi(s,i),ps(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{_e(s.containerInfo)}catch(Lt){Yr(i,i.return,Lt)}break;case 4:Qi(s,i),ps(i);break;case 13:Qi(s,i),ps(i),_=i.child,_.flags&8192&&(E=_.memoizedState!==null,_.stateNode.isHidden=E,!E||_.alternate!==null&&_.alternate.memoizedState!==null||(Cy=Vr())),h&4&&f0(i);break;case 22:if(tt=u!==null&&u.memoizedState!==null,i.mode&1?(qn=(Fe=qn)||tt,Qi(s,i),qn=Fe):Qi(s,i),ps(i),h&8192){if(Fe=i.memoizedState!==null,(i.stateNode.isHidden=Fe)&&!tt&&i.mode&1)for(At=i,tt=i.child;tt!==null;){for(nt=At=tt;At!==null;){switch(Ye=At,Nt=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:hc(4,Ye,Ye.return);break;case 1:Il(Ye,Ye.return);var It=Ye.stateNode;if(typeof It.componentWillUnmount=="function"){h=Ye,u=Ye.return;try{s=h,It.props=s.memoizedProps,It.state=s.memoizedState,It.componentWillUnmount()}catch(Lt){Yr(h,u,Lt)}}break;case 5:Il(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){y0(nt);continue}}Nt!==null?(Nt.return=Ye,At=Nt):y0(nt)}tt=tt.sibling}e:for(tt=null,nt=i;;){if(nt.tag===5){if(tt===null){tt=nt;try{_=nt.stateNode,Fe?(E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(ie=nt.stateNode,ce=nt.memoizedProps.style,F=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,ie.style.display=yn("display",F))}catch(Lt){Yr(i,i.return,Lt)}}}else if(nt.tag===6){if(tt===null)try{nt.stateNode.nodeValue=Fe?"":nt.memoizedProps}catch(Lt){Yr(i,i.return,Lt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;tt===nt&&(tt=null),nt=nt.return}tt===nt&&(tt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:Qi(s,i),ps(i),h&4&&f0(i);break;case 21:break;default:Qi(s,i),ps(i)}}function ps(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(u0(u)){var h=u;break e}u=u.return}throw Error(r(160))}switch(h.tag){case 5:var _=h.stateNode;h.flags&32&&(Xr(_,""),h.flags&=-33);var E=c0(i);Ny(i,E,_);break;case 3:case 4:var F=h.stateNode.containerInfo,ie=c0(i);Ey(i,ie,F);break;default:throw Error(r(161))}}catch(ce){Yr(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function yq(i,s,u){At=i,p0(i)}function p0(i,s,u){for(var h=(i.mode&1)!==0;At!==null;){var _=At,E=_.child;if(_.tag===22&&h){var F=_.memoizedState!==null||Of;if(!F){var ie=_.alternate,ce=ie!==null&&ie.memoizedState!==null||qn;ie=Of;var Fe=qn;if(Of=F,(qn=ce)&&!Fe)for(At=_;At!==null;)F=At,ce=F.child,F.tag===22&&F.memoizedState!==null?g0(_):ce!==null?(ce.return=F,At=ce):g0(_);for(;E!==null;)At=E,p0(E),E=E.sibling;At=_,Of=ie,qn=Fe}m0(i)}else _.subtreeFlags&8772&&E!==null?(E.return=_,At=E):m0(i)}}function m0(i){for(;At!==null;){var s=At;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:qn||Af(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!qn)if(u===null)h.componentDidMount();else{var _=s.elementType===s.type?u.memoizedProps:Vi(s.type,u.memoizedProps);h.componentDidUpdate(_,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var E=s.updateQueue;E!==null&&yw(s,E,h);break;case 3:var F=s.updateQueue;if(F!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}yw(s,F,u)}break;case 5:var ie=s.stateNode;if(u===null&&s.flags&4){u=ie;var ce=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&u.focus();break;case"img":ce.src&&(u.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Fe=s.alternate;if(Fe!==null){var tt=Fe.memoizedState;if(tt!==null){var nt=tt.dehydrated;nt!==null&&_e(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}qn||s.flags&512&&Sy(s)}catch(Ye){Yr(s,s.return,Ye)}}if(s===i){At=null;break}if(u=s.sibling,u!==null){u.return=s.return,At=u;break}At=s.return}}function y0(i){for(;At!==null;){var s=At;if(s===i){At=null;break}var u=s.sibling;if(u!==null){u.return=s.return,At=u;break}At=s.return}}function g0(i){for(;At!==null;){var s=At;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Af(4,s)}catch(ce){Yr(s,u,ce)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var _=s.return;try{h.componentDidMount()}catch(ce){Yr(s,_,ce)}}var E=s.return;try{Sy(s)}catch(ce){Yr(s,E,ce)}break;case 5:var F=s.return;try{Sy(s)}catch(ce){Yr(s,F,ce)}}}catch(ce){Yr(s,s.return,ce)}if(s===i){At=null;break}var ie=s.sibling;if(ie!==null){ie.return=s.return,At=ie;break}At=s.return}}var gq=Math.ceil,If=U.ReactCurrentDispatcher,ky=U.ReactCurrentOwner,Pi=U.ReactCurrentBatchConfig,hr=0,pn=null,on=null,_n=0,li=0,Tl=xo(0),cn=0,pc=null,Ra=0,Tf=0,qy=0,mc=null,Kn=null,Cy=0,Pl=1/0,Qs=null,Pf=!1,Ry=null,Co=null,Ff=!1,Ro=null,Lf=0,yc=0,Oy=null,jf=-1,Mf=0;function Fn(){return hr&6?Vr():jf!==-1?jf:jf=Vr()}function Oo(i){return i.mode&1?hr&2&&_n!==0?_n&-_n:eq.transition!==null?(Mf===0&&(Mf=Xd()),Mf):(i=yr,i!==0||(i=window.event,i=i===void 0?16:de(i.type)),i):1}function Ki(i,s,u,h){if(50<yc)throw yc=0,Oy=null,Error(r(185));ba(i,u,h),(!(hr&2)||i!==pn)&&(i===pn&&(!(hr&2)&&(Tf|=u),cn===4&&Ao(i,_n)),Gn(i,h),u===1&&hr===0&&!(s.mode&1)&&(Pl=Vr()+500,ff&&Eo()))}function Gn(i,s){var u=i.callbackNode;vm(i,s);var h=ml(i,i===pn?_n:0);if(h===0)u!==null&&Du(u),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(u!=null&&Du(u),s===1)i.tag===0?Y3(_0.bind(null,i)):iw(_0.bind(null,i)),G3(function(){!(hr&6)&&Eo()}),u=null;else{switch(Yd(h)){case 1:u=Wu;break;case 4:u=Jd;break;case 16:u=fl;break;case 0x20000000:u=Zd;break;default:u=fl}u=q0(u,v0.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function v0(i,s){if(jf=-1,Mf=0,hr&6)throw Error(r(327));var u=i.callbackNode;if(Fl()&&i.callbackNode!==u)return null;var h=ml(i,i===pn?_n:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=Df(i,h);else{s=h;var _=hr;hr|=2;var E=w0();(pn!==i||_n!==s)&&(Qs=null,Pl=Vr()+500,Aa(i,s));do try{bq();break}catch(ie){b0(i,ie)}while(!0);Km(),If.current=E,hr=_,on!==null?s=0:(pn=null,_n=0,s=cn)}if(s!==0){if(s===2&&(_=Bu(i),_!==0&&(h=_,s=Ay(i,_))),s===1)throw u=pc,Aa(i,0),Ao(i,h),Gn(i,Vr()),u;if(s===6)Ao(i,h);else{if(_=i.current.alternate,!(h&30)&&!vq(_)&&(s=Df(i,h),s===2&&(E=Bu(i),E!==0&&(h=E,s=Ay(i,E))),s===1))throw u=pc,Aa(i,0),Ao(i,h),Gn(i,Vr()),u;switch(i.finishedWork=_,i.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:Ia(i,Kn,Qs);break;case 3:if(Ao(i,h),(h&0x7c00000)===h&&(s=Cy+500-Vr(),10<s)){if(ml(i,0)!==0)break;if(_=i.suspendedLanes,(_&h)!==h){Fn(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=jm(Ia.bind(null,i,Kn,Qs),s);break}Ia(i,Kn,Qs);break;case 4:if(Ao(i,h),(h&4194240)===h)break;for(s=i.eventTimes,_=-1;0<h;){var F=31-Un(h);E=1<<F,F=s[F],F>_&&(_=F),h&=~E}if(h=_,h=Vr()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*gq(h/1960))-h,10<h){i.timeoutHandle=jm(Ia.bind(null,i,Kn,Qs),h);break}Ia(i,Kn,Qs);break;case 5:Ia(i,Kn,Qs);break;default:throw Error(r(329))}}}return Gn(i,Vr()),i.callbackNode===u?v0.bind(null,i):null}function Ay(i,s){var u=mc;return i.current.memoizedState.isDehydrated&&(Aa(i,s).flags|=256),i=Df(i,s),i!==2&&(s=Kn,Kn=u,s!==null&&Iy(s)),i}function Iy(i){Kn===null?Kn=i:Kn.push.apply(Kn,i)}function vq(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var _=u[h],E=_.getSnapshot;_=_.value;try{if(!$i(E(),_))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ao(i,s){for(s&=~qy,s&=~Tf,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Un(s),h=1<<u;i[u]=-1,s&=~h}}function _0(i){if(hr&6)throw Error(r(327));Fl();var s=ml(i,0);if(!(s&1))return Gn(i,Vr()),null;var u=Df(i,s);if(i.tag!==0&&u===2){var h=Bu(i);h!==0&&(s=h,u=Ay(i,h))}if(u===1)throw u=pc,Aa(i,0),Ao(i,s),Gn(i,Vr()),u;if(u===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ia(i,Kn,Qs),Gn(i,Vr()),null}function Ty(i,s){var u=hr;hr|=1;try{return i(s)}finally{hr=u,hr===0&&(Pl=Vr()+500,ff&&Eo())}}function Oa(i){Ro!==null&&Ro.tag===0&&!(hr&6)&&Fl();var s=hr;hr|=1;var u=Pi.transition,h=yr;try{if(Pi.transition=null,yr=1,i)return i()}finally{yr=h,Pi.transition=u,hr=s,!(hr&6)&&Eo()}}function Py(){li=Tl.current,jr(Tl)}function Aa(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,K3(u)),on!==null)for(u=on.return;u!==null;){var h=u;switch($m(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cf();break;case 3:Ol(),jr(Vn),jr(En),ry();break;case 5:ey(h);break;case 4:Ol();break;case 13:jr(Qr);break;case 19:jr(Qr);break;case 10:Gm(h.type._context);break;case 22:case 23:Py()}u=u.return}if(pn=i,on=i=Io(i.current,null),_n=li=s,cn=0,pc=null,qy=Tf=Ra=0,Kn=mc=null,ka!==null){for(s=0;s<ka.length;s++)if(u=ka[s],h=u.interleaved,h!==null){u.interleaved=null;var _=h.next,E=u.pending;if(E!==null){var F=E.next;E.next=_,h.next=F}u.pending=h}ka=null}return i}function b0(i,s){do{var u=on;try{if(Km(),xf.current=kf,Sf){for(var h=Kr.memoizedState;h!==null;){var _=h.queue;_!==null&&(_.pending=null),h=h.next}Sf=!1}if(Ca=0,hn=un=Kr=null,lc=!1,uc=0,ky.current=null,u===null||u.return===null){cn=1,pc=s,on=null;break}e:{var E=i,F=u.return,ie=u,ce=s;if(s=_n,ie.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Fe=ce,tt=ie,nt=tt.tag;if(!(tt.mode&1)&&(nt===0||nt===11||nt===15)){var Ye=tt.alternate;Ye?(tt.updateQueue=Ye.updateQueue,tt.memoizedState=Ye.memoizedState,tt.lanes=Ye.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var Nt=Vw(F);if(Nt!==null){Nt.flags&=-257,Hw(Nt,F,ie,E,s),Nt.mode&1&&Uw(E,Fe,s),s=Nt,ce=Fe;var It=s.updateQueue;if(It===null){var Lt=new Set;Lt.add(ce),s.updateQueue=Lt}else It.add(ce);break e}else{if(!(s&1)){Uw(E,Fe,s),Fy();break e}ce=Error(r(426))}}else if(Dr&&ie.mode&1){var en=Vw(F);if(en!==null){!(en.flags&65536)&&(en.flags|=256),Hw(en,F,ie,E,s),Hm(Al(ce,ie));break e}}E=ce=Al(ce,ie),cn!==4&&(cn=2),mc===null?mc=[E]:mc.push(E),E=F;do{switch(E.tag){case 3:E.flags|=65536,s&=-s,E.lanes|=s;var ke=zw(E,ce,s);mw(E,ke);break e;case 1:ie=ce;var ge=E.type,Ae=E.stateNode;if(!(E.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(Co===null||!Co.has(Ae)))){E.flags|=65536,s&=-s,E.lanes|=s;var ot=$w(E,ie,s);mw(E,ot);break e}}E=E.return}while(E!==null)}S0(u)}catch(jt){s=jt,on===u&&u!==null&&(on=u=u.return);continue}break}while(!0)}function w0(){var i=If.current;return If.current=kf,i===null?kf:i}function Fy(){(cn===0||cn===3||cn===2)&&(cn=4),pn===null||!(Ra&0xfffffff)&&!(Tf&0xfffffff)||Ao(pn,_n)}function Df(i,s){var u=hr;hr|=2;var h=w0();(pn!==i||_n!==s)&&(Qs=null,Aa(i,s));do try{_q();break}catch(_){b0(i,_)}while(!0);if(Km(),hr=u,If.current=h,on!==null)throw Error(r(261));return pn=null,_n=0,cn}function _q(){for(;on!==null;)x0(on)}function bq(){for(;on!==null&&!um();)x0(on)}function x0(i){var s=k0(i.alternate,i,li);i.memoizedProps=i.pendingProps,s===null?S0(i):on=s,ky.current=null}function S0(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=hq(u,s),u!==null){u.flags&=32767,on=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{cn=6,on=null;return}}else if(u=fq(u,s,li),u!==null){on=u;return}if(s=s.sibling,s!==null){on=s;return}on=s=i}while(s!==null);cn===0&&(cn=5)}function Ia(i,s,u){var h=yr,_=Pi.transition;try{Pi.transition=null,yr=1,wq(i,s,u,h)}finally{Pi.transition=_,yr=h}return null}function wq(i,s,u,h){do Fl();while(Ro!==null);if(hr&6)throw Error(r(327));u=i.finishedWork;var _=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var E=u.lanes|u.childLanes;if(_m(i,E),i===pn&&(on=pn=null,_n=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Ff||(Ff=!0,q0(fl,function(){return Fl(),null})),E=(u.flags&15990)!==0,u.subtreeFlags&15990||E){E=Pi.transition,Pi.transition=null;var F=yr;yr=1;var ie=hr;hr|=4,ky.current=null,mq(i,u),h0(u,i),B3(Fm),De=!!Pm,Fm=Pm=null,i.current=u,yq(u),cm(),hr=ie,yr=F,Pi.transition=E}else i.current=u;if(Ff&&(Ff=!1,Ro=i,Lf=_),E=i.pendingLanes,E===0&&(Co=null),hm(u.stateNode),Gn(i,Vr()),s!==null)for(h=i.onRecoverableError,u=0;u<s.length;u++)_=s[u],h(_.value,{componentStack:_.stack,digest:_.digest});if(Pf)throw Pf=!1,i=Ry,Ry=null,i;return Lf&1&&i.tag!==0&&Fl(),E=i.pendingLanes,E&1?i===Oy?yc++:(yc=0,Oy=i):yc=0,Eo(),null}function Fl(){if(Ro!==null){var i=Yd(Lf),s=Pi.transition,u=yr;try{if(Pi.transition=null,yr=16>i?16:i,Ro===null)var h=!1;else{if(i=Ro,Ro=null,Lf=0,hr&6)throw Error(r(331));var _=hr;for(hr|=4,At=i.current;At!==null;){var E=At,F=E.child;if(At.flags&16){var ie=E.deletions;if(ie!==null){for(var ce=0;ce<ie.length;ce++){var Fe=ie[ce];for(At=Fe;At!==null;){var tt=At;switch(tt.tag){case 0:case 11:case 15:hc(8,tt,E)}var nt=tt.child;if(nt!==null)nt.return=tt,At=nt;else for(;At!==null;){tt=At;var Ye=tt.sibling,Nt=tt.return;if(l0(tt),tt===Fe){At=null;break}if(Ye!==null){Ye.return=Nt,At=Ye;break}At=Nt}}}var It=E.alternate;if(It!==null){var Lt=It.child;if(Lt!==null){It.child=null;do{var en=Lt.sibling;Lt.sibling=null,Lt=en}while(Lt!==null)}}At=E}}if(E.subtreeFlags&2064&&F!==null)F.return=E,At=F;else e:for(;At!==null;){if(E=At,E.flags&2048)switch(E.tag){case 0:case 11:case 15:hc(9,E,E.return)}var ke=E.sibling;if(ke!==null){ke.return=E.return,At=ke;break e}At=E.return}}var ge=i.current;for(At=ge;At!==null;){F=At;var Ae=F.child;if(F.subtreeFlags&2064&&Ae!==null)Ae.return=F,At=Ae;else e:for(F=ge;At!==null;){if(ie=At,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:Af(9,ie)}}catch(jt){Yr(ie,ie.return,jt)}if(ie===F){At=null;break e}var ot=ie.sibling;if(ot!==null){ot.return=ie.return,At=ot;break e}At=ie.return}}if(hr=_,Eo(),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(hl,i)}catch{}h=!0}return h}finally{yr=u,Pi.transition=s}}return!1}function E0(i,s,u){s=Al(u,s),s=zw(i,s,1),i=ko(i,s,1),s=Fn(),i!==null&&(ba(i,1,s),Gn(i,s))}function Yr(i,s,u){if(i.tag===3)E0(i,i,u);else for(;s!==null;){if(s.tag===3){E0(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Co===null||!Co.has(h))){i=Al(u,i),i=$w(s,i,1),s=ko(s,i,1),i=Fn(),s!==null&&(ba(s,1,i),Gn(s,i));break}}s=s.return}}function xq(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),s=Fn(),i.pingedLanes|=i.suspendedLanes&u,pn===i&&(_n&u)===u&&(cn===4||cn===3&&(_n&0x7c00000)===_n&&500>Vr()-Cy?Aa(i,0):qy|=u),Gn(i,s)}function N0(i,s){s===0&&(i.mode&1?(s=pl,pl<<=1,!(pl&0x7c00000)&&(pl=4194304)):s=1);var u=Fn();i=Us(i,s),i!==null&&(ba(i,s,u),Gn(i,u))}function Sq(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),N0(i,u)}function Eq(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,_=i.memoizedState;_!==null&&(u=_.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),N0(i,u)}var k0;k0=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Vn.current)Qn=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Qn=!1,dq(i,s,u);Qn=!!(i.flags&131072)}else Qn=!1,Dr&&s.flags&1048576&&sw(s,pf,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Rf(i,s),i=s.pendingProps;var _=Sl(s,En.current);Rl(s,u),_=sy(null,s,h,i,_,u);var E=oy();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Hn(h)?(E=!0,df(s)):E=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Xm(s),_.updater=qf,s.stateNode=_,_._reactInternals=s,fy(s,h,i,u),s=yy(null,s,h,!0,E,u)):(s.tag=0,Dr&&E&&zm(s),Pn(null,s,_,u),s=s.child),s;case 16:h=s.elementType;e:{switch(Rf(i,s),i=s.pendingProps,_=h._init,h=_(h._payload),s.type=h,_=s.tag=kq(h),i=Vi(h,i),_){case 0:s=my(null,s,h,i,u);break e;case 1:s=Xw(null,s,h,i,u);break e;case 11:s=Qw(null,s,h,i,u);break e;case 14:s=Kw(null,s,h,Vi(h.type,i),u);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,_=s.pendingProps,_=s.elementType===h?_:Vi(h,_),my(i,s,h,_,u);case 1:return h=s.type,_=s.pendingProps,_=s.elementType===h?_:Vi(h,_),Xw(i,s,h,_,u);case 3:e:{if(Yw(s),i===null)throw Error(r(387));h=s.pendingProps,E=s.memoizedState,_=E.element,pw(i,s),bf(s,h,null,u);var F=s.memoizedState;if(h=F.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){_=Al(Error(r(423)),s),s=e0(i,s,h,u,_);break e}else if(h!==_){_=Al(Error(r(424)),s),s=e0(i,s,h,u,_);break e}else for(ai=wo(s.stateNode.containerInfo.firstChild),oi=s,Dr=!0,Ui=null,u=fw(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(kl(),h===_){s=Hs(i,s,u);break e}Pn(i,s,h,u)}s=s.child}return s;case 5:return gw(s),i===null&&Vm(s),h=s.type,_=s.pendingProps,E=i!==null?i.memoizedProps:null,F=_.children,Lm(h,_)?F=null:E!==null&&Lm(h,E)&&(s.flags|=32),Zw(i,s),Pn(i,s,F,u),s.child;case 6:return i===null&&Vm(s),null;case 13:return t0(i,s,u);case 4:return Ym(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=ql(s,null,h,u):Pn(i,s,h,u),s.child;case 11:return h=s.type,_=s.pendingProps,_=s.elementType===h?_:Vi(h,_),Qw(i,s,h,_,u);case 7:return Pn(i,s,s.pendingProps,u),s.child;case 8:return Pn(i,s,s.pendingProps.children,u),s.child;case 12:return Pn(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,_=s.pendingProps,E=s.memoizedProps,F=_.value,Ir(gf,h._currentValue),h._currentValue=F,E!==null)if($i(E.value,F)){if(E.children===_.children&&!Vn.current){s=Hs(i,s,u);break e}}else for(E=s.child,E!==null&&(E.return=s);E!==null;){var ie=E.dependencies;if(ie!==null){F=E.child;for(var ce=ie.firstContext;ce!==null;){if(ce.context===h){if(E.tag===1){ce=Vs(-1,u&-u),ce.tag=2;var Fe=E.updateQueue;if(Fe!==null){Fe=Fe.shared;var tt=Fe.pending;tt===null?ce.next=ce:(ce.next=tt.next,tt.next=ce),Fe.pending=ce}}E.lanes|=u,ce=E.alternate,ce!==null&&(ce.lanes|=u),Jm(E.return,u,s),ie.lanes|=u;break}ce=ce.next}}else if(E.tag===10)F=E.type===s.type?null:E.child;else if(E.tag===18){if(F=E.return,F===null)throw Error(r(341));F.lanes|=u,ie=F.alternate,ie!==null&&(ie.lanes|=u),Jm(F,u,s),F=E.sibling}else F=E.child;if(F!==null)F.return=E;else for(F=E;F!==null;){if(F===s){F=null;break}if(E=F.sibling,E!==null){E.return=F.return,F=E;break}F=F.return}E=F}Pn(i,s,_.children,u),s=s.child}return s;case 9:return _=s.type,h=s.pendingProps.children,Rl(s,u),_=Ii(_),h=h(_),s.flags|=1,Pn(i,s,h,u),s.child;case 14:return h=s.type,_=Vi(h,s.pendingProps),_=Vi(h.type,_),Kw(i,s,h,_,u);case 15:return Gw(i,s,s.type,s.pendingProps,u);case 17:return h=s.type,_=s.pendingProps,_=s.elementType===h?_:Vi(h,_),Rf(i,s),s.tag=1,Hn(h)?(i=!0,df(s)):i=!1,Rl(s,u),Ww(s,h,_),fy(s,h,_,u),yy(null,s,h,!0,i,u);case 19:return n0(i,s,u);case 22:return Jw(i,s,u)}throw Error(r(156,s.tag))};function q0(i,s){return Gd(i,s)}function Nq(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(i,s,u,h){return new Nq(i,s,u,h)}function Ly(i){return i=i.prototype,!(!i||!i.isReactComponent)}function kq(i){if(typeof i=="function")return Ly(i)?1:0;if(i!=null){if(i=i.$$typeof,i===re)return 11;if(i===Re)return 14}return 2}function Io(i,s){var u=i.alternate;return u===null?(u=Fi(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&0xe00000,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Wf(i,s,u,h,_,E){var F=2;if(h=i,typeof i=="function")Ly(i)&&(F=1);else if(typeof i=="string")F=5;else e:switch(i){case K:return Ta(u.children,_,E,s);case le:F=8,_|=8;break;case H:return i=Fi(12,u,s,_|2),i.elementType=H,i.lanes=E,i;case Z:return i=Fi(13,u,s,_),i.elementType=Z,i.lanes=E,i;case pe:return i=Fi(19,u,s,_),i.elementType=pe,i.lanes=E,i;case Pe:return Bf(u,_,E,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:F=10;break e;case W:F=9;break e;case re:F=11;break e;case Re:F=14;break e;case Ce:F=16,h=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return s=Fi(F,u,s,_),s.elementType=i,s.type=h,s.lanes=E,s}function Ta(i,s,u,h){return i=Fi(7,i,h,s),i.lanes=u,i}function Bf(i,s,u,h){return i=Fi(22,i,h,s),i.elementType=Pe,i.lanes=u,i.stateNode={isHidden:!1},i}function jy(i,s,u){return i=Fi(6,i,null,s),i.lanes=u,i}function My(i,s,u){return s=Fi(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function qq(i,s,u,h,_){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=h,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Dy(i,s,u,h,_,E,F,ie,ce){return i=new qq(i,s,u,ie,ce),s===1?(s=1,E===!0&&(s|=8)):s=0,E=Fi(3,null,null,s),i.current=E,E.stateNode=i,E.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xm(E),i}function Cq(i,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:h==null?null:""+h,children:i,containerInfo:s,implementation:u}}function C0(i){if(!i)return So;i=i._reactInternals;e:{if(Ms(i)!==i||i.tag!==1)throw Error(r(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(i.tag===1){var u=i.type;if(Hn(u))return rw(i,u,s)}return s}function R0(i,s,u,h,_,E,F,ie,ce){return i=Dy(u,h,!0,i,_,E,F,ie,ce),i.context=C0(null),u=i.current,h=Fn(),_=Oo(u),E=Vs(h,_),E.callback=s??null,ko(u,E,_),i.current.lanes=_,ba(i,_,h),Gn(i,h),i}function zf(i,s,u,h){var _=s.current,E=Fn(),F=Oo(_);return u=C0(u),s.context===null?s.context=u:s.pendingContext=u,s=Vs(E,F),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=ko(_,s,F),i!==null&&(Ki(i,_,F,E),_f(i,_,F)),F}function $f(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function O0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Wy(i,s){O0(i,s),(i=i.alternate)&&O0(i,s)}function Rq(){return null}var A0=typeof reportError=="function"?reportError:function(i){console.error(i)};function By(i){this._internalRoot=i}Uf.prototype.render=By.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));zf(i,s,null,null)},Uf.prototype.unmount=By.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Oa(function(){zf(null,i,null,null)}),s[Ws]=null}};function Uf(i){this._internalRoot=i}Uf.prototype.unstable_scheduleHydration=function(i){if(i){var s=wa();i={blockedOn:null,target:i,priority:s};for(var u=0;u<te.length&&s!==0&&s<te[u].priority;u++);te.splice(u,0,i),u===0&&Ie(i)}};function zy(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Vf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function I0(){}function Oq(i,s,u,h,_){if(_){if(typeof h=="function"){var E=h;h=function(){var Fe=$f(F);E.call(Fe)}}var F=R0(s,h,i,0,null,!1,!1,"",I0);return i._reactRootContainer=F,i[Ws]=F.current,ec(i.nodeType===8?i.parentNode:i),Oa(),F}for(;_=i.lastChild;)i.removeChild(_);if(typeof h=="function"){var ie=h;h=function(){var Fe=$f(ce);ie.call(Fe)}}var ce=Dy(i,0,!1,null,null,!1,!1,"",I0);return i._reactRootContainer=ce,i[Ws]=ce.current,ec(i.nodeType===8?i.parentNode:i),Oa(function(){zf(s,ce,u,h)}),ce}function Hf(i,s,u,h,_){var E=u._reactRootContainer;if(E){var F=E;if(typeof _=="function"){var ie=_;_=function(){var ce=$f(F);ie.call(ce)}}zf(s,F,i,_)}else F=Oq(u,s,i,_,h);return $f(F)}Uu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=zi(s.pendingLanes);u!==0&&($u(s,u|1),Gn(s,Vr()),!(hr&6)&&(Pl=Vr()+500,Eo()))}break;case 13:Oa(function(){var h=Us(i,1);if(h!==null){var _=Fn();Ki(h,i,1,_)}}),Wy(i,1)}},ee=function(i){if(i.tag===13){var s=Us(i,0x8000000);if(s!==null){var u=Fn();Ki(s,i,0x8000000,u)}Wy(i,0x8000000)}},Vu=function(i){if(i.tag===13){var s=Oo(i),u=Us(i,s);if(u!==null){var h=Fn();Ki(u,i,s,h)}Wy(i,s)}},wa=function(){return yr},Hu=function(i,s){var u=yr;try{return yr=i,s()}finally{yr=u}},Lu=function(i,s,u){switch(s){case"input":if(ur(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var _=uf(h);if(!_)throw Error(r(90));Rt(h),ur(h,_)}}}break;case"textarea":_t(i,u);break;case"select":s=u.value,s!=null&&Oe(i,!!u.multiple,s,!1)}},$d=Ty,Ud=Oa;var Aq={usingClientEntryPoint:!1,Events:[nc,wl,uf,Xt,zd,Ty]},gc={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iq={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qd(i),i===null?null:i.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||Rq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{hl=Qf.inject(Iq),Ci=Qf}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aq,Jn.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zy(s))throw Error(r(200));return Cq(i,s,null,u)},Jn.createRoot=function(i,s){if(!zy(i))throw Error(r(299));var u=!1,h="",_=A0;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Dy(i,1,!1,null,null,u,!1,h,_),i[Ws]=s.current,ec(i.nodeType===8?i.parentNode:i),new By(s)},Jn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Qd(s),i=i===null?null:i.stateNode,i},Jn.flushSync=function(i){return Oa(i)},Jn.hydrate=function(i,s,u){if(!Vf(s))throw Error(r(200));return Hf(null,i,s,!0,u)},Jn.hydrateRoot=function(i,s,u){if(!zy(i))throw Error(r(405));var h=u!=null&&u.hydratedSources||null,_=!1,E="",F=A0;if(u!=null&&(u.unstable_strictMode===!0&&(_=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(F=u.onRecoverableError)),s=R0(s,null,i,1,u??null,_,!1,E,F),i[Ws]=s.current,ec(i),h)for(i=0;i<h.length;i++)u=h[i],_=u._getVersion,_=_(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,_]:s.mutableSourceEagerHydrationData.push(u,_);return new Uf(s)},Jn.render=function(i,s,u){if(!Vf(s))throw Error(r(200));return Hf(null,i,s,!1,u)},Jn.unmountComponentAtNode=function(i){if(!Vf(i))throw Error(r(40));return i._reactRootContainer?(Oa(function(){Hf(null,null,i,!1,function(){i._reactRootContainer=null,i[Ws]=null})}),!0):!1},Jn.unstable_batchedUpdates=Ty,Jn.unstable_renderSubtreeIntoContainer=function(i,s,u,h){if(!Vf(u))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Hf(i,s,u,!1,h)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var ux;function gN(){if(ux)return eg.exports;ux=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=fR(),eg.exports}var y_=gN();const hR="Error preloading route! ☝️";function pR(t,e){const r=_i(),[n,o]=G.useState(!1),a=G.useRef(!1),l=DC(e),{activeProps:d=()=>({className:"active"}),inactiveProps:p=()=>({}),activeOptions:m,to:b,preload:x,preloadDelay:N,hashScrollIntoView:q,replace:R,startTransition:C,resetScroll:L,viewTransition:P,children:T,target:M,disabled:U,style:V,className:B,onClick:K,onFocus:le,onMouseEnter:H,onMouseLeave:ne,onTouchStart:W,ignoreBlocker:re,...Z}=t,{params:pe,search:Re,hash:Ce,state:Pe,mask:ve,reloadDocument:me,...Ee}=Z,Q=G.useMemo(()=>{try{return new URL(`${b}`),"external"}catch{}return"internal"},[b]),xe=Wn({select:ye=>ye.location.search,structuralSharing:!0});t={from:Yo({strict:!1,select:ye=>ye.pathname}),...t};const at=G.useMemo(()=>r.buildLocation(t),[r,t,xe]),dt=G.useMemo(()=>t.reloadDocument?!1:x??r.options.defaultPreload,[r.options.defaultPreload,x,t.reloadDocument]),mt=N??r.options.defaultPreloadDelay??0,ft=Wn({select:ye=>{if(m?.exact){if(!BC(ye.location.pathname,at.pathname,r.basepath))return!1}else{const Oe=Lh(ye.location.pathname,r.basepath).split("/");if(!Lh(at.pathname,r.basepath).split("/").every((_t,Dt)=>_t===Oe[Dt]))return!1}return(m?.includeSearch??!0)&&!Zl(ye.location.search,at.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ye.location.hash===at.hash:!0}}),gt=G.useCallback(()=>{r.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(hR)})},[t,r]),Tt=G.useCallback(ye=>{ye?.isIntersecting&&gt()},[gt]);if(MC(l,Tt,{rootMargin:"100px"},{disabled:!!U||dt!=="viewport"}),kc(()=>{a.current||!U&&dt==="render"&&(gt(),a.current=!0)},[U,gt,dt]),Q==="external")return{...Ee,ref:l,type:Q,href:b,...T&&{children:T},...M&&{target:M},...U&&{disabled:U},...V&&{style:V},...B&&{className:B},...K&&{onClick:K},...le&&{onFocus:le},...H&&{onMouseEnter:H},...ne&&{onMouseLeave:ne},...W&&{onTouchStart:W}};const vt=ye=>{if(!U&&!yR(ye)&&!ye.defaultPrevented&&(!M||M==="_self")&&ye.button===0){ye.preventDefault(),y_.flushSync(()=>{o(!0)});const Oe=r.subscribe("onResolved",()=>{Oe(),o(!1)});return r.navigate({...t,replace:R,resetScroll:L,hashScrollIntoView:q,startTransition:C,viewTransition:P,ignoreBlocker:re})}},yt=ye=>{U||dt&&gt()},Rt=yt,qt=ye=>{if(U)return;const Oe=ye.target||{};if(dt){if(Oe.preloadTimeout)return;Oe.preloadTimeout=setTimeout(()=>{Oe.preloadTimeout=null,gt()},mt)}},Jt=ye=>{if(U)return;const Oe=ye.target||{};Oe.preloadTimeout&&(clearTimeout(Oe.preloadTimeout),Oe.preloadTimeout=null)},Gt=ye=>Oe=>{var je;(je=Oe.persist)==null||je.call(Oe),ye.filter(Boolean).forEach(Ge=>{Oe.defaultPrevented||Ge(Oe)})},er=ft?Wa(d,{})??{}:{},ur=ft?{}:Wa(p,{}),se=[B,er.className,ur.className].filter(Boolean).join(" "),ae={...V,...er.style,...ur.style};return{...Ee,...er,...ur,href:U?void 0:at.maskedLocation?r.history.createHref(at.maskedLocation.href):r.history.createHref(at.href),ref:l,onClick:Gt([K,vt]),onFocus:Gt([le,yt]),onMouseEnter:Gt([H,qt]),onMouseLeave:Gt([ne,Jt]),onTouchStart:Gt([W,Rt]),disabled:!!U,target:M,...Object.keys(ae).length&&{style:ae},...se&&{className:se},...U&&{role:"link","aria-disabled":!0},...ft&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}function vN(t){return G.forwardRef(function(r,n){return w.jsx(mR,{...r,_asChild:t,ref:n})})}const mR=G.forwardRef((t,e)=>{const{_asChild:r,...n}=t,{type:o,ref:a,...l}=pR(n,e),d=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return typeof r>"u"&&delete l.disabled,G.createElement(r||"a",{...l,ref:a},d)});function yR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gR(){const t=_i(),e=G.useRef({router:t,mounted:!1}),r=Wn({select:({isLoading:x})=>x}),[n,o]=G.useState(!1),a=Wn({select:x=>x.matches.some(N=>N.status==="pending"),structuralSharing:!0}),l=Zy(r),d=r||n||a,p=Zy(d),m=r||a,b=Zy(m);return t.isServer||(t.startReactTransition=x=>{o(!0),G.startTransition(()=>{x(),o(!1)})}),G.useEffect(()=>{const x=t.history.subscribe(t.load),N=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ba(t.latestLocation.href)!==Ba(N.href)&&t.commitLocation({...N,replace:!0}),()=>{x()}},[t,t.history]),kc(()=>{var x;if(typeof window<"u"&&((x=window.__TSR__)!=null&&x.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(q){console.error(q)}})()},[t]),kc(()=>{if(l&&!r){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,R=N.href!==x.href;t.emit({type:"onLoad",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:R})}},[l,t,r]),kc(()=>{if(b&&!m){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,R=N.href!==x.href;t.emit({type:"onBeforeRouteMount",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:R})}},[m,b,t]),kc(()=>{if(p&&!d){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,R=N.href!==x.href;if(t.emit({type:"onResolved",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:R}),t.__store.setState(C=>({...C,status:"idle",resolvedLocation:C.location})),typeof document<"u"&&document.querySelector){const C=t.state.location.state.__hashScrollIntoViewOptions??!0;if(C&&t.state.location.hash!==""){const L=document.getElementById(t.state.location.hash);L&&L.scrollIntoView(C)}}}},[d,p,t]),null}function vR(){const t=_i(),e=t.options.defaultPendingComponent?w.jsx(t.options.defaultPendingComponent,{}):null,r=t.isServer||typeof document<"u"&&window.__TSR__?uh:G.Suspense,n=w.jsxs(r,{fallback:e,children:[w.jsx(gR,{}),w.jsx(_R,{})]});return t.options.InnerWrap?w.jsx(t.options.InnerWrap,{children:n}):n}function _R(){const t=Wn({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),e=Wn({select:r=>r.loadedAt});return w.jsx(Ep.Provider,{value:t,children:w.jsx(p_,{getResetKey:()=>e,errorComponent:Sp,onCatch:r=>{r.message||r.toString()},children:t?w.jsx(yN,{matchId:t}):null})})}function _N(){const t=_i();return Wn({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),G.useCallback(e=>{const{pending:r,caseSensitive:n,fuzzy:o,includeSearch:a,...l}=e;return t.matchRoute(l,{pending:r,caseSensitive:n,fuzzy:o,includeSearch:a})},[t])}function bR({router:t,children:e,...r}){t.update({...t.options,...r,context:{...t.options.context,...r.context}});const n=fN(),o=w.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?w.jsx(t.options.Wrap,{children:o}):o}function wR({router:t,...e}){return w.jsx(bR,{router:t,...e,children:w.jsx(vR,{})})}const xR=typeof window<"u"?G.useLayoutEffect:G.useEffect,ng="window",cx="___";let ig=new WeakSet;const SR=typeof window<"u"&&window.sessionStorage,Ji=SR?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:r=>{Ji.state=Wa(r,Ji.state),window.sessionStorage.setItem(t,JSON.stringify(Ji.state))}}})():void 0,ER=t=>t.state.key||t.href;function NR(t){const e=_i();xR(()=>{const r=t?.getKey||ER,{history:n}=window;n.scrollRestoration="manual";const o=d=>{if(ig.has(d.target))return;ig.add(d.target);let p="";if(d.target===document||d.target===window)p=ng;else{const m=d.target.getAttribute("data-scroll-restoration-id");m?p=`[data-scroll-restoration-id="${m}"]`:p=qR(d.target)}Ji.state.next[p]||Ji.set(m=>({...m,next:{...m.next,[p]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",o,!0);const a=e.subscribe("onBeforeLoad",d=>{if(d.hrefChanged){const p=r(d.fromLocation);for(const m in Ji.state.next){const b=Ji.state.next[m];if(m===ng)b.scrollX=window.scrollX||0,b.scrollY=window.scrollY||0;else if(m){const x=document.querySelector(m);b.scrollX=x?.scrollLeft||0,b.scrollY=x?.scrollTop||0}Ji.set(x=>{const N={...x.next};return delete N[m],{...x,next:N,cached:{...x.cached,[[p,m].join(cx)]:b}}})}}}),l=e.subscribe("onBeforeRouteMount",d=>{if(d.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const p=r(d.toLocation);let m=!1;for(const b in Ji.state.cached){const x=Ji.state.cached[b],[N,q]=b.split(cx);if(N===p){if(q===ng)m=!0,window.scrollTo(x.scrollX,x.scrollY);else if(q){const R=document.querySelector(q);R&&(R.scrollLeft=x.scrollX,R.scrollTop=x.scrollY)}}}m||window.scrollTo(0,0),Ji.set(b=>({...b,next:{}})),ig=new WeakSet}});return()=>{document.removeEventListener("scroll",o),a(),l()}},[t?.getKey,e])}function kR(t){return NR(t),null}function qR(t){const e=[];let r;for(;r=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(r.children,t)+1})`),t=r;return`${e.join(" > ")}`.toLowerCase()}function Os(t){return Yo({...t,select:e=>t.select?t.select(e.context):e.context})}let CR={data:""},RR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||CR,OR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AR=/\/\*[^]*?\*\/|  +/g,dx=/\n+/g,Do=(t,e)=>{let r="",n="",o="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?Do(l,a):a+"{"+Do(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Do(l,e?e.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Do.p?Do.p(a,l):a+":"+l+";")}return r+(e&&o?e+"{"+o+"}":o)+n},Ks={},bN=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+bN(t[r]);return e}return t},IR=(t,e,r,n,o)=>{let a=bN(t),l=Ks[a]||(Ks[a]=(p=>{let m=0,b=11;for(;m<p.length;)b=101*b+p.charCodeAt(m++)>>>0;return"go"+b})(a));if(!Ks[l]){let p=a!==t?t:(m=>{let b,x,N=[{}];for(;b=OR.exec(m.replace(AR,""));)b[4]?N.shift():b[3]?(x=b[3].replace(dx," ").trim(),N.unshift(N[0][x]=N[0][x]||{})):N[0][b[1]]=b[2].replace(dx," ").trim();return N[0]})(t);Ks[l]=Do(o?{["@keyframes "+l]:p}:p,r?"":"."+l)}let d=r&&Ks.g?Ks.g:null;return r&&(Ks.g=Ks[l]),((p,m,b,x)=>{x?m.data=m.data.replace(x,p):m.data.indexOf(p)===-1&&(m.data=b?p+m.data:m.data+p)})(Ks[l],e,n,d),l},TR=(t,e,r)=>t.reduce((n,o,a)=>{let l=e[a];if(l&&l.call){let d=l(r),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=p?"."+p:d&&typeof d=="object"?d.props?"":Do(d,""):d===!1?"":d}return n+o+(l??"")},"");function kp(t){let e=this||{},r=t.call?t(e.p):t;return IR(r.unshift?r.raw?TR(r,[].slice.call(arguments,1),e.p):r.reduce((n,o)=>Object.assign(n,o&&o.call?o(e.p):o),{}):r,RR(e.target),e.g,e.o,e.k)}let wN,Nv,kv;kp.bind({g:1});let ao=kp.bind({k:1});function PR(t,e,r,n){Do.p=e,wN=t,Nv=r,kv=n}function ua(t,e){let r=this||{};return function(){let n=arguments;function o(a,l){let d=Object.assign({},a),p=d.className||o.className;r.p=Object.assign({theme:Nv&&Nv()},d),r.o=/ *go\d+/.test(p),d.className=kp.apply(r,n)+(p?" "+p:"");let m=t;return t[0]&&(m=d.as||t,delete d.as),kv&&m[0]&&kv(d),wN(m,d)}return o}}var FR=t=>typeof t=="function",Mh=(t,e)=>FR(t)?t(e):t,LR=(()=>{let t=0;return()=>(++t).toString()})(),xN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),jR=20,ch=new Map,MR=1e3,fx=t=>{if(ch.has(t))return;let e=setTimeout(()=>{ch.delete(t),sl({type:4,toastId:t})},MR);ch.set(t,e)},DR=t=>{let e=ch.get(t);e&&clearTimeout(e)},qv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,jR)};case 1:return e.toast.id&&DR(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?qv(t,{type:1,toast:r}):qv(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?fx(n):t.toasts.forEach(a=>{fx(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},dh=[],fh={toasts:[],pausedAt:void 0},sl=t=>{fh=qv(fh,t),dh.forEach(e=>{e(fh)})},WR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},BR=(t={})=>{let[e,r]=G.useState(fh);G.useEffect(()=>(dh.push(r),()=>{let o=dh.indexOf(r);o>-1&&dh.splice(o,1)}),[e]);let n=e.toasts.map(o=>{var a,l;return{...t,...t[o.type],...o,duration:o.duration||((a=t[o.type])==null?void 0:a.duration)||t?.duration||WR[o.type],style:{...t.style,...(l=t[o.type])==null?void 0:l.style,...o.style}}});return{...e,toasts:n}},zR=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||LR()}),xd=t=>(e,r)=>{let n=zR(e,t,r);return sl({type:2,toast:n}),n.id},Or=(t,e)=>xd("blank")(t,e);Or.error=xd("error");Or.success=xd("success");Or.loading=xd("loading");Or.custom=xd("custom");Or.dismiss=t=>{sl({type:3,toastId:t})};Or.remove=t=>sl({type:4,toastId:t});Or.promise=(t,e,r)=>{let n=Or.loading(e.loading,{...r,...r?.loading});return t.then(o=>(Or.success(Mh(e.success,o),{id:n,...r,...r?.success}),o)).catch(o=>{Or.error(Mh(e.error,o),{id:n,...r,...r?.error})}),t};var $R=(t,e)=>{sl({type:1,toast:{id:t,height:e}})},UR=()=>{sl({type:5,time:Date.now()})},VR=t=>{let{toasts:e,pausedAt:r}=BR(t);G.useEffect(()=>{if(r)return;let a=Date.now(),l=e.map(d=>{if(d.duration===1/0)return;let p=(d.duration||0)+d.pauseDuration-(a-d.createdAt);if(p<0){d.visible&&Or.dismiss(d.id);return}return setTimeout(()=>Or.dismiss(d.id),p)});return()=>{l.forEach(d=>d&&clearTimeout(d))}},[e,r]);let n=G.useCallback(()=>{r&&sl({type:6,time:Date.now()})},[r]),o=G.useCallback((a,l)=>{let{reverseOrder:d=!1,gutter:p=8,defaultPosition:m}=l||{},b=e.filter(q=>(q.position||m)===(a.position||m)&&q.height),x=b.findIndex(q=>q.id===a.id),N=b.filter((q,R)=>R<x&&q.visible).length;return b.filter(q=>q.visible).slice(...d?[N+1]:[0,N]).reduce((q,R)=>q+(R.height||0)+p,0)},[e]);return{toasts:e,handlers:{updateHeight:$R,startPause:UR,endPause:n,calculateOffset:o}}},HR=ao`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,QR=ao`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KR=ao`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,GR=ua("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${QR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JR=ao`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ZR=ua("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${JR} 1s linear infinite;
`,XR=ao`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YR=ao`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eO=ua("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tO=ua("div")`
  position: absolute;
`,rO=ua("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nO=ao`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iO=ua("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sO=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?G.createElement(iO,null,e):e:r==="blank"?null:G.createElement(rO,null,G.createElement(ZR,{...n}),r!=="loading"&&G.createElement(tO,null,r==="error"?G.createElement(GR,{...n}):G.createElement(eO,{...n})))},oO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,lO="0%{opacity:0;} 100%{opacity:1;}",uO="0%{opacity:1;} 100%{opacity:0;}",cO=ua("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dO=ua("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fO=(t,e)=>{let r=t.includes("top")?1:-1,[n,o]=xN()?[lO,uO]:[oO(r),aO(r)];return{animation:e?`${ao(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ao(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hO=G.memo(({toast:t,position:e,style:r,children:n})=>{let o=t.height?fO(t.position||e||"top-center",t.visible):{opacity:0},a=G.createElement(sO,{toast:t}),l=G.createElement(dO,{...t.ariaProps},Mh(t.message,t));return G.createElement(cO,{className:t.className,style:{...o,...r,...t.style}},typeof n=="function"?n({icon:a,message:l}):G.createElement(G.Fragment,null,a,l))});PR(G.createElement);var pO=({id:t,className:e,style:r,onHeightUpdate:n,children:o})=>{let a=G.useCallback(l=>{if(l){let d=()=>{let p=l.getBoundingClientRect().height;n(t,p)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return G.createElement("div",{ref:a,className:e,style:r},o)},mO=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...o}},yO=kp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zf=16,gO=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:o,containerStyle:a,containerClassName:l})=>{let{toasts:d,handlers:p}=VR(r);return G.createElement("div",{style:{position:"fixed",zIndex:9999,top:Zf,left:Zf,right:Zf,bottom:Zf,pointerEvents:"none",...a},className:l,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(m=>{let b=m.position||e,x=p.calculateOffset(m,{reverseOrder:t,gutter:n,defaultPosition:e}),N=mO(b,x);return G.createElement(pO,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?yO:"",style:N},m.type==="custom"?Mh(m.message,m):o?o(m):G.createElement(hO,{toast:m,position:b}))}))},vO=Or;function SN(t,e){return function(){return t.apply(e,arguments)}}const{toString:_O}=Object.prototype,{getPrototypeOf:g_}=Object,qp=(t=>e=>{const r=_O.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),os=t=>(t=t.toLowerCase(),e=>qp(e)===t),Cp=t=>e=>typeof e===t,{isArray:ku}=Array,Qc=Cp("undefined");function bO(t){return t!==null&&!Qc(t)&&t.constructor!==null&&!Qc(t.constructor)&&bi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const EN=os("ArrayBuffer");function wO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&EN(t.buffer),e}const xO=Cp("string"),bi=Cp("function"),NN=Cp("number"),Rp=t=>t!==null&&typeof t=="object",SO=t=>t===!0||t===!1,hh=t=>{if(qp(t)!=="object")return!1;const e=g_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},EO=os("Date"),NO=os("File"),kO=os("Blob"),qO=os("FileList"),CO=t=>Rp(t)&&bi(t.pipe),RO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bi(t.append)&&((e=qp(t))==="formdata"||e==="object"&&bi(t.toString)&&t.toString()==="[object FormData]"))},OO=os("URLSearchParams"),[AO,IO,TO,PO]=["ReadableStream","Request","Response","Headers"].map(os),FO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),ku(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let d;for(n=0;n<l;n++)d=a[n],e.call(null,t[d],d,t)}}function kN(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qN=t=>!Qc(t)&&t!==za;function Cv(){const{caseless:t}=qN(this)&&this||{},e={},r=(n,o)=>{const a=t&&kN(e,o)||o;hh(e[a])&&hh(n)?e[a]=Cv(e[a],n):hh(n)?e[a]=Cv({},n):ku(n)?e[a]=n.slice():e[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Sd(arguments[n],r);return e}const LO=(t,e,r,{allOwnKeys:n}={})=>(Sd(e,(o,a)=>{r&&bi(o)?t[a]=SN(o,r):t[a]=o},{allOwnKeys:n}),t),jO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MO=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},DO=(t,e,r,n)=>{let o,a,l;const d={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)l=o[a],(!n||n(l,t,e))&&!d[l]&&(e[l]=t[l],d[l]=!0);t=r!==!1&&g_(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},WO=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},BO=t=>{if(!t)return null;if(ku(t))return t;let e=t.length;if(!NN(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},zO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&g_(Uint8Array)),$O=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},UO=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},VO=os("HTMLFormElement"),HO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),hx=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),QO=os("RegExp"),CN=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Sd(r,(o,a)=>{let l;(l=e(o,a,t))!==!1&&(n[a]=l||o)}),Object.defineProperties(t,n)},KO=t=>{CN(t,(e,r)=>{if(bi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(bi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},GO=(t,e)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return ku(t)?n(t):n(String(t).split(e)),r},JO=()=>{},ZO=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,sg="abcdefghijklmnopqrstuvwxyz",px="0123456789",RN={DIGIT:px,ALPHA:sg,ALPHA_DIGIT:sg+sg.toUpperCase()+px},XO=(t=16,e=RN.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function YO(t){return!!(t&&bi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const eA=t=>{const e=new Array(10),r=(n,o)=>{if(Rp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;const a=ku(n)?[]:{};return Sd(n,(l,d)=>{const p=r(l,o+1);!Qc(p)&&(a[d]=p)}),e[o]=void 0,a}}return n};return r(t,0)},tA=os("AsyncFunction"),rA=t=>t&&(Rp(t)||bi(t))&&bi(t.then)&&bi(t.catch),ON=((t,e)=>t?setImmediate:e?((r,n)=>(za.addEventListener("message",({source:o,data:a})=>{o===za&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),za.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",bi(za.postMessage)),nA=typeof queueMicrotask<"u"?queueMicrotask.bind(za):typeof process<"u"&&process.nextTick||ON,Be={isArray:ku,isArrayBuffer:EN,isBuffer:bO,isFormData:RO,isArrayBufferView:wO,isString:xO,isNumber:NN,isBoolean:SO,isObject:Rp,isPlainObject:hh,isReadableStream:AO,isRequest:IO,isResponse:TO,isHeaders:PO,isUndefined:Qc,isDate:EO,isFile:NO,isBlob:kO,isRegExp:QO,isFunction:bi,isStream:CO,isURLSearchParams:OO,isTypedArray:zO,isFileList:qO,forEach:Sd,merge:Cv,extend:LO,trim:FO,stripBOM:jO,inherits:MO,toFlatObject:DO,kindOf:qp,kindOfTest:os,endsWith:WO,toArray:BO,forEachEntry:$O,matchAll:UO,isHTMLForm:VO,hasOwnProperty:hx,hasOwnProp:hx,reduceDescriptors:CN,freezeMethods:KO,toObjectSet:GO,toCamelCase:HO,noop:JO,toFiniteNumber:ZO,findKey:kN,global:za,isContextDefined:qN,ALPHABET:RN,generateString:XO,isSpecCompliantForm:YO,toJSONObject:eA,isAsyncFn:tA,isThenable:rA,setImmediate:ON,asap:nA};function rr(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}Be.inherits(rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Be.toJSONObject(this.config),code:this.code,status:this.status}}});const AN=rr.prototype,IN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{IN[t]={value:t}});Object.defineProperties(rr,IN);Object.defineProperty(AN,"isAxiosError",{value:!0});rr.from=(t,e,r,n,o,a)=>{const l=Object.create(AN);return Be.toFlatObject(t,l,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),rr.call(l,t.message,e,r,n,o),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const iA=null;function Rv(t){return Be.isPlainObject(t)||Be.isArray(t)}function TN(t){return Be.endsWith(t,"[]")?t.slice(0,-2):t}function mx(t,e,r){return t?t.concat(e).map(function(o,a){return o=TN(o),!r&&a?"["+o+"]":o}).join(r?".":""):e}function sA(t){return Be.isArray(t)&&!t.some(Rv)}const oA=Be.toFlatObject(Be,{},null,function(e){return/^is[A-Z]/.test(e)});function Op(t,e,r){if(!Be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Be.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,L){return!Be.isUndefined(L[C])});const n=r.metaTokens,o=r.visitor||b,a=r.dots,l=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&Be.isSpecCompliantForm(e);if(!Be.isFunction(o))throw new TypeError("visitor must be a function");function m(R){if(R===null)return"";if(Be.isDate(R))return R.toISOString();if(!p&&Be.isBlob(R))throw new rr("Blob is not supported. Use a Buffer instead.");return Be.isArrayBuffer(R)||Be.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function b(R,C,L){let P=R;if(R&&!L&&typeof R=="object"){if(Be.endsWith(C,"{}"))C=n?C:C.slice(0,-2),R=JSON.stringify(R);else if(Be.isArray(R)&&sA(R)||(Be.isFileList(R)||Be.endsWith(C,"[]"))&&(P=Be.toArray(R)))return C=TN(C),P.forEach(function(M,U){!(Be.isUndefined(M)||M===null)&&e.append(l===!0?mx([C],U,a):l===null?C:C+"[]",m(M))}),!1}return Rv(R)?!0:(e.append(mx(L,C,a),m(R)),!1)}const x=[],N=Object.assign(oA,{defaultVisitor:b,convertValue:m,isVisitable:Rv});function q(R,C){if(!Be.isUndefined(R)){if(x.indexOf(R)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(R),Be.forEach(R,function(P,T){(!(Be.isUndefined(P)||P===null)&&o.call(e,P,Be.isString(T)?T.trim():T,C,N))===!0&&q(P,C?C.concat(T):[T])}),x.pop()}}if(!Be.isObject(t))throw new TypeError("data must be an object");return q(t),e}function yx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function v_(t,e){this._pairs=[],t&&Op(t,this,e)}const PN=v_.prototype;PN.append=function(e,r){this._pairs.push([e,r])};PN.toString=function(e){const r=e?function(n){return e.call(this,n,yx)}:yx;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function aA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function FN(t,e,r){if(!e)return t;const n=r&&r.encode||aA;Be.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(e,r):a=Be.isURLSearchParams(e)?e.toString():new v_(e,r).toString(n),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class gx{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Be.forEach(this.handlers,function(n){n!==null&&e(n)})}}const LN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lA=typeof URLSearchParams<"u"?URLSearchParams:v_,uA=typeof FormData<"u"?FormData:null,cA=typeof Blob<"u"?Blob:null,dA={isBrowser:!0,classes:{URLSearchParams:lA,FormData:uA,Blob:cA},protocols:["http","https","file","blob","url","data"]},__=typeof window<"u"&&typeof document<"u",Ov=typeof navigator=="object"&&navigator||void 0,fA=__&&(!Ov||["ReactNative","NativeScript","NS"].indexOf(Ov.product)<0),hA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pA=__&&window.location.href||"http://localhost",mA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:__,hasStandardBrowserEnv:fA,hasStandardBrowserWebWorkerEnv:hA,navigator:Ov,origin:pA},Symbol.toStringTag,{value:"Module"})),On={...mA,...dA};function yA(t,e){return Op(t,new On.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,a){return On.isNode&&Be.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function gA(t){return Be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vA(t){const e={},r=Object.keys(t);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],e[a]=t[a];return e}function jN(t){function e(r,n,o,a){let l=r[a++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),p=a>=r.length;return l=!l&&Be.isArray(o)?o.length:l,p?(Be.hasOwnProp(o,l)?o[l]=[o[l],n]:o[l]=n,!d):((!o[l]||!Be.isObject(o[l]))&&(o[l]=[]),e(r,n,o[l],a)&&Be.isArray(o[l])&&(o[l]=vA(o[l])),!d)}if(Be.isFormData(t)&&Be.isFunction(t.entries)){const r={};return Be.forEachEntry(t,(n,o)=>{e(gA(n),o,r,0)}),r}return null}function _A(t,e,r){if(Be.isString(t))try{return(e||JSON.parse)(t),Be.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ed={transitional:LN,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=Be.isObject(e);if(a&&Be.isHTMLForm(e)&&(e=new FormData(e)),Be.isFormData(e))return o?JSON.stringify(jN(e)):e;if(Be.isArrayBuffer(e)||Be.isBuffer(e)||Be.isStream(e)||Be.isFile(e)||Be.isBlob(e)||Be.isReadableStream(e))return e;if(Be.isArrayBufferView(e))return e.buffer;if(Be.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return yA(e,this.formSerializer).toString();if((d=Be.isFileList(e))||n.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Op(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),_A(e)):e}],transformResponse:[function(e){const r=this.transitional||Ed.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(Be.isResponse(e)||Be.isReadableStream(e))return e;if(e&&Be.isString(e)&&(n&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(l)throw d.name==="SyntaxError"?rr.from(d,rr.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Be.forEach(["delete","get","head","post","put","patch"],t=>{Ed.headers[t]={}});const bA=Be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wA=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),n=l.substring(o+1).trim(),!(!r||e[r]&&bA[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},vx=Symbol("internals");function _c(t){return t&&String(t).trim().toLowerCase()}function ph(t){return t===!1||t==null?t:Be.isArray(t)?t.map(ph):String(t)}function xA(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const SA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function og(t,e,r,n,o){if(Be.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!Be.isString(e)){if(Be.isString(n))return e.indexOf(n)!==-1;if(Be.isRegExp(n))return n.test(e)}}function EA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function NA(t,e){const r=Be.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,a,l){return this[n].call(this,e,o,a,l)},configurable:!0})})}let ni=class{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function a(d,p,m){const b=_c(p);if(!b)throw new Error("header name must be a non-empty string");const x=Be.findKey(o,b);(!x||o[x]===void 0||m===!0||m===void 0&&o[x]!==!1)&&(o[x||p]=ph(d))}const l=(d,p)=>Be.forEach(d,(m,b)=>a(m,b,p));if(Be.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(Be.isString(e)&&(e=e.trim())&&!SA(e))l(wA(e),r);else if(Be.isHeaders(e))for(const[d,p]of e.entries())a(p,d,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=_c(e),e){const n=Be.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return xA(o);if(Be.isFunction(r))return r.call(this,o,n);if(Be.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=_c(e),e){const n=Be.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||og(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function a(l){if(l=_c(l),l){const d=Be.findKey(n,l);d&&(!r||og(n,n[d],d,r))&&(delete n[d],o=!0)}}return Be.isArray(e)?e.forEach(a):a(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!e||og(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const r=this,n={};return Be.forEach(this,(o,a)=>{const l=Be.findKey(n,a);if(l){r[l]=ph(o),delete r[a];return}const d=e?EA(a):String(a).trim();d!==a&&delete r[a],r[d]=ph(o),n[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Be.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&Be.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[vx]=this[vx]={accessors:{}}).accessors,o=this.prototype;function a(l){const d=_c(l);n[d]||(NA(o,l),n[d]=!0)}return Be.isArray(e)?e.forEach(a):a(e),this}};ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Be.reduceDescriptors(ni.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Be.freezeMethods(ni);function ag(t,e){const r=this||Ed,n=e||r,o=ni.from(n.headers);let a=n.data;return Be.forEach(t,function(d){a=d.call(r,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function MN(t){return!!(t&&t.__CANCEL__)}function qu(t,e,r){rr.call(this,t??"canceled",rr.ERR_CANCELED,e,r),this.name="CanceledError"}Be.inherits(qu,rr,{__CANCEL__:!0});function DN(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new rr("Request failed with status code "+r.status,[rr.ERR_BAD_REQUEST,rr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function kA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qA(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,a=0,l;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),b=n[a];l||(l=m),r[o]=p,n[o]=m;let x=a,N=0;for(;x!==o;)N+=r[x++],x=x%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-l<e)return;const q=b&&m-b;return q?Math.round(N*1e3/q):void 0}}function CA(t,e){let r=0,n=1e3/e,o,a;const l=(m,b=Date.now())=>{r=b,o=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const b=Date.now(),x=b-r;x>=n?l(m,b):(o=m,a||(a=setTimeout(()=>{a=null,l(o)},n-x)))},()=>o&&l(o)]}const Dh=(t,e,r=3)=>{let n=0;const o=qA(50,250);return CA(a=>{const l=a.loaded,d=a.lengthComputable?a.total:void 0,p=l-n,m=o(p),b=l<=d;n=l;const x={loaded:l,total:d,progress:d?l/d:void 0,bytes:p,rate:m||void 0,estimated:m&&d&&b?(d-l)/m:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(x)},r)},_x=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},bx=t=>(...e)=>Be.asap(()=>t(...e)),RA=On.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,On.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,OA=On.hasStandardBrowserEnv?{write(t,e,r,n,o,a){const l=[t+"="+encodeURIComponent(e)];Be.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Be.isString(n)&&l.push("path="+n),Be.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function IA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function WN(t,e){return t&&!AA(e)?IA(t,e):e}const wx=t=>t instanceof ni?{...t}:t;function Ja(t,e){e=e||{};const r={};function n(m,b,x,N){return Be.isPlainObject(m)&&Be.isPlainObject(b)?Be.merge.call({caseless:N},m,b):Be.isPlainObject(b)?Be.merge({},b):Be.isArray(b)?b.slice():b}function o(m,b,x,N){if(Be.isUndefined(b)){if(!Be.isUndefined(m))return n(void 0,m,x,N)}else return n(m,b,x,N)}function a(m,b){if(!Be.isUndefined(b))return n(void 0,b)}function l(m,b){if(Be.isUndefined(b)){if(!Be.isUndefined(m))return n(void 0,m)}else return n(void 0,b)}function d(m,b,x){if(x in e)return n(m,b);if(x in t)return n(void 0,m)}const p={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(m,b,x)=>o(wx(m),wx(b),x,!0)};return Be.forEach(Object.keys(Object.assign({},t,e)),function(b){const x=p[b]||o,N=x(t[b],e[b],b);Be.isUndefined(N)&&x!==d||(r[b]=N)}),r}const BN=t=>{const e=Ja({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:l,auth:d}=e;e.headers=l=ni.from(l),e.url=FN(WN(e.baseURL,e.url),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(Be.isFormData(r)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((p=l.getContentType())!==!1){const[m,...b]=p?p.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...b].join("; "))}}if(On.hasStandardBrowserEnv&&(n&&Be.isFunction(n)&&(n=n(e)),n||n!==!1&&RA(e.url))){const m=o&&a&&OA.read(a);m&&l.set(o,m)}return e},TA=typeof XMLHttpRequest<"u",PA=TA&&function(t){return new Promise(function(r,n){const o=BN(t);let a=o.data;const l=ni.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:m}=o,b,x,N,q,R;function C(){q&&q(),R&&R(),o.cancelToken&&o.cancelToken.unsubscribe(b),o.signal&&o.signal.removeEventListener("abort",b)}let L=new XMLHttpRequest;L.open(o.method.toUpperCase(),o.url,!0),L.timeout=o.timeout;function P(){if(!L)return;const M=ni.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),V={data:!d||d==="text"||d==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:M,config:t,request:L};DN(function(K){r(K),C()},function(K){n(K),C()},V),L=null}"onloadend"in L?L.onloadend=P:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(P)},L.onabort=function(){L&&(n(new rr("Request aborted",rr.ECONNABORTED,t,L)),L=null)},L.onerror=function(){n(new rr("Network Error",rr.ERR_NETWORK,t,L)),L=null},L.ontimeout=function(){let U=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const V=o.transitional||LN;o.timeoutErrorMessage&&(U=o.timeoutErrorMessage),n(new rr(U,V.clarifyTimeoutError?rr.ETIMEDOUT:rr.ECONNABORTED,t,L)),L=null},a===void 0&&l.setContentType(null),"setRequestHeader"in L&&Be.forEach(l.toJSON(),function(U,V){L.setRequestHeader(V,U)}),Be.isUndefined(o.withCredentials)||(L.withCredentials=!!o.withCredentials),d&&d!=="json"&&(L.responseType=o.responseType),m&&([N,R]=Dh(m,!0),L.addEventListener("progress",N)),p&&L.upload&&([x,q]=Dh(p),L.upload.addEventListener("progress",x),L.upload.addEventListener("loadend",q)),(o.cancelToken||o.signal)&&(b=M=>{L&&(n(!M||M.type?new qu(null,t,L):M),L.abort(),L=null)},o.cancelToken&&o.cancelToken.subscribe(b),o.signal&&(o.signal.aborted?b():o.signal.addEventListener("abort",b)));const T=kA(o.url);if(T&&On.protocols.indexOf(T)===-1){n(new rr("Unsupported protocol "+T+":",rr.ERR_BAD_REQUEST,t));return}L.send(a||null)})},FA=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,o;const a=function(m){if(!o){o=!0,d();const b=m instanceof Error?m:this.reason;n.abort(b instanceof rr?b:new qu(b instanceof Error?b.message:b))}};let l=e&&setTimeout(()=>{l=null,a(new rr(`timeout ${e} of ms exceeded`,rr.ETIMEDOUT))},e);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=n;return p.unsubscribe=()=>Be.asap(d),p}},LA=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,o;for(;n<r;)o=n+e,yield t.slice(n,o),n=o},jA=async function*(t,e){for await(const r of MA(t))yield*LA(r,e)},MA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},xx=(t,e,r,n)=>{const o=jA(t,e);let a=0,l,d=p=>{l||(l=!0,n&&n(p))};return new ReadableStream({async pull(p){try{const{done:m,value:b}=await o.next();if(m){d(),p.close();return}let x=b.byteLength;if(r){let N=a+=x;r(N)}p.enqueue(new Uint8Array(b))}catch(m){throw d(m),m}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},Ap=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zN=Ap&&typeof ReadableStream=="function",DA=Ap&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),$N=(t,...e)=>{try{return!!t(...e)}catch{return!1}},WA=zN&&$N(()=>{let t=!1;const e=new Request(On.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Sx=64*1024,Av=zN&&$N(()=>Be.isReadableStream(new Response("").body)),Wh={stream:Av&&(t=>t.body)};Ap&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Wh[e]&&(Wh[e]=Be.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new rr(`Response type '${e}' is not supported`,rr.ERR_NOT_SUPPORT,n)})})})(new Response);const BA=async t=>{if(t==null)return 0;if(Be.isBlob(t))return t.size;if(Be.isSpecCompliantForm(t))return(await new Request(On.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Be.isArrayBufferView(t)||Be.isArrayBuffer(t))return t.byteLength;if(Be.isURLSearchParams(t)&&(t=t+""),Be.isString(t))return(await DA(t)).byteLength},zA=async(t,e)=>{const r=Be.toFiniteNumber(t.getContentLength());return r??BA(e)},$A=Ap&&(async t=>{let{url:e,method:r,data:n,signal:o,cancelToken:a,timeout:l,onDownloadProgress:d,onUploadProgress:p,responseType:m,headers:b,withCredentials:x="same-origin",fetchOptions:N}=BN(t);m=m?(m+"").toLowerCase():"text";let q=FA([o,a&&a.toAbortSignal()],l),R;const C=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let L;try{if(p&&WA&&r!=="get"&&r!=="head"&&(L=await zA(b,n))!==0){let V=new Request(e,{method:"POST",body:n,duplex:"half"}),B;if(Be.isFormData(n)&&(B=V.headers.get("content-type"))&&b.setContentType(B),V.body){const[K,le]=_x(L,Dh(bx(p)));n=xx(V.body,Sx,K,le)}}Be.isString(x)||(x=x?"include":"omit");const P="credentials"in Request.prototype;R=new Request(e,{...N,signal:q,method:r.toUpperCase(),headers:b.normalize().toJSON(),body:n,duplex:"half",credentials:P?x:void 0});let T=await fetch(R);const M=Av&&(m==="stream"||m==="response");if(Av&&(d||M&&C)){const V={};["status","statusText","headers"].forEach(H=>{V[H]=T[H]});const B=Be.toFiniteNumber(T.headers.get("content-length")),[K,le]=d&&_x(B,Dh(bx(d),!0))||[];T=new Response(xx(T.body,Sx,K,()=>{le&&le(),C&&C()}),V)}m=m||"text";let U=await Wh[Be.findKey(Wh,m)||"text"](T,t);return!M&&C&&C(),await new Promise((V,B)=>{DN(V,B,{data:U,headers:ni.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:R})})}catch(P){throw C&&C(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new rr("Network Error",rr.ERR_NETWORK,t,R),{cause:P.cause||P}):rr.from(P,P&&P.code,t,R)}}),Iv={http:iA,xhr:PA,fetch:$A};Be.forEach(Iv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ex=t=>`- ${t}`,UA=t=>Be.isFunction(t)||t===null||t===!1,UN={getAdapter:t=>{t=Be.isArray(t)?t:[t];const{length:e}=t;let r,n;const o={};for(let a=0;a<e;a++){r=t[a];let l;if(n=r,!UA(r)&&(n=Iv[(l=String(r)).toLowerCase()],n===void 0))throw new rr(`Unknown adapter '${l}'`);if(n)break;o[l||"#"+a]=n}if(!n){const a=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(Ex).join(`
`):" "+Ex(a[0]):"as no adapter specified";throw new rr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Iv};function lg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qu(null,t)}function Nx(t){return lg(t),t.headers=ni.from(t.headers),t.data=ag.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),UN.getAdapter(t.adapter||Ed.adapter)(t).then(function(n){return lg(t),n.data=ag.call(t,t.transformResponse,n),n.headers=ni.from(n.headers),n},function(n){return MN(n)||(lg(t),n&&n.response&&(n.response.data=ag.call(t,t.transformResponse,n.response),n.response.headers=ni.from(n.response.headers))),Promise.reject(n)})}const VN="1.7.9",Ip={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ip[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const kx={};Ip.transitional=function(e,r,n){function o(a,l){return"[Axios v"+VN+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,d)=>{if(e===!1)throw new rr(o(l," has been removed"+(r?" in "+r:"")),rr.ERR_DEPRECATED);return r&&!kx[l]&&(kx[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,l,d):!0}};Ip.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function VA(t,e,r){if(typeof t!="object")throw new rr("options must be an object",rr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const a=n[o],l=e[a];if(l){const d=t[a],p=d===void 0||l(d,a,t);if(p!==!0)throw new rr("option "+a+" must be "+p,rr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new rr("Unknown option "+a,rr.ERR_BAD_OPTION)}}const mh={assertOptions:VA,validators:Ip},ms=mh.validators;let Ha=class{constructor(e){this.defaults=e,this.interceptors={request:new gx,response:new gx}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ja(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&mh.assertOptions(n,{silentJSONParsing:ms.transitional(ms.boolean),forcedJSONParsing:ms.transitional(ms.boolean),clarifyTimeoutError:ms.transitional(ms.boolean)},!1),o!=null&&(Be.isFunction(o)?r.paramsSerializer={serialize:o}:mh.assertOptions(o,{encode:ms.function,serialize:ms.function},!0)),mh.assertOptions(r,{baseUrl:ms.spelling("baseURL"),withXsrfToken:ms.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&Be.merge(a.common,a[r.method]);a&&Be.forEach(["delete","get","head","post","put","patch","common"],R=>{delete a[R]}),r.headers=ni.concat(l,a);const d=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(p=p&&C.synchronous,d.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let b,x=0,N;if(!p){const R=[Nx.bind(this),void 0];for(R.unshift.apply(R,d),R.push.apply(R,m),N=R.length,b=Promise.resolve(r);x<N;)b=b.then(R[x++],R[x++]);return b}N=d.length;let q=r;for(x=0;x<N;){const R=d[x++],C=d[x++];try{q=R(q)}catch(L){C.call(this,L);break}}try{b=Nx.call(this,q)}catch(R){return Promise.reject(R)}for(x=0,N=m.length;x<N;)b=b.then(m[x++],m[x++]);return b}getUri(e){e=Ja(this.defaults,e);const r=WN(e.baseURL,e.url);return FN(r,e.params,e.paramsSerializer)}};Be.forEach(["delete","get","head","options"],function(e){Ha.prototype[e]=function(r,n){return this.request(Ja(n||{},{method:e,url:r,data:(n||{}).data}))}});Be.forEach(["post","put","patch"],function(e){function r(n){return function(a,l,d){return this.request(Ja(d||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Ha.prototype[e]=r(),Ha.prototype[e+"Form"]=r(!0)});let HA=class HN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const l=new Promise(d=>{n.subscribe(d),a=d}).then(o);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,d){n.reason||(n.reason=new qu(a,l,d),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new HN(function(o){e=o}),cancel:e}}};function QA(t){return function(r){return t.apply(null,r)}}function KA(t){return Be.isObject(t)&&t.isAxiosError===!0}const Tv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tv).forEach(([t,e])=>{Tv[e]=t});function QN(t){const e=new Ha(t),r=SN(Ha.prototype.request,e);return Be.extend(r,Ha.prototype,e,{allOwnKeys:!0}),Be.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return QN(Ja(t,o))},r}const nn=QN(Ed);nn.Axios=Ha;nn.CanceledError=qu;nn.CancelToken=HA;nn.isCancel=MN;nn.VERSION=VN;nn.toFormData=Op;nn.AxiosError=rr;nn.Cancel=nn.CanceledError;nn.all=function(e){return Promise.all(e)};nn.spread=QA;nn.isAxiosError=KA;nn.mergeConfig=Ja;nn.AxiosHeaders=ni;nn.formToJSON=t=>jN(Be.isHTMLForm(t)?new FormData(t):t);nn.getAdapter=UN.getAdapter;nn.HttpStatusCode=Tv;nn.default=nn;const{Axios:yW,AxiosError:GA,CanceledError:gW,isCancel:vW,CancelToken:_W,VERSION:bW,all:wW,Cancel:xW,isAxiosError:SW,spread:EW,toFormData:NW,AxiosHeaders:kW,HttpStatusCode:qW,formToJSON:CW,getAdapter:RW,mergeConfig:OW}=nn,b_=({error:t,schema:e,onError:r})=>{if(t instanceof GA){const o=e.safeParse(t.response?.data);return o.success&&r({error:t,data:o.data}),o.success}return!1};var ug,qx;function JA(){if(qx)return ug;qx=1;function t(n){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(n)}t.prototype.getMaxRPS=function(){var n=this.perMilliseconds/1e3;return this.maxRequests/n},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(n){this.setRateLimitOptions({maxRequests:n,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(n){n.maxRPS?this.setMaxRPS(n.maxRPS):(this.perMilliseconds=n.perMilliseconds,this.maxRequests=n.maxRequests)},t.prototype.enable=function(n){function o(a){return Promise.reject(a)}this.interceptors.request=n.interceptors.request.use(this.handleRequest,o),this.interceptors.response=n.interceptors.response.use(this.handleResponse,o)};function e(n){n.cancelToken&&n.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(n){return new Promise(function(o,a){this.push({resolve:function(){try{e(n)}catch(l){return a(l),!1}return o(n),!0}})}.bind(this))},t.prototype.handleResponse=function(n){return this.shift(),n},t.prototype.push=function(n){this.queue.push(n),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var n=this.queue.shift(),o=n.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!o){this.shift();return}this.timeslotRequests+=1}};function r(n,o){var a=new t(n);return a.setRateLimitOptions(o),n.getQueue=t.prototype.getQueue.bind(a),n.getMaxRPS=t.prototype.getMaxRPS.bind(a),n.setMaxRPS=t.prototype.setMaxRPS.bind(a),n.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(a),n}return ug=r,ug}var ZA=JA();const XA=Su(ZA),YA=({instance:t,limit:e}={})=>XA(t||nn,e||{maxRequests:5,perMilliseconds:100}),w_="-",eI=t=>{const e=rI(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const d=l.split(w_);return d[0]===""&&d.length!==1&&d.shift(),KN(d,e)||tI(l)},getConflictingClassGroupIds:(l,d)=>{const p=r[l]||[];return d&&n[l]?[...p,...n[l]]:p}}},KN=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?KN(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(w_);return e.validators.find(({validator:l})=>l(a))?.classGroupId},Cx=/^\[(.+)\]$/,tI=t=>{if(Cx.test(t)){const e=Cx.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},rI=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return iI(Object.entries(t.classGroups),r).forEach(([a,l])=>{Pv(l,n,a,e)}),n},Pv=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Rx(e,o);a.classGroupId=r;return}if(typeof o=="function"){if(nI(o)){Pv(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,l])=>{Pv(l,Rx(e,a),r,n)})})},Rx=(t,e)=>{let r=t;return e.split(w_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nI=t=>t.isThemeGetter,iI=(t,e)=>e?t.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,d])=>[e+l,d])):a);return[r,o]}):t,sI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(a,l)=>{r.set(a,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return o(a,l),l},set(a,l){r.has(a)?r.set(a,l):o(a,l)}}},GN="!",oI=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],a=e.length,l=d=>{const p=[];let m=0,b=0,x;for(let L=0;L<d.length;L++){let P=d[L];if(m===0){if(P===o&&(n||d.slice(L,L+a)===e)){p.push(d.slice(b,L)),b=L+a;continue}if(P==="/"){x=L;continue}}P==="["?m++:P==="]"&&m--}const N=p.length===0?d:d.substring(b),q=N.startsWith(GN),R=q?N.substring(1):N,C=x&&x>b?x-b:void 0;return{modifiers:p,hasImportantModifier:q,baseClassName:R,maybePostfixModifierPosition:C}};return r?d=>r({className:d,parseClassName:l}):l},aI=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},lI=t=>({cache:sI(t.cacheSize),parseClassName:oI(t),...eI(t)}),uI=/\s+/,cI=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,a=[],l=t.trim().split(uI);let d="";for(let p=l.length-1;p>=0;p-=1){const m=l[p],{modifiers:b,hasImportantModifier:x,baseClassName:N,maybePostfixModifierPosition:q}=r(m);let R=!!q,C=n(R?N.substring(0,q):N);if(!C){if(!R){d=m+(d.length>0?" "+d:d);continue}if(C=n(N),!C){d=m+(d.length>0?" "+d:d);continue}R=!1}const L=aI(b).join(":"),P=x?L+GN:L,T=P+C;if(a.includes(T))continue;a.push(T);const M=o(C,R);for(let U=0;U<M.length;++U){const V=M[U];a.push(P+V)}d=m+(d.length>0?" "+d:d)}return d};function dI(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=JN(e))&&(n&&(n+=" "),n+=r);return n}const JN=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=JN(t[n]))&&(r&&(r+=" "),r+=e);return r};function fI(t,...e){let r,n,o,a=l;function l(p){const m=e.reduce((b,x)=>x(b),t());return r=lI(m),n=r.cache.get,o=r.cache.set,a=d,d(p)}function d(p){const m=n(p);if(m)return m;const b=cI(p,r);return o(p,b),b}return function(){return a(dI.apply(null,arguments))}}const Mr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ZN=/^\[(?:([a-z-]+):)?(.+)\]$/i,hI=/^\d+\/\d+$/,pI=new Set(["px","full","screen"]),mI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_I=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gs=t=>Xl(t)||pI.has(t)||hI.test(t),Po=t=>Cu(t,"length",qI),Xl=t=>!!t&&!Number.isNaN(Number(t)),cg=t=>Cu(t,"number",Xl),bc=t=>!!t&&Number.isInteger(Number(t)),bI=t=>t.endsWith("%")&&Xl(t.slice(0,-1)),ir=t=>ZN.test(t),Fo=t=>mI.test(t),wI=new Set(["length","size","percentage"]),xI=t=>Cu(t,wI,XN),SI=t=>Cu(t,"position",XN),EI=new Set(["image","url"]),NI=t=>Cu(t,EI,RI),kI=t=>Cu(t,"",CI),wc=()=>!0,Cu=(t,e,r)=>{const n=ZN.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},qI=t=>yI.test(t)&&!gI.test(t),XN=()=>!1,CI=t=>vI.test(t),RI=t=>_I.test(t),OI=()=>{const t=Mr("colors"),e=Mr("spacing"),r=Mr("blur"),n=Mr("brightness"),o=Mr("borderColor"),a=Mr("borderRadius"),l=Mr("borderSpacing"),d=Mr("borderWidth"),p=Mr("contrast"),m=Mr("grayscale"),b=Mr("hueRotate"),x=Mr("invert"),N=Mr("gap"),q=Mr("gradientColorStops"),R=Mr("gradientColorStopPositions"),C=Mr("inset"),L=Mr("margin"),P=Mr("opacity"),T=Mr("padding"),M=Mr("saturate"),U=Mr("scale"),V=Mr("sepia"),B=Mr("skew"),K=Mr("space"),le=Mr("translate"),H=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",ir,e],re=()=>[ir,e],Z=()=>["",Gs,Po],pe=()=>["auto",Xl,ir],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],Pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",ir],Ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Xl,ir];return{cacheSize:500,separator:":",theme:{colors:[wc],spacing:[Gs,Po],blur:["none","",Fo,ir],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Fo,ir],borderSpacing:re(),borderWidth:Z(),contrast:Q(),grayscale:me(),hueRotate:Q(),invert:me(),gap:re(),gradientColorStops:[t],gradientColorStopPositions:[bI,Po],inset:W(),margin:W(),opacity:Q(),padding:re(),saturate:Q(),scale:Q(),sepia:me(),skew:Q(),space:re(),translate:re()},classGroups:{aspect:[{aspect:["auto","square","video",ir]}],container:["container"],columns:[{columns:[Fo]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),ir]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bc,ir]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ir]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",bc,ir]}],"grid-cols":[{"grid-cols":[wc]}],"col-start-end":[{col:["auto",{span:["full",bc,ir]},ir]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[wc]}],"row-start-end":[{row:["auto",{span:[bc,ir]},ir]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ir]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ir,e]}],"min-w":[{"min-w":[ir,e,"min","max","fit"]}],"max-w":[{"max-w":[ir,e,"none","full","min","max","fit","prose",{screen:[Fo]},Fo]}],h:[{h:[ir,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ir,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fo,Po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cg]}],"font-family":[{font:[wc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ir]}],"line-clamp":[{"line-clamp":["none",Xl,cg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gs,ir]}],"list-image":[{"list-image":["none",ir]}],"list-style-type":[{list:["none","disc","decimal",ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gs,Po]}],"underline-offset":[{"underline-offset":["auto",Gs,ir]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:re()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),SI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[q]}],"gradient-via":[{via:[q]}],"gradient-to":[{to:[q]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[Gs,ir]}],"outline-w":[{outline:[Gs,Po]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Gs,Po]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fo,kI]}],"shadow-color":[{shadow:[wc]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...Pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Pe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Fo,ir]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[x]}],saturate:[{saturate:[M]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ir]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ir]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[U]}],"scale-x":[{"scale-x":[U]}],"scale-y":[{"scale-y":[U]}],rotate:[{rotate:[bc,ir]}],"translate-x":[{"translate-x":[le]}],"translate-y":[{"translate-y":[le]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ir]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":re()}],"scroll-mx":[{"scroll-mx":re()}],"scroll-my":[{"scroll-my":re()}],"scroll-ms":[{"scroll-ms":re()}],"scroll-me":[{"scroll-me":re()}],"scroll-mt":[{"scroll-mt":re()}],"scroll-mr":[{"scroll-mr":re()}],"scroll-mb":[{"scroll-mb":re()}],"scroll-ml":[{"scroll-ml":re()}],"scroll-p":[{"scroll-p":re()}],"scroll-px":[{"scroll-px":re()}],"scroll-py":[{"scroll-py":re()}],"scroll-ps":[{"scroll-ps":re()}],"scroll-pe":[{"scroll-pe":re()}],"scroll-pt":[{"scroll-pt":re()}],"scroll-pr":[{"scroll-pr":re()}],"scroll-pb":[{"scroll-pb":re()}],"scroll-pl":[{"scroll-pl":re()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gs,Po,cg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YN=fI(OI),Fv=new Proxy(()=>Fv,{get:()=>Fv});function fr({use:t,slot:e,variant:r,match:n=[],defaults:o}){return({css:a,...l}={})=>({slots:new Proxy({},{get:(d,p)=>({css:m,...b}={})=>{const x=[],N=t,q={...N?.()?.config.defaults,...o,...l,...b};x.push(N?.(q)?.slots[p]?.(q)),x.push(Array.isArray(e[p])?e[p]:[e[p]]);for(const[R,C]of Object.entries(q)){const L=r[R]?.[C];L&&x.push(L)}for(const R of n)Object.entries(R.if).every(([C,L])=>L===q[C])&&x.push(R.then?.[p]);return x.push(a?.[p]),x.push(m),YN(x)}}),config:{defaults:{...t?.()?.config.defaults,...o},values:{...t?.()?.config.defaults,...o,...l}},type:Fv()})}const x_=YN;var dg,Ox;function AI(){return Ox||(Ox=1,dg=Object),dg}var fg,Ax;function II(){return Ax||(Ax=1,fg=Error),fg}var hg,Ix;function TI(){return Ix||(Ix=1,hg=EvalError),hg}var pg,Tx;function PI(){return Tx||(Tx=1,pg=RangeError),pg}var mg,Px;function FI(){return Px||(Px=1,mg=ReferenceError),mg}var yg,Fx;function LI(){return Fx||(Fx=1,yg=SyntaxError),yg}var gg,Lx;function e1(){return Lx||(Lx=1,gg=TypeError),gg}var vg,jx;function jI(){return jx||(jx=1,vg=URIError),vg}var _g,Mx;function MI(){return Mx||(Mx=1,_g=Math.abs),_g}var bg,Dx;function DI(){return Dx||(Dx=1,bg=Math.floor),bg}var wg,Wx;function WI(){return Wx||(Wx=1,wg=Math.max),wg}var xg,Bx;function BI(){return Bx||(Bx=1,xg=Math.min),xg}var Sg,zx;function zI(){return zx||(zx=1,Sg=Math.pow),Sg}var Eg,$x;function $I(){return $x||($x=1,Eg=Object.getOwnPropertyDescriptor),Eg}var Ng,Ux;function t1(){if(Ux)return Ng;Ux=1;var t=$I();if(t)try{t([],"length")}catch{t=null}return Ng=t,Ng}var kg,Vx;function UI(){if(Vx)return kg;Vx=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return kg=t,kg}var qg,Hx;function r1(){return Hx||(Hx=1,qg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,r);if(d.value!==o||d.enumerable!==!0)return!1}return!0}),qg}var Cg,Qx;function VI(){if(Qx)return Cg;Qx=1;var t=typeof Symbol<"u"&&Symbol,e=r1();return Cg=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Cg}var Rg,Kx;function HI(){if(Kx)return Rg;Kx=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(p,m){for(var b=[],x=0;x<p.length;x+=1)b[x]=p[x];for(var N=0;N<m.length;N+=1)b[N+p.length]=m[N];return b},a=function(p,m){for(var b=[],x=m,N=0;x<p.length;x+=1,N+=1)b[N]=p[x];return b},l=function(d,p){for(var m="",b=0;b<d.length;b+=1)m+=d[b],b+1<d.length&&(m+=p);return m};return Rg=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==n)throw new TypeError(t+m);for(var b=a(arguments,1),x,N=function(){if(this instanceof x){var P=m.apply(this,o(b,arguments));return Object(P)===P?P:this}return m.apply(p,o(b,arguments))},q=r(0,m.length-b.length),R=[],C=0;C<q;C++)R[C]="$"+C;if(x=Function("binder","return function ("+l(R,",")+"){ return binder.apply(this,arguments); }")(N),m.prototype){var L=function(){};L.prototype=m.prototype,x.prototype=new L,L.prototype=null}return x},Rg}var Og,Gx;function Tp(){if(Gx)return Og;Gx=1;var t=HI();return Og=Function.prototype.bind||t,Og}var Ag,Jx;function S_(){return Jx||(Jx=1,Ag=Function.prototype.call),Ag}var Ig,Zx;function n1(){return Zx||(Zx=1,Ig=Function.prototype.apply),Ig}var Tg,Xx;function QI(){return Xx||(Xx=1,Tg=typeof Reflect<"u"&&Reflect&&Reflect.apply),Tg}var Pg,Yx;function KI(){if(Yx)return Pg;Yx=1;var t=Tp(),e=n1(),r=S_(),n=QI();return Pg=n||t.call(r,e),Pg}var Fg,eS;function i1(){if(eS)return Fg;eS=1;var t=Tp(),e=e1(),r=S_(),n=KI();return Fg=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,r,a)},Fg}var Lg,tS;function GI(){if(tS)return Lg;tS=1;var t=i1(),e=t1(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&e&&e(Object.prototype,"__proto__"),o=Object,a=o.getPrototypeOf;return Lg=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(d){return a(d==null?d:o(d))}:!1,Lg}var jg,rS;function JI(){if(rS)return jg;rS=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Tp();return jg=r.call(t,e),jg}var Mg,nS;function ZI(){if(nS)return Mg;nS=1;var t,e=AI(),r=II(),n=TI(),o=PI(),a=FI(),l=LI(),d=e1(),p=jI(),m=MI(),b=DI(),x=WI(),N=BI(),q=zI(),R=Function,C=function(mt){try{return R('"use strict"; return ('+mt+").constructor;")()}catch{}},L=t1(),P=UI(),T=function(){throw new d},M=L?function(){try{return arguments.callee,T}catch{try{return L(arguments,"callee").get}catch{return T}}}():T,U=VI()(),V=GI(),B=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||V,K=n1(),le=S_(),H={},ne=typeof Uint8Array>"u"||!B?t:B(Uint8Array),W={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":U&&B?B([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":H,"%AsyncGenerator%":H,"%AsyncGeneratorFunction%":H,"%AsyncIteratorPrototype%":H,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":H,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":U&&B?B(B([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!U||!B?t:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":L,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!U||!B?t:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":U&&B?B(""[Symbol.iterator]()):t,"%Symbol%":U?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":M,"%TypedArray%":ne,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":le,"%Function.prototype.apply%":K,"%Object.defineProperty%":P,"%Math.abs%":m,"%Math.floor%":b,"%Math.max%":x,"%Math.min%":N,"%Math.pow%":q};if(B)try{null.error}catch(mt){var re=B(B(mt));W["%Error.prototype%"]=re}var Z=function mt(ft){var gt;if(ft==="%AsyncFunction%")gt=C("async function () {}");else if(ft==="%GeneratorFunction%")gt=C("function* () {}");else if(ft==="%AsyncGeneratorFunction%")gt=C("async function* () {}");else if(ft==="%AsyncGenerator%"){var Tt=mt("%AsyncGeneratorFunction%");Tt&&(gt=Tt.prototype)}else if(ft==="%AsyncIteratorPrototype%"){var vt=mt("%AsyncGenerator%");vt&&B&&(gt=B(vt.prototype))}return W[ft]=gt,gt},pe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Re=Tp(),Ce=JI(),Pe=Re.call(le,Array.prototype.concat),ve=Re.call(K,Array.prototype.splice),me=Re.call(le,String.prototype.replace),Ee=Re.call(le,String.prototype.slice),Q=Re.call(le,RegExp.prototype.exec),xe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,at=function(ft){var gt=Ee(ft,0,1),Tt=Ee(ft,-1);if(gt==="%"&&Tt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(Tt==="%"&&gt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var vt=[];return me(ft,xe,function(yt,Rt,qt,Jt){vt[vt.length]=qt?me(Jt,lt,"$1"):Rt||yt}),vt},dt=function(ft,gt){var Tt=ft,vt;if(Ce(pe,Tt)&&(vt=pe[Tt],Tt="%"+vt[0]+"%"),Ce(W,Tt)){var yt=W[Tt];if(yt===H&&(yt=Z(Tt)),typeof yt>"u"&&!gt)throw new d("intrinsic "+ft+" exists, but is not available. Please file an issue!");return{alias:vt,name:Tt,value:yt}}throw new l("intrinsic "+ft+" does not exist!")};return Mg=function(ft,gt){if(typeof ft!="string"||ft.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof gt!="boolean")throw new d('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,ft)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Tt=at(ft),vt=Tt.length>0?Tt[0]:"",yt=dt("%"+vt+"%",gt),Rt=yt.name,qt=yt.value,Jt=!1,Gt=yt.alias;Gt&&(vt=Gt[0],ve(Tt,Pe([0,1],Gt)));for(var er=1,ur=!0;er<Tt.length;er+=1){var se=Tt[er],ae=Ee(se,0,1),ye=Ee(se,-1);if((ae==='"'||ae==="'"||ae==="`"||ye==='"'||ye==="'"||ye==="`")&&ae!==ye)throw new l("property names with quotes must have matching quotes");if((se==="constructor"||!ur)&&(Jt=!0),vt+="."+se,Rt="%"+vt+"%",Ce(W,Rt))qt=W[Rt];else if(qt!=null){if(!(se in qt)){if(!gt)throw new d("base intrinsic for "+ft+" exists, but the property is not available.");return}if(L&&er+1>=Tt.length){var Oe=L(qt,se);ur=!!Oe,ur&&"get"in Oe&&!("originalValue"in Oe.get)?qt=Oe.get:qt=qt[se]}else ur=Ce(qt,se),qt=qt[se];ur&&!Jt&&(W[Rt]=qt)}}return qt},Mg}var Dg,iS;function XI(){if(iS)return Dg;iS=1;var t=ZI(),e=i1(),r=e([t("%String.prototype.indexOf%")]);return Dg=function(o,a){var l=t(o,!!a);return typeof l=="function"&&r(o,".prototype.")>-1?e([l]):l},Dg}var Wg,sS;function YI(){if(sS)return Wg;sS=1;var t=r1();return Wg=function(){return t()&&!!Symbol.toStringTag},Wg}var Bg,oS;function eT(){if(oS)return Bg;oS=1;var t=XI(),e=t("String.prototype.valueOf"),r=function(d){try{return e(d),!0}catch{return!1}},n=t("Object.prototype.toString"),o="[object String]",a=YI()();return Bg=function(d){return typeof d=="string"?!0:!d||typeof d!="object"?!1:a?r(d):n(d)===o},Bg}var tT=eT();const rT=Su(tT),E_=t=>rT(t),nT=(t,e,r={})=>{const n=[];return t.filter((a,l)=>{const d=r.regionLowerCase?a.toLowerCase():a;if(e.includes(d))return n.push({index:l,appLocale:d}),!0;const{isAvailable:p,appLocale:m}=iT(d,e,r);return p&&n.push({index:l,appLocale:r.regionLowerCase?m.toLowerCase():m}),p}).map((a,l)=>!n||n.length===0?a:n[l]?.appLocale)},iT=(t,e,r={})=>{r?.languageOnly||(r.languageOnly=!1);let n=t;return{isAvailable:e.some(a=>{if(!yh()&&!r.languageOnly&&t.split("-")[1]===void 0)return!1;const l=yh()?new Intl.Locale(t).minimize().language:t.split("-")[0],d=yh()?new Intl.Locale(a).minimize().language:a.split("-")[0],p=l===d;return p&&(n=a),p}),appLocale:n}},sT=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(r=>t.regionLowerCase?r.toLowerCase():r)},yh=()=>Intl&&"Locale"in Intl,oT=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const r=t.map(n=>{const o=n.split("-");if(e.languageOnly)return o[0];const a=yh()?new Intl.Locale(n).maximize():{language:o[0],script:o.length===3?o[1]:void 0,region:o.length===3?o[2]:o[1]},{language:l,script:d}=a;let{region:p}=a;return e.regionLowerCase&&p&&(p=p.toLowerCase()),o.length>2?`${l}-${d}-${p}`:p?`${l}-${p}`:l});return[...new Set(r)]},aT=(t,e,r={})=>{r.regionLowerCase||(r.regionLowerCase=!1),r.languageOnly||(r.languageOnly=!1);const n=sT(r),o=oT([...n,t],r);return nT(o,e,r)[0]||t},lT=({available:t,fallback:e})=>aT(e,t,{languageOnly:!0});var zg={exports:{}};const uT={},cT=Object.freeze(Object.defineProperty({__proto__:null,default:uT},Symbol.toStringTag,{value:"Module"})),aS=Fq(cT);var lS;function dT(){return lS||(lS=1,function(t){(function(){var e="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",a=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?n=gv:o&&(n=self);var l=!n.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,d=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],b=[24,16,8,0],x=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],N=["hex","array","digest","arrayBuffer"],q=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),d&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var R=function(B,K){return function(le){return new M(K,!0).update(le)[B]()}},C=function(B){var K=R("hex",B);a&&(K=L(K,B)),K.create=function(){return new M(B)},K.update=function(ne){return K.create().update(ne)};for(var le=0;le<N.length;++le){var H=N[le];K[H]=R(H,B)}return K},L=function(B,K){var le=aS,H=aS.Buffer,ne=K?"sha224":"sha256",W;H.from&&!n.JS_SHA256_NO_BUFFER_FROM?W=H.from:W=function(Z){return new H(Z)};var re=function(Z){if(typeof Z=="string")return le.createHash(ne).update(Z,"utf8").digest("hex");if(Z==null)throw new Error(e);return Z.constructor===ArrayBuffer&&(Z=new Uint8Array(Z)),Array.isArray(Z)||ArrayBuffer.isView(Z)||Z.constructor===H?le.createHash(ne).update(W(Z)).digest("hex"):B(Z)};return re},P=function(B,K){return function(le,H){return new U(le,K,!0).update(H)[B]()}},T=function(B){var K=P("hex",B);K.create=function(ne){return new U(ne,B)},K.update=function(ne,W){return K.create(ne).update(W)};for(var le=0;le<N.length;++le){var H=N[le];K[H]=P(H,B)}return K};function M(B,K){K?(q[0]=q[16]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=0,this.blocks=q):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}M.prototype.update=function(B){if(!this.finalized){var K,le=typeof B;if(le!=="string"){if(le==="object"){if(B===null)throw new Error(e);if(d&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!d||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);K=!0}for(var H,ne=0,W,re=B.length,Z=this.blocks;ne<re;){if(this.hashed&&(this.hashed=!1,Z[0]=this.block,this.block=Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),K)for(W=this.start;ne<re&&W<64;++ne)Z[W>>>2]|=B[ne]<<b[W++&3];else for(W=this.start;ne<re&&W<64;++ne)H=B.charCodeAt(ne),H<128?Z[W>>>2]|=H<<b[W++&3]:H<2048?(Z[W>>>2]|=(192|H>>>6)<<b[W++&3],Z[W>>>2]|=(128|H&63)<<b[W++&3]):H<55296||H>=57344?(Z[W>>>2]|=(224|H>>>12)<<b[W++&3],Z[W>>>2]|=(128|H>>>6&63)<<b[W++&3],Z[W>>>2]|=(128|H&63)<<b[W++&3]):(H=65536+((H&1023)<<10|B.charCodeAt(++ne)&1023),Z[W>>>2]|=(240|H>>>18)<<b[W++&3],Z[W>>>2]|=(128|H>>>12&63)<<b[W++&3],Z[W>>>2]|=(128|H>>>6&63)<<b[W++&3],Z[W>>>2]|=(128|H&63)<<b[W++&3]);this.lastByteIndex=W,this.bytes+=W-this.start,W>=64?(this.block=Z[16],this.start=W-64,this.hash(),this.hashed=!0):this.start=W}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,K=this.lastByteIndex;B[16]=this.block,B[K>>>2]|=m[K&3],this.block=B[16],K>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},M.prototype.hash=function(){var B=this.h0,K=this.h1,le=this.h2,H=this.h3,ne=this.h4,W=this.h5,re=this.h6,Z=this.h7,pe=this.blocks,Re,Ce,Pe,ve,me,Ee,Q,xe,lt,at,dt;for(Re=16;Re<64;++Re)me=pe[Re-15],Ce=(me>>>7|me<<25)^(me>>>18|me<<14)^me>>>3,me=pe[Re-2],Pe=(me>>>17|me<<15)^(me>>>19|me<<13)^me>>>10,pe[Re]=pe[Re-16]+Ce+pe[Re-7]+Pe<<0;for(dt=K&le,Re=0;Re<64;Re+=4)this.first?(this.is224?(xe=300032,me=pe[0]-0x543c9a5b,Z=me-0x8f1a6c7<<0,H=me+0x170e9b5<<0):(xe=0x2a01a605,me=pe[0]-0xc881298,Z=me-0x5ab00ac6<<0,H=me+0x8909ae5<<0),this.first=!1):(Ce=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),Pe=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),xe=B&K,ve=xe^B&le^dt,Q=ne&W^~ne&re,me=Z+Pe+Q+x[Re]+pe[Re],Ee=Ce+ve,Z=H+me<<0,H=me+Ee<<0),Ce=(H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10),Pe=(Z>>>6|Z<<26)^(Z>>>11|Z<<21)^(Z>>>25|Z<<7),lt=H&B,ve=lt^H&K^xe,Q=Z&ne^~Z&W,me=re+Pe+Q+x[Re+1]+pe[Re+1],Ee=Ce+ve,re=le+me<<0,le=me+Ee<<0,Ce=(le>>>2|le<<30)^(le>>>13|le<<19)^(le>>>22|le<<10),Pe=(re>>>6|re<<26)^(re>>>11|re<<21)^(re>>>25|re<<7),at=le&H,ve=at^le&B^lt,Q=re&Z^~re&ne,me=W+Pe+Q+x[Re+2]+pe[Re+2],Ee=Ce+ve,W=K+me<<0,K=me+Ee<<0,Ce=(K>>>2|K<<30)^(K>>>13|K<<19)^(K>>>22|K<<10),Pe=(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7),dt=K&le,ve=dt^K&H^at,Q=W&re^~W&Z,me=ne+Pe+Q+x[Re+3]+pe[Re+3],Ee=Ce+ve,ne=B+me<<0,B=me+Ee<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+B<<0,this.h1=this.h1+K<<0,this.h2=this.h2+le<<0,this.h3=this.h3+H<<0,this.h4=this.h4+ne<<0,this.h5=this.h5+W<<0,this.h6=this.h6+re<<0,this.h7=this.h7+Z<<0},M.prototype.hex=function(){this.finalize();var B=this.h0,K=this.h1,le=this.h2,H=this.h3,ne=this.h4,W=this.h5,re=this.h6,Z=this.h7,pe=p[B>>>28&15]+p[B>>>24&15]+p[B>>>20&15]+p[B>>>16&15]+p[B>>>12&15]+p[B>>>8&15]+p[B>>>4&15]+p[B&15]+p[K>>>28&15]+p[K>>>24&15]+p[K>>>20&15]+p[K>>>16&15]+p[K>>>12&15]+p[K>>>8&15]+p[K>>>4&15]+p[K&15]+p[le>>>28&15]+p[le>>>24&15]+p[le>>>20&15]+p[le>>>16&15]+p[le>>>12&15]+p[le>>>8&15]+p[le>>>4&15]+p[le&15]+p[H>>>28&15]+p[H>>>24&15]+p[H>>>20&15]+p[H>>>16&15]+p[H>>>12&15]+p[H>>>8&15]+p[H>>>4&15]+p[H&15]+p[ne>>>28&15]+p[ne>>>24&15]+p[ne>>>20&15]+p[ne>>>16&15]+p[ne>>>12&15]+p[ne>>>8&15]+p[ne>>>4&15]+p[ne&15]+p[W>>>28&15]+p[W>>>24&15]+p[W>>>20&15]+p[W>>>16&15]+p[W>>>12&15]+p[W>>>8&15]+p[W>>>4&15]+p[W&15]+p[re>>>28&15]+p[re>>>24&15]+p[re>>>20&15]+p[re>>>16&15]+p[re>>>12&15]+p[re>>>8&15]+p[re>>>4&15]+p[re&15];return this.is224||(pe+=p[Z>>>28&15]+p[Z>>>24&15]+p[Z>>>20&15]+p[Z>>>16&15]+p[Z>>>12&15]+p[Z>>>8&15]+p[Z>>>4&15]+p[Z&15]),pe},M.prototype.toString=M.prototype.hex,M.prototype.digest=function(){this.finalize();var B=this.h0,K=this.h1,le=this.h2,H=this.h3,ne=this.h4,W=this.h5,re=this.h6,Z=this.h7,pe=[B>>>24&255,B>>>16&255,B>>>8&255,B&255,K>>>24&255,K>>>16&255,K>>>8&255,K&255,le>>>24&255,le>>>16&255,le>>>8&255,le&255,H>>>24&255,H>>>16&255,H>>>8&255,H&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255,re>>>24&255,re>>>16&255,re>>>8&255,re&255];return this.is224||pe.push(Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255),pe},M.prototype.array=M.prototype.digest,M.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),K=new DataView(B);return K.setUint32(0,this.h0),K.setUint32(4,this.h1),K.setUint32(8,this.h2),K.setUint32(12,this.h3),K.setUint32(16,this.h4),K.setUint32(20,this.h5),K.setUint32(24,this.h6),this.is224||K.setUint32(28,this.h7),B};function U(B,K,le){var H,ne=typeof B;if(ne==="string"){var W=[],re=B.length,Z=0,pe;for(H=0;H<re;++H)pe=B.charCodeAt(H),pe<128?W[Z++]=pe:pe<2048?(W[Z++]=192|pe>>>6,W[Z++]=128|pe&63):pe<55296||pe>=57344?(W[Z++]=224|pe>>>12,W[Z++]=128|pe>>>6&63,W[Z++]=128|pe&63):(pe=65536+((pe&1023)<<10|B.charCodeAt(++H)&1023),W[Z++]=240|pe>>>18,W[Z++]=128|pe>>>12&63,W[Z++]=128|pe>>>6&63,W[Z++]=128|pe&63);B=W}else if(ne==="object"){if(B===null)throw new Error(e);if(d&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!d||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);B.length>64&&(B=new M(K,!0).update(B).array());var Re=[],Ce=[];for(H=0;H<64;++H){var Pe=B[H]||0;Re[H]=92^Pe,Ce[H]=54^Pe}M.call(this,K,le),this.update(Ce),this.oKeyPad=Re,this.inner=!0,this.sharedMemory=le}U.prototype=new M,U.prototype.finalize=function(){if(M.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();M.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),M.prototype.finalize.call(this)}};var V=C();V.sha256=V,V.sha224=C(!0),V.sha256.hmac=T(),V.sha224.hmac=T(!0),l?t.exports=V:(n.sha256=V.sha256,n.sha224=V.sha224)})()}(zg)),zg.exports}var Lv=dT();const fT=Lv.sha224,s1=({index:t,key:e,fallback:r})=>t[fT(e)]?.value??t[e]?.value??r??e,hT=({index:t,key:e,fallback:r})=>s1({index:t,key:e,fallback:r}),pT=({index:t,key:e,fallback:r})=>s1({index:t,key:e,fallback:r}),Za={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>hT({index:Za.index,key:t,fallback:e}),rich:(t,e)=>pT({index:Za.index,key:t,fallback:e})},o1={hash(t){return Lv.sha224(t)},verify(t,e){return Lv.sha224(t)===e}};var dr;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const a={};for(const l of o)a[l]=l;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),l={};for(const d of a)l[d]=o[d];return t.objectValues(l)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&a.push(l);return a},t.find=(o,a)=>{for(const l of o)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,a=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(dr||(dr={}));var jv;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(jv||(jv={}));const kt=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ro=t=>{switch(typeof t){case"undefined":return kt.undefined;case"string":return kt.string;case"number":return isNaN(t)?kt.nan:kt.number;case"boolean":return kt.boolean;case"function":return kt.function;case"bigint":return kt.bigint;case"symbol":return kt.symbol;case"object":return Array.isArray(t)?kt.array:t===null?kt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?kt.promise:typeof Map<"u"&&t instanceof Map?kt.map:typeof Set<"u"&&t instanceof Set?kt.set:typeof Date<"u"&&t instanceof Date?kt.date:kt.object;default:return kt.unknown}},it=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mT=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class wi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},o=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(o);else if(l.code==="invalid_return_type")o(l.returnTypeError);else if(l.code==="invalid_arguments")o(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let d=n,p=0;for(;p<l.path.length;){const m=l.path[p];p===l.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(r(l))):d[m]=d[m]||{_errors:[]},d=d[m],p++}}};return o(this),n}static assert(e){if(!(e instanceof wi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}wi.create=t=>new wi(t);const hu=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===kt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,dr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:dr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,dr.assertNever(t)}return{message:r}};let a1=hu;function yT(t){a1=t}function Bh(){return a1}const zh=t=>{const{data:e,path:r,errorMaps:n,issueData:o}=t,a=[...r,...o.path||[]],l={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let d="";const p=n.filter(m=>!!m).slice().reverse();for(const m of p)d=m(l,{data:e,defaultError:d}).message;return{...o,path:a,message:d}},gT=[];function xt(t,e){const r=Bh(),n=zh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===hu?void 0:hu].filter(o=>!!o)});t.common.issues.push(n)}class An{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const o of r){if(o.status==="aborted")return Qt;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const o of r){const a=await o.key,l=await o.value;n.push({key:a,value:l})}return An.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const o of r){const{key:a,value:l}=o;if(a.status==="aborted"||l.status==="aborted")return Qt;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||o.alwaysSet)&&(n[a.value]=l.value)}return{status:e.value,value:n}}}const Qt=Object.freeze({status:"aborted"}),Vl=t=>({status:"dirty",value:t}),Bn=t=>({status:"valid",value:t}),Mv=t=>t.status==="aborted",Dv=t=>t.status==="dirty",Xa=t=>t.status==="valid",Kc=t=>typeof Promise<"u"&&t instanceof Promise;function $h(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function l1(t,e,r,n,o){if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Mt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Mt||(Mt={}));var qc,Cc;class Ss{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uS=(t,e)=>{if(Xa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new wi(t.common.issues);return this._error=r,this._error}}};function nr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(l,d)=>{var p,m;const{message:b}=t;return l.code==="invalid_enum_value"?{message:b??d.defaultError}:typeof d.data>"u"?{message:(p=b??n)!==null&&p!==void 0?p:d.defaultError}:l.code!=="invalid_type"?{message:d.defaultError}:{message:(m=b??r)!==null&&m!==void 0?m:d.defaultError}},description:o}}class or{get description(){return this._def.description}_getType(e){return ro(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ro(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new An,ctx:{common:e.parent.common,data:e.data,parsedType:ro(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Kc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ro(e)},a=this._parseSync({data:e,path:o.path,parent:o});return uS(o,a)}"~validate"(e){var r,n;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ro(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:o});return Xa(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((n=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(a=>Xa(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ro(e)},o=this._parse({data:e,path:n.path,parent:n}),a=await (Kc(o)?o:Promise.resolve(o));return uS(n,a)}refine(e,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{const l=e(o),d=()=>a.addIssue({code:it.custom,...n(o)});return typeof Promise<"u"&&l instanceof Promise?l.then(p=>p?!0:(d(),!1)):l?!0:(d(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new ns({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ws.create(this,this._def)}nullable(){return na.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rs.create(this)}promise(){return mu.create(this,this._def)}or(e){return Xc.create([this,e],this._def)}and(e){return Yc.create(this,e,this._def)}transform(e){return new ns({...nr(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new id({...nr(this._def),innerType:this,defaultValue:r,typeName:Ht.ZodDefault})}brand(){return new N_({typeName:Ht.ZodBranded,type:this,...nr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new sd({...nr(this._def),innerType:this,catchValue:r,typeName:Ht.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Nd.create(this,e)}readonly(){return od.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vT=/^c[^\s-]{8,}$/i,_T=/^[0-9a-z]+$/,bT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xT=/^[a-z0-9_-]{21}$/i,ST=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ET=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $g;const qT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,RT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,OT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,IT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,u1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TT=new RegExp(`^${u1}$`);function c1(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function PT(t){return new RegExp(`^${c1(t)}$`)}function d1(t){let e=`${u1}T${c1(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function FT(t,e){return!!((e==="v4"||!e)&&qT.test(t)||(e==="v6"||!e)&&RT.test(t))}function LT(t,e){if(!ST.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function jT(t,e){return!!((e==="v4"||!e)&&CT.test(t)||(e==="v6"||!e)&&OT.test(t))}class ts extends or{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==kt.string){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.string,received:a.parsedType}),Qt}const n=new An;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,d=e.data.length<a.value;(l||d)&&(o=this._getOrReturnCtx(e,o),l?xt(o,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):d&&xt(o,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")NT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"email",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")$g||($g=new RegExp(kT,"u")),$g.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"emoji",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")wT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"uuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")xT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"nanoid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")vT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")_T.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cuid2",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")bT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"ulid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),xt(o,{validation:"url",code:it.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"regex",code:it.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?d1(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?TT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?PT(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?ET.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"duration",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?FT(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"ip",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?LT(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"jwt",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?jT(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cidr",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?AT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"base64",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?IT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"base64url",code:it.invalid_string,message:a.message}),n.dirty()):dr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:it.invalid_string,...Mt.errToObj(n)})}_addCheck(e){return new ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Mt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Mt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Mt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Mt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Mt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Mt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Mt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Mt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Mt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Mt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Mt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Mt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Mt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Mt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Mt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Mt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Mt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Mt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Mt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Mt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Mt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Mt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Mt.errToObj(r)})}nonempty(e){return this.min(1,Mt.errToObj(e))}trim(){return new ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ts.create=t=>{var e;return new ts({checks:[],typeName:Ht.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};function MT(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,a=parseInt(t.toFixed(o).replace(".","")),l=parseInt(e.toFixed(o).replace(".",""));return a%l/Math.pow(10,o)}class ea extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==kt.number){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.number,received:a.parsedType}),Qt}let n;const o=new An;for(const a of this._def.checks)a.kind==="int"?dr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?MT(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_finite,message:a.message}),o.dirty()):dr.assertNever(a);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Mt.toString(r))}setLimit(e,r,n,o){return new ea({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Mt.toString(o)}]})}_addCheck(e){return new ea({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Mt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ea.create=t=>new ea({checks:[],typeName:Ht.ZodNumber,coerce:t?.coerce||!1,...nr(t)});class ta extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==kt.bigint)return this._getInvalidInput(e);let n;const o=new An;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):dr.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:kt.bigint,received:r.parsedType}),Qt}gte(e,r){return this.setLimit("min",e,!0,Mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Mt.toString(r))}setLimit(e,r,n,o){return new ta({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Mt.toString(o)}]})}_addCheck(e){return new ta({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ta.create=t=>{var e;return new ta({checks:[],typeName:Ht.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};class Gc extends or{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==kt.boolean){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.boolean,received:n.parsedType}),Qt}return Bn(e.data)}}Gc.create=t=>new Gc({typeName:Ht.ZodBoolean,coerce:t?.coerce||!1,...nr(t)});class Ya extends or{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==kt.date){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.date,received:a.parsedType}),Qt}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_date}),Qt}const n=new An;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):dr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ya({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Mt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Mt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ya.create=t=>new Ya({checks:[],coerce:t?.coerce||!1,typeName:Ht.ZodDate,...nr(t)});class Uh extends or{_parse(e){if(this._getType(e)!==kt.symbol){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.symbol,received:n.parsedType}),Qt}return Bn(e.data)}}Uh.create=t=>new Uh({typeName:Ht.ZodSymbol,...nr(t)});class Jc extends or{_parse(e){if(this._getType(e)!==kt.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.undefined,received:n.parsedType}),Qt}return Bn(e.data)}}Jc.create=t=>new Jc({typeName:Ht.ZodUndefined,...nr(t)});class Zc extends or{_parse(e){if(this._getType(e)!==kt.null){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.null,received:n.parsedType}),Qt}return Bn(e.data)}}Zc.create=t=>new Zc({typeName:Ht.ZodNull,...nr(t)});class pu extends or{constructor(){super(...arguments),this._any=!0}_parse(e){return Bn(e.data)}}pu.create=t=>new pu({typeName:Ht.ZodAny,...nr(t)});class Qa extends or{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bn(e.data)}}Qa.create=t=>new Qa({typeName:Ht.ZodUnknown,...nr(t)});class lo extends or{_parse(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:kt.never,received:r.parsedType}),Qt}}lo.create=t=>new lo({typeName:Ht.ZodNever,...nr(t)});class Vh extends or{_parse(e){if(this._getType(e)!==kt.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.void,received:n.parsedType}),Qt}return Bn(e.data)}}Vh.create=t=>new Vh({typeName:Ht.ZodVoid,...nr(t)});class rs extends or{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==kt.array)return xt(r,{code:it.invalid_type,expected:kt.array,received:r.parsedType}),Qt;if(o.exactLength!==null){const l=r.data.length>o.exactLength.value,d=r.data.length<o.exactLength.value;(l||d)&&(xt(r,{code:l?it.too_big:it.too_small,minimum:d?o.exactLength.value:void 0,maximum:l?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(xt(r,{code:it.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(xt(r,{code:it.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,d)=>o.type._parseAsync(new Ss(r,l,r.path,d)))).then(l=>An.mergeArray(n,l));const a=[...r.data].map((l,d)=>o.type._parseSync(new Ss(r,l,r.path,d)));return An.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new rs({...this._def,minLength:{value:e,message:Mt.toString(r)}})}max(e,r){return new rs({...this._def,maxLength:{value:e,message:Mt.toString(r)}})}length(e,r){return new rs({...this._def,exactLength:{value:e,message:Mt.toString(r)}})}nonempty(e){return this.min(1,e)}}rs.create=(t,e)=>new rs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...nr(e)});function zl(t){if(t instanceof Gr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ws.create(zl(n))}return new Gr({...t._def,shape:()=>e})}else return t instanceof rs?new rs({...t._def,type:zl(t.element)}):t instanceof ws?ws.create(zl(t.unwrap())):t instanceof na?na.create(zl(t.unwrap())):t instanceof Es?Es.create(t.items.map(e=>zl(e))):t}class Gr extends or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=dr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==kt.object){const m=this._getOrReturnCtx(e);return xt(m,{code:it.invalid_type,expected:kt.object,received:m.parsedType}),Qt}const{status:n,ctx:o}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),d=[];if(!(this._def.catchall instanceof lo&&this._def.unknownKeys==="strip"))for(const m in o.data)l.includes(m)||d.push(m);const p=[];for(const m of l){const b=a[m],x=o.data[m];p.push({key:{status:"valid",value:m},value:b._parse(new Ss(o,x,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof lo){const m=this._def.unknownKeys;if(m==="passthrough")for(const b of d)p.push({key:{status:"valid",value:b},value:{status:"valid",value:o.data[b]}});else if(m==="strict")d.length>0&&(xt(o,{code:it.unrecognized_keys,keys:d}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const b of d){const x=o.data[b];p.push({key:{status:"valid",value:b},value:m._parse(new Ss(o,x,o.path,b)),alwaysSet:b in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const b of p){const x=await b.key,N=await b.value;m.push({key:x,value:N,alwaysSet:b.alwaysSet})}return m}).then(m=>An.mergeObjectSync(n,m)):An.mergeObjectSync(n,p)}get shape(){return this._def.shape()}strict(e){return Mt.errToObj,new Gr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,a,l,d;const p=(l=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(d=Mt.errToObj(e).message)!==null&&d!==void 0?d:p}:{message:p}}}:{}})}strip(){return new Gr({...this._def,unknownKeys:"strip"})}passthrough(){return new Gr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ht.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Gr({...this._def,catchall:e})}pick(e){const r={};return dr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Gr({...this._def,shape:()=>r})}omit(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Gr({...this._def,shape:()=>r})}deepPartial(){return zl(this)}partial(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{const o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new Gr({...this._def,shape:()=>r})}required(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ws;)a=a._def.innerType;r[n]=a}}),new Gr({...this._def,shape:()=>r})}keyof(){return f1(dr.objectKeys(this.shape))}}Gr.create=(t,e)=>new Gr({shape:()=>t,unknownKeys:"strip",catchall:lo.create(),typeName:Ht.ZodObject,...nr(e)});Gr.strictCreate=(t,e)=>new Gr({shape:()=>t,unknownKeys:"strict",catchall:lo.create(),typeName:Ht.ZodObject,...nr(e)});Gr.lazycreate=(t,e)=>new Gr({shape:t,unknownKeys:"strip",catchall:lo.create(),typeName:Ht.ZodObject,...nr(e)});class Xc extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function o(a){for(const d of a)if(d.result.status==="valid")return d.result;for(const d of a)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const l=a.map(d=>new wi(d.ctx.common.issues));return xt(r,{code:it.invalid_union,unionErrors:l}),Qt}if(r.common.async)return Promise.all(n.map(async a=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(o);{let a;const l=[];for(const p of n){const m={...r,common:{...r.common,issues:[]},parent:null},b=p._parseSync({data:r.data,path:r.path,parent:m});if(b.status==="valid")return b;b.status==="dirty"&&!a&&(a={result:b,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const d=l.map(p=>new wi(p));return xt(r,{code:it.invalid_union,unionErrors:d}),Qt}}get options(){return this._def.options}}Xc.create=(t,e)=>new Xc({options:t,typeName:Ht.ZodUnion,...nr(e)});const Ys=t=>t instanceof td?Ys(t.schema):t instanceof ns?Ys(t.innerType()):t instanceof rd?[t.value]:t instanceof ra?t.options:t instanceof nd?dr.objectValues(t.enum):t instanceof id?Ys(t._def.innerType):t instanceof Jc?[void 0]:t instanceof Zc?[null]:t instanceof ws?[void 0,...Ys(t.unwrap())]:t instanceof na?[null,...Ys(t.unwrap())]:t instanceof N_||t instanceof od?Ys(t.unwrap()):t instanceof sd?Ys(t._def.innerType):[];class Pp extends or{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.object)return xt(r,{code:it.invalid_type,expected:kt.object,received:r.parsedType}),Qt;const n=this.discriminator,o=r.data[n],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xt(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const o=new Map;for(const a of r){const l=Ys(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of l){if(o.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);o.set(d,a)}}return new Pp({typeName:Ht.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...nr(n)})}}function Wv(t,e){const r=ro(t),n=ro(e);if(t===e)return{valid:!0,data:t};if(r===kt.object&&n===kt.object){const o=dr.objectKeys(e),a=dr.objectKeys(t).filter(d=>o.indexOf(d)!==-1),l={...t,...e};for(const d of a){const p=Wv(t[d],e[d]);if(!p.valid)return{valid:!1};l[d]=p.data}return{valid:!0,data:l}}else if(r===kt.array&&n===kt.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const l=t[a],d=e[a],p=Wv(l,d);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return r===kt.date&&n===kt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Yc extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=(a,l)=>{if(Mv(a)||Mv(l))return Qt;const d=Wv(a.value,l.value);return d.valid?((Dv(a)||Dv(l))&&r.dirty(),{status:r.value,value:d.data}):(xt(n,{code:it.invalid_intersection_types}),Qt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,l])=>o(a,l)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Yc.create=(t,e,r)=>new Yc({left:t,right:e,typeName:Ht.ZodIntersection,...nr(r)});class Es extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.array)return xt(n,{code:it.invalid_type,expected:kt.array,received:n.parsedType}),Qt;if(n.data.length<this._def.items.length)return xt(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qt;!this._def.rest&&n.data.length>this._def.items.length&&(xt(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,d)=>{const p=this._def.items[d]||this._def.rest;return p?p._parse(new Ss(n,l,n.path,d)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>An.mergeArray(r,l)):An.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Es({...this._def,rest:e})}}Es.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Es({items:t,typeName:Ht.ZodTuple,rest:null,...nr(e)})};class ed extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.object)return xt(n,{code:it.invalid_type,expected:kt.object,received:n.parsedType}),Qt;const o=[],a=this._def.keyType,l=this._def.valueType;for(const d in n.data)o.push({key:a._parse(new Ss(n,d,n.path,d)),value:l._parse(new Ss(n,n.data[d],n.path,d)),alwaysSet:d in n.data});return n.common.async?An.mergeObjectAsync(r,o):An.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof or?new ed({keyType:e,valueType:r,typeName:Ht.ZodRecord,...nr(n)}):new ed({keyType:ts.create(),valueType:e,typeName:Ht.ZodRecord,...nr(r)})}}class Hh extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.map)return xt(n,{code:it.invalid_type,expected:kt.map,received:n.parsedType}),Qt;const o=this._def.keyType,a=this._def.valueType,l=[...n.data.entries()].map(([d,p],m)=>({key:o._parse(new Ss(n,d,n.path,[m,"key"])),value:a._parse(new Ss(n,p,n.path,[m,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const p of l){const m=await p.key,b=await p.value;if(m.status==="aborted"||b.status==="aborted")return Qt;(m.status==="dirty"||b.status==="dirty")&&r.dirty(),d.set(m.value,b.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const p of l){const m=p.key,b=p.value;if(m.status==="aborted"||b.status==="aborted")return Qt;(m.status==="dirty"||b.status==="dirty")&&r.dirty(),d.set(m.value,b.value)}return{status:r.value,value:d}}}}Hh.create=(t,e,r)=>new Hh({valueType:e,keyType:t,typeName:Ht.ZodMap,...nr(r)});class el extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.set)return xt(n,{code:it.invalid_type,expected:kt.set,received:n.parsedType}),Qt;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(xt(n,{code:it.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(xt(n,{code:it.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const a=this._def.valueType;function l(p){const m=new Set;for(const b of p){if(b.status==="aborted")return Qt;b.status==="dirty"&&r.dirty(),m.add(b.value)}return{status:r.value,value:m}}const d=[...n.data.values()].map((p,m)=>a._parse(new Ss(n,p,n.path,m)));return n.common.async?Promise.all(d).then(p=>l(p)):l(d)}min(e,r){return new el({...this._def,minSize:{value:e,message:Mt.toString(r)}})}max(e,r){return new el({...this._def,maxSize:{value:e,message:Mt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}el.create=(t,e)=>new el({valueType:t,minSize:null,maxSize:null,typeName:Ht.ZodSet,...nr(e)});class Yl extends or{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.function)return xt(r,{code:it.invalid_type,expected:kt.function,received:r.parsedType}),Qt;function n(d,p){return zh({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Bh(),hu].filter(m=>!!m),issueData:{code:it.invalid_arguments,argumentsError:p}})}function o(d,p){return zh({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Bh(),hu].filter(m=>!!m),issueData:{code:it.invalid_return_type,returnTypeError:p}})}const a={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof mu){const d=this;return Bn(async function(...p){const m=new wi([]),b=await d._def.args.parseAsync(p,a).catch(q=>{throw m.addIssue(n(p,q)),m}),x=await Reflect.apply(l,this,b);return await d._def.returns._def.type.parseAsync(x,a).catch(q=>{throw m.addIssue(o(x,q)),m})})}else{const d=this;return Bn(function(...p){const m=d._def.args.safeParse(p,a);if(!m.success)throw new wi([n(p,m.error)]);const b=Reflect.apply(l,this,m.data),x=d._def.returns.safeParse(b,a);if(!x.success)throw new wi([o(b,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Yl({...this._def,args:Es.create(e).rest(Qa.create())})}returns(e){return new Yl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Yl({args:e||Es.create([]).rest(Qa.create()),returns:r||Qa.create(),typeName:Ht.ZodFunction,...nr(n)})}}class td extends or{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}td.create=(t,e)=>new td({getter:t,typeName:Ht.ZodLazy,...nr(e)});class rd extends or{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),Qt}return{status:"valid",value:e.data}}get value(){return this._def.value}}rd.create=(t,e)=>new rd({value:t,typeName:Ht.ZodLiteral,...nr(e)});function f1(t,e){return new ra({values:t,typeName:Ht.ZodEnum,...nr(e)})}class ra extends or{constructor(){super(...arguments),qc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{expected:dr.joinValues(n),received:r.parsedType,code:it.invalid_type}),Qt}if($h(this,qc)||l1(this,qc,new Set(this._def.values)),!$h(this,qc).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{received:r.data,code:it.invalid_enum_value,options:n}),Qt}return Bn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ra.create(e,{...this._def,...r})}exclude(e,r=this._def){return ra.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}qc=new WeakMap;ra.create=f1;class nd extends or{constructor(){super(...arguments),Cc.set(this,void 0)}_parse(e){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==kt.string&&n.parsedType!==kt.number){const o=dr.objectValues(r);return xt(n,{expected:dr.joinValues(o),received:n.parsedType,code:it.invalid_type}),Qt}if($h(this,Cc)||l1(this,Cc,new Set(dr.getValidEnumValues(this._def.values))),!$h(this,Cc).has(e.data)){const o=dr.objectValues(r);return xt(n,{received:n.data,code:it.invalid_enum_value,options:o}),Qt}return Bn(e.data)}get enum(){return this._def.values}}Cc=new WeakMap;nd.create=(t,e)=>new nd({values:t,typeName:Ht.ZodNativeEnum,...nr(e)});class mu extends or{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.promise&&r.common.async===!1)return xt(r,{code:it.invalid_type,expected:kt.promise,received:r.parsedType}),Qt;const n=r.parsedType===kt.promise?r.data:Promise.resolve(r.data);return Bn(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}mu.create=(t,e)=>new mu({type:t,typeName:Ht.ZodPromise,...nr(e)});class ns extends or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:l=>{xt(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const l=o.transform(n.data,a);if(n.common.async)return Promise.resolve(l).then(async d=>{if(r.value==="aborted")return Qt;const p=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return p.status==="aborted"?Qt:p.status==="dirty"||r.value==="dirty"?Vl(p.value):p});{if(r.value==="aborted")return Qt;const d=this._def.schema._parseSync({data:l,path:n.path,parent:n});return d.status==="aborted"?Qt:d.status==="dirty"||r.value==="dirty"?Vl(d.value):d}}if(o.type==="refinement"){const l=d=>{const p=o.refinement(d,a);if(n.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?Qt:(d.status==="dirty"&&r.dirty(),l(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?Qt:(d.status==="dirty"&&r.dirty(),l(d.value).then(()=>({status:r.value,value:d.value}))))}if(o.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xa(l))return l;const d=o.transform(l.value,a);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>Xa(l)?Promise.resolve(o.transform(l.value,a)).then(d=>({status:r.value,value:d})):l);dr.assertNever(o)}}ns.create=(t,e,r)=>new ns({schema:t,typeName:Ht.ZodEffects,effect:e,...nr(r)});ns.createWithPreprocess=(t,e,r)=>new ns({schema:e,effect:{type:"preprocess",transform:t},typeName:Ht.ZodEffects,...nr(r)});class ws extends or{_parse(e){return this._getType(e)===kt.undefined?Bn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ws.create=(t,e)=>new ws({innerType:t,typeName:Ht.ZodOptional,...nr(e)});class na extends or{_parse(e){return this._getType(e)===kt.null?Bn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}na.create=(t,e)=>new na({innerType:t,typeName:Ht.ZodNullable,...nr(e)});class id extends or{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===kt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}id.create=(t,e)=>new id({innerType:t,typeName:Ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nr(e)});class sd extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kc(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new wi(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new wi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}sd.create=(t,e)=>new sd({innerType:t,typeName:Ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nr(e)});class Qh extends or{_parse(e){if(this._getType(e)!==kt.nan){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.nan,received:n.parsedType}),Qt}return{status:"valid",value:e.data}}}Qh.create=t=>new Qh({typeName:Ht.ZodNaN,...nr(t)});const DT=Symbol("zod_brand");class N_ extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Nd extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Qt:a.status==="dirty"?(r.dirty(),Vl(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Qt:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new Nd({in:e,out:r,typeName:Ht.ZodPipeline})}}class od extends or{_parse(e){const r=this._def.innerType._parse(e),n=o=>(Xa(o)&&(o.value=Object.freeze(o.value)),o);return Kc(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}od.create=(t,e)=>new od({innerType:t,typeName:Ht.ZodReadonly,...nr(e)});function h1(t,e={},r){return t?pu.create().superRefine((n,o)=>{var a,l;if(!t(n)){const d=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,p=(l=(a=d.fatal)!==null&&a!==void 0?a:r)!==null&&l!==void 0?l:!0,m=typeof d=="string"?{message:d}:d;o.addIssue({code:"custom",...m,fatal:p})}}):pu.create()}const WT={object:Gr.lazycreate};var Ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const BT=(t,e={message:`Input not instance of ${t.name}`})=>h1(r=>r instanceof t,e),p1=ts.create,m1=ea.create,zT=Qh.create,$T=ta.create,y1=Gc.create,UT=Ya.create,VT=Uh.create,HT=Jc.create,QT=Zc.create,KT=pu.create,GT=Qa.create,JT=lo.create,ZT=Vh.create,XT=rs.create,YT=Gr.create,eP=Gr.strictCreate,tP=Xc.create,rP=Pp.create,nP=Yc.create,iP=Es.create,sP=ed.create,oP=Hh.create,aP=el.create,lP=Yl.create,uP=td.create,cP=rd.create,dP=ra.create,fP=nd.create,hP=mu.create,cS=ns.create,pP=ws.create,mP=na.create,yP=ns.createWithPreprocess,gP=Nd.create,vP=()=>p1().optional(),_P=()=>m1().optional(),bP=()=>y1().optional(),wP={string:t=>ts.create({...t,coerce:!0}),number:t=>ea.create({...t,coerce:!0}),boolean:t=>Gc.create({...t,coerce:!0}),bigint:t=>ta.create({...t,coerce:!0}),date:t=>Ya.create({...t,coerce:!0})},xP=Qt;var Ue=Object.freeze({__proto__:null,defaultErrorMap:hu,setErrorMap:yT,getErrorMap:Bh,makeIssue:zh,EMPTY_PATH:gT,addIssueToContext:xt,ParseStatus:An,INVALID:Qt,DIRTY:Vl,OK:Bn,isAborted:Mv,isDirty:Dv,isValid:Xa,isAsync:Kc,get util(){return dr},get objectUtil(){return jv},ZodParsedType:kt,getParsedType:ro,ZodType:or,datetimeRegex:d1,ZodString:ts,ZodNumber:ea,ZodBigInt:ta,ZodBoolean:Gc,ZodDate:Ya,ZodSymbol:Uh,ZodUndefined:Jc,ZodNull:Zc,ZodAny:pu,ZodUnknown:Qa,ZodNever:lo,ZodVoid:Vh,ZodArray:rs,ZodObject:Gr,ZodUnion:Xc,ZodDiscriminatedUnion:Pp,ZodIntersection:Yc,ZodTuple:Es,ZodRecord:ed,ZodMap:Hh,ZodSet:el,ZodFunction:Yl,ZodLazy:td,ZodLiteral:rd,ZodEnum:ra,ZodNativeEnum:nd,ZodPromise:mu,ZodEffects:ns,ZodTransformer:ns,ZodOptional:ws,ZodNullable:na,ZodDefault:id,ZodCatch:sd,ZodNaN:Qh,BRAND:DT,ZodBranded:N_,ZodPipeline:Nd,ZodReadonly:od,custom:h1,Schema:or,ZodSchema:or,late:WT,get ZodFirstPartyTypeKind(){return Ht},coerce:wP,any:KT,array:XT,bigint:$T,boolean:y1,date:UT,discriminatedUnion:rP,effect:cS,enum:dP,function:lP,instanceof:BT,intersection:nP,lazy:uP,literal:cP,map:oP,nan:zT,nativeEnum:fP,never:JT,null:QT,nullable:mP,number:m1,object:YT,oboolean:bP,onumber:_P,optional:pP,ostring:vP,pipeline:gP,preprocess:yP,promise:hP,record:sP,set:aP,strictObject:eP,string:p1,symbol:VT,transformer:cS,tuple:iP,undefined:HT,union:tP,unknown:GT,void:ZT,NEVER:xP,ZodIssueCode:it,quotelessJson:mT,ZodError:wi}),Ll={},Js={},Tr={},Gi={},dS;function g1(){if(dS)return Gi;dS=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.anumber=t,Gi.number=t,Gi.abytes=r,Gi.bytes=r,Gi.ahash=n,Gi.aexists=o,Gi.aoutput=a;function t(d){if(!Number.isSafeInteger(d)||d<0)throw new Error("positive integer expected, got "+d)}function e(d){return d instanceof Uint8Array||ArrayBuffer.isView(d)&&d.constructor.name==="Uint8Array"}function r(d,...p){if(!e(d))throw new Error("Uint8Array expected");if(p.length>0&&!p.includes(d.length))throw new Error("Uint8Array expected of length "+p+", got length="+d.length)}function n(d){if(typeof d!="function"||typeof d.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(d.outputLen),t(d.blockLen)}function o(d,p=!0){if(d.destroyed)throw new Error("Hash instance has been destroyed");if(p&&d.finished)throw new Error("Hash#digest() has already been called")}function a(d,p){r(d);const m=p.outputLen;if(d.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:r,hash:n,exists:o,output:a};return Gi.default=l,Gi}var Zt={},fS;function SP(){if(fS)return Zt;fS=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.add5L=Zt.add5H=Zt.add4H=Zt.add4L=Zt.add3H=Zt.add3L=Zt.rotlBL=Zt.rotlBH=Zt.rotlSL=Zt.rotlSH=Zt.rotr32L=Zt.rotr32H=Zt.rotrBL=Zt.rotrBH=Zt.rotrSL=Zt.rotrSH=Zt.shrSL=Zt.shrSH=Zt.toBig=void 0,Zt.fromBig=r,Zt.split=n,Zt.add=P;const t=BigInt(2**32-1),e=BigInt(32);function r(H,ne=!1){return ne?{h:Number(H&t),l:Number(H>>e&t)}:{h:Number(H>>e&t)|0,l:Number(H&t)|0}}function n(H,ne=!1){let W=new Uint32Array(H.length),re=new Uint32Array(H.length);for(let Z=0;Z<H.length;Z++){const{h:pe,l:Re}=r(H[Z],ne);[W[Z],re[Z]]=[pe,Re]}return[W,re]}const o=(H,ne)=>BigInt(H>>>0)<<e|BigInt(ne>>>0);Zt.toBig=o;const a=(H,ne,W)=>H>>>W;Zt.shrSH=a;const l=(H,ne,W)=>H<<32-W|ne>>>W;Zt.shrSL=l;const d=(H,ne,W)=>H>>>W|ne<<32-W;Zt.rotrSH=d;const p=(H,ne,W)=>H<<32-W|ne>>>W;Zt.rotrSL=p;const m=(H,ne,W)=>H<<64-W|ne>>>W-32;Zt.rotrBH=m;const b=(H,ne,W)=>H>>>W-32|ne<<64-W;Zt.rotrBL=b;const x=(H,ne)=>ne;Zt.rotr32H=x;const N=(H,ne)=>H;Zt.rotr32L=N;const q=(H,ne,W)=>H<<W|ne>>>32-W;Zt.rotlSH=q;const R=(H,ne,W)=>ne<<W|H>>>32-W;Zt.rotlSL=R;const C=(H,ne,W)=>ne<<W-32|H>>>64-W;Zt.rotlBH=C;const L=(H,ne,W)=>H<<W-32|ne>>>64-W;Zt.rotlBL=L;function P(H,ne,W,re){const Z=(ne>>>0)+(re>>>0);return{h:H+W+(Z/2**32|0)|0,l:Z|0}}const T=(H,ne,W)=>(H>>>0)+(ne>>>0)+(W>>>0);Zt.add3L=T;const M=(H,ne,W,re)=>ne+W+re+(H/2**32|0)|0;Zt.add3H=M;const U=(H,ne,W,re)=>(H>>>0)+(ne>>>0)+(W>>>0)+(re>>>0);Zt.add4L=U;const V=(H,ne,W,re,Z)=>ne+W+re+Z+(H/2**32|0)|0;Zt.add4H=V;const B=(H,ne,W,re,Z)=>(H>>>0)+(ne>>>0)+(W>>>0)+(re>>>0)+(Z>>>0);Zt.add5L=B;const K=(H,ne,W,re,Z,pe)=>ne+W+re+Z+pe+(H/2**32|0)|0;Zt.add5H=K;const le={fromBig:r,split:n,toBig:o,shrSH:a,shrSL:l,rotrSH:d,rotrSL:p,rotrBH:m,rotrBL:b,rotr32H:x,rotr32L:N,rotlSH:q,rotlSL:R,rotlBH:C,rotlBL:L,add:P,add3L:T,add3H:M,add4L:U,add4H:V,add5H:K,add5L:B};return Zt.default=le,Zt}var Ug={},xc={},hS;function EP(){return hS||(hS=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.crypto=void 0,xc.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),xc}var pS;function NP(){return pS||(pS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=n,t.byteSwap32=b,t.bytesToHex=N,t.hexToBytes=C,t.asyncLoop=P,t.utf8ToBytes=T,t.toBytes=M,t.concatBytes=U,t.checkOpts=B,t.wrapConstructor=K,t.wrapConstructorWithOpts=le,t.wrapXOFConstructorWithOpts=H,t.randomBytes=ne;const e=EP(),r=g1();function n(W){return W instanceof Uint8Array||ArrayBuffer.isView(W)&&W.constructor.name==="Uint8Array"}const o=W=>new Uint8Array(W.buffer,W.byteOffset,W.byteLength);t.u8=o;const a=W=>new Uint32Array(W.buffer,W.byteOffset,Math.floor(W.byteLength/4));t.u32=a;const l=W=>new DataView(W.buffer,W.byteOffset,W.byteLength);t.createView=l;const d=(W,re)=>W<<32-re|W>>>re;t.rotr=d;const p=(W,re)=>W<<re|W>>>32-re>>>0;t.rotl=p,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=W=>W<<24&0xff000000|W<<8&0xff0000|W>>>8&65280|W>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?W=>W:W=>(0,t.byteSwap)(W);function b(W){for(let re=0;re<W.length;re++)W[re]=(0,t.byteSwap)(W[re])}const x=Array.from({length:256},(W,re)=>re.toString(16).padStart(2,"0"));function N(W){(0,r.abytes)(W);let re="";for(let Z=0;Z<W.length;Z++)re+=x[W[Z]];return re}const q={_0:48,_9:57,A:65,F:70,a:97,f:102};function R(W){if(W>=q._0&&W<=q._9)return W-q._0;if(W>=q.A&&W<=q.F)return W-(q.A-10);if(W>=q.a&&W<=q.f)return W-(q.a-10)}function C(W){if(typeof W!="string")throw new Error("hex string expected, got "+typeof W);const re=W.length,Z=re/2;if(re%2)throw new Error("hex string expected, got unpadded hex of length "+re);const pe=new Uint8Array(Z);for(let Re=0,Ce=0;Re<Z;Re++,Ce+=2){const Pe=R(W.charCodeAt(Ce)),ve=R(W.charCodeAt(Ce+1));if(Pe===void 0||ve===void 0){const me=W[Ce]+W[Ce+1];throw new Error('hex string expected, got non-hex character "'+me+'" at index '+Ce)}pe[Re]=Pe*16+ve}return pe}const L=async()=>{};t.nextTick=L;async function P(W,re,Z){let pe=Date.now();for(let Re=0;Re<W;Re++){Z(Re);const Ce=Date.now()-pe;Ce>=0&&Ce<re||(await (0,t.nextTick)(),pe+=Ce)}}function T(W){if(typeof W!="string")throw new Error("utf8ToBytes expected string, got "+typeof W);return new Uint8Array(new TextEncoder().encode(W))}function M(W){return typeof W=="string"&&(W=T(W)),(0,r.abytes)(W),W}function U(...W){let re=0;for(let pe=0;pe<W.length;pe++){const Re=W[pe];(0,r.abytes)(Re),re+=Re.length}const Z=new Uint8Array(re);for(let pe=0,Re=0;pe<W.length;pe++){const Ce=W[pe];Z.set(Ce,Re),Re+=Ce.length}return Z}class V{clone(){return this._cloneInto()}}t.Hash=V;function B(W,re){if(re!==void 0&&{}.toString.call(re)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(W,re)}function K(W){const re=pe=>W().update(M(pe)).digest(),Z=W();return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=()=>W(),re}function le(W){const re=(pe,Re)=>W(Re).update(M(pe)).digest(),Z=W({});return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=pe=>W(pe),re}function H(W){const re=(pe,Re)=>W(Re).update(M(pe)).digest(),Z=W({});return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=pe=>W(pe),re}function ne(W=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(W));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(W);throw new Error("crypto.getRandomValues must be defined")}}(Ug)),Ug}var mS;function kP(){if(mS)return Tr;mS=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.shake256=Tr.shake128=Tr.keccak_512=Tr.keccak_384=Tr.keccak_256=Tr.keccak_224=Tr.sha3_512=Tr.sha3_384=Tr.sha3_256=Tr.sha3_224=Tr.Keccak=void 0,Tr.keccakP=L;const t=g1(),e=SP(),r=NP(),n=[],o=[],a=[],l=BigInt(0),d=BigInt(1),p=BigInt(2),m=BigInt(7),b=BigInt(256),x=BigInt(113);for(let U=0,V=d,B=1,K=0;U<24;U++){[B,K]=[K,(2*B+3*K)%5],n.push(2*(5*K+B)),o.push((U+1)*(U+2)/2%64);let le=l;for(let H=0;H<7;H++)V=(V<<d^(V>>m)*x)%b,V&p&&(le^=d<<(d<<BigInt(H))-d);a.push(le)}const[N,q]=(0,e.split)(a,!0),R=(U,V,B)=>B>32?(0,e.rotlBH)(U,V,B):(0,e.rotlSH)(U,V,B),C=(U,V,B)=>B>32?(0,e.rotlBL)(U,V,B):(0,e.rotlSL)(U,V,B);function L(U,V=24){const B=new Uint32Array(10);for(let K=24-V;K<24;K++){for(let ne=0;ne<10;ne++)B[ne]=U[ne]^U[ne+10]^U[ne+20]^U[ne+30]^U[ne+40];for(let ne=0;ne<10;ne+=2){const W=(ne+8)%10,re=(ne+2)%10,Z=B[re],pe=B[re+1],Re=R(Z,pe,1)^B[W],Ce=C(Z,pe,1)^B[W+1];for(let Pe=0;Pe<50;Pe+=10)U[ne+Pe]^=Re,U[ne+Pe+1]^=Ce}let le=U[2],H=U[3];for(let ne=0;ne<24;ne++){const W=o[ne],re=R(le,H,W),Z=C(le,H,W),pe=n[ne];le=U[pe],H=U[pe+1],U[pe]=re,U[pe+1]=Z}for(let ne=0;ne<50;ne+=10){for(let W=0;W<10;W++)B[W]=U[ne+W];for(let W=0;W<10;W++)U[ne+W]^=~B[(W+2)%10]&B[(W+4)%10]}U[0]^=N[K],U[1]^=q[K]}B.fill(0)}class P extends r.Hash{constructor(V,B,K,le=!1,H=24){if(super(),this.blockLen=V,this.suffix=B,this.outputLen=K,this.enableXOF=le,this.rounds=H,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(K),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),L(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(V){(0,t.aexists)(this);const{blockLen:B,state:K}=this;V=(0,r.toBytes)(V);const le=V.length;for(let H=0;H<le;){const ne=Math.min(B-this.pos,le-H);for(let W=0;W<ne;W++)K[this.pos++]^=V[H++];this.pos===B&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:V,suffix:B,pos:K,blockLen:le}=this;V[K]^=B,B&128&&K===le-1&&this.keccak(),V[le-1]^=128,this.keccak()}writeInto(V){(0,t.aexists)(this,!1),(0,t.abytes)(V),this.finish();const B=this.state,{blockLen:K}=this;for(let le=0,H=V.length;le<H;){this.posOut>=K&&this.keccak();const ne=Math.min(K-this.posOut,H-le);V.set(B.subarray(this.posOut,this.posOut+ne),le),this.posOut+=ne,le+=ne}return V}xofInto(V){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(V)}xof(V){return(0,t.anumber)(V),this.xofInto(new Uint8Array(V))}digestInto(V){if((0,t.aoutput)(V,this),this.finished)throw new Error("digest() was already called");return this.writeInto(V),this.destroy(),V}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(V){const{blockLen:B,suffix:K,outputLen:le,rounds:H,enableXOF:ne}=this;return V||(V=new P(B,K,le,ne,H)),V.state32.set(this.state32),V.pos=this.pos,V.posOut=this.posOut,V.finished=this.finished,V.rounds=H,V.suffix=K,V.outputLen=le,V.enableXOF=ne,V.destroyed=this.destroyed,V}}Tr.Keccak=P;const T=(U,V,B)=>(0,r.wrapConstructor)(()=>new P(V,U,B));Tr.sha3_224=T(6,144,224/8),Tr.sha3_256=T(6,136,256/8),Tr.sha3_384=T(6,104,384/8),Tr.sha3_512=T(6,72,512/8),Tr.keccak_224=T(1,144,224/8),Tr.keccak_256=T(1,136,256/8),Tr.keccak_384=T(1,104,384/8),Tr.keccak_512=T(1,72,512/8);const M=(U,V,B)=>(0,r.wrapXOFConstructorWithOpts)((K={})=>new P(V,U,K.dkLen===void 0?B:K.dkLen,!0));return Tr.shake128=M(31,168,128/8),Tr.shake256=M(31,136,256/8),Tr}var yS;function qP(){if(yS)return Js;yS=1;const{sha3_512:t}=kP(),e=24,r=32,n=(R=4,C=Math.random)=>{let L="";for(;L.length<R;)L=L+Math.floor(C()*36).toString(36);return L};function o(R){let C=8n,L=0n;for(const P of R.values()){const T=BigInt(P);L=(L<<C)+T}return L}const a=(R="")=>o(t(R)).toString(36).slice(1),l=Array.from({length:26},(R,C)=>String.fromCharCode(C+97)),d=R=>l[Math.floor(R()*l.length)],p=({globalObj:R=typeof gv<"u"?gv:typeof window<"u"?window:{},random:C=Math.random}={})=>{const L=Object.keys(R).toString(),P=L.length?L+n(r,C):n(r,C);return a(P).substring(0,r)},m=R=>()=>R++,b=0x1c6b1f1f,x=({random:R=Math.random,counter:C=m(Math.floor(R()*b)),length:L=e,fingerprint:P=p({random:R})}={})=>function(){const M=d(R),U=Date.now().toString(36),V=C().toString(36),B=n(L,R),K=`${U+B+V+P}`;return`${M+a(K).substring(1,L)}`},N=x(),q=(R,{minLength:C=2,maxLength:L=r}={})=>{const P=R.length,T=/^[0-9a-z]+$/;try{if(typeof R=="string"&&P>=C&&P<=L&&T.test(R))return!0}finally{}return!1};return Js.getConstants=()=>({defaultLength:e,bigLength:r}),Js.init=x,Js.createId=N,Js.bufToBigInt=o,Js.createCounter=m,Js.createFingerprint=p,Js.isCuid=q,Js}var gS;function CP(){if(gS)return Ll;gS=1;const{createId:t,init:e,getConstants:r,isCuid:n}=qP();return Ll.createId=t,Ll.init=e,Ll.getConstants=r,Ll.isCuid=n,Ll}var RP=CP();const OP=RP.createId,AP=({schema:t,meta:e,toOutput:r=async({entity:N})=>N,toCreate:n=async({entity:N})=>N,toPatch:o=async({entity:N})=>N,insert:a,update:l,remove:d,select:p,applyWhere:m=({select:N})=>N,applyFilter:b=({select:N})=>N,event:x})=>{const N=({where:P,select:T})=>{let M=T;for(const[U,V]of Object.entries(e.where))P?.[U]!==void 0&&(["idIn","fulltext"].includes(U)||(M=P?.[U]===null?M.where(V,"is",null):M.where(V,"=",P[U])));if(P?.idIn&&(M=M.where("id","in",P.idIn)),e?.fulltext&&P?.fulltext){const U=P.fulltext.toLowerCase();M=M.where(V=>V.or(e.fulltext?.map(B=>V(B,"like",`%${U}%`))||[]))}return M},q=({where:P,select:T,apply:M=["where","filter","cursor","sort"]})=>M.includes("where")?m({where:P,select:N({select:T,where:P,apply:M}),apply:M}):T,R=({where:P,select:T,apply:M=["where","filter","cursor","sort"]})=>M.includes("filter")?b({where:P,select:N({select:T,where:P,apply:M}),apply:M}):T,C=({query:{where:P,filter:T,cursor:M={page:0,size:10}},select:U,apply:V=["where","filter","cursor","sort"]})=>{let B=R({where:T,select:q({select:U,where:P,apply:V}),apply:V});return V.includes("cursor")&&(B=B.limit(M.size).offset(M.page*M.size)),B},L={schema:t,async create({entity:P,shape:T}){const M=OP();await x?.onPreCreate?.({entity:P,shape:T}),await a({}).values(t.entity.parse({...await n({entity:P,shape:T}),id:M})).execute();const U=await L.fetchOrThrow({query:{where:{id:M}}});return await x?.onPostCreate?.({entity:U,shape:T}),U},async patch({entity:P,shape:T,filter:M}){const U=await L.fetchOrThrow({query:{where:M}});if(!U)throw new Error("Cannot patch an unknown entity (empty query result).");await x?.onPrePatch?.({entity:P,shape:T}),await l({}).set(t.entity.partial().parse(await o({entity:P,shape:T}))).where("id","=",U.id).execute();const V=await L.fetchOrThrow({query:{where:{id:U.id}}});return await x?.onPostPatch?.({entity:V,shape:T}),V},async remove({idIn:P}){if(!P||P?.length===0){console.log("nothing to remove");return}return d({}).where("id","in",P).execute()},async fetch({query:P}){const T=await C({query:P,select:p({query:P})}).executeTakeFirst();if(T)return(t.output??t.entity).parse(await r({entity:t.entity.parse(T)}))},async fetchOrThrow({query:P}){return(t.output??t.entity).parse(await r({entity:t.entity.parse(await C({query:P,select:p({query:P})}).executeTakeFirstOrThrow())}))},async list({query:P}){const T=t.output??t.entity;return Promise.all(Ue.array(t.entity).parse(await C({query:P,select:p({query:P})}).execute()).map(async M=>T.parse(await r({entity:M}))))},async count({query:P}){return{total:(await C({query:{},select:p({query:P}).select([T=>T.fn.countAll().as("count")]),apply:[]}).executeTakeFirst()).count,where:(await C({query:{where:P.where},select:p({query:P}).select([T=>T.fn.countAll().as("count")]),apply:["where"]}).executeTakeFirst()).count,filter:(await C({query:{where:P.where,filter:P.filter},select:p({query:P}).select([T=>T.fn.countAll().as("count")]),apply:["filter","where"]}).executeTakeFirst()).count}}};return L},As=({entity:t,output:e=t,shape:r,filter:n})=>({entity:t,output:e,shape:r,filter:n}),IP=Ue.object({page:Ue.number().gte(0,"Page must be greater than zero"),size:Ue.number().gte(1,"Page size must be greater than one to get any data")}),Is=Ue.object({id:Ue.string().min(1)}),k_=Ue.object({message:Ue.string()}),Ts=Ue.object({id:Ue.string().nullish(),idIn:Ue.array(Ue.string()).nullish(),fulltext:Ue.string().nullish()}),TP=Is.merge(Ue.object({code:Ue.string().min(1),label:Ue.string().min(1),group:Ue.string().nullish(),sort:Ue.number().default(0)})),ca=t=>{const e="input"in t?t.input:"input",r="output"in t?t.output:"output",n="schema"in t?t.schema._input:t._input,o="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?o:n,output:r==="input"?n:o},parse:a=>"schema"in t?t.schema.parse(a):t.parse(a)}},Xf=(t,e)=>Ue.custom().pipe(t.catch(e)),da=({filter:t})=>Ue.object({global:Xf(t.optional(),{fulltext:""}).default({fulltext:""}),filter:Xf(t.optional(),void 0),cursor:Xf(IP,{page:0,size:15}).default({page:0,size:15}),selection:Xf(Ue.array(Ue.string()),[]).default([])}),Lo=(t,e)=>Array.from({length:e-t+1},(r,n)=>n+t),PP=({page:t,total:e,siblings:r=1,boundaries:n=1})=>{const o=Math.max(Math.trunc(e),0);if(r*2+3+n*2>=o)return{type:"simple",page:t,total:e,pages:Lo(1,o),start:[],end:[]};const l=Math.max(t-r,n),d=Math.min(t+r,o-n),p=l>n+2,m=d<o-(n+1);return!p&&m?{type:"end",page:t,total:e,start:[],pages:Lo(1,r*2+n+2),end:Lo(e-(n-1),o)}:p&&!m?{type:"start",page:t,total:e,start:Lo(1,n),pages:Lo(e-(n+1+2*r),o),end:[]}:{type:"both",page:t,total:e,start:Lo(1,n),pages:Lo(l,d),end:Lo(o-n+1,o)}};var gh={exports:{}},FP=gh.exports,vS;function LP(){return vS||(vS=1,function(t){(function(e,r){t.exports=r()})(FP,function(){var e=Object.prototype.toString;function r(x,N){return x==null?!1:Object.prototype.hasOwnProperty.call(x,N)}function n(x){if(!x||l(x)&&x.length===0)return!0;if(typeof x!="string"){for(var N in x)if(r(x,N))return!1;return!0}return!1}function o(x){return e.call(x)}function a(x){return typeof x=="object"&&o(x)==="[object Object]"}var l=Array.isArray||function(x){return e.call(x)==="[object Array]"};function d(x){return typeof x=="boolean"||o(x)==="[object Boolean]"}function p(x){var N=parseInt(x);return N.toString()===x?N:x}function m(x){x=x||{};var N=function(P){return Object.keys(N).reduce(function(T,M){return M==="create"||typeof N[M]=="function"&&(T[M]=N[M].bind(N,P)),T},{})},q;x.includeInheritedProps?q=function(){return!0}:q=function(P,T){return typeof T=="number"&&Array.isArray(P)||r(P,T)};function R(P,T){if(q(P,T))return P[T]}var C;x.includeInheritedProps?C=function(P,T){typeof T!="string"&&typeof T!="number"&&(T=String(T));var M=R(P,T);if(T==="__proto__"||T==="prototype"||T==="constructor"&&typeof M=="function")throw new Error("For security reasons, object's magic properties cannot be set");return M}:C=function(P,T){return R(P,T)};function L(P,T,M,U){if(typeof T=="number"&&(T=[T]),!T||T.length===0)return P;if(typeof T=="string")return L(P,T.split(".").map(p),M,U);var V=T[0],B=C(P,V);return T.length===1?((B===void 0||!U)&&(P[V]=M),B):(B===void 0&&(typeof T[1]=="number"?P[V]=[]:P[V]={}),L(P[V],T.slice(1),M,U))}return N.has=function(P,T){if(typeof T=="number"?T=[T]:typeof T=="string"&&(T=T.split(".")),!T||T.length===0)return!!P;for(var M=0;M<T.length;M++){var U=p(T[M]);if(typeof U=="number"&&l(P)&&U<P.length||(x.includeInheritedProps?U in Object(P):r(P,U)))P=P[U];else return!1}return!0},N.ensureExists=function(P,T,M){return L(P,T,M,!0)},N.set=function(P,T,M,U){return L(P,T,M,U)},N.insert=function(P,T,M,U){var V=N.get(P,T);U=~~U,l(V)||(V=[],N.set(P,T,V)),V.splice(U,0,M)},N.empty=function(P,T){if(!n(T)&&P!=null){var M,U;if(M=N.get(P,T)){if(typeof M=="string")return N.set(P,T,"");if(d(M))return N.set(P,T,!1);if(typeof M=="number")return N.set(P,T,0);if(l(M))M.length=0;else if(a(M))for(U in M)q(M,U)&&delete M[U];else return N.set(P,T,null)}}},N.push=function(P,T){var M=N.get(P,T);l(M)||(M=[],N.set(P,T,M)),M.push.apply(M,Array.prototype.slice.call(arguments,2))},N.coalesce=function(P,T,M){for(var U,V=0,B=T.length;V<B;V++)if((U=N.get(P,T[V]))!==void 0)return U;return M},N.get=function(P,T,M){if(typeof T=="number"&&(T=[T]),!T||T.length===0)return P;if(P==null)return M;if(typeof T=="string")return N.get(P,T.split("."),M);var U=p(T[0]),V=C(P,U);return V===void 0?M:T.length===1?V:N.get(P[U],T.slice(1),M)},N.del=function(T,M){if(typeof M=="number"&&(M=[M]),T==null||n(M))return T;if(typeof M=="string")return N.del(T,M.split("."));var U=p(M[0]);if(C(T,U),!q(T,U))return T;if(M.length===1)l(T)?T.splice(U,1):delete T[U];else return N.del(T[U],M.slice(1));return T},N}var b=m();return b.create=m,b.withInheritedProps=m({includeInheritedProps:!0}),b})}(gh)),gh.exports}var jP=LP();const _S=Su(jP);function v1({number:t,empty:e="-",fraction:r=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:r})}catch(n){return console.error("toHumanNumber",t,n),t.toFixed(2)}}const q_=({error:t,errors:e,onError:r})=>{const n=e.some(a=>a),o=t instanceof Error;return!n&&o&&r(t),n||o},MP=fr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}});function Fp(){return typeof window<"u"}function fa(t){return _1(t)?(t.nodeName||"").toLowerCase():"#document"}function ii(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ps(t){var e;return(e=(_1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _1(t){return Fp()?t instanceof Node||t instanceof ii(t).Node:!1}function Fr(t){return Fp()?t instanceof Element||t instanceof ii(t).Element:!1}function ln(t){return Fp()?t instanceof HTMLElement||t instanceof ii(t).HTMLElement:!1}function Bv(t){return!Fp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ii(t).ShadowRoot}function kd(t){const{overflow:e,overflowX:r,overflowY:n,display:o}=Bi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(o)}function DP(t){return["table","td","th"].includes(fa(t))}function Lp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function C_(t){const e=jp(),r=Fr(t)?Bi(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function WP(t){let e=uo(t);for(;ln(e)&&!oo(e);){if(C_(e))return e;if(Lp(e))return null;e=uo(e)}return null}function jp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oo(t){return["html","body","#document"].includes(fa(t))}function Bi(t){return ii(t).getComputedStyle(t)}function Mp(t){return Fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function uo(t){if(fa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Bv(t)&&t.host||Ps(t);return Bv(e)?e.host:e}function b1(t){const e=uo(t);return oo(e)?t.ownerDocument?t.ownerDocument.body:t.body:ln(e)&&kd(e)?e:b1(e)}function Qo(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=b1(t),a=o===((n=t.ownerDocument)==null?void 0:n.body),l=ii(o);if(a){const d=zv(l);return e.concat(l,l.visualViewport||[],kd(o)?o:[],d&&r?Qo(d):[])}return e.concat(o,Qo(o,[],r))}function zv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Yi(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function wn(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&Bv(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function R_(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function w1(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function x1(t){return t.mozInputSource===0&&t.isTrusted?!0:$v()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function O_(t){return zP()?!1:!$v()&&t.width===0&&t.height===0||$v()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function S1(){return/apple/i.test(navigator.vendor)}function $v(){const t=/android/i;return t.test(R_())||t.test(w1())}function BP(){return R_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function zP(){return w1().includes("jsdom/")}function ad(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function $P(t){return"nativeEvent"in t}function UP(t){return t.matches("html,body")}function xn(t){return t?.ownerDocument||document}function Vg(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function Wo(t){return"composedPath"in t?t.composedPath()[0]:t.target}const VP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function A_(t){return ln(t)&&t.matches(VP)}function Ln(t){t.preventDefault(),t.stopPropagation()}function E1(t){return t?t.getAttribute("role")==="combobox"&&A_(t):!1}const yu=Math.min,yi=Math.max,Kh=Math.round,Hl=Math.floor,xs=t=>({x:t,y:t}),HP={left:"right",right:"left",bottom:"top",top:"bottom"},QP={start:"end",end:"start"};function bS(t,e,r){return yi(t,yu(e,r))}function qd(t,e){return typeof t=="function"?t(e):t}function ia(t){return t.split("-")[0]}function Cd(t){return t.split("-")[1]}function N1(t){return t==="x"?"y":"x"}function k1(t){return t==="y"?"height":"width"}function tl(t){return["top","bottom"].includes(ia(t))?"y":"x"}function q1(t){return N1(tl(t))}function KP(t,e,r){r===void 0&&(r=!1);const n=Cd(t),o=q1(t),a=k1(o);let l=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Gh(l)),[l,Gh(l)]}function GP(t){const e=Gh(t);return[Uv(t),e,Uv(e)]}function Uv(t){return t.replace(/start|end/g,e=>QP[e])}function JP(t,e,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:n:e?n:o;case"left":case"right":return e?a:l;default:return[]}}function ZP(t,e,r,n){const o=Cd(t);let a=JP(ia(t),r==="start",n);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(Uv)))),a}function Gh(t){return t.replace(/left|right|bottom|top/g,e=>HP[e])}function XP(t){return{top:0,right:0,bottom:0,left:0,...t}}function YP(t){return typeof t!="number"?XP(t):{top:t,right:t,bottom:t,left:t}}function Jh(t){const{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}var eF=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Zh=eF.join(","),C1=typeof Element>"u",gu=C1?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xh=!C1&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Yh=function t(e,r){var n;r===void 0&&(r=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=o===""||o==="true",l=a||r&&e&&t(e.parentNode);return l},tF=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},rF=function(e,r,n){if(Yh(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Zh));return r&&gu.call(e,Zh)&&o.unshift(e),o=o.filter(n),o},nF=function t(e,r,n){for(var o=[],a=Array.from(e);a.length;){var l=a.shift();if(!Yh(l,!1))if(l.tagName==="SLOT"){var d=l.assignedElements(),p=d.length?d:l.children,m=t(p,!0,n);n.flatten?o.push.apply(o,m):o.push({scopeParent:l,candidates:m})}else{var b=gu.call(l,Zh);b&&n.filter(l)&&(r||!e.includes(l))&&o.push(l);var x=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),N=!Yh(x,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(x&&N){var q=t(x===!0?l.children:x.children,!0,n);n.flatten?o.push.apply(o,q):o.push({scopeParent:l,candidates:q})}else a.unshift.apply(a,l.children)}}return o},R1=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},O1=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||tF(e))&&!R1(e)?0:e.tabIndex},iF=function(e,r){var n=O1(e);return n<0&&r&&!R1(e)?0:n},sF=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},A1=function(e){return e.tagName==="INPUT"},oF=function(e){return A1(e)&&e.type==="hidden"},aF=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},lF=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},uF=function(e){if(!e.name)return!0;var r=e.form||Xh(e),n=function(d){return r.querySelectorAll('input[type="radio"][name="'+d+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(e.name));else try{o=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=lF(o,e.form);return!a||a===e},cF=function(e){return A1(e)&&e.type==="radio"},dF=function(e){return cF(e)&&!uF(e)},fF=function(e){var r,n=e&&Xh(e),o=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var l,d,p;for(a=!!((l=o)!==null&&l!==void 0&&(d=l.ownerDocument)!==null&&d!==void 0&&d.contains(o)||e!=null&&(p=e.ownerDocument)!==null&&p!==void 0&&p.contains(e));!a&&o;){var m,b,x;n=Xh(o),o=(m=n)===null||m===void 0?void 0:m.host,a=!!((b=o)!==null&&b!==void 0&&(x=b.ownerDocument)!==null&&x!==void 0&&x.contains(o))}}return a},wS=function(e){var r=e.getBoundingClientRect(),n=r.width,o=r.height;return n===0&&o===0},hF=function(e,r){var n=r.displayCheck,o=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=gu.call(e,"details>summary:first-of-type"),l=a?e.parentElement:e;if(gu.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof o=="function"){for(var d=e;e;){var p=e.parentElement,m=Xh(e);if(p&&!p.shadowRoot&&o(p)===!0)return wS(e);e.assignedSlot?e=e.assignedSlot:!p&&m!==e.ownerDocument?e=m.host:e=p}e=d}if(fF(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return wS(e);return!1},pF=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var o=r.children.item(n);if(o.tagName==="LEGEND")return gu.call(r,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}r=r.parentElement}return!1},mF=function(e,r){return!(r.disabled||Yh(r)||oF(r)||hF(r,e)||aF(r)||pF(r))},Vv=function(e,r){return!(dF(r)||O1(r)<0||!mF(e,r))},yF=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},gF=function t(e){var r=[],n=[];return e.forEach(function(o,a){var l=!!o.scopeParent,d=l?o.scopeParent:o,p=iF(d,l),m=l?t(o.candidates):d;p===0?l?r.push.apply(r,m):r.push(d):n.push({documentOrder:a,tabIndex:p,item:o,isScope:l,content:m})}),n.sort(sF).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(r)},Dp=function(e,r){r=r||{};var n;return r.getShadowRoot?n=nF([e],r.includeContainer,{filter:Vv.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:yF}):n=rF(e,r.includeContainer,Vv.bind(null,r)),gF(n)},vF=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return gu.call(e,Zh)===!1?!1:Vv(r,e)};function xS(t,e,r){let{reference:n,floating:o}=t;const a=tl(e),l=q1(e),d=k1(l),p=ia(e),m=a==="y",b=n.x+n.width/2-o.width/2,x=n.y+n.height/2-o.height/2,N=n[d]/2-o[d]/2;let q;switch(p){case"top":q={x:b,y:n.y-o.height};break;case"bottom":q={x:b,y:n.y+n.height};break;case"right":q={x:n.x+n.width,y:x};break;case"left":q={x:n.x-o.width,y:x};break;default:q={x:n.x,y:n.y}}switch(Cd(e)){case"start":q[l]-=N*(r&&m?-1:1);break;case"end":q[l]+=N*(r&&m?-1:1);break}return q}const _F=async(t,e,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:l}=r,d=a.filter(Boolean),p=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:b,y:x}=xS(m,n,p),N=n,q={},R=0;for(let C=0;C<d.length;C++){const{name:L,fn:P}=d[C],{x:T,y:M,data:U,reset:V}=await P({x:b,y:x,initialPlacement:n,placement:N,strategy:o,middlewareData:q,rects:m,platform:l,elements:{reference:t,floating:e}});b=T??b,x=M??x,q={...q,[L]:{...q[L],...U}},V&&R<=50&&(R++,typeof V=="object"&&(V.placement&&(N=V.placement),V.rects&&(m=V.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):V.rects),{x:b,y:x}=xS(m,N,p)),C=-1)}return{x:b,y:x,placement:N,strategy:o,middlewareData:q}};async function I_(t,e){var r;e===void 0&&(e={});const{x:n,y:o,platform:a,rects:l,elements:d,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:b="viewport",elementContext:x="floating",altBoundary:N=!1,padding:q=0}=qd(e,t),R=YP(q),L=d[N?x==="floating"?"reference":"floating":x],P=Jh(await a.getClippingRect({element:(r=await (a.isElement==null?void 0:a.isElement(L)))==null||r?L:L.contextElement||await (a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:b,strategy:p})),T=x==="floating"?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,M=await (a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),U=await (a.isElement==null?void 0:a.isElement(M))?await (a.getScale==null?void 0:a.getScale(M))||{x:1,y:1}:{x:1,y:1},V=Jh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:M,strategy:p}):T);return{top:(P.top-V.top+R.top)/U.y,bottom:(V.bottom-P.bottom+R.bottom)/U.y,left:(P.left-V.left+R.left)/U.x,right:(V.right-P.right+R.right)/U.x}}const bF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:o,middlewareData:a,rects:l,initialPlacement:d,platform:p,elements:m}=e,{mainAxis:b=!0,crossAxis:x=!0,fallbackPlacements:N,fallbackStrategy:q="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:C=!0,...L}=qd(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const P=ia(o),T=tl(d),M=ia(d)===d,U=await (p.isRTL==null?void 0:p.isRTL(m.floating)),V=N||(M||!C?[Gh(d)]:GP(d)),B=R!=="none";!N&&B&&V.push(...ZP(d,C,R,U));const K=[d,...V],le=await I_(e,L),H=[];let ne=((n=a.flip)==null?void 0:n.overflows)||[];if(b&&H.push(le[P]),x){const pe=KP(o,l,U);H.push(le[pe[0]],le[pe[1]])}if(ne=[...ne,{placement:o,overflows:H}],!H.every(pe=>pe<=0)){var W,re;const pe=(((W=a.flip)==null?void 0:W.index)||0)+1,Re=K[pe];if(Re)return{data:{index:pe,overflows:ne},reset:{placement:Re}};let Ce=(re=ne.filter(Pe=>Pe.overflows[0]<=0).sort((Pe,ve)=>Pe.overflows[1]-ve.overflows[1])[0])==null?void 0:re.placement;if(!Ce)switch(q){case"bestFit":{var Z;const Pe=(Z=ne.filter(ve=>{if(B){const me=tl(ve.placement);return me===T||me==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(me=>me>0).reduce((me,Ee)=>me+Ee,0)]).sort((ve,me)=>ve[1]-me[1])[0])==null?void 0:Z[0];Pe&&(Ce=Pe);break}case"initialPlacement":Ce=d;break}if(o!==Ce)return{reset:{placement:Ce}}}return{}}}};async function wF(t,e){const{placement:r,platform:n,elements:o}=t,a=await (n.isRTL==null?void 0:n.isRTL(o.floating)),l=ia(r),d=Cd(r),p=tl(r)==="y",m=["left","top"].includes(l)?-1:1,b=a&&p?-1:1,x=qd(e,t);let{mainAxis:N,crossAxis:q,alignmentAxis:R}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof R=="number"&&(q=d==="end"?R*-1:R),p?{x:q*b,y:N*m}:{x:N*m,y:q*b}}const xF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:o,y:a,placement:l,middlewareData:d}=e,p=await wF(e,t);return l===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:o+p.x,y:a+p.y,data:{...p,placement:l}}}}},SF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:d={fn:L=>{let{x:P,y:T}=L;return{x:P,y:T}}},...p}=qd(t,e),m={x:r,y:n},b=await I_(e,p),x=tl(ia(o)),N=N1(x);let q=m[N],R=m[x];if(a){const L=N==="y"?"top":"left",P=N==="y"?"bottom":"right",T=q+b[L],M=q-b[P];q=bS(T,q,M)}if(l){const L=x==="y"?"top":"left",P=x==="y"?"bottom":"right",T=R+b[L],M=R-b[P];R=bS(T,R,M)}const C=d.fn({...e,[N]:q,[x]:R});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[N]:a,[x]:l}}}}}},EF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:o,rects:a,platform:l,elements:d}=e,{apply:p=()=>{},...m}=qd(t,e),b=await I_(e,m),x=ia(o),N=Cd(o),q=tl(o)==="y",{width:R,height:C}=a.floating;let L,P;x==="top"||x==="bottom"?(L=x,P=N===(await (l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(P=x,L=N==="end"?"top":"bottom");const T=C-b.top-b.bottom,M=R-b.left-b.right,U=yu(C-b[L],T),V=yu(R-b[P],M),B=!e.middlewareData.shift;let K=U,le=V;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(le=M),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(K=T),B&&!N){const ne=yi(b.left,0),W=yi(b.right,0),re=yi(b.top,0),Z=yi(b.bottom,0);q?le=R-2*(ne!==0||W!==0?ne+W:yi(b.left,b.right)):K=C-2*(re!==0||Z!==0?re+Z:yi(b.top,b.bottom))}await p({...e,availableWidth:le,availableHeight:K});const H=await l.getDimensions(d.floating);return R!==H.width||C!==H.height?{reset:{rects:!0}}:{}}}};function I1(t){const e=Bi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=ln(t),a=o?t.offsetWidth:r,l=o?t.offsetHeight:n,d=Kh(r)!==a||Kh(n)!==l;return d&&(r=a,n=l),{width:r,height:n,$:d}}function T_(t){return Fr(t)?t:t.contextElement}function eu(t){const e=T_(t);if(!ln(e))return xs(1);const r=e.getBoundingClientRect(),{width:n,height:o,$:a}=I1(e);let l=(a?Kh(r.width):r.width)/n,d=(a?Kh(r.height):r.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const NF=xs(0);function T1(t){const e=ii(t);return!jp()||!e.visualViewport?NF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kF(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ii(t)?!1:e}function rl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=T_(t);let l=xs(1);e&&(n?Fr(n)&&(l=eu(n)):l=eu(t));const d=kF(a,r,n)?T1(a):xs(0);let p=(o.left+d.x)/l.x,m=(o.top+d.y)/l.y,b=o.width/l.x,x=o.height/l.y;if(a){const N=ii(a),q=n&&Fr(n)?ii(n):n;let R=N,C=zv(R);for(;C&&n&&q!==R;){const L=eu(C),P=C.getBoundingClientRect(),T=Bi(C),M=P.left+(C.clientLeft+parseFloat(T.paddingLeft))*L.x,U=P.top+(C.clientTop+parseFloat(T.paddingTop))*L.y;p*=L.x,m*=L.y,b*=L.x,x*=L.y,p+=M,m+=U,R=ii(C),C=zv(R)}}return Jh({width:b,height:x,x:p,y:m})}function P_(t,e){const r=Mp(t).scrollLeft;return e?e.left+r:rl(Ps(t)).left+r}function P1(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:P_(t,n)),a=n.top+e.scrollTop;return{x:o,y:a}}function qF(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t;const a=o==="fixed",l=Ps(n),d=e?Lp(e.floating):!1;if(n===l||d&&a)return r;let p={scrollLeft:0,scrollTop:0},m=xs(1);const b=xs(0),x=ln(n);if((x||!x&&!a)&&((fa(n)!=="body"||kd(l))&&(p=Mp(n)),ln(n))){const q=rl(n);m=eu(n),b.x=q.x+n.clientLeft,b.y=q.y+n.clientTop}const N=l&&!x&&!a?P1(l,p,!0):xs(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-p.scrollLeft*m.x+b.x+N.x,y:r.y*m.y-p.scrollTop*m.y+b.y+N.y}}function CF(t){return Array.from(t.getClientRects())}function RF(t){const e=Ps(t),r=Mp(t),n=t.ownerDocument.body,o=yi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=yi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+P_(t);const d=-r.scrollTop;return Bi(n).direction==="rtl"&&(l+=yi(e.clientWidth,n.clientWidth)-o),{width:o,height:a,x:l,y:d}}function OF(t,e){const r=ii(t),n=Ps(t),o=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,d=0,p=0;if(o){a=o.width,l=o.height;const m=jp();(!m||m&&e==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}return{width:a,height:l,x:d,y:p}}function AF(t,e){const r=rl(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,a=ln(t)?eu(t):xs(1),l=t.clientWidth*a.x,d=t.clientHeight*a.y,p=o*a.x,m=n*a.y;return{width:l,height:d,x:p,y:m}}function SS(t,e,r){let n;if(e==="viewport")n=OF(t,r);else if(e==="document")n=RF(Ps(t));else if(Fr(e))n=AF(e,r);else{const o=T1(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Jh(n)}function F1(t,e){const r=uo(t);return r===e||!Fr(r)||oo(r)?!1:Bi(r).position==="fixed"||F1(r,e)}function IF(t,e){const r=e.get(t);if(r)return r;let n=Qo(t,[],!1).filter(d=>Fr(d)&&fa(d)!=="body"),o=null;const a=Bi(t).position==="fixed";let l=a?uo(t):t;for(;Fr(l)&&!oo(l);){const d=Bi(l),p=C_(l);!p&&d.position==="fixed"&&(o=null),(a?!p&&!o:!p&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||kd(l)&&!p&&F1(t,l))?n=n.filter(b=>b!==l):o=d,l=uo(l)}return e.set(t,n),n}function TF(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t;const l=[...r==="clippingAncestors"?Lp(e)?[]:IF(e,this._c):[].concat(r),n],d=l[0],p=l.reduce((m,b)=>{const x=SS(e,b,o);return m.top=yi(x.top,m.top),m.right=yu(x.right,m.right),m.bottom=yu(x.bottom,m.bottom),m.left=yi(x.left,m.left),m},SS(e,d,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function PF(t){const{width:e,height:r}=I1(t);return{width:e,height:r}}function FF(t,e,r){const n=ln(e),o=Ps(e),a=r==="fixed",l=rl(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const p=xs(0);if(n||!n&&!a)if((fa(e)!=="body"||kd(o))&&(d=Mp(e)),n){const N=rl(e,!0,a,e);p.x=N.x+e.clientLeft,p.y=N.y+e.clientTop}else o&&(p.x=P_(o));const m=o&&!n&&!a?P1(o,d):xs(0),b=l.left+d.scrollLeft-p.x-m.x,x=l.top+d.scrollTop-p.y-m.y;return{x:b,y:x,width:l.width,height:l.height}}function Hg(t){return Bi(t).position==="static"}function ES(t,e){if(!ln(t)||Bi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ps(t)===r&&(r=r.ownerDocument.body),r}function L1(t,e){const r=ii(t);if(Lp(t))return r;if(!ln(t)){let o=uo(t);for(;o&&!oo(o);){if(Fr(o)&&!Hg(o))return o;o=uo(o)}return r}let n=ES(t,e);for(;n&&DP(n)&&Hg(n);)n=ES(n,e);return n&&oo(n)&&Hg(n)&&!C_(n)?r:n||WP(t)||r}const LF=async function(t){const e=this.getOffsetParent||L1,r=this.getDimensions,n=await r(t.floating);return{reference:FF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jF(t){return Bi(t).direction==="rtl"}const MF={convertOffsetParentRelativeRectToViewportRelativeRect:qF,getDocumentElement:Ps,getClippingRect:TF,getOffsetParent:L1,getElementRects:LF,getClientRects:CF,getDimensions:PF,getScale:eu,isElement:Fr,isRTL:jF};function DF(t,e){let r=null,n;const o=Ps(t);function a(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function l(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),a();const{left:m,top:b,width:x,height:N}=t.getBoundingClientRect();if(d||e(),!x||!N)return;const q=Hl(b),R=Hl(o.clientWidth-(m+x)),C=Hl(o.clientHeight-(b+N)),L=Hl(m),T={rootMargin:-q+"px "+-R+"px "+-C+"px "+-L+"px",threshold:yi(0,yu(1,p))||1};let M=!0;function U(V){const B=V[0].intersectionRatio;if(B!==p){if(!M)return l();B?l(!1,B):n=setTimeout(()=>{l(!1,1e-7)},1e3)}M=!1}try{r=new IntersectionObserver(U,{...T,root:o.ownerDocument})}catch{r=new IntersectionObserver(U,T)}r.observe(t)}return l(!0),a}function j1(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=T_(t),b=o||a?[...m?Qo(m):[],...Qo(e)]:[];b.forEach(P=>{o&&P.addEventListener("scroll",r,{passive:!0}),a&&P.addEventListener("resize",r)});const x=m&&d?DF(m,r):null;let N=-1,q=null;l&&(q=new ResizeObserver(P=>{let[T]=P;T&&T.target===m&&q&&(q.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var M;(M=q)==null||M.observe(e)})),r()}),m&&!p&&q.observe(m),q.observe(e));let R,C=p?rl(t):null;p&&L();function L(){const P=rl(t);C&&(P.x!==C.x||P.y!==C.y||P.width!==C.width||P.height!==C.height)&&r(),C=P,R=requestAnimationFrame(L)}return r(),()=>{var P;b.forEach(T=>{o&&T.removeEventListener("scroll",r),a&&T.removeEventListener("resize",r)}),x?.(),(P=q)==null||P.disconnect(),q=null,p&&cancelAnimationFrame(R)}}const WF=xF,BF=SF,zF=bF,$F=EF,UF=(t,e,r)=>{const n=new Map,o={platform:MF,...r},a={...o.platform,_c:n};return _F(t,e,{...o,platform:a})};var vh=typeof document<"u"?G.useLayoutEffect:G.useEffect;function ep(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ep(t[n],e[n]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&t.$$typeof)&&!ep(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function M1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NS(t,e){const r=M1(t);return Math.round(e*r)/r}function Qg(t){const e=G.useRef(t);return vh(()=>{e.current=t}),e}function VF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:p,open:m}=t,[b,x]=G.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[N,q]=G.useState(n);ep(N,n)||q(n);const[R,C]=G.useState(null),[L,P]=G.useState(null),T=G.useCallback(ve=>{ve!==B.current&&(B.current=ve,C(ve))},[]),M=G.useCallback(ve=>{ve!==K.current&&(K.current=ve,P(ve))},[]),U=a||R,V=l||L,B=G.useRef(null),K=G.useRef(null),le=G.useRef(b),H=p!=null,ne=Qg(p),W=Qg(o),re=Qg(m),Z=G.useCallback(()=>{if(!B.current||!K.current)return;const ve={placement:e,strategy:r,middleware:N};W.current&&(ve.platform=W.current),UF(B.current,K.current,ve).then(me=>{const Ee={...me,isPositioned:re.current!==!1};pe.current&&!ep(le.current,Ee)&&(le.current=Ee,y_.flushSync(()=>{x(Ee)}))})},[N,e,r,W,re]);vh(()=>{m===!1&&le.current.isPositioned&&(le.current.isPositioned=!1,x(ve=>({...ve,isPositioned:!1})))},[m]);const pe=G.useRef(!1);vh(()=>(pe.current=!0,()=>{pe.current=!1}),[]),vh(()=>{if(U&&(B.current=U),V&&(K.current=V),U&&V){if(ne.current)return ne.current(U,V,Z);Z()}},[U,V,Z,ne,H]);const Re=G.useMemo(()=>({reference:B,floating:K,setReference:T,setFloating:M}),[T,M]),Ce=G.useMemo(()=>({reference:U,floating:V}),[U,V]),Pe=G.useMemo(()=>{const ve={position:r,left:0,top:0};if(!Ce.floating)return ve;const me=NS(Ce.floating,b.x),Ee=NS(Ce.floating,b.y);return d?{...ve,transform:"translate("+me+"px, "+Ee+"px)",...M1(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:me,top:Ee}},[r,d,Ce.floating,b.x,b.y]);return G.useMemo(()=>({...b,update:Z,refs:Re,elements:Ce,floatingStyles:Pe}),[b,Z,Re,Ce,Pe])}const D1=(t,e)=>({...WF(t),options:[t,e]}),HF=(t,e)=>({...BF(t),options:[t,e]}),W1=(t,e)=>({...zF(t),options:[t,e]}),QF=(t,e)=>({...$F(t),options:[t,e]});function kS(t){return G.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const B1={...sC},KF=B1.useInsertionEffect,GF=KF||(t=>t());function ti(t){const e=G.useRef(()=>{});return GF(()=>{e.current=t}),G.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.current==null?void 0:e.current(...n)},[])}const F_="ArrowUp",Rd="ArrowDown",Ko="ArrowLeft",Go="ArrowRight";function Yf(t,e,r){return Math.floor(t/e)!==r}function Fc(t,e){return e<0||e>=t.current.length}function Kg(t,e){return Cn(t,{disabledIndices:e})}function qS(t,e){return Cn(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Cn(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:o,amount:a=1}=e===void 0?{}:e;const l=t.current;let d=r;do d+=n?-a:a;while(d>=0&&d<=l.length-1&&_h(l,d,o));return d}function JF(t,e){let{event:r,orientation:n,loop:o,rtl:a,cols:l,disabledIndices:d,minIndex:p,maxIndex:m,prevIndex:b,stopEvent:x=!1}=e,N=b;if(r.key===F_){if(x&&Ln(r),b===-1)N=m;else if(N=Cn(t,{startingIndex:N,amount:l,decrement:!0,disabledIndices:d}),o&&(b-l<p||N<0)){const q=b%l,R=m%l,C=m-(R-q);R===q?N=m:N=R>q?C:C-l}Fc(t,N)&&(N=b)}if(r.key===Rd&&(x&&Ln(r),b===-1?N=p:(N=Cn(t,{startingIndex:b,amount:l,disabledIndices:d}),o&&b+l>m&&(N=Cn(t,{startingIndex:b%l-l,amount:l,disabledIndices:d}))),Fc(t,N)&&(N=b)),n==="both"){const q=Hl(b/l);r.key===(a?Ko:Go)&&(x&&Ln(r),b%l!==l-1?(N=Cn(t,{startingIndex:b,disabledIndices:d}),o&&Yf(N,l,q)&&(N=Cn(t,{startingIndex:b-b%l-1,disabledIndices:d}))):o&&(N=Cn(t,{startingIndex:b-b%l-1,disabledIndices:d})),Yf(N,l,q)&&(N=b)),r.key===(a?Go:Ko)&&(x&&Ln(r),b%l!==0?(N=Cn(t,{startingIndex:b,decrement:!0,disabledIndices:d}),o&&Yf(N,l,q)&&(N=Cn(t,{startingIndex:b+(l-b%l),decrement:!0,disabledIndices:d}))):o&&(N=Cn(t,{startingIndex:b+(l-b%l),decrement:!0,disabledIndices:d})),Yf(N,l,q)&&(N=b));const R=Hl(m/l)===q;Fc(t,N)&&(o&&R?N=r.key===(a?Go:Ko)?m:Cn(t,{startingIndex:b-b%l-1,disabledIndices:d}):N=b)}return N}function ZF(t,e,r){const n=[];let o=0;return t.forEach((a,l)=>{let{width:d,height:p}=a,m=!1;for(r&&(o=0);!m;){const b=[];for(let x=0;x<d;x++)for(let N=0;N<p;N++)b.push(o+x+N*e);o%e+d<=e&&b.every(x=>n[x]==null)?(b.forEach(x=>{n[x]=l}),m=!0):o++}}),[...n]}function XF(t,e,r,n,o){if(t===-1)return-1;const a=r.indexOf(t),l=e[t];switch(o){case"tl":return a;case"tr":return l?a+l.width-1:a;case"bl":return l?a+(l.height-1)*n:a;case"br":return r.lastIndexOf(t)}}function YF(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function _h(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}var zr=typeof document<"u"?G.useLayoutEffect:G.useEffect;function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}let CS=!1,eL=0;const RS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+eL++;function tL(){const[t,e]=G.useState(()=>CS?RS():void 0);return zr(()=>{t==null&&e(RS())},[]),G.useEffect(()=>{CS=!0},[]),t}const rL=B1.useId,L_=rL||tL;function z1(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(o=>o(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(o=>o!==r))||[])}}}const $1=G.createContext(null),U1=G.createContext(null),Od=()=>{var t;return((t=G.useContext($1))==null?void 0:t.id)||null},Ru=()=>G.useContext(U1);function nL(t){const e=L_(),r=Ru(),o=Od();return zr(()=>{if(!e)return;const a={id:e,parentId:o};return r?.addNode(a),()=>{r?.removeNode(a)}},[r,e,o]),e}function iL(t){const{children:e,id:r}=t,n=Od();return G.createElement($1.Provider,{value:G.useMemo(()=>({id:r,parentId:n}),[r,n])},e)}function sL(t){const{children:e}=t,r=G.useRef([]),n=G.useCallback(l=>{r.current=[...r.current,l]},[]),o=G.useCallback(l=>{r.current=r.current.filter(d=>d!==l)},[]),a=G.useState(()=>z1())[0];return G.createElement(U1.Provider,{value:G.useMemo(()=>({nodesRef:r,addNode:n,removeNode:o,events:a}),[n,o,a])},e)}function nl(t){return"data-floating-ui-"+t}function Dn(t){const e=G.useRef(t);return zr(()=>{e.current=t}),e}const OS=nl("safe-polygon");function Gg(t,e,r){return r&&!ad(r)?0:typeof t=="number"?t:t?.[e]}function oL(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:o,events:a,elements:l}=t,{enabled:d=!0,delay:p=0,handleClose:m=null,mouseOnly:b=!1,restMs:x=0,move:N=!0}=e,q=Ru(),R=Od(),C=Dn(m),L=Dn(p),P=Dn(r),T=G.useRef(),M=G.useRef(-1),U=G.useRef(),V=G.useRef(-1),B=G.useRef(!0),K=G.useRef(!1),le=G.useRef(()=>{}),H=G.useRef(!1),ne=G.useCallback(()=>{var Pe;const ve=(Pe=o.current.openEvent)==null?void 0:Pe.type;return ve?.includes("mouse")&&ve!=="mousedown"},[o]);G.useEffect(()=>{if(!d)return;function Pe(ve){let{open:me}=ve;me||(clearTimeout(M.current),clearTimeout(V.current),B.current=!0,H.current=!1)}return a.on("openchange",Pe),()=>{a.off("openchange",Pe)}},[d,a]),G.useEffect(()=>{if(!d||!C.current||!r)return;function Pe(me){ne()&&n(!1,me,"hover")}const ve=xn(l.floating).documentElement;return ve.addEventListener("mouseleave",Pe),()=>{ve.removeEventListener("mouseleave",Pe)}},[l.floating,r,n,d,C,ne]);const W=G.useCallback(function(Pe,ve,me){ve===void 0&&(ve=!0),me===void 0&&(me="hover");const Ee=Gg(L.current,"close",T.current);Ee&&!U.current?(clearTimeout(M.current),M.current=window.setTimeout(()=>n(!1,Pe,me),Ee)):ve&&(clearTimeout(M.current),n(!1,Pe,me))},[L,n]),re=ti(()=>{le.current(),U.current=void 0}),Z=ti(()=>{if(K.current){const Pe=xn(l.floating).body;Pe.style.pointerEvents="",Pe.removeAttribute(OS),K.current=!1}}),pe=ti(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);G.useEffect(()=>{if(!d)return;function Pe(Q){if(clearTimeout(M.current),B.current=!1,b&&!ad(T.current)||x>0&&!Gg(L.current,"open"))return;const xe=Gg(L.current,"open",T.current);xe?M.current=window.setTimeout(()=>{P.current||n(!0,Q,"hover")},xe):r||n(!0,Q,"hover")}function ve(Q){if(pe())return;le.current();const xe=xn(l.floating);if(clearTimeout(V.current),H.current=!1,C.current&&o.current.floatingContext){r||clearTimeout(M.current),U.current=C.current({...o.current.floatingContext,tree:q,x:Q.clientX,y:Q.clientY,onClose(){Z(),re(),pe()||W(Q,!0,"safe-polygon")}});const at=U.current;xe.addEventListener("mousemove",at),le.current=()=>{xe.removeEventListener("mousemove",at)};return}(T.current==="touch"?!wn(l.floating,Q.relatedTarget):!0)&&W(Q)}function me(Q){pe()||o.current.floatingContext&&(C.current==null||C.current({...o.current.floatingContext,tree:q,x:Q.clientX,y:Q.clientY,onClose(){Z(),re(),pe()||W(Q)}})(Q))}if(Fr(l.domReference)){var Ee;const Q=l.domReference;return r&&Q.addEventListener("mouseleave",me),(Ee=l.floating)==null||Ee.addEventListener("mouseleave",me),N&&Q.addEventListener("mousemove",Pe,{once:!0}),Q.addEventListener("mouseenter",Pe),Q.addEventListener("mouseleave",ve),()=>{var xe;r&&Q.removeEventListener("mouseleave",me),(xe=l.floating)==null||xe.removeEventListener("mouseleave",me),N&&Q.removeEventListener("mousemove",Pe),Q.removeEventListener("mouseenter",Pe),Q.removeEventListener("mouseleave",ve)}}},[l,d,t,b,x,N,W,re,Z,n,r,P,q,L,C,o,pe]),zr(()=>{var Pe;if(d&&r&&(Pe=C.current)!=null&&Pe.__options.blockPointerEvents&&ne()){K.current=!0;const me=l.floating;if(Fr(l.domReference)&&me){var ve;const Ee=xn(l.floating).body;Ee.setAttribute(OS,"");const Q=l.domReference,xe=q==null||(ve=q.nodesRef.current.find(lt=>lt.id===R))==null||(ve=ve.context)==null?void 0:ve.elements.floating;return xe&&(xe.style.pointerEvents=""),Ee.style.pointerEvents="none",Q.style.pointerEvents="auto",me.style.pointerEvents="auto",()=>{Ee.style.pointerEvents="",Q.style.pointerEvents="",me.style.pointerEvents=""}}}},[d,r,R,l,q,C,ne]),zr(()=>{r||(T.current=void 0,H.current=!1,re(),Z())},[r,re,Z]),G.useEffect(()=>()=>{re(),clearTimeout(M.current),clearTimeout(V.current),Z()},[d,l.domReference,re,Z]);const Re=G.useMemo(()=>{function Pe(ve){T.current=ve.pointerType}return{onPointerDown:Pe,onPointerEnter:Pe,onMouseMove(ve){const{nativeEvent:me}=ve;function Ee(){!B.current&&!P.current&&n(!0,me,"hover")}b&&!ad(T.current)||r||x===0||H.current&&ve.movementX**2+ve.movementY**2<2||(clearTimeout(V.current),T.current==="touch"?Ee():(H.current=!0,V.current=window.setTimeout(Ee,x)))}}},[b,n,r,P,x]),Ce=G.useMemo(()=>({onMouseEnter(){clearTimeout(M.current)},onMouseLeave(Pe){pe()||W(Pe.nativeEvent,!1)}}),[W,pe]);return G.useMemo(()=>d?{reference:Re,floating:Ce}:{},[d,Re,Ce])}let AS=0;function Fa(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:o=!1}=e;n&&cancelAnimationFrame(AS);const a=()=>t?.focus({preventScroll:r});o?a():AS=requestAnimationFrame(a)}function IS(t,e){var r;let n=[],o=(r=t.find(a=>a.id===e))==null?void 0:r.parentId;for(;o;){const a=t.find(l=>l.id===o);o=a?.parentId,a&&(n=n.concat(a))}return n}function tu(t,e){let r=t.filter(o=>{var a;return o.parentId===e&&((a=o.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=t.filter(o=>{var a;return(a=n)==null?void 0:a.some(l=>{var d;return o.parentId===l.id&&((d=o.context)==null?void 0:d.open)})}),r=r.concat(n);return r}function aL(t,e){let r,n=-1;function o(a,l){l>n&&(r=a,n=l),tu(t,a).forEach(p=>{o(p.id,l+1)})}return o(e,0),t.find(a=>a.id===r)}let jl=new WeakMap,eh=new WeakSet,th={},Jg=0;const lL=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,V1=t=>t&&(t.host||V1(t.parentNode)),uL=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=V1(r);return t.contains(n)?n:null}).filter(r=>r!=null);function cL(t,e,r,n){const o="data-floating-ui-inert",a=n?"inert":r?"aria-hidden":null,l=uL(e,t),d=new Set,p=new Set(l),m=[];th[o]||(th[o]=new WeakMap);const b=th[o];l.forEach(x),N(e),d.clear();function x(q){!q||d.has(q)||(d.add(q),q.parentNode&&x(q.parentNode))}function N(q){!q||p.has(q)||[].forEach.call(q.children,R=>{if(fa(R)!=="script")if(d.has(R))N(R);else{const C=a?R.getAttribute(a):null,L=C!==null&&C!=="false",P=jl.get(R)||0,T=a?P+1:P,M=(b.get(R)||0)+1;jl.set(R,T),b.set(R,M),m.push(R),T===1&&L&&eh.add(R),M===1&&R.setAttribute(o,""),!L&&a&&R.setAttribute(a,"true")}})}return Jg++,()=>{m.forEach(q=>{const R=jl.get(q)||0,C=a?R-1:R,L=(b.get(q)||0)-1;jl.set(q,C),b.set(q,L),C||(!eh.has(q)&&a&&q.removeAttribute(a),eh.delete(q)),L||q.removeAttribute(o)}),Jg--,Jg||(jl=new WeakMap,jl=new WeakMap,eh=new WeakSet,th={})}}function TS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=xn(t[0]).body;return cL(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const Wp=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function H1(t,e){const r=Dp(t,Wp());e==="prev"&&r.reverse();const n=r.indexOf(Yi(xn(t)));return r.slice(n+1)[0]}function Q1(){return H1(document.body,"next")}function K1(){return H1(document.body,"prev")}function Lc(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!wn(r,n)}function dL(t){Dp(t,Wp()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function PS(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const Bp={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let fL;function FS(t){t.key==="Tab"&&(t.target,clearTimeout(fL))}const tp=G.forwardRef(function(e,r){const[n,o]=G.useState();zr(()=>(S1()&&o("button"),document.addEventListener("keydown",FS),()=>{document.removeEventListener("keydown",FS)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[nl("focus-guard")]:"",style:Bp};return G.createElement("span",ld({},e,a))}),G1=G.createContext(null),LS=nl("portal");function hL(t){t===void 0&&(t={});const{id:e,root:r}=t,n=L_(),o=J1(),[a,l]=G.useState(null),d=G.useRef(null);return zr(()=>()=>{a?.remove(),queueMicrotask(()=>{d.current=null})},[a]),zr(()=>{if(!n||d.current)return;const p=e?document.getElementById(e):null;if(!p)return;const m=document.createElement("div");m.id=n,m.setAttribute(LS,""),p.appendChild(m),d.current=m,l(m)},[e,n]),zr(()=>{if(r===null||!n||d.current)return;let p=r||o?.portalNode;p&&!Fr(p)&&(p=p.current),p=p||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,p.appendChild(m));const b=document.createElement("div");b.id=n,b.setAttribute(LS,""),p=m||p,p.appendChild(b),d.current=b,l(b)},[e,r,n,o]),a}function j_(t){const{children:e,id:r,root:n,preserveTabOrder:o=!0}=t,a=hL({id:r,root:n}),[l,d]=G.useState(null),p=G.useRef(null),m=G.useRef(null),b=G.useRef(null),x=G.useRef(null),N=l?.modal,q=l?.open,R=!!l&&!l.modal&&l.open&&o&&!!(n||a);return G.useEffect(()=>{if(!a||!o||N)return;function C(L){a&&Lc(L)&&(L.type==="focusin"?PS:dL)(a)}return a.addEventListener("focusin",C,!0),a.addEventListener("focusout",C,!0),()=>{a.removeEventListener("focusin",C,!0),a.removeEventListener("focusout",C,!0)}},[a,o,N]),G.useEffect(()=>{a&&(q||PS(a))},[q,a]),G.createElement(G1.Provider,{value:G.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:p,afterOutsideRef:m,beforeInsideRef:b,afterInsideRef:x,portalNode:a,setFocusManagerState:d}),[o,a])},R&&a&&G.createElement(tp,{"data-type":"outside",ref:p,onFocus:C=>{if(Lc(C,a)){var L;(L=b.current)==null||L.focus()}else{const P=K1()||l?.refs.domReference.current;P?.focus()}}}),R&&a&&G.createElement("span",{"aria-owns":a.id,style:Bp}),a&&y_.createPortal(e,a),R&&a&&G.createElement(tp,{"data-type":"outside",ref:m,onFocus:C=>{if(Lc(C,a)){var L;(L=x.current)==null||L.focus()}else{const P=Q1()||l?.refs.domReference.current;P?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,C.nativeEvent,"focus-out")}}}))}const J1=()=>G.useContext(G1),Hv="data-floating-ui-focusable";function Qv(t){return t?t.hasAttribute(Hv)?t:t.querySelector("["+Hv+"]")||t:null}const jS=20;let La=[];function Zg(t){La=La.filter(e=>e.isConnected),t&&fa(t)!=="body"&&(La.push(t),La.length>jS&&(La=La.slice(-jS)))}function MS(){return La.slice().reverse().find(t=>t.isConnected)}function pL(t){const e=Wp();return vF(t,e)?t:Dp(t,e)[0]||t}const mL=G.forwardRef(function(e,r){return G.createElement("button",ld({},e,{type:"button",ref:r,tabIndex:-1,style:Bp}))});function Z1(t){const{context:e,children:r,disabled:n=!1,order:o=["content"],guards:a=!0,initialFocus:l=0,returnFocus:d=!0,restoreFocus:p=!1,modal:m=!0,visuallyHiddenDismiss:b=!1,closeOnFocusOut:x=!0,outsideElementsInert:N=!1}=t,{open:q,refs:R,nodeId:C,onOpenChange:L,events:P,dataRef:T,elements:{domReference:M,floating:U}}=e,V=typeof l=="number"&&l<0,B=E1(M)&&V,K=lL(),le=K?a:!0,H=!le||K&&N,ne=Dn(o),W=Dn(l),re=Dn(d),Z=Ru(),pe=J1(),Re=G.useRef(null),Ce=G.useRef(null),Pe=G.useRef(!1),ve=G.useRef(!1),me=G.useRef(-1),Ee=pe!=null,Q=Qv(U),xe=ti(function(vt){return vt===void 0&&(vt=Q),vt?Dp(vt,Wp()):[]}),lt=ti(vt=>{const yt=xe(vt);return ne.current.map(Rt=>M&&Rt==="reference"?M:Q&&Rt==="floating"?Q:yt).filter(Boolean).flat()});G.useEffect(()=>{if(n||!m)return;function vt(Rt){if(Rt.key==="Tab"){wn(Q,Yi(xn(Q)))&&xe().length===0&&!B&&Ln(Rt);const qt=lt(),Jt=Wo(Rt);ne.current[0]==="reference"&&Jt===M&&(Ln(Rt),Rt.shiftKey?Fa(qt[qt.length-1]):Fa(qt[1])),ne.current[1]==="floating"&&Jt===Q&&Rt.shiftKey&&(Ln(Rt),Fa(qt[0]))}}const yt=xn(Q);return yt.addEventListener("keydown",vt),()=>{yt.removeEventListener("keydown",vt)}},[n,M,Q,m,ne,B,xe,lt]),G.useEffect(()=>{if(n||!U)return;function vt(yt){const Rt=Wo(yt),Jt=xe().indexOf(Rt);Jt!==-1&&(me.current=Jt)}return U.addEventListener("focusin",vt),()=>{U.removeEventListener("focusin",vt)}},[n,U,xe]),G.useEffect(()=>{if(n||!x)return;function vt(){ve.current=!0,setTimeout(()=>{ve.current=!1})}function yt(Rt){const qt=Rt.relatedTarget;queueMicrotask(()=>{const Jt=!(wn(M,qt)||wn(U,qt)||wn(qt,U)||wn(pe?.portalNode,qt)||qt!=null&&qt.hasAttribute(nl("focus-guard"))||Z&&(tu(Z.nodesRef.current,C).find(Gt=>{var er,ur;return wn((er=Gt.context)==null?void 0:er.elements.floating,qt)||wn((ur=Gt.context)==null?void 0:ur.elements.domReference,qt)})||IS(Z.nodesRef.current,C).find(Gt=>{var er,ur,se;return[(er=Gt.context)==null?void 0:er.elements.floating,Qv((ur=Gt.context)==null?void 0:ur.elements.floating)].includes(qt)||((se=Gt.context)==null?void 0:se.elements.domReference)===qt})));if(p&&Jt&&Yi(xn(Q))===xn(Q).body){ln(Q)&&Q.focus();const Gt=me.current,er=xe(),ur=er[Gt]||er[er.length-1]||Q;ln(ur)&&ur.focus()}(B||!m)&&qt&&Jt&&!ve.current&&qt!==MS()&&(Pe.current=!0,L(!1,Rt,"focus-out"))})}if(U&&ln(M))return M.addEventListener("focusout",yt),M.addEventListener("pointerdown",vt),U.addEventListener("focusout",yt),()=>{M.removeEventListener("focusout",yt),M.removeEventListener("pointerdown",vt),U.removeEventListener("focusout",yt)}},[n,M,U,Q,m,C,Z,pe,L,x,p,xe,B]);const at=G.useRef(null),dt=G.useRef(null),mt=kS([at,pe?.beforeInsideRef]),ft=kS([dt,pe?.afterInsideRef]);G.useEffect(()=>{var vt;if(n||!U)return;const yt=Array.from((pe==null||(vt=pe.portalNode)==null?void 0:vt.querySelectorAll("["+nl("portal")+"]"))||[]),Rt=Z&&!m?IS(Z?.nodesRef.current,C).map(Gt=>{var er;return(er=Gt.context)==null?void 0:er.elements.floating}):[],qt=[U,...yt,...Rt,Re.current,Ce.current,at.current,dt.current,pe?.beforeOutsideRef.current,pe?.afterOutsideRef.current,ne.current.includes("reference")||B?M:null].filter(Gt=>Gt!=null),Jt=m||B?TS(qt,!H,H):TS(qt);return()=>{Jt()}},[n,M,U,m,ne,pe,B,le,H,Z,C]),zr(()=>{if(n||!ln(Q))return;const vt=xn(Q),yt=Yi(vt);queueMicrotask(()=>{const Rt=lt(Q),qt=W.current,Jt=(typeof qt=="number"?Rt[qt]:qt.current)||Q,Gt=wn(Q,yt);!V&&!Gt&&q&&Fa(Jt,{preventScroll:Jt===Q})})},[n,q,Q,V,lt,W]),zr(()=>{if(n||!Q)return;let vt=!1;const yt=xn(Q),Rt=Yi(yt);let Jt=T.current.openEvent;Zg(Rt);function Gt(se){let{open:ae,reason:ye,event:Oe,nested:je}=se;ae&&(Jt=Oe),ye==="escape-key"&&R.domReference.current&&Zg(R.domReference.current),["hover","safe-polygon"].includes(ye)&&Oe.type==="mouseleave"&&(Pe.current=!0),ye==="outside-press"&&(je?(Pe.current=!1,vt=!0):Pe.current=!(x1(Oe)||O_(Oe)))}P.on("openchange",Gt);const er=yt.createElement("span");er.setAttribute("tabindex","-1"),er.setAttribute("aria-hidden","true"),Object.assign(er.style,Bp),Ee&&M&&M.insertAdjacentElement("afterend",er);function ur(){return typeof re.current=="boolean"?MS()||er:re.current.current||er}return()=>{P.off("openchange",Gt);const se=Yi(yt),ae=wn(U,se)||Z&&tu(Z.nodesRef.current,C).some(je=>{var Ge;return wn((Ge=je.context)==null?void 0:Ge.elements.floating,se)});(ae||Jt&&["click","mousedown"].includes(Jt.type))&&R.domReference.current&&Zg(R.domReference.current);const Oe=ur();queueMicrotask(()=>{const je=pL(Oe);re.current&&!Pe.current&&ln(je)&&(!(je!==se&&se!==yt.body)||ae)&&je.focus({preventScroll:vt}),er.remove()})}},[n,U,Q,re,T,R,P,Z,C,Ee,M]),G.useEffect(()=>{queueMicrotask(()=>{Pe.current=!1})},[n]),zr(()=>{if(!n&&pe)return pe.setFocusManagerState({modal:m,closeOnFocusOut:x,open:q,onOpenChange:L,refs:R}),()=>{pe.setFocusManagerState(null)}},[n,pe,m,q,L,R,x]),zr(()=>{if(n||!Q||typeof MutationObserver!="function"||V)return;const vt=()=>{const Rt=Q.getAttribute("tabindex"),qt=xe(),Jt=Yi(xn(U)),Gt=qt.indexOf(Jt);Gt!==-1&&(me.current=Gt),ne.current.includes("floating")||Jt!==R.domReference.current&&qt.length===0?Rt!=="0"&&Q.setAttribute("tabindex","0"):Rt!=="-1"&&Q.setAttribute("tabindex","-1")};vt();const yt=new MutationObserver(vt);return yt.observe(Q,{childList:!0,subtree:!0,attributes:!0}),()=>{yt.disconnect()}},[n,U,Q,R,ne,xe,V]);function gt(vt){return n||!b||!m?null:G.createElement(mL,{ref:vt==="start"?Re:Ce,onClick:yt=>L(!1,yt.nativeEvent)},typeof b=="string"?b:"Dismiss")}const Tt=!n&&le&&(m?!B:!0)&&(Ee||m);return G.createElement(G.Fragment,null,Tt&&G.createElement(tp,{"data-type":"inside",ref:mt,onFocus:vt=>{if(m){const Rt=lt();Fa(o[0]==="reference"?Rt[0]:Rt[Rt.length-1])}else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(Pe.current=!1,Lc(vt,pe.portalNode)){const Rt=Q1()||M;Rt?.focus()}else{var yt;(yt=pe.beforeOutsideRef.current)==null||yt.focus()}}}),!B&&gt("start"),r,gt("end"),Tt&&G.createElement(tp,{"data-type":"inside",ref:ft,onFocus:vt=>{if(m)Fa(lt()[0]);else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(x&&(Pe.current=!0),Lc(vt,pe.portalNode)){const Rt=K1()||M;Rt?.focus()}else{var yt;(yt=pe.afterOutsideRef.current)==null||yt.focus()}}}))}let rh=0;function yL(){const t=/iP(hone|ad|od)|iOS/.test(R_()),e=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,a=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",o&&(e[n]=o+"px"),t){var d,p;const m=((d=window.visualViewport)==null?void 0:d.offsetLeft)||0,b=((p=window.visualViewport)==null?void 0:p.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(b))+"px",left:-(a-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[n]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(a,l))}}let DS=()=>{};const gL=G.forwardRef(function(e,r){const{lockScroll:n=!1,...o}=e;return zr(()=>{if(n)return rh++,rh===1&&(DS=yL()),()=>{rh--,rh===0&&DS()}},[n]),G.createElement("div",ld({ref:r},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function WS(t){return ln(t.target)&&t.target.tagName==="BUTTON"}function BS(t){return A_(t)}function M_(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:o,elements:{domReference:a}}=t,{enabled:l=!0,event:d="click",toggle:p=!0,ignoreMouse:m=!1,keyboardHandlers:b=!0,stickIfOpen:x=!0}=e,N=G.useRef(),q=G.useRef(!1),R=G.useMemo(()=>({onPointerDown(C){N.current=C.pointerType},onMouseDown(C){const L=N.current;C.button===0&&d!=="click"&&(ad(L,!0)&&m||(r&&p&&(!(o.current.openEvent&&x)||o.current.openEvent.type==="mousedown")?n(!1,C.nativeEvent,"click"):(C.preventDefault(),n(!0,C.nativeEvent,"click"))))},onClick(C){const L=N.current;if(d==="mousedown"&&N.current){N.current=void 0;return}ad(L,!0)&&m||(r&&p&&(!(o.current.openEvent&&x)||o.current.openEvent.type==="click")?n(!1,C.nativeEvent,"click"):n(!0,C.nativeEvent,"click"))},onKeyDown(C){N.current=void 0,!(C.defaultPrevented||!b||WS(C))&&(C.key===" "&&!BS(a)&&(C.preventDefault(),q.current=!0),C.key==="Enter"&&n(!(r&&p),C.nativeEvent,"click"))},onKeyUp(C){C.defaultPrevented||!b||WS(C)||BS(a)||C.key===" "&&q.current&&(q.current=!1,n(!(r&&p),C.nativeEvent,"click"))}}),[o,a,d,m,b,n,r,x,p]);return G.useMemo(()=>l?{reference:R}:{},[l,R])}const vL={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},_L={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},zS=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t?.outsidePress)!=null?r:!0}};function D_(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:o,dataRef:a}=t,{enabled:l=!0,escapeKey:d=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:b=!1,referencePressEvent:x="pointerdown",ancestorScroll:N=!1,bubbles:q,capture:R}=e,C=Ru(),L=ti(typeof p=="function"?p:()=>!1),P=typeof p=="function"?L:p,T=G.useRef(!1),M=G.useRef(!1),{escapeKey:U,outsidePress:V}=zS(q),{escapeKey:B,outsidePress:K}=zS(R),le=G.useRef(!1),H=ti(Re=>{var Ce;if(!r||!l||!d||Re.key!=="Escape"||le.current)return;const Pe=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,ve=C?tu(C.nodesRef.current,Pe):[];if(!U&&(Re.stopPropagation(),ve.length>0)){let me=!0;if(ve.forEach(Ee=>{var Q;if((Q=Ee.context)!=null&&Q.open&&!Ee.context.dataRef.current.__escapeKeyBubbles){me=!1;return}}),!me)return}n(!1,$P(Re)?Re.nativeEvent:Re,"escape-key")}),ne=ti(Re=>{var Ce;const Pe=()=>{var ve;H(Re),(ve=Wo(Re))==null||ve.removeEventListener("keydown",Pe)};(Ce=Wo(Re))==null||Ce.addEventListener("keydown",Pe)}),W=ti(Re=>{var Ce;const Pe=T.current;T.current=!1;const ve=M.current;if(M.current=!1,m==="click"&&ve||Pe||typeof P=="function"&&!P(Re))return;const me=Wo(Re),Ee="["+nl("inert")+"]",Q=xn(o.floating).querySelectorAll(Ee);let xe=Fr(me)?me:null;for(;xe&&!oo(xe);){const mt=uo(xe);if(oo(mt)||!Fr(mt))break;xe=mt}if(Q.length&&Fr(me)&&!UP(me)&&!wn(me,o.floating)&&Array.from(Q).every(mt=>!wn(xe,mt)))return;if(ln(me)&&pe){const mt=oo(me),ft=Bi(me),gt=/auto|scroll/,Tt=mt||gt.test(ft.overflowX),vt=mt||gt.test(ft.overflowY),yt=Tt&&me.clientWidth>0&&me.scrollWidth>me.clientWidth,Rt=vt&&me.clientHeight>0&&me.scrollHeight>me.clientHeight,qt=ft.direction==="rtl",Jt=Rt&&(qt?Re.offsetX<=me.offsetWidth-me.clientWidth:Re.offsetX>me.clientWidth),Gt=yt&&Re.offsetY>me.clientHeight;if(Jt||Gt)return}const lt=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,at=C&&tu(C.nodesRef.current,lt).some(mt=>{var ft;return Vg(Re,(ft=mt.context)==null?void 0:ft.elements.floating)});if(Vg(Re,o.floating)||Vg(Re,o.domReference)||at)return;const dt=C?tu(C.nodesRef.current,lt):[];if(dt.length>0){let mt=!0;if(dt.forEach(ft=>{var gt;if((gt=ft.context)!=null&&gt.open&&!ft.context.dataRef.current.__outsidePressBubbles){mt=!1;return}}),!mt)return}n(!1,Re,"outside-press")}),re=ti(Re=>{var Ce;const Pe=()=>{var ve;W(Re),(ve=Wo(Re))==null||ve.removeEventListener(m,Pe)};(Ce=Wo(Re))==null||Ce.addEventListener(m,Pe)});G.useEffect(()=>{if(!r||!l)return;a.current.__escapeKeyBubbles=U,a.current.__outsidePressBubbles=V;let Re=-1;function Ce(Q){n(!1,Q,"ancestor-scroll")}function Pe(){window.clearTimeout(Re),le.current=!0}function ve(){Re=window.setTimeout(()=>{le.current=!1},jp()?5:0)}const me=xn(o.floating);d&&(me.addEventListener("keydown",B?ne:H,B),me.addEventListener("compositionstart",Pe),me.addEventListener("compositionend",ve)),P&&me.addEventListener(m,K?re:W,K);let Ee=[];return N&&(Fr(o.domReference)&&(Ee=Qo(o.domReference)),Fr(o.floating)&&(Ee=Ee.concat(Qo(o.floating))),!Fr(o.reference)&&o.reference&&o.reference.contextElement&&(Ee=Ee.concat(Qo(o.reference.contextElement)))),Ee=Ee.filter(Q=>{var xe;return Q!==((xe=me.defaultView)==null?void 0:xe.visualViewport)}),Ee.forEach(Q=>{Q.addEventListener("scroll",Ce,{passive:!0})}),()=>{d&&(me.removeEventListener("keydown",B?ne:H,B),me.removeEventListener("compositionstart",Pe),me.removeEventListener("compositionend",ve)),P&&me.removeEventListener(m,K?re:W,K),Ee.forEach(Q=>{Q.removeEventListener("scroll",Ce)}),window.clearTimeout(Re)}},[a,o,d,P,m,r,n,N,l,U,V,H,B,ne,W,K,re]),G.useEffect(()=>{T.current=!1},[P,m]);const Z=G.useMemo(()=>({onKeyDown:H,...b&&{[vL[x]]:Re=>{n(!1,Re.nativeEvent,"reference-press")},...x!=="click"&&{onClick(Re){n(!1,Re.nativeEvent,"reference-press")}}}}),[H,n,b,x]),pe=G.useMemo(()=>({onKeyDown:H,onMouseDown(){M.current=!0},onMouseUp(){M.current=!0},[_L[m]]:()=>{T.current=!0}}),[H,m]);return G.useMemo(()=>l?{reference:Z,floating:pe}:{},[l,Z,pe])}function bL(t){const{open:e=!1,onOpenChange:r,elements:n}=t,o=L_(),a=G.useRef({}),[l]=G.useState(()=>z1()),d=Od()!=null,[p,m]=G.useState(n.reference),b=ti((q,R,C)=>{a.current.openEvent=q?R:void 0,l.emit("openchange",{open:q,event:R,reason:C,nested:d}),r?.(q,R,C)}),x=G.useMemo(()=>({setPositionReference:m}),[]),N=G.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return G.useMemo(()=>({dataRef:a,open:e,onOpenChange:b,elements:N,events:l,floatingId:o,refs:x}),[e,b,N,l,o,x])}function W_(t){t===void 0&&(t={});const{nodeId:e}=t,r=bL({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,o=n.elements,[a,l]=G.useState(null),[d,p]=G.useState(null),b=o?.domReference||a,x=G.useRef(null),N=Ru();zr(()=>{b&&(x.current=b)},[b]);const q=VF({...t,elements:{...o,...d&&{reference:d}}}),R=G.useCallback(M=>{const U=Fr(M)?{getBoundingClientRect:()=>M.getBoundingClientRect(),contextElement:M}:M;p(U),q.refs.setReference(U)},[q.refs]),C=G.useCallback(M=>{(Fr(M)||M===null)&&(x.current=M,l(M)),(Fr(q.refs.reference.current)||q.refs.reference.current===null||M!==null&&!Fr(M))&&q.refs.setReference(M)},[q.refs]),L=G.useMemo(()=>({...q.refs,setReference:C,setPositionReference:R,domReference:x}),[q.refs,C,R]),P=G.useMemo(()=>({...q.elements,domReference:b}),[q.elements,b]),T=G.useMemo(()=>({...q,...n,refs:L,elements:P,nodeId:e}),[q,L,P,e,n]);return zr(()=>{n.dataRef.current.floatingContext=T;const M=N?.nodesRef.current.find(U=>U.id===e);M&&(M.context=T)}),G.useMemo(()=>({...q,context:T,refs:L,elements:P}),[q,L,P,T])}function wL(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:o,dataRef:a,elements:l}=t,{enabled:d=!0,visibleOnly:p=!0}=e,m=G.useRef(!1),b=G.useRef(),x=G.useRef(!0);G.useEffect(()=>{if(!d)return;const q=ii(l.domReference);function R(){!r&&ln(l.domReference)&&l.domReference===Yi(xn(l.domReference))&&(m.current=!0)}function C(){x.current=!0}return q.addEventListener("blur",R),q.addEventListener("keydown",C,!0),()=>{q.removeEventListener("blur",R),q.removeEventListener("keydown",C,!0)}},[l.domReference,r,d]),G.useEffect(()=>{if(!d)return;function q(R){let{reason:C}=R;(C==="reference-press"||C==="escape-key")&&(m.current=!0)}return o.on("openchange",q),()=>{o.off("openchange",q)}},[o,d]),G.useEffect(()=>()=>{clearTimeout(b.current)},[]);const N=G.useMemo(()=>({onPointerDown(q){O_(q.nativeEvent)||(x.current=!1)},onMouseLeave(){m.current=!1},onFocus(q){if(m.current)return;const R=Wo(q.nativeEvent);if(p&&Fr(R))try{if(S1()&&BP())throw Error();if(!R.matches(":focus-visible"))return}catch{if(!x.current&&!A_(R))return}n(!0,q.nativeEvent,"focus")},onBlur(q){m.current=!1;const R=q.relatedTarget,C=q.nativeEvent,L=Fr(R)&&R.hasAttribute(nl("focus-guard"))&&R.getAttribute("data-type")==="outside";b.current=window.setTimeout(()=>{var P;const T=Yi(l.domReference?l.domReference.ownerDocument:document);!R&&T===l.domReference||wn((P=a.current.floatingContext)==null?void 0:P.refs.floating.current,T)||wn(l.domReference,T)||L||n(!1,C,"focus")})}}),[a,l.domReference,n,p]);return G.useMemo(()=>d?{reference:N}:{},[d,N])}const $S="active",US="selected";function Xg(t,e,r){const n=new Map,o=r==="item";let a=t;if(o&&t){const{[$S]:l,[US]:d,...p}=t;a=p}return{...r==="floating"&&{tabIndex:-1,[Hv]:""},...a,...e.map(l=>{const d=l?l[r]:null;return typeof d=="function"?t?d(t):null:d}).concat(t).reduce((l,d)=>(d&&Object.entries(d).forEach(p=>{let[m,b]=p;if(!(o&&[$S,US].includes(m)))if(m.indexOf("on")===0){if(n.has(m)||n.set(m,[]),typeof b=="function"){var x;(x=n.get(m))==null||x.push(b),l[m]=function(){for(var N,q=arguments.length,R=new Array(q),C=0;C<q;C++)R[C]=arguments[C];return(N=n.get(m))==null?void 0:N.map(L=>L(...R)).find(L=>L!==void 0)}}}else l[m]=b}),l),{})}}function B_(t){t===void 0&&(t=[]);const e=t.map(d=>d?.reference),r=t.map(d=>d?.floating),n=t.map(d=>d?.item),o=G.useCallback(d=>Xg(d,t,"reference"),e),a=G.useCallback(d=>Xg(d,t,"floating"),r),l=G.useCallback(d=>Xg(d,t,"item"),n);return G.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:l}),[o,a,l])}function zp(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function VS(t,e){return zp(e,t===F_||t===Rd,t===Ko||t===Go)}function Yg(t,e,r){return zp(e,t===Rd,r?t===Ko:t===Go)||t==="Enter"||t===" "||t===""}function xL(t,e,r){return zp(e,r?t===Ko:t===Go,t===Rd)}function HS(t,e,r){return zp(e,r?t===Go:t===Ko,t===F_)}function SL(t,e){const{open:r,onOpenChange:n,elements:o}=t,{listRef:a,activeIndex:l,onNavigate:d=()=>{},enabled:p=!0,selectedIndex:m=null,allowEscape:b=!1,loop:x=!1,nested:N=!1,rtl:q=!1,virtual:R=!1,focusItemOnOpen:C="auto",focusItemOnHover:L=!0,openOnArrowKeyDown:P=!0,disabledIndices:T=void 0,orientation:M="vertical",cols:U=1,scrollItemIntoView:V=!0,virtualItemRef:B,itemSizes:K,dense:le=!1}=e,H=Qv(o.floating),ne=Dn(H),W=Od(),re=Ru(),Z=ti(()=>{d(Ce.current===-1?null:Ce.current)}),pe=E1(o.domReference),Re=G.useRef(C),Ce=G.useRef(m??-1),Pe=G.useRef(null),ve=G.useRef(!0),me=G.useRef(Z),Ee=G.useRef(!!o.floating),Q=G.useRef(r),xe=G.useRef(!1),lt=G.useRef(!1),at=Dn(T),dt=Dn(r),mt=Dn(V),ft=Dn(m),[gt,Tt]=G.useState(),[vt,yt]=G.useState(),Rt=ti(()=>{function ae(je){R?(Tt(je.id),re?.events.emit("virtualfocus",je),B&&(B.current=je)):Fa(je,{sync:xe.current,preventScroll:!0})}const ye=a.current[Ce.current];ye&&ae(ye),(xe.current?je=>je():requestAnimationFrame)(()=>{const je=a.current[Ce.current]||ye;if(!je)return;ye||ae(je);const Ge=mt.current;Ge&&Jt&&(lt.current||!ve.current)&&(je.scrollIntoView==null||je.scrollIntoView(typeof Ge=="boolean"?{block:"nearest",inline:"nearest"}:Ge))})});zr(()=>{p&&(r&&o.floating?Re.current&&m!=null&&(lt.current=!0,Ce.current=m,Z()):Ee.current&&(Ce.current=-1,me.current()))},[p,r,o.floating,m,Z]),zr(()=>{if(p&&r&&o.floating)if(l==null){if(xe.current=!1,ft.current!=null)return;if(Ee.current&&(Ce.current=-1,Rt()),(!Q.current||!Ee.current)&&Re.current&&(Pe.current!=null||Re.current===!0&&Pe.current==null)){let ae=0;const ye=()=>{a.current[0]==null?(ae<2&&(ae?requestAnimationFrame:queueMicrotask)(ye),ae++):(Ce.current=Pe.current==null||Yg(Pe.current,M,q)||N?Kg(a,at.current):qS(a,at.current),Pe.current=null,Z())};ye()}}else Fc(a,l)||(Ce.current=l,Rt(),lt.current=!1)},[p,r,o.floating,l,ft,N,a,M,q,Z,Rt,at]),zr(()=>{var ae;if(!p||o.floating||!re||R||!Ee.current)return;const ye=re.nodesRef.current,Oe=(ae=ye.find(_t=>_t.id===W))==null||(ae=ae.context)==null?void 0:ae.elements.floating,je=Yi(xn(o.floating)),Ge=ye.some(_t=>_t.context&&wn(_t.context.elements.floating,je));Oe&&!Ge&&ve.current&&Oe.focus({preventScroll:!0})},[p,o.floating,re,W,R]),zr(()=>{if(!p||!re||!R||W)return;function ae(ye){yt(ye.id),B&&(B.current=ye)}return re.events.on("virtualfocus",ae),()=>{re.events.off("virtualfocus",ae)}},[p,re,R,W,B]),zr(()=>{me.current=Z,Q.current=r,Ee.current=!!o.floating}),zr(()=>{r||(Pe.current=null)},[r]);const qt=l!=null,Jt=G.useMemo(()=>{function ae(Oe){if(!r)return;const je=a.current.indexOf(Oe);je!==-1&&Ce.current!==je&&(Ce.current=je,Z())}return{onFocus(Oe){let{currentTarget:je}=Oe;xe.current=!0,ae(je)},onClick:Oe=>{let{currentTarget:je}=Oe;return je.focus({preventScroll:!0})},...L&&{onMouseMove(Oe){let{currentTarget:je}=Oe;xe.current=!0,lt.current=!1,ae(je)},onPointerLeave(Oe){let{pointerType:je}=Oe;if(!(!ve.current||je==="touch")&&(xe.current=!0,Ce.current=-1,Z(),!R)){var Ge;(Ge=ne.current)==null||Ge.focus({preventScroll:!0})}}}}},[r,ne,L,a,Z,R]),Gt=ti(ae=>{if(ve.current=!1,xe.current=!0,ae.which===229||!dt.current&&ae.currentTarget===ne.current)return;if(N&&HS(ae.key,M,q)){Ln(ae),n(!1,ae.nativeEvent,"list-navigation"),ln(o.domReference)&&(R?re?.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const ye=Ce.current,Oe=Kg(a,T),je=qS(a,T);if(pe||(ae.key==="Home"&&(Ln(ae),Ce.current=Oe,Z()),ae.key==="End"&&(Ln(ae),Ce.current=je,Z())),U>1){const Ge=K||Array.from({length:a.current.length},()=>({width:1,height:1})),_t=ZF(Ge,U,le),Dt=_t.findIndex(Ar=>Ar!=null&&!_h(a.current,Ar,T)),mr=_t.reduce((Ar,Tn,Xr)=>Tn!=null&&!_h(a.current,Tn,T)?Xr:Ar,-1),cr=_t[JF({current:_t.map(Ar=>Ar!=null?a.current[Ar]:null)},{event:ae,orientation:M,loop:x,rtl:q,cols:U,disabledIndices:YF([...T||a.current.map((Ar,Tn)=>_h(a.current,Tn)?Tn:void 0),void 0],_t),minIndex:Dt,maxIndex:mr,prevIndex:XF(Ce.current>je?Oe:Ce.current,Ge,_t,U,ae.key===Rd?"bl":ae.key===(q?Ko:Go)?"tr":"tl"),stopEvent:!0})];if(cr!=null&&(Ce.current=cr,Z()),M==="both")return}if(VS(ae.key,M)){if(Ln(ae),r&&!R&&Yi(ae.currentTarget.ownerDocument)===ae.currentTarget){Ce.current=Yg(ae.key,M,q)?Oe:je,Z();return}Yg(ae.key,M,q)?x?Ce.current=ye>=je?b&&ye!==a.current.length?-1:Oe:Cn(a,{startingIndex:ye,disabledIndices:T}):Ce.current=Math.min(je,Cn(a,{startingIndex:ye,disabledIndices:T})):x?Ce.current=ye<=Oe?b&&ye!==-1?a.current.length:je:Cn(a,{startingIndex:ye,decrement:!0,disabledIndices:T}):Ce.current=Math.max(Oe,Cn(a,{startingIndex:ye,decrement:!0,disabledIndices:T})),Fc(a,Ce.current)&&(Ce.current=-1),Z()}}),er=G.useMemo(()=>R&&r&&qt&&{"aria-activedescendant":vt||gt},[R,r,qt,vt,gt]),ur=G.useMemo(()=>({"aria-orientation":M==="both"?void 0:M,...pe?{}:er,onKeyDown:Gt,onPointerMove(){ve.current=!0}}),[er,Gt,M,pe]),se=G.useMemo(()=>{function ae(Oe){C==="auto"&&x1(Oe.nativeEvent)&&(Re.current=!0)}function ye(Oe){Re.current=C,C==="auto"&&O_(Oe.nativeEvent)&&(Re.current=!0)}return{...er,onKeyDown(Oe){ve.current=!1;const je=Oe.key.startsWith("Arrow"),Ge=["Home","End"].includes(Oe.key),_t=je||Ge,Dt=xL(Oe.key,M,q),mr=HS(Oe.key,M,q),cr=VS(Oe.key,M),Ar=(N?Dt:cr)||Oe.key==="Enter"||Oe.key.trim()==="";if(R&&r){const js=re?.nodesRef.current.find(Ut=>Ut.parentId==null),yn=re&&js?aL(re.nodesRef.current,js.id):null;if(_t&&yn&&B){const Ut=new KeyboardEvent("keydown",{key:Oe.key,bubbles:!0});if(Dt||mr){var Tn,Xr;const yo=((Tn=yn.context)==null?void 0:Tn.elements.domReference)===Oe.currentTarget,go=mr&&!yo?(Xr=yn.context)==null?void 0:Xr.elements.domReference:Dt?a.current.find(vo=>vo?.id===gt):null;go&&(Ln(Oe),go.dispatchEvent(Ut),yt(void 0))}if((cr||Ge)&&yn.context&&yn.context.open&&yn.parentId&&Oe.currentTarget!==yn.context.elements.domReference){var $n;Ln(Oe),($n=yn.context.elements.domReference)==null||$n.dispatchEvent(Ut);return}}return Gt(Oe)}if(!(!r&&!P&&je)){if(Ar&&(Pe.current=N&&cr?null:Oe.key),N){Dt&&(Ln(Oe),r?(Ce.current=Kg(a,at.current),Z()):n(!0,Oe.nativeEvent,"list-navigation"));return}cr&&(m!=null&&(Ce.current=m),Ln(Oe),!r&&P?n(!0,Oe.nativeEvent,"list-navigation"):Gt(Oe),r&&Z())}},onFocus(){r&&!R&&(Ce.current=-1,Z())},onPointerDown:ye,onMouseDown:ae,onClick:ae}},[gt,er,Gt,at,C,a,N,Z,n,r,P,M,q,m,re,R,B]);return G.useMemo(()=>p?{reference:se,floating:ur,item:Jt}:{},[p,se,ur,Jt])}const QS=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function Ml(t,e){return typeof t=="function"?t(e):t}function EL(t,e){const[r,n]=G.useState(t);return t&&!r&&n(!0),G.useEffect(()=>{if(!t&&r){const o=setTimeout(()=>n(!1),e);return()=>clearTimeout(o)}},[t,r,e]),r}function NL(t,e){e===void 0&&(e={});const{open:r,elements:{floating:n}}=t,{duration:o=250}=e,l=(typeof o=="number"?o:o.close)||0,[d,p]=G.useState("unmounted"),m=EL(r,l);return!m&&d==="close"&&p("unmounted"),zr(()=>{if(n){if(r){p("initial");const b=requestAnimationFrame(()=>{p("open")});return()=>{cancelAnimationFrame(b)}}p("close")}},[r,n]),{isMounted:m,status:d}}function z_(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:n,close:o,common:a,duration:l=250}=e,d=t.placement,p=d.split("-")[0],m=G.useMemo(()=>({side:p,placement:d}),[p,d]),b=typeof l=="number",x=(b?l:l.open)||0,N=(b?l:l.close)||0,[q,R]=G.useState(()=>({...Ml(a,m),...Ml(r,m)})),{isMounted:C,status:L}=NL(t,{duration:l}),P=Dn(r),T=Dn(n),M=Dn(o),U=Dn(a);return zr(()=>{const V=Ml(P.current,m),B=Ml(M.current,m),K=Ml(U.current,m),le=Ml(T.current,m)||Object.keys(V).reduce((H,ne)=>(H[ne]="",H),{});if(L==="initial"&&R(H=>({transitionProperty:H.transitionProperty,...K,...V})),L==="open"&&R({transitionProperty:Object.keys(le).map(QS).join(","),transitionDuration:x+"ms",...K,...le}),L==="close"){const H=B||V;R({transitionProperty:Object.keys(H).map(QS).join(","),transitionDuration:N+"ms",...K,...H})}},[N,M,P,T,U,x,L,m]),{isMounted:C,styles:q}}const kL=G.createContext({close(){}}),qL=fr({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),CL=({target:t,action:e="hover",disabled:r=!1,closeOnClick:n=!1,delay:o=100,float:a,variant:l,tva:d=qL,css:p,children:m})=>{const[b,x]=G.useState(!1),{refs:N,floatingStyles:q,context:R}=W_({open:b,onOpenChange:x,placement:"top",whileElementsMounted:j1,middleware:[D1(10),W1({fallbackAxisSideDirection:"start"}),HF()],...a}),{getReferenceProps:C,getFloatingProps:L}=B_([oL(R,{enabled:e==="hover",delay:o}),M_(R,{enabled:e==="click"}),wL(R),D_(R)]),{isMounted:P,styles:T}=z_(R),M=d({mounted:P,...l,css:p}).slots;return w.jsxs(w.Fragment,{children:[w.jsx("button",{type:"button",ref:N.setReference,...C(),disabled:r,className:M.target(),children:t}),w.jsx(j_,{children:w.jsx("div",{ref:N.setFloating,style:{...q,...T},className:M.portal(),...L(),onClick:n?()=>{x(!1)}:void 0,children:w.jsx(kL.Provider,{value:{close(){x(!1)}},children:m})})})]})},RL="icon-[system-uicons--menu-hamburger]",X1=fr({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),xr=({icon:t,variant:e,tva:r=X1,css:n,...o})=>{const a=r({...e,css:n}).slots;return t?w.jsx("div",{className:a.base({css:[t]}),...o}):null},OL=fr({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),xi=({icon:t=RL,iconProps:e,children:r,variant:n,tva:o=OL,css:a,...l})=>{const d=o({...n,css:a}).slots;return w.jsx(sL,{children:w.jsx(CL,{action:"click",target:w.jsx(xr,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:w.jsx("div",{className:d.base(),children:r})})})},Y1="icon-[svg-spinners--90-ring-with-bg]",AL=fr({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),ek=({iconEnabled:t,iconDisabled:e,iconLoading:r=Y1,disabled:n=!1,loading:o=!1,onClick:a,variant:l,tva:d=AL,css:p,children:m,...b})=>{const x=d({disabled:n,loading:o,...l,css:p}).slots;return w.jsxs("div",{className:x.base(),onClick:n?void 0:a,...b,children:[n?w.jsx(xr,{icon:o?r:e??t,variant:{size:"xl"}}):w.jsx(xr,{icon:o?r:t,variant:{size:"xl"}}),m]})},IL="icon-[iconamoon--close-light]",as=G.createContext(void 0),TL=fr({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),$_=({target:t,icon:e,title:r,disabled:n=!1,outside:o=!1,variant:a,css:l,tva:d=TL,children:p})=>{const[m,b]=G.useState(!1),x=nL(),{refs:N,context:q}=W_({nodeId:x,open:m,onOpenChange:b}),R=M_(q),C=D_(q,{outsidePress:o}),{getReferenceProps:L,getFloatingProps:P}=B_([R,C]),{isMounted:T,styles:M}=z_(q),U=d({disabled:n,...a,css:l}).slots;return w.jsxs(as.Provider,{value:{close(){b(!1)}},children:[w.jsx("div",{ref:N.setReference,...L({disabled:n}),className:U.target(),children:t}),w.jsx(iL,{id:x,children:T&&w.jsx(w.Fragment,{children:w.jsx(j_,{children:w.jsx(gL,{lockScroll:!0,style:M,className:U.base(),children:w.jsx(Z1,{context:q,children:w.jsxs("div",{ref:N.setFloating,...P(),className:U.modal(),children:[w.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[w.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(E_(e)?w.jsx(xr,{icon:e,variant:{size:"xl"}}):e),r&&w.jsx("div",{className:"text-lg font-semibold text-slate-700",children:r})]}),w.jsx(ek,{iconEnabled:IL,onClick:()=>b(!1)})]}),p]})})})})})})]})},PL=fr({use:MP,slot:{},variant:{},defaults:{}}),Zr=({icon:t,iconProps:e,label:r,textTitle:n,disabled:o=!1,modalProps:a,variant:l,tva:d=PL,css:p,children:m})=>{const b=d({...l,disabled:o,css:p}).slots;return w.jsxs("div",{className:b.base(),children:[E_(t)?w.jsx(xr,{icon:t,...e}):t,w.jsx($_,{icon:t,target:r,title:n,disabled:o,css:{modal:["w-1/2"]},...a,children:m})]})},FL=fr({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),LL=({variant:t,tva:e=FL,css:r,...n})=>{const o=e({...t,css:r}).slots;return w.jsx("div",{className:o.base(),...n})},jL="icon-[material-symbols-light--check-small]",ML="icon-[material-symbols-light--close-small]",DL="icon-[material-symbols-light--check-indeterminate-small]",WL=fr({use:X1,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),BL=({value:t,checkIcon:e=jL,unCheckIcon:r=ML,undefinedIcon:n=DL,tva:o=WL,...a})=>t==null?w.jsx(xr,{icon:n,tva:o,...a}):w.jsx(xr,{icon:t?e:r,tva:l=>o({...l,value:t}),...a}),zL=fr({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),$L=({value:t,onChange:e,variant:r,tva:n=zL,css:o,...a})=>{const l=n({...r,css:o}).slots;return w.jsx("div",{className:l.base(),children:w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:d=>{e(d.target.checked)},...a}),w.jsx("div",{className:l.switch()})]})})},UL=fr({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),zn=({iconEnabled:t,iconDisabled:e,iconLoading:r=Y1,iconProps:n,loading:o,variant:a,tva:l=UL,css:d,children:p,...m})=>{const b=l({disabled:m.disabled,...a,css:d}).slots;return w.jsxs("button",{type:"button",className:b.base(),...m,children:[m.disabled?w.jsx(xr,{icon:o===!0?r:e,variant:{size:"xl"},...n}):w.jsx(xr,{icon:o===!0?r:t,variant:{size:"xl"},...n}),p]})},VL=G.createContext({inline:!1}),HL=fr({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),KS="icon-[tabler--dots]",QL=fr({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),KL=fr({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),ev=({pages:t,page:e,onPage:r,variant:n,tva:o=KL,css:a})=>{const l=o({...n,css:a}).slots;return w.jsx("nav",{className:l.base(),children:w.jsx("ul",{className:l.list(),children:t.map((d,p)=>w.jsx("li",{className:l.page({current:e===d-1}),onClick:()=>r(d-1),children:d},`page-${d}-${p}`))})})},GL=fr({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),tk=({items:t,icon:e,defaultValue:r,render:n,textSelect:o,disabled:a=!1,onItem:l,onSelect:d,onChange:p,value:m,variant:b,tva:x=GL,css:N})=>{const[q,R]=G.useState(!1),[C,L]=G.useState(null),[P,T]=G.useState(t.findIndex(me=>me.id===r));G.useEffect(()=>{T(t.findIndex(me=>me.id===m))},[m]);const{refs:M,floatingStyles:U,context:V}=W_({placement:"bottom-start",open:q,onOpenChange:R,whileElementsMounted:j1,middleware:[D1(5),W1({padding:10}),QF({apply({rects:me,elements:Ee,availableHeight:Q}){Object.assign(Ee.floating.style,{maxHeight:`${Q}px`,minWidth:`${me.reference.width}px`})},padding:10})]}),B=G.useRef([]),K=G.useRef(!1),le=M_(V,{event:"mousedown"}),H=D_(V),ne=SL(V,{listRef:B,activeIndex:C,selectedIndex:P,onNavigate:L,loop:!0}),{getReferenceProps:W,getFloatingProps:re,getItemProps:Z}=B_([H,ne,le]),{isMounted:pe,styles:Re}=z_(V),Ce=me=>{T(me),R(!1);const Ee=t[me];Ee&&l?.(Ee),d?.(Ee),p?.(Ee?.id)},Pe=P===null?void 0:t[P],ve=x({disabled:a,...b,css:N}).slots;return w.jsxs(w.Fragment,{children:[w.jsx("div",{tabIndex:a?-1:0,ref:a?void 0:M.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...a?{}:W(),className:ve.base(),children:w.jsxs("div",{className:ve.input(),children:[e?w.jsx(xr,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,Pe?w.jsx(n,{entity:Pe}):o||Za.rich("Select item"),w.jsx(xr,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!q&&"text-slate-400",q&&"text-slate-600","group-hover:text-slate-600"]}})]})}),pe&&w.jsx(j_,{children:w.jsx(Z1,{context:V,modal:!1,children:w.jsx("div",{ref:M.setFloating,style:{...U,...Re},className:ve.popup(),...re(),children:t.map((me,Ee)=>w.jsxs("div",{ref:Q=>{B.current[Ee]=Q},role:"option",tabIndex:Ee===C?0:-1,"aria-selected":Ee===P&&Ee===C,className:ve.item({selected:Ee===P,active:Ee===C}),...Z({onClick(){Ce(Ee)},onKeyDown(Q){Q.key==="Enter"&&(Q.preventDefault(),Ce(Ee)),Q.key===" "&&!K.current&&(Q.preventDefault(),Ce(Ee))}}),children:[w.jsx(n,{entity:me}),Ee===P&&w.jsx(xr,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},me.id))})})})]})},JL=({sizes:t=[5,15,30,50,100],size:e,onSize:r,...n})=>w.jsx(tk,{items:t.map(o=>({id:`${o}`,size:o})),defaultValue:`${e}`,value:`${e}`,onItem:({size:o})=>r(o),render:({entity:{size:o}})=>o,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...n}),GS=({cursor:t,count:e,textTotal:r,onPage:n,onSize:o,variant:a,tva:l=QL,css:d})=>{const p=G.useMemo(()=>PP({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...a,css:d}).slots;return w.jsxs("div",{className:m.base(),children:[p.total>1?w.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(p.type)&&w.jsxs(w.Fragment,{children:[w.jsx(ev,{page:t.page,pages:p.start,onPage:n}),w.jsx(xr,{icon:KS})]}),w.jsx(ev,{page:t.page,pages:p.pages,onPage:n}),["both","end"].includes(p.type)&&w.jsxs(w.Fragment,{children:[w.jsx(xr,{icon:KS}),w.jsx(ev,{page:t.page,pages:p.end,onPage:n})]})]}):null,w.jsxs("div",{className:m.sums(),children:[w.jsx("div",{children:r}),w.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&w.jsxs(w.Fragment,{children:[w.jsx("div",{children:"/"}),w.jsx("div",{className:"font-semibold",children:e.where})]})]}),w.jsx(JL,{size:t.size,onSize:o})]})},ha=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,page:e}})})},pa=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,size:e,page:0}})})};function Jo(t){return typeof t>"u"||t===void 0}function Si(t){return typeof t=="string"}function $p(t){return typeof t=="number"}function rp(t){return typeof t=="boolean"}function U_(t){return t===null}function ZL(t){return t instanceof Date}function V_(t){return typeof t=="bigint"}function Ni(t){return typeof t=="function"}function gs(t){return typeof t=="object"&&t!==null}function I(t){return Object.freeze(t)}function nh(t){return co(t)?t:[t]}function co(t){return Array.isArray(t)}function Zo(t){return t}const kr=I({is(t){return t.kind==="AlterTableNode"},create(t){return I({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return I({...t,...e})},cloneWithColumnAlteration(t,e){return I({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),Ur=I({is(t){return t.kind==="IdentifierNode"},create(t){return I({kind:"IdentifierNode",name:t})}}),eo=I({is(t){return t.kind==="CreateIndexNode"},create(t){return I({kind:"CreateIndexNode",name:Ur.create(t)})},cloneWith(t,e){return I({...t,...e})},cloneWithColumns(t,e){return I({...t,columns:[...t.columns||[],...e]})}}),rk=I({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return I({kind:"CreateSchemaNode",schema:Ur.create(t),...e})},cloneWith(t,e){return I({...t,...e})}}),XL=["preserve rows","delete rows","drop"],ui=I({is(t){return t.kind==="CreateTableNode"},create(t){return I({kind:"CreateTableNode",table:t,columns:I([])})},cloneWithColumn(t,e){return I({...t,columns:I([...t.columns,e])})},cloneWithConstraint(t,e){return I({...t,constraints:t.constraints?I([...t.constraints,e]):I([e])})},cloneWithFrontModifier(t,e){return I({...t,frontModifiers:t.frontModifiers?I([...t.frontModifiers,e]):I([e])})},cloneWithEndModifier(t,e){return I({...t,endModifiers:t.endModifiers?I([...t.endModifiers,e]):I([e])})},cloneWith(t,e){return I({...t,...e})}}),sa=I({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return I({kind:"SchemableIdentifierNode",identifier:Ur.create(t)})},createWithSchema(t,e){return I({kind:"SchemableIdentifierNode",schema:Ur.create(t),identifier:Ur.create(e)})}}),jc=I({is(t){return t.kind==="DropIndexNode"},create(t,e){return I({kind:"DropIndexNode",name:sa.create(t),...e})},cloneWith(t,e){return I({...t,...e})}}),Kv=I({is(t){return t.kind==="DropSchemaNode"},create(t,e){return I({kind:"DropSchemaNode",schema:Ur.create(t),...e})},cloneWith(t,e){return I({...t,...e})}}),Gv=I({is(t){return t.kind==="DropTableNode"},create(t,e){return I({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return I({...t,...e})}}),ma=I({is(t){return t.kind==="AliasNode"},create(t,e){return I({kind:"AliasNode",node:t,alias:e})}}),Xo=I({is(t){return t.kind==="TableNode"},create(t){return I({kind:"TableNode",table:sa.create(t)})},createWithSchema(t,e){return I({kind:"TableNode",table:sa.createWithSchema(t,e)})}});function si(t){return gs(t)&&Ni(t.toOperationNode)}function YL(t){return gs(t)&&"expressionType"in t&&si(t)}function ej(t){return gs(t)&&"expression"in t&&Si(t.alias)&&si(t)}const Zs=I({is(t){return t.kind==="SelectModifierNode"},create(t,e){return I({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return I({kind:"SelectModifierNode",rawModifier:t})}}),oa=I({is(t){return t.kind==="AndNode"},create(t,e){return I({kind:"AndNode",left:t,right:e})}}),Ou=I({is(t){return t.kind==="OrNode"},create(t,e){return I({kind:"OrNode",left:t,right:e})}}),tv=I({is(t){return t.kind==="OnNode"},create(t){return I({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return I({...t,on:e==="And"?oa.create(t.on,r):Ou.create(t.on,r)})}}),Mc=I({is(t){return t.kind==="JoinNode"},create(t,e){return I({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return I({kind:"JoinNode",joinType:t,table:e,on:tv.create(r)})},cloneWithOn(t,e){return I({...t,on:t.on?tv.cloneWithOperation(t.on,"And",e):tv.create(e)})}}),vu=I({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return I({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),tj=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],rj=["+","-","*","/","%","^","&","|","#","<<",">>"],nk=["->","->>"],nj=[...tj,...rj,"&&","||"],ij=["exists","not exists"],sj=["not","-",...ij],oj=[...nj,...nk,...sj,"between","between symmetric"],aa=I({is(t){return t.kind==="OperatorNode"},create(t){return I({kind:"OperatorNode",operator:t})}});function JS(t){return Si(t)&&nk.includes(t)}const sn=I({is(t){return t.kind==="ColumnNode"},create(t){return I({kind:"ColumnNode",column:Ur.create(t)})}}),H_=I({is(t){return t.kind==="SelectAllNode"},create(){return I({kind:"SelectAllNode"})}}),Up=I({is(t){return t.kind==="ReferenceNode"},create(t,e){return I({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return I({kind:"ReferenceNode",table:t,column:H_.create()})}});class aj{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return lk(this.#e)}}function ik(t){return gs(t)&&si(t)&&Si(t.dynamicReference)}const Jv=I({is(t){return t.kind==="OrderByItemNode"},create(t,e){return I({kind:"OrderByItemNode",orderBy:t,direction:e})}}),Rn=I({is(t){return t.kind==="RawNode"},create(t,e){return I({kind:"RawNode",sqlFragments:I(t),parameters:I(e)})},createWithSql(t){return Rn.create([t],[])},createWithChild(t){return Rn.create(["",""],[t])},createWithChildren(t){return Rn.create(new Array(t.length+1).fill(""),t)}});function sk(t){return t==="asc"||t==="desc"}function Ad(t){if(t.length===2)return[rv(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>rv(r)):[rv(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function rv(t,e){const r=lj(t);if(Jv.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return Jv.create(r,ok(e))}function lj(t){if(Ld(t))return ol(t);if(ik(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!sk(r))throw new Error(`Invalid order by direction: ${r}`);return Jv.create(fo(e),ok(r))}return fo(t)}function ok(t){if(t)return t==="asc"||t==="desc"?Rn.createWithSql(t):t.toOperationNode()}const np=I({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return I({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return I({...t,traversal:e})}}),ak=I({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return I({kind:"JSONOperatorChainNode",operator:t,values:I([])})},cloneWithValue(t,e){return I({...t,values:I([...t.values,e])})}}),Dc=I({is(t){return t.kind==="JSONPathNode"},create(t){return I({kind:"JSONPathNode",inOperator:t,pathLegs:I([])})},cloneWithLeg(t,e){return I({...t,pathLegs:I([...t.pathLegs,e])})}});function lk(t){return Si(t)?fo(t):t.toOperationNode()}function ud(t){return co(t)?t.map(e=>gi(e)):[gi(t)]}function gi(t){return Ld(t)?ol(t):lk(t)}function uj(t,e){const r=fo(t);if(JS(e))return np.create(r,ak.create(aa.create(e)));const n=e.slice(0,-1);if(JS(n))return np.create(r,Dc.create(aa.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function fo(t){const e=".";if(!t.includes(e))return Up.create(sn.create(t));const r=t.split(e).map(Q_);if(r.length===3)return dj(r);if(r.length===2)return fj(r);throw new Error(`invalid column reference ${t}`)}function cj(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(Q_);return ma.create(fo(r),Ur.create(n))}else return fo(t)}function uk(t){return sn.create(t)}function ip(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(Q_);if(!sk(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Ad([r,n])[0]}else return uk(t)}function dj(t){const[e,r,n]=t;return Up.create(sn.create(n),Xo.createWithSchema(e,r))}function fj(t){const[e,r]=t;return Up.create(sn.create(r),Xo.create(e))}function Q_(t){return t.trim()}const ck=I({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return I({kind:"PrimitiveValueListNode",values:I([...t])})}}),K_=I({is(t){return t.kind==="ValueListNode"},create(t){return I({kind:"ValueListNode",values:I(t)})}}),Ns=I({is(t){return t.kind==="ValueNode"},create(t){return I({kind:"ValueNode",value:t})},createImmediate(t){return I({kind:"ValueNode",value:t,immediate:!0})}});function hj(t){return co(t)?pj(t):an(t)}function an(t){return Ld(t)?ol(t):Ns.create(t)}function G_(t){return $p(t)||rp(t)||U_(t)}function J_(t){if(!G_(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Ns.createImmediate(t)}function pj(t){return t.some(Ld)?K_.create(t.map(e=>an(e))):ck.create(t)}const _u=I({is(t){return t.kind==="ParensNode"},create(t){return I({kind:"ParensNode",node:t})}});function Sn(t){if(t.length===3)return Z_(t[0],t[1],t[2]);if(t.length===1)return an(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function Z_(t,e,r){return mj(e)&&dk(r)?vu.create(gi(t),Zv(e),Ns.createImmediate(r)):vu.create(gi(t),Zv(e),hj(r))}function ks(t,e,r){return vu.create(gi(t),Zv(e),gi(r))}function ZS(t,e){return sp(Object.entries(t).filter(([,r])=>!Jo(r)).map(([r,n])=>Z_(r,dk(n)?"is":"=",n)),e)}function sp(t,e,r=!0){const n=e==="and"?oa.create:Ou.create;if(t.length===0)return vu.create(Ns.createImmediate(1),aa.create("="),Ns.createImmediate(e==="and"?1:0));let o=XS(t[0]);for(let a=1;a<t.length;++a)o=n(o,XS(t[a]));return t.length>1&&r?_u.create(o):o}function mj(t){return t==="is"||t==="is not"}function dk(t){return U_(t)||rp(t)}function Zv(t){if(Si(t)&&oj.includes(t))return aa.create(t);if(si(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function XS(t){return si(t)?t.toOperationNode():t}const la=I({is(t){return t.kind==="OrderByNode"},create(t){return I({kind:"OrderByNode",items:I([...t])})},cloneWithItems(t,e){return I({...t,items:I([...t.items,...e])})}}),YS=I({is(t){return t.kind==="PartitionByNode"},create(t){return I({kind:"PartitionByNode",items:I(t)})},cloneWithItems(t,e){return I({...t,items:I([...t.items,...e])})}}),Xv=I({is(t){return t.kind==="OverNode"},create(){return I({kind:"OverNode"})},cloneWithOrderByItems(t,e){return I({...t,orderBy:t.orderBy?la.cloneWithItems(t.orderBy,e):la.create(e)})},cloneWithPartitionByItems(t,e){return I({...t,partitionBy:t.partitionBy?YS.cloneWithItems(t.partitionBy,e):YS.create(e)})}}),op=I({is(t){return t.kind==="FromNode"},create(t){return I({kind:"FromNode",froms:I(t)})},cloneWithFroms(t,e){return I({...t,froms:I([...t.froms,...e])})}}),eE=I({is(t){return t.kind==="GroupByNode"},create(t){return I({kind:"GroupByNode",items:I(t)})},cloneWithItems(t,e){return I({...t,items:I([...t.items,...e])})}}),tE=I({is(t){return t.kind==="HavingNode"},create(t){return I({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return I({...t,having:e==="And"?oa.create(t.having,r):Ou.create(t.having,r)})}}),Nr=I({is(t){return t.kind==="SelectQueryNode"},create(t){return I({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return I({kind:"SelectQueryNode",from:op.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return I({...t,selections:t.selections?I([...t.selections,...e]):I(e)})},cloneWithDistinctOn(t,e){return I({...t,distinctOn:t.distinctOn?I([...t.distinctOn,...e]):I(e)})},cloneWithFrontModifier(t,e){return I({...t,frontModifiers:t.frontModifiers?I([...t.frontModifiers,e]):I([e])})},cloneWithOrderByItems(t,e){return I({...t,orderBy:t.orderBy?la.cloneWithItems(t.orderBy,e):la.create(e)})},cloneWithGroupByItems(t,e){return I({...t,groupBy:t.groupBy?eE.cloneWithItems(t.groupBy,e):eE.create(e)})},cloneWithLimit(t,e){return I({...t,limit:e})},cloneWithOffset(t,e){return I({...t,offset:e})},cloneWithFetch(t,e){return I({...t,fetch:e})},cloneWithHaving(t,e){return I({...t,having:t.having?tE.cloneWithOperation(t.having,"And",e):tE.create(e)})},cloneWithSetOperations(t,e){return I({...t,setOperations:t.setOperations?I([...t.setOperations,...e]):I([...e])})},cloneWithoutSelections(t){return I({...t,selections:[]})},cloneWithoutLimit(t){return I({...t,limit:void 0})},cloneWithoutOffset(t){return I({...t,offset:void 0})},cloneWithoutOrderBy(t){return I({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return I({...t,groupBy:void 0})}});function sr(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class ru{#e;constructor(e){this.#e=I(e)}on(...e){return new ru({...this.#e,joinNode:Mc.cloneWithOn(this.#e.joinNode,Sn(e))})}onRef(e,r,n){return new ru({...this.#e,joinNode:Mc.cloneWithOn(this.#e.joinNode,ks(e,r,n))})}onTrue(){return new ru({...this.#e,joinNode:Mc.cloneWithOn(this.#e.joinNode,Rn.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}sr(ru,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const yj=I({is(t){return t.kind==="PartitionByItemNode"},create(t){return I({kind:"PartitionByItemNode",partitionBy:t})}});function gj(t){return ud(t).map(yj.create)}class cd{#e;constructor(e){this.#e=I(e)}orderBy(e,r){return new cd({overNode:Xv.cloneWithOrderByItems(this.#e.overNode,Ad([e,r]))})}partitionBy(e){return new cd({overNode:Xv.cloneWithPartitionByItems(this.#e.overNode,gj(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}sr(cd,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Wc=I({is(t){return t.kind==="SelectionNode"},create(t){return I({kind:"SelectionNode",selection:t})},createSelectAll(){return I({kind:"SelectionNode",selection:H_.create()})},createSelectAllFromTable(t){return I({kind:"SelectionNode",selection:Up.createSelectAll(t)})}});function is(t){return Ni(t)?is(t(Iu())):co(t)?t.map(e=>rE(e)):[rE(t)]}function rE(t){return Si(t)?Wc.create(cj(t)):ik(t)?Wc.create(t.toOperationNode()):Wc.create(Ek(t))}function qs(t){return t?Array.isArray(t)?t.map(nE):[nE(t)]:[Wc.createSelectAll()]}function nE(t){if(Si(t))return Wc.createSelectAllFromTable(tn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const vj=I({is(t){return t.kind==="ValuesNode"},create(t){return I({kind:"ValuesNode",values:I(t)})}}),_j=I({is(t){return t.kind==="DefaultInsertValueNode"},create(){return I({kind:"DefaultInsertValueNode"})}});function fk(t){const e=Ni(t)?t(Iu()):t,r=co(e)?e:I([e]);return bj(r)}function bj(t){const e=wj(t);return[I([...e.keys()].map(sn.create)),vj.create(t.map(r=>xj(r,e)))]}function wj(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const o of n)!e.has(o)&&r[o]!==void 0&&e.set(o,e.size)}return e}function xj(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let o=!1;for(const l of r){const d=e.get(l);if(Jo(d))continue;const p=t[l];(Jo(p)||Ld(p))&&(o=!0),n[d]=p}if(r.length<e.size||o){const l=_j.create();return K_.create(n.map(d=>Jo(d)?l:an(d)))}return ck.create(n)}const fi=I({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return I({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return I({kind:"InsertQueryNode"})},cloneWith(t,e){return I({...t,...e})}}),nu=I({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return I({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return I({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return I({...t,from:t.from?op.cloneWithFroms(t.from,e):op.create(e)})},cloneWithUpdates(t,e){return I({...t,updates:t.updates?I([...t.updates,...e]):e})},cloneWithLimit(t,e){return I({...t,limit:e})}}),iE=I({is(t){return t.kind==="UsingNode"},create(t){return I({kind:"UsingNode",tables:I(t)})},cloneWithTables(t,e){return I({...t,tables:I([...t.tables,...e])})}}),Ma=I({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return I({kind:"DeleteQueryNode",from:op.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return I({...t,orderBy:t.orderBy?la.cloneWithItems(t.orderBy,e):la.create(e)})},cloneWithoutOrderBy(t){return I({...t,orderBy:void 0})},cloneWithLimit(t,e){return I({...t,limit:e})},cloneWithoutLimit(t){return I({...t,limit:void 0})},cloneWithUsing(t,e){return I({...t,using:t.using!==void 0?iE.cloneWithTables(t.using,e):iE.create(e)})}}),ei=I({is(t){return t.kind==="WhereNode"},create(t){return I({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return I({...t,where:e==="And"?oa.create(t.where,r):Ou.create(t.where,r)})}}),sE=I({is(t){return t.kind==="ReturningNode"},create(t){return I({kind:"ReturningNode",selections:I(t)})},cloneWithSelections(t,e){return I({...t,selections:t.selections?I([...t.selections,...e]):I(e)})}}),Sj=I({is(t){return t.kind==="ExplainNode"},create(t,e){return I({kind:"ExplainNode",format:t,options:e})}}),Id=I({is(t){return t.kind==="WhenNode"},create(t){return I({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return I({...t,result:e})}}),ri=I({is(t){return t.kind==="MergeQueryNode"},create(t,e){return I({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return I({...t,using:e})},cloneWithWhen(t,e){return I({...t,whens:t.whens?I([...t.whens,e]):I([e])})},cloneWithThen(t,e){return I({...t,whens:t.whens?I([...t.whens.slice(0,-1),Id.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),oE=I({is(t){return t.kind==="OutputNode"},create(t){return I({kind:"OutputNode",selections:I(t)})},cloneWithSelections(t,e){return I({...t,selections:t.selections?I([...t.selections,...e]):I(e)})}}),Ct=I({is(t){return Nr.is(t)||fi.is(t)||nu.is(t)||Ma.is(t)||ri.is(t)},cloneWithEndModifier(t,e){return I({...t,endModifiers:t.endModifiers?I([...t.endModifiers,e]):I([e])})},cloneWithWhere(t,e){return I({...t,where:t.where?ei.cloneWithOperation(t.where,"And",e):ei.create(e)})},cloneWithJoin(t,e){return I({...t,joins:t.joins?I([...t.joins,e]):I([e])})},cloneWithReturning(t,e){return I({...t,returning:t.returning?sE.cloneWithSelections(t.returning,e):sE.create(e)})},cloneWithoutReturning(t){return I({...t,returning:void 0})},cloneWithoutWhere(t){return I({...t,where:void 0})},cloneWithExplain(t,e,r){return I({...t,explain:Sj.create(e,r?.toOperationNode())})},cloneWithTop(t,e){return I({...t,top:e})},cloneWithOutput(t,e){return I({...t,output:t.output?oE.cloneWithSelections(t.output,e):oE.create(e)})}}),hk=I({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return I({kind:"ColumnUpdateNode",column:t,value:e})}});function Ej(...t){return t.length===2?[hk.create(gi(t[0]),an(t[1]))]:X_(t[0])}function X_(t){const e=Ni(t)?t(Iu()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>hk.create(sn.create(r),an(n)))}const Nj=I({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return I({kind:"OnDuplicateKeyNode",updates:t})}});class kj{insertId;numInsertedOrUpdatedRows;constructor(e,r){this.insertId=e,this.numInsertedOrUpdatedRows=r}}class Td extends Error{node;constructor(e){super("no result"),this.node=e}}function Pd(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const ci=I({is(t){return t.kind==="OnConflictNode"},create(){return I({kind:"OnConflictNode"})},cloneWith(t,e){return I({...t,...e})},cloneWithIndexWhere(t,e){return I({...t,indexWhere:t.indexWhere?ei.cloneWithOperation(t.indexWhere,"And",e):ei.create(e)})},cloneWithIndexOrWhere(t,e){return I({...t,indexWhere:t.indexWhere?ei.cloneWithOperation(t.indexWhere,"Or",e):ei.create(e)})},cloneWithUpdateWhere(t,e){return I({...t,updateWhere:t.updateWhere?ei.cloneWithOperation(t.updateWhere,"And",e):ei.create(e)})},cloneWithUpdateOrWhere(t,e){return I({...t,updateWhere:t.updateWhere?ei.cloneWithOperation(t.updateWhere,"Or",e):ei.create(e)})},cloneWithoutIndexWhere(t){return I({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return I({...t,updateWhere:void 0})}});class ys{#e;constructor(e){this.#e=I(e)}column(e){const r=sn.create(e);return new ys({...this.#e,onConflictNode:ci.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?I([...this.#e.onConflictNode.columns,r]):I([r])})})}columns(e){const r=e.map(sn.create);return new ys({...this.#e,onConflictNode:ci.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?I([...this.#e.onConflictNode.columns,...r]):I(r)})})}constraint(e){return new ys({...this.#e,onConflictNode:ci.cloneWith(this.#e.onConflictNode,{constraint:Ur.create(e)})})}expression(e){return new ys({...this.#e,onConflictNode:ci.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new ys({...this.#e,onConflictNode:ci.cloneWithIndexWhere(this.#e.onConflictNode,Sn(e))})}whereRef(e,r,n){return new ys({...this.#e,onConflictNode:ci.cloneWithIndexWhere(this.#e.onConflictNode,ks(e,r,n))})}clearWhere(){return new ys({...this.#e,onConflictNode:ci.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new pk({...this.#e,onConflictNode:ci.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new iu({...this.#e,onConflictNode:ci.cloneWith(this.#e.onConflictNode,{updates:X_(e)})})}$call(e){return e(this)}}sr(ys,"don't await OnConflictBuilder instances.");class pk{#e;constructor(e){this.#e=I(e)}toOperationNode(){return this.#e.onConflictNode}}sr(pk,"don't await OnConflictDoNothingBuilder instances.");class iu{#e;constructor(e){this.#e=I(e)}where(...e){return new iu({...this.#e,onConflictNode:ci.cloneWithUpdateWhere(this.#e.onConflictNode,Sn(e))})}whereRef(e,r,n){return new iu({...this.#e,onConflictNode:ci.cloneWithUpdateWhere(this.#e.onConflictNode,ks(e,r,n))})}clearWhere(){return new iu({...this.#e,onConflictNode:ci.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}sr(iu,"don't await OnConflictUpdateBuilder instances.");const qj=I({is(t){return t.kind==="TopNode"},create(t,e){return I({kind:"TopNode",expression:t,modifiers:e})}});function Au(t,e){if(!$p(t)&&!V_(t))throw new Error(`Invalid top expression: ${t}`);if(!Jo(e)&&!Cj(e))throw new Error(`Invalid top modifiers: ${e}`);return qj.create(t,e)}function Cj(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class Wr{#e;constructor(e){this.#e=I(e)}values(e){const[r,n]=fk(e);return new Wr({...this.#e,queryNode:fi.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new Wr({...this.#e,queryNode:fi.cloneWith(this.#e.queryNode,{columns:I(e.map(sn.create))})})}expression(e){return new Wr({...this.#e,queryNode:fi.cloneWith(this.#e.queryNode,{values:ol(e)})})}defaultValues(){return new Wr({...this.#e,queryNode:fi.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new Wr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new Wr({...this.#e,queryNode:fi.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,r){return new Wr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}onConflict(e){return new Wr({...this.#e,queryNode:fi.cloneWith(this.#e.queryNode,{onConflict:e(new ys({onConflictNode:ci.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Wr({...this.#e,queryNode:fi.cloneWith(this.#e.queryNode,{onDuplicateKey:Nj.create(X_(e))})})}returning(e){return new Wr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,is(e))})}returningAll(){return new Wr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,qs())})}output(e){return new Wr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,is(e))})}outputAll(e){return new Wr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,qs(e))})}clearReturning(){return new Wr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Wr({...this.#e})}$castTo(){return new Wr(this.#e)}$narrowType(){return new Wr(this.#e)}$assertType(){return new Wr(this.#e)}withPlugin(e){return new Wr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new kj(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Td){const r=await this.executeTakeFirst();if(r===void 0)throw Pd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Wr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Wr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class Rj{numDeletedRows;constructor(e){this.numDeletedRows=e}}const Y_=I({is(t){return t.kind==="LimitNode"},create(t){return I({kind:"LimitNode",limit:t})}});class Er{#e;constructor(e){this.#e=I(e)}where(...e){return new Er({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Sn(e))})}whereRef(e,r,n){return new Er({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,ks(e,r,n))})}clearWhere(){return new Er({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Er({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}using(e){return new Er({...this.#e,queryNode:Ma.cloneWithUsing(this.#e.queryNode,hd(e))})}innerJoin(...e){return new Er({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("InnerJoin",e))})}leftJoin(...e){return new Er({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LeftJoin",e))})}rightJoin(...e){return new Er({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("RightJoin",e))})}fullJoin(...e){return new Er({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("FullJoin",e))})}returning(e){return new Er({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,is(e))})}returningAll(e){return new Er({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,qs(e))})}output(e){return new Er({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,is(e))})}outputAll(e){return new Er({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,qs(e))})}clearReturning(){return new Er({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Er({...this.#e,queryNode:Ma.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Er({...this.#e,queryNode:Ma.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,r){return new Er({...this.#e,queryNode:Ma.cloneWithOrderByItems(this.#e.queryNode,Ad([e,r]))})}limit(e){return new Er({...this.#e,queryNode:Ma.cloneWithLimit(this.#e.queryNode,Y_.create(an(e)))})}modifyEnd(e){return new Er({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,r){return e?r(this):new Er({...this.#e})}$castTo(){return new Er(this.#e)}$narrowType(){return new Er(this.#e)}$assertType(){return new Er(this.#e)}withPlugin(e){return new Er({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new Rj(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Td){const r=await this.executeTakeFirst();if(r===void 0)throw Pd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Er({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Er,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class Oj{numUpdatedRows;numChangedRows;constructor(e,r){this.numUpdatedRows=e,this.numChangedRows=r}}class Cr{#e;constructor(e){this.#e=I(e)}where(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Sn(e))})}whereRef(e,r,n){return new Cr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,ks(e,r,n))})}clearWhere(){return new Cr({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Cr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}from(e){return new Cr({...this.#e,queryNode:nu.cloneWithFromItems(this.#e.queryNode,hd(e))})}innerJoin(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("InnerJoin",e))})}leftJoin(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LeftJoin",e))})}rightJoin(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("RightJoin",e))})}fullJoin(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("FullJoin",e))})}limit(e){return new Cr({...this.#e,queryNode:nu.cloneWithLimit(this.#e.queryNode,Y_.create(an(e)))})}set(...e){return new Cr({...this.#e,queryNode:nu.cloneWithUpdates(this.#e.queryNode,Ej(...e))})}returning(e){return new Cr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,is(e))})}returningAll(e){return new Cr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,qs(e))})}output(e){return new Cr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,is(e))})}outputAll(e){return new Cr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,qs(e))})}modifyEnd(e){return new Cr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Cr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Cr({...this.#e})}$castTo(){return new Cr(this.#e)}$narrowType(){return new Cr(this.#e)}$assertType(){return new Cr(this.#e)}withPlugin(e){return new Cr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new Oj(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Td){const r=await this.executeTakeFirst();if(r===void 0)throw Pd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Cr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Cr,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const aE=I({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return I({kind:"CommonTableExpressionNameNode",table:Xo.create(t),columns:e?I(e.map(sn.create)):void 0})}}),ap=I({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return I({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return I({...t,...e})}});class dd{#e;constructor(e){this.#e=I(e)}materialized(){return new dd({...this.#e,node:ap.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new dd({...this.#e,node:ap.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}sr(dd,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function lE(t,e){const r=e(zj()).toOperationNode();return Ni(t)?t(Aj(r)).toOperationNode():ap.create(mk(t),r)}function Aj(t){return e=>new dd({node:ap.create(mk(e),t)})}function mk(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(o=>o.trim());return aE.create(r,n)}else return aE.create(t)}const ih=I({is(t){return t.kind==="WithNode"},create(t,e){return I({kind:"WithNode",expressions:I([t]),...e})},cloneWithExpression(t,e){return I({...t,expressions:I([...t.expressions,e])})}}),uE=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function Ij(t){let e="";for(let r=0;r<t;++r)e+=Tj();return e}function Tj(){return uE[~~(Math.random()*uE.length)]}function qr(){return new Pj}class Pj{#e;get queryId(){return this.#e===void 0&&(this.#e=Ij(8)),this.#e}}class yk{nodeStack=[];#e=I({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),I(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&I(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:I([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const Fj=I({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class Lj extends yk{#e;#t=new Set;#r=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#n(e))return super.transformNodeImpl(e);const r=this.#s(e);for(const a of r)this.#r.add(a);const n=this.#i(e);for(const a of n)this.#t.add(a);const o=super.transformNodeImpl(e);for(const a of n)this.#t.delete(a);for(const a of r)this.#r.delete(a);return o}transformSchemableIdentifier(e){const r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:Ur.create(this.#e)}}transformReferences(e){const r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:Xo.createWithSchema(this.#e,r.table.table.identifier.name)}}#n(e){return e.kind in Fj}#i(e){const r=new Set;if("name"in e&&e.name&&sa.is(e.name)&&this.#a(e.name,r),"from"in e&&e.from)for(const n of e.from.froms)this.#o(n,r);if("into"in e&&e.into&&this.#o(e.into,r),"table"in e&&e.table&&this.#o(e.table,r),"joins"in e&&e.joins)for(const n of e.joins)this.#o(n.table,r);return"using"in e&&e.using&&this.#o(e.using,r),r}#s(e){const r=new Set;return"with"in e&&e.with&&this.#u(e.with,r),r}#o(e,r){const n=Xo.is(e)?e:ma.is(e)&&Xo.is(e.node)?e.node:null;n&&this.#a(n.table,r)}#a(e,r){const n=e.identifier.name;!this.#t.has(n)&&!this.#r.has(n)&&r.add(n)}#u(e,r){for(const n of e.expressions){const o=n.name.table.table.identifier.name;this.#r.has(o)||r.add(o)}}}class Fd{#e;constructor(e){this.#e=new Lj(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const jj=I({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return I({kind:"MatchedNode",not:t,bySource:e})}});function cE(t,e,r){return Id.create(sp([jj.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?ks(e[0],e[1],e[2]):Sn(e)]:[]],"and",!1))}function Bc(t){return Si(t)?Rn.create([t],[]):si(t)?t.toOperationNode():t}class dE{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}}const fE=new Set;function Mj(t){fE.has(t)||(fE.add(t),console.log(t))}const Dj=I([]);class gk{#e;constructor(e=Dj){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(const n of this.#e){const o=n.transformQuery({node:e,queryId:r});if(o.kind===e.kind)e=o;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${o.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const o=await n.executeQuery(e),a=await this.#t(o,r);return Wj(o,a),a})}async *stream(e,r,n){const o=new dE,a=new dE;this.provideConnection(async d=>(o.resolve(d),await a.promise)).catch(d=>o.reject(d));const l=await o.promise;try{for await(const d of l.streamQuery(e,r))yield await this.#t(d,n)}finally{a.resolve()}}async #t(e,r){for(const n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}}function Wj(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||Mj("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Ql extends gk{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Ql([...this.plugins,e])}withPlugins(e){return new Ql([...this.plugins,...e])}withPluginAtFront(e){return new Ql([e,...this.plugins])}withoutPlugins(){return new Ql([])}}const Vp=new Ql;class Bj{numChangedRows;constructor(e){this.numChangedRows=e}}class $a{#e;constructor(e){this.#e=I(e)}modifyEnd(e){return new $a({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new $a({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}using(...e){return new vi({...this.#e,queryNode:ri.cloneWithUsing(this.#e.queryNode,Mn("Using",e))})}output(e){return new $a({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,is(e))})}outputAll(e){return new $a({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,qs(e))})}}sr($a,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class vi{#e;constructor(e){this.#e=I(e)}modifyEnd(e){return new vi({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new vi({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,r,n){return this.#t([e,r,n],!0)}#t(e,r){return new Yv({...this.#e,queryNode:ri.cloneWithWhen(this.#e.queryNode,cE({isMatched:!0},e,r))})}whenNotMatched(){return this.#r([])}whenNotMatchedAnd(...e){return this.#r(e)}whenNotMatchedAndRef(e,r,n){return this.#r([e,r,n],!0)}whenNotMatchedBySource(){return this.#r([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#r(e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return this.#r([e,r,n],!0,!0)}output(e){return new vi({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,is(e))})}outputAll(e){return new vi({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,qs(e))})}#r(e,r=!1,n=!1){const o={...this.#e,queryNode:ri.cloneWithWhen(this.#e.queryNode,cE({isMatched:!1,bySource:n},e,r))},a=n?Yv:vk;return new a(o)}$call(e){return e(this)}$if(e,r){return e?r(this):new vi({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?r.rows:[new Bj(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Td){const r=await this.executeTakeFirst();if(r===void 0)throw Pd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}}sr(vi,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class Yv{#e;constructor(e){this.#e=I(e)}thenDelete(){return new vi({...this.#e,queryNode:ri.cloneWithThen(this.#e.queryNode,Bc("delete"))})}thenDoNothing(){return new vi({...this.#e,queryNode:ri.cloneWithThen(this.#e.queryNode,Bc("do nothing"))})}thenUpdate(e){return new vi({...this.#e,queryNode:ri.cloneWithThen(this.#e.queryNode,Bc(e(new Cr({queryId:this.#e.queryId,executor:Vp,queryNode:nu.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}sr(Yv,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class vk{#e;constructor(e){this.#e=I(e)}thenDoNothing(){return new vi({...this.#e,queryNode:ri.cloneWithThen(this.#e.queryNode,Bc("do nothing"))})}thenInsertValues(e){const[r,n]=fk(e);return new vi({...this.#e,queryNode:ri.cloneWithThen(this.#e.queryNode,Bc(fi.cloneWith(fi.createWithoutInto(),{columns:r,values:n})))})}}sr(vk,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Bo{#e;constructor(e){this.#e=I(e)}selectFrom(e){return e_({queryId:qr(),executor:this.#e.executor,queryNode:Nr.createFrom(hd(e),this.#e.withNode)})}selectNoFrom(e){return e_({queryId:qr(),executor:this.#e.executor,queryNode:Nr.cloneWithSelections(Nr.create(this.#e.withNode),is(e))})}insertInto(e){return new Wr({queryId:qr(),executor:this.#e.executor,queryNode:fi.create(tn(e),this.#e.withNode)})}replaceInto(e){return new Wr({queryId:qr(),executor:this.#e.executor,queryNode:fi.create(tn(e),this.#e.withNode,!0)})}deleteFrom(e){return new Er({queryId:qr(),executor:this.#e.executor,queryNode:Ma.create(hd(e),this.#e.withNode)})}updateTable(e){return new Cr({queryId:qr(),executor:this.#e.executor,queryNode:nu.create(pd(e),this.#e.withNode)})}mergeInto(e){return new $a({queryId:qr(),executor:this.#e.executor,queryNode:ri.create(Nk(e),this.#e.withNode)})}with(e,r){const n=lE(e,r);return new Bo({...this.#e,withNode:this.#e.withNode?ih.cloneWithExpression(this.#e.withNode,n):ih.create(n)})}withRecursive(e,r){const n=lE(e,r);return new Bo({...this.#e,withNode:this.#e.withNode?ih.cloneWithExpression(this.#e.withNode,n):ih.create(n,{recursive:!0})})}withPlugin(e){return new Bo({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Bo({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Bo({...this.#e,executor:this.#e.executor.withPluginAtFront(new Fd(e))})}}function zj(){return new Bo({executor:Vp})}function $j(t,e){return new ru({joinNode:Mc.create(t,pd(e))})}function Uj(){return new cd({overNode:Xv.create()})}function Mn(t,e){if(e.length===3)return Hj(t,e[0],e[1],e[2]);if(e.length===2)return Vj(t,e[0],e[1]);throw new Error("not implemented")}function Vj(t,e,r){return r($j(t,e)).toOperationNode()}function Hj(t,e,r,n){return Mc.createWithOn(t,pd(e),ks(r,"=",n))}const Qj=I({is(t){return t.kind==="OffsetNode"},create(t){return I({kind:"OffsetNode",offset:t})}}),Kj=I({is(t){return t.kind==="GroupByItemNode"},create(t){return I({kind:"GroupByItemNode",groupBy:t})}});function Gj(t){return t=Ni(t)?t(Iu()):t,ud(t).map(Kj.create)}const _k=I({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return I({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Dl(t,e,r){return Ni(e)&&(e=e(tb())),co(e)||(e=[e]),e.map(n=>_k.create(t,ol(n),r))}class Rr{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new eb(this,e)}or(...e){return new lp(Ou.create(this.#e,Sn(e)))}and(...e){return new up(oa.create(this.#e,Sn(e)))}$castTo(){return new Rr(this.#e)}$notNull(){return new Rr(this.#e)}toOperationNode(){return this.#e}}class eb{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ma.create(this.#e.toOperationNode(),si(this.#t)?this.#t.toOperationNode():Ur.create(this.#t))}}class lp{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new eb(this,e)}or(...e){return new lp(Ou.create(this.#e,Sn(e)))}$castTo(){return new lp(this.#e)}toOperationNode(){return _u.create(this.#e)}}class up{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new eb(this,e)}and(...e){return new up(oa.create(this.#e,Sn(e)))}$castTo(){return new up(this.#e)}toOperationNode(){return _u.create(this.#e)}}const Jj={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Ns.create(t),modifier:e}}};function Zj(t,e){if(!$p(t)&&!V_(t))throw new Error(`Invalid fetch row count: ${t}`);if(!Xj(e))throw new Error(`Invalid fetch modifier: ${e}`);return Jj.create(t,e)}function Xj(t){return t==="only"||t==="with ties"}class Vt{#e;constructor(e){this.#e=I(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Sn(e))})}whereRef(e,r,n){return new Vt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,ks(e,r,n))})}having(...e){return new Vt({...this.#e,queryNode:Nr.cloneWithHaving(this.#e.queryNode,Sn(e))})}havingRef(e,r,n){return new Vt({...this.#e,queryNode:Nr.cloneWithHaving(this.#e.queryNode,ks(e,r,n))})}select(e){return new Vt({...this.#e,queryNode:Nr.cloneWithSelections(this.#e.queryNode,is(e))})}distinctOn(e){return new Vt({...this.#e,queryNode:Nr.cloneWithDistinctOn(this.#e.queryNode,ud(e))})}modifyFront(e){return new Vt({...this.#e,queryNode:Nr.cloneWithFrontModifier(this.#e.queryNode,Zs.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Zs.createWithExpression(e.toOperationNode()))})}distinct(){return new Vt({...this.#e,queryNode:Nr.cloneWithFrontModifier(this.#e.queryNode,Zs.create("Distinct"))})}forUpdate(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Zs.create("ForUpdate",e?nh(e).map(tn):void 0))})}forShare(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Zs.create("ForShare",e?nh(e).map(tn):void 0))})}forKeyShare(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Zs.create("ForKeyShare",e?nh(e).map(tn):void 0))})}forNoKeyUpdate(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Zs.create("ForNoKeyUpdate",e?nh(e).map(tn):void 0))})}skipLocked(){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Zs.create("SkipLocked"))})}noWait(){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Zs.create("NoWait"))})}selectAll(e){return new Vt({...this.#e,queryNode:Nr.cloneWithSelections(this.#e.queryNode,qs(e))})}innerJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("InnerJoin",e))})}leftJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LeftJoin",e))})}rightJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("RightJoin",e))})}fullJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("FullJoin",e))})}innerJoinLateral(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LateralLeftJoin",e))})}orderBy(...e){return new Vt({...this.#e,queryNode:Nr.cloneWithOrderByItems(this.#e.queryNode,Ad(e))})}groupBy(e){return new Vt({...this.#e,queryNode:Nr.cloneWithGroupByItems(this.#e.queryNode,Gj(e))})}limit(e){return new Vt({...this.#e,queryNode:Nr.cloneWithLimit(this.#e.queryNode,Y_.create(an(e)))})}offset(e){return new Vt({...this.#e,queryNode:Nr.cloneWithOffset(this.#e.queryNode,Qj.create(an(e)))})}fetch(e,r="only"){return new Vt({...this.#e,queryNode:Nr.cloneWithFetch(this.#e.queryNode,Zj(e,r))})}top(e,r){return new Vt({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}union(e){return new Vt({...this.#e,queryNode:Nr.cloneWithSetOperations(this.#e.queryNode,Dl("union",e,!1))})}unionAll(e){return new Vt({...this.#e,queryNode:Nr.cloneWithSetOperations(this.#e.queryNode,Dl("union",e,!0))})}intersect(e){return new Vt({...this.#e,queryNode:Nr.cloneWithSetOperations(this.#e.queryNode,Dl("intersect",e,!1))})}intersectAll(e){return new Vt({...this.#e,queryNode:Nr.cloneWithSetOperations(this.#e.queryNode,Dl("intersect",e,!0))})}except(e){return new Vt({...this.#e,queryNode:Nr.cloneWithSetOperations(this.#e.queryNode,Dl("except",e,!1))})}exceptAll(e){return new Vt({...this.#e,queryNode:Nr.cloneWithSetOperations(this.#e.queryNode,Dl("except",e,!0))})}as(e){return new bk(this,e)}clearSelect(){return new Vt({...this.#e,queryNode:Nr.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Vt({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Vt({...this.#e,queryNode:Nr.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Vt({...this.#e,queryNode:Nr.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Vt({...this.#e,queryNode:Nr.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Vt({...this.#e,queryNode:Nr.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Vt({...this.#e})}$castTo(){return new Vt(this.#e)}$narrowType(){return new Vt(this.#e)}$assertType(){return new Vt(this.#e)}$asTuple(){return new Rr(this.toOperationNode())}withPlugin(e){return new Vt({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Td){const r=await this.executeTakeFirst();if(r===void 0)throw Pd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Vt({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Vt,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function e_(t){return new Vt(t)}class bk{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return ma.create(this.#e.toOperationNode(),Ur.create(this.#t))}}sr(bk,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const zo=I({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return I({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return I({...t,distinct:!0})},cloneWithOrderBy(t,e){return I({...t,orderBy:t.orderBy?la.cloneWithItems(t.orderBy,e):la.create(e)})},cloneWithFilter(t,e){return I({...t,filter:t.filter?ei.cloneWithOperation(t.filter,"And",e):ei.create(e)})},cloneWithOrFilter(t,e){return I({...t,filter:t.filter?ei.cloneWithOperation(t.filter,"Or",e):ei.create(e)})},cloneWithOver(t,e){return I({...t,over:e})}}),hE=I({is(t){return t.kind==="FunctionNode"},create(t,e){return I({kind:"FunctionNode",func:t,arguments:e})}});class Di{#e;constructor(e){this.#e=I(e)}get expressionType(){}as(e){return new Yj(this,e)}distinct(){return new Di({...this.#e,aggregateFunctionNode:zo.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,r){return new Di({...this.#e,aggregateFunctionNode:zo.cloneWithOrderBy(this.#e.aggregateFunctionNode,Ad([e,r]))})}filterWhere(...e){return new Di({...this.#e,aggregateFunctionNode:zo.cloneWithFilter(this.#e.aggregateFunctionNode,Sn(e))})}filterWhereRef(e,r,n){return new Di({...this.#e,aggregateFunctionNode:zo.cloneWithFilter(this.#e.aggregateFunctionNode,ks(e,r,n))})}over(e){const r=Uj();return new Di({...this.#e,aggregateFunctionNode:zo.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Di(this.#e)}$notNull(){return new Di(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}sr(Di,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class Yj{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ma.create(this.#e.toOperationNode(),Ur.create(this.#t))}}function wk(){const t=(r,n)=>new Rr(hE.create(r,ud(n??[]))),e=(r,n)=>new Di({aggregateFunctionNode:zo.create(r,n?ud(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new Di({aggregateFunctionNode:zo.create("count",qs(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new Di({aggregateFunctionNode:zo.create("json_agg",[Si(r)?tn(r):r.toOperationNode()])})},toJson(r){return new Rr(hE.create("to_json",[Si(r)?tn(r):r.toOperationNode()]))}})}const e2=I({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return I({kind:"UnaryOperationNode",operator:t,operand:e})}});function t2(t,e){return e2.create(aa.create(t),gi(e))}const _s=I({is(t){return t.kind==="CaseNode"},create(t){return I({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return I({...t,when:I(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return I({...t,when:t.when?I([...t.when.slice(0,-1),Id.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return I({...t,...e})}});class xk{#e;constructor(e){this.#e=I(e)}when(...e){return new Sk({...this.#e,node:_s.cloneWithWhen(this.#e.node,Id.create(Sn(e)))})}}class Sk{#e;constructor(e){this.#e=I(e)}then(e){return new r2({...this.#e,node:_s.cloneWithThen(this.#e.node,G_(e)?J_(e):an(e))})}}class r2{#e;constructor(e){this.#e=I(e)}when(...e){return new Sk({...this.#e,node:_s.cloneWithWhen(this.#e.node,Id.create(Sn(e)))})}else(e){return new n2({...this.#e,node:_s.cloneWith(this.#e.node,{else:G_(e)?J_(e):an(e)})})}end(){return new Rr(_s.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Rr(_s.cloneWith(this.#e.node,{isStatement:!0}))}}class n2{#e;constructor(e){this.#e=I(e)}end(){return new Rr(_s.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Rr(_s.cloneWith(this.#e.node,{isStatement:!0}))}}const pE=I({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return I({kind:"JSONPathLegNode",type:t,value:e})}});class t_{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,r){return np.is(this.#e)?new fd(np.cloneWithTraversal(this.#e,Dc.is(this.#e.traversal)?Dc.cloneWithLeg(this.#e.traversal,pE.create(e,r)):ak.cloneWithValue(this.#e.traversal,Ns.createImmediate(r)))):new fd(Dc.cloneWithLeg(this.#e,pE.create(e,r)))}}class fd extends t_{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new i2(this,e)}$castTo(){return new fd(this.#e)}$notNull(){return new fd(this.#e)}toOperationNode(){return this.#e}}class i2{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ma.create(this.#e.toOperationNode(),si(this.#t)?this.#t.toOperationNode():Ur.create(this.#t))}}const mE=I({is(t){return t.kind==="TupleNode"},create(t){return I({kind:"TupleNode",values:I(t)})}}),s2=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],o2=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],a2=I({is(t){return t.kind==="DataTypeNode"},create(t){return I({kind:"DataTypeNode",dataType:t})}});function l2(t){return!!(s2.includes(t)||o2.some(e=>e.test(t)))}function il(t){if(si(t))return t.toOperationNode();if(l2(t))return a2.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const u2=I({is(t){return t.kind==="CastNode"},create(t,e){return I({kind:"CastNode",expression:t,dataType:e})}});function tb(t=Vp){function e(o,a,l){return new Rr(Z_(o,a,l))}function r(o,a){return new Rr(t2(o,a))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(o){return e_({queryId:qr(),executor:t,queryNode:Nr.createFrom(hd(o))})},case(o){return new xk({node:_s.create(Jo(o)?void 0:gi(o))})},ref(o,a){return Jo(a)?new Rr(fo(o)):new t_(uj(o,a))},jsonPath(){return new t_(Dc.create())},table(o){return new Rr(tn(o))},val(o){return new Rr(an(o))},refTuple(...o){return new Rr(mE.create(o.map(gi)))},tuple(...o){return new Rr(mE.create(o.map(an)))},lit(o){return new Rr(J_(o))},unary:r,not(o){return r("not",o)},exists(o){return r("exists",o)},neg(o){return r("-",o)},between(o,a,l){return new Rr(vu.create(gi(o),aa.create("between"),oa.create(an(a),an(l))))},betweenSymmetric(o,a,l){return new Rr(vu.create(gi(o),aa.create("between symmetric"),oa.create(an(a),an(l))))},and(o){return co(o)?new Rr(sp(o,"and")):new Rr(ZS(o,"and"))},or(o){return co(o)?new Rr(sp(o,"or")):new Rr(ZS(o,"or"))},parens(...o){const a=Sn(o);return _u.is(a)?new Rr(a):new Rr(_u.create(a))},cast(o,a){return new Rr(u2.create(gi(o),il(a)))},withSchema(o){return tb(t.withPluginAtFront(new Fd(o)))}});return n.fn=wk(),n.eb=n,n}function Iu(t){return tb()}function ol(t){if(si(t))return t.toOperationNode();if(Ni(t))return t(Iu()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function Ek(t){if(si(t))return t.toOperationNode();if(Ni(t))return t(Iu()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Ld(t){return YL(t)||ej(t)||Ni(t)}function hd(t){return co(t)?t.map(e=>pd(e)):[pd(t)]}function pd(t){return Si(t)?Nk(t):Ek(t)}function Nk(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(kk);return ma.create(tn(r),Ur.create(n))}else return tn(t)}function tn(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(kk);return Xo.createWithSchema(r,n)}else return Xo.create(t)}function kk(t){return t.trim()}const qk=I({is(t){return t.kind==="AddColumnNode"},create(t){return I({kind:"AddColumnNode",column:t})}}),Br=I({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return I({kind:"ColumnDefinitionNode",column:sn.create(t),dataType:e})},cloneWithFrontModifier(t,e){return I({...t,frontModifiers:t.frontModifiers?I([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return I({...t,endModifiers:t.endModifiers?I([...t.endModifiers,e]):[e]})},cloneWith(t,e){return I({...t,...e})}}),Ck=I({is(t){return t.kind==="DropColumnNode"},create(t){return I({kind:"DropColumnNode",column:sn.create(t)})}}),Rk=I({is(t){return t.kind==="RenameColumnNode"},create(t,e){return I({kind:"RenameColumnNode",column:sn.create(t),renameTo:sn.create(e)})}}),rb=I({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return I({kind:"CheckConstraintNode",expression:t,name:e?Ur.create(e):void 0})}}),c2=["no action","restrict","cascade","set null","set default"],bh=I({is(t){return t.kind==="ReferencesNode"},create(t,e){return I({kind:"ReferencesNode",table:t,columns:I([...e])})},cloneWithOnDelete(t,e){return I({...t,onDelete:e})},cloneWithOnUpdate(t,e){return I({...t,onUpdate:e})}});function Ok(t){return si(t)?t.toOperationNode():Ns.createImmediate(t)}const sh=I({is(t){return t.kind==="GeneratedNode"},create(t){return I({kind:"GeneratedNode",...t})},createWithExpression(t){return I({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return I({...t,...e})}}),d2=I({is(t){return t.kind==="DefaultValueNode"},create(t){return I({kind:"DefaultValueNode",defaultValue:t})}});function cp(t){if(c2.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Pr{#e;constructor(e){this.#e=e}autoIncrement(){return new Pr(Br.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Pr(Br.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Pr(Br.cloneWith(this.#e,{primaryKey:!0}))}references(e){const r=fo(e);if(!r.table||H_.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Pr(Br.cloneWith(this.#e,{references:bh.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Pr(Br.cloneWith(this.#e,{references:bh.cloneWithOnDelete(this.#e.references,cp(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Pr(Br.cloneWith(this.#e,{references:bh.cloneWithOnUpdate(this.#e.references,cp(e))}))}unique(){return new Pr(Br.cloneWith(this.#e,{unique:!0}))}notNull(){return new Pr(Br.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Pr(Br.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Pr(Br.cloneWith(this.#e,{defaultTo:d2.create(Ok(e))}))}check(e){return new Pr(Br.cloneWith(this.#e,{check:rb.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Pr(Br.cloneWith(this.#e,{generated:sh.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Pr(Br.cloneWith(this.#e,{generated:sh.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Pr(Br.cloneWith(this.#e,{generated:sh.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Pr(Br.cloneWith(this.#e,{generated:sh.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Pr(Br.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Pr(Br.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Pr(Br.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Pr(Br.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}sr(Pr,"don't await ColumnDefinitionBuilder instances directly.");const Ak=I({is(t){return t.kind==="ModifyColumnNode"},create(t){return I({kind:"ModifyColumnNode",column:t})}}),dp=I({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return I({kind:"ForeignKeyConstraintNode",columns:t,references:bh.create(e,r),name:n?Ur.create(n):void 0})},cloneWith(t,e){return I({...t,...e})}});class bu{#e;constructor(e){this.#e=e}onDelete(e){return new bu(dp.cloneWith(this.#e,{onDelete:cp(e)}))}onUpdate(e){return new bu(dp.cloneWith(this.#e,{onUpdate:cp(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}sr(bu,"don't await ForeignKeyConstraintBuilder instances directly.");const wh=I({is(t){return t.kind==="AddConstraintNode"},create(t){return I({kind:"AddConstraintNode",constraint:t})}}),nb=I({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return I({kind:"UniqueConstraintNode",columns:I(t.map(sn.create)),name:e?Ur.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return I({...t,...e})}}),xh=I({is(t){return t.kind==="DropConstraintNode"},create(t){return I({kind:"DropConstraintNode",constraintName:Ur.create(t)})},cloneWith(t,e){return I({...t,...e})}}),Sc=I({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return I({kind:"AlterColumnNode",column:sn.create(t),[e]:r})}});class ib{#e;constructor(e){this.#e=e}setDataType(e){return new $l(Sc.create(this.#e,"dataType",il(e)))}setDefault(e){return new $l(Sc.create(this.#e,"setDefault",Ok(e)))}dropDefault(){return new $l(Sc.create(this.#e,"dropDefault",!0))}setNotNull(){return new $l(Sc.create(this.#e,"setNotNull",!0))}dropNotNull(){return new $l(Sc.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}sr(ib,"don't await AlterColumnBuilder instances");class $l{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}sr($l,"don't await AlteredColumnBuilder instances");class ja{#e;constructor(e){this.#e=I(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(ja,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class md{#e;constructor(e){this.#e=I(e)}onDelete(e){return new md({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new md({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(kr.cloneWithTableProps(this.#e.node,{addConstraint:wh.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(md,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class su{#e;constructor(e){this.#e=I(e)}ifExists(){return new su({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{dropConstraint:xh.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new su({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{dropConstraint:xh.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new su({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{dropConstraint:xh.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(su,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const Ik=I({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return I({kind:"PrimaryKeyConstraintNode",columns:I(t.map(sn.create)),name:e?Ur.create(e):void 0})}}),Ul=I({is(t){return t.kind==="AddIndexNode"},create(t){return I({kind:"AddIndexNode",name:Ur.create(t)})},cloneWith(t,e){return I({...t,...e})},cloneWithColumns(t,e){return I({...t,columns:[...t.columns||[],...e]})}});class $o{#e;constructor(e){this.#e=I(e)}unique(){return new $o({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addIndex:Ul.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new $o({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addIndex:Ul.cloneWithColumns(this.#e.node.addIndex,[ip(e)])})})}columns(e){return new $o({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addIndex:Ul.cloneWithColumns(this.#e.node.addIndex,e.map(ip))})})}expression(e){return new $o({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addIndex:Ul.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new $o({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addIndex:Ul.cloneWith(this.#e.node.addIndex,{using:Rn.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr($o,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class jd{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new jd(nb.cloneWith(this.#e,{nullsNotDistinct:!0}))}}sr(jd,"don't await UniqueConstraintNodeBuilder instances directly.");class Tk{#e;constructor(e){this.#e=I(e)}renameTo(e){return new ja({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{renameTo:tn(e)})})}setSchema(e){return new ja({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{setSchema:Ur.create(e)})})}alterColumn(e,r){const n=r(new ib(e));return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,Ck.create(e))})}renameColumn(e,r){return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,Rk.create(e,r))})}addColumn(e,r,n=Zo){const o=n(new Pr(Br.create(e,il(r))));return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,qk.create(o.toOperationNode()))})}modifyColumn(e,r,n=Zo){const o=n(new Pr(Br.create(e,il(r))));return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,Ak.create(o.toOperationNode()))})}addUniqueConstraint(e,r,n=Zo){const o=n(new jd(nb.create(r,e)));return new ja({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addConstraint:wh.create(o.toOperationNode())})})}addCheckConstraint(e,r){return new ja({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addConstraint:wh.create(rb.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,o){return new md({...this.#e,constraintBuilder:new bu(dp.create(r.map(sn.create),tn(n),o.map(sn.create),e))})}addPrimaryKeyConstraint(e,r){return new ja({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addConstraint:wh.create(Ik.create(r,e))})})}dropConstraint(e){return new su({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{dropConstraint:xh.create(e)})})}addIndex(e){return new $o({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{addIndex:Ul.create(e)})})}dropIndex(e){return new ja({...this.#e,node:kr.cloneWithTableProps(this.#e.node,{dropIndex:jc.create(e)})})}$call(e){return e(this)}}sr(Tk,"don't await AlterTableBuilder instances");class Wi{#e;constructor(e){this.#e=I(e)}alterColumn(e,r){const n=r(new ib(e));return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,Ck.create(e))})}renameColumn(e,r){return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,Rk.create(e,r))})}addColumn(e,r,n=Zo){const o=n(new Pr(Br.create(e,il(r))));return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,qk.create(o.toOperationNode()))})}modifyColumn(e,r,n=Zo){const o=n(new Pr(Br.create(e,il(r))));return new Wi({...this.#e,node:kr.cloneWithColumnAlteration(this.#e.node,Ak.create(o.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Wi,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class Pk extends yk{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class ji{#e;constructor(e){this.#e=I(e)}ifNotExists(){return new ji({...this.#e,node:eo.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new ji({...this.#e,node:eo.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new ji({...this.#e,node:eo.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new ji({...this.#e,node:eo.cloneWith(this.#e.node,{table:tn(e)})})}column(e){return new ji({...this.#e,node:eo.cloneWithColumns(this.#e.node,[ip(e)])})}columns(e){return new ji({...this.#e,node:eo.cloneWithColumns(this.#e.node,e.map(ip))})}expression(e){return new ji({...this.#e,node:eo.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new ji({...this.#e,node:eo.cloneWith(this.#e.node,{using:Rn.createWithSql(e)})})}where(...e){const r=new Pk;return new ji({...this.#e,node:Ct.cloneWithWhere(this.#e.node,r.transformNode(Sn(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(ji,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Hp{#e;constructor(e){this.#e=I(e)}ifNotExists(){return new Hp({...this.#e,node:rk.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Hp,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function f2(t){if(XL.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class Zn{#e;constructor(e){this.#e=I(e)}temporary(){return new Zn({...this.#e,node:ui.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new Zn({...this.#e,node:ui.cloneWith(this.#e.node,{onCommit:f2(e)})})}ifNotExists(){return new Zn({...this.#e,node:ui.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=Zo){const o=n(new Pr(Br.create(e,il(r))));return new Zn({...this.#e,node:ui.cloneWithColumn(this.#e.node,o.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new Zn({...this.#e,node:ui.cloneWithConstraint(this.#e.node,Ik.create(r,e))})}addUniqueConstraint(e,r,n=Zo){const o=n(new jd(nb.create(r,e)));return new Zn({...this.#e,node:ui.cloneWithConstraint(this.#e.node,o.toOperationNode())})}addCheckConstraint(e,r){return new Zn({...this.#e,node:ui.cloneWithConstraint(this.#e.node,rb.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,o,a=Zo){const l=a(new bu(dp.create(r.map(sn.create),tn(n),o.map(sn.create),e)));return new Zn({...this.#e,node:ui.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new Zn({...this.#e,node:ui.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new Zn({...this.#e,node:ui.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new Zn({...this.#e,node:ui.cloneWith(this.#e.node,{selectQuery:ol(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Zn,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class ou{#e;constructor(e){this.#e=I(e)}on(e){return new ou({...this.#e,node:jc.cloneWith(this.#e.node,{table:tn(e)})})}ifExists(){return new ou({...this.#e,node:jc.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new ou({...this.#e,node:jc.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(ou,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class yd{#e;constructor(e){this.#e=I(e)}ifExists(){return new yd({...this.#e,node:Kv.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new yd({...this.#e,node:Kv.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(yd,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class gd{#e;constructor(e){this.#e=I(e)}ifExists(){return new gd({...this.#e,node:Gv.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new gd({...this.#e,node:Gv.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(gd,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Mo=I({is(t){return t.kind==="CreateViewNode"},create(t){return I({kind:"CreateViewNode",name:sa.create(t)})},cloneWith(t,e){return I({...t,...e})}});class h2{#e=new Pk;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class no{#e;constructor(e){this.#e=I(e)}temporary(){return new no({...this.#e,node:Mo.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new no({...this.#e,node:Mo.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new no({...this.#e,node:Mo.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new no({...this.#e,node:Mo.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new no({...this.#e,node:Mo.cloneWith(this.#e.node,{columns:e.map(uk)})})}as(e){const r=e.withPlugin(new h2).toOperationNode();return new no({...this.#e,node:Mo.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(no,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Sh=I({is(t){return t.kind==="DropViewNode"},create(t){return I({kind:"DropViewNode",name:sa.create(t)})},cloneWith(t,e){return I({...t,...e})}});class au{#e;constructor(e){this.#e=I(e)}materialized(){return new au({...this.#e,node:Sh.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new au({...this.#e,node:Sh.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new au({...this.#e,node:Sh.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(au,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const Fk=I({is(t){return t.kind==="CreateTypeNode"},create(t){return I({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return I({...t,enum:K_.create(e.map(r=>Ns.createImmediate(r)))})}});class Qp{#e;constructor(e){this.#e=I(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Qp({...this.#e,node:Fk.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Qp,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const Lk=I({is(t){return t.kind==="DropTypeNode"},create(t){return I({kind:"DropTypeNode",name:t})},cloneWith(t,e){return I({...t,...e})}});class Kp{#e;constructor(e){this.#e=I(e)}ifExists(){return new Kp({...this.#e,node:Lk.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Kp,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function yE(t){const e=".";if(t.includes(e)){const r=t.split(e).map(p2);if(r.length===2)return sa.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return sa.create(t)}function p2(t){return t.trim()}class zc{#e;constructor(e){this.#e=e}createTable(e){return new Zn({queryId:qr(),executor:this.#e,node:ui.create(tn(e))})}dropTable(e){return new gd({queryId:qr(),executor:this.#e,node:Gv.create(tn(e))})}createIndex(e){return new ji({queryId:qr(),executor:this.#e,node:eo.create(e)})}dropIndex(e){return new ou({queryId:qr(),executor:this.#e,node:jc.create(e)})}createSchema(e){return new Hp({queryId:qr(),executor:this.#e,node:rk.create(e)})}dropSchema(e){return new yd({queryId:qr(),executor:this.#e,node:Kv.create(e)})}alterTable(e){return new Tk({queryId:qr(),executor:this.#e,node:kr.create(tn(e))})}createView(e){return new no({queryId:qr(),executor:this.#e,node:Mo.create(e)})}dropView(e){return new au({queryId:qr(),executor:this.#e,node:Sh.create(e)})}createType(e){return new Qp({queryId:qr(),executor:this.#e,node:Fk.create(yE(e))})}dropType(e){return new Kp({queryId:qr(),executor:this.#e,node:Lk.create(yE(e))})}withPlugin(e){return new zc(this.#e.withPlugin(e))}withoutPlugins(){return new zc(this.#e.withoutPlugins())}withSchema(e){return new zc(this.#e.withPluginAtFront(new Fd(e)))}}class m2{ref(e){return new aj(e)}}class y2{#e;constructor(e){this.#e=e}async provideConnection(e){const r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}}class Da extends gk{#e;#t;#r;constructor(e,r,n,o=[]){super(o),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new Da(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new Da(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new Da(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new Da(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Da(this.#e,this.#t,this.#r,[])}}function gE(){return typeof performance<"u"&&Ni(performance.now)?performance.now():Date.now()}class g2{#e;#t;#r;#n;#i;#s=new WeakSet;constructor(e,r){this.#n=!1,this.#e=e,this.#t=r}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||(this.#r=this.#e.init().then(()=>{this.#n=!0}).catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const r=e.executeQuery;e.executeQuery=async n=>{let o;const a=gE();try{return await r.call(e,n)}catch(l){throw o=l,await this.#u(l,n,a),l}finally{o||await this.#l(n,a)}}}async #u(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async #l(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return gE()-e}}const v2=()=>{};class jk{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(v2);return this.#t=this.#r(e).finally(()=>{this.#t=void 0}),this.#t}async #r(e){return await e(this.#e)}}const _2=["read uncommitted","read committed","repeatable read","serializable","snapshot"];I(["query","error"]);class b2{#e;#t;constructor(e){Ni(e)?(this.#t=e,this.#e=I({query:!0,error:!0})):(this.#t=w2,this.#e=I({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function w2(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function x2(t){return gs(t)&&Ni(t.compile)}class Vo extends Bo{#e;constructor(e){let r,n;if(S2(e))r={executor:e.executor},n={...e};else{const o=e.dialect,a=o.createDriver(),l=o.createQueryCompiler(),d=o.createAdapter(),p=new b2(e.log??[]),m=new g2(a,p),b=new y2(m),x=new Da(l,d,b,e.plugins??[]);r={executor:x},n={config:e,executor:x,dialect:o,driver:m}}super(r),this.#e=I(n)}get schema(){return new zc(this.#e.executor)}get dynamic(){return new m2}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new xk({node:_s.create(Jo(e)?void 0:ol(e))})}get fn(){return wk()}transaction(){return new Gp({...this.#e})}connection(){return new Mk({...this.#e})}withPlugin(e){return new Vo({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Vo({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Vo({...this.#e,executor:this.#e.executor.withPluginAtFront(new Fd(e))})}withTables(){return new Vo({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=qr()){const n=x2(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}}class Kl extends Vo{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new Kl({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Kl({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Kl({...this.#e,executor:this.#e.executor.withPluginAtFront(new Fd(e))})}withTables(){return new Kl({...this.#e})}}function S2(t){return gs(t)&&gs(t.config)&&gs(t.driver)&&gs(t.executor)&&gs(t.dialect)}class Mk{#e;constructor(e){this.#e=I(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{const n=this.#e.executor.withConnectionProvider(new jk(r)),o=new Vo({...this.#e,executor:n});return await e(o)})}}sr(Mk,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class Gp{#e;constructor(e){this.#e=I(e)}setIsolationLevel(e){return new Gp({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=this.#e,o={isolationLevel:r};return E2(o),this.#e.executor.provideConnection(async a=>{const l=this.#e.executor.withConnectionProvider(new jk(a)),d=new Kl({...n,executor:l});try{await this.#e.driver.beginTransaction(a,o);const p=await e(d);return await this.#e.driver.commitTransaction(a),p}catch(p){throw await this.#e.driver.rollbackTransaction(a),p}})}}sr(Gp,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function E2(t){if(t.isolationLevel&&!_2.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class lu{#e;constructor(e){this.#e=I(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new Dk(this,e)}$castTo(){return new lu({...this.#e})}$notNull(){return new lu(this.#e)}withPlugin(e){return new lu({...this.#e,plugins:this.#e.plugins!==void 0?I([...this.#e.plugins,e]):I([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){const r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){const r=e!==void 0?e.getExecutor():Vp;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}}function jo(t){return new lu(t)}sr(lu,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class Dk{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return ma.create(this.#e.toOperationNode(),si(this.#t)?this.#t.toOperationNode():Ur.create(this.#t))}}sr(Dk,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Wk=Object.assign((t,...e)=>jo({queryId:qr(),rawNode:Rn.create(t,e?.map(vE)??[])}),{ref(t){return jo({queryId:qr(),rawNode:Rn.createWithChild(fo(t))})},val(t){return jo({queryId:qr(),rawNode:Rn.createWithChild(an(t))})},value(t){return this.val(t)},table(t){return jo({queryId:qr(),rawNode:Rn.createWithChild(tn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",jo({queryId:qr(),rawNode:Rn.create(e,t.map(Ur.create))})},lit(t){return jo({queryId:qr(),rawNode:Rn.createWithChild(Ns.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return jo({queryId:qr(),rawNode:Rn.createWithSql(t)})},join(t,e=Wk`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let o=0;o<t.length;++o)r[2*o]=vE(t[o]),o!==t.length-1&&(r[2*o+1]=n);return jo({queryId:qr(),rawNode:Rn.createWithChildren(r)})}});function vE(t){return si(t)?t.toOperationNode():an(t)}class N2{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=I({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class k2 extends N2{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),I({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const r=this.parentNode!==void 0&&!_u.is(this.parentNode)&&!fi.is(this.parentNode)&&!ui.is(this.parentNode)&&!Mo.is(this.parentNode)&&!_k.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){const n=e.length-1;for(let o=0;o<=n;o++)this.visitNode(e[o]),o<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!ri.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!ri.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const r=this.nodeStack.find(Ct.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!Si(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(C2[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:r,parameters:n}=e;for(let o=0;o<r.length;++o)this.append(r[o]),n.length>o&&this.visitNode(n[o])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!ri.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!ri.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),rp(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(q2[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return aa.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const r of e.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(e){const r=e.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(e.value)),r&&this.append("]")}visitJSONOperatorChain(e){for(let r=0,n=e.values.length;r<n;r++)r===n-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[r])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper();let o="";for(const a of e)o+=a,a===r?o+=r:a===n&&(o+=n);return o}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(Si(e))this.append(`'${e}'`);else if($p(e)||rp(e))this.append(e.toString());else if(U_(e))this.append("null");else if(ZL(e))this.appendImmediateValue(e.toISOString());else if(V_(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((r,n)=>r.modifier&&n.modifier?_E[r.modifier]-_E[n.modifier]:1),I(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const q2=I({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),_E=I({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),C2=I({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class R2{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const O2=/"/g;class A2 extends k2{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(O2,'""')}visitDefaultInsertValue(e){this.append("null")}}const I2="kysely_migration",T2="kysely_migration_lock";I({__noMigrations__:!0});class P2{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",I2).where("name","!=",T2));const n=await r.execute();return Promise.all(n.map(({name:o})=>this.#t(o)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const r=this.#e,n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),o=n.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),a=await r.selectFrom(Wk`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:a.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===o,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class F2 extends R2{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const bE="function",Gl="64e10b34-2bf7-4616-9668-f99de5aa046e",L2="get",j2="has",M2="set",{isArray:Eh}=Array;let{SharedArrayBuffer:fp,window:D2}=globalThis,{notify:Bk,wait:zk,waitAsync:hp}=Atomics,$k=null;hp||(hp=t=>({value:new Promise(e=>{let r=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");r.onmessage=e,r.postMessage(t)})}));try{new fp(4)}catch{fp=ArrayBuffer;const e=new WeakMap;if(D2){const r=new Map,{prototype:{postMessage:n}}=Worker,o=a=>{const l=a.data?.[Gl];if(!Eh(l)){a.stopImmediatePropagation();const{id:d,sb:p}=l;r.get(d)(p)}};$k=function(a,...l){const d=a?.[Gl];if(Eh(d)){const[p,m]=d;e.set(m,p),this.addEventListener("message",o)}return n.call(this,a,...l)},hp=a=>({value:new Promise(l=>{r.set(e.get(a),l)}).then(l=>{r.delete(e.get(a)),e.delete(a);for(let d=0;d<l.length;d++)a[d]=l[d];return"ok"})})}else{const r=(n,o)=>({[Gl]:{id:n,sb:o}});Bk=n=>{postMessage(r(e.get(n),n))},addEventListener("message",n=>{const o=n.data?.[Gl];if(Eh(o)){const[a,l]=o;e.set(l,a)}})}}const{Int32Array:r_,Map:wE,Uint16Array:n_}=globalThis,{BYTES_PER_ELEMENT:xE}=r_,{BYTES_PER_ELEMENT:W2}=n_,B2=(t,e,r)=>{for(;zk(t,0,0,e)==="timed-out";)r()},i_=new WeakSet,nv=new WeakMap,z2={value:{then:t=>t()}};let $2=0;const sb=(t,{parse:e=JSON.parse,stringify:r=JSON.stringify,transform:n,interrupt:o}=JSON)=>{if(!nv.has(t)){const a=$k||t.postMessage,l=(N,...q)=>a.call(t,{[Gl]:q},{transfer:N}),d=typeof o===bE?o:o?.handler,p=o?.delay||42,m=new TextDecoder("utf-16"),b=(N,q)=>N?hp(q,0):(d?B2(q,p,d):zk(q,0),z2);let x=!1;nv.set(t,new Proxy(new wE,{[j2]:(N,q)=>typeof q=="string"&&!q.startsWith("_"),[L2]:(N,q)=>q==="then"?null:(...R)=>{const C=$2++;let L=new r_(new fp(xE*2)),P=[];i_.has(R.at(-1)||P)&&i_.delete(P=R.pop()),l(P,C,L,q,n?R.map(n):R);const T=t!==globalThis;let M=0;return x&&T&&(M=setTimeout(console.warn,1e3,`💀🔒 - Possible deadlock if proxy.${q}(...args) is awaited`)),b(T,L).value.then(()=>{clearTimeout(M);const U=L[1];if(!U)return;const V=W2*U;return L=new r_(new fp(V+V%xE)),l([],C,L),b(T,L).value.then(()=>e(m.decode(new n_(L.buffer).slice(0,U))))})},[M2](N,q,R){const C=typeof R;if(C!==bE)throw new Error(`Unable to assign ${q} as ${C}`);if(!N.size){const L=new wE;t.addEventListener("message",async P=>{const T=P.data?.[Gl];if(Eh(T)){P.stopImmediatePropagation();const[M,U,...V]=T;let B;if(V.length){const[K,le]=V;if(N.has(K)){x=!0;try{const H=await N.get(K)(...le);if(H!==void 0){const ne=r(n?n(H):H);L.set(M,ne),U[1]=ne.length}}catch(H){B=H}finally{x=!1}}else B=new Error(`Unsupported action: ${K}`);U[0]=1}else{const K=L.get(M);L.delete(M);for(let le=new n_(U.buffer),H=0;H<K.length;H++)le[H]=K.charCodeAt(H)}if(Bk(U,0),B)throw B}})}return!!N.set(q,R)}}))}return nv.get(t)};sb.transfer=(...t)=>(i_.add(t),t);var ob=(()=>{var t=import.meta.url;return function(e={}){var r,n=e,o,a,l=new Promise((c,f)=>{o=c,a=f}),d=typeof window=="object",p=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var b=Object.assign({},n),x="./this.program",N="";function q(c){return n.locateFile?n.locateFile(c,N):N+c}var R,C;(d||p)&&(p?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),t&&(N=t),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),p&&(C=c=>{var f=new XMLHttpRequest;return f.open("GET",c,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),R=c=>fetch(c,{credentials:"same-origin"}).then(f=>f.ok?f.arrayBuffer():Promise.reject(new Error(f.status+" : "+f.url))));var L=n.print||console.log.bind(console),P=n.printErr||console.error.bind(console);Object.assign(n,b),b=null,n.arguments&&n.arguments,n.thisProgram&&(x=n.thisProgram);var T=n.wasmBinary,M,U=!1,V,B,K,le,H,ne;function W(){var c=M.buffer;n.HEAP8=V=new Int8Array(c),n.HEAP16=K=new Int16Array(c),n.HEAPU8=B=new Uint8Array(c),n.HEAPU16=new Uint16Array(c),n.HEAP32=le=new Int32Array(c),n.HEAPU32=H=new Uint32Array(c),n.HEAPF32=new Float32Array(c),n.HEAPF64=new Float64Array(c),n.HEAP64=ne=new BigInt64Array(c),n.HEAPU64=new BigUint64Array(c)}if(n.wasmMemory)M=n.wasmMemory;else{var re=n.INITIAL_MEMORY||0x1000000;M=new WebAssembly.Memory({initial:re/65536,maximum:32768})}W();var Z=[],pe=[],Re=[];function Ce(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)me(n.preRun.shift());se(Z)}function Pe(){!n.noFSInit&&!A.initialized&&A.init(),A.ignorePermissions=!1,se(pe)}function ve(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Q(n.postRun.shift());se(Re)}function me(c){Z.unshift(c)}function Ee(c){pe.unshift(c)}function Q(c){Re.unshift(c)}var xe=0,lt=null;function at(c){return c}function dt(c){xe++,n.monitorRunDependencies?.(xe)}function mt(c){if(xe--,n.monitorRunDependencies?.(xe),xe==0&&lt){var f=lt;lt=null,f()}}function ft(c){n.onAbort?.(c),c="Aborted("+c+")",P(c),U=!0,c+=". Build with -sASSERTIONS for more info.";var f=new WebAssembly.RuntimeError(c);throw a(f),f}var gt="data:application/octet-stream;base64,",Tt=c=>c.startsWith(gt);function vt(){if(n.locateFile){var c="sqlite3.wasm";return Tt(c)?c:q(c)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var yt;function Rt(c){if(c==yt&&T)return new Uint8Array(T);if(C)return C(c);throw"both async and sync fetching of the wasm failed"}function qt(c){return T?Promise.resolve().then(()=>Rt(c)):R(c).then(f=>new Uint8Array(f),()=>Rt(c))}function Jt(c,f,y){return qt(c).then(g=>WebAssembly.instantiate(g,f)).then(y,g=>{P(`failed to asynchronously prepare wasm: ${g}`),ft(g)})}function Gt(c,f,y,g){return!c&&typeof WebAssembly.instantiateStreaming=="function"&&!Tt(f)&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(S=>{var k=WebAssembly.instantiateStreaming(S,y);return k.then(g,function(X){return P(`wasm streaming compile failed: ${X}`),P("falling back to ArrayBuffer instantiation"),Jt(f,y,g)})}):Jt(f,y,g)}function er(){return{env:Uu,wasi_snapshot_preview1:Uu}}function ur(){var c=er();function f(g,S){return ee=g.exports,Ee(ee.__wasm_call_ctors),mt(),ee}dt();function y(g){f(g.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(c,f)}catch(g){P(`Module.instantiateWasm callback failed with error: ${g}`),a(g)}return yt||(yt=vt()),Gt(T,yt,c,y).catch(a),{}}var se=c=>{for(;c.length>0;)c.shift()(n)};n.noExitRuntime;var ae={isAbs:c=>c.charAt(0)==="/",splitPath:c=>{var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return f.exec(c).slice(1)},normalizeArray:(c,f)=>{for(var y=0,g=c.length-1;g>=0;g--){var S=c[g];S==="."?c.splice(g,1):S===".."?(c.splice(g,1),y++):y&&(c.splice(g,1),y--)}if(f)for(;y;y--)c.unshift("..");return c},normalize:c=>{var f=ae.isAbs(c),y=c.substr(-1)==="/";return c=ae.normalizeArray(c.split("/").filter(g=>!!g),!f).join("/"),!c&&!f&&(c="."),c&&y&&(c+="/"),(f?"/":"")+c},dirname:c=>{var f=ae.splitPath(c),y=f[0],g=f[1];return!y&&!g?".":(g&&(g=g.substr(0,g.length-1)),y+g)},basename:c=>{if(c==="/")return"/";c=ae.normalize(c),c=c.replace(/\/$/,"");var f=c.lastIndexOf("/");return f===-1?c:c.substr(f+1)},join:(...c)=>ae.normalize(c.join("/")),join2:(c,f)=>ae.normalize(c+"/"+f)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return c=>crypto.getRandomValues(c);ft("initRandomDevice")},Oe=c=>(Oe=ye())(c),je={resolve:(...c)=>{for(var f="",y=!1,g=c.length-1;g>=-1&&!y;g--){var S=g>=0?c[g]:A.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";f=S+"/"+f,y=ae.isAbs(S)}return f=ae.normalizeArray(f.split("/").filter(k=>!!k),!y).join("/"),(y?"/":"")+f||"."},relative:(c,f)=>{c=je.resolve(c).substr(1),f=je.resolve(f).substr(1);function y($e){for(var Je=0;Je<$e.length&&$e[Je]==="";Je++);for(var rt=$e.length-1;rt>=0&&$e[rt]==="";rt--);return Je>rt?[]:$e.slice(Je,rt-Je+1)}for(var g=y(c.split("/")),S=y(f.split("/")),k=Math.min(g.length,S.length),X=k,te=0;te<k;te++)if(g[te]!==S[te]){X=te;break}for(var Le=[],te=X;te<g.length;te++)Le.push("..");return Le=Le.concat(S.slice(X)),Le.join("/")}},Ge=typeof TextDecoder<"u"?new TextDecoder:void 0,_t=(c,f,y)=>{for(var g=f+y,S=f;c[S]&&!(S>=g);)++S;if(S-f>16&&c.buffer&&Ge)return Ge.decode(c.subarray(f,S));for(var k="";f<S;){var X=c[f++];if(!(X&128)){k+=String.fromCharCode(X);continue}var te=c[f++]&63;if((X&224)==192){k+=String.fromCharCode((X&31)<<6|te);continue}var Le=c[f++]&63;if((X&240)==224?X=(X&15)<<12|te<<6|Le:X=(X&7)<<18|te<<12|Le<<6|c[f++]&63,X<65536)k+=String.fromCharCode(X);else{var $e=X-65536;k+=String.fromCharCode(55296|$e>>10,56320|$e&1023)}}return k},Dt=[],mr=c=>{for(var f=0,y=0;y<c.length;++y){var g=c.charCodeAt(y);g<=127?f++:g<=2047?f+=2:g>=55296&&g<=57343?(f+=4,++y):f+=3}return f},cr=(c,f,y,g)=>{if(!(g>0))return 0;for(var S=y,k=y+g-1,X=0;X<c.length;++X){var te=c.charCodeAt(X);if(te>=55296&&te<=57343){var Le=c.charCodeAt(++X);te=65536+((te&1023)<<10)|Le&1023}if(te<=127){if(y>=k)break;f[y++]=te}else if(te<=2047){if(y+1>=k)break;f[y++]=192|te>>6,f[y++]=128|te&63}else if(te<=65535){if(y+2>=k)break;f[y++]=224|te>>12,f[y++]=128|te>>6&63,f[y++]=128|te&63}else{if(y+3>=k)break;f[y++]=240|te>>18,f[y++]=128|te>>12&63,f[y++]=128|te>>6&63,f[y++]=128|te&63}}return f[y]=0,y-S};function Ar(c,f,y){var g=mr(c)+1,S=new Array(g),k=cr(c,S,0,S.length);return S.length=k,S}var Tn=()=>{if(!Dt.length){var c=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(c=window.prompt("Input: "),c!==null&&(c+=`
`)),!c)return null;Dt=Ar(c)}return Dt.shift()},Xr={ttys:[],init(){},shutdown(){},register(c,f){Xr.ttys[c]={input:[],output:[],ops:f},A.registerDevice(c,Xr.stream_ops)},stream_ops:{open(c){var f=Xr.ttys[c.node.rdev];if(!f)throw new A.ErrnoError(43);c.tty=f,c.seekable=!1},close(c){c.tty.ops.fsync(c.tty)},fsync(c){c.tty.ops.fsync(c.tty)},read(c,f,y,g,S){if(!c.tty||!c.tty.ops.get_char)throw new A.ErrnoError(60);for(var k=0,X=0;X<g;X++){var te;try{te=c.tty.ops.get_char(c.tty)}catch{throw new A.ErrnoError(29)}if(te===void 0&&k===0)throw new A.ErrnoError(6);if(te==null)break;k++,f[y+X]=te}return k&&(c.node.timestamp=Date.now()),k},write(c,f,y,g,S){if(!c.tty||!c.tty.ops.put_char)throw new A.ErrnoError(60);try{for(var k=0;k<g;k++)c.tty.ops.put_char(c.tty,f[y+k])}catch{throw new A.ErrnoError(29)}return g&&(c.node.timestamp=Date.now()),k}},default_tty_ops:{get_char(c){return Tn()},put_char(c,f){f===null||f===10?(L(_t(c.output,0)),c.output=[]):f!=0&&c.output.push(f)},fsync(c){c.output&&c.output.length>0&&(L(_t(c.output,0)),c.output=[])},ioctl_tcgets(c){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(c,f,y){return 0},ioctl_tiocgwinsz(c){return[24,80]}},default_tty1_ops:{put_char(c,f){f===null||f===10?(P(_t(c.output,0)),c.output=[]):f!=0&&c.output.push(f)},fsync(c){c.output&&c.output.length>0&&(P(_t(c.output,0)),c.output=[])}}},$n=(c,f)=>(B.fill(0,c,c+f),c),js=(c,f)=>Math.ceil(c/f)*f,yn=c=>{c=js(c,65536);var f=Vu(65536,c);return f?$n(f,c):0},Ut={ops_table:null,mount(c){return Ut.createNode(null,"/",16895,0)},createNode(c,f,y,g){if(A.isBlkdev(y)||A.isFIFO(y))throw new A.ErrnoError(63);Ut.ops_table||={dir:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr,lookup:Ut.node_ops.lookup,mknod:Ut.node_ops.mknod,rename:Ut.node_ops.rename,unlink:Ut.node_ops.unlink,rmdir:Ut.node_ops.rmdir,readdir:Ut.node_ops.readdir,symlink:Ut.node_ops.symlink},stream:{llseek:Ut.stream_ops.llseek}},file:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr},stream:{llseek:Ut.stream_ops.llseek,read:Ut.stream_ops.read,write:Ut.stream_ops.write,allocate:Ut.stream_ops.allocate,mmap:Ut.stream_ops.mmap,msync:Ut.stream_ops.msync}},link:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr,readlink:Ut.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr},stream:A.chrdev_stream_ops}};var S=A.createNode(c,f,y,g);return A.isDir(S.mode)?(S.node_ops=Ut.ops_table.dir.node,S.stream_ops=Ut.ops_table.dir.stream,S.contents={}):A.isFile(S.mode)?(S.node_ops=Ut.ops_table.file.node,S.stream_ops=Ut.ops_table.file.stream,S.usedBytes=0,S.contents=null):A.isLink(S.mode)?(S.node_ops=Ut.ops_table.link.node,S.stream_ops=Ut.ops_table.link.stream):A.isChrdev(S.mode)&&(S.node_ops=Ut.ops_table.chrdev.node,S.stream_ops=Ut.ops_table.chrdev.stream),S.timestamp=Date.now(),c&&(c.contents[f]=S,c.timestamp=S.timestamp),S},getFileDataAsTypedArray(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage(c,f){var y=c.contents?c.contents.length:0;if(!(y>=f)){var g=1024*1024;f=Math.max(f,y*(y<g?2:1.125)>>>0),y!=0&&(f=Math.max(f,256));var S=c.contents;c.contents=new Uint8Array(f),c.usedBytes>0&&c.contents.set(S.subarray(0,c.usedBytes),0)}},resizeFileStorage(c,f){if(c.usedBytes!=f)if(f==0)c.contents=null,c.usedBytes=0;else{var y=c.contents;c.contents=new Uint8Array(f),y&&c.contents.set(y.subarray(0,Math.min(f,c.usedBytes))),c.usedBytes=f}},node_ops:{getattr(c){var f={};return f.dev=A.isChrdev(c.mode)?c.id:1,f.ino=c.id,f.mode=c.mode,f.nlink=1,f.uid=0,f.gid=0,f.rdev=c.rdev,A.isDir(c.mode)?f.size=4096:A.isFile(c.mode)?f.size=c.usedBytes:A.isLink(c.mode)?f.size=c.link.length:f.size=0,f.atime=new Date(c.timestamp),f.mtime=new Date(c.timestamp),f.ctime=new Date(c.timestamp),f.blksize=4096,f.blocks=Math.ceil(f.size/f.blksize),f},setattr(c,f){f.mode!==void 0&&(c.mode=f.mode),f.timestamp!==void 0&&(c.timestamp=f.timestamp),f.size!==void 0&&Ut.resizeFileStorage(c,f.size)},lookup(c,f){throw A.genericErrors[44]},mknod(c,f,y,g){return Ut.createNode(c,f,y,g)},rename(c,f,y){if(A.isDir(c.mode)){var g;try{g=A.lookupNode(f,y)}catch{}if(g)for(var S in g.contents)throw new A.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=y,f.contents[y]=c,f.timestamp=c.parent.timestamp},unlink(c,f){delete c.contents[f],c.timestamp=Date.now()},rmdir(c,f){var y=A.lookupNode(c,f);for(var g in y.contents)throw new A.ErrnoError(55);delete c.contents[f],c.timestamp=Date.now()},readdir(c){var f=[".",".."];for(var y of Object.keys(c.contents))f.push(y);return f},symlink(c,f,y){var g=Ut.createNode(c,f,41471,0);return g.link=y,g},readlink(c){if(!A.isLink(c.mode))throw new A.ErrnoError(28);return c.link}},stream_ops:{read(c,f,y,g,S){var k=c.node.contents;if(S>=c.node.usedBytes)return 0;var X=Math.min(c.node.usedBytes-S,g);if(X>8&&k.subarray)f.set(k.subarray(S,S+X),y);else for(var te=0;te<X;te++)f[y+te]=k[S+te];return X},write(c,f,y,g,S,k){if(f.buffer===V.buffer&&(k=!1),!g)return 0;var X=c.node;if(X.timestamp=Date.now(),f.subarray&&(!X.contents||X.contents.subarray)){if(k)return X.contents=f.subarray(y,y+g),X.usedBytes=g,g;if(X.usedBytes===0&&S===0)return X.contents=f.slice(y,y+g),X.usedBytes=g,g;if(S+g<=X.usedBytes)return X.contents.set(f.subarray(y,y+g),S),g}if(Ut.expandFileStorage(X,S+g),X.contents.subarray&&f.subarray)X.contents.set(f.subarray(y,y+g),S);else for(var te=0;te<g;te++)X.contents[S+te]=f[y+te];return X.usedBytes=Math.max(X.usedBytes,S+g),g},llseek(c,f,y){var g=f;if(y===1?g+=c.position:y===2&&A.isFile(c.node.mode)&&(g+=c.node.usedBytes),g<0)throw new A.ErrnoError(28);return g},allocate(c,f,y){Ut.expandFileStorage(c.node,f+y),c.node.usedBytes=Math.max(c.node.usedBytes,f+y)},mmap(c,f,y,g,S){if(!A.isFile(c.node.mode))throw new A.ErrnoError(43);var k,X,te=c.node.contents;if(!(S&2)&&te&&te.buffer===V.buffer)X=!1,k=te.byteOffset;else{if(X=!0,k=yn(f),!k)throw new A.ErrnoError(48);te&&((y>0||y+f<te.length)&&(te.subarray?te=te.subarray(y,y+f):te=Array.prototype.slice.call(te,y,y+f)),V.set(te,k))}return{ptr:k,allocated:X}},msync(c,f,y,g,S){return Ut.stream_ops.write(c,f,0,g,y,!1),0}}},yo=(c,f,y,g)=>{var S=`al ${c}`;R(c).then(k=>{f(new Uint8Array(k)),S&&mt()},k=>{if(y)y();else throw`Loading data file "${c}" failed.`}),S&&dt()},go=(c,f,y,g,S,k)=>{A.createDataFile(c,f,y,g,S,k)},vo=n.preloadPlugins||[],Pu=(c,f,y,g)=>{typeof Browser<"u"&&Browser.init();var S=!1;return vo.forEach(k=>{S||k.canHandle(f)&&(k.handle(c,f,y,g),S=!0)}),S},Fu=(c,f,y,g,S,k,X,te,Le,$e)=>{var Je=f?je.resolve(ae.join2(c,f)):c;function rt(Ie){function we(ze){$e?.(),te||go(c,f,ze,g,S,Le),k?.(),mt()}Pu(Ie,Je,we,()=>{X?.(),mt()})||we(Ie)}dt(),typeof y=="string"?yo(y,rt,X):rt(y)},Lu=c=>{var f={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},y=f[c];if(typeof y>"u")throw new Error(`Unknown file open mode: ${c}`);return y},ls=(c,f)=>{var y=0;return c&&(y|=365),f&&(y|=146),y},A={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(c){this.name="ErrnoError",this.errno=c}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(c){this.node=c}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(c){this.shared.flags=c}get position(){return this.shared.position}set position(c){this.shared.position=c}},FSNode:class{constructor(c,f,y,g){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=A.nextInode++,this.name=f,this.mode=y,this.node_ops={},this.stream_ops={},this.rdev=g,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(c){c?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(c){c?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return A.isDir(this.mode)}get isDevice(){return A.isChrdev(this.mode)}},lookupPath(c,f={}){if(c=je.resolve(c),!c)return{path:"",node:null};var y={follow_mount:!0,recurse_count:0};if(f=Object.assign(y,f),f.recurse_count>8)throw new A.ErrnoError(32);for(var g=c.split("/").filter(rt=>!!rt),S=A.root,k="/",X=0;X<g.length;X++){var te=X===g.length-1;if(te&&f.parent)break;if(S=A.lookupNode(S,g[X]),k=ae.join2(k,g[X]),A.isMountpoint(S)&&(!te||te&&f.follow_mount)&&(S=S.mounted.root),!te||f.follow)for(var Le=0;A.isLink(S.mode);){var $e=A.readlink(k);k=je.resolve(ae.dirname(k),$e);var Je=A.lookupPath(k,{recurse_count:f.recurse_count+1});if(S=Je.node,Le++>40)throw new A.ErrnoError(32)}}return{path:k,node:S}},getPath(c){for(var f;;){if(A.isRoot(c)){var y=c.mount.mountpoint;return f?y[y.length-1]!=="/"?`${y}/${f}`:y+f:y}f=f?`${c.name}/${f}`:c.name,c=c.parent}},hashName(c,f){for(var y=0,g=0;g<f.length;g++)y=(y<<5)-y+f.charCodeAt(g)|0;return(c+y>>>0)%A.nameTable.length},hashAddNode(c){var f=A.hashName(c.parent.id,c.name);c.name_next=A.nameTable[f],A.nameTable[f]=c},hashRemoveNode(c){var f=A.hashName(c.parent.id,c.name);if(A.nameTable[f]===c)A.nameTable[f]=c.name_next;else for(var y=A.nameTable[f];y;){if(y.name_next===c){y.name_next=c.name_next;break}y=y.name_next}},lookupNode(c,f){var y=A.mayLookup(c);if(y)throw new A.ErrnoError(y);for(var g=A.hashName(c.id,f),S=A.nameTable[g];S;S=S.name_next){var k=S.name;if(S.parent.id===c.id&&k===f)return S}return A.lookup(c,f)},createNode(c,f,y,g){var S=new A.FSNode(c,f,y,g);return A.hashAddNode(S),S},destroyNode(c){A.hashRemoveNode(c)},isRoot(c){return c===c.parent},isMountpoint(c){return!!c.mounted},isFile(c){return(c&61440)===32768},isDir(c){return(c&61440)===16384},isLink(c){return(c&61440)===40960},isChrdev(c){return(c&61440)===8192},isBlkdev(c){return(c&61440)===24576},isFIFO(c){return(c&61440)===4096},isSocket(c){return(c&49152)===49152},flagsToPermissionString(c){var f=["r","w","rw"][c&3];return c&512&&(f+="w"),f},nodePermissions(c,f){return A.ignorePermissions?0:f.includes("r")&&!(c.mode&292)||f.includes("w")&&!(c.mode&146)||f.includes("x")&&!(c.mode&73)?2:0},mayLookup(c){if(!A.isDir(c.mode))return 54;var f=A.nodePermissions(c,"x");return f||(c.node_ops.lookup?0:2)},mayCreate(c,f){try{var y=A.lookupNode(c,f);return 20}catch{}return A.nodePermissions(c,"wx")},mayDelete(c,f,y){var g;try{g=A.lookupNode(c,f)}catch(k){return k.errno}var S=A.nodePermissions(c,"wx");if(S)return S;if(y){if(!A.isDir(g.mode))return 54;if(A.isRoot(g)||A.getPath(g)===A.cwd())return 10}else if(A.isDir(g.mode))return 31;return 0},mayOpen(c,f){return c?A.isLink(c.mode)?32:A.isDir(c.mode)&&(A.flagsToPermissionString(f)!=="r"||f&512)?31:A.nodePermissions(c,A.flagsToPermissionString(f)):44},MAX_OPEN_FDS:4096,nextfd(){for(var c=0;c<=A.MAX_OPEN_FDS;c++)if(!A.streams[c])return c;throw new A.ErrnoError(33)},getStreamChecked(c){var f=A.getStream(c);if(!f)throw new A.ErrnoError(8);return f},getStream:c=>A.streams[c],createStream(c,f=-1){return c=Object.assign(new A.FSStream,c),f==-1&&(f=A.nextfd()),c.fd=f,A.streams[f]=c,c},closeStream(c){A.streams[c]=null},dupStream(c,f=-1){var y=A.createStream(c,f);return y.stream_ops?.dup?.(y),y},chrdev_stream_ops:{open(c){var f=A.getDevice(c.node.rdev);c.stream_ops=f.stream_ops,c.stream_ops.open?.(c)},llseek(){throw new A.ErrnoError(70)}},major:c=>c>>8,minor:c=>c&255,makedev:(c,f)=>c<<8|f,registerDevice(c,f){A.devices[c]={stream_ops:f}},getDevice:c=>A.devices[c],getMounts(c){for(var f=[],y=[c];y.length;){var g=y.pop();f.push(g),y.push(...g.mounts)}return f},syncfs(c,f){typeof c=="function"&&(f=c,c=!1),A.syncFSRequests++,A.syncFSRequests>1&&P(`warning: ${A.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var y=A.getMounts(A.root.mount),g=0;function S(X){return A.syncFSRequests--,f(X)}function k(X){if(X)return k.errored?void 0:(k.errored=!0,S(X));++g>=y.length&&S(null)}y.forEach(X=>{if(!X.type.syncfs)return k(null);X.type.syncfs(X,c,k)})},mount(c,f,y){var g=y==="/",S=!y,k;if(g&&A.root)throw new A.ErrnoError(10);if(!g&&!S){var X=A.lookupPath(y,{follow_mount:!1});if(y=X.path,k=X.node,A.isMountpoint(k))throw new A.ErrnoError(10);if(!A.isDir(k.mode))throw new A.ErrnoError(54)}var te={type:c,opts:f,mountpoint:y,mounts:[]},Le=c.mount(te);return Le.mount=te,te.root=Le,g?A.root=Le:k&&(k.mounted=te,k.mount&&k.mount.mounts.push(te)),Le},unmount(c){var f=A.lookupPath(c,{follow_mount:!1});if(!A.isMountpoint(f.node))throw new A.ErrnoError(28);var y=f.node,g=y.mounted,S=A.getMounts(g);Object.keys(A.nameTable).forEach(X=>{for(var te=A.nameTable[X];te;){var Le=te.name_next;S.includes(te.mount)&&A.destroyNode(te),te=Le}}),y.mounted=null;var k=y.mount.mounts.indexOf(g);y.mount.mounts.splice(k,1)},lookup(c,f){return c.node_ops.lookup(c,f)},mknod(c,f,y){var g=A.lookupPath(c,{parent:!0}),S=g.node,k=ae.basename(c);if(!k||k==="."||k==="..")throw new A.ErrnoError(28);var X=A.mayCreate(S,k);if(X)throw new A.ErrnoError(X);if(!S.node_ops.mknod)throw new A.ErrnoError(63);return S.node_ops.mknod(S,k,f,y)},create(c,f){return f=f!==void 0?f:438,f&=4095,f|=32768,A.mknod(c,f,0)},mkdir(c,f){return f=f!==void 0?f:511,f&=1023,f|=16384,A.mknod(c,f,0)},mkdirTree(c,f){for(var y=c.split("/"),g="",S=0;S<y.length;++S)if(y[S]){g+="/"+y[S];try{A.mkdir(g,f)}catch(k){if(k.errno!=20)throw k}}},mkdev(c,f,y){return typeof y>"u"&&(y=f,f=438),f|=8192,A.mknod(c,f,y)},symlink(c,f){if(!je.resolve(c))throw new A.ErrnoError(44);var y=A.lookupPath(f,{parent:!0}),g=y.node;if(!g)throw new A.ErrnoError(44);var S=ae.basename(f),k=A.mayCreate(g,S);if(k)throw new A.ErrnoError(k);if(!g.node_ops.symlink)throw new A.ErrnoError(63);return g.node_ops.symlink(g,S,c)},rename(c,f){var y=ae.dirname(c),g=ae.dirname(f),S=ae.basename(c),k=ae.basename(f),X,te,Le;if(X=A.lookupPath(c,{parent:!0}),te=X.node,X=A.lookupPath(f,{parent:!0}),Le=X.node,!te||!Le)throw new A.ErrnoError(44);if(te.mount!==Le.mount)throw new A.ErrnoError(75);var $e=A.lookupNode(te,S),Je=je.relative(c,g);if(Je.charAt(0)!==".")throw new A.ErrnoError(28);if(Je=je.relative(f,y),Je.charAt(0)!==".")throw new A.ErrnoError(55);var rt;try{rt=A.lookupNode(Le,k)}catch{}if($e!==rt){var Ie=A.isDir($e.mode),we=A.mayDelete(te,S,Ie);if(we)throw new A.ErrnoError(we);if(we=rt?A.mayDelete(Le,k,Ie):A.mayCreate(Le,k),we)throw new A.ErrnoError(we);if(!te.node_ops.rename)throw new A.ErrnoError(63);if(A.isMountpoint($e)||rt&&A.isMountpoint(rt))throw new A.ErrnoError(10);if(Le!==te&&(we=A.nodePermissions(te,"w"),we))throw new A.ErrnoError(we);A.hashRemoveNode($e);try{te.node_ops.rename($e,Le,k),$e.parent=Le}catch(ze){throw ze}finally{A.hashAddNode($e)}}},rmdir(c){var f=A.lookupPath(c,{parent:!0}),y=f.node,g=ae.basename(c),S=A.lookupNode(y,g),k=A.mayDelete(y,g,!0);if(k)throw new A.ErrnoError(k);if(!y.node_ops.rmdir)throw new A.ErrnoError(63);if(A.isMountpoint(S))throw new A.ErrnoError(10);y.node_ops.rmdir(y,g),A.destroyNode(S)},readdir(c){var f=A.lookupPath(c,{follow:!0}),y=f.node;if(!y.node_ops.readdir)throw new A.ErrnoError(54);return y.node_ops.readdir(y)},unlink(c){var f=A.lookupPath(c,{parent:!0}),y=f.node;if(!y)throw new A.ErrnoError(44);var g=ae.basename(c),S=A.lookupNode(y,g),k=A.mayDelete(y,g,!1);if(k)throw new A.ErrnoError(k);if(!y.node_ops.unlink)throw new A.ErrnoError(63);if(A.isMountpoint(S))throw new A.ErrnoError(10);y.node_ops.unlink(y,g),A.destroyNode(S)},readlink(c){var f=A.lookupPath(c),y=f.node;if(!y)throw new A.ErrnoError(44);if(!y.node_ops.readlink)throw new A.ErrnoError(28);return je.resolve(A.getPath(y.parent),y.node_ops.readlink(y))},stat(c,f){var y=A.lookupPath(c,{follow:!f}),g=y.node;if(!g)throw new A.ErrnoError(44);if(!g.node_ops.getattr)throw new A.ErrnoError(63);return g.node_ops.getattr(g)},lstat(c){return A.stat(c,!0)},chmod(c,f,y){var g;if(typeof c=="string"){var S=A.lookupPath(c,{follow:!y});g=S.node}else g=c;if(!g.node_ops.setattr)throw new A.ErrnoError(63);g.node_ops.setattr(g,{mode:f&4095|g.mode&-4096,timestamp:Date.now()})},lchmod(c,f){A.chmod(c,f,!0)},fchmod(c,f){var y=A.getStreamChecked(c);A.chmod(y.node,f)},chown(c,f,y,g){var S;if(typeof c=="string"){var k=A.lookupPath(c,{follow:!g});S=k.node}else S=c;if(!S.node_ops.setattr)throw new A.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(c,f,y){A.chown(c,f,y,!0)},fchown(c,f,y){var g=A.getStreamChecked(c);A.chown(g.node,f,y)},truncate(c,f){if(f<0)throw new A.ErrnoError(28);var y;if(typeof c=="string"){var g=A.lookupPath(c,{follow:!0});y=g.node}else y=c;if(!y.node_ops.setattr)throw new A.ErrnoError(63);if(A.isDir(y.mode))throw new A.ErrnoError(31);if(!A.isFile(y.mode))throw new A.ErrnoError(28);var S=A.nodePermissions(y,"w");if(S)throw new A.ErrnoError(S);y.node_ops.setattr(y,{size:f,timestamp:Date.now()})},ftruncate(c,f){var y=A.getStreamChecked(c);if(!(y.flags&2097155))throw new A.ErrnoError(28);A.truncate(y.node,f)},utime(c,f,y){var g=A.lookupPath(c,{follow:!0}),S=g.node;S.node_ops.setattr(S,{timestamp:Math.max(f,y)})},open(c,f,y){if(c==="")throw new A.ErrnoError(44);f=typeof f=="string"?Lu(f):f,f&64?(y=typeof y>"u"?438:y,y=y&4095|32768):y=0;var g;if(typeof c=="object")g=c;else{c=ae.normalize(c);try{var S=A.lookupPath(c,{follow:!(f&131072)});g=S.node}catch{}}var k=!1;if(f&64)if(g){if(f&128)throw new A.ErrnoError(20)}else g=A.mknod(c,y,0),k=!0;if(!g)throw new A.ErrnoError(44);if(A.isChrdev(g.mode)&&(f&=-513),f&65536&&!A.isDir(g.mode))throw new A.ErrnoError(54);if(!k){var X=A.mayOpen(g,f);if(X)throw new A.ErrnoError(X)}f&512&&!k&&A.truncate(g,0),f&=-131713;var te=A.createStream({node:g,path:A.getPath(g),flags:f,seekable:!0,position:0,stream_ops:g.stream_ops,ungotten:[],error:!1});return te.stream_ops.open&&te.stream_ops.open(te),n.logReadFiles&&!(f&1)&&(A.readFiles||(A.readFiles={}),c in A.readFiles||(A.readFiles[c]=1)),te},close(c){if(A.isClosed(c))throw new A.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(f){throw f}finally{A.closeStream(c.fd)}c.fd=null},isClosed(c){return c.fd===null},llseek(c,f,y){if(A.isClosed(c))throw new A.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new A.ErrnoError(70);if(y!=0&&y!=1&&y!=2)throw new A.ErrnoError(28);return c.position=c.stream_ops.llseek(c,f,y),c.ungotten=[],c.position},read(c,f,y,g,S){if(g<0||S<0)throw new A.ErrnoError(28);if(A.isClosed(c))throw new A.ErrnoError(8);if((c.flags&2097155)===1)throw new A.ErrnoError(8);if(A.isDir(c.node.mode))throw new A.ErrnoError(31);if(!c.stream_ops.read)throw new A.ErrnoError(28);var k=typeof S<"u";if(!k)S=c.position;else if(!c.seekable)throw new A.ErrnoError(70);var X=c.stream_ops.read(c,f,y,g,S);return k||(c.position+=X),X},write(c,f,y,g,S,k){if(g<0||S<0)throw new A.ErrnoError(28);if(A.isClosed(c))throw new A.ErrnoError(8);if(!(c.flags&2097155))throw new A.ErrnoError(8);if(A.isDir(c.node.mode))throw new A.ErrnoError(31);if(!c.stream_ops.write)throw new A.ErrnoError(28);c.seekable&&c.flags&1024&&A.llseek(c,0,2);var X=typeof S<"u";if(!X)S=c.position;else if(!c.seekable)throw new A.ErrnoError(70);var te=c.stream_ops.write(c,f,y,g,S,k);return X||(c.position+=te),te},allocate(c,f,y){if(A.isClosed(c))throw new A.ErrnoError(8);if(f<0||y<=0)throw new A.ErrnoError(28);if(!(c.flags&2097155))throw new A.ErrnoError(8);if(!A.isFile(c.node.mode)&&!A.isDir(c.node.mode))throw new A.ErrnoError(43);if(!c.stream_ops.allocate)throw new A.ErrnoError(138);c.stream_ops.allocate(c,f,y)},mmap(c,f,y,g,S){if(g&2&&!(S&2)&&(c.flags&2097155)!==2)throw new A.ErrnoError(2);if((c.flags&2097155)===1)throw new A.ErrnoError(2);if(!c.stream_ops.mmap)throw new A.ErrnoError(43);if(!f)throw new A.ErrnoError(28);return c.stream_ops.mmap(c,f,y,g,S)},msync(c,f,y,g,S){return c.stream_ops.msync?c.stream_ops.msync(c,f,y,g,S):0},ioctl(c,f,y){if(!c.stream_ops.ioctl)throw new A.ErrnoError(59);return c.stream_ops.ioctl(c,f,y)},readFile(c,f={}){if(f.flags=f.flags||0,f.encoding=f.encoding||"binary",f.encoding!=="utf8"&&f.encoding!=="binary")throw new Error(`Invalid encoding type "${f.encoding}"`);var y,g=A.open(c,f.flags),S=A.stat(c),k=S.size,X=new Uint8Array(k);return A.read(g,X,0,k,0),f.encoding==="utf8"?y=_t(X,0):f.encoding==="binary"&&(y=X),A.close(g),y},writeFile(c,f,y={}){y.flags=y.flags||577;var g=A.open(c,y.flags,y.mode);if(typeof f=="string"){var S=new Uint8Array(mr(f)+1),k=cr(f,S,0,S.length);A.write(g,S,0,k,void 0,y.canOwn)}else if(ArrayBuffer.isView(f))A.write(g,f,0,f.byteLength,void 0,y.canOwn);else throw new Error("Unsupported data type");A.close(g)},cwd:()=>A.currentPath,chdir(c){var f=A.lookupPath(c,{follow:!0});if(f.node===null)throw new A.ErrnoError(44);if(!A.isDir(f.node.mode))throw new A.ErrnoError(54);var y=A.nodePermissions(f.node,"x");if(y)throw new A.ErrnoError(y);A.currentPath=f.path},createDefaultDirectories(){A.mkdir("/tmp"),A.mkdir("/home"),A.mkdir("/home/web_user")},createDefaultDevices(){A.mkdir("/dev"),A.registerDevice(A.makedev(1,3),{read:()=>0,write:(g,S,k,X,te)=>X}),A.mkdev("/dev/null",A.makedev(1,3)),Xr.register(A.makedev(5,0),Xr.default_tty_ops),Xr.register(A.makedev(6,0),Xr.default_tty1_ops),A.mkdev("/dev/tty",A.makedev(5,0)),A.mkdev("/dev/tty1",A.makedev(6,0));var c=new Uint8Array(1024),f=0,y=()=>(f===0&&(f=Oe(c).byteLength),c[--f]);A.createDevice("/dev","random",y),A.createDevice("/dev","urandom",y),A.mkdir("/dev/shm"),A.mkdir("/dev/shm/tmp")},createSpecialDirectories(){A.mkdir("/proc");var c=A.mkdir("/proc/self");A.mkdir("/proc/self/fd"),A.mount({mount(){var f=A.createNode(c,"fd",16895,73);return f.node_ops={lookup(y,g){var S=+g,k=A.getStreamChecked(S),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>k.path}};return X.parent=X,X}},f}},{},"/proc/self/fd")},createStandardStreams(c,f,y){c?A.createDevice("/dev","stdin",c):A.symlink("/dev/tty","/dev/stdin"),f?A.createDevice("/dev","stdout",null,f):A.symlink("/dev/tty","/dev/stdout"),y?A.createDevice("/dev","stderr",null,y):A.symlink("/dev/tty1","/dev/stderr"),A.open("/dev/stdin",0),A.open("/dev/stdout",1),A.open("/dev/stderr",1)},staticInit(){[44].forEach(c=>{A.genericErrors[c]=new A.ErrnoError(c),A.genericErrors[c].stack="<generic error, no stack>"}),A.nameTable=new Array(4096),A.mount(Ut,{},"/"),A.createDefaultDirectories(),A.createDefaultDevices(),A.createSpecialDirectories(),A.filesystems={MEMFS:Ut}},init(c,f,y){A.initialized=!0,c??=n.stdin,f??=n.stdout,y??=n.stderr,A.createStandardStreams(c,f,y)},quit(){A.initialized=!1;for(var c=0;c<A.streams.length;c++){var f=A.streams[c];f&&A.close(f)}},findObject(c,f){var y=A.analyzePath(c,f);return y.exists?y.object:null},analyzePath(c,f){try{var y=A.lookupPath(c,{follow:!f});c=y.path}catch{}var g={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var y=A.lookupPath(c,{parent:!0});g.parentExists=!0,g.parentPath=y.path,g.parentObject=y.node,g.name=ae.basename(c),y=A.lookupPath(c,{follow:!f}),g.exists=!0,g.path=y.path,g.object=y.node,g.name=y.node.name,g.isRoot=y.path==="/"}catch(S){g.error=S.errno}return g},createPath(c,f,y,g){c=typeof c=="string"?c:A.getPath(c);for(var S=f.split("/").reverse();S.length;){var k=S.pop();if(k){var X=ae.join2(c,k);try{A.mkdir(X)}catch{}c=X}}return X},createFile(c,f,y,g,S){var k=ae.join2(typeof c=="string"?c:A.getPath(c),f),X=ls(g,S);return A.create(k,X)},createDataFile(c,f,y,g,S,k){var X=f;c&&(c=typeof c=="string"?c:A.getPath(c),X=f?ae.join2(c,f):c);var te=ls(g,S),Le=A.create(X,te);if(y){if(typeof y=="string"){for(var $e=new Array(y.length),Je=0,rt=y.length;Je<rt;++Je)$e[Je]=y.charCodeAt(Je);y=$e}A.chmod(Le,te|146);var Ie=A.open(Le,577);A.write(Ie,y,0,y.length,0,k),A.close(Ie),A.chmod(Le,te)}},createDevice(c,f,y,g){var S=ae.join2(typeof c=="string"?c:A.getPath(c),f),k=ls(!!y,!!g);A.createDevice.major||(A.createDevice.major=64);var X=A.makedev(A.createDevice.major++,0);return A.registerDevice(X,{open(te){te.seekable=!1},close(te){g?.buffer?.length&&g(10)},read(te,Le,$e,Je,rt){for(var Ie=0,we=0;we<Je;we++){var ze;try{ze=y()}catch{throw new A.ErrnoError(29)}if(ze===void 0&&Ie===0)throw new A.ErrnoError(6);if(ze==null)break;Ie++,Le[$e+we]=ze}return Ie&&(te.node.timestamp=Date.now()),Ie},write(te,Le,$e,Je,rt){for(var Ie=0;Ie<Je;Ie++)try{g(Le[$e+Ie])}catch{throw new A.ErrnoError(29)}return Je&&(te.node.timestamp=Date.now()),Ie}}),A.mkdev(S,k,X)},forceLoadFile(c){if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{c.contents=C(c.url),c.usedBytes=c.contents.length}catch{throw new A.ErrnoError(29)}},createLazyFile(c,f,y,g,S){class k{constructor(){this.lengthKnown=!1,this.chunks=[]}get(we){if(!(we>this.length-1||we<0)){var ze=we%this.chunkSize,oe=we/this.chunkSize|0;return this.getter(oe)[ze]}}setDataGetter(we){this.getter=we}cacheLength(){var we=new XMLHttpRequest;if(we.open("HEAD",y,!1),we.send(null),!(we.status>=200&&we.status<300||we.status===304))throw new Error("Couldn't load "+y+". Status: "+we.status);var ze=Number(we.getResponseHeader("Content-length")),oe,fe=(oe=we.getResponseHeader("Accept-Ranges"))&&oe==="bytes",_e=(oe=we.getResponseHeader("Content-Encoding"))&&oe==="gzip",We=1024*1024;fe||(We=ze);var De=(Me,ht)=>{if(Me>ht)throw new Error("invalid range ("+Me+", "+ht+") or no bytes requested!");if(ht>ze-1)throw new Error("only "+ze+" bytes available! programmer error!");var j=new XMLHttpRequest;if(j.open("GET",y,!1),ze!==We&&j.setRequestHeader("Range","bytes="+Me+"-"+ht),j.responseType="arraybuffer",j.overrideMimeType&&j.overrideMimeType("text/plain; charset=x-user-defined"),j.send(null),!(j.status>=200&&j.status<300||j.status===304))throw new Error("Couldn't load "+y+". Status: "+j.status);return j.response!==void 0?new Uint8Array(j.response||[]):Ar(j.responseText||"")},be=this;be.setDataGetter(Me=>{var ht=Me*We,j=(Me+1)*We-1;if(j=Math.min(j,ze-1),typeof be.chunks[Me]>"u"&&(be.chunks[Me]=De(ht,j)),typeof be.chunks[Me]>"u")throw new Error("doXHR failed!");return be.chunks[Me]}),(_e||!ze)&&(We=ze=1,ze=this.getter(0).length,We=ze,L("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ze,this._chunkSize=We,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!p)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new k,te={isDevice:!1,contents:X}}else var te={isDevice:!1,url:y};var Le=A.createFile(c,f,te,g,S);te.contents?Le.contents=te.contents:te.url&&(Le.contents=null,Le.url=te.url),Object.defineProperties(Le,{usedBytes:{get:function(){return this.contents.length}}});var $e={},Je=Object.keys(Le.stream_ops);Je.forEach(Ie=>{var we=Le.stream_ops[Ie];$e[Ie]=(...ze)=>(A.forceLoadFile(Le),we(...ze))});function rt(Ie,we,ze,oe,fe){var _e=Ie.node.contents;if(fe>=_e.length)return 0;var We=Math.min(_e.length-fe,oe);if(_e.slice)for(var De=0;De<We;De++)we[ze+De]=_e[fe+De];else for(var De=0;De<We;De++)we[ze+De]=_e.get(fe+De);return We}return $e.read=(Ie,we,ze,oe,fe)=>(A.forceLoadFile(Le),rt(Ie,we,ze,oe,fe)),$e.mmap=(Ie,we,ze,oe,fe)=>{A.forceLoadFile(Le);var _e=yn(we);if(!_e)throw new A.ErrnoError(48);return rt(Ie,V,_e,we,ze),{ptr:_e,allocated:!0}},Le.stream_ops=$e,Le}},Bd=(c,f)=>c?_t(B,c,f):"",Xt={DEFAULT_POLLMASK:5,calculateAt(c,f,y){if(ae.isAbs(f))return f;var g;if(c===-100)g=A.cwd();else{var S=Xt.getStreamFromFD(c);g=S.path}if(f.length==0){if(!y)throw new A.ErrnoError(44);return g}return ae.join2(g,f)},doStat(c,f,y){var g=c(f);le[y>>2]=g.dev,le[y+4>>2]=g.mode,H[y+8>>2]=g.nlink,le[y+12>>2]=g.uid,le[y+16>>2]=g.gid,le[y+20>>2]=g.rdev,ne[y+24>>3]=BigInt(g.size),le[y+32>>2]=4096,le[y+36>>2]=g.blocks;var S=g.atime.getTime(),k=g.mtime.getTime(),X=g.ctime.getTime();return ne[y+40>>3]=BigInt(Math.floor(S/1e3)),H[y+48>>2]=S%1e3*1e3*1e3,ne[y+56>>3]=BigInt(Math.floor(k/1e3)),H[y+64>>2]=k%1e3*1e3*1e3,ne[y+72>>3]=BigInt(Math.floor(X/1e3)),H[y+80>>2]=X%1e3*1e3*1e3,ne[y+88>>3]=BigInt(g.ino),0},doMsync(c,f,y,g,S){if(!A.isFile(f.node.mode))throw new A.ErrnoError(43);if(g&2)return 0;var k=B.slice(c,c+y);A.msync(f,k,S,y,g)},getStreamFromFD(c){var f=A.getStreamChecked(c);return f},varargs:void 0,getStr(c){var f=Bd(c);return f}};function zd(c,f){try{return c=Xt.getStr(c),A.chmod(c,f),0}catch(y){if(typeof A>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function $d(c,f,y,g){try{if(f=Xt.getStr(f),f=Xt.calculateAt(c,f),y&-8)return-28;var S=A.lookupPath(f,{follow:!0}),k=S.node;if(!k)return-44;var X="";return y&4&&(X+="r"),y&2&&(X+="w"),y&1&&(X+="x"),X&&A.nodePermissions(k,X)?-2:0}catch(te){if(typeof A>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function Ud(c,f){try{return A.fchmod(c,f),0}catch(y){if(typeof A>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function ju(c,f,y){try{return A.fchown(c,f,y),0}catch(g){if(typeof A>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function ga(){var c=le[+Xt.varargs>>2];return Xt.varargs+=4,c}var qi=ga;function Mu(c,f,y){Xt.varargs=y;try{var g=Xt.getStreamFromFD(c);switch(f){case 0:{var S=ga();if(S<0)return-28;for(;A.streams[S];)S++;var k;return k=A.dupStream(g,S),k.fd}case 1:case 2:return 0;case 3:return g.flags;case 4:{var S=ga();return g.flags|=S,0}case 12:{var S=qi(),X=0;return K[S+X>>1]=2,0}case 13:case 14:return 0}return-28}catch(te){if(typeof A>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function va(c,f){try{var y=Xt.getStreamFromFD(c);return Xt.doStat(A.stat,y.path,f)}catch(g){if(typeof A>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}var im=0x20000000000000,_a=-0x20000000000000,us=c=>c<_a||c>im?NaN:Number(c);function dl(c,f){f=us(f);try{return isNaN(f)?61:(A.ftruncate(c,f),0)}catch(y){if(typeof A>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}var cs=(c,f,y)=>cr(c,B,f,y);function sm(c,f){try{if(f===0)return-28;var y=A.cwd(),g=mr(y)+1;return f<g?-68:(cs(y,c,f),g)}catch(S){if(typeof A>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function om(c,f,y){Xt.varargs=y;try{var g=Xt.getStreamFromFD(c);switch(f){case 21509:return g.tty?0:-59;case 21505:{if(!g.tty)return-59;if(g.tty.ops.ioctl_tcgets){var S=g.tty.ops.ioctl_tcgets(g),k=qi();le[k>>2]=S.c_iflag||0,le[k+4>>2]=S.c_oflag||0,le[k+8>>2]=S.c_cflag||0,le[k+12>>2]=S.c_lflag||0;for(var X=0;X<32;X++)V[k+X+17]=S.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:return g.tty?0:-59;case 21506:case 21507:case 21508:{if(!g.tty)return-59;if(g.tty.ops.ioctl_tcsets){for(var k=qi(),te=le[k>>2],Le=le[k+4>>2],$e=le[k+8>>2],Je=le[k+12>>2],rt=[],X=0;X<32;X++)rt.push(V[k+X+17]);return g.tty.ops.ioctl_tcsets(g.tty,f,{c_iflag:te,c_oflag:Le,c_cflag:$e,c_lflag:Je,c_cc:rt})}return 0}case 21519:{if(!g.tty)return-59;var k=qi();return le[k>>2]=0,0}case 21520:return g.tty?-28:-59;case 21531:{var k=qi();return A.ioctl(g,f,k)}case 21523:{if(!g.tty)return-59;if(g.tty.ops.ioctl_tiocgwinsz){var Ie=g.tty.ops.ioctl_tiocgwinsz(g.tty),k=qi();K[k>>1]=Ie[0],K[k+2>>1]=Ie[1]}return 0}case 21524:return g.tty?0:-59;case 21515:return g.tty?0:-59;default:return-28}}catch(we){if(typeof A>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}function am(c,f){try{return c=Xt.getStr(c),Xt.doStat(A.lstat,c,f)}catch(y){if(typeof A>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function Ms(c,f,y){try{return f=Xt.getStr(f),f=Xt.calculateAt(c,f),f=ae.normalize(f),f[f.length-1]==="/"&&(f=f.substr(0,f.length-1)),A.mkdir(f,y,0),0}catch(g){if(typeof A>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Vd(c,f,y,g){try{f=Xt.getStr(f);var S=g&256,k=g&4096;return g=g&-6401,f=Xt.calculateAt(c,f,k),Xt.doStat(S?A.lstat:A.stat,f,y)}catch(X){if(typeof A>"u"||X.name!=="ErrnoError")throw X;return-X.errno}}function Hd(c,f,y,g){Xt.varargs=g;try{f=Xt.getStr(f),f=Xt.calculateAt(c,f);var S=g?ga():0;return A.open(f,y,S).fd}catch(k){if(typeof A>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function lm(c,f,y,g){try{if(f=Xt.getStr(f),f=Xt.calculateAt(c,f),g<=0)return-28;var S=A.readlink(f),k=Math.min(g,mr(S)),X=V[y+k];return cs(S,y,g+1),V[y+k]=X,k}catch(te){if(typeof A>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function Qd(c){try{return c=Xt.getStr(c),A.rmdir(c),0}catch(f){if(typeof A>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function Kd(c,f){try{return c=Xt.getStr(c),Xt.doStat(A.stat,c,f)}catch(y){if(typeof A>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function Gd(c,f,y){try{return f=Xt.getStr(f),f=Xt.calculateAt(c,f),y===0?A.unlink(f):y===512?A.rmdir(f):ft("Invalid flags passed to unlinkat"),0}catch(g){if(typeof A>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}var Du=c=>H[c>>2]+le[c+4>>2]*0x100000000;function um(c,f,y,g){try{f=Xt.getStr(f),f=Xt.calculateAt(c,f,!0);var S=Date.now(),k,X;if(!y)k=S,X=S;else{var te=Du(y),Le=le[y+8>>2];Le==0x3fffffff?k=S:Le==0x3ffffffe?k=-1:k=te*1e3+Le/(1e3*1e3),y+=16,te=Du(y),Le=le[y+8>>2],Le==0x3fffffff?X=S:Le==0x3ffffffe?X=-1:X=te*1e3+Le/(1e3*1e3)}return(X!=-1||k!=-1)&&A.utime(f,k,X),0}catch($e){if(typeof A>"u"||$e.name!=="ErrnoError")throw $e;return-$e.errno}}var cm=1,Vr=()=>cm,dm=c=>c%4===0&&(c%100!==0||c%400===0),Wu=[0,31,60,91,121,152,182,213,244,274,305,335],Jd=[0,31,59,90,120,151,181,212,243,273,304,334],fl=c=>{var f=dm(c.getFullYear()),y=f?Wu:Jd,g=y[c.getMonth()]+c.getDate()-1;return g};function fm(c,f){c=us(c);var y=new Date(c*1e3);le[f>>2]=y.getSeconds(),le[f+4>>2]=y.getMinutes(),le[f+8>>2]=y.getHours(),le[f+12>>2]=y.getDate(),le[f+16>>2]=y.getMonth(),le[f+20>>2]=y.getFullYear()-1900,le[f+24>>2]=y.getDay();var g=fl(y)|0;le[f+28>>2]=g,le[f+36>>2]=-(y.getTimezoneOffset()*60);var S=new Date(y.getFullYear(),0,1),k=new Date(y.getFullYear(),6,1).getTimezoneOffset(),X=S.getTimezoneOffset(),te=(k!=X&&y.getTimezoneOffset()==Math.min(X,k))|0;le[f+32>>2]=te}function Zd(c,f,y,g,S,k,X){S=us(S);try{if(isNaN(S))return 61;var te=Xt.getStreamFromFD(g),Le=A.mmap(te,c,S,f,y),$e=Le.ptr;return le[k>>2]=Le.allocated,H[X>>2]=$e,0}catch(Je){if(typeof A>"u"||Je.name!=="ErrnoError")throw Je;return-Je.errno}}function hl(c,f,y,g,S,k){k=us(k);try{var X=Xt.getStreamFromFD(S);y&2&&Xt.doMsync(c,X,f,g,k)}catch(te){if(typeof A>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}var Ci=(c,f,y,g)=>{var S=new Date().getFullYear(),k=new Date(S,0,1),X=new Date(S,6,1),te=k.getTimezoneOffset(),Le=X.getTimezoneOffset(),$e=Math.max(te,Le);H[c>>2]=$e*60,le[f>>2]=+(te!=Le);var Je=we=>{var ze=we>=0?"-":"+",oe=Math.abs(we),fe=String(Math.floor(oe/60)).padStart(2,"0"),_e=String(oe%60).padStart(2,"0");return`UTC${ze}${fe}${_e}`},rt=Je(te),Ie=Je(Le);Le<te?(cs(rt,y,17),cs(Ie,g,17)):(cs(rt,g,17),cs(Ie,y,17))},hm=()=>Date.now(),Un;Un=()=>performance.now();var pm=()=>0x80000000,mm=c=>{var f=M.buffer,y=(c-f.byteLength+65535)/65536;try{return M.grow(y),W(),1}catch{}},ym=c=>{var f=B.length;c>>>=0;var y=pm();if(c>y)return!1;for(var g=1;g<=4;g*=2){var S=f*(1+.2/g);S=Math.min(S,c+0x6000000);var k=Math.min(y,js(Math.max(c,S),65536)),X=mm(k);if(X)return!0}return!1},_o={},pl=()=>x||"./this.program",zi=()=>{if(!zi.strings){var c=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:c,_:pl()};for(var y in _o)_o[y]===void 0?delete f[y]:f[y]=_o[y];var g=[];for(var y in f)g.push(`${y}=${f[y]}`);zi.strings=g}return zi.strings},ml=(c,f)=>{for(var y=0;y<c.length;++y)V[f++]=c.charCodeAt(y);V[f]=0},gm=(c,f)=>{var y=0;return zi().forEach((g,S)=>{var k=f+y;H[c+S*4>>2]=k,ml(g,k),y+=g.length+1}),0},vm=(c,f)=>{var y=zi();H[c>>2]=y.length;var g=0;return y.forEach(S=>g+=S.length+1),H[f>>2]=g,0};function Bu(c){try{var f=Xt.getStreamFromFD(c);return A.close(f),0}catch(y){if(typeof A>"u"||y.name!=="ErrnoError")throw y;return y.errno}}function Xd(c,f){try{var y=0,g=0,S=0,k=Xt.getStreamFromFD(c),X=k.tty?2:A.isDir(k.mode)?3:A.isLink(k.mode)?7:4;return V[f]=X,K[f+2>>1]=S,ne[f+8>>3]=BigInt(y),ne[f+16>>3]=BigInt(g),0}catch(te){if(typeof A>"u"||te.name!=="ErrnoError")throw te;return te.errno}}var zu=(c,f,y,g)=>{for(var S=0,k=0;k<y;k++){var X=H[f>>2],te=H[f+4>>2];f+=8;var Le=A.read(c,V,X,te,g);if(Le<0)return-1;if(S+=Le,Le<te)break}return S};function ba(c,f,y,g){try{var S=Xt.getStreamFromFD(c),k=zu(S,f,y);return H[g>>2]=k,0}catch(X){if(typeof A>"u"||X.name!=="ErrnoError")throw X;return X.errno}}function _m(c,f,y,g){f=us(f);try{if(isNaN(f))return 61;var S=Xt.getStreamFromFD(c);return A.llseek(S,f,y),ne[g>>3]=BigInt(S.position),S.getdents&&f===0&&y===0&&(S.getdents=null),0}catch(k){if(typeof A>"u"||k.name!=="ErrnoError")throw k;return k.errno}}function $u(c){try{var f=Xt.getStreamFromFD(c);return f.stream_ops?.fsync?f.stream_ops.fsync(f):0}catch(y){if(typeof A>"u"||y.name!=="ErrnoError")throw y;return y.errno}}var yr=(c,f,y,g)=>{for(var S=0,k=0;k<y;k++){var X=H[f>>2],te=H[f+4>>2];f+=8;var Le=A.write(c,V,X,te,g);if(Le<0)return-1;if(S+=Le,Le<te)break}return S};function Yd(c,f,y,g){try{var S=Xt.getStreamFromFD(c),k=yr(S,f,y);return H[g>>2]=k,0}catch(X){if(typeof A>"u"||X.name!=="ErrnoError")throw X;return X.errno}}A.createPreloadedFile=Fu,A.staticInit();var Uu={__syscall_chmod:zd,__syscall_faccessat:$d,__syscall_fchmod:Ud,__syscall_fchown32:ju,__syscall_fcntl64:Mu,__syscall_fstat64:va,__syscall_ftruncate64:dl,__syscall_getcwd:sm,__syscall_ioctl:om,__syscall_lstat64:am,__syscall_mkdirat:Ms,__syscall_newfstatat:Vd,__syscall_openat:Hd,__syscall_readlinkat:lm,__syscall_rmdir:Qd,__syscall_stat64:Kd,__syscall_unlinkat:Gd,__syscall_utimensat:um,_emscripten_get_now_is_monotonic:Vr,_localtime_js:fm,_mmap_js:Zd,_munmap_js:hl,_tzset_js:Ci,emscripten_date_now:hm,emscripten_get_now:Un,emscripten_resize_heap:ym,environ_get:gm,environ_sizes_get:vm,fd_close:Bu,fd_fdstat_get:Xd,fd_read:ba,fd_seek:_m,fd_sync:$u,fd_write:Yd,memory:M},ee=ur();n._sqlite3_status64=(c,f,y,g)=>(n._sqlite3_status64=ee.sqlite3_status64)(c,f,y,g),n._sqlite3_status=(c,f,y,g)=>(n._sqlite3_status=ee.sqlite3_status)(c,f,y,g),n._sqlite3_db_status=(c,f,y,g,S)=>(n._sqlite3_db_status=ee.sqlite3_db_status)(c,f,y,g,S),n._sqlite3_msize=c=>(n._sqlite3_msize=ee.sqlite3_msize)(c),n._sqlite3_vfs_find=c=>(n._sqlite3_vfs_find=ee.sqlite3_vfs_find)(c),n._sqlite3_initialize=()=>(n._sqlite3_initialize=ee.sqlite3_initialize)(),n._sqlite3_malloc=c=>(n._sqlite3_malloc=ee.sqlite3_malloc)(c),n._sqlite3_free=c=>(n._sqlite3_free=ee.sqlite3_free)(c),n._sqlite3_vfs_register=(c,f)=>(n._sqlite3_vfs_register=ee.sqlite3_vfs_register)(c,f),n._sqlite3_vfs_unregister=c=>(n._sqlite3_vfs_unregister=ee.sqlite3_vfs_unregister)(c),n._sqlite3_malloc64=c=>(n._sqlite3_malloc64=ee.sqlite3_malloc64)(c),n._sqlite3_realloc=(c,f)=>(n._sqlite3_realloc=ee.sqlite3_realloc)(c,f),n._sqlite3_realloc64=(c,f)=>(n._sqlite3_realloc64=ee.sqlite3_realloc64)(c,f),n._sqlite3_value_text=c=>(n._sqlite3_value_text=ee.sqlite3_value_text)(c),n._sqlite3_randomness=(c,f)=>(n._sqlite3_randomness=ee.sqlite3_randomness)(c,f),n._sqlite3_stricmp=(c,f)=>(n._sqlite3_stricmp=ee.sqlite3_stricmp)(c,f),n._sqlite3_strnicmp=(c,f,y)=>(n._sqlite3_strnicmp=ee.sqlite3_strnicmp)(c,f,y),n._sqlite3_uri_parameter=(c,f)=>(n._sqlite3_uri_parameter=ee.sqlite3_uri_parameter)(c,f),n._sqlite3_uri_boolean=(c,f,y)=>(n._sqlite3_uri_boolean=ee.sqlite3_uri_boolean)(c,f,y),n._sqlite3_serialize=(c,f,y,g)=>(n._sqlite3_serialize=ee.sqlite3_serialize)(c,f,y,g),n._sqlite3_prepare_v2=(c,f,y,g,S)=>(n._sqlite3_prepare_v2=ee.sqlite3_prepare_v2)(c,f,y,g,S),n._sqlite3_step=c=>(n._sqlite3_step=ee.sqlite3_step)(c),n._sqlite3_column_int64=(c,f)=>(n._sqlite3_column_int64=ee.sqlite3_column_int64)(c,f),n._sqlite3_reset=c=>(n._sqlite3_reset=ee.sqlite3_reset)(c),n._sqlite3_exec=(c,f,y,g,S)=>(n._sqlite3_exec=ee.sqlite3_exec)(c,f,y,g,S),n._sqlite3_column_int=(c,f)=>(n._sqlite3_column_int=ee.sqlite3_column_int)(c,f),n._sqlite3_finalize=c=>(n._sqlite3_finalize=ee.sqlite3_finalize)(c),n._sqlite3_file_control=(c,f,y,g)=>(n._sqlite3_file_control=ee.sqlite3_file_control)(c,f,y,g),n._sqlite3_column_name=(c,f)=>(n._sqlite3_column_name=ee.sqlite3_column_name)(c,f),n._sqlite3_column_text=(c,f)=>(n._sqlite3_column_text=ee.sqlite3_column_text)(c,f),n._sqlite3_column_type=(c,f)=>(n._sqlite3_column_type=ee.sqlite3_column_type)(c,f),n._sqlite3_errmsg=c=>(n._sqlite3_errmsg=ee.sqlite3_errmsg)(c),n._sqlite3_deserialize=(c,f,y,g,S,k)=>(n._sqlite3_deserialize=ee.sqlite3_deserialize)(c,f,y,g,S,k),n._sqlite3_clear_bindings=c=>(n._sqlite3_clear_bindings=ee.sqlite3_clear_bindings)(c),n._sqlite3_value_blob=c=>(n._sqlite3_value_blob=ee.sqlite3_value_blob)(c),n._sqlite3_value_bytes=c=>(n._sqlite3_value_bytes=ee.sqlite3_value_bytes)(c),n._sqlite3_value_double=c=>(n._sqlite3_value_double=ee.sqlite3_value_double)(c),n._sqlite3_value_int=c=>(n._sqlite3_value_int=ee.sqlite3_value_int)(c),n._sqlite3_value_int64=c=>(n._sqlite3_value_int64=ee.sqlite3_value_int64)(c),n._sqlite3_value_subtype=c=>(n._sqlite3_value_subtype=ee.sqlite3_value_subtype)(c),n._sqlite3_value_pointer=(c,f)=>(n._sqlite3_value_pointer=ee.sqlite3_value_pointer)(c,f),n._sqlite3_value_type=c=>(n._sqlite3_value_type=ee.sqlite3_value_type)(c),n._sqlite3_value_nochange=c=>(n._sqlite3_value_nochange=ee.sqlite3_value_nochange)(c),n._sqlite3_value_frombind=c=>(n._sqlite3_value_frombind=ee.sqlite3_value_frombind)(c),n._sqlite3_value_dup=c=>(n._sqlite3_value_dup=ee.sqlite3_value_dup)(c),n._sqlite3_value_free=c=>(n._sqlite3_value_free=ee.sqlite3_value_free)(c),n._sqlite3_result_blob=(c,f,y,g)=>(n._sqlite3_result_blob=ee.sqlite3_result_blob)(c,f,y,g),n._sqlite3_result_error_toobig=c=>(n._sqlite3_result_error_toobig=ee.sqlite3_result_error_toobig)(c),n._sqlite3_result_error_nomem=c=>(n._sqlite3_result_error_nomem=ee.sqlite3_result_error_nomem)(c),n._sqlite3_result_double=(c,f)=>(n._sqlite3_result_double=ee.sqlite3_result_double)(c,f),n._sqlite3_result_error=(c,f,y)=>(n._sqlite3_result_error=ee.sqlite3_result_error)(c,f,y),n._sqlite3_result_int=(c,f)=>(n._sqlite3_result_int=ee.sqlite3_result_int)(c,f),n._sqlite3_result_int64=(c,f)=>(n._sqlite3_result_int64=ee.sqlite3_result_int64)(c,f),n._sqlite3_result_null=c=>(n._sqlite3_result_null=ee.sqlite3_result_null)(c),n._sqlite3_result_pointer=(c,f,y,g)=>(n._sqlite3_result_pointer=ee.sqlite3_result_pointer)(c,f,y,g),n._sqlite3_result_subtype=(c,f)=>(n._sqlite3_result_subtype=ee.sqlite3_result_subtype)(c,f),n._sqlite3_result_text=(c,f,y,g)=>(n._sqlite3_result_text=ee.sqlite3_result_text)(c,f,y,g),n._sqlite3_result_zeroblob=(c,f)=>(n._sqlite3_result_zeroblob=ee.sqlite3_result_zeroblob)(c,f),n._sqlite3_result_zeroblob64=(c,f)=>(n._sqlite3_result_zeroblob64=ee.sqlite3_result_zeroblob64)(c,f),n._sqlite3_result_error_code=(c,f)=>(n._sqlite3_result_error_code=ee.sqlite3_result_error_code)(c,f),n._sqlite3_user_data=c=>(n._sqlite3_user_data=ee.sqlite3_user_data)(c),n._sqlite3_context_db_handle=c=>(n._sqlite3_context_db_handle=ee.sqlite3_context_db_handle)(c),n._sqlite3_vtab_nochange=c=>(n._sqlite3_vtab_nochange=ee.sqlite3_vtab_nochange)(c),n._sqlite3_vtab_in_first=(c,f)=>(n._sqlite3_vtab_in_first=ee.sqlite3_vtab_in_first)(c,f),n._sqlite3_vtab_in_next=(c,f)=>(n._sqlite3_vtab_in_next=ee.sqlite3_vtab_in_next)(c,f),n._sqlite3_aggregate_context=(c,f)=>(n._sqlite3_aggregate_context=ee.sqlite3_aggregate_context)(c,f),n._sqlite3_get_auxdata=(c,f)=>(n._sqlite3_get_auxdata=ee.sqlite3_get_auxdata)(c,f),n._sqlite3_set_auxdata=(c,f,y,g)=>(n._sqlite3_set_auxdata=ee.sqlite3_set_auxdata)(c,f,y,g),n._sqlite3_column_count=c=>(n._sqlite3_column_count=ee.sqlite3_column_count)(c),n._sqlite3_data_count=c=>(n._sqlite3_data_count=ee.sqlite3_data_count)(c),n._sqlite3_column_blob=(c,f)=>(n._sqlite3_column_blob=ee.sqlite3_column_blob)(c,f),n._sqlite3_column_bytes=(c,f)=>(n._sqlite3_column_bytes=ee.sqlite3_column_bytes)(c,f),n._sqlite3_column_double=(c,f)=>(n._sqlite3_column_double=ee.sqlite3_column_double)(c,f),n._sqlite3_column_value=(c,f)=>(n._sqlite3_column_value=ee.sqlite3_column_value)(c,f),n._sqlite3_column_decltype=(c,f)=>(n._sqlite3_column_decltype=ee.sqlite3_column_decltype)(c,f),n._sqlite3_bind_blob=(c,f,y,g,S)=>(n._sqlite3_bind_blob=ee.sqlite3_bind_blob)(c,f,y,g,S),n._sqlite3_bind_double=(c,f,y)=>(n._sqlite3_bind_double=ee.sqlite3_bind_double)(c,f,y),n._sqlite3_bind_int=(c,f,y)=>(n._sqlite3_bind_int=ee.sqlite3_bind_int)(c,f,y),n._sqlite3_bind_int64=(c,f,y)=>(n._sqlite3_bind_int64=ee.sqlite3_bind_int64)(c,f,y),n._sqlite3_bind_null=(c,f)=>(n._sqlite3_bind_null=ee.sqlite3_bind_null)(c,f),n._sqlite3_bind_pointer=(c,f,y,g,S)=>(n._sqlite3_bind_pointer=ee.sqlite3_bind_pointer)(c,f,y,g,S),n._sqlite3_bind_text=(c,f,y,g,S)=>(n._sqlite3_bind_text=ee.sqlite3_bind_text)(c,f,y,g,S),n._sqlite3_bind_parameter_count=c=>(n._sqlite3_bind_parameter_count=ee.sqlite3_bind_parameter_count)(c),n._sqlite3_bind_parameter_name=(c,f)=>(n._sqlite3_bind_parameter_name=ee.sqlite3_bind_parameter_name)(c,f),n._sqlite3_bind_parameter_index=(c,f)=>(n._sqlite3_bind_parameter_index=ee.sqlite3_bind_parameter_index)(c,f),n._sqlite3_db_handle=c=>(n._sqlite3_db_handle=ee.sqlite3_db_handle)(c),n._sqlite3_stmt_readonly=c=>(n._sqlite3_stmt_readonly=ee.sqlite3_stmt_readonly)(c),n._sqlite3_stmt_isexplain=c=>(n._sqlite3_stmt_isexplain=ee.sqlite3_stmt_isexplain)(c),n._sqlite3_stmt_explain=(c,f)=>(n._sqlite3_stmt_explain=ee.sqlite3_stmt_explain)(c,f),n._sqlite3_stmt_busy=c=>(n._sqlite3_stmt_busy=ee.sqlite3_stmt_busy)(c),n._sqlite3_stmt_status=(c,f,y)=>(n._sqlite3_stmt_status=ee.sqlite3_stmt_status)(c,f,y),n._sqlite3_sql=c=>(n._sqlite3_sql=ee.sqlite3_sql)(c),n._sqlite3_expanded_sql=c=>(n._sqlite3_expanded_sql=ee.sqlite3_expanded_sql)(c),n._sqlite3_preupdate_old=(c,f,y)=>(n._sqlite3_preupdate_old=ee.sqlite3_preupdate_old)(c,f,y),n._sqlite3_preupdate_count=c=>(n._sqlite3_preupdate_count=ee.sqlite3_preupdate_count)(c),n._sqlite3_preupdate_depth=c=>(n._sqlite3_preupdate_depth=ee.sqlite3_preupdate_depth)(c),n._sqlite3_preupdate_blobwrite=c=>(n._sqlite3_preupdate_blobwrite=ee.sqlite3_preupdate_blobwrite)(c),n._sqlite3_preupdate_new=(c,f,y)=>(n._sqlite3_preupdate_new=ee.sqlite3_preupdate_new)(c,f,y),n._sqlite3_value_numeric_type=c=>(n._sqlite3_value_numeric_type=ee.sqlite3_value_numeric_type)(c),n._sqlite3_set_authorizer=(c,f,y)=>(n._sqlite3_set_authorizer=ee.sqlite3_set_authorizer)(c,f,y),n._sqlite3_strglob=(c,f)=>(n._sqlite3_strglob=ee.sqlite3_strglob)(c,f),n._sqlite3_strlike=(c,f,y)=>(n._sqlite3_strlike=ee.sqlite3_strlike)(c,f,y),n._sqlite3_auto_extension=c=>(n._sqlite3_auto_extension=ee.sqlite3_auto_extension)(c),n._sqlite3_cancel_auto_extension=c=>(n._sqlite3_cancel_auto_extension=ee.sqlite3_cancel_auto_extension)(c),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=ee.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(c,f,y,g,S,k)=>(n._sqlite3_prepare_v3=ee.sqlite3_prepare_v3)(c,f,y,g,S,k),n._sqlite3_create_module=(c,f,y,g)=>(n._sqlite3_create_module=ee.sqlite3_create_module)(c,f,y,g),n._sqlite3_create_module_v2=(c,f,y,g,S)=>(n._sqlite3_create_module_v2=ee.sqlite3_create_module_v2)(c,f,y,g,S),n._sqlite3_drop_modules=(c,f)=>(n._sqlite3_drop_modules=ee.sqlite3_drop_modules)(c,f),n._sqlite3_declare_vtab=(c,f)=>(n._sqlite3_declare_vtab=ee.sqlite3_declare_vtab)(c,f),n._sqlite3_vtab_on_conflict=c=>(n._sqlite3_vtab_on_conflict=ee.sqlite3_vtab_on_conflict)(c),n._sqlite3_vtab_collation=(c,f)=>(n._sqlite3_vtab_collation=ee.sqlite3_vtab_collation)(c,f),n._sqlite3_vtab_in=(c,f,y)=>(n._sqlite3_vtab_in=ee.sqlite3_vtab_in)(c,f,y),n._sqlite3_vtab_rhs_value=(c,f,y)=>(n._sqlite3_vtab_rhs_value=ee.sqlite3_vtab_rhs_value)(c,f,y),n._sqlite3_vtab_distinct=c=>(n._sqlite3_vtab_distinct=ee.sqlite3_vtab_distinct)(c),n._sqlite3_keyword_name=(c,f,y)=>(n._sqlite3_keyword_name=ee.sqlite3_keyword_name)(c,f,y),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=ee.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(c,f)=>(n._sqlite3_keyword_check=ee.sqlite3_keyword_check)(c,f),n._sqlite3_complete=c=>(n._sqlite3_complete=ee.sqlite3_complete)(c),n._sqlite3_libversion=()=>(n._sqlite3_libversion=ee.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=ee.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=ee.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=c=>(n._sqlite3_last_insert_rowid=ee.sqlite3_last_insert_rowid)(c),n._sqlite3_set_last_insert_rowid=(c,f)=>(n._sqlite3_set_last_insert_rowid=ee.sqlite3_set_last_insert_rowid)(c,f),n._sqlite3_changes64=c=>(n._sqlite3_changes64=ee.sqlite3_changes64)(c),n._sqlite3_changes=c=>(n._sqlite3_changes=ee.sqlite3_changes)(c),n._sqlite3_total_changes64=c=>(n._sqlite3_total_changes64=ee.sqlite3_total_changes64)(c),n._sqlite3_total_changes=c=>(n._sqlite3_total_changes=ee.sqlite3_total_changes)(c),n._sqlite3_txn_state=(c,f)=>(n._sqlite3_txn_state=ee.sqlite3_txn_state)(c,f),n._sqlite3_close_v2=c=>(n._sqlite3_close_v2=ee.sqlite3_close_v2)(c),n._sqlite3_busy_handler=(c,f,y)=>(n._sqlite3_busy_handler=ee.sqlite3_busy_handler)(c,f,y),n._sqlite3_progress_handler=(c,f,y,g)=>(n._sqlite3_progress_handler=ee.sqlite3_progress_handler)(c,f,y,g),n._sqlite3_busy_timeout=(c,f)=>(n._sqlite3_busy_timeout=ee.sqlite3_busy_timeout)(c,f),n._sqlite3_interrupt=c=>(n._sqlite3_interrupt=ee.sqlite3_interrupt)(c),n._sqlite3_is_interrupted=c=>(n._sqlite3_is_interrupted=ee.sqlite3_is_interrupted)(c),n._sqlite3_create_function=(c,f,y,g,S,k,X,te)=>(n._sqlite3_create_function=ee.sqlite3_create_function)(c,f,y,g,S,k,X,te),n._sqlite3_create_function_v2=(c,f,y,g,S,k,X,te,Le)=>(n._sqlite3_create_function_v2=ee.sqlite3_create_function_v2)(c,f,y,g,S,k,X,te,Le),n._sqlite3_create_window_function=(c,f,y,g,S,k,X,te,Le,$e)=>(n._sqlite3_create_window_function=ee.sqlite3_create_window_function)(c,f,y,g,S,k,X,te,Le,$e),n._sqlite3_overload_function=(c,f,y)=>(n._sqlite3_overload_function=ee.sqlite3_overload_function)(c,f,y),n._sqlite3_trace_v2=(c,f,y,g)=>(n._sqlite3_trace_v2=ee.sqlite3_trace_v2)(c,f,y,g),n._sqlite3_commit_hook=(c,f,y)=>(n._sqlite3_commit_hook=ee.sqlite3_commit_hook)(c,f,y),n._sqlite3_update_hook=(c,f,y)=>(n._sqlite3_update_hook=ee.sqlite3_update_hook)(c,f,y),n._sqlite3_rollback_hook=(c,f,y)=>(n._sqlite3_rollback_hook=ee.sqlite3_rollback_hook)(c,f,y),n._sqlite3_preupdate_hook=(c,f,y)=>(n._sqlite3_preupdate_hook=ee.sqlite3_preupdate_hook)(c,f,y),n._sqlite3_error_offset=c=>(n._sqlite3_error_offset=ee.sqlite3_error_offset)(c),n._sqlite3_errcode=c=>(n._sqlite3_errcode=ee.sqlite3_errcode)(c),n._sqlite3_extended_errcode=c=>(n._sqlite3_extended_errcode=ee.sqlite3_extended_errcode)(c),n._sqlite3_errstr=c=>(n._sqlite3_errstr=ee.sqlite3_errstr)(c),n._sqlite3_limit=(c,f,y)=>(n._sqlite3_limit=ee.sqlite3_limit)(c,f,y),n._sqlite3_open=(c,f)=>(n._sqlite3_open=ee.sqlite3_open)(c,f),n._sqlite3_open_v2=(c,f,y,g)=>(n._sqlite3_open_v2=ee.sqlite3_open_v2)(c,f,y,g),n._sqlite3_create_collation=(c,f,y,g,S)=>(n._sqlite3_create_collation=ee.sqlite3_create_collation)(c,f,y,g,S),n._sqlite3_create_collation_v2=(c,f,y,g,S,k)=>(n._sqlite3_create_collation_v2=ee.sqlite3_create_collation_v2)(c,f,y,g,S,k),n._sqlite3_collation_needed=(c,f,y)=>(n._sqlite3_collation_needed=ee.sqlite3_collation_needed)(c,f,y),n._sqlite3_get_autocommit=c=>(n._sqlite3_get_autocommit=ee.sqlite3_get_autocommit)(c),n._sqlite3_table_column_metadata=(c,f,y,g,S,k,X,te,Le)=>(n._sqlite3_table_column_metadata=ee.sqlite3_table_column_metadata)(c,f,y,g,S,k,X,te,Le),n._sqlite3_extended_result_codes=(c,f)=>(n._sqlite3_extended_result_codes=ee.sqlite3_extended_result_codes)(c,f),n._sqlite3_uri_key=(c,f)=>(n._sqlite3_uri_key=ee.sqlite3_uri_key)(c,f),n._sqlite3_uri_int64=(c,f,y)=>(n._sqlite3_uri_int64=ee.sqlite3_uri_int64)(c,f,y),n._sqlite3_db_name=(c,f)=>(n._sqlite3_db_name=ee.sqlite3_db_name)(c,f),n._sqlite3_db_filename=(c,f)=>(n._sqlite3_db_filename=ee.sqlite3_db_filename)(c,f),n._sqlite3_db_readonly=(c,f)=>(n._sqlite3_db_readonly=ee.sqlite3_db_readonly)(c,f),n._sqlite3_compileoption_used=c=>(n._sqlite3_compileoption_used=ee.sqlite3_compileoption_used)(c),n._sqlite3_compileoption_get=c=>(n._sqlite3_compileoption_get=ee.sqlite3_compileoption_get)(c),n._sqlite3session_diff=(c,f,y,g)=>(n._sqlite3session_diff=ee.sqlite3session_diff)(c,f,y,g),n._sqlite3session_attach=(c,f)=>(n._sqlite3session_attach=ee.sqlite3session_attach)(c,f),n._sqlite3session_create=(c,f,y)=>(n._sqlite3session_create=ee.sqlite3session_create)(c,f,y),n._sqlite3session_delete=c=>(n._sqlite3session_delete=ee.sqlite3session_delete)(c),n._sqlite3session_table_filter=(c,f,y)=>(n._sqlite3session_table_filter=ee.sqlite3session_table_filter)(c,f,y),n._sqlite3session_changeset=(c,f,y)=>(n._sqlite3session_changeset=ee.sqlite3session_changeset)(c,f,y),n._sqlite3session_changeset_strm=(c,f,y)=>(n._sqlite3session_changeset_strm=ee.sqlite3session_changeset_strm)(c,f,y),n._sqlite3session_patchset_strm=(c,f,y)=>(n._sqlite3session_patchset_strm=ee.sqlite3session_patchset_strm)(c,f,y),n._sqlite3session_patchset=(c,f,y)=>(n._sqlite3session_patchset=ee.sqlite3session_patchset)(c,f,y),n._sqlite3session_enable=(c,f)=>(n._sqlite3session_enable=ee.sqlite3session_enable)(c,f),n._sqlite3session_indirect=(c,f)=>(n._sqlite3session_indirect=ee.sqlite3session_indirect)(c,f),n._sqlite3session_isempty=c=>(n._sqlite3session_isempty=ee.sqlite3session_isempty)(c),n._sqlite3session_memory_used=c=>(n._sqlite3session_memory_used=ee.sqlite3session_memory_used)(c),n._sqlite3session_object_config=(c,f,y)=>(n._sqlite3session_object_config=ee.sqlite3session_object_config)(c,f,y),n._sqlite3session_changeset_size=c=>(n._sqlite3session_changeset_size=ee.sqlite3session_changeset_size)(c),n._sqlite3changeset_start=(c,f,y)=>(n._sqlite3changeset_start=ee.sqlite3changeset_start)(c,f,y),n._sqlite3changeset_start_v2=(c,f,y,g)=>(n._sqlite3changeset_start_v2=ee.sqlite3changeset_start_v2)(c,f,y,g),n._sqlite3changeset_start_strm=(c,f,y)=>(n._sqlite3changeset_start_strm=ee.sqlite3changeset_start_strm)(c,f,y),n._sqlite3changeset_start_v2_strm=(c,f,y,g)=>(n._sqlite3changeset_start_v2_strm=ee.sqlite3changeset_start_v2_strm)(c,f,y,g),n._sqlite3changeset_next=c=>(n._sqlite3changeset_next=ee.sqlite3changeset_next)(c),n._sqlite3changeset_op=(c,f,y,g,S)=>(n._sqlite3changeset_op=ee.sqlite3changeset_op)(c,f,y,g,S),n._sqlite3changeset_pk=(c,f,y)=>(n._sqlite3changeset_pk=ee.sqlite3changeset_pk)(c,f,y),n._sqlite3changeset_old=(c,f,y)=>(n._sqlite3changeset_old=ee.sqlite3changeset_old)(c,f,y),n._sqlite3changeset_new=(c,f,y)=>(n._sqlite3changeset_new=ee.sqlite3changeset_new)(c,f,y),n._sqlite3changeset_conflict=(c,f,y)=>(n._sqlite3changeset_conflict=ee.sqlite3changeset_conflict)(c,f,y),n._sqlite3changeset_fk_conflicts=(c,f)=>(n._sqlite3changeset_fk_conflicts=ee.sqlite3changeset_fk_conflicts)(c,f),n._sqlite3changeset_finalize=c=>(n._sqlite3changeset_finalize=ee.sqlite3changeset_finalize)(c),n._sqlite3changeset_invert=(c,f,y,g)=>(n._sqlite3changeset_invert=ee.sqlite3changeset_invert)(c,f,y,g),n._sqlite3changeset_invert_strm=(c,f,y,g)=>(n._sqlite3changeset_invert_strm=ee.sqlite3changeset_invert_strm)(c,f,y,g),n._sqlite3changeset_apply_v2=(c,f,y,g,S,k,X,te,Le)=>(n._sqlite3changeset_apply_v2=ee.sqlite3changeset_apply_v2)(c,f,y,g,S,k,X,te,Le),n._sqlite3changeset_apply=(c,f,y,g,S,k)=>(n._sqlite3changeset_apply=ee.sqlite3changeset_apply)(c,f,y,g,S,k),n._sqlite3changeset_apply_v2_strm=(c,f,y,g,S,k,X,te,Le)=>(n._sqlite3changeset_apply_v2_strm=ee.sqlite3changeset_apply_v2_strm)(c,f,y,g,S,k,X,te,Le),n._sqlite3changeset_apply_strm=(c,f,y,g,S,k)=>(n._sqlite3changeset_apply_strm=ee.sqlite3changeset_apply_strm)(c,f,y,g,S,k),n._sqlite3changegroup_new=c=>(n._sqlite3changegroup_new=ee.sqlite3changegroup_new)(c),n._sqlite3changegroup_add=(c,f,y)=>(n._sqlite3changegroup_add=ee.sqlite3changegroup_add)(c,f,y),n._sqlite3changegroup_output=(c,f,y)=>(n._sqlite3changegroup_output=ee.sqlite3changegroup_output)(c,f,y),n._sqlite3changegroup_add_strm=(c,f,y)=>(n._sqlite3changegroup_add_strm=ee.sqlite3changegroup_add_strm)(c,f,y),n._sqlite3changegroup_output_strm=(c,f,y)=>(n._sqlite3changegroup_output_strm=ee.sqlite3changegroup_output_strm)(c,f,y),n._sqlite3changegroup_delete=c=>(n._sqlite3changegroup_delete=ee.sqlite3changegroup_delete)(c),n._sqlite3changeset_concat=(c,f,y,g,S,k)=>(n._sqlite3changeset_concat=ee.sqlite3changeset_concat)(c,f,y,g,S,k),n._sqlite3changeset_concat_strm=(c,f,y,g,S,k)=>(n._sqlite3changeset_concat_strm=ee.sqlite3changeset_concat_strm)(c,f,y,g,S,k),n._sqlite3session_config=(c,f)=>(n._sqlite3session_config=ee.sqlite3session_config)(c,f),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=ee.sqlite3_sourceid)(),n._sqlite3__wasm_pstack_ptr=()=>(n._sqlite3__wasm_pstack_ptr=ee.sqlite3__wasm_pstack_ptr)(),n._sqlite3__wasm_pstack_restore=c=>(n._sqlite3__wasm_pstack_restore=ee.sqlite3__wasm_pstack_restore)(c),n._sqlite3__wasm_pstack_alloc=c=>(n._sqlite3__wasm_pstack_alloc=ee.sqlite3__wasm_pstack_alloc)(c),n._sqlite3__wasm_pstack_remaining=()=>(n._sqlite3__wasm_pstack_remaining=ee.sqlite3__wasm_pstack_remaining)(),n._sqlite3__wasm_pstack_quota=()=>(n._sqlite3__wasm_pstack_quota=ee.sqlite3__wasm_pstack_quota)(),n._sqlite3__wasm_db_error=(c,f,y)=>(n._sqlite3__wasm_db_error=ee.sqlite3__wasm_db_error)(c,f,y),n._sqlite3__wasm_test_struct=c=>(n._sqlite3__wasm_test_struct=ee.sqlite3__wasm_test_struct)(c),n._sqlite3__wasm_enum_json=()=>(n._sqlite3__wasm_enum_json=ee.sqlite3__wasm_enum_json)(),n._sqlite3__wasm_vfs_unlink=(c,f)=>(n._sqlite3__wasm_vfs_unlink=ee.sqlite3__wasm_vfs_unlink)(c,f),n._sqlite3__wasm_db_vfs=(c,f)=>(n._sqlite3__wasm_db_vfs=ee.sqlite3__wasm_db_vfs)(c,f),n._sqlite3__wasm_db_reset=c=>(n._sqlite3__wasm_db_reset=ee.sqlite3__wasm_db_reset)(c),n._sqlite3__wasm_db_export_chunked=(c,f)=>(n._sqlite3__wasm_db_export_chunked=ee.sqlite3__wasm_db_export_chunked)(c,f),n._sqlite3__wasm_db_serialize=(c,f,y,g,S)=>(n._sqlite3__wasm_db_serialize=ee.sqlite3__wasm_db_serialize)(c,f,y,g,S),n._sqlite3__wasm_vfs_create_file=(c,f,y,g)=>(n._sqlite3__wasm_vfs_create_file=ee.sqlite3__wasm_vfs_create_file)(c,f,y,g),n._sqlite3__wasm_posix_create_file=(c,f,y)=>(n._sqlite3__wasm_posix_create_file=ee.sqlite3__wasm_posix_create_file)(c,f,y),n._sqlite3__wasm_kvvfsMakeKeyOnPstack=(c,f)=>(n._sqlite3__wasm_kvvfsMakeKeyOnPstack=ee.sqlite3__wasm_kvvfsMakeKeyOnPstack)(c,f),n._sqlite3__wasm_kvvfs_methods=()=>(n._sqlite3__wasm_kvvfs_methods=ee.sqlite3__wasm_kvvfs_methods)(),n._sqlite3__wasm_vtab_config=(c,f,y)=>(n._sqlite3__wasm_vtab_config=ee.sqlite3__wasm_vtab_config)(c,f,y),n._sqlite3__wasm_db_config_ip=(c,f,y,g)=>(n._sqlite3__wasm_db_config_ip=ee.sqlite3__wasm_db_config_ip)(c,f,y,g),n._sqlite3__wasm_db_config_pii=(c,f,y,g,S)=>(n._sqlite3__wasm_db_config_pii=ee.sqlite3__wasm_db_config_pii)(c,f,y,g,S),n._sqlite3__wasm_db_config_s=(c,f,y)=>(n._sqlite3__wasm_db_config_s=ee.sqlite3__wasm_db_config_s)(c,f,y),n._sqlite3__wasm_config_i=(c,f)=>(n._sqlite3__wasm_config_i=ee.sqlite3__wasm_config_i)(c,f),n._sqlite3__wasm_config_ii=(c,f,y)=>(n._sqlite3__wasm_config_ii=ee.sqlite3__wasm_config_ii)(c,f,y),n._sqlite3__wasm_config_j=(c,f)=>(n._sqlite3__wasm_config_j=ee.sqlite3__wasm_config_j)(c,f),n._sqlite3__wasm_qfmt_token=(c,f)=>(n._sqlite3__wasm_qfmt_token=ee.sqlite3__wasm_qfmt_token)(c,f),n._sqlite3__wasm_init_wasmfs=c=>(n._sqlite3__wasm_init_wasmfs=ee.sqlite3__wasm_init_wasmfs)(c),n._sqlite3__wasm_test_intptr=c=>(n._sqlite3__wasm_test_intptr=ee.sqlite3__wasm_test_intptr)(c),n._sqlite3__wasm_test_voidptr=c=>(n._sqlite3__wasm_test_voidptr=ee.sqlite3__wasm_test_voidptr)(c),n._sqlite3__wasm_test_int64_max=()=>(n._sqlite3__wasm_test_int64_max=ee.sqlite3__wasm_test_int64_max)(),n._sqlite3__wasm_test_int64_min=()=>(n._sqlite3__wasm_test_int64_min=ee.sqlite3__wasm_test_int64_min)(),n._sqlite3__wasm_test_int64_times2=c=>(n._sqlite3__wasm_test_int64_times2=ee.sqlite3__wasm_test_int64_times2)(c),n._sqlite3__wasm_test_int64_minmax=(c,f)=>(n._sqlite3__wasm_test_int64_minmax=ee.sqlite3__wasm_test_int64_minmax)(c,f),n._sqlite3__wasm_test_int64ptr=c=>(n._sqlite3__wasm_test_int64ptr=ee.sqlite3__wasm_test_int64ptr)(c),n._sqlite3__wasm_test_stack_overflow=c=>(n._sqlite3__wasm_test_stack_overflow=ee.sqlite3__wasm_test_stack_overflow)(c),n._sqlite3__wasm_test_str_hello=c=>(n._sqlite3__wasm_test_str_hello=ee.sqlite3__wasm_test_str_hello)(c),n._sqlite3__wasm_SQLTester_strglob=(c,f)=>(n._sqlite3__wasm_SQLTester_strglob=ee.sqlite3__wasm_SQLTester_strglob)(c,f),n._malloc=c=>(n._malloc=ee.malloc)(c),n._free=c=>(n._free=ee.free)(c),n._realloc=(c,f)=>(n._realloc=ee.realloc)(c,f);var Vu=(c,f)=>(Vu=ee.emscripten_builtin_memalign)(c,f);n.wasmMemory=M;var wa;lt=function c(){wa||Hu(),wa||(lt=c)};function Hu(){if(xe>0||(Ce(),xe>0))return;function c(){wa||(wa=!0,n.calledRun=!0,!U&&(Pe(),o(n),n.onRuntimeInitialized?.(),ve()))}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),c()},1)):c()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Hu(),n.postRun||(n.postRun=[]),n.postRun.push(function(c){if(globalThis.sqlite3ApiBootstrap=function f(y=globalThis.sqlite3ApiConfig||f.defaultConfig){if(f.sqlite3)return(f.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),f.sqlite3;const g=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof c<"u"&&c.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},y||{});Object.assign(g,{allocExportName:g.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:g.useStdAlloc?"free":"sqlite3_free",reallocExportName:g.useStdAlloc?"realloc":"sqlite3_realloc"},g),["exports","memory","wasmfsOpfsDir"].forEach(O=>{typeof g[O]=="function"&&(g[O]=g[O]())}),delete globalThis.sqlite3ApiConfig,delete f.defaultConfig;const S=Object.create(null),k=Object.create(null),X=O=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(O)||"Unknown result code #"+O,te=O=>typeof O=="number"&&O===(O|0);class Le extends Error{constructor(...D){let z;if(D.length)if(te(D[0]))if(z=D[0],D.length===1)super(X(D[0]));else{const qe=X(z);typeof D[1]=="object"?super(qe,D[1]):(D[0]=qe+":",super(D.join(" ")))}else D.length===2&&typeof D[1]=="object"?super(...D):super(D.join(" "));this.resultCode=z||S.SQLITE_ERROR,this.name="SQLite3Error"}}Le.toss=(...O)=>{throw new Le(...O)};const $e=Le.toss;g.wasmfsOpfsDir&&!/^\/[^/]+$/.test(g.wasmfsOpfsDir)&&$e("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Je=O=>typeof O!="bigint"&&O===(O|0)&&O<=0x7fffffff&&O>=-0x80000000,rt=function O(D){return O._max||(O._max=BigInt("0x7fffffffffffffff"),O._min=~O._max),D>=O._min&&D<=O._max},Ie=O=>O>=-2147483647n-1n&&O<=2147483647n,we=function O(D){return O._min||(O._min=Number.MIN_SAFE_INTEGER,O._max=Number.MAX_SAFE_INTEGER),D>=O._min&&D<=O._max},ze=O=>O&&O.constructor&&Je(O.constructor.BYTES_PER_ELEMENT)?O:!1,oe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,fe=O=>O.buffer instanceof oe,_e=(O,D,z)=>fe(O)?O.slice(D,z):O.subarray(D,z),We=O=>O&&(O instanceof Uint8Array||O instanceof Int8Array||O instanceof ArrayBuffer),De=O=>O&&(O instanceof Uint8Array||O instanceof Int8Array||O instanceof ArrayBuffer),be=O=>We(O)||$e("Value is not of a supported TypedArray type."),Me=new TextDecoder("utf-8"),ht=function(O,D,z){return Me.decode(_e(O,D,z))},j=function(O){return De(O)?ht(O instanceof ArrayBuffer?new Uint8Array(O):O):Array.isArray(O)?O.join(""):(k.isPtr(O)&&(O=k.cstrToJs(O)),O)};class J extends Error{constructor(...D){D.length===2&&typeof D[1]=="object"?super(...D):D.length?super(D.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}J.toss=(...O)=>{throw new J(...O)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(O,D,z,qe,He,St,Ft,Wt,Ze)=>{},sqlite3_create_function:(O,D,z,qe,He,St,Ft,Wt)=>{},sqlite3_create_window_function:(O,D,z,qe,He,St,Ft,Wt,Ze,ue)=>{},sqlite3_prepare_v3:(O,D,z,qe,He,St)=>{},sqlite3_prepare_v2:(O,D,z,qe,He)=>{},sqlite3_exec:(O,D,z,qe,He)=>{},sqlite3_randomness:(O,D)=>{}});const de={affirmBindableTypedArray:be,flexibleString:j,bigIntFits32:Ie,bigIntFits64:rt,bigIntFitsDouble:we,isBindableTypedArray:We,isInt32:Je,isSQLableTypedArray:De,isTypedArray:ze,typedArrayToString:ht,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:fe,toss:function(...O){throw new Error(O.join(" "))},toss3:$e,typedArrayPart:_e,affirmDbHeader:function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));const D="SQLite format 3";D.length>O.byteLength&&$e("Input does not contain an SQLite3 database header.");for(let z=0;z<D.length;++z)D.charCodeAt(z)!==O[z]&&$e("Input does not contain an SQLite3 database header.")},affirmIsDb:function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));const D=O.byteLength;(D<512||D%512!==0)&&$e("Byte array size",D,"is invalid for an SQLite3 db."),de.affirmDbHeader(O)}};Object.assign(k,{ptrSizeof:g.wasmPtrSizeof||4,ptrIR:g.wasmPtrIR||"i32",bigIntEnabled:!!g.bigIntEnabled,exports:g.exports||$e("Missing API config.exports (WASM module exports)."),memory:g.memory||g.exports.memory||$e("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),k.allocFromTypedArray=function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O)),be(O);const D=k.alloc(O.byteLength||1);return k.heapForSize(O.constructor).set(O.byteLength?O:[0],D),D};{const O=g.allocExportName,D=g.deallocExportName,z=g.reallocExportName;for(const qe of[O,D,z])k.exports[qe]instanceof Function||$e("Missing required exports[",qe,"] function.");k.alloc=function qe(He){return qe.impl(He)||J.toss("Failed to allocate",He," bytes.")},k.alloc.impl=k.exports[O],k.realloc=function qe(He,St){const Ft=qe.impl(He,St);return St?Ft||J.toss("Failed to reallocate",St," bytes."):0},k.realloc.impl=k.exports[z],k.dealloc=k.exports[D]}k.compileOptionUsed=function O(D){if(arguments.length){if(Array.isArray(D)){const z={};return D.forEach(qe=>{z[qe]=S.sqlite3_compileoption_used(qe)}),z}else if(typeof D=="object")return Object.keys(D).forEach(z=>{D[z]=S.sqlite3_compileoption_used(z)}),D}else{if(O._result)return O._result;O._opt||(O._rx=/^([^=]+)=(.+)/,O._rxInt=/^-?\d+$/,O._opt=function(Ft,Wt){const Ze=O._rx.exec(Ft);Wt[0]=Ze?Ze[1]:Ft,Wt[1]=Ze?O._rxInt.test(Ze[2])?+Ze[2]:Ze[2]:!0});const z={},qe=[0,0];let He=0,St;for(;St=S.sqlite3_compileoption_get(He++);)O._opt(St,qe),z[qe[0]]=qe[1];return O._result=z}return typeof D=="string"?!!S.sqlite3_compileoption_used(D):!1},k.pstack=Object.assign(Object.create(null),{restore:k.exports.sqlite3__wasm_pstack_restore,alloc:function(O){return typeof O=="string"&&!(O=k.sizeofIR(O))&&J.toss("Invalid value for pstack.alloc(",arguments[0],")"),k.exports.sqlite3__wasm_pstack_alloc(O)||J.toss("Could not allocate",O,"bytes from the pstack.")},allocChunks:function(O,D){typeof D=="string"&&!(D=k.sizeofIR(D))&&J.toss("Invalid size value for allocChunks(",arguments[1],")");const z=k.pstack.alloc(O*D),qe=[];let He=0,St=0;for(;He<O;++He,St+=D)qe.push(z+St);return qe},allocPtr:(O=1,D=!0)=>O===1?k.pstack.alloc(D?8:k.ptrSizeof):k.pstack.allocChunks(O,D?8:k.ptrSizeof),call:function(O){const D=k.pstack.pointer;try{return O(Y)}finally{k.pstack.restore(D)}}}),Object.defineProperties(k.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...O)=>{if(O.length===1&&de.isTypedArray(O[0])&&O[0].BYTES_PER_ELEMENT===1){const D=O[0];if(D.byteLength===0)return k.exports.sqlite3_randomness(0,0),D;const z=k.pstack.pointer;try{let qe=D.byteLength,He=0;const St=k.exports.sqlite3_randomness,Ft=k.heap8u(),Wt=qe<512?qe:512,Ze=k.pstack.alloc(Wt);do{const ue=qe>Wt?Wt:qe;St(ue,Ze),D.set(_e(Ft,Ze,Ze+ue),He),qe-=ue,He+=ue}while(qe>0)}catch(qe){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",qe)}finally{k.pstack.restore(z)}return D}k.exports.sqlite3_randomness(...O)};let Qe;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Qe!==void 0)return Qe;const O=g.wasmfsOpfsDir;if(!O||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Qe="";try{return O&&k.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],O)===0?Qe=O:Qe=""}catch{return Qe=""}},S.sqlite3_wasmfs_filename_is_persistent=function(O){const D=S.sqlite3_wasmfs_opfs_dir();return D&&O?O.startsWith(D+"/"):!1},S.sqlite3_js_db_uses_vfs=function(O,D,z=0){try{const qe=S.sqlite3_vfs_find(D);return qe?O?qe===S.sqlite3_js_db_vfs(O,z)?qe:!1:qe===S.sqlite3_vfs_find(0)?qe:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const O=[];let D=S.sqlite3_vfs_find(0);for(;D;){const z=new S.sqlite3_vfs(D);O.push(k.cstrToJs(z.$zName)),D=z.$pNext,z.dispose()}return O},S.sqlite3_js_db_export=function(O,D=0){O=k.xWrap.testConvertArg("sqlite3*",O),O||$e("Invalid sqlite3* argument."),k.bigIntEnabled||$e("BigInt64 support is not enabled.");const z=k.scopedAllocPush();let qe;try{const He=k.scopedAlloc(8+k.ptrSizeof),St=He+8,Ft=D?k.isPtr(D)?D:k.scopedAllocCString(""+D):0;let Wt=k.exports.sqlite3__wasm_db_serialize(O,Ft,St,He,0);Wt&&$e("Database serialization failed with code",Y.capi.sqlite3_js_rc_str(Wt)),qe=k.peekPtr(St);const Ze=k.peek(He,"i64");return Wt=Ze?k.heap8u().slice(qe,qe+Number(Ze)):new Uint8Array,Wt}finally{qe&&k.exports.sqlite3_free(qe),k.scopedAllocPop(z)}},S.sqlite3_js_db_vfs=(O,D=0)=>de.sqlite3__wasm_db_vfs(O,D),S.sqlite3_js_aggregate_context=(O,D)=>S.sqlite3_aggregate_context(O,D)||(D?J.toss("Cannot allocate",D,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(O,D,z){let qe;D&&k.isPtr(D)?qe=D:D instanceof ArrayBuffer||D instanceof Uint8Array?(qe=k.allocFromTypedArray(D),(arguments.length<3||!de.isInt32(z)||z<0)&&(z=D.byteLength)):Le.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!de.isInt32(z)||z<0)&&Le.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const He=de.sqlite3__wasm_posix_create_file(O,qe,z);He&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(He))}finally{k.dealloc(qe)}},S.sqlite3_js_vfs_create_file=function(O,D,z,qe){g.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let He;z?(k.isPtr(z)?He=z:z instanceof ArrayBuffer&&(z=new Uint8Array(z)),z instanceof Uint8Array?(He=k.allocFromTypedArray(z),(arguments.length<4||!de.isInt32(qe)||qe<0)&&(qe=z.byteLength)):Le.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):He=0,(!de.isInt32(qe)||qe<0)&&(k.dealloc(He),Le.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const St=de.sqlite3__wasm_vfs_create_file(O,D,He,qe);St&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(St))}finally{k.dealloc(He)}},S.sqlite3_js_sql_to_string=O=>{if(typeof O=="string")return O;const D=j(v);return D===v?void 0:D},de.isUIThread()){const O=function(D){const z=Object.create(null);return z.prefix="kvvfs-"+D,z.stores=[],(D==="session"||D==="")&&z.stores.push(globalThis.sessionStorage),(D==="local"||D==="")&&z.stores.push(globalThis.localStorage),z};S.sqlite3_js_kvvfs_clear=function(D=""){let z=0;const qe=O(D);return qe.stores.forEach(He=>{const St=[];let Ft;for(Ft=0;Ft<He.length;++Ft){const Wt=He.key(Ft);Wt.startsWith(qe.prefix)&&St.push(Wt)}St.forEach(Wt=>He.removeItem(Wt)),z+=St.length}),z},S.sqlite3_js_kvvfs_size=function(D=""){let z=0;const qe=O(D);return qe.stores.forEach(He=>{let St;for(St=0;St<He.length;++St){const Ft=He.key(St);Ft.startsWith(qe.prefix)&&(z+=Ft.length,z+=He.getItem(Ft).length)}}),z*2}}S.sqlite3_db_config=function(O,D,...z){switch(this.s||(this.s=k.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=k.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=k.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),D){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(O,D,z[0],z[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(O,D,z[0],z[1],z[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(O,D,z[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(O,D=!0){let z;const qe=S.sqlite3_value_type(O);switch(qe){case S.SQLITE_INTEGER:k.bigIntEnabled?(z=S.sqlite3_value_int64(O),de.bigIntFitsDouble(z)&&(z=Number(z))):z=S.sqlite3_value_double(O);break;case S.SQLITE_FLOAT:z=S.sqlite3_value_double(O);break;case S.SQLITE_TEXT:z=S.sqlite3_value_text(O);break;case S.SQLITE_BLOB:{const He=S.sqlite3_value_bytes(O),St=S.sqlite3_value_blob(O);He&&!St&&Y.WasmAllocError.toss("Cannot allocate memory for blob argument of",He,"byte(s)"),z=He?k.heap8u().slice(St,St+Number(He)):null;break}case S.SQLITE_NULL:z=null;break;default:D&&$e(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",qe),z=void 0}return z},S.sqlite3_values_to_js=function(O,D,z=!0){let qe;const He=[];for(qe=0;qe<O;++qe)He.push(S.sqlite3_value_to_js(k.peekPtr(D+k.ptrSizeof*qe),z));return He},S.sqlite3_result_error_js=function(O,D){D instanceof J?S.sqlite3_result_error_nomem(O):S.sqlite3_result_error(O,""+D,-1)},S.sqlite3_result_js=function(O,D){if(D instanceof Error){S.sqlite3_result_error_js(O,D);return}try{switch(typeof D){case"undefined":break;case"boolean":S.sqlite3_result_int(O,D?1:0);break;case"bigint":de.bigIntFits32(D)?S.sqlite3_result_int(O,Number(D)):de.bigIntFitsDouble(D)?S.sqlite3_result_double(O,Number(D)):k.bigIntEnabled?de.bigIntFits64(D)?S.sqlite3_result_int64(O,D):$e("BigInt value",D.toString(),"is too BigInt for int64."):$e("BigInt value",D.toString(),"is too BigInt.");break;case"number":{let z;de.isInt32(D)?z=S.sqlite3_result_int:k.bigIntEnabled&&Number.isInteger(D)&&de.bigIntFits64(BigInt(D))?z=S.sqlite3_result_int64:z=S.sqlite3_result_double,z(O,D);break}case"string":{const[z,qe]=k.allocCString(D,!0);S.sqlite3_result_text(O,z,qe,S.SQLITE_WASM_DEALLOC);break}case"object":if(D===null){S.sqlite3_result_null(O);break}else if(de.isBindableTypedArray(D)){const z=k.allocFromTypedArray(D);S.sqlite3_result_blob(O,z,D.byteLength,S.SQLITE_WASM_DEALLOC);break}default:$e("Don't not how to handle this UDF result value:",typeof D,D)}}catch(z){S.sqlite3_result_error_js(O,z)}},S.sqlite3_column_js=function(O,D,z=!0){const qe=S.sqlite3_column_value(O,D);return qe===0?void 0:S.sqlite3_value_to_js(qe,z)};const $=function(O,D,z){z=S[z],this.ptr?k.pokePtr(this.ptr,0):this.ptr=k.allocPtr();const qe=z(O,D,this.ptr);if(qe)return Le.toss(qe,arguments[2]+"() failed with code "+qe);const He=k.peekPtr(this.ptr);return He?S.sqlite3_value_to_js(He,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(O,D)=>$(O,D,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(O,D)=>$(O,D,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(O,D)=>$(O,D,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(O,D)=>$(O,D,"sqlite3changeset_old");const Y={WasmAllocError:J,SQLite3Error:Le,capi:S,util:de,wasm:k,config:g,version:Object.create(null),client:void 0,asyncPostInit:async function O(){if(O.isReady instanceof Promise)return O.isReady;let D=f.initializersAsync;delete f.initializersAsync;const z=async()=>(Y.__isUnderTest||(delete Y.util,delete Y.StructBinder),Y),qe=St=>{throw g.error("an async sqlite3 initializer failed:",St),St};if(!D||!D.length)return O.isReady=z().catch(qe);D=D.map(St=>St instanceof Function?async Ft=>St(Y):St),D.push(z);let He=Promise.resolve(Y);for(;D.length;)He=He.then(D.shift());return O.isReady=He.catch(qe)},scriptInfo:void 0};try{f.initializers.forEach(O=>{O(Y)})}catch(O){throw console.error("sqlite3 bootstrap initializer threw:",O),O}return delete f.initializers,f.sqlite3=Y,Y},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(f){f.bigIntEnabled===void 0&&(f.bigIntEnabled=!!globalThis.BigInt64Array);const y=(...j)=>{throw new Error(j.join(" "))};f.exports||Object.defineProperty(f,"exports",{enumerable:!0,configurable:!0,get:()=>f.instance&&f.instance.exports});const g=f.pointerIR||"i32",S=f.ptrSizeof=g==="i32"?4:g==="i64"?8:y("Unhandled ptrSizeof:",g),k=Object.create(null);k.heapSize=0,k.memory=null,k.freeFuncIndexes=[],k.scopedAlloc=[],k.utf8Decoder=new TextDecoder,k.utf8Encoder=new TextEncoder("utf-8"),f.sizeofIR=j=>{switch(j){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+j).endsWith("*")?S:void 0}};const X=function(){if(!k.memory)k.memory=f.memory instanceof WebAssembly.Memory?f.memory:f.exports.memory;else if(k.heapSize===k.memory.buffer.byteLength)return k;const j=k.memory.buffer;return k.HEAP8=new Int8Array(j),k.HEAP8U=new Uint8Array(j),k.HEAP16=new Int16Array(j),k.HEAP16U=new Uint16Array(j),k.HEAP32=new Int32Array(j),k.HEAP32U=new Uint32Array(j),f.bigIntEnabled&&(k.HEAP64=new BigInt64Array(j),k.HEAP64U=new BigUint64Array(j)),k.HEAP32F=new Float32Array(j),k.HEAP64F=new Float64Array(j),k.heapSize=j.byteLength,k};f.heap8=()=>X().HEAP8,f.heap8u=()=>X().HEAP8U,f.heap16=()=>X().HEAP16,f.heap16u=()=>X().HEAP16U,f.heap32=()=>X().HEAP32,f.heap32u=()=>X().HEAP32U,f.heapForSize=function(j,J=!0){const de=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X();switch(j){case Int8Array:return de.HEAP8;case Uint8Array:return de.HEAP8U;case Int16Array:return de.HEAP16;case Uint16Array:return de.HEAP16U;case Int32Array:return de.HEAP32;case Uint32Array:return de.HEAP32U;case 8:return J?de.HEAP8U:de.HEAP8;case 16:return J?de.HEAP16U:de.HEAP16;case 32:return J?de.HEAP32U:de.HEAP32;case 64:if(de.HEAP64)return J?de.HEAP64U:de.HEAP64;break;default:if(f.bigIntEnabled){if(j===globalThis.BigUint64Array)return de.HEAP64U;if(j===globalThis.BigInt64Array)return de.HEAP64;break}}y("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},f.functionTable=function(){return f.exports.__indirect_function_table},f.functionEntry=function(j){const J=f.functionTable();return j<J.length?J.get(j):void 0},f.jsFuncToWasm=function j(J,de){if(j._||(j._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(Y,O,D){D<128?Y[O](D):Y[O](D%128|128,D>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(Y){const O=j._.rxJSig.exec(Y);return O?O[2]:Y.substr(1)},letterType:Y=>j._.sigTypes[Y]||y("Invalid signature letter:",Y),pushSigType:(Y,O)=>Y.push(j._.typeCodes[j._.letterType(O)])}),typeof J=="string"){const Y=de;de=J,J=Y}const Qe=j._.sigParams(de),$=[1,96];j._.uleb128Encode($,"push",Qe.length);for(const Y of Qe)j._.pushSigType($,Y);return de[0]==="v"?$.push(0):($.push(1),j._.pushSigType($,de[0])),j._.uleb128Encode($,"unshift",$.length),$.unshift(0,97,115,109,1,0,0,0,1),$.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array($)),{e:{f:J}}).exports.f};const te=function(J,de,Qe){if(Qe&&!k.scopedAlloc.length&&y("No scopedAllocPush() scope is active."),typeof J=="string"){const D=de;de=J,J=D}(typeof de!="string"||!(J instanceof Function))&&y("Invalid arguments: expecting (function,signature) or (signature,function).");const $=f.functionTable(),Y=$.length;let O;for(;k.freeFuncIndexes.length&&(O=k.freeFuncIndexes.pop(),$.get(O));){O=null;continue}O||(O=Y,$.grow(1));try{return $.set(O,J),Qe&&k.scopedAlloc[k.scopedAlloc.length-1].push(O),O}catch(D){if(!(D instanceof TypeError))throw O===Y&&k.freeFuncIndexes.push(Y),D}try{const D=f.jsFuncToWasm(J,de);$.set(O,D),Qe&&k.scopedAlloc[k.scopedAlloc.length-1].push(O)}catch(D){throw O===Y&&k.freeFuncIndexes.push(Y),D}return O};f.installFunction=(j,J)=>te(j,J,!1),f.scopedInstallFunction=(j,J)=>te(j,J,!0),f.uninstallFunction=function(j){if(!j&&j!==0)return;const J=k.freeFuncIndexes,de=f.functionTable();J.push(j);const Qe=de.get(j);return de.set(j,null),Qe},f.peek=function(J,de="i8"){de.endsWith("*")&&(de=g);const Qe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X(),$=Array.isArray(J)?[]:void 0;let Y;do{switch($&&(J=arguments[0].shift()),de){case"i1":case"i8":Y=Qe.HEAP8[J>>0];break;case"i16":Y=Qe.HEAP16[J>>1];break;case"i32":Y=Qe.HEAP32[J>>2];break;case"float":case"f32":Y=Qe.HEAP32F[J>>2];break;case"double":case"f64":Y=Number(Qe.HEAP64F[J>>3]);break;case"i64":if(f.bigIntEnabled){Y=BigInt(Qe.HEAP64[J>>3]);break}default:y("Invalid type for peek():",de)}$&&$.push(Y)}while($&&arguments[0].length);return $||Y},f.poke=function(j,J,de="i8"){de.endsWith("*")&&(de=g);const Qe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X();for(const $ of Array.isArray(j)?j:[j])switch(de){case"i1":case"i8":Qe.HEAP8[$>>0]=J;continue;case"i16":Qe.HEAP16[$>>1]=J;continue;case"i32":Qe.HEAP32[$>>2]=J;continue;case"float":case"f32":Qe.HEAP32F[$>>2]=J;continue;case"double":case"f64":Qe.HEAP64F[$>>3]=J;continue;case"i64":if(Qe.HEAP64){Qe.HEAP64[$>>3]=BigInt(J);continue}default:y("Invalid type for poke(): "+de)}return this},f.peekPtr=(...j)=>f.peek(j.length===1?j[0]:j,g),f.pokePtr=(j,J=0)=>f.poke(j,J,g),f.peek8=(...j)=>f.peek(j.length===1?j[0]:j,"i8"),f.poke8=(j,J)=>f.poke(j,J,"i8"),f.peek16=(...j)=>f.peek(j.length===1?j[0]:j,"i16"),f.poke16=(j,J)=>f.poke(j,J,"i16"),f.peek32=(...j)=>f.peek(j.length===1?j[0]:j,"i32"),f.poke32=(j,J)=>f.poke(j,J,"i32"),f.peek64=(...j)=>f.peek(j.length===1?j[0]:j,"i64"),f.poke64=(j,J)=>f.poke(j,J,"i64"),f.peek32f=(...j)=>f.peek(j.length===1?j[0]:j,"f32"),f.poke32f=(j,J)=>f.poke(j,J,"f32"),f.peek64f=(...j)=>f.peek(j.length===1?j[0]:j,"f64"),f.poke64f=(j,J)=>f.poke(j,J,"f64"),f.getMemValue=f.peek,f.getPtrValue=f.peekPtr,f.setMemValue=f.poke,f.setPtrValue=f.pokePtr,f.isPtr32=j=>typeof j=="number"&&j===(j|0)&&j>=0,f.isPtr=f.isPtr32,f.cstrlen=function(j){if(!j||!f.isPtr(j))return null;const J=X().HEAP8U;let de=j;for(;J[de]!==0;++de);return de-j};const Le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,$e=function(j,J,de){return k.utf8Decoder.decode(j.buffer instanceof Le?j.slice(J,de):j.subarray(J,de))};f.cstrToJs=function(j){const J=f.cstrlen(j);return J?$e(X().HEAP8U,j,j+J):J===null?J:""},f.jstrlen=function(j){if(typeof j!="string")return null;const J=j.length;let de=0;for(let Qe=0;Qe<J;++Qe){let $=j.charCodeAt(Qe);$>=55296&&$<=57343&&($=65536+(($&1023)<<10)|j.charCodeAt(++Qe)&1023),$<=127?++de:$<=2047?de+=2:$<=65535?de+=3:de+=4}return de},f.jstrcpy=function(j,J,de=0,Qe=-1,$=!0){if((!J||!(J instanceof Int8Array)&&!(J instanceof Uint8Array))&&y("jstrcpy() target must be an Int8Array or Uint8Array."),Qe<0&&(Qe=J.length-de),!(Qe>0)||!(de>=0))return 0;let Y=0,O=j.length;const D=de,z=de+Qe-($?1:0);for(;Y<O&&de<z;++Y){let qe=j.charCodeAt(Y);if(qe>=55296&&qe<=57343&&(qe=65536+((qe&1023)<<10)|j.charCodeAt(++Y)&1023),qe<=127){if(de>=z)break;J[de++]=qe}else if(qe<=2047){if(de+1>=z)break;J[de++]=192|qe>>6,J[de++]=128|qe&63}else if(qe<=65535){if(de+2>=z)break;J[de++]=224|qe>>12,J[de++]=128|qe>>6&63,J[de++]=128|qe&63}else{if(de+3>=z)break;J[de++]=240|qe>>18,J[de++]=128|qe>>12&63,J[de++]=128|qe>>6&63,J[de++]=128|qe&63}}return $&&(J[de++]=0),de-D},f.cstrncpy=function(j,J,de){if((!j||!J)&&y("cstrncpy() does not accept NULL strings."),de<0)de=f.cstrlen(strPtr)+1;else if(!(de>0))return 0;const Qe=f.heap8u();let $=0,Y;for(;$<de&&(Y=Qe[J+$]);++$)Qe[j+$]=Y;return $<de&&(Qe[j+$++]=0),$},f.jstrToUintArray=(j,J=!1)=>k.utf8Encoder.encode(J?j+"\0":j);const Je=(j,J)=>{(!(j.alloc instanceof Function)||!(j.dealloc instanceof Function))&&y("Object is missing alloc() and/or dealloc() function(s)","required by",J+"().")},rt=function(j,J,de,Qe){if(Je(f,Qe),typeof j!="string")return null;{const $=k.utf8Encoder.encode(j),Y=de($.length+1),O=X().HEAP8U;return O.set($,Y),O[Y+$.length]=0,J?[Y,$.length]:Y}};f.allocCString=(j,J=!1)=>rt(j,J,f.alloc,"allocCString()"),f.scopedAllocPush=function(){Je(f,"scopedAllocPush");const j=[];return k.scopedAlloc.push(j),j},f.scopedAllocPop=function(j){Je(f,"scopedAllocPop");const J=arguments.length?k.scopedAlloc.indexOf(j):k.scopedAlloc.length-1;J<0&&y("Invalid state object for scopedAllocPop()."),arguments.length===0&&(j=k.scopedAlloc[J]),k.scopedAlloc.splice(J,1);for(let de;de=j.pop();)f.functionEntry(de)?f.uninstallFunction(de):f.dealloc(de)},f.scopedAlloc=function(j){k.scopedAlloc.length||y("No scopedAllocPush() scope is active.");const J=f.alloc(j);return k.scopedAlloc[k.scopedAlloc.length-1].push(J),J},Object.defineProperty(f.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>k.scopedAlloc.length,set:()=>y("The 'active' property is read-only.")}),f.scopedAllocCString=(j,J=!1)=>rt(j,J,f.scopedAlloc,"scopedAllocCString()");const Ie=function(j,J){const de=f[j?"scopedAlloc":"alloc"]((J.length+1)*f.ptrSizeof);let Qe=0;return J.forEach($=>{f.pokePtr(de+f.ptrSizeof*Qe++,f[j?"scopedAllocCString":"allocCString"](""+$))}),f.pokePtr(de+f.ptrSizeof*Qe,0),de};f.scopedAllocMainArgv=j=>Ie(!0,j),f.allocMainArgv=j=>Ie(!1,j),f.cArgvToJs=(j,J)=>{const de=[];for(let Qe=0;Qe<j;++Qe){const $=f.peekPtr(J+f.ptrSizeof*Qe);de.push($?f.cstrToJs($):null)}return de},f.scopedAllocCall=function(j){f.scopedAllocPush();try{return j()}finally{f.scopedAllocPop()}};const we=function(j,J,de){Je(f,de);const Qe=J?"i64":g;let $=f[de](j*(J?8:S));if(f.poke($,0,Qe),j===1)return $;const Y=[$];for(let O=1;O<j;++O)$+=J?8:S,Y[O]=$,f.poke($,0,Qe);return Y};f.allocPtr=(j=1,J=!0)=>we(j,J,"alloc"),f.scopedAllocPtr=(j=1,J=!0)=>we(j,J,"scopedAlloc"),f.xGet=function(j){return f.exports[j]||y("Cannot find exported symbol:",j)};const ze=(j,J)=>y(j+"() requires",J,"argument(s).");f.xCall=function(j,...J){const de=j instanceof Function?j:f.xGet(j);return de instanceof Function||y("Exported symbol",j,"is not a function."),de.length!==J.length&&ze(de===j?de.name:j,de.length),arguments.length===2&&Array.isArray(arguments[1])?de.apply(null,arguments[1]):de.apply(null,J)},k.xWrap=Object.create(null),k.xWrap.convert=Object.create(null),k.xWrap.convert.arg=new Map,k.xWrap.convert.result=new Map;const oe=k.xWrap.convert.arg,fe=k.xWrap.convert.result;f.bigIntEnabled&&oe.set("i64",j=>BigInt(j));const _e=g==="i32"?j=>j|0:j=>BigInt(j)|BigInt(0);oe.set("i32",_e).set("i16",j=>(j|0)&65535).set("i8",j=>(j|0)&255).set("f32",j=>Number(j).valueOf()).set("float",oe.get("f32")).set("f64",oe.get("f32")).set("double",oe.get("f64")).set("int",oe.get("i32")).set("null",j=>j).set(null,oe.get("null")).set("**",_e).set("*",_e),fe.set("*",_e).set("pointer",_e).set("number",j=>Number(j)).set("void",j=>{}).set("null",j=>j).set(null,fe.get("null"));{const j=["i8","i16","i32","int","f32","float","f64","double"];f.bigIntEnabled&&j.push("i64");const J=oe.get(g);for(const de of j)oe.set(de+"*",J),fe.set(de+"*",J),fe.set(de,oe.get(de)||y("Missing arg converter:",de))}const We=function(j){return typeof j=="string"?f.scopedAllocCString(j):j?_e(j):null};oe.set("string",We).set("utf8",We).set("pointer",We),fe.set("string",j=>f.cstrToJs(j)).set("utf8",fe.get("string")).set("string:dealloc",j=>{try{return j?f.cstrToJs(j):null}finally{f.dealloc(j)}}).set("utf8:dealloc",fe.get("string:dealloc")).set("json",j=>JSON.parse(f.cstrToJs(j))).set("json:dealloc",j=>{try{return j?JSON.parse(f.cstrToJs(j)):null}finally{f.dealloc(j)}});const De=class{constructor(j){this.name=j.name||"unnamed adapter"}convertArg(j,J,de){y("AbstractArgAdapter must be subclassed.")}};oe.FuncPtrAdapter=class to extends De{constructor(J){super(J),oe.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",J),this.name=J.name||"unnamed",this.signature=J.signature,J.contextKey instanceof Function&&(this.contextKey=J.contextKey,J.bindScope||(J.bindScope="context")),this.bindScope=J.bindScope||y("FuncPtrAdapter options requires a bindScope (explicit or implied)."),to.bindScopes.indexOf(J.bindScope)<0&&y("Invalid options.bindScope ("+J.bindMod+") for FuncPtrAdapter. Expecting one of: ("+to.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=J.callProxy instanceof Function?J.callProxy:void 0}contextKey(J,de){return this}contextMap(J){const de=this.__cmap||(this.__cmap=new Map);let Qe=de.get(J);return Qe===void 0&&de.set(J,Qe=[]),Qe}convertArg(J,de,Qe){let $=this.singleton;if(!$&&this.isContext&&($=this.contextMap(this.contextKey(de,Qe))),$&&$[0]===J)return $[1];if(J instanceof Function){this.callProxy&&(J=this.callProxy(J));const Y=te(J,this.signature,this.isTransient);if(to.debugFuncInstall&&to.debugOut("FuncPtrAdapter installed",this,this.contextKey(de,Qe),"@"+Y,J),$){if($[1]){to.debugFuncInstall&&to.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(de,Qe),"@"+$[1],J);try{k.scopedAlloc[k.scopedAlloc.length-1].push($[1])}catch{}}$[0]=J,$[1]=Y}return Y}else if(f.isPtr(J)||J===null||J===void 0){if($&&$[1]&&$[1]!==J){to.debugFuncInstall&&to.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(de,Qe),"@"+$[1],J);try{k.scopedAlloc[k.scopedAlloc.length-1].push($[1])}catch{}$[0]=$[1]=J|0}return J||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},oe.FuncPtrAdapter.warnOnUse=!1,oe.FuncPtrAdapter.debugFuncInstall=!1,oe.FuncPtrAdapter.debugOut=console.debug.bind(console),oe.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const be=j=>oe.get(j)||y("Argument adapter not found:",j),Me=j=>fe.get(j)||y("Result adapter not found:",j);k.xWrap.convertArg=(j,...J)=>be(j)(...J),k.xWrap.convertArgNoCheck=(j,...J)=>oe.get(j)(...J),k.xWrap.convertResult=(j,J)=>j===null?J:j?Me(j)(J):void 0,k.xWrap.convertResultNoCheck=(j,J)=>j===null?J:j?fe.get(j)(J):void 0,f.xWrap=function(j,J,...de){arguments.length===3&&Array.isArray(arguments[2])&&(de=arguments[2]),f.isPtr(j)&&(j=f.functionEntry(j)||y("Function pointer not found in WASM function table."));const Qe=j instanceof Function,$=Qe?j:f.xGet(j);if(Qe&&(j=$.name||"unnamed function"),de.length!==$.length&&ze(j,$.length),J===null&&$.length===0)return $;J!=null&&Me(J);for(const O of de)O instanceof De?oe.set(O,(...D)=>O.convertArg(...D)):be(O);const Y=k.xWrap;return $.length===0?(...O)=>O.length?ze(j,$.length):Y.convertResult(J,$.call(null)):function(...O){O.length!==$.length&&ze(j,$.length);const D=f.scopedAllocPush();try{let z=0;for(;z<O.length;++z)O[z]=Y.convertArgNoCheck(de[z],O[z],O,z);return Y.convertResultNoCheck(J,$.apply(null,O))}finally{f.scopedAllocPop(D)}}};const ht=function(j,J,de,Qe,$,Y){if(typeof de=="string"){if(J===1)return Y.get(de);if(J===2){if(Qe)Qe instanceof Function||y($,"requires a function argument.");else return delete Y.get(de),j;return Y.set(de,Qe),j}}y("Invalid arguments to",$)};return f.xWrap.resultAdapter=function j(J,de){return ht(j,arguments.length,J,de,"resultAdapter()",fe)},f.xWrap.argAdapter=function j(J,de){return ht(j,arguments.length,J,de,"argAdapter()",oe)},f.xWrap.FuncPtrAdapter=oe.FuncPtrAdapter,f.xCallWrapped=function(j,J,de,...Qe){return Array.isArray(arguments[3])&&(Qe=arguments[3]),f.xWrap(j,J,de||[]).apply(null,Qe||[])},f.xWrap.testConvertArg=k.xWrap.convertArg,f.xWrap.testConvertResult=k.xWrap.convertResult,f},globalThis.WhWasmUtilInstaller.yawl=function(f){const y=()=>fetch(f.uri,{credentials:"same-origin"}),g=this,S=function(X){if(f.wasmUtilTarget){const te=(...$e)=>{throw new Error($e.join(" "))},Le=f.wasmUtilTarget;if(Le.module=X.module,Le.instance=X.instance,Le.instance.exports.memory||(Le.memory=f.imports&&f.imports.env&&f.imports.env.memory||te("Missing 'memory' object!")),!Le.alloc&&X.instance.exports.malloc){const $e=X.instance.exports;Le.alloc=function(Je){return $e.malloc(Je)||te("Allocation of",Je,"bytes failed.")},Le.dealloc=function(Je){$e.free(Je)}}g(Le)}return f.onload&&f.onload(X,f),X};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(y(),f.imports||{}).then(S)}:function(){return y().then(te=>te.arrayBuffer()).then(te=>WebAssembly.instantiate(te,f.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function f(y){const g=(...Te)=>{throw new Error(Te.join(" "))};!(y.heap instanceof WebAssembly.Memory)&&!(y.heap instanceof Function)&&g("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Te){y[Te]instanceof Function||g("Config option '"+Te+"' must be a function.")});const S=f,k=y.heap instanceof Function?y.heap:()=>new Uint8Array(y.heap.buffer),X=y.alloc,te=y.dealloc,Le=y.log||console.log.bind(console),$e=y.memberPrefix||"",Je=y.memberSuffix||"",rt=y.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!y.bigIntEnabled,Ie=globalThis.BigInt,we=globalThis.BigInt64Array,ze=y.ptrSizeof||4,oe=y.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Te=null){Te&&Te.__flags&&(Te=Te.__flags);const st=function ct(wt){return arguments.length===0?ct.__flags:(wt<0?(delete ct.__flags.getter,delete ct.__flags.setter,delete ct.__flags.alloc,delete ct.__flags.dealloc):(ct.__flags.getter=(1&wt)!==0,ct.__flags.setter=(2&wt)!==0,ct.__flags.alloc=(4&wt)!==0,ct.__flags.dealloc=(8&wt)!==0),ct._flags)};return Object.defineProperty(st,"__flags",{iterable:!1,writable:!1,value:Object.create(Te)}),Te||st(0),st},S.debugFlags=S.__makeDebugFlags());const fe=function(){const Te=new ArrayBuffer(2);return new DataView(Te).setInt16(0,256,!0),new Int16Array(Te)[0]===256}(),_e=Te=>Te[1]==="(",We=Te=>Te==="P",De=Te=>_e(Te)?"p":Te[0],be=function(Te){switch(De(Te)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return oe;case"j":return"i64";case"f":return"float";case"d":return"double"}g("Unhandled signature IR:",Te)},Me=we?()=>!0:()=>g("BigInt64Array is not available."),ht=function(Te){switch(De(Te)){case"p":case"P":case"s":{switch(ze){case 4:return"getInt32";case 8:return Me()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Me()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}g("Unhandled DataView getter for signature:",Te)},j=function(Te){switch(De(Te)){case"p":case"P":case"s":{switch(ze){case 4:return"setInt32";case 8:return Me()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Me()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}g("Unhandled DataView setter for signature:",Te)},J=function(Te){switch(De(Te)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Me()&&Ie;case"p":case"P":case"s":switch(ze){case 4:return Number;case 8:return Me()&&Ie}break}g("Unhandled DataView set wrapper for signature:",Te)},de=(Te,st)=>Te+"::"+st,Qe=function(Te,st){return()=>g(de(Te,st),"is read-only.")},$=new WeakMap,Y="(pointer-is-external)",O=function(Te,st,ct){if(ct||(ct=$.get(st)),ct){if($.delete(st),Array.isArray(st.ondispose)){let wt;for(;wt=st.ondispose.shift();)try{wt instanceof Function?wt.call(st):wt instanceof Pt?wt.dispose():typeof wt=="number"&&te(wt)}catch(tr){console.warn("ondispose() for",Te.structName,"@",ct,"threw. NOT propagating it.",tr)}}else if(st.ondispose instanceof Function)try{st.ondispose()}catch(wt){console.warn("ondispose() for",Te.structName,"@",ct,"threw. NOT propagating it.",wt)}delete st.ondispose,Te.debugFlags.__flags.dealloc&&Le("debug.dealloc:",st[Y]?"EXTERNAL":"",Te.structName,"instance:",Te.structInfo.sizeof,"bytes @"+ct),st[Y]||te(ct)}},D=Te=>({configurable:!1,writable:!1,iterable:!1,value:Te}),z=function(Te,st,ct){let wt=!ct;ct?Object.defineProperty(st,Y,D(ct)):(ct=X(Te.structInfo.sizeof),ct||g("Allocation of",Te.structName,"structure failed."));try{Te.debugFlags.__flags.alloc&&Le("debug.alloc:",wt?"":"EXTERNAL",Te.structName,"instance:",Te.structInfo.sizeof,"bytes @"+ct),wt&&k().fill(0,ct,ct+Te.structInfo.sizeof),$.set(st,ct)}catch(tr){throw O(Te,st,ct),tr}},qe=function(){const Te=this.pointer;return Te?new Uint8Array(k().slice(Te,Te+this.structInfo.sizeof)):null},St=D(Te=>$e+Te+Je),Ft=function(Te,st,ct=!0){let wt=Te.members[st];if(!wt&&($e||Je)){for(const tr of Object.values(Te.members))if(tr.key===st){wt=tr;break}!wt&&ct&&g(de(Te.name,st),"is not a mapped struct member.")}return wt},Wt=function Te(st,ct,wt=!1){Te._||(Te._=Sr=>Sr.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const tr=Ft(st.structInfo,ct,!0);return wt?Te._(tr.signature):tr.signature},Ze={configurable:!1,enumerable:!1,get:function(){return $.get(this)},set:()=>g("Cannot assign the 'pointer' property of a struct.")},ue=D(function(){const Te=[];for(const st of Object.keys(this.structInfo.members))Te.push(this.memberKey(st));return Te}),Ne=new TextDecoder("utf-8"),Ke=new TextEncoder,et=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ot=function(Te,st,ct){return Ne.decode(Te.buffer instanceof et?Te.slice(st,ct):Te.subarray(st,ct))},Bt=function(Te,st,ct=!1){const wt=Ft(Te.structInfo,st,ct);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},Se=function(Te){Te.signature!=="s"&&g("Invalid member type signature for C-string value:",JSON.stringify(Te))},Ve=function(st,ct){const wt=Ft(st.structInfo,ct,!0);Se(wt);const tr=st[wt.key];if(!tr)return null;let Sr=tr;const gr=k();for(;gr[Sr]!==0;++Sr);return tr===Sr?"":Ot(gr,tr,Sr)},Xe=function(Te,...st){Te.ondispose?Array.isArray(Te.ondispose)||(Te.ondispose=[Te.ondispose]):Te.ondispose=[],Te.ondispose.push(...st)},bt=function(Te){const st=Ke.encode(Te),ct=X(st.length+1);ct||g("Allocation error while duplicating string:",Te);const wt=k();return wt.set(st,ct),wt[ct+st.length]=0,ct},ut=function(Te,st,ct){const wt=Ft(Te.structInfo,st,!0);Se(wt);const tr=bt(ct);return Te[wt.key]=tr,Xe(Te,tr),Te},Pt=function(st,ct){arguments[2]!==D&&g("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:D(st),structInfo:D(ct)})};Pt.prototype=Object.create(null,{dispose:D(function(){O(this.constructor,this)}),lookupMember:D(function(Te,st=!0){return Ft(this.structInfo,Te,st)}),memberToJsString:D(function(Te){return Ve(this,Te)}),memberIsString:D(function(Te,st=!0){return Bt(this,Te,st)}),memberKey:St,memberKeys:ue,memberSignature:D(function(Te,st=!1){return Wt(this,Te,st)}),memoryDump:D(qe),pointer:Ze,setMemberCString:D(function(Te,st){return ut(this,Te,st)})}),Object.assign(Pt.prototype,{addOnDispose:function(...Te){return Xe(this,...Te),this}}),Object.defineProperties(Pt,{allocCString:D(bt),isA:D(Te=>Te instanceof Pt),hasExternalPointer:D(Te=>Te instanceof Pt&&!!Te[Y]),memberKey:St});const Yt=Te=>Number.isFinite(Te)||Te instanceof(Ie||Number),Et=function Te(st,ct,wt){if(!Te._){Te._={getters:{},setters:{},sw:{}};const gn=["i","c","C","p","P","s","f","d","v()"];rt&&gn.push("j"),gn.forEach(function(Ri){Te._.getters[Ri]=ht(Ri),Te._.setters[Ri]=j(Ri),Te._.sw[Ri]=J(Ri)});const bm=/^[ipPsjfdcC]$/,wm=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Te.sigCheck=function(Ri,xm,ef,Qu){Object.prototype.hasOwnProperty.call(Ri,ef)&&g(Ri.structName,"already has a property named",ef+"."),bm.test(Qu)||wm.test(Qu)||g("Malformed signature for",de(Ri.structName,xm)+":",Qu)}}const tr=st.memberKey(ct);Te.sigCheck(st.prototype,ct,tr,wt.signature),wt.key=tr,wt.name=ct;const Sr=De(wt.signature),gr=de(st.prototype.structName,tr),br=st.prototype.debugFlags.__flags,Ds=Object.create(null);Ds.configurable=!1,Ds.enumerable=!1,Ds.get=function(){br.getter&&Le("debug.getter:",Te._.getters[Sr],"for",be(Sr),gr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let gn=new DataView(k().buffer,this.pointer+wt.offset,wt.sizeof)[Te._.getters[Sr]](0,fe);return br.getter&&Le("debug.getter:",gr,"result =",gn),gn},wt.readOnly?Ds.set=Qe(st.prototype.structName,tr):Ds.set=function(gn){if(br.setter&&Le("debug.setter:",Te._.setters[Sr],"for",be(Sr),gr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,gn),this.pointer||g("Cannot set struct property on disposed instance."),gn===null)gn=0;else for(;!Yt(gn);){if(We(wt.signature)&&gn instanceof Pt){gn=gn.pointer||0,br.setter&&Le("debug.setter:",gr,"resolved to",gn);break}g("Invalid value for pointer-type",gr+".")}new DataView(k().buffer,this.pointer+wt.offset,wt.sizeof)[Te._.setters[Sr]](0,Te._.sw[Sr](gn),fe)},Object.defineProperty(st.prototype,tr,Ds)},Hr=function Te(st,ct){arguments.length===1?(ct=st,st=ct.name):ct.name||(ct.name=st),st||g("Struct name is required.");let wt=!1;Object.keys(ct.members).forEach(gr=>{const br=ct.members[gr];br.sizeof?br.sizeof===1?br.signature==="c"||br.signature==="C"||g("Unexpected sizeof==1 member",de(ct.name,gr),"with signature",br.signature):(br.sizeof%4!==0&&(console.warn("Invalid struct member description =",br,"from",ct),g(st,"member",gr,"sizeof is not aligned. sizeof="+br.sizeof)),br.offset%4!==0&&(console.warn("Invalid struct member description =",br,"from",ct),g(st,"member",gr,"offset is not aligned. offset="+br.offset))):g(st,"member",gr,"is missing sizeof."),(!wt||wt.offset<br.offset)&&(wt=br)}),wt?ct.sizeof<wt.offset+wt.sizeof&&g("Invalid struct config:",st,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+ct.sizeof+")."):g("No member property descriptions found.");const tr=D(S.__makeDebugFlags(Te.debugFlags)),Sr=function gr(br){this instanceof gr?arguments.length?((br!==(br|0)||br<=0)&&g("Invalid pointer value for",st,"constructor."),z(gr,this,br)):z(gr,this):g("The",st,"constructor may only be called via 'new'.")};return Object.defineProperties(Sr,{debugFlags:tr,isA:D(gr=>gr instanceof Sr),memberKey:St,memberKeys:ue,methodInfoForKey:D(function(gr){}),structInfo:D(ct),structName:D(st)}),Sr.prototype=new Pt(st,ct,D),Object.defineProperties(Sr.prototype,{debugFlags:tr,constructor:D(Sr)}),Object.keys(ct.members).forEach(gr=>Et(Sr,gr,ct.members[gr])),Sr};return Hr.StructType=Pt,Hr.config=y,Hr.allocCString=bt,Hr.debugFlags||(Hr.debugFlags=S.__makeDebugFlags(S.debugFlags)),Hr},globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=(...oe)=>{throw new Error(oe.join(" "))};f.SQLite3Error.toss;const g=f.capi,S=f.wasm,k=f.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(oe,fe)=>oe[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:oe=>oe[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:oe=>{let fe;return(_e,We,De,be)=>{try{const Me=S.cArgvToJs(We,De);return fe||(fe=S.cArgvToJs(We,be)),oe(Me,fe)|0}catch(Me){return Me.resultCode||g.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:oe=>oe[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(oe,fe)=>oe[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(oe,fe)=>oe[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(oe,fe)=>oe[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(oe,fe)=>oe[0],callProxy:oe=>(fe,_e,We,De,be,Me)=>{try{return We=We&&S.cstrToJs(We),De=De&&S.cstrToJs(De),be=be&&S.cstrToJs(be),Me=Me&&S.cstrToJs(Me),oe(fe,_e,We,De,be,Me)||0}catch(ht){return ht.resultCode||g.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:oe=>oe[0],callProxy:oe=>(fe,_e,We,De,be)=>{oe(fe,_e,S.cstrToJs(We),S.cstrToJs(De),be)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:oe=>oe[0],callProxy:oe=>(fe,_e,We,De,be,Me,ht)=>{oe(fe,_e,We,S.cstrToJs(De),S.cstrToJs(be),Me,ht)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const oe={signature:"i(ps)",callProxy:fe=>(_e,We)=>{try{return fe(_e,S.cstrToJs(We))|0}catch(De){return De.resultCode||g.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...oe,contextKey:(fe,_e)=>fe[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],f.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const oe=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",be=>oe(k.flexibleString(be))),S.xWrap.argAdapter("string:static",function(be){return S.isPtr(be)?be:(be=""+be,this[be]||(this[be]=S.allocCString(be)))}.bind(Object.create(null)));const fe=S.xWrap.argAdapter("*"),_e=function(){};S.xWrap.argAdapter("sqlite3_filename",fe)("sqlite3_context*",fe)("sqlite3_value*",fe)("void*",fe)("sqlite3_changegroup*",fe)("sqlite3_changeset_iter*",fe)("sqlite3_session*",fe)("sqlite3_stmt*",be=>fe(be instanceof(f?.oo1?.Stmt||_e)?be.pointer:be))("sqlite3*",be=>fe(be instanceof(f?.oo1?.DB||_e)?be.pointer:be))("sqlite3_vfs*",be=>typeof be=="string"?g.sqlite3_vfs_find(be)||f.SQLite3Error.toss(g.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",be):fe(be instanceof(g.sqlite3_vfs||_e)?be.pointer:be)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",be=>fe(be instanceof(g.sqlite3_index_info||_e)?be.pointer:be))("sqlite3_module*",be=>fe(be instanceof(g.sqlite3_module||_e)?be.pointer:be));const We=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",We)("sqlite3_context*",We)("sqlite3_stmt*",We)("sqlite3_value*",We)("sqlite3_vfs*",We)("void*",We),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,f.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const be of S.bindingSignatures)g[be[0]]=S.xWrap.apply(null,be);for(const be of S.bindingSignatures.wasmInternal)k[be[0]]=S.xWrap.apply(null,be);const De=function(be){return()=>y(be+"() is unavailable due to lack","of BigInt support in this build.")};for(const be of S.bindingSignatures.int64)g[be[0]]=S.bigIntEnabled?S.xWrap.apply(null,be):De(be[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const be=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");k.sqlite3__wasm_db_error=function(Me,ht,j){return ht instanceof f.WasmAllocError?(ht=g.SQLITE_NOMEM,j=0):ht instanceof Error&&(j=j||""+ht,ht=ht.resultCode||g.SQLITE_ERROR),Me?be(Me,ht,j):ht}}else k.sqlite3__wasm_db_error=function(be,Me,ht){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Me}}{const oe=S.xCall("sqlite3__wasm_enum_json");oe||y("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(oe));const fe=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&fe.push("serialize","session","vtab");for(const De of fe)for(const be of Object.entries(S.ctype[De]))g[be[0]]=be[1];S.functionEntry(g.SQLITE_WASM_DEALLOC)||y("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+g.SQLITE_WASM_DEALLOC+").");const _e=Object.create(null);for(const De of["resultCodes"])for(const be of Object.entries(S.ctype[De]))_e[be[1]]=be[0];g.sqlite3_js_rc_str=De=>_e[De];const We=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!k.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const De of S.ctype.structs)We[De.name]||(g[De.name]=f.StructBinder(De));if(g.sqlite3_index_info){for(const De of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])g.sqlite3_index_info[De]=g[De],delete g[De];g.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const X=(oe,fe,_e)=>k.sqlite3__wasm_db_error(oe,g.SQLITE_MISUSE,fe+"() requires "+_e+" argument"+(_e===1?"":"s")+"."),te=oe=>k.sqlite3__wasm_db_error(oe,g.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Le=oe=>S.xWrap.argAdapter("sqlite3*")(oe),$e=oe=>S.isPtr(oe)?S.cstrToJs(oe):oe,Je=function(oe,fe){oe=Le(oe);let _e=this.dbMap.get(oe);if(fe)!_e&&fe>0&&this.dbMap.set(oe,_e=Object.create(null));else return this.dbMap.delete(oe),_e;return _e}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Je.addCollation=function(oe,fe){const _e=Je(oe,1);_e.collation||(_e.collation=new Set),_e.collation.add($e(fe).toLowerCase())},Je._addUDF=function(oe,fe,_e,We){fe=$e(fe).toLowerCase();let De=We.get(fe);De||We.set(fe,De=new Set),De.add(_e<0?-1:_e)},Je.addFunction=function(oe,fe,_e){const We=Je(oe,1);We.udf||(We.udf=new Map),this._addUDF(oe,fe,_e,We.udf)},S.exports.sqlite3_create_window_function&&(Je.addWindowFunc=function(oe,fe,_e){const We=Je(oe,1);We.wudf||(We.wudf=new Map),this._addUDF(oe,fe,_e,We.wudf)}),Je.cleanup=function(oe){oe=Le(oe);const fe=[oe];for(const De of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const be=S.exports[De];if(be){fe.length=be.length;try{g[De](...fe)}catch(Me){f.config.warn("close-time call of",De+"(",fe,") threw:",Me)}}}const _e=Je(oe,0);if(!_e)return;if(_e.collation){for(const De of _e.collation)try{g.sqlite3_create_collation_v2(oe,De,g.SQLITE_UTF8,0,0,0)}catch{}delete _e.collation}let We;for(We=0;We<2;++We){const De=We?_e.wudf:_e.udf;if(!De)continue;const be=We?g.sqlite3_create_window_function:g.sqlite3_create_function_v2;for(const Me of De){const ht=Me[0],j=Me[1],J=[oe,ht,0,g.SQLITE_UTF8,0,0,0,0,0];We&&J.push(0);for(const de of j)try{J[2]=de,be.apply(null,J)}catch{}j.clear()}De.clear()}delete _e.udf,delete _e.wudf};{const oe=S.xWrap("sqlite3_close_v2","int","sqlite3*");g.sqlite3_close_v2=function(fe){if(arguments.length!==1)return X(fe,"sqlite3_close_v2",1);if(fe)try{Je.cleanup(fe)}catch{}return oe(fe)}}if(g.sqlite3session_create){const oe=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);g.sqlite3session_delete=function(fe){if(arguments.length!==1)return X(pDb,"sqlite3session_delete",1);fe&&g.sqlite3session_table_filter(fe,0,0),oe(fe)}}{const oe=(_e,We)=>"argv["+We+"]:"+_e[0]+":"+S.cstrToJs(_e[1]).toLowerCase(),fe=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:oe}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:oe})]);g.sqlite3_create_collation_v2=function(_e,We,De,be,Me,ht){if(arguments.length!==6)return X(_e,"sqlite3_create_collation_v2",6);if(!(De&15))De|=g.SQLITE_UTF8;else if(g.SQLITE_UTF8!==(De&15))return te(_e);try{const j=fe(_e,We,De,be,Me,ht);return j===0&&Me instanceof Function&&Je.addCollation(_e,We),j}catch(j){return k.sqlite3__wasm_db_error(_e,j)}},g.sqlite3_create_collation=(_e,We,De,be,Me)=>arguments.length===5?g.sqlite3_create_collation_v2(_e,We,De,be,Me,0):X(_e,"sqlite3_create_collation",5)}{const oe=function(De,be){return De[0]+":"+(De[2]<0?-1:De[2])+":"+be+":"+S.cstrToJs(De[1]).toLowerCase()},fe=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:oe,callProxy:De=>(be,Me,ht)=>{try{De(be,...g.sqlite3_values_to_js(Me,ht))}catch(j){g.sqlite3_result_error_js(be,j)}}},xFinalAndValue:{signature:"v(p)",contextKey:oe,callProxy:De=>be=>{try{g.sqlite3_result_js(be,De(be))}catch(Me){g.sqlite3_result_error_js(be,Me)}}},xFunc:{signature:"v(pip)",contextKey:oe,callProxy:De=>(be,Me,ht)=>{try{g.sqlite3_result_js(be,De(be,...g.sqlite3_values_to_js(Me,ht)))}catch(j){g.sqlite3_result_error_js(be,j)}}},xDestroy:{signature:"v(p)",contextKey:oe,callProxy:De=>be=>{try{De(be)}catch(Me){console.error("UDF xDestroy method threw:",Me)}}}}),_e=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...fe.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...fe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...fe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...fe.xDestroy})]),We=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...fe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...fe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...fe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...fe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...fe.xDestroy})]):void 0;g.sqlite3_create_function_v2=function De(be,Me,ht,j,J,de,Qe,$,Y){if(De.length!==arguments.length)return X(be,"sqlite3_create_function_v2",De.length);if(!(j&15))j|=g.SQLITE_UTF8;else if(g.SQLITE_UTF8!==(j&15))return te(be);try{const O=_e(be,Me,ht,j,J,de,Qe,$,Y);return O===0&&(de instanceof Function||Qe instanceof Function||$ instanceof Function||Y instanceof Function)&&Je.addFunction(be,Me,ht),O}catch(O){return console.error("sqlite3_create_function_v2() setup threw:",O),k.sqlite3__wasm_db_error(be,O,"Creation of UDF threw: "+O)}},g.sqlite3_create_function=function De(be,Me,ht,j,J,de,Qe,$){return De.length===arguments.length?g.sqlite3_create_function_v2(be,Me,ht,j,J,de,Qe,$,0):X(be,"sqlite3_create_function",De.length)},We?g.sqlite3_create_window_function=function De(be,Me,ht,j,J,de,Qe,$,Y,O){if(De.length!==arguments.length)return X(be,"sqlite3_create_window_function",De.length);if(!(j&15))j|=g.SQLITE_UTF8;else if(g.SQLITE_UTF8!==(j&15))return te(be);try{const D=We(be,Me,ht,j,J,de,Qe,$,Y,O);return D===0&&(de instanceof Function||Qe instanceof Function||$ instanceof Function||Y instanceof Function||O instanceof Function)&&Je.addWindowFunc(be,Me,ht),D}catch(D){return console.error("sqlite3_create_window_function() setup threw:",D),k.sqlite3__wasm_db_error(be,D,"Creation of UDF threw: "+D)}}:delete g.sqlite3_create_window_function,g.sqlite3_create_function_v2.udfSetResult=g.sqlite3_create_function.udfSetResult=g.sqlite3_result_js,g.sqlite3_create_window_function&&(g.sqlite3_create_window_function.udfSetResult=g.sqlite3_result_js),g.sqlite3_create_function_v2.udfConvertArgs=g.sqlite3_create_function.udfConvertArgs=g.sqlite3_values_to_js,g.sqlite3_create_window_function&&(g.sqlite3_create_window_function.udfConvertArgs=g.sqlite3_values_to_js),g.sqlite3_create_function_v2.udfSetError=g.sqlite3_create_function.udfSetError=g.sqlite3_result_error_js,g.sqlite3_create_window_function&&(g.sqlite3_create_window_function.udfSetError=g.sqlite3_result_error_js)}{const oe=(_e,We)=>(typeof _e=="string"?We=-1:k.isSQLableTypedArray(_e)?(We=_e.byteLength,_e=k.typedArrayToString(_e instanceof ArrayBuffer?new Uint8Array(_e):_e)):Array.isArray(_e)&&(_e=_e.join(""),We=-1),[_e,We]),fe={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};g.sqlite3_prepare_v3=function _e(We,De,be,Me,ht,j){if(_e.length!==arguments.length)return X(We,"sqlite3_prepare_v3",_e.length);const[J,de]=oe(De,be);switch(typeof J){case"string":return fe.basic(We,J,de,Me,ht,null);case"number":return fe.full(We,J,de,Me,ht,j);default:return k.sqlite3__wasm_db_error(We,g.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},g.sqlite3_prepare_v2=function _e(We,De,be,Me,ht){return _e.length===arguments.length?g.sqlite3_prepare_v3(We,De,be,0,Me,ht):X(We,"sqlite3_prepare_v2",_e.length)}}{const oe=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),fe=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);g.sqlite3_bind_text=function _e(We,De,be,Me,ht){if(_e.length!==arguments.length)return X(g.sqlite3_db_handle(We),"sqlite3_bind_text",_e.length);if(S.isPtr(be)||be===null)return oe(We,De,be,Me,ht);be instanceof ArrayBuffer?be=new Uint8Array(be):Array.isArray(pMem)&&(be=pMem.join(""));let j,J;try{if(k.isSQLableTypedArray(be))j=S.allocFromTypedArray(be),J=be.byteLength;else if(typeof be=="string")[j,J]=S.allocCString(be);else return k.sqlite3__wasm_db_error(g.sqlite3_db_handle(We),g.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return oe(We,De,j,J,g.SQLITE_WASM_DEALLOC)}catch(de){return S.dealloc(j),k.sqlite3__wasm_db_error(g.sqlite3_db_handle(We),de)}},g.sqlite3_bind_blob=function _e(We,De,be,Me,ht){if(_e.length!==arguments.length)return X(g.sqlite3_db_handle(We),"sqlite3_bind_blob",_e.length);if(S.isPtr(be)||be===null)return fe(We,De,be,Me,ht);be instanceof ArrayBuffer?be=new Uint8Array(be):Array.isArray(be)&&(be=be.join(""));let j,J;try{if(k.isBindableTypedArray(be))j=S.allocFromTypedArray(be),J=Me>=0?Me:be.byteLength;else if(typeof be=="string")[j,J]=S.allocCString(be);else return k.sqlite3__wasm_db_error(g.sqlite3_db_handle(We),g.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return fe(We,De,j,J,g.SQLITE_WASM_DEALLOC)}catch(de){return S.dealloc(j),k.sqlite3__wasm_db_error(g.sqlite3_db_handle(We),de)}}}g.sqlite3_config=function(oe,...fe){if(arguments.length<2)return g.SQLITE_MISUSE;switch(oe){case g.SQLITE_CONFIG_COVERING_INDEX_SCAN:case g.SQLITE_CONFIG_MEMSTATUS:case g.SQLITE_CONFIG_SMALL_MALLOC:case g.SQLITE_CONFIG_SORTERREF_SIZE:case g.SQLITE_CONFIG_STMTJRNL_SPILL:case g.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(oe,fe[0]);case g.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(oe,fe[0],fe[1]);case g.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(oe,fe[0]);case g.SQLITE_CONFIG_GETMALLOC:case g.SQLITE_CONFIG_GETMUTEX:case g.SQLITE_CONFIG_GETPCACHE2:case g.SQLITE_CONFIG_GETPCACHE:case g.SQLITE_CONFIG_HEAP:case g.SQLITE_CONFIG_LOG:case g.SQLITE_CONFIG_MALLOC:case g.SQLITE_CONFIG_MMAP_SIZE:case g.SQLITE_CONFIG_MULTITHREAD:case g.SQLITE_CONFIG_MUTEX:case g.SQLITE_CONFIG_PAGECACHE:case g.SQLITE_CONFIG_PCACHE2:case g.SQLITE_CONFIG_PCACHE:case g.SQLITE_CONFIG_PCACHE_HDRSZ:case g.SQLITE_CONFIG_PMASZ:case g.SQLITE_CONFIG_SERIALIZED:case g.SQLITE_CONFIG_SINGLETHREAD:case g.SQLITE_CONFIG_SQLLOG:case g.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return g.SQLITE_NOTFOUND}};{const oe=new Set;g.sqlite3_auto_extension=function(fe){if(fe instanceof Function)fe=S.installFunction("i(ppp)",fe);else if(arguments.length!==1||!S.isPtr(fe))return g.SQLITE_MISUSE;const _e=S.exports.sqlite3_auto_extension(fe);return fe!==arguments[0]&&(_e===0?oe.add(fe):S.uninstallFunction(fe)),_e},g.sqlite3_cancel_auto_extension=function(fe){return!fe||arguments.length!==1||!S.isPtr(fe)?0:S.exports.sqlite3_cancel_auto_extension(fe)},g.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const fe of oe)S.uninstallFunction(fe);oe.clear()}}const rt=g.sqlite3_vfs_find("kvvfs");if(rt)if(k.isUIThread()){const oe=new g.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete g.sqlite3_kvvfs_methods;const fe=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,_e=S.pstack,We=be=>S.peek(be)===115?sessionStorage:localStorage,De={xRead:(be,Me,ht,j)=>{const J=_e.pointer,de=S.scopedAllocPush();try{const Qe=fe(be,Me);if(!Qe)return-3;const $=S.cstrToJs(Qe),Y=We(be).getItem($);if(!Y)return-1;const O=Y.length;if(j<=0)return O;if(j===1)return S.poke(ht,0),O;const D=S.scopedAllocCString(Y);return j>O+1&&(j=O+1),S.heap8u().copyWithin(ht,D,D+j-1),S.poke(ht+j-1,0),j-1}catch(Qe){return console.error("kvstorageRead()",Qe),-2}finally{_e.restore(J),S.scopedAllocPop(de)}},xWrite:(be,Me,ht)=>{const j=_e.pointer;try{const J=fe(be,Me);if(!J)return 1;const de=S.cstrToJs(J);return We(be).setItem(de,S.cstrToJs(ht)),0}catch(J){return console.error("kvstorageWrite()",J),g.SQLITE_IOERR}finally{_e.restore(j)}},xDelete:(be,Me)=>{const ht=_e.pointer;try{const j=fe(be,Me);return j?(We(be).removeItem(S.cstrToJs(j)),0):1}catch(j){return console.error("kvstorageDelete()",j),g.SQLITE_IOERR}finally{_e.restore(ht)}}};for(const be of Object.keys(De))oe[oe.memberKey(be)]=S.installFunction(oe.memberSignature(be),De[be])}else g.sqlite3_vfs_unregister(rt);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ie=f.StructBinder,we=function oe(fe,_e,We,De=oe.installMethodArgcCheck){if(fe instanceof Ie.StructType?!(We instanceof Function)&&!S.isPtr(We)&&y("Usage errror: expecting a Function or WASM pointer to one."):y("Usage error: target object is-not-a StructType."),arguments.length===1)return(j,J)=>oe(fe,j,J,De);oe.argcProxy||(oe.argcProxy=function(j,J,de,Qe){return function(...$){return de.length!==arguments.length&&y("Argument mismatch for",j.structInfo.name+"::"+J+": Native signature is:",Qe),de.apply(this,$)}},oe.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((j,J)=>{if(typeof j=="number")try{S.uninstallFunction(j)}catch{}}),delete this.ondispose.__removeFuncList)});const be=fe.memberSignature(_e);be.length<2&&y("Member",_e,"does not have a function pointer signature:",be);const Me=fe.memberKey(_e),ht=De&&!S.isPtr(We)?oe.argcProxy(fe,Me,We,be):We;if(S.isPtr(ht))ht&&!S.functionEntry(ht)&&y("Pointer",ht,"is not a WASM function table entry."),fe[Me]=ht;else{const j=S.installFunction(ht,fe.memberSignature(_e,!0));fe[Me]=j,(!fe.ondispose||!fe.ondispose.__removeFuncList)&&(fe.addOnDispose("ondispose.__removeFuncList handler",oe.removeFuncList),fe.ondispose.__removeFuncList=[]),fe.ondispose.__removeFuncList.push(Me,j)}return(j,J)=>oe(fe,j,J,De)};we.installMethodArgcCheck=!1;const ze=function(oe,fe,_e=we.installMethodArgcCheck){const We=new Map;for(const De of Object.keys(fe)){const be=fe[De],Me=We.get(be);if(Me){const ht=oe.memberKey(De);oe[ht]=oe[oe.memberKey(Me)]}else we(oe,De,be,_e),We.set(be,De)}return oe};Ie.StructType.prototype.installMethod=function(fe,_e,We=we.installMethodArgcCheck){return arguments.length<3&&fe&&typeof fe=="object"?ze(this,...arguments):we(this,...arguments)},Ie.StructType.prototype.installMethods=function(oe,fe=we.installMethodArgcCheck){return ze(this,oe,fe)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){f.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=(...$)=>{throw new f.SQLite3Error(...$)},g=f.capi,S=f.wasm,k=f.util,X=new WeakMap,te=new WeakMap,Le=($,Y,O)=>{const D=Object.getOwnPropertyDescriptor($,Y);return D?D.value:O},$e=function($,Y){return Y&&($ instanceof we&&($=$.pointer),y(Y,"sqlite3 result code",Y+":",$?g.sqlite3_errmsg($):g.sqlite3_errstr(Y))),arguments[0]},Je=S.installFunction("i(ippp)",function($,Y,O,D){g.SQLITE_TRACE_STMT===$&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+Y+":",S.cstrToJs(D))}.bind({counter:0})),rt=Object.create(null),Ie=function $(...Y){if(!$._name2vfs){$._name2vfs=Object.create(null);const ue=typeof importScripts=="function"?Ne=>y("The VFS for",Ne,"is only available in the main window thread."):!1;$._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:ue||(()=>"local")},$._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:ue||(()=>"session")}}const O=$.normalizeArgs(...Y);let D=O.filename,z=O.vfs,qe=O.flags;(typeof D!="string"&&typeof D!="number"||typeof qe!="string"||z&&typeof z!="string"&&typeof z!="number")&&(f.config.error("Invalid DB ctor args",O,arguments),y("Invalid arguments for DB constructor."));let He=typeof D=="number"?S.cstrToJs(D):D;const St=$._name2vfs[He];St&&(z=St.vfs,D=He=St.filename(He));let Ft,Wt=0;qe.indexOf("c")>=0&&(Wt|=g.SQLITE_OPEN_CREATE|g.SQLITE_OPEN_READWRITE),qe.indexOf("w")>=0&&(Wt|=g.SQLITE_OPEN_READWRITE),Wt===0&&(Wt|=g.SQLITE_OPEN_READONLY),Wt|=g.SQLITE_OPEN_EXRESCODE;const Ze=S.pstack.pointer;try{const ue=S.pstack.allocPtr();let Ne=g.sqlite3_open_v2(D,ue,Wt,z||0);Ft=S.peekPtr(ue),$e(Ft,Ne),g.sqlite3_extended_result_codes(Ft,1),qe.indexOf("t")>=0&&g.sqlite3_trace_v2(Ft,g.SQLITE_TRACE_STMT,Je,Ft)}catch(ue){throw Ft&&g.sqlite3_close_v2(Ft),ue}finally{S.pstack.restore(Ze)}this.filename=He,X.set(this,Ft),te.set(this,Object.create(null));try{const ue=g.sqlite3_js_db_vfs(Ft)||y("Internal error: cannot get VFS for new db handle."),Ne=rt[ue];Ne&&(Ne instanceof Function?Ne(this,f):$e(Ft,g.sqlite3_exec(Ft,Ne,0,0,0)))}catch(ue){throw this.close(),ue}};Ie.setVfsPostOpenCallback=function($,Y){Y instanceof Function||y("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),rt[$]=Y},Ie.normalizeArgs=function($=":memory:",Y="c",O=null){const D={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(D,arguments[0]),D.flags===void 0&&(D.flags="c"),D.vfs===void 0&&(D.vfs=null),D.filename===void 0&&(D.filename=":memory:")):(D.filename=$,D.flags=Y,D.vfs=O),D};const we=function(...$){Ie.apply(this,$)};we.dbCtorHelper=Ie;const ze={null:1,number:2,string:3,boolean:4,blob:5};ze.undefined==ze.null,S.bigIntEnabled&&(ze.bigint=ze.number);const oe=function(){ze!==arguments[2]&&y(g.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],X.set(this,arguments[1]),this.parameterCount=g.sqlite3_bind_parameter_count(this.pointer)},fe=function($){return $.pointer||y("DB has been closed."),$},_e=function($,Y){return(Y!==(Y|0)||Y<0||Y>=$.columnCount)&&y("Column index",Y,"is out of range."),$},We=function($,Y){const O=Object.create(null);switch(O.opt=Object.create(null),Y.length){case 1:typeof Y[0]=="string"||k.isSQLableTypedArray(Y[0])||Array.isArray(Y[0])?O.sql=Y[0]:Y[0]&&typeof Y[0]=="object"&&(O.opt=Y[0],O.sql=O.opt.sql);break;case 2:O.sql=Y[0],O.opt=Y[1];break;default:y("Invalid argument count for exec().")}O.sql=k.flexibleString(O.sql),typeof O.sql!="string"&&y("Missing SQL argument or unsupported SQL value type.");const D=O.opt;switch(D.returnValue){case"resultRows":D.resultRows||(D.resultRows=[]),O.returnVal=()=>D.resultRows;break;case"saveSql":D.saveSql||(D.saveSql=[]),O.returnVal=()=>D.saveSql;break;case void 0:case"this":O.returnVal=()=>$;break;default:y("Invalid returnValue value:",D.returnValue)}if(!D.callback&&!D.returnValue&&D.rowMode!==void 0&&(D.resultRows||(D.resultRows=[]),O.returnVal=()=>D.resultRows),D.callback||D.resultRows)switch(D.rowMode===void 0?"array":D.rowMode){case"object":O.cbArg=(z,qe)=>{qe.columnNames||(qe.columnNames=z.getColumnNames([]));const He=z.get([]),St=Object.create(null);for(const Ft in qe.columnNames)St[qe.columnNames[Ft]]=He[Ft];return St};break;case"array":O.cbArg=z=>z.get([]);break;case"stmt":Array.isArray(D.resultRows)&&y("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),O.cbArg=z=>z;break;default:if(k.isInt32(D.rowMode)){O.cbArg=z=>z.get(D.rowMode);break}else if(typeof D.rowMode=="string"&&D.rowMode.length>1&&D.rowMode[0]==="$"){const z=D.rowMode.substr(1);O.cbArg=qe=>{const He=qe.get(Object.create(null))[z];return He===void 0?y(g.SQLITE_NOTFOUND,"exec(): unknown result column:",z):He};break}y("Invalid rowMode:",D.rowMode)}return O},De=($,Y,O,...D)=>{const z=$.prepare(Y);try{const qe=z.bind(O).step()?z.get(...D):void 0;return z.reset(),qe}finally{z.finalize()}},be=($,Y,O,D)=>$.exec({sql:Y,bind:O,rowMode:D,returnValue:"resultRows"});we.checkRc=($,Y)=>$e($,Y),we.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return fe(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const $=this.pointer;if(Object.keys(te.get(this)).forEach((Y,O)=>{if(O&&O.pointer)try{O.finalize()}catch{}}),X.delete(this),te.delete(this),g.sqlite3_close_v2($),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function($=!1,Y=!1){const O=fe(this).pointer;return $?Y?g.sqlite3_total_changes64(O):g.sqlite3_total_changes(O):Y?g.sqlite3_changes64(O):g.sqlite3_changes(O)},dbFilename:function($="main"){return g.sqlite3_db_filename(fe(this).pointer,$)},dbName:function($=0){return g.sqlite3_db_name(fe(this).pointer,$)},dbVfsName:function($=0){let Y;const O=g.sqlite3_js_db_vfs(fe(this).pointer,$);if(O){const D=new g.sqlite3_vfs(O);try{Y=S.cstrToJs(D.$zName)}finally{D.dispose()}}return Y},prepare:function($){fe(this);const Y=S.pstack.pointer;let O,D;try{O=S.pstack.alloc(8),we.checkRc(this,g.sqlite3_prepare_v2(this.pointer,$,-1,O,null)),D=S.peekPtr(O)}finally{S.pstack.restore(Y)}D||y("Cannot prepare empty SQL.");const z=new oe(this,D,ze);return te.get(this)[D]=z,z},exec:function(){fe(this);const $=We(this,arguments);if(!$.sql)return y("exec() requires an SQL string.");const Y=$.opt,O=Y.callback,D=Array.isArray(Y.resultRows)?Y.resultRows:void 0;let z,qe=Y.bind,He=!!($.cbArg||Y.columnNames||D);const St=S.scopedAllocPush(),Ft=Array.isArray(Y.saveSql)?Y.saveSql:void 0;try{const Wt=k.isSQLableTypedArray($.sql);let Ze=Wt?$.sql.byteLength:S.jstrlen($.sql);const ue=S.scopedAlloc(2*S.ptrSizeof+(Ze+1)),Ne=ue+S.ptrSizeof;let Ke=Ne+S.ptrSizeof;const et=Ke+Ze;for(Wt?S.heap8().set($.sql,Ke):S.jstrcpy($.sql,S.heap8(),Ke,Ze,!1),S.poke(Ke+Ze,0);Ke&&S.peek(Ke,"i8");){S.pokePtr([ue,Ne],0),we.checkRc(this,g.sqlite3_prepare_v3(this.pointer,Ke,Ze,0,ue,Ne));const Ot=S.peekPtr(ue);if(Ke=S.peekPtr(Ne),Ze=et-Ke,!!Ot){if(Ft&&Ft.push(g.sqlite3_sql(Ot).trim()),z=new oe(this,Ot,ze),qe&&z.parameterCount&&(z.bind(qe),qe=null),He&&z.columnCount){let Bt=Array.isArray(Y.columnNames)?0:1;if(He=!1,$.cbArg||D){const Se=Object.create(null);for(;z.step();z._lockedByExec=!1){Bt++===0&&z.getColumnNames(Se.columnNames=Y.columnNames||[]),z._lockedByExec=!0;const Ve=$.cbArg(z,Se);if(D&&D.push(Ve),O&&O.call(Y,Ve,z)===!1)break}z._lockedByExec=!1}Bt===0&&z.getColumnNames(Y.columnNames)}else z.step();z.reset().finalize(),z=null}}}finally{S.scopedAllocPop(St),z&&(delete z._lockedByExec,z.finalize())}return $.returnVal()},createFunction:function(Y,O,D){const z=Se=>Se instanceof Function;switch(arguments.length){case 1:D=Y,Y=D.name,O=D.xFunc||0;break;case 2:z(O)||(D=O,O=D.xFunc||0);break}D||(D={}),typeof Y!="string"&&y("Invalid arguments: missing function name.");let qe=D.xStep||0,He=D.xFinal||0;const St=D.xValue||0,Ft=D.xInverse||0;let Wt;z(O)?(Wt=!1,(z(qe)||z(He))&&y("Ambiguous arguments: scalar or aggregate?"),qe=He=null):z(qe)?(z(He)||y("Missing xFinal() callback for aggregate or window UDF."),O=null):z(He)?y("Missing xStep() callback for aggregate or window UDF."):y("Missing function-type properties."),Wt===!1?(z(St)||z(Ft))&&y("xValue and xInverse are not permitted for non-window UDFs."):z(St)?(z(Ft)||y("xInverse must be provided if xValue is."),Wt=!0):z(Ft)&&y("xValue must be provided if xInverse is.");const Ze=D.pApp;Ze!=null&&(typeof Ze!="number"||!k.isInt32(Ze))&&y("Invalid value for pApp property. Must be a legal WASM pointer value.");const ue=D.xDestroy||0;ue&&!z(ue)&&y("xDestroy property must be a function.");let Ne=0;Le(D,"deterministic")&&(Ne|=g.SQLITE_DETERMINISTIC),Le(D,"directOnly")&&(Ne|=g.SQLITE_DIRECTONLY),Le(D,"innocuous")&&(Ne|=g.SQLITE_INNOCUOUS),Y=Y.toLowerCase();const Ke=O||qe,et=Le(D,"arity"),Ot=typeof et=="number"?et:Ke.length?Ke.length-1:0;let Bt;return Wt?Bt=g.sqlite3_create_window_function(this.pointer,Y,Ot,g.SQLITE_UTF8|Ne,Ze||0,qe,He,St,Ft,ue):Bt=g.sqlite3_create_function_v2(this.pointer,Y,Ot,g.SQLITE_UTF8|Ne,Ze||0,O,qe,He,ue),we.checkRc(this,Bt),this},selectValue:function($,Y,O){return De(this,$,Y,0,O)},selectValues:function($,Y,O){const D=this.prepare($),z=[];try{for(D.bind(Y);D.step();)z.push(D.get(0,O));D.reset()}finally{D.finalize()}return z},selectArray:function($,Y){return De(this,$,Y,[])},selectObject:function($,Y){return De(this,$,Y,{})},selectArrays:function($,Y){return be(this,$,Y,"array")},selectObjects:function($,Y){return be(this,$,Y,"object")},openStatementCount:function(){return this.pointer?Object.keys(te.get(this)).length:0},transaction:function($){let Y="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&y(g.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),Y+=" "+arguments[0],$=arguments[1]),fe(this).exec(Y);try{const O=$(this);return this.exec("COMMIT"),O}catch(O){throw this.exec("ROLLBACK"),O}},savepoint:function($){fe(this).exec("SAVEPOINT oo1");try{const Y=$(this);return this.exec("RELEASE oo1"),Y}catch(Y){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),Y}},checkRc:function($){return $e(this,$)}};const Me=function($){return $.pointer||y("Stmt has been closed."),$},ht=function($){let Y=ze[$==null?"null":typeof $];switch(Y){case ze.boolean:case ze.null:case ze.number:case ze.string:return Y;case ze.bigint:if(S.bigIntEnabled)return Y;default:return k.isBindableTypedArray($)?ze.blob:void 0}},j=function($){return ht($)||y("Unsupported bind() argument type:",typeof $)},J=function($,Y){const O=typeof Y=="number"?Y:g.sqlite3_bind_parameter_index($.pointer,Y);return O===0||!k.isInt32(O)?y("Invalid bind() parameter name: "+Y):(O<1||O>$.parameterCount)&&y("Bind index",Y,"is out of range."),O},de=function($,Y){return $._lockedByExec&&y("Operation is illegal when statement is locked:",Y),$},Qe=function $(Y,O,D,z){de(Me(Y),"bind()"),$._||($._tooBigInt=He=>y("BigInt value is too big to store without precision loss:",He),$._={string:function(He,St,Ft,Wt){const[Ze,ue]=S.allocCString(Ft,!0);return(Wt?g.sqlite3_bind_blob:g.sqlite3_bind_text)(He.pointer,St,Ze,ue,g.SQLITE_WASM_DEALLOC)}}),j(z),O=J(Y,O);let qe=0;switch(z==null?ze.null:D){case ze.null:qe=g.sqlite3_bind_null(Y.pointer,O);break;case ze.string:qe=$._.string(Y,O,z,!1);break;case ze.number:{let He;k.isInt32(z)?He=g.sqlite3_bind_int:typeof z=="bigint"?k.bigIntFits64(z)?S.bigIntEnabled?He=g.sqlite3_bind_int64:k.bigIntFitsDouble(z)?(z=Number(z),He=g.sqlite3_bind_double):$._tooBigInt(z):$._tooBigInt(z):(z=Number(z),S.bigIntEnabled&&Number.isInteger(z)?He=g.sqlite3_bind_int64:He=g.sqlite3_bind_double),qe=He(Y.pointer,O,z);break}case ze.boolean:qe=g.sqlite3_bind_int(Y.pointer,O,z?1:0);break;case ze.blob:{if(typeof z=="string"){qe=$._.string(Y,O,z,!0);break}else z instanceof ArrayBuffer?z=new Uint8Array(z):k.isBindableTypedArray(z)||y("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const He=S.alloc(z.byteLength||1);S.heap8().set(z.byteLength?z:[0],He),qe=g.sqlite3_bind_blob(Y.pointer,O,He,z.byteLength,g.SQLITE_WASM_DEALLOC);break}default:f.config.warn("Unsupported bind() argument type:",z),y("Unsupported bind() argument type: "+typeof z)}return qe&&we.checkRc(Y.db.pointer,qe),Y._mayGet=!1,Y};oe.prototype={finalize:function(){if(this.pointer){de(this,"finalize()");const $=g.sqlite3_finalize(this.pointer);return delete te.get(this.db)[this.pointer],X.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,$}},clearBindings:function(){return de(Me(this),"clearBindings()"),g.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function($){de(this,"reset()"),$&&this.clearBindings();const Y=g.sqlite3_reset(Me(this).pointer);return this._mayGet=!1,$e(this.db,Y),this},bind:function(){Me(this);let $,Y;switch(arguments.length){case 1:$=1,Y=arguments[0];break;case 2:$=arguments[0],Y=arguments[1];break;default:y("Invalid bind() arguments.")}return Y===void 0?this:(this.parameterCount||y("This statement has no bindable parameters."),this._mayGet=!1,Y===null?Qe(this,$,ze.null,Y):Array.isArray(Y)?(arguments.length!==1&&y("When binding an array, an index argument is not permitted."),Y.forEach((O,D)=>Qe(this,D+1,j(O),O)),this):(Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y)),typeof Y=="object"&&!k.isBindableTypedArray(Y)?(arguments.length!==1&&y("When binding an object, an index argument is not permitted."),Object.keys(Y).forEach(O=>Qe(this,O,j(Y[O]),Y[O])),this):Qe(this,$,j(Y),Y)))},bindAsBlob:function($,Y){Me(this),arguments.length===1&&(Y=$,$=1);const O=j(Y);return ze.string!==O&&ze.blob!==O&&ze.null!==O&&y("Invalid value type for bindAsBlob()"),Qe(this,$,ze.blob,Y)},step:function(){de(this,"step()");const $=g.sqlite3_step(Me(this).pointer);switch($){case g.SQLITE_DONE:return this._mayGet=!1;case g.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,f.config.warn("sqlite3_step() rc=",$,g.sqlite3_js_rc_str($),"SQL =",g.sqlite3_sql(this.pointer)),we.checkRc(this.db.pointer,$)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const $=this.step();return this.reset(),$}finally{try{this.finalize()}catch{}}},get:function($,Y){if(Me(this)._mayGet||y("Stmt.step() has not (recently) returned true."),Array.isArray($)){let O=0;const D=this.columnCount;for(;O<D;)$[O]=this.get(O++);return $}else if($&&typeof $=="object"){let O=0;const D=this.columnCount;for(;O<D;)$[g.sqlite3_column_name(this.pointer,O)]=this.get(O++);return $}switch(_e(this,$),Y===void 0?g.sqlite3_column_type(this.pointer,$):Y){case g.SQLITE_NULL:return null;case g.SQLITE_INTEGER:if(S.bigIntEnabled){const O=g.sqlite3_column_int64(this.pointer,$);return O>=Number.MIN_SAFE_INTEGER&&O<=Number.MAX_SAFE_INTEGER?Number(O).valueOf():O}else{const O=g.sqlite3_column_double(this.pointer,$);return(O>Number.MAX_SAFE_INTEGER||O<Number.MIN_SAFE_INTEGER)&&y("Integer is out of range for JS integer range: "+O),k.isInt32(O)?O|0:O}case g.SQLITE_FLOAT:return g.sqlite3_column_double(this.pointer,$);case g.SQLITE_TEXT:return g.sqlite3_column_text(this.pointer,$);case g.SQLITE_BLOB:{const O=g.sqlite3_column_bytes(this.pointer,$),D=g.sqlite3_column_blob(this.pointer,$),z=new Uint8Array(O);return O&&z.set(S.heap8u().slice(D,D+O),0),O&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(z.buffer),z}default:y("Don't know how to translate","type of result column #"+$+".")}y("Not reached.")},getInt:function($){return this.get($,g.SQLITE_INTEGER)},getFloat:function($){return this.get($,g.SQLITE_FLOAT)},getString:function($){return this.get($,g.SQLITE_TEXT)},getBlob:function($){return this.get($,g.SQLITE_BLOB)},getJSON:function($){const Y=this.get($,g.SQLITE_STRING);return Y===null?Y:JSON.parse(Y)},getColumnName:function($){return g.sqlite3_column_name(_e(Me(this),$).pointer,$)},getColumnNames:function($=[]){_e(Me(this),0);const Y=this.columnCount;for(let O=0;O<Y;++O)$.push(g.sqlite3_column_name(this.pointer,O));return $},getParamIndex:function($){return Me(this).parameterCount?g.sqlite3_bind_parameter_index(this.pointer,$):void 0},getParamName:function($){return Me(this).parameterCount?g.sqlite3_bind_parameter_name(this.pointer,$):void 0},isBusy:function(){return g.sqlite3_stmt_busy(Me(this))!==0},isReadOnly:function(){return g.sqlite3_stmt_readonly(Me(this))!==0}};{const $={enumerable:!0,get:function(){return X.get(this)},set:()=>y("The pointer property is read-only.")};Object.defineProperty(oe.prototype,"pointer",$),Object.defineProperty(we.prototype,"pointer",$)}if(Object.defineProperty(oe.prototype,"columnCount",{enumerable:!1,get:function(){return g.sqlite3_column_count(this.pointer)},set:()=>y("The columnCount property is read-only.")}),f.oo1={DB:we,Stmt:oe},k.isUIThread()){f.oo1.JsStorageDb=function(Y="session"){const O=Ie.normalizeArgs(...arguments);Y=O.filename,Y!=="session"&&Y!=="local"&&y("JsStorageDb db name must be one of 'session' or 'local'."),O.vfs="kvvfs",Ie.call(this,O)};const $=f.oo1.JsStorageDb;$.prototype=Object.create(we.prototype),$.clearStorage=g.sqlite3_js_kvvfs_clear,$.prototype.clearStorage=function(){return $.clearStorage(fe(this).filename)},$.storageSize=g.sqlite3_js_kvvfs_size,$.prototype.storageSize=function(){return $.storageSize(fe(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=f.util;f.initWorker1API=function(){const g=(...Ie)=>{throw new Error(Ie.join(" "))};globalThis.WorkerGlobalScope instanceof Function||g("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||g("Missing this.sqlite3 object."),k=S.oo1.DB,X=function(Ie){let we=te.idMap.get(Ie);return we||(we="db#"+ ++te.idSeq+"@"+Ie.pointer,te.idMap.set(Ie,we),we)},te={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ie){const we=new k(Ie);return this.dbs[X(we)]=we,this.dbList.indexOf(we)<0&&this.dbList.push(we),we},close:function(Ie,we){if(Ie){delete this.dbs[X(Ie)];const ze=Ie.filename,oe=y.sqlite3__wasm_db_vfs(Ie.pointer,0);Ie.close();const fe=this.dbList.indexOf(Ie);fe>=0&&this.dbList.splice(fe,1),we&&ze&&oe&&y.sqlite3__wasm_vfs_unlink(oe,ze)}},post:function(Ie,we){we&&we.length?(globalThis.postMessage(Ie,Array.from(we)),we.length=0):globalThis.postMessage(Ie)},dbs:Object.create(null),getDb:function(Ie,we=!0){return this.dbs[Ie]||(we?g("Unknown (or closed) DB ID:",Ie):void 0)}},Le=function(Ie=te.dbList[0]){return Ie&&Ie.pointer?Ie:g("DB is not opened.")},$e=function(Ie,we=!0){const ze=te.getDb(Ie.dbId,!1)||te.dbList[0];return we?Le(ze):ze},Je=function(){return te.dbList[0]&&X(te.dbList[0])},rt={open:function(Ie){const we=Object.create(null),ze=Ie.args||Object.create(null);ze.simulateError&&g("Throwing because of simulateError flag.");const oe=Object.create(null);we.vfs=ze.vfs,we.filename=ze.filename||"";const fe=te.open(we);return oe.filename=fe.filename,oe.persistent=!!S.capi.sqlite3_js_db_uses_vfs(fe.pointer,"opfs"),oe.dbId=X(fe),oe.vfs=fe.dbVfsName(),oe},close:function(Ie){const we=$e(Ie,!1),ze={filename:we&&we.filename};if(we){const oe=Ie.args&&typeof Ie.args=="object"?!!Ie.args.unlink:!1;te.close(we,oe)}return ze},exec:function(Ie){const we=typeof Ie.args=="string"?{sql:Ie.args}:Ie.args||Object.create(null);we.rowMode==="stmt"?g("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):we.sql||g("'exec' requires input SQL.");const ze=$e(Ie);(we.callback||Array.isArray(we.resultRows))&&(ze._blobXfer=te.xfer);const oe=we.callback;let fe=0;const _e=!!we.columnNames;typeof oe=="string"&&(_e||(we.columnNames=[]),we.callback=function(We,De){te.post({type:oe,columnNames:we.columnNames,rowNumber:++fe,row:We},te.xfer)});try{const We=we.countChanges?ze.changes(!0,we.countChanges===64):void 0;ze.exec(we),We!==void 0&&(we.changeCount=ze.changes(!0,we.countChanges===64)-We),we.callback instanceof Function&&(we.callback=oe,te.post({type:oe,columnNames:we.columnNames,rowNumber:null,row:void 0}))}finally{delete ze._blobXfer,we.callback&&(we.callback=oe)}return we},"config-get":function(){const Ie=Object.create(null),we=S.config;return["bigIntEnabled"].forEach(function(ze){Object.getOwnPropertyDescriptor(we,ze)&&(Ie[ze]=we[ze])}),Ie.version=S.version,Ie.vfsList=S.capi.sqlite3_js_vfs_list(),Ie},export:function(Ie){const we=$e(Ie),ze={byteArray:S.capi.sqlite3_js_db_export(we.pointer),filename:we.filename,mimetype:"application/x-sqlite3"};return te.xfer.push(ze.byteArray.buffer),ze},toss:function(Ie){g("Testing worker exception")}};globalThis.onmessage=async function(Ie){Ie=Ie.data;let we,ze=Ie.dbId,oe=Ie.type;const fe=performance.now();try{rt.hasOwnProperty(oe)&&rt[oe]instanceof Function?we=await rt[oe](Ie):g("Unknown db worker message type:",Ie.type)}catch(_e){oe="error",we={operation:Ie.type,message:_e.message,errorClass:_e.name,input:Ie},_e.stack&&(we.stack=typeof _e.stack=="string"?_e.stack.split(/\n\s*/):_e.stack)}ze||(ze=we.dbId||Je()),te.post({type:oe,dbId:ze,messageId:Ie.messageId,workerReceivedTime:fe,workerRespondTime:performance.now(),departureTime:Ie.departureTime,result:we},te.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:f})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=f.wasm,g=f.capi,S=f.util.toss3,k=Object.create(null);f.vfs=k,g.sqlite3_vfs.prototype.registerVfs=function(X=!1){this instanceof f.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const te=g.sqlite3_vfs_register(this,X?1:0);return te&&S("sqlite3_vfs_register(",this,") failed with rc",te),this.pointer!==g.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},k.installVfs=function(X){let te=0;const Le=["io","vfs"];for(const $e of Le){const Je=X[$e];Je&&(++te,Je.struct.installMethods(Je.methods,!!Je.applyArgcCheck),$e==="vfs"&&(!Je.struct.$zName&&typeof Je.name=="string"&&Je.struct.addOnDispose(Je.struct.$zName=y.allocCString(Je.name)),Je.struct.registerVfs(!!Je.asDefault)))}return te||S("Misuse: installVfs() options object requires at least","one of:",Le),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){if(!f.wasm.exports.sqlite3_declare_vtab)return;const y=f.wasm,g=f.capi,S=f.util.toss3,k=Object.create(null);f.vtab=k;const X=g.sqlite3_index_info;X.prototype.nthConstraint=function($e,Je=!1){if($e<0||$e>=this.$nConstraint)return!1;const rt=this.$aConstraint+X.sqlite3_index_constraint.structInfo.sizeof*$e;return Je?rt:new X.sqlite3_index_constraint(rt)},X.prototype.nthConstraintUsage=function($e,Je=!1){if($e<0||$e>=this.$nConstraint)return!1;const rt=this.$aConstraintUsage+X.sqlite3_index_constraint_usage.structInfo.sizeof*$e;return Je?rt:new X.sqlite3_index_constraint_usage(rt)},X.prototype.nthOrderBy=function($e,Je=!1){if($e<0||$e>=this.$nOrderBy)return!1;const rt=this.$aOrderBy+X.sqlite3_index_orderby.structInfo.sizeof*$e;return Je?rt:new X.sqlite3_index_orderby(rt)};const te=function($e,Je){return function(rt,Ie=!1){if(arguments.length===0&&(rt=new Je),rt instanceof Je)return this.set(rt.pointer,rt),rt;y.isPtr(rt)||f.SQLite3Error.toss("Invalid argument to",$e+"()");let we=this.get(rt);return Ie&&this.delete(rt),we}.bind(new Map)},Le=function($e,Je){const rt=te($e,Je);return Object.assign(Object.create(null),{StructType:Je,create:Ie=>{const we=rt();return y.pokePtr(Ie,we.pointer),we},get:Ie=>rt(Ie),unget:Ie=>rt(Ie,!0),dispose:Ie=>{const we=rt(Ie,!0);we&&we.dispose()}})};k.xVtab=Le("xVtab",g.sqlite3_vtab),k.xCursor=Le("xCursor",g.sqlite3_vtab_cursor),k.xIndexInfo=$e=>new g.sqlite3_index_info($e),k.xError=function $e(Je,rt,Ie){if($e.errorReporter instanceof Function)try{$e.errorReporter("sqlite3_module::"+Je+"(): "+rt.message)}catch{}let we;return rt instanceof f.WasmAllocError?we=g.SQLITE_NOMEM:arguments.length>2?we=Ie:rt instanceof f.SQLite3Error&&(we=rt.resultCode),we||g.SQLITE_ERROR},k.xError.errorReporter=console.error.bind(console),k.xRowid=($e,Je)=>y.poke($e,Je,"i64"),k.setupModule=function($e){let Je=!1;const rt=this instanceof g.sqlite3_module?this:$e.struct||(Je=new g.sqlite3_module);try{const Ie=$e.methods||S("Missing 'methods' object.");for(const we of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const ze=we[0],oe=we[1];Ie[ze]===!0?Ie[ze]=Ie[oe]:Ie[oe]===!0&&(Ie[oe]=Ie[ze])}if($e.catchExceptions){const we=function(fe,_e){return["xConnect","xCreate"].indexOf(fe)>=0?function(We,De,be,Me,ht,j){try{return _e(...arguments)||0}catch(J){return J instanceof f.WasmAllocError||(y.dealloc(y.peekPtr(j)),y.pokePtr(j,y.allocCString(J.message))),k.xError(fe,J)}}:function(...We){try{return _e(...We)||0}catch(De){return k.xError(fe,De)}}},ze=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],oe=Object.create(null);for(const fe of ze){const _e=Ie[fe];if(_e instanceof Function)fe==="xConnect"&&Ie.xCreate===_e?oe[fe]=Ie.xCreate:fe==="xCreate"&&Ie.xConnect===_e?oe[fe]=Ie.xConnect:oe[fe]=we(fe,_e);else continue}rt.installMethods(oe,!1)}else rt.installMethods(Ie,!!$e.applyArgcCheck);if(rt.$iVersion===0){let we;typeof $e.iVersion=="number"?we=$e.iVersion:rt.$xShadowName?we=3:rt.$xSavePoint||rt.$xRelease||rt.$xRollbackTo?we=2:we=1,rt.$iVersion=we}}catch(Ie){throw Je&&Je.dispose(),Ie}return rt},g.sqlite3_module.prototype.setupModule=function($e){return k.setupModule.call(this,$e)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=function g(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const k=new URL(globalThis.location.href).searchParams;return k.has("opfs-disable")?Promise.resolve(f):(S.verbose===void 0&&(S.verbose=k.has("opfs-verbose")?+k.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=k.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=g.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(te,Le){const $e=[f.config.error,f.config.warn,f.config.log],Je=(Se,...Ve)=>{S.verbose>Se&&$e[Se]("OPFS syncer:",...Ve)},rt=(...Se)=>Je(2,...Se),Ie=(...Se)=>Je(1,...Se),we=(...Se)=>Je(0,...Se),ze=f.util.toss,oe=f.capi,fe=f.util,_e=f.wasm,We=oe.sqlite3_vfs,De=oe.sqlite3_file,be=oe.sqlite3_io_methods,Me=Object.create(null),ht=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Me.metrics={dump:function(){let Se,Ve=0,Xe=0,bt=0;for(Se in z.opIds){const ut=qe[Se];Ve+=ut.count,Xe+=ut.time,bt+=ut.wait,ut.avgTime=ut.count&&ut.time?ut.time/ut.count:0,ut.avgWait=ut.count&&ut.wait?ut.wait/ut.count:0}f.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",qe,`
Total of`,Ve,"op(s) for",Xe,"ms (incl. "+bt+" ms of waiting on the async side)"),f.config.log("Serialization metrics:",qe.s11n),Y.postMessage({type:"opfs-async-metrics"})},reset:function(){let Se;const Ve=bt=>bt.count=bt.time=bt.wait=0;for(Se in z.opIds)Ve(qe[Se]=Object.create(null));let Xe=qe.s11n=Object.create(null);Xe=Xe.serialize=Object.create(null),Xe.count=Xe.time=0,Xe=qe.s11n.deserialize=Object.create(null),Xe.count=Xe.time=0}};const j=new be,J=new We().addOnDispose(()=>j.dispose());let de;const Qe=Se=>(de=!0,J.dispose(),Le(Se)),$=()=>(de=!1,te(f)),Y=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{de===void 0&&Qe(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),Y._originalOnError=Y.onerror,Y.onerror=function(Se){we("Error initializing OPFS asyncer:",Se),Qe(new Error("Loading OPFS async Worker failed for unknown reasons."))};const O=oe.sqlite3_vfs_find(null),D=O?new We(O):null;j.$iVersion=1,J.$iVersion=2,J.$szOsFile=oe.sqlite3_file.structInfo.sizeof,J.$mxPathname=1024,J.$zName=_e.allocCString("opfs"),J.$xDlOpen=J.$xDlError=J.$xDlSym=J.$xDlClose=null,J.addOnDispose("$zName",J.$zName,"cleanup default VFS wrapper",()=>D?D.dispose():null);const z=Object.create(null);z.verbose=S.verbose,z.littleEndian=(()=>{const Se=new ArrayBuffer(2);return new DataView(Se).setInt16(0,256,!0),new Int16Array(Se)[0]===256})(),z.asyncIdleWaitTime=150,z.asyncS11nExceptions=1,z.fileBufferSize=1024*64,z.sabS11nOffset=z.fileBufferSize,z.sabS11nSize=J.$mxPathname*2,z.sabIO=new SharedArrayBuffer(z.fileBufferSize+z.sabS11nSize),z.opIds=Object.create(null);const qe=Object.create(null);{let Se=0;z.opIds.whichOp=Se++,z.opIds.rc=Se++,z.opIds.xAccess=Se++,z.opIds.xClose=Se++,z.opIds.xDelete=Se++,z.opIds.xDeleteNoWait=Se++,z.opIds.xFileSize=Se++,z.opIds.xLock=Se++,z.opIds.xOpen=Se++,z.opIds.xRead=Se++,z.opIds.xSleep=Se++,z.opIds.xSync=Se++,z.opIds.xTruncate=Se++,z.opIds.xUnlock=Se++,z.opIds.xWrite=Se++,z.opIds.mkdir=Se++,z.opIds["opfs-async-metrics"]=Se++,z.opIds["opfs-async-shutdown"]=Se++,z.opIds.retry=Se++,z.sabOP=new SharedArrayBuffer(Se*4),Me.metrics.reset()}z.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Se=>{(z.sq3Codes[Se]=oe[Se])===void 0&&ze("Maintenance required: not found:",Se)}),z.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const He=(Se,...Ve)=>{const Xe=z.opIds[Se]||ze("Invalid op ID:",Se);z.s11n.serialize(...Ve),Atomics.store(z.sabOPView,z.opIds.rc,-1),Atomics.store(z.sabOPView,z.opIds.whichOp,Xe),Atomics.notify(z.sabOPView,z.opIds.whichOp);const bt=performance.now();for(;Atomics.wait(z.sabOPView,z.opIds.rc,-1)!=="not-equal";);const ut=Atomics.load(z.sabOPView,z.opIds.rc);if(qe[Se].wait+=performance.now()-bt,ut&&z.asyncS11nExceptions){const Pt=z.s11n.deserialize();Pt&&we(Se+"() async error:",...Pt)}return ut};Me.debug={asyncShutdown:()=>{Ie("Shutting down OPFS async listener. The OPFS VFS will no longer work."),He("opfs-async-shutdown")},asyncRestart:()=>{Ie("Attempting to restart OPFS VFS async listener. Might work, might not."),Y.postMessage({type:"opfs-async-restart"})}};const St=()=>{if(z.s11n)return z.s11n;const Se=new TextDecoder,Ve=new TextEncoder("utf-8"),Xe=new Uint8Array(z.sabIO,z.sabS11nOffset,z.sabS11nSize),bt=new DataView(z.sabIO,z.sabS11nOffset,z.sabS11nSize);z.s11n=Object.create(null);const ut=Object.create(null);ut.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},ut.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},ut.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},ut.string={id:4};const Pt=Et=>ut[typeof Et]||ze("Maintenance required: this value type cannot be serialized.",Et),Yt=Et=>{switch(Et){case ut.number.id:return ut.number;case ut.bigint.id:return ut.bigint;case ut.boolean.id:return ut.boolean;case ut.string.id:return ut.string;default:ze("Invalid type ID:",Et)}};return z.s11n.deserialize=function(Et=!1){++qe.s11n.deserialize.count;const Hr=performance.now(),Te=Xe[0],st=Te?[]:null;if(Te){const ct=[];let wt=1,tr,Sr,gr;for(tr=0;tr<Te;++tr,++wt)ct.push(Yt(Xe[wt]));for(tr=0;tr<Te;++tr){const br=ct[tr];br.getter?(gr=bt[br.getter](wt,z.littleEndian),wt+=br.size):(Sr=bt.getInt32(wt,z.littleEndian),wt+=4,gr=Se.decode(Xe.slice(wt,wt+Sr)),wt+=Sr),st.push(gr)}}return Et&&(Xe[0]=0),qe.s11n.deserialize.time+=performance.now()-Hr,st},z.s11n.serialize=function(...Et){const Hr=performance.now();if(++qe.s11n.serialize.count,Et.length){const Te=[];let st=0,ct=1;for(Xe[0]=Et.length&255;st<Et.length;++st,++ct)Te.push(Pt(Et[st])),Xe[ct]=Te[st].id;for(st=0;st<Et.length;++st){const wt=Te[st];if(wt.setter)bt[wt.setter](ct,Et[st],z.littleEndian),ct+=wt.size;else{const tr=Ve.encode(Et[st]);bt.setInt32(ct,tr.byteLength,z.littleEndian),ct+=4,Xe.set(tr,ct),ct+=tr.byteLength}}}else Xe[0]=0;qe.s11n.serialize.time+=performance.now()-Hr},z.s11n},Ft=function Se(Ve=16){Se._chars||(Se._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Se._n=Se._chars.length);const Xe=[];let bt=0;for(;bt<Ve;++bt){const ut=Math.random()*(Se._n*64)%Se._n|0;Xe[bt]=Se._chars[ut]}return Xe.join("")},Wt=Object.create(null),Ze=Object.create(null);Ze.op=void 0,Ze.start=void 0;const ue=Se=>{Ze.start=performance.now(),Ze.op=Se,++qe[Se].count},Ne=()=>qe[Ze.op].time+=performance.now()-Ze.start,Ke={xCheckReservedLock:function(Se,Ve){return _e.poke(Ve,0,"i32"),0},xClose:function(Se){ue("xClose");let Ve=0;const Xe=Wt[Se];return Xe&&(delete Wt[Se],Ve=He("xClose",Se),Xe.sq3File&&Xe.sq3File.dispose()),Ne(),Ve},xDeviceCharacteristics:function(Se){return oe.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Se,Ve,Xe){return oe.SQLITE_NOTFOUND},xFileSize:function(Se,Ve){ue("xFileSize");let Xe=He("xFileSize",Se);if(Xe==0)try{const bt=z.s11n.deserialize()[0];_e.poke(Ve,bt,"i64")}catch(bt){we("Unexpected error reading xFileSize() result:",bt),Xe=z.sq3Codes.SQLITE_IOERR}return Ne(),Xe},xLock:function(Se,Ve){ue("xLock");const Xe=Wt[Se];let bt=0;return Xe.lockType?Xe.lockType=Ve:(bt=He("xLock",Se,Ve),bt===0&&(Xe.lockType=Ve)),Ne(),bt},xRead:function(Se,Ve,Xe,bt){ue("xRead");const ut=Wt[Se];let Pt;try{Pt=He("xRead",Se,Xe,Number(bt)),(Pt===0||oe.SQLITE_IOERR_SHORT_READ===Pt)&&_e.heap8u().set(ut.sabView.subarray(0,Xe),Ve)}catch(Yt){we("xRead(",arguments,") failed:",Yt,ut),Pt=oe.SQLITE_IOERR_READ}return Ne(),Pt},xSync:function(Se,Ve){ue("xSync"),++qe.xSync.count;const Xe=He("xSync",Se,Ve);return Ne(),Xe},xTruncate:function(Se,Ve){ue("xTruncate");const Xe=He("xTruncate",Se,Number(Ve));return Ne(),Xe},xUnlock:function(Se,Ve){ue("xUnlock");const Xe=Wt[Se];let bt=0;return oe.SQLITE_LOCK_NONE===Ve&&Xe.lockType&&(bt=He("xUnlock",Se,Ve)),bt===0&&(Xe.lockType=Ve),Ne(),bt},xWrite:function(Se,Ve,Xe,bt){ue("xWrite");const ut=Wt[Se];let Pt;try{ut.sabView.set(_e.heap8u().subarray(Ve,Ve+Xe)),Pt=He("xWrite",Se,Xe,Number(bt))}catch(Yt){we("xWrite(",arguments,") failed:",Yt,ut),Pt=oe.SQLITE_IOERR_WRITE}return Ne(),Pt}},et={xAccess:function(Se,Ve,Xe,bt){ue("xAccess");const ut=He("xAccess",_e.cstrToJs(Ve));return _e.poke(bt,ut?0:1,"i32"),Ne(),0},xCurrentTime:function(Se,Ve){return _e.poke(Ve,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Se,Ve){return _e.poke(Ve,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Se,Ve,Xe){ue("xDelete");const bt=He("xDelete",_e.cstrToJs(Ve),Xe,!1);return Ne(),bt},xFullPathname:function(Se,Ve,Xe,bt){return _e.cstrncpy(bt,Ve,Xe)<Xe?0:oe.SQLITE_CANTOPEN},xGetLastError:function(Se,Ve,Xe){return Ie("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ve,Xe,bt,ut,Pt){ue("xOpen");let Yt=0;Xe===0?Xe=Ft():_e.isPtr(Xe)&&(oe.sqlite3_uri_boolean(Xe,"opfs-unlock-asap",0)&&(Yt|=z.opfsFlags.OPFS_UNLOCK_ASAP),oe.sqlite3_uri_boolean(Xe,"delete-before-open",0)&&(Yt|=z.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Xe=_e.cstrToJs(Xe));const Et=Object.create(null);Et.fid=bt,Et.filename=Xe,Et.sab=new SharedArrayBuffer(z.fileBufferSize),Et.flags=ut,Et.readOnly=!(f.SQLITE_OPEN_CREATE&ut)&&!!(ut&oe.SQLITE_OPEN_READONLY);const Hr=He("xOpen",bt,Xe,ut,Yt);return Hr||(Et.readOnly&&_e.poke(Pt,oe.SQLITE_OPEN_READONLY,"i32"),Wt[bt]=Et,Et.sabView=z.sabFileBufView,Et.sq3File=new De(bt),Et.sq3File.$pMethods=j.pointer,Et.lockType=oe.SQLITE_LOCK_NONE),Ne(),Hr}};D&&(J.$xRandomness=D.$xRandomness,J.$xSleep=D.$xSleep),J.$xRandomness||(et.xRandomness=function(Se,Ve,Xe){const bt=_e.heap8u();let ut=0;for(;ut<Ve;++ut)bt[Xe+ut]=Math.random()*255e3&255;return ut}),J.$xSleep||(et.xSleep=function(Se,Ve){return Atomics.wait(z.sabOPView,z.opIds.xSleep,0,Ve),0}),Me.getResolvedPath=function(Se,Ve){const Xe=new URL(Se,"file://irrelevant").pathname;return Ve?Xe.split("/").filter(bt=>!!bt):Xe},Me.getDirForFilename=async function(Ve,Xe=!1){const bt=Me.getResolvedPath(Ve,!0),ut=bt.pop();let Pt=Me.rootDirectory;for(const Yt of bt)Yt&&(Pt=await Pt.getDirectoryHandle(Yt,{create:!!Xe}));return[Pt,ut]},Me.mkdir=async function(Se){try{return await Me.getDirForFilename(Se+"/filepart",!0),!0}catch{return!1}},Me.entryExists=async function(Se){try{const[Ve,Xe]=await Me.getDirForFilename(Se);return await Ve.getFileHandle(Xe),!0}catch{return!1}},Me.randomFilename=Ft,Me.treeList=async function(){const Se=async function Xe(bt,ut){ut.name=bt.name,ut.dirs=[],ut.files=[];for await(const Pt of bt.values())if(Pt.kind==="directory"){const Yt=Object.create(null);ut.dirs.push(Yt),await Xe(Pt,Yt)}else ut.files.push(Pt.name)},Ve=Object.create(null);return await Se(Me.rootDirectory,Ve),Ve},Me.rmfr=async function(){const Se=Me.rootDirectory,Ve={recurse:!0};for await(const Xe of Se.values())Se.removeEntry(Xe.name,Ve)},Me.unlink=async function(Se,Ve=!1,Xe=!1){try{const[bt,ut]=await Me.getDirForFilename(Se,!1);return await bt.removeEntry(ut,{recursive:Ve}),!0}catch(bt){if(Xe)throw new Error("unlink(",arguments[0],") failed: "+bt.message,{cause:bt});return!1}},Me.traverse=async function(Se){const Ve={recursive:!0,directory:Me.rootDirectory};typeof Se=="function"&&(Se={callback:Se}),Se=Object.assign(Ve,Se||{}),async function bt(ut,Pt){for await(const Yt of ut.values()){if(Se.callback(Yt,ut,Pt)===!1)return!1;if(Se.recursive&&Yt.kind==="directory"&&await bt(Yt,Pt+1)===!1)break}}(Se.directory,0)};const Ot=async function(Se,Ve){const[Xe,bt]=await Me.getDirForFilename(Se,!0);let Pt=await (await Xe.getFileHandle(bt,{create:!0})).createSyncAccessHandle(),Yt=0,Et,Hr=!1;try{for(Pt.truncate(0);(Et=await Ve())!==void 0;)Et instanceof ArrayBuffer&&(Et=new Uint8Array(Et)),Yt===0&&Et.byteLength>=15&&(fe.affirmDbHeader(Et),Hr=!0),Pt.write(Et,{at:Yt}),Yt+=Et.byteLength;if((Yt<512||Yt%512!==0)&&ze("Input size",Yt,"is not correct for an SQLite database."),!Hr){const Te=new Uint8Array(20);Pt.read(Te,{at:0}),fe.affirmDbHeader(Te)}return Pt.write(new Uint8Array([1,1]),{at:18}),Yt}catch(Te){throw await Pt.close(),Pt=void 0,await Xe.removeEntry(bt).catch(()=>{}),Te}finally{Pt&&await Pt.close()}};if(Me.importDb=async function(Se,Ve){if(Ve instanceof Function)return Ot(Se,Ve);Ve instanceof ArrayBuffer&&(Ve=new Uint8Array(Ve)),fe.affirmIsDb(Ve);const Xe=Ve.byteLength,[bt,ut]=await Me.getDirForFilename(Se,!0);let Pt,Yt=0;try{return Pt=await (await bt.getFileHandle(ut,{create:!0})).createSyncAccessHandle(),Pt.truncate(0),Yt=Pt.write(Ve,{at:0}),Yt!=Xe&&ze("Expected to write "+Xe+" bytes but wrote "+Yt+"."),Pt.write(new Uint8Array([1,1]),{at:18}),Yt}catch(Et){throw Pt&&(await Pt.close(),Pt=void 0),await bt.removeEntry(ut).catch(()=>{}),Et}finally{Pt&&await Pt.close()}},f.oo1){const Se=function(...Ve){const Xe=f.oo1.DB.dbCtorHelper.normalizeArgs(...Ve);Xe.vfs=J.$zName,f.oo1.DB.dbCtorHelper.call(this,Xe)};Se.prototype=Object.create(f.oo1.DB.prototype),f.oo1.OpfsDb=Se,Se.importDb=Me.importDb,f.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(J.pointer,function(Ve,Xe){Xe.capi.sqlite3_busy_timeout(Ve,1e4)})}const Bt=function(){const Se=_e.scopedAllocPush(),Ve=new De;try{const Xe=Ve.pointer,bt=oe.SQLITE_OPEN_CREATE|oe.SQLITE_OPEN_READWRITE|oe.SQLITE_OPEN_MAIN_DB,ut=_e.scopedAlloc(8),Pt="/sanity/check/file"+Ft(8),Yt=_e.scopedAllocCString(Pt);let Et;if(z.s11n.serialize("This is \xe4 string."),Et=z.s11n.deserialize(),rt("deserialize() says:",Et),Et[0]!=="This is \xe4 string."&&ze("String d13n error."),et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),rt("xAccess(",Pt,") exists ?=",Et),Et=et.xOpen(J.pointer,Yt,Xe,bt,ut),rt("open rc =",Et,"state.sabOPView[xOpen] =",z.sabOPView[z.opIds.xOpen]),Et!==0){we("open failed with code",Et);return}et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),Et||ze("xAccess() failed to detect file."),Et=Ke.xSync(Ve.pointer,0),Et&&ze("sync failed w/ rc",Et),Et=Ke.xTruncate(Ve.pointer,1024),Et&&ze("truncate failed w/ rc",Et),_e.poke(ut,0,"i64"),Et=Ke.xFileSize(Ve.pointer,ut),Et&&ze("xFileSize failed w/ rc",Et),rt("xFileSize says:",_e.peek(ut,"i64")),Et=Ke.xWrite(Ve.pointer,Yt,10,1),Et&&ze("xWrite() failed!");const Hr=_e.scopedAlloc(16);Et=Ke.xRead(Ve.pointer,Hr,6,2),_e.poke(Hr+6,0);let Te=_e.cstrToJs(Hr);rt("xRead() got:",Te),Te!=="sanity"&&ze("Unexpected xRead() value."),et.xSleep&&(rt("xSleep()ing before close()ing..."),et.xSleep(J.pointer,2e3),rt("waking up from xSleep()")),Et=Ke.xClose(Xe),rt("xClose rc =",Et,"sabOPView =",z.sabOPView),rt("Deleting file:",Pt),et.xDelete(J.pointer,Yt,4660),et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),Et&&ze("Expecting 0 from xAccess(",Pt,") after xDelete()."),Ie("End of OPFS sanity checks.")}finally{Ve.dispose(),_e.scopedAllocPop(Se)}};Y.onmessage=function({data:Se}){switch(Se.type){case"opfs-unavailable":Qe(new Error(Se.payload.join(" ")));break;case"opfs-async-loaded":Y.postMessage({type:"opfs-async-init",args:z});break;case"opfs-async-inited":{if(de===!0)break;try{f.vfs.installVfs({io:{struct:j,methods:Ke},vfs:{struct:J,methods:et}}),z.sabOPView=new Int32Array(z.sabOP),z.sabFileBufView=new Uint8Array(z.sabIO,0,z.fileBufferSize),z.sabS11nView=new Uint8Array(z.sabIO,z.sabS11nOffset,z.sabS11nSize),St(),S.sanityChecks&&(Ie("Running sanity checks because of opfs-sanity-check URL arg..."),Bt()),ht()?navigator.storage.getDirectory().then(Ve=>{Y.onerror=Y._originalOnError,delete Y._originalOnError,f.opfs=Me,Me.rootDirectory=Ve,rt("End of OPFS sqlite3_vfs setup.",J),$()}).catch(Qe):$()}catch(Ve){we(Ve),Qe(Ve)}break}default:{const Ve="Unexpected message from the OPFS async worker: "+JSON.stringify(Se);we(Ve),Qe(new Error(Ve));break}}}}))};y.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async g=>{try{let S=y.defaultProxyUri;return g.scriptInfo.sqlite3Dir&&(y.defaultProxyUri=g.scriptInfo.sqlite3Dir+S),y().catch(k=>{g.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",k.message)})}catch(S){return g.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=f.util.toss,g=f.util.toss3,S=Object.create(null),k=f.capi,X=f.util,te=f.wasm,Le=4096,$e=512,Je=4,rt=8,Ie=$e+Je,we=$e,ze=Ie,oe=Le,fe=k.SQLITE_OPEN_MAIN_DB|k.SQLITE_OPEN_MAIN_JOURNAL|k.SQLITE_OPEN_SUPER_JOURNAL|k.SQLITE_OPEN_WAL,_e=".opaque",We=()=>Math.random().toString(36).slice(2),De=new TextDecoder,be=new TextEncoder,Me=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),ht=[f.config.error,f.config.warn,f.config.log];f.config.log;const j=f.config.warn;f.config.error;const J=new Map,de=Ze=>J.get(Ze),Qe=(Ze,ue)=>{ue?J.set(Ze,ue):J.delete(Ze)},$=new Map,Y=Ze=>$.get(Ze),O=(Ze,ue)=>{ue?$.set(Ze,ue):$.delete(Ze)},D={xCheckReservedLock:function(Ze,ue){const Ne=Y(Ze);return Ne.log("xCheckReservedLock"),Ne.storeErr(),te.poke32(ue,1),0},xClose:function(Ze){const ue=Y(Ze);ue.storeErr();const Ne=ue.getOFileForS3File(Ze);if(Ne)try{ue.log(`xClose ${Ne.path}`),ue.mapS3FileToOFile(Ze,!1),Ne.sah.flush(),Ne.flags&k.SQLITE_OPEN_DELETEONCLOSE&&ue.deletePath(Ne.path)}catch(Ke){return ue.storeErr(Ke,k.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ze){return k.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ze,ue,Ne){return k.SQLITE_NOTFOUND},xFileSize:function(Ze,ue){const Ne=Y(Ze);Ne.log("xFileSize");const et=Ne.getOFileForS3File(Ze).sah.getSize()-oe;return te.poke64(ue,BigInt(et)),0},xLock:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xLock ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);return Ke.lockType=ue,0},xRead:function(Ze,ue,Ne,Ke){const et=Y(Ze);et.storeErr();const Ot=et.getOFileForS3File(Ze);et.log(`xRead ${Ot.path} ${Ne} @ ${Ke}`);try{const Bt=Ot.sah.read(te.heap8u().subarray(ue,ue+Ne),{at:oe+Number(Ke)});return Bt<Ne?(te.heap8u().fill(0,ue+Bt,ue+Ne),k.SQLITE_IOERR_SHORT_READ):0}catch(Bt){return et.storeErr(Bt,k.SQLITE_IOERR)}},xSectorSize:function(Ze){return Le},xSync:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xSync ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);try{return Ke.sah.flush(),0}catch(et){return Ne.storeErr(et,k.SQLITE_IOERR)}},xTruncate:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xTruncate ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);try{return Ke.sah.truncate(oe+Number(ue)),0}catch(et){return Ne.storeErr(et,k.SQLITE_IOERR)}},xUnlock:function(Ze,ue){const Ne=Y(Ze);Ne.log("xUnlock");const Ke=Ne.getOFileForS3File(Ze);return Ke.lockType=ue,0},xWrite:function(Ze,ue,Ne,Ke){const et=Y(Ze);et.storeErr();const Ot=et.getOFileForS3File(Ze);et.log(`xWrite ${Ot.path} ${Ne} ${Ke}`);try{const Bt=Ot.sah.write(te.heap8u().subarray(ue,ue+Ne),{at:oe+Number(Ke)});return Ne===Bt?0:y("Unknown write() failure.")}catch(Bt){return et.storeErr(Bt,k.SQLITE_IOERR)}}},z=new k.sqlite3_io_methods;z.$iVersion=1,f.vfs.installVfs({io:{struct:z,methods:D}});const qe={xAccess:function(Ze,ue,Ne,Ke){const et=de(Ze);et.storeErr();try{const Ot=et.getPath(ue);te.poke32(Ke,et.hasFilename(Ot)?1:0)}catch{te.poke32(Ke,0)}return 0},xCurrentTime:function(Ze,ue){return te.poke(ue,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ze,ue){return te.poke(ue,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ze,ue,Ne){const Ke=de(Ze);Ke.log(`xDelete ${te.cstrToJs(ue)}`),Ke.storeErr();try{return Ke.deletePath(Ke.getPath(ue)),0}catch(et){return Ke.storeErr(et),k.SQLITE_IOERR_DELETE}},xFullPathname:function(Ze,ue,Ne,Ke){return te.cstrncpy(Ke,ue,Ne)<Ne?0:k.SQLITE_CANTOPEN},xGetLastError:function(Ze,ue,Ne){const Ke=de(Ze),et=Ke.popErr();if(Ke.log(`xGetLastError ${ue} e =`,et),et){const Ot=te.scopedAllocPush();try{const[Bt,Se]=te.scopedAllocCString(et.message,!0);te.cstrncpy(Ne,Bt,ue),Se>ue&&te.poke8(Ne+ue-1,0)}catch{return k.SQLITE_NOMEM}finally{te.scopedAllocPop(Ot)}}return et?et.sqlite3Rc||k.SQLITE_IOERR:0},xOpen:function(ue,Ne,Ke,et,Ot){const Bt=de(ue);try{Bt.log(`xOpen ${te.cstrToJs(Ne)} ${et}`);const Se=Ne&&te.peek8(Ne)?Bt.getPath(Ne):We();let Ve=Bt.getSAHForPath(Se);!Ve&&et&k.SQLITE_OPEN_CREATE&&(Bt.getFileCount()<Bt.getCapacity()?(Ve=Bt.nextAvailableSAH(),Bt.setAssociatedPath(Ve,Se,et)):y("SAH pool is full. Cannot create file",Se)),Ve||y("file not found:",Se);const Xe={path:Se,flags:et,sah:Ve};Bt.mapS3FileToOFile(Ke,Xe),Xe.lockType=k.SQLITE_LOCK_NONE;const bt=new k.sqlite3_file(Ke);return bt.$pMethods=z.pointer,bt.dispose(),te.poke32(Ot,et),0}catch(Se){return Bt.storeErr(Se),k.SQLITE_CANTOPEN}}},He=function(Ze){f.capi.sqlite3_vfs_find(Ze)&&g("VFS name is already registered:",Ze);const ue=new k.sqlite3_vfs,Ne=k.sqlite3_vfs_find(null),Ke=Ne?new k.sqlite3_vfs(Ne):null;return ue.$iVersion=2,ue.$szOsFile=k.sqlite3_file.structInfo.sizeof,ue.$mxPathname=$e,ue.addOnDispose(ue.$zName=te.allocCString(Ze),()=>Qe(ue.pointer,0)),Ke&&(ue.$xRandomness=Ke.$xRandomness,ue.$xSleep=Ke.$xSleep,Ke.dispose()),!ue.$xRandomness&&!qe.xRandomness&&(qe.xRandomness=function(et,Ot,Bt){const Se=te.heap8u();let Ve=0;for(;Ve<Ot;++Ve)Se[Bt+Ve]=Math.random()*255e3&255;return Ve}),!ue.$xSleep&&!qe.xSleep&&(qe.xSleep=(et,Ot)=>0),f.vfs.installVfs({vfs:{struct:ue,methods:qe}}),ue};class St{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ie);#u;#l;#c;constructor(ue=Object.create(null)){this.#c=ue.verbosity??Me.verbosity,this.vfsName=ue.name||Me.name,this.#l=He(this.vfsName),Qe(this.#l.pointer,this),this.vfsDir=ue.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(ue.clearOnInit??Me.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(ue.initialCapacity||Me.initialCapacity)})}#d(ue,...Ne){this.#c>ue&&ht[ue](this.vfsName+":",...Ne)}log(...ue){this.#d(2,...ue)}warn(...ue){this.#d(1,...ue)}error(...ue){this.#d(0,...ue)}getVfs(){return this.#l}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const ue=[],Ne=this.#i.keys();for(const Ke of Ne)ue.push(Ke);return ue}async addCapacity(ue){for(let Ne=0;Ne<ue;++Ne){const Ke=We(),Ot=await (await this.#t.getFileHandle(Ke,{create:!0})).createSyncAccessHandle();this.#n.set(Ot,Ke),this.setAssociatedPath(Ot,"",0)}return this.getCapacity()}async reduceCapacity(ue){let Ne=0;for(const Ke of Array.from(this.#s)){if(Ne===ue||this.getFileCount()===this.getCapacity())break;const et=this.#n.get(Ke);Ke.close(),await this.#t.removeEntry(et),this.#n.delete(Ke),this.#s.delete(Ke),++Ne}return Ne}releaseAccessHandles(){for(const ue of this.#n.keys())ue.close();this.#n.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(ue){const Ne=[];for await(const[Ke,et]of this.#t)et.kind==="file"&&Ne.push([Ke,et]);return Promise.all(Ne.map(async([Ke,et])=>{try{const Ot=await et.createSyncAccessHandle();if(this.#n.set(Ot,Ke),ue)Ot.truncate(oe),this.setAssociatedPath(Ot,"",0);else{const Bt=this.getAssociatedPath(Ot);Bt?this.#i.set(Bt,Ot):this.#s.add(Ot)}}catch(Ot){throw this.storeErr(Ot),this.releaseAccessHandles(),Ot}}))}getAssociatedPath(ue){ue.read(this.#a,{at:0});const Ne=this.#u.getUint32(we);if(this.#a[0]&&(Ne&k.SQLITE_OPEN_DELETEONCLOSE||!(Ne&fe)))return j(`Removing file with unexpected flags ${Ne.toString(16)}`,this.#a),this.setAssociatedPath(ue,"",0),"";const Ke=new Uint32Array(rt/4);ue.read(Ke,{at:ze});const et=this.computeDigest(this.#a);if(Ke.every((Ot,Bt)=>Ot===et[Bt])){const Ot=this.#a.findIndex(Bt=>Bt===0);return Ot===0&&ue.truncate(oe),Ot?De.decode(this.#a.subarray(0,Ot)):""}else return j("Disassociating file with bad digest."),this.setAssociatedPath(ue,"",0),""}setAssociatedPath(ue,Ne,Ke){const et=be.encodeInto(Ne,this.#a);$e<=et.written+1&&y("Path too long:",Ne),this.#a.fill(0,et.written,$e),this.#u.setUint32(we,Ke);const Ot=this.computeDigest(this.#a);ue.write(this.#a,{at:0}),ue.write(Ot,{at:ze}),ue.flush(),Ne?(this.#i.set(Ne,ue),this.#s.delete(ue)):(ue.truncate(oe),this.#s.add(ue))}computeDigest(ue){let Ne=0xdeadbeef,Ke=0x41c6ce57;for(const et of ue)Ne=31*Ne+et*307,Ke=31*Ke+et*307;return new Uint32Array([Ne>>>0,Ke>>>0])}async reset(ue){await this.isReady;let Ne=await navigator.storage.getDirectory(),Ke;for(const et of this.vfsDir.split("/"))et&&(Ke=Ne,Ne=await Ne.getDirectoryHandle(et,{create:!0}));return this.#e=Ne,this.#r=Ke,this.#t=await this.#e.getDirectoryHandle(_e,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(ue)}getPath(ue){return te.isPtr(ue)&&(ue=te.cstrToJs(ue)),(ue instanceof URL?ue:new URL(ue,"file://localhost/")).pathname}deletePath(ue){const Ne=this.#i.get(ue);return Ne&&(this.#i.delete(ue),this.setAssociatedPath(Ne,"",0)),!!Ne}storeErr(ue,Ne){return ue&&(ue.sqlite3Rc=Ne||k.SQLITE_IOERR,this.error(ue)),this.$error=ue,Ne}popErr(){const ue=this.$error;return this.$error=void 0,ue}nextAvailableSAH(){const[ue]=this.#s.keys();return ue}getOFileForS3File(ue){return this.#o.get(ue)}mapS3FileToOFile(ue,Ne){Ne?(this.#o.set(ue,Ne),O(ue,this)):(this.#o.delete(ue),O(ue,!1))}hasFilename(ue){return this.#i.has(ue)}getSAHForPath(ue){return this.#i.get(ue)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;k.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(_e,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(ue){f.config.error(this.vfsName,"removeVfs() failed:",ue)}return!0}exportFile(ue){const Ne=this.#i.get(ue)||y("File not found:",ue),Ke=Ne.getSize()-oe,et=new Uint8Array(Ke>0?Ke:0);if(Ke>0){const Ot=Ne.read(et,{at:oe});Ot!=Ke&&y("Expected to read "+Ke+" bytes but read "+Ot+".")}return et}async importDbChunked(ue,Ne){const Ke=this.#i.get(ue)||this.nextAvailableSAH()||y("No available handles to import to.");Ke.truncate(0);let et=0,Ot,Bt=!1;try{for(;(Ot=await Ne())!==void 0;)Ot instanceof ArrayBuffer&&(Ot=new Uint8Array(Ot)),et===0&&Ot.byteLength>=15&&(X.affirmDbHeader(Ot),Bt=!0),Ke.write(Ot,{at:oe+et}),et+=Ot.byteLength;if((et<512||et%512!==0)&&y("Input size",et,"is not correct for an SQLite database."),!Bt){const Se=new Uint8Array(20);Ke.read(Se,{at:0}),X.affirmDbHeader(Se)}Ke.write(new Uint8Array([1,1]),{at:oe+18})}catch(Se){throw this.setAssociatedPath(Ke,"",0),Se}return this.setAssociatedPath(Ke,ue,k.SQLITE_OPEN_MAIN_DB),et}importDb(ue,Ne){if(Ne instanceof ArrayBuffer)Ne=new Uint8Array(Ne);else if(Ne instanceof Function)return this.importDbChunked(ue,Ne);const Ke=this.#i.get(ue)||this.nextAvailableSAH()||y("No available handles to import to."),et=Ne.byteLength;(et<512||et%512!=0)&&y("Byte array size is invalid for an SQLite db.");const Ot="SQLite format 3";for(let Se=0;Se<Ot.length;++Se)Ot.charCodeAt(Se)!==Ne[Se]&&y("Input does not contain an SQLite database header.");const Bt=Ke.write(Ne,{at:oe});return Bt!=et?(this.setAssociatedPath(Ke,"",0),y("Expected to write "+et+" bytes but wrote "+Bt+".")):(Ke.write(new Uint8Array([1,1]),{at:oe+18}),this.setAssociatedPath(Ke,ue,k.SQLITE_OPEN_MAIN_DB)),Bt}}class Ft{#e;constructor(ue){this.#e=ue,this.vfsName=ue.vfsName}async addCapacity(ue){return this.#e.addCapacity(ue)}async reduceCapacity(ue){return this.#e.reduceCapacity(ue)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(ue){const Ne=this.#e.getCapacity();return Ne<ue?this.#e.addCapacity(ue-Ne):Ne}exportFile(ue){return this.#e.exportFile(ue)}importDb(ue,Ne){return this.#e.importDb(ue,Ne)}async wipeFiles(){return this.#e.reset(!0)}unlink(ue){return this.#e.deletePath(ue)}async removeVfs(){return this.#e.removeVfs()}}const Wt=async()=>{const Ze=await navigator.storage.getDirectory(),ue=".opfs-sahpool-sync-check-"+We(),et=(await (await Ze.getFileHandle(ue,{create:!0})).createSyncAccessHandle()).close();return await et,await Ze.removeEntry(ue),et?.then&&y("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};f.installOpfsSAHPoolVfs=async function(Ze=Object.create(null)){Ze=Object.assign(Object.create(null),Me,Ze||{});const ue=Ze.name;if(Ze.$testThrowPhase1)throw Ze.$testThrowPhase1;if(S[ue])try{return await S[ue]}catch(Ne){if(Ze.forceReinitIfPreviouslyFailed)delete S[ue];else throw Ne}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[ue]=Promise.reject(new Error("Missing required OPFS APIs.")):S[ue]=Wt().then(async function(){if(Ze.$testThrowPhase2)throw Ze.$testThrowPhase2;const Ne=new St(Ze);return Ne.isReady.then(async()=>{const Ke=new Ft(Ne);if(f.oo1){const et=f.oo1,Ot=Ne.getVfs(),Bt=function(...Se){const Ve=et.DB.dbCtorHelper.normalizeArgs(...Se);Ve.vfs=Ot.$zName,et.DB.dbCtorHelper.call(this,Ve)};Bt.prototype=Object.create(et.DB.prototype),Ke.OpfsSAHPoolDb=Bt}return Ne.log("VFS initialized."),Ke}).catch(async Ke=>{throw await Ne.removeVfs().catch(()=>{}),Ke})}).catch(Ne=>S[ue]=Promise.reject(Ne))}}),typeof c<"u"){const f=Object.assign(Object.create(null),{exports:typeof ee>"u"?c.asm:ee,memory:c.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=f;let y;try{y=globalThis.sqlite3ApiBootstrap()}catch(g){throw console.error("sqlite3ApiBootstrap() error:",g),g}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}c.sqlite3=y}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r=l,r}})();const U2=function(){const t=ob;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const r=e.moduleScript.src.split("/");r.pop(),e.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return t(...n).then(o=>{const a=o.sqlite3;a.scriptInfo=e,r.__isUnderTest&&(a.__isUnderTest=!0);const l=a.asyncPostInit;return delete a.asyncPostInit,l()}).catch(o=>{throw console.error("Exception loading sqlite3 module:",o),o})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();ob=U2;const V2=ob;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const x=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=x}else e=Object.assign(Object.create(null),t.defaultConfig,e);const r=Object.create(null),n=function(){},o=e.onerror||n,a=e.debug||n,l=e.generateMessageId?void 0:Object.create(null),d=e.generateMessageId||function(x){return x.type+"#"+(l[x.type]=(l[x.type]||0)+1)},p=(...x)=>{throw new Error(x.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,b;return e.worker.onmessage=function(x){x=x.data,a("worker1.onmessage",x);let N=r[x.messageId];if(!N){if(x&&x.type==="sqlite3-api"&&x.result==="worker1-ready"){e.onready&&e.onready(b);return}if(N=r[x.type],N&&N.onrow){N.onrow(x);return}e.onunhandled?e.onunhandled(arguments[0]):o("sqlite3Worker1Promiser() unhandled worker message:",x);return}switch(delete r[x.messageId],x.type){case"error":N.reject(x);return;case"open":m||(m=x.dbId);break;case"close":x.dbId===m&&(m=void 0);break}try{N.resolve(x)}catch(q){N.reject(q)}},b=function(){let x;arguments.length===1?x=arguments[0]:arguments.length===2?(x=Object.create(null),x.type=arguments[0],x.args=arguments[1],x.dbId=x.args.dbId):p("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!x.dbId&&x.type!=="open"&&(x.dbId=m),x.messageId=d(x),x.departureTime=performance.now();const N=Object.create(null);N.message=x;let q;x.type==="exec"&&x.args&&(typeof x.args.callback=="function"?(q=x.messageId+":row",N.onrow=x.args.callback,x.args.callback=q,r[q]=N):typeof x.args.callback=="string"&&p("exec callback may not be a string when using the Promise interface."));let R=new Promise(function(C,L){N.resolve=C,N.reject=L,r[x.messageId]=N,a("Posting",x.type,"message to Worker dbId="+(m||"default")+":",x),e.worker.postMessage(x)});return q&&(R=R.finally(()=>delete r[q])),R}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const r=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(o){try{e&&await e(o),r.resolve(o)}catch(a){r.reject(a)}}});const n=new Promise(function(o,a){r.resolve=o,r.reject=a});try{this.original(t)}catch(o){r.reject(o)}return n}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function SE(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(o=>{e=o})},unlock:async()=>{const o=e;t=void 0,e=void 0,o?.()}}}function iv(t,e){const r={rows:[],columns:[]},n=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:r.columns});switch(e.method){case"run":break;case"get":r.rows=n[0]??[];break;case"all":default:r.rows=n;break}return r}function Uk(t){const e=t.split(/[\\/]/).filter(a=>a!==""),r=e.pop();if(!r)throw new Error("Database path is invalid.");const n=["journal","wal","shm"].map(a=>`${r}-${a}`);return{directories:e,fileName:r,tempFileNames:n,getDirectoryHandle:async()=>{let a=await navigator.storage.getDirectory();for(let l of e)a=await a.getDirectoryHandle(l);return a}}}async function s_(t,e){let r;if(t instanceof Blob?r=t.stream():r=t,r instanceof ReadableStream&&e){const o=r.getReader();switch(e){case"callback":return async()=>(await o.read()).value;case"buffer":const a=[];let l=!1;for(;!l;){const b=await o.read();b.value&&a.push(b.value),l=b.done}const d=a.reduce((b,x)=>b+x.length,0),p=new Uint8Array(d);let m=0;return a.forEach(b=>{p.set(b,m),m+=b.length}),p}}else return r}class H2{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:SE()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:SE()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:o,readOnly:a,verbose:l}=this.config,d=[a===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await V2()),this.db&&this.destroy(),"opfs"in this.sqlite3&&o!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(o,d),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(o,d),this.dbStorageType="memory",o!==":memory:"&&console.warn(`The origin private file system is not available, so ${o} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${o})`),this.reinitChannel.onmessage=p=>{this.config.clientKey!==p.data.clientKey&&this.init(p.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:n})}catch(p){this.emitMessage({type:"error",error:p,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(n,o)=>{const a=n instanceof MessageEvent?n.data:n;switch(await this.initMutex.lock(),a.type){case"config":this.editConfig(a);break;case"query":case"batch":case"transaction":this.exec(a);break;case"function":this.createUserFunction(a);break;case"getinfo":this.getDatabaseInfo(a);break;case"import":this.importDb(a);break;case"export":this.exportDb(a);break;case"delete":this.deleteDb(a);break;case"destroy":this.destroy(a);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(n,o=[])=>{this.onmessage&&this.onmessage(n,o)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.config=n.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(this.db)try{const o={type:"data",queryKey:n.queryKey,data:[]};switch(n.type){case"query":const a=this.transactionKey!==null&&this.transactionKey===n.transactionKey;try{a||await this.transactionMutex.lock();const l=iv(this.db,n);o.data.push(l)}finally{a||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let d of n.statements){const p=iv(l,d);o.data.push(p)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(n.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=n.transactionKey,this.db.exec({sql:"BEGIN"})),(n.action==="commit"||n.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===n.transactionKey){const l=n.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(o)}catch(o){this.emitMessage({type:"error",error:o,queryKey:n.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let n of this.config.onInitStatements)iv(this.db,n)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{try{const o=this.config.databasePath,a=this.dbStorageType,l=a!==void 0?a!=="memory"?await navigator.storage?.persisted():!1:void 0,p=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof p=="number"?p:void 0;this.emitMessage({type:"info",queryKey:n.queryKey,info:{databasePath:o,databaseSizeBytes:m,storageType:a,persisted:l}})}catch(o){this.emitMessage({type:"error",queryKey:n.queryKey,error:o})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{const{functionName:o,functionType:a,queryKey:l}=n;let d;if(this.userFunctions.has(o)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${o}" has already been created for this SQLocal instance.`),queryKey:l});return}a==="callback"?d=(...p)=>{this.emitMessage({type:"callback",name:o,args:p})}:d=this.proxy[`_sqlocal_func_${o}`];try{this.initUserFunction({type:a,name:o,func:d}),this.emitMessage({type:"success",queryKey:l})}catch(p){this.emitMessage({type:"error",error:p,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.createFunction({name:n.name,xFunc:(o,...a)=>n.func(...a),arity:-1}),this.userFunctions.set(n.name,n))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:o,database:a}=n;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const d=await s_(a,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,d)}else{const d=await s_(a,"buffer"),p=this.sqlite3.wasm.allocFromTypedArray(d);this.pointers.push(p);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",p,d.byteLength,d.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(d){this.emitMessage({type:"error",error:d,queryKey:o}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:o})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:n=>{if(!this.sqlite3||!this.db)return;const{queryKey:o}=n;try{const a=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:o,buffer:a},[a])}catch(a){this.emitMessage({type:"error",error:a,queryKey:o})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;const{queryKey:o}=n;let a=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:d,tempFileNames:p}=Uk(this.config.databasePath),m=await l(),b=[d,...p];this.destroy(),await Promise.all(b.map(async x=>m.removeEntry(x).catch(N=>{if(!(N instanceof DOMException&&N.name==="NotFoundError"))throw N})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:o}),a=!0}finally{await this.init("delete")}a||this.emitMessage({type:"success",queryKey:o})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(o=>this.sqlite3?.wasm.dealloc(o)),this.pointers=[],n&&this.emitMessage({type:"success",queryKey:n.queryKey})}});const r=e?globalThis:sb(globalThis);this.proxy=r,this.init("initial")}}function pp(t,...e){return{sql:t.join("?"),params:e}}function Q2(t){return!t.some(e=>!Array.isArray(e))}function sv(t,e){let r;return Q2(t)?r=t:r=[t],r.map(n=>{const o={};return e.forEach((a,l)=>{o[a]=n[l]}),o})}function K2(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function G2(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function J2(t){if(typeof t=="function"&&(t=t(pp)),K2(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const n=t.toSQL();if(!G2(n))throw 2;return n}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let r=[];return"params"in t?r=t.params:"parameters"in t&&(r=t.parameters),{sql:e,params:r}}function ov(){return crypto.randomUUID()}function EE(t,e){let r;return typeof t=="string"?r={sql:t,params:e}:r=pp(t,...e),r}async function oh(t,e,r,n){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${r.databasePath})`,{mode:t},n):n()}class Z2{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const d=l instanceof MessageEvent?l.data:l,p=this.queriesInProgress;switch(d.type){case"success":case"data":case"buffer":case"info":case"error":if(d.queryKey&&p.has(d.queryKey)){const[b,x]=p.get(d.queryKey);d.type==="error"?x(d.error):b(d),p.delete(d.queryKey)}else if(d.type==="error")throw d.error;break;case"callback":const m=this.userCallbacks.get(d.name);m&&m(...d.args??[]);break;case"event":this.config.onConnect?.(d.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>oh("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const d=ov();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:d},[l.database]);break;default:this.processor.postMessage({...l,queryKey:d});break}return new Promise((p,m)=>{this.queriesInProgress.set(d,[p,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,d,p="all",m)=>{const b=await this.createQuery({type:"query",transactionKey:m,sql:l,params:d,method:p}),x={rows:[],columns:[]};return b.type==="data"&&(x.rows=b.data[0]?.rows??[],x.columns=b.data[0]?.columns??[]),x}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const d=await this.createQuery({type:"batch",statements:l}),p=new Array(l.length).fill({rows:[],columns:[]});return d.type==="data"&&d.data.forEach((m,b)=>{p[b]=m}),p}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...d)=>{const p=EE(l,d),{rows:m,columns:b}=await this.exec(p.sql,p.params,"all");return sv(m,b)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const d=l(pp);return(await this.execBatch(d)).map(({rows:m,columns:b})=>sv(m,b))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=ov();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const d=async x=>{const N=J2(x),{rows:q,columns:R}=await this.exec(N.sql,N.params,"all",l);return sv(q,R)};return{query:d,sql:async(x,...N)=>{const q=EE(x,N);return await d(q)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>oh("exclusive",!1,this.config,async()=>{let d;this.bypassMutationLock=!0;try{d=await this.beginTransaction();const p=await l({sql:d.sql,query:d.query});return await d.commit(),p}catch(p){throw await d?.rollback(),p}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,d)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,d)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,d)=>{const p=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[p]=d),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[p]=d)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,d;const{storageType:p}=await this.getDatabaseInfo();if(p==="opfs"){const m=Uk(this.config.databasePath),{directories:b,getDirectoryHandle:x}=m;l=m.fileName;const N=`backup-${Date.now()}--${l}`,q=`${b.join("/")}/${N}`;await this.exec("VACUUM INTO ?",[q]);const R=await x();d=await (await (await R.getFileHandle(N)).getFile()).arrayBuffer(),await R.removeEntry(N)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",d=m.buffer;else throw new Error("The database failed to export.")}return new File([d],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,d)=>{await oh("exclusive",!1,this.config,async()=>{try{const p=await s_(l);await this.createQuery({type:"import",database:p}),typeof d=="function"&&(this.bypassMutationLock=!0,await d()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await oh("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const r=typeof e=="string"?{databasePath:e}:e,{onInit:n,onConnect:o,...a}=r;this.config=r,this.clientKey=ov(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${a.databasePath})`),typeof globalThis.Worker<"u"&&a.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=sb(this.processor)):(this.processor=new H2(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...a,clientKey:this.clientKey,onInitStatements:n?.(pp)??[]}})}}class X2 extends Z2{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new F2,createDriver:()=>new Y2(this),createIntrospector:e=>new P2(e),createQueryCompiler:()=>new A2}})}}class Y2{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new eM(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class eM{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let r;return this.transaction===null?r=await this.client.sql(e.sql,...e.parameters):r=await this.transaction.query(e),{rows:r}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const tM=({database:t,bootstrap:e})=>{const{dialect:r}=new X2({databasePath:`${t}.sqlite3`}),n=new Vo({dialect:r});return{kysely:n,bootstrap(){return e({kysely:n})}}},ho=fr({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),rM="icon-[material-symbols--error-outline]",nM=fr({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Fs=({error:t,variant:e,tva:r=nM,css:n})=>{const o=r({...e,css:n}).slots;return t?.message?w.jsxs("div",{className:o.base(),children:[w.jsx(xr,{icon:rM}),w.jsx("span",{children:Za.rich(t.message)})]}):null},iM=fr({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),$r=({label:t,hint:e,required:r=!1,formState:n,name:o,children:a,variant:l,tva:d=iM,css:p})=>{const m=d({isSubmitting:n.isSubmitting,isLoading:n.isLoading,isError:!!n.errors[o],required:r,...l,css:p}).slots;return w.jsxs("div",{className:m.base(),children:[w.jsxs("div",{className:"flex flex-row justify-between",children:[t?w.jsx("label",{htmlFor:o,children:t}):null,w.jsx(Fs,{variant:{compact:!0},error:n.errors[o]})]}),e?w.jsx("div",{className:"text-sm italic",children:e}):null,w.jsx("div",{className:m.input(),children:a})]})},al=({form:t,mutation:e,onSuccess:r})=>{const n=t.handleSubmit(async o=>e.mutateAsync(o,{onSuccess:r,onError:a=>{q_({error:a,errors:[b_({error:a,schema:k_,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return o=>{o.stopPropagation(),n(o)}};function sM(t,e,r,n={leading:!1}){const[o,a]=G.useState(t),[l,d]=G.useState(t),p=G.useRef(null),m=G.useRef(!0),b=()=>window.clearTimeout(p.current||void 0);G.useEffect(()=>b,[]),G.useEffect(()=>{e(o)},[o]),G.useEffect(()=>{d(t),a(t)},[t]);const x=G.useCallback(N=>{d(N),b(),m.current&&n.leading?a(N):p.current=window.setTimeout(()=>{m.current=!0,a(N)},r),m.current=!1},[n.leading]);return[l,x]}const oM=fr({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),aM=({value:t="",onFulltext:e,textPlaceholder:r,variant:n,tva:o=oM,css:a})=>{const l=o({...n,css:a}).slots,[d,p]=sM(t,m=>{e(m||"")},500);return w.jsxs("div",{className:l.base(),children:[w.jsx("div",{className:l.search(),children:w.jsx(xr,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),w.jsx("input",{value:d||"",className:l.input(),type:"text",placeholder:r||Za.text("Fulltext (placeholder)"),onChange:m=>{p(m.target.value)}}),t&&w.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:w.jsx(xr,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},ya=t=>e=>{t({search:({cursor:r,global:n,...o})=>({...o,global:{...n,fulltext:e},cursor:{...r,page:e?0:r.page}}),replace:!!e})},vd="icon-[pajamas--go-back]",mp="icon-[line-md--confirm-circle]",lM="icon-[mage--edit]",uM="icon-[arcticons--nothing-x]",cM="icon-[tabler--filter-plus]",NE="icon-[tabler--filter-minus]",Vk="icon-[ph--list-dashes-thin]",ab="icon-[material-symbols-light--logout-sharp]",dM="icon-[fluent--shape-intersect-20-regular]",Jp="icon-[fluent--checkbox-unchecked-20-regular]",Zp="icon-[fluent--checkbox-checked-20-regular]",fM="icon-[ph--gear-thin]",yp="icon-[teenyicons--tag-outline]",ss="icon-[ph--trash]",av=async({queryClient:t,keys:e})=>Promise.all(e.map(r=>t.refetchQueries({queryKey:r}))).catch(r=>{console.error(r)}),hM=fr({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),pM=()=>w.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),Hk=({logo:t,menu:e,actions:r,variant:n,tva:o=hM,css:a,children:l})=>{const d=o({...n,css:a}).slots;return w.jsxs("div",{className:d.base(),children:[w.jsx(gO,{position:"top-center"}),w.jsxs("div",{className:d.header(),children:[w.jsx("div",{children:t}),w.jsx("div",{className:"flex-grow",children:e}),w.jsx("div",{className:"flex flex-row gap-2 items-center",children:r})]}),w.jsx("div",{className:d.content(),children:l??w.jsx(Nu,{})}),w.jsx(pM,{})]})},mM=fr({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),yM=G.forwardRef(({icon:t,iconProps:e,variant:r,tva:n=mM,css:o,children:a,...l},d)=>{const p=n({...r,css:o}).slots;return w.jsxs("a",{...l,ref:d,className:p.base(),children:[t&&w.jsx(xr,{icon:t,...e}),a]})}),gM=vN(yM),Ei=t=>w.jsx(gM,{preload:"intent",...t}),vM=fr({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),_M=({show:t=!0,variant:e,tva:r=vM,css:n})=>{const o=r({show:t,...e,css:n}).slots;return t?w.jsx("div",{className:o.base(),children:w.jsx(xr,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var Nh={exports:{}},bM=Nh.exports,kE;function wM(){return kE||(kE=1,function(t,e){(function(r,n){t.exports=n()})(bM,()=>(()=>{var r={d:(R,C)=>{for(var L in C)r.o(C,L)&&!r.o(R,L)&&Object.defineProperty(R,L,{enumerable:!0,get:C[L]})},o:(R,C)=>Object.prototype.hasOwnProperty.call(R,C)},n={};r.d(n,{default:()=>q});const o=(...R)=>{},a=R=>R!==null&&R?.constructor.name==="Object";let l,d;const p=()=>{if(!l){l=!0;try{d=x.storage||localStorage,d.getItem("")}catch{d=(()=>{const R={getItem:L=>C[L]||null,setItem:(L,P)=>{C[L]=P},removeItem:L=>{C[L]=void 0},clear:()=>{C={__proto__:R}}};let C={__proto__:R};return C})()}N()}},m="\0",b=(R,C,L=!0)=>L?[...JSON.stringify(R)].map(P=>String.fromCharCode(P.charCodeAt(0)+C)).join(""):JSON.parse([...R].map(P=>String.fromCharCode(P.charCodeAt(0)-C)).join("")),x={ttl:null,encrypt:!1,encrypter:b,decrypter:(R,C)=>b(R,C,!1),secret:75,storage:void 0};Object.seal(x);const N=(R=!1)=>{p();for(const C of Object.keys(d)){const L=d.getItem(C);let P;try{P=JSON.parse(L||"")}catch{continue}a(P)&&m in P&&(Date.now()>P.ttl||R)&&d.removeItem(C)}},q={config:x,set:(R,C,L={})=>{p();const P={...x,...L,encrypt:L.encrypt!==!1&&(L.encrypt||x.encrypt),ttl:L.ttl===null?null:L.ttl||x.ttl};try{const T=P.ttl&&!isNaN(P.ttl)&&P.ttl>0;let M=T?{[m]:C,ttl:Date.now()+1e3*P.ttl}:C;P.encrypt&&(T?M[m]=(P.encrypter||o)(M[m],P.secret):M=(P.encrypter||o)(M,P.secret)),d.setItem(R,JSON.stringify(M))}catch{return!1}},get:(R,C={})=>{p();const L=d.getItem(R),P={...x,...C,encrypt:C.encrypt!==!1&&(C.encrypt||x.encrypt),ttl:C.ttl===null?null:C.ttl||x.ttl};let T,M;try{T=JSON.parse(L||""),M=a(T)&&m in T,(P.decrypt||P.encrypt)&&(M?T[m]=(P.decrypter||o)(T[m],P.secret):T=(P.decrypter||o)(T,P.secret))}catch{}return M?Date.now()>T.ttl?(d.removeItem(R),null):T[m]:T!==void 0?T:L},flush:N,clear:()=>{p(),d.clear()},remove:R=>{p(),d.removeItem(R)}};return n.default})())}(Nh)),Nh.exports}var xM=wM();const SM=Su(xM),Md=SM,EM=fr({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Xp=({variant:t,tva:e=EM,css:r,children:n})=>{const o=e({...t,css:r}).slots;return w.jsx("div",{className:o.base(),children:n})},NM=fr({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),qE=({icon:t,label:e,active:r=[],variant:n,tva:o=NM,css:a,children:l})=>{const d=_N(),p=r.some(b=>!!d(b)),m=o({active:p,...n,css:a}).slots;return w.jsxs("div",{className:m.base(),children:[w.jsxs("div",{className:m.label(),children:[t?w.jsx(xr,{icon:t}):null,e]}),w.jsx("div",{className:m.items(),children:l})]})},kM=fr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),qM=G.forwardRef(({icon:t=null,variant:e,tva:r=kM,css:n,children:o,...a},l)=>{const d=r({...e,css:n}).slots;return w.jsxs("a",{...a,className:d.base(),ref:l,children:[E_(t)?w.jsx(xr,{icon:t}):t,o]})}),CM=vN(qM),hi=({active:t=[],variant:e,...r})=>{const n=_N(),o=t.some(a=>!!n(a));return w.jsx(CM,{preload:"intent",variant:{active:!!n({to:r.to,params:r.params})||o,...e},...r})},RM=fr({slot:{base:[]},variant:{},defaults:{}}),he=({label:t,fallback:e,variant:r,tva:n=RM,css:o})=>{const a=n({...r,css:o}).slots;return w.jsx("div",{className:a.base(),children:Za.rich(t,e)})},Qk=fr({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),OM=fr({use:Qk,slot:{},variant:{},defaults:{}}),AM=({icon:t,titleText:e,modalProps:r,table:n,render:o,allowEmpty:a=!1,useListQuery:l,value:d,onChange:p,variant:m,tva:b=OM,css:x})=>{const N=b({...m,css:x}).slots,[q,R]=G.useState(0),[C,L]=G.useState(15),[P,T]=G.useState(d||[]),[M,U]=G.useState(void 0),V=l({query:{filter:{fulltext:M},cursor:{page:q,size:C}}}),B=l({query:{where:{idIn:d}},options:{enabled:!!d}});return w.jsx($_,{icon:t,target:w.jsxs("label",{className:N.input({loading:B.isLoading,selected:!!B.data?.data.length}),children:[w.jsx(xr,{icon:B.data?.data?.length?Zp:Jp}),B.data&&B.data.data.length?w.jsx(o,{entities:B.data.data}):w.jsx(he,{label:"Select item (label)"})]}),title:e,variant:{loading:V.isLoading},disabled:V.isLoading,...r,children:w.jsxs("div",{className:N.base(),children:[w.jsx("div",{className:N.content(),children:w.jsx(n,{cursor:{cursor:{page:q,size:C},count:V.data?.count?V.data.count:{filter:-1,total:-1,where:-1},textTotal:w.jsx(he,{label:"Total count of items (label)"}),onPage(K){R(K)},onSize(K){L(K),R(0)}},fulltext:{value:M,onFulltext(K){U(K)}},table:{data:V.data?.data??[],selection:{type:"multi",value:P,set(K){T(K)}}}})}),w.jsx(as.Consumer,{children:K=>w.jsxs("div",{className:N.footer(),children:[w.jsx(zn,{iconEnabled:vd,iconDisabled:vd,onClick:()=>{K?.close()},variant:{variant:"subtle"},children:w.jsx(he,{label:"Close (label)"})}),w.jsx(zn,{iconEnabled:mp,iconDisabled:mp,disabled:!P.length&&!a,onClick:()=>{p(P),K?.close()},children:w.jsx(he,{label:"Confirm selection (label)"})})]})})]})})},IM=({icon:t,titleText:e,modalProps:r,table:n,render:o,allowEmpty:a=!1,useListQuery:l,value:d,onChange:p,variant:m,tva:b=Qk,css:x})=>{const N=b({...m,css:x}).slots,[q,R]=G.useState(0),[C,L]=G.useState(10),[P,T]=G.useState(d?[d]:[]),[M,U]=G.useState(void 0),V=l({query:{where:{fulltext:M},cursor:{page:q,size:C}}}),B=l({query:{where:{id:d}},options:{enabled:!!d}});return w.jsx($_,{icon:t,target:w.jsxs("label",{className:N.input({loading:B.isLoading,selected:!!B.data?.data?.length}),children:[w.jsx(xr,{icon:B.data?.data?.[0]?Zp:Jp}),B.data?.data?.[0]?w.jsx(o,{entity:B.data?.data?.[0]}):w.jsx(he,{label:"Select item (label)"})]}),title:e,variant:{loading:V.isLoading},disabled:V.isLoading,...r,children:w.jsxs("div",{className:N.base(),children:[w.jsx("div",{className:N.content(),children:w.jsx(n,{cursor:{cursor:{page:q,size:C},count:V.data?.count?V.data.count:{filter:-1,total:-1,where:-1},textTotal:w.jsx(he,{label:"Total count of items (label)"}),onPage(K){R(K)},onSize(K){L(K)}},fulltext:{value:M,onFulltext(K){U(K)}},table:{data:V.data?.data??[],selection:{type:"single",value:P,set(K){T(K)}}}})}),w.jsx(as.Consumer,{children:K=>w.jsxs("div",{className:N.footer(),children:[w.jsx(zn,{iconEnabled:vd,iconDisabled:vd,onClick:()=>{K?.close()},variant:{variant:"subtle"},children:w.jsx(he,{label:"Close (label)"})}),w.jsx(zn,{iconEnabled:mp,iconDisabled:mp,disabled:!P.length&&!a,onClick:()=>{p(P?.[0]),K?.close()},children:w.jsx(he,{label:"Confirm selection (label)"})})]})})]})})},TM=fr({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),Kk=({entity:t,title:e=()=>null,links:r=()=>null,actions:n=()=>null,extra:o=()=>null,variant:a,tva:l=TM,css:d})=>{const p=l({...a,css:d}).slots;return w.jsx(VL.Provider,{value:{inline:!0},children:w.jsx("div",{className:p.base(),children:w.jsxs("div",{className:p.container(),children:[w.jsx("div",{className:p.title(),children:w.jsx(e,{entity:t})}),w.jsx("div",{className:p.links(),children:w.jsx(r,{entity:t})}),w.jsx("div",{className:p.actions(),children:w.jsx(n,{entity:t})}),w.jsx("div",{className:p.extra(),children:w.jsx(o,{entity:t})})]})})})},PM=fr({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),Cs=({repository:t,textContent:e,idIn:r,onCancel:n,variant:o,tva:a=PM,css:l})=>{const d=a({...o,css:l}).slots,p=G.useContext(as),m=t.useRemoveMutation({async wrap(b){return vO.promise(b(),{loading:w.jsx(he,{label:"Deleting... (label)"}),success:w.jsx(he,{label:"Items deleted (label)"}),error:w.jsx(he,{label:"Items cannot be removed (label)"})})},async onSuccess(){p?.close()}});return w.jsxs("div",{className:d.base(),children:[w.jsx("div",{className:d.content(),children:e}),w.jsxs("div",{className:d.footer(),children:[w.jsx(zn,{variant:{variant:"subtle",size:"sm"},iconEnabled:vd,onClick:()=>{p?.close(),n?.()},children:w.jsx(he,{label:"Cancel (button)"})}),w.jsx(zn,{variant:{variant:"danger",size:"md"},iconEnabled:ss,onClick:()=>m.mutate({idIn:r}),children:w.jsx(he,{label:"Delete (button)"})})]})]})},Ls=({name:t,invalidate:e=[],...r})=>{const n=AP(r),o=[["withListLoader",t],["useListQuery",t],["withFetchLoader",t],["withCountLoader",t],...e],a={...n,name:t,invalidate:o,async withListLoader({queryClient:l,where:d,filter:p,cursor:m={page:0,size:10}}){return l.ensureQueryData({queryKey:["withListLoader",t,{where:d,filter:p,cursor:m}],async queryFn(){return n.list({query:{where:d,filter:p,cursor:m}})}})},async withFetchLoader({queryClient:l,where:d,filter:p,cursor:m}){return l.ensureQueryData({queryKey:["withFetchLoader",t,{where:d,filter:p,cursor:m}],async queryFn(){return n.fetchOrThrow({query:{where:d,filter:p,cursor:m}})}})},async withCountLoader({queryClient:l,where:d,filter:p}){return l.ensureQueryData({queryKey:["withCountLoader",t,{where:d,filter:p}],async queryFn(){return n.count({query:{where:d,filter:p}})}})},withRouteListLoader(){return async({context:{queryClient:l},deps:{global:d,filter:p,cursor:m}})=>({data:await a.withListLoader({queryClient:l,filter:{...d,...p},cursor:m}),count:await a.withCountLoader({queryClient:l,filter:{...d,...p}})})},useListQuery({query:l,options:d}){return vC({queryKey:["useListQuery",t,{query:l}],async queryFn(){return{data:await n.list({query:l}),count:await n.count({query:l})}},...d})},useCreateMutation({wrap:l=async m=>m(),toCreate:d=async({shape:m})=>({entity:m,shape:m}),onSuccess:p}){const m=Ic(),b=_i();return Tc({mutationKey:["useCreateMutation",t],async mutationFn(x){return l(async()=>{const N=await n.create({...await d({shape:x}),shape:x});return await p?.({entity:N}),await av({queryClient:m,keys:o}),await b.invalidate(),N})}})},usePatchMutation({wrap:l=m=>m(),toPatch:d,onSuccess:p}){const m=Ic(),b=_i();return Tc({mutationKey:["usePatchMutation",t],async mutationFn(x){return l(async()=>{const N=await n.patch({entity:x,shape:x,...await d({shape:x})});return await p?.({entity:N}),await av({queryClient:m,keys:o}),await b.invalidate(),N})}})},useRemoveMutation({wrap:l=p=>p(),onSuccess:d}){const p=Ic(),m=_i();return Tc({mutationKey:["useRemoveMutation",t],async mutationFn({idIn:b}){return l(async()=>{await n.remove({idIn:b}),await av({queryClient:p,keys:o}),await d?.({}),await m.invalidate()})}})}};return a},FM=fr({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),Gk=({textTitle:t,textMessage:e,icon:r,iconProps:n,variant:o,tva:a=FM,css:l,children:d})=>{const p=a({...o,css:l}).slots;return w.jsxs("div",{className:p.base(),children:[r?w.jsx(xr,{icon:r,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...n}):null,w.jsx("div",{className:p.title(),children:t}),w.jsx("div",{className:p.message(),children:e}),w.jsx("div",{className:p.body(),children:d})]})},lb=fr({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),LM=({table:t,cell:{column:e,data:r,value:n},variant:o,tva:a=lb,css:l})=>{const d=e.def.render,p=a({...o,css:l}).slots;return w.jsx("td",{className:p.td(),children:w.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[w.jsx(d,{table:t,data:r,value:n}),e.filter&&!e.filter.is()?w.jsx(xr,{icon:cM,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:r,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},jM=({table:t,row:e,action:r,variant:n,tva:o=lb,css:a})=>{const l=o({...n,css:a}).slots,d=r?.table,p=r?.row;return w.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[d||p||t.selection.enabled?w.jsx("td",{className:"w-0",children:w.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?w.jsx(xr,{icon:t.selection.isSelected(e)?Zp:Jp,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,p?w.jsx(p,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>w.jsx(LM,{table:t,cell:m,variant:n,tva:o,css:a},`${e.id}-${m.column.id}`)),w.jsx("td",{})]})},ll=({table:t,fulltext:e,cursor:r,empty:n=()=>w.jsx(Gk,{icon:uM,textTitle:w.jsx(he,{label:"Nothing here"}),textMessage:w.jsx(he,{label:"There is nothing to see right now."})}),action:o,variant:a,tva:l=lb,css:d})=>{const p=l({...a,css:d}).slots,m=o?.table,b=o?.row;return w.jsxs("div",{className:p.base(),children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?w.jsx(aM,{...e}):null}),w.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[w.jsx(GS,{...r}),t.filter.is()&&w.jsx(ek,{iconEnabled:NE,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),w.jsx("div",{className:"relative overflow-x-auto",children:w.jsxs("table",{className:p.table(),children:[w.jsx("thead",{className:p.thead(),children:w.jsxs("tr",{children:[m||b||t.selection.enabled?w.jsx("th",{className:"w-0",children:w.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?w.jsx(xr,{icon:t.selection.isAll()?Zp:t.selection.isAny()?dM:Jp,variant:{disabled:t.selection.isSingle},css:{base:p.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?w.jsx(m,{table:t}):null]})}):null,t.visible.map(x=>{const N=x.def.header||(()=>null);return w.jsx("th",{className:p.th(),style:x.def.size?{width:`${x.def.size}rem`}:void 0,children:w.jsxs("div",{className:"flex flex-row items-center justify-between",children:[w.jsx(N,{table:t}),w.jsx("div",{className:"flex flex-row items-center gap-2",children:x.filter?.is()&&w.jsx(xr,{icon:NE,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{x.filter?.reset()}})})]})},x.id)}),w.jsx("th",{})]})}),t.isEmpty?null:w.jsx("tbody",{className:p.tbody(),children:t.rows?.map(x=>w.jsx(jM,{row:x,table:t,action:o,variant:a,tva:l,css:d},x.id))})]})}),t.isEmpty?w.jsx(n,{}):null,w.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[w.jsx("div",{}),w.jsx(GS,{...r})]})]})},bn=[];for(let t=0;t<256;++t)bn.push((t+256).toString(16).slice(1));function MM(t,e=0){return(bn[t[e+0]]+bn[t[e+1]]+bn[t[e+2]]+bn[t[e+3]]+"-"+bn[t[e+4]]+bn[t[e+5]]+"-"+bn[t[e+6]]+bn[t[e+7]]+"-"+bn[t[e+8]]+bn[t[e+9]]+"-"+bn[t[e+10]]+bn[t[e+11]]+bn[t[e+12]]+bn[t[e+13]]+bn[t[e+14]]+bn[t[e+15]]).toLowerCase()}let lv;const DM=new Uint8Array(16);function WM(){if(!lv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lv=crypto.getRandomValues.bind(crypto)}return lv(DM)}const BM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),CE={randomUUID:BM};function RE(t,e,r){if(CE.randomUUID&&!e&&!t)return CE.randomUUID();t=t||{};const n=t.random||(t.rng||WM)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,MM(n)}const ul=({columns:t,order:e=t.map(d=>d.name),hidden:r=[],visible:n=t.map(d=>d.name),data:o,filter:a,selection:l})=>{const d={...a?.value||{}},p=_S(d||{}),m=new Set(l?.value),b=t.map(N=>({id:RE(),def:N,filter:N.filter?{is(){return N.filter?p.get(N.filter.path)!==void 0:!1},reset(){N.filter&&p.set(N.filter.path,void 0),a?.set({...d})},shallow(q,R){N.filter&&p.set(q,R),a?.set({...d})},set(q){a?.set({...q})}}:void 0})),x=b.filter(N=>n.includes(N.def.name)&&!r.includes(N.def.name)).sort((N,q)=>{const R=e.indexOf(N.def.name),C=e.indexOf(q.def.name);return(R===-1?1/0:R)-(C===-1?1/0:C)});return{columns:b,visible:x,rows:o?.map(N=>({id:RE(),data:N,cells:x.map(q=>({column:q,data:N,value:_S(N).get(q.def.name)}))})),isEmpty:o.length===0,filter:{is(){return b.some(N=>N.filter?.is())},reset(){a?.set({})},set(N){a?.set({...N})},shallow(N,q){p.set(N,q)}},selection:{enabled:!!l&&o.length>0,selection:Array.from(m),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:N}){return m.has(N.id)||!1},isAll(){return o.every(N=>m.has(N.id))},isAny(){return o.some(N=>m.has(N.id))},withRowHandler({data:N}){return()=>{if(l?.type==="single"){const q=m.has(N.id);m.clear(),q?m.delete(N.id):m.add(N.id)}else m.has(N.id)?m.delete(N.id):m.add(N.id);l?.set(Array.from(m))}},withAllHandler(){return()=>{o.every(N=>m.has(N.id))?m.clear():o.forEach(({id:N})=>m.add(N)),l?.set(Array.from(m))}}}}},cl=()=>t=>t,Jk=({tags:t=[],render:e=({tag:o})=>o.label,onClick:r,textEmpty:n})=>{const o=t.filter(Boolean).sort((a,l)=>a.sort-l.sort);return w.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:o.length?o.map(a=>w.jsx(LL,{onClick:()=>r?.(a),children:e({tag:a})},a.id)):n||w.jsx(he,{label:"No tags (label)"})})},zM=fr({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),Zk=({icon:t,title:e,subtitle:r,variant:n,tva:o=zM,css:a})=>{const l=o({withSubtitle:!!r,...n,css:a}).slots;return w.jsxs("div",{className:l.base(),children:[w.jsxs("div",{className:l.title(),children:[t?w.jsx(xr,{icon:t}):null,e]}),r?w.jsx("div",{className:l.subtitle(),children:r}):null]})};var ah={},OE;function $M(){if(OE)return ah;OE=1;var t=gN();return ah.createRoot=t.createRoot,ah.hydrateRoot=t.hydrateRoot,ah}var UM=$M();const VM=Su(UM),ub=sR()({component:()=>w.jsxs(w.Fragment,{children:[w.jsx(kR,{}),w.jsx(Nu,{})]})}),HM="modulepreload",QM=function(t){return"/"+t},AE={},IE=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");o=Promise.allSettled(r.map(p=>{if(p=QM(p),p in AE)return;AE[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":HM,m||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),m)return new Promise((N,q)=>{x.addEventListener("load",N),x.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return o.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},KM=_r("/$locale")({component:Nu,loader:async({params:{locale:t}})=>{try{Za.push((await GM(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function GM(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return IE(()=>import("./cs-BbO_ui0z.js"),[]);case"../translation/en":case"../translation/en.yaml":return IE(()=>import("./en-COJvK3PY.js"),[]);default:return new Promise(function(e,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const Xk="cs",JM=[Xk,"en"],ZM=_r("/")({loader:async()=>{throw xp({to:"/$locale",params:{locale:lT({available:JM,fallback:Xk})}})}}),XM=_r("/$locale/")({component:()=>{const{locale:t}=In({from:"/$locale"});return w.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:w.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[w.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),w.jsx("ul",{children:w.jsx("li",{children:w.jsx(Ei,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),lr=tM({database:"derivean",async bootstrap({kysely:t}){t.schema.createTable("User").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("name","varchar(64)",e=>e.notNull()).addColumn("login","varchar(128)",e=>e.notNull().unique()).addColumn("password","varchar(256)",e=>e.notNull()).execute(),t.schema.createTable("Tag").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("code","varchar(64)",e=>e.notNull()).addColumn("label","varchar(128)",e=>e.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",e=>e.notNull().defaultTo(0)).execute(),t.schema.createTable("Resource").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("name","varchar(64)",e=>e.notNull().unique()).addColumn("description","varchar(128)").execute(),t.schema.createTable("ResourceTag").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("resourceId","varchar(36)",e=>e.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId","varchar(36)",e=>e.references("Tag.id").onDelete("cascade").notNull()).execute(),t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("name","varchar(64)",e=>e.notNull().unique()).addColumn("preview","boolean",e=>e.notNull()).addColumn("description","varchar(128)").execute(),t.schema.createTable("Building").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("userId","varchar(36)",e=>e.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId","varchar(36)",e=>e.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("description","varchar(128)").execute(),t.schema.createTable("BuildingRequirementResource").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("baseBuildingId","varchar(36)",e=>e.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId","varchar(36)",e=>e.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",e=>e.notNull()).execute()}}),YM=_r("/$locale/apps/derivean")({async loader(){return lr.bootstrap()}}),eD=fr({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),Yk=({variant:t,tva:e=eD,css:r})=>{const n=e({...t,css:r}).slots;return w.jsx("div",{className:n.base(),children:"DeRivean"})},wu="icon-[material-symbols-light--construction-rounded]",TE="icon-[fluent--building-shop-20-regular]",xu="icon-[mingcute--inventory-line]",cb="icon-[fluent--tray-item-add-20-regular]",Rs="icon-[hugeicons--resources-add]",_d="icon-[material-symbols-light--inventory-2-outline]",tD=t=>{const{locale:e}=In({from:"/$locale"});return w.jsxs(Xp,{...t,children:[w.jsx(hi,{icon:Rs,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:w.jsx(he,{label:"Resource list (menu)"})}),w.jsxs(qE,{icon:TE,label:w.jsx(he,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"}],children:[w.jsx(hi,{icon:wu,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:w.jsx(he,{label:"Base building list (menu)"})}),w.jsx(hi,{icon:TE,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:w.jsx(he,{label:"Building list (menu)"})})]}),w.jsx(hi,{icon:_d,to:"/$locale/apps/derivean/root/slot/list",params:{locale:e},children:w.jsx(he,{label:"Slot list (menu)"})}),w.jsx(hi,{icon:cb,to:"/$locale/apps/derivean/root/item/list",params:{locale:e},children:w.jsx(he,{label:"Item list (menu)"})}),w.jsx(hi,{icon:xu,to:"/$locale/apps/derivean/root/inventory/list",params:{locale:e},children:w.jsx(he,{label:"Inventory list (menu)"})}),w.jsx(qE,{icon:fM,label:w.jsx(he,{label:"Settings (menu)"}),children:w.jsx(hi,{icon:yp,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:w.jsx(he,{label:"Tag list (menu)"})})})]})},db=Ue.object({id:Ue.string(),name:Ue.string(),login:Ue.string()}),rD=_r("/$locale/apps/derivean/root")({component:()=>{const{locale:t}=In({from:"/$locale"}),{session:e}=Np({from:"/$locale/apps/derivean/root"});return w.jsx(Hk,{logo:w.jsx(Ei,{to:"/$locale/apps/derivean/root",params:{locale:t},children:w.jsx(Yk,{})}),menu:w.jsx(tD,{}),actions:w.jsxs(w.Fragment,{children:[e.name,w.jsx(Ei,{icon:ab,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})},loader({params:{locale:t}}){try{return{session:db.parse(Md.get("session"))}}catch{throw xp({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}}),nD=t=>{const{locale:e}=In({from:"/$locale"});return w.jsx(Xp,{...t,children:w.jsx(hi,{to:"/$locale/apps/derivean/root",params:{locale:e},children:w.jsx(he,{label:"Root site (menu)"})})})},iD=_r("/$locale/apps/derivean/game")({component:()=>{const{locale:t}=In({from:"/$locale"}),{session:e}=Np({from:"/$locale/apps/derivean/game"});return w.jsx(Hk,{logo:w.jsx(Ei,{to:"/$locale/apps/derivean/game",params:{locale:t},children:w.jsx(Yk,{})}),menu:w.jsx(nD,{}),actions:w.jsxs(w.Fragment,{children:[e.name,w.jsx(Ei,{icon:ab,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})},loader({params:{locale:t}}){try{return{session:db.parse(Md.get("session"))}}catch{throw xp({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}}),sD=_r("/$locale/apps/derivean/game/")({component:()=>w.jsx("div",{children:"game dashboard here :)"})});var Dd=t=>t.type==="checkbox",Ua=t=>t instanceof Date,jn=t=>t==null;const e3=t=>typeof t=="object";var rn=t=>!jn(t)&&!Array.isArray(t)&&e3(t)&&!Ua(t),t3=t=>rn(t)&&t.target?Dd(t.target)?t.target.checked:t.target.value:t,oD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,r3=(t,e)=>t.has(oD(e)),aD=t=>{const e=t.constructor&&t.constructor.prototype;return rn(e)&&e.hasOwnProperty("isPrototypeOf")},fb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(fb&&(t instanceof Blob||n))&&(r||rn(t)))if(e=r?[]:{},!r&&!aD(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=Xn(t[o]));else return t;return e}var Yp=t=>Array.isArray(t)?t.filter(Boolean):[],Jr=t=>t===void 0,pt=(t,e,r)=>{if(!e||!rn(t))return r;const n=Yp(e.split(/[,[\].]+?/)).reduce((o,a)=>jn(o)?o:o[a],t);return Jr(n)||n===t?Jr(t[e])?r:t[e]:n},pi=t=>typeof t=="boolean",hb=t=>/^\w*$/.test(t),n3=t=>Yp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vr=(t,e,r)=>{let n=-1;const o=hb(e)?[e]:n3(e),a=o.length,l=a-1;for(;++n<a;){const d=o[n];let p=r;if(n!==l){const m=t[d];p=rn(m)||Array.isArray(m)?m:isNaN(+o[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=p,t=t[d]}return t};const gp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},es={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lD=wr.createContext(null),pb=()=>wr.useContext(lD);var i3=(t,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(o,a,{get:()=>{const l=a;return e._proxyFormState[l]!==es.all&&(e._proxyFormState[l]=!n||es.all),r&&(r[l]=!0),t[l]}});return o},Yn=t=>rn(t)&&!Object.keys(t).length,s3=(t,e,r,n)=>{r(t);const{name:o,...a}=t;return Yn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!n||es.all))},$c=t=>Array.isArray(t)?t:[t],o3=(t,e,r)=>!t||!e||t===e||$c(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function mb(t){const e=wr.useRef(t);e.current=t,wr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function uD(t){const e=pb(),{control:r=e.control,disabled:n,name:o,exact:a}=t||{},[l,d]=wr.useState(r._formState),p=wr.useRef(!0),m=wr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),b=wr.useRef(o);return b.current=o,mb({disabled:n,next:x=>p.current&&o3(b.current,x.name,a)&&s3(x,m.current,r._updateFormState)&&d({...r._formState,...x}),subject:r._subjects.state}),wr.useEffect(()=>(p.current=!0,m.current.isValid&&r._updateValid(!0),()=>{p.current=!1}),[r]),wr.useMemo(()=>i3(l,r,m.current,!1),[l,r])}var bs=t=>typeof t=="string",a3=(t,e,r,n,o)=>bs(t)?(n&&e.watch.add(t),pt(r,t,o)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),pt(r,a))):(n&&(e.watchAll=!0),r);function cD(t){const e=pb(),{control:r=e.control,name:n,defaultValue:o,disabled:a,exact:l}=t||{},d=wr.useRef(n);d.current=n,mb({disabled:a,subject:r._subjects.values,next:b=>{o3(d.current,b.name,l)&&m(Xn(a3(d.current,r._names,b.values||r._formValues,!1,o)))}});const[p,m]=wr.useState(r._getWatch(n,o));return wr.useEffect(()=>r._removeUnmounted()),p}function dD(t){const e=pb(),{name:r,disabled:n,control:o=e.control,shouldUnregister:a}=t,l=r3(o._names.array,r),d=cD({control:o,name:r,defaultValue:pt(o._formValues,r,pt(o._defaultValues,r,t.defaultValue)),exact:!0}),p=uD({control:o,name:r,exact:!0}),m=wr.useRef(o.register(r,{...t.rules,value:d,...pi(t.disabled)?{disabled:t.disabled}:{}})),b=wr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!pt(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!pt(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!pt(p.validatingFields,r)},error:{enumerable:!0,get:()=>pt(p.errors,r)}}),[p,r]),x=wr.useMemo(()=>({name:r,value:d,...pi(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:N=>m.current.onChange({target:{value:t3(N),name:r},type:gp.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:pt(o._formValues,r),name:r},type:gp.BLUR}),ref:N=>{const q=pt(o._fields,r);q&&N&&(q._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:R=>N.setCustomValidity(R),reportValidity:()=>N.reportValidity()})}}),[r,o._formValues,n,p.disabled,d,o._fields]);return wr.useEffect(()=>{const N=o._options.shouldUnregister||a,q=(R,C)=>{const L=pt(o._fields,R);L&&L._f&&(L._f.mount=C)};if(q(r,!0),N){const R=Xn(pt(o._options.defaultValues,r));vr(o._defaultValues,r,R),Jr(pt(o._formValues,r))&&vr(o._formValues,r,R)}return()=>{(l?N&&!o._state.action:N)?o.unregister(r):q(r,!1)}},[r,o,l,a]),wr.useEffect(()=>{pi(n)&&pt(o._fields,r)&&o._updateDisabledField({disabled:n,fields:o._fields,name:r,value:pt(o._fields,r)._f.value})},[n,r,o]),wr.useMemo(()=>({field:x,formState:p,fieldState:b}),[x,p,b])}const Wd=t=>t.render(dD(t));var l3=(t,e,r,n,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:o||!0}}:{},PE=t=>({isOnSubmit:!t||t===es.onSubmit,isOnBlur:t===es.onBlur,isOnChange:t===es.onChange,isOnAll:t===es.all,isOnTouch:t===es.onTouched}),FE=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Uc=(t,e,r,n)=>{for(const o of r||Object.keys(t)){const a=pt(t,o);if(a){const{_f:l,...d}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],o)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(Uc(d,e))break}else if(rn(d)&&Uc(d,e))break}}};var fD=(t,e,r)=>{const n=$c(pt(t,r));return vr(n,"root",e[r]),vr(t,r,n),t},yb=t=>t.type==="file",vs=t=>typeof t=="function",vp=t=>{if(!fb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},kh=t=>bs(t),gb=t=>t.type==="radio",_p=t=>t instanceof RegExp;const LE={value:!1,isValid:!1},jE={value:!0,isValid:!0};var u3=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Jr(t[0].attributes.value)?Jr(t[0].value)||t[0].value===""?jE:{value:t[0].value,isValid:!0}:jE:LE}return LE};const ME={isValid:!1,value:null};var c3=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ME):ME;function DE(t,e,r="validate"){if(kh(t)||Array.isArray(t)&&t.every(kh)||pi(t)&&!t)return{type:r,message:kh(t)?t:"",ref:e}}var Wl=t=>rn(t)&&!_p(t)?t:{value:t,message:""},WE=async(t,e,r,n,o)=>{const{ref:a,refs:l,required:d,maxLength:p,minLength:m,min:b,max:x,pattern:N,validate:q,name:R,valueAsNumber:C,mount:L,disabled:P}=t._f,T=pt(e,R);if(!L||P)return{};const M=l?l[0]:a,U=re=>{n&&M.reportValidity&&(M.setCustomValidity(pi(re)?"":re||""),M.reportValidity())},V={},B=gb(a),K=Dd(a),le=B||K,H=(C||yb(a))&&Jr(a.value)&&Jr(T)||vp(a)&&a.value===""||T===""||Array.isArray(T)&&!T.length,ne=l3.bind(null,R,r,V),W=(re,Z,pe,Re=Xs.maxLength,Ce=Xs.minLength)=>{const Pe=re?Z:pe;V[R]={type:re?Re:Ce,message:Pe,ref:a,...ne(re?Re:Ce,Pe)}};if(o?!Array.isArray(T)||!T.length:d&&(!le&&(H||jn(T))||pi(T)&&!T||K&&!u3(l).isValid||B&&!c3(l).isValid)){const{value:re,message:Z}=kh(d)?{value:!!d,message:d}:Wl(d);if(re&&(V[R]={type:Xs.required,message:Z,ref:M,...ne(Xs.required,Z)},!r))return U(Z),V}if(!H&&(!jn(b)||!jn(x))){let re,Z;const pe=Wl(x),Re=Wl(b);if(!jn(T)&&!isNaN(T)){const Ce=a.valueAsNumber||T&&+T;jn(pe.value)||(re=Ce>pe.value),jn(Re.value)||(Z=Ce<Re.value)}else{const Ce=a.valueAsDate||new Date(T),Pe=Ee=>new Date(new Date().toDateString()+" "+Ee),ve=a.type=="time",me=a.type=="week";bs(pe.value)&&T&&(re=ve?Pe(T)>Pe(pe.value):me?T>pe.value:Ce>new Date(pe.value)),bs(Re.value)&&T&&(Z=ve?Pe(T)<Pe(Re.value):me?T<Re.value:Ce<new Date(Re.value))}if((re||Z)&&(W(!!re,pe.message,Re.message,Xs.max,Xs.min),!r))return U(V[R].message),V}if((p||m)&&!H&&(bs(T)||o&&Array.isArray(T))){const re=Wl(p),Z=Wl(m),pe=!jn(re.value)&&T.length>+re.value,Re=!jn(Z.value)&&T.length<+Z.value;if((pe||Re)&&(W(pe,re.message,Z.message),!r))return U(V[R].message),V}if(N&&!H&&bs(T)){const{value:re,message:Z}=Wl(N);if(_p(re)&&!T.match(re)&&(V[R]={type:Xs.pattern,message:Z,ref:a,...ne(Xs.pattern,Z)},!r))return U(Z),V}if(q){if(vs(q)){const re=await q(T,e),Z=DE(re,M);if(Z&&(V[R]={...Z,...ne(Xs.validate,Z.message)},!r))return U(Z.message),V}else if(rn(q)){let re={};for(const Z in q){if(!Yn(re)&&!r)break;const pe=DE(await q[Z](T,e),M,Z);pe&&(re={...pe,...ne(Z,pe.message)},U(pe.message),r&&(V[R]=re))}if(!Yn(re)&&(V[R]={ref:M,...re},!r))return V}}return U(!0),V};function hD(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Jr(t)?n++:t[e[n++]];return t}function pD(t){for(const e in t)if(t.hasOwnProperty(e)&&!Jr(t[e]))return!1;return!0}function dn(t,e){const r=Array.isArray(e)?e:hb(e)?[e]:n3(e),n=r.length===1?t:hD(t,r),o=r.length-1,a=r[o];return n&&delete n[a],o!==0&&(rn(n)&&Yn(n)||Array.isArray(n)&&pD(n))&&dn(t,r.slice(0,-1)),t}var uv=()=>{let t=[];return{get observers(){return t},next:o=>{for(const a of t)a.next&&a.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(a=>a!==o)}}),unsubscribe:()=>{t=[]}}},o_=t=>jn(t)||!e3(t);function Uo(t,e){if(o_(t)||o_(e))return t===e;if(Ua(t)&&Ua(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const o of r){const a=t[o];if(!n.includes(o))return!1;if(o!=="ref"){const l=e[o];if(Ua(a)&&Ua(l)||rn(a)&&rn(l)||Array.isArray(a)&&Array.isArray(l)?!Uo(a,l):a!==l)return!1}}return!0}var d3=t=>t.type==="select-multiple",mD=t=>gb(t)||Dd(t),cv=t=>vp(t)&&t.isConnected,f3=t=>{for(const e in t)if(vs(t[e]))return!0;return!1};function bp(t,e={}){const r=Array.isArray(t);if(rn(t)||r)for(const n in t)Array.isArray(t[n])||rn(t[n])&&!f3(t[n])?(e[n]=Array.isArray(t[n])?[]:{},bp(t[n],e[n])):jn(t[n])||(e[n]=!0);return e}function h3(t,e,r){const n=Array.isArray(t);if(rn(t)||n)for(const o in t)Array.isArray(t[o])||rn(t[o])&&!f3(t[o])?Jr(e)||o_(r[o])?r[o]=Array.isArray(t[o])?bp(t[o],[]):{...bp(t[o])}:h3(t[o],jn(e)?{}:e[o],r[o]):r[o]=!Uo(t[o],e[o]);return r}var Ec=(t,e)=>h3(t,e,bp(e)),p3=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Jr(t)?t:e?t===""?NaN:t&&+t:r&&bs(t)?new Date(t):n?n(t):t;function dv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return yb(e)?e.files:gb(e)?c3(t.refs).value:d3(e)?[...e.selectedOptions].map(({value:r})=>r):Dd(e)?u3(t.refs).value:p3(Jr(e.value)?t.ref.value:e.value,t)}var yD=(t,e,r,n)=>{const o={};for(const a of t){const l=pt(e,a);l&&vr(o,a,l._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},Nc=t=>Jr(t)?t:_p(t)?t.source:rn(t)?_p(t.value)?t.value.source:t.value:t;const BE="AsyncFunction";var gD=t=>!!t&&!!t.validate&&!!(vs(t.validate)&&t.validate.constructor.name===BE||rn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===BE)),vD=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function zE(t,e,r){const n=pt(t,r);if(n||hb(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),l=pt(e,a),d=pt(t,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(d&&d.type)return{name:a,error:d};o.pop()}return{name:r}}var _D=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,bD=(t,e)=>!Yp(pt(t,e)).length&&dn(t,e);const wD={mode:es.onSubmit,reValidateMode:es.onChange,shouldFocusError:!0};function xD(t={}){let e={...wD,...t},r={submitCount:0,isDirty:!1,isLoading:vs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},o=rn(e.defaultValues)||rn(e.values)?Xn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Xn(o),l={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,m=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:uv(),array:uv(),state:uv()},N=PE(e.mode),q=PE(e.reValidateMode),R=e.criteriaMode===es.all,C=se=>ae=>{clearTimeout(m),m=setTimeout(se,ae)},L=async se=>{if(!e.disabled&&(b.isValid||se)){const ae=e.resolver?Yn((await le()).errors):await ne(n,!0);ae!==r.isValid&&x.state.next({isValid:ae})}},P=(se,ae)=>{!e.disabled&&(b.isValidating||b.validatingFields)&&((se||Array.from(d.mount)).forEach(ye=>{ye&&(ae?vr(r.validatingFields,ye,ae):dn(r.validatingFields,ye))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Yn(r.validatingFields)}))},T=(se,ae=[],ye,Oe,je=!0,Ge=!0)=>{if(Oe&&ye&&!e.disabled){if(l.action=!0,Ge&&Array.isArray(pt(n,se))){const _t=ye(pt(n,se),Oe.argA,Oe.argB);je&&vr(n,se,_t)}if(Ge&&Array.isArray(pt(r.errors,se))){const _t=ye(pt(r.errors,se),Oe.argA,Oe.argB);je&&vr(r.errors,se,_t),bD(r.errors,se)}if(b.touchedFields&&Ge&&Array.isArray(pt(r.touchedFields,se))){const _t=ye(pt(r.touchedFields,se),Oe.argA,Oe.argB);je&&vr(r.touchedFields,se,_t)}b.dirtyFields&&(r.dirtyFields=Ec(o,a)),x.state.next({name:se,isDirty:re(se,ae),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(a,se,ae)},M=(se,ae)=>{vr(r.errors,se,ae),x.state.next({errors:r.errors})},U=se=>{r.errors=se,x.state.next({errors:r.errors,isValid:!1})},V=(se,ae,ye,Oe)=>{const je=pt(n,se);if(je){const Ge=pt(a,se,Jr(ye)?pt(o,se):ye);Jr(Ge)||Oe&&Oe.defaultChecked||ae?vr(a,se,ae?Ge:dv(je._f)):Re(se,Ge),l.mount&&L()}},B=(se,ae,ye,Oe,je)=>{let Ge=!1,_t=!1;const Dt={name:se};if(!e.disabled){const mr=!!(pt(n,se)&&pt(n,se)._f&&pt(n,se)._f.disabled);if(!ye||Oe){b.isDirty&&(_t=r.isDirty,r.isDirty=Dt.isDirty=re(),Ge=_t!==Dt.isDirty);const cr=mr||Uo(pt(o,se),ae);_t=!!(!mr&&pt(r.dirtyFields,se)),cr||mr?dn(r.dirtyFields,se):vr(r.dirtyFields,se,!0),Dt.dirtyFields=r.dirtyFields,Ge=Ge||b.dirtyFields&&_t!==!cr}if(ye){const cr=pt(r.touchedFields,se);cr||(vr(r.touchedFields,se,ye),Dt.touchedFields=r.touchedFields,Ge=Ge||b.touchedFields&&cr!==ye)}Ge&&je&&x.state.next(Dt)}return Ge?Dt:{}},K=(se,ae,ye,Oe)=>{const je=pt(r.errors,se),Ge=b.isValid&&pi(ae)&&r.isValid!==ae;if(e.delayError&&ye?(p=C(()=>M(se,ye)),p(e.delayError)):(clearTimeout(m),p=null,ye?vr(r.errors,se,ye):dn(r.errors,se)),(ye?!Uo(je,ye):je)||!Yn(Oe)||Ge){const _t={...Oe,...Ge&&pi(ae)?{isValid:ae}:{},errors:r.errors,name:se};r={...r,..._t},x.state.next(_t)}},le=async se=>{P(se,!0);const ae=await e.resolver(a,e.context,yD(se||d.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return P(se),ae},H=async se=>{const{errors:ae}=await le(se);if(se)for(const ye of se){const Oe=pt(ae,ye);Oe?vr(r.errors,ye,Oe):dn(r.errors,ye)}else r.errors=ae;return ae},ne=async(se,ae,ye={valid:!0})=>{for(const Oe in se){const je=se[Oe];if(je){const{_f:Ge,..._t}=je;if(Ge){const Dt=d.array.has(Ge.name),mr=je._f&&gD(je._f);mr&&b.validatingFields&&P([Oe],!0);const cr=await WE(je,a,R,e.shouldUseNativeValidation&&!ae,Dt);if(mr&&b.validatingFields&&P([Oe]),cr[Ge.name]&&(ye.valid=!1,ae))break;!ae&&(pt(cr,Ge.name)?Dt?fD(r.errors,cr,Ge.name):vr(r.errors,Ge.name,cr[Ge.name]):dn(r.errors,Ge.name))}!Yn(_t)&&await ne(_t,ae,ye)}}return ye.valid},W=()=>{for(const se of d.unMount){const ae=pt(n,se);ae&&(ae._f.refs?ae._f.refs.every(ye=>!cv(ye)):!cv(ae._f.ref))&&mt(se)}d.unMount=new Set},re=(se,ae)=>!e.disabled&&(se&&ae&&vr(a,se,ae),!Uo(Q(),o)),Z=(se,ae,ye)=>a3(se,d,{...l.mount?a:Jr(ae)?o:bs(se)?{[se]:ae}:ae},ye,ae),pe=se=>Yp(pt(l.mount?a:o,se,e.shouldUnregister?pt(o,se,[]):[])),Re=(se,ae,ye={})=>{const Oe=pt(n,se);let je=ae;if(Oe){const Ge=Oe._f;Ge&&(!Ge.disabled&&vr(a,se,p3(ae,Ge)),je=vp(Ge.ref)&&jn(ae)?"":ae,d3(Ge.ref)?[...Ge.ref.options].forEach(_t=>_t.selected=je.includes(_t.value)):Ge.refs?Dd(Ge.ref)?Ge.refs.length>1?Ge.refs.forEach(_t=>(!_t.defaultChecked||!_t.disabled)&&(_t.checked=Array.isArray(je)?!!je.find(Dt=>Dt===_t.value):je===_t.value)):Ge.refs[0]&&(Ge.refs[0].checked=!!je):Ge.refs.forEach(_t=>_t.checked=_t.value===je):yb(Ge.ref)?Ge.ref.value="":(Ge.ref.value=je,Ge.ref.type||x.values.next({name:se,values:{...a}})))}(ye.shouldDirty||ye.shouldTouch)&&B(se,je,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Ee(se)},Ce=(se,ae,ye)=>{for(const Oe in ae){const je=ae[Oe],Ge=`${se}.${Oe}`,_t=pt(n,Ge);(d.array.has(se)||rn(je)||_t&&!_t._f)&&!Ua(je)?Ce(Ge,je,ye):Re(Ge,je,ye)}},Pe=(se,ae,ye={})=>{const Oe=pt(n,se),je=d.array.has(se),Ge=Xn(ae);vr(a,se,Ge),je?(x.array.next({name:se,values:{...a}}),(b.isDirty||b.dirtyFields)&&ye.shouldDirty&&x.state.next({name:se,dirtyFields:Ec(o,a),isDirty:re(se,Ge)})):Oe&&!Oe._f&&!jn(Ge)?Ce(se,Ge,ye):Re(se,Ge,ye),FE(se,d)&&x.state.next({...r}),x.values.next({name:l.mount?se:void 0,values:{...a}})},ve=async se=>{l.mount=!0;const ae=se.target;let ye=ae.name,Oe=!0;const je=pt(n,ye),Ge=()=>ae.type?dv(je._f):t3(se),_t=Dt=>{Oe=Number.isNaN(Dt)||Ua(Dt)&&isNaN(Dt.getTime())||Uo(Dt,pt(a,ye,Dt))};if(je){let Dt,mr;const cr=Ge(),Ar=se.type===gp.BLUR||se.type===gp.FOCUS_OUT,Tn=!vD(je._f)&&!e.resolver&&!pt(r.errors,ye)&&!je._f.deps||_D(Ar,pt(r.touchedFields,ye),r.isSubmitted,q,N),Xr=FE(ye,d,Ar);vr(a,ye,cr),Ar?(je._f.onBlur&&je._f.onBlur(se),p&&p(0)):je._f.onChange&&je._f.onChange(se);const $n=B(ye,cr,Ar,!1),js=!Yn($n)||Xr;if(!Ar&&x.values.next({name:ye,type:se.type,values:{...a}}),Tn)return b.isValid&&(e.mode==="onBlur"?Ar&&L():L()),js&&x.state.next({name:ye,...Xr?{}:$n});if(!Ar&&Xr&&x.state.next({...r}),e.resolver){const{errors:yn}=await le([ye]);if(_t(cr),Oe){const Ut=zE(r.errors,n,ye),yo=zE(yn,n,Ut.name||ye);Dt=yo.error,ye=yo.name,mr=Yn(yn)}}else P([ye],!0),Dt=(await WE(je,a,R,e.shouldUseNativeValidation))[ye],P([ye]),_t(cr),Oe&&(Dt?mr=!1:b.isValid&&(mr=await ne(n,!0)));Oe&&(je._f.deps&&Ee(je._f.deps),K(ye,mr,Dt,$n))}},me=(se,ae)=>{if(pt(r.errors,ae)&&se.focus)return se.focus(),1},Ee=async(se,ae={})=>{let ye,Oe;const je=$c(se);if(e.resolver){const Ge=await H(Jr(se)?se:je);ye=Yn(Ge),Oe=se?!je.some(_t=>pt(Ge,_t)):ye}else se?(Oe=(await Promise.all(je.map(async Ge=>{const _t=pt(n,Ge);return await ne(_t&&_t._f?{[Ge]:_t}:_t)}))).every(Boolean),!(!Oe&&!r.isValid)&&L()):Oe=ye=await ne(n);return x.state.next({...!bs(se)||b.isValid&&ye!==r.isValid?{}:{name:se},...e.resolver||!se?{isValid:ye}:{},errors:r.errors}),ae.shouldFocus&&!Oe&&Uc(n,me,se?je:d.mount),Oe},Q=se=>{const ae={...l.mount?a:o};return Jr(se)?ae:bs(se)?pt(ae,se):se.map(ye=>pt(ae,ye))},xe=(se,ae)=>({invalid:!!pt((ae||r).errors,se),isDirty:!!pt((ae||r).dirtyFields,se),error:pt((ae||r).errors,se),isValidating:!!pt(r.validatingFields,se),isTouched:!!pt((ae||r).touchedFields,se)}),lt=se=>{se&&$c(se).forEach(ae=>dn(r.errors,ae)),x.state.next({errors:se?r.errors:{}})},at=(se,ae,ye)=>{const Oe=(pt(n,se,{_f:{}})._f||{}).ref,je=pt(r.errors,se)||{},{ref:Ge,message:_t,type:Dt,...mr}=je;vr(r.errors,se,{...mr,...ae,ref:Oe}),x.state.next({name:se,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Oe&&Oe.focus&&Oe.focus()},dt=(se,ae)=>vs(se)?x.values.subscribe({next:ye=>se(Z(void 0,ae),ye)}):Z(se,ae,!0),mt=(se,ae={})=>{for(const ye of se?$c(se):d.mount)d.mount.delete(ye),d.array.delete(ye),ae.keepValue||(dn(n,ye),dn(a,ye)),!ae.keepError&&dn(r.errors,ye),!ae.keepDirty&&dn(r.dirtyFields,ye),!ae.keepTouched&&dn(r.touchedFields,ye),!ae.keepIsValidating&&dn(r.validatingFields,ye),!e.shouldUnregister&&!ae.keepDefaultValue&&dn(o,ye);x.values.next({values:{...a}}),x.state.next({...r,...ae.keepDirty?{isDirty:re()}:{}}),!ae.keepIsValid&&L()},ft=({disabled:se,name:ae,field:ye,fields:Oe,value:je})=>{if(pi(se)&&l.mount||se){const Ge=se?void 0:Jr(je)?dv(ye?ye._f:pt(Oe,ae)._f):je;(se||!se&&!Jr(Ge))&&vr(a,ae,Ge),B(ae,Ge,!1,!1,!0)}},gt=(se,ae={})=>{let ye=pt(n,se);const Oe=pi(ae.disabled)||pi(e.disabled);return vr(n,se,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:se}},name:se,mount:!0,...ae}}),d.mount.add(se),ye?ft({field:ye,disabled:pi(ae.disabled)?ae.disabled:e.disabled,name:se,value:ae.value}):V(se,!0,ae.value),{...Oe?{disabled:ae.disabled||e.disabled}:{},...e.progressive?{required:!!ae.required,min:Nc(ae.min),max:Nc(ae.max),minLength:Nc(ae.minLength),maxLength:Nc(ae.maxLength),pattern:Nc(ae.pattern)}:{},name:se,onChange:ve,onBlur:ve,ref:je=>{if(je){gt(se,ae),ye=pt(n,se);const Ge=Jr(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,_t=mD(Ge),Dt=ye._f.refs||[];if(_t?Dt.find(mr=>mr===Ge):Ge===ye._f.ref)return;vr(n,se,{_f:{...ye._f,..._t?{refs:[...Dt.filter(cv),Ge,...Array.isArray(pt(o,se))?[{}]:[]],ref:{type:Ge.type,name:se}}:{ref:Ge}}}),V(se,!1,void 0,Ge)}else ye=pt(n,se,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||ae.shouldUnregister)&&!(r3(d.array,se)&&l.action)&&d.unMount.add(se)}}},Tt=()=>e.shouldFocusError&&Uc(n,me,d.mount),vt=se=>{pi(se)&&(x.state.next({disabled:se}),Uc(n,(ae,ye)=>{const Oe=pt(n,ye);Oe&&(ae.disabled=Oe._f.disabled||se,Array.isArray(Oe._f.refs)&&Oe._f.refs.forEach(je=>{je.disabled=Oe._f.disabled||se}))},0,!1))},yt=(se,ae)=>async ye=>{let Oe;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){ae&&await ae({...r.errors},ye);return}let je=Xn(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:Ge,values:_t}=await le();r.errors=Ge,je=_t}else await ne(n);if(dn(r.errors,"root"),Yn(r.errors)){x.state.next({errors:{}});try{await se(je,ye)}catch(Ge){Oe=Ge}}else ae&&await ae({...r.errors},ye),Tt(),setTimeout(Tt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yn(r.errors)&&!Oe,submitCount:r.submitCount+1,errors:r.errors}),Oe)throw Oe},Rt=(se,ae={})=>{pt(n,se)&&(Jr(ae.defaultValue)?Pe(se,Xn(pt(o,se))):(Pe(se,ae.defaultValue),vr(o,se,Xn(ae.defaultValue))),ae.keepTouched||dn(r.touchedFields,se),ae.keepDirty||(dn(r.dirtyFields,se),r.isDirty=ae.defaultValue?re(se,Xn(pt(o,se))):re()),ae.keepError||(dn(r.errors,se),b.isValid&&L()),x.state.next({...r}))},qt=(se,ae={})=>{const ye=se?Xn(se):o,Oe=Xn(ye),je=Yn(se),Ge=je?o:Oe;if(ae.keepDefaultValues||(o=ye),!ae.keepValues){if(ae.keepDirtyValues){const _t=new Set([...d.mount,...Object.keys(Ec(o,a))]);for(const Dt of Array.from(_t))pt(r.dirtyFields,Dt)?vr(Ge,Dt,pt(a,Dt)):Pe(Dt,pt(Ge,Dt))}else{if(fb&&Jr(se))for(const _t of d.mount){const Dt=pt(n,_t);if(Dt&&Dt._f){const mr=Array.isArray(Dt._f.refs)?Dt._f.refs[0]:Dt._f.ref;if(vp(mr)){const cr=mr.closest("form");if(cr){cr.reset();break}}}}n={}}a=e.shouldUnregister?ae.keepDefaultValues?Xn(o):{}:Xn(Ge),x.array.next({values:{...Ge}}),x.values.next({values:{...Ge}})}d={mount:ae.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!b.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues,l.watch=!!e.shouldUnregister,x.state.next({submitCount:ae.keepSubmitCount?r.submitCount:0,isDirty:je?!1:ae.keepDirty?r.isDirty:!!(ae.keepDefaultValues&&!Uo(se,o)),isSubmitted:ae.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:je?{}:ae.keepDirtyValues?ae.keepDefaultValues&&a?Ec(o,a):r.dirtyFields:ae.keepDefaultValues&&se?Ec(o,se):ae.keepDirty?r.dirtyFields:{},touchedFields:ae.keepTouched?r.touchedFields:{},errors:ae.keepErrors?r.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Jt=(se,ae)=>qt(vs(se)?se(a):se,ae);return{control:{register:gt,unregister:mt,getFieldState:xe,handleSubmit:yt,setError:at,_executeSchema:le,_getWatch:Z,_getDirty:re,_updateValid:L,_removeUnmounted:W,_updateFieldArray:T,_updateDisabledField:ft,_getFieldArray:pe,_reset:qt,_resetDefaultValues:()=>vs(e.defaultValues)&&e.defaultValues().then(se=>{Jt(se,e.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:se=>{r={...r,...se}},_disableForm:vt,_subjects:x,_proxyFormState:b,_setErrors:U,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(se){l=se},get _defaultValues(){return o},get _names(){return d},set _names(se){d=se},get _formState(){return r},set _formState(se){r=se},get _options(){return e},set _options(se){e={...e,...se}}},trigger:Ee,register:gt,handleSubmit:yt,watch:dt,setValue:Pe,getValues:Q,reset:Jt,resetField:Rt,clearErrors:lt,unregister:mt,setError:at,setFocus:(se,ae={})=>{const ye=pt(n,se),Oe=ye&&ye._f;if(Oe){const je=Oe.refs?Oe.refs[0]:Oe.ref;je.focus&&(je.focus(),ae.shouldSelect&&vs(je.select)&&je.select())}},getFieldState:xe}}function po(t={}){const e=wr.useRef(void 0),r=wr.useRef(void 0),[n,o]=wr.useState({isDirty:!1,isValidating:!1,isLoading:vs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:vs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...xD(t),formState:n});const a=e.current.control;return a._options=t,mb({subject:a._subjects.state,next:l=>{s3(l,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),wr.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),wr.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),wr.useEffect(()=>{t.values&&!Uo(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,o(l=>({...l}))):a._resetDefaultValues()},[t.values,a]),wr.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),wr.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),wr.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=i3(n,a),e.current}const $E=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},m3=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?$E(n.ref,r,t):n.refs&&n.refs.forEach(o=>$E(o,r,t))}},SD=(t,e)=>{e.shouldUseNativeValidation&&m3(t,e);const r={};for(const n in t){const o=pt(e.fields,n),a=Object.assign(t[n]||{},{ref:o&&o.ref});if(ED(e.names||Object.keys(t),n)){const l=Object.assign({},pt(r,n));vr(l,"root",a),vr(r,n,l)}else vr(r,n,a)}return r},ED=(t,e)=>t.some(r=>r.startsWith(e+"."));var ND=function(t,e){for(var r={};t.length;){var n=t[0],o=n.code,a=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];r[l]={message:d.message,type:d.code}}else r[l]={message:a,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(b){return b.errors.forEach(function(x){return t.push(x)})}),e){var p=r[l].types,m=p&&p[n.code];r[l]=l3(l,e,r,o,m?[].concat(m,n.message):n.message)}t.shift()}return r},mo=function(t,e,r){return r===void 0&&(r={}),function(n,o,a){try{return Promise.resolve(function(l,d){try{var p=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return a.shouldUseNativeValidation&&m3({},a),{errors:{},values:r.raw?n:m}})}catch(m){return d(m)}return p&&p.then?p.then(void 0,d):p}(0,function(l){if(function(d){return Array.isArray(d?.errors)}(l))return{values:{},errors:SD(ND(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const kD=({repository:t})=>Tc({mutationKey:["useRegisterMutation"],async mutationFn({login:e,name:r,password1:n}){return db.parse(await t.create({shape:{name:r,login:e,password:n},entity:{name:r,login:e,password:n}}))}}),qD=Ue.object({name:Ue.string().min(1),login:Ue.string().min(1),password1:Ue.string().min(1),password2:Ue.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),CD=({repository:t,onSuccess:e})=>{const r=kD({repository:t}),n=po({resolver:mo(qD)}),o=ho({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return w.jsxs("form",{className:o.base(),onSubmit:n.handleSubmit(async a=>r.mutateAsync(a,{onSuccess:e,onError:l=>{q_({error:l,errors:[b_({error:l,schema:k_,onError:({data:d})=>{n.setError("root",{message:d.message})}})],onError:d=>{n.setError("root",{message:d.message})}})}}).catch(()=>{})),children:[w.jsx(Fs,{variant:{highlight:!0},error:n.formState.errors.root}),w.jsx($r,{formState:n.formState,name:"name",label:w.jsx(he,{label:"Name (label)"}),children:w.jsx("input",{type:"text",className:o.input(),...n.register("name")})}),w.jsx($r,{formState:n.formState,name:"login",label:w.jsx(he,{label:"Login (label)"}),children:w.jsx("input",{type:"text",className:o.input(),...n.register("login")})}),w.jsx($r,{formState:n.formState,name:"password1",label:w.jsx(he,{label:"Password 1 (label)"}),children:w.jsx("input",{type:"password",className:o.input(),...n.register("password1")})}),w.jsx($r,{formState:n.formState,name:"password2",label:w.jsx(he,{label:"Password 2 (label)"}),children:w.jsx("input",{type:"password",className:o.input(),...n.register("password2")})}),w.jsx(zn,{type:"submit",children:w.jsx(he,{label:"Register (submit)"})})]})},RD=As({entity:Is.merge(Ue.object({name:Ue.string().min(1),login:Ue.string().min(1),password:Ue.string().min(1)})),shape:Ue.object({name:Ue.string().min(1),login:Ue.string().min(1),password:Ue.string().min(1)}),filter:Ts.merge(Ue.object({login:Ue.string().optional(),password:Ue.string().optional()}))}),OD=({database:t})=>Ls({name:"UserRepository",schema:RD,meta:{where:{id:"user.id",idIn:"user.id",login:"user.login",password:"user.password"}},insert(){return t.kysely.insertInto("User")},update(){return t.kysely.updateTable("User")},remove(){return t.kysely.deleteFrom("User")},select(){return t.kysely.selectFrom("User as user").selectAll("user")},async toCreate({entity:{password:e,...r}}){return{...r,password:e?o1.hash(e):void 0}}}),y3=OD({database:lr}),AD=_r("/$locale/apps/derivean/public/register")({component:()=>{const t=m_();return w.jsx("div",{className:x_(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:w.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[w.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),w.jsx(CD,{repository:y3,onSuccess:async e=>{Md.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),ID=_r("/$locale/apps/derivean/public/logout")({pendingComponent(){return w.jsx("div",{className:x_(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:w.jsx(Gk,{icon:ab,textTitle:w.jsx(he,{label:"Logout (label)"}),textMessage:w.jsx(he,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw Md.remove("session"),xp({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),TD=({repository:t})=>Tc({mutationKey:["useLoginMutation"],async mutationFn({login:e,password:r}){const n=await t.fetch({query:{where:{login:e,password:o1.hash(r)}}});if(!n)throw new Error("Invalid login or password");return{id:n.id,login:n.login,name:n.name}}}),PD=Ue.object({login:Ue.string().min(1),password:Ue.string().min(1)}),FD=({repository:t,onSuccess:e})=>{const{locale:r}=In({from:"/$locale"}),n=TD({repository:t}),o=po({resolver:mo(PD)}),a=ho({isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting}).slots;return w.jsxs("form",{className:a.base(),onSubmit:o.handleSubmit(async l=>n.mutateAsync(l,{onSuccess:e,onError:d=>{q_({error:d,errors:[b_({error:d,schema:k_,onError:({data:p})=>{o.setError("root",{message:p.message})}})],onError:p=>{o.setError("root",{message:p.message})}})}}).catch(()=>{})),children:[w.jsx(Fs,{variant:{highlight:!0},error:o.formState.errors.root}),w.jsx($r,{formState:o.formState,name:"login",label:w.jsx(he,{label:"Login (label)"}),children:w.jsx("input",{type:"text",className:a.input(),...o.register("login")})}),w.jsx($r,{formState:o.formState,name:"password",label:w.jsx(he,{label:"Password (label)"}),children:w.jsx("input",{type:"password",className:a.input(),...o.register("password")})}),w.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[w.jsx(Ei,{to:"/$locale/apps/derivean/public/register",params:{locale:r},children:w.jsx(he,{label:"Register (link)"})}),w.jsx(zn,{type:"submit",children:w.jsx(he,{label:"Login (submit)"})})]})]})},LD=_r("/$locale/apps/derivean/public/login")({component:()=>{const t=m_();return w.jsx("div",{className:x_(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:w.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[w.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),w.jsx(FD,{repository:y3,onSuccess:async e=>{Md.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),jD=_r("/$locale/apps/derivean/root/slot/$id")({async loader(){}}),MD=_r("/$locale/apps/derivean/root/resource/$id")({component:()=>w.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),DD=_r("/$locale/apps/derivean/root/item/$id")({async loader(){}}),WD=({entity:t,...e})=>{const{locale:r}=In({from:"/$locale"});return w.jsxs(Xp,{...e,children:[w.jsx(hi,{icon:xu,to:"/$locale/apps/derivean/root/inventory/$id/view",params:{locale:r,id:t.id},children:w.jsx(he,{label:"Inventory detail (menu)"})}),w.jsx(hi,{icon:_d,to:"/$locale/apps/derivean/root/inventory/$id/slot/list",params:{locale:r,id:t.id},children:w.jsx(he,{label:"Slot list (menu)"})})]})},BD=t=>{const{locale:e}=In({from:"/$locale"});return w.jsx(Kk,{title:({entity:r})=>w.jsx(Zk,{icon:xu,title:r.name}),actions:()=>w.jsx(w.Fragment,{children:w.jsx(Ei,{icon:Vk,to:"/$locale/apps/derivean/root/inventory/list",params:{locale:e},children:w.jsx(he,{label:"Inventory list (label)"})})}),...t})},vb=As({entity:Is.merge(Ue.object({name:Ue.string().min(1)})),shape:Ue.object({name:Ue.string().min(1)}),filter:Ts.merge(Ue.object({name:Ue.string().optional(),slotId:Ue.string().optional()}))}),bd=Ls({name:"InventoryRepository",schema:vb,meta:{where:{id:"inventory.id",idIn:"inventory.id",name:"inventory.name",slotId:"inventorySlot.slotId"},fulltext:["inventory.name","inventory.id"]},insert(){return lr.kysely.insertInto("Inventory")},update(){return lr.kysely.updateTable("Inventory")},remove(){return lr.kysely.deleteFrom("Inventory")},select({query:{where:t,filter:e}}){const r=lr.kysely.selectFrom("Inventory as inventory");return t?.slotId||e?.slotId?r.leftJoin("InventorySlot as inventorySlot","inventorySlot.inventoryId","inventory.id"):r}}),g3=_r("/$locale/apps/derivean/root/inventory/$id")({component(){const{tva:t}=Os({from:"__root__"}),{inventory:e}=g3.useLoaderData(),r=t().slots;return w.jsxs("div",{className:r.base(),children:[w.jsx(BD,{entity:e}),w.jsx(WD,{entity:e}),w.jsx(Nu,{})]})},async loader({context:{queryClient:t},params:{id:e}}){return{inventory:await bd.withFetchLoader({queryClient:t,where:{id:e}})}}}),em=As({entity:TP,shape:Ue.object({code:Ue.string().min(1),label:Ue.string().min(1),group:Ue.string().nullish(),sort:Ue.number()}),filter:Ts.merge(Ue.object({code:Ue.string().optional(),group:Ue.string().optional()}))}),UE=Is.merge(Ue.object({name:Ue.string().min(1),description:Ue.string().optional()})),tm=As({entity:UE,output:UE.merge(Ue.object({tagIds:Ue.array(Ue.string()),tags:Ue.array(em.output)})),shape:Ue.object({name:Ue.string().min(1),description:Ue.string().optional(),tagIds:Ue.array(Ue.string()).optional()}),filter:Ts}),zD=As({entity:Is.merge(Ue.object({resourceId:Ue.string().min(1),tagId:Ue.string().min(1)})),shape:Ue.object({resourceId:Ue.string().min(1),tagId:Ue.string().min(1)}),filter:Ts.merge(Ue.object({resourceId:Ue.string().optional(),tagId:Ue.string().optional()}))}),qh=Ls({name:"ResourceTagRepository",schema:zD,meta:{where:{id:"resourceTag.id",idIn:"resourceTag.id",resourceId:"resourceTag.resourceId",tagId:"resourceTag.tagId"},fulltext:["resource.id","resource.name","resourceTag.id","tag.code","tag.group","tag.id","tag.label"]},insert(){return lr.kysely.insertInto("ResourceTag")},update(){return lr.kysely.updateTable("ResourceTag")},remove(){return lr.kysely.deleteFrom("ResourceTag")},select(){return lr.kysely.selectFrom("ResourceTag as resourceTag").selectAll("resourceTag").leftJoin("Resource as resource","resource.id","resourceTag.resourceId").leftJoin("Tag as tag","tag.id","resourceTag.tagId")}}),io=Ls({name:"Resource",schema:tm,meta:{where:{id:"resource.id",idIn:"resource.id"},fulltext:["resource.description","resource.name","resource.id"]},insert(){return lr.kysely.insertInto("Resource")},update(){return lr.kysely.updateTable("Resource")},remove(){return lr.kysely.deleteFrom("Resource")},select(){return lr.kysely.selectFrom("Resource as resource").selectAll("resource")},async toOutput({entity:t}){const e=(await qh.list({query:{where:{resourceId:t.id}}})).map(({tagId:r})=>r);return{...t,tagIds:e,tags:await uu.list({query:{where:{idIn:e}}})}},event:{async onPostCreate({entity:t,shape:e}){await Promise.all(e.tagIds?.forEach(async r=>qh.create({entity:{resourceId:t.id,tagId:r},shape:{resourceId:t.id,tagId:r}}))||[])},async onPostPatch({entity:t,shape:e}){Array.isArray(e.tagIds)&&(await lr.kysely.deleteFrom("ResourceTag").where("resourceId","=",t.id).execute(),await Promise.all(e.tagIds.map(async r=>qh.create({entity:{resourceId:t.id,tagId:r},shape:{resourceId:t.id,tagId:r}}))))}}}),$D=({database:t,repository:e})=>Ls({name:"TagRepository",schema:em,meta:{where:{code:"tag.code",group:"tag.group",id:"tag.id",idIn:"tag.id"},fulltext:["tag.code","tag.label","tag.group","tag.id"]},insert(){return t.kysely.insertInto("Tag")},update(){return t.kysely.updateTable("Tag")},remove(){return t.kysely.deleteFrom("Tag")},select(){return t.kysely.selectFrom("Tag as tag").selectAll("tag")},...e}),uu=$D({database:lr,repository:{invalidate:[...io.invalidate,...qh.invalidate]}}),VE=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=po({resolver:mo(em.shape),defaultValues:{sort:0,...e}}),d=G.useContext(as),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return w.jsxs("form",{className:p.base(),onSubmit:al({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:d})}}),children:[w.jsx(Fs,{variant:{highlight:!0},error:l.formState.errors.root}),w.jsx($r,{formState:l.formState,name:"code",label:w.jsx(he,{label:"Tag code (label)"}),required:!0,children:w.jsx("input",{type:"text",className:p.input(),...l.register("code")})}),w.jsx($r,{formState:l.formState,name:"label",label:w.jsx(he,{label:"Resource description (label)"}),required:!0,children:w.jsx("input",{type:"text",className:p.input(),...l.register("label")})}),w.jsx($r,{formState:l.formState,name:"group",label:w.jsx(he,{label:"Tag group (label)"}),children:w.jsx("input",{type:"text",className:p.input(),...l.register("group")})}),w.jsx($r,{formState:l.formState,name:"sort",label:w.jsx(he,{label:"Tag sort (label)"}),children:w.jsx("input",{type:"number",className:p.input(),...l.register("sort")})}),w.jsx("div",{className:"flex flex-row justify-between gap-8",children:w.jsx(zn,{iconEnabled:yp,type:"submit",children:w.jsx(he,{label:"Save tag (submit)"})})})]})},fv=cl(),UD=[fv({name:"code",header(){return w.jsx(he,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),fv({name:"label",header(){return w.jsx(he,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),fv({name:"group",header(){return w.jsx(he,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],v3=({group:t,table:e,...r})=>w.jsx(ll,{table:ul({...e,columns:UD}),action:{table(){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Create tag (menu)"}),textTitle:w.jsx(he,{label:"Create tag (modal)"}),icon:yp,children:w.jsx(VE,{defaultValues:{group:t},mutation:uu.useCreateMutation({async wrap(n){return Or.promise(n(),{loading:w.jsx(he,{label:"Saving tag (label)"}),success:w.jsx(he,{label:"Tag successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete tags (label)"}),textTitle:w.jsx(he,{label:"Delete tags (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:io,textContent:w.jsx(he,{label:"Tag delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Edit tag (menu)"}),textTitle:w.jsx(he,{label:"Edit tag (modal)"}),icon:yp,children:w.jsx(VE,{defaultValues:{...n,group:t},mutation:uu.usePatchMutation({async wrap(o){return Or.promise(o(),{loading:w.jsx(he,{label:"Saving tag (label)"}),success:w.jsx(he,{label:"Tag successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save tag (label)"})})},async toPatch({shape:o}){return{entity:o,filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete tag (label)"}),textTitle:w.jsx(he,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:uu,textContent:w.jsx(he,{label:"Tag delete (content)"}),idIn:[n.id]})})]})}},...r}),VD=da({filter:em.filter}),Ch=_r("/$locale/apps/derivean/root/tag/list/")({component:()=>{const{data:t,count:e}=Ch.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Ch.useSearch(),l=Ch.useNavigate(),{tva:d}=Os({from:"__root__"}),p=d().slots;return w.jsx("div",{className:p.base(),children:w.jsx(v3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ya(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:w.jsx(he,{label:"Number of items"}),onPage:ha(l),onSize:pa(l)}})})},validateSearch:ca(VD),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:uu.withRouteListLoader()}),_3=["building","resource"],cu=Ue.enum(_3),rm=As({entity:Is.merge(Ue.object({name:Ue.string(),size:Ue.number().int().positive(),kind:cu})),shape:Ue.object({name:Ue.string().min(1),size:Ue.union([Ue.number().int().positive(),Ue.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:"Size must be a number"})]),kind:cu}),filter:Ts.merge(Ue.object({kind:cu.optional(),inventoryId:Ue.string().optional()}))}),Ho=Ls({name:"SlotRepository",schema:rm,meta:{where:{id:"slot.id",idIn:"slot.id",kind:"slot.kind",inventoryId:"inventorySlot.inventoryId"},fulltext:["slot.kind","slot.name","slot.id"]},insert(){return lr.kysely.insertInto("Slot")},update(){return lr.kysely.updateTable("Slot")},remove(){return lr.kysely.deleteFrom("Slot")},select({query:{where:t,filter:e}}){let r=lr.kysely.selectFrom("Slot as slot");return(t?.inventoryId||e?.inventoryId)&&(r=r.leftJoin("InventorySlot as inventorySlot","inventorySlot.slotId","slot.id")),r}}),HD=As({entity:Is.merge(Ue.object({inventoryId:Ue.string().min(1),slotId:Ue.string().min(1)})),shape:Ue.object({inventoryId:Ue.string().min(1),slotId:Ue.string().min(1)}),filter:Ts.merge(Ue.object({inventoryId:Ue.string().optional(),slotId:Ue.string().optional()}))}),QD=Ls({name:"InventorySlotRepository",schema:HD,meta:{where:{id:"inventorySlot.id",idIn:"inventorySlot.id",inventoryId:"inventorySlot.inventoryId",slotId:"inventorySlot.slotId"}},insert(){return lr.kysely.insertInto("InventorySlot")},update(){return lr.kysely.updateTable("InventorySlot")},remove(){return lr.kysely.deleteFrom("InventorySlot")},select(){return lr.kysely.selectFrom("InventorySlot as inventorySlot")}}),_b=({kind:t})=>w.jsxs("div",{className:"flex flex-row gap-2",children:[w.jsx(he,{label:`Item kind - ${t}`,css:{base:["font-bold"]}}),"(",t,")"]}),b3=t=>w.jsx(tk,{textSelect:w.jsx(he,{label:"Select item kind (label)"}),items:_3.map(e=>({id:e,value:e})),render:({entity:e})=>w.jsx(_b,{kind:e.value}),...t}),HE=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=po({resolver:mo(rm.shape),defaultValues:e}),d=G.useContext(as),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return w.jsxs("form",{className:p.base(),onSubmit:al({form:l,mutation:t,onSuccess:async m=>{r?.({entity:m,modalContext:d})}}),children:[w.jsx(Fs,{variant:{highlight:!0},error:l.formState.errors.root}),w.jsx($r,{formState:l.formState,name:"name",label:w.jsx(he,{label:"Slot name (label)"}),children:w.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),w.jsx($r,{formState:l.formState,name:"size",label:w.jsx(he,{label:"Slot size (label)"}),children:w.jsx("input",{type:"number",className:p.input(),...l.register("size")})}),w.jsx($r,{formState:l.formState,name:"kind",label:w.jsx(he,{label:"Item kind (label)"}),children:w.jsx(Wd,{name:"kind",control:l.control,render:({field:{ref:m,...b}})=>w.jsx(b3,{css:{base:p.input()},...b})})}),w.jsx("div",{className:"flex flex-row justify-between gap-8",children:w.jsx(zn,{iconEnabled:_d,type:"submit",children:w.jsx(he,{label:"Save slot (submit)"})})})]})},hv=cl(),KD=[hv({name:"name",header(){return w.jsx(he,{label:"Slot name (label)"})},render({data:t,value:e}){const{locale:r}=In({from:"/$locale"});return w.jsx(Ei,{to:"/$locale/apps/derivean/root/slot/$id/view",params:{locale:r,id:t.id},children:e})},size:16}),hv({name:"kind",header(){return w.jsx(he,{label:"Item kind (label)"})},render({value:t}){return w.jsx(_b,{kind:t})},filter:{path:"kind",onFilter({data:t,filter:e}){e.shallow("kind",t.kind)}},size:18}),hv({name:"size",header(){return w.jsx(he,{label:"Slot size (label)"})},render({value:t}){return v1({number:t})},size:10})],w3=({inventoryId:t,table:e,...r})=>w.jsx(ll,{table:ul({...e,columns:KD}),action:{table(){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Create slot (menu)"}),textTitle:w.jsx(he,{label:"Create slot (modal)"}),icon:_d,children:w.jsx(HE,{mutation:Ho.useCreateMutation({async wrap(n){return Or.promise(n(),{loading:w.jsx(he,{label:"Saving slot (label)"}),success:w.jsx(he,{label:"Slot successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save slot (label)"})})},async onSuccess({entity:n}){t&&await QD.create({entity:{inventoryId:t,slotId:n.id},shape:{inventoryId:t,slotId:n.id}})}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete slots (label)"}),textTitle:w.jsx(he,{label:"Delete slots (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:Ho,textContent:w.jsx(he,{label:"Slot delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Edit slot (menu)"}),textTitle:w.jsx(he,{label:"Edit slot (modal)"}),icon:_d,children:w.jsx(HE,{defaultValues:n,mutation:Ho.usePatchMutation({async wrap(o){return Or.promise(o(),{loading:w.jsx(he,{label:"Saving slot (label)"}),success:w.jsx(he,{label:"Slot successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save slot (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete slot (label)"}),textTitle:w.jsx(he,{label:"Delete slot (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:Ho,textContent:w.jsx(he,{label:"Slot delete (content)"}),idIn:[n.id]})})]})}},...r}),GD=da({filter:rm.filter}),Rh=_r("/$locale/apps/derivean/root/slot/list/")({component:()=>{const{data:t,count:e}=Rh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Rh.useSearch(),l=Rh.useNavigate(),{tva:d}=Os({from:"__root__"}),p=d().slots;return w.jsx("div",{className:p.base(),children:w.jsx(w3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ya(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:w.jsx(he,{label:"Number of items"}),onPage:ha(l),onSize:pa(l)}})})},validateSearch:ca(GD),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:{queryClient:t},deps:{global:e,filter:r,cursor:n}}){return{data:await Ho.withListLoader({queryClient:t,filter:{...e,...r},cursor:n}),count:await Ho.withCountLoader({queryClient:t,filter:{...e,...r}})}}}),JD=({group:t,...e})=>w.jsx(AM,{table:r=>w.jsx(v3,{group:t,...r}),render:({entities:r})=>w.jsx(Jk,{tags:r}),useListQuery:({query:{where:r,...n},...o})=>uu.useListQuery({...o,query:{...n,where:{...r,group:t}}}),...e}),QE=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=po({resolver:mo(tm.shape),defaultValues:e}),d=G.useContext(as),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return w.jsxs("form",{className:p.base(),onSubmit:al({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:d})}}),children:[w.jsx(Fs,{variant:{highlight:!0},error:l.formState.errors.root}),w.jsx($r,{formState:l.formState,name:"name",label:w.jsx(he,{label:"Resource name (label)"}),children:w.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),w.jsx($r,{formState:l.formState,name:"description",label:w.jsx(he,{label:"Resource description (label)"}),children:w.jsx("input",{type:"text",className:p.input(),...l.register("description")})}),w.jsx($r,{formState:l.formState,name:"tagIds",label:w.jsx(he,{label:"Resource tags (label)"}),children:w.jsx(Wd,{control:l.control,name:"tagIds",render:({field:{ref:m,...b}})=>w.jsx(JD,{icon:Rs,group:"resource",titleText:w.jsx(he,{label:"Select resource tags (title)"}),allowEmpty:!0,...b})})}),w.jsx("div",{className:"flex flex-row justify-between gap-8",children:w.jsx(zn,{iconEnabled:Rs,type:"submit",children:w.jsx(he,{label:"Save resource (submit)"})})})]})},pv=cl(),ZD=[pv({name:"name",header(){return w.jsx(he,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=In({from:"/$locale"});return w.jsx(Ei,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:r,id:t.id},children:e})},size:18}),pv({name:"description",header(){return w.jsx(he,{label:"Resource description (label)"})},render({value:t}){return t},size:16}),pv({name:"tags",header(){return w.jsx(he,{label:"Resource tags (label)"})},render({value:t}){return w.jsx(Jk,{tags:t})},size:32})],x3=({table:t,...e})=>w.jsx(ll,{table:ul({...t,columns:ZD}),action:{table(){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Create resource (menu)"}),textTitle:w.jsx(he,{label:"Create resource (modal)"}),icon:Rs,children:w.jsx(QE,{mutation:io.useCreateMutation({async wrap(r){return Or.promise(r(),{loading:w.jsx(he,{label:"Saving resource (label)"}),success:w.jsx(he,{label:"Resource successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:r})=>{r?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete resources (label)"}),textTitle:w.jsx(he,{label:"Delete resources (modal)"}),disabled:!t.selection||t.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:io,textContent:w.jsx(he,{label:"Resource delete (content)"}),idIn:t.selection?.value})})]})},row({data:r}){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Edit resource (menu)"}),textTitle:w.jsx(he,{label:"Edit resource (modal)"}),icon:Rs,children:w.jsx(QE,{defaultValues:r,mutation:io.usePatchMutation({async wrap(n){return Or.promise(n(),{loading:w.jsx(he,{label:"Saving resource (label)"}),success:w.jsx(he,{label:"Resource successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save resource (label)"})})},async toPatch({shape:n}){return{entity:n,filter:{id:r.id}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete resource (label)"}),textTitle:w.jsx(he,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:io,textContent:w.jsx(he,{label:"Resource delete (content)"}),idIn:[r.id]})})]})}},...e}),XD=da({filter:tm.filter}),Oh=_r("/$locale/apps/derivean/root/resource/list/")({component:()=>{const{data:t,count:e}=Oh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Oh.useSearch(),l=Oh.useNavigate(),{tva:d}=Os({from:"__root__"}),p=d().slots;return w.jsx("div",{className:p.base(),children:w.jsx(x3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ya(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:w.jsx(he,{label:"Number of items"}),onPage:ha(l),onSize:pa(l)}})})},validateSearch:ca(XD),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:io.withRouteListLoader()}),bb=As({entity:Is.merge(Ue.object({name:Ue.string().min(1),kind:cu})),shape:Ue.object({name:Ue.string().min(1),kind:cu}),filter:Ts.merge(Ue.object({name:Ue.string().nullish(),kind:cu.nullish()}))}),a_=Ls({name:"ItemRepository",schema:bb,meta:{where:{id:"item.id",idIn:"item.id",kind:"item.kind",name:"item.name"},fulltext:["item.kind","item.name","item.id"]},insert(){return lr.kysely.insertInto("Item")},update(){return lr.kysely.updateTable("Item")},remove(){return lr.kysely.deleteFrom("Item")},select(){return lr.kysely.selectFrom("Item as item")}}),YD=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=po({resolver:mo(bb.shape),defaultValues:e}),d=G.useContext(as),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return w.jsxs("form",{className:p.base(),onSubmit:al({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:d})}}),children:[w.jsx(Fs,{variant:{highlight:!0},error:l.formState.errors.root}),w.jsx($r,{formState:l.formState,name:"name",label:w.jsx(he,{label:"Item name (label)"}),children:w.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),w.jsx($r,{formState:l.formState,name:"kind",label:w.jsx(he,{label:"Item kind (label)"}),children:w.jsx(Wd,{name:"kind",control:l.control,render:({field:{ref:m,...b}})=>w.jsx(b3,{css:{base:p.input()},...b})})}),w.jsx("div",{className:"flex flex-row justify-between gap-8",children:w.jsx(zn,{iconEnabled:cb,type:"submit",children:w.jsx(he,{label:"Save item (submit)"})})})]})},KE=cl(),e4=[KE({name:"name",header(){return"Item name (label)"},render({data:t,value:e}){const{locale:r}=In({from:"/$locale"});return w.jsx(Ei,{to:"/$locale/apps/derivean/root/item/$id/view",params:{locale:r,id:t.id},children:w.jsx(he,{label:`Item name - ${e}`})})},size:14}),KE({name:"kind",header(){return w.jsx(he,{label:"Item kind (label)"})},render({value:t}){return w.jsx(_b,{kind:t})},filter:{path:"kind",onFilter({data:t,filter:e}){e.shallow("kind",t.kind)}},size:18})],t4=({table:t,...e})=>w.jsx(ll,{table:ul({...t,columns:e4}),action:{table(){return w.jsx(xi,{children:w.jsx(Zr,{label:w.jsx(he,{label:"Create item (menu)"}),textTitle:w.jsx(he,{label:"Create item (modal)"}),icon:cb,children:w.jsx(YD,{mutation:a_.useCreateMutation({async wrap(r){return Or.promise(r(),{loading:w.jsx(he,{label:"Saving item (label)"}),success:w.jsx(he,{label:"Item successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save item (label)"})})}}),onSuccess:async({modalContext:r})=>{r?.close()}})})})}},...e}),r4=da({filter:bb.filter}),Ah=_r("/$locale/apps/derivean/root/item/list/")({component:()=>{const{data:t,count:e}=Ah.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Ah.useSearch(),l=Ah.useNavigate(),{tva:d}=Os({from:"__root__"}),p=d().slots;return w.jsx("div",{className:p.base(),children:w.jsx(t4,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ya(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:w.jsx(he,{label:"Number of items"}),onPage:ha(l),onSize:pa(l)}})})},validateSearch:ca(r4),loaderDeps:({search:{global:t,filter:e,cursor:r}})=>({global:t,filter:e,cursor:r}),loader:async({context:{queryClient:t},deps:{global:e,filter:r,cursor:n}})=>({data:await a_.withListLoader({queryClient:t,filter:{...e,...r},cursor:n}),count:await a_.withCountLoader({queryClient:t,filter:{...e,...r}})})}),GE=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=po({resolver:mo(vb.shape),defaultValues:e}),d=G.useContext(as),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return w.jsxs("form",{className:p.base(),onSubmit:al({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:d})}}),children:[w.jsx(Fs,{variant:{highlight:!0},error:l.formState.errors.root}),w.jsx($r,{formState:l.formState,name:"name",label:w.jsx(he,{label:"Slot name (label)"}),children:w.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),w.jsx("div",{className:"flex flex-row justify-between gap-8",children:w.jsx(zn,{iconEnabled:xu,type:"submit",children:w.jsx(he,{label:"Save slot (submit)"})})})]})},n4=cl(),i4=[n4({name:"name",header(){return w.jsx(he,{label:"Inventory name (label)"})},render({data:t,value:e}){const{locale:r}=In({from:"/$locale"});return w.jsx(Ei,{to:"/$locale/apps/derivean/root/inventory/$id/view",params:{locale:r,id:t.id},children:e})}})],s4=({table:t,...e})=>w.jsx(ll,{table:ul({...t,columns:i4}),action:{table(){return w.jsx(xi,{children:w.jsx(Zr,{label:w.jsx(he,{label:"Create inventory (menu)"}),textTitle:w.jsx(he,{label:"Create inventory (modal)"}),icon:xu,children:w.jsx(GE,{mutation:bd.useCreateMutation({async wrap(r){return Or.promise(r(),{loading:w.jsx(he,{label:"Saving inventory (label)"}),success:w.jsx(he,{label:"Inventory successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save inventory (label)"})})}}),onSuccess:async({modalContext:r})=>{r?.close()}})})})},row({data:r}){return w.jsx(xi,{children:w.jsx(Zr,{label:w.jsx(he,{label:"Edit inventory (menu)"}),textTitle:w.jsx(he,{label:"Edit inventory (modal)"}),icon:xu,children:w.jsx(GE,{defaultValues:r,mutation:bd.usePatchMutation({async wrap(n){return Or.promise(n(),{loading:w.jsx(he,{label:"Saving inventory (label)"}),success:w.jsx(he,{label:"Inventory successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save inventory (label)"})})},async toPatch({shape:n}){return{entity:n,filter:{id:r.id}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})}},...e}),o4=da({filter:vb.filter}),Ih=_r("/$locale/apps/derivean/root/inventory/list/")({component:()=>{const{data:t,count:e}=Ih.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Ih.useSearch(),l=Ih.useNavigate(),{tva:d}=Os({from:"__root__"}),p=d().slots;return w.jsx("div",{className:p.base(),children:w.jsx(s4,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ya(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:w.jsx(he,{label:"Number of items"}),onPage:ha(l),onSize:pa(l)}})})},validateSearch:ca(o4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:{queryClient:t},deps:{global:e,filter:r,cursor:n}}){return{data:await bd.withListLoader({queryClient:t,filter:{...e,...r},cursor:n}),count:await bd.withCountLoader({queryClient:t,filter:{...e,...r}})}}}),a4=_r("/$locale/apps/derivean/root/building/list/")({component:()=>w.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),l4=({entity:t,...e})=>{const{locale:r}=In({from:"/$locale"});return w.jsxs(Xp,{...e,children:[w.jsx(hi,{icon:wu,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:w.jsx(he,{label:"Base building detail (menu)"})}),w.jsx(hi,{icon:Rs,to:"/$locale/apps/derivean/root/building/base/$id/requirement/resource/list",params:{locale:r,id:t.id},children:w.jsx(he,{label:"Base building resource requirement (menu)"})}),w.jsx(hi,{icon:lM,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:r,id:t.id},children:w.jsx(he,{label:"Base building edit (menu)"})})]})},u4=t=>{const{locale:e}=In({from:"/$locale"});return w.jsx(Kk,{title:({entity:r})=>w.jsx(Zk,{icon:wu,title:r.name}),actions:()=>w.jsx(Ei,{icon:Vk,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:w.jsx(he,{label:"Base building list (label)"})}),...t})},wb=As({entity:Is.merge(Ue.object({name:Ue.string().min(1),description:Ue.string().optional(),preview:Ue.union([Ue.boolean(),Ue.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),shape:Ue.object({name:Ue.string().min(1),description:Ue.string().optional(),preview:Ue.boolean()}),filter:Ts}),Va=Ls({name:"BaseBuilding",schema:wb,meta:{where:{id:"baseBuilding.id",idIn:"baseBuilding.id"},fulltext:["baseBuilding.name","baseBuilding.description","baseBuilding.id"]},insert(){return lr.kysely.insertInto("BaseBuilding")},update(){return lr.kysely.updateTable("BaseBuilding")},remove(){return lr.kysely.deleteFrom("BaseBuilding")},select(){return lr.kysely.selectFrom("BaseBuilding as baseBuilding").selectAll("baseBuilding")}}),S3=_r("/$locale/apps/derivean/root/building/base/$id")({component(){const{tva:t}=Os({from:"__root__"}),{entity:e}=S3.useLoaderData(),r=t().slots;return w.jsxs("div",{className:r.base(),children:[w.jsx(u4,{entity:e}),w.jsx(l4,{entity:e}),w.jsx(Nu,{})]})},async loader({context:{queryClient:t},params:{id:e}}){return{entity:await Va.withFetchLoader({queryClient:t,where:{id:e}})}}}),c4=_r("/$locale/apps/derivean/root/slot/$id/view/")({component:()=>w.jsx("div",{children:'Hello "/$locale/apps/derivean/root/slot/$id/view/"!'})}),d4=_r("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>w.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),f4=_r("/$locale/apps/derivean/root/item/$id/view/")({component:()=>w.jsx("div",{children:'Hello "/$locale/apps/derivean/root/item/$id/view/"!'})}),h4=_r("/$locale/apps/derivean/root/inventory/$id/view/")({component:()=>w.jsx("div",{children:'Hello "/$locale/apps/derivean/root/inventory/$id/view/"!'})}),l_=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=po({resolver:mo(wb.shape),defaultValues:{preview:!1,...e}}),d=G.useContext(as),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return w.jsxs("form",{className:p.base(),onSubmit:al({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:d})}}),children:[w.jsx(Fs,{variant:{highlight:!0},error:l.formState.errors.root}),w.jsx($r,{formState:l.formState,name:"name",label:w.jsx(he,{label:"Base building name (label)"}),required:!0,children:w.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),w.jsx($r,{formState:l.formState,name:"description",label:w.jsx(he,{label:"Base building description (label)"}),children:w.jsx("input",{type:"text",className:p.input(),...l.register("description")})}),w.jsx($r,{formState:l.formState,name:"preview",label:w.jsx(he,{label:"Base building preview (label)"}),hint:w.jsx(he,{label:"Base building preview (hint)"}),required:!0,children:w.jsx(Wd,{control:l.control,name:"preview",render:({field:{ref:m,...b}})=>w.jsx($L,{...b})})}),w.jsx("div",{className:"flex flex-row justify-between gap-8",children:w.jsx(zn,{iconEnabled:wu,type:"submit",children:w.jsx(he,{label:"Save base building (submit)"})})})]})},mv=cl(),p4=[mv({name:"name",header(){return w.jsx(he,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=In({from:"/$locale"});return w.jsx(Ei,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:e})},size:10}),mv({name:"description",header(){return w.jsx(he,{label:"Base building description (label)"})},render({value:t}){return t},size:24}),mv({name:"preview",header(){return w.jsx(he,{label:"Base building preview (label)"})},render({value:t}){return w.jsx(BL,{value:t})},size:14})],m4=({table:t,...e})=>w.jsx(ll,{table:ul({...t,columns:p4}),action:{table(){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Create base building (menu)"}),textTitle:w.jsx(he,{label:"Create base building (modal)"}),icon:wu,children:w.jsx(l_,{mutation:Va.useCreateMutation({async wrap(r){return Or.promise(r(),{loading:w.jsx(he,{label:"Saving base building (label)"}),success:w.jsx(he,{label:"Base building successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:r})=>{r?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete base buildings (label)"}),textTitle:w.jsx(he,{label:"Delete base buildings (modal)"}),disabled:!t.selection||t.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:Va,textContent:w.jsx(he,{label:"Base building delete (content)"}),idIn:t.selection?.value})})]})},row({data:r}){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Edit base building (menu)"}),textTitle:w.jsx(he,{label:"Edit base building (modal)"}),icon:wu,children:w.jsx(l_,{defaultValues:r,mutation:Va.usePatchMutation({async wrap(n){return Or.promise(n(),{loading:w.jsx(he,{label:"Saving base building (label)"}),success:w.jsx(he,{label:"Base building successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete base building (label)"}),textTitle:w.jsx(he,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:Va,textContent:w.jsx(he,{label:"Base building delete (content)"}),idIn:[r.id]})})]})}},...e}),y4=da({filter:wb.filter}),Th=_r("/$locale/apps/derivean/root/building/base/list/")({component:()=>{const{data:t,count:e}=Th.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Th.useSearch(),l=Th.useNavigate(),{tva:d}=Os({from:"__root__"}),p=d().slots;return w.jsx("div",{className:p.base(),children:w.jsx(m4,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ya(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:w.jsx(he,{label:"Number of items"}),onPage:ha(l),onSize:pa(l)}})})},validateSearch:ca(y4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:Va.withRouteListLoader()}),g4=da({filter:rm.filter}),Rc=_r("/$locale/apps/derivean/root/inventory/$id/slot/list/")({component:()=>{const{data:t,count:e}=Rc.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Rc.useSearch(),{id:l}=Rc.useParams(),d=Rc.useNavigate(),{tva:p}=Os({from:"__root__"}),m=p().slots;return w.jsx("div",{className:m.base(),children:w.jsx(w3,{inventoryId:l,table:{data:t,filter:{value:n,set(b){d({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){d({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:ya(d),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:w.jsx(he,{label:"Number of items"}),onPage:ha(d),onSize:pa(d)}})})},validateSearch:ca(g4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:{queryClient:t},deps:{global:e,filter:r,cursor:n},params:{id:o}}){return{data:await Ho.withListLoader({queryClient:t,filter:{...e,...r},where:{inventoryId:o},cursor:n}),count:await Ho.withCountLoader({queryClient:t,filter:{...e,...r},where:{inventoryId:o}})}}}),v4=_r("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>w.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/base/$id/view/"!'})}),E3=_r("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=Np({from:"/$locale/apps/derivean/root/building/base/$id"}),e=E3.useNavigate();return w.jsx("div",{className:"w-1/2 mx-auto",children:w.jsx(l_,{defaultValues:t,mutation:Va.usePatchMutation({async wrap(r){return Or.promise(r(),{loading:w.jsx(he,{label:"Saving base building (label)"}),success:w.jsx(he,{label:"Base building successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),JE=Is.merge(Ue.object({baseBuildingId:Ue.string().min(1),resourceId:Ue.string().min(1),amount:Ue.number().int().min(0)})),xb=As({entity:JE,output:JE.merge(Ue.object({resource:tm.output})),shape:Ue.object({resourceId:Ue.string().min(1),amount:Ue.union([Ue.number().int().positive(),Ue.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:"Size must be a number"})])}),filter:Ts.merge(Ue.object({baseBuildingId:Ue.string().optional(),resourceId:Ue.string().optional()}))}),Oc=Ls({name:"BuildingRequirementResourceRepository",schema:xb,meta:{where:{id:"buildingRequirementResource.id",idIn:"buildingRequirementResource.id",baseBuildingId:"buildingRequirementResource.baseBuildingId",resourceId:"buildingRequirementResource.resourceId"},fulltext:["buildingRequirementResource.id","buildingRequirementResource.baseBuildingId","buildingRequirementResource.resourceId","baseBuilding.name","resource.name"]},insert(){return lr.kysely.insertInto("BuildingRequirementResource")},update(){return lr.kysely.updateTable("BuildingRequirementResource")},remove(){return lr.kysely.deleteFrom("BuildingRequirementResource")},select(){return lr.kysely.selectFrom("BuildingRequirementResource as buildingRequirementResource").selectAll("buildingRequirementResource").leftJoin("BaseBuilding as baseBuilding","baseBuilding.id","buildingRequirementResource.baseBuildingId").leftJoin("Resource as resource","resource.id","buildingRequirementResource.resourceId")},async toOutput({entity:t}){return{...t,resource:await io.fetchOrThrow({query:{where:{id:t.resourceId}}})}}}),_4=t=>w.jsx(IM,{icon:Rs,titleText:w.jsx(he,{label:"Select resource (title)"}),table:x3,render:({entity:e})=>e.name,useListQuery:io.useListQuery,...t}),ZE=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=po({resolver:mo(xb.shape),defaultValues:e}),d=G.useContext(as),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return w.jsxs("form",{className:p.base(),onSubmit:al({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:d})}}),children:[w.jsx(Fs,{variant:{highlight:!0},error:l.formState.errors.root}),w.jsx($r,{formState:l.formState,name:"resourceId",label:w.jsx(he,{label:"Resource name (label)"}),children:w.jsx(Wd,{control:l.control,name:"resourceId",render:({field:{ref:m,...b}})=>w.jsx(_4,{...b})})}),w.jsx($r,{formState:l.formState,name:"amount",label:w.jsx(he,{label:"Amount (label)"}),children:w.jsx("input",{type:"number",className:p.input(),...l.register("amount")})}),w.jsx("div",{className:"flex flex-row justify-between gap-8",children:w.jsx(zn,{iconEnabled:Rs,type:"submit",children:w.jsx(he,{label:"Save resource requirement (submit)"})})})]})},yv=cl(),b4=[yv({name:"resource.name",header(){return w.jsx(he,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),yv({name:"amount",header(){return w.jsx(he,{label:"Amount (label)"})},render({value:t}){return v1({number:t})},size:14}),yv({name:"resource.description",header(){return w.jsx(he,{label:"Resource description (label)"})},render({value:t}){return t},size:24})],w4=({baseBuildingId:t,table:e,...r})=>w.jsx(ll,{table:ul({...e,columns:b4}),action:{table(){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Create resource requirement (menu)"}),textTitle:w.jsx(he,{label:"Create resource requirement (modal)"}),icon:Rs,children:w.jsx(ZE,{mutation:Oc.useCreateMutation({async wrap(n){return Or.promise(n(),{loading:w.jsx(he,{label:"Saving resource requirement (label)"}),success:w.jsx(he,{label:"Resource requirement successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:n}){return{entity:{...n,baseBuildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete resource requirements (label)"}),textTitle:w.jsx(he,{label:"Delete resource requirements (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:Oc,textContent:w.jsx(he,{label:"Resource requirements delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return w.jsxs(xi,{children:[w.jsx(Zr,{label:w.jsx(he,{label:"Edit resource requirement (menu)"}),textTitle:w.jsx(he,{label:"Edit resource requirement (modal)"}),icon:Rs,children:w.jsx(ZE,{defaultValues:n,mutation:Oc.usePatchMutation({async wrap(o){return Or.promise(o(),{loading:w.jsx(he,{label:"Saving resource requirement (label)"}),success:w.jsx(he,{label:"Resource requirement successfully saved (label)"}),error:w.jsx(he,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),w.jsx(Zr,{icon:ss,label:w.jsx(he,{label:"Delete resource requirement (label)"}),textTitle:w.jsx(he,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:w.jsx(Cs,{repository:Oc,textContent:w.jsx(he,{label:"Resource requirement delete (content)"}),idIn:[n.id]})})]})}},...r}),x4=da({filter:xb.filter}),S4=Oc.withRouteListLoader(),Ac=_r("/$locale/apps/derivean/root/building/base/$id/requirement/resource/list")({component:()=>{const{data:t,count:e}=Ac.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Ac.useSearch(),{id:l}=Ac.useParams(),d=Ac.useNavigate(),{tva:p}=Os({from:"__root__"}),m=p().slots;return w.jsx("div",{className:m.base(),children:w.jsx(w4,{baseBuildingId:l,table:{data:t,filter:{value:n,set(b){d({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){d({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:ya(d),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:w.jsx(he,{label:"Number of items"}),onPage:ha(d),onSize:pa(d)}})})},validateSearch:ca(x4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return S4({context:t,deps:{...r,filter:{...e,baseBuildingId:n}}})}}),Sb=KM.update({id:"/$locale",path:"/$locale",getParentRoute:()=>ub}),E4=ZM.update({id:"/",path:"/",getParentRoute:()=>ub}),N4=XM.update({id:"/",path:"/",getParentRoute:()=>Sb}),Tu=YM.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>Sb}),ki=rD.update({id:"/root",path:"/root",getParentRoute:()=>Tu}),N3=iD.update({id:"/game",path:"/game",getParentRoute:()=>Tu}),k4=sD.update({id:"/",path:"/",getParentRoute:()=>N3}),q4=AD.update({id:"/public/register",path:"/public/register",getParentRoute:()=>Tu}),C4=ID.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>Tu}),R4=LD.update({id:"/public/login",path:"/public/login",getParentRoute:()=>Tu}),k3=jD.update({id:"/slot/$id",path:"/slot/$id",getParentRoute:()=>ki}),q3=MD.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>ki}),C3=DD.update({id:"/item/$id",path:"/item/$id",getParentRoute:()=>ki}),Eb=g3.update({id:"/inventory/$id",path:"/inventory/$id",getParentRoute:()=>ki}),O4=Ch.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>ki}),A4=Rh.update({id:"/slot/list/",path:"/slot/list/",getParentRoute:()=>ki}),I4=Oh.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>ki}),T4=Ah.update({id:"/item/list/",path:"/item/list/",getParentRoute:()=>ki}),P4=Ih.update({id:"/inventory/list/",path:"/inventory/list/",getParentRoute:()=>ki}),F4=a4.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>ki}),nm=S3.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>ki}),L4=c4.update({id:"/view/",path:"/view/",getParentRoute:()=>k3}),j4=d4.update({id:"/view/",path:"/view/",getParentRoute:()=>q3}),M4=f4.update({id:"/view/",path:"/view/",getParentRoute:()=>C3}),D4=h4.update({id:"/view/",path:"/view/",getParentRoute:()=>Eb}),W4=Th.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>ki}),B4=Rc.update({id:"/slot/list/",path:"/slot/list/",getParentRoute:()=>Eb}),z4=v4.update({id:"/view/",path:"/view/",getParentRoute:()=>nm}),$4=E3.update({id:"/edit/",path:"/edit/",getParentRoute:()=>nm}),U4=Ac.update({id:"/requirement/resource/list",path:"/requirement/resource/list",getParentRoute:()=>nm}),V4={LocaleAppsDeriveanGameIndexRoute:k4},H4=N3._addFileChildren(V4),Q4={LocaleAppsDeriveanRootInventoryIdViewIndexRoute:D4,LocaleAppsDeriveanRootInventoryIdSlotListIndexRoute:B4},K4=Eb._addFileChildren(Q4),G4={LocaleAppsDeriveanRootItemIdViewIndexRoute:M4},J4=C3._addFileChildren(G4),Z4={LocaleAppsDeriveanRootResourceIdViewIndexRoute:j4},X4=q3._addFileChildren(Z4),Y4={LocaleAppsDeriveanRootSlotIdViewIndexRoute:L4},eW=k3._addFileChildren(Y4),tW={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:$4,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:z4,LocaleAppsDeriveanRootBuildingBaseIdRequirementResourceListRoute:U4},rW=nm._addFileChildren(tW),nW={LocaleAppsDeriveanRootInventoryIdRoute:K4,LocaleAppsDeriveanRootItemIdRoute:J4,LocaleAppsDeriveanRootResourceIdRoute:X4,LocaleAppsDeriveanRootSlotIdRoute:eW,LocaleAppsDeriveanRootBuildingBaseIdRoute:rW,LocaleAppsDeriveanRootBuildingListIndexRoute:F4,LocaleAppsDeriveanRootInventoryListIndexRoute:P4,LocaleAppsDeriveanRootItemListIndexRoute:T4,LocaleAppsDeriveanRootResourceListIndexRoute:I4,LocaleAppsDeriveanRootSlotListIndexRoute:A4,LocaleAppsDeriveanRootTagListIndexRoute:O4,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:W4},iW=ki._addFileChildren(nW),sW={LocaleAppsDeriveanGameRoute:H4,LocaleAppsDeriveanRootRoute:iW,LocaleAppsDeriveanPublicLoginRoute:R4,LocaleAppsDeriveanPublicLogoutRoute:C4,LocaleAppsDeriveanPublicRegisterRoute:q4},oW=Tu._addFileChildren(sW),aW={LocaleIndexRoute:N4,LocaleAppsDeriveanRoute:oW},lW=Sb._addFileChildren(aW),uW={IndexRoute:E4,LocaleRoute:lW},cW=ub._addFileChildren(uW)._addFileTypes(),R3=new eC({defaultOptions:{queries:{placeholderData:Bq}}}),dW=JC({routeTree:cW,context:{queryClient:R3,tva:HL},defaultPendingComponent:_M,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),XE=document.getElementById("app");YA({limit:{maxRequests:10,perMilliseconds:100}});XE.innerHTML||VM.createRoot(XE).render(w.jsx(oC,{client:R3,children:w.jsx(wR,{router:dW})}))})();