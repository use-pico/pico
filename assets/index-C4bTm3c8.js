(async()=>{function GM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var dw={exports:{}},Jf={},fw={exports:{}},_n={};var kI;function JM(){if(kI)return _n;kI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=p&&Y[p]||Y["@@iterator"],typeof Y=="function"?Y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function I(Y,ce,de){this.props=Y,this.context=ce,this.refs=N,this.updater=de||x}I.prototype.isReactComponent={},I.prototype.setState=function(Y,ce){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ce,"setState")},I.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function O(){}O.prototype=I.prototype;function T(Y,ce,de){this.props=Y,this.context=ce,this.refs=N,this.updater=de||x}var q=T.prototype=new O;q.constructor=T,_(q,I.prototype),q.isPureReactComponent=!0;var j=Array.isArray,D=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function P(Y,ce,de){var ye,we={},Ne=null,ze=null;if(ce!=null)for(ye in ce.ref!==void 0&&(ze=ce.ref),ce.key!==void 0&&(Ne=""+ce.key),ce)D.call(ce,ye)&&!z.hasOwnProperty(ye)&&(we[ye]=ce[ye]);var qe=arguments.length-2;if(qe===1)we.children=de;else if(1<qe){for(var De=Array(qe),Ze=0;Ze<qe;Ze++)De[Ze]=arguments[Ze+2];we.children=De}if(Y&&Y.defaultProps)for(ye in qe=Y.defaultProps,qe)we[ye]===void 0&&(we[ye]=qe[ye]);return{$$typeof:t,type:Y,key:Ne,ref:ze,props:we,_owner:L.current}}function R(Y,ce){return{$$typeof:t,type:Y.type,key:ce,ref:Y.ref,props:Y.props,_owner:Y._owner}}function B(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function F(Y){var ce={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(de){return ce[de]})}var W=/\/+/g;function U(Y,ce){return typeof Y=="object"&&Y!==null&&Y.key!=null?F(""+Y.key):ce.toString(36)}function $(Y,ce,de,ye,we){var Ne=typeof Y;(Ne==="undefined"||Ne==="boolean")&&(Y=null);var ze=!1;if(Y===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(Y.$$typeof){case t:case e:ze=!0}}if(ze)return ze=Y,we=we(ze),Y=ye===""?"."+U(ze,0):ye,j(we)?(de="",Y!=null&&(de=Y.replace(W,"$&/")+"/"),$(we,ce,de,"",function(Ze){return Ze})):we!=null&&(B(we)&&(we=R(we,de+(!we.key||ze&&ze.key===we.key?"":(""+we.key).replace(W,"$&/")+"/")+Y)),ce.push(we)),1;if(ze=0,ye=ye===""?".":ye+":",j(Y))for(var qe=0;qe<Y.length;qe++){Ne=Y[qe];var De=ye+U(Ne,qe);ze+=$(Ne,ce,de,De,we)}else if(De=b(Y),typeof De=="function")for(Y=De.call(Y),qe=0;!(Ne=Y.next()).done;)Ne=Ne.value,De=ye+U(Ne,qe++),ze+=$(Ne,ce,de,De,we);else if(Ne==="object")throw ce=String(Y),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return ze}function ee(Y,ce,de){if(Y==null)return Y;var ye=[],we=0;return $(Y,ye,"","",function(Ne){return ce.call(de,Ne,we++)}),ye}function Z(Y){if(Y._status===-1){var ce=Y._result;ce=ce(),ce.then(function(de){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=de)},function(de){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=de)}),Y._status===-1&&(Y._status=0,Y._result=ce)}if(Y._status===1)return Y._result.default;throw Y._result}var le={current:null},ie={transition:null},te={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:ie,ReactCurrentOwner:L};function se(){throw Error("act(...) is not supported in production builds of React.")}return _n.Children={map:ee,forEach:function(Y,ce,de){ee(Y,function(){ce.apply(this,arguments)},de)},count:function(Y){var ce=0;return ee(Y,function(){ce++}),ce},toArray:function(Y){return ee(Y,function(ce){return ce})||[]},only:function(Y){if(!B(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},_n.Component=I,_n.Fragment=n,_n.Profiler=i,_n.PureComponent=T,_n.StrictMode=r,_n.Suspense=c,_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,_n.act=se,_n.cloneElement=function(Y,ce,de){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var ye=_({},Y.props),we=Y.key,Ne=Y.ref,ze=Y._owner;if(ce!=null){if(ce.ref!==void 0&&(Ne=ce.ref,ze=L.current),ce.key!==void 0&&(we=""+ce.key),Y.type&&Y.type.defaultProps)var qe=Y.type.defaultProps;for(De in ce)D.call(ce,De)&&!z.hasOwnProperty(De)&&(ye[De]=ce[De]===void 0&&qe!==void 0?qe[De]:ce[De])}var De=arguments.length-2;if(De===1)ye.children=de;else if(1<De){qe=Array(De);for(var Ze=0;Ze<De;Ze++)qe[Ze]=arguments[Ze+2];ye.children=qe}return{$$typeof:t,type:Y.type,key:we,ref:Ne,props:ye,_owner:ze}},_n.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},_n.createElement=P,_n.createFactory=function(Y){var ce=P.bind(null,Y);return ce.type=Y,ce},_n.createRef=function(){return{current:null}},_n.forwardRef=function(Y){return{$$typeof:l,render:Y}},_n.isValidElement=B,_n.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:Z}},_n.memo=function(Y,ce){return{$$typeof:d,type:Y,compare:ce===void 0?null:ce}},_n.startTransition=function(Y){var ce=ie.transition;ie.transition={};try{Y()}finally{ie.transition=ce}},_n.unstable_act=se,_n.useCallback=function(Y,ce){return le.current.useCallback(Y,ce)},_n.useContext=function(Y){return le.current.useContext(Y)},_n.useDebugValue=function(){},_n.useDeferredValue=function(Y){return le.current.useDeferredValue(Y)},_n.useEffect=function(Y,ce){return le.current.useEffect(Y,ce)},_n.useId=function(){return le.current.useId()},_n.useImperativeHandle=function(Y,ce,de){return le.current.useImperativeHandle(Y,ce,de)},_n.useInsertionEffect=function(Y,ce){return le.current.useInsertionEffect(Y,ce)},_n.useLayoutEffect=function(Y,ce){return le.current.useLayoutEffect(Y,ce)},_n.useMemo=function(Y,ce){return le.current.useMemo(Y,ce)},_n.useReducer=function(Y,ce,de){return le.current.useReducer(Y,ce,de)},_n.useRef=function(Y){return le.current.useRef(Y)},_n.useState=function(Y){return le.current.useState(Y)},_n.useSyncExternalStore=function(Y,ce,de){return le.current.useSyncExternalStore(Y,ce,de)},_n.useTransition=function(){return le.current.useTransition()},_n.version="18.3.1",_n}var II;function jh(){return II||(II=1,fw.exports=JM()),fw.exports}var CI;function YM(){if(CI)return Jf;CI=1;var t=jh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,p={},b=null,x=null;d!==void 0&&(b=""+d),c.key!==void 0&&(b=""+c.key),c.ref!==void 0&&(x=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:l,key:b,ref:x,props:p,_owner:i.current}}return Jf.Fragment=n,Jf.jsx=o,Jf.jsxs=o,Jf}var TI;function XM(){return TI||(TI=1,dw.exports=YM()),dw.exports}var m=XM(),Wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zu=typeof window>"u"||"Deno"in globalThis;function Gs(){}function e$(t,e){return typeof t=="function"?t(e):t}function cS(t){return typeof t=="number"&&t>=0&&t!==1/0}function U3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function od(t,e){return typeof t=="function"?t(e):t}function vo(t,e){return typeof t=="function"?t(e):t}function OI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==jE(o,e.options))return!1}else if(!Vp(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function qI(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Wu(e.options.mutationKey)!==Wu(s))return!1}else if(!Vp(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function jE(t,e){return(e?.queryKeyHashFn||Wu)(t)}function Wu(t){return JSON.stringify(t,(e,n)=>dS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Vp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Vp(t[n],e[n])):!1}function PE(t,e){if(t===e)return t;const n=RI(t)&&RI(e);if(n||dS(t)&&dS(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=PE(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function ky(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function RI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dS(t){if(!AI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!AI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function AI(t){return Object.prototype.toString.call(t)==="[object Object]"}function t$(t){return new Promise(e=>{setTimeout(e,t)})}function fS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PE(t,e):e}function n$(t){return t}function r$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function i$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var FE=Symbol();function V3(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===FE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var s$=class extends Wd{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!zu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},DE=new s$,o$=class extends Wd{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!zu&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Iy=new o$;function pS(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function a$(t){return Math.min(1e3*2**t,3e4)}function H3(t){return(t??"online")==="online"?Iy.isOnline():!0}var Q3=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function pw(t){return t instanceof Q3}function K3(t){let e=!1,n=0,r=!1,i;const s=pS(),o=N=>{r||(b(new Q3(N)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},d=()=>DE.isFocused()&&(t.networkMode==="always"||Iy.isOnline())&&t.canRun(),f=()=>H3(t.networkMode)&&t.canRun(),p=N=>{r||(r=!0,t.onSuccess?.(N),i?.(),s.resolve(N))},b=N=>{r||(r=!0,t.onError?.(N),i?.(),s.reject(N))},x=()=>new Promise(N=>{i=I=>{(r||d())&&N(I)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),_=()=>{if(r)return;let N;const I=n===0?t.initialPromise:void 0;try{N=I??t.fn()}catch(O){N=Promise.reject(O)}Promise.resolve(N).then(p).catch(O=>{if(r)return;const T=t.retry??(zu?0:3),q=t.retryDelay??a$,j=typeof q=="function"?q(n,O):q,D=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,O);if(e||!D){b(O);return}n++,t.onFail?.(n,O),t$(j).then(()=>d()?void 0:x()).then(()=>{e?b(O):_()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?_():x().then(_),s)}}function l$(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Dr=l$(),G3=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},u$=class extends G3{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=c$(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=fS(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Gs).catch(Gs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>vo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===FE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!U3(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=V3(this.options,e),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#s=!1,this.options.persister?this.options.persister(l,c,this):l(c)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta});const o=l=>{pw(l)&&l.silent||this.#o({type:"error",error:l}),pw(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=K3({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Z3(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return pw(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Z3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H3(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function c$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var d$=class extends Wd{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??jE(r,e);let s=this.get(i);return s||(s=new u$({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>OI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>OI(t,n)):e}notify(t){Dr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},f$=class extends G3{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||J3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=K3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Dr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function J3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var p$=class extends Wd{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new f$({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=cg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=cg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=cg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=cg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Dr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>qI(e,n))}findAll(t={}){return this.getAll().filter(e=>qI(t,e))}notify(t){Dr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Dr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Gs))))}};function cg(t){return t.options.scope?.id}function jI(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const p=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},b=V3(e.options,e.fetchOptions),x=async(_,N,I)=>{if(f)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const O={queryKey:e.queryKey,pageParam:N,direction:I?"backward":"forward",meta:e.options.meta};p(O);const T=await b(O),{maxPages:q}=e.options,j=I?i$:r$;return{pages:j(_.pages,T,q),pageParams:j(_.pageParams,N,q)}};if(i&&s.length){const _=i==="backward",N=_?h$:PI,I={pages:s,pageParams:o},O=N(r,I);l=await x(I,O,_)}else{const _=t??s.length;do{const N=c===0?o[0]??r.initialPageParam:PI(r,l);if(c>0&&N==null)break;l=await x(l,N),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function PI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function h$(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var m$=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new d$,this.#t=t.mutationCache||new p$,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=DE.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Iy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(od(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=e$(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Dr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Dr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Dr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Gs).catch(Gs)}invalidateQueries(t,e={}){return Dr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Dr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Gs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Gs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(od(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gs).catch(Gs)}fetchInfiniteQuery(t){return t.behavior=jI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gs).catch(Gs)}ensureInfiniteQueryData(t){return t.behavior=jI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Iy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Wu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Vp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Wu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{Vp(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===FE&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},g$=class extends Wd{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=pS(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#p;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),FI(this.#t,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!ky(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&DI(this.#t,r,this.options,n)&&this.#h(),this.updateResult(e),i&&(this.#t!==r||vo(this.options.enabled,this.#t)!==vo(n.enabled,this.#t)||od(this.options.staleTime,this.#t)!==od(n.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==r||vo(this.options.enabled,this.#t)!==vo(n.enabled,this.#t)||s!==this.#f)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return v$(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Gs)),e}#g(){this.#x();const t=od(this.options.staleTime,this.#t);if(zu||this.#r.isStale||!cS(t))return;const n=U3(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(zu||vo(this.options.enabled,this.#t)===!1||!cS(this.#f)||this.#f===0)&&(this.#p=setInterval(()=>{(this.options.refetchIntervalInBackground||DE.isFocused())&&this.#h()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#p&&(clearInterval(this.#p),this.#p=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,s=this.#i,o=this.#s,c=t!==n?t.state:this.#n,{state:d}=t;let f={...d},p=!1,b;if(e._optimisticResults){const z=this.hasListeners(),P=!z&&FI(t,e),R=z&&DI(t,n,e,r);(P||R)&&(f={...f,...Z3(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:_,status:N}=f;if(e.select&&f.data!==void 0)if(i&&f.data===s?.data&&e.select===this.#u)b=this.#l;else try{this.#u=e.select,b=e.select(f.data),b=fS(i?.data,b,e),this.#l=b,this.#a=null}catch(z){this.#a=z}else b=f.data;if(e.placeholderData!==void 0&&b===void 0&&N==="pending"){let z;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)z=i.data;else if(z=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&z!==void 0)try{z=e.select(z),this.#a=null}catch(P){this.#a=P}z!==void 0&&(N="success",b=fS(i?.data,z,e),p=!0)}this.#a&&(x=this.#a,b=this.#l,_=Date.now(),N="error");const I=f.fetchStatus==="fetching",O=N==="pending",T=N==="error",q=O&&I,j=b!==void 0,L={status:N,fetchStatus:f.fetchStatus,isPending:O,isSuccess:N==="success",isError:T,isInitialLoading:q,isLoading:q,data:b,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:_,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:I,isRefetching:I&&!O,isLoadingError:T&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&j,isStale:LE(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const z=B=>{L.status==="error"?B.reject(L.error):L.data!==void 0&&B.resolve(L.data)},P=()=>{const B=this.#o=L.promise=pS();z(B)},R=this.#o;switch(R.status){case"pending":t.queryHash===n.queryHash&&z(R);break;case"fulfilled":(L.status==="error"||L.data!==R.value)&&P();break;case"rejected":(L.status!=="error"||L.error!==R.reason)&&P();break}}return L}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),ky(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(c=>{const d=c;return this.#r[d]!==e[d]&&l.has(d)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Dr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function y$(t,e){return vo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function FI(t,e){return y$(t,e)||t.state.data!==void 0&&hS(t,e,e.refetchOnMount)}function hS(t,e,n){if(vo(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&LE(t,e)}return!1}function DI(t,e,n,r){return(t!==e||vo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&LE(t,n)}function LE(t,e){return vo(e.enabled,t)!==!1&&t.isStaleByTime(od(e.staleTime,t))}function v$(t,e){return!ky(t.getCurrentResult(),e)}var b$=class extends Wd{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),ky(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Wu(n.mutationKey)!==Wu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??J3();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Dr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},K=jh();const Pn=ro(K),x$=GM({__proto__:null,default:Pn},[K]);var Y3=K.createContext(void 0),Av=t=>{const e=K.useContext(Y3);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},w$=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(Y3.Provider,{value:t,children:e})),X3=K.createContext(!1),_$=()=>K.useContext(X3);X3.Provider;function S$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var E$=K.createContext(S$()),N$=()=>K.useContext(E$);function eA(t,e){return typeof t=="function"?t(...e):!!t}function mS(){}var k$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},I$=t=>{K.useEffect(()=>{t.clearReset()},[t])},C$=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&eA(n,[t.error,r]),T$=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},O$=(t,e)=>t.isLoading&&t.isFetching&&!e,q$=(t,e)=>t?.suspense&&e.isPending,LI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function R$(t,e,n){const r=Av(),i=_$(),s=N$(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",T$(o),k$(o,s),I$(s);const l=!r.getQueryCache().get(o.queryHash),[c]=K.useState(()=>new e(r,o)),d=c.getOptimisticResult(o),f=!i&&t.subscribed!==!1;if(K.useSyncExternalStore(K.useCallback(p=>{const b=f?c.subscribe(Dr.batchCalls(p)):mS;return c.updateResult(),b},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),K.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),q$(o,d))throw LI(o,c,s);if(C$({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!zu&&O$(d,i)&&(l?LI(o,c,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(mS).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function Hp(t,e){return R$(t,g$)}function MI(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function A$(t={},e){const n=Av().getMutationCache(),r=K.useRef(t),i=K.useRef(null);return i.current||(i.current=MI(n,t)),K.useEffect(()=>{r.current=t}),K.useSyncExternalStore(K.useCallback(s=>n.subscribe(()=>{const o=PE(i.current,MI(n,r.current));i.current!==o&&(i.current=o,Dr.schedule(s))}),[n]),()=>i.current,()=>i.current)}function un(t,e){const n=Av(),[r]=K.useState(()=>new b$(n,t));K.useEffect(()=>{r.setOptions(t)},[r,t]);const i=K.useSyncExternalStore(K.useCallback(o=>r.subscribe(Dr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=K.useCallback((o,l)=>{r.mutate(o,l).catch(mS)},[r]);if(i.error&&eA(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const Du="__TSR_index",$I="popstate",BI="beforeunload";function tA(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},s=async({task:o,navigateOpts:l,...c})=>{var d,f;if(l?.ignoreBlocker??!1){o();return}const b=((d=t.getBlockers)==null?void 0:d.call(t))??[],x=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&b.length&&x)for(const _ of b){const N=Qp(c.path,c.state);if(await _.blockerFn({currentLocation:e,nextLocation:N,action:c.type})){(f=t.onBlocked)==null||f.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,c)=>{const d=e.state[Du];l=gS(d+1,l),s({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:o,state:l})},replace:(o,l,c)=>{const d=e.state[Du];l=gS(d,l),s({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:o,state:l})},go:(o,l)=>{s({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{s({task:()=>{t.back(o?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{t.forward(o?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Du]!==0,createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const c=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...c,o]),()=>{var d,f;const p=((d=t.getBlockers)==null?void 0:d.call(t))??[];(f=t.setBlockers)==null||f.call(t,p.filter(b=>b!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function gS(t,e){return e||(e={}),{...e,key:F$(),[Du]:t}}function j$(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const s=()=>i,o=P=>i=P,l=P=>P,c=()=>Qp(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let d=c(),f,p=!1,b=!1,x=!1,_=!1;const N=()=>d;let I,O;const T=()=>{I&&(z._ignoreSubscribers=!0,(I.isPush?e.history.pushState:e.history.replaceState)(I.state,"",I.href),z._ignoreSubscribers=!1,I=void 0,O=void 0,f=void 0)},q=(P,R,B)=>{const F=l(R);O||(f=d),d=Qp(R,B),I={href:F,state:B,isPush:I?.isPush||P==="push"},O||(O=Promise.resolve().then(()=>T()))},j=P=>{d=c(),z.notify({type:P})},D=async()=>{if(b){b=!1;return}const P=c(),R=P.state[Du]-d.state[Du],B=R===1,F=R===-1,W=!B&&!F||p;p=!1;const U=W?"GO":F?"BACK":"FORWARD",$=W?{type:"GO",index:R}:{type:F?"BACK":"FORWARD"};if(x)x=!1;else{const ee=s();if(typeof document<"u"&&ee.length){for(const Z of ee)if(await Z.blockerFn({currentLocation:d,nextLocation:P,action:U})){b=!0,e.history.go(1),z.notify($);return}}}d=c(),z.notify($)},L=P=>{if(_){_=!1;return}let R=!1;const B=s();if(typeof document<"u"&&B.length)for(const F of B){const W=F.enableBeforeUnload??!0;if(W===!0){R=!0;break}if(typeof W=="function"&&W()===!0){R=!0;break}}if(R)return P.preventDefault(),P.returnValue=""},z=tA({getLocation:N,getLength:()=>e.history.length,pushState:(P,R)=>q("push",P,R),replaceState:(P,R)=>q("replace",P,R),back:P=>(P&&(x=!0),_=!0,e.history.back()),forward:P=>{P&&(x=!0),_=!0,e.history.forward()},go:P=>{p=!0,e.history.go(P)},createHref:P=>l(P),flush:T,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(BI,L,{capture:!0}),e.removeEventListener($I,D)},onBlocked:()=>{f&&d!==f&&(d=f)},getBlockers:s,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(BI,L,{capture:!0}),e.addEventListener($I,D),e.history.pushState=function(...P){const R=n.apply(e.history,P);return z._ignoreSubscribers||j("PUSH"),R},e.history.replaceState=function(...P){const R=r.apply(e.history,P);return z._ignoreSubscribers||j("REPLACE"),R},z}function P$(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((s,o)=>gS(o,void 0));return tA({getLocation:()=>Qp(e[n],r[n]),getLength:()=>e.length,pushState:(s,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(s),n=Math.max(e.length-1,0)},replaceState:(s,o)=>{r[n]=o,e[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),e.length-1)},createHref:s=>s})}function Qp(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Du]:0}}}function F$(){return(Math.random()+1).toString(36).substring(7)}var D$="Invariant failed";function Es(t,e){if(!t)throw new Error(D$)}const hw=K.createContext(null);function nA(){return typeof document>"u"?hw:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=hw,hw)}function Oo(t){const e=K.useContext(nA());return t?.warn,e}var mw={exports:{}},gw={},yw={exports:{}},vw={};var zI;function L$(){if(zI)return vw;zI=1;var t=jh();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(p,b){var x=b(),_=r({inst:{value:x,getSnapshot:b}}),N=_[0].inst,I=_[1];return s(function(){N.value=x,N.getSnapshot=b,c(N)&&I({inst:N})},[p,x,b]),i(function(){return c(N)&&I({inst:N}),p(function(){c(N)&&I({inst:N})})},[p]),o(x),x}function c(p){var b=p.getSnapshot;p=p.value;try{var x=b();return!n(p,x)}catch{return!0}}function d(p,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return vw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,vw}var WI;function M$(){return WI||(WI=1,yw.exports=L$()),yw.exports}var UI;function $$(){if(UI)return gw;UI=1;var t=jh(),e=M$();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return gw.useSyncExternalStoreWithSelector=function(d,f,p,b,x){var _=s(null);if(_.current===null){var N={hasValue:!1,value:null};_.current=N}else N=_.current;_=l(function(){function O(L){if(!T){if(T=!0,q=L,L=b(L),x!==void 0&&N.hasValue){var z=N.value;if(x(z,L))return j=z}return j=L}if(z=j,r(q,L))return z;var P=b(L);return x!==void 0&&x(z,P)?(q=L,z):(q=L,j=P)}var T=!1,q,j,D=p===void 0?null:p;return[function(){return O(f())},D===null?void 0:function(){return O(D())}]},[f,p,b,x]);var I=i(d,_[0],_[1]);return o(function(){N.hasValue=!0,N.value=I},[I]),c(I),I},gw}var VI;function B$(){return VI||(VI=1,mw.exports=$$()),mw.exports}var rA=B$();const z$=ro(rA),ad=new WeakMap,Hg=new WeakMap,Cy={current:[]};let bw=!1,Tp=0;const cp=new Set,dg=new Map;function iA(t){const e=Array.from(t).sort((n,r)=>n instanceof ld&&n.options.deps.includes(r)?1:r instanceof ld&&r.options.deps.includes(n)?-1:0);for(const n of e){if(Cy.current.includes(n))continue;Cy.current.push(n),n.recompute();const r=Hg.get(n);if(r)for(const i of r){const s=ad.get(i);s&&iA(s)}}}function W$(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function U$(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function sA(t){if(Tp>0&&!dg.has(t)&&dg.set(t,t.prevState),cp.add(t),!(Tp>0)&&!bw)try{for(bw=!0;cp.size>0;){const e=Array.from(cp);cp.clear();for(const n of e){const r=dg.get(n)??n.prevState;n.prevState=r,W$(n)}for(const n of e){const r=ad.get(n);r&&(Cy.current.push(n),iA(r))}for(const n of e){const r=ad.get(n);if(r)for(const i of r)U$(i)}}}finally{bw=!1,Cy.current=[],dg.clear()}}function xw(t){Tp++;try{t()}finally{if(Tp--,Tp===0){const e=Array.from(cp)[0];e&&sA(e)}}}class yS{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),sA(this)},this.prevState=e,this.state=e,this.options=n}}class ld{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof ld&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof ld)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof yS){let r=ad.get(n);r||(r=new Set,ad.set(n,r)),r.add(this);let i=Hg.get(this);i||(i=new Set,Hg.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof ld)this.unregisterFromGraph(n.options.deps);else if(n instanceof yS){const r=ad.get(n);r&&r.delete(this);const i=Hg.get(this);i&&i.delete(n)}}}function V$(t,e=n=>n){return rA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,H$)}function H$(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var ww,HI;function Q$(){if(HI)return ww;HI=1;const t={},e=t.hasOwnProperty,n=(P,R)=>{for(const B in P)e.call(P,B)&&R(B,P[B])},r=(P,R)=>(R&&n(R,(B,F)=>{P[B]=F}),P),i=(P,R)=>{const B=P.length;let F=-1;for(;++F<B;)R(P[F])},s=P=>"\\u"+("0000"+P).slice(-4),o=(P,R)=>{let B=P.toString(16);return R?B:B.toUpperCase()},l=t.toString,c=Array.isArray,d=P=>typeof Buffer=="function"&&Buffer.isBuffer(P),f=P=>l.call(P)=="[object Object]",p=P=>typeof P=="string"||l.call(P)=="[object String]",b=P=>typeof P=="number"||l.call(P)=="[object Number]",x=P=>typeof P=="bigint",_=P=>typeof P=="function",N=P=>l.call(P)=="[object Map]",I=P=>l.call(P)=="[object Set]",O={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},T=/[\\\b\f\n\r\t]/,q=/[0-9]/,j=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,L=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,z=(P,R)=>{const B=()=>{le=Z,++R.indentLevel,Z=R.indent.repeat(R.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},W=R&&R.json;W&&(F.quotes="double",F.wrap=!0),R=r(F,R),R.quotes!="single"&&R.quotes!="double"&&R.quotes!="backtick"&&(R.quotes="single");const U=R.quotes=="double"?'"':R.quotes=="backtick"?"`":"'",$=R.compact,ee=R.lowercaseHex;let Z=R.indent.repeat(R.indentLevel),le="";const ie=R.__inline1__,te=R.__inline2__,se=$?"":`
`;let Y,ce=!0;const de=R.numbers=="binary",ye=R.numbers=="octal",we=R.numbers=="decimal",Ne=R.numbers=="hexadecimal";if(W&&P&&_(P.toJSON)&&(P=P.toJSON()),!p(P)){if(N(P))return P.size==0?"new Map()":($||(R.__inline1__=!0,R.__inline2__=!1),"new Map("+z(Array.from(P),R)+")");if(I(P))return P.size==0?"new Set()":"new Set("+z(Array.from(P),R)+")";if(d(P))return P.length==0?"Buffer.from([])":"Buffer.from("+z(Array.from(P),R)+")";if(c(P))return Y=[],R.wrap=!0,ie&&(R.__inline1__=!1,R.__inline2__=!0),te||B(),i(P,qe=>{ce=!1,te&&(R.__inline2__=!1),Y.push(($||te?"":Z)+z(qe,R))}),ce?"[]":te?"["+Y.join(", ")+"]":"["+se+Y.join(","+se)+se+($?"":le)+"]";if(b(P)||x(P)){if(W)return JSON.stringify(Number(P));let qe;if(we)qe=String(P);else if(Ne){let De=P.toString(16);ee||(De=De.toUpperCase()),qe="0x"+De}else de?qe="0b"+P.toString(2):ye&&(qe="0o"+P.toString(8));return x(P)?qe+"n":qe}else return x(P)?W?JSON.stringify(Number(P)):P+"n":f(P)?(Y=[],R.wrap=!0,B(),n(P,(qe,De)=>{ce=!1,Y.push(($?"":Z)+z(qe,R)+":"+($?"":" ")+z(De,R))}),ce?"{}":"{"+se+Y.join(","+se)+se+($?"":le)+"}"):W?JSON.stringify(P)||"null":String(P)}const ze=R.escapeEverything?D:L;return Y=P.replace(ze,(qe,De,Ze,Xe,Ue,ut)=>{if(De){if(R.minimal)return De;const Tt=De.charCodeAt(0),Wt=De.charCodeAt(1);if(R.es6){const Xt=(Tt-55296)*1024+Wt-56320+65536;return"\\u{"+o(Xt,ee)+"}"}return s(o(Tt,ee))+s(o(Wt,ee))}if(Ze)return s(o(Ze.charCodeAt(0),ee));if(qe=="\0"&&!W&&!q.test(ut.charAt(Ue+1)))return"\\0";if(Xe)return Xe==U||R.escapeEverything?"\\"+Xe:Xe;if(T.test(qe))return O[qe];if(R.minimal&&!j.test(qe))return qe;const _t=o(qe.charCodeAt(0),ee);return W||_t.length>2?s(_t):"\\x"+("00"+_t).slice(-2)}),U=="`"&&(Y=Y.replace(/\$\{/g,"\\${")),R.isScriptContext&&(Y=Y.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,W?"\\u003C!--":"\\x3C!--")),R.wrap&&(Y=U+Y+U),Y};return z.version="3.0.2",ww=z,ww}Q$();const ws="__root__";function K$(t,e){let n,r,i,s="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+s}function QI(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function G$(t,e){let n,r;const i={},s=t.split("&");for(;n=s.shift();){const o=n.indexOf("=");if(o!==-1){r=n.slice(0,o),r=decodeURIComponent(r);const l=n.slice(o+1);i[r]!==void 0?i[r]=[].concat(i[r],QI(l)):i[r]=QI(l)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const Z$=Y$(JSON.parse),J$=X$(JSON.stringify,JSON.parse);function Y$(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=G$(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function X$(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=K$(r).toString();return i?`?${i}`:""}}function Op(t){return t[t.length-1]}function e4(t){return typeof t=="function"}function Ou(t,e){return e4(t)?t(e):t}function Qg(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Qs(t,e){if(t===e)return t;const n=e,r=GI(t)&&GI(n);if(r||Cl(t)&&Cl(n)){const i=r?t:Object.keys(t),s=i.length,o=r?n:Object.keys(n),l=o.length,c=r?[]:{};let d=0;for(let f=0;f<l;f++){const p=r?f:o[f];(!r&&i.includes(p)||r)&&t[p]===void 0&&n[p]===void 0?(c[p]=void 0,d++):(c[p]=Qs(t[p],n[p]),c[p]===t[p]&&t[p]!==void 0&&d++)}return s===l&&d===s?t:c}return n}function Cl(t){if(!KI(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!KI(n)||!n.hasOwnProperty("isPrototypeOf"))}function KI(t){return Object.prototype.toString.call(t)==="[object Object]"}function GI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ZI(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function ud(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Cl(t)&&Cl(e)){const r=n?.ignoreUndefined??!0,i=ZI(t,r),s=ZI(e,r);return!n?.partial&&i.length!==s.length?!1:s.every(o=>ud(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!ud(r,e[i],n)):!1}const dp=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Qc(t){let e,n;const r=new Promise((i,s)=>{e=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function _w(t){const e=K.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function t4(t,e,n={},r={}){const i=K.useRef(typeof IntersectionObserver=="function"),s=K.useRef(null);return K.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{e(o)},n),s.current.observe(t.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[e,n,r.disabled,t]),s.current}function n4(t){const e=K.useRef(null);return K.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function Oa(t){return jv(t.filter(e=>e!==void 0).join("/"))}function jv(t){return t.replace(/\/{2,}/g,"/")}function ME(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function qu(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function r4(t){return qu(ME(t))}function Ty(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function i4(t,e,n){return Ty(t,n)===Ty(e,n)}function s4({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;e=Oy(t,e,i),n=Oy(t,n,i);let l=kd(e);const c=kd(n);l.length>1&&((s=Op(l))==null?void 0:s.value)==="/"&&l.pop(),c.forEach((f,p)=>{f.value==="/"?p?p===c.length-1&&l.push(f):l=[f]:f.value===".."?l.pop():f.value==="."||l.push(f)}),l.length>1&&(((o=Op(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const d=Oa([t,...l.map(f=>f.value)]);return jv(d)}function kd(t){if(!t)return[];t=jv(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function fg({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=kd(t),o={};for(const[l,c]of Object.entries(e)){const d=typeof c=="string";["*","_splat"].includes(l)?o[l]=d?encodeURI(c):c:o[l]=d?o4(c,i):c}return Oa(s.map(l=>{if(l.type==="wildcard"){const c=o._splat;return n?`${l.value}${c??""}`:c}if(l.type==="param"){if(r){const c=o[l.value];return`${l.value}${c??""}`}return o[l.value.substring(1)]??"undefined"}return l.value}))}function o4(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function pg(t,e,n){const r=a4(t,e,n);if(!(n.to&&!r))return r??{}}function Oy(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function a4(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=Oy(t,e,n.caseSensitive);const r=Oy(t,`${n.to??"$"}`,n.caseSensitive),i=kd(e),s=kd(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let c=0;c<Math.max(i.length,s.length);c++){const d=i[c],f=s[c],p=c>=i.length-1,b=c>=s.length-1;if(f){if(f.type==="wildcard"){const x=decodeURI(Oa(i.slice(c).map(_=>_.value)));return o["*"]=x,o._splat=x,!0}if(f.type==="pathname"){if(f.value==="/"&&!d?.value)return!0;if(d){if(n.caseSensitive){if(f.value!==d.value)return!1}else if(f.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(f.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[f.value.substring(1)]=decodeURIComponent(d.value))}}if(!p&&b)return o["**"]=Oa(i.slice(c+1).map(x=>x.value)),!!n.fuzzy&&f?.value!=="/"}return!0})()?o:void 0}function Pv(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function wu(t){return!!t?.isRedirect}function Sw(t){return!!t?.isRedirect&&t.href}function $E(t){const e=t.errorComponent??Fv;return m.jsx(l4,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?K.createElement(e,{error:n,reset:r}):t.children})}class l4 extends K.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Fv({error:t}){const[e,n]=K.useState(!1);return m.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[m.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),m.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),m.jsx("div",{style:{height:".25rem"}}),e?m.jsx("div",{children:m.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?m.jsx("code",{children:t.message}):null})}):null]})}function Ai(t){const e=Oo({warn:t?.router===void 0}),n=t?.router||e,r=K.useRef();return V$(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const s=Qs(r.current,t.select(i));return r.current=s,s}return t.select(i)}return i})}function go(t){return!!t?.isNotFound}function u4(t){const e=Ai({select:n=>`not-found-${n.location.pathname}-${n.status}`});return m.jsx($E,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(go(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(go(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function c4(){return m.jsx("p",{children:"Not Found"})}const fp={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],s=mg.find(o=>o.stringifyCondition(i));return s?s.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n];if(Cl(i)){const s=mg.find(o=>o.parseCondition(i));if(s)return s.parse(i)}return r}),encode:t=>{if(Array.isArray(t))return t.map(n=>fp.encode(n));if(Cl(t))return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,fp.encode(r)]));const e=mg.find(n=>n.stringifyCondition(t));return e?e.stringify(t):t},decode:t=>{if(Cl(t)){const e=mg.find(n=>n.parseCondition(t));if(e)return e.parse(t)}return Array.isArray(t)?t.map(e=>fp.decode(e)):Cl(t)?Object.fromEntries(Object.entries(t).map(([e,n])=>[e,fp.decode(n)])):t}},hg=(t,e,n,r)=>({key:t,stringifyCondition:e,stringify:i=>({[`$${t}`]:n(i)}),parseCondition:i=>Object.hasOwn(i,`$${t}`),parse:i=>r(i[`$${t}`])}),mg=[hg("undefined",t=>t===void 0,()=>0,()=>{}),hg("date",t=>t instanceof Date,t=>t.toISOString(),t=>new Date(t)),hg("error",t=>t instanceof Error,t=>({...t,message:t.message,stack:t.stack,cause:t.cause}),t=>Object.assign(new Error(t.message),t)),hg("formData",t=>t instanceof FormData,t=>{const e={};return t.forEach((n,r)=>{const i=e[r];i!==void 0?Array.isArray(i)?i.push(n):e[r]=[i,n]:e[r]=n}),e},t=>{const e=new FormData;return Object.entries(t).forEach(([n,r])=>{Array.isArray(r)?r.forEach(i=>e.append(n,i)):e.append(n,r)}),e})],oA=["component","errorComponent","pendingComponent","notFoundComponent"];function d4(t){var e;for(const n of oA)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function Ew(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new vS("Async validation not supported");if(n.issues)throw new vS(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function f4(t){return new p4(t)}class p4{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${r4(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?P$({initialEntries:[this.basepath||"/"]}):j$()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new yS(m4(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((l,c)=>{l.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const d=this.routesById[l.id];if(Es(!d,`Duplicate routes found with id: ${String(l.id)}`),this.routesById[l.id]=l,!l.isRoot&&l.path){const p=qu(l.fullPath);(!this.routesByPath[p]||l.fullPath.endsWith("/"))&&(this.routesByPath[p]=l)}const f=l.children;f?.length&&r(f)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,l)=>{var c;if(o.isRoot||!o.path)return;const d=ME(o.fullPath),f=kd(d);for(;f.length>1&&((c=f[0])==null?void 0:c.value)==="/";)f.shift();const p=f.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);i.push({child:o,trimmed:d,parsed:f,index:l,scores:p})}),this.flatRoutes=i.sort((o,l)=>{const c=Math.min(o.scores.length,l.scores.length);for(let d=0;d<c;d++)if(o.scores[d]!==l.scores[d])return l.scores[d]-o.scores[d];if(o.scores.length!==l.scores.length)return l.scores.length-o.scores.length;for(let d=0;d<c;d++)if(o.parsed[d].value!==l.parsed[d].value)return o.parsed[d].value>l.parsed[d].value?1:-1;return o.index-l.index}).map((o,l)=>(o.child.rank=l,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:c,search:d,hash:f,state:p})=>{const b=this.options.parseSearch(d),x=this.options.stringifySearch(b);return{pathname:c,searchStr:x,search:Qs(n?.search,b),hash:f.split("#").reverse()[0]??"",href:`${c}${x}${f}`,state:Qs(n?.state,p)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:l}=s.state;if(o&&(!l||l===this.tempLocationKey)){const c=i(o);return c.state.key=s.state.key,delete c.state.__tempLocation,{...c,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>s4({basepath:this.basepath,base:n,to:jv(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const s=qu(n.pathname),o=f=>pg(this.basepath,s,{to:f.fullPath,caseSensitive:f.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let l=r?.to!==void 0?this.routesByPath[r.to]:void 0;l?i=o(l):l=this.flatRoutes.find(f=>{const p=o(f);return p?(i=p,!0):!1});let c=l||this.routesById[ws];const d=[c];for(;c.parentRoute;)c=c.parentRoute,d.unshift(c);return{matchedRoutes:d,routeParams:i,foundRoute:l}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var l,c,d,f,p,b;const x=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,_=s.from!=null?x.find(F=>pg(this.basepath,qu(F.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,N=_?.pathname||this.latestLocation.pathname;Es(s.from==null||_!=null,"Could not find match for from: "+s.from);const I=(l=this.state.pendingMatches)!=null&&l.length?(c=Op(this.state.pendingMatches))==null?void 0:c.search:((d=Op(x))==null?void 0:d.search)||this.latestLocation.search,O=o?.matchedRoutes.filter(F=>x.find(W=>W.routeId===F.id));let T;if(s.to)T=this.resolvePathWithBase(N,`${s.to}`);else{const F=this.routesById[(f=O?.find(W=>{const U=fg({path:W.fullPath,params:o?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return Oa([this.basepath,U])===N}))==null?void 0:f.id];T=this.resolvePathWithBase(N,F?.to??N)}const q={...(p=Op(x))==null?void 0:p.params};let j=(s.params??!0)===!0?q:{...q,...Ou(s.params,q)};Object.keys(j).length>0&&o?.matchedRoutes.map(F=>{var W;return((W=F.options.params)==null?void 0:W.stringify)??F.options.stringifyParams}).filter(Boolean).forEach(F=>{j={...j,...F(j)}}),T=fg({path:T,params:j??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let D=I;if(n._includeValidateSearch&&((b=this.options.search)!=null&&b.strict)){let F={};o?.matchedRoutes.forEach(W=>{try{W.options.validateSearch&&(F={...F,...Ew(W.options.validateSearch,{...F,...D})??{}})}catch{}}),D=F}D=(F=>{const W=o?.matchedRoutes.reduce((ee,Z)=>{var le;const ie=[];if("search"in Z.options)(le=Z.options.search)!=null&&le.middlewares&&ie.push(...Z.options.search.middlewares);else if(Z.options.preSearchFilters||Z.options.postSearchFilters){const te=({search:se,next:Y})=>{let ce=se;"preSearchFilters"in Z.options&&Z.options.preSearchFilters&&(ce=Z.options.preSearchFilters.reduce((ye,we)=>we(ye),se));const de=Y(ce);return"postSearchFilters"in Z.options&&Z.options.postSearchFilters?Z.options.postSearchFilters.reduce((ye,we)=>we(ye),de):de};ie.push(te)}if(n._includeValidateSearch&&Z.options.validateSearch){const te=({search:se,next:Y})=>{try{const ce=Y(se);return{...ce,...Ew(Z.options.validateSearch,ce)??{}}}catch{}};ie.push(te)}return ee.concat(ie)},[])??[],U=({search:ee})=>s.search?s.search===!0?ee:Ou(s.search,ee):{};W.push(U);const $=(ee,Z)=>{if(ee>=W.length)return Z;const le=W[ee];return le({search:Z,next:te=>$(ee+1,te)})};return $(0,F)})(D),D=Qs(I,D);const z=this.options.stringifySearch(D),P=s.hash===!0?this.latestLocation.hash:s.hash?Ou(s.hash,this.latestLocation.hash):void 0,R=P?`#${P}`:"";let B=s.state===!0?this.latestLocation.state:s.state?Ou(s.state,this.latestLocation.state):{};return B=Qs(this.latestLocation.state,B),{pathname:T,search:D,searchStr:z,state:B,hash:P??"",href:`${T}${z}${R}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var l;const c=r(s);let d=o?r(o):void 0;if(!d){let b={};const x=(l=this.options.routeMasks)==null?void 0:l.find(_=>{const N=pg(this.basepath,c.pathname,{to:_.from,caseSensitive:!1,fuzzy:!1});return N?(b=N,!0):!1});if(x){const{from:_,...N}=x;o={...Qg(n,["from"]),...N,params:b},d=r(o)}}const f=this.getMatchedRoutes(c,s),p=r(s,f);if(d){const b=this.getMatchedRoutes(d,o),x=r(o,b);p.maskedLocation=x}return p};return n.mask?i(n,{...Qg(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{i.state.key=this.latestLocation.state.key;const c=ud(i.state,this.latestLocation.state);return delete i.state.key,c},o=this.latestLocation.href===i.href,l=this.commitLocationPromise;if(this.commitLocationPromise=Qc(()=>{l?.resolve()}),o&&s())this.load();else{let{maskedLocation:c,hashScrollIntoView:d,...f}=i;c&&(f={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...f,search:f.searchStr,state:{...f.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(f.unmaskOnReload??this.options.unmaskOnReload??!1)&&(f.state.__tempKey=this.tempLocationKey)),f.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](f.href,f.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:l,...c}={})=>{if(l){const f=this.history.location.state.__TSR_index,p=Qp(l,{__TSR_index:n?f:f+1});c.to=p.pathname,c.search=this.options.parseSearch(p.search),c.hash=p.hash.slice(1)}const d=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){i||(i=this.buildLocation({to:n,...s}).href),s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,d=this.state.resolvedLocation,f=d.href!==c.href,p=d.pathname!==c.pathname;this.cancelMatches();let b;xw(()=>{b=this.matchRoutes(c),this.__store.setState(x=>({...x,status:"pending",isLoading:!0,location:c,pendingMatches:b,cachedMatches:x.cachedMatches.filter(_=>!b.find(N=>N.id===_.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:c,pathChanged:p,hrefChanged:f}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:c,pathChanged:p,hrefChanged:f}),await this.loadMatches({sync:n?.sync,matches:b,location:c,onReady:async()=>{this.startViewTransition(async()=>{let x,_,N;xw(()=>{this.__store.setState(I=>{const O=I.matches,T=I.pendingMatches||I.matches;return x=O.filter(q=>!T.find(j=>j.id===q.id)),_=T.filter(q=>!O.find(j=>j.id===q.id)),N=O.filter(q=>T.find(j=>j.id===q.id)),{...I,isLoading:!1,loadedAt:Date.now(),matches:T,pendingMatches:void 0,cachedMatches:[...I.cachedMatches,...x.filter(q=>q.status!=="error")]}}),this.clearExpiredCache()}),[[x,"onLeave"],[_,"onEnter"],[N,"onStay"]].forEach(([I,O])=>{I.forEach(T=>{var q,j;(j=(q=this.looseRoutesById[T.routeId].options)[O])==null||j.call(q,T)})})})}})}catch(c){Sw(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):go(c)&&(i=c),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:i?404:d.matches.some(f=>f.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(f=>f.id===n),l=this.state.matches.find(f=>f.id===n),c=this.state.cachedMatches.find(f=>f.id===n),d=o?"pendingMatches":l?"matches":c?"cachedMatches":"";return d&&this.__store.setState(f=>{var p;return{...f,[d]:(p=f[d])==null?void 0:p.map(b=>b.id===n?s=r(b):b)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:l})=>{let c,d=!1;const f=async()=>{d||(d=!0,await s?.())},p=x=>!!(i&&!this.state.matches.find(_=>_.id===x));!this.isServer&&!this.state.matches.length&&f();const b=(x,_)=>{var N,I,O;if(Sw(_)&&!_.reloadDocument)throw _;if(wu(_)||go(_)){if(o(x.id,T=>({...T,status:wu(_)?"redirected":go(_)?"notFound":"error",isFetching:!1,error:_,beforeLoadPromise:void 0,loaderPromise:void 0})),_.routeId||(_.routeId=x.routeId),(N=x.beforeLoadPromise)==null||N.resolve(),(I=x.loaderPromise)==null||I.resolve(),(O=x.loadPromise)==null||O.resolve(),wu(_))throw d=!0,_=this.resolveRedirect({..._,_fromLocation:n}),_;if(go(_))throw this._handleNotFound(r,_,{updateMatch:o}),_}};try{await new Promise((x,_)=>{(async()=>{var N,I,O;try{const T=(D,L,z)=>{var P,R;const{id:B,routeId:F}=r[D],W=this.looseRoutesById[F];if(L instanceof Promise)throw L;L.routerCode=z,c=c??D,b(this.getMatch(B),L);try{(R=(P=W.options).onError)==null||R.call(P,L)}catch(U){L=U,b(this.getMatch(B),L)}o(B,U=>{var $,ee;return($=U.beforeLoadPromise)==null||$.resolve(),(ee=U.loadPromise)==null||ee.resolve(),{...U,error:L,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[D,{id:L,routeId:z}]of r.entries()){const P=this.getMatch(L),R=(N=r[D-1])==null?void 0:N.id,B=this.looseRoutesById[z],F=B.options.pendingMs??this.options.defaultPendingMs,W=!!(s&&!this.isServer&&!p(L)&&(B.options.loader||B.options.beforeLoad)&&typeof F=="number"&&F!==1/0&&(B.options.pendingComponent??this.options.defaultPendingComponent));let U=!0;if((P.beforeLoadPromise||P.loaderPromise)&&(W&&setTimeout(()=>{try{f()}catch{}},F),await P.beforeLoadPromise,U=this.getMatch(L).status!=="success"),U){try{o(L,Ne=>({...Ne,loadPromise:Qc(()=>{var ze;(ze=Ne.loadPromise)==null||ze.resolve()}),beforeLoadPromise:Qc()}));const $=new AbortController;let ee;W&&(ee=setTimeout(()=>{try{f()}catch{}},F));const{paramsError:Z,searchError:le}=this.getMatch(L);Z&&T(D,Z,"PARSE_PARAMS"),le&&T(D,le,"VALIDATE_SEARCH");const ie=()=>R?this.getMatch(R).context:this.options.context??{};o(L,Ne=>({...Ne,isFetching:"beforeLoad",fetchCount:Ne.fetchCount+1,abortController:$,pendingTimeout:ee,context:{...ie(),...Ne.__routeContext}}));const{search:te,params:se,context:Y,cause:ce}=this.getMatch(L),de=p(L),ye={search:te,abortController:$,params:se,preload:de,context:Y,location:n,navigate:Ne=>this.navigate({...Ne,_fromLocation:n}),buildLocation:this.buildLocation,cause:de?"preload":ce,matches:r};let we=await ((O=(I=B.options).beforeLoad)==null?void 0:O.call(I,ye))??{};this.serializeLoaderData&&(we=this.serializeLoaderData("__beforeLoadContext",we,{router:this,match:this.getMatch(L)})),(wu(we)||go(we))&&T(D,we,"BEFORE_LOAD"),o(L,Ne=>({...Ne,__beforeLoadContext:we,context:{...ie(),...Ne.__routeContext,...we},abortController:$}))}catch($){T(D,$,"BEFORE_LOAD")}o(L,$=>{var ee;return(ee=$.beforeLoadPromise)==null||ee.resolve(),{...$,beforeLoadPromise:void 0,isFetching:!1}})}}const q=r.slice(0,c),j=[];q.forEach(({id:D,routeId:L},z)=>{j.push((async()=>{const{loaderPromise:P}=this.getMatch(D);let R=!1,B=!1;if(P){await P;const F=this.getMatch(D);F.error&&b(F,F.error)}else{const F=j[z-1],W=this.looseRoutesById[L],U=()=>{const{params:ce,loaderDeps:de,abortController:ye,context:we,cause:Ne}=this.getMatch(D),ze=p(D);return{params:ce,deps:de,preload:!!ze,parentMatchPromise:F,abortController:ye,context:we,location:n,navigate:qe=>this.navigate({...qe,_fromLocation:n}),cause:ze?"preload":Ne,route:W}},$=Date.now()-this.getMatch(D).updatedAt,ee=p(D),Z=ee?W.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:W.options.staleTime??this.options.defaultStaleTime??0,le=W.options.shouldReload,ie=typeof le=="function"?le(U()):le;o(D,ce=>({...ce,loaderPromise:Qc(),preload:!!ee&&!this.state.matches.find(de=>de.id===D)}));const te=async()=>{var ce,de,ye,we,Ne,ze,qe,De;try{const Ze=async()=>{const Xe=this.getMatch(D);Xe.minPendingPromise&&await Xe.minPendingPromise};try{this.loadRouteChunk(W),o(D,Xt=>({...Xt,isFetching:"loader"}));let Xe=await ((de=(ce=W.options).loader)==null?void 0:de.call(ce,U()));this.serializeLoaderData&&(Xe=this.serializeLoaderData("loaderData",Xe,{router:this,match:this.getMatch(D)})),b(this.getMatch(D),Xe),await W._lazyPromise,await Ze();const Ue=(we=(ye=W.options).head)==null?void 0:we.call(ye,{matches:r,match:this.getMatch(D),params:this.getMatch(D).params,loaderData:Xe}),ut=Ue?.meta,_t=Ue?.links,Tt=Ue?.scripts,Wt=(ze=(Ne=W.options).headers)==null?void 0:ze.call(Ne,{loaderData:Xe});o(D,Xt=>({...Xt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Xe,meta:ut,links:_t,scripts:Tt,headers:Wt}))}catch(Xe){let Ue=Xe;await Ze(),b(this.getMatch(D),Xe);try{(De=(qe=W.options).onError)==null||De.call(qe,Xe)}catch(ut){Ue=ut,b(this.getMatch(D),ut)}o(D,ut=>({...ut,error:Ue,status:"error",isFetching:!1}))}await W._componentsPromise}catch(Ze){o(D,Xe=>({...Xe,loaderPromise:void 0})),b(this.getMatch(D),Ze)}},{status:se,invalid:Y}=this.getMatch(D);R=se==="success"&&(Y||(ie??$>Z)),ee&&W.options.preload===!1||(R&&!l?(B=!0,(async()=>{try{await te();const{loaderPromise:ce,loadPromise:de}=this.getMatch(D);ce?.resolve(),de?.resolve(),o(D,ye=>({...ye,loaderPromise:void 0}))}catch(ce){Sw(ce)&&await this.navigate(ce)}})()):(se!=="success"||R&&l)&&await te())}if(!B){const{loaderPromise:F,loadPromise:W}=this.getMatch(D);F?.resolve(),W?.resolve()}return o(D,F=>({...F,isFetching:B?F.isFetching:!1,loaderPromise:B?F.loaderPromise:void 0,invalid:!1})),this.getMatch(D)})())}),await Promise.all(j),x()}catch(T){_(T)}})()}),await f()}catch(x){if(wu(x)||go(x))throw go(x)&&!i&&await f(),x}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n?.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load({sync:n?.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(oA.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...s,...this.state.cachedMatches.map(l=>l.id)]);xw(()=>{i.forEach(l=>{o.has(l.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,l]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(l,c)=>{s.has(l)?i=i.map(d=>d.id===l?c(d):d):this.updateMatch(l,c)}}),i}catch(l){if(wu(l))return l.reloadDocument?void 0:await this.preloadRoute({...l,_fromLocation:r});console.error(l);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,c=pg(this.basepath,l.pathname,{...r,to:s.pathname});return!c||n.params&&!ud(c,n.params,{partial:!0})?!1:c&&(r?.includeSearch??!0)?ud(l.search,s.search,{partial:!0})?c:!1:c},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??g4;return{state:{dehydratedMatches:this.state.matches.map(i=>({...Qg(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let s;typeof document<"u"&&(s=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),Es(s),this.dehydratedData=s.payload,(i=(r=this.options).hydrate)==null||i.call(r,s.payload);const o=s.router.state,l=this.matchRoutes(this.state.location).map(c=>{const d=o.dehydratedMatches.find(f=>f.id===c.id);return Es(d,`Could not find a client-side match for dehydrated match with id: ${c.id}!`),{...c,...d}});this.__store.setState(c=>({...c,matches:l})),this.manifest=s.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const s=Object.fromEntries(n.map(c=>[c.routeId,c]));let o=(r.global?this.looseRoutesById[ws]:this.looseRoutesById[r.routeId])||this.looseRoutesById[ws];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==ws;)o=o.parentRoute,Es(o);const l=s[o.id];Es(l,"Could not find match for route: "+o.id),i(l.id,c=>({...c,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??J$,parseSearch:e.parseSearch??Z$,transformer:e.transformer??fp}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(e,n?.dest);let o=!1;(r?r.path!=="/"&&s["**"]:qu(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const l=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let p=i.length-1;p>=0;p--){const b=i[p];if(b.children)return b.id}return ws}})(),c=i.map(p=>{var b;let x;const _=((b=p.options.params)==null?void 0:b.parse)??p.options.parseParams;if(_)try{const N=_(s);Object.assign(s,N)}catch(N){if(x=new h4(N.message,{cause:N}),n?.throwOnError)throw x;return x}}),d=[],f=p=>p?.id?p.context??this.options.context??{}:this.options.context??{};return i.forEach((p,b)=>{var x,_,N,I;const O=d[b-1],[T,q]=(()=>{const U=O?.search??e.search;try{const $=Ew(p.options.validateSearch,U)??{};return[{...U,...$},void 0]}catch($){const ee=new vS($.message,{cause:$});if(n?.throwOnError)throw ee;return[U,ee]}})(),j=((_=(x=p.options).loaderDeps)==null?void 0:_.call(x,{search:T}))??"",D=j?JSON.stringify(j):"",L=fg({path:p.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),z=fg({path:p.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+D,P=this.getMatch(z),R=this.state.matches.find(U=>U.routeId===p.id),B=R?"stay":"enter";let F;if(P)F={...P,cause:B,params:R?Qs(R.params,s):s,search:Qs(R?R.search:P.search,T)};else{const U=p.options.loader||p.options.beforeLoad||p.lazyFn||d4(p)?"pending":"success";F={id:z,index:b,routeId:p.id,params:R?Qs(R.params,s):s,pathname:Oa([this.basepath,L]),updatedAt:Date.now(),search:R?Qs(R.search,T):T,searchError:void 0,status:U,isFetching:!1,error:void 0,paramsError:c[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:B,loaderDeps:R?Qs(R.loaderDeps,j):j,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:p.options.staticData||{},loadPromise:Qc(),fullPath:p.fullPath}}F.status==="success"&&(F.headers=(I=(N=p.options).headers)==null?void 0:I.call(N,{loaderData:F.loaderData})),n?.preload||(F.globalNotFound=l===p.id),F.searchError=q;const W=f(O);F.context={...W,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((p,b)=>{var x,_,N,I;const O=this.looseRoutesById[p.routeId];if(!this.getMatch(p.id)&&n?._buildLocation!==!0){const j=d[b-1],D=f(j),L={deps:p.loaderDeps,params:p.params,context:D,location:e,navigate:z=>this.navigate({...z,_fromLocation:e}),buildLocation:this.buildLocation,cause:p.cause,abortController:p.abortController,preload:!!p.preload,matches:d};p.__routeContext=((_=(x=O.options).context)==null?void 0:_.call(x,L))??{},p.context={...D,...p.__routeContext,...p.__beforeLoadContext}}const q=(I=(N=O.options).head)==null?void 0:I.call(N,{matches:d,match:p,params:p.params,loaderData:p.loaderData??void 0});p.links=q?.links,p.scripts=q?.scripts,p.meta=q?.meta}),d}}class vS extends Error{}class h4 extends Error{}function m4(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function g4(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function JI(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function YI(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Dv=K.createContext(void 0),y4=K.createContext(void 0);function Fl(t){const e=K.useContext(t.from?y4:Dv);return Ai({select:r=>{const i=r.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(Es(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function Ud(t){return Fl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function v4(t){const{select:e,...n}=t;return Fl({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function Bn(t){return Fl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function b4(t){return Fl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Vd(t){const{navigate:e}=Oo();return K.useCallback(n=>e({...n}),[e])}let aA=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!s?.path&&!s?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=ws:Es(this.parentRoute);let l=o?ws:s.path;l&&l!=="/"&&(l=ME(l));const c=s?.id||l;let d=o?ws:Oa([this.parentRoute.id===ws?"":this.parentRoute.id,c]);l===ws&&(l="/"),d!==ws&&(d=Oa(["/",d]));const f=d===ws?"/":Oa([this.parentRoute.fullPath,l]);this._path=l,this._id=d,this._fullPath=f,this._to=f,this._ssr=s?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>Fl({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Fl({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>b4({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Bn({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>v4({...n,from:this.id}),this.useLoaderData=n=>Ud({...n,from:this.id}),this.useNavigate=()=>Vd({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,Es(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function x4(t){return new aA(t)}function w4(){return t=>S4(t)}class _4 extends aA{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function S4(t){return new _4(t)}function Sn(t){return new E4(t,{silent:!0}).createRoute}class E4{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=x4(r);return i.isRoot=!1,i},this.silent=n?.silent}}function Kg(t){return m.jsx(m.Fragment,{children:t.children})}function lA(t,e,n){return e.options.notFoundComponent?m.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?m.jsx(t.options.defaultNotFoundComponent,{data:n}):m.jsx(c4,{})}const uA=K.memo(function({matchId:e}){var n,r;const i=Oo(),s=Ai({select:I=>{var O;return(O=I.matches.find(T=>T.id===e))==null?void 0:O.routeId}});Es(s);const o=i.routesById[s],l=o.options.pendingComponent??i.options.defaultPendingComponent,c=l?m.jsx(l,{}):null,d=o.options.errorComponent??i.options.defaultErrorComponent,f=o.options.onCatch??i.options.defaultOnCatch,p=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,b=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??l??((r=o.options.errorComponent)==null?void 0:r.preload))?K.Suspense:Kg,x=d?$E:Kg,_=p?u4:Kg,N=Ai({select:I=>I.loadedAt});return m.jsx(Dv.Provider,{value:e,children:m.jsx(b,{fallback:c,children:m.jsx(x,{getResetKey:()=>N,errorComponent:d||Fv,onCatch:(I,O)=>{if(go(I))throw I;f?.(I,O)},children:m.jsx(_,{fallback:I=>{if(!p||I.routeId&&I.routeId!==s||!I.routeId&&!o.isRoot)throw I;return K.createElement(p,I)},children:m.jsx(N4,{matchId:e})})})})})}),N4=K.memo(function({matchId:e}){var n,r,i,s,o;const l=Oo(),{match:c,matchIndex:d,routeId:f}=Ai({select:_=>{const N=_.matches.findIndex(T=>T.id===e),I=_.matches[N];return{routeId:I.routeId,matchIndex:N,match:Qg(I,["id","status","error"])}},structuralSharing:!0}),p=l.routesById[f],b=K.useMemo(()=>{const _=p.options.component??l.options.defaultComponent;return _?m.jsx(_,{}):m.jsx($a,{})},[p.options.component,l.options.defaultComponent]),x=(p.options.errorComponent??l.options.defaultErrorComponent)||Fv;if(c.status==="notFound"){let _;return JI(c.error)?_=(((n=l.options.errorSerializer)==null?void 0:n.deserialize)??YI)(c.error.data):_=c.error,Es(go(_)),lA(l,p,_)}if(c.status==="redirected")throw Es(wu(c.error)),(r=l.getMatch(c.id))==null?void 0:r.loadPromise;if(c.status==="error"){if(l.isServer)return m.jsx(x,{error:c.error,info:{componentStack:""}});throw JI(c.error)?(((i=l.options.errorSerializer)==null?void 0:i.deserialize)??YI)(c.error.data):c.error}if(c.status==="pending"){const _=p.options.pendingMinMs??l.options.defaultPendingMinMs;if(_&&!((s=l.getMatch(c.id))!=null&&s.minPendingPromise)&&!l.isServer){const N=Qc();Promise.resolve().then(()=>{l.updateMatch(c.id,I=>({...I,minPendingPromise:N}))}),setTimeout(()=>{N.resolve(),l.updateMatch(c.id,I=>({...I,minPendingPromise:void 0}))},_)}throw(o=l.getMatch(c.id))==null?void 0:o.loadPromise}return m.jsxs(m.Fragment,{children:[b,l.AfterEachMatch?m.jsx(l.AfterEachMatch,{match:c,matchIndex:d}):null]})}),$a=K.memo(function(){const e=Oo(),n=K.useContext(Dv),r=Ai({select:d=>{var f;return(f=d.matches.find(p=>p.id===n))==null?void 0:f.routeId}}),i=e.routesById[r],s=Ai({select:d=>{const p=d.matches.find(b=>b.id===n);return Es(p),p.globalNotFound}}),o=Ai({select:d=>{var f;const p=d.matches,b=p.findIndex(x=>x.id===n);return(f=p[b+1])==null?void 0:f.id}});if(s)return lA(e,i,void 0);if(!o)return null;const l=m.jsx(uA,{matchId:o}),c=e.options.defaultPendingComponent?m.jsx(e.options.defaultPendingComponent,{}):null;return n===ws?m.jsx(K.Suspense,{fallback:c,children:l}):l});var Nw={exports:{}},es={},kw={exports:{}},Iw={};var XI;function k4(){return XI||(XI=1,function(t){function e(ie,te){var se=ie.length;ie.push(te);e:for(;0<se;){var Y=se-1>>>1,ce=ie[Y];if(0<i(ce,te))ie[Y]=te,ie[se]=ce,se=Y;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var te=ie[0],se=ie.pop();if(se!==te){ie[0]=se;e:for(var Y=0,ce=ie.length,de=ce>>>1;Y<de;){var ye=2*(Y+1)-1,we=ie[ye],Ne=ye+1,ze=ie[Ne];if(0>i(we,se))Ne<ce&&0>i(ze,we)?(ie[Y]=ze,ie[Ne]=se,Y=Ne):(ie[Y]=we,ie[ye]=se,Y=ye);else if(Ne<ce&&0>i(ze,se))ie[Y]=ze,ie[Ne]=se,Y=Ne;else break e}}return te}function i(ie,te){var se=ie.sortIndex-te.sortIndex;return se!==0?se:ie.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,p=null,b=3,x=!1,_=!1,N=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ie){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=ie)r(d),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(d)}}function j(ie){if(N=!1,q(ie),!_)if(n(c)!==null)_=!0,Z(D);else{var te=n(d);te!==null&&le(j,te.startTime-ie)}}function D(ie,te){_=!1,N&&(N=!1,O(P),P=-1),x=!0;var se=b;try{for(q(te),p=n(c);p!==null&&(!(p.expirationTime>te)||ie&&!F());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,b=p.priorityLevel;var ce=Y(p.expirationTime<=te);te=t.unstable_now(),typeof ce=="function"?p.callback=ce:p===n(c)&&r(c),q(te)}else r(c);p=n(c)}if(p!==null)var de=!0;else{var ye=n(d);ye!==null&&le(j,ye.startTime-te),de=!1}return de}finally{p=null,b=se,x=!1}}var L=!1,z=null,P=-1,R=5,B=-1;function F(){return!(t.unstable_now()-B<R)}function W(){if(z!==null){var ie=t.unstable_now();B=ie;var te=!0;try{te=z(!0,ie)}finally{te?U():(L=!1,z=null)}}else L=!1}var U;if(typeof T=="function")U=function(){T(W)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ee=$.port2;$.port1.onmessage=W,U=function(){ee.postMessage(null)}}else U=function(){I(W,0)};function Z(ie){z=ie,L||(L=!0,U())}function le(ie,te){P=I(function(){ie(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,Z(D))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ie){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var se=b;b=te;try{return ie()}finally{b=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,te){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=b;b=ie;try{return te()}finally{b=se}},t.unstable_scheduleCallback=function(ie,te,se){var Y=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Y+se:Y):se=Y,ie){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=0x3fffffff;break;case 4:ce=1e4;break;default:ce=5e3}return ce=se+ce,ie={id:f++,callback:te,priorityLevel:ie,startTime:se,expirationTime:ce,sortIndex:-1},se>Y?(ie.sortIndex=se,e(d,ie),n(c)===null&&ie===n(d)&&(N?(O(P),P=-1):N=!0,le(j,se-Y))):(ie.sortIndex=ce,e(c,ie),_||x||(_=!0,Z(D))),ie},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ie){var te=b;return function(){var se=b;b=te;try{return ie.apply(this,arguments)}finally{b=se}}}}(Iw)),Iw}var eC;function I4(){return eC||(eC=1,kw.exports=k4()),kw.exports}var tC;function C4(){if(tC)return es;tC=1;var t=jh(),e=I4();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function b(a){return c.call(p,a)?!0:c.call(f,a)?!1:d.test(a)?p[a]=!0:(f[a]=!0,!1)}function x(a,u,h,w){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,u,h,w){if(u===null||typeof u>"u"||x(a,u,h,w))return!0;if(w)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function N(a,u,h,w,k,A,G){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=k,this.mustUseProperty=h,this.propertyName=a,this.type=u,this.sanitizeURL=A,this.removeEmptyString=G}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new N(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];I[u]=new N(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new N(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new N(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new N(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new N(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new N(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new N(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new N(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(O,T);I[u]=new N(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(O,T);I[u]=new N(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(O,T);I[u]=new N(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new N(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new N(a,1,!1,a.toLowerCase(),null,!0,!0)});function q(a,u,h,w){var k=I.hasOwnProperty(u)?I[u]:null;(k!==null?k.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,h,k,w)&&(h=null),w||k===null?b(u)&&(h===null?a.removeAttribute(u):a.setAttribute(u,""+h)):k.mustUseProperty?a[k.propertyName]=h===null?k.type===3?!1:"":h:(u=k.attributeName,w=k.attributeNamespace,h===null?a.removeAttribute(u):(k=k.type,h=k===3||k===4&&h===!0?"":""+h,w?a.setAttributeNS(w,u,h):a.setAttribute(u,h))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),ie=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=ie&&a[ie]||a["@@iterator"],typeof a=="function"?a:null)}var se=Object.assign,Y;function ce(a){if(Y===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Y=u&&u[1]||""}return`
`+Y+a}var de=!1;function ye(a,u){if(!a||de)return"";de=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(He){var w=He}Reflect.construct(a,[],u)}else{try{u.call()}catch(He){w=He}a.call(u.prototype)}else{try{throw Error()}catch(He){w=He}a()}}catch(He){if(He&&w&&typeof He.stack=="string"){for(var k=He.stack.split(`
`),A=w.stack.split(`
`),G=k.length-1,ge=A.length-1;1<=G&&0<=ge&&k[G]!==A[ge];)ge--;for(;1<=G&&0<=ge;G--,ge--)if(k[G]!==A[ge]){if(G!==1||ge!==1)do if(G--,ge--,0>ge||k[G]!==A[ge]){var Se=`
`+k[G].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=G&&0<=ge);break}}}finally{de=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?ce(a):""}function we(a){switch(a.tag){case 5:return ce(a.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return a=ye(a.type,!1),a;case 11:return a=ye(a.type.render,!1),a;case 1:return a=ye(a.type,!0),a;default:return""}}function Ne(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case L:return"Portal";case R:return"Profiler";case P:return"StrictMode";case U:return"Suspense";case $:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case B:return(a._context.displayName||"Context")+".Provider";case W:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return u=a.displayName||null,u!==null?u:Ne(a.type)||"Memo";case Z:u=a._payload,a=a._init;try{return Ne(a(u))}catch{}}return null}function ze(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function qe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function De(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ze(a){var u=De(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),w=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var k=h.get,A=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return k.call(this)},set:function(G){w=""+G,A.call(this,G)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return w},setValue:function(G){w=""+G},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Xe(a){a._valueTracker||(a._valueTracker=Ze(a))}function Ue(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),w="";return a&&(w=De(a)?a.checked?"true":"false":a.value),a=w,a!==h?(u.setValue(a),!0):!1}function ut(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _t(a,u){var h=u.checked;return se({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Tt(a,u){var h=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;h=qe(u.value!=null?u.value:h),a._wrapperState={initialChecked:w,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Wt(a,u){u=u.checked,u!=null&&q(a,"checked",u,!1)}function Xt(a,u){Wt(a,u);var h=qe(u.value),w=u.type;if(h!=null)w==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?ve(a,u.type,h):u.hasOwnProperty("defaultValue")&&ve(a,u.type,qe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function xe(a,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,h||u===a.value||(a.value=u),a.defaultValue=u}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function ve(a,u,h){(u!=="number"||ut(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var ke=Array.isArray;function je(a,u,h,w){if(a=a.options,u){u={};for(var k=0;k<h.length;k++)u["$"+h[k]]=!0;for(h=0;h<a.length;h++)k=u.hasOwnProperty("$"+a[h].value),a[h].selected!==k&&(a[h].selected=k),k&&w&&(a[h].defaultSelected=!0)}else{for(h=""+qe(h),u=null,k=0;k<a.length;k++){if(a[k].value===h){a[k].selected=!0,w&&(a[k].defaultSelected=!0);return}u!==null||a[k].disabled||(u=a[k])}u!==null&&(u.selected=!0)}}function Ve(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(n(92));if(ke(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),h=u}a._wrapperState={initialValue:qe(h)}}function Me(a,u){var h=qe(u.value),w=qe(u.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),u.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),w!=null&&(a.defaultValue=""+w)}function ct(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Ht(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Ht(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var dn,rr=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,w,k){MSApp.execUnsafeLocalFunction(function(){return a(u,h,w,k)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(dn=dn||document.createElement("div"),dn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=dn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Rn(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Si=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(a){Si.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),jr[u]=jr[a]})});function mr(a,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||jr.hasOwnProperty(a)&&jr[a]?(""+u).trim():u+"px"}function Kt(a,u){a=a.style;for(var h in u)if(u.hasOwnProperty(h)){var w=h.indexOf("--")===0,k=mr(h,u[h],w);h==="float"&&(h="cssFloat"),w?a.setProperty(h,k):a[h]=k}}var Ui=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vi(a,u){if(u){if(Ui[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Hi(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function ia(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yl=null,Ps=null,V=null;function ac(a){if(a=Ff(a)){if(typeof Yl!="function")throw Error(n(280));var u=a.stateNode;u&&(u=Nm(u),Yl(a.stateNode,a.type,u))}}function on(a){Ps?V?V.push(a):V=[a]:Ps=a}function lc(){if(Ps){var a=Ps,u=V;if(V=Ps=null,ac(a),u)for(a=0;a<u.length;a++)ac(u[a])}}function uc(a,u){return a(u)}function cc(){}var Xl=!1;function sa(a,u,h){if(Xl)return a(u,h);Xl=!0;try{return uc(a,u,h)}finally{Xl=!1,(Ps!==null||V!==null)&&(cc(),lc())}}function Qi(a,u){var h=a.stateNode;if(h===null)return null;var w=Nm(h);if(w===null)return null;h=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var eu=!1;if(l)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){eu=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{eu=!1}function uf(a,u,h,w,k,A,G,ge,Se){var He=Array.prototype.slice.call(arguments,3);try{u.apply(h,He)}catch(ht){this.onError(ht)}}var aa=!1,Fs=null,Wa=!1,Ds=null,cf={onError:function(a){aa=!0,Fs=a}};function df(a,u,h,w,k,A,G,ge,Se){aa=!1,Fs=null,uf.apply(cf,arguments)}function dc(a,u,h,w,k,A,G,ge,Se){if(df.apply(this,arguments),aa){if(aa){var He=Fs;aa=!1,Fs=null}else throw Error(n(198));Wa||(Wa=!0,Ds=He)}}function Ls(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function fc(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function pc(a){if(Ls(a)!==a)throw Error(n(188))}function ff(a){var u=a.alternate;if(!u){if(u=Ls(a),u===null)throw Error(n(188));return u!==a?null:a}for(var h=a,w=u;;){var k=h.return;if(k===null)break;var A=k.alternate;if(A===null){if(w=k.return,w!==null){h=w;continue}break}if(k.child===A.child){for(A=k.child;A;){if(A===h)return pc(k),a;if(A===w)return pc(k),u;A=A.sibling}throw Error(n(188))}if(h.return!==w.return)h=k,w=A;else{for(var G=!1,ge=k.child;ge;){if(ge===h){G=!0,h=k,w=A;break}if(ge===w){G=!0,w=k,h=A;break}ge=ge.sibling}if(!G){for(ge=A.child;ge;){if(ge===h){G=!0,h=A,w=k;break}if(ge===w){G=!0,w=A,h=k;break}ge=ge.sibling}if(!G)throw Error(n(189))}}if(h.alternate!==w)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:u}function hc(a){return a=ff(a),a!==null?mc(a):null}function mc(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=mc(a);if(u!==null)return u;a=a.sibling}return null}var gc=e.unstable_scheduleCallback,tu=e.unstable_cancelCallback,yc=e.unstable_shouldYield,pf=e.unstable_requestPaint,ir=e.unstable_now,hf=e.unstable_getCurrentPriorityLevel,nu=e.unstable_ImmediatePriority,vc=e.unstable_UserBlockingPriority,Ua=e.unstable_NormalPriority,mf=e.unstable_LowPriority,ru=e.unstable_IdlePriority,Va=null,Ki=null;function gf(a){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(Va,a,void 0,(a.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:bf,yf=Math.log,vf=Math.LN2;function bf(a){return a>>>=0,a===0?32:31-(yf(a)/vf|0)|0}var Ao=64,Ha=4194304;function Ei(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return a&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return a}}function Qa(a,u){var h=a.pendingLanes;if(h===0)return 0;var w=0,k=a.suspendedLanes,A=a.pingedLanes,G=h&0xfffffff;if(G!==0){var ge=G&~k;ge!==0?w=Ei(ge):(A&=G,A!==0&&(w=Ei(A)))}else G=h&~k,G!==0?w=Ei(G):A!==0&&(w=Ei(A));if(w===0)return 0;if(u!==0&&u!==w&&!(u&k)&&(k=w&-w,A=u&-u,k>=A||k===16&&(A&4194240)!==0))return u;if(w&4&&(w|=h&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=w;0<u;)h=31-li(u),k=1<<h,w|=a[h],u&=~k;return w}function Mb(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function $b(a,u){for(var h=a.suspendedLanes,w=a.pingedLanes,k=a.expirationTimes,A=a.pendingLanes;0<A;){var G=31-li(A),ge=1<<G,Se=k[G];Se===-1?(!(ge&h)||ge&w)&&(k[G]=Mb(ge,u)):Se<=u&&(a.expiredLanes|=ge),A&=~ge}}function xf(a){return a=a.pendingLanes&-0x40000001,a!==0?a:a&0x40000000?0x40000000:0}function mm(){var a=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),a}function wf(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function iu(a,u,h){a.pendingLanes|=u,u!==0x20000000&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-li(u),a[u]=h}function Bb(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<h;){var k=31-li(h),A=1<<k;u[k]=0,w[k]=-1,a[k]=-1,h&=~A}}function _f(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var w=31-li(h),k=1<<w;k&u|a[w]&u&&(a[w]|=u),h&=~k}}var An=0;function gm(a){return a&=-a,1<a?4<a?a&0xfffffff?16:0x20000000:4:1}var Sf,he,Ef,su,Nf,g=!1,y=[],S=null,E=null,C=null,M=new Map,fe=new Map,me=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tt(a,u){switch(a){case"focusin":case"focusout":S=null;break;case"dragenter":case"dragleave":E=null;break;case"mouseover":case"mouseout":C=null;break;case"pointerover":case"pointerout":M.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(u.pointerId)}}function at(a,u,h,w,k,A){return a===null||a.nativeEvent!==A?(a={blockedOn:u,domEventName:h,eventSystemFlags:w,nativeEvent:A,targetContainers:[k]},u!==null&&(u=Ff(u),u!==null&&he(u)),a):(a.eventSystemFlags|=w,u=a.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),a)}function mt(a,u,h,w,k){switch(u){case"focusin":return S=at(S,a,u,h,w,k),!0;case"dragenter":return E=at(E,a,u,h,w,k),!0;case"mouseover":return C=at(C,a,u,h,w,k),!0;case"pointerover":var A=k.pointerId;return M.set(A,at(M.get(A)||null,a,u,h,w,k)),!0;case"gotpointercapture":return A=k.pointerId,fe.set(A,at(fe.get(A)||null,a,u,h,w,k)),!0}return!1}function Be(a){var u=ou(a.target);if(u!==null){var h=Ls(u);if(h!==null){if(u=h.tag,u===13){if(u=fc(h),u!==null){a.blockedOn=u,Nf(a.priority,function(){Ef(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Re(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=ue(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var w=new h.constructor(h.type,h);so=w,h.target.dispatchEvent(w),so=null}else return u=Ff(h),u!==null&&he(u),a.blockedOn=h,!1;u.shift()}return!0}function et(a,u,h){Re(a)&&h.delete(u)}function be(){g=!1,S!==null&&Re(S)&&(S=null),E!==null&&Re(E)&&(E=null),C!==null&&Re(C)&&(C=null),M.forEach(et),fe.forEach(et)}function Ie(a,u){a.blockedOn===u&&(a.blockedOn=null,g||(g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,be)))}function Te(a){function u(k){return Ie(k,a)}if(0<y.length){Ie(y[0],a);for(var h=1;h<y.length;h++){var w=y[h];w.blockedOn===a&&(w.blockedOn=null)}}for(S!==null&&Ie(S,a),E!==null&&Ie(E,a),C!==null&&Ie(C,a),M.forEach(u),fe.forEach(u),h=0;h<me.length;h++)w=me[h],w.blockedOn===a&&(w.blockedOn=null);for(;0<me.length&&(h=me[0],h.blockedOn===null);)Be(h),h.blockedOn===null&&me.shift()}var Je=j.ReactCurrentBatchConfig,Ge=!0;function Oe(a,u,h,w){var k=An,A=Je.transition;Je.transition=null;try{An=1,St(a,u,h,w)}finally{An=k,Je.transition=A}}function Ke(a,u,h,w){var k=An,A=Je.transition;Je.transition=null;try{An=4,St(a,u,h,w)}finally{An=k,Je.transition=A}}function St(a,u,h,w){if(Ge){var k=ue(a,u,h,w);if(k===null)tx(a,u,w,J,h),tt(a,w);else if(mt(k,a,u,h,w))w.stopPropagation();else if(tt(a,w),u&4&&-1<Qe.indexOf(a)){for(;k!==null;){var A=Ff(k);if(A!==null&&Sf(A),A=ue(a,u,h,w),A===null&&tx(a,u,w,J,h),A===k)break;k=A}k!==null&&w.stopPropagation()}else tx(a,u,w,null,h)}}var J=null;function ue(a,u,h,w){if(J=null,a=ia(w),a=ou(a),a!==null)if(u=Ls(a),u===null)a=null;else if(h=u.tag,h===13){if(a=fc(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return J=a,null}function Ee(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hf()){case nu:return 1;case vc:return 4;case Ua:case mf:return 16;case ru:return 0x20000000;default:return 16}default:return 16}}var st=null,oe=null,pe=null;function H(){if(pe)return pe;var a,u=oe,h=u.length,w,k="value"in st?st.value:st.textContent,A=k.length;for(a=0;a<h&&u[a]===k[a];a++);var G=h-a;for(w=1;w<=G&&u[h-w]===k[A-w];w++);return pe=k.slice(a,1<w?1-w:void 0)}function ne(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function re(){return!0}function Le(){return!1}function it(a){function u(h,w,k,A,G){this._reactName=h,this._targetInst=k,this.type=w,this.nativeEvent=A,this.target=G,this.currentTarget=null;for(var ge in a)a.hasOwnProperty(ge)&&(h=a[ge],this[ge]=h?h(A):A[ge]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?re:Le,this.isPropagationStopped=Le,this}return se(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=re)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=re)},persist:function(){},isPersistent:re}),u}var Ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bt=it(Ot),Gt=se({},Ot,{view:0,detail:0}),lt=it(Gt),_e,Pe,ot,pt=se({},Gt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ot&&(ot&&a.type==="mousemove"?(_e=a.screenX-ot.screenX,Pe=a.screenY-ot.screenY):Pe=_e=0,ot=a),_e)},movementY:function(a){return"movementY"in a?a.movementY:Pe}}),Pt=it(pt),Zt=se({},pt,{dataTransfer:0}),Ae=it(Zt),nt=se({},Gt,{relatedTarget:0}),dt=it(nt),Nt=se({},Ot,{animationName:0,elapsedTime:0,pseudoElement:0}),xt=it(Nt),$t=se({},Ot,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fn=it($t),qt=se({},Ot,{data:0}),gr=it(qt),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kt(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=wt[a])?!!u[a]:!1}function pn(){return kt}var Un=se({},Gt,{key:function(a){if(a.key){var u=We[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=ne(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(a){return a.type==="keypress"?ne(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ne(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Dn=it(Un),zn=se({},pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),la=it(zn),Jr=se({},Gt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn}),zb=it(Jr),Wb=se({},Ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ms=it(Wb),Ub=se({},pt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ym=it(Ub),kf=[9,13,27,32],Vb=l&&"CompositionEvent"in window,If=null;l&&"documentMode"in document&&(If=document.documentMode);var HL=l&&"TextEvent"in window&&!If,v1=l&&(!Vb||If&&8<If&&11>=If),b1=" ",x1=!1;function w1(a,u){switch(a){case"keyup":return kf.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var bc=!1;function QL(a,u){switch(a){case"compositionend":return _1(u);case"keypress":return u.which!==32?null:(x1=!0,b1);case"textInput":return a=u.data,a===b1&&x1?null:a;default:return null}}function KL(a,u){if(bc)return a==="compositionend"||!Vb&&w1(a,u)?(a=H(),pe=oe=st=null,bc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return v1&&u.locale!=="ko"?null:u.data;default:return null}}var GL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S1(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!GL[a.type]:u==="textarea"}function E1(a,u,h,w){on(w),u=_m(u,"onChange"),0<u.length&&(h=new Bt("onChange","change",null,h,w),a.push({event:h,listeners:u}))}var Cf=null,Tf=null;function ZL(a){z1(a,0)}function vm(a){var u=Ec(a);if(Ue(u))return a}function JL(a,u){if(a==="change")return u}var N1=!1;if(l){var Hb;if(l){var Qb="oninput"in document;if(!Qb){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),Qb=typeof k1.oninput=="function"}Hb=Qb}else Hb=!1;N1=Hb&&(!document.documentMode||9<document.documentMode)}function I1(){Cf&&(Cf.detachEvent("onpropertychange",C1),Tf=Cf=null)}function C1(a){if(a.propertyName==="value"&&vm(Tf)){var u=[];E1(u,Tf,a,ia(a)),sa(ZL,u)}}function YL(a,u,h){a==="focusin"?(I1(),Cf=u,Tf=h,Cf.attachEvent("onpropertychange",C1)):a==="focusout"&&I1()}function XL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return vm(Tf)}function eM(a,u){if(a==="click")return vm(u)}function tM(a,u){if(a==="input"||a==="change")return vm(u)}function nM(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var oo=typeof Object.is=="function"?Object.is:nM;function Of(a,u){if(oo(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),w=Object.keys(u);if(h.length!==w.length)return!1;for(w=0;w<h.length;w++){var k=h[w];if(!c.call(u,k)||!oo(a[k],u[k]))return!1}return!0}function T1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function O1(a,u){var h=T1(a);a=0;for(var w;h;){if(h.nodeType===3){if(w=a+h.textContent.length,a<=u&&w>=u)return{node:h,offset:u-a};a=w}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=T1(h)}}function q1(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?q1(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function R1(){for(var a=window,u=ut();u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=ut(a.document)}return u}function Kb(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function rM(a){var u=R1(),h=a.focusedElem,w=a.selectionRange;if(u!==h&&h&&h.ownerDocument&&q1(h.ownerDocument.documentElement,h)){if(w!==null&&Kb(h)){if(u=w.start,a=w.end,a===void 0&&(a=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(a,h.value.length);else if(a=(u=h.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var k=h.textContent.length,A=Math.min(w.start,k);w=w.end===void 0?A:Math.min(w.end,k),!a.extend&&A>w&&(k=w,w=A,A=k),k=O1(h,A);var G=O1(h,w);k&&G&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==G.node||a.focusOffset!==G.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),a.removeAllRanges(),A>w?(a.addRange(u),a.extend(G.node,G.offset)):(u.setEnd(G.node,G.offset),a.addRange(u)))}}for(u=[],a=h;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)a=u[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var iM=l&&"documentMode"in document&&11>=document.documentMode,xc=null,Gb=null,qf=null,Zb=!1;function A1(a,u,h){var w=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Zb||xc==null||xc!==ut(w)||(w=xc,"selectionStart"in w&&Kb(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),qf&&Of(qf,w)||(qf=w,w=_m(Gb,"onSelect"),0<w.length&&(u=new Bt("onSelect","select",null,u,h),a.push({event:u,listeners:w}),u.target=xc)))}function bm(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var wc={animationend:bm("Animation","AnimationEnd"),animationiteration:bm("Animation","AnimationIteration"),animationstart:bm("Animation","AnimationStart"),transitionend:bm("Transition","TransitionEnd")},Jb={},j1={};l&&(j1=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function xm(a){if(Jb[a])return Jb[a];if(!wc[a])return a;var u=wc[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in j1)return Jb[a]=u[h];return a}var P1=xm("animationend"),F1=xm("animationiteration"),D1=xm("animationstart"),L1=xm("transitionend"),M1=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(a,u){M1.set(a,u),s(u,[a])}for(var Yb=0;Yb<$1.length;Yb++){var Xb=$1[Yb],sM=Xb.toLowerCase(),oM=Xb[0].toUpperCase()+Xb.slice(1);Ka(sM,"on"+oM)}Ka(P1,"onAnimationEnd"),Ka(F1,"onAnimationIteration"),Ka(D1,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(L1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function B1(a,u,h){var w=a.type||"unknown-event";a.currentTarget=h,dc(w,u,void 0,a),a.currentTarget=null}function z1(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var w=a[h],k=w.event;w=w.listeners;e:{var A=void 0;if(u)for(var G=w.length-1;0<=G;G--){var ge=w[G],Se=ge.instance,He=ge.currentTarget;if(ge=ge.listener,Se!==A&&k.isPropagationStopped())break e;B1(k,ge,He),A=Se}else for(G=0;G<w.length;G++){if(ge=w[G],Se=ge.instance,He=ge.currentTarget,ge=ge.listener,Se!==A&&k.isPropagationStopped())break e;B1(k,ge,He),A=Se}}}if(Wa)throw a=Ds,Wa=!1,Ds=null,a}function sr(a,u){var h=u[ax];h===void 0&&(h=u[ax]=new Set);var w=a+"__bubble";h.has(w)||(W1(u,a,2,!1),h.add(w))}function ex(a,u,h){var w=0;u&&(w|=4),W1(h,a,w,u)}var wm="_reactListening"+Math.random().toString(36).slice(2);function Af(a){if(!a[wm]){a[wm]=!0,r.forEach(function(h){h!=="selectionchange"&&(aM.has(h)||ex(h,!1,a),ex(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[wm]||(u[wm]=!0,ex("selectionchange",!1,u))}}function W1(a,u,h,w){switch(Ee(u)){case 1:var k=Oe;break;case 4:k=Ke;break;default:k=St}h=k.bind(null,u,h,a),k=void 0,!eu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),w?k!==void 0?a.addEventListener(u,h,{capture:!0,passive:k}):a.addEventListener(u,h,!0):k!==void 0?a.addEventListener(u,h,{passive:k}):a.addEventListener(u,h,!1)}function tx(a,u,h,w,k){var A=w;if(!(u&1)&&!(u&2)&&w!==null)e:for(;;){if(w===null)return;var G=w.tag;if(G===3||G===4){var ge=w.stateNode.containerInfo;if(ge===k||ge.nodeType===8&&ge.parentNode===k)break;if(G===4)for(G=w.return;G!==null;){var Se=G.tag;if((Se===3||Se===4)&&(Se=G.stateNode.containerInfo,Se===k||Se.nodeType===8&&Se.parentNode===k))return;G=G.return}for(;ge!==null;){if(G=ou(ge),G===null)return;if(Se=G.tag,Se===5||Se===6){w=A=G;continue e}ge=ge.parentNode}}w=w.return}sa(function(){var He=A,ht=ia(h),gt=[];e:{var ft=M1.get(a);if(ft!==void 0){var Rt=Bt,Mt=a;switch(a){case"keypress":if(ne(h)===0)break e;case"keydown":case"keyup":Rt=Dn;break;case"focusin":Mt="focus",Rt=dt;break;case"focusout":Mt="blur",Rt=dt;break;case"beforeblur":case"afterblur":Rt=dt;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=Pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Ae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=zb;break;case P1:case F1:case D1:Rt=xt;break;case L1:Rt=Ms;break;case"scroll":Rt=lt;break;case"wheel":Rt=ym;break;case"copy":case"cut":case"paste":Rt=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=la}var zt=(u&4)!==0,Cr=!zt&&a==="scroll",Fe=zt?ft!==null?ft+"Capture":null:ft;zt=[];for(var Ce=He,$e;Ce!==null;){$e=Ce;var bt=$e.stateNode;if($e.tag===5&&bt!==null&&($e=bt,Fe!==null&&(bt=Qi(Ce,Fe),bt!=null&&zt.push(jf(Ce,bt,$e)))),Cr)break;Ce=Ce.return}0<zt.length&&(ft=new Rt(ft,Mt,null,h,ht),gt.push({event:ft,listeners:zt}))}}if(!(u&7)){e:{if(ft=a==="mouseover"||a==="pointerover",Rt=a==="mouseout"||a==="pointerout",ft&&h!==so&&(Mt=h.relatedTarget||h.fromElement)&&(ou(Mt)||Mt[ua]))break e;if((Rt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,Rt?(Mt=h.relatedTarget||h.toElement,Rt=He,Mt=Mt?ou(Mt):null,Mt!==null&&(Cr=Ls(Mt),Mt!==Cr||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(Rt=null,Mt=He),Rt!==Mt)){if(zt=Pt,bt="onMouseLeave",Fe="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(zt=la,bt="onPointerLeave",Fe="onPointerEnter",Ce="pointer"),Cr=Rt==null?ft:Ec(Rt),$e=Mt==null?ft:Ec(Mt),ft=new zt(bt,Ce+"leave",Rt,h,ht),ft.target=Cr,ft.relatedTarget=$e,bt=null,ou(ht)===He&&(zt=new zt(Fe,Ce+"enter",Mt,h,ht),zt.target=$e,zt.relatedTarget=Cr,bt=zt),Cr=bt,Rt&&Mt)t:{for(zt=Rt,Fe=Mt,Ce=0,$e=zt;$e;$e=_c($e))Ce++;for($e=0,bt=Fe;bt;bt=_c(bt))$e++;for(;0<Ce-$e;)zt=_c(zt),Ce--;for(;0<$e-Ce;)Fe=_c(Fe),$e--;for(;Ce--;){if(zt===Fe||Fe!==null&&zt===Fe.alternate)break t;zt=_c(zt),Fe=_c(Fe)}zt=null}else zt=null;Rt!==null&&U1(gt,ft,Rt,zt,!1),Mt!==null&&Cr!==null&&U1(gt,Cr,Mt,zt,!0)}}e:{if(ft=He?Ec(He):window,Rt=ft.nodeName&&ft.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&ft.type==="file")var Ut=JL;else if(S1(ft))if(N1)Ut=tM;else{Ut=XL;var Jt=YL}else(Rt=ft.nodeName)&&Rt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Ut=eM);if(Ut&&(Ut=Ut(a,He))){E1(gt,Ut,h,ht);break e}Jt&&Jt(a,ft,He),a==="focusout"&&(Jt=ft._wrapperState)&&Jt.controlled&&ft.type==="number"&&ve(ft,"number",ft.value)}switch(Jt=He?Ec(He):window,a){case"focusin":(S1(Jt)||Jt.contentEditable==="true")&&(xc=Jt,Gb=He,qf=null);break;case"focusout":qf=Gb=xc=null;break;case"mousedown":Zb=!0;break;case"contextmenu":case"mouseup":case"dragend":Zb=!1,A1(gt,h,ht);break;case"selectionchange":if(iM)break;case"keydown":case"keyup":A1(gt,h,ht)}var Yt;if(Vb)e:{switch(a){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else bc?w1(a,h)&&(sn="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(sn="onCompositionStart");sn&&(v1&&h.locale!=="ko"&&(bc||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&bc&&(Yt=H()):(st=ht,oe="value"in st?st.value:st.textContent,bc=!0)),Jt=_m(He,sn),0<Jt.length&&(sn=new gr(sn,a,null,h,ht),gt.push({event:sn,listeners:Jt}),Yt?sn.data=Yt:(Yt=_1(h),Yt!==null&&(sn.data=Yt)))),(Yt=HL?QL(a,h):KL(a,h))&&(He=_m(He,"onBeforeInput"),0<He.length&&(ht=new gr("onBeforeInput","beforeinput",null,h,ht),gt.push({event:ht,listeners:He}),ht.data=Yt))}z1(gt,u)})}function jf(a,u,h){return{instance:a,listener:u,currentTarget:h}}function _m(a,u){for(var h=u+"Capture",w=[];a!==null;){var k=a,A=k.stateNode;k.tag===5&&A!==null&&(k=A,A=Qi(a,h),A!=null&&w.unshift(jf(a,A,k)),A=Qi(a,u),A!=null&&w.push(jf(a,A,k))),a=a.return}return w}function _c(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function U1(a,u,h,w,k){for(var A=u._reactName,G=[];h!==null&&h!==w;){var ge=h,Se=ge.alternate,He=ge.stateNode;if(Se!==null&&Se===w)break;ge.tag===5&&He!==null&&(ge=He,k?(Se=Qi(h,A),Se!=null&&G.unshift(jf(h,Se,ge))):k||(Se=Qi(h,A),Se!=null&&G.push(jf(h,Se,ge)))),h=h.return}G.length!==0&&a.push({event:u,listeners:G})}var lM=/\r\n?/g,uM=/\u0000|\uFFFD/g;function V1(a){return(typeof a=="string"?a:""+a).replace(lM,`
`).replace(uM,"")}function Sm(a,u,h){if(u=V1(u),V1(a)!==u&&h)throw Error(n(425))}function Em(){}var nx=null,rx=null;function ix(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var sx=typeof setTimeout=="function"?setTimeout:void 0,cM=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,dM=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(a){return H1.resolve(null).then(a).catch(fM)}:sx;function fM(a){setTimeout(function(){throw a})}function ox(a,u){var h=u,w=0;do{var k=h.nextSibling;if(a.removeChild(h),k&&k.nodeType===8)if(h=k.data,h==="/$"){if(w===0){a.removeChild(k),Te(u);return}w--}else h!=="$"&&h!=="$?"&&h!=="$!"||w++;h=k}while(h);Te(u)}function Ga(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function Q1(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}var Sc=Math.random().toString(36).slice(2),jo="__reactFiber$"+Sc,Pf="__reactProps$"+Sc,ua="__reactContainer$"+Sc,ax="__reactEvents$"+Sc,pM="__reactListeners$"+Sc,hM="__reactHandles$"+Sc;function ou(a){var u=a[jo];if(u)return u;for(var h=a.parentNode;h;){if(u=h[ua]||h[jo]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=Q1(a);a!==null;){if(h=a[jo])return h;a=Q1(a)}return u}a=h,h=a.parentNode}return null}function Ff(a){return a=a[jo]||a[ua],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ec(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Nm(a){return a[Pf]||null}var lx=[],Nc=-1;function Za(a){return{current:a}}function or(a){0>Nc||(a.current=lx[Nc],lx[Nc]=null,Nc--)}function Xn(a,u){Nc++,lx[Nc]=a.current,a.current=u}var Ja={},ui=Za(Ja),Gi=Za(!1),au=Ja;function kc(a,u){var h=a.type.contextTypes;if(!h)return Ja;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var k={},A;for(A in h)k[A]=u[A];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=k),k}function Zi(a){return a=a.childContextTypes,a!=null}function km(){or(Gi),or(ui)}function K1(a,u,h){if(ui.current!==Ja)throw Error(n(168));Xn(ui,u),Xn(Gi,h)}function G1(a,u,h){var w=a.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return h;w=w.getChildContext();for(var k in w)if(!(k in u))throw Error(n(108,ze(a)||"Unknown",k));return se({},h,w)}function Im(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ja,au=ui.current,Xn(ui,a),Xn(Gi,Gi.current),!0}function Z1(a,u,h){var w=a.stateNode;if(!w)throw Error(n(169));h?(a=G1(a,u,au),w.__reactInternalMemoizedMergedChildContext=a,or(Gi),or(ui),Xn(ui,a)):or(Gi),Xn(Gi,h)}var ca=null,Cm=!1,ux=!1;function J1(a){ca===null?ca=[a]:ca.push(a)}function mM(a){Cm=!0,J1(a)}function Ya(){if(!ux&&ca!==null){ux=!0;var a=0,u=An;try{var h=ca;for(An=1;a<h.length;a++){var w=h[a];do w=w(!0);while(w!==null)}ca=null,Cm=!1}catch(k){throw ca!==null&&(ca=ca.slice(a+1)),gc(nu,Ya),k}finally{An=u,ux=!1}}return null}var Ic=[],Cc=0,Tm=null,Om=0,$s=[],Bs=0,lu=null,da=1,fa="";function uu(a,u){Ic[Cc++]=Om,Ic[Cc++]=Tm,Tm=a,Om=u}function Y1(a,u,h){$s[Bs++]=da,$s[Bs++]=fa,$s[Bs++]=lu,lu=a;var w=da;a=fa;var k=32-li(w)-1;w&=~(1<<k),h+=1;var A=32-li(u)+k;if(30<A){var G=k-k%5;A=(w&(1<<G)-1).toString(32),w>>=G,k-=G,da=1<<32-li(u)+k|h<<k|w,fa=A+a}else da=1<<A|h<<k|w,fa=a}function cx(a){a.return!==null&&(uu(a,1),Y1(a,1,0))}function dx(a){for(;a===Tm;)Tm=Ic[--Cc],Ic[Cc]=null,Om=Ic[--Cc],Ic[Cc]=null;for(;a===lu;)lu=$s[--Bs],$s[Bs]=null,fa=$s[--Bs],$s[Bs]=null,da=$s[--Bs],$s[Bs]=null}var gs=null,ys=null,lr=!1,ao=null;function X1(a,u){var h=Vs(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=a,u=a.deletions,u===null?(a.deletions=[h],a.flags|=16):u.push(h)}function ek(a,u){switch(a.tag){case 5:var h=a.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,gs=a,ys=Ga(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,gs=a,ys=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=lu!==null?{id:da,overflow:fa}:null,a.memoizedState={dehydrated:u,treeContext:h,retryLane:0x40000000},h=Vs(18,null,null,0),h.stateNode=u,h.return=a,a.child=h,gs=a,ys=null,!0):!1;default:return!1}}function fx(a){return(a.mode&1)!==0&&(a.flags&128)===0}function px(a){if(lr){var u=ys;if(u){var h=u;if(!ek(a,u)){if(fx(a))throw Error(n(418));u=Ga(h.nextSibling);var w=gs;u&&ek(a,u)?X1(w,h):(a.flags=a.flags&-4097|2,lr=!1,gs=a)}}else{if(fx(a))throw Error(n(418));a.flags=a.flags&-4097|2,lr=!1,gs=a}}}function tk(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;gs=a}function qm(a){if(a!==gs)return!1;if(!lr)return tk(a),lr=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!ix(a.type,a.memoizedProps)),u&&(u=ys)){if(fx(a))throw nk(),Error(n(418));for(;u;)X1(a,u),u=Ga(u.nextSibling)}if(tk(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(u===0){ys=Ga(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}a=a.nextSibling}ys=null}}else ys=gs?Ga(a.stateNode.nextSibling):null;return!0}function nk(){for(var a=ys;a;)a=Ga(a.nextSibling)}function Tc(){ys=gs=null,lr=!1}function hx(a){ao===null?ao=[a]:ao.push(a)}var gM=j.ReactCurrentBatchConfig;function Df(a,u,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var w=h.stateNode}if(!w)throw Error(n(147,a));var k=w,A=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(G){var ge=k.refs;G===null?delete ge[A]:ge[A]=G},u._stringRef=A,u)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Rm(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function rk(a){var u=a._init;return u(a._payload)}function ik(a){function u(Fe,Ce){if(a){var $e=Fe.deletions;$e===null?(Fe.deletions=[Ce],Fe.flags|=16):$e.push(Ce)}}function h(Fe,Ce){if(!a)return null;for(;Ce!==null;)u(Fe,Ce),Ce=Ce.sibling;return null}function w(Fe,Ce){for(Fe=new Map;Ce!==null;)Ce.key!==null?Fe.set(Ce.key,Ce):Fe.set(Ce.index,Ce),Ce=Ce.sibling;return Fe}function k(Fe,Ce){return Fe=ol(Fe,Ce),Fe.index=0,Fe.sibling=null,Fe}function A(Fe,Ce,$e){return Fe.index=$e,a?($e=Fe.alternate,$e!==null?($e=$e.index,$e<Ce?(Fe.flags|=2,Ce):$e):(Fe.flags|=2,Ce)):(Fe.flags|=1048576,Ce)}function G(Fe){return a&&Fe.alternate===null&&(Fe.flags|=2),Fe}function ge(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==6?(Ce=sw($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function Se(Fe,Ce,$e,bt){var Ut=$e.type;return Ut===z?ht(Fe,Ce,$e.props.children,bt,$e.key):Ce!==null&&(Ce.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Z&&rk(Ut)===Ce.type)?(bt=k(Ce,$e.props),bt.ref=Df(Fe,Ce,$e),bt.return=Fe,bt):(bt=ng($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Df(Fe,Ce,$e),bt.return=Fe,bt)}function He(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==$e.containerInfo||Ce.stateNode.implementation!==$e.implementation?(Ce=ow($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e.children||[]),Ce.return=Fe,Ce)}function ht(Fe,Ce,$e,bt,Ut){return Ce===null||Ce.tag!==7?(Ce=yu($e,Fe.mode,bt,Ut),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function gt(Fe,Ce,$e){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=sw(""+Ce,Fe.mode,$e),Ce.return=Fe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return $e=ng(Ce.type,Ce.key,Ce.props,null,Fe.mode,$e),$e.ref=Df(Fe,null,Ce),$e.return=Fe,$e;case L:return Ce=ow(Ce,Fe.mode,$e),Ce.return=Fe,Ce;case Z:var bt=Ce._init;return gt(Fe,bt(Ce._payload),$e)}if(ke(Ce)||te(Ce))return Ce=yu(Ce,Fe.mode,$e,null),Ce.return=Fe,Ce;Rm(Fe,Ce)}return null}function ft(Fe,Ce,$e,bt){var Ut=Ce!==null?Ce.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Ut!==null?null:ge(Fe,Ce,""+$e,bt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return $e.key===Ut?Se(Fe,Ce,$e,bt):null;case L:return $e.key===Ut?He(Fe,Ce,$e,bt):null;case Z:return Ut=$e._init,ft(Fe,Ce,Ut($e._payload),bt)}if(ke($e)||te($e))return Ut!==null?null:ht(Fe,Ce,$e,bt,null);Rm(Fe,$e)}return null}function Rt(Fe,Ce,$e,bt,Ut){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Fe=Fe.get($e)||null,ge(Ce,Fe,""+bt,Ut);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case D:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,Se(Ce,Fe,bt,Ut);case L:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,He(Ce,Fe,bt,Ut);case Z:var Jt=bt._init;return Rt(Fe,Ce,$e,Jt(bt._payload),Ut)}if(ke(bt)||te(bt))return Fe=Fe.get($e)||null,ht(Ce,Fe,bt,Ut,null);Rm(Ce,bt)}return null}function Mt(Fe,Ce,$e,bt){for(var Ut=null,Jt=null,Yt=Ce,sn=Ce=0,Kr=null;Yt!==null&&sn<$e.length;sn++){Yt.index>sn?(Kr=Yt,Yt=null):Kr=Yt.sibling;var On=ft(Fe,Yt,$e[sn],bt);if(On===null){Yt===null&&(Yt=Kr);break}a&&Yt&&On.alternate===null&&u(Fe,Yt),Ce=A(On,Ce,sn),Jt===null?Ut=On:Jt.sibling=On,Jt=On,Yt=Kr}if(sn===$e.length)return h(Fe,Yt),lr&&uu(Fe,sn),Ut;if(Yt===null){for(;sn<$e.length;sn++)Yt=gt(Fe,$e[sn],bt),Yt!==null&&(Ce=A(Yt,Ce,sn),Jt===null?Ut=Yt:Jt.sibling=Yt,Jt=Yt);return lr&&uu(Fe,sn),Ut}for(Yt=w(Fe,Yt);sn<$e.length;sn++)Kr=Rt(Yt,Fe,sn,$e[sn],bt),Kr!==null&&(a&&Kr.alternate!==null&&Yt.delete(Kr.key===null?sn:Kr.key),Ce=A(Kr,Ce,sn),Jt===null?Ut=Kr:Jt.sibling=Kr,Jt=Kr);return a&&Yt.forEach(function(al){return u(Fe,al)}),lr&&uu(Fe,sn),Ut}function zt(Fe,Ce,$e,bt){var Ut=te($e);if(typeof Ut!="function")throw Error(n(150));if($e=Ut.call($e),$e==null)throw Error(n(151));for(var Jt=Ut=null,Yt=Ce,sn=Ce=0,Kr=null,On=$e.next();Yt!==null&&!On.done;sn++,On=$e.next()){Yt.index>sn?(Kr=Yt,Yt=null):Kr=Yt.sibling;var al=ft(Fe,Yt,On.value,bt);if(al===null){Yt===null&&(Yt=Kr);break}a&&Yt&&al.alternate===null&&u(Fe,Yt),Ce=A(al,Ce,sn),Jt===null?Ut=al:Jt.sibling=al,Jt=al,Yt=Kr}if(On.done)return h(Fe,Yt),lr&&uu(Fe,sn),Ut;if(Yt===null){for(;!On.done;sn++,On=$e.next())On=gt(Fe,On.value,bt),On!==null&&(Ce=A(On,Ce,sn),Jt===null?Ut=On:Jt.sibling=On,Jt=On);return lr&&uu(Fe,sn),Ut}for(Yt=w(Fe,Yt);!On.done;sn++,On=$e.next())On=Rt(Yt,Fe,sn,On.value,bt),On!==null&&(a&&On.alternate!==null&&Yt.delete(On.key===null?sn:On.key),Ce=A(On,Ce,sn),Jt===null?Ut=On:Jt.sibling=On,Jt=On);return a&&Yt.forEach(function(KM){return u(Fe,KM)}),lr&&uu(Fe,sn),Ut}function Cr(Fe,Ce,$e,bt){if(typeof $e=="object"&&$e!==null&&$e.type===z&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:e:{for(var Ut=$e.key,Jt=Ce;Jt!==null;){if(Jt.key===Ut){if(Ut=$e.type,Ut===z){if(Jt.tag===7){h(Fe,Jt.sibling),Ce=k(Jt,$e.props.children),Ce.return=Fe,Fe=Ce;break e}}else if(Jt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Z&&rk(Ut)===Jt.type){h(Fe,Jt.sibling),Ce=k(Jt,$e.props),Ce.ref=Df(Fe,Jt,$e),Ce.return=Fe,Fe=Ce;break e}h(Fe,Jt);break}else u(Fe,Jt);Jt=Jt.sibling}$e.type===z?(Ce=yu($e.props.children,Fe.mode,bt,$e.key),Ce.return=Fe,Fe=Ce):(bt=ng($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Df(Fe,Ce,$e),bt.return=Fe,Fe=bt)}return G(Fe);case L:e:{for(Jt=$e.key;Ce!==null;){if(Ce.key===Jt)if(Ce.tag===4&&Ce.stateNode.containerInfo===$e.containerInfo&&Ce.stateNode.implementation===$e.implementation){h(Fe,Ce.sibling),Ce=k(Ce,$e.children||[]),Ce.return=Fe,Fe=Ce;break e}else{h(Fe,Ce);break}else u(Fe,Ce);Ce=Ce.sibling}Ce=ow($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce}return G(Fe);case Z:return Jt=$e._init,Cr(Fe,Ce,Jt($e._payload),bt)}if(ke($e))return Mt(Fe,Ce,$e,bt);if(te($e))return zt(Fe,Ce,$e,bt);Rm(Fe,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ce!==null&&Ce.tag===6?(h(Fe,Ce.sibling),Ce=k(Ce,$e),Ce.return=Fe,Fe=Ce):(h(Fe,Ce),Ce=sw($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce),G(Fe)):h(Fe,Ce)}return Cr}var Oc=ik(!0),sk=ik(!1),Am=Za(null),jm=null,qc=null,mx=null;function gx(){mx=qc=jm=null}function yx(a){var u=Am.current;or(Am),a._currentValue=u}function vx(a,u,h){for(;a!==null;){var w=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),a===h)break;a=a.return}}function Rc(a,u){jm=a,mx=qc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(Ji=!0),a.firstContext=null)}function zs(a){var u=a._currentValue;if(mx!==a)if(a={context:a,memoizedValue:u,next:null},qc===null){if(jm===null)throw Error(n(308));qc=a,jm.dependencies={lanes:0,firstContext:a}}else qc=qc.next=a;return u}var cu=null;function bx(a){cu===null?cu=[a]:cu.push(a)}function ok(a,u,h,w){var k=u.interleaved;return k===null?(h.next=h,bx(u)):(h.next=k.next,k.next=h),u.interleaved=h,pa(a,w)}function pa(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,h=a.alternate,h!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Xa=!1;function xx(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ak(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ha(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function el(a,u,h){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,Cn&2){var k=w.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),w.pending=u,pa(a,h)}return k=w.interleaved,k===null?(u.next=u,bx(w)):(u.next=k.next,k.next=u),w.interleaved=u,pa(a,h)}function Pm(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var w=u.lanes;w&=a.pendingLanes,h|=w,u.lanes=h,_f(a,h)}}function lk(a,u){var h=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,h===w)){var k=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var G={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?k=A=G:A=A.next=G,h=h.next}while(h!==null);A===null?k=A=u:A=A.next=u}else k=A=u;h={baseState:w.baseState,firstBaseUpdate:k,lastBaseUpdate:A,shared:w.shared,effects:w.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function Fm(a,u,h,w){var k=a.updateQueue;Xa=!1;var A=k.firstBaseUpdate,G=k.lastBaseUpdate,ge=k.shared.pending;if(ge!==null){k.shared.pending=null;var Se=ge,He=Se.next;Se.next=null,G===null?A=He:G.next=He,G=Se;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,ge=ht.lastBaseUpdate,ge!==G&&(ge===null?ht.firstBaseUpdate=He:ge.next=He,ht.lastBaseUpdate=Se))}if(A!==null){var gt=k.baseState;G=0,ht=He=Se=null,ge=A;do{var ft=ge.lane,Rt=ge.eventTime;if((w&ft)===ft){ht!==null&&(ht=ht.next={eventTime:Rt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Mt=a,zt=ge;switch(ft=u,Rt=h,zt.tag){case 1:if(Mt=zt.payload,typeof Mt=="function"){gt=Mt.call(Rt,gt,ft);break e}gt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=zt.payload,ft=typeof Mt=="function"?Mt.call(Rt,gt,ft):Mt,ft==null)break e;gt=se({},gt,ft);break e;case 2:Xa=!0}}ge.callback!==null&&ge.lane!==0&&(a.flags|=64,ft=k.effects,ft===null?k.effects=[ge]:ft.push(ge))}else Rt={eventTime:Rt,lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ht===null?(He=ht=Rt,Se=gt):ht=ht.next=Rt,G|=ft;if(ge=ge.next,ge===null){if(ge=k.shared.pending,ge===null)break;ft=ge,ge=ft.next,ft.next=null,k.lastBaseUpdate=ft,k.shared.pending=null}}while(!0);if(ht===null&&(Se=gt),k.baseState=Se,k.firstBaseUpdate=He,k.lastBaseUpdate=ht,u=k.shared.interleaved,u!==null){k=u;do G|=k.lane,k=k.next;while(k!==u)}else A===null&&(k.shared.lanes=0);pu|=G,a.lanes=G,a.memoizedState=gt}}function uk(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var w=a[u],k=w.callback;if(k!==null){if(w.callback=null,w=h,typeof k!="function")throw Error(n(191,k));k.call(w)}}}var Lf={},Po=Za(Lf),Mf=Za(Lf),$f=Za(Lf);function du(a){if(a===Lf)throw Error(n(174));return a}function wx(a,u){switch(Xn($f,u),Xn(Mf,a),Xn(Po,Lf),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Qt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Qt(u,a)}or(Po),Xn(Po,u)}function Ac(){or(Po),or(Mf),or($f)}function ck(a){du($f.current);var u=du(Po.current),h=Qt(u,a.type);u!==h&&(Xn(Mf,a),Xn(Po,h))}function _x(a){Mf.current===a&&(or(Po),or(Mf))}var yr=Za(0);function Dm(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Sx=[];function Ex(){for(var a=0;a<Sx.length;a++)Sx[a]._workInProgressVersionPrimary=null;Sx.length=0}var Lm=j.ReactCurrentDispatcher,Nx=j.ReactCurrentBatchConfig,fu=0,vr=null,Wr=null,Hr=null,Mm=!1,Bf=!1,zf=0,yM=0;function ci(){throw Error(n(321))}function kx(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!oo(a[h],u[h]))return!1;return!0}function Ix(a,u,h,w,k,A){if(fu=A,vr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Lm.current=a===null||a.memoizedState===null?wM:_M,a=h(w,k),Bf){A=0;do{if(Bf=!1,zf=0,25<=A)throw Error(n(301));A+=1,Hr=Wr=null,u.updateQueue=null,Lm.current=SM,a=h(w,k)}while(Bf)}if(Lm.current=zm,u=Wr!==null&&Wr.next!==null,fu=0,Hr=Wr=vr=null,Mm=!1,u)throw Error(n(300));return a}function Cx(){var a=zf!==0;return zf=0,a}function Fo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?vr.memoizedState=Hr=a:Hr=Hr.next=a,Hr}function Ws(){if(Wr===null){var a=vr.alternate;a=a!==null?a.memoizedState:null}else a=Wr.next;var u=Hr===null?vr.memoizedState:Hr.next;if(u!==null)Hr=u,Wr=a;else{if(a===null)throw Error(n(310));Wr=a,a={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},Hr===null?vr.memoizedState=Hr=a:Hr=Hr.next=a}return Hr}function Wf(a,u){return typeof u=="function"?u(a):u}function Tx(a){var u=Ws(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var w=Wr,k=w.baseQueue,A=h.pending;if(A!==null){if(k!==null){var G=k.next;k.next=A.next,A.next=G}w.baseQueue=k=A,h.pending=null}if(k!==null){A=k.next,w=w.baseState;var ge=G=null,Se=null,He=A;do{var ht=He.lane;if((fu&ht)===ht)Se!==null&&(Se=Se.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),w=He.hasEagerState?He.eagerState:a(w,He.action);else{var gt={lane:ht,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Se===null?(ge=Se=gt,G=w):Se=Se.next=gt,vr.lanes|=ht,pu|=ht}He=He.next}while(He!==null&&He!==A);Se===null?G=w:Se.next=ge,oo(w,u.memoizedState)||(Ji=!0),u.memoizedState=w,u.baseState=G,u.baseQueue=Se,h.lastRenderedState=w}if(a=h.interleaved,a!==null){k=a;do A=k.lane,vr.lanes|=A,pu|=A,k=k.next;while(k!==a)}else k===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function Ox(a){var u=Ws(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var w=h.dispatch,k=h.pending,A=u.memoizedState;if(k!==null){h.pending=null;var G=k=k.next;do A=a(A,G.action),G=G.next;while(G!==k);oo(A,u.memoizedState)||(Ji=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),h.lastRenderedState=A}return[A,w]}function dk(){}function fk(a,u){var h=vr,w=Ws(),k=u(),A=!oo(w.memoizedState,k);if(A&&(w.memoizedState=k,Ji=!0),w=w.queue,qx(mk.bind(null,h,w,a),[a]),w.getSnapshot!==u||A||Hr!==null&&Hr.memoizedState.tag&1){if(h.flags|=2048,Uf(9,hk.bind(null,h,w,k,u),void 0,null),Qr===null)throw Error(n(349));fu&30||pk(h,u,k)}return k}function pk(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=vr.updateQueue,u===null?(u={lastEffect:null,stores:null},vr.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function hk(a,u,h,w){u.value=h,u.getSnapshot=w,gk(u)&&yk(a)}function mk(a,u,h){return h(function(){gk(u)&&yk(a)})}function gk(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!oo(a,h)}catch{return!0}}function yk(a){var u=pa(a,1);u!==null&&fo(u,a,1,-1)}function vk(a){var u=Fo();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:a},u.queue=a,a=a.dispatch=xM.bind(null,vr,a),[u.memoizedState,a]}function Uf(a,u,h,w){return a={tag:a,create:u,destroy:h,deps:w,next:null},u=vr.updateQueue,u===null?(u={lastEffect:null,stores:null},vr.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect,h===null?u.lastEffect=a.next=a:(w=h.next,h.next=a,a.next=w,u.lastEffect=a)),a}function bk(){return Ws().memoizedState}function $m(a,u,h,w){var k=Fo();vr.flags|=a,k.memoizedState=Uf(1|u,h,void 0,w===void 0?null:w)}function Bm(a,u,h,w){var k=Ws();w=w===void 0?null:w;var A=void 0;if(Wr!==null){var G=Wr.memoizedState;if(A=G.destroy,w!==null&&kx(w,G.deps)){k.memoizedState=Uf(u,h,A,w);return}}vr.flags|=a,k.memoizedState=Uf(1|u,h,A,w)}function xk(a,u){return $m(8390656,8,a,u)}function qx(a,u){return Bm(2048,8,a,u)}function wk(a,u){return Bm(4,2,a,u)}function _k(a,u){return Bm(4,4,a,u)}function Sk(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Ek(a,u,h){return h=h!=null?h.concat([a]):null,Bm(4,4,Sk.bind(null,u,a),h)}function Rx(){}function Nk(a,u){var h=Ws();u=u===void 0?null:u;var w=h.memoizedState;return w!==null&&u!==null&&kx(u,w[1])?w[0]:(h.memoizedState=[a,u],a)}function kk(a,u){var h=Ws();u=u===void 0?null:u;var w=h.memoizedState;return w!==null&&u!==null&&kx(u,w[1])?w[0]:(a=a(),h.memoizedState=[a,u],a)}function Ik(a,u,h){return fu&21?(oo(h,u)||(h=mm(),vr.lanes|=h,pu|=h,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Ji=!0),a.memoizedState=h)}function vM(a,u){var h=An;An=h!==0&&4>h?h:4,a(!0);var w=Nx.transition;Nx.transition={};try{a(!1),u()}finally{An=h,Nx.transition=w}}function Ck(){return Ws().memoizedState}function bM(a,u,h){var w=il(a);if(h={lane:w,action:h,hasEagerState:!1,eagerState:null,next:null},Tk(a))Ok(u,h);else if(h=ok(a,u,h,w),h!==null){var k=ki();fo(h,a,w,k),qk(h,u,w)}}function xM(a,u,h){var w=il(a),k={lane:w,action:h,hasEagerState:!1,eagerState:null,next:null};if(Tk(a))Ok(u,k);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var G=u.lastRenderedState,ge=A(G,h);if(k.hasEagerState=!0,k.eagerState=ge,oo(ge,G)){var Se=u.interleaved;Se===null?(k.next=k,bx(u)):(k.next=Se.next,Se.next=k),u.interleaved=k;return}}catch{}finally{}h=ok(a,u,k,w),h!==null&&(k=ki(),fo(h,a,w,k),qk(h,u,w))}}function Tk(a){var u=a.alternate;return a===vr||u!==null&&u===vr}function Ok(a,u){Bf=Mm=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function qk(a,u,h){if(h&4194240){var w=u.lanes;w&=a.pendingLanes,h|=w,u.lanes=h,_f(a,h)}}var zm={readContext:zs,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},wM={readContext:zs,useCallback:function(a,u){return Fo().memoizedState=[a,u===void 0?null:u],a},useContext:zs,useEffect:xk,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,$m(4194308,4,Sk.bind(null,u,a),h)},useLayoutEffect:function(a,u){return $m(4194308,4,a,u)},useInsertionEffect:function(a,u){return $m(4,2,a,u)},useMemo:function(a,u){var h=Fo();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var w=Fo();return u=h!==void 0?h(u):u,w.memoizedState=w.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},w.queue=a,a=a.dispatch=bM.bind(null,vr,a),[w.memoizedState,a]},useRef:function(a){var u=Fo();return a={current:a},u.memoizedState=a},useState:vk,useDebugValue:Rx,useDeferredValue:function(a){return Fo().memoizedState=a},useTransition:function(){var a=vk(!1),u=a[0];return a=vM.bind(null,a[1]),Fo().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,h){var w=vr,k=Fo();if(lr){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),Qr===null)throw Error(n(349));fu&30||pk(w,u,h)}k.memoizedState=h;var A={value:h,getSnapshot:u};return k.queue=A,xk(mk.bind(null,w,A,a),[a]),w.flags|=2048,Uf(9,hk.bind(null,w,A,h,u),void 0,null),h},useId:function(){var a=Fo(),u=Qr.identifierPrefix;if(lr){var h=fa,w=da;h=(w&~(1<<32-li(w)-1)).toString(32)+h,u=":"+u+"R"+h,h=zf++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=yM++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},_M={readContext:zs,useCallback:Nk,useContext:zs,useEffect:qx,useImperativeHandle:Ek,useInsertionEffect:wk,useLayoutEffect:_k,useMemo:kk,useReducer:Tx,useRef:bk,useState:function(){return Tx(Wf)},useDebugValue:Rx,useDeferredValue:function(a){var u=Ws();return Ik(u,Wr.memoizedState,a)},useTransition:function(){var a=Tx(Wf)[0],u=Ws().memoizedState;return[a,u]},useMutableSource:dk,useSyncExternalStore:fk,useId:Ck,unstable_isNewReconciler:!1},SM={readContext:zs,useCallback:Nk,useContext:zs,useEffect:qx,useImperativeHandle:Ek,useInsertionEffect:wk,useLayoutEffect:_k,useMemo:kk,useReducer:Ox,useRef:bk,useState:function(){return Ox(Wf)},useDebugValue:Rx,useDeferredValue:function(a){var u=Ws();return Wr===null?u.memoizedState=a:Ik(u,Wr.memoizedState,a)},useTransition:function(){var a=Ox(Wf)[0],u=Ws().memoizedState;return[a,u]},useMutableSource:dk,useSyncExternalStore:fk,useId:Ck,unstable_isNewReconciler:!1};function lo(a,u){if(a&&a.defaultProps){u=se({},u),a=a.defaultProps;for(var h in a)u[h]===void 0&&(u[h]=a[h]);return u}return u}function Ax(a,u,h,w){u=a.memoizedState,h=h(w,u),h=h==null?u:se({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Wm={isMounted:function(a){return(a=a._reactInternals)?Ls(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var w=ki(),k=il(a),A=ha(w,k);A.payload=u,h!=null&&(A.callback=h),u=el(a,A,k),u!==null&&(fo(u,a,k,w),Pm(u,a,k))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var w=ki(),k=il(a),A=ha(w,k);A.tag=1,A.payload=u,h!=null&&(A.callback=h),u=el(a,A,k),u!==null&&(fo(u,a,k,w),Pm(u,a,k))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=ki(),w=il(a),k=ha(h,w);k.tag=2,u!=null&&(k.callback=u),u=el(a,k,w),u!==null&&(fo(u,a,w,h),Pm(u,a,w))}};function Rk(a,u,h,w,k,A,G){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,A,G):u.prototype&&u.prototype.isPureReactComponent?!Of(h,w)||!Of(k,A):!0}function Ak(a,u,h){var w=!1,k=Ja,A=u.contextType;return typeof A=="object"&&A!==null?A=zs(A):(k=Zi(u)?au:ui.current,w=u.contextTypes,A=(w=w!=null)?kc(a,k):Ja),u=new u(h,A),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wm,a.stateNode=u,u._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=A),u}function jk(a,u,h,w){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,w),u.state!==a&&Wm.enqueueReplaceState(u,u.state,null)}function jx(a,u,h,w){var k=a.stateNode;k.props=h,k.state=a.memoizedState,k.refs={},xx(a);var A=u.contextType;typeof A=="object"&&A!==null?k.context=zs(A):(A=Zi(u)?au:ui.current,k.context=kc(a,A)),k.state=a.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Ax(a,u,A,h),k.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Wm.enqueueReplaceState(k,k.state,null),Fm(a,h,k,w),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function jc(a,u){try{var h="",w=u;do h+=we(w),w=w.return;while(w);var k=h}catch(A){k=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:u,stack:k,digest:null}}function Px(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function Fx(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var EM=typeof WeakMap=="function"?WeakMap:Map;function Pk(a,u,h){h=ha(-1,h),h.tag=3,h.payload={element:null};var w=u.value;return h.callback=function(){Zm||(Zm=!0,Jx=w),Fx(a,u)},h}function Fk(a,u,h){h=ha(-1,h),h.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var k=u.value;h.payload=function(){return w(k)},h.callback=function(){Fx(a,u)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){Fx(a,u),typeof w!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var G=u.stack;this.componentDidCatch(u.value,{componentStack:G!==null?G:""})}),h}function Dk(a,u,h){var w=a.pingCache;if(w===null){w=a.pingCache=new EM;var k=new Set;w.set(u,k)}else k=w.get(u),k===void 0&&(k=new Set,w.set(u,k));k.has(h)||(k.add(h),a=LM.bind(null,a,u,h),u.then(a,a))}function Lk(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function Mk(a,u,h,w,k){return a.mode&1?(a.flags|=65536,a.lanes=k,a):(a===u?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=ha(-1,1),u.tag=2,el(h,u,1))),h.lanes|=1),a)}var NM=j.ReactCurrentOwner,Ji=!1;function Ni(a,u,h,w){u.child=a===null?sk(u,null,h,w):Oc(u,a.child,h,w)}function $k(a,u,h,w,k){h=h.render;var A=u.ref;return Rc(u,k),w=Ix(a,u,h,w,A,k),h=Cx(),a!==null&&!Ji?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~k,ma(a,u,k)):(lr&&h&&cx(u),u.flags|=1,Ni(a,u,w,k),u.child)}function Bk(a,u,h,w,k){if(a===null){var A=h.type;return typeof A=="function"&&!iw(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=A,zk(a,u,A,w,k)):(a=ng(h.type,null,w,u,u.mode,k),a.ref=u.ref,a.return=u,u.child=a)}if(A=a.child,!(a.lanes&k)){var G=A.memoizedProps;if(h=h.compare,h=h!==null?h:Of,h(G,w)&&a.ref===u.ref)return ma(a,u,k)}return u.flags|=1,a=ol(A,w),a.ref=u.ref,a.return=u,u.child=a}function zk(a,u,h,w,k){if(a!==null){var A=a.memoizedProps;if(Of(A,w)&&a.ref===u.ref)if(Ji=!1,u.pendingProps=w=A,(a.lanes&k)!==0)a.flags&131072&&(Ji=!0);else return u.lanes=a.lanes,ma(a,u,k)}return Dx(a,u,h,w,k)}function Wk(a,u,h){var w=u.pendingProps,k=w.children,A=a!==null?a.memoizedState:null;if(w.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xn(Fc,vs),vs|=h;else{if(!(h&0x40000000))return a=A!==null?A.baseLanes|h:h,u.lanes=u.childLanes=0x40000000,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,Xn(Fc,vs),vs|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=A!==null?A.baseLanes:h,Xn(Fc,vs),vs|=w}else A!==null?(w=A.baseLanes|h,u.memoizedState=null):w=h,Xn(Fc,vs),vs|=w;return Ni(a,u,k,h),u.child}function Uk(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function Dx(a,u,h,w,k){var A=Zi(h)?au:ui.current;return A=kc(u,A),Rc(u,k),h=Ix(a,u,h,w,A,k),w=Cx(),a!==null&&!Ji?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~k,ma(a,u,k)):(lr&&w&&cx(u),u.flags|=1,Ni(a,u,h,k),u.child)}function Vk(a,u,h,w,k){if(Zi(h)){var A=!0;Im(u)}else A=!1;if(Rc(u,k),u.stateNode===null)Vm(a,u),Ak(u,h,w),jx(u,h,w,k),w=!0;else if(a===null){var G=u.stateNode,ge=u.memoizedProps;G.props=ge;var Se=G.context,He=h.contextType;typeof He=="object"&&He!==null?He=zs(He):(He=Zi(h)?au:ui.current,He=kc(u,He));var ht=h.getDerivedStateFromProps,gt=typeof ht=="function"||typeof G.getSnapshotBeforeUpdate=="function";gt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge!==w||Se!==He)&&jk(u,G,w,He),Xa=!1;var ft=u.memoizedState;G.state=ft,Fm(u,w,G,k),Se=u.memoizedState,ge!==w||ft!==Se||Gi.current||Xa?(typeof ht=="function"&&(Ax(u,h,ht,w),Se=u.memoizedState),(ge=Xa||Rk(u,h,ge,w,ft,Se,He))?(gt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(u.flags|=4194308)):(typeof G.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Se),G.props=w,G.state=Se,G.context=He,w=ge):(typeof G.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{G=u.stateNode,ak(a,u),ge=u.memoizedProps,He=u.type===u.elementType?ge:lo(u.type,ge),G.props=He,gt=u.pendingProps,ft=G.context,Se=h.contextType,typeof Se=="object"&&Se!==null?Se=zs(Se):(Se=Zi(h)?au:ui.current,Se=kc(u,Se));var Rt=h.getDerivedStateFromProps;(ht=typeof Rt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge!==gt||ft!==Se)&&jk(u,G,w,Se),Xa=!1,ft=u.memoizedState,G.state=ft,Fm(u,w,G,k);var Mt=u.memoizedState;ge!==gt||ft!==Mt||Gi.current||Xa?(typeof Rt=="function"&&(Ax(u,h,Rt,w),Mt=u.memoizedState),(He=Xa||Rk(u,h,He,w,ft,Mt,Se)||!1)?(ht||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,Mt,Se),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,Mt,Se)),typeof G.componentDidUpdate=="function"&&(u.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof G.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Mt),G.props=w,G.state=Mt,G.context=Se,w=He):(typeof G.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=1024),w=!1)}return Lx(a,u,h,w,A,k)}function Lx(a,u,h,w,k,A){Uk(a,u);var G=(u.flags&128)!==0;if(!w&&!G)return k&&Z1(u,h,!1),ma(a,u,A);w=u.stateNode,NM.current=u;var ge=G&&typeof h.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,a!==null&&G?(u.child=Oc(u,a.child,null,A),u.child=Oc(u,null,ge,A)):Ni(a,u,ge,A),u.memoizedState=w.state,k&&Z1(u,h,!0),u.child}function Hk(a){var u=a.stateNode;u.pendingContext?K1(a,u.pendingContext,u.pendingContext!==u.context):u.context&&K1(a,u.context,!1),wx(a,u.containerInfo)}function Qk(a,u,h,w,k){return Tc(),hx(k),u.flags|=256,Ni(a,u,h,w),u.child}var Mx={dehydrated:null,treeContext:null,retryLane:0};function $x(a){return{baseLanes:a,cachePool:null,transitions:null}}function Kk(a,u,h){var w=u.pendingProps,k=yr.current,A=!1,G=(u.flags&128)!==0,ge;if((ge=G)||(ge=a!==null&&a.memoizedState===null?!1:(k&2)!==0),ge?(A=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),Xn(yr,k&1),a===null)return px(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=0x40000000:u.lanes=1,null):(G=w.children,a=w.fallback,A?(w=u.mode,A=u.child,G={mode:"hidden",children:G},!(w&1)&&A!==null?(A.childLanes=0,A.pendingProps=G):A=rg(G,w,0,null),a=yu(a,w,h,null),A.return=u,a.return=u,A.sibling=a,u.child=A,u.child.memoizedState=$x(h),u.memoizedState=Mx,a):Bx(u,G));if(k=a.memoizedState,k!==null&&(ge=k.dehydrated,ge!==null))return kM(a,u,G,w,ge,k,h);if(A){A=w.fallback,G=u.mode,k=a.child,ge=k.sibling;var Se={mode:"hidden",children:w.children};return!(G&1)&&u.child!==k?(w=u.child,w.childLanes=0,w.pendingProps=Se,u.deletions=null):(w=ol(k,Se),w.subtreeFlags=k.subtreeFlags&0xe00000),ge!==null?A=ol(ge,A):(A=yu(A,G,h,null),A.flags|=2),A.return=u,w.return=u,w.sibling=A,u.child=w,w=A,A=u.child,G=a.child.memoizedState,G=G===null?$x(h):{baseLanes:G.baseLanes|h,cachePool:null,transitions:G.transitions},A.memoizedState=G,A.childLanes=a.childLanes&~h,u.memoizedState=Mx,w}return A=a.child,a=A.sibling,w=ol(A,{mode:"visible",children:w.children}),!(u.mode&1)&&(w.lanes=h),w.return=u,w.sibling=null,a!==null&&(h=u.deletions,h===null?(u.deletions=[a],u.flags|=16):h.push(a)),u.child=w,u.memoizedState=null,w}function Bx(a,u){return u=rg({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Um(a,u,h,w){return w!==null&&hx(w),Oc(u,a.child,null,h),a=Bx(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function kM(a,u,h,w,k,A,G){if(h)return u.flags&256?(u.flags&=-257,w=Px(Error(n(422))),Um(a,u,G,w)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(A=w.fallback,k=u.mode,w=rg({mode:"visible",children:w.children},k,0,null),A=yu(A,k,G,null),A.flags|=2,w.return=u,A.return=u,w.sibling=A,u.child=w,u.mode&1&&Oc(u,a.child,null,G),u.child.memoizedState=$x(G),u.memoizedState=Mx,A);if(!(u.mode&1))return Um(a,u,G,null);if(k.data==="$!"){if(w=k.nextSibling&&k.nextSibling.dataset,w)var ge=w.dgst;return w=ge,A=Error(n(419)),w=Px(A,w,void 0),Um(a,u,G,w)}if(ge=(G&a.childLanes)!==0,Ji||ge){if(w=Qr,w!==null){switch(G&-G){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:k=32;break;case 0x20000000:k=0x10000000;break;default:k=0}k=k&(w.suspendedLanes|G)?0:k,k!==0&&k!==A.retryLane&&(A.retryLane=k,pa(a,k),fo(w,a,k,-1))}return rw(),w=Px(Error(n(421))),Um(a,u,G,w)}return k.data==="$?"?(u.flags|=128,u.child=a.child,u=MM.bind(null,a),k._reactRetry=u,null):(a=A.treeContext,ys=Ga(k.nextSibling),gs=u,lr=!0,ao=null,a!==null&&($s[Bs++]=da,$s[Bs++]=fa,$s[Bs++]=lu,da=a.id,fa=a.overflow,lu=u),u=Bx(u,w.children),u.flags|=4096,u)}function Gk(a,u,h){a.lanes|=u;var w=a.alternate;w!==null&&(w.lanes|=u),vx(a.return,u,h)}function zx(a,u,h,w,k){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:h,tailMode:k}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=h,A.tailMode=k)}function Zk(a,u,h){var w=u.pendingProps,k=w.revealOrder,A=w.tail;if(Ni(a,u,w.children,h),w=yr.current,w&2)w=w&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Gk(a,h,u);else if(a.tag===19)Gk(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(Xn(yr,w),!(u.mode&1))u.memoizedState=null;else switch(k){case"forwards":for(h=u.child,k=null;h!==null;)a=h.alternate,a!==null&&Dm(a)===null&&(k=h),h=h.sibling;h=k,h===null?(k=u.child,u.child=null):(k=h.sibling,h.sibling=null),zx(u,!1,k,h,A);break;case"backwards":for(h=null,k=u.child,u.child=null;k!==null;){if(a=k.alternate,a!==null&&Dm(a)===null){u.child=k;break}a=k.sibling,k.sibling=h,h=k,k=a}zx(u,!0,h,null,A);break;case"together":zx(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Vm(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ma(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),pu|=u.lanes,!(h&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,h=ol(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=ol(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function IM(a,u,h){switch(u.tag){case 3:Hk(u),Tc();break;case 5:ck(u);break;case 1:Zi(u.type)&&Im(u);break;case 4:wx(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,k=u.memoizedProps.value;Xn(Am,w._currentValue),w._currentValue=k;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(Xn(yr,yr.current&1),u.flags|=128,null):h&u.child.childLanes?Kk(a,u,h):(Xn(yr,yr.current&1),a=ma(a,u,h),a!==null?a.sibling:null);Xn(yr,yr.current&1);break;case 19:if(w=(h&u.childLanes)!==0,a.flags&128){if(w)return Zk(a,u,h);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Xn(yr,yr.current),w)break;return null;case 22:case 23:return u.lanes=0,Wk(a,u,h)}return ma(a,u,h)}var Jk,Wx,Yk,Xk;Jk=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Wx=function(){},Yk=function(a,u,h,w){var k=a.memoizedProps;if(k!==w){a=u.stateNode,du(Po.current);var A=null;switch(h){case"input":k=_t(a,k),w=_t(a,w),A=[];break;case"select":k=se({},k,{value:void 0}),w=se({},w,{value:void 0}),A=[];break;case"textarea":k=Ve(a,k),w=Ve(a,w),A=[];break;default:typeof k.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=Em)}Vi(h,w);var G;h=null;for(He in k)if(!w.hasOwnProperty(He)&&k.hasOwnProperty(He)&&k[He]!=null)if(He==="style"){var ge=k[He];for(G in ge)ge.hasOwnProperty(G)&&(h||(h={}),h[G]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(i.hasOwnProperty(He)?A||(A=[]):(A=A||[]).push(He,null));for(He in w){var Se=w[He];if(ge=k?.[He],w.hasOwnProperty(He)&&Se!==ge&&(Se!=null||ge!=null))if(He==="style")if(ge){for(G in ge)!ge.hasOwnProperty(G)||Se&&Se.hasOwnProperty(G)||(h||(h={}),h[G]="");for(G in Se)Se.hasOwnProperty(G)&&ge[G]!==Se[G]&&(h||(h={}),h[G]=Se[G])}else h||(A||(A=[]),A.push(He,h)),h=Se;else He==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ge=ge?ge.__html:void 0,Se!=null&&ge!==Se&&(A=A||[]).push(He,Se)):He==="children"?typeof Se!="string"&&typeof Se!="number"||(A=A||[]).push(He,""+Se):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(i.hasOwnProperty(He)?(Se!=null&&He==="onScroll"&&sr("scroll",a),A||ge===Se||(A=[])):(A=A||[]).push(He,Se))}h&&(A=A||[]).push("style",h);var He=A;(u.updateQueue=He)&&(u.flags|=4)}},Xk=function(a,u,h,w){h!==w&&(u.flags|=4)};function Vf(a,u){if(!lr)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function di(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,w=0;if(u)for(var k=a.child;k!==null;)h|=k.lanes|k.childLanes,w|=k.subtreeFlags&0xe00000,w|=k.flags&0xe00000,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)h|=k.lanes|k.childLanes,w|=k.subtreeFlags,w|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=w,a.childLanes=h,u}function CM(a,u,h){var w=u.pendingProps;switch(dx(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(u),null;case 1:return Zi(u.type)&&km(),di(u),null;case 3:return w=u.stateNode,Ac(),or(Gi),or(ui),Ex(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(qm(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,ao!==null&&(ew(ao),ao=null))),Wx(a,u),di(u),null;case 5:_x(u);var k=du($f.current);if(h=u.type,a!==null&&u.stateNode!=null)Yk(a,u,h,w,k),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(n(166));return di(u),null}if(a=du(Po.current),qm(u)){w=u.stateNode,h=u.type;var A=u.memoizedProps;switch(w[jo]=u,w[Pf]=A,a=(u.mode&1)!==0,h){case"dialog":sr("cancel",w),sr("close",w);break;case"iframe":case"object":case"embed":sr("load",w);break;case"video":case"audio":for(k=0;k<Rf.length;k++)sr(Rf[k],w);break;case"source":sr("error",w);break;case"img":case"image":case"link":sr("error",w),sr("load",w);break;case"details":sr("toggle",w);break;case"input":Tt(w,A),sr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},sr("invalid",w);break;case"textarea":rt(w,A),sr("invalid",w)}Vi(h,A),k=null;for(var G in A)if(A.hasOwnProperty(G)){var ge=A[G];G==="children"?typeof ge=="string"?w.textContent!==ge&&(A.suppressHydrationWarning!==!0&&Sm(w.textContent,ge,a),k=["children",ge]):typeof ge=="number"&&w.textContent!==""+ge&&(A.suppressHydrationWarning!==!0&&Sm(w.textContent,ge,a),k=["children",""+ge]):i.hasOwnProperty(G)&&ge!=null&&G==="onScroll"&&sr("scroll",w)}switch(h){case"input":Xe(w),xe(w,A,!0);break;case"textarea":Xe(w),ct(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=Em)}w=k,u.updateQueue=w,w!==null&&(u.flags|=4)}else{G=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ht(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=G.createElement("div"),a.innerHTML="<script></script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=G.createElement(h,{is:w.is}):(a=G.createElement(h),h==="select"&&(G=a,w.multiple?G.multiple=!0:w.size&&(G.size=w.size))):a=G.createElementNS(a,h),a[jo]=u,a[Pf]=w,Jk(a,u,!1,!1),u.stateNode=a;e:{switch(G=Hi(h,w),h){case"dialog":sr("cancel",a),sr("close",a),k=w;break;case"iframe":case"object":case"embed":sr("load",a),k=w;break;case"video":case"audio":for(k=0;k<Rf.length;k++)sr(Rf[k],a);k=w;break;case"source":sr("error",a),k=w;break;case"img":case"image":case"link":sr("error",a),sr("load",a),k=w;break;case"details":sr("toggle",a),k=w;break;case"input":Tt(a,w),k=_t(a,w),sr("invalid",a);break;case"option":k=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},k=se({},w,{value:void 0}),sr("invalid",a);break;case"textarea":rt(a,w),k=Ve(a,w),sr("invalid",a);break;default:k=w}Vi(h,k),ge=k;for(A in ge)if(ge.hasOwnProperty(A)){var Se=ge[A];A==="style"?Kt(a,Se):A==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&rr(a,Se)):A==="children"?typeof Se=="string"?(h!=="textarea"||Se!=="")&&Rn(a,Se):typeof Se=="number"&&Rn(a,""+Se):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?Se!=null&&A==="onScroll"&&sr("scroll",a):Se!=null&&q(a,A,Se,G))}switch(h){case"input":Xe(a),xe(a,w,!1);break;case"textarea":Xe(a),ct(a);break;case"option":w.value!=null&&a.setAttribute("value",""+qe(w.value));break;case"select":a.multiple=!!w.multiple,A=w.value,A!=null?je(a,!!w.multiple,A,!1):w.defaultValue!=null&&je(a,!!w.multiple,w.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=Em)}switch(h){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return di(u),null;case 6:if(a&&u.stateNode!=null)Xk(a,u,a.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(n(166));if(h=du($f.current),du(Po.current),qm(u)){if(w=u.stateNode,h=u.memoizedProps,w[jo]=u,(A=w.nodeValue!==h)&&(a=gs,a!==null))switch(a.tag){case 3:Sm(w.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Sm(w.nodeValue,h,(a.mode&1)!==0)}A&&(u.flags|=4)}else w=(h.nodeType===9?h:h.ownerDocument).createTextNode(w),w[jo]=u,u.stateNode=w}return di(u),null;case 13:if(or(yr),w=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(lr&&ys!==null&&u.mode&1&&!(u.flags&128))nk(),Tc(),u.flags|=98560,A=!1;else if(A=qm(u),w!==null&&w.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[jo]=u}else Tc(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;di(u),A=!1}else ao!==null&&(ew(ao),ao=null),A=!0;if(!A)return u.flags&65536?u:null}return u.flags&128?(u.lanes=h,u):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(u.child.flags|=8192,u.mode&1&&(a===null||yr.current&1?Ur===0&&(Ur=3):rw())),u.updateQueue!==null&&(u.flags|=4),di(u),null);case 4:return Ac(),Wx(a,u),a===null&&Af(u.stateNode.containerInfo),di(u),null;case 10:return yx(u.type._context),di(u),null;case 17:return Zi(u.type)&&km(),di(u),null;case 19:if(or(yr),A=u.memoizedState,A===null)return di(u),null;if(w=(u.flags&128)!==0,G=A.rendering,G===null)if(w)Vf(A,!1);else{if(Ur!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(G=Dm(a),G!==null){for(u.flags|=128,Vf(A,!1),w=G.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=h,h=u.child;h!==null;)A=h,a=w,A.flags&=0xe00002,G=A.alternate,G===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=G.childLanes,A.lanes=G.lanes,A.child=G.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=G.memoizedProps,A.memoizedState=G.memoizedState,A.updateQueue=G.updateQueue,A.type=G.type,a=G.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return Xn(yr,yr.current&1|2),u.child}a=a.sibling}A.tail!==null&&ir()>Dc&&(u.flags|=128,w=!0,Vf(A,!1),u.lanes=4194304)}else{if(!w)if(a=Dm(G),a!==null){if(u.flags|=128,w=!0,h=a.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),Vf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!G.alternate&&!lr)return di(u),null}else 2*ir()-A.renderingStartTime>Dc&&h!==0x40000000&&(u.flags|=128,w=!0,Vf(A,!1),u.lanes=4194304);A.isBackwards?(G.sibling=u.child,u.child=G):(h=A.last,h!==null?h.sibling=G:u.child=G,A.last=G)}return A.tail!==null?(u=A.tail,A.rendering=u,A.tail=u.sibling,A.renderingStartTime=ir(),u.sibling=null,h=yr.current,Xn(yr,w?h&1|2:h&1),u):(di(u),null);case 22:case 23:return nw(),w=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(u.flags|=8192),w&&u.mode&1?vs&0x40000000&&(di(u),u.subtreeFlags&6&&(u.flags|=8192)):di(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function TM(a,u){switch(dx(u),u.tag){case 1:return Zi(u.type)&&km(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Ac(),or(Gi),or(ui),Ex(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return _x(u),null;case 13:if(or(yr),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Tc()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return or(yr),null;case 4:return Ac(),null;case 10:return yx(u.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var Hm=!1,fi=!1,OM=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Pc(a,u){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(w){Sr(a,u,w)}else h.current=null}function Ux(a,u,h){try{h()}catch(w){Sr(a,u,w)}}var eI=!1;function qM(a,u){if(nx=Ge,a=R1(),Kb(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var w=h.getSelection&&h.getSelection();if(w&&w.rangeCount!==0){h=w.anchorNode;var k=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var G=0,ge=-1,Se=-1,He=0,ht=0,gt=a,ft=null;t:for(;;){for(var Rt;gt!==h||k!==0&&gt.nodeType!==3||(ge=G+k),gt!==A||w!==0&&gt.nodeType!==3||(Se=G+w),gt.nodeType===3&&(G+=gt.nodeValue.length),(Rt=gt.firstChild)!==null;)ft=gt,gt=Rt;for(;;){if(gt===a)break t;if(ft===h&&++He===k&&(ge=G),ft===A&&++ht===w&&(Se=G),(Rt=gt.nextSibling)!==null)break;gt=ft,ft=gt.parentNode}gt=Rt}h=ge===-1||Se===-1?null:{start:ge,end:Se}}else h=null}h=h||{start:0,end:0}}else h=null;for(rx={focusedElem:a,selectionRange:h},Ge=!1,Dt=u;Dt!==null;)if(u=Dt,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Dt=a;else for(;Dt!==null;){u=Dt;try{var Mt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var zt=Mt.memoizedProps,Cr=Mt.memoizedState,Fe=u.stateNode,Ce=Fe.getSnapshotBeforeUpdate(u.elementType===u.type?zt:lo(u.type,zt),Cr);Fe.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var $e=u.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(bt){Sr(u,u.return,bt)}if(a=u.sibling,a!==null){a.return=u.return,Dt=a;break}Dt=u.return}return Mt=eI,eI=!1,Mt}function Hf(a,u,h){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var k=w=w.next;do{if((k.tag&a)===a){var A=k.destroy;k.destroy=void 0,A!==void 0&&Ux(u,h,A)}k=k.next}while(k!==w)}}function Qm(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&a)===a){var w=h.create;h.destroy=w()}h=h.next}while(h!==u)}}function Vx(a){var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof u=="function"?u(a):u.current=a}}function tI(a){var u=a.alternate;u!==null&&(a.alternate=null,tI(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[jo],delete u[Pf],delete u[ax],delete u[pM],delete u[hM])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function nI(a){return a.tag===5||a.tag===3||a.tag===4}function rI(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hx(a,u,h){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(a,u):h.insertBefore(a,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(a,h)):(u=h,u.appendChild(a)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Em));else if(w!==4&&(a=a.child,a!==null))for(Hx(a,u,h),a=a.sibling;a!==null;)Hx(a,u,h),a=a.sibling}function Qx(a,u,h){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(Qx(a,u,h),a=a.sibling;a!==null;)Qx(a,u,h),a=a.sibling}var Yr=null,uo=!1;function tl(a,u,h){for(h=h.child;h!==null;)iI(a,u,h),h=h.sibling}function iI(a,u,h){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(Va,h)}catch{}switch(h.tag){case 5:fi||Pc(h,u);case 6:var w=Yr,k=uo;Yr=null,tl(a,u,h),Yr=w,uo=k,Yr!==null&&(uo?(a=Yr,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Yr.removeChild(h.stateNode));break;case 18:Yr!==null&&(uo?(a=Yr,h=h.stateNode,a.nodeType===8?ox(a.parentNode,h):a.nodeType===1&&ox(a,h),Te(a)):ox(Yr,h.stateNode));break;case 4:w=Yr,k=uo,Yr=h.stateNode.containerInfo,uo=!0,tl(a,u,h),Yr=w,uo=k;break;case 0:case 11:case 14:case 15:if(!fi&&(w=h.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){k=w=w.next;do{var A=k,G=A.destroy;A=A.tag,G!==void 0&&(A&2||A&4)&&Ux(h,u,G),k=k.next}while(k!==w)}tl(a,u,h);break;case 1:if(!fi&&(Pc(h,u),w=h.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=h.memoizedProps,w.state=h.memoizedState,w.componentWillUnmount()}catch(ge){Sr(h,u,ge)}tl(a,u,h);break;case 21:tl(a,u,h);break;case 22:h.mode&1?(fi=(w=fi)||h.memoizedState!==null,tl(a,u,h),fi=w):tl(a,u,h);break;default:tl(a,u,h)}}function sI(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new OM),u.forEach(function(w){var k=$M.bind(null,a,w);h.has(w)||(h.add(w),w.then(k,k))})}}function co(a,u){var h=u.deletions;if(h!==null)for(var w=0;w<h.length;w++){var k=h[w];try{var A=a,G=u,ge=G;e:for(;ge!==null;){switch(ge.tag){case 5:Yr=ge.stateNode,uo=!1;break e;case 3:Yr=ge.stateNode.containerInfo,uo=!0;break e;case 4:Yr=ge.stateNode.containerInfo,uo=!0;break e}ge=ge.return}if(Yr===null)throw Error(n(160));iI(A,G,k),Yr=null,uo=!1;var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(He){Sr(k,u,He)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)oI(u,a),u=u.sibling}function oI(a,u){var h=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(co(u,a),Do(a),w&4){try{Hf(3,a,a.return),Qm(3,a)}catch(zt){Sr(a,a.return,zt)}try{Hf(5,a,a.return)}catch(zt){Sr(a,a.return,zt)}}break;case 1:co(u,a),Do(a),w&512&&h!==null&&Pc(h,h.return);break;case 5:if(co(u,a),Do(a),w&512&&h!==null&&Pc(h,h.return),a.flags&32){var k=a.stateNode;try{Rn(k,"")}catch(zt){Sr(a,a.return,zt)}}if(w&4&&(k=a.stateNode,k!=null)){var A=a.memoizedProps,G=h!==null?h.memoizedProps:A,ge=a.type,Se=a.updateQueue;if(a.updateQueue=null,Se!==null)try{ge==="input"&&A.type==="radio"&&A.name!=null&&Wt(k,A),Hi(ge,G);var He=Hi(ge,A);for(G=0;G<Se.length;G+=2){var ht=Se[G],gt=Se[G+1];ht==="style"?Kt(k,gt):ht==="dangerouslySetInnerHTML"?rr(k,gt):ht==="children"?Rn(k,gt):q(k,ht,gt,He)}switch(ge){case"input":Xt(k,A);break;case"textarea":Me(k,A);break;case"select":var ft=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!A.multiple;var Rt=A.value;Rt!=null?je(k,!!A.multiple,Rt,!1):ft!==!!A.multiple&&(A.defaultValue!=null?je(k,!!A.multiple,A.defaultValue,!0):je(k,!!A.multiple,A.multiple?[]:"",!1))}k[Pf]=A}catch(zt){Sr(a,a.return,zt)}}break;case 6:if(co(u,a),Do(a),w&4){if(a.stateNode===null)throw Error(n(162));k=a.stateNode,A=a.memoizedProps;try{k.nodeValue=A}catch(zt){Sr(a,a.return,zt)}}break;case 3:if(co(u,a),Do(a),w&4&&h!==null&&h.memoizedState.isDehydrated)try{Te(u.containerInfo)}catch(zt){Sr(a,a.return,zt)}break;case 4:co(u,a),Do(a);break;case 13:co(u,a),Do(a),k=a.child,k.flags&8192&&(A=k.memoizedState!==null,k.stateNode.isHidden=A,!A||k.alternate!==null&&k.alternate.memoizedState!==null||(Zx=ir())),w&4&&sI(a);break;case 22:if(ht=h!==null&&h.memoizedState!==null,a.mode&1?(fi=(He=fi)||ht,co(u,a),fi=He):co(u,a),Do(a),w&8192){if(He=a.memoizedState!==null,(a.stateNode.isHidden=He)&&!ht&&a.mode&1)for(Dt=a,ht=a.child;ht!==null;){for(gt=Dt=ht;Dt!==null;){switch(ft=Dt,Rt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Hf(4,ft,ft.return);break;case 1:Pc(ft,ft.return);var Mt=ft.stateNode;if(typeof Mt.componentWillUnmount=="function"){w=ft,h=ft.return;try{u=w,Mt.props=u.memoizedProps,Mt.state=u.memoizedState,Mt.componentWillUnmount()}catch(zt){Sr(w,h,zt)}}break;case 5:Pc(ft,ft.return);break;case 22:if(ft.memoizedState!==null){uI(gt);continue}}Rt!==null?(Rt.return=ft,Dt=Rt):uI(gt)}ht=ht.sibling}e:for(ht=null,gt=a;;){if(gt.tag===5){if(ht===null){ht=gt;try{k=gt.stateNode,He?(A=k.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ge=gt.stateNode,Se=gt.memoizedProps.style,G=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ge.style.display=mr("display",G))}catch(zt){Sr(a,a.return,zt)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=He?"":gt.memoizedProps}catch(zt){Sr(a,a.return,zt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===a)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===a)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===a)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:co(u,a),Do(a),w&4&&sI(a);break;case 21:break;default:co(u,a),Do(a)}}function Do(a){var u=a.flags;if(u&2){try{e:{for(var h=a.return;h!==null;){if(nI(h)){var w=h;break e}h=h.return}throw Error(n(160))}switch(w.tag){case 5:var k=w.stateNode;w.flags&32&&(Rn(k,""),w.flags&=-33);var A=rI(a);Qx(a,A,k);break;case 3:case 4:var G=w.stateNode.containerInfo,ge=rI(a);Hx(a,ge,G);break;default:throw Error(n(161))}}catch(Se){Sr(a,a.return,Se)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function RM(a,u,h){Dt=a,aI(a)}function aI(a,u,h){for(var w=(a.mode&1)!==0;Dt!==null;){var k=Dt,A=k.child;if(k.tag===22&&w){var G=k.memoizedState!==null||Hm;if(!G){var ge=k.alternate,Se=ge!==null&&ge.memoizedState!==null||fi;ge=Hm;var He=fi;if(Hm=G,(fi=Se)&&!He)for(Dt=k;Dt!==null;)G=Dt,Se=G.child,G.tag===22&&G.memoizedState!==null?cI(k):Se!==null?(Se.return=G,Dt=Se):cI(k);for(;A!==null;)Dt=A,aI(A),A=A.sibling;Dt=k,Hm=ge,fi=He}lI(a)}else k.subtreeFlags&8772&&A!==null?(A.return=k,Dt=A):lI(a)}}function lI(a){for(;Dt!==null;){var u=Dt;if(u.flags&8772){var h=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:fi||Qm(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!fi)if(h===null)w.componentDidMount();else{var k=u.elementType===u.type?h.memoizedProps:lo(u.type,h.memoizedProps);w.componentDidUpdate(k,h.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&uk(u,A,w);break;case 3:var G=u.updateQueue;if(G!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}uk(u,G,h)}break;case 5:var ge=u.stateNode;if(h===null&&u.flags&4){h=ge;var Se=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&h.focus();break;case"img":Se.src&&(h.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var He=u.alternate;if(He!==null){var ht=He.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&Te(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fi||u.flags&512&&Vx(u)}catch(ft){Sr(u,u.return,ft)}}if(u===a){Dt=null;break}if(h=u.sibling,h!==null){h.return=u.return,Dt=h;break}Dt=u.return}}function uI(a){for(;Dt!==null;){var u=Dt;if(u===a){Dt=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Dt=h;break}Dt=u.return}}function cI(a){for(;Dt!==null;){var u=Dt;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Qm(4,u)}catch(Se){Sr(u,h,Se)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var k=u.return;try{w.componentDidMount()}catch(Se){Sr(u,k,Se)}}var A=u.return;try{Vx(u)}catch(Se){Sr(u,A,Se)}break;case 5:var G=u.return;try{Vx(u)}catch(Se){Sr(u,G,Se)}}}catch(Se){Sr(u,u.return,Se)}if(u===a){Dt=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,Dt=ge;break}Dt=u.return}}var AM=Math.ceil,Km=j.ReactCurrentDispatcher,Kx=j.ReactCurrentOwner,Us=j.ReactCurrentBatchConfig,Cn=0,Qr=null,Pr=null,Xr=0,vs=0,Fc=Za(0),Ur=0,Qf=null,pu=0,Gm=0,Gx=0,Kf=null,Yi=null,Zx=0,Dc=1/0,ga=null,Zm=!1,Jx=null,nl=null,Jm=!1,rl=null,Ym=0,Gf=0,Yx=null,Xm=-1,eg=0;function ki(){return Cn&6?ir():Xm!==-1?Xm:Xm=ir()}function il(a){return a.mode&1?Cn&2&&Xr!==0?Xr&-Xr:gM.transition!==null?(eg===0&&(eg=mm()),eg):(a=An,a!==0||(a=window.event,a=a===void 0?16:Ee(a.type)),a):1}function fo(a,u,h,w){if(50<Gf)throw Gf=0,Yx=null,Error(n(185));iu(a,h,w),(!(Cn&2)||a!==Qr)&&(a===Qr&&(!(Cn&2)&&(Gm|=h),Ur===4&&sl(a,Xr)),Xi(a,w),h===1&&Cn===0&&!(u.mode&1)&&(Dc=ir()+500,Cm&&Ya()))}function Xi(a,u){var h=a.callbackNode;$b(a,u);var w=Qa(a,a===Qr?Xr:0);if(w===0)h!==null&&tu(h),a.callbackNode=null,a.callbackPriority=0;else if(u=w&-w,a.callbackPriority!==u){if(h!=null&&tu(h),u===1)a.tag===0?mM(fI.bind(null,a)):J1(fI.bind(null,a)),dM(function(){!(Cn&6)&&Ya()}),h=null;else{switch(gm(w)){case 1:h=nu;break;case 4:h=vc;break;case 16:h=Ua;break;case 0x20000000:h=ru;break;default:h=Ua}h=xI(h,dI.bind(null,a))}a.callbackPriority=u,a.callbackNode=h}}function dI(a,u){if(Xm=-1,eg=0,Cn&6)throw Error(n(327));var h=a.callbackNode;if(Lc()&&a.callbackNode!==h)return null;var w=Qa(a,a===Qr?Xr:0);if(w===0)return null;if(w&30||w&a.expiredLanes||u)u=tg(a,w);else{u=w;var k=Cn;Cn|=2;var A=hI();(Qr!==a||Xr!==u)&&(ga=null,Dc=ir()+500,mu(a,u));do try{FM();break}catch(ge){pI(a,ge)}while(!0);gx(),Km.current=A,Cn=k,Pr!==null?u=0:(Qr=null,Xr=0,u=Ur)}if(u!==0){if(u===2&&(k=xf(a),k!==0&&(w=k,u=Xx(a,k))),u===1)throw h=Qf,mu(a,0),sl(a,w),Xi(a,ir()),h;if(u===6)sl(a,w);else{if(k=a.current.alternate,!(w&30)&&!jM(k)&&(u=tg(a,w),u===2&&(A=xf(a),A!==0&&(w=A,u=Xx(a,A))),u===1))throw h=Qf,mu(a,0),sl(a,w),Xi(a,ir()),h;switch(a.finishedWork=k,a.finishedLanes=w,u){case 0:case 1:throw Error(n(345));case 2:gu(a,Yi,ga);break;case 3:if(sl(a,w),(w&0x7c00000)===w&&(u=Zx+500-ir(),10<u)){if(Qa(a,0)!==0)break;if(k=a.suspendedLanes,(k&w)!==w){ki(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=sx(gu.bind(null,a,Yi,ga),u);break}gu(a,Yi,ga);break;case 4:if(sl(a,w),(w&4194240)===w)break;for(u=a.eventTimes,k=-1;0<w;){var G=31-li(w);A=1<<G,G=u[G],G>k&&(k=G),w&=~A}if(w=k,w=ir()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*AM(w/1960))-w,10<w){a.timeoutHandle=sx(gu.bind(null,a,Yi,ga),w);break}gu(a,Yi,ga);break;case 5:gu(a,Yi,ga);break;default:throw Error(n(329))}}}return Xi(a,ir()),a.callbackNode===h?dI.bind(null,a):null}function Xx(a,u){var h=Kf;return a.current.memoizedState.isDehydrated&&(mu(a,u).flags|=256),a=tg(a,u),a!==2&&(u=Yi,Yi=h,u!==null&&ew(u)),a}function ew(a){Yi===null?Yi=a:Yi.push.apply(Yi,a)}function jM(a){for(var u=a;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var w=0;w<h.length;w++){var k=h[w],A=k.getSnapshot;k=k.value;try{if(!oo(A(),k))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function sl(a,u){for(u&=~Gx,u&=~Gm,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-li(u),w=1<<h;a[h]=-1,u&=~w}}function fI(a){if(Cn&6)throw Error(n(327));Lc();var u=Qa(a,0);if(!(u&1))return Xi(a,ir()),null;var h=tg(a,u);if(a.tag!==0&&h===2){var w=xf(a);w!==0&&(u=w,h=Xx(a,w))}if(h===1)throw h=Qf,mu(a,0),sl(a,u),Xi(a,ir()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,gu(a,Yi,ga),Xi(a,ir()),null}function tw(a,u){var h=Cn;Cn|=1;try{return a(u)}finally{Cn=h,Cn===0&&(Dc=ir()+500,Cm&&Ya())}}function hu(a){rl!==null&&rl.tag===0&&!(Cn&6)&&Lc();var u=Cn;Cn|=1;var h=Us.transition,w=An;try{if(Us.transition=null,An=1,a)return a()}finally{An=w,Us.transition=h,Cn=u,!(Cn&6)&&Ya()}}function nw(){vs=Fc.current,or(Fc)}function mu(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,cM(h)),Pr!==null)for(h=Pr.return;h!==null;){var w=h;switch(dx(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&km();break;case 3:Ac(),or(Gi),or(ui),Ex();break;case 5:_x(w);break;case 4:Ac();break;case 13:or(yr);break;case 19:or(yr);break;case 10:yx(w.type._context);break;case 22:case 23:nw()}h=h.return}if(Qr=a,Pr=a=ol(a.current,null),Xr=vs=u,Ur=0,Qf=null,Gx=Gm=pu=0,Yi=Kf=null,cu!==null){for(u=0;u<cu.length;u++)if(h=cu[u],w=h.interleaved,w!==null){h.interleaved=null;var k=w.next,A=h.pending;if(A!==null){var G=A.next;A.next=k,w.next=G}h.pending=w}cu=null}return a}function pI(a,u){do{var h=Pr;try{if(gx(),Lm.current=zm,Mm){for(var w=vr.memoizedState;w!==null;){var k=w.queue;k!==null&&(k.pending=null),w=w.next}Mm=!1}if(fu=0,Hr=Wr=vr=null,Bf=!1,zf=0,Kx.current=null,h===null||h.return===null){Ur=1,Qf=u,Pr=null;break}e:{var A=a,G=h.return,ge=h,Se=u;if(u=Xr,ge.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var He=Se,ht=ge,gt=ht.tag;if(!(ht.mode&1)&&(gt===0||gt===11||gt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Rt=Lk(G);if(Rt!==null){Rt.flags&=-257,Mk(Rt,G,ge,A,u),Rt.mode&1&&Dk(A,He,u),u=Rt,Se=He;var Mt=u.updateQueue;if(Mt===null){var zt=new Set;zt.add(Se),u.updateQueue=zt}else Mt.add(Se);break e}else{if(!(u&1)){Dk(A,He,u),rw();break e}Se=Error(n(426))}}else if(lr&&ge.mode&1){var Cr=Lk(G);if(Cr!==null){!(Cr.flags&65536)&&(Cr.flags|=256),Mk(Cr,G,ge,A,u),hx(jc(Se,ge));break e}}A=Se=jc(Se,ge),Ur!==4&&(Ur=2),Kf===null?Kf=[A]:Kf.push(A),A=G;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u;var Fe=Pk(A,Se,u);lk(A,Fe);break e;case 1:ge=Se;var Ce=A.type,$e=A.stateNode;if(!(A.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(nl===null||!nl.has($e)))){A.flags|=65536,u&=-u,A.lanes|=u;var bt=Fk(A,ge,u);lk(A,bt);break e}}A=A.return}while(A!==null)}gI(h)}catch(Ut){u=Ut,Pr===h&&h!==null&&(Pr=h=h.return);continue}break}while(!0)}function hI(){var a=Km.current;return Km.current=zm,a===null?zm:a}function rw(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),Qr===null||!(pu&0xfffffff)&&!(Gm&0xfffffff)||sl(Qr,Xr)}function tg(a,u){var h=Cn;Cn|=2;var w=hI();(Qr!==a||Xr!==u)&&(ga=null,mu(a,u));do try{PM();break}catch(k){pI(a,k)}while(!0);if(gx(),Cn=h,Km.current=w,Pr!==null)throw Error(n(261));return Qr=null,Xr=0,Ur}function PM(){for(;Pr!==null;)mI(Pr)}function FM(){for(;Pr!==null&&!yc();)mI(Pr)}function mI(a){var u=bI(a.alternate,a,vs);a.memoizedProps=a.pendingProps,u===null?gI(a):Pr=u,Kx.current=null}function gI(a){var u=a;do{var h=u.alternate;if(a=u.return,u.flags&32768){if(h=TM(h,u),h!==null){h.flags&=32767,Pr=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ur=6,Pr=null;return}}else if(h=CM(h,u,vs),h!==null){Pr=h;return}if(u=u.sibling,u!==null){Pr=u;return}Pr=u=a}while(u!==null);Ur===0&&(Ur=5)}function gu(a,u,h){var w=An,k=Us.transition;try{Us.transition=null,An=1,DM(a,u,h,w)}finally{Us.transition=k,An=w}return null}function DM(a,u,h,w){do Lc();while(rl!==null);if(Cn&6)throw Error(n(327));h=a.finishedWork;var k=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=h.lanes|h.childLanes;if(Bb(a,A),a===Qr&&(Pr=Qr=null,Xr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||Jm||(Jm=!0,xI(Ua,function(){return Lc(),null})),A=(h.flags&15990)!==0,h.subtreeFlags&15990||A){A=Us.transition,Us.transition=null;var G=An;An=1;var ge=Cn;Cn|=4,Kx.current=null,qM(a,h),oI(h,a),rM(rx),Ge=!!nx,rx=nx=null,a.current=h,RM(h),pf(),Cn=ge,An=G,Us.transition=A}else a.current=h;if(Jm&&(Jm=!1,rl=a,Ym=k),A=a.pendingLanes,A===0&&(nl=null),gf(h.stateNode),Xi(a,ir()),u!==null)for(w=a.onRecoverableError,h=0;h<u.length;h++)k=u[h],w(k.value,{componentStack:k.stack,digest:k.digest});if(Zm)throw Zm=!1,a=Jx,Jx=null,a;return Ym&1&&a.tag!==0&&Lc(),A=a.pendingLanes,A&1?a===Yx?Gf++:(Gf=0,Yx=a):Gf=0,Ya(),null}function Lc(){if(rl!==null){var a=gm(Ym),u=Us.transition,h=An;try{if(Us.transition=null,An=16>a?16:a,rl===null)var w=!1;else{if(a=rl,rl=null,Ym=0,Cn&6)throw Error(n(331));var k=Cn;for(Cn|=4,Dt=a.current;Dt!==null;){var A=Dt,G=A.child;if(Dt.flags&16){var ge=A.deletions;if(ge!==null){for(var Se=0;Se<ge.length;Se++){var He=ge[Se];for(Dt=He;Dt!==null;){var ht=Dt;switch(ht.tag){case 0:case 11:case 15:Hf(8,ht,A)}var gt=ht.child;if(gt!==null)gt.return=ht,Dt=gt;else for(;Dt!==null;){ht=Dt;var ft=ht.sibling,Rt=ht.return;if(tI(ht),ht===He){Dt=null;break}if(ft!==null){ft.return=Rt,Dt=ft;break}Dt=Rt}}}var Mt=A.alternate;if(Mt!==null){var zt=Mt.child;if(zt!==null){Mt.child=null;do{var Cr=zt.sibling;zt.sibling=null,zt=Cr}while(zt!==null)}}Dt=A}}if(A.subtreeFlags&2064&&G!==null)G.return=A,Dt=G;else e:for(;Dt!==null;){if(A=Dt,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Hf(9,A,A.return)}var Fe=A.sibling;if(Fe!==null){Fe.return=A.return,Dt=Fe;break e}Dt=A.return}}var Ce=a.current;for(Dt=Ce;Dt!==null;){G=Dt;var $e=G.child;if(G.subtreeFlags&2064&&$e!==null)$e.return=G,Dt=$e;else e:for(G=Ce;Dt!==null;){if(ge=Dt,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:Qm(9,ge)}}catch(Ut){Sr(ge,ge.return,Ut)}if(ge===G){Dt=null;break e}var bt=ge.sibling;if(bt!==null){bt.return=ge.return,Dt=bt;break e}Dt=ge.return}}if(Cn=k,Ya(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(Va,a)}catch{}w=!0}return w}finally{An=h,Us.transition=u}}return!1}function yI(a,u,h){u=jc(h,u),u=Pk(a,u,1),a=el(a,u,1),u=ki(),a!==null&&(iu(a,1,u),Xi(a,u))}function Sr(a,u,h){if(a.tag===3)yI(a,a,h);else for(;u!==null;){if(u.tag===3){yI(u,a,h);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(nl===null||!nl.has(w))){a=jc(h,a),a=Fk(u,a,1),u=el(u,a,1),a=ki(),u!==null&&(iu(u,1,a),Xi(u,a));break}}u=u.return}}function LM(a,u,h){var w=a.pingCache;w!==null&&w.delete(u),u=ki(),a.pingedLanes|=a.suspendedLanes&h,Qr===a&&(Xr&h)===h&&(Ur===4||Ur===3&&(Xr&0x7c00000)===Xr&&500>ir()-Zx?mu(a,0):Gx|=h),Xi(a,u)}function vI(a,u){u===0&&(a.mode&1?(u=Ha,Ha<<=1,!(Ha&0x7c00000)&&(Ha=4194304)):u=1);var h=ki();a=pa(a,u),a!==null&&(iu(a,u,h),Xi(a,h))}function MM(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),vI(a,h)}function $M(a,u){var h=0;switch(a.tag){case 13:var w=a.stateNode,k=a.memoizedState;k!==null&&(h=k.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(u),vI(a,h)}var bI;bI=function(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps||Gi.current)Ji=!0;else{if(!(a.lanes&h)&&!(u.flags&128))return Ji=!1,IM(a,u,h);Ji=!!(a.flags&131072)}else Ji=!1,lr&&u.flags&1048576&&Y1(u,Om,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;Vm(a,u),a=u.pendingProps;var k=kc(u,ui.current);Rc(u,h),k=Ix(null,u,w,a,k,h);var A=Cx();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Zi(w)?(A=!0,Im(u)):A=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,xx(u),k.updater=Wm,u.stateNode=k,k._reactInternals=u,jx(u,w,a,h),u=Lx(null,u,w,!0,A,h)):(u.tag=0,lr&&A&&cx(u),Ni(null,u,k,h),u=u.child),u;case 16:w=u.elementType;e:{switch(Vm(a,u),a=u.pendingProps,k=w._init,w=k(w._payload),u.type=w,k=u.tag=zM(w),a=lo(w,a),k){case 0:u=Dx(null,u,w,a,h);break e;case 1:u=Vk(null,u,w,a,h);break e;case 11:u=$k(null,u,w,a,h);break e;case 14:u=Bk(null,u,w,lo(w.type,a),h);break e}throw Error(n(306,w,""))}return u;case 0:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:lo(w,k),Dx(a,u,w,k,h);case 1:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:lo(w,k),Vk(a,u,w,k,h);case 3:e:{if(Hk(u),a===null)throw Error(n(387));w=u.pendingProps,A=u.memoizedState,k=A.element,ak(a,u),Fm(u,w,null,h);var G=u.memoizedState;if(w=G.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){k=jc(Error(n(423)),u),u=Qk(a,u,w,h,k);break e}else if(w!==k){k=jc(Error(n(424)),u),u=Qk(a,u,w,h,k);break e}else for(ys=Ga(u.stateNode.containerInfo.firstChild),gs=u,lr=!0,ao=null,h=sk(u,null,w,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Tc(),w===k){u=ma(a,u,h);break e}Ni(a,u,w,h)}u=u.child}return u;case 5:return ck(u),a===null&&px(u),w=u.type,k=u.pendingProps,A=a!==null?a.memoizedProps:null,G=k.children,ix(w,k)?G=null:A!==null&&ix(w,A)&&(u.flags|=32),Uk(a,u),Ni(a,u,G,h),u.child;case 6:return a===null&&px(u),null;case 13:return Kk(a,u,h);case 4:return wx(u,u.stateNode.containerInfo),w=u.pendingProps,a===null?u.child=Oc(u,null,w,h):Ni(a,u,w,h),u.child;case 11:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:lo(w,k),$k(a,u,w,k,h);case 7:return Ni(a,u,u.pendingProps,h),u.child;case 8:return Ni(a,u,u.pendingProps.children,h),u.child;case 12:return Ni(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(w=u.type._context,k=u.pendingProps,A=u.memoizedProps,G=k.value,Xn(Am,w._currentValue),w._currentValue=G,A!==null)if(oo(A.value,G)){if(A.children===k.children&&!Gi.current){u=ma(a,u,h);break e}}else for(A=u.child,A!==null&&(A.return=u);A!==null;){var ge=A.dependencies;if(ge!==null){G=A.child;for(var Se=ge.firstContext;Se!==null;){if(Se.context===w){if(A.tag===1){Se=ha(-1,h&-h),Se.tag=2;var He=A.updateQueue;if(He!==null){He=He.shared;var ht=He.pending;ht===null?Se.next=Se:(Se.next=ht.next,ht.next=Se),He.pending=Se}}A.lanes|=h,Se=A.alternate,Se!==null&&(Se.lanes|=h),vx(A.return,h,u),ge.lanes|=h;break}Se=Se.next}}else if(A.tag===10)G=A.type===u.type?null:A.child;else if(A.tag===18){if(G=A.return,G===null)throw Error(n(341));G.lanes|=h,ge=G.alternate,ge!==null&&(ge.lanes|=h),vx(G,h,u),G=A.sibling}else G=A.child;if(G!==null)G.return=A;else for(G=A;G!==null;){if(G===u){G=null;break}if(A=G.sibling,A!==null){A.return=G.return,G=A;break}G=G.return}A=G}Ni(a,u,k.children,h),u=u.child}return u;case 9:return k=u.type,w=u.pendingProps.children,Rc(u,h),k=zs(k),w=w(k),u.flags|=1,Ni(a,u,w,h),u.child;case 14:return w=u.type,k=lo(w,u.pendingProps),k=lo(w.type,k),Bk(a,u,w,k,h);case 15:return zk(a,u,u.type,u.pendingProps,h);case 17:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:lo(w,k),Vm(a,u),u.tag=1,Zi(w)?(a=!0,Im(u)):a=!1,Rc(u,h),Ak(u,w,k),jx(u,w,k,h),Lx(null,u,w,!0,a,h);case 19:return Zk(a,u,h);case 22:return Wk(a,u,h)}throw Error(n(156,u.tag))};function xI(a,u){return gc(a,u)}function BM(a,u,h,w){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(a,u,h,w){return new BM(a,u,h,w)}function iw(a){return a=a.prototype,!(!a||!a.isReactComponent)}function zM(a){if(typeof a=="function")return iw(a)?1:0;if(a!=null){if(a=a.$$typeof,a===W)return 11;if(a===ee)return 14}return 2}function ol(a,u){var h=a.alternate;return h===null?(h=Vs(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&0xe00000,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function ng(a,u,h,w,k,A){var G=2;if(w=a,typeof a=="function")iw(a)&&(G=1);else if(typeof a=="string")G=5;else e:switch(a){case z:return yu(h.children,k,A,u);case P:G=8,k|=8;break;case R:return a=Vs(12,h,u,k|2),a.elementType=R,a.lanes=A,a;case U:return a=Vs(13,h,u,k),a.elementType=U,a.lanes=A,a;case $:return a=Vs(19,h,u,k),a.elementType=$,a.lanes=A,a;case le:return rg(h,k,A,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:G=10;break e;case F:G=9;break e;case W:G=11;break e;case ee:G=14;break e;case Z:G=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Vs(G,h,u,k),u.elementType=a,u.type=w,u.lanes=A,u}function yu(a,u,h,w){return a=Vs(7,a,w,u),a.lanes=h,a}function rg(a,u,h,w){return a=Vs(22,a,w,u),a.elementType=le,a.lanes=h,a.stateNode={isHidden:!1},a}function sw(a,u,h){return a=Vs(6,a,null,u),a.lanes=h,a}function ow(a,u,h){return u=Vs(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function WM(a,u,h,w,k){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wf(0),this.expirationTimes=wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wf(0),this.identifierPrefix=w,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function aw(a,u,h,w,k,A,G,ge,Se){return a=new WM(a,u,h,ge,Se),u===1?(u=1,A===!0&&(u|=8)):u=0,A=Vs(3,null,null,u),a.current=A,A.stateNode=a,A.memoizedState={element:w,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},xx(A),a}function UM(a,u,h){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:w==null?null:""+w,children:a,containerInfo:u,implementation:h}}function wI(a){if(!a)return Ja;a=a._reactInternals;e:{if(Ls(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Zi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Zi(h))return G1(a,h,u)}return u}function _I(a,u,h,w,k,A,G,ge,Se){return a=aw(h,w,!0,a,k,A,G,ge,Se),a.context=wI(null),h=a.current,w=ki(),k=il(h),A=ha(w,k),A.callback=u??null,el(h,A,k),a.current.lanes=k,iu(a,k,w),Xi(a,w),a}function ig(a,u,h,w){var k=u.current,A=ki(),G=il(k);return h=wI(h),u.context===null?u.context=h:u.pendingContext=h,u=ha(A,G),u.payload={element:a},w=w===void 0?null:w,w!==null&&(u.callback=w),a=el(k,u,G),a!==null&&(fo(a,k,G,A),Pm(a,k,G)),G}function sg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function SI(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function lw(a,u){SI(a,u),(a=a.alternate)&&SI(a,u)}var EI=typeof reportError=="function"?reportError:function(a){console.error(a)};function uw(a){this._internalRoot=a}og.prototype.render=uw.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));ig(a,u,null,null)},og.prototype.unmount=uw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;hu(function(){ig(null,a,null,null)}),u[ua]=null}};function og(a){this._internalRoot=a}og.prototype.unstable_scheduleHydration=function(a){if(a){var u=su();a={blockedOn:null,target:a,priority:u};for(var h=0;h<me.length&&u!==0&&u<me[h].priority;h++);me.splice(h,0,a),h===0&&Be(a)}};function cw(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ag(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function NI(){}function VM(a,u,h,w,k){if(k){if(typeof w=="function"){var A=w;w=function(){var He=sg(G);A.call(He)}}var G=_I(u,w,a,0,null,!1,!1,"",NI);return a._reactRootContainer=G,a[ua]=G.current,Af(a.nodeType===8?a.parentNode:a),hu(),G}for(;k=a.lastChild;)a.removeChild(k);if(typeof w=="function"){var ge=w;w=function(){var He=sg(Se);ge.call(He)}}var Se=aw(a,0,!1,null,null,!1,!1,"",NI);return a._reactRootContainer=Se,a[ua]=Se.current,Af(a.nodeType===8?a.parentNode:a),hu(function(){ig(u,Se,h,w)}),Se}function lg(a,u,h,w,k){var A=h._reactRootContainer;if(A){var G=A;if(typeof k=="function"){var ge=k;k=function(){var Se=sg(G);ge.call(Se)}}ig(u,G,a,k)}else G=VM(h,u,a,k,w);return sg(G)}Sf=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var h=Ei(u.pendingLanes);h!==0&&(_f(u,h|1),Xi(u,ir()),!(Cn&6)&&(Dc=ir()+500,Ya()))}break;case 13:hu(function(){var w=pa(a,1);if(w!==null){var k=ki();fo(w,a,1,k)}}),lw(a,1)}},he=function(a){if(a.tag===13){var u=pa(a,0x8000000);if(u!==null){var h=ki();fo(u,a,0x8000000,h)}lw(a,0x8000000)}},Ef=function(a){if(a.tag===13){var u=il(a),h=pa(a,u);if(h!==null){var w=ki();fo(h,a,u,w)}lw(a,u)}},su=function(){return An},Nf=function(a,u){var h=An;try{return An=a,u()}finally{An=h}},Yl=function(a,u,h){switch(u){case"input":if(Xt(a,h),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var w=h[u];if(w!==a&&w.form===a.form){var k=Nm(w);if(!k)throw Error(n(90));Ue(w),Xt(w,k)}}}break;case"textarea":Me(a,h);break;case"select":u=h.value,u!=null&&je(a,!!h.multiple,u,!1)}},uc=tw,cc=hu;var HM={usingClientEntryPoint:!1,Events:[Ff,Ec,Nm,on,lc,tw]},Zf={findFiberByHostInstance:ou,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QM={bundleType:Zf.bundleType,version:Zf.version,rendererPackageName:Zf.rendererPackageName,rendererConfig:Zf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=hc(a),a===null?null:a.stateNode},findFiberByHostInstance:Zf.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{Va=ug.inject(QM),Ki=ug}catch{}}return es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HM,es.createPortal=function(a,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cw(u))throw Error(n(200));return UM(a,u,null,h)},es.createRoot=function(a,u){if(!cw(a))throw Error(n(299));var h=!1,w="",k=EI;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=aw(a,1,!1,null,null,h,!1,w,k),a[ua]=u.current,Af(a.nodeType===8?a.parentNode:a),new uw(u)},es.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=hc(u),a=a===null?null:a.stateNode,a},es.flushSync=function(a){return hu(a)},es.hydrate=function(a,u,h){if(!ag(u))throw Error(n(200));return lg(null,a,u,!0,h)},es.hydrateRoot=function(a,u,h){if(!cw(a))throw Error(n(405));var w=h!=null&&h.hydratedSources||null,k=!1,A="",G=EI;if(h!=null&&(h.unstable_strictMode===!0&&(k=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(G=h.onRecoverableError)),u=_I(u,null,a,1,h??null,k,!1,A,G),a[ua]=u.current,Af(a),w)for(a=0;a<w.length;a++)h=w[a],k=h._getVersion,k=k(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,k]:u.mutableSourceEagerHydrationData.push(h,k);return new og(u)},es.render=function(a,u,h){if(!ag(u))throw Error(n(200));return lg(null,a,u,!1,h)},es.unmountComponentAtNode=function(a){if(!ag(a))throw Error(n(40));return a._reactRootContainer?(hu(function(){lg(null,null,a,!1,function(){a._reactRootContainer=null,a[ua]=null})}),!0):!1},es.unstable_batchedUpdates=tw,es.unstable_renderSubtreeIntoContainer=function(a,u,h,w){if(!ag(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return lg(a,u,h,!1,w)},es.version="18.3.1-next-f1338f8080-20240426",es}var nC;function cA(){if(nC)return Nw.exports;nC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nw.exports=C4(),Nw.exports}var Lv=cA();const T4="Error preloading route! ";function O4(t,e){const n=Oo(),[r,i]=K.useState(!1),s=K.useRef(!1),o=n4(e),{activeProps:l=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:d,to:f,preload:p,preloadDelay:b,hashScrollIntoView:x,replace:_,startTransition:N,resetScroll:I,viewTransition:O,children:T,target:q,disabled:j,style:D,className:L,onClick:z,onFocus:P,onMouseEnter:R,onMouseLeave:B,onTouchStart:F,ignoreBlocker:W,...U}=t,{params:$,search:ee,hash:Z,state:le,mask:ie,reloadDocument:te,...se}=U,Y=K.useMemo(()=>{try{return new URL(`${f}`),"external"}catch{}return"internal"},[f]),ce=Ai({select:ke=>ke.location.search,structuralSharing:!0});t={from:Fl({strict:!1,select:ke=>ke.pathname}),...t};const ye=K.useMemo(()=>n.buildLocation(t),[n,t,ce]),we=K.useMemo(()=>t.reloadDocument?!1:p??n.options.defaultPreload,[n.options.defaultPreload,p,t.reloadDocument]),Ne=b??n.options.defaultPreloadDelay??0,ze=Ai({select:ke=>{if(d?.exact){if(!i4(ke.location.pathname,ye.pathname,n.basepath))return!1}else{const je=Ty(ke.location.pathname,n.basepath).split("/");if(!Ty(ye.pathname,n.basepath).split("/").every((Me,ct)=>Me===je[ct]))return!1}return(d?.includeSearch??!0)&&!ud(ke.location.search,ye.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?ke.location.hash===ye.hash:!0}}),qe=K.useCallback(()=>{n.preloadRoute(t).catch(ke=>{console.warn(ke),console.warn(T4)})},[t,n]),De=K.useCallback(ke=>{ke?.isIntersecting&&qe()},[qe]);if(t4(o,De,{rootMargin:"100px"},{disabled:!!j||we!=="viewport"}),dp(()=>{s.current||!j&&we==="render"&&(qe(),s.current=!0)},[j,qe,we]),Y==="external")return{...se,ref:o,type:Y,href:f,...T&&{children:T},...q&&{target:q},...j&&{disabled:j},...D&&{style:D},...L&&{className:L},...z&&{onClick:z},...P&&{onFocus:P},...R&&{onMouseEnter:R},...B&&{onMouseLeave:B},...F&&{onTouchStart:F}};const Ze=ke=>{if(!j&&!R4(ke)&&!ke.defaultPrevented&&(!q||q==="_self")&&ke.button===0){ke.preventDefault(),Lv.flushSync(()=>{i(!0)});const je=n.subscribe("onResolved",()=>{je(),i(!1)});return n.navigate({...t,replace:_,resetScroll:I,hashScrollIntoView:x,startTransition:N,viewTransition:O,ignoreBlocker:W})}},Xe=ke=>{j||we&&qe()},Ue=Xe,ut=ke=>{if(j)return;const je=ke.target||{};if(we){if(je.preloadTimeout)return;je.preloadTimeout=setTimeout(()=>{je.preloadTimeout=null,qe()},Ne)}},_t=ke=>{if(j)return;const je=ke.target||{};je.preloadTimeout&&(clearTimeout(je.preloadTimeout),je.preloadTimeout=null)},Tt=ke=>je=>{var Ve;(Ve=je.persist)==null||Ve.call(je),ke.filter(Boolean).forEach(rt=>{je.defaultPrevented||rt(je)})},Wt=ze?Ou(l,{})??{}:{},Xt=ze?{}:Ou(c,{}),xe=[L,Wt.className,Xt.className].filter(Boolean).join(" "),ve={...D,...Wt.style,...Xt.style};return{...se,...Wt,...Xt,href:j?void 0:ye.maskedLocation?n.history.createHref(ye.maskedLocation.href):n.history.createHref(ye.href),ref:o,onClick:Tt([z,Ze]),onFocus:Tt([P,Xe]),onMouseEnter:Tt([R,ut]),onMouseLeave:Tt([B,_t]),onTouchStart:Tt([F,Ue]),disabled:!!j,target:q,...Object.keys(ve).length&&{style:ve},...xe&&{className:xe},...j&&{role:"link","aria-disabled":!0},...ze&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function dA(t){return K.forwardRef(function(n,r){return m.jsx(q4,{...n,_asChild:t,ref:r})})}const q4=K.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:s,...o}=O4(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,K.createElement(n||"a",{...o,ref:s},l)});function R4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A4(){const t=Oo(),e=K.useRef({router:t,mounted:!1}),n=Ai({select:({isLoading:p})=>p}),[r,i]=K.useState(!1),s=Ai({select:p=>p.matches.some(b=>b.status==="pending"),structuralSharing:!0}),o=_w(n),l=n||r||s,c=_w(l),d=n||s,f=_w(d);return t.isServer||(t.startReactTransition=p=>{i(!0),K.startTransition(()=>{p(),i(!1)})}),K.useEffect(()=>{const p=t.history.subscribe(t.load),b=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return qu(t.latestLocation.href)!==qu(b.href)&&t.commitLocation({...b,replace:!0}),()=>{p()}},[t,t.history]),dp(()=>{var p;if(typeof window<"u"&&((p=window.__TSR__)!=null&&p.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),dp(()=>{if(o&&!n){const p=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==p.pathname,_=b.href!==p.href;t.emit({type:"onLoad",fromLocation:b,toLocation:p,pathChanged:x,hrefChanged:_})}},[o,t,n]),dp(()=>{if(f&&!d){const p=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==p.pathname,_=b.href!==p.href;t.emit({type:"onBeforeRouteMount",fromLocation:b,toLocation:p,pathChanged:x,hrefChanged:_})}},[d,f,t]),dp(()=>{if(c&&!l){const p=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==p.pathname,_=b.href!==p.href;if(t.emit({type:"onResolved",fromLocation:b,toLocation:p,pathChanged:x,hrefChanged:_}),t.__store.setState(N=>({...N,status:"idle",resolvedLocation:N.location})),typeof document<"u"&&document.querySelector){const N=t.state.location.state.__hashScrollIntoViewOptions??!0;if(N&&t.state.location.hash!==""){const I=document.getElementById(t.state.location.hash);I&&I.scrollIntoView(N)}}}},[l,c,t]),null}function j4(){const t=Oo(),e=t.options.defaultPendingComponent?m.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?Kg:K.Suspense,r=m.jsxs(n,{fallback:e,children:[m.jsx(A4,{}),m.jsx(P4,{})]});return t.options.InnerWrap?m.jsx(t.options.InnerWrap,{children:r}):r}function P4(){const t=Ai({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=Ai({select:n=>n.loadedAt});return m.jsx(Dv.Provider,{value:t,children:m.jsx($E,{getResetKey:()=>e,errorComponent:Fv,onCatch:n=>{n.message||n.toString()},children:t?m.jsx(uA,{matchId:t}):null})})}function F4(){const t=Oo();return Ai({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),K.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s,...o}=e;return t.matchRoute(o,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s})},[t])}function D4({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=nA(),i=m.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?m.jsx(t.options.Wrap,{children:i}):i}function L4({router:t,...e}){return m.jsx(D4,{router:t,...e,children:m.jsx(j4,{})})}const M4=typeof window<"u"?K.useLayoutEffect:K.useEffect,Cw="window",rC="___";let Tw=new WeakSet;const $4=typeof window<"u"&&window.sessionStorage,mo=$4?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{mo.state=Ou(n,mo.state),window.sessionStorage.setItem(t,JSON.stringify(mo.state))}}})():void 0,B4=t=>t.state.key||t.href;function z4(t){const e=Oo();M4(()=>{const n=t?.getKey||B4,{history:r}=window;r.scrollRestoration="manual";const i=l=>{if(Tw.has(l.target))return;Tw.add(l.target);let c="";if(l.target===document||l.target===window)c=Cw;else{const d=l.target.getAttribute("data-scroll-restoration-id");d?c=`[data-scroll-restoration-id="${d}"]`:c=U4(l.target)}mo.state.next[c]||mo.set(d=>({...d,next:{...d.next,[c]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const s=e.subscribe("onBeforeLoad",l=>{if(l.hrefChanged){const c=n(l.fromLocation);for(const d in mo.state.next){const f=mo.state.next[d];if(d===Cw)f.scrollX=window.scrollX||0,f.scrollY=window.scrollY||0;else if(d){const p=document.querySelector(d);f.scrollX=p?.scrollLeft||0,f.scrollY=p?.scrollTop||0}mo.set(p=>{const b={...p.next};return delete b[d],{...p,next:b,cached:{...p.cached,[[c,d].join(rC)]:f}}})}}}),o=e.subscribe("onBeforeRouteMount",l=>{if(l.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const c=n(l.toLocation);let d=!1;for(const f in mo.state.cached){const p=mo.state.cached[f],[b,x]=f.split(rC);if(b===c){if(x===Cw)d=!0,window.scrollTo({top:p.scrollY,left:p.scrollX,behavior:t?.scrollBehavior});else if(x){const _=document.querySelector(x);_&&(_.scrollLeft=p.scrollX,_.scrollTop=p.scrollY)}}}d||window.scrollTo(0,0),mo.set(f=>({...f,next:{}})),Tw=new WeakSet}});return()=>{document.removeEventListener("scroll",i),s(),o()}},[t?.getKey,e])}function W4(t){return z4(t),null}function U4(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function Gr(t){return Fl({...t,select:e=>t.select?t.select(e.context):e.context})}let V4={data:""},H4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||V4,Q4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,K4=/\/\*[^]*?\*\/|  +/g,iC=/\n+/g,xl=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?xl(o,s):s+"{"+xl(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=xl(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=xl.p?xl.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ya={},fA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+fA(t[n]);return e}return t},G4=(t,e,n,r,i)=>{let s=fA(t),o=ya[s]||(ya[s]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(s));if(!ya[o]){let c=s!==t?t:(d=>{let f,p,b=[{}];for(;f=Q4.exec(d.replace(K4,""));)f[4]?b.shift():f[3]?(p=f[3].replace(iC," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][f[1]]=f[2].replace(iC," ").trim();return b[0]})(t);ya[o]=xl(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&ya.g?ya.g:null;return n&&(ya.g=ya[o]),((c,d,f,p)=>{p?d.data=d.data.replace(p,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(ya[o],e,r,l),o},Z4=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":xl(l,""):l===!1?"":l}return r+i+(o??"")},"");function Mv(t){let e=this||{},n=t.call?t(e.p):t;return G4(n.unshift?n.raw?Z4(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,H4(e.target),e.g,e.o,e.k)}let pA,bS,xS;Mv.bind({g:1});let Aa=Mv.bind({k:1});function J4(t,e,n,r){xl.p=e,pA=t,bS=n,xS=r}function Kl(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),c=l.className||i.className;n.p=Object.assign({theme:bS&&bS()},l),n.o=/ *go\d+/.test(c),l.className=Mv.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),xS&&d[0]&&xS(l),pA(d,l)}return i}}var Y4=t=>typeof t=="function",qy=(t,e)=>Y4(t)?t(e):t,X4=(()=>{let t=0;return()=>(++t).toString()})(),hA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),eB=20,mA=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,eB)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return mA(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Gg=[],Zg={toasts:[],pausedAt:void 0},ec=t=>{Zg=mA(Zg,t),Gg.forEach(e=>{e(Zg)})},tB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nB=(t={})=>{let[e,n]=K.useState(Zg);K.useEffect(()=>(Gg.push(n),()=>{let i=Gg.indexOf(n);i>-1&&Gg.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||t?.removeDelay,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||t?.duration||tB[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},rB=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||X4()}),Ph=t=>(e,n)=>{let r=rB(e,t,n);return ec({type:2,toast:r}),r.id},En=(t,e)=>Ph("blank")(t,e);En.error=Ph("error");En.success=Ph("success");En.loading=Ph("loading");En.custom=Ph("custom");En.dismiss=t=>{ec({type:3,toastId:t})};En.remove=t=>ec({type:4,toastId:t});En.promise=(t,e,n)=>{let r=En.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?qy(e.success,i):void 0;return s?En.success(s,{id:r,...n,...n?.success}):En.dismiss(r),i}).catch(i=>{let s=e.error?qy(e.error,i):void 0;s?En.error(s,{id:r,...n,...n?.error}):En.dismiss(r)}),t};var iB=(t,e)=>{ec({type:1,toast:{id:t,height:e}})},sB=()=>{ec({type:5,time:Date.now()})},qp=new Map,oB=1e3,aB=(t,e=oB)=>{if(qp.has(t))return;let n=setTimeout(()=>{qp.delete(t),ec({type:4,toastId:t})},e);qp.set(t,n)},lB=t=>{let{toasts:e,pausedAt:n}=nB(t);K.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&En.dismiss(l.id);return}return setTimeout(()=>En.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=K.useCallback(()=>{n&&ec({type:6,time:Date.now()})},[n]),i=K.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},f=e.filter(x=>(x.position||d)===(s.position||d)&&x.height),p=f.findIndex(x=>x.id===s.id),b=f.filter((x,_)=>_<p&&x.visible).length;return f.filter(x=>x.visible).slice(...l?[b+1]:[0,b]).reduce((x,_)=>x+(_.height||0)+c,0)},[e]);return K.useEffect(()=>{e.forEach(s=>{if(s.dismissed)aB(s.id,s.removeDelay);else{let o=qp.get(s.id);o&&(clearTimeout(o),qp.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:iB,startPause:sB,endPause:r,calculateOffset:i}}},uB=Aa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cB=Aa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dB=Aa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fB=Kl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pB=Aa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hB=Kl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${pB} 1s linear infinite;
`,mB=Aa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gB=Aa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yB=Kl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vB=Kl("div")`
  position: absolute;
`,bB=Kl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xB=Aa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wB=Kl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_B=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?K.createElement(wB,null,e):e:n==="blank"?null:K.createElement(bB,null,K.createElement(hB,{...r}),n!=="loading"&&K.createElement(vB,null,n==="error"?K.createElement(fB,{...r}):K.createElement(yB,{...r})))},SB=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,EB=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,NB="0%{opacity:0;} 100%{opacity:1;}",kB="0%{opacity:1;} 100%{opacity:0;}",IB=Kl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,CB=Kl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,TB=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=hA()?[NB,kB]:[SB(n),EB(n)];return{animation:e?`${Aa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Aa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},OB=K.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?TB(t.position||e||"top-center",t.visible):{opacity:0},s=K.createElement(_B,{toast:t}),o=K.createElement(CB,{...t.ariaProps},qy(t.message,t));return K.createElement(IB,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):K.createElement(K.Fragment,null,s,o))});J4(K.createElement);var qB=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=K.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return K.createElement("div",{ref:s,className:e,style:n},i)},RB=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:hA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},AB=Mv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gg=16,jB=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=lB(n);return K.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:gg,left:gg,right:gg,bottom:gg,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let f=d.position||e,p=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),b=RB(f,p);return K.createElement(qB,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?AB:"",style:b},d.type==="custom"?qy(d.message,d):i?i(d):K.createElement(OB,{toast:d,position:f}))}))},PB=En;class tc extends Error{}class FB extends tc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class DB extends tc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class LB extends tc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Yc extends tc{}class gA extends tc{constructor(e){super(`Invalid unit ${e}`)}}class hi extends tc{}class ll extends tc{constructor(){super("Zone is an abstract class")}}const Ct="numeric",ko="short",Ts="long",Ry={year:Ct,month:Ct,day:Ct},yA={year:Ct,month:ko,day:Ct},MB={year:Ct,month:ko,day:Ct,weekday:ko},vA={year:Ct,month:Ts,day:Ct},bA={year:Ct,month:Ts,day:Ct,weekday:Ts},xA={hour:Ct,minute:Ct},wA={hour:Ct,minute:Ct,second:Ct},_A={hour:Ct,minute:Ct,second:Ct,timeZoneName:ko},SA={hour:Ct,minute:Ct,second:Ct,timeZoneName:Ts},EA={hour:Ct,minute:Ct,hourCycle:"h23"},NA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23"},kA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:ko},IA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:Ts},CA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct},TA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct,second:Ct},OA={year:Ct,month:ko,day:Ct,hour:Ct,minute:Ct},qA={year:Ct,month:ko,day:Ct,hour:Ct,minute:Ct,second:Ct},$B={year:Ct,month:ko,day:Ct,weekday:ko,hour:Ct,minute:Ct},RA={year:Ct,month:Ts,day:Ct,hour:Ct,minute:Ct,timeZoneName:ko},AA={year:Ct,month:Ts,day:Ct,hour:Ct,minute:Ct,second:Ct,timeZoneName:ko},jA={year:Ct,month:Ts,day:Ct,weekday:Ts,hour:Ct,minute:Ct,timeZoneName:Ts},PA={year:Ct,month:Ts,day:Ct,weekday:Ts,hour:Ct,minute:Ct,second:Ct,timeZoneName:Ts};class Fh{get type(){throw new ll}get name(){throw new ll}get ianaName(){return this.name}get isUniversal(){throw new ll}offsetName(e,n){throw new ll}formatOffset(e,n){throw new ll}offset(e){throw new ll}equals(e){throw new ll}get isValid(){throw new ll}}let Ow=null;class $v extends Fh{static get instance(){return Ow===null&&(Ow=new $v),Ow}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return UA(e,n,r)}formatOffset(e,n){return Rp(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Jg={};function BB(t){return Jg[t]||(Jg[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Jg[t]}const zB={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function WB(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,l,c,d,f]=r;return[o,i,s,l,c,d,f]}function UB(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=zB[s];s==="era"?r[l]=o:ln(l)||(r[l]=parseInt(o,10))}return r}let yg={};class ja extends Fh{static create(e){return yg[e]||(yg[e]=new ja(e)),yg[e]}static resetCache(){yg={},Jg={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ja.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return UA(e,n,r,this.name)}formatOffset(e,n){return Rp(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=BB(this.name);let[i,s,o,l,c,d,f]=r.formatToParts?UB(r,n):WB(r,n);l==="BC"&&(i=-Math.abs(i)+1);const b=zv({year:i,month:s,day:o,hour:c===24?0:c,minute:d,second:f,millisecond:0});let x=+n;const _=x%1e3;return x-=_>=0?_:1e3+_,(b-x)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let sC={};function VB(t,e={}){const n=JSON.stringify([t,e]);let r=sC[n];return r||(r=new Intl.ListFormat(t,e),sC[n]=r),r}let wS={};function _S(t,e={}){const n=JSON.stringify([t,e]);let r=wS[n];return r||(r=new Intl.DateTimeFormat(t,e),wS[n]=r),r}let SS={};function HB(t,e={}){const n=JSON.stringify([t,e]);let r=SS[n];return r||(r=new Intl.NumberFormat(t,e),SS[n]=r),r}let ES={};function QB(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=ES[i];return s||(s=new Intl.RelativeTimeFormat(t,e),ES[i]=s),s}let pp=null;function KB(){return pp||(pp=new Intl.DateTimeFormat().resolvedOptions().locale,pp)}let oC={};function GB(t){let e=oC[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,oC[t]=e}return e}function ZB(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=_S(t).resolvedOptions(),i=t}catch{const c=t.substring(0,n);r=_S(c).resolvedOptions(),i=c}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function JB(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function YB(t){const e=[];for(let n=1;n<=12;n++){const r=an.utc(2009,n,1);e.push(t(r))}return e}function XB(t){const e=[];for(let n=1;n<=7;n++){const r=an.utc(2016,11,13+n);e.push(t(r))}return e}function vg(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function ez(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class tz{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=HB(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):VE(e,3);return Fr(n,this.padTo)}}}class nz{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&ja.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=_S(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class rz{constructor(e,n,r){this.opts={style:"long",...r},!n&&zA()&&(this.rtf=QB(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):kz(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const iz={firstDay:1,minimalDays:4,weekend:[6,7]};class Mn{static fromOpts(e){return Mn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const o=e||Nr.defaultLocale,l=o||(s?"en-US":KB()),c=n||Nr.defaultNumberingSystem,d=r||Nr.defaultOutputCalendar,f=NS(i)||Nr.defaultWeekSettings;return new Mn(l,c,d,f,o)}static resetCache(){pp=null,wS={},SS={},ES={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Mn.create(e,n,r,i)}constructor(e,n,r,i,s){const[o,l,c]=ZB(e);this.locale=o,this.numberingSystem=n||l||null,this.outputCalendar=r||c||null,this.weekSettings=i,this.intl=JB(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ez(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Mn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,NS(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return vg(this,e,QA,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=YB(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return vg(this,e,ZA,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=XB(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return vg(this,void 0,()=>JA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[an.utc(2016,11,13,9),an.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return vg(this,e,YA,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[an.utc(-40,1,1),an.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new tz(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new nz(e,this.intl,n)}relFormatter(e={}){return new rz(this.intl,this.isEnglish(),e)}listFormatter(e={}){return VB(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:WA()?GB(this.locale):iz}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let qw=null;class Ri extends Fh{static get utcInstance(){return qw===null&&(qw=new Ri(0)),qw}static instance(e){return e===0?Ri.utcInstance:new Ri(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Ri(Wv(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Rp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Rp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Rp(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class sz extends Fh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function wl(t,e){if(ln(t)||t===null)return e;if(t instanceof Fh)return t;if(dz(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?$v.instance:n==="utc"||n==="gmt"?Ri.utcInstance:Ri.parseSpecifier(n)||ja.create(t)}else return Tl(t)?Ri.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new sz(t)}const BE={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},aC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},oz=BE.hanidec.replace(/[\[|\]]/g,"").split("");function az(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(BE.hanidec)!==-1)e+=oz.indexOf(t[n]);else for(const i in aC){const[s,o]=aC[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}let Kc={};function lz(){Kc={}}function po({numberingSystem:t},e=""){const n=t||"latn";return Kc[n]||(Kc[n]={}),Kc[n][e]||(Kc[n][e]=new RegExp(`${BE[n]}${e}`)),Kc[n][e]}let lC=()=>Date.now(),uC="system",cC=null,dC=null,fC=null,pC=60,hC,mC=null;class Nr{static get now(){return lC}static set now(e){lC=e}static set defaultZone(e){uC=e}static get defaultZone(){return wl(uC,$v.instance)}static get defaultLocale(){return cC}static set defaultLocale(e){cC=e}static get defaultNumberingSystem(){return dC}static set defaultNumberingSystem(e){dC=e}static get defaultOutputCalendar(){return fC}static set defaultOutputCalendar(e){fC=e}static get defaultWeekSettings(){return mC}static set defaultWeekSettings(e){mC=NS(e)}static get twoDigitCutoffYear(){return pC}static set twoDigitCutoffYear(e){pC=e%100}static get throwOnInvalid(){return hC}static set throwOnInvalid(e){hC=e}static resetCaches(){Mn.resetCache(),ja.resetCache(),an.resetCache(),lz()}}class _o{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const FA=[0,31,59,90,120,151,181,212,243,273,304,334],DA=[0,31,60,91,121,152,182,213,244,274,305,335];function Xs(t,e){return new _o("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function zE(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function LA(t,e,n){return n+(Dh(t)?DA:FA)[e-1]}function MA(t,e){const n=Dh(t)?DA:FA,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function WE(t,e){return(t-e+7)%7+1}function Ay(t,e=4,n=1){const{year:r,month:i,day:s}=t,o=LA(r,i,s),l=WE(zE(r,i,s),n);let c=Math.floor((o-l+14-e)/7),d;return c<1?(d=r-1,c=Kp(d,e,n)):c>Kp(r,e,n)?(d=r+1,c=1):d=r,{weekYear:d,weekNumber:c,weekday:l,...Uv(t)}}function gC(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,o=WE(zE(r,1,e),n),l=cd(r);let c=i*7+s-o-7+e,d;c<1?(d=r-1,c+=cd(d)):c>l?(d=r+1,c-=cd(r)):d=r;const{month:f,day:p}=MA(d,c);return{year:d,month:f,day:p,...Uv(t)}}function Rw(t){const{year:e,month:n,day:r}=t,i=LA(e,n,r);return{year:e,ordinal:i,...Uv(t)}}function yC(t){const{year:e,ordinal:n}=t,{month:r,day:i}=MA(e,n);return{year:e,month:r,day:i,...Uv(t)}}function vC(t,e){if(!ln(t.localWeekday)||!ln(t.localWeekNumber)||!ln(t.localWeekYear)){if(!ln(t.weekday)||!ln(t.weekNumber)||!ln(t.weekYear))throw new Yc("Cannot mix locale-based week fields with ISO-based week fields");return ln(t.localWeekday)||(t.weekday=t.localWeekday),ln(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ln(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function uz(t,e=4,n=1){const r=Bv(t.weekYear),i=eo(t.weekNumber,1,Kp(t.weekYear,e,n)),s=eo(t.weekday,1,7);return r?i?s?!1:Xs("weekday",t.weekday):Xs("week",t.weekNumber):Xs("weekYear",t.weekYear)}function cz(t){const e=Bv(t.year),n=eo(t.ordinal,1,cd(t.year));return e?n?!1:Xs("ordinal",t.ordinal):Xs("year",t.year)}function $A(t){const e=Bv(t.year),n=eo(t.month,1,12),r=eo(t.day,1,jy(t.year,t.month));return e?n?r?!1:Xs("day",t.day):Xs("month",t.month):Xs("year",t.year)}function BA(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=eo(e,0,23)||e===24&&n===0&&r===0&&i===0,o=eo(n,0,59),l=eo(r,0,59),c=eo(i,0,999);return s?o?l?c?!1:Xs("millisecond",i):Xs("second",r):Xs("minute",n):Xs("hour",e)}function ln(t){return typeof t>"u"}function Tl(t){return typeof t=="number"}function Bv(t){return typeof t=="number"&&t%1===0}function dz(t){return typeof t=="string"}function fz(t){return Object.prototype.toString.call(t)==="[object Date]"}function zA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function WA(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function pz(t){return Array.isArray(t)?t:[t]}function bC(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function hz(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Id(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function NS(t){if(t==null)return null;if(typeof t!="object")throw new hi("Week settings must be an object");if(!eo(t.firstDay,1,7)||!eo(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!eo(e,1,7)))throw new hi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function eo(t,e,n){return Bv(t)&&t>=e&&t<=n}function mz(t,e){return t-e*Math.floor(t/e)}function Fr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function yl(t){if(!(ln(t)||t===null||t===""))return parseInt(t,10)}function vu(t){if(!(ln(t)||t===null||t===""))return parseFloat(t)}function UE(t){if(!(ln(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function VE(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Dh(t){return t%4===0&&(t%100!==0||t%400===0)}function cd(t){return Dh(t)?366:365}function jy(t,e){const n=mz(e-1,12)+1,r=t+(e-n)/12;return n===2?Dh(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function zv(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function xC(t,e,n){return-WE(zE(t,1,e),n)+e-1}function Kp(t,e=4,n=1){const r=xC(t,e,n),i=xC(t+1,e,n);return(cd(t)-r+i)/7}function kS(t){return t>99?t:t>Nr.twoDigitCutoffYear?1900+t:2e3+t}function UA(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function Wv(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function VA(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new hi(`Invalid unit value ${t}`);return e}function Py(t,e){const n={};for(const r in t)if(Id(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=VA(i)}return n}function Rp(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Fr(n,2)}:${Fr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Fr(n,2)}${Fr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Uv(t){return hz(t,["hour","minute","second","millisecond"])}const gz=["January","February","March","April","May","June","July","August","September","October","November","December"],HA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yz=["J","F","M","A","M","J","J","A","S","O","N","D"];function QA(t){switch(t){case"narrow":return[...yz];case"short":return[...HA];case"long":return[...gz];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const KA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],GA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],vz=["M","T","W","T","F","S","S"];function ZA(t){switch(t){case"narrow":return[...vz];case"short":return[...GA];case"long":return[...KA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const JA=["AM","PM"],bz=["Before Christ","Anno Domini"],xz=["BC","AD"],wz=["B","A"];function YA(t){switch(t){case"narrow":return[...wz];case"short":return[...xz];case"long":return[...bz];default:return null}}function _z(t){return JA[t.hour<12?0:1]}function Sz(t,e){return ZA(e)[t.weekday-1]}function Ez(t,e){return QA(e)[t.month-1]}function Nz(t,e){return YA(e)[t.year<0?0:1]}function kz(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const p=t==="days";switch(e){case 1:return p?"tomorrow":`next ${i[t][0]}`;case-1:return p?"yesterday":`last ${i[t][0]}`;case 0:return p?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),c=l===1,d=i[t],f=r?c?d[1]:d[2]||d[1]:c?i[t][0]:t;return o?`${l} ${f} ago`:`in ${l} ${f}`}function wC(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const Iz={D:Ry,DD:yA,DDD:vA,DDDD:bA,t:xA,tt:wA,ttt:_A,tttt:SA,T:EA,TT:NA,TTT:kA,TTTT:IA,f:CA,ff:OA,fff:RA,ffff:jA,F:TA,FF:qA,FFF:AA,FFFF:PA};class gi{static create(e,n={}){return new gi(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return Iz[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Fr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(x,_)=>this.loc.extract(e,x,_),o=x=>e.isOffsetFixed&&e.offset===0&&x.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,x.format):"",l=()=>r?_z(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(x,_)=>r?Ez(e,x):s(_?{month:x}:{month:x,day:"numeric"},"month"),d=(x,_)=>r?Sz(e,x):s(_?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),f=x=>{const _=gi.macroTokenToFormatOpts(x);return _?this.formatWithSystemDefault(e,_):x},p=x=>r?Nz(e,x):s({era:x},"era"),b=x=>{switch(x){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(x)}};return wC(gi.parseFormat(n),b)}formatDurationFromString(e,n){const r=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=c=>d=>{const f=r(d);return f?this.num(c.get(f),d.length):d},s=gi.parseFormat(n),o=s.reduce((c,{literal:d,val:f})=>d?c:c.concat(f),[]),l=e.shiftTo(...o.map(r).filter(c=>c));return wC(s,i(l))}}const XA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Hd(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Qd(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,c]=s(e,i);return[{...n,...o},l||r,c]},[{},null,1]).slice(0,2)}function Kd(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function ej(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=yl(e[n+i]);return[r,null,n+i]}}const tj=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Cz=`(?:${tj.source}?(?:\\[(${XA.source})\\])?)?`,HE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,nj=RegExp(`${HE.source}${Cz}`),QE=RegExp(`(?:T${nj.source})?`),Tz=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Oz=/(\d{4})-?W(\d\d)(?:-?(\d))?/,qz=/(\d{4})-?(\d{3})/,Rz=ej("weekYear","weekNumber","weekDay"),Az=ej("year","ordinal"),jz=/(\d{4})-(\d\d)-(\d\d)/,rj=RegExp(`${HE.source} ?(?:${tj.source}|(${XA.source}))?`),Pz=RegExp(`(?: ${rj.source})?`);function dd(t,e,n){const r=t[e];return ln(r)?n:yl(r)}function Fz(t,e){return[{year:dd(t,e),month:dd(t,e+1,1),day:dd(t,e+2,1)},null,e+3]}function Gd(t,e){return[{hours:dd(t,e,0),minutes:dd(t,e+1,0),seconds:dd(t,e+2,0),milliseconds:UE(t[e+3])},null,e+4]}function Lh(t,e){const n=!t[e]&&!t[e+1],r=Wv(t[e+1],t[e+2]),i=n?null:Ri.instance(r);return[{},i,e+3]}function Mh(t,e){const n=t[e]?ja.create(t[e]):null;return[{},n,e+1]}const Dz=RegExp(`^T?${HE.source}$`),Lz=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Mz(t){const[e,n,r,i,s,o,l,c,d]=t,f=e[0]==="-",p=c&&c[0]==="-",b=(x,_=!1)=>x!==void 0&&(_||x&&f)?-x:x;return[{years:b(vu(n)),months:b(vu(r)),weeks:b(vu(i)),days:b(vu(s)),hours:b(vu(o)),minutes:b(vu(l)),seconds:b(vu(c),c==="-0"),milliseconds:b(UE(d),p)}]}const $z={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function KE(t,e,n,r,i,s,o){const l={year:e.length===2?kS(yl(e)):yl(e),month:HA.indexOf(n)+1,day:yl(r),hour:yl(i),minute:yl(s)};return o&&(l.second=yl(o)),t&&(l.weekday=t.length>3?KA.indexOf(t)+1:GA.indexOf(t)+1),l}const Bz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zz(t){const[,e,n,r,i,s,o,l,c,d,f,p]=t,b=KE(e,i,r,n,s,o,l);let x;return c?x=$z[c]:d?x=0:x=Wv(f,p),[b,new Ri(x)]}function Wz(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Uz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Vz=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Hz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function _C(t){const[,e,n,r,i,s,o,l]=t;return[KE(e,i,r,n,s,o,l),Ri.utcInstance]}function Qz(t){const[,e,n,r,i,s,o,l]=t;return[KE(e,l,n,r,i,s,o),Ri.utcInstance]}const Kz=Hd(Tz,QE),Gz=Hd(Oz,QE),Zz=Hd(qz,QE),Jz=Hd(nj),ij=Qd(Fz,Gd,Lh,Mh),Yz=Qd(Rz,Gd,Lh,Mh),Xz=Qd(Az,Gd,Lh,Mh),eW=Qd(Gd,Lh,Mh);function tW(t){return Kd(t,[Kz,ij],[Gz,Yz],[Zz,Xz],[Jz,eW])}function nW(t){return Kd(Wz(t),[Bz,zz])}function rW(t){return Kd(t,[Uz,_C],[Vz,_C],[Hz,Qz])}function iW(t){return Kd(t,[Lz,Mz])}const sW=Qd(Gd);function oW(t){return Kd(t,[Dz,sW])}const aW=Hd(jz,Pz),lW=Hd(rj),uW=Qd(Gd,Lh,Mh);function cW(t){return Kd(t,[aW,ij],[lW,uW])}const SC="Invalid Duration",sj={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},dW={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...sj},Hs=146097/400,Mc=146097/4800,fW={years:{quarters:4,months:12,weeks:Hs/7,days:Hs,hours:Hs*24,minutes:Hs*24*60,seconds:Hs*24*60*60,milliseconds:Hs*24*60*60*1e3},quarters:{months:3,weeks:Hs/28,days:Hs/4,hours:Hs*24/4,minutes:Hs*24*60/4,seconds:Hs*24*60*60/4,milliseconds:Hs*24*60*60*1e3/4},months:{weeks:Mc/7,days:Mc,hours:Mc*24,minutes:Mc*24*60,seconds:Mc*24*60*60,milliseconds:Mc*24*60*60*1e3},...sj},Ru=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pW=Ru.slice(0).reverse();function ul(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Tn(r)}function oj(t,e){let n=e.milliseconds??0;for(const r of pW.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function EC(t,e){const n=oj(t,e)<0?-1:1;Ru.reduceRight((r,i)=>{if(ln(e[i]))return r;if(r){const s=e[r]*n,o=t[i][r],l=Math.floor(s/o);e[i]+=l*n,e[r]-=l*o*n}return i},null),Ru.reduce((r,i)=>{if(ln(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function hW(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class Tn{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?fW:dW;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Mn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return Tn.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new hi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Tn({values:Py(e,Tn.normalizeUnit),loc:Mn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Tl(e))return Tn.fromMillis(e);if(Tn.isDuration(e))return e;if(typeof e=="object")return Tn.fromObject(e);throw new hi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=iW(e);return r?Tn.fromObject(r,n):Tn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=oW(e);return r?Tn.fromObject(r,n):Tn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new hi("need to specify a reason the Duration is invalid");const r=e instanceof _o?e:new _o(e,n);if(Nr.throwOnInvalid)throw new LB(r);return new Tn({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new gA(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?gi.create(this.loc,r).formatDurationFromString(this,e):SC}toHuman(e={}){if(!this.isValid)return SC;const n=Ru.map(r=>{const i=this.values[r];return ln(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=VE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},an.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?oj(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Tn.fromDurationLike(e),r={};for(const i of Ru)(Id(n.values,i)||Id(this.values,i))&&(r[i]=n.get(i)+this.get(i));return ul(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=Tn.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=VA(e(this.values[r],r));return ul(this,{values:n},!0)}get(e){return this[Tn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Py(e,Tn.normalizeUnit)};return ul(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return ul(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return EC(this.matrix,e),ul(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=hW(this.normalize().shiftToAll().toObject());return ul(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Tn.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Ru)if(e.indexOf(o)>=0){s=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;Tl(i[o])&&(l+=i[o]);const c=Math.trunc(l);n[o]=c,r[o]=(l*1e3-c*1e3)/1e3}else Tl(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return EC(this.matrix,n),ul(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ul(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Ru)if(!n(this.values[r],e.values[r]))return!1;return!0}}const $c="Invalid Interval";function mW(t,e){return!t||!t.isValid?Er.invalid("missing or invalid start"):!e||!e.isValid?Er.invalid("missing or invalid end"):e<t?Er.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Er{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new hi("need to specify a reason the Interval is invalid");const r=e instanceof _o?e:new _o(e,n);if(Nr.throwOnInvalid)throw new DB(r);return new Er({invalid:r})}static fromDateTimes(e,n){const r=Yf(e),i=Yf(n),s=mW(r,i);return s??new Er({start:r,end:i})}static after(e,n){const r=Tn.fromDurationLike(n),i=Yf(e);return Er.fromDateTimes(i,i.plus(r))}static before(e,n){const r=Tn.fromDurationLike(n),i=Yf(e);return Er.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=an.fromISO(r,n),o=s.isValid}catch{o=!1}let l,c;try{l=an.fromISO(i,n),c=l.isValid}catch{c=!1}if(o&&c)return Er.fromDateTimes(s,l);if(o){const d=Tn.fromISO(i,n);if(d.isValid)return Er.after(s,d)}else if(c){const d=Tn.fromISO(r,n);if(d.isValid)return Er.before(l,d)}}return Er.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Er.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Yf).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(Er.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=Tn.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(c=>c*i));s=+l>+this.e?this.e:l,o.push(Er.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Er.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Er.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((c,d)=>c.time-d.time);for(const c of l)r+=c.type==="s"?1:-1,r===1?n=c.time:(n&&+n!=+c.time&&i.push(Er.fromDateTimes(n,c.time)),n=null);return Er.merge(i)}difference(...e){return Er.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:$c}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Ry,n={}){return this.isValid?gi.create(this.s.loc.clone(n),e).formatInterval(this):$c}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:$c}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:$c}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:$c}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:$c}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Tn.invalid(this.invalidReason)}mapEndpoints(e){return Er.fromDateTimes(e(this.s),e(this.e))}}class bg{static hasDST(e=Nr.defaultZone){const n=an.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return ja.isValidZone(e)}static normalizeZone(e){return wl(e,Nr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Mn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Mn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Mn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Mn.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Mn.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Mn.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Mn.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Mn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Mn.create(n,null,"gregory").eras(e)}static features(){return{relative:zA(),localeWeek:WA()}}}function NC(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(Tn.fromMillis(r).as("days"))}function gW(t,e,n){const r=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const f=NC(c,d);return(f-f%7)/7}],["days",NC]],i={},s=t;let o,l;for(const[c,d]of r)n.indexOf(c)>=0&&(o=c,i[c]=d(t,e),l=s.plus(i),l>e?(i[c]--,t=s.plus(i),t>e&&(l=t,i[c]--,t=s.plus(i))):t=l);return[t,i,l,o]}function yW(t,e,n,r){let[i,s,o,l]=gW(t,e,n);const c=e-i,d=n.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);d.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+c/(o-i)));const f=Tn.fromObject(s,r);return d.length>0?Tn.fromMillis(c,r).shiftTo(...d).plus(f):f}const vW="missing Intl.DateTimeFormat.formatToParts support";function jn(t,e=n=>n){return{regex:t,deser:([n])=>e(az(n))}}const bW="\xa0",aj=`[ ${bW}]`,lj=new RegExp(aj,"g");function xW(t){return t.replace(/\./g,"\\.?").replace(lj,aj)}function kC(t){return t.replace(/\./g,"").replace(lj," ").toLowerCase()}function ho(t,e){return t===null?null:{regex:RegExp(t.map(xW).join("|")),deser:([n])=>t.findIndex(r=>kC(n)===kC(r))+e}}function IC(t,e){return{regex:t,deser:([,n,r])=>Wv(n,r),groups:e}}function xg(t){return{regex:t,deser:([e])=>e}}function wW(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function _W(t,e){const n=po(e),r=po(e,"{2}"),i=po(e,"{3}"),s=po(e,"{4}"),o=po(e,"{6}"),l=po(e,"{1,2}"),c=po(e,"{1,3}"),d=po(e,"{1,6}"),f=po(e,"{1,9}"),p=po(e,"{2,4}"),b=po(e,"{4,6}"),x=I=>({regex:RegExp(wW(I.val)),deser:([O])=>O,literal:!0}),N=(I=>{if(t.literal)return x(I);switch(I.val){case"G":return ho(e.eras("short"),0);case"GG":return ho(e.eras("long"),0);case"y":return jn(d);case"yy":return jn(p,kS);case"yyyy":return jn(s);case"yyyyy":return jn(b);case"yyyyyy":return jn(o);case"M":return jn(l);case"MM":return jn(r);case"MMM":return ho(e.months("short",!0),1);case"MMMM":return ho(e.months("long",!0),1);case"L":return jn(l);case"LL":return jn(r);case"LLL":return ho(e.months("short",!1),1);case"LLLL":return ho(e.months("long",!1),1);case"d":return jn(l);case"dd":return jn(r);case"o":return jn(c);case"ooo":return jn(i);case"HH":return jn(r);case"H":return jn(l);case"hh":return jn(r);case"h":return jn(l);case"mm":return jn(r);case"m":return jn(l);case"q":return jn(l);case"qq":return jn(r);case"s":return jn(l);case"ss":return jn(r);case"S":return jn(c);case"SSS":return jn(i);case"u":return xg(f);case"uu":return xg(l);case"uuu":return jn(n);case"a":return ho(e.meridiems(),0);case"kkkk":return jn(s);case"kk":return jn(p,kS);case"W":return jn(l);case"WW":return jn(r);case"E":case"c":return jn(n);case"EEE":return ho(e.weekdays("short",!1),1);case"EEEE":return ho(e.weekdays("long",!1),1);case"ccc":return ho(e.weekdays("short",!0),1);case"cccc":return ho(e.weekdays("long",!0),1);case"Z":case"ZZ":return IC(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return IC(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return xg(/[a-z_+-/]{1,256}?/i);case" ":return xg(/[^\S\n\r]/);default:return x(I)}})(t)||{invalidReason:vW};return N.token=t,N}const SW={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function EW(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const c=/^\s+$/.test(i);return{literal:!c,val:c?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let l=SW[o];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function NW(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function kW(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(Id(n,o)){const l=n[o],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+c))),s+=c}return[r,i]}else return[r,{}]}function IW(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ln(t.z)||(n=ja.create(t.z)),ln(t.Z)||(n||(n=new Ri(t.Z)),r=t.Z),ln(t.q)||(t.M=(t.q-1)*3+1),ln(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ln(t.u)||(t.S=UE(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let Aw=null;function CW(){return Aw||(Aw=an.fromMillis(0x16a2e5618e3)),Aw}function TW(t,e){if(t.literal)return t;const n=gi.macroTokenToFormatOpts(t.val),r=fj(n,e);return r==null||r.includes(void 0)?t:r}function uj(t,e){return Array.prototype.concat(...t.map(n=>TW(n,e)))}class cj{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=uj(gi.parseFormat(n),e),this.units=this.tokens.map(r=>_W(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=NW(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=kW(e,this.regex,this.handlers),[i,s,o]=r?IW(r):[null,null,void 0];if(Id(r,"a")&&Id(r,"H"))throw new Yc("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function dj(t,e,n){return new cj(t,n).explainFromTokens(e)}function OW(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=dj(t,e,n);return[r,i,s,o]}function fj(t,e){if(!t)return null;const r=gi.create(e,t).dtFormatter(CW()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>EW(o,t,s))}const jw="Invalid DateTime",qW=864e13;function hp(t){return new _o("unsupported zone",`the zone "${t.name}" is not supported`)}function Pw(t){return t.weekData===null&&(t.weekData=Ay(t.c)),t.weekData}function Fw(t){return t.localWeekData===null&&(t.localWeekData=Ay(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function bu(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new an({...n,...e,old:n})}function pj(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function wg(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Yg(t,e,n){return pj(zv(t),e,n)}function CC(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,jy(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Tn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=zv(s);let[c,d]=pj(l,n,t.zone);return o!==0&&(c+=o,d=t.zone.offset(c)),{ts:c,o:d}}function Bc(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const c=e||l,d=an.fromObject(t,{...n,zone:c,specificOffset:s});return o?d:d.setZone(l)}else return an.invalid(new _o("unparsable",`the input "${i}" can't be parsed as ${r}`))}function _g(t,e,n=!0){return t.isValid?gi.create(Mn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Dw(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Fr(t.c.year,n?6:4),e?(r+="-",r+=Fr(t.c.month),r+="-",r+=Fr(t.c.day)):(r+=Fr(t.c.month),r+=Fr(t.c.day)),r}function TC(t,e,n,r,i,s){let o=Fr(t.c.hour);return e?(o+=":",o+=Fr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Fr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Fr(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=Fr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Fr(Math.trunc(-t.o/60)),o+=":",o+=Fr(Math.trunc(-t.o%60))):(o+="+",o+=Fr(Math.trunc(t.o/60)),o+=":",o+=Fr(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const hj={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},RW={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},AW={ordinal:1,hour:0,minute:0,second:0,millisecond:0},mj=["year","month","day","hour","minute","second","millisecond"],jW=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],PW=["year","ordinal","hour","minute","second","millisecond"];function FW(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new gA(t);return e}function OC(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return FW(t)}}function DW(t){return ey[t]||(Xg===void 0&&(Xg=Nr.now()),ey[t]=t.offset(Xg)),ey[t]}function qC(t,e){const n=wl(e.zone,Nr.defaultZone);if(!n.isValid)return an.invalid(hp(n));const r=Mn.fromObject(e);let i,s;if(ln(t.year))i=Nr.now();else{for(const c of mj)ln(t[c])&&(t[c]=hj[c]);const o=$A(t)||BA(t);if(o)return an.invalid(o);const l=DW(n);[i,s]=Yg(t,l,n)}return new an({ts:i,zone:n,loc:r,o:s})}function RC(t,e,n){const r=ln(n.round)?!0:n.round,i=(o,l)=>(o=VE(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function AC(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let Xg,ey={};class an{constructor(e){const n=e.zone||Nr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new _o("invalid input"):null)||(n.isValid?null:hp(n));this.ts=ln(e.ts)?Nr.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=Tl(e.o)&&!e.old?e.o:n.offset(this.ts);i=wg(this.ts,l),r=Number.isNaN(i.year)?new _o("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||Mn.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new an({})}static local(){const[e,n]=AC(arguments),[r,i,s,o,l,c,d]=n;return qC({year:r,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},e)}static utc(){const[e,n]=AC(arguments),[r,i,s,o,l,c,d]=n;return e.zone=Ri.utcInstance,qC({year:r,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},e)}static fromJSDate(e,n={}){const r=fz(e)?e.valueOf():NaN;if(Number.isNaN(r))return an.invalid("invalid input");const i=wl(n.zone,Nr.defaultZone);return i.isValid?new an({ts:r,zone:i,loc:Mn.fromObject(n)}):an.invalid(hp(i))}static fromMillis(e,n={}){if(Tl(e))return e<-864e13||e>qW?an.invalid("Timestamp out of range"):new an({ts:e,zone:wl(n.zone,Nr.defaultZone),loc:Mn.fromObject(n)});throw new hi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Tl(e))return new an({ts:e*1e3,zone:wl(n.zone,Nr.defaultZone),loc:Mn.fromObject(n)});throw new hi("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=wl(n.zone,Nr.defaultZone);if(!r.isValid)return an.invalid(hp(r));const i=Mn.fromObject(n),s=Py(e,OC),{minDaysInFirstWeek:o,startOfWeek:l}=vC(s,i),c=Nr.now(),d=ln(n.specificOffset)?r.offset(c):n.specificOffset,f=!ln(s.ordinal),p=!ln(s.year),b=!ln(s.month)||!ln(s.day),x=p||b,_=s.weekYear||s.weekNumber;if((x||f)&&_)throw new Yc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&f)throw new Yc("Can't mix ordinal dates with month/day");const N=_||s.weekday&&!x;let I,O,T=wg(c,d);N?(I=jW,O=RW,T=Ay(T,o,l)):f?(I=PW,O=AW,T=Rw(T)):(I=mj,O=hj);let q=!1;for(const B of I){const F=s[B];ln(F)?q?s[B]=O[B]:s[B]=T[B]:q=!0}const j=N?uz(s,o,l):f?cz(s):$A(s),D=j||BA(s);if(D)return an.invalid(D);const L=N?gC(s,o,l):f?yC(s):s,[z,P]=Yg(L,d,r),R=new an({ts:z,zone:r,o:P,loc:i});return s.weekday&&x&&e.weekday!==R.weekday?an.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${R.toISO()}`):R.isValid?R:an.invalid(R.invalid)}static fromISO(e,n={}){const[r,i]=tW(e);return Bc(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=nW(e);return Bc(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=rW(e);return Bc(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ln(e)||ln(n))throw new hi("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=Mn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,c,d,f]=OW(o,e,n);return f?an.invalid(f):Bc(l,c,r,`format ${n}`,e,d)}static fromString(e,n,r={}){return an.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=cW(e);return Bc(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new hi("need to specify a reason the DateTime is invalid");const r=e instanceof _o?e:new _o(e,n);if(Nr.throwOnInvalid)throw new FB(r);return new an({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=fj(e,Mn.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return uj(gi.parseFormat(e),Mn.fromObject(n)).map(i=>i.val).join("")}static resetCache(){Xg=void 0,ey={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Pw(this).weekYear:NaN}get weekNumber(){return this.isValid?Pw(this).weekNumber:NaN}get weekday(){return this.isValid?Pw(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Fw(this).weekday:NaN}get localWeekNumber(){return this.isValid?Fw(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Fw(this).weekYear:NaN}get ordinal(){return this.isValid?Rw(this.c).ordinal:NaN}get monthShort(){return this.isValid?bg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?bg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?bg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?bg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=zv(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),l=this.zone.offset(r-s*n);if(o===l)return[this];const c=r-o*n,d=r-l*n,f=wg(c,o),p=wg(d,l);return f.hour===p.hour&&f.minute===p.minute&&f.second===p.second&&f.millisecond===p.millisecond?[bu(this,{ts:c}),bu(this,{ts:d})]:[this]}get isInLeapYear(){return Dh(this.year)}get daysInMonth(){return jy(this.year,this.month)}get daysInYear(){return this.isValid?cd(this.year):NaN}get weeksInWeekYear(){return this.isValid?Kp(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Kp(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=gi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Ri.instance(e),n)}toLocal(){return this.setZone(Nr.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=wl(e,Nr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=Yg(o,s,e)}return bu(this,{ts:i,zone:e})}else return an.invalid(hp(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return bu(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Py(e,OC),{minDaysInFirstWeek:r,startOfWeek:i}=vC(n,this.loc),s=!ln(n.weekYear)||!ln(n.weekNumber)||!ln(n.weekday),o=!ln(n.ordinal),l=!ln(n.year),c=!ln(n.month)||!ln(n.day),d=l||c,f=n.weekYear||n.weekNumber;if((d||o)&&f)throw new Yc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new Yc("Can't mix ordinal dates with month/day");let p;s?p=gC({...Ay(this.c,r,i),...n},r,i):ln(n.ordinal)?(p={...this.toObject(),...n},ln(n.day)&&(p.day=Math.min(jy(p.year,p.month),p.day))):p=yC({...Rw(this.c),...n});const[b,x]=Yg(p,this.o,this.zone);return bu(this,{ts:b,o:x})}plus(e){if(!this.isValid)return this;const n=Tn.fromDurationLike(e);return bu(this,CC(this,n))}minus(e){if(!this.isValid)return this;const n=Tn.fromDurationLike(e).negate();return bu(this,CC(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=Tn.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?gi.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):jw}toLocaleString(e=Ry,n={}){return this.isValid?gi.create(this.loc.clone(n),e).formatDateTime(this):jw}toLocaleParts(e={}){return this.isValid?gi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=Dw(this,o);return l+="T",l+=TC(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?Dw(this,e==="extended"):null}toISOWeekDate(){return _g(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+TC(this,o==="extended",n,e,r,s):null}toRFC2822(){return _g(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return _g(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Dw(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),_g(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():jw}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return Tn.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=pz(n).map(Tn.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,c=o?e:this,d=yW(l,c,s,i);return o?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(an.now(),e,n)}until(e){return this.isValid?Er.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||an.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),RC(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?RC(e.base||an.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(an.isDateTime))throw new hi("min requires all arguments be DateTimes");return bC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(an.isDateTime))throw new hi("max requires all arguments be DateTimes");return bC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=Mn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return dj(o,e,n)}static fromStringExplain(e,n,r={}){return an.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=Mn.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new cj(s,e)}static fromFormatParser(e,n,r={}){if(ln(e)||ln(n))throw new hi("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=Mn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new hi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:l,zone:c,specificOffset:d,invalidReason:f}=n.explainFromTokens(e);return f?an.invalid(f):Bc(l,c,r,`format ${n.format}`,e,d)}static get DATE_SHORT(){return Ry}static get DATE_MED(){return yA}static get DATE_MED_WITH_WEEKDAY(){return MB}static get DATE_FULL(){return vA}static get DATE_HUGE(){return bA}static get TIME_SIMPLE(){return xA}static get TIME_WITH_SECONDS(){return wA}static get TIME_WITH_SHORT_OFFSET(){return _A}static get TIME_WITH_LONG_OFFSET(){return SA}static get TIME_24_SIMPLE(){return EA}static get TIME_24_WITH_SECONDS(){return NA}static get TIME_24_WITH_SHORT_OFFSET(){return kA}static get TIME_24_WITH_LONG_OFFSET(){return IA}static get DATETIME_SHORT(){return CA}static get DATETIME_SHORT_WITH_SECONDS(){return TA}static get DATETIME_MED(){return OA}static get DATETIME_MED_WITH_SECONDS(){return qA}static get DATETIME_MED_WITH_WEEKDAY(){return $B}static get DATETIME_FULL(){return RA}static get DATETIME_FULL_WITH_SECONDS(){return AA}static get DATETIME_HUGE(){return jA}static get DATETIME_HUGE_WITH_SECONDS(){return PA}}function Yf(t){if(an.isDateTime(t))return t;if(t&&t.valueOf&&Tl(t.valueOf()))return an.fromJSDate(t);if(t&&typeof t=="object")return an.fromObject(t);throw new hi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function gj(t,e){return function(){return t.apply(e,arguments)}}const{toString:LW}=Object.prototype,{getPrototypeOf:GE}=Object,Vv=(t=>e=>{const n=LW.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qo=t=>(t=t.toLowerCase(),e=>Vv(e)===t),Hv=t=>e=>typeof e===t,{isArray:Zd}=Array,Gp=Hv("undefined");function MW(t){return t!==null&&!Gp(t)&&t.constructor!==null&&!Gp(t.constructor)&&Os(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const yj=qo("ArrayBuffer");function $W(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&yj(t.buffer),e}const BW=Hv("string"),Os=Hv("function"),vj=Hv("number"),Qv=t=>t!==null&&typeof t=="object",zW=t=>t===!0||t===!1,ty=t=>{if(Vv(t)!=="object")return!1;const e=GE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},WW=qo("Date"),UW=qo("File"),VW=qo("Blob"),HW=qo("FileList"),QW=t=>Qv(t)&&Os(t.pipe),KW=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Os(t.append)&&((e=Vv(t))==="formdata"||e==="object"&&Os(t.toString)&&t.toString()==="[object FormData]"))},GW=qo("URLSearchParams"),[ZW,JW,YW,XW]=["ReadableStream","Request","Response","Headers"].map(qo),e6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $h(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Zd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function bj(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Au=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xj=t=>!Gp(t)&&t!==Au;function IS(){const{caseless:t}=xj(this)&&this||{},e={},n=(r,i)=>{const s=t&&bj(e,i)||i;ty(e[s])&&ty(r)?e[s]=IS(e[s],r):ty(r)?e[s]=IS({},r):Zd(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$h(arguments[r],n);return e}const t6=(t,e,n,{allOwnKeys:r}={})=>($h(e,(i,s)=>{n&&Os(i)?t[s]=gj(i,n):t[s]=i},{allOwnKeys:r}),t),n6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),r6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},i6=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&GE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},s6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},o6=t=>{if(!t)return null;if(Zd(t))return t;let e=t.length;if(!vj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},a6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&GE(Uint8Array)),l6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},u6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},c6=qo("HTMLFormElement"),d6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),jC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),f6=qo("RegExp"),wj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};$h(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},p6=t=>{wj(t,(e,n)=>{if(Os(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Os(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},h6=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Zd(t)?r(t):r(String(t).split(e)),n},m6=()=>{},g6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Lw="abcdefghijklmnopqrstuvwxyz",PC="0123456789",_j={DIGIT:PC,ALPHA:Lw,ALPHA_DIGIT:Lw+Lw.toUpperCase()+PC},y6=(t=16,e=_j.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function v6(t){return!!(t&&Os(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const b6=t=>{const e=new Array(10),n=(r,i)=>{if(Qv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Zd(r)?[]:{};return $h(r,(o,l)=>{const c=n(o,i+1);!Gp(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},x6=qo("AsyncFunction"),w6=t=>t&&(Qv(t)||Os(t))&&Os(t.then)&&Os(t.catch),Sj=((t,e)=>t?setImmediate:e?((n,r)=>(Au.addEventListener("message",({source:i,data:s})=>{i===Au&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Au.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Os(Au.postMessage)),_6=typeof queueMicrotask<"u"?queueMicrotask.bind(Au):typeof process<"u"&&process.nextTick||Sj,Ye={isArray:Zd,isArrayBuffer:yj,isBuffer:MW,isFormData:KW,isArrayBufferView:$W,isString:BW,isNumber:vj,isBoolean:zW,isObject:Qv,isPlainObject:ty,isReadableStream:ZW,isRequest:JW,isResponse:YW,isHeaders:XW,isUndefined:Gp,isDate:WW,isFile:UW,isBlob:VW,isRegExp:f6,isFunction:Os,isStream:QW,isURLSearchParams:GW,isTypedArray:a6,isFileList:HW,forEach:$h,merge:IS,extend:t6,trim:e6,stripBOM:n6,inherits:r6,toFlatObject:i6,kindOf:Vv,kindOfTest:qo,endsWith:s6,toArray:o6,forEachEntry:l6,matchAll:u6,isHTMLForm:c6,hasOwnProperty:jC,hasOwnProp:jC,reduceDescriptors:wj,freezeMethods:p6,toObjectSet:h6,toCamelCase:d6,noop:m6,toFiniteNumber:g6,findKey:bj,global:Au,isContextDefined:xj,ALPHABET:_j,generateString:y6,isSpecCompliantForm:v6,toJSONObject:b6,isAsyncFn:x6,isThenable:w6,setImmediate:Sj,asap:_6};function hn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ye.inherits(hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const Ej=hn.prototype,Nj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Nj[t]={value:t}});Object.defineProperties(hn,Nj);Object.defineProperty(Ej,"isAxiosError",{value:!0});hn.from=(t,e,n,r,i,s)=>{const o=Object.create(Ej);return Ye.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),hn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const S6=null;function CS(t){return Ye.isPlainObject(t)||Ye.isArray(t)}function kj(t){return Ye.endsWith(t,"[]")?t.slice(0,-2):t}function FC(t,e,n){return t?t.concat(e).map(function(i,s){return i=kj(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function E6(t){return Ye.isArray(t)&&!t.some(CS)}const N6=Ye.toFlatObject(Ye,{},null,function(e){return/^is[A-Z]/.test(e)});function Kv(t,e,n){if(!Ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,I){return!Ye.isUndefined(I[N])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(e);if(!Ye.isFunction(i))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(Ye.isDate(_))return _.toISOString();if(!c&&Ye.isBlob(_))throw new hn("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(_)||Ye.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,N,I){let O=_;if(_&&!I&&typeof _=="object"){if(Ye.endsWith(N,"{}"))N=r?N:N.slice(0,-2),_=JSON.stringify(_);else if(Ye.isArray(_)&&E6(_)||(Ye.isFileList(_)||Ye.endsWith(N,"[]"))&&(O=Ye.toArray(_)))return N=kj(N),O.forEach(function(q,j){!(Ye.isUndefined(q)||q===null)&&e.append(o===!0?FC([N],j,s):o===null?N:N+"[]",d(q))}),!1}return CS(_)?!0:(e.append(FC(I,N,s),d(_)),!1)}const p=[],b=Object.assign(N6,{defaultVisitor:f,convertValue:d,isVisitable:CS});function x(_,N){if(!Ye.isUndefined(_)){if(p.indexOf(_)!==-1)throw Error("Circular reference detected in "+N.join("."));p.push(_),Ye.forEach(_,function(O,T){(!(Ye.isUndefined(O)||O===null)&&i.call(e,O,Ye.isString(T)?T.trim():T,N,b))===!0&&x(O,N?N.concat(T):[T])}),p.pop()}}if(!Ye.isObject(t))throw new TypeError("data must be an object");return x(t),e}function DC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ZE(t,e){this._pairs=[],t&&Kv(t,this,e)}const Ij=ZE.prototype;Ij.append=function(e,n){this._pairs.push([e,n])};Ij.toString=function(e){const n=e?function(r){return e.call(this,r,DC)}:DC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function k6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cj(t,e,n){if(!e)return t;const r=n&&n.encode||k6;Ye.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ye.isURLSearchParams(e)?e.toString():new ZE(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class LC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Tj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I6=typeof URLSearchParams<"u"?URLSearchParams:ZE,C6=typeof FormData<"u"?FormData:null,T6=typeof Blob<"u"?Blob:null,O6={isBrowser:!0,classes:{URLSearchParams:I6,FormData:C6,Blob:T6},protocols:["http","https","file","blob","url","data"]},JE=typeof window<"u"&&typeof document<"u",TS=typeof navigator=="object"&&navigator||void 0,q6=JE&&(!TS||["ReactNative","NativeScript","NS"].indexOf(TS.product)<0),R6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",A6=JE&&window.location.href||"http://localhost",j6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JE,hasStandardBrowserEnv:q6,hasStandardBrowserWebWorkerEnv:R6,navigator:TS,origin:A6},Symbol.toStringTag,{value:"Module"})),yi={...j6,...O6};function P6(t,e){return Kv(t,new yi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return yi.isNode&&Ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function F6(t){return Ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function D6(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Oj(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&Ye.isArray(i)?i.length:o,c?(Ye.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Ye.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ye.isArray(i[o])&&(i[o]=D6(i[o])),!l)}if(Ye.isFormData(t)&&Ye.isFunction(t.entries)){const n={};return Ye.forEachEntry(t,(r,i)=>{e(F6(r),i,n,0)}),n}return null}function L6(t,e,n){if(Ye.isString(t))try{return(e||JSON.parse)(t),Ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Bh={transitional:Tj,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ye.isObject(e);if(s&&Ye.isHTMLForm(e)&&(e=new FormData(e)),Ye.isFormData(e))return i?JSON.stringify(Oj(e)):e;if(Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e)||Ye.isReadableStream(e))return e;if(Ye.isArrayBufferView(e))return e.buffer;if(Ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return P6(e,this.formSerializer).toString();if((l=Ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Kv(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),L6(e)):e}],transformResponse:[function(e){const n=this.transitional||Bh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ye.isResponse(e)||Ye.isReadableStream(e))return e;if(e&&Ye.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?hn.from(l,hn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yi.classes.FormData,Blob:yi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],t=>{Bh.headers[t]={}});const M6=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$6=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&M6[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},MC=Symbol("internals");function Xf(t){return t&&String(t).trim().toLowerCase()}function ny(t){return t===!1||t==null?t:Ye.isArray(t)?t.map(ny):String(t)}function B6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const z6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mw(t,e,n,r,i){if(Ye.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ye.isString(e)){if(Ye.isString(r))return e.indexOf(r)!==-1;if(Ye.isRegExp(r))return r.test(e)}}function W6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function U6(t,e){const n=Ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let as=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,d){const f=Xf(c);if(!f)throw new Error("header name must be a non-empty string");const p=Ye.findKey(i,f);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||c]=ny(l))}const o=(l,c)=>Ye.forEach(l,(d,f)=>s(d,f,c));if(Ye.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ye.isString(e)&&(e=e.trim())&&!z6(e))o($6(e),n);else if(Ye.isHeaders(e))for(const[l,c]of e.entries())s(c,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Xf(e),e){const r=Ye.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return B6(i);if(Ye.isFunction(n))return n.call(this,i,r);if(Ye.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xf(e),e){const r=Ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Mw(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Xf(o),o){const l=Ye.findKey(r,o);l&&(!n||Mw(r,r[l],l,n))&&(delete r[l],i=!0)}}return Ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Mw(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ye.forEach(this,(i,s)=>{const o=Ye.findKey(r,s);if(o){n[o]=ny(i),delete n[s];return}const l=e?W6(s):String(s).trim();l!==s&&delete n[s],n[l]=ny(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[MC]=this[MC]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Xf(o);r[l]||(U6(i,o),r[l]=!0)}return Ye.isArray(e)?e.forEach(s):s(e),this}};as.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(as.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ye.freezeMethods(as);function $w(t,e){const n=this||Bh,r=e||n,i=as.from(r.headers);let s=r.data;return Ye.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function qj(t){return!!(t&&t.__CANCEL__)}function Jd(t,e,n){hn.call(this,t??"canceled",hn.ERR_CANCELED,e,n),this.name="CanceledError"}Ye.inherits(Jd,hn,{__CANCEL__:!0});function Rj(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new hn("Request failed with status code "+n.status,[hn.ERR_BAD_REQUEST,hn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function V6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function H6(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),n[i]=c,r[i]=d;let p=s,b=0;for(;p!==i;)b+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const x=f&&d-f;return x?Math.round(b*1e3/x):void 0}}function Q6(t,e){let n=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),p=f-n;p>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const Fy=(t,e,n=3)=>{let r=0;const i=H6(50,250);return Q6(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(p)},n)},$C=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},BC=t=>(...e)=>Ye.asap(()=>t(...e)),K6=yi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,yi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(yi.origin),yi.navigator&&/(msie|trident)/i.test(yi.navigator.userAgent)):()=>!0,G6=yi.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ye.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ye.isString(r)&&o.push("path="+r),Ye.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Z6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function J6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Aj(t,e){return t&&!Z6(e)?J6(t,e):e}const zC=t=>t instanceof as?{...t}:t;function Uu(t,e){e=e||{};const n={};function r(d,f,p,b){return Ye.isPlainObject(d)&&Ye.isPlainObject(f)?Ye.merge.call({caseless:b},d,f):Ye.isPlainObject(f)?Ye.merge({},f):Ye.isArray(f)?f.slice():f}function i(d,f,p,b){if(Ye.isUndefined(f)){if(!Ye.isUndefined(d))return r(void 0,d,p,b)}else return r(d,f,p,b)}function s(d,f){if(!Ye.isUndefined(f))return r(void 0,f)}function o(d,f){if(Ye.isUndefined(f)){if(!Ye.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,p){if(p in e)return r(d,f);if(p in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,p)=>i(zC(d),zC(f),p,!0)};return Ye.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=c[f]||i,b=p(t[f],e[f],f);Ye.isUndefined(b)&&p!==l||(n[f]=b)}),n}const jj=t=>{const e=Uu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=as.from(o),e.url=Cj(Aj(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Ye.isFormData(n)){if(yi.hasStandardBrowserEnv||yi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(yi.hasStandardBrowserEnv&&(r&&Ye.isFunction(r)&&(r=r(e)),r||r!==!1&&K6(e.url))){const d=i&&s&&G6.read(s);d&&o.set(i,d)}return e},Y6=typeof XMLHttpRequest<"u",X6=Y6&&function(t){return new Promise(function(n,r){const i=jj(t);let s=i.data;const o=as.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,f,p,b,x,_;function N(){x&&x(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function O(){if(!I)return;const q=as.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:q,config:t,request:I};Rj(function(z){n(z),N()},function(z){r(z),N()},D),I=null}"onloadend"in I?I.onloadend=O:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(O)},I.onabort=function(){I&&(r(new hn("Request aborted",hn.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new hn("Network Error",hn.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||Tj;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new hn(j,D.clarifyTimeoutError?hn.ETIMEDOUT:hn.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&Ye.forEach(o.toJSON(),function(j,D){I.setRequestHeader(D,j)}),Ye.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),l&&l!=="json"&&(I.responseType=i.responseType),d&&([b,_]=Fy(d,!0),I.addEventListener("progress",b)),c&&I.upload&&([p,x]=Fy(c),I.upload.addEventListener("progress",p),I.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(f=q=>{I&&(r(!q||q.type?new Jd(null,t,I):q),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const T=V6(i.url);if(T&&yi.protocols.indexOf(T)===-1){r(new hn("Unsupported protocol "+T+":",hn.ERR_BAD_REQUEST,t));return}I.send(s||null)})},eU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof hn?f:new Jd(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new hn(`timeout ${e} of ms exceeded`,hn.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Ye.asap(l),c}},tU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},nU=async function*(t,e){for await(const n of rU(t))yield*tU(n,e)},rU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},WC=(t,e,n,r)=>{const i=nU(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){l(),c.close();return}let p=f.byteLength;if(n){let b=s+=p;n(b)}c.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Gv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pj=Gv&&typeof ReadableStream=="function",iU=Gv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Fj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},sU=Pj&&Fj(()=>{let t=!1;const e=new Request(yi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),UC=64*1024,OS=Pj&&Fj(()=>Ye.isReadableStream(new Response("").body)),Dy={stream:OS&&(t=>t.body)};Gv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dy[e]&&(Dy[e]=Ye.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new hn(`Response type '${e}' is not supported`,hn.ERR_NOT_SUPPORT,r)})})})(new Response);const oU=async t=>{if(t==null)return 0;if(Ye.isBlob(t))return t.size;if(Ye.isSpecCompliantForm(t))return(await new Request(yi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(t)||Ye.isArrayBuffer(t))return t.byteLength;if(Ye.isURLSearchParams(t)&&(t=t+""),Ye.isString(t))return(await iU(t)).byteLength},aU=async(t,e)=>{const n=Ye.toFiniteNumber(t.getContentLength());return n??oU(e)},lU=Gv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:b}=jj(t);d=d?(d+"").toLowerCase():"text";let x=eU([i,s&&s.toAbortSignal()],o),_;const N=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let I;try{if(c&&sU&&n!=="get"&&n!=="head"&&(I=await aU(f,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(Ye.isFormData(r)&&(L=D.headers.get("content-type"))&&f.setContentType(L),D.body){const[z,P]=$C(I,Fy(BC(c)));r=WC(D.body,UC,z,P)}}Ye.isString(p)||(p=p?"include":"omit");const O="credentials"in Request.prototype;_=new Request(e,{...b,signal:x,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:O?p:void 0});let T=await fetch(_);const q=OS&&(d==="stream"||d==="response");if(OS&&(l||q&&N)){const D={};["status","statusText","headers"].forEach(R=>{D[R]=T[R]});const L=Ye.toFiniteNumber(T.headers.get("content-length")),[z,P]=l&&$C(L,Fy(BC(l),!0))||[];T=new Response(WC(T.body,UC,z,()=>{P&&P(),N&&N()}),D)}d=d||"text";let j=await Dy[Ye.findKey(Dy,d)||"text"](T,t);return!q&&N&&N(),await new Promise((D,L)=>{Rj(D,L,{data:j,headers:as.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:_})})}catch(O){throw N&&N(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new hn("Network Error",hn.ERR_NETWORK,t,_),{cause:O.cause||O}):hn.from(O,O&&O.code,t,_)}}),qS={http:S6,xhr:X6,fetch:lU};Ye.forEach(qS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const VC=t=>`- ${t}`,uU=t=>Ye.isFunction(t)||t===null||t===!1,Dj={getAdapter:t=>{t=Ye.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!uU(n)&&(r=qS[(o=String(n)).toLowerCase()],r===void 0))throw new hn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(VC).join(`
`):" "+VC(s[0]):"as no adapter specified";throw new hn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:qS};function Bw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jd(null,t)}function HC(t){return Bw(t),t.headers=as.from(t.headers),t.data=$w.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Dj.getAdapter(t.adapter||Bh.adapter)(t).then(function(r){return Bw(t),r.data=$w.call(t,t.transformResponse,r),r.headers=as.from(r.headers),r},function(r){return qj(r)||(Bw(t),r&&r.response&&(r.response.data=$w.call(t,t.transformResponse,r.response),r.response.headers=as.from(r.response.headers))),Promise.reject(r)})}const Lj="1.7.9",Zv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const QC={};Zv.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Lj+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new hn(i(o," has been removed"+(n?" in "+n:"")),hn.ERR_DEPRECATED);return n&&!QC[o]&&(QC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Zv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function cU(t,e,n){if(typeof t!="object")throw new hn("options must be an object",hn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new hn("option "+s+" must be "+c,hn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new hn("Unknown option "+s,hn.ERR_BAD_OPTION)}}const ry={assertOptions:cU,validators:Zv},Lo=ry.validators;let Lu=class{constructor(e){this.defaults=e,this.interceptors={request:new LC,response:new LC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Uu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&ry.assertOptions(r,{silentJSONParsing:Lo.transitional(Lo.boolean),forcedJSONParsing:Lo.transitional(Lo.boolean),clarifyTimeoutError:Lo.transitional(Lo.boolean)},!1),i!=null&&(Ye.isFunction(i)?n.paramsSerializer={serialize:i}:ry.assertOptions(i,{encode:Lo.function,serialize:Lo.function},!0)),ry.assertOptions(n,{baseUrl:Lo.spelling("baseURL"),withXsrfToken:Lo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ye.merge(s.common,s[n.method]);s&&Ye.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=as.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(c=c&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const d=[];this.interceptors.response.forEach(function(N){d.push(N.fulfilled,N.rejected)});let f,p=0,b;if(!c){const _=[HC.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,d),b=_.length,f=Promise.resolve(n);p<b;)f=f.then(_[p++],_[p++]);return f}b=l.length;let x=n;for(p=0;p<b;){const _=l[p++],N=l[p++];try{x=_(x)}catch(I){N.call(this,I);break}}try{f=HC.call(this,x)}catch(_){return Promise.reject(_)}for(p=0,b=d.length;p<b;)f=f.then(d[p++],d[p++]);return f}getUri(e){e=Uu(this.defaults,e);const n=Aj(e.baseURL,e.url);return Cj(n,e.params,e.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(e){Lu.prototype[e]=function(n,r){return this.request(Uu(r||{},{method:e,url:n,data:(r||{}).data}))}});Ye.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Uu(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Lu.prototype[e]=n(),Lu.prototype[e+"Form"]=n(!0)});let dU=class Mj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Jd(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Mj(function(i){e=i}),cancel:e}}};function fU(t){return function(n){return t.apply(null,n)}}function pU(t){return Ye.isObject(t)&&t.isAxiosError===!0}const RS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(RS).forEach(([t,e])=>{RS[e]=t});function $j(t){const e=new Lu(t),n=gj(Lu.prototype.request,e);return Ye.extend(n,Lu.prototype,e,{allOwnKeys:!0}),Ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return $j(Uu(t,i))},n}const Rr=$j(Bh);Rr.Axios=Lu;Rr.CanceledError=Jd;Rr.CancelToken=dU;Rr.isCancel=qj;Rr.VERSION=Lj;Rr.toFormData=Kv;Rr.AxiosError=hn;Rr.Cancel=Rr.CanceledError;Rr.all=function(e){return Promise.all(e)};Rr.spread=fU;Rr.isAxiosError=pU;Rr.mergeConfig=Uu;Rr.AxiosHeaders=as;Rr.formToJSON=t=>Oj(Ye.isHTMLForm(t)?new FormData(t):t);Rr.getAdapter=Dj.getAdapter;Rr.HttpStatusCode=RS;Rr.default=Rr;const{Axios:doe,AxiosError:hU,CanceledError:foe,isCancel:poe,CancelToken:hoe,VERSION:moe,all:goe,Cancel:yoe,isAxiosError:voe,spread:boe,toFormData:xoe,AxiosHeaders:woe,HttpStatusCode:_oe,formToJSON:Soe,getAdapter:Eoe,mergeConfig:Noe}=Rr,YE=({error:t,schema:e,onError:n})=>{if(t instanceof hU){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var zw,KC;function mU(){if(KC)return zw;KC=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(s){return Promise.reject(s)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,s){this.push({resolve:function(){try{e(r)}catch(o){return s(o),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var s=new t(r);return s.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(s),r.getMaxRPS=t.prototype.getMaxRPS.bind(s),r.setMaxRPS=t.prototype.setMaxRPS.bind(s),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(s),r}return zw=n,zw}var gU=mU();const yU=ro(gU),vU=({instance:t,limit:e}={})=>yU(t||Rr,e||{maxRequests:5,perMilliseconds:100}),XE="-",bU=t=>{const e=wU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(XE);return l[0]===""&&l.length!==1&&l.shift(),Bj(l,e)||xU(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Bj=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Bj(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(XE);return e.validators.find(({validator:o})=>o(s))?.classGroupId},GC=/^\[(.+)\]$/,xU=t=>{if(GC.test(t)){const e=GC.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return SU(Object.entries(t.classGroups),n).forEach(([s,o])=>{AS(o,r,s,e)}),r},AS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:ZC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(_U(i)){AS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{AS(o,ZC(e,s),n,r)})})},ZC=(t,e)=>{let n=t;return e.split(XE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_U=t=>t.isThemeGetter,SU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,EU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},zj="!",NU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let d=0,f=0,p;for(let I=0;I<l.length;I++){let O=l[I];if(d===0){if(O===i&&(r||l.slice(I,I+s)===e)){c.push(l.slice(f,I)),f=I+s;continue}if(O==="/"){p=I;continue}}O==="["?d++:O==="]"&&d--}const b=c.length===0?l:l.substring(f),x=b.startsWith(zj),_=x?b.substring(1):b,N=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:N}};return n?l=>n({className:l,parseClassName:o}):o},kU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},IU=t=>({cache:EU(t.cacheSize),parseClassName:NU(t),...bU(t)}),CU=/\s+/,TU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(CU);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:x}=n(d);let _=!!x,N=r(_?b.substring(0,x):b);if(!N){if(!_){l=d+(l.length>0?" "+l:l);continue}if(N=r(b),!N){l=d+(l.length>0?" "+l:l);continue}_=!1}const I=kU(f).join(":"),O=p?I+zj:I,T=O+N;if(s.includes(T))continue;s.push(T);const q=i(N,_);for(let j=0;j<q.length;++j){const D=q[j];s.push(O+D)}l=d+(l.length>0?" "+l:l)}return l};function OU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Wj(e))&&(r&&(r+=" "),r+=n);return r}const Wj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Wj(t[r]))&&(n&&(n+=" "),n+=e);return n};function qU(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((f,p)=>p(f),t());return n=IU(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=TU(c,n);return i(c,f),f}return function(){return s(OU.apply(null,arguments))}}const ar=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Uj=/^\[(?:([a-z-]+):)?(.+)\]$/i,RU=/^\d+\/\d+$/,AU=new Set(["px","full","screen"]),jU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=t=>fd(t)||AU.has(t)||RU.test(t),cl=t=>Yd(t,"length",HU),fd=t=>!!t&&!Number.isNaN(Number(t)),Ww=t=>Yd(t,"number",fd),ep=t=>!!t&&Number.isInteger(Number(t)),MU=t=>t.endsWith("%")&&fd(t.slice(0,-1)),yn=t=>Uj.test(t),dl=t=>jU.test(t),$U=new Set(["length","size","percentage"]),BU=t=>Yd(t,$U,Vj),zU=t=>Yd(t,"position",Vj),WU=new Set(["image","url"]),UU=t=>Yd(t,WU,KU),VU=t=>Yd(t,"",QU),tp=()=>!0,Yd=(t,e,n)=>{const r=Uj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},HU=t=>PU.test(t)&&!FU.test(t),Vj=()=>!1,QU=t=>DU.test(t),KU=t=>LU.test(t),GU=()=>{const t=ar("colors"),e=ar("spacing"),n=ar("blur"),r=ar("brightness"),i=ar("borderColor"),s=ar("borderRadius"),o=ar("borderSpacing"),l=ar("borderWidth"),c=ar("contrast"),d=ar("grayscale"),f=ar("hueRotate"),p=ar("invert"),b=ar("gap"),x=ar("gradientColorStops"),_=ar("gradientColorStopPositions"),N=ar("inset"),I=ar("margin"),O=ar("opacity"),T=ar("padding"),q=ar("saturate"),j=ar("scale"),D=ar("sepia"),L=ar("skew"),z=ar("space"),P=ar("translate"),R=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",yn,e],W=()=>[yn,e],U=()=>["",va,cl],$=()=>["auto",fd,yn],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",yn],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[fd,yn];return{cacheSize:500,separator:":",theme:{colors:[tp],spacing:[va,cl],blur:["none","",dl,yn],brightness:Y(),borderColor:[t],borderRadius:["none","","full",dl,yn],borderSpacing:W(),borderWidth:U(),contrast:Y(),grayscale:te(),hueRotate:Y(),invert:te(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[MU,cl],inset:F(),margin:F(),opacity:Y(),padding:W(),saturate:Y(),scale:Y(),sepia:te(),skew:Y(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",yn]}],container:["container"],columns:[{columns:[dl]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),yn]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ep,yn]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yn]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",ep,yn]}],"grid-cols":[{"grid-cols":[tp]}],"col-start-end":[{col:["auto",{span:["full",ep,yn]},yn]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[tp]}],"row-start-end":[{row:["auto",{span:[ep,yn]},yn]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yn]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yn,e]}],"min-w":[{"min-w":[yn,e,"min","max","fit"]}],"max-w":[{"max-w":[yn,e,"none","full","min","max","fit","prose",{screen:[dl]},dl]}],h:[{h:[yn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",dl,cl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ww]}],"font-family":[{font:[tp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yn]}],"line-clamp":[{"line-clamp":["none",fd,Ww]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",va,yn]}],"list-image":[{"list-image":["none",yn]}],"list-style-type":[{list:["none","disc","decimal",yn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",va,cl]}],"underline-offset":[{"underline-offset":["auto",va,yn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),zU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[va,yn]}],"outline-w":[{outline:[va,cl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[va,cl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dl,VU]}],"shadow-color":[{shadow:[tp]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",dl,yn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[q]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[q]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yn]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",yn]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",yn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ep,yn]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[va,cl,Ww]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Hj=qU(GU),jS=new Proxy(()=>jS,{get:()=>jS});function gn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:s,...o}={})=>({slots:new Proxy({},{get:(l,c)=>({css:d,...f}={})=>{const p=[],b=t,x={...b?.()?.config.defaults,...i,...o,...f};p.push(b?.(x)?.slots[c]?.(x)),p.push(Array.isArray(e[c])?e[c]:[e[c]]);for(const[_,N]of Object.entries(x)){const I=n[_]?.[N];I&&p.push(I)}for(const _ of r)Object.entries(_.if).every(([N,I])=>I===x[N])&&p.push(_.then?.[c]);return p.push(s?.[c]),p.push(d),Hj(p)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...o}},type:jS()})}const ji=Hj;var Uw,JC;function Qj(){return JC||(JC=1,Uw=Object),Uw}var Vw,YC;function ZU(){return YC||(YC=1,Vw=Error),Vw}var Hw,XC;function JU(){return XC||(XC=1,Hw=EvalError),Hw}var Qw,eT;function YU(){return eT||(eT=1,Qw=RangeError),Qw}var Kw,tT;function XU(){return tT||(tT=1,Kw=ReferenceError),Kw}var Gw,nT;function eV(){return nT||(nT=1,Gw=SyntaxError),Gw}var Zw,rT;function Kj(){return rT||(rT=1,Zw=TypeError),Zw}var Jw,iT;function tV(){return iT||(iT=1,Jw=URIError),Jw}var Yw,sT;function nV(){return sT||(sT=1,Yw=Math.abs),Yw}var Xw,oT;function rV(){return oT||(oT=1,Xw=Math.floor),Xw}var e_,aT;function iV(){return aT||(aT=1,e_=Math.max),e_}var t_,lT;function sV(){return lT||(lT=1,t_=Math.min),t_}var n_,uT;function oV(){return uT||(uT=1,n_=Math.pow),n_}var r_,cT;function aV(){return cT||(cT=1,r_=Math.round),r_}var i_,dT;function lV(){return dT||(dT=1,i_=Number.isNaN||function(e){return e!==e}),i_}var s_,fT;function uV(){if(fT)return s_;fT=1;var t=lV();return s_=function(n){return t(n)||n===0?n:n<0?-1:1},s_}var o_,pT;function cV(){return pT||(pT=1,o_=Object.getOwnPropertyDescriptor),o_}var a_,hT;function Gj(){if(hT)return a_;hT=1;var t=cV();if(t)try{t([],"length")}catch{t=null}return a_=t,a_}var l_,mT;function dV(){if(mT)return l_;mT=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return l_=t,l_}var u_,gT;function Zj(){return gT||(gT=1,u_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),u_}var c_,yT;function fV(){if(yT)return c_;yT=1;var t=typeof Symbol<"u"&&Symbol,e=Zj();return c_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},c_}var d_,vT;function Jj(){return vT||(vT=1,d_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),d_}var f_,bT;function Yj(){if(bT)return f_;bT=1;var t=Qj();return f_=t.getPrototypeOf||null,f_}var p_,xT;function pV(){if(xT)return p_;xT=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,d){for(var f=[],p=0;p<c.length;p+=1)f[p]=c[p];for(var b=0;b<d.length;b+=1)f[b+c.length]=d[b];return f},s=function(c,d){for(var f=[],p=d,b=0;p<c.length;p+=1,b+=1)f[b]=c[p];return f},o=function(l,c){for(var d="",f=0;f<l.length;f+=1)d+=l[f],f+1<l.length&&(d+=c);return d};return p_=function(c){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var f=s(arguments,1),p,b=function(){if(this instanceof p){var O=d.apply(this,i(f,arguments));return Object(O)===O?O:this}return d.apply(c,i(f,arguments))},x=n(0,d.length-f.length),_=[],N=0;N<x;N++)_[N]="$"+N;if(p=Function("binder","return function ("+o(_,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var I=function(){};I.prototype=d.prototype,p.prototype=new I,I.prototype=null}return p},p_}var h_,wT;function Jv(){if(wT)return h_;wT=1;var t=pV();return h_=Function.prototype.bind||t,h_}var m_,_T;function eN(){return _T||(_T=1,m_=Function.prototype.call),m_}var g_,ST;function Xj(){return ST||(ST=1,g_=Function.prototype.apply),g_}var y_,ET;function hV(){return ET||(ET=1,y_=typeof Reflect<"u"&&Reflect&&Reflect.apply),y_}var v_,NT;function mV(){if(NT)return v_;NT=1;var t=Jv(),e=Xj(),n=eN(),r=hV();return v_=r||t.call(n,e),v_}var b_,kT;function eP(){if(kT)return b_;kT=1;var t=Jv(),e=Kj(),n=eN(),r=mV();return b_=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},b_}var x_,IT;function gV(){if(IT)return x_;IT=1;var t=eP(),e=Gj(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return x_=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,x_}var w_,CT;function yV(){if(CT)return w_;CT=1;var t=Jj(),e=Yj(),n=gV();return w_=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,w_}var __,TT;function vV(){if(TT)return __;TT=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Jv();return __=n.call(t,e),__}var S_,OT;function bV(){if(OT)return S_;OT=1;var t,e=Qj(),n=ZU(),r=JU(),i=YU(),s=XU(),o=eV(),l=Kj(),c=tV(),d=nV(),f=rV(),p=iV(),b=sV(),x=oV(),_=aV(),N=uV(),I=Function,O=function(De){try{return I('"use strict"; return ('+De+").constructor;")()}catch{}},T=Gj(),q=dV(),j=function(){throw new l},D=T?function(){try{return arguments.callee,j}catch{try{return T(arguments,"callee").get}catch{return j}}}():j,L=fV()(),z=yV(),P=Yj(),R=Jj(),B=Xj(),F=eN(),W={},U=typeof Uint8Array>"u"||!z?t:z(Uint8Array),$={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":L&&z?z([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":W,"%AsyncGenerator%":W,"%AsyncGeneratorFunction%":W,"%AsyncIteratorPrototype%":W,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":W,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&z?z(z([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!z?t:z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!z?t:z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&z?z(""[Symbol.iterator]()):t,"%Symbol%":L?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":D,"%TypedArray%":U,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":B,"%Object.defineProperty%":q,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":b,"%Math.pow%":x,"%Math.round%":_,"%Math.sign%":N,"%Reflect.getPrototypeOf%":R};if(z)try{null.error}catch(De){var ee=z(z(De));$["%Error.prototype%"]=ee}var Z=function De(Ze){var Xe;if(Ze==="%AsyncFunction%")Xe=O("async function () {}");else if(Ze==="%GeneratorFunction%")Xe=O("function* () {}");else if(Ze==="%AsyncGeneratorFunction%")Xe=O("async function* () {}");else if(Ze==="%AsyncGenerator%"){var Ue=De("%AsyncGeneratorFunction%");Ue&&(Xe=Ue.prototype)}else if(Ze==="%AsyncIteratorPrototype%"){var ut=De("%AsyncGenerator%");ut&&z&&(Xe=z(ut.prototype))}return $[Ze]=Xe,Xe},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=Jv(),te=vV(),se=ie.call(F,Array.prototype.concat),Y=ie.call(B,Array.prototype.splice),ce=ie.call(F,String.prototype.replace),de=ie.call(F,String.prototype.slice),ye=ie.call(F,RegExp.prototype.exec),we=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ne=/\\(\\)?/g,ze=function(Ze){var Xe=de(Ze,0,1),Ue=de(Ze,-1);if(Xe==="%"&&Ue!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&Xe!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ut=[];return ce(Ze,we,function(_t,Tt,Wt,Xt){ut[ut.length]=Wt?ce(Xt,Ne,"$1"):Tt||_t}),ut},qe=function(Ze,Xe){var Ue=Ze,ut;if(te(le,Ue)&&(ut=le[Ue],Ue="%"+ut[0]+"%"),te($,Ue)){var _t=$[Ue];if(_t===W&&(_t=Z(Ue)),typeof _t>"u"&&!Xe)throw new l("intrinsic "+Ze+" exists, but is not available. Please file an issue!");return{alias:ut,name:Ue,value:_t}}throw new o("intrinsic "+Ze+" does not exist!")};return S_=function(Ze,Xe){if(typeof Ze!="string"||Ze.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Xe!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ye(/^%?[^%]*%?$/,Ze)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=ze(Ze),ut=Ue.length>0?Ue[0]:"",_t=qe("%"+ut+"%",Xe),Tt=_t.name,Wt=_t.value,Xt=!1,xe=_t.alias;xe&&(ut=xe[0],Y(Ue,se([0,1],xe)));for(var ve=1,ke=!0;ve<Ue.length;ve+=1){var je=Ue[ve],Ve=de(je,0,1),rt=de(je,-1);if((Ve==='"'||Ve==="'"||Ve==="`"||rt==='"'||rt==="'"||rt==="`")&&Ve!==rt)throw new o("property names with quotes must have matching quotes");if((je==="constructor"||!ke)&&(Xt=!0),ut+="."+je,Tt="%"+ut+"%",te($,Tt))Wt=$[Tt];else if(Wt!=null){if(!(je in Wt)){if(!Xe)throw new l("base intrinsic for "+Ze+" exists, but the property is not available.");return}if(T&&ve+1>=Ue.length){var Me=T(Wt,je);ke=!!Me,ke&&"get"in Me&&!("originalValue"in Me.get)?Wt=Me.get:Wt=Wt[je]}else ke=te(Wt,je),Wt=Wt[je];ke&&!Xt&&($[Tt]=Wt)}}return Wt},S_}var E_,qT;function xV(){if(qT)return E_;qT=1;var t=bV(),e=eP(),n=e([t("%String.prototype.indexOf%")]);return E_=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e([o]):o},E_}var N_,RT;function wV(){if(RT)return N_;RT=1;var t=Zj();return N_=function(){return t()&&!!Symbol.toStringTag},N_}var k_,AT;function _V(){if(AT)return k_;AT=1;var t=xV(),e=t("String.prototype.valueOf"),n=function(l){try{return e(l),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",s=wV()();return k_=function(l){return typeof l=="string"?!0:!l||typeof l!="object"?!1:s?n(l):r(l)===i},k_}var SV=_V();const EV=ro(SV),Yv=t=>EV(t),NV=(t,e,n={})=>{const r=[];return t.filter((s,o)=>{const l=n.regionLowerCase?s.toLowerCase():s;if(e.includes(l))return r.push({index:o,appLocale:l}),!0;const{isAvailable:c,appLocale:d}=kV(l,e,n);return c&&r.push({index:o,appLocale:n.regionLowerCase?d.toLowerCase():d}),c}).map((s,o)=>!r||r.length===0?s:r[o]?.appLocale)},kV=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(s=>{if(!iy()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const o=iy()?new Intl.Locale(t).minimize().language:t.split("-")[0],l=iy()?new Intl.Locale(s).minimize().language:s.split("-")[0],c=o===l;return c&&(r=s),c}),appLocale:r}},IV=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},iy=()=>Intl&&"Locale"in Intl,CV=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const s=iy()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:o,script:l}=s;let{region:c}=s;return e.regionLowerCase&&c&&(c=c.toLowerCase()),i.length>2?`${o}-${l}-${c}`:c?`${o}-${c}`:o});return[...new Set(n)]},TV=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=IV(n),i=CV([...r,t],n);return NV(i,e,n)[0]||t},OV=({available:t,fallback:e})=>TV(e,t,{languageOnly:!0});var I_={exports:{}};const qV={},RV=Object.freeze(Object.defineProperty({__proto__:null,default:qV},Symbol.toStringTag,{value:"Module"})),jT=ZM(RV);var PT;function AV(){return PT||(PT=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=Tu:i&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,l=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),d=[-0x80000000,8388608,32768,128],f=[24,16,8,0],p=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],b=["hex","array","digest","arrayBuffer"],x=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(L){return Object.prototype.toString.call(L)==="[object Array]"}),l&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(L){return typeof L=="object"&&L.buffer&&L.buffer.constructor===ArrayBuffer});var _=function(L,z){return function(P){return new q(z,!0).update(P)[L]()}},N=function(L){var z=_("hex",L);s&&(z=I(z,L)),z.create=function(){return new q(L)},z.update=function(B){return z.create().update(B)};for(var P=0;P<b.length;++P){var R=b[P];z[R]=_(R,L)}return z},I=function(L,z){var P=jT,R=jT.Buffer,B=z?"sha224":"sha256",F;R.from&&!r.JS_SHA256_NO_BUFFER_FROM?F=R.from:F=function(U){return new R(U)};var W=function(U){if(typeof U=="string")return P.createHash(B).update(U,"utf8").digest("hex");if(U==null)throw new Error(e);return U.constructor===ArrayBuffer&&(U=new Uint8Array(U)),Array.isArray(U)||ArrayBuffer.isView(U)||U.constructor===R?P.createHash(B).update(F(U)).digest("hex"):L(U)};return W},O=function(L,z){return function(P,R){return new j(P,z,!0).update(R)[L]()}},T=function(L){var z=O("hex",L);z.create=function(B){return new j(B,L)},z.update=function(B,F){return z.create(B).update(F)};for(var P=0;P<b.length;++P){var R=b[P];z[R]=O(R,L)}return z};function q(L,z){z?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=L}q.prototype.update=function(L){if(!this.finalized){var z,P=typeof L;if(P!=="string"){if(P==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);z=!0}for(var R,B=0,F,W=L.length,U=this.blocks;B<W;){if(this.hashed&&(this.hashed=!1,U[0]=this.block,this.block=U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0),z)for(F=this.start;B<W&&F<64;++B)U[F>>>2]|=L[B]<<f[F++&3];else for(F=this.start;B<W&&F<64;++B)R=L.charCodeAt(B),R<128?U[F>>>2]|=R<<f[F++&3]:R<2048?(U[F>>>2]|=(192|R>>>6)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]):R<55296||R>=57344?(U[F>>>2]|=(224|R>>>12)<<f[F++&3],U[F>>>2]|=(128|R>>>6&63)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]):(R=65536+((R&1023)<<10|L.charCodeAt(++B)&1023),U[F>>>2]|=(240|R>>>18)<<f[F++&3],U[F>>>2]|=(128|R>>>12&63)<<f[F++&3],U[F>>>2]|=(128|R>>>6&63)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]);this.lastByteIndex=F,this.bytes+=F-this.start,F>=64?(this.block=U[16],this.start=F-64,this.hash(),this.hashed=!0):this.start=F}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},q.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var L=this.blocks,z=this.lastByteIndex;L[16]=this.block,L[z>>>2]|=d[z&3],this.block=L[16],z>=56&&(this.hashed||this.hash(),L[0]=this.block,L[16]=L[1]=L[2]=L[3]=L[4]=L[5]=L[6]=L[7]=L[8]=L[9]=L[10]=L[11]=L[12]=L[13]=L[14]=L[15]=0),L[14]=this.hBytes<<3|this.bytes>>>29,L[15]=this.bytes<<3,this.hash()}},q.prototype.hash=function(){var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=this.blocks,ee,Z,le,ie,te,se,Y,ce,de,ye,we;for(ee=16;ee<64;++ee)te=$[ee-15],Z=(te>>>7|te<<25)^(te>>>18|te<<14)^te>>>3,te=$[ee-2],le=(te>>>17|te<<15)^(te>>>19|te<<13)^te>>>10,$[ee]=$[ee-16]+Z+$[ee-7]+le<<0;for(we=z&P,ee=0;ee<64;ee+=4)this.first?(this.is224?(ce=300032,te=$[0]-0x543c9a5b,U=te-0x8f1a6c7<<0,R=te+0x170e9b5<<0):(ce=0x2a01a605,te=$[0]-0xc881298,U=te-0x5ab00ac6<<0,R=te+0x8909ae5<<0),this.first=!1):(Z=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),le=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),ce=L&z,ie=ce^L&P^we,Y=B&F^~B&W,te=U+le+Y+p[ee]+$[ee],se=Z+ie,U=R+te<<0,R=te+se<<0),Z=(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),le=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7),de=R&L,ie=de^R&z^ce,Y=U&B^~U&F,te=W+le+Y+p[ee+1]+$[ee+1],se=Z+ie,W=P+te<<0,P=te+se<<0,Z=(P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),le=(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7),ye=P&R,ie=ye^P&L^de,Y=W&U^~W&B,te=F+le+Y+p[ee+2]+$[ee+2],se=Z+ie,F=z+te<<0,z=te+se<<0,Z=(z>>>2|z<<30)^(z>>>13|z<<19)^(z>>>22|z<<10),le=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),we=z&P,ie=we^z&R^ye,Y=F&W^~F&U,te=B+le+Y+p[ee+3]+$[ee+3],se=Z+ie,B=L+te<<0,L=te+se<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+L<<0,this.h1=this.h1+z<<0,this.h2=this.h2+P<<0,this.h3=this.h3+R<<0,this.h4=this.h4+B<<0,this.h5=this.h5+F<<0,this.h6=this.h6+W<<0,this.h7=this.h7+U<<0},q.prototype.hex=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=c[L>>>28&15]+c[L>>>24&15]+c[L>>>20&15]+c[L>>>16&15]+c[L>>>12&15]+c[L>>>8&15]+c[L>>>4&15]+c[L&15]+c[z>>>28&15]+c[z>>>24&15]+c[z>>>20&15]+c[z>>>16&15]+c[z>>>12&15]+c[z>>>8&15]+c[z>>>4&15]+c[z&15]+c[P>>>28&15]+c[P>>>24&15]+c[P>>>20&15]+c[P>>>16&15]+c[P>>>12&15]+c[P>>>8&15]+c[P>>>4&15]+c[P&15]+c[R>>>28&15]+c[R>>>24&15]+c[R>>>20&15]+c[R>>>16&15]+c[R>>>12&15]+c[R>>>8&15]+c[R>>>4&15]+c[R&15]+c[B>>>28&15]+c[B>>>24&15]+c[B>>>20&15]+c[B>>>16&15]+c[B>>>12&15]+c[B>>>8&15]+c[B>>>4&15]+c[B&15]+c[F>>>28&15]+c[F>>>24&15]+c[F>>>20&15]+c[F>>>16&15]+c[F>>>12&15]+c[F>>>8&15]+c[F>>>4&15]+c[F&15]+c[W>>>28&15]+c[W>>>24&15]+c[W>>>20&15]+c[W>>>16&15]+c[W>>>12&15]+c[W>>>8&15]+c[W>>>4&15]+c[W&15];return this.is224||($+=c[U>>>28&15]+c[U>>>24&15]+c[U>>>20&15]+c[U>>>16&15]+c[U>>>12&15]+c[U>>>8&15]+c[U>>>4&15]+c[U&15]),$},q.prototype.toString=q.prototype.hex,q.prototype.digest=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=[L>>>24&255,L>>>16&255,L>>>8&255,L&255,z>>>24&255,z>>>16&255,z>>>8&255,z&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255];return this.is224||$.push(U>>>24&255,U>>>16&255,U>>>8&255,U&255),$},q.prototype.array=q.prototype.digest,q.prototype.arrayBuffer=function(){this.finalize();var L=new ArrayBuffer(this.is224?28:32),z=new DataView(L);return z.setUint32(0,this.h0),z.setUint32(4,this.h1),z.setUint32(8,this.h2),z.setUint32(12,this.h3),z.setUint32(16,this.h4),z.setUint32(20,this.h5),z.setUint32(24,this.h6),this.is224||z.setUint32(28,this.h7),L};function j(L,z,P){var R,B=typeof L;if(B==="string"){var F=[],W=L.length,U=0,$;for(R=0;R<W;++R)$=L.charCodeAt(R),$<128?F[U++]=$:$<2048?(F[U++]=192|$>>>6,F[U++]=128|$&63):$<55296||$>=57344?(F[U++]=224|$>>>12,F[U++]=128|$>>>6&63,F[U++]=128|$&63):($=65536+(($&1023)<<10|L.charCodeAt(++R)&1023),F[U++]=240|$>>>18,F[U++]=128|$>>>12&63,F[U++]=128|$>>>6&63,F[U++]=128|$&63);L=F}else if(B==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);L.length>64&&(L=new q(z,!0).update(L).array());var ee=[],Z=[];for(R=0;R<64;++R){var le=L[R]||0;ee[R]=92^le,Z[R]=54^le}q.call(this,z,P),this.update(Z),this.oKeyPad=ee,this.inner=!0,this.sharedMemory=P}j.prototype=new q,j.prototype.finalize=function(){if(q.prototype.finalize.call(this),this.inner){this.inner=!1;var L=this.array();q.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(L),q.prototype.finalize.call(this)}};var D=N();D.sha256=D,D.sha224=N(!0),D.sha256.hmac=T(),D.sha224.hmac=T(!0),o?t.exports=D:(r.sha256=D.sha256,r.sha224=D.sha224)})()}(I_)),I_.exports}var PS=AV();const jV=PS.sha224,tP=({index:t,key:e,fallback:n})=>t[jV(e)]?.value??t[e]?.value??n??e,PV=({index:t,key:e,fallback:n})=>tP({index:t,key:e,fallback:n}),FV=({index:t,key:e,fallback:n})=>tP({index:t,key:e,fallback:n}),Dl={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>PV({index:Dl.index,key:t,fallback:e}),rich:(t,e)=>FV({index:Dl.index,key:t,fallback:e})};function Ol(t){return typeof t>"u"||t===void 0}function Rs(t){return typeof t=="string"}function Xv(t){return typeof t=="number"}function Ly(t){return typeof t=="boolean"}function tN(t){return t===null}function DV(t){return t instanceof Date}function nN(t){return typeof t=="bigint"}function js(t){return typeof t=="function"}function Bo(t){return typeof t=="object"&&t!==null}function Q(t){return Object.freeze(t)}function Sg(t){return Pa(t)?t:[t]}function Pa(t){return Array.isArray(t)}function ql(t){return t}const Qn=Q({is(t){return t.kind==="AlterTableNode"},create(t){return Q({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return Q({...t,...e})},cloneWithColumnAlteration(t,e){return Q({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),fr=Q({is(t){return t.kind==="IdentifierNode"},create(t){return Q({kind:"IdentifierNode",name:t})}}),Sa=Q({is(t){return t.kind==="CreateIndexNode"},create(t){return Q({kind:"CreateIndexNode",name:fr.create(t)})},cloneWith(t,e){return Q({...t,...e})},cloneWithColumns(t,e){return Q({...t,columns:[...t.columns||[],...e]})}}),nP=Q({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return Q({kind:"CreateSchemaNode",schema:fr.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),LV=["preserve rows","delete rows","drop"],bs=Q({is(t){return t.kind==="CreateTableNode"},create(t){return Q({kind:"CreateTableNode",table:t,columns:Q([])})},cloneWithColumn(t,e){return Q({...t,columns:Q([...t.columns,e])})},cloneWithConstraint(t,e){return Q({...t,constraints:t.constraints?Q([...t.constraints,e]):Q([e])})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):Q([e])})},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):Q([e])})},cloneWith(t,e){return Q({...t,...e})}}),Ll=Q({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return Q({kind:"SchemableIdentifierNode",identifier:fr.create(t)})},createWithSchema(t,e){return Q({kind:"SchemableIdentifierNode",schema:fr.create(t),identifier:fr.create(e)})}}),Ap=Q({is(t){return t.kind==="DropIndexNode"},create(t,e){return Q({kind:"DropIndexNode",name:Ll.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),FS=Q({is(t){return t.kind==="DropSchemaNode"},create(t,e){return Q({kind:"DropSchemaNode",schema:fr.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),DS=Q({is(t){return t.kind==="DropTableNode"},create(t,e){return Q({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return Q({...t,...e})}}),Gl=Q({is(t){return t.kind==="AliasNode"},create(t,e){return Q({kind:"AliasNode",node:t,alias:e})}}),Rl=Q({is(t){return t.kind==="TableNode"},create(t){return Q({kind:"TableNode",table:Ll.create(t)})},createWithSchema(t,e){return Q({kind:"TableNode",table:Ll.createWithSchema(t,e)})}});function cs(t){return Bo(t)&&js(t.toOperationNode)}function MV(t){return Bo(t)&&"expressionType"in t&&cs(t)}function $V(t){return Bo(t)&&"expression"in t&&Rs(t.alias)&&cs(t)}const ba=Q({is(t){return t.kind==="SelectModifierNode"},create(t,e){return Q({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return Q({kind:"SelectModifierNode",rawModifier:t})}}),Ml=Q({is(t){return t.kind==="AndNode"},create(t,e){return Q({kind:"AndNode",left:t,right:e})}}),Xd=Q({is(t){return t.kind==="OrNode"},create(t,e){return Q({kind:"OrNode",left:t,right:e})}}),C_=Q({is(t){return t.kind==="OnNode"},create(t){return Q({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return Q({...t,on:e==="And"?Ml.create(t.on,n):Xd.create(t.on,n)})}}),jp=Q({is(t){return t.kind==="JoinNode"},create(t,e){return Q({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return Q({kind:"JoinNode",joinType:t,table:e,on:C_.create(n)})},cloneWithOn(t,e){return Q({...t,on:t.on?C_.cloneWithOperation(t.on,"And",e):C_.create(e)})}}),Cd=Q({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return Q({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),BV=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],zV=["+","-","*","/","%","^","&","|","#","<<",">>"],rP=["->","->>"],WV=[...BV,...zV,"&&","||"],UV=["exists","not exists"],VV=["not","-",...UV],HV=[...WV,...rP,...VV,"between","between symmetric"],$l=Q({is(t){return t.kind==="OperatorNode"},create(t){return Q({kind:"OperatorNode",operator:t})}});function FT(t){return Rs(t)&&rP.includes(t)}const Ar=Q({is(t){return t.kind==="ColumnNode"},create(t){return Q({kind:"ColumnNode",column:fr.create(t)})}}),rN=Q({is(t){return t.kind==="SelectAllNode"},create(){return Q({kind:"SelectAllNode"})}}),eb=Q({is(t){return t.kind==="ReferenceNode"},create(t,e){return Q({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return Q({kind:"ReferenceNode",table:t,column:rN.create()})}});class QV{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return lP(this.#e)}}function iP(t){return Bo(t)&&cs(t)&&Rs(t.dynamicReference)}const LS=Q({is(t){return t.kind==="OrderByItemNode"},create(t,e){return Q({kind:"OrderByItemNode",orderBy:t,direction:e})}}),mi=Q({is(t){return t.kind==="RawNode"},create(t,e){return Q({kind:"RawNode",sqlFragments:Q(t),parameters:Q(e)})},createWithSql(t){return mi.create([t],[])},createWithChild(t){return mi.create(["",""],[t])},createWithChildren(t){return mi.create(new Array(t.length+1).fill(""),t)}});function sP(t){return t==="asc"||t==="desc"}function zh(t){if(t.length===2)return[T_(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>T_(n)):[T_(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function T_(t,e){const n=KV(t);if(LS.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return LS.create(n,oP(e))}function KV(t){if(Qh(t))return nc(t);if(iP(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!sP(n))throw new Error(`Invalid order by direction: ${n}`);return LS.create(Fa(e),oP(n))}return Fa(t)}function oP(t){if(t)return t==="asc"||t==="desc"?mi.createWithSql(t):t.toOperationNode()}const My=Q({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return Q({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return Q({...t,traversal:e})}}),aP=Q({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return Q({kind:"JSONOperatorChainNode",operator:t,values:Q([])})},cloneWithValue(t,e){return Q({...t,values:Q([...t.values,e])})}}),Pp=Q({is(t){return t.kind==="JSONPathNode"},create(t){return Q({kind:"JSONPathNode",inOperator:t,pathLegs:Q([])})},cloneWithLeg(t,e){return Q({...t,pathLegs:Q([...t.pathLegs,e])})}});function lP(t){return Rs(t)?Fa(t):t.toOperationNode()}function Zp(t){return Pa(t)?t.map(e=>ks(e)):[ks(t)]}function ks(t){return Qh(t)?nc(t):lP(t)}function GV(t,e){const n=Fa(t);if(FT(e))return My.create(n,aP.create($l.create(e)));const r=e.slice(0,-1);if(FT(r))return My.create(n,Pp.create($l.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function Fa(t){const e=".";if(!t.includes(e))return eb.create(Ar.create(t));const n=t.split(e).map(iN);if(n.length===3)return JV(n);if(n.length===2)return YV(n);throw new Error(`invalid column reference ${t}`)}function ZV(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(iN);return Gl.create(Fa(n),fr.create(r))}else return Fa(t)}function uP(t){return Ar.create(t)}function $y(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(iN);if(!sP(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return zh([n,r])[0]}else return uP(t)}function JV(t){const[e,n,r]=t;return eb.create(Ar.create(r),Rl.createWithSchema(e,n))}function YV(t){const[e,n]=t;return eb.create(Ar.create(n),Rl.create(e))}function iN(t){return t.trim()}const cP=Q({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return Q({kind:"PrimitiveValueListNode",values:Q([...t])})}}),sN=Q({is(t){return t.kind==="ValueListNode"},create(t){return Q({kind:"ValueListNode",values:Q(t)})}}),Zo=Q({is(t){return t.kind==="ValueNode"},create(t){return Q({kind:"ValueNode",value:t})},createImmediate(t){return Q({kind:"ValueNode",value:t,immediate:!0})}});function XV(t){return Pa(t)?e5(t):Lr(t)}function Lr(t){return Qh(t)?nc(t):Zo.create(t)}function oN(t){return Xv(t)||Ly(t)||tN(t)}function aN(t){if(!oN(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Zo.createImmediate(t)}function e5(t){return t.some(Qh)?sN.create(t.map(e=>Lr(e))):cP.create(t)}const Td=Q({is(t){return t.kind==="ParensNode"},create(t){return Q({kind:"ParensNode",node:t})}});function ii(t){if(t.length===3)return lN(t[0],t[1],t[2]);if(t.length===1)return Lr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function lN(t,e,n){return t5(e)&&dP(n)?Cd.create(ks(t),MS(e),Zo.createImmediate(n)):Cd.create(ks(t),MS(e),XV(n))}function Jo(t,e,n){return Cd.create(ks(t),MS(e),ks(n))}function DT(t,e){return By(Object.entries(t).filter(([,n])=>!Ol(n)).map(([n,r])=>lN(n,dP(r)?"is":"=",r)),e)}function By(t,e,n=!0){const r=e==="and"?Ml.create:Xd.create;if(t.length===0)return Cd.create(Zo.createImmediate(1),$l.create("="),Zo.createImmediate(e==="and"?1:0));let i=LT(t[0]);for(let s=1;s<t.length;++s)i=r(i,LT(t[s]));return t.length>1&&n?Td.create(i):i}function t5(t){return t==="is"||t==="is not"}function dP(t){return tN(t)||Ly(t)}function MS(t){if(Rs(t)&&HV.includes(t))return $l.create(t);if(cs(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function LT(t){return cs(t)?t.toOperationNode():t}const Bl=Q({is(t){return t.kind==="OrderByNode"},create(t){return Q({kind:"OrderByNode",items:Q([...t])})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),MT=Q({is(t){return t.kind==="PartitionByNode"},create(t){return Q({kind:"PartitionByNode",items:Q(t)})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),$S=Q({is(t){return t.kind==="OverNode"},create(){return Q({kind:"OverNode"})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Bl.cloneWithItems(t.orderBy,e):Bl.create(e)})},cloneWithPartitionByItems(t,e){return Q({...t,partitionBy:t.partitionBy?MT.cloneWithItems(t.partitionBy,e):MT.create(e)})}}),zy=Q({is(t){return t.kind==="FromNode"},create(t){return Q({kind:"FromNode",froms:Q(t)})},cloneWithFroms(t,e){return Q({...t,froms:Q([...t.froms,...e])})}}),$T=Q({is(t){return t.kind==="GroupByNode"},create(t){return Q({kind:"GroupByNode",items:Q(t)})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),BT=Q({is(t){return t.kind==="HavingNode"},create(t){return Q({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return Q({...t,having:e==="And"?Ml.create(t.having,n):Xd.create(t.having,n)})}}),Hn=Q({is(t){return t.kind==="SelectQueryNode"},create(t){return Q({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return Q({kind:"SelectQueryNode",from:zy.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})},cloneWithDistinctOn(t,e){return Q({...t,distinctOn:t.distinctOn?Q([...t.distinctOn,...e]):Q(e)})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):Q([e])})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Bl.cloneWithItems(t.orderBy,e):Bl.create(e)})},cloneWithGroupByItems(t,e){return Q({...t,groupBy:t.groupBy?$T.cloneWithItems(t.groupBy,e):$T.create(e)})},cloneWithLimit(t,e){return Q({...t,limit:e})},cloneWithOffset(t,e){return Q({...t,offset:e})},cloneWithFetch(t,e){return Q({...t,fetch:e})},cloneWithHaving(t,e){return Q({...t,having:t.having?BT.cloneWithOperation(t.having,"And",e):BT.create(e)})},cloneWithSetOperations(t,e){return Q({...t,setOperations:t.setOperations?Q([...t.setOperations,...e]):Q([...e])})},cloneWithoutSelections(t){return Q({...t,selections:[]})},cloneWithoutLimit(t){return Q({...t,limit:void 0})},cloneWithoutOffset(t){return Q({...t,offset:void 0})},cloneWithoutOrderBy(t){return Q({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return Q({...t,groupBy:void 0})}});function vn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class pd{#e;constructor(e){this.#e=Q(e)}on(...e){return new pd({...this.#e,joinNode:jp.cloneWithOn(this.#e.joinNode,ii(e))})}onRef(e,n,r){return new pd({...this.#e,joinNode:jp.cloneWithOn(this.#e.joinNode,Jo(e,n,r))})}onTrue(){return new pd({...this.#e,joinNode:jp.cloneWithOn(this.#e.joinNode,mi.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}vn(pd,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const n5=Q({is(t){return t.kind==="PartitionByItemNode"},create(t){return Q({kind:"PartitionByItemNode",partitionBy:t})}});function r5(t){return Zp(t).map(n5.create)}class Jp{#e;constructor(e){this.#e=Q(e)}orderBy(e,n){return new Jp({overNode:$S.cloneWithOrderByItems(this.#e.overNode,zh([e,n]))})}partitionBy(e){return new Jp({overNode:$S.cloneWithPartitionByItems(this.#e.overNode,r5(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}vn(Jp,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Fp=Q({is(t){return t.kind==="SelectionNode"},create(t){return Q({kind:"SelectionNode",selection:t})},createSelectAll(){return Q({kind:"SelectionNode",selection:rN.create()})},createSelectAllFromTable(t){return Q({kind:"SelectionNode",selection:eb.createSelectAll(t)})}});function Io(t){return js(t)?Io(t(tf())):Pa(t)?t.map(e=>zT(e)):[zT(t)]}function zT(t){return Rs(t)?Fp.create(ZV(t)):iP(t)?Fp.create(t.toOperationNode()):Fp.create(EP(t))}function Yo(t){return t?Array.isArray(t)?t.map(WT):[WT(t)]:[Fp.createSelectAll()]}function WT(t){if(Rs(t))return Fp.createSelectAllFromTable(Or(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const i5=Q({is(t){return t.kind==="ValuesNode"},create(t){return Q({kind:"ValuesNode",values:Q(t)})}}),s5=Q({is(t){return t.kind==="DefaultInsertValueNode"},create(){return Q({kind:"DefaultInsertValueNode"})}});function fP(t){const e=js(t)?t(tf()):t,n=Pa(e)?e:Q([e]);return o5(n)}function o5(t){const e=a5(t);return[Q([...e.keys()].map(Ar.create)),i5.create(t.map(n=>l5(n,e)))]}function a5(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function l5(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const o of n){const l=e.get(o);if(Ol(l))continue;const c=t[o];(Ol(c)||Qh(c))&&(i=!0),r[l]=c}if(n.length<e.size||i){const o=s5.create();return sN.create(r.map(l=>Ol(l)?o:Lr(l)))}return cP.create(r)}const _s=Q({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return Q({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return Q({kind:"InsertQueryNode"})},cloneWith(t,e){return Q({...t,...e})}}),hd=Q({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return Q({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return Q({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return Q({...t,from:t.from?zy.cloneWithFroms(t.from,e):zy.create(e)})},cloneWithUpdates(t,e){return Q({...t,updates:t.updates?Q([...t.updates,...e]):e})},cloneWithLimit(t,e){return Q({...t,limit:e})}}),UT=Q({is(t){return t.kind==="UsingNode"},create(t){return Q({kind:"UsingNode",tables:Q(t)})},cloneWithTables(t,e){return Q({...t,tables:Q([...t.tables,...e])})}}),ku=Q({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return Q({kind:"DeleteQueryNode",from:zy.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Bl.cloneWithItems(t.orderBy,e):Bl.create(e)})},cloneWithoutOrderBy(t){return Q({...t,orderBy:void 0})},cloneWithLimit(t,e){return Q({...t,limit:e})},cloneWithoutLimit(t){return Q({...t,limit:void 0})},cloneWithUsing(t,e){return Q({...t,using:t.using!==void 0?UT.cloneWithTables(t.using,e):UT.create(e)})}}),is=Q({is(t){return t.kind==="WhereNode"},create(t){return Q({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return Q({...t,where:e==="And"?Ml.create(t.where,n):Xd.create(t.where,n)})}}),VT=Q({is(t){return t.kind==="ReturningNode"},create(t){return Q({kind:"ReturningNode",selections:Q(t)})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})}}),u5=Q({is(t){return t.kind==="ExplainNode"},create(t,e){return Q({kind:"ExplainNode",format:t,options:e})}}),Wh=Q({is(t){return t.kind==="WhenNode"},create(t){return Q({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return Q({...t,result:e})}}),ss=Q({is(t){return t.kind==="MergeQueryNode"},create(t,e){return Q({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return Q({...t,using:e})},cloneWithWhen(t,e){return Q({...t,whens:t.whens?Q([...t.whens,e]):Q([e])})},cloneWithThen(t,e){return Q({...t,whens:t.whens?Q([...t.whens.slice(0,-1),Wh.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),HT=Q({is(t){return t.kind==="OutputNode"},create(t){return Q({kind:"OutputNode",selections:Q(t)})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})}}),jt=Q({is(t){return Hn.is(t)||_s.is(t)||hd.is(t)||ku.is(t)||ss.is(t)},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):Q([e])})},cloneWithWhere(t,e){return Q({...t,where:t.where?is.cloneWithOperation(t.where,"And",e):is.create(e)})},cloneWithJoin(t,e){return Q({...t,joins:t.joins?Q([...t.joins,e]):Q([e])})},cloneWithReturning(t,e){return Q({...t,returning:t.returning?VT.cloneWithSelections(t.returning,e):VT.create(e)})},cloneWithoutReturning(t){return Q({...t,returning:void 0})},cloneWithoutWhere(t){return Q({...t,where:void 0})},cloneWithExplain(t,e,n){return Q({...t,explain:u5.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return Q({...t,top:e})},cloneWithOutput(t,e){return Q({...t,output:t.output?HT.cloneWithSelections(t.output,e):HT.create(e)})}}),pP=Q({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return Q({kind:"ColumnUpdateNode",column:t,value:e})}});function c5(...t){return t.length===2?[pP.create(ks(t[0]),Lr(t[1]))]:uN(t[0])}function uN(t){const e=js(t)?t(tf()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>pP.create(Ar.create(n),Lr(r)))}const d5=Q({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return Q({kind:"OnDuplicateKeyNode",updates:t})}});class f5{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class Uh extends Error{node;constructor(e){super("no result"),this.node=e}}function Vh(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const xs=Q({is(t){return t.kind==="OnConflictNode"},create(){return Q({kind:"OnConflictNode"})},cloneWith(t,e){return Q({...t,...e})},cloneWithIndexWhere(t,e){return Q({...t,indexWhere:t.indexWhere?is.cloneWithOperation(t.indexWhere,"And",e):is.create(e)})},cloneWithIndexOrWhere(t,e){return Q({...t,indexWhere:t.indexWhere?is.cloneWithOperation(t.indexWhere,"Or",e):is.create(e)})},cloneWithUpdateWhere(t,e){return Q({...t,updateWhere:t.updateWhere?is.cloneWithOperation(t.updateWhere,"And",e):is.create(e)})},cloneWithUpdateOrWhere(t,e){return Q({...t,updateWhere:t.updateWhere?is.cloneWithOperation(t.updateWhere,"Or",e):is.create(e)})},cloneWithoutIndexWhere(t){return Q({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return Q({...t,updateWhere:void 0})}});class $o{#e;constructor(e){this.#e=Q(e)}column(e){const n=Ar.create(e);return new $o({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?Q([...this.#e.onConflictNode.columns,n]):Q([n])})})}columns(e){const n=e.map(Ar.create);return new $o({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?Q([...this.#e.onConflictNode.columns,...n]):Q(n)})})}constraint(e){return new $o({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{constraint:fr.create(e)})})}expression(e){return new $o({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new $o({...this.#e,onConflictNode:xs.cloneWithIndexWhere(this.#e.onConflictNode,ii(e))})}whereRef(e,n,r){return new $o({...this.#e,onConflictNode:xs.cloneWithIndexWhere(this.#e.onConflictNode,Jo(e,n,r))})}clearWhere(){return new $o({...this.#e,onConflictNode:xs.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new hP({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new md({...this.#e,onConflictNode:xs.cloneWith(this.#e.onConflictNode,{updates:uN(e)})})}$call(e){return e(this)}}vn($o,"don't await OnConflictBuilder instances.");class hP{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.onConflictNode}}vn(hP,"don't await OnConflictDoNothingBuilder instances.");class md{#e;constructor(e){this.#e=Q(e)}where(...e){return new md({...this.#e,onConflictNode:xs.cloneWithUpdateWhere(this.#e.onConflictNode,ii(e))})}whereRef(e,n,r){return new md({...this.#e,onConflictNode:xs.cloneWithUpdateWhere(this.#e.onConflictNode,Jo(e,n,r))})}clearWhere(){return new md({...this.#e,onConflictNode:xs.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}vn(md,"don't await OnConflictUpdateBuilder instances.");const p5=Q({is(t){return t.kind==="TopNode"},create(t,e){return Q({kind:"TopNode",expression:t,modifiers:e})}});function ef(t,e){if(!Xv(t)&&!nN(t))throw new Error(`Invalid top expression: ${t}`);if(!Ol(e)&&!h5(e))throw new Error(`Invalid top modifiers: ${e}`);return p5.create(t,e)}function h5(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class ur{#e;constructor(e){this.#e=Q(e)}values(e){const[n,r]=fP(e);return new ur({...this.#e,queryNode:_s.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new ur({...this.#e,queryNode:_s.cloneWith(this.#e.queryNode,{columns:Q(e.map(Ar.create))})})}expression(e){return new ur({...this.#e,queryNode:_s.cloneWith(this.#e.queryNode,{values:nc(e)})})}defaultValues(){return new ur({...this.#e,queryNode:_s.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new ur({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new ur({...this.#e,queryNode:_s.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new ur({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}onConflict(e){return new ur({...this.#e,queryNode:_s.cloneWith(this.#e.queryNode,{onConflict:e(new $o({onConflictNode:xs.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new ur({...this.#e,queryNode:_s.cloneWith(this.#e.queryNode,{onDuplicateKey:d5.create(uN(e))})})}returning(e){return new ur({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Io(e))})}returningAll(){return new ur({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Yo())})}output(e){return new ur({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new ur({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Yo(e))})}clearReturning(){return new ur({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new ur({...this.#e})}$castTo(){return new ur(this.#e)}$narrowType(){return new ur(this.#e)}$assertType(){return new ur(this.#e)}withPlugin(e){return new ur({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new f5(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Uh){const n=await this.executeTakeFirst();if(n===void 0)throw Vh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new ur({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}vn(ur,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class m5{numDeletedRows;constructor(e){this.numDeletedRows=e}}const cN=Q({is(t){return t.kind==="LimitNode"},create(t){return Q({kind:"LimitNode",limit:t})}});class Vn{#e;constructor(e){this.#e=Q(e)}where(...e){return new Vn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ii(e))})}whereRef(e,n,r){return new Vn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Jo(e,n,r))})}clearWhere(){return new Vn({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Vn({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}using(e){return new Vn({...this.#e,queryNode:ku.cloneWithUsing(this.#e.queryNode,eh(e))})}innerJoin(...e){return new Vn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("InnerJoin",e))})}leftJoin(...e){return new Vn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("LeftJoin",e))})}rightJoin(...e){return new Vn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("RightJoin",e))})}fullJoin(...e){return new Vn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("FullJoin",e))})}returning(e){return new Vn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Io(e))})}returningAll(e){return new Vn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Yo(e))})}output(e){return new Vn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new Vn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Yo(e))})}clearReturning(){return new Vn({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Vn({...this.#e,queryNode:ku.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Vn({...this.#e,queryNode:ku.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Vn({...this.#e,queryNode:ku.cloneWithOrderByItems(this.#e.queryNode,zh([e,n]))})}limit(e){return new Vn({...this.#e,queryNode:ku.cloneWithLimit(this.#e.queryNode,cN.create(Lr(e)))})}modifyEnd(e){return new Vn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Vn({...this.#e})}$castTo(){return new Vn(this.#e)}$narrowType(){return new Vn(this.#e)}$assertType(){return new Vn(this.#e)}withPlugin(e){return new Vn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new m5(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Uh){const n=await this.executeTakeFirst();if(n===void 0)throw Vh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Vn({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}vn(Vn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class g5{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class Zn{#e;constructor(e){this.#e=Q(e)}where(...e){return new Zn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ii(e))})}whereRef(e,n,r){return new Zn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Jo(e,n,r))})}clearWhere(){return new Zn({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Zn({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}from(e){return new Zn({...this.#e,queryNode:hd.cloneWithFromItems(this.#e.queryNode,eh(e))})}innerJoin(...e){return new Zn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("InnerJoin",e))})}leftJoin(...e){return new Zn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("LeftJoin",e))})}rightJoin(...e){return new Zn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("RightJoin",e))})}fullJoin(...e){return new Zn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("FullJoin",e))})}limit(e){return new Zn({...this.#e,queryNode:hd.cloneWithLimit(this.#e.queryNode,cN.create(Lr(e)))})}set(...e){return new Zn({...this.#e,queryNode:hd.cloneWithUpdates(this.#e.queryNode,c5(...e))})}returning(e){return new Zn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Io(e))})}returningAll(e){return new Zn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Yo(e))})}output(e){return new Zn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new Zn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Yo(e))})}modifyEnd(e){return new Zn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Zn({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Zn({...this.#e})}$castTo(){return new Zn(this.#e)}$narrowType(){return new Zn(this.#e)}$assertType(){return new Zn(this.#e)}withPlugin(e){return new Zn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new g5(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Uh){const n=await this.executeTakeFirst();if(n===void 0)throw Vh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Zn({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}vn(Zn,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const QT=Q({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return Q({kind:"CommonTableExpressionNameNode",table:Rl.create(t),columns:e?Q(e.map(Ar.create)):void 0})}}),Wy=Q({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return Q({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return Q({...t,...e})}});class Yp{#e;constructor(e){this.#e=Q(e)}materialized(){return new Yp({...this.#e,node:Wy.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new Yp({...this.#e,node:Wy.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}vn(Yp,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function KT(t,e){const n=e(C5()).toOperationNode();return js(t)?t(y5(n)).toOperationNode():Wy.create(mP(t),n)}function y5(t){return e=>new Yp({node:Wy.create(mP(e),t)})}function mP(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return QT.create(n,r)}else return QT.create(t)}const Eg=Q({is(t){return t.kind==="WithNode"},create(t,e){return Q({kind:"WithNode",expressions:Q([t]),...e})},cloneWithExpression(t,e){return Q({...t,expressions:Q([...t.expressions,e])})}}),GT=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function v5(t){let e="";for(let n=0;n<t;++n)e+=b5();return e}function b5(){return GT[~~(Math.random()*GT.length)]}function Kn(){return new x5}class x5{#e;get queryId(){return this.#e===void 0&&(this.#e=v5(8)),this.#e}}class gP{nodeStack=[];#e=Q({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),Q(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&Q(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:Q([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const w5=Q({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class _5 extends gP{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const s of n)this.#n.add(s);const r=this.#i(e);for(const s of r)this.#t.add(s);const i=super.transformNodeImpl(e);for(const s of r)this.#t.delete(s);for(const s of n)this.#n.delete(s);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:fr.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:Rl.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in w5}#i(e){const n=new Set;if("name"in e&&e.name&&Ll.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#u(e.with,n),n}#o(e,n){const r=Rl.is(e)?e:Gl.is(e)&&Rl.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#u(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class Hh{#e;constructor(e){this.#e=new _5(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const S5=Q({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return Q({kind:"MatchedNode",not:t,bySource:e})}});function ZT(t,e,n){return Wh.create(By([S5.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?Jo(e[0],e[1],e[2]):ii(e)]:[]],"and",!1))}function Dp(t){return Rs(t)?mi.create([t],[]):cs(t)?t.toOperationNode():t}class JT{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const YT=new Set;function E5(t){YT.has(t)||(YT.add(t),console.log(t))}const N5=Q([]);class yP{#e;constructor(e=N5){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await this.#t(i,n);return k5(i,s),s})}async *stream(e,n,r){const i=new JT,s=new JT;this.provideConnection(async l=>(i.resolve(l),await s.promise)).catch(l=>i.reject(l));const o=await i.promise;try{for await(const l of o.streamQuery(e,n))yield await this.#t(l,r)}finally{s.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function k5(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||E5("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Xc extends yP{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Xc([...this.plugins,e])}withPlugins(e){return new Xc([...this.plugins,...e])}withPluginAtFront(e){return new Xc([e,...this.plugins])}withoutPlugins(){return new Xc([])}}const tb=new Xc;class I5{numChangedRows;constructor(e){this.numChangedRows=e}}class ju{#e;constructor(e){this.#e=Q(e)}modifyEnd(e){return new ju({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new ju({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}using(...e){return new Is({...this.#e,queryNode:ss.cloneWithUsing(this.#e.queryNode,Ti("Using",e))})}output(e){return new ju({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new ju({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Yo(e))})}}vn(ju,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Is{#e;constructor(e){this.#e=Q(e)}modifyEnd(e){return new Is({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Is({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new BS({...this.#e,queryNode:ss.cloneWithWhen(this.#e.queryNode,ZT({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new Is({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new Is({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Yo(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:ss.cloneWithWhen(this.#e.queryNode,ZT({isMatched:!1,bySource:r},e,n))},s=r?BS:vP;return new s(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new Is({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new I5(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Uh){const n=await this.executeTakeFirst();if(n===void 0)throw Vh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}vn(Is,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class BS{#e;constructor(e){this.#e=Q(e)}thenDelete(){return new Is({...this.#e,queryNode:ss.cloneWithThen(this.#e.queryNode,Dp("delete"))})}thenDoNothing(){return new Is({...this.#e,queryNode:ss.cloneWithThen(this.#e.queryNode,Dp("do nothing"))})}thenUpdate(e){return new Is({...this.#e,queryNode:ss.cloneWithThen(this.#e.queryNode,Dp(e(new Zn({queryId:this.#e.queryId,executor:tb,queryNode:hd.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}vn(BS,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class vP{#e;constructor(e){this.#e=Q(e)}thenDoNothing(){return new Is({...this.#e,queryNode:ss.cloneWithThen(this.#e.queryNode,Dp("do nothing"))})}thenInsertValues(e){const[n,r]=fP(e);return new Is({...this.#e,queryNode:ss.cloneWithThen(this.#e.queryNode,Dp(_s.cloneWith(_s.createWithoutInto(),{columns:n,values:r})))})}}vn(vP,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class _l{#e;constructor(e){this.#e=Q(e)}selectFrom(e){return zS({queryId:Kn(),executor:this.#e.executor,queryNode:Hn.createFrom(eh(e),this.#e.withNode)})}selectNoFrom(e){return zS({queryId:Kn(),executor:this.#e.executor,queryNode:Hn.cloneWithSelections(Hn.create(this.#e.withNode),Io(e))})}insertInto(e){return new ur({queryId:Kn(),executor:this.#e.executor,queryNode:_s.create(Or(e),this.#e.withNode)})}replaceInto(e){return new ur({queryId:Kn(),executor:this.#e.executor,queryNode:_s.create(Or(e),this.#e.withNode,!0)})}deleteFrom(e){return new Vn({queryId:Kn(),executor:this.#e.executor,queryNode:ku.create(eh(e),this.#e.withNode)})}updateTable(e){return new Zn({queryId:Kn(),executor:this.#e.executor,queryNode:hd.create(th(e),this.#e.withNode)})}mergeInto(e){return new ju({queryId:Kn(),executor:this.#e.executor,queryNode:ss.create(NP(e),this.#e.withNode)})}with(e,n){const r=KT(e,n);return new _l({...this.#e,withNode:this.#e.withNode?Eg.cloneWithExpression(this.#e.withNode,r):Eg.create(r)})}withRecursive(e,n){const r=KT(e,n);return new _l({...this.#e,withNode:this.#e.withNode?Eg.cloneWithExpression(this.#e.withNode,r):Eg.create(r,{recursive:!0})})}withPlugin(e){return new _l({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new _l({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new _l({...this.#e,executor:this.#e.executor.withPluginAtFront(new Hh(e))})}}function C5(){return new _l({executor:tb})}function T5(t,e){return new pd({joinNode:jp.create(t,th(e))})}function O5(){return new Jp({overNode:$S.create()})}function Ti(t,e){if(e.length===3)return R5(t,e[0],e[1],e[2]);if(e.length===2)return q5(t,e[0],e[1]);throw new Error("not implemented")}function q5(t,e,n){return n(T5(t,e)).toOperationNode()}function R5(t,e,n,r){return jp.createWithOn(t,th(e),Jo(n,"=",r))}const A5=Q({is(t){return t.kind==="OffsetNode"},create(t){return Q({kind:"OffsetNode",offset:t})}}),j5=Q({is(t){return t.kind==="GroupByItemNode"},create(t){return Q({kind:"GroupByItemNode",groupBy:t})}});function P5(t){return t=js(t)?t(tf()):t,Zp(t).map(j5.create)}const bP=Q({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return Q({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function zc(t,e,n){return js(e)&&(e=e(fN())),Pa(e)||(e=[e]),e.map(r=>bP.create(t,nc(r),n))}class Jn{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new dN(this,e)}or(...e){return new Uy(Xd.create(this.#e,ii(e)))}and(...e){return new Vy(Ml.create(this.#e,ii(e)))}$castTo(){return new Jn(this.#e)}$notNull(){return new Jn(this.#e)}toOperationNode(){return this.#e}}class dN{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Gl.create(this.#e.toOperationNode(),cs(this.#t)?this.#t.toOperationNode():fr.create(this.#t))}}class Uy{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new dN(this,e)}or(...e){return new Uy(Xd.create(this.#e,ii(e)))}$castTo(){return new Uy(this.#e)}toOperationNode(){return Td.create(this.#e)}}class Vy{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new dN(this,e)}and(...e){return new Vy(Ml.create(this.#e,ii(e)))}$castTo(){return new Vy(this.#e)}toOperationNode(){return Td.create(this.#e)}}const F5={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Zo.create(t),modifier:e}}};function D5(t,e){if(!Xv(t)&&!nN(t))throw new Error(`Invalid fetch row count: ${t}`);if(!L5(e))throw new Error(`Invalid fetch modifier: ${e}`);return F5.create(t,e)}function L5(t){return t==="only"||t==="with ties"}class tn{#e;constructor(e){this.#e=Q(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new tn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ii(e))})}whereRef(e,n,r){return new tn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Jo(e,n,r))})}having(...e){return new tn({...this.#e,queryNode:Hn.cloneWithHaving(this.#e.queryNode,ii(e))})}havingRef(e,n,r){return new tn({...this.#e,queryNode:Hn.cloneWithHaving(this.#e.queryNode,Jo(e,n,r))})}select(e){return new tn({...this.#e,queryNode:Hn.cloneWithSelections(this.#e.queryNode,Io(e))})}distinctOn(e){return new tn({...this.#e,queryNode:Hn.cloneWithDistinctOn(this.#e.queryNode,Zp(e))})}modifyFront(e){return new tn({...this.#e,queryNode:Hn.cloneWithFrontModifier(this.#e.queryNode,ba.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,ba.createWithExpression(e.toOperationNode()))})}distinct(){return new tn({...this.#e,queryNode:Hn.cloneWithFrontModifier(this.#e.queryNode,ba.create("Distinct"))})}forUpdate(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,ba.create("ForUpdate",e?Sg(e).map(Or):void 0))})}forShare(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,ba.create("ForShare",e?Sg(e).map(Or):void 0))})}forKeyShare(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,ba.create("ForKeyShare",e?Sg(e).map(Or):void 0))})}forNoKeyUpdate(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,ba.create("ForNoKeyUpdate",e?Sg(e).map(Or):void 0))})}skipLocked(){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,ba.create("SkipLocked"))})}noWait(){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,ba.create("NoWait"))})}selectAll(e){return new tn({...this.#e,queryNode:Hn.cloneWithSelections(this.#e.queryNode,Yo(e))})}innerJoin(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("InnerJoin",e))})}leftJoin(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("LeftJoin",e))})}rightJoin(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("RightJoin",e))})}fullJoin(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("FullJoin",e))})}innerJoinLateral(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("LateralInnerJoin",e))})}leftJoinLateral(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ti("LateralLeftJoin",e))})}orderBy(...e){return new tn({...this.#e,queryNode:Hn.cloneWithOrderByItems(this.#e.queryNode,zh(e))})}groupBy(e){return new tn({...this.#e,queryNode:Hn.cloneWithGroupByItems(this.#e.queryNode,P5(e))})}limit(e){return new tn({...this.#e,queryNode:Hn.cloneWithLimit(this.#e.queryNode,cN.create(Lr(e)))})}offset(e){return new tn({...this.#e,queryNode:Hn.cloneWithOffset(this.#e.queryNode,A5.create(Lr(e)))})}fetch(e,n="only"){return new tn({...this.#e,queryNode:Hn.cloneWithFetch(this.#e.queryNode,D5(e,n))})}top(e,n){return new tn({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}union(e){return new tn({...this.#e,queryNode:Hn.cloneWithSetOperations(this.#e.queryNode,zc("union",e,!1))})}unionAll(e){return new tn({...this.#e,queryNode:Hn.cloneWithSetOperations(this.#e.queryNode,zc("union",e,!0))})}intersect(e){return new tn({...this.#e,queryNode:Hn.cloneWithSetOperations(this.#e.queryNode,zc("intersect",e,!1))})}intersectAll(e){return new tn({...this.#e,queryNode:Hn.cloneWithSetOperations(this.#e.queryNode,zc("intersect",e,!0))})}except(e){return new tn({...this.#e,queryNode:Hn.cloneWithSetOperations(this.#e.queryNode,zc("except",e,!1))})}exceptAll(e){return new tn({...this.#e,queryNode:Hn.cloneWithSetOperations(this.#e.queryNode,zc("except",e,!0))})}as(e){return new xP(this,e)}clearSelect(){return new tn({...this.#e,queryNode:Hn.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new tn({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new tn({...this.#e,queryNode:Hn.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new tn({...this.#e,queryNode:Hn.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new tn({...this.#e,queryNode:Hn.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new tn({...this.#e,queryNode:Hn.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new tn({...this.#e})}$castTo(){return new tn(this.#e)}$narrowType(){return new tn(this.#e)}$assertType(){return new tn(this.#e)}$asTuple(){return new Jn(this.toOperationNode())}withPlugin(e){return new tn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Uh){const n=await this.executeTakeFirst();if(n===void 0)throw Vh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new tn({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}vn(tn,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function zS(t){return new tn(t)}class xP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Gl.create(this.#e.toOperationNode(),fr.create(this.#t))}}vn(xP,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Sl=Q({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return Q({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return Q({...t,distinct:!0})},cloneWithOrderBy(t,e){return Q({...t,orderBy:t.orderBy?Bl.cloneWithItems(t.orderBy,e):Bl.create(e)})},cloneWithFilter(t,e){return Q({...t,filter:t.filter?is.cloneWithOperation(t.filter,"And",e):is.create(e)})},cloneWithOrFilter(t,e){return Q({...t,filter:t.filter?is.cloneWithOperation(t.filter,"Or",e):is.create(e)})},cloneWithOver(t,e){return Q({...t,over:e})}}),XT=Q({is(t){return t.kind==="FunctionNode"},create(t,e){return Q({kind:"FunctionNode",func:t,arguments:e})}});class Zs{#e;constructor(e){this.#e=Q(e)}get expressionType(){}as(e){return new M5(this,e)}distinct(){return new Zs({...this.#e,aggregateFunctionNode:Sl.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new Zs({...this.#e,aggregateFunctionNode:Sl.cloneWithOrderBy(this.#e.aggregateFunctionNode,zh([e,n]))})}filterWhere(...e){return new Zs({...this.#e,aggregateFunctionNode:Sl.cloneWithFilter(this.#e.aggregateFunctionNode,ii(e))})}filterWhereRef(e,n,r){return new Zs({...this.#e,aggregateFunctionNode:Sl.cloneWithFilter(this.#e.aggregateFunctionNode,Jo(e,n,r))})}over(e){const n=O5();return new Zs({...this.#e,aggregateFunctionNode:Sl.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Zs(this.#e)}$notNull(){return new Zs(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}vn(Zs,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class M5{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Gl.create(this.#e.toOperationNode(),fr.create(this.#t))}}function wP(){const t=(n,r)=>new Jn(XT.create(n,Zp(r??[]))),e=(n,r)=>new Zs({aggregateFunctionNode:Sl.create(n,r?Zp(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new Zs({aggregateFunctionNode:Sl.create("count",Yo(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new Zs({aggregateFunctionNode:Sl.create("json_agg",[Rs(n)?Or(n):n.toOperationNode()])})},toJson(n){return new Jn(XT.create("to_json",[Rs(n)?Or(n):n.toOperationNode()]))}})}const $5=Q({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return Q({kind:"UnaryOperationNode",operator:t,operand:e})}});function B5(t,e){return $5.create($l.create(t),ks(e))}const Wo=Q({is(t){return t.kind==="CaseNode"},create(t){return Q({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return Q({...t,when:Q(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return Q({...t,when:t.when?Q([...t.when.slice(0,-1),Wh.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return Q({...t,...e})}});class _P{#e;constructor(e){this.#e=Q(e)}when(...e){return new SP({...this.#e,node:Wo.cloneWithWhen(this.#e.node,Wh.create(ii(e)))})}}class SP{#e;constructor(e){this.#e=Q(e)}then(e){return new z5({...this.#e,node:Wo.cloneWithThen(this.#e.node,oN(e)?aN(e):Lr(e))})}}class z5{#e;constructor(e){this.#e=Q(e)}when(...e){return new SP({...this.#e,node:Wo.cloneWithWhen(this.#e.node,Wh.create(ii(e)))})}else(e){return new W5({...this.#e,node:Wo.cloneWith(this.#e.node,{else:oN(e)?aN(e):Lr(e)})})}end(){return new Jn(Wo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Jn(Wo.cloneWith(this.#e.node,{isStatement:!0}))}}class W5{#e;constructor(e){this.#e=Q(e)}end(){return new Jn(Wo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Jn(Wo.cloneWith(this.#e.node,{isStatement:!0}))}}const eO=Q({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return Q({kind:"JSONPathLegNode",type:t,value:e})}});class WS{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return My.is(this.#e)?new Xp(My.cloneWithTraversal(this.#e,Pp.is(this.#e.traversal)?Pp.cloneWithLeg(this.#e.traversal,eO.create(e,n)):aP.cloneWithValue(this.#e.traversal,Zo.createImmediate(n)))):new Xp(Pp.cloneWithLeg(this.#e,eO.create(e,n)))}}class Xp extends WS{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new U5(this,e)}$castTo(){return new Xp(this.#e)}$notNull(){return new Xp(this.#e)}toOperationNode(){return this.#e}}class U5{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Gl.create(this.#e.toOperationNode(),cs(this.#t)?this.#t.toOperationNode():fr.create(this.#t))}}const tO=Q({is(t){return t.kind==="TupleNode"},create(t){return Q({kind:"TupleNode",values:Q(t)})}}),V5=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],H5=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],Q5=Q({is(t){return t.kind==="DataTypeNode"},create(t){return Q({kind:"DataTypeNode",dataType:t})}});function K5(t){return!!(V5.includes(t)||H5.some(e=>e.test(t)))}function Vu(t){if(cs(t))return t.toOperationNode();if(K5(t))return Q5.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const G5=Q({is(t){return t.kind==="CastNode"},create(t,e){return Q({kind:"CastNode",expression:t,dataType:e})}});function fN(t=tb){function e(i,s,o){return new Jn(lN(i,s,o))}function n(i,s){return new Jn(B5(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return zS({queryId:Kn(),executor:t,queryNode:Hn.createFrom(eh(i))})},case(i){return new _P({node:Wo.create(Ol(i)?void 0:ks(i))})},ref(i,s){return Ol(s)?new Jn(Fa(i)):new WS(GV(i,s))},jsonPath(){return new WS(Pp.create())},table(i){return new Jn(Or(i))},val(i){return new Jn(Lr(i))},refTuple(...i){return new Jn(tO.create(i.map(ks)))},tuple(...i){return new Jn(tO.create(i.map(Lr)))},lit(i){return new Jn(aN(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new Jn(Cd.create(ks(i),$l.create("between"),Ml.create(Lr(s),Lr(o))))},betweenSymmetric(i,s,o){return new Jn(Cd.create(ks(i),$l.create("between symmetric"),Ml.create(Lr(s),Lr(o))))},and(i){return Pa(i)?new Jn(By(i,"and")):new Jn(DT(i,"and"))},or(i){return Pa(i)?new Jn(By(i,"or")):new Jn(DT(i,"or"))},parens(...i){const s=ii(i);return Td.is(s)?new Jn(s):new Jn(Td.create(s))},cast(i,s){return new Jn(G5.create(ks(i),Vu(s)))},withSchema(i){return fN(t.withPluginAtFront(new Hh(i)))}});return r.fn=wP(),r.eb=r,r}function tf(t){return fN()}function nc(t){if(cs(t))return t.toOperationNode();if(js(t))return t(tf()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function EP(t){if(cs(t))return t.toOperationNode();if(js(t))return t(tf()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Qh(t){return MV(t)||$V(t)||js(t)}function eh(t){return Pa(t)?t.map(e=>th(e)):[th(t)]}function th(t){return Rs(t)?NP(t):EP(t)}function NP(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(kP);return Gl.create(Or(n),fr.create(r))}else return Or(t)}function Or(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(kP);return Rl.createWithSchema(n,r)}else return Rl.create(t)}function kP(t){return t.trim()}const IP=Q({is(t){return t.kind==="AddColumnNode"},create(t){return Q({kind:"AddColumnNode",column:t})}}),cr=Q({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return Q({kind:"ColumnDefinitionNode",column:Ar.create(t),dataType:e})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):[e]})},cloneWith(t,e){return Q({...t,...e})}}),CP=Q({is(t){return t.kind==="DropColumnNode"},create(t){return Q({kind:"DropColumnNode",column:Ar.create(t)})}}),TP=Q({is(t){return t.kind==="RenameColumnNode"},create(t,e){return Q({kind:"RenameColumnNode",column:Ar.create(t),renameTo:Ar.create(e)})}}),pN=Q({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return Q({kind:"CheckConstraintNode",expression:t,name:e?fr.create(e):void 0})}}),Z5=["no action","restrict","cascade","set null","set default"],sy=Q({is(t){return t.kind==="ReferencesNode"},create(t,e){return Q({kind:"ReferencesNode",table:t,columns:Q([...e])})},cloneWithOnDelete(t,e){return Q({...t,onDelete:e})},cloneWithOnUpdate(t,e){return Q({...t,onUpdate:e})}});function OP(t){return cs(t)?t.toOperationNode():Zo.createImmediate(t)}const Ng=Q({is(t){return t.kind==="GeneratedNode"},create(t){return Q({kind:"GeneratedNode",...t})},createWithExpression(t){return Q({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return Q({...t,...e})}}),J5=Q({is(t){return t.kind==="DefaultValueNode"},create(t){return Q({kind:"DefaultValueNode",defaultValue:t})}});function Hy(t){if(Z5.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class tr{#e;constructor(e){this.#e=e}autoIncrement(){return new tr(cr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new tr(cr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new tr(cr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=Fa(e);if(!n.table||rN.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new tr(cr.cloneWith(this.#e,{references:sy.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new tr(cr.cloneWith(this.#e,{references:sy.cloneWithOnDelete(this.#e.references,Hy(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new tr(cr.cloneWith(this.#e,{references:sy.cloneWithOnUpdate(this.#e.references,Hy(e))}))}unique(){return new tr(cr.cloneWith(this.#e,{unique:!0}))}notNull(){return new tr(cr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new tr(cr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new tr(cr.cloneWith(this.#e,{defaultTo:J5.create(OP(e))}))}check(e){return new tr(cr.cloneWith(this.#e,{check:pN.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new tr(cr.cloneWith(this.#e,{generated:Ng.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new tr(cr.cloneWith(this.#e,{generated:Ng.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new tr(cr.cloneWith(this.#e,{generated:Ng.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new tr(cr.cloneWith(this.#e,{generated:Ng.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new tr(cr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new tr(cr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new tr(cr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new tr(cr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}vn(tr,"don't await ColumnDefinitionBuilder instances directly.");const qP=Q({is(t){return t.kind==="ModifyColumnNode"},create(t){return Q({kind:"ModifyColumnNode",column:t})}}),Qy=Q({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return Q({kind:"ForeignKeyConstraintNode",columns:t,references:sy.create(e,n),name:r?fr.create(r):void 0})},cloneWith(t,e){return Q({...t,...e})}});class Od{#e;constructor(e){this.#e=e}onDelete(e){return new Od(Qy.cloneWith(this.#e,{onDelete:Hy(e)}))}onUpdate(e){return new Od(Qy.cloneWith(this.#e,{onUpdate:Hy(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}vn(Od,"don't await ForeignKeyConstraintBuilder instances directly.");const oy=Q({is(t){return t.kind==="AddConstraintNode"},create(t){return Q({kind:"AddConstraintNode",constraint:t})}}),hN=Q({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return Q({kind:"UniqueConstraintNode",columns:Q(t.map(Ar.create)),name:e?fr.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return Q({...t,...e})}}),ay=Q({is(t){return t.kind==="DropConstraintNode"},create(t){return Q({kind:"DropConstraintNode",constraintName:fr.create(t)})},cloneWith(t,e){return Q({...t,...e})}}),np=Q({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return Q({kind:"AlterColumnNode",column:Ar.create(t),[e]:n})}});class mN{#e;constructor(e){this.#e=e}setDataType(e){return new Gc(np.create(this.#e,"dataType",Vu(e)))}setDefault(e){return new Gc(np.create(this.#e,"setDefault",OP(e)))}dropDefault(){return new Gc(np.create(this.#e,"dropDefault",!0))}setNotNull(){return new Gc(np.create(this.#e,"setNotNull",!0))}dropNotNull(){return new Gc(np.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}vn(mN,"don't await AlterColumnBuilder instances");class Gc{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}vn(Gc,"don't await AlteredColumnBuilder instances");class _u{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(_u,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class nh{#e;constructor(e){this.#e=Q(e)}onDelete(e){return new nh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new nh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Qn.cloneWithTableProps(this.#e.node,{addConstraint:oy.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(nh,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class gd{#e;constructor(e){this.#e=Q(e)}ifExists(){return new gd({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{dropConstraint:ay.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new gd({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{dropConstraint:ay.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new gd({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{dropConstraint:ay.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(gd,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const RP=Q({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return Q({kind:"PrimaryKeyConstraintNode",columns:Q(t.map(Ar.create)),name:e?fr.create(e):void 0})}}),Zc=Q({is(t){return t.kind==="AddIndexNode"},create(t){return Q({kind:"AddIndexNode",name:fr.create(t)})},cloneWith(t,e){return Q({...t,...e})},cloneWithColumns(t,e){return Q({...t,columns:[...t.columns||[],...e]})}});class El{#e;constructor(e){this.#e=Q(e)}unique(){return new El({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new El({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWithColumns(this.#e.node.addIndex,[$y(e)])})})}columns(e){return new El({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWithColumns(this.#e.node.addIndex,e.map($y))})})}expression(e){return new El({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new El({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWith(this.#e.node.addIndex,{using:mi.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(El,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class Kh{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new Kh(hN.cloneWith(this.#e,{nullsNotDistinct:!0}))}}vn(Kh,"don't await UniqueConstraintNodeBuilder instances directly.");class AP{#e;constructor(e){this.#e=Q(e)}renameTo(e){return new _u({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{renameTo:Or(e)})})}setSchema(e){return new _u({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{setSchema:fr.create(e)})})}alterColumn(e,n){const r=n(new mN(e));return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,CP.create(e))})}renameColumn(e,n){return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,TP.create(e,n))})}addColumn(e,n,r=ql){const i=r(new tr(cr.create(e,Vu(n))));return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,IP.create(i.toOperationNode()))})}modifyColumn(e,n,r=ql){const i=r(new tr(cr.create(e,Vu(n))));return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,qP.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=ql){const i=r(new Kh(hN.create(n,e)));return new _u({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addConstraint:oy.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new _u({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addConstraint:oy.create(pN.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new nh({...this.#e,constraintBuilder:new Od(Qy.create(n.map(Ar.create),Or(r),i.map(Ar.create),e))})}addPrimaryKeyConstraint(e,n){return new _u({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addConstraint:oy.create(RP.create(n,e))})})}dropConstraint(e){return new gd({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{dropConstraint:ay.create(e)})})}addIndex(e){return new El({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{addIndex:Zc.create(e)})})}dropIndex(e){return new _u({...this.#e,node:Qn.cloneWithTableProps(this.#e.node,{dropIndex:Ap.create(e)})})}$call(e){return e(this)}}vn(AP,"don't await AlterTableBuilder instances");class Ys{#e;constructor(e){this.#e=Q(e)}alterColumn(e,n){const r=n(new mN(e));return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,CP.create(e))})}renameColumn(e,n){return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,TP.create(e,n))})}addColumn(e,n,r=ql){const i=r(new tr(cr.create(e,Vu(n))));return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,IP.create(i.toOperationNode()))})}modifyColumn(e,n,r=ql){const i=r(new tr(cr.create(e,Vu(n))));return new Ys({...this.#e,node:Qn.cloneWithColumnAlteration(this.#e.node,qP.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Ys,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class jP extends gP{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Ks{#e;constructor(e){this.#e=Q(e)}ifNotExists(){return new Ks({...this.#e,node:Sa.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Ks({...this.#e,node:Sa.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Ks({...this.#e,node:Sa.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Ks({...this.#e,node:Sa.cloneWith(this.#e.node,{table:Or(e)})})}column(e){return new Ks({...this.#e,node:Sa.cloneWithColumns(this.#e.node,[$y(e)])})}columns(e){return new Ks({...this.#e,node:Sa.cloneWithColumns(this.#e.node,e.map($y))})}expression(e){return new Ks({...this.#e,node:Sa.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Ks({...this.#e,node:Sa.cloneWith(this.#e.node,{using:mi.createWithSql(e)})})}where(...e){const n=new jP;return new Ks({...this.#e,node:jt.cloneWithWhere(this.#e.node,n.transformNode(ii(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Ks,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class nb{#e;constructor(e){this.#e=Q(e)}ifNotExists(){return new nb({...this.#e,node:nP.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(nb,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function Y5(t){if(LV.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class ts{#e;constructor(e){this.#e=Q(e)}temporary(){return new ts({...this.#e,node:bs.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new ts({...this.#e,node:bs.cloneWith(this.#e.node,{onCommit:Y5(e)})})}ifNotExists(){return new ts({...this.#e,node:bs.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=ql){const i=r(new tr(cr.create(e,Vu(n))));return new ts({...this.#e,node:bs.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new ts({...this.#e,node:bs.cloneWithConstraint(this.#e.node,RP.create(n,e))})}addUniqueConstraint(e,n,r=ql){const i=r(new Kh(hN.create(n,e)));return new ts({...this.#e,node:bs.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new ts({...this.#e,node:bs.cloneWithConstraint(this.#e.node,pN.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,s=ql){const o=s(new Od(Qy.create(n.map(Ar.create),Or(r),i.map(Ar.create),e)));return new ts({...this.#e,node:bs.cloneWithConstraint(this.#e.node,o.toOperationNode())})}modifyFront(e){return new ts({...this.#e,node:bs.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new ts({...this.#e,node:bs.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new ts({...this.#e,node:bs.cloneWith(this.#e.node,{selectQuery:nc(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(ts,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class yd{#e;constructor(e){this.#e=Q(e)}on(e){return new yd({...this.#e,node:Ap.cloneWith(this.#e.node,{table:Or(e)})})}ifExists(){return new yd({...this.#e,node:Ap.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new yd({...this.#e,node:Ap.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(yd,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class rh{#e;constructor(e){this.#e=Q(e)}ifExists(){return new rh({...this.#e,node:FS.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new rh({...this.#e,node:FS.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(rh,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class ih{#e;constructor(e){this.#e=Q(e)}ifExists(){return new ih({...this.#e,node:DS.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new ih({...this.#e,node:DS.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(ih,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const vl=Q({is(t){return t.kind==="CreateViewNode"},create(t){return Q({kind:"CreateViewNode",name:Ll.create(t)})},cloneWith(t,e){return Q({...t,...e})}});class X5{#e=new jP;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Ia{#e;constructor(e){this.#e=Q(e)}temporary(){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{columns:e.map(uP)})})}as(e){const n=e.withPlugin(new X5).toOperationNode();return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Ia,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const ly=Q({is(t){return t.kind==="DropViewNode"},create(t){return Q({kind:"DropViewNode",name:Ll.create(t)})},cloneWith(t,e){return Q({...t,...e})}});class vd{#e;constructor(e){this.#e=Q(e)}materialized(){return new vd({...this.#e,node:ly.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new vd({...this.#e,node:ly.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new vd({...this.#e,node:ly.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(vd,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const PP=Q({is(t){return t.kind==="CreateTypeNode"},create(t){return Q({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return Q({...t,enum:sN.create(e.map(n=>Zo.createImmediate(n)))})}});class rb{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new rb({...this.#e,node:PP.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(rb,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const FP=Q({is(t){return t.kind==="DropTypeNode"},create(t){return Q({kind:"DropTypeNode",name:t})},cloneWith(t,e){return Q({...t,...e})}});class ib{#e;constructor(e){this.#e=Q(e)}ifExists(){return new ib({...this.#e,node:FP.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(ib,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function nO(t){const e=".";if(t.includes(e)){const n=t.split(e).map(e8);if(n.length===2)return Ll.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return Ll.create(t)}function e8(t){return t.trim()}class Lp{#e;constructor(e){this.#e=e}createTable(e){return new ts({queryId:Kn(),executor:this.#e,node:bs.create(Or(e))})}dropTable(e){return new ih({queryId:Kn(),executor:this.#e,node:DS.create(Or(e))})}createIndex(e){return new Ks({queryId:Kn(),executor:this.#e,node:Sa.create(e)})}dropIndex(e){return new yd({queryId:Kn(),executor:this.#e,node:Ap.create(e)})}createSchema(e){return new nb({queryId:Kn(),executor:this.#e,node:nP.create(e)})}dropSchema(e){return new rh({queryId:Kn(),executor:this.#e,node:FS.create(e)})}alterTable(e){return new AP({queryId:Kn(),executor:this.#e,node:Qn.create(Or(e))})}createView(e){return new Ia({queryId:Kn(),executor:this.#e,node:vl.create(e)})}dropView(e){return new vd({queryId:Kn(),executor:this.#e,node:ly.create(e)})}createType(e){return new rb({queryId:Kn(),executor:this.#e,node:PP.create(nO(e))})}dropType(e){return new ib({queryId:Kn(),executor:this.#e,node:FP.create(nO(e))})}withPlugin(e){return new Lp(this.#e.withPlugin(e))}withoutPlugins(){return new Lp(this.#e.withoutPlugins())}withSchema(e){return new Lp(this.#e.withPluginAtFront(new Hh(e)))}}class t8{ref(e){return new QV(e)}}class n8{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class Iu extends yP{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new Iu(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new Iu(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new Iu(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new Iu(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Iu(this.#e,this.#t,this.#n,[])}}function rO(){return typeof performance<"u"&&js(performance.now)?performance.now():Date.now()}class r8{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const s=rO();try{return await n.call(e,r)}catch(o){throw i=o,await this.#u(o,r,s),o}finally{i||await this.#l(r,s)}}}async #u(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#c(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(n)}))}#c(e){return rO()-e}}const i8=()=>{};class DP{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(i8);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const s8=["read uncommitted","read committed","repeatable read","serializable","snapshot"];Q(["query","error"]);class o8{#e;#t;constructor(e){js(e)?(this.#t=e,this.#e=Q({query:!0,error:!0})):(this.#t=a8,this.#e=Q({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function a8(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function l8(t){return Bo(t)&&js(t.compile)}let gN=class mp extends _l{#e;constructor(e){let n,r;if(u8(e))n={executor:e.executor},r={...e};else{const i=e.dialect,s=i.createDriver(),o=i.createQueryCompiler(),l=i.createAdapter(),c=new o8(e.log??[]),d=new r8(s,c),f=new n8(d),p=new Iu(o,l,f,e.plugins??[]);n={executor:p},r={config:e,executor:p,dialect:i,driver:d}}super(n),this.#e=Q(r)}get schema(){return new Lp(this.#e.executor)}get dynamic(){return new t8}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new _P({node:Wo.create(Ol(e)?void 0:nc(e))})}get fn(){return wP()}transaction(){return new sb({...this.#e})}connection(){return new LP({...this.#e})}withPlugin(e){return new mp({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new mp({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new mp({...this.#e,executor:this.#e.executor.withPluginAtFront(new Hh(e))})}withTables(){return new mp({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=Kn()){const r=l8(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}};class ed extends gN{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new ed({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new ed({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new ed({...this.#e,executor:this.#e.executor.withPluginAtFront(new Hh(e))})}withTables(){return new ed({...this.#e})}}function u8(t){return Bo(t)&&Bo(t.config)&&Bo(t.driver)&&Bo(t.executor)&&Bo(t.dialect)}class LP{#e;constructor(e){this.#e=Q(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new DP(n)),i=new gN({...this.#e,executor:r});return await e(i)})}}vn(LP,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class sb{#e;constructor(e){this.#e=Q(e)}setIsolationLevel(e){return new sb({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return c8(i),this.#e.executor.provideConnection(async s=>{const o=this.#e.executor.withConnectionProvider(new DP(s)),l=new ed({...r,executor:o});try{await this.#e.driver.beginTransaction(s,i);const c=await e(l);return await this.#e.driver.commitTransaction(s),c}catch(c){throw await this.#e.driver.rollbackTransaction(s),c}})}}vn(sb,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function c8(t){if(t.isolationLevel&&!s8.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class bd{#e;constructor(e){this.#e=Q(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new MP(this,e)}$castTo(){return new bd({...this.#e})}$notNull(){return new bd(this.#e)}withPlugin(e){return new bd({...this.#e,plugins:this.#e.plugins!==void 0?Q([...this.#e.plugins,e]):Q([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():tb;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function fl(t){return new bd(t)}vn(bd,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class MP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return Gl.create(this.#e.toOperationNode(),cs(this.#t)?this.#t.toOperationNode():fr.create(this.#t))}}vn(MP,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const $r=Object.assign((t,...e)=>fl({queryId:Kn(),rawNode:mi.create(t,e?.map(iO)??[])}),{ref(t){return fl({queryId:Kn(),rawNode:mi.createWithChild(Fa(t))})},val(t){return fl({queryId:Kn(),rawNode:mi.createWithChild(Lr(t))})},value(t){return this.val(t)},table(t){return fl({queryId:Kn(),rawNode:mi.createWithChild(Or(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",fl({queryId:Kn(),rawNode:mi.create(e,t.map(fr.create))})},lit(t){return fl({queryId:Kn(),rawNode:mi.createWithChild(Zo.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return fl({queryId:Kn(),rawNode:mi.createWithSql(t)})},join(t,e=$r`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=iO(t[i]),i!==t.length-1&&(n[2*i+1]=r);return fl({queryId:Kn(),rawNode:mi.createWithChildren(n)})}});function iO(t){return cs(t)?t.toOperationNode():Lr(t)}class d8{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=Q({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class f8 extends d8{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),Q({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!Td.is(this.parentNode)&&!_s.is(this.parentNode)&&!bs.is(this.parentNode)&&!vl.is(this.parentNode)&&!bP.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(jt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!ss.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!ss.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(jt.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!Rs(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(h8[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(jt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!ss.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!ss.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),Ly(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(p8[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return $l.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const s of e)i+=s,s===n?i+=n:s===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(Rs(e))this.append(`'${e}'`);else if(Xv(e)||Ly(e))this.append(e.toString());else if(tN(e))this.append("null");else if(DV(e))this.appendImmediateValue(e.toISOString());else if(nN(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?sO[n.modifier]-sO[r.modifier]:1),Q(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const p8=Q({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),sO=Q({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),h8=Q({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class m8{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const g8=/"/g;class y8 extends f8{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(g8,'""')}visitDefaultInsertValue(e){this.append("null")}}const v8="kysely_migration",b8="kysely_migration_lock";Q({__noMigrations__:!0});class x8{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",v8).where("name","!=",b8));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(o=>o.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),s=await n.selectFrom($r`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:s.map(o=>({name:o.name,dataType:o.type,isNullable:!o.notnull,isAutoIncrementing:o.name===i,hasDefaultValue:o.dflt_value!=null,comment:void 0}))}}}class w8 extends m8{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const ka={jsonObject(t){const e=$r.join(Object.entries(t).map(([n,r])=>$r`${n}, ${r}`));return $r`json_object(${e})`},jsonGroupArray(t){return $r`json_group_array(${ka.jsonObject(t)})`}},$P={hash(t){return PS.sha224(t)},verify(t,e){return PS.sha224(t)===e}};var kn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(kn||(kn={}));var US;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(US||(US={}));const At=kn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ca=t=>{switch(typeof t){case"undefined":return At.undefined;case"string":return At.string;case"number":return isNaN(t)?At.nan:At.number;case"boolean":return At.boolean;case"function":return At.function;case"bigint":return At.bigint;case"symbol":return At.symbol;case"object":return Array.isArray(t)?At.array:t===null?At.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?At.promise:typeof Map<"u"&&t instanceof Map?At.map:typeof Set<"u"&&t instanceof Set?At.set:typeof Date<"u"&&t instanceof Date?At.date:At.object;default:return At.unknown}},yt=kn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_8=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class qs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof qs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,kn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qs.create=t=>new qs(t);const qd=(t,e)=>{let n;switch(t.code){case yt.invalid_type:t.received===At.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,kn.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${kn.joinValues(t.keys,", ")}`;break;case yt.invalid_union:n="Invalid input";break;case yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${kn.joinValues(t.options)}`;break;case yt.invalid_enum_value:n=`Invalid enum value. Expected ${kn.joinValues(t.options)}, received '${t.received}'`;break;case yt.invalid_arguments:n="Invalid function arguments";break;case yt.invalid_return_type:n="Invalid function return type";break;case yt.invalid_date:n="Invalid date";break;case yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:kn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case yt.custom:n="Invalid input";break;case yt.invalid_intersection_types:n="Intersection results could not be merged";break;case yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,kn.assertNever(t)}return{message:n}};let BP=qd;function S8(t){BP=t}function Ky(){return BP}const Gy=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},E8=[];function It(t,e){const n=Ky(),r=Gy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qd?void 0:qd].filter(i=>!!i)});t.common.issues.push(r)}class vi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return rn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return vi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return rn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const rn=Object.freeze({status:"aborted"}),td=t=>({status:"dirty",value:t}),Pi=t=>({status:"valid",value:t}),VS=t=>t.status==="aborted",HS=t=>t.status==="dirty",Hu=t=>t.status==="valid",sh=t=>typeof Promise<"u"&&t instanceof Promise;function Zy(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function zP(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Vt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Vt||(Vt={}));var gp,yp;class Xo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const oO=(t,e)=>{if(Hu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qs(t.common.issues);return this._error=n,this._error}}};function mn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,d;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class xn{get description(){return this._def.description}_getType(e){return Ca(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ca(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vi,ctx:{common:e.parent.common,data:e.data,parsedType:Ca(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(sh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ca(e)},s=this._parseSync({data:e,path:i.path,parent:i});return oO(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ca(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Hu(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Hu(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ca(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await (sh(i)?i:Promise.resolve(i));return oO(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Co({schema:this,typeName:nn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Vo.create(this,this._def)}nullable(){return Vl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return No.create(this)}promise(){return Ad.create(this,this._def)}or(e){return uh.create([this,e],this._def)}and(e){return ch.create(this,e,this._def)}transform(e){return new Co({...mn(this._def),schema:this,typeName:nn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new mh({...mn(this._def),innerType:this,defaultValue:n,typeName:nn.ZodDefault})}brand(){return new yN({typeName:nn.ZodBranded,type:this,...mn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new gh({...mn(this._def),innerType:this,catchValue:n,typeName:nn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Gh.create(this,e)}readonly(){return yh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const N8=/^c[^\s-]{8,}$/i,k8=/^[0-9a-z]+$/,I8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,C8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,T8=/^[a-z0-9_-]{21}$/i,O8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,q8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,R8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let O_;const j8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,P8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,F8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,D8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,L8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,M8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,WP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$8=new RegExp(`^${WP}$`);function UP(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function B8(t){return new RegExp(`^${UP(t)}$`)}function VP(t){let e=`${WP}T${UP(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function z8(t,e){return!!((e==="v4"||!e)&&j8.test(t)||(e==="v6"||!e)&&F8.test(t))}function W8(t,e){if(!O8.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function U8(t,e){return!!((e==="v4"||!e)&&P8.test(t)||(e==="v6"||!e)&&D8.test(t))}class So extends xn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==At.string){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.string,received:s.parsedType}),rn}const r=new vi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")R8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"email",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")O_||(O_=new RegExp(A8,"u")),O_.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")C8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")T8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"nanoid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")N8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")k8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")I8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),It(i,{validation:"url",code:yt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"regex",code:yt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?VP(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?$8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?B8(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?q8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"duration",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?z8(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ip",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?W8(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"jwt",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?U8(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cidr",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?L8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?M8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64url",code:yt.invalid_string,message:s.message}),r.dirty()):kn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:yt.invalid_string,...Vt.errToObj(r)})}_addCheck(e){return new So({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Vt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Vt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Vt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Vt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Vt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Vt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Vt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Vt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Vt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Vt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Vt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Vt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Vt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Vt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Vt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Vt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Vt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Vt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Vt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Vt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Vt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Vt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Vt.errToObj(n)})}nonempty(e){return this.min(1,Vt.errToObj(e))}trim(){return new So({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new So({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new So({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}So.create=t=>{var e;return new So({checks:[],typeName:nn.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...mn(t)})};function V8(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class zl extends xn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==At.number){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.number,received:s.parsedType}),rn}let r;const i=new vi;for(const s of this._def.checks)s.kind==="int"?kn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?V8(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_finite,message:s.message}),i.dirty()):kn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Vt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Vt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Vt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Vt.toString(n))}setLimit(e,n,r,i){return new zl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Vt.toString(i)}]})}_addCheck(e){return new zl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Vt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Vt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Vt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Vt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Vt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&kn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}zl.create=t=>new zl({checks:[],typeName:nn.ZodNumber,coerce:t?.coerce||!1,...mn(t)});class Wl extends xn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==At.bigint)return this._getInvalidInput(e);let r;const i=new vi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):kn.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:At.bigint,received:n.parsedType}),rn}gte(e,n){return this.setLimit("min",e,!0,Vt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Vt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Vt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Vt.toString(n))}setLimit(e,n,r,i){return new Wl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Vt.toString(i)}]})}_addCheck(e){return new Wl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wl.create=t=>{var e;return new Wl({checks:[],typeName:nn.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...mn(t)})};class oh extends xn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==At.boolean){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.boolean,received:r.parsedType}),rn}return Pi(e.data)}}oh.create=t=>new oh({typeName:nn.ZodBoolean,coerce:t?.coerce||!1,...mn(t)});class Qu extends xn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==At.date){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.date,received:s.parsedType}),rn}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_date}),rn}const r=new vi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):kn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Qu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Vt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Vt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Qu.create=t=>new Qu({checks:[],coerce:t?.coerce||!1,typeName:nn.ZodDate,...mn(t)});class Jy extends xn{_parse(e){if(this._getType(e)!==At.symbol){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.symbol,received:r.parsedType}),rn}return Pi(e.data)}}Jy.create=t=>new Jy({typeName:nn.ZodSymbol,...mn(t)});class ah extends xn{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.undefined,received:r.parsedType}),rn}return Pi(e.data)}}ah.create=t=>new ah({typeName:nn.ZodUndefined,...mn(t)});class lh extends xn{_parse(e){if(this._getType(e)!==At.null){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.null,received:r.parsedType}),rn}return Pi(e.data)}}lh.create=t=>new lh({typeName:nn.ZodNull,...mn(t)});class Rd extends xn{constructor(){super(...arguments),this._any=!0}_parse(e){return Pi(e.data)}}Rd.create=t=>new Rd({typeName:nn.ZodAny,...mn(t)});class Mu extends xn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Pi(e.data)}}Mu.create=t=>new Mu({typeName:nn.ZodUnknown,...mn(t)});class Da extends xn{_parse(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:At.never,received:n.parsedType}),rn}}Da.create=t=>new Da({typeName:nn.ZodNever,...mn(t)});class Yy extends xn{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.void,received:r.parsedType}),rn}return Pi(e.data)}}Yy.create=t=>new Yy({typeName:nn.ZodVoid,...mn(t)});class No extends xn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==At.array)return It(n,{code:yt.invalid_type,expected:At.array,received:n.parsedType}),rn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(It(n,{code:o?yt.too_big:yt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(It(n,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(It(n,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Xo(n,o,n.path,l)))).then(o=>vi.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new Xo(n,o,n.path,l)));return vi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new No({...this._def,minLength:{value:e,message:Vt.toString(n)}})}max(e,n){return new No({...this._def,maxLength:{value:e,message:Vt.toString(n)}})}length(e,n){return new No({...this._def,exactLength:{value:e,message:Vt.toString(n)}})}nonempty(e){return this.min(1,e)}}No.create=(t,e)=>new No({type:t,minLength:null,maxLength:null,exactLength:null,typeName:nn.ZodArray,...mn(e)});function Jc(t){if(t instanceof xr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Vo.create(Jc(r))}return new xr({...t._def,shape:()=>e})}else return t instanceof No?new No({...t._def,type:Jc(t.element)}):t instanceof Vo?Vo.create(Jc(t.unwrap())):t instanceof Vl?Vl.create(Jc(t.unwrap())):t instanceof ea?ea.create(t.items.map(e=>Jc(e))):t}class xr extends xn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=kn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==At.object){const d=this._getOrReturnCtx(e);return It(d,{code:yt.invalid_type,expected:At.object,received:d.parsedType}),rn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Da&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=s[d],p=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Xo(i,p,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Da){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(It(i,{code:yt.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const p=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Xo(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const p=await f.key,b=await f.value;d.push({key:p,value:b,alwaysSet:f.alwaysSet})}return d}).then(d=>vi.mergeObjectSync(r,d)):vi.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Vt.errToObj,new xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Vt.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new xr({...this._def,unknownKeys:"strip"})}passthrough(){return new xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xr({...this._def,catchall:e})}pick(e){const n={};return kn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new xr({...this._def,shape:()=>n})}omit(e){const n={};return kn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new xr({...this._def,shape:()=>n})}deepPartial(){return Jc(this)}partial(e){const n={};return kn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new xr({...this._def,shape:()=>n})}required(e){const n={};return kn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Vo;)s=s._def.innerType;n[r]=s}}),new xr({...this._def,shape:()=>n})}keyof(){return HP(kn.objectKeys(this.shape))}}xr.create=(t,e)=>new xr({shape:()=>t,unknownKeys:"strip",catchall:Da.create(),typeName:nn.ZodObject,...mn(e)});xr.strictCreate=(t,e)=>new xr({shape:()=>t,unknownKeys:"strict",catchall:Da.create(),typeName:nn.ZodObject,...mn(e)});xr.lazycreate=(t,e)=>new xr({shape:t,unknownKeys:"strip",catchall:Da.create(),typeName:nn.ZodObject,...mn(e)});class uh extends xn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new qs(l.ctx.common.issues));return It(n,{code:yt.invalid_union,unionErrors:o}),rn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new qs(c));return It(n,{code:yt.invalid_union,unionErrors:l}),rn}}get options(){return this._def.options}}uh.create=(t,e)=>new uh({options:t,typeName:nn.ZodUnion,...mn(e)});const Ea=t=>t instanceof fh?Ea(t.schema):t instanceof Co?Ea(t.innerType()):t instanceof ph?[t.value]:t instanceof Ul?t.options:t instanceof hh?kn.objectValues(t.enum):t instanceof mh?Ea(t._def.innerType):t instanceof ah?[void 0]:t instanceof lh?[null]:t instanceof Vo?[void 0,...Ea(t.unwrap())]:t instanceof Vl?[null,...Ea(t.unwrap())]:t instanceof yN||t instanceof yh?Ea(t.unwrap()):t instanceof gh?Ea(t._def.innerType):[];class ob extends xn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.object)return It(n,{code:yt.invalid_type,expected:At.object,received:n.parsedType}),rn;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(It(n,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),rn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Ea(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new ob({typeName:nn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...mn(r)})}}function QS(t,e){const n=Ca(t),r=Ca(e);if(t===e)return{valid:!0,data:t};if(n===At.object&&r===At.object){const i=kn.objectKeys(e),s=kn.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=QS(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===At.array&&r===At.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=QS(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===At.date&&r===At.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ch extends xn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(VS(s)||VS(o))return rn;const l=QS(s.value,o.value);return l.valid?((HS(s)||HS(o))&&n.dirty(),{status:n.value,value:l.data}):(It(r,{code:yt.invalid_intersection_types}),rn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ch.create=(t,e,n)=>new ch({left:t,right:e,typeName:nn.ZodIntersection,...mn(n)});class ea extends xn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.array)return It(r,{code:yt.invalid_type,expected:At.array,received:r.parsedType}),rn;if(r.data.length<this._def.items.length)return It(r,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rn;!this._def.rest&&r.data.length>this._def.items.length&&(It(r,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Xo(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>vi.mergeArray(n,o)):vi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ea({...this._def,rest:e})}}ea.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ea({items:t,typeName:nn.ZodTuple,rest:null,...mn(e)})};class dh extends xn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.object)return It(r,{code:yt.invalid_type,expected:At.object,received:r.parsedType}),rn;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new Xo(r,l,r.path,l)),value:o._parse(new Xo(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?vi.mergeObjectAsync(n,i):vi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof xn?new dh({keyType:e,valueType:n,typeName:nn.ZodRecord,...mn(r)}):new dh({keyType:So.create(),valueType:e,typeName:nn.ZodRecord,...mn(n)})}}class Xy extends xn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.map)return It(r,{code:yt.invalid_type,expected:At.map,received:r.parsedType}),rn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Xo(r,l,r.path,[d,"key"])),value:s._parse(new Xo(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return rn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return rn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}Xy.create=(t,e,n)=>new Xy({valueType:e,keyType:t,typeName:nn.ZodMap,...mn(n)});class Ku extends xn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.set)return It(r,{code:yt.invalid_type,expected:At.set,received:r.parsedType}),rn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(It(r,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(It(r,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return rn;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>s._parse(new Xo(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Ku({...this._def,minSize:{value:e,message:Vt.toString(n)}})}max(e,n){return new Ku({...this._def,maxSize:{value:e,message:Vt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ku.create=(t,e)=>new Ku({valueType:t,minSize:null,maxSize:null,typeName:nn.ZodSet,...mn(e)});class xd extends xn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.function)return It(n,{code:yt.invalid_type,expected:At.function,received:n.parsedType}),rn;function r(l,c){return Gy({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ky(),qd].filter(d=>!!d),issueData:{code:yt.invalid_arguments,argumentsError:c}})}function i(l,c){return Gy({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ky(),qd].filter(d=>!!d),issueData:{code:yt.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ad){const l=this;return Pi(async function(...c){const d=new qs([]),f=await l._def.args.parseAsync(c,s).catch(x=>{throw d.addIssue(r(c,x)),d}),p=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(p,s).catch(x=>{throw d.addIssue(i(p,x)),d})})}else{const l=this;return Pi(function(...c){const d=l._def.args.safeParse(c,s);if(!d.success)throw new qs([r(c,d.error)]);const f=Reflect.apply(o,this,d.data),p=l._def.returns.safeParse(f,s);if(!p.success)throw new qs([i(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xd({...this._def,args:ea.create(e).rest(Mu.create())})}returns(e){return new xd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new xd({args:e||ea.create([]).rest(Mu.create()),returns:n||Mu.create(),typeName:nn.ZodFunction,...mn(r)})}}class fh extends xn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}fh.create=(t,e)=>new fh({getter:t,typeName:nn.ZodLazy,...mn(e)});class ph extends xn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return It(n,{received:n.data,code:yt.invalid_literal,expected:this._def.value}),rn}return{status:"valid",value:e.data}}get value(){return this._def.value}}ph.create=(t,e)=>new ph({value:t,typeName:nn.ZodLiteral,...mn(e)});function HP(t,e){return new Ul({values:t,typeName:nn.ZodEnum,...mn(e)})}class Ul extends xn{constructor(){super(...arguments),gp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{expected:kn.joinValues(r),received:n.parsedType,code:yt.invalid_type}),rn}if(Zy(this,gp)||zP(this,gp,new Set(this._def.values)),!Zy(this,gp).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{received:n.data,code:yt.invalid_enum_value,options:r}),rn}return Pi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ul.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ul.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}gp=new WeakMap;Ul.create=HP;class hh extends xn{constructor(){super(...arguments),yp.set(this,void 0)}_parse(e){const n=kn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==At.string&&r.parsedType!==At.number){const i=kn.objectValues(n);return It(r,{expected:kn.joinValues(i),received:r.parsedType,code:yt.invalid_type}),rn}if(Zy(this,yp)||zP(this,yp,new Set(kn.getValidEnumValues(this._def.values))),!Zy(this,yp).has(e.data)){const i=kn.objectValues(n);return It(r,{received:r.data,code:yt.invalid_enum_value,options:i}),rn}return Pi(e.data)}get enum(){return this._def.values}}yp=new WeakMap;hh.create=(t,e)=>new hh({values:t,typeName:nn.ZodNativeEnum,...mn(e)});class Ad extends xn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.promise&&n.common.async===!1)return It(n,{code:yt.invalid_type,expected:At.promise,received:n.parsedType}),rn;const r=n.parsedType===At.promise?n.data:Promise.resolve(n.data);return Pi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ad.create=(t,e)=>new Ad({type:t,typeName:nn.ZodPromise,...mn(e)});class Co extends xn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{It(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return rn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?rn:c.status==="dirty"||n.value==="dirty"?td(c.value):c});{if(n.value==="aborted")return rn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?rn:l.status==="dirty"||n.value==="dirty"?td(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?rn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?rn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Hu(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Hu(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);kn.assertNever(i)}}Co.create=(t,e,n)=>new Co({schema:t,typeName:nn.ZodEffects,effect:e,...mn(n)});Co.createWithPreprocess=(t,e,n)=>new Co({schema:e,effect:{type:"preprocess",transform:t},typeName:nn.ZodEffects,...mn(n)});class Vo extends xn{_parse(e){return this._getType(e)===At.undefined?Pi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vo.create=(t,e)=>new Vo({innerType:t,typeName:nn.ZodOptional,...mn(e)});class Vl extends xn{_parse(e){return this._getType(e)===At.null?Pi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vl.create=(t,e)=>new Vl({innerType:t,typeName:nn.ZodNullable,...mn(e)});class mh extends xn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===At.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}mh.create=(t,e)=>new mh({innerType:t,typeName:nn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...mn(e)});class gh extends xn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return sh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}gh.create=(t,e)=>new gh({innerType:t,typeName:nn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...mn(e)});class ev extends xn{_parse(e){if(this._getType(e)!==At.nan){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.nan,received:r.parsedType}),rn}return{status:"valid",value:e.data}}}ev.create=t=>new ev({typeName:nn.ZodNaN,...mn(t)});const H8=Symbol("zod_brand");class yN extends xn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Gh extends xn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?rn:s.status==="dirty"?(n.dirty(),td(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?rn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Gh({in:e,out:n,typeName:nn.ZodPipeline})}}class yh extends xn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Hu(i)&&(i.value=Object.freeze(i.value)),i);return sh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}yh.create=(t,e)=>new yh({innerType:t,typeName:nn.ZodReadonly,...mn(e)});function QP(t,e={},n){return t?Rd.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...d,fatal:c})}}):Rd.create()}const Q8={object:xr.lazycreate};var nn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(nn||(nn={}));const K8=(t,e={message:`Input not instance of ${t.name}`})=>QP(n=>n instanceof t,e),KP=So.create,GP=zl.create,G8=ev.create,Z8=Wl.create,ZP=oh.create,J8=Qu.create,Y8=Jy.create,X8=ah.create,eH=lh.create,tH=Rd.create,nH=Mu.create,rH=Da.create,iH=Yy.create,sH=No.create,oH=xr.create,aH=xr.strictCreate,lH=uh.create,uH=ob.create,cH=ch.create,dH=ea.create,fH=dh.create,pH=Xy.create,hH=Ku.create,mH=xd.create,gH=fh.create,yH=ph.create,vH=Ul.create,bH=hh.create,xH=Ad.create,aO=Co.create,wH=Vo.create,_H=Vl.create,SH=Co.createWithPreprocess,EH=Gh.create,NH=()=>KP().optional(),kH=()=>GP().optional(),IH=()=>ZP().optional(),CH={string:t=>So.create({...t,coerce:!0}),number:t=>zl.create({...t,coerce:!0}),boolean:t=>oh.create({...t,coerce:!0}),bigint:t=>Wl.create({...t,coerce:!0}),date:t=>Qu.create({...t,coerce:!0})},TH=rn;var X=Object.freeze({__proto__:null,defaultErrorMap:qd,setErrorMap:S8,getErrorMap:Ky,makeIssue:Gy,EMPTY_PATH:E8,addIssueToContext:It,ParseStatus:vi,INVALID:rn,DIRTY:td,OK:Pi,isAborted:VS,isDirty:HS,isValid:Hu,isAsync:sh,get util(){return kn},get objectUtil(){return US},ZodParsedType:At,getParsedType:Ca,ZodType:xn,datetimeRegex:VP,ZodString:So,ZodNumber:zl,ZodBigInt:Wl,ZodBoolean:oh,ZodDate:Qu,ZodSymbol:Jy,ZodUndefined:ah,ZodNull:lh,ZodAny:Rd,ZodUnknown:Mu,ZodNever:Da,ZodVoid:Yy,ZodArray:No,ZodObject:xr,ZodUnion:uh,ZodDiscriminatedUnion:ob,ZodIntersection:ch,ZodTuple:ea,ZodRecord:dh,ZodMap:Xy,ZodSet:Ku,ZodFunction:xd,ZodLazy:fh,ZodLiteral:ph,ZodEnum:Ul,ZodNativeEnum:hh,ZodPromise:Ad,ZodEffects:Co,ZodTransformer:Co,ZodOptional:Vo,ZodNullable:Vl,ZodDefault:mh,ZodCatch:gh,ZodNaN:ev,BRAND:H8,ZodBranded:yN,ZodPipeline:Gh,ZodReadonly:yh,custom:QP,Schema:xn,ZodSchema:xn,late:Q8,get ZodFirstPartyTypeKind(){return nn},coerce:CH,any:tH,array:sH,bigint:Z8,boolean:ZP,date:J8,discriminatedUnion:uH,effect:aO,enum:vH,function:mH,instanceof:K8,intersection:cH,lazy:gH,literal:yH,map:pH,nan:G8,nativeEnum:bH,never:rH,null:eH,nullable:_H,number:GP,object:oH,oboolean:IH,onumber:kH,optional:wH,ostring:NH,pipeline:EH,preprocess:SH,promise:xH,record:fH,set:hH,strictObject:aH,string:KP,symbol:Y8,transformer:aO,tuple:dH,undefined:X8,union:lH,unknown:nH,void:iH,NEVER:TH,ZodIssueCode:yt,quotelessJson:_8,ZodError:qs});const OH=X.object({page:X.number().gte(0,"Page must be greater than zero"),size:X.number().gte(1,"Page size must be greater than one to get any data")}),Fi=X.object({id:X.string().min(1)}),vN=X.object({message:X.string()}),ds=X.object({id:X.string().optional(),idIn:X.array(X.string()).optional(),fulltext:X.string().optional()}),qH=X.enum(["asc","desc"]),Ss=()=>X.union([X.boolean(),X.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),Hl=()=>X.union([X.number().nonnegative(),X.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t))]),wd=()=>X.union([X.number().int().nonnegative(),X.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t))]),ri=t=>X.string().transform(e=>JSON.parse(e)).refine(e=>Array.isArray(e)).transform(e=>X.array(t).parse(e)),RH=t=>X.string().transform(e=>JSON.parse(e)).transform(e=>t.parse(e)),KS=new Proxy(()=>KS,{get:()=>KS}),fs=({entity:t,shape:e,filter:n,sort:r})=>{const i=KS();return{entity:t,"~entity":i,"~entity-array":[],"~entity-partial-exclude-id":i,shape:e,"~shape":i,"~shape-partial":i,filter:n,"~filter":i,sort:X.array(X.object({name:X.enum(r),sort:qH})),"~sort":i,"~sort-keyof":i}},pl=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),AH=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:pl(1,i),start:[],end:[]};const o=Math.max(t-n,r),l=Math.min(t+n,i-r),c=o>r+2,d=l<i-(r+1);return!c&&d?{type:"end",page:t,total:e,start:[],pages:pl(1,n*2+r+2),end:pl(e-(r-1),i)}:c&&!d?{type:"start",page:t,total:e,start:pl(1,r),pages:pl(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:pl(1,r),pages:pl(o,l),end:pl(i-r+1,i)}};var Wc={},xa={},er={},hl={},lO;function JP(){if(lO)return hl;lO=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.anumber=t,hl.abytes=n,hl.ahash=r,hl.aexists=i,hl.aoutput=s;function t(o){if(!Number.isSafeInteger(o)||o<0)throw new Error("positive integer expected, got "+o)}function e(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function n(o,...l){if(!e(o))throw new Error("Uint8Array expected");if(l.length>0&&!l.includes(o.length))throw new Error("Uint8Array expected of length "+l+", got length="+o.length)}function r(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(o.outputLen),t(o.blockLen)}function i(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function s(o,l){n(o);const c=l.outputLen;if(o.length<c)throw new Error("digestInto() expects output buffer of length at least "+c)}return hl}var cn={},uO;function jH(){if(uO)return cn;uO=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.add5L=cn.add5H=cn.add4H=cn.add4L=cn.add3H=cn.add3L=cn.rotlBL=cn.rotlBH=cn.rotlSL=cn.rotlSH=cn.rotr32L=cn.rotr32H=cn.rotrBL=cn.rotrBH=cn.rotrSL=cn.rotrSH=cn.shrSL=cn.shrSH=cn.toBig=void 0,cn.fromBig=n,cn.split=r,cn.add=O;const t=BigInt(2**32-1),e=BigInt(32);function n(R,B=!1){return B?{h:Number(R&t),l:Number(R>>e&t)}:{h:Number(R>>e&t)|0,l:Number(R&t)|0}}function r(R,B=!1){let F=new Uint32Array(R.length),W=new Uint32Array(R.length);for(let U=0;U<R.length;U++){const{h:$,l:ee}=n(R[U],B);[F[U],W[U]]=[$,ee]}return[F,W]}const i=(R,B)=>BigInt(R>>>0)<<e|BigInt(B>>>0);cn.toBig=i;const s=(R,B,F)=>R>>>F;cn.shrSH=s;const o=(R,B,F)=>R<<32-F|B>>>F;cn.shrSL=o;const l=(R,B,F)=>R>>>F|B<<32-F;cn.rotrSH=l;const c=(R,B,F)=>R<<32-F|B>>>F;cn.rotrSL=c;const d=(R,B,F)=>R<<64-F|B>>>F-32;cn.rotrBH=d;const f=(R,B,F)=>R>>>F-32|B<<64-F;cn.rotrBL=f;const p=(R,B)=>B;cn.rotr32H=p;const b=(R,B)=>R;cn.rotr32L=b;const x=(R,B,F)=>R<<F|B>>>32-F;cn.rotlSH=x;const _=(R,B,F)=>B<<F|R>>>32-F;cn.rotlSL=_;const N=(R,B,F)=>B<<F-32|R>>>64-F;cn.rotlBH=N;const I=(R,B,F)=>R<<F-32|B>>>64-F;cn.rotlBL=I;function O(R,B,F,W){const U=(B>>>0)+(W>>>0);return{h:R+F+(U/2**32|0)|0,l:U|0}}const T=(R,B,F)=>(R>>>0)+(B>>>0)+(F>>>0);cn.add3L=T;const q=(R,B,F,W)=>B+F+W+(R/2**32|0)|0;cn.add3H=q;const j=(R,B,F,W)=>(R>>>0)+(B>>>0)+(F>>>0)+(W>>>0);cn.add4L=j;const D=(R,B,F,W,U)=>B+F+W+U+(R/2**32|0)|0;cn.add4H=D;const L=(R,B,F,W,U)=>(R>>>0)+(B>>>0)+(F>>>0)+(W>>>0)+(U>>>0);cn.add5L=L;const z=(R,B,F,W,U,$)=>B+F+W+U+$+(R/2**32|0)|0;cn.add5H=z;const P={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:l,rotrSL:c,rotrBH:d,rotrBL:f,rotr32H:p,rotr32L:b,rotlSH:x,rotlSL:_,rotlBH:N,rotlBL:I,add:O,add3L:T,add3H:q,add4L:j,add4H:D,add5H:z,add5L:L};return cn.default=P,cn}var q_={},rp={},cO;function PH(){return cO||(cO=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.crypto=void 0,rp.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),rp}var dO;function FH(){return dO||(dO=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=r,t.byteSwap32=f,t.bytesToHex=b,t.hexToBytes=N,t.asyncLoop=O,t.utf8ToBytes=T,t.toBytes=q,t.concatBytes=j,t.checkOpts=L,t.wrapConstructor=z,t.wrapConstructorWithOpts=P,t.wrapXOFConstructorWithOpts=R,t.randomBytes=B;const e=PH(),n=JP();function r(F){return F instanceof Uint8Array||ArrayBuffer.isView(F)&&F.constructor.name==="Uint8Array"}const i=F=>new Uint8Array(F.buffer,F.byteOffset,F.byteLength);t.u8=i;const s=F=>new Uint32Array(F.buffer,F.byteOffset,Math.floor(F.byteLength/4));t.u32=s;const o=F=>new DataView(F.buffer,F.byteOffset,F.byteLength);t.createView=o;const l=(F,W)=>F<<32-W|F>>>W;t.rotr=l;const c=(F,W)=>F<<W|F>>>32-W>>>0;t.rotl=c,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const d=F=>F<<24&0xff000000|F<<8&0xff0000|F>>>8&65280|F>>>24&255;t.byteSwap=d,t.byteSwapIfBE=t.isLE?F=>F:F=>(0,t.byteSwap)(F);function f(F){for(let W=0;W<F.length;W++)F[W]=(0,t.byteSwap)(F[W])}const p=Array.from({length:256},(F,W)=>W.toString(16).padStart(2,"0"));function b(F){(0,n.abytes)(F);let W="";for(let U=0;U<F.length;U++)W+=p[F[U]];return W}const x={_0:48,_9:57,A:65,F:70,a:97,f:102};function _(F){if(F>=x._0&&F<=x._9)return F-x._0;if(F>=x.A&&F<=x.F)return F-(x.A-10);if(F>=x.a&&F<=x.f)return F-(x.a-10)}function N(F){if(typeof F!="string")throw new Error("hex string expected, got "+typeof F);const W=F.length,U=W/2;if(W%2)throw new Error("hex string expected, got unpadded hex of length "+W);const $=new Uint8Array(U);for(let ee=0,Z=0;ee<U;ee++,Z+=2){const le=_(F.charCodeAt(Z)),ie=_(F.charCodeAt(Z+1));if(le===void 0||ie===void 0){const te=F[Z]+F[Z+1];throw new Error('hex string expected, got non-hex character "'+te+'" at index '+Z)}$[ee]=le*16+ie}return $}const I=async()=>{};t.nextTick=I;async function O(F,W,U){let $=Date.now();for(let ee=0;ee<F;ee++){U(ee);const Z=Date.now()-$;Z>=0&&Z<W||(await (0,t.nextTick)(),$+=Z)}}function T(F){if(typeof F!="string")throw new Error("utf8ToBytes expected string, got "+typeof F);return new Uint8Array(new TextEncoder().encode(F))}function q(F){return typeof F=="string"&&(F=T(F)),(0,n.abytes)(F),F}function j(...F){let W=0;for(let $=0;$<F.length;$++){const ee=F[$];(0,n.abytes)(ee),W+=ee.length}const U=new Uint8Array(W);for(let $=0,ee=0;$<F.length;$++){const Z=F[$];U.set(Z,ee),ee+=Z.length}return U}class D{clone(){return this._cloneInto()}}t.Hash=D;function L(F,W){if(W!==void 0&&{}.toString.call(W)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(F,W)}function z(F){const W=$=>F().update(q($)).digest(),U=F();return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=()=>F(),W}function P(F){const W=($,ee)=>F(ee).update(q($)).digest(),U=F({});return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=$=>F($),W}function R(F){const W=($,ee)=>F(ee).update(q($)).digest(),U=F({});return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=$=>F($),W}function B(F=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(F));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(F);throw new Error("crypto.getRandomValues must be defined")}}(q_)),q_}var fO;function DH(){if(fO)return er;fO=1,Object.defineProperty(er,"__esModule",{value:!0}),er.shake256=er.shake128=er.keccak_512=er.keccak_384=er.keccak_256=er.keccak_224=er.sha3_512=er.sha3_384=er.sha3_256=er.sha3_224=er.Keccak=void 0,er.keccakP=I;const t=JP(),e=jH(),n=FH(),r=[],i=[],s=[],o=BigInt(0),l=BigInt(1),c=BigInt(2),d=BigInt(7),f=BigInt(256),p=BigInt(113);for(let j=0,D=l,L=1,z=0;j<24;j++){[L,z]=[z,(2*L+3*z)%5],r.push(2*(5*z+L)),i.push((j+1)*(j+2)/2%64);let P=o;for(let R=0;R<7;R++)D=(D<<l^(D>>d)*p)%f,D&c&&(P^=l<<(l<<BigInt(R))-l);s.push(P)}const[b,x]=(0,e.split)(s,!0),_=(j,D,L)=>L>32?(0,e.rotlBH)(j,D,L):(0,e.rotlSH)(j,D,L),N=(j,D,L)=>L>32?(0,e.rotlBL)(j,D,L):(0,e.rotlSL)(j,D,L);function I(j,D=24){const L=new Uint32Array(10);for(let z=24-D;z<24;z++){for(let B=0;B<10;B++)L[B]=j[B]^j[B+10]^j[B+20]^j[B+30]^j[B+40];for(let B=0;B<10;B+=2){const F=(B+8)%10,W=(B+2)%10,U=L[W],$=L[W+1],ee=_(U,$,1)^L[F],Z=N(U,$,1)^L[F+1];for(let le=0;le<50;le+=10)j[B+le]^=ee,j[B+le+1]^=Z}let P=j[2],R=j[3];for(let B=0;B<24;B++){const F=i[B],W=_(P,R,F),U=N(P,R,F),$=r[B];P=j[$],R=j[$+1],j[$]=W,j[$+1]=U}for(let B=0;B<50;B+=10){for(let F=0;F<10;F++)L[F]=j[B+F];for(let F=0;F<10;F++)j[B+F]^=~L[(F+2)%10]&L[(F+4)%10]}j[0]^=b[z],j[1]^=x[z]}L.fill(0)}class O extends n.Hash{constructor(D,L,z,P=!1,R=24){if(super(),this.blockLen=D,this.suffix=L,this.outputLen=z,this.enableXOF=P,this.rounds=R,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),I(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(D){(0,t.aexists)(this);const{blockLen:L,state:z}=this;D=(0,n.toBytes)(D);const P=D.length;for(let R=0;R<P;){const B=Math.min(L-this.pos,P-R);for(let F=0;F<B;F++)z[this.pos++]^=D[R++];this.pos===L&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:D,suffix:L,pos:z,blockLen:P}=this;D[z]^=L,L&128&&z===P-1&&this.keccak(),D[P-1]^=128,this.keccak()}writeInto(D){(0,t.aexists)(this,!1),(0,t.abytes)(D),this.finish();const L=this.state,{blockLen:z}=this;for(let P=0,R=D.length;P<R;){this.posOut>=z&&this.keccak();const B=Math.min(z-this.posOut,R-P);D.set(L.subarray(this.posOut,this.posOut+B),P),this.posOut+=B,P+=B}return D}xofInto(D){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(D)}xof(D){return(0,t.anumber)(D),this.xofInto(new Uint8Array(D))}digestInto(D){if((0,t.aoutput)(D,this),this.finished)throw new Error("digest() was already called");return this.writeInto(D),this.destroy(),D}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(D){const{blockLen:L,suffix:z,outputLen:P,rounds:R,enableXOF:B}=this;return D||(D=new O(L,z,P,B,R)),D.state32.set(this.state32),D.pos=this.pos,D.posOut=this.posOut,D.finished=this.finished,D.rounds=R,D.suffix=z,D.outputLen=P,D.enableXOF=B,D.destroyed=this.destroyed,D}}er.Keccak=O;const T=(j,D,L)=>(0,n.wrapConstructor)(()=>new O(D,j,L));er.sha3_224=T(6,144,224/8),er.sha3_256=T(6,136,256/8),er.sha3_384=T(6,104,384/8),er.sha3_512=T(6,72,512/8),er.keccak_224=T(1,144,224/8),er.keccak_256=T(1,136,256/8),er.keccak_384=T(1,104,384/8),er.keccak_512=T(1,72,512/8);const q=(j,D,L)=>(0,n.wrapXOFConstructorWithOpts)((z={})=>new O(D,j,z.dkLen===void 0?L:z.dkLen,!0));return er.shake128=q(31,168,128/8),er.shake256=q(31,136,256/8),er}var pO;function LH(){if(pO)return xa;pO=1;const{sha3_512:t}=DH(),e=24,n=32,r=(_=4,N=Math.random)=>{let I="";for(;I.length<_;)I=I+Math.floor(N()*36).toString(36);return I};function i(_){let N=8n,I=0n;for(const O of _.values()){const T=BigInt(O);I=(I<<N)+T}return I}const s=(_="")=>i(t(_)).toString(36).slice(1),o=Array.from({length:26},(_,N)=>String.fromCharCode(N+97)),l=_=>o[Math.floor(_()*o.length)],c=({globalObj:_=typeof Tu<"u"?Tu:typeof window<"u"?window:{},random:N=Math.random}={})=>{const I=Object.keys(_).toString(),O=I.length?I+r(n,N):r(n,N);return s(O).substring(0,n)},d=_=>()=>_++,f=0x1c6b1f1f,p=({random:_=Math.random,counter:N=d(Math.floor(_()*f)),length:I=e,fingerprint:O=c({random:_})}={})=>function(){const q=l(_),j=Date.now().toString(36),D=N().toString(36),L=r(I,_),z=`${j+L+D+O}`;return`${q+s(z).substring(1,I)}`},b=p(),x=(_,{minLength:N=2,maxLength:I=n}={})=>{const O=_.length,T=/^[0-9a-z]+$/;try{if(typeof _=="string"&&O>=N&&O<=I&&T.test(_))return!0}finally{}return!1};return xa.getConstants=()=>({defaultLength:e,bigLength:n}),xa.init=p,xa.createId=b,xa.bufToBigInt=i,xa.createCounter=d,xa.createFingerprint=c,xa.isCuid=x,xa}var hO;function MH(){if(hO)return Wc;hO=1;const{createId:t,init:e,getConstants:n,isCuid:r}=LH();return Wc.createId=t,Wc.init=e,Wc.getConstants=n,Wc.isCuid=r,Wc}var $H=MH();const $n=$H.createId;var R_,mO;function BH(){if(mO)return R_;mO=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(T){T!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(q){try{var j=t.call(q);return i.test(j)}catch{return!1}},o=function(q){try{return s(q)?!1:(t.call(q),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",d="[object Function]",f="[object GeneratorFunction]",p="[object HTMLAllCollection]",b="[object HTML document.all class]",x="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,N=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var O=document.all;l.call(O)===l.call(document.all)&&(I=function(q){if((N||!q)&&(typeof q>"u"||typeof q=="object"))try{var j=l.call(q);return(j===p||j===b||j===x||j===c)&&q("")==null}catch{}return!1})}return R_=e?function(q){if(I(q))return!0;if(!q||typeof q!="function"&&typeof q!="object")return!1;try{e(q,null,n)}catch(j){if(j!==r)return!1}return!s(q)&&o(q)}:function(q){if(I(q))return!0;if(!q||typeof q!="function"&&typeof q!="object")return!1;if(_)return o(q);if(s(q))return!1;var j=l.call(q);return j!==d&&j!==f&&!/^\[object HTML/.test(j)?!1:o(q)},R_}var zH=BH();const WH=ro(zH),UH=t=>WH(t);var uy={exports:{}},VH=uy.exports,gO;function HH(){return gO||(gO=1,function(t){(function(e,n){t.exports=n()})(VH,function(){var e=Object.prototype.toString;function n(p,b){return p==null?!1:Object.prototype.hasOwnProperty.call(p,b)}function r(p){if(!p||o(p)&&p.length===0)return!0;if(typeof p!="string"){for(var b in p)if(n(p,b))return!1;return!0}return!1}function i(p){return e.call(p)}function s(p){return typeof p=="object"&&i(p)==="[object Object]"}var o=Array.isArray||function(p){return e.call(p)==="[object Array]"};function l(p){return typeof p=="boolean"||i(p)==="[object Boolean]"}function c(p){var b=parseInt(p);return b.toString()===p?b:p}function d(p){p=p||{};var b=function(O){return Object.keys(b).reduce(function(T,q){return q==="create"||typeof b[q]=="function"&&(T[q]=b[q].bind(b,O)),T},{})},x;p.includeInheritedProps?x=function(){return!0}:x=function(O,T){return typeof T=="number"&&Array.isArray(O)||n(O,T)};function _(O,T){if(x(O,T))return O[T]}var N;p.includeInheritedProps?N=function(O,T){typeof T!="string"&&typeof T!="number"&&(T=String(T));var q=_(O,T);if(T==="__proto__"||T==="prototype"||T==="constructor"&&typeof q=="function")throw new Error("For security reasons, object's magic properties cannot be set");return q}:N=function(O,T){return _(O,T)};function I(O,T,q,j){if(typeof T=="number"&&(T=[T]),!T||T.length===0)return O;if(typeof T=="string")return I(O,T.split(".").map(c),q,j);var D=T[0],L=N(O,D);return T.length===1?((L===void 0||!j)&&(O[D]=q),L):(L===void 0&&(typeof T[1]=="number"?O[D]=[]:O[D]={}),I(O[D],T.slice(1),q,j))}return b.has=function(O,T){if(typeof T=="number"?T=[T]:typeof T=="string"&&(T=T.split(".")),!T||T.length===0)return!!O;for(var q=0;q<T.length;q++){var j=c(T[q]);if(typeof j=="number"&&o(O)&&j<O.length||(p.includeInheritedProps?j in Object(O):n(O,j)))O=O[j];else return!1}return!0},b.ensureExists=function(O,T,q){return I(O,T,q,!0)},b.set=function(O,T,q,j){return I(O,T,q,j)},b.insert=function(O,T,q,j){var D=b.get(O,T);j=~~j,o(D)||(D=[],b.set(O,T,D)),D.splice(j,0,q)},b.empty=function(O,T){if(!r(T)&&O!=null){var q,j;if(q=b.get(O,T)){if(typeof q=="string")return b.set(O,T,"");if(l(q))return b.set(O,T,!1);if(typeof q=="number")return b.set(O,T,0);if(o(q))q.length=0;else if(s(q))for(j in q)x(q,j)&&delete q[j];else return b.set(O,T,null)}}},b.push=function(O,T){var q=b.get(O,T);o(q)||(q=[],b.set(O,T,q)),q.push.apply(q,Array.prototype.slice.call(arguments,2))},b.coalesce=function(O,T,q){for(var j,D=0,L=T.length;D<L;D++)if((j=b.get(O,T[D]))!==void 0)return j;return q},b.get=function(O,T,q){if(typeof T=="number"&&(T=[T]),!T||T.length===0)return O;if(O==null)return q;if(typeof T=="string")return b.get(O,T.split("."),q);var j=c(T[0]),D=N(O,j);return D===void 0?q:T.length===1?D:b.get(O[j],T.slice(1),q)},b.del=function(T,q){if(typeof q=="number"&&(q=[q]),T==null||r(q))return T;if(typeof q=="string")return b.del(T,q.split("."));var j=c(q[0]);if(N(T,j),!x(T,j))return T;if(q.length===1)o(T)?T.splice(j,1):delete T[j];else return b.del(T[j],q.slice(1));return T},b}var f=d();return f.create=d,f.withInheritedProps=d({includeInheritedProps:!0}),f})}(uy)),uy.exports}var QH=HH();const yO=ro(QH);function qn({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const bN=({error:t,errors:e,onError:n})=>{const r=e.some(s=>s),i=t instanceof Error;return!r&&i&&n(t),r||i},YP=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),KH=gn({use:YP,slot:{},variant:{},defaults:{}}),GS=({icon:t,iconProps:e,variant:n,tva:r=KH,css:i,children:s,...o})=>{const l=r({...n,css:i}).slots;return m.jsxs("div",{className:l.base(),...o,children:[Yv(t)?m.jsx(en,{icon:t,...e}):t,s]})};function ab(){return typeof window<"u"}function Zl(t){return XP(t)?(t.nodeName||"").toLowerCase():"#document"}function ls(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function na(t){var e;return(e=(XP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XP(t){return ab()?t instanceof Node||t instanceof ls(t).Node:!1}function nr(t){return ab()?t instanceof Element||t instanceof ls(t).Element:!1}function Mr(t){return ab()?t instanceof HTMLElement||t instanceof ls(t).HTMLElement:!1}function ZS(t){return!ab()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ls(t).ShadowRoot}function Zh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=no(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function GH(t){return["table","td","th"].includes(Zl(t))}function lb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xN(t){const e=ub(),n=nr(t)?no(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ZH(t){let e=La(t);for(;Mr(e)&&!qa(e);){if(xN(e))return e;if(lb(e))return null;e=La(e)}return null}function ub(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qa(t){return["html","body","#document"].includes(Zl(t))}function no(t){return ls(t).getComputedStyle(t)}function cb(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function La(t){if(Zl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZS(t)&&t.host||na(t);return ZS(e)?e.host:e}function eF(t){const e=La(t);return qa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mr(e)&&Zh(e)?e:eF(e)}function Al(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=eF(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ls(i);if(s){const l=JS(o);return e.concat(o,o.visualViewport||[],Zh(i)?i:[],l&&n?Al(l):[])}return e.concat(i,Al(i,[],n))}function JS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bo(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function ti(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&ZS(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function wN(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function tF(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function nF(t){return t.mozInputSource===0&&t.isTrusted?!0:YS()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function _N(t){return YH()?!1:!YS()&&t.width===0&&t.height===0||YS()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function rF(){return/apple/i.test(navigator.vendor)}function YS(){const t=/android/i;return t.test(wN())||t.test(tF())}function JH(){return wN().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function YH(){return tF().includes("jsdom/")}function vh(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function XH(t){return"nativeEvent"in t}function e9(t){return t.matches("html,body")}function ni(t){return t?.ownerDocument||document}function A_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Nl(t){return"composedPath"in t?t.composedPath()[0]:t.target}const t9="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function SN(t){return Mr(t)&&t.matches(t9)}function Ii(t){t.preventDefault(),t.stopPropagation()}function iF(t){return t?t.getAttribute("role")==="combobox"&&SN(t):!1}const jd=Math.min,Ns=Math.max,tv=Math.round,nd=Math.floor,Ho=t=>({x:t,y:t}),n9={left:"right",right:"left",bottom:"top",top:"bottom"},r9={start:"end",end:"start"};function vO(t,e,n){return Ns(t,jd(e,n))}function Jh(t,e){return typeof t=="function"?t(e):t}function Ql(t){return t.split("-")[0]}function Yh(t){return t.split("-")[1]}function sF(t){return t==="x"?"y":"x"}function oF(t){return t==="y"?"height":"width"}function Gu(t){return["top","bottom"].includes(Ql(t))?"y":"x"}function aF(t){return sF(Gu(t))}function i9(t,e,n){n===void 0&&(n=!1);const r=Yh(t),i=aF(t),s=oF(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=nv(o)),[o,nv(o)]}function s9(t){const e=nv(t);return[XS(t),e,XS(e)]}function XS(t){return t.replace(/start|end/g,e=>r9[e])}function o9(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function a9(t,e,n,r){const i=Yh(t);let s=o9(Ql(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(XS)))),s}function nv(t){return t.replace(/left|right|bottom|top/g,e=>n9[e])}function l9(t){return{top:0,right:0,bottom:0,left:0,...t}}function u9(t){return typeof t!="number"?l9(t):{top:t,right:t,bottom:t,left:t}}function rv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var c9=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],iv=c9.join(","),lF=typeof Element>"u",Pd=lF?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,sv=!lF&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},ov=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},d9=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},f9=function(e,n,r){if(ov(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(iv));return n&&Pd.call(e,iv)&&i.unshift(e),i=i.filter(r),i},p9=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!ov(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),c=l.length?l:o.children,d=t(c,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:o,candidates:d})}else{var f=Pd.call(o,iv);f&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var p=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),b=!ov(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(p&&b){var x=t(p===!0?o.children:p.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:o,candidates:x})}else s.unshift.apply(s,o.children)}}return i},uF=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},cF=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||d9(e))&&!uF(e)?0:e.tabIndex},h9=function(e,n){var r=cF(e);return r<0&&n&&!uF(e)?0:r},m9=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},dF=function(e){return e.tagName==="INPUT"},g9=function(e){return dF(e)&&e.type==="hidden"},y9=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},v9=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},b9=function(e){if(!e.name)return!0;var n=e.form||sv(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=v9(i,e.form);return!s||s===e},x9=function(e){return dF(e)&&e.type==="radio"},w9=function(e){return x9(e)&&!b9(e)},_9=function(e){var n,r=e&&sv(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,l,c;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&i;){var d,f,p;r=sv(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((f=i)!==null&&f!==void 0&&(p=f.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return s},bO=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},S9=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Pd.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Pd.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var c=e.parentElement,d=sv(e);if(c&&!c.shadowRoot&&i(c)===!0)return bO(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=l}if(_9(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return bO(e);return!1},E9=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Pd.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},N9=function(e,n){return!(n.disabled||ov(n)||g9(n)||S9(n,e)||y9(n)||E9(n))},eE=function(e,n){return!(w9(n)||cF(n)<0||!N9(e,n))},k9=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},I9=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,c=h9(l,o),d=o?t(i.candidates):l;c===0?o?n.push.apply(n,d):n.push(l):r.push({documentOrder:s,tabIndex:c,item:i,isScope:o,content:d})}),r.sort(m9).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},db=function(e,n){n=n||{};var r;return n.getShadowRoot?r=p9([e],n.includeContainer,{filter:eE.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:k9}):r=f9(e,n.includeContainer,eE.bind(null,n)),I9(r)},C9=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Pd.call(e,iv)===!1?!1:eE(n,e)};function xO(t,e,n){let{reference:r,floating:i}=t;const s=Gu(e),o=aF(e),l=oF(o),c=Ql(e),d=s==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:f,y:r.y-i.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-i.width,y:p};break;default:x={x:r.x,y:r.y}}switch(Yh(e)){case"start":x[o]-=b*(n&&d?-1:1);break;case"end":x[o]+=b*(n&&d?-1:1);break}return x}const T9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await (o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=xO(d,r,c),b=r,x={},_=0;for(let N=0;N<l.length;N++){const{name:I,fn:O}=l[N],{x:T,y:q,data:j,reset:D}=await O({x:f,y:p,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=T??f,p=q??p,x={...x,[I]:{...x[I],...j}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:p}=xO(d,b,c)),N=-1)}return{x:f,y:p,placement:b,strategy:i,middlewareData:x}};async function EN(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:b=!1,padding:x=0}=Jh(e,t),_=u9(x),I=l[b?p==="floating"?"reference":"floating":p],O=rv(await s.getClippingRect({element:(n=await (s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await (s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),T=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,q=await (s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await (s.isElement==null?void 0:s.isElement(q))?await (s.getScale==null?void 0:s.getScale(q))||{x:1,y:1}:{x:1,y:1},D=rv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:q,strategy:c}):T);return{top:(O.top-D.top+_.top)/j.y,bottom:(D.bottom-O.bottom+_.bottom)/j.y,left:(O.left-D.left+_.left)/j.x,right:(D.right-O.right+_.right)/j.x}}const O9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:N=!0,...I}=Jh(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const O=Ql(i),T=Gu(l),q=Ql(l)===l,j=await (c.isRTL==null?void 0:c.isRTL(d.floating)),D=b||(q||!N?[nv(l)]:s9(l)),L=_!=="none";!b&&L&&D.push(...a9(l,N,_,j));const z=[l,...D],P=await EN(e,I),R=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&R.push(P[O]),p){const $=i9(i,o,j);R.push(P[$[0]],P[$[1]])}if(B=[...B,{placement:i,overflows:R}],!R.every($=>$<=0)){var F,W;const $=(((F=s.flip)==null?void 0:F.index)||0)+1,ee=z[$];if(ee)return{data:{index:$,overflows:B},reset:{placement:ee}};let Z=(W=B.filter(le=>le.overflows[0]<=0).sort((le,ie)=>le.overflows[1]-ie.overflows[1])[0])==null?void 0:W.placement;if(!Z)switch(x){case"bestFit":{var U;const le=(U=B.filter(ie=>{if(L){const te=Gu(ie.placement);return te===T||te==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(te=>te>0).reduce((te,se)=>te+se,0)]).sort((ie,te)=>ie[1]-te[1])[0])==null?void 0:U[0];le&&(Z=le);break}case"initialPlacement":Z=l;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};async function q9(t,e){const{placement:n,platform:r,elements:i}=t,s=await (r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ql(n),l=Yh(n),c=Gu(n)==="y",d=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,p=Jh(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof _=="number"&&(x=l==="end"?_*-1:_),c?{x:x*f,y:b*d}:{x:b*d,y:x*f}}const R9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await q9(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},A9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:I=>{let{x:O,y:T}=I;return{x:O,y:T}}},...c}=Jh(t,e),d={x:n,y:r},f=await EN(e,c),p=Gu(Ql(i)),b=sF(p);let x=d[b],_=d[p];if(s){const I=b==="y"?"top":"left",O=b==="y"?"bottom":"right",T=x+f[I],q=x-f[O];x=vO(T,x,q)}if(o){const I=p==="y"?"top":"left",O=p==="y"?"bottom":"right",T=_+f[I],q=_-f[O];_=vO(T,_,q)}const N=l.fn({...e,[b]:x,[p]:_});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[b]:s,[p]:o}}}}}},j9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Jh(t,e),f=await EN(e,d),p=Ql(i),b=Yh(i),x=Gu(i)==="y",{width:_,height:N}=s.floating;let I,O;p==="top"||p==="bottom"?(I=p,O=b===(await (o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(O=p,I=b==="end"?"top":"bottom");const T=N-f.top-f.bottom,q=_-f.left-f.right,j=jd(N-f[I],T),D=jd(_-f[O],q),L=!e.middlewareData.shift;let z=j,P=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=q),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=T),L&&!b){const B=Ns(f.left,0),F=Ns(f.right,0),W=Ns(f.top,0),U=Ns(f.bottom,0);x?P=_-2*(B!==0||F!==0?B+F:Ns(f.left,f.right)):z=N-2*(W!==0||U!==0?W+U:Ns(f.top,f.bottom))}await c({...e,availableWidth:P,availableHeight:z});const R=await o.getDimensions(l.floating);return _!==R.width||N!==R.height?{reset:{rects:!0}}:{}}}};function fF(t){const e=no(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Mr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=tv(n)!==s||tv(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function NN(t){return nr(t)?t:t.contextElement}function _d(t){const e=NN(t);if(!Mr(e))return Ho(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=fF(e);let o=(s?tv(n.width):n.width)/r,l=(s?tv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const P9=Ho(0);function pF(t){const e=ls(t);return!ub()||!e.visualViewport?P9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function F9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ls(t)?!1:e}function Zu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=NN(t);let o=Ho(1);e&&(r?nr(r)&&(o=_d(r)):o=_d(t));const l=F9(s,n,r)?pF(s):Ho(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const b=ls(s),x=r&&nr(r)?ls(r):r;let _=b,N=JS(_);for(;N&&r&&x!==_;){const I=_d(N),O=N.getBoundingClientRect(),T=no(N),q=O.left+(N.clientLeft+parseFloat(T.paddingLeft))*I.x,j=O.top+(N.clientTop+parseFloat(T.paddingTop))*I.y;c*=I.x,d*=I.y,f*=I.x,p*=I.y,c+=q,d+=j,_=ls(N),N=JS(_)}}return rv({width:f,height:p,x:c,y:d})}function kN(t,e){const n=cb(t).scrollLeft;return e?e.left+n:Zu(na(t)).left+n}function hF(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:kN(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function D9(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=na(r),l=e?lb(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Ho(1);const f=Ho(0),p=Mr(r);if((p||!p&&!s)&&((Zl(r)!=="body"||Zh(o))&&(c=cb(r)),Mr(r))){const x=Zu(r);d=_d(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const b=o&&!p&&!s?hF(o,c,!0):Ho(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+b.x,y:n.y*d.y-c.scrollTop*d.y+f.y+b.y}}function L9(t){return Array.from(t.getClientRects())}function M9(t){const e=na(t),n=cb(t),r=t.ownerDocument.body,i=Ns(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ns(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+kN(t);const l=-n.scrollTop;return no(r).direction==="rtl"&&(o+=Ns(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function $9(t,e){const n=ls(t),r=na(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=ub();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function B9(t,e){const n=Zu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Mr(t)?_d(t):Ho(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function wO(t,e,n){let r;if(e==="viewport")r=$9(t,n);else if(e==="document")r=M9(na(t));else if(nr(e))r=B9(e,n);else{const i=pF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rv(r)}function mF(t,e){const n=La(t);return n===e||!nr(n)||qa(n)?!1:no(n).position==="fixed"||mF(n,e)}function z9(t,e){const n=e.get(t);if(n)return n;let r=Al(t,[],!1).filter(l=>nr(l)&&Zl(l)!=="body"),i=null;const s=no(t).position==="fixed";let o=s?La(t):t;for(;nr(o)&&!qa(o);){const l=no(o),c=xN(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Zh(o)&&!c&&mF(t,o))?r=r.filter(f=>f!==o):i=l,o=La(o)}return e.set(t,r),r}function W9(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?lb(e)?[]:z9(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const p=wO(e,f,i);return d.top=Ns(p.top,d.top),d.right=jd(p.right,d.right),d.bottom=jd(p.bottom,d.bottom),d.left=Ns(p.left,d.left),d},wO(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function U9(t){const{width:e,height:n}=fF(t);return{width:e,height:n}}function V9(t,e,n){const r=Mr(e),i=na(e),s=n==="fixed",o=Zu(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Ho(0);if(r||!r&&!s)if((Zl(e)!=="body"||Zh(i))&&(l=cb(e)),r){const b=Zu(e,!0,s,e);c.x=b.x+e.clientLeft,c.y=b.y+e.clientTop}else i&&(c.x=kN(i));const d=i&&!r&&!s?hF(i,l):Ho(0),f=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function j_(t){return no(t).position==="static"}function _O(t,e){if(!Mr(t)||no(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return na(t)===n&&(n=n.ownerDocument.body),n}function gF(t,e){const n=ls(t);if(lb(t))return n;if(!Mr(t)){let i=La(t);for(;i&&!qa(i);){if(nr(i)&&!j_(i))return i;i=La(i)}return n}let r=_O(t,e);for(;r&&GH(r)&&j_(r);)r=_O(r,e);return r&&qa(r)&&j_(r)&&!xN(r)?n:r||ZH(t)||n}const H9=async function(t){const e=this.getOffsetParent||gF,n=this.getDimensions,r=await n(t.floating);return{reference:V9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Q9(t){return no(t).direction==="rtl"}const K9={convertOffsetParentRelativeRectToViewportRelativeRect:D9,getDocumentElement:na,getClippingRect:W9,getOffsetParent:gF,getElementRects:H9,getClientRects:L9,getDimensions:U9,getScale:_d,isElement:nr,isRTL:Q9};function yF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function G9(t,e){let n=null,r;const i=na(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:p,width:b,height:x}=d;if(l||e(),!b||!x)return;const _=nd(p),N=nd(i.clientWidth-(f+b)),I=nd(i.clientHeight-(p+x)),O=nd(f),q={rootMargin:-_+"px "+-N+"px "+-I+"px "+-O+"px",threshold:Ns(0,jd(1,c))||1};let j=!0;function D(L){const z=L[0].intersectionRatio;if(z!==c){if(!j)return o();z?o(!1,z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}z===1&&!yF(d,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(D,{...q,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,q)}n.observe(t)}return o(!0),s}function vF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=NN(t),f=i||s?[...d?Al(d):[],...Al(e)]:[];f.forEach(O=>{i&&O.addEventListener("scroll",n,{passive:!0}),s&&O.addEventListener("resize",n)});const p=d&&l?G9(d,n):null;let b=-1,x=null;o&&(x=new ResizeObserver(O=>{let[T]=O;T&&T.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var q;(q=x)==null||q.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let _,N=c?Zu(t):null;c&&I();function I(){const O=Zu(t);N&&!yF(N,O)&&n(),N=O,_=requestAnimationFrame(I)}return n(),()=>{var O;f.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),p?.(),(O=x)==null||O.disconnect(),x=null,c&&cancelAnimationFrame(_)}}const Z9=R9,J9=A9,Y9=O9,X9=j9,e7=(t,e,n)=>{const r=new Map,i={platform:K9,...n},s={...i.platform,_c:r};return T9(t,e,{...i,platform:s})};var cy=typeof document<"u"?K.useLayoutEffect:K.useEffect;function av(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!av(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!av(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function bF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function SO(t,e){const n=bF(t);return Math.round(e*n)/n}function P_(t){const e=K.useRef(t);return cy(()=>{e.current=t}),e}function t7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,p]=K.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=K.useState(r);av(b,r)||x(r);const[_,N]=K.useState(null),[I,O]=K.useState(null),T=K.useCallback(ie=>{ie!==L.current&&(L.current=ie,N(ie))},[]),q=K.useCallback(ie=>{ie!==z.current&&(z.current=ie,O(ie))},[]),j=s||_,D=o||I,L=K.useRef(null),z=K.useRef(null),P=K.useRef(f),R=c!=null,B=P_(c),F=P_(i),W=P_(d),U=K.useCallback(()=>{if(!L.current||!z.current)return;const ie={placement:e,strategy:n,middleware:b};F.current&&(ie.platform=F.current),e7(L.current,z.current,ie).then(te=>{const se={...te,isPositioned:W.current!==!1};$.current&&!av(P.current,se)&&(P.current=se,Lv.flushSync(()=>{p(se)}))})},[b,e,n,F,W]);cy(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(ie=>({...ie,isPositioned:!1})))},[d]);const $=K.useRef(!1);cy(()=>($.current=!0,()=>{$.current=!1}),[]),cy(()=>{if(j&&(L.current=j),D&&(z.current=D),j&&D){if(B.current)return B.current(j,D,U);U()}},[j,D,U,B,R]);const ee=K.useMemo(()=>({reference:L,floating:z,setReference:T,setFloating:q}),[T,q]),Z=K.useMemo(()=>({reference:j,floating:D}),[j,D]),le=K.useMemo(()=>{const ie={position:n,left:0,top:0};if(!Z.floating)return ie;const te=SO(Z.floating,f.x),se=SO(Z.floating,f.y);return l?{...ie,transform:"translate("+te+"px, "+se+"px)",...bF(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:se}},[n,l,Z.floating,f.x,f.y]);return K.useMemo(()=>({...f,update:U,refs:ee,elements:Z,floatingStyles:le}),[f,U,ee,Z,le])}const xF=(t,e)=>({...Z9(t),options:[t,e]}),n7=(t,e)=>({...J9(t),options:[t,e]}),wF=(t,e)=>({...Y9(t),options:[t,e]}),r7=(t,e)=>({...X9(t),options:[t,e]});function EO(t){return K.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const _F={...x$},i7=_F.useInsertionEffect,s7=i7||(t=>t());function Oi(t){const e=K.useRef(()=>{});return s7(()=>{e.current=t}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const IN="ArrowUp",Xh="ArrowDown",jl="ArrowLeft",Pl="ArrowRight";function kg(t,e,n){return Math.floor(t/e)!==n}function Mp(t,e){return e<0||e>=t.current.length}function F_(t,e){return pi(t,{disabledIndices:e})}function NO(t,e){return pi(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function pi(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e;const o=t.current;let l=n;do l+=r?-s:s;while(l>=0&&l<=o.length-1&&dy(o,l,i));return l}function o7(t,e){let{event:n,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:l,minIndex:c,maxIndex:d,prevIndex:f,stopEvent:p=!1}=e,b=f;if(n.key===IN){if(p&&Ii(n),f===-1)b=d;else if(b=pi(t,{startingIndex:b,amount:o,decrement:!0,disabledIndices:l}),i&&(f-o<c||b<0)){const x=f%o,_=d%o,N=d-(_-x);_===x?b=d:b=_>x?N:N-o}Mp(t,b)&&(b=f)}if(n.key===Xh&&(p&&Ii(n),f===-1?b=c:(b=pi(t,{startingIndex:f,amount:o,disabledIndices:l}),i&&f+o>d&&(b=pi(t,{startingIndex:f%o-o,amount:o,disabledIndices:l}))),Mp(t,b)&&(b=f)),r==="both"){const x=nd(f/o);n.key===(s?jl:Pl)&&(p&&Ii(n),f%o!==o-1?(b=pi(t,{startingIndex:f,disabledIndices:l}),i&&kg(b,o,x)&&(b=pi(t,{startingIndex:f-f%o-1,disabledIndices:l}))):i&&(b=pi(t,{startingIndex:f-f%o-1,disabledIndices:l})),kg(b,o,x)&&(b=f)),n.key===(s?Pl:jl)&&(p&&Ii(n),f%o!==0?(b=pi(t,{startingIndex:f,decrement:!0,disabledIndices:l}),i&&kg(b,o,x)&&(b=pi(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l}))):i&&(b=pi(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l})),kg(b,o,x)&&(b=f));const _=nd(d/o)===x;Mp(t,b)&&(i&&_?b=n.key===(s?Pl:jl)?d:pi(t,{startingIndex:f-f%o-1,disabledIndices:l}):b=f)}return b}function a7(t,e,n){const r=[];let i=0;return t.forEach((s,o)=>{let{width:l,height:c}=s,d=!1;for(n&&(i=0);!d;){const f=[];for(let p=0;p<l;p++)for(let b=0;b<c;b++)f.push(i+p+b*e);i%e+l<=e&&f.every(p=>r[p]==null)?(f.forEach(p=>{r[p]=o}),d=!0):i++}}),[...r]}function l7(t,e,n,r,i){if(t===-1)return-1;const s=n.indexOf(t),o=e[t];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return n.lastIndexOf(t)}}function u7(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function dy(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var dr=typeof document<"u"?K.useLayoutEffect:K.useEffect;let kO=!1,c7=0;const IO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+c7++;function d7(){const[t,e]=K.useState(()=>kO?IO():void 0);return dr(()=>{t==null&&e(IO())},[]),K.useEffect(()=>{kO=!0},[]),t}const f7=_F.useId,CN=f7||d7;function SF(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const EF=K.createContext(null),NF=K.createContext(null),em=()=>{var t;return((t=K.useContext(EF))==null?void 0:t.id)||null},nf=()=>K.useContext(NF);function p7(t){const e=CN(),n=nf(),i=em();return dr(()=>{if(!e)return;const s={id:e,parentId:i};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,e,i]),e}function h7(t){const{children:e,id:n}=t,r=em();return m.jsx(EF.Provider,{value:K.useMemo(()=>({id:n,parentId:r}),[n,r]),children:e})}function m7(t){const{children:e}=t,n=K.useRef([]),r=K.useCallback(o=>{n.current=[...n.current,o]},[]),i=K.useCallback(o=>{n.current=n.current.filter(l=>l!==o)},[]),s=K.useState(()=>SF())[0];return m.jsx(NF.Provider,{value:K.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:s}),[r,i,s]),children:e})}function Ju(t){return"data-floating-ui-"+t}function qi(t){const e=K.useRef(t);return dr(()=>{e.current=t}),e}const CO=Ju("safe-polygon");function D_(t,e,n){return n&&!vh(n)?0:typeof t=="number"?t:t?.[e]}function g7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:l=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:p=0,move:b=!0}=e,x=nf(),_=em(),N=qi(d),I=qi(c),O=qi(n),T=K.useRef(),q=K.useRef(-1),j=K.useRef(),D=K.useRef(-1),L=K.useRef(!0),z=K.useRef(!1),P=K.useRef(()=>{}),R=K.useRef(!1),B=K.useCallback(()=>{var le;const ie=(le=i.current.openEvent)==null?void 0:le.type;return ie?.includes("mouse")&&ie!=="mousedown"},[i]);K.useEffect(()=>{if(!l)return;function le(ie){let{open:te}=ie;te||(clearTimeout(q.current),clearTimeout(D.current),L.current=!0,R.current=!1)}return s.on("openchange",le),()=>{s.off("openchange",le)}},[l,s]),K.useEffect(()=>{if(!l||!N.current||!n)return;function le(te){B()&&r(!1,te,"hover")}const ie=ni(o.floating).documentElement;return ie.addEventListener("mouseleave",le),()=>{ie.removeEventListener("mouseleave",le)}},[o.floating,n,r,l,N,B]);const F=K.useCallback(function(le,ie,te){ie===void 0&&(ie=!0),te===void 0&&(te="hover");const se=D_(I.current,"close",T.current);se&&!j.current?(clearTimeout(q.current),q.current=window.setTimeout(()=>r(!1,le,te),se)):ie&&(clearTimeout(q.current),r(!1,le,te))},[I,r]),W=Oi(()=>{P.current(),j.current=void 0}),U=Oi(()=>{if(z.current){const le=ni(o.floating).body;le.style.pointerEvents="",le.removeAttribute(CO),z.current=!1}}),$=Oi(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);K.useEffect(()=>{if(!l)return;function le(Y){if(clearTimeout(q.current),L.current=!1,f&&!vh(T.current)||p>0&&!D_(I.current,"open"))return;const ce=D_(I.current,"open",T.current);ce?q.current=window.setTimeout(()=>{O.current||r(!0,Y,"hover")},ce):n||r(!0,Y,"hover")}function ie(Y){if($())return;P.current();const ce=ni(o.floating);if(clearTimeout(D.current),R.current=!1,N.current&&i.current.floatingContext){n||clearTimeout(q.current),j.current=N.current({...i.current.floatingContext,tree:x,x:Y.clientX,y:Y.clientY,onClose(){U(),W(),$()||F(Y,!0,"safe-polygon")}});const ye=j.current;ce.addEventListener("mousemove",ye),P.current=()=>{ce.removeEventListener("mousemove",ye)};return}(T.current==="touch"?!ti(o.floating,Y.relatedTarget):!0)&&F(Y)}function te(Y){$()||i.current.floatingContext&&(N.current==null||N.current({...i.current.floatingContext,tree:x,x:Y.clientX,y:Y.clientY,onClose(){U(),W(),$()||F(Y)}})(Y))}if(nr(o.domReference)){var se;const Y=o.domReference;return n&&Y.addEventListener("mouseleave",te),(se=o.floating)==null||se.addEventListener("mouseleave",te),b&&Y.addEventListener("mousemove",le,{once:!0}),Y.addEventListener("mouseenter",le),Y.addEventListener("mouseleave",ie),()=>{var ce;n&&Y.removeEventListener("mouseleave",te),(ce=o.floating)==null||ce.removeEventListener("mouseleave",te),b&&Y.removeEventListener("mousemove",le),Y.removeEventListener("mouseenter",le),Y.removeEventListener("mouseleave",ie)}}},[o,l,t,f,p,b,F,W,U,r,n,O,x,I,N,i,$]),dr(()=>{var le;if(l&&n&&(le=N.current)!=null&&le.__options.blockPointerEvents&&B()){z.current=!0;const te=o.floating;if(nr(o.domReference)&&te){var ie;const se=ni(o.floating).body;se.setAttribute(CO,"");const Y=o.domReference,ce=x==null||(ie=x.nodesRef.current.find(de=>de.id===_))==null||(ie=ie.context)==null?void 0:ie.elements.floating;return ce&&(ce.style.pointerEvents=""),se.style.pointerEvents="none",Y.style.pointerEvents="auto",te.style.pointerEvents="auto",()=>{se.style.pointerEvents="",Y.style.pointerEvents="",te.style.pointerEvents=""}}}},[l,n,_,o,x,N,B]),dr(()=>{n||(T.current=void 0,R.current=!1,W(),U())},[n,W,U]),K.useEffect(()=>()=>{W(),clearTimeout(q.current),clearTimeout(D.current),U()},[l,o.domReference,W,U]);const ee=K.useMemo(()=>{function le(ie){T.current=ie.pointerType}return{onPointerDown:le,onPointerEnter:le,onMouseMove(ie){const{nativeEvent:te}=ie;function se(){!L.current&&!O.current&&r(!0,te,"hover")}f&&!vh(T.current)||n||p===0||R.current&&ie.movementX**2+ie.movementY**2<2||(clearTimeout(D.current),T.current==="touch"?se():(R.current=!0,D.current=window.setTimeout(se,p)))}}},[f,r,n,O,p]),Z=K.useMemo(()=>({onMouseEnter(){clearTimeout(q.current)},onMouseLeave(le){$()||F(le.nativeEvent,!1)}}),[F,$]);return K.useMemo(()=>l?{reference:ee,floating:Z}:{},[l,ee,Z])}let TO=0;function Su(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(TO);const s=()=>t?.focus({preventScroll:n});i?s():TO=requestAnimationFrame(s)}function OO(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s?.parentId,s&&(r=r.concat(s))}return r}function Sd(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var l;return i.parentId===o.id&&((l=i.context)==null?void 0:l.open)})}),n=n.concat(r);return n}function y7(t,e){let n,r=-1;function i(s,o){o>r&&(n=s,r=o),Sd(t,s).forEach(c=>{i(c.id,o+1)})}return i(e,0),t.find(s=>s.id===n)}let Uc=new WeakMap,Ig=new WeakSet,Cg={},L_=0;const v7=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,kF=t=>t&&(t.host||kF(t.parentNode)),b7=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=kF(n);return t.contains(r)?r:null}).filter(n=>n!=null);function x7(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=b7(e,t),l=new Set,c=new Set(o),d=[];Cg[i]||(Cg[i]=new WeakMap);const f=Cg[i];o.forEach(p),b(e),l.clear();function p(x){!x||l.has(x)||(l.add(x),x.parentNode&&p(x.parentNode))}function b(x){!x||c.has(x)||[].forEach.call(x.children,_=>{if(Zl(_)!=="script")if(l.has(_))b(_);else{const N=s?_.getAttribute(s):null,I=N!==null&&N!=="false",O=Uc.get(_)||0,T=s?O+1:O,q=(f.get(_)||0)+1;Uc.set(_,T),f.set(_,q),d.push(_),T===1&&I&&Ig.add(_),q===1&&_.setAttribute(i,""),!I&&s&&_.setAttribute(s,"true")}})}return L_++,()=>{d.forEach(x=>{const _=Uc.get(x)||0,N=s?_-1:_,I=(f.get(x)||0)-1;Uc.set(x,N),f.set(x,I),N||(!Ig.has(x)&&s&&x.removeAttribute(s),Ig.delete(x)),I||x.removeAttribute(i)}),L_--,L_||(Uc=new WeakMap,Uc=new WeakMap,Ig=new WeakSet,Cg={})}}function qO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=ni(t[0]).body;return x7(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const fb=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function IF(t,e){const n=db(t,fb());e==="prev"&&n.reverse();const r=n.indexOf(bo(ni(t)));return n.slice(r+1)[0]}function CF(){return IF(document.body,"next")}function TF(){return IF(document.body,"prev")}function $p(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!ti(n,r)}function w7(t){db(t,fb()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function RO(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const pb={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let _7;function AO(t){t.key==="Tab"&&(t.target,clearTimeout(_7))}const lv=K.forwardRef(function(e,n){const[r,i]=K.useState();dr(()=>(rF()&&i("button"),document.addEventListener("keydown",AO),()=>{document.removeEventListener("keydown",AO)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ju("focus-guard")]:"",style:pb};return m.jsx("span",{...e,...s})}),OF=K.createContext(null),jO=Ju("portal");function S7(t){t===void 0&&(t={});const{id:e,root:n}=t,r=CN(),i=qF(),[s,o]=K.useState(null),l=K.useRef(null);return dr(()=>()=>{s?.remove(),queueMicrotask(()=>{l.current=null})},[s]),dr(()=>{if(!r||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=r,d.setAttribute(jO,""),c.appendChild(d),l.current=d,o(d)},[e,r]),dr(()=>{if(n===null||!r||l.current)return;let c=n||i?.portalNode;c&&!nr(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const f=document.createElement("div");f.id=r,f.setAttribute(jO,""),c=d||c,c.appendChild(f),l.current=f,o(f)},[e,n,r,i]),s}function TN(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,s=S7({id:n,root:r}),[o,l]=K.useState(null),c=K.useRef(null),d=K.useRef(null),f=K.useRef(null),p=K.useRef(null),b=o?.modal,x=o?.open,_=!!o&&!o.modal&&o.open&&i&&!!(r||s);return K.useEffect(()=>{if(!s||!i||b)return;function N(I){s&&$p(I)&&(I.type==="focusin"?RO:w7)(s)}return s.addEventListener("focusin",N,!0),s.addEventListener("focusout",N,!0),()=>{s.removeEventListener("focusin",N,!0),s.removeEventListener("focusout",N,!0)}},[s,i,b]),K.useEffect(()=>{s&&(x||RO(s))},[x,s]),m.jsxs(OF.Provider,{value:K.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:p,portalNode:s,setFocusManagerState:l}),[i,s]),children:[_&&s&&m.jsx(lv,{"data-type":"outside",ref:c,onFocus:N=>{if($p(N,s)){var I;(I=f.current)==null||I.focus()}else{const O=TF()||o?.domReference;O?.focus()}}}),_&&s&&m.jsx("span",{"aria-owns":s.id,style:pb}),s&&Lv.createPortal(e,s),_&&s&&m.jsx(lv,{"data-type":"outside",ref:d,onFocus:N=>{if($p(N,s)){var I;(I=p.current)==null||I.focus()}else{const O=CF()||o?.domReference;O?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,N.nativeEvent,"focus-out")}}})]})}const qF=()=>K.useContext(OF),tE="data-floating-ui-focusable";function nE(t){return t?t.hasAttribute(tE)?t:t.querySelector("["+tE+"]")||t:null}const E7=20;let Eu=[];function M_(t){Eu=Eu.filter(e=>e.isConnected),t&&Zl(t)!=="body"&&(Eu.push(t),Eu.length>E7&&(Eu=Eu.slice(-20)))}function PO(){return Eu.slice().reverse().find(t=>t.isConnected)}function N7(t){const e=fb();return C9(t,e)?t:db(t,e)[0]||t}const k7=K.forwardRef(function(e,n){return m.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:pb})});function RF(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:c=!1,modal:d=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:p=!0,outsideElementsInert:b=!1}=t,{open:x,onOpenChange:_,events:N,dataRef:I,elements:{domReference:O,floating:T}}=e,q=Oi(()=>{var De;return(De=I.current.floatingContext)==null?void 0:De.nodeId}),j=typeof o=="number"&&o<0,D=iF(O)&&j,L=v7(),z=L?s:!0,P=!z||L&&b,R=qi(i),B=qi(o),F=qi(l),W=nf(),U=qF(),$=K.useRef(null),ee=K.useRef(null),Z=K.useRef(!1),le=K.useRef(!1),ie=K.useRef(-1),te=U!=null,se=nE(T),Y=Oi(function(De){return De===void 0&&(De=se),De?db(De,fb()):[]}),ce=Oi(De=>{const Ze=Y(De);return R.current.map(Xe=>O&&Xe==="reference"?O:se&&Xe==="floating"?se:Ze).filter(Boolean).flat()});K.useEffect(()=>{if(r||!d)return;function De(Xe){if(Xe.key==="Tab"){ti(se,bo(ni(se)))&&Y().length===0&&!D&&Ii(Xe);const Ue=ce(),ut=Nl(Xe);R.current[0]==="reference"&&ut===O&&(Ii(Xe),Xe.shiftKey?Su(Ue[Ue.length-1]):Su(Ue[1])),R.current[1]==="floating"&&ut===se&&Xe.shiftKey&&(Ii(Xe),Su(Ue[0]))}}const Ze=ni(se);return Ze.addEventListener("keydown",De),()=>{Ze.removeEventListener("keydown",De)}},[r,O,se,d,R,D,Y,ce]),K.useEffect(()=>{if(r||!T)return;function De(Ze){const Xe=Nl(Ze),ut=Y().indexOf(Xe);ut!==-1&&(ie.current=ut)}return T.addEventListener("focusin",De),()=>{T.removeEventListener("focusin",De)}},[r,T,Y]),K.useEffect(()=>{if(r||!p)return;function De(){le.current=!0,setTimeout(()=>{le.current=!1})}function Ze(Xe){const Ue=Xe.relatedTarget;queueMicrotask(()=>{const ut=q(),_t=!(ti(O,Ue)||ti(T,Ue)||ti(Ue,T)||ti(U?.portalNode,Ue)||Ue!=null&&Ue.hasAttribute(Ju("focus-guard"))||W&&(Sd(W.nodesRef.current,ut).find(Tt=>{var Wt,Xt;return ti((Wt=Tt.context)==null?void 0:Wt.elements.floating,Ue)||ti((Xt=Tt.context)==null?void 0:Xt.elements.domReference,Ue)})||OO(W.nodesRef.current,ut).find(Tt=>{var Wt,Xt,xe;return[(Wt=Tt.context)==null?void 0:Wt.elements.floating,nE((Xt=Tt.context)==null?void 0:Xt.elements.floating)].includes(Ue)||((xe=Tt.context)==null?void 0:xe.elements.domReference)===Ue})));if(c&&_t&&bo(ni(se))===ni(se).body){Mr(se)&&se.focus();const Tt=ie.current,Wt=Y(),Xt=Wt[Tt]||Wt[Wt.length-1]||se;Mr(Xt)&&Xt.focus()}(D||!d)&&Ue&&_t&&!le.current&&Ue!==PO()&&(Z.current=!0,_(!1,Xe,"focus-out"))})}if(T&&Mr(O))return O.addEventListener("focusout",Ze),O.addEventListener("pointerdown",De),T.addEventListener("focusout",Ze),()=>{O.removeEventListener("focusout",Ze),O.removeEventListener("pointerdown",De),T.removeEventListener("focusout",Ze)}},[r,O,T,se,d,W,U,_,p,c,Y,D,q]);const de=K.useRef(null),ye=K.useRef(null),we=EO([de,U?.beforeInsideRef]),Ne=EO([ye,U?.afterInsideRef]);K.useEffect(()=>{var De;if(r||!T)return;const Ze=Array.from((U==null||(De=U.portalNode)==null?void 0:De.querySelectorAll("["+Ju("portal")+"]"))||[]),Xe=W&&!d?OO(W?.nodesRef.current,q()).map(_t=>{var Tt;return(Tt=_t.context)==null?void 0:Tt.elements.floating}):[],Ue=[T,...Ze,...Xe,$.current,ee.current,de.current,ye.current,U?.beforeOutsideRef.current,U?.afterOutsideRef.current,R.current.includes("reference")||D?O:null].filter(_t=>_t!=null),ut=d||D?qO(Ue,!P,P):qO(Ue);return()=>{ut()}},[r,O,T,d,R,U,D,z,P,W,q]),dr(()=>{if(r||!Mr(se))return;const De=ni(se),Ze=bo(De);queueMicrotask(()=>{const Xe=ce(se),Ue=B.current,ut=(typeof Ue=="number"?Xe[Ue]:Ue.current)||se,_t=ti(se,Ze);!j&&!_t&&x&&Su(ut,{preventScroll:ut===se})})},[r,x,se,j,ce,B]),dr(()=>{if(r||!se)return;let De=!1;const Ze=ni(se),Xe=bo(Ze);let ut=I.current.openEvent;M_(Xe);function _t(Xt){let{open:xe,reason:ve,event:ke,nested:je}=Xt;xe&&(ut=ke),ve==="escape-key"&&O&&M_(O),["hover","safe-polygon"].includes(ve)&&ke.type==="mouseleave"&&(Z.current=!0),ve==="outside-press"&&(je?(Z.current=!1,De=!0):Z.current=!(nF(ke)||_N(ke)))}N.on("openchange",_t);const Tt=Ze.createElement("span");Tt.setAttribute("tabindex","-1"),Tt.setAttribute("aria-hidden","true"),Object.assign(Tt.style,pb),te&&O&&O.insertAdjacentElement("afterend",Tt);function Wt(){return typeof F.current=="boolean"?PO()||Tt:F.current.current||Tt}return()=>{N.off("openchange",_t);const Xt=bo(Ze),xe=ti(T,Xt)||W&&Sd(W.nodesRef.current,q()).some(je=>{var Ve;return ti((Ve=je.context)==null?void 0:Ve.elements.floating,Xt)});(xe||ut&&["click","mousedown"].includes(ut.type))&&O&&M_(O);const ke=Wt();queueMicrotask(()=>{const je=N7(ke);F.current&&!Z.current&&Mr(je)&&(!(je!==Xt&&Xt!==Ze.body)||xe)&&je.focus({preventScroll:De}),Tt.remove()})}},[r,T,se,F,I,N,W,te,O,q]),K.useEffect(()=>{queueMicrotask(()=>{Z.current=!1})},[r]),dr(()=>{if(!r&&U)return U.setFocusManagerState({modal:d,closeOnFocusOut:p,open:x,onOpenChange:_,domReference:O}),()=>{U.setFocusManagerState(null)}},[r,U,d,x,_,p,O]),dr(()=>{if(r||!se||typeof MutationObserver!="function"||j)return;const De=()=>{const Xe=se.getAttribute("tabindex"),Ue=Y(),ut=bo(ni(T)),_t=Ue.indexOf(ut);_t!==-1&&(ie.current=_t),R.current.includes("floating")||ut!==O&&Ue.length===0?Xe!=="0"&&se.setAttribute("tabindex","0"):Xe!=="-1"&&se.setAttribute("tabindex","-1")};De();const Ze=new MutationObserver(De);return Ze.observe(se,{childList:!0,subtree:!0,attributes:!0}),()=>{Ze.disconnect()}},[r,T,se,O,R,Y,j]);function ze(De){return r||!f||!d?null:m.jsx(k7,{ref:De==="start"?$:ee,onClick:Ze=>_(!1,Ze.nativeEvent),children:typeof f=="string"?f:"Dismiss"})}const qe=!r&&z&&(d?!D:!0)&&(te||d);return m.jsxs(m.Fragment,{children:[qe&&m.jsx(lv,{"data-type":"inside",ref:we,onFocus:De=>{if(d){const Xe=ce();Su(i[0]==="reference"?Xe[0]:Xe[Xe.length-1])}else if(U!=null&&U.preserveTabOrder&&U.portalNode)if(Z.current=!1,$p(De,U.portalNode)){const Xe=CF()||O;Xe?.focus()}else{var Ze;(Ze=U.beforeOutsideRef.current)==null||Ze.focus()}}}),!D&&ze("start"),n,ze("end"),qe&&m.jsx(lv,{"data-type":"inside",ref:Ne,onFocus:De=>{if(d)Su(ce()[0]);else if(U!=null&&U.preserveTabOrder&&U.portalNode)if(p&&(Z.current=!0),$p(De,U.portalNode)){const Xe=TF()||O;Xe?.focus()}else{var Ze;(Ze=U.afterOutsideRef.current)==null||Ze.focus()}}})]})}let Tg=0;function I7(){const t=/iP(hone|ad|od)|iOS/.test(wN()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=e.left?parseFloat(e.left):window.scrollX,o=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var l,c;const d=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,f=((c=window.visualViewport)==null?void 0:c.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(o-Math.floor(f))+"px",left:-(s-Math.floor(d))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o))}}let FO=()=>{};const C7=K.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return dr(()=>{if(r)return Tg++,Tg===1&&(FO=I7()),()=>{Tg--,Tg===0&&FO()}},[r]),m.jsx("div",{ref:n,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});function DO(t){return Mr(t.target)&&t.target.tagName==="BUTTON"}function LO(t){return SN(t)}function ON(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:d=!1,keyboardHandlers:f=!0,stickIfOpen:p=!0}=e,b=K.useRef(),x=K.useRef(!1),_=K.useMemo(()=>({onPointerDown(N){b.current=N.pointerType},onMouseDown(N){const I=b.current;N.button===0&&l!=="click"&&(vh(I,!0)&&d||(n&&c&&(!(i.current.openEvent&&p)||i.current.openEvent.type==="mousedown")?r(!1,N.nativeEvent,"click"):(N.preventDefault(),r(!0,N.nativeEvent,"click"))))},onClick(N){const I=b.current;if(l==="mousedown"&&b.current){b.current=void 0;return}vh(I,!0)&&d||(n&&c&&(!(i.current.openEvent&&p)||i.current.openEvent.type==="click")?r(!1,N.nativeEvent,"click"):r(!0,N.nativeEvent,"click"))},onKeyDown(N){b.current=void 0,!(N.defaultPrevented||!f||DO(N))&&(N.key===" "&&!LO(s)&&(N.preventDefault(),x.current=!0),N.key==="Enter"&&r(!(n&&c),N.nativeEvent,"click"))},onKeyUp(N){N.defaultPrevented||!f||DO(N)||LO(s)||N.key===" "&&x.current&&(x.current=!1,r(!(n&&c),N.nativeEvent,"click"))}}),[i,s,l,d,f,r,n,p,c]);return K.useMemo(()=>o?{reference:_}:{},[o,_])}const T7={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},O7={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},MO=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function qN(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:p="pointerdown",ancestorScroll:b=!1,bubbles:x,capture:_}=e,N=nf(),I=Oi(typeof c=="function"?c:()=>!1),O=typeof c=="function"?I:c,T=K.useRef(!1),q=K.useRef(!1),{escapeKey:j,outsidePress:D}=MO(x),{escapeKey:L,outsidePress:z}=MO(_),P=K.useRef(!1),R=Oi(ee=>{var Z;if(!n||!o||!l||ee.key!=="Escape"||P.current)return;const le=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,ie=N?Sd(N.nodesRef.current,le):[];if(!j&&(ee.stopPropagation(),ie.length>0)){let te=!0;if(ie.forEach(se=>{var Y;if((Y=se.context)!=null&&Y.open&&!se.context.dataRef.current.__escapeKeyBubbles){te=!1;return}}),!te)return}r(!1,XH(ee)?ee.nativeEvent:ee,"escape-key")}),B=Oi(ee=>{var Z;const le=()=>{var ie;R(ee),(ie=Nl(ee))==null||ie.removeEventListener("keydown",le)};(Z=Nl(ee))==null||Z.addEventListener("keydown",le)}),F=Oi(ee=>{var Z;const le=T.current;T.current=!1;const ie=q.current;if(q.current=!1,d==="click"&&ie||le||typeof O=="function"&&!O(ee))return;const te=Nl(ee),se="["+Ju("inert")+"]",Y=ni(i.floating).querySelectorAll(se);let ce=nr(te)?te:null;for(;ce&&!qa(ce);){const Ne=La(ce);if(qa(Ne)||!nr(Ne))break;ce=Ne}if(Y.length&&nr(te)&&!e9(te)&&!ti(te,i.floating)&&Array.from(Y).every(Ne=>!ti(ce,Ne)))return;if(Mr(te)&&$){const Ne=qa(te),ze=no(te),qe=/auto|scroll/,De=Ne||qe.test(ze.overflowX),Ze=Ne||qe.test(ze.overflowY),Xe=De&&te.clientWidth>0&&te.scrollWidth>te.clientWidth,Ue=Ze&&te.clientHeight>0&&te.scrollHeight>te.clientHeight,ut=ze.direction==="rtl",_t=Ue&&(ut?ee.offsetX<=te.offsetWidth-te.clientWidth:ee.offsetX>te.clientWidth),Tt=Xe&&ee.offsetY>te.clientHeight;if(_t||Tt)return}const de=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,ye=N&&Sd(N.nodesRef.current,de).some(Ne=>{var ze;return A_(ee,(ze=Ne.context)==null?void 0:ze.elements.floating)});if(A_(ee,i.floating)||A_(ee,i.domReference)||ye)return;const we=N?Sd(N.nodesRef.current,de):[];if(we.length>0){let Ne=!0;if(we.forEach(ze=>{var qe;if((qe=ze.context)!=null&&qe.open&&!ze.context.dataRef.current.__outsidePressBubbles){Ne=!1;return}}),!Ne)return}r(!1,ee,"outside-press")}),W=Oi(ee=>{var Z;const le=()=>{var ie;F(ee),(ie=Nl(ee))==null||ie.removeEventListener(d,le)};(Z=Nl(ee))==null||Z.addEventListener(d,le)});K.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=j,s.current.__outsidePressBubbles=D;let ee=-1;function Z(Y){r(!1,Y,"ancestor-scroll")}function le(){window.clearTimeout(ee),P.current=!0}function ie(){ee=window.setTimeout(()=>{P.current=!1},ub()?5:0)}const te=ni(i.floating);l&&(te.addEventListener("keydown",L?B:R,L),te.addEventListener("compositionstart",le),te.addEventListener("compositionend",ie)),O&&te.addEventListener(d,z?W:F,z);let se=[];return b&&(nr(i.domReference)&&(se=Al(i.domReference)),nr(i.floating)&&(se=se.concat(Al(i.floating))),!nr(i.reference)&&i.reference&&i.reference.contextElement&&(se=se.concat(Al(i.reference.contextElement)))),se=se.filter(Y=>{var ce;return Y!==((ce=te.defaultView)==null?void 0:ce.visualViewport)}),se.forEach(Y=>{Y.addEventListener("scroll",Z,{passive:!0})}),()=>{l&&(te.removeEventListener("keydown",L?B:R,L),te.removeEventListener("compositionstart",le),te.removeEventListener("compositionend",ie)),O&&te.removeEventListener(d,z?W:F,z),se.forEach(Y=>{Y.removeEventListener("scroll",Z)}),window.clearTimeout(ee)}},[s,i,l,O,d,n,r,b,o,j,D,R,L,B,F,z,W]),K.useEffect(()=>{T.current=!1},[O,d]);const U=K.useMemo(()=>({onKeyDown:R,...f&&{[T7[p]]:ee=>{r(!1,ee.nativeEvent,"reference-press")},...p!=="click"&&{onClick(ee){r(!1,ee.nativeEvent,"reference-press")}}}}),[R,r,f,p]),$=K.useMemo(()=>({onKeyDown:R,onMouseDown(){q.current=!0},onMouseUp(){q.current=!0},[O7[d]]:()=>{T.current=!0}}),[R,d]);return K.useMemo(()=>o?{reference:U,floating:$}:{},[o,U,$])}function q7(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=CN(),s=K.useRef({}),[o]=K.useState(()=>SF()),l=em()!=null,[c,d]=K.useState(r.reference),f=Oi((x,_,N)=>{s.current.openEvent=x?_:void 0,o.emit("openchange",{open:x,event:_,reason:N,nested:l}),n?.(x,_,N)}),p=K.useMemo(()=>({setPositionReference:d}),[]),b=K.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return K.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:b,events:o,floatingId:i,refs:p}),[e,f,b,o,i,p])}function RN(t){t===void 0&&(t={});const{nodeId:e}=t,n=q7({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=K.useState(null),[l,c]=K.useState(null),f=i?.domReference||s,p=K.useRef(null),b=nf();dr(()=>{f&&(p.current=f)},[f]);const x=t7({...t,elements:{...i,...l&&{reference:l}}}),_=K.useCallback(q=>{const j=nr(q)?{getBoundingClientRect:()=>q.getBoundingClientRect(),contextElement:q}:q;c(j),x.refs.setReference(j)},[x.refs]),N=K.useCallback(q=>{(nr(q)||q===null)&&(p.current=q,o(q)),(nr(x.refs.reference.current)||x.refs.reference.current===null||q!==null&&!nr(q))&&x.refs.setReference(q)},[x.refs]),I=K.useMemo(()=>({...x.refs,setReference:N,setPositionReference:_,domReference:p}),[x.refs,N,_]),O=K.useMemo(()=>({...x.elements,domReference:f}),[x.elements,f]),T=K.useMemo(()=>({...x,...r,refs:I,elements:O,nodeId:e}),[x,I,O,e,r]);return dr(()=>{r.dataRef.current.floatingContext=T;const q=b?.nodesRef.current.find(j=>j.id===e);q&&(q.context=T)}),K.useMemo(()=>({...x,context:T,refs:I,elements:O}),[x,I,O,T])}function R7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:l=!0,visibleOnly:c=!0}=e,d=K.useRef(!1),f=K.useRef(),p=K.useRef(!0);K.useEffect(()=>{if(!l)return;const x=ls(o.domReference);function _(){!n&&Mr(o.domReference)&&o.domReference===bo(ni(o.domReference))&&(d.current=!0)}function N(){p.current=!0}return x.addEventListener("blur",_),x.addEventListener("keydown",N,!0),()=>{x.removeEventListener("blur",_),x.removeEventListener("keydown",N,!0)}},[o.domReference,n,l]),K.useEffect(()=>{if(!l)return;function x(_){let{reason:N}=_;(N==="reference-press"||N==="escape-key")&&(d.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[i,l]),K.useEffect(()=>()=>{clearTimeout(f.current)},[]);const b=K.useMemo(()=>({onPointerDown(x){_N(x.nativeEvent)||(p.current=!1)},onMouseLeave(){d.current=!1},onFocus(x){if(d.current)return;const _=Nl(x.nativeEvent);if(c&&nr(_))try{if(rF()&&JH())throw Error();if(!_.matches(":focus-visible"))return}catch{if(!p.current&&!SN(_))return}r(!0,x.nativeEvent,"focus")},onBlur(x){d.current=!1;const _=x.relatedTarget,N=x.nativeEvent,I=nr(_)&&_.hasAttribute(Ju("focus-guard"))&&_.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var O;const T=bo(o.domReference?o.domReference.ownerDocument:document);!_&&T===o.domReference||ti((O=s.current.floatingContext)==null?void 0:O.refs.floating.current,T)||ti(o.domReference,T)||I||r(!1,N,"focus")})}}),[s,o.domReference,r,c]);return K.useMemo(()=>l?{reference:b}:{},[l,b])}const $O="active",BO="selected";function $_(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[$O]:o,[BO]:l,...c}=t;s=c}return{...n==="floating"&&{tabIndex:-1,[tE]:""},...s,...e.map(o=>{const l=o?o[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((o,l)=>(l&&Object.entries(l).forEach(c=>{let[d,f]=c;if(!(i&&[$O,BO].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var p;(p=r.get(d))==null||p.push(f),o[d]=function(){for(var b,x=arguments.length,_=new Array(x),N=0;N<x;N++)_[N]=arguments[N];return(b=r.get(d))==null?void 0:b.map(I=>I(..._)).find(I=>I!==void 0)}}}else o[d]=f}),o),{})}}function AN(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),r=t.map(l=>l?.item),i=K.useCallback(l=>$_(l,t,"reference"),e),s=K.useCallback(l=>$_(l,t,"floating"),n),o=K.useCallback(l=>$_(l,t,"item"),r);return K.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function hb(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function zO(t,e){return hb(e,t===IN||t===Xh,t===jl||t===Pl)}function B_(t,e,n){return hb(e,t===Xh,n?t===jl:t===Pl)||t==="Enter"||t===" "||t===""}function A7(t,e,n){return hb(e,n?t===jl:t===Pl,t===Xh)}function WO(t,e,n){return hb(e,n?t===Pl:t===jl,t===IN)}function j7(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:d=null,allowEscape:f=!1,loop:p=!1,nested:b=!1,rtl:x=!1,virtual:_=!1,focusItemOnOpen:N="auto",focusItemOnHover:I=!0,openOnArrowKeyDown:O=!0,disabledIndices:T=void 0,orientation:q="vertical",cols:j=1,scrollItemIntoView:D=!0,virtualItemRef:L,itemSizes:z,dense:P=!1}=e,R=nE(i.floating),B=qi(R),F=em(),W=nf(),U=Oi(()=>{l(Z.current===-1?null:Z.current)}),$=iF(i.domReference),ee=K.useRef(N),Z=K.useRef(d??-1),le=K.useRef(null),ie=K.useRef(!0),te=K.useRef(U),se=K.useRef(!!i.floating),Y=K.useRef(n),ce=K.useRef(!1),de=K.useRef(!1),ye=qi(T),we=qi(n),Ne=qi(D),ze=qi(d),[qe,De]=K.useState(),[Ze,Xe]=K.useState(),Ue=Oi(()=>{function ve(Ve){_?(De(Ve.id),W?.events.emit("virtualfocus",Ve),L&&(L.current=Ve)):Su(Ve,{sync:ce.current,preventScroll:!0})}const ke=s.current[Z.current];ke&&ve(ke),(ce.current?Ve=>Ve():requestAnimationFrame)(()=>{const Ve=s.current[Z.current]||ke;if(!Ve)return;ke||ve(Ve);const rt=Ne.current;rt&&_t&&(de.current||!ie.current)&&(Ve.scrollIntoView==null||Ve.scrollIntoView(typeof rt=="boolean"?{block:"nearest",inline:"nearest"}:rt))})});dr(()=>{c&&(n&&i.floating?ee.current&&d!=null&&(de.current=!0,Z.current=d,U()):se.current&&(Z.current=-1,te.current()))},[c,n,i.floating,d,U]),dr(()=>{if(c&&n&&i.floating)if(o==null){if(ce.current=!1,ze.current!=null)return;if(se.current&&(Z.current=-1,Ue()),(!Y.current||!se.current)&&ee.current&&(le.current!=null||ee.current===!0&&le.current==null)){let ve=0;const ke=()=>{s.current[0]==null?(ve<2&&(ve?requestAnimationFrame:queueMicrotask)(ke),ve++):(Z.current=le.current==null||B_(le.current,q,x)||b?F_(s,ye.current):NO(s,ye.current),le.current=null,U())};ke()}}else Mp(s,o)||(Z.current=o,Ue(),de.current=!1)},[c,n,i.floating,o,ze,b,s,q,x,U,Ue,ye]),dr(()=>{var ve;if(!c||i.floating||!W||_||!se.current)return;const ke=W.nodesRef.current,je=(ve=ke.find(Me=>Me.id===F))==null||(ve=ve.context)==null?void 0:ve.elements.floating,Ve=bo(ni(i.floating)),rt=ke.some(Me=>Me.context&&ti(Me.context.elements.floating,Ve));je&&!rt&&ie.current&&je.focus({preventScroll:!0})},[c,i.floating,W,F,_]),dr(()=>{if(!c||!W||!_||F)return;function ve(ke){Xe(ke.id),L&&(L.current=ke)}return W.events.on("virtualfocus",ve),()=>{W.events.off("virtualfocus",ve)}},[c,W,_,F,L]),dr(()=>{te.current=U,Y.current=n,se.current=!!i.floating}),dr(()=>{n||(le.current=null)},[n]);const ut=o!=null,_t=K.useMemo(()=>{function ve(je){if(!n)return;const Ve=s.current.indexOf(je);Ve!==-1&&Z.current!==Ve&&(Z.current=Ve,U())}return{onFocus(je){let{currentTarget:Ve}=je;ce.current=!0,ve(Ve)},onClick:je=>{let{currentTarget:Ve}=je;return Ve.focus({preventScroll:!0})},...I&&{onMouseMove(je){let{currentTarget:Ve}=je;ce.current=!0,de.current=!1,ve(Ve)},onPointerLeave(je){let{pointerType:Ve}=je;if(!(!ie.current||Ve==="touch")&&(ce.current=!0,Z.current=-1,U(),!_)){var rt;(rt=B.current)==null||rt.focus({preventScroll:!0})}}}}},[n,B,I,s,U,_]),Tt=Oi(ve=>{if(ie.current=!1,ce.current=!0,ve.which===229||!we.current&&ve.currentTarget===B.current)return;if(b&&WO(ve.key,q,x)){Ii(ve),r(!1,ve.nativeEvent,"list-navigation"),Mr(i.domReference)&&(_?W?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ke=Z.current,je=F_(s,T),Ve=NO(s,T);if($||(ve.key==="Home"&&(Ii(ve),Z.current=je,U()),ve.key==="End"&&(Ii(ve),Z.current=Ve,U())),j>1){const rt=z||Array.from({length:s.current.length},()=>({width:1,height:1})),Me=a7(rt,j,P),ct=Me.findIndex(dn=>dn!=null&&!dy(s.current,dn,T)),Ht=Me.reduce((dn,rr,Rn)=>rr!=null&&!dy(s.current,rr,T)?Rn:dn,-1),Qt=Me[o7({current:Me.map(dn=>dn!=null?s.current[dn]:null)},{event:ve,orientation:q,loop:p,rtl:x,cols:j,disabledIndices:u7([...T||s.current.map((dn,rr)=>dy(s.current,rr)?rr:void 0),void 0],Me),minIndex:ct,maxIndex:Ht,prevIndex:l7(Z.current>Ve?je:Z.current,rt,Me,j,ve.key===Xh?"bl":ve.key===(x?jl:Pl)?"tr":"tl"),stopEvent:!0})];if(Qt!=null&&(Z.current=Qt,U()),q==="both")return}if(zO(ve.key,q)){if(Ii(ve),n&&!_&&bo(ve.currentTarget.ownerDocument)===ve.currentTarget){Z.current=B_(ve.key,q,x)?je:Ve,U();return}B_(ve.key,q,x)?p?Z.current=ke>=Ve?f&&ke!==s.current.length?-1:je:pi(s,{startingIndex:ke,disabledIndices:T}):Z.current=Math.min(Ve,pi(s,{startingIndex:ke,disabledIndices:T})):p?Z.current=ke<=je?f&&ke!==-1?s.current.length:Ve:pi(s,{startingIndex:ke,decrement:!0,disabledIndices:T}):Z.current=Math.max(je,pi(s,{startingIndex:ke,decrement:!0,disabledIndices:T})),Mp(s,Z.current)&&(Z.current=-1),U()}}),Wt=K.useMemo(()=>_&&n&&ut&&{"aria-activedescendant":Ze||qe},[_,n,ut,Ze,qe]),Xt=K.useMemo(()=>({"aria-orientation":q==="both"?void 0:q,...$?{}:Wt,onKeyDown:Tt,onPointerMove(){ie.current=!0}}),[Wt,Tt,q,$]),xe=K.useMemo(()=>{function ve(je){N==="auto"&&nF(je.nativeEvent)&&(ee.current=!0)}function ke(je){ee.current=N,N==="auto"&&_N(je.nativeEvent)&&(ee.current=!0)}return{...Wt,onKeyDown(je){ie.current=!1;const Ve=je.key.startsWith("Arrow"),rt=["Home","End"].includes(je.key),Me=Ve||rt,ct=A7(je.key,q,x),Ht=WO(je.key,q,x),Qt=zO(je.key,q),dn=(b?ct:Qt)||je.key==="Enter"||je.key.trim()==="";if(_&&n){const Si=W?.nodesRef.current.find(Kt=>Kt.parentId==null),mr=W&&Si?y7(W.nodesRef.current,Si.id):null;if(Me&&mr&&L){const Kt=new KeyboardEvent("keydown",{key:je.key,bubbles:!0});if(ct||Ht){var rr,Rn;const Ui=((rr=mr.context)==null?void 0:rr.elements.domReference)===je.currentTarget,Vi=Ht&&!Ui?(Rn=mr.context)==null?void 0:Rn.elements.domReference:ct?s.current.find(Hi=>Hi?.id===qe):null;Vi&&(Ii(je),Vi.dispatchEvent(Kt),Xe(void 0))}if((Qt||rt)&&mr.context&&mr.context.open&&mr.parentId&&je.currentTarget!==mr.context.elements.domReference){var jr;Ii(je),(jr=mr.context.elements.domReference)==null||jr.dispatchEvent(Kt);return}}return Tt(je)}if(!(!n&&!O&&Ve)){if(dn&&(le.current=b&&Qt?null:je.key),b){ct&&(Ii(je),n?(Z.current=F_(s,ye.current),U()):r(!0,je.nativeEvent,"list-navigation"));return}Qt&&(d!=null&&(Z.current=d),Ii(je),!n&&O?r(!0,je.nativeEvent,"list-navigation"):Tt(je),n&&U())}},onFocus(){n&&!_&&(Z.current=-1,U())},onPointerDown:ke,onPointerEnter:ke,onMouseDown:ve,onClick:ve}},[qe,Wt,Tt,ye,N,s,b,U,r,n,O,q,x,d,W,_,L]);return K.useMemo(()=>c?{reference:xe,floating:Xt,item:_t}:{},[c,xe,Xt,_t])}const UO=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Vc(t,e){return typeof t=="function"?t(e):t}function P7(t,e){const[n,r]=K.useState(t);return t&&!n&&r(!0),K.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function F7(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,o=(typeof i=="number"?i:i.close)||0,[l,c]=K.useState("unmounted"),d=P7(n,o);return!d&&l==="close"&&c("unmounted"),dr(()=>{if(r){if(n){c("initial");const f=requestAnimationFrame(()=>{c("open")});return()=>{cancelAnimationFrame(f)}}c("close")}},[n,r]),{isMounted:d,status:l}}function jN(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:o=250}=e,l=t.placement,c=l.split("-")[0],d=K.useMemo(()=>({side:c,placement:l}),[c,l]),f=typeof o=="number",p=(f?o:o.open)||0,b=(f?o:o.close)||0,[x,_]=K.useState(()=>({...Vc(s,d),...Vc(n,d)})),{isMounted:N,status:I}=F7(t,{duration:o}),O=qi(n),T=qi(r),q=qi(i),j=qi(s);return dr(()=>{const D=Vc(O.current,d),L=Vc(q.current,d),z=Vc(j.current,d),P=Vc(T.current,d)||Object.keys(D).reduce((R,B)=>(R[B]="",R),{});if(I==="initial"&&_(R=>({transitionProperty:R.transitionProperty,...z,...D})),I==="open"&&_({transitionProperty:Object.keys(P).map(UO).join(","),transitionDuration:p+"ms",...z,...P}),I==="close"){const R=L||D;_({transitionProperty:Object.keys(R).map(UO).join(","),transitionDuration:b+"ms",...z,...R})}},[b,q,O,T,j,p,I,d]),{isMounted:N,styles:x}}const D7=K.createContext({close(){}}),L7=gn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),M7=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:s,variant:o,tva:l=L7,css:c,children:d})=>{const[f,p]=K.useState(!1),{refs:b,floatingStyles:x,context:_}=RN({open:f,onOpenChange:p,placement:"top",whileElementsMounted:vF,middleware:[xF(10),wF({fallbackAxisSideDirection:"start"}),n7()],...s}),{getReferenceProps:N,getFloatingProps:I}=AN([g7(_,{enabled:e==="hover",delay:i}),ON(_,{enabled:e==="click"}),R7(_),qN(_)]),{isMounted:O,styles:T}=jN(_),q=l({mounted:O,...o,css:c}).slots;return m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",ref:b.setReference,...N(),disabled:n,className:q.target(),children:t}),m.jsx(TN,{children:m.jsx("div",{ref:b.setFloating,style:{...x,...T},className:q.portal(),...I(),onClick:r?()=>{p(!1)}:void 0,children:m.jsx(D7.Provider,{value:{close(){p(!1)}},children:d})})})]})},AF="icon-[system-uicons--menu-hamburger]",jF=gn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),en=({icon:t,variant:e,tva:n=jF,css:r,...i})=>{const s=n({...e,css:r}).slots;return t?m.jsx("div",{className:s.base({css:[t]}),...i}):null},$7=gn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),Yn=({icon:t=AF,iconProps:e,children:n,variant:r,tva:i=$7,css:s,...o})=>{const l=i({...r,css:s}).slots;return m.jsx(m7,{children:m.jsx(M7,{action:"click",target:m.jsx(en,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...o,children:m.jsx("div",{className:l.base(),children:n})})})},PF="icon-[svg-spinners--90-ring-with-bg]",B7=gn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),tm=({iconEnabled:t,iconDisabled:e,iconLoading:n=PF,disabled:r=!1,loading:i=!1,onClick:s,variant:o,tva:l=B7,css:c,children:d,...f})=>{const p=l({disabled:r,loading:i,...o,css:c}).slots;return m.jsxs("div",{className:p.base(),onClick:r?void 0:s,...f,children:[r?m.jsx(en,{icon:i?n:e??t}):m.jsx(en,{icon:i?n:t}),d]})},FF="icon-[iconamoon--close-light]",mb=K.createContext(void 0),z7=gn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),rf=({target:t,icon:e,textTitle:n,disabled:r=!1,defaultOpen:i=!1,outside:s=!1,variant:o,css:l,tva:c=z7,children:d})=>{const[f,p]=K.useState(i),b=p7(),{refs:x,context:_}=RN({nodeId:b,open:f,onOpenChange:p}),N=ON(_),I=qN(_,{outsidePress:s}),{getReferenceProps:O,getFloatingProps:T}=AN([N,I]),{isMounted:q,styles:j}=jN(_),D=c({disabled:r,...o,css:l}).slots;return m.jsxs(mb.Provider,{value:{close(){p(!1)}},children:[m.jsx("div",{ref:x.setReference,...O({disabled:r}),className:D.target(),children:t}),m.jsx(h7,{id:b,children:q&&m.jsx(m.Fragment,{children:m.jsx(TN,{children:m.jsx(C7,{lockScroll:!0,style:j,className:D.base(),children:m.jsx(RF,{context:_,children:m.jsxs("div",{ref:x.setFloating,...T(),className:D.modal(),children:[m.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Yv(e)?m.jsx(en,{icon:e,variant:{size:"xl"}}):e),n&&m.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),m.jsx(tm,{iconEnabled:FF,onClick:()=>p(!1)})]}),UH(d)?m.jsx(d,{close:()=>p(!1)}):d]})})})})})})]})},W7=gn({use:YP,slot:{},variant:{},defaults:{}}),bn=({icon:t,iconProps:e,label:n,disabled:r=!1,hidden:i=!1,variant:s,tva:o=W7,css:l,...c})=>{const d=o({...s,disabled:r,css:l}).slots;return i?null:m.jsxs("div",{className:d.base(),children:[Yv(t)?m.jsx(en,{icon:t,...e}):t,m.jsx(rf,{icon:t,target:n,disabled:r,css:{modal:["w-1/2"]},...c})]})},U7=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),Qo=({variant:t,tva:e=U7,css:n,...r})=>{const i=e({...t,css:n}).slots;return m.jsx("div",{className:i.base(),...r})},V7="icon-[material-symbols-light--check-small]",H7="icon-[material-symbols-light--close-small]",Q7="icon-[material-symbols-light--check-indeterminate-small]",K7=gn({use:jF,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),DF=({value:t,checkIcon:e=V7,unCheckIcon:n=H7,undefinedIcon:r=Q7,tva:i=K7,...s})=>t==null?m.jsx(en,{icon:r,tva:i,...s}):m.jsx(en,{icon:t?e:n,tva:o=>i({...o,value:t}),...s}),G7=gn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),LF=({value:t,onChange:e,variant:n,tva:r=G7,css:i,...s})=>{const o=r({...n,css:i}).slots;return m.jsx("div",{className:o.base(),children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:l=>{e(l.target.checked)},...s}),m.jsx("div",{className:o.switch()})]})})},Z7=gn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),Nn=({iconEnabled:t,iconDisabled:e,iconLoading:n=PF,iconProps:r,loading:i,variant:s,tva:o=Z7,css:l,children:c,...d})=>{const f=o({disabled:d.disabled,...s,css:l}).slots;return m.jsxs("button",{type:"button",className:f.base({disabled:d.disabled}),...d,children:[d.disabled?m.jsx(en,{icon:i===!0?n:e,variant:{size:"xl"},...r}):m.jsx(en,{icon:i===!0?n:t,variant:{size:"xl"},...r}),c]})},PN=K.createContext({inline:!1}),J7=gn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),Y7=({inline:t,label:e,value:n,variant:r,tva:i=J7,css:s})=>{const o=K.useContext(PN),l=t??o?.inline,c=i({inline:l,...r,css:s}).slots;return m.jsxs("div",{className:c.base(),children:[e?m.jsx("div",{className:c.label(),children:e}):null,m.jsx("div",{className:c.value(),children:n})]})},X7=gn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),eQ=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:s=X7,css:o,inline:l=!1})=>{const c=s({inline:l,...i,css:o}).slots;return m.jsx(PN.Provider,{value:{inline:l},children:m.jsx("div",{className:c.base(),children:t.filter(({id:d})=>!e.includes(d)).map(({id:d,render:f,...p})=>m.jsx(Y7,{value:m.jsx(f,{entity:r}),...n,...p},d))})})},tQ=gn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),VO="icon-[tabler--dots]",nQ=gn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),rQ=gn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),z_=({pages:t,page:e,onPage:n,variant:r,tva:i=rQ,css:s})=>{const o=i({...r,css:s}).slots;return m.jsx("nav",{className:o.base(),children:m.jsx("ul",{className:o.list(),children:t.map((l,c)=>m.jsx("li",{className:o.page({current:e===l-1}),onClick:()=>n(l-1),children:l},`page-${l}-${c}`))})})},iQ=gn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),sQ=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:s=!1,onItem:o,onSelect:l,onChange:c,value:d,variant:f,tva:p=iQ,css:b})=>{const[x,_]=K.useState(!1),[N,I]=K.useState(null),[O,T]=K.useState(t.findIndex(te=>te.id===n));K.useEffect(()=>{T(t.findIndex(te=>te.id===d))},[d]);const{refs:q,floatingStyles:j,context:D}=RN({placement:"bottom-start",open:x,onOpenChange:_,whileElementsMounted:vF,middleware:[xF(5),wF({padding:10}),r7({apply({rects:te,elements:se,availableHeight:Y}){Object.assign(se.floating.style,{maxHeight:`${Y}px`,minWidth:`${te.reference.width}px`})},padding:10})]}),L=K.useRef([]),z=K.useRef(!1),P=ON(D,{event:"mousedown"}),R=qN(D),B=j7(D,{listRef:L,activeIndex:N,selectedIndex:O,onNavigate:I,loop:!0}),{getReferenceProps:F,getFloatingProps:W,getItemProps:U}=AN([R,B,P]),{isMounted:$,styles:ee}=jN(D),Z=te=>{T(te),_(!1);const se=t[te];se&&o?.(se),l?.(se),c?.(se?.id)},le=O===null?void 0:t[O],ie=p({disabled:s,...f,css:b}).slots;return m.jsxs(m.Fragment,{children:[m.jsx("div",{tabIndex:s?-1:0,ref:s?void 0:q.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...s?{}:F(),className:ie.base(),children:m.jsxs("div",{className:ie.input(),children:[e?m.jsx(en,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,le?m.jsx(r,{entity:le}):i||Dl.rich("Select item"),m.jsx(en,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!x&&"text-slate-400",x&&"text-slate-600","group-hover:text-slate-600"]}})]})}),$&&m.jsx(TN,{children:m.jsx(RF,{context:D,modal:!1,children:m.jsx("div",{ref:q.setFloating,style:{...j,...ee},className:ie.popup(),...W(),children:t.map((te,se)=>m.jsxs("div",{ref:Y=>{L.current[se]=Y},role:"option",tabIndex:se===N?0:-1,"aria-selected":se===O&&se===N,className:ie.item({selected:se===O,active:se===N}),...U({onClick(){Z(se)},onKeyDown(Y){Y.key==="Enter"&&(Y.preventDefault(),Z(se)),Y.key===" "&&!z.current&&(Y.preventDefault(),Z(se))}}),children:[m.jsx(r,{entity:te}),se===O&&m.jsx(en,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},te.id))})})})]})},oQ=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>m.jsx(sQ,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),HO=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:s,tva:o=nQ,css:l})=>{const c=K.useMemo(()=>AH({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),d=o({...s,css:l}).slots;return m.jsxs("div",{className:d.base(),children:[c.total>1?m.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(c.type)&&m.jsxs(m.Fragment,{children:[m.jsx(z_,{page:t.page,pages:c.start,onPage:r}),m.jsx(en,{icon:VO})]}),m.jsx(z_,{page:t.page,pages:c.pages,onPage:r}),["both","end"].includes(c.type)&&m.jsxs(m.Fragment,{children:[m.jsx(en,{icon:VO}),m.jsx(z_,{page:t.page,pages:c.end,onPage:r})]})]}):null,m.jsxs("div",{className:d.sums(),children:[m.jsx("div",{children:n}),m.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&m.jsxs(m.Fragment,{children:[m.jsx("div",{children:"/"}),m.jsx("div",{className:"font-semibold",children:e.where})]})]}),m.jsx(oQ,{size:t.size,onSize:i})]})},QO="function",rd="64e10b34-2bf7-4616-9668-f99de5aa046e",aQ="get",lQ="has",uQ="set",{isArray:fy}=Array;let{SharedArrayBuffer:uv,window:cQ}=globalThis,{notify:MF,wait:$F,waitAsync:cv}=Atomics,BF=null;cv||(cv=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new uv(4)}catch{uv=ArrayBuffer;const e=new WeakMap;if(cQ){const n=new Map,{prototype:{postMessage:r}}=Worker,i=s=>{const o=s.data?.[rd];if(!fy(o)){s.stopImmediatePropagation();const{id:l,sb:c}=o;n.get(l)(c)}};BF=function(s,...o){const l=s?.[rd];if(fy(l)){const[c,d]=l;e.set(d,c),this.addEventListener("message",i)}return r.call(this,s,...o)},cv=s=>({value:new Promise(o=>{n.set(e.get(s),o)}).then(o=>{n.delete(e.get(s)),e.delete(s);for(let l=0;l<o.length;l++)s[l]=o[l];return"ok"})})}else{const n=(r,i)=>({[rd]:{id:r,sb:i}});MF=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[rd];if(fy(i)){const[s,o]=i;e.set(o,s)}})}}const{Int32Array:rE,Map:KO,Uint16Array:iE}=globalThis,{BYTES_PER_ELEMENT:GO}=rE,{BYTES_PER_ELEMENT:dQ}=iE,fQ=(t,e,n)=>{for(;$F(t,0,0,e)==="timed-out";)n()},sE=new WeakSet,W_=new WeakMap,pQ={value:{then:t=>t()}};let hQ=0;const FN=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!W_.has(t)){const s=BF||t.postMessage,o=(b,...x)=>s.call(t,{[rd]:x},{transfer:b}),l=typeof i===QO?i:i?.handler,c=i?.delay||42,d=new TextDecoder("utf-16"),f=(b,x)=>b?cv(x,0):(l?fQ(x,c,l):$F(x,0),pQ);let p=!1;W_.set(t,new Proxy(new KO,{[lQ]:(b,x)=>typeof x=="string"&&!x.startsWith("_"),[aQ]:(b,x)=>x==="then"?null:(..._)=>{const N=hQ++;let I=new rE(new uv(GO*2)),O=[];sE.has(_.at(-1)||O)&&sE.delete(O=_.pop()),o(O,N,I,x,r?_.map(r):_);const T=t!==globalThis;let q=0;return p&&T&&(q=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${x}(...args) is awaited`)),f(T,I).value.then(()=>{clearTimeout(q);const j=I[1];if(!j)return;const D=dQ*j;return I=new rE(new uv(D+D%GO)),o([],N,I),f(T,I).value.then(()=>e(d.decode(new iE(I.buffer).slice(0,j))))})},[uQ](b,x,_){const N=typeof _;if(N!==QO)throw new Error(`Unable to assign ${x} as ${N}`);if(!b.size){const I=new KO;t.addEventListener("message",async O=>{const T=O.data?.[rd];if(fy(T)){O.stopImmediatePropagation();const[q,j,...D]=T;let L;if(D.length){const[z,P]=D;if(b.has(z)){p=!0;try{const R=await b.get(z)(...P);if(R!==void 0){const B=n(r?r(R):R);I.set(q,B),j[1]=B.length}}catch(R){L=R}finally{p=!1}}else L=new Error(`Unsupported action: ${z}`);j[0]=1}else{const z=I.get(q);I.delete(q);for(let P=new iE(j.buffer),R=0;R<z.length;R++)P[R]=z.charCodeAt(R)}if(MF(j,0),L)throw L}})}return!!b.set(x,_)}}))}return W_.get(t)};FN.transfer=(...t)=>(sE.add(t),t);var DN=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,s,o=new Promise((g,y)=>{i=g,s=y}),l=typeof window=="object",c=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const d=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,d.debugModule("globalThis.location =",globalThis.location);var f=Object.assign({},r),p="./this.program",b="";function x(g){return r.locateFile?r.locateFile(g,b):b+g}var _,N;(l||c)&&(c?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),t&&(b=t),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),c&&(N=g=>{var y=new XMLHttpRequest;return y.open("GET",g,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),_=g=>fetch(g,{credentials:"same-origin"}).then(y=>y.ok?y.arrayBuffer():Promise.reject(new Error(y.status+" : "+y.url))));var I=r.print||console.log.bind(console),O=r.printErr||console.error.bind(console);Object.assign(r,f),f=null,r.arguments&&r.arguments,r.thisProgram&&(p=r.thisProgram);var T=r.wasmBinary,q,j=!1,D,L,z,P,R,B;function F(){var g=q.buffer;r.HEAP8=D=new Int8Array(g),r.HEAP16=z=new Int16Array(g),r.HEAPU8=L=new Uint8Array(g),r.HEAPU16=new Uint16Array(g),r.HEAP32=P=new Int32Array(g),r.HEAPU32=R=new Uint32Array(g),r.HEAPF32=new Float32Array(g),r.HEAPF64=new Float64Array(g),r.HEAP64=B=new BigInt64Array(g),r.HEAPU64=new BigUint64Array(g)}if(r.wasmMemory)q=r.wasmMemory;else{var W=r.INITIAL_MEMORY||0x1000000;q=new WebAssembly.Memory({initial:W/65536,maximum:32768})}F();var U=[],$=[],ee=[];function Z(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)te(r.preRun.shift());xe(U)}function le(){!r.noFSInit&&!V.initialized&&V.init(),V.ignorePermissions=!1,xe($)}function ie(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Y(r.postRun.shift());xe(ee)}function te(g){U.unshift(g)}function se(g){$.unshift(g)}function Y(g){ee.unshift(g)}var ce=0,de=null;function ye(g){return g}function we(g){ce++,r.monitorRunDependencies?.(ce)}function Ne(g){if(ce--,r.monitorRunDependencies?.(ce),ce==0&&de){var y=de;de=null,y()}}function ze(g){r.onAbort?.(g),g="Aborted("+g+")",O(g),j=!0,g+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(g);throw s(y),y}var qe="data:application/octet-stream;base64,",De=g=>g.startsWith(qe);function Ze(){if(r.locateFile){var g="sqlite3.wasm";return De(g)?g:x(g)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var Xe;function Ue(g){if(g==Xe&&T)return new Uint8Array(T);if(N)return N(g);throw"both async and sync fetching of the wasm failed"}function ut(g){return T?Promise.resolve().then(()=>Ue(g)):_(g).then(y=>new Uint8Array(y),()=>Ue(g))}function _t(g,y,S){return ut(g).then(E=>WebAssembly.instantiate(E,y)).then(S,E=>{O(`failed to asynchronously prepare wasm: ${E}`),ze(E)})}function Tt(g,y,S,E){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!De(y)&&typeof fetch=="function"?fetch(y,{credentials:"same-origin"}).then(C=>{var M=WebAssembly.instantiateStreaming(C,S);return M.then(E,function(fe){return O(`wasm streaming compile failed: ${fe}`),O("falling back to ArrayBuffer instantiation"),_t(y,S,E)})}):_t(y,S,E)}function Wt(){return{env:Sf,wasi_snapshot_preview1:Sf}}function Xt(){var g=Wt();function y(E,C){return he=E.exports,se(he.__wasm_call_ctors),Ne(),he}we();function S(E){y(E.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(g,y)}catch(E){O(`Module.instantiateWasm callback failed with error: ${E}`),s(E)}return Xe||(Xe=Ze()),Tt(T,Xe,g,S).catch(s),{}}var xe=g=>{for(;g.length>0;)g.shift()(r)};r.noExitRuntime;var ve={isAbs:g=>g.charAt(0)==="/",splitPath:g=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(g).slice(1)},normalizeArray:(g,y)=>{for(var S=0,E=g.length-1;E>=0;E--){var C=g[E];C==="."?g.splice(E,1):C===".."?(g.splice(E,1),S++):S&&(g.splice(E,1),S--)}if(y)for(;S;S--)g.unshift("..");return g},normalize:g=>{var y=ve.isAbs(g),S=g.substr(-1)==="/";return g=ve.normalizeArray(g.split("/").filter(E=>!!E),!y).join("/"),!g&&!y&&(g="."),g&&S&&(g+="/"),(y?"/":"")+g},dirname:g=>{var y=ve.splitPath(g),S=y[0],E=y[1];return!S&&!E?".":(E&&(E=E.substr(0,E.length-1)),S+E)},basename:g=>{if(g==="/")return"/";g=ve.normalize(g),g=g.replace(/\/$/,"");var y=g.lastIndexOf("/");return y===-1?g:g.substr(y+1)},join:(...g)=>ve.normalize(g.join("/")),join2:(g,y)=>ve.normalize(g+"/"+y)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return g=>crypto.getRandomValues(g);ze("initRandomDevice")},je=g=>(je=ke())(g),Ve={resolve:(...g)=>{for(var y="",S=!1,E=g.length-1;E>=-1&&!S;E--){var C=E>=0?g[E]:V.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,S=ve.isAbs(C)}return y=ve.normalizeArray(y.split("/").filter(M=>!!M),!S).join("/"),(S?"/":"")+y||"."},relative:(g,y)=>{g=Ve.resolve(g).substr(1),y=Ve.resolve(y).substr(1);function S(tt){for(var at=0;at<tt.length&&tt[at]==="";at++);for(var mt=tt.length-1;mt>=0&&tt[mt]==="";mt--);return at>mt?[]:tt.slice(at,mt-at+1)}for(var E=S(g.split("/")),C=S(y.split("/")),M=Math.min(E.length,C.length),fe=M,me=0;me<M;me++)if(E[me]!==C[me]){fe=me;break}for(var Qe=[],me=fe;me<E.length;me++)Qe.push("..");return Qe=Qe.concat(C.slice(fe)),Qe.join("/")}},rt=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(g,y,S)=>{for(var E=y+S,C=y;g[C]&&!(C>=E);)++C;if(C-y>16&&g.buffer&&rt)return rt.decode(g.subarray(y,C));for(var M="";y<C;){var fe=g[y++];if(!(fe&128)){M+=String.fromCharCode(fe);continue}var me=g[y++]&63;if((fe&224)==192){M+=String.fromCharCode((fe&31)<<6|me);continue}var Qe=g[y++]&63;if((fe&240)==224?fe=(fe&15)<<12|me<<6|Qe:fe=(fe&7)<<18|me<<12|Qe<<6|g[y++]&63,fe<65536)M+=String.fromCharCode(fe);else{var tt=fe-65536;M+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return M},ct=[],Ht=g=>{for(var y=0,S=0;S<g.length;++S){var E=g.charCodeAt(S);E<=127?y++:E<=2047?y+=2:E>=55296&&E<=57343?(y+=4,++S):y+=3}return y},Qt=(g,y,S,E)=>{if(!(E>0))return 0;for(var C=S,M=S+E-1,fe=0;fe<g.length;++fe){var me=g.charCodeAt(fe);if(me>=55296&&me<=57343){var Qe=g.charCodeAt(++fe);me=65536+((me&1023)<<10)|Qe&1023}if(me<=127){if(S>=M)break;y[S++]=me}else if(me<=2047){if(S+1>=M)break;y[S++]=192|me>>6,y[S++]=128|me&63}else if(me<=65535){if(S+2>=M)break;y[S++]=224|me>>12,y[S++]=128|me>>6&63,y[S++]=128|me&63}else{if(S+3>=M)break;y[S++]=240|me>>18,y[S++]=128|me>>12&63,y[S++]=128|me>>6&63,y[S++]=128|me&63}}return y[S]=0,S-C};function dn(g,y,S){var E=Ht(g)+1,C=new Array(E),M=Qt(g,C,0,C.length);return C.length=M,C}var rr=()=>{if(!ct.length){var g=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(g=window.prompt("Input: "),g!==null&&(g+=`
`)),!g)return null;ct=dn(g)}return ct.shift()},Rn={ttys:[],init(){},shutdown(){},register(g,y){Rn.ttys[g]={input:[],output:[],ops:y},V.registerDevice(g,Rn.stream_ops)},stream_ops:{open(g){var y=Rn.ttys[g.node.rdev];if(!y)throw new V.ErrnoError(43);g.tty=y,g.seekable=!1},close(g){g.tty.ops.fsync(g.tty)},fsync(g){g.tty.ops.fsync(g.tty)},read(g,y,S,E,C){if(!g.tty||!g.tty.ops.get_char)throw new V.ErrnoError(60);for(var M=0,fe=0;fe<E;fe++){var me;try{me=g.tty.ops.get_char(g.tty)}catch{throw new V.ErrnoError(29)}if(me===void 0&&M===0)throw new V.ErrnoError(6);if(me==null)break;M++,y[S+fe]=me}return M&&(g.node.timestamp=Date.now()),M},write(g,y,S,E,C){if(!g.tty||!g.tty.ops.put_char)throw new V.ErrnoError(60);try{for(var M=0;M<E;M++)g.tty.ops.put_char(g.tty,y[S+M])}catch{throw new V.ErrnoError(29)}return E&&(g.node.timestamp=Date.now()),M}},default_tty_ops:{get_char(g){return rr()},put_char(g,y){y===null||y===10?(I(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(I(Me(g.output,0)),g.output=[])},ioctl_tcgets(g){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(g,y,S){return 0},ioctl_tiocgwinsz(g){return[24,80]}},default_tty1_ops:{put_char(g,y){y===null||y===10?(O(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(O(Me(g.output,0)),g.output=[])}}},jr=(g,y)=>(L.fill(0,g,g+y),g),Si=(g,y)=>Math.ceil(g/y)*y,mr=g=>{g=Si(g,65536);var y=Ef(65536,g);return y?jr(y,g):0},Kt={ops_table:null,mount(g){return Kt.createNode(null,"/",16895,0)},createNode(g,y,S,E){if(V.isBlkdev(S)||V.isFIFO(S))throw new V.ErrnoError(63);Kt.ops_table||={dir:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr,lookup:Kt.node_ops.lookup,mknod:Kt.node_ops.mknod,rename:Kt.node_ops.rename,unlink:Kt.node_ops.unlink,rmdir:Kt.node_ops.rmdir,readdir:Kt.node_ops.readdir,symlink:Kt.node_ops.symlink},stream:{llseek:Kt.stream_ops.llseek}},file:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr},stream:{llseek:Kt.stream_ops.llseek,read:Kt.stream_ops.read,write:Kt.stream_ops.write,allocate:Kt.stream_ops.allocate,mmap:Kt.stream_ops.mmap,msync:Kt.stream_ops.msync}},link:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr,readlink:Kt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr},stream:V.chrdev_stream_ops}};var C=V.createNode(g,y,S,E);return V.isDir(C.mode)?(C.node_ops=Kt.ops_table.dir.node,C.stream_ops=Kt.ops_table.dir.stream,C.contents={}):V.isFile(C.mode)?(C.node_ops=Kt.ops_table.file.node,C.stream_ops=Kt.ops_table.file.stream,C.usedBytes=0,C.contents=null):V.isLink(C.mode)?(C.node_ops=Kt.ops_table.link.node,C.stream_ops=Kt.ops_table.link.stream):V.isChrdev(C.mode)&&(C.node_ops=Kt.ops_table.chrdev.node,C.stream_ops=Kt.ops_table.chrdev.stream),C.timestamp=Date.now(),g&&(g.contents[y]=C,g.timestamp=C.timestamp),C},getFileDataAsTypedArray(g){return g.contents?g.contents.subarray?g.contents.subarray(0,g.usedBytes):new Uint8Array(g.contents):new Uint8Array(0)},expandFileStorage(g,y){var S=g.contents?g.contents.length:0;if(!(S>=y)){var E=1024*1024;y=Math.max(y,S*(S<E?2:1.125)>>>0),S!=0&&(y=Math.max(y,256));var C=g.contents;g.contents=new Uint8Array(y),g.usedBytes>0&&g.contents.set(C.subarray(0,g.usedBytes),0)}},resizeFileStorage(g,y){if(g.usedBytes!=y)if(y==0)g.contents=null,g.usedBytes=0;else{var S=g.contents;g.contents=new Uint8Array(y),S&&g.contents.set(S.subarray(0,Math.min(y,g.usedBytes))),g.usedBytes=y}},node_ops:{getattr(g){var y={};return y.dev=V.isChrdev(g.mode)?g.id:1,y.ino=g.id,y.mode=g.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=g.rdev,V.isDir(g.mode)?y.size=4096:V.isFile(g.mode)?y.size=g.usedBytes:V.isLink(g.mode)?y.size=g.link.length:y.size=0,y.atime=new Date(g.timestamp),y.mtime=new Date(g.timestamp),y.ctime=new Date(g.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr(g,y){y.mode!==void 0&&(g.mode=y.mode),y.timestamp!==void 0&&(g.timestamp=y.timestamp),y.size!==void 0&&Kt.resizeFileStorage(g,y.size)},lookup(g,y){throw V.genericErrors[44]},mknod(g,y,S,E){return Kt.createNode(g,y,S,E)},rename(g,y,S){if(V.isDir(g.mode)){var E;try{E=V.lookupNode(y,S)}catch{}if(E)for(var C in E.contents)throw new V.ErrnoError(55)}delete g.parent.contents[g.name],g.parent.timestamp=Date.now(),g.name=S,y.contents[S]=g,y.timestamp=g.parent.timestamp},unlink(g,y){delete g.contents[y],g.timestamp=Date.now()},rmdir(g,y){var S=V.lookupNode(g,y);for(var E in S.contents)throw new V.ErrnoError(55);delete g.contents[y],g.timestamp=Date.now()},readdir(g){var y=[".",".."];for(var S of Object.keys(g.contents))y.push(S);return y},symlink(g,y,S){var E=Kt.createNode(g,y,41471,0);return E.link=S,E},readlink(g){if(!V.isLink(g.mode))throw new V.ErrnoError(28);return g.link}},stream_ops:{read(g,y,S,E,C){var M=g.node.contents;if(C>=g.node.usedBytes)return 0;var fe=Math.min(g.node.usedBytes-C,E);if(fe>8&&M.subarray)y.set(M.subarray(C,C+fe),S);else for(var me=0;me<fe;me++)y[S+me]=M[C+me];return fe},write(g,y,S,E,C,M){if(y.buffer===D.buffer&&(M=!1),!E)return 0;var fe=g.node;if(fe.timestamp=Date.now(),y.subarray&&(!fe.contents||fe.contents.subarray)){if(M)return fe.contents=y.subarray(S,S+E),fe.usedBytes=E,E;if(fe.usedBytes===0&&C===0)return fe.contents=y.slice(S,S+E),fe.usedBytes=E,E;if(C+E<=fe.usedBytes)return fe.contents.set(y.subarray(S,S+E),C),E}if(Kt.expandFileStorage(fe,C+E),fe.contents.subarray&&y.subarray)fe.contents.set(y.subarray(S,S+E),C);else for(var me=0;me<E;me++)fe.contents[C+me]=y[S+me];return fe.usedBytes=Math.max(fe.usedBytes,C+E),E},llseek(g,y,S){var E=y;if(S===1?E+=g.position:S===2&&V.isFile(g.node.mode)&&(E+=g.node.usedBytes),E<0)throw new V.ErrnoError(28);return E},allocate(g,y,S){Kt.expandFileStorage(g.node,y+S),g.node.usedBytes=Math.max(g.node.usedBytes,y+S)},mmap(g,y,S,E,C){if(!V.isFile(g.node.mode))throw new V.ErrnoError(43);var M,fe,me=g.node.contents;if(!(C&2)&&me&&me.buffer===D.buffer)fe=!1,M=me.byteOffset;else{if(fe=!0,M=mr(y),!M)throw new V.ErrnoError(48);me&&((S>0||S+y<me.length)&&(me.subarray?me=me.subarray(S,S+y):me=Array.prototype.slice.call(me,S,S+y)),D.set(me,M))}return{ptr:M,allocated:fe}},msync(g,y,S,E,C){return Kt.stream_ops.write(g,y,0,E,S,!1),0}}},Ui=(g,y,S,E)=>{var C=`al ${g}`;_(g).then(M=>{y(new Uint8Array(M)),C&&Ne()},M=>{if(S)S();else throw`Loading data file "${g}" failed.`}),C&&we()},Vi=(g,y,S,E,C,M)=>{V.createDataFile(g,y,S,E,C,M)},Hi=r.preloadPlugins||[],so=(g,y,S,E)=>{typeof Browser<"u"&&Browser.init();var C=!1;return Hi.forEach(M=>{C||M.canHandle(y)&&(M.handle(g,y,S,E),C=!0)}),C},ia=(g,y,S,E,C,M,fe,me,Qe,tt)=>{var at=y?Ve.resolve(ve.join2(g,y)):g;function mt(Be){function Re(et){tt?.(),me||Vi(g,y,et,E,C,Qe),M?.(),Ne()}so(Be,at,Re,()=>{fe?.(),Ne()})||Re(Be)}we(),typeof S=="string"?Ui(S,mt,fe):mt(S)},Yl=g=>{var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},S=y[g];if(typeof S>"u")throw new Error(`Unknown file open mode: ${g}`);return S},Ps=(g,y)=>{var S=0;return g&&(S|=365),y&&(S|=146),S},V={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(g){this.name="ErrnoError",this.errno=g}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(g){this.node=g}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(g){this.shared.flags=g}get position(){return this.shared.position}set position(g){this.shared.position=g}},FSNode:class{constructor(g,y,S,E){g||(g=this),this.parent=g,this.mount=g.mount,this.mounted=null,this.id=V.nextInode++,this.name=y,this.mode=S,this.node_ops={},this.stream_ops={},this.rdev=E,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(g){g?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(g){g?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return V.isDir(this.mode)}get isDevice(){return V.isChrdev(this.mode)}},lookupPath(g,y={}){if(g=Ve.resolve(g),!g)return{path:"",node:null};var S={follow_mount:!0,recurse_count:0};if(y=Object.assign(S,y),y.recurse_count>8)throw new V.ErrnoError(32);for(var E=g.split("/").filter(mt=>!!mt),C=V.root,M="/",fe=0;fe<E.length;fe++){var me=fe===E.length-1;if(me&&y.parent)break;if(C=V.lookupNode(C,E[fe]),M=ve.join2(M,E[fe]),V.isMountpoint(C)&&(!me||me&&y.follow_mount)&&(C=C.mounted.root),!me||y.follow)for(var Qe=0;V.isLink(C.mode);){var tt=V.readlink(M);M=Ve.resolve(ve.dirname(M),tt);var at=V.lookupPath(M,{recurse_count:y.recurse_count+1});if(C=at.node,Qe++>40)throw new V.ErrnoError(32)}}return{path:M,node:C}},getPath(g){for(var y;;){if(V.isRoot(g)){var S=g.mount.mountpoint;return y?S[S.length-1]!=="/"?`${S}/${y}`:S+y:S}y=y?`${g.name}/${y}`:g.name,g=g.parent}},hashName(g,y){for(var S=0,E=0;E<y.length;E++)S=(S<<5)-S+y.charCodeAt(E)|0;return(g+S>>>0)%V.nameTable.length},hashAddNode(g){var y=V.hashName(g.parent.id,g.name);g.name_next=V.nameTable[y],V.nameTable[y]=g},hashRemoveNode(g){var y=V.hashName(g.parent.id,g.name);if(V.nameTable[y]===g)V.nameTable[y]=g.name_next;else for(var S=V.nameTable[y];S;){if(S.name_next===g){S.name_next=g.name_next;break}S=S.name_next}},lookupNode(g,y){var S=V.mayLookup(g);if(S)throw new V.ErrnoError(S);for(var E=V.hashName(g.id,y),C=V.nameTable[E];C;C=C.name_next){var M=C.name;if(C.parent.id===g.id&&M===y)return C}return V.lookup(g,y)},createNode(g,y,S,E){var C=new V.FSNode(g,y,S,E);return V.hashAddNode(C),C},destroyNode(g){V.hashRemoveNode(g)},isRoot(g){return g===g.parent},isMountpoint(g){return!!g.mounted},isFile(g){return(g&61440)===32768},isDir(g){return(g&61440)===16384},isLink(g){return(g&61440)===40960},isChrdev(g){return(g&61440)===8192},isBlkdev(g){return(g&61440)===24576},isFIFO(g){return(g&61440)===4096},isSocket(g){return(g&49152)===49152},flagsToPermissionString(g){var y=["r","w","rw"][g&3];return g&512&&(y+="w"),y},nodePermissions(g,y){return V.ignorePermissions?0:y.includes("r")&&!(g.mode&292)||y.includes("w")&&!(g.mode&146)||y.includes("x")&&!(g.mode&73)?2:0},mayLookup(g){if(!V.isDir(g.mode))return 54;var y=V.nodePermissions(g,"x");return y||(g.node_ops.lookup?0:2)},mayCreate(g,y){try{var S=V.lookupNode(g,y);return 20}catch{}return V.nodePermissions(g,"wx")},mayDelete(g,y,S){var E;try{E=V.lookupNode(g,y)}catch(M){return M.errno}var C=V.nodePermissions(g,"wx");if(C)return C;if(S){if(!V.isDir(E.mode))return 54;if(V.isRoot(E)||V.getPath(E)===V.cwd())return 10}else if(V.isDir(E.mode))return 31;return 0},mayOpen(g,y){return g?V.isLink(g.mode)?32:V.isDir(g.mode)&&(V.flagsToPermissionString(y)!=="r"||y&512)?31:V.nodePermissions(g,V.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd(){for(var g=0;g<=V.MAX_OPEN_FDS;g++)if(!V.streams[g])return g;throw new V.ErrnoError(33)},getStreamChecked(g){var y=V.getStream(g);if(!y)throw new V.ErrnoError(8);return y},getStream:g=>V.streams[g],createStream(g,y=-1){return g=Object.assign(new V.FSStream,g),y==-1&&(y=V.nextfd()),g.fd=y,V.streams[y]=g,g},closeStream(g){V.streams[g]=null},dupStream(g,y=-1){var S=V.createStream(g,y);return S.stream_ops?.dup?.(S),S},chrdev_stream_ops:{open(g){var y=V.getDevice(g.node.rdev);g.stream_ops=y.stream_ops,g.stream_ops.open?.(g)},llseek(){throw new V.ErrnoError(70)}},major:g=>g>>8,minor:g=>g&255,makedev:(g,y)=>g<<8|y,registerDevice(g,y){V.devices[g]={stream_ops:y}},getDevice:g=>V.devices[g],getMounts(g){for(var y=[],S=[g];S.length;){var E=S.pop();y.push(E),S.push(...E.mounts)}return y},syncfs(g,y){typeof g=="function"&&(y=g,g=!1),V.syncFSRequests++,V.syncFSRequests>1&&O(`warning: ${V.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var S=V.getMounts(V.root.mount),E=0;function C(fe){return V.syncFSRequests--,y(fe)}function M(fe){if(fe)return M.errored?void 0:(M.errored=!0,C(fe));++E>=S.length&&C(null)}S.forEach(fe=>{if(!fe.type.syncfs)return M(null);fe.type.syncfs(fe,g,M)})},mount(g,y,S){var E=S==="/",C=!S,M;if(E&&V.root)throw new V.ErrnoError(10);if(!E&&!C){var fe=V.lookupPath(S,{follow_mount:!1});if(S=fe.path,M=fe.node,V.isMountpoint(M))throw new V.ErrnoError(10);if(!V.isDir(M.mode))throw new V.ErrnoError(54)}var me={type:g,opts:y,mountpoint:S,mounts:[]},Qe=g.mount(me);return Qe.mount=me,me.root=Qe,E?V.root=Qe:M&&(M.mounted=me,M.mount&&M.mount.mounts.push(me)),Qe},unmount(g){var y=V.lookupPath(g,{follow_mount:!1});if(!V.isMountpoint(y.node))throw new V.ErrnoError(28);var S=y.node,E=S.mounted,C=V.getMounts(E);Object.keys(V.nameTable).forEach(fe=>{for(var me=V.nameTable[fe];me;){var Qe=me.name_next;C.includes(me.mount)&&V.destroyNode(me),me=Qe}}),S.mounted=null;var M=S.mount.mounts.indexOf(E);S.mount.mounts.splice(M,1)},lookup(g,y){return g.node_ops.lookup(g,y)},mknod(g,y,S){var E=V.lookupPath(g,{parent:!0}),C=E.node,M=ve.basename(g);if(!M||M==="."||M==="..")throw new V.ErrnoError(28);var fe=V.mayCreate(C,M);if(fe)throw new V.ErrnoError(fe);if(!C.node_ops.mknod)throw new V.ErrnoError(63);return C.node_ops.mknod(C,M,y,S)},create(g,y){return y=y!==void 0?y:438,y&=4095,y|=32768,V.mknod(g,y,0)},mkdir(g,y){return y=y!==void 0?y:511,y&=1023,y|=16384,V.mknod(g,y,0)},mkdirTree(g,y){for(var S=g.split("/"),E="",C=0;C<S.length;++C)if(S[C]){E+="/"+S[C];try{V.mkdir(E,y)}catch(M){if(M.errno!=20)throw M}}},mkdev(g,y,S){return typeof S>"u"&&(S=y,y=438),y|=8192,V.mknod(g,y,S)},symlink(g,y){if(!Ve.resolve(g))throw new V.ErrnoError(44);var S=V.lookupPath(y,{parent:!0}),E=S.node;if(!E)throw new V.ErrnoError(44);var C=ve.basename(y),M=V.mayCreate(E,C);if(M)throw new V.ErrnoError(M);if(!E.node_ops.symlink)throw new V.ErrnoError(63);return E.node_ops.symlink(E,C,g)},rename(g,y){var S=ve.dirname(g),E=ve.dirname(y),C=ve.basename(g),M=ve.basename(y),fe,me,Qe;if(fe=V.lookupPath(g,{parent:!0}),me=fe.node,fe=V.lookupPath(y,{parent:!0}),Qe=fe.node,!me||!Qe)throw new V.ErrnoError(44);if(me.mount!==Qe.mount)throw new V.ErrnoError(75);var tt=V.lookupNode(me,C),at=Ve.relative(g,E);if(at.charAt(0)!==".")throw new V.ErrnoError(28);if(at=Ve.relative(y,S),at.charAt(0)!==".")throw new V.ErrnoError(55);var mt;try{mt=V.lookupNode(Qe,M)}catch{}if(tt!==mt){var Be=V.isDir(tt.mode),Re=V.mayDelete(me,C,Be);if(Re)throw new V.ErrnoError(Re);if(Re=mt?V.mayDelete(Qe,M,Be):V.mayCreate(Qe,M),Re)throw new V.ErrnoError(Re);if(!me.node_ops.rename)throw new V.ErrnoError(63);if(V.isMountpoint(tt)||mt&&V.isMountpoint(mt))throw new V.ErrnoError(10);if(Qe!==me&&(Re=V.nodePermissions(me,"w"),Re))throw new V.ErrnoError(Re);V.hashRemoveNode(tt);try{me.node_ops.rename(tt,Qe,M),tt.parent=Qe}catch(et){throw et}finally{V.hashAddNode(tt)}}},rmdir(g){var y=V.lookupPath(g,{parent:!0}),S=y.node,E=ve.basename(g),C=V.lookupNode(S,E),M=V.mayDelete(S,E,!0);if(M)throw new V.ErrnoError(M);if(!S.node_ops.rmdir)throw new V.ErrnoError(63);if(V.isMountpoint(C))throw new V.ErrnoError(10);S.node_ops.rmdir(S,E),V.destroyNode(C)},readdir(g){var y=V.lookupPath(g,{follow:!0}),S=y.node;if(!S.node_ops.readdir)throw new V.ErrnoError(54);return S.node_ops.readdir(S)},unlink(g){var y=V.lookupPath(g,{parent:!0}),S=y.node;if(!S)throw new V.ErrnoError(44);var E=ve.basename(g),C=V.lookupNode(S,E),M=V.mayDelete(S,E,!1);if(M)throw new V.ErrnoError(M);if(!S.node_ops.unlink)throw new V.ErrnoError(63);if(V.isMountpoint(C))throw new V.ErrnoError(10);S.node_ops.unlink(S,E),V.destroyNode(C)},readlink(g){var y=V.lookupPath(g),S=y.node;if(!S)throw new V.ErrnoError(44);if(!S.node_ops.readlink)throw new V.ErrnoError(28);return Ve.resolve(V.getPath(S.parent),S.node_ops.readlink(S))},stat(g,y){var S=V.lookupPath(g,{follow:!y}),E=S.node;if(!E)throw new V.ErrnoError(44);if(!E.node_ops.getattr)throw new V.ErrnoError(63);return E.node_ops.getattr(E)},lstat(g){return V.stat(g,!0)},chmod(g,y,S){var E;if(typeof g=="string"){var C=V.lookupPath(g,{follow:!S});E=C.node}else E=g;if(!E.node_ops.setattr)throw new V.ErrnoError(63);E.node_ops.setattr(E,{mode:y&4095|E.mode&-4096,timestamp:Date.now()})},lchmod(g,y){V.chmod(g,y,!0)},fchmod(g,y){var S=V.getStreamChecked(g);V.chmod(S.node,y)},chown(g,y,S,E){var C;if(typeof g=="string"){var M=V.lookupPath(g,{follow:!E});C=M.node}else C=g;if(!C.node_ops.setattr)throw new V.ErrnoError(63);C.node_ops.setattr(C,{timestamp:Date.now()})},lchown(g,y,S){V.chown(g,y,S,!0)},fchown(g,y,S){var E=V.getStreamChecked(g);V.chown(E.node,y,S)},truncate(g,y){if(y<0)throw new V.ErrnoError(28);var S;if(typeof g=="string"){var E=V.lookupPath(g,{follow:!0});S=E.node}else S=g;if(!S.node_ops.setattr)throw new V.ErrnoError(63);if(V.isDir(S.mode))throw new V.ErrnoError(31);if(!V.isFile(S.mode))throw new V.ErrnoError(28);var C=V.nodePermissions(S,"w");if(C)throw new V.ErrnoError(C);S.node_ops.setattr(S,{size:y,timestamp:Date.now()})},ftruncate(g,y){var S=V.getStreamChecked(g);if(!(S.flags&2097155))throw new V.ErrnoError(28);V.truncate(S.node,y)},utime(g,y,S){var E=V.lookupPath(g,{follow:!0}),C=E.node;C.node_ops.setattr(C,{timestamp:Math.max(y,S)})},open(g,y,S){if(g==="")throw new V.ErrnoError(44);y=typeof y=="string"?Yl(y):y,y&64?(S=typeof S>"u"?438:S,S=S&4095|32768):S=0;var E;if(typeof g=="object")E=g;else{g=ve.normalize(g);try{var C=V.lookupPath(g,{follow:!(y&131072)});E=C.node}catch{}}var M=!1;if(y&64)if(E){if(y&128)throw new V.ErrnoError(20)}else E=V.mknod(g,S,0),M=!0;if(!E)throw new V.ErrnoError(44);if(V.isChrdev(E.mode)&&(y&=-513),y&65536&&!V.isDir(E.mode))throw new V.ErrnoError(54);if(!M){var fe=V.mayOpen(E,y);if(fe)throw new V.ErrnoError(fe)}y&512&&!M&&V.truncate(E,0),y&=-131713;var me=V.createStream({node:E,path:V.getPath(E),flags:y,seekable:!0,position:0,stream_ops:E.stream_ops,ungotten:[],error:!1});return me.stream_ops.open&&me.stream_ops.open(me),r.logReadFiles&&!(y&1)&&(V.readFiles||(V.readFiles={}),g in V.readFiles||(V.readFiles[g]=1)),me},close(g){if(V.isClosed(g))throw new V.ErrnoError(8);g.getdents&&(g.getdents=null);try{g.stream_ops.close&&g.stream_ops.close(g)}catch(y){throw y}finally{V.closeStream(g.fd)}g.fd=null},isClosed(g){return g.fd===null},llseek(g,y,S){if(V.isClosed(g))throw new V.ErrnoError(8);if(!g.seekable||!g.stream_ops.llseek)throw new V.ErrnoError(70);if(S!=0&&S!=1&&S!=2)throw new V.ErrnoError(28);return g.position=g.stream_ops.llseek(g,y,S),g.ungotten=[],g.position},read(g,y,S,E,C){if(E<0||C<0)throw new V.ErrnoError(28);if(V.isClosed(g))throw new V.ErrnoError(8);if((g.flags&2097155)===1)throw new V.ErrnoError(8);if(V.isDir(g.node.mode))throw new V.ErrnoError(31);if(!g.stream_ops.read)throw new V.ErrnoError(28);var M=typeof C<"u";if(!M)C=g.position;else if(!g.seekable)throw new V.ErrnoError(70);var fe=g.stream_ops.read(g,y,S,E,C);return M||(g.position+=fe),fe},write(g,y,S,E,C,M){if(E<0||C<0)throw new V.ErrnoError(28);if(V.isClosed(g))throw new V.ErrnoError(8);if(!(g.flags&2097155))throw new V.ErrnoError(8);if(V.isDir(g.node.mode))throw new V.ErrnoError(31);if(!g.stream_ops.write)throw new V.ErrnoError(28);g.seekable&&g.flags&1024&&V.llseek(g,0,2);var fe=typeof C<"u";if(!fe)C=g.position;else if(!g.seekable)throw new V.ErrnoError(70);var me=g.stream_ops.write(g,y,S,E,C,M);return fe||(g.position+=me),me},allocate(g,y,S){if(V.isClosed(g))throw new V.ErrnoError(8);if(y<0||S<=0)throw new V.ErrnoError(28);if(!(g.flags&2097155))throw new V.ErrnoError(8);if(!V.isFile(g.node.mode)&&!V.isDir(g.node.mode))throw new V.ErrnoError(43);if(!g.stream_ops.allocate)throw new V.ErrnoError(138);g.stream_ops.allocate(g,y,S)},mmap(g,y,S,E,C){if(E&2&&!(C&2)&&(g.flags&2097155)!==2)throw new V.ErrnoError(2);if((g.flags&2097155)===1)throw new V.ErrnoError(2);if(!g.stream_ops.mmap)throw new V.ErrnoError(43);if(!y)throw new V.ErrnoError(28);return g.stream_ops.mmap(g,y,S,E,C)},msync(g,y,S,E,C){return g.stream_ops.msync?g.stream_ops.msync(g,y,S,E,C):0},ioctl(g,y,S){if(!g.stream_ops.ioctl)throw new V.ErrnoError(59);return g.stream_ops.ioctl(g,y,S)},readFile(g,y={}){if(y.flags=y.flags||0,y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error(`Invalid encoding type "${y.encoding}"`);var S,E=V.open(g,y.flags),C=V.stat(g),M=C.size,fe=new Uint8Array(M);return V.read(E,fe,0,M,0),y.encoding==="utf8"?S=Me(fe,0):y.encoding==="binary"&&(S=fe),V.close(E),S},writeFile(g,y,S={}){S.flags=S.flags||577;var E=V.open(g,S.flags,S.mode);if(typeof y=="string"){var C=new Uint8Array(Ht(y)+1),M=Qt(y,C,0,C.length);V.write(E,C,0,M,void 0,S.canOwn)}else if(ArrayBuffer.isView(y))V.write(E,y,0,y.byteLength,void 0,S.canOwn);else throw new Error("Unsupported data type");V.close(E)},cwd:()=>V.currentPath,chdir(g){var y=V.lookupPath(g,{follow:!0});if(y.node===null)throw new V.ErrnoError(44);if(!V.isDir(y.node.mode))throw new V.ErrnoError(54);var S=V.nodePermissions(y.node,"x");if(S)throw new V.ErrnoError(S);V.currentPath=y.path},createDefaultDirectories(){V.mkdir("/tmp"),V.mkdir("/home"),V.mkdir("/home/web_user")},createDefaultDevices(){V.mkdir("/dev"),V.registerDevice(V.makedev(1,3),{read:()=>0,write:(E,C,M,fe,me)=>fe}),V.mkdev("/dev/null",V.makedev(1,3)),Rn.register(V.makedev(5,0),Rn.default_tty_ops),Rn.register(V.makedev(6,0),Rn.default_tty1_ops),V.mkdev("/dev/tty",V.makedev(5,0)),V.mkdev("/dev/tty1",V.makedev(6,0));var g=new Uint8Array(1024),y=0,S=()=>(y===0&&(y=je(g).byteLength),g[--y]);V.createDevice("/dev","random",S),V.createDevice("/dev","urandom",S),V.mkdir("/dev/shm"),V.mkdir("/dev/shm/tmp")},createSpecialDirectories(){V.mkdir("/proc");var g=V.mkdir("/proc/self");V.mkdir("/proc/self/fd"),V.mount({mount(){var y=V.createNode(g,"fd",16895,73);return y.node_ops={lookup(S,E){var C=+E,M=V.getStreamChecked(C),fe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>M.path}};return fe.parent=fe,fe}},y}},{},"/proc/self/fd")},createStandardStreams(g,y,S){g?V.createDevice("/dev","stdin",g):V.symlink("/dev/tty","/dev/stdin"),y?V.createDevice("/dev","stdout",null,y):V.symlink("/dev/tty","/dev/stdout"),S?V.createDevice("/dev","stderr",null,S):V.symlink("/dev/tty1","/dev/stderr"),V.open("/dev/stdin",0),V.open("/dev/stdout",1),V.open("/dev/stderr",1)},staticInit(){[44].forEach(g=>{V.genericErrors[g]=new V.ErrnoError(g),V.genericErrors[g].stack="<generic error, no stack>"}),V.nameTable=new Array(4096),V.mount(Kt,{},"/"),V.createDefaultDirectories(),V.createDefaultDevices(),V.createSpecialDirectories(),V.filesystems={MEMFS:Kt}},init(g,y,S){V.initialized=!0,g??=r.stdin,y??=r.stdout,S??=r.stderr,V.createStandardStreams(g,y,S)},quit(){V.initialized=!1;for(var g=0;g<V.streams.length;g++){var y=V.streams[g];y&&V.close(y)}},findObject(g,y){var S=V.analyzePath(g,y);return S.exists?S.object:null},analyzePath(g,y){try{var S=V.lookupPath(g,{follow:!y});g=S.path}catch{}var E={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var S=V.lookupPath(g,{parent:!0});E.parentExists=!0,E.parentPath=S.path,E.parentObject=S.node,E.name=ve.basename(g),S=V.lookupPath(g,{follow:!y}),E.exists=!0,E.path=S.path,E.object=S.node,E.name=S.node.name,E.isRoot=S.path==="/"}catch(C){E.error=C.errno}return E},createPath(g,y,S,E){g=typeof g=="string"?g:V.getPath(g);for(var C=y.split("/").reverse();C.length;){var M=C.pop();if(M){var fe=ve.join2(g,M);try{V.mkdir(fe)}catch{}g=fe}}return fe},createFile(g,y,S,E,C){var M=ve.join2(typeof g=="string"?g:V.getPath(g),y),fe=Ps(E,C);return V.create(M,fe)},createDataFile(g,y,S,E,C,M){var fe=y;g&&(g=typeof g=="string"?g:V.getPath(g),fe=y?ve.join2(g,y):g);var me=Ps(E,C),Qe=V.create(fe,me);if(S){if(typeof S=="string"){for(var tt=new Array(S.length),at=0,mt=S.length;at<mt;++at)tt[at]=S.charCodeAt(at);S=tt}V.chmod(Qe,me|146);var Be=V.open(Qe,577);V.write(Be,S,0,S.length,0,M),V.close(Be),V.chmod(Qe,me)}},createDevice(g,y,S,E){var C=ve.join2(typeof g=="string"?g:V.getPath(g),y),M=Ps(!!S,!!E);V.createDevice.major||(V.createDevice.major=64);var fe=V.makedev(V.createDevice.major++,0);return V.registerDevice(fe,{open(me){me.seekable=!1},close(me){E?.buffer?.length&&E(10)},read(me,Qe,tt,at,mt){for(var Be=0,Re=0;Re<at;Re++){var et;try{et=S()}catch{throw new V.ErrnoError(29)}if(et===void 0&&Be===0)throw new V.ErrnoError(6);if(et==null)break;Be++,Qe[tt+Re]=et}return Be&&(me.node.timestamp=Date.now()),Be},write(me,Qe,tt,at,mt){for(var Be=0;Be<at;Be++)try{E(Qe[tt+Be])}catch{throw new V.ErrnoError(29)}return at&&(me.node.timestamp=Date.now()),Be}}),V.mkdev(C,M,fe)},forceLoadFile(g){if(g.isDevice||g.isFolder||g.link||g.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{g.contents=N(g.url),g.usedBytes=g.contents.length}catch{throw new V.ErrnoError(29)}},createLazyFile(g,y,S,E,C){class M{constructor(){this.lengthKnown=!1,this.chunks=[]}get(Re){if(!(Re>this.length-1||Re<0)){var et=Re%this.chunkSize,be=Re/this.chunkSize|0;return this.getter(be)[et]}}setDataGetter(Re){this.getter=Re}cacheLength(){var Re=new XMLHttpRequest;if(Re.open("HEAD",S,!1),Re.send(null),!(Re.status>=200&&Re.status<300||Re.status===304))throw new Error("Couldn't load "+S+". Status: "+Re.status);var et=Number(Re.getResponseHeader("Content-length")),be,Ie=(be=Re.getResponseHeader("Accept-Ranges"))&&be==="bytes",Te=(be=Re.getResponseHeader("Content-Encoding"))&&be==="gzip",Je=1024*1024;Ie||(Je=et);var Ge=(Ke,St)=>{if(Ke>St)throw new Error("invalid range ("+Ke+", "+St+") or no bytes requested!");if(St>et-1)throw new Error("only "+et+" bytes available! programmer error!");var J=new XMLHttpRequest;if(J.open("GET",S,!1),et!==Je&&J.setRequestHeader("Range","bytes="+Ke+"-"+St),J.responseType="arraybuffer",J.overrideMimeType&&J.overrideMimeType("text/plain; charset=x-user-defined"),J.send(null),!(J.status>=200&&J.status<300||J.status===304))throw new Error("Couldn't load "+S+". Status: "+J.status);return J.response!==void 0?new Uint8Array(J.response||[]):dn(J.responseText||"")},Oe=this;Oe.setDataGetter(Ke=>{var St=Ke*Je,J=(Ke+1)*Je-1;if(J=Math.min(J,et-1),typeof Oe.chunks[Ke]>"u"&&(Oe.chunks[Ke]=Ge(St,J)),typeof Oe.chunks[Ke]>"u")throw new Error("doXHR failed!");return Oe.chunks[Ke]}),(Te||!et)&&(Je=et=1,et=this.getter(0).length,Je=et,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=et,this._chunkSize=Je,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!c)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var fe=new M,me={isDevice:!1,contents:fe}}else var me={isDevice:!1,url:S};var Qe=V.createFile(g,y,me,E,C);me.contents?Qe.contents=me.contents:me.url&&(Qe.contents=null,Qe.url=me.url),Object.defineProperties(Qe,{usedBytes:{get:function(){return this.contents.length}}});var tt={},at=Object.keys(Qe.stream_ops);at.forEach(Be=>{var Re=Qe.stream_ops[Be];tt[Be]=(...et)=>(V.forceLoadFile(Qe),Re(...et))});function mt(Be,Re,et,be,Ie){var Te=Be.node.contents;if(Ie>=Te.length)return 0;var Je=Math.min(Te.length-Ie,be);if(Te.slice)for(var Ge=0;Ge<Je;Ge++)Re[et+Ge]=Te[Ie+Ge];else for(var Ge=0;Ge<Je;Ge++)Re[et+Ge]=Te.get(Ie+Ge);return Je}return tt.read=(Be,Re,et,be,Ie)=>(V.forceLoadFile(Qe),mt(Be,Re,et,be,Ie)),tt.mmap=(Be,Re,et,be,Ie)=>{V.forceLoadFile(Qe);var Te=mr(Re);if(!Te)throw new V.ErrnoError(48);return mt(Be,D,Te,Re,et),{ptr:Te,allocated:!0}},Qe.stream_ops=tt,Qe}},ac=(g,y)=>g?Me(L,g,y):"",on={DEFAULT_POLLMASK:5,calculateAt(g,y,S){if(ve.isAbs(y))return y;var E;if(g===-100)E=V.cwd();else{var C=on.getStreamFromFD(g);E=C.path}if(y.length==0){if(!S)throw new V.ErrnoError(44);return E}return ve.join2(E,y)},doStat(g,y,S){var E=g(y);P[S>>2]=E.dev,P[S+4>>2]=E.mode,R[S+8>>2]=E.nlink,P[S+12>>2]=E.uid,P[S+16>>2]=E.gid,P[S+20>>2]=E.rdev,B[S+24>>3]=BigInt(E.size),P[S+32>>2]=4096,P[S+36>>2]=E.blocks;var C=E.atime.getTime(),M=E.mtime.getTime(),fe=E.ctime.getTime();return B[S+40>>3]=BigInt(Math.floor(C/1e3)),R[S+48>>2]=C%1e3*1e3*1e3,B[S+56>>3]=BigInt(Math.floor(M/1e3)),R[S+64>>2]=M%1e3*1e3*1e3,B[S+72>>3]=BigInt(Math.floor(fe/1e3)),R[S+80>>2]=fe%1e3*1e3*1e3,B[S+88>>3]=BigInt(E.ino),0},doMsync(g,y,S,E,C){if(!V.isFile(y.node.mode))throw new V.ErrnoError(43);if(E&2)return 0;var M=L.slice(g,g+S);V.msync(y,M,C,S,E)},getStreamFromFD(g){var y=V.getStreamChecked(g);return y},varargs:void 0,getStr(g){var y=ac(g);return y}};function lc(g,y){try{return g=on.getStr(g),V.chmod(g,y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function uc(g,y,S,E){try{if(y=on.getStr(y),y=on.calculateAt(g,y),S&-8)return-28;var C=V.lookupPath(y,{follow:!0}),M=C.node;if(!M)return-44;var fe="";return S&4&&(fe+="r"),S&2&&(fe+="w"),S&1&&(fe+="x"),fe&&V.nodePermissions(M,fe)?-2:0}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function cc(g,y){try{return V.fchmod(g,y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Xl(g,y,S){try{return V.fchown(g,y,S),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}function sa(){var g=P[+on.varargs>>2];return on.varargs+=4,g}var Qi=sa;function eu(g,y,S){on.varargs=S;try{var E=on.getStreamFromFD(g);switch(y){case 0:{var C=sa();if(C<0)return-28;for(;V.streams[C];)C++;var M;return M=V.dupStream(E,C),M.fd}case 1:case 2:return 0;case 3:return E.flags;case 4:{var C=sa();return E.flags|=C,0}case 12:{var C=Qi(),fe=0;return z[C+fe>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function oa(g,y){try{var S=on.getStreamFromFD(g);return on.doStat(V.stat,S.path,y)}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}var uf=0x20000000000000,aa=-0x20000000000000,Fs=g=>g<aa||g>uf?NaN:Number(g);function Wa(g,y){y=Fs(y);try{return isNaN(y)?61:(V.ftruncate(g,y),0)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}var Ds=(g,y,S)=>Qt(g,L,y,S);function cf(g,y){try{if(y===0)return-28;var S=V.cwd(),E=Ht(S)+1;return y<E?-68:(Ds(S,g,y),E)}catch(C){if(typeof V>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function df(g,y,S){on.varargs=S;try{var E=on.getStreamFromFD(g);switch(y){case 21509:return E.tty?0:-59;case 21505:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tcgets){var C=E.tty.ops.ioctl_tcgets(E),M=Qi();P[M>>2]=C.c_iflag||0,P[M+4>>2]=C.c_oflag||0,P[M+8>>2]=C.c_cflag||0,P[M+12>>2]=C.c_lflag||0;for(var fe=0;fe<32;fe++)D[M+fe+17]=C.c_cc[fe]||0;return 0}return 0}case 21510:case 21511:case 21512:return E.tty?0:-59;case 21506:case 21507:case 21508:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tcsets){for(var M=Qi(),me=P[M>>2],Qe=P[M+4>>2],tt=P[M+8>>2],at=P[M+12>>2],mt=[],fe=0;fe<32;fe++)mt.push(D[M+fe+17]);return E.tty.ops.ioctl_tcsets(E.tty,y,{c_iflag:me,c_oflag:Qe,c_cflag:tt,c_lflag:at,c_cc:mt})}return 0}case 21519:{if(!E.tty)return-59;var M=Qi();return P[M>>2]=0,0}case 21520:return E.tty?-28:-59;case 21531:{var M=Qi();return V.ioctl(E,y,M)}case 21523:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tiocgwinsz){var Be=E.tty.ops.ioctl_tiocgwinsz(E.tty),M=Qi();z[M>>1]=Be[0],z[M+2>>1]=Be[1]}return 0}case 21524:return E.tty?0:-59;case 21515:return E.tty?0:-59;default:return-28}}catch(Re){if(typeof V>"u"||Re.name!=="ErrnoError")throw Re;return-Re.errno}}function dc(g,y){try{return g=on.getStr(g),on.doStat(V.lstat,g,y)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Ls(g,y,S){try{return y=on.getStr(y),y=on.calculateAt(g,y),y=ve.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),V.mkdir(y,S,0),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}function fc(g,y,S,E){try{y=on.getStr(y);var C=E&256,M=E&4096;return E=E&-6401,y=on.calculateAt(g,y,M),on.doStat(C?V.lstat:V.stat,y,S)}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return-fe.errno}}function pc(g,y,S,E){on.varargs=E;try{y=on.getStr(y),y=on.calculateAt(g,y);var C=E?sa():0;return V.open(y,S,C).fd}catch(M){if(typeof V>"u"||M.name!=="ErrnoError")throw M;return-M.errno}}function ff(g,y,S,E){try{if(y=on.getStr(y),y=on.calculateAt(g,y),E<=0)return-28;var C=V.readlink(y),M=Math.min(E,Ht(C)),fe=D[S+M];return Ds(C,S,E+1),D[S+M]=fe,M}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function hc(g){try{return g=on.getStr(g),V.rmdir(g),0}catch(y){if(typeof V>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function mc(g,y){try{return g=on.getStr(g),on.doStat(V.stat,g,y)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function gc(g,y,S){try{return y=on.getStr(y),y=on.calculateAt(g,y),S===0?V.unlink(y):S===512?V.rmdir(y):ze("Invalid flags passed to unlinkat"),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}var tu=g=>R[g>>2]+P[g+4>>2]*0x100000000;function yc(g,y,S,E){try{y=on.getStr(y),y=on.calculateAt(g,y,!0);var C=Date.now(),M,fe;if(!S)M=C,fe=C;else{var me=tu(S),Qe=P[S+8>>2];Qe==0x3fffffff?M=C:Qe==0x3ffffffe?M=-1:M=me*1e3+Qe/(1e3*1e3),S+=16,me=tu(S),Qe=P[S+8>>2],Qe==0x3fffffff?fe=C:Qe==0x3ffffffe?fe=-1:fe=me*1e3+Qe/(1e3*1e3)}return(fe!=-1||M!=-1)&&V.utime(y,M,fe),0}catch(tt){if(typeof V>"u"||tt.name!=="ErrnoError")throw tt;return-tt.errno}}var pf=1,ir=()=>pf,hf=g=>g%4===0&&(g%100!==0||g%400===0),nu=[0,31,60,91,121,152,182,213,244,274,305,335],vc=[0,31,59,90,120,151,181,212,243,273,304,334],Ua=g=>{var y=hf(g.getFullYear()),S=y?nu:vc,E=S[g.getMonth()]+g.getDate()-1;return E};function mf(g,y){g=Fs(g);var S=new Date(g*1e3);P[y>>2]=S.getSeconds(),P[y+4>>2]=S.getMinutes(),P[y+8>>2]=S.getHours(),P[y+12>>2]=S.getDate(),P[y+16>>2]=S.getMonth(),P[y+20>>2]=S.getFullYear()-1900,P[y+24>>2]=S.getDay();var E=Ua(S)|0;P[y+28>>2]=E,P[y+36>>2]=-(S.getTimezoneOffset()*60);var C=new Date(S.getFullYear(),0,1),M=new Date(S.getFullYear(),6,1).getTimezoneOffset(),fe=C.getTimezoneOffset(),me=(M!=fe&&S.getTimezoneOffset()==Math.min(fe,M))|0;P[y+32>>2]=me}function ru(g,y,S,E,C,M,fe){C=Fs(C);try{if(isNaN(C))return 61;var me=on.getStreamFromFD(E),Qe=V.mmap(me,g,C,y,S),tt=Qe.ptr;return P[M>>2]=Qe.allocated,R[fe>>2]=tt,0}catch(at){if(typeof V>"u"||at.name!=="ErrnoError")throw at;return-at.errno}}function Va(g,y,S,E,C,M){M=Fs(M);try{var fe=on.getStreamFromFD(C);S&2&&on.doMsync(g,fe,y,E,M)}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}var Ki=(g,y,S,E)=>{var C=new Date().getFullYear(),M=new Date(C,0,1),fe=new Date(C,6,1),me=M.getTimezoneOffset(),Qe=fe.getTimezoneOffset(),tt=Math.max(me,Qe);R[g>>2]=tt*60,P[y>>2]=+(me!=Qe);var at=Re=>{var et=Re>=0?"-":"+",be=Math.abs(Re),Ie=String(Math.floor(be/60)).padStart(2,"0"),Te=String(be%60).padStart(2,"0");return`UTC${et}${Ie}${Te}`},mt=at(me),Be=at(Qe);Qe<me?(Ds(mt,S,17),Ds(Be,E,17)):(Ds(mt,E,17),Ds(Be,S,17))},gf=()=>Date.now(),li;li=()=>performance.now();var yf=()=>0x80000000,vf=g=>{var y=q.buffer,S=(g-y.byteLength+65535)/65536;try{return q.grow(S),F(),1}catch{}},bf=g=>{var y=L.length;g>>>=0;var S=yf();if(g>S)return!1;for(var E=1;E<=4;E*=2){var C=y*(1+.2/E);C=Math.min(C,g+0x6000000);var M=Math.min(S,Si(Math.max(g,C),65536)),fe=vf(M);if(fe)return!0}return!1},Ao={},Ha=()=>p||"./this.program",Ei=()=>{if(!Ei.strings){var g=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:g,_:Ha()};for(var S in Ao)Ao[S]===void 0?delete y[S]:y[S]=Ao[S];var E=[];for(var S in y)E.push(`${S}=${y[S]}`);Ei.strings=E}return Ei.strings},Qa=(g,y)=>{for(var S=0;S<g.length;++S)D[y++]=g.charCodeAt(S);D[y]=0},Mb=(g,y)=>{var S=0;return Ei().forEach((E,C)=>{var M=y+S;R[g+C*4>>2]=M,Qa(E,M),S+=E.length+1}),0},$b=(g,y)=>{var S=Ei();R[g>>2]=S.length;var E=0;return S.forEach(C=>E+=C.length+1),R[y>>2]=E,0};function xf(g){try{var y=on.getStreamFromFD(g);return V.close(y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return S.errno}}function mm(g,y){try{var S=0,E=0,C=0,M=on.getStreamFromFD(g),fe=M.tty?2:V.isDir(M.mode)?3:V.isLink(M.mode)?7:4;return D[y]=fe,z[y+2>>1]=C,B[y+8>>3]=BigInt(S),B[y+16>>3]=BigInt(E),0}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return me.errno}}var wf=(g,y,S,E)=>{for(var C=0,M=0;M<S;M++){var fe=R[y>>2],me=R[y+4>>2];y+=8;var Qe=V.read(g,D,fe,me,E);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function iu(g,y,S,E){try{var C=on.getStreamFromFD(g),M=wf(C,y,S);return R[E>>2]=M,0}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}function Bb(g,y,S,E){y=Fs(y);try{if(isNaN(y))return 61;var C=on.getStreamFromFD(g);return V.llseek(C,y,S),B[E>>3]=BigInt(C.position),C.getdents&&y===0&&S===0&&(C.getdents=null),0}catch(M){if(typeof V>"u"||M.name!=="ErrnoError")throw M;return M.errno}}function _f(g){try{var y=on.getStreamFromFD(g);return y.stream_ops?.fsync?y.stream_ops.fsync(y):0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return S.errno}}var An=(g,y,S,E)=>{for(var C=0,M=0;M<S;M++){var fe=R[y>>2],me=R[y+4>>2];y+=8;var Qe=V.write(g,D,fe,me,E);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function gm(g,y,S,E){try{var C=on.getStreamFromFD(g),M=An(C,y,S);return R[E>>2]=M,0}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}V.createPreloadedFile=ia,V.staticInit();var Sf={__syscall_chmod:lc,__syscall_faccessat:uc,__syscall_fchmod:cc,__syscall_fchown32:Xl,__syscall_fcntl64:eu,__syscall_fstat64:oa,__syscall_ftruncate64:Wa,__syscall_getcwd:cf,__syscall_ioctl:df,__syscall_lstat64:dc,__syscall_mkdirat:Ls,__syscall_newfstatat:fc,__syscall_openat:pc,__syscall_readlinkat:ff,__syscall_rmdir:hc,__syscall_stat64:mc,__syscall_unlinkat:gc,__syscall_utimensat:yc,_emscripten_get_now_is_monotonic:ir,_localtime_js:mf,_mmap_js:ru,_munmap_js:Va,_tzset_js:Ki,emscripten_date_now:gf,emscripten_get_now:li,emscripten_resize_heap:bf,environ_get:Mb,environ_sizes_get:$b,fd_close:xf,fd_fdstat_get:mm,fd_read:iu,fd_seek:Bb,fd_sync:_f,fd_write:gm,memory:q},he=Xt();r._sqlite3_status64=(g,y,S,E)=>(r._sqlite3_status64=he.sqlite3_status64)(g,y,S,E),r._sqlite3_status=(g,y,S,E)=>(r._sqlite3_status=he.sqlite3_status)(g,y,S,E),r._sqlite3_db_status=(g,y,S,E,C)=>(r._sqlite3_db_status=he.sqlite3_db_status)(g,y,S,E,C),r._sqlite3_msize=g=>(r._sqlite3_msize=he.sqlite3_msize)(g),r._sqlite3_vfs_find=g=>(r._sqlite3_vfs_find=he.sqlite3_vfs_find)(g),r._sqlite3_initialize=()=>(r._sqlite3_initialize=he.sqlite3_initialize)(),r._sqlite3_malloc=g=>(r._sqlite3_malloc=he.sqlite3_malloc)(g),r._sqlite3_free=g=>(r._sqlite3_free=he.sqlite3_free)(g),r._sqlite3_vfs_register=(g,y)=>(r._sqlite3_vfs_register=he.sqlite3_vfs_register)(g,y),r._sqlite3_vfs_unregister=g=>(r._sqlite3_vfs_unregister=he.sqlite3_vfs_unregister)(g),r._sqlite3_malloc64=g=>(r._sqlite3_malloc64=he.sqlite3_malloc64)(g),r._sqlite3_realloc=(g,y)=>(r._sqlite3_realloc=he.sqlite3_realloc)(g,y),r._sqlite3_realloc64=(g,y)=>(r._sqlite3_realloc64=he.sqlite3_realloc64)(g,y),r._sqlite3_value_text=g=>(r._sqlite3_value_text=he.sqlite3_value_text)(g),r._sqlite3_randomness=(g,y)=>(r._sqlite3_randomness=he.sqlite3_randomness)(g,y),r._sqlite3_stricmp=(g,y)=>(r._sqlite3_stricmp=he.sqlite3_stricmp)(g,y),r._sqlite3_strnicmp=(g,y,S)=>(r._sqlite3_strnicmp=he.sqlite3_strnicmp)(g,y,S),r._sqlite3_uri_parameter=(g,y)=>(r._sqlite3_uri_parameter=he.sqlite3_uri_parameter)(g,y),r._sqlite3_uri_boolean=(g,y,S)=>(r._sqlite3_uri_boolean=he.sqlite3_uri_boolean)(g,y,S),r._sqlite3_serialize=(g,y,S,E)=>(r._sqlite3_serialize=he.sqlite3_serialize)(g,y,S,E),r._sqlite3_prepare_v2=(g,y,S,E,C)=>(r._sqlite3_prepare_v2=he.sqlite3_prepare_v2)(g,y,S,E,C),r._sqlite3_step=g=>(r._sqlite3_step=he.sqlite3_step)(g),r._sqlite3_column_int64=(g,y)=>(r._sqlite3_column_int64=he.sqlite3_column_int64)(g,y),r._sqlite3_reset=g=>(r._sqlite3_reset=he.sqlite3_reset)(g),r._sqlite3_exec=(g,y,S,E,C)=>(r._sqlite3_exec=he.sqlite3_exec)(g,y,S,E,C),r._sqlite3_column_int=(g,y)=>(r._sqlite3_column_int=he.sqlite3_column_int)(g,y),r._sqlite3_finalize=g=>(r._sqlite3_finalize=he.sqlite3_finalize)(g),r._sqlite3_file_control=(g,y,S,E)=>(r._sqlite3_file_control=he.sqlite3_file_control)(g,y,S,E),r._sqlite3_column_name=(g,y)=>(r._sqlite3_column_name=he.sqlite3_column_name)(g,y),r._sqlite3_column_text=(g,y)=>(r._sqlite3_column_text=he.sqlite3_column_text)(g,y),r._sqlite3_column_type=(g,y)=>(r._sqlite3_column_type=he.sqlite3_column_type)(g,y),r._sqlite3_errmsg=g=>(r._sqlite3_errmsg=he.sqlite3_errmsg)(g),r._sqlite3_deserialize=(g,y,S,E,C,M)=>(r._sqlite3_deserialize=he.sqlite3_deserialize)(g,y,S,E,C,M),r._sqlite3_clear_bindings=g=>(r._sqlite3_clear_bindings=he.sqlite3_clear_bindings)(g),r._sqlite3_value_blob=g=>(r._sqlite3_value_blob=he.sqlite3_value_blob)(g),r._sqlite3_value_bytes=g=>(r._sqlite3_value_bytes=he.sqlite3_value_bytes)(g),r._sqlite3_value_double=g=>(r._sqlite3_value_double=he.sqlite3_value_double)(g),r._sqlite3_value_int=g=>(r._sqlite3_value_int=he.sqlite3_value_int)(g),r._sqlite3_value_int64=g=>(r._sqlite3_value_int64=he.sqlite3_value_int64)(g),r._sqlite3_value_subtype=g=>(r._sqlite3_value_subtype=he.sqlite3_value_subtype)(g),r._sqlite3_value_pointer=(g,y)=>(r._sqlite3_value_pointer=he.sqlite3_value_pointer)(g,y),r._sqlite3_value_type=g=>(r._sqlite3_value_type=he.sqlite3_value_type)(g),r._sqlite3_value_nochange=g=>(r._sqlite3_value_nochange=he.sqlite3_value_nochange)(g),r._sqlite3_value_frombind=g=>(r._sqlite3_value_frombind=he.sqlite3_value_frombind)(g),r._sqlite3_value_dup=g=>(r._sqlite3_value_dup=he.sqlite3_value_dup)(g),r._sqlite3_value_free=g=>(r._sqlite3_value_free=he.sqlite3_value_free)(g),r._sqlite3_result_blob=(g,y,S,E)=>(r._sqlite3_result_blob=he.sqlite3_result_blob)(g,y,S,E),r._sqlite3_result_error_toobig=g=>(r._sqlite3_result_error_toobig=he.sqlite3_result_error_toobig)(g),r._sqlite3_result_error_nomem=g=>(r._sqlite3_result_error_nomem=he.sqlite3_result_error_nomem)(g),r._sqlite3_result_double=(g,y)=>(r._sqlite3_result_double=he.sqlite3_result_double)(g,y),r._sqlite3_result_error=(g,y,S)=>(r._sqlite3_result_error=he.sqlite3_result_error)(g,y,S),r._sqlite3_result_int=(g,y)=>(r._sqlite3_result_int=he.sqlite3_result_int)(g,y),r._sqlite3_result_int64=(g,y)=>(r._sqlite3_result_int64=he.sqlite3_result_int64)(g,y),r._sqlite3_result_null=g=>(r._sqlite3_result_null=he.sqlite3_result_null)(g),r._sqlite3_result_pointer=(g,y,S,E)=>(r._sqlite3_result_pointer=he.sqlite3_result_pointer)(g,y,S,E),r._sqlite3_result_subtype=(g,y)=>(r._sqlite3_result_subtype=he.sqlite3_result_subtype)(g,y),r._sqlite3_result_text=(g,y,S,E)=>(r._sqlite3_result_text=he.sqlite3_result_text)(g,y,S,E),r._sqlite3_result_zeroblob=(g,y)=>(r._sqlite3_result_zeroblob=he.sqlite3_result_zeroblob)(g,y),r._sqlite3_result_zeroblob64=(g,y)=>(r._sqlite3_result_zeroblob64=he.sqlite3_result_zeroblob64)(g,y),r._sqlite3_result_error_code=(g,y)=>(r._sqlite3_result_error_code=he.sqlite3_result_error_code)(g,y),r._sqlite3_user_data=g=>(r._sqlite3_user_data=he.sqlite3_user_data)(g),r._sqlite3_context_db_handle=g=>(r._sqlite3_context_db_handle=he.sqlite3_context_db_handle)(g),r._sqlite3_vtab_nochange=g=>(r._sqlite3_vtab_nochange=he.sqlite3_vtab_nochange)(g),r._sqlite3_vtab_in_first=(g,y)=>(r._sqlite3_vtab_in_first=he.sqlite3_vtab_in_first)(g,y),r._sqlite3_vtab_in_next=(g,y)=>(r._sqlite3_vtab_in_next=he.sqlite3_vtab_in_next)(g,y),r._sqlite3_aggregate_context=(g,y)=>(r._sqlite3_aggregate_context=he.sqlite3_aggregate_context)(g,y),r._sqlite3_get_auxdata=(g,y)=>(r._sqlite3_get_auxdata=he.sqlite3_get_auxdata)(g,y),r._sqlite3_set_auxdata=(g,y,S,E)=>(r._sqlite3_set_auxdata=he.sqlite3_set_auxdata)(g,y,S,E),r._sqlite3_column_count=g=>(r._sqlite3_column_count=he.sqlite3_column_count)(g),r._sqlite3_data_count=g=>(r._sqlite3_data_count=he.sqlite3_data_count)(g),r._sqlite3_column_blob=(g,y)=>(r._sqlite3_column_blob=he.sqlite3_column_blob)(g,y),r._sqlite3_column_bytes=(g,y)=>(r._sqlite3_column_bytes=he.sqlite3_column_bytes)(g,y),r._sqlite3_column_double=(g,y)=>(r._sqlite3_column_double=he.sqlite3_column_double)(g,y),r._sqlite3_column_value=(g,y)=>(r._sqlite3_column_value=he.sqlite3_column_value)(g,y),r._sqlite3_column_decltype=(g,y)=>(r._sqlite3_column_decltype=he.sqlite3_column_decltype)(g,y),r._sqlite3_bind_blob=(g,y,S,E,C)=>(r._sqlite3_bind_blob=he.sqlite3_bind_blob)(g,y,S,E,C),r._sqlite3_bind_double=(g,y,S)=>(r._sqlite3_bind_double=he.sqlite3_bind_double)(g,y,S),r._sqlite3_bind_int=(g,y,S)=>(r._sqlite3_bind_int=he.sqlite3_bind_int)(g,y,S),r._sqlite3_bind_int64=(g,y,S)=>(r._sqlite3_bind_int64=he.sqlite3_bind_int64)(g,y,S),r._sqlite3_bind_null=(g,y)=>(r._sqlite3_bind_null=he.sqlite3_bind_null)(g,y),r._sqlite3_bind_pointer=(g,y,S,E,C)=>(r._sqlite3_bind_pointer=he.sqlite3_bind_pointer)(g,y,S,E,C),r._sqlite3_bind_text=(g,y,S,E,C)=>(r._sqlite3_bind_text=he.sqlite3_bind_text)(g,y,S,E,C),r._sqlite3_bind_parameter_count=g=>(r._sqlite3_bind_parameter_count=he.sqlite3_bind_parameter_count)(g),r._sqlite3_bind_parameter_name=(g,y)=>(r._sqlite3_bind_parameter_name=he.sqlite3_bind_parameter_name)(g,y),r._sqlite3_bind_parameter_index=(g,y)=>(r._sqlite3_bind_parameter_index=he.sqlite3_bind_parameter_index)(g,y),r._sqlite3_db_handle=g=>(r._sqlite3_db_handle=he.sqlite3_db_handle)(g),r._sqlite3_stmt_readonly=g=>(r._sqlite3_stmt_readonly=he.sqlite3_stmt_readonly)(g),r._sqlite3_stmt_isexplain=g=>(r._sqlite3_stmt_isexplain=he.sqlite3_stmt_isexplain)(g),r._sqlite3_stmt_explain=(g,y)=>(r._sqlite3_stmt_explain=he.sqlite3_stmt_explain)(g,y),r._sqlite3_stmt_busy=g=>(r._sqlite3_stmt_busy=he.sqlite3_stmt_busy)(g),r._sqlite3_stmt_status=(g,y,S)=>(r._sqlite3_stmt_status=he.sqlite3_stmt_status)(g,y,S),r._sqlite3_sql=g=>(r._sqlite3_sql=he.sqlite3_sql)(g),r._sqlite3_expanded_sql=g=>(r._sqlite3_expanded_sql=he.sqlite3_expanded_sql)(g),r._sqlite3_preupdate_old=(g,y,S)=>(r._sqlite3_preupdate_old=he.sqlite3_preupdate_old)(g,y,S),r._sqlite3_preupdate_count=g=>(r._sqlite3_preupdate_count=he.sqlite3_preupdate_count)(g),r._sqlite3_preupdate_depth=g=>(r._sqlite3_preupdate_depth=he.sqlite3_preupdate_depth)(g),r._sqlite3_preupdate_blobwrite=g=>(r._sqlite3_preupdate_blobwrite=he.sqlite3_preupdate_blobwrite)(g),r._sqlite3_preupdate_new=(g,y,S)=>(r._sqlite3_preupdate_new=he.sqlite3_preupdate_new)(g,y,S),r._sqlite3_value_numeric_type=g=>(r._sqlite3_value_numeric_type=he.sqlite3_value_numeric_type)(g),r._sqlite3_set_authorizer=(g,y,S)=>(r._sqlite3_set_authorizer=he.sqlite3_set_authorizer)(g,y,S),r._sqlite3_strglob=(g,y)=>(r._sqlite3_strglob=he.sqlite3_strglob)(g,y),r._sqlite3_strlike=(g,y,S)=>(r._sqlite3_strlike=he.sqlite3_strlike)(g,y,S),r._sqlite3_auto_extension=g=>(r._sqlite3_auto_extension=he.sqlite3_auto_extension)(g),r._sqlite3_cancel_auto_extension=g=>(r._sqlite3_cancel_auto_extension=he.sqlite3_cancel_auto_extension)(g),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=he.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(g,y,S,E,C,M)=>(r._sqlite3_prepare_v3=he.sqlite3_prepare_v3)(g,y,S,E,C,M),r._sqlite3_create_module=(g,y,S,E)=>(r._sqlite3_create_module=he.sqlite3_create_module)(g,y,S,E),r._sqlite3_create_module_v2=(g,y,S,E,C)=>(r._sqlite3_create_module_v2=he.sqlite3_create_module_v2)(g,y,S,E,C),r._sqlite3_drop_modules=(g,y)=>(r._sqlite3_drop_modules=he.sqlite3_drop_modules)(g,y),r._sqlite3_declare_vtab=(g,y)=>(r._sqlite3_declare_vtab=he.sqlite3_declare_vtab)(g,y),r._sqlite3_vtab_on_conflict=g=>(r._sqlite3_vtab_on_conflict=he.sqlite3_vtab_on_conflict)(g),r._sqlite3_vtab_collation=(g,y)=>(r._sqlite3_vtab_collation=he.sqlite3_vtab_collation)(g,y),r._sqlite3_vtab_in=(g,y,S)=>(r._sqlite3_vtab_in=he.sqlite3_vtab_in)(g,y,S),r._sqlite3_vtab_rhs_value=(g,y,S)=>(r._sqlite3_vtab_rhs_value=he.sqlite3_vtab_rhs_value)(g,y,S),r._sqlite3_vtab_distinct=g=>(r._sqlite3_vtab_distinct=he.sqlite3_vtab_distinct)(g),r._sqlite3_keyword_name=(g,y,S)=>(r._sqlite3_keyword_name=he.sqlite3_keyword_name)(g,y,S),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=he.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(g,y)=>(r._sqlite3_keyword_check=he.sqlite3_keyword_check)(g,y),r._sqlite3_complete=g=>(r._sqlite3_complete=he.sqlite3_complete)(g),r._sqlite3_libversion=()=>(r._sqlite3_libversion=he.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=he.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=he.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=g=>(r._sqlite3_last_insert_rowid=he.sqlite3_last_insert_rowid)(g),r._sqlite3_set_last_insert_rowid=(g,y)=>(r._sqlite3_set_last_insert_rowid=he.sqlite3_set_last_insert_rowid)(g,y),r._sqlite3_changes64=g=>(r._sqlite3_changes64=he.sqlite3_changes64)(g),r._sqlite3_changes=g=>(r._sqlite3_changes=he.sqlite3_changes)(g),r._sqlite3_total_changes64=g=>(r._sqlite3_total_changes64=he.sqlite3_total_changes64)(g),r._sqlite3_total_changes=g=>(r._sqlite3_total_changes=he.sqlite3_total_changes)(g),r._sqlite3_txn_state=(g,y)=>(r._sqlite3_txn_state=he.sqlite3_txn_state)(g,y),r._sqlite3_close_v2=g=>(r._sqlite3_close_v2=he.sqlite3_close_v2)(g),r._sqlite3_busy_handler=(g,y,S)=>(r._sqlite3_busy_handler=he.sqlite3_busy_handler)(g,y,S),r._sqlite3_progress_handler=(g,y,S,E)=>(r._sqlite3_progress_handler=he.sqlite3_progress_handler)(g,y,S,E),r._sqlite3_busy_timeout=(g,y)=>(r._sqlite3_busy_timeout=he.sqlite3_busy_timeout)(g,y),r._sqlite3_interrupt=g=>(r._sqlite3_interrupt=he.sqlite3_interrupt)(g),r._sqlite3_is_interrupted=g=>(r._sqlite3_is_interrupted=he.sqlite3_is_interrupted)(g),r._sqlite3_create_function=(g,y,S,E,C,M,fe,me)=>(r._sqlite3_create_function=he.sqlite3_create_function)(g,y,S,E,C,M,fe,me),r._sqlite3_create_function_v2=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3_create_function_v2=he.sqlite3_create_function_v2)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3_create_window_function=(g,y,S,E,C,M,fe,me,Qe,tt)=>(r._sqlite3_create_window_function=he.sqlite3_create_window_function)(g,y,S,E,C,M,fe,me,Qe,tt),r._sqlite3_overload_function=(g,y,S)=>(r._sqlite3_overload_function=he.sqlite3_overload_function)(g,y,S),r._sqlite3_trace_v2=(g,y,S,E)=>(r._sqlite3_trace_v2=he.sqlite3_trace_v2)(g,y,S,E),r._sqlite3_commit_hook=(g,y,S)=>(r._sqlite3_commit_hook=he.sqlite3_commit_hook)(g,y,S),r._sqlite3_update_hook=(g,y,S)=>(r._sqlite3_update_hook=he.sqlite3_update_hook)(g,y,S),r._sqlite3_rollback_hook=(g,y,S)=>(r._sqlite3_rollback_hook=he.sqlite3_rollback_hook)(g,y,S),r._sqlite3_preupdate_hook=(g,y,S)=>(r._sqlite3_preupdate_hook=he.sqlite3_preupdate_hook)(g,y,S),r._sqlite3_error_offset=g=>(r._sqlite3_error_offset=he.sqlite3_error_offset)(g),r._sqlite3_errcode=g=>(r._sqlite3_errcode=he.sqlite3_errcode)(g),r._sqlite3_extended_errcode=g=>(r._sqlite3_extended_errcode=he.sqlite3_extended_errcode)(g),r._sqlite3_errstr=g=>(r._sqlite3_errstr=he.sqlite3_errstr)(g),r._sqlite3_limit=(g,y,S)=>(r._sqlite3_limit=he.sqlite3_limit)(g,y,S),r._sqlite3_open=(g,y)=>(r._sqlite3_open=he.sqlite3_open)(g,y),r._sqlite3_open_v2=(g,y,S,E)=>(r._sqlite3_open_v2=he.sqlite3_open_v2)(g,y,S,E),r._sqlite3_create_collation=(g,y,S,E,C)=>(r._sqlite3_create_collation=he.sqlite3_create_collation)(g,y,S,E,C),r._sqlite3_create_collation_v2=(g,y,S,E,C,M)=>(r._sqlite3_create_collation_v2=he.sqlite3_create_collation_v2)(g,y,S,E,C,M),r._sqlite3_collation_needed=(g,y,S)=>(r._sqlite3_collation_needed=he.sqlite3_collation_needed)(g,y,S),r._sqlite3_get_autocommit=g=>(r._sqlite3_get_autocommit=he.sqlite3_get_autocommit)(g),r._sqlite3_table_column_metadata=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3_table_column_metadata=he.sqlite3_table_column_metadata)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3_extended_result_codes=(g,y)=>(r._sqlite3_extended_result_codes=he.sqlite3_extended_result_codes)(g,y),r._sqlite3_uri_key=(g,y)=>(r._sqlite3_uri_key=he.sqlite3_uri_key)(g,y),r._sqlite3_uri_int64=(g,y,S)=>(r._sqlite3_uri_int64=he.sqlite3_uri_int64)(g,y,S),r._sqlite3_db_name=(g,y)=>(r._sqlite3_db_name=he.sqlite3_db_name)(g,y),r._sqlite3_db_filename=(g,y)=>(r._sqlite3_db_filename=he.sqlite3_db_filename)(g,y),r._sqlite3_db_readonly=(g,y)=>(r._sqlite3_db_readonly=he.sqlite3_db_readonly)(g,y),r._sqlite3_compileoption_used=g=>(r._sqlite3_compileoption_used=he.sqlite3_compileoption_used)(g),r._sqlite3_compileoption_get=g=>(r._sqlite3_compileoption_get=he.sqlite3_compileoption_get)(g),r._sqlite3session_diff=(g,y,S,E)=>(r._sqlite3session_diff=he.sqlite3session_diff)(g,y,S,E),r._sqlite3session_attach=(g,y)=>(r._sqlite3session_attach=he.sqlite3session_attach)(g,y),r._sqlite3session_create=(g,y,S)=>(r._sqlite3session_create=he.sqlite3session_create)(g,y,S),r._sqlite3session_delete=g=>(r._sqlite3session_delete=he.sqlite3session_delete)(g),r._sqlite3session_table_filter=(g,y,S)=>(r._sqlite3session_table_filter=he.sqlite3session_table_filter)(g,y,S),r._sqlite3session_changeset=(g,y,S)=>(r._sqlite3session_changeset=he.sqlite3session_changeset)(g,y,S),r._sqlite3session_changeset_strm=(g,y,S)=>(r._sqlite3session_changeset_strm=he.sqlite3session_changeset_strm)(g,y,S),r._sqlite3session_patchset_strm=(g,y,S)=>(r._sqlite3session_patchset_strm=he.sqlite3session_patchset_strm)(g,y,S),r._sqlite3session_patchset=(g,y,S)=>(r._sqlite3session_patchset=he.sqlite3session_patchset)(g,y,S),r._sqlite3session_enable=(g,y)=>(r._sqlite3session_enable=he.sqlite3session_enable)(g,y),r._sqlite3session_indirect=(g,y)=>(r._sqlite3session_indirect=he.sqlite3session_indirect)(g,y),r._sqlite3session_isempty=g=>(r._sqlite3session_isempty=he.sqlite3session_isempty)(g),r._sqlite3session_memory_used=g=>(r._sqlite3session_memory_used=he.sqlite3session_memory_used)(g),r._sqlite3session_object_config=(g,y,S)=>(r._sqlite3session_object_config=he.sqlite3session_object_config)(g,y,S),r._sqlite3session_changeset_size=g=>(r._sqlite3session_changeset_size=he.sqlite3session_changeset_size)(g),r._sqlite3changeset_start=(g,y,S)=>(r._sqlite3changeset_start=he.sqlite3changeset_start)(g,y,S),r._sqlite3changeset_start_v2=(g,y,S,E)=>(r._sqlite3changeset_start_v2=he.sqlite3changeset_start_v2)(g,y,S,E),r._sqlite3changeset_start_strm=(g,y,S)=>(r._sqlite3changeset_start_strm=he.sqlite3changeset_start_strm)(g,y,S),r._sqlite3changeset_start_v2_strm=(g,y,S,E)=>(r._sqlite3changeset_start_v2_strm=he.sqlite3changeset_start_v2_strm)(g,y,S,E),r._sqlite3changeset_next=g=>(r._sqlite3changeset_next=he.sqlite3changeset_next)(g),r._sqlite3changeset_op=(g,y,S,E,C)=>(r._sqlite3changeset_op=he.sqlite3changeset_op)(g,y,S,E,C),r._sqlite3changeset_pk=(g,y,S)=>(r._sqlite3changeset_pk=he.sqlite3changeset_pk)(g,y,S),r._sqlite3changeset_old=(g,y,S)=>(r._sqlite3changeset_old=he.sqlite3changeset_old)(g,y,S),r._sqlite3changeset_new=(g,y,S)=>(r._sqlite3changeset_new=he.sqlite3changeset_new)(g,y,S),r._sqlite3changeset_conflict=(g,y,S)=>(r._sqlite3changeset_conflict=he.sqlite3changeset_conflict)(g,y,S),r._sqlite3changeset_fk_conflicts=(g,y)=>(r._sqlite3changeset_fk_conflicts=he.sqlite3changeset_fk_conflicts)(g,y),r._sqlite3changeset_finalize=g=>(r._sqlite3changeset_finalize=he.sqlite3changeset_finalize)(g),r._sqlite3changeset_invert=(g,y,S,E)=>(r._sqlite3changeset_invert=he.sqlite3changeset_invert)(g,y,S,E),r._sqlite3changeset_invert_strm=(g,y,S,E)=>(r._sqlite3changeset_invert_strm=he.sqlite3changeset_invert_strm)(g,y,S,E),r._sqlite3changeset_apply_v2=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3changeset_apply_v2=he.sqlite3changeset_apply_v2)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3changeset_apply=(g,y,S,E,C,M)=>(r._sqlite3changeset_apply=he.sqlite3changeset_apply)(g,y,S,E,C,M),r._sqlite3changeset_apply_v2_strm=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3changeset_apply_v2_strm=he.sqlite3changeset_apply_v2_strm)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3changeset_apply_strm=(g,y,S,E,C,M)=>(r._sqlite3changeset_apply_strm=he.sqlite3changeset_apply_strm)(g,y,S,E,C,M),r._sqlite3changegroup_new=g=>(r._sqlite3changegroup_new=he.sqlite3changegroup_new)(g),r._sqlite3changegroup_add=(g,y,S)=>(r._sqlite3changegroup_add=he.sqlite3changegroup_add)(g,y,S),r._sqlite3changegroup_output=(g,y,S)=>(r._sqlite3changegroup_output=he.sqlite3changegroup_output)(g,y,S),r._sqlite3changegroup_add_strm=(g,y,S)=>(r._sqlite3changegroup_add_strm=he.sqlite3changegroup_add_strm)(g,y,S),r._sqlite3changegroup_output_strm=(g,y,S)=>(r._sqlite3changegroup_output_strm=he.sqlite3changegroup_output_strm)(g,y,S),r._sqlite3changegroup_delete=g=>(r._sqlite3changegroup_delete=he.sqlite3changegroup_delete)(g),r._sqlite3changeset_concat=(g,y,S,E,C,M)=>(r._sqlite3changeset_concat=he.sqlite3changeset_concat)(g,y,S,E,C,M),r._sqlite3changeset_concat_strm=(g,y,S,E,C,M)=>(r._sqlite3changeset_concat_strm=he.sqlite3changeset_concat_strm)(g,y,S,E,C,M),r._sqlite3session_config=(g,y)=>(r._sqlite3session_config=he.sqlite3session_config)(g,y),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=he.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=he.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=g=>(r._sqlite3__wasm_pstack_restore=he.sqlite3__wasm_pstack_restore)(g),r._sqlite3__wasm_pstack_alloc=g=>(r._sqlite3__wasm_pstack_alloc=he.sqlite3__wasm_pstack_alloc)(g),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=he.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=he.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(g,y,S)=>(r._sqlite3__wasm_db_error=he.sqlite3__wasm_db_error)(g,y,S),r._sqlite3__wasm_test_struct=g=>(r._sqlite3__wasm_test_struct=he.sqlite3__wasm_test_struct)(g),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=he.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(g,y)=>(r._sqlite3__wasm_vfs_unlink=he.sqlite3__wasm_vfs_unlink)(g,y),r._sqlite3__wasm_db_vfs=(g,y)=>(r._sqlite3__wasm_db_vfs=he.sqlite3__wasm_db_vfs)(g,y),r._sqlite3__wasm_db_reset=g=>(r._sqlite3__wasm_db_reset=he.sqlite3__wasm_db_reset)(g),r._sqlite3__wasm_db_export_chunked=(g,y)=>(r._sqlite3__wasm_db_export_chunked=he.sqlite3__wasm_db_export_chunked)(g,y),r._sqlite3__wasm_db_serialize=(g,y,S,E,C)=>(r._sqlite3__wasm_db_serialize=he.sqlite3__wasm_db_serialize)(g,y,S,E,C),r._sqlite3__wasm_vfs_create_file=(g,y,S,E)=>(r._sqlite3__wasm_vfs_create_file=he.sqlite3__wasm_vfs_create_file)(g,y,S,E),r._sqlite3__wasm_posix_create_file=(g,y,S)=>(r._sqlite3__wasm_posix_create_file=he.sqlite3__wasm_posix_create_file)(g,y,S),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(g,y)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=he.sqlite3__wasm_kvvfsMakeKeyOnPstack)(g,y),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=he.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(g,y,S)=>(r._sqlite3__wasm_vtab_config=he.sqlite3__wasm_vtab_config)(g,y,S),r._sqlite3__wasm_db_config_ip=(g,y,S,E)=>(r._sqlite3__wasm_db_config_ip=he.sqlite3__wasm_db_config_ip)(g,y,S,E),r._sqlite3__wasm_db_config_pii=(g,y,S,E,C)=>(r._sqlite3__wasm_db_config_pii=he.sqlite3__wasm_db_config_pii)(g,y,S,E,C),r._sqlite3__wasm_db_config_s=(g,y,S)=>(r._sqlite3__wasm_db_config_s=he.sqlite3__wasm_db_config_s)(g,y,S),r._sqlite3__wasm_config_i=(g,y)=>(r._sqlite3__wasm_config_i=he.sqlite3__wasm_config_i)(g,y),r._sqlite3__wasm_config_ii=(g,y,S)=>(r._sqlite3__wasm_config_ii=he.sqlite3__wasm_config_ii)(g,y,S),r._sqlite3__wasm_config_j=(g,y)=>(r._sqlite3__wasm_config_j=he.sqlite3__wasm_config_j)(g,y),r._sqlite3__wasm_qfmt_token=(g,y)=>(r._sqlite3__wasm_qfmt_token=he.sqlite3__wasm_qfmt_token)(g,y),r._sqlite3__wasm_init_wasmfs=g=>(r._sqlite3__wasm_init_wasmfs=he.sqlite3__wasm_init_wasmfs)(g),r._sqlite3__wasm_test_intptr=g=>(r._sqlite3__wasm_test_intptr=he.sqlite3__wasm_test_intptr)(g),r._sqlite3__wasm_test_voidptr=g=>(r._sqlite3__wasm_test_voidptr=he.sqlite3__wasm_test_voidptr)(g),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=he.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=he.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=g=>(r._sqlite3__wasm_test_int64_times2=he.sqlite3__wasm_test_int64_times2)(g),r._sqlite3__wasm_test_int64_minmax=(g,y)=>(r._sqlite3__wasm_test_int64_minmax=he.sqlite3__wasm_test_int64_minmax)(g,y),r._sqlite3__wasm_test_int64ptr=g=>(r._sqlite3__wasm_test_int64ptr=he.sqlite3__wasm_test_int64ptr)(g),r._sqlite3__wasm_test_stack_overflow=g=>(r._sqlite3__wasm_test_stack_overflow=he.sqlite3__wasm_test_stack_overflow)(g),r._sqlite3__wasm_test_str_hello=g=>(r._sqlite3__wasm_test_str_hello=he.sqlite3__wasm_test_str_hello)(g),r._sqlite3__wasm_SQLTester_strglob=(g,y)=>(r._sqlite3__wasm_SQLTester_strglob=he.sqlite3__wasm_SQLTester_strglob)(g,y),r._malloc=g=>(r._malloc=he.malloc)(g),r._free=g=>(r._free=he.free)(g),r._realloc=(g,y)=>(r._realloc=he.realloc)(g,y);var Ef=(g,y)=>(Ef=he.emscripten_builtin_memalign)(g,y);r.wasmMemory=q;var su;de=function g(){su||Nf(),su||(de=g)};function Nf(){if(ce>0||(Z(),ce>0))return;function g(){su||(su=!0,r.calledRun=!0,!j&&(le(),i(r),r.onRuntimeInitialized?.(),ie()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),g()},1)):g()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Nf(),r.postRun||(r.postRun=[]),r.postRun.push(function(g){if(globalThis.sqlite3ApiBootstrap=function y(S=globalThis.sqlite3ApiConfig||y.defaultConfig){if(y.sqlite3)return(y.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),y.sqlite3;const E=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof g<"u"&&g.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},S||{});Object.assign(E,{allocExportName:E.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:E.useStdAlloc?"free":"sqlite3_free",reallocExportName:E.useStdAlloc?"realloc":"sqlite3_realloc"},E),["exports","memory","wasmfsOpfsDir"].forEach(H=>{typeof E[H]=="function"&&(E[H]=E[H]())}),delete globalThis.sqlite3ApiConfig,delete y.defaultConfig;const C=Object.create(null),M=Object.create(null),fe=H=>C.sqlite3_js_rc_str&&C.sqlite3_js_rc_str(H)||"Unknown result code #"+H,me=H=>typeof H=="number"&&H===(H|0);class Qe extends Error{constructor(...ne){let re;if(ne.length)if(me(ne[0]))if(re=ne[0],ne.length===1)super(fe(ne[0]));else{const Le=fe(re);typeof ne[1]=="object"?super(Le,ne[1]):(ne[0]=Le+":",super(ne.join(" ")))}else ne.length===2&&typeof ne[1]=="object"?super(...ne):super(ne.join(" "));this.resultCode=re||C.SQLITE_ERROR,this.name="SQLite3Error"}}Qe.toss=(...H)=>{throw new Qe(...H)};const tt=Qe.toss;E.wasmfsOpfsDir&&!/^\/[^/]+$/.test(E.wasmfsOpfsDir)&&tt("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const at=H=>typeof H!="bigint"&&H===(H|0)&&H<=0x7fffffff&&H>=-0x80000000,mt=function H(ne){return H._max||(H._max=BigInt("0x7fffffffffffffff"),H._min=~H._max),ne>=H._min&&ne<=H._max},Be=H=>H>=-2147483647n-1n&&H<=2147483647n,Re=function H(ne){return H._min||(H._min=Number.MIN_SAFE_INTEGER,H._max=Number.MAX_SAFE_INTEGER),ne>=H._min&&ne<=H._max},et=H=>H&&H.constructor&&at(H.constructor.BYTES_PER_ELEMENT)?H:!1,be=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ie=H=>H.buffer instanceof be,Te=(H,ne,re)=>Ie(H)?H.slice(ne,re):H.subarray(ne,re),Je=H=>H&&(H instanceof Uint8Array||H instanceof Int8Array||H instanceof ArrayBuffer),Ge=H=>H&&(H instanceof Uint8Array||H instanceof Int8Array||H instanceof ArrayBuffer),Oe=H=>Je(H)||tt("Value is not of a supported TypedArray type."),Ke=new TextDecoder("utf-8"),St=function(H,ne,re){return Ke.decode(Te(H,ne,re))},J=function(H){return Ge(H)?St(H instanceof ArrayBuffer?new Uint8Array(H):H):Array.isArray(H)?H.join(""):(M.isPtr(H)&&(H=M.cstrToJs(H)),H)};class ue extends Error{constructor(...ne){ne.length===2&&typeof ne[1]=="object"?super(...ne):ne.length?super(ne.join(" ")):super("Allocation failed."),this.resultCode=C.SQLITE_NOMEM,this.name="WasmAllocError"}}ue.toss=(...H)=>{throw new ue(...H)},Object.assign(C,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(H,ne,re,Le,it,Ot,Bt,Gt,lt)=>{},sqlite3_create_function:(H,ne,re,Le,it,Ot,Bt,Gt)=>{},sqlite3_create_window_function:(H,ne,re,Le,it,Ot,Bt,Gt,lt,_e)=>{},sqlite3_prepare_v3:(H,ne,re,Le,it,Ot)=>{},sqlite3_prepare_v2:(H,ne,re,Le,it)=>{},sqlite3_exec:(H,ne,re,Le,it)=>{},sqlite3_randomness:(H,ne)=>{}});const Ee={affirmBindableTypedArray:Oe,flexibleString:J,bigIntFits32:Be,bigIntFits64:mt,bigIntFitsDouble:Re,isBindableTypedArray:Je,isInt32:at,isSQLableTypedArray:Ge,isTypedArray:et,typedArrayToString:St,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:Ie,toss:function(...H){throw new Error(H.join(" "))},toss3:tt,typedArrayPart:Te,affirmDbHeader:function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));const ne="SQLite format 3";ne.length>H.byteLength&&tt("Input does not contain an SQLite3 database header.");for(let re=0;re<ne.length;++re)ne.charCodeAt(re)!==H[re]&&tt("Input does not contain an SQLite3 database header.")},affirmIsDb:function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));const ne=H.byteLength;(ne<512||ne%512!==0)&&tt("Byte array size",ne,"is invalid for an SQLite3 db."),Ee.affirmDbHeader(H)}};Object.assign(M,{ptrSizeof:E.wasmPtrSizeof||4,ptrIR:E.wasmPtrIR||"i32",bigIntEnabled:!!E.bigIntEnabled,exports:E.exports||tt("Missing API config.exports (WASM module exports)."),memory:E.memory||E.exports.memory||tt("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),M.allocFromTypedArray=function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H)),Oe(H);const ne=M.alloc(H.byteLength||1);return M.heapForSize(H.constructor).set(H.byteLength?H:[0],ne),ne};{const H=E.allocExportName,ne=E.deallocExportName,re=E.reallocExportName;for(const Le of[H,ne,re])M.exports[Le]instanceof Function||tt("Missing required exports[",Le,"] function.");M.alloc=function Le(it){return Le.impl(it)||ue.toss("Failed to allocate",it," bytes.")},M.alloc.impl=M.exports[H],M.realloc=function Le(it,Ot){const Bt=Le.impl(it,Ot);return Ot?Bt||ue.toss("Failed to reallocate",Ot," bytes."):0},M.realloc.impl=M.exports[re],M.dealloc=M.exports[ne]}M.compileOptionUsed=function H(ne){if(arguments.length){if(Array.isArray(ne)){const re={};return ne.forEach(Le=>{re[Le]=C.sqlite3_compileoption_used(Le)}),re}else if(typeof ne=="object")return Object.keys(ne).forEach(re=>{ne[re]=C.sqlite3_compileoption_used(re)}),ne}else{if(H._result)return H._result;H._opt||(H._rx=/^([^=]+)=(.+)/,H._rxInt=/^-?\d+$/,H._opt=function(Bt,Gt){const lt=H._rx.exec(Bt);Gt[0]=lt?lt[1]:Bt,Gt[1]=lt?H._rxInt.test(lt[2])?+lt[2]:lt[2]:!0});const re={},Le=[0,0];let it=0,Ot;for(;Ot=C.sqlite3_compileoption_get(it++);)H._opt(Ot,Le),re[Le[0]]=Le[1];return H._result=re}return typeof ne=="string"?!!C.sqlite3_compileoption_used(ne):!1},M.pstack=Object.assign(Object.create(null),{restore:M.exports.sqlite3__wasm_pstack_restore,alloc:function(H){return typeof H=="string"&&!(H=M.sizeofIR(H))&&ue.toss("Invalid value for pstack.alloc(",arguments[0],")"),M.exports.sqlite3__wasm_pstack_alloc(H)||ue.toss("Could not allocate",H,"bytes from the pstack.")},allocChunks:function(H,ne){typeof ne=="string"&&!(ne=M.sizeofIR(ne))&&ue.toss("Invalid size value for allocChunks(",arguments[1],")");const re=M.pstack.alloc(H*ne),Le=[];let it=0,Ot=0;for(;it<H;++it,Ot+=ne)Le.push(re+Ot);return Le},allocPtr:(H=1,ne=!0)=>H===1?M.pstack.alloc(ne?8:M.ptrSizeof):M.pstack.allocChunks(H,ne?8:M.ptrSizeof),call:function(H){const ne=M.pstack.pointer;try{return H(pe)}finally{M.pstack.restore(ne)}}}),Object.defineProperties(M.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_remaining}}),C.sqlite3_randomness=(...H)=>{if(H.length===1&&Ee.isTypedArray(H[0])&&H[0].BYTES_PER_ELEMENT===1){const ne=H[0];if(ne.byteLength===0)return M.exports.sqlite3_randomness(0,0),ne;const re=M.pstack.pointer;try{let Le=ne.byteLength,it=0;const Ot=M.exports.sqlite3_randomness,Bt=M.heap8u(),Gt=Le<512?Le:512,lt=M.pstack.alloc(Gt);do{const _e=Le>Gt?Gt:Le;Ot(_e,lt),ne.set(Te(Bt,lt,lt+_e),it),Le-=_e,it+=_e}while(Le>0)}catch(Le){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Le)}finally{M.pstack.restore(re)}return ne}M.exports.sqlite3_randomness(...H)};let st;if(C.sqlite3_wasmfs_opfs_dir=function(){if(st!==void 0)return st;const H=E.wasmfsOpfsDir;if(!H||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return st="";try{return H&&M.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],H)===0?st=H:st=""}catch{return st=""}},C.sqlite3_wasmfs_filename_is_persistent=function(H){const ne=C.sqlite3_wasmfs_opfs_dir();return ne&&H?H.startsWith(ne+"/"):!1},C.sqlite3_js_db_uses_vfs=function(H,ne,re=0){try{const Le=C.sqlite3_vfs_find(ne);return Le?H?Le===C.sqlite3_js_db_vfs(H,re)?Le:!1:Le===C.sqlite3_vfs_find(0)?Le:!1:!1}catch{return!1}},C.sqlite3_js_vfs_list=function(){const H=[];let ne=C.sqlite3_vfs_find(0);for(;ne;){const re=new C.sqlite3_vfs(ne);H.push(M.cstrToJs(re.$zName)),ne=re.$pNext,re.dispose()}return H},C.sqlite3_js_db_export=function(H,ne=0){H=M.xWrap.testConvertArg("sqlite3*",H),H||tt("Invalid sqlite3* argument."),M.bigIntEnabled||tt("BigInt64 support is not enabled.");const re=M.scopedAllocPush();let Le;try{const it=M.scopedAlloc(8+M.ptrSizeof),Ot=it+8,Bt=ne?M.isPtr(ne)?ne:M.scopedAllocCString(""+ne):0;let Gt=M.exports.sqlite3__wasm_db_serialize(H,Bt,Ot,it,0);Gt&&tt("Database serialization failed with code",pe.capi.sqlite3_js_rc_str(Gt)),Le=M.peekPtr(Ot);const lt=M.peek(it,"i64");return Gt=lt?M.heap8u().slice(Le,Le+Number(lt)):new Uint8Array,Gt}finally{Le&&M.exports.sqlite3_free(Le),M.scopedAllocPop(re)}},C.sqlite3_js_db_vfs=(H,ne=0)=>Ee.sqlite3__wasm_db_vfs(H,ne),C.sqlite3_js_aggregate_context=(H,ne)=>C.sqlite3_aggregate_context(H,ne)||(ne?ue.toss("Cannot allocate",ne,"bytes for sqlite3_aggregate_context()"):0),C.sqlite3_js_posix_create_file=function(H,ne,re){let Le;ne&&M.isPtr(ne)?Le=ne:ne instanceof ArrayBuffer||ne instanceof Uint8Array?(Le=M.allocFromTypedArray(ne),(arguments.length<3||!Ee.isInt32(re)||re<0)&&(re=ne.byteLength)):Qe.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!Ee.isInt32(re)||re<0)&&Qe.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const it=Ee.sqlite3__wasm_posix_create_file(H,Le,re);it&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(it))}finally{M.dealloc(Le)}},C.sqlite3_js_vfs_create_file=function(H,ne,re,Le){E.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let it;re?(M.isPtr(re)?it=re:re instanceof ArrayBuffer&&(re=new Uint8Array(re)),re instanceof Uint8Array?(it=M.allocFromTypedArray(re),(arguments.length<4||!Ee.isInt32(Le)||Le<0)&&(Le=re.byteLength)):Qe.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):it=0,(!Ee.isInt32(Le)||Le<0)&&(M.dealloc(it),Qe.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Ot=Ee.sqlite3__wasm_vfs_create_file(H,ne,it,Le);Ot&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(Ot))}finally{M.dealloc(it)}},C.sqlite3_js_sql_to_string=H=>{if(typeof H=="string")return H;const ne=J(v);return ne===v?void 0:ne},Ee.isUIThread()){const H=function(ne){const re=Object.create(null);return re.prefix="kvvfs-"+ne,re.stores=[],(ne==="session"||ne==="")&&re.stores.push(globalThis.sessionStorage),(ne==="local"||ne==="")&&re.stores.push(globalThis.localStorage),re};C.sqlite3_js_kvvfs_clear=function(ne=""){let re=0;const Le=H(ne);return Le.stores.forEach(it=>{const Ot=[];let Bt;for(Bt=0;Bt<it.length;++Bt){const Gt=it.key(Bt);Gt.startsWith(Le.prefix)&&Ot.push(Gt)}Ot.forEach(Gt=>it.removeItem(Gt)),re+=Ot.length}),re},C.sqlite3_js_kvvfs_size=function(ne=""){let re=0;const Le=H(ne);return Le.stores.forEach(it=>{let Ot;for(Ot=0;Ot<it.length;++Ot){const Bt=it.key(Ot);Bt.startsWith(Le.prefix)&&(re+=Bt.length,re+=it.getItem(Bt).length)}}),re*2}}C.sqlite3_db_config=function(H,ne,...re){switch(this.s||(this.s=M.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=M.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=M.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),ne){case C.SQLITE_DBCONFIG_ENABLE_FKEY:case C.SQLITE_DBCONFIG_ENABLE_TRIGGER:case C.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case C.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case C.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case C.SQLITE_DBCONFIG_ENABLE_QPSG:case C.SQLITE_DBCONFIG_TRIGGER_EQP:case C.SQLITE_DBCONFIG_RESET_DATABASE:case C.SQLITE_DBCONFIG_DEFENSIVE:case C.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case C.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case C.SQLITE_DBCONFIG_DQS_DML:case C.SQLITE_DBCONFIG_DQS_DDL:case C.SQLITE_DBCONFIG_ENABLE_VIEW:case C.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case C.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case C.SQLITE_DBCONFIG_STMT_SCANSTATUS:case C.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(H,ne,re[0],re[1]||0);case C.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(H,ne,re[0],re[1],re[2]);case C.SQLITE_DBCONFIG_MAINDBNAME:return this.s(H,ne,re[0]);default:return C.SQLITE_MISUSE}}.bind(Object.create(null)),C.sqlite3_value_to_js=function(H,ne=!0){let re;const Le=C.sqlite3_value_type(H);switch(Le){case C.SQLITE_INTEGER:M.bigIntEnabled?(re=C.sqlite3_value_int64(H),Ee.bigIntFitsDouble(re)&&(re=Number(re))):re=C.sqlite3_value_double(H);break;case C.SQLITE_FLOAT:re=C.sqlite3_value_double(H);break;case C.SQLITE_TEXT:re=C.sqlite3_value_text(H);break;case C.SQLITE_BLOB:{const it=C.sqlite3_value_bytes(H),Ot=C.sqlite3_value_blob(H);it&&!Ot&&pe.WasmAllocError.toss("Cannot allocate memory for blob argument of",it,"byte(s)"),re=it?M.heap8u().slice(Ot,Ot+Number(it)):null;break}case C.SQLITE_NULL:re=null;break;default:ne&&tt(C.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Le),re=void 0}return re},C.sqlite3_values_to_js=function(H,ne,re=!0){let Le;const it=[];for(Le=0;Le<H;++Le)it.push(C.sqlite3_value_to_js(M.peekPtr(ne+M.ptrSizeof*Le),re));return it},C.sqlite3_result_error_js=function(H,ne){ne instanceof ue?C.sqlite3_result_error_nomem(H):C.sqlite3_result_error(H,""+ne,-1)},C.sqlite3_result_js=function(H,ne){if(ne instanceof Error){C.sqlite3_result_error_js(H,ne);return}try{switch(typeof ne){case"undefined":break;case"boolean":C.sqlite3_result_int(H,ne?1:0);break;case"bigint":Ee.bigIntFits32(ne)?C.sqlite3_result_int(H,Number(ne)):Ee.bigIntFitsDouble(ne)?C.sqlite3_result_double(H,Number(ne)):M.bigIntEnabled?Ee.bigIntFits64(ne)?C.sqlite3_result_int64(H,ne):tt("BigInt value",ne.toString(),"is too BigInt for int64."):tt("BigInt value",ne.toString(),"is too BigInt.");break;case"number":{let re;Ee.isInt32(ne)?re=C.sqlite3_result_int:M.bigIntEnabled&&Number.isInteger(ne)&&Ee.bigIntFits64(BigInt(ne))?re=C.sqlite3_result_int64:re=C.sqlite3_result_double,re(H,ne);break}case"string":{const[re,Le]=M.allocCString(ne,!0);C.sqlite3_result_text(H,re,Le,C.SQLITE_WASM_DEALLOC);break}case"object":if(ne===null){C.sqlite3_result_null(H);break}else if(Ee.isBindableTypedArray(ne)){const re=M.allocFromTypedArray(ne);C.sqlite3_result_blob(H,re,ne.byteLength,C.SQLITE_WASM_DEALLOC);break}default:tt("Don't not how to handle this UDF result value:",typeof ne,ne)}}catch(re){C.sqlite3_result_error_js(H,re)}},C.sqlite3_column_js=function(H,ne,re=!0){const Le=C.sqlite3_column_value(H,ne);return Le===0?void 0:C.sqlite3_value_to_js(Le,re)};const oe=function(H,ne,re){re=C[re],this.ptr?M.pokePtr(this.ptr,0):this.ptr=M.allocPtr();const Le=re(H,ne,this.ptr);if(Le)return Qe.toss(Le,arguments[2]+"() failed with code "+Le);const it=M.peekPtr(this.ptr);return it?C.sqlite3_value_to_js(it,!0):void 0}.bind(Object.create(null));C.sqlite3_preupdate_new_js=(H,ne)=>oe(H,ne,"sqlite3_preupdate_new"),C.sqlite3_preupdate_old_js=(H,ne)=>oe(H,ne,"sqlite3_preupdate_old"),C.sqlite3changeset_new_js=(H,ne)=>oe(H,ne,"sqlite3changeset_new"),C.sqlite3changeset_old_js=(H,ne)=>oe(H,ne,"sqlite3changeset_old");const pe={WasmAllocError:ue,SQLite3Error:Qe,capi:C,util:Ee,wasm:M,config:E,version:Object.create(null),client:void 0,asyncPostInit:async function H(){if(H.isReady instanceof Promise)return H.isReady;let ne=y.initializersAsync;delete y.initializersAsync;const re=async()=>(pe.__isUnderTest||(delete pe.util,delete pe.StructBinder),pe),Le=Ot=>{throw E.error("an async sqlite3 initializer failed:",Ot),Ot};if(!ne||!ne.length)return H.isReady=re().catch(Le);ne=ne.map(Ot=>Ot instanceof Function?async Bt=>Ot(pe):Ot),ne.push(re);let it=Promise.resolve(pe);for(;ne.length;)it=it.then(ne.shift());return H.isReady=it.catch(Le)},scriptInfo:void 0};try{y.initializers.forEach(H=>{H(pe)})}catch(H){throw console.error("sqlite3 bootstrap initializer threw:",H),H}return delete y.initializers,y.sqlite3=pe,pe},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(y){y.bigIntEnabled===void 0&&(y.bigIntEnabled=!!globalThis.BigInt64Array);const S=(...J)=>{throw new Error(J.join(" "))};y.exports||Object.defineProperty(y,"exports",{enumerable:!0,configurable:!0,get:()=>y.instance&&y.instance.exports});const E=y.pointerIR||"i32",C=y.ptrSizeof=E==="i32"?4:E==="i64"?8:S("Unhandled ptrSizeof:",E),M=Object.create(null);M.heapSize=0,M.memory=null,M.freeFuncIndexes=[],M.scopedAlloc=[],M.utf8Decoder=new TextDecoder,M.utf8Encoder=new TextEncoder("utf-8"),y.sizeofIR=J=>{switch(J){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return C;default:return(""+J).endsWith("*")?C:void 0}};const fe=function(){if(!M.memory)M.memory=y.memory instanceof WebAssembly.Memory?y.memory:y.exports.memory;else if(M.heapSize===M.memory.buffer.byteLength)return M;const J=M.memory.buffer;return M.HEAP8=new Int8Array(J),M.HEAP8U=new Uint8Array(J),M.HEAP16=new Int16Array(J),M.HEAP16U=new Uint16Array(J),M.HEAP32=new Int32Array(J),M.HEAP32U=new Uint32Array(J),y.bigIntEnabled&&(M.HEAP64=new BigInt64Array(J),M.HEAP64U=new BigUint64Array(J)),M.HEAP32F=new Float32Array(J),M.HEAP64F=new Float64Array(J),M.heapSize=J.byteLength,M};y.heap8=()=>fe().HEAP8,y.heap8u=()=>fe().HEAP8U,y.heap16=()=>fe().HEAP16,y.heap16u=()=>fe().HEAP16U,y.heap32=()=>fe().HEAP32,y.heap32u=()=>fe().HEAP32U,y.heapForSize=function(J,ue=!0){const Ee=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe();switch(J){case Int8Array:return Ee.HEAP8;case Uint8Array:return Ee.HEAP8U;case Int16Array:return Ee.HEAP16;case Uint16Array:return Ee.HEAP16U;case Int32Array:return Ee.HEAP32;case Uint32Array:return Ee.HEAP32U;case 8:return ue?Ee.HEAP8U:Ee.HEAP8;case 16:return ue?Ee.HEAP16U:Ee.HEAP16;case 32:return ue?Ee.HEAP32U:Ee.HEAP32;case 64:if(Ee.HEAP64)return ue?Ee.HEAP64U:Ee.HEAP64;break;default:if(y.bigIntEnabled){if(J===globalThis.BigUint64Array)return Ee.HEAP64U;if(J===globalThis.BigInt64Array)return Ee.HEAP64;break}}S("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},y.functionTable=function(){return y.exports.__indirect_function_table},y.functionEntry=function(J){const ue=y.functionTable();return J<ue.length?ue.get(J):void 0},y.jsFuncToWasm=function J(ue,Ee){if(J._||(J._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(pe,H,ne){ne<128?pe[H](ne):pe[H](ne%128|128,ne>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(pe){const H=J._.rxJSig.exec(pe);return H?H[2]:pe.substr(1)},letterType:pe=>J._.sigTypes[pe]||S("Invalid signature letter:",pe),pushSigType:(pe,H)=>pe.push(J._.typeCodes[J._.letterType(H)])}),typeof ue=="string"){const pe=Ee;Ee=ue,ue=pe}const st=J._.sigParams(Ee),oe=[1,96];J._.uleb128Encode(oe,"push",st.length);for(const pe of st)J._.pushSigType(oe,pe);return Ee[0]==="v"?oe.push(0):(oe.push(1),J._.pushSigType(oe,Ee[0])),J._.uleb128Encode(oe,"unshift",oe.length),oe.unshift(0,97,115,109,1,0,0,0,1),oe.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(oe)),{e:{f:ue}}).exports.f};const me=function(ue,Ee,st){if(st&&!M.scopedAlloc.length&&S("No scopedAllocPush() scope is active."),typeof ue=="string"){const ne=Ee;Ee=ue,ue=ne}(typeof Ee!="string"||!(ue instanceof Function))&&S("Invalid arguments: expecting (function,signature) or (signature,function).");const oe=y.functionTable(),pe=oe.length;let H;for(;M.freeFuncIndexes.length&&(H=M.freeFuncIndexes.pop(),oe.get(H));){H=null;continue}H||(H=pe,oe.grow(1));try{return oe.set(H,ue),st&&M.scopedAlloc[M.scopedAlloc.length-1].push(H),H}catch(ne){if(!(ne instanceof TypeError))throw H===pe&&M.freeFuncIndexes.push(pe),ne}try{const ne=y.jsFuncToWasm(ue,Ee);oe.set(H,ne),st&&M.scopedAlloc[M.scopedAlloc.length-1].push(H)}catch(ne){throw H===pe&&M.freeFuncIndexes.push(pe),ne}return H};y.installFunction=(J,ue)=>me(J,ue,!1),y.scopedInstallFunction=(J,ue)=>me(J,ue,!0),y.uninstallFunction=function(J){if(!J&&J!==0)return;const ue=M.freeFuncIndexes,Ee=y.functionTable();ue.push(J);const st=Ee.get(J);return Ee.set(J,null),st},y.peek=function(ue,Ee="i8"){Ee.endsWith("*")&&(Ee=E);const st=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe(),oe=Array.isArray(ue)?[]:void 0;let pe;do{switch(oe&&(ue=arguments[0].shift()),Ee){case"i1":case"i8":pe=st.HEAP8[ue>>0];break;case"i16":pe=st.HEAP16[ue>>1];break;case"i32":pe=st.HEAP32[ue>>2];break;case"float":case"f32":pe=st.HEAP32F[ue>>2];break;case"double":case"f64":pe=Number(st.HEAP64F[ue>>3]);break;case"i64":if(y.bigIntEnabled){pe=BigInt(st.HEAP64[ue>>3]);break}default:S("Invalid type for peek():",Ee)}oe&&oe.push(pe)}while(oe&&arguments[0].length);return oe||pe},y.poke=function(J,ue,Ee="i8"){Ee.endsWith("*")&&(Ee=E);const st=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe();for(const oe of Array.isArray(J)?J:[J])switch(Ee){case"i1":case"i8":st.HEAP8[oe>>0]=ue;continue;case"i16":st.HEAP16[oe>>1]=ue;continue;case"i32":st.HEAP32[oe>>2]=ue;continue;case"float":case"f32":st.HEAP32F[oe>>2]=ue;continue;case"double":case"f64":st.HEAP64F[oe>>3]=ue;continue;case"i64":if(st.HEAP64){st.HEAP64[oe>>3]=BigInt(ue);continue}default:S("Invalid type for poke(): "+Ee)}return this},y.peekPtr=(...J)=>y.peek(J.length===1?J[0]:J,E),y.pokePtr=(J,ue=0)=>y.poke(J,ue,E),y.peek8=(...J)=>y.peek(J.length===1?J[0]:J,"i8"),y.poke8=(J,ue)=>y.poke(J,ue,"i8"),y.peek16=(...J)=>y.peek(J.length===1?J[0]:J,"i16"),y.poke16=(J,ue)=>y.poke(J,ue,"i16"),y.peek32=(...J)=>y.peek(J.length===1?J[0]:J,"i32"),y.poke32=(J,ue)=>y.poke(J,ue,"i32"),y.peek64=(...J)=>y.peek(J.length===1?J[0]:J,"i64"),y.poke64=(J,ue)=>y.poke(J,ue,"i64"),y.peek32f=(...J)=>y.peek(J.length===1?J[0]:J,"f32"),y.poke32f=(J,ue)=>y.poke(J,ue,"f32"),y.peek64f=(...J)=>y.peek(J.length===1?J[0]:J,"f64"),y.poke64f=(J,ue)=>y.poke(J,ue,"f64"),y.getMemValue=y.peek,y.getPtrValue=y.peekPtr,y.setMemValue=y.poke,y.setPtrValue=y.pokePtr,y.isPtr32=J=>typeof J=="number"&&J===(J|0)&&J>=0,y.isPtr=y.isPtr32,y.cstrlen=function(J){if(!J||!y.isPtr(J))return null;const ue=fe().HEAP8U;let Ee=J;for(;ue[Ee]!==0;++Ee);return Ee-J};const Qe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,tt=function(J,ue,Ee){return M.utf8Decoder.decode(J.buffer instanceof Qe?J.slice(ue,Ee):J.subarray(ue,Ee))};y.cstrToJs=function(J){const ue=y.cstrlen(J);return ue?tt(fe().HEAP8U,J,J+ue):ue===null?ue:""},y.jstrlen=function(J){if(typeof J!="string")return null;const ue=J.length;let Ee=0;for(let st=0;st<ue;++st){let oe=J.charCodeAt(st);oe>=55296&&oe<=57343&&(oe=65536+((oe&1023)<<10)|J.charCodeAt(++st)&1023),oe<=127?++Ee:oe<=2047?Ee+=2:oe<=65535?Ee+=3:Ee+=4}return Ee},y.jstrcpy=function(J,ue,Ee=0,st=-1,oe=!0){if((!ue||!(ue instanceof Int8Array)&&!(ue instanceof Uint8Array))&&S("jstrcpy() target must be an Int8Array or Uint8Array."),st<0&&(st=ue.length-Ee),!(st>0)||!(Ee>=0))return 0;let pe=0,H=J.length;const ne=Ee,re=Ee+st-(oe?1:0);for(;pe<H&&Ee<re;++pe){let Le=J.charCodeAt(pe);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|J.charCodeAt(++pe)&1023),Le<=127){if(Ee>=re)break;ue[Ee++]=Le}else if(Le<=2047){if(Ee+1>=re)break;ue[Ee++]=192|Le>>6,ue[Ee++]=128|Le&63}else if(Le<=65535){if(Ee+2>=re)break;ue[Ee++]=224|Le>>12,ue[Ee++]=128|Le>>6&63,ue[Ee++]=128|Le&63}else{if(Ee+3>=re)break;ue[Ee++]=240|Le>>18,ue[Ee++]=128|Le>>12&63,ue[Ee++]=128|Le>>6&63,ue[Ee++]=128|Le&63}}return oe&&(ue[Ee++]=0),Ee-ne},y.cstrncpy=function(J,ue,Ee){if((!J||!ue)&&S("cstrncpy() does not accept NULL strings."),Ee<0)Ee=y.cstrlen(strPtr)+1;else if(!(Ee>0))return 0;const st=y.heap8u();let oe=0,pe;for(;oe<Ee&&(pe=st[ue+oe]);++oe)st[J+oe]=pe;return oe<Ee&&(st[J+oe++]=0),oe},y.jstrToUintArray=(J,ue=!1)=>M.utf8Encoder.encode(ue?J+"\0":J);const at=(J,ue)=>{(!(J.alloc instanceof Function)||!(J.dealloc instanceof Function))&&S("Object is missing alloc() and/or dealloc() function(s)","required by",ue+"().")},mt=function(J,ue,Ee,st){if(at(y,st),typeof J!="string")return null;{const oe=M.utf8Encoder.encode(J),pe=Ee(oe.length+1),H=fe().HEAP8U;return H.set(oe,pe),H[pe+oe.length]=0,ue?[pe,oe.length]:pe}};y.allocCString=(J,ue=!1)=>mt(J,ue,y.alloc,"allocCString()"),y.scopedAllocPush=function(){at(y,"scopedAllocPush");const J=[];return M.scopedAlloc.push(J),J},y.scopedAllocPop=function(J){at(y,"scopedAllocPop");const ue=arguments.length?M.scopedAlloc.indexOf(J):M.scopedAlloc.length-1;ue<0&&S("Invalid state object for scopedAllocPop()."),arguments.length===0&&(J=M.scopedAlloc[ue]),M.scopedAlloc.splice(ue,1);for(let Ee;Ee=J.pop();)y.functionEntry(Ee)?y.uninstallFunction(Ee):y.dealloc(Ee)},y.scopedAlloc=function(J){M.scopedAlloc.length||S("No scopedAllocPush() scope is active.");const ue=y.alloc(J);return M.scopedAlloc[M.scopedAlloc.length-1].push(ue),ue},Object.defineProperty(y.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>M.scopedAlloc.length,set:()=>S("The 'active' property is read-only.")}),y.scopedAllocCString=(J,ue=!1)=>mt(J,ue,y.scopedAlloc,"scopedAllocCString()");const Be=function(J,ue){const Ee=y[J?"scopedAlloc":"alloc"]((ue.length+1)*y.ptrSizeof);let st=0;return ue.forEach(oe=>{y.pokePtr(Ee+y.ptrSizeof*st++,y[J?"scopedAllocCString":"allocCString"](""+oe))}),y.pokePtr(Ee+y.ptrSizeof*st,0),Ee};y.scopedAllocMainArgv=J=>Be(!0,J),y.allocMainArgv=J=>Be(!1,J),y.cArgvToJs=(J,ue)=>{const Ee=[];for(let st=0;st<J;++st){const oe=y.peekPtr(ue+y.ptrSizeof*st);Ee.push(oe?y.cstrToJs(oe):null)}return Ee},y.scopedAllocCall=function(J){y.scopedAllocPush();try{return J()}finally{y.scopedAllocPop()}};const Re=function(J,ue,Ee){at(y,Ee);const st=ue?"i64":E;let oe=y[Ee](J*(ue?8:C));if(y.poke(oe,0,st),J===1)return oe;const pe=[oe];for(let H=1;H<J;++H)oe+=ue?8:C,pe[H]=oe,y.poke(oe,0,st);return pe};y.allocPtr=(J=1,ue=!0)=>Re(J,ue,"alloc"),y.scopedAllocPtr=(J=1,ue=!0)=>Re(J,ue,"scopedAlloc"),y.xGet=function(J){return y.exports[J]||S("Cannot find exported symbol:",J)};const et=(J,ue)=>S(J+"() requires",ue,"argument(s).");y.xCall=function(J,...ue){const Ee=J instanceof Function?J:y.xGet(J);return Ee instanceof Function||S("Exported symbol",J,"is not a function."),Ee.length!==ue.length&&et(Ee===J?Ee.name:J,Ee.length),arguments.length===2&&Array.isArray(arguments[1])?Ee.apply(null,arguments[1]):Ee.apply(null,ue)},M.xWrap=Object.create(null),M.xWrap.convert=Object.create(null),M.xWrap.convert.arg=new Map,M.xWrap.convert.result=new Map;const be=M.xWrap.convert.arg,Ie=M.xWrap.convert.result;y.bigIntEnabled&&be.set("i64",J=>BigInt(J));const Te=E==="i32"?J=>J|0:J=>BigInt(J)|BigInt(0);be.set("i32",Te).set("i16",J=>(J|0)&65535).set("i8",J=>(J|0)&255).set("f32",J=>Number(J).valueOf()).set("float",be.get("f32")).set("f64",be.get("f32")).set("double",be.get("f64")).set("int",be.get("i32")).set("null",J=>J).set(null,be.get("null")).set("**",Te).set("*",Te),Ie.set("*",Te).set("pointer",Te).set("number",J=>Number(J)).set("void",J=>{}).set("null",J=>J).set(null,Ie.get("null"));{const J=["i8","i16","i32","int","f32","float","f64","double"];y.bigIntEnabled&&J.push("i64");const ue=be.get(E);for(const Ee of J)be.set(Ee+"*",ue),Ie.set(Ee+"*",ue),Ie.set(Ee,be.get(Ee)||S("Missing arg converter:",Ee))}const Je=function(J){return typeof J=="string"?y.scopedAllocCString(J):J?Te(J):null};be.set("string",Je).set("utf8",Je).set("pointer",Je),Ie.set("string",J=>y.cstrToJs(J)).set("utf8",Ie.get("string")).set("string:dealloc",J=>{try{return J?y.cstrToJs(J):null}finally{y.dealloc(J)}}).set("utf8:dealloc",Ie.get("string:dealloc")).set("json",J=>JSON.parse(y.cstrToJs(J))).set("json:dealloc",J=>{try{return J?JSON.parse(y.cstrToJs(J)):null}finally{y.dealloc(J)}});const Ge=class{constructor(J){this.name=J.name||"unnamed adapter"}convertArg(J,ue,Ee){S("AbstractArgAdapter must be subclassed.")}};be.FuncPtrAdapter=class Na extends Ge{constructor(ue){super(ue),be.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",ue),this.name=ue.name||"unnamed",this.signature=ue.signature,ue.contextKey instanceof Function&&(this.contextKey=ue.contextKey,ue.bindScope||(ue.bindScope="context")),this.bindScope=ue.bindScope||S("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Na.bindScopes.indexOf(ue.bindScope)<0&&S("Invalid options.bindScope ("+ue.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Na.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=ue.callProxy instanceof Function?ue.callProxy:void 0}contextKey(ue,Ee){return this}contextMap(ue){const Ee=this.__cmap||(this.__cmap=new Map);let st=Ee.get(ue);return st===void 0&&Ee.set(ue,st=[]),st}convertArg(ue,Ee,st){let oe=this.singleton;if(!oe&&this.isContext&&(oe=this.contextMap(this.contextKey(Ee,st))),oe&&oe[0]===ue)return oe[1];if(ue instanceof Function){this.callProxy&&(ue=this.callProxy(ue));const pe=me(ue,this.signature,this.isTransient);if(Na.debugFuncInstall&&Na.debugOut("FuncPtrAdapter installed",this,this.contextKey(Ee,st),"@"+pe,ue),oe){if(oe[1]){Na.debugFuncInstall&&Na.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+oe[1],ue);try{M.scopedAlloc[M.scopedAlloc.length-1].push(oe[1])}catch{}}oe[0]=ue,oe[1]=pe}return pe}else if(y.isPtr(ue)||ue===null||ue===void 0){if(oe&&oe[1]&&oe[1]!==ue){Na.debugFuncInstall&&Na.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+oe[1],ue);try{M.scopedAlloc[M.scopedAlloc.length-1].push(oe[1])}catch{}oe[0]=oe[1]=ue|0}return ue||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},be.FuncPtrAdapter.warnOnUse=!1,be.FuncPtrAdapter.debugFuncInstall=!1,be.FuncPtrAdapter.debugOut=console.debug.bind(console),be.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Oe=J=>be.get(J)||S("Argument adapter not found:",J),Ke=J=>Ie.get(J)||S("Result adapter not found:",J);M.xWrap.convertArg=(J,...ue)=>Oe(J)(...ue),M.xWrap.convertArgNoCheck=(J,...ue)=>be.get(J)(...ue),M.xWrap.convertResult=(J,ue)=>J===null?ue:J?Ke(J)(ue):void 0,M.xWrap.convertResultNoCheck=(J,ue)=>J===null?ue:J?Ie.get(J)(ue):void 0,y.xWrap=function(J,ue,...Ee){arguments.length===3&&Array.isArray(arguments[2])&&(Ee=arguments[2]),y.isPtr(J)&&(J=y.functionEntry(J)||S("Function pointer not found in WASM function table."));const st=J instanceof Function,oe=st?J:y.xGet(J);if(st&&(J=oe.name||"unnamed function"),Ee.length!==oe.length&&et(J,oe.length),ue===null&&oe.length===0)return oe;ue!=null&&Ke(ue);for(const H of Ee)H instanceof Ge?be.set(H,(...ne)=>H.convertArg(...ne)):Oe(H);const pe=M.xWrap;return oe.length===0?(...H)=>H.length?et(J,oe.length):pe.convertResult(ue,oe.call(null)):function(...H){H.length!==oe.length&&et(J,oe.length);const ne=y.scopedAllocPush();try{let re=0;for(;re<H.length;++re)H[re]=pe.convertArgNoCheck(Ee[re],H[re],H,re);return pe.convertResultNoCheck(ue,oe.apply(null,H))}finally{y.scopedAllocPop(ne)}}};const St=function(J,ue,Ee,st,oe,pe){if(typeof Ee=="string"){if(ue===1)return pe.get(Ee);if(ue===2){if(st)st instanceof Function||S(oe,"requires a function argument.");else return delete pe.get(Ee),J;return pe.set(Ee,st),J}}S("Invalid arguments to",oe)};return y.xWrap.resultAdapter=function J(ue,Ee){return St(J,arguments.length,ue,Ee,"resultAdapter()",Ie)},y.xWrap.argAdapter=function J(ue,Ee){return St(J,arguments.length,ue,Ee,"argAdapter()",be)},y.xWrap.FuncPtrAdapter=be.FuncPtrAdapter,y.xCallWrapped=function(J,ue,Ee,...st){return Array.isArray(arguments[3])&&(st=arguments[3]),y.xWrap(J,ue,Ee||[]).apply(null,st||[])},y.xWrap.testConvertArg=M.xWrap.convertArg,y.xWrap.testConvertResult=M.xWrap.convertResult,y},globalThis.WhWasmUtilInstaller.yawl=function(y){const S=()=>fetch(y.uri,{credentials:"same-origin"}),E=this,C=function(fe){if(y.wasmUtilTarget){const me=(...tt)=>{throw new Error(tt.join(" "))},Qe=y.wasmUtilTarget;if(Qe.module=fe.module,Qe.instance=fe.instance,Qe.instance.exports.memory||(Qe.memory=y.imports&&y.imports.env&&y.imports.env.memory||me("Missing 'memory' object!")),!Qe.alloc&&fe.instance.exports.malloc){const tt=fe.instance.exports;Qe.alloc=function(at){return tt.malloc(at)||me("Allocation of",at,"bytes failed.")},Qe.dealloc=function(at){tt.free(at)}}E(Qe)}return y.onload&&y.onload(fe,y),fe};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(S(),y.imports||{}).then(C)}:function(){return S().then(me=>me.arrayBuffer()).then(me=>WebAssembly.instantiate(me,y.imports||{})).then(C)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function y(S){const E=(...We)=>{throw new Error(We.join(" "))};!(S.heap instanceof WebAssembly.Memory)&&!(S.heap instanceof Function)&&E("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(We){S[We]instanceof Function||E("Config option '"+We+"' must be a function.")});const C=y,M=S.heap instanceof Function?S.heap:()=>new Uint8Array(S.heap.buffer),fe=S.alloc,me=S.dealloc,Qe=S.log||console.log.bind(console),tt=S.memberPrefix||"",at=S.memberSuffix||"",mt=S.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!S.bigIntEnabled,Be=globalThis.BigInt,Re=globalThis.BigInt64Array,et=S.ptrSizeof||4,be=S.ptrIR||"i32";C.debugFlags||(C.__makeDebugFlags=function(We=null){We&&We.__flags&&(We=We.__flags);const vt=function wt(kt){return arguments.length===0?wt.__flags:(kt<0?(delete wt.__flags.getter,delete wt.__flags.setter,delete wt.__flags.alloc,delete wt.__flags.dealloc):(wt.__flags.getter=(1&kt)!==0,wt.__flags.setter=(2&kt)!==0,wt.__flags.alloc=(4&kt)!==0,wt.__flags.dealloc=(8&kt)!==0),wt._flags)};return Object.defineProperty(vt,"__flags",{iterable:!1,writable:!1,value:Object.create(We)}),We||vt(0),vt},C.debugFlags=C.__makeDebugFlags());const Ie=function(){const We=new ArrayBuffer(2);return new DataView(We).setInt16(0,256,!0),new Int16Array(We)[0]===256}(),Te=We=>We[1]==="(",Je=We=>We==="P",Ge=We=>Te(We)?"p":We[0],Oe=function(We){switch(Ge(We)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return be;case"j":return"i64";case"f":return"float";case"d":return"double"}E("Unhandled signature IR:",We)},Ke=Re?()=>!0:()=>E("BigInt64Array is not available."),St=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"getInt32";case 8:return Ke()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Ke()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}E("Unhandled DataView getter for signature:",We)},J=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"setInt32";case 8:return Ke()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Ke()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}E("Unhandled DataView setter for signature:",We)},ue=function(We){switch(Ge(We)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Ke()&&Be;case"p":case"P":case"s":switch(et){case 4:return Number;case 8:return Ke()&&Be}break}E("Unhandled DataView set wrapper for signature:",We)},Ee=(We,vt)=>We+"::"+vt,st=function(We,vt){return()=>E(Ee(We,vt),"is read-only.")},oe=new WeakMap,pe="(pointer-is-external)",H=function(We,vt,wt){if(wt||(wt=oe.get(vt)),wt){if(oe.delete(vt),Array.isArray(vt.ondispose)){let kt;for(;kt=vt.ondispose.shift();)try{kt instanceof Function?kt.call(vt):kt instanceof $t?kt.dispose():typeof kt=="number"&&me(kt)}catch(pn){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",pn)}}else if(vt.ondispose instanceof Function)try{vt.ondispose()}catch(kt){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",kt)}delete vt.ondispose,We.debugFlags.__flags.dealloc&&Qe("debug.dealloc:",vt[pe]?"EXTERNAL":"",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),vt[pe]||me(wt)}},ne=We=>({configurable:!1,writable:!1,iterable:!1,value:We}),re=function(We,vt,wt){let kt=!wt;wt?Object.defineProperty(vt,pe,ne(wt)):(wt=fe(We.structInfo.sizeof),wt||E("Allocation of",We.structName,"structure failed."));try{We.debugFlags.__flags.alloc&&Qe("debug.alloc:",kt?"":"EXTERNAL",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),kt&&M().fill(0,wt,wt+We.structInfo.sizeof),oe.set(vt,wt)}catch(pn){throw H(We,vt,wt),pn}},Le=function(){const We=this.pointer;return We?new Uint8Array(M().slice(We,We+this.structInfo.sizeof)):null},Ot=ne(We=>tt+We+at),Bt=function(We,vt,wt=!0){let kt=We.members[vt];if(!kt&&(tt||at)){for(const pn of Object.values(We.members))if(pn.key===vt){kt=pn;break}!kt&&wt&&E(Ee(We.name,vt),"is not a mapped struct member.")}return kt},Gt=function We(vt,wt,kt=!1){We._||(We._=Un=>Un.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const pn=Bt(vt.structInfo,wt,!0);return kt?We._(pn.signature):pn.signature},lt={configurable:!1,enumerable:!1,get:function(){return oe.get(this)},set:()=>E("Cannot assign the 'pointer' property of a struct.")},_e=ne(function(){const We=[];for(const vt of Object.keys(this.structInfo.members))We.push(this.memberKey(vt));return We}),Pe=new TextDecoder("utf-8"),ot=new TextEncoder,pt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Pt=function(We,vt,wt){return Pe.decode(We.buffer instanceof pt?We.slice(vt,wt):We.subarray(vt,wt))},Zt=function(We,vt,wt=!1){const kt=Bt(We.structInfo,vt,wt);return kt&&kt.signature.length===1&&kt.signature[0]==="s"?kt:!1},Ae=function(We){We.signature!=="s"&&E("Invalid member type signature for C-string value:",JSON.stringify(We))},nt=function(vt,wt){const kt=Bt(vt.structInfo,wt,!0);Ae(kt);const pn=vt[kt.key];if(!pn)return null;let Un=pn;const Dn=M();for(;Dn[Un]!==0;++Un);return pn===Un?"":Pt(Dn,pn,Un)},dt=function(We,...vt){We.ondispose?Array.isArray(We.ondispose)||(We.ondispose=[We.ondispose]):We.ondispose=[],We.ondispose.push(...vt)},Nt=function(We){const vt=ot.encode(We),wt=fe(vt.length+1);wt||E("Allocation error while duplicating string:",We);const kt=M();return kt.set(vt,wt),kt[wt+vt.length]=0,wt},xt=function(We,vt,wt){const kt=Bt(We.structInfo,vt,!0);Ae(kt);const pn=Nt(wt);return We[kt.key]=pn,dt(We,pn),We},$t=function(vt,wt){arguments[2]!==ne&&E("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:ne(vt),structInfo:ne(wt)})};$t.prototype=Object.create(null,{dispose:ne(function(){H(this.constructor,this)}),lookupMember:ne(function(We,vt=!0){return Bt(this.structInfo,We,vt)}),memberToJsString:ne(function(We){return nt(this,We)}),memberIsString:ne(function(We,vt=!0){return Zt(this,We,vt)}),memberKey:Ot,memberKeys:_e,memberSignature:ne(function(We,vt=!1){return Gt(this,We,vt)}),memoryDump:ne(Le),pointer:lt,setMemberCString:ne(function(We,vt){return xt(this,We,vt)})}),Object.assign($t.prototype,{addOnDispose:function(...We){return dt(this,...We),this}}),Object.defineProperties($t,{allocCString:ne(Nt),isA:ne(We=>We instanceof $t),hasExternalPointer:ne(We=>We instanceof $t&&!!We[pe]),memberKey:Ot});const fn=We=>Number.isFinite(We)||We instanceof(Be||Number),qt=function We(vt,wt,kt){if(!We._){We._={getters:{},setters:{},sw:{}};const Jr=["i","c","C","p","P","s","f","d","v()"];mt&&Jr.push("j"),Jr.forEach(function(Ms){We._.getters[Ms]=St(Ms),We._.setters[Ms]=J(Ms),We._.sw[Ms]=ue(Ms)});const zb=/^[ipPsjfdcC]$/,Wb=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;We.sigCheck=function(Ms,Ub,ym,kf){Object.prototype.hasOwnProperty.call(Ms,ym)&&E(Ms.structName,"already has a property named",ym+"."),zb.test(kf)||Wb.test(kf)||E("Malformed signature for",Ee(Ms.structName,Ub)+":",kf)}}const pn=vt.memberKey(wt);We.sigCheck(vt.prototype,wt,pn,kt.signature),kt.key=pn,kt.name=wt;const Un=Ge(kt.signature),Dn=Ee(vt.prototype.structName,pn),zn=vt.prototype.debugFlags.__flags,la=Object.create(null);la.configurable=!1,la.enumerable=!1,la.get=function(){zn.getter&&Qe("debug.getter:",We._.getters[Un],"for",Oe(Un),Dn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof);let Jr=new DataView(M().buffer,this.pointer+kt.offset,kt.sizeof)[We._.getters[Un]](0,Ie);return zn.getter&&Qe("debug.getter:",Dn,"result =",Jr),Jr},kt.readOnly?la.set=st(vt.prototype.structName,pn):la.set=function(Jr){if(zn.setter&&Qe("debug.setter:",We._.setters[Un],"for",Oe(Un),Dn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof,Jr),this.pointer||E("Cannot set struct property on disposed instance."),Jr===null)Jr=0;else for(;!fn(Jr);){if(Je(kt.signature)&&Jr instanceof $t){Jr=Jr.pointer||0,zn.setter&&Qe("debug.setter:",Dn,"resolved to",Jr);break}E("Invalid value for pointer-type",Dn+".")}new DataView(M().buffer,this.pointer+kt.offset,kt.sizeof)[We._.setters[Un]](0,We._.sw[Un](Jr),Ie)},Object.defineProperty(vt.prototype,pn,la)},gr=function We(vt,wt){arguments.length===1?(wt=vt,vt=wt.name):wt.name||(wt.name=vt),vt||E("Struct name is required.");let kt=!1;Object.keys(wt.members).forEach(Dn=>{const zn=wt.members[Dn];zn.sizeof?zn.sizeof===1?zn.signature==="c"||zn.signature==="C"||E("Unexpected sizeof==1 member",Ee(wt.name,Dn),"with signature",zn.signature):(zn.sizeof%4!==0&&(console.warn("Invalid struct member description =",zn,"from",wt),E(vt,"member",Dn,"sizeof is not aligned. sizeof="+zn.sizeof)),zn.offset%4!==0&&(console.warn("Invalid struct member description =",zn,"from",wt),E(vt,"member",Dn,"offset is not aligned. offset="+zn.offset))):E(vt,"member",Dn,"is missing sizeof."),(!kt||kt.offset<zn.offset)&&(kt=zn)}),kt?wt.sizeof<kt.offset+kt.sizeof&&E("Invalid struct config:",vt,"max member offset ("+kt.offset+") ","extends past end of struct (sizeof="+wt.sizeof+")."):E("No member property descriptions found.");const pn=ne(C.__makeDebugFlags(We.debugFlags)),Un=function Dn(zn){this instanceof Dn?arguments.length?((zn!==(zn|0)||zn<=0)&&E("Invalid pointer value for",vt,"constructor."),re(Dn,this,zn)):re(Dn,this):E("The",vt,"constructor may only be called via 'new'.")};return Object.defineProperties(Un,{debugFlags:pn,isA:ne(Dn=>Dn instanceof Un),memberKey:Ot,memberKeys:_e,methodInfoForKey:ne(function(Dn){}),structInfo:ne(wt),structName:ne(vt)}),Un.prototype=new $t(vt,wt,ne),Object.defineProperties(Un.prototype,{debugFlags:pn,constructor:ne(Un)}),Object.keys(wt.members).forEach(Dn=>qt(Un,Dn,wt.members[Dn])),Un};return gr.StructType=$t,gr.config=S,gr.allocCString=Nt,gr.debugFlags||(gr.debugFlags=C.__makeDebugFlags(C.debugFlags)),gr},globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...be)=>{throw new Error(be.join(" "))};y.SQLite3Error.toss;const E=y.capi,C=y.wasm,M=y.util;if(globalThis.WhWasmUtilInstaller(C),delete globalThis.WhWasmUtilInstaller,C.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new C.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:be=>{let Ie;return(Te,Je,Ge,Oe)=>{try{const Ke=C.cArgvToJs(Je,Ge);return Ie||(Ie=C.cArgvToJs(Je,Oe)),be(Ke,Ie)|0}catch(Ke){return Ke.resultCode||E.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new C.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(be,Ie)=>be[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],C.exports.sqlite3_progress_handler&&C.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(be,Ie)=>be[0]}),"*"]]),C.exports.sqlite3_stmt_explain&&C.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),C.exports.sqlite3_set_authorizer&&C.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(be,Ie)=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe,Ke)=>{try{return Je=Je&&C.cstrToJs(Je),Ge=Ge&&C.cstrToJs(Ge),Oe=Oe&&C.cstrToJs(Oe),Ke=Ke&&C.cstrToJs(Ke),be(Ie,Te,Je,Ge,Oe,Ke)||0}catch(St){return St.resultCode||E.SQLITE_ERROR}}}),"*"]]),C.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:be=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe)=>{be(Ie,Te,C.cstrToJs(Je),C.cstrToJs(Ge),Oe)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],C.bigIntEnabled&&C.exports.sqlite3_declare_vtab&&C.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),C.bigIntEnabled&&C.exports.sqlite3_preupdate_hook&&C.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:be=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe,Ke,St)=>{be(Ie,Te,Je,C.cstrToJs(Ge),C.cstrToJs(Oe),Ke,St)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),C.bigIntEnabled&&C.exports.sqlite3changegroup_add&&C.exports.sqlite3session_create&&C.exports.sqlite3_preupdate_hook){const be={signature:"i(ps)",callProxy:Ie=>(Te,Je)=>{try{return Ie(Te,C.cstrToJs(Je))|0}catch(Ge){return Ge.resultCode||E.SQLITE_ERROR}}};C.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xFilter",...be,contextKey:(Ie,Te)=>Ie[0]}),"*"]])}C.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],y.StructBinder=globalThis.Jaccwabyt({heap:C.heap8u,alloc:C.alloc,dealloc:C.dealloc,bigIntEnabled:C.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const be=C.xWrap.argAdapter("string");C.xWrap.argAdapter("string:flexible",Oe=>be(M.flexibleString(Oe))),C.xWrap.argAdapter("string:static",function(Oe){return C.isPtr(Oe)?Oe:(Oe=""+Oe,this[Oe]||(this[Oe]=C.allocCString(Oe)))}.bind(Object.create(null)));const Ie=C.xWrap.argAdapter("*"),Te=function(){};C.xWrap.argAdapter("sqlite3_filename",Ie)("sqlite3_context*",Ie)("sqlite3_value*",Ie)("void*",Ie)("sqlite3_changegroup*",Ie)("sqlite3_changeset_iter*",Ie)("sqlite3_session*",Ie)("sqlite3_stmt*",Oe=>Ie(Oe instanceof(y?.oo1?.Stmt||Te)?Oe.pointer:Oe))("sqlite3*",Oe=>Ie(Oe instanceof(y?.oo1?.DB||Te)?Oe.pointer:Oe))("sqlite3_vfs*",Oe=>typeof Oe=="string"?E.sqlite3_vfs_find(Oe)||y.SQLite3Error.toss(E.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",Oe):Ie(Oe instanceof(E.sqlite3_vfs||Te)?Oe.pointer:Oe)),C.exports.sqlite3_declare_vtab&&C.xWrap.argAdapter("sqlite3_index_info*",Oe=>Ie(Oe instanceof(E.sqlite3_index_info||Te)?Oe.pointer:Oe))("sqlite3_module*",Oe=>Ie(Oe instanceof(E.sqlite3_module||Te)?Oe.pointer:Oe));const Je=C.xWrap.resultAdapter("*");C.xWrap.resultAdapter("sqlite3*",Je)("sqlite3_context*",Je)("sqlite3_stmt*",Je)("sqlite3_value*",Je)("sqlite3_vfs*",Je)("void*",Je),C.exports.sqlite3_step.length===0&&(C.xWrap.doArgcCheck=!1,y.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const Oe of C.bindingSignatures)E[Oe[0]]=C.xWrap.apply(null,Oe);for(const Oe of C.bindingSignatures.wasmInternal)M[Oe[0]]=C.xWrap.apply(null,Oe);const Ge=function(Oe){return()=>S(Oe+"() is unavailable due to lack","of BigInt support in this build.")};for(const Oe of C.bindingSignatures.int64)E[Oe[0]]=C.bigIntEnabled?C.xWrap.apply(null,Oe):Ge(Oe[0]);if(delete C.bindingSignatures,C.exports.sqlite3__wasm_db_error){const Oe=C.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");M.sqlite3__wasm_db_error=function(Ke,St,J){return St instanceof y.WasmAllocError?(St=E.SQLITE_NOMEM,J=0):St instanceof Error&&(J=J||""+St,St=St.resultCode||E.SQLITE_ERROR),Ke?Oe(Ke,St,J):St}}else M.sqlite3__wasm_db_error=function(Oe,Ke,St){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Ke}}{const be=C.xCall("sqlite3__wasm_enum_json");be||S("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),C.ctype=JSON.parse(C.cstrToJs(be));const Ie=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];C.bigIntEnabled&&Ie.push("serialize","session","vtab");for(const Ge of Ie)for(const Oe of Object.entries(C.ctype[Ge]))E[Oe[0]]=Oe[1];C.functionEntry(E.SQLITE_WASM_DEALLOC)||S("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+E.SQLITE_WASM_DEALLOC+").");const Te=Object.create(null);for(const Ge of["resultCodes"])for(const Oe of Object.entries(C.ctype[Ge]))Te[Oe[1]]=Oe[0];E.sqlite3_js_rc_str=Ge=>Te[Ge];const Je=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!M.isUIThread(),sqlite3_index_info:!C.bigIntEnabled,sqlite3_index_constraint:!C.bigIntEnabled,sqlite3_index_orderby:!C.bigIntEnabled,sqlite3_index_constraint_usage:!C.bigIntEnabled});for(const Ge of C.ctype.structs)Je[Ge.name]||(E[Ge.name]=y.StructBinder(Ge));if(E.sqlite3_index_info){for(const Ge of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])E.sqlite3_index_info[Ge]=E[Ge],delete E[Ge];E.sqlite3_vtab_config=C.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const fe=(be,Ie,Te)=>M.sqlite3__wasm_db_error(be,E.SQLITE_MISUSE,Ie+"() requires "+Te+" argument"+(Te===1?"":"s")+"."),me=be=>M.sqlite3__wasm_db_error(be,E.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Qe=be=>C.xWrap.argAdapter("sqlite3*")(be),tt=be=>C.isPtr(be)?C.cstrToJs(be):be,at=function(be,Ie){be=Qe(be);let Te=this.dbMap.get(be);if(Ie)!Te&&Ie>0&&this.dbMap.set(be,Te=Object.create(null));else return this.dbMap.delete(be),Te;return Te}.bind(Object.assign(Object.create(null),{dbMap:new Map}));at.addCollation=function(be,Ie){const Te=at(be,1);Te.collation||(Te.collation=new Set),Te.collation.add(tt(Ie).toLowerCase())},at._addUDF=function(be,Ie,Te,Je){Ie=tt(Ie).toLowerCase();let Ge=Je.get(Ie);Ge||Je.set(Ie,Ge=new Set),Ge.add(Te<0?-1:Te)},at.addFunction=function(be,Ie,Te){const Je=at(be,1);Je.udf||(Je.udf=new Map),this._addUDF(be,Ie,Te,Je.udf)},C.exports.sqlite3_create_window_function&&(at.addWindowFunc=function(be,Ie,Te){const Je=at(be,1);Je.wudf||(Je.wudf=new Map),this._addUDF(be,Ie,Te,Je.wudf)}),at.cleanup=function(be){be=Qe(be);const Ie=[be];for(const Ge of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const Oe=C.exports[Ge];if(Oe){Ie.length=Oe.length;try{E[Ge](...Ie)}catch(Ke){y.config.warn("close-time call of",Ge+"(",Ie,") threw:",Ke)}}}const Te=at(be,0);if(!Te)return;if(Te.collation){for(const Ge of Te.collation)try{E.sqlite3_create_collation_v2(be,Ge,E.SQLITE_UTF8,0,0,0)}catch{}delete Te.collation}let Je;for(Je=0;Je<2;++Je){const Ge=Je?Te.wudf:Te.udf;if(!Ge)continue;const Oe=Je?E.sqlite3_create_window_function:E.sqlite3_create_function_v2;for(const Ke of Ge){const St=Ke[0],J=Ke[1],ue=[be,St,0,E.SQLITE_UTF8,0,0,0,0,0];Je&&ue.push(0);for(const Ee of J)try{ue[2]=Ee,Oe.apply(null,ue)}catch{}J.clear()}Ge.clear()}delete Te.udf,delete Te.wudf};{const be=C.xWrap("sqlite3_close_v2","int","sqlite3*");E.sqlite3_close_v2=function(Ie){if(arguments.length!==1)return fe(Ie,"sqlite3_close_v2",1);if(Ie)try{at.cleanup(Ie)}catch{}return be(Ie)}}if(E.sqlite3session_create){const be=C.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);E.sqlite3session_delete=function(Ie){if(arguments.length!==1)return fe(pDb,"sqlite3session_delete",1);Ie&&E.sqlite3session_table_filter(Ie,0,0),be(Ie)}}{const be=(Te,Je)=>"argv["+Je+"]:"+Te[0]+":"+C.cstrToJs(Te[1]).toLowerCase(),Ie=C.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new C.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:be}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:be})]);E.sqlite3_create_collation_v2=function(Te,Je,Ge,Oe,Ke,St){if(arguments.length!==6)return fe(Te,"sqlite3_create_collation_v2",6);if(!(Ge&15))Ge|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(Ge&15))return me(Te);try{const J=Ie(Te,Je,Ge,Oe,Ke,St);return J===0&&Ke instanceof Function&&at.addCollation(Te,Je),J}catch(J){return M.sqlite3__wasm_db_error(Te,J)}},E.sqlite3_create_collation=(Te,Je,Ge,Oe,Ke)=>arguments.length===5?E.sqlite3_create_collation_v2(Te,Je,Ge,Oe,Ke,0):fe(Te,"sqlite3_create_collation",5)}{const be=function(Ge,Oe){return Ge[0]+":"+(Ge[2]<0?-1:Ge[2])+":"+Oe+":"+C.cstrToJs(Ge[1]).toLowerCase()},Ie=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Oe,Ke,St)=>{try{Ge(Oe,...E.sqlite3_values_to_js(Ke,St))}catch(J){E.sqlite3_result_error_js(Oe,J)}}},xFinalAndValue:{signature:"v(p)",contextKey:be,callProxy:Ge=>Oe=>{try{E.sqlite3_result_js(Oe,Ge(Oe))}catch(Ke){E.sqlite3_result_error_js(Oe,Ke)}}},xFunc:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Oe,Ke,St)=>{try{E.sqlite3_result_js(Oe,Ge(Oe,...E.sqlite3_values_to_js(Ke,St)))}catch(J){E.sqlite3_result_error_js(Oe,J)}}},xDestroy:{signature:"v(p)",contextKey:be,callProxy:Ge=>Oe=>{try{Ge(Oe)}catch(Ke){console.error("UDF xDestroy method threw:",Ke)}}}}),Te=C.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xFunc",...Ie.xFunc}),new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]),Je=C.exports.sqlite3_create_window_function?C.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xValue",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xInverse",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]):void 0;E.sqlite3_create_function_v2=function Ge(Oe,Ke,St,J,ue,Ee,st,oe,pe){if(Ge.length!==arguments.length)return fe(Oe,"sqlite3_create_function_v2",Ge.length);if(!(J&15))J|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(J&15))return me(Oe);try{const H=Te(Oe,Ke,St,J,ue,Ee,st,oe,pe);return H===0&&(Ee instanceof Function||st instanceof Function||oe instanceof Function||pe instanceof Function)&&at.addFunction(Oe,Ke,St),H}catch(H){return console.error("sqlite3_create_function_v2() setup threw:",H),M.sqlite3__wasm_db_error(Oe,H,"Creation of UDF threw: "+H)}},E.sqlite3_create_function=function Ge(Oe,Ke,St,J,ue,Ee,st,oe){return Ge.length===arguments.length?E.sqlite3_create_function_v2(Oe,Ke,St,J,ue,Ee,st,oe,0):fe(Oe,"sqlite3_create_function",Ge.length)},Je?E.sqlite3_create_window_function=function Ge(Oe,Ke,St,J,ue,Ee,st,oe,pe,H){if(Ge.length!==arguments.length)return fe(Oe,"sqlite3_create_window_function",Ge.length);if(!(J&15))J|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(J&15))return me(Oe);try{const ne=Je(Oe,Ke,St,J,ue,Ee,st,oe,pe,H);return ne===0&&(Ee instanceof Function||st instanceof Function||oe instanceof Function||pe instanceof Function||H instanceof Function)&&at.addWindowFunc(Oe,Ke,St),ne}catch(ne){return console.error("sqlite3_create_window_function() setup threw:",ne),M.sqlite3__wasm_db_error(Oe,ne,"Creation of UDF threw: "+ne)}}:delete E.sqlite3_create_window_function,E.sqlite3_create_function_v2.udfSetResult=E.sqlite3_create_function.udfSetResult=E.sqlite3_result_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfSetResult=E.sqlite3_result_js),E.sqlite3_create_function_v2.udfConvertArgs=E.sqlite3_create_function.udfConvertArgs=E.sqlite3_values_to_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfConvertArgs=E.sqlite3_values_to_js),E.sqlite3_create_function_v2.udfSetError=E.sqlite3_create_function.udfSetError=E.sqlite3_result_error_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfSetError=E.sqlite3_result_error_js)}{const be=(Te,Je)=>(typeof Te=="string"?Je=-1:M.isSQLableTypedArray(Te)?(Je=Te.byteLength,Te=M.typedArrayToString(Te instanceof ArrayBuffer?new Uint8Array(Te):Te)):Array.isArray(Te)&&(Te=Te.join(""),Je=-1),[Te,Je]),Ie={basic:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};E.sqlite3_prepare_v3=function Te(Je,Ge,Oe,Ke,St,J){if(Te.length!==arguments.length)return fe(Je,"sqlite3_prepare_v3",Te.length);const[ue,Ee]=be(Ge,Oe);switch(typeof ue){case"string":return Ie.basic(Je,ue,Ee,Ke,St,null);case"number":return Ie.full(Je,ue,Ee,Ke,St,J);default:return M.sqlite3__wasm_db_error(Je,E.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},E.sqlite3_prepare_v2=function Te(Je,Ge,Oe,Ke,St){return Te.length===arguments.length?E.sqlite3_prepare_v3(Je,Ge,Oe,0,Ke,St):fe(Je,"sqlite3_prepare_v2",Te.length)}}{const be=C.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),Ie=C.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);E.sqlite3_bind_text=function Te(Je,Ge,Oe,Ke,St){if(Te.length!==arguments.length)return fe(E.sqlite3_db_handle(Je),"sqlite3_bind_text",Te.length);if(C.isPtr(Oe)||Oe===null)return be(Je,Ge,Oe,Ke,St);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(pMem)&&(Oe=pMem.join(""));let J,ue;try{if(M.isSQLableTypedArray(Oe))J=C.allocFromTypedArray(Oe),ue=Oe.byteLength;else if(typeof Oe=="string")[J,ue]=C.allocCString(Oe);else return M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),E.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return be(Je,Ge,J,ue,E.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(J),M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),Ee)}},E.sqlite3_bind_blob=function Te(Je,Ge,Oe,Ke,St){if(Te.length!==arguments.length)return fe(E.sqlite3_db_handle(Je),"sqlite3_bind_blob",Te.length);if(C.isPtr(Oe)||Oe===null)return Ie(Je,Ge,Oe,Ke,St);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(Oe)&&(Oe=Oe.join(""));let J,ue;try{if(M.isBindableTypedArray(Oe))J=C.allocFromTypedArray(Oe),ue=Ke>=0?Ke:Oe.byteLength;else if(typeof Oe=="string")[J,ue]=C.allocCString(Oe);else return M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),E.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return Ie(Je,Ge,J,ue,E.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(J),M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),Ee)}}}E.sqlite3_config=function(be,...Ie){if(arguments.length<2)return E.SQLITE_MISUSE;switch(be){case E.SQLITE_CONFIG_COVERING_INDEX_SCAN:case E.SQLITE_CONFIG_MEMSTATUS:case E.SQLITE_CONFIG_SMALL_MALLOC:case E.SQLITE_CONFIG_SORTERREF_SIZE:case E.SQLITE_CONFIG_STMTJRNL_SPILL:case E.SQLITE_CONFIG_URI:return C.exports.sqlite3__wasm_config_i(be,Ie[0]);case E.SQLITE_CONFIG_LOOKASIDE:return C.exports.sqlite3__wasm_config_ii(be,Ie[0],Ie[1]);case E.SQLITE_CONFIG_MEMDB_MAXSIZE:return C.exports.sqlite3__wasm_config_j(be,Ie[0]);case E.SQLITE_CONFIG_GETMALLOC:case E.SQLITE_CONFIG_GETMUTEX:case E.SQLITE_CONFIG_GETPCACHE2:case E.SQLITE_CONFIG_GETPCACHE:case E.SQLITE_CONFIG_HEAP:case E.SQLITE_CONFIG_LOG:case E.SQLITE_CONFIG_MALLOC:case E.SQLITE_CONFIG_MMAP_SIZE:case E.SQLITE_CONFIG_MULTITHREAD:case E.SQLITE_CONFIG_MUTEX:case E.SQLITE_CONFIG_PAGECACHE:case E.SQLITE_CONFIG_PCACHE2:case E.SQLITE_CONFIG_PCACHE:case E.SQLITE_CONFIG_PCACHE_HDRSZ:case E.SQLITE_CONFIG_PMASZ:case E.SQLITE_CONFIG_SERIALIZED:case E.SQLITE_CONFIG_SINGLETHREAD:case E.SQLITE_CONFIG_SQLLOG:case E.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return E.SQLITE_NOTFOUND}};{const be=new Set;E.sqlite3_auto_extension=function(Ie){if(Ie instanceof Function)Ie=C.installFunction("i(ppp)",Ie);else if(arguments.length!==1||!C.isPtr(Ie))return E.SQLITE_MISUSE;const Te=C.exports.sqlite3_auto_extension(Ie);return Ie!==arguments[0]&&(Te===0?be.add(Ie):C.uninstallFunction(Ie)),Te},E.sqlite3_cancel_auto_extension=function(Ie){return!Ie||arguments.length!==1||!C.isPtr(Ie)?0:C.exports.sqlite3_cancel_auto_extension(Ie)},E.sqlite3_reset_auto_extension=function(){C.exports.sqlite3_reset_auto_extension();for(const Ie of be)C.uninstallFunction(Ie);be.clear()}}const mt=E.sqlite3_vfs_find("kvvfs");if(mt)if(M.isUIThread()){const be=new E.sqlite3_kvvfs_methods(C.exports.sqlite3__wasm_kvvfs_methods());delete E.sqlite3_kvvfs_methods;const Ie=C.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,Te=C.pstack,Je=Oe=>C.peek(Oe)===115?sessionStorage:localStorage,Ge={xRead:(Oe,Ke,St,J)=>{const ue=Te.pointer,Ee=C.scopedAllocPush();try{const st=Ie(Oe,Ke);if(!st)return-3;const oe=C.cstrToJs(st),pe=Je(Oe).getItem(oe);if(!pe)return-1;const H=pe.length;if(J<=0)return H;if(J===1)return C.poke(St,0),H;const ne=C.scopedAllocCString(pe);return J>H+1&&(J=H+1),C.heap8u().copyWithin(St,ne,ne+J-1),C.poke(St+J-1,0),J-1}catch(st){return console.error("kvstorageRead()",st),-2}finally{Te.restore(ue),C.scopedAllocPop(Ee)}},xWrite:(Oe,Ke,St)=>{const J=Te.pointer;try{const ue=Ie(Oe,Ke);if(!ue)return 1;const Ee=C.cstrToJs(ue);return Je(Oe).setItem(Ee,C.cstrToJs(St)),0}catch(ue){return console.error("kvstorageWrite()",ue),E.SQLITE_IOERR}finally{Te.restore(J)}},xDelete:(Oe,Ke)=>{const St=Te.pointer;try{const J=Ie(Oe,Ke);return J?(Je(Oe).removeItem(C.cstrToJs(J)),0):1}catch(J){return console.error("kvstorageDelete()",J),E.SQLITE_IOERR}finally{Te.restore(St)}}};for(const Oe of Object.keys(Ge))be[be.memberKey(Oe)]=C.installFunction(be.memberSignature(Oe),Ge[Oe])}else E.sqlite3_vfs_unregister(mt);C.xWrap.FuncPtrAdapter.warnOnUse=!0;const Be=y.StructBinder,Re=function be(Ie,Te,Je,Ge=be.installMethodArgcCheck){if(Ie instanceof Be.StructType?!(Je instanceof Function)&&!C.isPtr(Je)&&S("Usage errror: expecting a Function or WASM pointer to one."):S("Usage error: target object is-not-a StructType."),arguments.length===1)return(J,ue)=>be(Ie,J,ue,Ge);be.argcProxy||(be.argcProxy=function(J,ue,Ee,st){return function(...oe){return Ee.length!==arguments.length&&S("Argument mismatch for",J.structInfo.name+"::"+ue+": Native signature is:",st),Ee.apply(this,oe)}},be.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((J,ue)=>{if(typeof J=="number")try{C.uninstallFunction(J)}catch{}}),delete this.ondispose.__removeFuncList)});const Oe=Ie.memberSignature(Te);Oe.length<2&&S("Member",Te,"does not have a function pointer signature:",Oe);const Ke=Ie.memberKey(Te),St=Ge&&!C.isPtr(Je)?be.argcProxy(Ie,Ke,Je,Oe):Je;if(C.isPtr(St))St&&!C.functionEntry(St)&&S("Pointer",St,"is not a WASM function table entry."),Ie[Ke]=St;else{const J=C.installFunction(St,Ie.memberSignature(Te,!0));Ie[Ke]=J,(!Ie.ondispose||!Ie.ondispose.__removeFuncList)&&(Ie.addOnDispose("ondispose.__removeFuncList handler",be.removeFuncList),Ie.ondispose.__removeFuncList=[]),Ie.ondispose.__removeFuncList.push(Ke,J)}return(J,ue)=>be(Ie,J,ue,Ge)};Re.installMethodArgcCheck=!1;const et=function(be,Ie,Te=Re.installMethodArgcCheck){const Je=new Map;for(const Ge of Object.keys(Ie)){const Oe=Ie[Ge],Ke=Je.get(Oe);if(Ke){const St=be.memberKey(Ge);be[St]=be[be.memberKey(Ke)]}else Re(be,Ge,Oe,Te),Je.set(Oe,Ge)}return be};Be.StructType.prototype.installMethod=function(Ie,Te,Je=Re.installMethodArgcCheck){return arguments.length<3&&Ie&&typeof Ie=="object"?et(this,...arguments):Re(this,...arguments)},Be.StructType.prototype.installMethods=function(be,Ie=Re.installMethodArgcCheck){return et(this,be,Ie)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){y.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...oe)=>{throw new y.SQLite3Error(...oe)},E=y.capi,C=y.wasm,M=y.util,fe=new WeakMap,me=new WeakMap,Qe=(oe,pe,H)=>{const ne=Object.getOwnPropertyDescriptor(oe,pe);return ne?ne.value:H},tt=function(oe,pe){return pe&&(oe instanceof Re&&(oe=oe.pointer),S(pe,"sqlite3 result code",pe+":",oe?E.sqlite3_errmsg(oe):E.sqlite3_errstr(pe))),arguments[0]},at=C.installFunction("i(ippp)",function(oe,pe,H,ne){E.SQLITE_TRACE_STMT===oe&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+pe+":",C.cstrToJs(ne))}.bind({counter:0})),mt=Object.create(null),Be=function oe(...pe){if(!oe._name2vfs){oe._name2vfs=Object.create(null);const _e=typeof importScripts=="function"?Pe=>S("The VFS for",Pe,"is only available in the main window thread."):!1;oe._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:_e||(()=>"local")},oe._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:_e||(()=>"session")}}const H=oe.normalizeArgs(...pe);let ne=H.filename,re=H.vfs,Le=H.flags;(typeof ne!="string"&&typeof ne!="number"||typeof Le!="string"||re&&typeof re!="string"&&typeof re!="number")&&(y.config.error("Invalid DB ctor args",H,arguments),S("Invalid arguments for DB constructor."));let it=typeof ne=="number"?C.cstrToJs(ne):ne;const Ot=oe._name2vfs[it];Ot&&(re=Ot.vfs,ne=it=Ot.filename(it));let Bt,Gt=0;Le.indexOf("c")>=0&&(Gt|=E.SQLITE_OPEN_CREATE|E.SQLITE_OPEN_READWRITE),Le.indexOf("w")>=0&&(Gt|=E.SQLITE_OPEN_READWRITE),Gt===0&&(Gt|=E.SQLITE_OPEN_READONLY),Gt|=E.SQLITE_OPEN_EXRESCODE;const lt=C.pstack.pointer;try{const _e=C.pstack.allocPtr();let Pe=E.sqlite3_open_v2(ne,_e,Gt,re||0);Bt=C.peekPtr(_e),tt(Bt,Pe),E.sqlite3_extended_result_codes(Bt,1),Le.indexOf("t")>=0&&E.sqlite3_trace_v2(Bt,E.SQLITE_TRACE_STMT,at,Bt)}catch(_e){throw Bt&&E.sqlite3_close_v2(Bt),_e}finally{C.pstack.restore(lt)}this.filename=it,fe.set(this,Bt),me.set(this,Object.create(null));try{const _e=E.sqlite3_js_db_vfs(Bt)||S("Internal error: cannot get VFS for new db handle."),Pe=mt[_e];Pe&&(Pe instanceof Function?Pe(this,y):tt(Bt,E.sqlite3_exec(Bt,Pe,0,0,0)))}catch(_e){throw this.close(),_e}};Be.setVfsPostOpenCallback=function(oe,pe){pe instanceof Function||S("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),mt[oe]=pe},Be.normalizeArgs=function(oe=":memory:",pe="c",H=null){const ne={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(ne,arguments[0]),ne.flags===void 0&&(ne.flags="c"),ne.vfs===void 0&&(ne.vfs=null),ne.filename===void 0&&(ne.filename=":memory:")):(ne.filename=oe,ne.flags=pe,ne.vfs=H),ne};const Re=function(...oe){Be.apply(this,oe)};Re.dbCtorHelper=Be;const et={null:1,number:2,string:3,boolean:4,blob:5};et.undefined==et.null,C.bigIntEnabled&&(et.bigint=et.number);const be=function(){et!==arguments[2]&&S(E.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],fe.set(this,arguments[1]),this.parameterCount=E.sqlite3_bind_parameter_count(this.pointer)},Ie=function(oe){return oe.pointer||S("DB has been closed."),oe},Te=function(oe,pe){return(pe!==(pe|0)||pe<0||pe>=oe.columnCount)&&S("Column index",pe,"is out of range."),oe},Je=function(oe,pe){const H=Object.create(null);switch(H.opt=Object.create(null),pe.length){case 1:typeof pe[0]=="string"||M.isSQLableTypedArray(pe[0])||Array.isArray(pe[0])?H.sql=pe[0]:pe[0]&&typeof pe[0]=="object"&&(H.opt=pe[0],H.sql=H.opt.sql);break;case 2:H.sql=pe[0],H.opt=pe[1];break;default:S("Invalid argument count for exec().")}H.sql=M.flexibleString(H.sql),typeof H.sql!="string"&&S("Missing SQL argument or unsupported SQL value type.");const ne=H.opt;switch(ne.returnValue){case"resultRows":ne.resultRows||(ne.resultRows=[]),H.returnVal=()=>ne.resultRows;break;case"saveSql":ne.saveSql||(ne.saveSql=[]),H.returnVal=()=>ne.saveSql;break;case void 0:case"this":H.returnVal=()=>oe;break;default:S("Invalid returnValue value:",ne.returnValue)}if(!ne.callback&&!ne.returnValue&&ne.rowMode!==void 0&&(ne.resultRows||(ne.resultRows=[]),H.returnVal=()=>ne.resultRows),ne.callback||ne.resultRows)switch(ne.rowMode===void 0?"array":ne.rowMode){case"object":H.cbArg=(re,Le)=>{Le.columnNames||(Le.columnNames=re.getColumnNames([]));const it=re.get([]),Ot=Object.create(null);for(const Bt in Le.columnNames)Ot[Le.columnNames[Bt]]=it[Bt];return Ot};break;case"array":H.cbArg=re=>re.get([]);break;case"stmt":Array.isArray(ne.resultRows)&&S("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),H.cbArg=re=>re;break;default:if(M.isInt32(ne.rowMode)){H.cbArg=re=>re.get(ne.rowMode);break}else if(typeof ne.rowMode=="string"&&ne.rowMode.length>1&&ne.rowMode[0]==="$"){const re=ne.rowMode.substr(1);H.cbArg=Le=>{const it=Le.get(Object.create(null))[re];return it===void 0?S(E.SQLITE_NOTFOUND,"exec(): unknown result column:",re):it};break}S("Invalid rowMode:",ne.rowMode)}return H},Ge=(oe,pe,H,...ne)=>{const re=oe.prepare(pe);try{const Le=re.bind(H).step()?re.get(...ne):void 0;return re.reset(),Le}finally{re.finalize()}},Oe=(oe,pe,H,ne)=>oe.exec({sql:pe,bind:H,rowMode:ne,returnValue:"resultRows"});Re.checkRc=(oe,pe)=>tt(oe,pe),Re.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return Ie(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const oe=this.pointer;if(Object.keys(me.get(this)).forEach((pe,H)=>{if(H&&H.pointer)try{H.finalize()}catch{}}),fe.delete(this),me.delete(this),E.sqlite3_close_v2(oe),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(oe=!1,pe=!1){const H=Ie(this).pointer;return oe?pe?E.sqlite3_total_changes64(H):E.sqlite3_total_changes(H):pe?E.sqlite3_changes64(H):E.sqlite3_changes(H)},dbFilename:function(oe="main"){return E.sqlite3_db_filename(Ie(this).pointer,oe)},dbName:function(oe=0){return E.sqlite3_db_name(Ie(this).pointer,oe)},dbVfsName:function(oe=0){let pe;const H=E.sqlite3_js_db_vfs(Ie(this).pointer,oe);if(H){const ne=new E.sqlite3_vfs(H);try{pe=C.cstrToJs(ne.$zName)}finally{ne.dispose()}}return pe},prepare:function(oe){Ie(this);const pe=C.pstack.pointer;let H,ne;try{H=C.pstack.alloc(8),Re.checkRc(this,E.sqlite3_prepare_v2(this.pointer,oe,-1,H,null)),ne=C.peekPtr(H)}finally{C.pstack.restore(pe)}ne||S("Cannot prepare empty SQL.");const re=new be(this,ne,et);return me.get(this)[ne]=re,re},exec:function(){Ie(this);const oe=Je(this,arguments);if(!oe.sql)return S("exec() requires an SQL string.");const pe=oe.opt,H=pe.callback,ne=Array.isArray(pe.resultRows)?pe.resultRows:void 0;let re,Le=pe.bind,it=!!(oe.cbArg||pe.columnNames||ne);const Ot=C.scopedAllocPush(),Bt=Array.isArray(pe.saveSql)?pe.saveSql:void 0;try{const Gt=M.isSQLableTypedArray(oe.sql);let lt=Gt?oe.sql.byteLength:C.jstrlen(oe.sql);const _e=C.scopedAlloc(2*C.ptrSizeof+(lt+1)),Pe=_e+C.ptrSizeof;let ot=Pe+C.ptrSizeof;const pt=ot+lt;for(Gt?C.heap8().set(oe.sql,ot):C.jstrcpy(oe.sql,C.heap8(),ot,lt,!1),C.poke(ot+lt,0);ot&&C.peek(ot,"i8");){C.pokePtr([_e,Pe],0),Re.checkRc(this,E.sqlite3_prepare_v3(this.pointer,ot,lt,0,_e,Pe));const Pt=C.peekPtr(_e);if(ot=C.peekPtr(Pe),lt=pt-ot,!!Pt){if(Bt&&Bt.push(E.sqlite3_sql(Pt).trim()),re=new be(this,Pt,et),Le&&re.parameterCount&&(re.bind(Le),Le=null),it&&re.columnCount){let Zt=Array.isArray(pe.columnNames)?0:1;if(it=!1,oe.cbArg||ne){const Ae=Object.create(null);for(;re.step();re._lockedByExec=!1){Zt++===0&&re.getColumnNames(Ae.columnNames=pe.columnNames||[]),re._lockedByExec=!0;const nt=oe.cbArg(re,Ae);if(ne&&ne.push(nt),H&&H.call(pe,nt,re)===!1)break}re._lockedByExec=!1}Zt===0&&re.getColumnNames(pe.columnNames)}else re.step();re.reset().finalize(),re=null}}}finally{C.scopedAllocPop(Ot),re&&(delete re._lockedByExec,re.finalize())}return oe.returnVal()},createFunction:function(pe,H,ne){const re=Ae=>Ae instanceof Function;switch(arguments.length){case 1:ne=pe,pe=ne.name,H=ne.xFunc||0;break;case 2:re(H)||(ne=H,H=ne.xFunc||0);break}ne||(ne={}),typeof pe!="string"&&S("Invalid arguments: missing function name.");let Le=ne.xStep||0,it=ne.xFinal||0;const Ot=ne.xValue||0,Bt=ne.xInverse||0;let Gt;re(H)?(Gt=!1,(re(Le)||re(it))&&S("Ambiguous arguments: scalar or aggregate?"),Le=it=null):re(Le)?(re(it)||S("Missing xFinal() callback for aggregate or window UDF."),H=null):re(it)?S("Missing xStep() callback for aggregate or window UDF."):S("Missing function-type properties."),Gt===!1?(re(Ot)||re(Bt))&&S("xValue and xInverse are not permitted for non-window UDFs."):re(Ot)?(re(Bt)||S("xInverse must be provided if xValue is."),Gt=!0):re(Bt)&&S("xValue must be provided if xInverse is.");const lt=ne.pApp;lt!=null&&(typeof lt!="number"||!M.isInt32(lt))&&S("Invalid value for pApp property. Must be a legal WASM pointer value.");const _e=ne.xDestroy||0;_e&&!re(_e)&&S("xDestroy property must be a function.");let Pe=0;Qe(ne,"deterministic")&&(Pe|=E.SQLITE_DETERMINISTIC),Qe(ne,"directOnly")&&(Pe|=E.SQLITE_DIRECTONLY),Qe(ne,"innocuous")&&(Pe|=E.SQLITE_INNOCUOUS),pe=pe.toLowerCase();const ot=H||Le,pt=Qe(ne,"arity"),Pt=typeof pt=="number"?pt:ot.length?ot.length-1:0;let Zt;return Gt?Zt=E.sqlite3_create_window_function(this.pointer,pe,Pt,E.SQLITE_UTF8|Pe,lt||0,Le,it,Ot,Bt,_e):Zt=E.sqlite3_create_function_v2(this.pointer,pe,Pt,E.SQLITE_UTF8|Pe,lt||0,H,Le,it,_e),Re.checkRc(this,Zt),this},selectValue:function(oe,pe,H){return Ge(this,oe,pe,0,H)},selectValues:function(oe,pe,H){const ne=this.prepare(oe),re=[];try{for(ne.bind(pe);ne.step();)re.push(ne.get(0,H));ne.reset()}finally{ne.finalize()}return re},selectArray:function(oe,pe){return Ge(this,oe,pe,[])},selectObject:function(oe,pe){return Ge(this,oe,pe,{})},selectArrays:function(oe,pe){return Oe(this,oe,pe,"array")},selectObjects:function(oe,pe){return Oe(this,oe,pe,"object")},openStatementCount:function(){return this.pointer?Object.keys(me.get(this)).length:0},transaction:function(oe){let pe="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&S(E.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),pe+=" "+arguments[0],oe=arguments[1]),Ie(this).exec(pe);try{const H=oe(this);return this.exec("COMMIT"),H}catch(H){throw this.exec("ROLLBACK"),H}},savepoint:function(oe){Ie(this).exec("SAVEPOINT oo1");try{const pe=oe(this);return this.exec("RELEASE oo1"),pe}catch(pe){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),pe}},checkRc:function(oe){return tt(this,oe)}};const Ke=function(oe){return oe.pointer||S("Stmt has been closed."),oe},St=function(oe){let pe=et[oe==null?"null":typeof oe];switch(pe){case et.boolean:case et.null:case et.number:case et.string:return pe;case et.bigint:if(C.bigIntEnabled)return pe;default:return M.isBindableTypedArray(oe)?et.blob:void 0}},J=function(oe){return St(oe)||S("Unsupported bind() argument type:",typeof oe)},ue=function(oe,pe){const H=typeof pe=="number"?pe:E.sqlite3_bind_parameter_index(oe.pointer,pe);return H===0||!M.isInt32(H)?S("Invalid bind() parameter name: "+pe):(H<1||H>oe.parameterCount)&&S("Bind index",pe,"is out of range."),H},Ee=function(oe,pe){return oe._lockedByExec&&S("Operation is illegal when statement is locked:",pe),oe},st=function oe(pe,H,ne,re){Ee(Ke(pe),"bind()"),oe._||(oe._tooBigInt=it=>S("BigInt value is too big to store without precision loss:",it),oe._={string:function(it,Ot,Bt,Gt){const[lt,_e]=C.allocCString(Bt,!0);return(Gt?E.sqlite3_bind_blob:E.sqlite3_bind_text)(it.pointer,Ot,lt,_e,E.SQLITE_WASM_DEALLOC)}}),J(re),H=ue(pe,H);let Le=0;switch(re==null?et.null:ne){case et.null:Le=E.sqlite3_bind_null(pe.pointer,H);break;case et.string:Le=oe._.string(pe,H,re,!1);break;case et.number:{let it;M.isInt32(re)?it=E.sqlite3_bind_int:typeof re=="bigint"?M.bigIntFits64(re)?C.bigIntEnabled?it=E.sqlite3_bind_int64:M.bigIntFitsDouble(re)?(re=Number(re),it=E.sqlite3_bind_double):oe._tooBigInt(re):oe._tooBigInt(re):(re=Number(re),C.bigIntEnabled&&Number.isInteger(re)?it=E.sqlite3_bind_int64:it=E.sqlite3_bind_double),Le=it(pe.pointer,H,re);break}case et.boolean:Le=E.sqlite3_bind_int(pe.pointer,H,re?1:0);break;case et.blob:{if(typeof re=="string"){Le=oe._.string(pe,H,re,!0);break}else re instanceof ArrayBuffer?re=new Uint8Array(re):M.isBindableTypedArray(re)||S("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const it=C.alloc(re.byteLength||1);C.heap8().set(re.byteLength?re:[0],it),Le=E.sqlite3_bind_blob(pe.pointer,H,it,re.byteLength,E.SQLITE_WASM_DEALLOC);break}default:y.config.warn("Unsupported bind() argument type:",re),S("Unsupported bind() argument type: "+typeof re)}return Le&&Re.checkRc(pe.db.pointer,Le),pe._mayGet=!1,pe};be.prototype={finalize:function(){if(this.pointer){Ee(this,"finalize()");const oe=E.sqlite3_finalize(this.pointer);return delete me.get(this.db)[this.pointer],fe.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,oe}},clearBindings:function(){return Ee(Ke(this),"clearBindings()"),E.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(oe){Ee(this,"reset()"),oe&&this.clearBindings();const pe=E.sqlite3_reset(Ke(this).pointer);return this._mayGet=!1,tt(this.db,pe),this},bind:function(){Ke(this);let oe,pe;switch(arguments.length){case 1:oe=1,pe=arguments[0];break;case 2:oe=arguments[0],pe=arguments[1];break;default:S("Invalid bind() arguments.")}return pe===void 0?this:(this.parameterCount||S("This statement has no bindable parameters."),this._mayGet=!1,pe===null?st(this,oe,et.null,pe):Array.isArray(pe)?(arguments.length!==1&&S("When binding an array, an index argument is not permitted."),pe.forEach((H,ne)=>st(this,ne+1,J(H),H)),this):(pe instanceof ArrayBuffer&&(pe=new Uint8Array(pe)),typeof pe=="object"&&!M.isBindableTypedArray(pe)?(arguments.length!==1&&S("When binding an object, an index argument is not permitted."),Object.keys(pe).forEach(H=>st(this,H,J(pe[H]),pe[H])),this):st(this,oe,J(pe),pe)))},bindAsBlob:function(oe,pe){Ke(this),arguments.length===1&&(pe=oe,oe=1);const H=J(pe);return et.string!==H&&et.blob!==H&&et.null!==H&&S("Invalid value type for bindAsBlob()"),st(this,oe,et.blob,pe)},step:function(){Ee(this,"step()");const oe=E.sqlite3_step(Ke(this).pointer);switch(oe){case E.SQLITE_DONE:return this._mayGet=!1;case E.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,y.config.warn("sqlite3_step() rc=",oe,E.sqlite3_js_rc_str(oe),"SQL =",E.sqlite3_sql(this.pointer)),Re.checkRc(this.db.pointer,oe)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const oe=this.step();return this.reset(),oe}finally{try{this.finalize()}catch{}}},get:function(oe,pe){if(Ke(this)._mayGet||S("Stmt.step() has not (recently) returned true."),Array.isArray(oe)){let H=0;const ne=this.columnCount;for(;H<ne;)oe[H]=this.get(H++);return oe}else if(oe&&typeof oe=="object"){let H=0;const ne=this.columnCount;for(;H<ne;)oe[E.sqlite3_column_name(this.pointer,H)]=this.get(H++);return oe}switch(Te(this,oe),pe===void 0?E.sqlite3_column_type(this.pointer,oe):pe){case E.SQLITE_NULL:return null;case E.SQLITE_INTEGER:if(C.bigIntEnabled){const H=E.sqlite3_column_int64(this.pointer,oe);return H>=Number.MIN_SAFE_INTEGER&&H<=Number.MAX_SAFE_INTEGER?Number(H).valueOf():H}else{const H=E.sqlite3_column_double(this.pointer,oe);return(H>Number.MAX_SAFE_INTEGER||H<Number.MIN_SAFE_INTEGER)&&S("Integer is out of range for JS integer range: "+H),M.isInt32(H)?H|0:H}case E.SQLITE_FLOAT:return E.sqlite3_column_double(this.pointer,oe);case E.SQLITE_TEXT:return E.sqlite3_column_text(this.pointer,oe);case E.SQLITE_BLOB:{const H=E.sqlite3_column_bytes(this.pointer,oe),ne=E.sqlite3_column_blob(this.pointer,oe),re=new Uint8Array(H);return H&&re.set(C.heap8u().slice(ne,ne+H),0),H&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(re.buffer),re}default:S("Don't know how to translate","type of result column #"+oe+".")}S("Not reached.")},getInt:function(oe){return this.get(oe,E.SQLITE_INTEGER)},getFloat:function(oe){return this.get(oe,E.SQLITE_FLOAT)},getString:function(oe){return this.get(oe,E.SQLITE_TEXT)},getBlob:function(oe){return this.get(oe,E.SQLITE_BLOB)},getJSON:function(oe){const pe=this.get(oe,E.SQLITE_STRING);return pe===null?pe:JSON.parse(pe)},getColumnName:function(oe){return E.sqlite3_column_name(Te(Ke(this),oe).pointer,oe)},getColumnNames:function(oe=[]){Te(Ke(this),0);const pe=this.columnCount;for(let H=0;H<pe;++H)oe.push(E.sqlite3_column_name(this.pointer,H));return oe},getParamIndex:function(oe){return Ke(this).parameterCount?E.sqlite3_bind_parameter_index(this.pointer,oe):void 0},getParamName:function(oe){return Ke(this).parameterCount?E.sqlite3_bind_parameter_name(this.pointer,oe):void 0},isBusy:function(){return E.sqlite3_stmt_busy(Ke(this))!==0},isReadOnly:function(){return E.sqlite3_stmt_readonly(Ke(this))!==0}};{const oe={enumerable:!0,get:function(){return fe.get(this)},set:()=>S("The pointer property is read-only.")};Object.defineProperty(be.prototype,"pointer",oe),Object.defineProperty(Re.prototype,"pointer",oe)}if(Object.defineProperty(be.prototype,"columnCount",{enumerable:!1,get:function(){return E.sqlite3_column_count(this.pointer)},set:()=>S("The columnCount property is read-only.")}),y.oo1={DB:Re,Stmt:be},M.isUIThread()){y.oo1.JsStorageDb=function(pe="session"){const H=Be.normalizeArgs(...arguments);pe=H.filename,pe!=="session"&&pe!=="local"&&S("JsStorageDb db name must be one of 'session' or 'local'."),H.vfs="kvvfs",Be.call(this,H)};const oe=y.oo1.JsStorageDb;oe.prototype=Object.create(Re.prototype),oe.clearStorage=E.sqlite3_js_kvvfs_clear,oe.prototype.clearStorage=function(){return oe.clearStorage(Ie(this).filename)},oe.storageSize=E.sqlite3_js_kvvfs_size,oe.prototype.storageSize=function(){return oe.storageSize(Ie(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util;y.initWorker1API=function(){const E=(...Be)=>{throw new Error(Be.join(" "))};globalThis.WorkerGlobalScope instanceof Function||E("initWorker1API() must be run from a Worker thread.");const C=this.sqlite3||E("Missing this.sqlite3 object."),M=C.oo1.DB,fe=function(Be){let Re=me.idMap.get(Be);return Re||(Re="db#"+ ++me.idSeq+"@"+Be.pointer,me.idMap.set(Be,Re),Re)},me={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Be){const Re=new M(Be);return this.dbs[fe(Re)]=Re,this.dbList.indexOf(Re)<0&&this.dbList.push(Re),Re},close:function(Be,Re){if(Be){delete this.dbs[fe(Be)];const et=Be.filename,be=S.sqlite3__wasm_db_vfs(Be.pointer,0);Be.close();const Ie=this.dbList.indexOf(Be);Ie>=0&&this.dbList.splice(Ie,1),Re&&et&&be&&S.sqlite3__wasm_vfs_unlink(be,et)}},post:function(Be,Re){Re&&Re.length?(globalThis.postMessage(Be,Array.from(Re)),Re.length=0):globalThis.postMessage(Be)},dbs:Object.create(null),getDb:function(Be,Re=!0){return this.dbs[Be]||(Re?E("Unknown (or closed) DB ID:",Be):void 0)}},Qe=function(Be=me.dbList[0]){return Be&&Be.pointer?Be:E("DB is not opened.")},tt=function(Be,Re=!0){const et=me.getDb(Be.dbId,!1)||me.dbList[0];return Re?Qe(et):et},at=function(){return me.dbList[0]&&fe(me.dbList[0])},mt={open:function(Be){const Re=Object.create(null),et=Be.args||Object.create(null);et.simulateError&&E("Throwing because of simulateError flag.");const be=Object.create(null);Re.vfs=et.vfs,Re.filename=et.filename||"";const Ie=me.open(Re);return be.filename=Ie.filename,be.persistent=!!C.capi.sqlite3_js_db_uses_vfs(Ie.pointer,"opfs"),be.dbId=fe(Ie),be.vfs=Ie.dbVfsName(),be},close:function(Be){const Re=tt(Be,!1),et={filename:Re&&Re.filename};if(Re){const be=Be.args&&typeof Be.args=="object"?!!Be.args.unlink:!1;me.close(Re,be)}return et},exec:function(Be){const Re=typeof Be.args=="string"?{sql:Be.args}:Be.args||Object.create(null);Re.rowMode==="stmt"?E("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):Re.sql||E("'exec' requires input SQL.");const et=tt(Be);(Re.callback||Array.isArray(Re.resultRows))&&(et._blobXfer=me.xfer);const be=Re.callback;let Ie=0;const Te=!!Re.columnNames;typeof be=="string"&&(Te||(Re.columnNames=[]),Re.callback=function(Je,Ge){me.post({type:be,columnNames:Re.columnNames,rowNumber:++Ie,row:Je},me.xfer)});try{const Je=Re.countChanges?et.changes(!0,Re.countChanges===64):void 0;et.exec(Re),Je!==void 0&&(Re.changeCount=et.changes(!0,Re.countChanges===64)-Je),Re.callback instanceof Function&&(Re.callback=be,me.post({type:be,columnNames:Re.columnNames,rowNumber:null,row:void 0}))}finally{delete et._blobXfer,Re.callback&&(Re.callback=be)}return Re},"config-get":function(){const Be=Object.create(null),Re=C.config;return["bigIntEnabled"].forEach(function(et){Object.getOwnPropertyDescriptor(Re,et)&&(Be[et]=Re[et])}),Be.version=C.version,Be.vfsList=C.capi.sqlite3_js_vfs_list(),Be},export:function(Be){const Re=tt(Be),et={byteArray:C.capi.sqlite3_js_db_export(Re.pointer),filename:Re.filename,mimetype:"application/x-sqlite3"};return me.xfer.push(et.byteArray.buffer),et},toss:function(Be){E("Testing worker exception")}};globalThis.onmessage=async function(Be){Be=Be.data;let Re,et=Be.dbId,be=Be.type;const Ie=performance.now();try{mt.hasOwnProperty(be)&&mt[be]instanceof Function?Re=await mt[be](Be):E("Unknown db worker message type:",Be.type)}catch(Te){be="error",Re={operation:Be.type,message:Te.message,errorClass:Te.name,input:Be},Te.stack&&(Re.stack=typeof Te.stack=="string"?Te.stack.split(/\n\s*/):Te.stack)}et||(et=Re.dbId||at()),me.post({type:be,dbId:et,messageId:Be.messageId,workerReceivedTime:Ie,workerRespondTime:performance.now(),departureTime:Be.departureTime,result:Re},me.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:y})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.wasm,E=y.capi,C=y.util.toss3,M=Object.create(null);y.vfs=M,E.sqlite3_vfs.prototype.registerVfs=function(fe=!1){this instanceof y.capi.sqlite3_vfs||C("Expecting a sqlite3_vfs-type argument.");const me=E.sqlite3_vfs_register(this,fe?1:0);return me&&C("sqlite3_vfs_register(",this,") failed with rc",me),this.pointer!==E.sqlite3_vfs_find(this.$zName)&&C("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},M.installVfs=function(fe){let me=0;const Qe=["io","vfs"];for(const tt of Qe){const at=fe[tt];at&&(++me,at.struct.installMethods(at.methods,!!at.applyArgcCheck),tt==="vfs"&&(!at.struct.$zName&&typeof at.name=="string"&&at.struct.addOnDispose(at.struct.$zName=S.allocCString(at.name)),at.struct.registerVfs(!!at.asDefault)))}return me||C("Misuse: installVfs() options object requires at least","one of:",Qe),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){if(!y.wasm.exports.sqlite3_declare_vtab)return;const S=y.wasm,E=y.capi,C=y.util.toss3,M=Object.create(null);y.vtab=M;const fe=E.sqlite3_index_info;fe.prototype.nthConstraint=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraint+fe.sqlite3_index_constraint.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint(mt)},fe.prototype.nthConstraintUsage=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraintUsage+fe.sqlite3_index_constraint_usage.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint_usage(mt)},fe.prototype.nthOrderBy=function(tt,at=!1){if(tt<0||tt>=this.$nOrderBy)return!1;const mt=this.$aOrderBy+fe.sqlite3_index_orderby.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_orderby(mt)};const me=function(tt,at){return function(mt,Be=!1){if(arguments.length===0&&(mt=new at),mt instanceof at)return this.set(mt.pointer,mt),mt;S.isPtr(mt)||y.SQLite3Error.toss("Invalid argument to",tt+"()");let Re=this.get(mt);return Be&&this.delete(mt),Re}.bind(new Map)},Qe=function(tt,at){const mt=me(tt,at);return Object.assign(Object.create(null),{StructType:at,create:Be=>{const Re=mt();return S.pokePtr(Be,Re.pointer),Re},get:Be=>mt(Be),unget:Be=>mt(Be,!0),dispose:Be=>{const Re=mt(Be,!0);Re&&Re.dispose()}})};M.xVtab=Qe("xVtab",E.sqlite3_vtab),M.xCursor=Qe("xCursor",E.sqlite3_vtab_cursor),M.xIndexInfo=tt=>new E.sqlite3_index_info(tt),M.xError=function tt(at,mt,Be){if(tt.errorReporter instanceof Function)try{tt.errorReporter("sqlite3_module::"+at+"(): "+mt.message)}catch{}let Re;return mt instanceof y.WasmAllocError?Re=E.SQLITE_NOMEM:arguments.length>2?Re=Be:mt instanceof y.SQLite3Error&&(Re=mt.resultCode),Re||E.SQLITE_ERROR},M.xError.errorReporter=console.error.bind(console),M.xRowid=(tt,at)=>S.poke(tt,at,"i64"),M.setupModule=function(tt){let at=!1;const mt=this instanceof E.sqlite3_module?this:tt.struct||(at=new E.sqlite3_module);try{const Be=tt.methods||C("Missing 'methods' object.");for(const Re of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const et=Re[0],be=Re[1];Be[et]===!0?Be[et]=Be[be]:Be[be]===!0&&(Be[be]=Be[et])}if(tt.catchExceptions){const Re=function(Ie,Te){return["xConnect","xCreate"].indexOf(Ie)>=0?function(Je,Ge,Oe,Ke,St,J){try{return Te(...arguments)||0}catch(ue){return ue instanceof y.WasmAllocError||(S.dealloc(S.peekPtr(J)),S.pokePtr(J,S.allocCString(ue.message))),M.xError(Ie,ue)}}:function(...Je){try{return Te(...Je)||0}catch(Ge){return M.xError(Ie,Ge)}}},et=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],be=Object.create(null);for(const Ie of et){const Te=Be[Ie];if(Te instanceof Function)Ie==="xConnect"&&Be.xCreate===Te?be[Ie]=Be.xCreate:Ie==="xCreate"&&Be.xConnect===Te?be[Ie]=Be.xConnect:be[Ie]=Re(Ie,Te);else continue}mt.installMethods(be,!1)}else mt.installMethods(Be,!!tt.applyArgcCheck);if(mt.$iVersion===0){let Re;typeof tt.iVersion=="number"?Re=tt.iVersion:mt.$xShadowName?Re=3:mt.$xSavePoint||mt.$xRelease||mt.$xRollbackTo?Re=2:Re=1,mt.$iVersion=Re}}catch(Be){throw at&&at.dispose(),Be}return mt},E.sqlite3_module.prototype.setupModule=function(tt){return M.setupModule.call(this,tt)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=function E(C){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!C||typeof C!="object")&&(C=Object.create(null));const M=new URL(globalThis.location.href).searchParams;return M.has("opfs-disable")?Promise.resolve(y):(C.verbose===void 0&&(C.verbose=M.has("opfs-verbose")?+M.get("opfs-verbose")||2:1),C.sanityChecks===void 0&&(C.sanityChecks=M.has("opfs-sanity-check")),C.proxyUri===void 0&&(C.proxyUri=E.defaultProxyUri),typeof C.proxyUri=="function"&&(C.proxyUri=C.proxyUri()),new Promise(function(me,Qe){const tt=[y.config.error,y.config.warn,y.config.log],at=(Ae,...nt)=>{C.verbose>Ae&&tt[Ae]("OPFS syncer:",...nt)},mt=(...Ae)=>at(2,...Ae),Be=(...Ae)=>at(1,...Ae),Re=(...Ae)=>at(0,...Ae),et=y.util.toss,be=y.capi,Ie=y.util,Te=y.wasm,Je=be.sqlite3_vfs,Ge=be.sqlite3_file,Oe=be.sqlite3_io_methods,Ke=Object.create(null),St=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Ke.metrics={dump:function(){let Ae,nt=0,dt=0,Nt=0;for(Ae in re.opIds){const xt=Le[Ae];nt+=xt.count,dt+=xt.time,Nt+=xt.wait,xt.avgTime=xt.count&&xt.time?xt.time/xt.count:0,xt.avgWait=xt.count&&xt.wait?xt.wait/xt.count:0}y.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Le,`
Total of`,nt,"op(s) for",dt,"ms (incl. "+Nt+" ms of waiting on the async side)"),y.config.log("Serialization metrics:",Le.s11n),pe.postMessage({type:"opfs-async-metrics"})},reset:function(){let Ae;const nt=Nt=>Nt.count=Nt.time=Nt.wait=0;for(Ae in re.opIds)nt(Le[Ae]=Object.create(null));let dt=Le.s11n=Object.create(null);dt=dt.serialize=Object.create(null),dt.count=dt.time=0,dt=Le.s11n.deserialize=Object.create(null),dt.count=dt.time=0}};const J=new Oe,ue=new Je().addOnDispose(()=>J.dispose());let Ee;const st=Ae=>(Ee=!0,ue.dispose(),Qe(Ae)),oe=()=>(Ee=!1,me(y)),pe=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{Ee===void 0&&st(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),pe._originalOnError=pe.onerror,pe.onerror=function(Ae){Re("Error initializing OPFS asyncer:",Ae),st(new Error("Loading OPFS async Worker failed for unknown reasons."))};const H=be.sqlite3_vfs_find(null),ne=H?new Je(H):null;J.$iVersion=1,ue.$iVersion=2,ue.$szOsFile=be.sqlite3_file.structInfo.sizeof,ue.$mxPathname=1024,ue.$zName=Te.allocCString("opfs"),ue.$xDlOpen=ue.$xDlError=ue.$xDlSym=ue.$xDlClose=null,ue.addOnDispose("$zName",ue.$zName,"cleanup default VFS wrapper",()=>ne?ne.dispose():null);const re=Object.create(null);re.verbose=C.verbose,re.littleEndian=(()=>{const Ae=new ArrayBuffer(2);return new DataView(Ae).setInt16(0,256,!0),new Int16Array(Ae)[0]===256})(),re.asyncIdleWaitTime=150,re.asyncS11nExceptions=1,re.fileBufferSize=1024*64,re.sabS11nOffset=re.fileBufferSize,re.sabS11nSize=ue.$mxPathname*2,re.sabIO=new SharedArrayBuffer(re.fileBufferSize+re.sabS11nSize),re.opIds=Object.create(null);const Le=Object.create(null);{let Ae=0;re.opIds.whichOp=Ae++,re.opIds.rc=Ae++,re.opIds.xAccess=Ae++,re.opIds.xClose=Ae++,re.opIds.xDelete=Ae++,re.opIds.xDeleteNoWait=Ae++,re.opIds.xFileSize=Ae++,re.opIds.xLock=Ae++,re.opIds.xOpen=Ae++,re.opIds.xRead=Ae++,re.opIds.xSleep=Ae++,re.opIds.xSync=Ae++,re.opIds.xTruncate=Ae++,re.opIds.xUnlock=Ae++,re.opIds.xWrite=Ae++,re.opIds.mkdir=Ae++,re.opIds["opfs-async-metrics"]=Ae++,re.opIds["opfs-async-shutdown"]=Ae++,re.opIds.retry=Ae++,re.sabOP=new SharedArrayBuffer(Ae*4),Ke.metrics.reset()}re.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Ae=>{(re.sq3Codes[Ae]=be[Ae])===void 0&&et("Maintenance required: not found:",Ae)}),re.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const it=(Ae,...nt)=>{const dt=re.opIds[Ae]||et("Invalid op ID:",Ae);re.s11n.serialize(...nt),Atomics.store(re.sabOPView,re.opIds.rc,-1),Atomics.store(re.sabOPView,re.opIds.whichOp,dt),Atomics.notify(re.sabOPView,re.opIds.whichOp);const Nt=performance.now();for(;Atomics.wait(re.sabOPView,re.opIds.rc,-1)!=="not-equal";);const xt=Atomics.load(re.sabOPView,re.opIds.rc);if(Le[Ae].wait+=performance.now()-Nt,xt&&re.asyncS11nExceptions){const $t=re.s11n.deserialize();$t&&Re(Ae+"() async error:",...$t)}return xt};Ke.debug={asyncShutdown:()=>{Be("Shutting down OPFS async listener. The OPFS VFS will no longer work."),it("opfs-async-shutdown")},asyncRestart:()=>{Be("Attempting to restart OPFS VFS async listener. Might work, might not."),pe.postMessage({type:"opfs-async-restart"})}};const Ot=()=>{if(re.s11n)return re.s11n;const Ae=new TextDecoder,nt=new TextEncoder("utf-8"),dt=new Uint8Array(re.sabIO,re.sabS11nOffset,re.sabS11nSize),Nt=new DataView(re.sabIO,re.sabS11nOffset,re.sabS11nSize);re.s11n=Object.create(null);const xt=Object.create(null);xt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},xt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},xt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},xt.string={id:4};const $t=qt=>xt[typeof qt]||et("Maintenance required: this value type cannot be serialized.",qt),fn=qt=>{switch(qt){case xt.number.id:return xt.number;case xt.bigint.id:return xt.bigint;case xt.boolean.id:return xt.boolean;case xt.string.id:return xt.string;default:et("Invalid type ID:",qt)}};return re.s11n.deserialize=function(qt=!1){++Le.s11n.deserialize.count;const gr=performance.now(),We=dt[0],vt=We?[]:null;if(We){const wt=[];let kt=1,pn,Un,Dn;for(pn=0;pn<We;++pn,++kt)wt.push(fn(dt[kt]));for(pn=0;pn<We;++pn){const zn=wt[pn];zn.getter?(Dn=Nt[zn.getter](kt,re.littleEndian),kt+=zn.size):(Un=Nt.getInt32(kt,re.littleEndian),kt+=4,Dn=Ae.decode(dt.slice(kt,kt+Un)),kt+=Un),vt.push(Dn)}}return qt&&(dt[0]=0),Le.s11n.deserialize.time+=performance.now()-gr,vt},re.s11n.serialize=function(...qt){const gr=performance.now();if(++Le.s11n.serialize.count,qt.length){const We=[];let vt=0,wt=1;for(dt[0]=qt.length&255;vt<qt.length;++vt,++wt)We.push($t(qt[vt])),dt[wt]=We[vt].id;for(vt=0;vt<qt.length;++vt){const kt=We[vt];if(kt.setter)Nt[kt.setter](wt,qt[vt],re.littleEndian),wt+=kt.size;else{const pn=nt.encode(qt[vt]);Nt.setInt32(wt,pn.byteLength,re.littleEndian),wt+=4,dt.set(pn,wt),wt+=pn.byteLength}}}else dt[0]=0;Le.s11n.serialize.time+=performance.now()-gr},re.s11n},Bt=function Ae(nt=16){Ae._chars||(Ae._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Ae._n=Ae._chars.length);const dt=[];let Nt=0;for(;Nt<nt;++Nt){const xt=Math.random()*(Ae._n*64)%Ae._n|0;dt[Nt]=Ae._chars[xt]}return dt.join("")},Gt=Object.create(null),lt=Object.create(null);lt.op=void 0,lt.start=void 0;const _e=Ae=>{lt.start=performance.now(),lt.op=Ae,++Le[Ae].count},Pe=()=>Le[lt.op].time+=performance.now()-lt.start,ot={xCheckReservedLock:function(Ae,nt){return Te.poke(nt,0,"i32"),0},xClose:function(Ae){_e("xClose");let nt=0;const dt=Gt[Ae];return dt&&(delete Gt[Ae],nt=it("xClose",Ae),dt.sq3File&&dt.sq3File.dispose()),Pe(),nt},xDeviceCharacteristics:function(Ae){return be.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ae,nt,dt){return be.SQLITE_NOTFOUND},xFileSize:function(Ae,nt){_e("xFileSize");let dt=it("xFileSize",Ae);if(dt==0)try{const Nt=re.s11n.deserialize()[0];Te.poke(nt,Nt,"i64")}catch(Nt){Re("Unexpected error reading xFileSize() result:",Nt),dt=re.sq3Codes.SQLITE_IOERR}return Pe(),dt},xLock:function(Ae,nt){_e("xLock");const dt=Gt[Ae];let Nt=0;return dt.lockType?dt.lockType=nt:(Nt=it("xLock",Ae,nt),Nt===0&&(dt.lockType=nt)),Pe(),Nt},xRead:function(Ae,nt,dt,Nt){_e("xRead");const xt=Gt[Ae];let $t;try{$t=it("xRead",Ae,dt,Number(Nt)),($t===0||be.SQLITE_IOERR_SHORT_READ===$t)&&Te.heap8u().set(xt.sabView.subarray(0,dt),nt)}catch(fn){Re("xRead(",arguments,") failed:",fn,xt),$t=be.SQLITE_IOERR_READ}return Pe(),$t},xSync:function(Ae,nt){_e("xSync"),++Le.xSync.count;const dt=it("xSync",Ae,nt);return Pe(),dt},xTruncate:function(Ae,nt){_e("xTruncate");const dt=it("xTruncate",Ae,Number(nt));return Pe(),dt},xUnlock:function(Ae,nt){_e("xUnlock");const dt=Gt[Ae];let Nt=0;return be.SQLITE_LOCK_NONE===nt&&dt.lockType&&(Nt=it("xUnlock",Ae,nt)),Nt===0&&(dt.lockType=nt),Pe(),Nt},xWrite:function(Ae,nt,dt,Nt){_e("xWrite");const xt=Gt[Ae];let $t;try{xt.sabView.set(Te.heap8u().subarray(nt,nt+dt)),$t=it("xWrite",Ae,dt,Number(Nt))}catch(fn){Re("xWrite(",arguments,") failed:",fn,xt),$t=be.SQLITE_IOERR_WRITE}return Pe(),$t}},pt={xAccess:function(Ae,nt,dt,Nt){_e("xAccess");const xt=it("xAccess",Te.cstrToJs(nt));return Te.poke(Nt,xt?0:1,"i32"),Pe(),0},xCurrentTime:function(Ae,nt){return Te.poke(nt,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ae,nt){return Te.poke(nt,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ae,nt,dt){_e("xDelete");const Nt=it("xDelete",Te.cstrToJs(nt),dt,!1);return Pe(),Nt},xFullPathname:function(Ae,nt,dt,Nt){return Te.cstrncpy(Nt,nt,dt)<dt?0:be.SQLITE_CANTOPEN},xGetLastError:function(Ae,nt,dt){return Be("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(nt,dt,Nt,xt,$t){_e("xOpen");let fn=0;dt===0?dt=Bt():Te.isPtr(dt)&&(be.sqlite3_uri_boolean(dt,"opfs-unlock-asap",0)&&(fn|=re.opfsFlags.OPFS_UNLOCK_ASAP),be.sqlite3_uri_boolean(dt,"delete-before-open",0)&&(fn|=re.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),dt=Te.cstrToJs(dt));const qt=Object.create(null);qt.fid=Nt,qt.filename=dt,qt.sab=new SharedArrayBuffer(re.fileBufferSize),qt.flags=xt,qt.readOnly=!(y.SQLITE_OPEN_CREATE&xt)&&!!(xt&be.SQLITE_OPEN_READONLY);const gr=it("xOpen",Nt,dt,xt,fn);return gr||(qt.readOnly&&Te.poke($t,be.SQLITE_OPEN_READONLY,"i32"),Gt[Nt]=qt,qt.sabView=re.sabFileBufView,qt.sq3File=new Ge(Nt),qt.sq3File.$pMethods=J.pointer,qt.lockType=be.SQLITE_LOCK_NONE),Pe(),gr}};ne&&(ue.$xRandomness=ne.$xRandomness,ue.$xSleep=ne.$xSleep),ue.$xRandomness||(pt.xRandomness=function(Ae,nt,dt){const Nt=Te.heap8u();let xt=0;for(;xt<nt;++xt)Nt[dt+xt]=Math.random()*255e3&255;return xt}),ue.$xSleep||(pt.xSleep=function(Ae,nt){return Atomics.wait(re.sabOPView,re.opIds.xSleep,0,nt),0}),Ke.getResolvedPath=function(Ae,nt){const dt=new URL(Ae,"file://irrelevant").pathname;return nt?dt.split("/").filter(Nt=>!!Nt):dt},Ke.getDirForFilename=async function(nt,dt=!1){const Nt=Ke.getResolvedPath(nt,!0),xt=Nt.pop();let $t=Ke.rootDirectory;for(const fn of Nt)fn&&($t=await $t.getDirectoryHandle(fn,{create:!!dt}));return[$t,xt]},Ke.mkdir=async function(Ae){try{return await Ke.getDirForFilename(Ae+"/filepart",!0),!0}catch{return!1}},Ke.entryExists=async function(Ae){try{const[nt,dt]=await Ke.getDirForFilename(Ae);return await nt.getFileHandle(dt),!0}catch{return!1}},Ke.randomFilename=Bt,Ke.treeList=async function(){const Ae=async function dt(Nt,xt){xt.name=Nt.name,xt.dirs=[],xt.files=[];for await(const $t of Nt.values())if($t.kind==="directory"){const fn=Object.create(null);xt.dirs.push(fn),await dt($t,fn)}else xt.files.push($t.name)},nt=Object.create(null);return await Ae(Ke.rootDirectory,nt),nt},Ke.rmfr=async function(){const Ae=Ke.rootDirectory,nt={recurse:!0};for await(const dt of Ae.values())Ae.removeEntry(dt.name,nt)},Ke.unlink=async function(Ae,nt=!1,dt=!1){try{const[Nt,xt]=await Ke.getDirForFilename(Ae,!1);return await Nt.removeEntry(xt,{recursive:nt}),!0}catch(Nt){if(dt)throw new Error("unlink(",arguments[0],") failed: "+Nt.message,{cause:Nt});return!1}},Ke.traverse=async function(Ae){const nt={recursive:!0,directory:Ke.rootDirectory};typeof Ae=="function"&&(Ae={callback:Ae}),Ae=Object.assign(nt,Ae||{}),async function Nt(xt,$t){for await(const fn of xt.values()){if(Ae.callback(fn,xt,$t)===!1)return!1;if(Ae.recursive&&fn.kind==="directory"&&await Nt(fn,$t+1)===!1)break}}(Ae.directory,0)};const Pt=async function(Ae,nt){const[dt,Nt]=await Ke.getDirForFilename(Ae,!0);let $t=await (await dt.getFileHandle(Nt,{create:!0})).createSyncAccessHandle(),fn=0,qt,gr=!1;try{for($t.truncate(0);(qt=await nt())!==void 0;)qt instanceof ArrayBuffer&&(qt=new Uint8Array(qt)),fn===0&&qt.byteLength>=15&&(Ie.affirmDbHeader(qt),gr=!0),$t.write(qt,{at:fn}),fn+=qt.byteLength;if((fn<512||fn%512!==0)&&et("Input size",fn,"is not correct for an SQLite database."),!gr){const We=new Uint8Array(20);$t.read(We,{at:0}),Ie.affirmDbHeader(We)}return $t.write(new Uint8Array([1,1]),{at:18}),fn}catch(We){throw await $t.close(),$t=void 0,await dt.removeEntry(Nt).catch(()=>{}),We}finally{$t&&await $t.close()}};if(Ke.importDb=async function(Ae,nt){if(nt instanceof Function)return Pt(Ae,nt);nt instanceof ArrayBuffer&&(nt=new Uint8Array(nt)),Ie.affirmIsDb(nt);const dt=nt.byteLength,[Nt,xt]=await Ke.getDirForFilename(Ae,!0);let $t,fn=0;try{return $t=await (await Nt.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),$t.truncate(0),fn=$t.write(nt,{at:0}),fn!=dt&&et("Expected to write "+dt+" bytes but wrote "+fn+"."),$t.write(new Uint8Array([1,1]),{at:18}),fn}catch(qt){throw $t&&(await $t.close(),$t=void 0),await Nt.removeEntry(xt).catch(()=>{}),qt}finally{$t&&await $t.close()}},y.oo1){const Ae=function(...nt){const dt=y.oo1.DB.dbCtorHelper.normalizeArgs(...nt);dt.vfs=ue.$zName,y.oo1.DB.dbCtorHelper.call(this,dt)};Ae.prototype=Object.create(y.oo1.DB.prototype),y.oo1.OpfsDb=Ae,Ae.importDb=Ke.importDb,y.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(ue.pointer,function(nt,dt){dt.capi.sqlite3_busy_timeout(nt,1e4)})}const Zt=function(){const Ae=Te.scopedAllocPush(),nt=new Ge;try{const dt=nt.pointer,Nt=be.SQLITE_OPEN_CREATE|be.SQLITE_OPEN_READWRITE|be.SQLITE_OPEN_MAIN_DB,xt=Te.scopedAlloc(8),$t="/sanity/check/file"+Bt(8),fn=Te.scopedAllocCString($t);let qt;if(re.s11n.serialize("This is \xe4 string."),qt=re.s11n.deserialize(),mt("deserialize() says:",qt),qt[0]!=="This is \xe4 string."&&et("String d13n error."),pt.xAccess(ue.pointer,fn,0,xt),qt=Te.peek(xt,"i32"),mt("xAccess(",$t,") exists ?=",qt),qt=pt.xOpen(ue.pointer,fn,dt,Nt,xt),mt("open rc =",qt,"state.sabOPView[xOpen] =",re.sabOPView[re.opIds.xOpen]),qt!==0){Re("open failed with code",qt);return}pt.xAccess(ue.pointer,fn,0,xt),qt=Te.peek(xt,"i32"),qt||et("xAccess() failed to detect file."),qt=ot.xSync(nt.pointer,0),qt&&et("sync failed w/ rc",qt),qt=ot.xTruncate(nt.pointer,1024),qt&&et("truncate failed w/ rc",qt),Te.poke(xt,0,"i64"),qt=ot.xFileSize(nt.pointer,xt),qt&&et("xFileSize failed w/ rc",qt),mt("xFileSize says:",Te.peek(xt,"i64")),qt=ot.xWrite(nt.pointer,fn,10,1),qt&&et("xWrite() failed!");const gr=Te.scopedAlloc(16);qt=ot.xRead(nt.pointer,gr,6,2),Te.poke(gr+6,0);let We=Te.cstrToJs(gr);mt("xRead() got:",We),We!=="sanity"&&et("Unexpected xRead() value."),pt.xSleep&&(mt("xSleep()ing before close()ing..."),pt.xSleep(ue.pointer,2e3),mt("waking up from xSleep()")),qt=ot.xClose(dt),mt("xClose rc =",qt,"sabOPView =",re.sabOPView),mt("Deleting file:",$t),pt.xDelete(ue.pointer,fn,4660),pt.xAccess(ue.pointer,fn,0,xt),qt=Te.peek(xt,"i32"),qt&&et("Expecting 0 from xAccess(",$t,") after xDelete()."),Be("End of OPFS sanity checks.")}finally{nt.dispose(),Te.scopedAllocPop(Ae)}};pe.onmessage=function({data:Ae}){switch(Ae.type){case"opfs-unavailable":st(new Error(Ae.payload.join(" ")));break;case"opfs-async-loaded":pe.postMessage({type:"opfs-async-init",args:re});break;case"opfs-async-inited":{if(Ee===!0)break;try{y.vfs.installVfs({io:{struct:J,methods:ot},vfs:{struct:ue,methods:pt}}),re.sabOPView=new Int32Array(re.sabOP),re.sabFileBufView=new Uint8Array(re.sabIO,0,re.fileBufferSize),re.sabS11nView=new Uint8Array(re.sabIO,re.sabS11nOffset,re.sabS11nSize),Ot(),C.sanityChecks&&(Be("Running sanity checks because of opfs-sanity-check URL arg..."),Zt()),St()?navigator.storage.getDirectory().then(nt=>{pe.onerror=pe._originalOnError,delete pe._originalOnError,y.opfs=Ke,Ke.rootDirectory=nt,mt("End of OPFS sqlite3_vfs setup.",ue),oe()}).catch(st):oe()}catch(nt){Re(nt),st(nt)}break}default:{const nt="Unexpected message from the OPFS async worker: "+JSON.stringify(Ae);Re(nt),st(new Error(nt));break}}}}))};S.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async E=>{try{let C=S.defaultProxyUri;return E.scriptInfo.sqlite3Dir&&(S.defaultProxyUri=E.scriptInfo.sqlite3Dir+C),S().catch(M=>{E.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",M.message)})}catch(C){return E.config.error("installOpfsVfs() exception:",C),Promise.reject(C)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util.toss,E=y.util.toss3,C=Object.create(null),M=y.capi,fe=y.util,me=y.wasm,Qe=4096,tt=512,at=4,mt=8,Be=tt+at,Re=tt,et=Be,be=Qe,Ie=M.SQLITE_OPEN_MAIN_DB|M.SQLITE_OPEN_MAIN_JOURNAL|M.SQLITE_OPEN_SUPER_JOURNAL|M.SQLITE_OPEN_WAL,Te=".opaque",Je=()=>Math.random().toString(36).slice(2),Ge=new TextDecoder,Oe=new TextEncoder,Ke=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),St=[y.config.error,y.config.warn,y.config.log];y.config.log;const J=y.config.warn;y.config.error;const ue=new Map,Ee=lt=>ue.get(lt),st=(lt,_e)=>{_e?ue.set(lt,_e):ue.delete(lt)},oe=new Map,pe=lt=>oe.get(lt),H=(lt,_e)=>{_e?oe.set(lt,_e):oe.delete(lt)},ne={xCheckReservedLock:function(lt,_e){const Pe=pe(lt);return Pe.log("xCheckReservedLock"),Pe.storeErr(),me.poke32(_e,1),0},xClose:function(lt){const _e=pe(lt);_e.storeErr();const Pe=_e.getOFileForS3File(lt);if(Pe)try{_e.log(`xClose ${Pe.path}`),_e.mapS3FileToOFile(lt,!1),Pe.sah.flush(),Pe.flags&M.SQLITE_OPEN_DELETEONCLOSE&&_e.deletePath(Pe.path)}catch(ot){return _e.storeErr(ot,M.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(lt){return M.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(lt,_e,Pe){return M.SQLITE_NOTFOUND},xFileSize:function(lt,_e){const Pe=pe(lt);Pe.log("xFileSize");const pt=Pe.getOFileForS3File(lt).sah.getSize()-be;return me.poke64(_e,BigInt(pt)),0},xLock:function(lt,_e){const Pe=pe(lt);Pe.log(`xLock ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xRead:function(lt,_e,Pe,ot){const pt=pe(lt);pt.storeErr();const Pt=pt.getOFileForS3File(lt);pt.log(`xRead ${Pt.path} ${Pe} @ ${ot}`);try{const Zt=Pt.sah.read(me.heap8u().subarray(_e,_e+Pe),{at:be+Number(ot)});return Zt<Pe?(me.heap8u().fill(0,_e+Zt,_e+Pe),M.SQLITE_IOERR_SHORT_READ):0}catch(Zt){return pt.storeErr(Zt,M.SQLITE_IOERR)}},xSectorSize:function(lt){return Qe},xSync:function(lt,_e){const Pe=pe(lt);Pe.log(`xSync ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.flush(),0}catch(pt){return Pe.storeErr(pt,M.SQLITE_IOERR)}},xTruncate:function(lt,_e){const Pe=pe(lt);Pe.log(`xTruncate ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.truncate(be+Number(_e)),0}catch(pt){return Pe.storeErr(pt,M.SQLITE_IOERR)}},xUnlock:function(lt,_e){const Pe=pe(lt);Pe.log("xUnlock");const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xWrite:function(lt,_e,Pe,ot){const pt=pe(lt);pt.storeErr();const Pt=pt.getOFileForS3File(lt);pt.log(`xWrite ${Pt.path} ${Pe} ${ot}`);try{const Zt=Pt.sah.write(me.heap8u().subarray(_e,_e+Pe),{at:be+Number(ot)});return Pe===Zt?0:S("Unknown write() failure.")}catch(Zt){return pt.storeErr(Zt,M.SQLITE_IOERR)}}},re=new M.sqlite3_io_methods;re.$iVersion=1,y.vfs.installVfs({io:{struct:re,methods:ne}});const Le={xAccess:function(lt,_e,Pe,ot){const pt=Ee(lt);pt.storeErr();try{const Pt=pt.getPath(_e);me.poke32(ot,pt.hasFilename(Pt)?1:0)}catch{me.poke32(ot,0)}return 0},xCurrentTime:function(lt,_e){return me.poke(_e,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(lt,_e){return me.poke(_e,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(lt,_e,Pe){const ot=Ee(lt);ot.log(`xDelete ${me.cstrToJs(_e)}`),ot.storeErr();try{return ot.deletePath(ot.getPath(_e)),0}catch(pt){return ot.storeErr(pt),M.SQLITE_IOERR_DELETE}},xFullPathname:function(lt,_e,Pe,ot){return me.cstrncpy(ot,_e,Pe)<Pe?0:M.SQLITE_CANTOPEN},xGetLastError:function(lt,_e,Pe){const ot=Ee(lt),pt=ot.popErr();if(ot.log(`xGetLastError ${_e} e =`,pt),pt){const Pt=me.scopedAllocPush();try{const[Zt,Ae]=me.scopedAllocCString(pt.message,!0);me.cstrncpy(Pe,Zt,_e),Ae>_e&&me.poke8(Pe+_e-1,0)}catch{return M.SQLITE_NOMEM}finally{me.scopedAllocPop(Pt)}}return pt?pt.sqlite3Rc||M.SQLITE_IOERR:0},xOpen:function(_e,Pe,ot,pt,Pt){const Zt=Ee(_e);try{Zt.log(`xOpen ${me.cstrToJs(Pe)} ${pt}`);const Ae=Pe&&me.peek8(Pe)?Zt.getPath(Pe):Je();let nt=Zt.getSAHForPath(Ae);!nt&&pt&M.SQLITE_OPEN_CREATE&&(Zt.getFileCount()<Zt.getCapacity()?(nt=Zt.nextAvailableSAH(),Zt.setAssociatedPath(nt,Ae,pt)):S("SAH pool is full. Cannot create file",Ae)),nt||S("file not found:",Ae);const dt={path:Ae,flags:pt,sah:nt};Zt.mapS3FileToOFile(ot,dt),dt.lockType=M.SQLITE_LOCK_NONE;const Nt=new M.sqlite3_file(ot);return Nt.$pMethods=re.pointer,Nt.dispose(),me.poke32(Pt,pt),0}catch(Ae){return Zt.storeErr(Ae),M.SQLITE_CANTOPEN}}},it=function(lt){y.capi.sqlite3_vfs_find(lt)&&E("VFS name is already registered:",lt);const _e=new M.sqlite3_vfs,Pe=M.sqlite3_vfs_find(null),ot=Pe?new M.sqlite3_vfs(Pe):null;return _e.$iVersion=2,_e.$szOsFile=M.sqlite3_file.structInfo.sizeof,_e.$mxPathname=tt,_e.addOnDispose(_e.$zName=me.allocCString(lt),()=>st(_e.pointer,0)),ot&&(_e.$xRandomness=ot.$xRandomness,_e.$xSleep=ot.$xSleep,ot.dispose()),!_e.$xRandomness&&!Le.xRandomness&&(Le.xRandomness=function(pt,Pt,Zt){const Ae=me.heap8u();let nt=0;for(;nt<Pt;++nt)Ae[Zt+nt]=Math.random()*255e3&255;return nt}),!_e.$xSleep&&!Le.xSleep&&(Le.xSleep=(pt,Pt)=>0),y.vfs.installVfs({vfs:{struct:_e,methods:Le}}),_e};class Ot{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Be);#u;#l;#c;constructor(_e=Object.create(null)){this.#c=_e.verbosity??Ke.verbosity,this.vfsName=_e.name||Ke.name,this.#l=it(this.vfsName),st(this.#l.pointer,this),this.vfsDir=_e.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(_e.clearOnInit??Ke.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(_e.initialCapacity||Ke.initialCapacity)})}#d(_e,...Pe){this.#c>_e&&St[_e](this.vfsName+":",...Pe)}log(..._e){this.#d(2,..._e)}warn(..._e){this.#d(1,..._e)}error(..._e){this.#d(0,..._e)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const _e=[],Pe=this.#i.keys();for(const ot of Pe)_e.push(ot);return _e}async addCapacity(_e){for(let Pe=0;Pe<_e;++Pe){const ot=Je(),Pt=await (await this.#t.getFileHandle(ot,{create:!0})).createSyncAccessHandle();this.#r.set(Pt,ot),this.setAssociatedPath(Pt,"",0)}return this.getCapacity()}async reduceCapacity(_e){let Pe=0;for(const ot of Array.from(this.#s)){if(Pe===_e||this.getFileCount()===this.getCapacity())break;const pt=this.#r.get(ot);ot.close(),await this.#t.removeEntry(pt),this.#r.delete(ot),this.#s.delete(ot),++Pe}return Pe}releaseAccessHandles(){for(const _e of this.#r.keys())_e.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(_e){const Pe=[];for await(const[ot,pt]of this.#t)pt.kind==="file"&&Pe.push([ot,pt]);return Promise.all(Pe.map(async([ot,pt])=>{try{const Pt=await pt.createSyncAccessHandle();if(this.#r.set(Pt,ot),_e)Pt.truncate(be),this.setAssociatedPath(Pt,"",0);else{const Zt=this.getAssociatedPath(Pt);Zt?this.#i.set(Zt,Pt):this.#s.add(Pt)}}catch(Pt){throw this.storeErr(Pt),this.releaseAccessHandles(),Pt}}))}getAssociatedPath(_e){_e.read(this.#a,{at:0});const Pe=this.#u.getUint32(Re);if(this.#a[0]&&(Pe&M.SQLITE_OPEN_DELETEONCLOSE||!(Pe&Ie)))return J(`Removing file with unexpected flags ${Pe.toString(16)}`,this.#a),this.setAssociatedPath(_e,"",0),"";const ot=new Uint32Array(mt/4);_e.read(ot,{at:et});const pt=this.computeDigest(this.#a);if(ot.every((Pt,Zt)=>Pt===pt[Zt])){const Pt=this.#a.findIndex(Zt=>Zt===0);return Pt===0&&_e.truncate(be),Pt?Ge.decode(this.#a.subarray(0,Pt)):""}else return J("Disassociating file with bad digest."),this.setAssociatedPath(_e,"",0),""}setAssociatedPath(_e,Pe,ot){const pt=Oe.encodeInto(Pe,this.#a);tt<=pt.written+1&&S("Path too long:",Pe),this.#a.fill(0,pt.written,tt),this.#u.setUint32(Re,ot);const Pt=this.computeDigest(this.#a);_e.write(this.#a,{at:0}),_e.write(Pt,{at:et}),_e.flush(),Pe?(this.#i.set(Pe,_e),this.#s.delete(_e)):(_e.truncate(be),this.#s.add(_e))}computeDigest(_e){let Pe=0xdeadbeef,ot=0x41c6ce57;for(const pt of _e)Pe=31*Pe+pt*307,ot=31*ot+pt*307;return new Uint32Array([Pe>>>0,ot>>>0])}async reset(_e){await this.isReady;let Pe=await navigator.storage.getDirectory(),ot;for(const pt of this.vfsDir.split("/"))pt&&(ot=Pe,Pe=await Pe.getDirectoryHandle(pt,{create:!0}));return this.#e=Pe,this.#n=ot,this.#t=await this.#e.getDirectoryHandle(Te,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(_e)}getPath(_e){return me.isPtr(_e)&&(_e=me.cstrToJs(_e)),(_e instanceof URL?_e:new URL(_e,"file://localhost/")).pathname}deletePath(_e){const Pe=this.#i.get(_e);return Pe&&(this.#i.delete(_e),this.setAssociatedPath(Pe,"",0)),!!Pe}storeErr(_e,Pe){return _e&&(_e.sqlite3Rc=Pe||M.SQLITE_IOERR,this.error(_e)),this.$error=_e,Pe}popErr(){const _e=this.$error;return this.$error=void 0,_e}nextAvailableSAH(){const[_e]=this.#s.keys();return _e}getOFileForS3File(_e){return this.#o.get(_e)}mapS3FileToOFile(_e,Pe){Pe?(this.#o.set(_e,Pe),H(_e,this)):(this.#o.delete(_e),H(_e,!1))}hasFilename(_e){return this.#i.has(_e)}getSAHForPath(_e){return this.#i.get(_e)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;M.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete C[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(Te,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(_e){y.config.error(this.vfsName,"removeVfs() failed:",_e)}return!0}exportFile(_e){const Pe=this.#i.get(_e)||S("File not found:",_e),ot=Pe.getSize()-be,pt=new Uint8Array(ot>0?ot:0);if(ot>0){const Pt=Pe.read(pt,{at:be});Pt!=ot&&S("Expected to read "+ot+" bytes but read "+Pt+".")}return pt}async importDbChunked(_e,Pe){const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to.");ot.truncate(0);let pt=0,Pt,Zt=!1;try{for(;(Pt=await Pe())!==void 0;)Pt instanceof ArrayBuffer&&(Pt=new Uint8Array(Pt)),pt===0&&Pt.byteLength>=15&&(fe.affirmDbHeader(Pt),Zt=!0),ot.write(Pt,{at:be+pt}),pt+=Pt.byteLength;if((pt<512||pt%512!==0)&&S("Input size",pt,"is not correct for an SQLite database."),!Zt){const Ae=new Uint8Array(20);ot.read(Ae,{at:0}),fe.affirmDbHeader(Ae)}ot.write(new Uint8Array([1,1]),{at:be+18})}catch(Ae){throw this.setAssociatedPath(ot,"",0),Ae}return this.setAssociatedPath(ot,_e,M.SQLITE_OPEN_MAIN_DB),pt}importDb(_e,Pe){if(Pe instanceof ArrayBuffer)Pe=new Uint8Array(Pe);else if(Pe instanceof Function)return this.importDbChunked(_e,Pe);const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to."),pt=Pe.byteLength;(pt<512||pt%512!=0)&&S("Byte array size is invalid for an SQLite db.");const Pt="SQLite format 3";for(let Ae=0;Ae<Pt.length;++Ae)Pt.charCodeAt(Ae)!==Pe[Ae]&&S("Input does not contain an SQLite database header.");const Zt=ot.write(Pe,{at:be});return Zt!=pt?(this.setAssociatedPath(ot,"",0),S("Expected to write "+pt+" bytes but wrote "+Zt+".")):(ot.write(new Uint8Array([1,1]),{at:be+18}),this.setAssociatedPath(ot,_e,M.SQLITE_OPEN_MAIN_DB)),Zt}}class Bt{#e;constructor(_e){this.#e=_e,this.vfsName=_e.vfsName}async addCapacity(_e){return this.#e.addCapacity(_e)}async reduceCapacity(_e){return this.#e.reduceCapacity(_e)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(_e){const Pe=this.#e.getCapacity();return Pe<_e?this.#e.addCapacity(_e-Pe):Pe}exportFile(_e){return this.#e.exportFile(_e)}importDb(_e,Pe){return this.#e.importDb(_e,Pe)}async wipeFiles(){return this.#e.reset(!0)}unlink(_e){return this.#e.deletePath(_e)}async removeVfs(){return this.#e.removeVfs()}}const Gt=async()=>{const lt=await navigator.storage.getDirectory(),_e=".opfs-sahpool-sync-check-"+Je(),pt=(await (await lt.getFileHandle(_e,{create:!0})).createSyncAccessHandle()).close();return await pt,await lt.removeEntry(_e),pt?.then&&S("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};y.installOpfsSAHPoolVfs=async function(lt=Object.create(null)){lt=Object.assign(Object.create(null),Ke,lt||{});const _e=lt.name;if(lt.$testThrowPhase1)throw lt.$testThrowPhase1;if(C[_e])try{return await C[_e]}catch(Pe){if(lt.forceReinitIfPreviouslyFailed)delete C[_e];else throw Pe}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?C[_e]=Promise.reject(new Error("Missing required OPFS APIs.")):C[_e]=Gt().then(async function(){if(lt.$testThrowPhase2)throw lt.$testThrowPhase2;const Pe=new Ot(lt);return Pe.isReady.then(async()=>{const ot=new Bt(Pe);if(y.oo1){const pt=y.oo1,Pt=Pe.getVfs(),Zt=function(...Ae){const nt=pt.DB.dbCtorHelper.normalizeArgs(...Ae);nt.vfs=Pt.$zName,pt.DB.dbCtorHelper.call(this,nt)};Zt.prototype=Object.create(pt.DB.prototype),ot.OpfsSAHPoolDb=Zt}return Pe.log("VFS initialized."),ot}).catch(async ot=>{throw await Pe.removeVfs().catch(()=>{}),ot})}).catch(Pe=>C[_e]=Promise.reject(Pe))}}),typeof g<"u"){const y=Object.assign(Object.create(null),{exports:typeof he>"u"?g.asm:he,memory:g.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=y;let S;try{S=globalThis.sqlite3ApiBootstrap()}catch(E){throw console.error("sqlite3ApiBootstrap() error:",E),E}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}g.sqlite3=S}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=o,n}})();const mQ=function(){const t=DN;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const s=i.sqlite3;s.scriptInfo=e,n.__isUnderTest&&(s.__isUnderTest=!0);const o=s.asyncPostInit;return delete s.asyncPostInit,o()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();DN=mQ;const gQ=DN;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const p=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=p}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,s=e.debug||r,o=e.generateMessageId?void 0:Object.create(null),l=e.generateMessageId||function(p){return p.type+"#"+(o[p.type]=(o[p.type]||0)+1)},c=(...p)=>{throw new Error(p.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let d,f;return e.worker.onmessage=function(p){p=p.data,s("worker1.onmessage",p);let b=n[p.messageId];if(!b){if(p&&p.type==="sqlite3-api"&&p.result==="worker1-ready"){e.onready&&e.onready(f);return}if(b=n[p.type],b&&b.onrow){b.onrow(p);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",p);return}switch(delete n[p.messageId],p.type){case"error":b.reject(p);return;case"open":d||(d=p.dbId);break;case"close":p.dbId===d&&(d=void 0);break}try{b.resolve(p)}catch(x){b.reject(x)}},f=function(){let p;arguments.length===1?p=arguments[0]:arguments.length===2?(p=Object.create(null),p.type=arguments[0],p.args=arguments[1],p.dbId=p.args.dbId):c("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!p.dbId&&p.type!=="open"&&(p.dbId=d),p.messageId=l(p),p.departureTime=performance.now();const b=Object.create(null);b.message=p;let x;p.type==="exec"&&p.args&&(typeof p.args.callback=="function"?(x=p.messageId+":row",b.onrow=p.args.callback,p.args.callback=x,n[x]=b):typeof p.args.callback=="string"&&c("exec callback may not be a string when using the Promise interface."));let _=new Promise(function(N,I){b.resolve=N,b.reject=I,n[p.messageId]=b,s("Posting",p.type,"message to Worker dbId="+(d||"default")+":",p),e.worker.postMessage(p)});return x&&(_=_.finally(()=>delete n[x])),_}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(s){n.reject(s)}}});const r=new Promise(function(i,s){n.resolve=i,n.reject=s});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function ZO(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function U_(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function zF(t){const e=t.split(/[\\/]/).filter(s=>s!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(s=>`${n}-${s}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let s=await navigator.storage.getDirectory();for(let o of e)s=await s.getDirectoryHandle(o);return s}}}async function oE(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const s=[];let o=!1;for(;!o;){const f=await i.read();f.value&&s.push(f.value),o=f.done}const l=s.reduce((f,p)=>f+p.length,0),c=new Uint8Array(l);let d=0;return s.forEach(f=>{c.set(f,d),d+=f.length}),c}}else return n}class yQ{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:ZO()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:ZO()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:s,verbose:o}=this.config,l=[s===!0?"r":"cw",o===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await gQ()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,l),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,l),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=c=>{this.config.clientKey!==c.data.clientKey&&this.init(c.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(c){this.emitMessage({type:"error",error:c,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const s=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),s.type){case"config":this.editConfig(s);break;case"query":case"batch":case"transaction":this.exec(s);break;case"function":this.createUserFunction(s);break;case"getinfo":this.getDatabaseInfo(s);break;case"import":this.importDb(s);break;case"export":this.exportDb(s);break;case"delete":this.deleteDb(s);break;case"destroy":this.destroy(s);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const s=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{s||await this.transactionMutex.lock();const o=U_(this.db,r);i.data.push(o)}finally{s||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(o=>{for(let l of r.statements){const c=U_(o,l);i.data.push(c)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const o=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:o}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)U_(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,s=this.dbStorageType,o=s!==void 0?s!=="memory"?await navigator.storage?.persisted():!1:void 0,c=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],d=typeof c=="number"?c:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:d,storageType:s,persisted:o}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:s,queryKey:o}=r;let l;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:o});return}s==="callback"?l=(...c)=>{this.emitMessage({type:"callback",name:i,args:c})}:l=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:s,name:i,func:l}),this.emitMessage({type:"success",queryKey:o})}catch(c){this.emitMessage({type:"error",error:c,queryKey:o})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...s)=>r.func(...s),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:s}=r;let o=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const l=await oE(s,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,l)}else{const l=await oE(s,"buffer"),c=this.sqlite3.wasm.allocFromTypedArray(l);this.pointers.push(c);const d=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",c,l.byteLength,l.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(d),this.execInitStatements()}}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const s=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:s},[s])}catch(s){this.emitMessage({type:"error",error:s,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let s=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:o,fileName:l,tempFileNames:c}=zF(this.config.databasePath),d=await o(),f=[l,...c];this.destroy(),await Promise.all(f.map(async p=>d.removeEntry(p).catch(b=>{if(!(b instanceof DOMException&&b.name==="NotFoundError"))throw b})))}else this.destroy()}catch(o){this.emitMessage({type:"error",error:o,queryKey:i}),s=!0}finally{await this.init("delete")}s||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:FN(globalThis);this.proxy=n,this.init("initial")}}function dv(t,...e){return{sql:t.join("?"),params:e}}function vQ(t){return!t.some(e=>!Array.isArray(e))}function V_(t,e){let n;return vQ(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((s,o)=>{i[s]=r[o]}),i})}function bQ(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function xQ(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function wQ(t){if(typeof t=="function"&&(t=t(dv)),bQ(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!xQ(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function H_(){return crypto.randomUUID()}function JO(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=dv(t,...e),n}async function Og(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class _Q{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const l=o instanceof MessageEvent?o.data:o,c=this.queriesInProgress;switch(l.type){case"success":case"data":case"buffer":case"info":case"error":if(l.queryKey&&c.has(l.queryKey)){const[f,p]=c.get(l.queryKey);l.type==="error"?p(l.error):f(l),c.delete(l.queryKey)}else if(l.type==="error")throw l.error;break;case"callback":const d=this.userCallbacks.get(l.name);d&&d(...l.args??[]);break;case"event":this.config.onConnect?.(l.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Og("shared",this.bypassMutationLock||o.type==="import"||o.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const l=H_();switch(o.type){case"import":this.processor.postMessage({...o,queryKey:l},[o.database]);break;default:this.processor.postMessage({...o,queryKey:l});break}return new Promise((c,d)=>{this.queriesInProgress.set(l,[c,d])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l,c="all",d)=>{const f=await this.createQuery({type:"query",transactionKey:d,sql:o,params:l,method:c}),p={rows:[],columns:[]};return f.type==="data"&&(p.rows=f.data[0]?.rows??[],p.columns=f.data[0]?.columns??[]),p}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=await this.createQuery({type:"batch",statements:o}),c=new Array(o.length).fill({rows:[],columns:[]});return l.type==="data"&&l.data.forEach((d,f)=>{c[f]=d}),c}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(o,...l)=>{const c=JO(o,l),{rows:d,columns:f}=await this.exec(c.sql,c.params,"all");return V_(d,f)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=o(dv);return(await this.execBatch(l)).map(({rows:d,columns:f})=>V_(d,f))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=H_();await this.createQuery({type:"transaction",transactionKey:o,action:"begin"});const l=async p=>{const b=wQ(p),{rows:x,columns:_}=await this.exec(b.sql,b.params,"all",o);return V_(x,_)};return{query:l,sql:async(p,...b)=>{const x=JO(p,b);return await l(x)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Og("exclusive",!1,this.config,async()=>{let l;this.bypassMutationLock=!0;try{l=await this.beginTransaction();const c=await o({sql:l.sql,query:l.query});return await l.commit(),c}catch(c){throw await l?.rollback(),c}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await this.createQuery({type:"function",functionName:o,functionType:"callback"}),this.userCallbacks.set(o,l)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{const c=`_sqlocal_func_${o}`;this.proxy===globalThis&&(this.proxy[c]=l),await this.createQuery({type:"function",functionName:o,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[c]=l)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=await this.createQuery({type:"getinfo"});if(o.type==="info")return o.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let o,l;const{storageType:c}=await this.getDatabaseInfo();if(c==="opfs"){const d=zF(this.config.databasePath),{directories:f,getDirectoryHandle:p}=d;o=d.fileName;const b=`backup-${Date.now()}--${o}`,x=`${f.join("/")}/${b}`;await this.exec("VACUUM INTO ?",[x]);const _=await p();l=await (await (await _.getFileHandle(b)).getFile()).arrayBuffer(),await _.removeEntry(b)}else{const d=await this.createQuery({type:"export"});if(d.type==="buffer")o="database.sqlite3",l=d.buffer;else throw new Error("The database failed to export.")}return new File([l],o,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await Og("exclusive",!1,this.config,async()=>{try{const c=await oE(o);await this.createQuery({type:"import",database:c}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{await Og("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof o=="function"&&(this.bypassMutationLock=!0,await o()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...s}=n;this.config=n,this.clientKey=H_(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s.databasePath})`),typeof globalThis.Worker<"u"&&s.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=FN(this.processor)):(this.processor=new yQ(!0),this.processor.onmessage=o=>this.processMessageEvent(o),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...s,clientKey:this.clientKey,onInitStatements:r?.(dv)??[]}})}}class SQ extends _Q{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new w8,createDriver:()=>new EQ(this),createIntrospector:e=>new x8(e),createQueryCompiler:()=>new y8}})}}class EQ{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new NQ(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class NQ{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const kQ=({database:t,bootstrap:e})=>{const{dialect:n}=new SQ({databasePath:`${t}.sqlite3`,onInit(i){return[i`PRAGMA foreign_keys = ON;`]}}),r=new gN({dialect:n});return{kysely:r,async bootstrap(){return e({kysely:r})}}},xi=gn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),IQ="icon-[material-symbols--error-outline]",CQ=gn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),si=({error:t,variant:e,tva:n=CQ,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?m.jsxs("div",{className:i.base(),children:[m.jsx(en,{icon:IQ}),m.jsx("span",{children:Dl.rich(t.message)})]}):null},TQ=gn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-emerald-600","font-bold"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),wn=({label:t,hint:e,required:n=!1,formState:r,name:i,children:s,variant:o,tva:l=TQ,css:c})=>{const d=l({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...o,css:c}).slots;return m.jsxs("div",{className:d.base(),children:[m.jsxs("div",{className:"flex flex-row justify-between",children:[t?m.jsx("label",{htmlFor:i,children:t}):null,m.jsx(si,{variant:{compact:!0},error:r.errors[i]})]}),e?m.jsx("div",{className:"text-sm italic",children:e}):null,m.jsx("div",{className:d.input(),children:s})]})},ps=({form:t,mutation:e})=>{const n=t.handleSubmit(async r=>e.mutateAsync(r,{onError:i=>{bN({error:i,errors:[YE({error:i,schema:vN,onError:({data:s})=>{t.setError("root",{message:s.message})}})],onError:s=>{t.setError("root",{message:s.message})}})}}).catch(()=>{}));return r=>{r.stopPropagation(),n(r)}};function OQ(t,e,n,r={leading:!1}){const[i,s]=K.useState(t),[o,l]=K.useState(t),c=K.useRef(null),d=K.useRef(!0),f=()=>window.clearTimeout(c.current||void 0);K.useEffect(()=>f,[]),K.useEffect(()=>{e(i)},[i]),K.useEffect(()=>{l(t),s(t)},[t]);const p=K.useCallback(b=>{l(b),f(),d.current&&r.leading?s(b):c.current=window.setTimeout(()=>{d.current=!0,s(b)},n),d.current=!1},[r.leading]);return[o,p]}const qQ=gn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),RQ=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=qQ,css:s})=>{const o=i({...r,css:s}).slots,[l,c]=OQ(t,d=>{e(d||"")},500);return m.jsxs("div",{className:o.base(),children:[m.jsx("div",{className:o.search(),children:m.jsx(en,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),m.jsx("input",{value:l||"",className:o.input(),type:"text",placeholder:n||Dl.text("Fulltext (placeholder)"),onChange:d=>{c(d.target.value)}}),t&&m.jsx("div",{className:o.clear(),onClick:()=>{e("")},children:m.jsx(en,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},bh="icon-[pajamas--go-back]",fv="icon-[line-md--confirm-circle]",WF="icon-[mage--edit]",AQ="icon-[arcticons--nothing-x]",jQ="icon-[tabler--filter-plus]",YO="icon-[tabler--filter-minus]",LN="icon-[ph--list-dashes-thin]",PQ="icon-[svg-spinners--3-dots-scale]",MN="icon-[material-symbols-light--logout-sharp]",FQ="icon-[fluent--shape-intersect-20-regular]",gb="icon-[fluent--checkbox-unchecked-20-regular]",yb="icon-[fluent--checkbox-checked-20-regular]",xh="icon-[teenyicons--tag-outline]",oi="icon-[ph--trash]",DQ="icon-[clarity--upload-cloud-line]",$N="icon-[ph--user]",LQ=async({queryClient:t,keys:e})=>{for await(const n of e)await t.invalidateQueries({queryKey:n,refetchType:"all"})},wr=t=>{const e=Av(),n=Oo();return async()=>{await LQ({keys:t,queryClient:e}),await n.invalidate()}};var Q_={exports:{}},K_,XO;function MQ(){if(XO)return K_;XO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K_=t,K_}var G_,eq;function $Q(){if(eq)return G_;eq=1;var t=MQ();function e(){}function n(){}return n.resetWarningCache=e,G_=function(){function r(o,l,c,d,f,p){if(p!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},G_}var tq;function BQ(){return tq||(tq=1,Q_.exports=$Q()()),Q_.exports}var zQ=BQ();const Gn=ro(zQ);function rc(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}const WQ=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Fd(t,e,n){const r=UQ(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&nq(r,"path",s),nq(r,"relativePath",s),r}function UQ(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=WQ.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function nq(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const VQ=[".DS_Store","Thumbs.db"];function HQ(t){return rc(this,void 0,void 0,function*(){return pv(t)&&QQ(t.dataTransfer)?JQ(t.dataTransfer,t.type):KQ(t)?GQ(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?ZQ(t):[]})}function QQ(t){return pv(t)}function KQ(t){return pv(t)&&pv(t.target)}function pv(t){return typeof t=="object"&&t!==null}function GQ(t){return aE(t.target.files).map(e=>Fd(e))}function ZQ(t){return rc(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Fd(n))})}function JQ(t,e){return rc(this,void 0,void 0,function*(){if(t.items){const n=aE(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(YQ));return rq(UF(r))}return rq(aE(t.files).map(n=>Fd(n)))})}function rq(t){return t.filter(e=>VQ.indexOf(e.name)===-1)}function aE(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function YQ(t){if(typeof t.webkitGetAsEntry!="function")return iq(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?VF(e):iq(t,e)}function UF(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?UF(n):[n]],[])}function iq(t,e){return rc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Fd(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Fd(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function XQ(t){return rc(this,void 0,void 0,function*(){return t.isDirectory?VF(t):eK(t)})}function VF(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>rc(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(XQ));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function eK(t){return rc(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Fd(r,t.fullPath);e(i)},r=>{n(r)})})})}var qg={},sq;function tK(){return sq||(sq=1,qg.__esModule=!0,qg.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),qg}var nK=tK();const Z_=ro(nK);function oq(t){return sK(t)||iK(t)||QF(t)||rK()}function rK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sK(t){if(Array.isArray(t))return lE(t)}function aq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aq(Object(n),!0).forEach(function(r){HF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wh(t,e){return lK(t)||aK(t,e)||QF(t,e)||oK()}function oK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QF(t,e){if(t){if(typeof t=="string")return lE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(t,e)}}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function lK(t){if(Array.isArray(t))return t}var uK=typeof Z_=="function"?Z_:Z_.default,KF="file-invalid-type",GF="file-too-large",ZF="file-too-small",JF="too-many-files",cK={FileInvalidType:KF,FileTooLarge:GF,FileTooSmall:ZF,TooManyFiles:JF},dK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:KF,message:"File type must be ".concat(r)}},uq=function(e){return{code:GF,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},cq=function(e){return{code:ZF,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},fK={code:JF,message:"Too many files"};function YF(t,e){var n=t.type==="application/x-moz-file"||uK(t,e);return[n,n?null:dK(e)]}function XF(t,e,n){if(Cu(t.size))if(Cu(e)&&Cu(n)){if(t.size>n)return[!1,uq(n)];if(t.size<e)return[!1,cq(e)]}else{if(Cu(e)&&t.size<e)return[!1,cq(e)];if(Cu(n)&&t.size>n)return[!1,uq(n)]}return[!0,null]}function Cu(t){return t!=null}function pK(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(c){var d=YF(c,n),f=wh(d,1),p=f[0],b=XF(c,r,i),x=wh(b,1),_=x[0],N=l?l(c):null;return p&&_&&!N})}function hv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Rg(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function dq(t){t.preventDefault()}function hK(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function mK(t){return t.indexOf("Edge/")!==-1}function gK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return hK(t)||mK(t)}function Mo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!hv(r)&&l&&l.apply(void 0,[r].concat(s)),hv(r)})}}function yK(){return"showOpenFilePicker"in window}function vK(t){if(Cu(t)){var e=Object.entries(t).filter(function(n){var r=wh(n,2),i=r[0],s=r[1],o=!0;return e2(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(t2))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=wh(r,2),s=i[0],o=i[1];return lq(lq({},n),{},HF({},s,o))},{});return[{description:"Files",accept:e}]}return t}function bK(t){if(Cu(t))return Object.entries(t).reduce(function(e,n){var r=wh(n,2),i=r[0],s=r[1];return[].concat(oq(e),[i],oq(s))},[]).filter(function(e){return e2(e)||t2(e)}).join(",")}function xK(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function wK(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function e2(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function t2(t){return/^.*\.[\w]+$/.test(t)}var _K=["children"],SK=["open"],EK=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],NK=["refKey","onChange","onClick"];function kK(t){return TK(t)||CK(t)||n2(t)||IK()}function IK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TK(t){if(Array.isArray(t))return uE(t)}function J_(t,e){return RK(t)||qK(t,e)||n2(t,e)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n2(t,e){if(t){if(typeof t=="string")return uE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(t,e)}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function RK(t){if(Array.isArray(t))return t}function fq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fq(Object(n),!0).forEach(function(r){cE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mv(t,e){if(t==null)return{};var n=AK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vb=K.forwardRef(function(t,e){var n=t.children,r=mv(t,_K),i=i2(r),s=i.open,o=mv(i,SK);return K.useImperativeHandle(e,function(){return{open:s}},[s]),Pn.createElement(K.Fragment,null,n(br(br({},o),{},{open:s})))});vb.displayName="Dropzone";var r2={disabled:!1,getFilesFromEvent:HQ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};vb.defaultProps=r2;vb.propTypes={children:Gn.func,accept:Gn.objectOf(Gn.arrayOf(Gn.string)),multiple:Gn.bool,preventDropOnDocument:Gn.bool,noClick:Gn.bool,noKeyboard:Gn.bool,noDrag:Gn.bool,noDragEventsBubbling:Gn.bool,minSize:Gn.number,maxSize:Gn.number,maxFiles:Gn.number,disabled:Gn.bool,getFilesFromEvent:Gn.func,onFileDialogCancel:Gn.func,onFileDialogOpen:Gn.func,useFsAccessApi:Gn.bool,autoFocus:Gn.bool,onDragEnter:Gn.func,onDragLeave:Gn.func,onDragOver:Gn.func,onDrop:Gn.func,onDropAccepted:Gn.func,onDropRejected:Gn.func,onError:Gn.func,validator:Gn.func};var dE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function i2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=br(br({},r2),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,p=e.onDragOver,b=e.onDrop,x=e.onDropAccepted,_=e.onDropRejected,N=e.onFileDialogCancel,I=e.onFileDialogOpen,O=e.useFsAccessApi,T=e.autoFocus,q=e.preventDropOnDocument,j=e.noClick,D=e.noKeyboard,L=e.noDrag,z=e.noDragEventsBubbling,P=e.onError,R=e.validator,B=K.useMemo(function(){return bK(n)},[n]),F=K.useMemo(function(){return vK(n)},[n]),W=K.useMemo(function(){return typeof I=="function"?I:pq},[I]),U=K.useMemo(function(){return typeof N=="function"?N:pq},[N]),$=K.useRef(null),ee=K.useRef(null),Z=K.useReducer(jK,dE),le=J_(Z,2),ie=le[0],te=le[1],se=ie.isFocused,Y=ie.isFileDialogActive,ce=K.useRef(typeof window<"u"&&window.isSecureContext&&O&&yK()),de=function(){!ce.current&&Y&&setTimeout(function(){if(ee.current){var ct=ee.current.files;ct.length||(te({type:"closeDialog"}),U())}},300)};K.useEffect(function(){return window.addEventListener("focus",de,!1),function(){window.removeEventListener("focus",de,!1)}},[ee,Y,U,ce]);var ye=K.useRef([]),we=function(ct){$.current&&$.current.contains(ct.target)||(ct.preventDefault(),ye.current=[])};K.useEffect(function(){return q&&(document.addEventListener("dragover",dq,!1),document.addEventListener("drop",we,!1)),function(){q&&(document.removeEventListener("dragover",dq),document.removeEventListener("drop",we))}},[$,q]),K.useEffect(function(){return!r&&T&&$.current&&$.current.focus(),function(){}},[$,T,r]);var Ne=K.useCallback(function(Me){P?P(Me):console.error(Me)},[P]),ze=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[].concat(kK(ye.current),[Me.target]),Rg(Me)&&Promise.resolve(i(Me)).then(function(ct){if(!(hv(Me)&&!z)){var Ht=ct.length,Qt=Ht>0&&pK({files:ct,accept:B,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:R}),dn=Ht>0&&!Qt;te({isDragAccept:Qt,isDragReject:dn,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Me)}}).catch(function(ct){return Ne(ct)})},[i,d,Ne,z,B,o,s,l,c,R]),qe=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ct=Rg(Me);if(ct&&Me.dataTransfer)try{Me.dataTransfer.dropEffect="copy"}catch{}return ct&&p&&p(Me),!1},[p,z]),De=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ct=ye.current.filter(function(Qt){return $.current&&$.current.contains(Qt)}),Ht=ct.indexOf(Me.target);Ht!==-1&&ct.splice(Ht,1),ye.current=ct,!(ct.length>0)&&(te({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Rg(Me)&&f&&f(Me))},[$,f,z]),Ze=K.useCallback(function(Me,ct){var Ht=[],Qt=[];Me.forEach(function(dn){var rr=YF(dn,B),Rn=J_(rr,2),jr=Rn[0],Si=Rn[1],mr=XF(dn,o,s),Kt=J_(mr,2),Ui=Kt[0],Vi=Kt[1],Hi=R?R(dn):null;if(jr&&Ui&&!Hi)Ht.push(dn);else{var so=[Si,Vi];Hi&&(so=so.concat(Hi)),Qt.push({file:dn,errors:so.filter(function(ia){return ia})})}}),(!l&&Ht.length>1||l&&c>=1&&Ht.length>c)&&(Ht.forEach(function(dn){Qt.push({file:dn,errors:[fK]})}),Ht.splice(0)),te({acceptedFiles:Ht,fileRejections:Qt,isDragReject:Qt.length>0,type:"setFiles"}),b&&b(Ht,Qt,ct),Qt.length>0&&_&&_(Qt,ct),Ht.length>0&&x&&x(Ht,ct)},[te,l,B,o,s,c,b,x,_,R]),Xe=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[],Rg(Me)&&Promise.resolve(i(Me)).then(function(ct){hv(Me)&&!z||Ze(ct,Me)}).catch(function(ct){return Ne(ct)}),te({type:"reset"})},[i,Ze,Ne,z]),Ue=K.useCallback(function(){if(ce.current){te({type:"openDialog"}),W();var Me={multiple:l,types:F};window.showOpenFilePicker(Me).then(function(ct){return i(ct)}).then(function(ct){Ze(ct,null),te({type:"closeDialog"})}).catch(function(ct){xK(ct)?(U(ct),te({type:"closeDialog"})):wK(ct)?(ce.current=!1,ee.current?(ee.current.value=null,ee.current.click()):Ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ne(ct)});return}ee.current&&(te({type:"openDialog"}),W(),ee.current.value=null,ee.current.click())},[te,W,U,O,Ze,Ne,F,l]),ut=K.useCallback(function(Me){!$.current||!$.current.isEqualNode(Me.target)||(Me.key===" "||Me.key==="Enter"||Me.keyCode===32||Me.keyCode===13)&&(Me.preventDefault(),Ue())},[$,Ue]),_t=K.useCallback(function(){te({type:"focus"})},[]),Tt=K.useCallback(function(){te({type:"blur"})},[]),Wt=K.useCallback(function(){j||(gK()?setTimeout(Ue,0):Ue())},[j,Ue]),Xt=function(ct){return r?null:ct},xe=function(ct){return D?null:Xt(ct)},ve=function(ct){return L?null:Xt(ct)},ke=function(ct){z&&ct.stopPropagation()},je=K.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=Me.refKey,Ht=ct===void 0?"ref":ct,Qt=Me.role,dn=Me.onKeyDown,rr=Me.onFocus,Rn=Me.onBlur,jr=Me.onClick,Si=Me.onDragEnter,mr=Me.onDragOver,Kt=Me.onDragLeave,Ui=Me.onDrop,Vi=mv(Me,EK);return br(br(cE({onKeyDown:xe(Mo(dn,ut)),onFocus:xe(Mo(rr,_t)),onBlur:xe(Mo(Rn,Tt)),onClick:Xt(Mo(jr,Wt)),onDragEnter:ve(Mo(Si,ze)),onDragOver:ve(Mo(mr,qe)),onDragLeave:ve(Mo(Kt,De)),onDrop:ve(Mo(Ui,Xe)),role:typeof Qt=="string"&&Qt!==""?Qt:"presentation"},Ht,$),!r&&!D?{tabIndex:0}:{}),Vi)}},[$,ut,_t,Tt,Wt,ze,qe,De,Xe,D,L,r]),Ve=K.useCallback(function(Me){Me.stopPropagation()},[]),rt=K.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=Me.refKey,Ht=ct===void 0?"ref":ct,Qt=Me.onChange,dn=Me.onClick,rr=mv(Me,NK),Rn=cE({accept:B,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Xt(Mo(Qt,Xe)),onClick:Xt(Mo(dn,Ve)),tabIndex:-1},Ht,ee);return br(br({},Rn),rr)}},[ee,n,l,Xe,r]);return br(br({},ie),{},{isFocused:se&&!r,getRootProps:je,getInputProps:rt,rootRef:$,inputRef:ee,open:Xt(Ue)})}function jK(t,e){switch(e.type){case"focus":return br(br({},t),{},{isFocused:!0});case"blur":return br(br({},t),{},{isFocused:!1});case"openDialog":return br(br({},dE),{},{isFileDialogActive:!0});case"closeDialog":return br(br({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return br(br({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return br(br({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return br({},dE);default:return t}}function pq(){}const PK=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:cK,default:vb,useDropzone:i2},Symbol.toStringTag,{value:"Module"})),FK=gn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:DK}=PK,LK=({id:t,accept:e,text:n,variant:r,tva:i=FK,css:s,...o})=>{const{getRootProps:l,getInputProps:c,isDragActive:d,isDragReject:f}=DK({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...o}),p=i({active:d,rejected:f,...r,css:s}).slots;return m.jsx("div",{...l(),className:p.base(),children:m.jsxs("label",{htmlFor:t,className:p.label(),children:[m.jsxs("div",{className:p.zone(),children:[m.jsx(en,{icon:DQ,variant:{size:"4xl"}}),m.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||Dl.rich("Drag 'n' drop a file here")}),n?.message?m.jsx("p",{className:"text-xs",children:n.message}):null]}),m.jsx("input",{id:t,type:"file",className:"hidden",...c()})]})})},MK=gn({slot:{base:["min-h-screen","flex","flex-col"],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["flex-grow","h-full","border-b","border-b-slate-200","p-2"]},variant:{},defaults:{}}),s2=({logo:t,menu:e,actions:n,variant:r,tva:i=MK,css:s,children:o})=>{const l=i({...r,css:s}).slots;return m.jsxs("div",{className:l.base(),children:[m.jsx(jB,{position:"top-right"}),m.jsxs("div",{className:l.header(),children:[m.jsx("div",{children:t}),m.jsx("div",{className:"flex-grow",children:e}),m.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),m.jsx("div",{className:l.content(),children:o??m.jsx($a,{})})]})},$K=gn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),BK=K.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=$K,css:i,children:s,...o},l)=>{const c=r({...n,css:i}).slots;return m.jsxs("a",{...o,ref:l,className:c.base(),children:[t&&m.jsx(en,{icon:t,...e}),s]})}),zK=dA(BK),Fn=t=>m.jsx(zK,{preload:"intent",...t}),WK=gn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),UK=({show:t=!0,variant:e,tva:n=WK,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?m.jsx("div",{className:i.base(),children:m.jsx(en,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var py={exports:{}},VK=py.exports,hq;function HK(){return hq||(hq=1,function(t,e){(function(n,r){t.exports=r()})(VK,()=>(()=>{var n={d:(_,N)=>{for(var I in N)n.o(N,I)&&!n.o(_,I)&&Object.defineProperty(_,I,{enumerable:!0,get:N[I]})},o:(_,N)=>Object.prototype.hasOwnProperty.call(_,N)},r={};n.d(r,{default:()=>x});const i=(..._)=>{},s=_=>_!==null&&_?.constructor.name==="Object";let o,l;const c=()=>{if(!o){o=!0;try{l=p.storage||localStorage,l.getItem("")}catch{l=(()=>{const _={getItem:I=>N[I]||null,setItem:(I,O)=>{N[I]=O},removeItem:I=>{N[I]=void 0},clear:()=>{N={__proto__:_}}};let N={__proto__:_};return N})()}b()}},d="\0",f=(_,N,I=!0)=>I?[...JSON.stringify(_)].map(O=>String.fromCharCode(O.charCodeAt(0)+N)).join(""):JSON.parse([..._].map(O=>String.fromCharCode(O.charCodeAt(0)-N)).join("")),p={ttl:null,encrypt:!1,encrypter:f,decrypter:(_,N)=>f(_,N,!1),secret:75,storage:void 0};Object.seal(p);const b=(_=!1)=>{c();for(const N of Object.keys(l)){const I=l.getItem(N);let O;try{O=JSON.parse(I||"")}catch{continue}s(O)&&d in O&&(Date.now()>O.ttl||_)&&l.removeItem(N)}},x={config:p,set:(_,N,I={})=>{c();const O={...p,...I,encrypt:I.encrypt!==!1&&(I.encrypt||p.encrypt),ttl:I.ttl===null?null:I.ttl||p.ttl};try{const T=O.ttl&&!isNaN(O.ttl)&&O.ttl>0;let q=T?{[d]:N,ttl:Date.now()+1e3*O.ttl}:N;O.encrypt&&(T?q[d]=(O.encrypter||i)(q[d],O.secret):q=(O.encrypter||i)(q,O.secret)),l.setItem(_,JSON.stringify(q))}catch{return!1}},get:(_,N={})=>{c();const I=l.getItem(_),O={...p,...N,encrypt:N.encrypt!==!1&&(N.encrypt||p.encrypt),ttl:N.ttl===null?null:N.ttl||p.ttl};let T,q;try{T=JSON.parse(I||""),q=s(T)&&d in T,(O.decrypt||O.encrypt)&&(q?T[d]=(O.decrypter||i)(T[d],O.secret):T=(O.decrypter||i)(T,O.secret))}catch{}return q?Date.now()>T.ttl?(l.removeItem(_),null):T[d]:T!==void 0?T:I},flush:b,clear:()=>{c(),l.clear()},remove:_=>{c(),l.removeItem(_)}};return r.default})())}(py)),py.exports}var QK=HK();const KK=ro(QK),nm=KK,GK=gn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),sf=({variant:t,tva:e=GK,css:n,children:r})=>{const i=e({...t,css:n}).slots;return m.jsx("div",{className:i.base(),children:r})},o2=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),ZK=K.forwardRef(({icon:t=null,variant:e,tva:n=o2,css:r,children:i,...s},o)=>{const l=n({...e,css:r}).slots;return m.jsxs("a",{...s,className:l.base(),ref:o,children:[Yv(t)?m.jsx(en,{icon:t}):t,i]})}),JK=dA(ZK),kr=({match:t=[],variant:e,tva:n=o2,css:r,...i})=>{const s=F4(),o=t.some(l=>!!s(l));return m.jsx(JK,{preload:"intent",variant:{active:!!s({to:i.to,params:i.params})||o,...e},tva:n,css:r,...i})},YK=gn({slot:{base:["flex","flex-row","flex-wrap","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),_h=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:s,tva:o=YK,css:l})=>{const c=i?n.slice(0,i):n,d=o({...s,css:l}).slots;return m.jsxs("div",{className:d.base(),children:[n.length?null:e,c.map(f=>m.jsx(r,{entity:f},`items-${f.id}`)),i&&n.length>i&&m.jsx(rf,{textTitle:t,target:m.jsx(tm,{iconEnabled:AF}),outside:!0,children:m.jsx("div",{className:"flex flex-col gap-2",children:n.map(f=>m.jsx(r,{entity:f},`items-${f.id}`))})})]})},XK=gn({slot:{base:[]},variant:{},defaults:{}}),ae=({label:t,fallback:e,variant:n,tva:r=XK,css:i})=>{const s=r({...n,css:i}).slots;return m.jsx("div",{className:s.base(),children:Dl.rich(t,e)})},a2=gn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),eG=gn({use:a2,slot:{},variant:{},defaults:{}}),tG=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:c,value:d,onChange:f,variant:p,tva:b=eG,css:x})=>{const _=b({...p,css:x}).slots,[N,I]=K.useState(0),[O,T]=K.useState(15),[q,j]=K.useState(d||[]),[D,L]=K.useState(void 0),z=Hp({queryKey:[l,"PopupMultiSelect","data",{fulltext:D,page:N,size:O}],async queryFn(){return c({filter:{fulltext:D},cursor:{page:N,size:O}})}}),P=Hp({queryKey:[l,"PopupMultiSelect","selected",{value:d}],async queryFn(){return c({filter:{idIn:d}})},enabled:!!d});return m.jsx(rf,{icon:t,target:m.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data.length}),children:[m.jsx(en,{icon:P.data?.data?.length?yb:gb}),P.data&&P.data.data.length?m.jsx(s,{entities:P.data.data}):n||m.jsx(ae,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:m.jsxs("div",{className:_.base(),children:[m.jsx("div",{className:_.content(),children:m.jsx(i,{cursor:{cursor:{page:N,size:O},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:m.jsx(ae,{label:"Total count of items (label)"}),onPage(R){I(R)},onSize(R){T(R),I(0)}},fulltext:{value:D,set(R){L(R),I(0)}},table:{data:z.data?.data??[],selection:{type:"multi",value:q,set(R){j(R)}}}})}),m.jsx(mb.Consumer,{children:R=>m.jsxs("div",{className:_.footer(),children:[m.jsx(Nn,{iconEnabled:bh,iconDisabled:bh,onClick:()=>{R?.close()},variant:{variant:"subtle"},children:m.jsx(ae,{label:"Close (label)"})}),m.jsx(Nn,{iconEnabled:fv,iconDisabled:fv,disabled:!q.length&&!o,onClick:()=>{f(q),R?.close()},children:m.jsx(ae,{label:"Confirm selection (label)"})})]})})]})})},l2=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:c,value:d,onChange:f,variant:p,tva:b=a2,css:x})=>{const _=b({...p,css:x}).slots,[N,I]=K.useState(0),[O,T]=K.useState(15),[q,j]=K.useState(d?[d]:[]),[D,L]=K.useState(void 0),z=Hp({queryKey:[l,"PopupSelect","data",{fulltext:D,page:N,size:O}],async queryFn(){return c({filter:{fulltext:D},cursor:{page:N,size:O}})}}),P=Hp({queryKey:[l,"PopupSelect","selected",{value:d}],async queryFn(){return c({filter:{id:d||void 0}})},enabled:!!d});return m.jsx(rf,{icon:t,target:m.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data?.length}),children:[m.jsx(en,{icon:P.data?.data?.[0]?yb:gb}),P.data?.data?.[0]?m.jsx(s,{entity:P.data?.data?.[0]}):n||m.jsx(ae,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:m.jsxs("div",{className:_.base(),children:[m.jsx("div",{className:_.content(),children:m.jsx(i,{cursor:{cursor:{page:N,size:O},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:m.jsx(ae,{label:"Total count of items (label)"}),onPage(R){I(R)},onSize(R){T(R),I(0)}},fulltext:{value:D,set(R){L(R),I(0)}},table:{data:z.data?.data??[],selection:{type:"single",value:q,set(R){j(R)}}}})}),m.jsx(mb.Consumer,{children:R=>m.jsxs("div",{className:_.footer(),children:[m.jsx(Nn,{iconEnabled:bh,iconDisabled:bh,onClick:()=>{R?.close()},variant:{variant:"subtle"},children:m.jsx(ae,{label:"Close (label)"})}),m.jsx(Nn,{iconEnabled:fv,iconDisabled:fv,disabled:!q.length&&!o,onClick:()=>{f(q?.[0]),R?.close()},children:m.jsx(ae,{label:"Confirm selection (label)"})})]})})]})})},nG=gn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),bb=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:s,tva:o=nG,css:l})=>{const c=o({...s,css:l}).slots;return m.jsx(PN.Provider,{value:{inline:!0},children:m.jsx("div",{className:c.base(),children:m.jsxs("div",{className:c.container(),children:[m.jsx("div",{className:c.title(),children:m.jsx(e,{entity:t})}),m.jsx("div",{className:c.links(),children:m.jsx(n,{entity:t})}),m.jsx("div",{className:c.actions(),children:m.jsx(r,{entity:t})}),m.jsx("div",{className:c.extra(),children:m.jsx(i,{entity:t})})]})})})},rG=gn({slot:{base:["w-full","bg-slate-200","rounded","transition-all"],progress:["h-full","bg-blue-400","rounded","leading-none","transition-all"]},variant:{size:{xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-4"}},defaults:{size:"md"}}),of=({value:t,variant:e,tva:n=rG,css:r})=>{const i=n({...e,css:r}).slots;return m.jsx("div",{className:i.base(),children:m.jsx("div",{style:{width:`${t}%`},className:i.progress()})})},iG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},sG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},Di=t=>({onPage:iG(t),onSize:sG(t)}),Li=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),Mi=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},hs=t=>e=>{t({search(n){return{...n,selection:e}}})},_r=t=>({loading:m.jsx(ae,{label:`${t} - Loading (label)`}),success:m.jsx(ae,{label:`${t} - Success (label)`}),error:m.jsx(ae,{label:`${t} - Error (label)`})}),oG=gn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),ms=({textContent:t,textToast:e,callback:n,onCancel:r,invalidator:i,variant:s,tva:o=oG,css:l})=>{const c=o({...s,css:l}).slots,d=K.useContext(mb),f=un({async mutationFn(){return PB.promise(n(),_r(e))},async onSuccess(){await i?.(),d?.close()}});return m.jsxs("div",{className:c.base(),children:[m.jsx("div",{className:c.content(),children:t}),m.jsxs("div",{className:c.footer(),children:[m.jsx(Nn,{variant:{variant:"subtle",size:"sm"},iconEnabled:bh,onClick:()=>{d?.close(),r?.()},children:m.jsx(ae,{label:"Cancel (button)"})}),m.jsx(Nn,{variant:{variant:"danger",size:"md"},iconEnabled:oi,onClick:()=>{f.mutate()},children:m.jsx(ae,{label:"Delete (button)"})})]})]})},aG=async({select:t,query:e=()=>t,filter:n,where:r})=>({total:(await t.clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,filter:(await e({select:e({select:t,where:r}),where:n}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,where:(await e({select:t,where:r}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count}),xb=async({select:t,query:e=()=>t,output:n,filter:r,where:i})=>n.parse(await e({select:e({select:t,where:i}),where:r}).executeTakeFirstOrThrow()),BN=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>{const o=l=>{let c=l;return s&&(c=l.limit(s.size).offset(s.page*s.size)),c};return X.array(n).parse(await o(e({select:e({select:t,where:i}),where:r})).execute())},Zr=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>({data:await BN({select:t,output:n,where:i,filter:r,query:e,cursor:s}),count:await aG({select:t,where:i,filter:r,query:e})}),ai=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:s=>"schema"in t?t.schema.parse(s):t.parse(s)}},Ag=(t,e)=>X.custom().pipe(t.catch(e)),$i=({filter:t},{size:e=30}={size:30})=>X.object({filter:Ag(t.optional(),void 0),cursor:Ag(OH,{page:0,size:e}).default({page:0,size:e}),sort:Ag(X.any().optional(),[]).default([]),selection:Ag(X.array(X.string()),[]).default([])}),lG=gn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),u2=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:s=lG,css:o,children:l})=>{const c=s({...i,css:o}).slots;return m.jsxs("div",{className:c.base(),children:[n?m.jsx(en,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,m.jsx("div",{className:c.title(),children:t}),m.jsx("div",{className:c.message(),children:e}),m.jsx("div",{className:c.body(),children:l})]})},zN=gn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),uG=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:s=zN,css:o})=>{const l=e.def.render,c=s({...i,css:o}).slots;return m.jsx("td",{className:c.td(),children:m.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[m.jsx(l,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?m.jsx(en,{icon:jQ,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},cG=({table:t,row:e,action:n,variant:r,tva:i=zN,css:s})=>{const o=i({...r,css:s}).slots,l=n?.table,c=n?.row;return m.jsxs("tr",{className:o.tr({selected:t.selection.isSelected(e)}),children:[l||c||t.selection.enabled?m.jsx("td",{className:"w-0",children:m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?m.jsx(en,{icon:t.selection.isSelected(e)?yb:gb,css:{base:o.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,c?m.jsx(c,{table:t,data:e.data}):null]})}):null,e.cells.map(d=>m.jsx(uG,{table:t,cell:d,variant:r,tva:i,css:s},`${e.id}-${d.column.id}`)),m.jsx("td",{})]})},Bi=({table:t,fulltext:e,cursor:n,empty:r=()=>m.jsx(u2,{icon:AQ,textTitle:m.jsx(ae,{label:"Nothing here"}),textMessage:m.jsx(ae,{label:"There is nothing to see right now."})}),action:i,variant:s,tva:o=zN,css:l})=>{const c=o({...s,css:l}).slots,d=i?.table,f=i?.row;return m.jsxs("div",{className:c.base(),children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?m.jsx(RQ,{value:e.value,onFulltext:e.set}):null}),m.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[m.jsx(HO,{...n}),t.filter.is()&&m.jsx(tm,{iconEnabled:YO,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),m.jsx("div",{className:"relative overflow-x-auto",children:m.jsxs("table",{className:c.table(),children:[m.jsx("thead",{className:c.thead(),children:m.jsxs("tr",{children:[d||f||t.selection.enabled?m.jsx("th",{className:"w-0",children:m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?m.jsx(en,{icon:t.selection.isAll()?yb:t.selection.isAny()?FQ:gb,variant:{disabled:t.selection.isSingle},css:{base:c.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,d?m.jsx(d,{table:t}):null]})}):null,t.visible.map(p=>{const b=p.def.header||(()=>null);return m.jsx("th",{className:c.th(),style:p.def.size?{width:`${p.def.size}rem`}:void 0,children:m.jsxs("div",{className:"flex flex-row items-center justify-between",children:[m.jsx(b,{table:t}),m.jsx("div",{className:"flex flex-row items-center gap-2",children:p.filter?.is()&&m.jsx(en,{icon:YO,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{p.filter?.reset()}})})]})},p.id)}),m.jsx("th",{})]})}),t.isEmpty?null:m.jsx("tbody",{className:c.tbody(),children:t.rows?.map(p=>m.jsx(cG,{row:p,table:t,action:i,variant:s,tva:o,css:l},p.id))})]})}),t.isEmpty?m.jsx(r,{}):null,m.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[m.jsx("div",{}),m.jsx(HO,{...n})]})]})},ei=[];for(let t=0;t<256;++t)ei.push((t+256).toString(16).slice(1));function dG(t,e=0){return(ei[t[e+0]]+ei[t[e+1]]+ei[t[e+2]]+ei[t[e+3]]+"-"+ei[t[e+4]]+ei[t[e+5]]+"-"+ei[t[e+6]]+ei[t[e+7]]+"-"+ei[t[e+8]]+ei[t[e+9]]+"-"+ei[t[e+10]]+ei[t[e+11]]+ei[t[e+12]]+ei[t[e+13]]+ei[t[e+14]]+ei[t[e+15]]).toLowerCase()}let Y_;const fG=new Uint8Array(16);function pG(){if(!Y_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Y_=crypto.getRandomValues.bind(crypto)}return Y_(fG)}const hG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mq={randomUUID:hG};function gq(t,e,n){if(mq.randomUUID&&!t)return mq.randomUUID();t=t||{};const r=t.random??t.rng?.()??pG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,dG(r)}const zi=({columns:t,order:e=t.map(c=>c.name),hidden:n=[],visible:r=t.map(c=>c.name),data:i,filter:s,selection:o,context:l})=>{const c={...s?.value||{}},d=yO(c),f=new Set(o?.value),p=t.map(x=>({id:gq(),def:x,filter:x.filter?{is(){return x.filter?d.get(x.filter.path)!==void 0:!1},reset(){x.filter&&d.set(x.filter.path,void 0),s?.set({...c})},shallow(_,N){x.filter&&d.set(_,N),s?.set({...c})},set(_){s?.set({..._})}}:void 0})),b=p.filter(x=>r.includes(x.def.name)&&!n.includes(x.def.name)).sort((x,_)=>{const N=e.indexOf(x.def.name),I=e.indexOf(_.def.name);return(N===-1?1/0:N)-(I===-1?1/0:I)});return{columns:p,visible:b,rows:i?.map(x=>({id:gq(),data:x,cells:b.map(_=>({column:_,data:x,value:yO(x).get(_.def.name)}))})),isEmpty:i.length===0,filter:{is(){return p.some(x=>x.filter?.is())},reset(){s?.set({})},set(x){s?.set({...x})},shallow(x,_){d.set(x,_)}},selection:{enabled:!!o&&i.length>0,selection:Array.from(f),isSingle:o?.type==="single",isMulti:o?.type==="multi",isSelected({data:x}){return f.has(x.id)||!1},isAll(){return i.every(x=>f.has(x.id))},isAny(){return i.some(x=>f.has(x.id))},withRowHandler({data:x}){return()=>{if(o?.type==="single"){const _=f.has(x.id);f.clear(),_?f.delete(x.id):f.add(x.id)}else f.has(x.id)?f.delete(x.id):f.add(x.id);o?.set(Array.from(f))}},withAllHandler(){return()=>{i.every(x=>f.has(x.id))?f.clear():i.forEach(({id:x})=>f.add(x)),o?.set(Array.from(f))}}},context:l}},Wi=()=>t=>t,c2=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((s,o)=>s.sort-o.sort);return m.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(s=>m.jsx(Qo,{onClick:()=>n?.(s),children:e({tag:s})},s.id)):r||m.jsx(ae,{label:"No tags (label)"})})},mG=gn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500","font-bold"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),wb=({icon:t,title:e,subtitle:n,variant:r,tva:i=mG,css:s})=>{const o=i({withSubtitle:!!n,...r,css:s}).slots;return m.jsxs("div",{className:o.base(),children:[m.jsxs("div",{className:o.title(),children:[t?m.jsx(en,{icon:t}):null,e]}),n?m.jsx("div",{className:o.subtitle(),children:n}):null]})};var jg={},yq;function gG(){if(yq)return jg;yq=1;var t=cA();return jg.createRoot=t.createRoot,jg.hydrateRoot=t.hydrateRoot,jg}var yG=gG();const vG=ro(yG),WN=w4()({component:()=>m.jsxs(m.Fragment,{children:[m.jsx(W4,{}),m.jsx($a,{})]})}),bG="modulepreload",xG=function(t){return"/"+t},vq={},bq=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=xG(c),c in vq)return;vq[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":bG,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((b,x)=>{p.addEventListener("load",b),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},wG=Sn("/$locale")({component:$a,loader:async({params:{locale:t}})=>{try{Dl.push((await _G(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function _G(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return bq(()=>import("./cs-A07GeIo6.js"),[]);case"../translation/en":case"../translation/en.yaml":return bq(()=>import("./en-Bc8i8D8l.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const d2="cs",SG=[d2,"en"],EG=Sn("/")({loader:async()=>{throw Pv({to:"/$locale",params:{locale:OV({available:SG,fallback:d2})}})}}),NG=Sn("/$locale/")({component:()=>{const{locale:t}=Bn({from:"/$locale"});return m.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:m.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[m.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),m.jsx("ul",{children:m.jsx("li",{children:m.jsx(Fn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:Ft,bootstrap:kG}=kQ({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)";try{await t.selectFrom("User").select(n=>n.fn.countAll().as("count")).executeTakeFirstOrThrow()}catch{await t.schema.createTable("User").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("login","varchar(128)",r=>r.notNull()).addColumn("password","varchar(256)",r=>r.notNull()).addUniqueConstraint("[User] login",["login"]).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("code","varchar(64)",r=>r.notNull()).addColumn("label","varchar(128)",r=>r.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",r=>r.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Cycle] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("stamp","datetime",r=>r.defaultTo($r`CURRENT_TIMESTAMP`).notNull()).execute(),await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addUniqueConstraint("[Resource] name",["name"]).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("tagId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] tagId",["tagId"],"Tag",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Resource_Tag] resourceId-tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).execute(),await t.schema.createTable("Default_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Default_Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).addUniqueConstraint("[Default_Inventory] resourceId",["resourceId"]).execute(),await t.schema.createTable("User_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[User_Inventory] userId-inventoryId",["userId","inventoryId"]).execute(),await t.schema.createTable("Blueprint").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).addColumn("productionLimit","integer",r=>r.notNull()).addColumn("sort","integer",r=>r.notNull()).addUniqueConstraint("[Blueprint] name",["name"]).execute(),await t.schema.createTable("Blueprint_Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).addColumn("limit","integer",r=>r.notNull()).execute(),await t.schema.createTable("Blueprint_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Requirement] blueprintId-requirementId",["blueprintId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("dependencyId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] dependencyId",["dependencyId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Dependency] blueprintId-dependencyId",["blueprintId","dependencyId"]).execute(),await t.schema.createTable("Blueprint_Conflict").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("conflictId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] conflictId",["conflictId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Conflict] blueprintId-conflictId",["blueprintId","conflictId"]).execute(),await t.schema.createTable("Blueprint_Production_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Requirement] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Production_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-blueprintId",["blueprintProductionId","blueprintId"]).execute(),await t.schema.createTable("Blueprint_Production_Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Production_Queue").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("count","integer",r=>r.notNull().defaultTo(0)).addColumn("limit","integer",r=>r.notNull().defaultTo(0)).addColumn("priority","integer",r=>r.notNull().defaultTo(0)).addColumn("paused","boolean",r=>r.notNull().defaultTo(!1)).addUniqueConstraint("[Production_Queue] userId-blueprintProductionId",["blueprintProductionId","userId"]).execute(),await t.schema.createTable("Construction").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).addUniqueConstraint("[Construction] userId-blueprintId",["userId","blueprintId"]).execute(),await t.schema.createTable("Building").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Building] userId-blueprintId",["userId","blueprintId"]).execute()}}}),IG=Sn("/$locale/apps/derivean")({loader:kG}),f2="icon-[proicons--game]",CG=gn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),p2=({variant:t,tva:e=CG,css:n})=>{const r=e({...t,css:n}).slots;return m.jsx("div",{className:r.base(),children:"DeRivean"})},Jl="icon-[fluent--building-shop-20-regular]",ta="icon-[mingcute--inventory-line]",pr="icon-[hugeicons--resources-add]",TG=t=>{const{locale:e}=Bn({from:"/$locale"});return m.jsxs(sf,{...t,children:[m.jsx(kr,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},children:m.jsx(ae,{label:"Editor (menu)"})}),m.jsx(kr,{icon:Jl,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/blueprint/$id/view"},{to:"/$locale/apps/derivean/root/blueprint/$id/dependencies"},{to:"/$locale/apps/derivean/root/blueprint/$id/production"},{to:"/$locale/apps/derivean/root/blueprint/$id/requirements"},{to:"/$locale/apps/derivean/root/blueprint/$id/edit"},{to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements"}],children:m.jsx(ae,{label:"Blueprint list (menu)"})}),m.jsx(kr,{icon:pr,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:m.jsx(ae,{label:"Resource list (menu)"})}),m.jsx(kr,{icon:ta,to:"/$locale/apps/derivean/root/default/inventory",params:{locale:e},children:m.jsx(ae,{label:"Default inventory (menu)"})}),m.jsx(kr,{icon:$N,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"},{to:"/$locale/apps/derivean/root/user/$id/inventory"}],children:m.jsx(ae,{label:"User list (menu)"})}),m.jsx(kr,{icon:xh,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},children:m.jsx(ae,{label:"Tag list (menu)"})})]})},_b=X.object({id:X.string(),name:X.string(),login:X.string()}),OG=Sn("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return _b.parse(nm.get("session"))}catch{throw Pv({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=Bn({from:"/$locale"}),{session:e}=Ud({from:"/$locale/apps/derivean/root"});return m.jsx(s2,{logo:m.jsx(Fn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:m.jsx(p2,{})}),menu:m.jsx(TG,{}),actions:m.jsxs(m.Fragment,{children:[e.name,m.jsx(Fn,{icon:f2,to:"/$locale/apps/derivean/game",params:{locale:t}}),m.jsx(Fn,{icon:MN,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),gv="icon-[gala--clock]",h2=async({tx:t,userId:e,buildingId:n,blueprintProductionId:r})=>{const i=await t.selectFrom("Blueprint_Production as bp").select(["bp.cycles"]).where("bp.id","=",r).executeTakeFirstOrThrow(),{count:s}=await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow(),o=await t.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",r).execute();for await(const{resourceId:l,amount:c,passive:d}of o){const f=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",c).executeTakeFirstOrThrow();d||await t.updateTable("Inventory").set({amount:f.amount-c}).where("id","=",f.id).execute()}await t.insertInto("Production").values({id:$n(),buildingId:n,blueprintProductionId:r,userId:e,cycle:0,from:s,to:s+i.cycles}).execute()},m2=100,qG=async({tx:t,userId:e})=>new Promise(n=>{setTimeout(async()=>{await t.insertInto("Cycle").values({id:$n(),stamp:an.now().toUTC().toSQLTime(),userId:e}).execute();const r=(await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow()).count,i=await t.selectFrom("Construction as c").select(["c.id","c.cycle","c.to","c.blueprintId"]).where("userId","=",e).execute();for await(const{id:l,blueprintId:c,cycle:d,to:f}of i){if(r>f){await t.insertInto("Building").values({id:$n(),blueprintId:c,userId:e}).execute(),await t.deleteFrom("Construction").where("id","=",l).execute();continue}await t.updateTable("Construction").set("cycle",d+1).where("id","=",l).execute()}const s=await t.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","p.cycle","p.to","bp.resourceId","r.name","bp.amount"]).where("userId","=",e).execute();for await(const{id:l,resourceId:c,cycle:d,to:f,amount:p}of s){if(r>f){const b=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","i.id","ui.inventoryId").select(["i.id","i.amount","i.limit"]).where("ui.userId","=",e).where("i.resourceId","=",c).executeTakeFirst();if(!b||b.limit>0&&b.amount+p>b.limit)continue;await t.updateTable("Inventory").set({amount:b.amount+p}).where("id","=",b.id).execute(),await t.deleteFrom("Production as p").where("p.id","=",l).execute();continue}await t.updateTable("Production").set("cycle",d+1).where("id","=",l).execute()}const o=await t.selectFrom("Production_Queue as pq").innerJoin("Blueprint_Production as bp","bp.id","pq.blueprintProductionId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["pq.id","pq.count","pq.limit","pq.blueprintProductionId","pq.buildingId","bl.productionLimit"]).where("pq.userId","=",e).where("pq.paused","=",!1).orderBy("pq.priority","desc").execute();for await(const{id:l,count:c,limit:d,blueprintProductionId:f,buildingId:p,productionLimit:b}of o)try{const{count:x}=await t.selectFrom("Production as p").where("p.blueprintProductionId","=",f).select(_=>_.fn.count("p.id").as("count")).executeTakeFirstOrThrow();if(x>=b){console.log("Skipping production plan because of production limit");continue}await h2({tx:t,blueprintProductionId:f,buildingId:p,userId:e}),await t.updateTable("Production_Queue").set({count:c+1}).where("id","=",l).execute(),d>0&&c+1>=d&&await t.deleteFrom("Production_Queue").where("id","=",l).execute()}catch{}n(!0)},m2)}),RG=({userId:t,cycle:e,...n})=>{const r=wr([["Cycle"],["Management"],["Resource_Queue"],["Building_Queue"],["Building"],["User_Inventory"],["Inventory"],["Building_Base_Production"]]),i=un({mutationKey:["useCycleMutation"],async mutationFn({userId:s}){return Ft.transaction().execute(async o=>qG({userId:s,tx:o}))},async onSuccess(){await r()}});return m.jsxs(Nn,{iconEnabled:gv,iconDisabled:gv,onClick:()=>{i.mutate({userId:t})},loading:i.isPending,...n,children:[m.jsx(ae,{css:{base:["font-bold"]},label:"New cycle (label)"}),m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx("div",{className:"font-light text-sm",children:qn({number:e})}),m.jsx(en,{icon:"icon-[solar--arrow-right-linear]"}),m.jsx("div",{className:"font-bold",children:qn({number:e+1})})]})]})},to="icon-[fluent-mdl2--production-floor-management]",AG=t=>{const{locale:e}=Bn({from:"/$locale"});return m.jsxs(sf,{...t,children:[m.jsx(kr,{icon:"icon-[et--map]",to:"/$locale/apps/derivean/game/map",params:{locale:e},children:m.jsx(ae,{label:"Map (menu)"})}),m.jsx(kr,{icon:to,to:"/$locale/apps/derivean/game/production/queue",params:{locale:e},children:m.jsx(ae,{label:"Production queue (menu)"})}),m.jsx(kr,{icon:ta,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:m.jsx(ae,{label:"Inventory (menu)"})})]})},jG=Sn("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return _b.parse(nm.get("session"))}catch{throw Pv({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{session:r,inventory:await t.ensureQueryData({queryKey:["User_Inventory"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.limit","i.resourceId"]).where("ui.userId","=",r.id).execute())}}),buildingCounts:await t.ensureQueryData({queryKey:["Building"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.blueprintId","bl.name",s=>s.fn.count("b.id").as("count")]).where("b.userId","=",r.id).groupBy("b.blueprintId").execute())}}),cycle:await t.ensureQueryData({queryKey:["Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component:()=>{const{locale:t}=Bn({from:"/$locale"}),{session:e,cycle:n}=Ud({from:"/$locale/apps/derivean/game"}),r=A$({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(i){return i.state.status}});return m.jsx(s2,{logo:m.jsx(Fn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:m.jsx(p2,{})}),menu:m.jsxs("div",{className:"flex flex-row items-center gap-4",children:[m.jsx(AG,{}),m.jsx(RG,{cycle:n,userId:e.id})]}),actions:m.jsxs(m.Fragment,{children:[e.name,m.jsx(Fn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),m.jsx(Fn,{icon:MN,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:m.jsx($a,{})})}});var hy={exports:{}},PG=hy.exports,xq;function FG(){return xq||(xq=1,function(t,e){(function(n,r){r()})(PG,function(){function n(d,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,f,p){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){c(b.response,f,p)},b.onerror=function(){console.error("could not download file")},b.send()}function i(d){var f=new XMLHttpRequest;f.open("HEAD",d,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Tu=="object"&&Tu.global===Tu?Tu:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,f,p){var b=o.URL||o.webkitURL,x=document.createElement("a");f=f||d.name||"download",x.download=f,x.rel="noopener",typeof d=="string"?(x.href=d,x.origin===location.origin?s(x):i(x.href)?r(d,f,p):s(x,x.target="_blank")):(x.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(d,f,p){if(f=f||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,p),f);else if(i(d))r(d,f,p);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,f,p,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return r(d,f,p);var x=d.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||x&&_||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var q=I.result;q=N?q:q.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=q:location=q,b=null},I.readAsDataURL(d)}else{var O=o.URL||o.webkitURL,T=O.createObjectURL(d);b?b.location=T:location.href=T,b=null,setTimeout(function(){O.revokeObjectURL(T)},4e4)}});o.saveAs=c.saveAs=c,t.exports=c})}(hy)),hy.exports}var DG=FG();const LG=ro(DG),X_=["Tag","Resource","Resource_Tag","Inventory","Blueprint","Blueprint_Dependency","Blueprint_Conflict","Blueprint_Requirement","Blueprint_Production","Blueprint_Production_Requirement","Blueprint_Production_Dependency","Blueprint_Production_Resource","Default_Inventory"],MG=Sn("/$locale/apps/derivean/root/")({component(){const t=un({mutationKey:["export"],async mutationFn(){return En.promise((async()=>{const e=[];await Ft.transaction().execute(async n=>{for await(const r of X_)e.push({source:r,entities:await n.selectFrom(r).selectAll().execute()})}),LG.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"export.json")})(),_r("Export game files"))}});return m.jsxs("div",{className:"flex flex-col gap-4 w-2/3 mx-auto",children:[m.jsx(LK,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text());await $r`PRAGMA foreign_keys = OFF`.execute(Ft),await En.promise(Ft.transaction().execute(async i=>{for await(const{source:s}of r){const o=X_.find(l=>l===s);if(!o)throw new Error(`Unknown source [${s}]`);await i.deleteFrom(o).execute()}for await(const{source:s,entities:o}of r){const l=X_.find(c=>c===s);if(!l)throw new Error(`Unknown source [${s}]`);for await(const c of Object.values(o))await i.insertInto(l).values(c).execute()}}),_r("Import game files")),await $r`PRAGMA foreign_keys = ON`.execute(Ft)}}),m.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:m.jsx(Nn,{iconEnabled:f2,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:m.jsx(ae,{label:"Export game files (label)"})})}),m.jsx("h2",{children:"TODO"}),m.jsxs("ul",{className:"flex flex-col gap-2",children:[m.jsx("li",{children:'Add exclusive to (building "exclusiveToId" cannot be built when target exists); Ok, exclusive to will be m:n.'}),m.jsx("li",{children:'Upgrades: Put everything into the building, drive upgrades by passive "Research" points'}),m.jsx("li",{children:"Bundle default gameplay as exported json (put into public); add button to root to load default/selected gameplay; idea is a few buttons: Settler like, Fantasy, AoE and so on."}),m.jsx("li",{children:"Define game ending rules: amount of resources in (individual resourece per required cycle), required building in a cycle. When a player fail, game end with the ability to reset. Each game rule may have an ending message to show."}),m.jsx("li",{children:"Define winning rules: amount of resources / building built in specific cycle. When rules are not met, it's like a fail."}),m.jsx("li",{children:"Idea: Blueprint should have display list (like present resource in inventory), also production should have display list (like present resource in inventory)."}),m.jsx("li",{children:"Add something like world available resources + the ability to drain and add resources to the world. Something like Wolrd_Inventory where 0 means unlimited resources."}),m.jsx("li",{children:"World renewal resources: a list of resources with cycles and amount when they got renewed (world_renewal_queue)."}),m.jsx("li",{children:"Defines seasons: list of cyclic seasons with their length; resource production may be bound to specific season(s)."}),m.jsx("li",{children:"Add maintenance cost for a building: when a cycle ends, cost is deducted from the inventory. If there is not enough resources, building will be marked as offline (closed for production)."}),m.jsx("li",{children:"Dispaly resources per season (some resources will be available only in specific season)"}),m.jsx("li",{children:"Add resource probability drop: some resources may have not be produces (like a crop). This should be thinked out."}),m.jsx("li",{children:'Production line should have requirements, but also something like "display requirements" required to even show the production line. Same for buildings.'})]})]})}}),$G=Sn("/$locale/apps/derivean/game/")({component:()=>{const{tva:t}=Gr({from:"__root__"}),e=t().slots;return m.jsx("div",{className:e.base(),children:m.jsx("div",{children:"management here"})})}});var e0,wq;function UN(){if(wq)return e0;wq=1;var t="\0",e="\0",n="\x01";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(f){f&&(this._isDirected=Object.hasOwn(f,"directed")?f.directed:!0,this._isMultigraph=Object.hasOwn(f,"multigraph")?f.multigraph:!1,this._isCompound=Object.hasOwn(f,"compound")?f.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(f){return this._label=f,this}graph(){return this._label}setDefaultNodeLabel(f){return this._defaultNodeLabelFn=f,typeof f!="function"&&(this._defaultNodeLabelFn=()=>f),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var f=this;return this.nodes().filter(p=>Object.keys(f._in[p]).length===0)}sinks(){var f=this;return this.nodes().filter(p=>Object.keys(f._out[p]).length===0)}setNodes(f,p){var b=arguments,x=this;return f.forEach(function(_){b.length>1?x.setNode(_,p):x.setNode(_)}),this}setNode(f,p){return Object.hasOwn(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=p),this):(this._nodes[f]=arguments.length>1?p:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=e,this._children[f]={},this._children[e][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)}node(f){return this._nodes[f]}hasNode(f){return Object.hasOwn(this._nodes,f)}removeNode(f){var p=this;if(Object.hasOwn(this._nodes,f)){var b=x=>p.removeEdge(p._edgeObjs[x]);delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],this.children(f).forEach(function(x){p.setParent(x)}),delete this._children[f]),Object.keys(this._in[f]).forEach(b),delete this._in[f],delete this._preds[f],Object.keys(this._out[f]).forEach(b),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this}setParent(f,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(p===void 0)p=e;else{p+="";for(var b=p;b!==void 0;b=this.parent(b))if(b===f)throw new Error("Setting "+p+" as parent of "+f+" would create a cycle");this.setNode(p)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=p,this._children[p][f]=!0,this}_removeFromParentsChildList(f){delete this._children[this._parent[f]][f]}parent(f){if(this._isCompound){var p=this._parent[f];if(p!==e)return p}}children(f=e){if(this._isCompound){var p=this._children[f];if(p)return Object.keys(p)}else{if(f===e)return this.nodes();if(this.hasNode(f))return[]}}predecessors(f){var p=this._preds[f];if(p)return Object.keys(p)}successors(f){var p=this._sucs[f];if(p)return Object.keys(p)}neighbors(f){var p=this.predecessors(f);if(p){const x=new Set(p);for(var b of this.successors(f))x.add(b);return Array.from(x.values())}}isLeaf(f){var p;return this.isDirected()?p=this.successors(f):p=this.neighbors(f),p.length===0}filterNodes(f){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var b=this;Object.entries(this._nodes).forEach(function([N,I]){f(N)&&p.setNode(N,I)}),Object.values(this._edgeObjs).forEach(function(N){p.hasNode(N.v)&&p.hasNode(N.w)&&p.setEdge(N,b.edge(N))});var x={};function _(N){var I=b.parent(N);return I===void 0||p.hasNode(I)?(x[N]=I,I):I in x?x[I]:_(I)}return this._isCompound&&p.nodes().forEach(N=>p.setParent(N,_(N))),p}setDefaultEdgeLabel(f){return this._defaultEdgeLabelFn=f,typeof f!="function"&&(this._defaultEdgeLabelFn=()=>f),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(f,p){var b=this,x=arguments;return f.reduce(function(_,N){return x.length>1?b.setEdge(_,N,p):b.setEdge(_,N),N}),this}setEdge(){var f,p,b,x,_=!1,N=arguments[0];typeof N=="object"&&N!==null&&"v"in N?(f=N.v,p=N.w,b=N.name,arguments.length===2&&(x=arguments[1],_=!0)):(f=N,p=arguments[1],b=arguments[3],arguments.length>2&&(x=arguments[2],_=!0)),f=""+f,p=""+p,b!==void 0&&(b=""+b);var I=o(this._isDirected,f,p,b);if(Object.hasOwn(this._edgeLabels,I))return _&&(this._edgeLabels[I]=x),this;if(b!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(p),this._edgeLabels[I]=_?x:this._defaultEdgeLabelFn(f,p,b);var O=l(this._isDirected,f,p,b);return f=O.v,p=O.w,Object.freeze(O),this._edgeObjs[I]=O,i(this._preds[p],f),i(this._sucs[f],p),this._in[p][I]=O,this._out[f][I]=O,this._edgeCount++,this}edge(f,p,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,p,b);return this._edgeLabels[x]}edgeAsObj(){const f=this.edge(...arguments);return typeof f!="object"?{label:f}:f}hasEdge(f,p,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,p,b);return Object.hasOwn(this._edgeLabels,x)}removeEdge(f,p,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,p,b),_=this._edgeObjs[x];return _&&(f=_.v,p=_.w,delete this._edgeLabels[x],delete this._edgeObjs[x],s(this._preds[p],f),s(this._sucs[f],p),delete this._in[p][x],delete this._out[f][x],this._edgeCount--),this}inEdges(f,p){var b=this._in[f];if(b){var x=Object.values(b);return p?x.filter(_=>_.v===p):x}}outEdges(f,p){var b=this._out[f];if(b){var x=Object.values(b);return p?x.filter(_=>_.w===p):x}}nodeEdges(f,p){var b=this.inEdges(f,p);if(b)return b.concat(this.outEdges(f,p))}}function i(d,f){d[f]?d[f]++:d[f]=1}function s(d,f){--d[f]||delete d[f]}function o(d,f,p,b){var x=""+f,_=""+p;if(!d&&x>_){var N=x;x=_,_=N}return x+n+_+n+(b===void 0?t:b)}function l(d,f,p,b){var x=""+f,_=""+p;if(!d&&x>_){var N=x;x=_,_=N}var I={v:x,w:_};return b&&(I.name=b),I}function c(d,f){return o(d,f.v,f.w,f.name)}return e0=r,e0}var t0,_q;function BG(){return _q||(_q=1,t0="2.2.4"),t0}var n0,Sq;function zG(){return Sq||(Sq=1,n0={Graph:UN(),version:BG()}),n0}var r0,Eq;function WG(){if(Eq)return r0;Eq=1;var t=UN();r0={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var l=s.node(o),c=s.parent(o),d={v:o};return l!==void 0&&(d.value=l),c!==void 0&&(d.parent=c),d})}function r(s){return s.edges().map(function(o){var l=s.edge(o),c={v:o.v,w:o.w};return o.name!==void 0&&(c.name=o.name),l!==void 0&&(c.value=l),c})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),s.edges.forEach(function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return r0}var i0,Nq;function UG(){if(Nq)return i0;Nq=1,i0=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return i0}var s0,kq;function g2(){if(kq)return s0;kq=1;class t{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],l=i[r];i[n]=l,i[r]=o,s[l.key]=n,s[o.key]=r}}return s0=t,s0}var o0,Iq;function y2(){if(Iq)return o0;Iq=1;var t=g2();o0=n;var e=()=>1;function n(i,s,o,l){return r(i,String(s),o||e,l||function(c){return i.outEdges(c)})}function r(i,s,o,l){var c={},d=new t,f,p,b=function(x){var _=x.v!==f?x.v:x.w,N=c[_],I=o(x),O=p.distance+I;if(I<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+I);O<N.distance&&(N.distance=O,N.predecessor=f,d.decrease(_,O))};for(i.nodes().forEach(function(x){var _=x===s?0:Number.POSITIVE_INFINITY;c[x]={distance:_},d.add(x,_)});d.size()>0&&(f=d.removeMin(),p=c[f],p.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(b);return c}return o0}var a0,Cq;function VG(){if(Cq)return a0;Cq=1;var t=y2();a0=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return a0}var l0,Tq;function v2(){if(Tq)return l0;Tq=1,l0=t;function t(e){var n=0,r=[],i={},s=[];function o(l){var c=i[l]={onStack:!0,lowlink:n,index:n++};if(r.push(l),e.successors(l).forEach(function(p){Object.hasOwn(i,p)?i[p].onStack&&(c.lowlink=Math.min(c.lowlink,i[p].index)):(o(p),c.lowlink=Math.min(c.lowlink,i[p].lowlink))}),c.lowlink===c.index){var d=[],f;do f=r.pop(),i[f].onStack=!1,d.push(f);while(l!==f);s.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||o(l)}),s}return l0}var u0,Oq;function HG(){if(Oq)return u0;Oq=1;var t=v2();u0=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return u0}var c0,qq;function QG(){if(qq)return c0;qq=1,c0=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},l=r.nodes();return l.forEach(function(c){o[c]={},o[c][c]={distance:0},l.forEach(function(d){c!==d&&(o[c][d]={distance:Number.POSITIVE_INFINITY})}),s(c).forEach(function(d){var f=d.v===c?d.w:d.v,p=i(d);o[c][f]={distance:p,predecessor:c}})}),l.forEach(function(c){var d=o[c];l.forEach(function(f){var p=o[f];l.forEach(function(b){var x=p[c],_=d[b],N=p[b],I=x.distance+_.distance;I<N.distance&&(N.distance=I,N.predecessor=_.predecessor)})})}),o}return c0}var d0,Rq;function b2(){if(Rq)return d0;Rq=1;function t(n){var r={},i={},s=[];function o(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(r,l)||(i[l]=!0,r[l]=!0,n.predecessors(l).forEach(o),delete i[l],s.push(l))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return d0=t,t.CycleException=e,d0}var f0,Aq;function KG(){if(Aq)return f0;Aq=1;var t=b2();f0=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return f0}var p0,jq;function x2(){if(jq)return p0;jq=1,p0=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var l=i.isDirected()?p=>i.successors(p):p=>i.neighbors(p),c=o==="post"?e:n,d=[],f={};return s.forEach(p=>{if(!i.hasNode(p))throw new Error("Graph does not have node: "+p);c(p,l,f,d)}),d}function e(i,s,o,l){for(var c=[[i,!1]];c.length>0;){var d=c.pop();d[1]?l.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,c.push([d[0],!0]),r(s(d[0]),f=>c.push([f,!1])))}}function n(i,s,o,l){for(var c=[i];c.length>0;){var d=c.pop();Object.hasOwn(o,d)||(o[d]=!0,l.push(d),r(s(d),f=>c.push(f)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return p0}var h0,Pq;function GG(){if(Pq)return h0;Pq=1;var t=x2();h0=e;function e(n,r){return t(n,r,"post")}return h0}var m0,Fq;function ZG(){if(Fq)return m0;Fq=1;var t=x2();m0=e;function e(n,r){return t(n,r,"pre")}return m0}var g0,Dq;function JG(){if(Dq)return g0;Dq=1;var t=UN(),e=g2();g0=n;function n(r,i){var s=new t,o={},l=new e,c;function d(p){var b=p.v===c?p.w:p.v,x=l.priority(b);if(x!==void 0){var _=i(p);_<x&&(o[b]=c,l.decrease(b,_))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(p){l.add(p,Number.POSITIVE_INFINITY),s.setNode(p)}),l.decrease(r.nodes()[0],0);for(var f=!1;l.size()>0;){if(c=l.removeMin(),Object.hasOwn(o,c))s.setEdge(c,o[c]);else{if(f)throw new Error("Input graph is not connected: "+r);f=!0}r.nodeEdges(c).forEach(d)}return s}return g0}var y0,Lq;function YG(){return Lq||(Lq=1,y0={components:UG(),dijkstra:y2(),dijkstraAll:VG(),findCycles:HG(),floydWarshall:QG(),isAcyclic:KG(),postorder:GG(),preorder:ZG(),prim:JG(),tarjan:v2(),topsort:b2()}),y0}var v0,Mq;function To(){if(Mq)return v0;Mq=1;var t=zG();return v0={Graph:t.Graph,json:WG(),alg:YG(),version:t.version},v0}var b0,$q;function XG(){if($q)return b0;$q=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return b0=t,b0}var x0,Bq;function eZ(){if(Bq)return x0;Bq=1;let t=To().Graph,e=XG();x0=r;let n=()=>1;function r(d,f){if(d.nodeCount()<=1)return[];let p=o(d,f||n);return i(p.graph,p.buckets,p.zeroIdx).flatMap(x=>d.outEdges(x.v,x.w))}function i(d,f,p){let b=[],x=f[f.length-1],_=f[0],N;for(;d.nodeCount();){for(;N=_.dequeue();)s(d,f,p,N);for(;N=x.dequeue();)s(d,f,p,N);if(d.nodeCount()){for(let I=f.length-2;I>0;--I)if(N=f[I].dequeue(),N){b=b.concat(s(d,f,p,N,!0));break}}}return b}function s(d,f,p,b,x){let _=x?[]:void 0;return d.inEdges(b.v).forEach(N=>{let I=d.edge(N),O=d.node(N.v);x&&_.push({v:N.v,w:N.w}),O.out-=I,l(f,p,O)}),d.outEdges(b.v).forEach(N=>{let I=d.edge(N),O=N.w,T=d.node(O);T.in-=I,l(f,p,T)}),d.removeNode(b.v),_}function o(d,f){let p=new t,b=0,x=0;d.nodes().forEach(I=>{p.setNode(I,{v:I,in:0,out:0})}),d.edges().forEach(I=>{let O=p.edge(I.v,I.w)||0,T=f(I),q=O+T;p.setEdge(I.v,I.w,q),x=Math.max(x,p.node(I.v).out+=T),b=Math.max(b,p.node(I.w).in+=T)});let _=c(x+b+3).map(()=>new e),N=b+1;return p.nodes().forEach(I=>{l(_,N,p.node(I))}),{graph:p,buckets:_,zeroIdx:N}}function l(d,f,p){p.out?p.in?d[p.out-p.in+f].enqueue(p):d[d.length-1].enqueue(p):d[0].enqueue(p)}function c(d){const f=[];for(let p=0;p<d;p++)f.push(p);return f}return x0}var w0,zq;function Br(){if(zq)return w0;zq=1;let t=To().Graph;w0={addBorderNode:f,addDummyNode:e,applyWithChunking:x,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:o,mapValues:L,maxRank:_,normalizeRanks:c,notime:O,partition:N,pick:D,predecessorWeights:s,range:j,removeEmptyRanks:d,simplify:n,successorWeights:i,time:I,uniqueId:q,zipObject:z};function e(P,R,B,F){let W;do W=q(F);while(P.hasNode(W));return B.dummy=R,P.setNode(W,B),W}function n(P){let R=new t().setGraph(P.graph());return P.nodes().forEach(B=>R.setNode(B,P.node(B))),P.edges().forEach(B=>{let F=R.edge(B.v,B.w)||{weight:0,minlen:1},W=P.edge(B);R.setEdge(B.v,B.w,{weight:F.weight+W.weight,minlen:Math.max(F.minlen,W.minlen)})}),R}function r(P){let R=new t({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(B=>{P.children(B).length||R.setNode(B,P.node(B))}),P.edges().forEach(B=>{R.setEdge(B,P.edge(B))}),R}function i(P){let R=P.nodes().map(B=>{let F={};return P.outEdges(B).forEach(W=>{F[W.w]=(F[W.w]||0)+P.edge(W).weight}),F});return z(P.nodes(),R)}function s(P){let R=P.nodes().map(B=>{let F={};return P.inEdges(B).forEach(W=>{F[W.v]=(F[W.v]||0)+P.edge(W).weight}),F});return z(P.nodes(),R)}function o(P,R){let B=P.x,F=P.y,W=R.x-B,U=R.y-F,$=P.width/2,ee=P.height/2;if(!W&&!U)throw new Error("Not possible to find intersection inside of the rectangle");let Z,le;return Math.abs(U)*$>Math.abs(W)*ee?(U<0&&(ee=-ee),Z=ee*W/U,le=ee):(W<0&&($=-$),Z=$,le=$*U/W),{x:B+Z,y:F+le}}function l(P){let R=j(_(P)+1).map(()=>[]);return P.nodes().forEach(B=>{let F=P.node(B),W=F.rank;W!==void 0&&(R[W][F.order]=B)}),R}function c(P){let R=P.nodes().map(F=>{let W=P.node(F).rank;return W===void 0?Number.MAX_VALUE:W}),B=x(Math.min,R);P.nodes().forEach(F=>{let W=P.node(F);Object.hasOwn(W,"rank")&&(W.rank-=B)})}function d(P){let R=P.nodes().map($=>P.node($).rank),B=x(Math.min,R),F=[];P.nodes().forEach($=>{let ee=P.node($).rank-B;F[ee]||(F[ee]=[]),F[ee].push($)});let W=0,U=P.graph().nodeRankFactor;Array.from(F).forEach(($,ee)=>{$===void 0&&ee%U!==0?--W:$!==void 0&&W&&$.forEach(Z=>P.node(Z).rank+=W)})}function f(P,R,B,F){let W={width:0,height:0};return arguments.length>=4&&(W.rank=B,W.order=F),e(P,"border",W,R)}function p(P,R=b){const B=[];for(let F=0;F<P.length;F+=R){const W=P.slice(F,F+R);B.push(W)}return B}const b=65535;function x(P,R){if(R.length>b){const B=p(R);return P.apply(null,B.map(F=>P.apply(null,F)))}else return P.apply(null,R)}function _(P){const B=P.nodes().map(F=>{let W=P.node(F).rank;return W===void 0?Number.MIN_VALUE:W});return x(Math.max,B)}function N(P,R){let B={lhs:[],rhs:[]};return P.forEach(F=>{R(F)?B.lhs.push(F):B.rhs.push(F)}),B}function I(P,R){let B=Date.now();try{return R()}finally{console.log(P+" time: "+(Date.now()-B)+"ms")}}function O(P,R){return R()}let T=0;function q(P){var R=++T;return toString(P)+R}function j(P,R,B=1){R==null&&(R=P,P=0);let F=U=>U<R;B<0&&(F=U=>R<U);const W=[];for(let U=P;F(U);U+=B)W.push(U);return W}function D(P,R){const B={};for(const F of R)P[F]!==void 0&&(B[F]=P[F]);return B}function L(P,R){let B=R;return typeof R=="string"&&(B=F=>F[R]),Object.entries(P).reduce((F,[W,U])=>(F[W]=B(U,W),F),{})}function z(P,R){return P.reduce((B,F,W)=>(B[F]=R[W],B),{})}return w0}var _0,Wq;function tZ(){if(Wq)return _0;Wq=1;let t=eZ(),e=Br().uniqueId;_0={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,l(s)):r(s)).forEach(c=>{let d=s.edge(c);s.removeEdge(c),d.forwardName=c.name,d.reversed=!0,s.setEdge(c.w,c.v,d,e("rev"))});function l(c){return d=>c.edge(d).weight}}function r(s){let o=[],l={},c={};function d(f){Object.hasOwn(c,f)||(c[f]=!0,l[f]=!0,s.outEdges(f).forEach(p=>{Object.hasOwn(l,p.w)?o.push(p):d(p.w)}),delete l[f])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let l=s.edge(o);if(l.reversed){s.removeEdge(o);let c=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,c)}})}return _0}var S0,Uq;function nZ(){if(Uq)return S0;Uq=1;let t=Br();S0={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,l=i.node(o).rank,c=s.w,d=i.node(c).rank,f=s.name,p=i.edge(s),b=p.labelRank;if(d===l+1)return;i.removeEdge(s);let x,_,N;for(N=0,++l;l<d;++N,++l)p.points=[],_={width:0,height:0,edgeLabel:p,edgeObj:s,rank:l},x=t.addDummyNode(i,"edge",_,"_d"),l===b&&(_.width=p.width,_.height=p.height,_.dummy="edge-label",_.labelpos=p.labelpos),i.setEdge(o,x,{weight:p.weight},f),N===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,c,{weight:p.weight},f)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),l=o.edgeLabel,c;for(i.setEdge(o.edgeObj,l);o.dummy;)c=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=c,o=i.node(s)})}return S0}var E0,Vq;function yv(){if(Vq)return E0;Vq=1;const{applyWithChunking:t}=Br();E0={longestPath:e,slack:n};function e(r){var i={};function s(o){var l=r.node(o);if(Object.hasOwn(i,o))return l.rank;i[o]=!0;let c=r.outEdges(o).map(f=>f==null?Number.POSITIVE_INFINITY:s(f.w)-r.edge(f).minlen);var d=t(Math.min,c);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return E0}var N0,Hq;function w2(){if(Hq)return N0;Hq=1;var t=To().Graph,e=yv().slack;N0=n;function n(o){var l=new t({directed:!1}),c=o.nodes()[0],d=o.nodeCount();l.setNode(c,{});for(var f,p;r(l,o)<d;)f=i(l,o),p=l.hasNode(f.v)?e(o,f):-e(o,f),s(l,o,p);return l}function r(o,l){function c(d){l.nodeEdges(d).forEach(f=>{var p=f.v,b=d===p?f.w:p;!o.hasNode(b)&&!e(l,f)&&(o.setNode(b,{}),o.setEdge(d,b,{}),c(b))})}return o.nodes().forEach(c),o.nodeCount()}function i(o,l){return l.edges().reduce((d,f)=>{let p=Number.POSITIVE_INFINITY;return o.hasNode(f.v)!==o.hasNode(f.w)&&(p=e(l,f)),p<d[0]?[p,f]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,l,c){o.nodes().forEach(d=>l.node(d).rank+=c)}return N0}var k0,Qq;function rZ(){if(Qq)return k0;Qq=1;var t=w2(),e=yv().slack,n=yv().longestPath,r=To().alg.preorder,i=To().alg.postorder,s=Br().simplify;k0=o,o.initLowLimValues=f,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=b,o.enterEdge=x,o.exchangeEdges=_;function o(T){T=s(T),n(T);var q=t(T);f(q),l(q,T);for(var j,D;j=b(q);)D=x(q,T,j),_(q,T,j,D)}function l(T,q){var j=i(T,T.nodes());j=j.slice(0,j.length-1),j.forEach(D=>c(T,q,D))}function c(T,q,j){var D=T.node(j),L=D.parent;T.edge(j,L).cutvalue=d(T,q,j)}function d(T,q,j){var D=T.node(j),L=D.parent,z=!0,P=q.edge(j,L),R=0;return P||(z=!1,P=q.edge(L,j)),R=P.weight,q.nodeEdges(j).forEach(B=>{var F=B.v===j,W=F?B.w:B.v;if(W!==L){var U=F===z,$=q.edge(B).weight;if(R+=U?$:-$,I(T,j,W)){var ee=T.edge(j,W).cutvalue;R+=U?-ee:ee}}}),R}function f(T,q){arguments.length<2&&(q=T.nodes()[0]),p(T,{},1,q)}function p(T,q,j,D,L){var z=j,P=T.node(D);return q[D]=!0,T.neighbors(D).forEach(R=>{Object.hasOwn(q,R)||(j=p(T,q,j,R,D))}),P.low=z,P.lim=j++,L?P.parent=L:delete P.parent,j}function b(T){return T.edges().find(q=>T.edge(q).cutvalue<0)}function x(T,q,j){var D=j.v,L=j.w;q.hasEdge(D,L)||(D=j.w,L=j.v);var z=T.node(D),P=T.node(L),R=z,B=!1;z.lim>P.lim&&(R=P,B=!0);var F=q.edges().filter(W=>B===O(T,T.node(W.v),R)&&B!==O(T,T.node(W.w),R));return F.reduce((W,U)=>e(q,U)<e(q,W)?U:W)}function _(T,q,j,D){var L=j.v,z=j.w;T.removeEdge(L,z),T.setEdge(D.v,D.w,{}),f(T),l(T,q),N(T,q)}function N(T,q){var j=T.nodes().find(L=>!q.node(L).parent),D=r(T,j);D=D.slice(1),D.forEach(L=>{var z=T.node(L).parent,P=q.edge(L,z),R=!1;P||(P=q.edge(z,L),R=!0),q.node(L).rank=q.node(z).rank+(R?P.minlen:-P.minlen)})}function I(T,q,j){return T.hasEdge(q,j)}function O(T,q,j){return j.low<=q.lim&&q.lim<=j.lim}return k0}var I0,Kq;function iZ(){if(Kq)return I0;Kq=1;var t=yv(),e=t.longestPath,n=w2(),r=rZ();I0=i;function i(c){switch(c.graph().ranker){case"network-simplex":l(c);break;case"tight-tree":o(c);break;case"longest-path":s(c);break;default:l(c)}}var s=e;function o(c){e(c),n(c)}function l(c){r(c)}return I0}var C0,Gq;function sZ(){if(Gq)return C0;Gq=1,C0=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),l=o.edgeObj,c=e(r,i,l.v,l.w),d=c.path,f=c.lca,p=0,b=d[p],x=!0;for(;s!==l.w;){if(o=r.node(s),x){for(;(b=d[p])!==f&&r.node(b).maxRank<o.rank;)p++;b===f&&(x=!1)}if(!x){for(;p<d.length-1&&r.node(b=d[p+1]).minRank<=o.rank;)p++;b=d[p]}r.setParent(s,b),s=r.successors(s)[0]}})}function e(r,i,s,o){let l=[],c=[],d=Math.min(i[s].low,i[o].low),f=Math.max(i[s].lim,i[o].lim),p,b;p=s;do p=r.parent(p),l.push(p);while(p&&(i[p].low>d||f>i[p].lim));for(b=p,p=o;(p=r.parent(p))!==b;)c.push(p);return{path:l.concat(c.reverse()),lca:b}}function n(r){let i={},s=0;function o(l){let c=s;r.children(l).forEach(o),i[l]={low:c,lim:s++}}return r.children().forEach(o),i}return C0}var T0,Zq;function oZ(){if(Zq)return T0;Zq=1;let t=Br();T0={run:e,cleanup:s};function e(o){let l=t.addDummyNode(o,"root",{},"_root"),c=r(o),d=Object.values(c),f=t.applyWithChunking(Math.max,d)-1,p=2*f+1;o.graph().nestingRoot=l,o.edges().forEach(x=>o.edge(x).minlen*=p);let b=i(o)+1;o.children().forEach(x=>n(o,l,p,b,f,c,x)),o.graph().nodeRankFactor=p}function n(o,l,c,d,f,p,b){let x=o.children(b);if(!x.length){b!==l&&o.setEdge(l,b,{weight:0,minlen:c});return}let _=t.addBorderNode(o,"_bt"),N=t.addBorderNode(o,"_bb"),I=o.node(b);o.setParent(_,b),I.borderTop=_,o.setParent(N,b),I.borderBottom=N,x.forEach(O=>{n(o,l,c,d,f,p,O);let T=o.node(O),q=T.borderTop?T.borderTop:O,j=T.borderBottom?T.borderBottom:O,D=T.borderTop?d:2*d,L=q!==j?1:f-p[b]+1;o.setEdge(_,q,{weight:D,minlen:L,nestingEdge:!0}),o.setEdge(j,N,{weight:D,minlen:L,nestingEdge:!0})}),o.parent(b)||o.setEdge(l,_,{weight:0,minlen:f+p[b]})}function r(o){var l={};function c(d,f){var p=o.children(d);p&&p.length&&p.forEach(b=>c(b,f+1)),l[d]=f}return o.children().forEach(d=>c(d,1)),l}function i(o){return o.edges().reduce((l,c)=>l+o.edge(c).weight,0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(c=>{var d=o.edge(c);d.nestingEdge&&o.removeEdge(c)})}return T0}var O0,Jq;function aZ(){if(Jq)return O0;Jq=1;let t=Br();O0=e;function e(r){function i(s){let o=r.children(s),l=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let c=l.minRank,d=l.maxRank+1;c<d;++c)n(r,"borderLeft","_bl",s,l,c),n(r,"borderRight","_br",s,l,c)}}r.children().forEach(i)}function n(r,i,s,o,l,c){let d={width:0,height:0,rank:c,borderType:i},f=l[i][c-1],p=t.addDummyNode(r,"border",d,s);l[i][c]=p,r.setParent(p,o),f&&r.setEdge(f,p,{weight:1})}return O0}var q0,Yq;function lZ(){if(Yq)return q0;Yq=1,q0={adjust:t,undo:e};function t(c){let d=c.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(c)}function e(c){let d=c.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(c),(d==="lr"||d==="rl")&&(o(c),n(c))}function n(c){c.nodes().forEach(d=>r(c.node(d))),c.edges().forEach(d=>r(c.edge(d)))}function r(c){let d=c.width;c.width=c.height,c.height=d}function i(c){c.nodes().forEach(d=>s(c.node(d))),c.edges().forEach(d=>{let f=c.edge(d);f.points.forEach(s),Object.hasOwn(f,"y")&&s(f)})}function s(c){c.y=-c.y}function o(c){c.nodes().forEach(d=>l(c.node(d))),c.edges().forEach(d=>{let f=c.edge(d);f.points.forEach(l),Object.hasOwn(f,"x")&&l(f)})}function l(c){let d=c.x;c.x=c.y,c.y=d}return q0}var R0,Xq;function uZ(){if(Xq)return R0;Xq=1;let t=Br();R0=e;function e(n){let r={},i=n.nodes().filter(f=>!n.children(f).length),s=i.map(f=>n.node(f).rank),o=t.applyWithChunking(Math.max,s),l=t.range(o+1).map(()=>[]);function c(f){if(r[f])return;r[f]=!0;let p=n.node(f);l[p.rank].push(f),n.successors(f).forEach(c)}return i.sort((f,p)=>n.node(f).rank-n.node(p).rank).forEach(c),l}return R0}var A0,eR;function cZ(){if(eR)return A0;eR=1;let t=Br().zipObject;A0=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((b,x)=>x)),l=i.flatMap(b=>r.outEdges(b).map(x=>({pos:o[x.w],weight:r.edge(x).weight})).sort((x,_)=>x.pos-_.pos)),c=1;for(;c<s.length;)c<<=1;let d=2*c-1;c-=1;let f=new Array(d).fill(0),p=0;return l.forEach(b=>{let x=b.pos+c;f[x]+=b.weight;let _=0;for(;x>0;)x%2&&(_+=f[x+1]),x=x-1>>1,f[x]+=b.weight;p+=b.weight*_}),p}return A0}var j0,tR;function dZ(){if(tR)return j0;tR=1,j0=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,l)=>{let c=e.edge(l),d=e.node(l.v);return{sum:o.sum+c.weight*d.order,weight:o.weight+c.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return j0}var P0,nR;function fZ(){if(nR)return P0;nR=1;let t=Br();P0=e;function e(i,s){let o={};i.forEach((c,d)=>{let f=o[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:d};c.barycenter!==void 0&&(f.barycenter=c.barycenter,f.weight=c.weight)}),s.edges().forEach(c=>{let d=o[c.v],f=o[c.w];d!==void 0&&f!==void 0&&(f.indegree++,d.out.push(o[c.w]))});let l=Object.values(o).filter(c=>!c.indegree);return n(l)}function n(i){let s=[];function o(c){return d=>{d.merged||(d.barycenter===void 0||c.barycenter===void 0||d.barycenter>=c.barycenter)&&r(c,d)}}function l(c){return d=>{d.in.push(c),--d.indegree===0&&i.push(d)}}for(;i.length;){let c=i.pop();s.push(c),c.in.reverse().forEach(o(c)),c.out.forEach(l(c))}return s.filter(c=>!c.merged).map(c=>t.pick(c,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,l=0;i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),s.weight&&(o+=s.barycenter*s.weight,l+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/l,i.weight=l,i.i=Math.min(s.i,i.i),s.merged=!0}return P0}var F0,rR;function pZ(){if(rR)return F0;rR=1;let t=Br();F0=e;function e(i,s){let o=t.partition(i,_=>Object.hasOwn(_,"barycenter")),l=o.lhs,c=o.rhs.sort((_,N)=>N.i-_.i),d=[],f=0,p=0,b=0;l.sort(r(!!s)),b=n(d,c,b),l.forEach(_=>{b+=_.vs.length,d.push(_.vs),f+=_.barycenter*_.weight,p+=_.weight,b=n(d,c,b)});let x={vs:d.flat(!0)};return p&&(x.barycenter=f/p,x.weight=p),x}function n(i,s,o){let l;for(;s.length&&(l=s[s.length-1]).i<=o;)s.pop(),i.push(l.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return F0}var D0,iR;function hZ(){if(iR)return D0;iR=1;let t=dZ(),e=fZ(),n=pZ();D0=r;function r(o,l,c,d){let f=o.children(l),p=o.node(l),b=p?p.borderLeft:void 0,x=p?p.borderRight:void 0,_={};b&&(f=f.filter(T=>T!==b&&T!==x));let N=t(o,f);N.forEach(T=>{if(o.children(T.v).length){let q=r(o,T.v,c,d);_[T.v]=q,Object.hasOwn(q,"barycenter")&&s(T,q)}});let I=e(N,c);i(I,_);let O=n(I,d);if(b&&(O.vs=[b,O.vs,x].flat(!0),o.predecessors(b).length)){let T=o.node(o.predecessors(b)[0]),q=o.node(o.predecessors(x)[0]);Object.hasOwn(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+T.order+q.order)/(O.weight+2),O.weight+=2}return O}function i(o,l){o.forEach(c=>{c.vs=c.vs.flatMap(d=>l[d]?l[d].vs:d)})}function s(o,l){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)}return D0}var L0,sR;function mZ(){if(sR)return L0;sR=1;let t=To().Graph,e=Br();L0=n;function n(i,s,o){let l=r(i),c=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let f=i.node(d),p=i.parent(d);(f.rank===s||f.minRank<=s&&s<=f.maxRank)&&(c.setNode(d),c.setParent(d,p||l),i[o](d).forEach(b=>{let x=b.v===d?b.w:b.v,_=c.edge(x,d),N=_!==void 0?_.weight:0;c.setEdge(x,d,{weight:i.edge(b).weight+N})}),Object.hasOwn(f,"minRank")&&c.setNode(d,{borderLeft:f.borderLeft[s],borderRight:f.borderRight[s]}))}),c}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return L0}var M0,oR;function gZ(){if(oR)return M0;oR=1,M0=t;function t(e,n,r){let i={},s;r.forEach(o=>{let l=e.parent(o),c,d;for(;l;){if(c=e.parent(l),c?(d=i[c],i[c]=l):(d=s,s=l),d&&d!==l){n.setEdge(d,l);return}l=c}})}return M0}var $0,aR;function yZ(){if(aR)return $0;aR=1;let t=uZ(),e=cZ(),n=hZ(),r=mZ(),i=gZ(),s=To().Graph,o=Br();$0=l;function l(p,b){if(b&&typeof b.customOrder=="function"){b.customOrder(p,l);return}let x=o.maxRank(p),_=c(p,o.range(1,x+1),"inEdges"),N=c(p,o.range(x-1,-1,-1),"outEdges"),I=t(p);if(f(p,I),b&&b.disableOptimalOrderHeuristic)return;let O=Number.POSITIVE_INFINITY,T;for(let q=0,j=0;j<4;++q,++j){d(q%2?_:N,q%4>=2),I=o.buildLayerMatrix(p);let D=e(p,I);D<O&&(j=0,T=Object.assign({},I),O=D)}f(p,T)}function c(p,b,x){return b.map(function(_){return r(p,_,x)})}function d(p,b){let x=new s;p.forEach(function(_){let N=_.graph().root,I=n(_,N,x,b);I.vs.forEach((O,T)=>_.node(O).order=T),i(_,x,I.vs)})}function f(p,b){Object.values(b).forEach(x=>x.forEach((_,N)=>p.node(_).order=N))}return $0}var B0,lR;function vZ(){if(lR)return B0;lR=1;let t=To().Graph,e=Br();B0={positionX:x,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:p,findSmallestWidthAlignment:f,balance:b};function n(I,O){let T={};function q(j,D){let L=0,z=0,P=j.length,R=D[D.length-1];return D.forEach((B,F)=>{let W=i(I,B),U=W?I.node(W).order:P;(W||B===R)&&(D.slice(z,F+1).forEach($=>{I.predecessors($).forEach(ee=>{let Z=I.node(ee),le=Z.order;(le<L||U<le)&&!(Z.dummy&&I.node($).dummy)&&s(T,ee,$)})}),z=F+1,L=U)}),D}return O.length&&O.reduce(q),T}function r(I,O){let T={};function q(D,L,z,P,R){let B;e.range(L,z).forEach(F=>{B=D[F],I.node(B).dummy&&I.predecessors(B).forEach(W=>{let U=I.node(W);U.dummy&&(U.order<P||U.order>R)&&s(T,W,B)})})}function j(D,L){let z=-1,P,R=0;return L.forEach((B,F)=>{if(I.node(B).dummy==="border"){let W=I.predecessors(B);W.length&&(P=I.node(W[0]).order,q(L,R,F,z,P),R=F,z=P)}q(L,R,L.length,P,D.length)}),L}return O.length&&O.reduce(j),T}function i(I,O){if(I.node(O).dummy)return I.predecessors(O).find(T=>I.node(T).dummy)}function s(I,O,T){if(O>T){let j=O;O=T,T=j}let q=I[O];q||(I[O]=q={}),q[T]=!0}function o(I,O,T){if(O>T){let q=O;O=T,T=q}return!!I[O]&&Object.hasOwn(I[O],T)}function l(I,O,T,q){let j={},D={},L={};return O.forEach(z=>{z.forEach((P,R)=>{j[P]=P,D[P]=P,L[P]=R})}),O.forEach(z=>{let P=-1;z.forEach(R=>{let B=q(R);if(B.length){B=B.sort((W,U)=>L[W]-L[U]);let F=(B.length-1)/2;for(let W=Math.floor(F),U=Math.ceil(F);W<=U;++W){let $=B[W];D[R]===R&&P<L[$]&&!o(T,R,$)&&(D[$]=R,D[R]=j[R]=j[$],P=L[$])}}})}),{root:j,align:D}}function c(I,O,T,q,j){let D={},L=d(I,O,T,j),z=j?"borderLeft":"borderRight";function P(F,W){let U=L.nodes(),$=U.pop(),ee={};for(;$;)ee[$]?F($):(ee[$]=!0,U.push($),U=U.concat(W($))),$=U.pop()}function R(F){D[F]=L.inEdges(F).reduce((W,U)=>Math.max(W,D[U.v]+L.edge(U)),0)}function B(F){let W=L.outEdges(F).reduce(($,ee)=>Math.min($,D[ee.w]-L.edge(ee)),Number.POSITIVE_INFINITY),U=I.node(F);W!==Number.POSITIVE_INFINITY&&U.borderType!==z&&(D[F]=Math.max(D[F],W))}return P(R,L.predecessors.bind(L)),P(B,L.successors.bind(L)),Object.keys(q).forEach(F=>D[F]=D[T[F]]),D}function d(I,O,T,q){let j=new t,D=I.graph(),L=_(D.nodesep,D.edgesep,q);return O.forEach(z=>{let P;z.forEach(R=>{let B=T[R];if(j.setNode(B),P){var F=T[P],W=j.edge(F,B);j.setEdge(F,B,Math.max(L(I,R,P),W||0))}P=R})}),j}function f(I,O){return Object.values(O).reduce((T,q)=>{let j=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(q).forEach(([z,P])=>{let R=N(I,z)/2;j=Math.max(P+R,j),D=Math.min(P-R,D)});const L=j-D;return L<T[0]&&(T=[L,q]),T},[Number.POSITIVE_INFINITY,null])[1]}function p(I,O){let T=Object.values(O),q=e.applyWithChunking(Math.min,T),j=e.applyWithChunking(Math.max,T);["u","d"].forEach(D=>{["l","r"].forEach(L=>{let z=D+L,P=I[z];if(P===O)return;let R=Object.values(P),B=q-e.applyWithChunking(Math.min,R);L!=="l"&&(B=j-e.applyWithChunking(Math.max,R)),B&&(I[z]=e.mapValues(P,F=>F+B))})})}function b(I,O){return e.mapValues(I.ul,(T,q)=>{if(O)return I[O.toLowerCase()][q];{let j=Object.values(I).map(D=>D[q]).sort((D,L)=>D-L);return(j[1]+j[2])/2}})}function x(I){let O=e.buildLayerMatrix(I),T=Object.assign(n(I,O),r(I,O)),q={},j;["u","d"].forEach(L=>{j=L==="u"?O:Object.values(O).reverse(),["l","r"].forEach(z=>{z==="r"&&(j=j.map(F=>Object.values(F).reverse()));let P=(L==="u"?I.predecessors:I.successors).bind(I),R=l(I,j,T,P),B=c(I,j,R.root,R.align,z==="r");z==="r"&&(B=e.mapValues(B,F=>-F)),q[L+z]=B})});let D=f(I,q);return p(q,D),b(q,I.graph().align)}function _(I,O,T){return(q,j,D)=>{let L=q.node(j),z=q.node(D),P=0,R;if(P+=L.width/2,Object.hasOwn(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":R=-L.width/2;break;case"r":R=L.width/2;break}if(R&&(P+=T?R:-R),R=0,P+=(L.dummy?O:I)/2,P+=(z.dummy?O:I)/2,P+=z.width/2,Object.hasOwn(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":R=z.width/2;break;case"r":R=-z.width/2;break}return R&&(P+=T?R:-R),R=0,P}}function N(I,O){return I.node(O).width}return B0}var z0,uR;function bZ(){if(uR)return z0;uR=1;let t=Br(),e=vZ().positionX;z0=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,l=0;s.forEach(c=>{const d=c.reduce((f,p)=>{const b=i.node(p).height;return f>b?f:b},0);c.forEach(f=>i.node(f).y=l+d/2),l+=d+o})}return z0}var W0,cR;function xZ(){if(cR)return W0;cR=1;let t=tZ(),e=nZ(),n=iZ(),r=Br().normalizeRanks,i=sZ(),s=Br().removeEmptyRanks,o=oZ(),l=aZ(),c=lZ(),d=yZ(),f=bZ(),p=Br(),b=To().Graph;W0=x;function x(de,ye){let we=ye&&ye.debugTiming?p.time:p.notime;we("layout",()=>{let Ne=we("  buildLayoutGraph",()=>P(de));we("  runLayout",()=>_(Ne,we,ye)),we("  updateInputGraph",()=>N(de,Ne))})}function _(de,ye,we){ye("    makeSpaceForEdgeLabels",()=>R(de)),ye("    removeSelfEdges",()=>ie(de)),ye("    acyclic",()=>t.run(de)),ye("    nestingGraph.run",()=>o.run(de)),ye("    rank",()=>n(p.asNonCompoundGraph(de))),ye("    injectEdgeLabelProxies",()=>B(de)),ye("    removeEmptyRanks",()=>s(de)),ye("    nestingGraph.cleanup",()=>o.cleanup(de)),ye("    normalizeRanks",()=>r(de)),ye("    assignRankMinMax",()=>F(de)),ye("    removeEdgeLabelProxies",()=>W(de)),ye("    normalize.run",()=>e.run(de)),ye("    parentDummyChains",()=>i(de)),ye("    addBorderSegments",()=>l(de)),ye("    order",()=>d(de,we)),ye("    insertSelfEdges",()=>te(de)),ye("    adjustCoordinateSystem",()=>c.adjust(de)),ye("    position",()=>f(de)),ye("    positionSelfEdges",()=>se(de)),ye("    removeBorderNodes",()=>le(de)),ye("    normalize.undo",()=>e.undo(de)),ye("    fixupEdgeLabelCoords",()=>ee(de)),ye("    undoCoordinateSystem",()=>c.undo(de)),ye("    translateGraph",()=>U(de)),ye("    assignNodeIntersects",()=>$(de)),ye("    reversePoints",()=>Z(de)),ye("    acyclic.undo",()=>t.undo(de))}function N(de,ye){de.nodes().forEach(we=>{let Ne=de.node(we),ze=ye.node(we);Ne&&(Ne.x=ze.x,Ne.y=ze.y,Ne.rank=ze.rank,ye.children(we).length&&(Ne.width=ze.width,Ne.height=ze.height))}),de.edges().forEach(we=>{let Ne=de.edge(we),ze=ye.edge(we);Ne.points=ze.points,Object.hasOwn(ze,"x")&&(Ne.x=ze.x,Ne.y=ze.y)}),de.graph().width=ye.graph().width,de.graph().height=ye.graph().height}let I=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],q=["width","height"],j={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],L={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function P(de){let ye=new b({multigraph:!0,compound:!0}),we=ce(de.graph());return ye.setGraph(Object.assign({},O,Y(we,I),p.pick(we,T))),de.nodes().forEach(Ne=>{let ze=ce(de.node(Ne));const qe=Y(ze,q);Object.keys(j).forEach(De=>{qe[De]===void 0&&(qe[De]=j[De])}),ye.setNode(Ne,qe),ye.setParent(Ne,de.parent(Ne))}),de.edges().forEach(Ne=>{let ze=ce(de.edge(Ne));ye.setEdge(Ne,Object.assign({},L,Y(ze,D),p.pick(ze,z)))}),ye}function R(de){let ye=de.graph();ye.ranksep/=2,de.edges().forEach(we=>{let Ne=de.edge(we);Ne.minlen*=2,Ne.labelpos.toLowerCase()!=="c"&&(ye.rankdir==="TB"||ye.rankdir==="BT"?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}function B(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(we.width&&we.height){let Ne=de.node(ye.v),qe={rank:(de.node(ye.w).rank-Ne.rank)/2+Ne.rank,e:ye};p.addDummyNode(de,"edge-proxy",qe,"_ep")}})}function F(de){let ye=0;de.nodes().forEach(we=>{let Ne=de.node(we);Ne.borderTop&&(Ne.minRank=de.node(Ne.borderTop).rank,Ne.maxRank=de.node(Ne.borderBottom).rank,ye=Math.max(ye,Ne.maxRank))}),de.graph().maxRank=ye}function W(de){de.nodes().forEach(ye=>{let we=de.node(ye);we.dummy==="edge-proxy"&&(de.edge(we.e).labelRank=we.rank,de.removeNode(ye))})}function U(de){let ye=Number.POSITIVE_INFINITY,we=0,Ne=Number.POSITIVE_INFINITY,ze=0,qe=de.graph(),De=qe.marginx||0,Ze=qe.marginy||0;function Xe(Ue){let ut=Ue.x,_t=Ue.y,Tt=Ue.width,Wt=Ue.height;ye=Math.min(ye,ut-Tt/2),we=Math.max(we,ut+Tt/2),Ne=Math.min(Ne,_t-Wt/2),ze=Math.max(ze,_t+Wt/2)}de.nodes().forEach(Ue=>Xe(de.node(Ue))),de.edges().forEach(Ue=>{let ut=de.edge(Ue);Object.hasOwn(ut,"x")&&Xe(ut)}),ye-=De,Ne-=Ze,de.nodes().forEach(Ue=>{let ut=de.node(Ue);ut.x-=ye,ut.y-=Ne}),de.edges().forEach(Ue=>{let ut=de.edge(Ue);ut.points.forEach(_t=>{_t.x-=ye,_t.y-=Ne}),Object.hasOwn(ut,"x")&&(ut.x-=ye),Object.hasOwn(ut,"y")&&(ut.y-=Ne)}),qe.width=we-ye+De,qe.height=ze-Ne+Ze}function $(de){de.edges().forEach(ye=>{let we=de.edge(ye),Ne=de.node(ye.v),ze=de.node(ye.w),qe,De;we.points?(qe=we.points[0],De=we.points[we.points.length-1]):(we.points=[],qe=ze,De=Ne),we.points.unshift(p.intersectRect(Ne,qe)),we.points.push(p.intersectRect(ze,De))})}function ee(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(Object.hasOwn(we,"x"))switch((we.labelpos==="l"||we.labelpos==="r")&&(we.width-=we.labeloffset),we.labelpos){case"l":we.x-=we.width/2+we.labeloffset;break;case"r":we.x+=we.width/2+we.labeloffset;break}})}function Z(de){de.edges().forEach(ye=>{let we=de.edge(ye);we.reversed&&we.points.reverse()})}function le(de){de.nodes().forEach(ye=>{if(de.children(ye).length){let we=de.node(ye),Ne=de.node(we.borderTop),ze=de.node(we.borderBottom),qe=de.node(we.borderLeft[we.borderLeft.length-1]),De=de.node(we.borderRight[we.borderRight.length-1]);we.width=Math.abs(De.x-qe.x),we.height=Math.abs(ze.y-Ne.y),we.x=qe.x+we.width/2,we.y=Ne.y+we.height/2}}),de.nodes().forEach(ye=>{de.node(ye).dummy==="border"&&de.removeNode(ye)})}function ie(de){de.edges().forEach(ye=>{if(ye.v===ye.w){var we=de.node(ye.v);we.selfEdges||(we.selfEdges=[]),we.selfEdges.push({e:ye,label:de.edge(ye)}),de.removeEdge(ye)}})}function te(de){var ye=p.buildLayerMatrix(de);ye.forEach(we=>{var Ne=0;we.forEach((ze,qe)=>{var De=de.node(ze);De.order=qe+Ne,(De.selfEdges||[]).forEach(Ze=>{p.addDummyNode(de,"selfedge",{width:Ze.label.width,height:Ze.label.height,rank:De.rank,order:qe+ ++Ne,e:Ze.e,label:Ze.label},"_se")}),delete De.selfEdges})})}function se(de){de.nodes().forEach(ye=>{var we=de.node(ye);if(we.dummy==="selfedge"){var Ne=de.node(we.e.v),ze=Ne.x+Ne.width/2,qe=Ne.y,De=we.x-ze,Ze=Ne.height/2;de.setEdge(we.e,we.label),de.removeNode(ye),we.label.points=[{x:ze+2*De/3,y:qe-Ze},{x:ze+5*De/6,y:qe-Ze},{x:ze+De,y:qe},{x:ze+5*De/6,y:qe+Ze},{x:ze+2*De/3,y:qe+Ze}],we.label.x=we.x,we.label.y=we.y}})}function Y(de,ye){return p.mapValues(p.pick(de,ye),Number)}function ce(de){var ye={};return de&&Object.entries(de).forEach(([we,Ne])=>{typeof we=="string"&&(we=we.toLowerCase()),ye[we]=Ne}),ye}return W0}var U0,dR;function wZ(){if(dR)return U0;dR=1;let t=Br(),e=To().Graph;U0={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,l)=>{let c="layer"+l;s.setNode(c,{rank:"same"}),o.reduce((d,f)=>(s.setEdge(d,f,{style:"invis"}),f))}),s}return U0}var V0,fR;function _Z(){return fR||(fR=1,V0="1.1.4"),V0}var H0,pR;function SZ(){return pR||(pR=1,H0={graphlib:To(),layout:xZ(),debug:wZ(),util:{time:Br().time,notime:Br().notime},version:_Z()}),H0}var EZ=SZ();const VN=ro(EZ);function zr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=zr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var NZ={value:()=>{}};function Sb(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new my(n)}function my(t){this._=t}function kZ(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}my.prototype=Sb.prototype={constructor:my,on:function(t,e){var n=this._,r=kZ(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=IZ(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=hR(n[i],t.name,e);else if(e==null)for(i in n)n[i]=hR(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new my(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function IZ(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function hR(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=NZ,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var fE="http://www.w3.org/1999/xhtml";const mR={svg:"http://www.w3.org/2000/svg",xhtml:fE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Eb(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),mR.hasOwnProperty(e)?{space:mR[e],local:t}:t}function CZ(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===fE&&e.documentElement.namespaceURI===fE?e.createElement(t):e.createElementNS(n,t)}}function TZ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _2(t){var e=Eb(t);return(e.local?TZ:CZ)(e)}function OZ(){}function HN(t){return t==null?OZ:function(){return this.querySelector(t)}}function qZ(t){typeof t!="function"&&(t=HN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),c,d,f=0;f<o;++f)(c=s[f])&&(d=t.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d);return new As(r,this._parents)}function RZ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function AZ(){return[]}function S2(t){return t==null?AZ:function(){return this.querySelectorAll(t)}}function jZ(t){return function(){return RZ(t.apply(this,arguments))}}function PZ(t){typeof t=="function"?t=jZ(t):t=S2(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&(r.push(t.call(c,c.__data__,d,o)),i.push(c));return new As(r,i)}function E2(t){return function(){return this.matches(t)}}function N2(t){return function(e){return e.matches(t)}}var FZ=Array.prototype.find;function DZ(t){return function(){return FZ.call(this.children,t)}}function LZ(){return this.firstElementChild}function MZ(t){return this.select(t==null?LZ:DZ(typeof t=="function"?t:N2(t)))}var $Z=Array.prototype.filter;function BZ(){return Array.from(this.children)}function zZ(t){return function(){return $Z.call(this.children,t)}}function WZ(t){return this.selectAll(t==null?BZ:zZ(typeof t=="function"?t:N2(t)))}function UZ(t){typeof t!="function"&&(t=E2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new As(r,this._parents)}function k2(t){return new Array(t.length)}function VZ(){return new As(this._enter||this._groups.map(k2),this._parents)}function vv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}vv.prototype={constructor:vv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function HZ(t){return function(){return t}}function QZ(t,e,n,r,i,s){for(var o=0,l,c=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new vv(t,s[o]);for(;o<c;++o)(l=e[o])&&(i[o]=l)}function KZ(t,e,n,r,i,s,o){var l,c,d=new Map,f=e.length,p=s.length,b=new Array(f),x;for(l=0;l<f;++l)(c=e[l])&&(b[l]=x=o.call(c,c.__data__,l,e)+"",d.has(x)?i[l]=c:d.set(x,c));for(l=0;l<p;++l)x=o.call(t,s[l],l,s)+"",(c=d.get(x))?(r[l]=c,c.__data__=s[l],d.delete(x)):n[l]=new vv(t,s[l]);for(l=0;l<f;++l)(c=e[l])&&d.get(b[l])===c&&(i[l]=c)}function GZ(t){return t.__data__}function ZZ(t,e){if(!arguments.length)return Array.from(this,GZ);var n=e?KZ:QZ,r=this._parents,i=this._groups;typeof t!="function"&&(t=HZ(t));for(var s=i.length,o=new Array(s),l=new Array(s),c=new Array(s),d=0;d<s;++d){var f=r[d],p=i[d],b=p.length,x=JZ(t.call(f,f&&f.__data__,d,r)),_=x.length,N=l[d]=new Array(_),I=o[d]=new Array(_),O=c[d]=new Array(b);n(f,p,N,I,O,x,e);for(var T=0,q=0,j,D;T<_;++T)if(j=N[T]){for(T>=q&&(q=T+1);!(D=I[q])&&++q<_;);j._next=D||null}}return o=new As(o,r),o._enter=l,o._exit=c,o}function JZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function YZ(){return new As(this._exit||this._groups.map(k2),this._parents)}function XZ(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function eJ(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),c=0;c<o;++c)for(var d=n[c],f=r[c],p=d.length,b=l[c]=new Array(p),x,_=0;_<p;++_)(x=d[_]||f[_])&&(b[_]=x);for(;c<i;++c)l[c]=n[c];return new As(l,this._parents)}function tJ(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function nJ(t){t||(t=rJ);function e(p,b){return p&&b?t(p.__data__,b.__data__):!p-!b}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=i[s]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(c[f]=d);c.sort(e)}return new As(i,this._parents).order()}function rJ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function iJ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sJ(){return Array.from(this)}function oJ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function aJ(){let t=0;for(const e of this)++t;return t}function lJ(){return!this.node()}function uJ(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function cJ(t){return function(){this.removeAttribute(t)}}function dJ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fJ(t,e){return function(){this.setAttribute(t,e)}}function pJ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function hJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function mJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function gJ(t,e){var n=Eb(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?dJ:cJ:typeof e=="function"?n.local?mJ:hJ:n.local?pJ:fJ)(n,e))}function I2(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function yJ(t){return function(){this.style.removeProperty(t)}}function vJ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function bJ(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function xJ(t,e,n){return arguments.length>1?this.each((e==null?yJ:typeof e=="function"?bJ:vJ)(t,e,n??"")):Dd(this.node(),t)}function Dd(t,e){return t.style.getPropertyValue(e)||I2(t).getComputedStyle(t,null).getPropertyValue(e)}function wJ(t){return function(){delete this[t]}}function _J(t,e){return function(){this[t]=e}}function SJ(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function EJ(t,e){return arguments.length>1?this.each((e==null?wJ:typeof e=="function"?SJ:_J)(t,e)):this.node()[t]}function C2(t){return t.trim().split(/^|\s+/)}function QN(t){return t.classList||new T2(t)}function T2(t){this._node=t,this._names=C2(t.getAttribute("class")||"")}T2.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function O2(t,e){for(var n=QN(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function q2(t,e){for(var n=QN(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function NJ(t){return function(){O2(this,t)}}function kJ(t){return function(){q2(this,t)}}function IJ(t,e){return function(){(e.apply(this,arguments)?O2:q2)(this,t)}}function CJ(t,e){var n=C2(t+"");if(arguments.length<2){for(var r=QN(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?IJ:e?NJ:kJ)(n,e))}function TJ(){this.textContent=""}function OJ(t){return function(){this.textContent=t}}function qJ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function RJ(t){return arguments.length?this.each(t==null?TJ:(typeof t=="function"?qJ:OJ)(t)):this.node().textContent}function AJ(){this.innerHTML=""}function jJ(t){return function(){this.innerHTML=t}}function PJ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function FJ(t){return arguments.length?this.each(t==null?AJ:(typeof t=="function"?PJ:jJ)(t)):this.node().innerHTML}function DJ(){this.nextSibling&&this.parentNode.appendChild(this)}function LJ(){return this.each(DJ)}function MJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $J(){return this.each(MJ)}function BJ(t){var e=typeof t=="function"?t:_2(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function zJ(){return null}function WJ(t,e){var n=typeof t=="function"?t:_2(t),r=e==null?zJ:typeof e=="function"?e:HN(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function UJ(){var t=this.parentNode;t&&t.removeChild(this)}function VJ(){return this.each(UJ)}function HJ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function QJ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function KJ(t){return this.select(t?QJ:HJ)}function GJ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ZJ(t){return function(e){t.call(this,e,this.__data__)}}function JJ(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function YJ(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function XJ(t,e,n){return function(){var r=this.__on,i,s=ZJ(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function eY(t,e,n){var r=JJ(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,f;c<d;++c)for(i=0,f=l[c];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?XJ:YJ,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function R2(t,e,n){var r=I2(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function tY(t,e){return function(){return R2(this,t,e)}}function nY(t,e){return function(){return R2(this,t,e.apply(this,arguments))}}function rY(t,e){return this.each((typeof e=="function"?nY:tY)(t,e))}function*iY(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var A2=[null];function As(t,e){this._groups=t,this._parents=e}function rm(){return new As([[document.documentElement]],A2)}function sY(){return this}As.prototype=rm.prototype={constructor:As,select:qZ,selectAll:PZ,selectChild:MZ,selectChildren:WZ,filter:UZ,data:ZZ,enter:VZ,exit:YZ,join:XZ,merge:eJ,selection:sY,order:tJ,sort:nJ,call:iJ,nodes:sJ,node:oJ,size:aJ,empty:lJ,each:uJ,attr:gJ,style:xJ,property:EJ,classed:CJ,text:RJ,html:FJ,raise:LJ,lower:$J,append:BJ,insert:WJ,remove:VJ,clone:KJ,datum:GJ,on:eY,dispatch:rY,[Symbol.iterator]:iY};function Cs(t){return typeof t=="string"?new As([[document.querySelector(t)]],[document.documentElement]):new As([[t]],A2)}function oY(t){let e;for(;e=t.sourceEvent;)t=e;return t}function yo(t,e){if(t=oY(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const aY={passive:!1},Sh={capture:!0,passive:!1};function Q0(t){t.stopImmediatePropagation()}function Ed(t){t.preventDefault(),t.stopImmediatePropagation()}function j2(t){var e=t.document.documentElement,n=Cs(t).on("dragstart.drag",Ed,Sh);"onselectstart"in e?n.on("selectstart.drag",Ed,Sh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function P2(t,e){var n=t.document.documentElement,r=Cs(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ed,Sh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Pg=t=>()=>t;function pE(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:c,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}pE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function lY(t){return!t.ctrlKey&&!t.button}function uY(){return this.parentNode}function cY(t,e){return e??{x:t.x,y:t.y}}function dY(){return navigator.maxTouchPoints||"ontouchstart"in this}function F2(){var t=lY,e=uY,n=cY,r=dY,i={},s=Sb("start","drag","end"),o=0,l,c,d,f,p=0;function b(j){j.on("mousedown.drag",x).filter(r).on("touchstart.drag",I).on("touchmove.drag",O,aY).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(j,D){if(!(f||!t.call(this,j,D))){var L=q(this,e.call(this,j,D),j,D,"mouse");L&&(Cs(j.view).on("mousemove.drag",_,Sh).on("mouseup.drag",N,Sh),j2(j.view),Q0(j),d=!1,l=j.clientX,c=j.clientY,L("start",j))}}function _(j){if(Ed(j),!d){var D=j.clientX-l,L=j.clientY-c;d=D*D+L*L>p}i.mouse("drag",j)}function N(j){Cs(j.view).on("mousemove.drag mouseup.drag",null),P2(j.view,d),Ed(j),i.mouse("end",j)}function I(j,D){if(t.call(this,j,D)){var L=j.changedTouches,z=e.call(this,j,D),P=L.length,R,B;for(R=0;R<P;++R)(B=q(this,z,j,D,L[R].identifier,L[R]))&&(Q0(j),B("start",j,L[R]))}}function O(j){var D=j.changedTouches,L=D.length,z,P;for(z=0;z<L;++z)(P=i[D[z].identifier])&&(Ed(j),P("drag",j,D[z]))}function T(j){var D=j.changedTouches,L=D.length,z,P;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),z=0;z<L;++z)(P=i[D[z].identifier])&&(Q0(j),P("end",j,D[z]))}function q(j,D,L,z,P,R){var B=s.copy(),F=yo(R||L,D),W,U,$;if(($=n.call(j,new pE("beforestart",{sourceEvent:L,target:b,identifier:P,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:B}),z))!=null)return W=$.x-F[0]||0,U=$.y-F[1]||0,function ee(Z,le,ie){var te=F,se;switch(Z){case"start":i[P]=ee,se=o++;break;case"end":delete i[P],--o;case"drag":F=yo(ie||le,D),se=o;break}B.call(Z,j,new pE(Z,{sourceEvent:le,subject:$,target:b,identifier:P,active:se,x:F[0]+W,y:F[1]+U,dx:F[0]-te[0],dy:F[1]-te[1],dispatch:B}),z)}}return b.filter=function(j){return arguments.length?(t=typeof j=="function"?j:Pg(!!j),b):t},b.container=function(j){return arguments.length?(e=typeof j=="function"?j:Pg(j),b):e},b.subject=function(j){return arguments.length?(n=typeof j=="function"?j:Pg(j),b):n},b.touchable=function(j){return arguments.length?(r=typeof j=="function"?j:Pg(!!j),b):r},b.on=function(){var j=s.on.apply(s,arguments);return j===s?b:j},b.clickDistance=function(j){return arguments.length?(p=(j=+j)*j,b):Math.sqrt(p)},b}function KN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function D2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function im(){}var Eh=.7,bv=1/Eh,Nd="\\s*([+-]?\\d+)\\s*",Nh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fY=/^#([0-9a-f]{3,8})$/,pY=new RegExp(`^rgb\\(${Nd},${Nd},${Nd}\\)$`),hY=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),mY=new RegExp(`^rgba\\(${Nd},${Nd},${Nd},${Nh}\\)$`),gY=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${Nh}\\)$`),yY=new RegExp(`^hsl\\(${Nh},${Ko},${Ko}\\)$`),vY=new RegExp(`^hsla\\(${Nh},${Ko},${Ko},${Nh}\\)$`),gR={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};KN(im,kh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yR,formatHex:yR,formatHex8:bY,formatHsl:xY,formatRgb:vR,toString:vR});function yR(){return this.rgb().formatHex()}function bY(){return this.rgb().formatHex8()}function xY(){return L2(this).formatHsl()}function vR(){return this.rgb().formatRgb()}function kh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bR(e):n===3?new os(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pY.exec(t))?new os(e[1],e[2],e[3],1):(e=hY.exec(t))?new os(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mY.exec(t))?Fg(e[1],e[2],e[3],e[4]):(e=gY.exec(t))?Fg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yY.exec(t))?_R(e[1],e[2]/100,e[3]/100,1):(e=vY.exec(t))?_R(e[1],e[2]/100,e[3]/100,e[4]):gR.hasOwnProperty(t)?bR(gR[t]):t==="transparent"?new os(NaN,NaN,NaN,0):null}function bR(t){return new os(t>>16&255,t>>8&255,t&255,1)}function Fg(t,e,n,r){return r<=0&&(t=e=n=NaN),new os(t,e,n,r)}function wY(t){return t instanceof im||(t=kh(t)),t?(t=t.rgb(),new os(t.r,t.g,t.b,t.opacity)):new os}function hE(t,e,n,r){return arguments.length===1?wY(t):new os(t,e,n,r??1)}function os(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}KN(os,hE,D2(im,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new os(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Eh:Math.pow(Eh,t),new os(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new os($u(this.r),$u(this.g),$u(this.b),xv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xR,formatHex:xR,formatHex8:_Y,formatRgb:wR,toString:wR}));function xR(){return`#${Pu(this.r)}${Pu(this.g)}${Pu(this.b)}`}function _Y(){return`#${Pu(this.r)}${Pu(this.g)}${Pu(this.b)}${Pu((isNaN(this.opacity)?1:this.opacity)*255)}`}function wR(){const t=xv(this.opacity);return`${t===1?"rgb(":"rgba("}${$u(this.r)}, ${$u(this.g)}, ${$u(this.b)}${t===1?")":`, ${t})`}`}function xv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $u(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pu(t){return t=$u(t),(t<16?"0":"")+t.toString(16)}function _R(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xo(t,e,n,r)}function L2(t){if(t instanceof xo)return new xo(t.h,t.s,t.l,t.opacity);if(t instanceof im||(t=kh(t)),!t)return new xo;if(t instanceof xo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new xo(o,l,c,t.opacity)}function SY(t,e,n,r){return arguments.length===1?L2(t):new xo(t,e,n,r??1)}function xo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}KN(xo,SY,D2(im,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new xo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Eh:Math.pow(Eh,t),new xo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new os(K0(t>=240?t-240:t+120,i,r),K0(t,i,r),K0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xo(SR(this.h),Dg(this.s),Dg(this.l),xv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xv(this.opacity);return`${t===1?"hsl(":"hsla("}${SR(this.h)}, ${Dg(this.s)*100}%, ${Dg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SR(t){return t=(t||0)%360,t<0?t+360:t}function Dg(t){return Math.max(0,Math.min(1,t||0))}function K0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const M2=t=>()=>t;function EY(t,e){return function(n){return t+n*e}}function NY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function kY(t){return(t=+t)==1?$2:function(e,n){return n-e?NY(e,n,t):M2(isNaN(e)?n:e)}}function $2(t,e){var n=e-t;return n?EY(t,n):M2(isNaN(t)?e:t)}const ER=function t(e){var n=kY(e);function r(i,s){var o=n((i=hE(i)).r,(s=hE(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=$2(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function bl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var mE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G0=new RegExp(mE.source,"g");function IY(t){return function(){return t}}function CY(t){return function(e){return t(e)+""}}function TY(t,e){var n=mE.lastIndex=G0.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=mE.exec(t))&&(i=G0.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:bl(r,i)})),n=G0.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?CY(c[0].x):IY(e):(e=c.length,function(d){for(var f=0,p;f<e;++f)l[(p=c[f]).i]=p.x(d);return l.join("")})}var NR=180/Math.PI,gE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function B2(t,e,n,r,i,s){var o,l,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*NR,skewX:Math.atan(c)*NR,scaleX:o,scaleY:l}}var Lg;function OY(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?gE:B2(e.a,e.b,e.c,e.d,e.e,e.f)}function qY(t){return t==null||(Lg||(Lg=document.createElementNS("http://www.w3.org/2000/svg","g")),Lg.setAttribute("transform",t),!(t=Lg.transform.baseVal.consolidate()))?gE:(t=t.matrix,B2(t.a,t.b,t.c,t.d,t.e,t.f))}function z2(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,f,p,b,x,_){if(d!==p||f!==b){var N=x.push("translate(",null,e,null,n);_.push({i:N-4,x:bl(d,p)},{i:N-2,x:bl(f,b)})}else(p||b)&&x.push("translate("+p+e+b+n)}function o(d,f,p,b){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),b.push({i:p.push(i(p)+"rotate(",null,r)-2,x:bl(d,f)})):f&&p.push(i(p)+"rotate("+f+r)}function l(d,f,p,b){d!==f?b.push({i:p.push(i(p)+"skewX(",null,r)-2,x:bl(d,f)}):f&&p.push(i(p)+"skewX("+f+r)}function c(d,f,p,b,x,_){if(d!==p||f!==b){var N=x.push(i(x)+"scale(",null,",",null,")");_.push({i:N-4,x:bl(d,p)},{i:N-2,x:bl(f,b)})}else(p!==1||b!==1)&&x.push(i(x)+"scale("+p+","+b+")")}return function(d,f){var p=[],b=[];return d=t(d),f=t(f),s(d.translateX,d.translateY,f.translateX,f.translateY,p,b),o(d.rotate,f.rotate,p,b),l(d.skewX,f.skewX,p,b),c(d.scaleX,d.scaleY,f.scaleX,f.scaleY,p,b),d=f=null,function(x){for(var _=-1,N=b.length,I;++_<N;)p[(I=b[_]).i]=I.x(x);return p.join("")}}}var RY=z2(OY,"px, ","px)","deg)"),AY=z2(qY,", ",")",")"),jY=1e-12;function kR(t){return((t=Math.exp(t))+1/t)/2}function PY(t){return((t=Math.exp(t))-1/t)/2}function FY(t){return((t=Math.exp(2*t))-1)/(t+1)}const DY=function t(e,n,r){function i(s,o){var l=s[0],c=s[1],d=s[2],f=o[0],p=o[1],b=o[2],x=f-l,_=p-c,N=x*x+_*_,I,O;if(N<jY)O=Math.log(b/d)/e,I=function(z){return[l+z*x,c+z*_,d*Math.exp(e*z*O)]};else{var T=Math.sqrt(N),q=(b*b-d*d+r*N)/(2*d*n*T),j=(b*b-d*d-r*N)/(2*b*n*T),D=Math.log(Math.sqrt(q*q+1)-q),L=Math.log(Math.sqrt(j*j+1)-j);O=(L-D)/e,I=function(z){var P=z*O,R=kR(D),B=d/(n*T)*(R*FY(e*P+D)-PY(D));return[l+B*x,c+B*_,d*R/kR(e*P+D)]}}return I.duration=O*1e3*e/Math.SQRT2,I}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,c=l*l;return t(o,l,c)},i}(Math.SQRT2,2,4);var Ld=0,vp=0,ip=0,W2=1e3,wv,bp,_v=0,Yu=0,Nb=0,Ih=typeof performance=="object"&&performance.now?performance:Date,U2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function GN(){return Yu||(U2(LY),Yu=Ih.now()+Nb)}function LY(){Yu=0}function Sv(){this._call=this._time=this._next=null}Sv.prototype=V2.prototype={constructor:Sv,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?GN():+n)+(e==null?0:+e),!this._next&&bp!==this&&(bp?bp._next=this:wv=this,bp=this),this._call=t,this._time=n,yE()},stop:function(){this._call&&(this._call=null,this._time=1/0,yE())}};function V2(t,e,n){var r=new Sv;return r.restart(t,e,n),r}function MY(){GN(),++Ld;for(var t=wv,e;t;)(e=Yu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ld}function IR(){Yu=(_v=Ih.now())+Nb,Ld=vp=0;try{MY()}finally{Ld=0,BY(),Yu=0}}function $Y(){var t=Ih.now(),e=t-_v;e>W2&&(Nb-=e,_v=t)}function BY(){for(var t,e=wv,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:wv=n);bp=t,yE(r)}function yE(t){if(!Ld){vp&&(vp=clearTimeout(vp));var e=t-Yu;e>24?(t<1/0&&(vp=setTimeout(IR,t-Ih.now()-Nb)),ip&&(ip=clearInterval(ip))):(ip||(_v=Ih.now(),ip=setInterval($Y,W2)),Ld=1,U2(IR))}}function CR(t,e,n){var r=new Sv;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var zY=Sb("start","end","cancel","interrupt"),WY=[],H2=0,TR=1,vE=2,gy=3,OR=4,bE=5,yy=6;function kb(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;UY(t,n,{name:e,index:r,group:i,on:zY,tween:WY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:H2})}function ZN(t,e){var n=Ro(t,e);if(n.state>H2)throw new Error("too late; already scheduled");return n}function ra(t,e){var n=Ro(t,e);if(n.state>gy)throw new Error("too late; already running");return n}function Ro(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function UY(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=V2(s,0,n.time);function s(d){n.state=TR,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var f,p,b,x;if(n.state!==TR)return c();for(f in r)if(x=r[f],x.name===n.name){if(x.state===gy)return CR(o);x.state===OR?(x.state=yy,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[f]):+f<e&&(x.state=yy,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[f])}if(CR(function(){n.state===gy&&(n.state=OR,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=vE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vE){for(n.state=gy,i=new Array(b=n.tween.length),f=0,p=-1;f<b;++f)(x=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=x);i.length=p+1}}function l(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=bE,1),p=-1,b=i.length;++p<b;)i[p].call(t,f);n.state===bE&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=yy,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function vy(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>vE&&r.state<bE,r.state=yy,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function VY(t){return this.each(function(){vy(this,t)})}function HY(t,e){var n,r;return function(){var i=ra(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function QY(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ra(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},c=0,d=i.length;c<d;++c)if(i[c].name===e){i[c]=l;break}c===d&&i.push(l)}s.tween=i}}function KY(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ro(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?HY:QY)(n,t,e))}function JN(t,e,n){var r=t._id;return t.each(function(){var i=ra(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ro(i,r).value[e]}}function Q2(t,e){var n;return(typeof e=="number"?bl:e instanceof kh?ER:(n=kh(e))?(e=n,ER):TY)(t,e)}function GY(t){return function(){this.removeAttribute(t)}}function ZY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function JY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function YY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function XY(t,e,n){var r,i,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=l+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l)))}}function eX(t,e,n){var r,i,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=l+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l)))}}function tX(t,e){var n=Eb(t),r=n==="transform"?AY:Q2;return this.attrTween(t,typeof e=="function"?(n.local?eX:XY)(n,r,JN(this,"attr."+t,e)):e==null?(n.local?ZY:GY)(n):(n.local?YY:JY)(n,r,e))}function nX(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function rX(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function iX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&rX(t,s)),n}return i._value=e,i}function sX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&nX(t,s)),n}return i._value=e,i}function oX(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Eb(t);return this.tween(n,(r.local?iX:sX)(r,e))}function aX(t,e){return function(){ZN(this,t).delay=+e.apply(this,arguments)}}function lX(t,e){return e=+e,function(){ZN(this,t).delay=e}}function uX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?aX:lX)(e,t)):Ro(this.node(),e).delay}function cX(t,e){return function(){ra(this,t).duration=+e.apply(this,arguments)}}function dX(t,e){return e=+e,function(){ra(this,t).duration=e}}function fX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?cX:dX)(e,t)):Ro(this.node(),e).duration}function pX(t,e){if(typeof e!="function")throw new Error;return function(){ra(this,t).ease=e}}function hX(t){var e=this._id;return arguments.length?this.each(pX(e,t)):Ro(this.node(),e).ease}function mX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ra(this,t).ease=n}}function gX(t){if(typeof t!="function")throw new Error;return this.each(mX(this._id,t))}function yX(t){typeof t!="function"&&(t=E2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new Ma(r,this._parents,this._name,this._id)}function vX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var c=e[l],d=n[l],f=c.length,p=o[l]=new Array(f),b,x=0;x<f;++x)(b=c[x]||d[x])&&(p[x]=b);for(;l<r;++l)o[l]=e[l];return new Ma(o,this._parents,this._name,this._id)}function bX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function xX(t,e,n){var r,i,s=bX(e)?ZN:ra;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function wX(t,e){var n=this._id;return arguments.length<2?Ro(this.node(),n).on.on(t):this.each(xX(n,t,e))}function _X(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function SX(){return this.on("end.remove",_X(this._id))}function EX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=HN(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],c=l.length,d=s[o]=new Array(c),f,p,b=0;b<c;++b)(f=l[b])&&(p=t.call(f,f.__data__,b,l))&&("__data__"in f&&(p.__data__=f.__data__),d[b]=p,kb(d[b],e,n,b,d,Ro(f,n)));return new Ma(s,this._parents,e,n)}function NX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=S2(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var c=r[l],d=c.length,f,p=0;p<d;++p)if(f=c[p]){for(var b=t.call(f,f.__data__,p,c),x,_=Ro(f,n),N=0,I=b.length;N<I;++N)(x=b[N])&&kb(x,e,n,N,b,_);s.push(b),o.push(f)}return new Ma(s,o,e,n)}var kX=rm.prototype.constructor;function IX(){return new kX(this._groups,this._parents)}function CX(t,e){var n,r,i;return function(){var s=Dd(this,t),o=(this.style.removeProperty(t),Dd(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function K2(t){return function(){this.style.removeProperty(t)}}function TX(t,e,n){var r,i=n+"",s;return function(){var o=Dd(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function OX(t,e,n){var r,i,s;return function(){var o=Dd(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),Dd(this,t))),o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l))}}function qX(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var c=ra(this,t),d=c.on,f=c.value[s]==null?l||(l=K2(e)):void 0;(d!==n||i!==f)&&(r=(n=d).copy()).on(o,i=f),c.on=r}}function RX(t,e,n){var r=(t+="")=="transform"?RY:Q2;return e==null?this.styleTween(t,CX(t,r)).on("end.style."+t,K2(t)):typeof e=="function"?this.styleTween(t,OX(t,r,JN(this,"style."+t,e))).each(qX(this._id,t)):this.styleTween(t,TX(t,r,e),n).on("end.style."+t,null)}function AX(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function jX(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&AX(t,o,n)),r}return s._value=e,s}function PX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,jX(t,e,n??""))}function FX(t){return function(){this.textContent=t}}function DX(t){return function(){var e=t(this);this.textContent=e??""}}function LX(t){return this.tween("text",typeof t=="function"?DX(JN(this,"text",t)):FX(t==null?"":t+""))}function MX(t){return function(e){this.textContent=t.call(this,e)}}function $X(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&MX(i)),e}return r._value=t,r}function BX(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,$X(t))}function zX(){for(var t=this._name,e=this._id,n=G2(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,c,d=0;d<l;++d)if(c=o[d]){var f=Ro(c,e);kb(c,t,n,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ma(r,this._parents,t,n)}function WX(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--i===0&&s()}};n.each(function(){var d=ra(this,r),f=d.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),d.on=e}),i===0&&s()})}var UX=0;function Ma(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function G2(){return++UX}var wa=rm.prototype;Ma.prototype={constructor:Ma,select:EX,selectAll:NX,selectChild:wa.selectChild,selectChildren:wa.selectChildren,filter:yX,merge:vX,selection:IX,transition:zX,call:wa.call,nodes:wa.nodes,node:wa.node,size:wa.size,empty:wa.empty,each:wa.each,on:wX,attr:tX,attrTween:oX,style:RX,styleTween:PX,text:LX,textTween:BX,remove:SX,tween:KY,delay:uX,duration:fX,ease:hX,easeVarying:gX,end:WX,[Symbol.iterator]:wa[Symbol.iterator]};function VX(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var HX={time:null,delay:0,duration:250,ease:VX};function QX(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function KX(t){var e,n;t instanceof Ma?(e=t._id,t=t._name):(e=G2(),(n=HX).time=GN(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&kb(c,t,e,d,o,n||QX(c,e));return new Ma(r,this._parents,t,e)}rm.prototype.interrupt=VY;rm.prototype.transition=KX;const Mg=t=>()=>t;function GX(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ta(t,e,n){this.k=t,this.x=e,this.y=n}Ta.prototype={constructor:Ta,scale:function(t){return t===1?this:new Ta(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ta(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ib=new Ta(1,0,0);Z2.prototype=Ta.prototype;function Z2(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ib;return t.__zoom}function Z0(t){t.stopImmediatePropagation()}function sp(t){t.preventDefault(),t.stopImmediatePropagation()}function ZX(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function JX(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function qR(){return this.__zoom||Ib}function YX(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function XX(){return navigator.maxTouchPoints||"ontouchstart"in this}function eee(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function J2(){var t=ZX,e=JX,n=eee,r=YX,i=XX,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=DY,d=Sb("start","zoom","end"),f,p,b,x=500,_=150,N=0,I=10;function O($){$.property("__zoom",qR).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",B).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function($,ee,Z,le){var ie=$.selection?$.selection():$;ie.property("__zoom",qR),$!==ie?D($,ee,Z,le):ie.interrupt().each(function(){L(this,arguments).event(le).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},O.scaleBy=function($,ee,Z,le){O.scaleTo($,function(){var ie=this.__zoom.k,te=typeof ee=="function"?ee.apply(this,arguments):ee;return ie*te},Z,le)},O.scaleTo=function($,ee,Z,le){O.transform($,function(){var ie=e.apply(this,arguments),te=this.__zoom,se=Z==null?j(ie):typeof Z=="function"?Z.apply(this,arguments):Z,Y=te.invert(se),ce=typeof ee=="function"?ee.apply(this,arguments):ee;return n(q(T(te,ce),se,Y),ie,o)},Z,le)},O.translateBy=function($,ee,Z,le){O.transform($,function(){return n(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof Z=="function"?Z.apply(this,arguments):Z),e.apply(this,arguments),o)},null,le)},O.translateTo=function($,ee,Z,le,ie){O.transform($,function(){var te=e.apply(this,arguments),se=this.__zoom,Y=le==null?j(te):typeof le=="function"?le.apply(this,arguments):le;return n(Ib.translate(Y[0],Y[1]).scale(se.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof Z=="function"?-Z.apply(this,arguments):-Z),te,o)},le,ie)};function T($,ee){return ee=Math.max(s[0],Math.min(s[1],ee)),ee===$.k?$:new Ta(ee,$.x,$.y)}function q($,ee,Z){var le=ee[0]-Z[0]*$.k,ie=ee[1]-Z[1]*$.k;return le===$.x&&ie===$.y?$:new Ta($.k,le,ie)}function j($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function D($,ee,Z,le){$.on("start.zoom",function(){L(this,arguments).event(le).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(le).end()}).tween("zoom",function(){var ie=this,te=arguments,se=L(ie,te).event(le),Y=e.apply(ie,te),ce=Z==null?j(Y):typeof Z=="function"?Z.apply(ie,te):Z,de=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),ye=ie.__zoom,we=typeof ee=="function"?ee.apply(ie,te):ee,Ne=c(ye.invert(ce).concat(de/ye.k),we.invert(ce).concat(de/we.k));return function(ze){if(ze===1)ze=we;else{var qe=Ne(ze),De=de/qe[2];ze=new Ta(De,ce[0]-qe[0]*De,ce[1]-qe[1]*De)}se.zoom(null,ze)}})}function L($,ee,Z){return!Z&&$.__zooming||new z($,ee)}function z($,ee){this.that=$,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=e.apply($,ee),this.taps=0}z.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,ee){return this.mouse&&$!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var ee=Cs(this.that).datum();d.call($,this.that,new GX($,{sourceEvent:this.sourceEvent,target:O,type:$,transform:this.that.__zoom,dispatch:d}),ee)}};function P($,...ee){if(!t.apply(this,arguments))return;var Z=L(this,ee).event($),le=this.__zoom,ie=Math.max(s[0],Math.min(s[1],le.k*Math.pow(2,r.apply(this,arguments)))),te=yo($);if(Z.wheel)(Z.mouse[0][0]!==te[0]||Z.mouse[0][1]!==te[1])&&(Z.mouse[1]=le.invert(Z.mouse[0]=te)),clearTimeout(Z.wheel);else{if(le.k===ie)return;Z.mouse=[te,le.invert(te)],vy(this),Z.start()}sp($),Z.wheel=setTimeout(se,_),Z.zoom("mouse",n(q(T(le,ie),Z.mouse[0],Z.mouse[1]),Z.extent,o));function se(){Z.wheel=null,Z.end()}}function R($,...ee){if(b||!t.apply(this,arguments))return;var Z=$.currentTarget,le=L(this,ee,!0).event($),ie=Cs($.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",de,!0),te=yo($,Z),se=$.clientX,Y=$.clientY;j2($.view),Z0($),le.mouse=[te,this.__zoom.invert(te)],vy(this),le.start();function ce(ye){if(sp(ye),!le.moved){var we=ye.clientX-se,Ne=ye.clientY-Y;le.moved=we*we+Ne*Ne>N}le.event(ye).zoom("mouse",n(q(le.that.__zoom,le.mouse[0]=yo(ye,Z),le.mouse[1]),le.extent,o))}function de(ye){ie.on("mousemove.zoom mouseup.zoom",null),P2(ye.view,le.moved),sp(ye),le.event(ye).end()}}function B($,...ee){if(t.apply(this,arguments)){var Z=this.__zoom,le=yo($.changedTouches?$.changedTouches[0]:$,this),ie=Z.invert(le),te=Z.k*($.shiftKey?.5:2),se=n(q(T(Z,te),le,ie),e.apply(this,ee),o);sp($),l>0?Cs(this).transition().duration(l).call(D,se,le,$):Cs(this).call(O.transform,se,le,$)}}function F($,...ee){if(t.apply(this,arguments)){var Z=$.touches,le=Z.length,ie=L(this,ee,$.changedTouches.length===le).event($),te,se,Y,ce;for(Z0($),se=0;se<le;++se)Y=Z[se],ce=yo(Y,this),ce=[ce,this.__zoom.invert(ce),Y.identifier],ie.touch0?!ie.touch1&&ie.touch0[2]!==ce[2]&&(ie.touch1=ce,ie.taps=0):(ie.touch0=ce,te=!0,ie.taps=1+!!f);f&&(f=clearTimeout(f)),te&&(ie.taps<2&&(p=ce[0],f=setTimeout(function(){f=null},x)),vy(this),ie.start())}}function W($,...ee){if(this.__zooming){var Z=L(this,ee).event($),le=$.changedTouches,ie=le.length,te,se,Y,ce;for(sp($),te=0;te<ie;++te)se=le[te],Y=yo(se,this),Z.touch0&&Z.touch0[2]===se.identifier?Z.touch0[0]=Y:Z.touch1&&Z.touch1[2]===se.identifier&&(Z.touch1[0]=Y);if(se=Z.that.__zoom,Z.touch1){var de=Z.touch0[0],ye=Z.touch0[1],we=Z.touch1[0],Ne=Z.touch1[1],ze=(ze=we[0]-de[0])*ze+(ze=we[1]-de[1])*ze,qe=(qe=Ne[0]-ye[0])*qe+(qe=Ne[1]-ye[1])*qe;se=T(se,Math.sqrt(ze/qe)),Y=[(de[0]+we[0])/2,(de[1]+we[1])/2],ce=[(ye[0]+Ne[0])/2,(ye[1]+Ne[1])/2]}else if(Z.touch0)Y=Z.touch0[0],ce=Z.touch0[1];else return;Z.zoom("touch",n(q(se,Y,ce),Z.extent,o))}}function U($,...ee){if(this.__zooming){var Z=L(this,ee).event($),le=$.changedTouches,ie=le.length,te,se;for(Z0($),b&&clearTimeout(b),b=setTimeout(function(){b=null},x),te=0;te<ie;++te)se=le[te],Z.touch0&&Z.touch0[2]===se.identifier?delete Z.touch0:Z.touch1&&Z.touch1[2]===se.identifier&&delete Z.touch1;if(Z.touch1&&!Z.touch0&&(Z.touch0=Z.touch1,delete Z.touch1),Z.touch0)Z.touch0[1]=this.__zoom.invert(Z.touch0[0]);else if(Z.end(),Z.taps===2&&(se=yo(se,this),Math.hypot(p[0]-se[0],p[1]-se[1])<I)){var Y=Cs(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return O.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:Mg(+$),O):r},O.filter=function($){return arguments.length?(t=typeof $=="function"?$:Mg(!!$),O):t},O.touchable=function($){return arguments.length?(i=typeof $=="function"?$:Mg(!!$),O):i},O.extent=function($){return arguments.length?(e=typeof $=="function"?$:Mg([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),O):e},O.scaleExtent=function($){return arguments.length?(s[0]=+$[0],s[1]=+$[1],O):[s[0],s[1]]},O.translateExtent=function($){return arguments.length?(o[0][0]=+$[0][0],o[1][0]=+$[1][0],o[0][1]=+$[0][1],o[1][1]=+$[1][1],O):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},O.constrain=function($){return arguments.length?(n=$,O):n},O.duration=function($){return arguments.length?(l=+$,O):l},O.interpolate=function($){return arguments.length?(c=$,O):c},O.on=function(){var $=d.on.apply(d,arguments);return $===d?O:$},O.clickDistance=function($){return arguments.length?(N=($=+$)*$,O):Math.sqrt(N)},O.tapDistance=function($){return arguments.length?(I=+$,O):I},O}const Ba={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Ch=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Y2=["Enter"," ","Escape"];var Md;(function(t){t.Strict="strict",t.Loose="loose"})(Md||(Md={}));var Bu;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Bu||(Bu={}));var Th;(function(t){t.Partial="partial",t.Full="full"})(Th||(Th={}));const X2={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var kl;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(kl||(kl={}));var Ev;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Ev||(Ev={}));var Lt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Lt||(Lt={}));const RR={[Lt.Left]:Lt.Right,[Lt.Right]:Lt.Left,[Lt.Top]:Lt.Bottom,[Lt.Bottom]:Lt.Top};function eD(t){return t===null?null:t?"valid":"invalid"}const tD=t=>"id"in t&&"source"in t&&"target"in t,tee=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),YN=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),sm=(t,e=[0,0])=>{const{width:n,height:r}=za(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},nee=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):YN(i)?i:e.nodeLookup.get(i.id));const l=o?Nv(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Cb(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Tb(n)},om=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=Nv(r);n=Cb(n,i)}}),Tb(n)},nD=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const l={...am(e,[n,r,i]),width:e.width/i,height:e.height/i},c=[];for(const d of t.values()){const{measured:f,selectable:p=!0,hidden:b=!1}=d;if(o&&!p||b)continue;const x=f.width??d.width??d.initialWidth??null,_=f.height??d.height??d.initialHeight??null,N=Oh(l,Bd(d)),I=(x??0)*(_??0),O=s&&N>0;(!d.internals.handleBounds||O||N>=I||d.dragging)&&c.push(d)}return c},ree=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function xE(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function wE({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const l=om(t),c=XN(l,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(c,{duration:o?.duration}),Promise.resolve(!0)}function rD({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),l=o.parentId?n.get(o.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let p=i;if(o.extent==="parent"&&!o.expandParent)if(!l)s?.("005",Ba.error005());else{const x=l.measured.width,_=l.measured.height;x&&_&&(p=[[c,d],[c+x,d+_]])}else l&&zd(o.extent)&&(p=[[o.extent[0][0]+c,o.extent[0][1]+d],[o.extent[1][0]+c,o.extent[1][1]+d]]);const b=zd(p)?Xu(e,p,o.measured):e;return{position:{x:b.x-c+o.measured.width*f[0],y:b.y-d+o.measured.height*f[1]},positionAbsolute:b}}async function iee({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(b=>b.id)),o=[];for(const b of n){if(b.deletable===!1)continue;const x=s.has(b.id),_=!x&&b.parentId&&o.find(N=>N.id===b.parentId);(x||_)&&o.push(b)}const l=new Set(e.map(b=>b.id)),c=r.filter(b=>b.deletable!==!1),f=ree(o,c);for(const b of c)l.has(b.id)&&!f.find(_=>_.id===b.id)&&f.push(b);if(!i)return{edges:f,nodes:o};const p=await i({nodes:o,edges:f});return typeof p=="boolean"?p?{edges:f,nodes:o}:{edges:[],nodes:[]}:p}const $d=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Xu=(t={x:0,y:0},e,n)=>({x:$d(t.x,e[0][0],e[1][0]-(n?.width??0)),y:$d(t.y,e[0][1],e[1][1]-(n?.height??0))});function iD(t,e,n){const{width:r,height:i}=za(n),{x:s,y:o}=n.internals.positionAbsolute;return Xu(t,[[s,o],[s+r,o+i]],e)}const AR=(t,e,n)=>t<e?$d(Math.abs(t-e),1,e)/e:t>n?-$d(Math.abs(t-n),1,e)/e:0,sD=(t,e,n=15,r=40)=>{const i=AR(t.x,r,e.width-r)*n,s=AR(t.y,r,e.height-r)*n;return[i,s]},Cb=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),_E=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Tb=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Bd=(t,e=[0,0])=>{const{x:n,y:r}=YN(t)?t.internals.positionAbsolute:sm(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Nv=(t,e=[0,0])=>{const{x:n,y:r}=YN(t)?t.internals.positionAbsolute:sm(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},oD=(t,e)=>Tb(Cb(_E(t),_E(e))),Oh=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},jR=t=>Eo(t.width)&&Eo(t.height)&&Eo(t.x)&&Eo(t.y),Eo=t=>!isNaN(t)&&isFinite(t),see=(t,e)=>{},Ob=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),am=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?Ob(l,o):l},aD=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),XN=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),l=n/(t.height*(1+s)),c=Math.min(o,l),d=$d(c,r,i),f=t.x+t.width/2,p=t.y+t.height/2,b=e/2-f*d,x=n/2-p*d;return{x:b,y:x,zoom:d}},kv=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function zd(t){return t!==void 0&&t!=="parent"}function za(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function lD(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function uD(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function PR(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Bp(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Ra(t),l=am({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:c,y:d}=n?Ob(l,e):l;return{xSnapped:c,ySnapped:d,...l}}const qb=t=>({width:t.offsetWidth,height:t.offsetHeight}),cD=t=>t?.getRootNode?.()||window?.document,oee=["INPUT","SELECT","TEXTAREA"];function SE(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:oee.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const dD=t=>"clientX"in t,Ra=(t,e)=>{const n=dD(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},FR=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...qb(o)}})};function fD({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const c=t*.125+i*.375+o*.375+n*.125,d=e*.125+s*.375+l*.375+r*.125,f=Math.abs(c-t),p=Math.abs(d-e);return[c,d,f,p]}function $g(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function DR({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Lt.Left:return[e-$g(e-r,s),n];case Lt.Right:return[e+$g(r-e,s),n];case Lt.Top:return[e,n-$g(n-i,s)];case Lt.Bottom:return[e,n+$g(i-n,s)]}}function e1({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,curvature:o=.25}){const[l,c]=DR({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[d,f]=DR({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[p,b,x,_]=fD({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${t},${e} C${l},${c} ${d},${f} ${r},${i}`,p,b,x,_]}function pD({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[s,l,i,o]}function aee({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function lee({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Cb(Nv(t),Nv(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Oh(o,Tb(s))>0}const uee=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,cee=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),dee=(t,e)=>{if(!t.source||!t.target)return e;let n;return tD(t)?n={...t}:n={...t,id:uee(t)},cee(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function hD({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,l]=pD({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,l]}const LR={[Lt.Left]:{x:-1,y:0},[Lt.Right]:{x:1,y:0},[Lt.Top]:{x:0,y:-1},[Lt.Bottom]:{x:0,y:1}},fee=({source:t,sourcePosition:e=Lt.Bottom,target:n})=>e===Lt.Left||e===Lt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},MR=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function pee({source:t,sourcePosition:e=Lt.Bottom,target:n,targetPosition:r=Lt.Top,center:i,offset:s}){const o=LR[e],l=LR[r],c={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},f=fee({source:c,sourcePosition:e,target:d}),p=f.x!==0?"x":"y",b=f[p];let x=[],_,N;const I={x:0,y:0},O={x:0,y:0},[T,q,j,D]=pD({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[p]*l[p]===-1){_=i.x??T,N=i.y??q;const z=[{x:_,y:c.y},{x:_,y:d.y}],P=[{x:c.x,y:N},{x:d.x,y:N}];o[p]===b?x=p==="x"?z:P:x=p==="x"?P:z}else{const z=[{x:c.x,y:d.y}],P=[{x:d.x,y:c.y}];if(p==="x"?x=o.x===b?P:z:x=o.y===b?z:P,e===r){const U=Math.abs(t[p]-n[p]);if(U<=s){const $=Math.min(s-1,s-U);o[p]===b?I[p]=(c[p]>t[p]?-1:1)*$:O[p]=(d[p]>n[p]?-1:1)*$}}if(e!==r){const U=p==="x"?"y":"x",$=o[p]===l[U],ee=c[U]>d[U],Z=c[U]<d[U];(o[p]===1&&(!$&&ee||$&&Z)||o[p]!==1&&(!$&&Z||$&&ee))&&(x=p==="x"?z:P)}const R={x:c.x+I.x,y:c.y+I.y},B={x:d.x+O.x,y:d.y+O.y},F=Math.max(Math.abs(R.x-x[0].x),Math.abs(B.x-x[0].x)),W=Math.max(Math.abs(R.y-x[0].y),Math.abs(B.y-x[0].y));F>=W?(_=(R.x+B.x)/2,N=x[0].y):(_=x[0].x,N=(R.y+B.y)/2)}return[[t,{x:c.x+I.x,y:c.y+I.y},...x,{x:d.x+O.x,y:d.y+O.y},n],_,N,j,D]}function hee(t,e,n,r){const i=Math.min(MR(t,e)/2,MR(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*f}`}const l=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${s},${o+i*c}Q ${s},${o} ${s+i*l},${o}`}function EE({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,borderRadius:o=5,centerX:l,centerY:c,offset:d=20}){const[f,p,b,x,_]=pee({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:l,y:c},offset:d});return[f.reduce((I,O,T)=>{let q="";return T>0&&T<f.length-1?q=hee(f[T-1],O,f[T+1],o):q=`${T===0?"M":"L"}${O.x} ${O.y}`,I+=q,I},""),p,b,x,_]}function $R(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function mee(t){const{sourceNode:e,targetNode:n}=t;if(!$R(e)||!$R(n))return null;const r=e.internals.handleBounds||BR(e.handles),i=n.internals.handleBounds||BR(n.handles),s=zR(r?.source??[],t.sourceHandle),o=zR(t.connectionMode===Md.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",Ba.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=s?.position||Lt.Bottom,c=o?.position||Lt.Top,d=qh(e,s,l),f=qh(n,o,c);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}function BR(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function qh(t,e,n=Lt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??za(t);if(r)return{x:i+o/2,y:s+l/2};switch(e?.position??n){case Lt.Top:return{x:i+o/2,y:s};case Lt.Right:return{x:i+o,y:s+l/2};case Lt.Bottom:return{x:i+o/2,y:s+l};case Lt.Left:return{x:i,y:s+l/2}}}function zR(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function NE(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function gee(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const d=NE(c,e);s.has(d)||(o.push({id:d,color:c.color||n,...c}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const t1={nodeOrigin:[0,0],nodeExtent:Ch,elevateNodesOnSelect:!0,defaults:{}},yee={...t1,checkEquality:!0};function n1(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function vee(t,e,n){const r=n1(t1,n);for(const i of t.values())if(i.parentId)r1(i,t,e,r);else{const s=sm(i,r.nodeOrigin),o=zd(i.extent)?i.extent:r.nodeExtent,l=Xu(s,o,za(i));i.internals.positionAbsolute=l}}function kE(t,e,n,r){const i=n1(yee,r),s=new Map(e),o=i?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let c=s.get(l.id);if(i.checkEquality&&l===c?.internals.userNode)e.set(l.id,c);else{const d=sm(l,i.nodeOrigin),f=zd(l.extent)?l.extent:i.nodeExtent,p=Xu(d,f,za(l));c={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:p,handleBounds:l.measured?c?.internals.handleBounds:void 0,z:mD(l,o),userNode:l}},e.set(l.id,c)}l.parentId&&r1(c,e,n,r)}}function bee(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function r1(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=n1(t1,r),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}bee(t,n);const d=i?1e3:0,{x:f,y:p,z:b}=xee(t,c,s,o,d),{positionAbsolute:x}=t.internals,_=f!==x.x||p!==x.y;(_||b!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:_?{x:f,y:p}:x,z:b})}function mD(t,e){return(Eo(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function xee(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,l=za(t),c=sm(t,n),d=zd(t.extent)?Xu(c,t.extent,l):c;let f=Xu({x:s+d.x,y:o+d.y},r,l);t.extent==="parent"&&(f=iD(f,l,e));const p=mD(t,i),b=e.internals.z??0;return{x:f.x,y:f.y,z:b>p?b:p}}function i1(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const l=e.get(o.parentId);if(!l)continue;const c=s.get(o.parentId)?.expandedRect??Bd(l),d=oD(c,o.rect);s.set(o.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:o,parent:l},c)=>{const d=l.internals.positionAbsolute,f=za(l),p=l.origin??r,b=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,x=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,_=Math.max(f.width,Math.round(o.width)),N=Math.max(f.height,Math.round(o.height)),I=(_-f.width)*p[0],O=(N-f.height)*p[1];(b>0||x>0||I||O)&&(i.push({id:c,type:"position",position:{x:l.position.x-b+I,y:l.position.y-x+O}}),n.get(c)?.forEach(T=>{t.some(q=>q.id===T.id)||i.push({id:T.id,type:"position",position:{x:T.position.x+b,y:T.position.y+x}})})),(f.width<o.width||f.height<o.height||b||x)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:_+(b?p[0]*b-I:0),height:N+(x?p[1]*x-O:0)}})}),i}function wee(t,e,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=[];for(const b of t.values()){const x=e.get(b.id);if(x)if(x.hidden)x.internals={...x.internals,handleBounds:void 0},l=!0;else{const _=qb(b.nodeElement),N=x.measured.width!==_.width||x.measured.height!==_.height;if(!!(_.width&&_.height&&(N||!x.internals.handleBounds||b.force))){const O=b.nodeElement.getBoundingClientRect(),T=zd(x.extent)?x.extent:s;let{positionAbsolute:q}=x.internals;x.parentId&&x.extent==="parent"?q=iD(q,_,e.get(x.parentId)):T&&(q=Xu(q,T,_)),x.measured=_,x.internals={...x.internals,positionAbsolute:q,handleBounds:{source:FR("source",b.nodeElement,O,f,x.id),target:FR("target",b.nodeElement,O,f,x.id)}},x.parentId&&r1(x,e,n,{nodeOrigin:i}),l=!0,N&&(c.push({id:x.id,type:"dimensions",dimensions:_}),x.expandParent&&x.parentId&&p.push({id:x.id,parentId:x.parentId,rect:Bd(x,i)}))}}}if(p.length>0){const b=i1(p,e,n,i);c.push(...b)}return{changes:c,updatedInternals:l}}async function _ee({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function WR(t,e,n,r,i,s){let o=i;const l=r.get(o)||new Map;r.set(o,l.set(n,e)),o=`${i}-${t}`;const c=r.get(o)||new Map;if(r.set(o,c.set(n,e)),s){o=`${i}-${t}-${s}`;const d=r.get(o)||new Map;r.set(o,d.set(n,e))}}function gD(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,c={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l},d=`${i}-${o}`,f=`${s}-${l}`;WR("source",c,f,t,i,o),WR("target",c,d,t,s,l),e.set(r.id,r)}}function yD(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:yD(n,e):!1}function UR(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function See(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!yD(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function J0({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,l]of e){const c=n.get(o)?.internals.userNode;c&&i.push({...c,position:l.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function Eee({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,c=!1,d={x:0,y:0},f=null,p=!1,b=null,x=!1;function _({noDragClassName:I,handleSelector:O,domNode:T,isSelectable:q,nodeId:j,nodeClickDistance:D=0}){b=Cs(T);function L({x:B,y:F},W){const{nodeLookup:U,nodeExtent:$,snapGrid:ee,snapToGrid:Z,nodeOrigin:le,onNodeDrag:ie,onSelectionDrag:te,onError:se,updateNodePositions:Y}=e();s={x:B,y:F};let ce=!1,de={x:0,y:0,x2:0,y2:0};if(l.size>1&&$){const ye=om(l);de=_E(ye)}for(const[ye,we]of l){if(!U.has(ye))continue;let Ne={x:B-we.distance.x,y:F-we.distance.y};Z&&(Ne=Ob(Ne,ee));let ze=[[$[0][0],$[0][1]],[$[1][0],$[1][1]]];if(l.size>1&&$&&!we.extent){const{positionAbsolute:Ze}=we.internals,Xe=Ze.x-de.x+$[0][0],Ue=Ze.x+we.measured.width-de.x2+$[1][0],ut=Ze.y-de.y+$[0][1],_t=Ze.y+we.measured.height-de.y2+$[1][1];ze=[[Xe,ut],[Ue,_t]]}const{position:qe,positionAbsolute:De}=rD({nodeId:ye,nextPosition:Ne,nodeLookup:U,nodeExtent:ze,nodeOrigin:le,onError:se});ce=ce||we.position.x!==qe.x||we.position.y!==qe.y,we.position=qe,we.internals.positionAbsolute=De}if(ce&&(Y(l,!0),W&&(r||ie||!j&&te))){const[ye,we]=J0({nodeId:j,dragItems:l,nodeLookup:U});r?.(W,l,ye,we),ie?.(W,ye,we),j||te?.(W,we)}}async function z(){if(!f)return;const{transform:B,panBy:F,autoPanSpeed:W}=e(),[U,$]=sD(d,f,W);(U!==0||$!==0)&&(s.x=(s.x??0)-U/B[2],s.y=(s.y??0)-$/B[2],await F({x:U,y:$})&&L(s,null)),o=requestAnimationFrame(z)}function P(B){const{nodeLookup:F,multiSelectionActive:W,nodesDraggable:U,transform:$,snapGrid:ee,snapToGrid:Z,selectNodesOnDrag:le,onNodeDragStart:ie,onSelectionDragStart:te,unselectNodesAndEdges:se}=e();p=!0,(!le||!q)&&!W&&j&&(F.get(j)?.selected||se()),q&&le&&j&&t?.(j);const Y=Bp(B.sourceEvent,{transform:$,snapGrid:ee,snapToGrid:Z,containerBounds:f});if(s=Y,l=See(F,U,Y,j),l.size>0&&(n||ie||!j&&te)){const[ce,de]=J0({nodeId:j,dragItems:l,nodeLookup:F});n?.(B.sourceEvent,l,ce,de),ie?.(B.sourceEvent,ce,de),j||te?.(B.sourceEvent,de)}}const R=F2().clickDistance(D).on("start",B=>{const{domNode:F,nodeDragThreshold:W,transform:U,snapGrid:$,snapToGrid:ee}=e();f=F?.getBoundingClientRect()||null,x=!1,W===0&&P(B),s=Bp(B.sourceEvent,{transform:U,snapGrid:$,snapToGrid:ee,containerBounds:f}),d=Ra(B.sourceEvent,f)}).on("drag",B=>{const{autoPanOnNodeDrag:F,transform:W,snapGrid:U,snapToGrid:$,nodeDragThreshold:ee,nodeLookup:Z}=e(),le=Bp(B.sourceEvent,{transform:W,snapGrid:U,snapToGrid:$,containerBounds:f});if((B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||j&&!Z.has(j))&&(x=!0),!x){if(!c&&F&&p&&(c=!0,z()),!p){const ie=le.xSnapped-(s.x??0),te=le.ySnapped-(s.y??0);Math.sqrt(ie*ie+te*te)>ee&&P(B)}(s.x!==le.xSnapped||s.y!==le.ySnapped)&&l&&p&&(d=Ra(B.sourceEvent,f),L(le,B.sourceEvent))}}).on("end",B=>{if(!(!p||x)&&(c=!1,p=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:F,updateNodePositions:W,onNodeDragStop:U,onSelectionDragStop:$}=e();if(W(l,!1),i||U||!j&&$){const[ee,Z]=J0({nodeId:j,dragItems:l,nodeLookup:F,dragging:!1});i?.(B.sourceEvent,l,ee,Z),U?.(B.sourceEvent,ee,Z),j||$?.(B.sourceEvent,Z)}}}).filter(B=>{const F=B.target;return!B.button&&(!I||!UR(F,`.${I}`,T))&&(!O||UR(F,O,T))});b.call(R)}function N(){b?.on(".drag",null)}return{update:_,destroy:N}}function Nee(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())Oh(i,Bd(s))>0&&r.push(s);return r}const kee=250;function Iee(t,e,n,r){let i=[],s=1/0;const o=Nee(t,n,e+kee);for(const l of o){const c=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:p}=qh(l,d,d.position,!0),b=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(p-t.y,2));b>e||(b<s?(i=[{...d,x:f,y:p}],s=b):b===s&&i.push({...d,x:f,y:p}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(c=>c.type===l)??i[0]}return i[0]}function vD(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const l=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],c=(n?l?.find(d=>d.id===n):l?.[0])??null;return c&&s?{...c,...qh(o,c,c.position,!0)}:c}function bD(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function Cee(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const xD=()=>!0;function Tee(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:f,flowId:p,panBy:b,cancelConnection:x,onConnectStart:_,onConnect:N,onConnectEnd:I,isValidConnection:O=xD,onReconnectEnd:T,updateConnection:q,getTransform:j,getFromHandle:D,autoPanSpeed:L}){const z=cD(t.target);let P=0,R;const{x:B,y:F}=Ra(t),W=z?.elementFromPoint(B,F),U=bD(s,W),$=l?.getBoundingClientRect();if(!$||!U)return;const ee=vD(i,U,r,c,e);if(!ee)return;let Z=Ra(t,$),le=!1,ie=null,te=!1,se=null;function Y(){if(!f||!$)return;const[De,Ze]=sD(Z,$,L);b({x:De,y:Ze}),P=requestAnimationFrame(Y)}const ce={...ee,nodeId:i,type:U,position:ee.position},de=c.get(i),we={inProgress:!0,isValid:null,from:qh(de,ce,Lt.Left,!0),fromHandle:ce,fromPosition:ce.position,fromNode:de,to:Z,toHandle:null,toPosition:RR[ce.position],toNode:null};q(we);let Ne=we;_?.(t,{nodeId:i,handleId:r,handleType:U});function ze(De){if(!D()||!ce){qe(De);return}const Ze=j();Z=Ra(De,$),R=Iee(am(Z,Ze,!1,[1,1]),n,c,ce),le||(Y(),le=!0);const Xe=wD(De,{handle:R,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:O,doc:z,lib:d,flowId:p,nodeLookup:c});se=Xe.handleDomNode,ie=Xe.connection,te=Cee(!!R,Xe.isValid);const Ue={...Ne,isValid:te,to:R&&te?aD({x:R.x,y:R.y},Ze):Z,toHandle:Xe.toHandle,toPosition:te&&Xe.toHandle?Xe.toHandle.position:RR[ce.position],toNode:Xe.toHandle?c.get(Xe.toHandle.nodeId):null};te&&R&&Ne.toHandle&&Ue.toHandle&&Ne.toHandle.type===Ue.toHandle.type&&Ne.toHandle.nodeId===Ue.toHandle.nodeId&&Ne.toHandle.id===Ue.toHandle.id&&Ne.to.x===Ue.to.x&&Ne.to.y===Ue.to.y||(q(Ue),Ne=Ue)}function qe(De){(R||se)&&ie&&te&&N?.(ie);const{inProgress:Ze,...Xe}=Ne,Ue={...Xe,toPosition:Ne.toHandle?Ne.toPosition:null};I?.(De,Ue),s&&T?.(De,Ue),x(),cancelAnimationFrame(P),le=!1,te=!1,ie=null,se=null,z.removeEventListener("mousemove",ze),z.removeEventListener("mouseup",qe),z.removeEventListener("touchmove",ze),z.removeEventListener("touchend",qe)}z.addEventListener("mousemove",ze),z.addEventListener("mouseup",qe),z.addEventListener("touchmove",ze),z.addEventListener("touchend",qe)}function wD(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:c,isValidConnection:d=xD,nodeLookup:f}){const p=s==="target",b=e?o.querySelector(`.${l}-flow__handle[data-id="${c}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x,y:_}=Ra(t),N=o.elementFromPoint(x,_),I=N?.classList.contains(`${l}-flow__handle`)?N:b,O={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const T=bD(void 0,I),q=I.getAttribute("data-nodeid"),j=I.getAttribute("data-handleid"),D=I.classList.contains("connectable"),L=I.classList.contains("connectableend");if(!q||!T)return O;const z={source:p?q:r,sourceHandle:p?j:i,target:p?r:q,targetHandle:p?i:j};O.connection=z;const R=D&&L&&(n===Md.Strict?p&&T==="source"||!p&&T==="target":q!==r||j!==i);O.isValid=R&&d(z),O.toHandle=vD(q,T,j,f,n,!1)}return O}const IE={onPointerDown:Tee,isValid:wD};function Oee({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Cs(t);function s({translateExtent:l,width:c,height:d,zoomStep:f=10,pannable:p=!0,zoomable:b=!0,inversePan:x=!1}){const _=q=>{const j=n();if(q.sourceEvent.type!=="wheel"||!e)return;const D=-q.sourceEvent.deltaY*(q.sourceEvent.deltaMode===1?.05:q.sourceEvent.deltaMode?1:.002)*f,L=j[2]*Math.pow(2,D);e.scaleTo(L)};let N=[0,0];const I=q=>{(q.sourceEvent.type==="mousedown"||q.sourceEvent.type==="touchstart")&&(N=[q.sourceEvent.clientX??q.sourceEvent.touches[0].clientX,q.sourceEvent.clientY??q.sourceEvent.touches[0].clientY])},O=q=>{const j=n();if(q.sourceEvent.type!=="mousemove"&&q.sourceEvent.type!=="touchmove"||!e)return;const D=[q.sourceEvent.clientX??q.sourceEvent.touches[0].clientX,q.sourceEvent.clientY??q.sourceEvent.touches[0].clientY],L=[D[0]-N[0],D[1]-N[1]];N=D;const z=r()*Math.max(j[2],Math.log(j[2]))*(x?-1:1),P={x:j[0]-L[0]*z,y:j[1]-L[1]*z},R=[[0,0],[c,d]];e.setViewportConstrained({x:P.x,y:P.y,zoom:j[2]},R,l)},T=J2().on("start",I).on("zoom",p?O:null).on("zoom.wheel",b?_:null);i.call(T,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:yo}}const qee=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Rb=t=>({x:t.x,y:t.y,zoom:t.k}),Y0=({x:t,y:e,zoom:n})=>Ib.translate(t,e).scale(n),id=(t,e)=>t.target.closest(`.${e}`),_D=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),X0=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},SD=t=>{const e=t.ctrlKey&&kv()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Ree({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return f=>{if(id(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(f.ctrlKey&&o){const I=yo(f),O=SD(f),T=p*Math.pow(2,O);r.scaleTo(n,T,I,f);return}const b=f.deltaMode===1?20:1;let x=i===Bu.Vertical?0:f.deltaX*b,_=i===Bu.Horizontal?0:f.deltaY*b;!kv()&&f.shiftKey&&i!==Bu.Vertical&&(x=f.deltaY*b,_=0),r.translateBy(n,-(x/p)*s,-(_/p)*s,{internal:!0});const N=Rb(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l?.(f,N)),t.isPanScrolling&&(c?.(f,N),t.panScrollTimeout=setTimeout(()=>{d?.(f,N),t.isPanScrolling=!1},150))}}function Aee({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||id(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function jee({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Rb(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function Pee({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&_D(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,Rb(s.transform))}}function Fee({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&_D(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&qee(t.prevViewport,o.transform))){const l=Rb(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,l)},n?150:0)}}}function Dee({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:c,lib:d}){return f=>{const p=t||e,b=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(id(f,`${d}-flow__node`)||id(f,`${d}-flow__edge`)))return!0;if(!r&&!p&&!i&&!s&&!n||o||id(f,l)&&f.type==="wheel"||id(f,c)&&(f.type!=="wheel"||i&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&f.touches?.length>1)return f.preventDefault(),!1;if(!p&&!i&&!b&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&x}}function Lee({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=t.getBoundingClientRect(),b=J2().clickDistance(!Eo(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),x=Cs(t).call(b);q({x:s.x,y:s.y,zoom:$d(s.zoom,e,n)},[[0,0],[p.width,p.height]],i);const _=x.on("wheel.zoom"),N=x.on("dblclick.zoom");b.wheelDelta(SD);function I(W,U){return x?new Promise($=>{b?.transform(X0(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function O({noWheelClassName:W,noPanClassName:U,onPaneContextMenu:$,userSelectionActive:ee,panOnScroll:Z,panOnDrag:le,panOnScrollMode:ie,panOnScrollSpeed:te,preventScrolling:se,zoomOnPinch:Y,zoomOnScroll:ce,zoomOnDoubleClick:de,zoomActivationKeyPressed:ye,lib:we,onTransformChange:Ne}){ee&&!f.isZoomingOrPanning&&T();const qe=Z&&!ye&&!ee?Ree({zoomPanValues:f,noWheelClassName:W,d3Selection:x,d3Zoom:b,panOnScrollMode:ie,panOnScrollSpeed:te,zoomOnPinch:Y,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):Aee({noWheelClassName:W,preventScrolling:se,d3ZoomHandler:_});if(x.on("wheel.zoom",qe,{passive:!1}),!ee){const Ze=jee({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});b.on("start",Ze);const Xe=Pee({zoomPanValues:f,panOnDrag:le,onPaneContextMenu:!!$,onPanZoom:o,onTransformChange:Ne});b.on("zoom",Xe);const Ue=Fee({zoomPanValues:f,panOnDrag:le,panOnScroll:Z,onPaneContextMenu:$,onPanZoomEnd:c,onDraggingChange:d});b.on("end",Ue)}const De=Dee({zoomActivationKeyPressed:ye,panOnDrag:le,zoomOnScroll:ce,panOnScroll:Z,zoomOnDoubleClick:de,zoomOnPinch:Y,userSelectionActive:ee,noPanClassName:U,noWheelClassName:W,lib:we});b.filter(De),de?x.on("dblclick.zoom",N):x.on("dblclick.zoom",null)}function T(){b.on("zoom",null)}async function q(W,U,$){const ee=Y0(W),Z=b?.constrain()(ee,U,$);return Z&&await I(Z),new Promise(le=>le(Z))}async function j(W,U){const $=Y0(W);return await I($,U),new Promise(ee=>ee($))}function D(W){if(x){const U=Y0(W),$=x.property("__zoom");($.k!==W.zoom||$.x!==W.x||$.y!==W.y)&&b?.transform(x,U,null,{sync:!0})}}function L(){const W=x?Z2(x.node()):{x:0,y:0,k:1};return{x:W.x,y:W.y,zoom:W.k}}function z(W,U){return x?new Promise($=>{b?.scaleTo(X0(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function P(W,U){return x?new Promise($=>{b?.scaleBy(X0(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function R(W){b?.scaleExtent(W)}function B(W){b?.translateExtent(W)}function F(W){const U=!Eo(W)||W<0?0:W;b?.clickDistance(U)}return{update:O,destroy:T,setViewport:j,setViewportConstrained:q,getViewport:L,scaleTo:z,scaleBy:P,setScaleExtent:R,setTranslateExtent:B,syncViewport:D,setClickDistance:F}}var zp;(function(t){t.Line="line",t.Handle="handle"})(zp||(zp={}));function Mee({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,l=n-r,c=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function $ee(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function ml(t,e){return Math.max(0,e-t)}function gl(t,e){return Math.max(0,t-e)}function Bg(t,e,n){return Math.max(0,e-t,t-n)}function VR(t,e){return t?!e:e}function Bee(t,e,n,r,i,s,o,l){let{affectsX:c,affectsY:d}=e;const{isHorizontal:f,isVertical:p}=e,b=f&&p,{xSnapped:x,ySnapped:_}=n,{minWidth:N,maxWidth:I,minHeight:O,maxHeight:T}=r,{x:q,y:j,width:D,height:L,aspectRatio:z}=t;let P=Math.floor(f?x-t.pointerX:0),R=Math.floor(p?_-t.pointerY:0);const B=D+(c?-P:P),F=L+(d?-R:R),W=-s[0]*D,U=-s[1]*L;let $=Bg(B,N,I),ee=Bg(F,O,T);if(o){let ie=0,te=0;c&&P<0?ie=ml(q+P+W,o[0][0]):!c&&P>0&&(ie=gl(q+B+W,o[1][0])),d&&R<0?te=ml(j+R+U,o[0][1]):!d&&R>0&&(te=gl(j+F+U,o[1][1])),$=Math.max($,ie),ee=Math.max(ee,te)}if(l){let ie=0,te=0;c&&P>0?ie=gl(q+P,l[0][0]):!c&&P<0&&(ie=ml(q+B,l[1][0])),d&&R>0?te=gl(j+R,l[0][1]):!d&&R<0&&(te=ml(j+F,l[1][1])),$=Math.max($,ie),ee=Math.max(ee,te)}if(i){if(f){const ie=Bg(B/z,O,T)*z;if($=Math.max($,ie),o){let te=0;!c&&!d||c&&!d&&b?te=gl(j+U+B/z,o[1][1])*z:te=ml(j+U+(c?P:-P)/z,o[0][1])*z,$=Math.max($,te)}if(l){let te=0;!c&&!d||c&&!d&&b?te=ml(j+B/z,l[1][1])*z:te=gl(j+(c?P:-P)/z,l[0][1])*z,$=Math.max($,te)}}if(p){const ie=Bg(F*z,N,I)/z;if(ee=Math.max(ee,ie),o){let te=0;!c&&!d||d&&!c&&b?te=gl(q+F*z+W,o[1][0])/z:te=ml(q+(d?R:-R)*z+W,o[0][0])/z,ee=Math.max(ee,te)}if(l){let te=0;!c&&!d||d&&!c&&b?te=ml(q+F*z,l[1][0])/z:te=gl(q+(d?R:-R)*z,l[0][0])/z,ee=Math.max(ee,te)}}}R=R+(R<0?ee:-ee),P=P+(P<0?$:-$),i&&(b?B>F*z?R=(VR(c,d)?-P:P)/z:P=(VR(c,d)?-R:R)*z:f?(R=P/z,d=c):(P=R*z,c=d));const Z=c?q+P:q,le=d?j+R:j;return{width:D+(c?-P:P),height:L+(d?-R:R),x:s[0]*P*(c?-1:1)+Z,y:s[1]*R*(d?-1:1)+le}}const ED={width:0,height:0,x:0,y:0},zee={...ED,pointerX:0,pointerY:0,aspectRatio:1};function Wee(t){return[[0,0],[t.measured.width,t.measured.height]]}function Uee(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,l=n[0]*s,c=n[1]*o;return[[r-l,i-c],[r+s-l,i+o-c]]}function Vee({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Cs(t);function o({controlPosition:c,boundaries:d,keepAspectRatio:f,onResizeStart:p,onResize:b,onResizeEnd:x,shouldResize:_}){let N={...ED},I={...zee};const O=$ee(c);let T,q=null,j=[],D,L,z;const P=F2().on("start",R=>{const{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,paneDomNode:ee}=n();if(T=B.get(e),!T)return;q=ee?.getBoundingClientRect()??null;const{xSnapped:Z,ySnapped:le}=Bp(R.sourceEvent,{transform:F,snapGrid:W,snapToGrid:U,containerBounds:q});N={width:T.measured.width??0,height:T.measured.height??0,x:T.position.x??0,y:T.position.y??0},I={...N,pointerX:Z,pointerY:le,aspectRatio:N.width/N.height},D=void 0,T.parentId&&(T.extent==="parent"||T.expandParent)&&(D=B.get(T.parentId),L=D&&T.extent==="parent"?Wee(D):void 0),j=[],z=void 0;for(const[ie,te]of B)if(te.parentId===e&&(j.push({id:ie,position:{...te.position},extent:te.extent}),te.extent==="parent"||te.expandParent)){const se=Uee(te,T,te.origin??$);z?z=[[Math.min(se[0][0],z[0][0]),Math.min(se[0][1],z[0][1])],[Math.max(se[1][0],z[1][0]),Math.max(se[1][1],z[1][1])]]:z=se}p?.(R,{...N})}).on("drag",R=>{const{transform:B,snapGrid:F,snapToGrid:W,nodeOrigin:U}=n(),$=Bp(R.sourceEvent,{transform:B,snapGrid:F,snapToGrid:W,containerBounds:q}),ee=[];if(!T)return;const{x:Z,y:le,width:ie,height:te}=N,se={},Y=T.origin??U,{width:ce,height:de,x:ye,y:we}=Bee(I,O,$,d,f,Y,L,z),Ne=ce!==ie,ze=de!==te,qe=ye!==Z&&Ne,De=we!==le&&ze;if(!qe&&!De&&!Ne&&!ze)return;if((qe||De||Y[0]===1||Y[1]===1)&&(se.x=qe?ye:N.x,se.y=De?we:N.y,N.x=se.x,N.y=se.y,j.length>0)){const ut=ye-Z,_t=we-le;for(const Tt of j)Tt.position={x:Tt.position.x-ut+Y[0]*(ce-ie),y:Tt.position.y-_t+Y[1]*(de-te)},ee.push(Tt)}if((Ne||ze)&&(se.width=Ne?ce:N.width,se.height=ze?de:N.height,N.width=se.width,N.height=se.height),D&&T.expandParent){const ut=Y[0]*(se.width??0);se.x&&se.x<ut&&(N.x=ut,I.x=I.x-(se.x-ut));const _t=Y[1]*(se.height??0);se.y&&se.y<_t&&(N.y=_t,I.y=I.y-(se.y-_t))}const Ze=Mee({width:N.width,prevWidth:ie,height:N.height,prevHeight:te,affectsX:O.affectsX,affectsY:O.affectsY}),Xe={...N,direction:Ze};_?.(R,Xe)!==!1&&(b?.(R,Xe),r(se,ee))}).on("end",R=>{x?.(R,{...N}),i?.()});s.call(P)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}const HR=t=>{let e;const n=new Set,r=(f,p)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const x=e;e=p??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(_=>_(e,x))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{n.clear()}},d=e=t(r,i,c);return c},Hee=t=>t?HR(t):HR,{useDebugValue:Qee}=Pn,{useSyncExternalStoreWithSelector:Kee}=z$,Gee=t=>t;function ND(t,e=Gee,n){const r=Kee(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Qee(r),r}const QR=(t,e)=>{const n=Hee(t),r=(i,s=e)=>ND(n,i,s);return Object.assign(r,n),r},Zee=(t,e)=>t?QR(t,e):QR;function Ir(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const Ab=K.createContext(null),Jee=Ab.Provider,kD=Ba.error001();function In(t,e){const n=K.useContext(Ab);if(n===null)throw new Error(kD);return ND(n,t,e)}function hr(){const t=K.useContext(Ab);if(t===null)throw new Error(kD);return K.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const KR={display:"none"},Yee={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ID="react-flow__node-desc",CD="react-flow__edge-desc",Xee="react-flow__aria-live",ete=t=>t.ariaLiveMessage;function tte({rfId:t}){const e=In(ete);return m.jsx("div",{id:`${Xee}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Yee,children:e})}function nte({rfId:t,disableKeyboardA11y:e}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{id:`${ID}-${t}`,style:KR,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),m.jsx("div",{id:`${CD}-${t}`,style:KR,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&m.jsx(tte,{rfId:t})]})}const rte=t=>t.userSelectionActive?"none":"all",s1=K.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=In(rte),l=`${t}`.split("-");return m.jsx("div",{className:zr(["react-flow__panel",n,...l]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});function ite({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:m.jsx(s1,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ste=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},zg=t=>t.id;function ote(t,e){return Ir(t.selectedNodes.map(zg),e.selectedNodes.map(zg))&&Ir(t.selectedEdges.map(zg),e.selectedEdges.map(zg))}function ate({onSelectionChange:t}){const e=hr(),{selectedNodes:n,selectedEdges:r}=In(ste,ote);return K.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const lte=t=>!!t.onSelectionChangeHandlers;function ute({onSelectionChange:t}){const e=In(lte);return t||e?m.jsx(ate,{onSelectionChange:t}):null}const TD=[0,0],cte={x:0,y:0,zoom:1},dte=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],GR=[...dte,"rfId"],fte=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),ZR={translateExtent:Ch,nodeOrigin:TD,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function pte(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=In(fte,Ir),f=hr();K.useEffect(()=>(c(t.defaultNodes,t.defaultEdges),()=>{p.current=ZR,l()}),[]);const p=K.useRef(ZR);return K.useEffect(()=>{for(const b of GR){const x=t[b],_=p.current[b];x!==_&&(typeof t[b]>"u"||(b==="nodes"?e(x):b==="edges"?n(x):b==="minZoom"?r(x):b==="maxZoom"?i(x):b==="translateExtent"?s(x):b==="nodeExtent"?o(x):b==="paneClickDistance"?d(x):b==="fitView"?f.setState({fitViewOnInit:x}):b==="fitViewOptions"?f.setState({fitViewOnInitOptions:x}):f.setState({[b]:x})))}p.current=t},GR.map(b=>t[b])),null}function JR(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function hte(t){const[e,n]=K.useState(t==="system"?null:t);return K.useEffect(()=>{if(t!=="system"){n(t);return}const r=JR(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:JR()?.matches?"dark":"light"}const YR=typeof document<"u"?document:null;function Rh(t=null,e={target:YR,actInsideInputWithModifier:!0}){const[n,r]=K.useState(!1),i=K.useRef(!1),s=K.useRef(new Set([])),[o,l]=K.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((p,b)=>p.concat(...b),[]);return[d,f]}return[[],[]]},[t]);return K.useEffect(()=>{const c=e?.target||YR;if(t!==null){const d=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&SE(b))return!1;const _=e3(b.code,l);s.current.add(b[_]),XR(o,s.current,!1)&&(b.preventDefault(),r(!0))},f=b=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&SE(b))return!1;const _=e3(b.code,l);XR(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[_]),b.key==="Meta"&&s.current.clear(),i.current=!1},p=()=>{s.current.clear(),r(!1)};return c?.addEventListener("keydown",d),c?.addEventListener("keyup",f),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{c?.removeEventListener("keydown",d),c?.removeEventListener("keyup",f),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[t,r]),n}function XR(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function e3(t,e){return e.includes(t)?"code":"key"}const mte=()=>{const t=hr();return K.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const l=xE(n,e),{width:c,height:d}=qb(o);return wE({nodes:l,width:c,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:l}=t.getState(),c=typeof r?.zoom<"u"?r.zoom:o,d=i/2-e*c,f=s/2-n*c;return l?(await l.setViewport({x:d,y:f,zoom:c},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),c=XN(e,r,i,s,o,n?.padding??.1);return l?(await l.setViewport(c,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:l}=s.getBoundingClientRect(),c={x:e.x-o,y:e.y-l};return am(c,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=aD(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function OD(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const c of o)gte(c,l);n.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function gte(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function yte(t,e){return OD(t,e)}function vte(t,e){return OD(t,e)}function Nu(t,e){return{id:t,type:"select",selected:e}}function sd(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(Nu(s.id,o)))}return r}function t3({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),l=o?.internals?.userNode??o;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function n3(t){return{id:t.id,type:"remove"}}const r3=t=>tee(t),bte=t=>tD(t);function qD(t){return K.forwardRef(t)}const xte=typeof window<"u"?K.useLayoutEffect:K.useEffect;function i3(t){const[e,n]=K.useState(BigInt(0)),[r]=K.useState(()=>wte(()=>n(i=>i+BigInt(1))));return xte(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function wte(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const RD=K.createContext(null);function _te({children:t}){const e=hr(),n=K.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:f,onNodesChange:p,nodeLookup:b}=e.getState();let x=c;for(const _ of l)x=typeof _=="function"?_(x):_;f?d(x):p&&p(t3({items:x,lookup:b}))},[]),r=i3(n),i=K.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:p,edgeLookup:b}=e.getState();let x=c;for(const _ of l)x=typeof _=="function"?_(x):_;f?d(x):p&&p(t3({items:x,lookup:b}))},[]),s=i3(i),o=K.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return m.jsx(RD.Provider,{value:o,children:t})}function Ste(){const t=K.useContext(RD);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Ete=t=>!!t.panZoom;function lm(){const t=mte(),e=hr(),n=Ste(),r=In(Ete),i=K.useMemo(()=>{const s=p=>e.getState().nodeLookup.get(p),o=p=>{n.nodeQueue.push(p)},l=p=>{n.edgeQueue.push(p)},c=p=>{const{nodeLookup:b,nodeOrigin:x}=e.getState(),_=r3(p)?p:b.get(p.id),N=_.parentId?uD(_.position,_.measured,_.parentId,b,x):_.position,I={..._,position:N,width:_.measured?.width??_.width,height:_.measured?.height??_.height};return Bd(I)},d=(p,b,x={replace:!1})=>{o(_=>_.map(N=>{if(N.id===p){const I=typeof b=="function"?b(N):b;return x.replace&&r3(I)?I:{...N,...I}}return N}))},f=(p,b,x={replace:!1})=>{l(_=>_.map(N=>{if(N.id===p){const I=typeof b=="function"?b(N):b;return x.replace&&bte(I)?I:{...N,...I}}return N}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(b=>({...b}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:o,setEdges:l,addNodes:p=>{const b=Array.isArray(p)?p:[p];n.nodeQueue.push(x=>[...x,...b])},addEdges:p=>{const b=Array.isArray(p)?p:[p];n.edgeQueue.push(x=>[...x,...b])},toObject:()=>{const{nodes:p=[],edges:b=[],transform:x}=e.getState(),[_,N,I]=x;return{nodes:p.map(O=>({...O})),edges:b.map(O=>({...O})),viewport:{x:_,y:N,zoom:I}}},deleteElements:async({nodes:p=[],edges:b=[]})=>{const{nodes:x,edges:_,onNodesDelete:N,onEdgesDelete:I,triggerNodeChanges:O,triggerEdgeChanges:T,onDelete:q,onBeforeDelete:j}=e.getState(),{nodes:D,edges:L}=await iee({nodesToRemove:p,edgesToRemove:b,nodes:x,edges:_,onBeforeDelete:j}),z=L.length>0,P=D.length>0;if(z){const R=L.map(n3);I?.(L),T(R)}if(P){const R=D.map(n3);N?.(D),O(R)}return(P||z)&&q?.({nodes:D,edges:L}),{deletedNodes:D,deletedEdges:L}},getIntersectingNodes:(p,b=!0,x)=>{const _=jR(p),N=_?p:c(p),I=x!==void 0;return N?(x||e.getState().nodes).filter(O=>{const T=e.getState().nodeLookup.get(O.id);if(T&&!_&&(O.id===p.id||!T.internals.positionAbsolute))return!1;const q=Bd(I?O:T),j=Oh(q,N);return b&&j>0||j>=N.width*N.height}):[]},isNodeIntersecting:(p,b,x=!0)=>{const N=jR(p)?p:c(p);if(!N)return!1;const I=Oh(N,b);return x&&I>0||I>=N.width*N.height},updateNode:d,updateNodeData:(p,b,x={replace:!1})=>{d(p,_=>{const N=typeof b=="function"?b(_):b;return x.replace?{..._,data:N}:{..._,data:{..._.data,...N}}},x)},updateEdge:f,updateEdgeData:(p,b,x={replace:!1})=>{f(p,_=>{const N=typeof b=="function"?b(_):b;return x.replace?{..._,data:N}:{..._,data:{..._.data,...N}}},x)},getNodesBounds:p=>{const{nodeLookup:b,nodeOrigin:x}=e.getState();return nee(p,{nodeLookup:b,nodeOrigin:x})},getHandleConnections:({type:p,id:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}-${p}${b?`-${b}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}${p?b?`-${p}-${b}`:`-${p}`:""}`)?.values()??[])}},[]);return K.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const s3=t=>t.selected,Nte={actInsideInputWithModifier:!1},kte=typeof window<"u"?window:void 0;function Ite({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=hr(),{deleteElements:r}=lm(),i=Rh(t,Nte),s=Rh(e,{target:kte});K.useEffect(()=>{if(i){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(s3),edges:o.filter(s3)}),n.setState({nodesSelectionActive:!1})}},[i]),K.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function Cte(t){const e=hr();K.useEffect(()=>{const n=()=>{if(!t.current)return!1;const r=qb(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",Ba.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const jb={position:"absolute",width:"100%",height:"100%",top:0,left:0},Tte=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function Ote({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Bu.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:f,maxZoom:p,zoomActivationKeyCode:b,preventScrolling:x=!0,children:_,noWheelClassName:N,noPanClassName:I,onViewportChange:O,isControlledViewport:T,paneClickDistance:q}){const j=hr(),D=K.useRef(null),{userSelectionActive:L,lib:z}=In(Tte,Ir),P=Rh(b),R=K.useRef();Cte(D);const B=K.useCallback(F=>{O?.({x:F[0],y:F[1],zoom:F[2]}),T||j.setState({transform:F})},[O,T]);return K.useEffect(()=>{if(D.current){R.current=Lee({domNode:D.current,minZoom:f,maxZoom:p,translateExtent:d,viewport:c,paneClickDistance:q,onDraggingChange:$=>j.setState({paneDragging:$}),onPanZoomStart:($,ee)=>{const{onViewportChangeStart:Z,onMoveStart:le}=j.getState();le?.($,ee),Z?.(ee)},onPanZoom:($,ee)=>{const{onViewportChange:Z,onMove:le}=j.getState();le?.($,ee),Z?.(ee)},onPanZoomEnd:($,ee)=>{const{onViewportChangeEnd:Z,onMoveEnd:le}=j.getState();le?.($,ee),Z?.(ee)}});const{x:F,y:W,zoom:U}=R.current.getViewport();return j.setState({panZoom:R.current,transform:[F,W,U],domNode:D.current.closest(".react-flow")}),()=>{R.current?.destroy()}}},[]),K.useEffect(()=>{R.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:x,noPanClassName:I,userSelectionActive:L,noWheelClassName:N,lib:z,onTransformChange:B})},[t,e,n,r,i,s,o,l,P,x,I,L,N,z,B]),m.jsx("div",{className:"react-flow__renderer",ref:D,style:jb,children:_})}const qte=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Rte(){const{userSelectionActive:t,userSelectionRect:e}=In(qte,Ir);return t&&e?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const eS=(t,e)=>n=>{n.target===e.current&&t?.(n)},Ate=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function jte({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Th.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:p,onPaneMouseLeave:b,children:x}){const _=hr(),{userSelectionActive:N,elementsSelectable:I,dragging:O}=In(Ate,Ir),T=I&&(t||N),q=K.useRef(null),j=K.useRef(),D=K.useRef(new Set),L=K.useRef(new Set),z=K.useRef(!1),P=K.useRef(!1),R=Z=>{if(z.current){z.current=!1;return}l?.(Z),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},B=Z=>{if(Array.isArray(r)&&r?.includes(2)){Z.preventDefault();return}c?.(Z)},F=d?Z=>d(Z):void 0,W=Z=>{const{resetSelectedElements:le,domNode:ie}=_.getState();if(j.current=ie?.getBoundingClientRect(),!I||!t||Z.button!==0||Z.target!==q.current||!j.current)return;Z.target?.setPointerCapture?.(Z.pointerId),P.current=!0,z.current=!1;const{x:te,y:se}=Ra(Z.nativeEvent,j.current);le(),_.setState({userSelectionRect:{width:0,height:0,startX:te,startY:se,x:te,y:se}}),s?.(Z)},U=Z=>{const{userSelectionRect:le,transform:ie,nodeLookup:te,edgeLookup:se,connectionLookup:Y,triggerNodeChanges:ce,triggerEdgeChanges:de,defaultEdgeOptions:ye}=_.getState();if(!j.current||!le)return;z.current=!0;const{x:we,y:Ne}=Ra(Z.nativeEvent,j.current),{startX:ze,startY:qe}=le,De={startX:ze,startY:qe,x:we<ze?we:ze,y:Ne<qe?Ne:qe,width:Math.abs(we-ze),height:Math.abs(Ne-qe)},Ze=D.current,Xe=L.current;D.current=new Set(nD(te,De,ie,n===Th.Partial,!0).map(ut=>ut.id)),L.current=new Set;const Ue=ye?.selectable??!0;for(const ut of D.current){const _t=Y.get(ut);if(_t)for(const{edgeId:Tt}of _t.values()){const Wt=se.get(Tt);Wt&&(Wt.selectable??Ue)&&L.current.add(Tt)}}if(!PR(Ze,D.current)){const ut=sd(te,D.current,!0);ce(ut)}if(!PR(Xe,L.current)){const ut=sd(se,L.current);de(ut)}_.setState({userSelectionRect:De,userSelectionActive:!0,nodesSelectionActive:!1})},$=Z=>{if(Z.button!==0||!P.current)return;Z.target?.releasePointerCapture?.(Z.pointerId);const{userSelectionRect:le}=_.getState();!N&&le&&Z.target===q.current&&R?.(Z),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),o?.(Z),(e||i)&&(z.current=!1),P.current=!1},ee=r===!0||Array.isArray(r)&&r.includes(0);return m.jsxs("div",{className:zr(["react-flow__pane",{draggable:ee,dragging:O,selection:t}]),onClick:T?void 0:eS(R,q),onContextMenu:eS(B,q),onWheel:eS(F,q),onPointerEnter:T?void 0:f,onPointerDown:T?W:p,onPointerMove:T?U:p,onPointerUp:T?$:void 0,onPointerLeave:b,ref:q,style:jb,children:[x,m.jsx(Rte,{})]})}function CE({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:c}=e.getState(),d=l.get(t);if(!d){c?.("012",Ba.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function AD({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=hr(),[c,d]=K.useState(!1),f=K.useRef();return K.useEffect(()=>{f.current=Eee({getStoreItems:()=>l.getState(),onNodeMouseDown:p=>{CE({id:p,store:l,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),K.useEffect(()=>{if(e)f.current?.destroy();else if(t.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{f.current?.destroy()}},[n,r,e,s,t,i]),c}const Pte=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function jD(){const t=hr();return K.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:f}=t.getState(),p=new Map,b=Pte(o),x=i?s[0]:5,_=i?s[1]:5,N=n.direction.x*x*n.factor,I=n.direction.y*_*n.factor;for(const[,O]of d){if(!b(O))continue;let T={x:O.internals.positionAbsolute.x+N,y:O.internals.positionAbsolute.y+I};i&&(T=Ob(T,s));const{position:q,positionAbsolute:j}=rD({nodeId:O.id,nextPosition:T,nodeLookup:d,nodeExtent:r,nodeOrigin:f,onError:l});O.position=q,O.internals.positionAbsolute=j,p.set(O.id,O)}c(p)},[])}const o1=K.createContext(null),Fte=o1.Provider;o1.Consumer;const PD=()=>K.useContext(o1),Dte=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),Lte=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:c,isValid:d}=o,f=c?.nodeId===t&&c?.id===e&&c?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:f,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Md.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,valid:f&&d}};function Mte({type:t="source",position:e=Lt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:c,className:d,onMouseDown:f,onTouchStart:p,...b},x){const _=o||null,N=t==="target",I=hr(),O=PD(),{connectOnClick:T,noPanClassName:q,rfId:j}=In(Dte,Ir),{connectingFrom:D,connectingTo:L,clickConnecting:z,isPossibleEndHandle:P,connectionInProcess:R,valid:B}=In(Lte(O,_,t),Ir);O||I.getState().onError?.("010",Ba.error010());const F=$=>{const{defaultEdgeOptions:ee,onConnect:Z,hasDefaultEdges:le}=I.getState(),ie={...ee,...$};if(le){const{edges:te,setEdges:se}=I.getState();se(dee(ie,te))}Z?.(ie),l?.(ie)},W=$=>{if(!O)return;const ee=dD($.nativeEvent);if(i&&(ee&&$.button===0||!ee)){const Z=I.getState();IE.onPointerDown($.nativeEvent,{autoPanOnConnect:Z.autoPanOnConnect,connectionMode:Z.connectionMode,connectionRadius:Z.connectionRadius,domNode:Z.domNode,nodeLookup:Z.nodeLookup,lib:Z.lib,isTarget:N,handleId:_,nodeId:O,flowId:Z.rfId,panBy:Z.panBy,cancelConnection:Z.cancelConnection,onConnectStart:Z.onConnectStart,onConnectEnd:Z.onConnectEnd,updateConnection:Z.updateConnection,onConnect:F,isValidConnection:n||Z.isValidConnection,getTransform:()=>I.getState().transform,getFromHandle:()=>I.getState().connection.fromHandle,autoPanSpeed:Z.autoPanSpeed})}ee?f?.($):p?.($)},U=$=>{const{onClickConnectStart:ee,onClickConnectEnd:Z,connectionClickStartHandle:le,connectionMode:ie,isValidConnection:te,lib:se,rfId:Y,nodeLookup:ce,connection:de}=I.getState();if(!O||!le&&!i)return;if(!le){ee?.($.nativeEvent,{nodeId:O,handleId:_,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:O,type:t,id:_}});return}const ye=cD($.target),we=n||te,{connection:Ne,isValid:ze}=IE.isValid($.nativeEvent,{handle:{nodeId:O,id:_,type:t},connectionMode:ie,fromNodeId:le.nodeId,fromHandleId:le.id||null,fromType:le.type,isValidConnection:we,flowId:Y,doc:ye,lib:se,nodeLookup:ce});ze&&Ne&&F(Ne);const qe=structuredClone(de);delete qe.inProgress,qe.toPosition=qe.toHandle?qe.toHandle.position:null,Z?.($,qe),I.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":_,"data-nodeid":O,"data-handlepos":e,"data-id":`${j}-${O}-${_}-${t}`,className:zr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",q,d,{source:!N,target:N,connectable:r,connectablestart:i,connectableend:s,clickconnecting:z,connectingfrom:D,connectingto:L,valid:B,connectionindicator:r&&(!R||P)&&(R?s:i)}]),onMouseDown:W,onTouchStart:W,onClick:T?U:void 0,ref:x,...b,children:c})}const bi=K.memo(qD(Mte));function $te({data:t,isConnectable:e,sourcePosition:n=Lt.Bottom}){return m.jsxs(m.Fragment,{children:[t?.label,m.jsx(bi,{type:"source",position:n,isConnectable:e})]})}function Bte({data:t,isConnectable:e,targetPosition:n=Lt.Top,sourcePosition:r=Lt.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(bi,{type:"target",position:n,isConnectable:e}),t?.label,m.jsx(bi,{type:"source",position:r,isConnectable:e})]})}function zte(){return null}function Wte({data:t,isConnectable:e,targetPosition:n=Lt.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(bi,{type:"target",position:n,isConnectable:e}),t?.label]})}const Iv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},o3={input:$te,default:Bte,output:Wte,group:zte};function Ute(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const Vte=t=>{const{width:e,height:n,x:r,y:i}=om(t.nodeLookup,{filter:s=>!!s.selected});return{width:Eo(e)?e:null,height:Eo(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Hte({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=hr(),{width:i,height:s,transformString:o,userSelectionActive:l}=In(Vte,Ir),c=jD(),d=K.useRef(null);if(K.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),AD({nodeRef:d}),l||!i||!s)return null;const f=t?b=>{const x=r.getState().nodes.filter(_=>_.selected);t(b,x)}:void 0,p=b=>{Object.prototype.hasOwnProperty.call(Iv,b.key)&&(b.preventDefault(),c({direction:Iv[b.key],factor:b.shiftKey?4:1}))};return m.jsx("div",{className:zr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:m.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s}})})}const a3=typeof window<"u"?window:void 0,Qte=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function FD({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:I,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:q,panOnScroll:j,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:P,defaultViewport:R,translateExtent:B,minZoom:F,maxZoom:W,preventScrolling:U,onSelectionContextMenu:$,noWheelClassName:ee,noPanClassName:Z,disableKeyboardA11y:le,onViewportChange:ie,isControlledViewport:te}){const{nodesSelectionActive:se,userSelectionActive:Y}=In(Qte),ce=Rh(d,{target:a3}),de=Rh(N,{target:a3}),ye=de||P,we=de||j,Ne=f&&ye!==!0,ze=ce||Y||Ne;return Ite({deleteKeyCode:c,multiSelectionKeyCode:_}),m.jsx(Ote,{onPaneContextMenu:s,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:q,panOnScroll:we,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:!ce&&ye,defaultViewport:R,translateExtent:B,minZoom:F,maxZoom:W,zoomActivationKeyCode:I,preventScrolling:U,noWheelClassName:ee,noPanClassName:Z,onViewportChange:ie,isControlledViewport:te,paneClickDistance:l,children:m.jsxs(jte,{onSelectionStart:b,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ye,isSelecting:!!ze,selectionMode:p,selectionKeyPressed:ce,selectionOnDrag:Ne,children:[t,se&&m.jsx(Hte,{onSelectionContextMenu:$,noPanClassName:Z,disableKeyboardA11y:le})]})})}FD.displayName="FlowRenderer";const Kte=K.memo(FD),Gte=t=>e=>t?nD(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Zte(t){return In(K.useCallback(Gte(t),[t]),Ir)}const Jte=t=>t.updateNodeInternals;function Yte(){const t=In(Jte),[e]=K.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return K.useEffect(()=>()=>{e?.disconnect()},[e]),e}function Xte({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=hr(),s=K.useRef(null),o=K.useRef(null),l=K.useRef(t.sourcePosition),c=K.useRef(t.targetPosition),d=K.useRef(e),f=n&&!!t.internals.handleBounds;return K.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[f,t.hidden]),K.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),K.useEffect(()=>{if(s.current){const p=d.current!==e,b=l.current!==t.sourcePosition,x=c.current!==t.targetPosition;(p||b||x)&&(d.current=e,l.current=t.sourcePosition,c.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function ene({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:f,resizeObserver:p,noDragClassName:b,noPanClassName:x,disableKeyboardA11y:_,rfId:N,nodeTypes:I,nodeExtent:O,nodeClickDistance:T,onError:q}){const{node:j,internals:D,isParent:L}=In(qe=>{const De=qe.nodeLookup.get(t),Ze=qe.parentLookup.has(t);return{node:De,internals:De.internals,isParent:Ze}},Ir);let z=j.type||"default",P=I?.[z]||o3[z];P===void 0&&(q?.("003",Ba.error003(z)),z="default",P=o3.default);const R=!!(j.draggable||l&&typeof j.draggable>"u"),B=!!(j.selectable||c&&typeof j.selectable>"u"),F=!!(j.connectable||d&&typeof j.connectable>"u"),W=!!(j.focusable||f&&typeof j.focusable>"u"),U=hr(),$=lD(j),ee=Xte({node:j,nodeType:z,hasDimensions:$,resizeObserver:p}),Z=AD({nodeRef:ee,disabled:j.hidden||!R,noDragClassName:b,handleSelector:j.dragHandle,nodeId:t,isSelectable:B,nodeClickDistance:T}),le=jD();if(j.hidden)return null;const ie=za(j),te=Ute(j),se=B||R||e||n||r||i,Y=n?qe=>n(qe,{...D.userNode}):void 0,ce=r?qe=>r(qe,{...D.userNode}):void 0,de=i?qe=>i(qe,{...D.userNode}):void 0,ye=s?qe=>s(qe,{...D.userNode}):void 0,we=o?qe=>o(qe,{...D.userNode}):void 0,Ne=qe=>{const{selectNodesOnDrag:De,nodeDragThreshold:Ze}=U.getState();B&&(!De||!R||Ze>0)&&CE({id:t,store:U,nodeRef:ee}),e&&e(qe,{...D.userNode})},ze=qe=>{if(!(SE(qe.nativeEvent)||_))if(Y2.includes(qe.key)&&B){const De=qe.key==="Escape";CE({id:t,store:U,unselect:De,nodeRef:ee})}else R&&j.selected&&Object.prototype.hasOwnProperty.call(Iv,qe.key)&&(qe.preventDefault(),U.setState({ariaLiveMessage:`Moved selected node ${qe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D.positionAbsolute.x}, y: ${~~D.positionAbsolute.y}`}),le({direction:Iv[qe.key],factor:qe.shiftKey?4:1}))};return m.jsx("div",{className:zr(["react-flow__node",`react-flow__node-${z}`,{[x]:R},j.className,{selected:j.selected,selectable:B,parent:L,draggable:R,dragging:Z}]),ref:ee,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:se?"all":"none",visibility:$?"visible":"hidden",...j.style,...te},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Y,onMouseMove:ce,onMouseLeave:de,onContextMenu:ye,onClick:Ne,onDoubleClick:we,onKeyDown:W?ze:void 0,tabIndex:W?0:void 0,role:W?"button":void 0,"aria-describedby":_?void 0:`${ID}-${N}`,"aria-label":j.ariaLabel,children:m.jsx(Fte,{value:t,children:m.jsx(P,{id:t,data:j.data,type:z,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:j.selected,selectable:B,draggable:R,deletable:j.deletable??!0,isConnectable:F,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:Z,dragHandle:j.dragHandle,zIndex:D.z,parentId:j.parentId,...ie})})})}const tne=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function DD(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=In(tne,Ir),o=Zte(t.onlyRenderVisibleElements),l=Yte();return m.jsx("div",{className:"react-flow__nodes",style:jb,children:o.map(c=>m.jsx(ene,{id:c,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},c))})}DD.displayName="NodeRenderer";const nne=K.memo(DD);function rne(t){return In(K.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&lee({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Ir)}const ine=({color:t="none",strokeWidth:e=1})=>m.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),sne=({color:t="none",strokeWidth:e=1})=>m.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),l3={[Ev.Arrow]:ine,[Ev.ArrowClosed]:sne};function one(t){const e=hr();return K.useMemo(()=>Object.prototype.hasOwnProperty.call(l3,t)?l3[t]:(e.getState().onError?.("009",Ba.error009(t)),null),[t])}const ane=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=one(e);return c?m.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:m.jsx(c,{color:n,strokeWidth:o})}):null},LD=({defaultColor:t,rfId:e})=>{const n=In(s=>s.edges),r=In(s=>s.defaultEdgeOptions),i=K.useMemo(()=>gee(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?m.jsx("svg",{className:"react-flow__marker",children:m.jsx("defs",{children:i.map(s=>m.jsx(ane,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};LD.displayName="MarkerDefinitions";var lne=K.memo(LD);function MD({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...f}){const[p,b]=K.useState({x:1,y:0,width:0,height:0}),x=zr(["react-flow__edge-textwrapper",d]),_=K.useRef(null);return K.useEffect(()=>{if(_.current){const N=_.current.getBBox();b({x:N.x,y:N.y,width:N.width,height:N.height})}},[n]),typeof n>"u"||!n?null:m.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...f,children:[i&&m.jsx("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),m.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:_,style:r,children:n}),c]})}MD.displayName="EdgeText";const une=K.memo(MD);function um({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...f}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...f,d:t,fill:"none",className:zr(["react-flow__edge-path",f.className])}),d&&m.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&Eo(e)&&Eo(n)?m.jsx(une,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function u3({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Lt.Left||t===Lt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function $D({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top}){const[o,l]=u3({pos:n,x1:t,y1:e,x2:r,y2:i}),[c,d]=u3({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,p,b,x]=fD({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${o},${l} ${c},${d} ${r},${i}`,f,p,b,x]}function BD(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:l=Lt.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:O})=>{const[T,q,j]=$D({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),D=t.isInternal?void 0:e;return m.jsx(um,{id:D,path:T,labelX:q,labelY:j,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:O})})}const cne=BD({isInternal:!1}),zD=BD({isInternal:!0});cne.displayName="SimpleBezierEdge";zD.displayName="SimpleBezierEdgeInternal";function WD(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:b,sourcePosition:x=Lt.Bottom,targetPosition:_=Lt.Top,markerEnd:N,markerStart:I,pathOptions:O,interactionWidth:T})=>{const[q,j,D]=EE({sourceX:n,sourceY:r,sourcePosition:x,targetX:i,targetY:s,targetPosition:_,borderRadius:O?.borderRadius,offset:O?.offset}),L=t.isInternal?void 0:e;return m.jsx(um,{id:L,path:q,labelX:j,labelY:D,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:b,markerEnd:N,markerStart:I,interactionWidth:T})})}const UD=WD({isInternal:!1}),VD=WD({isInternal:!0});UD.displayName="SmoothStepEdge";VD.displayName="SmoothStepEdgeInternal";function HD(t){return K.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return m.jsx(UD,{...n,id:r,pathOptions:K.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const dne=HD({isInternal:!1}),QD=HD({isInternal:!0});dne.displayName="StepEdge";QD.displayName="StepEdgeInternal";function KD(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:b,markerEnd:x,markerStart:_,interactionWidth:N})=>{const[I,O,T]=hD({sourceX:n,sourceY:r,targetX:i,targetY:s}),q=t.isInternal?void 0:e;return m.jsx(um,{id:q,path:I,labelX:O,labelY:T,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:b,markerEnd:x,markerStart:_,interactionWidth:N})})}const fne=KD({isInternal:!1}),GD=KD({isInternal:!0});fne.displayName="StraightEdge";GD.displayName="StraightEdgeInternal";function ZD(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:l=Lt.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,pathOptions:O,interactionWidth:T})=>{const[q,j,D]=e1({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:O?.curvature}),L=t.isInternal?void 0:e;return m.jsx(um,{id:L,path:q,labelX:j,labelY:D,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:T})})}const pne=ZD({isInternal:!1}),JD=ZD({isInternal:!0});pne.displayName="BezierEdge";JD.displayName="BezierEdgeInternal";const c3={default:JD,straight:GD,step:QD,smoothstep:VD,simplebezier:zD},d3={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},hne=(t,e,n)=>n===Lt.Left?t-e:n===Lt.Right?t+e:t,mne=(t,e,n)=>n===Lt.Top?t-e:n===Lt.Bottom?t+e:t,f3="react-flow__edgeupdater";function p3({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return m.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:zr([f3,`${f3}-${l}`]),cx:hne(e,r,t),cy:mne(n,r,t),r,stroke:"transparent",fill:"transparent"})}function gne({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,setReconnecting:b,setUpdateHover:x}){const _=hr(),N=(j,D)=>{if(j.button!==0)return;const{autoPanOnConnect:L,domNode:z,isValidConnection:P,connectionMode:R,connectionRadius:B,lib:F,onConnectStart:W,onConnectEnd:U,cancelConnection:$,nodeLookup:ee,rfId:Z,panBy:le,updateConnection:ie}=_.getState(),te=D.type==="target";b(!0),f?.(j,n,D.type);const se=(ce,de)=>{b(!1),p?.(ce,n,D.type,de)},Y=ce=>d?.(n,ce);IE.onPointerDown(j.nativeEvent,{autoPanOnConnect:L,connectionMode:R,connectionRadius:B,domNode:z,handleId:D.id,nodeId:D.nodeId,nodeLookup:ee,isTarget:te,edgeUpdaterType:D.type,lib:F,flowId:Z,cancelConnection:$,panBy:le,isValidConnection:P,onConnect:Y,onConnectStart:W,onConnectEnd:U,onReconnectEnd:se,updateConnection:ie,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle})},I=j=>N(j,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),O=j=>N(j,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),T=()=>x(!0),q=()=>x(!1);return m.jsxs(m.Fragment,{children:[(t===!0||t==="source")&&m.jsx(p3,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:I,onMouseEnter:T,onMouseOut:q,type:"source"}),(t===!0||t==="target")&&m.jsx(p3,{position:c,centerX:s,centerY:o,radius:e,onMouseDown:O,onMouseEnter:T,onMouseOut:q,type:"target"})]})}function yne({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:f,onReconnect:p,onReconnectStart:b,onReconnectEnd:x,rfId:_,edgeTypes:N,noPanClassName:I,onError:O,disableKeyboardA11y:T}){let q=In(Ue=>Ue.edgeLookup.get(t));const j=In(Ue=>Ue.defaultEdgeOptions);q=j?{...j,...q}:q;let D=q.type||"default",L=N?.[D]||c3[D];L===void 0&&(O?.("011",Ba.error011(D)),D="default",L=c3.default);const z=!!(q.focusable||e&&typeof q.focusable>"u"),P=typeof p<"u"&&(q.reconnectable||n&&typeof q.reconnectable>"u"),R=!!(q.selectable||r&&typeof q.selectable>"u"),B=K.useRef(null),[F,W]=K.useState(!1),[U,$]=K.useState(!1),ee=hr(),{zIndex:Z,sourceX:le,sourceY:ie,targetX:te,targetY:se,sourcePosition:Y,targetPosition:ce}=In(K.useCallback(Ue=>{const ut=Ue.nodeLookup.get(q.source),_t=Ue.nodeLookup.get(q.target);if(!ut||!_t)return{zIndex:q.zIndex,...d3};const Tt=mee({id:t,sourceNode:ut,targetNode:_t,sourceHandle:q.sourceHandle||null,targetHandle:q.targetHandle||null,connectionMode:Ue.connectionMode,onError:O});return{zIndex:aee({selected:q.selected,zIndex:q.zIndex,sourceNode:ut,targetNode:_t,elevateOnSelect:Ue.elevateEdgesOnSelect}),...Tt||d3}},[q.source,q.target,q.sourceHandle,q.targetHandle,q.selected,q.zIndex]),Ir),de=K.useMemo(()=>q.markerStart?`url('#${NE(q.markerStart,_)}')`:void 0,[q.markerStart,_]),ye=K.useMemo(()=>q.markerEnd?`url('#${NE(q.markerEnd,_)}')`:void 0,[q.markerEnd,_]);if(q.hidden||le===null||ie===null||te===null||se===null)return null;const we=Ue=>{const{addSelectedEdges:ut,unselectNodesAndEdges:_t,multiSelectionActive:Tt}=ee.getState();R&&(ee.setState({nodesSelectionActive:!1}),q.selected&&Tt?(_t({nodes:[],edges:[q]}),B.current?.blur()):ut([t])),i&&i(Ue,q)},Ne=s?Ue=>{s(Ue,{...q})}:void 0,ze=o?Ue=>{o(Ue,{...q})}:void 0,qe=l?Ue=>{l(Ue,{...q})}:void 0,De=c?Ue=>{c(Ue,{...q})}:void 0,Ze=d?Ue=>{d(Ue,{...q})}:void 0,Xe=Ue=>{if(!T&&Y2.includes(Ue.key)&&R){const{unselectNodesAndEdges:ut,addSelectedEdges:_t}=ee.getState();Ue.key==="Escape"?(B.current?.blur(),ut({edges:[q]})):_t([t])}};return m.jsx("svg",{style:{zIndex:Z},children:m.jsxs("g",{className:zr(["react-flow__edge",`react-flow__edge-${D}`,q.className,I,{selected:q.selected,animated:q.animated,inactive:!R&&!i,updating:F,selectable:R}]),onClick:we,onDoubleClick:Ne,onContextMenu:ze,onMouseEnter:qe,onMouseMove:De,onMouseLeave:Ze,onKeyDown:z?Xe:void 0,tabIndex:z?0:void 0,role:z?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":q.ariaLabel===null?void 0:q.ariaLabel||`Edge from ${q.source} to ${q.target}`,"aria-describedby":z?`${CD}-${_}`:void 0,ref:B,children:[!U&&m.jsx(L,{id:t,source:q.source,target:q.target,type:q.type,selected:q.selected,animated:q.animated,selectable:R,deletable:q.deletable??!0,label:q.label,labelStyle:q.labelStyle,labelShowBg:q.labelShowBg,labelBgStyle:q.labelBgStyle,labelBgPadding:q.labelBgPadding,labelBgBorderRadius:q.labelBgBorderRadius,sourceX:le,sourceY:ie,targetX:te,targetY:se,sourcePosition:Y,targetPosition:ce,data:q.data,style:q.style,sourceHandleId:q.sourceHandle,targetHandleId:q.targetHandle,markerStart:de,markerEnd:ye,pathOptions:"pathOptions"in q?q.pathOptions:void 0,interactionWidth:q.interactionWidth}),P&&m.jsx(gne,{edge:q,isReconnectable:P,reconnectRadius:f,onReconnect:p,onReconnectStart:b,onReconnectEnd:x,sourceX:le,sourceY:ie,targetX:te,targetY:se,sourcePosition:Y,targetPosition:ce,setUpdateHover:W,setReconnecting:$})]})})}const vne=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function YD({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:p,onEdgeDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,disableKeyboardA11y:N}){const{edgesFocusable:I,edgesReconnectable:O,elementsSelectable:T,onError:q}=In(vne,Ir),j=rne(e);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(lne,{defaultColor:t,rfId:n}),j.map(D=>m.jsx(yne,{id:D,edgesFocusable:I,edgesReconnectable:O,elementsSelectable:T,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:f,reconnectRadius:p,onDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,rfId:n,onError:q,edgeTypes:r,disableKeyboardA11y:N},D))]})}YD.displayName="EdgeRenderer";const bne=K.memo(YD),xne=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function wne({children:t}){const e=In(xne);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function _ne(t){const e=lm(),n=K.useRef(!1);K.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Sne=t=>t.panZoom?.syncViewport;function Ene(t){const e=In(Sne),n=hr();return K.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Nne(t){return t.connection.inProgress?{...t.connection,to:am(t.connection.to,t.transform)}:{...t.connection}}function kne(t){return Nne}function Ine(t){const e=kne();return In(e,Ir)}const Cne=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Tne({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:c}=In(Cne,Ir);return!(s&&i&&c)?null:m.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:zr(["react-flow__connection",eD(l)]),children:m.jsx(XD,{style:e,type:n,CustomComponent:r,isValid:l})})})}const XD=({style:t,type:e=kl.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:c,to:d,toNode:f,toHandle:p,toPosition:b}=Ine();if(!i)return;if(n)return m.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:b,connectionStatus:eD(r),toNode:f,toHandle:p});let x="";const _={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:b};switch(e){case kl.Bezier:[x]=e1(_);break;case kl.SimpleBezier:[x]=$D(_);break;case kl.Step:[x]=EE({..._,borderRadius:0});break;case kl.SmoothStep:[x]=EE(_);break;default:[x]=hD(_)}return m.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};XD.displayName="ConnectionLine";const One={};function h3(t=One){K.useRef(t),hr(),K.useEffect(()=>{},[t])}function qne(){hr(),K.useRef(!1),K.useEffect(()=>{},[])}function eL({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:b,onSelectionEnd:x,connectionLineType:_,connectionLineStyle:N,connectionLineComponent:I,connectionLineContainerStyle:O,selectionKeyCode:T,selectionOnDrag:q,selectionMode:j,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,deleteKeyCode:P,onlyRenderVisibleElements:R,elementsSelectable:B,defaultViewport:F,translateExtent:W,minZoom:U,maxZoom:$,preventScrolling:ee,defaultMarkerColor:Z,zoomOnScroll:le,zoomOnPinch:ie,panOnScroll:te,panOnScrollSpeed:se,panOnScrollMode:Y,zoomOnDoubleClick:ce,panOnDrag:de,onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneScroll:qe,onPaneContextMenu:De,paneClickDistance:Ze,nodeClickDistance:Xe,onEdgeContextMenu:Ue,onEdgeMouseEnter:ut,onEdgeMouseMove:_t,onEdgeMouseLeave:Tt,reconnectRadius:Wt,onReconnect:Xt,onReconnectStart:xe,onReconnectEnd:ve,noDragClassName:ke,noWheelClassName:je,noPanClassName:Ve,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ct,viewport:Ht,onViewportChange:Qt}){return h3(t),h3(e),qne(),_ne(n),Ene(Ht),m.jsx(Kte,{onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneContextMenu:De,onPaneScroll:qe,paneClickDistance:Ze,deleteKeyCode:P,selectionKeyCode:T,selectionOnDrag:q,selectionMode:j,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,elementsSelectable:B,zoomOnScroll:le,zoomOnPinch:ie,zoomOnDoubleClick:ce,panOnScroll:te,panOnScrollSpeed:se,panOnScrollMode:Y,panOnDrag:de,defaultViewport:F,translateExtent:W,minZoom:U,maxZoom:$,onSelectionContextMenu:p,preventScrolling:ee,noDragClassName:ke,noWheelClassName:je,noPanClassName:Ve,disableKeyboardA11y:rt,onViewportChange:Qt,isControlledViewport:!!Ht,children:m.jsxs(wne,{children:[m.jsx(bne,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:Xt,onReconnectStart:xe,onReconnectEnd:ve,onlyRenderVisibleElements:R,onEdgeContextMenu:Ue,onEdgeMouseEnter:ut,onEdgeMouseMove:_t,onEdgeMouseLeave:Tt,reconnectRadius:Wt,defaultMarkerColor:Z,noPanClassName:Ve,disableKeyboardA11y:rt,rfId:ct}),m.jsx(Tne,{style:N,type:_,component:I,containerStyle:O}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(nne,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:Xe,onlyRenderVisibleElements:R,noPanClassName:Ve,noDragClassName:ke,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ct}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}eL.displayName="GraphView";const Rne=K.memo(eL),m3=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}={})=>{const d=new Map,f=new Map,p=new Map,b=new Map,x=r??e??[],_=n??t??[],N=l??[0,0],I=c??Ch;gD(p,b,x),kE(_,d,f,{nodeOrigin:N,nodeExtent:I,elevateNodesOnSelect:!1});let O=[0,0,1];if(o&&i&&s){const T=om(d,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:q,y:j,zoom:D}=XN(T,i,s,.5,2,.1);O=[q,j,D]}return{rfId:"1",width:0,height:0,transform:O,nodes:_,nodeLookup:d,parentLookup:f,edges:x,edgeLookup:b,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Ch,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Md.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...X2},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:see,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Ane=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c})=>Zee((d,f)=>({...m3({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:p=>{const{nodeLookup:b,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:N}=f();kE(p,b,x,{nodeOrigin:_,nodeExtent:c,elevateNodesOnSelect:N,checkEquality:!0}),d({nodes:p})},setEdges:p=>{const{connectionLookup:b,edgeLookup:x}=f();gD(b,x,p),d({edges:p})},setDefaultNodesAndEdges:(p,b)=>{if(p){const{setNodes:x}=f();x(p),d({hasDefaultNodes:!0})}if(b){const{setEdges:x}=f();x(b),d({hasDefaultEdges:!0})}},updateNodeInternals:(p,b={triggerFitView:!0})=>{const{triggerNodeChanges:x,nodeLookup:_,parentLookup:N,fitViewOnInit:I,fitViewDone:O,fitViewOnInitOptions:T,domNode:q,nodeOrigin:j,nodeExtent:D,debug:L,fitViewSync:z}=f(),{changes:P,updatedInternals:R}=wee(p,_,N,q,j,D);if(R){if(vee(_,N,{nodeOrigin:j,nodeExtent:D}),b.triggerFitView){let B=O;!O&&I&&(B=z({...T,nodes:T?.nodes})),d({fitViewDone:B})}else d({});P?.length>0&&(L&&console.log("React Flow: trigger node changes",P),x?.(P))}},updateNodePositions:(p,b=!1)=>{const x=[],_=[];for(const[N,I]of p){const O=!!(I?.expandParent&&I?.parentId&&I?.position),T={id:N,type:"position",position:O?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:b};O&&x.push({id:N,parentId:I.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width,height:I.measured.height}}),_.push(T)}if(x.length>0){const{nodeLookup:N,parentLookup:I,nodeOrigin:O}=f(),T=i1(x,N,I,O);_.push(...T)}f().triggerNodeChanges(_)},triggerNodeChanges:p=>{const{onNodesChange:b,setNodes:x,nodes:_,hasDefaultNodes:N,debug:I}=f();if(p?.length){if(N){const O=yte(p,_);x(O)}I&&console.log("React Flow: trigger node changes",p),b?.(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:b,setEdges:x,edges:_,hasDefaultEdges:N,debug:I}=f();if(p?.length){if(N){const O=vte(p,_);x(O)}I&&console.log("React Flow: trigger edge changes",p),b?.(p)}},addSelectedNodes:p=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:N,triggerEdgeChanges:I}=f();if(b){const O=p.map(T=>Nu(T,!0));N(O);return}N(sd(_,new Set([...p]),!0)),I(sd(x))},addSelectedEdges:p=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:N,triggerEdgeChanges:I}=f();if(b){const O=p.map(T=>Nu(T,!0));I(O);return}I(sd(x,new Set([...p]))),N(sd(_,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:b}={})=>{const{edges:x,nodes:_,nodeLookup:N,triggerNodeChanges:I,triggerEdgeChanges:O}=f(),T=p||_,q=b||x,j=T.map(L=>{const z=N.get(L.id);return z&&(z.selected=!1),Nu(L.id,!1)}),D=q.map(L=>Nu(L.id,!1));I(j),O(D)},setMinZoom:p=>{const{panZoom:b,maxZoom:x}=f();b?.setScaleExtent([p,x]),d({minZoom:p})},setMaxZoom:p=>{const{panZoom:b,minZoom:x}=f();b?.setScaleExtent([x,p]),d({maxZoom:p})},setTranslateExtent:p=>{f().panZoom?.setTranslateExtent(p),d({translateExtent:p})},setPaneClickDistance:p=>{f().panZoom?.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:b,triggerNodeChanges:x,triggerEdgeChanges:_}=f(),N=b.reduce((O,T)=>T.selected?[...O,Nu(T.id,!1)]:O,[]),I=p.reduce((O,T)=>T.selected?[...O,Nu(T.id,!1)]:O,[]);x(N),_(I)},setNodeExtent:p=>{const{nodes:b,nodeLookup:x,parentLookup:_,nodeOrigin:N,elevateNodesOnSelect:I,nodeExtent:O}=f();p[0][0]===O[0][0]&&p[0][1]===O[0][1]&&p[1][0]===O[1][0]&&p[1][1]===O[1][1]||(kE(b,x,_,{nodeOrigin:N,nodeExtent:p,elevateNodesOnSelect:I,checkEquality:!1}),d({nodeExtent:p}))},panBy:p=>{const{transform:b,width:x,height:_,panZoom:N,translateExtent:I}=f();return _ee({delta:p,panZoom:N,transform:b,translateExtent:I,width:x,height:_})},fitView:p=>{const{panZoom:b,width:x,height:_,minZoom:N,maxZoom:I,nodeLookup:O}=f();if(!b)return Promise.resolve(!1);const T=xE(O,p);return wE({nodes:T,width:x,height:_,panZoom:b,minZoom:N,maxZoom:I},p)},fitViewSync:p=>{const{panZoom:b,width:x,height:_,minZoom:N,maxZoom:I,nodeLookup:O}=f();if(!b)return!1;const T=xE(O,p);return wE({nodes:T,width:x,height:_,panZoom:b,minZoom:N,maxZoom:I},p),T.size>0},cancelConnection:()=>{d({connection:{...X2}})},updateConnection:p=>{d({connection:p})},reset:()=>d({...m3()})}),Object.is);function jne({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:c,children:d}){const[f]=K.useState(()=>Ane({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}));return m.jsx(Jee,{value:f,children:m.jsx(_te,{children:d})})}function Pne({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,nodeOrigin:c,nodeExtent:d}){return K.useContext(Ab)?m.jsx(m.Fragment,{children:t}):m.jsx(jne,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:c,nodeExtent:d,children:t})}const Fne={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Dne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:f,onMoveStart:p,onMoveEnd:b,onConnect:x,onConnectStart:_,onConnectEnd:N,onClickConnectStart:I,onClickConnectEnd:O,onNodeMouseEnter:T,onNodeMouseMove:q,onNodeMouseLeave:j,onNodeContextMenu:D,onNodeDoubleClick:L,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:R,onNodesDelete:B,onEdgesDelete:F,onDelete:W,onSelectionChange:U,onSelectionDragStart:$,onSelectionDrag:ee,onSelectionDragStop:Z,onSelectionContextMenu:le,onSelectionStart:ie,onSelectionEnd:te,onBeforeDelete:se,connectionMode:Y,connectionLineType:ce=kl.Bezier,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,deleteKeyCode:Ne="Backspace",selectionKeyCode:ze="Shift",selectionOnDrag:qe=!1,selectionMode:De=Th.Full,panActivationKeyCode:Ze="Space",multiSelectionKeyCode:Xe=kv()?"Meta":"Control",zoomActivationKeyCode:Ue=kv()?"Meta":"Control",snapToGrid:ut,snapGrid:_t,onlyRenderVisibleElements:Tt=!1,selectNodesOnDrag:Wt,nodesDraggable:Xt,nodesConnectable:xe,nodesFocusable:ve,nodeOrigin:ke=TD,edgesFocusable:je,edgesReconnectable:Ve,elementsSelectable:rt=!0,defaultViewport:Me=cte,minZoom:ct=.5,maxZoom:Ht=2,translateExtent:Qt=Ch,preventScrolling:dn=!0,nodeExtent:rr,defaultMarkerColor:Rn="#b1b1b7",zoomOnScroll:jr=!0,zoomOnPinch:Si=!0,panOnScroll:mr=!1,panOnScrollSpeed:Kt=.5,panOnScrollMode:Ui=Bu.Free,zoomOnDoubleClick:Vi=!0,panOnDrag:Hi=!0,onPaneClick:so,onPaneMouseEnter:ia,onPaneMouseMove:Yl,onPaneMouseLeave:Ps,onPaneScroll:V,onPaneContextMenu:ac,paneClickDistance:on=0,nodeClickDistance:lc=0,children:uc,onReconnect:cc,onReconnectStart:Xl,onReconnectEnd:sa,onEdgeContextMenu:Qi,onEdgeDoubleClick:eu,onEdgeMouseEnter:oa,onEdgeMouseMove:uf,onEdgeMouseLeave:aa,reconnectRadius:Fs=10,onNodesChange:Wa,onEdgesChange:Ds,noDragClassName:cf="nodrag",noWheelClassName:df="nowheel",noPanClassName:dc="nopan",fitView:Ls,fitViewOptions:fc,connectOnClick:pc,attributionPosition:ff,proOptions:hc,defaultEdgeOptions:mc,elevateNodesOnSelect:gc,elevateEdgesOnSelect:tu,disableKeyboardA11y:yc=!1,autoPanOnConnect:pf,autoPanOnNodeDrag:ir,autoPanSpeed:hf,connectionRadius:nu,isValidConnection:vc,onError:Ua,style:mf,id:ru,nodeDragThreshold:Va,viewport:Ki,onViewportChange:gf,width:li,height:yf,colorMode:vf="light",debug:bf,...Ao},Ha){const Ei=ru||"1",Qa=hte(vf);return m.jsx("div",{"data-testid":"rf__wrapper",...Ao,style:{...mf,...Fne},ref:Ha,className:zr(["react-flow",i,Qa]),id:ru,children:m.jsxs(Pne,{nodes:t,edges:e,width:li,height:yf,fitView:Ls,nodeOrigin:ke,nodeExtent:rr,children:[m.jsx(Rne,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:T,onNodeMouseMove:q,onNodeMouseLeave:j,onNodeContextMenu:D,onNodeDoubleClick:L,nodeTypes:s,edgeTypes:o,connectionLineType:ce,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,selectionKeyCode:ze,selectionOnDrag:qe,selectionMode:De,deleteKeyCode:Ne,multiSelectionKeyCode:Xe,panActivationKeyCode:Ze,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:Tt,defaultViewport:Me,translateExtent:Qt,minZoom:ct,maxZoom:Ht,preventScrolling:dn,zoomOnScroll:jr,zoomOnPinch:Si,zoomOnDoubleClick:Vi,panOnScroll:mr,panOnScrollSpeed:Kt,panOnScrollMode:Ui,panOnDrag:Hi,onPaneClick:so,onPaneMouseEnter:ia,onPaneMouseMove:Yl,onPaneMouseLeave:Ps,onPaneScroll:V,onPaneContextMenu:ac,paneClickDistance:on,nodeClickDistance:lc,onSelectionContextMenu:le,onSelectionStart:ie,onSelectionEnd:te,onReconnect:cc,onReconnectStart:Xl,onReconnectEnd:sa,onEdgeContextMenu:Qi,onEdgeDoubleClick:eu,onEdgeMouseEnter:oa,onEdgeMouseMove:uf,onEdgeMouseLeave:aa,reconnectRadius:Fs,defaultMarkerColor:Rn,noDragClassName:cf,noWheelClassName:df,noPanClassName:dc,rfId:Ei,disableKeyboardA11y:yc,nodeExtent:rr,viewport:Ki,onViewportChange:gf}),m.jsx(pte,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:_,onConnectEnd:N,onClickConnectStart:I,onClickConnectEnd:O,nodesDraggable:Xt,nodesConnectable:xe,nodesFocusable:ve,edgesFocusable:je,edgesReconnectable:Ve,elementsSelectable:rt,elevateNodesOnSelect:gc,elevateEdgesOnSelect:tu,minZoom:ct,maxZoom:Ht,nodeExtent:rr,onNodesChange:Wa,onEdgesChange:Ds,snapToGrid:ut,snapGrid:_t,connectionMode:Y,translateExtent:Qt,connectOnClick:pc,defaultEdgeOptions:mc,fitView:Ls,fitViewOptions:fc,onNodesDelete:B,onEdgesDelete:F,onDelete:W,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:R,onSelectionDrag:ee,onSelectionDragStart:$,onSelectionDragStop:Z,onMove:f,onMoveStart:p,onMoveEnd:b,noPanClassName:dc,nodeOrigin:ke,rfId:Ei,autoPanOnConnect:pf,autoPanOnNodeDrag:ir,autoPanSpeed:hf,onError:Ua,connectionRadius:nu,isValidConnection:vc,selectNodesOnDrag:Wt,nodeDragThreshold:Va,onBeforeDelete:se,paneClickDistance:on,debug:bf}),m.jsx(ute,{onSelectionChange:U}),uc,m.jsx(ite,{proOptions:hc,position:ff}),m.jsx(nte,{rfId:Ei,disableKeyboardA11y:yc})]})})}var tL=qD(Dne);const Lne=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function Mne({children:t}){const e=In(Lne);return e?Lv.createPortal(t,e):null}function $ne({dimensions:t,lineWidth:e,variant:n,className:r}){return m.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:zr(["react-flow__background-pattern",n,r])})}function Bne({radius:t,className:e}){return m.jsx("circle",{cx:t,cy:t,r:t,className:zr(["react-flow__background-pattern","dots",e])})}var Go;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Go||(Go={}));const zne={[Go.Dots]:1,[Go.Lines]:1,[Go.Cross]:6},Wne=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function nL({id:t,variant:e=Go.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:c,className:d,patternClassName:f}){const p=K.useRef(null),{transform:b,patternId:x}=In(Wne,Ir),_=r||zne[e],N=e===Go.Dots,I=e===Go.Cross,O=Array.isArray(n)?n:[n,n],T=[O[0]*b[2]||1,O[1]*b[2]||1],q=_*b[2],j=Array.isArray(s)?s:[s,s],D=I?[q,q]:T,L=[j[0]*b[2]||1+D[0]/2,j[1]*b[2]||1+D[1]/2],z=`${x}${t||""}`;return m.jsxs("svg",{className:zr(["react-flow__background",d]),style:{...c,...jb,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:p,"data-testid":"rf__background",children:[m.jsx("pattern",{id:z,x:b[0]%T[0],y:b[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:N?m.jsx(Bne,{radius:q/2,className:f}):m.jsx($ne,{dimensions:D,lineWidth:i,variant:e,className:f})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${z})`})]})}nL.displayName="Background";const rL=K.memo(nL);function Une(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Vne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Hne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Qne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Kne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Wg({children:t,className:e,...n}){return m.jsx("button",{type:"button",className:zr(["react-flow__controls-button",e]),...n,children:t})}const Gne=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function iL({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:d,children:f,position:p="bottom-left",orientation:b="vertical","aria-label":x="React Flow controls"}){const _=hr(),{isInteractive:N,minZoomReached:I,maxZoomReached:O}=In(Gne,Ir),{zoomIn:T,zoomOut:q,fitView:j}=lm(),D=()=>{T(),s?.()},L=()=>{q(),o?.()},z=()=>{j(i),l?.()},P=()=>{_.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),c?.(!N)},R=b==="horizontal"?"horizontal":"vertical";return m.jsxs(s1,{className:zr(["react-flow__controls",R,d]),position:p,style:t,"data-testid":"rf__controls","aria-label":x,children:[e&&m.jsxs(m.Fragment,{children:[m.jsx(Wg,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:O,children:m.jsx(Une,{})}),m.jsx(Wg,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:I,children:m.jsx(Vne,{})})]}),n&&m.jsx(Wg,{className:"react-flow__controls-fitview",onClick:z,title:"fit view","aria-label":"fit view",children:m.jsx(Hne,{})}),r&&m.jsx(Wg,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:N?m.jsx(Kne,{}):m.jsx(Qne,{})}),f]})}iL.displayName="Controls";const sL=K.memo(iL);function Zne({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:c,className:d,borderRadius:f,shapeRendering:p,selected:b,onClick:x}){const{background:_,backgroundColor:N}=s||{},I=o||_||N;return m.jsx("rect",{className:zr(["react-flow__minimap-node",{selected:b},d]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:I,stroke:l,strokeWidth:c},shapeRendering:p,onClick:x?O=>x(O,t):void 0})}const Jne=K.memo(Zne),Yne=t=>t.nodes.map(e=>e.id),tS=t=>t instanceof Function?t:()=>t;function Xne({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Jne,onClick:o}){const l=In(Yne,Ir),c=tS(e),d=tS(t),f=tS(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:l.map(b=>m.jsx(tre,{id:b,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:p},b))})}function ere({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:c}){const{node:d,x:f,y:p,width:b,height:x}=In(_=>{const N=_.nodeLookup.get(t),{x:I,y:O}=N.internals.positionAbsolute,{width:T,height:q}=za(N);return{node:N,x:I,y:O,width:T,height:q}},Ir);return!d||d.hidden||!lD(d)?null:m.jsx(l,{x:f,y:p,width:b,height:x,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:c,id:d.id})}const tre=K.memo(ere);var nre=K.memo(Xne);const rre=200,ire=150,sre=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?oD(om(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},ore="react-flow__minimap-desc";function oL({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:f,maskStrokeWidth:p,position:b="bottom-right",onClick:x,onNodeClick:_,pannable:N=!1,zoomable:I=!1,ariaLabel:O="React Flow mini map",inversePan:T,zoomStep:q=10,offsetScale:j=5}){const D=hr(),L=K.useRef(null),{boundingRect:z,viewBB:P,rfId:R,panZoom:B,translateExtent:F,flowWidth:W,flowHeight:U}=In(sre,Ir),$=t?.width??rre,ee=t?.height??ire,Z=z.width/$,le=z.height/ee,ie=Math.max(Z,le),te=ie*$,se=ie*ee,Y=j*ie,ce=z.x-(te-z.width)/2-Y,de=z.y-(se-z.height)/2-Y,ye=te+Y*2,we=se+Y*2,Ne=`${ore}-${R}`,ze=K.useRef(0),qe=K.useRef();ze.current=ie,K.useEffect(()=>{if(L.current&&B)return qe.current=Oee({domNode:L.current,panZoom:B,getTransform:()=>D.getState().transform,getViewScale:()=>ze.current}),()=>{qe.current?.destroy()}},[B]),K.useEffect(()=>{qe.current?.update({translateExtent:F,width:W,height:U,inversePan:T,pannable:N,zoomStep:q,zoomable:I})},[N,I,T,q,F,W,U]);const De=x?Xe=>{const[Ue,ut]=qe.current?.pointer(Xe)||[0,0];x(Xe,{x:Ue,y:ut})}:void 0,Ze=_?K.useCallback((Xe,Ue)=>{const ut=D.getState().nodeLookup.get(Ue);_(Xe,ut)},[]):void 0;return m.jsx(s1,{position:b,style:{...t,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*ie:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:zr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:$,height:ee,viewBox:`${ce} ${de} ${ye} ${we}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ne,ref:L,onClick:De,children:[O&&m.jsx("title",{id:Ne,children:O}),m.jsx(nre,{onClick:Ze,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${ce-Y},${de-Y}h${ye+Y*2}v${we+Y*2}h${-ye-Y*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}oL.displayName="MiniMap";const aL=K.memo(oL);function are({nodeId:t,position:e,variant:n=zp.Handle,className:r,style:i={},children:s,color:o,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:p=!1,shouldResize:b,onResizeStart:x,onResize:_,onResizeEnd:N}){const I=PD(),O=typeof t=="string"?t:I,T=hr(),q=K.useRef(null),j=n===zp.Line?"right":"bottom-right",D=e??j,L=K.useRef(null);K.useEffect(()=>{if(!(!q.current||!O))return L.current||(L.current=Vee({domNode:q.current,nodeId:O,getStoreItems:()=>{const{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,domNode:ee}=T.getState();return{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,paneDomNode:ee}},onChange:(B,F)=>{const{triggerNodeChanges:W,nodeLookup:U,parentLookup:$,nodeOrigin:ee}=T.getState(),Z=[],le={x:B.x,y:B.y},ie=U.get(O);if(ie&&ie.expandParent&&ie.parentId){const te=ie.origin??ee,se=B.width??ie.measured.width,Y=B.height??ie.measured.height,ce={id:ie.id,parentId:ie.parentId,rect:{width:se,height:Y,...uD({x:B.x??ie.position.x,y:B.y??ie.position.y},{width:se,height:Y},ie.parentId,U,te)}},de=i1([ce],U,$,ee);Z.push(...de),le.x=B.x?Math.max(te[0]*se,B.x):void 0,le.y=B.y?Math.max(te[1]*Y,B.y):void 0}if(le.x!==void 0&&le.y!==void 0){const te={id:O,type:"position",position:{...le}};Z.push(te)}if(B.width!==void 0&&B.height!==void 0){const te={id:O,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:B.width,height:B.height}};Z.push(te)}for(const te of F){const se={...te,type:"position"};Z.push(se)}W(Z)},onEnd:()=>{const B={id:O,type:"dimensions",resizing:!1};T.getState().triggerNodeChanges([B])}})),L.current.update({controlPosition:D,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:f},keepAspectRatio:p,onResizeStart:x,onResize:_,onResizeEnd:N,shouldResize:b}),()=>{L.current?.destroy()}},[D,l,c,d,f,p,x,_,N,b]);const z=D.split("-"),P=n===zp.Line?"borderColor":"backgroundColor",R=o?{...i,[P]:o}:i;return m.jsx("div",{className:zr(["react-flow__resize-control","nodrag",...z,n,r]),ref:q,style:R,children:s})}K.memo(are);const Wn="icon-[ph--blueprint-thin]";var cm=t=>t.type==="checkbox",Fu=t=>t instanceof Date,Ci=t=>t==null;const lL=t=>typeof t=="object";var qr=t=>!Ci(t)&&!Array.isArray(t)&&lL(t)&&!Fu(t),uL=t=>qr(t)&&t.target?cm(t.target)?t.target.checked:t.target.value:t,lre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,cL=(t,e)=>t.has(lre(e)),ure=t=>{const e=t.constructor&&t.constructor.prototype;return qr(e)&&e.hasOwnProperty("isPrototypeOf")},a1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ns(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(a1&&(t instanceof Blob||r))&&(n||qr(t)))if(e=n?[]:{},!n&&!ure(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ns(t[i]));else return t;return e}var Pb=t=>Array.isArray(t)?t.filter(Boolean):[],Tr=t=>t===void 0,Et=(t,e,n)=>{if(!e||!qr(t))return n;const r=Pb(e.split(/[,[\].]+?/)).reduce((i,s)=>Ci(i)?i:i[s],t);return Tr(r)||r===t?Tr(t[e])?n:t[e]:r},Js=t=>typeof t=="boolean",l1=t=>/^\w*$/.test(t),dL=t=>Pb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ln=(t,e,n)=>{let r=-1;const i=l1(e)?[e]:dL(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=qr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const Cv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_a={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cre=Pn.createContext(null),u1=()=>Pn.useContext(cre);var fL=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==wo.all&&(e._proxyFormState[o]=!r||wo.all),n&&(n[o]=!0),t[o]}});return i},rs=t=>qr(t)&&!Object.keys(t).length,pL=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return rs(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||wo.all))},Wp=t=>Array.isArray(t)?t:[t],hL=(t,e,n)=>!t||!e||t===e||Wp(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function c1(t){const e=Pn.useRef(t);e.current=t,Pn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function dre(t){const e=u1(),{control:n=e.control,disabled:r,name:i,exact:s}=t,[o,l]=Pn.useState(n._formState),c=Pn.useRef(!0),d=Pn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=Pn.useRef(i);return f.current=i,c1({disabled:r,next:p=>c.current&&hL(f.current,p.name,s)&&pL(p,d.current,n._updateFormState)&&l({...n._formState,...p}),subject:n._subjects.state}),Pn.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),Pn.useMemo(()=>fL(o,n,d.current,!1),[o,n])}var Uo=t=>typeof t=="string",mL=(t,e,n,r,i)=>Uo(t)?(r&&e.watch.add(t),Et(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Et(n,s))):(r&&(e.watchAll=!0),n);function fre(t){const e=u1(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t,l=Pn.useRef(r);l.current=r,c1({disabled:s,subject:n._subjects.values,next:f=>{hL(l.current,f.name,o)&&d(ns(mL(l.current,n._names,f.values||n._formValues,!1,i)))}});const[c,d]=Pn.useState(n._getWatch(r,i));return Pn.useEffect(()=>n._removeUnmounted()),c}function pre(t){const e=u1(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=cL(i._names.array,n),l=fre({control:i,name:n,defaultValue:Et(i._formValues,n,Et(i._defaultValues,n,t.defaultValue)),exact:!0}),c=dre({control:i,name:n,exact:!0}),d=Pn.useRef(i.register(n,{...t.rules,value:l,...Js(t.disabled)?{disabled:t.disabled}:{}})),f=Pn.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Et(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Et(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Et(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Et(c.validatingFields,n)},error:{enumerable:!0,get:()=>Et(c.errors,n)}}),[c,n]),p=Pn.useMemo(()=>({name:n,value:l,...Js(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:b=>d.current.onChange({target:{value:uL(b),name:n},type:Cv.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:Et(i._formValues,n),name:n},type:Cv.BLUR}),ref:b=>{const x=Et(i._fields,n);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})}}),[n,i._formValues,r,c.disabled,l,i._fields]);return Pn.useEffect(()=>{const b=i._options.shouldUnregister||s,x=(_,N)=>{const I=Et(i._fields,_);I&&I._f&&(I._f.mount=N)};if(x(n,!0),b){const _=ns(Et(i._options.defaultValues,n));Ln(i._defaultValues,n,_),Tr(Et(i._formValues,n))&&Ln(i._formValues,n,_)}return!o&&i.register(n),()=>{(o?b&&!i._state.action:b)?i.unregister(n):x(n,!1)}},[n,i,o,s]),Pn.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),Pn.useMemo(()=>({field:p,formState:c,fieldState:f}),[p,c,f])}const us=t=>t.render(pre(t));var gL=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},g3=t=>({isOnSubmit:!t||t===wo.onSubmit,isOnBlur:t===wo.onBlur,isOnChange:t===wo.onChange,isOnAll:t===wo.all,isOnTouch:t===wo.onTouched}),y3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Up=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Et(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Up(l,e))break}else if(qr(l)&&Up(l,e))break}}};var hre=(t,e,n)=>{const r=Wp(Et(t,n));return Ln(r,"root",e[n]),Ln(t,n,r),t},d1=t=>t.type==="file",zo=t=>typeof t=="function",Tv=t=>{if(!a1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},by=t=>Uo(t),f1=t=>t.type==="radio",Ov=t=>t instanceof RegExp;const v3={value:!1,isValid:!1},b3={value:!0,isValid:!0};var yL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Tr(t[0].attributes.value)?Tr(t[0].value)||t[0].value===""?b3:{value:t[0].value,isValid:!0}:b3:v3}return v3};const x3={isValid:!1,value:null};var vL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,x3):x3;function w3(t,e,n="validate"){if(by(t)||Array.isArray(t)&&t.every(by)||Js(t)&&!t)return{type:n,message:by(t)?t:"",ref:e}}var Hc=t=>qr(t)&&!Ov(t)?t:{value:t,message:""},_3=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:p,max:b,pattern:x,validate:_,name:N,valueAsNumber:I,mount:O}=t._f,T=Et(n,N);if(!O||e.has(N))return{};const q=l?l[0]:o,j=W=>{i&&q.reportValidity&&(q.setCustomValidity(Js(W)?"":W||""),q.reportValidity())},D={},L=f1(o),z=cm(o),P=L||z,R=(I||d1(o))&&Tr(o.value)&&Tr(T)||Tv(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,B=gL.bind(null,N,r,D),F=(W,U,$,ee=_a.maxLength,Z=_a.minLength)=>{const le=W?U:$;D[N]={type:W?ee:Z,message:le,ref:o,...B(W?ee:Z,le)}};if(s?!Array.isArray(T)||!T.length:c&&(!P&&(R||Ci(T))||Js(T)&&!T||z&&!yL(l).isValid||L&&!vL(l).isValid)){const{value:W,message:U}=by(c)?{value:!!c,message:c}:Hc(c);if(W&&(D[N]={type:_a.required,message:U,ref:q,...B(_a.required,U)},!r))return j(U),D}if(!R&&(!Ci(p)||!Ci(b))){let W,U;const $=Hc(b),ee=Hc(p);if(!Ci(T)&&!isNaN(T)){const Z=o.valueAsNumber||T&&+T;Ci($.value)||(W=Z>$.value),Ci(ee.value)||(U=Z<ee.value)}else{const Z=o.valueAsDate||new Date(T),le=se=>new Date(new Date().toDateString()+" "+se),ie=o.type=="time",te=o.type=="week";Uo($.value)&&T&&(W=ie?le(T)>le($.value):te?T>$.value:Z>new Date($.value)),Uo(ee.value)&&T&&(U=ie?le(T)<le(ee.value):te?T<ee.value:Z<new Date(ee.value))}if((W||U)&&(F(!!W,$.message,ee.message,_a.max,_a.min),!r))return j(D[N].message),D}if((d||f)&&!R&&(Uo(T)||s&&Array.isArray(T))){const W=Hc(d),U=Hc(f),$=!Ci(W.value)&&T.length>+W.value,ee=!Ci(U.value)&&T.length<+U.value;if(($||ee)&&(F($,W.message,U.message),!r))return j(D[N].message),D}if(x&&!R&&Uo(T)){const{value:W,message:U}=Hc(x);if(Ov(W)&&!T.match(W)&&(D[N]={type:_a.pattern,message:U,ref:o,...B(_a.pattern,U)},!r))return j(U),D}if(_){if(zo(_)){const W=await _(T,n),U=w3(W,q);if(U&&(D[N]={...U,...B(_a.validate,U.message)},!r))return j(U.message),D}else if(qr(_)){let W={};for(const U in _){if(!rs(W)&&!r)break;const $=w3(await _[U](T,n),q,U);$&&(W={...$,...B(U,$.message)},j($.message),r&&(D[N]=W))}if(!rs(W)&&(D[N]={ref:q,...W},!r))return D}}return j(!0),D};function mre(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Tr(t)?r++:t[e[r++]];return t}function gre(t){for(const e in t)if(t.hasOwnProperty(e)&&!Tr(t[e]))return!1;return!0}function Vr(t,e){const n=Array.isArray(e)?e:l1(e)?[e]:dL(e),r=n.length===1?t:mre(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(qr(r)&&rs(r)||Array.isArray(r)&&gre(r))&&Vr(t,n.slice(0,-1)),t}var nS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},TE=t=>Ci(t)||!lL(t);function Il(t,e){if(TE(t)||TE(e))return t===e;if(Fu(t)&&Fu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Fu(s)&&Fu(o)||qr(s)&&qr(o)||Array.isArray(s)&&Array.isArray(o)?!Il(s,o):s!==o)return!1}}return!0}var bL=t=>t.type==="select-multiple",yre=t=>f1(t)||cm(t),rS=t=>Tv(t)&&t.isConnected,xL=t=>{for(const e in t)if(zo(t[e]))return!0;return!1};function qv(t,e={}){const n=Array.isArray(t);if(qr(t)||n)for(const r in t)Array.isArray(t[r])||qr(t[r])&&!xL(t[r])?(e[r]=Array.isArray(t[r])?[]:{},qv(t[r],e[r])):Ci(t[r])||(e[r]=!0);return e}function wL(t,e,n){const r=Array.isArray(t);if(qr(t)||r)for(const i in t)Array.isArray(t[i])||qr(t[i])&&!xL(t[i])?Tr(e)||TE(n[i])?n[i]=Array.isArray(t[i])?qv(t[i],[]):{...qv(t[i])}:wL(t[i],Ci(e)?{}:e[i],n[i]):n[i]=!Il(t[i],e[i]);return n}var op=(t,e)=>wL(t,e,qv(e)),_L=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Tr(t)?t:e?t===""?NaN:t&&+t:n&&Uo(t)?new Date(t):r?r(t):t;function iS(t){const e=t.ref;return d1(e)?e.files:f1(e)?vL(t.refs).value:bL(e)?[...e.selectedOptions].map(({value:n})=>n):cm(e)?yL(t.refs).value:_L(Tr(e.value)?t.ref.value:e.value,t)}var vre=(t,e,n,r)=>{const i={};for(const s of t){const o=Et(e,s);o&&Ln(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ap=t=>Tr(t)?t:Ov(t)?t.source:qr(t)?Ov(t.value)?t.value.source:t.value:t;const S3="AsyncFunction";var bre=t=>!!t&&!!t.validate&&!!(zo(t.validate)&&t.validate.constructor.name===S3||qr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===S3)),xre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function E3(t,e,n){const r=Et(t,n);if(r||l1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Et(e,s),l=Et(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var wre=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,_re=(t,e)=>!Pb(Et(t,e)).length&&Vr(t,e);const Sre={mode:wo.onSubmit,reValidateMode:wo.onChange,shouldFocusError:!0};function Ere(t={}){let e={...Sre,...t},n={submitCount:0,isDirty:!1,isLoading:zo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=qr(e.defaultValues)||qr(e.values)?ns(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ns(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:nS(),array:nS(),state:nS()},b=g3(e.mode),x=g3(e.reValidateMode),_=e.criteriaMode===wo.all,N=xe=>ve=>{clearTimeout(d),d=setTimeout(xe,ve)},I=async xe=>{if(!e.disabled&&(f.isValid||xe)){const ve=e.resolver?rs((await P()).errors):await B(r,!0);ve!==n.isValid&&p.state.next({isValid:ve})}},O=(xe,ve)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((xe||Array.from(l.mount)).forEach(ke=>{ke&&(ve?Ln(n.validatingFields,ke,ve):Vr(n.validatingFields,ke))}),p.state.next({validatingFields:n.validatingFields,isValidating:!rs(n.validatingFields)}))},T=(xe,ve=[],ke,je,Ve=!0,rt=!0)=>{if(je&&ke&&!e.disabled){if(o.action=!0,rt&&Array.isArray(Et(r,xe))){const Me=ke(Et(r,xe),je.argA,je.argB);Ve&&Ln(r,xe,Me)}if(rt&&Array.isArray(Et(n.errors,xe))){const Me=ke(Et(n.errors,xe),je.argA,je.argB);Ve&&Ln(n.errors,xe,Me),_re(n.errors,xe)}if(f.touchedFields&&rt&&Array.isArray(Et(n.touchedFields,xe))){const Me=ke(Et(n.touchedFields,xe),je.argA,je.argB);Ve&&Ln(n.touchedFields,xe,Me)}f.dirtyFields&&(n.dirtyFields=op(i,s)),p.state.next({name:xe,isDirty:W(xe,ve),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ln(s,xe,ve)},q=(xe,ve)=>{Ln(n.errors,xe,ve),p.state.next({errors:n.errors})},j=xe=>{n.errors=xe,p.state.next({errors:n.errors,isValid:!1})},D=(xe,ve,ke,je)=>{const Ve=Et(r,xe);if(Ve){const rt=Et(s,xe,Tr(ke)?Et(i,xe):ke);Tr(rt)||je&&je.defaultChecked||ve?Ln(s,xe,ve?rt:iS(Ve._f)):ee(xe,rt),o.mount&&I()}},L=(xe,ve,ke,je,Ve)=>{let rt=!1,Me=!1;const ct={name:xe};if(!e.disabled){const Ht=!!(Et(r,xe)&&Et(r,xe)._f&&Et(r,xe)._f.disabled);if(!ke||je){f.isDirty&&(Me=n.isDirty,n.isDirty=ct.isDirty=W(),rt=Me!==ct.isDirty);const Qt=Ht||Il(Et(i,xe),ve);Me=!!(!Ht&&Et(n.dirtyFields,xe)),Qt||Ht?Vr(n.dirtyFields,xe):Ln(n.dirtyFields,xe,!0),ct.dirtyFields=n.dirtyFields,rt=rt||f.dirtyFields&&Me!==!Qt}if(ke){const Qt=Et(n.touchedFields,xe);Qt||(Ln(n.touchedFields,xe,ke),ct.touchedFields=n.touchedFields,rt=rt||f.touchedFields&&Qt!==ke)}rt&&Ve&&p.state.next(ct)}return rt?ct:{}},z=(xe,ve,ke,je)=>{const Ve=Et(n.errors,xe),rt=f.isValid&&Js(ve)&&n.isValid!==ve;if(e.delayError&&ke?(c=N(()=>q(xe,ke)),c(e.delayError)):(clearTimeout(d),c=null,ke?Ln(n.errors,xe,ke):Vr(n.errors,xe)),(ke?!Il(Ve,ke):Ve)||!rs(je)||rt){const Me={...je,...rt&&Js(ve)?{isValid:ve}:{},errors:n.errors,name:xe};n={...n,...Me},p.state.next(Me)}},P=async xe=>{O(xe,!0);const ve=await e.resolver(s,e.context,vre(xe||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return O(xe),ve},R=async xe=>{const{errors:ve}=await P(xe);if(xe)for(const ke of xe){const je=Et(ve,ke);je?Ln(n.errors,ke,je):Vr(n.errors,ke)}else n.errors=ve;return ve},B=async(xe,ve,ke={valid:!0})=>{for(const je in xe){const Ve=xe[je];if(Ve){const{_f:rt,...Me}=Ve;if(rt){const ct=l.array.has(rt.name),Ht=Ve._f&&bre(Ve._f);Ht&&f.validatingFields&&O([je],!0);const Qt=await _3(Ve,l.disabled,s,_,e.shouldUseNativeValidation&&!ve,ct);if(Ht&&f.validatingFields&&O([je]),Qt[rt.name]&&(ke.valid=!1,ve))break;!ve&&(Et(Qt,rt.name)?ct?hre(n.errors,Qt,rt.name):Ln(n.errors,rt.name,Qt[rt.name]):Vr(n.errors,rt.name))}!rs(Me)&&await B(Me,ve,ke)}}return ke.valid},F=()=>{for(const xe of l.unMount){const ve=Et(r,xe);ve&&(ve._f.refs?ve._f.refs.every(ke=>!rS(ke)):!rS(ve._f.ref))&&Ne(xe)}l.unMount=new Set},W=(xe,ve)=>!e.disabled&&(xe&&ve&&Ln(s,xe,ve),!Il(Y(),i)),U=(xe,ve,ke)=>mL(xe,l,{...o.mount?s:Tr(ve)?i:Uo(xe)?{[xe]:ve}:ve},ke,ve),$=xe=>Pb(Et(o.mount?s:i,xe,e.shouldUnregister?Et(i,xe,[]):[])),ee=(xe,ve,ke={})=>{const je=Et(r,xe);let Ve=ve;if(je){const rt=je._f;rt&&(!rt.disabled&&Ln(s,xe,_L(ve,rt)),Ve=Tv(rt.ref)&&Ci(ve)?"":ve,bL(rt.ref)?[...rt.ref.options].forEach(Me=>Me.selected=Ve.includes(Me.value)):rt.refs?cm(rt.ref)?rt.refs.length>1?rt.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(Ve)?!!Ve.find(ct=>ct===Me.value):Ve===Me.value)):rt.refs[0]&&(rt.refs[0].checked=!!Ve):rt.refs.forEach(Me=>Me.checked=Me.value===Ve):d1(rt.ref)?rt.ref.value="":(rt.ref.value=Ve,rt.ref.type||p.values.next({name:xe,values:{...s}})))}(ke.shouldDirty||ke.shouldTouch)&&L(xe,Ve,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&se(xe)},Z=(xe,ve,ke)=>{for(const je in ve){const Ve=ve[je],rt=`${xe}.${je}`,Me=Et(r,rt);(l.array.has(xe)||qr(Ve)||Me&&!Me._f)&&!Fu(Ve)?Z(rt,Ve,ke):ee(rt,Ve,ke)}},le=(xe,ve,ke={})=>{const je=Et(r,xe),Ve=l.array.has(xe),rt=ns(ve);Ln(s,xe,rt),Ve?(p.array.next({name:xe,values:{...s}}),(f.isDirty||f.dirtyFields)&&ke.shouldDirty&&p.state.next({name:xe,dirtyFields:op(i,s),isDirty:W(xe,rt)})):je&&!je._f&&!Ci(rt)?Z(xe,rt,ke):ee(xe,rt,ke),y3(xe,l)&&p.state.next({...n}),p.values.next({name:o.mount?xe:void 0,values:{...s}})},ie=async xe=>{o.mount=!0;const ve=xe.target;let ke=ve.name,je=!0;const Ve=Et(r,ke),rt=()=>ve.type?iS(Ve._f):uL(xe),Me=ct=>{je=Number.isNaN(ct)||Fu(ct)&&isNaN(ct.getTime())||Il(ct,Et(s,ke,ct))};if(Ve){let ct,Ht;const Qt=rt(),dn=xe.type===Cv.BLUR||xe.type===Cv.FOCUS_OUT,rr=!xre(Ve._f)&&!e.resolver&&!Et(n.errors,ke)&&!Ve._f.deps||wre(dn,Et(n.touchedFields,ke),n.isSubmitted,x,b),Rn=y3(ke,l,dn);Ln(s,ke,Qt),dn?(Ve._f.onBlur&&Ve._f.onBlur(xe),c&&c(0)):Ve._f.onChange&&Ve._f.onChange(xe);const jr=L(ke,Qt,dn,!1),Si=!rs(jr)||Rn;if(!dn&&p.values.next({name:ke,type:xe.type,values:{...s}}),rr)return f.isValid&&(e.mode==="onBlur"&&dn?I():dn||I()),Si&&p.state.next({name:ke,...Rn?{}:jr});if(!dn&&Rn&&p.state.next({...n}),e.resolver){const{errors:mr}=await P([ke]);if(Me(Qt),je){const Kt=E3(n.errors,r,ke),Ui=E3(mr,r,Kt.name||ke);ct=Ui.error,ke=Ui.name,Ht=rs(mr)}}else O([ke],!0),ct=(await _3(Ve,l.disabled,s,_,e.shouldUseNativeValidation))[ke],O([ke]),Me(Qt),je&&(ct?Ht=!1:f.isValid&&(Ht=await B(r,!0)));je&&(Ve._f.deps&&se(Ve._f.deps),z(ke,Ht,ct,jr))}},te=(xe,ve)=>{if(Et(n.errors,ve)&&xe.focus)return xe.focus(),1},se=async(xe,ve={})=>{let ke,je;const Ve=Wp(xe);if(e.resolver){const rt=await R(Tr(xe)?xe:Ve);ke=rs(rt),je=xe?!Ve.some(Me=>Et(rt,Me)):ke}else xe?(je=(await Promise.all(Ve.map(async rt=>{const Me=Et(r,rt);return await B(Me&&Me._f?{[rt]:Me}:Me)}))).every(Boolean),!(!je&&!n.isValid)&&I()):je=ke=await B(r);return p.state.next({...!Uo(xe)||f.isValid&&ke!==n.isValid?{}:{name:xe},...e.resolver||!xe?{isValid:ke}:{},errors:n.errors}),ve.shouldFocus&&!je&&Up(r,te,xe?Ve:l.mount),je},Y=xe=>{const ve={...o.mount?s:i};return Tr(xe)?ve:Uo(xe)?Et(ve,xe):xe.map(ke=>Et(ve,ke))},ce=(xe,ve)=>({invalid:!!Et((ve||n).errors,xe),isDirty:!!Et((ve||n).dirtyFields,xe),error:Et((ve||n).errors,xe),isValidating:!!Et(n.validatingFields,xe),isTouched:!!Et((ve||n).touchedFields,xe)}),de=xe=>{xe&&Wp(xe).forEach(ve=>Vr(n.errors,ve)),p.state.next({errors:xe?n.errors:{}})},ye=(xe,ve,ke)=>{const je=(Et(r,xe,{_f:{}})._f||{}).ref,Ve=Et(n.errors,xe)||{},{ref:rt,message:Me,type:ct,...Ht}=Ve;Ln(n.errors,xe,{...Ht,...ve,ref:je}),p.state.next({name:xe,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&je&&je.focus&&je.focus()},we=(xe,ve)=>zo(xe)?p.values.subscribe({next:ke=>xe(U(void 0,ve),ke)}):U(xe,ve,!0),Ne=(xe,ve={})=>{for(const ke of xe?Wp(xe):l.mount)l.mount.delete(ke),l.array.delete(ke),ve.keepValue||(Vr(r,ke),Vr(s,ke)),!ve.keepError&&Vr(n.errors,ke),!ve.keepDirty&&Vr(n.dirtyFields,ke),!ve.keepTouched&&Vr(n.touchedFields,ke),!ve.keepIsValidating&&Vr(n.validatingFields,ke),!e.shouldUnregister&&!ve.keepDefaultValue&&Vr(i,ke);p.values.next({values:{...s}}),p.state.next({...n,...ve.keepDirty?{isDirty:W()}:{}}),!ve.keepIsValid&&I()},ze=({disabled:xe,name:ve,field:ke,fields:je})=>{(Js(xe)&&o.mount||xe||l.disabled.has(ve))&&(xe?l.disabled.add(ve):l.disabled.delete(ve),L(ve,iS(ke?ke._f:Et(je,ve)._f),!1,!1,!0))},qe=(xe,ve={})=>{let ke=Et(r,xe);const je=Js(ve.disabled)||Js(e.disabled);return Ln(r,xe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:xe}},name:xe,mount:!0,...ve}}),l.mount.add(xe),ke?ze({field:ke,disabled:Js(ve.disabled)?ve.disabled:e.disabled,name:xe}):D(xe,!0,ve.value),{...je?{disabled:ve.disabled||e.disabled}:{},...e.progressive?{required:!!ve.required,min:ap(ve.min),max:ap(ve.max),minLength:ap(ve.minLength),maxLength:ap(ve.maxLength),pattern:ap(ve.pattern)}:{},name:xe,onChange:ie,onBlur:ie,ref:Ve=>{if(Ve){qe(xe,ve),ke=Et(r,xe);const rt=Tr(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,Me=yre(rt),ct=ke._f.refs||[];if(Me?ct.find(Ht=>Ht===rt):rt===ke._f.ref)return;Ln(r,xe,{_f:{...ke._f,...Me?{refs:[...ct.filter(rS),rt,...Array.isArray(Et(i,xe))?[{}]:[]],ref:{type:rt.type,name:xe}}:{ref:rt}}}),D(xe,!1,void 0,rt)}else ke=Et(r,xe,{}),ke._f&&(ke._f.mount=!1),(e.shouldUnregister||ve.shouldUnregister)&&!(cL(l.array,xe)&&o.action)&&l.unMount.add(xe)}}},De=()=>e.shouldFocusError&&Up(r,te,l.mount),Ze=xe=>{Js(xe)&&(p.state.next({disabled:xe}),Up(r,(ve,ke)=>{const je=Et(r,ke);je&&(ve.disabled=je._f.disabled||xe,Array.isArray(je._f.refs)&&je._f.refs.forEach(Ve=>{Ve.disabled=je._f.disabled||xe}))},0,!1))},Xe=(xe,ve)=>async ke=>{let je;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ve=ns(s);if(l.disabled.size)for(const rt of l.disabled)Ln(Ve,rt,void 0);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:rt,values:Me}=await P();n.errors=rt,Ve=Me}else await B(r);if(Vr(n.errors,"root"),rs(n.errors)){p.state.next({errors:{}});try{await xe(Ve,ke)}catch(rt){je=rt}}else ve&&await ve({...n.errors},ke),De(),setTimeout(De);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:rs(n.errors)&&!je,submitCount:n.submitCount+1,errors:n.errors}),je)throw je},Ue=(xe,ve={})=>{Et(r,xe)&&(Tr(ve.defaultValue)?le(xe,ns(Et(i,xe))):(le(xe,ve.defaultValue),Ln(i,xe,ns(ve.defaultValue))),ve.keepTouched||Vr(n.touchedFields,xe),ve.keepDirty||(Vr(n.dirtyFields,xe),n.isDirty=ve.defaultValue?W(xe,ns(Et(i,xe))):W()),ve.keepError||(Vr(n.errors,xe),f.isValid&&I()),p.state.next({...n}))},ut=(xe,ve={})=>{const ke=xe?ns(xe):i,je=ns(ke),Ve=rs(xe),rt=Ve?i:je;if(ve.keepDefaultValues||(i=ke),!ve.keepValues){if(ve.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(op(i,s))]);for(const ct of Array.from(Me))Et(n.dirtyFields,ct)?Ln(rt,ct,Et(s,ct)):le(ct,Et(rt,ct))}else{if(a1&&Tr(xe))for(const Me of l.mount){const ct=Et(r,Me);if(ct&&ct._f){const Ht=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(Tv(Ht)){const Qt=Ht.closest("form");if(Qt){Qt.reset();break}}}}r={}}s=e.shouldUnregister?ve.keepDefaultValues?ns(i):{}:ns(rt),p.array.next({values:{...rt}}),p.values.next({values:{...rt}})}l={mount:ve.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:ve.keepSubmitCount?n.submitCount:0,isDirty:Ve?!1:ve.keepDirty?n.isDirty:!!(ve.keepDefaultValues&&!Il(xe,i)),isSubmitted:ve.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ve?{}:ve.keepDirtyValues?ve.keepDefaultValues&&s?op(i,s):n.dirtyFields:ve.keepDefaultValues&&xe?op(i,xe):ve.keepDirty?n.dirtyFields:{},touchedFields:ve.keepTouched?n.touchedFields:{},errors:ve.keepErrors?n.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(xe,ve)=>ut(zo(xe)?xe(s):xe,ve);return{control:{register:qe,unregister:Ne,getFieldState:ce,handleSubmit:Xe,setError:ye,_executeSchema:P,_getWatch:U,_getDirty:W,_updateValid:I,_removeUnmounted:F,_updateFieldArray:T,_updateDisabledField:ze,_getFieldArray:$,_reset:ut,_resetDefaultValues:()=>zo(e.defaultValues)&&e.defaultValues().then(xe=>{_t(xe,e.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:xe=>{n={...n,...xe}},_disableForm:Ze,_subjects:p,_proxyFormState:f,_setErrors:j,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(xe){o=xe},get _defaultValues(){return i},get _names(){return l},set _names(xe){l=xe},get _formState(){return n},set _formState(xe){n=xe},get _options(){return e},set _options(xe){e={...e,...xe}}},trigger:se,register:qe,handleSubmit:Xe,watch:we,setValue:le,getValues:Y,reset:_t,resetField:Ue,clearErrors:de,unregister:Ne,setError:ye,setFocus:(xe,ve={})=>{const ke=Et(r,xe),je=ke&&ke._f;if(je){const Ve=je.refs?je.refs[0]:je.ref;Ve.focus&&(Ve.focus(),ve.shouldSelect&&zo(Ve.select)&&Ve.select())}},getFieldState:ce}}function wi(t={}){const e=Pn.useRef(void 0),n=Pn.useRef(void 0),[r,i]=Pn.useState({isDirty:!1,isValidating:!1,isLoading:zo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:zo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Ere(t),formState:r});const s=e.current.control;return s._options=t,c1({subject:s._subjects.state,next:o=>{pL(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Pn.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Pn.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Pn.useEffect(()=>{t.values&&!Il(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Pn.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Pn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Pn.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=fL(r,s),e.current}const N3=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Et(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},SL=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?N3(r.ref,n,t):r.refs&&r.refs.forEach(i=>N3(i,n,t))}},Nre=(t,e)=>{e.shouldUseNativeValidation&&SL(t,e);const n={};for(const r in t){const i=Et(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(kre(e.names||Object.keys(t),r)){const o=Object.assign({},Et(n,r));Ln(o,"root",s),Ln(n,r,o)}else Ln(n,r,s)}return n},kre=(t,e)=>t.some(n=>n.startsWith(e+"."));var Ire=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return t.push(p)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=gL(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},_i=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&SL({},s),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:Nre(Ire(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const Cre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({name:X.string().min(1),cycles:X.number().int(),productionLimit:X.number().int(),sort:X.number().int()})),shape:t,filter:e,sort:["id","name","cycles","productionLimit","sort"]}),Tre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({blueprintId:X.string().min(1),conflictId:X.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","conflictId"]}),Ore=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({blueprintId:X.string().min(1),dependencyId:X.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","dependencyId"]}),qre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({blueprintId:X.string().min(1),resourceId:X.string().min(1),amount:X.number(),cycles:X.number().int(),limit:X.number().int()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","cycles","limit"]}),Rre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({blueprintProductionId:X.string().min(1),blueprintId:X.string().min(1)})),shape:t,filter:e,sort:["id","blueprintProductionId","blueprintId"]}),Are=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({blueprintProductionId:X.string().min(1),resourceId:X.string().min(1),amount:X.number(),passive:Ss()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount","passive"]}),jre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({blueprintProductionId:X.string().min(1),resourceId:X.string().min(1),amount:X.number()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount"]}),Pre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({blueprintId:X.string().min(1),resourceId:X.string().min(1),amount:X.number(),passive:Ss()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","passive"]}),Fre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({userId:X.string().min(1),blueprintId:X.string().min(1)})),shape:t,filter:e,sort:["id","userId","blueprintId"]}),Dre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({resourceId:X.string().min(1),amount:X.number(),limit:X.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Lre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({resourceId:X.string().min(1),amount:X.number(),limit:X.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Mre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({name:X.string().min(1)})),shape:t,filter:e,sort:["id","name"]}),$re=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({code:X.string().min(1),label:X.string().min(1),group:X.string().nullish(),sort:X.number().int()})),shape:t,filter:e,sort:["id","code","label","group","sort"]}),Bre=({shape:t,filter:e})=>fs({entity:Fi.merge(X.object({name:X.string().min(1),login:X.string().min(1),password:X.string().min(1)})),shape:t,filter:e,sort:["id","name","login","password"]}),EL=Cre({shape:X.object({name:X.string().min(1),cycles:wd(),productionLimit:wd(),sort:wd()}),filter:ds.merge(X.object({name:X.string().optional()}))}),Rv=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(EL.shape),defaultValues:{cycles:1,productionLimit:1,sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"name",label:m.jsx(ae,{label:"Building name (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("name")})}),m.jsx(wn,{formState:s.formState,name:"productionLimit",label:m.jsx(ae,{label:"Production limit (label)"}),hint:m.jsx(ae,{label:"How many paralel production lines can run (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("productionLimit")})}),m.jsx(wn,{formState:s.formState,name:"cycles",label:m.jsx(ae,{label:"Construction cycles (label)"}),hint:m.jsx(ae,{label:"Amount of cycles to build this building (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),m.jsx(wn,{formState:s.formState,name:"sort",label:m.jsx(ae,{label:"Blueprint sort (label)"}),hint:m.jsx(ae,{label:"Sort blueprints by this number (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:Wn,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},zre=({id:t,data:e,isConnectable:n})=>{const{locale:r}=Bn({from:"/$locale"}),i=Vd();return m.jsxs("div",{className:"min-w-[14rem]",onClick:()=>{i({to:"/$locale/apps/derivean/root/editor",params:{locale:r},search:{zoomTo:t}})},onDoubleClick:()=>{i({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t}})},children:[m.jsx(bi,{type:"target",position:Lt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsx("div",{className:"flex flex-row items-center gap-2",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:m.jsx(Fn,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t},children:e.name})}),m.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:[m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(Fn,{icon:pr,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:r,id:t}}),m.jsx(Fn,{icon:to,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:r,id:t}}),m.jsx(Fn,{icon:WF,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:r,id:t}})]}),m.jsx("div",{children:m.jsx(rf,{target:m.jsx(tm,{iconEnabled:oi,css:{base:["text-red-500"]}}),outside:!0,textTitle:m.jsx(ae,{label:"Delete blueprint (modal)"}),css:{modal:["w-1/3"]},children:()=>{const s=wr([["Editor"]]);return m.jsx(ms,{callback:async()=>Ft.transaction().execute(async o=>o.deleteFrom("Blueprint").where("id","=",e.id).execute()),textContent:m.jsx(ae,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:s})}})})]})]}),m.jsx(bi,{type:"source",position:Lt.Right,isConnectable:n,className:"w-4 h-4"})]})},NL=({nodeId:t})=>{const{fitView:e}=lm();return K.useEffect(()=>{t&&setTimeout(()=>{e({nodes:[{id:t}],duration:750,minZoom:1,maxZoom:1})},50)},[t]),null},Wre=({data:t,zoomTo:e})=>{const n=wr([]),r=un({async mutationFn({blueprintId:i,dependencyId:s}){return Ft.transaction().execute(async o=>o.insertInto("Blueprint_Dependency").values({id:$n(),blueprintId:i,dependencyId:s}).execute())},async onSuccess(){await n()}});return m.jsx("div",{className:"w-fit h-fit mx-auto border border-slate-300 rounded-md shadow-md m-8",children:m.jsx("div",{style:{width:"95vw",height:"85vh"},children:m.jsxs(tL,{nodes:t.nodes,edges:t.edges,onConnect:i=>{r.mutate({blueprintId:i.target,dependencyId:i.source})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:K.useMemo(()=>({blueprint(i){return m.jsx(zre,{...i})}}),[]),edgeTypes:K.useMemo(()=>({dependency({id:i,sourceX:s,sourceY:o,targetX:l,targetY:c,sourcePosition:d,targetPosition:f,style:p={},markerEnd:b}){const{setEdges:x}=lm(),[_,N,I]=e1({sourceX:s,sourceY:o,sourcePosition:d,targetX:l,targetY:c,targetPosition:f}),O=wr([]),T=un({async mutationFn({id:q}){return Ft.transaction().execute(async j=>{await j.deleteFrom("Blueprint_Dependency").where("id","=",q).execute()})},async onSuccess(){x(q=>q.filter(j=>j.id!==i)),await O()}});return m.jsxs(m.Fragment,{children:[m.jsx(um,{path:_,markerEnd:b,style:p}),m.jsx(Mne,{children:m.jsx("div",{className:ji("nodrag nopan",["flex","items-center","justify-center","cursor-pointer","bg-red-200","text-red-500","border","border-red-300","hover:border-red-600","hover:bg-red-300","hover:text-red-700","rounded-full","w-4","h-4","z-20"]),style:{position:"absolute",pointerEvents:"all",transformOrigin:"center",transform:`translate(-50%, -50%) translate(${N}px,${I}px)`},children:m.jsx(en,{icon:T.isPending?PQ:FF,onClick:()=>{T.mutate({id:i})}})})})]})}}),[]),children:[m.jsx(NL,{nodeId:e}),m.jsx(sL,{orientation:"horizontal",showInteractive:!1,showZoom:!1,children:m.jsx(rf,{target:m.jsx(tm,{className:"react-flow__controls-button",iconEnabled:Wn}),outside:!1,textTitle:m.jsx(ae,{label:"Create blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:i})=>{const s=wr([["Editor"]]),{locale:o}=Bn({from:"/$locale"}),l=Vd();return m.jsx(Rv,{mutation:un({async mutationFn(c){return En.promise(Ft.transaction().execute(d=>d.insertInto("Blueprint").values({id:$n(),...c}).returningAll().executeTakeFirstOrThrow()),_r("Create blueprint"))},async onSuccess(c){await s(),l({to:"/$locale/apps/derivean/root/editor",params:{locale:o},search:{zoomTo:c.id}}),i()}})})}})}),m.jsx(aL,{}),m.jsx(rL,{variant:Go.Dots,gap:12,size:1})]})})})},kL=({graph:t,nodes:e,edges:n,size:r={width:344,height:36}})=>(t.setGraph({rankdir:"LR",nodesep:125,edgesep:65,ranksep:50}),e.forEach(i=>{t.setNode(i.id,{width:r.width,height:r.height})}),n.forEach(i=>{t.setEdge(i.source,i.target)}),VN.layout(t,{}),{nodes:e.map(i=>{const s=t.node(i.id);return{...i,targetPosition:"left",sourcePosition:"right",position:{x:s.x-r.width/2,y:s.y-r.height/2}}}),edges:n}),OE=Sn("/$locale/apps/derivean/root/editor")({validateSearch:ai(X.object({zoomTo:X.string().optional()})),async loader({context:{kysely:t}}){const e=(await t.selectFrom("Blueprint").select(["id","name","productionLimit","cycles","sort"]).execute()).map(r=>({id:r.id,position:{x:0,y:0},data:r,type:"blueprint"})),n=(await t.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:r,blueprintId:i,dependencyId:s})=>({id:r,source:s,target:i,type:"dependency"}));return kL({graph:new VN.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:[...e],edges:[...n]})},component(){const t=OE.useLoaderData(),{zoomTo:e}=OE.useSearch();return m.jsx(Wre,{data:t,zoomTo:e})}}),qE=async({tx:t,userId:e})=>{const n=await t.selectFrom("Default_Inventory as di").select(["di.amount","di.resourceId","di.limit"]).limit(5e3).execute();await t.deleteFrom("User_Inventory").where("userId","=",e).execute();for await(const{amount:r,resourceId:i,limit:s}of n)t.insertInto("User_Inventory").values({id:$n(),userId:e,inventoryId:(await t.insertInto("Inventory").values({id:$n(),amount:r,resourceId:i,limit:s}).returning("id").executeTakeFirstOrThrow()).id}).execute()},Ure=async({tx:t,userId:e})=>{await qE({tx:t,userId:e})},Vre=()=>un({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return Ft.transaction().execute(async r=>{const i=_b.parse(await r.insertInto("User").values({id:$n(),name:e,login:t,password:$P.hash(n)}).returning(["User.id","User.name","User.login"]).executeTakeFirstOrThrow());try{await Ure({tx:r,userId:i.id})}catch(s){console.error(s)}return i})}}),Hre=X.object({name:X.string().min(1),login:X.string().min(1),password1:X.string().min(1),password2:X.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),Qre=({onSuccess:t})=>{const e=Vre(),n=wi({resolver:_i(Hre)}),r=xi({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return m.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:s=>{bN({error:s,errors:[YE({error:s,schema:vN,onError:({data:o})=>{n.setError("root",{message:o.message})}})],onError:o=>{n.setError("root",{message:o.message})}})}}).catch(()=>{})),children:[m.jsx(si,{variant:{highlight:!0},error:n.formState.errors.root}),m.jsx(wn,{formState:n.formState,name:"name",label:m.jsx(ae,{label:"Name (label)"}),children:m.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),m.jsx(wn,{formState:n.formState,name:"login",label:m.jsx(ae,{label:"Login (label)"}),children:m.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),m.jsx(wn,{formState:n.formState,name:"password1",label:m.jsx(ae,{label:"Password 1 (label)"}),children:m.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),m.jsx(wn,{formState:n.formState,name:"password2",label:m.jsx(ae,{label:"Password 2 (label)"}),children:m.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),m.jsx(Nn,{iconEnabled:"icon-[mdi--register-outline]",iconDisabled:"icon-[mdi--register-outline]",type:"submit",children:m.jsx(ae,{label:"Register (submit)"})})]})},Kre=Sn("/$locale/apps/derivean/public/register")({component:()=>{const t=Vd();return m.jsx("div",{className:ji(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[m.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),m.jsx(Qre,{onSuccess:async e=>{nm.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Gre=Sn("/$locale/apps/derivean/public/logout")({pendingComponent(){return m.jsx("div",{className:ji(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsx(u2,{icon:MN,textTitle:m.jsx(ae,{label:"Logout (label)"}),textMessage:m.jsx(ae,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw nm.remove("session"),Pv({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),Zre=()=>un({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return Ft.transaction().execute(async n=>{const r=await n.selectFrom("User as u").select(["u.id","u.login","u.name"]).where("u.login","=",t).where("u.password","=",$P.hash(e)).executeTakeFirstOrThrow();return{id:r.id,login:r.login,name:r.name}})}}),Jre=X.object({login:X.string().min(1),password:X.string().min(1)}),Yre=({onSuccess:t})=>{const{locale:e}=Bn({from:"/$locale"}),n=Zre(),r=wi({resolver:_i(Jre)}),i=xi({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return m.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async s=>n.mutateAsync(s,{onSuccess:t,onError:o=>{bN({error:o,errors:[YE({error:o,schema:vN,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[m.jsx(si,{variant:{highlight:!0},error:r.formState.errors.root}),m.jsx(wn,{formState:r.formState,name:"login",label:m.jsx(ae,{label:"Login (label)"}),children:m.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),m.jsx(wn,{formState:r.formState,name:"password",label:m.jsx(ae,{label:"Password (label)"}),children:m.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),m.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[m.jsx(Fn,{icon:"icon-[mdi--register-outline]",to:"/$locale/apps/derivean/public/register",params:{locale:e},children:m.jsx(ae,{label:"Register (link)"})}),m.jsx(Nn,{iconEnabled:"icon-[uiw--login]",iconDisabled:"icon-[uiw--login]",type:"submit",children:m.jsx(ae,{label:"Login (submit)"})})]})]})},Xre=Sn("/$locale/apps/derivean/public/login")({component:()=>{const t=Vd();return m.jsx("div",{className:ji(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[m.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),m.jsx(Yre,{onSuccess:async e=>{nm.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),RE="icon-[emojione-monotone--construction]",eie=async({blueprintId:t,userId:e})=>new Promise(n=>{setTimeout(async()=>Ft.transaction().execute(async r=>{const i=await r.selectFrom("Blueprint_Requirement as br").select(["br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",t).execute();for await(const{resourceId:l,amount:c,passive:d}of i){const f=await r.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",c).executeTakeFirstOrThrow();d||await r.updateTable("Inventory").set({amount:f.amount-c}).where("id","=",f.id).execute()}const{count:s}=await r.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).executeTakeFirstOrThrow(),o=await r.selectFrom("Blueprint as b").select(["b.cycles"]).where("b.id","=",t).executeTakeFirstOrThrow();await r.insertInto("Construction").values({id:$n(),blueprintId:t,userId:e,cycle:0,from:s,to:s+o.cycles}).execute(),n(!0)}),m2)}),tie=({id:t,data:e,userId:n,isConnectable:r})=>{const i=wr([["Management"],["Building_Queue"],["Inventory"],["User_Inventory"]]),s=un({async mutationFn({blueprintId:o}){return eie({blueprintId:o,userId:n})},async onSuccess(){await i()}});return m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(bi,{type:"target",position:Lt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(en,{icon:Wn,css:{base:["text-green-600"]}}),m.jsx("div",{className:"font-bold text-green-600",children:e.name})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:o=>o.stopPropagation(),onDoubleClick:o=>o.stopPropagation(),onMouseDown:o=>o.stopPropagation(),children:m.jsx(Nn,{iconEnabled:RE,iconDisabled:RE,variant:{variant:"primary"},onClick:()=>{s.mutate({blueprintId:t})},css:{base:["w-full"]},loading:s.isPending})})]}),m.jsx(bi,{type:"source",position:Lt.Right,isConnectable:r,className:"w-4 h-4"})]})},k3=({isConnectable:t})=>m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(bi,{type:"target",position:Lt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(en,{icon:Wn,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold text-slate-400",children:m.jsx(ae,{label:"Fog of War (label)"})})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:m.jsx(ae,{label:"Building unavailable (label)"})})]}),m.jsx(bi,{type:"source",position:Lt.Right,isConnectable:t,className:"w-4 h-4"})]}),nie=({data:t,isConnectable:e})=>{const{locale:n}=Bn({from:"/$locale"});return m.jsxs("div",{className:"w-[14rem]",children:[m.jsx(bi,{type:"target",position:Lt.Left,className:"w-4 h-4"}),m.jsx("div",{className:"flex flex-row items-center gap-2",children:m.jsx(Fn,{to:"/$locale/apps/derivean/game/map",params:{locale:n},search:({blueprintId:r})=>({blueprintId:r,requirementsOf:t.id}),css:{base:["font-bold","text-amber-500","hover:text-amber-600","flex-grow"]},children:m.jsx(Nn,{iconEnabled:Wn,variant:{variant:"secondary"},css:{base:["w-full"]},children:t.name})})}),m.jsx(bi,{type:"source",position:Lt.Right,isConnectable:e,className:"w-4 h-4"})]})},rie=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),iie=({requirements:t,diff:e,variant:n,tva:r=rie,css:i,...s})=>{const o=r({...n,css:i}).slots;return m.jsx(_h,{items:t,render:({entity:l})=>{const c=e?.find(f=>f.resourceId===l.resourceId),d=c?.amount?c.amount-l.amount:-l.amount;return m.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[m.jsx("div",{children:l.name}),m.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",qn({number:l.amount})]}),e?d>=0?m.jsx(en,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):m.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[m.jsx(en,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",qn({number:d}),")"]}):null]})},...s})},sie=({cycles:t})=>m.jsxs("div",{className:ji(["flex","flex-row","items-center","gap-2"]),children:[m.jsx(en,{css:{base:["text-slate-400"]},icon:gv}),m.jsx("div",{className:"font-bold text-md",children:qn({number:t})})]}),oie=({entity:t,userId:e,production:n,inventory:r})=>{const i=wr([["Management"],["Blueprint_Production"],["Production"],["Inventory"],["User_Inventory"]]),s=n.queue.find(d=>d.blueprintProductionId=n.id),o=n.withAvailableResources&&!n.isFull&&t.productionAvailable,l=un({async mutationFn(){return Ft.transaction().execute(async d=>{if(n.buildingId)return h2({tx:d,userId:e,blueprintProductionId:n.id,buildingId:n.buildingId})})},async onSuccess(){await i()}}),c=un({async mutationFn(){return Ft.transaction().execute(async d=>{n.buildingId&&d.insertInto("Production_Queue").values({id:$n(),userId:e,blueprintProductionId:n.id,buildingId:n.buildingId,count:0,limit:0,priority:50,paused:!1}).execute()})},async onSuccess(){await i()}});return m.jsxs("div",{className:ji(["flex","flex-col","gap-2","p-4","rounded-md","border","border-slate-300",o?["hover:bg-slate-50","hover:border-slate-400"]:void 0]),children:[m.jsxs("div",{className:ji(["flex","flex-row","flex-1","gap-2","items-center","justify-between"]),children:[m.jsxs("div",{className:ji(["flex","flex-row","gap-2","items-center"]),children:[m.jsx(Nn,{iconEnabled:n.queue.length>0?"icon-[bi--bag-check]":to,iconDisabled:n.queue.length>0?"icon-[bi--bag-check]":to,disabled:!o,variant:{variant:o||n.queue.length>0?"primary":"subtle"},css:{base:["px-8"]},loading:l.isPending,onClick:()=>l.mutate()}),m.jsx(Nn,{iconEnabled:"icon-[hugeicons--queue-02]",iconDisabled:to,onClick:()=>{c.mutate()},disabled:n.inQueue,loading:c.isPending,variant:{variant:"subtle"}}),n.name,m.jsxs(Qo,{children:["x",qn({number:n.amount})]})]}),m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(iie,{requirements:n.requirements,diff:r}),m.jsx(sie,{cycles:n.cycles})]})]}),s?m.jsx(of,{variant:{size:"md"},value:100*s.cycle/(s.to-s.from)}):null]})},I3=({entity:t,userId:e,inventory:n})=>m.jsx("div",{className:ji(["flex","flex-col","gap-2"]),children:m.jsx("div",{className:ji(["flex","flex-col","gap-2"]),children:t.production.length>0?t.production.map(r=>m.jsx(oie,{entity:t,userId:e,production:r,inventory:n},`production-${r.id}-${r.blueprintId}`)):m.jsx(ae,{label:"No production currently available (label)"})})}),aie=({detail:t,data:e,userId:n,inventory:r})=>{const{locale:i}=Bn({from:"/$locale"}),s=Hp({queryKey:["Management","producers",t.id,e],async queryFn(){return(await Ft.transaction().execute(o=>o.selectFrom("Blueprint as bl").distinct().innerJoin("Building as bg","bl.id","bg.blueprintId").innerJoin("Blueprint_Production as bp","bl.id","bp.blueprintId").select(["bl.id"]).where("bg.userId","=",n).where("bp.resourceId","in",o.selectFrom("Blueprint as bl2").innerJoin("Blueprint_Production as bp","bl2.id","bp.blueprintId").innerJoin("Blueprint_Production_Requirement as bpr","bp.id","bpr.blueprintProductionId").select(["bpr.resourceId"]).where("bl2.id","=",t.id)).where("bl.id","!=",t.id).execute())).map(({id:o})=>e.find(l=>l.id===o)).filter(Boolean)}});return m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx("div",{className:"flex gap-2 items-center justify-between shadow-md p-4",children:m.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[m.jsx(en,{icon:to,css:{base:["text-slate-400"]}}),t.name]})}),m.jsxs("div",{className:"max-h-full overflow-auto p-4 flex flex-col gap-4",children:[m.jsx(I3,{userId:n,inventory:r,entity:t}),s.isSuccess?m.jsxs(m.Fragment,{children:[s.data.length>0?m.jsx("div",{className:"border-t border-slate-300 shadow-md"}):null,m.jsx("div",{className:"flex flex-col gap-4",children:s.data.map(o=>m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(en,{icon:pr,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-light",children:m.jsx(Fn,{to:"/$locale/apps/derivean/game/map",params:{locale:i},search:({requirementsOf:l})=>({blueprintId:o.id,requirementsOf:l}),children:o.name})})]}),m.jsx(I3,{userId:n,inventory:r,entity:o})]},$n()))})]}):null]})]})},lie=({data:t,isConnectable:e})=>{const{locale:n}=Bn({from:"/$locale"}),r=t.production.flatMap(({queue:i})=>i).sort((i,s)=>i.cycle-s.cycle)?.[0];return m.jsxs("div",{className:"min-w-[18rem]",children:[m.jsx(bi,{type:"target",position:Lt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start w-full",children:[m.jsx("div",{className:"flex flex-row items-center justify-between gap-1 w-full",children:m.jsx(Fn,{to:"/$locale/apps/derivean/game/map",params:{locale:n},search:({requirementsOf:i})=>({blueprintId:t.id,requirementsOf:i}),css:{base:["font-bold","flex-grow"]},children:m.jsx(Nn,{variant:{variant:"primary"},iconEnabled:Jl,css:{base:["w-full"]},children:t.name})})}),r?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-row items-center gap-1 flex-1",children:[m.jsx(en,{icon:"icon-[mingcute--arrow-right-line]",css:{base:["text-slate-400"]}}),m.jsx("div",{className:"text-xs text-slate-400",children:r.name})]}),m.jsx(of,{value:100*r.cycle/(r.to-r.from),variant:{size:"sm"}})]}):null]}),m.jsx(bi,{type:"source",position:Lt.Right,isConnectable:e,className:"w-4 h-4"})]})},uie=({data:t,isConnectable:e})=>{const n=t.construction?.[0];return m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(bi,{type:"target",position:Lt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(en,{icon:RE,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold",children:t.name})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:r=>r.stopPropagation(),onDoubleClick:r=>r.stopPropagation(),onMouseDown:r=>r.stopPropagation(),children:n?m.jsx(of,{variant:{size:"lg"},value:100*n.cycle/(n.to-n.from)}):null})]}),m.jsx(bi,{type:"source",position:Lt.Right,isConnectable:e,className:"w-4 h-4"})]})},cie=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),dm=({requirements:t,diff:e,variant:n,tva:r=cie,css:i,...s})=>{const o=r({...n,css:i}).slots;return m.jsx(_h,{items:t,render:({entity:l})=>{const c=e?.find(f=>f.resourceId===l.resourceId),d=c?.amount?c.amount-l.amount:-l.amount;return m.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[m.jsx("div",{children:l.name}),m.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",qn({number:l.amount})]}),e?d>=0?m.jsx(en,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):m.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[m.jsx(en,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",qn({number:d}),")"]}):null]})},...s})},die=({userId:t,blueprintId:e,requirementsOf:n,inventory:r,graph:i})=>{const{locale:s}=Bn({from:"/$locale"}),o=Vd(),l=K.useMemo(()=>i.nodes.find(({id:f})=>f===e)?.data,[i,e]),c=K.useMemo(()=>i.nodes.find(({id:f})=>f===n)?.data,[i,n]),d=K.useMemo(()=>i.nodes.map(({data:f})=>f),[i]);return m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("div",{className:"flex-grow h-[calc(100vh-6rem)] border border-slate-300 rounded-md shadow-md",children:m.jsxs(tL,{className:"w-full h-full relative",nodes:i.nodes,edges:i.edges,onPaneClick:()=>{o({to:"/$locale/apps/derivean/game/map",params:{locale:s}})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:K.useMemo(()=>({building(f){return m.jsx(lie,{...f})},construction(f){return m.jsx(uie,{...f})},"blueprint-available"(f){return m.jsx(tie,{userId:t,...f})},"blueprint-missing-resources"(f){return m.jsx(nie,{...f})},"blueprint-missing-buildings"(f){return m.jsx(k3,{...f})},"blueprint-unavailable"(f){return m.jsx(k3,{...f})}}),[t]),children:[m.jsx(NL,{nodeId:l?.id}),m.jsx(sL,{orientation:"horizontal",showInteractive:!1,showZoom:!0}),m.jsx(aL,{}),m.jsx(rL,{variant:Go.Dots,gap:12,size:1}),c?m.jsxs("div",{className:"react-flow__panel w-4/10 border bg-white border-slate-300 rounded-md shadow-md p-4 absolute left-1 top-1",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(en,{icon:c.building?Jl:Wn,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold",children:c.name})]}),c.construction.length>0?m.jsx(ae,{label:"Construction in progress (label)"}):c.building?m.jsx(Fn,{to:"/$locale/apps/derivean/game/map",params:{locale:s},search:{blueprintId:c.id},children:m.jsx(ae,{label:"Construction complete (label)"})}):m.jsx(dm,{requirements:c.requirements,diff:r})]}):null]})}),l?m.jsx("div",{className:"w-5/12 border bg-white border-slate-300 rounded-md shadow-md p-4",children:m.jsx(aie,{detail:l,data:d,userId:t,inventory:r})}):null]})},ic=Ore({shape:X.object({dependencyId:X.string().min(1)}),filter:ds.merge(X.object({blueprintId:X.string().optional(),dependencyId:X.string().optional()}))}),af=Pre({shape:X.object({resourceId:X.string().min(1),amount:Hl(),passive:X.boolean()}),filter:ds.merge(X.object({blueprintId:X.string().optional(),resourceId:X.string().optional()}))}),fie=Fi.merge(X.object({name:X.string().min(1),cycles:X.number().int().nonnegative(),productionLimit:X.number().int().nonnegative(),productionCount:X.number().int().nonnegative(),withAvailableBuildings:Ss(),withAvailableResources:Ss(),productionAvailable:Ss(),building:RH(X.object({id:X.string().min(1)})).nullish(),construction:ri(X.object({id:X.string().min(1),from:X.number().int().nonnegative(),to:X.number().int().nonnegative(),cycle:X.number().int().nonnegative()})),requirements:ri(af.entity.merge(X.object({name:X.string().min(1)}))),dependencies:ri(ic.entity.merge(X.object({name:X.string().min(1)}))),production:ri(X.object({id:X.string().min(1),name:X.string().min(1),amount:X.number().nonnegative(),cycles:X.number().int().nonnegative(),limit:X.number().int().nonnegative(),blueprintId:X.string().min(1),resourceId:X.string().min(1),buildingId:X.string().nullish(),isFull:Ss(),inQueue:Ss(),withAvailableResources:Ss(),requirements:X.array(X.object({id:X.string().min(1),amount:X.number().nonnegative(),passive:Ss(),resourceId:X.string().min(1),name:X.string().min(1)})),queue:X.array(X.object({id:X.string().min(1),blueprintProductionId:X.string().min(1),name:X.string().min(1),from:X.number().int().nonnegative(),to:X.number().int().nonnegative(),cycle:X.number().int().nonnegative()}))})),producers:ri(X.any()).nullish()})),AE=Sn("/$locale/apps/derivean/game/map")({validateSearch:ai(X.object({blueprintId:X.string().optional(),requirementsOf:X.string().optional()})),loaderDeps({search:{blueprintId:t,requirementsOf:e}}){return{blueprintId:t,requirementsOf:e}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n(),i=await t.ensureQueryData({queryKey:["Management",r.id],async queryFn(){return await e.transaction().execute(async o=>await BN({select:o.selectFrom(o.selectFrom("Blueprint as bl").leftJoin("Building as bg","bg.blueprintId","bl.id").select(["bl.id","bl.name","bl.cycles","bl.sort","bl.productionLimit",c=>c.case().when(c.not(c.exists(c.selectFrom("Blueprint_Requirement as br").select(c.lit(1).as("one")).whereRef("br.blueprintId","=","bl.id").where(d=>d.not(d.exists(d.selectFrom("Inventory as i").select(d.lit(1).as("one")).where("i.id","in",d.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","br.resourceId").whereRef("i.amount",">=","br.amount"))))))).then(c.lit(!0)).else(c.lit(!1)).end().as("withAvailableResources"),c=>c.case().when(c.not(c.exists(c.selectFrom("Blueprint_Dependency as bd").select(c.lit(1).as("one")).whereRef("bd.blueprintId","=","bl.id").where(d=>d.not(d.exists(d.selectFrom("Building as b").select(d.lit(1).as("one")).where("b.userId","=",r.id).whereRef("b.blueprintId","=","bd.dependencyId"))))))).then(c.lit(!0)).else(c.lit(!1)).end().as("withAvailableBuildings"),c=>c.selectFrom("Building as bg").select(d=>ka.jsonObject({id:d.ref("bg.id")}).as("building")).whereRef("bg.blueprintId","=","bl.id").where("bg.userId","=",r.id).as("building"),c=>c.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").select(d=>d.fn.count("p.id").as("count")).whereRef("bp.blueprintId","=","bl.id").where("p.userId","=",r.id).as("productionCount"),c=>c.case().when(c.exists(c.selectFrom("Production as p").select(c.lit(1).as("one")).where("p.blueprintProductionId","in",c.selectFrom("Blueprint_Production").select("id").whereRef("blueprintId","=","bl.id")).groupBy("p.blueprintProductionId").having(d=>d(d.fn.count("p.id"),">=",d.ref("bl.productionLimit"))))).then(c.lit(!1)).else(c.lit(!0)).end().as("productionAvailable"),c=>c.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(d=>ka.jsonGroupArray({id:d.ref("br.id"),amount:d.ref("br.amount"),passive:d.ref("br.passive"),resourceId:d.ref("br.resourceId"),blueprintId:d.ref("br.blueprintId"),name:d.ref("r.name")}).as("requirements")).whereRef("br.blueprintId","=","bl.id").orderBy("r.name","asc").as("requirements"),c=>c.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(d=>ka.jsonGroupArray({id:d.ref("bd.id"),dependencyId:d.ref("bd.dependencyId"),blueprintId:d.ref("bd.blueprintId"),name:d.ref("bl2.name")}).as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies"),c=>c.selectFrom("Construction as c").innerJoin("Blueprint as bl2","bl2.id","c.blueprintId").select(d=>ka.jsonGroupArray({id:d.ref("c.id"),cycle:d.ref("c.cycle"),from:d.ref("c.from"),to:d.ref("c.to"),name:d.ref("bl2.name")}).as("requirements")).whereRef("c.blueprintId","=","bl.id").where("c.userId","=",r.id).orderBy("bl2.name","asc").as("construction"),c=>c.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").leftJoin("Building as b",d=>d.onRef("b.blueprintId","=","bp.blueprintId").on("b.userId","=",r.id)).select(d=>ka.jsonGroupArray({id:d.ref("bp.id"),amount:d.ref("bp.amount"),cycles:d.ref("bp.cycles"),limit:d.ref("bp.limit"),buildingId:d.ref("b.id"),blueprintId:d.ref("bp.blueprintId"),resourceId:d.ref("bp.resourceId"),name:d.ref("r.name"),isFull:d.case().when(d.exists(d.selectFrom("Production as p").select(d.lit(1).as("one")).whereRef("p.blueprintProductionId","=","bp.id").groupBy("p.blueprintProductionId").having(f=>f(f.fn.count("p.id"),">=",f.ref("bp.limit"))))).then(d.lit(!0)).else(d.lit(!1)).end(),inQueue:d.case().when(d.exists(d.selectFrom("Production_Queue as pq").select(d.lit(1).as("one")).whereRef("pq.blueprintProductionId","=","bp.id").groupBy("pq.blueprintProductionId").having(f=>f(f.fn.count("pq.id"),">=",f.ref("bp.limit"))))).then(d.lit(!0)).else(d.lit(!1)).end(),withAvailableResources:d.case().when(d.not(d.exists(d.selectFrom("Blueprint_Production_Requirement as bpr").select(d.lit(1).as("one")).whereRef("bpr.blueprintProductionId","=","bp.id").where(f=>f.not(f.exists(f.selectFrom("Inventory as i").select(f.lit(1).as("one")).where("i.id","in",f.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","bpr.resourceId").whereRef("i.amount",">=","bpr.amount"))))))).then(d.lit(!0)).else(d.lit(!1)).end(),requirements:d.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r2","r2.id","bpr.resourceId").select([f=>ka.jsonGroupArray({id:f.ref("bpr.id"),amount:f.ref("bpr.amount"),passive:f.ref("bpr.passive"),name:f.ref("r2.name"),blueprintId:f.ref("bp.id"),resourceId:f.ref("bpr.resourceId")}).as("requirements")]).whereRef("bpr.blueprintProductionId","=","bp.id"),queue:d.selectFrom("Production as p").innerJoin("Blueprint_Production as bp2","p.blueprintProductionId","bp2.id").innerJoin("Resource as r2","r2.id","bp.resourceId").select(f=>ka.jsonGroupArray({id:f.ref("p.id"),name:f.ref("r2.name"),from:f.ref("p.from"),to:f.ref("p.to"),cycle:f.ref("p.cycle"),blueprintProductionId:f.ref("p.blueprintProductionId")}).as("requirements")).whereRef("p.blueprintProductionId","=","bp.id").where("p.id","in",f=>f.selectFrom("Production").select("id").where("userId","=",r.id))}).as("production")).whereRef("bp.blueprintId","=","bl.id").where(d=>d.or([d("bp.resourceId","in",d.selectFrom(d.selectFrom("Blueprint_Requirement as br").innerJoin("Blueprint as bl2","bl2.id","br.blueprintId").select(["br.resourceId",f=>f.case().when(f.not(f.exists(f.selectFrom("Blueprint_Dependency as bd").select(f.lit(1).as("one")).whereRef("bd.blueprintId","=","bl2.id").where(p=>p.not(p.exists(p.selectFrom("Building as b").select(p.lit(1).as("one")).where("b.userId","=",r.id).whereRef("b.blueprintId","=","bd.dependencyId"))))))).then(f.lit(!0)).else(f.lit(!1)).end().as("withAvailableBuildings"),f=>f.case().when(f.not(f.exists(f.selectFrom("Blueprint_Requirement as br").select(f.lit(1).as("one")).whereRef("br.blueprintId","=","bl2.id").where(p=>p.not(p.exists(p.selectFrom("Inventory as i").select(p.lit(1).as("one")).where("i.id","in",p.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","br.resourceId").whereRef("i.amount",">=","br.amount"))))))).then(f.lit(!0)).else(f.lit(!1)).end().as("withAvailableResources")]).where("br.blueprintId","not in",d.selectFrom("Building as bg2").where("bg2.userId","=",r.id).select("bg2.blueprintId")).where("br.blueprintId","not in",d.selectFrom("Construction as c").where("c.userId","=",r.id).select("c.blueprintId")).where(f=>{const p=o.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select("i.amount").where("ui.userId","=",r.id).where("i.resourceId","=","br.resourceId");return f.or([f("br.amount",">",p),f(p,"is",null)])}).as("resources")).select("resources.resourceId").where("resources.withAvailableBuildings","=",!0).where("resources.withAvailableResources","=",!1)),d("bp.resourceId","in",d.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Blueprint_Production as bp","bp.id","bpr.blueprintProductionId").where("bp.blueprintId","in",d.selectFrom("Building as bg2").select("bg2.blueprintId").where("bg2.userId","=",r.id)).select(["bpr.resourceId"]))])).orderBy("r.name","asc").as("production")]).as("blueprint")).selectAll().where("withAvailableBuildings","=",!0).orderBy("sort","asc").orderBy("name","asc"),query({select:c,where:d}){let f=c;if(d?.fulltext){const p=`%${d.fulltext}%`.toLowerCase();f=f.where(b=>b.or([b("id","like",p),b("name","like",p),b("id","in",b.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").select("bp.blueprintId").where(x=>x.or([x("r.name","like",p)])))]))}return f},output:fie,cursor:{page:0,size:250}}))}});return{graph:kL({graph:new VN.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:i.map(s=>{let o="blueprint";return s.construction?.[0]?o="construction":s.building?o="building":s.withAvailableResources&&s.withAvailableBuildings?o="blueprint-available":s.withAvailableResources&&!s.withAvailableBuildings?o="blueprint-missing-buildings":s.withAvailableBuildings&&!s.withAvailableResources?o="blueprint-missing-resources":!s.withAvailableBuildings&&!s.withAvailableResources&&(o="blueprint-unavailable"),{id:s.id,data:s,position:{x:0,y:0},type:o}}),edges:(await e.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:s,blueprintId:o,dependencyId:l})=>({id:s,source:l,target:o}))}),inventory:await e.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.resourceId","i.limit"]).where("ui.userId","=",r.id).execute()}},component(){const{graph:t,inventory:e}=AE.useLoaderData(),{blueprintId:n,requirementsOf:r}=AE.useSearch(),{session:i}=Ud({from:"/$locale/apps/derivean/game"});return m.jsx(die,{graph:t,userId:i.id,inventory:e,blueprintId:n,requirementsOf:r})}}),Ug=Wi(),pie=[Ug({name:"name",header(){return m.jsx(ae,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),Ug({name:"amount",header(){return m.jsx(ae,{label:"Amount (label)"})},render({value:t}){return qn({number:t})},size:18}),Ug({name:"limit",header(){return m.jsx(ae,{label:"Inventory limit (label)"})},render({value:t}){return qn({number:t})},size:14}),Ug({name:"storage",header(){return m.jsx(ae,{label:"Storage (label)"})},render({data:t}){return m.jsx(of,{value:100*t.amount/t.limit})},size:24})],hie=({table:t,...e})=>m.jsx(Bi,{table:zi({...t,columns:pie}),...e}),p1=Lre({shape:X.object({resourceId:X.string().min(1),amount:Hl(),limit:Hl()}),filter:ds.merge(X.object({resourceId:X.string().optional()}))}),xy=Sn("/$locale/apps/derivean/game/inventory")({validateSearch:ai($i(p1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(s=>Zr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").selectAll("i").select("r.name").where("i.id","in",s.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("i.id","=",l.id)),l?.idIn&&(c=c.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(p=>p.or([p("t.code","like",d),p("t.label","like",d),p("t.group","like",d)])))]))}return c},output:X.object({id:X.string().min(1),name:X.string().min(1),resourceId:X.string().min(1),amount:X.number().nonnegative(),limit:X.number().nonnegative()}),filter:n,cursor:r}))},component(){const{data:t,count:e}=xy.useLoaderData(),{filter:n,cursor:r}=xy.useSearch(),i=xy.useNavigate(),{tva:s}=Gr({from:"__root__"}),o=s().slots;return m.jsx("div",{className:o.base(),children:m.jsx(hie,{table:{data:t,filter:{value:n,set:Li(i)}},fulltext:{value:n?.fulltext,set:Mi(i)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of items"}),...Di(i)}})})}}),IL=Sn("/$locale/apps/derivean/db/schema")({async loader({context:{kysely:t}}){return{tables:await t.introspection.getTables()}},component(){const{tables:t}=IL.useLoaderData(),e=({dataType:i,isNullable:s})=>{const o=i.toLowerCase();let l=`z.never({message: '${i}'})`;switch(o){case"integer":{l="z.number().int()";break}case"float4":{l="z.number()";break}case"datetime":{l="z.string()";break}case"boolean":{l="withBoolSchema()";break}}return o.startsWith("varchar")&&(l=`z.string()${s?"":".min(1)"}`),`
// ${i} / ${s?"nullable":"not nullable"}
${l}${s?".nullish()":""}
`},n=t.map(i=>{const s=i.name.replaceAll("_","");return`
export const with${s}Schema = <
    TShapeSchema extends ShapeSchema,
    TFilterSchema extends FilterSchema,
>({
    shape,
    filter,
}: {
    shape: TShapeSchema;
    filter: TFilterSchema;
}) => {
    return withSourceSchema({
        entity: IdentitySchema.merge(z.object({
                ${i.columns.filter(({name:o})=>o!=="id").map(o=>`
    "${o.name}": ${e(o)}
        `.trim()).join(`,
			`)},
        })),
        shape,
        filter,
        sort: [${i.columns.map(o=>`"${o.name}"`).join(", ")}],
    });
}

export type ${s}Entity = ReturnType<typeof with${s}Schema>['~entity'];
            `.trim()}),r=t.map(i=>{const s=i.name.replaceAll("_","");return`${i.name}: ${s}Entity;`});return m.jsxs("pre",{children:[`
import {
    IdentitySchema,
    withSourceSchema,
    type FilterSchema,
    type ShapeSchema,
    withBoolSchema,
} from "@use-pico/common";
import { z } from "zod";
            `.trim(),`

${n.join(`

`)}`,`

export interface Database {
    ${r.join(`
	`)}
}
                `]})}}),C3=Wi(),mie=[C3({name:"name",header(){return m.jsx(ae,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=Bn({from:"/$locale"});return m.jsx(Fn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),C3({name:"login",header(){return m.jsx(ae,{label:"User login (label)"})},render({value:t}){return t},size:14})],gie=({table:t,...e})=>{const n=wr([["Management"],["User_Inventory"]]),r=un({async mutationFn({userId:s}){return Ft.transaction().execute(o=>qE({tx:o,userId:s}))},async onSuccess(){await n()}}),i=un({async mutationFn({userId:s}){return Ft.transaction().execute(async o=>{await qE({tx:o,userId:s}),await o.deleteFrom("Building").where("userId","=",s).execute(),await o.deleteFrom("Production").where("userId","=",s).execute(),await o.deleteFrom("Construction").where("userId","=",s).execute(),await o.deleteFrom("Cycle").where("userId","=",s).execute()})},async onSuccess(){await n()}});return m.jsx(Bi,{table:zi({...t,columns:mie}),action:{row({data:s}){return m.jsxs(Yn,{children:[m.jsx(GS,{icon:ta,onClick:()=>{r.mutateAsync({userId:s.id})},children:m.jsx(ae,{label:"Apply default inventory (menu)"})}),m.jsx(GS,{icon:oi,onClick:()=>{i.mutateAsync({userId:s.id})},children:m.jsx(ae,{label:"Reset game (menu)"})})]})}},...e})},yie=Bre({shape:X.object({name:X.string().min(1),login:X.string().min(1),password:X.string().min(1)}),filter:ds.merge(X.object({login:X.string().optional(),password:X.string().optional()}))}),wy=Sn("/$locale/apps/derivean/root/user/list")({validateSearch:ai($i(yie)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["User","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Zr({select:i.selectFrom("User as u").select(["u.id","u.name","u.login"]),output:X.object({id:X.string().min(1),name:X.string().min(1),login:X.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=wy.useLoaderData(),{filter:n,cursor:r,selection:i}=wy.useSearch(),s=wy.useNavigate(),{tva:o}=Gr({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(gie,{table:{data:t,filter:{value:n,set:Li(s)},selection:{type:"multi",value:i,set:hs(s)}},fulltext:{value:n?.fulltext,set:Mi(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of users (label)"}),...Di(s)}})})}}),vie=({entity:t,...e})=>{const{locale:n}=Bn({from:"/$locale"});return m.jsxs(sf,{...e,children:[m.jsx(kr,{icon:$N,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"View detail (menu)"})}),m.jsx(kr,{icon:Jl,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Building list (menu)"})}),m.jsx(kr,{icon:ta,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Inventory (menu)"})})]})},bie=t=>{const{locale:e}=Bn({from:"/$locale"});return m.jsx(bb,{title:({entity:n})=>m.jsx(wb,{icon:$N,title:n.name}),actions:()=>m.jsx(m.Fragment,{children:m.jsx(Fn,{icon:LN,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:m.jsx(ae,{label:"User list (label)"})})}),...t})},CL=Sn("/$locale/apps/derivean/root/user/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await xb({select:n.selectFrom("User as u").select(["u.id","u.name"]).where("u.id","=",e),output:X.object({id:X.string().min(1),name:X.string().min(1)})})}))},component(){const{tva:t}=Gr({from:"__root__"}),{entity:e}=CL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(bie,{entity:e}),m.jsx(vie,{entity:e}),m.jsx($a,{})]})}}),fm=$re({shape:X.object({code:X.string().min(1),label:X.string().min(1),group:X.string().nullish(),sort:wd()}),filter:ds.merge(X.object({code:X.string().optional(),group:X.string().optional()}))}),T3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(fm.shape),defaultValues:{sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"code",label:m.jsx(ae,{label:"Tag code (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("code")})}),m.jsx(wn,{formState:s.formState,name:"label",label:m.jsx(ae,{label:"Tag label (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("label")})}),m.jsx(wn,{formState:s.formState,name:"group",label:m.jsx(ae,{label:"Tag group (label)"}),children:m.jsx("input",{type:"text",className:o.input(),...s.register("group")})}),m.jsx(wn,{formState:s.formState,name:"sort",label:m.jsx(ae,{label:"Tag sort (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:xh,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},sS=Wi(),xie=[sS({name:"label",header(){return m.jsx(ae,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),sS({name:"code",header(){return m.jsx(ae,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),sS({name:"group",header(){return m.jsx(ae,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],TL=({group:t,table:e,...n})=>{const r=wr([["Tag"],["Resource"]]);return m.jsx(Bi,{table:zi({...e,columns:xie}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create tag (menu)"}),textTitle:m.jsx(ae,{label:"Create tag (modal)"}),icon:xh,children:m.jsx(T3,{defaultValues:{group:t},mutation:un({async mutationFn(i){return En.promise(Ft.transaction().execute(s=>s.insertInto("Tag").values({id:$n(),...i}).returningAll().executeTakeFirstOrThrow()),_r("Create tag"))},async onSuccess(){await r()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit tag (modal)"}),icon:xh,children:m.jsx(T3,{defaultValues:{group:t,...i},mutation:un({async mutationFn(s){return En.promise(Ft.transaction().execute(o=>o.updateTable("Tag").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),_r("Edit tag"))},async onSuccess(){await r()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>{await Ft.transaction().execute(s=>s.deleteFrom("Tag").where("id","=",i.id).execute())},textContent:m.jsx(ae,{label:"Tag delete (content)"}),textToast:"Tag delete",invalidator:r})})]})}},...n})},_y=Sn("/$locale/apps/derivean/root/tag/list")({validateSearch:ai($i(fm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Tag","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>Zr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]).orderBy("t.sort","desc"),output:X.object({id:X.string().min(1),code:X.string().min(1),label:X.string().min(1),group:X.string().nullish(),sort:X.number().int().nonnegative()}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=_y.useLoaderData(),{filter:n,cursor:r,selection:i}=_y.useSearch(),s=_y.useNavigate(),{tva:o}=Gr({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(TL,{table:{data:t,filter:{value:n,set:Li(s)},selection:{type:"multi",value:i,set:hs(s)}},fulltext:{value:n?.fulltext,set:Mi(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of items"}),...Di(s)}})})}}),wie=({group:t,...e})=>m.jsx(tG,{icon:xh,table:n=>m.jsx(TL,{group:t,...n}),render:({entities:n})=>m.jsx(c2,{tags:n}),queryKey:"Tag",query:async({filter:n,cursor:r})=>Ft.transaction().execute(async i=>Zr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]),output:fm.entity,query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("t.id","=",o.id)),o?.idIn&&(l=l.where("t.id","in",o.idIn)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("t.code","like",c),d("t.group","like",c),d("t.label","like",c),d("t.id","like",c)]))}return l},filter:n,cursor:r})),...e}),OL=Mre({shape:X.object({name:X.string().min(1),tagIds:X.array(X.string()).optional()}),filter:ds.merge(X.object({name:X.string().optional()}))}),O3=({group:t="resource",mutation:e,defaultValues:n,variant:r,tva:i=xi,css:s})=>{const o=wi({resolver:_i(OL.shape),defaultValues:n}),l=i({...r,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:s}).slots;return m.jsxs("form",{className:l.base(),onSubmit:ps({form:o,mutation:e}),children:[m.jsx(si,{variant:{highlight:!0},error:o.formState.errors.root}),m.jsx(wn,{formState:o.formState,name:"name",label:m.jsx(ae,{label:"Resource name (label)"}),children:m.jsx("input",{type:"text",className:l.input(),...o.register("name")})}),m.jsx(wn,{formState:o.formState,name:"tagIds",label:m.jsx(ae,{label:"Resource tags (label)"}),children:m.jsx(us,{control:o.control,name:"tagIds",render:({field:{ref:c,...d}})=>m.jsx(wie,{group:t,textTitle:m.jsx(ae,{label:"Select resource tags (title)"}),textSelect:m.jsx(ae,{label:"Select resource tags (label)"}),allowEmpty:!0,...d})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:pr,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},lp=Wi(),_ie=[lp({name:"name",header(){return m.jsx(ae,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=Bn({from:"/$locale"});return m.jsx(Fn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),lp({name:"countProduction",header(){return m.jsx(ae,{label:"Resource production count (label)"})},render({value:t}){return m.jsx(Qo,{css:{base:t!==void 0&&t===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:qn({number:t})})},size:12}),lp({name:"countRequirement",header(){return m.jsx(ae,{label:"Resource requirement count (label)"})},render({data:t,value:e}){return m.jsx(Qo,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:qn({number:e})})},size:12}),lp({name:"countProductionRequirement",header(){return m.jsx(ae,{label:"Resource production requirement count (label)"})},render({data:t,value:e}){return m.jsx(Qo,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:qn({number:e})})},size:18}),lp({name:"tags",header(){return m.jsx(ae,{label:"Resource tags (label)"})},render({value:t}){return m.jsx(c2,{tags:t})},size:32})],qL=({group:t,table:e,...n})=>{const r=wr([["Resource"],["Resource_Tag"]]);return m.jsx(Bi,{table:zi({...e,columns:_ie}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create resource (menu)"}),textTitle:m.jsx(ae,{label:"Create resource (modal)"}),icon:pr,children:({close:i})=>m.jsx(O3,{group:t,mutation:un({async mutationFn({name:s,tagIds:o=[]}){return En.promise(Ft.transaction().execute(async l=>{const c=await l.insertInto("Resource").values({id:$n(),name:s}).returningAll().executeTakeFirstOrThrow();return o.length&&await l.insertInto("Resource_Tag").values(o.map(d=>({id:$n(),resourceId:c.id,tagId:d}))).execute(),c}),_r("Create resource"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit resource (modal)"}),icon:pr,children:({close:s})=>m.jsx(O3,{defaultValues:{...i,tagIds:i.tags.map(({id:o})=>o)},mutation:un({async mutationFn({tagIds:o,...l}){return En.promise(Ft.transaction().execute(async c=>{const d=await c.updateTable("Resource").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await c.deleteFrom("Resource_Tag").where("resourceId","=",d.id).execute(),o?.length&&await c.insertInto("Resource_Tag").values(o.map(f=>({id:$n(),resourceId:d.id,tagId:f}))).execute(),d}),_r("Update resource"))},async onSuccess(){await r(),s()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Resource").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Resource delete (content)"}),textToast:"Resource delete",invalidator:r})})]})}},...n})},Sy=Sn("/$locale/apps/derivean/root/resource/list")({validateSearch:ai($i(OL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Resource","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Zr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>$r`json_group_array(json_object(
                                            'id', ${o.ref("t.id")},
                                            'code', ${o.ref("t.code")},
                                            'group', ${o.ref("t.group")},
                                            'sort', ${o.ref("t.sort")},
                                            'label', ${o.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",s.selectFrom("Resource_Tag as rt").select("rt.tagId").whereRef("rt.resourceId","=","r.id")).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",c),d("r.name","like",c),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:X.object({id:X.string().min(1),name:X.string().min(1),countRequirement:X.number().nonnegative(),countProduction:X.number().nonnegative(),countProductionRequirement:X.number().nonnegative(),tags:ri(fm.entity)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Sy.useLoaderData(),{filter:n,cursor:r,selection:i}=Sy.useSearch(),s=Sy.useNavigate(),{tva:o}=Gr({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(qL,{table:{data:t,filter:{value:n,set:Li(s)},selection:{type:"multi",value:i,set:hs(s)}},fulltext:{value:n?.fulltext,set:Mi(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of items"}),...Di(s)}})})}}),Sie=({entity:t,...e})=>{const{locale:n}=Bn({from:"/$locale"});return m.jsx(sf,{...e,children:m.jsx(kr,{icon:pr,to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"View detail (menu)"})})})},Eie=t=>{const{locale:e}=Bn({from:"/$locale"});return m.jsx(bb,{title:({entity:n})=>m.jsx(wb,{icon:pr,title:n.name}),actions:()=>m.jsx(m.Fragment,{children:m.jsx(Fn,{icon:LN,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:m.jsx(ae,{label:"Resource list (label)"})})}),...t})},RL=Sn("/$locale/apps/derivean/root/resource/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Resource",n],async queryFn(){return e.transaction().execute(async r=>({entity:await xb({select:r.selectFrom("Resource as r").select(["r.id","r.name"]).where("r.id","=",n),output:X.object({id:X.string().min(1),name:X.string().min(1)})})}))}})},component:()=>{const{tva:t}=Gr({from:"__root__"}),{entity:e}=RL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(Eie,{entity:e}),m.jsx(Sie,{entity:e}),m.jsx($a,{})]})}}),lf=({group:t,...e})=>m.jsx(l2,{icon:pr,textTitle:m.jsx(ae,{label:"Select resource (title)"}),textSelect:m.jsx(ae,{label:"Select resource (label)"}),table:n=>m.jsx(qL,{group:t,...n}),render:({entity:n})=>n.name,queryKey:"Resource",query:async({filter:n,cursor:r})=>Ft.transaction().execute(async i=>Zr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>$r`json_group_array(json_object(
                                                'id', ${o.ref("t.id")},
                                                'code', ${o.ref("t.code")},
                                                'group', ${o.ref("t.group")},
                                                'sort', ${o.ref("t.sort")},
                                                'label', ${o.ref("t.label")}
                                            ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",s.ref("r.id"))).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("r.id","=",o.id)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",c),d("r.name","like",c),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:X.object({id:X.string().min(1),name:X.string().min(1),tags:ri(fm.entity),countRequirement:X.number().nonnegative(),countProduction:X.number().nonnegative(),countProductionRequirement:X.number().nonnegative()}),filter:n,cursor:r})),...e}),AL=Dre({shape:X.object({resourceId:X.string().min(1),amount:Hl(),limit:Hl()}),filter:ds}),q3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(AL.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ae,{label:"Resource name (label)"}),children:m.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(lf,{textTitle:m.jsx(ae,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ae,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ae,{label:"Limit (label)"}),hint:m.jsx(ae,{label:"Inventory limit (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:ta,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},oS=Wi(),Nie=[oS({name:"name",header(){return m.jsx(ae,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),oS({name:"amount",header(){return m.jsx(ae,{label:"Amount (label)"})},render({value:t}){return qn({number:t})},size:12}),oS({name:"limit",header(){return m.jsx(ae,{label:"Inventory limit (label)"})},render({value:t,data:e}){return m.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[m.jsx("div",{children:qn({number:t})}),m.jsx(of,{value:100*e.amount/e.limit})]})},size:14})],kie=({table:t,...e})=>{const n=wr([["Default_Inventory"]]),r=un({async mutationFn(){return Ft.transaction().execute(async i=>{const s=await i.selectFrom("Resource as r").select(["r.id"]).where("r.id","not in",i.selectFrom("Default_Inventory").select("resourceId")).execute();return i.insertInto("Default_Inventory").values(s.map(({id:o})=>({id:$n(),amount:0,limit:0,resourceId:o}))).execute()})},async onSuccess(){await n()}});return m.jsx(Bi,{table:zi({...t,columns:Nie}),action:{table(){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Create inventory item (menu)"}),textTitle:m.jsx(ae,{label:"Create inventory item (modal)"}),icon:ta,children:m.jsx(q3,{mutation:un({async mutationFn(i){return En.promise(Ft.transaction().execute(async s=>s.insertInto("Default_Inventory").values({id:$n(),...i}).returningAll().executeTakeFirstOrThrow()),_r("Create inventory item"))},async onSuccess(){await n()}})})}),m.jsx(GS,{icon:pr,onClick:()=>{r.mutate()},children:m.jsx(ae,{label:"Fill missing resources (label)"})})]})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit inventory item (modal)"}),icon:ta,children:m.jsx(q3,{defaultValues:i,mutation:un({async mutationFn(s){return En.promise(Ft.transaction().execute(async o=>o.updateTable("Default_Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),_r("Update inventory item"))},async onSuccess(){await n()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Default_Inventory").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:n})})]})}},...e})},Ey=Sn("/$locale/apps/derivean/root/default/inventory")({validateSearch:ai($i(AL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Default_Inventory","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Zr({select:i.selectFrom("Default_Inventory as di").innerJoin("Resource as r","r.id","di.resourceId").select(["di.id","r.name","di.amount","di.limit","di.resourceId"]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("di.id","=",o.id)),o?.idIn&&(l=l.where("di.id","in",o.idIn)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("di.id","like",`%${c}%`),d("r.id","like",`%${c}%`),d("r.name","like",`%${c}%`),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:X.object({id:X.string().min(1),name:X.string().min(1),resourceId:X.string().min(1),amount:X.number().nonnegative(),limit:X.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ey.useLoaderData(),{filter:n,cursor:r,selection:i}=Ey.useSearch(),s=Ey.useNavigate(),{tva:o}=Gr({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(kie,{table:{data:t,filter:{value:n,set:Li(s)},selection:{type:"multi",value:i,set:hs(s)}},fulltext:{value:n?.fulltext,set:Mi(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of items"}),...Di(s)}})})}}),Iie=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2","bg-sky-100","border-sky-300","text-sky-500"]},variant:{missing:{true:[]}},match:[{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{missing:!1}}),jL=({dependencies:t,variant:e,tva:n=Iie,css:r,...i})=>{const s=n({...e,css:r}).slots;return m.jsx(_h,{items:t,render:({entity:o})=>m.jsx("div",{className:s.item(),children:m.jsx("div",{children:o.name})}),...i})};var Vg={},R3;function Cie(){if(R3)return Vg;R3=1;function t(r,i,s,o){var l=new Set;return function(c){if(!l.has(c)){var d=new Set,f=[],p=[];for(p.push({node:c,processed:!1});p.length>0;){var b=p[p.length-1],x=b.processed,_=b.node;if(x)p.pop(),f.pop(),d.delete(_),l.add(_),(!i||r.get(_).length===0)&&s.push(_);else{if(l.has(_)){p.pop();continue}else if(d.has(_)){if(o){p.pop();continue}throw f.push(_),new n(f)}d.add(_),f.push(_);for(var N=r.get(_),I=N.length-1;I>=0;I--)p.push({node:N[I],processed:!1});b.processed=!0}}}}}var e=Vg.DepGraph=function(i){this.nodes=new Map,this.outgoingEdges=new Map,this.incomingEdges=new Map,this.circular=i&&!!i.circular};e.prototype={size:function(){return this.nodes.size},addNode:function(r,i){this.hasNode(r)||(arguments.length===2?this.nodes.set(r,i):this.nodes.set(r,r),this.outgoingEdges.set(r,[]),this.incomingEdges.set(r,[]))},removeNode:function(r){this.hasNode(r)&&(this.nodes.delete(r),this.outgoingEdges.delete(r),this.incomingEdges.delete(r),[this.incomingEdges,this.outgoingEdges].forEach(function(i){i.forEach(function(s){var o=s.indexOf(r);o>=0&&s.splice(o,1)})}))},hasNode:function(r){return this.nodes.has(r)},getNodeData:function(r){if(this.hasNode(r))return this.nodes.get(r);throw new Error("Node does not exist: "+r)},setNodeData:function(r,i){if(this.hasNode(r))this.nodes.set(r,i);else throw new Error("Node does not exist: "+r)},addDependency:function(r,i){if(!this.hasNode(r))throw new Error("Node does not exist: "+r);if(!this.hasNode(i))throw new Error("Node does not exist: "+i);return this.outgoingEdges.get(r).indexOf(i)===-1&&this.outgoingEdges.get(r).push(i),this.incomingEdges.get(i).indexOf(r)===-1&&this.incomingEdges.get(i).push(r),!0},removeDependency:function(r,i){var s;this.hasNode(r)&&(s=this.outgoingEdges.get(r).indexOf(i),s>=0&&this.outgoingEdges.get(r).splice(s,1)),this.hasNode(i)&&(s=this.incomingEdges.get(i).indexOf(r),s>=0&&this.incomingEdges.get(i).splice(s,1))},clone:function(){var r=this,i=new e;return r.nodes.forEach(function(s,o){i.nodes.set(o,s),i.outgoingEdges.set(o,r.outgoingEdges.get(o).slice(0)),i.incomingEdges.set(o,r.incomingEdges.get(o).slice(0))}),i.circular=r.circular,i},directDependenciesOf:function(r){if(this.hasNode(r))return this.outgoingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},directDependantsOf:function(r){if(this.hasNode(r))return this.incomingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},dependenciesOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.outgoingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},dependantsOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.incomingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},overallOrder:function(r){var i=this,s=[],o=Array.from(this.nodes.keys());if(o.length===0)return s;if(!this.circular){var l=t(this.outgoingEdges,!1,[],this.circular);o.forEach(function(d){l(d)})}var c=t(this.outgoingEdges,r,s,this.circular);return o.filter(function(d){return i.incomingEdges.get(d).length===0}).forEach(function(d){c(d)}),this.circular&&o.filter(function(d){return s.indexOf(d)===-1}).forEach(function(d){c(d)}),s},entryNodes:function(){var r=this;return Array.from(this.nodes.keys()).filter(function(i){return r.incomingEdges.get(i).length===0})}},e.prototype.directDependentsOf=e.prototype.directDependantsOf,e.prototype.dependentsOf=e.prototype.dependantsOf;var n=Vg.DepGraphCycleError=function(r){var i="Dependency Cycle Found: "+r.join(" -> "),s=new Error(i);return s.cyclePath=r,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,n),s};return n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(n,Error),Vg}var PL=Cie();const Fb=async({tx:t})=>{const e=new PL.DepGraph({circular:!1});for await(const{id:n,name:r}of await t.selectFrom("Blueprint").select(["id","name"]).execute())e.addNode(n,r);for await(const{blueprintId:n,dependencyId:r}of await t.selectFrom("Blueprint_Dependency").select(["blueprintId","dependencyId"]).execute())e.addDependency(n,r);return e},Ah=async({tx:t})=>{const e=Fb({tx:t}),n=await t.selectFrom("Blueprint as bl").select(["bl.id"]).execute();for await(const r of n){const i=(await e).dependenciesOf(r.id);await t.updateTable("Blueprint").set({sort:i.length}).where("id","=",r.id).execute()}},up=Wi(),Tie=[up({name:"name",header(){return m.jsx(ae,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=Bn({from:"/$locale"});return m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx(Fn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:n},search:{zoomTo:t.id}}),m.jsx(Fn,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),up({name:"dependencies",header(){return m.jsx(ae,{label:"Blueprint dependencies (label)"})},render({value:t}){return t.length>0?m.jsxs("div",{className:"flex flex-col flex-wrap gap-2 w-full",children:[m.jsx(jL,{textTitle:m.jsx(ae,{label:"Blueprint dependencies (title)"}),dependencies:t}),m.jsx("div",{className:"border-b border-slate-200"})]}):m.jsx(ae,{label:"No dependencies (label)"})},size:32}),up({name:"requirements",header(){return m.jsx(ae,{label:"Required resources (label)"})},render({value:t}){return m.jsx(dm,{textTitle:m.jsx(ae,{label:"Blueprint requirements (title)"}),textEmpty:m.jsx(ae,{label:"No requirements (label)"}),requirements:t})},size:32}),up({name:"cycles",header(){return m.jsx(ae,{label:"Construction cycles (label)"})},render({value:t}){return m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(en,{icon:gv}),qn({number:t})]})},size:8}),up({name:"productionLimit",header(){return m.jsx(ae,{label:"Production limit (label)"})},render({value:t}){return qn({number:t})},size:8})],FL=({dependencies:t,table:e,...n})=>{const r=wr([["Blueprint"],["Inventory"]]);return m.jsx(Bi,{table:zi({...e,columns:Tie,context:{dependencies:t}}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create blueprint (menu)"}),textTitle:m.jsx(ae,{label:"Create blueprint (modal)"}),icon:Wn,children:({close:i})=>m.jsx(Rv,{mutation:un({async mutationFn(s){return En.promise(Ft.transaction().execute(async o=>{const l=o.insertInto("Blueprint").values({id:$n(),...s}).returningAll().executeTakeFirstOrThrow();return await Ah({tx:o}),l}),_r("Create blueprint"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit blueprint (modal)"}),icon:Wn,children:({close:s})=>m.jsx(Rv,{defaultValues:i,mutation:un({async mutationFn(o){return En.promise(Ft.transaction().execute(async l=>{const c=l.updateTable("Blueprint").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await Ah({tx:l}),c}),_r("Update blueprint"))},async onSuccess(){await r(),s()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete blueprint (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:r})})]})}},...n})},Ny=Sn("/$locale/apps/derivean/root/blueprint/list")({validateSearch:ai($i(EL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.productionLimit",o=>o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(l=>$r`json_group_array(json_object(
                                                'id', ${l.ref("br.id")},
                                                'amount', ${l.ref("br.amount")},
                                                'passive', ${l.ref("br.passive")},
                                                'resourceId', ${l.ref("br.resourceId")},
                                                'blueprintId', ${l.ref("br.blueprintId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),o=>o.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(l=>$r`json_group_array(json_object(
                                                        'id', ${l.ref("bd.id")},
                                                        'dependencyId', ${l.ref("bd.dependencyId")},
                                                        'blueprintId', ${l.ref("bd.blueprintId")},
                                                        'name', ${l.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("bl.id","=",l.id)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("bl.id","like",d),f("bl.name","like",d)]))}return c},output:X.object({id:X.string().min(1),name:X.string().min(1),cycles:X.number().nonnegative(),sort:X.number().nonnegative(),productionLimit:X.number().nonnegative(),requirements:ri(af.entity.merge(X.object({name:X.string().min(1)}))),dependencies:ri(ic.entity.merge(X.object({name:X.string().min(1)})))}),filter:n,cursor:r}))}}),dependencies:await e.transaction().execute(async s=>Fb({tx:s}))}},component(){const{data:{data:t,count:e},dependencies:n}=Ny.useLoaderData(),{filter:r,cursor:i,selection:s}=Ny.useSearch(),o=Ny.useNavigate(),{tva:l}=Gr({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(FL,{dependencies:n,table:{data:t,filter:{value:r,set:Li(o)},selection:{type:"multi",value:s,set:hs(o)}},fulltext:{value:r?.fulltext,set:Mi(o)},cursor:{count:e,cursor:i,textTotal:m.jsx(ae,{label:"Number of blueprints"}),...Di(o)}})})}}),Oie=({entity:t,...e})=>{const{locale:n}=Bn({from:"/$locale"});return m.jsxs(sf,{...e,children:[m.jsx(kr,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"View detail (menu)"})}),m.jsx(kr,{icon:Jl,to:"/$locale/apps/derivean/root/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Blueprint dependencies (menu)"})}),m.jsx(kr,{icon:pr,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Required resources (menu)"})}),m.jsx(kr,{icon:to,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Resource production (menu)"})}),m.jsx(kr,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Blueprint conflicts (menu)"})}),m.jsx(kr,{icon:WF,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Edit (menu)"})})]})},qie=t=>{const{locale:e}=Bn({from:"/$locale"});return m.jsx(bb,{title:({entity:n})=>m.jsx(wb,{icon:Wn,title:n.name}),actions:({entity:n})=>m.jsxs(m.Fragment,{children:[m.jsx(Fn,{icon:LN,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},children:m.jsx(ae,{label:"Blueprint list (label)"})}),m.jsx(Fn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},search:{zoomTo:n.id},children:m.jsx(ae,{label:"Editor (label)"})})]}),...t})},DL=Sn("/$locale/apps/derivean/root/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>xb({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.productionLimit",s=>s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(o=>$r`json_group_array(json_object(
                                                  'id', ${o.ref("br.id")},
                                                  'amount', ${o.ref("br.amount")},
                                                  'passive', ${o.ref("br.passive")},
                                                  'resourceId', ${o.ref("br.resourceId")},
                                                  'blueprintId', ${o.ref("br.blueprintId")},
                                                  'name', ${o.ref("r.name")}
                                              ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),s=>s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(o=>$r`json_group_array(json_object(
                                                          'id', ${o.ref("bd.id")},
                                                          'dependencyId', ${o.ref("bd.dependencyId")},
                                                          'blueprintId', ${o.ref("bd.blueprintId")},
                                                          'name', ${o.ref("bl2.name")}
                                                      ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",c),d("bl.name","like",c),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(f=>f.or([f("r.name","like",c)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(f=>f.or([f("b.name","like",c)])))]))}return l},output:X.object({id:X.string().min(1),name:X.string().min(1),cycles:X.number().nonnegative(),sort:X.number().nonnegative(),productionLimit:X.number().nonnegative(),requirements:ri(af.entity.merge(X.object({name:X.string().min(1)}))),dependencies:ri(ic.entity.merge(X.object({name:X.string().min(1)})))})}))}}),graph:await e.transaction().execute(async i=>Fb({tx:i}))}},component(){const{tva:t}=Gr({from:"__root__"}),{entity:e}=DL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(qie,{entity:e}),m.jsx(Oie,{entity:e}),m.jsx($a,{})]})}}),Rie=X.object({id:X.string().min(1),blueprintProductionId:X.string().min(1),blueprintId:X.string().min(1),name:X.string().min(1),resource:X.string().min(1),amount:X.number().nonnegative(),count:X.number().nonnegative(),limit:X.number().nonnegative(),priority:X.number(),paused:Ss(),requirements:ri(X.object({id:X.string().min(1),amount:X.number().nonnegative(),passive:Ss(),resourceId:X.string().min(1),name:X.string().min(1)}))}),Aie=({entity:t})=>{const{locale:e}=Bn({from:"/$locale"}),n=wr([["Management"]]),r=un({async mutationFn({id:l,priority:c}){return Ft.transaction().execute(async d=>d.updateTable("Production_Queue").set({priority:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),i=un({async mutationFn({id:l,limit:c}){return Ft.transaction().execute(async d=>d.updateTable("Production_Queue").set({limit:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),s=un({async mutationFn({id:l,paused:c}){return Ft.transaction().execute(async d=>d.updateTable("Production_Queue").set({paused:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),o=un({async mutationFn(){return Ft.transaction().execute(async l=>l.deleteFrom("Production_Queue").where("id","=",t.id).execute())},async onSuccess(){await n()}});return m.jsxs("div",{className:ji("flex flex-row items-center justify-between border border-slate-300 p-2 rounded-md hover:bg-slate-50 hover:border-slate-500",t.paused?["bg-slate-100","hover:bg-slate-200"]:void 0),children:[m.jsxs("div",{className:"flex flex-row gap-6",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2 font-bold",children:[m.jsx(Nn,{iconEnabled:t.paused?"icon-[lucide--play]":"icon-[solar--pause-outline]",loading:i.isPending,onClick:()=>{s.mutate({id:t.id,paused:!t.paused})},variant:{variant:"subtle"}}),m.jsx(Fn,{icon:Jl,to:"/$locale/apps/derivean/game/map",params:{locale:e},search:{blueprintId:t.blueprintId},children:t.name})]}),m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(en,{icon:pr,css:{base:["text-slate-400"]}}),m.jsx("div",{children:t.resource}),m.jsxs(Qo,{children:["x",qn({number:t.amount})]})]}),m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(en,{icon:"icon-[fluent--text-word-count-20-regular]",css:{base:["text-slate-400"]}}),m.jsxs(Qo,{children:[qn({number:t.count}),t.limit>0?` / ${qn({number:t.limit})}`:null]})]}),m.jsxs("div",{className:"flex flex-row items-center gap-2 font-bold",children:[m.jsx(en,{icon:"icon-[material-symbols-light--low-priority-rounded]",css:{base:["text-slate-400"]}}),m.jsx(Qo,{children:qn({number:t.priority})})]})]}),m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx(dm,{requirements:t.requirements}),m.jsx(Nn,{iconEnabled:"icon-[ph--minus-fill]",iconDisabled:"icon-[ph--minus-fill]",loading:i.isPending,disabled:t.limit===0,onClick:()=>{i.mutate({id:t.id,limit:Math.max(0,t.limit-1)})}}),m.jsx(Nn,{iconEnabled:"icon-[ph--plus-fill]",loading:i.isPending,onClick:()=>{i.mutate({id:t.id,limit:t.limit+1})}}),m.jsx(Nn,{iconEnabled:"icon-[bx--down-arrow]",iconDisabled:"icon-[bx--down-arrow]",loading:r.isPending,disabled:t.priority===0,onClick:()=>{r.mutate({id:t.id,priority:t.priority-5})}}),m.jsx(Nn,{iconEnabled:"icon-[bx--up-arrow]",loading:r.isPending,onClick:()=>{r.mutate({id:t.id,priority:t.priority+5})}}),m.jsx(Nn,{iconEnabled:oi,loading:o.isPending,variant:{variant:"danger"},onClick:()=>{o.mutate()}})]})]})},LL=Sn("/$locale/apps/derivean/game/production/queue")({async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{data:await t.ensureQueryData({queryKey:["Management","Production-Queue",r.id],queryFn:async()=>BN({select:e.selectFrom("Production_Queue as pq").innerJoin("Blueprint_Production as bp","bp.id","pq.blueprintProductionId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["pq.id","pq.blueprintProductionId","bl.name","bl.id as blueprintId","r.name as resource","bp.amount","pq.priority","pq.count","pq.limit","pq.paused",s=>s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r2","r2.id","bpr.resourceId").select([o=>ka.jsonGroupArray({id:o.ref("bpr.id"),amount:o.ref("bpr.amount"),passive:o.ref("bpr.passive"),name:o.ref("r2.name"),blueprintId:o.ref("bp.id"),resourceId:o.ref("bpr.resourceId")}).as("requirements")]).whereRef("bpr.blueprintProductionId","=","pq.blueprintProductionId").as("requirements")]).where("userId","=",r.id).orderBy("priority","desc"),output:Rie})})}},component(){const{data:t}=LL.useLoaderData();return m.jsx("div",{className:"flex flex-col gap-2",children:t.map(e=>m.jsx(Aie,{entity:e},e.id))})}}),jie=Sn("/$locale/apps/derivean/root/user/$id/view")({component:()=>"yep"}),A3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(p1.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ae,{label:"Resource name (label)"}),children:m.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(lf,{textTitle:m.jsx(ae,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ae,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ae,{label:"Inventory limit (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:ta,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},aS=Wi(),Pie=[aS({name:"name",header(){return m.jsx(ae,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),aS({name:"amount",header(){return m.jsx(ae,{label:"Amount (label)"})},render({value:t}){return qn({number:t})},size:12}),aS({name:"limit",header(){return m.jsx(ae,{label:"Inventory limit (label)"})},render({value:t,data:e}){return m.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[m.jsx("div",{children:qn({number:t})}),m.jsx(of,{value:100*e.amount/e.limit})]})},size:14})],Fie=({onCreate:t,table:e,...n})=>{const r=wr([["Inventory"],["User_Inventory"],["Building_Base_Production"]]);return m.jsx(Bi,{table:zi({...e,columns:Pie}),action:{table:t?()=>m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create inventory item (menu)"}),textTitle:m.jsx(ae,{label:"Create inventory item (modal)"}),icon:ta,children:m.jsx(A3,{mutation:un({async mutationFn(i){return En.promise(Ft.transaction().execute(async s=>{const o=await s.insertInto("Inventory").values({id:$n(),...i}).returningAll().executeTakeFirstOrThrow();return await t?.({tx:s,entity:o}),o}),_r("Create inventory item"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit inventory item (modal)"}),icon:ta,children:m.jsx(A3,{defaultValues:i,mutation:un({async mutationFn(s){return En.promise(Ft.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),_r("Update inventory item"))},async onSuccess(){await r()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},xp=Sn("/$locale/apps/derivean/root/user/$id/inventory")({validateSearch:ai($i(p1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>Zr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","i.amount","i.limit"]).where("i.id","in",s.selectFrom("User_Inventory as ui").where("ui.userId","=",i).select("ui.inventoryId")).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("i.id","=",l.id)),l?.idIn&&(c=c.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(p=>p.or([p("t.code","like",d),p("t.label","like",d),p("t.group","like",d)])))]))}return c},output:X.object({id:X.string().min(1),resourceId:X.string().min(1),name:X.string().min(1),amount:X.number().nonnegative(),limit:X.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=xp.useLoaderData(),{filter:n,cursor:r,selection:i}=xp.useSearch(),s=xp.useNavigate(),{id:o}=xp.useParams(),{tva:l}=Gr({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(Fie,{onCreate:async({tx:d,entity:f})=>d.insertInto("User_Inventory").values({id:$n(),userId:o,inventoryId:f.id}).execute(),table:{data:t,filter:{value:n,set:Li(s)},selection:{type:"multi",value:i,set:hs(s)}},fulltext:{value:n?.fulltext,set:Mi(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of items"}),...Di(s)}})})}}),Die=Sn("/$locale/apps/derivean/root/resource/$id/view")({component:()=>m.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),Lie="icon-[carbon--document-requirements]",Mie=({entity:t,...e})=>{const{locale:n}=Bn({from:"/$locale"});return m.jsxs(sf,{...e,children:[m.jsx(kr,{icon:Lie,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Production requirements (menu)"})}),m.jsx(kr,{icon:pr,to:"/$locale/apps/derivean/root/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Production resource requirements (menu)"})}),m.jsx(kr,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:m.jsx(ae,{label:"Production resource dependencies (menu)"})})]})},$ie=t=>{const{locale:e}=Bn({from:"/$locale"});return m.jsx(bb,{title:({entity:n})=>m.jsx(wb,{icon:to,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>m.jsx(m.Fragment,{children:m.jsx(Fn,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:m.jsx(ae,{label:"Building base detail (label)"})})}),...t})},ML=Sn("/$locale/apps/derivean/root/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await xb({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","bp.limit","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:X.object({id:X.string().min(1),resource:X.string().min(1),blueprint:X.string().min(1),blueprintId:X.string().min(1),amount:X.number().nonnegative(),cycles:X.number().int().nonnegative(),limit:X.number().int().nonnegative()})})}))}})},component(){const{entity:t}=ML.useLoaderData(),{tva:e}=Gr({from:"__root__"}),n=e().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx($ie,{entity:t}),m.jsx(Mie,{entity:t}),m.jsx($a,{})]})}}),Bie=({graph:t,blueprintId:e,mode:n="dependencies",reverse:r=!1})=>{try{const i=(s=>r?s.reverse():s)(n==="dependants"?t.dependantsOf(e):t.dependenciesOf(e));return m.jsxs("div",{className:ji(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:[i.length>0?m.jsx(en,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):m.jsx(en,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(s=>m.jsx(Qo,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(s)},$n())):m.jsx(ae,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof PL.DepGraphCycleError?m.jsxs("div",{className:ji(["flex","flex-row","gap-2","items-center"]),children:[m.jsx(en,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(s=>m.jsx(Qo,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(s)},$n()))]}):"kaboom"}},zie=({dependencies:t,...e})=>m.jsx(eQ,{items:[{id:"name",label:m.jsx(ae,{label:"Building name (label)"}),render({entity:n}){return n.name}},{id:"cycles",label:m.jsx(ae,{label:"Construction cycles (label)"}),render({entity:n}){return qn({number:n.cycles})}},{id:"productionLimit",label:m.jsx(ae,{label:"Production limit (label)"}),render({entity:n}){return qn({number:n.productionLimit})}},{id:"requirements",label:m.jsx(ae,{label:"Required resources (label)"}),render({entity:n}){return m.jsx(dm,{requirements:n.requirements,textEmpty:m.jsx(ae,{label:"No requirements (label)"})})}},{id:"dependencies",label:m.jsx(ae,{label:"Blueprint dependencies (label)"}),render({entity:n}){return m.jsx(jL,{dependencies:n.dependencies,textEmpty:m.jsx(ae,{label:"No dependencies (label)"})})}},{id:"deps",label:m.jsx(ae,{label:"Blueprint dependency graph (label)"}),render({entity:n}){return m.jsx(Bie,{graph:t,blueprintId:n.id})}}],...e}),$L=Sn("/$locale/apps/derivean/root/blueprint/$id/view")({async loader({context:{kysely:t}}){return{dependencies:await t.transaction().execute(async e=>Fb({tx:e}))}},component(){const{dependencies:t}=$L.useLoaderData(),{entity:e}=Ud({from:"/$locale/apps/derivean/root/blueprint/$id"});return m.jsx("div",{className:"w-1/2 mx-auto",children:m.jsx(zie,{dependencies:t,entity:e})})}}),j3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(af.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ae,{label:"Requirement (label)"}),children:m.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(lf,{allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ae,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"passive",label:m.jsx(ae,{label:"Passive requirement (label)"}),hint:m.jsx(ae,{label:"Passive requirement (hint)"}),children:m.jsx(us,{control:s.control,name:"passive",render:({field:{ref:l,...c}})=>m.jsx(LF,{...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:pr,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},lS=Wi(),Wie=[lS({name:"name",header(){return m.jsx(ae,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),lS({name:"amount",header(){return m.jsx(ae,{label:"Amount (label)"})},render({value:t}){return qn({number:t})},size:10}),lS({name:"passive",header(){return m.jsx(ae,{label:"Passive requirement (label)"})},render({value:t}){return m.jsx(DF,{value:t})},size:10})],Uie=({blueprintId:t,table:e,...n})=>{const r=wr([["Blueprint"],["Blueprint_Requirement"],["Blueprint_Resource_Requirement"],["Resource"]]);return m.jsx(Bi,{table:zi({...e,columns:Wie}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create requirement item (menu)"}),textTitle:m.jsx(ae,{label:"Create requirement item (modal)"}),icon:pr,children:m.jsx(j3,{mutation:un({async mutationFn(i){return Ft.transaction().execute(async s=>s.insertInto("Blueprint_Requirement").values({id:$n(),...i,blueprintId:t}).execute())},async onSuccess(){await r()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit requirement item (modal)"}),icon:pr,children:m.jsx(j3,{defaultValues:i,mutation:un({async mutationFn(s){return Ft.transaction().execute(async o=>o.updateTable("Blueprint_Requirement").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete requirement item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Requirement").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Delete requirement item (content)"}),textToast:"Delete requirement item",invalidator:r})})]})}},...n})},wp=Sn("/$locale/apps/derivean/root/blueprint/$id/requirements")({validateSearch:ai($i(af)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("br.id","=",l.id)),l?.idIn&&(c=c.where("br.id","in",l.idIn)),l?.resourceId&&(c=c.where("br.resourceId","=",l.resourceId)),c},output:X.object({id:X.string().min(1),name:X.string().min(1),resourceId:X.string().min(1),amount:X.number().nonnegative(),passive:Ss()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=wp.useLoaderData(),{filter:n,cursor:r,selection:i}=wp.useSearch(),{id:s}=wp.useParams(),o=wp.useNavigate(),{tva:l}=Gr({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(Uie,{blueprintId:s,table:{data:t,filter:{value:n,set:Li(o)},selection:{type:"multi",value:i,set:hs(o)}},fulltext:{value:n?.fulltext,set:Mi(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of requirements (label)"}),...Di(o)}})})}}),BL=qre({shape:X.object({resourceId:X.string().min(1),amount:Hl(),cycles:wd(),limit:wd()}),filter:ds.merge(X.object({blueprintId:X.string().optional(),resourceId:X.string().optional()}))}),P3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(BL.shape),defaultValues:{amount:1,limit:1,cycles:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ae,{label:"Resource name (label)"}),children:m.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(lf,{textTitle:m.jsx(ae,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ae,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"cycles",label:m.jsx(ae,{label:"Production cycles (label)"}),hint:m.jsx(ae,{label:"Production cycles (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ae,{label:"Production limit (label)"}),hint:m.jsx(ae,{label:"Production limit (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:to,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},pm=t=>m.jsx(l2,{icon:Wn,textTitle:m.jsx(ae,{label:"Select blueprint (title)"}),table:({table:e,...n})=>m.jsx(FL,{table:{...e,hidden:["requirements","dependencies","productionLimit"]},...n}),render:({entity:e})=>e.name,queryKey:"Blueprint",query:async({filter:e,cursor:n})=>Ft.transaction().execute(async r=>Zr({select:r.selectFrom("Blueprint as b").select(["b.id","b.name","b.sort","b.cycles","b.productionLimit",i=>i.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(s=>$r`json_group_array(json_object(
                                                    'id', ${s.ref("br.id")},
                                                    'amount', ${s.ref("br.amount")},
                                                    'passive', ${s.ref("br.passive")},
                                                    'resourceId', ${s.ref("br.resourceId")},
                                                    'blueprintId', ${s.ref("br.blueprintId")},
                                                    'name', ${s.ref("r.name")}
                                                ))`.as("requirements")).whereRef("br.blueprintId","=","b.id").as("requirements"),i=>i.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.blueprintId").select(s=>$r`json_group_array(json_object(
                                                    'id', ${s.ref("bd.id")},
                                                    'dependencyId', ${s.ref("bd.dependencyId")},
                                                    'blueprintId', ${s.ref("bd.blueprintId")},
                                                    'name', ${s.ref("b.name")}
                                                ))`.as("requirements")).whereRef("bd.blueprintId","=","b.id").as("dependencies")]).orderBy("b.name","asc"),query({select:i,where:s}){let o=i;if(s?.id&&(o=o.where("b.id","=",s.id)),s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(c=>c.or([c("b.id","like",l),c("b.name","like",l)]))}return o},output:X.object({id:X.string().min(1),name:X.string().min(1),cycles:X.number().int(),sort:X.number().int(),productionLimit:X.number().int(),requirements:ri(af.entity.merge(X.object({name:X.string().min(1)}))),dependencies:ri(ic.entity.merge(X.object({name:X.string().min(1)})))}),filter:e,cursor:n})),...t}),Vie=X.object({blueprintId:X.string().min(1)}),Hie=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(Vie),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"blueprintId",label:m.jsx(ae,{label:"Target blueprint (label)"}),children:m.jsx(us,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>m.jsx(pm,{allowEmpty:!0,...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:Wn,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},xu=Wi(),Qie=[xu({name:"name",header(){return m.jsx(ae,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=Bn({from:"/$locale"});return m.jsx(Fn,{icon:to,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),xu({name:"amount",header(){return m.jsx(ae,{label:"Amount (label)"})},render({value:t}){return qn({number:t})},size:8}),xu({name:"cycles",header(){return m.jsx(ae,{label:"Production cycles (label)"})},render({value:t}){return qn({number:t})},size:8}),xu({name:"limit",header(){return m.jsx(ae,{label:"Production limit (label)"})},render({value:t}){return t===0?m.jsx(ae,{label:"Unlimited (label)"}):qn({number:t})},size:8}),xu({name:"requirements",header(){return m.jsx(ae,{label:"Required resources (label)"})},render({value:t}){return m.jsx(dm,{textTitle:m.jsx(ae,{label:"Resource requirements (title)"}),textEmpty:m.jsx(ae,{label:"No requirements (label)"}),requirements:t})},size:32}),xu({name:"resources",header(){return m.jsx(ae,{label:"Required production resources (label)"})},render({value:t}){return m.jsx(_h,{items:t,render:({entity:e})=>m.jsxs("div",{className:ji(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[m.jsx("div",{children:e.name}),m.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",qn({number:e.amount})]})]})})},size:32}),xu({name:"dependencies",header(){return m.jsx(ae,{label:"Required production dependencies (label)"})},render({value:t}){return m.jsx(_h,{items:t,render:({entity:e})=>m.jsx("div",{className:ji(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:m.jsx("div",{children:e.name})})})},size:32})],Kie=({blueprintId:t,table:e,...n})=>{const r=wr([["Blueprint"],["Blueprint_Production"],["Blueprint_Production_Requirement"],["Resource"]]);return m.jsx(Bi,{table:zi({...e,columns:Qie}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create blueprint production (menu)"}),textTitle:m.jsx(ae,{label:"Create blueprint production (modal)"}),icon:to,children:({close:i})=>m.jsx(P3,{mutation:un({async mutationFn(s){return Ft.transaction().execute(async o=>await o.insertInto("Blueprint_Production").values({id:$n(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit blueprint production (modal)"}),icon:to,children:m.jsx(P3,{defaultValues:i,mutation:un({async mutationFn(s){return Ft.transaction().execute(async o=>o.updateTable("Blueprint_Production").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),m.jsx(bn,{label:m.jsx(ae,{label:"Move production to (menu)"}),textTitle:m.jsx(ae,{label:"Move production to (modal)"}),icon:pr,children:({close:s})=>m.jsx(Hie,{mutation:un({async mutationFn(o){return Ft.transaction().execute(async l=>{await l.updateTable("Blueprint_Production").set({blueprintId:o.blueprintId}).where("id","=",i.id).execute()})},async onSuccess(){await r(),s()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete blueprint production (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Production").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Delete blueprint production (content)"}),textToast:"Delete blueprint production",invalidator:r})})]})}},...n})},h1=Rre({shape:X.object({blueprintId:X.string().min(1)}),filter:ds}),m1=Are({shape:X.object({resourceId:X.string().min(1),amount:Hl(),passive:X.boolean()}),filter:ds.merge(X.object({blueprintProductionId:X.string().optional(),resourceId:X.string().optional()}))}),g1=jre({shape:X.object({resourceId:X.string().min(1),amount:Hl()}),filter:ds.merge(X.object({resourceId:X.string().optional()}))}),_p=Sn("/$locale/apps/derivean/root/blueprint/$id/production")({validateSearch:ai($i(BL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.limit","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>$r`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>$r`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>$r`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:X.object({id:X.string().min(1),name:X.string().min(1),blueprintId:X.string().min(1),resourceId:X.string().min(1),amount:X.number().nonnegative(),limit:X.number().nonnegative(),cycles:X.number().nonnegative(),requirements:ri(m1.entity.merge(X.object({name:X.string().min(1)}))),resources:ri(g1.entity.merge(X.object({name:X.string().min(1)}))),dependencies:ri(h1.entity.merge(X.object({name:X.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=_p.useLoaderData(),{filter:n,cursor:r,selection:i}=_p.useSearch(),{id:s}=_p.useParams(),o=_p.useNavigate(),{tva:l}=Gr({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(Kie,{blueprintId:s,table:{data:t,filter:{value:n,set:Li(o)},selection:{type:"multi",value:i,set:hs(o)}},fulltext:{value:n?.fulltext,set:Mi(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of productions (label)"}),...Di(o)}})})}}),zL=Sn("/$locale/apps/derivean/root/blueprint/$id/edit")({component:()=>{const{entity:t}=Ud({from:"/$locale/apps/derivean/root/blueprint/$id"}),e=zL.useNavigate(),n=wr([["Blueprint"]]);return m.jsx("div",{className:"w-1/2 mx-auto",children:m.jsx(Rv,{defaultValues:t,mutation:un({async mutationFn(r){return En.promise(Ft.transaction().execute(async i=>i.updateTable("Blueprint").set(r).where("id","=",t.id).returningAll().executeTakeFirstOrThrow()),_r("Update blueprint"))},async onSuccess(){await n(),e({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{id:t.id}})}})})})}}),F3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(ic.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"dependencyId",label:m.jsx(ae,{label:"Blueprint dependency (label)"}),children:m.jsx(us,{control:s.control,name:"dependencyId",render:({field:{ref:l,...c}})=>m.jsx(pm,{textTitle:m.jsx(ae,{label:"Select blueprint (title)"}),allowEmpty:!0,...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:Wn,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},Gie=Wi(),Zie=[Gie({name:"name",header(){return m.jsx(ae,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=Bn({from:"/$locale"});return m.jsx(Fn,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],Jie=({blueprintId:t,table:e,...n})=>{const r=wr([["Blueprint_Dependency"],["Blueprint"]]);return m.jsx(Bi,{table:zi({...e,columns:Zie}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create blueprint dependency (menu)"}),textTitle:m.jsx(ae,{label:"Create blueprint dependency (modal)"}),icon:Wn,children:({close:i})=>m.jsx(F3,{mutation:un({async mutationFn(s){return En.promise(Ft.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Dependency").values({id:$n(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Ah({tx:o}),l}),_r("Create blueprint dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit blueprint dependency (modal)"}),icon:Wn,children:({close:s})=>m.jsx(F3,{defaultValues:i,mutation:un({async mutationFn(o){return En.promise(Ft.transaction().execute(async l=>l.updateTable("Blueprint_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),_r("Update blueprint dependency"))},async onSuccess(){await r(),s()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete blueprint dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Dependency").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Delete blueprint dependency (content)"}),textToast:"Delete blueprint dependency",invalidator:r})})]})}},...n})},Sp=Sn("/$locale/apps/derivean/root/blueprint/$id/dependencies")({validateSearch:ai($i(ic)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bd.id","=",l.id)),l?.idIn&&(c=c.where("bd.id","in",l.idIn)),l?.blueprintId&&(c=c.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(c=c.where("bd.dependencyId","=",l.dependencyId)),c},output:X.object({id:X.string().min(1),name:X.string().min(1),blueprintId:X.string().min(1),dependencyId:X.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Sp.useLoaderData(),{filter:n,cursor:r,selection:i}=Sp.useSearch(),{id:s}=Sp.useParams(),o=Sp.useNavigate(),{tva:l}=Gr({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(Jie,{blueprintId:s,table:{data:t,filter:{value:n,set:Li(o)},selection:{type:"multi",value:i,set:hs(o)}},fulltext:{value:n?.fulltext,set:Mi(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of requirements (label)"}),...Di(o)}})})}}),Yie=Tre({shape:X.object({conflictId:X.string().min(1)}),filter:ds}),D3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(Yie.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"conflictId",label:m.jsx(ae,{label:"Blueprint conflict (label)"}),hint:m.jsx(ae,{label:"Blueprint conflict (hint)"}),children:m.jsx(us,{control:s.control,name:"conflictId",render:({field:{ref:l,...c}})=>m.jsx(pm,{textTitle:m.jsx(ae,{label:"Select blueprint conflict (title)"}),allowEmpty:!0,...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:Wn,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},Xie=Wi(),ese=[Xie({name:"name",header(){return m.jsx(ae,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=Bn({from:"/$locale"});return m.jsx(Fn,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],tse=({blueprintId:t,table:e,...n})=>{const r=wr([["Blueprint_Conflict"],["Blueprint"]]);return m.jsx(Bi,{table:zi({...e,columns:ese}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create blueprint conflict (menu)"}),textTitle:m.jsx(ae,{label:"Create blueprint conflict (modal)"}),icon:Wn,children:({close:i})=>m.jsx(D3,{mutation:un({async mutationFn(s){return En.promise(Ft.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Conflict").values({id:$n(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Ah({tx:o}),l}),_r("Create blueprint conflict"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit blueprint conflict (modal)"}),icon:Wn,children:({close:s})=>m.jsx(D3,{defaultValues:i,mutation:un({async mutationFn(o){return En.promise(Ft.transaction().execute(async l=>l.updateTable("Blueprint_Conflict").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),_r("Update blueprint conflict"))},async onSuccess(){await r(),s()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete blueprint conflict (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Conflict").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Delete blueprint conflict (content)"}),textToast:"Delete blueprint conflict",invalidator:r})})]})}},...n})},Ep=Sn("/$locale/apps/derivean/root/blueprint/$id/conflicts")({validateSearch:ai($i(ic)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bc.id","=",l.id)),l?.idIn&&(c=c.where("bc.id","in",l.idIn)),c},output:X.object({id:X.string().min(1),name:X.string().min(1),blueprintId:X.string().min(1),conflictId:X.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ep.useLoaderData(),{filter:n,cursor:r,selection:i}=Ep.useSearch(),{id:s}=Ep.useParams(),o=Ep.useNavigate(),{tva:l}=Gr({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(tse,{blueprintId:s,table:{data:t,filter:{value:n,set:Li(o)},selection:{type:"multi",value:i,set:hs(o)}},fulltext:{value:n?.fulltext,set:Mi(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of conflicts (label)"}),...Di(o)}})})}}),WL=Fre({shape:X.object({blueprintId:X.string().min(1)}),filter:ds.merge(X.object({userId:X.string().optional(),blueprintId:X.string().optional(),name:X.string().optional()}))}),L3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(WL.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"blueprintId",label:m.jsx(ae,{label:"Select blueprint (label)"}),children:m.jsx(us,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>m.jsx(pm,{allowEmpty:!0,...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:Jl,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},nse=Wi(),rse=[nse({name:"name",header(){return m.jsx(ae,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=Bn({from:"/$locale"});return m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(Fn,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId}}),e]})},size:14})],ise=({userId:t,table:e,...n})=>{const r=wr([["Building"]]);return m.jsx(Bi,{table:zi({...e,columns:rse}),action:{table:t?()=>m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create building (menu)"}),textTitle:m.jsx(ae,{label:"Create building (modal)"}),icon:pr,children:m.jsx(L3,{mutation:un({async mutationFn(i){return En.promise(Ft.transaction().execute(s=>s.insertInto("Building").values({id:$n(),...i,userId:t}).returningAll().executeTakeFirstOrThrow()),_r("Create building"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit building (modal)"}),icon:Jl,children:m.jsx(L3,{defaultValues:i,mutation:un({async mutationFn(s){return En.promise(Ft.transaction().execute(o=>o.updateTable("Building").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),_r("Edit building"))},async onSuccess(){await r()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Building").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Building delete (content)"}),textToast:"Building delete",invalidator:r})})]})}},...n})},Np=Sn("/$locale/apps/derivean/root/user/$id/building/list")({validateSearch:ai($i(WL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>Zr({select:s.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.blueprintId"]).where("b.userId","=",i),output:X.object({id:X.string().min(1),name:X.string().min(1),blueprintId:X.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Np.useLoaderData(),{filter:n,cursor:r,selection:i}=Np.useSearch(),{id:s}=Np.useParams(),o=Np.useNavigate(),{tva:l}=Gr({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(ise,{userId:s,table:{data:t,filter:{value:n,set:Li(o)},selection:{type:"multi",value:i,set:hs(o)}},fulltext:{value:n?.fulltext,set:Mi(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of buildings (label)"}),...Di(o)}})})}}),M3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(g1.shape),defaultValues:{amount:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ae,{label:"Requirement (label)"}),children:m.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(lf,{allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ae,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:pr,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},$3=Wi(),sse=[$3({name:"name",header(){return m.jsx(ae,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),$3({name:"amount",header(){return m.jsx(ae,{label:"Amount (label)"})},render({value:t}){return qn({number:t})},size:10})],ose=({blueprintProductionId:t,table:e,...n})=>{const r=wr([["Blueprint_Production_Resource"],["Blueprint_Production"],["Resource"]]);return m.jsx(Bi,{table:zi({...e,columns:sse}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create production resource requirement (menu)"}),textTitle:m.jsx(ae,{label:"Create production resource requirement (modal)"}),icon:pr,children:({close:i})=>m.jsx(M3,{mutation:un({async mutationFn(s){return Ft.transaction().execute(async o=>o.insertInto("Blueprint_Production_Resource").values({id:$n(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit production resource requirement (modal)"}),icon:pr,children:({close:s})=>m.jsx(M3,{defaultValues:i,mutation:un({async mutationFn(o){return Ft.transaction().execute(async l=>l.updateTable("Blueprint_Production_Resource").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete production resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Resource").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Delete production resource requirement (content)"}),textToast:"Delete production resource requirement item",invalidator:r})})]})}},...n})},kp=Sn("/$locale/apps/derivean/root/blueprint/production/$id/resources")({validateSearch:ai($i(g1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:X.object({id:X.string().min(1),name:X.string().min(1),resourceId:X.string().min(1),amount:X.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=kp.useLoaderData(),{filter:n,cursor:r,selection:i}=kp.useSearch(),{id:s}=kp.useParams(),o=kp.useNavigate();return m.jsx(m.Fragment,{children:m.jsx(ose,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Li(o)},selection:{type:"multi",value:i,set:hs(o)}},fulltext:{value:n?.fulltext,set:Mi(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of production resource requirements (label)"}),...Di(o)}})})}}),B3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(m1.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ae,{label:"Requirement (label)"}),children:m.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(lf,{allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ae,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"passive",label:m.jsx(ae,{label:"Passive requirement (label)"}),hint:m.jsx(ae,{label:"Passive requirement (hint)"}),children:m.jsx(us,{control:s.control,name:"passive",render:({field:{ref:l,...c}})=>m.jsx(LF,{...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:pr,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},uS=Wi(),ase=[uS({name:"name",header(){return m.jsx(ae,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),uS({name:"amount",header(){return m.jsx(ae,{label:"Amount (label)"})},render({value:t}){return qn({number:t})},size:10}),uS({name:"passive",header(){return m.jsx(ae,{label:"Passive requirement (label)"})},render({value:t}){return m.jsx(DF,{value:t})},size:10})],lse=({blueprintProductionId:t,table:e,...n})=>{const r=wr([["Blueprint_Production_Requirement"],["Blueprint_Production"],["Resource"]]);return m.jsx(Bi,{table:zi({...e,columns:ase}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create production requirement (menu)"}),textTitle:m.jsx(ae,{label:"Create production requirement (modal)"}),icon:pr,children:({close:i})=>m.jsx(B3,{mutation:un({async mutationFn(s){return Ft.transaction().execute(async o=>o.insertInto("Blueprint_Production_Requirement").values({id:$n(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit production requirement (modal)"}),icon:pr,children:({close:s})=>m.jsx(B3,{defaultValues:i,mutation:un({async mutationFn(o){return Ft.transaction().execute(async l=>l.updateTable("Blueprint_Production_Requirement").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete production requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Requirement").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Delete production requirement (content)"}),textToast:"Delete production requirement item",invalidator:r})})]})}},...n})},Ip=Sn("/$locale/apps/derivean/root/blueprint/production/$id/requirements")({validateSearch:ai($i(m1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:X.object({id:X.string().min(1),name:X.string().min(1),resourceId:X.string().min(1),amount:X.number().nonnegative(),passive:Ss()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ip.useLoaderData(),{filter:n,cursor:r,selection:i}=Ip.useSearch(),{id:s}=Ip.useParams(),o=Ip.useNavigate();return m.jsx(m.Fragment,{children:m.jsx(lse,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Li(o)},selection:{type:"multi",value:i,set:hs(o)}},fulltext:{value:n?.fulltext,set:Mi(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of production requirements (label)"}),...Di(o)}})})}}),z3=({mutation:t,defaultValues:e,variant:n,tva:r=xi,css:i})=>{const s=wi({resolver:_i(h1.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:ps({form:s,mutation:t}),children:[m.jsx(si,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"blueprintId",label:m.jsx(ae,{label:"Blueprint dependency (label)"}),children:m.jsx(us,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>m.jsx(pm,{textTitle:m.jsx(ae,{label:"Select blueprint (title)"}),allowEmpty:!0,...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(Nn,{iconEnabled:Wn,type:"submit",children:m.jsx(ae,{label:"Save (submit)"})})})]})},use=Wi(),cse=[use({name:"name",header(){return m.jsx(ae,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=Bn({from:"/$locale"});return m.jsx(Fn,{icon:Wn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],dse=({blueprintProductionId:t,table:e,...n})=>{const r=wr([["Blueprint_Production_Dependency"],["Blueprint"]]);return m.jsx(Bi,{table:zi({...e,columns:cse}),action:{table(){return m.jsx(Yn,{children:m.jsx(bn,{label:m.jsx(ae,{label:"Create blueprint production dependency (menu)"}),textTitle:m.jsx(ae,{label:"Create blueprint production dependency (modal)"}),icon:Wn,children:({close:i})=>m.jsx(z3,{mutation:un({async mutationFn(s){return En.promise(Ft.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Production_Dependency").values({id:$n(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow();return await Ah({tx:o}),l}),_r("Create blueprint production dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Yn,{children:[m.jsx(bn,{label:m.jsx(ae,{label:"Edit (menu)"}),textTitle:m.jsx(ae,{label:"Edit blueprint production dependency (modal)"}),icon:Wn,children:({close:s})=>m.jsx(z3,{defaultValues:i,mutation:un({async mutationFn(o){return En.promise(Ft.transaction().execute(async l=>l.updateTable("Blueprint_Production_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),_r("Update blueprint production dependency"))},async onSuccess(){await r(),s()}})})}),m.jsx(bn,{icon:oi,label:m.jsx(ae,{label:"Delete (menu)"}),textTitle:m.jsx(ae,{label:"Delete blueprint production dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(ms,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Dependency").where("id","=",i.id).execute()),textContent:m.jsx(ae,{label:"Delete blueprint production dependency (content)"}),textToast:"Delete blueprint production dependency",invalidator:r})})]})}},...n})},Cp=Sn("/$locale/apps/derivean/root/blueprint/production/$id/dependencies")({validateSearch:ai($i(h1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpd.id","=",l.id)),l?.idIn&&(c=c.where("bpd.id","in",l.idIn)),c},output:X.object({id:X.string().min(1),name:X.string().min(1),blueprintId:X.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Cp.useLoaderData(),{filter:n,cursor:r,selection:i}=Cp.useSearch(),{id:s}=Cp.useParams(),o=Cp.useNavigate(),{tva:l}=Gr({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(dse,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Li(o)},selection:{type:"multi",value:i,set:hs(o)}},fulltext:{value:n?.fulltext,set:Mi(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ae,{label:"Number of dependencies (label)"}),...Di(o)}})})}}),y1=wG.update({id:"/$locale",path:"/$locale",getParentRoute:()=>WN}),fse=EG.update({id:"/",path:"/",getParentRoute:()=>WN}),pse=NG.update({id:"/",path:"/",getParentRoute:()=>y1}),sc=IG.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>y1}),io=OG.update({id:"/root",path:"/root",getParentRoute:()=>sc}),hm=jG.update({id:"/game",path:"/game",getParentRoute:()=>sc}),hse=MG.update({id:"/",path:"/",getParentRoute:()=>io}),mse=$G.update({id:"/",path:"/",getParentRoute:()=>hm}),gse=OE.update({id:"/editor",path:"/editor",getParentRoute:()=>io}),yse=Kre.update({id:"/public/register",path:"/public/register",getParentRoute:()=>sc}),vse=Gre.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>sc}),bse=Xre.update({id:"/public/login",path:"/public/login",getParentRoute:()=>sc}),xse=AE.update({id:"/map",path:"/map",getParentRoute:()=>hm}),wse=xy.update({id:"/inventory",path:"/inventory",getParentRoute:()=>hm}),_se=IL.update({id:"/db/schema",path:"/db/schema",getParentRoute:()=>sc}),Sse=wy.update({id:"/user/list",path:"/user/list",getParentRoute:()=>io}),Db=CL.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>io}),Ese=_y.update({id:"/tag/list",path:"/tag/list",getParentRoute:()=>io}),Nse=Sy.update({id:"/resource/list",path:"/resource/list",getParentRoute:()=>io}),UL=RL.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>io}),kse=Ey.update({id:"/default/inventory",path:"/default/inventory",getParentRoute:()=>io}),Ise=Ny.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>io}),oc=DL.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>io}),Cse=LL.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>hm}),Tse=jie.update({id:"/view",path:"/view",getParentRoute:()=>Db}),Ose=xp.update({id:"/inventory",path:"/inventory",getParentRoute:()=>Db}),qse=Die.update({id:"/view",path:"/view",getParentRoute:()=>UL}),Lb=ML.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>io}),Rse=$L.update({id:"/view",path:"/view",getParentRoute:()=>oc}),Ase=wp.update({id:"/requirements",path:"/requirements",getParentRoute:()=>oc}),jse=_p.update({id:"/production",path:"/production",getParentRoute:()=>oc}),Pse=zL.update({id:"/edit",path:"/edit",getParentRoute:()=>oc}),Fse=Sp.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>oc}),Dse=Ep.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>oc}),Lse=Np.update({id:"/building/list",path:"/building/list",getParentRoute:()=>Db}),Mse=kp.update({id:"/resources",path:"/resources",getParentRoute:()=>Lb}),$se=Ip.update({id:"/requirements",path:"/requirements",getParentRoute:()=>Lb}),Bse=Cp.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>Lb}),zse={LocaleAppsDeriveanGameInventoryRoute:wse,LocaleAppsDeriveanGameMapRoute:xse,LocaleAppsDeriveanGameIndexRoute:mse,LocaleAppsDeriveanGameProductionQueueRoute:Cse},Wse=hm._addFileChildren(zse),Use={LocaleAppsDeriveanRootBlueprintIdConflictsRoute:Dse,LocaleAppsDeriveanRootBlueprintIdDependenciesRoute:Fse,LocaleAppsDeriveanRootBlueprintIdEditRoute:Pse,LocaleAppsDeriveanRootBlueprintIdProductionRoute:jse,LocaleAppsDeriveanRootBlueprintIdRequirementsRoute:Ase,LocaleAppsDeriveanRootBlueprintIdViewRoute:Rse},Vse=oc._addFileChildren(Use),Hse={LocaleAppsDeriveanRootResourceIdViewRoute:qse},Qse=UL._addFileChildren(Hse),Kse={LocaleAppsDeriveanRootUserIdInventoryRoute:Ose,LocaleAppsDeriveanRootUserIdViewRoute:Tse,LocaleAppsDeriveanRootUserIdBuildingListRoute:Lse},Gse=Db._addFileChildren(Kse),Zse={LocaleAppsDeriveanRootBlueprintProductionIdDependenciesRoute:Bse,LocaleAppsDeriveanRootBlueprintProductionIdRequirementsRoute:$se,LocaleAppsDeriveanRootBlueprintProductionIdResourcesRoute:Mse},Jse=Lb._addFileChildren(Zse),Yse={LocaleAppsDeriveanRootEditorRoute:gse,LocaleAppsDeriveanRootIndexRoute:hse,LocaleAppsDeriveanRootBlueprintIdRoute:Vse,LocaleAppsDeriveanRootBlueprintListRoute:Ise,LocaleAppsDeriveanRootDefaultInventoryRoute:kse,LocaleAppsDeriveanRootResourceIdRoute:Qse,LocaleAppsDeriveanRootResourceListRoute:Nse,LocaleAppsDeriveanRootTagListRoute:Ese,LocaleAppsDeriveanRootUserIdRoute:Gse,LocaleAppsDeriveanRootUserListRoute:Sse,LocaleAppsDeriveanRootBlueprintProductionIdRoute:Jse},Xse=io._addFileChildren(Yse),eoe={LocaleAppsDeriveanGameRoute:Wse,LocaleAppsDeriveanRootRoute:Xse,LocaleAppsDeriveanDbSchemaRoute:_se,LocaleAppsDeriveanPublicLoginRoute:bse,LocaleAppsDeriveanPublicLogoutRoute:vse,LocaleAppsDeriveanPublicRegisterRoute:yse},toe=sc._addFileChildren(eoe),noe={LocaleIndexRoute:pse,LocaleAppsDeriveanRoute:toe},roe=y1._addFileChildren(noe),ioe={IndexRoute:fse,LocaleRoute:roe},soe=WN._addFileChildren(ioe)._addFileTypes(),VL=new m$({defaultOptions:{queries:{placeholderData:n$}}}),ooe=f4({routeTree:soe,context:{queryClient:VL,tva:tQ,async session(){return _b.parse(null)},kysely:Ft},defaultPendingComponent:UK,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),W3=document.getElementById("app");vU({limit:{maxRequests:10,perMilliseconds:100}});W3.innerHTML||vG.createRoot(W3).render(m.jsx(w$,{client:VL,children:m.jsx(L4,{router:ooe})}))})();