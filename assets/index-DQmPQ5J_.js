(async()=>{function Yq(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ou(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var ig={exports:{}},qc={},sg={exports:{}},ar={};var Kx;function tC(){if(Kx)return ar;Kx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function N(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,C={};function T(H,xe,lt){this.props=H,this.context=xe,this.refs=C,this.updater=lt||R}T.prototype.isReactComponent={},T.prototype.setState=function(H,xe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,xe,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function F(){}F.prototype=T.prototype;function j(H,xe,lt){this.props=H,this.context=xe,this.refs=C,this.updater=lt||R}var B=j.prototype=new F;B.constructor=j,q(B,T.prototype),B.isPureReactComponent=!0;var z=Array.isArray,K=Object.prototype.hasOwnProperty,W={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function ue(H,xe,lt){var at,dt={},mt=null,ft=null;if(xe!=null)for(at in xe.ref!==void 0&&(ft=xe.ref),xe.key!==void 0&&(mt=""+xe.key),xe)K.call(xe,at)&&!Q.hasOwnProperty(at)&&(dt[at]=xe[at]);var gt=arguments.length-2;if(gt===1)dt.children=lt;else if(1<gt){for(var At=Array(gt),vt=0;vt<gt;vt++)At[vt]=arguments[vt+2];dt.children=At}if(H&&H.defaultProps)for(at in gt=H.defaultProps,gt)dt[at]===void 0&&(dt[at]=gt[at]);return{$$typeof:t,type:H,key:mt,ref:ft,props:dt,_owner:W.current}}function V(H,xe){return{$$typeof:t,type:H.type,key:xe,ref:H.ref,props:H.props,_owner:H._owner}}function ne(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function M(H){var xe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(lt){return xe[lt]})}var re=/\/+/g;function Z(H,xe){return typeof H=="object"&&H!==null&&H.key!=null?M(""+H.key):xe.toString(36)}function pe(H,xe,lt,at,dt){var mt=typeof H;(mt==="undefined"||mt==="boolean")&&(H=null);var ft=!1;if(H===null)ft=!0;else switch(mt){case"string":case"number":ft=!0;break;case"object":switch(H.$$typeof){case t:case e:ft=!0}}if(ft)return ft=H,dt=dt(ft),H=at===""?"."+Z(ft,0):at,z(dt)?(lt="",H!=null&&(lt=H.replace(re,"$&/")+"/"),pe(dt,xe,lt,"",function(vt){return vt})):dt!=null&&(ne(dt)&&(dt=V(dt,lt+(!dt.key||ft&&ft.key===dt.key?"":(""+dt.key).replace(re,"$&/")+"/")+H)),xe.push(dt)),1;if(ft=0,at=at===""?".":at+":",z(H))for(var gt=0;gt<H.length;gt++){mt=H[gt];var At=at+Z(mt,gt);ft+=pe(mt,xe,lt,At,dt)}else if(At=N(H),typeof At=="function")for(H=At.call(H),gt=0;!(mt=H.next()).done;)mt=mt.value,At=at+Z(mt,gt++),ft+=pe(mt,xe,lt,At,dt);else if(mt==="object")throw xe=String(H),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return ft}function Re(H,xe,lt){if(H==null)return H;var at=[],dt=0;return pe(H,at,"","",function(mt){return xe.call(lt,mt,dt++)}),at}function Ce(H){if(H._status===-1){var xe=H._result;xe=xe(),xe.then(function(lt){(H._status===0||H._status===-1)&&(H._status=1,H._result=lt)},function(lt){(H._status===0||H._status===-1)&&(H._status=2,H._result=lt)}),H._status===-1&&(H._status=0,H._result=xe)}if(H._status===1)return H._result.default;throw H._result}var je={current:null},ve={transition:null},me={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ve,ReactCurrentOwner:W};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return ar.Children={map:Re,forEach:function(H,xe,lt){Re(H,function(){xe.apply(this,arguments)},lt)},count:function(H){var xe=0;return Re(H,function(){xe++}),xe},toArray:function(H){return Re(H,function(xe){return xe})||[]},only:function(H){if(!ne(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},ar.Component=T,ar.Fragment=r,ar.Profiler=o,ar.PureComponent=j,ar.StrictMode=n,ar.Suspense=p,ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ar.act=Ee,ar.cloneElement=function(H,xe,lt){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var at=q({},H.props),dt=H.key,mt=H.ref,ft=H._owner;if(xe!=null){if(xe.ref!==void 0&&(mt=xe.ref,ft=W.current),xe.key!==void 0&&(dt=""+xe.key),H.type&&H.type.defaultProps)var gt=H.type.defaultProps;for(At in xe)K.call(xe,At)&&!Q.hasOwnProperty(At)&&(at[At]=xe[At]===void 0&&gt!==void 0?gt[At]:xe[At])}var At=arguments.length-2;if(At===1)at.children=lt;else if(1<At){gt=Array(At);for(var vt=0;vt<At;vt++)gt[vt]=arguments[vt+2];at.children=gt}return{$$typeof:t,type:H.type,key:dt,ref:mt,props:at,_owner:ft}},ar.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},ar.createElement=ue,ar.createFactory=function(H){var xe=ue.bind(null,H);return xe.type=H,xe},ar.createRef=function(){return{current:null}},ar.forwardRef=function(H){return{$$typeof:c,render:H}},ar.isValidElement=ne,ar.lazy=function(H){return{$$typeof:b,_payload:{_status:-1,_result:H},_init:Ce}},ar.memo=function(H,xe){return{$$typeof:m,type:H,compare:xe===void 0?null:xe}},ar.startTransition=function(H){var xe=ve.transition;ve.transition={};try{H()}finally{ve.transition=xe}},ar.unstable_act=Ee,ar.useCallback=function(H,xe){return je.current.useCallback(H,xe)},ar.useContext=function(H){return je.current.useContext(H)},ar.useDebugValue=function(){},ar.useDeferredValue=function(H){return je.current.useDeferredValue(H)},ar.useEffect=function(H,xe){return je.current.useEffect(H,xe)},ar.useId=function(){return je.current.useId()},ar.useImperativeHandle=function(H,xe,lt){return je.current.useImperativeHandle(H,xe,lt)},ar.useInsertionEffect=function(H,xe){return je.current.useInsertionEffect(H,xe)},ar.useLayoutEffect=function(H,xe){return je.current.useLayoutEffect(H,xe)},ar.useMemo=function(H,xe){return je.current.useMemo(H,xe)},ar.useReducer=function(H,xe,lt){return je.current.useReducer(H,xe,lt)},ar.useRef=function(H){return je.current.useRef(H)},ar.useState=function(H){return je.current.useState(H)},ar.useSyncExternalStore=function(H,xe,lt){return je.current.useSyncExternalStore(H,xe,lt)},ar.useTransition=function(){return je.current.useTransition()},ar.version="18.3.1",ar}var Gx;function Od(){return Gx||(Gx=1,sg.exports=tC()),sg.exports}var Jx;function rC(){if(Jx)return qc;Jx=1;var t=Od(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,p,m){var b,x={},N=null,R=null;m!==void 0&&(N=""+m),p.key!==void 0&&(N=""+p.key),p.ref!==void 0&&(R=p.ref);for(b in p)n.call(p,b)&&!a.hasOwnProperty(b)&&(x[b]=p[b]);if(c&&c.defaultProps)for(b in p=c.defaultProps,p)x[b]===void 0&&(x[b]=p[b]);return{$$typeof:e,type:c,key:N,ref:R,props:x,_owner:o.current}}return qc.Fragment=r,qc.jsx=l,qc.jsxs=l,qc}var Zx;function nC(){return Zx||(Zx=1,ig.exports=rC()),ig.exports}var y=nC(),Iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nl=typeof window>"u"||"Deno"in globalThis;function Ui(){}function iC(t,e){return typeof t=="function"?t(e):t}function Tv(t){return typeof t=="number"&&t>=0&&t!==1/0}function bN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function su(t,e){return typeof t=="function"?t(e):t}function os(t,e){return typeof t=="function"?t(e):t}function Xx(t,e){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:l,stale:c}=t;if(l){if(n){if(e.queryHash!==E_(l,e.options))return!1}else if(!td(e.queryKey,l))return!1}if(r!=="all"){const p=e.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||o&&o!==e.state.fetchStatus||a&&!a(e))}function Yx(t,e){const{exact:r,status:n,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(il(e.options.mutationKey)!==il(a))return!1}else if(!td(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||o&&!o(e))}function E_(t,e){return(e?.queryKeyHashFn||il)(t)}function il(t){return JSON.stringify(t,(e,r)=>Av(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function td(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!td(t[r],e[r])):!1}function wN(t,e){if(t===e)return t;const r=e0(t)&&e0(e);if(r||Av(t)&&Av(e)){const n=r?t:Object.keys(t),o=n.length,a=r?e:Object.keys(e),l=a.length,c=r?[]:{};let p=0;for(let m=0;m<l;m++){const b=r?m:a[m];(!r&&n.includes(b)||r)&&t[b]===void 0&&e[b]===void 0?(c[b]=void 0,p++):(c[b]=wN(t[b],e[b]),c[b]===t[b]&&t[b]!==void 0&&p++)}return o===l&&p===o?t:c}return e}function Qh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function e0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Av(t){if(!t0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!t0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function t0(t){return Object.prototype.toString.call(t)==="[object Object]"}function sC(t){return new Promise(e=>{setTimeout(e,t)})}function Pv(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?wN(t,e):e}function oC(t){return t}function aC(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function lC(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var N_=Symbol();function xN(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===N_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var uC=class extends Iu{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!nl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},k_=new uC,cC=class extends Iu{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!nl&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Kh=new cC;function jv(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),t(o)},r.reject=o=>{n({status:"rejected",reason:o}),e(o)},r}function dC(t){return Math.min(1e3*2**t,3e4)}function SN(t){return(t??"online")==="online"?Kh.isOnline():!0}var EN=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function og(t){return t instanceof EN}function NN(t){let e=!1,r=0,n=!1,o;const a=jv(),l=C=>{n||(N(new EN(C)),t.abort?.())},c=()=>{e=!0},p=()=>{e=!1},m=()=>k_.isFocused()&&(t.networkMode==="always"||Kh.isOnline())&&t.canRun(),b=()=>SN(t.networkMode)&&t.canRun(),x=C=>{n||(n=!0,t.onSuccess?.(C),o?.(),a.resolve(C))},N=C=>{n||(n=!0,t.onError?.(C),o?.(),a.reject(C))},R=()=>new Promise(C=>{o=T=>{(n||m())&&C(T)},t.onPause?.()}).then(()=>{o=void 0,n||t.onContinue?.()}),q=()=>{if(n)return;let C;const T=r===0?t.initialPromise:void 0;try{C=T??t.fn()}catch(F){C=Promise.reject(F)}Promise.resolve(C).then(x).catch(F=>{if(n)return;const j=t.retry??(nl?0:3),B=t.retryDelay??dC,z=typeof B=="function"?B(r,F):B,K=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,F);if(e||!K){N(F);return}r++,t.onFail?.(r,F),sC(z).then(()=>m()?void 0:R()).then(()=>{e?N(F):q()})})};return{promise:a,cancel:l,continue:()=>(o?.(),a),cancelRetry:c,continueRetry:p,canStart:b,start:()=>(b()?q():R().then(q),a)}}function fC(){let t=[],e=0,r=c=>{c()},n=c=>{c()},o=c=>setTimeout(c,0);const a=c=>{e?t.push(c):o(()=>{r(c)})},l=()=>{const c=t;t=[],c.length&&o(()=>{n(()=>{c.forEach(p=>{r(p)})})})};return{batch:c=>{let p;e++;try{p=c()}finally{e--,e||l()}return p},batchCalls:c=>(...p)=>{a(()=>{c(...p)})},schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{o=c}}}var hn=fC(),kN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tv(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nl?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},hC=class extends kN{#e;#t;#r;#n;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=pC(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Pv(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Ui).catch(Ui):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>os(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===N_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!bN(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(p=>p.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},o=()=>{const c=xN(this.options,e),p={queryKey:this.queryKey,meta:this.meta};return n(p),this.#s=!1,this.options.persister?this.options.persister(c,p,this):c(p)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta});const l=c=>{og(c)&&c.silent||this.#o({type:"error",error:c}),og(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=NN({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(p){l(p);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,p)=>{this.#o({type:"failed",failureCount:c,error:p})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qN(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return og(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function qN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mC=class extends Iu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,o=e.queryHash??E_(n,e);let a=this.get(o);return a||(a=new hC({cache:this,queryKey:n,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Xx(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>Xx(t,r)):e}notify(t){hn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},yC=class extends kN{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||CN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=NN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,o)=>{this.#n({type:"failed",failureCount:n,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),hn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function CN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gC=class extends Iu{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new yC({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=oh(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=oh(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(oh(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(oh(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Yx(e,r))}findAll(t={}){return this.getAll().filter(e=>Yx(t,e))}notify(t){hn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return hn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ui))))}};function oh(t){return t.options.scope?.id??String(t.mutationId)}function r0(t){return{onFetch:(e,r)=>{const n=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},p=0;const m=async()=>{let b=!1;const x=q=>{Object.defineProperty(q,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},N=xN(e.options,e.fetchOptions),R=async(q,C,T)=>{if(b)return Promise.reject();if(C==null&&q.pages.length)return Promise.resolve(q);const F={queryKey:e.queryKey,pageParam:C,direction:T?"backward":"forward",meta:e.options.meta};x(F);const j=await N(F),{maxPages:B}=e.options,z=T?lC:aC;return{pages:z(q.pages,j,B),pageParams:z(q.pageParams,C,B)}};if(o&&a.length){const q=o==="backward",C=q?vC:n0,T={pages:a,pageParams:l},F=C(n,T);c=await R(T,F,q)}else{const q=t??a.length;do{const C=p===0?l[0]??n.initialPageParam:n0(n,c);if(p>0&&C==null)break;c=await R(c,C),p++}while(p<q)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function n0(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function vC(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var _C=class{#e;#t;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new mC,this.#t=t.mutationCache||new gC,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=k_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Kh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(su(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(n.queryHash)?.state.data,l=iC(e,a);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return hn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;hn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return hn.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=hn.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(n).then(Ui).catch(Ui)}invalidateQueries(t,e={}){return hn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none")return Promise.resolve();const r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=hn.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ui)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ui)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(su(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ui).catch(Ui)}fetchInfiniteQuery(t){return t.behavior=r0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ui).catch(Ui)}ensureInfiniteQueryData(t){return t.behavior=r0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(il(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{td(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(il(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let r={};return e.forEach(n=>{td(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=E_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===N_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},bC=class extends Iu{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=jv(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),i0(this.#t,this.options)?this.#p():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lv(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lv(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof os(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),r._defaulted&&!Qh(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&s0(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),o&&(this.#t!==n||os(this.options.enabled,this.#t)!==os(r.enabled,this.#t)||su(this.options.staleTime,this.#t)!==su(r.staleTime,this.#t))&&this.#y();const a=this.#g();o&&(this.#t!==n||os(this.options.enabled,this.#t)!==os(r.enabled,this.#t)||a!==this.#f)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return xC(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ui)),e}#y(){this.#b();const t=su(this.options.staleTime,this.#t);if(nl||this.#n.isStale||!Tv(t))return;const r=bN(this.#n.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(nl||os(this.options.enabled,this.#t)===!1||!Tv(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||k_.isFocused())&&this.#p()},this.#f))}#_(){this.#y(),this.#v(this.#g())}#b(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,o=this.#n,a=this.#i,l=this.#s,p=t!==r?t.state:this.#r,{state:m}=t;let b={...m},x=!1,N;if(e._optimisticResults){const Q=this.hasListeners(),ue=!Q&&i0(t,e),V=Q&&s0(t,r,e,n);(ue||V)&&(b={...b,...qN(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:R,errorUpdatedAt:q,status:C}=b;if(e.select&&b.data!==void 0)if(o&&b.data===a?.data&&e.select===this.#u)N=this.#l;else try{this.#u=e.select,N=e.select(b.data),N=Pv(o?.data,N,e),this.#l=N,this.#a=null}catch(Q){this.#a=Q}else N=b.data;if(e.placeholderData!==void 0&&N===void 0&&C==="pending"){let Q;if(o?.isPlaceholderData&&e.placeholderData===l?.placeholderData)Q=o.data;else if(Q=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&Q!==void 0)try{Q=e.select(Q),this.#a=null}catch(ue){this.#a=ue}Q!==void 0&&(C="success",N=Pv(o?.data,Q,e),x=!0)}this.#a&&(R=this.#a,N=this.#l,q=Date.now(),C="error");const T=b.fetchStatus==="fetching",F=C==="pending",j=C==="error",B=F&&T,z=N!==void 0,W={status:C,fetchStatus:b.fetchStatus,isPending:F,isSuccess:C==="success",isError:j,isInitialLoading:B,isLoading:B,data:N,dataUpdatedAt:b.dataUpdatedAt,error:R,errorUpdatedAt:q,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!F,isLoadingError:j&&!z,isPaused:b.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:j&&z,isStale:q_(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const Q=ne=>{W.status==="error"?ne.reject(W.error):W.data!==void 0&&ne.resolve(W.data)},ue=()=>{const ne=this.#o=W.promise=jv();Q(ne)},V=this.#o;switch(V.status){case"pending":t.queryHash===r.queryHash&&Q(V);break;case"fulfilled":(W.status==="error"||W.data!==V.value)&&ue();break;case"rejected":(W.status!=="error"||W.error!==V.reason)&&ue();break}}return W}updateResult(t){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),Qh(r,e))return;this.#n=r;const n={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#m.size)return!0;const c=new Set(l??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(p=>{const m=p;return this.#n[m]!==e[m]&&c.has(m)})};t?.listeners!==!1&&o()&&(n.listeners=!0),this.#S({...n,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){hn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function wC(t,e){return os(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function i0(t,e){return wC(t,e)||t.state.data!==void 0&&Lv(t,e,e.refetchOnMount)}function Lv(t,e,r){if(os(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&q_(t,e)}return!1}function s0(t,e,r,n){return(t!==e||os(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&q_(t,r)}function q_(t,e){return os(e.enabled,t)!==!1&&t.isStaleByTime(su(e.staleTime,t))}function xC(t,e){return!Qh(t.getCurrentResult(),e)}var SC=class extends Iu{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Qh(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&il(r.mutationKey)!==il(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??CN();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){hn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},G=Od();const wr=Ou(G),EC=Yq({__proto__:null,default:wr},[G]);var RN=G.createContext(void 0),$c=t=>{const e=G.useContext(RN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},NC=({client:t,children:e})=>(G.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(RN.Provider,{value:t,children:e})),ON=G.createContext(!1),kC=()=>G.useContext(ON);ON.Provider;function qC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var CC=G.createContext(qC()),RC=()=>G.useContext(CC);function IN(t,e){return typeof t=="function"?t(...e):!!t}function Fv(){}var OC=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},IC=t=>{G.useEffect(()=>{t.clearReset()},[t])},TC=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&IN(r,[t.error,n]),AC=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},PC=(t,e)=>t.isLoading&&t.isFetching&&!e,jC=(t,e)=>t?.suspense&&e.isPending,o0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function LC(t,e,r){const n=$c(),o=kC(),a=RC(),l=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=o?"isRestoring":"optimistic",AC(l),OC(l,a),IC(a);const c=!n.getQueryCache().get(l.queryHash),[p]=G.useState(()=>new e(n,l)),m=p.getOptimisticResult(l);if(G.useSyncExternalStore(G.useCallback(b=>{const x=o?Fv:p.subscribe(hn.batchCalls(b));return p.updateResult(),x},[p,o]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),G.useEffect(()=>{p.setOptions(l,{listeners:!1})},[l,p]),jC(l,m))throw o0(l,p,a);if(TC({result:m,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!nl&&PC(m,o)&&(c?o0(l,p,a):n.getQueryCache().get(l.queryHash)?.promise)?.catch(Fv).finally(()=>{p.updateResult()}),l.notifyOnChangeProps?m:p.trackResult(m)}function FC(t,e){return LC(t,bC)}function Uc(t,e){const r=$c(),[n]=G.useState(()=>new SC(r,t));G.useEffect(()=>{n.setOptions(t)},[n,t]);const o=G.useSyncExternalStore(G.useCallback(l=>n.subscribe(hn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=G.useCallback((l,c)=>{n.mutate(l,c).catch(Fv)},[n]);if(o.error&&IN(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const a0="popstate",l0="beforeunload";function TN(t){let e=t.getLocation();const r=new Set,n=l=>{e=t.getLocation(),r.forEach(c=>c({location:e,action:l}))},o=()=>{e=t.getLocation(),r.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},a=async({task:l,navigateOpts:c,...p})=>{var m,b;if(c?.ignoreBlocker??!1){l();return}const N=((m=t.getBlockers)==null?void 0:m.call(t))??[],R=p.type==="PUSH"||p.type==="REPLACE";if(typeof document<"u"&&N.length&&R)for(const q of N){const C=rd(p.path,p.state);if(await q.blockerFn({currentLocation:e,nextLocation:C,action:p.type})){(b=t.onBlocked)==null||b.call(t,o);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:r,subscribe:l=>(r.add(l),()=>{r.delete(l)}),push:(l,c,p)=>{c=u0(c),a({task:()=>{t.pushState(l,c),n({type:"PUSH"})},navigateOpts:p,type:"PUSH",path:l,state:c})},replace:(l,c,p)=>{c=u0(c),a({task:()=>{t.replaceState(l,c),n({type:"REPLACE"})},navigateOpts:p,type:"REPLACE",path:l,state:c})},go:(l,c)=>{a({task:()=>{t.go(l),n({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{a({task:()=>{t.back(l?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{a({task:()=>{t.forward(l?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var c;if(!t.setBlockers)return()=>{};const p=((c=t.getBlockers)==null?void 0:c.call(t))??[];return t.setBlockers([...p,l]),()=>{var m,b;const x=((m=t.getBlockers)==null?void 0:m.call(t))??[];(b=t.setBlockers)==null||b.call(t,x.filter(N=>N!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:n}}function u0(t){return t||(t={}),{...t,key:BC()}}function DC(t){const e=typeof document<"u"?window:void 0,r=e.history.pushState,n=e.history.replaceState;let o=[];const a=()=>o,l=Q=>o=Q,c=Q=>Q,p=()=>rd(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=p(),b,x=!1,N=!1,R=!1;const q=()=>m;let C,T;const F=()=>{C&&(W._ignoreSubscribers=!0,(C.isPush?e.history.pushState:e.history.replaceState)(C.state,"",C.href),W._ignoreSubscribers=!1,C=void 0,T=void 0,b=void 0)},j=(Q,ue,V)=>{const ne=c(ue);T||(b=m),m=rd(ue,V),C={href:ne,state:V,isPush:C?.isPush||Q==="push"},T||(T=Promise.resolve().then(()=>F()))},B=()=>{m=p(),W.notify({type:"POP"})},z=async()=>{if(x){x=!1;return}if(N)N=!1;else{const Q=a();if(typeof document<"u"&&Q.length)for(const ue of Q){const V=p();if(await ue.blockerFn({currentLocation:m,nextLocation:V,action:"POP"})){x=!0,e.history.go(1),W.notify({type:"POP"});return}}}m=p(),W.notify({type:"POP"})},K=Q=>{if(R){R=!1;return}let ue=!1;const V=a();if(typeof document<"u"&&V.length)for(const ne of V){const M=ne.enableBeforeUnload??!0;if(M===!0){ue=!0;break}if(typeof M=="function"&&M()===!0){ue=!0;break}}if(ue)return Q.preventDefault(),Q.returnValue=""},W=TN({getLocation:q,getLength:()=>e.history.length,pushState:(Q,ue)=>j("push",Q,ue),replaceState:(Q,ue)=>j("replace",Q,ue),back:Q=>(Q&&(N=!0),R=!0,e.history.back()),forward:Q=>{Q&&(N=!0),R=!0,e.history.forward()},go:Q=>e.history.go(Q),createHref:Q=>c(Q),flush:F,destroy:()=>{e.history.pushState=r,e.history.replaceState=n,e.removeEventListener(l0,K,{capture:!0}),e.removeEventListener(a0,z)},onBlocked:Q=>{b&&m!==b&&(m=b,Q())},getBlockers:a,setBlockers:l});return e.addEventListener(l0,K,{capture:!0}),e.addEventListener(a0,z),e.history.pushState=function(...Q){const ue=r.apply(e.history,Q);return W._ignoreSubscribers||B(),ue},e.history.replaceState=function(...Q){const ue=n.apply(e.history,Q);return W._ignoreSubscribers||B(),ue},W}function MC(t={initialEntries:["/"]}){const e=t.initialEntries;let r=t.initialIndex??e.length-1;const n=e.map(()=>({}));return TN({getLocation:()=>rd(e[r],n[r]),getLength:()=>e.length,pushState:(a,l)=>{r<e.length-1&&(e.splice(r+1),n.splice(r+1)),n.push(l),e.push(a),r=Math.max(e.length-1,0)},replaceState:(a,l)=>{n[r]=l,e[r]=a},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,e.length-1)},go:a=>{r=Math.min(Math.max(r+a,0),e.length-1)},createHref:a=>a})}function rd(t,e){const r=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:t.length),hash:r>-1?t.substring(r):"",search:n>-1?t.slice(n,r===-1?void 0:r):"",state:e||{}}}function BC(){return(Math.random()+1).toString(36).substring(7)}var WC="Invariant failed";function xi(t,e){if(!t)throw new Error(WC)}const ag=G.createContext(null);function AN(){return typeof document>"u"?ag:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ag,ag)}function ki(t){const e=G.useContext(AN());return t?.warn,e}var lg={exports:{}},ug={},cg={exports:{}},dg={};var c0;function $C(){if(c0)return dg;c0=1;var t=Od();function e(x,N){return x===N&&(x!==0||1/x===1/N)||x!==x&&N!==N}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,o=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(x,N){var R=N(),q=n({inst:{value:R,getSnapshot:N}}),C=q[0].inst,T=q[1];return a(function(){C.value=R,C.getSnapshot=N,p(C)&&T({inst:C})},[x,R,N]),o(function(){return p(C)&&T({inst:C}),x(function(){p(C)&&T({inst:C})})},[x]),l(R),R}function p(x){var N=x.getSnapshot;x=x.value;try{var R=N();return!r(x,R)}catch{return!0}}function m(x,N){return N()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return dg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,dg}var d0;function UC(){return d0||(d0=1,cg.exports=$C()),cg.exports}var f0;function zC(){if(f0)return ug;f0=1;var t=Od(),e=UC();function r(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:r,o=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,p=t.useDebugValue;return ug.useSyncExternalStoreWithSelector=function(m,b,x,N,R){var q=a(null);if(q.current===null){var C={hasValue:!1,value:null};q.current=C}else C=q.current;q=c(function(){function F(W){if(!j){if(j=!0,B=W,W=N(W),R!==void 0&&C.hasValue){var Q=C.value;if(R(Q,W))return z=Q}return z=W}if(Q=z,n(B,W))return Q;var ue=N(W);return R!==void 0&&R(Q,ue)?(B=W,Q):(B=W,z=ue)}var j=!1,B,z,K=x===void 0?null:x;return[function(){return F(b())},K===null?void 0:function(){return F(K())}]},[b,x,N,R]);var T=o(m,q[0],q[1]);return l(function(){C.hasValue=!0,C.value=T},[T]),p(T),T},ug}var h0;function VC(){return h0||(h0=1,lg.exports=zC()),lg.exports}var HC=VC();class QC{constructor(e,r){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=n=>{var o,a;this.listeners.add(n);const l=(a=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:a.call(o,n,this);return()=>{this.listeners.delete(n),l?.()}},this.setState=n=>{var o,a,l;const c=this.state;this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(c)(n):n(c),(l=(a=this.options)==null?void 0:a.onUpdate)==null||l.call(a),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(o=>{this._flushing===n&&o()})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=r}}function KC(t,e=r=>r){return HC.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,GC)}function GC(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,o]of t)if(!e.has(n)||!Object.is(o,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}const _i="__root__";function JC(t,e){let r,n,o,a="";for(r in t)if((o=t[r])!==void 0)if(Array.isArray(o))for(n=0;n<o.length;n++)a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(o[n]);else a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(o);return""+a}function p0(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function ZC(t,e){let r,n;const o={},a=t.split("&");for(;r=a.shift();){const l=r.indexOf("=");if(l!==-1){n=r.slice(0,l),n=decodeURIComponent(n);const c=r.slice(l+1);o[n]!==void 0?o[n]=[].concat(o[n],p0(c)):o[n]=p0(c)}else n=r,n=decodeURIComponent(n),o[n]=""}return o}const XC=eR(JSON.parse),YC=tR(JSON.stringify,JSON.parse);function eR(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const r=ZC(e);for(const n in r){const o=r[n];if(typeof o=="string")try{r[n]=t(o)}catch{}}return r}}function tR(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(a=>{const l=n[a];typeof l>"u"||l===void 0?delete n[a]:n[a]=r(l)});const o=JC(n).toString();return o?`?${o}`:""}}function zc(t){return t[t.length-1]}function rR(t){return typeof t=="function"}function Ja(t,e){return rR(t)?t(e):t}function wh(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Wi(t,e){if(t===e)return t;const r=e,n=y0(t)&&y0(r);if(n||_u(t)&&_u(r)){const o=n?t:Object.keys(t),a=o.length,l=n?r:Object.keys(r),c=l.length,p=n?[]:{};let m=0;for(let b=0;b<c;b++){const x=n?b:l[b];(!n&&o.includes(x)||n)&&t[x]===void 0&&r[x]===void 0?(p[x]=void 0,m++):(p[x]=Wi(t[x],r[x]),p[x]===t[x]&&t[x]!==void 0&&m++)}return a===c&&m===a?t:p}return r}function _u(t){if(!m0(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!m0(r)||!r.hasOwnProperty("isPrototypeOf"))}function m0(t){return Object.prototype.toString.call(t)==="[object Object]"}function y0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g0(t,e){let r=Object.keys(t);return e&&(r=r.filter(n=>t[n]!==void 0)),r}function ou(t,e,r){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(_u(t)&&_u(e)){const n=r?.ignoreUndefined??!0,o=g0(t,n),a=g0(e,n);return!r?.partial&&o.length!==a.length?!1:a.every(l=>ou(t[l],e[l],r))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((n,o)=>!ou(n,e[o],r)):!1}const jc=typeof window<"u"?G.useLayoutEffect:G.useEffect;function Kl(t){let e,r;const n=new Promise((o,a)=>{e=o,r=a});return n.status="pending",n.resolve=o=>{n.status="resolved",n.value=o,e(o),t?.(o)},n.reject=o=>{n.status="rejected",r(o)},n}function fg(t){const e=G.useRef({value:t,prev:null}),r=e.current.value;return t!==r&&(e.current={value:t,prev:r}),e.current.prev}function nR(t,e,r={},n={}){const o=G.useRef(typeof IntersectionObserver=="function"),a=G.useRef(null);return G.useEffect(()=>{if(!(!t.current||!o.current||n.disabled))return a.current=new IntersectionObserver(([l])=>{e(l)},r),a.current.observe(t.current),()=>{var l;(l=a.current)==null||l.disconnect()}},[e,r,n.disabled,t]),a.current}function iR(t){const e=G.useRef(null);return G.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function co(t){return Pp(t.filter(e=>e!==void 0).join("/"))}function Pp(t){return t.replace(/\/{2,}/g,"/")}function C_(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Za(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function sR(t){return Za(C_(t))}function Gh(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function oR(t,e,r){return Gh(t,r)===Gh(e,r)}function aR({basepath:t,base:e,to:r,trailingSlash:n="never",caseSensitive:o}){var a,l;e=Jh(t,e,o),r=Jh(t,r,o);let c=bu(e);const p=bu(r);c.length>1&&((a=zc(c))==null?void 0:a.value)==="/"&&c.pop(),p.forEach((b,x)=>{b.value==="/"?x?x===p.length-1&&c.push(b):c=[b]:b.value===".."?c.pop():b.value==="."||c.push(b)}),c.length>1&&(((l=zc(c))==null?void 0:l.value)==="/"?n==="never"&&c.pop():n==="always"&&c.push({type:"pathname",value:"/"}));const m=co([t,...c.map(b=>b.value)]);return Pp(m)}function bu(t){if(!t)return[];t=Pp(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const r=t.split("/").filter(Boolean);return e.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function ah({path:t,params:e,leaveWildcards:r,leaveParams:n,decodeCharMap:o}){const a=bu(t),l={};for(const[c,p]of Object.entries(e)){const m=typeof p=="string";["*","_splat"].includes(c)?l[c]=m?encodeURI(p):p:l[c]=m?lR(p,o):p}return co(a.map(c=>{if(c.type==="wildcard"){const p=l._splat;return r?`${c.value}${p??""}`:p}if(c.type==="param"){if(n){const p=l[c.value];return`${c.value}${p??""}`}return l[c.value.substring(1)]??"undefined"}return c.value}))}function lR(t,e){let r=encodeURIComponent(t);if(e)for(const[n,o]of e)r=r.replaceAll(n,o);return r}function lh(t,e,r){const n=uR(t,e,r);if(!(r.to&&!n))return n??{}}function Jh(t,e,r=!1){const n=r?t:t.toLowerCase(),o=r?e:e.toLowerCase();switch(!0){case n==="/":return e;case o===n:return"";case e.length<t.length:return e;case o[n.length]!=="/":return e;case o.startsWith(n):return e.slice(t.length);default:return e}}function uR(t,e,r){if(t!=="/"&&!e.startsWith(t))return;e=Jh(t,e,r.caseSensitive);const n=Jh(t,`${r.to??"$"}`,r.caseSensitive),o=bu(e),a=bu(n);e.startsWith("/")||o.unshift({type:"pathname",value:"/"}),n.startsWith("/")||a.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let p=0;p<Math.max(o.length,a.length);p++){const m=o[p],b=a[p],x=p>=o.length-1,N=p>=a.length-1;if(b){if(b.type==="wildcard"){const R=decodeURI(co(o.slice(p).map(q=>q.value)));return l["*"]=R,l._splat=R,!0}if(b.type==="pathname"){if(b.value==="/"&&!m?.value)return!0;if(m){if(r.caseSensitive){if(b.value!==m.value)return!1}else if(b.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(b.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[b.value.substring(1)]=decodeURIComponent(m.value))}}if(!x&&N)return l["**"]=co(o.slice(p+1).map(R=>R.value)),!!r.fuzzy&&b?.value!=="/"}return!0})()?l:void 0}function jp(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function za(t){return!!t?.isRedirect}function hg(t){return!!t?.isRedirect&&t.href}function R_(t){const e=t.errorComponent??Lp;return y.jsx(cR,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:r,reset:n})=>r?G.createElement(e,{error:r,reset:n}):t.children})}class cR extends G.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,r){this.props.onCatch&&this.props.onCatch(e,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Lp({error:t}){const[e,r]=G.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:e?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),e?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?y.jsx("code",{children:t.message}):null})}):null]})}function Vn(t){const e=ki({warn:t?.router===void 0}),r=t?.router||e,n=G.useRef();return KC(r.__store,o=>{if(t?.select){if(t.structuralSharing??r.options.defaultStructuralSharing){const a=Wi(n.current,t.select(o));return n.current=a,a}return t.select(o)}return o})}function ss(t){return!!t?.isNotFound}function dR(t){const e=Vn({select:r=>`not-found-${r.location.pathname}-${r.status}`});return y.jsx(R_,{getResetKey:()=>e,onCatch:(r,n)=>{var o;if(ss(r))(o=t.onCatch)==null||o.call(t,r,n);else throw r},errorComponent:({error:r})=>{var n;if(ss(r))return(n=t.fallback)==null?void 0:n.call(t,r);throw r},children:t.children})}function fR(){return y.jsx("p",{children:"Not Found"})}const hR={stringify:t=>JSON.stringify(t,function(r,n){const o=this[r],a=v0.find(l=>l.stringifyCondition(o));return a?a.stringify(o):n}),parse:t=>JSON.parse(t,function(r,n){const o=this[r],a=v0.find(l=>l.parseCondition(o));return a?a.parse(o):n})},v0=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>_u(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>_u(t)&&t.$undefined==="",parse:()=>{}}],PN=["component","errorComponent","pendingComponent","notFoundComponent"];function pR(t){var e;for(const r of PN)if((e=t.options[r])!=null&&e.preload)return!0;return!1}function pg(t,e){if(t==null)return{};if("~standard"in t){const r=t["~standard"].validate(e);if(r instanceof Promise)throw new Dv("Async validation not supported");if(r.issues)throw new Dv(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function mR(t){return new yR(t)}class yR{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const o=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(a=>[encodeURIComponent(a),a])):void 0,(!this.basepath||r.basepath&&r.basepath!==o.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${sR(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?MC({initialEntries:[this.basepath||"/"]}):DC()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new QC(vR(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(a=>!["redirected"].includes(a.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=l=>{l.forEach((c,p)=>{c.init({originalIndex:p,defaultSsr:this.options.defaultSsr});const m=this.routesById[c.id];if(xi(!m,`Duplicate routes found with id: ${String(c.id)}`),this.routesById[c.id]=c,!c.isRoot&&c.path){const x=Za(c.fullPath);(!this.routesByPath[x]||c.fullPath.endsWith("/"))&&(this.routesByPath[x]=c)}const b=c.children;b?.length&&n(b)})};n([this.routeTree]);const o=[];Object.values(this.routesById).forEach((l,c)=>{var p;if(l.isRoot||!l.path)return;const m=C_(l.fullPath),b=bu(m);for(;b.length>1&&((p=b[0])==null?void 0:p.value)==="/";)b.shift();const x=b.map(N=>N.value==="/"?.75:N.type==="param"?.5:N.type==="wildcard"?.25:1);o.push({child:l,trimmed:m,parsed:b,index:c,scores:x})}),this.flatRoutes=o.sort((l,c)=>{const p=Math.min(l.scores.length,c.scores.length);for(let m=0;m<p;m++)if(l.scores[m]!==c.scores[m])return c.scores[m]-l.scores[m];if(l.scores.length!==c.scores.length)return c.scores.length-l.scores.length;for(let m=0;m<p;m++)if(l.parsed[m].value!==c.parsed[m].value)return l.parsed[m].value>c.parsed[m].value?1:-1;return l.index-c.index}).map((l,c)=>(l.child.rank=c,l.child))},this.subscribe=(r,n)=>{const o={eventType:r,fn:n};return this.subscribers.add(o),()=>{this.subscribers.delete(o)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const o=({pathname:p,search:m,hash:b,state:x})=>{const N=this.options.parseSearch(m),R=this.options.stringifySearch(N);return{pathname:p,searchStr:R,search:Wi(r?.search,N),hash:b.split("#").reverse()[0]??"",href:`${p}${R}${b}`,state:Wi(r?.state,x)}},a=o(n??this.history.location),{__tempLocation:l,__tempKey:c}=a.state;if(l&&(!c||c===this.tempLocationKey)){const p=o(l);return p.state.key=a.state.key,delete p.state.__tempLocation,{...p,maskedLocation:a}}return a},this.resolvePathWithBase=(r,n)=>aR({basepath:this.basepath,base:r,to:Pp(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let o={};const a=Za(r.pathname),l=b=>lh(this.basepath,a,{to:b.fullPath,caseSensitive:b.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let c=n?.to!==void 0?this.routesByPath[n.to]:void 0;c?o=l(c):c=this.flatRoutes.find(b=>{const x=l(b);return x?(o=x,!0):!1});let p=c||this.routesById[_i];const m=[p];for(;p.parentRoute;)p=p.parentRoute,m.unshift(p);return{matchedRoutes:m,routeParams:o,foundRoute:c}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(a={},l)=>{var c,p,m,b,x,N;const R=a._fromLocation?this.matchRoutes(a._fromLocation,{_buildLocation:!0}):this.state.matches,q=a.from!=null?R.find(M=>lh(this.basepath,Za(M.pathname),{to:a.from,caseSensitive:!1,fuzzy:!1})):void 0,C=q?.pathname||this.latestLocation.pathname;xi(a.from==null||q!=null,"Could not find match for from: "+a.from);const T=(c=this.state.pendingMatches)!=null&&c.length?(p=zc(this.state.pendingMatches))==null?void 0:p.search:((m=zc(R))==null?void 0:m.search)||this.latestLocation.search,F=l?.matchedRoutes.filter(M=>R.find(re=>re.routeId===M.id));let j;if(a.to)j=this.resolvePathWithBase(C,`${a.to}`);else{const M=this.routesById[(b=F?.find(re=>{const Z=ah({path:re.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return co([this.basepath,Z])===C}))==null?void 0:b.id];j=this.resolvePathWithBase(C,M?.to??C)}const B={...(x=zc(R))==null?void 0:x.params};let z=(a.params??!0)===!0?B:{...B,...Ja(a.params,B)};Object.keys(z).length>0&&l?.matchedRoutes.map(M=>{var re;return((re=M.options.params)==null?void 0:re.stringify)??M.options.stringifyParams}).filter(Boolean).forEach(M=>{z={...z,...M(z)}}),j=ah({path:j,params:z??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let K=T;if(r._includeValidateSearch&&((N=this.options.search)!=null&&N.strict)){let M={};l?.matchedRoutes.forEach(re=>{try{re.options.validateSearch&&(M={...M,...pg(re.options.validateSearch,{...M,...K})??{}})}catch{}}),K=M}K=(M=>{const re=l?.matchedRoutes.reduce((Re,Ce)=>{var je;const ve=[];if("search"in Ce.options)(je=Ce.options.search)!=null&&je.middlewares&&ve.push(...Ce.options.search.middlewares);else if(Ce.options.preSearchFilters||Ce.options.postSearchFilters){const me=({search:Ee,next:H})=>{let xe=Ee;"preSearchFilters"in Ce.options&&Ce.options.preSearchFilters&&(xe=Ce.options.preSearchFilters.reduce((at,dt)=>dt(at),Ee));const lt=H(xe);return"postSearchFilters"in Ce.options&&Ce.options.postSearchFilters?Ce.options.postSearchFilters.reduce((at,dt)=>dt(at),lt):lt};ve.push(me)}if(r._includeValidateSearch&&Ce.options.validateSearch){const me=({search:Ee,next:H})=>{try{const xe=H(Ee);return{...xe,...pg(Ce.options.validateSearch,xe)??{}}}catch{}};ve.push(me)}return Re.concat(ve)},[])??[],Z=({search:Re})=>a.search?a.search===!0?Re:Ja(a.search,Re):{};re.push(Z);const pe=(Re,Ce)=>{if(Re>=re.length)return Ce;const je=re[Re];return je({search:Ce,next:me=>pe(Re+1,me)})};return pe(0,M)})(K),K=Wi(T,K);const Q=this.options.stringifySearch(K),ue=a.hash===!0?this.latestLocation.hash:a.hash?Ja(a.hash,this.latestLocation.hash):void 0,V=ue?`#${ue}`:"";let ne=a.state===!0?this.latestLocation.state:a.state?Ja(a.state,this.latestLocation.state):{};return ne=Wi(this.latestLocation.state,ne),{pathname:j,search:K,searchStr:Q,state:ne,hash:ue??"",href:`${j}${Q}${V}`,unmaskOnReload:a.unmaskOnReload}},o=(a={},l)=>{var c;const p=n(a);let m=l?n(l):void 0;if(!m){let N={};const R=(c=this.options.routeMasks)==null?void 0:c.find(q=>{const C=lh(this.basepath,p.pathname,{to:q.from,caseSensitive:!1,fuzzy:!1});return C?(N=C,!0):!1});if(R){const{from:q,...C}=R;l={...wh(r,["from"]),...C,params:N},m=n(l)}}const b=this.getMatchedRoutes(p,a),x=n(a,b);if(m){const N=this.getMatchedRoutes(m,l),R=n(l,N);x.maskedLocation=R}return x};return r.mask?o(r,{...wh(r,["from"]),...r.mask}):o(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...o})=>{const a=()=>{o.state.key=this.latestLocation.state.key;const p=ou(o.state,this.latestLocation.state);return delete o.state.key,p},l=this.latestLocation.href===o.href,c=this.commitLocationPromise;if(this.commitLocationPromise=Kl(()=>{c?.resolve()}),l&&a())this.load();else{let{maskedLocation:p,hashScrollIntoView:m,...b}=o;p&&(b={...p,state:{...p.state,__tempKey:void 0,__tempLocation:{...b,search:b.searchStr,state:{...b.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(b.unmaskOnReload??this.options.unmaskOnReload??!1)&&(b.state.__tempKey=this.tempLocationKey)),b.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[o.replace?"replace":"push"](b.href,b.state,{ignoreBlocker:n})}return this.resetNextScroll=o.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:o,viewTransition:a,ignoreBlocker:l,href:c,...p}={})=>{if(c){const b=rd(c,{});p.to=b.pathname,p.search=this.options.parseSearch(b.search),p.hash=b.hash.slice(1)}const m=this.buildLocation({...p,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:a,replace:r,resetScroll:n,hashScrollIntoView:o,ignoreBlocker:l})},this.navigate=({to:r,reloadDocument:n,href:o,...a})=>{if(n){o||(o=this.buildLocation({to:r,...a}).href),a.replace?window.location.replace(o):window.location.href=o;return}return this.buildAndCommitLocation({...a,href:o,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,o;for(o=new Promise(a=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,p=this.state.resolvedLocation,m=p.href!==c.href,b=p.pathname!==c.pathname;this.cancelMatches();let x;this.__store.batch(()=>{x=this.matchRoutes(c),this.__store.setState(N=>({...N,status:"pending",isLoading:!0,location:c,pendingMatches:x,cachedMatches:N.cachedMatches.filter(R=>!x.find(q=>q.id===R.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:p,toLocation:c,pathChanged:b,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:p,toLocation:c,pathChanged:b,hrefChanged:m}),await this.loadMatches({matches:x,location:c,onReady:async()=>{this.startViewTransition(async()=>{let N,R,q;this.__store.batch(()=>{this.__store.setState(C=>{const T=C.matches,F=C.pendingMatches||C.matches;return N=T.filter(j=>!F.find(B=>B.id===j.id)),R=F.filter(j=>!T.find(B=>B.id===j.id)),q=T.filter(j=>F.find(B=>B.id===j.id)),{...C,isLoading:!1,loadedAt:Date.now(),matches:F,pendingMatches:void 0,cachedMatches:[...C.cachedMatches,...N.filter(j=>j.status!=="error")]}}),this.clearExpiredCache()}),[[N,"onLeave"],[R,"onEnter"],[q,"onStay"]].forEach(([C,T])=>{C.forEach(F=>{var j,B;(B=(j=this.looseRoutesById[F.routeId].options)[T])==null||B.call(j,F)})})})}})}catch(c){hg(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):ss(c)&&(n=c),this.__store.setState(p=>({...p,statusCode:r?r.statusCode:n?404:p.matches.some(m=>m.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let o;typeof n=="object"&&this.isViewTransitionTypesSupported?o={update:r,types:n.types}:o=r,document.startViewTransition(o)}else r()},this.updateMatch=(r,n)=>{var o;let a;const l=(o=this.state.pendingMatches)==null?void 0:o.find(b=>b.id===r),c=this.state.matches.find(b=>b.id===r),p=this.state.cachedMatches.find(b=>b.id===r),m=l?"pendingMatches":c?"matches":p?"cachedMatches":"";return m&&this.__store.setState(b=>{var x;return{...b,[m]:(x=b[m])==null?void 0:x.map(N=>N.id===r?a=n(N):N)}}),a},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:o,onReady:a,updateMatch:l=this.updateMatch})=>{let c,p=!1;const m=async()=>{p||(p=!0,await a?.())},b=N=>!!(o&&!this.state.matches.find(R=>R.id===N));!this.isServer&&!this.state.matches.length&&m();const x=(N,R)=>{var q,C,T;if(hg(R)&&!R.reloadDocument)throw R;if(za(R)||ss(R)){if(l(N.id,F=>({...F,status:za(R)?"redirected":ss(R)?"notFound":"error",isFetching:!1,error:R,beforeLoadPromise:void 0,loaderPromise:void 0})),R.routeId||(R.routeId=N.routeId),(q=N.beforeLoadPromise)==null||q.resolve(),(C=N.loaderPromise)==null||C.resolve(),(T=N.loadPromise)==null||T.resolve(),za(R))throw p=!0,R=this.resolveRedirect({...R,_fromLocation:r}),R;if(ss(R))throw this._handleNotFound(n,R,{updateMatch:l}),R}};try{await new Promise((N,R)=>{(async()=>{var q,C,T;try{const F=(z,K,W)=>{var Q,ue;const{id:V,routeId:ne}=n[z],M=this.looseRoutesById[ne];if(K instanceof Promise)throw K;K.routerCode=W,c=c??z,x(this.getMatch(V),K);try{(ue=(Q=M.options).onError)==null||ue.call(Q,K)}catch(re){K=re,x(this.getMatch(V),K)}l(V,re=>{var Z,pe;return(Z=re.beforeLoadPromise)==null||Z.resolve(),(pe=re.loadPromise)==null||pe.resolve(),{...re,error:K,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[z,{id:K,routeId:W}]of n.entries()){const Q=this.getMatch(K),ue=(q=n[z-1])==null?void 0:q.id,V=this.looseRoutesById[W],ne=V.options.pendingMs??this.options.defaultPendingMs,M=!!(a&&!this.isServer&&!b(K)&&(V.options.loader||V.options.beforeLoad)&&typeof ne=="number"&&ne!==1/0&&(V.options.pendingComponent??this.options.defaultPendingComponent));let re=!0;if((Q.beforeLoadPromise||Q.loaderPromise)&&(M&&setTimeout(()=>{try{m()}catch{}},ne),await Q.beforeLoadPromise,re=this.getMatch(K).status!=="success"),re){try{l(K,dt=>({...dt,loadPromise:Kl(()=>{var mt;(mt=dt.loadPromise)==null||mt.resolve()}),beforeLoadPromise:Kl()}));const Z=new AbortController;let pe;M&&(pe=setTimeout(()=>{try{m()}catch{}},ne));const{paramsError:Re,searchError:Ce}=this.getMatch(K);Re&&F(z,Re,"PARSE_PARAMS"),Ce&&F(z,Ce,"VALIDATE_SEARCH");const je=()=>ue?this.getMatch(ue).context:this.options.context??{};l(K,dt=>({...dt,isFetching:"beforeLoad",fetchCount:dt.fetchCount+1,abortController:Z,pendingTimeout:pe,context:{...je(),...dt.__routeContext,...dt.__beforeLoadContext}}));const{search:ve,params:me,context:Ee,cause:H}=this.getMatch(K),xe=b(K),lt={search:ve,abortController:Z,params:me,preload:xe,context:Ee,location:r,navigate:dt=>this.navigate({...dt,_fromLocation:r}),buildLocation:this.buildLocation,cause:xe?"preload":H,matches:n};let at=await ((T=(C=V.options).beforeLoad)==null?void 0:T.call(C,lt))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(K)})),(za(at)||ss(at))&&F(z,at,"BEFORE_LOAD"),l(K,dt=>({...dt,__beforeLoadContext:at,context:{...je(),...dt.__routeContext,...at},abortController:Z}))}catch(Z){F(z,Z,"BEFORE_LOAD")}l(K,Z=>{var pe;return(pe=Z.beforeLoadPromise)==null||pe.resolve(),{...Z,beforeLoadPromise:void 0,isFetching:!1}})}}const j=n.slice(0,c),B=[];j.forEach(({id:z,routeId:K},W)=>{B.push((async()=>{const{loaderPromise:Q}=this.getMatch(z);let ue=!1;if(Q)await Q;else{const V=B[W-1],ne=this.looseRoutesById[K],M=()=>{const{params:xe,loaderDeps:lt,abortController:at,context:dt,cause:mt}=this.getMatch(z),ft=b(z);return{params:xe,deps:lt,preload:!!ft,parentMatchPromise:V,abortController:at,context:dt,location:r,navigate:gt=>this.navigate({...gt,_fromLocation:r}),cause:ft?"preload":mt,route:ne}},re=Date.now()-this.getMatch(z).updatedAt,Z=b(z),pe=Z?ne.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ne.options.staleTime??this.options.defaultStaleTime??0,Re=ne.options.shouldReload,Ce=typeof Re=="function"?Re(M()):Re;l(z,xe=>({...xe,loaderPromise:Kl(),preload:!!Z&&!this.state.matches.find(lt=>lt.id===z)}));const je=async()=>{var xe,lt,at,dt,mt,ft,gt,At;try{const vt=async()=>{const yt=this.getMatch(z);yt.minPendingPromise&&await yt.minPendingPromise};try{this.loadRouteChunk(ne),l(z,ur=>({...ur,isFetching:"loader"}));let yt=await ((lt=(xe=ne.options).loader)==null?void 0:lt.call(xe,M()));this.serializeLoaderData&&(yt=this.serializeLoaderData("loaderData",yt,{router:this,match:this.getMatch(z)})),x(this.getMatch(z),yt),await ne._lazyPromise,await vt();const Rt=(dt=(at=ne.options).head)==null?void 0:dt.call(at,{matches:n,match:this.getMatch(z),params:this.getMatch(z).params,loaderData:yt}),qt=Rt?.meta,Jt=Rt?.links,Gt=Rt?.scripts,er=(ft=(mt=ne.options).headers)==null?void 0:ft.call(mt,{loaderData:yt});l(z,ur=>({...ur,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:yt,meta:qt,links:Jt,scripts:Gt,headers:er}))}catch(yt){let Rt=yt;await vt(),x(this.getMatch(z),yt);try{(At=(gt=ne.options).onError)==null||At.call(gt,yt)}catch(qt){Rt=qt,x(this.getMatch(z),qt)}l(z,qt=>({...qt,error:Rt,status:"error",isFetching:!1}))}await ne._componentsPromise}catch(vt){l(z,yt=>({...yt,loaderPromise:void 0})),x(this.getMatch(z),vt)}},{status:ve,invalid:me}=this.getMatch(z);ue=ve==="success"&&(me||(Ce??re>pe)),Z&&ne.options.preload===!1||(ue?(async()=>{try{await je()}catch(xe){hg(xe)&&await this.navigate(xe)}})():ve!=="success"&&await je());const{loaderPromise:Ee,loadPromise:H}=this.getMatch(z);Ee?.resolve(),H?.resolve()}return l(z,V=>({...V,isFetching:ue?V.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(z)})())}),await Promise.all(B),N()}catch(F){R(F)}})()}),await m()}catch(N){if(za(N)||ss(N))throw ss(N)&&!o&&await m(),N}return n},this.invalidate=r=>{const n=o=>{var a;return((a=r?.filter)==null?void 0:a.call(r,o))??!0?{...o,invalid:!0,...o.status==="error"?{status:"pending",error:void 0}:{}}:o};return this.__store.setState(o=>{var a;return{...o,matches:o.matches.map(n),cachedMatches:o.cachedMatches.map(n),pendingMatches:(a=o.pendingMatches)==null?void 0:a.map(n)}}),this.load()},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r?.filter;n!==void 0?this.__store.setState(o=>({...o,cachedMatches:o.cachedMatches.filter(a=>!n(a))})):this.__store.setState(o=>({...o,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const o=this.looseRoutesById[n.routeId];if(!o.options.loader)return!0;const a=(n.preload?o.options.preloadGcTime??this.options.defaultPreloadGcTime:o.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<a)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:o,...a}=n.options;Object.assign(r.options,a)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(PN.map(async n=>{const o=r.options[n];o?.preload&&await o.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let o=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...a,...this.state.cachedMatches.map(c=>c.id)]);this.__store.batch(()=>{o.forEach(c=>{l.has(c.id)||this.__store.setState(p=>({...p,cachedMatches:[...p.cachedMatches,c]}))})});try{return o=await this.loadMatches({matches:o,location:n,preload:!0,updateMatch:(c,p)=>{a.has(c)?o=o.map(m=>m.id===c?p(m):m):this.updateMatch(c,p)}}),o}catch(c){if(za(c))return c.reloadDocument?void 0:await this.preloadRoute({...c,_fromLocation:n});console.error(c);return}},this.matchRoute=(r,n)=>{const o={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},a=this.buildLocation(o);if(n?.pending&&this.state.status!=="pending")return!1;const c=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,p=lh(this.basepath,c.pathname,{...n,to:a.pathname});return!p||r.params&&!ou(p,r.params,{partial:!0})?!1:p&&(n?.includeSearch??!0)?ou(c.search,a.search,{partial:!0})?p:!1:p},this.dehydrate=()=>{var r;const n=((r=this.options.errorSerializer)==null?void 0:r.serialize)??_R;return{state:{dehydratedMatches:this.state.matches.map(o=>({...wh(o,["id","status","updatedAt"]),error:o.error?{data:n(o.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var r,n,o;let a;typeof document<"u"&&(a=this.options.transformer.parse((r=window.__TSR__)==null?void 0:r.dehydrated)),xi(a),this.dehydratedData=a.payload,(o=(n=this.options).hydrate)==null||o.call(n,a.payload);const l=a.router.state,c=this.matchRoutes(this.state.location).map(p=>{const m=l.dehydratedMatches.find(b=>b.id===p.id);return xi(m,`Could not find a client-side match for dehydrated match with id: ${p.id}!`),{...p,...m}});this.__store.setState(p=>({...p,matches:c})),this.manifest=a.router.manifest},this.injectedHtml=[],this.injectHtml=r=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(o=>o!==n),r);this.injectedHtml.push(n)},this.injectScript=(r,n)=>{this.injectHtml(`<script class='tsr-once'>${r}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=r=>{var n;if(this.isServer)return;const o=(n=window.__TSR__)==null?void 0:n.streamedValues[r];if(o)return o.parsed||(o.parsed=this.options.transformer.parse(o.value)),o.parsed},this.streamValue=(r,n)=>{var o;this.streamedKeys.has(r),this.streamedKeys.add(r),this.injectScript(`__TSR__.streamedValues['${r}'] = { value: ${(o=this.serializer)==null?void 0:o.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(r,n,{updateMatch:o=this.updateMatch}={})=>{const a=Object.fromEntries(r.map(p=>[p.routeId,p]));let l=(n.global?this.looseRoutesById[_i]:this.looseRoutesById[n.routeId])||this.looseRoutesById[_i];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==_i;)l=l.parentRoute,xi(l);const c=a[l.id];xi(c,"Could not find match for route: "+l.id),o(c.id,p=>({...p,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(n.routeId=l.parentRoute.id,this._handleNotFound(r,n,{updateMatch:o}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??YC,parseSearch:e.parseSearch??XC,transformer:e.transformer??hR}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,r,n){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r)}matchRoutesInternal(e,r){const{foundRoute:n,matchedRoutes:o,routeParams:a}=this.getMatchedRoutes(e,r?.dest);let l=!1;(n?n.path!=="/"&&a["**"]:Za(e.pathname))&&(this.options.notFoundRoute?o.push(this.options.notFoundRoute):l=!0);const c=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let x=o.length-1;x>=0;x--){const N=o[x];if(N.children)return N.id}return _i}})(),p=o.map(x=>{var N;let R;const q=((N=x.options.params)==null?void 0:N.parse)??x.options.parseParams;if(q)try{const C=q(a);Object.assign(a,C)}catch(C){if(R=new gR(C.message,{cause:C}),r?.throwOnError)throw R;return R}}),m=[],b=x=>x?.id?x.context??this.options.context??{}:this.options.context??{};return o.forEach((x,N)=>{var R,q,C,T;const F=m[N-1],[j,B]=(()=>{const Z=F?.search??e.search;try{const pe=pg(x.options.validateSearch,Z)??{};return[{...Z,...pe},void 0]}catch(pe){const Re=new Dv(pe.message,{cause:pe});if(r?.throwOnError)throw Re;return[Z,Re]}})(),z=((q=(R=x.options).loaderDeps)==null?void 0:q.call(R,{search:j}))??"",K=z?JSON.stringify(z):"",W=ah({path:x.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),Q=ah({path:x.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+K,ue=this.getMatch(Q),V=this.state.matches.find(Z=>Z.routeId===x.id),ne=V?"stay":"enter";let M;if(ue)M={...ue,cause:ne,params:V?Wi(V.params,a):a,search:Wi(V?V.search:ue.search,j)};else{const Z=x.options.loader||x.options.beforeLoad||x.lazyFn||pR(x)?"pending":"success";M={id:Q,index:N,routeId:x.id,params:V?Wi(V.params,a):a,pathname:co([this.basepath,W]),updatedAt:Date.now(),search:V?Wi(V.search,j):j,searchError:void 0,status:Z,isFetching:!1,error:void 0,paramsError:p[N],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ne,loaderDeps:V?Wi(V.loaderDeps,z):z,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:x.options.staticData||{},loadPromise:Kl(),fullPath:x.fullPath}}M.status==="success"&&(M.headers=(T=(C=x.options).headers)==null?void 0:T.call(C,{loaderData:M.loaderData})),r?.preload||(M.globalNotFound=c===x.id),M.searchError=B;const re=b(F);M.context={...re,...M.__routeContext,...M.__beforeLoadContext},m.push(M)}),m.forEach((x,N)=>{var R,q,C,T;const F=this.looseRoutesById[x.routeId];if(!this.getMatch(x.id)&&r?._buildLocation!==!0){const z=m[N-1],K=b(z),W={deps:x.loaderDeps,params:x.params,context:K,location:e,navigate:Q=>this.navigate({...Q,_fromLocation:e}),buildLocation:this.buildLocation,cause:x.cause,abortController:x.abortController,preload:!!x.preload,matches:m};x.__routeContext=((q=(R=F.options).context)==null?void 0:q.call(R,W))??{},x.context={...K,...x.__routeContext,...x.__beforeLoadContext}}const B=(T=(C=F.options).head)==null?void 0:T.call(C,{matches:m,match:x,params:x.params,loaderData:x.loaderData??void 0});x.links=B?.links,x.scripts=B?.scripts,x.meta=B?.meta}),m}}class Dv extends Error{}class gR extends Error{}function vR(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function _R(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function _0(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function b0(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Fp=G.createContext(void 0),bR=G.createContext(void 0);function ha(t){const e=G.useContext(t.from?bR:Fp);return Vn({select:n=>{const o=n.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(xi(!((t.shouldThrow??!0)&&!o),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),o!==void 0)return t.select?t.select(o):o},structuralSharing:t.structuralSharing})}function pl(t){return ha({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function wR(t){const{select:e,...r}=t;return ha({...r,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function _n(t){return ha({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function xR(t){return ha({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function O_(t){const{navigate:e}=ki();return G.useCallback(r=>e({...r}),[e])}let jN=class{constructor(e){this.init=r=>{var n,o;this.originalIndex=r.originalIndex;const a=this.options,l=!a?.path&&!a?.id;this.parentRoute=(o=(n=this.options).getParentRoute)==null?void 0:o.call(n),l?this._path=_i:xi(this.parentRoute);let c=l?_i:a.path;c&&c!=="/"&&(c=C_(c));const p=a?.id||c;let m=l?_i:co([this.parentRoute.id===_i?"":this.parentRoute.id,p]);c===_i&&(c="/"),m!==_i&&(m=co(["/",m]));const b=m===_i?"/":co([this.parentRoute.fullPath,c]);this._path=c,this._id=m,this._fullPath=b,this._to=b,this._ssr=a?.ssr??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>ha({select:r?.select,from:this.id,structuralSharing:r?.structuralSharing}),this.useRouteContext=r=>ha({...r,from:this.id,select:n=>r?.select?r.select(n.context):n.context}),this.useSearch=r=>xR({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useParams=r=>_n({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useLoaderDeps=r=>wR({...r,from:this.id}),this.useLoaderData=r=>pl({...r,from:this.id}),this.useNavigate=()=>O_({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,xi(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function SR(t){return new jN(t)}function ER(){return t=>kR(t)}class NR extends jN{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function kR(t){return new NR(t)}function fr(t){return new qR(t,{silent:!0}).createRoute}class qR{constructor(e,r){this.path=e,this.createRoute=n=>{this.silent;const o=SR(n);return o.isRoot=!1,o},this.silent=r?.silent}}function xh(t){return y.jsx(y.Fragment,{children:t.children})}function LN(t,e,r){return e.options.notFoundComponent?y.jsx(e.options.notFoundComponent,{data:r}):t.options.defaultNotFoundComponent?y.jsx(t.options.defaultNotFoundComponent,{data:r}):y.jsx(fR,{})}const FN=G.memo(function({matchId:e}){var r,n;const o=ki(),a=Vn({select:T=>{var F;return(F=T.matches.find(j=>j.id===e))==null?void 0:F.routeId}});xi(a);const l=o.routesById[a],c=l.options.pendingComponent??o.options.defaultPendingComponent,p=c?y.jsx(c,{}):null,m=l.options.errorComponent??o.options.defaultErrorComponent,b=l.options.onCatch??o.options.defaultOnCatch,x=l.isRoot?l.options.notFoundComponent??((r=o.options.notFoundRoute)==null?void 0:r.options.component):l.options.notFoundComponent,N=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??c??((n=l.options.errorComponent)==null?void 0:n.preload))?G.Suspense:xh,R=m?R_:xh,q=x?dR:xh,C=Vn({select:T=>T.loadedAt});return y.jsx(Fp.Provider,{value:e,children:y.jsx(N,{fallback:p,children:y.jsx(R,{getResetKey:()=>C,errorComponent:m||Lp,onCatch:(T,F)=>{if(ss(T))throw T;b?.(T,F)},children:y.jsx(q,{fallback:T=>{if(!x||T.routeId&&T.routeId!==a||!T.routeId&&!l.isRoot)throw T;return G.createElement(x,T)},children:y.jsx(CR,{matchId:e})})})})})}),CR=G.memo(function({matchId:e}){var r,n,o,a,l;const c=ki(),{match:p,matchIndex:m,routeId:b}=Vn({select:q=>{const C=q.matches.findIndex(j=>j.id===e),T=q.matches[C];return{routeId:T.routeId,matchIndex:C,match:wh(T,["id","status","error"])}},structuralSharing:!0}),x=c.routesById[b],N=G.useMemo(()=>{const q=x.options.component??c.options.defaultComponent;return q?y.jsx(q,{}):y.jsx(Sa,{})},[x.options.component,c.options.defaultComponent]),R=(x.options.errorComponent??c.options.defaultErrorComponent)||Lp;if(p.status==="notFound"){let q;return _0(p.error)?q=(((r=c.options.errorSerializer)==null?void 0:r.deserialize)??b0)(p.error.data):q=p.error,xi(ss(q)),LN(c,x,q)}if(p.status==="redirected")throw xi(za(p.error)),(n=c.getMatch(p.id))==null?void 0:n.loadPromise;if(p.status==="error"){if(c.isServer)return y.jsx(R,{error:p.error,info:{componentStack:""}});throw _0(p.error)?(((o=c.options.errorSerializer)==null?void 0:o.deserialize)??b0)(p.error.data):p.error}if(p.status==="pending"){const q=x.options.pendingMinMs??c.options.defaultPendingMinMs;if(q&&!((a=c.getMatch(p.id))!=null&&a.minPendingPromise)&&!c.isServer){const C=Kl();Promise.resolve().then(()=>{c.updateMatch(p.id,T=>({...T,minPendingPromise:C}))}),setTimeout(()=>{C.resolve(),c.updateMatch(p.id,T=>({...T,minPendingPromise:void 0}))},q)}throw(l=c.getMatch(p.id))==null?void 0:l.loadPromise}return y.jsxs(y.Fragment,{children:[N,c.AfterEachMatch?y.jsx(c.AfterEachMatch,{match:p,matchIndex:m}):null]})}),Sa=G.memo(function(){const e=ki(),r=G.useContext(Fp),n=Vn({select:m=>{var b;return(b=m.matches.find(x=>x.id===r))==null?void 0:b.routeId}}),o=e.routesById[n],a=Vn({select:m=>{const x=m.matches.find(N=>N.id===r);return xi(x),x.globalNotFound}}),l=Vn({select:m=>{var b;const x=m.matches,N=x.findIndex(R=>R.id===r);return(b=x[N+1])==null?void 0:b.id}});if(a)return LN(e,o,void 0);if(!l)return null;const c=y.jsx(FN,{matchId:l}),p=e.options.defaultPendingComponent?y.jsx(e.options.defaultPendingComponent,{}):null;return r===_i?y.jsx(G.Suspense,{fallback:p,children:c}):c});var mg={exports:{}},ti={},yg={exports:{}},gg={};var w0;function RR(){return w0||(w0=1,function(t){function e(ve,me){var Ee=ve.length;ve.push(me);e:for(;0<Ee;){var H=Ee-1>>>1,xe=ve[H];if(0<o(xe,me))ve[H]=me,ve[Ee]=xe,Ee=H;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var me=ve[0],Ee=ve.pop();if(Ee!==me){ve[0]=Ee;e:for(var H=0,xe=ve.length,lt=xe>>>1;H<lt;){var at=2*(H+1)-1,dt=ve[at],mt=at+1,ft=ve[mt];if(0>o(dt,Ee))mt<xe&&0>o(ft,dt)?(ve[H]=ft,ve[mt]=Ee,H=mt):(ve[H]=dt,ve[at]=Ee,H=at);else if(mt<xe&&0>o(ft,Ee))ve[H]=ft,ve[mt]=Ee,H=mt;else break e}}return me}function o(ve,me){var Ee=ve.sortIndex-me.sortIndex;return Ee!==0?Ee:ve.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var p=[],m=[],b=1,x=null,N=3,R=!1,q=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ve){for(var me=r(m);me!==null;){if(me.callback===null)n(m);else if(me.startTime<=ve)n(m),me.sortIndex=me.expirationTime,e(p,me);else break;me=r(m)}}function z(ve){if(C=!1,B(ve),!q)if(r(p)!==null)q=!0,Ce(K);else{var me=r(m);me!==null&&je(z,me.startTime-ve)}}function K(ve,me){q=!1,C&&(C=!1,F(ue),ue=-1),R=!0;var Ee=N;try{for(B(me),x=r(p);x!==null&&(!(x.expirationTime>me)||ve&&!M());){var H=x.callback;if(typeof H=="function"){x.callback=null,N=x.priorityLevel;var xe=H(x.expirationTime<=me);me=t.unstable_now(),typeof xe=="function"?x.callback=xe:x===r(p)&&n(p),B(me)}else n(p);x=r(p)}if(x!==null)var lt=!0;else{var at=r(m);at!==null&&je(z,at.startTime-me),lt=!1}return lt}finally{x=null,N=Ee,R=!1}}var W=!1,Q=null,ue=-1,V=5,ne=-1;function M(){return!(t.unstable_now()-ne<V)}function re(){if(Q!==null){var ve=t.unstable_now();ne=ve;var me=!0;try{me=Q(!0,ve)}finally{me?Z():(W=!1,Q=null)}}else W=!1}var Z;if(typeof j=="function")Z=function(){j(re)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=re,Z=function(){Re.postMessage(null)}}else Z=function(){T(re,0)};function Ce(ve){Q=ve,W||(W=!0,Z())}function je(ve,me){ue=T(function(){ve(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){q||R||(q=!0,Ce(K))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(p)},t.unstable_next=function(ve){switch(N){case 1:case 2:case 3:var me=3;break;default:me=N}var Ee=N;N=me;try{return ve()}finally{N=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,me){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ee=N;N=ve;try{return me()}finally{N=Ee}},t.unstable_scheduleCallback=function(ve,me,Ee){var H=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?H+Ee:H):Ee=H,ve){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=0x3fffffff;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Ee+xe,ve={id:b++,callback:me,priorityLevel:ve,startTime:Ee,expirationTime:xe,sortIndex:-1},Ee>H?(ve.sortIndex=Ee,e(m,ve),r(p)===null&&ve===r(m)&&(C?(F(ue),ue=-1):C=!0,je(z,Ee-H))):(ve.sortIndex=xe,e(p,ve),q||R||(q=!0,Ce(K))),ve},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ve){var me=N;return function(){var Ee=N;N=me;try{return ve.apply(this,arguments)}finally{N=Ee}}}}(gg)),gg}var x0;function OR(){return x0||(x0=1,yg.exports=RR()),yg.exports}var S0;function IR(){if(S0)return ti;S0=1;var t=Od(),e=OR();function r(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)n.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},x={};function N(i){return p.call(x,i)?!0:p.call(b,i)?!1:m.test(i)?x[i]=!0:(b[i]=!0,!1)}function R(i,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function q(i,s,u,h){if(s===null||typeof s>"u"||R(i,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(i,s,u,h,w,E,P){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=E,this.removeEmptyString=P}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];T[s]=new C(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(F,j);T[s]=new C(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(F,j);T[s]=new C(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(F,j);T[s]=new C(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,s,u,h){var w=T.hasOwnProperty(s)?T[s]:null;(w!==null?w.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(q(s,u,w,h)&&(u=null),h||w===null?N(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):w.mustUseProperty?i[w.propertyName]=u===null?w.type===3?!1:"":u:(s=w.attributeName,h=w.attributeNamespace,u===null?i.removeAttribute(s):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,h?i.setAttributeNS(h,s,u):i.setAttribute(s,u))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),W=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),M=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ve=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ve&&i[ve]||i["@@iterator"],typeof i=="function"?i:null)}var Ee=Object.assign,H;function xe(i){if(H===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||""}return`
`+H+i}var lt=!1;function at(i,s){if(!i||lt)return"";lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Le){var h=Le}Reflect.construct(i,[],s)}else{try{s.call()}catch(Le){h=Le}i.call(s.prototype)}else{try{throw Error()}catch(Le){h=Le}i()}}catch(Le){if(Le&&h&&typeof Le.stack=="string"){for(var w=Le.stack.split(`
`),E=h.stack.split(`
`),P=w.length-1,ie=E.length-1;1<=P&&0<=ie&&w[P]!==E[ie];)ie--;for(;1<=P&&0<=ie;P--,ie--)if(w[P]!==E[ie]){if(P!==1||ie!==1)do if(P--,ie--,0>ie||w[P]!==E[ie]){var de=`
`+w[P].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=P&&0<=ie);break}}}finally{lt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?xe(i):""}function dt(i){switch(i.tag){case 5:return xe(i.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return i=at(i.type,!1),i;case 11:return i=at(i.type.render,!1),i;case 1:return i=at(i.type,!0),i;default:return""}}function mt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case W:return"Portal";case V:return"Profiler";case ue:return"StrictMode";case Z:return"Suspense";case pe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case ne:return(i._context.displayName||"Context")+".Provider";case re:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Re:return s=i.displayName||null,s!==null?s:mt(i.type)||"Memo";case Ce:s=i._payload,i=i._init;try{return mt(i(s))}catch{}}return null}function ft(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mt(s);case 8:return s===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function gt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function At(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(i){var s=At(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,E=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return w.call(this)},set:function(P){h=""+P,E.call(this,P)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yt(i){i._valueTracker||(i._valueTracker=vt(i))}function Rt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=At(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function qt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Jt(i,s){var u=s.checked;return Ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Gt(i,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=gt(s.value!=null?s.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function er(i,s){s=s.checked,s!=null&&B(i,"checked",s,!1)}function ur(i,s){er(i,s);var u=gt(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?le(i,s.type,u):s.hasOwnProperty("defaultValue")&&le(i,s.type,gt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function se(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function le(i,s,u){(s!=="number"||qt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var ye=Array.isArray;function Oe(i,s,u,h){if(i=i.options,s){s={};for(var w=0;w<u.length;w++)s["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=s.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&h&&(i[u].defaultSelected=!0)}else{for(u=""+gt(u),s=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,h&&(i[w].defaultSelected=!0);return}s!==null||i[w].disabled||(s=i[w])}s!==null&&(s.selected=!0)}}function De(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ee({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ge(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(r(92));if(ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:gt(u)}}function _t(i,s){var u=gt(s.value),h=gt(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Mt(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function mr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cr(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?mr(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ir,Dn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,w){MSApp.execUnsafeLocalFunction(function(){return i(s,u,h,w)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ir.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Xr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Us=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(i){Us.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Kn[s]=Kn[i]})});function bn(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Kn.hasOwnProperty(i)&&Kn[i]?(""+s).trim():s+"px"}function zt(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,w=bn(u,s[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,w):i[u]=w}}var Oo=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(i,s){if(s){if(Oo[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function To(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=null;function zu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vu=null,vs=null,I=null;function Yd(i){if(i=fc(i)){if(typeof Vu!="function")throw Error(r(280));var s=i.stateNode;s&&(s=wf(s),Vu(i.stateNode,i.type,s))}}function Xt(i){vs?I?I.push(i):I=[i]:vs=i}function ef(){if(vs){var i=vs,s=I;if(I=vs=null,Yd(i),s)for(i=0;i<s.length;i++)Yd(s[i])}}function tf(i,s){return i(s)}function rf(){}var Hu=!1;function qa(i,s,u){if(Hu)return i(s,u);Hu=!0;try{return tf(i,s,u)}finally{Hu=!1,(vs!==null||I!==null)&&(rf(),ef())}}function Ti(i,s){var u=i.stateNode;if(u===null)return null;var h=wf(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Qu=!1;if(c)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Qu=!1}function _m(i,s,u,h,w,E,P,ie,de){var Le=Array.prototype.slice.call(arguments,3);try{s.apply(u,Le)}catch(tt){this.onError(tt)}}var Ra=!1,_s=null,vl=!1,bs=null,bm={onError:function(i){Ra=!0,_s=i}};function wm(i,s,u,h,w,E,P,ie,de){Ra=!1,_s=null,_m.apply(bm,arguments)}function xm(i,s,u,h,w,E,P,ie,de){if(wm.apply(this,arguments),Ra){if(Ra){var Le=_s;Ra=!1,_s=null}else throw Error(r(198));vl||(vl=!0,bs=Le)}}function zs(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function nf(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function sf(i){if(zs(i)!==i)throw Error(r(188))}function Sm(i){var s=i.alternate;if(!s){if(s=zs(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,h=s;;){var w=u.return;if(w===null)break;var E=w.alternate;if(E===null){if(h=w.return,h!==null){u=h;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===u)return sf(w),i;if(E===h)return sf(w),s;E=E.sibling}throw Error(r(188))}if(u.return!==h.return)u=w,h=E;else{for(var P=!1,ie=w.child;ie;){if(ie===u){P=!0,u=w,h=E;break}if(ie===h){P=!0,h=w,u=E;break}ie=ie.sibling}if(!P){for(ie=E.child;ie;){if(ie===u){P=!0,u=E,h=w;break}if(ie===h){P=!0,h=E,u=w;break}ie=ie.sibling}if(!P)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function of(i){return i=Sm(i),i!==null?af(i):null}function af(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=af(i);if(s!==null)return s;i=i.sibling}return null}var lf=e.unstable_scheduleCallback,Ku=e.unstable_cancelCallback,Em=e.unstable_shouldYield,Nm=e.unstable_requestPaint,Vr=e.unstable_now,km=e.unstable_getCurrentPriorityLevel,Gu=e.unstable_ImmediatePriority,uf=e.unstable_UserBlockingPriority,_l=e.unstable_NormalPriority,qm=e.unstable_LowPriority,cf=e.unstable_IdlePriority,bl=null,Ai=null;function Cm(i){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(bl,i,void 0,(i.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:Im,Rm=Math.log,Om=Math.LN2;function Im(i){return i>>>=0,i===0?32:31-(Rm(i)/Om|0)|0}var Ao=64,wl=4194304;function Ji(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return i&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return i}}function xl(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,w=i.suspendedLanes,E=i.pingedLanes,P=u&0xfffffff;if(P!==0){var ie=P&~w;ie!==0?h=Ji(ie):(E&=P,E!==0&&(h=Ji(E)))}else P=u&~w,P!==0?h=Ji(P):E!==0&&(h=Ji(E));if(h===0)return 0;if(s!==0&&s!==h&&!(s&w)&&(w=h&-h,E=s&-s,w>=E||w===16&&(E&4194240)!==0))return s;if(h&4&&(h|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)u=31-Gn(s),w=1<<u,h|=i[u],s&=~w;return h}function Tm(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function Am(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,w=i.expirationTimes,E=i.pendingLanes;0<E;){var P=31-Gn(E),ie=1<<P,de=w[P];de===-1?(!(ie&u)||ie&h)&&(w[P]=Tm(ie,s)):de<=s&&(i.expiredLanes|=ie),E&=~ie}}function Ju(i){return i=i.pendingLanes&-0x40000001,i!==0?i:i&0x40000000?0x40000000:0}function df(){var i=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),i}function Zu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Oa(i,s,u){i.pendingLanes|=s,s!==0x20000000&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Gn(s),i[s]=u}function Pm(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var w=31-Gn(u),E=1<<w;s[w]=0,h[w]=-1,i[w]=-1,u&=~E}}function Xu(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Gn(u),w=1<<h;w&s|i[h]&s&&(i[h]|=s),u&=~w}}var yr=0;function ff(i){return i&=-i,1<i?4<i?i&0xfffffff?16:0x20000000:4:1}var Yu,ee,ec,Ia,tc,d=!1,f=[],g=null,_=null,S=null,k=new Map,X=new Map,te=[],Fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ze(i,s){switch(i){case"focusin":case"focusout":g=null;break;case"dragenter":case"dragleave":_=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":k.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":X.delete(s.pointerId)}}function Je(i,s,u,h,w,E){return i===null||i.nativeEvent!==E?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:E,targetContainers:[w]},s!==null&&(s=fc(s),s!==null&&ee(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),i)}function rt(i,s,u,h,w){switch(s){case"focusin":return g=Je(g,i,s,u,h,w),!0;case"dragenter":return _=Je(_,i,s,u,h,w),!0;case"mouseover":return S=Je(S,i,s,u,h,w),!0;case"pointerover":var E=w.pointerId;return k.set(E,Je(k.get(E)||null,i,s,u,h,w)),!0;case"gotpointercapture":return E=w.pointerId,X.set(E,Je(X.get(E)||null,i,s,u,h,w)),!0}return!1}function Te(i){var s=Ta(i.target);if(s!==null){var u=zs(s);if(u!==null){if(s=u.tag,s===13){if(s=nf(u),s!==null){i.blockedOn=s,tc(i.priority,function(){ec(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function we(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=J(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Uu=h,u.target.dispatchEvent(h),Uu=null}else return s=fc(u),s!==null&&ee(s),i.blockedOn=u,!1;s.shift()}return!0}function Ue(i,s,u){we(i)&&u.delete(s)}function oe(){d=!1,g!==null&&we(g)&&(g=null),_!==null&&we(_)&&(_=null),S!==null&&we(S)&&(S=null),k.forEach(Ue),X.forEach(Ue)}function he(i,s){i.blockedOn===s&&(i.blockedOn=null,d||(d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oe)))}function _e(i){function s(w){return he(w,i)}if(0<f.length){he(f[0],i);for(var u=1;u<f.length;u++){var h=f[u];h.blockedOn===i&&(h.blockedOn=null)}}for(g!==null&&he(g,i),_!==null&&he(_,i),S!==null&&he(S,i),k.forEach(s),X.forEach(s),u=0;u<te.length;u++)h=te[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<te.length&&(u=te[0],u.blockedOn===null);)Te(u),u.blockedOn===null&&te.shift()}var We=z.ReactCurrentBatchConfig,Be=!0;function be(i,s,u,h){var w=yr,E=We.transition;We.transition=null;try{yr=1,ht(i,s,u,h)}finally{yr=w,We.transition=E}}function Me(i,s,u,h){var w=yr,E=We.transition;We.transition=null;try{yr=4,ht(i,s,u,h)}finally{yr=w,We.transition=E}}function ht(i,s,u,h){if(Be){var w=J(i,s,u,h);if(w===null)Km(i,s,h,L,u),ze(i,h);else if(rt(w,i,s,u,h))h.stopPropagation();else if(ze(i,h),s&4&&-1<Fe.indexOf(i)){for(;w!==null;){var E=fc(w);if(E!==null&&Yu(E),E=J(i,s,u,h),E===null&&Km(i,s,h,L,u),E===w)break;w=E}w!==null&&h.stopPropagation()}else Km(i,s,h,null,u)}}var L=null;function J(i,s,u,h){if(L=null,i=zu(h),i=Ta(i),i!==null)if(s=zs(i),s===null)i=null;else if(u=s.tag,u===13){if(i=nf(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return L=i,null}function fe(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(km()){case Gu:return 1;case uf:return 4;case _l:case qm:return 16;case cf:return 0x20000000;default:return 16}default:return 16}}var Qe=null,U=null,Y=null;function O(){if(Y)return Y;var i,s=U,u=s.length,h,w="value"in Qe?Qe.value:Qe.textContent,E=w.length;for(i=0;i<u&&s[i]===w[i];i++);var P=u-i;for(h=1;h<=P&&s[u-h]===w[E-h];h++);return Y=w.slice(i,1<h?1-h:void 0)}function D(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function $(){return!0}function qe(){return!1}function He(i){function s(u,h,w,E,P){this._reactName=u,this._targetInst=w,this.type=h,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var ie in i)i.hasOwnProperty(ie)&&(u=i[ie],this[ie]=u?u(E):E[ie]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?$:qe,this.isPropagationStopped=qe,this}return Ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=$)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=$)},persist:function(){},isPersistent:$}),s}var St={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jt=He(St),Bt=Ee({},St,{view:0,detail:0}),Ze=He(Bt),ce,Ne,Ke,et=Ee({},Bt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ke&&(Ke&&i.type==="mousemove"?(ce=i.screenX-Ke.screenX,Ne=i.screenY-Ke.screenY):Ne=ce=0,Ke=i),ce)},movementY:function(i){return"movementY"in i?i.movementY:Ne}}),Ot=He(et),Wt=Ee({},et,{dataTransfer:0}),Se=He(Wt),Ve=Ee({},Bt,{relatedTarget:0}),Xe=He(Ve),bt=Ee({},St,{animationName:0,elapsedTime:0,pseudoElement:0}),ut=He(bt),Pt=Ee({},St,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yt=He(Pt),Et=Ee({},St,{data:0}),Hr=He(Et),Ae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ct[i])?!!s[i]:!1}function tr(){return wt}var xr=Ee({},Bt,{key:function(i){if(i.key){var s=Ae[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=D(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?st[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?D(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?D(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gr=He(xr),br=Ee({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vs=He(br),wn=Ee({},Bt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),jm=He(wn),Lm=Ee({},St,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pi=He(Lm),Fm=Ee({},et,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),hf=He(Fm),rc=[9,13,27,32],Dm=c&&"CompositionEvent"in window,nc=null;c&&"documentMode"in document&&(nc=document.documentMode);var G3=c&&"TextEvent"in window&&!nc,Bb=c&&(!Dm||nc&&8<nc&&11>=nc),Wb=" ",$b=!1;function Ub(i,s){switch(i){case"keyup":return rc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sl=!1;function J3(i,s){switch(i){case"compositionend":return zb(s);case"keypress":return s.which!==32?null:($b=!0,Wb);case"textInput":return i=s.data,i===Wb&&$b?null:i;default:return null}}function Z3(i,s){if(Sl)return i==="compositionend"||!Dm&&Ub(i,s)?(i=O(),Y=U=Qe=null,Sl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bb&&s.locale!=="ko"?null:s.data;default:return null}}var X3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!X3[i.type]:s==="textarea"}function Hb(i,s,u,h){Xt(h),s=vf(s,"onChange"),0<s.length&&(u=new jt("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var ic=null,sc=null;function Y3(i){cw(i,0)}function pf(i){var s=Cl(i);if(Rt(s))return i}function eq(i,s){if(i==="change")return s}var Qb=!1;if(c){var Mm;if(c){var Bm="oninput"in document;if(!Bm){var Kb=document.createElement("div");Kb.setAttribute("oninput","return;"),Bm=typeof Kb.oninput=="function"}Mm=Bm}else Mm=!1;Qb=Mm&&(!document.documentMode||9<document.documentMode)}function Gb(){ic&&(ic.detachEvent("onpropertychange",Jb),sc=ic=null)}function Jb(i){if(i.propertyName==="value"&&pf(sc)){var s=[];Hb(s,sc,i,zu(i)),qa(Y3,s)}}function tq(i,s,u){i==="focusin"?(Gb(),ic=s,sc=u,ic.attachEvent("onpropertychange",Jb)):i==="focusout"&&Gb()}function rq(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pf(sc)}function nq(i,s){if(i==="click")return pf(s)}function iq(i,s){if(i==="input"||i==="change")return pf(s)}function sq(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Zi=typeof Object.is=="function"?Object.is:sq;function oc(i,s){if(Zi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var w=u[h];if(!p.call(s,w)||!Zi(i[w],s[w]))return!1}return!0}function Zb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xb(i,s){var u=Zb(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Zb(u)}}function Yb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Yb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ew(){for(var i=window,s=qt();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=qt(i.document)}return s}function Wm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function oq(i){var s=ew(),u=i.focusedElem,h=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&Yb(u.ownerDocument.documentElement,u)){if(h!==null&&Wm(u)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var w=u.textContent.length,E=Math.min(h.start,w);h=h.end===void 0?E:Math.min(h.end,w),!i.extend&&E>h&&(w=h,h=E,E=w),w=Xb(u,E);var P=Xb(u,h);w&&P&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(s=s.createRange(),s.setStart(w.node,w.offset),i.removeAllRanges(),E>h?(i.addRange(s),i.extend(P.node,P.offset)):(s.setEnd(P.node,P.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var aq=c&&"documentMode"in document&&11>=document.documentMode,El=null,$m=null,ac=null,Um=!1;function tw(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Um||El==null||El!==qt(h)||(h=El,"selectionStart"in h&&Wm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ac&&oc(ac,h)||(ac=h,h=vf($m,"onSelect"),0<h.length&&(s=new jt("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=El)))}function mf(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Nl={animationend:mf("Animation","AnimationEnd"),animationiteration:mf("Animation","AnimationIteration"),animationstart:mf("Animation","AnimationStart"),transitionend:mf("Transition","TransitionEnd")},zm={},rw={};c&&(rw=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function yf(i){if(zm[i])return zm[i];if(!Nl[i])return i;var s=Nl[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in rw)return zm[i]=s[u];return i}var nw=yf("animationend"),iw=yf("animationiteration"),sw=yf("animationstart"),ow=yf("transitionend"),aw=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(i,s){aw.set(i,s),a(s,[i])}for(var Vm=0;Vm<lw.length;Vm++){var Hm=lw[Vm],lq=Hm.toLowerCase(),uq=Hm[0].toUpperCase()+Hm.slice(1);Po(lq,"on"+uq)}Po(nw,"onAnimationEnd"),Po(iw,"onAnimationIteration"),Po(sw,"onAnimationStart"),Po("dblclick","onDoubleClick"),Po("focusin","onFocus"),Po("focusout","onBlur"),Po(ow,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cq=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function uw(i,s,u){var h=i.type||"unknown-event";i.currentTarget=u,xm(h,s,void 0,i),i.currentTarget=null}function cw(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],w=h.event;h=h.listeners;e:{var E=void 0;if(s)for(var P=h.length-1;0<=P;P--){var ie=h[P],de=ie.instance,Le=ie.currentTarget;if(ie=ie.listener,de!==E&&w.isPropagationStopped())break e;uw(w,ie,Le),E=de}else for(P=0;P<h.length;P++){if(ie=h[P],de=ie.instance,Le=ie.currentTarget,ie=ie.listener,de!==E&&w.isPropagationStopped())break e;uw(w,ie,Le),E=de}}}if(vl)throw i=bs,vl=!1,bs=null,i}function Lr(i,s){var u=s[ey];u===void 0&&(u=s[ey]=new Set);var h=i+"__bubble";u.has(h)||(dw(s,i,2,!1),u.add(h))}function Qm(i,s,u){var h=0;s&&(h|=4),dw(u,i,h,s)}var gf="_reactListening"+Math.random().toString(36).slice(2);function uc(i){if(!i[gf]){i[gf]=!0,n.forEach(function(u){u!=="selectionchange"&&(cq.has(u)||Qm(u,!1,i),Qm(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[gf]||(s[gf]=!0,Qm("selectionchange",!1,s))}}function dw(i,s,u,h){switch(fe(s)){case 1:var w=be;break;case 4:w=Me;break;default:w=ht}u=w.bind(null,s,u,i),w=void 0,!Qu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),h?w!==void 0?i.addEventListener(s,u,{capture:!0,passive:w}):i.addEventListener(s,u,!0):w!==void 0?i.addEventListener(s,u,{passive:w}):i.addEventListener(s,u,!1)}function Km(i,s,u,h,w){var E=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var P=h.tag;if(P===3||P===4){var ie=h.stateNode.containerInfo;if(ie===w||ie.nodeType===8&&ie.parentNode===w)break;if(P===4)for(P=h.return;P!==null;){var de=P.tag;if((de===3||de===4)&&(de=P.stateNode.containerInfo,de===w||de.nodeType===8&&de.parentNode===w))return;P=P.return}for(;ie!==null;){if(P=Ta(ie),P===null)return;if(de=P.tag,de===5||de===6){h=E=P;continue e}ie=ie.parentNode}}h=h.return}qa(function(){var Le=E,tt=zu(u),nt=[];e:{var Ye=aw.get(i);if(Ye!==void 0){var Nt=jt,Tt=i;switch(i){case"keypress":if(D(u)===0)break e;case"keydown":case"keyup":Nt=gr;break;case"focusin":Tt="focus",Nt=Xe;break;case"focusout":Tt="blur",Nt=Xe;break;case"beforeblur":case"afterblur":Nt=Xe;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=Ot;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=Se;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=jm;break;case nw:case iw:case sw:Nt=ut;break;case ow:Nt=Pi;break;case"scroll":Nt=Ze;break;case"wheel":Nt=hf;break;case"copy":case"cut":case"paste":Nt=Yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=Vs}var Lt=(s&4)!==0,tn=!Lt&&i==="scroll",ke=Lt?Ye!==null?Ye+"Capture":null:Ye;Lt=[];for(var ge=Le,Ie;ge!==null;){Ie=ge;var ot=Ie.stateNode;if(Ie.tag===5&&ot!==null&&(Ie=ot,ke!==null&&(ot=Ti(ge,ke),ot!=null&&Lt.push(cc(ge,ot,Ie)))),tn)break;ge=ge.return}0<Lt.length&&(Ye=new Nt(Ye,Tt,null,u,tt),nt.push({event:Ye,listeners:Lt}))}}if(!(s&7)){e:{if(Ye=i==="mouseover"||i==="pointerover",Nt=i==="mouseout"||i==="pointerout",Ye&&u!==Uu&&(Tt=u.relatedTarget||u.fromElement)&&(Ta(Tt)||Tt[Hs]))break e;if((Nt||Ye)&&(Ye=tt.window===tt?tt:(Ye=tt.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,Nt?(Tt=u.relatedTarget||u.toElement,Nt=Le,Tt=Tt?Ta(Tt):null,Tt!==null&&(tn=zs(Tt),Tt!==tn||Tt.tag!==5&&Tt.tag!==6)&&(Tt=null)):(Nt=null,Tt=Le),Nt!==Tt)){if(Lt=Ot,ot="onMouseLeave",ke="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(Lt=Vs,ot="onPointerLeave",ke="onPointerEnter",ge="pointer"),tn=Nt==null?Ye:Cl(Nt),Ie=Tt==null?Ye:Cl(Tt),Ye=new Lt(ot,ge+"leave",Nt,u,tt),Ye.target=tn,Ye.relatedTarget=Ie,ot=null,Ta(tt)===Le&&(Lt=new Lt(ke,ge+"enter",Tt,u,tt),Lt.target=Ie,Lt.relatedTarget=tn,ot=Lt),tn=ot,Nt&&Tt)t:{for(Lt=Nt,ke=Tt,ge=0,Ie=Lt;Ie;Ie=kl(Ie))ge++;for(Ie=0,ot=ke;ot;ot=kl(ot))Ie++;for(;0<ge-Ie;)Lt=kl(Lt),ge--;for(;0<Ie-ge;)ke=kl(ke),Ie--;for(;ge--;){if(Lt===ke||ke!==null&&Lt===ke.alternate)break t;Lt=kl(Lt),ke=kl(ke)}Lt=null}else Lt=null;Nt!==null&&fw(nt,Ye,Nt,Lt,!1),Tt!==null&&tn!==null&&fw(nt,tn,Tt,Lt,!0)}}e:{if(Ye=Le?Cl(Le):window,Nt=Ye.nodeName&&Ye.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Ye.type==="file")var Ft=eq;else if(Vb(Ye))if(Qb)Ft=iq;else{Ft=rq;var $t=tq}else(Nt=Ye.nodeName)&&Nt.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(Ft=nq);if(Ft&&(Ft=Ft(i,Le))){Hb(nt,Ft,u,tt);break e}$t&&$t(i,Ye,Le),i==="focusout"&&($t=Ye._wrapperState)&&$t.controlled&&Ye.type==="number"&&le(Ye,"number",Ye.value)}switch($t=Le?Cl(Le):window,i){case"focusin":(Vb($t)||$t.contentEditable==="true")&&(El=$t,$m=Le,ac=null);break;case"focusout":ac=$m=El=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,tw(nt,u,tt);break;case"selectionchange":if(aq)break;case"keydown":case"keyup":tw(nt,u,tt)}var Ut;if(Dm)e:{switch(i){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else Sl?Ub(i,u)&&(Kt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Kt="onCompositionStart");Kt&&(Bb&&u.locale!=="ko"&&(Sl||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&Sl&&(Ut=O()):(Qe=tt,U="value"in Qe?Qe.value:Qe.textContent,Sl=!0)),$t=vf(Le,Kt),0<$t.length&&(Kt=new Hr(Kt,i,null,u,tt),nt.push({event:Kt,listeners:$t}),Ut?Kt.data=Ut:(Ut=zb(u),Ut!==null&&(Kt.data=Ut)))),(Ut=G3?J3(i,u):Z3(i,u))&&(Le=vf(Le,"onBeforeInput"),0<Le.length&&(tt=new Hr("onBeforeInput","beforeinput",null,u,tt),nt.push({event:tt,listeners:Le}),tt.data=Ut))}cw(nt,s)})}function cc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function vf(i,s){for(var u=s+"Capture",h=[];i!==null;){var w=i,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Ti(i,u),E!=null&&h.unshift(cc(i,E,w)),E=Ti(i,s),E!=null&&h.push(cc(i,E,w))),i=i.return}return h}function kl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function fw(i,s,u,h,w){for(var E=s._reactName,P=[];u!==null&&u!==h;){var ie=u,de=ie.alternate,Le=ie.stateNode;if(de!==null&&de===h)break;ie.tag===5&&Le!==null&&(ie=Le,w?(de=Ti(u,E),de!=null&&P.unshift(cc(u,de,ie))):w||(de=Ti(u,E),de!=null&&P.push(cc(u,de,ie)))),u=u.return}P.length!==0&&i.push({event:s,listeners:P})}var dq=/\r\n?/g,fq=/\u0000|\uFFFD/g;function hw(i){return(typeof i=="string"?i:""+i).replace(dq,`
`).replace(fq,"")}function _f(i,s,u){if(s=hw(s),hw(i)!==s&&u)throw Error(r(425))}function bf(){}var Gm=null,Jm=null;function Zm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,hq=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,pq=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(i){return pw.resolve(null).then(i).catch(mq)}:Xm;function mq(i){setTimeout(function(){throw i})}function Ym(i,s){var u=s,h=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(h===0){i.removeChild(w),_e(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=w}while(u);_e(s)}function jo(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function mw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var ql=Math.random().toString(36).slice(2),ws="__reactFiber$"+ql,dc="__reactProps$"+ql,Hs="__reactContainer$"+ql,ey="__reactEvents$"+ql,yq="__reactListeners$"+ql,gq="__reactHandles$"+ql;function Ta(i){var s=i[ws];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Hs]||u[ws]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=mw(i);i!==null;){if(u=i[ws])return u;i=mw(i)}return s}i=u,u=i.parentNode}return null}function fc(i){return i=i[ws]||i[Hs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Cl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function wf(i){return i[dc]||null}var ty=[],Rl=-1;function Lo(i){return{current:i}}function Fr(i){0>Rl||(i.current=ty[Rl],ty[Rl]=null,Rl--)}function Tr(i,s){Rl++,ty[Rl]=i.current,i.current=s}var Fo={},Cn=Lo(Fo),Jn=Lo(!1),Aa=Fo;function Ol(i,s){var u=i.type.contextTypes;if(!u)return Fo;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in u)w[E]=s[E];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=w),w}function Zn(i){return i=i.childContextTypes,i!=null}function xf(){Fr(Jn),Fr(Cn)}function yw(i,s,u){if(Cn.current!==Fo)throw Error(r(168));Tr(Cn,s),Tr(Jn,u)}function gw(i,s,u){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var w in h)if(!(w in s))throw Error(r(108,ft(i)||"Unknown",w));return Ee({},u,h)}function Sf(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Fo,Aa=Cn.current,Tr(Cn,i),Tr(Jn,Jn.current),!0}function vw(i,s,u){var h=i.stateNode;if(!h)throw Error(r(169));u?(i=gw(i,s,Aa),h.__reactInternalMemoizedMergedChildContext=i,Fr(Jn),Fr(Cn),Tr(Cn,i)):Fr(Jn),Tr(Jn,u)}var Qs=null,Ef=!1,ry=!1;function _w(i){Qs===null?Qs=[i]:Qs.push(i)}function vq(i){Ef=!0,_w(i)}function Do(){if(!ry&&Qs!==null){ry=!0;var i=0,s=yr;try{var u=Qs;for(yr=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}Qs=null,Ef=!1}catch(w){throw Qs!==null&&(Qs=Qs.slice(i+1)),lf(Gu,Do),w}finally{yr=s,ry=!1}}return null}var Il=[],Tl=0,Nf=null,kf=0,ji=[],Li=0,Pa=null,Ks=1,Gs="";function ja(i,s){Il[Tl++]=kf,Il[Tl++]=Nf,Nf=i,kf=s}function bw(i,s,u){ji[Li++]=Ks,ji[Li++]=Gs,ji[Li++]=Pa,Pa=i;var h=Ks;i=Gs;var w=32-Gn(h)-1;h&=~(1<<w),u+=1;var E=32-Gn(s)+w;if(30<E){var P=w-w%5;E=(h&(1<<P)-1).toString(32),h>>=P,w-=P,Ks=1<<32-Gn(s)+w|u<<w|h,Gs=E+i}else Ks=1<<E|u<<w|h,Gs=i}function ny(i){i.return!==null&&(ja(i,1),bw(i,1,0))}function iy(i){for(;i===Nf;)Nf=Il[--Tl],Il[Tl]=null,kf=Il[--Tl],Il[Tl]=null;for(;i===Pa;)Pa=ji[--Li],ji[Li]=null,Gs=ji[--Li],ji[Li]=null,Ks=ji[--Li],ji[Li]=null}var pi=null,mi=null,Mr=!1,Xi=null;function ww(i,s){var u=Bi(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function xw(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,pi=i,mi=jo(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,pi=i,mi=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Pa!==null?{id:Ks,overflow:Gs}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:0x40000000},u=Bi(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,pi=i,mi=null,!0):!1;default:return!1}}function sy(i){return(i.mode&1)!==0&&(i.flags&128)===0}function oy(i){if(Mr){var s=mi;if(s){var u=s;if(!xw(i,s)){if(sy(i))throw Error(r(418));s=jo(u.nextSibling);var h=pi;s&&xw(i,s)?ww(h,u):(i.flags=i.flags&-4097|2,Mr=!1,pi=i)}}else{if(sy(i))throw Error(r(418));i.flags=i.flags&-4097|2,Mr=!1,pi=i}}}function Sw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;pi=i}function qf(i){if(i!==pi)return!1;if(!Mr)return Sw(i),Mr=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Zm(i.type,i.memoizedProps)),s&&(s=mi)){if(sy(i))throw Ew(),Error(r(418));for(;s;)ww(i,s),s=jo(s.nextSibling)}if(Sw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){mi=jo(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}mi=null}}else mi=pi?jo(i.stateNode.nextSibling):null;return!0}function Ew(){for(var i=mi;i;)i=jo(i.nextSibling)}function Al(){mi=pi=null,Mr=!1}function ay(i){Xi===null?Xi=[i]:Xi.push(i)}var _q=z.ReactCurrentBatchConfig;function hc(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var h=u.stateNode}if(!h)throw Error(r(147,i));var w=h,E=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===E?s.ref:(s=function(P){var ie=w.refs;P===null?delete ie[E]:ie[E]=P},s._stringRef=E,s)}if(typeof i!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,i))}return i}function Cf(i,s){throw i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Nw(i){var s=i._init;return s(i._payload)}function kw(i){function s(ke,ge){if(i){var Ie=ke.deletions;Ie===null?(ke.deletions=[ge],ke.flags|=16):Ie.push(ge)}}function u(ke,ge){if(!i)return null;for(;ge!==null;)s(ke,ge),ge=ge.sibling;return null}function h(ke,ge){for(ke=new Map;ge!==null;)ge.key!==null?ke.set(ge.key,ge):ke.set(ge.index,ge),ge=ge.sibling;return ke}function w(ke,ge){return ke=Ho(ke,ge),ke.index=0,ke.sibling=null,ke}function E(ke,ge,Ie){return ke.index=Ie,i?(Ie=ke.alternate,Ie!==null?(Ie=Ie.index,Ie<ge?(ke.flags|=2,ge):Ie):(ke.flags|=2,ge)):(ke.flags|=1048576,ge)}function P(ke){return i&&ke.alternate===null&&(ke.flags|=2),ke}function ie(ke,ge,Ie,ot){return ge===null||ge.tag!==6?(ge=Xy(Ie,ke.mode,ot),ge.return=ke,ge):(ge=w(ge,Ie),ge.return=ke,ge)}function de(ke,ge,Ie,ot){var Ft=Ie.type;return Ft===Q?tt(ke,ge,Ie.props.children,ot,Ie.key):ge!==null&&(ge.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===Ce&&Nw(Ft)===ge.type)?(ot=w(ge,Ie.props),ot.ref=hc(ke,ge,Ie),ot.return=ke,ot):(ot=Xf(Ie.type,Ie.key,Ie.props,null,ke.mode,ot),ot.ref=hc(ke,ge,Ie),ot.return=ke,ot)}function Le(ke,ge,Ie,ot){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ie.containerInfo||ge.stateNode.implementation!==Ie.implementation?(ge=Yy(Ie,ke.mode,ot),ge.return=ke,ge):(ge=w(ge,Ie.children||[]),ge.return=ke,ge)}function tt(ke,ge,Ie,ot,Ft){return ge===null||ge.tag!==7?(ge=Ua(Ie,ke.mode,ot,Ft),ge.return=ke,ge):(ge=w(ge,Ie),ge.return=ke,ge)}function nt(ke,ge,Ie){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Xy(""+ge,ke.mode,Ie),ge.return=ke,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case K:return Ie=Xf(ge.type,ge.key,ge.props,null,ke.mode,Ie),Ie.ref=hc(ke,null,ge),Ie.return=ke,Ie;case W:return ge=Yy(ge,ke.mode,Ie),ge.return=ke,ge;case Ce:var ot=ge._init;return nt(ke,ot(ge._payload),Ie)}if(ye(ge)||me(ge))return ge=Ua(ge,ke.mode,Ie,null),ge.return=ke,ge;Cf(ke,ge)}return null}function Ye(ke,ge,Ie,ot){var Ft=ge!==null?ge.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ft!==null?null:ie(ke,ge,""+Ie,ot);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case K:return Ie.key===Ft?de(ke,ge,Ie,ot):null;case W:return Ie.key===Ft?Le(ke,ge,Ie,ot):null;case Ce:return Ft=Ie._init,Ye(ke,ge,Ft(Ie._payload),ot)}if(ye(Ie)||me(Ie))return Ft!==null?null:tt(ke,ge,Ie,ot,null);Cf(ke,Ie)}return null}function Nt(ke,ge,Ie,ot,Ft){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ke=ke.get(Ie)||null,ie(ge,ke,""+ot,Ft);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case K:return ke=ke.get(ot.key===null?Ie:ot.key)||null,de(ge,ke,ot,Ft);case W:return ke=ke.get(ot.key===null?Ie:ot.key)||null,Le(ge,ke,ot,Ft);case Ce:var $t=ot._init;return Nt(ke,ge,Ie,$t(ot._payload),Ft)}if(ye(ot)||me(ot))return ke=ke.get(Ie)||null,tt(ge,ke,ot,Ft,null);Cf(ge,ot)}return null}function Tt(ke,ge,Ie,ot){for(var Ft=null,$t=null,Ut=ge,Kt=ge=0,yn=null;Ut!==null&&Kt<Ie.length;Kt++){Ut.index>Kt?(yn=Ut,Ut=null):yn=Ut.sibling;var pr=Ye(ke,Ut,Ie[Kt],ot);if(pr===null){Ut===null&&(Ut=yn);break}i&&Ut&&pr.alternate===null&&s(ke,Ut),ge=E(pr,ge,Kt),$t===null?Ft=pr:$t.sibling=pr,$t=pr,Ut=yn}if(Kt===Ie.length)return u(ke,Ut),Mr&&ja(ke,Kt),Ft;if(Ut===null){for(;Kt<Ie.length;Kt++)Ut=nt(ke,Ie[Kt],ot),Ut!==null&&(ge=E(Ut,ge,Kt),$t===null?Ft=Ut:$t.sibling=Ut,$t=Ut);return Mr&&ja(ke,Kt),Ft}for(Ut=h(ke,Ut);Kt<Ie.length;Kt++)yn=Nt(Ut,ke,Kt,Ie[Kt],ot),yn!==null&&(i&&yn.alternate!==null&&Ut.delete(yn.key===null?Kt:yn.key),ge=E(yn,ge,Kt),$t===null?Ft=yn:$t.sibling=yn,$t=yn);return i&&Ut.forEach(function(Qo){return s(ke,Qo)}),Mr&&ja(ke,Kt),Ft}function Lt(ke,ge,Ie,ot){var Ft=me(Ie);if(typeof Ft!="function")throw Error(r(150));if(Ie=Ft.call(Ie),Ie==null)throw Error(r(151));for(var $t=Ft=null,Ut=ge,Kt=ge=0,yn=null,pr=Ie.next();Ut!==null&&!pr.done;Kt++,pr=Ie.next()){Ut.index>Kt?(yn=Ut,Ut=null):yn=Ut.sibling;var Qo=Ye(ke,Ut,pr.value,ot);if(Qo===null){Ut===null&&(Ut=yn);break}i&&Ut&&Qo.alternate===null&&s(ke,Ut),ge=E(Qo,ge,Kt),$t===null?Ft=Qo:$t.sibling=Qo,$t=Qo,Ut=yn}if(pr.done)return u(ke,Ut),Mr&&ja(ke,Kt),Ft;if(Ut===null){for(;!pr.done;Kt++,pr=Ie.next())pr=nt(ke,pr.value,ot),pr!==null&&(ge=E(pr,ge,Kt),$t===null?Ft=pr:$t.sibling=pr,$t=pr);return Mr&&ja(ke,Kt),Ft}for(Ut=h(ke,Ut);!pr.done;Kt++,pr=Ie.next())pr=Nt(Ut,ke,Kt,pr.value,ot),pr!==null&&(i&&pr.alternate!==null&&Ut.delete(pr.key===null?Kt:pr.key),ge=E(pr,ge,Kt),$t===null?Ft=pr:$t.sibling=pr,$t=pr);return i&&Ut.forEach(function(Xq){return s(ke,Xq)}),Mr&&ja(ke,Kt),Ft}function tn(ke,ge,Ie,ot){if(typeof Ie=="object"&&Ie!==null&&Ie.type===Q&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case K:e:{for(var Ft=Ie.key,$t=ge;$t!==null;){if($t.key===Ft){if(Ft=Ie.type,Ft===Q){if($t.tag===7){u(ke,$t.sibling),ge=w($t,Ie.props.children),ge.return=ke,ke=ge;break e}}else if($t.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===Ce&&Nw(Ft)===$t.type){u(ke,$t.sibling),ge=w($t,Ie.props),ge.ref=hc(ke,$t,Ie),ge.return=ke,ke=ge;break e}u(ke,$t);break}else s(ke,$t);$t=$t.sibling}Ie.type===Q?(ge=Ua(Ie.props.children,ke.mode,ot,Ie.key),ge.return=ke,ke=ge):(ot=Xf(Ie.type,Ie.key,Ie.props,null,ke.mode,ot),ot.ref=hc(ke,ge,Ie),ot.return=ke,ke=ot)}return P(ke);case W:e:{for($t=Ie.key;ge!==null;){if(ge.key===$t)if(ge.tag===4&&ge.stateNode.containerInfo===Ie.containerInfo&&ge.stateNode.implementation===Ie.implementation){u(ke,ge.sibling),ge=w(ge,Ie.children||[]),ge.return=ke,ke=ge;break e}else{u(ke,ge);break}else s(ke,ge);ge=ge.sibling}ge=Yy(Ie,ke.mode,ot),ge.return=ke,ke=ge}return P(ke);case Ce:return $t=Ie._init,tn(ke,ge,$t(Ie._payload),ot)}if(ye(Ie))return Tt(ke,ge,Ie,ot);if(me(Ie))return Lt(ke,ge,Ie,ot);Cf(ke,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,ge!==null&&ge.tag===6?(u(ke,ge.sibling),ge=w(ge,Ie),ge.return=ke,ke=ge):(u(ke,ge),ge=Xy(Ie,ke.mode,ot),ge.return=ke,ke=ge),P(ke)):u(ke,ge)}return tn}var Pl=kw(!0),qw=kw(!1),Rf=Lo(null),Of=null,jl=null,ly=null;function uy(){ly=jl=Of=null}function cy(i){var s=Rf.current;Fr(Rf),i._currentValue=s}function dy(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function Ll(i,s){Of=i,ly=jl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Xn=!0),i.firstContext=null)}function Fi(i){var s=i._currentValue;if(ly!==i)if(i={context:i,memoizedValue:s,next:null},jl===null){if(Of===null)throw Error(r(308));jl=i,Of.dependencies={lanes:0,firstContext:i}}else jl=jl.next=i;return s}var La=null;function fy(i){La===null?La=[i]:La.push(i)}function Cw(i,s,u,h){var w=s.interleaved;return w===null?(u.next=u,fy(s)):(u.next=w.next,w.next=u),s.interleaved=u,Js(i,h)}function Js(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Mo=!1;function hy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rw(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Zs(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Bo(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,hr&2){var w=h.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),h.pending=s,Js(i,u)}return w=h.interleaved,w===null?(s.next=s,fy(h)):(s.next=w.next,w.next=s),h.interleaved=s,Js(i,u)}function If(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Xu(i,u)}}function Ow(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var w=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var P={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?w=E=P:E=E.next=P,u=u.next}while(u!==null);E===null?w=E=s:E=E.next=s}else w=E=s;u={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Tf(i,s,u,h){var w=i.updateQueue;Mo=!1;var E=w.firstBaseUpdate,P=w.lastBaseUpdate,ie=w.shared.pending;if(ie!==null){w.shared.pending=null;var de=ie,Le=de.next;de.next=null,P===null?E=Le:P.next=Le,P=de;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,ie=tt.lastBaseUpdate,ie!==P&&(ie===null?tt.firstBaseUpdate=Le:ie.next=Le,tt.lastBaseUpdate=de))}if(E!==null){var nt=w.baseState;P=0,tt=Le=de=null,ie=E;do{var Ye=ie.lane,Nt=ie.eventTime;if((h&Ye)===Ye){tt!==null&&(tt=tt.next={eventTime:Nt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var Tt=i,Lt=ie;switch(Ye=s,Nt=u,Lt.tag){case 1:if(Tt=Lt.payload,typeof Tt=="function"){nt=Tt.call(Nt,nt,Ye);break e}nt=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Lt.payload,Ye=typeof Tt=="function"?Tt.call(Nt,nt,Ye):Tt,Ye==null)break e;nt=Ee({},nt,Ye);break e;case 2:Mo=!0}}ie.callback!==null&&ie.lane!==0&&(i.flags|=64,Ye=w.effects,Ye===null?w.effects=[ie]:Ye.push(ie))}else Nt={eventTime:Nt,lane:Ye,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},tt===null?(Le=tt=Nt,de=nt):tt=tt.next=Nt,P|=Ye;if(ie=ie.next,ie===null){if(ie=w.shared.pending,ie===null)break;Ye=ie,ie=Ye.next,Ye.next=null,w.lastBaseUpdate=Ye,w.shared.pending=null}}while(!0);if(tt===null&&(de=nt),w.baseState=de,w.firstBaseUpdate=Le,w.lastBaseUpdate=tt,s=w.shared.interleaved,s!==null){w=s;do P|=w.lane,w=w.next;while(w!==s)}else E===null&&(w.shared.lanes=0);Ma|=P,i.lanes=P,i.memoizedState=nt}}function Iw(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],w=h.callback;if(w!==null){if(h.callback=null,h=u,typeof w!="function")throw Error(r(191,w));w.call(h)}}}var pc={},xs=Lo(pc),mc=Lo(pc),yc=Lo(pc);function Fa(i){if(i===pc)throw Error(r(174));return i}function py(i,s){switch(Tr(yc,s),Tr(mc,i),Tr(xs,pc),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:cr(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=cr(s,i)}Fr(xs),Tr(xs,s)}function Fl(){Fr(xs),Fr(mc),Fr(yc)}function Tw(i){Fa(yc.current);var s=Fa(xs.current),u=cr(s,i.type);s!==u&&(Tr(mc,i),Tr(xs,u))}function my(i){mc.current===i&&(Fr(xs),Fr(mc))}var Qr=Lo(0);function Af(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yy=[];function gy(){for(var i=0;i<yy.length;i++)yy[i]._workInProgressVersionPrimary=null;yy.length=0}var Pf=z.ReactCurrentDispatcher,vy=z.ReactCurrentBatchConfig,Da=0,Kr=null,cn=null,pn=null,jf=!1,gc=!1,vc=0,bq=0;function Rn(){throw Error(r(321))}function _y(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Zi(i[u],s[u]))return!1;return!0}function by(i,s,u,h,w,E){if(Da=E,Kr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pf.current=i===null||i.memoizedState===null?Eq:Nq,i=u(h,w),gc){E=0;do{if(gc=!1,vc=0,25<=E)throw Error(r(301));E+=1,pn=cn=null,s.updateQueue=null,Pf.current=kq,i=u(h,w)}while(gc)}if(Pf.current=Df,s=cn!==null&&cn.next!==null,Da=0,pn=cn=Kr=null,jf=!1,s)throw Error(r(300));return i}function wy(){var i=vc!==0;return vc=0,i}function Ss(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Kr.memoizedState=pn=i:pn=pn.next=i,pn}function Di(){if(cn===null){var i=Kr.alternate;i=i!==null?i.memoizedState:null}else i=cn.next;var s=pn===null?Kr.memoizedState:pn.next;if(s!==null)pn=s,cn=i;else{if(i===null)throw Error(r(310));cn=i,i={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},pn===null?Kr.memoizedState=pn=i:pn=pn.next=i}return pn}function _c(i,s){return typeof s=="function"?s(i):s}function xy(i){var s=Di(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=cn,w=h.baseQueue,E=u.pending;if(E!==null){if(w!==null){var P=w.next;w.next=E.next,E.next=P}h.baseQueue=w=E,u.pending=null}if(w!==null){E=w.next,h=h.baseState;var ie=P=null,de=null,Le=E;do{var tt=Le.lane;if((Da&tt)===tt)de!==null&&(de=de.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),h=Le.hasEagerState?Le.eagerState:i(h,Le.action);else{var nt={lane:tt,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};de===null?(ie=de=nt,P=h):de=de.next=nt,Kr.lanes|=tt,Ma|=tt}Le=Le.next}while(Le!==null&&Le!==E);de===null?P=h:de.next=ie,Zi(h,s.memoizedState)||(Xn=!0),s.memoizedState=h,s.baseState=P,s.baseQueue=de,u.lastRenderedState=h}if(i=u.interleaved,i!==null){w=i;do E=w.lane,Kr.lanes|=E,Ma|=E,w=w.next;while(w!==i)}else w===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Sy(i){var s=Di(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,w=u.pending,E=s.memoizedState;if(w!==null){u.pending=null;var P=w=w.next;do E=i(E,P.action),P=P.next;while(P!==w);Zi(E,s.memoizedState)||(Xn=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),u.lastRenderedState=E}return[E,h]}function Aw(){}function Pw(i,s){var u=Kr,h=Di(),w=s(),E=!Zi(h.memoizedState,w);if(E&&(h.memoizedState=w,Xn=!0),h=h.queue,Ey(Fw.bind(null,u,h,i),[i]),h.getSnapshot!==s||E||pn!==null&&pn.memoizedState.tag&1){if(u.flags|=2048,bc(9,Lw.bind(null,u,h,w,s),void 0,null),mn===null)throw Error(r(349));Da&30||jw(u,s,w)}return w}function jw(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Kr.updateQueue,s===null?(s={lastEffect:null,stores:null},Kr.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Lw(i,s,u,h){s.value=u,s.getSnapshot=h,Dw(s)&&Mw(i)}function Fw(i,s,u){return u(function(){Dw(s)&&Mw(i)})}function Dw(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Zi(i,u)}catch{return!0}}function Mw(i){var s=Js(i,1);s!==null&&rs(s,i,1,-1)}function Bw(i){var s=Ss();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:i},s.queue=i,i=i.dispatch=Sq.bind(null,Kr,i),[s.memoizedState,i]}function bc(i,s,u,h){return i={tag:i,create:s,destroy:u,deps:h,next:null},s=Kr.updateQueue,s===null?(s={lastEffect:null,stores:null},Kr.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i)),i}function Ww(){return Di().memoizedState}function Lf(i,s,u,h){var w=Ss();Kr.flags|=i,w.memoizedState=bc(1|s,u,void 0,h===void 0?null:h)}function Ff(i,s,u,h){var w=Di();h=h===void 0?null:h;var E=void 0;if(cn!==null){var P=cn.memoizedState;if(E=P.destroy,h!==null&&_y(h,P.deps)){w.memoizedState=bc(s,u,E,h);return}}Kr.flags|=i,w.memoizedState=bc(1|s,u,E,h)}function $w(i,s){return Lf(8390656,8,i,s)}function Ey(i,s){return Ff(2048,8,i,s)}function Uw(i,s){return Ff(4,2,i,s)}function zw(i,s){return Ff(4,4,i,s)}function Vw(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Hw(i,s,u){return u=u!=null?u.concat([i]):null,Ff(4,4,Vw.bind(null,s,i),u)}function Ny(){}function Qw(i,s){var u=Di();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&_y(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Kw(i,s){var u=Di();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&_y(s,h[1])?h[0]:(i=i(),u.memoizedState=[i,s],i)}function Gw(i,s,u){return Da&21?(Zi(u,s)||(u=df(),Kr.lanes|=u,Ma|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Xn=!0),i.memoizedState=u)}function wq(i,s){var u=yr;yr=u!==0&&4>u?u:4,i(!0);var h=vy.transition;vy.transition={};try{i(!1),s()}finally{yr=u,vy.transition=h}}function Jw(){return Di().memoizedState}function xq(i,s,u){var h=zo(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Zw(i))Xw(s,u);else if(u=Cw(i,s,u,h),u!==null){var w=Bn();rs(u,i,h,w),Yw(u,s,h)}}function Sq(i,s,u){var h=zo(i),w={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zw(i))Xw(s,w);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var P=s.lastRenderedState,ie=E(P,u);if(w.hasEagerState=!0,w.eagerState=ie,Zi(ie,P)){var de=s.interleaved;de===null?(w.next=w,fy(s)):(w.next=de.next,de.next=w),s.interleaved=w;return}}catch{}finally{}u=Cw(i,s,w,h),u!==null&&(w=Bn(),rs(u,i,h,w),Yw(u,s,h))}}function Zw(i){var s=i.alternate;return i===Kr||s!==null&&s===Kr}function Xw(i,s){gc=jf=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Yw(i,s,u){if(u&4194240){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Xu(i,u)}}var Df={readContext:Fi,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},Eq={readContext:Fi,useCallback:function(i,s){return Ss().memoizedState=[i,s===void 0?null:s],i},useContext:Fi,useEffect:$w,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Lf(4194308,4,Vw.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Lf(4194308,4,i,s)},useInsertionEffect:function(i,s){return Lf(4,2,i,s)},useMemo:function(i,s){var u=Ss();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var h=Ss();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=xq.bind(null,Kr,i),[h.memoizedState,i]},useRef:function(i){var s=Ss();return i={current:i},s.memoizedState=i},useState:Bw,useDebugValue:Ny,useDeferredValue:function(i){return Ss().memoizedState=i},useTransition:function(){var i=Bw(!1),s=i[0];return i=wq.bind(null,i[1]),Ss().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var h=Kr,w=Ss();if(Mr){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),mn===null)throw Error(r(349));Da&30||jw(h,s,u)}w.memoizedState=u;var E={value:u,getSnapshot:s};return w.queue=E,$w(Fw.bind(null,h,E,i),[i]),h.flags|=2048,bc(9,Lw.bind(null,h,E,u,s),void 0,null),u},useId:function(){var i=Ss(),s=mn.identifierPrefix;if(Mr){var u=Gs,h=Ks;u=(h&~(1<<32-Gn(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=vc++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=bq++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Nq={readContext:Fi,useCallback:Qw,useContext:Fi,useEffect:Ey,useImperativeHandle:Hw,useInsertionEffect:Uw,useLayoutEffect:zw,useMemo:Kw,useReducer:xy,useRef:Ww,useState:function(){return xy(_c)},useDebugValue:Ny,useDeferredValue:function(i){var s=Di();return Gw(s,cn.memoizedState,i)},useTransition:function(){var i=xy(_c)[0],s=Di().memoizedState;return[i,s]},useMutableSource:Aw,useSyncExternalStore:Pw,useId:Jw,unstable_isNewReconciler:!1},kq={readContext:Fi,useCallback:Qw,useContext:Fi,useEffect:Ey,useImperativeHandle:Hw,useInsertionEffect:Uw,useLayoutEffect:zw,useMemo:Kw,useReducer:Sy,useRef:Ww,useState:function(){return Sy(_c)},useDebugValue:Ny,useDeferredValue:function(i){var s=Di();return cn===null?s.memoizedState=i:Gw(s,cn.memoizedState,i)},useTransition:function(){var i=Sy(_c)[0],s=Di().memoizedState;return[i,s]},useMutableSource:Aw,useSyncExternalStore:Pw,useId:Jw,unstable_isNewReconciler:!1};function Yi(i,s){if(i&&i.defaultProps){s=Ee({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function ky(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:Ee({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Mf={isMounted:function(i){return(i=i._reactInternals)?zs(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Bn(),w=zo(i),E=Zs(h,w);E.payload=s,u!=null&&(E.callback=u),s=Bo(i,E,w),s!==null&&(rs(s,i,w,h),If(s,i,w))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Bn(),w=zo(i),E=Zs(h,w);E.tag=1,E.payload=s,u!=null&&(E.callback=u),s=Bo(i,E,w),s!==null&&(rs(s,i,w,h),If(s,i,w))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Bn(),h=zo(i),w=Zs(u,h);w.tag=2,s!=null&&(w.callback=s),s=Bo(i,w,h),s!==null&&(rs(s,i,h,u),If(s,i,h))}};function ex(i,s,u,h,w,E,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,E,P):s.prototype&&s.prototype.isPureReactComponent?!oc(u,h)||!oc(w,E):!0}function tx(i,s,u){var h=!1,w=Fo,E=s.contextType;return typeof E=="object"&&E!==null?E=Fi(E):(w=Zn(s)?Aa:Cn.current,h=s.contextTypes,E=(h=h!=null)?Ol(i,w):Fo),s=new s(u,E),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mf,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=E),s}function rx(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&Mf.enqueueReplaceState(s,s.state,null)}function qy(i,s,u,h){var w=i.stateNode;w.props=u,w.state=i.memoizedState,w.refs={},hy(i);var E=s.contextType;typeof E=="object"&&E!==null?w.context=Fi(E):(E=Zn(s)?Aa:Cn.current,w.context=Ol(i,E)),w.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(ky(i,s,E,u),w.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(s=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),s!==w.state&&Mf.enqueueReplaceState(w,w.state,null),Tf(i,u,w,h),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Dl(i,s){try{var u="",h=s;do u+=dt(h),h=h.return;while(h);var w=u}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:s,stack:w,digest:null}}function Cy(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Ry(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var qq=typeof WeakMap=="function"?WeakMap:Map;function nx(i,s,u){u=Zs(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){Hf||(Hf=!0,zy=h),Ry(i,s)},u}function ix(i,s,u){u=Zs(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var w=s.value;u.payload=function(){return h(w)},u.callback=function(){Ry(i,s)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){Ry(i,s),typeof h!="function"&&($o===null?$o=new Set([this]):$o.add(this));var P=s.stack;this.componentDidCatch(s.value,{componentStack:P!==null?P:""})}),u}function sx(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new qq;var w=new Set;h.set(s,w)}else w=h.get(s),w===void 0&&(w=new Set,h.set(s,w));w.has(u)||(w.add(u),i=Wq.bind(null,i,s,u),s.then(i,i))}function ox(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function ax(i,s,u,h,w){return i.mode&1?(i.flags|=65536,i.lanes=w,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Zs(-1,1),s.tag=2,Bo(u,s,1))),u.lanes|=1),i)}var Cq=z.ReactCurrentOwner,Xn=!1;function Mn(i,s,u,h){s.child=i===null?qw(s,null,u,h):Pl(s,i.child,u,h)}function lx(i,s,u,h,w){u=u.render;var E=s.ref;return Ll(s,w),h=by(i,s,u,h,E,w),u=wy(),i!==null&&!Xn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~w,Xs(i,s,w)):(Mr&&u&&ny(s),s.flags|=1,Mn(i,s,h,w),s.child)}function ux(i,s,u,h,w){if(i===null){var E=u.type;return typeof E=="function"&&!Zy(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=E,cx(i,s,E,h,w)):(i=Xf(u.type,null,h,s,s.mode,w),i.ref=s.ref,i.return=s,s.child=i)}if(E=i.child,!(i.lanes&w)){var P=E.memoizedProps;if(u=u.compare,u=u!==null?u:oc,u(P,h)&&i.ref===s.ref)return Xs(i,s,w)}return s.flags|=1,i=Ho(E,h),i.ref=s.ref,i.return=s,s.child=i}function cx(i,s,u,h,w){if(i!==null){var E=i.memoizedProps;if(oc(E,h)&&i.ref===s.ref)if(Xn=!1,s.pendingProps=h=E,(i.lanes&w)!==0)i.flags&131072&&(Xn=!0);else return s.lanes=i.lanes,Xs(i,s,w)}return Oy(i,s,u,h,w)}function dx(i,s,u){var h=s.pendingProps,w=h.children,E=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(Bl,yi),yi|=u;else{if(!(u&0x40000000))return i=E!==null?E.baseLanes|u:u,s.lanes=s.childLanes=0x40000000,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Tr(Bl,yi),yi|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=E!==null?E.baseLanes:u,Tr(Bl,yi),yi|=h}else E!==null?(h=E.baseLanes|u,s.memoizedState=null):h=u,Tr(Bl,yi),yi|=h;return Mn(i,s,w,u),s.child}function fx(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Oy(i,s,u,h,w){var E=Zn(u)?Aa:Cn.current;return E=Ol(s,E),Ll(s,w),u=by(i,s,u,h,E,w),h=wy(),i!==null&&!Xn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~w,Xs(i,s,w)):(Mr&&h&&ny(s),s.flags|=1,Mn(i,s,u,w),s.child)}function hx(i,s,u,h,w){if(Zn(u)){var E=!0;Sf(s)}else E=!1;if(Ll(s,w),s.stateNode===null)Wf(i,s),tx(s,u,h),qy(s,u,h,w),h=!0;else if(i===null){var P=s.stateNode,ie=s.memoizedProps;P.props=ie;var de=P.context,Le=u.contextType;typeof Le=="object"&&Le!==null?Le=Fi(Le):(Le=Zn(u)?Aa:Cn.current,Le=Ol(s,Le));var tt=u.getDerivedStateFromProps,nt=typeof tt=="function"||typeof P.getSnapshotBeforeUpdate=="function";nt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ie!==h||de!==Le)&&rx(s,P,h,Le),Mo=!1;var Ye=s.memoizedState;P.state=Ye,Tf(s,h,P,w),de=s.memoizedState,ie!==h||Ye!==de||Jn.current||Mo?(typeof tt=="function"&&(ky(s,u,tt,h),de=s.memoizedState),(ie=Mo||ex(s,u,ie,h,Ye,de,Le))?(nt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(s.flags|=4194308)):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=de),P.props=h,P.state=de,P.context=Le,h=ie):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{P=s.stateNode,Rw(i,s),ie=s.memoizedProps,Le=s.type===s.elementType?ie:Yi(s.type,ie),P.props=Le,nt=s.pendingProps,Ye=P.context,de=u.contextType,typeof de=="object"&&de!==null?de=Fi(de):(de=Zn(u)?Aa:Cn.current,de=Ol(s,de));var Nt=u.getDerivedStateFromProps;(tt=typeof Nt=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ie!==nt||Ye!==de)&&rx(s,P,h,de),Mo=!1,Ye=s.memoizedState,P.state=Ye,Tf(s,h,P,w);var Tt=s.memoizedState;ie!==nt||Ye!==Tt||Jn.current||Mo?(typeof Nt=="function"&&(ky(s,u,Nt,h),Tt=s.memoizedState),(Le=Mo||ex(s,u,Le,h,Ye,Tt,de)||!1)?(tt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(h,Tt,de),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(h,Tt,de)),typeof P.componentDidUpdate=="function"&&(s.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof P.componentDidUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Tt),P.props=h,P.state=Tt,P.context=de,h=Le):(typeof P.componentDidUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=1024),h=!1)}return Iy(i,s,u,h,E,w)}function Iy(i,s,u,h,w,E){fx(i,s);var P=(s.flags&128)!==0;if(!h&&!P)return w&&vw(s,u,!1),Xs(i,s,E);h=s.stateNode,Cq.current=s;var ie=P&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&P?(s.child=Pl(s,i.child,null,E),s.child=Pl(s,null,ie,E)):Mn(i,s,ie,E),s.memoizedState=h.state,w&&vw(s,u,!0),s.child}function px(i){var s=i.stateNode;s.pendingContext?yw(i,s.pendingContext,s.pendingContext!==s.context):s.context&&yw(i,s.context,!1),py(i,s.containerInfo)}function mx(i,s,u,h,w){return Al(),ay(w),s.flags|=256,Mn(i,s,u,h),s.child}var Ty={dehydrated:null,treeContext:null,retryLane:0};function Ay(i){return{baseLanes:i,cachePool:null,transitions:null}}function yx(i,s,u){var h=s.pendingProps,w=Qr.current,E=!1,P=(s.flags&128)!==0,ie;if((ie=P)||(ie=i!==null&&i.memoizedState===null?!1:(w&2)!==0),ie?(E=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),Tr(Qr,w&1),i===null)return oy(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=0x40000000:s.lanes=1,null):(P=h.children,i=h.fallback,E?(h=s.mode,E=s.child,P={mode:"hidden",children:P},!(h&1)&&E!==null?(E.childLanes=0,E.pendingProps=P):E=Yf(P,h,0,null),i=Ua(i,h,u,null),E.return=s,i.return=s,E.sibling=i,s.child=E,s.child.memoizedState=Ay(u),s.memoizedState=Ty,i):Py(s,P));if(w=i.memoizedState,w!==null&&(ie=w.dehydrated,ie!==null))return Rq(i,s,P,h,ie,w,u);if(E){E=h.fallback,P=s.mode,w=i.child,ie=w.sibling;var de={mode:"hidden",children:h.children};return!(P&1)&&s.child!==w?(h=s.child,h.childLanes=0,h.pendingProps=de,s.deletions=null):(h=Ho(w,de),h.subtreeFlags=w.subtreeFlags&0xe00000),ie!==null?E=Ho(ie,E):(E=Ua(E,P,u,null),E.flags|=2),E.return=s,h.return=s,h.sibling=E,s.child=h,h=E,E=s.child,P=i.child.memoizedState,P=P===null?Ay(u):{baseLanes:P.baseLanes|u,cachePool:null,transitions:P.transitions},E.memoizedState=P,E.childLanes=i.childLanes&~u,s.memoizedState=Ty,h}return E=i.child,i=E.sibling,h=Ho(E,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=u),h.return=s,h.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=h,s.memoizedState=null,h}function Py(i,s){return s=Yf({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Bf(i,s,u,h){return h!==null&&ay(h),Pl(s,i.child,null,u),i=Py(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Rq(i,s,u,h,w,E,P){if(u)return s.flags&256?(s.flags&=-257,h=Cy(Error(r(422))),Bf(i,s,P,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(E=h.fallback,w=s.mode,h=Yf({mode:"visible",children:h.children},w,0,null),E=Ua(E,w,P,null),E.flags|=2,h.return=s,E.return=s,h.sibling=E,s.child=h,s.mode&1&&Pl(s,i.child,null,P),s.child.memoizedState=Ay(P),s.memoizedState=Ty,E);if(!(s.mode&1))return Bf(i,s,P,null);if(w.data==="$!"){if(h=w.nextSibling&&w.nextSibling.dataset,h)var ie=h.dgst;return h=ie,E=Error(r(419)),h=Cy(E,h,void 0),Bf(i,s,P,h)}if(ie=(P&i.childLanes)!==0,Xn||ie){if(h=mn,h!==null){switch(P&-P){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:w=32;break;case 0x20000000:w=0x10000000;break;default:w=0}w=w&(h.suspendedLanes|P)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Js(i,w),rs(h,i,w,-1))}return Jy(),h=Cy(Error(r(421))),Bf(i,s,P,h)}return w.data==="$?"?(s.flags|=128,s.child=i.child,s=$q.bind(null,i),w._reactRetry=s,null):(i=E.treeContext,mi=jo(w.nextSibling),pi=s,Mr=!0,Xi=null,i!==null&&(ji[Li++]=Ks,ji[Li++]=Gs,ji[Li++]=Pa,Ks=i.id,Gs=i.overflow,Pa=s),s=Py(s,h.children),s.flags|=4096,s)}function gx(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),dy(i.return,s,u)}function jy(i,s,u,h,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:w}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=u,E.tailMode=w)}function vx(i,s,u){var h=s.pendingProps,w=h.revealOrder,E=h.tail;if(Mn(i,s,h.children,u),h=Qr.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gx(i,u,s);else if(i.tag===19)gx(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Tr(Qr,h),!(s.mode&1))s.memoizedState=null;else switch(w){case"forwards":for(u=s.child,w=null;u!==null;)i=u.alternate,i!==null&&Af(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=s.child,s.child=null):(w=u.sibling,u.sibling=null),jy(s,!1,w,u,E);break;case"backwards":for(u=null,w=s.child,s.child=null;w!==null;){if(i=w.alternate,i!==null&&Af(i)===null){s.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}jy(s,!0,u,null,E);break;case"together":jy(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Wf(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Xs(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Ma|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Ho(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Ho(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Oq(i,s,u){switch(s.tag){case 3:px(s),Al();break;case 5:Tw(s);break;case 1:Zn(s.type)&&Sf(s);break;case 4:py(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,w=s.memoizedProps.value;Tr(Rf,h._currentValue),h._currentValue=w;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Tr(Qr,Qr.current&1),s.flags|=128,null):u&s.child.childLanes?yx(i,s,u):(Tr(Qr,Qr.current&1),i=Xs(i,s,u),i!==null?i.sibling:null);Tr(Qr,Qr.current&1);break;case 19:if(h=(u&s.childLanes)!==0,i.flags&128){if(h)return vx(i,s,u);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Tr(Qr,Qr.current),h)break;return null;case 22:case 23:return s.lanes=0,dx(i,s,u)}return Xs(i,s,u)}var _x,Ly,bx,wx;_x=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ly=function(){},bx=function(i,s,u,h){var w=i.memoizedProps;if(w!==h){i=s.stateNode,Fa(xs.current);var E=null;switch(u){case"input":w=Jt(i,w),h=Jt(i,h),E=[];break;case"select":w=Ee({},w,{value:void 0}),h=Ee({},h,{value:void 0}),E=[];break;case"textarea":w=De(i,w),h=De(i,h),E=[];break;default:typeof w.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=bf)}Io(u,h);var P;u=null;for(Le in w)if(!h.hasOwnProperty(Le)&&w.hasOwnProperty(Le)&&w[Le]!=null)if(Le==="style"){var ie=w[Le];for(P in ie)ie.hasOwnProperty(P)&&(u||(u={}),u[P]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(o.hasOwnProperty(Le)?E||(E=[]):(E=E||[]).push(Le,null));for(Le in h){var de=h[Le];if(ie=w?.[Le],h.hasOwnProperty(Le)&&de!==ie&&(de!=null||ie!=null))if(Le==="style")if(ie){for(P in ie)!ie.hasOwnProperty(P)||de&&de.hasOwnProperty(P)||(u||(u={}),u[P]="");for(P in de)de.hasOwnProperty(P)&&ie[P]!==de[P]&&(u||(u={}),u[P]=de[P])}else u||(E||(E=[]),E.push(Le,u)),u=de;else Le==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ie=ie?ie.__html:void 0,de!=null&&ie!==de&&(E=E||[]).push(Le,de)):Le==="children"?typeof de!="string"&&typeof de!="number"||(E=E||[]).push(Le,""+de):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(o.hasOwnProperty(Le)?(de!=null&&Le==="onScroll"&&Lr("scroll",i),E||ie===de||(E=[])):(E=E||[]).push(Le,de))}u&&(E=E||[]).push("style",u);var Le=E;(s.updateQueue=Le)&&(s.flags|=4)}},wx=function(i,s,u,h){u!==h&&(s.flags|=4)};function wc(i,s){if(!Mr)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function On(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,h|=w.subtreeFlags&0xe00000,h|=w.flags&0xe00000,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function Iq(i,s,u){var h=s.pendingProps;switch(iy(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(s),null;case 1:return Zn(s.type)&&xf(),On(s),null;case 3:return h=s.stateNode,Fl(),Fr(Jn),Fr(Cn),gy(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(qf(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Xi!==null&&(Qy(Xi),Xi=null))),Ly(i,s),On(s),null;case 5:my(s);var w=Fa(yc.current);if(u=s.type,i!==null&&s.stateNode!=null)bx(i,s,u,h,w),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return On(s),null}if(i=Fa(xs.current),qf(s)){h=s.stateNode,u=s.type;var E=s.memoizedProps;switch(h[ws]=s,h[dc]=E,i=(s.mode&1)!==0,u){case"dialog":Lr("cancel",h),Lr("close",h);break;case"iframe":case"object":case"embed":Lr("load",h);break;case"video":case"audio":for(w=0;w<lc.length;w++)Lr(lc[w],h);break;case"source":Lr("error",h);break;case"img":case"image":case"link":Lr("error",h),Lr("load",h);break;case"details":Lr("toggle",h);break;case"input":Gt(h,E),Lr("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!E.multiple},Lr("invalid",h);break;case"textarea":Ge(h,E),Lr("invalid",h)}Io(u,E),w=null;for(var P in E)if(E.hasOwnProperty(P)){var ie=E[P];P==="children"?typeof ie=="string"?h.textContent!==ie&&(E.suppressHydrationWarning!==!0&&_f(h.textContent,ie,i),w=["children",ie]):typeof ie=="number"&&h.textContent!==""+ie&&(E.suppressHydrationWarning!==!0&&_f(h.textContent,ie,i),w=["children",""+ie]):o.hasOwnProperty(P)&&ie!=null&&P==="onScroll"&&Lr("scroll",h)}switch(u){case"input":yt(h),se(h,E,!0);break;case"textarea":yt(h),Mt(h);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(h.onclick=bf)}h=w,s.updateQueue=h,h!==null&&(s.flags|=4)}else{P=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=mr(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=P.createElement("div"),i.innerHTML="<script></script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=P.createElement(u,{is:h.is}):(i=P.createElement(u),u==="select"&&(P=i,h.multiple?P.multiple=!0:h.size&&(P.size=h.size))):i=P.createElementNS(i,u),i[ws]=s,i[dc]=h,_x(i,s,!1,!1),s.stateNode=i;e:{switch(P=To(u,h),u){case"dialog":Lr("cancel",i),Lr("close",i),w=h;break;case"iframe":case"object":case"embed":Lr("load",i),w=h;break;case"video":case"audio":for(w=0;w<lc.length;w++)Lr(lc[w],i);w=h;break;case"source":Lr("error",i),w=h;break;case"img":case"image":case"link":Lr("error",i),Lr("load",i),w=h;break;case"details":Lr("toggle",i),w=h;break;case"input":Gt(i,h),w=Jt(i,h),Lr("invalid",i);break;case"option":w=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},w=Ee({},h,{value:void 0}),Lr("invalid",i);break;case"textarea":Ge(i,h),w=De(i,h),Lr("invalid",i);break;default:w=h}Io(u,w),ie=w;for(E in ie)if(ie.hasOwnProperty(E)){var de=ie[E];E==="style"?zt(i,de):E==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Dn(i,de)):E==="children"?typeof de=="string"?(u!=="textarea"||de!=="")&&Xr(i,de):typeof de=="number"&&Xr(i,""+de):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?de!=null&&E==="onScroll"&&Lr("scroll",i):de!=null&&B(i,E,de,P))}switch(u){case"input":yt(i),se(i,h,!1);break;case"textarea":yt(i),Mt(i);break;case"option":h.value!=null&&i.setAttribute("value",""+gt(h.value));break;case"select":i.multiple=!!h.multiple,E=h.value,E!=null?Oe(i,!!h.multiple,E,!1):h.defaultValue!=null&&Oe(i,!!h.multiple,h.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=bf)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return On(s),null;case 6:if(i&&s.stateNode!=null)wx(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(u=Fa(yc.current),Fa(xs.current),qf(s)){if(h=s.stateNode,u=s.memoizedProps,h[ws]=s,(E=h.nodeValue!==u)&&(i=pi,i!==null))switch(i.tag){case 3:_f(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&_f(h.nodeValue,u,(i.mode&1)!==0)}E&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[ws]=s,s.stateNode=h}return On(s),null;case 13:if(Fr(Qr),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Mr&&mi!==null&&s.mode&1&&!(s.flags&128))Ew(),Al(),s.flags|=98560,E=!1;else if(E=qf(s),h!==null&&h.dehydrated!==null){if(i===null){if(!E)throw Error(r(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[ws]=s}else Al(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;On(s),E=!1}else Xi!==null&&(Qy(Xi),Xi=null),E=!0;if(!E)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(i===null||Qr.current&1?dn===0&&(dn=3):Jy())),s.updateQueue!==null&&(s.flags|=4),On(s),null);case 4:return Fl(),Ly(i,s),i===null&&uc(s.stateNode.containerInfo),On(s),null;case 10:return cy(s.type._context),On(s),null;case 17:return Zn(s.type)&&xf(),On(s),null;case 19:if(Fr(Qr),E=s.memoizedState,E===null)return On(s),null;if(h=(s.flags&128)!==0,P=E.rendering,P===null)if(h)wc(E,!1);else{if(dn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(P=Af(i),P!==null){for(s.flags|=128,wc(E,!1),h=P.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)E=u,i=h,E.flags&=0xe00002,P=E.alternate,P===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=P.childLanes,E.lanes=P.lanes,E.child=P.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,E.type=P.type,i=P.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Tr(Qr,Qr.current&1|2),s.child}i=i.sibling}E.tail!==null&&Vr()>Wl&&(s.flags|=128,h=!0,wc(E,!1),s.lanes=4194304)}else{if(!h)if(i=Af(P),i!==null){if(s.flags|=128,h=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),wc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!Mr)return On(s),null}else 2*Vr()-E.renderingStartTime>Wl&&u!==0x40000000&&(s.flags|=128,h=!0,wc(E,!1),s.lanes=4194304);E.isBackwards?(P.sibling=s.child,s.child=P):(u=E.last,u!==null?u.sibling=P:s.child=P,E.last=P)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=Vr(),s.sibling=null,u=Qr.current,Tr(Qr,h?u&1|2:u&1),s):(On(s),null);case 22:case 23:return Gy(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?yi&0x40000000&&(On(s),s.subtreeFlags&6&&(s.flags|=8192)):On(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Tq(i,s){switch(iy(s),s.tag){case 1:return Zn(s.type)&&xf(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Fl(),Fr(Jn),Fr(Cn),gy(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return my(s),null;case 13:if(Fr(Qr),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Al()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Fr(Qr),null;case 4:return Fl(),null;case 10:return cy(s.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var $f=!1,In=!1,Aq=typeof WeakSet=="function"?WeakSet:Set,It=null;function Ml(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Yr(i,s,h)}else u.current=null}function Fy(i,s,u){try{u()}catch(h){Yr(i,s,h)}}var xx=!1;function Pq(i,s){if(Gm=Be,i=ew(),Wm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var w=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var P=0,ie=-1,de=-1,Le=0,tt=0,nt=i,Ye=null;t:for(;;){for(var Nt;nt!==u||w!==0&&nt.nodeType!==3||(ie=P+w),nt!==E||h!==0&&nt.nodeType!==3||(de=P+h),nt.nodeType===3&&(P+=nt.nodeValue.length),(Nt=nt.firstChild)!==null;)Ye=nt,nt=Nt;for(;;){if(nt===i)break t;if(Ye===u&&++Le===w&&(ie=P),Ye===E&&++tt===h&&(de=P),(Nt=nt.nextSibling)!==null)break;nt=Ye,Ye=nt.parentNode}nt=Nt}u=ie===-1||de===-1?null:{start:ie,end:de}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jm={focusedElem:i,selectionRange:u},Be=!1,It=s;It!==null;)if(s=It,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,It=i;else for(;It!==null;){s=It;try{var Tt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Tt!==null){var Lt=Tt.memoizedProps,tn=Tt.memoizedState,ke=s.stateNode,ge=ke.getSnapshotBeforeUpdate(s.elementType===s.type?Lt:Yi(s.type,Lt),tn);ke.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Ie=s.stateNode.containerInfo;Ie.nodeType===1?Ie.textContent="":Ie.nodeType===9&&Ie.documentElement&&Ie.removeChild(Ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){Yr(s,s.return,ot)}if(i=s.sibling,i!==null){i.return=s.return,It=i;break}It=s.return}return Tt=xx,xx=!1,Tt}function xc(i,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&i)===i){var E=w.destroy;w.destroy=void 0,E!==void 0&&Fy(s,u,E)}w=w.next}while(w!==h)}}function Uf(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function Dy(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Sx(i){var s=i.alternate;s!==null&&(i.alternate=null,Sx(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ws],delete s[dc],delete s[ey],delete s[yq],delete s[gq])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ex(i){return i.tag===5||i.tag===3||i.tag===4}function Nx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ex(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function My(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=bf));else if(h!==4&&(i=i.child,i!==null))for(My(i,s,u),i=i.sibling;i!==null;)My(i,s,u),i=i.sibling}function By(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(By(i,s,u),i=i.sibling;i!==null;)By(i,s,u),i=i.sibling}var xn=null,es=!1;function Wo(i,s,u){for(u=u.child;u!==null;)kx(i,s,u),u=u.sibling}function kx(i,s,u){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(bl,u)}catch{}switch(u.tag){case 5:In||Ml(u,s);case 6:var h=xn,w=es;xn=null,Wo(i,s,u),xn=h,es=w,xn!==null&&(es?(i=xn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):xn.removeChild(u.stateNode));break;case 18:xn!==null&&(es?(i=xn,u=u.stateNode,i.nodeType===8?Ym(i.parentNode,u):i.nodeType===1&&Ym(i,u),_e(i)):Ym(xn,u.stateNode));break;case 4:h=xn,w=es,xn=u.stateNode.containerInfo,es=!0,Wo(i,s,u),xn=h,es=w;break;case 0:case 11:case 14:case 15:if(!In&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){w=h=h.next;do{var E=w,P=E.destroy;E=E.tag,P!==void 0&&(E&2||E&4)&&Fy(u,s,P),w=w.next}while(w!==h)}Wo(i,s,u);break;case 1:if(!In&&(Ml(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(ie){Yr(u,s,ie)}Wo(i,s,u);break;case 21:Wo(i,s,u);break;case 22:u.mode&1?(In=(h=In)||u.memoizedState!==null,Wo(i,s,u),In=h):Wo(i,s,u);break;default:Wo(i,s,u)}}function qx(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Aq),s.forEach(function(h){var w=Uq.bind(null,i,h);u.has(h)||(u.add(h),h.then(w,w))})}}function ts(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var w=u[h];try{var E=i,P=s,ie=P;e:for(;ie!==null;){switch(ie.tag){case 5:xn=ie.stateNode,es=!1;break e;case 3:xn=ie.stateNode.containerInfo,es=!0;break e;case 4:xn=ie.stateNode.containerInfo,es=!0;break e}ie=ie.return}if(xn===null)throw Error(r(160));kx(E,P,w),xn=null,es=!1;var de=w.alternate;de!==null&&(de.return=null),w.return=null}catch(Le){Yr(w,s,Le)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Cx(s,i),s=s.sibling}function Cx(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ts(s,i),Es(i),h&4){try{xc(3,i,i.return),Uf(3,i)}catch(Lt){Yr(i,i.return,Lt)}try{xc(5,i,i.return)}catch(Lt){Yr(i,i.return,Lt)}}break;case 1:ts(s,i),Es(i),h&512&&u!==null&&Ml(u,u.return);break;case 5:if(ts(s,i),Es(i),h&512&&u!==null&&Ml(u,u.return),i.flags&32){var w=i.stateNode;try{Xr(w,"")}catch(Lt){Yr(i,i.return,Lt)}}if(h&4&&(w=i.stateNode,w!=null)){var E=i.memoizedProps,P=u!==null?u.memoizedProps:E,ie=i.type,de=i.updateQueue;if(i.updateQueue=null,de!==null)try{ie==="input"&&E.type==="radio"&&E.name!=null&&er(w,E),To(ie,P);var Le=To(ie,E);for(P=0;P<de.length;P+=2){var tt=de[P],nt=de[P+1];tt==="style"?zt(w,nt):tt==="dangerouslySetInnerHTML"?Dn(w,nt):tt==="children"?Xr(w,nt):B(w,tt,nt,Le)}switch(ie){case"input":ur(w,E);break;case"textarea":_t(w,E);break;case"select":var Ye=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Nt=E.value;Nt!=null?Oe(w,!!E.multiple,Nt,!1):Ye!==!!E.multiple&&(E.defaultValue!=null?Oe(w,!!E.multiple,E.defaultValue,!0):Oe(w,!!E.multiple,E.multiple?[]:"",!1))}w[dc]=E}catch(Lt){Yr(i,i.return,Lt)}}break;case 6:if(ts(s,i),Es(i),h&4){if(i.stateNode===null)throw Error(r(162));w=i.stateNode,E=i.memoizedProps;try{w.nodeValue=E}catch(Lt){Yr(i,i.return,Lt)}}break;case 3:if(ts(s,i),Es(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{_e(s.containerInfo)}catch(Lt){Yr(i,i.return,Lt)}break;case 4:ts(s,i),Es(i);break;case 13:ts(s,i),Es(i),w=i.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Uy=Vr())),h&4&&qx(i);break;case 22:if(tt=u!==null&&u.memoizedState!==null,i.mode&1?(In=(Le=In)||tt,ts(s,i),In=Le):ts(s,i),Es(i),h&8192){if(Le=i.memoizedState!==null,(i.stateNode.isHidden=Le)&&!tt&&i.mode&1)for(It=i,tt=i.child;tt!==null;){for(nt=It=tt;It!==null;){switch(Ye=It,Nt=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:xc(4,Ye,Ye.return);break;case 1:Ml(Ye,Ye.return);var Tt=Ye.stateNode;if(typeof Tt.componentWillUnmount=="function"){h=Ye,u=Ye.return;try{s=h,Tt.props=s.memoizedProps,Tt.state=s.memoizedState,Tt.componentWillUnmount()}catch(Lt){Yr(h,u,Lt)}}break;case 5:Ml(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){Ix(nt);continue}}Nt!==null?(Nt.return=Ye,It=Nt):Ix(nt)}tt=tt.sibling}e:for(tt=null,nt=i;;){if(nt.tag===5){if(tt===null){tt=nt;try{w=nt.stateNode,Le?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(ie=nt.stateNode,de=nt.memoizedProps.style,P=de!=null&&de.hasOwnProperty("display")?de.display:null,ie.style.display=bn("display",P))}catch(Lt){Yr(i,i.return,Lt)}}}else if(nt.tag===6){if(tt===null)try{nt.stateNode.nodeValue=Le?"":nt.memoizedProps}catch(Lt){Yr(i,i.return,Lt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;tt===nt&&(tt=null),nt=nt.return}tt===nt&&(tt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:ts(s,i),Es(i),h&4&&qx(i);break;case 21:break;default:ts(s,i),Es(i)}}function Es(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(Ex(u)){var h=u;break e}u=u.return}throw Error(r(160))}switch(h.tag){case 5:var w=h.stateNode;h.flags&32&&(Xr(w,""),h.flags&=-33);var E=Nx(i);By(i,E,w);break;case 3:case 4:var P=h.stateNode.containerInfo,ie=Nx(i);My(i,ie,P);break;default:throw Error(r(161))}}catch(de){Yr(i,i.return,de)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function jq(i,s,u){It=i,Rx(i)}function Rx(i,s,u){for(var h=(i.mode&1)!==0;It!==null;){var w=It,E=w.child;if(w.tag===22&&h){var P=w.memoizedState!==null||$f;if(!P){var ie=w.alternate,de=ie!==null&&ie.memoizedState!==null||In;ie=$f;var Le=In;if($f=P,(In=de)&&!Le)for(It=w;It!==null;)P=It,de=P.child,P.tag===22&&P.memoizedState!==null?Tx(w):de!==null?(de.return=P,It=de):Tx(w);for(;E!==null;)It=E,Rx(E),E=E.sibling;It=w,$f=ie,In=Le}Ox(i)}else w.subtreeFlags&8772&&E!==null?(E.return=w,It=E):Ox(i)}}function Ox(i){for(;It!==null;){var s=It;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:In||Uf(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!In)if(u===null)h.componentDidMount();else{var w=s.elementType===s.type?u.memoizedProps:Yi(s.type,u.memoizedProps);h.componentDidUpdate(w,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var E=s.updateQueue;E!==null&&Iw(s,E,h);break;case 3:var P=s.updateQueue;if(P!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Iw(s,P,u)}break;case 5:var ie=s.stateNode;if(u===null&&s.flags&4){u=ie;var de=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&u.focus();break;case"img":de.src&&(u.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Le=s.alternate;if(Le!==null){var tt=Le.memoizedState;if(tt!==null){var nt=tt.dehydrated;nt!==null&&_e(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}In||s.flags&512&&Dy(s)}catch(Ye){Yr(s,s.return,Ye)}}if(s===i){It=null;break}if(u=s.sibling,u!==null){u.return=s.return,It=u;break}It=s.return}}function Ix(i){for(;It!==null;){var s=It;if(s===i){It=null;break}var u=s.sibling;if(u!==null){u.return=s.return,It=u;break}It=s.return}}function Tx(i){for(;It!==null;){var s=It;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Uf(4,s)}catch(de){Yr(s,u,de)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var w=s.return;try{h.componentDidMount()}catch(de){Yr(s,w,de)}}var E=s.return;try{Dy(s)}catch(de){Yr(s,E,de)}break;case 5:var P=s.return;try{Dy(s)}catch(de){Yr(s,P,de)}}}catch(de){Yr(s,s.return,de)}if(s===i){It=null;break}var ie=s.sibling;if(ie!==null){ie.return=s.return,It=ie;break}It=s.return}}var Lq=Math.ceil,zf=z.ReactCurrentDispatcher,Wy=z.ReactCurrentOwner,Mi=z.ReactCurrentBatchConfig,hr=0,mn=null,an=null,Sn=0,yi=0,Bl=Lo(0),dn=0,Sc=null,Ma=0,Vf=0,$y=0,Ec=null,Yn=null,Uy=0,Wl=1/0,Ys=null,Hf=!1,zy=null,$o=null,Qf=!1,Uo=null,Kf=0,Nc=0,Vy=null,Gf=-1,Jf=0;function Bn(){return hr&6?Vr():Gf!==-1?Gf:Gf=Vr()}function zo(i){return i.mode&1?hr&2&&Sn!==0?Sn&-Sn:_q.transition!==null?(Jf===0&&(Jf=df()),Jf):(i=yr,i!==0||(i=window.event,i=i===void 0?16:fe(i.type)),i):1}function rs(i,s,u,h){if(50<Nc)throw Nc=0,Vy=null,Error(r(185));Oa(i,u,h),(!(hr&2)||i!==mn)&&(i===mn&&(!(hr&2)&&(Vf|=u),dn===4&&Vo(i,Sn)),ei(i,h),u===1&&hr===0&&!(s.mode&1)&&(Wl=Vr()+500,Ef&&Do()))}function ei(i,s){var u=i.callbackNode;Am(i,s);var h=xl(i,i===mn?Sn:0);if(h===0)u!==null&&Ku(u),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(u!=null&&Ku(u),s===1)i.tag===0?vq(Px.bind(null,i)):_w(Px.bind(null,i)),pq(function(){!(hr&6)&&Do()}),u=null;else{switch(ff(h)){case 1:u=Gu;break;case 4:u=uf;break;case 16:u=_l;break;case 0x20000000:u=cf;break;default:u=_l}u=$x(u,Ax.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Ax(i,s){if(Gf=-1,Jf=0,hr&6)throw Error(r(327));var u=i.callbackNode;if($l()&&i.callbackNode!==u)return null;var h=xl(i,i===mn?Sn:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=Zf(i,h);else{s=h;var w=hr;hr|=2;var E=Lx();(mn!==i||Sn!==s)&&(Ys=null,Wl=Vr()+500,Wa(i,s));do try{Mq();break}catch(ie){jx(i,ie)}while(!0);uy(),zf.current=E,hr=w,an!==null?s=0:(mn=null,Sn=0,s=dn)}if(s!==0){if(s===2&&(w=Ju(i),w!==0&&(h=w,s=Hy(i,w))),s===1)throw u=Sc,Wa(i,0),Vo(i,h),ei(i,Vr()),u;if(s===6)Vo(i,h);else{if(w=i.current.alternate,!(h&30)&&!Fq(w)&&(s=Zf(i,h),s===2&&(E=Ju(i),E!==0&&(h=E,s=Hy(i,E))),s===1))throw u=Sc,Wa(i,0),Vo(i,h),ei(i,Vr()),u;switch(i.finishedWork=w,i.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:$a(i,Yn,Ys);break;case 3:if(Vo(i,h),(h&0x7c00000)===h&&(s=Uy+500-Vr(),10<s)){if(xl(i,0)!==0)break;if(w=i.suspendedLanes,(w&h)!==h){Bn(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Xm($a.bind(null,i,Yn,Ys),s);break}$a(i,Yn,Ys);break;case 4:if(Vo(i,h),(h&4194240)===h)break;for(s=i.eventTimes,w=-1;0<h;){var P=31-Gn(h);E=1<<P,P=s[P],P>w&&(w=P),h&=~E}if(h=w,h=Vr()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Lq(h/1960))-h,10<h){i.timeoutHandle=Xm($a.bind(null,i,Yn,Ys),h);break}$a(i,Yn,Ys);break;case 5:$a(i,Yn,Ys);break;default:throw Error(r(329))}}}return ei(i,Vr()),i.callbackNode===u?Ax.bind(null,i):null}function Hy(i,s){var u=Ec;return i.current.memoizedState.isDehydrated&&(Wa(i,s).flags|=256),i=Zf(i,s),i!==2&&(s=Yn,Yn=u,s!==null&&Qy(s)),i}function Qy(i){Yn===null?Yn=i:Yn.push.apply(Yn,i)}function Fq(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var w=u[h],E=w.getSnapshot;w=w.value;try{if(!Zi(E(),w))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vo(i,s){for(s&=~$y,s&=~Vf,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Gn(s),h=1<<u;i[u]=-1,s&=~h}}function Px(i){if(hr&6)throw Error(r(327));$l();var s=xl(i,0);if(!(s&1))return ei(i,Vr()),null;var u=Zf(i,s);if(i.tag!==0&&u===2){var h=Ju(i);h!==0&&(s=h,u=Hy(i,h))}if(u===1)throw u=Sc,Wa(i,0),Vo(i,s),ei(i,Vr()),u;if(u===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,$a(i,Yn,Ys),ei(i,Vr()),null}function Ky(i,s){var u=hr;hr|=1;try{return i(s)}finally{hr=u,hr===0&&(Wl=Vr()+500,Ef&&Do())}}function Ba(i){Uo!==null&&Uo.tag===0&&!(hr&6)&&$l();var s=hr;hr|=1;var u=Mi.transition,h=yr;try{if(Mi.transition=null,yr=1,i)return i()}finally{yr=h,Mi.transition=u,hr=s,!(hr&6)&&Do()}}function Gy(){yi=Bl.current,Fr(Bl)}function Wa(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,hq(u)),an!==null)for(u=an.return;u!==null;){var h=u;switch(iy(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&xf();break;case 3:Fl(),Fr(Jn),Fr(Cn),gy();break;case 5:my(h);break;case 4:Fl();break;case 13:Fr(Qr);break;case 19:Fr(Qr);break;case 10:cy(h.type._context);break;case 22:case 23:Gy()}u=u.return}if(mn=i,an=i=Ho(i.current,null),Sn=yi=s,dn=0,Sc=null,$y=Vf=Ma=0,Yn=Ec=null,La!==null){for(s=0;s<La.length;s++)if(u=La[s],h=u.interleaved,h!==null){u.interleaved=null;var w=h.next,E=u.pending;if(E!==null){var P=E.next;E.next=w,h.next=P}u.pending=h}La=null}return i}function jx(i,s){do{var u=an;try{if(uy(),Pf.current=Df,jf){for(var h=Kr.memoizedState;h!==null;){var w=h.queue;w!==null&&(w.pending=null),h=h.next}jf=!1}if(Da=0,pn=cn=Kr=null,gc=!1,vc=0,Wy.current=null,u===null||u.return===null){dn=1,Sc=s,an=null;break}e:{var E=i,P=u.return,ie=u,de=s;if(s=Sn,ie.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Le=de,tt=ie,nt=tt.tag;if(!(tt.mode&1)&&(nt===0||nt===11||nt===15)){var Ye=tt.alternate;Ye?(tt.updateQueue=Ye.updateQueue,tt.memoizedState=Ye.memoizedState,tt.lanes=Ye.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var Nt=ox(P);if(Nt!==null){Nt.flags&=-257,ax(Nt,P,ie,E,s),Nt.mode&1&&sx(E,Le,s),s=Nt,de=Le;var Tt=s.updateQueue;if(Tt===null){var Lt=new Set;Lt.add(de),s.updateQueue=Lt}else Tt.add(de);break e}else{if(!(s&1)){sx(E,Le,s),Jy();break e}de=Error(r(426))}}else if(Mr&&ie.mode&1){var tn=ox(P);if(tn!==null){!(tn.flags&65536)&&(tn.flags|=256),ax(tn,P,ie,E,s),ay(Dl(de,ie));break e}}E=de=Dl(de,ie),dn!==4&&(dn=2),Ec===null?Ec=[E]:Ec.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,s&=-s,E.lanes|=s;var ke=nx(E,de,s);Ow(E,ke);break e;case 1:ie=de;var ge=E.type,Ie=E.stateNode;if(!(E.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&($o===null||!$o.has(Ie)))){E.flags|=65536,s&=-s,E.lanes|=s;var ot=ix(E,ie,s);Ow(E,ot);break e}}E=E.return}while(E!==null)}Dx(u)}catch(Ft){s=Ft,an===u&&u!==null&&(an=u=u.return);continue}break}while(!0)}function Lx(){var i=zf.current;return zf.current=Df,i===null?Df:i}function Jy(){(dn===0||dn===3||dn===2)&&(dn=4),mn===null||!(Ma&0xfffffff)&&!(Vf&0xfffffff)||Vo(mn,Sn)}function Zf(i,s){var u=hr;hr|=2;var h=Lx();(mn!==i||Sn!==s)&&(Ys=null,Wa(i,s));do try{Dq();break}catch(w){jx(i,w)}while(!0);if(uy(),hr=u,zf.current=h,an!==null)throw Error(r(261));return mn=null,Sn=0,dn}function Dq(){for(;an!==null;)Fx(an)}function Mq(){for(;an!==null&&!Em();)Fx(an)}function Fx(i){var s=Wx(i.alternate,i,yi);i.memoizedProps=i.pendingProps,s===null?Dx(i):an=s,Wy.current=null}function Dx(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=Tq(u,s),u!==null){u.flags&=32767,an=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{dn=6,an=null;return}}else if(u=Iq(u,s,yi),u!==null){an=u;return}if(s=s.sibling,s!==null){an=s;return}an=s=i}while(s!==null);dn===0&&(dn=5)}function $a(i,s,u){var h=yr,w=Mi.transition;try{Mi.transition=null,yr=1,Bq(i,s,u,h)}finally{Mi.transition=w,yr=h}return null}function Bq(i,s,u,h){do $l();while(Uo!==null);if(hr&6)throw Error(r(327));u=i.finishedWork;var w=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var E=u.lanes|u.childLanes;if(Pm(i,E),i===mn&&(an=mn=null,Sn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Qf||(Qf=!0,$x(_l,function(){return $l(),null})),E=(u.flags&15990)!==0,u.subtreeFlags&15990||E){E=Mi.transition,Mi.transition=null;var P=yr;yr=1;var ie=hr;hr|=4,Wy.current=null,Pq(i,u),Cx(u,i),oq(Jm),Be=!!Gm,Jm=Gm=null,i.current=u,jq(u),Nm(),hr=ie,yr=P,Mi.transition=E}else i.current=u;if(Qf&&(Qf=!1,Uo=i,Kf=w),E=i.pendingLanes,E===0&&($o=null),Cm(u.stateNode),ei(i,Vr()),s!==null)for(h=i.onRecoverableError,u=0;u<s.length;u++)w=s[u],h(w.value,{componentStack:w.stack,digest:w.digest});if(Hf)throw Hf=!1,i=zy,zy=null,i;return Kf&1&&i.tag!==0&&$l(),E=i.pendingLanes,E&1?i===Vy?Nc++:(Nc=0,Vy=i):Nc=0,Do(),null}function $l(){if(Uo!==null){var i=ff(Kf),s=Mi.transition,u=yr;try{if(Mi.transition=null,yr=16>i?16:i,Uo===null)var h=!1;else{if(i=Uo,Uo=null,Kf=0,hr&6)throw Error(r(331));var w=hr;for(hr|=4,It=i.current;It!==null;){var E=It,P=E.child;if(It.flags&16){var ie=E.deletions;if(ie!==null){for(var de=0;de<ie.length;de++){var Le=ie[de];for(It=Le;It!==null;){var tt=It;switch(tt.tag){case 0:case 11:case 15:xc(8,tt,E)}var nt=tt.child;if(nt!==null)nt.return=tt,It=nt;else for(;It!==null;){tt=It;var Ye=tt.sibling,Nt=tt.return;if(Sx(tt),tt===Le){It=null;break}if(Ye!==null){Ye.return=Nt,It=Ye;break}It=Nt}}}var Tt=E.alternate;if(Tt!==null){var Lt=Tt.child;if(Lt!==null){Tt.child=null;do{var tn=Lt.sibling;Lt.sibling=null,Lt=tn}while(Lt!==null)}}It=E}}if(E.subtreeFlags&2064&&P!==null)P.return=E,It=P;else e:for(;It!==null;){if(E=It,E.flags&2048)switch(E.tag){case 0:case 11:case 15:xc(9,E,E.return)}var ke=E.sibling;if(ke!==null){ke.return=E.return,It=ke;break e}It=E.return}}var ge=i.current;for(It=ge;It!==null;){P=It;var Ie=P.child;if(P.subtreeFlags&2064&&Ie!==null)Ie.return=P,It=Ie;else e:for(P=ge;It!==null;){if(ie=It,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:Uf(9,ie)}}catch(Ft){Yr(ie,ie.return,Ft)}if(ie===P){It=null;break e}var ot=ie.sibling;if(ot!==null){ot.return=ie.return,It=ot;break e}It=ie.return}}if(hr=w,Do(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(bl,i)}catch{}h=!0}return h}finally{yr=u,Mi.transition=s}}return!1}function Mx(i,s,u){s=Dl(u,s),s=nx(i,s,1),i=Bo(i,s,1),s=Bn(),i!==null&&(Oa(i,1,s),ei(i,s))}function Yr(i,s,u){if(i.tag===3)Mx(i,i,u);else for(;s!==null;){if(s.tag===3){Mx(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($o===null||!$o.has(h))){i=Dl(u,i),i=ix(s,i,1),s=Bo(s,i,1),i=Bn(),s!==null&&(Oa(s,1,i),ei(s,i));break}}s=s.return}}function Wq(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),s=Bn(),i.pingedLanes|=i.suspendedLanes&u,mn===i&&(Sn&u)===u&&(dn===4||dn===3&&(Sn&0x7c00000)===Sn&&500>Vr()-Uy?Wa(i,0):$y|=u),ei(i,s)}function Bx(i,s){s===0&&(i.mode&1?(s=wl,wl<<=1,!(wl&0x7c00000)&&(wl=4194304)):s=1);var u=Bn();i=Js(i,s),i!==null&&(Oa(i,s,u),ei(i,u))}function $q(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Bx(i,u)}function Uq(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),Bx(i,u)}var Wx;Wx=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Jn.current)Xn=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Xn=!1,Oq(i,s,u);Xn=!!(i.flags&131072)}else Xn=!1,Mr&&s.flags&1048576&&bw(s,kf,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Wf(i,s),i=s.pendingProps;var w=Ol(s,Cn.current);Ll(s,u),w=by(null,s,h,i,w,u);var E=wy();return s.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zn(h)?(E=!0,Sf(s)):E=!1,s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,hy(s),w.updater=Mf,s.stateNode=w,w._reactInternals=s,qy(s,h,i,u),s=Iy(null,s,h,!0,E,u)):(s.tag=0,Mr&&E&&ny(s),Mn(null,s,w,u),s=s.child),s;case 16:h=s.elementType;e:{switch(Wf(i,s),i=s.pendingProps,w=h._init,h=w(h._payload),s.type=h,w=s.tag=Vq(h),i=Yi(h,i),w){case 0:s=Oy(null,s,h,i,u);break e;case 1:s=hx(null,s,h,i,u);break e;case 11:s=lx(null,s,h,i,u);break e;case 14:s=ux(null,s,h,Yi(h.type,i),u);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Yi(h,w),Oy(i,s,h,w,u);case 1:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Yi(h,w),hx(i,s,h,w,u);case 3:e:{if(px(s),i===null)throw Error(r(387));h=s.pendingProps,E=s.memoizedState,w=E.element,Rw(i,s),Tf(s,h,null,u);var P=s.memoizedState;if(h=P.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){w=Dl(Error(r(423)),s),s=mx(i,s,h,u,w);break e}else if(h!==w){w=Dl(Error(r(424)),s),s=mx(i,s,h,u,w);break e}else for(mi=jo(s.stateNode.containerInfo.firstChild),pi=s,Mr=!0,Xi=null,u=qw(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Al(),h===w){s=Xs(i,s,u);break e}Mn(i,s,h,u)}s=s.child}return s;case 5:return Tw(s),i===null&&oy(s),h=s.type,w=s.pendingProps,E=i!==null?i.memoizedProps:null,P=w.children,Zm(h,w)?P=null:E!==null&&Zm(h,E)&&(s.flags|=32),fx(i,s),Mn(i,s,P,u),s.child;case 6:return i===null&&oy(s),null;case 13:return yx(i,s,u);case 4:return py(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Pl(s,null,h,u):Mn(i,s,h,u),s.child;case 11:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Yi(h,w),lx(i,s,h,w,u);case 7:return Mn(i,s,s.pendingProps,u),s.child;case 8:return Mn(i,s,s.pendingProps.children,u),s.child;case 12:return Mn(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,w=s.pendingProps,E=s.memoizedProps,P=w.value,Tr(Rf,h._currentValue),h._currentValue=P,E!==null)if(Zi(E.value,P)){if(E.children===w.children&&!Jn.current){s=Xs(i,s,u);break e}}else for(E=s.child,E!==null&&(E.return=s);E!==null;){var ie=E.dependencies;if(ie!==null){P=E.child;for(var de=ie.firstContext;de!==null;){if(de.context===h){if(E.tag===1){de=Zs(-1,u&-u),de.tag=2;var Le=E.updateQueue;if(Le!==null){Le=Le.shared;var tt=Le.pending;tt===null?de.next=de:(de.next=tt.next,tt.next=de),Le.pending=de}}E.lanes|=u,de=E.alternate,de!==null&&(de.lanes|=u),dy(E.return,u,s),ie.lanes|=u;break}de=de.next}}else if(E.tag===10)P=E.type===s.type?null:E.child;else if(E.tag===18){if(P=E.return,P===null)throw Error(r(341));P.lanes|=u,ie=P.alternate,ie!==null&&(ie.lanes|=u),dy(P,u,s),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===s){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}Mn(i,s,w.children,u),s=s.child}return s;case 9:return w=s.type,h=s.pendingProps.children,Ll(s,u),w=Fi(w),h=h(w),s.flags|=1,Mn(i,s,h,u),s.child;case 14:return h=s.type,w=Yi(h,s.pendingProps),w=Yi(h.type,w),ux(i,s,h,w,u);case 15:return cx(i,s,s.type,s.pendingProps,u);case 17:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Yi(h,w),Wf(i,s),s.tag=1,Zn(h)?(i=!0,Sf(s)):i=!1,Ll(s,u),tx(s,h,w),qy(s,h,w,u),Iy(null,s,h,!0,i,u);case 19:return vx(i,s,u);case 22:return dx(i,s,u)}throw Error(r(156,s.tag))};function $x(i,s){return lf(i,s)}function zq(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(i,s,u,h){return new zq(i,s,u,h)}function Zy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vq(i){if(typeof i=="function")return Zy(i)?1:0;if(i!=null){if(i=i.$$typeof,i===re)return 11;if(i===Re)return 14}return 2}function Ho(i,s){var u=i.alternate;return u===null?(u=Bi(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&0xe00000,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Xf(i,s,u,h,w,E){var P=2;if(h=i,typeof i=="function")Zy(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case Q:return Ua(u.children,w,E,s);case ue:P=8,w|=8;break;case V:return i=Bi(12,u,s,w|2),i.elementType=V,i.lanes=E,i;case Z:return i=Bi(13,u,s,w),i.elementType=Z,i.lanes=E,i;case pe:return i=Bi(19,u,s,w),i.elementType=pe,i.lanes=E,i;case je:return Yf(u,w,E,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:P=10;break e;case M:P=9;break e;case re:P=11;break e;case Re:P=14;break e;case Ce:P=16,h=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return s=Bi(P,u,s,w),s.elementType=i,s.type=h,s.lanes=E,s}function Ua(i,s,u,h){return i=Bi(7,i,h,s),i.lanes=u,i}function Yf(i,s,u,h){return i=Bi(22,i,h,s),i.elementType=je,i.lanes=u,i.stateNode={isHidden:!1},i}function Xy(i,s,u){return i=Bi(6,i,null,s),i.lanes=u,i}function Yy(i,s,u){return s=Bi(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Hq(i,s,u,h,w){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zu(0),this.expirationTimes=Zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.identifierPrefix=h,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function eg(i,s,u,h,w,E,P,ie,de){return i=new Hq(i,s,u,ie,de),s===1?(s=1,E===!0&&(s|=8)):s=0,E=Bi(3,null,null,s),i.current=E,E.stateNode=i,E.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(E),i}function Qq(i,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:h==null?null:""+h,children:i,containerInfo:s,implementation:u}}function Ux(i){if(!i)return Fo;i=i._reactInternals;e:{if(zs(i)!==i||i.tag!==1)throw Error(r(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(i.tag===1){var u=i.type;if(Zn(u))return gw(i,u,s)}return s}function zx(i,s,u,h,w,E,P,ie,de){return i=eg(u,h,!0,i,w,E,P,ie,de),i.context=Ux(null),u=i.current,h=Bn(),w=zo(u),E=Zs(h,w),E.callback=s??null,Bo(u,E,w),i.current.lanes=w,Oa(i,w,h),ei(i,h),i}function eh(i,s,u,h){var w=s.current,E=Bn(),P=zo(w);return u=Ux(u),s.context===null?s.context=u:s.pendingContext=u,s=Zs(E,P),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Bo(w,s,P),i!==null&&(rs(i,w,P,E),If(i,w,P)),P}function th(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Vx(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function tg(i,s){Vx(i,s),(i=i.alternate)&&Vx(i,s)}function Kq(){return null}var Hx=typeof reportError=="function"?reportError:function(i){console.error(i)};function rg(i){this._internalRoot=i}rh.prototype.render=rg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));eh(i,s,null,null)},rh.prototype.unmount=rg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ba(function(){eh(null,i,null,null)}),s[Hs]=null}};function rh(i){this._internalRoot=i}rh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ia();i={blockedOn:null,target:i,priority:s};for(var u=0;u<te.length&&s!==0&&s<te[u].priority;u++);te.splice(u,0,i),u===0&&Te(i)}};function ng(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Qx(){}function Gq(i,s,u,h,w){if(w){if(typeof h=="function"){var E=h;h=function(){var Le=th(P);E.call(Le)}}var P=zx(s,h,i,0,null,!1,!1,"",Qx);return i._reactRootContainer=P,i[Hs]=P.current,uc(i.nodeType===8?i.parentNode:i),Ba(),P}for(;w=i.lastChild;)i.removeChild(w);if(typeof h=="function"){var ie=h;h=function(){var Le=th(de);ie.call(Le)}}var de=eg(i,0,!1,null,null,!1,!1,"",Qx);return i._reactRootContainer=de,i[Hs]=de.current,uc(i.nodeType===8?i.parentNode:i),Ba(function(){eh(s,de,u,h)}),de}function ih(i,s,u,h,w){var E=u._reactRootContainer;if(E){var P=E;if(typeof w=="function"){var ie=w;w=function(){var de=th(P);ie.call(de)}}eh(s,P,i,w)}else P=Gq(u,s,i,w,h);return th(P)}Yu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Ji(s.pendingLanes);u!==0&&(Xu(s,u|1),ei(s,Vr()),!(hr&6)&&(Wl=Vr()+500,Do()))}break;case 13:Ba(function(){var h=Js(i,1);if(h!==null){var w=Bn();rs(h,i,1,w)}}),tg(i,1)}},ee=function(i){if(i.tag===13){var s=Js(i,0x8000000);if(s!==null){var u=Bn();rs(s,i,0x8000000,u)}tg(i,0x8000000)}},ec=function(i){if(i.tag===13){var s=zo(i),u=Js(i,s);if(u!==null){var h=Bn();rs(u,i,s,h)}tg(i,s)}},Ia=function(){return yr},tc=function(i,s){var u=yr;try{return yr=i,s()}finally{yr=u}},Vu=function(i,s,u){switch(s){case"input":if(ur(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var w=wf(h);if(!w)throw Error(r(90));Rt(h),ur(h,w)}}}break;case"textarea":_t(i,u);break;case"select":s=u.value,s!=null&&Oe(i,!!u.multiple,s,!1)}},tf=Ky,rf=Ba;var Jq={usingClientEntryPoint:!1,Events:[fc,Cl,wf,Xt,ef,Ky]},kc={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zq={bundleType:kc.bundleType,version:kc.version,rendererPackageName:kc.rendererPackageName,rendererConfig:kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=of(i),i===null?null:i.stateNode},findFiberByHostInstance:kc.findFiberByHostInstance||Kq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{bl=sh.inject(Zq),Ai=sh}catch{}}return ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jq,ti.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ng(s))throw Error(r(200));return Qq(i,s,null,u)},ti.createRoot=function(i,s){if(!ng(i))throw Error(r(299));var u=!1,h="",w=Hx;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=eg(i,1,!1,null,null,u,!1,h,w),i[Hs]=s.current,uc(i.nodeType===8?i.parentNode:i),new rg(s)},ti.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=of(s),i=i===null?null:i.stateNode,i},ti.flushSync=function(i){return Ba(i)},ti.hydrate=function(i,s,u){if(!nh(s))throw Error(r(200));return ih(null,i,s,!0,u)},ti.hydrateRoot=function(i,s,u){if(!ng(i))throw Error(r(405));var h=u!=null&&u.hydratedSources||null,w=!1,E="",P=Hx;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),s=zx(s,null,i,1,u??null,w,!1,E,P),i[Hs]=s.current,uc(i),h)for(i=0;i<h.length;i++)u=h[i],w=u._getVersion,w=w(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,w]:s.mutableSourceEagerHydrationData.push(u,w);return new rh(s)},ti.render=function(i,s,u){if(!nh(s))throw Error(r(200));return ih(null,i,s,!1,u)},ti.unmountComponentAtNode=function(i){if(!nh(i))throw Error(r(40));return i._reactRootContainer?(Ba(function(){ih(null,null,i,!1,function(){i._reactRootContainer=null,i[Hs]=null})}),!0):!1},ti.unstable_batchedUpdates=Ky,ti.unstable_renderSubtreeIntoContainer=function(i,s,u,h){if(!nh(u))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return ih(i,s,u,!1,h)},ti.version="18.3.1-next-f1338f8080-20240426",ti}var E0;function DN(){if(E0)return mg.exports;E0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mg.exports=IR(),mg.exports}var I_=DN();const TR="Error preloading route! ☝️";function AR(t,e){const r=ki(),[n,o]=G.useState(!1),a=G.useRef(!1),l=iR(e),{activeProps:c=()=>({className:"active"}),inactiveProps:p=()=>({}),activeOptions:m,to:b,preload:x,preloadDelay:N,hashScrollIntoView:R,replace:q,startTransition:C,resetScroll:T,viewTransition:F,children:j,target:B,disabled:z,style:K,className:W,onClick:Q,onFocus:ue,onMouseEnter:V,onMouseLeave:ne,onTouchStart:M,ignoreBlocker:re,...Z}=t,{params:pe,search:Re,hash:Ce,state:je,mask:ve,reloadDocument:me,...Ee}=Z,H=G.useMemo(()=>{try{return new URL(`${b}`),"external"}catch{}return"internal"},[b]),xe=Vn({select:ye=>ye.location.search,structuralSharing:!0});t={from:ha({strict:!1,select:ye=>ye.pathname}),...t};const at=G.useMemo(()=>r.buildLocation(t),[r,t,xe]),dt=G.useMemo(()=>t.reloadDocument?!1:x??r.options.defaultPreload,[r.options.defaultPreload,x,t.reloadDocument]),mt=N??r.options.defaultPreloadDelay??0,ft=Vn({select:ye=>{if(m?.exact){if(!oR(ye.location.pathname,at.pathname,r.basepath))return!1}else{const Oe=Gh(ye.location.pathname,r.basepath).split("/");if(!Gh(at.pathname,r.basepath).split("/").every((_t,Mt)=>_t===Oe[Mt]))return!1}return(m?.includeSearch??!0)&&!ou(ye.location.search,at.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ye.location.hash===at.hash:!0}}),gt=G.useCallback(()=>{r.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(TR)})},[t,r]),At=G.useCallback(ye=>{ye?.isIntersecting&&gt()},[gt]);if(nR(l,At,{rootMargin:"100px"},{disabled:!!z||dt!=="viewport"}),jc(()=>{a.current||!z&&dt==="render"&&(gt(),a.current=!0)},[z,gt,dt]),H==="external")return{...Ee,ref:l,type:H,href:b,...j&&{children:j},...B&&{target:B},...z&&{disabled:z},...K&&{style:K},...W&&{className:W},...Q&&{onClick:Q},...ue&&{onFocus:ue},...V&&{onMouseEnter:V},...ne&&{onMouseLeave:ne},...M&&{onTouchStart:M}};const vt=ye=>{if(!z&&!jR(ye)&&!ye.defaultPrevented&&(!B||B==="_self")&&ye.button===0){ye.preventDefault(),I_.flushSync(()=>{o(!0)});const Oe=r.subscribe("onResolved",()=>{Oe(),o(!1)});return r.navigate({...t,replace:q,resetScroll:T,hashScrollIntoView:R,startTransition:C,viewTransition:F,ignoreBlocker:re})}},yt=ye=>{z||dt&&gt()},Rt=yt,qt=ye=>{if(z)return;const Oe=ye.target||{};if(dt){if(Oe.preloadTimeout)return;Oe.preloadTimeout=setTimeout(()=>{Oe.preloadTimeout=null,gt()},mt)}},Jt=ye=>{if(z)return;const Oe=ye.target||{};Oe.preloadTimeout&&(clearTimeout(Oe.preloadTimeout),Oe.preloadTimeout=null)},Gt=ye=>Oe=>{var De;(De=Oe.persist)==null||De.call(Oe),ye.filter(Boolean).forEach(Ge=>{Oe.defaultPrevented||Ge(Oe)})},er=ft?Ja(c,{})??{}:{},ur=ft?{}:Ja(p,{}),se=[W,er.className,ur.className].filter(Boolean).join(" "),le={...K,...er.style,...ur.style};return{...Ee,...er,...ur,href:z?void 0:at.maskedLocation?r.history.createHref(at.maskedLocation.href):r.history.createHref(at.href),ref:l,onClick:Gt([Q,vt]),onFocus:Gt([ue,yt]),onMouseEnter:Gt([V,qt]),onMouseLeave:Gt([ne,Jt]),onTouchStart:Gt([M,Rt]),disabled:!!z,target:B,...Object.keys(le).length&&{style:le},...se&&{className:se},...z&&{role:"link","aria-disabled":!0},...ft&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}function MN(t){return G.forwardRef(function(r,n){return y.jsx(PR,{...r,_asChild:t,ref:n})})}const PR=G.forwardRef((t,e)=>{const{_asChild:r,...n}=t,{type:o,ref:a,...l}=AR(n,e),c=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return typeof r>"u"&&delete l.disabled,G.createElement(r||"a",{...l,ref:a},c)});function jR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LR(){const t=ki(),e=G.useRef({router:t,mounted:!1}),r=Vn({select:({isLoading:x})=>x}),[n,o]=G.useState(!1),a=Vn({select:x=>x.matches.some(N=>N.status==="pending"),structuralSharing:!0}),l=fg(r),c=r||n||a,p=fg(c),m=r||a,b=fg(m);return t.isServer||(t.startReactTransition=x=>{o(!0),G.startTransition(()=>{x(),o(!1)})}),G.useEffect(()=>{const x=t.history.subscribe(t.load),N=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Za(t.latestLocation.href)!==Za(N.href)&&t.commitLocation({...N,replace:!0}),()=>{x()}},[t,t.history]),jc(()=>{var x;if(typeof window<"u"&&((x=window.__TSR__)!=null&&x.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(R){console.error(R)}})()},[t]),jc(()=>{if(l&&!r){const x=t.state.location,N=t.state.resolvedLocation,R=N.pathname!==x.pathname,q=N.href!==x.href;t.emit({type:"onLoad",fromLocation:N,toLocation:x,pathChanged:R,hrefChanged:q})}},[l,t,r]),jc(()=>{if(b&&!m){const x=t.state.location,N=t.state.resolvedLocation,R=N.pathname!==x.pathname,q=N.href!==x.href;t.emit({type:"onBeforeRouteMount",fromLocation:N,toLocation:x,pathChanged:R,hrefChanged:q})}},[m,b,t]),jc(()=>{if(p&&!c){const x=t.state.location,N=t.state.resolvedLocation,R=N.pathname!==x.pathname,q=N.href!==x.href;if(t.emit({type:"onResolved",fromLocation:N,toLocation:x,pathChanged:R,hrefChanged:q}),t.__store.setState(C=>({...C,status:"idle",resolvedLocation:C.location})),typeof document<"u"&&document.querySelector){const C=t.state.location.state.__hashScrollIntoViewOptions??!0;if(C&&t.state.location.hash!==""){const T=document.getElementById(t.state.location.hash);T&&T.scrollIntoView(C)}}}},[c,p,t]),null}function FR(){const t=ki(),e=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null,r=t.isServer||typeof document<"u"&&window.__TSR__?xh:G.Suspense,n=y.jsxs(r,{fallback:e,children:[y.jsx(LR,{}),y.jsx(DR,{})]});return t.options.InnerWrap?y.jsx(t.options.InnerWrap,{children:n}):n}function DR(){const t=Vn({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),e=Vn({select:r=>r.loadedAt});return y.jsx(Fp.Provider,{value:t,children:y.jsx(R_,{getResetKey:()=>e,errorComponent:Lp,onCatch:r=>{r.message||r.toString()},children:t?y.jsx(FN,{matchId:t}):null})})}function BN(){const t=ki();return Vn({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),G.useCallback(e=>{const{pending:r,caseSensitive:n,fuzzy:o,includeSearch:a,...l}=e;return t.matchRoute(l,{pending:r,caseSensitive:n,fuzzy:o,includeSearch:a})},[t])}function MR({router:t,children:e,...r}){t.update({...t.options,...r,context:{...t.options.context,...r.context}});const n=AN(),o=y.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?y.jsx(t.options.Wrap,{children:o}):o}function BR({router:t,...e}){return y.jsx(MR,{router:t,...e,children:y.jsx(FR,{})})}const WR=typeof window<"u"?G.useLayoutEffect:G.useEffect,vg="window",N0="___";let _g=new WeakSet;const $R=typeof window<"u"&&window.sessionStorage,is=$R?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:r=>{is.state=Ja(r,is.state),window.sessionStorage.setItem(t,JSON.stringify(is.state))}}})():void 0,UR=t=>t.state.key||t.href;function zR(t){const e=ki();WR(()=>{const r=t?.getKey||UR,{history:n}=window;n.scrollRestoration="manual";const o=c=>{if(_g.has(c.target))return;_g.add(c.target);let p="";if(c.target===document||c.target===window)p=vg;else{const m=c.target.getAttribute("data-scroll-restoration-id");m?p=`[data-scroll-restoration-id="${m}"]`:p=HR(c.target)}is.state.next[p]||is.set(m=>({...m,next:{...m.next,[p]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",o,!0);const a=e.subscribe("onBeforeLoad",c=>{if(c.hrefChanged){const p=r(c.fromLocation);for(const m in is.state.next){const b=is.state.next[m];if(m===vg)b.scrollX=window.scrollX||0,b.scrollY=window.scrollY||0;else if(m){const x=document.querySelector(m);b.scrollX=x?.scrollLeft||0,b.scrollY=x?.scrollTop||0}is.set(x=>{const N={...x.next};return delete N[m],{...x,next:N,cached:{...x.cached,[[p,m].join(N0)]:b}}})}}}),l=e.subscribe("onBeforeRouteMount",c=>{if(c.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const p=r(c.toLocation);let m=!1;for(const b in is.state.cached){const x=is.state.cached[b],[N,R]=b.split(N0);if(N===p){if(R===vg)m=!0,window.scrollTo(x.scrollX,x.scrollY);else if(R){const q=document.querySelector(R);q&&(q.scrollLeft=x.scrollX,q.scrollTop=x.scrollY)}}}m||window.scrollTo(0,0),is.set(b=>({...b,next:{}})),_g=new WeakSet}});return()=>{document.removeEventListener("scroll",o),a(),l()}},[t?.getKey,e])}function VR(t){return zR(t),null}function HR(t){const e=[];let r;for(;r=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(r.children,t)+1})`),t=r;return`${e.join(" > ")}`.toLowerCase()}function fi(t){return ha({...t,select:e=>t.select?t.select(e.context):e.context})}let QR={data:""},KR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||QR,GR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JR=/\/\*[^]*?\*\/|  +/g,k0=/\n+/g,Yo=(t,e)=>{let r="",n="",o="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?Yo(l,a):a+"{"+Yo(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Yo(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,c):c?c+" "+p:p)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Yo.p?Yo.p(a,l):a+":"+l+";")}return r+(e&&o?e+"{"+o+"}":o)+n},eo={},WN=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+WN(t[r]);return e}return t},ZR=(t,e,r,n,o)=>{let a=WN(t),l=eo[a]||(eo[a]=(p=>{let m=0,b=11;for(;m<p.length;)b=101*b+p.charCodeAt(m++)>>>0;return"go"+b})(a));if(!eo[l]){let p=a!==t?t:(m=>{let b,x,N=[{}];for(;b=GR.exec(m.replace(JR,""));)b[4]?N.shift():b[3]?(x=b[3].replace(k0," ").trim(),N.unshift(N[0][x]=N[0][x]||{})):N[0][b[1]]=b[2].replace(k0," ").trim();return N[0]})(t);eo[l]=Yo(o?{["@keyframes "+l]:p}:p,r?"":"."+l)}let c=r&&eo.g?eo.g:null;return r&&(eo.g=eo[l]),((p,m,b,x)=>{x?m.data=m.data.replace(x,p):m.data.indexOf(p)===-1&&(m.data=b?p+m.data:m.data+p)})(eo[l],e,n,c),l},XR=(t,e,r)=>t.reduce((n,o,a)=>{let l=e[a];if(l&&l.call){let c=l(r),p=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=p?"."+p:c&&typeof c=="object"?c.props?"":Yo(c,""):c===!1?"":c}return n+o+(l??"")},"");function Dp(t){let e=this||{},r=t.call?t(e.p):t;return ZR(r.unshift?r.raw?XR(r,[].slice.call(arguments,1),e.p):r.reduce((n,o)=>Object.assign(n,o&&o.call?o(e.p):o),{}):r,KR(e.target),e.g,e.o,e.k)}let $N,Mv,Bv;Dp.bind({g:1});let ho=Dp.bind({k:1});function YR(t,e,r,n){Yo.p=e,$N=t,Mv=r,Bv=n}function Ea(t,e){let r=this||{};return function(){let n=arguments;function o(a,l){let c=Object.assign({},a),p=c.className||o.className;r.p=Object.assign({theme:Mv&&Mv()},c),r.o=/ *go\d+/.test(p),c.className=Dp.apply(r,n)+(p?" "+p:"");let m=t;return t[0]&&(m=c.as||t,delete c.as),Bv&&m[0]&&Bv(c),$N(m,c)}return o}}var eO=t=>typeof t=="function",Zh=(t,e)=>eO(t)?t(e):t,tO=(()=>{let t=0;return()=>(++t).toString()})(),UN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rO=20,Sh=new Map,nO=1e3,q0=t=>{if(Sh.has(t))return;let e=setTimeout(()=>{Sh.delete(t),ml({type:4,toastId:t})},nO);Sh.set(t,e)},iO=t=>{let e=Sh.get(t);e&&clearTimeout(e)},Wv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rO)};case 1:return e.toast.id&&iO(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?Wv(t,{type:1,toast:r}):Wv(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?q0(n):t.toasts.forEach(a=>{q0(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},Eh=[],Nh={toasts:[],pausedAt:void 0},ml=t=>{Nh=Wv(Nh,t),Eh.forEach(e=>{e(Nh)})},sO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oO=(t={})=>{let[e,r]=G.useState(Nh);G.useEffect(()=>(Eh.push(r),()=>{let o=Eh.indexOf(r);o>-1&&Eh.splice(o,1)}),[e]);let n=e.toasts.map(o=>{var a,l;return{...t,...t[o.type],...o,duration:o.duration||((a=t[o.type])==null?void 0:a.duration)||t?.duration||sO[o.type],style:{...t.style,...(l=t[o.type])==null?void 0:l.style,...o.style}}});return{...e,toasts:n}},aO=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||tO()}),Id=t=>(e,r)=>{let n=aO(e,t,r);return ml({type:2,toast:n}),n.id},qr=(t,e)=>Id("blank")(t,e);qr.error=Id("error");qr.success=Id("success");qr.loading=Id("loading");qr.custom=Id("custom");qr.dismiss=t=>{ml({type:3,toastId:t})};qr.remove=t=>ml({type:4,toastId:t});qr.promise=(t,e,r)=>{let n=qr.loading(e.loading,{...r,...r?.loading});return t.then(o=>(qr.success(Zh(e.success,o),{id:n,...r,...r?.success}),o)).catch(o=>{qr.error(Zh(e.error,o),{id:n,...r,...r?.error})}),t};var lO=(t,e)=>{ml({type:1,toast:{id:t,height:e}})},uO=()=>{ml({type:5,time:Date.now()})},cO=t=>{let{toasts:e,pausedAt:r}=oO(t);G.useEffect(()=>{if(r)return;let a=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let p=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(p<0){c.visible&&qr.dismiss(c.id);return}return setTimeout(()=>qr.dismiss(c.id),p)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,r]);let n=G.useCallback(()=>{r&&ml({type:6,time:Date.now()})},[r]),o=G.useCallback((a,l)=>{let{reverseOrder:c=!1,gutter:p=8,defaultPosition:m}=l||{},b=e.filter(R=>(R.position||m)===(a.position||m)&&R.height),x=b.findIndex(R=>R.id===a.id),N=b.filter((R,q)=>q<x&&R.visible).length;return b.filter(R=>R.visible).slice(...c?[N+1]:[0,N]).reduce((R,q)=>R+(q.height||0)+p,0)},[e]);return{toasts:e,handlers:{updateHeight:lO,startPause:uO,endPause:n,calculateOffset:o}}},dO=ho`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fO=ho`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hO=ho`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,pO=Ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mO=ho`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yO=Ea("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${mO} 1s linear infinite;
`,gO=ho`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,vO=ho`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_O=Ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${vO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bO=Ea("div")`
  position: absolute;
`,wO=Ea("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xO=ho`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SO=Ea("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,EO=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?G.createElement(SO,null,e):e:r==="blank"?null:G.createElement(wO,null,G.createElement(yO,{...n}),r!=="loading"&&G.createElement(bO,null,r==="error"?G.createElement(pO,{...n}):G.createElement(_O,{...n})))},NO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,qO="0%{opacity:0;} 100%{opacity:1;}",CO="0%{opacity:1;} 100%{opacity:0;}",RO=Ea("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,OO=Ea("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,IO=(t,e)=>{let r=t.includes("top")?1:-1,[n,o]=UN()?[qO,CO]:[NO(r),kO(r)];return{animation:e?`${ho(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ho(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},TO=G.memo(({toast:t,position:e,style:r,children:n})=>{let o=t.height?IO(t.position||e||"top-center",t.visible):{opacity:0},a=G.createElement(EO,{toast:t}),l=G.createElement(OO,{...t.ariaProps},Zh(t.message,t));return G.createElement(RO,{className:t.className,style:{...o,...r,...t.style}},typeof n=="function"?n({icon:a,message:l}):G.createElement(G.Fragment,null,a,l))});YR(G.createElement);var AO=({id:t,className:e,style:r,onHeightUpdate:n,children:o})=>{let a=G.useCallback(l=>{if(l){let c=()=>{let p=l.getBoundingClientRect().height;n(t,p)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return G.createElement("div",{ref:a,className:e,style:r},o)},PO=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:UN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...o}},jO=Dp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uh=16,LO=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:o,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:p}=cO(r);return G.createElement("div",{style:{position:"fixed",zIndex:9999,top:uh,left:uh,right:uh,bottom:uh,pointerEvents:"none",...a},className:l,onMouseEnter:p.startPause,onMouseLeave:p.endPause},c.map(m=>{let b=m.position||e,x=p.calculateOffset(m,{reverseOrder:t,gutter:n,defaultPosition:e}),N=PO(b,x);return G.createElement(AO,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?jO:"",style:N},m.type==="custom"?Zh(m.message,m):o?o(m):G.createElement(TO,{toast:m,position:b}))}))},FO=qr;function zN(t,e){return function(){return t.apply(e,arguments)}}const{toString:DO}=Object.prototype,{getPrototypeOf:T_}=Object,Mp=(t=>e=>{const r=DO.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),hs=t=>(t=t.toLowerCase(),e=>Mp(e)===t),Bp=t=>e=>typeof e===t,{isArray:Tu}=Array,nd=Bp("undefined");function MO(t){return t!==null&&!nd(t)&&t.constructor!==null&&!nd(t.constructor)&&qi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const VN=hs("ArrayBuffer");function BO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&VN(t.buffer),e}const WO=Bp("string"),qi=Bp("function"),HN=Bp("number"),Wp=t=>t!==null&&typeof t=="object",$O=t=>t===!0||t===!1,kh=t=>{if(Mp(t)!=="object")return!1;const e=T_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},UO=hs("Date"),zO=hs("File"),VO=hs("Blob"),HO=hs("FileList"),QO=t=>Wp(t)&&qi(t.pipe),KO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qi(t.append)&&((e=Mp(t))==="formdata"||e==="object"&&qi(t.toString)&&t.toString()==="[object FormData]"))},GO=hs("URLSearchParams"),[JO,ZO,XO,YO]=["ReadableStream","Request","Response","Headers"].map(hs),eI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Td(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),Tu(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(n=0;n<l;n++)c=a[n],e.call(null,t[c],c,t)}}function QN(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const Xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KN=t=>!nd(t)&&t!==Xa;function $v(){const{caseless:t}=KN(this)&&this||{},e={},r=(n,o)=>{const a=t&&QN(e,o)||o;kh(e[a])&&kh(n)?e[a]=$v(e[a],n):kh(n)?e[a]=$v({},n):Tu(n)?e[a]=n.slice():e[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Td(arguments[n],r);return e}const tI=(t,e,r,{allOwnKeys:n}={})=>(Td(e,(o,a)=>{r&&qi(o)?t[a]=zN(o,r):t[a]=o},{allOwnKeys:n}),t),rI=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nI=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},iI=(t,e,r,n)=>{let o,a,l;const c={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)l=o[a],(!n||n(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=r!==!1&&T_(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},sI=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},oI=t=>{if(!t)return null;if(Tu(t))return t;let e=t.length;if(!HN(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},aI=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&T_(Uint8Array)),lI=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},uI=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},cI=hs("HTMLFormElement"),dI=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),C0=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),fI=hs("RegExp"),GN=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Td(r,(o,a)=>{let l;(l=e(o,a,t))!==!1&&(n[a]=l||o)}),Object.defineProperties(t,n)},hI=t=>{GN(t,(e,r)=>{if(qi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(qi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},pI=(t,e)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return Tu(t)?n(t):n(String(t).split(e)),r},mI=()=>{},yI=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,bg="abcdefghijklmnopqrstuvwxyz",R0="0123456789",JN={DIGIT:R0,ALPHA:bg,ALPHA_DIGIT:bg+bg.toUpperCase()+R0},gI=(t=16,e=JN.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function vI(t){return!!(t&&qi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _I=t=>{const e=new Array(10),r=(n,o)=>{if(Wp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;const a=Tu(n)?[]:{};return Td(n,(l,c)=>{const p=r(l,o+1);!nd(p)&&(a[c]=p)}),e[o]=void 0,a}}return n};return r(t,0)},bI=hs("AsyncFunction"),wI=t=>t&&(Wp(t)||qi(t))&&qi(t.then)&&qi(t.catch),ZN=((t,e)=>t?setImmediate:e?((r,n)=>(Xa.addEventListener("message",({source:o,data:a})=>{o===Xa&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),Xa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",qi(Xa.postMessage)),xI=typeof queueMicrotask<"u"?queueMicrotask.bind(Xa):typeof process<"u"&&process.nextTick||ZN,$e={isArray:Tu,isArrayBuffer:VN,isBuffer:MO,isFormData:KO,isArrayBufferView:BO,isString:WO,isNumber:HN,isBoolean:$O,isObject:Wp,isPlainObject:kh,isReadableStream:JO,isRequest:ZO,isResponse:XO,isHeaders:YO,isUndefined:nd,isDate:UO,isFile:zO,isBlob:VO,isRegExp:fI,isFunction:qi,isStream:QO,isURLSearchParams:GO,isTypedArray:aI,isFileList:HO,forEach:Td,merge:$v,extend:tI,trim:eI,stripBOM:rI,inherits:nI,toFlatObject:iI,kindOf:Mp,kindOfTest:hs,endsWith:sI,toArray:oI,forEachEntry:lI,matchAll:uI,isHTMLForm:cI,hasOwnProperty:C0,hasOwnProp:C0,reduceDescriptors:GN,freezeMethods:hI,toObjectSet:pI,toCamelCase:dI,noop:mI,toFiniteNumber:yI,findKey:QN,global:Xa,isContextDefined:KN,ALPHABET:JN,generateString:gI,isSpecCompliantForm:vI,toJSONObject:_I,isAsyncFn:bI,isThenable:wI,setImmediate:ZN,asap:xI};function rr(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}$e.inherits(rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const XN=rr.prototype,YN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YN[t]={value:t}});Object.defineProperties(rr,YN);Object.defineProperty(XN,"isAxiosError",{value:!0});rr.from=(t,e,r,n,o,a)=>{const l=Object.create(XN);return $e.toFlatObject(t,l,function(p){return p!==Error.prototype},c=>c!=="isAxiosError"),rr.call(l,t.message,e,r,n,o),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const SI=null;function Uv(t){return $e.isPlainObject(t)||$e.isArray(t)}function e1(t){return $e.endsWith(t,"[]")?t.slice(0,-2):t}function O0(t,e,r){return t?t.concat(e).map(function(o,a){return o=e1(o),!r&&a?"["+o+"]":o}).join(r?".":""):e}function EI(t){return $e.isArray(t)&&!t.some(Uv)}const NI=$e.toFlatObject($e,{},null,function(e){return/^is[A-Z]/.test(e)});function $p(t,e,r){if(!$e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=$e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,T){return!$e.isUndefined(T[C])});const n=r.metaTokens,o=r.visitor||b,a=r.dots,l=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(e);if(!$e.isFunction(o))throw new TypeError("visitor must be a function");function m(q){if(q===null)return"";if($e.isDate(q))return q.toISOString();if(!p&&$e.isBlob(q))throw new rr("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(q)||$e.isTypedArray(q)?p&&typeof Blob=="function"?new Blob([q]):Buffer.from(q):q}function b(q,C,T){let F=q;if(q&&!T&&typeof q=="object"){if($e.endsWith(C,"{}"))C=n?C:C.slice(0,-2),q=JSON.stringify(q);else if($e.isArray(q)&&EI(q)||($e.isFileList(q)||$e.endsWith(C,"[]"))&&(F=$e.toArray(q)))return C=e1(C),F.forEach(function(B,z){!($e.isUndefined(B)||B===null)&&e.append(l===!0?O0([C],z,a):l===null?C:C+"[]",m(B))}),!1}return Uv(q)?!0:(e.append(O0(T,C,a),m(q)),!1)}const x=[],N=Object.assign(NI,{defaultVisitor:b,convertValue:m,isVisitable:Uv});function R(q,C){if(!$e.isUndefined(q)){if(x.indexOf(q)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(q),$e.forEach(q,function(F,j){(!($e.isUndefined(F)||F===null)&&o.call(e,F,$e.isString(j)?j.trim():j,C,N))===!0&&R(F,C?C.concat(j):[j])}),x.pop()}}if(!$e.isObject(t))throw new TypeError("data must be an object");return R(t),e}function I0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function A_(t,e){this._pairs=[],t&&$p(t,this,e)}const t1=A_.prototype;t1.append=function(e,r){this._pairs.push([e,r])};t1.toString=function(e){const r=e?function(n){return e.call(this,n,I0)}:I0;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function kI(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function r1(t,e,r){if(!e)return t;const n=r&&r.encode||kI;$e.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(e,r):a=$e.isURLSearchParams(e)?e.toString():new A_(e,r).toString(n),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class T0{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$e.forEach(this.handlers,function(n){n!==null&&e(n)})}}const n1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qI=typeof URLSearchParams<"u"?URLSearchParams:A_,CI=typeof FormData<"u"?FormData:null,RI=typeof Blob<"u"?Blob:null,OI={isBrowser:!0,classes:{URLSearchParams:qI,FormData:CI,Blob:RI},protocols:["http","https","file","blob","url","data"]},P_=typeof window<"u"&&typeof document<"u",zv=typeof navigator=="object"&&navigator||void 0,II=P_&&(!zv||["ReactNative","NativeScript","NS"].indexOf(zv.product)<0),TI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AI=P_&&window.location.href||"http://localhost",PI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:P_,hasStandardBrowserEnv:II,hasStandardBrowserWebWorkerEnv:TI,navigator:zv,origin:AI},Symbol.toStringTag,{value:"Module"})),Pn={...PI,...OI};function jI(t,e){return $p(t,new Pn.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,a){return Pn.isNode&&$e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function LI(t){return $e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function FI(t){const e={},r=Object.keys(t);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],e[a]=t[a];return e}function i1(t){function e(r,n,o,a){let l=r[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),p=a>=r.length;return l=!l&&$e.isArray(o)?o.length:l,p?($e.hasOwnProp(o,l)?o[l]=[o[l],n]:o[l]=n,!c):((!o[l]||!$e.isObject(o[l]))&&(o[l]=[]),e(r,n,o[l],a)&&$e.isArray(o[l])&&(o[l]=FI(o[l])),!c)}if($e.isFormData(t)&&$e.isFunction(t.entries)){const r={};return $e.forEachEntry(t,(n,o)=>{e(LI(n),o,r,0)}),r}return null}function DI(t,e,r){if($e.isString(t))try{return(e||JSON.parse)(t),$e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ad={transitional:n1,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=$e.isObject(e);if(a&&$e.isHTMLForm(e)&&(e=new FormData(e)),$e.isFormData(e))return o?JSON.stringify(i1(e)):e;if($e.isArrayBuffer(e)||$e.isBuffer(e)||$e.isStream(e)||$e.isFile(e)||$e.isBlob(e)||$e.isReadableStream(e))return e;if($e.isArrayBufferView(e))return e.buffer;if($e.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return jI(e,this.formSerializer).toString();if((c=$e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return $p(c?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),DI(e)):e}],transformResponse:[function(e){const r=this.transitional||Ad.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if($e.isResponse(e)||$e.isReadableStream(e))return e;if(e&&$e.isString(e)&&(n&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?rr.from(c,rr.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],t=>{Ad.headers[t]={}});const MI=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BI=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),n=l.substring(o+1).trim(),!(!r||e[r]&&MI[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},A0=Symbol("internals");function Cc(t){return t&&String(t).trim().toLowerCase()}function qh(t){return t===!1||t==null?t:$e.isArray(t)?t.map(qh):String(t)}function WI(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const $I=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wg(t,e,r,n,o){if($e.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!$e.isString(e)){if($e.isString(n))return e.indexOf(n)!==-1;if($e.isRegExp(n))return n.test(e)}}function UI(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function zI(t,e){const r=$e.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,a,l){return this[n].call(this,e,o,a,l)},configurable:!0})})}let li=class{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function a(c,p,m){const b=Cc(p);if(!b)throw new Error("header name must be a non-empty string");const x=$e.findKey(o,b);(!x||o[x]===void 0||m===!0||m===void 0&&o[x]!==!1)&&(o[x||p]=qh(c))}const l=(c,p)=>$e.forEach(c,(m,b)=>a(m,b,p));if($e.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if($e.isString(e)&&(e=e.trim())&&!$I(e))l(BI(e),r);else if($e.isHeaders(e))for(const[c,p]of e.entries())a(p,c,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=Cc(e),e){const n=$e.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return WI(o);if($e.isFunction(r))return r.call(this,o,n);if($e.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Cc(e),e){const n=$e.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||wg(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function a(l){if(l=Cc(l),l){const c=$e.findKey(n,l);c&&(!r||wg(n,n[c],c,r))&&(delete n[c],o=!0)}}return $e.isArray(e)?e.forEach(a):a(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!e||wg(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const r=this,n={};return $e.forEach(this,(o,a)=>{const l=$e.findKey(n,a);if(l){r[l]=qh(o),delete r[a];return}const c=e?UI(a):String(a).trim();c!==a&&delete r[a],r[c]=qh(o),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return $e.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&$e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[A0]=this[A0]={accessors:{}}).accessors,o=this.prototype;function a(l){const c=Cc(l);n[c]||(zI(o,l),n[c]=!0)}return $e.isArray(e)?e.forEach(a):a(e),this}};li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(li.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});$e.freezeMethods(li);function xg(t,e){const r=this||Ad,n=e||r,o=li.from(n.headers);let a=n.data;return $e.forEach(t,function(c){a=c.call(r,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function s1(t){return!!(t&&t.__CANCEL__)}function Au(t,e,r){rr.call(this,t??"canceled",rr.ERR_CANCELED,e,r),this.name="CanceledError"}$e.inherits(Au,rr,{__CANCEL__:!0});function o1(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new rr("Request failed with status code "+r.status,[rr.ERR_BAD_REQUEST,rr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function VI(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function HI(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,a=0,l;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),b=n[a];l||(l=m),r[o]=p,n[o]=m;let x=a,N=0;for(;x!==o;)N+=r[x++],x=x%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-l<e)return;const R=b&&m-b;return R?Math.round(N*1e3/R):void 0}}function QI(t,e){let r=0,n=1e3/e,o,a;const l=(m,b=Date.now())=>{r=b,o=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const b=Date.now(),x=b-r;x>=n?l(m,b):(o=m,a||(a=setTimeout(()=>{a=null,l(o)},n-x)))},()=>o&&l(o)]}const Xh=(t,e,r=3)=>{let n=0;const o=HI(50,250);return QI(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,p=l-n,m=o(p),b=l<=c;n=l;const x={loaded:l,total:c,progress:c?l/c:void 0,bytes:p,rate:m||void 0,estimated:m&&c&&b?(c-l)/m:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(x)},r)},P0=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},j0=t=>(...e)=>$e.asap(()=>t(...e)),KI=Pn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Pn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Pn.origin),Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent)):()=>!0,GI=Pn.hasStandardBrowserEnv?{write(t,e,r,n,o,a){const l=[t+"="+encodeURIComponent(e)];$e.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),$e.isString(n)&&l.push("path="+n),$e.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JI(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ZI(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function a1(t,e){return t&&!JI(e)?ZI(t,e):e}const L0=t=>t instanceof li?{...t}:t;function sl(t,e){e=e||{};const r={};function n(m,b,x,N){return $e.isPlainObject(m)&&$e.isPlainObject(b)?$e.merge.call({caseless:N},m,b):$e.isPlainObject(b)?$e.merge({},b):$e.isArray(b)?b.slice():b}function o(m,b,x,N){if($e.isUndefined(b)){if(!$e.isUndefined(m))return n(void 0,m,x,N)}else return n(m,b,x,N)}function a(m,b){if(!$e.isUndefined(b))return n(void 0,b)}function l(m,b){if($e.isUndefined(b)){if(!$e.isUndefined(m))return n(void 0,m)}else return n(void 0,b)}function c(m,b,x){if(x in e)return n(m,b);if(x in t)return n(void 0,m)}const p={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(m,b,x)=>o(L0(m),L0(b),x,!0)};return $e.forEach(Object.keys(Object.assign({},t,e)),function(b){const x=p[b]||o,N=x(t[b],e[b],b);$e.isUndefined(N)&&x!==c||(r[b]=N)}),r}const l1=t=>{const e=sl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=li.from(l),e.url=r1(a1(e.baseURL,e.url),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let p;if($e.isFormData(r)){if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((p=l.getContentType())!==!1){const[m,...b]=p?p.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...b].join("; "))}}if(Pn.hasStandardBrowserEnv&&(n&&$e.isFunction(n)&&(n=n(e)),n||n!==!1&&KI(e.url))){const m=o&&a&&GI.read(a);m&&l.set(o,m)}return e},XI=typeof XMLHttpRequest<"u",YI=XI&&function(t){return new Promise(function(r,n){const o=l1(t);let a=o.data;const l=li.from(o.headers).normalize();let{responseType:c,onUploadProgress:p,onDownloadProgress:m}=o,b,x,N,R,q;function C(){R&&R(),q&&q(),o.cancelToken&&o.cancelToken.unsubscribe(b),o.signal&&o.signal.removeEventListener("abort",b)}let T=new XMLHttpRequest;T.open(o.method.toUpperCase(),o.url,!0),T.timeout=o.timeout;function F(){if(!T)return;const B=li.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),K={data:!c||c==="text"||c==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:B,config:t,request:T};o1(function(Q){r(Q),C()},function(Q){n(Q),C()},K),T=null}"onloadend"in T?T.onloadend=F:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(F)},T.onabort=function(){T&&(n(new rr("Request aborted",rr.ECONNABORTED,t,T)),T=null)},T.onerror=function(){n(new rr("Network Error",rr.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let z=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const K=o.transitional||n1;o.timeoutErrorMessage&&(z=o.timeoutErrorMessage),n(new rr(z,K.clarifyTimeoutError?rr.ETIMEDOUT:rr.ECONNABORTED,t,T)),T=null},a===void 0&&l.setContentType(null),"setRequestHeader"in T&&$e.forEach(l.toJSON(),function(z,K){T.setRequestHeader(K,z)}),$e.isUndefined(o.withCredentials)||(T.withCredentials=!!o.withCredentials),c&&c!=="json"&&(T.responseType=o.responseType),m&&([N,q]=Xh(m,!0),T.addEventListener("progress",N)),p&&T.upload&&([x,R]=Xh(p),T.upload.addEventListener("progress",x),T.upload.addEventListener("loadend",R)),(o.cancelToken||o.signal)&&(b=B=>{T&&(n(!B||B.type?new Au(null,t,T):B),T.abort(),T=null)},o.cancelToken&&o.cancelToken.subscribe(b),o.signal&&(o.signal.aborted?b():o.signal.addEventListener("abort",b)));const j=VI(o.url);if(j&&Pn.protocols.indexOf(j)===-1){n(new rr("Unsupported protocol "+j+":",rr.ERR_BAD_REQUEST,t));return}T.send(a||null)})},eT=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,o;const a=function(m){if(!o){o=!0,c();const b=m instanceof Error?m:this.reason;n.abort(b instanceof rr?b:new Au(b instanceof Error?b.message:b))}};let l=e&&setTimeout(()=>{l=null,a(new rr(`timeout ${e} of ms exceeded`,rr.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=n;return p.unsubscribe=()=>$e.asap(c),p}},tT=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,o;for(;n<r;)o=n+e,yield t.slice(n,o),n=o},rT=async function*(t,e){for await(const r of nT(t))yield*tT(r,e)},nT=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},F0=(t,e,r,n)=>{const o=rT(t,e);let a=0,l,c=p=>{l||(l=!0,n&&n(p))};return new ReadableStream({async pull(p){try{const{done:m,value:b}=await o.next();if(m){c(),p.close();return}let x=b.byteLength;if(r){let N=a+=x;r(N)}p.enqueue(new Uint8Array(b))}catch(m){throw c(m),m}},cancel(p){return c(p),o.return()}},{highWaterMark:2})},Up=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",u1=Up&&typeof ReadableStream=="function",iT=Up&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),c1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},sT=u1&&c1(()=>{let t=!1;const e=new Request(Pn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),D0=64*1024,Vv=u1&&c1(()=>$e.isReadableStream(new Response("").body)),Yh={stream:Vv&&(t=>t.body)};Up&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Yh[e]&&(Yh[e]=$e.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new rr(`Response type '${e}' is not supported`,rr.ERR_NOT_SUPPORT,n)})})})(new Response);const oT=async t=>{if(t==null)return 0;if($e.isBlob(t))return t.size;if($e.isSpecCompliantForm(t))return(await new Request(Pn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if($e.isArrayBufferView(t)||$e.isArrayBuffer(t))return t.byteLength;if($e.isURLSearchParams(t)&&(t=t+""),$e.isString(t))return(await iT(t)).byteLength},aT=async(t,e)=>{const r=$e.toFiniteNumber(t.getContentLength());return r??oT(e)},lT=Up&&(async t=>{let{url:e,method:r,data:n,signal:o,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:p,responseType:m,headers:b,withCredentials:x="same-origin",fetchOptions:N}=l1(t);m=m?(m+"").toLowerCase():"text";let R=eT([o,a&&a.toAbortSignal()],l),q;const C=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let T;try{if(p&&sT&&r!=="get"&&r!=="head"&&(T=await aT(b,n))!==0){let K=new Request(e,{method:"POST",body:n,duplex:"half"}),W;if($e.isFormData(n)&&(W=K.headers.get("content-type"))&&b.setContentType(W),K.body){const[Q,ue]=P0(T,Xh(j0(p)));n=F0(K.body,D0,Q,ue)}}$e.isString(x)||(x=x?"include":"omit");const F="credentials"in Request.prototype;q=new Request(e,{...N,signal:R,method:r.toUpperCase(),headers:b.normalize().toJSON(),body:n,duplex:"half",credentials:F?x:void 0});let j=await fetch(q);const B=Vv&&(m==="stream"||m==="response");if(Vv&&(c||B&&C)){const K={};["status","statusText","headers"].forEach(V=>{K[V]=j[V]});const W=$e.toFiniteNumber(j.headers.get("content-length")),[Q,ue]=c&&P0(W,Xh(j0(c),!0))||[];j=new Response(F0(j.body,D0,Q,()=>{ue&&ue(),C&&C()}),K)}m=m||"text";let z=await Yh[$e.findKey(Yh,m)||"text"](j,t);return!B&&C&&C(),await new Promise((K,W)=>{o1(K,W,{data:z,headers:li.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:q})})}catch(F){throw C&&C(),F&&F.name==="TypeError"&&/fetch/i.test(F.message)?Object.assign(new rr("Network Error",rr.ERR_NETWORK,t,q),{cause:F.cause||F}):rr.from(F,F&&F.code,t,q)}}),Hv={http:SI,xhr:YI,fetch:lT};$e.forEach(Hv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const M0=t=>`- ${t}`,uT=t=>$e.isFunction(t)||t===null||t===!1,d1={getAdapter:t=>{t=$e.isArray(t)?t:[t];const{length:e}=t;let r,n;const o={};for(let a=0;a<e;a++){r=t[a];let l;if(n=r,!uT(r)&&(n=Hv[(l=String(r)).toLowerCase()],n===void 0))throw new rr(`Unknown adapter '${l}'`);if(n)break;o[l||"#"+a]=n}if(!n){const a=Object.entries(o).map(([c,p])=>`adapter ${c} `+(p===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(M0).join(`
`):" "+M0(a[0]):"as no adapter specified";throw new rr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Hv};function Sg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Au(null,t)}function B0(t){return Sg(t),t.headers=li.from(t.headers),t.data=xg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),d1.getAdapter(t.adapter||Ad.adapter)(t).then(function(n){return Sg(t),n.data=xg.call(t,t.transformResponse,n),n.headers=li.from(n.headers),n},function(n){return s1(n)||(Sg(t),n&&n.response&&(n.response.data=xg.call(t,t.transformResponse,n.response),n.response.headers=li.from(n.response.headers))),Promise.reject(n)})}const f1="1.7.9",zp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const W0={};zp.transitional=function(e,r,n){function o(a,l){return"[Axios v"+f1+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,c)=>{if(e===!1)throw new rr(o(l," has been removed"+(r?" in "+r:"")),rr.ERR_DEPRECATED);return r&&!W0[l]&&(W0[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,l,c):!0}};zp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function cT(t,e,r){if(typeof t!="object")throw new rr("options must be an object",rr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const a=n[o],l=e[a];if(l){const c=t[a],p=c===void 0||l(c,a,t);if(p!==!0)throw new rr("option "+a+" must be "+p,rr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new rr("Unknown option "+a,rr.ERR_BAD_OPTION)}}const Ch={assertOptions:cT,validators:zp},Ns=Ch.validators;let tl=class{constructor(e){this.defaults=e,this.interceptors={request:new T0,response:new T0}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=sl(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&Ch.assertOptions(n,{silentJSONParsing:Ns.transitional(Ns.boolean),forcedJSONParsing:Ns.transitional(Ns.boolean),clarifyTimeoutError:Ns.transitional(Ns.boolean)},!1),o!=null&&($e.isFunction(o)?r.paramsSerializer={serialize:o}:Ch.assertOptions(o,{encode:Ns.function,serialize:Ns.function},!0)),Ch.assertOptions(r,{baseUrl:Ns.spelling("baseURL"),withXsrfToken:Ns.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&$e.merge(a.common,a[r.method]);a&&$e.forEach(["delete","get","head","post","put","patch","common"],q=>{delete a[q]}),r.headers=li.concat(l,a);const c=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(p=p&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let b,x=0,N;if(!p){const q=[B0.bind(this),void 0];for(q.unshift.apply(q,c),q.push.apply(q,m),N=q.length,b=Promise.resolve(r);x<N;)b=b.then(q[x++],q[x++]);return b}N=c.length;let R=r;for(x=0;x<N;){const q=c[x++],C=c[x++];try{R=q(R)}catch(T){C.call(this,T);break}}try{b=B0.call(this,R)}catch(q){return Promise.reject(q)}for(x=0,N=m.length;x<N;)b=b.then(m[x++],m[x++]);return b}getUri(e){e=sl(this.defaults,e);const r=a1(e.baseURL,e.url);return r1(r,e.params,e.paramsSerializer)}};$e.forEach(["delete","get","head","options"],function(e){tl.prototype[e]=function(r,n){return this.request(sl(n||{},{method:e,url:r,data:(n||{}).data}))}});$e.forEach(["post","put","patch"],function(e){function r(n){return function(a,l,c){return this.request(sl(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}tl.prototype[e]=r(),tl.prototype[e+"Form"]=r(!0)});let dT=class h1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const l=new Promise(c=>{n.subscribe(c),a=c}).then(o);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,c){n.reason||(n.reason=new Au(a,l,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new h1(function(o){e=o}),cancel:e}}};function fT(t){return function(r){return t.apply(null,r)}}function hT(t){return $e.isObject(t)&&t.isAxiosError===!0}const Qv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qv).forEach(([t,e])=>{Qv[e]=t});function p1(t){const e=new tl(t),r=zN(tl.prototype.request,e);return $e.extend(r,tl.prototype,e,{allOwnKeys:!0}),$e.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return p1(sl(t,o))},r}const sn=p1(Ad);sn.Axios=tl;sn.CanceledError=Au;sn.CancelToken=dT;sn.isCancel=s1;sn.VERSION=f1;sn.toFormData=$p;sn.AxiosError=rr;sn.Cancel=sn.CanceledError;sn.all=function(e){return Promise.all(e)};sn.spread=fT;sn.isAxiosError=hT;sn.mergeConfig=sl;sn.AxiosHeaders=li;sn.formToJSON=t=>i1($e.isHTMLForm(t)?new FormData(t):t);sn.getAdapter=d1.getAdapter;sn.HttpStatusCode=Qv;sn.default=sn;const{Axios:sW,AxiosError:pT,CanceledError:oW,isCancel:aW,CancelToken:lW,VERSION:uW,all:cW,Cancel:dW,isAxiosError:fW,spread:hW,toFormData:pW,AxiosHeaders:mW,HttpStatusCode:yW,formToJSON:gW,getAdapter:vW,mergeConfig:_W}=sn,j_=({error:t,schema:e,onError:r})=>{if(t instanceof pT){const o=e.safeParse(t.response?.data);return o.success&&r({error:t,data:o.data}),o.success}return!1};var Eg,$0;function mT(){if($0)return Eg;$0=1;function t(n){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(n)}t.prototype.getMaxRPS=function(){var n=this.perMilliseconds/1e3;return this.maxRequests/n},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(n){this.setRateLimitOptions({maxRequests:n,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(n){n.maxRPS?this.setMaxRPS(n.maxRPS):(this.perMilliseconds=n.perMilliseconds,this.maxRequests=n.maxRequests)},t.prototype.enable=function(n){function o(a){return Promise.reject(a)}this.interceptors.request=n.interceptors.request.use(this.handleRequest,o),this.interceptors.response=n.interceptors.response.use(this.handleResponse,o)};function e(n){n.cancelToken&&n.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(n){return new Promise(function(o,a){this.push({resolve:function(){try{e(n)}catch(l){return a(l),!1}return o(n),!0}})}.bind(this))},t.prototype.handleResponse=function(n){return this.shift(),n},t.prototype.push=function(n){this.queue.push(n),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var n=this.queue.shift(),o=n.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!o){this.shift();return}this.timeslotRequests+=1}};function r(n,o){var a=new t(n);return a.setRateLimitOptions(o),n.getQueue=t.prototype.getQueue.bind(a),n.getMaxRPS=t.prototype.getMaxRPS.bind(a),n.setMaxRPS=t.prototype.setMaxRPS.bind(a),n.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(a),n}return Eg=r,Eg}var yT=mT();const gT=Ou(yT),vT=({instance:t,limit:e}={})=>gT(t||sn,e||{maxRequests:5,perMilliseconds:100}),L_="-",_T=t=>{const e=wT(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const c=l.split(L_);return c[0]===""&&c.length!==1&&c.shift(),m1(c,e)||bT(l)},getConflictingClassGroupIds:(l,c)=>{const p=r[l]||[];return c&&n[l]?[...p,...n[l]]:p}}},m1=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?m1(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(L_);return e.validators.find(({validator:l})=>l(a))?.classGroupId},U0=/^\[(.+)\]$/,bT=t=>{if(U0.test(t)){const e=U0.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},wT=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return ST(Object.entries(t.classGroups),r).forEach(([a,l])=>{Kv(l,n,a,e)}),n},Kv=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:z0(e,o);a.classGroupId=r;return}if(typeof o=="function"){if(xT(o)){Kv(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,l])=>{Kv(l,z0(e,a),r,n)})})},z0=(t,e)=>{let r=t;return e.split(L_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},xT=t=>t.isThemeGetter,ST=(t,e)=>e?t.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[r,o]}):t,ET=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(a,l)=>{r.set(a,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return o(a,l),l},set(a,l){r.has(a)?r.set(a,l):o(a,l)}}},y1="!",NT=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],a=e.length,l=c=>{const p=[];let m=0,b=0,x;for(let T=0;T<c.length;T++){let F=c[T];if(m===0){if(F===o&&(n||c.slice(T,T+a)===e)){p.push(c.slice(b,T)),b=T+a;continue}if(F==="/"){x=T;continue}}F==="["?m++:F==="]"&&m--}const N=p.length===0?c:c.substring(b),R=N.startsWith(y1),q=R?N.substring(1):N,C=x&&x>b?x-b:void 0;return{modifiers:p,hasImportantModifier:R,baseClassName:q,maybePostfixModifierPosition:C}};return r?c=>r({className:c,parseClassName:l}):l},kT=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},qT=t=>({cache:ET(t.cacheSize),parseClassName:NT(t),..._T(t)}),CT=/\s+/,RT=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,a=[],l=t.trim().split(CT);let c="";for(let p=l.length-1;p>=0;p-=1){const m=l[p],{modifiers:b,hasImportantModifier:x,baseClassName:N,maybePostfixModifierPosition:R}=r(m);let q=!!R,C=n(q?N.substring(0,R):N);if(!C){if(!q){c=m+(c.length>0?" "+c:c);continue}if(C=n(N),!C){c=m+(c.length>0?" "+c:c);continue}q=!1}const T=kT(b).join(":"),F=x?T+y1:T,j=F+C;if(a.includes(j))continue;a.push(j);const B=o(C,q);for(let z=0;z<B.length;++z){const K=B[z];a.push(F+K)}c=m+(c.length>0?" "+c:c)}return c};function OT(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=g1(e))&&(n&&(n+=" "),n+=r);return n}const g1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=g1(t[n]))&&(r&&(r+=" "),r+=e);return r};function IT(t,...e){let r,n,o,a=l;function l(p){const m=e.reduce((b,x)=>x(b),t());return r=qT(m),n=r.cache.get,o=r.cache.set,a=c,c(p)}function c(p){const m=n(p);if(m)return m;const b=RT(p,r);return o(p,b),b}return function(){return a(OT.apply(null,arguments))}}const Dr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},v1=/^\[(?:([a-z-]+):)?(.+)\]$/i,TT=/^\d+\/\d+$/,AT=new Set(["px","full","screen"]),PT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,to=t=>au(t)||AT.has(t)||TT.test(t),Ko=t=>Pu(t,"length",HT),au=t=>!!t&&!Number.isNaN(Number(t)),Ng=t=>Pu(t,"number",au),Rc=t=>!!t&&Number.isInteger(Number(t)),MT=t=>t.endsWith("%")&&au(t.slice(0,-1)),ir=t=>v1.test(t),Go=t=>PT.test(t),BT=new Set(["length","size","percentage"]),WT=t=>Pu(t,BT,_1),$T=t=>Pu(t,"position",_1),UT=new Set(["image","url"]),zT=t=>Pu(t,UT,KT),VT=t=>Pu(t,"",QT),Oc=()=>!0,Pu=(t,e,r)=>{const n=v1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},HT=t=>jT.test(t)&&!LT.test(t),_1=()=>!1,QT=t=>FT.test(t),KT=t=>DT.test(t),GT=()=>{const t=Dr("colors"),e=Dr("spacing"),r=Dr("blur"),n=Dr("brightness"),o=Dr("borderColor"),a=Dr("borderRadius"),l=Dr("borderSpacing"),c=Dr("borderWidth"),p=Dr("contrast"),m=Dr("grayscale"),b=Dr("hueRotate"),x=Dr("invert"),N=Dr("gap"),R=Dr("gradientColorStops"),q=Dr("gradientColorStopPositions"),C=Dr("inset"),T=Dr("margin"),F=Dr("opacity"),j=Dr("padding"),B=Dr("saturate"),z=Dr("scale"),K=Dr("sepia"),W=Dr("skew"),Q=Dr("space"),ue=Dr("translate"),V=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ir,e],re=()=>[ir,e],Z=()=>["",to,Ko],pe=()=>["auto",au,ir],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",ir],Ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[au,ir];return{cacheSize:500,separator:":",theme:{colors:[Oc],spacing:[to,Ko],blur:["none","",Go,ir],brightness:H(),borderColor:[t],borderRadius:["none","","full",Go,ir],borderSpacing:re(),borderWidth:Z(),contrast:H(),grayscale:me(),hueRotate:H(),invert:me(),gap:re(),gradientColorStops:[t],gradientColorStopPositions:[MT,Ko],inset:M(),margin:M(),opacity:H(),padding:re(),saturate:H(),scale:H(),sepia:me(),skew:H(),space:re(),translate:re()},classGroups:{aspect:[{aspect:["auto","square","video",ir]}],container:["container"],columns:[{columns:[Go]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),ir]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rc,ir]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ir]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",Rc,ir]}],"grid-cols":[{"grid-cols":[Oc]}],"col-start-end":[{col:["auto",{span:["full",Rc,ir]},ir]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[Oc]}],"row-start-end":[{row:["auto",{span:[Rc,ir]},ir]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ir]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[Q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ir,e]}],"min-w":[{"min-w":[ir,e,"min","max","fit"]}],"max-w":[{"max-w":[ir,e,"none","full","min","max","fit","prose",{screen:[Go]},Go]}],h:[{h:[ir,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ir,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Go,Ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ng]}],"font-family":[{font:[Oc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ir]}],"line-clamp":[{"line-clamp":["none",au,Ng]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",to,ir]}],"list-image":[{"list-image":["none",ir]}],"list-style-type":[{list:["none","disc","decimal",ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[F]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",to,Ko]}],"underline-offset":[{"underline-offset":["auto",to,ir]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:re()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[F]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),$T]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[q]}],"gradient-via-pos":[{via:[q]}],"gradient-to-pos":[{to:[q]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[F]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[F]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[to,ir]}],"outline-w":[{outline:[to,Ko]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[F]}],"ring-offset-w":[{"ring-offset":[to,Ko]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Go,VT]}],"shadow-color":[{shadow:[Oc]}],opacity:[{opacity:[F]}],"mix-blend":[{"mix-blend":[...je(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":je()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Go,ir]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[x]}],saturate:[{saturate:[B]}],sepia:[{sepia:[K]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[F]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[K]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ir]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",ir]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Rc,ir]}],"translate-x":[{"translate-x":[ue]}],"translate-y":[{"translate-y":[ue]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ir]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":re()}],"scroll-mx":[{"scroll-mx":re()}],"scroll-my":[{"scroll-my":re()}],"scroll-ms":[{"scroll-ms":re()}],"scroll-me":[{"scroll-me":re()}],"scroll-mt":[{"scroll-mt":re()}],"scroll-mr":[{"scroll-mr":re()}],"scroll-mb":[{"scroll-mb":re()}],"scroll-ml":[{"scroll-ml":re()}],"scroll-p":[{"scroll-p":re()}],"scroll-px":[{"scroll-px":re()}],"scroll-py":[{"scroll-py":re()}],"scroll-ps":[{"scroll-ps":re()}],"scroll-pe":[{"scroll-pe":re()}],"scroll-pt":[{"scroll-pt":re()}],"scroll-pr":[{"scroll-pr":re()}],"scroll-pb":[{"scroll-pb":re()}],"scroll-pl":[{"scroll-pl":re()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[to,Ko,Ng]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},b1=IT(GT),Gv=new Proxy(()=>Gv,{get:()=>Gv});function lr({use:t,slot:e,variant:r,match:n=[],defaults:o}){return({css:a,...l}={})=>({slots:new Proxy({},{get:(c,p)=>({css:m,...b}={})=>{const x=[],N=t,R={...N?.()?.config.defaults,...o,...l,...b};x.push(N?.(R)?.slots[p]?.(R)),x.push(Array.isArray(e[p])?e[p]:[e[p]]);for(const[q,C]of Object.entries(R)){const T=r[q]?.[C];T&&x.push(T)}for(const q of n)Object.entries(q.if).every(([C,T])=>T===R[C])&&x.push(q.then?.[p]);return x.push(a?.[p]),x.push(m),b1(x)}}),config:{defaults:{...t?.()?.config.defaults,...o},values:{...t?.()?.config.defaults,...o,...l}},type:Gv()})}const id=b1;var kg,V0;function JT(){return V0||(V0=1,kg=Object),kg}var qg,H0;function ZT(){return H0||(H0=1,qg=Error),qg}var Cg,Q0;function XT(){return Q0||(Q0=1,Cg=EvalError),Cg}var Rg,K0;function YT(){return K0||(K0=1,Rg=RangeError),Rg}var Og,G0;function eA(){return G0||(G0=1,Og=ReferenceError),Og}var Ig,J0;function tA(){return J0||(J0=1,Ig=SyntaxError),Ig}var Tg,Z0;function w1(){return Z0||(Z0=1,Tg=TypeError),Tg}var Ag,X0;function rA(){return X0||(X0=1,Ag=URIError),Ag}var Pg,Y0;function nA(){return Y0||(Y0=1,Pg=Math.abs),Pg}var jg,eS;function iA(){return eS||(eS=1,jg=Math.floor),jg}var Lg,tS;function sA(){return tS||(tS=1,Lg=Math.max),Lg}var Fg,rS;function oA(){return rS||(rS=1,Fg=Math.min),Fg}var Dg,nS;function aA(){return nS||(nS=1,Dg=Math.pow),Dg}var Mg,iS;function lA(){return iS||(iS=1,Mg=Object.getOwnPropertyDescriptor),Mg}var Bg,sS;function x1(){if(sS)return Bg;sS=1;var t=lA();if(t)try{t([],"length")}catch{t=null}return Bg=t,Bg}var Wg,oS;function uA(){if(oS)return Wg;oS=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Wg=t,Wg}var $g,aS;function S1(){return aS||(aS=1,$g=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==o||c.enumerable!==!0)return!1}return!0}),$g}var Ug,lS;function cA(){if(lS)return Ug;lS=1;var t=typeof Symbol<"u"&&Symbol,e=S1();return Ug=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ug}var zg,uS;function dA(){if(uS)return zg;uS=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(p,m){for(var b=[],x=0;x<p.length;x+=1)b[x]=p[x];for(var N=0;N<m.length;N+=1)b[N+p.length]=m[N];return b},a=function(p,m){for(var b=[],x=m,N=0;x<p.length;x+=1,N+=1)b[N]=p[x];return b},l=function(c,p){for(var m="",b=0;b<c.length;b+=1)m+=c[b],b+1<c.length&&(m+=p);return m};return zg=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==n)throw new TypeError(t+m);for(var b=a(arguments,1),x,N=function(){if(this instanceof x){var F=m.apply(this,o(b,arguments));return Object(F)===F?F:this}return m.apply(p,o(b,arguments))},R=r(0,m.length-b.length),q=[],C=0;C<R;C++)q[C]="$"+C;if(x=Function("binder","return function ("+l(q,",")+"){ return binder.apply(this,arguments); }")(N),m.prototype){var T=function(){};T.prototype=m.prototype,x.prototype=new T,T.prototype=null}return x},zg}var Vg,cS;function Vp(){if(cS)return Vg;cS=1;var t=dA();return Vg=Function.prototype.bind||t,Vg}var Hg,dS;function F_(){return dS||(dS=1,Hg=Function.prototype.call),Hg}var Qg,fS;function E1(){return fS||(fS=1,Qg=Function.prototype.apply),Qg}var Kg,hS;function fA(){return hS||(hS=1,Kg=typeof Reflect<"u"&&Reflect&&Reflect.apply),Kg}var Gg,pS;function hA(){if(pS)return Gg;pS=1;var t=Vp(),e=E1(),r=F_(),n=fA();return Gg=n||t.call(r,e),Gg}var Jg,mS;function N1(){if(mS)return Jg;mS=1;var t=Vp(),e=w1(),r=F_(),n=hA();return Jg=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,r,a)},Jg}var Zg,yS;function pA(){if(yS)return Zg;yS=1;var t=N1(),e=x1(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&e&&e(Object.prototype,"__proto__"),o=Object,a=o.getPrototypeOf;return Zg=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(c){return a(c==null?c:o(c))}:!1,Zg}var Xg,gS;function mA(){if(gS)return Xg;gS=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Vp();return Xg=r.call(t,e),Xg}var Yg,vS;function yA(){if(vS)return Yg;vS=1;var t,e=JT(),r=ZT(),n=XT(),o=YT(),a=eA(),l=tA(),c=w1(),p=rA(),m=nA(),b=iA(),x=sA(),N=oA(),R=aA(),q=Function,C=function(mt){try{return q('"use strict"; return ('+mt+").constructor;")()}catch{}},T=x1(),F=uA(),j=function(){throw new c},B=T?function(){try{return arguments.callee,j}catch{try{return T(arguments,"callee").get}catch{return j}}}():j,z=cA()(),K=pA(),W=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||K,Q=E1(),ue=F_(),V={},ne=typeof Uint8Array>"u"||!W?t:W(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":z&&W?W([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":q,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":z&&W?W(W([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!z||!W?t:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!z||!W?t:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":z&&W?W(""[Symbol.iterator]()):t,"%Symbol%":z?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":B,"%TypedArray%":ne,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":ue,"%Function.prototype.apply%":Q,"%Object.defineProperty%":F,"%Math.abs%":m,"%Math.floor%":b,"%Math.max%":x,"%Math.min%":N,"%Math.pow%":R};if(W)try{null.error}catch(mt){var re=W(W(mt));M["%Error.prototype%"]=re}var Z=function mt(ft){var gt;if(ft==="%AsyncFunction%")gt=C("async function () {}");else if(ft==="%GeneratorFunction%")gt=C("function* () {}");else if(ft==="%AsyncGeneratorFunction%")gt=C("async function* () {}");else if(ft==="%AsyncGenerator%"){var At=mt("%AsyncGeneratorFunction%");At&&(gt=At.prototype)}else if(ft==="%AsyncIteratorPrototype%"){var vt=mt("%AsyncGenerator%");vt&&W&&(gt=W(vt.prototype))}return M[ft]=gt,gt},pe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Re=Vp(),Ce=mA(),je=Re.call(ue,Array.prototype.concat),ve=Re.call(Q,Array.prototype.splice),me=Re.call(ue,String.prototype.replace),Ee=Re.call(ue,String.prototype.slice),H=Re.call(ue,RegExp.prototype.exec),xe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,at=function(ft){var gt=Ee(ft,0,1),At=Ee(ft,-1);if(gt==="%"&&At!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(At==="%"&&gt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var vt=[];return me(ft,xe,function(yt,Rt,qt,Jt){vt[vt.length]=qt?me(Jt,lt,"$1"):Rt||yt}),vt},dt=function(ft,gt){var At=ft,vt;if(Ce(pe,At)&&(vt=pe[At],At="%"+vt[0]+"%"),Ce(M,At)){var yt=M[At];if(yt===V&&(yt=Z(At)),typeof yt>"u"&&!gt)throw new c("intrinsic "+ft+" exists, but is not available. Please file an issue!");return{alias:vt,name:At,value:yt}}throw new l("intrinsic "+ft+" does not exist!")};return Yg=function(ft,gt){if(typeof ft!="string"||ft.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof gt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(H(/^%?[^%]*%?$/,ft)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var At=at(ft),vt=At.length>0?At[0]:"",yt=dt("%"+vt+"%",gt),Rt=yt.name,qt=yt.value,Jt=!1,Gt=yt.alias;Gt&&(vt=Gt[0],ve(At,je([0,1],Gt)));for(var er=1,ur=!0;er<At.length;er+=1){var se=At[er],le=Ee(se,0,1),ye=Ee(se,-1);if((le==='"'||le==="'"||le==="`"||ye==='"'||ye==="'"||ye==="`")&&le!==ye)throw new l("property names with quotes must have matching quotes");if((se==="constructor"||!ur)&&(Jt=!0),vt+="."+se,Rt="%"+vt+"%",Ce(M,Rt))qt=M[Rt];else if(qt!=null){if(!(se in qt)){if(!gt)throw new c("base intrinsic for "+ft+" exists, but the property is not available.");return}if(T&&er+1>=At.length){var Oe=T(qt,se);ur=!!Oe,ur&&"get"in Oe&&!("originalValue"in Oe.get)?qt=Oe.get:qt=qt[se]}else ur=Ce(qt,se),qt=qt[se];ur&&!Jt&&(M[Rt]=qt)}}return qt},Yg}var ev,_S;function gA(){if(_S)return ev;_S=1;var t=yA(),e=N1(),r=e([t("%String.prototype.indexOf%")]);return ev=function(o,a){var l=t(o,!!a);return typeof l=="function"&&r(o,".prototype.")>-1?e([l]):l},ev}var tv,bS;function vA(){if(bS)return tv;bS=1;var t=S1();return tv=function(){return t()&&!!Symbol.toStringTag},tv}var rv,wS;function _A(){if(wS)return rv;wS=1;var t=gA(),e=t("String.prototype.valueOf"),r=function(c){try{return e(c),!0}catch{return!1}},n=t("Object.prototype.toString"),o="[object String]",a=vA()();return rv=function(c){return typeof c=="string"?!0:!c||typeof c!="object"?!1:a?r(c):n(c)===o},rv}var bA=_A();const wA=Ou(bA),Hp=t=>wA(t),xA=(t,e,r={})=>{const n=[];return t.filter((a,l)=>{const c=r.regionLowerCase?a.toLowerCase():a;if(e.includes(c))return n.push({index:l,appLocale:c}),!0;const{isAvailable:p,appLocale:m}=SA(c,e,r);return p&&n.push({index:l,appLocale:r.regionLowerCase?m.toLowerCase():m}),p}).map((a,l)=>!n||n.length===0?a:n[l]?.appLocale)},SA=(t,e,r={})=>{r?.languageOnly||(r.languageOnly=!1);let n=t;return{isAvailable:e.some(a=>{if(!Rh()&&!r.languageOnly&&t.split("-")[1]===void 0)return!1;const l=Rh()?new Intl.Locale(t).minimize().language:t.split("-")[0],c=Rh()?new Intl.Locale(a).minimize().language:a.split("-")[0],p=l===c;return p&&(n=a),p}),appLocale:n}},EA=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(r=>t.regionLowerCase?r.toLowerCase():r)},Rh=()=>Intl&&"Locale"in Intl,NA=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const r=t.map(n=>{const o=n.split("-");if(e.languageOnly)return o[0];const a=Rh()?new Intl.Locale(n).maximize():{language:o[0],script:o.length===3?o[1]:void 0,region:o.length===3?o[2]:o[1]},{language:l,script:c}=a;let{region:p}=a;return e.regionLowerCase&&p&&(p=p.toLowerCase()),o.length>2?`${l}-${c}-${p}`:p?`${l}-${p}`:l});return[...new Set(r)]},kA=(t,e,r={})=>{r.regionLowerCase||(r.regionLowerCase=!1),r.languageOnly||(r.languageOnly=!1);const n=EA(r),o=NA([...n,t],r);return xA(o,e,r)[0]||t},qA=({available:t,fallback:e})=>kA(e,t,{languageOnly:!0});var nv={exports:{}};const CA={},RA=Object.freeze(Object.defineProperty({__proto__:null,default:CA},Symbol.toStringTag,{value:"Module"})),xS=eC(RA);var SS;function OA(){return SS||(SS=1,function(t){(function(){var e="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",a=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?n=Iv:o&&(n=self);var l=!n.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,c=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],b=[24,16,8,0],x=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],N=["hex","array","digest","arrayBuffer"],R=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(W){return Object.prototype.toString.call(W)==="[object Array]"}),c&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(W){return typeof W=="object"&&W.buffer&&W.buffer.constructor===ArrayBuffer});var q=function(W,Q){return function(ue){return new B(Q,!0).update(ue)[W]()}},C=function(W){var Q=q("hex",W);a&&(Q=T(Q,W)),Q.create=function(){return new B(W)},Q.update=function(ne){return Q.create().update(ne)};for(var ue=0;ue<N.length;++ue){var V=N[ue];Q[V]=q(V,W)}return Q},T=function(W,Q){var ue=xS,V=xS.Buffer,ne=Q?"sha224":"sha256",M;V.from&&!n.JS_SHA256_NO_BUFFER_FROM?M=V.from:M=function(Z){return new V(Z)};var re=function(Z){if(typeof Z=="string")return ue.createHash(ne).update(Z,"utf8").digest("hex");if(Z==null)throw new Error(e);return Z.constructor===ArrayBuffer&&(Z=new Uint8Array(Z)),Array.isArray(Z)||ArrayBuffer.isView(Z)||Z.constructor===V?ue.createHash(ne).update(M(Z)).digest("hex"):W(Z)};return re},F=function(W,Q){return function(ue,V){return new z(ue,Q,!0).update(V)[W]()}},j=function(W){var Q=F("hex",W);Q.create=function(ne){return new z(ne,W)},Q.update=function(ne,M){return Q.create(ne).update(M)};for(var ue=0;ue<N.length;++ue){var V=N[ue];Q[V]=F(V,W)}return Q};function B(W,Q){Q?(R[0]=R[16]=R[1]=R[2]=R[3]=R[4]=R[5]=R[6]=R[7]=R[8]=R[9]=R[10]=R[11]=R[12]=R[13]=R[14]=R[15]=0,this.blocks=R):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=W}B.prototype.update=function(W){if(!this.finalized){var Q,ue=typeof W;if(ue!=="string"){if(ue==="object"){if(W===null)throw new Error(e);if(c&&W.constructor===ArrayBuffer)W=new Uint8Array(W);else if(!Array.isArray(W)&&(!c||!ArrayBuffer.isView(W)))throw new Error(e)}else throw new Error(e);Q=!0}for(var V,ne=0,M,re=W.length,Z=this.blocks;ne<re;){if(this.hashed&&(this.hashed=!1,Z[0]=this.block,this.block=Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),Q)for(M=this.start;ne<re&&M<64;++ne)Z[M>>>2]|=W[ne]<<b[M++&3];else for(M=this.start;ne<re&&M<64;++ne)V=W.charCodeAt(ne),V<128?Z[M>>>2]|=V<<b[M++&3]:V<2048?(Z[M>>>2]|=(192|V>>>6)<<b[M++&3],Z[M>>>2]|=(128|V&63)<<b[M++&3]):V<55296||V>=57344?(Z[M>>>2]|=(224|V>>>12)<<b[M++&3],Z[M>>>2]|=(128|V>>>6&63)<<b[M++&3],Z[M>>>2]|=(128|V&63)<<b[M++&3]):(V=65536+((V&1023)<<10|W.charCodeAt(++ne)&1023),Z[M>>>2]|=(240|V>>>18)<<b[M++&3],Z[M>>>2]|=(128|V>>>12&63)<<b[M++&3],Z[M>>>2]|=(128|V>>>6&63)<<b[M++&3],Z[M>>>2]|=(128|V&63)<<b[M++&3]);this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.block=Z[16],this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var W=this.blocks,Q=this.lastByteIndex;W[16]=this.block,W[Q>>>2]|=m[Q&3],this.block=W[16],Q>=56&&(this.hashed||this.hash(),W[0]=this.block,W[16]=W[1]=W[2]=W[3]=W[4]=W[5]=W[6]=W[7]=W[8]=W[9]=W[10]=W[11]=W[12]=W[13]=W[14]=W[15]=0),W[14]=this.hBytes<<3|this.bytes>>>29,W[15]=this.bytes<<3,this.hash()}},B.prototype.hash=function(){var W=this.h0,Q=this.h1,ue=this.h2,V=this.h3,ne=this.h4,M=this.h5,re=this.h6,Z=this.h7,pe=this.blocks,Re,Ce,je,ve,me,Ee,H,xe,lt,at,dt;for(Re=16;Re<64;++Re)me=pe[Re-15],Ce=(me>>>7|me<<25)^(me>>>18|me<<14)^me>>>3,me=pe[Re-2],je=(me>>>17|me<<15)^(me>>>19|me<<13)^me>>>10,pe[Re]=pe[Re-16]+Ce+pe[Re-7]+je<<0;for(dt=Q&ue,Re=0;Re<64;Re+=4)this.first?(this.is224?(xe=300032,me=pe[0]-0x543c9a5b,Z=me-0x8f1a6c7<<0,V=me+0x170e9b5<<0):(xe=0x2a01a605,me=pe[0]-0xc881298,Z=me-0x5ab00ac6<<0,V=me+0x8909ae5<<0),this.first=!1):(Ce=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),je=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),xe=W&Q,ve=xe^W&ue^dt,H=ne&M^~ne&re,me=Z+je+H+x[Re]+pe[Re],Ee=Ce+ve,Z=V+me<<0,V=me+Ee<<0),Ce=(V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10),je=(Z>>>6|Z<<26)^(Z>>>11|Z<<21)^(Z>>>25|Z<<7),lt=V&W,ve=lt^V&Q^xe,H=Z&ne^~Z&M,me=re+je+H+x[Re+1]+pe[Re+1],Ee=Ce+ve,re=ue+me<<0,ue=me+Ee<<0,Ce=(ue>>>2|ue<<30)^(ue>>>13|ue<<19)^(ue>>>22|ue<<10),je=(re>>>6|re<<26)^(re>>>11|re<<21)^(re>>>25|re<<7),at=ue&V,ve=at^ue&W^lt,H=re&Z^~re&ne,me=M+je+H+x[Re+2]+pe[Re+2],Ee=Ce+ve,M=Q+me<<0,Q=me+Ee<<0,Ce=(Q>>>2|Q<<30)^(Q>>>13|Q<<19)^(Q>>>22|Q<<10),je=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),dt=Q&ue,ve=dt^Q&V^at,H=M&re^~M&Z,me=ne+je+H+x[Re+3]+pe[Re+3],Ee=Ce+ve,ne=W+me<<0,W=me+Ee<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+W<<0,this.h1=this.h1+Q<<0,this.h2=this.h2+ue<<0,this.h3=this.h3+V<<0,this.h4=this.h4+ne<<0,this.h5=this.h5+M<<0,this.h6=this.h6+re<<0,this.h7=this.h7+Z<<0},B.prototype.hex=function(){this.finalize();var W=this.h0,Q=this.h1,ue=this.h2,V=this.h3,ne=this.h4,M=this.h5,re=this.h6,Z=this.h7,pe=p[W>>>28&15]+p[W>>>24&15]+p[W>>>20&15]+p[W>>>16&15]+p[W>>>12&15]+p[W>>>8&15]+p[W>>>4&15]+p[W&15]+p[Q>>>28&15]+p[Q>>>24&15]+p[Q>>>20&15]+p[Q>>>16&15]+p[Q>>>12&15]+p[Q>>>8&15]+p[Q>>>4&15]+p[Q&15]+p[ue>>>28&15]+p[ue>>>24&15]+p[ue>>>20&15]+p[ue>>>16&15]+p[ue>>>12&15]+p[ue>>>8&15]+p[ue>>>4&15]+p[ue&15]+p[V>>>28&15]+p[V>>>24&15]+p[V>>>20&15]+p[V>>>16&15]+p[V>>>12&15]+p[V>>>8&15]+p[V>>>4&15]+p[V&15]+p[ne>>>28&15]+p[ne>>>24&15]+p[ne>>>20&15]+p[ne>>>16&15]+p[ne>>>12&15]+p[ne>>>8&15]+p[ne>>>4&15]+p[ne&15]+p[M>>>28&15]+p[M>>>24&15]+p[M>>>20&15]+p[M>>>16&15]+p[M>>>12&15]+p[M>>>8&15]+p[M>>>4&15]+p[M&15]+p[re>>>28&15]+p[re>>>24&15]+p[re>>>20&15]+p[re>>>16&15]+p[re>>>12&15]+p[re>>>8&15]+p[re>>>4&15]+p[re&15];return this.is224||(pe+=p[Z>>>28&15]+p[Z>>>24&15]+p[Z>>>20&15]+p[Z>>>16&15]+p[Z>>>12&15]+p[Z>>>8&15]+p[Z>>>4&15]+p[Z&15]),pe},B.prototype.toString=B.prototype.hex,B.prototype.digest=function(){this.finalize();var W=this.h0,Q=this.h1,ue=this.h2,V=this.h3,ne=this.h4,M=this.h5,re=this.h6,Z=this.h7,pe=[W>>>24&255,W>>>16&255,W>>>8&255,W&255,Q>>>24&255,Q>>>16&255,Q>>>8&255,Q&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,re>>>24&255,re>>>16&255,re>>>8&255,re&255];return this.is224||pe.push(Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255),pe},B.prototype.array=B.prototype.digest,B.prototype.arrayBuffer=function(){this.finalize();var W=new ArrayBuffer(this.is224?28:32),Q=new DataView(W);return Q.setUint32(0,this.h0),Q.setUint32(4,this.h1),Q.setUint32(8,this.h2),Q.setUint32(12,this.h3),Q.setUint32(16,this.h4),Q.setUint32(20,this.h5),Q.setUint32(24,this.h6),this.is224||Q.setUint32(28,this.h7),W};function z(W,Q,ue){var V,ne=typeof W;if(ne==="string"){var M=[],re=W.length,Z=0,pe;for(V=0;V<re;++V)pe=W.charCodeAt(V),pe<128?M[Z++]=pe:pe<2048?(M[Z++]=192|pe>>>6,M[Z++]=128|pe&63):pe<55296||pe>=57344?(M[Z++]=224|pe>>>12,M[Z++]=128|pe>>>6&63,M[Z++]=128|pe&63):(pe=65536+((pe&1023)<<10|W.charCodeAt(++V)&1023),M[Z++]=240|pe>>>18,M[Z++]=128|pe>>>12&63,M[Z++]=128|pe>>>6&63,M[Z++]=128|pe&63);W=M}else if(ne==="object"){if(W===null)throw new Error(e);if(c&&W.constructor===ArrayBuffer)W=new Uint8Array(W);else if(!Array.isArray(W)&&(!c||!ArrayBuffer.isView(W)))throw new Error(e)}else throw new Error(e);W.length>64&&(W=new B(Q,!0).update(W).array());var Re=[],Ce=[];for(V=0;V<64;++V){var je=W[V]||0;Re[V]=92^je,Ce[V]=54^je}B.call(this,Q,ue),this.update(Ce),this.oKeyPad=Re,this.inner=!0,this.sharedMemory=ue}z.prototype=new B,z.prototype.finalize=function(){if(B.prototype.finalize.call(this),this.inner){this.inner=!1;var W=this.array();B.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(W),B.prototype.finalize.call(this)}};var K=C();K.sha256=K,K.sha224=C(!0),K.sha256.hmac=j(),K.sha224.hmac=j(!0),l?t.exports=K:(n.sha256=K.sha256,n.sha224=K.sha224)})()}(nv)),nv.exports}var Jv=OA();const IA=Jv.sha224,k1=({index:t,key:e,fallback:r})=>t[IA(e)]?.value??t[e]?.value??r??e,TA=({index:t,key:e,fallback:r})=>k1({index:t,key:e,fallback:r}),AA=({index:t,key:e,fallback:r})=>k1({index:t,key:e,fallback:r}),Ri={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>TA({index:Ri.index,key:t,fallback:e}),rich:(t,e)=>AA({index:Ri.index,key:t,fallback:e})},D_={hash(t){return Jv.sha224(t)},verify(t,e){return Jv.sha224(t)===e}};var dr;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const a={};for(const l of o)a[l]=l;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(c=>typeof o[o[c]]!="number"),l={};for(const c of a)l[c]=o[c];return t.objectValues(l)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&a.push(l);return a},t.find=(o,a)=>{for(const l of o)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,a=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(dr||(dr={}));var Zv;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Zv||(Zv={}));const kt=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lo=t=>{switch(typeof t){case"undefined":return kt.undefined;case"string":return kt.string;case"number":return isNaN(t)?kt.nan:kt.number;case"boolean":return kt.boolean;case"function":return kt.function;case"bigint":return kt.bigint;case"symbol":return kt.symbol;case"object":return Array.isArray(t)?kt.array:t===null?kt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?kt.promise:typeof Map<"u"&&t instanceof Map?kt.map:typeof Set<"u"&&t instanceof Set?kt.set:typeof Date<"u"&&t instanceof Date?kt.date:kt.object;default:return kt.unknown}},it=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),PA=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ci extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},o=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(o);else if(l.code==="invalid_return_type")o(l.returnTypeError);else if(l.code==="invalid_arguments")o(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let c=n,p=0;for(;p<l.path.length;){const m=l.path[p];p===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(r(l))):c[m]=c[m]||{_errors:[]},c=c[m],p++}}};return o(this),n}static assert(e){if(!(e instanceof Ci))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ci.create=t=>new Ci(t);const wu=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===kt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,dr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:dr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,dr.assertNever(t)}return{message:r}};let q1=wu;function jA(t){q1=t}function ep(){return q1}const tp=t=>{const{data:e,path:r,errorMaps:n,issueData:o}=t,a=[...r,...o.path||[]],l={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let c="";const p=n.filter(m=>!!m).slice().reverse();for(const m of p)c=m(l,{data:e,defaultError:c}).message;return{...o,path:a,message:c}},LA=[];function xt(t,e){const r=ep(),n=tp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===wu?void 0:wu].filter(o=>!!o)});t.common.issues.push(n)}class Ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const o of r){if(o.status==="aborted")return Qt;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const o of r){const a=await o.key,l=await o.value;n.push({key:a,value:l})}return Ln.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const o of r){const{key:a,value:l}=o;if(a.status==="aborted"||l.status==="aborted")return Qt;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||o.alwaysSet)&&(n[a.value]=l.value)}return{status:e.value,value:n}}}const Qt=Object.freeze({status:"aborted"}),Xl=t=>({status:"dirty",value:t}),Hn=t=>({status:"valid",value:t}),Xv=t=>t.status==="aborted",Yv=t=>t.status==="dirty",ol=t=>t.status==="valid",sd=t=>typeof Promise<"u"&&t instanceof Promise;function rp(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function C1(t,e,r,n,o){if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Dt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Dt||(Dt={}));var Lc,Fc;class js{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ES=(t,e)=>{if(ol(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ci(t.common.issues);return this._error=r,this._error}}};function nr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(l,c)=>{var p,m;const{message:b}=t;return l.code==="invalid_enum_value"?{message:b??c.defaultError}:typeof c.data>"u"?{message:(p=b??n)!==null&&p!==void 0?p:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(m=b??r)!==null&&m!==void 0?m:c.defaultError}},description:o}}class or{get description(){return this._def.description}_getType(e){return lo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:lo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ln,ctx:{common:e.parent.common,data:e.data,parsedType:lo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(sd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lo(e)},a=this._parseSync({data:e,path:o.path,parent:o});return ES(o,a)}"~validate"(e){var r,n;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lo(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:o});return ol(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((n=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(a=>ol(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lo(e)},o=this._parse({data:e,path:n.path,parent:n}),a=await (sd(o)?o:Promise.resolve(o));return ES(n,a)}refine(e,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{const l=e(o),c=()=>a.addIssue({code:it.custom,...n(o)});return typeof Promise<"u"&&l instanceof Promise?l.then(p=>p?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new ds({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return As.create(this,this._def)}nullable(){return ga.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cs.create(this)}promise(){return Su.create(this,this._def)}or(e){return ud.create([this,e],this._def)}and(e){return cd.create(this,e,this._def)}transform(e){return new ds({...nr(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new md({...nr(this._def),innerType:this,defaultValue:r,typeName:Ht.ZodDefault})}brand(){return new M_({typeName:Ht.ZodBranded,type:this,...nr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new yd({...nr(this._def),innerType:this,catchValue:r,typeName:Ht.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Pd.create(this,e)}readonly(){return gd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const FA=/^c[^\s-]{8,}$/i,DA=/^[0-9a-z]+$/,MA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,BA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WA=/^[a-z0-9_-]{21}$/i,$A=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let iv;const HA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,QA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,KA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,GA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,JA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ZA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,R1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XA=new RegExp(`^${R1}$`);function O1(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function YA(t){return new RegExp(`^${O1(t)}$`)}function I1(t){let e=`${R1}T${O1(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function eP(t,e){return!!((e==="v4"||!e)&&HA.test(t)||(e==="v6"||!e)&&KA.test(t))}function tP(t,e){if(!$A.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function rP(t,e){return!!((e==="v4"||!e)&&QA.test(t)||(e==="v6"||!e)&&GA.test(t))}class us extends or{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==kt.string){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.string,received:a.parsedType}),Qt}const n=new Ln;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,c=e.data.length<a.value;(l||c)&&(o=this._getOrReturnCtx(e,o),l?xt(o,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&xt(o,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")zA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"email",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")iv||(iv=new RegExp(VA,"u")),iv.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"emoji",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")BA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"uuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")WA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"nanoid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")FA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")DA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cuid2",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")MA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"ulid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),xt(o,{validation:"url",code:it.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"regex",code:it.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?I1(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?XA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?YA(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?UA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"duration",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?eP(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"ip",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?tP(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"jwt",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?rP(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cidr",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?JA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"base64",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?ZA.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"base64url",code:it.invalid_string,message:a.message}),n.dirty()):dr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:it.invalid_string,...Dt.errToObj(n)})}_addCheck(e){return new us({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Dt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Dt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Dt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Dt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Dt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Dt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Dt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Dt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Dt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Dt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Dt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Dt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Dt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Dt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Dt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Dt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Dt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Dt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Dt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Dt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Dt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Dt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Dt.errToObj(r)})}nonempty(e){return this.min(1,Dt.errToObj(e))}trim(){return new us({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new us({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new us({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}us.create=t=>{var e;return new us({checks:[],typeName:Ht.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};function nP(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,a=parseInt(t.toFixed(o).replace(".","")),l=parseInt(e.toFixed(o).replace(".",""));return a%l/Math.pow(10,o)}class pa extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==kt.number){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.number,received:a.parsedType}),Qt}let n;const o=new Ln;for(const a of this._def.checks)a.kind==="int"?dr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?nP(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_finite,message:a.message}),o.dirty()):dr.assertNever(a);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Dt.toString(r))}setLimit(e,r,n,o){return new pa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Dt.toString(o)}]})}_addCheck(e){return new pa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Dt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Dt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Dt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Dt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Dt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}pa.create=t=>new pa({checks:[],typeName:Ht.ZodNumber,coerce:t?.coerce||!1,...nr(t)});class ma extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==kt.bigint)return this._getInvalidInput(e);let n;const o=new Ln;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):dr.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:kt.bigint,received:r.parsedType}),Qt}gte(e,r){return this.setLimit("min",e,!0,Dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Dt.toString(r))}setLimit(e,r,n,o){return new ma({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Dt.toString(o)}]})}_addCheck(e){return new ma({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Dt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ma.create=t=>{var e;return new ma({checks:[],typeName:Ht.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};class od extends or{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==kt.boolean){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.boolean,received:n.parsedType}),Qt}return Hn(e.data)}}od.create=t=>new od({typeName:Ht.ZodBoolean,coerce:t?.coerce||!1,...nr(t)});class al extends or{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==kt.date){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.date,received:a.parsedType}),Qt}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_date}),Qt}const n=new Ln;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):dr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new al({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Dt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Dt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}al.create=t=>new al({checks:[],coerce:t?.coerce||!1,typeName:Ht.ZodDate,...nr(t)});class np extends or{_parse(e){if(this._getType(e)!==kt.symbol){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.symbol,received:n.parsedType}),Qt}return Hn(e.data)}}np.create=t=>new np({typeName:Ht.ZodSymbol,...nr(t)});class ad extends or{_parse(e){if(this._getType(e)!==kt.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.undefined,received:n.parsedType}),Qt}return Hn(e.data)}}ad.create=t=>new ad({typeName:Ht.ZodUndefined,...nr(t)});class ld extends or{_parse(e){if(this._getType(e)!==kt.null){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.null,received:n.parsedType}),Qt}return Hn(e.data)}}ld.create=t=>new ld({typeName:Ht.ZodNull,...nr(t)});class xu extends or{constructor(){super(...arguments),this._any=!0}_parse(e){return Hn(e.data)}}xu.create=t=>new xu({typeName:Ht.ZodAny,...nr(t)});class rl extends or{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Hn(e.data)}}rl.create=t=>new rl({typeName:Ht.ZodUnknown,...nr(t)});class po extends or{_parse(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:kt.never,received:r.parsedType}),Qt}}po.create=t=>new po({typeName:Ht.ZodNever,...nr(t)});class ip extends or{_parse(e){if(this._getType(e)!==kt.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.void,received:n.parsedType}),Qt}return Hn(e.data)}}ip.create=t=>new ip({typeName:Ht.ZodVoid,...nr(t)});class cs extends or{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==kt.array)return xt(r,{code:it.invalid_type,expected:kt.array,received:r.parsedType}),Qt;if(o.exactLength!==null){const l=r.data.length>o.exactLength.value,c=r.data.length<o.exactLength.value;(l||c)&&(xt(r,{code:l?it.too_big:it.too_small,minimum:c?o.exactLength.value:void 0,maximum:l?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(xt(r,{code:it.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(xt(r,{code:it.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,c)=>o.type._parseAsync(new js(r,l,r.path,c)))).then(l=>Ln.mergeArray(n,l));const a=[...r.data].map((l,c)=>o.type._parseSync(new js(r,l,r.path,c)));return Ln.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new cs({...this._def,minLength:{value:e,message:Dt.toString(r)}})}max(e,r){return new cs({...this._def,maxLength:{value:e,message:Dt.toString(r)}})}length(e,r){return new cs({...this._def,exactLength:{value:e,message:Dt.toString(r)}})}nonempty(e){return this.min(1,e)}}cs.create=(t,e)=>new cs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...nr(e)});function Gl(t){if(t instanceof Gr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=As.create(Gl(n))}return new Gr({...t._def,shape:()=>e})}else return t instanceof cs?new cs({...t._def,type:Gl(t.element)}):t instanceof As?As.create(Gl(t.unwrap())):t instanceof ga?ga.create(Gl(t.unwrap())):t instanceof Ls?Ls.create(t.items.map(e=>Gl(e))):t}class Gr extends or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=dr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==kt.object){const m=this._getOrReturnCtx(e);return xt(m,{code:it.invalid_type,expected:kt.object,received:m.parsedType}),Qt}const{status:n,ctx:o}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof po&&this._def.unknownKeys==="strip"))for(const m in o.data)l.includes(m)||c.push(m);const p=[];for(const m of l){const b=a[m],x=o.data[m];p.push({key:{status:"valid",value:m},value:b._parse(new js(o,x,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof po){const m=this._def.unknownKeys;if(m==="passthrough")for(const b of c)p.push({key:{status:"valid",value:b},value:{status:"valid",value:o.data[b]}});else if(m==="strict")c.length>0&&(xt(o,{code:it.unrecognized_keys,keys:c}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const b of c){const x=o.data[b];p.push({key:{status:"valid",value:b},value:m._parse(new js(o,x,o.path,b)),alwaysSet:b in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const b of p){const x=await b.key,N=await b.value;m.push({key:x,value:N,alwaysSet:b.alwaysSet})}return m}).then(m=>Ln.mergeObjectSync(n,m)):Ln.mergeObjectSync(n,p)}get shape(){return this._def.shape()}strict(e){return Dt.errToObj,new Gr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,a,l,c;const p=(l=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Dt.errToObj(e).message)!==null&&c!==void 0?c:p}:{message:p}}}:{}})}strip(){return new Gr({...this._def,unknownKeys:"strip"})}passthrough(){return new Gr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ht.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Gr({...this._def,catchall:e})}pick(e){const r={};return dr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Gr({...this._def,shape:()=>r})}omit(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Gr({...this._def,shape:()=>r})}deepPartial(){return Gl(this)}partial(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{const o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new Gr({...this._def,shape:()=>r})}required(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof As;)a=a._def.innerType;r[n]=a}}),new Gr({...this._def,shape:()=>r})}keyof(){return T1(dr.objectKeys(this.shape))}}Gr.create=(t,e)=>new Gr({shape:()=>t,unknownKeys:"strip",catchall:po.create(),typeName:Ht.ZodObject,...nr(e)});Gr.strictCreate=(t,e)=>new Gr({shape:()=>t,unknownKeys:"strict",catchall:po.create(),typeName:Ht.ZodObject,...nr(e)});Gr.lazycreate=(t,e)=>new Gr({shape:t,unknownKeys:"strip",catchall:po.create(),typeName:Ht.ZodObject,...nr(e)});class ud extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function o(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new Ci(c.ctx.common.issues));return xt(r,{code:it.invalid_union,unionErrors:l}),Qt}if(r.common.async)return Promise.all(n.map(async a=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(o);{let a;const l=[];for(const p of n){const m={...r,common:{...r.common,issues:[]},parent:null},b=p._parseSync({data:r.data,path:r.path,parent:m});if(b.status==="valid")return b;b.status==="dirty"&&!a&&(a={result:b,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(p=>new Ci(p));return xt(r,{code:it.invalid_union,unionErrors:c}),Qt}}get options(){return this._def.options}}ud.create=(t,e)=>new ud({options:t,typeName:Ht.ZodUnion,...nr(e)});const so=t=>t instanceof fd?so(t.schema):t instanceof ds?so(t.innerType()):t instanceof hd?[t.value]:t instanceof ya?t.options:t instanceof pd?dr.objectValues(t.enum):t instanceof md?so(t._def.innerType):t instanceof ad?[void 0]:t instanceof ld?[null]:t instanceof As?[void 0,...so(t.unwrap())]:t instanceof ga?[null,...so(t.unwrap())]:t instanceof M_||t instanceof gd?so(t.unwrap()):t instanceof yd?so(t._def.innerType):[];class Qp extends or{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.object)return xt(r,{code:it.invalid_type,expected:kt.object,received:r.parsedType}),Qt;const n=this.discriminator,o=r.data[n],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xt(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const o=new Map;for(const a of r){const l=so(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(o.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);o.set(c,a)}}return new Qp({typeName:Ht.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...nr(n)})}}function e_(t,e){const r=lo(t),n=lo(e);if(t===e)return{valid:!0,data:t};if(r===kt.object&&n===kt.object){const o=dr.objectKeys(e),a=dr.objectKeys(t).filter(c=>o.indexOf(c)!==-1),l={...t,...e};for(const c of a){const p=e_(t[c],e[c]);if(!p.valid)return{valid:!1};l[c]=p.data}return{valid:!0,data:l}}else if(r===kt.array&&n===kt.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const l=t[a],c=e[a],p=e_(l,c);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return r===kt.date&&n===kt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class cd extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=(a,l)=>{if(Xv(a)||Xv(l))return Qt;const c=e_(a.value,l.value);return c.valid?((Yv(a)||Yv(l))&&r.dirty(),{status:r.value,value:c.data}):(xt(n,{code:it.invalid_intersection_types}),Qt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,l])=>o(a,l)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}cd.create=(t,e,r)=>new cd({left:t,right:e,typeName:Ht.ZodIntersection,...nr(r)});class Ls extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.array)return xt(n,{code:it.invalid_type,expected:kt.array,received:n.parsedType}),Qt;if(n.data.length<this._def.items.length)return xt(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qt;!this._def.rest&&n.data.length>this._def.items.length&&(xt(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,c)=>{const p=this._def.items[c]||this._def.rest;return p?p._parse(new js(n,l,n.path,c)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>Ln.mergeArray(r,l)):Ln.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ls({...this._def,rest:e})}}Ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ls({items:t,typeName:Ht.ZodTuple,rest:null,...nr(e)})};class dd extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.object)return xt(n,{code:it.invalid_type,expected:kt.object,received:n.parsedType}),Qt;const o=[],a=this._def.keyType,l=this._def.valueType;for(const c in n.data)o.push({key:a._parse(new js(n,c,n.path,c)),value:l._parse(new js(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?Ln.mergeObjectAsync(r,o):Ln.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof or?new dd({keyType:e,valueType:r,typeName:Ht.ZodRecord,...nr(n)}):new dd({keyType:us.create(),valueType:e,typeName:Ht.ZodRecord,...nr(r)})}}class sp extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.map)return xt(n,{code:it.invalid_type,expected:kt.map,received:n.parsedType}),Qt;const o=this._def.keyType,a=this._def.valueType,l=[...n.data.entries()].map(([c,p],m)=>({key:o._parse(new js(n,c,n.path,[m,"key"])),value:a._parse(new js(n,p,n.path,[m,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const p of l){const m=await p.key,b=await p.value;if(m.status==="aborted"||b.status==="aborted")return Qt;(m.status==="dirty"||b.status==="dirty")&&r.dirty(),c.set(m.value,b.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const p of l){const m=p.key,b=p.value;if(m.status==="aborted"||b.status==="aborted")return Qt;(m.status==="dirty"||b.status==="dirty")&&r.dirty(),c.set(m.value,b.value)}return{status:r.value,value:c}}}}sp.create=(t,e,r)=>new sp({valueType:e,keyType:t,typeName:Ht.ZodMap,...nr(r)});class ll extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.set)return xt(n,{code:it.invalid_type,expected:kt.set,received:n.parsedType}),Qt;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(xt(n,{code:it.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(xt(n,{code:it.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const a=this._def.valueType;function l(p){const m=new Set;for(const b of p){if(b.status==="aborted")return Qt;b.status==="dirty"&&r.dirty(),m.add(b.value)}return{status:r.value,value:m}}const c=[...n.data.values()].map((p,m)=>a._parse(new js(n,p,n.path,m)));return n.common.async?Promise.all(c).then(p=>l(p)):l(c)}min(e,r){return new ll({...this._def,minSize:{value:e,message:Dt.toString(r)}})}max(e,r){return new ll({...this._def,maxSize:{value:e,message:Dt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ll.create=(t,e)=>new ll({valueType:t,minSize:null,maxSize:null,typeName:Ht.ZodSet,...nr(e)});class lu extends or{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.function)return xt(r,{code:it.invalid_type,expected:kt.function,received:r.parsedType}),Qt;function n(c,p){return tp({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ep(),wu].filter(m=>!!m),issueData:{code:it.invalid_arguments,argumentsError:p}})}function o(c,p){return tp({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ep(),wu].filter(m=>!!m),issueData:{code:it.invalid_return_type,returnTypeError:p}})}const a={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Su){const c=this;return Hn(async function(...p){const m=new Ci([]),b=await c._def.args.parseAsync(p,a).catch(R=>{throw m.addIssue(n(p,R)),m}),x=await Reflect.apply(l,this,b);return await c._def.returns._def.type.parseAsync(x,a).catch(R=>{throw m.addIssue(o(x,R)),m})})}else{const c=this;return Hn(function(...p){const m=c._def.args.safeParse(p,a);if(!m.success)throw new Ci([n(p,m.error)]);const b=Reflect.apply(l,this,m.data),x=c._def.returns.safeParse(b,a);if(!x.success)throw new Ci([o(b,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new lu({...this._def,args:Ls.create(e).rest(rl.create())})}returns(e){return new lu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new lu({args:e||Ls.create([]).rest(rl.create()),returns:r||rl.create(),typeName:Ht.ZodFunction,...nr(n)})}}class fd extends or{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}fd.create=(t,e)=>new fd({getter:t,typeName:Ht.ZodLazy,...nr(e)});class hd extends or{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),Qt}return{status:"valid",value:e.data}}get value(){return this._def.value}}hd.create=(t,e)=>new hd({value:t,typeName:Ht.ZodLiteral,...nr(e)});function T1(t,e){return new ya({values:t,typeName:Ht.ZodEnum,...nr(e)})}class ya extends or{constructor(){super(...arguments),Lc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{expected:dr.joinValues(n),received:r.parsedType,code:it.invalid_type}),Qt}if(rp(this,Lc)||C1(this,Lc,new Set(this._def.values)),!rp(this,Lc).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{received:r.data,code:it.invalid_enum_value,options:n}),Qt}return Hn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ya.create(e,{...this._def,...r})}exclude(e,r=this._def){return ya.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Lc=new WeakMap;ya.create=T1;class pd extends or{constructor(){super(...arguments),Fc.set(this,void 0)}_parse(e){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==kt.string&&n.parsedType!==kt.number){const o=dr.objectValues(r);return xt(n,{expected:dr.joinValues(o),received:n.parsedType,code:it.invalid_type}),Qt}if(rp(this,Fc)||C1(this,Fc,new Set(dr.getValidEnumValues(this._def.values))),!rp(this,Fc).has(e.data)){const o=dr.objectValues(r);return xt(n,{received:n.data,code:it.invalid_enum_value,options:o}),Qt}return Hn(e.data)}get enum(){return this._def.values}}Fc=new WeakMap;pd.create=(t,e)=>new pd({values:t,typeName:Ht.ZodNativeEnum,...nr(e)});class Su extends or{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.promise&&r.common.async===!1)return xt(r,{code:it.invalid_type,expected:kt.promise,received:r.parsedType}),Qt;const n=r.parsedType===kt.promise?r.data:Promise.resolve(r.data);return Hn(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Su.create=(t,e)=>new Su({type:t,typeName:Ht.ZodPromise,...nr(e)});class ds extends or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:l=>{xt(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const l=o.transform(n.data,a);if(n.common.async)return Promise.resolve(l).then(async c=>{if(r.value==="aborted")return Qt;const p=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return p.status==="aborted"?Qt:p.status==="dirty"||r.value==="dirty"?Xl(p.value):p});{if(r.value==="aborted")return Qt;const c=this._def.schema._parseSync({data:l,path:n.path,parent:n});return c.status==="aborted"?Qt:c.status==="dirty"||r.value==="dirty"?Xl(c.value):c}}if(o.type==="refinement"){const l=c=>{const p=o.refinement(c,a);if(n.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Qt:(c.status==="dirty"&&r.dirty(),l(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Qt:(c.status==="dirty"&&r.dirty(),l(c.value).then(()=>({status:r.value,value:c.value}))))}if(o.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ol(l))return l;const c=o.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>ol(l)?Promise.resolve(o.transform(l.value,a)).then(c=>({status:r.value,value:c})):l);dr.assertNever(o)}}ds.create=(t,e,r)=>new ds({schema:t,typeName:Ht.ZodEffects,effect:e,...nr(r)});ds.createWithPreprocess=(t,e,r)=>new ds({schema:e,effect:{type:"preprocess",transform:t},typeName:Ht.ZodEffects,...nr(r)});class As extends or{_parse(e){return this._getType(e)===kt.undefined?Hn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}As.create=(t,e)=>new As({innerType:t,typeName:Ht.ZodOptional,...nr(e)});class ga extends or{_parse(e){return this._getType(e)===kt.null?Hn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ga.create=(t,e)=>new ga({innerType:t,typeName:Ht.ZodNullable,...nr(e)});class md extends or{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===kt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}md.create=(t,e)=>new md({innerType:t,typeName:Ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nr(e)});class yd extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sd(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ci(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ci(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}yd.create=(t,e)=>new yd({innerType:t,typeName:Ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nr(e)});class op extends or{_parse(e){if(this._getType(e)!==kt.nan){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.nan,received:n.parsedType}),Qt}return{status:"valid",value:e.data}}}op.create=t=>new op({typeName:Ht.ZodNaN,...nr(t)});const iP=Symbol("zod_brand");class M_ extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Pd extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Qt:a.status==="dirty"?(r.dirty(),Xl(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Qt:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new Pd({in:e,out:r,typeName:Ht.ZodPipeline})}}class gd extends or{_parse(e){const r=this._def.innerType._parse(e),n=o=>(ol(o)&&(o.value=Object.freeze(o.value)),o);return sd(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}gd.create=(t,e)=>new gd({innerType:t,typeName:Ht.ZodReadonly,...nr(e)});function A1(t,e={},r){return t?xu.create().superRefine((n,o)=>{var a,l;if(!t(n)){const c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,p=(l=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&l!==void 0?l:!0,m=typeof c=="string"?{message:c}:c;o.addIssue({code:"custom",...m,fatal:p})}}):xu.create()}const sP={object:Gr.lazycreate};var Ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const oP=(t,e={message:`Input not instance of ${t.name}`})=>A1(r=>r instanceof t,e),P1=us.create,j1=pa.create,aP=op.create,lP=ma.create,L1=od.create,uP=al.create,cP=np.create,dP=ad.create,fP=ld.create,hP=xu.create,pP=rl.create,mP=po.create,yP=ip.create,gP=cs.create,vP=Gr.create,_P=Gr.strictCreate,bP=ud.create,wP=Qp.create,xP=cd.create,SP=Ls.create,EP=dd.create,NP=sp.create,kP=ll.create,qP=lu.create,CP=fd.create,RP=hd.create,OP=ya.create,IP=pd.create,TP=Su.create,NS=ds.create,AP=As.create,PP=ga.create,jP=ds.createWithPreprocess,LP=Pd.create,FP=()=>P1().optional(),DP=()=>j1().optional(),MP=()=>L1().optional(),BP={string:t=>us.create({...t,coerce:!0}),number:t=>pa.create({...t,coerce:!0}),boolean:t=>od.create({...t,coerce:!0}),bigint:t=>ma.create({...t,coerce:!0}),date:t=>al.create({...t,coerce:!0})},WP=Qt;var Pe=Object.freeze({__proto__:null,defaultErrorMap:wu,setErrorMap:jA,getErrorMap:ep,makeIssue:tp,EMPTY_PATH:LA,addIssueToContext:xt,ParseStatus:Ln,INVALID:Qt,DIRTY:Xl,OK:Hn,isAborted:Xv,isDirty:Yv,isValid:ol,isAsync:sd,get util(){return dr},get objectUtil(){return Zv},ZodParsedType:kt,getParsedType:lo,ZodType:or,datetimeRegex:I1,ZodString:us,ZodNumber:pa,ZodBigInt:ma,ZodBoolean:od,ZodDate:al,ZodSymbol:np,ZodUndefined:ad,ZodNull:ld,ZodAny:xu,ZodUnknown:rl,ZodNever:po,ZodVoid:ip,ZodArray:cs,ZodObject:Gr,ZodUnion:ud,ZodDiscriminatedUnion:Qp,ZodIntersection:cd,ZodTuple:Ls,ZodRecord:dd,ZodMap:sp,ZodSet:ll,ZodFunction:lu,ZodLazy:fd,ZodLiteral:hd,ZodEnum:ya,ZodNativeEnum:pd,ZodPromise:Su,ZodEffects:ds,ZodTransformer:ds,ZodOptional:As,ZodNullable:ga,ZodDefault:md,ZodCatch:yd,ZodNaN:op,BRAND:iP,ZodBranded:M_,ZodPipeline:Pd,ZodReadonly:gd,custom:A1,Schema:or,ZodSchema:or,late:sP,get ZodFirstPartyTypeKind(){return Ht},coerce:BP,any:hP,array:gP,bigint:lP,boolean:L1,date:uP,discriminatedUnion:wP,effect:NS,enum:OP,function:qP,instanceof:oP,intersection:xP,lazy:CP,literal:RP,map:NP,nan:aP,nativeEnum:IP,never:mP,null:fP,nullable:PP,number:j1,object:vP,oboolean:MP,onumber:DP,optional:AP,ostring:FP,pipeline:LP,preprocess:jP,promise:TP,record:EP,set:kP,strictObject:_P,string:P1,symbol:cP,transformer:NS,tuple:SP,undefined:dP,union:bP,unknown:pP,void:yP,NEVER:WP,ZodIssueCode:it,quotelessJson:PA,ZodError:Ci}),Ul={},ro={},Ar={},ns={},kS;function F1(){if(kS)return ns;kS=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.anumber=t,ns.number=t,ns.abytes=r,ns.bytes=r,ns.ahash=n,ns.aexists=o,ns.aoutput=a;function t(c){if(!Number.isSafeInteger(c)||c<0)throw new Error("positive integer expected, got "+c)}function e(c){return c instanceof Uint8Array||ArrayBuffer.isView(c)&&c.constructor.name==="Uint8Array"}function r(c,...p){if(!e(c))throw new Error("Uint8Array expected");if(p.length>0&&!p.includes(c.length))throw new Error("Uint8Array expected of length "+p+", got length="+c.length)}function n(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(c.outputLen),t(c.blockLen)}function o(c,p=!0){if(c.destroyed)throw new Error("Hash instance has been destroyed");if(p&&c.finished)throw new Error("Hash#digest() has already been called")}function a(c,p){r(c);const m=p.outputLen;if(c.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:r,hash:n,exists:o,output:a};return ns.default=l,ns}var Zt={},qS;function $P(){if(qS)return Zt;qS=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.add5L=Zt.add5H=Zt.add4H=Zt.add4L=Zt.add3H=Zt.add3L=Zt.rotlBL=Zt.rotlBH=Zt.rotlSL=Zt.rotlSH=Zt.rotr32L=Zt.rotr32H=Zt.rotrBL=Zt.rotrBH=Zt.rotrSL=Zt.rotrSH=Zt.shrSL=Zt.shrSH=Zt.toBig=void 0,Zt.fromBig=r,Zt.split=n,Zt.add=F;const t=BigInt(2**32-1),e=BigInt(32);function r(V,ne=!1){return ne?{h:Number(V&t),l:Number(V>>e&t)}:{h:Number(V>>e&t)|0,l:Number(V&t)|0}}function n(V,ne=!1){let M=new Uint32Array(V.length),re=new Uint32Array(V.length);for(let Z=0;Z<V.length;Z++){const{h:pe,l:Re}=r(V[Z],ne);[M[Z],re[Z]]=[pe,Re]}return[M,re]}const o=(V,ne)=>BigInt(V>>>0)<<e|BigInt(ne>>>0);Zt.toBig=o;const a=(V,ne,M)=>V>>>M;Zt.shrSH=a;const l=(V,ne,M)=>V<<32-M|ne>>>M;Zt.shrSL=l;const c=(V,ne,M)=>V>>>M|ne<<32-M;Zt.rotrSH=c;const p=(V,ne,M)=>V<<32-M|ne>>>M;Zt.rotrSL=p;const m=(V,ne,M)=>V<<64-M|ne>>>M-32;Zt.rotrBH=m;const b=(V,ne,M)=>V>>>M-32|ne<<64-M;Zt.rotrBL=b;const x=(V,ne)=>ne;Zt.rotr32H=x;const N=(V,ne)=>V;Zt.rotr32L=N;const R=(V,ne,M)=>V<<M|ne>>>32-M;Zt.rotlSH=R;const q=(V,ne,M)=>ne<<M|V>>>32-M;Zt.rotlSL=q;const C=(V,ne,M)=>ne<<M-32|V>>>64-M;Zt.rotlBH=C;const T=(V,ne,M)=>V<<M-32|ne>>>64-M;Zt.rotlBL=T;function F(V,ne,M,re){const Z=(ne>>>0)+(re>>>0);return{h:V+M+(Z/2**32|0)|0,l:Z|0}}const j=(V,ne,M)=>(V>>>0)+(ne>>>0)+(M>>>0);Zt.add3L=j;const B=(V,ne,M,re)=>ne+M+re+(V/2**32|0)|0;Zt.add3H=B;const z=(V,ne,M,re)=>(V>>>0)+(ne>>>0)+(M>>>0)+(re>>>0);Zt.add4L=z;const K=(V,ne,M,re,Z)=>ne+M+re+Z+(V/2**32|0)|0;Zt.add4H=K;const W=(V,ne,M,re,Z)=>(V>>>0)+(ne>>>0)+(M>>>0)+(re>>>0)+(Z>>>0);Zt.add5L=W;const Q=(V,ne,M,re,Z,pe)=>ne+M+re+Z+pe+(V/2**32|0)|0;Zt.add5H=Q;const ue={fromBig:r,split:n,toBig:o,shrSH:a,shrSL:l,rotrSH:c,rotrSL:p,rotrBH:m,rotrBL:b,rotr32H:x,rotr32L:N,rotlSH:R,rotlSL:q,rotlBH:C,rotlBL:T,add:F,add3L:j,add3H:B,add4L:z,add4H:K,add5H:Q,add5L:W};return Zt.default=ue,Zt}var sv={},Ic={},CS;function UP(){return CS||(CS=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.crypto=void 0,Ic.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Ic}var RS;function zP(){return RS||(RS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=n,t.byteSwap32=b,t.bytesToHex=N,t.hexToBytes=C,t.asyncLoop=F,t.utf8ToBytes=j,t.toBytes=B,t.concatBytes=z,t.checkOpts=W,t.wrapConstructor=Q,t.wrapConstructorWithOpts=ue,t.wrapXOFConstructorWithOpts=V,t.randomBytes=ne;const e=UP(),r=F1();function n(M){return M instanceof Uint8Array||ArrayBuffer.isView(M)&&M.constructor.name==="Uint8Array"}const o=M=>new Uint8Array(M.buffer,M.byteOffset,M.byteLength);t.u8=o;const a=M=>new Uint32Array(M.buffer,M.byteOffset,Math.floor(M.byteLength/4));t.u32=a;const l=M=>new DataView(M.buffer,M.byteOffset,M.byteLength);t.createView=l;const c=(M,re)=>M<<32-re|M>>>re;t.rotr=c;const p=(M,re)=>M<<re|M>>>32-re>>>0;t.rotl=p,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=M=>M<<24&0xff000000|M<<8&0xff0000|M>>>8&65280|M>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?M=>M:M=>(0,t.byteSwap)(M);function b(M){for(let re=0;re<M.length;re++)M[re]=(0,t.byteSwap)(M[re])}const x=Array.from({length:256},(M,re)=>re.toString(16).padStart(2,"0"));function N(M){(0,r.abytes)(M);let re="";for(let Z=0;Z<M.length;Z++)re+=x[M[Z]];return re}const R={_0:48,_9:57,A:65,F:70,a:97,f:102};function q(M){if(M>=R._0&&M<=R._9)return M-R._0;if(M>=R.A&&M<=R.F)return M-(R.A-10);if(M>=R.a&&M<=R.f)return M-(R.a-10)}function C(M){if(typeof M!="string")throw new Error("hex string expected, got "+typeof M);const re=M.length,Z=re/2;if(re%2)throw new Error("hex string expected, got unpadded hex of length "+re);const pe=new Uint8Array(Z);for(let Re=0,Ce=0;Re<Z;Re++,Ce+=2){const je=q(M.charCodeAt(Ce)),ve=q(M.charCodeAt(Ce+1));if(je===void 0||ve===void 0){const me=M[Ce]+M[Ce+1];throw new Error('hex string expected, got non-hex character "'+me+'" at index '+Ce)}pe[Re]=je*16+ve}return pe}const T=async()=>{};t.nextTick=T;async function F(M,re,Z){let pe=Date.now();for(let Re=0;Re<M;Re++){Z(Re);const Ce=Date.now()-pe;Ce>=0&&Ce<re||(await (0,t.nextTick)(),pe+=Ce)}}function j(M){if(typeof M!="string")throw new Error("utf8ToBytes expected string, got "+typeof M);return new Uint8Array(new TextEncoder().encode(M))}function B(M){return typeof M=="string"&&(M=j(M)),(0,r.abytes)(M),M}function z(...M){let re=0;for(let pe=0;pe<M.length;pe++){const Re=M[pe];(0,r.abytes)(Re),re+=Re.length}const Z=new Uint8Array(re);for(let pe=0,Re=0;pe<M.length;pe++){const Ce=M[pe];Z.set(Ce,Re),Re+=Ce.length}return Z}class K{clone(){return this._cloneInto()}}t.Hash=K;function W(M,re){if(re!==void 0&&{}.toString.call(re)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(M,re)}function Q(M){const re=pe=>M().update(B(pe)).digest(),Z=M();return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=()=>M(),re}function ue(M){const re=(pe,Re)=>M(Re).update(B(pe)).digest(),Z=M({});return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=pe=>M(pe),re}function V(M){const re=(pe,Re)=>M(Re).update(B(pe)).digest(),Z=M({});return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=pe=>M(pe),re}function ne(M=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(M));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(M);throw new Error("crypto.getRandomValues must be defined")}}(sv)),sv}var OS;function VP(){if(OS)return Ar;OS=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.shake256=Ar.shake128=Ar.keccak_512=Ar.keccak_384=Ar.keccak_256=Ar.keccak_224=Ar.sha3_512=Ar.sha3_384=Ar.sha3_256=Ar.sha3_224=Ar.Keccak=void 0,Ar.keccakP=T;const t=F1(),e=$P(),r=zP(),n=[],o=[],a=[],l=BigInt(0),c=BigInt(1),p=BigInt(2),m=BigInt(7),b=BigInt(256),x=BigInt(113);for(let z=0,K=c,W=1,Q=0;z<24;z++){[W,Q]=[Q,(2*W+3*Q)%5],n.push(2*(5*Q+W)),o.push((z+1)*(z+2)/2%64);let ue=l;for(let V=0;V<7;V++)K=(K<<c^(K>>m)*x)%b,K&p&&(ue^=c<<(c<<BigInt(V))-c);a.push(ue)}const[N,R]=(0,e.split)(a,!0),q=(z,K,W)=>W>32?(0,e.rotlBH)(z,K,W):(0,e.rotlSH)(z,K,W),C=(z,K,W)=>W>32?(0,e.rotlBL)(z,K,W):(0,e.rotlSL)(z,K,W);function T(z,K=24){const W=new Uint32Array(10);for(let Q=24-K;Q<24;Q++){for(let ne=0;ne<10;ne++)W[ne]=z[ne]^z[ne+10]^z[ne+20]^z[ne+30]^z[ne+40];for(let ne=0;ne<10;ne+=2){const M=(ne+8)%10,re=(ne+2)%10,Z=W[re],pe=W[re+1],Re=q(Z,pe,1)^W[M],Ce=C(Z,pe,1)^W[M+1];for(let je=0;je<50;je+=10)z[ne+je]^=Re,z[ne+je+1]^=Ce}let ue=z[2],V=z[3];for(let ne=0;ne<24;ne++){const M=o[ne],re=q(ue,V,M),Z=C(ue,V,M),pe=n[ne];ue=z[pe],V=z[pe+1],z[pe]=re,z[pe+1]=Z}for(let ne=0;ne<50;ne+=10){for(let M=0;M<10;M++)W[M]=z[ne+M];for(let M=0;M<10;M++)z[ne+M]^=~W[(M+2)%10]&W[(M+4)%10]}z[0]^=N[Q],z[1]^=R[Q]}W.fill(0)}class F extends r.Hash{constructor(K,W,Q,ue=!1,V=24){if(super(),this.blockLen=K,this.suffix=W,this.outputLen=Q,this.enableXOF=ue,this.rounds=V,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(Q),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),T(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(K){(0,t.aexists)(this);const{blockLen:W,state:Q}=this;K=(0,r.toBytes)(K);const ue=K.length;for(let V=0;V<ue;){const ne=Math.min(W-this.pos,ue-V);for(let M=0;M<ne;M++)Q[this.pos++]^=K[V++];this.pos===W&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:K,suffix:W,pos:Q,blockLen:ue}=this;K[Q]^=W,W&128&&Q===ue-1&&this.keccak(),K[ue-1]^=128,this.keccak()}writeInto(K){(0,t.aexists)(this,!1),(0,t.abytes)(K),this.finish();const W=this.state,{blockLen:Q}=this;for(let ue=0,V=K.length;ue<V;){this.posOut>=Q&&this.keccak();const ne=Math.min(Q-this.posOut,V-ue);K.set(W.subarray(this.posOut,this.posOut+ne),ue),this.posOut+=ne,ue+=ne}return K}xofInto(K){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(K)}xof(K){return(0,t.anumber)(K),this.xofInto(new Uint8Array(K))}digestInto(K){if((0,t.aoutput)(K,this),this.finished)throw new Error("digest() was already called");return this.writeInto(K),this.destroy(),K}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(K){const{blockLen:W,suffix:Q,outputLen:ue,rounds:V,enableXOF:ne}=this;return K||(K=new F(W,Q,ue,ne,V)),K.state32.set(this.state32),K.pos=this.pos,K.posOut=this.posOut,K.finished=this.finished,K.rounds=V,K.suffix=Q,K.outputLen=ue,K.enableXOF=ne,K.destroyed=this.destroyed,K}}Ar.Keccak=F;const j=(z,K,W)=>(0,r.wrapConstructor)(()=>new F(K,z,W));Ar.sha3_224=j(6,144,224/8),Ar.sha3_256=j(6,136,256/8),Ar.sha3_384=j(6,104,384/8),Ar.sha3_512=j(6,72,512/8),Ar.keccak_224=j(1,144,224/8),Ar.keccak_256=j(1,136,256/8),Ar.keccak_384=j(1,104,384/8),Ar.keccak_512=j(1,72,512/8);const B=(z,K,W)=>(0,r.wrapXOFConstructorWithOpts)((Q={})=>new F(K,z,Q.dkLen===void 0?W:Q.dkLen,!0));return Ar.shake128=B(31,168,128/8),Ar.shake256=B(31,136,256/8),Ar}var IS;function HP(){if(IS)return ro;IS=1;const{sha3_512:t}=VP(),e=24,r=32,n=(q=4,C=Math.random)=>{let T="";for(;T.length<q;)T=T+Math.floor(C()*36).toString(36);return T};function o(q){let C=8n,T=0n;for(const F of q.values()){const j=BigInt(F);T=(T<<C)+j}return T}const a=(q="")=>o(t(q)).toString(36).slice(1),l=Array.from({length:26},(q,C)=>String.fromCharCode(C+97)),c=q=>l[Math.floor(q()*l.length)],p=({globalObj:q=typeof Iv<"u"?Iv:typeof window<"u"?window:{},random:C=Math.random}={})=>{const T=Object.keys(q).toString(),F=T.length?T+n(r,C):n(r,C);return a(F).substring(0,r)},m=q=>()=>q++,b=0x1c6b1f1f,x=({random:q=Math.random,counter:C=m(Math.floor(q()*b)),length:T=e,fingerprint:F=p({random:q})}={})=>function(){const B=c(q),z=Date.now().toString(36),K=C().toString(36),W=n(T,q),Q=`${z+W+K+F}`;return`${B+a(Q).substring(1,T)}`},N=x(),R=(q,{minLength:C=2,maxLength:T=r}={})=>{const F=q.length,j=/^[0-9a-z]+$/;try{if(typeof q=="string"&&F>=C&&F<=T&&j.test(q))return!0}finally{}return!1};return ro.getConstants=()=>({defaultLength:e,bigLength:r}),ro.init=x,ro.createId=N,ro.bufToBigInt=o,ro.createCounter=m,ro.createFingerprint=p,ro.isCuid=R,ro}var TS;function QP(){if(TS)return Ul;TS=1;const{createId:t,init:e,getConstants:r,isCuid:n}=HP();return Ul.createId=t,Ul.init=e,Ul.getConstants=r,Ul.isCuid=n,Ul}var KP=QP();const en=KP.createId,GP=({schema:t,db:e,meta:r,map:n,mutation:o,select:a,applyWhere:l=({select:m})=>m,applyFilter:c=({select:m})=>m,event:p})=>{const m=({where:q,select:C})=>{let T=C;for(const[F,j]of Object.entries(r.where))q?.[F]!==void 0&&(["idIn","fulltext"].includes(F)||(T=q?.[F]===null?T.where(j,"is",null):T.where(j,"=",q[F])));if(q?.idIn&&(T=T.where("id","in",q.idIn)),r?.fulltext&&q?.fulltext){const F=q.fulltext.toLowerCase();T=T.where(j=>j.or(r.fulltext?.map(B=>j(B,"like",`%${F}%`))||[]))}return T},b=({where:q,select:C,apply:T=["where","filter","cursor","sort"]})=>T.includes("where")?l({where:q,select:m({select:C,where:q,apply:T}),apply:T}):C,x=({where:q,select:C,apply:T=["where","filter","cursor","sort"]})=>T.includes("filter")?c({where:q,select:m({select:C,where:q,apply:T}),apply:T}):C,N=({query:{where:q,filter:C,cursor:T={page:0,size:10}},select:F,apply:j=["where","filter","cursor","sort"]})=>{let B=x({where:C,select:b({select:F,where:q,apply:j}),apply:j});return j.includes("cursor")&&(B=B.limit(T.size).offset(T.page*T.size)),B},R={db:e,schema:t,async create({tx:q,entity:C,shape:T}){const F=en();await p?.onPreCreate?.({tx:q,entity:C,shape:T}),await o.insert({tx:q}).values(t.entity.parse({...await n?.toCreate?.({entity:C,shape:T})||C,id:F})).execute();const j=await R.fetchOrThrow({tx:q,query:{where:{id:F}}});return await p?.onPostCreate?.({tx:q,entity:j,shape:T}),j},async patch({tx:q,entity:C,shape:T,filter:F}){const j=await R.fetchOrThrow({tx:q,query:{where:F}});if(!j)throw new Error("Cannot patch an unknown entity (empty query result).");await p?.onPrePatch?.({tx:q,entity:C,shape:T}),await o.update({tx:q}).set(t.entity.partial().parse(await n?.toPatch?.({entity:C,shape:T})||C)).where("id","=",j.id).execute();const B=await R.fetchOrThrow({tx:q,query:{where:{id:j.id}}});return await p?.onPostPatch?.({tx:q,entity:B,shape:T}),B},async remove({tx:q,idIn:C}){if(!C||C?.length===0){console.log("nothing to remove");return}return o.remove({tx:q}).where("id","in",C).execute()},async fetch({tx:q,query:C}){const T=await N({query:C,select:a({tx:q,query:C})}).executeTakeFirst();if(!T)return;const F=t.entity.parse(T);return(t.output??t.entity).parse(await n?.toOutput?.({tx:q,entity:F})||F)},async fetchOrThrow({tx:q,query:C}){const T=t.entity.parse(await N({query:C,select:a({tx:q,query:C})}).executeTakeFirstOrThrow());return(t.output??t.entity).parse(await n?.toOutput?.({tx:q,entity:T})||T)},async list({tx:q,query:C}){const T=t.output??t.entity;return Promise.all(Pe.array(t.entity).parse(await N({query:C,select:a({tx:q,query:C})}).execute()).map(async F=>T.parse(await n?.toOutput?.({tx:q,entity:F})||F)))},async count({tx:q,query:C}){return{total:(await N({query:{},select:a({tx:q,query:C}).select([T=>T.fn.countAll().as("count")]),apply:[]}).executeTakeFirst()).count,where:(await N({query:{where:C.where},select:a({tx:q,query:C}).select([T=>T.fn.countAll().as("count")]),apply:["where"]}).executeTakeFirst()).count,filter:(await N({query:{where:C.where,filter:C.filter},select:a({tx:q,query:C}).select([T=>T.fn.countAll().as("count")]),apply:["filter","where"]}).executeTakeFirst()).count}}};return R},t_=new Proxy(()=>t_,{get:()=>t_}),bo=({entity:t,output:e=t,shape:r,filter:n})=>{const o=t_();return{entity:t,"~entity":o,"~entity-array":[],"~entity-partial-exclude-id":o,shape:r,"~shape":o,"~shape-partial":o,filter:n,"~filter":o,output:e,"~output":o,"~output-array":[]}},JP=Pe.object({page:Pe.number().gte(0,"Page must be greater than zero"),size:Pe.number().gte(1,"Page size must be greater than one to get any data")}),wo=Pe.object({id:Pe.string().min(1)}),B_=Pe.object({message:Pe.string()}),xo=Pe.object({id:Pe.string().nullish(),idIn:Pe.array(Pe.string()).nullish(),fulltext:Pe.string().nullish()}),ZP=wo.merge(Pe.object({code:Pe.string().min(1),label:Pe.string().min(1),group:Pe.string().nullish(),sort:Pe.number().default(0)})),Ki=t=>{const e="input"in t?t.input:"input",r="output"in t?t.output:"output",n="schema"in t?t.schema._input:t._input,o="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?o:n,output:r==="input"?n:o},parse:a=>"schema"in t?t.schema.parse(a):t.parse(a)}},ch=(t,e)=>Pe.custom().pipe(t.catch(e)),Gi=({filter:t})=>Pe.object({global:ch(t.optional(),{fulltext:""}).default({fulltext:""}),filter:ch(t.optional(),void 0),cursor:ch(JP,{page:0,size:15}).default({page:0,size:15}),selection:ch(Pe.array(Pe.string()),[]).default([])}),Jo=(t,e)=>Array.from({length:e-t+1},(r,n)=>n+t),XP=({page:t,total:e,siblings:r=1,boundaries:n=1})=>{const o=Math.max(Math.trunc(e),0);if(r*2+3+n*2>=o)return{type:"simple",page:t,total:e,pages:Jo(1,o),start:[],end:[]};const l=Math.max(t-r,n),c=Math.min(t+r,o-n),p=l>n+2,m=c<o-(n+1);return!p&&m?{type:"end",page:t,total:e,start:[],pages:Jo(1,r*2+n+2),end:Jo(e-(n-1),o)}:p&&!m?{type:"start",page:t,total:e,start:Jo(1,n),pages:Jo(e-(n+1+2*r),o),end:[]}:{type:"both",page:t,total:e,start:Jo(1,n),pages:Jo(l,c),end:Jo(o-n+1,o)}};var Oh={exports:{}},YP=Oh.exports,AS;function ej(){return AS||(AS=1,function(t){(function(e,r){t.exports=r()})(YP,function(){var e=Object.prototype.toString;function r(x,N){return x==null?!1:Object.prototype.hasOwnProperty.call(x,N)}function n(x){if(!x||l(x)&&x.length===0)return!0;if(typeof x!="string"){for(var N in x)if(r(x,N))return!1;return!0}return!1}function o(x){return e.call(x)}function a(x){return typeof x=="object"&&o(x)==="[object Object]"}var l=Array.isArray||function(x){return e.call(x)==="[object Array]"};function c(x){return typeof x=="boolean"||o(x)==="[object Boolean]"}function p(x){var N=parseInt(x);return N.toString()===x?N:x}function m(x){x=x||{};var N=function(F){return Object.keys(N).reduce(function(j,B){return B==="create"||typeof N[B]=="function"&&(j[B]=N[B].bind(N,F)),j},{})},R;x.includeInheritedProps?R=function(){return!0}:R=function(F,j){return typeof j=="number"&&Array.isArray(F)||r(F,j)};function q(F,j){if(R(F,j))return F[j]}var C;x.includeInheritedProps?C=function(F,j){typeof j!="string"&&typeof j!="number"&&(j=String(j));var B=q(F,j);if(j==="__proto__"||j==="prototype"||j==="constructor"&&typeof B=="function")throw new Error("For security reasons, object's magic properties cannot be set");return B}:C=function(F,j){return q(F,j)};function T(F,j,B,z){if(typeof j=="number"&&(j=[j]),!j||j.length===0)return F;if(typeof j=="string")return T(F,j.split(".").map(p),B,z);var K=j[0],W=C(F,K);return j.length===1?((W===void 0||!z)&&(F[K]=B),W):(W===void 0&&(typeof j[1]=="number"?F[K]=[]:F[K]={}),T(F[K],j.slice(1),B,z))}return N.has=function(F,j){if(typeof j=="number"?j=[j]:typeof j=="string"&&(j=j.split(".")),!j||j.length===0)return!!F;for(var B=0;B<j.length;B++){var z=p(j[B]);if(typeof z=="number"&&l(F)&&z<F.length||(x.includeInheritedProps?z in Object(F):r(F,z)))F=F[z];else return!1}return!0},N.ensureExists=function(F,j,B){return T(F,j,B,!0)},N.set=function(F,j,B,z){return T(F,j,B,z)},N.insert=function(F,j,B,z){var K=N.get(F,j);z=~~z,l(K)||(K=[],N.set(F,j,K)),K.splice(z,0,B)},N.empty=function(F,j){if(!n(j)&&F!=null){var B,z;if(B=N.get(F,j)){if(typeof B=="string")return N.set(F,j,"");if(c(B))return N.set(F,j,!1);if(typeof B=="number")return N.set(F,j,0);if(l(B))B.length=0;else if(a(B))for(z in B)R(B,z)&&delete B[z];else return N.set(F,j,null)}}},N.push=function(F,j){var B=N.get(F,j);l(B)||(B=[],N.set(F,j,B)),B.push.apply(B,Array.prototype.slice.call(arguments,2))},N.coalesce=function(F,j,B){for(var z,K=0,W=j.length;K<W;K++)if((z=N.get(F,j[K]))!==void 0)return z;return B},N.get=function(F,j,B){if(typeof j=="number"&&(j=[j]),!j||j.length===0)return F;if(F==null)return B;if(typeof j=="string")return N.get(F,j.split("."),B);var z=p(j[0]),K=C(F,z);return K===void 0?B:j.length===1?K:N.get(F[z],j.slice(1),B)},N.del=function(j,B){if(typeof B=="number"&&(B=[B]),j==null||n(B))return j;if(typeof B=="string")return N.del(j,B.split("."));var z=p(B[0]);if(C(j,z),!R(j,z))return j;if(B.length===1)l(j)?j.splice(z,1):delete j[z];else return N.del(j[z],B.slice(1));return j},N}var b=m();return b.create=m,b.withInheritedProps=m({includeInheritedProps:!0}),b})}(Oh)),Oh.exports}var tj=ej();const PS=Ou(tj);function Eu({number:t,empty:e="-",fraction:r=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:r})}catch(n){return console.error("toHumanNumber",t,n),t.toFixed(2)}}const W_=({error:t,errors:e,onError:r})=>{const n=e.some(a=>a),o=t instanceof Error;return!n&&o&&r(t),n||o},rj=lr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}});function Kp(){return typeof window<"u"}function Na(t){return D1(t)?(t.nodeName||"").toLowerCase():"#document"}function ui(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bs(t){var e;return(e=(D1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function D1(t){return Kp()?t instanceof Node||t instanceof ui(t).Node:!1}function jr(t){return Kp()?t instanceof Element||t instanceof ui(t).Element:!1}function un(t){return Kp()?t instanceof HTMLElement||t instanceof ui(t).HTMLElement:!1}function r_(t){return!Kp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ui(t).ShadowRoot}function jd(t){const{overflow:e,overflowX:r,overflowY:n,display:o}=Qi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(o)}function nj(t){return["table","td","th"].includes(Na(t))}function Gp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $_(t){const e=Jp(),r=jr(t)?Qi(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ij(t){let e=mo(t);for(;un(e)&&!fo(e);){if($_(e))return e;if(Gp(e))return null;e=mo(e)}return null}function Jp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fo(t){return["html","body","#document"].includes(Na(t))}function Qi(t){return ui(t).getComputedStyle(t)}function Zp(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mo(t){if(Na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||r_(t)&&t.host||Bs(t);return r_(e)?e.host:e}function M1(t){const e=mo(t);return fo(e)?t.ownerDocument?t.ownerDocument.body:t.body:un(e)&&jd(e)?e:M1(e)}function aa(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=M1(t),a=o===((n=t.ownerDocument)==null?void 0:n.body),l=ui(o);if(a){const c=n_(l);return e.concat(l,l.visualViewport||[],jd(o)?o:[],c&&r?aa(c):[])}return e.concat(o,aa(o,[],r))}function n_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function as(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function Nn(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&r_(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function U_(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function B1(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function W1(t){return t.mozInputSource===0&&t.isTrusted?!0:i_()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function z_(t){return oj()?!1:!i_()&&t.width===0&&t.height===0||i_()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function $1(){return/apple/i.test(navigator.vendor)}function i_(){const t=/android/i;return t.test(U_())||t.test(B1())}function sj(){return U_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function oj(){return B1().includes("jsdom/")}function vd(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function aj(t){return"nativeEvent"in t}function lj(t){return t.matches("html,body")}function kn(t){return t?.ownerDocument||document}function ov(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function ea(t){return"composedPath"in t?t.composedPath()[0]:t.target}const uj="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function V_(t){return un(t)&&t.matches(uj)}function Wn(t){t.preventDefault(),t.stopPropagation()}function U1(t){return t?t.getAttribute("role")==="combobox"&&V_(t):!1}const Nu=Math.min,Si=Math.max,ap=Math.round,Yl=Math.floor,Ps=t=>({x:t,y:t}),cj={left:"right",right:"left",bottom:"top",top:"bottom"},dj={start:"end",end:"start"};function jS(t,e,r){return Si(t,Nu(e,r))}function Ld(t,e){return typeof t=="function"?t(e):t}function va(t){return t.split("-")[0]}function Fd(t){return t.split("-")[1]}function z1(t){return t==="x"?"y":"x"}function V1(t){return t==="y"?"height":"width"}function ul(t){return["top","bottom"].includes(va(t))?"y":"x"}function H1(t){return z1(ul(t))}function fj(t,e,r){r===void 0&&(r=!1);const n=Fd(t),o=H1(t),a=V1(o);let l=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=lp(l)),[l,lp(l)]}function hj(t){const e=lp(t);return[s_(t),e,s_(e)]}function s_(t){return t.replace(/start|end/g,e=>dj[e])}function pj(t,e,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:n:e?n:o;case"left":case"right":return e?a:l;default:return[]}}function mj(t,e,r,n){const o=Fd(t);let a=pj(va(t),r==="start",n);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(s_)))),a}function lp(t){return t.replace(/left|right|bottom|top/g,e=>cj[e])}function yj(t){return{top:0,right:0,bottom:0,left:0,...t}}function gj(t){return typeof t!="number"?yj(t):{top:t,right:t,bottom:t,left:t}}function up(t){const{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}var vj=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],cp=vj.join(","),Q1=typeof Element>"u",ku=Q1?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,dp=!Q1&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},fp=function t(e,r){var n;r===void 0&&(r=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=o===""||o==="true",l=a||r&&e&&t(e.parentNode);return l},_j=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},bj=function(e,r,n){if(fp(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(cp));return r&&ku.call(e,cp)&&o.unshift(e),o=o.filter(n),o},wj=function t(e,r,n){for(var o=[],a=Array.from(e);a.length;){var l=a.shift();if(!fp(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),p=c.length?c:l.children,m=t(p,!0,n);n.flatten?o.push.apply(o,m):o.push({scopeParent:l,candidates:m})}else{var b=ku.call(l,cp);b&&n.filter(l)&&(r||!e.includes(l))&&o.push(l);var x=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),N=!fp(x,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(x&&N){var R=t(x===!0?l.children:x.children,!0,n);n.flatten?o.push.apply(o,R):o.push({scopeParent:l,candidates:R})}else a.unshift.apply(a,l.children)}}return o},K1=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},G1=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||_j(e))&&!K1(e)?0:e.tabIndex},xj=function(e,r){var n=G1(e);return n<0&&r&&!K1(e)?0:n},Sj=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},J1=function(e){return e.tagName==="INPUT"},Ej=function(e){return J1(e)&&e.type==="hidden"},Nj=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},kj=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},qj=function(e){if(!e.name)return!0;var r=e.form||dp(e),n=function(c){return r.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(e.name));else try{o=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=kj(o,e.form);return!a||a===e},Cj=function(e){return J1(e)&&e.type==="radio"},Rj=function(e){return Cj(e)&&!qj(e)},Oj=function(e){var r,n=e&&dp(e),o=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var l,c,p;for(a=!!((l=o)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(o)||e!=null&&(p=e.ownerDocument)!==null&&p!==void 0&&p.contains(e));!a&&o;){var m,b,x;n=dp(o),o=(m=n)===null||m===void 0?void 0:m.host,a=!!((b=o)!==null&&b!==void 0&&(x=b.ownerDocument)!==null&&x!==void 0&&x.contains(o))}}return a},LS=function(e){var r=e.getBoundingClientRect(),n=r.width,o=r.height;return n===0&&o===0},Ij=function(e,r){var n=r.displayCheck,o=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=ku.call(e,"details>summary:first-of-type"),l=a?e.parentElement:e;if(ku.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof o=="function"){for(var c=e;e;){var p=e.parentElement,m=dp(e);if(p&&!p.shadowRoot&&o(p)===!0)return LS(e);e.assignedSlot?e=e.assignedSlot:!p&&m!==e.ownerDocument?e=m.host:e=p}e=c}if(Oj(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return LS(e);return!1},Tj=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var o=r.children.item(n);if(o.tagName==="LEGEND")return ku.call(r,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}r=r.parentElement}return!1},Aj=function(e,r){return!(r.disabled||fp(r)||Ej(r)||Ij(r,e)||Nj(r)||Tj(r))},o_=function(e,r){return!(Rj(r)||G1(r)<0||!Aj(e,r))},Pj=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},jj=function t(e){var r=[],n=[];return e.forEach(function(o,a){var l=!!o.scopeParent,c=l?o.scopeParent:o,p=xj(c,l),m=l?t(o.candidates):c;p===0?l?r.push.apply(r,m):r.push(c):n.push({documentOrder:a,tabIndex:p,item:o,isScope:l,content:m})}),n.sort(Sj).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(r)},Xp=function(e,r){r=r||{};var n;return r.getShadowRoot?n=wj([e],r.includeContainer,{filter:o_.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Pj}):n=bj(e,r.includeContainer,o_.bind(null,r)),jj(n)},Lj=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return ku.call(e,cp)===!1?!1:o_(r,e)};function FS(t,e,r){let{reference:n,floating:o}=t;const a=ul(e),l=H1(e),c=V1(l),p=va(e),m=a==="y",b=n.x+n.width/2-o.width/2,x=n.y+n.height/2-o.height/2,N=n[c]/2-o[c]/2;let R;switch(p){case"top":R={x:b,y:n.y-o.height};break;case"bottom":R={x:b,y:n.y+n.height};break;case"right":R={x:n.x+n.width,y:x};break;case"left":R={x:n.x-o.width,y:x};break;default:R={x:n.x,y:n.y}}switch(Fd(e)){case"start":R[l]-=N*(r&&m?-1:1);break;case"end":R[l]+=N*(r&&m?-1:1);break}return R}const Fj=async(t,e,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:l}=r,c=a.filter(Boolean),p=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:b,y:x}=FS(m,n,p),N=n,R={},q=0;for(let C=0;C<c.length;C++){const{name:T,fn:F}=c[C],{x:j,y:B,data:z,reset:K}=await F({x:b,y:x,initialPlacement:n,placement:N,strategy:o,middlewareData:R,rects:m,platform:l,elements:{reference:t,floating:e}});b=j??b,x=B??x,R={...R,[T]:{...R[T],...z}},K&&q<=50&&(q++,typeof K=="object"&&(K.placement&&(N=K.placement),K.rects&&(m=K.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):K.rects),{x:b,y:x}=FS(m,N,p)),C=-1)}return{x:b,y:x,placement:N,strategy:o,middlewareData:R}};async function H_(t,e){var r;e===void 0&&(e={});const{x:n,y:o,platform:a,rects:l,elements:c,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:b="viewport",elementContext:x="floating",altBoundary:N=!1,padding:R=0}=Ld(e,t),q=gj(R),T=c[N?x==="floating"?"reference":"floating":x],F=up(await a.getClippingRect({element:(r=await (a.isElement==null?void 0:a.isElement(T)))==null||r?T:T.contextElement||await (a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:m,rootBoundary:b,strategy:p})),j=x==="floating"?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,B=await (a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),z=await (a.isElement==null?void 0:a.isElement(B))?await (a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},K=up(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:B,strategy:p}):j);return{top:(F.top-K.top+q.top)/z.y,bottom:(K.bottom-F.bottom+q.bottom)/z.y,left:(F.left-K.left+q.left)/z.x,right:(K.right-F.right+q.right)/z.x}}const Dj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:o,middlewareData:a,rects:l,initialPlacement:c,platform:p,elements:m}=e,{mainAxis:b=!0,crossAxis:x=!0,fallbackPlacements:N,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:q="none",flipAlignment:C=!0,...T}=Ld(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const F=va(o),j=ul(c),B=va(c)===c,z=await (p.isRTL==null?void 0:p.isRTL(m.floating)),K=N||(B||!C?[lp(c)]:hj(c)),W=q!=="none";!N&&W&&K.push(...mj(c,C,q,z));const Q=[c,...K],ue=await H_(e,T),V=[];let ne=((n=a.flip)==null?void 0:n.overflows)||[];if(b&&V.push(ue[F]),x){const pe=fj(o,l,z);V.push(ue[pe[0]],ue[pe[1]])}if(ne=[...ne,{placement:o,overflows:V}],!V.every(pe=>pe<=0)){var M,re;const pe=(((M=a.flip)==null?void 0:M.index)||0)+1,Re=Q[pe];if(Re)return{data:{index:pe,overflows:ne},reset:{placement:Re}};let Ce=(re=ne.filter(je=>je.overflows[0]<=0).sort((je,ve)=>je.overflows[1]-ve.overflows[1])[0])==null?void 0:re.placement;if(!Ce)switch(R){case"bestFit":{var Z;const je=(Z=ne.filter(ve=>{if(W){const me=ul(ve.placement);return me===j||me==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(me=>me>0).reduce((me,Ee)=>me+Ee,0)]).sort((ve,me)=>ve[1]-me[1])[0])==null?void 0:Z[0];je&&(Ce=je);break}case"initialPlacement":Ce=c;break}if(o!==Ce)return{reset:{placement:Ce}}}return{}}}};async function Mj(t,e){const{placement:r,platform:n,elements:o}=t,a=await (n.isRTL==null?void 0:n.isRTL(o.floating)),l=va(r),c=Fd(r),p=ul(r)==="y",m=["left","top"].includes(l)?-1:1,b=a&&p?-1:1,x=Ld(e,t);let{mainAxis:N,crossAxis:R,alignmentAxis:q}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return c&&typeof q=="number"&&(R=c==="end"?q*-1:q),p?{x:R*b,y:N*m}:{x:N*m,y:R*b}}const Bj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:o,y:a,placement:l,middlewareData:c}=e,p=await Mj(e,t);return l===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:o+p.x,y:a+p.y,data:{...p,placement:l}}}}},Wj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:T=>{let{x:F,y:j}=T;return{x:F,y:j}}},...p}=Ld(t,e),m={x:r,y:n},b=await H_(e,p),x=ul(va(o)),N=z1(x);let R=m[N],q=m[x];if(a){const T=N==="y"?"top":"left",F=N==="y"?"bottom":"right",j=R+b[T],B=R-b[F];R=jS(j,R,B)}if(l){const T=x==="y"?"top":"left",F=x==="y"?"bottom":"right",j=q+b[T],B=q-b[F];q=jS(j,q,B)}const C=c.fn({...e,[N]:R,[x]:q});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[N]:a,[x]:l}}}}}},$j=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:o,rects:a,platform:l,elements:c}=e,{apply:p=()=>{},...m}=Ld(t,e),b=await H_(e,m),x=va(o),N=Fd(o),R=ul(o)==="y",{width:q,height:C}=a.floating;let T,F;x==="top"||x==="bottom"?(T=x,F=N===(await (l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(F=x,T=N==="end"?"top":"bottom");const j=C-b.top-b.bottom,B=q-b.left-b.right,z=Nu(C-b[T],j),K=Nu(q-b[F],B),W=!e.middlewareData.shift;let Q=z,ue=K;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(ue=B),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(Q=j),W&&!N){const ne=Si(b.left,0),M=Si(b.right,0),re=Si(b.top,0),Z=Si(b.bottom,0);R?ue=q-2*(ne!==0||M!==0?ne+M:Si(b.left,b.right)):Q=C-2*(re!==0||Z!==0?re+Z:Si(b.top,b.bottom))}await p({...e,availableWidth:ue,availableHeight:Q});const V=await l.getDimensions(c.floating);return q!==V.width||C!==V.height?{reset:{rects:!0}}:{}}}};function Z1(t){const e=Qi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=un(t),a=o?t.offsetWidth:r,l=o?t.offsetHeight:n,c=ap(r)!==a||ap(n)!==l;return c&&(r=a,n=l),{width:r,height:n,$:c}}function Q_(t){return jr(t)?t:t.contextElement}function uu(t){const e=Q_(t);if(!un(e))return Ps(1);const r=e.getBoundingClientRect(),{width:n,height:o,$:a}=Z1(e);let l=(a?ap(r.width):r.width)/n,c=(a?ap(r.height):r.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Uj=Ps(0);function X1(t){const e=ui(t);return!Jp()||!e.visualViewport?Uj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zj(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ui(t)?!1:e}function cl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=Q_(t);let l=Ps(1);e&&(n?jr(n)&&(l=uu(n)):l=uu(t));const c=zj(a,r,n)?X1(a):Ps(0);let p=(o.left+c.x)/l.x,m=(o.top+c.y)/l.y,b=o.width/l.x,x=o.height/l.y;if(a){const N=ui(a),R=n&&jr(n)?ui(n):n;let q=N,C=n_(q);for(;C&&n&&R!==q;){const T=uu(C),F=C.getBoundingClientRect(),j=Qi(C),B=F.left+(C.clientLeft+parseFloat(j.paddingLeft))*T.x,z=F.top+(C.clientTop+parseFloat(j.paddingTop))*T.y;p*=T.x,m*=T.y,b*=T.x,x*=T.y,p+=B,m+=z,q=ui(C),C=n_(q)}}return up({width:b,height:x,x:p,y:m})}function K_(t,e){const r=Zp(t).scrollLeft;return e?e.left+r:cl(Bs(t)).left+r}function Y1(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:K_(t,n)),a=n.top+e.scrollTop;return{x:o,y:a}}function Vj(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t;const a=o==="fixed",l=Bs(n),c=e?Gp(e.floating):!1;if(n===l||c&&a)return r;let p={scrollLeft:0,scrollTop:0},m=Ps(1);const b=Ps(0),x=un(n);if((x||!x&&!a)&&((Na(n)!=="body"||jd(l))&&(p=Zp(n)),un(n))){const R=cl(n);m=uu(n),b.x=R.x+n.clientLeft,b.y=R.y+n.clientTop}const N=l&&!x&&!a?Y1(l,p,!0):Ps(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-p.scrollLeft*m.x+b.x+N.x,y:r.y*m.y-p.scrollTop*m.y+b.y+N.y}}function Hj(t){return Array.from(t.getClientRects())}function Qj(t){const e=Bs(t),r=Zp(t),n=t.ownerDocument.body,o=Si(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Si(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+K_(t);const c=-r.scrollTop;return Qi(n).direction==="rtl"&&(l+=Si(e.clientWidth,n.clientWidth)-o),{width:o,height:a,x:l,y:c}}function Kj(t,e){const r=ui(t),n=Bs(t),o=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,p=0;if(o){a=o.width,l=o.height;const m=Jp();(!m||m&&e==="fixed")&&(c=o.offsetLeft,p=o.offsetTop)}return{width:a,height:l,x:c,y:p}}function Gj(t,e){const r=cl(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,a=un(t)?uu(t):Ps(1),l=t.clientWidth*a.x,c=t.clientHeight*a.y,p=o*a.x,m=n*a.y;return{width:l,height:c,x:p,y:m}}function DS(t,e,r){let n;if(e==="viewport")n=Kj(t,r);else if(e==="document")n=Qj(Bs(t));else if(jr(e))n=Gj(e,r);else{const o=X1(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return up(n)}function ek(t,e){const r=mo(t);return r===e||!jr(r)||fo(r)?!1:Qi(r).position==="fixed"||ek(r,e)}function Jj(t,e){const r=e.get(t);if(r)return r;let n=aa(t,[],!1).filter(c=>jr(c)&&Na(c)!=="body"),o=null;const a=Qi(t).position==="fixed";let l=a?mo(t):t;for(;jr(l)&&!fo(l);){const c=Qi(l),p=$_(l);!p&&c.position==="fixed"&&(o=null),(a?!p&&!o:!p&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||jd(l)&&!p&&ek(t,l))?n=n.filter(b=>b!==l):o=c,l=mo(l)}return e.set(t,n),n}function Zj(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t;const l=[...r==="clippingAncestors"?Gp(e)?[]:Jj(e,this._c):[].concat(r),n],c=l[0],p=l.reduce((m,b)=>{const x=DS(e,b,o);return m.top=Si(x.top,m.top),m.right=Nu(x.right,m.right),m.bottom=Nu(x.bottom,m.bottom),m.left=Si(x.left,m.left),m},DS(e,c,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Xj(t){const{width:e,height:r}=Z1(t);return{width:e,height:r}}function Yj(t,e,r){const n=un(e),o=Bs(e),a=r==="fixed",l=cl(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const p=Ps(0);if(n||!n&&!a)if((Na(e)!=="body"||jd(o))&&(c=Zp(e)),n){const N=cl(e,!0,a,e);p.x=N.x+e.clientLeft,p.y=N.y+e.clientTop}else o&&(p.x=K_(o));const m=o&&!n&&!a?Y1(o,c):Ps(0),b=l.left+c.scrollLeft-p.x-m.x,x=l.top+c.scrollTop-p.y-m.y;return{x:b,y:x,width:l.width,height:l.height}}function av(t){return Qi(t).position==="static"}function MS(t,e){if(!un(t)||Qi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Bs(t)===r&&(r=r.ownerDocument.body),r}function tk(t,e){const r=ui(t);if(Gp(t))return r;if(!un(t)){let o=mo(t);for(;o&&!fo(o);){if(jr(o)&&!av(o))return o;o=mo(o)}return r}let n=MS(t,e);for(;n&&nj(n)&&av(n);)n=MS(n,e);return n&&fo(n)&&av(n)&&!$_(n)?r:n||ij(t)||r}const eL=async function(t){const e=this.getOffsetParent||tk,r=this.getDimensions,n=await r(t.floating);return{reference:Yj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tL(t){return Qi(t).direction==="rtl"}const rL={convertOffsetParentRelativeRectToViewportRelativeRect:Vj,getDocumentElement:Bs,getClippingRect:Zj,getOffsetParent:tk,getElementRects:eL,getClientRects:Hj,getDimensions:Xj,getScale:uu,isElement:jr,isRTL:tL};function nL(t,e){let r=null,n;const o=Bs(t);function a(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function l(c,p){c===void 0&&(c=!1),p===void 0&&(p=1),a();const{left:m,top:b,width:x,height:N}=t.getBoundingClientRect();if(c||e(),!x||!N)return;const R=Yl(b),q=Yl(o.clientWidth-(m+x)),C=Yl(o.clientHeight-(b+N)),T=Yl(m),j={rootMargin:-R+"px "+-q+"px "+-C+"px "+-T+"px",threshold:Si(0,Nu(1,p))||1};let B=!0;function z(K){const W=K[0].intersectionRatio;if(W!==p){if(!B)return l();W?l(!1,W):n=setTimeout(()=>{l(!1,1e-7)},1e3)}B=!1}try{r=new IntersectionObserver(z,{...j,root:o.ownerDocument})}catch{r=new IntersectionObserver(z,j)}r.observe(t)}return l(!0),a}function rk(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=Q_(t),b=o||a?[...m?aa(m):[],...aa(e)]:[];b.forEach(F=>{o&&F.addEventListener("scroll",r,{passive:!0}),a&&F.addEventListener("resize",r)});const x=m&&c?nL(m,r):null;let N=-1,R=null;l&&(R=new ResizeObserver(F=>{let[j]=F;j&&j.target===m&&R&&(R.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var B;(B=R)==null||B.observe(e)})),r()}),m&&!p&&R.observe(m),R.observe(e));let q,C=p?cl(t):null;p&&T();function T(){const F=cl(t);C&&(F.x!==C.x||F.y!==C.y||F.width!==C.width||F.height!==C.height)&&r(),C=F,q=requestAnimationFrame(T)}return r(),()=>{var F;b.forEach(j=>{o&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),x?.(),(F=R)==null||F.disconnect(),R=null,p&&cancelAnimationFrame(q)}}const iL=Bj,sL=Wj,oL=Dj,aL=$j,lL=(t,e,r)=>{const n=new Map,o={platform:rL,...r},a={...o.platform,_c:n};return Fj(t,e,{...o,platform:a})};var Ih=typeof document<"u"?G.useLayoutEffect:G.useEffect;function hp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!hp(t[n],e[n]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&t.$$typeof)&&!hp(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function nk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BS(t,e){const r=nk(t);return Math.round(e*r)/r}function lv(t){const e=G.useRef(t);return Ih(()=>{e.current=t}),e}function uL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:p,open:m}=t,[b,x]=G.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[N,R]=G.useState(n);hp(N,n)||R(n);const[q,C]=G.useState(null),[T,F]=G.useState(null),j=G.useCallback(ve=>{ve!==W.current&&(W.current=ve,C(ve))},[]),B=G.useCallback(ve=>{ve!==Q.current&&(Q.current=ve,F(ve))},[]),z=a||q,K=l||T,W=G.useRef(null),Q=G.useRef(null),ue=G.useRef(b),V=p!=null,ne=lv(p),M=lv(o),re=lv(m),Z=G.useCallback(()=>{if(!W.current||!Q.current)return;const ve={placement:e,strategy:r,middleware:N};M.current&&(ve.platform=M.current),lL(W.current,Q.current,ve).then(me=>{const Ee={...me,isPositioned:re.current!==!1};pe.current&&!hp(ue.current,Ee)&&(ue.current=Ee,I_.flushSync(()=>{x(Ee)}))})},[N,e,r,M,re]);Ih(()=>{m===!1&&ue.current.isPositioned&&(ue.current.isPositioned=!1,x(ve=>({...ve,isPositioned:!1})))},[m]);const pe=G.useRef(!1);Ih(()=>(pe.current=!0,()=>{pe.current=!1}),[]),Ih(()=>{if(z&&(W.current=z),K&&(Q.current=K),z&&K){if(ne.current)return ne.current(z,K,Z);Z()}},[z,K,Z,ne,V]);const Re=G.useMemo(()=>({reference:W,floating:Q,setReference:j,setFloating:B}),[j,B]),Ce=G.useMemo(()=>({reference:z,floating:K}),[z,K]),je=G.useMemo(()=>{const ve={position:r,left:0,top:0};if(!Ce.floating)return ve;const me=BS(Ce.floating,b.x),Ee=BS(Ce.floating,b.y);return c?{...ve,transform:"translate("+me+"px, "+Ee+"px)",...nk(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:me,top:Ee}},[r,c,Ce.floating,b.x,b.y]);return G.useMemo(()=>({...b,update:Z,refs:Re,elements:Ce,floatingStyles:je}),[b,Z,Re,Ce,je])}const ik=(t,e)=>({...iL(t),options:[t,e]}),cL=(t,e)=>({...sL(t),options:[t,e]}),sk=(t,e)=>({...oL(t),options:[t,e]}),dL=(t,e)=>({...aL(t),options:[t,e]});function WS(t){return G.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const ok={...EC},fL=ok.useInsertionEffect,hL=fL||(t=>t());function oi(t){const e=G.useRef(()=>{});return hL(()=>{e.current=t}),G.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.current==null?void 0:e.current(...n)},[])}const G_="ArrowUp",Dd="ArrowDown",la="ArrowLeft",ua="ArrowRight";function dh(t,e,r){return Math.floor(t/e)!==r}function Vc(t,e){return e<0||e>=t.current.length}function uv(t,e){return Tn(t,{disabledIndices:e})}function $S(t,e){return Tn(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Tn(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:o,amount:a=1}=e===void 0?{}:e;const l=t.current;let c=r;do c+=n?-a:a;while(c>=0&&c<=l.length-1&&Th(l,c,o));return c}function pL(t,e){let{event:r,orientation:n,loop:o,rtl:a,cols:l,disabledIndices:c,minIndex:p,maxIndex:m,prevIndex:b,stopEvent:x=!1}=e,N=b;if(r.key===G_){if(x&&Wn(r),b===-1)N=m;else if(N=Tn(t,{startingIndex:N,amount:l,decrement:!0,disabledIndices:c}),o&&(b-l<p||N<0)){const R=b%l,q=m%l,C=m-(q-R);q===R?N=m:N=q>R?C:C-l}Vc(t,N)&&(N=b)}if(r.key===Dd&&(x&&Wn(r),b===-1?N=p:(N=Tn(t,{startingIndex:b,amount:l,disabledIndices:c}),o&&b+l>m&&(N=Tn(t,{startingIndex:b%l-l,amount:l,disabledIndices:c}))),Vc(t,N)&&(N=b)),n==="both"){const R=Yl(b/l);r.key===(a?la:ua)&&(x&&Wn(r),b%l!==l-1?(N=Tn(t,{startingIndex:b,disabledIndices:c}),o&&dh(N,l,R)&&(N=Tn(t,{startingIndex:b-b%l-1,disabledIndices:c}))):o&&(N=Tn(t,{startingIndex:b-b%l-1,disabledIndices:c})),dh(N,l,R)&&(N=b)),r.key===(a?ua:la)&&(x&&Wn(r),b%l!==0?(N=Tn(t,{startingIndex:b,decrement:!0,disabledIndices:c}),o&&dh(N,l,R)&&(N=Tn(t,{startingIndex:b+(l-b%l),decrement:!0,disabledIndices:c}))):o&&(N=Tn(t,{startingIndex:b+(l-b%l),decrement:!0,disabledIndices:c})),dh(N,l,R)&&(N=b));const q=Yl(m/l)===R;Vc(t,N)&&(o&&q?N=r.key===(a?ua:la)?m:Tn(t,{startingIndex:b-b%l-1,disabledIndices:c}):N=b)}return N}function mL(t,e,r){const n=[];let o=0;return t.forEach((a,l)=>{let{width:c,height:p}=a,m=!1;for(r&&(o=0);!m;){const b=[];for(let x=0;x<c;x++)for(let N=0;N<p;N++)b.push(o+x+N*e);o%e+c<=e&&b.every(x=>n[x]==null)?(b.forEach(x=>{n[x]=l}),m=!0):o++}}),[...n]}function yL(t,e,r,n,o){if(t===-1)return-1;const a=r.indexOf(t),l=e[t];switch(o){case"tl":return a;case"tr":return l?a+l.width-1:a;case"bl":return l?a+(l.height-1)*n:a;case"br":return r.lastIndexOf(t)}}function gL(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function Th(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}var $r=typeof document<"u"?G.useLayoutEffect:G.useEffect;function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}let US=!1,vL=0;const zS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+vL++;function _L(){const[t,e]=G.useState(()=>US?zS():void 0);return $r(()=>{t==null&&e(zS())},[]),G.useEffect(()=>{US=!0},[]),t}const bL=ok.useId,J_=bL||_L;function ak(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(o=>o(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(o=>o!==r))||[])}}}const lk=G.createContext(null),uk=G.createContext(null),Md=()=>{var t;return((t=G.useContext(lk))==null?void 0:t.id)||null},ju=()=>G.useContext(uk);function wL(t){const e=J_(),r=ju(),o=Md();return $r(()=>{if(!e)return;const a={id:e,parentId:o};return r?.addNode(a),()=>{r?.removeNode(a)}},[r,e,o]),e}function xL(t){const{children:e,id:r}=t,n=Md();return G.createElement(lk.Provider,{value:G.useMemo(()=>({id:r,parentId:n}),[r,n])},e)}function SL(t){const{children:e}=t,r=G.useRef([]),n=G.useCallback(l=>{r.current=[...r.current,l]},[]),o=G.useCallback(l=>{r.current=r.current.filter(c=>c!==l)},[]),a=G.useState(()=>ak())[0];return G.createElement(uk.Provider,{value:G.useMemo(()=>({nodesRef:r,addNode:n,removeNode:o,events:a}),[n,o,a])},e)}function dl(t){return"data-floating-ui-"+t}function zn(t){const e=G.useRef(t);return $r(()=>{e.current=t}),e}const VS=dl("safe-polygon");function cv(t,e,r){return r&&!vd(r)?0:typeof t=="number"?t:t?.[e]}function EL(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:o,events:a,elements:l}=t,{enabled:c=!0,delay:p=0,handleClose:m=null,mouseOnly:b=!1,restMs:x=0,move:N=!0}=e,R=ju(),q=Md(),C=zn(m),T=zn(p),F=zn(r),j=G.useRef(),B=G.useRef(-1),z=G.useRef(),K=G.useRef(-1),W=G.useRef(!0),Q=G.useRef(!1),ue=G.useRef(()=>{}),V=G.useRef(!1),ne=G.useCallback(()=>{var je;const ve=(je=o.current.openEvent)==null?void 0:je.type;return ve?.includes("mouse")&&ve!=="mousedown"},[o]);G.useEffect(()=>{if(!c)return;function je(ve){let{open:me}=ve;me||(clearTimeout(B.current),clearTimeout(K.current),W.current=!0,V.current=!1)}return a.on("openchange",je),()=>{a.off("openchange",je)}},[c,a]),G.useEffect(()=>{if(!c||!C.current||!r)return;function je(me){ne()&&n(!1,me,"hover")}const ve=kn(l.floating).documentElement;return ve.addEventListener("mouseleave",je),()=>{ve.removeEventListener("mouseleave",je)}},[l.floating,r,n,c,C,ne]);const M=G.useCallback(function(je,ve,me){ve===void 0&&(ve=!0),me===void 0&&(me="hover");const Ee=cv(T.current,"close",j.current);Ee&&!z.current?(clearTimeout(B.current),B.current=window.setTimeout(()=>n(!1,je,me),Ee)):ve&&(clearTimeout(B.current),n(!1,je,me))},[T,n]),re=oi(()=>{ue.current(),z.current=void 0}),Z=oi(()=>{if(Q.current){const je=kn(l.floating).body;je.style.pointerEvents="",je.removeAttribute(VS),Q.current=!1}}),pe=oi(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);G.useEffect(()=>{if(!c)return;function je(H){if(clearTimeout(B.current),W.current=!1,b&&!vd(j.current)||x>0&&!cv(T.current,"open"))return;const xe=cv(T.current,"open",j.current);xe?B.current=window.setTimeout(()=>{F.current||n(!0,H,"hover")},xe):r||n(!0,H,"hover")}function ve(H){if(pe())return;ue.current();const xe=kn(l.floating);if(clearTimeout(K.current),V.current=!1,C.current&&o.current.floatingContext){r||clearTimeout(B.current),z.current=C.current({...o.current.floatingContext,tree:R,x:H.clientX,y:H.clientY,onClose(){Z(),re(),pe()||M(H,!0,"safe-polygon")}});const at=z.current;xe.addEventListener("mousemove",at),ue.current=()=>{xe.removeEventListener("mousemove",at)};return}(j.current==="touch"?!Nn(l.floating,H.relatedTarget):!0)&&M(H)}function me(H){pe()||o.current.floatingContext&&(C.current==null||C.current({...o.current.floatingContext,tree:R,x:H.clientX,y:H.clientY,onClose(){Z(),re(),pe()||M(H)}})(H))}if(jr(l.domReference)){var Ee;const H=l.domReference;return r&&H.addEventListener("mouseleave",me),(Ee=l.floating)==null||Ee.addEventListener("mouseleave",me),N&&H.addEventListener("mousemove",je,{once:!0}),H.addEventListener("mouseenter",je),H.addEventListener("mouseleave",ve),()=>{var xe;r&&H.removeEventListener("mouseleave",me),(xe=l.floating)==null||xe.removeEventListener("mouseleave",me),N&&H.removeEventListener("mousemove",je),H.removeEventListener("mouseenter",je),H.removeEventListener("mouseleave",ve)}}},[l,c,t,b,x,N,M,re,Z,n,r,F,R,T,C,o,pe]),$r(()=>{var je;if(c&&r&&(je=C.current)!=null&&je.__options.blockPointerEvents&&ne()){Q.current=!0;const me=l.floating;if(jr(l.domReference)&&me){var ve;const Ee=kn(l.floating).body;Ee.setAttribute(VS,"");const H=l.domReference,xe=R==null||(ve=R.nodesRef.current.find(lt=>lt.id===q))==null||(ve=ve.context)==null?void 0:ve.elements.floating;return xe&&(xe.style.pointerEvents=""),Ee.style.pointerEvents="none",H.style.pointerEvents="auto",me.style.pointerEvents="auto",()=>{Ee.style.pointerEvents="",H.style.pointerEvents="",me.style.pointerEvents=""}}}},[c,r,q,l,R,C,ne]),$r(()=>{r||(j.current=void 0,V.current=!1,re(),Z())},[r,re,Z]),G.useEffect(()=>()=>{re(),clearTimeout(B.current),clearTimeout(K.current),Z()},[c,l.domReference,re,Z]);const Re=G.useMemo(()=>{function je(ve){j.current=ve.pointerType}return{onPointerDown:je,onPointerEnter:je,onMouseMove(ve){const{nativeEvent:me}=ve;function Ee(){!W.current&&!F.current&&n(!0,me,"hover")}b&&!vd(j.current)||r||x===0||V.current&&ve.movementX**2+ve.movementY**2<2||(clearTimeout(K.current),j.current==="touch"?Ee():(V.current=!0,K.current=window.setTimeout(Ee,x)))}}},[b,n,r,F,x]),Ce=G.useMemo(()=>({onMouseEnter(){clearTimeout(B.current)},onMouseLeave(je){pe()||M(je.nativeEvent,!1)}}),[M,pe]);return G.useMemo(()=>c?{reference:Re,floating:Ce}:{},[c,Re,Ce])}let HS=0;function Va(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:o=!1}=e;n&&cancelAnimationFrame(HS);const a=()=>t?.focus({preventScroll:r});o?a():HS=requestAnimationFrame(a)}function QS(t,e){var r;let n=[],o=(r=t.find(a=>a.id===e))==null?void 0:r.parentId;for(;o;){const a=t.find(l=>l.id===o);o=a?.parentId,a&&(n=n.concat(a))}return n}function cu(t,e){let r=t.filter(o=>{var a;return o.parentId===e&&((a=o.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=t.filter(o=>{var a;return(a=n)==null?void 0:a.some(l=>{var c;return o.parentId===l.id&&((c=o.context)==null?void 0:c.open)})}),r=r.concat(n);return r}function NL(t,e){let r,n=-1;function o(a,l){l>n&&(r=a,n=l),cu(t,a).forEach(p=>{o(p.id,l+1)})}return o(e,0),t.find(a=>a.id===r)}let zl=new WeakMap,fh=new WeakSet,hh={},dv=0;const kL=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,ck=t=>t&&(t.host||ck(t.parentNode)),qL=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=ck(r);return t.contains(n)?n:null}).filter(r=>r!=null);function CL(t,e,r,n){const o="data-floating-ui-inert",a=n?"inert":r?"aria-hidden":null,l=qL(e,t),c=new Set,p=new Set(l),m=[];hh[o]||(hh[o]=new WeakMap);const b=hh[o];l.forEach(x),N(e),c.clear();function x(R){!R||c.has(R)||(c.add(R),R.parentNode&&x(R.parentNode))}function N(R){!R||p.has(R)||[].forEach.call(R.children,q=>{if(Na(q)!=="script")if(c.has(q))N(q);else{const C=a?q.getAttribute(a):null,T=C!==null&&C!=="false",F=zl.get(q)||0,j=a?F+1:F,B=(b.get(q)||0)+1;zl.set(q,j),b.set(q,B),m.push(q),j===1&&T&&fh.add(q),B===1&&q.setAttribute(o,""),!T&&a&&q.setAttribute(a,"true")}})}return dv++,()=>{m.forEach(R=>{const q=zl.get(R)||0,C=a?q-1:q,T=(b.get(R)||0)-1;zl.set(R,C),b.set(R,T),C||(!fh.has(R)&&a&&R.removeAttribute(a),fh.delete(R)),T||R.removeAttribute(o)}),dv--,dv||(zl=new WeakMap,zl=new WeakMap,fh=new WeakSet,hh={})}}function KS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=kn(t[0]).body;return CL(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const Yp=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function dk(t,e){const r=Xp(t,Yp());e==="prev"&&r.reverse();const n=r.indexOf(as(kn(t)));return r.slice(n+1)[0]}function fk(){return dk(document.body,"next")}function hk(){return dk(document.body,"prev")}function Hc(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!Nn(r,n)}function RL(t){Xp(t,Yp()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function GS(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const em={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let OL;function JS(t){t.key==="Tab"&&(t.target,clearTimeout(OL))}const pp=G.forwardRef(function(e,r){const[n,o]=G.useState();$r(()=>($1()&&o("button"),document.addEventListener("keydown",JS),()=>{document.removeEventListener("keydown",JS)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[dl("focus-guard")]:"",style:em};return G.createElement("span",_d({},e,a))}),pk=G.createContext(null),ZS=dl("portal");function IL(t){t===void 0&&(t={});const{id:e,root:r}=t,n=J_(),o=mk(),[a,l]=G.useState(null),c=G.useRef(null);return $r(()=>()=>{a?.remove(),queueMicrotask(()=>{c.current=null})},[a]),$r(()=>{if(!n||c.current)return;const p=e?document.getElementById(e):null;if(!p)return;const m=document.createElement("div");m.id=n,m.setAttribute(ZS,""),p.appendChild(m),c.current=m,l(m)},[e,n]),$r(()=>{if(r===null||!n||c.current)return;let p=r||o?.portalNode;p&&!jr(p)&&(p=p.current),p=p||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,p.appendChild(m));const b=document.createElement("div");b.id=n,b.setAttribute(ZS,""),p=m||p,p.appendChild(b),c.current=b,l(b)},[e,r,n,o]),a}function Z_(t){const{children:e,id:r,root:n,preserveTabOrder:o=!0}=t,a=IL({id:r,root:n}),[l,c]=G.useState(null),p=G.useRef(null),m=G.useRef(null),b=G.useRef(null),x=G.useRef(null),N=l?.modal,R=l?.open,q=!!l&&!l.modal&&l.open&&o&&!!(n||a);return G.useEffect(()=>{if(!a||!o||N)return;function C(T){a&&Hc(T)&&(T.type==="focusin"?GS:RL)(a)}return a.addEventListener("focusin",C,!0),a.addEventListener("focusout",C,!0),()=>{a.removeEventListener("focusin",C,!0),a.removeEventListener("focusout",C,!0)}},[a,o,N]),G.useEffect(()=>{a&&(R||GS(a))},[R,a]),G.createElement(pk.Provider,{value:G.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:p,afterOutsideRef:m,beforeInsideRef:b,afterInsideRef:x,portalNode:a,setFocusManagerState:c}),[o,a])},q&&a&&G.createElement(pp,{"data-type":"outside",ref:p,onFocus:C=>{if(Hc(C,a)){var T;(T=b.current)==null||T.focus()}else{const F=hk()||l?.refs.domReference.current;F?.focus()}}}),q&&a&&G.createElement("span",{"aria-owns":a.id,style:em}),a&&I_.createPortal(e,a),q&&a&&G.createElement(pp,{"data-type":"outside",ref:m,onFocus:C=>{if(Hc(C,a)){var T;(T=x.current)==null||T.focus()}else{const F=fk()||l?.refs.domReference.current;F?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,C.nativeEvent,"focus-out")}}}))}const mk=()=>G.useContext(pk),a_="data-floating-ui-focusable";function l_(t){return t?t.hasAttribute(a_)?t:t.querySelector("["+a_+"]")||t:null}const XS=20;let Ha=[];function fv(t){Ha=Ha.filter(e=>e.isConnected),t&&Na(t)!=="body"&&(Ha.push(t),Ha.length>XS&&(Ha=Ha.slice(-XS)))}function YS(){return Ha.slice().reverse().find(t=>t.isConnected)}function TL(t){const e=Yp();return Lj(t,e)?t:Xp(t,e)[0]||t}const AL=G.forwardRef(function(e,r){return G.createElement("button",_d({},e,{type:"button",ref:r,tabIndex:-1,style:em}))});function yk(t){const{context:e,children:r,disabled:n=!1,order:o=["content"],guards:a=!0,initialFocus:l=0,returnFocus:c=!0,restoreFocus:p=!1,modal:m=!0,visuallyHiddenDismiss:b=!1,closeOnFocusOut:x=!0,outsideElementsInert:N=!1}=t,{open:R,refs:q,nodeId:C,onOpenChange:T,events:F,dataRef:j,elements:{domReference:B,floating:z}}=e,K=typeof l=="number"&&l<0,W=U1(B)&&K,Q=kL(),ue=Q?a:!0,V=!ue||Q&&N,ne=zn(o),M=zn(l),re=zn(c),Z=ju(),pe=mk(),Re=G.useRef(null),Ce=G.useRef(null),je=G.useRef(!1),ve=G.useRef(!1),me=G.useRef(-1),Ee=pe!=null,H=l_(z),xe=oi(function(vt){return vt===void 0&&(vt=H),vt?Xp(vt,Yp()):[]}),lt=oi(vt=>{const yt=xe(vt);return ne.current.map(Rt=>B&&Rt==="reference"?B:H&&Rt==="floating"?H:yt).filter(Boolean).flat()});G.useEffect(()=>{if(n||!m)return;function vt(Rt){if(Rt.key==="Tab"){Nn(H,as(kn(H)))&&xe().length===0&&!W&&Wn(Rt);const qt=lt(),Jt=ea(Rt);ne.current[0]==="reference"&&Jt===B&&(Wn(Rt),Rt.shiftKey?Va(qt[qt.length-1]):Va(qt[1])),ne.current[1]==="floating"&&Jt===H&&Rt.shiftKey&&(Wn(Rt),Va(qt[0]))}}const yt=kn(H);return yt.addEventListener("keydown",vt),()=>{yt.removeEventListener("keydown",vt)}},[n,B,H,m,ne,W,xe,lt]),G.useEffect(()=>{if(n||!z)return;function vt(yt){const Rt=ea(yt),Jt=xe().indexOf(Rt);Jt!==-1&&(me.current=Jt)}return z.addEventListener("focusin",vt),()=>{z.removeEventListener("focusin",vt)}},[n,z,xe]),G.useEffect(()=>{if(n||!x)return;function vt(){ve.current=!0,setTimeout(()=>{ve.current=!1})}function yt(Rt){const qt=Rt.relatedTarget;queueMicrotask(()=>{const Jt=!(Nn(B,qt)||Nn(z,qt)||Nn(qt,z)||Nn(pe?.portalNode,qt)||qt!=null&&qt.hasAttribute(dl("focus-guard"))||Z&&(cu(Z.nodesRef.current,C).find(Gt=>{var er,ur;return Nn((er=Gt.context)==null?void 0:er.elements.floating,qt)||Nn((ur=Gt.context)==null?void 0:ur.elements.domReference,qt)})||QS(Z.nodesRef.current,C).find(Gt=>{var er,ur,se;return[(er=Gt.context)==null?void 0:er.elements.floating,l_((ur=Gt.context)==null?void 0:ur.elements.floating)].includes(qt)||((se=Gt.context)==null?void 0:se.elements.domReference)===qt})));if(p&&Jt&&as(kn(H))===kn(H).body){un(H)&&H.focus();const Gt=me.current,er=xe(),ur=er[Gt]||er[er.length-1]||H;un(ur)&&ur.focus()}(W||!m)&&qt&&Jt&&!ve.current&&qt!==YS()&&(je.current=!0,T(!1,Rt,"focus-out"))})}if(z&&un(B))return B.addEventListener("focusout",yt),B.addEventListener("pointerdown",vt),z.addEventListener("focusout",yt),()=>{B.removeEventListener("focusout",yt),B.removeEventListener("pointerdown",vt),z.removeEventListener("focusout",yt)}},[n,B,z,H,m,C,Z,pe,T,x,p,xe,W]);const at=G.useRef(null),dt=G.useRef(null),mt=WS([at,pe?.beforeInsideRef]),ft=WS([dt,pe?.afterInsideRef]);G.useEffect(()=>{var vt;if(n||!z)return;const yt=Array.from((pe==null||(vt=pe.portalNode)==null?void 0:vt.querySelectorAll("["+dl("portal")+"]"))||[]),Rt=Z&&!m?QS(Z?.nodesRef.current,C).map(Gt=>{var er;return(er=Gt.context)==null?void 0:er.elements.floating}):[],qt=[z,...yt,...Rt,Re.current,Ce.current,at.current,dt.current,pe?.beforeOutsideRef.current,pe?.afterOutsideRef.current,ne.current.includes("reference")||W?B:null].filter(Gt=>Gt!=null),Jt=m||W?KS(qt,!V,V):KS(qt);return()=>{Jt()}},[n,B,z,m,ne,pe,W,ue,V,Z,C]),$r(()=>{if(n||!un(H))return;const vt=kn(H),yt=as(vt);queueMicrotask(()=>{const Rt=lt(H),qt=M.current,Jt=(typeof qt=="number"?Rt[qt]:qt.current)||H,Gt=Nn(H,yt);!K&&!Gt&&R&&Va(Jt,{preventScroll:Jt===H})})},[n,R,H,K,lt,M]),$r(()=>{if(n||!H)return;let vt=!1;const yt=kn(H),Rt=as(yt);let Jt=j.current.openEvent;fv(Rt);function Gt(se){let{open:le,reason:ye,event:Oe,nested:De}=se;le&&(Jt=Oe),ye==="escape-key"&&q.domReference.current&&fv(q.domReference.current),["hover","safe-polygon"].includes(ye)&&Oe.type==="mouseleave"&&(je.current=!0),ye==="outside-press"&&(De?(je.current=!1,vt=!0):je.current=!(W1(Oe)||z_(Oe)))}F.on("openchange",Gt);const er=yt.createElement("span");er.setAttribute("tabindex","-1"),er.setAttribute("aria-hidden","true"),Object.assign(er.style,em),Ee&&B&&B.insertAdjacentElement("afterend",er);function ur(){return typeof re.current=="boolean"?YS()||er:re.current.current||er}return()=>{F.off("openchange",Gt);const se=as(yt),le=Nn(z,se)||Z&&cu(Z.nodesRef.current,C).some(De=>{var Ge;return Nn((Ge=De.context)==null?void 0:Ge.elements.floating,se)});(le||Jt&&["click","mousedown"].includes(Jt.type))&&q.domReference.current&&fv(q.domReference.current);const Oe=ur();queueMicrotask(()=>{const De=TL(Oe);re.current&&!je.current&&un(De)&&(!(De!==se&&se!==yt.body)||le)&&De.focus({preventScroll:vt}),er.remove()})}},[n,z,H,re,j,q,F,Z,C,Ee,B]),G.useEffect(()=>{queueMicrotask(()=>{je.current=!1})},[n]),$r(()=>{if(!n&&pe)return pe.setFocusManagerState({modal:m,closeOnFocusOut:x,open:R,onOpenChange:T,refs:q}),()=>{pe.setFocusManagerState(null)}},[n,pe,m,R,T,q,x]),$r(()=>{if(n||!H||typeof MutationObserver!="function"||K)return;const vt=()=>{const Rt=H.getAttribute("tabindex"),qt=xe(),Jt=as(kn(z)),Gt=qt.indexOf(Jt);Gt!==-1&&(me.current=Gt),ne.current.includes("floating")||Jt!==q.domReference.current&&qt.length===0?Rt!=="0"&&H.setAttribute("tabindex","0"):Rt!=="-1"&&H.setAttribute("tabindex","-1")};vt();const yt=new MutationObserver(vt);return yt.observe(H,{childList:!0,subtree:!0,attributes:!0}),()=>{yt.disconnect()}},[n,z,H,q,ne,xe,K]);function gt(vt){return n||!b||!m?null:G.createElement(AL,{ref:vt==="start"?Re:Ce,onClick:yt=>T(!1,yt.nativeEvent)},typeof b=="string"?b:"Dismiss")}const At=!n&&ue&&(m?!W:!0)&&(Ee||m);return G.createElement(G.Fragment,null,At&&G.createElement(pp,{"data-type":"inside",ref:mt,onFocus:vt=>{if(m){const Rt=lt();Va(o[0]==="reference"?Rt[0]:Rt[Rt.length-1])}else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(je.current=!1,Hc(vt,pe.portalNode)){const Rt=fk()||B;Rt?.focus()}else{var yt;(yt=pe.beforeOutsideRef.current)==null||yt.focus()}}}),!W&&gt("start"),r,gt("end"),At&&G.createElement(pp,{"data-type":"inside",ref:ft,onFocus:vt=>{if(m)Va(lt()[0]);else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(x&&(je.current=!0),Hc(vt,pe.portalNode)){const Rt=hk()||B;Rt?.focus()}else{var yt;(yt=pe.afterOutsideRef.current)==null||yt.focus()}}}))}let ph=0;function PL(){const t=/iP(hone|ad|od)|iOS/.test(U_()),e=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,a=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",o&&(e[n]=o+"px"),t){var c,p;const m=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,b=((p=window.visualViewport)==null?void 0:p.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(b))+"px",left:-(a-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[n]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(a,l))}}let eE=()=>{};const jL=G.forwardRef(function(e,r){const{lockScroll:n=!1,...o}=e;return $r(()=>{if(n)return ph++,ph===1&&(eE=PL()),()=>{ph--,ph===0&&eE()}},[n]),G.createElement("div",_d({ref:r},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function tE(t){return un(t.target)&&t.target.tagName==="BUTTON"}function rE(t){return V_(t)}function X_(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:o,elements:{domReference:a}}=t,{enabled:l=!0,event:c="click",toggle:p=!0,ignoreMouse:m=!1,keyboardHandlers:b=!0,stickIfOpen:x=!0}=e,N=G.useRef(),R=G.useRef(!1),q=G.useMemo(()=>({onPointerDown(C){N.current=C.pointerType},onMouseDown(C){const T=N.current;C.button===0&&c!=="click"&&(vd(T,!0)&&m||(r&&p&&(!(o.current.openEvent&&x)||o.current.openEvent.type==="mousedown")?n(!1,C.nativeEvent,"click"):(C.preventDefault(),n(!0,C.nativeEvent,"click"))))},onClick(C){const T=N.current;if(c==="mousedown"&&N.current){N.current=void 0;return}vd(T,!0)&&m||(r&&p&&(!(o.current.openEvent&&x)||o.current.openEvent.type==="click")?n(!1,C.nativeEvent,"click"):n(!0,C.nativeEvent,"click"))},onKeyDown(C){N.current=void 0,!(C.defaultPrevented||!b||tE(C))&&(C.key===" "&&!rE(a)&&(C.preventDefault(),R.current=!0),C.key==="Enter"&&n(!(r&&p),C.nativeEvent,"click"))},onKeyUp(C){C.defaultPrevented||!b||tE(C)||rE(a)||C.key===" "&&R.current&&(R.current=!1,n(!(r&&p),C.nativeEvent,"click"))}}),[o,a,c,m,b,n,r,x,p]);return G.useMemo(()=>l?{reference:q}:{},[l,q])}const LL={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},FL={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},nE=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t?.outsidePress)!=null?r:!0}};function Y_(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:o,dataRef:a}=t,{enabled:l=!0,escapeKey:c=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:b=!1,referencePressEvent:x="pointerdown",ancestorScroll:N=!1,bubbles:R,capture:q}=e,C=ju(),T=oi(typeof p=="function"?p:()=>!1),F=typeof p=="function"?T:p,j=G.useRef(!1),B=G.useRef(!1),{escapeKey:z,outsidePress:K}=nE(R),{escapeKey:W,outsidePress:Q}=nE(q),ue=G.useRef(!1),V=oi(Re=>{var Ce;if(!r||!l||!c||Re.key!=="Escape"||ue.current)return;const je=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,ve=C?cu(C.nodesRef.current,je):[];if(!z&&(Re.stopPropagation(),ve.length>0)){let me=!0;if(ve.forEach(Ee=>{var H;if((H=Ee.context)!=null&&H.open&&!Ee.context.dataRef.current.__escapeKeyBubbles){me=!1;return}}),!me)return}n(!1,aj(Re)?Re.nativeEvent:Re,"escape-key")}),ne=oi(Re=>{var Ce;const je=()=>{var ve;V(Re),(ve=ea(Re))==null||ve.removeEventListener("keydown",je)};(Ce=ea(Re))==null||Ce.addEventListener("keydown",je)}),M=oi(Re=>{var Ce;const je=j.current;j.current=!1;const ve=B.current;if(B.current=!1,m==="click"&&ve||je||typeof F=="function"&&!F(Re))return;const me=ea(Re),Ee="["+dl("inert")+"]",H=kn(o.floating).querySelectorAll(Ee);let xe=jr(me)?me:null;for(;xe&&!fo(xe);){const mt=mo(xe);if(fo(mt)||!jr(mt))break;xe=mt}if(H.length&&jr(me)&&!lj(me)&&!Nn(me,o.floating)&&Array.from(H).every(mt=>!Nn(xe,mt)))return;if(un(me)&&pe){const mt=fo(me),ft=Qi(me),gt=/auto|scroll/,At=mt||gt.test(ft.overflowX),vt=mt||gt.test(ft.overflowY),yt=At&&me.clientWidth>0&&me.scrollWidth>me.clientWidth,Rt=vt&&me.clientHeight>0&&me.scrollHeight>me.clientHeight,qt=ft.direction==="rtl",Jt=Rt&&(qt?Re.offsetX<=me.offsetWidth-me.clientWidth:Re.offsetX>me.clientWidth),Gt=yt&&Re.offsetY>me.clientHeight;if(Jt||Gt)return}const lt=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,at=C&&cu(C.nodesRef.current,lt).some(mt=>{var ft;return ov(Re,(ft=mt.context)==null?void 0:ft.elements.floating)});if(ov(Re,o.floating)||ov(Re,o.domReference)||at)return;const dt=C?cu(C.nodesRef.current,lt):[];if(dt.length>0){let mt=!0;if(dt.forEach(ft=>{var gt;if((gt=ft.context)!=null&&gt.open&&!ft.context.dataRef.current.__outsidePressBubbles){mt=!1;return}}),!mt)return}n(!1,Re,"outside-press")}),re=oi(Re=>{var Ce;const je=()=>{var ve;M(Re),(ve=ea(Re))==null||ve.removeEventListener(m,je)};(Ce=ea(Re))==null||Ce.addEventListener(m,je)});G.useEffect(()=>{if(!r||!l)return;a.current.__escapeKeyBubbles=z,a.current.__outsidePressBubbles=K;let Re=-1;function Ce(H){n(!1,H,"ancestor-scroll")}function je(){window.clearTimeout(Re),ue.current=!0}function ve(){Re=window.setTimeout(()=>{ue.current=!1},Jp()?5:0)}const me=kn(o.floating);c&&(me.addEventListener("keydown",W?ne:V,W),me.addEventListener("compositionstart",je),me.addEventListener("compositionend",ve)),F&&me.addEventListener(m,Q?re:M,Q);let Ee=[];return N&&(jr(o.domReference)&&(Ee=aa(o.domReference)),jr(o.floating)&&(Ee=Ee.concat(aa(o.floating))),!jr(o.reference)&&o.reference&&o.reference.contextElement&&(Ee=Ee.concat(aa(o.reference.contextElement)))),Ee=Ee.filter(H=>{var xe;return H!==((xe=me.defaultView)==null?void 0:xe.visualViewport)}),Ee.forEach(H=>{H.addEventListener("scroll",Ce,{passive:!0})}),()=>{c&&(me.removeEventListener("keydown",W?ne:V,W),me.removeEventListener("compositionstart",je),me.removeEventListener("compositionend",ve)),F&&me.removeEventListener(m,Q?re:M,Q),Ee.forEach(H=>{H.removeEventListener("scroll",Ce)}),window.clearTimeout(Re)}},[a,o,c,F,m,r,n,N,l,z,K,V,W,ne,M,Q,re]),G.useEffect(()=>{j.current=!1},[F,m]);const Z=G.useMemo(()=>({onKeyDown:V,...b&&{[LL[x]]:Re=>{n(!1,Re.nativeEvent,"reference-press")},...x!=="click"&&{onClick(Re){n(!1,Re.nativeEvent,"reference-press")}}}}),[V,n,b,x]),pe=G.useMemo(()=>({onKeyDown:V,onMouseDown(){B.current=!0},onMouseUp(){B.current=!0},[FL[m]]:()=>{j.current=!0}}),[V,m]);return G.useMemo(()=>l?{reference:Z,floating:pe}:{},[l,Z,pe])}function DL(t){const{open:e=!1,onOpenChange:r,elements:n}=t,o=J_(),a=G.useRef({}),[l]=G.useState(()=>ak()),c=Md()!=null,[p,m]=G.useState(n.reference),b=oi((R,q,C)=>{a.current.openEvent=R?q:void 0,l.emit("openchange",{open:R,event:q,reason:C,nested:c}),r?.(R,q,C)}),x=G.useMemo(()=>({setPositionReference:m}),[]),N=G.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return G.useMemo(()=>({dataRef:a,open:e,onOpenChange:b,elements:N,events:l,floatingId:o,refs:x}),[e,b,N,l,o,x])}function eb(t){t===void 0&&(t={});const{nodeId:e}=t,r=DL({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,o=n.elements,[a,l]=G.useState(null),[c,p]=G.useState(null),b=o?.domReference||a,x=G.useRef(null),N=ju();$r(()=>{b&&(x.current=b)},[b]);const R=uL({...t,elements:{...o,...c&&{reference:c}}}),q=G.useCallback(B=>{const z=jr(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;p(z),R.refs.setReference(z)},[R.refs]),C=G.useCallback(B=>{(jr(B)||B===null)&&(x.current=B,l(B)),(jr(R.refs.reference.current)||R.refs.reference.current===null||B!==null&&!jr(B))&&R.refs.setReference(B)},[R.refs]),T=G.useMemo(()=>({...R.refs,setReference:C,setPositionReference:q,domReference:x}),[R.refs,C,q]),F=G.useMemo(()=>({...R.elements,domReference:b}),[R.elements,b]),j=G.useMemo(()=>({...R,...n,refs:T,elements:F,nodeId:e}),[R,T,F,e,n]);return $r(()=>{n.dataRef.current.floatingContext=j;const B=N?.nodesRef.current.find(z=>z.id===e);B&&(B.context=j)}),G.useMemo(()=>({...R,context:j,refs:T,elements:F}),[R,T,F,j])}function ML(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:o,dataRef:a,elements:l}=t,{enabled:c=!0,visibleOnly:p=!0}=e,m=G.useRef(!1),b=G.useRef(),x=G.useRef(!0);G.useEffect(()=>{if(!c)return;const R=ui(l.domReference);function q(){!r&&un(l.domReference)&&l.domReference===as(kn(l.domReference))&&(m.current=!0)}function C(){x.current=!0}return R.addEventListener("blur",q),R.addEventListener("keydown",C,!0),()=>{R.removeEventListener("blur",q),R.removeEventListener("keydown",C,!0)}},[l.domReference,r,c]),G.useEffect(()=>{if(!c)return;function R(q){let{reason:C}=q;(C==="reference-press"||C==="escape-key")&&(m.current=!0)}return o.on("openchange",R),()=>{o.off("openchange",R)}},[o,c]),G.useEffect(()=>()=>{clearTimeout(b.current)},[]);const N=G.useMemo(()=>({onPointerDown(R){z_(R.nativeEvent)||(x.current=!1)},onMouseLeave(){m.current=!1},onFocus(R){if(m.current)return;const q=ea(R.nativeEvent);if(p&&jr(q))try{if($1()&&sj())throw Error();if(!q.matches(":focus-visible"))return}catch{if(!x.current&&!V_(q))return}n(!0,R.nativeEvent,"focus")},onBlur(R){m.current=!1;const q=R.relatedTarget,C=R.nativeEvent,T=jr(q)&&q.hasAttribute(dl("focus-guard"))&&q.getAttribute("data-type")==="outside";b.current=window.setTimeout(()=>{var F;const j=as(l.domReference?l.domReference.ownerDocument:document);!q&&j===l.domReference||Nn((F=a.current.floatingContext)==null?void 0:F.refs.floating.current,j)||Nn(l.domReference,j)||T||n(!1,C,"focus")})}}),[a,l.domReference,n,p]);return G.useMemo(()=>c?{reference:N}:{},[c,N])}const iE="active",sE="selected";function hv(t,e,r){const n=new Map,o=r==="item";let a=t;if(o&&t){const{[iE]:l,[sE]:c,...p}=t;a=p}return{...r==="floating"&&{tabIndex:-1,[a_]:""},...a,...e.map(l=>{const c=l?l[r]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((l,c)=>(c&&Object.entries(c).forEach(p=>{let[m,b]=p;if(!(o&&[iE,sE].includes(m)))if(m.indexOf("on")===0){if(n.has(m)||n.set(m,[]),typeof b=="function"){var x;(x=n.get(m))==null||x.push(b),l[m]=function(){for(var N,R=arguments.length,q=new Array(R),C=0;C<R;C++)q[C]=arguments[C];return(N=n.get(m))==null?void 0:N.map(T=>T(...q)).find(T=>T!==void 0)}}}else l[m]=b}),l),{})}}function tb(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),r=t.map(c=>c?.floating),n=t.map(c=>c?.item),o=G.useCallback(c=>hv(c,t,"reference"),e),a=G.useCallback(c=>hv(c,t,"floating"),r),l=G.useCallback(c=>hv(c,t,"item"),n);return G.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:l}),[o,a,l])}function tm(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function oE(t,e){return tm(e,t===G_||t===Dd,t===la||t===ua)}function pv(t,e,r){return tm(e,t===Dd,r?t===la:t===ua)||t==="Enter"||t===" "||t===""}function BL(t,e,r){return tm(e,r?t===la:t===ua,t===Dd)}function aE(t,e,r){return tm(e,r?t===ua:t===la,t===G_)}function WL(t,e){const{open:r,onOpenChange:n,elements:o}=t,{listRef:a,activeIndex:l,onNavigate:c=()=>{},enabled:p=!0,selectedIndex:m=null,allowEscape:b=!1,loop:x=!1,nested:N=!1,rtl:R=!1,virtual:q=!1,focusItemOnOpen:C="auto",focusItemOnHover:T=!0,openOnArrowKeyDown:F=!0,disabledIndices:j=void 0,orientation:B="vertical",cols:z=1,scrollItemIntoView:K=!0,virtualItemRef:W,itemSizes:Q,dense:ue=!1}=e,V=l_(o.floating),ne=zn(V),M=Md(),re=ju(),Z=oi(()=>{c(Ce.current===-1?null:Ce.current)}),pe=U1(o.domReference),Re=G.useRef(C),Ce=G.useRef(m??-1),je=G.useRef(null),ve=G.useRef(!0),me=G.useRef(Z),Ee=G.useRef(!!o.floating),H=G.useRef(r),xe=G.useRef(!1),lt=G.useRef(!1),at=zn(j),dt=zn(r),mt=zn(K),ft=zn(m),[gt,At]=G.useState(),[vt,yt]=G.useState(),Rt=oi(()=>{function le(De){q?(At(De.id),re?.events.emit("virtualfocus",De),W&&(W.current=De)):Va(De,{sync:xe.current,preventScroll:!0})}const ye=a.current[Ce.current];ye&&le(ye),(xe.current?De=>De():requestAnimationFrame)(()=>{const De=a.current[Ce.current]||ye;if(!De)return;ye||le(De);const Ge=mt.current;Ge&&Jt&&(lt.current||!ve.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof Ge=="boolean"?{block:"nearest",inline:"nearest"}:Ge))})});$r(()=>{p&&(r&&o.floating?Re.current&&m!=null&&(lt.current=!0,Ce.current=m,Z()):Ee.current&&(Ce.current=-1,me.current()))},[p,r,o.floating,m,Z]),$r(()=>{if(p&&r&&o.floating)if(l==null){if(xe.current=!1,ft.current!=null)return;if(Ee.current&&(Ce.current=-1,Rt()),(!H.current||!Ee.current)&&Re.current&&(je.current!=null||Re.current===!0&&je.current==null)){let le=0;const ye=()=>{a.current[0]==null?(le<2&&(le?requestAnimationFrame:queueMicrotask)(ye),le++):(Ce.current=je.current==null||pv(je.current,B,R)||N?uv(a,at.current):$S(a,at.current),je.current=null,Z())};ye()}}else Vc(a,l)||(Ce.current=l,Rt(),lt.current=!1)},[p,r,o.floating,l,ft,N,a,B,R,Z,Rt,at]),$r(()=>{var le;if(!p||o.floating||!re||q||!Ee.current)return;const ye=re.nodesRef.current,Oe=(le=ye.find(_t=>_t.id===M))==null||(le=le.context)==null?void 0:le.elements.floating,De=as(kn(o.floating)),Ge=ye.some(_t=>_t.context&&Nn(_t.context.elements.floating,De));Oe&&!Ge&&ve.current&&Oe.focus({preventScroll:!0})},[p,o.floating,re,M,q]),$r(()=>{if(!p||!re||!q||M)return;function le(ye){yt(ye.id),W&&(W.current=ye)}return re.events.on("virtualfocus",le),()=>{re.events.off("virtualfocus",le)}},[p,re,q,M,W]),$r(()=>{me.current=Z,H.current=r,Ee.current=!!o.floating}),$r(()=>{r||(je.current=null)},[r]);const qt=l!=null,Jt=G.useMemo(()=>{function le(Oe){if(!r)return;const De=a.current.indexOf(Oe);De!==-1&&Ce.current!==De&&(Ce.current=De,Z())}return{onFocus(Oe){let{currentTarget:De}=Oe;xe.current=!0,le(De)},onClick:Oe=>{let{currentTarget:De}=Oe;return De.focus({preventScroll:!0})},...T&&{onMouseMove(Oe){let{currentTarget:De}=Oe;xe.current=!0,lt.current=!1,le(De)},onPointerLeave(Oe){let{pointerType:De}=Oe;if(!(!ve.current||De==="touch")&&(xe.current=!0,Ce.current=-1,Z(),!q)){var Ge;(Ge=ne.current)==null||Ge.focus({preventScroll:!0})}}}}},[r,ne,T,a,Z,q]),Gt=oi(le=>{if(ve.current=!1,xe.current=!0,le.which===229||!dt.current&&le.currentTarget===ne.current)return;if(N&&aE(le.key,B,R)){Wn(le),n(!1,le.nativeEvent,"list-navigation"),un(o.domReference)&&(q?re?.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const ye=Ce.current,Oe=uv(a,j),De=$S(a,j);if(pe||(le.key==="Home"&&(Wn(le),Ce.current=Oe,Z()),le.key==="End"&&(Wn(le),Ce.current=De,Z())),z>1){const Ge=Q||Array.from({length:a.current.length},()=>({width:1,height:1})),_t=mL(Ge,z,ue),Mt=_t.findIndex(Ir=>Ir!=null&&!Th(a.current,Ir,j)),mr=_t.reduce((Ir,Dn,Xr)=>Dn!=null&&!Th(a.current,Dn,j)?Xr:Ir,-1),cr=_t[pL({current:_t.map(Ir=>Ir!=null?a.current[Ir]:null)},{event:le,orientation:B,loop:x,rtl:R,cols:z,disabledIndices:gL([...j||a.current.map((Ir,Dn)=>Th(a.current,Dn)?Dn:void 0),void 0],_t),minIndex:Mt,maxIndex:mr,prevIndex:yL(Ce.current>De?Oe:Ce.current,Ge,_t,z,le.key===Dd?"bl":le.key===(R?la:ua)?"tr":"tl"),stopEvent:!0})];if(cr!=null&&(Ce.current=cr,Z()),B==="both")return}if(oE(le.key,B)){if(Wn(le),r&&!q&&as(le.currentTarget.ownerDocument)===le.currentTarget){Ce.current=pv(le.key,B,R)?Oe:De,Z();return}pv(le.key,B,R)?x?Ce.current=ye>=De?b&&ye!==a.current.length?-1:Oe:Tn(a,{startingIndex:ye,disabledIndices:j}):Ce.current=Math.min(De,Tn(a,{startingIndex:ye,disabledIndices:j})):x?Ce.current=ye<=Oe?b&&ye!==-1?a.current.length:De:Tn(a,{startingIndex:ye,decrement:!0,disabledIndices:j}):Ce.current=Math.max(Oe,Tn(a,{startingIndex:ye,decrement:!0,disabledIndices:j})),Vc(a,Ce.current)&&(Ce.current=-1),Z()}}),er=G.useMemo(()=>q&&r&&qt&&{"aria-activedescendant":vt||gt},[q,r,qt,vt,gt]),ur=G.useMemo(()=>({"aria-orientation":B==="both"?void 0:B,...pe?{}:er,onKeyDown:Gt,onPointerMove(){ve.current=!0}}),[er,Gt,B,pe]),se=G.useMemo(()=>{function le(Oe){C==="auto"&&W1(Oe.nativeEvent)&&(Re.current=!0)}function ye(Oe){Re.current=C,C==="auto"&&z_(Oe.nativeEvent)&&(Re.current=!0)}return{...er,onKeyDown(Oe){ve.current=!1;const De=Oe.key.startsWith("Arrow"),Ge=["Home","End"].includes(Oe.key),_t=De||Ge,Mt=BL(Oe.key,B,R),mr=aE(Oe.key,B,R),cr=oE(Oe.key,B),Ir=(N?Mt:cr)||Oe.key==="Enter"||Oe.key.trim()==="";if(q&&r){const Us=re?.nodesRef.current.find(zt=>zt.parentId==null),bn=re&&Us?NL(re.nodesRef.current,Us.id):null;if(_t&&bn&&W){const zt=new KeyboardEvent("keydown",{key:Oe.key,bubbles:!0});if(Mt||mr){var Dn,Xr;const Oo=((Dn=bn.context)==null?void 0:Dn.elements.domReference)===Oe.currentTarget,Io=mr&&!Oo?(Xr=bn.context)==null?void 0:Xr.elements.domReference:Mt?a.current.find(To=>To?.id===gt):null;Io&&(Wn(Oe),Io.dispatchEvent(zt),yt(void 0))}if((cr||Ge)&&bn.context&&bn.context.open&&bn.parentId&&Oe.currentTarget!==bn.context.elements.domReference){var Kn;Wn(Oe),(Kn=bn.context.elements.domReference)==null||Kn.dispatchEvent(zt);return}}return Gt(Oe)}if(!(!r&&!F&&De)){if(Ir&&(je.current=N&&cr?null:Oe.key),N){Mt&&(Wn(Oe),r?(Ce.current=uv(a,at.current),Z()):n(!0,Oe.nativeEvent,"list-navigation"));return}cr&&(m!=null&&(Ce.current=m),Wn(Oe),!r&&F?n(!0,Oe.nativeEvent,"list-navigation"):Gt(Oe),r&&Z())}},onFocus(){r&&!q&&(Ce.current=-1,Z())},onPointerDown:ye,onMouseDown:le,onClick:le}},[gt,er,Gt,at,C,a,N,Z,n,r,F,B,R,m,re,q,W]);return G.useMemo(()=>p?{reference:se,floating:ur,item:Jt}:{},[p,se,ur,Jt])}const lE=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function Vl(t,e){return typeof t=="function"?t(e):t}function $L(t,e){const[r,n]=G.useState(t);return t&&!r&&n(!0),G.useEffect(()=>{if(!t&&r){const o=setTimeout(()=>n(!1),e);return()=>clearTimeout(o)}},[t,r,e]),r}function UL(t,e){e===void 0&&(e={});const{open:r,elements:{floating:n}}=t,{duration:o=250}=e,l=(typeof o=="number"?o:o.close)||0,[c,p]=G.useState("unmounted"),m=$L(r,l);return!m&&c==="close"&&p("unmounted"),$r(()=>{if(n){if(r){p("initial");const b=requestAnimationFrame(()=>{p("open")});return()=>{cancelAnimationFrame(b)}}p("close")}},[r,n]),{isMounted:m,status:c}}function rb(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:n,close:o,common:a,duration:l=250}=e,c=t.placement,p=c.split("-")[0],m=G.useMemo(()=>({side:p,placement:c}),[p,c]),b=typeof l=="number",x=(b?l:l.open)||0,N=(b?l:l.close)||0,[R,q]=G.useState(()=>({...Vl(a,m),...Vl(r,m)})),{isMounted:C,status:T}=UL(t,{duration:l}),F=zn(r),j=zn(n),B=zn(o),z=zn(a);return $r(()=>{const K=Vl(F.current,m),W=Vl(B.current,m),Q=Vl(z.current,m),ue=Vl(j.current,m)||Object.keys(K).reduce((V,ne)=>(V[ne]="",V),{});if(T==="initial"&&q(V=>({transitionProperty:V.transitionProperty,...Q,...K})),T==="open"&&q({transitionProperty:Object.keys(ue).map(lE).join(","),transitionDuration:x+"ms",...Q,...ue}),T==="close"){const V=W||K;q({transitionProperty:Object.keys(V).map(lE).join(","),transitionDuration:N+"ms",...Q,...V})}},[N,B,F,j,z,x,T,m]),{isMounted:C,styles:R}}const zL=G.createContext({close(){}}),VL=lr({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),HL=({target:t,action:e="hover",disabled:r=!1,closeOnClick:n=!1,delay:o=100,float:a,variant:l,tva:c=VL,css:p,children:m})=>{const[b,x]=G.useState(!1),{refs:N,floatingStyles:R,context:q}=eb({open:b,onOpenChange:x,placement:"top",whileElementsMounted:rk,middleware:[ik(10),sk({fallbackAxisSideDirection:"start"}),cL()],...a}),{getReferenceProps:C,getFloatingProps:T}=tb([EL(q,{enabled:e==="hover",delay:o}),X_(q,{enabled:e==="click"}),ML(q),Y_(q)]),{isMounted:F,styles:j}=rb(q),B=c({mounted:F,...l,css:p}).slots;return y.jsxs(y.Fragment,{children:[y.jsx("button",{type:"button",ref:N.setReference,...C(),disabled:r,className:B.target(),children:t}),y.jsx(Z_,{children:y.jsx("div",{ref:N.setFloating,style:{...R,...j},className:B.portal(),...T(),onClick:n?()=>{x(!1)}:void 0,children:y.jsx(zL.Provider,{value:{close(){x(!1)}},children:m})})})]})},gk="icon-[system-uicons--menu-hamburger]",vk=lr({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),_r=({icon:t,variant:e,tva:r=vk,css:n,...o})=>{const a=r({...e,css:n}).slots;return t?y.jsx("div",{className:a.base({css:[t]}),...o}):null},QL=lr({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),ci=({icon:t=gk,iconProps:e,children:r,variant:n,tva:o=QL,css:a,...l})=>{const c=o({...n,css:a}).slots;return y.jsx(SL,{children:y.jsx(HL,{action:"click",target:y.jsx(_r,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:y.jsx("div",{className:c.base(),children:r})})})},_k="icon-[svg-spinners--90-ring-with-bg]",KL=lr({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),nb=({iconEnabled:t,iconDisabled:e,iconLoading:r=_k,disabled:n=!1,loading:o=!1,onClick:a,variant:l,tva:c=KL,css:p,children:m,...b})=>{const x=c({disabled:n,loading:o,...l,css:p}).slots;return y.jsxs("div",{className:x.base(),onClick:n?void 0:a,...b,children:[n?y.jsx(_r,{icon:o?r:e??t,variant:{size:"xl"}}):y.jsx(_r,{icon:o?r:t,variant:{size:"xl"}}),m]})},GL="icon-[iconamoon--close-light]",ps=G.createContext(void 0),JL=lr({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),rm=({target:t,icon:e,title:r,disabled:n=!1,outside:o=!1,variant:a,css:l,tva:c=JL,children:p})=>{const[m,b]=G.useState(!1),x=wL(),{refs:N,context:R}=eb({nodeId:x,open:m,onOpenChange:b}),q=X_(R),C=Y_(R,{outsidePress:o}),{getReferenceProps:T,getFloatingProps:F}=tb([q,C]),{isMounted:j,styles:B}=rb(R),z=c({disabled:n,...a,css:l}).slots;return y.jsxs(ps.Provider,{value:{close(){b(!1)}},children:[y.jsx("div",{ref:N.setReference,...T({disabled:n}),className:z.target(),children:t}),y.jsx(xL,{id:x,children:j&&y.jsx(y.Fragment,{children:y.jsx(Z_,{children:y.jsx(jL,{lockScroll:!0,style:B,className:z.base(),children:y.jsx(yk,{context:R,children:y.jsxs("div",{ref:N.setFloating,...F(),className:z.modal(),children:[y.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[y.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Hp(e)?y.jsx(_r,{icon:e,variant:{size:"xl"}}):e),r&&y.jsx("div",{className:"text-lg font-semibold text-slate-700",children:r})]}),y.jsx(nb,{iconEnabled:GL,onClick:()=>b(!1)})]}),p]})})})})})})]})},ZL=lr({use:rj,slot:{},variant:{},defaults:{}}),Cr=({icon:t,iconProps:e,label:r,textTitle:n,disabled:o=!1,modalProps:a,hidden:l=!1,variant:c,tva:p=ZL,css:m,children:b})=>{const x=p({...c,disabled:o,css:m}).slots;return l?null:y.jsxs("div",{className:x.base(),children:[Hp(t)?y.jsx(_r,{icon:t,...e}):t,y.jsx(rm,{icon:t,target:r,title:n,disabled:o,css:{modal:["w-1/2"]},...a,children:b})]})},XL=lr({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),YL=({variant:t,tva:e=XL,css:r,...n})=>{const o=e({...t,css:r}).slots;return y.jsx("div",{className:o.base(),...n})},eF="icon-[material-symbols-light--check-small]",tF="icon-[material-symbols-light--close-small]",rF="icon-[material-symbols-light--check-indeterminate-small]",nF=lr({use:vk,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),bk=({value:t,checkIcon:e=eF,unCheckIcon:r=tF,undefinedIcon:n=rF,tva:o=nF,...a})=>t==null?y.jsx(_r,{icon:n,tva:o,...a}):y.jsx(_r,{icon:t?e:r,tva:l=>o({...l,value:t}),...a}),iF=lr({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),wk=({value:t,onChange:e,variant:r,tva:n=iF,css:o,...a})=>{const l=n({...r,css:o}).slots;return y.jsx("div",{className:l.base(),children:y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:c=>{e(c.target.checked)},...a}),y.jsx("div",{className:l.switch()})]})})},sF=lr({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),Fn=({iconEnabled:t,iconDisabled:e,iconLoading:r=_k,iconProps:n,loading:o,variant:a,tva:l=sF,css:c,children:p,...m})=>{const b=l({disabled:m.disabled,...a,css:c}).slots;return y.jsxs("button",{type:"button",className:b.base({disabled:m.disabled}),...m,children:[m.disabled?y.jsx(_r,{icon:o===!0?r:e,variant:{size:"xl"},...n}):y.jsx(_r,{icon:o===!0?r:t,variant:{size:"xl"},...n}),p]})},ib=G.createContext({inline:!1}),oF=lr({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),aF=({inline:t,label:e,value:r,variant:n,tva:o=oF,css:a})=>{const l=G.useContext(ib),c=t??l?.inline,p=o({inline:c,...n,css:a}).slots;return y.jsxs("div",{className:p.base(),children:[e?y.jsx("div",{className:p.label(),children:e}):null,y.jsx("div",{className:p.value(),children:r})]})},lF=lr({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),xk=({items:t,hidden:e=[],valueOfProps:r,entity:n,variant:o,tva:a=lF,css:l,inline:c=!1})=>{const p=a({inline:c,...o,css:l}).slots;return y.jsx(ib.Provider,{value:{inline:c},children:y.jsx("div",{className:p.base(),children:t.filter(({id:m})=>!e.includes(m)).map(({id:m,render:b,...x})=>y.jsx(aF,{value:y.jsx(b,{entity:n}),...r,...x},m))})})},uF=lr({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),uE="icon-[tabler--dots]",cF=lr({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),dF=lr({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),mv=({pages:t,page:e,onPage:r,variant:n,tva:o=dF,css:a})=>{const l=o({...n,css:a}).slots;return y.jsx("nav",{className:l.base(),children:y.jsx("ul",{className:l.list(),children:t.map((c,p)=>y.jsx("li",{className:l.page({current:e===c-1}),onClick:()=>r(c-1),children:c},`page-${c}-${p}`))})})},fF=lr({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),hF=({items:t,icon:e,defaultValue:r,render:n,textSelect:o,disabled:a=!1,onItem:l,onSelect:c,onChange:p,value:m,variant:b,tva:x=fF,css:N})=>{const[R,q]=G.useState(!1),[C,T]=G.useState(null),[F,j]=G.useState(t.findIndex(me=>me.id===r));G.useEffect(()=>{j(t.findIndex(me=>me.id===m))},[m]);const{refs:B,floatingStyles:z,context:K}=eb({placement:"bottom-start",open:R,onOpenChange:q,whileElementsMounted:rk,middleware:[ik(5),sk({padding:10}),dL({apply({rects:me,elements:Ee,availableHeight:H}){Object.assign(Ee.floating.style,{maxHeight:`${H}px`,minWidth:`${me.reference.width}px`})},padding:10})]}),W=G.useRef([]),Q=G.useRef(!1),ue=X_(K,{event:"mousedown"}),V=Y_(K),ne=WL(K,{listRef:W,activeIndex:C,selectedIndex:F,onNavigate:T,loop:!0}),{getReferenceProps:M,getFloatingProps:re,getItemProps:Z}=tb([V,ne,ue]),{isMounted:pe,styles:Re}=rb(K),Ce=me=>{j(me),q(!1);const Ee=t[me];Ee&&l?.(Ee),c?.(Ee),p?.(Ee?.id)},je=F===null?void 0:t[F],ve=x({disabled:a,...b,css:N}).slots;return y.jsxs(y.Fragment,{children:[y.jsx("div",{tabIndex:a?-1:0,ref:a?void 0:B.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...a?{}:M(),className:ve.base(),children:y.jsxs("div",{className:ve.input(),children:[e?y.jsx(_r,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,je?y.jsx(n,{entity:je}):o||Ri.rich("Select item"),y.jsx(_r,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!R&&"text-slate-400",R&&"text-slate-600","group-hover:text-slate-600"]}})]})}),pe&&y.jsx(Z_,{children:y.jsx(yk,{context:K,modal:!1,children:y.jsx("div",{ref:B.setFloating,style:{...z,...Re},className:ve.popup(),...re(),children:t.map((me,Ee)=>y.jsxs("div",{ref:H=>{W.current[Ee]=H},role:"option",tabIndex:Ee===C?0:-1,"aria-selected":Ee===F&&Ee===C,className:ve.item({selected:Ee===F,active:Ee===C}),...Z({onClick(){Ce(Ee)},onKeyDown(H){H.key==="Enter"&&(H.preventDefault(),Ce(Ee)),H.key===" "&&!Q.current&&(H.preventDefault(),Ce(Ee))}}),children:[y.jsx(n,{entity:me}),Ee===F&&y.jsx(_r,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},me.id))})})})]})},pF=({sizes:t=[5,15,30,50,100],size:e,onSize:r,...n})=>y.jsx(hF,{items:t.map(o=>({id:`${o}`,size:o})),defaultValue:`${e}`,value:`${e}`,onItem:({size:o})=>r(o),render:({entity:{size:o}})=>o,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...n}),cE=({cursor:t,count:e,textTotal:r,onPage:n,onSize:o,variant:a,tva:l=cF,css:c})=>{const p=G.useMemo(()=>XP({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...a,css:c}).slots;return y.jsxs("div",{className:m.base(),children:[p.total>1?y.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(p.type)&&y.jsxs(y.Fragment,{children:[y.jsx(mv,{page:t.page,pages:p.start,onPage:n}),y.jsx(_r,{icon:uE})]}),y.jsx(mv,{page:t.page,pages:p.pages,onPage:n}),["both","end"].includes(p.type)&&y.jsxs(y.Fragment,{children:[y.jsx(_r,{icon:uE}),y.jsx(mv,{page:t.page,pages:p.end,onPage:n})]})]}):null,y.jsxs("div",{className:m.sums(),children:[y.jsx("div",{children:r}),y.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&y.jsxs(y.Fragment,{children:[y.jsx("div",{children:"/"}),y.jsx("div",{className:"font-semibold",children:e.where})]})]}),y.jsx(pF,{size:t.size,onSize:o})]})},ms=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,page:e}})})},ys=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,size:e,page:0}})})};function ca(t){return typeof t>"u"||t===void 0}function Oi(t){return typeof t=="string"}function nm(t){return typeof t=="number"}function mp(t){return typeof t=="boolean"}function sb(t){return t===null}function mF(t){return t instanceof Date}function ob(t){return typeof t=="bigint"}function Ii(t){return typeof t=="function"}function qs(t){return typeof t=="object"&&t!==null}function A(t){return Object.freeze(t)}function mh(t){return yo(t)?t:[t]}function yo(t){return Array.isArray(t)}function da(t){return t}const Nr=A({is(t){return t.kind==="AlterTableNode"},create(t){return A({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return A({...t,...e})},cloneWithColumnAlteration(t,e){return A({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),zr=A({is(t){return t.kind==="IdentifierNode"},create(t){return A({kind:"IdentifierNode",name:t})}}),oo=A({is(t){return t.kind==="CreateIndexNode"},create(t){return A({kind:"CreateIndexNode",name:zr.create(t)})},cloneWith(t,e){return A({...t,...e})},cloneWithColumns(t,e){return A({...t,columns:[...t.columns||[],...e]})}}),Sk=A({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return A({kind:"CreateSchemaNode",schema:zr.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),yF=["preserve rows","delete rows","drop"],gi=A({is(t){return t.kind==="CreateTableNode"},create(t){return A({kind:"CreateTableNode",table:t,columns:A([])})},cloneWithColumn(t,e){return A({...t,columns:A([...t.columns,e])})},cloneWithConstraint(t,e){return A({...t,constraints:t.constraints?A([...t.constraints,e]):A([e])})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):A([e])})},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):A([e])})},cloneWith(t,e){return A({...t,...e})}}),_a=A({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return A({kind:"SchemableIdentifierNode",identifier:zr.create(t)})},createWithSchema(t,e){return A({kind:"SchemableIdentifierNode",schema:zr.create(t),identifier:zr.create(e)})}}),Qc=A({is(t){return t.kind==="DropIndexNode"},create(t,e){return A({kind:"DropIndexNode",name:_a.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),u_=A({is(t){return t.kind==="DropSchemaNode"},create(t,e){return A({kind:"DropSchemaNode",schema:zr.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),c_=A({is(t){return t.kind==="DropTableNode"},create(t,e){return A({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return A({...t,...e})}}),ka=A({is(t){return t.kind==="AliasNode"},create(t,e){return A({kind:"AliasNode",node:t,alias:e})}}),fa=A({is(t){return t.kind==="TableNode"},create(t){return A({kind:"TableNode",table:_a.create(t)})},createWithSchema(t,e){return A({kind:"TableNode",table:_a.createWithSchema(t,e)})}});function hi(t){return qs(t)&&Ii(t.toOperationNode)}function gF(t){return qs(t)&&"expressionType"in t&&hi(t)}function vF(t){return qs(t)&&"expression"in t&&Oi(t.alias)&&hi(t)}const no=A({is(t){return t.kind==="SelectModifierNode"},create(t,e){return A({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return A({kind:"SelectModifierNode",rawModifier:t})}}),ba=A({is(t){return t.kind==="AndNode"},create(t,e){return A({kind:"AndNode",left:t,right:e})}}),Lu=A({is(t){return t.kind==="OrNode"},create(t,e){return A({kind:"OrNode",left:t,right:e})}}),yv=A({is(t){return t.kind==="OnNode"},create(t){return A({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return A({...t,on:e==="And"?ba.create(t.on,r):Lu.create(t.on,r)})}}),Kc=A({is(t){return t.kind==="JoinNode"},create(t,e){return A({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return A({kind:"JoinNode",joinType:t,table:e,on:yv.create(r)})},cloneWithOn(t,e){return A({...t,on:t.on?yv.cloneWithOperation(t.on,"And",e):yv.create(e)})}}),qu=A({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return A({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),_F=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],bF=["+","-","*","/","%","^","&","|","#","<<",">>"],Ek=["->","->>"],wF=[..._F,...bF,"&&","||"],xF=["exists","not exists"],SF=["not","-",...xF],EF=[...wF,...Ek,...SF,"between","between symmetric"],wa=A({is(t){return t.kind==="OperatorNode"},create(t){return A({kind:"OperatorNode",operator:t})}});function dE(t){return Oi(t)&&Ek.includes(t)}const on=A({is(t){return t.kind==="ColumnNode"},create(t){return A({kind:"ColumnNode",column:zr.create(t)})}}),ab=A({is(t){return t.kind==="SelectAllNode"},create(){return A({kind:"SelectAllNode"})}}),im=A({is(t){return t.kind==="ReferenceNode"},create(t,e){return A({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return A({kind:"ReferenceNode",table:t,column:ab.create()})}});class NF{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return Rk(this.#e)}}function Nk(t){return qs(t)&&hi(t)&&Oi(t.dynamicReference)}const d_=A({is(t){return t.kind==="OrderByItemNode"},create(t,e){return A({kind:"OrderByItemNode",orderBy:t,direction:e})}}),An=A({is(t){return t.kind==="RawNode"},create(t,e){return A({kind:"RawNode",sqlFragments:A(t),parameters:A(e)})},createWithSql(t){return An.create([t],[])},createWithChild(t){return An.create(["",""],[t])},createWithChildren(t){return An.create(new Array(t.length+1).fill(""),t)}});function kk(t){return t==="asc"||t==="desc"}function Bd(t){if(t.length===2)return[gv(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>gv(r)):[gv(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function gv(t,e){const r=kF(t);if(d_.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return d_.create(r,qk(e))}function kF(t){if(Vd(t))return yl(t);if(Nk(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!kk(r))throw new Error(`Invalid order by direction: ${r}`);return d_.create(go(e),qk(r))}return go(t)}function qk(t){if(t)return t==="asc"||t==="desc"?An.createWithSql(t):t.toOperationNode()}const yp=A({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return A({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return A({...t,traversal:e})}}),Ck=A({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return A({kind:"JSONOperatorChainNode",operator:t,values:A([])})},cloneWithValue(t,e){return A({...t,values:A([...t.values,e])})}}),Gc=A({is(t){return t.kind==="JSONPathNode"},create(t){return A({kind:"JSONPathNode",inOperator:t,pathLegs:A([])})},cloneWithLeg(t,e){return A({...t,pathLegs:A([...t.pathLegs,e])})}});function Rk(t){return Oi(t)?go(t):t.toOperationNode()}function bd(t){return yo(t)?t.map(e=>Ei(e)):[Ei(t)]}function Ei(t){return Vd(t)?yl(t):Rk(t)}function qF(t,e){const r=go(t);if(dE(e))return yp.create(r,Ck.create(wa.create(e)));const n=e.slice(0,-1);if(dE(n))return yp.create(r,Gc.create(wa.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function go(t){const e=".";if(!t.includes(e))return im.create(on.create(t));const r=t.split(e).map(lb);if(r.length===3)return RF(r);if(r.length===2)return OF(r);throw new Error(`invalid column reference ${t}`)}function CF(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(lb);return ka.create(go(r),zr.create(n))}else return go(t)}function Ok(t){return on.create(t)}function gp(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(lb);if(!kk(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Bd([r,n])[0]}else return Ok(t)}function RF(t){const[e,r,n]=t;return im.create(on.create(n),fa.createWithSchema(e,r))}function OF(t){const[e,r]=t;return im.create(on.create(r),fa.create(e))}function lb(t){return t.trim()}const Ik=A({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return A({kind:"PrimitiveValueListNode",values:A([...t])})}}),ub=A({is(t){return t.kind==="ValueListNode"},create(t){return A({kind:"ValueListNode",values:A(t)})}}),Fs=A({is(t){return t.kind==="ValueNode"},create(t){return A({kind:"ValueNode",value:t})},createImmediate(t){return A({kind:"ValueNode",value:t,immediate:!0})}});function IF(t){return yo(t)?TF(t):ln(t)}function ln(t){return Vd(t)?yl(t):Fs.create(t)}function cb(t){return nm(t)||mp(t)||sb(t)}function db(t){if(!cb(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Fs.createImmediate(t)}function TF(t){return t.some(Vd)?ub.create(t.map(e=>ln(e))):Ik.create(t)}const Cu=A({is(t){return t.kind==="ParensNode"},create(t){return A({kind:"ParensNode",node:t})}});function qn(t){if(t.length===3)return fb(t[0],t[1],t[2]);if(t.length===1)return ln(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function fb(t,e,r){return AF(e)&&Tk(r)?qu.create(Ei(t),f_(e),Fs.createImmediate(r)):qu.create(Ei(t),f_(e),IF(r))}function Ds(t,e,r){return qu.create(Ei(t),f_(e),Ei(r))}function fE(t,e){return vp(Object.entries(t).filter(([,r])=>!ca(r)).map(([r,n])=>fb(r,Tk(n)?"is":"=",n)),e)}function vp(t,e,r=!0){const n=e==="and"?ba.create:Lu.create;if(t.length===0)return qu.create(Fs.createImmediate(1),wa.create("="),Fs.createImmediate(e==="and"?1:0));let o=hE(t[0]);for(let a=1;a<t.length;++a)o=n(o,hE(t[a]));return t.length>1&&r?Cu.create(o):o}function AF(t){return t==="is"||t==="is not"}function Tk(t){return sb(t)||mp(t)}function f_(t){if(Oi(t)&&EF.includes(t))return wa.create(t);if(hi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function hE(t){return hi(t)?t.toOperationNode():t}const xa=A({is(t){return t.kind==="OrderByNode"},create(t){return A({kind:"OrderByNode",items:A([...t])})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),pE=A({is(t){return t.kind==="PartitionByNode"},create(t){return A({kind:"PartitionByNode",items:A(t)})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),h_=A({is(t){return t.kind==="OverNode"},create(){return A({kind:"OverNode"})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?xa.cloneWithItems(t.orderBy,e):xa.create(e)})},cloneWithPartitionByItems(t,e){return A({...t,partitionBy:t.partitionBy?pE.cloneWithItems(t.partitionBy,e):pE.create(e)})}}),_p=A({is(t){return t.kind==="FromNode"},create(t){return A({kind:"FromNode",froms:A(t)})},cloneWithFroms(t,e){return A({...t,froms:A([...t.froms,...e])})}}),mE=A({is(t){return t.kind==="GroupByNode"},create(t){return A({kind:"GroupByNode",items:A(t)})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),yE=A({is(t){return t.kind==="HavingNode"},create(t){return A({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return A({...t,having:e==="And"?ba.create(t.having,r):Lu.create(t.having,r)})}}),Er=A({is(t){return t.kind==="SelectQueryNode"},create(t){return A({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return A({kind:"SelectQueryNode",from:_p.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})},cloneWithDistinctOn(t,e){return A({...t,distinctOn:t.distinctOn?A([...t.distinctOn,...e]):A(e)})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):A([e])})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?xa.cloneWithItems(t.orderBy,e):xa.create(e)})},cloneWithGroupByItems(t,e){return A({...t,groupBy:t.groupBy?mE.cloneWithItems(t.groupBy,e):mE.create(e)})},cloneWithLimit(t,e){return A({...t,limit:e})},cloneWithOffset(t,e){return A({...t,offset:e})},cloneWithFetch(t,e){return A({...t,fetch:e})},cloneWithHaving(t,e){return A({...t,having:t.having?yE.cloneWithOperation(t.having,"And",e):yE.create(e)})},cloneWithSetOperations(t,e){return A({...t,setOperations:t.setOperations?A([...t.setOperations,...e]):A([...e])})},cloneWithoutSelections(t){return A({...t,selections:[]})},cloneWithoutLimit(t){return A({...t,limit:void 0})},cloneWithoutOffset(t){return A({...t,offset:void 0})},cloneWithoutOrderBy(t){return A({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return A({...t,groupBy:void 0})}});function sr(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class du{#e;constructor(e){this.#e=A(e)}on(...e){return new du({...this.#e,joinNode:Kc.cloneWithOn(this.#e.joinNode,qn(e))})}onRef(e,r,n){return new du({...this.#e,joinNode:Kc.cloneWithOn(this.#e.joinNode,Ds(e,r,n))})}onTrue(){return new du({...this.#e,joinNode:Kc.cloneWithOn(this.#e.joinNode,An.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}sr(du,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const PF=A({is(t){return t.kind==="PartitionByItemNode"},create(t){return A({kind:"PartitionByItemNode",partitionBy:t})}});function jF(t){return bd(t).map(PF.create)}class wd{#e;constructor(e){this.#e=A(e)}orderBy(e,r){return new wd({overNode:h_.cloneWithOrderByItems(this.#e.overNode,Bd([e,r]))})}partitionBy(e){return new wd({overNode:h_.cloneWithPartitionByItems(this.#e.overNode,jF(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}sr(wd,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Jc=A({is(t){return t.kind==="SelectionNode"},create(t){return A({kind:"SelectionNode",selection:t})},createSelectAll(){return A({kind:"SelectionNode",selection:ab.create()})},createSelectAllFromTable(t){return A({kind:"SelectionNode",selection:im.createSelectAll(t)})}});function fs(t){return Ii(t)?fs(t(Du())):yo(t)?t.map(e=>gE(e)):[gE(t)]}function gE(t){return Oi(t)?Jc.create(CF(t)):Nk(t)?Jc.create(t.toOperationNode()):Jc.create(Vk(t))}function Ms(t){return t?Array.isArray(t)?t.map(vE):[vE(t)]:[Jc.createSelectAll()]}function vE(t){if(Oi(t))return Jc.createSelectAllFromTable(rn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const LF=A({is(t){return t.kind==="ValuesNode"},create(t){return A({kind:"ValuesNode",values:A(t)})}}),FF=A({is(t){return t.kind==="DefaultInsertValueNode"},create(){return A({kind:"DefaultInsertValueNode"})}});function Ak(t){const e=Ii(t)?t(Du()):t,r=yo(e)?e:A([e]);return DF(r)}function DF(t){const e=MF(t);return[A([...e.keys()].map(on.create)),LF.create(t.map(r=>BF(r,e)))]}function MF(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const o of n)!e.has(o)&&r[o]!==void 0&&e.set(o,e.size)}return e}function BF(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let o=!1;for(const l of r){const c=e.get(l);if(ca(c))continue;const p=t[l];(ca(p)||Vd(p))&&(o=!0),n[c]=p}if(r.length<e.size||o){const l=FF.create();return ub.create(n.map(c=>ca(c)?l:ln(c)))}return Ik.create(n)}const bi=A({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return A({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return A({kind:"InsertQueryNode"})},cloneWith(t,e){return A({...t,...e})}}),fu=A({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return A({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return A({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return A({...t,from:t.from?_p.cloneWithFroms(t.from,e):_p.create(e)})},cloneWithUpdates(t,e){return A({...t,updates:t.updates?A([...t.updates,...e]):e})},cloneWithLimit(t,e){return A({...t,limit:e})}}),_E=A({is(t){return t.kind==="UsingNode"},create(t){return A({kind:"UsingNode",tables:A(t)})},cloneWithTables(t,e){return A({...t,tables:A([...t.tables,...e])})}}),Ka=A({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return A({kind:"DeleteQueryNode",from:_p.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?xa.cloneWithItems(t.orderBy,e):xa.create(e)})},cloneWithoutOrderBy(t){return A({...t,orderBy:void 0})},cloneWithLimit(t,e){return A({...t,limit:e})},cloneWithoutLimit(t){return A({...t,limit:void 0})},cloneWithUsing(t,e){return A({...t,using:t.using!==void 0?_E.cloneWithTables(t.using,e):_E.create(e)})}}),si=A({is(t){return t.kind==="WhereNode"},create(t){return A({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return A({...t,where:e==="And"?ba.create(t.where,r):Lu.create(t.where,r)})}}),bE=A({is(t){return t.kind==="ReturningNode"},create(t){return A({kind:"ReturningNode",selections:A(t)})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})}}),WF=A({is(t){return t.kind==="ExplainNode"},create(t,e){return A({kind:"ExplainNode",format:t,options:e})}}),Wd=A({is(t){return t.kind==="WhenNode"},create(t){return A({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return A({...t,result:e})}}),ai=A({is(t){return t.kind==="MergeQueryNode"},create(t,e){return A({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return A({...t,using:e})},cloneWithWhen(t,e){return A({...t,whens:t.whens?A([...t.whens,e]):A([e])})},cloneWithThen(t,e){return A({...t,whens:t.whens?A([...t.whens.slice(0,-1),Wd.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),wE=A({is(t){return t.kind==="OutputNode"},create(t){return A({kind:"OutputNode",selections:A(t)})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})}}),Ct=A({is(t){return Er.is(t)||bi.is(t)||fu.is(t)||Ka.is(t)||ai.is(t)},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):A([e])})},cloneWithWhere(t,e){return A({...t,where:t.where?si.cloneWithOperation(t.where,"And",e):si.create(e)})},cloneWithJoin(t,e){return A({...t,joins:t.joins?A([...t.joins,e]):A([e])})},cloneWithReturning(t,e){return A({...t,returning:t.returning?bE.cloneWithSelections(t.returning,e):bE.create(e)})},cloneWithoutReturning(t){return A({...t,returning:void 0})},cloneWithoutWhere(t){return A({...t,where:void 0})},cloneWithExplain(t,e,r){return A({...t,explain:WF.create(e,r?.toOperationNode())})},cloneWithTop(t,e){return A({...t,top:e})},cloneWithOutput(t,e){return A({...t,output:t.output?wE.cloneWithSelections(t.output,e):wE.create(e)})}}),Pk=A({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return A({kind:"ColumnUpdateNode",column:t,value:e})}});function $F(...t){return t.length===2?[Pk.create(Ei(t[0]),ln(t[1]))]:hb(t[0])}function hb(t){const e=Ii(t)?t(Du()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>Pk.create(on.create(r),ln(n)))}const UF=A({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return A({kind:"OnDuplicateKeyNode",updates:t})}});class zF{insertId;numInsertedOrUpdatedRows;constructor(e,r){this.insertId=e,this.numInsertedOrUpdatedRows=r}}class $d extends Error{node;constructor(e){super("no result"),this.node=e}}function Ud(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const vi=A({is(t){return t.kind==="OnConflictNode"},create(){return A({kind:"OnConflictNode"})},cloneWith(t,e){return A({...t,...e})},cloneWithIndexWhere(t,e){return A({...t,indexWhere:t.indexWhere?si.cloneWithOperation(t.indexWhere,"And",e):si.create(e)})},cloneWithIndexOrWhere(t,e){return A({...t,indexWhere:t.indexWhere?si.cloneWithOperation(t.indexWhere,"Or",e):si.create(e)})},cloneWithUpdateWhere(t,e){return A({...t,updateWhere:t.updateWhere?si.cloneWithOperation(t.updateWhere,"And",e):si.create(e)})},cloneWithUpdateOrWhere(t,e){return A({...t,updateWhere:t.updateWhere?si.cloneWithOperation(t.updateWhere,"Or",e):si.create(e)})},cloneWithoutIndexWhere(t){return A({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return A({...t,updateWhere:void 0})}});class ks{#e;constructor(e){this.#e=A(e)}column(e){const r=on.create(e);return new ks({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?A([...this.#e.onConflictNode.columns,r]):A([r])})})}columns(e){const r=e.map(on.create);return new ks({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?A([...this.#e.onConflictNode.columns,...r]):A(r)})})}constraint(e){return new ks({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{constraint:zr.create(e)})})}expression(e){return new ks({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new ks({...this.#e,onConflictNode:vi.cloneWithIndexWhere(this.#e.onConflictNode,qn(e))})}whereRef(e,r,n){return new ks({...this.#e,onConflictNode:vi.cloneWithIndexWhere(this.#e.onConflictNode,Ds(e,r,n))})}clearWhere(){return new ks({...this.#e,onConflictNode:vi.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new jk({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new hu({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{updates:hb(e)})})}$call(e){return e(this)}}sr(ks,"don't await OnConflictBuilder instances.");class jk{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.onConflictNode}}sr(jk,"don't await OnConflictDoNothingBuilder instances.");class hu{#e;constructor(e){this.#e=A(e)}where(...e){return new hu({...this.#e,onConflictNode:vi.cloneWithUpdateWhere(this.#e.onConflictNode,qn(e))})}whereRef(e,r,n){return new hu({...this.#e,onConflictNode:vi.cloneWithUpdateWhere(this.#e.onConflictNode,Ds(e,r,n))})}clearWhere(){return new hu({...this.#e,onConflictNode:vi.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}sr(hu,"don't await OnConflictUpdateBuilder instances.");const VF=A({is(t){return t.kind==="TopNode"},create(t,e){return A({kind:"TopNode",expression:t,modifiers:e})}});function Fu(t,e){if(!nm(t)&&!ob(t))throw new Error(`Invalid top expression: ${t}`);if(!ca(e)&&!HF(e))throw new Error(`Invalid top modifiers: ${e}`);return VF.create(t,e)}function HF(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class Br{#e;constructor(e){this.#e=A(e)}values(e){const[r,n]=Ak(e);return new Br({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new Br({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{columns:A(e.map(on.create))})})}expression(e){return new Br({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{values:yl(e)})})}defaultValues(){return new Br({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new Br({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new Br({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,r){return new Br({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Fu(e,r))})}onConflict(e){return new Br({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{onConflict:e(new ks({onConflictNode:vi.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Br({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{onDuplicateKey:UF.create(hb(e))})})}returning(e){return new Br({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,fs(e))})}returningAll(){return new Br({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ms())})}output(e){return new Br({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,fs(e))})}outputAll(e){return new Br({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ms(e))})}clearReturning(){return new Br({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Br({...this.#e})}$castTo(){return new Br(this.#e)}$narrowType(){return new Br(this.#e)}$assertType(){return new Br(this.#e)}withPlugin(e){return new Br({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new zF(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$d){const r=await this.executeTakeFirst();if(r===void 0)throw Ud(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Br({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Br,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class QF{numDeletedRows;constructor(e){this.numDeletedRows=e}}const pb=A({is(t){return t.kind==="LimitNode"},create(t){return A({kind:"LimitNode",limit:t})}});class Sr{#e;constructor(e){this.#e=A(e)}where(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,qn(e))})}whereRef(e,r,n){return new Sr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Ds(e,r,n))})}clearWhere(){return new Sr({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Sr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Fu(e,r))})}using(e){return new Sr({...this.#e,queryNode:Ka.cloneWithUsing(this.#e.queryNode,Ed(e))})}innerJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("InnerJoin",e))})}leftJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("LeftJoin",e))})}rightJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("RightJoin",e))})}fullJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("FullJoin",e))})}returning(e){return new Sr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,fs(e))})}returningAll(e){return new Sr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ms(e))})}output(e){return new Sr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,fs(e))})}outputAll(e){return new Sr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ms(e))})}clearReturning(){return new Sr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Sr({...this.#e,queryNode:Ka.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Sr({...this.#e,queryNode:Ka.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,r){return new Sr({...this.#e,queryNode:Ka.cloneWithOrderByItems(this.#e.queryNode,Bd([e,r]))})}limit(e){return new Sr({...this.#e,queryNode:Ka.cloneWithLimit(this.#e.queryNode,pb.create(ln(e)))})}modifyEnd(e){return new Sr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,r){return e?r(this):new Sr({...this.#e})}$castTo(){return new Sr(this.#e)}$narrowType(){return new Sr(this.#e)}$assertType(){return new Sr(this.#e)}withPlugin(e){return new Sr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new QF(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$d){const r=await this.executeTakeFirst();if(r===void 0)throw Ud(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Sr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Sr,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class KF{numUpdatedRows;numChangedRows;constructor(e,r){this.numUpdatedRows=e,this.numChangedRows=r}}class Rr{#e;constructor(e){this.#e=A(e)}where(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,qn(e))})}whereRef(e,r,n){return new Rr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Ds(e,r,n))})}clearWhere(){return new Rr({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Rr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Fu(e,r))})}from(e){return new Rr({...this.#e,queryNode:fu.cloneWithFromItems(this.#e.queryNode,Ed(e))})}innerJoin(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("InnerJoin",e))})}leftJoin(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("LeftJoin",e))})}rightJoin(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("RightJoin",e))})}fullJoin(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("FullJoin",e))})}limit(e){return new Rr({...this.#e,queryNode:fu.cloneWithLimit(this.#e.queryNode,pb.create(ln(e)))})}set(...e){return new Rr({...this.#e,queryNode:fu.cloneWithUpdates(this.#e.queryNode,$F(...e))})}returning(e){return new Rr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,fs(e))})}returningAll(e){return new Rr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ms(e))})}output(e){return new Rr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,fs(e))})}outputAll(e){return new Rr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ms(e))})}modifyEnd(e){return new Rr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Rr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Rr({...this.#e})}$castTo(){return new Rr(this.#e)}$narrowType(){return new Rr(this.#e)}$assertType(){return new Rr(this.#e)}withPlugin(e){return new Rr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new KF(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$d){const r=await this.executeTakeFirst();if(r===void 0)throw Ud(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Rr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Rr,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const xE=A({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return A({kind:"CommonTableExpressionNameNode",table:fa.create(t),columns:e?A(e.map(on.create)):void 0})}}),bp=A({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return A({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return A({...t,...e})}});class xd{#e;constructor(e){this.#e=A(e)}materialized(){return new xd({...this.#e,node:bp.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new xd({...this.#e,node:bp.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}sr(xd,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function SE(t,e){const r=e(o2()).toOperationNode();return Ii(t)?t(GF(r)).toOperationNode():bp.create(Lk(t),r)}function GF(t){return e=>new xd({node:bp.create(Lk(e),t)})}function Lk(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(o=>o.trim());return xE.create(r,n)}else return xE.create(t)}const yh=A({is(t){return t.kind==="WithNode"},create(t,e){return A({kind:"WithNode",expressions:A([t]),...e})},cloneWithExpression(t,e){return A({...t,expressions:A([...t.expressions,e])})}}),EE=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function JF(t){let e="";for(let r=0;r<t;++r)e+=ZF();return e}function ZF(){return EE[~~(Math.random()*EE.length)]}function kr(){return new XF}class XF{#e;get queryId(){return this.#e===void 0&&(this.#e=JF(8)),this.#e}}class Fk{nodeStack=[];#e=A({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),A(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&A(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:A([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const YF=A({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class e2 extends Fk{#e;#t=new Set;#r=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#n(e))return super.transformNodeImpl(e);const r=this.#s(e);for(const a of r)this.#r.add(a);const n=this.#i(e);for(const a of n)this.#t.add(a);const o=super.transformNodeImpl(e);for(const a of n)this.#t.delete(a);for(const a of r)this.#r.delete(a);return o}transformSchemableIdentifier(e){const r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:zr.create(this.#e)}}transformReferences(e){const r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:fa.createWithSchema(this.#e,r.table.table.identifier.name)}}#n(e){return e.kind in YF}#i(e){const r=new Set;if("name"in e&&e.name&&_a.is(e.name)&&this.#a(e.name,r),"from"in e&&e.from)for(const n of e.from.froms)this.#o(n,r);if("into"in e&&e.into&&this.#o(e.into,r),"table"in e&&e.table&&this.#o(e.table,r),"joins"in e&&e.joins)for(const n of e.joins)this.#o(n.table,r);return"using"in e&&e.using&&this.#o(e.using,r),r}#s(e){const r=new Set;return"with"in e&&e.with&&this.#u(e.with,r),r}#o(e,r){const n=fa.is(e)?e:ka.is(e)&&fa.is(e.node)?e.node:null;n&&this.#a(n.table,r)}#a(e,r){const n=e.identifier.name;!this.#t.has(n)&&!this.#r.has(n)&&r.add(n)}#u(e,r){for(const n of e.expressions){const o=n.name.table.table.identifier.name;this.#r.has(o)||r.add(o)}}}class zd{#e;constructor(e){this.#e=new e2(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const t2=A({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return A({kind:"MatchedNode",not:t,bySource:e})}});function NE(t,e,r){return Wd.create(vp([t2.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?Ds(e[0],e[1],e[2]):qn(e)]:[]],"and",!1))}function Zc(t){return Oi(t)?An.create([t],[]):hi(t)?t.toOperationNode():t}class kE{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}}const qE=new Set;function r2(t){qE.has(t)||(qE.add(t),console.log(t))}const n2=A([]);class Dk{#e;constructor(e=n2){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(const n of this.#e){const o=n.transformQuery({node:e,queryId:r});if(o.kind===e.kind)e=o;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${o.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const o=await n.executeQuery(e),a=await this.#t(o,r);return i2(o,a),a})}async *stream(e,r,n){const o=new kE,a=new kE;this.provideConnection(async c=>(o.resolve(c),await a.promise)).catch(c=>o.reject(c));const l=await o.promise;try{for await(const c of l.streamQuery(e,r))yield await this.#t(c,n)}finally{a.resolve()}}async #t(e,r){for(const n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}}function i2(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||r2("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class eu extends Dk{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new eu([...this.plugins,e])}withPlugins(e){return new eu([...this.plugins,...e])}withPluginAtFront(e){return new eu([e,...this.plugins])}withoutPlugins(){return new eu([])}}const sm=new eu;class s2{numChangedRows;constructor(e){this.numChangedRows=e}}class Ya{#e;constructor(e){this.#e=A(e)}modifyEnd(e){return new Ya({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Ya({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Fu(e,r))})}using(...e){return new Ni({...this.#e,queryNode:ai.cloneWithUsing(this.#e.queryNode,Un("Using",e))})}output(e){return new Ya({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,fs(e))})}outputAll(e){return new Ya({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ms(e))})}}sr(Ya,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Ni{#e;constructor(e){this.#e=A(e)}modifyEnd(e){return new Ni({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Ni({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Fu(e,r))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,r,n){return this.#t([e,r,n],!0)}#t(e,r){return new p_({...this.#e,queryNode:ai.cloneWithWhen(this.#e.queryNode,NE({isMatched:!0},e,r))})}whenNotMatched(){return this.#r([])}whenNotMatchedAnd(...e){return this.#r(e)}whenNotMatchedAndRef(e,r,n){return this.#r([e,r,n],!0)}whenNotMatchedBySource(){return this.#r([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#r(e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return this.#r([e,r,n],!0,!0)}output(e){return new Ni({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,fs(e))})}outputAll(e){return new Ni({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ms(e))})}#r(e,r=!1,n=!1){const o={...this.#e,queryNode:ai.cloneWithWhen(this.#e.queryNode,NE({isMatched:!1,bySource:n},e,r))},a=n?p_:Mk;return new a(o)}$call(e){return e(this)}$if(e,r){return e?r(this):new Ni({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?r.rows:[new s2(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$d){const r=await this.executeTakeFirst();if(r===void 0)throw Ud(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}}sr(Ni,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class p_{#e;constructor(e){this.#e=A(e)}thenDelete(){return new Ni({...this.#e,queryNode:ai.cloneWithThen(this.#e.queryNode,Zc("delete"))})}thenDoNothing(){return new Ni({...this.#e,queryNode:ai.cloneWithThen(this.#e.queryNode,Zc("do nothing"))})}thenUpdate(e){return new Ni({...this.#e,queryNode:ai.cloneWithThen(this.#e.queryNode,Zc(e(new Rr({queryId:this.#e.queryId,executor:sm,queryNode:fu.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}sr(p_,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Mk{#e;constructor(e){this.#e=A(e)}thenDoNothing(){return new Ni({...this.#e,queryNode:ai.cloneWithThen(this.#e.queryNode,Zc("do nothing"))})}thenInsertValues(e){const[r,n]=Ak(e);return new Ni({...this.#e,queryNode:ai.cloneWithThen(this.#e.queryNode,Zc(bi.cloneWith(bi.createWithoutInto(),{columns:r,values:n})))})}}sr(Mk,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ta{#e;constructor(e){this.#e=A(e)}selectFrom(e){return m_({queryId:kr(),executor:this.#e.executor,queryNode:Er.createFrom(Ed(e),this.#e.withNode)})}selectNoFrom(e){return m_({queryId:kr(),executor:this.#e.executor,queryNode:Er.cloneWithSelections(Er.create(this.#e.withNode),fs(e))})}insertInto(e){return new Br({queryId:kr(),executor:this.#e.executor,queryNode:bi.create(rn(e),this.#e.withNode)})}replaceInto(e){return new Br({queryId:kr(),executor:this.#e.executor,queryNode:bi.create(rn(e),this.#e.withNode,!0)})}deleteFrom(e){return new Sr({queryId:kr(),executor:this.#e.executor,queryNode:Ka.create(Ed(e),this.#e.withNode)})}updateTable(e){return new Rr({queryId:kr(),executor:this.#e.executor,queryNode:fu.create(Nd(e),this.#e.withNode)})}mergeInto(e){return new Ya({queryId:kr(),executor:this.#e.executor,queryNode:ai.create(Hk(e),this.#e.withNode)})}with(e,r){const n=SE(e,r);return new ta({...this.#e,withNode:this.#e.withNode?yh.cloneWithExpression(this.#e.withNode,n):yh.create(n)})}withRecursive(e,r){const n=SE(e,r);return new ta({...this.#e,withNode:this.#e.withNode?yh.cloneWithExpression(this.#e.withNode,n):yh.create(n,{recursive:!0})})}withPlugin(e){return new ta({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new ta({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new ta({...this.#e,executor:this.#e.executor.withPluginAtFront(new zd(e))})}}function o2(){return new ta({executor:sm})}function a2(t,e){return new du({joinNode:Kc.create(t,Nd(e))})}function l2(){return new wd({overNode:h_.create()})}function Un(t,e){if(e.length===3)return c2(t,e[0],e[1],e[2]);if(e.length===2)return u2(t,e[0],e[1]);throw new Error("not implemented")}function u2(t,e,r){return r(a2(t,e)).toOperationNode()}function c2(t,e,r,n){return Kc.createWithOn(t,Nd(e),Ds(r,"=",n))}const d2=A({is(t){return t.kind==="OffsetNode"},create(t){return A({kind:"OffsetNode",offset:t})}}),f2=A({is(t){return t.kind==="GroupByItemNode"},create(t){return A({kind:"GroupByItemNode",groupBy:t})}});function h2(t){return t=Ii(t)?t(Du()):t,bd(t).map(f2.create)}const Bk=A({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return A({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Hl(t,e,r){return Ii(e)&&(e=e(yb())),yo(e)||(e=[e]),e.map(n=>Bk.create(t,yl(n),r))}class Or{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new mb(this,e)}or(...e){return new wp(Lu.create(this.#e,qn(e)))}and(...e){return new xp(ba.create(this.#e,qn(e)))}$castTo(){return new Or(this.#e)}$notNull(){return new Or(this.#e)}toOperationNode(){return this.#e}}class mb{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ka.create(this.#e.toOperationNode(),hi(this.#t)?this.#t.toOperationNode():zr.create(this.#t))}}class wp{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new mb(this,e)}or(...e){return new wp(Lu.create(this.#e,qn(e)))}$castTo(){return new wp(this.#e)}toOperationNode(){return Cu.create(this.#e)}}class xp{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new mb(this,e)}and(...e){return new xp(ba.create(this.#e,qn(e)))}$castTo(){return new xp(this.#e)}toOperationNode(){return Cu.create(this.#e)}}const p2={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Fs.create(t),modifier:e}}};function m2(t,e){if(!nm(t)&&!ob(t))throw new Error(`Invalid fetch row count: ${t}`);if(!y2(e))throw new Error(`Invalid fetch modifier: ${e}`);return p2.create(t,e)}function y2(t){return t==="only"||t==="with ties"}class Vt{#e;constructor(e){this.#e=A(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,qn(e))})}whereRef(e,r,n){return new Vt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Ds(e,r,n))})}having(...e){return new Vt({...this.#e,queryNode:Er.cloneWithHaving(this.#e.queryNode,qn(e))})}havingRef(e,r,n){return new Vt({...this.#e,queryNode:Er.cloneWithHaving(this.#e.queryNode,Ds(e,r,n))})}select(e){return new Vt({...this.#e,queryNode:Er.cloneWithSelections(this.#e.queryNode,fs(e))})}distinctOn(e){return new Vt({...this.#e,queryNode:Er.cloneWithDistinctOn(this.#e.queryNode,bd(e))})}modifyFront(e){return new Vt({...this.#e,queryNode:Er.cloneWithFrontModifier(this.#e.queryNode,no.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,no.createWithExpression(e.toOperationNode()))})}distinct(){return new Vt({...this.#e,queryNode:Er.cloneWithFrontModifier(this.#e.queryNode,no.create("Distinct"))})}forUpdate(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,no.create("ForUpdate",e?mh(e).map(rn):void 0))})}forShare(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,no.create("ForShare",e?mh(e).map(rn):void 0))})}forKeyShare(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,no.create("ForKeyShare",e?mh(e).map(rn):void 0))})}forNoKeyUpdate(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,no.create("ForNoKeyUpdate",e?mh(e).map(rn):void 0))})}skipLocked(){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,no.create("SkipLocked"))})}noWait(){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,no.create("NoWait"))})}selectAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSelections(this.#e.queryNode,Ms(e))})}innerJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("InnerJoin",e))})}leftJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("LeftJoin",e))})}rightJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("RightJoin",e))})}fullJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("FullJoin",e))})}innerJoinLateral(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Un("LateralLeftJoin",e))})}orderBy(...e){return new Vt({...this.#e,queryNode:Er.cloneWithOrderByItems(this.#e.queryNode,Bd(e))})}groupBy(e){return new Vt({...this.#e,queryNode:Er.cloneWithGroupByItems(this.#e.queryNode,h2(e))})}limit(e){return new Vt({...this.#e,queryNode:Er.cloneWithLimit(this.#e.queryNode,pb.create(ln(e)))})}offset(e){return new Vt({...this.#e,queryNode:Er.cloneWithOffset(this.#e.queryNode,d2.create(ln(e)))})}fetch(e,r="only"){return new Vt({...this.#e,queryNode:Er.cloneWithFetch(this.#e.queryNode,m2(e,r))})}top(e,r){return new Vt({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Fu(e,r))})}union(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Hl("union",e,!1))})}unionAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Hl("union",e,!0))})}intersect(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Hl("intersect",e,!1))})}intersectAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Hl("intersect",e,!0))})}except(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Hl("except",e,!1))})}exceptAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Hl("except",e,!0))})}as(e){return new Wk(this,e)}clearSelect(){return new Vt({...this.#e,queryNode:Er.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Vt({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Vt({...this.#e,queryNode:Er.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Vt({...this.#e,queryNode:Er.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Vt({...this.#e,queryNode:Er.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Vt({...this.#e,queryNode:Er.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Vt({...this.#e})}$castTo(){return new Vt(this.#e)}$narrowType(){return new Vt(this.#e)}$assertType(){return new Vt(this.#e)}$asTuple(){return new Or(this.toOperationNode())}withPlugin(e){return new Vt({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$d){const r=await this.executeTakeFirst();if(r===void 0)throw Ud(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Vt({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Vt,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function m_(t){return new Vt(t)}class Wk{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return ka.create(this.#e.toOperationNode(),zr.create(this.#t))}}sr(Wk,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const ra=A({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return A({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return A({...t,distinct:!0})},cloneWithOrderBy(t,e){return A({...t,orderBy:t.orderBy?xa.cloneWithItems(t.orderBy,e):xa.create(e)})},cloneWithFilter(t,e){return A({...t,filter:t.filter?si.cloneWithOperation(t.filter,"And",e):si.create(e)})},cloneWithOrFilter(t,e){return A({...t,filter:t.filter?si.cloneWithOperation(t.filter,"Or",e):si.create(e)})},cloneWithOver(t,e){return A({...t,over:e})}}),CE=A({is(t){return t.kind==="FunctionNode"},create(t,e){return A({kind:"FunctionNode",func:t,arguments:e})}});class zi{#e;constructor(e){this.#e=A(e)}get expressionType(){}as(e){return new g2(this,e)}distinct(){return new zi({...this.#e,aggregateFunctionNode:ra.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,r){return new zi({...this.#e,aggregateFunctionNode:ra.cloneWithOrderBy(this.#e.aggregateFunctionNode,Bd([e,r]))})}filterWhere(...e){return new zi({...this.#e,aggregateFunctionNode:ra.cloneWithFilter(this.#e.aggregateFunctionNode,qn(e))})}filterWhereRef(e,r,n){return new zi({...this.#e,aggregateFunctionNode:ra.cloneWithFilter(this.#e.aggregateFunctionNode,Ds(e,r,n))})}over(e){const r=l2();return new zi({...this.#e,aggregateFunctionNode:ra.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new zi(this.#e)}$notNull(){return new zi(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}sr(zi,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class g2{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ka.create(this.#e.toOperationNode(),zr.create(this.#t))}}function $k(){const t=(r,n)=>new Or(CE.create(r,bd(n??[]))),e=(r,n)=>new zi({aggregateFunctionNode:ra.create(r,n?bd(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new zi({aggregateFunctionNode:ra.create("count",Ms(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new zi({aggregateFunctionNode:ra.create("json_agg",[Oi(r)?rn(r):r.toOperationNode()])})},toJson(r){return new Or(CE.create("to_json",[Oi(r)?rn(r):r.toOperationNode()]))}})}const v2=A({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return A({kind:"UnaryOperationNode",operator:t,operand:e})}});function _2(t,e){return v2.create(wa.create(t),Ei(e))}const Rs=A({is(t){return t.kind==="CaseNode"},create(t){return A({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return A({...t,when:A(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return A({...t,when:t.when?A([...t.when.slice(0,-1),Wd.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return A({...t,...e})}});class Uk{#e;constructor(e){this.#e=A(e)}when(...e){return new zk({...this.#e,node:Rs.cloneWithWhen(this.#e.node,Wd.create(qn(e)))})}}class zk{#e;constructor(e){this.#e=A(e)}then(e){return new b2({...this.#e,node:Rs.cloneWithThen(this.#e.node,cb(e)?db(e):ln(e))})}}class b2{#e;constructor(e){this.#e=A(e)}when(...e){return new zk({...this.#e,node:Rs.cloneWithWhen(this.#e.node,Wd.create(qn(e)))})}else(e){return new w2({...this.#e,node:Rs.cloneWith(this.#e.node,{else:cb(e)?db(e):ln(e)})})}end(){return new Or(Rs.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Or(Rs.cloneWith(this.#e.node,{isStatement:!0}))}}class w2{#e;constructor(e){this.#e=A(e)}end(){return new Or(Rs.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Or(Rs.cloneWith(this.#e.node,{isStatement:!0}))}}const RE=A({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return A({kind:"JSONPathLegNode",type:t,value:e})}});class y_{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,r){return yp.is(this.#e)?new Sd(yp.cloneWithTraversal(this.#e,Gc.is(this.#e.traversal)?Gc.cloneWithLeg(this.#e.traversal,RE.create(e,r)):Ck.cloneWithValue(this.#e.traversal,Fs.createImmediate(r)))):new Sd(Gc.cloneWithLeg(this.#e,RE.create(e,r)))}}class Sd extends y_{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new x2(this,e)}$castTo(){return new Sd(this.#e)}$notNull(){return new Sd(this.#e)}toOperationNode(){return this.#e}}class x2{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ka.create(this.#e.toOperationNode(),hi(this.#t)?this.#t.toOperationNode():zr.create(this.#t))}}const OE=A({is(t){return t.kind==="TupleNode"},create(t){return A({kind:"TupleNode",values:A(t)})}}),S2=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],E2=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],N2=A({is(t){return t.kind==="DataTypeNode"},create(t){return A({kind:"DataTypeNode",dataType:t})}});function k2(t){return!!(S2.includes(t)||E2.some(e=>e.test(t)))}function fl(t){if(hi(t))return t.toOperationNode();if(k2(t))return N2.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const q2=A({is(t){return t.kind==="CastNode"},create(t,e){return A({kind:"CastNode",expression:t,dataType:e})}});function yb(t=sm){function e(o,a,l){return new Or(fb(o,a,l))}function r(o,a){return new Or(_2(o,a))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(o){return m_({queryId:kr(),executor:t,queryNode:Er.createFrom(Ed(o))})},case(o){return new Uk({node:Rs.create(ca(o)?void 0:Ei(o))})},ref(o,a){return ca(a)?new Or(go(o)):new y_(qF(o,a))},jsonPath(){return new y_(Gc.create())},table(o){return new Or(rn(o))},val(o){return new Or(ln(o))},refTuple(...o){return new Or(OE.create(o.map(Ei)))},tuple(...o){return new Or(OE.create(o.map(ln)))},lit(o){return new Or(db(o))},unary:r,not(o){return r("not",o)},exists(o){return r("exists",o)},neg(o){return r("-",o)},between(o,a,l){return new Or(qu.create(Ei(o),wa.create("between"),ba.create(ln(a),ln(l))))},betweenSymmetric(o,a,l){return new Or(qu.create(Ei(o),wa.create("between symmetric"),ba.create(ln(a),ln(l))))},and(o){return yo(o)?new Or(vp(o,"and")):new Or(fE(o,"and"))},or(o){return yo(o)?new Or(vp(o,"or")):new Or(fE(o,"or"))},parens(...o){const a=qn(o);return Cu.is(a)?new Or(a):new Or(Cu.create(a))},cast(o,a){return new Or(q2.create(Ei(o),fl(a)))},withSchema(o){return yb(t.withPluginAtFront(new zd(o)))}});return n.fn=$k(),n.eb=n,n}function Du(t){return yb()}function yl(t){if(hi(t))return t.toOperationNode();if(Ii(t))return t(Du()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function Vk(t){if(hi(t))return t.toOperationNode();if(Ii(t))return t(Du()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Vd(t){return gF(t)||vF(t)||Ii(t)}function Ed(t){return yo(t)?t.map(e=>Nd(e)):[Nd(t)]}function Nd(t){return Oi(t)?Hk(t):Vk(t)}function Hk(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(Qk);return ka.create(rn(r),zr.create(n))}else return rn(t)}function rn(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(Qk);return fa.createWithSchema(r,n)}else return fa.create(t)}function Qk(t){return t.trim()}const Kk=A({is(t){return t.kind==="AddColumnNode"},create(t){return A({kind:"AddColumnNode",column:t})}}),Wr=A({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return A({kind:"ColumnDefinitionNode",column:on.create(t),dataType:e})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):[e]})},cloneWith(t,e){return A({...t,...e})}}),Gk=A({is(t){return t.kind==="DropColumnNode"},create(t){return A({kind:"DropColumnNode",column:on.create(t)})}}),Jk=A({is(t){return t.kind==="RenameColumnNode"},create(t,e){return A({kind:"RenameColumnNode",column:on.create(t),renameTo:on.create(e)})}}),gb=A({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return A({kind:"CheckConstraintNode",expression:t,name:e?zr.create(e):void 0})}}),C2=["no action","restrict","cascade","set null","set default"],Ah=A({is(t){return t.kind==="ReferencesNode"},create(t,e){return A({kind:"ReferencesNode",table:t,columns:A([...e])})},cloneWithOnDelete(t,e){return A({...t,onDelete:e})},cloneWithOnUpdate(t,e){return A({...t,onUpdate:e})}});function Zk(t){return hi(t)?t.toOperationNode():Fs.createImmediate(t)}const gh=A({is(t){return t.kind==="GeneratedNode"},create(t){return A({kind:"GeneratedNode",...t})},createWithExpression(t){return A({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return A({...t,...e})}}),R2=A({is(t){return t.kind==="DefaultValueNode"},create(t){return A({kind:"DefaultValueNode",defaultValue:t})}});function Sp(t){if(C2.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Pr{#e;constructor(e){this.#e=e}autoIncrement(){return new Pr(Wr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Pr(Wr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Pr(Wr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const r=go(e);if(!r.table||ab.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Pr(Wr.cloneWith(this.#e,{references:Ah.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Pr(Wr.cloneWith(this.#e,{references:Ah.cloneWithOnDelete(this.#e.references,Sp(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Pr(Wr.cloneWith(this.#e,{references:Ah.cloneWithOnUpdate(this.#e.references,Sp(e))}))}unique(){return new Pr(Wr.cloneWith(this.#e,{unique:!0}))}notNull(){return new Pr(Wr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Pr(Wr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Pr(Wr.cloneWith(this.#e,{defaultTo:R2.create(Zk(e))}))}check(e){return new Pr(Wr.cloneWith(this.#e,{check:gb.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Pr(Wr.cloneWith(this.#e,{generated:gh.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Pr(Wr.cloneWith(this.#e,{generated:gh.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Pr(Wr.cloneWith(this.#e,{generated:gh.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Pr(Wr.cloneWith(this.#e,{generated:gh.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Pr(Wr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Pr(Wr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Pr(Wr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Pr(Wr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}sr(Pr,"don't await ColumnDefinitionBuilder instances directly.");const Xk=A({is(t){return t.kind==="ModifyColumnNode"},create(t){return A({kind:"ModifyColumnNode",column:t})}}),Ep=A({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return A({kind:"ForeignKeyConstraintNode",columns:t,references:Ah.create(e,r),name:n?zr.create(n):void 0})},cloneWith(t,e){return A({...t,...e})}});class Ru{#e;constructor(e){this.#e=e}onDelete(e){return new Ru(Ep.cloneWith(this.#e,{onDelete:Sp(e)}))}onUpdate(e){return new Ru(Ep.cloneWith(this.#e,{onUpdate:Sp(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}sr(Ru,"don't await ForeignKeyConstraintBuilder instances directly.");const Ph=A({is(t){return t.kind==="AddConstraintNode"},create(t){return A({kind:"AddConstraintNode",constraint:t})}}),vb=A({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return A({kind:"UniqueConstraintNode",columns:A(t.map(on.create)),name:e?zr.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return A({...t,...e})}}),jh=A({is(t){return t.kind==="DropConstraintNode"},create(t){return A({kind:"DropConstraintNode",constraintName:zr.create(t)})},cloneWith(t,e){return A({...t,...e})}}),Tc=A({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return A({kind:"AlterColumnNode",column:on.create(t),[e]:r})}});class _b{#e;constructor(e){this.#e=e}setDataType(e){return new Jl(Tc.create(this.#e,"dataType",fl(e)))}setDefault(e){return new Jl(Tc.create(this.#e,"setDefault",Zk(e)))}dropDefault(){return new Jl(Tc.create(this.#e,"dropDefault",!0))}setNotNull(){return new Jl(Tc.create(this.#e,"setNotNull",!0))}dropNotNull(){return new Jl(Tc.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}sr(_b,"don't await AlterColumnBuilder instances");class Jl{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}sr(Jl,"don't await AlteredColumnBuilder instances");class Qa{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Qa,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class kd{#e;constructor(e){this.#e=A(e)}onDelete(e){return new kd({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new kd({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Nr.cloneWithTableProps(this.#e.node,{addConstraint:Ph.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(kd,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class pu{#e;constructor(e){this.#e=A(e)}ifExists(){return new pu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:jh.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new pu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:jh.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new pu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:jh.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(pu,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const Yk=A({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return A({kind:"PrimaryKeyConstraintNode",columns:A(t.map(on.create)),name:e?zr.create(e):void 0})}}),Zl=A({is(t){return t.kind==="AddIndexNode"},create(t){return A({kind:"AddIndexNode",name:zr.create(t)})},cloneWith(t,e){return A({...t,...e})},cloneWithColumns(t,e){return A({...t,columns:[...t.columns||[],...e]})}});class na{#e;constructor(e){this.#e=A(e)}unique(){return new na({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Zl.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new na({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Zl.cloneWithColumns(this.#e.node.addIndex,[gp(e)])})})}columns(e){return new na({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Zl.cloneWithColumns(this.#e.node.addIndex,e.map(gp))})})}expression(e){return new na({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Zl.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new na({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Zl.cloneWith(this.#e.node.addIndex,{using:An.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(na,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class Hd{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new Hd(vb.cloneWith(this.#e,{nullsNotDistinct:!0}))}}sr(Hd,"don't await UniqueConstraintNodeBuilder instances directly.");class e3{#e;constructor(e){this.#e=A(e)}renameTo(e){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{renameTo:rn(e)})})}setSchema(e){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{setSchema:zr.create(e)})})}alterColumn(e,r){const n=r(new _b(e));return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Gk.create(e))})}renameColumn(e,r){return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Jk.create(e,r))})}addColumn(e,r,n=da){const o=n(new Pr(Wr.create(e,fl(r))));return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Kk.create(o.toOperationNode()))})}modifyColumn(e,r,n=da){const o=n(new Pr(Wr.create(e,fl(r))));return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Xk.create(o.toOperationNode()))})}addUniqueConstraint(e,r,n=da){const o=n(new Hd(vb.create(r,e)));return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Ph.create(o.toOperationNode())})})}addCheckConstraint(e,r){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Ph.create(gb.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,o){return new kd({...this.#e,constraintBuilder:new Ru(Ep.create(r.map(on.create),rn(n),o.map(on.create),e))})}addPrimaryKeyConstraint(e,r){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Ph.create(Yk.create(r,e))})})}dropConstraint(e){return new pu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:jh.create(e)})})}addIndex(e){return new na({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Zl.create(e)})})}dropIndex(e){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropIndex:Qc.create(e)})})}$call(e){return e(this)}}sr(e3,"don't await AlterTableBuilder instances");class Vi{#e;constructor(e){this.#e=A(e)}alterColumn(e,r){const n=r(new _b(e));return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Gk.create(e))})}renameColumn(e,r){return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Jk.create(e,r))})}addColumn(e,r,n=da){const o=n(new Pr(Wr.create(e,fl(r))));return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Kk.create(o.toOperationNode()))})}modifyColumn(e,r,n=da){const o=n(new Pr(Wr.create(e,fl(r))));return new Vi({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Xk.create(o.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Vi,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class t3 extends Fk{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class $i{#e;constructor(e){this.#e=A(e)}ifNotExists(){return new $i({...this.#e,node:oo.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new $i({...this.#e,node:oo.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new $i({...this.#e,node:oo.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new $i({...this.#e,node:oo.cloneWith(this.#e.node,{table:rn(e)})})}column(e){return new $i({...this.#e,node:oo.cloneWithColumns(this.#e.node,[gp(e)])})}columns(e){return new $i({...this.#e,node:oo.cloneWithColumns(this.#e.node,e.map(gp))})}expression(e){return new $i({...this.#e,node:oo.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new $i({...this.#e,node:oo.cloneWith(this.#e.node,{using:An.createWithSql(e)})})}where(...e){const r=new t3;return new $i({...this.#e,node:Ct.cloneWithWhere(this.#e.node,r.transformNode(qn(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr($i,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class om{#e;constructor(e){this.#e=A(e)}ifNotExists(){return new om({...this.#e,node:Sk.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(om,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function O2(t){if(yF.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class ri{#e;constructor(e){this.#e=A(e)}temporary(){return new ri({...this.#e,node:gi.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new ri({...this.#e,node:gi.cloneWith(this.#e.node,{onCommit:O2(e)})})}ifNotExists(){return new ri({...this.#e,node:gi.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=da){const o=n(new Pr(Wr.create(e,fl(r))));return new ri({...this.#e,node:gi.cloneWithColumn(this.#e.node,o.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new ri({...this.#e,node:gi.cloneWithConstraint(this.#e.node,Yk.create(r,e))})}addUniqueConstraint(e,r,n=da){const o=n(new Hd(vb.create(r,e)));return new ri({...this.#e,node:gi.cloneWithConstraint(this.#e.node,o.toOperationNode())})}addCheckConstraint(e,r){return new ri({...this.#e,node:gi.cloneWithConstraint(this.#e.node,gb.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,o,a=da){const l=a(new Ru(Ep.create(r.map(on.create),rn(n),o.map(on.create),e)));return new ri({...this.#e,node:gi.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new ri({...this.#e,node:gi.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new ri({...this.#e,node:gi.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new ri({...this.#e,node:gi.cloneWith(this.#e.node,{selectQuery:yl(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(ri,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class mu{#e;constructor(e){this.#e=A(e)}on(e){return new mu({...this.#e,node:Qc.cloneWith(this.#e.node,{table:rn(e)})})}ifExists(){return new mu({...this.#e,node:Qc.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new mu({...this.#e,node:Qc.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(mu,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class qd{#e;constructor(e){this.#e=A(e)}ifExists(){return new qd({...this.#e,node:u_.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new qd({...this.#e,node:u_.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(qd,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class Cd{#e;constructor(e){this.#e=A(e)}ifExists(){return new Cd({...this.#e,node:c_.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Cd({...this.#e,node:c_.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Cd,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Xo=A({is(t){return t.kind==="CreateViewNode"},create(t){return A({kind:"CreateViewNode",name:_a.create(t)})},cloneWith(t,e){return A({...t,...e})}});class I2{#e=new t3;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class uo{#e;constructor(e){this.#e=A(e)}temporary(){return new uo({...this.#e,node:Xo.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new uo({...this.#e,node:Xo.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new uo({...this.#e,node:Xo.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new uo({...this.#e,node:Xo.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new uo({...this.#e,node:Xo.cloneWith(this.#e.node,{columns:e.map(Ok)})})}as(e){const r=e.withPlugin(new I2).toOperationNode();return new uo({...this.#e,node:Xo.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(uo,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Lh=A({is(t){return t.kind==="DropViewNode"},create(t){return A({kind:"DropViewNode",name:_a.create(t)})},cloneWith(t,e){return A({...t,...e})}});class yu{#e;constructor(e){this.#e=A(e)}materialized(){return new yu({...this.#e,node:Lh.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new yu({...this.#e,node:Lh.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new yu({...this.#e,node:Lh.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(yu,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const r3=A({is(t){return t.kind==="CreateTypeNode"},create(t){return A({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return A({...t,enum:ub.create(e.map(r=>Fs.createImmediate(r)))})}});class am{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new am({...this.#e,node:r3.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(am,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const n3=A({is(t){return t.kind==="DropTypeNode"},create(t){return A({kind:"DropTypeNode",name:t})},cloneWith(t,e){return A({...t,...e})}});class lm{#e;constructor(e){this.#e=A(e)}ifExists(){return new lm({...this.#e,node:n3.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(lm,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function IE(t){const e=".";if(t.includes(e)){const r=t.split(e).map(T2);if(r.length===2)return _a.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return _a.create(t)}function T2(t){return t.trim()}class Xc{#e;constructor(e){this.#e=e}createTable(e){return new ri({queryId:kr(),executor:this.#e,node:gi.create(rn(e))})}dropTable(e){return new Cd({queryId:kr(),executor:this.#e,node:c_.create(rn(e))})}createIndex(e){return new $i({queryId:kr(),executor:this.#e,node:oo.create(e)})}dropIndex(e){return new mu({queryId:kr(),executor:this.#e,node:Qc.create(e)})}createSchema(e){return new om({queryId:kr(),executor:this.#e,node:Sk.create(e)})}dropSchema(e){return new qd({queryId:kr(),executor:this.#e,node:u_.create(e)})}alterTable(e){return new e3({queryId:kr(),executor:this.#e,node:Nr.create(rn(e))})}createView(e){return new uo({queryId:kr(),executor:this.#e,node:Xo.create(e)})}dropView(e){return new yu({queryId:kr(),executor:this.#e,node:Lh.create(e)})}createType(e){return new am({queryId:kr(),executor:this.#e,node:r3.create(IE(e))})}dropType(e){return new lm({queryId:kr(),executor:this.#e,node:n3.create(IE(e))})}withPlugin(e){return new Xc(this.#e.withPlugin(e))}withoutPlugins(){return new Xc(this.#e.withoutPlugins())}withSchema(e){return new Xc(this.#e.withPluginAtFront(new zd(e)))}}class A2{ref(e){return new NF(e)}}class P2{#e;constructor(e){this.#e=e}async provideConnection(e){const r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}}class Ga extends Dk{#e;#t;#r;constructor(e,r,n,o=[]){super(o),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new Ga(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new Ga(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new Ga(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new Ga(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Ga(this.#e,this.#t,this.#r,[])}}function TE(){return typeof performance<"u"&&Ii(performance.now)?performance.now():Date.now()}class j2{#e;#t;#r;#n;#i;#s=new WeakSet;constructor(e,r){this.#n=!1,this.#e=e,this.#t=r}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||(this.#r=this.#e.init().then(()=>{this.#n=!0}).catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const r=e.executeQuery;e.executeQuery=async n=>{let o;const a=TE();try{return await r.call(e,n)}catch(l){throw o=l,await this.#u(l,n,a),l}finally{o||await this.#l(n,a)}}}async #u(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async #l(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return TE()-e}}const L2=()=>{};class i3{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(L2);return this.#t=this.#r(e).finally(()=>{this.#t=void 0}),this.#t}async #r(e){return await e(this.#e)}}const F2=["read uncommitted","read committed","repeatable read","serializable","snapshot"];A(["query","error"]);class D2{#e;#t;constructor(e){Ii(e)?(this.#t=e,this.#e=A({query:!0,error:!0})):(this.#t=M2,this.#e=A({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function M2(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function B2(t){return qs(t)&&Ii(t.compile)}class sa extends ta{#e;constructor(e){let r,n;if(W2(e))r={executor:e.executor},n={...e};else{const o=e.dialect,a=o.createDriver(),l=o.createQueryCompiler(),c=o.createAdapter(),p=new D2(e.log??[]),m=new j2(a,p),b=new P2(m),x=new Ga(l,c,b,e.plugins??[]);r={executor:x},n={config:e,executor:x,dialect:o,driver:m}}super(r),this.#e=A(n)}get schema(){return new Xc(this.#e.executor)}get dynamic(){return new A2}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new Uk({node:Rs.create(ca(e)?void 0:yl(e))})}get fn(){return $k()}transaction(){return new um({...this.#e})}connection(){return new s3({...this.#e})}withPlugin(e){return new sa({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new sa({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new sa({...this.#e,executor:this.#e.executor.withPluginAtFront(new zd(e))})}withTables(){return new sa({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=kr()){const n=B2(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}}class tu extends sa{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new tu({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new tu({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new tu({...this.#e,executor:this.#e.executor.withPluginAtFront(new zd(e))})}withTables(){return new tu({...this.#e})}}function W2(t){return qs(t)&&qs(t.config)&&qs(t.driver)&&qs(t.executor)&&qs(t.dialect)}class s3{#e;constructor(e){this.#e=A(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{const n=this.#e.executor.withConnectionProvider(new i3(r)),o=new sa({...this.#e,executor:n});return await e(o)})}}sr(s3,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class um{#e;constructor(e){this.#e=A(e)}setIsolationLevel(e){return new um({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=this.#e,o={isolationLevel:r};return $2(o),this.#e.executor.provideConnection(async a=>{const l=this.#e.executor.withConnectionProvider(new i3(a)),c=new tu({...n,executor:l});try{await this.#e.driver.beginTransaction(a,o);const p=await e(c);return await this.#e.driver.commitTransaction(a),p}catch(p){throw await this.#e.driver.rollbackTransaction(a),p}})}}sr(um,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function $2(t){if(t.isolationLevel&&!F2.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class gu{#e;constructor(e){this.#e=A(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new o3(this,e)}$castTo(){return new gu({...this.#e})}$notNull(){return new gu(this.#e)}withPlugin(e){return new gu({...this.#e,plugins:this.#e.plugins!==void 0?A([...this.#e.plugins,e]):A([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){const r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){const r=e!==void 0?e.getExecutor():sm;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}}function Zo(t){return new gu(t)}sr(gu,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class o3{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return ka.create(this.#e.toOperationNode(),hi(this.#t)?this.#t.toOperationNode():zr.create(this.#t))}}sr(o3,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const a3=Object.assign((t,...e)=>Zo({queryId:kr(),rawNode:An.create(t,e?.map(AE)??[])}),{ref(t){return Zo({queryId:kr(),rawNode:An.createWithChild(go(t))})},val(t){return Zo({queryId:kr(),rawNode:An.createWithChild(ln(t))})},value(t){return this.val(t)},table(t){return Zo({queryId:kr(),rawNode:An.createWithChild(rn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",Zo({queryId:kr(),rawNode:An.create(e,t.map(zr.create))})},lit(t){return Zo({queryId:kr(),rawNode:An.createWithChild(Fs.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return Zo({queryId:kr(),rawNode:An.createWithSql(t)})},join(t,e=a3`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let o=0;o<t.length;++o)r[2*o]=AE(t[o]),o!==t.length-1&&(r[2*o+1]=n);return Zo({queryId:kr(),rawNode:An.createWithChildren(r)})}});function AE(t){return hi(t)?t.toOperationNode():ln(t)}class U2{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=A({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class z2 extends U2{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),A({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const r=this.parentNode!==void 0&&!Cu.is(this.parentNode)&&!bi.is(this.parentNode)&&!gi.is(this.parentNode)&&!Xo.is(this.parentNode)&&!Bk.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){const n=e.length-1;for(let o=0;o<=n;o++)this.visitNode(e[o]),o<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!ai.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!ai.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const r=this.nodeStack.find(Ct.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!Oi(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(H2[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:r,parameters:n}=e;for(let o=0;o<r.length;++o)this.append(r[o]),n.length>o&&this.visitNode(n[o])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!ai.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!ai.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),mp(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(V2[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return wa.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const r of e.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(e){const r=e.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(e.value)),r&&this.append("]")}visitJSONOperatorChain(e){for(let r=0,n=e.values.length;r<n;r++)r===n-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[r])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper();let o="";for(const a of e)o+=a,a===r?o+=r:a===n&&(o+=n);return o}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(Oi(e))this.append(`'${e}'`);else if(nm(e)||mp(e))this.append(e.toString());else if(sb(e))this.append("null");else if(mF(e))this.appendImmediateValue(e.toISOString());else if(ob(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((r,n)=>r.modifier&&n.modifier?PE[r.modifier]-PE[n.modifier]:1),A(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const V2=A({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),PE=A({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),H2=A({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class Q2{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const K2=/"/g;class G2 extends z2{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(K2,'""')}visitDefaultInsertValue(e){this.append("null")}}const J2="kysely_migration",Z2="kysely_migration_lock";A({__noMigrations__:!0});class X2{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",J2).where("name","!=",Z2));const n=await r.execute();return Promise.all(n.map(({name:o})=>this.#t(o)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const r=this.#e,n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),o=n.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),a=await r.selectFrom(a3`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:a.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===o,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class Y2 extends Q2{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const jE="function",ru="64e10b34-2bf7-4616-9668-f99de5aa046e",eD="get",tD="has",rD="set",{isArray:Fh}=Array;let{SharedArrayBuffer:Np,window:nD}=globalThis,{notify:l3,wait:u3,waitAsync:kp}=Atomics,c3=null;kp||(kp=t=>({value:new Promise(e=>{let r=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");r.onmessage=e,r.postMessage(t)})}));try{new Np(4)}catch{Np=ArrayBuffer;const e=new WeakMap;if(nD){const r=new Map,{prototype:{postMessage:n}}=Worker,o=a=>{const l=a.data?.[ru];if(!Fh(l)){a.stopImmediatePropagation();const{id:c,sb:p}=l;r.get(c)(p)}};c3=function(a,...l){const c=a?.[ru];if(Fh(c)){const[p,m]=c;e.set(m,p),this.addEventListener("message",o)}return n.call(this,a,...l)},kp=a=>({value:new Promise(l=>{r.set(e.get(a),l)}).then(l=>{r.delete(e.get(a)),e.delete(a);for(let c=0;c<l.length;c++)a[c]=l[c];return"ok"})})}else{const r=(n,o)=>({[ru]:{id:n,sb:o}});l3=n=>{postMessage(r(e.get(n),n))},addEventListener("message",n=>{const o=n.data?.[ru];if(Fh(o)){const[a,l]=o;e.set(l,a)}})}}const{Int32Array:g_,Map:LE,Uint16Array:v_}=globalThis,{BYTES_PER_ELEMENT:FE}=g_,{BYTES_PER_ELEMENT:iD}=v_,sD=(t,e,r)=>{for(;u3(t,0,0,e)==="timed-out";)r()},__=new WeakSet,vv=new WeakMap,oD={value:{then:t=>t()}};let aD=0;const bb=(t,{parse:e=JSON.parse,stringify:r=JSON.stringify,transform:n,interrupt:o}=JSON)=>{if(!vv.has(t)){const a=c3||t.postMessage,l=(N,...R)=>a.call(t,{[ru]:R},{transfer:N}),c=typeof o===jE?o:o?.handler,p=o?.delay||42,m=new TextDecoder("utf-16"),b=(N,R)=>N?kp(R,0):(c?sD(R,p,c):u3(R,0),oD);let x=!1;vv.set(t,new Proxy(new LE,{[tD]:(N,R)=>typeof R=="string"&&!R.startsWith("_"),[eD]:(N,R)=>R==="then"?null:(...q)=>{const C=aD++;let T=new g_(new Np(FE*2)),F=[];__.has(q.at(-1)||F)&&__.delete(F=q.pop()),l(F,C,T,R,n?q.map(n):q);const j=t!==globalThis;let B=0;return x&&j&&(B=setTimeout(console.warn,1e3,`💀🔒 - Possible deadlock if proxy.${R}(...args) is awaited`)),b(j,T).value.then(()=>{clearTimeout(B);const z=T[1];if(!z)return;const K=iD*z;return T=new g_(new Np(K+K%FE)),l([],C,T),b(j,T).value.then(()=>e(m.decode(new v_(T.buffer).slice(0,z))))})},[rD](N,R,q){const C=typeof q;if(C!==jE)throw new Error(`Unable to assign ${R} as ${C}`);if(!N.size){const T=new LE;t.addEventListener("message",async F=>{const j=F.data?.[ru];if(Fh(j)){F.stopImmediatePropagation();const[B,z,...K]=j;let W;if(K.length){const[Q,ue]=K;if(N.has(Q)){x=!0;try{const V=await N.get(Q)(...ue);if(V!==void 0){const ne=r(n?n(V):V);T.set(B,ne),z[1]=ne.length}}catch(V){W=V}finally{x=!1}}else W=new Error(`Unsupported action: ${Q}`);z[0]=1}else{const Q=T.get(B);T.delete(B);for(let ue=new v_(z.buffer),V=0;V<Q.length;V++)ue[V]=Q.charCodeAt(V)}if(l3(z,0),W)throw W}})}return!!N.set(R,q)}}))}return vv.get(t)};bb.transfer=(...t)=>(__.add(t),t);var wb=(()=>{var t=import.meta.url;return function(e={}){var r,n=e,o,a,l=new Promise((d,f)=>{o=d,a=f}),c=typeof window=="object",p=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var b=Object.assign({},n),x="./this.program",N="";function R(d){return n.locateFile?n.locateFile(d,N):N+d}var q,C;(c||p)&&(p?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),t&&(N=t),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),p&&(C=d=>{var f=new XMLHttpRequest;return f.open("GET",d,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),q=d=>fetch(d,{credentials:"same-origin"}).then(f=>f.ok?f.arrayBuffer():Promise.reject(new Error(f.status+" : "+f.url))));var T=n.print||console.log.bind(console),F=n.printErr||console.error.bind(console);Object.assign(n,b),b=null,n.arguments&&n.arguments,n.thisProgram&&(x=n.thisProgram);var j=n.wasmBinary,B,z=!1,K,W,Q,ue,V,ne;function M(){var d=B.buffer;n.HEAP8=K=new Int8Array(d),n.HEAP16=Q=new Int16Array(d),n.HEAPU8=W=new Uint8Array(d),n.HEAPU16=new Uint16Array(d),n.HEAP32=ue=new Int32Array(d),n.HEAPU32=V=new Uint32Array(d),n.HEAPF32=new Float32Array(d),n.HEAPF64=new Float64Array(d),n.HEAP64=ne=new BigInt64Array(d),n.HEAPU64=new BigUint64Array(d)}if(n.wasmMemory)B=n.wasmMemory;else{var re=n.INITIAL_MEMORY||0x1000000;B=new WebAssembly.Memory({initial:re/65536,maximum:32768})}M();var Z=[],pe=[],Re=[];function Ce(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)me(n.preRun.shift());se(Z)}function je(){!n.noFSInit&&!I.initialized&&I.init(),I.ignorePermissions=!1,se(pe)}function ve(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)H(n.postRun.shift());se(Re)}function me(d){Z.unshift(d)}function Ee(d){pe.unshift(d)}function H(d){Re.unshift(d)}var xe=0,lt=null;function at(d){return d}function dt(d){xe++,n.monitorRunDependencies?.(xe)}function mt(d){if(xe--,n.monitorRunDependencies?.(xe),xe==0&&lt){var f=lt;lt=null,f()}}function ft(d){n.onAbort?.(d),d="Aborted("+d+")",F(d),z=!0,d+=". Build with -sASSERTIONS for more info.";var f=new WebAssembly.RuntimeError(d);throw a(f),f}var gt="data:application/octet-stream;base64,",At=d=>d.startsWith(gt);function vt(){if(n.locateFile){var d="sqlite3.wasm";return At(d)?d:R(d)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var yt;function Rt(d){if(d==yt&&j)return new Uint8Array(j);if(C)return C(d);throw"both async and sync fetching of the wasm failed"}function qt(d){return j?Promise.resolve().then(()=>Rt(d)):q(d).then(f=>new Uint8Array(f),()=>Rt(d))}function Jt(d,f,g){return qt(d).then(_=>WebAssembly.instantiate(_,f)).then(g,_=>{F(`failed to asynchronously prepare wasm: ${_}`),ft(_)})}function Gt(d,f,g,_){return!d&&typeof WebAssembly.instantiateStreaming=="function"&&!At(f)&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(S=>{var k=WebAssembly.instantiateStreaming(S,g);return k.then(_,function(X){return F(`wasm streaming compile failed: ${X}`),F("falling back to ArrayBuffer instantiation"),Jt(f,g,_)})}):Jt(f,g,_)}function er(){return{env:Yu,wasi_snapshot_preview1:Yu}}function ur(){var d=er();function f(_,S){return ee=_.exports,Ee(ee.__wasm_call_ctors),mt(),ee}dt();function g(_){f(_.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(d,f)}catch(_){F(`Module.instantiateWasm callback failed with error: ${_}`),a(_)}return yt||(yt=vt()),Gt(j,yt,d,g).catch(a),{}}var se=d=>{for(;d.length>0;)d.shift()(n)};n.noExitRuntime;var le={isAbs:d=>d.charAt(0)==="/",splitPath:d=>{var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return f.exec(d).slice(1)},normalizeArray:(d,f)=>{for(var g=0,_=d.length-1;_>=0;_--){var S=d[_];S==="."?d.splice(_,1):S===".."?(d.splice(_,1),g++):g&&(d.splice(_,1),g--)}if(f)for(;g;g--)d.unshift("..");return d},normalize:d=>{var f=le.isAbs(d),g=d.substr(-1)==="/";return d=le.normalizeArray(d.split("/").filter(_=>!!_),!f).join("/"),!d&&!f&&(d="."),d&&g&&(d+="/"),(f?"/":"")+d},dirname:d=>{var f=le.splitPath(d),g=f[0],_=f[1];return!g&&!_?".":(_&&(_=_.substr(0,_.length-1)),g+_)},basename:d=>{if(d==="/")return"/";d=le.normalize(d),d=d.replace(/\/$/,"");var f=d.lastIndexOf("/");return f===-1?d:d.substr(f+1)},join:(...d)=>le.normalize(d.join("/")),join2:(d,f)=>le.normalize(d+"/"+f)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return d=>crypto.getRandomValues(d);ft("initRandomDevice")},Oe=d=>(Oe=ye())(d),De={resolve:(...d)=>{for(var f="",g=!1,_=d.length-1;_>=-1&&!g;_--){var S=_>=0?d[_]:I.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";f=S+"/"+f,g=le.isAbs(S)}return f=le.normalizeArray(f.split("/").filter(k=>!!k),!g).join("/"),(g?"/":"")+f||"."},relative:(d,f)=>{d=De.resolve(d).substr(1),f=De.resolve(f).substr(1);function g(ze){for(var Je=0;Je<ze.length&&ze[Je]==="";Je++);for(var rt=ze.length-1;rt>=0&&ze[rt]==="";rt--);return Je>rt?[]:ze.slice(Je,rt-Je+1)}for(var _=g(d.split("/")),S=g(f.split("/")),k=Math.min(_.length,S.length),X=k,te=0;te<k;te++)if(_[te]!==S[te]){X=te;break}for(var Fe=[],te=X;te<_.length;te++)Fe.push("..");return Fe=Fe.concat(S.slice(X)),Fe.join("/")}},Ge=typeof TextDecoder<"u"?new TextDecoder:void 0,_t=(d,f,g)=>{for(var _=f+g,S=f;d[S]&&!(S>=_);)++S;if(S-f>16&&d.buffer&&Ge)return Ge.decode(d.subarray(f,S));for(var k="";f<S;){var X=d[f++];if(!(X&128)){k+=String.fromCharCode(X);continue}var te=d[f++]&63;if((X&224)==192){k+=String.fromCharCode((X&31)<<6|te);continue}var Fe=d[f++]&63;if((X&240)==224?X=(X&15)<<12|te<<6|Fe:X=(X&7)<<18|te<<12|Fe<<6|d[f++]&63,X<65536)k+=String.fromCharCode(X);else{var ze=X-65536;k+=String.fromCharCode(55296|ze>>10,56320|ze&1023)}}return k},Mt=[],mr=d=>{for(var f=0,g=0;g<d.length;++g){var _=d.charCodeAt(g);_<=127?f++:_<=2047?f+=2:_>=55296&&_<=57343?(f+=4,++g):f+=3}return f},cr=(d,f,g,_)=>{if(!(_>0))return 0;for(var S=g,k=g+_-1,X=0;X<d.length;++X){var te=d.charCodeAt(X);if(te>=55296&&te<=57343){var Fe=d.charCodeAt(++X);te=65536+((te&1023)<<10)|Fe&1023}if(te<=127){if(g>=k)break;f[g++]=te}else if(te<=2047){if(g+1>=k)break;f[g++]=192|te>>6,f[g++]=128|te&63}else if(te<=65535){if(g+2>=k)break;f[g++]=224|te>>12,f[g++]=128|te>>6&63,f[g++]=128|te&63}else{if(g+3>=k)break;f[g++]=240|te>>18,f[g++]=128|te>>12&63,f[g++]=128|te>>6&63,f[g++]=128|te&63}}return f[g]=0,g-S};function Ir(d,f,g){var _=mr(d)+1,S=new Array(_),k=cr(d,S,0,S.length);return S.length=k,S}var Dn=()=>{if(!Mt.length){var d=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(d=window.prompt("Input: "),d!==null&&(d+=`
`)),!d)return null;Mt=Ir(d)}return Mt.shift()},Xr={ttys:[],init(){},shutdown(){},register(d,f){Xr.ttys[d]={input:[],output:[],ops:f},I.registerDevice(d,Xr.stream_ops)},stream_ops:{open(d){var f=Xr.ttys[d.node.rdev];if(!f)throw new I.ErrnoError(43);d.tty=f,d.seekable=!1},close(d){d.tty.ops.fsync(d.tty)},fsync(d){d.tty.ops.fsync(d.tty)},read(d,f,g,_,S){if(!d.tty||!d.tty.ops.get_char)throw new I.ErrnoError(60);for(var k=0,X=0;X<_;X++){var te;try{te=d.tty.ops.get_char(d.tty)}catch{throw new I.ErrnoError(29)}if(te===void 0&&k===0)throw new I.ErrnoError(6);if(te==null)break;k++,f[g+X]=te}return k&&(d.node.timestamp=Date.now()),k},write(d,f,g,_,S){if(!d.tty||!d.tty.ops.put_char)throw new I.ErrnoError(60);try{for(var k=0;k<_;k++)d.tty.ops.put_char(d.tty,f[g+k])}catch{throw new I.ErrnoError(29)}return _&&(d.node.timestamp=Date.now()),k}},default_tty_ops:{get_char(d){return Dn()},put_char(d,f){f===null||f===10?(T(_t(d.output,0)),d.output=[]):f!=0&&d.output.push(f)},fsync(d){d.output&&d.output.length>0&&(T(_t(d.output,0)),d.output=[])},ioctl_tcgets(d){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(d,f,g){return 0},ioctl_tiocgwinsz(d){return[24,80]}},default_tty1_ops:{put_char(d,f){f===null||f===10?(F(_t(d.output,0)),d.output=[]):f!=0&&d.output.push(f)},fsync(d){d.output&&d.output.length>0&&(F(_t(d.output,0)),d.output=[])}}},Kn=(d,f)=>(W.fill(0,d,d+f),d),Us=(d,f)=>Math.ceil(d/f)*f,bn=d=>{d=Us(d,65536);var f=ec(65536,d);return f?Kn(f,d):0},zt={ops_table:null,mount(d){return zt.createNode(null,"/",16895,0)},createNode(d,f,g,_){if(I.isBlkdev(g)||I.isFIFO(g))throw new I.ErrnoError(63);zt.ops_table||={dir:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr,lookup:zt.node_ops.lookup,mknod:zt.node_ops.mknod,rename:zt.node_ops.rename,unlink:zt.node_ops.unlink,rmdir:zt.node_ops.rmdir,readdir:zt.node_ops.readdir,symlink:zt.node_ops.symlink},stream:{llseek:zt.stream_ops.llseek}},file:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr},stream:{llseek:zt.stream_ops.llseek,read:zt.stream_ops.read,write:zt.stream_ops.write,allocate:zt.stream_ops.allocate,mmap:zt.stream_ops.mmap,msync:zt.stream_ops.msync}},link:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr,readlink:zt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr},stream:I.chrdev_stream_ops}};var S=I.createNode(d,f,g,_);return I.isDir(S.mode)?(S.node_ops=zt.ops_table.dir.node,S.stream_ops=zt.ops_table.dir.stream,S.contents={}):I.isFile(S.mode)?(S.node_ops=zt.ops_table.file.node,S.stream_ops=zt.ops_table.file.stream,S.usedBytes=0,S.contents=null):I.isLink(S.mode)?(S.node_ops=zt.ops_table.link.node,S.stream_ops=zt.ops_table.link.stream):I.isChrdev(S.mode)&&(S.node_ops=zt.ops_table.chrdev.node,S.stream_ops=zt.ops_table.chrdev.stream),S.timestamp=Date.now(),d&&(d.contents[f]=S,d.timestamp=S.timestamp),S},getFileDataAsTypedArray(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage(d,f){var g=d.contents?d.contents.length:0;if(!(g>=f)){var _=1024*1024;f=Math.max(f,g*(g<_?2:1.125)>>>0),g!=0&&(f=Math.max(f,256));var S=d.contents;d.contents=new Uint8Array(f),d.usedBytes>0&&d.contents.set(S.subarray(0,d.usedBytes),0)}},resizeFileStorage(d,f){if(d.usedBytes!=f)if(f==0)d.contents=null,d.usedBytes=0;else{var g=d.contents;d.contents=new Uint8Array(f),g&&d.contents.set(g.subarray(0,Math.min(f,d.usedBytes))),d.usedBytes=f}},node_ops:{getattr(d){var f={};return f.dev=I.isChrdev(d.mode)?d.id:1,f.ino=d.id,f.mode=d.mode,f.nlink=1,f.uid=0,f.gid=0,f.rdev=d.rdev,I.isDir(d.mode)?f.size=4096:I.isFile(d.mode)?f.size=d.usedBytes:I.isLink(d.mode)?f.size=d.link.length:f.size=0,f.atime=new Date(d.timestamp),f.mtime=new Date(d.timestamp),f.ctime=new Date(d.timestamp),f.blksize=4096,f.blocks=Math.ceil(f.size/f.blksize),f},setattr(d,f){f.mode!==void 0&&(d.mode=f.mode),f.timestamp!==void 0&&(d.timestamp=f.timestamp),f.size!==void 0&&zt.resizeFileStorage(d,f.size)},lookup(d,f){throw I.genericErrors[44]},mknod(d,f,g,_){return zt.createNode(d,f,g,_)},rename(d,f,g){if(I.isDir(d.mode)){var _;try{_=I.lookupNode(f,g)}catch{}if(_)for(var S in _.contents)throw new I.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=g,f.contents[g]=d,f.timestamp=d.parent.timestamp},unlink(d,f){delete d.contents[f],d.timestamp=Date.now()},rmdir(d,f){var g=I.lookupNode(d,f);for(var _ in g.contents)throw new I.ErrnoError(55);delete d.contents[f],d.timestamp=Date.now()},readdir(d){var f=[".",".."];for(var g of Object.keys(d.contents))f.push(g);return f},symlink(d,f,g){var _=zt.createNode(d,f,41471,0);return _.link=g,_},readlink(d){if(!I.isLink(d.mode))throw new I.ErrnoError(28);return d.link}},stream_ops:{read(d,f,g,_,S){var k=d.node.contents;if(S>=d.node.usedBytes)return 0;var X=Math.min(d.node.usedBytes-S,_);if(X>8&&k.subarray)f.set(k.subarray(S,S+X),g);else for(var te=0;te<X;te++)f[g+te]=k[S+te];return X},write(d,f,g,_,S,k){if(f.buffer===K.buffer&&(k=!1),!_)return 0;var X=d.node;if(X.timestamp=Date.now(),f.subarray&&(!X.contents||X.contents.subarray)){if(k)return X.contents=f.subarray(g,g+_),X.usedBytes=_,_;if(X.usedBytes===0&&S===0)return X.contents=f.slice(g,g+_),X.usedBytes=_,_;if(S+_<=X.usedBytes)return X.contents.set(f.subarray(g,g+_),S),_}if(zt.expandFileStorage(X,S+_),X.contents.subarray&&f.subarray)X.contents.set(f.subarray(g,g+_),S);else for(var te=0;te<_;te++)X.contents[S+te]=f[g+te];return X.usedBytes=Math.max(X.usedBytes,S+_),_},llseek(d,f,g){var _=f;if(g===1?_+=d.position:g===2&&I.isFile(d.node.mode)&&(_+=d.node.usedBytes),_<0)throw new I.ErrnoError(28);return _},allocate(d,f,g){zt.expandFileStorage(d.node,f+g),d.node.usedBytes=Math.max(d.node.usedBytes,f+g)},mmap(d,f,g,_,S){if(!I.isFile(d.node.mode))throw new I.ErrnoError(43);var k,X,te=d.node.contents;if(!(S&2)&&te&&te.buffer===K.buffer)X=!1,k=te.byteOffset;else{if(X=!0,k=bn(f),!k)throw new I.ErrnoError(48);te&&((g>0||g+f<te.length)&&(te.subarray?te=te.subarray(g,g+f):te=Array.prototype.slice.call(te,g,g+f)),K.set(te,k))}return{ptr:k,allocated:X}},msync(d,f,g,_,S){return zt.stream_ops.write(d,f,0,_,g,!1),0}}},Oo=(d,f,g,_)=>{var S=`al ${d}`;q(d).then(k=>{f(new Uint8Array(k)),S&&mt()},k=>{if(g)g();else throw`Loading data file "${d}" failed.`}),S&&dt()},Io=(d,f,g,_,S,k)=>{I.createDataFile(d,f,g,_,S,k)},To=n.preloadPlugins||[],Uu=(d,f,g,_)=>{typeof Browser<"u"&&Browser.init();var S=!1;return To.forEach(k=>{S||k.canHandle(f)&&(k.handle(d,f,g,_),S=!0)}),S},zu=(d,f,g,_,S,k,X,te,Fe,ze)=>{var Je=f?De.resolve(le.join2(d,f)):d;function rt(Te){function we(Ue){ze?.(),te||Io(d,f,Ue,_,S,Fe),k?.(),mt()}Uu(Te,Je,we,()=>{X?.(),mt()})||we(Te)}dt(),typeof g=="string"?Oo(g,rt,X):rt(g)},Vu=d=>{var f={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},g=f[d];if(typeof g>"u")throw new Error(`Unknown file open mode: ${d}`);return g},vs=(d,f)=>{var g=0;return d&&(g|=365),f&&(g|=146),g},I={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(d){this.name="ErrnoError",this.errno=d}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(d){this.node=d}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(d){this.shared.flags=d}get position(){return this.shared.position}set position(d){this.shared.position=d}},FSNode:class{constructor(d,f,g,_){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=I.nextInode++,this.name=f,this.mode=g,this.node_ops={},this.stream_ops={},this.rdev=_,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(d){d?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(d){d?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return I.isDir(this.mode)}get isDevice(){return I.isChrdev(this.mode)}},lookupPath(d,f={}){if(d=De.resolve(d),!d)return{path:"",node:null};var g={follow_mount:!0,recurse_count:0};if(f=Object.assign(g,f),f.recurse_count>8)throw new I.ErrnoError(32);for(var _=d.split("/").filter(rt=>!!rt),S=I.root,k="/",X=0;X<_.length;X++){var te=X===_.length-1;if(te&&f.parent)break;if(S=I.lookupNode(S,_[X]),k=le.join2(k,_[X]),I.isMountpoint(S)&&(!te||te&&f.follow_mount)&&(S=S.mounted.root),!te||f.follow)for(var Fe=0;I.isLink(S.mode);){var ze=I.readlink(k);k=De.resolve(le.dirname(k),ze);var Je=I.lookupPath(k,{recurse_count:f.recurse_count+1});if(S=Je.node,Fe++>40)throw new I.ErrnoError(32)}}return{path:k,node:S}},getPath(d){for(var f;;){if(I.isRoot(d)){var g=d.mount.mountpoint;return f?g[g.length-1]!=="/"?`${g}/${f}`:g+f:g}f=f?`${d.name}/${f}`:d.name,d=d.parent}},hashName(d,f){for(var g=0,_=0;_<f.length;_++)g=(g<<5)-g+f.charCodeAt(_)|0;return(d+g>>>0)%I.nameTable.length},hashAddNode(d){var f=I.hashName(d.parent.id,d.name);d.name_next=I.nameTable[f],I.nameTable[f]=d},hashRemoveNode(d){var f=I.hashName(d.parent.id,d.name);if(I.nameTable[f]===d)I.nameTable[f]=d.name_next;else for(var g=I.nameTable[f];g;){if(g.name_next===d){g.name_next=d.name_next;break}g=g.name_next}},lookupNode(d,f){var g=I.mayLookup(d);if(g)throw new I.ErrnoError(g);for(var _=I.hashName(d.id,f),S=I.nameTable[_];S;S=S.name_next){var k=S.name;if(S.parent.id===d.id&&k===f)return S}return I.lookup(d,f)},createNode(d,f,g,_){var S=new I.FSNode(d,f,g,_);return I.hashAddNode(S),S},destroyNode(d){I.hashRemoveNode(d)},isRoot(d){return d===d.parent},isMountpoint(d){return!!d.mounted},isFile(d){return(d&61440)===32768},isDir(d){return(d&61440)===16384},isLink(d){return(d&61440)===40960},isChrdev(d){return(d&61440)===8192},isBlkdev(d){return(d&61440)===24576},isFIFO(d){return(d&61440)===4096},isSocket(d){return(d&49152)===49152},flagsToPermissionString(d){var f=["r","w","rw"][d&3];return d&512&&(f+="w"),f},nodePermissions(d,f){return I.ignorePermissions?0:f.includes("r")&&!(d.mode&292)||f.includes("w")&&!(d.mode&146)||f.includes("x")&&!(d.mode&73)?2:0},mayLookup(d){if(!I.isDir(d.mode))return 54;var f=I.nodePermissions(d,"x");return f||(d.node_ops.lookup?0:2)},mayCreate(d,f){try{var g=I.lookupNode(d,f);return 20}catch{}return I.nodePermissions(d,"wx")},mayDelete(d,f,g){var _;try{_=I.lookupNode(d,f)}catch(k){return k.errno}var S=I.nodePermissions(d,"wx");if(S)return S;if(g){if(!I.isDir(_.mode))return 54;if(I.isRoot(_)||I.getPath(_)===I.cwd())return 10}else if(I.isDir(_.mode))return 31;return 0},mayOpen(d,f){return d?I.isLink(d.mode)?32:I.isDir(d.mode)&&(I.flagsToPermissionString(f)!=="r"||f&512)?31:I.nodePermissions(d,I.flagsToPermissionString(f)):44},MAX_OPEN_FDS:4096,nextfd(){for(var d=0;d<=I.MAX_OPEN_FDS;d++)if(!I.streams[d])return d;throw new I.ErrnoError(33)},getStreamChecked(d){var f=I.getStream(d);if(!f)throw new I.ErrnoError(8);return f},getStream:d=>I.streams[d],createStream(d,f=-1){return d=Object.assign(new I.FSStream,d),f==-1&&(f=I.nextfd()),d.fd=f,I.streams[f]=d,d},closeStream(d){I.streams[d]=null},dupStream(d,f=-1){var g=I.createStream(d,f);return g.stream_ops?.dup?.(g),g},chrdev_stream_ops:{open(d){var f=I.getDevice(d.node.rdev);d.stream_ops=f.stream_ops,d.stream_ops.open?.(d)},llseek(){throw new I.ErrnoError(70)}},major:d=>d>>8,minor:d=>d&255,makedev:(d,f)=>d<<8|f,registerDevice(d,f){I.devices[d]={stream_ops:f}},getDevice:d=>I.devices[d],getMounts(d){for(var f=[],g=[d];g.length;){var _=g.pop();f.push(_),g.push(..._.mounts)}return f},syncfs(d,f){typeof d=="function"&&(f=d,d=!1),I.syncFSRequests++,I.syncFSRequests>1&&F(`warning: ${I.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var g=I.getMounts(I.root.mount),_=0;function S(X){return I.syncFSRequests--,f(X)}function k(X){if(X)return k.errored?void 0:(k.errored=!0,S(X));++_>=g.length&&S(null)}g.forEach(X=>{if(!X.type.syncfs)return k(null);X.type.syncfs(X,d,k)})},mount(d,f,g){var _=g==="/",S=!g,k;if(_&&I.root)throw new I.ErrnoError(10);if(!_&&!S){var X=I.lookupPath(g,{follow_mount:!1});if(g=X.path,k=X.node,I.isMountpoint(k))throw new I.ErrnoError(10);if(!I.isDir(k.mode))throw new I.ErrnoError(54)}var te={type:d,opts:f,mountpoint:g,mounts:[]},Fe=d.mount(te);return Fe.mount=te,te.root=Fe,_?I.root=Fe:k&&(k.mounted=te,k.mount&&k.mount.mounts.push(te)),Fe},unmount(d){var f=I.lookupPath(d,{follow_mount:!1});if(!I.isMountpoint(f.node))throw new I.ErrnoError(28);var g=f.node,_=g.mounted,S=I.getMounts(_);Object.keys(I.nameTable).forEach(X=>{for(var te=I.nameTable[X];te;){var Fe=te.name_next;S.includes(te.mount)&&I.destroyNode(te),te=Fe}}),g.mounted=null;var k=g.mount.mounts.indexOf(_);g.mount.mounts.splice(k,1)},lookup(d,f){return d.node_ops.lookup(d,f)},mknod(d,f,g){var _=I.lookupPath(d,{parent:!0}),S=_.node,k=le.basename(d);if(!k||k==="."||k==="..")throw new I.ErrnoError(28);var X=I.mayCreate(S,k);if(X)throw new I.ErrnoError(X);if(!S.node_ops.mknod)throw new I.ErrnoError(63);return S.node_ops.mknod(S,k,f,g)},create(d,f){return f=f!==void 0?f:438,f&=4095,f|=32768,I.mknod(d,f,0)},mkdir(d,f){return f=f!==void 0?f:511,f&=1023,f|=16384,I.mknod(d,f,0)},mkdirTree(d,f){for(var g=d.split("/"),_="",S=0;S<g.length;++S)if(g[S]){_+="/"+g[S];try{I.mkdir(_,f)}catch(k){if(k.errno!=20)throw k}}},mkdev(d,f,g){return typeof g>"u"&&(g=f,f=438),f|=8192,I.mknod(d,f,g)},symlink(d,f){if(!De.resolve(d))throw new I.ErrnoError(44);var g=I.lookupPath(f,{parent:!0}),_=g.node;if(!_)throw new I.ErrnoError(44);var S=le.basename(f),k=I.mayCreate(_,S);if(k)throw new I.ErrnoError(k);if(!_.node_ops.symlink)throw new I.ErrnoError(63);return _.node_ops.symlink(_,S,d)},rename(d,f){var g=le.dirname(d),_=le.dirname(f),S=le.basename(d),k=le.basename(f),X,te,Fe;if(X=I.lookupPath(d,{parent:!0}),te=X.node,X=I.lookupPath(f,{parent:!0}),Fe=X.node,!te||!Fe)throw new I.ErrnoError(44);if(te.mount!==Fe.mount)throw new I.ErrnoError(75);var ze=I.lookupNode(te,S),Je=De.relative(d,_);if(Je.charAt(0)!==".")throw new I.ErrnoError(28);if(Je=De.relative(f,g),Je.charAt(0)!==".")throw new I.ErrnoError(55);var rt;try{rt=I.lookupNode(Fe,k)}catch{}if(ze!==rt){var Te=I.isDir(ze.mode),we=I.mayDelete(te,S,Te);if(we)throw new I.ErrnoError(we);if(we=rt?I.mayDelete(Fe,k,Te):I.mayCreate(Fe,k),we)throw new I.ErrnoError(we);if(!te.node_ops.rename)throw new I.ErrnoError(63);if(I.isMountpoint(ze)||rt&&I.isMountpoint(rt))throw new I.ErrnoError(10);if(Fe!==te&&(we=I.nodePermissions(te,"w"),we))throw new I.ErrnoError(we);I.hashRemoveNode(ze);try{te.node_ops.rename(ze,Fe,k),ze.parent=Fe}catch(Ue){throw Ue}finally{I.hashAddNode(ze)}}},rmdir(d){var f=I.lookupPath(d,{parent:!0}),g=f.node,_=le.basename(d),S=I.lookupNode(g,_),k=I.mayDelete(g,_,!0);if(k)throw new I.ErrnoError(k);if(!g.node_ops.rmdir)throw new I.ErrnoError(63);if(I.isMountpoint(S))throw new I.ErrnoError(10);g.node_ops.rmdir(g,_),I.destroyNode(S)},readdir(d){var f=I.lookupPath(d,{follow:!0}),g=f.node;if(!g.node_ops.readdir)throw new I.ErrnoError(54);return g.node_ops.readdir(g)},unlink(d){var f=I.lookupPath(d,{parent:!0}),g=f.node;if(!g)throw new I.ErrnoError(44);var _=le.basename(d),S=I.lookupNode(g,_),k=I.mayDelete(g,_,!1);if(k)throw new I.ErrnoError(k);if(!g.node_ops.unlink)throw new I.ErrnoError(63);if(I.isMountpoint(S))throw new I.ErrnoError(10);g.node_ops.unlink(g,_),I.destroyNode(S)},readlink(d){var f=I.lookupPath(d),g=f.node;if(!g)throw new I.ErrnoError(44);if(!g.node_ops.readlink)throw new I.ErrnoError(28);return De.resolve(I.getPath(g.parent),g.node_ops.readlink(g))},stat(d,f){var g=I.lookupPath(d,{follow:!f}),_=g.node;if(!_)throw new I.ErrnoError(44);if(!_.node_ops.getattr)throw new I.ErrnoError(63);return _.node_ops.getattr(_)},lstat(d){return I.stat(d,!0)},chmod(d,f,g){var _;if(typeof d=="string"){var S=I.lookupPath(d,{follow:!g});_=S.node}else _=d;if(!_.node_ops.setattr)throw new I.ErrnoError(63);_.node_ops.setattr(_,{mode:f&4095|_.mode&-4096,timestamp:Date.now()})},lchmod(d,f){I.chmod(d,f,!0)},fchmod(d,f){var g=I.getStreamChecked(d);I.chmod(g.node,f)},chown(d,f,g,_){var S;if(typeof d=="string"){var k=I.lookupPath(d,{follow:!_});S=k.node}else S=d;if(!S.node_ops.setattr)throw new I.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(d,f,g){I.chown(d,f,g,!0)},fchown(d,f,g){var _=I.getStreamChecked(d);I.chown(_.node,f,g)},truncate(d,f){if(f<0)throw new I.ErrnoError(28);var g;if(typeof d=="string"){var _=I.lookupPath(d,{follow:!0});g=_.node}else g=d;if(!g.node_ops.setattr)throw new I.ErrnoError(63);if(I.isDir(g.mode))throw new I.ErrnoError(31);if(!I.isFile(g.mode))throw new I.ErrnoError(28);var S=I.nodePermissions(g,"w");if(S)throw new I.ErrnoError(S);g.node_ops.setattr(g,{size:f,timestamp:Date.now()})},ftruncate(d,f){var g=I.getStreamChecked(d);if(!(g.flags&2097155))throw new I.ErrnoError(28);I.truncate(g.node,f)},utime(d,f,g){var _=I.lookupPath(d,{follow:!0}),S=_.node;S.node_ops.setattr(S,{timestamp:Math.max(f,g)})},open(d,f,g){if(d==="")throw new I.ErrnoError(44);f=typeof f=="string"?Vu(f):f,f&64?(g=typeof g>"u"?438:g,g=g&4095|32768):g=0;var _;if(typeof d=="object")_=d;else{d=le.normalize(d);try{var S=I.lookupPath(d,{follow:!(f&131072)});_=S.node}catch{}}var k=!1;if(f&64)if(_){if(f&128)throw new I.ErrnoError(20)}else _=I.mknod(d,g,0),k=!0;if(!_)throw new I.ErrnoError(44);if(I.isChrdev(_.mode)&&(f&=-513),f&65536&&!I.isDir(_.mode))throw new I.ErrnoError(54);if(!k){var X=I.mayOpen(_,f);if(X)throw new I.ErrnoError(X)}f&512&&!k&&I.truncate(_,0),f&=-131713;var te=I.createStream({node:_,path:I.getPath(_),flags:f,seekable:!0,position:0,stream_ops:_.stream_ops,ungotten:[],error:!1});return te.stream_ops.open&&te.stream_ops.open(te),n.logReadFiles&&!(f&1)&&(I.readFiles||(I.readFiles={}),d in I.readFiles||(I.readFiles[d]=1)),te},close(d){if(I.isClosed(d))throw new I.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(f){throw f}finally{I.closeStream(d.fd)}d.fd=null},isClosed(d){return d.fd===null},llseek(d,f,g){if(I.isClosed(d))throw new I.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new I.ErrnoError(70);if(g!=0&&g!=1&&g!=2)throw new I.ErrnoError(28);return d.position=d.stream_ops.llseek(d,f,g),d.ungotten=[],d.position},read(d,f,g,_,S){if(_<0||S<0)throw new I.ErrnoError(28);if(I.isClosed(d))throw new I.ErrnoError(8);if((d.flags&2097155)===1)throw new I.ErrnoError(8);if(I.isDir(d.node.mode))throw new I.ErrnoError(31);if(!d.stream_ops.read)throw new I.ErrnoError(28);var k=typeof S<"u";if(!k)S=d.position;else if(!d.seekable)throw new I.ErrnoError(70);var X=d.stream_ops.read(d,f,g,_,S);return k||(d.position+=X),X},write(d,f,g,_,S,k){if(_<0||S<0)throw new I.ErrnoError(28);if(I.isClosed(d))throw new I.ErrnoError(8);if(!(d.flags&2097155))throw new I.ErrnoError(8);if(I.isDir(d.node.mode))throw new I.ErrnoError(31);if(!d.stream_ops.write)throw new I.ErrnoError(28);d.seekable&&d.flags&1024&&I.llseek(d,0,2);var X=typeof S<"u";if(!X)S=d.position;else if(!d.seekable)throw new I.ErrnoError(70);var te=d.stream_ops.write(d,f,g,_,S,k);return X||(d.position+=te),te},allocate(d,f,g){if(I.isClosed(d))throw new I.ErrnoError(8);if(f<0||g<=0)throw new I.ErrnoError(28);if(!(d.flags&2097155))throw new I.ErrnoError(8);if(!I.isFile(d.node.mode)&&!I.isDir(d.node.mode))throw new I.ErrnoError(43);if(!d.stream_ops.allocate)throw new I.ErrnoError(138);d.stream_ops.allocate(d,f,g)},mmap(d,f,g,_,S){if(_&2&&!(S&2)&&(d.flags&2097155)!==2)throw new I.ErrnoError(2);if((d.flags&2097155)===1)throw new I.ErrnoError(2);if(!d.stream_ops.mmap)throw new I.ErrnoError(43);if(!f)throw new I.ErrnoError(28);return d.stream_ops.mmap(d,f,g,_,S)},msync(d,f,g,_,S){return d.stream_ops.msync?d.stream_ops.msync(d,f,g,_,S):0},ioctl(d,f,g){if(!d.stream_ops.ioctl)throw new I.ErrnoError(59);return d.stream_ops.ioctl(d,f,g)},readFile(d,f={}){if(f.flags=f.flags||0,f.encoding=f.encoding||"binary",f.encoding!=="utf8"&&f.encoding!=="binary")throw new Error(`Invalid encoding type "${f.encoding}"`);var g,_=I.open(d,f.flags),S=I.stat(d),k=S.size,X=new Uint8Array(k);return I.read(_,X,0,k,0),f.encoding==="utf8"?g=_t(X,0):f.encoding==="binary"&&(g=X),I.close(_),g},writeFile(d,f,g={}){g.flags=g.flags||577;var _=I.open(d,g.flags,g.mode);if(typeof f=="string"){var S=new Uint8Array(mr(f)+1),k=cr(f,S,0,S.length);I.write(_,S,0,k,void 0,g.canOwn)}else if(ArrayBuffer.isView(f))I.write(_,f,0,f.byteLength,void 0,g.canOwn);else throw new Error("Unsupported data type");I.close(_)},cwd:()=>I.currentPath,chdir(d){var f=I.lookupPath(d,{follow:!0});if(f.node===null)throw new I.ErrnoError(44);if(!I.isDir(f.node.mode))throw new I.ErrnoError(54);var g=I.nodePermissions(f.node,"x");if(g)throw new I.ErrnoError(g);I.currentPath=f.path},createDefaultDirectories(){I.mkdir("/tmp"),I.mkdir("/home"),I.mkdir("/home/web_user")},createDefaultDevices(){I.mkdir("/dev"),I.registerDevice(I.makedev(1,3),{read:()=>0,write:(_,S,k,X,te)=>X}),I.mkdev("/dev/null",I.makedev(1,3)),Xr.register(I.makedev(5,0),Xr.default_tty_ops),Xr.register(I.makedev(6,0),Xr.default_tty1_ops),I.mkdev("/dev/tty",I.makedev(5,0)),I.mkdev("/dev/tty1",I.makedev(6,0));var d=new Uint8Array(1024),f=0,g=()=>(f===0&&(f=Oe(d).byteLength),d[--f]);I.createDevice("/dev","random",g),I.createDevice("/dev","urandom",g),I.mkdir("/dev/shm"),I.mkdir("/dev/shm/tmp")},createSpecialDirectories(){I.mkdir("/proc");var d=I.mkdir("/proc/self");I.mkdir("/proc/self/fd"),I.mount({mount(){var f=I.createNode(d,"fd",16895,73);return f.node_ops={lookup(g,_){var S=+_,k=I.getStreamChecked(S),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>k.path}};return X.parent=X,X}},f}},{},"/proc/self/fd")},createStandardStreams(d,f,g){d?I.createDevice("/dev","stdin",d):I.symlink("/dev/tty","/dev/stdin"),f?I.createDevice("/dev","stdout",null,f):I.symlink("/dev/tty","/dev/stdout"),g?I.createDevice("/dev","stderr",null,g):I.symlink("/dev/tty1","/dev/stderr"),I.open("/dev/stdin",0),I.open("/dev/stdout",1),I.open("/dev/stderr",1)},staticInit(){[44].forEach(d=>{I.genericErrors[d]=new I.ErrnoError(d),I.genericErrors[d].stack="<generic error, no stack>"}),I.nameTable=new Array(4096),I.mount(zt,{},"/"),I.createDefaultDirectories(),I.createDefaultDevices(),I.createSpecialDirectories(),I.filesystems={MEMFS:zt}},init(d,f,g){I.initialized=!0,d??=n.stdin,f??=n.stdout,g??=n.stderr,I.createStandardStreams(d,f,g)},quit(){I.initialized=!1;for(var d=0;d<I.streams.length;d++){var f=I.streams[d];f&&I.close(f)}},findObject(d,f){var g=I.analyzePath(d,f);return g.exists?g.object:null},analyzePath(d,f){try{var g=I.lookupPath(d,{follow:!f});d=g.path}catch{}var _={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var g=I.lookupPath(d,{parent:!0});_.parentExists=!0,_.parentPath=g.path,_.parentObject=g.node,_.name=le.basename(d),g=I.lookupPath(d,{follow:!f}),_.exists=!0,_.path=g.path,_.object=g.node,_.name=g.node.name,_.isRoot=g.path==="/"}catch(S){_.error=S.errno}return _},createPath(d,f,g,_){d=typeof d=="string"?d:I.getPath(d);for(var S=f.split("/").reverse();S.length;){var k=S.pop();if(k){var X=le.join2(d,k);try{I.mkdir(X)}catch{}d=X}}return X},createFile(d,f,g,_,S){var k=le.join2(typeof d=="string"?d:I.getPath(d),f),X=vs(_,S);return I.create(k,X)},createDataFile(d,f,g,_,S,k){var X=f;d&&(d=typeof d=="string"?d:I.getPath(d),X=f?le.join2(d,f):d);var te=vs(_,S),Fe=I.create(X,te);if(g){if(typeof g=="string"){for(var ze=new Array(g.length),Je=0,rt=g.length;Je<rt;++Je)ze[Je]=g.charCodeAt(Je);g=ze}I.chmod(Fe,te|146);var Te=I.open(Fe,577);I.write(Te,g,0,g.length,0,k),I.close(Te),I.chmod(Fe,te)}},createDevice(d,f,g,_){var S=le.join2(typeof d=="string"?d:I.getPath(d),f),k=vs(!!g,!!_);I.createDevice.major||(I.createDevice.major=64);var X=I.makedev(I.createDevice.major++,0);return I.registerDevice(X,{open(te){te.seekable=!1},close(te){_?.buffer?.length&&_(10)},read(te,Fe,ze,Je,rt){for(var Te=0,we=0;we<Je;we++){var Ue;try{Ue=g()}catch{throw new I.ErrnoError(29)}if(Ue===void 0&&Te===0)throw new I.ErrnoError(6);if(Ue==null)break;Te++,Fe[ze+we]=Ue}return Te&&(te.node.timestamp=Date.now()),Te},write(te,Fe,ze,Je,rt){for(var Te=0;Te<Je;Te++)try{_(Fe[ze+Te])}catch{throw new I.ErrnoError(29)}return Je&&(te.node.timestamp=Date.now()),Te}}),I.mkdev(S,k,X)},forceLoadFile(d){if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{d.contents=C(d.url),d.usedBytes=d.contents.length}catch{throw new I.ErrnoError(29)}},createLazyFile(d,f,g,_,S){class k{constructor(){this.lengthKnown=!1,this.chunks=[]}get(we){if(!(we>this.length-1||we<0)){var Ue=we%this.chunkSize,oe=we/this.chunkSize|0;return this.getter(oe)[Ue]}}setDataGetter(we){this.getter=we}cacheLength(){var we=new XMLHttpRequest;if(we.open("HEAD",g,!1),we.send(null),!(we.status>=200&&we.status<300||we.status===304))throw new Error("Couldn't load "+g+". Status: "+we.status);var Ue=Number(we.getResponseHeader("Content-length")),oe,he=(oe=we.getResponseHeader("Accept-Ranges"))&&oe==="bytes",_e=(oe=we.getResponseHeader("Content-Encoding"))&&oe==="gzip",We=1024*1024;he||(We=Ue);var Be=(Me,ht)=>{if(Me>ht)throw new Error("invalid range ("+Me+", "+ht+") or no bytes requested!");if(ht>Ue-1)throw new Error("only "+Ue+" bytes available! programmer error!");var L=new XMLHttpRequest;if(L.open("GET",g,!1),Ue!==We&&L.setRequestHeader("Range","bytes="+Me+"-"+ht),L.responseType="arraybuffer",L.overrideMimeType&&L.overrideMimeType("text/plain; charset=x-user-defined"),L.send(null),!(L.status>=200&&L.status<300||L.status===304))throw new Error("Couldn't load "+g+". Status: "+L.status);return L.response!==void 0?new Uint8Array(L.response||[]):Ir(L.responseText||"")},be=this;be.setDataGetter(Me=>{var ht=Me*We,L=(Me+1)*We-1;if(L=Math.min(L,Ue-1),typeof be.chunks[Me]>"u"&&(be.chunks[Me]=Be(ht,L)),typeof be.chunks[Me]>"u")throw new Error("doXHR failed!");return be.chunks[Me]}),(_e||!Ue)&&(We=Ue=1,Ue=this.getter(0).length,We=Ue,T("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ue,this._chunkSize=We,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!p)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new k,te={isDevice:!1,contents:X}}else var te={isDevice:!1,url:g};var Fe=I.createFile(d,f,te,_,S);te.contents?Fe.contents=te.contents:te.url&&(Fe.contents=null,Fe.url=te.url),Object.defineProperties(Fe,{usedBytes:{get:function(){return this.contents.length}}});var ze={},Je=Object.keys(Fe.stream_ops);Je.forEach(Te=>{var we=Fe.stream_ops[Te];ze[Te]=(...Ue)=>(I.forceLoadFile(Fe),we(...Ue))});function rt(Te,we,Ue,oe,he){var _e=Te.node.contents;if(he>=_e.length)return 0;var We=Math.min(_e.length-he,oe);if(_e.slice)for(var Be=0;Be<We;Be++)we[Ue+Be]=_e[he+Be];else for(var Be=0;Be<We;Be++)we[Ue+Be]=_e.get(he+Be);return We}return ze.read=(Te,we,Ue,oe,he)=>(I.forceLoadFile(Fe),rt(Te,we,Ue,oe,he)),ze.mmap=(Te,we,Ue,oe,he)=>{I.forceLoadFile(Fe);var _e=bn(we);if(!_e)throw new I.ErrnoError(48);return rt(Te,K,_e,we,Ue),{ptr:_e,allocated:!0}},Fe.stream_ops=ze,Fe}},Yd=(d,f)=>d?_t(W,d,f):"",Xt={DEFAULT_POLLMASK:5,calculateAt(d,f,g){if(le.isAbs(f))return f;var _;if(d===-100)_=I.cwd();else{var S=Xt.getStreamFromFD(d);_=S.path}if(f.length==0){if(!g)throw new I.ErrnoError(44);return _}return le.join2(_,f)},doStat(d,f,g){var _=d(f);ue[g>>2]=_.dev,ue[g+4>>2]=_.mode,V[g+8>>2]=_.nlink,ue[g+12>>2]=_.uid,ue[g+16>>2]=_.gid,ue[g+20>>2]=_.rdev,ne[g+24>>3]=BigInt(_.size),ue[g+32>>2]=4096,ue[g+36>>2]=_.blocks;var S=_.atime.getTime(),k=_.mtime.getTime(),X=_.ctime.getTime();return ne[g+40>>3]=BigInt(Math.floor(S/1e3)),V[g+48>>2]=S%1e3*1e3*1e3,ne[g+56>>3]=BigInt(Math.floor(k/1e3)),V[g+64>>2]=k%1e3*1e3*1e3,ne[g+72>>3]=BigInt(Math.floor(X/1e3)),V[g+80>>2]=X%1e3*1e3*1e3,ne[g+88>>3]=BigInt(_.ino),0},doMsync(d,f,g,_,S){if(!I.isFile(f.node.mode))throw new I.ErrnoError(43);if(_&2)return 0;var k=W.slice(d,d+g);I.msync(f,k,S,g,_)},getStreamFromFD(d){var f=I.getStreamChecked(d);return f},varargs:void 0,getStr(d){var f=Yd(d);return f}};function ef(d,f){try{return d=Xt.getStr(d),I.chmod(d,f),0}catch(g){if(typeof I>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function tf(d,f,g,_){try{if(f=Xt.getStr(f),f=Xt.calculateAt(d,f),g&-8)return-28;var S=I.lookupPath(f,{follow:!0}),k=S.node;if(!k)return-44;var X="";return g&4&&(X+="r"),g&2&&(X+="w"),g&1&&(X+="x"),X&&I.nodePermissions(k,X)?-2:0}catch(te){if(typeof I>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function rf(d,f){try{return I.fchmod(d,f),0}catch(g){if(typeof I>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Hu(d,f,g){try{return I.fchown(d,f,g),0}catch(_){if(typeof I>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function qa(){var d=ue[+Xt.varargs>>2];return Xt.varargs+=4,d}var Ti=qa;function Qu(d,f,g){Xt.varargs=g;try{var _=Xt.getStreamFromFD(d);switch(f){case 0:{var S=qa();if(S<0)return-28;for(;I.streams[S];)S++;var k;return k=I.dupStream(_,S),k.fd}case 1:case 2:return 0;case 3:return _.flags;case 4:{var S=qa();return _.flags|=S,0}case 12:{var S=Ti(),X=0;return Q[S+X>>1]=2,0}case 13:case 14:return 0}return-28}catch(te){if(typeof I>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function Ca(d,f){try{var g=Xt.getStreamFromFD(d);return Xt.doStat(I.stat,g.path,f)}catch(_){if(typeof I>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var _m=0x20000000000000,Ra=-0x20000000000000,_s=d=>d<Ra||d>_m?NaN:Number(d);function vl(d,f){f=_s(f);try{return isNaN(f)?61:(I.ftruncate(d,f),0)}catch(g){if(typeof I>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}var bs=(d,f,g)=>cr(d,W,f,g);function bm(d,f){try{if(f===0)return-28;var g=I.cwd(),_=mr(g)+1;return f<_?-68:(bs(g,d,f),_)}catch(S){if(typeof I>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function wm(d,f,g){Xt.varargs=g;try{var _=Xt.getStreamFromFD(d);switch(f){case 21509:return _.tty?0:-59;case 21505:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tcgets){var S=_.tty.ops.ioctl_tcgets(_),k=Ti();ue[k>>2]=S.c_iflag||0,ue[k+4>>2]=S.c_oflag||0,ue[k+8>>2]=S.c_cflag||0,ue[k+12>>2]=S.c_lflag||0;for(var X=0;X<32;X++)K[k+X+17]=S.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:return _.tty?0:-59;case 21506:case 21507:case 21508:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tcsets){for(var k=Ti(),te=ue[k>>2],Fe=ue[k+4>>2],ze=ue[k+8>>2],Je=ue[k+12>>2],rt=[],X=0;X<32;X++)rt.push(K[k+X+17]);return _.tty.ops.ioctl_tcsets(_.tty,f,{c_iflag:te,c_oflag:Fe,c_cflag:ze,c_lflag:Je,c_cc:rt})}return 0}case 21519:{if(!_.tty)return-59;var k=Ti();return ue[k>>2]=0,0}case 21520:return _.tty?-28:-59;case 21531:{var k=Ti();return I.ioctl(_,f,k)}case 21523:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tiocgwinsz){var Te=_.tty.ops.ioctl_tiocgwinsz(_.tty),k=Ti();Q[k>>1]=Te[0],Q[k+2>>1]=Te[1]}return 0}case 21524:return _.tty?0:-59;case 21515:return _.tty?0:-59;default:return-28}}catch(we){if(typeof I>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}function xm(d,f){try{return d=Xt.getStr(d),Xt.doStat(I.lstat,d,f)}catch(g){if(typeof I>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function zs(d,f,g){try{return f=Xt.getStr(f),f=Xt.calculateAt(d,f),f=le.normalize(f),f[f.length-1]==="/"&&(f=f.substr(0,f.length-1)),I.mkdir(f,g,0),0}catch(_){if(typeof I>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function nf(d,f,g,_){try{f=Xt.getStr(f);var S=_&256,k=_&4096;return _=_&-6401,f=Xt.calculateAt(d,f,k),Xt.doStat(S?I.lstat:I.stat,f,g)}catch(X){if(typeof I>"u"||X.name!=="ErrnoError")throw X;return-X.errno}}function sf(d,f,g,_){Xt.varargs=_;try{f=Xt.getStr(f),f=Xt.calculateAt(d,f);var S=_?qa():0;return I.open(f,g,S).fd}catch(k){if(typeof I>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function Sm(d,f,g,_){try{if(f=Xt.getStr(f),f=Xt.calculateAt(d,f),_<=0)return-28;var S=I.readlink(f),k=Math.min(_,mr(S)),X=K[g+k];return bs(S,g,_+1),K[g+k]=X,k}catch(te){if(typeof I>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function of(d){try{return d=Xt.getStr(d),I.rmdir(d),0}catch(f){if(typeof I>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function af(d,f){try{return d=Xt.getStr(d),Xt.doStat(I.stat,d,f)}catch(g){if(typeof I>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function lf(d,f,g){try{return f=Xt.getStr(f),f=Xt.calculateAt(d,f),g===0?I.unlink(f):g===512?I.rmdir(f):ft("Invalid flags passed to unlinkat"),0}catch(_){if(typeof I>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var Ku=d=>V[d>>2]+ue[d+4>>2]*0x100000000;function Em(d,f,g,_){try{f=Xt.getStr(f),f=Xt.calculateAt(d,f,!0);var S=Date.now(),k,X;if(!g)k=S,X=S;else{var te=Ku(g),Fe=ue[g+8>>2];Fe==0x3fffffff?k=S:Fe==0x3ffffffe?k=-1:k=te*1e3+Fe/(1e3*1e3),g+=16,te=Ku(g),Fe=ue[g+8>>2],Fe==0x3fffffff?X=S:Fe==0x3ffffffe?X=-1:X=te*1e3+Fe/(1e3*1e3)}return(X!=-1||k!=-1)&&I.utime(f,k,X),0}catch(ze){if(typeof I>"u"||ze.name!=="ErrnoError")throw ze;return-ze.errno}}var Nm=1,Vr=()=>Nm,km=d=>d%4===0&&(d%100!==0||d%400===0),Gu=[0,31,60,91,121,152,182,213,244,274,305,335],uf=[0,31,59,90,120,151,181,212,243,273,304,334],_l=d=>{var f=km(d.getFullYear()),g=f?Gu:uf,_=g[d.getMonth()]+d.getDate()-1;return _};function qm(d,f){d=_s(d);var g=new Date(d*1e3);ue[f>>2]=g.getSeconds(),ue[f+4>>2]=g.getMinutes(),ue[f+8>>2]=g.getHours(),ue[f+12>>2]=g.getDate(),ue[f+16>>2]=g.getMonth(),ue[f+20>>2]=g.getFullYear()-1900,ue[f+24>>2]=g.getDay();var _=_l(g)|0;ue[f+28>>2]=_,ue[f+36>>2]=-(g.getTimezoneOffset()*60);var S=new Date(g.getFullYear(),0,1),k=new Date(g.getFullYear(),6,1).getTimezoneOffset(),X=S.getTimezoneOffset(),te=(k!=X&&g.getTimezoneOffset()==Math.min(X,k))|0;ue[f+32>>2]=te}function cf(d,f,g,_,S,k,X){S=_s(S);try{if(isNaN(S))return 61;var te=Xt.getStreamFromFD(_),Fe=I.mmap(te,d,S,f,g),ze=Fe.ptr;return ue[k>>2]=Fe.allocated,V[X>>2]=ze,0}catch(Je){if(typeof I>"u"||Je.name!=="ErrnoError")throw Je;return-Je.errno}}function bl(d,f,g,_,S,k){k=_s(k);try{var X=Xt.getStreamFromFD(S);g&2&&Xt.doMsync(d,X,f,_,k)}catch(te){if(typeof I>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}var Ai=(d,f,g,_)=>{var S=new Date().getFullYear(),k=new Date(S,0,1),X=new Date(S,6,1),te=k.getTimezoneOffset(),Fe=X.getTimezoneOffset(),ze=Math.max(te,Fe);V[d>>2]=ze*60,ue[f>>2]=+(te!=Fe);var Je=we=>{var Ue=we>=0?"-":"+",oe=Math.abs(we),he=String(Math.floor(oe/60)).padStart(2,"0"),_e=String(oe%60).padStart(2,"0");return`UTC${Ue}${he}${_e}`},rt=Je(te),Te=Je(Fe);Fe<te?(bs(rt,g,17),bs(Te,_,17)):(bs(rt,_,17),bs(Te,g,17))},Cm=()=>Date.now(),Gn;Gn=()=>performance.now();var Rm=()=>0x80000000,Om=d=>{var f=B.buffer,g=(d-f.byteLength+65535)/65536;try{return B.grow(g),M(),1}catch{}},Im=d=>{var f=W.length;d>>>=0;var g=Rm();if(d>g)return!1;for(var _=1;_<=4;_*=2){var S=f*(1+.2/_);S=Math.min(S,d+0x6000000);var k=Math.min(g,Us(Math.max(d,S),65536)),X=Om(k);if(X)return!0}return!1},Ao={},wl=()=>x||"./this.program",Ji=()=>{if(!Ji.strings){var d=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:d,_:wl()};for(var g in Ao)Ao[g]===void 0?delete f[g]:f[g]=Ao[g];var _=[];for(var g in f)_.push(`${g}=${f[g]}`);Ji.strings=_}return Ji.strings},xl=(d,f)=>{for(var g=0;g<d.length;++g)K[f++]=d.charCodeAt(g);K[f]=0},Tm=(d,f)=>{var g=0;return Ji().forEach((_,S)=>{var k=f+g;V[d+S*4>>2]=k,xl(_,k),g+=_.length+1}),0},Am=(d,f)=>{var g=Ji();V[d>>2]=g.length;var _=0;return g.forEach(S=>_+=S.length+1),V[f>>2]=_,0};function Ju(d){try{var f=Xt.getStreamFromFD(d);return I.close(f),0}catch(g){if(typeof I>"u"||g.name!=="ErrnoError")throw g;return g.errno}}function df(d,f){try{var g=0,_=0,S=0,k=Xt.getStreamFromFD(d),X=k.tty?2:I.isDir(k.mode)?3:I.isLink(k.mode)?7:4;return K[f]=X,Q[f+2>>1]=S,ne[f+8>>3]=BigInt(g),ne[f+16>>3]=BigInt(_),0}catch(te){if(typeof I>"u"||te.name!=="ErrnoError")throw te;return te.errno}}var Zu=(d,f,g,_)=>{for(var S=0,k=0;k<g;k++){var X=V[f>>2],te=V[f+4>>2];f+=8;var Fe=I.read(d,K,X,te,_);if(Fe<0)return-1;if(S+=Fe,Fe<te)break}return S};function Oa(d,f,g,_){try{var S=Xt.getStreamFromFD(d),k=Zu(S,f,g);return V[_>>2]=k,0}catch(X){if(typeof I>"u"||X.name!=="ErrnoError")throw X;return X.errno}}function Pm(d,f,g,_){f=_s(f);try{if(isNaN(f))return 61;var S=Xt.getStreamFromFD(d);return I.llseek(S,f,g),ne[_>>3]=BigInt(S.position),S.getdents&&f===0&&g===0&&(S.getdents=null),0}catch(k){if(typeof I>"u"||k.name!=="ErrnoError")throw k;return k.errno}}function Xu(d){try{var f=Xt.getStreamFromFD(d);return f.stream_ops?.fsync?f.stream_ops.fsync(f):0}catch(g){if(typeof I>"u"||g.name!=="ErrnoError")throw g;return g.errno}}var yr=(d,f,g,_)=>{for(var S=0,k=0;k<g;k++){var X=V[f>>2],te=V[f+4>>2];f+=8;var Fe=I.write(d,K,X,te,_);if(Fe<0)return-1;if(S+=Fe,Fe<te)break}return S};function ff(d,f,g,_){try{var S=Xt.getStreamFromFD(d),k=yr(S,f,g);return V[_>>2]=k,0}catch(X){if(typeof I>"u"||X.name!=="ErrnoError")throw X;return X.errno}}I.createPreloadedFile=zu,I.staticInit();var Yu={__syscall_chmod:ef,__syscall_faccessat:tf,__syscall_fchmod:rf,__syscall_fchown32:Hu,__syscall_fcntl64:Qu,__syscall_fstat64:Ca,__syscall_ftruncate64:vl,__syscall_getcwd:bm,__syscall_ioctl:wm,__syscall_lstat64:xm,__syscall_mkdirat:zs,__syscall_newfstatat:nf,__syscall_openat:sf,__syscall_readlinkat:Sm,__syscall_rmdir:of,__syscall_stat64:af,__syscall_unlinkat:lf,__syscall_utimensat:Em,_emscripten_get_now_is_monotonic:Vr,_localtime_js:qm,_mmap_js:cf,_munmap_js:bl,_tzset_js:Ai,emscripten_date_now:Cm,emscripten_get_now:Gn,emscripten_resize_heap:Im,environ_get:Tm,environ_sizes_get:Am,fd_close:Ju,fd_fdstat_get:df,fd_read:Oa,fd_seek:Pm,fd_sync:Xu,fd_write:ff,memory:B},ee=ur();n._sqlite3_status64=(d,f,g,_)=>(n._sqlite3_status64=ee.sqlite3_status64)(d,f,g,_),n._sqlite3_status=(d,f,g,_)=>(n._sqlite3_status=ee.sqlite3_status)(d,f,g,_),n._sqlite3_db_status=(d,f,g,_,S)=>(n._sqlite3_db_status=ee.sqlite3_db_status)(d,f,g,_,S),n._sqlite3_msize=d=>(n._sqlite3_msize=ee.sqlite3_msize)(d),n._sqlite3_vfs_find=d=>(n._sqlite3_vfs_find=ee.sqlite3_vfs_find)(d),n._sqlite3_initialize=()=>(n._sqlite3_initialize=ee.sqlite3_initialize)(),n._sqlite3_malloc=d=>(n._sqlite3_malloc=ee.sqlite3_malloc)(d),n._sqlite3_free=d=>(n._sqlite3_free=ee.sqlite3_free)(d),n._sqlite3_vfs_register=(d,f)=>(n._sqlite3_vfs_register=ee.sqlite3_vfs_register)(d,f),n._sqlite3_vfs_unregister=d=>(n._sqlite3_vfs_unregister=ee.sqlite3_vfs_unregister)(d),n._sqlite3_malloc64=d=>(n._sqlite3_malloc64=ee.sqlite3_malloc64)(d),n._sqlite3_realloc=(d,f)=>(n._sqlite3_realloc=ee.sqlite3_realloc)(d,f),n._sqlite3_realloc64=(d,f)=>(n._sqlite3_realloc64=ee.sqlite3_realloc64)(d,f),n._sqlite3_value_text=d=>(n._sqlite3_value_text=ee.sqlite3_value_text)(d),n._sqlite3_randomness=(d,f)=>(n._sqlite3_randomness=ee.sqlite3_randomness)(d,f),n._sqlite3_stricmp=(d,f)=>(n._sqlite3_stricmp=ee.sqlite3_stricmp)(d,f),n._sqlite3_strnicmp=(d,f,g)=>(n._sqlite3_strnicmp=ee.sqlite3_strnicmp)(d,f,g),n._sqlite3_uri_parameter=(d,f)=>(n._sqlite3_uri_parameter=ee.sqlite3_uri_parameter)(d,f),n._sqlite3_uri_boolean=(d,f,g)=>(n._sqlite3_uri_boolean=ee.sqlite3_uri_boolean)(d,f,g),n._sqlite3_serialize=(d,f,g,_)=>(n._sqlite3_serialize=ee.sqlite3_serialize)(d,f,g,_),n._sqlite3_prepare_v2=(d,f,g,_,S)=>(n._sqlite3_prepare_v2=ee.sqlite3_prepare_v2)(d,f,g,_,S),n._sqlite3_step=d=>(n._sqlite3_step=ee.sqlite3_step)(d),n._sqlite3_column_int64=(d,f)=>(n._sqlite3_column_int64=ee.sqlite3_column_int64)(d,f),n._sqlite3_reset=d=>(n._sqlite3_reset=ee.sqlite3_reset)(d),n._sqlite3_exec=(d,f,g,_,S)=>(n._sqlite3_exec=ee.sqlite3_exec)(d,f,g,_,S),n._sqlite3_column_int=(d,f)=>(n._sqlite3_column_int=ee.sqlite3_column_int)(d,f),n._sqlite3_finalize=d=>(n._sqlite3_finalize=ee.sqlite3_finalize)(d),n._sqlite3_file_control=(d,f,g,_)=>(n._sqlite3_file_control=ee.sqlite3_file_control)(d,f,g,_),n._sqlite3_column_name=(d,f)=>(n._sqlite3_column_name=ee.sqlite3_column_name)(d,f),n._sqlite3_column_text=(d,f)=>(n._sqlite3_column_text=ee.sqlite3_column_text)(d,f),n._sqlite3_column_type=(d,f)=>(n._sqlite3_column_type=ee.sqlite3_column_type)(d,f),n._sqlite3_errmsg=d=>(n._sqlite3_errmsg=ee.sqlite3_errmsg)(d),n._sqlite3_deserialize=(d,f,g,_,S,k)=>(n._sqlite3_deserialize=ee.sqlite3_deserialize)(d,f,g,_,S,k),n._sqlite3_clear_bindings=d=>(n._sqlite3_clear_bindings=ee.sqlite3_clear_bindings)(d),n._sqlite3_value_blob=d=>(n._sqlite3_value_blob=ee.sqlite3_value_blob)(d),n._sqlite3_value_bytes=d=>(n._sqlite3_value_bytes=ee.sqlite3_value_bytes)(d),n._sqlite3_value_double=d=>(n._sqlite3_value_double=ee.sqlite3_value_double)(d),n._sqlite3_value_int=d=>(n._sqlite3_value_int=ee.sqlite3_value_int)(d),n._sqlite3_value_int64=d=>(n._sqlite3_value_int64=ee.sqlite3_value_int64)(d),n._sqlite3_value_subtype=d=>(n._sqlite3_value_subtype=ee.sqlite3_value_subtype)(d),n._sqlite3_value_pointer=(d,f)=>(n._sqlite3_value_pointer=ee.sqlite3_value_pointer)(d,f),n._sqlite3_value_type=d=>(n._sqlite3_value_type=ee.sqlite3_value_type)(d),n._sqlite3_value_nochange=d=>(n._sqlite3_value_nochange=ee.sqlite3_value_nochange)(d),n._sqlite3_value_frombind=d=>(n._sqlite3_value_frombind=ee.sqlite3_value_frombind)(d),n._sqlite3_value_dup=d=>(n._sqlite3_value_dup=ee.sqlite3_value_dup)(d),n._sqlite3_value_free=d=>(n._sqlite3_value_free=ee.sqlite3_value_free)(d),n._sqlite3_result_blob=(d,f,g,_)=>(n._sqlite3_result_blob=ee.sqlite3_result_blob)(d,f,g,_),n._sqlite3_result_error_toobig=d=>(n._sqlite3_result_error_toobig=ee.sqlite3_result_error_toobig)(d),n._sqlite3_result_error_nomem=d=>(n._sqlite3_result_error_nomem=ee.sqlite3_result_error_nomem)(d),n._sqlite3_result_double=(d,f)=>(n._sqlite3_result_double=ee.sqlite3_result_double)(d,f),n._sqlite3_result_error=(d,f,g)=>(n._sqlite3_result_error=ee.sqlite3_result_error)(d,f,g),n._sqlite3_result_int=(d,f)=>(n._sqlite3_result_int=ee.sqlite3_result_int)(d,f),n._sqlite3_result_int64=(d,f)=>(n._sqlite3_result_int64=ee.sqlite3_result_int64)(d,f),n._sqlite3_result_null=d=>(n._sqlite3_result_null=ee.sqlite3_result_null)(d),n._sqlite3_result_pointer=(d,f,g,_)=>(n._sqlite3_result_pointer=ee.sqlite3_result_pointer)(d,f,g,_),n._sqlite3_result_subtype=(d,f)=>(n._sqlite3_result_subtype=ee.sqlite3_result_subtype)(d,f),n._sqlite3_result_text=(d,f,g,_)=>(n._sqlite3_result_text=ee.sqlite3_result_text)(d,f,g,_),n._sqlite3_result_zeroblob=(d,f)=>(n._sqlite3_result_zeroblob=ee.sqlite3_result_zeroblob)(d,f),n._sqlite3_result_zeroblob64=(d,f)=>(n._sqlite3_result_zeroblob64=ee.sqlite3_result_zeroblob64)(d,f),n._sqlite3_result_error_code=(d,f)=>(n._sqlite3_result_error_code=ee.sqlite3_result_error_code)(d,f),n._sqlite3_user_data=d=>(n._sqlite3_user_data=ee.sqlite3_user_data)(d),n._sqlite3_context_db_handle=d=>(n._sqlite3_context_db_handle=ee.sqlite3_context_db_handle)(d),n._sqlite3_vtab_nochange=d=>(n._sqlite3_vtab_nochange=ee.sqlite3_vtab_nochange)(d),n._sqlite3_vtab_in_first=(d,f)=>(n._sqlite3_vtab_in_first=ee.sqlite3_vtab_in_first)(d,f),n._sqlite3_vtab_in_next=(d,f)=>(n._sqlite3_vtab_in_next=ee.sqlite3_vtab_in_next)(d,f),n._sqlite3_aggregate_context=(d,f)=>(n._sqlite3_aggregate_context=ee.sqlite3_aggregate_context)(d,f),n._sqlite3_get_auxdata=(d,f)=>(n._sqlite3_get_auxdata=ee.sqlite3_get_auxdata)(d,f),n._sqlite3_set_auxdata=(d,f,g,_)=>(n._sqlite3_set_auxdata=ee.sqlite3_set_auxdata)(d,f,g,_),n._sqlite3_column_count=d=>(n._sqlite3_column_count=ee.sqlite3_column_count)(d),n._sqlite3_data_count=d=>(n._sqlite3_data_count=ee.sqlite3_data_count)(d),n._sqlite3_column_blob=(d,f)=>(n._sqlite3_column_blob=ee.sqlite3_column_blob)(d,f),n._sqlite3_column_bytes=(d,f)=>(n._sqlite3_column_bytes=ee.sqlite3_column_bytes)(d,f),n._sqlite3_column_double=(d,f)=>(n._sqlite3_column_double=ee.sqlite3_column_double)(d,f),n._sqlite3_column_value=(d,f)=>(n._sqlite3_column_value=ee.sqlite3_column_value)(d,f),n._sqlite3_column_decltype=(d,f)=>(n._sqlite3_column_decltype=ee.sqlite3_column_decltype)(d,f),n._sqlite3_bind_blob=(d,f,g,_,S)=>(n._sqlite3_bind_blob=ee.sqlite3_bind_blob)(d,f,g,_,S),n._sqlite3_bind_double=(d,f,g)=>(n._sqlite3_bind_double=ee.sqlite3_bind_double)(d,f,g),n._sqlite3_bind_int=(d,f,g)=>(n._sqlite3_bind_int=ee.sqlite3_bind_int)(d,f,g),n._sqlite3_bind_int64=(d,f,g)=>(n._sqlite3_bind_int64=ee.sqlite3_bind_int64)(d,f,g),n._sqlite3_bind_null=(d,f)=>(n._sqlite3_bind_null=ee.sqlite3_bind_null)(d,f),n._sqlite3_bind_pointer=(d,f,g,_,S)=>(n._sqlite3_bind_pointer=ee.sqlite3_bind_pointer)(d,f,g,_,S),n._sqlite3_bind_text=(d,f,g,_,S)=>(n._sqlite3_bind_text=ee.sqlite3_bind_text)(d,f,g,_,S),n._sqlite3_bind_parameter_count=d=>(n._sqlite3_bind_parameter_count=ee.sqlite3_bind_parameter_count)(d),n._sqlite3_bind_parameter_name=(d,f)=>(n._sqlite3_bind_parameter_name=ee.sqlite3_bind_parameter_name)(d,f),n._sqlite3_bind_parameter_index=(d,f)=>(n._sqlite3_bind_parameter_index=ee.sqlite3_bind_parameter_index)(d,f),n._sqlite3_db_handle=d=>(n._sqlite3_db_handle=ee.sqlite3_db_handle)(d),n._sqlite3_stmt_readonly=d=>(n._sqlite3_stmt_readonly=ee.sqlite3_stmt_readonly)(d),n._sqlite3_stmt_isexplain=d=>(n._sqlite3_stmt_isexplain=ee.sqlite3_stmt_isexplain)(d),n._sqlite3_stmt_explain=(d,f)=>(n._sqlite3_stmt_explain=ee.sqlite3_stmt_explain)(d,f),n._sqlite3_stmt_busy=d=>(n._sqlite3_stmt_busy=ee.sqlite3_stmt_busy)(d),n._sqlite3_stmt_status=(d,f,g)=>(n._sqlite3_stmt_status=ee.sqlite3_stmt_status)(d,f,g),n._sqlite3_sql=d=>(n._sqlite3_sql=ee.sqlite3_sql)(d),n._sqlite3_expanded_sql=d=>(n._sqlite3_expanded_sql=ee.sqlite3_expanded_sql)(d),n._sqlite3_preupdate_old=(d,f,g)=>(n._sqlite3_preupdate_old=ee.sqlite3_preupdate_old)(d,f,g),n._sqlite3_preupdate_count=d=>(n._sqlite3_preupdate_count=ee.sqlite3_preupdate_count)(d),n._sqlite3_preupdate_depth=d=>(n._sqlite3_preupdate_depth=ee.sqlite3_preupdate_depth)(d),n._sqlite3_preupdate_blobwrite=d=>(n._sqlite3_preupdate_blobwrite=ee.sqlite3_preupdate_blobwrite)(d),n._sqlite3_preupdate_new=(d,f,g)=>(n._sqlite3_preupdate_new=ee.sqlite3_preupdate_new)(d,f,g),n._sqlite3_value_numeric_type=d=>(n._sqlite3_value_numeric_type=ee.sqlite3_value_numeric_type)(d),n._sqlite3_set_authorizer=(d,f,g)=>(n._sqlite3_set_authorizer=ee.sqlite3_set_authorizer)(d,f,g),n._sqlite3_strglob=(d,f)=>(n._sqlite3_strglob=ee.sqlite3_strglob)(d,f),n._sqlite3_strlike=(d,f,g)=>(n._sqlite3_strlike=ee.sqlite3_strlike)(d,f,g),n._sqlite3_auto_extension=d=>(n._sqlite3_auto_extension=ee.sqlite3_auto_extension)(d),n._sqlite3_cancel_auto_extension=d=>(n._sqlite3_cancel_auto_extension=ee.sqlite3_cancel_auto_extension)(d),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=ee.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(d,f,g,_,S,k)=>(n._sqlite3_prepare_v3=ee.sqlite3_prepare_v3)(d,f,g,_,S,k),n._sqlite3_create_module=(d,f,g,_)=>(n._sqlite3_create_module=ee.sqlite3_create_module)(d,f,g,_),n._sqlite3_create_module_v2=(d,f,g,_,S)=>(n._sqlite3_create_module_v2=ee.sqlite3_create_module_v2)(d,f,g,_,S),n._sqlite3_drop_modules=(d,f)=>(n._sqlite3_drop_modules=ee.sqlite3_drop_modules)(d,f),n._sqlite3_declare_vtab=(d,f)=>(n._sqlite3_declare_vtab=ee.sqlite3_declare_vtab)(d,f),n._sqlite3_vtab_on_conflict=d=>(n._sqlite3_vtab_on_conflict=ee.sqlite3_vtab_on_conflict)(d),n._sqlite3_vtab_collation=(d,f)=>(n._sqlite3_vtab_collation=ee.sqlite3_vtab_collation)(d,f),n._sqlite3_vtab_in=(d,f,g)=>(n._sqlite3_vtab_in=ee.sqlite3_vtab_in)(d,f,g),n._sqlite3_vtab_rhs_value=(d,f,g)=>(n._sqlite3_vtab_rhs_value=ee.sqlite3_vtab_rhs_value)(d,f,g),n._sqlite3_vtab_distinct=d=>(n._sqlite3_vtab_distinct=ee.sqlite3_vtab_distinct)(d),n._sqlite3_keyword_name=(d,f,g)=>(n._sqlite3_keyword_name=ee.sqlite3_keyword_name)(d,f,g),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=ee.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(d,f)=>(n._sqlite3_keyword_check=ee.sqlite3_keyword_check)(d,f),n._sqlite3_complete=d=>(n._sqlite3_complete=ee.sqlite3_complete)(d),n._sqlite3_libversion=()=>(n._sqlite3_libversion=ee.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=ee.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=ee.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=d=>(n._sqlite3_last_insert_rowid=ee.sqlite3_last_insert_rowid)(d),n._sqlite3_set_last_insert_rowid=(d,f)=>(n._sqlite3_set_last_insert_rowid=ee.sqlite3_set_last_insert_rowid)(d,f),n._sqlite3_changes64=d=>(n._sqlite3_changes64=ee.sqlite3_changes64)(d),n._sqlite3_changes=d=>(n._sqlite3_changes=ee.sqlite3_changes)(d),n._sqlite3_total_changes64=d=>(n._sqlite3_total_changes64=ee.sqlite3_total_changes64)(d),n._sqlite3_total_changes=d=>(n._sqlite3_total_changes=ee.sqlite3_total_changes)(d),n._sqlite3_txn_state=(d,f)=>(n._sqlite3_txn_state=ee.sqlite3_txn_state)(d,f),n._sqlite3_close_v2=d=>(n._sqlite3_close_v2=ee.sqlite3_close_v2)(d),n._sqlite3_busy_handler=(d,f,g)=>(n._sqlite3_busy_handler=ee.sqlite3_busy_handler)(d,f,g),n._sqlite3_progress_handler=(d,f,g,_)=>(n._sqlite3_progress_handler=ee.sqlite3_progress_handler)(d,f,g,_),n._sqlite3_busy_timeout=(d,f)=>(n._sqlite3_busy_timeout=ee.sqlite3_busy_timeout)(d,f),n._sqlite3_interrupt=d=>(n._sqlite3_interrupt=ee.sqlite3_interrupt)(d),n._sqlite3_is_interrupted=d=>(n._sqlite3_is_interrupted=ee.sqlite3_is_interrupted)(d),n._sqlite3_create_function=(d,f,g,_,S,k,X,te)=>(n._sqlite3_create_function=ee.sqlite3_create_function)(d,f,g,_,S,k,X,te),n._sqlite3_create_function_v2=(d,f,g,_,S,k,X,te,Fe)=>(n._sqlite3_create_function_v2=ee.sqlite3_create_function_v2)(d,f,g,_,S,k,X,te,Fe),n._sqlite3_create_window_function=(d,f,g,_,S,k,X,te,Fe,ze)=>(n._sqlite3_create_window_function=ee.sqlite3_create_window_function)(d,f,g,_,S,k,X,te,Fe,ze),n._sqlite3_overload_function=(d,f,g)=>(n._sqlite3_overload_function=ee.sqlite3_overload_function)(d,f,g),n._sqlite3_trace_v2=(d,f,g,_)=>(n._sqlite3_trace_v2=ee.sqlite3_trace_v2)(d,f,g,_),n._sqlite3_commit_hook=(d,f,g)=>(n._sqlite3_commit_hook=ee.sqlite3_commit_hook)(d,f,g),n._sqlite3_update_hook=(d,f,g)=>(n._sqlite3_update_hook=ee.sqlite3_update_hook)(d,f,g),n._sqlite3_rollback_hook=(d,f,g)=>(n._sqlite3_rollback_hook=ee.sqlite3_rollback_hook)(d,f,g),n._sqlite3_preupdate_hook=(d,f,g)=>(n._sqlite3_preupdate_hook=ee.sqlite3_preupdate_hook)(d,f,g),n._sqlite3_error_offset=d=>(n._sqlite3_error_offset=ee.sqlite3_error_offset)(d),n._sqlite3_errcode=d=>(n._sqlite3_errcode=ee.sqlite3_errcode)(d),n._sqlite3_extended_errcode=d=>(n._sqlite3_extended_errcode=ee.sqlite3_extended_errcode)(d),n._sqlite3_errstr=d=>(n._sqlite3_errstr=ee.sqlite3_errstr)(d),n._sqlite3_limit=(d,f,g)=>(n._sqlite3_limit=ee.sqlite3_limit)(d,f,g),n._sqlite3_open=(d,f)=>(n._sqlite3_open=ee.sqlite3_open)(d,f),n._sqlite3_open_v2=(d,f,g,_)=>(n._sqlite3_open_v2=ee.sqlite3_open_v2)(d,f,g,_),n._sqlite3_create_collation=(d,f,g,_,S)=>(n._sqlite3_create_collation=ee.sqlite3_create_collation)(d,f,g,_,S),n._sqlite3_create_collation_v2=(d,f,g,_,S,k)=>(n._sqlite3_create_collation_v2=ee.sqlite3_create_collation_v2)(d,f,g,_,S,k),n._sqlite3_collation_needed=(d,f,g)=>(n._sqlite3_collation_needed=ee.sqlite3_collation_needed)(d,f,g),n._sqlite3_get_autocommit=d=>(n._sqlite3_get_autocommit=ee.sqlite3_get_autocommit)(d),n._sqlite3_table_column_metadata=(d,f,g,_,S,k,X,te,Fe)=>(n._sqlite3_table_column_metadata=ee.sqlite3_table_column_metadata)(d,f,g,_,S,k,X,te,Fe),n._sqlite3_extended_result_codes=(d,f)=>(n._sqlite3_extended_result_codes=ee.sqlite3_extended_result_codes)(d,f),n._sqlite3_uri_key=(d,f)=>(n._sqlite3_uri_key=ee.sqlite3_uri_key)(d,f),n._sqlite3_uri_int64=(d,f,g)=>(n._sqlite3_uri_int64=ee.sqlite3_uri_int64)(d,f,g),n._sqlite3_db_name=(d,f)=>(n._sqlite3_db_name=ee.sqlite3_db_name)(d,f),n._sqlite3_db_filename=(d,f)=>(n._sqlite3_db_filename=ee.sqlite3_db_filename)(d,f),n._sqlite3_db_readonly=(d,f)=>(n._sqlite3_db_readonly=ee.sqlite3_db_readonly)(d,f),n._sqlite3_compileoption_used=d=>(n._sqlite3_compileoption_used=ee.sqlite3_compileoption_used)(d),n._sqlite3_compileoption_get=d=>(n._sqlite3_compileoption_get=ee.sqlite3_compileoption_get)(d),n._sqlite3session_diff=(d,f,g,_)=>(n._sqlite3session_diff=ee.sqlite3session_diff)(d,f,g,_),n._sqlite3session_attach=(d,f)=>(n._sqlite3session_attach=ee.sqlite3session_attach)(d,f),n._sqlite3session_create=(d,f,g)=>(n._sqlite3session_create=ee.sqlite3session_create)(d,f,g),n._sqlite3session_delete=d=>(n._sqlite3session_delete=ee.sqlite3session_delete)(d),n._sqlite3session_table_filter=(d,f,g)=>(n._sqlite3session_table_filter=ee.sqlite3session_table_filter)(d,f,g),n._sqlite3session_changeset=(d,f,g)=>(n._sqlite3session_changeset=ee.sqlite3session_changeset)(d,f,g),n._sqlite3session_changeset_strm=(d,f,g)=>(n._sqlite3session_changeset_strm=ee.sqlite3session_changeset_strm)(d,f,g),n._sqlite3session_patchset_strm=(d,f,g)=>(n._sqlite3session_patchset_strm=ee.sqlite3session_patchset_strm)(d,f,g),n._sqlite3session_patchset=(d,f,g)=>(n._sqlite3session_patchset=ee.sqlite3session_patchset)(d,f,g),n._sqlite3session_enable=(d,f)=>(n._sqlite3session_enable=ee.sqlite3session_enable)(d,f),n._sqlite3session_indirect=(d,f)=>(n._sqlite3session_indirect=ee.sqlite3session_indirect)(d,f),n._sqlite3session_isempty=d=>(n._sqlite3session_isempty=ee.sqlite3session_isempty)(d),n._sqlite3session_memory_used=d=>(n._sqlite3session_memory_used=ee.sqlite3session_memory_used)(d),n._sqlite3session_object_config=(d,f,g)=>(n._sqlite3session_object_config=ee.sqlite3session_object_config)(d,f,g),n._sqlite3session_changeset_size=d=>(n._sqlite3session_changeset_size=ee.sqlite3session_changeset_size)(d),n._sqlite3changeset_start=(d,f,g)=>(n._sqlite3changeset_start=ee.sqlite3changeset_start)(d,f,g),n._sqlite3changeset_start_v2=(d,f,g,_)=>(n._sqlite3changeset_start_v2=ee.sqlite3changeset_start_v2)(d,f,g,_),n._sqlite3changeset_start_strm=(d,f,g)=>(n._sqlite3changeset_start_strm=ee.sqlite3changeset_start_strm)(d,f,g),n._sqlite3changeset_start_v2_strm=(d,f,g,_)=>(n._sqlite3changeset_start_v2_strm=ee.sqlite3changeset_start_v2_strm)(d,f,g,_),n._sqlite3changeset_next=d=>(n._sqlite3changeset_next=ee.sqlite3changeset_next)(d),n._sqlite3changeset_op=(d,f,g,_,S)=>(n._sqlite3changeset_op=ee.sqlite3changeset_op)(d,f,g,_,S),n._sqlite3changeset_pk=(d,f,g)=>(n._sqlite3changeset_pk=ee.sqlite3changeset_pk)(d,f,g),n._sqlite3changeset_old=(d,f,g)=>(n._sqlite3changeset_old=ee.sqlite3changeset_old)(d,f,g),n._sqlite3changeset_new=(d,f,g)=>(n._sqlite3changeset_new=ee.sqlite3changeset_new)(d,f,g),n._sqlite3changeset_conflict=(d,f,g)=>(n._sqlite3changeset_conflict=ee.sqlite3changeset_conflict)(d,f,g),n._sqlite3changeset_fk_conflicts=(d,f)=>(n._sqlite3changeset_fk_conflicts=ee.sqlite3changeset_fk_conflicts)(d,f),n._sqlite3changeset_finalize=d=>(n._sqlite3changeset_finalize=ee.sqlite3changeset_finalize)(d),n._sqlite3changeset_invert=(d,f,g,_)=>(n._sqlite3changeset_invert=ee.sqlite3changeset_invert)(d,f,g,_),n._sqlite3changeset_invert_strm=(d,f,g,_)=>(n._sqlite3changeset_invert_strm=ee.sqlite3changeset_invert_strm)(d,f,g,_),n._sqlite3changeset_apply_v2=(d,f,g,_,S,k,X,te,Fe)=>(n._sqlite3changeset_apply_v2=ee.sqlite3changeset_apply_v2)(d,f,g,_,S,k,X,te,Fe),n._sqlite3changeset_apply=(d,f,g,_,S,k)=>(n._sqlite3changeset_apply=ee.sqlite3changeset_apply)(d,f,g,_,S,k),n._sqlite3changeset_apply_v2_strm=(d,f,g,_,S,k,X,te,Fe)=>(n._sqlite3changeset_apply_v2_strm=ee.sqlite3changeset_apply_v2_strm)(d,f,g,_,S,k,X,te,Fe),n._sqlite3changeset_apply_strm=(d,f,g,_,S,k)=>(n._sqlite3changeset_apply_strm=ee.sqlite3changeset_apply_strm)(d,f,g,_,S,k),n._sqlite3changegroup_new=d=>(n._sqlite3changegroup_new=ee.sqlite3changegroup_new)(d),n._sqlite3changegroup_add=(d,f,g)=>(n._sqlite3changegroup_add=ee.sqlite3changegroup_add)(d,f,g),n._sqlite3changegroup_output=(d,f,g)=>(n._sqlite3changegroup_output=ee.sqlite3changegroup_output)(d,f,g),n._sqlite3changegroup_add_strm=(d,f,g)=>(n._sqlite3changegroup_add_strm=ee.sqlite3changegroup_add_strm)(d,f,g),n._sqlite3changegroup_output_strm=(d,f,g)=>(n._sqlite3changegroup_output_strm=ee.sqlite3changegroup_output_strm)(d,f,g),n._sqlite3changegroup_delete=d=>(n._sqlite3changegroup_delete=ee.sqlite3changegroup_delete)(d),n._sqlite3changeset_concat=(d,f,g,_,S,k)=>(n._sqlite3changeset_concat=ee.sqlite3changeset_concat)(d,f,g,_,S,k),n._sqlite3changeset_concat_strm=(d,f,g,_,S,k)=>(n._sqlite3changeset_concat_strm=ee.sqlite3changeset_concat_strm)(d,f,g,_,S,k),n._sqlite3session_config=(d,f)=>(n._sqlite3session_config=ee.sqlite3session_config)(d,f),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=ee.sqlite3_sourceid)(),n._sqlite3__wasm_pstack_ptr=()=>(n._sqlite3__wasm_pstack_ptr=ee.sqlite3__wasm_pstack_ptr)(),n._sqlite3__wasm_pstack_restore=d=>(n._sqlite3__wasm_pstack_restore=ee.sqlite3__wasm_pstack_restore)(d),n._sqlite3__wasm_pstack_alloc=d=>(n._sqlite3__wasm_pstack_alloc=ee.sqlite3__wasm_pstack_alloc)(d),n._sqlite3__wasm_pstack_remaining=()=>(n._sqlite3__wasm_pstack_remaining=ee.sqlite3__wasm_pstack_remaining)(),n._sqlite3__wasm_pstack_quota=()=>(n._sqlite3__wasm_pstack_quota=ee.sqlite3__wasm_pstack_quota)(),n._sqlite3__wasm_db_error=(d,f,g)=>(n._sqlite3__wasm_db_error=ee.sqlite3__wasm_db_error)(d,f,g),n._sqlite3__wasm_test_struct=d=>(n._sqlite3__wasm_test_struct=ee.sqlite3__wasm_test_struct)(d),n._sqlite3__wasm_enum_json=()=>(n._sqlite3__wasm_enum_json=ee.sqlite3__wasm_enum_json)(),n._sqlite3__wasm_vfs_unlink=(d,f)=>(n._sqlite3__wasm_vfs_unlink=ee.sqlite3__wasm_vfs_unlink)(d,f),n._sqlite3__wasm_db_vfs=(d,f)=>(n._sqlite3__wasm_db_vfs=ee.sqlite3__wasm_db_vfs)(d,f),n._sqlite3__wasm_db_reset=d=>(n._sqlite3__wasm_db_reset=ee.sqlite3__wasm_db_reset)(d),n._sqlite3__wasm_db_export_chunked=(d,f)=>(n._sqlite3__wasm_db_export_chunked=ee.sqlite3__wasm_db_export_chunked)(d,f),n._sqlite3__wasm_db_serialize=(d,f,g,_,S)=>(n._sqlite3__wasm_db_serialize=ee.sqlite3__wasm_db_serialize)(d,f,g,_,S),n._sqlite3__wasm_vfs_create_file=(d,f,g,_)=>(n._sqlite3__wasm_vfs_create_file=ee.sqlite3__wasm_vfs_create_file)(d,f,g,_),n._sqlite3__wasm_posix_create_file=(d,f,g)=>(n._sqlite3__wasm_posix_create_file=ee.sqlite3__wasm_posix_create_file)(d,f,g),n._sqlite3__wasm_kvvfsMakeKeyOnPstack=(d,f)=>(n._sqlite3__wasm_kvvfsMakeKeyOnPstack=ee.sqlite3__wasm_kvvfsMakeKeyOnPstack)(d,f),n._sqlite3__wasm_kvvfs_methods=()=>(n._sqlite3__wasm_kvvfs_methods=ee.sqlite3__wasm_kvvfs_methods)(),n._sqlite3__wasm_vtab_config=(d,f,g)=>(n._sqlite3__wasm_vtab_config=ee.sqlite3__wasm_vtab_config)(d,f,g),n._sqlite3__wasm_db_config_ip=(d,f,g,_)=>(n._sqlite3__wasm_db_config_ip=ee.sqlite3__wasm_db_config_ip)(d,f,g,_),n._sqlite3__wasm_db_config_pii=(d,f,g,_,S)=>(n._sqlite3__wasm_db_config_pii=ee.sqlite3__wasm_db_config_pii)(d,f,g,_,S),n._sqlite3__wasm_db_config_s=(d,f,g)=>(n._sqlite3__wasm_db_config_s=ee.sqlite3__wasm_db_config_s)(d,f,g),n._sqlite3__wasm_config_i=(d,f)=>(n._sqlite3__wasm_config_i=ee.sqlite3__wasm_config_i)(d,f),n._sqlite3__wasm_config_ii=(d,f,g)=>(n._sqlite3__wasm_config_ii=ee.sqlite3__wasm_config_ii)(d,f,g),n._sqlite3__wasm_config_j=(d,f)=>(n._sqlite3__wasm_config_j=ee.sqlite3__wasm_config_j)(d,f),n._sqlite3__wasm_qfmt_token=(d,f)=>(n._sqlite3__wasm_qfmt_token=ee.sqlite3__wasm_qfmt_token)(d,f),n._sqlite3__wasm_init_wasmfs=d=>(n._sqlite3__wasm_init_wasmfs=ee.sqlite3__wasm_init_wasmfs)(d),n._sqlite3__wasm_test_intptr=d=>(n._sqlite3__wasm_test_intptr=ee.sqlite3__wasm_test_intptr)(d),n._sqlite3__wasm_test_voidptr=d=>(n._sqlite3__wasm_test_voidptr=ee.sqlite3__wasm_test_voidptr)(d),n._sqlite3__wasm_test_int64_max=()=>(n._sqlite3__wasm_test_int64_max=ee.sqlite3__wasm_test_int64_max)(),n._sqlite3__wasm_test_int64_min=()=>(n._sqlite3__wasm_test_int64_min=ee.sqlite3__wasm_test_int64_min)(),n._sqlite3__wasm_test_int64_times2=d=>(n._sqlite3__wasm_test_int64_times2=ee.sqlite3__wasm_test_int64_times2)(d),n._sqlite3__wasm_test_int64_minmax=(d,f)=>(n._sqlite3__wasm_test_int64_minmax=ee.sqlite3__wasm_test_int64_minmax)(d,f),n._sqlite3__wasm_test_int64ptr=d=>(n._sqlite3__wasm_test_int64ptr=ee.sqlite3__wasm_test_int64ptr)(d),n._sqlite3__wasm_test_stack_overflow=d=>(n._sqlite3__wasm_test_stack_overflow=ee.sqlite3__wasm_test_stack_overflow)(d),n._sqlite3__wasm_test_str_hello=d=>(n._sqlite3__wasm_test_str_hello=ee.sqlite3__wasm_test_str_hello)(d),n._sqlite3__wasm_SQLTester_strglob=(d,f)=>(n._sqlite3__wasm_SQLTester_strglob=ee.sqlite3__wasm_SQLTester_strglob)(d,f),n._malloc=d=>(n._malloc=ee.malloc)(d),n._free=d=>(n._free=ee.free)(d),n._realloc=(d,f)=>(n._realloc=ee.realloc)(d,f);var ec=(d,f)=>(ec=ee.emscripten_builtin_memalign)(d,f);n.wasmMemory=B;var Ia;lt=function d(){Ia||tc(),Ia||(lt=d)};function tc(){if(xe>0||(Ce(),xe>0))return;function d(){Ia||(Ia=!0,n.calledRun=!0,!z&&(je(),o(n),n.onRuntimeInitialized?.(),ve()))}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),d()},1)):d()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return tc(),n.postRun||(n.postRun=[]),n.postRun.push(function(d){if(globalThis.sqlite3ApiBootstrap=function f(g=globalThis.sqlite3ApiConfig||f.defaultConfig){if(f.sqlite3)return(f.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),f.sqlite3;const _=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof d<"u"&&d.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},g||{});Object.assign(_,{allocExportName:_.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:_.useStdAlloc?"free":"sqlite3_free",reallocExportName:_.useStdAlloc?"realloc":"sqlite3_realloc"},_),["exports","memory","wasmfsOpfsDir"].forEach(O=>{typeof _[O]=="function"&&(_[O]=_[O]())}),delete globalThis.sqlite3ApiConfig,delete f.defaultConfig;const S=Object.create(null),k=Object.create(null),X=O=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(O)||"Unknown result code #"+O,te=O=>typeof O=="number"&&O===(O|0);class Fe extends Error{constructor(...D){let $;if(D.length)if(te(D[0]))if($=D[0],D.length===1)super(X(D[0]));else{const qe=X($);typeof D[1]=="object"?super(qe,D[1]):(D[0]=qe+":",super(D.join(" ")))}else D.length===2&&typeof D[1]=="object"?super(...D):super(D.join(" "));this.resultCode=$||S.SQLITE_ERROR,this.name="SQLite3Error"}}Fe.toss=(...O)=>{throw new Fe(...O)};const ze=Fe.toss;_.wasmfsOpfsDir&&!/^\/[^/]+$/.test(_.wasmfsOpfsDir)&&ze("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Je=O=>typeof O!="bigint"&&O===(O|0)&&O<=0x7fffffff&&O>=-0x80000000,rt=function O(D){return O._max||(O._max=BigInt("0x7fffffffffffffff"),O._min=~O._max),D>=O._min&&D<=O._max},Te=O=>O>=-2147483647n-1n&&O<=2147483647n,we=function O(D){return O._min||(O._min=Number.MIN_SAFE_INTEGER,O._max=Number.MAX_SAFE_INTEGER),D>=O._min&&D<=O._max},Ue=O=>O&&O.constructor&&Je(O.constructor.BYTES_PER_ELEMENT)?O:!1,oe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,he=O=>O.buffer instanceof oe,_e=(O,D,$)=>he(O)?O.slice(D,$):O.subarray(D,$),We=O=>O&&(O instanceof Uint8Array||O instanceof Int8Array||O instanceof ArrayBuffer),Be=O=>O&&(O instanceof Uint8Array||O instanceof Int8Array||O instanceof ArrayBuffer),be=O=>We(O)||ze("Value is not of a supported TypedArray type."),Me=new TextDecoder("utf-8"),ht=function(O,D,$){return Me.decode(_e(O,D,$))},L=function(O){return Be(O)?ht(O instanceof ArrayBuffer?new Uint8Array(O):O):Array.isArray(O)?O.join(""):(k.isPtr(O)&&(O=k.cstrToJs(O)),O)};class J extends Error{constructor(...D){D.length===2&&typeof D[1]=="object"?super(...D):D.length?super(D.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}J.toss=(...O)=>{throw new J(...O)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(O,D,$,qe,He,St,jt,Bt,Ze)=>{},sqlite3_create_function:(O,D,$,qe,He,St,jt,Bt)=>{},sqlite3_create_window_function:(O,D,$,qe,He,St,jt,Bt,Ze,ce)=>{},sqlite3_prepare_v3:(O,D,$,qe,He,St)=>{},sqlite3_prepare_v2:(O,D,$,qe,He)=>{},sqlite3_exec:(O,D,$,qe,He)=>{},sqlite3_randomness:(O,D)=>{}});const fe={affirmBindableTypedArray:be,flexibleString:L,bigIntFits32:Te,bigIntFits64:rt,bigIntFitsDouble:we,isBindableTypedArray:We,isInt32:Je,isSQLableTypedArray:Be,isTypedArray:Ue,typedArrayToString:ht,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:he,toss:function(...O){throw new Error(O.join(" "))},toss3:ze,typedArrayPart:_e,affirmDbHeader:function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));const D="SQLite format 3";D.length>O.byteLength&&ze("Input does not contain an SQLite3 database header.");for(let $=0;$<D.length;++$)D.charCodeAt($)!==O[$]&&ze("Input does not contain an SQLite3 database header.")},affirmIsDb:function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));const D=O.byteLength;(D<512||D%512!==0)&&ze("Byte array size",D,"is invalid for an SQLite3 db."),fe.affirmDbHeader(O)}};Object.assign(k,{ptrSizeof:_.wasmPtrSizeof||4,ptrIR:_.wasmPtrIR||"i32",bigIntEnabled:!!_.bigIntEnabled,exports:_.exports||ze("Missing API config.exports (WASM module exports)."),memory:_.memory||_.exports.memory||ze("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),k.allocFromTypedArray=function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O)),be(O);const D=k.alloc(O.byteLength||1);return k.heapForSize(O.constructor).set(O.byteLength?O:[0],D),D};{const O=_.allocExportName,D=_.deallocExportName,$=_.reallocExportName;for(const qe of[O,D,$])k.exports[qe]instanceof Function||ze("Missing required exports[",qe,"] function.");k.alloc=function qe(He){return qe.impl(He)||J.toss("Failed to allocate",He," bytes.")},k.alloc.impl=k.exports[O],k.realloc=function qe(He,St){const jt=qe.impl(He,St);return St?jt||J.toss("Failed to reallocate",St," bytes."):0},k.realloc.impl=k.exports[$],k.dealloc=k.exports[D]}k.compileOptionUsed=function O(D){if(arguments.length){if(Array.isArray(D)){const $={};return D.forEach(qe=>{$[qe]=S.sqlite3_compileoption_used(qe)}),$}else if(typeof D=="object")return Object.keys(D).forEach($=>{D[$]=S.sqlite3_compileoption_used($)}),D}else{if(O._result)return O._result;O._opt||(O._rx=/^([^=]+)=(.+)/,O._rxInt=/^-?\d+$/,O._opt=function(jt,Bt){const Ze=O._rx.exec(jt);Bt[0]=Ze?Ze[1]:jt,Bt[1]=Ze?O._rxInt.test(Ze[2])?+Ze[2]:Ze[2]:!0});const $={},qe=[0,0];let He=0,St;for(;St=S.sqlite3_compileoption_get(He++);)O._opt(St,qe),$[qe[0]]=qe[1];return O._result=$}return typeof D=="string"?!!S.sqlite3_compileoption_used(D):!1},k.pstack=Object.assign(Object.create(null),{restore:k.exports.sqlite3__wasm_pstack_restore,alloc:function(O){return typeof O=="string"&&!(O=k.sizeofIR(O))&&J.toss("Invalid value for pstack.alloc(",arguments[0],")"),k.exports.sqlite3__wasm_pstack_alloc(O)||J.toss("Could not allocate",O,"bytes from the pstack.")},allocChunks:function(O,D){typeof D=="string"&&!(D=k.sizeofIR(D))&&J.toss("Invalid size value for allocChunks(",arguments[1],")");const $=k.pstack.alloc(O*D),qe=[];let He=0,St=0;for(;He<O;++He,St+=D)qe.push($+St);return qe},allocPtr:(O=1,D=!0)=>O===1?k.pstack.alloc(D?8:k.ptrSizeof):k.pstack.allocChunks(O,D?8:k.ptrSizeof),call:function(O){const D=k.pstack.pointer;try{return O(Y)}finally{k.pstack.restore(D)}}}),Object.defineProperties(k.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...O)=>{if(O.length===1&&fe.isTypedArray(O[0])&&O[0].BYTES_PER_ELEMENT===1){const D=O[0];if(D.byteLength===0)return k.exports.sqlite3_randomness(0,0),D;const $=k.pstack.pointer;try{let qe=D.byteLength,He=0;const St=k.exports.sqlite3_randomness,jt=k.heap8u(),Bt=qe<512?qe:512,Ze=k.pstack.alloc(Bt);do{const ce=qe>Bt?Bt:qe;St(ce,Ze),D.set(_e(jt,Ze,Ze+ce),He),qe-=ce,He+=ce}while(qe>0)}catch(qe){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",qe)}finally{k.pstack.restore($)}return D}k.exports.sqlite3_randomness(...O)};let Qe;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Qe!==void 0)return Qe;const O=_.wasmfsOpfsDir;if(!O||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Qe="";try{return O&&k.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],O)===0?Qe=O:Qe=""}catch{return Qe=""}},S.sqlite3_wasmfs_filename_is_persistent=function(O){const D=S.sqlite3_wasmfs_opfs_dir();return D&&O?O.startsWith(D+"/"):!1},S.sqlite3_js_db_uses_vfs=function(O,D,$=0){try{const qe=S.sqlite3_vfs_find(D);return qe?O?qe===S.sqlite3_js_db_vfs(O,$)?qe:!1:qe===S.sqlite3_vfs_find(0)?qe:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const O=[];let D=S.sqlite3_vfs_find(0);for(;D;){const $=new S.sqlite3_vfs(D);O.push(k.cstrToJs($.$zName)),D=$.$pNext,$.dispose()}return O},S.sqlite3_js_db_export=function(O,D=0){O=k.xWrap.testConvertArg("sqlite3*",O),O||ze("Invalid sqlite3* argument."),k.bigIntEnabled||ze("BigInt64 support is not enabled.");const $=k.scopedAllocPush();let qe;try{const He=k.scopedAlloc(8+k.ptrSizeof),St=He+8,jt=D?k.isPtr(D)?D:k.scopedAllocCString(""+D):0;let Bt=k.exports.sqlite3__wasm_db_serialize(O,jt,St,He,0);Bt&&ze("Database serialization failed with code",Y.capi.sqlite3_js_rc_str(Bt)),qe=k.peekPtr(St);const Ze=k.peek(He,"i64");return Bt=Ze?k.heap8u().slice(qe,qe+Number(Ze)):new Uint8Array,Bt}finally{qe&&k.exports.sqlite3_free(qe),k.scopedAllocPop($)}},S.sqlite3_js_db_vfs=(O,D=0)=>fe.sqlite3__wasm_db_vfs(O,D),S.sqlite3_js_aggregate_context=(O,D)=>S.sqlite3_aggregate_context(O,D)||(D?J.toss("Cannot allocate",D,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(O,D,$){let qe;D&&k.isPtr(D)?qe=D:D instanceof ArrayBuffer||D instanceof Uint8Array?(qe=k.allocFromTypedArray(D),(arguments.length<3||!fe.isInt32($)||$<0)&&($=D.byteLength)):Fe.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!fe.isInt32($)||$<0)&&Fe.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const He=fe.sqlite3__wasm_posix_create_file(O,qe,$);He&&Fe.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(He))}finally{k.dealloc(qe)}},S.sqlite3_js_vfs_create_file=function(O,D,$,qe){_.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let He;$?(k.isPtr($)?He=$:$ instanceof ArrayBuffer&&($=new Uint8Array($)),$ instanceof Uint8Array?(He=k.allocFromTypedArray($),(arguments.length<4||!fe.isInt32(qe)||qe<0)&&(qe=$.byteLength)):Fe.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):He=0,(!fe.isInt32(qe)||qe<0)&&(k.dealloc(He),Fe.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const St=fe.sqlite3__wasm_vfs_create_file(O,D,He,qe);St&&Fe.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(St))}finally{k.dealloc(He)}},S.sqlite3_js_sql_to_string=O=>{if(typeof O=="string")return O;const D=L(v);return D===v?void 0:D},fe.isUIThread()){const O=function(D){const $=Object.create(null);return $.prefix="kvvfs-"+D,$.stores=[],(D==="session"||D==="")&&$.stores.push(globalThis.sessionStorage),(D==="local"||D==="")&&$.stores.push(globalThis.localStorage),$};S.sqlite3_js_kvvfs_clear=function(D=""){let $=0;const qe=O(D);return qe.stores.forEach(He=>{const St=[];let jt;for(jt=0;jt<He.length;++jt){const Bt=He.key(jt);Bt.startsWith(qe.prefix)&&St.push(Bt)}St.forEach(Bt=>He.removeItem(Bt)),$+=St.length}),$},S.sqlite3_js_kvvfs_size=function(D=""){let $=0;const qe=O(D);return qe.stores.forEach(He=>{let St;for(St=0;St<He.length;++St){const jt=He.key(St);jt.startsWith(qe.prefix)&&($+=jt.length,$+=He.getItem(jt).length)}}),$*2}}S.sqlite3_db_config=function(O,D,...$){switch(this.s||(this.s=k.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=k.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=k.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),D){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(O,D,$[0],$[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(O,D,$[0],$[1],$[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(O,D,$[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(O,D=!0){let $;const qe=S.sqlite3_value_type(O);switch(qe){case S.SQLITE_INTEGER:k.bigIntEnabled?($=S.sqlite3_value_int64(O),fe.bigIntFitsDouble($)&&($=Number($))):$=S.sqlite3_value_double(O);break;case S.SQLITE_FLOAT:$=S.sqlite3_value_double(O);break;case S.SQLITE_TEXT:$=S.sqlite3_value_text(O);break;case S.SQLITE_BLOB:{const He=S.sqlite3_value_bytes(O),St=S.sqlite3_value_blob(O);He&&!St&&Y.WasmAllocError.toss("Cannot allocate memory for blob argument of",He,"byte(s)"),$=He?k.heap8u().slice(St,St+Number(He)):null;break}case S.SQLITE_NULL:$=null;break;default:D&&ze(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",qe),$=void 0}return $},S.sqlite3_values_to_js=function(O,D,$=!0){let qe;const He=[];for(qe=0;qe<O;++qe)He.push(S.sqlite3_value_to_js(k.peekPtr(D+k.ptrSizeof*qe),$));return He},S.sqlite3_result_error_js=function(O,D){D instanceof J?S.sqlite3_result_error_nomem(O):S.sqlite3_result_error(O,""+D,-1)},S.sqlite3_result_js=function(O,D){if(D instanceof Error){S.sqlite3_result_error_js(O,D);return}try{switch(typeof D){case"undefined":break;case"boolean":S.sqlite3_result_int(O,D?1:0);break;case"bigint":fe.bigIntFits32(D)?S.sqlite3_result_int(O,Number(D)):fe.bigIntFitsDouble(D)?S.sqlite3_result_double(O,Number(D)):k.bigIntEnabled?fe.bigIntFits64(D)?S.sqlite3_result_int64(O,D):ze("BigInt value",D.toString(),"is too BigInt for int64."):ze("BigInt value",D.toString(),"is too BigInt.");break;case"number":{let $;fe.isInt32(D)?$=S.sqlite3_result_int:k.bigIntEnabled&&Number.isInteger(D)&&fe.bigIntFits64(BigInt(D))?$=S.sqlite3_result_int64:$=S.sqlite3_result_double,$(O,D);break}case"string":{const[$,qe]=k.allocCString(D,!0);S.sqlite3_result_text(O,$,qe,S.SQLITE_WASM_DEALLOC);break}case"object":if(D===null){S.sqlite3_result_null(O);break}else if(fe.isBindableTypedArray(D)){const $=k.allocFromTypedArray(D);S.sqlite3_result_blob(O,$,D.byteLength,S.SQLITE_WASM_DEALLOC);break}default:ze("Don't not how to handle this UDF result value:",typeof D,D)}}catch($){S.sqlite3_result_error_js(O,$)}},S.sqlite3_column_js=function(O,D,$=!0){const qe=S.sqlite3_column_value(O,D);return qe===0?void 0:S.sqlite3_value_to_js(qe,$)};const U=function(O,D,$){$=S[$],this.ptr?k.pokePtr(this.ptr,0):this.ptr=k.allocPtr();const qe=$(O,D,this.ptr);if(qe)return Fe.toss(qe,arguments[2]+"() failed with code "+qe);const He=k.peekPtr(this.ptr);return He?S.sqlite3_value_to_js(He,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(O,D)=>U(O,D,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(O,D)=>U(O,D,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(O,D)=>U(O,D,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(O,D)=>U(O,D,"sqlite3changeset_old");const Y={WasmAllocError:J,SQLite3Error:Fe,capi:S,util:fe,wasm:k,config:_,version:Object.create(null),client:void 0,asyncPostInit:async function O(){if(O.isReady instanceof Promise)return O.isReady;let D=f.initializersAsync;delete f.initializersAsync;const $=async()=>(Y.__isUnderTest||(delete Y.util,delete Y.StructBinder),Y),qe=St=>{throw _.error("an async sqlite3 initializer failed:",St),St};if(!D||!D.length)return O.isReady=$().catch(qe);D=D.map(St=>St instanceof Function?async jt=>St(Y):St),D.push($);let He=Promise.resolve(Y);for(;D.length;)He=He.then(D.shift());return O.isReady=He.catch(qe)},scriptInfo:void 0};try{f.initializers.forEach(O=>{O(Y)})}catch(O){throw console.error("sqlite3 bootstrap initializer threw:",O),O}return delete f.initializers,f.sqlite3=Y,Y},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(f){f.bigIntEnabled===void 0&&(f.bigIntEnabled=!!globalThis.BigInt64Array);const g=(...L)=>{throw new Error(L.join(" "))};f.exports||Object.defineProperty(f,"exports",{enumerable:!0,configurable:!0,get:()=>f.instance&&f.instance.exports});const _=f.pointerIR||"i32",S=f.ptrSizeof=_==="i32"?4:_==="i64"?8:g("Unhandled ptrSizeof:",_),k=Object.create(null);k.heapSize=0,k.memory=null,k.freeFuncIndexes=[],k.scopedAlloc=[],k.utf8Decoder=new TextDecoder,k.utf8Encoder=new TextEncoder("utf-8"),f.sizeofIR=L=>{switch(L){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+L).endsWith("*")?S:void 0}};const X=function(){if(!k.memory)k.memory=f.memory instanceof WebAssembly.Memory?f.memory:f.exports.memory;else if(k.heapSize===k.memory.buffer.byteLength)return k;const L=k.memory.buffer;return k.HEAP8=new Int8Array(L),k.HEAP8U=new Uint8Array(L),k.HEAP16=new Int16Array(L),k.HEAP16U=new Uint16Array(L),k.HEAP32=new Int32Array(L),k.HEAP32U=new Uint32Array(L),f.bigIntEnabled&&(k.HEAP64=new BigInt64Array(L),k.HEAP64U=new BigUint64Array(L)),k.HEAP32F=new Float32Array(L),k.HEAP64F=new Float64Array(L),k.heapSize=L.byteLength,k};f.heap8=()=>X().HEAP8,f.heap8u=()=>X().HEAP8U,f.heap16=()=>X().HEAP16,f.heap16u=()=>X().HEAP16U,f.heap32=()=>X().HEAP32,f.heap32u=()=>X().HEAP32U,f.heapForSize=function(L,J=!0){const fe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X();switch(L){case Int8Array:return fe.HEAP8;case Uint8Array:return fe.HEAP8U;case Int16Array:return fe.HEAP16;case Uint16Array:return fe.HEAP16U;case Int32Array:return fe.HEAP32;case Uint32Array:return fe.HEAP32U;case 8:return J?fe.HEAP8U:fe.HEAP8;case 16:return J?fe.HEAP16U:fe.HEAP16;case 32:return J?fe.HEAP32U:fe.HEAP32;case 64:if(fe.HEAP64)return J?fe.HEAP64U:fe.HEAP64;break;default:if(f.bigIntEnabled){if(L===globalThis.BigUint64Array)return fe.HEAP64U;if(L===globalThis.BigInt64Array)return fe.HEAP64;break}}g("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},f.functionTable=function(){return f.exports.__indirect_function_table},f.functionEntry=function(L){const J=f.functionTable();return L<J.length?J.get(L):void 0},f.jsFuncToWasm=function L(J,fe){if(L._||(L._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(Y,O,D){D<128?Y[O](D):Y[O](D%128|128,D>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(Y){const O=L._.rxJSig.exec(Y);return O?O[2]:Y.substr(1)},letterType:Y=>L._.sigTypes[Y]||g("Invalid signature letter:",Y),pushSigType:(Y,O)=>Y.push(L._.typeCodes[L._.letterType(O)])}),typeof J=="string"){const Y=fe;fe=J,J=Y}const Qe=L._.sigParams(fe),U=[1,96];L._.uleb128Encode(U,"push",Qe.length);for(const Y of Qe)L._.pushSigType(U,Y);return fe[0]==="v"?U.push(0):(U.push(1),L._.pushSigType(U,fe[0])),L._.uleb128Encode(U,"unshift",U.length),U.unshift(0,97,115,109,1,0,0,0,1),U.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(U)),{e:{f:J}}).exports.f};const te=function(J,fe,Qe){if(Qe&&!k.scopedAlloc.length&&g("No scopedAllocPush() scope is active."),typeof J=="string"){const D=fe;fe=J,J=D}(typeof fe!="string"||!(J instanceof Function))&&g("Invalid arguments: expecting (function,signature) or (signature,function).");const U=f.functionTable(),Y=U.length;let O;for(;k.freeFuncIndexes.length&&(O=k.freeFuncIndexes.pop(),U.get(O));){O=null;continue}O||(O=Y,U.grow(1));try{return U.set(O,J),Qe&&k.scopedAlloc[k.scopedAlloc.length-1].push(O),O}catch(D){if(!(D instanceof TypeError))throw O===Y&&k.freeFuncIndexes.push(Y),D}try{const D=f.jsFuncToWasm(J,fe);U.set(O,D),Qe&&k.scopedAlloc[k.scopedAlloc.length-1].push(O)}catch(D){throw O===Y&&k.freeFuncIndexes.push(Y),D}return O};f.installFunction=(L,J)=>te(L,J,!1),f.scopedInstallFunction=(L,J)=>te(L,J,!0),f.uninstallFunction=function(L){if(!L&&L!==0)return;const J=k.freeFuncIndexes,fe=f.functionTable();J.push(L);const Qe=fe.get(L);return fe.set(L,null),Qe},f.peek=function(J,fe="i8"){fe.endsWith("*")&&(fe=_);const Qe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X(),U=Array.isArray(J)?[]:void 0;let Y;do{switch(U&&(J=arguments[0].shift()),fe){case"i1":case"i8":Y=Qe.HEAP8[J>>0];break;case"i16":Y=Qe.HEAP16[J>>1];break;case"i32":Y=Qe.HEAP32[J>>2];break;case"float":case"f32":Y=Qe.HEAP32F[J>>2];break;case"double":case"f64":Y=Number(Qe.HEAP64F[J>>3]);break;case"i64":if(f.bigIntEnabled){Y=BigInt(Qe.HEAP64[J>>3]);break}default:g("Invalid type for peek():",fe)}U&&U.push(Y)}while(U&&arguments[0].length);return U||Y},f.poke=function(L,J,fe="i8"){fe.endsWith("*")&&(fe=_);const Qe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X();for(const U of Array.isArray(L)?L:[L])switch(fe){case"i1":case"i8":Qe.HEAP8[U>>0]=J;continue;case"i16":Qe.HEAP16[U>>1]=J;continue;case"i32":Qe.HEAP32[U>>2]=J;continue;case"float":case"f32":Qe.HEAP32F[U>>2]=J;continue;case"double":case"f64":Qe.HEAP64F[U>>3]=J;continue;case"i64":if(Qe.HEAP64){Qe.HEAP64[U>>3]=BigInt(J);continue}default:g("Invalid type for poke(): "+fe)}return this},f.peekPtr=(...L)=>f.peek(L.length===1?L[0]:L,_),f.pokePtr=(L,J=0)=>f.poke(L,J,_),f.peek8=(...L)=>f.peek(L.length===1?L[0]:L,"i8"),f.poke8=(L,J)=>f.poke(L,J,"i8"),f.peek16=(...L)=>f.peek(L.length===1?L[0]:L,"i16"),f.poke16=(L,J)=>f.poke(L,J,"i16"),f.peek32=(...L)=>f.peek(L.length===1?L[0]:L,"i32"),f.poke32=(L,J)=>f.poke(L,J,"i32"),f.peek64=(...L)=>f.peek(L.length===1?L[0]:L,"i64"),f.poke64=(L,J)=>f.poke(L,J,"i64"),f.peek32f=(...L)=>f.peek(L.length===1?L[0]:L,"f32"),f.poke32f=(L,J)=>f.poke(L,J,"f32"),f.peek64f=(...L)=>f.peek(L.length===1?L[0]:L,"f64"),f.poke64f=(L,J)=>f.poke(L,J,"f64"),f.getMemValue=f.peek,f.getPtrValue=f.peekPtr,f.setMemValue=f.poke,f.setPtrValue=f.pokePtr,f.isPtr32=L=>typeof L=="number"&&L===(L|0)&&L>=0,f.isPtr=f.isPtr32,f.cstrlen=function(L){if(!L||!f.isPtr(L))return null;const J=X().HEAP8U;let fe=L;for(;J[fe]!==0;++fe);return fe-L};const Fe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,ze=function(L,J,fe){return k.utf8Decoder.decode(L.buffer instanceof Fe?L.slice(J,fe):L.subarray(J,fe))};f.cstrToJs=function(L){const J=f.cstrlen(L);return J?ze(X().HEAP8U,L,L+J):J===null?J:""},f.jstrlen=function(L){if(typeof L!="string")return null;const J=L.length;let fe=0;for(let Qe=0;Qe<J;++Qe){let U=L.charCodeAt(Qe);U>=55296&&U<=57343&&(U=65536+((U&1023)<<10)|L.charCodeAt(++Qe)&1023),U<=127?++fe:U<=2047?fe+=2:U<=65535?fe+=3:fe+=4}return fe},f.jstrcpy=function(L,J,fe=0,Qe=-1,U=!0){if((!J||!(J instanceof Int8Array)&&!(J instanceof Uint8Array))&&g("jstrcpy() target must be an Int8Array or Uint8Array."),Qe<0&&(Qe=J.length-fe),!(Qe>0)||!(fe>=0))return 0;let Y=0,O=L.length;const D=fe,$=fe+Qe-(U?1:0);for(;Y<O&&fe<$;++Y){let qe=L.charCodeAt(Y);if(qe>=55296&&qe<=57343&&(qe=65536+((qe&1023)<<10)|L.charCodeAt(++Y)&1023),qe<=127){if(fe>=$)break;J[fe++]=qe}else if(qe<=2047){if(fe+1>=$)break;J[fe++]=192|qe>>6,J[fe++]=128|qe&63}else if(qe<=65535){if(fe+2>=$)break;J[fe++]=224|qe>>12,J[fe++]=128|qe>>6&63,J[fe++]=128|qe&63}else{if(fe+3>=$)break;J[fe++]=240|qe>>18,J[fe++]=128|qe>>12&63,J[fe++]=128|qe>>6&63,J[fe++]=128|qe&63}}return U&&(J[fe++]=0),fe-D},f.cstrncpy=function(L,J,fe){if((!L||!J)&&g("cstrncpy() does not accept NULL strings."),fe<0)fe=f.cstrlen(strPtr)+1;else if(!(fe>0))return 0;const Qe=f.heap8u();let U=0,Y;for(;U<fe&&(Y=Qe[J+U]);++U)Qe[L+U]=Y;return U<fe&&(Qe[L+U++]=0),U},f.jstrToUintArray=(L,J=!1)=>k.utf8Encoder.encode(J?L+"\0":L);const Je=(L,J)=>{(!(L.alloc instanceof Function)||!(L.dealloc instanceof Function))&&g("Object is missing alloc() and/or dealloc() function(s)","required by",J+"().")},rt=function(L,J,fe,Qe){if(Je(f,Qe),typeof L!="string")return null;{const U=k.utf8Encoder.encode(L),Y=fe(U.length+1),O=X().HEAP8U;return O.set(U,Y),O[Y+U.length]=0,J?[Y,U.length]:Y}};f.allocCString=(L,J=!1)=>rt(L,J,f.alloc,"allocCString()"),f.scopedAllocPush=function(){Je(f,"scopedAllocPush");const L=[];return k.scopedAlloc.push(L),L},f.scopedAllocPop=function(L){Je(f,"scopedAllocPop");const J=arguments.length?k.scopedAlloc.indexOf(L):k.scopedAlloc.length-1;J<0&&g("Invalid state object for scopedAllocPop()."),arguments.length===0&&(L=k.scopedAlloc[J]),k.scopedAlloc.splice(J,1);for(let fe;fe=L.pop();)f.functionEntry(fe)?f.uninstallFunction(fe):f.dealloc(fe)},f.scopedAlloc=function(L){k.scopedAlloc.length||g("No scopedAllocPush() scope is active.");const J=f.alloc(L);return k.scopedAlloc[k.scopedAlloc.length-1].push(J),J},Object.defineProperty(f.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>k.scopedAlloc.length,set:()=>g("The 'active' property is read-only.")}),f.scopedAllocCString=(L,J=!1)=>rt(L,J,f.scopedAlloc,"scopedAllocCString()");const Te=function(L,J){const fe=f[L?"scopedAlloc":"alloc"]((J.length+1)*f.ptrSizeof);let Qe=0;return J.forEach(U=>{f.pokePtr(fe+f.ptrSizeof*Qe++,f[L?"scopedAllocCString":"allocCString"](""+U))}),f.pokePtr(fe+f.ptrSizeof*Qe,0),fe};f.scopedAllocMainArgv=L=>Te(!0,L),f.allocMainArgv=L=>Te(!1,L),f.cArgvToJs=(L,J)=>{const fe=[];for(let Qe=0;Qe<L;++Qe){const U=f.peekPtr(J+f.ptrSizeof*Qe);fe.push(U?f.cstrToJs(U):null)}return fe},f.scopedAllocCall=function(L){f.scopedAllocPush();try{return L()}finally{f.scopedAllocPop()}};const we=function(L,J,fe){Je(f,fe);const Qe=J?"i64":_;let U=f[fe](L*(J?8:S));if(f.poke(U,0,Qe),L===1)return U;const Y=[U];for(let O=1;O<L;++O)U+=J?8:S,Y[O]=U,f.poke(U,0,Qe);return Y};f.allocPtr=(L=1,J=!0)=>we(L,J,"alloc"),f.scopedAllocPtr=(L=1,J=!0)=>we(L,J,"scopedAlloc"),f.xGet=function(L){return f.exports[L]||g("Cannot find exported symbol:",L)};const Ue=(L,J)=>g(L+"() requires",J,"argument(s).");f.xCall=function(L,...J){const fe=L instanceof Function?L:f.xGet(L);return fe instanceof Function||g("Exported symbol",L,"is not a function."),fe.length!==J.length&&Ue(fe===L?fe.name:L,fe.length),arguments.length===2&&Array.isArray(arguments[1])?fe.apply(null,arguments[1]):fe.apply(null,J)},k.xWrap=Object.create(null),k.xWrap.convert=Object.create(null),k.xWrap.convert.arg=new Map,k.xWrap.convert.result=new Map;const oe=k.xWrap.convert.arg,he=k.xWrap.convert.result;f.bigIntEnabled&&oe.set("i64",L=>BigInt(L));const _e=_==="i32"?L=>L|0:L=>BigInt(L)|BigInt(0);oe.set("i32",_e).set("i16",L=>(L|0)&65535).set("i8",L=>(L|0)&255).set("f32",L=>Number(L).valueOf()).set("float",oe.get("f32")).set("f64",oe.get("f32")).set("double",oe.get("f64")).set("int",oe.get("i32")).set("null",L=>L).set(null,oe.get("null")).set("**",_e).set("*",_e),he.set("*",_e).set("pointer",_e).set("number",L=>Number(L)).set("void",L=>{}).set("null",L=>L).set(null,he.get("null"));{const L=["i8","i16","i32","int","f32","float","f64","double"];f.bigIntEnabled&&L.push("i64");const J=oe.get(_);for(const fe of L)oe.set(fe+"*",J),he.set(fe+"*",J),he.set(fe,oe.get(fe)||g("Missing arg converter:",fe))}const We=function(L){return typeof L=="string"?f.scopedAllocCString(L):L?_e(L):null};oe.set("string",We).set("utf8",We).set("pointer",We),he.set("string",L=>f.cstrToJs(L)).set("utf8",he.get("string")).set("string:dealloc",L=>{try{return L?f.cstrToJs(L):null}finally{f.dealloc(L)}}).set("utf8:dealloc",he.get("string:dealloc")).set("json",L=>JSON.parse(f.cstrToJs(L))).set("json:dealloc",L=>{try{return L?JSON.parse(f.cstrToJs(L)):null}finally{f.dealloc(L)}});const Be=class{constructor(L){this.name=L.name||"unnamed adapter"}convertArg(L,J,fe){g("AbstractArgAdapter must be subclassed.")}};oe.FuncPtrAdapter=class ao extends Be{constructor(J){super(J),oe.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",J),this.name=J.name||"unnamed",this.signature=J.signature,J.contextKey instanceof Function&&(this.contextKey=J.contextKey,J.bindScope||(J.bindScope="context")),this.bindScope=J.bindScope||g("FuncPtrAdapter options requires a bindScope (explicit or implied)."),ao.bindScopes.indexOf(J.bindScope)<0&&g("Invalid options.bindScope ("+J.bindMod+") for FuncPtrAdapter. Expecting one of: ("+ao.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=J.callProxy instanceof Function?J.callProxy:void 0}contextKey(J,fe){return this}contextMap(J){const fe=this.__cmap||(this.__cmap=new Map);let Qe=fe.get(J);return Qe===void 0&&fe.set(J,Qe=[]),Qe}convertArg(J,fe,Qe){let U=this.singleton;if(!U&&this.isContext&&(U=this.contextMap(this.contextKey(fe,Qe))),U&&U[0]===J)return U[1];if(J instanceof Function){this.callProxy&&(J=this.callProxy(J));const Y=te(J,this.signature,this.isTransient);if(ao.debugFuncInstall&&ao.debugOut("FuncPtrAdapter installed",this,this.contextKey(fe,Qe),"@"+Y,J),U){if(U[1]){ao.debugFuncInstall&&ao.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(fe,Qe),"@"+U[1],J);try{k.scopedAlloc[k.scopedAlloc.length-1].push(U[1])}catch{}}U[0]=J,U[1]=Y}return Y}else if(f.isPtr(J)||J===null||J===void 0){if(U&&U[1]&&U[1]!==J){ao.debugFuncInstall&&ao.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(fe,Qe),"@"+U[1],J);try{k.scopedAlloc[k.scopedAlloc.length-1].push(U[1])}catch{}U[0]=U[1]=J|0}return J||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},oe.FuncPtrAdapter.warnOnUse=!1,oe.FuncPtrAdapter.debugFuncInstall=!1,oe.FuncPtrAdapter.debugOut=console.debug.bind(console),oe.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const be=L=>oe.get(L)||g("Argument adapter not found:",L),Me=L=>he.get(L)||g("Result adapter not found:",L);k.xWrap.convertArg=(L,...J)=>be(L)(...J),k.xWrap.convertArgNoCheck=(L,...J)=>oe.get(L)(...J),k.xWrap.convertResult=(L,J)=>L===null?J:L?Me(L)(J):void 0,k.xWrap.convertResultNoCheck=(L,J)=>L===null?J:L?he.get(L)(J):void 0,f.xWrap=function(L,J,...fe){arguments.length===3&&Array.isArray(arguments[2])&&(fe=arguments[2]),f.isPtr(L)&&(L=f.functionEntry(L)||g("Function pointer not found in WASM function table."));const Qe=L instanceof Function,U=Qe?L:f.xGet(L);if(Qe&&(L=U.name||"unnamed function"),fe.length!==U.length&&Ue(L,U.length),J===null&&U.length===0)return U;J!=null&&Me(J);for(const O of fe)O instanceof Be?oe.set(O,(...D)=>O.convertArg(...D)):be(O);const Y=k.xWrap;return U.length===0?(...O)=>O.length?Ue(L,U.length):Y.convertResult(J,U.call(null)):function(...O){O.length!==U.length&&Ue(L,U.length);const D=f.scopedAllocPush();try{let $=0;for(;$<O.length;++$)O[$]=Y.convertArgNoCheck(fe[$],O[$],O,$);return Y.convertResultNoCheck(J,U.apply(null,O))}finally{f.scopedAllocPop(D)}}};const ht=function(L,J,fe,Qe,U,Y){if(typeof fe=="string"){if(J===1)return Y.get(fe);if(J===2){if(Qe)Qe instanceof Function||g(U,"requires a function argument.");else return delete Y.get(fe),L;return Y.set(fe,Qe),L}}g("Invalid arguments to",U)};return f.xWrap.resultAdapter=function L(J,fe){return ht(L,arguments.length,J,fe,"resultAdapter()",he)},f.xWrap.argAdapter=function L(J,fe){return ht(L,arguments.length,J,fe,"argAdapter()",oe)},f.xWrap.FuncPtrAdapter=oe.FuncPtrAdapter,f.xCallWrapped=function(L,J,fe,...Qe){return Array.isArray(arguments[3])&&(Qe=arguments[3]),f.xWrap(L,J,fe||[]).apply(null,Qe||[])},f.xWrap.testConvertArg=k.xWrap.convertArg,f.xWrap.testConvertResult=k.xWrap.convertResult,f},globalThis.WhWasmUtilInstaller.yawl=function(f){const g=()=>fetch(f.uri,{credentials:"same-origin"}),_=this,S=function(X){if(f.wasmUtilTarget){const te=(...ze)=>{throw new Error(ze.join(" "))},Fe=f.wasmUtilTarget;if(Fe.module=X.module,Fe.instance=X.instance,Fe.instance.exports.memory||(Fe.memory=f.imports&&f.imports.env&&f.imports.env.memory||te("Missing 'memory' object!")),!Fe.alloc&&X.instance.exports.malloc){const ze=X.instance.exports;Fe.alloc=function(Je){return ze.malloc(Je)||te("Allocation of",Je,"bytes failed.")},Fe.dealloc=function(Je){ze.free(Je)}}_(Fe)}return f.onload&&f.onload(X,f),X};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(g(),f.imports||{}).then(S)}:function(){return g().then(te=>te.arrayBuffer()).then(te=>WebAssembly.instantiate(te,f.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function f(g){const _=(...Ae)=>{throw new Error(Ae.join(" "))};!(g.heap instanceof WebAssembly.Memory)&&!(g.heap instanceof Function)&&_("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Ae){g[Ae]instanceof Function||_("Config option '"+Ae+"' must be a function.")});const S=f,k=g.heap instanceof Function?g.heap:()=>new Uint8Array(g.heap.buffer),X=g.alloc,te=g.dealloc,Fe=g.log||console.log.bind(console),ze=g.memberPrefix||"",Je=g.memberSuffix||"",rt=g.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!g.bigIntEnabled,Te=globalThis.BigInt,we=globalThis.BigInt64Array,Ue=g.ptrSizeof||4,oe=g.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Ae=null){Ae&&Ae.__flags&&(Ae=Ae.__flags);const st=function ct(wt){return arguments.length===0?ct.__flags:(wt<0?(delete ct.__flags.getter,delete ct.__flags.setter,delete ct.__flags.alloc,delete ct.__flags.dealloc):(ct.__flags.getter=(1&wt)!==0,ct.__flags.setter=(2&wt)!==0,ct.__flags.alloc=(4&wt)!==0,ct.__flags.dealloc=(8&wt)!==0),ct._flags)};return Object.defineProperty(st,"__flags",{iterable:!1,writable:!1,value:Object.create(Ae)}),Ae||st(0),st},S.debugFlags=S.__makeDebugFlags());const he=function(){const Ae=new ArrayBuffer(2);return new DataView(Ae).setInt16(0,256,!0),new Int16Array(Ae)[0]===256}(),_e=Ae=>Ae[1]==="(",We=Ae=>Ae==="P",Be=Ae=>_e(Ae)?"p":Ae[0],be=function(Ae){switch(Be(Ae)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return oe;case"j":return"i64";case"f":return"float";case"d":return"double"}_("Unhandled signature IR:",Ae)},Me=we?()=>!0:()=>_("BigInt64Array is not available."),ht=function(Ae){switch(Be(Ae)){case"p":case"P":case"s":{switch(Ue){case 4:return"getInt32";case 8:return Me()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Me()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}_("Unhandled DataView getter for signature:",Ae)},L=function(Ae){switch(Be(Ae)){case"p":case"P":case"s":{switch(Ue){case 4:return"setInt32";case 8:return Me()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Me()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}_("Unhandled DataView setter for signature:",Ae)},J=function(Ae){switch(Be(Ae)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Me()&&Te;case"p":case"P":case"s":switch(Ue){case 4:return Number;case 8:return Me()&&Te}break}_("Unhandled DataView set wrapper for signature:",Ae)},fe=(Ae,st)=>Ae+"::"+st,Qe=function(Ae,st){return()=>_(fe(Ae,st),"is read-only.")},U=new WeakMap,Y="(pointer-is-external)",O=function(Ae,st,ct){if(ct||(ct=U.get(st)),ct){if(U.delete(st),Array.isArray(st.ondispose)){let wt;for(;wt=st.ondispose.shift();)try{wt instanceof Function?wt.call(st):wt instanceof Pt?wt.dispose():typeof wt=="number"&&te(wt)}catch(tr){console.warn("ondispose() for",Ae.structName,"@",ct,"threw. NOT propagating it.",tr)}}else if(st.ondispose instanceof Function)try{st.ondispose()}catch(wt){console.warn("ondispose() for",Ae.structName,"@",ct,"threw. NOT propagating it.",wt)}delete st.ondispose,Ae.debugFlags.__flags.dealloc&&Fe("debug.dealloc:",st[Y]?"EXTERNAL":"",Ae.structName,"instance:",Ae.structInfo.sizeof,"bytes @"+ct),st[Y]||te(ct)}},D=Ae=>({configurable:!1,writable:!1,iterable:!1,value:Ae}),$=function(Ae,st,ct){let wt=!ct;ct?Object.defineProperty(st,Y,D(ct)):(ct=X(Ae.structInfo.sizeof),ct||_("Allocation of",Ae.structName,"structure failed."));try{Ae.debugFlags.__flags.alloc&&Fe("debug.alloc:",wt?"":"EXTERNAL",Ae.structName,"instance:",Ae.structInfo.sizeof,"bytes @"+ct),wt&&k().fill(0,ct,ct+Ae.structInfo.sizeof),U.set(st,ct)}catch(tr){throw O(Ae,st,ct),tr}},qe=function(){const Ae=this.pointer;return Ae?new Uint8Array(k().slice(Ae,Ae+this.structInfo.sizeof)):null},St=D(Ae=>ze+Ae+Je),jt=function(Ae,st,ct=!0){let wt=Ae.members[st];if(!wt&&(ze||Je)){for(const tr of Object.values(Ae.members))if(tr.key===st){wt=tr;break}!wt&&ct&&_(fe(Ae.name,st),"is not a mapped struct member.")}return wt},Bt=function Ae(st,ct,wt=!1){Ae._||(Ae._=xr=>xr.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const tr=jt(st.structInfo,ct,!0);return wt?Ae._(tr.signature):tr.signature},Ze={configurable:!1,enumerable:!1,get:function(){return U.get(this)},set:()=>_("Cannot assign the 'pointer' property of a struct.")},ce=D(function(){const Ae=[];for(const st of Object.keys(this.structInfo.members))Ae.push(this.memberKey(st));return Ae}),Ne=new TextDecoder("utf-8"),Ke=new TextEncoder,et=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ot=function(Ae,st,ct){return Ne.decode(Ae.buffer instanceof et?Ae.slice(st,ct):Ae.subarray(st,ct))},Wt=function(Ae,st,ct=!1){const wt=jt(Ae.structInfo,st,ct);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},Se=function(Ae){Ae.signature!=="s"&&_("Invalid member type signature for C-string value:",JSON.stringify(Ae))},Ve=function(st,ct){const wt=jt(st.structInfo,ct,!0);Se(wt);const tr=st[wt.key];if(!tr)return null;let xr=tr;const gr=k();for(;gr[xr]!==0;++xr);return tr===xr?"":Ot(gr,tr,xr)},Xe=function(Ae,...st){Ae.ondispose?Array.isArray(Ae.ondispose)||(Ae.ondispose=[Ae.ondispose]):Ae.ondispose=[],Ae.ondispose.push(...st)},bt=function(Ae){const st=Ke.encode(Ae),ct=X(st.length+1);ct||_("Allocation error while duplicating string:",Ae);const wt=k();return wt.set(st,ct),wt[ct+st.length]=0,ct},ut=function(Ae,st,ct){const wt=jt(Ae.structInfo,st,!0);Se(wt);const tr=bt(ct);return Ae[wt.key]=tr,Xe(Ae,tr),Ae},Pt=function(st,ct){arguments[2]!==D&&_("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:D(st),structInfo:D(ct)})};Pt.prototype=Object.create(null,{dispose:D(function(){O(this.constructor,this)}),lookupMember:D(function(Ae,st=!0){return jt(this.structInfo,Ae,st)}),memberToJsString:D(function(Ae){return Ve(this,Ae)}),memberIsString:D(function(Ae,st=!0){return Wt(this,Ae,st)}),memberKey:St,memberKeys:ce,memberSignature:D(function(Ae,st=!1){return Bt(this,Ae,st)}),memoryDump:D(qe),pointer:Ze,setMemberCString:D(function(Ae,st){return ut(this,Ae,st)})}),Object.assign(Pt.prototype,{addOnDispose:function(...Ae){return Xe(this,...Ae),this}}),Object.defineProperties(Pt,{allocCString:D(bt),isA:D(Ae=>Ae instanceof Pt),hasExternalPointer:D(Ae=>Ae instanceof Pt&&!!Ae[Y]),memberKey:St});const Yt=Ae=>Number.isFinite(Ae)||Ae instanceof(Te||Number),Et=function Ae(st,ct,wt){if(!Ae._){Ae._={getters:{},setters:{},sw:{}};const wn=["i","c","C","p","P","s","f","d","v()"];rt&&wn.push("j"),wn.forEach(function(Pi){Ae._.getters[Pi]=ht(Pi),Ae._.setters[Pi]=L(Pi),Ae._.sw[Pi]=J(Pi)});const jm=/^[ipPsjfdcC]$/,Lm=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Ae.sigCheck=function(Pi,Fm,hf,rc){Object.prototype.hasOwnProperty.call(Pi,hf)&&_(Pi.structName,"already has a property named",hf+"."),jm.test(rc)||Lm.test(rc)||_("Malformed signature for",fe(Pi.structName,Fm)+":",rc)}}const tr=st.memberKey(ct);Ae.sigCheck(st.prototype,ct,tr,wt.signature),wt.key=tr,wt.name=ct;const xr=Be(wt.signature),gr=fe(st.prototype.structName,tr),br=st.prototype.debugFlags.__flags,Vs=Object.create(null);Vs.configurable=!1,Vs.enumerable=!1,Vs.get=function(){br.getter&&Fe("debug.getter:",Ae._.getters[xr],"for",be(xr),gr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let wn=new DataView(k().buffer,this.pointer+wt.offset,wt.sizeof)[Ae._.getters[xr]](0,he);return br.getter&&Fe("debug.getter:",gr,"result =",wn),wn},wt.readOnly?Vs.set=Qe(st.prototype.structName,tr):Vs.set=function(wn){if(br.setter&&Fe("debug.setter:",Ae._.setters[xr],"for",be(xr),gr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,wn),this.pointer||_("Cannot set struct property on disposed instance."),wn===null)wn=0;else for(;!Yt(wn);){if(We(wt.signature)&&wn instanceof Pt){wn=wn.pointer||0,br.setter&&Fe("debug.setter:",gr,"resolved to",wn);break}_("Invalid value for pointer-type",gr+".")}new DataView(k().buffer,this.pointer+wt.offset,wt.sizeof)[Ae._.setters[xr]](0,Ae._.sw[xr](wn),he)},Object.defineProperty(st.prototype,tr,Vs)},Hr=function Ae(st,ct){arguments.length===1?(ct=st,st=ct.name):ct.name||(ct.name=st),st||_("Struct name is required.");let wt=!1;Object.keys(ct.members).forEach(gr=>{const br=ct.members[gr];br.sizeof?br.sizeof===1?br.signature==="c"||br.signature==="C"||_("Unexpected sizeof==1 member",fe(ct.name,gr),"with signature",br.signature):(br.sizeof%4!==0&&(console.warn("Invalid struct member description =",br,"from",ct),_(st,"member",gr,"sizeof is not aligned. sizeof="+br.sizeof)),br.offset%4!==0&&(console.warn("Invalid struct member description =",br,"from",ct),_(st,"member",gr,"offset is not aligned. offset="+br.offset))):_(st,"member",gr,"is missing sizeof."),(!wt||wt.offset<br.offset)&&(wt=br)}),wt?ct.sizeof<wt.offset+wt.sizeof&&_("Invalid struct config:",st,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+ct.sizeof+")."):_("No member property descriptions found.");const tr=D(S.__makeDebugFlags(Ae.debugFlags)),xr=function gr(br){this instanceof gr?arguments.length?((br!==(br|0)||br<=0)&&_("Invalid pointer value for",st,"constructor."),$(gr,this,br)):$(gr,this):_("The",st,"constructor may only be called via 'new'.")};return Object.defineProperties(xr,{debugFlags:tr,isA:D(gr=>gr instanceof xr),memberKey:St,memberKeys:ce,methodInfoForKey:D(function(gr){}),structInfo:D(ct),structName:D(st)}),xr.prototype=new Pt(st,ct,D),Object.defineProperties(xr.prototype,{debugFlags:tr,constructor:D(xr)}),Object.keys(ct.members).forEach(gr=>Et(xr,gr,ct.members[gr])),xr};return Hr.StructType=Pt,Hr.config=g,Hr.allocCString=bt,Hr.debugFlags||(Hr.debugFlags=S.__makeDebugFlags(S.debugFlags)),Hr},globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const g=(...oe)=>{throw new Error(oe.join(" "))};f.SQLite3Error.toss;const _=f.capi,S=f.wasm,k=f.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(oe,he)=>oe[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:oe=>oe[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:oe=>{let he;return(_e,We,Be,be)=>{try{const Me=S.cArgvToJs(We,Be);return he||(he=S.cArgvToJs(We,be)),oe(Me,he)|0}catch(Me){return Me.resultCode||_.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:oe=>oe[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(oe,he)=>oe[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(oe,he)=>oe[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(oe,he)=>oe[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(oe,he)=>oe[0],callProxy:oe=>(he,_e,We,Be,be,Me)=>{try{return We=We&&S.cstrToJs(We),Be=Be&&S.cstrToJs(Be),be=be&&S.cstrToJs(be),Me=Me&&S.cstrToJs(Me),oe(he,_e,We,Be,be,Me)||0}catch(ht){return ht.resultCode||_.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:oe=>oe[0],callProxy:oe=>(he,_e,We,Be,be)=>{oe(he,_e,S.cstrToJs(We),S.cstrToJs(Be),be)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:oe=>oe[0],callProxy:oe=>(he,_e,We,Be,be,Me,ht)=>{oe(he,_e,We,S.cstrToJs(Be),S.cstrToJs(be),Me,ht)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const oe={signature:"i(ps)",callProxy:he=>(_e,We)=>{try{return he(_e,S.cstrToJs(We))|0}catch(Be){return Be.resultCode||_.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...oe,contextKey:(he,_e)=>he[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],f.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const oe=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",be=>oe(k.flexibleString(be))),S.xWrap.argAdapter("string:static",function(be){return S.isPtr(be)?be:(be=""+be,this[be]||(this[be]=S.allocCString(be)))}.bind(Object.create(null)));const he=S.xWrap.argAdapter("*"),_e=function(){};S.xWrap.argAdapter("sqlite3_filename",he)("sqlite3_context*",he)("sqlite3_value*",he)("void*",he)("sqlite3_changegroup*",he)("sqlite3_changeset_iter*",he)("sqlite3_session*",he)("sqlite3_stmt*",be=>he(be instanceof(f?.oo1?.Stmt||_e)?be.pointer:be))("sqlite3*",be=>he(be instanceof(f?.oo1?.DB||_e)?be.pointer:be))("sqlite3_vfs*",be=>typeof be=="string"?_.sqlite3_vfs_find(be)||f.SQLite3Error.toss(_.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",be):he(be instanceof(_.sqlite3_vfs||_e)?be.pointer:be)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",be=>he(be instanceof(_.sqlite3_index_info||_e)?be.pointer:be))("sqlite3_module*",be=>he(be instanceof(_.sqlite3_module||_e)?be.pointer:be));const We=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",We)("sqlite3_context*",We)("sqlite3_stmt*",We)("sqlite3_value*",We)("sqlite3_vfs*",We)("void*",We),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,f.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const be of S.bindingSignatures)_[be[0]]=S.xWrap.apply(null,be);for(const be of S.bindingSignatures.wasmInternal)k[be[0]]=S.xWrap.apply(null,be);const Be=function(be){return()=>g(be+"() is unavailable due to lack","of BigInt support in this build.")};for(const be of S.bindingSignatures.int64)_[be[0]]=S.bigIntEnabled?S.xWrap.apply(null,be):Be(be[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const be=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");k.sqlite3__wasm_db_error=function(Me,ht,L){return ht instanceof f.WasmAllocError?(ht=_.SQLITE_NOMEM,L=0):ht instanceof Error&&(L=L||""+ht,ht=ht.resultCode||_.SQLITE_ERROR),Me?be(Me,ht,L):ht}}else k.sqlite3__wasm_db_error=function(be,Me,ht){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Me}}{const oe=S.xCall("sqlite3__wasm_enum_json");oe||g("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(oe));const he=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&he.push("serialize","session","vtab");for(const Be of he)for(const be of Object.entries(S.ctype[Be]))_[be[0]]=be[1];S.functionEntry(_.SQLITE_WASM_DEALLOC)||g("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+_.SQLITE_WASM_DEALLOC+").");const _e=Object.create(null);for(const Be of["resultCodes"])for(const be of Object.entries(S.ctype[Be]))_e[be[1]]=be[0];_.sqlite3_js_rc_str=Be=>_e[Be];const We=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!k.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const Be of S.ctype.structs)We[Be.name]||(_[Be.name]=f.StructBinder(Be));if(_.sqlite3_index_info){for(const Be of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])_.sqlite3_index_info[Be]=_[Be],delete _[Be];_.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const X=(oe,he,_e)=>k.sqlite3__wasm_db_error(oe,_.SQLITE_MISUSE,he+"() requires "+_e+" argument"+(_e===1?"":"s")+"."),te=oe=>k.sqlite3__wasm_db_error(oe,_.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Fe=oe=>S.xWrap.argAdapter("sqlite3*")(oe),ze=oe=>S.isPtr(oe)?S.cstrToJs(oe):oe,Je=function(oe,he){oe=Fe(oe);let _e=this.dbMap.get(oe);if(he)!_e&&he>0&&this.dbMap.set(oe,_e=Object.create(null));else return this.dbMap.delete(oe),_e;return _e}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Je.addCollation=function(oe,he){const _e=Je(oe,1);_e.collation||(_e.collation=new Set),_e.collation.add(ze(he).toLowerCase())},Je._addUDF=function(oe,he,_e,We){he=ze(he).toLowerCase();let Be=We.get(he);Be||We.set(he,Be=new Set),Be.add(_e<0?-1:_e)},Je.addFunction=function(oe,he,_e){const We=Je(oe,1);We.udf||(We.udf=new Map),this._addUDF(oe,he,_e,We.udf)},S.exports.sqlite3_create_window_function&&(Je.addWindowFunc=function(oe,he,_e){const We=Je(oe,1);We.wudf||(We.wudf=new Map),this._addUDF(oe,he,_e,We.wudf)}),Je.cleanup=function(oe){oe=Fe(oe);const he=[oe];for(const Be of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const be=S.exports[Be];if(be){he.length=be.length;try{_[Be](...he)}catch(Me){f.config.warn("close-time call of",Be+"(",he,") threw:",Me)}}}const _e=Je(oe,0);if(!_e)return;if(_e.collation){for(const Be of _e.collation)try{_.sqlite3_create_collation_v2(oe,Be,_.SQLITE_UTF8,0,0,0)}catch{}delete _e.collation}let We;for(We=0;We<2;++We){const Be=We?_e.wudf:_e.udf;if(!Be)continue;const be=We?_.sqlite3_create_window_function:_.sqlite3_create_function_v2;for(const Me of Be){const ht=Me[0],L=Me[1],J=[oe,ht,0,_.SQLITE_UTF8,0,0,0,0,0];We&&J.push(0);for(const fe of L)try{J[2]=fe,be.apply(null,J)}catch{}L.clear()}Be.clear()}delete _e.udf,delete _e.wudf};{const oe=S.xWrap("sqlite3_close_v2","int","sqlite3*");_.sqlite3_close_v2=function(he){if(arguments.length!==1)return X(he,"sqlite3_close_v2",1);if(he)try{Je.cleanup(he)}catch{}return oe(he)}}if(_.sqlite3session_create){const oe=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);_.sqlite3session_delete=function(he){if(arguments.length!==1)return X(pDb,"sqlite3session_delete",1);he&&_.sqlite3session_table_filter(he,0,0),oe(he)}}{const oe=(_e,We)=>"argv["+We+"]:"+_e[0]+":"+S.cstrToJs(_e[1]).toLowerCase(),he=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:oe}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:oe})]);_.sqlite3_create_collation_v2=function(_e,We,Be,be,Me,ht){if(arguments.length!==6)return X(_e,"sqlite3_create_collation_v2",6);if(!(Be&15))Be|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==(Be&15))return te(_e);try{const L=he(_e,We,Be,be,Me,ht);return L===0&&Me instanceof Function&&Je.addCollation(_e,We),L}catch(L){return k.sqlite3__wasm_db_error(_e,L)}},_.sqlite3_create_collation=(_e,We,Be,be,Me)=>arguments.length===5?_.sqlite3_create_collation_v2(_e,We,Be,be,Me,0):X(_e,"sqlite3_create_collation",5)}{const oe=function(Be,be){return Be[0]+":"+(Be[2]<0?-1:Be[2])+":"+be+":"+S.cstrToJs(Be[1]).toLowerCase()},he=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:oe,callProxy:Be=>(be,Me,ht)=>{try{Be(be,..._.sqlite3_values_to_js(Me,ht))}catch(L){_.sqlite3_result_error_js(be,L)}}},xFinalAndValue:{signature:"v(p)",contextKey:oe,callProxy:Be=>be=>{try{_.sqlite3_result_js(be,Be(be))}catch(Me){_.sqlite3_result_error_js(be,Me)}}},xFunc:{signature:"v(pip)",contextKey:oe,callProxy:Be=>(be,Me,ht)=>{try{_.sqlite3_result_js(be,Be(be,..._.sqlite3_values_to_js(Me,ht)))}catch(L){_.sqlite3_result_error_js(be,L)}}},xDestroy:{signature:"v(p)",contextKey:oe,callProxy:Be=>be=>{try{Be(be)}catch(Me){console.error("UDF xDestroy method threw:",Me)}}}}),_e=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...he.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...he.xDestroy})]),We=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...he.xDestroy})]):void 0;_.sqlite3_create_function_v2=function Be(be,Me,ht,L,J,fe,Qe,U,Y){if(Be.length!==arguments.length)return X(be,"sqlite3_create_function_v2",Be.length);if(!(L&15))L|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==(L&15))return te(be);try{const O=_e(be,Me,ht,L,J,fe,Qe,U,Y);return O===0&&(fe instanceof Function||Qe instanceof Function||U instanceof Function||Y instanceof Function)&&Je.addFunction(be,Me,ht),O}catch(O){return console.error("sqlite3_create_function_v2() setup threw:",O),k.sqlite3__wasm_db_error(be,O,"Creation of UDF threw: "+O)}},_.sqlite3_create_function=function Be(be,Me,ht,L,J,fe,Qe,U){return Be.length===arguments.length?_.sqlite3_create_function_v2(be,Me,ht,L,J,fe,Qe,U,0):X(be,"sqlite3_create_function",Be.length)},We?_.sqlite3_create_window_function=function Be(be,Me,ht,L,J,fe,Qe,U,Y,O){if(Be.length!==arguments.length)return X(be,"sqlite3_create_window_function",Be.length);if(!(L&15))L|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==(L&15))return te(be);try{const D=We(be,Me,ht,L,J,fe,Qe,U,Y,O);return D===0&&(fe instanceof Function||Qe instanceof Function||U instanceof Function||Y instanceof Function||O instanceof Function)&&Je.addWindowFunc(be,Me,ht),D}catch(D){return console.error("sqlite3_create_window_function() setup threw:",D),k.sqlite3__wasm_db_error(be,D,"Creation of UDF threw: "+D)}}:delete _.sqlite3_create_window_function,_.sqlite3_create_function_v2.udfSetResult=_.sqlite3_create_function.udfSetResult=_.sqlite3_result_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfSetResult=_.sqlite3_result_js),_.sqlite3_create_function_v2.udfConvertArgs=_.sqlite3_create_function.udfConvertArgs=_.sqlite3_values_to_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfConvertArgs=_.sqlite3_values_to_js),_.sqlite3_create_function_v2.udfSetError=_.sqlite3_create_function.udfSetError=_.sqlite3_result_error_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfSetError=_.sqlite3_result_error_js)}{const oe=(_e,We)=>(typeof _e=="string"?We=-1:k.isSQLableTypedArray(_e)?(We=_e.byteLength,_e=k.typedArrayToString(_e instanceof ArrayBuffer?new Uint8Array(_e):_e)):Array.isArray(_e)&&(_e=_e.join(""),We=-1),[_e,We]),he={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};_.sqlite3_prepare_v3=function _e(We,Be,be,Me,ht,L){if(_e.length!==arguments.length)return X(We,"sqlite3_prepare_v3",_e.length);const[J,fe]=oe(Be,be);switch(typeof J){case"string":return he.basic(We,J,fe,Me,ht,null);case"number":return he.full(We,J,fe,Me,ht,L);default:return k.sqlite3__wasm_db_error(We,_.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},_.sqlite3_prepare_v2=function _e(We,Be,be,Me,ht){return _e.length===arguments.length?_.sqlite3_prepare_v3(We,Be,be,0,Me,ht):X(We,"sqlite3_prepare_v2",_e.length)}}{const oe=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),he=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);_.sqlite3_bind_text=function _e(We,Be,be,Me,ht){if(_e.length!==arguments.length)return X(_.sqlite3_db_handle(We),"sqlite3_bind_text",_e.length);if(S.isPtr(be)||be===null)return oe(We,Be,be,Me,ht);be instanceof ArrayBuffer?be=new Uint8Array(be):Array.isArray(pMem)&&(be=pMem.join(""));let L,J;try{if(k.isSQLableTypedArray(be))L=S.allocFromTypedArray(be),J=be.byteLength;else if(typeof be=="string")[L,J]=S.allocCString(be);else return k.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),_.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return oe(We,Be,L,J,_.SQLITE_WASM_DEALLOC)}catch(fe){return S.dealloc(L),k.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),fe)}},_.sqlite3_bind_blob=function _e(We,Be,be,Me,ht){if(_e.length!==arguments.length)return X(_.sqlite3_db_handle(We),"sqlite3_bind_blob",_e.length);if(S.isPtr(be)||be===null)return he(We,Be,be,Me,ht);be instanceof ArrayBuffer?be=new Uint8Array(be):Array.isArray(be)&&(be=be.join(""));let L,J;try{if(k.isBindableTypedArray(be))L=S.allocFromTypedArray(be),J=Me>=0?Me:be.byteLength;else if(typeof be=="string")[L,J]=S.allocCString(be);else return k.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),_.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return he(We,Be,L,J,_.SQLITE_WASM_DEALLOC)}catch(fe){return S.dealloc(L),k.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),fe)}}}_.sqlite3_config=function(oe,...he){if(arguments.length<2)return _.SQLITE_MISUSE;switch(oe){case _.SQLITE_CONFIG_COVERING_INDEX_SCAN:case _.SQLITE_CONFIG_MEMSTATUS:case _.SQLITE_CONFIG_SMALL_MALLOC:case _.SQLITE_CONFIG_SORTERREF_SIZE:case _.SQLITE_CONFIG_STMTJRNL_SPILL:case _.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(oe,he[0]);case _.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(oe,he[0],he[1]);case _.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(oe,he[0]);case _.SQLITE_CONFIG_GETMALLOC:case _.SQLITE_CONFIG_GETMUTEX:case _.SQLITE_CONFIG_GETPCACHE2:case _.SQLITE_CONFIG_GETPCACHE:case _.SQLITE_CONFIG_HEAP:case _.SQLITE_CONFIG_LOG:case _.SQLITE_CONFIG_MALLOC:case _.SQLITE_CONFIG_MMAP_SIZE:case _.SQLITE_CONFIG_MULTITHREAD:case _.SQLITE_CONFIG_MUTEX:case _.SQLITE_CONFIG_PAGECACHE:case _.SQLITE_CONFIG_PCACHE2:case _.SQLITE_CONFIG_PCACHE:case _.SQLITE_CONFIG_PCACHE_HDRSZ:case _.SQLITE_CONFIG_PMASZ:case _.SQLITE_CONFIG_SERIALIZED:case _.SQLITE_CONFIG_SINGLETHREAD:case _.SQLITE_CONFIG_SQLLOG:case _.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return _.SQLITE_NOTFOUND}};{const oe=new Set;_.sqlite3_auto_extension=function(he){if(he instanceof Function)he=S.installFunction("i(ppp)",he);else if(arguments.length!==1||!S.isPtr(he))return _.SQLITE_MISUSE;const _e=S.exports.sqlite3_auto_extension(he);return he!==arguments[0]&&(_e===0?oe.add(he):S.uninstallFunction(he)),_e},_.sqlite3_cancel_auto_extension=function(he){return!he||arguments.length!==1||!S.isPtr(he)?0:S.exports.sqlite3_cancel_auto_extension(he)},_.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const he of oe)S.uninstallFunction(he);oe.clear()}}const rt=_.sqlite3_vfs_find("kvvfs");if(rt)if(k.isUIThread()){const oe=new _.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete _.sqlite3_kvvfs_methods;const he=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,_e=S.pstack,We=be=>S.peek(be)===115?sessionStorage:localStorage,Be={xRead:(be,Me,ht,L)=>{const J=_e.pointer,fe=S.scopedAllocPush();try{const Qe=he(be,Me);if(!Qe)return-3;const U=S.cstrToJs(Qe),Y=We(be).getItem(U);if(!Y)return-1;const O=Y.length;if(L<=0)return O;if(L===1)return S.poke(ht,0),O;const D=S.scopedAllocCString(Y);return L>O+1&&(L=O+1),S.heap8u().copyWithin(ht,D,D+L-1),S.poke(ht+L-1,0),L-1}catch(Qe){return console.error("kvstorageRead()",Qe),-2}finally{_e.restore(J),S.scopedAllocPop(fe)}},xWrite:(be,Me,ht)=>{const L=_e.pointer;try{const J=he(be,Me);if(!J)return 1;const fe=S.cstrToJs(J);return We(be).setItem(fe,S.cstrToJs(ht)),0}catch(J){return console.error("kvstorageWrite()",J),_.SQLITE_IOERR}finally{_e.restore(L)}},xDelete:(be,Me)=>{const ht=_e.pointer;try{const L=he(be,Me);return L?(We(be).removeItem(S.cstrToJs(L)),0):1}catch(L){return console.error("kvstorageDelete()",L),_.SQLITE_IOERR}finally{_e.restore(ht)}}};for(const be of Object.keys(Be))oe[oe.memberKey(be)]=S.installFunction(oe.memberSignature(be),Be[be])}else _.sqlite3_vfs_unregister(rt);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Te=f.StructBinder,we=function oe(he,_e,We,Be=oe.installMethodArgcCheck){if(he instanceof Te.StructType?!(We instanceof Function)&&!S.isPtr(We)&&g("Usage errror: expecting a Function or WASM pointer to one."):g("Usage error: target object is-not-a StructType."),arguments.length===1)return(L,J)=>oe(he,L,J,Be);oe.argcProxy||(oe.argcProxy=function(L,J,fe,Qe){return function(...U){return fe.length!==arguments.length&&g("Argument mismatch for",L.structInfo.name+"::"+J+": Native signature is:",Qe),fe.apply(this,U)}},oe.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((L,J)=>{if(typeof L=="number")try{S.uninstallFunction(L)}catch{}}),delete this.ondispose.__removeFuncList)});const be=he.memberSignature(_e);be.length<2&&g("Member",_e,"does not have a function pointer signature:",be);const Me=he.memberKey(_e),ht=Be&&!S.isPtr(We)?oe.argcProxy(he,Me,We,be):We;if(S.isPtr(ht))ht&&!S.functionEntry(ht)&&g("Pointer",ht,"is not a WASM function table entry."),he[Me]=ht;else{const L=S.installFunction(ht,he.memberSignature(_e,!0));he[Me]=L,(!he.ondispose||!he.ondispose.__removeFuncList)&&(he.addOnDispose("ondispose.__removeFuncList handler",oe.removeFuncList),he.ondispose.__removeFuncList=[]),he.ondispose.__removeFuncList.push(Me,L)}return(L,J)=>oe(he,L,J,Be)};we.installMethodArgcCheck=!1;const Ue=function(oe,he,_e=we.installMethodArgcCheck){const We=new Map;for(const Be of Object.keys(he)){const be=he[Be],Me=We.get(be);if(Me){const ht=oe.memberKey(Be);oe[ht]=oe[oe.memberKey(Me)]}else we(oe,Be,be,_e),We.set(be,Be)}return oe};Te.StructType.prototype.installMethod=function(he,_e,We=we.installMethodArgcCheck){return arguments.length<3&&he&&typeof he=="object"?Ue(this,...arguments):we(this,...arguments)},Te.StructType.prototype.installMethods=function(oe,he=we.installMethodArgcCheck){return Ue(this,oe,he)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){f.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const g=(...U)=>{throw new f.SQLite3Error(...U)},_=f.capi,S=f.wasm,k=f.util,X=new WeakMap,te=new WeakMap,Fe=(U,Y,O)=>{const D=Object.getOwnPropertyDescriptor(U,Y);return D?D.value:O},ze=function(U,Y){return Y&&(U instanceof we&&(U=U.pointer),g(Y,"sqlite3 result code",Y+":",U?_.sqlite3_errmsg(U):_.sqlite3_errstr(Y))),arguments[0]},Je=S.installFunction("i(ippp)",function(U,Y,O,D){_.SQLITE_TRACE_STMT===U&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+Y+":",S.cstrToJs(D))}.bind({counter:0})),rt=Object.create(null),Te=function U(...Y){if(!U._name2vfs){U._name2vfs=Object.create(null);const ce=typeof importScripts=="function"?Ne=>g("The VFS for",Ne,"is only available in the main window thread."):!1;U._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:ce||(()=>"local")},U._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:ce||(()=>"session")}}const O=U.normalizeArgs(...Y);let D=O.filename,$=O.vfs,qe=O.flags;(typeof D!="string"&&typeof D!="number"||typeof qe!="string"||$&&typeof $!="string"&&typeof $!="number")&&(f.config.error("Invalid DB ctor args",O,arguments),g("Invalid arguments for DB constructor."));let He=typeof D=="number"?S.cstrToJs(D):D;const St=U._name2vfs[He];St&&($=St.vfs,D=He=St.filename(He));let jt,Bt=0;qe.indexOf("c")>=0&&(Bt|=_.SQLITE_OPEN_CREATE|_.SQLITE_OPEN_READWRITE),qe.indexOf("w")>=0&&(Bt|=_.SQLITE_OPEN_READWRITE),Bt===0&&(Bt|=_.SQLITE_OPEN_READONLY),Bt|=_.SQLITE_OPEN_EXRESCODE;const Ze=S.pstack.pointer;try{const ce=S.pstack.allocPtr();let Ne=_.sqlite3_open_v2(D,ce,Bt,$||0);jt=S.peekPtr(ce),ze(jt,Ne),_.sqlite3_extended_result_codes(jt,1),qe.indexOf("t")>=0&&_.sqlite3_trace_v2(jt,_.SQLITE_TRACE_STMT,Je,jt)}catch(ce){throw jt&&_.sqlite3_close_v2(jt),ce}finally{S.pstack.restore(Ze)}this.filename=He,X.set(this,jt),te.set(this,Object.create(null));try{const ce=_.sqlite3_js_db_vfs(jt)||g("Internal error: cannot get VFS for new db handle."),Ne=rt[ce];Ne&&(Ne instanceof Function?Ne(this,f):ze(jt,_.sqlite3_exec(jt,Ne,0,0,0)))}catch(ce){throw this.close(),ce}};Te.setVfsPostOpenCallback=function(U,Y){Y instanceof Function||g("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),rt[U]=Y},Te.normalizeArgs=function(U=":memory:",Y="c",O=null){const D={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(D,arguments[0]),D.flags===void 0&&(D.flags="c"),D.vfs===void 0&&(D.vfs=null),D.filename===void 0&&(D.filename=":memory:")):(D.filename=U,D.flags=Y,D.vfs=O),D};const we=function(...U){Te.apply(this,U)};we.dbCtorHelper=Te;const Ue={null:1,number:2,string:3,boolean:4,blob:5};Ue.undefined==Ue.null,S.bigIntEnabled&&(Ue.bigint=Ue.number);const oe=function(){Ue!==arguments[2]&&g(_.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],X.set(this,arguments[1]),this.parameterCount=_.sqlite3_bind_parameter_count(this.pointer)},he=function(U){return U.pointer||g("DB has been closed."),U},_e=function(U,Y){return(Y!==(Y|0)||Y<0||Y>=U.columnCount)&&g("Column index",Y,"is out of range."),U},We=function(U,Y){const O=Object.create(null);switch(O.opt=Object.create(null),Y.length){case 1:typeof Y[0]=="string"||k.isSQLableTypedArray(Y[0])||Array.isArray(Y[0])?O.sql=Y[0]:Y[0]&&typeof Y[0]=="object"&&(O.opt=Y[0],O.sql=O.opt.sql);break;case 2:O.sql=Y[0],O.opt=Y[1];break;default:g("Invalid argument count for exec().")}O.sql=k.flexibleString(O.sql),typeof O.sql!="string"&&g("Missing SQL argument or unsupported SQL value type.");const D=O.opt;switch(D.returnValue){case"resultRows":D.resultRows||(D.resultRows=[]),O.returnVal=()=>D.resultRows;break;case"saveSql":D.saveSql||(D.saveSql=[]),O.returnVal=()=>D.saveSql;break;case void 0:case"this":O.returnVal=()=>U;break;default:g("Invalid returnValue value:",D.returnValue)}if(!D.callback&&!D.returnValue&&D.rowMode!==void 0&&(D.resultRows||(D.resultRows=[]),O.returnVal=()=>D.resultRows),D.callback||D.resultRows)switch(D.rowMode===void 0?"array":D.rowMode){case"object":O.cbArg=($,qe)=>{qe.columnNames||(qe.columnNames=$.getColumnNames([]));const He=$.get([]),St=Object.create(null);for(const jt in qe.columnNames)St[qe.columnNames[jt]]=He[jt];return St};break;case"array":O.cbArg=$=>$.get([]);break;case"stmt":Array.isArray(D.resultRows)&&g("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),O.cbArg=$=>$;break;default:if(k.isInt32(D.rowMode)){O.cbArg=$=>$.get(D.rowMode);break}else if(typeof D.rowMode=="string"&&D.rowMode.length>1&&D.rowMode[0]==="$"){const $=D.rowMode.substr(1);O.cbArg=qe=>{const He=qe.get(Object.create(null))[$];return He===void 0?g(_.SQLITE_NOTFOUND,"exec(): unknown result column:",$):He};break}g("Invalid rowMode:",D.rowMode)}return O},Be=(U,Y,O,...D)=>{const $=U.prepare(Y);try{const qe=$.bind(O).step()?$.get(...D):void 0;return $.reset(),qe}finally{$.finalize()}},be=(U,Y,O,D)=>U.exec({sql:Y,bind:O,rowMode:D,returnValue:"resultRows"});we.checkRc=(U,Y)=>ze(U,Y),we.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return he(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const U=this.pointer;if(Object.keys(te.get(this)).forEach((Y,O)=>{if(O&&O.pointer)try{O.finalize()}catch{}}),X.delete(this),te.delete(this),_.sqlite3_close_v2(U),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(U=!1,Y=!1){const O=he(this).pointer;return U?Y?_.sqlite3_total_changes64(O):_.sqlite3_total_changes(O):Y?_.sqlite3_changes64(O):_.sqlite3_changes(O)},dbFilename:function(U="main"){return _.sqlite3_db_filename(he(this).pointer,U)},dbName:function(U=0){return _.sqlite3_db_name(he(this).pointer,U)},dbVfsName:function(U=0){let Y;const O=_.sqlite3_js_db_vfs(he(this).pointer,U);if(O){const D=new _.sqlite3_vfs(O);try{Y=S.cstrToJs(D.$zName)}finally{D.dispose()}}return Y},prepare:function(U){he(this);const Y=S.pstack.pointer;let O,D;try{O=S.pstack.alloc(8),we.checkRc(this,_.sqlite3_prepare_v2(this.pointer,U,-1,O,null)),D=S.peekPtr(O)}finally{S.pstack.restore(Y)}D||g("Cannot prepare empty SQL.");const $=new oe(this,D,Ue);return te.get(this)[D]=$,$},exec:function(){he(this);const U=We(this,arguments);if(!U.sql)return g("exec() requires an SQL string.");const Y=U.opt,O=Y.callback,D=Array.isArray(Y.resultRows)?Y.resultRows:void 0;let $,qe=Y.bind,He=!!(U.cbArg||Y.columnNames||D);const St=S.scopedAllocPush(),jt=Array.isArray(Y.saveSql)?Y.saveSql:void 0;try{const Bt=k.isSQLableTypedArray(U.sql);let Ze=Bt?U.sql.byteLength:S.jstrlen(U.sql);const ce=S.scopedAlloc(2*S.ptrSizeof+(Ze+1)),Ne=ce+S.ptrSizeof;let Ke=Ne+S.ptrSizeof;const et=Ke+Ze;for(Bt?S.heap8().set(U.sql,Ke):S.jstrcpy(U.sql,S.heap8(),Ke,Ze,!1),S.poke(Ke+Ze,0);Ke&&S.peek(Ke,"i8");){S.pokePtr([ce,Ne],0),we.checkRc(this,_.sqlite3_prepare_v3(this.pointer,Ke,Ze,0,ce,Ne));const Ot=S.peekPtr(ce);if(Ke=S.peekPtr(Ne),Ze=et-Ke,!!Ot){if(jt&&jt.push(_.sqlite3_sql(Ot).trim()),$=new oe(this,Ot,Ue),qe&&$.parameterCount&&($.bind(qe),qe=null),He&&$.columnCount){let Wt=Array.isArray(Y.columnNames)?0:1;if(He=!1,U.cbArg||D){const Se=Object.create(null);for(;$.step();$._lockedByExec=!1){Wt++===0&&$.getColumnNames(Se.columnNames=Y.columnNames||[]),$._lockedByExec=!0;const Ve=U.cbArg($,Se);if(D&&D.push(Ve),O&&O.call(Y,Ve,$)===!1)break}$._lockedByExec=!1}Wt===0&&$.getColumnNames(Y.columnNames)}else $.step();$.reset().finalize(),$=null}}}finally{S.scopedAllocPop(St),$&&(delete $._lockedByExec,$.finalize())}return U.returnVal()},createFunction:function(Y,O,D){const $=Se=>Se instanceof Function;switch(arguments.length){case 1:D=Y,Y=D.name,O=D.xFunc||0;break;case 2:$(O)||(D=O,O=D.xFunc||0);break}D||(D={}),typeof Y!="string"&&g("Invalid arguments: missing function name.");let qe=D.xStep||0,He=D.xFinal||0;const St=D.xValue||0,jt=D.xInverse||0;let Bt;$(O)?(Bt=!1,($(qe)||$(He))&&g("Ambiguous arguments: scalar or aggregate?"),qe=He=null):$(qe)?($(He)||g("Missing xFinal() callback for aggregate or window UDF."),O=null):$(He)?g("Missing xStep() callback for aggregate or window UDF."):g("Missing function-type properties."),Bt===!1?($(St)||$(jt))&&g("xValue and xInverse are not permitted for non-window UDFs."):$(St)?($(jt)||g("xInverse must be provided if xValue is."),Bt=!0):$(jt)&&g("xValue must be provided if xInverse is.");const Ze=D.pApp;Ze!=null&&(typeof Ze!="number"||!k.isInt32(Ze))&&g("Invalid value for pApp property. Must be a legal WASM pointer value.");const ce=D.xDestroy||0;ce&&!$(ce)&&g("xDestroy property must be a function.");let Ne=0;Fe(D,"deterministic")&&(Ne|=_.SQLITE_DETERMINISTIC),Fe(D,"directOnly")&&(Ne|=_.SQLITE_DIRECTONLY),Fe(D,"innocuous")&&(Ne|=_.SQLITE_INNOCUOUS),Y=Y.toLowerCase();const Ke=O||qe,et=Fe(D,"arity"),Ot=typeof et=="number"?et:Ke.length?Ke.length-1:0;let Wt;return Bt?Wt=_.sqlite3_create_window_function(this.pointer,Y,Ot,_.SQLITE_UTF8|Ne,Ze||0,qe,He,St,jt,ce):Wt=_.sqlite3_create_function_v2(this.pointer,Y,Ot,_.SQLITE_UTF8|Ne,Ze||0,O,qe,He,ce),we.checkRc(this,Wt),this},selectValue:function(U,Y,O){return Be(this,U,Y,0,O)},selectValues:function(U,Y,O){const D=this.prepare(U),$=[];try{for(D.bind(Y);D.step();)$.push(D.get(0,O));D.reset()}finally{D.finalize()}return $},selectArray:function(U,Y){return Be(this,U,Y,[])},selectObject:function(U,Y){return Be(this,U,Y,{})},selectArrays:function(U,Y){return be(this,U,Y,"array")},selectObjects:function(U,Y){return be(this,U,Y,"object")},openStatementCount:function(){return this.pointer?Object.keys(te.get(this)).length:0},transaction:function(U){let Y="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&g(_.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),Y+=" "+arguments[0],U=arguments[1]),he(this).exec(Y);try{const O=U(this);return this.exec("COMMIT"),O}catch(O){throw this.exec("ROLLBACK"),O}},savepoint:function(U){he(this).exec("SAVEPOINT oo1");try{const Y=U(this);return this.exec("RELEASE oo1"),Y}catch(Y){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),Y}},checkRc:function(U){return ze(this,U)}};const Me=function(U){return U.pointer||g("Stmt has been closed."),U},ht=function(U){let Y=Ue[U==null?"null":typeof U];switch(Y){case Ue.boolean:case Ue.null:case Ue.number:case Ue.string:return Y;case Ue.bigint:if(S.bigIntEnabled)return Y;default:return k.isBindableTypedArray(U)?Ue.blob:void 0}},L=function(U){return ht(U)||g("Unsupported bind() argument type:",typeof U)},J=function(U,Y){const O=typeof Y=="number"?Y:_.sqlite3_bind_parameter_index(U.pointer,Y);return O===0||!k.isInt32(O)?g("Invalid bind() parameter name: "+Y):(O<1||O>U.parameterCount)&&g("Bind index",Y,"is out of range."),O},fe=function(U,Y){return U._lockedByExec&&g("Operation is illegal when statement is locked:",Y),U},Qe=function U(Y,O,D,$){fe(Me(Y),"bind()"),U._||(U._tooBigInt=He=>g("BigInt value is too big to store without precision loss:",He),U._={string:function(He,St,jt,Bt){const[Ze,ce]=S.allocCString(jt,!0);return(Bt?_.sqlite3_bind_blob:_.sqlite3_bind_text)(He.pointer,St,Ze,ce,_.SQLITE_WASM_DEALLOC)}}),L($),O=J(Y,O);let qe=0;switch($==null?Ue.null:D){case Ue.null:qe=_.sqlite3_bind_null(Y.pointer,O);break;case Ue.string:qe=U._.string(Y,O,$,!1);break;case Ue.number:{let He;k.isInt32($)?He=_.sqlite3_bind_int:typeof $=="bigint"?k.bigIntFits64($)?S.bigIntEnabled?He=_.sqlite3_bind_int64:k.bigIntFitsDouble($)?($=Number($),He=_.sqlite3_bind_double):U._tooBigInt($):U._tooBigInt($):($=Number($),S.bigIntEnabled&&Number.isInteger($)?He=_.sqlite3_bind_int64:He=_.sqlite3_bind_double),qe=He(Y.pointer,O,$);break}case Ue.boolean:qe=_.sqlite3_bind_int(Y.pointer,O,$?1:0);break;case Ue.blob:{if(typeof $=="string"){qe=U._.string(Y,O,$,!0);break}else $ instanceof ArrayBuffer?$=new Uint8Array($):k.isBindableTypedArray($)||g("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const He=S.alloc($.byteLength||1);S.heap8().set($.byteLength?$:[0],He),qe=_.sqlite3_bind_blob(Y.pointer,O,He,$.byteLength,_.SQLITE_WASM_DEALLOC);break}default:f.config.warn("Unsupported bind() argument type:",$),g("Unsupported bind() argument type: "+typeof $)}return qe&&we.checkRc(Y.db.pointer,qe),Y._mayGet=!1,Y};oe.prototype={finalize:function(){if(this.pointer){fe(this,"finalize()");const U=_.sqlite3_finalize(this.pointer);return delete te.get(this.db)[this.pointer],X.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,U}},clearBindings:function(){return fe(Me(this),"clearBindings()"),_.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(U){fe(this,"reset()"),U&&this.clearBindings();const Y=_.sqlite3_reset(Me(this).pointer);return this._mayGet=!1,ze(this.db,Y),this},bind:function(){Me(this);let U,Y;switch(arguments.length){case 1:U=1,Y=arguments[0];break;case 2:U=arguments[0],Y=arguments[1];break;default:g("Invalid bind() arguments.")}return Y===void 0?this:(this.parameterCount||g("This statement has no bindable parameters."),this._mayGet=!1,Y===null?Qe(this,U,Ue.null,Y):Array.isArray(Y)?(arguments.length!==1&&g("When binding an array, an index argument is not permitted."),Y.forEach((O,D)=>Qe(this,D+1,L(O),O)),this):(Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y)),typeof Y=="object"&&!k.isBindableTypedArray(Y)?(arguments.length!==1&&g("When binding an object, an index argument is not permitted."),Object.keys(Y).forEach(O=>Qe(this,O,L(Y[O]),Y[O])),this):Qe(this,U,L(Y),Y)))},bindAsBlob:function(U,Y){Me(this),arguments.length===1&&(Y=U,U=1);const O=L(Y);return Ue.string!==O&&Ue.blob!==O&&Ue.null!==O&&g("Invalid value type for bindAsBlob()"),Qe(this,U,Ue.blob,Y)},step:function(){fe(this,"step()");const U=_.sqlite3_step(Me(this).pointer);switch(U){case _.SQLITE_DONE:return this._mayGet=!1;case _.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,f.config.warn("sqlite3_step() rc=",U,_.sqlite3_js_rc_str(U),"SQL =",_.sqlite3_sql(this.pointer)),we.checkRc(this.db.pointer,U)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const U=this.step();return this.reset(),U}finally{try{this.finalize()}catch{}}},get:function(U,Y){if(Me(this)._mayGet||g("Stmt.step() has not (recently) returned true."),Array.isArray(U)){let O=0;const D=this.columnCount;for(;O<D;)U[O]=this.get(O++);return U}else if(U&&typeof U=="object"){let O=0;const D=this.columnCount;for(;O<D;)U[_.sqlite3_column_name(this.pointer,O)]=this.get(O++);return U}switch(_e(this,U),Y===void 0?_.sqlite3_column_type(this.pointer,U):Y){case _.SQLITE_NULL:return null;case _.SQLITE_INTEGER:if(S.bigIntEnabled){const O=_.sqlite3_column_int64(this.pointer,U);return O>=Number.MIN_SAFE_INTEGER&&O<=Number.MAX_SAFE_INTEGER?Number(O).valueOf():O}else{const O=_.sqlite3_column_double(this.pointer,U);return(O>Number.MAX_SAFE_INTEGER||O<Number.MIN_SAFE_INTEGER)&&g("Integer is out of range for JS integer range: "+O),k.isInt32(O)?O|0:O}case _.SQLITE_FLOAT:return _.sqlite3_column_double(this.pointer,U);case _.SQLITE_TEXT:return _.sqlite3_column_text(this.pointer,U);case _.SQLITE_BLOB:{const O=_.sqlite3_column_bytes(this.pointer,U),D=_.sqlite3_column_blob(this.pointer,U),$=new Uint8Array(O);return O&&$.set(S.heap8u().slice(D,D+O),0),O&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push($.buffer),$}default:g("Don't know how to translate","type of result column #"+U+".")}g("Not reached.")},getInt:function(U){return this.get(U,_.SQLITE_INTEGER)},getFloat:function(U){return this.get(U,_.SQLITE_FLOAT)},getString:function(U){return this.get(U,_.SQLITE_TEXT)},getBlob:function(U){return this.get(U,_.SQLITE_BLOB)},getJSON:function(U){const Y=this.get(U,_.SQLITE_STRING);return Y===null?Y:JSON.parse(Y)},getColumnName:function(U){return _.sqlite3_column_name(_e(Me(this),U).pointer,U)},getColumnNames:function(U=[]){_e(Me(this),0);const Y=this.columnCount;for(let O=0;O<Y;++O)U.push(_.sqlite3_column_name(this.pointer,O));return U},getParamIndex:function(U){return Me(this).parameterCount?_.sqlite3_bind_parameter_index(this.pointer,U):void 0},getParamName:function(U){return Me(this).parameterCount?_.sqlite3_bind_parameter_name(this.pointer,U):void 0},isBusy:function(){return _.sqlite3_stmt_busy(Me(this))!==0},isReadOnly:function(){return _.sqlite3_stmt_readonly(Me(this))!==0}};{const U={enumerable:!0,get:function(){return X.get(this)},set:()=>g("The pointer property is read-only.")};Object.defineProperty(oe.prototype,"pointer",U),Object.defineProperty(we.prototype,"pointer",U)}if(Object.defineProperty(oe.prototype,"columnCount",{enumerable:!1,get:function(){return _.sqlite3_column_count(this.pointer)},set:()=>g("The columnCount property is read-only.")}),f.oo1={DB:we,Stmt:oe},k.isUIThread()){f.oo1.JsStorageDb=function(Y="session"){const O=Te.normalizeArgs(...arguments);Y=O.filename,Y!=="session"&&Y!=="local"&&g("JsStorageDb db name must be one of 'session' or 'local'."),O.vfs="kvvfs",Te.call(this,O)};const U=f.oo1.JsStorageDb;U.prototype=Object.create(we.prototype),U.clearStorage=_.sqlite3_js_kvvfs_clear,U.prototype.clearStorage=function(){return U.clearStorage(he(this).filename)},U.storageSize=_.sqlite3_js_kvvfs_size,U.prototype.storageSize=function(){return U.storageSize(he(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const g=f.util;f.initWorker1API=function(){const _=(...Te)=>{throw new Error(Te.join(" "))};globalThis.WorkerGlobalScope instanceof Function||_("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||_("Missing this.sqlite3 object."),k=S.oo1.DB,X=function(Te){let we=te.idMap.get(Te);return we||(we="db#"+ ++te.idSeq+"@"+Te.pointer,te.idMap.set(Te,we),we)},te={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Te){const we=new k(Te);return this.dbs[X(we)]=we,this.dbList.indexOf(we)<0&&this.dbList.push(we),we},close:function(Te,we){if(Te){delete this.dbs[X(Te)];const Ue=Te.filename,oe=g.sqlite3__wasm_db_vfs(Te.pointer,0);Te.close();const he=this.dbList.indexOf(Te);he>=0&&this.dbList.splice(he,1),we&&Ue&&oe&&g.sqlite3__wasm_vfs_unlink(oe,Ue)}},post:function(Te,we){we&&we.length?(globalThis.postMessage(Te,Array.from(we)),we.length=0):globalThis.postMessage(Te)},dbs:Object.create(null),getDb:function(Te,we=!0){return this.dbs[Te]||(we?_("Unknown (or closed) DB ID:",Te):void 0)}},Fe=function(Te=te.dbList[0]){return Te&&Te.pointer?Te:_("DB is not opened.")},ze=function(Te,we=!0){const Ue=te.getDb(Te.dbId,!1)||te.dbList[0];return we?Fe(Ue):Ue},Je=function(){return te.dbList[0]&&X(te.dbList[0])},rt={open:function(Te){const we=Object.create(null),Ue=Te.args||Object.create(null);Ue.simulateError&&_("Throwing because of simulateError flag.");const oe=Object.create(null);we.vfs=Ue.vfs,we.filename=Ue.filename||"";const he=te.open(we);return oe.filename=he.filename,oe.persistent=!!S.capi.sqlite3_js_db_uses_vfs(he.pointer,"opfs"),oe.dbId=X(he),oe.vfs=he.dbVfsName(),oe},close:function(Te){const we=ze(Te,!1),Ue={filename:we&&we.filename};if(we){const oe=Te.args&&typeof Te.args=="object"?!!Te.args.unlink:!1;te.close(we,oe)}return Ue},exec:function(Te){const we=typeof Te.args=="string"?{sql:Te.args}:Te.args||Object.create(null);we.rowMode==="stmt"?_("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):we.sql||_("'exec' requires input SQL.");const Ue=ze(Te);(we.callback||Array.isArray(we.resultRows))&&(Ue._blobXfer=te.xfer);const oe=we.callback;let he=0;const _e=!!we.columnNames;typeof oe=="string"&&(_e||(we.columnNames=[]),we.callback=function(We,Be){te.post({type:oe,columnNames:we.columnNames,rowNumber:++he,row:We},te.xfer)});try{const We=we.countChanges?Ue.changes(!0,we.countChanges===64):void 0;Ue.exec(we),We!==void 0&&(we.changeCount=Ue.changes(!0,we.countChanges===64)-We),we.callback instanceof Function&&(we.callback=oe,te.post({type:oe,columnNames:we.columnNames,rowNumber:null,row:void 0}))}finally{delete Ue._blobXfer,we.callback&&(we.callback=oe)}return we},"config-get":function(){const Te=Object.create(null),we=S.config;return["bigIntEnabled"].forEach(function(Ue){Object.getOwnPropertyDescriptor(we,Ue)&&(Te[Ue]=we[Ue])}),Te.version=S.version,Te.vfsList=S.capi.sqlite3_js_vfs_list(),Te},export:function(Te){const we=ze(Te),Ue={byteArray:S.capi.sqlite3_js_db_export(we.pointer),filename:we.filename,mimetype:"application/x-sqlite3"};return te.xfer.push(Ue.byteArray.buffer),Ue},toss:function(Te){_("Testing worker exception")}};globalThis.onmessage=async function(Te){Te=Te.data;let we,Ue=Te.dbId,oe=Te.type;const he=performance.now();try{rt.hasOwnProperty(oe)&&rt[oe]instanceof Function?we=await rt[oe](Te):_("Unknown db worker message type:",Te.type)}catch(_e){oe="error",we={operation:Te.type,message:_e.message,errorClass:_e.name,input:Te},_e.stack&&(we.stack=typeof _e.stack=="string"?_e.stack.split(/\n\s*/):_e.stack)}Ue||(Ue=we.dbId||Je()),te.post({type:oe,dbId:Ue,messageId:Te.messageId,workerReceivedTime:he,workerRespondTime:performance.now(),departureTime:Te.departureTime,result:we},te.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:f})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const g=f.wasm,_=f.capi,S=f.util.toss3,k=Object.create(null);f.vfs=k,_.sqlite3_vfs.prototype.registerVfs=function(X=!1){this instanceof f.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const te=_.sqlite3_vfs_register(this,X?1:0);return te&&S("sqlite3_vfs_register(",this,") failed with rc",te),this.pointer!==_.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},k.installVfs=function(X){let te=0;const Fe=["io","vfs"];for(const ze of Fe){const Je=X[ze];Je&&(++te,Je.struct.installMethods(Je.methods,!!Je.applyArgcCheck),ze==="vfs"&&(!Je.struct.$zName&&typeof Je.name=="string"&&Je.struct.addOnDispose(Je.struct.$zName=g.allocCString(Je.name)),Je.struct.registerVfs(!!Je.asDefault)))}return te||S("Misuse: installVfs() options object requires at least","one of:",Fe),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){if(!f.wasm.exports.sqlite3_declare_vtab)return;const g=f.wasm,_=f.capi,S=f.util.toss3,k=Object.create(null);f.vtab=k;const X=_.sqlite3_index_info;X.prototype.nthConstraint=function(ze,Je=!1){if(ze<0||ze>=this.$nConstraint)return!1;const rt=this.$aConstraint+X.sqlite3_index_constraint.structInfo.sizeof*ze;return Je?rt:new X.sqlite3_index_constraint(rt)},X.prototype.nthConstraintUsage=function(ze,Je=!1){if(ze<0||ze>=this.$nConstraint)return!1;const rt=this.$aConstraintUsage+X.sqlite3_index_constraint_usage.structInfo.sizeof*ze;return Je?rt:new X.sqlite3_index_constraint_usage(rt)},X.prototype.nthOrderBy=function(ze,Je=!1){if(ze<0||ze>=this.$nOrderBy)return!1;const rt=this.$aOrderBy+X.sqlite3_index_orderby.structInfo.sizeof*ze;return Je?rt:new X.sqlite3_index_orderby(rt)};const te=function(ze,Je){return function(rt,Te=!1){if(arguments.length===0&&(rt=new Je),rt instanceof Je)return this.set(rt.pointer,rt),rt;g.isPtr(rt)||f.SQLite3Error.toss("Invalid argument to",ze+"()");let we=this.get(rt);return Te&&this.delete(rt),we}.bind(new Map)},Fe=function(ze,Je){const rt=te(ze,Je);return Object.assign(Object.create(null),{StructType:Je,create:Te=>{const we=rt();return g.pokePtr(Te,we.pointer),we},get:Te=>rt(Te),unget:Te=>rt(Te,!0),dispose:Te=>{const we=rt(Te,!0);we&&we.dispose()}})};k.xVtab=Fe("xVtab",_.sqlite3_vtab),k.xCursor=Fe("xCursor",_.sqlite3_vtab_cursor),k.xIndexInfo=ze=>new _.sqlite3_index_info(ze),k.xError=function ze(Je,rt,Te){if(ze.errorReporter instanceof Function)try{ze.errorReporter("sqlite3_module::"+Je+"(): "+rt.message)}catch{}let we;return rt instanceof f.WasmAllocError?we=_.SQLITE_NOMEM:arguments.length>2?we=Te:rt instanceof f.SQLite3Error&&(we=rt.resultCode),we||_.SQLITE_ERROR},k.xError.errorReporter=console.error.bind(console),k.xRowid=(ze,Je)=>g.poke(ze,Je,"i64"),k.setupModule=function(ze){let Je=!1;const rt=this instanceof _.sqlite3_module?this:ze.struct||(Je=new _.sqlite3_module);try{const Te=ze.methods||S("Missing 'methods' object.");for(const we of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const Ue=we[0],oe=we[1];Te[Ue]===!0?Te[Ue]=Te[oe]:Te[oe]===!0&&(Te[oe]=Te[Ue])}if(ze.catchExceptions){const we=function(he,_e){return["xConnect","xCreate"].indexOf(he)>=0?function(We,Be,be,Me,ht,L){try{return _e(...arguments)||0}catch(J){return J instanceof f.WasmAllocError||(g.dealloc(g.peekPtr(L)),g.pokePtr(L,g.allocCString(J.message))),k.xError(he,J)}}:function(...We){try{return _e(...We)||0}catch(Be){return k.xError(he,Be)}}},Ue=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],oe=Object.create(null);for(const he of Ue){const _e=Te[he];if(_e instanceof Function)he==="xConnect"&&Te.xCreate===_e?oe[he]=Te.xCreate:he==="xCreate"&&Te.xConnect===_e?oe[he]=Te.xConnect:oe[he]=we(he,_e);else continue}rt.installMethods(oe,!1)}else rt.installMethods(Te,!!ze.applyArgcCheck);if(rt.$iVersion===0){let we;typeof ze.iVersion=="number"?we=ze.iVersion:rt.$xShadowName?we=3:rt.$xSavePoint||rt.$xRelease||rt.$xRollbackTo?we=2:we=1,rt.$iVersion=we}}catch(Te){throw Je&&Je.dispose(),Te}return rt},_.sqlite3_module.prototype.setupModule=function(ze){return k.setupModule.call(this,ze)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const g=function _(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const k=new URL(globalThis.location.href).searchParams;return k.has("opfs-disable")?Promise.resolve(f):(S.verbose===void 0&&(S.verbose=k.has("opfs-verbose")?+k.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=k.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=_.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(te,Fe){const ze=[f.config.error,f.config.warn,f.config.log],Je=(Se,...Ve)=>{S.verbose>Se&&ze[Se]("OPFS syncer:",...Ve)},rt=(...Se)=>Je(2,...Se),Te=(...Se)=>Je(1,...Se),we=(...Se)=>Je(0,...Se),Ue=f.util.toss,oe=f.capi,he=f.util,_e=f.wasm,We=oe.sqlite3_vfs,Be=oe.sqlite3_file,be=oe.sqlite3_io_methods,Me=Object.create(null),ht=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Me.metrics={dump:function(){let Se,Ve=0,Xe=0,bt=0;for(Se in $.opIds){const ut=qe[Se];Ve+=ut.count,Xe+=ut.time,bt+=ut.wait,ut.avgTime=ut.count&&ut.time?ut.time/ut.count:0,ut.avgWait=ut.count&&ut.wait?ut.wait/ut.count:0}f.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",qe,`
Total of`,Ve,"op(s) for",Xe,"ms (incl. "+bt+" ms of waiting on the async side)"),f.config.log("Serialization metrics:",qe.s11n),Y.postMessage({type:"opfs-async-metrics"})},reset:function(){let Se;const Ve=bt=>bt.count=bt.time=bt.wait=0;for(Se in $.opIds)Ve(qe[Se]=Object.create(null));let Xe=qe.s11n=Object.create(null);Xe=Xe.serialize=Object.create(null),Xe.count=Xe.time=0,Xe=qe.s11n.deserialize=Object.create(null),Xe.count=Xe.time=0}};const L=new be,J=new We().addOnDispose(()=>L.dispose());let fe;const Qe=Se=>(fe=!0,J.dispose(),Fe(Se)),U=()=>(fe=!1,te(f)),Y=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{fe===void 0&&Qe(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),Y._originalOnError=Y.onerror,Y.onerror=function(Se){we("Error initializing OPFS asyncer:",Se),Qe(new Error("Loading OPFS async Worker failed for unknown reasons."))};const O=oe.sqlite3_vfs_find(null),D=O?new We(O):null;L.$iVersion=1,J.$iVersion=2,J.$szOsFile=oe.sqlite3_file.structInfo.sizeof,J.$mxPathname=1024,J.$zName=_e.allocCString("opfs"),J.$xDlOpen=J.$xDlError=J.$xDlSym=J.$xDlClose=null,J.addOnDispose("$zName",J.$zName,"cleanup default VFS wrapper",()=>D?D.dispose():null);const $=Object.create(null);$.verbose=S.verbose,$.littleEndian=(()=>{const Se=new ArrayBuffer(2);return new DataView(Se).setInt16(0,256,!0),new Int16Array(Se)[0]===256})(),$.asyncIdleWaitTime=150,$.asyncS11nExceptions=1,$.fileBufferSize=1024*64,$.sabS11nOffset=$.fileBufferSize,$.sabS11nSize=J.$mxPathname*2,$.sabIO=new SharedArrayBuffer($.fileBufferSize+$.sabS11nSize),$.opIds=Object.create(null);const qe=Object.create(null);{let Se=0;$.opIds.whichOp=Se++,$.opIds.rc=Se++,$.opIds.xAccess=Se++,$.opIds.xClose=Se++,$.opIds.xDelete=Se++,$.opIds.xDeleteNoWait=Se++,$.opIds.xFileSize=Se++,$.opIds.xLock=Se++,$.opIds.xOpen=Se++,$.opIds.xRead=Se++,$.opIds.xSleep=Se++,$.opIds.xSync=Se++,$.opIds.xTruncate=Se++,$.opIds.xUnlock=Se++,$.opIds.xWrite=Se++,$.opIds.mkdir=Se++,$.opIds["opfs-async-metrics"]=Se++,$.opIds["opfs-async-shutdown"]=Se++,$.opIds.retry=Se++,$.sabOP=new SharedArrayBuffer(Se*4),Me.metrics.reset()}$.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Se=>{($.sq3Codes[Se]=oe[Se])===void 0&&Ue("Maintenance required: not found:",Se)}),$.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const He=(Se,...Ve)=>{const Xe=$.opIds[Se]||Ue("Invalid op ID:",Se);$.s11n.serialize(...Ve),Atomics.store($.sabOPView,$.opIds.rc,-1),Atomics.store($.sabOPView,$.opIds.whichOp,Xe),Atomics.notify($.sabOPView,$.opIds.whichOp);const bt=performance.now();for(;Atomics.wait($.sabOPView,$.opIds.rc,-1)!=="not-equal";);const ut=Atomics.load($.sabOPView,$.opIds.rc);if(qe[Se].wait+=performance.now()-bt,ut&&$.asyncS11nExceptions){const Pt=$.s11n.deserialize();Pt&&we(Se+"() async error:",...Pt)}return ut};Me.debug={asyncShutdown:()=>{Te("Shutting down OPFS async listener. The OPFS VFS will no longer work."),He("opfs-async-shutdown")},asyncRestart:()=>{Te("Attempting to restart OPFS VFS async listener. Might work, might not."),Y.postMessage({type:"opfs-async-restart"})}};const St=()=>{if($.s11n)return $.s11n;const Se=new TextDecoder,Ve=new TextEncoder("utf-8"),Xe=new Uint8Array($.sabIO,$.sabS11nOffset,$.sabS11nSize),bt=new DataView($.sabIO,$.sabS11nOffset,$.sabS11nSize);$.s11n=Object.create(null);const ut=Object.create(null);ut.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},ut.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},ut.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},ut.string={id:4};const Pt=Et=>ut[typeof Et]||Ue("Maintenance required: this value type cannot be serialized.",Et),Yt=Et=>{switch(Et){case ut.number.id:return ut.number;case ut.bigint.id:return ut.bigint;case ut.boolean.id:return ut.boolean;case ut.string.id:return ut.string;default:Ue("Invalid type ID:",Et)}};return $.s11n.deserialize=function(Et=!1){++qe.s11n.deserialize.count;const Hr=performance.now(),Ae=Xe[0],st=Ae?[]:null;if(Ae){const ct=[];let wt=1,tr,xr,gr;for(tr=0;tr<Ae;++tr,++wt)ct.push(Yt(Xe[wt]));for(tr=0;tr<Ae;++tr){const br=ct[tr];br.getter?(gr=bt[br.getter](wt,$.littleEndian),wt+=br.size):(xr=bt.getInt32(wt,$.littleEndian),wt+=4,gr=Se.decode(Xe.slice(wt,wt+xr)),wt+=xr),st.push(gr)}}return Et&&(Xe[0]=0),qe.s11n.deserialize.time+=performance.now()-Hr,st},$.s11n.serialize=function(...Et){const Hr=performance.now();if(++qe.s11n.serialize.count,Et.length){const Ae=[];let st=0,ct=1;for(Xe[0]=Et.length&255;st<Et.length;++st,++ct)Ae.push(Pt(Et[st])),Xe[ct]=Ae[st].id;for(st=0;st<Et.length;++st){const wt=Ae[st];if(wt.setter)bt[wt.setter](ct,Et[st],$.littleEndian),ct+=wt.size;else{const tr=Ve.encode(Et[st]);bt.setInt32(ct,tr.byteLength,$.littleEndian),ct+=4,Xe.set(tr,ct),ct+=tr.byteLength}}}else Xe[0]=0;qe.s11n.serialize.time+=performance.now()-Hr},$.s11n},jt=function Se(Ve=16){Se._chars||(Se._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Se._n=Se._chars.length);const Xe=[];let bt=0;for(;bt<Ve;++bt){const ut=Math.random()*(Se._n*64)%Se._n|0;Xe[bt]=Se._chars[ut]}return Xe.join("")},Bt=Object.create(null),Ze=Object.create(null);Ze.op=void 0,Ze.start=void 0;const ce=Se=>{Ze.start=performance.now(),Ze.op=Se,++qe[Se].count},Ne=()=>qe[Ze.op].time+=performance.now()-Ze.start,Ke={xCheckReservedLock:function(Se,Ve){return _e.poke(Ve,0,"i32"),0},xClose:function(Se){ce("xClose");let Ve=0;const Xe=Bt[Se];return Xe&&(delete Bt[Se],Ve=He("xClose",Se),Xe.sq3File&&Xe.sq3File.dispose()),Ne(),Ve},xDeviceCharacteristics:function(Se){return oe.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Se,Ve,Xe){return oe.SQLITE_NOTFOUND},xFileSize:function(Se,Ve){ce("xFileSize");let Xe=He("xFileSize",Se);if(Xe==0)try{const bt=$.s11n.deserialize()[0];_e.poke(Ve,bt,"i64")}catch(bt){we("Unexpected error reading xFileSize() result:",bt),Xe=$.sq3Codes.SQLITE_IOERR}return Ne(),Xe},xLock:function(Se,Ve){ce("xLock");const Xe=Bt[Se];let bt=0;return Xe.lockType?Xe.lockType=Ve:(bt=He("xLock",Se,Ve),bt===0&&(Xe.lockType=Ve)),Ne(),bt},xRead:function(Se,Ve,Xe,bt){ce("xRead");const ut=Bt[Se];let Pt;try{Pt=He("xRead",Se,Xe,Number(bt)),(Pt===0||oe.SQLITE_IOERR_SHORT_READ===Pt)&&_e.heap8u().set(ut.sabView.subarray(0,Xe),Ve)}catch(Yt){we("xRead(",arguments,") failed:",Yt,ut),Pt=oe.SQLITE_IOERR_READ}return Ne(),Pt},xSync:function(Se,Ve){ce("xSync"),++qe.xSync.count;const Xe=He("xSync",Se,Ve);return Ne(),Xe},xTruncate:function(Se,Ve){ce("xTruncate");const Xe=He("xTruncate",Se,Number(Ve));return Ne(),Xe},xUnlock:function(Se,Ve){ce("xUnlock");const Xe=Bt[Se];let bt=0;return oe.SQLITE_LOCK_NONE===Ve&&Xe.lockType&&(bt=He("xUnlock",Se,Ve)),bt===0&&(Xe.lockType=Ve),Ne(),bt},xWrite:function(Se,Ve,Xe,bt){ce("xWrite");const ut=Bt[Se];let Pt;try{ut.sabView.set(_e.heap8u().subarray(Ve,Ve+Xe)),Pt=He("xWrite",Se,Xe,Number(bt))}catch(Yt){we("xWrite(",arguments,") failed:",Yt,ut),Pt=oe.SQLITE_IOERR_WRITE}return Ne(),Pt}},et={xAccess:function(Se,Ve,Xe,bt){ce("xAccess");const ut=He("xAccess",_e.cstrToJs(Ve));return _e.poke(bt,ut?0:1,"i32"),Ne(),0},xCurrentTime:function(Se,Ve){return _e.poke(Ve,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Se,Ve){return _e.poke(Ve,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Se,Ve,Xe){ce("xDelete");const bt=He("xDelete",_e.cstrToJs(Ve),Xe,!1);return Ne(),bt},xFullPathname:function(Se,Ve,Xe,bt){return _e.cstrncpy(bt,Ve,Xe)<Xe?0:oe.SQLITE_CANTOPEN},xGetLastError:function(Se,Ve,Xe){return Te("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ve,Xe,bt,ut,Pt){ce("xOpen");let Yt=0;Xe===0?Xe=jt():_e.isPtr(Xe)&&(oe.sqlite3_uri_boolean(Xe,"opfs-unlock-asap",0)&&(Yt|=$.opfsFlags.OPFS_UNLOCK_ASAP),oe.sqlite3_uri_boolean(Xe,"delete-before-open",0)&&(Yt|=$.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Xe=_e.cstrToJs(Xe));const Et=Object.create(null);Et.fid=bt,Et.filename=Xe,Et.sab=new SharedArrayBuffer($.fileBufferSize),Et.flags=ut,Et.readOnly=!(f.SQLITE_OPEN_CREATE&ut)&&!!(ut&oe.SQLITE_OPEN_READONLY);const Hr=He("xOpen",bt,Xe,ut,Yt);return Hr||(Et.readOnly&&_e.poke(Pt,oe.SQLITE_OPEN_READONLY,"i32"),Bt[bt]=Et,Et.sabView=$.sabFileBufView,Et.sq3File=new Be(bt),Et.sq3File.$pMethods=L.pointer,Et.lockType=oe.SQLITE_LOCK_NONE),Ne(),Hr}};D&&(J.$xRandomness=D.$xRandomness,J.$xSleep=D.$xSleep),J.$xRandomness||(et.xRandomness=function(Se,Ve,Xe){const bt=_e.heap8u();let ut=0;for(;ut<Ve;++ut)bt[Xe+ut]=Math.random()*255e3&255;return ut}),J.$xSleep||(et.xSleep=function(Se,Ve){return Atomics.wait($.sabOPView,$.opIds.xSleep,0,Ve),0}),Me.getResolvedPath=function(Se,Ve){const Xe=new URL(Se,"file://irrelevant").pathname;return Ve?Xe.split("/").filter(bt=>!!bt):Xe},Me.getDirForFilename=async function(Ve,Xe=!1){const bt=Me.getResolvedPath(Ve,!0),ut=bt.pop();let Pt=Me.rootDirectory;for(const Yt of bt)Yt&&(Pt=await Pt.getDirectoryHandle(Yt,{create:!!Xe}));return[Pt,ut]},Me.mkdir=async function(Se){try{return await Me.getDirForFilename(Se+"/filepart",!0),!0}catch{return!1}},Me.entryExists=async function(Se){try{const[Ve,Xe]=await Me.getDirForFilename(Se);return await Ve.getFileHandle(Xe),!0}catch{return!1}},Me.randomFilename=jt,Me.treeList=async function(){const Se=async function Xe(bt,ut){ut.name=bt.name,ut.dirs=[],ut.files=[];for await(const Pt of bt.values())if(Pt.kind==="directory"){const Yt=Object.create(null);ut.dirs.push(Yt),await Xe(Pt,Yt)}else ut.files.push(Pt.name)},Ve=Object.create(null);return await Se(Me.rootDirectory,Ve),Ve},Me.rmfr=async function(){const Se=Me.rootDirectory,Ve={recurse:!0};for await(const Xe of Se.values())Se.removeEntry(Xe.name,Ve)},Me.unlink=async function(Se,Ve=!1,Xe=!1){try{const[bt,ut]=await Me.getDirForFilename(Se,!1);return await bt.removeEntry(ut,{recursive:Ve}),!0}catch(bt){if(Xe)throw new Error("unlink(",arguments[0],") failed: "+bt.message,{cause:bt});return!1}},Me.traverse=async function(Se){const Ve={recursive:!0,directory:Me.rootDirectory};typeof Se=="function"&&(Se={callback:Se}),Se=Object.assign(Ve,Se||{}),async function bt(ut,Pt){for await(const Yt of ut.values()){if(Se.callback(Yt,ut,Pt)===!1)return!1;if(Se.recursive&&Yt.kind==="directory"&&await bt(Yt,Pt+1)===!1)break}}(Se.directory,0)};const Ot=async function(Se,Ve){const[Xe,bt]=await Me.getDirForFilename(Se,!0);let Pt=await (await Xe.getFileHandle(bt,{create:!0})).createSyncAccessHandle(),Yt=0,Et,Hr=!1;try{for(Pt.truncate(0);(Et=await Ve())!==void 0;)Et instanceof ArrayBuffer&&(Et=new Uint8Array(Et)),Yt===0&&Et.byteLength>=15&&(he.affirmDbHeader(Et),Hr=!0),Pt.write(Et,{at:Yt}),Yt+=Et.byteLength;if((Yt<512||Yt%512!==0)&&Ue("Input size",Yt,"is not correct for an SQLite database."),!Hr){const Ae=new Uint8Array(20);Pt.read(Ae,{at:0}),he.affirmDbHeader(Ae)}return Pt.write(new Uint8Array([1,1]),{at:18}),Yt}catch(Ae){throw await Pt.close(),Pt=void 0,await Xe.removeEntry(bt).catch(()=>{}),Ae}finally{Pt&&await Pt.close()}};if(Me.importDb=async function(Se,Ve){if(Ve instanceof Function)return Ot(Se,Ve);Ve instanceof ArrayBuffer&&(Ve=new Uint8Array(Ve)),he.affirmIsDb(Ve);const Xe=Ve.byteLength,[bt,ut]=await Me.getDirForFilename(Se,!0);let Pt,Yt=0;try{return Pt=await (await bt.getFileHandle(ut,{create:!0})).createSyncAccessHandle(),Pt.truncate(0),Yt=Pt.write(Ve,{at:0}),Yt!=Xe&&Ue("Expected to write "+Xe+" bytes but wrote "+Yt+"."),Pt.write(new Uint8Array([1,1]),{at:18}),Yt}catch(Et){throw Pt&&(await Pt.close(),Pt=void 0),await bt.removeEntry(ut).catch(()=>{}),Et}finally{Pt&&await Pt.close()}},f.oo1){const Se=function(...Ve){const Xe=f.oo1.DB.dbCtorHelper.normalizeArgs(...Ve);Xe.vfs=J.$zName,f.oo1.DB.dbCtorHelper.call(this,Xe)};Se.prototype=Object.create(f.oo1.DB.prototype),f.oo1.OpfsDb=Se,Se.importDb=Me.importDb,f.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(J.pointer,function(Ve,Xe){Xe.capi.sqlite3_busy_timeout(Ve,1e4)})}const Wt=function(){const Se=_e.scopedAllocPush(),Ve=new Be;try{const Xe=Ve.pointer,bt=oe.SQLITE_OPEN_CREATE|oe.SQLITE_OPEN_READWRITE|oe.SQLITE_OPEN_MAIN_DB,ut=_e.scopedAlloc(8),Pt="/sanity/check/file"+jt(8),Yt=_e.scopedAllocCString(Pt);let Et;if($.s11n.serialize("This is \xe4 string."),Et=$.s11n.deserialize(),rt("deserialize() says:",Et),Et[0]!=="This is \xe4 string."&&Ue("String d13n error."),et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),rt("xAccess(",Pt,") exists ?=",Et),Et=et.xOpen(J.pointer,Yt,Xe,bt,ut),rt("open rc =",Et,"state.sabOPView[xOpen] =",$.sabOPView[$.opIds.xOpen]),Et!==0){we("open failed with code",Et);return}et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),Et||Ue("xAccess() failed to detect file."),Et=Ke.xSync(Ve.pointer,0),Et&&Ue("sync failed w/ rc",Et),Et=Ke.xTruncate(Ve.pointer,1024),Et&&Ue("truncate failed w/ rc",Et),_e.poke(ut,0,"i64"),Et=Ke.xFileSize(Ve.pointer,ut),Et&&Ue("xFileSize failed w/ rc",Et),rt("xFileSize says:",_e.peek(ut,"i64")),Et=Ke.xWrite(Ve.pointer,Yt,10,1),Et&&Ue("xWrite() failed!");const Hr=_e.scopedAlloc(16);Et=Ke.xRead(Ve.pointer,Hr,6,2),_e.poke(Hr+6,0);let Ae=_e.cstrToJs(Hr);rt("xRead() got:",Ae),Ae!=="sanity"&&Ue("Unexpected xRead() value."),et.xSleep&&(rt("xSleep()ing before close()ing..."),et.xSleep(J.pointer,2e3),rt("waking up from xSleep()")),Et=Ke.xClose(Xe),rt("xClose rc =",Et,"sabOPView =",$.sabOPView),rt("Deleting file:",Pt),et.xDelete(J.pointer,Yt,4660),et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),Et&&Ue("Expecting 0 from xAccess(",Pt,") after xDelete()."),Te("End of OPFS sanity checks.")}finally{Ve.dispose(),_e.scopedAllocPop(Se)}};Y.onmessage=function({data:Se}){switch(Se.type){case"opfs-unavailable":Qe(new Error(Se.payload.join(" ")));break;case"opfs-async-loaded":Y.postMessage({type:"opfs-async-init",args:$});break;case"opfs-async-inited":{if(fe===!0)break;try{f.vfs.installVfs({io:{struct:L,methods:Ke},vfs:{struct:J,methods:et}}),$.sabOPView=new Int32Array($.sabOP),$.sabFileBufView=new Uint8Array($.sabIO,0,$.fileBufferSize),$.sabS11nView=new Uint8Array($.sabIO,$.sabS11nOffset,$.sabS11nSize),St(),S.sanityChecks&&(Te("Running sanity checks because of opfs-sanity-check URL arg..."),Wt()),ht()?navigator.storage.getDirectory().then(Ve=>{Y.onerror=Y._originalOnError,delete Y._originalOnError,f.opfs=Me,Me.rootDirectory=Ve,rt("End of OPFS sqlite3_vfs setup.",J),U()}).catch(Qe):U()}catch(Ve){we(Ve),Qe(Ve)}break}default:{const Ve="Unexpected message from the OPFS async worker: "+JSON.stringify(Se);we(Ve),Qe(new Error(Ve));break}}}}))};g.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async _=>{try{let S=g.defaultProxyUri;return _.scriptInfo.sqlite3Dir&&(g.defaultProxyUri=_.scriptInfo.sqlite3Dir+S),g().catch(k=>{_.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",k.message)})}catch(S){return _.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const g=f.util.toss,_=f.util.toss3,S=Object.create(null),k=f.capi,X=f.util,te=f.wasm,Fe=4096,ze=512,Je=4,rt=8,Te=ze+Je,we=ze,Ue=Te,oe=Fe,he=k.SQLITE_OPEN_MAIN_DB|k.SQLITE_OPEN_MAIN_JOURNAL|k.SQLITE_OPEN_SUPER_JOURNAL|k.SQLITE_OPEN_WAL,_e=".opaque",We=()=>Math.random().toString(36).slice(2),Be=new TextDecoder,be=new TextEncoder,Me=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),ht=[f.config.error,f.config.warn,f.config.log];f.config.log;const L=f.config.warn;f.config.error;const J=new Map,fe=Ze=>J.get(Ze),Qe=(Ze,ce)=>{ce?J.set(Ze,ce):J.delete(Ze)},U=new Map,Y=Ze=>U.get(Ze),O=(Ze,ce)=>{ce?U.set(Ze,ce):U.delete(Ze)},D={xCheckReservedLock:function(Ze,ce){const Ne=Y(Ze);return Ne.log("xCheckReservedLock"),Ne.storeErr(),te.poke32(ce,1),0},xClose:function(Ze){const ce=Y(Ze);ce.storeErr();const Ne=ce.getOFileForS3File(Ze);if(Ne)try{ce.log(`xClose ${Ne.path}`),ce.mapS3FileToOFile(Ze,!1),Ne.sah.flush(),Ne.flags&k.SQLITE_OPEN_DELETEONCLOSE&&ce.deletePath(Ne.path)}catch(Ke){return ce.storeErr(Ke,k.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ze){return k.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ze,ce,Ne){return k.SQLITE_NOTFOUND},xFileSize:function(Ze,ce){const Ne=Y(Ze);Ne.log("xFileSize");const et=Ne.getOFileForS3File(Ze).sah.getSize()-oe;return te.poke64(ce,BigInt(et)),0},xLock:function(Ze,ce){const Ne=Y(Ze);Ne.log(`xLock ${ce}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);return Ke.lockType=ce,0},xRead:function(Ze,ce,Ne,Ke){const et=Y(Ze);et.storeErr();const Ot=et.getOFileForS3File(Ze);et.log(`xRead ${Ot.path} ${Ne} @ ${Ke}`);try{const Wt=Ot.sah.read(te.heap8u().subarray(ce,ce+Ne),{at:oe+Number(Ke)});return Wt<Ne?(te.heap8u().fill(0,ce+Wt,ce+Ne),k.SQLITE_IOERR_SHORT_READ):0}catch(Wt){return et.storeErr(Wt,k.SQLITE_IOERR)}},xSectorSize:function(Ze){return Fe},xSync:function(Ze,ce){const Ne=Y(Ze);Ne.log(`xSync ${ce}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);try{return Ke.sah.flush(),0}catch(et){return Ne.storeErr(et,k.SQLITE_IOERR)}},xTruncate:function(Ze,ce){const Ne=Y(Ze);Ne.log(`xTruncate ${ce}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);try{return Ke.sah.truncate(oe+Number(ce)),0}catch(et){return Ne.storeErr(et,k.SQLITE_IOERR)}},xUnlock:function(Ze,ce){const Ne=Y(Ze);Ne.log("xUnlock");const Ke=Ne.getOFileForS3File(Ze);return Ke.lockType=ce,0},xWrite:function(Ze,ce,Ne,Ke){const et=Y(Ze);et.storeErr();const Ot=et.getOFileForS3File(Ze);et.log(`xWrite ${Ot.path} ${Ne} ${Ke}`);try{const Wt=Ot.sah.write(te.heap8u().subarray(ce,ce+Ne),{at:oe+Number(Ke)});return Ne===Wt?0:g("Unknown write() failure.")}catch(Wt){return et.storeErr(Wt,k.SQLITE_IOERR)}}},$=new k.sqlite3_io_methods;$.$iVersion=1,f.vfs.installVfs({io:{struct:$,methods:D}});const qe={xAccess:function(Ze,ce,Ne,Ke){const et=fe(Ze);et.storeErr();try{const Ot=et.getPath(ce);te.poke32(Ke,et.hasFilename(Ot)?1:0)}catch{te.poke32(Ke,0)}return 0},xCurrentTime:function(Ze,ce){return te.poke(ce,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ze,ce){return te.poke(ce,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ze,ce,Ne){const Ke=fe(Ze);Ke.log(`xDelete ${te.cstrToJs(ce)}`),Ke.storeErr();try{return Ke.deletePath(Ke.getPath(ce)),0}catch(et){return Ke.storeErr(et),k.SQLITE_IOERR_DELETE}},xFullPathname:function(Ze,ce,Ne,Ke){return te.cstrncpy(Ke,ce,Ne)<Ne?0:k.SQLITE_CANTOPEN},xGetLastError:function(Ze,ce,Ne){const Ke=fe(Ze),et=Ke.popErr();if(Ke.log(`xGetLastError ${ce} e =`,et),et){const Ot=te.scopedAllocPush();try{const[Wt,Se]=te.scopedAllocCString(et.message,!0);te.cstrncpy(Ne,Wt,ce),Se>ce&&te.poke8(Ne+ce-1,0)}catch{return k.SQLITE_NOMEM}finally{te.scopedAllocPop(Ot)}}return et?et.sqlite3Rc||k.SQLITE_IOERR:0},xOpen:function(ce,Ne,Ke,et,Ot){const Wt=fe(ce);try{Wt.log(`xOpen ${te.cstrToJs(Ne)} ${et}`);const Se=Ne&&te.peek8(Ne)?Wt.getPath(Ne):We();let Ve=Wt.getSAHForPath(Se);!Ve&&et&k.SQLITE_OPEN_CREATE&&(Wt.getFileCount()<Wt.getCapacity()?(Ve=Wt.nextAvailableSAH(),Wt.setAssociatedPath(Ve,Se,et)):g("SAH pool is full. Cannot create file",Se)),Ve||g("file not found:",Se);const Xe={path:Se,flags:et,sah:Ve};Wt.mapS3FileToOFile(Ke,Xe),Xe.lockType=k.SQLITE_LOCK_NONE;const bt=new k.sqlite3_file(Ke);return bt.$pMethods=$.pointer,bt.dispose(),te.poke32(Ot,et),0}catch(Se){return Wt.storeErr(Se),k.SQLITE_CANTOPEN}}},He=function(Ze){f.capi.sqlite3_vfs_find(Ze)&&_("VFS name is already registered:",Ze);const ce=new k.sqlite3_vfs,Ne=k.sqlite3_vfs_find(null),Ke=Ne?new k.sqlite3_vfs(Ne):null;return ce.$iVersion=2,ce.$szOsFile=k.sqlite3_file.structInfo.sizeof,ce.$mxPathname=ze,ce.addOnDispose(ce.$zName=te.allocCString(Ze),()=>Qe(ce.pointer,0)),Ke&&(ce.$xRandomness=Ke.$xRandomness,ce.$xSleep=Ke.$xSleep,Ke.dispose()),!ce.$xRandomness&&!qe.xRandomness&&(qe.xRandomness=function(et,Ot,Wt){const Se=te.heap8u();let Ve=0;for(;Ve<Ot;++Ve)Se[Wt+Ve]=Math.random()*255e3&255;return Ve}),!ce.$xSleep&&!qe.xSleep&&(qe.xSleep=(et,Ot)=>0),f.vfs.installVfs({vfs:{struct:ce,methods:qe}}),ce};class St{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Te);#u;#l;#c;constructor(ce=Object.create(null)){this.#c=ce.verbosity??Me.verbosity,this.vfsName=ce.name||Me.name,this.#l=He(this.vfsName),Qe(this.#l.pointer,this),this.vfsDir=ce.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(ce.clearOnInit??Me.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(ce.initialCapacity||Me.initialCapacity)})}#d(ce,...Ne){this.#c>ce&&ht[ce](this.vfsName+":",...Ne)}log(...ce){this.#d(2,...ce)}warn(...ce){this.#d(1,...ce)}error(...ce){this.#d(0,...ce)}getVfs(){return this.#l}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const ce=[],Ne=this.#i.keys();for(const Ke of Ne)ce.push(Ke);return ce}async addCapacity(ce){for(let Ne=0;Ne<ce;++Ne){const Ke=We(),Ot=await (await this.#t.getFileHandle(Ke,{create:!0})).createSyncAccessHandle();this.#n.set(Ot,Ke),this.setAssociatedPath(Ot,"",0)}return this.getCapacity()}async reduceCapacity(ce){let Ne=0;for(const Ke of Array.from(this.#s)){if(Ne===ce||this.getFileCount()===this.getCapacity())break;const et=this.#n.get(Ke);Ke.close(),await this.#t.removeEntry(et),this.#n.delete(Ke),this.#s.delete(Ke),++Ne}return Ne}releaseAccessHandles(){for(const ce of this.#n.keys())ce.close();this.#n.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(ce){const Ne=[];for await(const[Ke,et]of this.#t)et.kind==="file"&&Ne.push([Ke,et]);return Promise.all(Ne.map(async([Ke,et])=>{try{const Ot=await et.createSyncAccessHandle();if(this.#n.set(Ot,Ke),ce)Ot.truncate(oe),this.setAssociatedPath(Ot,"",0);else{const Wt=this.getAssociatedPath(Ot);Wt?this.#i.set(Wt,Ot):this.#s.add(Ot)}}catch(Ot){throw this.storeErr(Ot),this.releaseAccessHandles(),Ot}}))}getAssociatedPath(ce){ce.read(this.#a,{at:0});const Ne=this.#u.getUint32(we);if(this.#a[0]&&(Ne&k.SQLITE_OPEN_DELETEONCLOSE||!(Ne&he)))return L(`Removing file with unexpected flags ${Ne.toString(16)}`,this.#a),this.setAssociatedPath(ce,"",0),"";const Ke=new Uint32Array(rt/4);ce.read(Ke,{at:Ue});const et=this.computeDigest(this.#a);if(Ke.every((Ot,Wt)=>Ot===et[Wt])){const Ot=this.#a.findIndex(Wt=>Wt===0);return Ot===0&&ce.truncate(oe),Ot?Be.decode(this.#a.subarray(0,Ot)):""}else return L("Disassociating file with bad digest."),this.setAssociatedPath(ce,"",0),""}setAssociatedPath(ce,Ne,Ke){const et=be.encodeInto(Ne,this.#a);ze<=et.written+1&&g("Path too long:",Ne),this.#a.fill(0,et.written,ze),this.#u.setUint32(we,Ke);const Ot=this.computeDigest(this.#a);ce.write(this.#a,{at:0}),ce.write(Ot,{at:Ue}),ce.flush(),Ne?(this.#i.set(Ne,ce),this.#s.delete(ce)):(ce.truncate(oe),this.#s.add(ce))}computeDigest(ce){let Ne=0xdeadbeef,Ke=0x41c6ce57;for(const et of ce)Ne=31*Ne+et*307,Ke=31*Ke+et*307;return new Uint32Array([Ne>>>0,Ke>>>0])}async reset(ce){await this.isReady;let Ne=await navigator.storage.getDirectory(),Ke;for(const et of this.vfsDir.split("/"))et&&(Ke=Ne,Ne=await Ne.getDirectoryHandle(et,{create:!0}));return this.#e=Ne,this.#r=Ke,this.#t=await this.#e.getDirectoryHandle(_e,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(ce)}getPath(ce){return te.isPtr(ce)&&(ce=te.cstrToJs(ce)),(ce instanceof URL?ce:new URL(ce,"file://localhost/")).pathname}deletePath(ce){const Ne=this.#i.get(ce);return Ne&&(this.#i.delete(ce),this.setAssociatedPath(Ne,"",0)),!!Ne}storeErr(ce,Ne){return ce&&(ce.sqlite3Rc=Ne||k.SQLITE_IOERR,this.error(ce)),this.$error=ce,Ne}popErr(){const ce=this.$error;return this.$error=void 0,ce}nextAvailableSAH(){const[ce]=this.#s.keys();return ce}getOFileForS3File(ce){return this.#o.get(ce)}mapS3FileToOFile(ce,Ne){Ne?(this.#o.set(ce,Ne),O(ce,this)):(this.#o.delete(ce),O(ce,!1))}hasFilename(ce){return this.#i.has(ce)}getSAHForPath(ce){return this.#i.get(ce)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;k.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(_e,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(ce){f.config.error(this.vfsName,"removeVfs() failed:",ce)}return!0}exportFile(ce){const Ne=this.#i.get(ce)||g("File not found:",ce),Ke=Ne.getSize()-oe,et=new Uint8Array(Ke>0?Ke:0);if(Ke>0){const Ot=Ne.read(et,{at:oe});Ot!=Ke&&g("Expected to read "+Ke+" bytes but read "+Ot+".")}return et}async importDbChunked(ce,Ne){const Ke=this.#i.get(ce)||this.nextAvailableSAH()||g("No available handles to import to.");Ke.truncate(0);let et=0,Ot,Wt=!1;try{for(;(Ot=await Ne())!==void 0;)Ot instanceof ArrayBuffer&&(Ot=new Uint8Array(Ot)),et===0&&Ot.byteLength>=15&&(X.affirmDbHeader(Ot),Wt=!0),Ke.write(Ot,{at:oe+et}),et+=Ot.byteLength;if((et<512||et%512!==0)&&g("Input size",et,"is not correct for an SQLite database."),!Wt){const Se=new Uint8Array(20);Ke.read(Se,{at:0}),X.affirmDbHeader(Se)}Ke.write(new Uint8Array([1,1]),{at:oe+18})}catch(Se){throw this.setAssociatedPath(Ke,"",0),Se}return this.setAssociatedPath(Ke,ce,k.SQLITE_OPEN_MAIN_DB),et}importDb(ce,Ne){if(Ne instanceof ArrayBuffer)Ne=new Uint8Array(Ne);else if(Ne instanceof Function)return this.importDbChunked(ce,Ne);const Ke=this.#i.get(ce)||this.nextAvailableSAH()||g("No available handles to import to."),et=Ne.byteLength;(et<512||et%512!=0)&&g("Byte array size is invalid for an SQLite db.");const Ot="SQLite format 3";for(let Se=0;Se<Ot.length;++Se)Ot.charCodeAt(Se)!==Ne[Se]&&g("Input does not contain an SQLite database header.");const Wt=Ke.write(Ne,{at:oe});return Wt!=et?(this.setAssociatedPath(Ke,"",0),g("Expected to write "+et+" bytes but wrote "+Wt+".")):(Ke.write(new Uint8Array([1,1]),{at:oe+18}),this.setAssociatedPath(Ke,ce,k.SQLITE_OPEN_MAIN_DB)),Wt}}class jt{#e;constructor(ce){this.#e=ce,this.vfsName=ce.vfsName}async addCapacity(ce){return this.#e.addCapacity(ce)}async reduceCapacity(ce){return this.#e.reduceCapacity(ce)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(ce){const Ne=this.#e.getCapacity();return Ne<ce?this.#e.addCapacity(ce-Ne):Ne}exportFile(ce){return this.#e.exportFile(ce)}importDb(ce,Ne){return this.#e.importDb(ce,Ne)}async wipeFiles(){return this.#e.reset(!0)}unlink(ce){return this.#e.deletePath(ce)}async removeVfs(){return this.#e.removeVfs()}}const Bt=async()=>{const Ze=await navigator.storage.getDirectory(),ce=".opfs-sahpool-sync-check-"+We(),et=(await (await Ze.getFileHandle(ce,{create:!0})).createSyncAccessHandle()).close();return await et,await Ze.removeEntry(ce),et?.then&&g("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};f.installOpfsSAHPoolVfs=async function(Ze=Object.create(null)){Ze=Object.assign(Object.create(null),Me,Ze||{});const ce=Ze.name;if(Ze.$testThrowPhase1)throw Ze.$testThrowPhase1;if(S[ce])try{return await S[ce]}catch(Ne){if(Ze.forceReinitIfPreviouslyFailed)delete S[ce];else throw Ne}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[ce]=Promise.reject(new Error("Missing required OPFS APIs.")):S[ce]=Bt().then(async function(){if(Ze.$testThrowPhase2)throw Ze.$testThrowPhase2;const Ne=new St(Ze);return Ne.isReady.then(async()=>{const Ke=new jt(Ne);if(f.oo1){const et=f.oo1,Ot=Ne.getVfs(),Wt=function(...Se){const Ve=et.DB.dbCtorHelper.normalizeArgs(...Se);Ve.vfs=Ot.$zName,et.DB.dbCtorHelper.call(this,Ve)};Wt.prototype=Object.create(et.DB.prototype),Ke.OpfsSAHPoolDb=Wt}return Ne.log("VFS initialized."),Ke}).catch(async Ke=>{throw await Ne.removeVfs().catch(()=>{}),Ke})}).catch(Ne=>S[ce]=Promise.reject(Ne))}}),typeof d<"u"){const f=Object.assign(Object.create(null),{exports:typeof ee>"u"?d.asm:ee,memory:d.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=f;let g;try{g=globalThis.sqlite3ApiBootstrap()}catch(_){throw console.error("sqlite3ApiBootstrap() error:",_),_}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}d.sqlite3=g}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r=l,r}})();const lD=function(){const t=wb;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const r=e.moduleScript.src.split("/");r.pop(),e.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return t(...n).then(o=>{const a=o.sqlite3;a.scriptInfo=e,r.__isUnderTest&&(a.__isUnderTest=!0);const l=a.asyncPostInit;return delete a.asyncPostInit,l()}).catch(o=>{throw console.error("Exception loading sqlite3 module:",o),o})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();wb=lD;const uD=wb;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const x=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=x}else e=Object.assign(Object.create(null),t.defaultConfig,e);const r=Object.create(null),n=function(){},o=e.onerror||n,a=e.debug||n,l=e.generateMessageId?void 0:Object.create(null),c=e.generateMessageId||function(x){return x.type+"#"+(l[x.type]=(l[x.type]||0)+1)},p=(...x)=>{throw new Error(x.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,b;return e.worker.onmessage=function(x){x=x.data,a("worker1.onmessage",x);let N=r[x.messageId];if(!N){if(x&&x.type==="sqlite3-api"&&x.result==="worker1-ready"){e.onready&&e.onready(b);return}if(N=r[x.type],N&&N.onrow){N.onrow(x);return}e.onunhandled?e.onunhandled(arguments[0]):o("sqlite3Worker1Promiser() unhandled worker message:",x);return}switch(delete r[x.messageId],x.type){case"error":N.reject(x);return;case"open":m||(m=x.dbId);break;case"close":x.dbId===m&&(m=void 0);break}try{N.resolve(x)}catch(R){N.reject(R)}},b=function(){let x;arguments.length===1?x=arguments[0]:arguments.length===2?(x=Object.create(null),x.type=arguments[0],x.args=arguments[1],x.dbId=x.args.dbId):p("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!x.dbId&&x.type!=="open"&&(x.dbId=m),x.messageId=c(x),x.departureTime=performance.now();const N=Object.create(null);N.message=x;let R;x.type==="exec"&&x.args&&(typeof x.args.callback=="function"?(R=x.messageId+":row",N.onrow=x.args.callback,x.args.callback=R,r[R]=N):typeof x.args.callback=="string"&&p("exec callback may not be a string when using the Promise interface."));let q=new Promise(function(C,T){N.resolve=C,N.reject=T,r[x.messageId]=N,a("Posting",x.type,"message to Worker dbId="+(m||"default")+":",x),e.worker.postMessage(x)});return R&&(q=q.finally(()=>delete r[R])),q}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const r=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(o){try{e&&await e(o),r.resolve(o)}catch(a){r.reject(a)}}});const n=new Promise(function(o,a){r.resolve=o,r.reject=a});try{this.original(t)}catch(o){r.reject(o)}return n}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function DE(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(o=>{e=o})},unlock:async()=>{const o=e;t=void 0,e=void 0,o?.()}}}function _v(t,e){const r={rows:[],columns:[]},n=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:r.columns});switch(e.method){case"run":break;case"get":r.rows=n[0]??[];break;case"all":default:r.rows=n;break}return r}function d3(t){const e=t.split(/[\\/]/).filter(a=>a!==""),r=e.pop();if(!r)throw new Error("Database path is invalid.");const n=["journal","wal","shm"].map(a=>`${r}-${a}`);return{directories:e,fileName:r,tempFileNames:n,getDirectoryHandle:async()=>{let a=await navigator.storage.getDirectory();for(let l of e)a=await a.getDirectoryHandle(l);return a}}}async function b_(t,e){let r;if(t instanceof Blob?r=t.stream():r=t,r instanceof ReadableStream&&e){const o=r.getReader();switch(e){case"callback":return async()=>(await o.read()).value;case"buffer":const a=[];let l=!1;for(;!l;){const b=await o.read();b.value&&a.push(b.value),l=b.done}const c=a.reduce((b,x)=>b+x.length,0),p=new Uint8Array(c);let m=0;return a.forEach(b=>{p.set(b,m),m+=b.length}),p}}else return r}class cD{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:DE()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:DE()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:o,readOnly:a,verbose:l}=this.config,c=[a===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await uD()),this.db&&this.destroy(),"opfs"in this.sqlite3&&o!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(o,c),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(o,c),this.dbStorageType="memory",o!==":memory:"&&console.warn(`The origin private file system is not available, so ${o} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${o})`),this.reinitChannel.onmessage=p=>{this.config.clientKey!==p.data.clientKey&&this.init(p.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:n})}catch(p){this.emitMessage({type:"error",error:p,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(n,o)=>{const a=n instanceof MessageEvent?n.data:n;switch(await this.initMutex.lock(),a.type){case"config":this.editConfig(a);break;case"query":case"batch":case"transaction":this.exec(a);break;case"function":this.createUserFunction(a);break;case"getinfo":this.getDatabaseInfo(a);break;case"import":this.importDb(a);break;case"export":this.exportDb(a);break;case"delete":this.deleteDb(a);break;case"destroy":this.destroy(a);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(n,o=[])=>{this.onmessage&&this.onmessage(n,o)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.config=n.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(this.db)try{const o={type:"data",queryKey:n.queryKey,data:[]};switch(n.type){case"query":const a=this.transactionKey!==null&&this.transactionKey===n.transactionKey;try{a||await this.transactionMutex.lock();const l=_v(this.db,n);o.data.push(l)}finally{a||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let c of n.statements){const p=_v(l,c);o.data.push(p)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(n.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=n.transactionKey,this.db.exec({sql:"BEGIN"})),(n.action==="commit"||n.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===n.transactionKey){const l=n.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(o)}catch(o){this.emitMessage({type:"error",error:o,queryKey:n.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let n of this.config.onInitStatements)_v(this.db,n)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{try{const o=this.config.databasePath,a=this.dbStorageType,l=a!==void 0?a!=="memory"?await navigator.storage?.persisted():!1:void 0,p=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof p=="number"?p:void 0;this.emitMessage({type:"info",queryKey:n.queryKey,info:{databasePath:o,databaseSizeBytes:m,storageType:a,persisted:l}})}catch(o){this.emitMessage({type:"error",queryKey:n.queryKey,error:o})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{const{functionName:o,functionType:a,queryKey:l}=n;let c;if(this.userFunctions.has(o)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${o}" has already been created for this SQLocal instance.`),queryKey:l});return}a==="callback"?c=(...p)=>{this.emitMessage({type:"callback",name:o,args:p})}:c=this.proxy[`_sqlocal_func_${o}`];try{this.initUserFunction({type:a,name:o,func:c}),this.emitMessage({type:"success",queryKey:l})}catch(p){this.emitMessage({type:"error",error:p,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.createFunction({name:n.name,xFunc:(o,...a)=>n.func(...a),arity:-1}),this.userFunctions.set(n.name,n))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:o,database:a}=n;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const c=await b_(a,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,c)}else{const c=await b_(a,"buffer"),p=this.sqlite3.wasm.allocFromTypedArray(c);this.pointers.push(p);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",p,c.byteLength,c.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(c){this.emitMessage({type:"error",error:c,queryKey:o}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:o})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:n=>{if(!this.sqlite3||!this.db)return;const{queryKey:o}=n;try{const a=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:o,buffer:a},[a])}catch(a){this.emitMessage({type:"error",error:a,queryKey:o})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;const{queryKey:o}=n;let a=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:c,tempFileNames:p}=d3(this.config.databasePath),m=await l(),b=[c,...p];this.destroy(),await Promise.all(b.map(async x=>m.removeEntry(x).catch(N=>{if(!(N instanceof DOMException&&N.name==="NotFoundError"))throw N})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:o}),a=!0}finally{await this.init("delete")}a||this.emitMessage({type:"success",queryKey:o})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(o=>this.sqlite3?.wasm.dealloc(o)),this.pointers=[],n&&this.emitMessage({type:"success",queryKey:n.queryKey})}});const r=e?globalThis:bb(globalThis);this.proxy=r,this.init("initial")}}function qp(t,...e){return{sql:t.join("?"),params:e}}function dD(t){return!t.some(e=>!Array.isArray(e))}function bv(t,e){let r;return dD(t)?r=t:r=[t],r.map(n=>{const o={};return e.forEach((a,l)=>{o[a]=n[l]}),o})}function fD(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function hD(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function pD(t){if(typeof t=="function"&&(t=t(qp)),fD(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const n=t.toSQL();if(!hD(n))throw 2;return n}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let r=[];return"params"in t?r=t.params:"parameters"in t&&(r=t.parameters),{sql:e,params:r}}function wv(){return crypto.randomUUID()}function ME(t,e){let r;return typeof t=="string"?r={sql:t,params:e}:r=qp(t,...e),r}async function vh(t,e,r,n){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${r.databasePath})`,{mode:t},n):n()}class mD{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const c=l instanceof MessageEvent?l.data:l,p=this.queriesInProgress;switch(c.type){case"success":case"data":case"buffer":case"info":case"error":if(c.queryKey&&p.has(c.queryKey)){const[b,x]=p.get(c.queryKey);c.type==="error"?x(c.error):b(c),p.delete(c.queryKey)}else if(c.type==="error")throw c.error;break;case"callback":const m=this.userCallbacks.get(c.name);m&&m(...c.args??[]);break;case"event":this.config.onConnect?.(c.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>vh("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const c=wv();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:c},[l.database]);break;default:this.processor.postMessage({...l,queryKey:c});break}return new Promise((p,m)=>{this.queriesInProgress.set(c,[p,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c,p="all",m)=>{const b=await this.createQuery({type:"query",transactionKey:m,sql:l,params:c,method:p}),x={rows:[],columns:[]};return b.type==="data"&&(x.rows=b.data[0]?.rows??[],x.columns=b.data[0]?.columns??[]),x}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=await this.createQuery({type:"batch",statements:l}),p=new Array(l.length).fill({rows:[],columns:[]});return c.type==="data"&&c.data.forEach((m,b)=>{p[b]=m}),p}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...c)=>{const p=ME(l,c),{rows:m,columns:b}=await this.exec(p.sql,p.params,"all");return bv(m,b)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=l(qp);return(await this.execBatch(c)).map(({rows:m,columns:b})=>bv(m,b))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=wv();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const c=async x=>{const N=pD(x),{rows:R,columns:q}=await this.exec(N.sql,N.params,"all",l);return bv(R,q)};return{query:c,sql:async(x,...N)=>{const R=ME(x,N);return await c(R)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>vh("exclusive",!1,this.config,async()=>{let c;this.bypassMutationLock=!0;try{c=await this.beginTransaction();const p=await l({sql:c.sql,query:c.query});return await c.commit(),p}catch(p){throw await c?.rollback(),p}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,c)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{const p=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[p]=c),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[p]=c)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,c;const{storageType:p}=await this.getDatabaseInfo();if(p==="opfs"){const m=d3(this.config.databasePath),{directories:b,getDirectoryHandle:x}=m;l=m.fileName;const N=`backup-${Date.now()}--${l}`,R=`${b.join("/")}/${N}`;await this.exec("VACUUM INTO ?",[R]);const q=await x();c=await (await (await q.getFileHandle(N)).getFile()).arrayBuffer(),await q.removeEntry(N)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",c=m.buffer;else throw new Error("The database failed to export.")}return new File([c],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await vh("exclusive",!1,this.config,async()=>{try{const p=await b_(l);await this.createQuery({type:"import",database:p}),typeof c=="function"&&(this.bypassMutationLock=!0,await c()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await vh("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const r=typeof e=="string"?{databasePath:e}:e,{onInit:n,onConnect:o,...a}=r;this.config=r,this.clientKey=wv(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${a.databasePath})`),typeof globalThis.Worker<"u"&&a.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=bb(this.processor)):(this.processor=new cD(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...a,clientKey:this.clientKey,onInitStatements:n?.(qp)??[]}})}}class yD extends mD{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new Y2,createDriver:()=>new gD(this),createIntrospector:e=>new X2(e),createQueryCompiler:()=>new G2}})}}class gD{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new vD(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class vD{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let r;return this.transaction===null?r=await this.client.sql(e.sql,...e.parameters):r=await this.transaction.query(e),{rows:r}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const _D=({database:t,bootstrap:e})=>{const{dialect:r}=new yD({databasePath:`${t}.sqlite3`}),n=new sa({dialect:r});return{kysely:n,bootstrap(){return e({kysely:n})}}},So=lr({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),bD="icon-[material-symbols--error-outline]",wD=lr({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Ws=({error:t,variant:e,tva:r=wD,css:n})=>{const o=r({...e,css:n}).slots;return t?.message?y.jsxs("div",{className:o.base(),children:[y.jsx(_r,{icon:bD}),y.jsx("span",{children:Ri.rich(t.message)})]}):null},xD=lr({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),Ur=({label:t,hint:e,required:r=!1,formState:n,name:o,children:a,variant:l,tva:c=xD,css:p})=>{const m=c({isSubmitting:n.isSubmitting,isLoading:n.isLoading,isError:!!n.errors[o],required:r,...l,css:p}).slots;return y.jsxs("div",{className:m.base(),children:[y.jsxs("div",{className:"flex flex-row justify-between",children:[t?y.jsx("label",{htmlFor:o,children:t}):null,y.jsx(Ws,{variant:{compact:!0},error:n.errors[o]})]}),e?y.jsx("div",{className:"text-sm italic",children:e}):null,y.jsx("div",{className:m.input(),children:a})]})},gl=({form:t,mutation:e,onSuccess:r})=>{const n=t.handleSubmit(async o=>e.mutateAsync(o,{onSuccess:r,onError:a=>{W_({error:a,errors:[j_({error:a,schema:B_,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return o=>{o.stopPropagation(),n(o)}};function SD(t,e,r,n={leading:!1}){const[o,a]=G.useState(t),[l,c]=G.useState(t),p=G.useRef(null),m=G.useRef(!0),b=()=>window.clearTimeout(p.current||void 0);G.useEffect(()=>b,[]),G.useEffect(()=>{e(o)},[o]),G.useEffect(()=>{c(t),a(t)},[t]);const x=G.useCallback(N=>{c(N),b(),m.current&&n.leading?a(N):p.current=window.setTimeout(()=>{m.current=!0,a(N)},r),m.current=!1},[n.leading]);return[l,x]}const ED=lr({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),ND=({value:t="",onFulltext:e,textPlaceholder:r,variant:n,tva:o=ED,css:a})=>{const l=o({...n,css:a}).slots,[c,p]=SD(t,m=>{e(m||"")},500);return y.jsxs("div",{className:l.base(),children:[y.jsx("div",{className:l.search(),children:y.jsx(_r,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),y.jsx("input",{value:c||"",className:l.input(),type:"text",placeholder:r||Ri.text("Fulltext (placeholder)"),onChange:m=>{p(m.target.value)}}),t&&y.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:y.jsx(_r,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},gs=t=>e=>{t({search:({cursor:r,global:n,...o})=>({...o,global:{...n,fulltext:e},cursor:{...r,page:e?0:r.page}}),replace:!!e})},Rd="icon-[pajamas--go-back]",Cp="icon-[line-md--confirm-circle]",kD="icon-[mage--edit]",qD="icon-[arcticons--nothing-x]",CD="icon-[tabler--filter-plus]",BE="icon-[tabler--filter-minus]",xb="icon-[ph--list-dashes-thin]",Sb="icon-[material-symbols-light--logout-sharp]",RD="icon-[fluent--shape-intersect-20-regular]",cm="icon-[fluent--checkbox-unchecked-20-regular]",dm="icon-[fluent--checkbox-checked-20-regular]",OD="icon-[ph--gear-thin]",Rp="icon-[teenyicons--tag-outline]",Qn="icon-[ph--trash]",Eb="icon-[ph--user]",xv=async({queryClient:t,keys:e})=>Promise.all(e.map(r=>t.refetchQueries({queryKey:r}))).catch(r=>{console.error(r)}),ID=lr({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),TD=()=>y.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),f3=({logo:t,menu:e,actions:r,variant:n,tva:o=ID,css:a,children:l})=>{const c=o({...n,css:a}).slots;return y.jsxs("div",{className:c.base(),children:[y.jsx(LO,{position:"top-center"}),y.jsxs("div",{className:c.header(),children:[y.jsx("div",{children:t}),y.jsx("div",{className:"flex-grow",children:e}),y.jsx("div",{className:"flex flex-row gap-2 items-center",children:r})]}),y.jsx("div",{className:c.content(),children:l??y.jsx(Sa,{})}),y.jsx(TD,{})]})},AD=lr({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),PD=G.forwardRef(({icon:t,iconProps:e,variant:r,tva:n=AD,css:o,children:a,...l},c)=>{const p=n({...r,css:o}).slots;return y.jsxs("a",{...l,ref:c,className:p.base(),children:[t&&y.jsx(_r,{icon:t,...e}),a]})}),jD=MN(PD),jn=t=>y.jsx(jD,{preload:"intent",...t}),LD=lr({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),FD=({show:t=!0,variant:e,tva:r=LD,css:n})=>{const o=r({show:t,...e,css:n}).slots;return t?y.jsx("div",{className:o.base(),children:y.jsx(_r,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var Dh={exports:{}},DD=Dh.exports,WE;function MD(){return WE||(WE=1,function(t,e){(function(r,n){t.exports=n()})(DD,()=>(()=>{var r={d:(q,C)=>{for(var T in C)r.o(C,T)&&!r.o(q,T)&&Object.defineProperty(q,T,{enumerable:!0,get:C[T]})},o:(q,C)=>Object.prototype.hasOwnProperty.call(q,C)},n={};r.d(n,{default:()=>R});const o=(...q)=>{},a=q=>q!==null&&q?.constructor.name==="Object";let l,c;const p=()=>{if(!l){l=!0;try{c=x.storage||localStorage,c.getItem("")}catch{c=(()=>{const q={getItem:T=>C[T]||null,setItem:(T,F)=>{C[T]=F},removeItem:T=>{C[T]=void 0},clear:()=>{C={__proto__:q}}};let C={__proto__:q};return C})()}N()}},m="\0",b=(q,C,T=!0)=>T?[...JSON.stringify(q)].map(F=>String.fromCharCode(F.charCodeAt(0)+C)).join(""):JSON.parse([...q].map(F=>String.fromCharCode(F.charCodeAt(0)-C)).join("")),x={ttl:null,encrypt:!1,encrypter:b,decrypter:(q,C)=>b(q,C,!1),secret:75,storage:void 0};Object.seal(x);const N=(q=!1)=>{p();for(const C of Object.keys(c)){const T=c.getItem(C);let F;try{F=JSON.parse(T||"")}catch{continue}a(F)&&m in F&&(Date.now()>F.ttl||q)&&c.removeItem(C)}},R={config:x,set:(q,C,T={})=>{p();const F={...x,...T,encrypt:T.encrypt!==!1&&(T.encrypt||x.encrypt),ttl:T.ttl===null?null:T.ttl||x.ttl};try{const j=F.ttl&&!isNaN(F.ttl)&&F.ttl>0;let B=j?{[m]:C,ttl:Date.now()+1e3*F.ttl}:C;F.encrypt&&(j?B[m]=(F.encrypter||o)(B[m],F.secret):B=(F.encrypter||o)(B,F.secret)),c.setItem(q,JSON.stringify(B))}catch{return!1}},get:(q,C={})=>{p();const T=c.getItem(q),F={...x,...C,encrypt:C.encrypt!==!1&&(C.encrypt||x.encrypt),ttl:C.ttl===null?null:C.ttl||x.ttl};let j,B;try{j=JSON.parse(T||""),B=a(j)&&m in j,(F.decrypt||F.encrypt)&&(B?j[m]=(F.decrypter||o)(j[m],F.secret):j=(F.decrypter||o)(j,F.secret))}catch{}return B?Date.now()>j.ttl?(c.removeItem(q),null):j[m]:j!==void 0?j:T},flush:N,clear:()=>{p(),c.clear()},remove:q=>{p(),c.removeItem(q)}};return n.default})())}(Dh)),Dh.exports}var BD=MD();const WD=Ou(BD),Qd=WD,$D=lr({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Kd=({variant:t,tva:e=$D,css:r,children:n})=>{const o=e({...t,css:r}).slots;return y.jsx("div",{className:o.base(),children:n})},UD=lr({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),$E=({icon:t,label:e,active:r=[],variant:n,tva:o=UD,css:a,children:l})=>{const c=BN(),p=r.some(b=>!!c(b)),m=o({active:p,...n,css:a}).slots;return y.jsxs("div",{className:m.base(),children:[y.jsxs("div",{className:m.label(),children:[t?y.jsx(_r,{icon:t}):null,e]}),y.jsx("div",{className:m.items(),children:l})]})},zD=lr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),VD=G.forwardRef(({icon:t=null,variant:e,tva:r=zD,css:n,children:o,...a},l)=>{const c=r({...e,css:n}).slots;return y.jsxs("a",{...a,className:c.base(),ref:l,children:[Hp(t)?y.jsx(_r,{icon:t}):t,o]})}),HD=MN(VD),gn=({active:t=[],variant:e,...r})=>{const n=BN(),o=t.some(a=>!!n(a));return y.jsx(HD,{preload:"intent",variant:{active:!!n({to:r.to,params:r.params})||o,...e},...r})},QD=lr({slot:{base:["flex","flex-row","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),KD=({textTitle:t,textEmpty:e,items:r,render:n,limit:o,variant:a,tva:l=QD,css:c})=>{const p=o?r.slice(0,o):r,m=l({...a,css:c}).slots;return y.jsxs("div",{className:m.base(),children:[r.length?null:e,p.map(b=>y.jsx(n,{entity:b},`items-${b.id}`)),o&&r.length>o&&y.jsx(rm,{title:t,target:y.jsx(nb,{iconEnabled:gk}),outside:!0,children:y.jsx("div",{className:"flex flex-col gap-2",children:r.map(b=>y.jsx(n,{entity:b},`items-${b.id}`))})})]})},GD=lr({slot:{base:[]},variant:{},defaults:{}}),ae=({label:t,fallback:e,variant:r,tva:n=GD,css:o})=>{const a=n({...r,css:o}).slots;return y.jsx("div",{className:a.base(),children:Ri.rich(t,e)})},h3=lr({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),JD=lr({use:h3,slot:{},variant:{},defaults:{}}),ZD=({icon:t,titleText:e,modalProps:r,table:n,render:o,allowEmpty:a=!1,useListQuery:l,value:c,onChange:p,variant:m,tva:b=JD,css:x})=>{const N=b({...m,css:x}).slots,[R,q]=G.useState(0),[C,T]=G.useState(15),[F,j]=G.useState(c||[]),[B,z]=G.useState(void 0),K=l({query:{filter:{fulltext:B},cursor:{page:R,size:C}}}),W=l({query:{where:{idIn:c}},options:{enabled:!!c}});return y.jsx(rm,{icon:t,target:y.jsxs("label",{className:N.input({loading:W.isLoading,selected:!!W.data?.data.length}),children:[y.jsx(_r,{icon:W.data?.data?.length?dm:cm}),W.data&&W.data.data.length?y.jsx(o,{entities:W.data.data}):y.jsx(ae,{label:"Select item (label)"})]}),title:e,variant:{loading:K.isLoading},disabled:K.isLoading,...r,children:y.jsxs("div",{className:N.base(),children:[y.jsx("div",{className:N.content(),children:y.jsx(n,{cursor:{cursor:{page:R,size:C},count:K.data?.count?K.data.count:{filter:-1,total:-1,where:-1},textTotal:y.jsx(ae,{label:"Total count of items (label)"}),onPage(Q){q(Q)},onSize(Q){T(Q),q(0)}},fulltext:{value:B,onFulltext(Q){z(Q)}},table:{data:K.data?.data??[],selection:{type:"multi",value:F,set(Q){j(Q)}}}})}),y.jsx(ps.Consumer,{children:Q=>y.jsxs("div",{className:N.footer(),children:[y.jsx(Fn,{iconEnabled:Rd,iconDisabled:Rd,onClick:()=>{Q?.close()},variant:{variant:"subtle"},children:y.jsx(ae,{label:"Close (label)"})}),y.jsx(Fn,{iconEnabled:Cp,iconDisabled:Cp,disabled:!F.length&&!a,onClick:()=>{p(F),Q?.close()},children:y.jsx(ae,{label:"Confirm selection (label)"})})]})})]})})},p3=({icon:t,titleText:e,modalProps:r,table:n,render:o,allowEmpty:a=!1,useListQuery:l,value:c,onChange:p,variant:m,tva:b=h3,css:x})=>{const N=b({...m,css:x}).slots,[R,q]=G.useState(0),[C,T]=G.useState(10),[F,j]=G.useState(c?[c]:[]),[B,z]=G.useState(void 0),K=l({query:{where:{fulltext:B},cursor:{page:R,size:C}}}),W=l({query:{where:{id:c}},options:{enabled:!!c}});return y.jsx(rm,{icon:t,target:y.jsxs("label",{className:N.input({loading:W.isLoading,selected:!!W.data?.data?.length}),children:[y.jsx(_r,{icon:W.data?.data?.[0]?dm:cm}),W.data?.data?.[0]?y.jsx(o,{entity:W.data?.data?.[0]}):y.jsx(ae,{label:"Select item (label)"})]}),title:e,variant:{loading:K.isLoading},disabled:K.isLoading,...r,children:y.jsxs("div",{className:N.base(),children:[y.jsx("div",{className:N.content(),children:y.jsx(n,{cursor:{cursor:{page:R,size:C},count:K.data?.count?K.data.count:{filter:-1,total:-1,where:-1},textTotal:y.jsx(ae,{label:"Total count of items (label)"}),onPage(Q){q(Q)},onSize(Q){T(Q)}},fulltext:{value:B,onFulltext(Q){z(Q)}},table:{data:K.data?.data??[],selection:{type:"single",value:F,set(Q){j(Q)}}}})}),y.jsx(ps.Consumer,{children:Q=>y.jsxs("div",{className:N.footer(),children:[y.jsx(Fn,{iconEnabled:Rd,iconDisabled:Rd,onClick:()=>{Q?.close()},variant:{variant:"subtle"},children:y.jsx(ae,{label:"Close (label)"})}),y.jsx(Fn,{iconEnabled:Cp,iconDisabled:Cp,disabled:!F.length&&!a,onClick:()=>{p(F?.[0]),Q?.close()},children:y.jsx(ae,{label:"Confirm selection (label)"})})]})})]})})},XD=lr({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),Nb=({entity:t,title:e=()=>null,links:r=()=>null,actions:n=()=>null,extra:o=()=>null,variant:a,tva:l=XD,css:c})=>{const p=l({...a,css:c}).slots;return y.jsx(ib.Provider,{value:{inline:!0},children:y.jsx("div",{className:p.base(),children:y.jsxs("div",{className:p.container(),children:[y.jsx("div",{className:p.title(),children:y.jsx(e,{entity:t})}),y.jsx("div",{className:p.links(),children:y.jsx(r,{entity:t})}),y.jsx("div",{className:p.actions(),children:y.jsx(n,{entity:t})}),y.jsx("div",{className:p.extra(),children:y.jsx(o,{entity:t})})]})})})},YD=lr({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),di=({repository:t,textContent:e,idIn:r,onCancel:n,variant:o,tva:a=YD,css:l})=>{const c=a({...o,css:l}).slots,p=G.useContext(ps),m=t.useRemoveMutation({async wrap(b){return FO.promise(b(),{loading:y.jsx(ae,{label:"Deleting... (label)"}),success:y.jsx(ae,{label:"Items deleted (label)"}),error:y.jsx(ae,{label:"Items cannot be removed (label)"})})},async onSuccess(){p?.close()}});return y.jsxs("div",{className:c.base(),children:[y.jsx("div",{className:c.content(),children:e}),y.jsxs("div",{className:c.footer(),children:[y.jsx(Fn,{variant:{variant:"subtle",size:"sm"},iconEnabled:Rd,onClick:()=>{p?.close(),n?.()},children:y.jsx(ae,{label:"Cancel (button)"})}),y.jsx(Fn,{variant:{variant:"danger",size:"md"},iconEnabled:Qn,onClick:()=>m.mutate({idIn:r}),children:y.jsx(ae,{label:"Delete (button)"})})]})]})},Eo=({name:t,invalidate:e=[],...r})=>{const n=GP(r),o=[["withListLoader",t],["useListQuery",t],["withFetchLoader",t],["withCountLoader",t],...e],a={...n,name:t,invalidate:o,async withListLoader({tx:l,queryClient:c,where:p,filter:m,cursor:b={page:0,size:10}}){return c.ensureQueryData({queryKey:["withListLoader",t,{where:p,filter:m,cursor:b}],async queryFn(){return n.list({tx:l,query:{where:p,filter:m,cursor:b}})}})},async withFetchLoader({tx:l,queryClient:c,where:p,filter:m,cursor:b}){return c.ensureQueryData({queryKey:["withFetchLoader",t,{where:p,filter:m,cursor:b}],async queryFn(){return n.fetchOrThrow({tx:l,query:{where:p,filter:m,cursor:b}})}})},async withCountLoader({tx:l,queryClient:c,where:p,filter:m}){return c.ensureQueryData({queryKey:["withCountLoader",t,{where:p,filter:m}],async queryFn(){return n.count({tx:l,query:{where:p,filter:m}})}})},withRouteListLoader(){return async({context:{queryClient:l},deps:{global:c,where:p,filter:m,cursor:b}})=>n.db.transaction().execute(async x=>({data:await a.withListLoader({tx:x,queryClient:l,where:p,filter:{...c,...m},cursor:b}),count:await a.withCountLoader({tx:x,queryClient:l,where:p,filter:{...c,...m}})}))},useListQuery({query:l,options:c}){return FC({queryKey:["useListQuery",t,{query:l}],async queryFn(){return n.db.transaction().execute(async p=>({data:await n.list({tx:p,query:l}),count:await n.count({tx:p,query:l})}))},...c})},useCreateMutation({wrap:l=async m=>m(),toCreate:c=async({shape:m})=>({entity:m,shape:m}),onSuccess:p}){const m=$c(),b=ki();return Uc({mutationKey:["useCreateMutation",t],async mutationFn(x){return l(async()=>n.db.transaction().execute(async N=>{const R=await n.create({tx:N,...await c({shape:x}),shape:x});return await p?.({entity:R}),await xv({queryClient:m,keys:o}),await b.invalidate(),R}))}})},usePatchMutation({wrap:l=m=>m(),toPatch:c,onSuccess:p}){const m=$c(),b=ki();return Uc({mutationKey:["usePatchMutation",t],async mutationFn(x){return l(async()=>{n.db.transaction().execute(async N=>{const R=await n.patch({tx:N,entity:x,shape:x,...await c({shape:x})});return await p?.({entity:R}),await xv({queryClient:m,keys:o}),await b.invalidate(),R})})}})},useRemoveMutation({wrap:l=p=>p(),onSuccess:c}){const p=$c(),m=ki();return Uc({mutationKey:["useRemoveMutation",t],async mutationFn({idIn:b}){return l(async()=>{n.db.transaction().execute(async x=>{await n.remove({tx:x,idIn:b}),await xv({queryClient:p,keys:o}),await c?.({}),await m.invalidate()})})}})}};return a},eM=lr({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),m3=({textTitle:t,textMessage:e,icon:r,iconProps:n,variant:o,tva:a=eM,css:l,children:c})=>{const p=a({...o,css:l}).slots;return y.jsxs("div",{className:p.base(),children:[r?y.jsx(_r,{icon:r,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...n}):null,y.jsx("div",{className:p.title(),children:t}),y.jsx("div",{className:p.message(),children:e}),y.jsx("div",{className:p.body(),children:c})]})},kb=lr({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),tM=({table:t,cell:{column:e,data:r,value:n},variant:o,tva:a=kb,css:l})=>{const c=e.def.render,p=a({...o,css:l}).slots;return y.jsx("td",{className:p.td(),children:y.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[y.jsx(c,{table:t,data:r,value:n}),e.filter&&!e.filter.is()?y.jsx(_r,{icon:CD,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:r,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},rM=({table:t,row:e,action:r,variant:n,tva:o=kb,css:a})=>{const l=o({...n,css:a}).slots,c=r?.table,p=r?.row;return y.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[c||p||t.selection.enabled?y.jsx("td",{className:"w-0",children:y.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?y.jsx(_r,{icon:t.selection.isSelected(e)?dm:cm,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,p?y.jsx(p,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>y.jsx(tM,{table:t,cell:m,variant:n,tva:o,css:a},`${e.id}-${m.column.id}`)),y.jsx("td",{})]})},No=({table:t,fulltext:e,cursor:r,empty:n=()=>y.jsx(m3,{icon:qD,textTitle:y.jsx(ae,{label:"Nothing here"}),textMessage:y.jsx(ae,{label:"There is nothing to see right now."})}),action:o,variant:a,tva:l=kb,css:c})=>{const p=l({...a,css:c}).slots,m=o?.table,b=o?.row;return y.jsxs("div",{className:p.base(),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?y.jsx(ND,{...e}):null}),y.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[y.jsx(cE,{...r}),t.filter.is()&&y.jsx(nb,{iconEnabled:BE,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),y.jsx("div",{className:"relative overflow-x-auto",children:y.jsxs("table",{className:p.table(),children:[y.jsx("thead",{className:p.thead(),children:y.jsxs("tr",{children:[m||b||t.selection.enabled?y.jsx("th",{className:"w-0",children:y.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?y.jsx(_r,{icon:t.selection.isAll()?dm:t.selection.isAny()?RD:cm,variant:{disabled:t.selection.isSingle},css:{base:p.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?y.jsx(m,{table:t}):null]})}):null,t.visible.map(x=>{const N=x.def.header||(()=>null);return y.jsx("th",{className:p.th(),style:x.def.size?{width:`${x.def.size}rem`}:void 0,children:y.jsxs("div",{className:"flex flex-row items-center justify-between",children:[y.jsx(N,{table:t}),y.jsx("div",{className:"flex flex-row items-center gap-2",children:x.filter?.is()&&y.jsx(_r,{icon:BE,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{x.filter?.reset()}})})]})},x.id)}),y.jsx("th",{})]})}),t.isEmpty?null:y.jsx("tbody",{className:p.tbody(),children:t.rows?.map(x=>y.jsx(rM,{row:x,table:t,action:o,variant:a,tva:l,css:c},x.id))})]})}),t.isEmpty?y.jsx(n,{}):null,y.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[y.jsx("div",{}),y.jsx(cE,{...r})]})]})},En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function nM(t,e=0){return(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase()}let Sv;const iM=new Uint8Array(16);function sM(){if(!Sv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Sv=crypto.getRandomValues.bind(crypto)}return Sv(iM)}const oM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UE={randomUUID:oM};function zE(t,e,r){if(UE.randomUUID&&!e&&!t)return UE.randomUUID();t=t||{};const n=t.random||(t.rng||sM)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,nM(n)}const ko=({columns:t,order:e=t.map(c=>c.name),hidden:r=[],visible:n=t.map(c=>c.name),data:o,filter:a,selection:l})=>{const c={...a?.value||{}},p=PS(c||{}),m=new Set(l?.value),b=t.map(N=>({id:zE(),def:N,filter:N.filter?{is(){return N.filter?p.get(N.filter.path)!==void 0:!1},reset(){N.filter&&p.set(N.filter.path,void 0),a?.set({...c})},shallow(R,q){N.filter&&p.set(R,q),a?.set({...c})},set(R){a?.set({...R})}}:void 0})),x=b.filter(N=>n.includes(N.def.name)&&!r.includes(N.def.name)).sort((N,R)=>{const q=e.indexOf(N.def.name),C=e.indexOf(R.def.name);return(q===-1?1/0:q)-(C===-1?1/0:C)});return{columns:b,visible:x,rows:o?.map(N=>({id:zE(),data:N,cells:x.map(R=>({column:R,data:N,value:PS(N).get(R.def.name)}))})),isEmpty:o.length===0,filter:{is(){return b.some(N=>N.filter?.is())},reset(){a?.set({})},set(N){a?.set({...N})},shallow(N,R){p.set(N,R)}},selection:{enabled:!!l&&o.length>0,selection:Array.from(m),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:N}){return m.has(N.id)||!1},isAll(){return o.every(N=>m.has(N.id))},isAny(){return o.some(N=>m.has(N.id))},withRowHandler({data:N}){return()=>{if(l?.type==="single"){const R=m.has(N.id);m.clear(),R?m.delete(N.id):m.add(N.id)}else m.has(N.id)?m.delete(N.id):m.add(N.id);l?.set(Array.from(m))}},withAllHandler(){return()=>{o.every(N=>m.has(N.id))?m.clear():o.forEach(({id:N})=>m.add(N)),l?.set(Array.from(m))}}}}},qo=()=>t=>t,y3=({tags:t=[],render:e=({tag:o})=>o.label,onClick:r,textEmpty:n})=>{const o=t.filter(Boolean).sort((a,l)=>a.sort-l.sort);return y.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:o.length?o.map(a=>y.jsx(YL,{onClick:()=>r?.(a),children:e({tag:a})},a.id)):n||y.jsx(ae,{label:"No tags (label)"})})},aM=lr({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),qb=({icon:t,title:e,subtitle:r,variant:n,tva:o=aM,css:a})=>{const l=o({withSubtitle:!!r,...n,css:a}).slots;return y.jsxs("div",{className:l.base(),children:[y.jsxs("div",{className:l.title(),children:[t?y.jsx(_r,{icon:t}):null,e]}),r?y.jsx("div",{className:l.subtitle(),children:r}):null]})};var _h={},VE;function lM(){if(VE)return _h;VE=1;var t=DN();return _h.createRoot=t.createRoot,_h.hydrateRoot=t.hydrateRoot,_h}var uM=lM();const cM=Ou(uM),Cb=ER()({component:()=>y.jsxs(y.Fragment,{children:[y.jsx(VR,{}),y.jsx(Sa,{})]})}),dM="modulepreload",fM=function(t){return"/"+t},HE={},QE=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=Promise.allSettled(r.map(p=>{if(p=fM(p),p in HE)return;HE[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":dM,m||(x.as="script"),x.crossOrigin="",x.href=p,c&&x.setAttribute("nonce",c),document.head.appendChild(x),m)return new Promise((N,R)=>{x.addEventListener("load",N),x.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},hM=fr("/$locale")({component:Sa,loader:async({params:{locale:t}})=>{try{Ri.push((await pM(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function pM(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return QE(()=>import("./cs-D6ordFHs.js"),[]);case"../translation/en":case"../translation/en.yaml":return QE(()=>import("./en-U0FaVjzU.js"),[]);default:return new Promise(function(e,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const g3="cs",mM=[g3,"en"],yM=fr("/")({loader:async()=>{throw jp({to:"/$locale",params:{locale:qA({available:mM,fallback:g3})}})}}),gM=fr("/$locale/")({component:()=>{const{locale:t}=_n({from:"/$locale"});return y.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:y.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[y.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),y.jsx("ul",{children:y.jsx("li",{children:y.jsx(jn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),vM=async t=>{const e={user:en(),castle:en(),storage:en(),resource:{wood:en(),stone:en(),storageBlueprint:en(),castleBlueprint:en()},tag:{material:en(),blueprint:en()}};try{await t.insertInto("User").values([{id:e.user,login:"aaa",password:D_.hash("aaa"),name:"Root"}]).execute()}catch{}try{await t.insertInto("BaseBuilding").values([{id:e.castle,name:"Castle",preview:!0,cycles:5,limit:0},{id:e.storage,name:"Storage",preview:!0,cycles:1,limit:0}]).execute()}catch{}try{await t.insertInto("Tag").values([{id:e.tag.material,code:"material",label:"Material",sort:0,group:"resource"},{id:e.tag.blueprint,code:"blueprint",label:"Blueprint",sort:1,group:"resource"}]).execute()}catch{}try{await t.insertInto("Resource").values([{id:e.resource.wood,name:"Wood"},{id:e.resource.stone,name:"Stone"},{id:e.resource.storageBlueprint,name:"Storage - Blueprint"},{id:e.resource.castleBlueprint,name:"Castle - Blueprint"}]).execute()}catch{}try{await t.insertInto("Resource_Tag").values([{id:en(),resourceId:e.resource.stone,tagId:e.tag.material},{id:en(),resourceId:e.resource.wood,tagId:e.tag.material},{id:en(),resourceId:e.resource.storageBlueprint,tagId:e.tag.blueprint},{id:en(),resourceId:e.resource.castleBlueprint,tagId:e.tag.blueprint}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Requirement").values([{id:en(),baseBuildingId:e.storage,resourceId:e.resource.stone,passive:!1,amount:3},{id:en(),baseBuildingId:e.storage,resourceId:e.resource.wood,passive:!1,amount:5},{id:en(),baseBuildingId:e.castle,resourceId:e.resource.stone,passive:!1,amount:10},{id:en(),baseBuildingId:e.castle,resourceId:e.resource.wood,passive:!1,amount:25}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Limit").values([{id:en(),baseBuildingId:e.storage,resourceId:e.resource.stone,limit:100},{id:en(),baseBuildingId:e.storage,resourceId:e.resource.wood,limit:150},{id:en(),baseBuildingId:e.castle,resourceId:e.resource.stone,limit:25},{id:en(),baseBuildingId:e.castle,resourceId:e.resource.wood,limit:50}]).execute()}catch{}},vn=_D({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)",r=async()=>{await t.schema.createTable("User").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull()).addColumn("login","varchar(128)",l=>l.notNull().unique()).addColumn("password","varchar(256)",l=>l.notNull()).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("code","varchar(64)",l=>l.notNull()).addColumn("label","varchar(128)",l=>l.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",l=>l.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute()},n=async()=>{await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId",e,l=>l.references("Tag.id").onDelete("cascade").notNull()).addUniqueConstraint("Resource_Tag_resourceId_tagId",["resourceId","tagId"]).execute()},o=async()=>{await t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).addColumn("preview","boolean",l=>l.notNull()).addColumn("cycles","int2",l=>l.notNull()).addColumn("limit","int2",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuilding_Requirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Requirement_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuilding_Limit").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("limit","float8",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Limit_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute()},a=async()=>{await t.schema.createTable("Building").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).execute(),await t.schema.createTable("Building_Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Building_Storage_buildingId_resourceId",["buildingId","resourceId"]).execute()};await r(),await n(),await o(),await a(),await vM(t)}}),_M=fr("/$locale/apps/derivean")({async loader(){return vn.bootstrap()}}),bM="icon-[proicons--game]",wM=lr({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),v3=({variant:t,tva:e=wM,css:r})=>{const n=e({...t,css:r}).slots;return y.jsx("div",{className:n.base(),children:"DeRivean"})},vo="icon-[material-symbols-light--construction-rounded]",_o="icon-[fluent--building-shop-20-regular]",Zr="icon-[hugeicons--resources-add]",xM=t=>{const{locale:e}=_n({from:"/$locale"});return y.jsxs(Kd,{...t,children:[y.jsx(gn,{icon:Eb,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:y.jsx(ae,{label:"User list (menu)"})}),y.jsxs($E,{icon:_o,label:y.jsx(ae,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/requirement/list"},{to:"/$locale/apps/derivean/root/building/base/$id/limit/list"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/$id/resource/list"},{to:"/$locale/apps/derivean/root/building/base/$id/resource/list"}],children:[y.jsx(gn,{icon:vo,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ae,{label:"Base building list (menu)"})}),y.jsx(gn,{icon:_o,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ae,{label:"Building list (menu)"})})]}),y.jsx(gn,{icon:Zr,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:y.jsx(ae,{label:"Resource list (menu)"})}),y.jsx($E,{icon:OD,label:y.jsx(ae,{label:"Settings (menu)"}),children:y.jsx(gn,{icon:Rp,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ae,{label:"Tag list (menu)"})})})]})},fm=Pe.object({id:Pe.string(),name:Pe.string(),login:Pe.string()}),SM=fr("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return fm.parse(Qd.get("session"))}catch{throw jp({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=_n({from:"/$locale"}),{session:e}=pl({from:"/$locale/apps/derivean/root"});return y.jsx(f3,{logo:y.jsx(jn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:y.jsx(v3,{})}),menu:y.jsx(xM,{}),actions:y.jsxs(y.Fragment,{children:[e.name,y.jsx(jn,{icon:bM,to:"/$locale/apps/derivean/game",params:{locale:t}}),y.jsx(jn,{icon:Sb,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),hm=bo({entity:ZP,shape:Pe.object({code:Pe.string().min(1),label:Pe.string().min(1),group:Pe.string().nullish(),sort:Pe.number()}),filter:xo.merge(Pe.object({code:Pe.string().optional(),group:Pe.string().optional()}))}),KE=wo.merge(Pe.object({name:Pe.string().min(1)})),Mu=bo({entity:KE,output:KE.merge(Pe.object({tagIds:Pe.array(Pe.string()),tags:Pe.array(hm.output)})),shape:Pe.object({name:Pe.string().min(1),tagIds:Pe.array(Pe.string()).optional()}),filter:xo.merge(Pe.object({baseBuildingId:Pe.string().optional()}))}),GE=wo.merge(Pe.object({baseBuildingId:Pe.string().min(1),resourceId:Pe.string().min(1),limit:Pe.number().positive()})),pm=bo({entity:GE,output:GE.merge(Pe.object({resource:Mu.output})),shape:Pe.object({resourceId:Pe.string().min(1),limit:Pe.union([Pe.number().positive(),Pe.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Ri.text("Limit must be a number")})])}),filter:xo.merge(Pe.object({resourceId:Pe.string().optional(),baseBuildingId:Pe.string().optional()}))}),JE=wo.merge(Pe.object({baseBuildingId:Pe.string().min(1),resourceId:Pe.string().min(1),amount:Pe.number().positive(),passive:Pe.union([Pe.boolean(),Pe.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),mm=bo({entity:JE,output:JE.merge(Pe.object({resource:Mu.output})),shape:Pe.object({resourceId:Pe.string().min(1),amount:Pe.union([Pe.number().positive(),Pe.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Ri.text("Amount must be a number")})]),passive:Pe.boolean()}),filter:xo.merge(Pe.object({baseBuildingId:Pe.string().optional(),resourceId:Pe.string().optional(),passive:Pe.boolean().optional()}))}),ZE=wo.merge(Pe.object({name:Pe.string().min(1),preview:Pe.union([Pe.boolean(),Pe.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),cycles:Pe.number().int().positive(),limit:Pe.number().int().nonnegative()})),Gd=bo({entity:ZE,output:ZE.merge(Pe.object({requirements:Pe.array(mm.output),limits:Pe.array(pm.output)})),shape:Pe.object({name:Pe.string().min(1),preview:Pe.boolean(),cycles:Pe.union([Pe.number().int().positive(),Pe.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Ri.text("Cycles must be a number")})]),limit:Pe.union([Pe.number().int().nonnegative(),Pe.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Ri.text("Limit must be a number")})])}),filter:xo.merge(Pe.object({name:Pe.string().optional()}))}),EM=bo({entity:wo.merge(Pe.object({resourceId:Pe.string().min(1),tagId:Pe.string().min(1)})),shape:Pe.object({resourceId:Pe.string().min(1),tagId:Pe.string().min(1)}),filter:xo.merge(Pe.object({resourceId:Pe.string().optional(),tagId:Pe.string().optional()}))}),Ev=Eo({name:"ResourceTagRepository",db:vn.kysely,schema:EM,meta:{where:{id:"rt.id",idIn:"rt.id",resourceId:"rt.resourceId",tagId:"rt.tagId"},fulltext:["r.id","r.name","rt.id","t.code","t.group","t.id","t.label"]},select({tx:t}){return t.selectFrom("Resource_Tag as rt").selectAll("rt").leftJoin("Resource as r","r.id","rt.resourceId").leftJoin("Tag as t","t.id","rt.tagId")},mutation:{insert({tx:t}){return t.insertInto("Resource_Tag")},update({tx:t}){return t.updateTable("Resource_Tag")},remove({tx:t}){return t.deleteFrom("Resource_Tag")}}}),NM=({database:t,repository:e})=>Eo({name:"TagRepository",db:t.kysely,schema:hm,meta:{where:{code:"t.code",group:"t.group",id:"t.id",idIn:"t.id"},fulltext:["t.code","t.label","t.group","t.id"]},select({tx:r}){return r.selectFrom("Tag as t").selectAll("t")},mutation:{insert({tx:r}){return r.insertInto("Tag")},update({tx:r}){return r.updateTable("Tag")},remove({tx:r}){return r.deleteFrom("Tag")}},...e}),vu=NM({database:vn,repository:{invalidate:[]}}),Os=Eo({name:"Resource",db:vn.kysely,schema:Mu,meta:{where:{id:"r.id",idIn:"r.id",baseBuildingId:"bbr.baseBuildingId"},fulltext:["r.description","r.name","r.id"]},select({tx:t,query:{where:e,filter:r}}){let n=t.selectFrom("Resource as r").selectAll("r");return(e?.baseBuildingId||r?.baseBuildingId)&&(n=n.leftJoin("BaseBuilding_Requirement as bbr","bbr.resourceId","r.id")),n},mutation:{insert({tx:t}){return t.insertInto("Resource")},update({tx:t}){return t.updateTable("Resource")},remove({tx:t}){return t.deleteFrom("Resource")}},map:{async toOutput({tx:t,entity:e}){const r=(await Ev.list({tx:t,query:{where:{resourceId:e.id}}})).map(({tagId:n})=>n);return{...e,tagIds:r,tags:await vu.list({tx:t,query:{where:{idIn:r}}})}}},event:{async onPostCreate({tx:t,entity:e,shape:r}){await Promise.all(r.tagIds?.forEach(async n=>Ev.create({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))||[])},async onPostPatch({tx:t,entity:e,shape:r}){Array.isArray(r.tagIds)&&(await vn.kysely.deleteFrom("Resource_Tag").where("resourceId","=",e.id).execute(),await Promise.all(r.tagIds.map(async n=>Ev.create({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))))}}}),nu=Eo({name:"BaseBuildingLimitRepository",db:vn.kysely,schema:pm,meta:{where:{id:"bbl.id",idIn:"bbl.id",resourceId:"bbl.resourceId",baseBuildingId:"bbl.baseBuildingId"},fulltext:["bbl.id","bbl.resourceId","r.id","r.name"]},mutation:{insert({tx:t}){return t.insertInto("BaseBuilding_Limit")},update({tx:t}){return t.updateTable("BaseBuilding_Limit")},remove({tx:t}){return t.deleteFrom("BaseBuilding_Limit")}},select({tx:t}){return t.selectFrom("BaseBuilding_Limit as bbl").selectAll("bbl").leftJoin("Resource as r","r.id","bbl.resourceId")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Os.fetchOrThrow({tx:t,query:{where:{id:e.resourceId}}})}}}}),iu=Eo({name:"BaseBuildingRequirementRepository",db:vn.kysely,schema:mm,meta:{where:{id:"bbr.id",idIn:"bbr.id",baseBuildingId:"bbr.baseBuildingId",resourceId:"bbr.resourceId",passive:"bbr.passive"},fulltext:["bbr.id","bbr.baseBuildingId","bbr.resourceId","bbr.name","bbr.name"]},select({tx:t}){return t.selectFrom("BaseBuilding_Requirement as bbr").selectAll("bbr").leftJoin("BaseBuilding as bb","bb.id","bbr.baseBuildingId").leftJoin("Resource as r","r.id","bbr.resourceId")},mutation:{insert({tx:t}){return t.insertInto("BaseBuilding_Requirement")},update({tx:t}){return t.updateTable("BaseBuilding_Requirement")},remove({tx:t}){return t.deleteFrom("BaseBuilding_Requirement")}},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Os.fetchOrThrow({tx:t,query:{where:{id:e.resourceId}}})}}}}),Hi=Eo({name:"BaseBuilding",db:vn.kysely,schema:Gd,meta:{where:{id:"bb.id",idIn:"bb.id",name:"bb.name"},fulltext:["bb.name","bb.description","bb.id"]},select({tx:t}){return t.selectFrom("BaseBuilding as bb").selectAll("bb")},mutation:{insert({tx:t}){return t.insertInto("BaseBuilding")},update({tx:t}){return t.updateTable("BaseBuilding")},remove({tx:t}){return t.deleteFrom("BaseBuilding")}},map:{async toOutput({tx:t,entity:e}){return{...e,requirements:await iu.list({tx:t,query:{where:{baseBuildingId:e.id}}}),limits:await nu.list({tx:t,query:{where:{baseBuildingId:e.id}}})}}}}),XE=wo.merge(Pe.object({userId:Pe.string().min(1),baseBuildingId:Pe.string().min(1)})),Jd=bo({entity:XE,output:XE.merge(Pe.object({baseBuilding:Gd.output})),shape:Pe.object({baseBuildingId:Pe.string().min(1)}),filter:xo.merge(Pe.object({userId:Pe.string().optional(),baseBuildingId:Pe.string().optional()}))}),oa=Eo({name:"BuildingRepository",db:vn.kysely,schema:Jd,meta:{where:{id:"b.id",idIn:"b.id",baseBuildingId:"b.baseBuildingId",userId:"b.userId"},fulltext:["b.id","b.baseBuildingId","b.userId","bb.name"]},select({tx:t}){return t.selectFrom("Building as b").selectAll("b").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId")},mutation:{insert({tx:t}){return t.insertInto("Building")},update({tx:t}){return t.updateTable("Building")},remove({tx:t}){return t.deleteFrom("Building")}},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await Hi.fetchOrThrow({tx:t,query:{where:{id:e.baseBuildingId}}})}}}}),YE=wo.merge(Pe.object({buildingId:Pe.string().min(1),resourceId:Pe.string().min(1),amount:Pe.number().positive()})),Zd=bo({entity:YE,output:YE.merge(Pe.object({building:Jd.output,resource:Mu.output})),shape:Pe.object({resourceId:Pe.string().min(1),amount:Pe.union([Pe.number().positive(),Pe.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Ri.text("Amount must be a number")})])}),filter:xo.merge(Pe.object({userId:Pe.string().optional(),buildingId:Pe.string().optional(),resourceId:Pe.string().optional()}))}),Is=Eo({name:"BuildingResourceRepository",db:vn.kysely,schema:Zd,meta:{where:{id:"br.id",idIn:"br.id",buildingId:"br.buildingId",resourceId:"br.resourceId",userId:"b.userId"},fulltext:["br.id","bb.name","r.name"]},select({tx:t}){return t.selectFrom("Building_Resource as br").selectAll("br").leftJoin("Building as b","b.id","br.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","br.resourceId")},mutation:{insert({tx:t}){return t.insertInto("Building_Resource")},update({tx:t}){return t.updateTable("Building_Resource")},remove({tx:t}){return t.deleteFrom("Building_Resource")}},map:{async toOutput({tx:t,entity:e}){return{...e,building:await oa.fetchOrThrow({tx:t,query:{where:{id:e.buildingId}}}),resource:await Os.fetchOrThrow({tx:t,query:{where:{id:e.resourceId}}})}}}}),kM=t=>{const{locale:e}=_n({from:"/$locale"});return y.jsxs(Kd,{...t,children:[y.jsx(gn,{icon:vo,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:y.jsx(ae,{label:"Building build list (label)"})}),y.jsx(gn,{icon:_o,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:y.jsx(ae,{label:"Building list (label)"})}),y.jsx(gn,{icon:Zr,to:"/$locale/apps/derivean/game/building/resource/list",params:{locale:e},children:y.jsx(ae,{label:"Resource list (menu)"})})]})},Rb=({resources:t})=>t.reduce((e,r)=>(e[r.resourceId]||(e[r.resourceId]=0),e[r.resourceId]+=r.amount,e),{}),qM=fr("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return fm.parse(Qd.get("session"))}catch{throw jp({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){const e=await t();return vn.kysely.transaction().execute(async r=>({session:e,resources:Rb({resources:await Is.list({tx:r,query:{where:{userId:e.id}}})})}))},component:()=>{const{locale:t}=_n({from:"/$locale"}),{session:e}=pl({from:"/$locale/apps/derivean/game"});return y.jsx(f3,{logo:y.jsx(jn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:y.jsx(v3,{})}),menu:y.jsx(kM,{}),actions:y.jsxs(y.Fragment,{children:[e.name,y.jsx(jn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),y.jsx(jn,{icon:Sb,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),children:y.jsx(Sa,{})})}}),CM=fr("/$locale/apps/derivean/game/")({component:()=>y.jsx("div",{children:"game dashboard here :)"}),async loader({context:{session:t}}){return vn.kysely.transaction().execute(async e=>{const r=await t(),n=await Is.list({tx:e,query:{where:{userId:r.id}}}),o=Rb({resources:n});console.log("counts",o)})}});var Xd=t=>t.type==="checkbox",el=t=>t instanceof Date,$n=t=>t==null;const _3=t=>typeof t=="object";var nn=t=>!$n(t)&&!Array.isArray(t)&&_3(t)&&!el(t),b3=t=>nn(t)&&t.target?Xd(t.target)?t.target.checked:t.target.value:t,RM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,w3=(t,e)=>t.has(RM(e)),OM=t=>{const e=t.constructor&&t.constructor.prototype;return nn(e)&&e.hasOwnProperty("isPrototypeOf")},Ob=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ni(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ob&&(t instanceof Blob||n))&&(r||nn(t)))if(e=r?[]:{},!r&&!OM(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=ni(t[o]));else return t;return e}var ym=t=>Array.isArray(t)?t.filter(Boolean):[],Jr=t=>t===void 0,pt=(t,e,r)=>{if(!e||!nn(t))return r;const n=ym(e.split(/[,[\].]+?/)).reduce((o,a)=>$n(o)?o:o[a],t);return Jr(n)||n===t?Jr(t[e])?r:t[e]:n},wi=t=>typeof t=="boolean",Ib=t=>/^\w*$/.test(t),x3=t=>ym(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vr=(t,e,r)=>{let n=-1;const o=Ib(e)?[e]:x3(e),a=o.length,l=a-1;for(;++n<a;){const c=o[n];let p=r;if(n!==l){const m=t[c];p=nn(m)||Array.isArray(m)?m:isNaN(+o[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=p,t=t[c]}return t};const Op={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},io={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IM=wr.createContext(null),Tb=()=>wr.useContext(IM);var S3=(t,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(o,a,{get:()=>{const l=a;return e._proxyFormState[l]!==ls.all&&(e._proxyFormState[l]=!n||ls.all),r&&(r[l]=!0),t[l]}});return o},ii=t=>nn(t)&&!Object.keys(t).length,E3=(t,e,r,n)=>{r(t);const{name:o,...a}=t;return ii(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!n||ls.all))},Yc=t=>Array.isArray(t)?t:[t],N3=(t,e,r)=>!t||!e||t===e||Yc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Ab(t){const e=wr.useRef(t);e.current=t,wr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function TM(t){const e=Tb(),{control:r=e.control,disabled:n,name:o,exact:a}=t||{},[l,c]=wr.useState(r._formState),p=wr.useRef(!0),m=wr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),b=wr.useRef(o);return b.current=o,Ab({disabled:n,next:x=>p.current&&N3(b.current,x.name,a)&&E3(x,m.current,r._updateFormState)&&c({...r._formState,...x}),subject:r._subjects.state}),wr.useEffect(()=>(p.current=!0,m.current.isValid&&r._updateValid(!0),()=>{p.current=!1}),[r]),wr.useMemo(()=>S3(l,r,m.current,!1),[l,r])}var Ts=t=>typeof t=="string",k3=(t,e,r,n,o)=>Ts(t)?(n&&e.watch.add(t),pt(r,t,o)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),pt(r,a))):(n&&(e.watchAll=!0),r);function AM(t){const e=Tb(),{control:r=e.control,name:n,defaultValue:o,disabled:a,exact:l}=t||{},c=wr.useRef(n);c.current=n,Ab({disabled:a,subject:r._subjects.values,next:b=>{N3(c.current,b.name,l)&&m(ni(k3(c.current,r._names,b.values||r._formValues,!1,o)))}});const[p,m]=wr.useState(r._getWatch(n,o));return wr.useEffect(()=>r._removeUnmounted()),p}function PM(t){const e=Tb(),{name:r,disabled:n,control:o=e.control,shouldUnregister:a}=t,l=w3(o._names.array,r),c=AM({control:o,name:r,defaultValue:pt(o._formValues,r,pt(o._defaultValues,r,t.defaultValue)),exact:!0}),p=TM({control:o,name:r,exact:!0}),m=wr.useRef(o.register(r,{...t.rules,value:c,...wi(t.disabled)?{disabled:t.disabled}:{}})),b=wr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!pt(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!pt(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!pt(p.validatingFields,r)},error:{enumerable:!0,get:()=>pt(p.errors,r)}}),[p,r]),x=wr.useMemo(()=>({name:r,value:c,...wi(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:N=>m.current.onChange({target:{value:b3(N),name:r},type:Op.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:pt(o._formValues,r),name:r},type:Op.BLUR}),ref:N=>{const R=pt(o._fields,r);R&&N&&(R._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:q=>N.setCustomValidity(q),reportValidity:()=>N.reportValidity()})}}),[r,o._formValues,n,p.disabled,c,o._fields]);return wr.useEffect(()=>{const N=o._options.shouldUnregister||a,R=(q,C)=>{const T=pt(o._fields,q);T&&T._f&&(T._f.mount=C)};if(R(r,!0),N){const q=ni(pt(o._options.defaultValues,r));vr(o._defaultValues,r,q),Jr(pt(o._formValues,r))&&vr(o._formValues,r,q)}return()=>{(l?N&&!o._state.action:N)?o.unregister(r):R(r,!1)}},[r,o,l,a]),wr.useEffect(()=>{wi(n)&&pt(o._fields,r)&&o._updateDisabledField({disabled:n,fields:o._fields,name:r,value:pt(o._fields,r)._f.value})},[n,r,o]),wr.useMemo(()=>({field:x,formState:p,fieldState:b}),[x,p,b])}const hl=t=>t.render(PM(t));var q3=(t,e,r,n,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:o||!0}}:{},eN=t=>({isOnSubmit:!t||t===ls.onSubmit,isOnBlur:t===ls.onBlur,isOnChange:t===ls.onChange,isOnAll:t===ls.all,isOnTouch:t===ls.onTouched}),tN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ed=(t,e,r,n)=>{for(const o of r||Object.keys(t)){const a=pt(t,o);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],o)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(ed(c,e))break}else if(nn(c)&&ed(c,e))break}}};var jM=(t,e,r)=>{const n=Yc(pt(t,r));return vr(n,"root",e[r]),vr(t,r,n),t},Pb=t=>t.type==="file",Cs=t=>typeof t=="function",Ip=t=>{if(!Ob)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Mh=t=>Ts(t),jb=t=>t.type==="radio",Tp=t=>t instanceof RegExp;const rN={value:!1,isValid:!1},nN={value:!0,isValid:!0};var C3=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Jr(t[0].attributes.value)?Jr(t[0].value)||t[0].value===""?nN:{value:t[0].value,isValid:!0}:nN:rN}return rN};const iN={isValid:!1,value:null};var R3=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,iN):iN;function sN(t,e,r="validate"){if(Mh(t)||Array.isArray(t)&&t.every(Mh)||wi(t)&&!t)return{type:r,message:Mh(t)?t:"",ref:e}}var Ql=t=>nn(t)&&!Tp(t)?t:{value:t,message:""},oN=async(t,e,r,n,o)=>{const{ref:a,refs:l,required:c,maxLength:p,minLength:m,min:b,max:x,pattern:N,validate:R,name:q,valueAsNumber:C,mount:T,disabled:F}=t._f,j=pt(e,q);if(!T||F)return{};const B=l?l[0]:a,z=re=>{n&&B.reportValidity&&(B.setCustomValidity(wi(re)?"":re||""),B.reportValidity())},K={},W=jb(a),Q=Xd(a),ue=W||Q,V=(C||Pb(a))&&Jr(a.value)&&Jr(j)||Ip(a)&&a.value===""||j===""||Array.isArray(j)&&!j.length,ne=q3.bind(null,q,r,K),M=(re,Z,pe,Re=io.maxLength,Ce=io.minLength)=>{const je=re?Z:pe;K[q]={type:re?Re:Ce,message:je,ref:a,...ne(re?Re:Ce,je)}};if(o?!Array.isArray(j)||!j.length:c&&(!ue&&(V||$n(j))||wi(j)&&!j||Q&&!C3(l).isValid||W&&!R3(l).isValid)){const{value:re,message:Z}=Mh(c)?{value:!!c,message:c}:Ql(c);if(re&&(K[q]={type:io.required,message:Z,ref:B,...ne(io.required,Z)},!r))return z(Z),K}if(!V&&(!$n(b)||!$n(x))){let re,Z;const pe=Ql(x),Re=Ql(b);if(!$n(j)&&!isNaN(j)){const Ce=a.valueAsNumber||j&&+j;$n(pe.value)||(re=Ce>pe.value),$n(Re.value)||(Z=Ce<Re.value)}else{const Ce=a.valueAsDate||new Date(j),je=Ee=>new Date(new Date().toDateString()+" "+Ee),ve=a.type=="time",me=a.type=="week";Ts(pe.value)&&j&&(re=ve?je(j)>je(pe.value):me?j>pe.value:Ce>new Date(pe.value)),Ts(Re.value)&&j&&(Z=ve?je(j)<je(Re.value):me?j<Re.value:Ce<new Date(Re.value))}if((re||Z)&&(M(!!re,pe.message,Re.message,io.max,io.min),!r))return z(K[q].message),K}if((p||m)&&!V&&(Ts(j)||o&&Array.isArray(j))){const re=Ql(p),Z=Ql(m),pe=!$n(re.value)&&j.length>+re.value,Re=!$n(Z.value)&&j.length<+Z.value;if((pe||Re)&&(M(pe,re.message,Z.message),!r))return z(K[q].message),K}if(N&&!V&&Ts(j)){const{value:re,message:Z}=Ql(N);if(Tp(re)&&!j.match(re)&&(K[q]={type:io.pattern,message:Z,ref:a,...ne(io.pattern,Z)},!r))return z(Z),K}if(R){if(Cs(R)){const re=await R(j,e),Z=sN(re,B);if(Z&&(K[q]={...Z,...ne(io.validate,Z.message)},!r))return z(Z.message),K}else if(nn(R)){let re={};for(const Z in R){if(!ii(re)&&!r)break;const pe=sN(await R[Z](j,e),B,Z);pe&&(re={...pe,...ne(Z,pe.message)},z(pe.message),r&&(K[q]=re))}if(!ii(re)&&(K[q]={ref:B,...re},!r))return K}}return z(!0),K};function LM(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Jr(t)?n++:t[e[n++]];return t}function FM(t){for(const e in t)if(t.hasOwnProperty(e)&&!Jr(t[e]))return!1;return!0}function fn(t,e){const r=Array.isArray(e)?e:Ib(e)?[e]:x3(e),n=r.length===1?t:LM(t,r),o=r.length-1,a=r[o];return n&&delete n[a],o!==0&&(nn(n)&&ii(n)||Array.isArray(n)&&FM(n))&&fn(t,r.slice(0,-1)),t}var Nv=()=>{let t=[];return{get observers(){return t},next:o=>{for(const a of t)a.next&&a.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(a=>a!==o)}}),unsubscribe:()=>{t=[]}}},w_=t=>$n(t)||!_3(t);function ia(t,e){if(w_(t)||w_(e))return t===e;if(el(t)&&el(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const o of r){const a=t[o];if(!n.includes(o))return!1;if(o!=="ref"){const l=e[o];if(el(a)&&el(l)||nn(a)&&nn(l)||Array.isArray(a)&&Array.isArray(l)?!ia(a,l):a!==l)return!1}}return!0}var O3=t=>t.type==="select-multiple",DM=t=>jb(t)||Xd(t),kv=t=>Ip(t)&&t.isConnected,I3=t=>{for(const e in t)if(Cs(t[e]))return!0;return!1};function Ap(t,e={}){const r=Array.isArray(t);if(nn(t)||r)for(const n in t)Array.isArray(t[n])||nn(t[n])&&!I3(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Ap(t[n],e[n])):$n(t[n])||(e[n]=!0);return e}function T3(t,e,r){const n=Array.isArray(t);if(nn(t)||n)for(const o in t)Array.isArray(t[o])||nn(t[o])&&!I3(t[o])?Jr(e)||w_(r[o])?r[o]=Array.isArray(t[o])?Ap(t[o],[]):{...Ap(t[o])}:T3(t[o],$n(e)?{}:e[o],r[o]):r[o]=!ia(t[o],e[o]);return r}var Ac=(t,e)=>T3(t,e,Ap(e)),A3=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Jr(t)?t:e?t===""?NaN:t&&+t:r&&Ts(t)?new Date(t):n?n(t):t;function qv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Pb(e)?e.files:jb(e)?R3(t.refs).value:O3(e)?[...e.selectedOptions].map(({value:r})=>r):Xd(e)?C3(t.refs).value:A3(Jr(e.value)?t.ref.value:e.value,t)}var MM=(t,e,r,n)=>{const o={};for(const a of t){const l=pt(e,a);l&&vr(o,a,l._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},Pc=t=>Jr(t)?t:Tp(t)?t.source:nn(t)?Tp(t.value)?t.value.source:t.value:t;const aN="AsyncFunction";var BM=t=>!!t&&!!t.validate&&!!(Cs(t.validate)&&t.validate.constructor.name===aN||nn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===aN)),WM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function lN(t,e,r){const n=pt(t,r);if(n||Ib(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),l=pt(e,a),c=pt(t,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(c&&c.type)return{name:a,error:c};o.pop()}return{name:r}}var $M=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,UM=(t,e)=>!ym(pt(t,e)).length&&fn(t,e);const zM={mode:ls.onSubmit,reValidateMode:ls.onChange,shouldFocusError:!0};function VM(t={}){let e={...zM,...t},r={submitCount:0,isDirty:!1,isLoading:Cs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},o=nn(e.defaultValues)||nn(e.values)?ni(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ni(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,m=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:Nv(),array:Nv(),state:Nv()},N=eN(e.mode),R=eN(e.reValidateMode),q=e.criteriaMode===ls.all,C=se=>le=>{clearTimeout(m),m=setTimeout(se,le)},T=async se=>{if(!e.disabled&&(b.isValid||se)){const le=e.resolver?ii((await ue()).errors):await ne(n,!0);le!==r.isValid&&x.state.next({isValid:le})}},F=(se,le)=>{!e.disabled&&(b.isValidating||b.validatingFields)&&((se||Array.from(c.mount)).forEach(ye=>{ye&&(le?vr(r.validatingFields,ye,le):fn(r.validatingFields,ye))}),x.state.next({validatingFields:r.validatingFields,isValidating:!ii(r.validatingFields)}))},j=(se,le=[],ye,Oe,De=!0,Ge=!0)=>{if(Oe&&ye&&!e.disabled){if(l.action=!0,Ge&&Array.isArray(pt(n,se))){const _t=ye(pt(n,se),Oe.argA,Oe.argB);De&&vr(n,se,_t)}if(Ge&&Array.isArray(pt(r.errors,se))){const _t=ye(pt(r.errors,se),Oe.argA,Oe.argB);De&&vr(r.errors,se,_t),UM(r.errors,se)}if(b.touchedFields&&Ge&&Array.isArray(pt(r.touchedFields,se))){const _t=ye(pt(r.touchedFields,se),Oe.argA,Oe.argB);De&&vr(r.touchedFields,se,_t)}b.dirtyFields&&(r.dirtyFields=Ac(o,a)),x.state.next({name:se,isDirty:re(se,le),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(a,se,le)},B=(se,le)=>{vr(r.errors,se,le),x.state.next({errors:r.errors})},z=se=>{r.errors=se,x.state.next({errors:r.errors,isValid:!1})},K=(se,le,ye,Oe)=>{const De=pt(n,se);if(De){const Ge=pt(a,se,Jr(ye)?pt(o,se):ye);Jr(Ge)||Oe&&Oe.defaultChecked||le?vr(a,se,le?Ge:qv(De._f)):Re(se,Ge),l.mount&&T()}},W=(se,le,ye,Oe,De)=>{let Ge=!1,_t=!1;const Mt={name:se};if(!e.disabled){const mr=!!(pt(n,se)&&pt(n,se)._f&&pt(n,se)._f.disabled);if(!ye||Oe){b.isDirty&&(_t=r.isDirty,r.isDirty=Mt.isDirty=re(),Ge=_t!==Mt.isDirty);const cr=mr||ia(pt(o,se),le);_t=!!(!mr&&pt(r.dirtyFields,se)),cr||mr?fn(r.dirtyFields,se):vr(r.dirtyFields,se,!0),Mt.dirtyFields=r.dirtyFields,Ge=Ge||b.dirtyFields&&_t!==!cr}if(ye){const cr=pt(r.touchedFields,se);cr||(vr(r.touchedFields,se,ye),Mt.touchedFields=r.touchedFields,Ge=Ge||b.touchedFields&&cr!==ye)}Ge&&De&&x.state.next(Mt)}return Ge?Mt:{}},Q=(se,le,ye,Oe)=>{const De=pt(r.errors,se),Ge=b.isValid&&wi(le)&&r.isValid!==le;if(e.delayError&&ye?(p=C(()=>B(se,ye)),p(e.delayError)):(clearTimeout(m),p=null,ye?vr(r.errors,se,ye):fn(r.errors,se)),(ye?!ia(De,ye):De)||!ii(Oe)||Ge){const _t={...Oe,...Ge&&wi(le)?{isValid:le}:{},errors:r.errors,name:se};r={...r,..._t},x.state.next(_t)}},ue=async se=>{F(se,!0);const le=await e.resolver(a,e.context,MM(se||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return F(se),le},V=async se=>{const{errors:le}=await ue(se);if(se)for(const ye of se){const Oe=pt(le,ye);Oe?vr(r.errors,ye,Oe):fn(r.errors,ye)}else r.errors=le;return le},ne=async(se,le,ye={valid:!0})=>{for(const Oe in se){const De=se[Oe];if(De){const{_f:Ge,..._t}=De;if(Ge){const Mt=c.array.has(Ge.name),mr=De._f&&BM(De._f);mr&&b.validatingFields&&F([Oe],!0);const cr=await oN(De,a,q,e.shouldUseNativeValidation&&!le,Mt);if(mr&&b.validatingFields&&F([Oe]),cr[Ge.name]&&(ye.valid=!1,le))break;!le&&(pt(cr,Ge.name)?Mt?jM(r.errors,cr,Ge.name):vr(r.errors,Ge.name,cr[Ge.name]):fn(r.errors,Ge.name))}!ii(_t)&&await ne(_t,le,ye)}}return ye.valid},M=()=>{for(const se of c.unMount){const le=pt(n,se);le&&(le._f.refs?le._f.refs.every(ye=>!kv(ye)):!kv(le._f.ref))&&mt(se)}c.unMount=new Set},re=(se,le)=>!e.disabled&&(se&&le&&vr(a,se,le),!ia(H(),o)),Z=(se,le,ye)=>k3(se,c,{...l.mount?a:Jr(le)?o:Ts(se)?{[se]:le}:le},ye,le),pe=se=>ym(pt(l.mount?a:o,se,e.shouldUnregister?pt(o,se,[]):[])),Re=(se,le,ye={})=>{const Oe=pt(n,se);let De=le;if(Oe){const Ge=Oe._f;Ge&&(!Ge.disabled&&vr(a,se,A3(le,Ge)),De=Ip(Ge.ref)&&$n(le)?"":le,O3(Ge.ref)?[...Ge.ref.options].forEach(_t=>_t.selected=De.includes(_t.value)):Ge.refs?Xd(Ge.ref)?Ge.refs.length>1?Ge.refs.forEach(_t=>(!_t.defaultChecked||!_t.disabled)&&(_t.checked=Array.isArray(De)?!!De.find(Mt=>Mt===_t.value):De===_t.value)):Ge.refs[0]&&(Ge.refs[0].checked=!!De):Ge.refs.forEach(_t=>_t.checked=_t.value===De):Pb(Ge.ref)?Ge.ref.value="":(Ge.ref.value=De,Ge.ref.type||x.values.next({name:se,values:{...a}})))}(ye.shouldDirty||ye.shouldTouch)&&W(se,De,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Ee(se)},Ce=(se,le,ye)=>{for(const Oe in le){const De=le[Oe],Ge=`${se}.${Oe}`,_t=pt(n,Ge);(c.array.has(se)||nn(De)||_t&&!_t._f)&&!el(De)?Ce(Ge,De,ye):Re(Ge,De,ye)}},je=(se,le,ye={})=>{const Oe=pt(n,se),De=c.array.has(se),Ge=ni(le);vr(a,se,Ge),De?(x.array.next({name:se,values:{...a}}),(b.isDirty||b.dirtyFields)&&ye.shouldDirty&&x.state.next({name:se,dirtyFields:Ac(o,a),isDirty:re(se,Ge)})):Oe&&!Oe._f&&!$n(Ge)?Ce(se,Ge,ye):Re(se,Ge,ye),tN(se,c)&&x.state.next({...r}),x.values.next({name:l.mount?se:void 0,values:{...a}})},ve=async se=>{l.mount=!0;const le=se.target;let ye=le.name,Oe=!0;const De=pt(n,ye),Ge=()=>le.type?qv(De._f):b3(se),_t=Mt=>{Oe=Number.isNaN(Mt)||el(Mt)&&isNaN(Mt.getTime())||ia(Mt,pt(a,ye,Mt))};if(De){let Mt,mr;const cr=Ge(),Ir=se.type===Op.BLUR||se.type===Op.FOCUS_OUT,Dn=!WM(De._f)&&!e.resolver&&!pt(r.errors,ye)&&!De._f.deps||$M(Ir,pt(r.touchedFields,ye),r.isSubmitted,R,N),Xr=tN(ye,c,Ir);vr(a,ye,cr),Ir?(De._f.onBlur&&De._f.onBlur(se),p&&p(0)):De._f.onChange&&De._f.onChange(se);const Kn=W(ye,cr,Ir,!1),Us=!ii(Kn)||Xr;if(!Ir&&x.values.next({name:ye,type:se.type,values:{...a}}),Dn)return b.isValid&&(e.mode==="onBlur"?Ir&&T():T()),Us&&x.state.next({name:ye,...Xr?{}:Kn});if(!Ir&&Xr&&x.state.next({...r}),e.resolver){const{errors:bn}=await ue([ye]);if(_t(cr),Oe){const zt=lN(r.errors,n,ye),Oo=lN(bn,n,zt.name||ye);Mt=Oo.error,ye=Oo.name,mr=ii(bn)}}else F([ye],!0),Mt=(await oN(De,a,q,e.shouldUseNativeValidation))[ye],F([ye]),_t(cr),Oe&&(Mt?mr=!1:b.isValid&&(mr=await ne(n,!0)));Oe&&(De._f.deps&&Ee(De._f.deps),Q(ye,mr,Mt,Kn))}},me=(se,le)=>{if(pt(r.errors,le)&&se.focus)return se.focus(),1},Ee=async(se,le={})=>{let ye,Oe;const De=Yc(se);if(e.resolver){const Ge=await V(Jr(se)?se:De);ye=ii(Ge),Oe=se?!De.some(_t=>pt(Ge,_t)):ye}else se?(Oe=(await Promise.all(De.map(async Ge=>{const _t=pt(n,Ge);return await ne(_t&&_t._f?{[Ge]:_t}:_t)}))).every(Boolean),!(!Oe&&!r.isValid)&&T()):Oe=ye=await ne(n);return x.state.next({...!Ts(se)||b.isValid&&ye!==r.isValid?{}:{name:se},...e.resolver||!se?{isValid:ye}:{},errors:r.errors}),le.shouldFocus&&!Oe&&ed(n,me,se?De:c.mount),Oe},H=se=>{const le={...l.mount?a:o};return Jr(se)?le:Ts(se)?pt(le,se):se.map(ye=>pt(le,ye))},xe=(se,le)=>({invalid:!!pt((le||r).errors,se),isDirty:!!pt((le||r).dirtyFields,se),error:pt((le||r).errors,se),isValidating:!!pt(r.validatingFields,se),isTouched:!!pt((le||r).touchedFields,se)}),lt=se=>{se&&Yc(se).forEach(le=>fn(r.errors,le)),x.state.next({errors:se?r.errors:{}})},at=(se,le,ye)=>{const Oe=(pt(n,se,{_f:{}})._f||{}).ref,De=pt(r.errors,se)||{},{ref:Ge,message:_t,type:Mt,...mr}=De;vr(r.errors,se,{...mr,...le,ref:Oe}),x.state.next({name:se,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Oe&&Oe.focus&&Oe.focus()},dt=(se,le)=>Cs(se)?x.values.subscribe({next:ye=>se(Z(void 0,le),ye)}):Z(se,le,!0),mt=(se,le={})=>{for(const ye of se?Yc(se):c.mount)c.mount.delete(ye),c.array.delete(ye),le.keepValue||(fn(n,ye),fn(a,ye)),!le.keepError&&fn(r.errors,ye),!le.keepDirty&&fn(r.dirtyFields,ye),!le.keepTouched&&fn(r.touchedFields,ye),!le.keepIsValidating&&fn(r.validatingFields,ye),!e.shouldUnregister&&!le.keepDefaultValue&&fn(o,ye);x.values.next({values:{...a}}),x.state.next({...r,...le.keepDirty?{isDirty:re()}:{}}),!le.keepIsValid&&T()},ft=({disabled:se,name:le,field:ye,fields:Oe,value:De})=>{if(wi(se)&&l.mount||se){const Ge=se?void 0:Jr(De)?qv(ye?ye._f:pt(Oe,le)._f):De;(se||!se&&!Jr(Ge))&&vr(a,le,Ge),W(le,Ge,!1,!1,!0)}},gt=(se,le={})=>{let ye=pt(n,se);const Oe=wi(le.disabled)||wi(e.disabled);return vr(n,se,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:se}},name:se,mount:!0,...le}}),c.mount.add(se),ye?ft({field:ye,disabled:wi(le.disabled)?le.disabled:e.disabled,name:se,value:le.value}):K(se,!0,le.value),{...Oe?{disabled:le.disabled||e.disabled}:{},...e.progressive?{required:!!le.required,min:Pc(le.min),max:Pc(le.max),minLength:Pc(le.minLength),maxLength:Pc(le.maxLength),pattern:Pc(le.pattern)}:{},name:se,onChange:ve,onBlur:ve,ref:De=>{if(De){gt(se,le),ye=pt(n,se);const Ge=Jr(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,_t=DM(Ge),Mt=ye._f.refs||[];if(_t?Mt.find(mr=>mr===Ge):Ge===ye._f.ref)return;vr(n,se,{_f:{...ye._f,..._t?{refs:[...Mt.filter(kv),Ge,...Array.isArray(pt(o,se))?[{}]:[]],ref:{type:Ge.type,name:se}}:{ref:Ge}}}),K(se,!1,void 0,Ge)}else ye=pt(n,se,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||le.shouldUnregister)&&!(w3(c.array,se)&&l.action)&&c.unMount.add(se)}}},At=()=>e.shouldFocusError&&ed(n,me,c.mount),vt=se=>{wi(se)&&(x.state.next({disabled:se}),ed(n,(le,ye)=>{const Oe=pt(n,ye);Oe&&(le.disabled=Oe._f.disabled||se,Array.isArray(Oe._f.refs)&&Oe._f.refs.forEach(De=>{De.disabled=Oe._f.disabled||se}))},0,!1))},yt=(se,le)=>async ye=>{let Oe;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){le&&await le({...r.errors},ye);return}let De=ni(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:Ge,values:_t}=await ue();r.errors=Ge,De=_t}else await ne(n);if(fn(r.errors,"root"),ii(r.errors)){x.state.next({errors:{}});try{await se(De,ye)}catch(Ge){Oe=Ge}}else le&&await le({...r.errors},ye),At(),setTimeout(At);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ii(r.errors)&&!Oe,submitCount:r.submitCount+1,errors:r.errors}),Oe)throw Oe},Rt=(se,le={})=>{pt(n,se)&&(Jr(le.defaultValue)?je(se,ni(pt(o,se))):(je(se,le.defaultValue),vr(o,se,ni(le.defaultValue))),le.keepTouched||fn(r.touchedFields,se),le.keepDirty||(fn(r.dirtyFields,se),r.isDirty=le.defaultValue?re(se,ni(pt(o,se))):re()),le.keepError||(fn(r.errors,se),b.isValid&&T()),x.state.next({...r}))},qt=(se,le={})=>{const ye=se?ni(se):o,Oe=ni(ye),De=ii(se),Ge=De?o:Oe;if(le.keepDefaultValues||(o=ye),!le.keepValues){if(le.keepDirtyValues){const _t=new Set([...c.mount,...Object.keys(Ac(o,a))]);for(const Mt of Array.from(_t))pt(r.dirtyFields,Mt)?vr(Ge,Mt,pt(a,Mt)):je(Mt,pt(Ge,Mt))}else{if(Ob&&Jr(se))for(const _t of c.mount){const Mt=pt(n,_t);if(Mt&&Mt._f){const mr=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(Ip(mr)){const cr=mr.closest("form");if(cr){cr.reset();break}}}}n={}}a=e.shouldUnregister?le.keepDefaultValues?ni(o):{}:ni(Ge),x.array.next({values:{...Ge}}),x.values.next({values:{...Ge}})}c={mount:le.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!b.isValid||!!le.keepIsValid||!!le.keepDirtyValues,l.watch=!!e.shouldUnregister,x.state.next({submitCount:le.keepSubmitCount?r.submitCount:0,isDirty:De?!1:le.keepDirty?r.isDirty:!!(le.keepDefaultValues&&!ia(se,o)),isSubmitted:le.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:De?{}:le.keepDirtyValues?le.keepDefaultValues&&a?Ac(o,a):r.dirtyFields:le.keepDefaultValues&&se?Ac(o,se):le.keepDirty?r.dirtyFields:{},touchedFields:le.keepTouched?r.touchedFields:{},errors:le.keepErrors?r.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Jt=(se,le)=>qt(Cs(se)?se(a):se,le);return{control:{register:gt,unregister:mt,getFieldState:xe,handleSubmit:yt,setError:at,_executeSchema:ue,_getWatch:Z,_getDirty:re,_updateValid:T,_removeUnmounted:M,_updateFieldArray:j,_updateDisabledField:ft,_getFieldArray:pe,_reset:qt,_resetDefaultValues:()=>Cs(e.defaultValues)&&e.defaultValues().then(se=>{Jt(se,e.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:se=>{r={...r,...se}},_disableForm:vt,_subjects:x,_proxyFormState:b,_setErrors:z,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(se){l=se},get _defaultValues(){return o},get _names(){return c},set _names(se){c=se},get _formState(){return r},set _formState(se){r=se},get _options(){return e},set _options(se){e={...e,...se}}},trigger:Ee,register:gt,handleSubmit:yt,watch:dt,setValue:je,getValues:H,reset:Jt,resetField:Rt,clearErrors:lt,unregister:mt,setError:at,setFocus:(se,le={})=>{const ye=pt(n,se),Oe=ye&&ye._f;if(Oe){const De=Oe.refs?Oe.refs[0]:Oe.ref;De.focus&&(De.focus(),le.shouldSelect&&Cs(De.select)&&De.select())}},getFieldState:xe}}function Co(t={}){const e=wr.useRef(void 0),r=wr.useRef(void 0),[n,o]=wr.useState({isDirty:!1,isValidating:!1,isLoading:Cs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Cs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...VM(t),formState:n});const a=e.current.control;return a._options=t,Ab({subject:a._subjects.state,next:l=>{E3(l,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),wr.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),wr.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),wr.useEffect(()=>{t.values&&!ia(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,o(l=>({...l}))):a._resetDefaultValues()},[t.values,a]),wr.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),wr.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),wr.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=S3(n,a),e.current}const uN=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},P3=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?uN(n.ref,r,t):n.refs&&n.refs.forEach(o=>uN(o,r,t))}},HM=(t,e)=>{e.shouldUseNativeValidation&&P3(t,e);const r={};for(const n in t){const o=pt(e.fields,n),a=Object.assign(t[n]||{},{ref:o&&o.ref});if(QM(e.names||Object.keys(t),n)){const l=Object.assign({},pt(r,n));vr(l,"root",a),vr(r,n,l)}else vr(r,n,a)}return r},QM=(t,e)=>t.some(r=>r.startsWith(e+"."));var KM=function(t,e){for(var r={};t.length;){var n=t[0],o=n.code,a=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:a,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(b){return b.errors.forEach(function(x){return t.push(x)})}),e){var p=r[l].types,m=p&&p[n.code];r[l]=q3(l,e,r,o,m?[].concat(m,n.message):n.message)}t.shift()}return r},Ro=function(t,e,r){return r===void 0&&(r={}),function(n,o,a){try{return Promise.resolve(function(l,c){try{var p=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return a.shouldUseNativeValidation&&P3({},a),{errors:{},values:r.raw?n:m}})}catch(m){return c(m)}return p&&p.then?p.then(void 0,c):p}(0,function(l){if(function(c){return Array.isArray(c?.errors)}(l))return{values:{},errors:HM(KM(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const j3=({requirements:t,resources:e})=>{for(const r of t)if((e[r.resourceId]||-1)<r.amount)return!1;return!0},GM=async({tx:t,userId:e,baseBuildingId:r,bypass:n=!1})=>{const o=await Hi.fetchOrThrow({tx:t,query:{where:{id:r}}});if(!n&&!j3({requirements:o.requirements,resources:Rb({resources:await Is.list({tx:t,query:{where:{userId:e}}})})}))throw new Error("Not enough resources to construct the building.")},JM=async({tx:t,userId:e})=>{const r=["Castle","Storage"];for await(const n of r)await GM({tx:t,userId:e,baseBuildingId:(await Hi.fetchOrThrow({tx:t,query:{where:{name:n}}})).id,bypass:!0})},ZM=({repository:t})=>Uc({mutationKey:["useRegisterMutation"],async mutationFn({login:e,name:r,password1:n}){return vn.kysely.transaction().execute(async o=>{const a=fm.parse(await t.create({tx:o,shape:{name:r,login:e,password:n},entity:{name:r,login:e,password:n}}));return await JM({tx:o,userId:a.id}),a})}}),XM=Pe.object({name:Pe.string().min(1),login:Pe.string().min(1),password1:Pe.string().min(1),password2:Pe.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),YM=({repository:t,onSuccess:e})=>{const r=ZM({repository:t}),n=Co({resolver:Ro(XM)}),o=So({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return y.jsxs("form",{className:o.base(),onSubmit:n.handleSubmit(async a=>r.mutateAsync(a,{onSuccess:e,onError:l=>{W_({error:l,errors:[j_({error:l,schema:B_,onError:({data:c})=>{n.setError("root",{message:c.message})}})],onError:c=>{n.setError("root",{message:c.message})}})}}).catch(()=>{})),children:[y.jsx(Ws,{variant:{highlight:!0},error:n.formState.errors.root}),y.jsx(Ur,{formState:n.formState,name:"name",label:y.jsx(ae,{label:"Name (label)"}),children:y.jsx("input",{type:"text",className:o.input(),...n.register("name")})}),y.jsx(Ur,{formState:n.formState,name:"login",label:y.jsx(ae,{label:"Login (label)"}),children:y.jsx("input",{type:"text",className:o.input(),...n.register("login")})}),y.jsx(Ur,{formState:n.formState,name:"password1",label:y.jsx(ae,{label:"Password 1 (label)"}),children:y.jsx("input",{type:"password",className:o.input(),...n.register("password1")})}),y.jsx(Ur,{formState:n.formState,name:"password2",label:y.jsx(ae,{label:"Password 2 (label)"}),children:y.jsx("input",{type:"password",className:o.input(),...n.register("password2")})}),y.jsx(Fn,{type:"submit",children:y.jsx(ae,{label:"Register (submit)"})})]})},L3=bo({entity:wo.merge(Pe.object({name:Pe.string().min(1),login:Pe.string().min(1),password:Pe.string().min(1)})),shape:Pe.object({name:Pe.string().min(1),login:Pe.string().min(1),password:Pe.string().min(1)}),filter:xo.merge(Pe.object({login:Pe.string().optional(),password:Pe.string().optional()}))}),eB=({database:t})=>Eo({name:"UserRepository",db:t.kysely,schema:L3,meta:{where:{id:"u.id",idIn:"u.id",login:"u.login",password:"u.password"}},select({tx:e}){return e.selectFrom("User as u").selectAll("u")},mutation:{insert({tx:e}){return e.insertInto("User")},update({tx:e}){return e.updateTable("User")},remove({tx:e}){return e.deleteFrom("User")}},map:{async toCreate({entity:{password:e,...r}}){return{...r,password:e?D_.hash(e):void 0}}}}),gm=eB({database:vn}),tB=fr("/$locale/apps/derivean/public/register")({component:()=>{const t=O_();return y.jsx("div",{className:id(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[y.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),y.jsx(YM,{repository:gm,onSuccess:async e=>{Qd.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),rB=fr("/$locale/apps/derivean/public/logout")({pendingComponent(){return y.jsx("div",{className:id(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsx(m3,{icon:Sb,textTitle:y.jsx(ae,{label:"Logout (label)"}),textMessage:y.jsx(ae,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw Qd.remove("session"),jp({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),nB=({repository:t})=>Uc({mutationKey:["useLoginMutation"],async mutationFn({login:e,password:r}){return vn.kysely.transaction().execute(async n=>{const o=await t.fetch({tx:n,query:{where:{login:e,password:D_.hash(r)}}});if(!o)throw new Error("Invalid login or password");return{id:o.id,login:o.login,name:o.name}})}}),iB=Pe.object({login:Pe.string().min(1),password:Pe.string().min(1)}),sB=({repository:t,onSuccess:e})=>{const{locale:r}=_n({from:"/$locale"}),n=nB({repository:t}),o=Co({resolver:Ro(iB)}),a=So({isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting}).slots;return y.jsxs("form",{className:a.base(),onSubmit:o.handleSubmit(async l=>n.mutateAsync(l,{onSuccess:e,onError:c=>{W_({error:c,errors:[j_({error:c,schema:B_,onError:({data:p})=>{o.setError("root",{message:p.message})}})],onError:p=>{o.setError("root",{message:p.message})}})}}).catch(()=>{})),children:[y.jsx(Ws,{variant:{highlight:!0},error:o.formState.errors.root}),y.jsx(Ur,{formState:o.formState,name:"login",label:y.jsx(ae,{label:"Login (label)"}),children:y.jsx("input",{type:"text",className:a.input(),...o.register("login")})}),y.jsx(Ur,{formState:o.formState,name:"password",label:y.jsx(ae,{label:"Password (label)"}),children:y.jsx("input",{type:"password",className:a.input(),...o.register("password")})}),y.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[y.jsx(jn,{to:"/$locale/apps/derivean/public/register",params:{locale:r},children:y.jsx(ae,{label:"Register (link)"})}),y.jsx(Fn,{type:"submit",children:y.jsx(ae,{label:"Login (submit)"})})]})]})},oB=fr("/$locale/apps/derivean/public/login")({component:()=>{const t=O_();return y.jsx("div",{className:id(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[y.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),y.jsx(sB,{repository:gm,onSuccess:async e=>{Qd.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),aB=({entity:t,...e})=>{const{locale:r}=_n({from:"/$locale"});return y.jsxs(Kd,{...e,children:[y.jsx(gn,{icon:Eb,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"View detail (menu)"})}),y.jsx(gn,{icon:_o,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"Building list (menu)"})}),y.jsx(gn,{icon:Zr,to:"/$locale/apps/derivean/root/user/$id/building/resource/list",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"Building resource list (label)"})})]})},lB=t=>{const{locale:e}=_n({from:"/$locale"});return y.jsx(Nb,{title:({entity:r})=>y.jsx(qb,{icon:Eb,title:r.name}),actions:()=>y.jsx(y.Fragment,{children:y.jsx(jn,{icon:xb,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:y.jsx(ae,{label:"User list (label)"})})}),...t})},F3=fr("/$locale/apps/derivean/root/user/$id")({component(){const{tva:t}=fi({from:"__root__"}),{entity:e}=F3.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(lB,{entity:e}),y.jsx(aB,{entity:e}),y.jsx(Sa,{})]})},async loader({context:{queryClient:t},params:{id:e}}){return vn.kysely.transaction().execute(async r=>({entity:await gm.withFetchLoader({tx:r,queryClient:t,where:{id:e}})}))}}),uB=fr("/$locale/apps/derivean/root/resource/$id")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),cB=({entity:t,...e})=>{const{locale:r}=_n({from:"/$locale"});return y.jsxs(Kd,{...e,children:[y.jsx(gn,{icon:_o,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"Building detail (label)"})}),y.jsx(gn,{icon:Zr,to:"/$locale/apps/derivean/root/building/$id/resource/list",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"Building resource list (label)"})})]})},dB=t=>{const{locale:e}=_n({from:"/$locale"});return y.jsx(Nb,{title:({entity:r})=>y.jsx(qb,{icon:_o,title:r.baseBuilding.name}),actions:()=>y.jsx(y.Fragment,{children:y.jsx(jn,{icon:xb,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:y.jsx(ae,{label:"Building list (label)"})})}),...t})},D3=fr("/$locale/apps/derivean/root/building/$id")({component(){const{tva:t}=fi({from:"__root__"}),{entity:e}=D3.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(dB,{entity:e}),y.jsx(cB,{entity:e}),y.jsx(Sa,{})]})},async loader({context:{queryClient:t},params:{id:e}}){return vn.kysely.transaction().execute(async r=>({entity:await oa.withFetchLoader({tx:r,queryClient:t,where:{id:e}})}))}}),cN=qo(),fB=[cN({name:"name",header(){return y.jsx(ae,{label:"User name (label)"})},render({data:t,value:e}){const{locale:r}=_n({from:"/$locale"});return y.jsx(jn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:e})},size:14}),cN({name:"login",header(){return y.jsx(ae,{label:"User login (label)"})},render({value:t}){return t},size:14})],hB=({table:t,...e})=>y.jsx(No,{table:ko({...t,columns:fB}),...e}),pB=Gi({filter:L3.filter}),Bh=fr("/$locale/apps/derivean/root/user/list/")({component:()=>{const{data:t,count:e}=Bh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Bh.useSearch(),l=Bh.useNavigate(),{tva:c}=fi({from:"__root__"}),p=c().slots;return y.jsx("div",{className:p.base(),children:y.jsx(hB,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:gs(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(l),onSize:ys(l)}})})},validateSearch:Ki(pB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:gm.withRouteListLoader()}),dN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=Co({resolver:Ro(hm.shape),defaultValues:{sort:0,...e}}),c=G.useContext(ps),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:p.base(),onSubmit:gl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ws,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Ur,{formState:l.formState,name:"code",label:y.jsx(ae,{label:"Tag code (label)"}),required:!0,children:y.jsx("input",{type:"text",className:p.input(),...l.register("code")})}),y.jsx(Ur,{formState:l.formState,name:"label",label:y.jsx(ae,{label:"Resource description (label)"}),required:!0,children:y.jsx("input",{type:"text",className:p.input(),...l.register("label")})}),y.jsx(Ur,{formState:l.formState,name:"group",label:y.jsx(ae,{label:"Tag group (label)"}),children:y.jsx("input",{type:"text",className:p.input(),...l.register("group")})}),y.jsx(Ur,{formState:l.formState,name:"sort",label:y.jsx(ae,{label:"Tag sort (label)"}),children:y.jsx("input",{type:"number",className:p.input(),...l.register("sort")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Fn,{iconEnabled:Rp,type:"submit",children:y.jsx(ae,{label:"Save tag (submit)"})})})]})},Cv=qo(),mB=[Cv({name:"code",header(){return y.jsx(ae,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),Cv({name:"label",header(){return y.jsx(ae,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),Cv({name:"group",header(){return y.jsx(ae,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],M3=({group:t,table:e,...r})=>y.jsx(No,{table:ko({...e,columns:mB}),action:{table(){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Create tag (menu)"}),textTitle:y.jsx(ae,{label:"Create tag (modal)"}),icon:Rp,children:y.jsx(dN,{defaultValues:{group:t},mutation:vu.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:y.jsx(ae,{label:"Saving tag (label)"}),success:y.jsx(ae,{label:"Tag successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete tags (label)"}),textTitle:y.jsx(ae,{label:"Delete tags (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:Os,textContent:y.jsx(ae,{label:"Tag delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Edit tag (menu)"}),textTitle:y.jsx(ae,{label:"Edit tag (modal)"}),icon:Rp,children:y.jsx(dN,{defaultValues:{...n,group:t},mutation:vu.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:y.jsx(ae,{label:"Saving tag (label)"}),success:y.jsx(ae,{label:"Tag successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save tag (label)"})})},async toPatch({shape:o}){return{entity:o,filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete tag (label)"}),textTitle:y.jsx(ae,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:vu,textContent:y.jsx(ae,{label:"Tag delete (content)"}),idIn:[n.id]})})]})}},...r}),yB=Gi({filter:hm.filter}),Wh=fr("/$locale/apps/derivean/root/tag/list/")({component:()=>{const{data:t,count:e}=Wh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Wh.useSearch(),l=Wh.useNavigate(),{tva:c}=fi({from:"__root__"}),p=c().slots;return y.jsx("div",{className:p.base(),children:y.jsx(M3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:gs(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(l),onSize:ys(l)}})})},validateSearch:Ki(yB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:vu.withRouteListLoader()}),gB=({group:t,...e})=>y.jsx(ZD,{table:r=>y.jsx(M3,{group:t,...r}),render:({entities:r})=>y.jsx(y3,{tags:r}),useListQuery:({query:{where:r,...n},...o})=>vu.useListQuery({...o,query:{...n,where:{...r,group:t}}}),...e}),fN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=Co({resolver:Ro(Mu.shape),defaultValues:e}),c=G.useContext(ps),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:p.base(),onSubmit:gl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ws,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Ur,{formState:l.formState,name:"name",label:y.jsx(ae,{label:"Resource name (label)"}),children:y.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),y.jsx(Ur,{formState:l.formState,name:"tagIds",label:y.jsx(ae,{label:"Resource tags (label)"}),children:y.jsx(hl,{control:l.control,name:"tagIds",render:({field:{ref:m,...b}})=>y.jsx(gB,{icon:Zr,group:"resource",titleText:y.jsx(ae,{label:"Select resource tags (title)"}),allowEmpty:!0,...b})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Fn,{iconEnabled:Zr,type:"submit",children:y.jsx(ae,{label:"Save resource (submit)"})})})]})},hN=qo(),vB=[hN({name:"name",header(){return y.jsx(ae,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=_n({from:"/$locale"});return y.jsx(jn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:r,id:t.id},children:e})},size:18}),hN({name:"tags",header(){return y.jsx(ae,{label:"Resource tags (label)"})},render({value:t}){return y.jsx(y3,{tags:t})},size:32})],B3=({table:t,...e})=>y.jsx(No,{table:ko({...t,columns:vB}),action:{table(){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Create resource (menu)"}),textTitle:y.jsx(ae,{label:"Create resource (modal)"}),icon:Zr,children:y.jsx(fN,{mutation:Os.useCreateMutation({async wrap(r){return qr.promise(r(),{loading:y.jsx(ae,{label:"Saving resource (label)"}),success:y.jsx(ae,{label:"Resource successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:r})=>{r?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete resources (label)"}),textTitle:y.jsx(ae,{label:"Delete resources (modal)"}),disabled:!t.selection||t.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:Os,textContent:y.jsx(ae,{label:"Resource delete (content)"}),idIn:t.selection?.value})})]})},row({data:r}){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Edit resource (menu)"}),textTitle:y.jsx(ae,{label:"Edit resource (modal)"}),icon:Zr,children:y.jsx(fN,{defaultValues:r,mutation:Os.usePatchMutation({async wrap(n){return qr.promise(n(),{loading:y.jsx(ae,{label:"Saving resource (label)"}),success:y.jsx(ae,{label:"Resource successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete resource (label)"}),textTitle:y.jsx(ae,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:Os,textContent:y.jsx(ae,{label:"Resource delete (content)"}),idIn:[r.id]})})]})}},...e}),_B=Gi({filter:Mu.filter}),$h=fr("/$locale/apps/derivean/root/resource/list/")({component:()=>{const{data:t,count:e}=$h.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=$h.useSearch(),l=$h.useNavigate(),{tva:c}=fi({from:"__root__"}),p=c().slots;return y.jsx("div",{className:p.base(),children:y.jsx(B3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:gs(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(l),onSize:ys(l)}})})},validateSearch:Ki(_B),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:Os.withRouteListLoader()}),bB=fr("/$locale/apps/derivean/root/building/list/")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),wB=qo(),xB=[wB({name:"baseBuilding.name",header(){return y.jsx(ae,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=_n({from:"/$locale"});return y.jsx(jn,{to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],SB=({table:t,...e})=>y.jsx(No,{table:ko({...t,columns:xB}),...e}),EB=Gi({filter:Jd.filter}),NB=oa.withRouteListLoader(),Uh=fr("/$locale/apps/derivean/game/building/list/")({validateSearch:Ki(EB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:e}){const r=await t.session();return NB({context:t,deps:{...e,where:{userId:r.id}}})},component:()=>{const{data:t,count:e}=Uh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Uh.useSearch(),l=Uh.useNavigate(),{tva:c}=fi({from:"__root__"}),p=c().slots;return y.jsx("div",{className:p.base(),children:y.jsx(SB,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:gs(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(l),onSize:ys(l)}})})}}),x_="icon-[vaadin--storage]",kB=({entity:t,...e})=>{const{locale:r}=_n({from:"/$locale"});return y.jsxs(Kd,{...e,children:[y.jsx(gn,{icon:vo,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"View detail (menu)"})}),y.jsx(gn,{icon:Zr,to:"/$locale/apps/derivean/root/building/base/$id/requirement/list",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"Base building resource requirement (menu)"})}),y.jsx(gn,{icon:x_,to:"/$locale/apps/derivean/root/building/base/$id/limit/list",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"Base building limit list (menu)"})}),y.jsx(gn,{icon:"icon-[carbon--software-resource-cluster]",to:"/$locale/apps/derivean/root/building/base/$id/resource/list",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"Base building resource list (menu)"})}),y.jsx(gn,{icon:kD,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:r,id:t.id},children:y.jsx(ae,{label:"Base building edit (menu)"})})]})},qB=t=>{const{locale:e}=_n({from:"/$locale"});return y.jsx(Nb,{title:({entity:r})=>y.jsx(qb,{icon:vo,title:r.name}),actions:()=>y.jsx(jn,{icon:xb,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:y.jsx(ae,{label:"Base building list (label)"})}),...t})},W3=fr("/$locale/apps/derivean/root/building/base/$id")({component(){const{tva:t}=fi({from:"__root__"}),{entity:e}=W3.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(qB,{entity:e}),y.jsx(kB,{entity:e}),y.jsx(Sa,{})]})},async loader({context:{queryClient:t},params:{id:e}}){return vn.kysely.transaction().execute(async r=>({entity:await Hi.withFetchLoader({tx:r,queryClient:t,where:{id:e}})}))}}),CB=fr("/$locale/apps/derivean/root/user/$id/view/")({component:()=>"yep"}),RB=fr("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),S_=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=Co({resolver:Ro(Gd.shape),defaultValues:{preview:!0,...e}}),c=G.useContext(ps),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:p.base(),onSubmit:gl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ws,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Ur,{formState:l.formState,name:"name",label:y.jsx(ae,{label:"Base building name (label)"}),required:!0,children:y.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),y.jsx(Ur,{formState:l.formState,name:"preview",label:y.jsx(ae,{label:"Base building preview (label)"}),hint:y.jsx(ae,{label:"Base building preview (hint)"}),required:!0,children:y.jsx(hl,{control:l.control,name:"preview",render:({field:{ref:m,...b}})=>y.jsx(wk,{...b})})}),y.jsx(Ur,{formState:l.formState,name:"cycles",label:y.jsx(ae,{label:"Base building cycles (label)"}),hint:y.jsx(ae,{label:"Base building cycles (hint)"}),required:!0,children:y.jsx("input",{type:"number",className:p.input(),...l.register("cycles")})}),y.jsx(Ur,{formState:l.formState,name:"limit",label:y.jsx(ae,{label:"Base building limit (label)"}),hint:y.jsx(ae,{label:"Base building limit (hint)"}),required:!0,children:y.jsx("input",{type:"number",className:p.input(),...l.register("limit")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Fn,{iconEnabled:vo,type:"submit",children:y.jsx(ae,{label:"Save base building (submit)"})})})]})},bh=qo(),OB=[bh({name:"name",header(){return y.jsx(ae,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=_n({from:"/$locale"});return y.jsx(jn,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:e})},size:10}),bh({name:"preview",header(){return y.jsx(ae,{label:"Base building preview (label)"})},render({value:t}){return y.jsx(bk,{value:t})},size:14}),bh({name:"cycles",header(){return y.jsx(ae,{label:"Base building cycles (label)"})},render({value:t}){return Eu({number:t})},size:14}),bh({name:"limit",header(){return y.jsx(ae,{label:"Base building limit (label)"})},render({value:t}){return Eu({number:t,empty:Ri.text("Unlimited (label)")})},size:14})],$3=({table:t,...e})=>y.jsx(No,{table:ko({...t,columns:OB}),action:{table(){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Create base building (menu)"}),textTitle:y.jsx(ae,{label:"Create base building (modal)"}),icon:vo,children:y.jsx(S_,{mutation:Hi.useCreateMutation({async wrap(r){return qr.promise(r(),{loading:y.jsx(ae,{label:"Saving base building (label)"}),success:y.jsx(ae,{label:"Base building successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:r})=>{r?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete base buildings (label)"}),textTitle:y.jsx(ae,{label:"Delete base buildings (modal)"}),disabled:!t.selection||t.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:Hi,textContent:y.jsx(ae,{label:"Base building delete (content)"}),idIn:t.selection?.value})})]})},row({data:r}){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Edit base building (menu)"}),textTitle:y.jsx(ae,{label:"Edit base building (modal)"}),icon:vo,children:y.jsx(S_,{defaultValues:r,mutation:Hi.usePatchMutation({async wrap(n){return qr.promise(n(),{loading:y.jsx(ae,{label:"Saving base building (label)"}),success:y.jsx(ae,{label:"Base building successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete base building (label)"}),textTitle:y.jsx(ae,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:Hi,textContent:y.jsx(ae,{label:"Base building delete (content)"}),idIn:[r.id]})})]})}},...e}),IB=Gi({filter:Gd.filter}),zh=fr("/$locale/apps/derivean/root/building/base/list/")({validateSearch:Ki(IB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:Hi.withRouteListLoader(),component:()=>{const{data:t,count:e}=zh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=zh.useSearch(),l=zh.useNavigate(),{tva:c}=fi({from:"__root__"}),p=c().slots;return y.jsx("div",{className:p.base(),children:y.jsx($3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:gs(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(l),onSize:ys(l)}})})}}),TB=t=>y.jsx(xk,{items:[{id:"name",label:y.jsx(ae,{label:"Building name (label)"}),render({entity:e}){return e.baseBuilding.name}}],...t}),AB=fr("/$locale/apps/derivean/root/building/$id/view/")({component(){const{entity:t}=pl({from:"/$locale/apps/derivean/root/building/$id"});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(TB,{entity:t})})}}),Lb=t=>y.jsx(p3,{icon:Zr,titleText:y.jsx(ae,{label:"Select resource (title)"}),table:B3,render:({entity:e})=>e.name,useListQuery:Os.useListQuery,...t}),pN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=Co({resolver:Ro(Zd.shape),defaultValues:e}),c=G.useContext(ps),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:p.base(),onSubmit:gl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ws,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Ur,{formState:l.formState,name:"resourceId",label:y.jsx(ae,{label:"Resource name (label)"}),children:y.jsx(hl,{control:l.control,name:"resourceId",render:({field:{ref:m,...b}})=>y.jsx(Lb,{icon:Zr,titleText:y.jsx(ae,{label:"Select resource (title)"}),allowEmpty:!0,...b})})}),y.jsx(Ur,{formState:l.formState,name:"amount",label:y.jsx(ae,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:p.input(),...l.register("amount")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Fn,{iconEnabled:Zr,type:"submit",children:y.jsx(ae,{label:"Save resources item (submit)"})})})]})},PB=({source:t,resourceId:e,fallback:r=void 0})=>{const n=t.find(o=>o.resourceId===e);return n===void 0?r:n.limit},jB=({limits:t,resourceId:e,amount:r})=>{const n=PB({source:t,resourceId:e});return y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsx("div",{className:"",children:Eu({number:r})}),n===void 0?null:y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-slate-500",children:"/"}),y.jsx("div",{className:"font-light text-slate-500",children:n})]})]})},Rv=qo(),LB=[Rv({name:"building.baseBuilding.name",header(){return y.jsx(ae,{label:"Building name (label)"})},render({value:t}){return t},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),Rv({name:"resource.name",header(){return y.jsx(ae,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),Rv({name:"amount",header(){return y.jsx(ae,{label:"Amount (label)"})},render({data:t,value:e}){return y.jsx(jB,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],Fb=({buildingId:t,table:e,...r})=>y.jsx(No,{table:ko({...e,columns:LB}),action:{table(){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Create resource item (menu)"}),textTitle:y.jsx(ae,{label:"Create resource item (modal)"}),icon:Zr,hidden:!t,children:y.jsx(pN,{mutation:Is.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:y.jsx(ae,{label:"Saving resource item (label)"}),success:y.jsx(ae,{label:"Resource item successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save resource item (label)"})})},async toCreate({shape:n}){return{entity:{...n,buildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete resource item (label)"}),textTitle:y.jsx(ae,{label:"Delete resource item (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:Is,textContent:y.jsx(ae,{label:"Resource item delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Edit resource item (menu)"}),textTitle:y.jsx(ae,{label:"Edit resource item (modal)"}),icon:Zr,children:y.jsx(pN,{defaultValues:n,mutation:Is.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:y.jsx(ae,{label:"Saving resource item (label)"}),success:y.jsx(ae,{label:"Resource item successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save resource item (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete resource item (label)"}),textTitle:y.jsx(ae,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:Is,textContent:y.jsx(ae,{label:"Resource item delete (content)"}),idIn:[n.id]})})]})}},...r}),U3=({icon:t,title:e,amount:r})=>y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t?Hp(t)?y.jsx(_r,{icon:t,css:{base:["text-slate-500"]}}):t:null,y.jsx("div",{className:"text-slate-500",children:e}),y.jsx("div",{className:"font-bold text-slate-700",children:Eu({number:r.map(({amount:n})=>n).reduce((n,o)=>n+o,0)})})]}),FB=Gi({filter:Zd.filter}),DB=Is.withRouteListLoader(),Vh=fr("/$locale/apps/derivean/game/building/resource/list/")({validateSearch:Ki(FB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:e}){const r=await t.session();return DB({context:t,deps:{...e,where:{userId:r.id}}})},component(){const{data:t,count:e}=Vh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Vh.useSearch(),l=Vh.useNavigate(),{tva:c}=fi({from:"__root__"}),p=c().slots;return y.jsxs("div",{className:p.base(),children:[y.jsx(U3,{icon:Zr,title:y.jsx(ae,{label:"Resource sum (label)"}),amount:t}),y.jsx(Fb,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:gs(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(l),onSize:ys(l)}})]})}}),MB=lr({slot:{base:["flex","flex-col","gap-2"],item:["flex","flex-col","gap-2","bg-slate-50","hover:bg-slate-100","border","border-slate-300","hover:border-slate-400","p-2","rounded-lg"],title:["font-bold"]},variant:{canBuild:{true:[]}},match:[{if:{canBuild:!0},then:{item:["bg-emerald-50","hover:bg-emerald-100","border-emerald-300","hover:border-emerald-400"]}}],defaults:{canBuild:!1}}),z3=({requirements:t})=>y.jsx(KD,{items:t,render:({entity:e})=>y.jsxs("div",{className:id(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[y.jsx("div",{className:id(e.passive?"text-emerald-700":"text-amber-700"),children:e.resource.name}),y.jsxs("div",{className:"text-sm font-bold text-slate-500",children:["x",Eu({number:e.amount})]})]})}),BB=({resources:t,entities:e,variant:r,tva:n=MB,css:o})=>{const a=n({...r,css:o}).slots;return y.jsx("div",{className:a.base(),children:e.map(l=>{const c=j3({resources:t,requirements:l.requirements});return y.jsxs("div",{className:a.item({canBuild:c}),children:[y.jsxs("div",{className:"flex flex-row justify-between",children:[y.jsx("div",{className:a.title(),children:l.name}),y.jsx("div",{children:y.jsx(z3,{requirements:l.requirements})})]}),y.jsxs("div",{className:"flex flex-row justify-between",children:[y.jsx(Fn,{iconEnabled:_o,iconDisabled:_o,variant:{variant:"secondary"},disabled:!c,children:y.jsx(ae,{label:"Build (label)"})}),y.jsx("div",{})]})]},l.id)})})},WB=Gi({filter:Gd.filter}),V3=fr("/$locale/apps/derivean/game/building/base/list/")({validateSearch:Ki(WB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:Hi.withRouteListLoader(),component(){const{data:t}=V3.useLoaderData(),{resources:e}=pl({from:"/$locale/apps/derivean/game"});return y.jsx("div",{children:y.jsx(BB,{resources:e,entities:t})})}}),$B=fr("/$locale/apps/derivean/game/building/$id/view/")({component(){return"detail"}}),UB=t=>y.jsx(p3,{icon:vo,titleText:y.jsx(ae,{label:"Select base building (title)"}),table:$3,render:({entity:e})=>e.name,useListQuery:Hi.useListQuery,...t}),mN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=Co({resolver:Ro(Jd.shape),defaultValues:e}),c=G.useContext(ps),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:p.base(),onSubmit:gl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ws,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Ur,{formState:l.formState,name:"baseBuildingId",label:y.jsx(ae,{label:"Base building name (label)"}),children:y.jsx(hl,{control:l.control,name:"baseBuildingId",render:({field:{ref:m,...b}})=>y.jsx(UB,{icon:vo,titleText:y.jsx(ae,{label:"Select base building (title)"}),allowEmpty:!0,...b})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Fn,{iconEnabled:Zr,type:"submit",children:y.jsx(ae,{label:"Save Building (submit)"})})})]})},zB=qo(),VB=[zB({name:"baseBuilding.name",header(){return y.jsx(ae,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=_n({from:"/$locale"});return y.jsx(jn,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],HB=({userId:t,table:e,...r})=>y.jsx(No,{table:ko({...e,columns:VB}),action:{table(){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Create building (menu)"}),textTitle:y.jsx(ae,{label:"Create building (modal)"}),icon:Zr,children:y.jsx(mN,{mutation:oa.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:y.jsx(ae,{label:"Saving building (label)"}),success:y.jsx(ae,{label:"Building successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save building (label)"})})},async toCreate({shape:n}){return{entity:{...n,userId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete building (label)"}),textTitle:y.jsx(ae,{label:"Delete buildings (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:oa,textContent:y.jsx(ae,{label:"Building delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Edit building (menu)"}),textTitle:y.jsx(ae,{label:"Edit building (modal)"}),icon:_o,children:y.jsx(mN,{defaultValues:n,mutation:oa.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:y.jsx(ae,{label:"Saving building (label)"}),success:y.jsx(ae,{label:"Building successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete building (label)"}),textTitle:y.jsx(ae,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:oa,textContent:y.jsx(ae,{label:"Building delete (content)"}),idIn:[n.id]})})]})}},...r}),QB=Gi({filter:Jd.filter}),KB=oa.withRouteListLoader(),Dc=fr("/$locale/apps/derivean/root/user/$id/building/list/")({component(){const{data:t,count:e}=Dc.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Dc.useSearch(),{id:l}=Dc.useParams(),c=Dc.useNavigate(),{tva:p}=fi({from:"__root__"}),m=p().slots;return y.jsx("div",{className:m.base(),children:y.jsx(HB,{userId:l,table:{data:t,filter:{value:n,set(b){c({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){c({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:gs(c),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(c),onSize:ys(c)}})})},validateSearch:Ki(QB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return KB({context:t,deps:{...r,filter:{...e,userId:n}}})}}),GB=t=>y.jsx(xk,{items:[{id:"name",label:y.jsx(ae,{label:"Base building name (label)"}),render({entity:e}){return e.name}},{id:"requirement.resources",label:y.jsx(ae,{label:"Base building requirements (label)"}),render({entity:e}){return y.jsx(z3,{requirements:e.requirements})}}],...t}),JB=fr("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>{const{entity:t}=pl({from:"/$locale/apps/derivean/root/building/base/$id"});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(GB,{entity:t})})}}),H3=fr("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=pl({from:"/$locale/apps/derivean/root/building/base/$id"}),e=H3.useNavigate();return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(S_,{defaultValues:t,mutation:Hi.usePatchMutation({async wrap(r){return qr.promise(r(),{loading:y.jsx(ae,{label:"Saving base building (label)"}),success:y.jsx(ae,{label:"Base building successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),ZB=Gi({filter:Zd.filter}),XB=Is.withRouteListLoader(),Mc=fr("/$locale/apps/derivean/root/building/$id/resource/list/")({component(){const{data:t,count:e}=Mc.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Mc.useSearch(),{id:l}=Mc.useParams(),c=Mc.useNavigate(),{tva:p}=fi({from:"__root__"}),m=p().slots;return y.jsx("div",{className:m.base(),children:y.jsx(Fb,{buildingId:l,table:{data:t,filter:{value:n,set(b){c({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){c({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:gs(c),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(c),onSize:ys(c)}})})},validateSearch:Ki(ZB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return XB({context:t,deps:{...r,filter:{...e,buildingId:n}}})}}),YB=Gi({filter:Zd.filter}),e4=Is.withRouteListLoader(),Hh=fr("/$locale/apps/derivean/root/user/$id/building/resource/list/")({component(){const{data:t,count:e}=Hh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Hh.useSearch(),l=Hh.useNavigate(),{tva:c}=fi({from:"__root__"}),p=c().slots;return y.jsxs("div",{className:p.base(),children:[y.jsx(U3,{icon:Zr,title:y.jsx(ae,{label:"Resource sum (label)"}),amount:t}),y.jsx(Fb,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:gs(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(l),onSize:ys(l)}})]})},validateSearch:Ki(YB),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return e4({context:t,deps:{...r,filter:{...e,userId:n}}})}}),t4=fr("/$locale/apps/derivean/root/building/base/$id/resource/list/")({component(){return"resources available by default with this building"}}),yN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=Co({resolver:Ro(mm.shape),defaultValues:{passive:!1,...e}}),c=G.useContext(ps),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:p.base(),onSubmit:gl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ws,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Ur,{formState:l.formState,name:"resourceId",label:y.jsx(ae,{label:"Resource name (label)"}),children:y.jsx(hl,{control:l.control,name:"resourceId",render:({field:{ref:m,...b}})=>y.jsx(Lb,{...b})})}),y.jsx(Ur,{formState:l.formState,name:"amount",label:y.jsx(ae,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:p.input(),...l.register("amount")})}),y.jsx(Ur,{formState:l.formState,name:"passive",label:y.jsx(ae,{label:"Passive requirement (label)"}),hint:y.jsx(ae,{label:"Passive requirement (hint)"}),children:y.jsx(hl,{control:l.control,name:"passive",render:({field:{ref:m,...b}})=>y.jsx(wk,{...b})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Fn,{iconEnabled:Zr,type:"submit",children:y.jsx(ae,{label:"Save resource requirement (submit)"})})})]})},Ov=qo(),r4=[Ov({name:"resource.name",header(){return y.jsx(ae,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),Ov({name:"amount",header(){return y.jsx(ae,{label:"Amount (label)"})},render({value:t}){return Eu({number:t})},size:14}),Ov({name:"passive",header(){return y.jsx(ae,{label:"Passive requirement (label)"})},render({value:t}){return y.jsx(bk,{value:t})},size:14})],n4=({baseBuildingId:t,table:e,...r})=>y.jsx(No,{table:ko({...e,columns:r4}),action:{table(){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Create resource requirement (menu)"}),textTitle:y.jsx(ae,{label:"Create resource requirement (modal)"}),icon:Zr,children:y.jsx(yN,{mutation:iu.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:y.jsx(ae,{label:"Saving resource requirement (label)"}),success:y.jsx(ae,{label:"Resource requirement successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:n}){return{entity:{...n,baseBuildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete resource requirements (label)"}),textTitle:y.jsx(ae,{label:"Delete resource requirements (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:iu,textContent:y.jsx(ae,{label:"Resource requirements delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Edit resource requirement (menu)"}),textTitle:y.jsx(ae,{label:"Edit resource requirement (modal)"}),icon:Zr,children:y.jsx(yN,{defaultValues:n,mutation:iu.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:y.jsx(ae,{label:"Saving resource requirement (label)"}),success:y.jsx(ae,{label:"Resource requirement successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete resource requirement (label)"}),textTitle:y.jsx(ae,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:iu,textContent:y.jsx(ae,{label:"Resource requirement delete (content)"}),idIn:[n.id]})})]})}},...r}),i4=Gi({filter:mm.filter}),s4=iu.withRouteListLoader(),Bc=fr("/$locale/apps/derivean/root/building/base/$id/requirement/list/")({component:()=>{const{data:t,count:e}=Bc.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Bc.useSearch(),{id:l}=Bc.useParams(),c=Bc.useNavigate(),{tva:p}=fi({from:"__root__"}),m=p().slots;return y.jsx("div",{className:m.base(),children:y.jsx(n4,{baseBuildingId:l,table:{data:t,filter:{value:n,set(b){c({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){c({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:gs(c),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(c),onSize:ys(c)}})})},validateSearch:Ki(i4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return s4({context:t,deps:{...r,filter:{...e,baseBuildingId:n}}})}}),gN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=Co({resolver:Ro(pm.shape),defaultValues:e}),c=G.useContext(ps),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:p.base(),onSubmit:gl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ws,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Ur,{formState:l.formState,name:"resourceId",label:y.jsx(ae,{label:"Resource name (label)"}),children:y.jsx(hl,{control:l.control,name:"resourceId",render:({field:{ref:m,...b}})=>y.jsx(Lb,{icon:Zr,titleText:y.jsx(ae,{label:"Select resource (title)"}),allowEmpty:!0,...b})})}),y.jsx(Ur,{formState:l.formState,name:"limit",label:y.jsx(ae,{label:"Limit (label)"}),children:y.jsx("input",{type:"number",className:p.input(),...l.register("limit")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Fn,{iconEnabled:Zr,type:"submit",children:y.jsx(ae,{label:"Save resource limit (submit)"})})})]})},vN=qo(),o4=[vN({name:"resource.name",header(){return y.jsx(ae,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),vN({name:"limit",header(){return y.jsx(ae,{label:"Storage limit (label)"})},render({value:t}){return t},size:18})],a4=({baseBuildingId:t,table:e,...r})=>y.jsx(No,{table:ko({...e,columns:o4}),action:{table(){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Create resource limit (menu)"}),textTitle:y.jsx(ae,{label:"Create resource limit (modal)"}),icon:x_,children:y.jsx(gN,{mutation:nu.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:y.jsx(ae,{label:"Saving resource limit (label)"}),success:y.jsx(ae,{label:"Resource limit successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot resource limit storage (label)"})})},async toCreate({shape:n}){return{entity:{...n,baseBuildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete resource limit (label)"}),textTitle:y.jsx(ae,{label:"Delete resource limit (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:nu,textContent:y.jsx(ae,{label:"Resource limit delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(Cr,{label:y.jsx(ae,{label:"Edit base storage (menu)"}),textTitle:y.jsx(ae,{label:"Edit base storage (modal)"}),icon:x_,children:y.jsx(gN,{defaultValues:n,mutation:nu.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:y.jsx(ae,{label:"Saving base storage (label)"}),success:y.jsx(ae,{label:"Base storage successfully saved (label)"}),error:y.jsx(ae,{label:"Cannot save base storage (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),y.jsx(Cr,{icon:Qn,label:y.jsx(ae,{label:"Delete base storage (label)"}),textTitle:y.jsx(ae,{label:"Delete base storage (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(di,{repository:nu,textContent:y.jsx(ae,{label:"Base storage delete (content)"}),idIn:[n.id]})})]})}},...r}),l4=Gi({filter:pm.filter}),u4=nu.withRouteListLoader(),Wc=fr("/$locale/apps/derivean/root/building/base/$id/limit/list/")({component(){const{data:t,count:e}=Wc.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Wc.useSearch(),{id:l}=Wc.useParams(),c=Wc.useNavigate(),{tva:p}=fi({from:"__root__"}),m=p().slots;return y.jsx("div",{className:m.base(),children:y.jsx(a4,{baseBuildingId:l,table:{data:t,filter:{value:n,set(b){c({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){c({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:gs(c),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:y.jsx(ae,{label:"Number of items"}),onPage:ms(c),onSize:ys(c)}})})},validateSearch:Ki(l4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return u4({context:t,deps:{...r,filter:{...e,baseBuildingId:n}}})}}),Db=hM.update({id:"/$locale",path:"/$locale",getParentRoute:()=>Cb}),c4=yM.update({id:"/",path:"/",getParentRoute:()=>Cb}),d4=gM.update({id:"/",path:"/",getParentRoute:()=>Db}),Bu=_M.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>Db}),$s=SM.update({id:"/root",path:"/root",getParentRoute:()=>Bu}),Wu=qM.update({id:"/game",path:"/game",getParentRoute:()=>Bu}),f4=CM.update({id:"/",path:"/",getParentRoute:()=>Wu}),h4=tB.update({id:"/public/register",path:"/public/register",getParentRoute:()=>Bu}),p4=rB.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>Bu}),m4=oB.update({id:"/public/login",path:"/public/login",getParentRoute:()=>Bu}),vm=F3.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>$s}),Q3=uB.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>$s}),Mb=D3.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>$s}),y4=Bh.update({id:"/user/list/",path:"/user/list/",getParentRoute:()=>$s}),g4=Wh.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>$s}),v4=$h.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>$s}),_4=bB.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>$s}),b4=Uh.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Wu}),$u=W3.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>$s}),w4=CB.update({id:"/view/",path:"/view/",getParentRoute:()=>vm}),x4=RB.update({id:"/view/",path:"/view/",getParentRoute:()=>Q3}),S4=zh.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>$s}),E4=AB.update({id:"/view/",path:"/view/",getParentRoute:()=>Mb}),N4=Vh.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>Wu}),k4=V3.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>Wu}),q4=$B.update({id:"/building/$id/view/",path:"/building/$id/view/",getParentRoute:()=>Wu}),C4=Dc.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>vm}),R4=JB.update({id:"/view/",path:"/view/",getParentRoute:()=>$u}),O4=H3.update({id:"/edit/",path:"/edit/",getParentRoute:()=>$u}),I4=Mc.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Mb}),T4=Hh.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>vm}),A4=t4.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>$u}),P4=Bc.update({id:"/requirement/list/",path:"/requirement/list/",getParentRoute:()=>$u}),j4=Wc.update({id:"/limit/list/",path:"/limit/list/",getParentRoute:()=>$u}),L4={LocaleAppsDeriveanGameIndexRoute:f4,LocaleAppsDeriveanGameBuildingListIndexRoute:b4,LocaleAppsDeriveanGameBuildingIdViewIndexRoute:q4,LocaleAppsDeriveanGameBuildingBaseListIndexRoute:k4,LocaleAppsDeriveanGameBuildingResourceListIndexRoute:N4},F4=Wu._addFileChildren(L4),D4={LocaleAppsDeriveanRootBuildingIdViewIndexRoute:E4,LocaleAppsDeriveanRootBuildingIdResourceListIndexRoute:I4},M4=Mb._addFileChildren(D4),B4={LocaleAppsDeriveanRootResourceIdViewIndexRoute:x4},W4=Q3._addFileChildren(B4),$4={LocaleAppsDeriveanRootUserIdViewIndexRoute:w4,LocaleAppsDeriveanRootUserIdBuildingListIndexRoute:C4,LocaleAppsDeriveanRootUserIdBuildingResourceListIndexRoute:T4},U4=vm._addFileChildren($4),z4={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:O4,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:R4,LocaleAppsDeriveanRootBuildingBaseIdLimitListIndexRoute:j4,LocaleAppsDeriveanRootBuildingBaseIdRequirementListIndexRoute:P4,LocaleAppsDeriveanRootBuildingBaseIdResourceListIndexRoute:A4},V4=$u._addFileChildren(z4),H4={LocaleAppsDeriveanRootBuildingIdRoute:M4,LocaleAppsDeriveanRootResourceIdRoute:W4,LocaleAppsDeriveanRootUserIdRoute:U4,LocaleAppsDeriveanRootBuildingBaseIdRoute:V4,LocaleAppsDeriveanRootBuildingListIndexRoute:_4,LocaleAppsDeriveanRootResourceListIndexRoute:v4,LocaleAppsDeriveanRootTagListIndexRoute:g4,LocaleAppsDeriveanRootUserListIndexRoute:y4,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:S4},Q4=$s._addFileChildren(H4),K4={LocaleAppsDeriveanGameRoute:F4,LocaleAppsDeriveanRootRoute:Q4,LocaleAppsDeriveanPublicLoginRoute:m4,LocaleAppsDeriveanPublicLogoutRoute:p4,LocaleAppsDeriveanPublicRegisterRoute:h4},G4=Bu._addFileChildren(K4),J4={LocaleIndexRoute:d4,LocaleAppsDeriveanRoute:G4},Z4=Db._addFileChildren(J4),X4={IndexRoute:c4,LocaleRoute:Z4},Y4=Cb._addFileChildren(X4)._addFileTypes(),K3=new _C({defaultOptions:{queries:{placeholderData:oC}}}),eW=mR({routeTree:Y4,context:{queryClient:K3,tva:uF,async session(){return fm.parse(null)}},defaultPendingComponent:FD,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),_N=document.getElementById("app");vT({limit:{maxRequests:10,perMilliseconds:100}});_N.innerHTML||cM.createRoot(_N).render(y.jsx(NC,{client:K3,children:y.jsx(BR,{router:eW})}))})();