(async()=>{function yM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Zx={exports:{}},Qf={},Jx={exports:{}},xn={};var nI;function bM(){if(nI)return xn;nI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function b(Z){return Z===null||typeof Z!="object"?null:(Z=h&&Z[h]||Z["@@iterator"],typeof Z=="function"?Z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function I(Z,ue,he){this.props=Z,this.context=ue,this.refs=E,this.updater=he||x}I.prototype.isReactComponent={},I.prototype.setState=function(Z,ue){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,ue,"setState")},I.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function q(){}q.prototype=I.prototype;function O(Z,ue,he){this.props=Z,this.context=ue,this.refs=E,this.updater=he||x}var T=O.prototype=new q;T.constructor=O,w(T,I.prototype),T.isPureReactComponent=!0;var R=Array.isArray,D=Object.prototype.hasOwnProperty,F={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function $(Z,ue,he){var ge,_e={},Ne=null,Pe=null;if(ue!=null)for(ge in ue.ref!==void 0&&(Pe=ue.ref),ue.key!==void 0&&(Ne=""+ue.key),ue)D.call(ue,ge)&&!B.hasOwnProperty(ge)&&(_e[ge]=ue[ge]);var Re=arguments.length-2;if(Re===1)_e.children=he;else if(1<Re){for(var Xe=Array(Re),et=0;et<Re;et++)Xe[et]=arguments[et+2];_e.children=Xe}if(Z&&Z.defaultProps)for(ge in Re=Z.defaultProps,Re)_e[ge]===void 0&&(_e[ge]=Re[ge]);return{$$typeof:t,type:Z,key:Ne,ref:Pe,props:_e,_owner:F.current}}function j(Z,ue){return{$$typeof:t,type:Z.type,key:ue,ref:Z.ref,props:Z.props,_owner:Z._owner}}function z(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function P(Z){var ue={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(he){return ue[he]})}var W=/\/+/g;function K(Z,ue){return typeof Z=="object"&&Z!==null&&Z.key!=null?P(""+Z.key):ue.toString(36)}function L(Z,ue,he,ge,_e){var Ne=typeof Z;(Ne==="undefined"||Ne==="boolean")&&(Z=null);var Pe=!1;if(Z===null)Pe=!0;else switch(Ne){case"string":case"number":Pe=!0;break;case"object":switch(Z.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=Z,_e=_e(Pe),Z=ge===""?"."+K(Pe,0):ge,R(_e)?(he="",Z!=null&&(he=Z.replace(W,"$&/")+"/"),L(_e,ue,he,"",function(et){return et})):_e!=null&&(z(_e)&&(_e=j(_e,he+(!_e.key||Pe&&Pe.key===_e.key?"":(""+_e.key).replace(W,"$&/")+"/")+Z)),ue.push(_e)),1;if(Pe=0,ge=ge===""?".":ge+":",R(Z))for(var Re=0;Re<Z.length;Re++){Ne=Z[Re];var Xe=ge+K(Ne,Re);Pe+=L(Ne,ue,he,Xe,_e)}else if(Xe=b(Z),typeof Xe=="function")for(Z=Xe.call(Z),Re=0;!(Ne=Z.next()).done;)Ne=Ne.value,Xe=ge+K(Ne,Re++),Pe+=L(Ne,ue,he,Xe,_e);else if(Ne==="object")throw ue=String(Z),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Pe}function te(Z,ue,he){if(Z==null)return Z;var ge=[],_e=0;return L(Z,ge,"","",function(Ne){return ue.call(he,Ne,_e++)}),ge}function X(Z){if(Z._status===-1){var ue=Z._result;ue=ue(),ue.then(function(he){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=he)},function(he){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=he)}),Z._status===-1&&(Z._status=0,Z._result=ue)}if(Z._status===1)return Z._result.default;throw Z._result}var oe={current:null},re={transition:null},ne={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:re,ReactCurrentOwner:F};function ae(){throw Error("act(...) is not supported in production builds of React.")}return xn.Children={map:te,forEach:function(Z,ue,he){te(Z,function(){ue.apply(this,arguments)},he)},count:function(Z){var ue=0;return te(Z,function(){ue++}),ue},toArray:function(Z){return te(Z,function(ue){return ue})||[]},only:function(Z){if(!z(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},xn.Component=I,xn.Fragment=n,xn.Profiler=i,xn.PureComponent=O,xn.StrictMode=r,xn.Suspense=u,xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,xn.act=ae,xn.cloneElement=function(Z,ue,he){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var ge=w({},Z.props),_e=Z.key,Ne=Z.ref,Pe=Z._owner;if(ue!=null){if(ue.ref!==void 0&&(Ne=ue.ref,Pe=F.current),ue.key!==void 0&&(_e=""+ue.key),Z.type&&Z.type.defaultProps)var Re=Z.type.defaultProps;for(Xe in ue)D.call(ue,Xe)&&!B.hasOwnProperty(Xe)&&(ge[Xe]=ue[Xe]===void 0&&Re!==void 0?Re[Xe]:ue[Xe])}var Xe=arguments.length-2;if(Xe===1)ge.children=he;else if(1<Xe){Re=Array(Xe);for(var et=0;et<Xe;et++)Re[et]=arguments[et+2];ge.children=Re}return{$$typeof:t,type:Z.type,key:_e,ref:Ne,props:ge,_owner:Pe}},xn.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},xn.createElement=$,xn.createFactory=function(Z){var ue=$.bind(null,Z);return ue.type=Z,ue},xn.createRef=function(){return{current:null}},xn.forwardRef=function(Z){return{$$typeof:l,render:Z}},xn.isValidElement=z,xn.lazy=function(Z){return{$$typeof:f,_payload:{_status:-1,_result:Z},_init:X}},xn.memo=function(Z,ue){return{$$typeof:d,type:Z,compare:ue===void 0?null:ue}},xn.startTransition=function(Z){var ue=re.transition;re.transition={};try{Z()}finally{re.transition=ue}},xn.unstable_act=ae,xn.useCallback=function(Z,ue){return oe.current.useCallback(Z,ue)},xn.useContext=function(Z){return oe.current.useContext(Z)},xn.useDebugValue=function(){},xn.useDeferredValue=function(Z){return oe.current.useDeferredValue(Z)},xn.useEffect=function(Z,ue){return oe.current.useEffect(Z,ue)},xn.useId=function(){return oe.current.useId()},xn.useImperativeHandle=function(Z,ue,he){return oe.current.useImperativeHandle(Z,ue,he)},xn.useInsertionEffect=function(Z,ue){return oe.current.useInsertionEffect(Z,ue)},xn.useLayoutEffect=function(Z,ue){return oe.current.useLayoutEffect(Z,ue)},xn.useMemo=function(Z,ue){return oe.current.useMemo(Z,ue)},xn.useReducer=function(Z,ue,he){return oe.current.useReducer(Z,ue,he)},xn.useRef=function(Z){return oe.current.useRef(Z)},xn.useState=function(Z){return oe.current.useState(Z)},xn.useSyncExternalStore=function(Z,ue,he){return oe.current.useSyncExternalStore(Z,ue,he)},xn.useTransition=function(){return oe.current.useTransition()},xn.version="18.3.1",xn}var rI;function Sp(){return rI||(rI=1,Jx.exports=bM()),Jx.exports}var iI;function xM(){if(iI)return Qf;iI=1;var t=Sp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,h={},b=null,x=null;d!==void 0&&(b=""+d),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(h[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)h[f]===void 0&&(h[f]=u[f]);return{$$typeof:e,type:l,key:b,ref:x,props:h,_owner:i.current}}return Qf.Fragment=n,Qf.jsx=o,Qf.jsxs=o,Qf}var sI;function _M(){return sI||(sI=1,Zx.exports=xM()),Zx.exports}var m=_M(),Wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$c=typeof window>"u"||"Deno"in globalThis;function Ls(){}function wM(t,e){return typeof t=="function"?t(e):t}function $0(t){return typeof t=="number"&&t>=0&&t!==1/0}function dR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ad(t,e){return typeof t=="function"?t(e):t}function ho(t,e){return typeof t=="function"?t(e):t}function oI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==cE(o,e.options))return!1}else if(!jh(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function aI(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Bc(e.options.mutationKey)!==Bc(s))return!1}else if(!jh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function cE(t,e){return(e?.queryKeyHashFn||Bc)(t)}function Bc(t){return JSON.stringify(t,(e,n)=>B0(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function jh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!jh(t[n],e[n])):!1}function uE(t,e){if(t===e)return t;const n=lI(t)&&lI(e);if(n||B0(t)&&B0(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let u=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=uE(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function hy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function lI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function B0(t){if(!cI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!cI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cI(t){return Object.prototype.toString.call(t)==="[object Object]"}function SM(t){return new Promise(e=>{setTimeout(e,t)})}function z0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uE(t,e):e}function EM(t){return t}function NM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function kM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var dE=Symbol();function fR(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===dE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var IM=class extends Wd{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!$c&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},fE=new IM,CM=class extends Wd{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!$c&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},py=new CM;function W0(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function TM(t){return Math.min(1e3*2**t,3e4)}function hR(t){return(t??"online")==="online"?py.isOnline():!0}var pR=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Yx(t){return t instanceof pR}function mR(t){let e=!1,n=0,r=!1,i;const s=W0(),o=E=>{r||(b(new pR(E)),t.abort?.())},l=()=>{e=!0},u=()=>{e=!1},d=()=>fE.isFocused()&&(t.networkMode==="always"||py.isOnline())&&t.canRun(),f=()=>hR(t.networkMode)&&t.canRun(),h=E=>{r||(r=!0,t.onSuccess?.(E),i?.(),s.resolve(E))},b=E=>{r||(r=!0,t.onError?.(E),i?.(),s.reject(E))},x=()=>new Promise(E=>{i=I=>{(r||d())&&E(I)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),w=()=>{if(r)return;let E;const I=n===0?t.initialPromise:void 0;try{E=I??t.fn()}catch(q){E=Promise.reject(q)}Promise.resolve(E).then(h).catch(q=>{if(r)return;const O=t.retry??($c?0:3),T=t.retryDelay??TM,R=typeof T=="function"?T(n,q):T,D=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,q);if(e||!D){b(q);return}n++,t.onFail?.(n,q),SM(R).then(()=>d()?void 0:x()).then(()=>{e?b(q):w()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?w():x().then(w),s)}}function OM(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Pr=OM(),gR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$0(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($c?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},qM=class extends gR{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=RM(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=z0(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Ls).catch(Ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ho(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!dR(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=fR(this.options,e),u={queryKey:this.queryKey,meta:this.meta};return r(u),this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta});const o=l=>{Yx(l)&&l.silent||this.#o({type:"error",error:l}),Yx(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=mR({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(u){o(u);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,u)=>{this.#o({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yR(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Yx(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Pr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function yR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var AM=class extends Wd{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??cE(r,e);let s=this.get(i);return s||(s=new qM({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>oI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>oI(t,n)):e}notify(t){Pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},jM=class extends gR{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||vR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=mR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Pr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function vR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var PM=class extends Wd{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new jM({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=Xm(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=Xm(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Xm(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Xm(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>aI(e,n))}findAll(t={}){return this.getAll().filter(e=>aI(t,e))}notify(t){Pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Pr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ls))))}};function Xm(t){return t.options.scope?.id??String(t.mutationId)}function uI(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const h=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},b=fR(e.options,e.fetchOptions),x=async(w,E,I)=>{if(f)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const q={queryKey:e.queryKey,pageParam:E,direction:I?"backward":"forward",meta:e.options.meta};h(q);const O=await b(q),{maxPages:T}=e.options,R=I?kM:NM;return{pages:R(w.pages,O,T),pageParams:R(w.pageParams,E,T)}};if(i&&s.length){const w=i==="backward",E=w?FM:dI,I={pages:s,pageParams:o},q=E(r,I);l=await x(I,q,w)}else{const w=t??s.length;do{const E=u===0?o[0]??r.initialPageParam:dI(r,l);if(u>0&&E==null)break;l=await x(l,E),u++}while(u<w)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function dI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function FM(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var DM=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new AM,this.#t=t.mutationCache||new PM,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=fE.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=py.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ad(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=wM(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Pr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Pr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Pr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Pr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ls).catch(Ls)}invalidateQueries(t,e={}){return Pr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Pr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ls)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ad(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ls).catch(Ls)}fetchInfiniteQuery(t){return t.behavior=uI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ls).catch(Ls)}ensureInfiniteQueryData(t){return t.behavior=uI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return py.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Bc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{jh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Bc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{jh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===dE&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},LM=class extends Wd{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=W0(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#c;#l;#u;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),fI(this.#t,this.options)?this.#p():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ho(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!hy(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&hI(this.#t,r,this.options,n)&&this.#p(),this.updateResult(e),i&&(this.#t!==r||ho(this.options.enabled,this.#t)!==ho(n.enabled,this.#t)||ad(this.options.staleTime,this.#t)!==ad(n.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==r||ho(this.options.enabled,this.#t)!==ho(n.enabled,this.#t)||s!==this.#f)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return $M(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#p(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ls)),e}#g(){this.#x();const t=ad(this.options.staleTime,this.#t);if($c||this.#r.isStale||!$0(t))return;const n=dR(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#_(),this.#f=t,!($c||ho(this.options.enabled,this.#t)===!1||!$0(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||fE.isFocused())&&this.#p()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#_(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,s=this.#i,o=this.#s,u=t!==n?t.state:this.#n,{state:d}=t;let f={...d},h=!1,b;if(e._optimisticResults){const B=this.hasListeners(),$=!B&&fI(t,e),j=B&&hI(t,n,e,r);($||j)&&(f={...f,...yR(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:E}=f;if(e.select&&f.data!==void 0)if(i&&f.data===s?.data&&e.select===this.#c)b=this.#l;else try{this.#c=e.select,b=e.select(f.data),b=z0(i?.data,b,e),this.#l=b,this.#a=null}catch(B){this.#a=B}else b=f.data;if(e.placeholderData!==void 0&&b===void 0&&E==="pending"){let B;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)B=i.data;else if(B=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,e.select&&B!==void 0)try{B=e.select(B),this.#a=null}catch($){this.#a=$}B!==void 0&&(E="success",b=z0(i?.data,B,e),h=!0)}this.#a&&(x=this.#a,b=this.#l,w=Date.now(),E="error");const I=f.fetchStatus==="fetching",q=E==="pending",O=E==="error",T=q&&I,R=b!==void 0,F={status:E,fetchStatus:f.fetchStatus,isPending:q,isSuccess:E==="success",isError:O,isInitialLoading:T,isLoading:T,data:b,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:I,isRefetching:I&&!q,isLoadingError:O&&!R,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:O&&R,isStale:hE(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const B=z=>{F.status==="error"?z.reject(F.error):F.data!==void 0&&z.resolve(F.data)},$=()=>{const z=this.#o=F.promise=W0();B(z)},j=this.#o;switch(j.status){case"pending":t.queryHash===n.queryHash&&B(j);break;case"fulfilled":(F.status==="error"||F.data!==j.value)&&$();break;case"rejected":(F.status!=="error"||F.error!==j.reason)&&$();break}}return F}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#u=this.#t),hy(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(u=>{const d=u;return this.#r[d]!==e[d]&&l.has(d)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Pr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function MM(t,e){return ho(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fI(t,e){return MM(t,e)||t.state.data!==void 0&&U0(t,e,e.refetchOnMount)}function U0(t,e,n){if(ho(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&hE(t,e)}return!1}function hI(t,e,n,r){return(t!==e||ho(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&hE(t,n)}function hE(t,e){return ho(e.enabled,t)!==!1&&t.isStaleByTime(ad(e.staleTime,t))}function $M(t,e){return!hy(t.getCurrentResult(),e)}var BM=class extends Wd{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),hy(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Bc(n.mutationKey)!==Bc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??vR();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Pr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},U=Sp();const jn=Vs(U),zM=yM({__proto__:null,default:jn},[U]);var bR=U.createContext(void 0),bv=t=>{const e=U.useContext(bR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},WM=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(bR.Provider,{value:t,children:e})),xR=U.createContext(!1),UM=()=>U.useContext(xR);xR.Provider;function VM(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var HM=U.createContext(VM()),QM=()=>U.useContext(HM);function _R(t,e){return typeof t=="function"?t(...e):!!t}function V0(){}var KM=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},GM=t=>{U.useEffect(()=>{t.clearReset()},[t])},ZM=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&_R(n,[t.error,r]),JM=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},YM=(t,e)=>t.isLoading&&t.isFetching&&!e,XM=(t,e)=>t?.suspense&&e.isPending,pI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function e4(t,e,n){const r=bv(),i=UM(),s=QM(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",JM(o),KM(o,s),GM(s);const l=!r.getQueryCache().get(o.queryHash),[u]=U.useState(()=>new e(r,o)),d=u.getOptimisticResult(o);if(U.useSyncExternalStore(U.useCallback(f=>{const h=i?V0:u.subscribe(Pr.batchCalls(f));return u.updateResult(),h},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),U.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),XM(o,d))throw pI(o,u,s);if(ZM({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!$c&&YM(d,i)&&(l?pI(o,u,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(V0).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function zc(t,e){return e4(t,LM)}function mI(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function t4(t={},e){const n=bv().getMutationCache(),r=U.useRef(t),i=U.useRef(null);return i.current||(i.current=mI(n,t)),U.useEffect(()=>{r.current=t}),U.useSyncExternalStore(U.useCallback(s=>n.subscribe(()=>{const o=uE(i.current,mI(n,r.current));i.current!==o&&(i.current=o,Pr.schedule(s))}),[n]),()=>i.current,()=>i.current)}function _n(t,e){const n=bv(),[r]=U.useState(()=>new BM(n,t));U.useEffect(()=>{r.setOptions(t)},[r,t]);const i=U.useSyncExternalStore(U.useCallback(o=>r.subscribe(Pr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=U.useCallback((o,l)=>{r.mutate(o,l).catch(V0)},[r]);if(i.error&&_R(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const gI="popstate",yI="beforeunload";function wR(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},i=()=>{e=t.getLocation(),n.forEach(o=>o({location:e,action:{type:"ROLLBACK"}}))},s=async({task:o,navigateOpts:l,...u})=>{var d,f;if(l?.ignoreBlocker??!1){o();return}const b=((d=t.getBlockers)==null?void 0:d.call(t))??[],x=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&b.length&&x)for(const w of b){const E=Ph(u.path,u.state);if(await w.blockerFn({currentLocation:e,nextLocation:E,action:u.type})){(f=t.onBlocked)==null||f.call(t,i);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,u)=>{l=vI(l),s({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:o,state:l})},replace:(o,l,u)=>{l=vI(l),s({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:o,state:l})},go:(o,l)=>{s({task:()=>{t.go(o),r({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{s({task:()=>{t.back(o?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{t.forward(o?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const u=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...u,o]),()=>{var d,f;const h=((d=t.getBlockers)==null?void 0:d.call(t))??[];(f=t.setBlockers)==null||f.call(t,h.filter(b=>b!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function vI(t){return t||(t={}),{...t,key:i4()}}function n4(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const s=()=>i,o=B=>i=B,l=B=>B,u=()=>Ph(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let d=u(),f,h=!1,b=!1,x=!1;const w=()=>d;let E,I;const q=()=>{E&&(F._ignoreSubscribers=!0,(E.isPush?e.history.pushState:e.history.replaceState)(E.state,"",E.href),F._ignoreSubscribers=!1,E=void 0,I=void 0,f=void 0)},O=(B,$,j)=>{const z=l($);I||(f=d),d=Ph($,j),E={href:z,state:j,isPush:E?.isPush||B==="push"},I||(I=Promise.resolve().then(()=>q()))},T=()=>{d=u(),F.notify({type:"POP"})},R=async()=>{if(h){h=!1;return}if(b)b=!1;else{const B=s();if(typeof document<"u"&&B.length)for(const $ of B){const j=u();if(await $.blockerFn({currentLocation:d,nextLocation:j,action:"POP"})){h=!0,e.history.go(1),F.notify({type:"POP"});return}}}d=u(),F.notify({type:"POP"})},D=B=>{if(x){x=!1;return}let $=!1;const j=s();if(typeof document<"u"&&j.length)for(const z of j){const P=z.enableBeforeUnload??!0;if(P===!0){$=!0;break}if(typeof P=="function"&&P()===!0){$=!0;break}}if($)return B.preventDefault(),B.returnValue=""},F=wR({getLocation:w,getLength:()=>e.history.length,pushState:(B,$)=>O("push",B,$),replaceState:(B,$)=>O("replace",B,$),back:B=>(B&&(b=!0),x=!0,e.history.back()),forward:B=>{B&&(b=!0),x=!0,e.history.forward()},go:B=>e.history.go(B),createHref:B=>l(B),flush:q,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(yI,D,{capture:!0}),e.removeEventListener(gI,R)},onBlocked:B=>{f&&d!==f&&(d=f,B())},getBlockers:s,setBlockers:o});return e.addEventListener(yI,D,{capture:!0}),e.addEventListener(gI,R),e.history.pushState=function(...B){const $=n.apply(e.history,B);return F._ignoreSubscribers||T(),$},e.history.replaceState=function(...B){const $=r.apply(e.history,B);return F._ignoreSubscribers||T(),$},F}function r4(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex??e.length-1;const r=e.map(()=>({}));return wR({getLocation:()=>Ph(e[n],r[n]),getLength:()=>e.length,pushState:(s,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(s),n=Math.max(e.length-1,0)},replaceState:(s,o)=>{r[n]=o,e[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),e.length-1)},createHref:s=>s})}function Ph(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{}}}function i4(){return(Math.random()+1).toString(36).substring(7)}var s4="Invariant failed";function os(t,e){if(!t)throw new Error(s4)}const Xx=U.createContext(null);function SR(){return typeof document>"u"?Xx:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Xx,Xx)}function Io(t){const e=U.useContext(SR());return t?.warn,e}var e_={exports:{}},t_={},n_={exports:{}},r_={};var bI;function o4(){if(bI)return r_;bI=1;var t=Sp();function e(h,b){return h===b&&(h!==0||1/h===1/b)||h!==h&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(h,b){var x=b(),w=r({inst:{value:x,getSnapshot:b}}),E=w[0].inst,I=w[1];return s(function(){E.value=x,E.getSnapshot=b,u(E)&&I({inst:E})},[h,x,b]),i(function(){return u(E)&&I({inst:E}),h(function(){u(E)&&I({inst:E})})},[h]),o(x),x}function u(h){var b=h.getSnapshot;h=h.value;try{var x=b();return!n(h,x)}catch{return!0}}function d(h,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return r_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,r_}var xI;function a4(){return xI||(xI=1,n_.exports=o4()),n_.exports}var _I;function l4(){if(_I)return t_;_I=1;var t=Sp(),e=a4();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return t_.useSyncExternalStoreWithSelector=function(d,f,h,b,x){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function q(F){if(!O){if(O=!0,T=F,F=b(F),x!==void 0&&E.hasValue){var B=E.value;if(x(B,F))return R=B}return R=F}if(B=R,r(T,F))return B;var $=b(F);return x!==void 0&&x(B,$)?(T=F,B):(T=F,R=$)}var O=!1,T,R,D=h===void 0?null:h;return[function(){return q(f())},D===null?void 0:function(){return q(D())}]},[f,h,b,x]);var I=i(d,w[0],w[1]);return o(function(){E.hasValue=!0,E.value=I},[I]),u(I),I},t_}var wI;function c4(){return wI||(wI=1,e_.exports=l4()),e_.exports}var ER=c4();const u4=Vs(ER);class d4{constructor(e,n){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var i,s,o;const l=this.state;this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(l)(r):r(l),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(i=>{this._flushing===r&&i()})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=e,this.options=n}}function f4(t,e=n=>n){return ER.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,h4)}function h4(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const rs="__root__";function p4(t,e){let n,r,i,s="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+s}function SI(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function m4(t,e){let n,r;const i={},s=t.split("&");for(;n=s.shift();){const o=n.indexOf("=");if(o!==-1){r=n.slice(0,o),r=decodeURIComponent(r);const l=n.slice(o+1);i[r]!==void 0?i[r]=[].concat(i[r],SI(l)):i[r]=SI(l)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const g4=v4(JSON.parse),y4=b4(JSON.stringify,JSON.parse);function v4(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=m4(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function b4(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=p4(r).toString();return i?`?${i}`:""}}function xh(t){return t[t.length-1]}function x4(t){return typeof t=="function"}function Tc(t,e){return x4(t)?t(e):t}function Rg(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Fs(t,e){if(t===e)return t;const n=e,r=NI(t)&&NI(n);if(r||Nd(t)&&Nd(n)){const i=r?t:Object.keys(t),s=i.length,o=r?n:Object.keys(n),l=o.length,u=r?[]:{};let d=0;for(let f=0;f<l;f++){const h=r?f:o[f];(!r&&i.includes(h)||r)&&t[h]===void 0&&n[h]===void 0?(u[h]=void 0,d++):(u[h]=Fs(t[h],n[h]),u[h]===t[h]&&t[h]!==void 0&&d++)}return s===l&&d===s?t:u}return n}function Nd(t){if(!EI(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!EI(n)||!n.hasOwnProperty("isPrototypeOf"))}function EI(t){return Object.prototype.toString.call(t)==="[object Object]"}function NI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kI(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function ld(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Nd(t)&&Nd(e)){const r=n?.ignoreUndefined??!0,i=kI(t,r),s=kI(e,r);return!n?.partial&&i.length!==s.length?!1:s.every(o=>ld(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!ld(r,e[i],n)):!1}const ah=typeof window<"u"?U.useLayoutEffect:U.useEffect;function Ku(t){let e,n;const r=new Promise((i,s)=>{e=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function i_(t){const e=U.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function _4(t,e,n={},r={}){const i=U.useRef(typeof IntersectionObserver=="function"),s=U.useRef(null);return U.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{e(o)},n),s.current.observe(t.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[e,n,r.disabled,t]),s.current}function w4(t){const e=U.useRef(null);return U.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function Oa(t){return xv(t.filter(e=>e!==void 0).join("/"))}function xv(t){return t.replace(/\/{2,}/g,"/")}function pE(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Oc(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function S4(t){return Oc(pE(t))}function my(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function E4(t,e,n){return my(t,n)===my(e,n)}function N4({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;e=gy(t,e,i),n=gy(t,n,i);let l=kd(e);const u=kd(n);l.length>1&&((s=xh(l))==null?void 0:s.value)==="/"&&l.pop(),u.forEach((f,h)=>{f.value==="/"?h?h===u.length-1&&l.push(f):l=[f]:f.value===".."?l.pop():f.value==="."||l.push(f)}),l.length>1&&(((o=xh(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const d=Oa([t,...l.map(f=>f.value)]);return xv(d)}function kd(t){if(!t)return[];t=xv(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function eg({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=kd(t),o={};for(const[l,u]of Object.entries(e)){const d=typeof u=="string";["*","_splat"].includes(l)?o[l]=d?encodeURI(u):u:o[l]=d?k4(u,i):u}return Oa(s.map(l=>{if(l.type==="wildcard"){const u=o._splat;return n?`${l.value}${u??""}`:u}if(l.type==="param"){if(r){const u=o[l.value];return`${l.value}${u??""}`}return o[l.value.substring(1)]??"undefined"}return l.value}))}function k4(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function tg(t,e,n){const r=I4(t,e,n);if(!(n.to&&!r))return r??{}}function gy(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function I4(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=gy(t,e,n.caseSensitive);const r=gy(t,`${n.to??"$"}`,n.caseSensitive),i=kd(e),s=kd(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let u=0;u<Math.max(i.length,s.length);u++){const d=i[u],f=s[u],h=u>=i.length-1,b=u>=s.length-1;if(f){if(f.type==="wildcard"){const x=decodeURI(Oa(i.slice(u).map(w=>w.value)));return o["*"]=x,o._splat=x,!0}if(f.type==="pathname"){if(f.value==="/"&&!d?.value)return!0;if(d){if(n.caseSensitive){if(f.value!==d.value)return!1}else if(f.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(f.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[f.value.substring(1)]=decodeURIComponent(d.value))}}if(!h&&b)return o["**"]=Oa(i.slice(u+1).map(x=>x.value)),!!n.fuzzy&&f?.value!=="/"}return!0})()?o:void 0}function _v(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function xc(t){return!!t?.isRedirect}function s_(t){return!!t?.isRedirect&&t.href}function mE(t){const e=t.errorComponent??wv;return m.jsx(C4,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?U.createElement(e,{error:n,reset:r}):t.children})}class C4 extends U.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function wv({error:t}){const[e,n]=U.useState(!1);return m.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[m.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),m.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),m.jsx("div",{style:{height:".25rem"}}),e?m.jsx("div",{children:m.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?m.jsx("code",{children:t.message}):null})}):null]})}function Ii(t){const e=Io({warn:t?.router===void 0}),n=t?.router||e,r=U.useRef();return f4(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const s=Fs(r.current,t.select(i));return r.current=s,s}return t.select(i)}return i})}function uo(t){return!!t?.isNotFound}function T4(t){const e=Ii({select:n=>`not-found-${n.location.pathname}-${n.status}`});return m.jsx(mE,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(uo(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(uo(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function O4(){return m.jsx("p",{children:"Not Found"})}const q4={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],s=II.find(o=>o.stringifyCondition(i));return s?s.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n],s=II.find(o=>o.parseCondition(i));return s?s.parse(i):r})},II=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>Nd(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>Nd(t)&&t.$undefined==="",parse:()=>{}}],NR=["component","errorComponent","pendingComponent","notFoundComponent"];function R4(t){var e;for(const n of NR)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function o_(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new H0("Async validation not supported");if(n.issues)throw new H0(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function A4(t){return new j4(t)}class j4{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${S4(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?r4({initialEntries:[this.basepath||"/"]}):n4()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new d4(F4(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((l,u)=>{l.init({originalIndex:u,defaultSsr:this.options.defaultSsr});const d=this.routesById[l.id];if(os(!d,`Duplicate routes found with id: ${String(l.id)}`),this.routesById[l.id]=l,!l.isRoot&&l.path){const h=Oc(l.fullPath);(!this.routesByPath[h]||l.fullPath.endsWith("/"))&&(this.routesByPath[h]=l)}const f=l.children;f?.length&&r(f)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,l)=>{var u;if(o.isRoot||!o.path)return;const d=pE(o.fullPath),f=kd(d);for(;f.length>1&&((u=f[0])==null?void 0:u.value)==="/";)f.shift();const h=f.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);i.push({child:o,trimmed:d,parsed:f,index:l,scores:h})}),this.flatRoutes=i.sort((o,l)=>{const u=Math.min(o.scores.length,l.scores.length);for(let d=0;d<u;d++)if(o.scores[d]!==l.scores[d])return l.scores[d]-o.scores[d];if(o.scores.length!==l.scores.length)return l.scores.length-o.scores.length;for(let d=0;d<u;d++)if(o.parsed[d].value!==l.parsed[d].value)return o.parsed[d].value>l.parsed[d].value?1:-1;return o.index-l.index}).map((o,l)=>(o.child.rank=l,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:u,search:d,hash:f,state:h})=>{const b=this.options.parseSearch(d),x=this.options.stringifySearch(b);return{pathname:u,searchStr:x,search:Fs(n?.search,b),hash:f.split("#").reverse()[0]??"",href:`${u}${x}${f}`,state:Fs(n?.state,h)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:l}=s.state;if(o&&(!l||l===this.tempLocationKey)){const u=i(o);return u.state.key=s.state.key,delete u.state.__tempLocation,{...u,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>N4({basepath:this.basepath,base:n,to:xv(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const s=Oc(n.pathname),o=f=>tg(this.basepath,s,{to:f.fullPath,caseSensitive:f.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let l=r?.to!==void 0?this.routesByPath[r.to]:void 0;l?i=o(l):l=this.flatRoutes.find(f=>{const h=o(f);return h?(i=h,!0):!1});let u=l||this.routesById[rs];const d=[u];for(;u.parentRoute;)u=u.parentRoute,d.unshift(u);return{matchedRoutes:d,routeParams:i,foundRoute:l}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var l,u,d,f,h,b;const x=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,w=s.from!=null?x.find(P=>tg(this.basepath,Oc(P.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,E=w?.pathname||this.latestLocation.pathname;os(s.from==null||w!=null,"Could not find match for from: "+s.from);const I=(l=this.state.pendingMatches)!=null&&l.length?(u=xh(this.state.pendingMatches))==null?void 0:u.search:((d=xh(x))==null?void 0:d.search)||this.latestLocation.search,q=o?.matchedRoutes.filter(P=>x.find(W=>W.routeId===P.id));let O;if(s.to)O=this.resolvePathWithBase(E,`${s.to}`);else{const P=this.routesById[(f=q?.find(W=>{const K=eg({path:W.fullPath,params:o?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return Oa([this.basepath,K])===E}))==null?void 0:f.id];O=this.resolvePathWithBase(E,P?.to??E)}const T={...(h=xh(x))==null?void 0:h.params};let R=(s.params??!0)===!0?T:{...T,...Tc(s.params,T)};Object.keys(R).length>0&&o?.matchedRoutes.map(P=>{var W;return((W=P.options.params)==null?void 0:W.stringify)??P.options.stringifyParams}).filter(Boolean).forEach(P=>{R={...R,...P(R)}}),O=eg({path:O,params:R??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let D=I;if(n._includeValidateSearch&&((b=this.options.search)!=null&&b.strict)){let P={};o?.matchedRoutes.forEach(W=>{try{W.options.validateSearch&&(P={...P,...o_(W.options.validateSearch,{...P,...D})??{}})}catch{}}),D=P}D=(P=>{const W=o?.matchedRoutes.reduce((te,X)=>{var oe;const re=[];if("search"in X.options)(oe=X.options.search)!=null&&oe.middlewares&&re.push(...X.options.search.middlewares);else if(X.options.preSearchFilters||X.options.postSearchFilters){const ne=({search:ae,next:Z})=>{let ue=ae;"preSearchFilters"in X.options&&X.options.preSearchFilters&&(ue=X.options.preSearchFilters.reduce((ge,_e)=>_e(ge),ae));const he=Z(ue);return"postSearchFilters"in X.options&&X.options.postSearchFilters?X.options.postSearchFilters.reduce((ge,_e)=>_e(ge),he):he};re.push(ne)}if(n._includeValidateSearch&&X.options.validateSearch){const ne=({search:ae,next:Z})=>{try{const ue=Z(ae);return{...ue,...o_(X.options.validateSearch,ue)??{}}}catch{}};re.push(ne)}return te.concat(re)},[])??[],K=({search:te})=>s.search?s.search===!0?te:Tc(s.search,te):{};W.push(K);const L=(te,X)=>{if(te>=W.length)return X;const oe=W[te];return oe({search:X,next:ne=>L(te+1,ne)})};return L(0,P)})(D),D=Fs(I,D);const B=this.options.stringifySearch(D),$=s.hash===!0?this.latestLocation.hash:s.hash?Tc(s.hash,this.latestLocation.hash):void 0,j=$?`#${$}`:"";let z=s.state===!0?this.latestLocation.state:s.state?Tc(s.state,this.latestLocation.state):{};return z=Fs(this.latestLocation.state,z),{pathname:O,search:D,searchStr:B,state:z,hash:$??"",href:`${O}${B}${j}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var l;const u=r(s);let d=o?r(o):void 0;if(!d){let b={};const x=(l=this.options.routeMasks)==null?void 0:l.find(w=>{const E=tg(this.basepath,u.pathname,{to:w.from,caseSensitive:!1,fuzzy:!1});return E?(b=E,!0):!1});if(x){const{from:w,...E}=x;o={...Rg(n,["from"]),...E,params:b},d=r(o)}}const f=this.getMatchedRoutes(u,s),h=r(s,f);if(d){const b=this.getMatchedRoutes(d,o),x=r(o,b);h.maskedLocation=x}return h};return n.mask?i(n,{...Rg(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{i.state.key=this.latestLocation.state.key;const u=ld(i.state,this.latestLocation.state);return delete i.state.key,u},o=this.latestLocation.href===i.href,l=this.commitLocationPromise;if(this.commitLocationPromise=Ku(()=>{l?.resolve()}),o&&s())this.load();else{let{maskedLocation:u,hashScrollIntoView:d,...f}=i;u&&(f={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...f,search:f.searchStr,state:{...f.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(f.unmaskOnReload??this.options.unmaskOnReload??!1)&&(f.state.__tempKey=this.tempLocationKey)),f.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](f.href,f.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:l,...u}={})=>{if(l){const f=Ph(l,{});u.to=f.pathname,u.search=this.options.parseSearch(f.search),u.hash=f.hash.slice(1)}const d=this.buildLocation({...u,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){i||(i=this.buildLocation({to:n,...s}).href),s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let n,r,i;for(i=new Promise(s=>{this.startReactTransition(async()=>{var o;try{const l=this.latestLocation,u=this.state.resolvedLocation,d=u.href!==l.href,f=u.pathname!==l.pathname;this.cancelMatches();let h;this.__store.batch(()=>{h=this.matchRoutes(l),this.__store.setState(b=>({...b,status:"pending",isLoading:!0,location:l,pendingMatches:h,cachedMatches:b.cachedMatches.filter(x=>!h.find(w=>w.id===x.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:u,toLocation:l,pathChanged:f,hrefChanged:d}),this.emit({type:"onBeforeLoad",fromLocation:u,toLocation:l,pathChanged:f,hrefChanged:d}),await this.loadMatches({matches:h,location:l,onReady:async()=>{this.startViewTransition(async()=>{let b,x,w;this.__store.batch(()=>{this.__store.setState(E=>{const I=E.matches,q=E.pendingMatches||E.matches;return b=I.filter(O=>!q.find(T=>T.id===O.id)),x=q.filter(O=>!I.find(T=>T.id===O.id)),w=I.filter(O=>q.find(T=>T.id===O.id)),{...E,isLoading:!1,loadedAt:Date.now(),matches:q,pendingMatches:void 0,cachedMatches:[...E.cachedMatches,...b.filter(O=>O.status!=="error")]}}),this.clearExpiredCache()}),[[b,"onLeave"],[x,"onEnter"],[w,"onStay"]].forEach(([E,I])=>{E.forEach(q=>{var O,T;(T=(O=this.looseRoutesById[q.routeId].options)[I])==null||T.call(O,q)})})})}})}catch(l){s_(l)?(n=l,this.isServer||this.navigate({...n,replace:!0,ignoreBlocker:!0})):uo(l)&&(r=l),this.__store.setState(u=>({...u,statusCode:n?n.statusCode:r?404:u.matches.some(d=>d.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===i&&((o=this.commitLocationPromise)==null||o.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),s()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(f=>f.id===n),l=this.state.matches.find(f=>f.id===n),u=this.state.cachedMatches.find(f=>f.id===n),d=o?"pendingMatches":l?"matches":u?"cachedMatches":"";return d&&this.__store.setState(f=>{var h;return{...f,[d]:(h=f[d])==null?void 0:h.map(b=>b.id===n?s=r(b):b)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch})=>{let l,u=!1;const d=async()=>{u||(u=!0,await s?.())},f=b=>!!(i&&!this.state.matches.find(x=>x.id===b));!this.isServer&&!this.state.matches.length&&d();const h=(b,x)=>{var w,E,I;if(s_(x)&&!x.reloadDocument)throw x;if(xc(x)||uo(x)){if(o(b.id,q=>({...q,status:xc(x)?"redirected":uo(x)?"notFound":"error",isFetching:!1,error:x,beforeLoadPromise:void 0,loaderPromise:void 0})),x.routeId||(x.routeId=b.routeId),(w=b.beforeLoadPromise)==null||w.resolve(),(E=b.loaderPromise)==null||E.resolve(),(I=b.loadPromise)==null||I.resolve(),xc(x))throw u=!0,x=this.resolveRedirect({...x,_fromLocation:n}),x;if(uo(x))throw this._handleNotFound(r,x,{updateMatch:o}),x}};try{await new Promise((b,x)=>{(async()=>{var w,E,I;try{const q=(R,D,F)=>{var B,$;const{id:j,routeId:z}=r[R],P=this.looseRoutesById[z];if(D instanceof Promise)throw D;D.routerCode=F,l=l??R,h(this.getMatch(j),D);try{($=(B=P.options).onError)==null||$.call(B,D)}catch(W){D=W,h(this.getMatch(j),D)}o(j,W=>{var K,L;return(K=W.beforeLoadPromise)==null||K.resolve(),(L=W.loadPromise)==null||L.resolve(),{...W,error:D,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[R,{id:D,routeId:F}]of r.entries()){const B=this.getMatch(D),$=(w=r[R-1])==null?void 0:w.id,j=this.looseRoutesById[F],z=j.options.pendingMs??this.options.defaultPendingMs,P=!!(s&&!this.isServer&&!f(D)&&(j.options.loader||j.options.beforeLoad)&&typeof z=="number"&&z!==1/0&&(j.options.pendingComponent??this.options.defaultPendingComponent));let W=!0;if((B.beforeLoadPromise||B.loaderPromise)&&(P&&setTimeout(()=>{try{d()}catch{}},z),await B.beforeLoadPromise,W=this.getMatch(D).status!=="success"),W){try{o(D,_e=>({..._e,loadPromise:Ku(()=>{var Ne;(Ne=_e.loadPromise)==null||Ne.resolve()}),beforeLoadPromise:Ku()}));const K=new AbortController;let L;P&&(L=setTimeout(()=>{try{d()}catch{}},z));const{paramsError:te,searchError:X}=this.getMatch(D);te&&q(R,te,"PARSE_PARAMS"),X&&q(R,X,"VALIDATE_SEARCH");const oe=()=>$?this.getMatch($).context:this.options.context??{};o(D,_e=>({..._e,isFetching:"beforeLoad",fetchCount:_e.fetchCount+1,abortController:K,pendingTimeout:L,context:{...oe(),..._e.__routeContext,..._e.__beforeLoadContext}}));const{search:re,params:ne,context:ae,cause:Z}=this.getMatch(D),ue=f(D),he={search:re,abortController:K,params:ne,preload:ue,context:ae,location:n,navigate:_e=>this.navigate({..._e,_fromLocation:n}),buildLocation:this.buildLocation,cause:ue?"preload":Z,matches:r};let ge=await ((I=(E=j.options).beforeLoad)==null?void 0:I.call(E,he))??{};this.serializeLoaderData&&(ge=this.serializeLoaderData("__beforeLoadContext",ge,{router:this,match:this.getMatch(D)})),(xc(ge)||uo(ge))&&q(R,ge,"BEFORE_LOAD"),o(D,_e=>({..._e,__beforeLoadContext:ge,context:{...oe(),..._e.__routeContext,...ge},abortController:K}))}catch(K){q(R,K,"BEFORE_LOAD")}o(D,K=>{var L;return(L=K.beforeLoadPromise)==null||L.resolve(),{...K,beforeLoadPromise:void 0,isFetching:!1}})}}const O=r.slice(0,l),T=[];O.forEach(({id:R,routeId:D},F)=>{T.push((async()=>{const{loaderPromise:B}=this.getMatch(R);let $=!1;if(B)await B;else{const j=T[F-1],z=this.looseRoutesById[D],P=()=>{const{params:ue,loaderDeps:he,abortController:ge,context:_e,cause:Ne}=this.getMatch(R),Pe=f(R);return{params:ue,deps:he,preload:!!Pe,parentMatchPromise:j,abortController:ge,context:_e,location:n,navigate:Re=>this.navigate({...Re,_fromLocation:n}),cause:Pe?"preload":Ne,route:z}},W=Date.now()-this.getMatch(R).updatedAt,K=f(R),L=K?z.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:z.options.staleTime??this.options.defaultStaleTime??0,te=z.options.shouldReload,X=typeof te=="function"?te(P()):te;o(R,ue=>({...ue,loaderPromise:Ku(),preload:!!K&&!this.state.matches.find(he=>he.id===R)}));const oe=async()=>{var ue,he,ge,_e,Ne,Pe,Re,Xe;try{const et=async()=>{const nt=this.getMatch(R);nt.minPendingPromise&&await nt.minPendingPromise};try{this.loadRouteChunk(z),o(R,ln=>({...ln,isFetching:"loader"}));let nt=await ((he=(ue=z.options).loader)==null?void 0:he.call(ue,P()));this.serializeLoaderData&&(nt=this.serializeLoaderData("loaderData",nt,{router:this,match:this.getMatch(R)})),h(this.getMatch(R),nt),await z._lazyPromise,await et();const Ve=(_e=(ge=z.options).head)==null?void 0:_e.call(ge,{matches:r,match:this.getMatch(R),params:this.getMatch(R).params,loaderData:nt}),ot=Ve?.meta,kt=Ve?.links,At=Ve?.scripts,Gt=(Pe=(Ne=z.options).headers)==null?void 0:Pe.call(Ne,{loaderData:nt});o(R,ln=>({...ln,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:nt,meta:ot,links:kt,scripts:At,headers:Gt}))}catch(nt){let Ve=nt;await et(),h(this.getMatch(R),nt);try{(Xe=(Re=z.options).onError)==null||Xe.call(Re,nt)}catch(ot){Ve=ot,h(this.getMatch(R),ot)}o(R,ot=>({...ot,error:Ve,status:"error",isFetching:!1}))}await z._componentsPromise}catch(et){o(R,nt=>({...nt,loaderPromise:void 0})),h(this.getMatch(R),et)}},{status:re,invalid:ne}=this.getMatch(R);$=re==="success"&&(ne||(X??W>L)),K&&z.options.preload===!1||($?(async()=>{try{await oe()}catch(ue){s_(ue)&&await this.navigate(ue)}})():re!=="success"&&await oe());const{loaderPromise:ae,loadPromise:Z}=this.getMatch(R);ae?.resolve(),Z?.resolve()}return o(R,j=>({...j,isFetching:$?j.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(R)})())}),await Promise.all(T),b()}catch(q){x(q)}})()}),await d()}catch(b){if(xc(b)||uo(b))throw uo(b)&&!i&&await d(),b}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n?.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load()},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(NR.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...s,...this.state.cachedMatches.map(l=>l.id)]);this.__store.batch(()=>{i.forEach(l=>{o.has(l.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,l]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(l,u)=>{s.has(l)?i=i.map(d=>d.id===l?u(d):d):this.updateMatch(l,u)}}),i}catch(l){if(xc(l))return l.reloadDocument?void 0:await this.preloadRoute({...l,_fromLocation:r});console.error(l);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,u=tg(this.basepath,l.pathname,{...r,to:s.pathname});return!u||n.params&&!ld(u,n.params,{partial:!0})?!1:u&&(r?.includeSearch??!0)?ld(l.search,s.search,{partial:!0})?u:!1:u},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??D4;return{state:{dehydratedMatches:this.state.matches.map(i=>({...Rg(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let s;typeof document<"u"&&(s=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),os(s),this.dehydratedData=s.payload,(i=(r=this.options).hydrate)==null||i.call(r,s.payload);const o=s.router.state,l=this.matchRoutes(this.state.location).map(u=>{const d=o.dehydratedMatches.find(f=>f.id===u.id);return os(d,`Could not find a client-side match for dehydrated match with id: ${u.id}!`),{...u,...d}});this.__store.setState(u=>({...u,matches:l})),this.manifest=s.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const s=Object.fromEntries(n.map(u=>[u.routeId,u]));let o=(r.global?this.looseRoutesById[rs]:this.looseRoutesById[r.routeId])||this.looseRoutesById[rs];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==rs;)o=o.parentRoute,os(o);const l=s[o.id];os(l,"Could not find match for route: "+o.id),i(l.id,u=>({...u,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??y4,parseSearch:e.parseSearch??g4,transformer:e.transformer??q4}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(e,n?.dest);let o=!1;(r?r.path!=="/"&&s["**"]:Oc(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const l=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let h=i.length-1;h>=0;h--){const b=i[h];if(b.children)return b.id}return rs}})(),u=i.map(h=>{var b;let x;const w=((b=h.options.params)==null?void 0:b.parse)??h.options.parseParams;if(w)try{const E=w(s);Object.assign(s,E)}catch(E){if(x=new P4(E.message,{cause:E}),n?.throwOnError)throw x;return x}}),d=[],f=h=>h?.id?h.context??this.options.context??{}:this.options.context??{};return i.forEach((h,b)=>{var x,w,E,I;const q=d[b-1],[O,T]=(()=>{const K=q?.search??e.search;try{const L=o_(h.options.validateSearch,K)??{};return[{...K,...L},void 0]}catch(L){const te=new H0(L.message,{cause:L});if(n?.throwOnError)throw te;return[K,te]}})(),R=((w=(x=h.options).loaderDeps)==null?void 0:w.call(x,{search:O}))??"",D=R?JSON.stringify(R):"",F=eg({path:h.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),B=eg({path:h.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+D,$=this.getMatch(B),j=this.state.matches.find(K=>K.routeId===h.id),z=j?"stay":"enter";let P;if($)P={...$,cause:z,params:j?Fs(j.params,s):s,search:Fs(j?j.search:$.search,O)};else{const K=h.options.loader||h.options.beforeLoad||h.lazyFn||R4(h)?"pending":"success";P={id:B,index:b,routeId:h.id,params:j?Fs(j.params,s):s,pathname:Oa([this.basepath,F]),updatedAt:Date.now(),search:j?Fs(j.search,O):O,searchError:void 0,status:K,isFetching:!1,error:void 0,paramsError:u[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:z,loaderDeps:j?Fs(j.loaderDeps,R):R,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:Ku(),fullPath:h.fullPath}}P.status==="success"&&(P.headers=(I=(E=h.options).headers)==null?void 0:I.call(E,{loaderData:P.loaderData})),n?.preload||(P.globalNotFound=l===h.id),P.searchError=T;const W=f(q);P.context={...W,...P.__routeContext,...P.__beforeLoadContext},d.push(P)}),d.forEach((h,b)=>{var x,w,E,I;const q=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&n?._buildLocation!==!0){const R=d[b-1],D=f(R),F={deps:h.loaderDeps,params:h.params,context:D,location:e,navigate:B=>this.navigate({...B,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:d};h.__routeContext=((w=(x=q.options).context)==null?void 0:w.call(x,F))??{},h.context={...D,...h.__routeContext,...h.__beforeLoadContext}}const T=(I=(E=q.options).head)==null?void 0:I.call(E,{matches:d,match:h,params:h.params,loaderData:h.loaderData??void 0});h.links=T?.links,h.scripts=T?.scripts,h.meta=T?.meta}),d}}class H0 extends Error{}class P4 extends Error{}function F4(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function D4(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function CI(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function TI(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Sv=U.createContext(void 0),L4=U.createContext(void 0);function Fl(t){const e=U.useContext(t.from?L4:Sv);return Ii({select:r=>{const i=r.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(os(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function eu(t){return Fl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function M4(t){const{select:e,...n}=t;return Fl({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function dr(t){return Fl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function $4(t){return Fl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Ep(t){const{navigate:e}=Io();return U.useCallback(n=>e({...n}),[e])}let kR=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!s?.path&&!s?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=rs:os(this.parentRoute);let l=o?rs:s.path;l&&l!=="/"&&(l=pE(l));const u=s?.id||l;let d=o?rs:Oa([this.parentRoute.id===rs?"":this.parentRoute.id,u]);l===rs&&(l="/"),d!==rs&&(d=Oa(["/",d]));const f=d===rs?"/":Oa([this.parentRoute.fullPath,l]);this._path=l,this._id=d,this._fullPath=f,this._to=f,this._ssr=s?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>Fl({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Fl({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>$4({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>dr({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>M4({...n,from:this.id}),this.useLoaderData=n=>eu({...n,from:this.id}),this.useNavigate=()=>Ep({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,os(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function B4(t){return new kR(t)}function z4(){return t=>U4(t)}class W4 extends kR{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function U4(t){return new W4(t)}function Sn(t){return new V4(t,{silent:!0}).createRoute}class V4{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=B4(r);return i.isRoot=!1,i},this.silent=n?.silent}}function Ag(t){return m.jsx(m.Fragment,{children:t.children})}function IR(t,e,n){return e.options.notFoundComponent?m.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?m.jsx(t.options.defaultNotFoundComponent,{data:n}):m.jsx(O4,{})}const CR=U.memo(function({matchId:e}){var n,r;const i=Io(),s=Ii({select:I=>{var q;return(q=I.matches.find(O=>O.id===e))==null?void 0:q.routeId}});os(s);const o=i.routesById[s],l=o.options.pendingComponent??i.options.defaultPendingComponent,u=l?m.jsx(l,{}):null,d=o.options.errorComponent??i.options.defaultErrorComponent,f=o.options.onCatch??i.options.defaultOnCatch,h=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,b=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??l??((r=o.options.errorComponent)==null?void 0:r.preload))?U.Suspense:Ag,x=d?mE:Ag,w=h?T4:Ag,E=Ii({select:I=>I.loadedAt});return m.jsx(Sv.Provider,{value:e,children:m.jsx(b,{fallback:u,children:m.jsx(x,{getResetKey:()=>E,errorComponent:d||wv,onCatch:(I,q)=>{if(uo(I))throw I;f?.(I,q)},children:m.jsx(w,{fallback:I=>{if(!h||I.routeId&&I.routeId!==s||!I.routeId&&!o.isRoot)throw I;return U.createElement(h,I)},children:m.jsx(H4,{matchId:e})})})})})}),H4=U.memo(function({matchId:e}){var n,r,i,s,o;const l=Io(),{match:u,matchIndex:d,routeId:f}=Ii({select:w=>{const E=w.matches.findIndex(O=>O.id===e),I=w.matches[E];return{routeId:I.routeId,matchIndex:E,match:Rg(I,["id","status","error"])}},structuralSharing:!0}),h=l.routesById[f],b=U.useMemo(()=>{const w=h.options.component??l.options.defaultComponent;return w?m.jsx(w,{}):m.jsx(Ba,{})},[h.options.component,l.options.defaultComponent]),x=(h.options.errorComponent??l.options.defaultErrorComponent)||wv;if(u.status==="notFound"){let w;return CI(u.error)?w=(((n=l.options.errorSerializer)==null?void 0:n.deserialize)??TI)(u.error.data):w=u.error,os(uo(w)),IR(l,h,w)}if(u.status==="redirected")throw os(xc(u.error)),(r=l.getMatch(u.id))==null?void 0:r.loadPromise;if(u.status==="error"){if(l.isServer)return m.jsx(x,{error:u.error,info:{componentStack:""}});throw CI(u.error)?(((i=l.options.errorSerializer)==null?void 0:i.deserialize)??TI)(u.error.data):u.error}if(u.status==="pending"){const w=h.options.pendingMinMs??l.options.defaultPendingMinMs;if(w&&!((s=l.getMatch(u.id))!=null&&s.minPendingPromise)&&!l.isServer){const E=Ku();Promise.resolve().then(()=>{l.updateMatch(u.id,I=>({...I,minPendingPromise:E}))}),setTimeout(()=>{E.resolve(),l.updateMatch(u.id,I=>({...I,minPendingPromise:void 0}))},w)}throw(o=l.getMatch(u.id))==null?void 0:o.loadPromise}return m.jsxs(m.Fragment,{children:[b,l.AfterEachMatch?m.jsx(l.AfterEachMatch,{match:u,matchIndex:d}):null]})}),Ba=U.memo(function(){const e=Io(),n=U.useContext(Sv),r=Ii({select:d=>{var f;return(f=d.matches.find(h=>h.id===n))==null?void 0:f.routeId}}),i=e.routesById[r],s=Ii({select:d=>{const h=d.matches.find(b=>b.id===n);return os(h),h.globalNotFound}}),o=Ii({select:d=>{var f;const h=d.matches,b=h.findIndex(x=>x.id===n);return(f=h[b+1])==null?void 0:f.id}});if(s)return IR(e,i,void 0);if(!o)return null;const l=m.jsx(CR,{matchId:o}),u=e.options.defaultPendingComponent?m.jsx(e.options.defaultPendingComponent,{}):null;return n===rs?m.jsx(U.Suspense,{fallback:u,children:l}):l});var a_={exports:{}},$i={},l_={exports:{}},c_={};var OI;function Q4(){return OI||(OI=1,function(t){function e(re,ne){var ae=re.length;re.push(ne);e:for(;0<ae;){var Z=ae-1>>>1,ue=re[Z];if(0<i(ue,ne))re[Z]=ne,re[ae]=ue,ae=Z;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ne=re[0],ae=re.pop();if(ae!==ne){re[0]=ae;e:for(var Z=0,ue=re.length,he=ue>>>1;Z<he;){var ge=2*(Z+1)-1,_e=re[ge],Ne=ge+1,Pe=re[Ne];if(0>i(_e,ae))Ne<ue&&0>i(Pe,_e)?(re[Z]=Pe,re[Ne]=ae,Z=Ne):(re[Z]=_e,re[ge]=ae,Z=ge);else if(Ne<ue&&0>i(Pe,ae))re[Z]=Pe,re[Ne]=ae,Z=Ne;else break e}}return ne}function i(re,ne){var ae=re.sortIndex-ne.sortIndex;return ae!==0?ae:re.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,h=null,b=3,x=!1,w=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(re){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=re)r(d),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(d)}}function R(re){if(E=!1,T(re),!w)if(n(u)!==null)w=!0,X(D);else{var ne=n(d);ne!==null&&oe(R,ne.startTime-re)}}function D(re,ne){w=!1,E&&(E=!1,q($),$=-1),x=!0;var ae=b;try{for(T(ne),h=n(u);h!==null&&(!(h.expirationTime>ne)||re&&!P());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,b=h.priorityLevel;var ue=Z(h.expirationTime<=ne);ne=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(u)&&r(u),T(ne)}else r(u);h=n(u)}if(h!==null)var he=!0;else{var ge=n(d);ge!==null&&oe(R,ge.startTime-ne),he=!1}return he}finally{h=null,b=ae,x=!1}}var F=!1,B=null,$=-1,j=5,z=-1;function P(){return!(t.unstable_now()-z<j)}function W(){if(B!==null){var re=t.unstable_now();z=re;var ne=!0;try{ne=B(!0,re)}finally{ne?K():(F=!1,B=null)}}else F=!1}var K;if(typeof O=="function")K=function(){O(W)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,te=L.port2;L.port1.onmessage=W,K=function(){te.postMessage(null)}}else K=function(){I(W,0)};function X(re){B=re,F||(F=!0,K())}function oe(re,ne){$=I(function(){re(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){w||x||(w=!0,X(D))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(re){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var ae=b;b=ne;try{return re()}finally{b=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ne){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=b;b=re;try{return ne()}finally{b=ae}},t.unstable_scheduleCallback=function(re,ne,ae){var Z=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Z+ae:Z):ae=Z,re){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=0x3fffffff;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ae+ue,re={id:f++,callback:ne,priorityLevel:re,startTime:ae,expirationTime:ue,sortIndex:-1},ae>Z?(re.sortIndex=ae,e(d,re),n(u)===null&&re===n(d)&&(E?(q($),$=-1):E=!0,oe(R,ae-Z))):(re.sortIndex=ue,e(u,re),w||x||(w=!0,X(D))),re},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(re){var ne=b;return function(){var ae=b;b=ne;try{return re.apply(this,arguments)}finally{b=ae}}}}(c_)),c_}var qI;function K4(){return qI||(qI=1,l_.exports=Q4()),l_.exports}var RI;function G4(){if(RI)return $i;RI=1;var t=Sp(),e=K4();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function b(a){return u.call(h,a)?!0:u.call(f,a)?!1:d.test(a)?h[a]=!0:(f[a]=!0,!1)}function x(a,c,p,_){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return _?!1:p!==null?!p.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,c,p,_){if(c===null||typeof c>"u"||x(a,c,p,_))return!0;if(_)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function E(a,c,p,_,k,A,G){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=_,this.attributeNamespace=k,this.mustUseProperty=p,this.propertyName=a,this.type=c,this.sanitizeURL=A,this.removeEmptyString=G}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new E(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];I[c]=new E(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new E(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new E(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new E(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new E(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new E(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new E(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new E(a,5,!1,a.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function O(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(q,O);I[c]=new E(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(q,O);I[c]=new E(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(q,O);I[c]=new E(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new E(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new E(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,c,p,_){var k=I.hasOwnProperty(c)?I[c]:null;(k!==null?k.type!==0:_||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,p,k,_)&&(p=null),_||k===null?b(c)&&(p===null?a.removeAttribute(c):a.setAttribute(c,""+p)):k.mustUseProperty?a[k.propertyName]=p===null?k.type===3?!1:"":p:(c=k.attributeName,_=k.attributeNamespace,p===null?a.removeAttribute(c):(k=k.type,p=k===3||k===4&&p===!0?"":""+p,_?a.setAttributeNS(_,c,p):a.setAttribute(c,p))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),F=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),P=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),re=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=re&&a[re]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,Z;function ue(a){if(Z===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Z=c&&c[1]||""}return`
`+Z+a}var he=!1;function ge(a,c){if(!a||he)return"";he=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Ue){var _=Ue}Reflect.construct(a,[],c)}else{try{c.call()}catch(Ue){_=Ue}a.call(c.prototype)}else{try{throw Error()}catch(Ue){_=Ue}a()}}catch(Ue){if(Ue&&_&&typeof Ue.stack=="string"){for(var k=Ue.stack.split(`
`),A=_.stack.split(`
`),G=k.length-1,ye=A.length-1;1<=G&&0<=ye&&k[G]!==A[ye];)ye--;for(;1<=G&&0<=ye;G--,ye--)if(k[G]!==A[ye]){if(G!==1||ye!==1)do if(G--,ye--,0>ye||k[G]!==A[ye]){var Se=`
`+k[G].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=G&&0<=ye);break}}}finally{he=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?ue(a):""}function _e(a){switch(a.tag){case 5:return ue(a.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return a=ge(a.type,!1),a;case 11:return a=ge(a.type.render,!1),a;case 1:return a=ge(a.type,!0),a;default:return""}}function Ne(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case B:return"Fragment";case F:return"Portal";case j:return"Profiler";case $:return"StrictMode";case K:return"Suspense";case L:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case P:return(a.displayName||"Context")+".Consumer";case z:return(a._context.displayName||"Context")+".Provider";case W:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case te:return c=a.displayName||null,c!==null?c:Ne(a.type)||"Memo";case X:c=a._payload,a=a._init;try{return Ne(a(c))}catch{}}return null}function Pe(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(c);case 8:return c===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Re(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Xe(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function et(a){var c=Xe(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),_=""+a[c];if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var k=p.get,A=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return k.call(this)},set:function(G){_=""+G,A.call(this,G)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return _},setValue:function(G){_=""+G},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function nt(a){a._valueTracker||(a._valueTracker=et(a))}function Ve(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),_="";return a&&(_=Xe(a)?a.checked?"true":"false":a.value),a=_,a!==p?(c.setValue(a),!0):!1}function ot(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function kt(a,c){var p=c.checked;return ae({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??a._wrapperState.initialChecked})}function At(a,c){var p=c.defaultValue==null?"":c.defaultValue,_=c.checked!=null?c.checked:c.defaultChecked;p=Re(c.value!=null?c.value:p),a._wrapperState={initialChecked:_,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Gt(a,c){c=c.checked,c!=null&&T(a,"checked",c,!1)}function ln(a,c){Gt(a,c);var p=Re(c.value),_=c.type;if(p!=null)_==="number"?(p===0&&a.value===""||a.value!=p)&&(a.value=""+p):a.value!==""+p&&(a.value=""+p);else if(_==="submit"||_==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?be(a,c.type,p):c.hasOwnProperty("defaultValue")&&be(a,c.type,Re(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function ve(a,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var _=c.type;if(!(_!=="submit"&&_!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,p||c===a.value||(a.value=c),a.defaultValue=c}p=a.name,p!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,p!==""&&(a.name=p)}function be(a,c,p){(c!=="number"||ot(a.ownerDocument)!==a)&&(p==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+p&&(a.defaultValue=""+p))}var Ie=Array.isArray;function De(a,c,p,_){if(a=a.options,c){c={};for(var k=0;k<p.length;k++)c["$"+p[k]]=!0;for(p=0;p<a.length;p++)k=c.hasOwnProperty("$"+a[p].value),a[p].selected!==k&&(a[p].selected=k),k&&_&&(a[p].defaultSelected=!0)}else{for(p=""+Re(p),c=null,k=0;k<a.length;k++){if(a[k].value===p){a[k].selected=!0,_&&(a[k].defaultSelected=!0);return}c!==null||a[k].disabled||(c=a[k])}c!==null&&(c.selected=!0)}}function We(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(n(92));if(Ie(p)){if(1<p.length)throw Error(n(93));p=p[0]}c=p}c==null&&(c=""),p=c}a._wrapperState={initialValue:Re(p)}}function $e(a,c){var p=Re(c.value),_=Re(c.defaultValue);p!=null&&(p=""+p,p!==a.value&&(a.value=p),c.defaultValue==null&&a.defaultValue!==p&&(a.defaultValue=p)),_!=null&&(a.defaultValue=""+_)}function ut(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ut(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ut(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var fn,er=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,_,k){MSApp.execUnsafeLocalFunction(function(){return a(c,p,_,k)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=fn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function qn(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vi=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(a){vi.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Rr[c]=Rr[a]})});function hr(a,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Rr.hasOwnProperty(a)&&Rr[a]?(""+c).trim():c+"px"}function Ht(a,c){a=a.style;for(var p in c)if(c.hasOwnProperty(p)){var _=p.indexOf("--")===0,k=hr(p,c[p],_);p==="float"&&(p="cssFloat"),_?a.setProperty(p,k):a[p]=k}}var Oi=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qi(a,c){if(c){if(Oi[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ri(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=null;function ia(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yl=null,Es=null,V=null;function lu(a){if(a=Rf(a)){if(typeof Yl!="function")throw Error(n(280));var c=a.stateNode;c&&(c=pm(c),Yl(a.stateNode,a.type,c))}}function sn(a){Es?V?V.push(a):V=[a]:Es=a}function cu(){if(Es){var a=Es,c=V;if(V=Es=null,lu(a),c)for(a=0;a<c.length;a++)lu(c[a])}}function uu(a,c){return a(c)}function du(){}var Xl=!1;function sa(a,c,p){if(Xl)return a(c,p);Xl=!0;try{return uu(a,c,p)}finally{Xl=!1,(Es!==null||V!==null)&&(du(),cu())}}function Ai(a,c){var p=a.stateNode;if(p===null)return null;var _=pm(p);if(_===null)return null;p=_[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(a=a.type,_=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!_;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(n(231,c,typeof p));return p}var ec=!1;if(l)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){ec=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{ec=!1}function sf(a,c,p,_,k,A,G,ye,Se){var Ue=Array.prototype.slice.call(arguments,3);try{c.apply(p,Ue)}catch(pt){this.onError(pt)}}var aa=!1,Ns=null,Ua=!1,ks=null,of={onError:function(a){aa=!0,Ns=a}};function af(a,c,p,_,k,A,G,ye,Se){aa=!1,Ns=null,sf.apply(of,arguments)}function fu(a,c,p,_,k,A,G,ye,Se){if(af.apply(this,arguments),aa){if(aa){var Ue=Ns;aa=!1,Ns=null}else throw Error(n(198));Ua||(Ua=!0,ks=Ue)}}function Is(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,c.flags&4098&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function hu(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function pu(a){if(Is(a)!==a)throw Error(n(188))}function lf(a){var c=a.alternate;if(!c){if(c=Is(a),c===null)throw Error(n(188));return c!==a?null:a}for(var p=a,_=c;;){var k=p.return;if(k===null)break;var A=k.alternate;if(A===null){if(_=k.return,_!==null){p=_;continue}break}if(k.child===A.child){for(A=k.child;A;){if(A===p)return pu(k),a;if(A===_)return pu(k),c;A=A.sibling}throw Error(n(188))}if(p.return!==_.return)p=k,_=A;else{for(var G=!1,ye=k.child;ye;){if(ye===p){G=!0,p=k,_=A;break}if(ye===_){G=!0,_=k,p=A;break}ye=ye.sibling}if(!G){for(ye=A.child;ye;){if(ye===p){G=!0,p=A,_=k;break}if(ye===_){G=!0,_=A,p=k;break}ye=ye.sibling}if(!G)throw Error(n(189))}}if(p.alternate!==_)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?a:c}function mu(a){return a=lf(a),a!==null?gu(a):null}function gu(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=gu(a);if(c!==null)return c;a=a.sibling}return null}var yu=e.unstable_scheduleCallback,tc=e.unstable_cancelCallback,vu=e.unstable_shouldYield,cf=e.unstable_requestPaint,tr=e.unstable_now,uf=e.unstable_getCurrentPriorityLevel,nc=e.unstable_ImmediatePriority,bu=e.unstable_UserBlockingPriority,Va=e.unstable_NormalPriority,df=e.unstable_LowPriority,rc=e.unstable_IdlePriority,Ha=null,ji=null;function ff(a){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Ha,a,void 0,(a.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:mf,hf=Math.log,pf=Math.LN2;function mf(a){return a>>>=0,a===0?32:31-(hf(a)/pf|0)|0}var jo=64,Qa=4194304;function bi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return a&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return a}}function Ka(a,c){var p=a.pendingLanes;if(p===0)return 0;var _=0,k=a.suspendedLanes,A=a.pingedLanes,G=p&0xfffffff;if(G!==0){var ye=G&~k;ye!==0?_=bi(ye):(A&=G,A!==0&&(_=bi(A)))}else G=p&~k,G!==0?_=bi(G):A!==0&&(_=bi(A));if(_===0)return 0;if(c!==0&&c!==_&&!(c&k)&&(k=_&-_,A=c&-c,k>=A||k===16&&(A&4194240)!==0))return c;if(_&4&&(_|=p&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=_;0<c;)p=31-si(c),k=1<<p,_|=a[p],c&=~k;return _}function Eb(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function Nb(a,c){for(var p=a.suspendedLanes,_=a.pingedLanes,k=a.expirationTimes,A=a.pendingLanes;0<A;){var G=31-si(A),ye=1<<G,Se=k[G];Se===-1?(!(ye&p)||ye&_)&&(k[G]=Eb(ye,c)):Se<=c&&(a.expiredLanes|=ye),A&=~ye}}function gf(a){return a=a.pendingLanes&-0x40000001,a!==0?a:a&0x40000000?0x40000000:0}function im(){var a=jo;return jo<<=1,!(jo&4194240)&&(jo=64),a}function yf(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function ic(a,c,p){a.pendingLanes|=c,c!==0x20000000&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-si(c),a[c]=p}function kb(a,c){var p=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var _=a.eventTimes;for(a=a.expirationTimes;0<p;){var k=31-si(p),A=1<<k;c[k]=0,_[k]=-1,a[k]=-1,p&=~A}}function vf(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var _=31-si(p),k=1<<_;k&c|a[_]&c&&(a[_]|=c),p&=~k}}var Rn=0;function sm(a){return a&=-a,1<a?4<a?a&0xfffffff?16:0x20000000:4:1}var bf,pe,xf,sc,_f,g=!1,y=[],S=null,N=null,C=null,M=new Map,de=new Map,me=[],He="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ye(a,c){switch(a){case"focusin":case"focusout":S=null;break;case"dragenter":case"dragleave":N=null;break;case"mouseover":case"mouseout":C=null;break;case"pointerover":case"pointerout":M.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":de.delete(c.pointerId)}}function lt(a,c,p,_,k,A){return a===null||a.nativeEvent!==A?(a={blockedOn:c,domEventName:p,eventSystemFlags:_,nativeEvent:A,targetContainers:[k]},c!==null&&(c=Rf(c),c!==null&&pe(c)),a):(a.eventSystemFlags|=_,c=a.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),a)}function mt(a,c,p,_,k){switch(c){case"focusin":return S=lt(S,a,c,p,_,k),!0;case"dragenter":return N=lt(N,a,c,p,_,k),!0;case"mouseover":return C=lt(C,a,c,p,_,k),!0;case"pointerover":var A=k.pointerId;return M.set(A,lt(M.get(A)||null,a,c,p,_,k)),!0;case"gotpointercapture":return A=k.pointerId,de.set(A,lt(de.get(A)||null,a,c,p,_,k)),!0}return!1}function Be(a){var c=oc(a.target);if(c!==null){var p=Is(c);if(p!==null){if(c=p.tag,c===13){if(c=hu(p),c!==null){a.blockedOn=c,_f(a.priority,function(){xf(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qe(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=le(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(p===null){p=a.nativeEvent;var _=new p.constructor(p.type,p);Xs=_,p.target.dispatchEvent(_),Xs=null}else return c=Rf(p),c!==null&&pe(c),a.blockedOn=p,!1;c.shift()}return!0}function Je(a,c,p){qe(a)&&p.delete(c)}function xe(){g=!1,S!==null&&qe(S)&&(S=null),N!==null&&qe(N)&&(N=null),C!==null&&qe(C)&&(C=null),M.forEach(Je),de.forEach(Je)}function ke(a,c){a.blockedOn===c&&(a.blockedOn=null,g||(g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xe)))}function Te(a){function c(k){return ke(k,a)}if(0<y.length){ke(y[0],a);for(var p=1;p<y.length;p++){var _=y[p];_.blockedOn===a&&(_.blockedOn=null)}}for(S!==null&&ke(S,a),N!==null&&ke(N,a),C!==null&&ke(C,a),M.forEach(c),de.forEach(c),p=0;p<me.length;p++)_=me[p],_.blockedOn===a&&(_.blockedOn=null);for(;0<me.length&&(p=me[0],p.blockedOn===null);)Be(p),p.blockedOn===null&&me.shift()}var Ge=R.ReactCurrentBatchConfig,Ke=!0;function Oe(a,c,p,_){var k=Rn,A=Ge.transition;Ge.transition=null;try{Rn=1,wt(a,c,p,_)}finally{Rn=k,Ge.transition=A}}function Qe(a,c,p,_){var k=Rn,A=Ge.transition;Ge.transition=null;try{Rn=4,wt(a,c,p,_)}finally{Rn=k,Ge.transition=A}}function wt(a,c,p,_){if(Ke){var k=le(a,c,p,_);if(k===null)$b(a,c,_,J,p),Ye(a,_);else if(mt(k,a,c,p,_))_.stopPropagation();else if(Ye(a,_),c&4&&-1<He.indexOf(a)){for(;k!==null;){var A=Rf(k);if(A!==null&&bf(A),A=le(a,c,p,_),A===null&&$b(a,c,_,J,p),A===k)break;k=A}k!==null&&_.stopPropagation()}else $b(a,c,_,null,p)}}var J=null;function le(a,c,p,_){if(J=null,a=ia(_),a=oc(a),a!==null)if(c=Is(a),c===null)a=null;else if(p=c.tag,p===13){if(a=hu(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return J=a,null}function Ee(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case nc:return 1;case bu:return 4;case Va:case df:return 16;case rc:return 0x20000000;default:return 16}default:return 16}}var st=null,se=null,fe=null;function H(){if(fe)return fe;var a,c=se,p=c.length,_,k="value"in st?st.value:st.textContent,A=k.length;for(a=0;a<p&&c[a]===k[a];a++);var G=p-a;for(_=1;_<=G&&c[p-_]===k[A-_];_++);return fe=k.slice(a,1<_?1-_:void 0)}function ee(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ie(){return!0}function Le(){return!1}function it(a){function c(p,_,k,A,G){this._reactName=p,this._targetInst=k,this.type=_,this.nativeEvent=A,this.target=G,this.currentTarget=null;for(var ye in a)a.hasOwnProperty(ye)&&(p=a[ye],this[ye]=p?p(A):A[ye]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ie:Le,this.isPropagationStopped=Le,this}return ae(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){},isPersistent:ie}),c}var Tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=it(Tt),Kt=ae({},Tt,{view:0,detail:0}),ct=it(Kt),we,je,at,ht=ae({},Kt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==at&&(at&&a.type==="mousemove"?(we=a.screenX-at.screenX,je=a.screenY-at.screenY):je=we=0,at=a),we)},movementY:function(a){return"movementY"in a?a.movementY:je}}),Pt=it(ht),Zt=ae({},ht,{dataTransfer:0}),Ae=it(Zt),tt=ae({},Kt,{relatedTarget:0}),dt=it(tt),Et=ae({},Tt,{animationName:0,elapsedTime:0,pseudoElement:0}),xt=it(Et),Mt=ae({},Tt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),dn=it(Mt),Ot=ae({},Tt,{data:0}),pr=it(Ot),ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nt(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=_t[a])?!!c[a]:!1}function hn(){return Nt}var $n=ae({},Kt,{key:function(a){if(a.key){var c=ze[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ee(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(a){return a.type==="keypress"?ee(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ee(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Fn=it($n),Mn=ae({},ht,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),la=it(Mn),Yr=ae({},Kt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn}),Ib=it(Yr),Cb=ae({},Tt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cs=it(Cb),Tb=ae({},ht,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),om=it(Tb),wf=[9,13,27,32],Ob=l&&"CompositionEvent"in window,Sf=null;l&&"documentMode"in document&&(Sf=document.documentMode);var hL=l&&"TextEvent"in window&&!Sf,K1=l&&(!Ob||Sf&&8<Sf&&11>=Sf),G1=" ",Z1=!1;function J1(a,c){switch(a){case"keyup":return wf.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xu=!1;function pL(a,c){switch(a){case"compositionend":return Y1(c);case"keypress":return c.which!==32?null:(Z1=!0,G1);case"textInput":return a=c.data,a===G1&&Z1?null:a;default:return null}}function mL(a,c){if(xu)return a==="compositionend"||!Ob&&J1(a,c)?(a=H(),fe=se=st=null,xu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return K1&&c.locale!=="ko"?null:c.data;default:return null}}var gL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X1(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!gL[a.type]:c==="textarea"}function eN(a,c,p,_){sn(_),c=dm(c,"onChange"),0<c.length&&(p=new $t("onChange","change",null,p,_),a.push({event:p,listeners:c}))}var Ef=null,Nf=null;function yL(a){vN(a,0)}function am(a){var c=Nu(a);if(Ve(c))return a}function vL(a,c){if(a==="change")return c}var tN=!1;if(l){var qb;if(l){var Rb="oninput"in document;if(!Rb){var nN=document.createElement("div");nN.setAttribute("oninput","return;"),Rb=typeof nN.oninput=="function"}qb=Rb}else qb=!1;tN=qb&&(!document.documentMode||9<document.documentMode)}function rN(){Ef&&(Ef.detachEvent("onpropertychange",iN),Nf=Ef=null)}function iN(a){if(a.propertyName==="value"&&am(Nf)){var c=[];eN(c,Nf,a,ia(a)),sa(yL,c)}}function bL(a,c,p){a==="focusin"?(rN(),Ef=c,Nf=p,Ef.attachEvent("onpropertychange",iN)):a==="focusout"&&rN()}function xL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return am(Nf)}function _L(a,c){if(a==="click")return am(c)}function wL(a,c){if(a==="input"||a==="change")return am(c)}function SL(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var eo=typeof Object.is=="function"?Object.is:SL;function kf(a,c){if(eo(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),_=Object.keys(c);if(p.length!==_.length)return!1;for(_=0;_<p.length;_++){var k=p[_];if(!u.call(c,k)||!eo(a[k],c[k]))return!1}return!0}function sN(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function oN(a,c){var p=sN(a);a=0;for(var _;p;){if(p.nodeType===3){if(_=a+p.textContent.length,a<=c&&_>=c)return{node:p,offset:c-a};a=_}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=sN(p)}}function aN(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?aN(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function lN(){for(var a=window,c=ot();c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=ot(a.document)}return c}function Ab(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function EL(a){var c=lN(),p=a.focusedElem,_=a.selectionRange;if(c!==p&&p&&p.ownerDocument&&aN(p.ownerDocument.documentElement,p)){if(_!==null&&Ab(p)){if(c=_.start,a=_.end,a===void 0&&(a=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(a,p.value.length);else if(a=(c=p.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var k=p.textContent.length,A=Math.min(_.start,k);_=_.end===void 0?A:Math.min(_.end,k),!a.extend&&A>_&&(k=_,_=A,A=k),k=oN(p,A);var G=oN(p,_);k&&G&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==G.node||a.focusOffset!==G.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),a.removeAllRanges(),A>_?(a.addRange(c),a.extend(G.node,G.offset)):(c.setEnd(G.node,G.offset),a.addRange(c)))}}for(c=[],a=p;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)a=c[p],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var NL=l&&"documentMode"in document&&11>=document.documentMode,_u=null,jb=null,If=null,Pb=!1;function cN(a,c,p){var _=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Pb||_u==null||_u!==ot(_)||(_=_u,"selectionStart"in _&&Ab(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),If&&kf(If,_)||(If=_,_=dm(jb,"onSelect"),0<_.length&&(c=new $t("onSelect","select",null,c,p),a.push({event:c,listeners:_}),c.target=_u)))}function lm(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var wu={animationend:lm("Animation","AnimationEnd"),animationiteration:lm("Animation","AnimationIteration"),animationstart:lm("Animation","AnimationStart"),transitionend:lm("Transition","TransitionEnd")},Fb={},uN={};l&&(uN=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function cm(a){if(Fb[a])return Fb[a];if(!wu[a])return a;var c=wu[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in uN)return Fb[a]=c[p];return a}var dN=cm("animationend"),fN=cm("animationiteration"),hN=cm("animationstart"),pN=cm("transitionend"),mN=new Map,gN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(a,c){mN.set(a,c),s(c,[a])}for(var Db=0;Db<gN.length;Db++){var Lb=gN[Db],kL=Lb.toLowerCase(),IL=Lb[0].toUpperCase()+Lb.slice(1);Ga(kL,"on"+IL)}Ga(dN,"onAnimationEnd"),Ga(fN,"onAnimationIteration"),Ga(hN,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(pN,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cf));function yN(a,c,p){var _=a.type||"unknown-event";a.currentTarget=p,fu(_,c,void 0,a),a.currentTarget=null}function vN(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var _=a[p],k=_.event;_=_.listeners;e:{var A=void 0;if(c)for(var G=_.length-1;0<=G;G--){var ye=_[G],Se=ye.instance,Ue=ye.currentTarget;if(ye=ye.listener,Se!==A&&k.isPropagationStopped())break e;yN(k,ye,Ue),A=Se}else for(G=0;G<_.length;G++){if(ye=_[G],Se=ye.instance,Ue=ye.currentTarget,ye=ye.listener,Se!==A&&k.isPropagationStopped())break e;yN(k,ye,Ue),A=Se}}}if(Ua)throw a=ks,Ua=!1,ks=null,a}function nr(a,c){var p=c[Hb];p===void 0&&(p=c[Hb]=new Set);var _=a+"__bubble";p.has(_)||(bN(c,a,2,!1),p.add(_))}function Mb(a,c,p){var _=0;c&&(_|=4),bN(p,a,_,c)}var um="_reactListening"+Math.random().toString(36).slice(2);function Tf(a){if(!a[um]){a[um]=!0,r.forEach(function(p){p!=="selectionchange"&&(CL.has(p)||Mb(p,!1,a),Mb(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[um]||(c[um]=!0,Mb("selectionchange",!1,c))}}function bN(a,c,p,_){switch(Ee(c)){case 1:var k=Oe;break;case 4:k=Qe;break;default:k=wt}p=k.bind(null,c,p,a),k=void 0,!ec||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),_?k!==void 0?a.addEventListener(c,p,{capture:!0,passive:k}):a.addEventListener(c,p,!0):k!==void 0?a.addEventListener(c,p,{passive:k}):a.addEventListener(c,p,!1)}function $b(a,c,p,_,k){var A=_;if(!(c&1)&&!(c&2)&&_!==null)e:for(;;){if(_===null)return;var G=_.tag;if(G===3||G===4){var ye=_.stateNode.containerInfo;if(ye===k||ye.nodeType===8&&ye.parentNode===k)break;if(G===4)for(G=_.return;G!==null;){var Se=G.tag;if((Se===3||Se===4)&&(Se=G.stateNode.containerInfo,Se===k||Se.nodeType===8&&Se.parentNode===k))return;G=G.return}for(;ye!==null;){if(G=oc(ye),G===null)return;if(Se=G.tag,Se===5||Se===6){_=A=G;continue e}ye=ye.parentNode}}_=_.return}sa(function(){var Ue=A,pt=ia(p),gt=[];e:{var ft=mN.get(a);if(ft!==void 0){var qt=$t,Lt=a;switch(a){case"keypress":if(ee(p)===0)break e;case"keydown":case"keyup":qt=Fn;break;case"focusin":Lt="focus",qt=dt;break;case"focusout":Lt="blur",qt=dt;break;case"beforeblur":case"afterblur":qt=dt;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=Pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=Ae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=Ib;break;case dN:case fN:case hN:qt=xt;break;case pN:qt=Cs;break;case"scroll":qt=ct;break;case"wheel":qt=om;break;case"copy":case"cut":case"paste":qt=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=la}var Bt=(c&4)!==0,Er=!Bt&&a==="scroll",Fe=Bt?ft!==null?ft+"Capture":null:ft;Bt=[];for(var Ce=Ue,Me;Ce!==null;){Me=Ce;var bt=Me.stateNode;if(Me.tag===5&&bt!==null&&(Me=bt,Fe!==null&&(bt=Ai(Ce,Fe),bt!=null&&Bt.push(Of(Ce,bt,Me)))),Er)break;Ce=Ce.return}0<Bt.length&&(ft=new qt(ft,Lt,null,p,pt),gt.push({event:ft,listeners:Bt}))}}if(!(c&7)){e:{if(ft=a==="mouseover"||a==="pointerover",qt=a==="mouseout"||a==="pointerout",ft&&p!==Xs&&(Lt=p.relatedTarget||p.fromElement)&&(oc(Lt)||Lt[ca]))break e;if((qt||ft)&&(ft=pt.window===pt?pt:(ft=pt.ownerDocument)?ft.defaultView||ft.parentWindow:window,qt?(Lt=p.relatedTarget||p.toElement,qt=Ue,Lt=Lt?oc(Lt):null,Lt!==null&&(Er=Is(Lt),Lt!==Er||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(qt=null,Lt=Ue),qt!==Lt)){if(Bt=Pt,bt="onMouseLeave",Fe="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(Bt=la,bt="onPointerLeave",Fe="onPointerEnter",Ce="pointer"),Er=qt==null?ft:Nu(qt),Me=Lt==null?ft:Nu(Lt),ft=new Bt(bt,Ce+"leave",qt,p,pt),ft.target=Er,ft.relatedTarget=Me,bt=null,oc(pt)===Ue&&(Bt=new Bt(Fe,Ce+"enter",Lt,p,pt),Bt.target=Me,Bt.relatedTarget=Er,bt=Bt),Er=bt,qt&&Lt)t:{for(Bt=qt,Fe=Lt,Ce=0,Me=Bt;Me;Me=Su(Me))Ce++;for(Me=0,bt=Fe;bt;bt=Su(bt))Me++;for(;0<Ce-Me;)Bt=Su(Bt),Ce--;for(;0<Me-Ce;)Fe=Su(Fe),Me--;for(;Ce--;){if(Bt===Fe||Fe!==null&&Bt===Fe.alternate)break t;Bt=Su(Bt),Fe=Su(Fe)}Bt=null}else Bt=null;qt!==null&&xN(gt,ft,qt,Bt,!1),Lt!==null&&Er!==null&&xN(gt,Er,Lt,Bt,!0)}}e:{if(ft=Ue?Nu(Ue):window,qt=ft.nodeName&&ft.nodeName.toLowerCase(),qt==="select"||qt==="input"&&ft.type==="file")var zt=vL;else if(X1(ft))if(tN)zt=wL;else{zt=xL;var Jt=bL}else(qt=ft.nodeName)&&qt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(zt=_L);if(zt&&(zt=zt(a,Ue))){eN(gt,zt,p,pt);break e}Jt&&Jt(a,ft,Ue),a==="focusout"&&(Jt=ft._wrapperState)&&Jt.controlled&&ft.type==="number"&&be(ft,"number",ft.value)}switch(Jt=Ue?Nu(Ue):window,a){case"focusin":(X1(Jt)||Jt.contentEditable==="true")&&(_u=Jt,jb=Ue,If=null);break;case"focusout":If=jb=_u=null;break;case"mousedown":Pb=!0;break;case"contextmenu":case"mouseup":case"dragend":Pb=!1,cN(gt,p,pt);break;case"selectionchange":if(NL)break;case"keydown":case"keyup":cN(gt,p,pt)}var Yt;if(Ob)e:{switch(a){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else xu?J1(a,p)&&(rn="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(rn="onCompositionStart");rn&&(K1&&p.locale!=="ko"&&(xu||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&xu&&(Yt=H()):(st=pt,se="value"in st?st.value:st.textContent,xu=!0)),Jt=dm(Ue,rn),0<Jt.length&&(rn=new pr(rn,a,null,p,pt),gt.push({event:rn,listeners:Jt}),Yt?rn.data=Yt:(Yt=Y1(p),Yt!==null&&(rn.data=Yt)))),(Yt=hL?pL(a,p):mL(a,p))&&(Ue=dm(Ue,"onBeforeInput"),0<Ue.length&&(pt=new pr("onBeforeInput","beforeinput",null,p,pt),gt.push({event:pt,listeners:Ue}),pt.data=Yt))}vN(gt,c)})}function Of(a,c,p){return{instance:a,listener:c,currentTarget:p}}function dm(a,c){for(var p=c+"Capture",_=[];a!==null;){var k=a,A=k.stateNode;k.tag===5&&A!==null&&(k=A,A=Ai(a,p),A!=null&&_.unshift(Of(a,A,k)),A=Ai(a,c),A!=null&&_.push(Of(a,A,k))),a=a.return}return _}function Su(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function xN(a,c,p,_,k){for(var A=c._reactName,G=[];p!==null&&p!==_;){var ye=p,Se=ye.alternate,Ue=ye.stateNode;if(Se!==null&&Se===_)break;ye.tag===5&&Ue!==null&&(ye=Ue,k?(Se=Ai(p,A),Se!=null&&G.unshift(Of(p,Se,ye))):k||(Se=Ai(p,A),Se!=null&&G.push(Of(p,Se,ye)))),p=p.return}G.length!==0&&a.push({event:c,listeners:G})}var TL=/\r\n?/g,OL=/\u0000|\uFFFD/g;function _N(a){return(typeof a=="string"?a:""+a).replace(TL,`
`).replace(OL,"")}function fm(a,c,p){if(c=_N(c),_N(a)!==c&&p)throw Error(n(425))}function hm(){}var Bb=null,zb=null;function Wb(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ub=typeof setTimeout=="function"?setTimeout:void 0,qL=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,RL=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(a){return wN.resolve(null).then(a).catch(AL)}:Ub;function AL(a){setTimeout(function(){throw a})}function Vb(a,c){var p=c,_=0;do{var k=p.nextSibling;if(a.removeChild(p),k&&k.nodeType===8)if(p=k.data,p==="/$"){if(_===0){a.removeChild(k),Te(c);return}_--}else p!=="$"&&p!=="$?"&&p!=="$!"||_++;p=k}while(p);Te(c)}function Za(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function SN(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return a;c--}else p==="/$"&&c++}a=a.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),Po="__reactFiber$"+Eu,qf="__reactProps$"+Eu,ca="__reactContainer$"+Eu,Hb="__reactEvents$"+Eu,jL="__reactListeners$"+Eu,PL="__reactHandles$"+Eu;function oc(a){var c=a[Po];if(c)return c;for(var p=a.parentNode;p;){if(c=p[ca]||p[Po]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=SN(a);a!==null;){if(p=a[Po])return p;a=SN(a)}return c}a=p,p=a.parentNode}return null}function Rf(a){return a=a[Po]||a[ca],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Nu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function pm(a){return a[qf]||null}var Qb=[],ku=-1;function Ja(a){return{current:a}}function rr(a){0>ku||(a.current=Qb[ku],Qb[ku]=null,ku--)}function Kn(a,c){ku++,Qb[ku]=a.current,a.current=c}var Ya={},oi=Ja(Ya),Pi=Ja(!1),ac=Ya;function Iu(a,c){var p=a.type.contextTypes;if(!p)return Ya;var _=a.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===c)return _.__reactInternalMemoizedMaskedChildContext;var k={},A;for(A in p)k[A]=c[A];return _&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=k),k}function Fi(a){return a=a.childContextTypes,a!=null}function mm(){rr(Pi),rr(oi)}function EN(a,c,p){if(oi.current!==Ya)throw Error(n(168));Kn(oi,c),Kn(Pi,p)}function NN(a,c,p){var _=a.stateNode;if(c=c.childContextTypes,typeof _.getChildContext!="function")return p;_=_.getChildContext();for(var k in _)if(!(k in c))throw Error(n(108,Pe(a)||"Unknown",k));return ae({},p,_)}function gm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ya,ac=oi.current,Kn(oi,a),Kn(Pi,Pi.current),!0}function kN(a,c,p){var _=a.stateNode;if(!_)throw Error(n(169));p?(a=NN(a,c,ac),_.__reactInternalMemoizedMergedChildContext=a,rr(Pi),rr(oi),Kn(oi,a)):rr(Pi),Kn(Pi,p)}var ua=null,ym=!1,Kb=!1;function IN(a){ua===null?ua=[a]:ua.push(a)}function FL(a){ym=!0,IN(a)}function Xa(){if(!Kb&&ua!==null){Kb=!0;var a=0,c=Rn;try{var p=ua;for(Rn=1;a<p.length;a++){var _=p[a];do _=_(!0);while(_!==null)}ua=null,ym=!1}catch(k){throw ua!==null&&(ua=ua.slice(a+1)),yu(nc,Xa),k}finally{Rn=c,Kb=!1}}return null}var Cu=[],Tu=0,vm=null,bm=0,Ts=[],Os=0,lc=null,da=1,fa="";function cc(a,c){Cu[Tu++]=bm,Cu[Tu++]=vm,vm=a,bm=c}function CN(a,c,p){Ts[Os++]=da,Ts[Os++]=fa,Ts[Os++]=lc,lc=a;var _=da;a=fa;var k=32-si(_)-1;_&=~(1<<k),p+=1;var A=32-si(c)+k;if(30<A){var G=k-k%5;A=(_&(1<<G)-1).toString(32),_>>=G,k-=G,da=1<<32-si(c)+k|p<<k|_,fa=A+a}else da=1<<A|p<<k|_,fa=a}function Gb(a){a.return!==null&&(cc(a,1),CN(a,1,0))}function Zb(a){for(;a===vm;)vm=Cu[--Tu],Cu[Tu]=null,bm=Cu[--Tu],Cu[Tu]=null;for(;a===lc;)lc=Ts[--Os],Ts[Os]=null,fa=Ts[--Os],Ts[Os]=null,da=Ts[--Os],Ts[Os]=null}var Yi=null,Xi=null,or=!1,to=null;function TN(a,c){var p=js(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=a,c=a.deletions,c===null?(a.deletions=[p],a.flags|=16):c.push(p)}function ON(a,c){switch(a.tag){case 5:var p=a.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Yi=a,Xi=Za(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Yi=a,Xi=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=lc!==null?{id:da,overflow:fa}:null,a.memoizedState={dehydrated:c,treeContext:p,retryLane:0x40000000},p=js(18,null,null,0),p.stateNode=c,p.return=a,a.child=p,Yi=a,Xi=null,!0):!1;default:return!1}}function Jb(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Yb(a){if(or){var c=Xi;if(c){var p=c;if(!ON(a,c)){if(Jb(a))throw Error(n(418));c=Za(p.nextSibling);var _=Yi;c&&ON(a,c)?TN(_,p):(a.flags=a.flags&-4097|2,or=!1,Yi=a)}}else{if(Jb(a))throw Error(n(418));a.flags=a.flags&-4097|2,or=!1,Yi=a}}}function qN(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Yi=a}function xm(a){if(a!==Yi)return!1;if(!or)return qN(a),or=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Wb(a.type,a.memoizedProps)),c&&(c=Xi)){if(Jb(a))throw RN(),Error(n(418));for(;c;)TN(a,c),c=Za(c.nextSibling)}if(qN(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"){if(c===0){Xi=Za(a.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}a=a.nextSibling}Xi=null}}else Xi=Yi?Za(a.stateNode.nextSibling):null;return!0}function RN(){for(var a=Xi;a;)a=Za(a.nextSibling)}function Ou(){Xi=Yi=null,or=!1}function Xb(a){to===null?to=[a]:to.push(a)}var DL=R.ReactCurrentBatchConfig;function Af(a,c,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var _=p.stateNode}if(!_)throw Error(n(147,a));var k=_,A=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(G){var ye=k.refs;G===null?delete ye[A]:ye[A]=G},c._stringRef=A,c)}if(typeof a!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,a))}return a}function _m(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function AN(a){var c=a._init;return c(a._payload)}function jN(a){function c(Fe,Ce){if(a){var Me=Fe.deletions;Me===null?(Fe.deletions=[Ce],Fe.flags|=16):Me.push(Ce)}}function p(Fe,Ce){if(!a)return null;for(;Ce!==null;)c(Fe,Ce),Ce=Ce.sibling;return null}function _(Fe,Ce){for(Fe=new Map;Ce!==null;)Ce.key!==null?Fe.set(Ce.key,Ce):Fe.set(Ce.index,Ce),Ce=Ce.sibling;return Fe}function k(Fe,Ce){return Fe=al(Fe,Ce),Fe.index=0,Fe.sibling=null,Fe}function A(Fe,Ce,Me){return Fe.index=Me,a?(Me=Fe.alternate,Me!==null?(Me=Me.index,Me<Ce?(Fe.flags|=2,Ce):Me):(Fe.flags|=2,Ce)):(Fe.flags|=1048576,Ce)}function G(Fe){return a&&Fe.alternate===null&&(Fe.flags|=2),Fe}function ye(Fe,Ce,Me,bt){return Ce===null||Ce.tag!==6?(Ce=Ux(Me,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,Me),Ce.return=Fe,Ce)}function Se(Fe,Ce,Me,bt){var zt=Me.type;return zt===B?pt(Fe,Ce,Me.props.children,bt,Me.key):Ce!==null&&(Ce.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===X&&AN(zt)===Ce.type)?(bt=k(Ce,Me.props),bt.ref=Af(Fe,Ce,Me),bt.return=Fe,bt):(bt=Vm(Me.type,Me.key,Me.props,null,Fe.mode,bt),bt.ref=Af(Fe,Ce,Me),bt.return=Fe,bt)}function Ue(Fe,Ce,Me,bt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Me.containerInfo||Ce.stateNode.implementation!==Me.implementation?(Ce=Vx(Me,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,Me.children||[]),Ce.return=Fe,Ce)}function pt(Fe,Ce,Me,bt,zt){return Ce===null||Ce.tag!==7?(Ce=yc(Me,Fe.mode,bt,zt),Ce.return=Fe,Ce):(Ce=k(Ce,Me),Ce.return=Fe,Ce)}function gt(Fe,Ce,Me){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=Ux(""+Ce,Fe.mode,Me),Ce.return=Fe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return Me=Vm(Ce.type,Ce.key,Ce.props,null,Fe.mode,Me),Me.ref=Af(Fe,null,Ce),Me.return=Fe,Me;case F:return Ce=Vx(Ce,Fe.mode,Me),Ce.return=Fe,Ce;case X:var bt=Ce._init;return gt(Fe,bt(Ce._payload),Me)}if(Ie(Ce)||ne(Ce))return Ce=yc(Ce,Fe.mode,Me,null),Ce.return=Fe,Ce;_m(Fe,Ce)}return null}function ft(Fe,Ce,Me,bt){var zt=Ce!==null?Ce.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return zt!==null?null:ye(Fe,Ce,""+Me,bt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case D:return Me.key===zt?Se(Fe,Ce,Me,bt):null;case F:return Me.key===zt?Ue(Fe,Ce,Me,bt):null;case X:return zt=Me._init,ft(Fe,Ce,zt(Me._payload),bt)}if(Ie(Me)||ne(Me))return zt!==null?null:pt(Fe,Ce,Me,bt,null);_m(Fe,Me)}return null}function qt(Fe,Ce,Me,bt,zt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Fe=Fe.get(Me)||null,ye(Ce,Fe,""+bt,zt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case D:return Fe=Fe.get(bt.key===null?Me:bt.key)||null,Se(Ce,Fe,bt,zt);case F:return Fe=Fe.get(bt.key===null?Me:bt.key)||null,Ue(Ce,Fe,bt,zt);case X:var Jt=bt._init;return qt(Fe,Ce,Me,Jt(bt._payload),zt)}if(Ie(bt)||ne(bt))return Fe=Fe.get(Me)||null,pt(Ce,Fe,bt,zt,null);_m(Ce,bt)}return null}function Lt(Fe,Ce,Me,bt){for(var zt=null,Jt=null,Yt=Ce,rn=Ce=0,Gr=null;Yt!==null&&rn<Me.length;rn++){Yt.index>rn?(Gr=Yt,Yt=null):Gr=Yt.sibling;var Tn=ft(Fe,Yt,Me[rn],bt);if(Tn===null){Yt===null&&(Yt=Gr);break}a&&Yt&&Tn.alternate===null&&c(Fe,Yt),Ce=A(Tn,Ce,rn),Jt===null?zt=Tn:Jt.sibling=Tn,Jt=Tn,Yt=Gr}if(rn===Me.length)return p(Fe,Yt),or&&cc(Fe,rn),zt;if(Yt===null){for(;rn<Me.length;rn++)Yt=gt(Fe,Me[rn],bt),Yt!==null&&(Ce=A(Yt,Ce,rn),Jt===null?zt=Yt:Jt.sibling=Yt,Jt=Yt);return or&&cc(Fe,rn),zt}for(Yt=_(Fe,Yt);rn<Me.length;rn++)Gr=qt(Yt,Fe,rn,Me[rn],bt),Gr!==null&&(a&&Gr.alternate!==null&&Yt.delete(Gr.key===null?rn:Gr.key),Ce=A(Gr,Ce,rn),Jt===null?zt=Gr:Jt.sibling=Gr,Jt=Gr);return a&&Yt.forEach(function(ll){return c(Fe,ll)}),or&&cc(Fe,rn),zt}function Bt(Fe,Ce,Me,bt){var zt=ne(Me);if(typeof zt!="function")throw Error(n(150));if(Me=zt.call(Me),Me==null)throw Error(n(151));for(var Jt=zt=null,Yt=Ce,rn=Ce=0,Gr=null,Tn=Me.next();Yt!==null&&!Tn.done;rn++,Tn=Me.next()){Yt.index>rn?(Gr=Yt,Yt=null):Gr=Yt.sibling;var ll=ft(Fe,Yt,Tn.value,bt);if(ll===null){Yt===null&&(Yt=Gr);break}a&&Yt&&ll.alternate===null&&c(Fe,Yt),Ce=A(ll,Ce,rn),Jt===null?zt=ll:Jt.sibling=ll,Jt=ll,Yt=Gr}if(Tn.done)return p(Fe,Yt),or&&cc(Fe,rn),zt;if(Yt===null){for(;!Tn.done;rn++,Tn=Me.next())Tn=gt(Fe,Tn.value,bt),Tn!==null&&(Ce=A(Tn,Ce,rn),Jt===null?zt=Tn:Jt.sibling=Tn,Jt=Tn);return or&&cc(Fe,rn),zt}for(Yt=_(Fe,Yt);!Tn.done;rn++,Tn=Me.next())Tn=qt(Yt,Fe,rn,Tn.value,bt),Tn!==null&&(a&&Tn.alternate!==null&&Yt.delete(Tn.key===null?rn:Tn.key),Ce=A(Tn,Ce,rn),Jt===null?zt=Tn:Jt.sibling=Tn,Jt=Tn);return a&&Yt.forEach(function(gM){return c(Fe,gM)}),or&&cc(Fe,rn),zt}function Er(Fe,Ce,Me,bt){if(typeof Me=="object"&&Me!==null&&Me.type===B&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case D:e:{for(var zt=Me.key,Jt=Ce;Jt!==null;){if(Jt.key===zt){if(zt=Me.type,zt===B){if(Jt.tag===7){p(Fe,Jt.sibling),Ce=k(Jt,Me.props.children),Ce.return=Fe,Fe=Ce;break e}}else if(Jt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===X&&AN(zt)===Jt.type){p(Fe,Jt.sibling),Ce=k(Jt,Me.props),Ce.ref=Af(Fe,Jt,Me),Ce.return=Fe,Fe=Ce;break e}p(Fe,Jt);break}else c(Fe,Jt);Jt=Jt.sibling}Me.type===B?(Ce=yc(Me.props.children,Fe.mode,bt,Me.key),Ce.return=Fe,Fe=Ce):(bt=Vm(Me.type,Me.key,Me.props,null,Fe.mode,bt),bt.ref=Af(Fe,Ce,Me),bt.return=Fe,Fe=bt)}return G(Fe);case F:e:{for(Jt=Me.key;Ce!==null;){if(Ce.key===Jt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Me.containerInfo&&Ce.stateNode.implementation===Me.implementation){p(Fe,Ce.sibling),Ce=k(Ce,Me.children||[]),Ce.return=Fe,Fe=Ce;break e}else{p(Fe,Ce);break}else c(Fe,Ce);Ce=Ce.sibling}Ce=Vx(Me,Fe.mode,bt),Ce.return=Fe,Fe=Ce}return G(Fe);case X:return Jt=Me._init,Er(Fe,Ce,Jt(Me._payload),bt)}if(Ie(Me))return Lt(Fe,Ce,Me,bt);if(ne(Me))return Bt(Fe,Ce,Me,bt);_m(Fe,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,Ce!==null&&Ce.tag===6?(p(Fe,Ce.sibling),Ce=k(Ce,Me),Ce.return=Fe,Fe=Ce):(p(Fe,Ce),Ce=Ux(Me,Fe.mode,bt),Ce.return=Fe,Fe=Ce),G(Fe)):p(Fe,Ce)}return Er}var qu=jN(!0),PN=jN(!1),wm=Ja(null),Sm=null,Ru=null,ex=null;function tx(){ex=Ru=Sm=null}function nx(a){var c=wm.current;rr(wm),a._currentValue=c}function rx(a,c,p){for(;a!==null;){var _=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,_!==null&&(_.childLanes|=c)):_!==null&&(_.childLanes&c)!==c&&(_.childLanes|=c),a===p)break;a=a.return}}function Au(a,c){Sm=a,ex=Ru=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&c&&(Di=!0),a.firstContext=null)}function qs(a){var c=a._currentValue;if(ex!==a)if(a={context:a,memoizedValue:c,next:null},Ru===null){if(Sm===null)throw Error(n(308));Ru=a,Sm.dependencies={lanes:0,firstContext:a}}else Ru=Ru.next=a;return c}var uc=null;function ix(a){uc===null?uc=[a]:uc.push(a)}function FN(a,c,p,_){var k=c.interleaved;return k===null?(p.next=p,ix(c)):(p.next=k.next,k.next=p),c.interleaved=p,ha(a,_)}function ha(a,c){a.lanes|=c;var p=a.alternate;for(p!==null&&(p.lanes|=c),p=a,a=a.return;a!==null;)a.childLanes|=c,p=a.alternate,p!==null&&(p.childLanes|=c),p=a,a=a.return;return p.tag===3?p.stateNode:null}var el=!1;function sx(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DN(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function pa(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function tl(a,c,p){var _=a.updateQueue;if(_===null)return null;if(_=_.shared,kn&2){var k=_.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),_.pending=c,ha(a,p)}return k=_.interleaved,k===null?(c.next=c,ix(_)):(c.next=k.next,k.next=c),_.interleaved=c,ha(a,p)}function Em(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var _=c.lanes;_&=a.pendingLanes,p|=_,c.lanes=p,vf(a,p)}}function LN(a,c){var p=a.updateQueue,_=a.alternate;if(_!==null&&(_=_.updateQueue,p===_)){var k=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var G={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};A===null?k=A=G:A=A.next=G,p=p.next}while(p!==null);A===null?k=A=c:A=A.next=c}else k=A=c;p={baseState:_.baseState,firstBaseUpdate:k,lastBaseUpdate:A,shared:_.shared,effects:_.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}function Nm(a,c,p,_){var k=a.updateQueue;el=!1;var A=k.firstBaseUpdate,G=k.lastBaseUpdate,ye=k.shared.pending;if(ye!==null){k.shared.pending=null;var Se=ye,Ue=Se.next;Se.next=null,G===null?A=Ue:G.next=Ue,G=Se;var pt=a.alternate;pt!==null&&(pt=pt.updateQueue,ye=pt.lastBaseUpdate,ye!==G&&(ye===null?pt.firstBaseUpdate=Ue:ye.next=Ue,pt.lastBaseUpdate=Se))}if(A!==null){var gt=k.baseState;G=0,pt=Ue=Se=null,ye=A;do{var ft=ye.lane,qt=ye.eventTime;if((_&ft)===ft){pt!==null&&(pt=pt.next={eventTime:qt,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var Lt=a,Bt=ye;switch(ft=c,qt=p,Bt.tag){case 1:if(Lt=Bt.payload,typeof Lt=="function"){gt=Lt.call(qt,gt,ft);break e}gt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Bt.payload,ft=typeof Lt=="function"?Lt.call(qt,gt,ft):Lt,ft==null)break e;gt=ae({},gt,ft);break e;case 2:el=!0}}ye.callback!==null&&ye.lane!==0&&(a.flags|=64,ft=k.effects,ft===null?k.effects=[ye]:ft.push(ye))}else qt={eventTime:qt,lane:ft,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},pt===null?(Ue=pt=qt,Se=gt):pt=pt.next=qt,G|=ft;if(ye=ye.next,ye===null){if(ye=k.shared.pending,ye===null)break;ft=ye,ye=ft.next,ft.next=null,k.lastBaseUpdate=ft,k.shared.pending=null}}while(!0);if(pt===null&&(Se=gt),k.baseState=Se,k.firstBaseUpdate=Ue,k.lastBaseUpdate=pt,c=k.shared.interleaved,c!==null){k=c;do G|=k.lane,k=k.next;while(k!==c)}else A===null&&(k.shared.lanes=0);hc|=G,a.lanes=G,a.memoizedState=gt}}function MN(a,c,p){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var _=a[c],k=_.callback;if(k!==null){if(_.callback=null,_=p,typeof k!="function")throw Error(n(191,k));k.call(_)}}}var jf={},Fo=Ja(jf),Pf=Ja(jf),Ff=Ja(jf);function dc(a){if(a===jf)throw Error(n(174));return a}function ox(a,c){switch(Kn(Ff,c),Kn(Pf,a),Kn(Fo,jf),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Vt(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Vt(c,a)}rr(Fo),Kn(Fo,c)}function ju(){rr(Fo),rr(Pf),rr(Ff)}function $N(a){dc(Ff.current);var c=dc(Fo.current),p=Vt(c,a.type);c!==p&&(Kn(Pf,a),Kn(Fo,p))}function ax(a){Pf.current===a&&(rr(Fo),rr(Pf))}var mr=Ja(0);function km(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var lx=[];function cx(){for(var a=0;a<lx.length;a++)lx[a]._workInProgressVersionPrimary=null;lx.length=0}var Im=R.ReactCurrentDispatcher,ux=R.ReactCurrentBatchConfig,fc=0,gr=null,Br=null,Qr=null,Cm=!1,Df=!1,Lf=0,LL=0;function ai(){throw Error(n(321))}function dx(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!eo(a[p],c[p]))return!1;return!0}function fx(a,c,p,_,k,A){if(fc=A,gr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Im.current=a===null||a.memoizedState===null?zL:WL,a=p(_,k),Df){A=0;do{if(Df=!1,Lf=0,25<=A)throw Error(n(301));A+=1,Qr=Br=null,c.updateQueue=null,Im.current=UL,a=p(_,k)}while(Df)}if(Im.current=qm,c=Br!==null&&Br.next!==null,fc=0,Qr=Br=gr=null,Cm=!1,c)throw Error(n(300));return a}function hx(){var a=Lf!==0;return Lf=0,a}function Do(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?gr.memoizedState=Qr=a:Qr=Qr.next=a,Qr}function Rs(){if(Br===null){var a=gr.alternate;a=a!==null?a.memoizedState:null}else a=Br.next;var c=Qr===null?gr.memoizedState:Qr.next;if(c!==null)Qr=c,Br=a;else{if(a===null)throw Error(n(310));Br=a,a={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Qr===null?gr.memoizedState=Qr=a:Qr=Qr.next=a}return Qr}function Mf(a,c){return typeof c=="function"?c(a):c}function px(a){var c=Rs(),p=c.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var _=Br,k=_.baseQueue,A=p.pending;if(A!==null){if(k!==null){var G=k.next;k.next=A.next,A.next=G}_.baseQueue=k=A,p.pending=null}if(k!==null){A=k.next,_=_.baseState;var ye=G=null,Se=null,Ue=A;do{var pt=Ue.lane;if((fc&pt)===pt)Se!==null&&(Se=Se.next={lane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),_=Ue.hasEagerState?Ue.eagerState:a(_,Ue.action);else{var gt={lane:pt,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null};Se===null?(ye=Se=gt,G=_):Se=Se.next=gt,gr.lanes|=pt,hc|=pt}Ue=Ue.next}while(Ue!==null&&Ue!==A);Se===null?G=_:Se.next=ye,eo(_,c.memoizedState)||(Di=!0),c.memoizedState=_,c.baseState=G,c.baseQueue=Se,p.lastRenderedState=_}if(a=p.interleaved,a!==null){k=a;do A=k.lane,gr.lanes|=A,hc|=A,k=k.next;while(k!==a)}else k===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function mx(a){var c=Rs(),p=c.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var _=p.dispatch,k=p.pending,A=c.memoizedState;if(k!==null){p.pending=null;var G=k=k.next;do A=a(A,G.action),G=G.next;while(G!==k);eo(A,c.memoizedState)||(Di=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),p.lastRenderedState=A}return[A,_]}function BN(){}function zN(a,c){var p=gr,_=Rs(),k=c(),A=!eo(_.memoizedState,k);if(A&&(_.memoizedState=k,Di=!0),_=_.queue,gx(VN.bind(null,p,_,a),[a]),_.getSnapshot!==c||A||Qr!==null&&Qr.memoizedState.tag&1){if(p.flags|=2048,$f(9,UN.bind(null,p,_,k,c),void 0,null),Kr===null)throw Error(n(349));fc&30||WN(p,c,k)}return k}function WN(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=gr.updateQueue,c===null?(c={lastEffect:null,stores:null},gr.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function UN(a,c,p,_){c.value=p,c.getSnapshot=_,HN(c)&&QN(a)}function VN(a,c,p){return p(function(){HN(c)&&QN(a)})}function HN(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!eo(a,p)}catch{return!0}}function QN(a){var c=ha(a,1);c!==null&&so(c,a,1,-1)}function KN(a){var c=Do();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mf,lastRenderedState:a},c.queue=a,a=a.dispatch=BL.bind(null,gr,a),[c.memoizedState,a]}function $f(a,c,p,_){return a={tag:a,create:c,destroy:p,deps:_,next:null},c=gr.updateQueue,c===null?(c={lastEffect:null,stores:null},gr.updateQueue=c,c.lastEffect=a.next=a):(p=c.lastEffect,p===null?c.lastEffect=a.next=a:(_=p.next,p.next=a,a.next=_,c.lastEffect=a)),a}function GN(){return Rs().memoizedState}function Tm(a,c,p,_){var k=Do();gr.flags|=a,k.memoizedState=$f(1|c,p,void 0,_===void 0?null:_)}function Om(a,c,p,_){var k=Rs();_=_===void 0?null:_;var A=void 0;if(Br!==null){var G=Br.memoizedState;if(A=G.destroy,_!==null&&dx(_,G.deps)){k.memoizedState=$f(c,p,A,_);return}}gr.flags|=a,k.memoizedState=$f(1|c,p,A,_)}function ZN(a,c){return Tm(8390656,8,a,c)}function gx(a,c){return Om(2048,8,a,c)}function JN(a,c){return Om(4,2,a,c)}function YN(a,c){return Om(4,4,a,c)}function XN(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function ek(a,c,p){return p=p!=null?p.concat([a]):null,Om(4,4,XN.bind(null,c,a),p)}function yx(){}function tk(a,c){var p=Rs();c=c===void 0?null:c;var _=p.memoizedState;return _!==null&&c!==null&&dx(c,_[1])?_[0]:(p.memoizedState=[a,c],a)}function nk(a,c){var p=Rs();c=c===void 0?null:c;var _=p.memoizedState;return _!==null&&c!==null&&dx(c,_[1])?_[0]:(a=a(),p.memoizedState=[a,c],a)}function rk(a,c,p){return fc&21?(eo(p,c)||(p=im(),gr.lanes|=p,hc|=p,a.baseState=!0),c):(a.baseState&&(a.baseState=!1,Di=!0),a.memoizedState=p)}function ML(a,c){var p=Rn;Rn=p!==0&&4>p?p:4,a(!0);var _=ux.transition;ux.transition={};try{a(!1),c()}finally{Rn=p,ux.transition=_}}function ik(){return Rs().memoizedState}function $L(a,c,p){var _=sl(a);if(p={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null},sk(a))ok(c,p);else if(p=FN(a,c,p,_),p!==null){var k=_i();so(p,a,_,k),ak(p,c,_)}}function BL(a,c,p){var _=sl(a),k={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null};if(sk(a))ok(c,k);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var G=c.lastRenderedState,ye=A(G,p);if(k.hasEagerState=!0,k.eagerState=ye,eo(ye,G)){var Se=c.interleaved;Se===null?(k.next=k,ix(c)):(k.next=Se.next,Se.next=k),c.interleaved=k;return}}catch{}finally{}p=FN(a,c,k,_),p!==null&&(k=_i(),so(p,a,_,k),ak(p,c,_))}}function sk(a){var c=a.alternate;return a===gr||c!==null&&c===gr}function ok(a,c){Df=Cm=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function ak(a,c,p){if(p&4194240){var _=c.lanes;_&=a.pendingLanes,p|=_,c.lanes=p,vf(a,p)}}var qm={readContext:qs,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},zL={readContext:qs,useCallback:function(a,c){return Do().memoizedState=[a,c===void 0?null:c],a},useContext:qs,useEffect:ZN,useImperativeHandle:function(a,c,p){return p=p!=null?p.concat([a]):null,Tm(4194308,4,XN.bind(null,c,a),p)},useLayoutEffect:function(a,c){return Tm(4194308,4,a,c)},useInsertionEffect:function(a,c){return Tm(4,2,a,c)},useMemo:function(a,c){var p=Do();return c=c===void 0?null:c,a=a(),p.memoizedState=[a,c],a},useReducer:function(a,c,p){var _=Do();return c=p!==void 0?p(c):c,_.memoizedState=_.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},_.queue=a,a=a.dispatch=$L.bind(null,gr,a),[_.memoizedState,a]},useRef:function(a){var c=Do();return a={current:a},c.memoizedState=a},useState:KN,useDebugValue:yx,useDeferredValue:function(a){return Do().memoizedState=a},useTransition:function(){var a=KN(!1),c=a[0];return a=ML.bind(null,a[1]),Do().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,p){var _=gr,k=Do();if(or){if(p===void 0)throw Error(n(407));p=p()}else{if(p=c(),Kr===null)throw Error(n(349));fc&30||WN(_,c,p)}k.memoizedState=p;var A={value:p,getSnapshot:c};return k.queue=A,ZN(VN.bind(null,_,A,a),[a]),_.flags|=2048,$f(9,UN.bind(null,_,A,p,c),void 0,null),p},useId:function(){var a=Do(),c=Kr.identifierPrefix;if(or){var p=fa,_=da;p=(_&~(1<<32-si(_)-1)).toString(32)+p,c=":"+c+"R"+p,p=Lf++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=LL++,c=":"+c+"r"+p.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},WL={readContext:qs,useCallback:tk,useContext:qs,useEffect:gx,useImperativeHandle:ek,useInsertionEffect:JN,useLayoutEffect:YN,useMemo:nk,useReducer:px,useRef:GN,useState:function(){return px(Mf)},useDebugValue:yx,useDeferredValue:function(a){var c=Rs();return rk(c,Br.memoizedState,a)},useTransition:function(){var a=px(Mf)[0],c=Rs().memoizedState;return[a,c]},useMutableSource:BN,useSyncExternalStore:zN,useId:ik,unstable_isNewReconciler:!1},UL={readContext:qs,useCallback:tk,useContext:qs,useEffect:gx,useImperativeHandle:ek,useInsertionEffect:JN,useLayoutEffect:YN,useMemo:nk,useReducer:mx,useRef:GN,useState:function(){return mx(Mf)},useDebugValue:yx,useDeferredValue:function(a){var c=Rs();return Br===null?c.memoizedState=a:rk(c,Br.memoizedState,a)},useTransition:function(){var a=mx(Mf)[0],c=Rs().memoizedState;return[a,c]},useMutableSource:BN,useSyncExternalStore:zN,useId:ik,unstable_isNewReconciler:!1};function no(a,c){if(a&&a.defaultProps){c=ae({},c),a=a.defaultProps;for(var p in a)c[p]===void 0&&(c[p]=a[p]);return c}return c}function vx(a,c,p,_){c=a.memoizedState,p=p(_,c),p=p==null?c:ae({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Rm={isMounted:function(a){return(a=a._reactInternals)?Is(a)===a:!1},enqueueSetState:function(a,c,p){a=a._reactInternals;var _=_i(),k=sl(a),A=pa(_,k);A.payload=c,p!=null&&(A.callback=p),c=tl(a,A,k),c!==null&&(so(c,a,k,_),Em(c,a,k))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var _=_i(),k=sl(a),A=pa(_,k);A.tag=1,A.payload=c,p!=null&&(A.callback=p),c=tl(a,A,k),c!==null&&(so(c,a,k,_),Em(c,a,k))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=_i(),_=sl(a),k=pa(p,_);k.tag=2,c!=null&&(k.callback=c),c=tl(a,k,_),c!==null&&(so(c,a,_,p),Em(c,a,_))}};function lk(a,c,p,_,k,A,G){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(_,A,G):c.prototype&&c.prototype.isPureReactComponent?!kf(p,_)||!kf(k,A):!0}function ck(a,c,p){var _=!1,k=Ya,A=c.contextType;return typeof A=="object"&&A!==null?A=qs(A):(k=Fi(c)?ac:oi.current,_=c.contextTypes,A=(_=_!=null)?Iu(a,k):Ya),c=new c(p,A),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Rm,a.stateNode=c,c._reactInternals=a,_&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=A),c}function uk(a,c,p,_){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,_),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,_),c.state!==a&&Rm.enqueueReplaceState(c,c.state,null)}function bx(a,c,p,_){var k=a.stateNode;k.props=p,k.state=a.memoizedState,k.refs={},sx(a);var A=c.contextType;typeof A=="object"&&A!==null?k.context=qs(A):(A=Fi(c)?ac:oi.current,k.context=Iu(a,A)),k.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(vx(a,c,A,p),k.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&Rm.enqueueReplaceState(k,k.state,null),Nm(a,p,k,_),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function Pu(a,c){try{var p="",_=c;do p+=_e(_),_=_.return;while(_);var k=p}catch(A){k=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:c,stack:k,digest:null}}function xx(a,c,p){return{value:a,source:null,stack:p??null,digest:c??null}}function _x(a,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var VL=typeof WeakMap=="function"?WeakMap:Map;function dk(a,c,p){p=pa(-1,p),p.tag=3,p.payload={element:null};var _=c.value;return p.callback=function(){Mm||(Mm=!0,Fx=_),_x(a,c)},p}function fk(a,c,p){p=pa(-1,p),p.tag=3;var _=a.type.getDerivedStateFromError;if(typeof _=="function"){var k=c.value;p.payload=function(){return _(k)},p.callback=function(){_x(a,c)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(p.callback=function(){_x(a,c),typeof _!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var G=c.stack;this.componentDidCatch(c.value,{componentStack:G!==null?G:""})}),p}function hk(a,c,p){var _=a.pingCache;if(_===null){_=a.pingCache=new VL;var k=new Set;_.set(c,k)}else k=_.get(c),k===void 0&&(k=new Set,_.set(c,k));k.has(p)||(k.add(p),a=sM.bind(null,a,c,p),c.then(a,a))}function pk(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function mk(a,c,p,_,k){return a.mode&1?(a.flags|=65536,a.lanes=k,a):(a===c?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=pa(-1,1),c.tag=2,tl(p,c,1))),p.lanes|=1),a)}var HL=R.ReactCurrentOwner,Di=!1;function xi(a,c,p,_){c.child=a===null?PN(c,null,p,_):qu(c,a.child,p,_)}function gk(a,c,p,_,k){p=p.render;var A=c.ref;return Au(c,k),_=fx(a,c,p,_,A,k),p=hx(),a!==null&&!Di?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~k,ma(a,c,k)):(or&&p&&Gb(c),c.flags|=1,xi(a,c,_,k),c.child)}function yk(a,c,p,_,k){if(a===null){var A=p.type;return typeof A=="function"&&!Wx(A)&&A.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=A,vk(a,c,A,_,k)):(a=Vm(p.type,null,_,c,c.mode,k),a.ref=c.ref,a.return=c,c.child=a)}if(A=a.child,!(a.lanes&k)){var G=A.memoizedProps;if(p=p.compare,p=p!==null?p:kf,p(G,_)&&a.ref===c.ref)return ma(a,c,k)}return c.flags|=1,a=al(A,_),a.ref=c.ref,a.return=c,c.child=a}function vk(a,c,p,_,k){if(a!==null){var A=a.memoizedProps;if(kf(A,_)&&a.ref===c.ref)if(Di=!1,c.pendingProps=_=A,(a.lanes&k)!==0)a.flags&131072&&(Di=!0);else return c.lanes=a.lanes,ma(a,c,k)}return wx(a,c,p,_,k)}function bk(a,c,p){var _=c.pendingProps,k=_.children,A=a!==null?a.memoizedState:null;if(_.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(Du,es),es|=p;else{if(!(p&0x40000000))return a=A!==null?A.baseLanes|p:p,c.lanes=c.childLanes=0x40000000,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Kn(Du,es),es|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=A!==null?A.baseLanes:p,Kn(Du,es),es|=_}else A!==null?(_=A.baseLanes|p,c.memoizedState=null):_=p,Kn(Du,es),es|=_;return xi(a,c,k,p),c.child}function xk(a,c){var p=c.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function wx(a,c,p,_,k){var A=Fi(p)?ac:oi.current;return A=Iu(c,A),Au(c,k),p=fx(a,c,p,_,A,k),_=hx(),a!==null&&!Di?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~k,ma(a,c,k)):(or&&_&&Gb(c),c.flags|=1,xi(a,c,p,k),c.child)}function _k(a,c,p,_,k){if(Fi(p)){var A=!0;gm(c)}else A=!1;if(Au(c,k),c.stateNode===null)jm(a,c),ck(c,p,_),bx(c,p,_,k),_=!0;else if(a===null){var G=c.stateNode,ye=c.memoizedProps;G.props=ye;var Se=G.context,Ue=p.contextType;typeof Ue=="object"&&Ue!==null?Ue=qs(Ue):(Ue=Fi(p)?ac:oi.current,Ue=Iu(c,Ue));var pt=p.getDerivedStateFromProps,gt=typeof pt=="function"||typeof G.getSnapshotBeforeUpdate=="function";gt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ye!==_||Se!==Ue)&&uk(c,G,_,Ue),el=!1;var ft=c.memoizedState;G.state=ft,Nm(c,_,G,k),Se=c.memoizedState,ye!==_||ft!==Se||Pi.current||el?(typeof pt=="function"&&(vx(c,p,pt,_),Se=c.memoizedState),(ye=el||lk(c,p,ye,_,ft,Se,Ue))?(gt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(c.flags|=4194308)):(typeof G.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=_,c.memoizedState=Se),G.props=_,G.state=Se,G.context=Ue,_=ye):(typeof G.componentDidMount=="function"&&(c.flags|=4194308),_=!1)}else{G=c.stateNode,DN(a,c),ye=c.memoizedProps,Ue=c.type===c.elementType?ye:no(c.type,ye),G.props=Ue,gt=c.pendingProps,ft=G.context,Se=p.contextType,typeof Se=="object"&&Se!==null?Se=qs(Se):(Se=Fi(p)?ac:oi.current,Se=Iu(c,Se));var qt=p.getDerivedStateFromProps;(pt=typeof qt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ye!==gt||ft!==Se)&&uk(c,G,_,Se),el=!1,ft=c.memoizedState,G.state=ft,Nm(c,_,G,k);var Lt=c.memoizedState;ye!==gt||ft!==Lt||Pi.current||el?(typeof qt=="function"&&(vx(c,p,qt,_),Lt=c.memoizedState),(Ue=el||lk(c,p,Ue,_,ft,Lt,Se)||!1)?(pt||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(_,Lt,Se),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(_,Lt,Se)),typeof G.componentDidUpdate=="function"&&(c.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof G.componentDidUpdate!="function"||ye===a.memoizedProps&&ft===a.memoizedState||(c.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ye===a.memoizedProps&&ft===a.memoizedState||(c.flags|=1024),c.memoizedProps=_,c.memoizedState=Lt),G.props=_,G.state=Lt,G.context=Se,_=Ue):(typeof G.componentDidUpdate!="function"||ye===a.memoizedProps&&ft===a.memoizedState||(c.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ye===a.memoizedProps&&ft===a.memoizedState||(c.flags|=1024),_=!1)}return Sx(a,c,p,_,A,k)}function Sx(a,c,p,_,k,A){xk(a,c);var G=(c.flags&128)!==0;if(!_&&!G)return k&&kN(c,p,!1),ma(a,c,A);_=c.stateNode,HL.current=c;var ye=G&&typeof p.getDerivedStateFromError!="function"?null:_.render();return c.flags|=1,a!==null&&G?(c.child=qu(c,a.child,null,A),c.child=qu(c,null,ye,A)):xi(a,c,ye,A),c.memoizedState=_.state,k&&kN(c,p,!0),c.child}function wk(a){var c=a.stateNode;c.pendingContext?EN(a,c.pendingContext,c.pendingContext!==c.context):c.context&&EN(a,c.context,!1),ox(a,c.containerInfo)}function Sk(a,c,p,_,k){return Ou(),Xb(k),c.flags|=256,xi(a,c,p,_),c.child}var Ex={dehydrated:null,treeContext:null,retryLane:0};function Nx(a){return{baseLanes:a,cachePool:null,transitions:null}}function Ek(a,c,p){var _=c.pendingProps,k=mr.current,A=!1,G=(c.flags&128)!==0,ye;if((ye=G)||(ye=a!==null&&a.memoizedState===null?!1:(k&2)!==0),ye?(A=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),Kn(mr,k&1),a===null)return Yb(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(c.mode&1?a.data==="$!"?c.lanes=8:c.lanes=0x40000000:c.lanes=1,null):(G=_.children,a=_.fallback,A?(_=c.mode,A=c.child,G={mode:"hidden",children:G},!(_&1)&&A!==null?(A.childLanes=0,A.pendingProps=G):A=Hm(G,_,0,null),a=yc(a,_,p,null),A.return=c,a.return=c,A.sibling=a,c.child=A,c.child.memoizedState=Nx(p),c.memoizedState=Ex,a):kx(c,G));if(k=a.memoizedState,k!==null&&(ye=k.dehydrated,ye!==null))return QL(a,c,G,_,ye,k,p);if(A){A=_.fallback,G=c.mode,k=a.child,ye=k.sibling;var Se={mode:"hidden",children:_.children};return!(G&1)&&c.child!==k?(_=c.child,_.childLanes=0,_.pendingProps=Se,c.deletions=null):(_=al(k,Se),_.subtreeFlags=k.subtreeFlags&0xe00000),ye!==null?A=al(ye,A):(A=yc(A,G,p,null),A.flags|=2),A.return=c,_.return=c,_.sibling=A,c.child=_,_=A,A=c.child,G=a.child.memoizedState,G=G===null?Nx(p):{baseLanes:G.baseLanes|p,cachePool:null,transitions:G.transitions},A.memoizedState=G,A.childLanes=a.childLanes&~p,c.memoizedState=Ex,_}return A=a.child,a=A.sibling,_=al(A,{mode:"visible",children:_.children}),!(c.mode&1)&&(_.lanes=p),_.return=c,_.sibling=null,a!==null&&(p=c.deletions,p===null?(c.deletions=[a],c.flags|=16):p.push(a)),c.child=_,c.memoizedState=null,_}function kx(a,c){return c=Hm({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Am(a,c,p,_){return _!==null&&Xb(_),qu(c,a.child,null,p),a=kx(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function QL(a,c,p,_,k,A,G){if(p)return c.flags&256?(c.flags&=-257,_=xx(Error(n(422))),Am(a,c,G,_)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(A=_.fallback,k=c.mode,_=Hm({mode:"visible",children:_.children},k,0,null),A=yc(A,k,G,null),A.flags|=2,_.return=c,A.return=c,_.sibling=A,c.child=_,c.mode&1&&qu(c,a.child,null,G),c.child.memoizedState=Nx(G),c.memoizedState=Ex,A);if(!(c.mode&1))return Am(a,c,G,null);if(k.data==="$!"){if(_=k.nextSibling&&k.nextSibling.dataset,_)var ye=_.dgst;return _=ye,A=Error(n(419)),_=xx(A,_,void 0),Am(a,c,G,_)}if(ye=(G&a.childLanes)!==0,Di||ye){if(_=Kr,_!==null){switch(G&-G){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:k=32;break;case 0x20000000:k=0x10000000;break;default:k=0}k=k&(_.suspendedLanes|G)?0:k,k!==0&&k!==A.retryLane&&(A.retryLane=k,ha(a,k),so(_,a,k,-1))}return zx(),_=xx(Error(n(421))),Am(a,c,G,_)}return k.data==="$?"?(c.flags|=128,c.child=a.child,c=oM.bind(null,a),k._reactRetry=c,null):(a=A.treeContext,Xi=Za(k.nextSibling),Yi=c,or=!0,to=null,a!==null&&(Ts[Os++]=da,Ts[Os++]=fa,Ts[Os++]=lc,da=a.id,fa=a.overflow,lc=c),c=kx(c,_.children),c.flags|=4096,c)}function Nk(a,c,p){a.lanes|=c;var _=a.alternate;_!==null&&(_.lanes|=c),rx(a.return,c,p)}function Ix(a,c,p,_,k){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:_,tail:p,tailMode:k}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=_,A.tail=p,A.tailMode=k)}function kk(a,c,p){var _=c.pendingProps,k=_.revealOrder,A=_.tail;if(xi(a,c,_.children,p),_=mr.current,_&2)_=_&1|2,c.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Nk(a,p,c);else if(a.tag===19)Nk(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}_&=1}if(Kn(mr,_),!(c.mode&1))c.memoizedState=null;else switch(k){case"forwards":for(p=c.child,k=null;p!==null;)a=p.alternate,a!==null&&km(a)===null&&(k=p),p=p.sibling;p=k,p===null?(k=c.child,c.child=null):(k=p.sibling,p.sibling=null),Ix(c,!1,k,p,A);break;case"backwards":for(p=null,k=c.child,c.child=null;k!==null;){if(a=k.alternate,a!==null&&km(a)===null){c.child=k;break}a=k.sibling,k.sibling=p,p=k,k=a}Ix(c,!0,p,null,A);break;case"together":Ix(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function jm(a,c){!(c.mode&1)&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function ma(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),hc|=c.lanes,!(p&c.childLanes))return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,p=al(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=al(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function KL(a,c,p){switch(c.tag){case 3:wk(c),Ou();break;case 5:$N(c);break;case 1:Fi(c.type)&&gm(c);break;case 4:ox(c,c.stateNode.containerInfo);break;case 10:var _=c.type._context,k=c.memoizedProps.value;Kn(wm,_._currentValue),_._currentValue=k;break;case 13:if(_=c.memoizedState,_!==null)return _.dehydrated!==null?(Kn(mr,mr.current&1),c.flags|=128,null):p&c.child.childLanes?Ek(a,c,p):(Kn(mr,mr.current&1),a=ma(a,c,p),a!==null?a.sibling:null);Kn(mr,mr.current&1);break;case 19:if(_=(p&c.childLanes)!==0,a.flags&128){if(_)return kk(a,c,p);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Kn(mr,mr.current),_)break;return null;case 22:case 23:return c.lanes=0,bk(a,c,p)}return ma(a,c,p)}var Ik,Cx,Ck,Tk;Ik=function(a,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Cx=function(){},Ck=function(a,c,p,_){var k=a.memoizedProps;if(k!==_){a=c.stateNode,dc(Fo.current);var A=null;switch(p){case"input":k=kt(a,k),_=kt(a,_),A=[];break;case"select":k=ae({},k,{value:void 0}),_=ae({},_,{value:void 0}),A=[];break;case"textarea":k=We(a,k),_=We(a,_),A=[];break;default:typeof k.onClick!="function"&&typeof _.onClick=="function"&&(a.onclick=hm)}qi(p,_);var G;p=null;for(Ue in k)if(!_.hasOwnProperty(Ue)&&k.hasOwnProperty(Ue)&&k[Ue]!=null)if(Ue==="style"){var ye=k[Ue];for(G in ye)ye.hasOwnProperty(G)&&(p||(p={}),p[G]="")}else Ue!=="dangerouslySetInnerHTML"&&Ue!=="children"&&Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&Ue!=="autoFocus"&&(i.hasOwnProperty(Ue)?A||(A=[]):(A=A||[]).push(Ue,null));for(Ue in _){var Se=_[Ue];if(ye=k?.[Ue],_.hasOwnProperty(Ue)&&Se!==ye&&(Se!=null||ye!=null))if(Ue==="style")if(ye){for(G in ye)!ye.hasOwnProperty(G)||Se&&Se.hasOwnProperty(G)||(p||(p={}),p[G]="");for(G in Se)Se.hasOwnProperty(G)&&ye[G]!==Se[G]&&(p||(p={}),p[G]=Se[G])}else p||(A||(A=[]),A.push(Ue,p)),p=Se;else Ue==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ye=ye?ye.__html:void 0,Se!=null&&ye!==Se&&(A=A||[]).push(Ue,Se)):Ue==="children"?typeof Se!="string"&&typeof Se!="number"||(A=A||[]).push(Ue,""+Se):Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ue)?(Se!=null&&Ue==="onScroll"&&nr("scroll",a),A||ye===Se||(A=[])):(A=A||[]).push(Ue,Se))}p&&(A=A||[]).push("style",p);var Ue=A;(c.updateQueue=Ue)&&(c.flags|=4)}},Tk=function(a,c,p,_){p!==_&&(c.flags|=4)};function Bf(a,c){if(!or)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:_.sibling=null}}function li(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,_=0;if(c)for(var k=a.child;k!==null;)p|=k.lanes|k.childLanes,_|=k.subtreeFlags&0xe00000,_|=k.flags&0xe00000,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)p|=k.lanes|k.childLanes,_|=k.subtreeFlags,_|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=_,a.childLanes=p,c}function GL(a,c,p){var _=c.pendingProps;switch(Zb(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(c),null;case 1:return Fi(c.type)&&mm(),li(c),null;case 3:return _=c.stateNode,ju(),rr(Pi),rr(oi),cx(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(a===null||a.child===null)&&(xm(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,to!==null&&(Mx(to),to=null))),Cx(a,c),li(c),null;case 5:ax(c);var k=dc(Ff.current);if(p=c.type,a!==null&&c.stateNode!=null)Ck(a,c,p,_,k),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!_){if(c.stateNode===null)throw Error(n(166));return li(c),null}if(a=dc(Fo.current),xm(c)){_=c.stateNode,p=c.type;var A=c.memoizedProps;switch(_[Po]=c,_[qf]=A,a=(c.mode&1)!==0,p){case"dialog":nr("cancel",_),nr("close",_);break;case"iframe":case"object":case"embed":nr("load",_);break;case"video":case"audio":for(k=0;k<Cf.length;k++)nr(Cf[k],_);break;case"source":nr("error",_);break;case"img":case"image":case"link":nr("error",_),nr("load",_);break;case"details":nr("toggle",_);break;case"input":At(_,A),nr("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!A.multiple},nr("invalid",_);break;case"textarea":rt(_,A),nr("invalid",_)}qi(p,A),k=null;for(var G in A)if(A.hasOwnProperty(G)){var ye=A[G];G==="children"?typeof ye=="string"?_.textContent!==ye&&(A.suppressHydrationWarning!==!0&&fm(_.textContent,ye,a),k=["children",ye]):typeof ye=="number"&&_.textContent!==""+ye&&(A.suppressHydrationWarning!==!0&&fm(_.textContent,ye,a),k=["children",""+ye]):i.hasOwnProperty(G)&&ye!=null&&G==="onScroll"&&nr("scroll",_)}switch(p){case"input":nt(_),ve(_,A,!0);break;case"textarea":nt(_),ut(_);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(_.onclick=hm)}_=k,c.updateQueue=_,_!==null&&(c.flags|=4)}else{G=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ut(p)),a==="http://www.w3.org/1999/xhtml"?p==="script"?(a=G.createElement("div"),a.innerHTML="<script></script>",a=a.removeChild(a.firstChild)):typeof _.is=="string"?a=G.createElement(p,{is:_.is}):(a=G.createElement(p),p==="select"&&(G=a,_.multiple?G.multiple=!0:_.size&&(G.size=_.size))):a=G.createElementNS(a,p),a[Po]=c,a[qf]=_,Ik(a,c,!1,!1),c.stateNode=a;e:{switch(G=Ri(p,_),p){case"dialog":nr("cancel",a),nr("close",a),k=_;break;case"iframe":case"object":case"embed":nr("load",a),k=_;break;case"video":case"audio":for(k=0;k<Cf.length;k++)nr(Cf[k],a);k=_;break;case"source":nr("error",a),k=_;break;case"img":case"image":case"link":nr("error",a),nr("load",a),k=_;break;case"details":nr("toggle",a),k=_;break;case"input":At(a,_),k=kt(a,_),nr("invalid",a);break;case"option":k=_;break;case"select":a._wrapperState={wasMultiple:!!_.multiple},k=ae({},_,{value:void 0}),nr("invalid",a);break;case"textarea":rt(a,_),k=We(a,_),nr("invalid",a);break;default:k=_}qi(p,k),ye=k;for(A in ye)if(ye.hasOwnProperty(A)){var Se=ye[A];A==="style"?Ht(a,Se):A==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&er(a,Se)):A==="children"?typeof Se=="string"?(p!=="textarea"||Se!=="")&&qn(a,Se):typeof Se=="number"&&qn(a,""+Se):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?Se!=null&&A==="onScroll"&&nr("scroll",a):Se!=null&&T(a,A,Se,G))}switch(p){case"input":nt(a),ve(a,_,!1);break;case"textarea":nt(a),ut(a);break;case"option":_.value!=null&&a.setAttribute("value",""+Re(_.value));break;case"select":a.multiple=!!_.multiple,A=_.value,A!=null?De(a,!!_.multiple,A,!1):_.defaultValue!=null&&De(a,!!_.multiple,_.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=hm)}switch(p){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return li(c),null;case 6:if(a&&c.stateNode!=null)Tk(a,c,a.memoizedProps,_);else{if(typeof _!="string"&&c.stateNode===null)throw Error(n(166));if(p=dc(Ff.current),dc(Fo.current),xm(c)){if(_=c.stateNode,p=c.memoizedProps,_[Po]=c,(A=_.nodeValue!==p)&&(a=Yi,a!==null))switch(a.tag){case 3:fm(_.nodeValue,p,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&fm(_.nodeValue,p,(a.mode&1)!==0)}A&&(c.flags|=4)}else _=(p.nodeType===9?p:p.ownerDocument).createTextNode(_),_[Po]=c,c.stateNode=_}return li(c),null;case 13:if(rr(mr),_=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(or&&Xi!==null&&c.mode&1&&!(c.flags&128))RN(),Ou(),c.flags|=98560,A=!1;else if(A=xm(c),_!==null&&_.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Po]=c}else Ou(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;li(c),A=!1}else to!==null&&(Mx(to),to=null),A=!0;if(!A)return c.flags&65536?c:null}return c.flags&128?(c.lanes=p,c):(_=_!==null,_!==(a!==null&&a.memoizedState!==null)&&_&&(c.child.flags|=8192,c.mode&1&&(a===null||mr.current&1?zr===0&&(zr=3):zx())),c.updateQueue!==null&&(c.flags|=4),li(c),null);case 4:return ju(),Cx(a,c),a===null&&Tf(c.stateNode.containerInfo),li(c),null;case 10:return nx(c.type._context),li(c),null;case 17:return Fi(c.type)&&mm(),li(c),null;case 19:if(rr(mr),A=c.memoizedState,A===null)return li(c),null;if(_=(c.flags&128)!==0,G=A.rendering,G===null)if(_)Bf(A,!1);else{if(zr!==0||a!==null&&a.flags&128)for(a=c.child;a!==null;){if(G=km(a),G!==null){for(c.flags|=128,Bf(A,!1),_=G.updateQueue,_!==null&&(c.updateQueue=_,c.flags|=4),c.subtreeFlags=0,_=p,p=c.child;p!==null;)A=p,a=_,A.flags&=0xe00002,G=A.alternate,G===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=G.childLanes,A.lanes=G.lanes,A.child=G.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=G.memoizedProps,A.memoizedState=G.memoizedState,A.updateQueue=G.updateQueue,A.type=G.type,a=G.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),p=p.sibling;return Kn(mr,mr.current&1|2),c.child}a=a.sibling}A.tail!==null&&tr()>Lu&&(c.flags|=128,_=!0,Bf(A,!1),c.lanes=4194304)}else{if(!_)if(a=km(G),a!==null){if(c.flags|=128,_=!0,p=a.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),Bf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!G.alternate&&!or)return li(c),null}else 2*tr()-A.renderingStartTime>Lu&&p!==0x40000000&&(c.flags|=128,_=!0,Bf(A,!1),c.lanes=4194304);A.isBackwards?(G.sibling=c.child,c.child=G):(p=A.last,p!==null?p.sibling=G:c.child=G,A.last=G)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=tr(),c.sibling=null,p=mr.current,Kn(mr,_?p&1|2:p&1),c):(li(c),null);case 22:case 23:return Bx(),_=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==_&&(c.flags|=8192),_&&c.mode&1?es&0x40000000&&(li(c),c.subtreeFlags&6&&(c.flags|=8192)):li(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function ZL(a,c){switch(Zb(c),c.tag){case 1:return Fi(c.type)&&mm(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return ju(),rr(Pi),rr(oi),cx(),a=c.flags,a&65536&&!(a&128)?(c.flags=a&-65537|128,c):null;case 5:return ax(c),null;case 13:if(rr(mr),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Ou()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return rr(mr),null;case 4:return ju(),null;case 10:return nx(c.type._context),null;case 22:case 23:return Bx(),null;case 24:return null;default:return null}}var Pm=!1,ci=!1,JL=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Fu(a,c){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(_){xr(a,c,_)}else p.current=null}function Tx(a,c,p){try{p()}catch(_){xr(a,c,_)}}var Ok=!1;function YL(a,c){if(Bb=Ke,a=lN(),Ab(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var _=p.getSelection&&p.getSelection();if(_&&_.rangeCount!==0){p=_.anchorNode;var k=_.anchorOffset,A=_.focusNode;_=_.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var G=0,ye=-1,Se=-1,Ue=0,pt=0,gt=a,ft=null;t:for(;;){for(var qt;gt!==p||k!==0&&gt.nodeType!==3||(ye=G+k),gt!==A||_!==0&&gt.nodeType!==3||(Se=G+_),gt.nodeType===3&&(G+=gt.nodeValue.length),(qt=gt.firstChild)!==null;)ft=gt,gt=qt;for(;;){if(gt===a)break t;if(ft===p&&++Ue===k&&(ye=G),ft===A&&++pt===_&&(Se=G),(qt=gt.nextSibling)!==null)break;gt=ft,ft=gt.parentNode}gt=qt}p=ye===-1||Se===-1?null:{start:ye,end:Se}}else p=null}p=p||{start:0,end:0}}else p=null;for(zb={focusedElem:a,selectionRange:p},Ke=!1,Ft=c;Ft!==null;)if(c=Ft,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ft=a;else for(;Ft!==null;){c=Ft;try{var Lt=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var Bt=Lt.memoizedProps,Er=Lt.memoizedState,Fe=c.stateNode,Ce=Fe.getSnapshotBeforeUpdate(c.elementType===c.type?Bt:no(c.type,Bt),Er);Fe.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var Me=c.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(bt){xr(c,c.return,bt)}if(a=c.sibling,a!==null){a.return=c.return,Ft=a;break}Ft=c.return}return Lt=Ok,Ok=!1,Lt}function zf(a,c,p){var _=c.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var k=_=_.next;do{if((k.tag&a)===a){var A=k.destroy;k.destroy=void 0,A!==void 0&&Tx(c,p,A)}k=k.next}while(k!==_)}}function Fm(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&a)===a){var _=p.create;p.destroy=_()}p=p.next}while(p!==c)}}function Ox(a){var c=a.ref;if(c!==null){var p=a.stateNode;switch(a.tag){case 5:a=p;break;default:a=p}typeof c=="function"?c(a):c.current=a}}function qk(a){var c=a.alternate;c!==null&&(a.alternate=null,qk(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Po],delete c[qf],delete c[Hb],delete c[jL],delete c[PL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Rk(a){return a.tag===5||a.tag===3||a.tag===4}function Ak(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Rk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function qx(a,c,p){var _=a.tag;if(_===5||_===6)a=a.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(a,c):p.insertBefore(a,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(a,p)):(c=p,c.appendChild(a)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=hm));else if(_!==4&&(a=a.child,a!==null))for(qx(a,c,p),a=a.sibling;a!==null;)qx(a,c,p),a=a.sibling}function Rx(a,c,p){var _=a.tag;if(_===5||_===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(_!==4&&(a=a.child,a!==null))for(Rx(a,c,p),a=a.sibling;a!==null;)Rx(a,c,p),a=a.sibling}var Xr=null,ro=!1;function nl(a,c,p){for(p=p.child;p!==null;)jk(a,c,p),p=p.sibling}function jk(a,c,p){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Ha,p)}catch{}switch(p.tag){case 5:ci||Fu(p,c);case 6:var _=Xr,k=ro;Xr=null,nl(a,c,p),Xr=_,ro=k,Xr!==null&&(ro?(a=Xr,p=p.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):Xr.removeChild(p.stateNode));break;case 18:Xr!==null&&(ro?(a=Xr,p=p.stateNode,a.nodeType===8?Vb(a.parentNode,p):a.nodeType===1&&Vb(a,p),Te(a)):Vb(Xr,p.stateNode));break;case 4:_=Xr,k=ro,Xr=p.stateNode.containerInfo,ro=!0,nl(a,c,p),Xr=_,ro=k;break;case 0:case 11:case 14:case 15:if(!ci&&(_=p.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){k=_=_.next;do{var A=k,G=A.destroy;A=A.tag,G!==void 0&&(A&2||A&4)&&Tx(p,c,G),k=k.next}while(k!==_)}nl(a,c,p);break;case 1:if(!ci&&(Fu(p,c),_=p.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=p.memoizedProps,_.state=p.memoizedState,_.componentWillUnmount()}catch(ye){xr(p,c,ye)}nl(a,c,p);break;case 21:nl(a,c,p);break;case 22:p.mode&1?(ci=(_=ci)||p.memoizedState!==null,nl(a,c,p),ci=_):nl(a,c,p);break;default:nl(a,c,p)}}function Pk(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new JL),c.forEach(function(_){var k=aM.bind(null,a,_);p.has(_)||(p.add(_),_.then(k,k))})}}function io(a,c){var p=c.deletions;if(p!==null)for(var _=0;_<p.length;_++){var k=p[_];try{var A=a,G=c,ye=G;e:for(;ye!==null;){switch(ye.tag){case 5:Xr=ye.stateNode,ro=!1;break e;case 3:Xr=ye.stateNode.containerInfo,ro=!0;break e;case 4:Xr=ye.stateNode.containerInfo,ro=!0;break e}ye=ye.return}if(Xr===null)throw Error(n(160));jk(A,G,k),Xr=null,ro=!1;var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(Ue){xr(k,c,Ue)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Fk(c,a),c=c.sibling}function Fk(a,c){var p=a.alternate,_=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(io(c,a),Lo(a),_&4){try{zf(3,a,a.return),Fm(3,a)}catch(Bt){xr(a,a.return,Bt)}try{zf(5,a,a.return)}catch(Bt){xr(a,a.return,Bt)}}break;case 1:io(c,a),Lo(a),_&512&&p!==null&&Fu(p,p.return);break;case 5:if(io(c,a),Lo(a),_&512&&p!==null&&Fu(p,p.return),a.flags&32){var k=a.stateNode;try{qn(k,"")}catch(Bt){xr(a,a.return,Bt)}}if(_&4&&(k=a.stateNode,k!=null)){var A=a.memoizedProps,G=p!==null?p.memoizedProps:A,ye=a.type,Se=a.updateQueue;if(a.updateQueue=null,Se!==null)try{ye==="input"&&A.type==="radio"&&A.name!=null&&Gt(k,A),Ri(ye,G);var Ue=Ri(ye,A);for(G=0;G<Se.length;G+=2){var pt=Se[G],gt=Se[G+1];pt==="style"?Ht(k,gt):pt==="dangerouslySetInnerHTML"?er(k,gt):pt==="children"?qn(k,gt):T(k,pt,gt,Ue)}switch(ye){case"input":ln(k,A);break;case"textarea":$e(k,A);break;case"select":var ft=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!A.multiple;var qt=A.value;qt!=null?De(k,!!A.multiple,qt,!1):ft!==!!A.multiple&&(A.defaultValue!=null?De(k,!!A.multiple,A.defaultValue,!0):De(k,!!A.multiple,A.multiple?[]:"",!1))}k[qf]=A}catch(Bt){xr(a,a.return,Bt)}}break;case 6:if(io(c,a),Lo(a),_&4){if(a.stateNode===null)throw Error(n(162));k=a.stateNode,A=a.memoizedProps;try{k.nodeValue=A}catch(Bt){xr(a,a.return,Bt)}}break;case 3:if(io(c,a),Lo(a),_&4&&p!==null&&p.memoizedState.isDehydrated)try{Te(c.containerInfo)}catch(Bt){xr(a,a.return,Bt)}break;case 4:io(c,a),Lo(a);break;case 13:io(c,a),Lo(a),k=a.child,k.flags&8192&&(A=k.memoizedState!==null,k.stateNode.isHidden=A,!A||k.alternate!==null&&k.alternate.memoizedState!==null||(Px=tr())),_&4&&Pk(a);break;case 22:if(pt=p!==null&&p.memoizedState!==null,a.mode&1?(ci=(Ue=ci)||pt,io(c,a),ci=Ue):io(c,a),Lo(a),_&8192){if(Ue=a.memoizedState!==null,(a.stateNode.isHidden=Ue)&&!pt&&a.mode&1)for(Ft=a,pt=a.child;pt!==null;){for(gt=Ft=pt;Ft!==null;){switch(ft=Ft,qt=ft.child,ft.tag){case 0:case 11:case 14:case 15:zf(4,ft,ft.return);break;case 1:Fu(ft,ft.return);var Lt=ft.stateNode;if(typeof Lt.componentWillUnmount=="function"){_=ft,p=ft.return;try{c=_,Lt.props=c.memoizedProps,Lt.state=c.memoizedState,Lt.componentWillUnmount()}catch(Bt){xr(_,p,Bt)}}break;case 5:Fu(ft,ft.return);break;case 22:if(ft.memoizedState!==null){Mk(gt);continue}}qt!==null?(qt.return=ft,Ft=qt):Mk(gt)}pt=pt.sibling}e:for(pt=null,gt=a;;){if(gt.tag===5){if(pt===null){pt=gt;try{k=gt.stateNode,Ue?(A=k.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ye=gt.stateNode,Se=gt.memoizedProps.style,G=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ye.style.display=hr("display",G))}catch(Bt){xr(a,a.return,Bt)}}}else if(gt.tag===6){if(pt===null)try{gt.stateNode.nodeValue=Ue?"":gt.memoizedProps}catch(Bt){xr(a,a.return,Bt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===a)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===a)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===a)break e;pt===gt&&(pt=null),gt=gt.return}pt===gt&&(pt=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:io(c,a),Lo(a),_&4&&Pk(a);break;case 21:break;default:io(c,a),Lo(a)}}function Lo(a){var c=a.flags;if(c&2){try{e:{for(var p=a.return;p!==null;){if(Rk(p)){var _=p;break e}p=p.return}throw Error(n(160))}switch(_.tag){case 5:var k=_.stateNode;_.flags&32&&(qn(k,""),_.flags&=-33);var A=Ak(a);Rx(a,A,k);break;case 3:case 4:var G=_.stateNode.containerInfo,ye=Ak(a);qx(a,ye,G);break;default:throw Error(n(161))}}catch(Se){xr(a,a.return,Se)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function XL(a,c,p){Ft=a,Dk(a)}function Dk(a,c,p){for(var _=(a.mode&1)!==0;Ft!==null;){var k=Ft,A=k.child;if(k.tag===22&&_){var G=k.memoizedState!==null||Pm;if(!G){var ye=k.alternate,Se=ye!==null&&ye.memoizedState!==null||ci;ye=Pm;var Ue=ci;if(Pm=G,(ci=Se)&&!Ue)for(Ft=k;Ft!==null;)G=Ft,Se=G.child,G.tag===22&&G.memoizedState!==null?$k(k):Se!==null?(Se.return=G,Ft=Se):$k(k);for(;A!==null;)Ft=A,Dk(A),A=A.sibling;Ft=k,Pm=ye,ci=Ue}Lk(a)}else k.subtreeFlags&8772&&A!==null?(A.return=k,Ft=A):Lk(a)}}function Lk(a){for(;Ft!==null;){var c=Ft;if(c.flags&8772){var p=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:ci||Fm(5,c);break;case 1:var _=c.stateNode;if(c.flags&4&&!ci)if(p===null)_.componentDidMount();else{var k=c.elementType===c.type?p.memoizedProps:no(c.type,p.memoizedProps);_.componentDidUpdate(k,p.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&MN(c,A,_);break;case 3:var G=c.updateQueue;if(G!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}MN(c,G,p)}break;case 5:var ye=c.stateNode;if(p===null&&c.flags&4){p=ye;var Se=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&p.focus();break;case"img":Se.src&&(p.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Ue=c.alternate;if(Ue!==null){var pt=Ue.memoizedState;if(pt!==null){var gt=pt.dehydrated;gt!==null&&Te(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ci||c.flags&512&&Ox(c)}catch(ft){xr(c,c.return,ft)}}if(c===a){Ft=null;break}if(p=c.sibling,p!==null){p.return=c.return,Ft=p;break}Ft=c.return}}function Mk(a){for(;Ft!==null;){var c=Ft;if(c===a){Ft=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Ft=p;break}Ft=c.return}}function $k(a){for(;Ft!==null;){var c=Ft;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Fm(4,c)}catch(Se){xr(c,p,Se)}break;case 1:var _=c.stateNode;if(typeof _.componentDidMount=="function"){var k=c.return;try{_.componentDidMount()}catch(Se){xr(c,k,Se)}}var A=c.return;try{Ox(c)}catch(Se){xr(c,A,Se)}break;case 5:var G=c.return;try{Ox(c)}catch(Se){xr(c,G,Se)}}}catch(Se){xr(c,c.return,Se)}if(c===a){Ft=null;break}var ye=c.sibling;if(ye!==null){ye.return=c.return,Ft=ye;break}Ft=c.return}}var eM=Math.ceil,Dm=R.ReactCurrentDispatcher,Ax=R.ReactCurrentOwner,As=R.ReactCurrentBatchConfig,kn=0,Kr=null,Ar=null,ei=0,es=0,Du=Ja(0),zr=0,Wf=null,hc=0,Lm=0,jx=0,Uf=null,Li=null,Px=0,Lu=1/0,ga=null,Mm=!1,Fx=null,rl=null,$m=!1,il=null,Bm=0,Vf=0,Dx=null,zm=-1,Wm=0;function _i(){return kn&6?tr():zm!==-1?zm:zm=tr()}function sl(a){return a.mode&1?kn&2&&ei!==0?ei&-ei:DL.transition!==null?(Wm===0&&(Wm=im()),Wm):(a=Rn,a!==0||(a=window.event,a=a===void 0?16:Ee(a.type)),a):1}function so(a,c,p,_){if(50<Vf)throw Vf=0,Dx=null,Error(n(185));ic(a,p,_),(!(kn&2)||a!==Kr)&&(a===Kr&&(!(kn&2)&&(Lm|=p),zr===4&&ol(a,ei)),Mi(a,_),p===1&&kn===0&&!(c.mode&1)&&(Lu=tr()+500,ym&&Xa()))}function Mi(a,c){var p=a.callbackNode;Nb(a,c);var _=Ka(a,a===Kr?ei:0);if(_===0)p!==null&&tc(p),a.callbackNode=null,a.callbackPriority=0;else if(c=_&-_,a.callbackPriority!==c){if(p!=null&&tc(p),c===1)a.tag===0?FL(zk.bind(null,a)):IN(zk.bind(null,a)),RL(function(){!(kn&6)&&Xa()}),p=null;else{switch(sm(_)){case 1:p=nc;break;case 4:p=bu;break;case 16:p=Va;break;case 0x20000000:p=rc;break;default:p=Va}p=Zk(p,Bk.bind(null,a))}a.callbackPriority=c,a.callbackNode=p}}function Bk(a,c){if(zm=-1,Wm=0,kn&6)throw Error(n(327));var p=a.callbackNode;if(Mu()&&a.callbackNode!==p)return null;var _=Ka(a,a===Kr?ei:0);if(_===0)return null;if(_&30||_&a.expiredLanes||c)c=Um(a,_);else{c=_;var k=kn;kn|=2;var A=Uk();(Kr!==a||ei!==c)&&(ga=null,Lu=tr()+500,mc(a,c));do try{rM();break}catch(ye){Wk(a,ye)}while(!0);tx(),Dm.current=A,kn=k,Ar!==null?c=0:(Kr=null,ei=0,c=zr)}if(c!==0){if(c===2&&(k=gf(a),k!==0&&(_=k,c=Lx(a,k))),c===1)throw p=Wf,mc(a,0),ol(a,_),Mi(a,tr()),p;if(c===6)ol(a,_);else{if(k=a.current.alternate,!(_&30)&&!tM(k)&&(c=Um(a,_),c===2&&(A=gf(a),A!==0&&(_=A,c=Lx(a,A))),c===1))throw p=Wf,mc(a,0),ol(a,_),Mi(a,tr()),p;switch(a.finishedWork=k,a.finishedLanes=_,c){case 0:case 1:throw Error(n(345));case 2:gc(a,Li,ga);break;case 3:if(ol(a,_),(_&0x7c00000)===_&&(c=Px+500-tr(),10<c)){if(Ka(a,0)!==0)break;if(k=a.suspendedLanes,(k&_)!==_){_i(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=Ub(gc.bind(null,a,Li,ga),c);break}gc(a,Li,ga);break;case 4:if(ol(a,_),(_&4194240)===_)break;for(c=a.eventTimes,k=-1;0<_;){var G=31-si(_);A=1<<G,G=c[G],G>k&&(k=G),_&=~A}if(_=k,_=tr()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*eM(_/1960))-_,10<_){a.timeoutHandle=Ub(gc.bind(null,a,Li,ga),_);break}gc(a,Li,ga);break;case 5:gc(a,Li,ga);break;default:throw Error(n(329))}}}return Mi(a,tr()),a.callbackNode===p?Bk.bind(null,a):null}function Lx(a,c){var p=Uf;return a.current.memoizedState.isDehydrated&&(mc(a,c).flags|=256),a=Um(a,c),a!==2&&(c=Li,Li=p,c!==null&&Mx(c)),a}function Mx(a){Li===null?Li=a:Li.push.apply(Li,a)}function tM(a){for(var c=a;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var _=0;_<p.length;_++){var k=p[_],A=k.getSnapshot;k=k.value;try{if(!eo(A(),k))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ol(a,c){for(c&=~jx,c&=~Lm,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var p=31-si(c),_=1<<p;a[p]=-1,c&=~_}}function zk(a){if(kn&6)throw Error(n(327));Mu();var c=Ka(a,0);if(!(c&1))return Mi(a,tr()),null;var p=Um(a,c);if(a.tag!==0&&p===2){var _=gf(a);_!==0&&(c=_,p=Lx(a,_))}if(p===1)throw p=Wf,mc(a,0),ol(a,c),Mi(a,tr()),p;if(p===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,gc(a,Li,ga),Mi(a,tr()),null}function $x(a,c){var p=kn;kn|=1;try{return a(c)}finally{kn=p,kn===0&&(Lu=tr()+500,ym&&Xa())}}function pc(a){il!==null&&il.tag===0&&!(kn&6)&&Mu();var c=kn;kn|=1;var p=As.transition,_=Rn;try{if(As.transition=null,Rn=1,a)return a()}finally{Rn=_,As.transition=p,kn=c,!(kn&6)&&Xa()}}function Bx(){es=Du.current,rr(Du)}function mc(a,c){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==-1&&(a.timeoutHandle=-1,qL(p)),Ar!==null)for(p=Ar.return;p!==null;){var _=p;switch(Zb(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&mm();break;case 3:ju(),rr(Pi),rr(oi),cx();break;case 5:ax(_);break;case 4:ju();break;case 13:rr(mr);break;case 19:rr(mr);break;case 10:nx(_.type._context);break;case 22:case 23:Bx()}p=p.return}if(Kr=a,Ar=a=al(a.current,null),ei=es=c,zr=0,Wf=null,jx=Lm=hc=0,Li=Uf=null,uc!==null){for(c=0;c<uc.length;c++)if(p=uc[c],_=p.interleaved,_!==null){p.interleaved=null;var k=_.next,A=p.pending;if(A!==null){var G=A.next;A.next=k,_.next=G}p.pending=_}uc=null}return a}function Wk(a,c){do{var p=Ar;try{if(tx(),Im.current=qm,Cm){for(var _=gr.memoizedState;_!==null;){var k=_.queue;k!==null&&(k.pending=null),_=_.next}Cm=!1}if(fc=0,Qr=Br=gr=null,Df=!1,Lf=0,Ax.current=null,p===null||p.return===null){zr=1,Wf=c,Ar=null;break}e:{var A=a,G=p.return,ye=p,Se=c;if(c=ei,ye.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Ue=Se,pt=ye,gt=pt.tag;if(!(pt.mode&1)&&(gt===0||gt===11||gt===15)){var ft=pt.alternate;ft?(pt.updateQueue=ft.updateQueue,pt.memoizedState=ft.memoizedState,pt.lanes=ft.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var qt=pk(G);if(qt!==null){qt.flags&=-257,mk(qt,G,ye,A,c),qt.mode&1&&hk(A,Ue,c),c=qt,Se=Ue;var Lt=c.updateQueue;if(Lt===null){var Bt=new Set;Bt.add(Se),c.updateQueue=Bt}else Lt.add(Se);break e}else{if(!(c&1)){hk(A,Ue,c),zx();break e}Se=Error(n(426))}}else if(or&&ye.mode&1){var Er=pk(G);if(Er!==null){!(Er.flags&65536)&&(Er.flags|=256),mk(Er,G,ye,A,c),Xb(Pu(Se,ye));break e}}A=Se=Pu(Se,ye),zr!==4&&(zr=2),Uf===null?Uf=[A]:Uf.push(A),A=G;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var Fe=dk(A,Se,c);LN(A,Fe);break e;case 1:ye=Se;var Ce=A.type,Me=A.stateNode;if(!(A.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(rl===null||!rl.has(Me)))){A.flags|=65536,c&=-c,A.lanes|=c;var bt=fk(A,ye,c);LN(A,bt);break e}}A=A.return}while(A!==null)}Hk(p)}catch(zt){c=zt,Ar===p&&p!==null&&(Ar=p=p.return);continue}break}while(!0)}function Uk(){var a=Dm.current;return Dm.current=qm,a===null?qm:a}function zx(){(zr===0||zr===3||zr===2)&&(zr=4),Kr===null||!(hc&0xfffffff)&&!(Lm&0xfffffff)||ol(Kr,ei)}function Um(a,c){var p=kn;kn|=2;var _=Uk();(Kr!==a||ei!==c)&&(ga=null,mc(a,c));do try{nM();break}catch(k){Wk(a,k)}while(!0);if(tx(),kn=p,Dm.current=_,Ar!==null)throw Error(n(261));return Kr=null,ei=0,zr}function nM(){for(;Ar!==null;)Vk(Ar)}function rM(){for(;Ar!==null&&!vu();)Vk(Ar)}function Vk(a){var c=Gk(a.alternate,a,es);a.memoizedProps=a.pendingProps,c===null?Hk(a):Ar=c,Ax.current=null}function Hk(a){var c=a;do{var p=c.alternate;if(a=c.return,c.flags&32768){if(p=ZL(p,c),p!==null){p.flags&=32767,Ar=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{zr=6,Ar=null;return}}else if(p=GL(p,c,es),p!==null){Ar=p;return}if(c=c.sibling,c!==null){Ar=c;return}Ar=c=a}while(c!==null);zr===0&&(zr=5)}function gc(a,c,p){var _=Rn,k=As.transition;try{As.transition=null,Rn=1,iM(a,c,p,_)}finally{As.transition=k,Rn=_}return null}function iM(a,c,p,_){do Mu();while(il!==null);if(kn&6)throw Error(n(327));p=a.finishedWork;var k=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=p.lanes|p.childLanes;if(kb(a,A),a===Kr&&(Ar=Kr=null,ei=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||$m||($m=!0,Zk(Va,function(){return Mu(),null})),A=(p.flags&15990)!==0,p.subtreeFlags&15990||A){A=As.transition,As.transition=null;var G=Rn;Rn=1;var ye=kn;kn|=4,Ax.current=null,YL(a,p),Fk(p,a),EL(zb),Ke=!!Bb,zb=Bb=null,a.current=p,XL(p),cf(),kn=ye,Rn=G,As.transition=A}else a.current=p;if($m&&($m=!1,il=a,Bm=k),A=a.pendingLanes,A===0&&(rl=null),ff(p.stateNode),Mi(a,tr()),c!==null)for(_=a.onRecoverableError,p=0;p<c.length;p++)k=c[p],_(k.value,{componentStack:k.stack,digest:k.digest});if(Mm)throw Mm=!1,a=Fx,Fx=null,a;return Bm&1&&a.tag!==0&&Mu(),A=a.pendingLanes,A&1?a===Dx?Vf++:(Vf=0,Dx=a):Vf=0,Xa(),null}function Mu(){if(il!==null){var a=sm(Bm),c=As.transition,p=Rn;try{if(As.transition=null,Rn=16>a?16:a,il===null)var _=!1;else{if(a=il,il=null,Bm=0,kn&6)throw Error(n(331));var k=kn;for(kn|=4,Ft=a.current;Ft!==null;){var A=Ft,G=A.child;if(Ft.flags&16){var ye=A.deletions;if(ye!==null){for(var Se=0;Se<ye.length;Se++){var Ue=ye[Se];for(Ft=Ue;Ft!==null;){var pt=Ft;switch(pt.tag){case 0:case 11:case 15:zf(8,pt,A)}var gt=pt.child;if(gt!==null)gt.return=pt,Ft=gt;else for(;Ft!==null;){pt=Ft;var ft=pt.sibling,qt=pt.return;if(qk(pt),pt===Ue){Ft=null;break}if(ft!==null){ft.return=qt,Ft=ft;break}Ft=qt}}}var Lt=A.alternate;if(Lt!==null){var Bt=Lt.child;if(Bt!==null){Lt.child=null;do{var Er=Bt.sibling;Bt.sibling=null,Bt=Er}while(Bt!==null)}}Ft=A}}if(A.subtreeFlags&2064&&G!==null)G.return=A,Ft=G;else e:for(;Ft!==null;){if(A=Ft,A.flags&2048)switch(A.tag){case 0:case 11:case 15:zf(9,A,A.return)}var Fe=A.sibling;if(Fe!==null){Fe.return=A.return,Ft=Fe;break e}Ft=A.return}}var Ce=a.current;for(Ft=Ce;Ft!==null;){G=Ft;var Me=G.child;if(G.subtreeFlags&2064&&Me!==null)Me.return=G,Ft=Me;else e:for(G=Ce;Ft!==null;){if(ye=Ft,ye.flags&2048)try{switch(ye.tag){case 0:case 11:case 15:Fm(9,ye)}}catch(zt){xr(ye,ye.return,zt)}if(ye===G){Ft=null;break e}var bt=ye.sibling;if(bt!==null){bt.return=ye.return,Ft=bt;break e}Ft=ye.return}}if(kn=k,Xa(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Ha,a)}catch{}_=!0}return _}finally{Rn=p,As.transition=c}}return!1}function Qk(a,c,p){c=Pu(p,c),c=dk(a,c,1),a=tl(a,c,1),c=_i(),a!==null&&(ic(a,1,c),Mi(a,c))}function xr(a,c,p){if(a.tag===3)Qk(a,a,p);else for(;c!==null;){if(c.tag===3){Qk(c,a,p);break}else if(c.tag===1){var _=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(rl===null||!rl.has(_))){a=Pu(p,a),a=fk(c,a,1),c=tl(c,a,1),a=_i(),c!==null&&(ic(c,1,a),Mi(c,a));break}}c=c.return}}function sM(a,c,p){var _=a.pingCache;_!==null&&_.delete(c),c=_i(),a.pingedLanes|=a.suspendedLanes&p,Kr===a&&(ei&p)===p&&(zr===4||zr===3&&(ei&0x7c00000)===ei&&500>tr()-Px?mc(a,0):jx|=p),Mi(a,c)}function Kk(a,c){c===0&&(a.mode&1?(c=Qa,Qa<<=1,!(Qa&0x7c00000)&&(Qa=4194304)):c=1);var p=_i();a=ha(a,c),a!==null&&(ic(a,c,p),Mi(a,p))}function oM(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),Kk(a,p)}function aM(a,c){var p=0;switch(a.tag){case 13:var _=a.stateNode,k=a.memoizedState;k!==null&&(p=k.retryLane);break;case 19:_=a.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(c),Kk(a,p)}var Gk;Gk=function(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps||Pi.current)Di=!0;else{if(!(a.lanes&p)&&!(c.flags&128))return Di=!1,KL(a,c,p);Di=!!(a.flags&131072)}else Di=!1,or&&c.flags&1048576&&CN(c,bm,c.index);switch(c.lanes=0,c.tag){case 2:var _=c.type;jm(a,c),a=c.pendingProps;var k=Iu(c,oi.current);Au(c,p),k=fx(null,c,_,a,k,p);var A=hx();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Fi(_)?(A=!0,gm(c)):A=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,sx(c),k.updater=Rm,c.stateNode=k,k._reactInternals=c,bx(c,_,a,p),c=Sx(null,c,_,!0,A,p)):(c.tag=0,or&&A&&Gb(c),xi(null,c,k,p),c=c.child),c;case 16:_=c.elementType;e:{switch(jm(a,c),a=c.pendingProps,k=_._init,_=k(_._payload),c.type=_,k=c.tag=cM(_),a=no(_,a),k){case 0:c=wx(null,c,_,a,p);break e;case 1:c=_k(null,c,_,a,p);break e;case 11:c=gk(null,c,_,a,p);break e;case 14:c=yk(null,c,_,no(_.type,a),p);break e}throw Error(n(306,_,""))}return c;case 0:return _=c.type,k=c.pendingProps,k=c.elementType===_?k:no(_,k),wx(a,c,_,k,p);case 1:return _=c.type,k=c.pendingProps,k=c.elementType===_?k:no(_,k),_k(a,c,_,k,p);case 3:e:{if(wk(c),a===null)throw Error(n(387));_=c.pendingProps,A=c.memoizedState,k=A.element,DN(a,c),Nm(c,_,null,p);var G=c.memoizedState;if(_=G.element,A.isDehydrated)if(A={element:_,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){k=Pu(Error(n(423)),c),c=Sk(a,c,_,p,k);break e}else if(_!==k){k=Pu(Error(n(424)),c),c=Sk(a,c,_,p,k);break e}else for(Xi=Za(c.stateNode.containerInfo.firstChild),Yi=c,or=!0,to=null,p=PN(c,null,_,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ou(),_===k){c=ma(a,c,p);break e}xi(a,c,_,p)}c=c.child}return c;case 5:return $N(c),a===null&&Yb(c),_=c.type,k=c.pendingProps,A=a!==null?a.memoizedProps:null,G=k.children,Wb(_,k)?G=null:A!==null&&Wb(_,A)&&(c.flags|=32),xk(a,c),xi(a,c,G,p),c.child;case 6:return a===null&&Yb(c),null;case 13:return Ek(a,c,p);case 4:return ox(c,c.stateNode.containerInfo),_=c.pendingProps,a===null?c.child=qu(c,null,_,p):xi(a,c,_,p),c.child;case 11:return _=c.type,k=c.pendingProps,k=c.elementType===_?k:no(_,k),gk(a,c,_,k,p);case 7:return xi(a,c,c.pendingProps,p),c.child;case 8:return xi(a,c,c.pendingProps.children,p),c.child;case 12:return xi(a,c,c.pendingProps.children,p),c.child;case 10:e:{if(_=c.type._context,k=c.pendingProps,A=c.memoizedProps,G=k.value,Kn(wm,_._currentValue),_._currentValue=G,A!==null)if(eo(A.value,G)){if(A.children===k.children&&!Pi.current){c=ma(a,c,p);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var ye=A.dependencies;if(ye!==null){G=A.child;for(var Se=ye.firstContext;Se!==null;){if(Se.context===_){if(A.tag===1){Se=pa(-1,p&-p),Se.tag=2;var Ue=A.updateQueue;if(Ue!==null){Ue=Ue.shared;var pt=Ue.pending;pt===null?Se.next=Se:(Se.next=pt.next,pt.next=Se),Ue.pending=Se}}A.lanes|=p,Se=A.alternate,Se!==null&&(Se.lanes|=p),rx(A.return,p,c),ye.lanes|=p;break}Se=Se.next}}else if(A.tag===10)G=A.type===c.type?null:A.child;else if(A.tag===18){if(G=A.return,G===null)throw Error(n(341));G.lanes|=p,ye=G.alternate,ye!==null&&(ye.lanes|=p),rx(G,p,c),G=A.sibling}else G=A.child;if(G!==null)G.return=A;else for(G=A;G!==null;){if(G===c){G=null;break}if(A=G.sibling,A!==null){A.return=G.return,G=A;break}G=G.return}A=G}xi(a,c,k.children,p),c=c.child}return c;case 9:return k=c.type,_=c.pendingProps.children,Au(c,p),k=qs(k),_=_(k),c.flags|=1,xi(a,c,_,p),c.child;case 14:return _=c.type,k=no(_,c.pendingProps),k=no(_.type,k),yk(a,c,_,k,p);case 15:return vk(a,c,c.type,c.pendingProps,p);case 17:return _=c.type,k=c.pendingProps,k=c.elementType===_?k:no(_,k),jm(a,c),c.tag=1,Fi(_)?(a=!0,gm(c)):a=!1,Au(c,p),ck(c,_,k),bx(c,_,k,p),Sx(null,c,_,!0,a,p);case 19:return kk(a,c,p);case 22:return bk(a,c,p)}throw Error(n(156,c.tag))};function Zk(a,c){return yu(a,c)}function lM(a,c,p,_){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(a,c,p,_){return new lM(a,c,p,_)}function Wx(a){return a=a.prototype,!(!a||!a.isReactComponent)}function cM(a){if(typeof a=="function")return Wx(a)?1:0;if(a!=null){if(a=a.$$typeof,a===W)return 11;if(a===te)return 14}return 2}function al(a,c){var p=a.alternate;return p===null?(p=js(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&0xe00000,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Vm(a,c,p,_,k,A){var G=2;if(_=a,typeof a=="function")Wx(a)&&(G=1);else if(typeof a=="string")G=5;else e:switch(a){case B:return yc(p.children,k,A,c);case $:G=8,k|=8;break;case j:return a=js(12,p,c,k|2),a.elementType=j,a.lanes=A,a;case K:return a=js(13,p,c,k),a.elementType=K,a.lanes=A,a;case L:return a=js(19,p,c,k),a.elementType=L,a.lanes=A,a;case oe:return Hm(p,k,A,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case z:G=10;break e;case P:G=9;break e;case W:G=11;break e;case te:G=14;break e;case X:G=16,_=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=js(G,p,c,k),c.elementType=a,c.type=_,c.lanes=A,c}function yc(a,c,p,_){return a=js(7,a,_,c),a.lanes=p,a}function Hm(a,c,p,_){return a=js(22,a,_,c),a.elementType=oe,a.lanes=p,a.stateNode={isHidden:!1},a}function Ux(a,c,p){return a=js(6,a,null,c),a.lanes=p,a}function Vx(a,c,p){return c=js(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function uM(a,c,p,_,k){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=_,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Hx(a,c,p,_,k,A,G,ye,Se){return a=new uM(a,c,p,ye,Se),c===1?(c=1,A===!0&&(c|=8)):c=0,A=js(3,null,null,c),a.current=A,A.stateNode=a,A.memoizedState={element:_,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},sx(A),a}function dM(a,c,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:_==null?null:""+_,children:a,containerInfo:c,implementation:p}}function Jk(a){if(!a)return Ya;a=a._reactInternals;e:{if(Is(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Fi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var p=a.type;if(Fi(p))return NN(a,p,c)}return c}function Yk(a,c,p,_,k,A,G,ye,Se){return a=Hx(p,_,!0,a,k,A,G,ye,Se),a.context=Jk(null),p=a.current,_=_i(),k=sl(p),A=pa(_,k),A.callback=c??null,tl(p,A,k),a.current.lanes=k,ic(a,k,_),Mi(a,_),a}function Qm(a,c,p,_){var k=c.current,A=_i(),G=sl(k);return p=Jk(p),c.context===null?c.context=p:c.pendingContext=p,c=pa(A,G),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=tl(k,c,G),a!==null&&(so(a,k,G,A),Em(a,k,G)),G}function Km(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Xk(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function Qx(a,c){Xk(a,c),(a=a.alternate)&&Xk(a,c)}function fM(){return null}var eI=typeof reportError=="function"?reportError:function(a){console.error(a)};function Kx(a){this._internalRoot=a}Gm.prototype.render=Kx.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Qm(a,c,null,null)},Gm.prototype.unmount=Kx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;pc(function(){Qm(null,a,null,null)}),c[ca]=null}};function Gm(a){this._internalRoot=a}Gm.prototype.unstable_scheduleHydration=function(a){if(a){var c=sc();a={blockedOn:null,target:a,priority:c};for(var p=0;p<me.length&&c!==0&&c<me[p].priority;p++);me.splice(p,0,a),p===0&&Be(a)}};function Gx(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Zm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function tI(){}function hM(a,c,p,_,k){if(k){if(typeof _=="function"){var A=_;_=function(){var Ue=Km(G);A.call(Ue)}}var G=Yk(c,_,a,0,null,!1,!1,"",tI);return a._reactRootContainer=G,a[ca]=G.current,Tf(a.nodeType===8?a.parentNode:a),pc(),G}for(;k=a.lastChild;)a.removeChild(k);if(typeof _=="function"){var ye=_;_=function(){var Ue=Km(Se);ye.call(Ue)}}var Se=Hx(a,0,!1,null,null,!1,!1,"",tI);return a._reactRootContainer=Se,a[ca]=Se.current,Tf(a.nodeType===8?a.parentNode:a),pc(function(){Qm(c,Se,p,_)}),Se}function Jm(a,c,p,_,k){var A=p._reactRootContainer;if(A){var G=A;if(typeof k=="function"){var ye=k;k=function(){var Se=Km(G);ye.call(Se)}}Qm(c,G,a,k)}else G=hM(p,c,a,k,_);return Km(G)}bf=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var p=bi(c.pendingLanes);p!==0&&(vf(c,p|1),Mi(c,tr()),!(kn&6)&&(Lu=tr()+500,Xa()))}break;case 13:pc(function(){var _=ha(a,1);if(_!==null){var k=_i();so(_,a,1,k)}}),Qx(a,1)}},pe=function(a){if(a.tag===13){var c=ha(a,0x8000000);if(c!==null){var p=_i();so(c,a,0x8000000,p)}Qx(a,0x8000000)}},xf=function(a){if(a.tag===13){var c=sl(a),p=ha(a,c);if(p!==null){var _=_i();so(p,a,c,_)}Qx(a,c)}},sc=function(){return Rn},_f=function(a,c){var p=Rn;try{return Rn=a,c()}finally{Rn=p}},Yl=function(a,c,p){switch(c){case"input":if(ln(a,p),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var _=p[c];if(_!==a&&_.form===a.form){var k=pm(_);if(!k)throw Error(n(90));Ve(_),ln(_,k)}}}break;case"textarea":$e(a,p);break;case"select":c=p.value,c!=null&&De(a,!!p.multiple,c,!1)}},uu=$x,du=pc;var pM={usingClientEntryPoint:!1,Events:[Rf,Nu,pm,sn,cu,$x]},Hf={findFiberByHostInstance:oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mM={bundleType:Hf.bundleType,version:Hf.version,rendererPackageName:Hf.rendererPackageName,rendererConfig:Hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=mu(a),a===null?null:a.stateNode},findFiberByHostInstance:Hf.findFiberByHostInstance||fM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ym.isDisabled&&Ym.supportsFiber)try{Ha=Ym.inject(mM),ji=Ym}catch{}}return $i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pM,$i.createPortal=function(a,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gx(c))throw Error(n(200));return dM(a,c,null,p)},$i.createRoot=function(a,c){if(!Gx(a))throw Error(n(299));var p=!1,_="",k=eI;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=Hx(a,1,!1,null,null,p,!1,_,k),a[ca]=c.current,Tf(a.nodeType===8?a.parentNode:a),new Kx(c)},$i.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=mu(c),a=a===null?null:a.stateNode,a},$i.flushSync=function(a){return pc(a)},$i.hydrate=function(a,c,p){if(!Zm(c))throw Error(n(200));return Jm(null,a,c,!0,p)},$i.hydrateRoot=function(a,c,p){if(!Gx(a))throw Error(n(405));var _=p!=null&&p.hydratedSources||null,k=!1,A="",G=eI;if(p!=null&&(p.unstable_strictMode===!0&&(k=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onRecoverableError!==void 0&&(G=p.onRecoverableError)),c=Yk(c,null,a,1,p??null,k,!1,A,G),a[ca]=c.current,Tf(a),_)for(a=0;a<_.length;a++)p=_[a],k=p._getVersion,k=k(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,k]:c.mutableSourceEagerHydrationData.push(p,k);return new Gm(c)},$i.render=function(a,c,p){if(!Zm(c))throw Error(n(200));return Jm(null,a,c,!1,p)},$i.unmountComponentAtNode=function(a){if(!Zm(a))throw Error(n(40));return a._reactRootContainer?(pc(function(){Jm(null,null,a,!1,function(){a._reactRootContainer=null,a[ca]=null})}),!0):!1},$i.unstable_batchedUpdates=$x,$i.unstable_renderSubtreeIntoContainer=function(a,c,p,_){if(!Zm(p))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Jm(a,c,p,!1,_)},$i.version="18.3.1-next-f1338f8080-20240426",$i}var AI;function TR(){if(AI)return a_.exports;AI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a_.exports=G4(),a_.exports}var Ev=TR();const Z4="Error preloading route! ☝️";function J4(t,e){const n=Io(),[r,i]=U.useState(!1),s=U.useRef(!1),o=w4(e),{activeProps:l=()=>({className:"active"}),inactiveProps:u=()=>({}),activeOptions:d,to:f,preload:h,preloadDelay:b,hashScrollIntoView:x,replace:w,startTransition:E,resetScroll:I,viewTransition:q,children:O,target:T,disabled:R,style:D,className:F,onClick:B,onFocus:$,onMouseEnter:j,onMouseLeave:z,onTouchStart:P,ignoreBlocker:W,...K}=t,{params:L,search:te,hash:X,state:oe,mask:re,reloadDocument:ne,...ae}=K,Z=U.useMemo(()=>{try{return new URL(`${f}`),"external"}catch{}return"internal"},[f]),ue=Ii({select:Ie=>Ie.location.search,structuralSharing:!0});t={from:Fl({strict:!1,select:Ie=>Ie.pathname}),...t};const ge=U.useMemo(()=>n.buildLocation(t),[n,t,ue]),_e=U.useMemo(()=>t.reloadDocument?!1:h??n.options.defaultPreload,[n.options.defaultPreload,h,t.reloadDocument]),Ne=b??n.options.defaultPreloadDelay??0,Pe=Ii({select:Ie=>{if(d?.exact){if(!E4(Ie.location.pathname,ge.pathname,n.basepath))return!1}else{const De=my(Ie.location.pathname,n.basepath).split("/");if(!my(ge.pathname,n.basepath).split("/").every(($e,ut)=>$e===De[ut]))return!1}return(d?.includeSearch??!0)&&!ld(Ie.location.search,ge.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?Ie.location.hash===ge.hash:!0}}),Re=U.useCallback(()=>{n.preloadRoute(t).catch(Ie=>{console.warn(Ie),console.warn(Z4)})},[t,n]),Xe=U.useCallback(Ie=>{Ie?.isIntersecting&&Re()},[Re]);if(_4(o,Xe,{rootMargin:"100px"},{disabled:!!R||_e!=="viewport"}),ah(()=>{s.current||!R&&_e==="render"&&(Re(),s.current=!0)},[R,Re,_e]),Z==="external")return{...ae,ref:o,type:Z,href:f,...O&&{children:O},...T&&{target:T},...R&&{disabled:R},...D&&{style:D},...F&&{className:F},...B&&{onClick:B},...$&&{onFocus:$},...j&&{onMouseEnter:j},...z&&{onMouseLeave:z},...P&&{onTouchStart:P}};const et=Ie=>{if(!R&&!X4(Ie)&&!Ie.defaultPrevented&&(!T||T==="_self")&&Ie.button===0){Ie.preventDefault(),Ev.flushSync(()=>{i(!0)});const De=n.subscribe("onResolved",()=>{De(),i(!1)});return n.navigate({...t,replace:w,resetScroll:I,hashScrollIntoView:x,startTransition:E,viewTransition:q,ignoreBlocker:W})}},nt=Ie=>{R||_e&&Re()},Ve=nt,ot=Ie=>{if(R)return;const De=Ie.target||{};if(_e){if(De.preloadTimeout)return;De.preloadTimeout=setTimeout(()=>{De.preloadTimeout=null,Re()},Ne)}},kt=Ie=>{if(R)return;const De=Ie.target||{};De.preloadTimeout&&(clearTimeout(De.preloadTimeout),De.preloadTimeout=null)},At=Ie=>De=>{var We;(We=De.persist)==null||We.call(De),Ie.filter(Boolean).forEach(rt=>{De.defaultPrevented||rt(De)})},Gt=Pe?Tc(l,{})??{}:{},ln=Pe?{}:Tc(u,{}),ve=[F,Gt.className,ln.className].filter(Boolean).join(" "),be={...D,...Gt.style,...ln.style};return{...ae,...Gt,...ln,href:R?void 0:ge.maskedLocation?n.history.createHref(ge.maskedLocation.href):n.history.createHref(ge.href),ref:o,onClick:At([B,et]),onFocus:At([$,nt]),onMouseEnter:At([j,ot]),onMouseLeave:At([z,kt]),onTouchStart:At([P,Ve]),disabled:!!R,target:T,...Object.keys(be).length&&{style:be},...ve&&{className:ve},...R&&{role:"link","aria-disabled":!0},...Pe&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function OR(t){return U.forwardRef(function(n,r){return m.jsx(Y4,{...n,_asChild:t,ref:r})})}const Y4=U.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:s,...o}=J4(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,U.createElement(n||"a",{...o,ref:s},l)});function X4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function e$(){const t=Io(),e=U.useRef({router:t,mounted:!1}),n=Ii({select:({isLoading:h})=>h}),[r,i]=U.useState(!1),s=Ii({select:h=>h.matches.some(b=>b.status==="pending"),structuralSharing:!0}),o=i_(n),l=n||r||s,u=i_(l),d=n||s,f=i_(d);return t.isServer||(t.startReactTransition=h=>{i(!0),U.startTransition(()=>{h(),i(!1)})}),U.useEffect(()=>{const h=t.history.subscribe(t.load),b=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Oc(t.latestLocation.href)!==Oc(b.href)&&t.commitLocation({...b,replace:!0}),()=>{h()}},[t,t.history]),ah(()=>{var h;if(typeof window<"u"&&((h=window.__TSR__)!=null&&h.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),ah(()=>{if(o&&!n){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,w=b.href!==h.href;t.emit({type:"onLoad",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:w})}},[o,t,n]),ah(()=>{if(f&&!d){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,w=b.href!==h.href;t.emit({type:"onBeforeRouteMount",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:w})}},[d,f,t]),ah(()=>{if(u&&!l){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,w=b.href!==h.href;if(t.emit({type:"onResolved",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:w}),t.__store.setState(E=>({...E,status:"idle",resolvedLocation:E.location})),typeof document<"u"&&document.querySelector){const E=t.state.location.state.__hashScrollIntoViewOptions??!0;if(E&&t.state.location.hash!==""){const I=document.getElementById(t.state.location.hash);I&&I.scrollIntoView(E)}}}},[l,u,t]),null}function t$(){const t=Io(),e=t.options.defaultPendingComponent?m.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?Ag:U.Suspense,r=m.jsxs(n,{fallback:e,children:[m.jsx(e$,{}),m.jsx(n$,{})]});return t.options.InnerWrap?m.jsx(t.options.InnerWrap,{children:r}):r}function n$(){const t=Ii({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=Ii({select:n=>n.loadedAt});return m.jsx(Sv.Provider,{value:t,children:m.jsx(mE,{getResetKey:()=>e,errorComponent:wv,onCatch:n=>{n.message||n.toString()},children:t?m.jsx(CR,{matchId:t}):null})})}function r$(){const t=Io();return Ii({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),U.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s,...o}=e;return t.matchRoute(o,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s})},[t])}function i$({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=SR(),i=m.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?m.jsx(t.options.Wrap,{children:i}):i}function s$({router:t,...e}){return m.jsx(i$,{router:t,...e,children:m.jsx(t$,{})})}const o$=typeof window<"u"?U.useLayoutEffect:U.useEffect,u_="window",jI="___";let d_=new WeakSet;const a$=typeof window<"u"&&window.sessionStorage,co=a$?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{co.state=Tc(n,co.state),window.sessionStorage.setItem(t,JSON.stringify(co.state))}}})():void 0,l$=t=>t.state.key||t.href;function c$(t){const e=Io();o$(()=>{const n=t?.getKey||l$,{history:r}=window;r.scrollRestoration="manual";const i=l=>{if(d_.has(l.target))return;d_.add(l.target);let u="";if(l.target===document||l.target===window)u=u_;else{const d=l.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=d$(l.target)}co.state.next[u]||co.set(d=>({...d,next:{...d.next,[u]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const s=e.subscribe("onBeforeLoad",l=>{if(l.hrefChanged){const u=n(l.fromLocation);for(const d in co.state.next){const f=co.state.next[d];if(d===u_)f.scrollX=window.scrollX||0,f.scrollY=window.scrollY||0;else if(d){const h=document.querySelector(d);f.scrollX=h?.scrollLeft||0,f.scrollY=h?.scrollTop||0}co.set(h=>{const b={...h.next};return delete b[d],{...h,next:b,cached:{...h.cached,[[u,d].join(jI)]:f}}})}}}),o=e.subscribe("onBeforeRouteMount",l=>{if(l.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const u=n(l.toLocation);let d=!1;for(const f in co.state.cached){const h=co.state.cached[f],[b,x]=f.split(jI);if(b===u){if(x===u_)d=!0,window.scrollTo(h.scrollX,h.scrollY);else if(x){const w=document.querySelector(x);w&&(w.scrollLeft=h.scrollX,w.scrollTop=h.scrollY)}}}d||window.scrollTo(0,0),co.set(f=>({...f,next:{}})),d_=new WeakSet}});return()=>{document.removeEventListener("scroll",i),s(),o()}},[t?.getKey,e])}function u$(t){return c$(t),null}function d$(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function yi(t){return Fl({...t,select:e=>t.select?t.select(e.context):e.context})}let f$={data:""},h$=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||f$,p$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,m$=/\/\*[^]*?\*\/|  +/g,PI=/\n+/g,xl=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?xl(o,s):s+"{"+xl(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=xl(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=xl.p?xl.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ya={},qR=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+qR(t[n]);return e}return t},g$=(t,e,n,r,i)=>{let s=qR(t),o=ya[s]||(ya[s]=(u=>{let d=0,f=11;for(;d<u.length;)f=101*f+u.charCodeAt(d++)>>>0;return"go"+f})(s));if(!ya[o]){let u=s!==t?t:(d=>{let f,h,b=[{}];for(;f=p$.exec(d.replace(m$,""));)f[4]?b.shift():f[3]?(h=f[3].replace(PI," ").trim(),b.unshift(b[0][h]=b[0][h]||{})):b[0][f[1]]=f[2].replace(PI," ").trim();return b[0]})(t);ya[o]=xl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&ya.g?ya.g:null;return n&&(ya.g=ya[o]),((u,d,f,h)=>{h?d.data=d.data.replace(h,u):d.data.indexOf(u)===-1&&(d.data=f?u+d.data:d.data+u)})(ya[o],e,r,l),o},y$=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":xl(l,""):l===!1?"":l}return r+i+(o??"")},"");function Nv(t){let e=this||{},n=t.call?t(e.p):t;return g$(n.unshift?n.raw?y$(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,h$(e.target),e.g,e.o,e.k)}let RR,Q0,K0;Nv.bind({g:1});let ja=Nv.bind({k:1});function v$(t,e,n,r){xl.p=e,RR=t,Q0=n,K0=r}function Gl(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),u=l.className||i.className;n.p=Object.assign({theme:Q0&&Q0()},l),n.o=/ *go\d+/.test(u),l.className=Nv.apply(n,r)+(u?" "+u:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),K0&&d[0]&&K0(l),RR(d,l)}return i}}var b$=t=>typeof t=="function",yy=(t,e)=>b$(t)?t(e):t,x$=(()=>{let t=0;return()=>(++t).toString()})(),AR=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),_$=20,jg=new Map,w$=1e3,FI=t=>{if(jg.has(t))return;let e=setTimeout(()=>{jg.delete(t),tu({type:4,toastId:t})},w$);jg.set(t,e)},S$=t=>{let e=jg.get(t);e&&clearTimeout(e)},G0=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,_$)};case 1:return e.toast.id&&S$(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?G0(t,{type:1,toast:n}):G0(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?FI(r):t.toasts.forEach(s=>{FI(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Pg=[],Fg={toasts:[],pausedAt:void 0},tu=t=>{Fg=G0(Fg,t),Pg.forEach(e=>{e(Fg)})},E$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},N$=(t={})=>{let[e,n]=U.useState(Fg);U.useEffect(()=>(Pg.push(n),()=>{let i=Pg.indexOf(n);i>-1&&Pg.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||t?.duration||E$[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},k$=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||x$()}),Np=t=>(e,n)=>{let r=k$(e,t,n);return tu({type:2,toast:r}),r.id},un=(t,e)=>Np("blank")(t,e);un.error=Np("error");un.success=Np("success");un.loading=Np("loading");un.custom=Np("custom");un.dismiss=t=>{tu({type:3,toastId:t})};un.remove=t=>tu({type:4,toastId:t});un.promise=(t,e,n)=>{let r=un.loading(e.loading,{...n,...n?.loading});return t.then(i=>(un.success(yy(e.success,i),{id:r,...n,...n?.success}),i)).catch(i=>{un.error(yy(e.error,i),{id:r,...n,...n?.error})}),t};var I$=(t,e)=>{tu({type:1,toast:{id:t,height:e}})},C$=()=>{tu({type:5,time:Date.now()})},T$=t=>{let{toasts:e,pausedAt:n}=N$(t);U.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(u<0){l.visible&&un.dismiss(l.id);return}return setTimeout(()=>un.dismiss(l.id),u)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=U.useCallback(()=>{n&&tu({type:6,time:Date.now()})},[n]),i=U.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:d}=o||{},f=e.filter(x=>(x.position||d)===(s.position||d)&&x.height),h=f.findIndex(x=>x.id===s.id),b=f.filter((x,w)=>w<h&&x.visible).length;return f.filter(x=>x.visible).slice(...l?[b+1]:[0,b]).reduce((x,w)=>x+(w.height||0)+u,0)},[e]);return{toasts:e,handlers:{updateHeight:I$,startPause:C$,endPause:r,calculateOffset:i}}},O$=ja`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,q$=ja`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R$=ja`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,A$=Gl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${q$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${R$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,j$=ja`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,P$=Gl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${j$} 1s linear infinite;
`,F$=ja`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,D$=ja`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L$=Gl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${F$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${D$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,M$=Gl("div")`
  position: absolute;
`,$$=Gl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,B$=ja`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,z$=Gl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${B$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,W$=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?U.createElement(z$,null,e):e:n==="blank"?null:U.createElement($$,null,U.createElement(P$,{...r}),n!=="loading"&&U.createElement(M$,null,n==="error"?U.createElement(A$,{...r}):U.createElement(L$,{...r})))},U$=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,V$=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,H$="0%{opacity:0;} 100%{opacity:1;}",Q$="0%{opacity:1;} 100%{opacity:0;}",K$=Gl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,G$=Gl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Z$=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=AR()?[H$,Q$]:[U$(n),V$(n)];return{animation:e?`${ja(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ja(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},J$=U.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Z$(t.position||e||"top-center",t.visible):{opacity:0},s=U.createElement(W$,{toast:t}),o=U.createElement(G$,{...t.ariaProps},yy(t.message,t));return U.createElement(K$,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):U.createElement(U.Fragment,null,s,o))});v$(U.createElement);var Y$=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=U.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(t,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return U.createElement("div",{ref:s,className:e,style:n},i)},X$=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:AR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},eB=Nv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ng=16,tB=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:u}=T$(n);return U.createElement("div",{style:{position:"fixed",zIndex:9999,top:ng,left:ng,right:ng,bottom:ng,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let f=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),b=X$(f,h);return U.createElement(Y$,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?eB:"",style:b},d.type==="custom"?yy(d.message,d):i?i(d):U.createElement(J$,{toast:d,position:f}))}))},nB=un;class nu extends Error{}class rB extends nu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class iB extends nu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class sB extends nu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Xu extends nu{}class jR extends nu{constructor(e){super(`Invalid unit ${e}`)}}class di extends nu{}class cl extends nu{constructor(){super("Zone is an abstract class")}}const Ct="numeric",wo="short",ds="long",vy={year:Ct,month:Ct,day:Ct},PR={year:Ct,month:wo,day:Ct},oB={year:Ct,month:wo,day:Ct,weekday:wo},FR={year:Ct,month:ds,day:Ct},DR={year:Ct,month:ds,day:Ct,weekday:ds},LR={hour:Ct,minute:Ct},MR={hour:Ct,minute:Ct,second:Ct},$R={hour:Ct,minute:Ct,second:Ct,timeZoneName:wo},BR={hour:Ct,minute:Ct,second:Ct,timeZoneName:ds},zR={hour:Ct,minute:Ct,hourCycle:"h23"},WR={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23"},UR={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:wo},VR={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:ds},HR={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct},QR={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct,second:Ct},KR={year:Ct,month:wo,day:Ct,hour:Ct,minute:Ct},GR={year:Ct,month:wo,day:Ct,hour:Ct,minute:Ct,second:Ct},aB={year:Ct,month:wo,day:Ct,weekday:wo,hour:Ct,minute:Ct},ZR={year:Ct,month:ds,day:Ct,hour:Ct,minute:Ct,timeZoneName:wo},JR={year:Ct,month:ds,day:Ct,hour:Ct,minute:Ct,second:Ct,timeZoneName:wo},YR={year:Ct,month:ds,day:Ct,weekday:ds,hour:Ct,minute:Ct,timeZoneName:ds},XR={year:Ct,month:ds,day:Ct,weekday:ds,hour:Ct,minute:Ct,second:Ct,timeZoneName:ds};class kp{get type(){throw new cl}get name(){throw new cl}get ianaName(){return this.name}get isUniversal(){throw new cl}offsetName(e,n){throw new cl}formatOffset(e,n){throw new cl}offset(e){throw new cl}equals(e){throw new cl}get isValid(){throw new cl}}let f_=null;class kv extends kp{static get instance(){return f_===null&&(f_=new kv),f_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return lA(e,n,r)}formatOffset(e,n){return _h(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Dg={};function lB(t){return Dg[t]||(Dg[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Dg[t]}const cB={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function uB(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,l,u,d,f]=r;return[o,i,s,l,u,d,f]}function dB(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=cB[s];s==="era"?r[l]=o:an(l)||(r[l]=parseInt(o,10))}return r}let rg={};class Pa extends kp{static create(e){return rg[e]||(rg[e]=new Pa(e)),rg[e]}static resetCache(){rg={},Dg={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Pa.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return lA(e,n,r,this.name)}formatOffset(e,n){return _h(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=lB(this.name);let[i,s,o,l,u,d,f]=r.formatToParts?dB(r,n):uB(r,n);l==="BC"&&(i=-Math.abs(i)+1);const b=Cv({year:i,month:s,day:o,hour:u===24?0:u,minute:d,second:f,millisecond:0});let x=+n;const w=x%1e3;return x-=w>=0?w:1e3+w,(b-x)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let DI={};function fB(t,e={}){const n=JSON.stringify([t,e]);let r=DI[n];return r||(r=new Intl.ListFormat(t,e),DI[n]=r),r}let Z0={};function J0(t,e={}){const n=JSON.stringify([t,e]);let r=Z0[n];return r||(r=new Intl.DateTimeFormat(t,e),Z0[n]=r),r}let Y0={};function hB(t,e={}){const n=JSON.stringify([t,e]);let r=Y0[n];return r||(r=new Intl.NumberFormat(t,e),Y0[n]=r),r}let X0={};function pB(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=X0[i];return s||(s=new Intl.RelativeTimeFormat(t,e),X0[i]=s),s}let lh=null;function mB(){return lh||(lh=new Intl.DateTimeFormat().resolvedOptions().locale,lh)}let LI={};function gB(t){let e=LI[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,LI[t]=e}return e}function yB(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=J0(t).resolvedOptions(),i=t}catch{const u=t.substring(0,n);r=J0(u).resolvedOptions(),i=u}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function vB(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function bB(t){const e=[];for(let n=1;n<=12;n++){const r=on.utc(2009,n,1);e.push(t(r))}return e}function xB(t){const e=[];for(let n=1;n<=7;n++){const r=on.utc(2016,11,13+n);e.push(t(r))}return e}function ig(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function _B(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class wB{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=hB(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):xE(e,3);return jr(n,this.padTo)}}}class SB{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Pa.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=J0(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class EB{constructor(e,n,r){this.opts={style:"long",...r},!n&&oA()&&(this.rtf=pB(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):QB(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const NB={firstDay:1,minimalDays:4,weekend:[6,7]};class Ln{static fromOpts(e){return Ln.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const o=e||wr.defaultLocale,l=o||(s?"en-US":mB()),u=n||wr.defaultNumberingSystem,d=r||wr.defaultOutputCalendar,f=eS(i)||wr.defaultWeekSettings;return new Ln(l,u,d,f,o)}static resetCache(){lh=null,Z0={},Y0={},X0={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Ln.create(e,n,r,i)}constructor(e,n,r,i,s){const[o,l,u]=yB(e);this.locale=o,this.numberingSystem=n||l||null,this.outputCalendar=r||u||null,this.weekSettings=i,this.intl=vB(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=_B(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ln.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,eS(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return ig(this,e,dA,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=bB(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return ig(this,e,pA,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=xB(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return ig(this,void 0,()=>mA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[on.utc(2016,11,13,9),on.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return ig(this,e,gA,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[on.utc(-40,1,1),on.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new wB(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new SB(e,this.intl,n)}relFormatter(e={}){return new EB(this.intl,this.isEnglish(),e)}listFormatter(e={}){return fB(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:aA()?gB(this.locale):NB}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let h_=null;class ki extends kp{static get utcInstance(){return h_===null&&(h_=new ki(0)),h_}static instance(e){return e===0?ki.utcInstance:new ki(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ki(Tv(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${_h(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${_h(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return _h(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class kB extends kp{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function _l(t,e){if(an(t)||t===null)return e;if(t instanceof kp)return t;if(RB(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?kv.instance:n==="utc"||n==="gmt"?ki.utcInstance:ki.parseSpecifier(n)||Pa.create(t)}else return Tl(t)?ki.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new kB(t)}const gE={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},MI={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},IB=gE.hanidec.replace(/[\[|\]]/g,"").split("");function CB(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(gE.hanidec)!==-1)e+=IB.indexOf(t[n]);else for(const i in MI){const[s,o]=MI[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}let Gu={};function TB(){Gu={}}function oo({numberingSystem:t},e=""){const n=t||"latn";return Gu[n]||(Gu[n]={}),Gu[n][e]||(Gu[n][e]=new RegExp(`${gE[n]}${e}`)),Gu[n][e]}let $I=()=>Date.now(),BI="system",zI=null,WI=null,UI=null,VI=60,HI,QI=null;class wr{static get now(){return $I}static set now(e){$I=e}static set defaultZone(e){BI=e}static get defaultZone(){return _l(BI,kv.instance)}static get defaultLocale(){return zI}static set defaultLocale(e){zI=e}static get defaultNumberingSystem(){return WI}static set defaultNumberingSystem(e){WI=e}static get defaultOutputCalendar(){return UI}static set defaultOutputCalendar(e){UI=e}static get defaultWeekSettings(){return QI}static set defaultWeekSettings(e){QI=eS(e)}static get twoDigitCutoffYear(){return VI}static set twoDigitCutoffYear(e){VI=e%100}static get throwOnInvalid(){return HI}static set throwOnInvalid(e){HI=e}static resetCaches(){Ln.resetCache(),Pa.resetCache(),on.resetCache(),TB()}}class yo{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const eA=[0,31,59,90,120,151,181,212,243,273,304,334],tA=[0,31,60,91,121,152,182,213,244,274,305,335];function Bs(t,e){return new yo("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function yE(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function nA(t,e,n){return n+(Ip(t)?tA:eA)[e-1]}function rA(t,e){const n=Ip(t)?tA:eA,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function vE(t,e){return(t-e+7)%7+1}function by(t,e=4,n=1){const{year:r,month:i,day:s}=t,o=nA(r,i,s),l=vE(yE(r,i,s),n);let u=Math.floor((o-l+14-e)/7),d;return u<1?(d=r-1,u=Fh(d,e,n)):u>Fh(r,e,n)?(d=r+1,u=1):d=r,{weekYear:d,weekNumber:u,weekday:l,...Ov(t)}}function KI(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,o=vE(yE(r,1,e),n),l=cd(r);let u=i*7+s-o-7+e,d;u<1?(d=r-1,u+=cd(d)):u>l?(d=r+1,u-=cd(r)):d=r;const{month:f,day:h}=rA(d,u);return{year:d,month:f,day:h,...Ov(t)}}function p_(t){const{year:e,month:n,day:r}=t,i=nA(e,n,r);return{year:e,ordinal:i,...Ov(t)}}function GI(t){const{year:e,ordinal:n}=t,{month:r,day:i}=rA(e,n);return{year:e,month:r,day:i,...Ov(t)}}function ZI(t,e){if(!an(t.localWeekday)||!an(t.localWeekNumber)||!an(t.localWeekYear)){if(!an(t.weekday)||!an(t.weekNumber)||!an(t.weekYear))throw new Xu("Cannot mix locale-based week fields with ISO-based week fields");return an(t.localWeekday)||(t.weekday=t.localWeekday),an(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),an(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function OB(t,e=4,n=1){const r=Iv(t.weekYear),i=zs(t.weekNumber,1,Fh(t.weekYear,e,n)),s=zs(t.weekday,1,7);return r?i?s?!1:Bs("weekday",t.weekday):Bs("week",t.weekNumber):Bs("weekYear",t.weekYear)}function qB(t){const e=Iv(t.year),n=zs(t.ordinal,1,cd(t.year));return e?n?!1:Bs("ordinal",t.ordinal):Bs("year",t.year)}function iA(t){const e=Iv(t.year),n=zs(t.month,1,12),r=zs(t.day,1,xy(t.year,t.month));return e?n?r?!1:Bs("day",t.day):Bs("month",t.month):Bs("year",t.year)}function sA(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=zs(e,0,23)||e===24&&n===0&&r===0&&i===0,o=zs(n,0,59),l=zs(r,0,59),u=zs(i,0,999);return s?o?l?u?!1:Bs("millisecond",i):Bs("second",r):Bs("minute",n):Bs("hour",e)}function an(t){return typeof t>"u"}function Tl(t){return typeof t=="number"}function Iv(t){return typeof t=="number"&&t%1===0}function RB(t){return typeof t=="string"}function AB(t){return Object.prototype.toString.call(t)==="[object Date]"}function oA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function aA(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function jB(t){return Array.isArray(t)?t:[t]}function JI(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function PB(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Id(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function eS(t){if(t==null)return null;if(typeof t!="object")throw new di("Week settings must be an object");if(!zs(t.firstDay,1,7)||!zs(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!zs(e,1,7)))throw new di("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function zs(t,e,n){return Iv(t)&&t>=e&&t<=n}function FB(t,e){return t-e*Math.floor(t/e)}function jr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function yl(t){if(!(an(t)||t===null||t===""))return parseInt(t,10)}function vc(t){if(!(an(t)||t===null||t===""))return parseFloat(t)}function bE(t){if(!(an(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function xE(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Ip(t){return t%4===0&&(t%100!==0||t%400===0)}function cd(t){return Ip(t)?366:365}function xy(t,e){const n=FB(e-1,12)+1,r=t+(e-n)/12;return n===2?Ip(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Cv(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function YI(t,e,n){return-vE(yE(t,1,e),n)+e-1}function Fh(t,e=4,n=1){const r=YI(t,e,n),i=YI(t+1,e,n);return(cd(t)-r+i)/7}function tS(t){return t>99?t:t>wr.twoDigitCutoffYear?1900+t:2e3+t}function lA(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}function Tv(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function cA(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new di(`Invalid unit value ${t}`);return e}function _y(t,e){const n={};for(const r in t)if(Id(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=cA(i)}return n}function _h(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${jr(n,2)}:${jr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${jr(n,2)}${jr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Ov(t){return PB(t,["hour","minute","second","millisecond"])}const DB=["January","February","March","April","May","June","July","August","September","October","November","December"],uA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],LB=["J","F","M","A","M","J","J","A","S","O","N","D"];function dA(t){switch(t){case"narrow":return[...LB];case"short":return[...uA];case"long":return[...DB];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const fA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],MB=["M","T","W","T","F","S","S"];function pA(t){switch(t){case"narrow":return[...MB];case"short":return[...hA];case"long":return[...fA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const mA=["AM","PM"],$B=["Before Christ","Anno Domini"],BB=["BC","AD"],zB=["B","A"];function gA(t){switch(t){case"narrow":return[...zB];case"short":return[...BB];case"long":return[...$B];default:return null}}function WB(t){return mA[t.hour<12?0:1]}function UB(t,e){return pA(e)[t.weekday-1]}function VB(t,e){return dA(e)[t.month-1]}function HB(t,e){return gA(e)[t.year<0?0:1]}function QB(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${i[t][0]}`;case-1:return h?"yesterday":`last ${i[t][0]}`;case 0:return h?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),u=l===1,d=i[t],f=r?u?d[1]:d[2]||d[1]:u?i[t][0]:t;return o?`${l} ${f} ago`:`in ${l} ${f}`}function XI(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const KB={D:vy,DD:PR,DDD:FR,DDDD:DR,t:LR,tt:MR,ttt:$R,tttt:BR,T:zR,TT:WR,TTT:UR,TTTT:VR,f:HR,ff:KR,fff:ZR,ffff:YR,F:QR,FF:GR,FFF:JR,FFFF:XR};class hi{static create(e,n={}){return new hi(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return KB[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return jr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(x,w)=>this.loc.extract(e,x,w),o=x=>e.isOffsetFixed&&e.offset===0&&x.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,x.format):"",l=()=>r?WB(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(x,w)=>r?VB(e,x):s(w?{month:x}:{month:x,day:"numeric"},"month"),d=(x,w)=>r?UB(e,x):s(w?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),f=x=>{const w=hi.macroTokenToFormatOpts(x);return w?this.formatWithSystemDefault(e,w):x},h=x=>r?HB(e,x):s({era:x},"era"),b=x=>{switch(x){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(x)}};return XI(hi.parseFormat(n),b)}formatDurationFromString(e,n){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>d=>{const f=r(d);return f?this.num(u.get(f),d.length):d},s=hi.parseFormat(n),o=s.reduce((u,{literal:d,val:f})=>d?u:u.concat(f),[]),l=e.shiftTo(...o.map(r).filter(u=>u));return XI(s,i(l))}}const yA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ud(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Vd(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,u]=s(e,i);return[{...n,...o},l||r,u]},[{},null,1]).slice(0,2)}function Hd(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function vA(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=yl(e[n+i]);return[r,null,n+i]}}const bA=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,GB=`(?:${bA.source}?(?:\\[(${yA.source})\\])?)?`,_E=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,xA=RegExp(`${_E.source}${GB}`),wE=RegExp(`(?:T${xA.source})?`),ZB=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,JB=/(\d{4})-?W(\d\d)(?:-?(\d))?/,YB=/(\d{4})-?(\d{3})/,XB=vA("weekYear","weekNumber","weekDay"),ez=vA("year","ordinal"),tz=/(\d{4})-(\d\d)-(\d\d)/,_A=RegExp(`${_E.source} ?(?:${bA.source}|(${yA.source}))?`),nz=RegExp(`(?: ${_A.source})?`);function ud(t,e,n){const r=t[e];return an(r)?n:yl(r)}function rz(t,e){return[{year:ud(t,e),month:ud(t,e+1,1),day:ud(t,e+2,1)},null,e+3]}function Qd(t,e){return[{hours:ud(t,e,0),minutes:ud(t,e+1,0),seconds:ud(t,e+2,0),milliseconds:bE(t[e+3])},null,e+4]}function Cp(t,e){const n=!t[e]&&!t[e+1],r=Tv(t[e+1],t[e+2]),i=n?null:ki.instance(r);return[{},i,e+3]}function Tp(t,e){const n=t[e]?Pa.create(t[e]):null;return[{},n,e+1]}const iz=RegExp(`^T?${_E.source}$`),sz=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function oz(t){const[e,n,r,i,s,o,l,u,d]=t,f=e[0]==="-",h=u&&u[0]==="-",b=(x,w=!1)=>x!==void 0&&(w||x&&f)?-x:x;return[{years:b(vc(n)),months:b(vc(r)),weeks:b(vc(i)),days:b(vc(s)),hours:b(vc(o)),minutes:b(vc(l)),seconds:b(vc(u),u==="-0"),milliseconds:b(bE(d),h)}]}const az={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function SE(t,e,n,r,i,s,o){const l={year:e.length===2?tS(yl(e)):yl(e),month:uA.indexOf(n)+1,day:yl(r),hour:yl(i),minute:yl(s)};return o&&(l.second=yl(o)),t&&(l.weekday=t.length>3?fA.indexOf(t)+1:hA.indexOf(t)+1),l}const lz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function cz(t){const[,e,n,r,i,s,o,l,u,d,f,h]=t,b=SE(e,i,r,n,s,o,l);let x;return u?x=az[u]:d?x=0:x=Tv(f,h),[b,new ki(x)]}function uz(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const dz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,fz=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,hz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function eC(t){const[,e,n,r,i,s,o,l]=t;return[SE(e,i,r,n,s,o,l),ki.utcInstance]}function pz(t){const[,e,n,r,i,s,o,l]=t;return[SE(e,l,n,r,i,s,o),ki.utcInstance]}const mz=Ud(ZB,wE),gz=Ud(JB,wE),yz=Ud(YB,wE),vz=Ud(xA),wA=Vd(rz,Qd,Cp,Tp),bz=Vd(XB,Qd,Cp,Tp),xz=Vd(ez,Qd,Cp,Tp),_z=Vd(Qd,Cp,Tp);function wz(t){return Hd(t,[mz,wA],[gz,bz],[yz,xz],[vz,_z])}function Sz(t){return Hd(uz(t),[lz,cz])}function Ez(t){return Hd(t,[dz,eC],[fz,eC],[hz,pz])}function Nz(t){return Hd(t,[sz,oz])}const kz=Vd(Qd);function Iz(t){return Hd(t,[iz,kz])}const Cz=Ud(tz,nz),Tz=Ud(_A),Oz=Vd(Qd,Cp,Tp);function qz(t){return Hd(t,[Cz,wA],[Tz,Oz])}const tC="Invalid Duration",SA={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Rz={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...SA},Ps=146097/400,$u=146097/4800,Az={years:{quarters:4,months:12,weeks:Ps/7,days:Ps,hours:Ps*24,minutes:Ps*24*60,seconds:Ps*24*60*60,milliseconds:Ps*24*60*60*1e3},quarters:{months:3,weeks:Ps/28,days:Ps/4,hours:Ps*24/4,minutes:Ps*24*60/4,seconds:Ps*24*60*60/4,milliseconds:Ps*24*60*60*1e3/4},months:{weeks:$u/7,days:$u,hours:$u*24,minutes:$u*24*60,seconds:$u*24*60*60,milliseconds:$u*24*60*60*1e3},...SA},qc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],jz=qc.slice(0).reverse();function ul(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new In(r)}function EA(t,e){let n=e.milliseconds??0;for(const r of jz.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function nC(t,e){const n=EA(t,e)<0?-1:1;qc.reduceRight((r,i)=>{if(an(e[i]))return r;if(r){const s=e[r]*n,o=t[i][r],l=Math.floor(s/o);e[i]+=l*n,e[r]-=l*o*n}return i},null),qc.reduce((r,i)=>{if(an(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function Pz(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class In{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?Az:Rz;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Ln.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return In.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new di(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new In({values:_y(e,In.normalizeUnit),loc:Ln.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Tl(e))return In.fromMillis(e);if(In.isDuration(e))return e;if(typeof e=="object")return In.fromObject(e);throw new di(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=Nz(e);return r?In.fromObject(r,n):In.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=Iz(e);return r?In.fromObject(r,n):In.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new di("need to specify a reason the Duration is invalid");const r=e instanceof yo?e:new yo(e,n);if(wr.throwOnInvalid)throw new sB(r);return new In({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new jR(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?hi.create(this.loc,r).formatDurationFromString(this,e):tC}toHuman(e={}){if(!this.isValid)return tC;const n=qc.map(r=>{const i=this.values[r];return an(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=xE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},on.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?EA(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=In.fromDurationLike(e),r={};for(const i of qc)(Id(n.values,i)||Id(this.values,i))&&(r[i]=n.get(i)+this.get(i));return ul(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=In.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=cA(e(this.values[r],r));return ul(this,{values:n},!0)}get(e){return this[In.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,..._y(e,In.normalizeUnit)};return ul(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return ul(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return nC(this.matrix,e),ul(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Pz(this.normalize().shiftToAll().toObject());return ul(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>In.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of qc)if(e.indexOf(o)>=0){s=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;Tl(i[o])&&(l+=i[o]);const u=Math.trunc(l);n[o]=u,r[o]=(l*1e3-u*1e3)/1e3}else Tl(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return nC(this.matrix,n),ul(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ul(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of qc)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Bu="Invalid Interval";function Fz(t,e){return!t||!t.isValid?_r.invalid("missing or invalid start"):!e||!e.isValid?_r.invalid("missing or invalid end"):e<t?_r.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class _r{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new di("need to specify a reason the Interval is invalid");const r=e instanceof yo?e:new yo(e,n);if(wr.throwOnInvalid)throw new iB(r);return new _r({invalid:r})}static fromDateTimes(e,n){const r=Kf(e),i=Kf(n),s=Fz(r,i);return s??new _r({start:r,end:i})}static after(e,n){const r=In.fromDurationLike(n),i=Kf(e);return _r.fromDateTimes(i,i.plus(r))}static before(e,n){const r=In.fromDurationLike(n),i=Kf(e);return _r.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=on.fromISO(r,n),o=s.isValid}catch{o=!1}let l,u;try{l=on.fromISO(i,n),u=l.isValid}catch{u=!1}if(o&&u)return _r.fromDateTimes(s,l);if(o){const d=In.fromISO(i,n);if(d.isValid)return _r.after(s,d)}else if(u){const d=In.fromISO(r,n);if(d.isValid)return _r.before(l,d)}}return _r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?_r.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Kf).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(_r.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=In.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(u=>u*i));s=+l>+this.e?this.e:l,o.push(_r.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:_r.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return _r.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((u,d)=>u.time-d.time);for(const u of l)r+=u.type==="s"?1:-1,r===1?n=u.time:(n&&+n!=+u.time&&i.push(_r.fromDateTimes(n,u.time)),n=null);return _r.merge(i)}difference(...e){return _r.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Bu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=vy,n={}){return this.isValid?hi.create(this.s.loc.clone(n),e).formatInterval(this):Bu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Bu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Bu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Bu}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Bu}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):In.invalid(this.invalidReason)}mapEndpoints(e){return _r.fromDateTimes(e(this.s),e(this.e))}}class sg{static hasDST(e=wr.defaultZone){const n=on.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Pa.isValidZone(e)}static normalizeZone(e){return _l(e,wr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Ln.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Ln.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Ln.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Ln.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Ln.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Ln.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Ln.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ln.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Ln.create(n,null,"gregory").eras(e)}static features(){return{relative:oA(),localeWeek:aA()}}}function rC(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(In.fromMillis(r).as("days"))}function Dz(t,e,n){const r=[["years",(u,d)=>d.year-u.year],["quarters",(u,d)=>d.quarter-u.quarter+(d.year-u.year)*4],["months",(u,d)=>d.month-u.month+(d.year-u.year)*12],["weeks",(u,d)=>{const f=rC(u,d);return(f-f%7)/7}],["days",rC]],i={},s=t;let o,l;for(const[u,d]of r)n.indexOf(u)>=0&&(o=u,i[u]=d(t,e),l=s.plus(i),l>e?(i[u]--,t=s.plus(i),t>e&&(l=t,i[u]--,t=s.plus(i))):t=l);return[t,i,l,o]}function Lz(t,e,n,r){let[i,s,o,l]=Dz(t,e,n);const u=e-i,d=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);d.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+u/(o-i)));const f=In.fromObject(s,r);return d.length>0?In.fromMillis(u,r).shiftTo(...d).plus(f):f}const Mz="missing Intl.DateTimeFormat.formatToParts support";function An(t,e=n=>n){return{regex:t,deser:([n])=>e(CB(n))}}const $z="\xa0",NA=`[ ${$z}]`,kA=new RegExp(NA,"g");function Bz(t){return t.replace(/\./g,"\\.?").replace(kA,NA)}function iC(t){return t.replace(/\./g,"").replace(kA," ").toLowerCase()}function ao(t,e){return t===null?null:{regex:RegExp(t.map(Bz).join("|")),deser:([n])=>t.findIndex(r=>iC(n)===iC(r))+e}}function sC(t,e){return{regex:t,deser:([,n,r])=>Tv(n,r),groups:e}}function og(t){return{regex:t,deser:([e])=>e}}function zz(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Wz(t,e){const n=oo(e),r=oo(e,"{2}"),i=oo(e,"{3}"),s=oo(e,"{4}"),o=oo(e,"{6}"),l=oo(e,"{1,2}"),u=oo(e,"{1,3}"),d=oo(e,"{1,6}"),f=oo(e,"{1,9}"),h=oo(e,"{2,4}"),b=oo(e,"{4,6}"),x=I=>({regex:RegExp(zz(I.val)),deser:([q])=>q,literal:!0}),E=(I=>{if(t.literal)return x(I);switch(I.val){case"G":return ao(e.eras("short"),0);case"GG":return ao(e.eras("long"),0);case"y":return An(d);case"yy":return An(h,tS);case"yyyy":return An(s);case"yyyyy":return An(b);case"yyyyyy":return An(o);case"M":return An(l);case"MM":return An(r);case"MMM":return ao(e.months("short",!0),1);case"MMMM":return ao(e.months("long",!0),1);case"L":return An(l);case"LL":return An(r);case"LLL":return ao(e.months("short",!1),1);case"LLLL":return ao(e.months("long",!1),1);case"d":return An(l);case"dd":return An(r);case"o":return An(u);case"ooo":return An(i);case"HH":return An(r);case"H":return An(l);case"hh":return An(r);case"h":return An(l);case"mm":return An(r);case"m":return An(l);case"q":return An(l);case"qq":return An(r);case"s":return An(l);case"ss":return An(r);case"S":return An(u);case"SSS":return An(i);case"u":return og(f);case"uu":return og(l);case"uuu":return An(n);case"a":return ao(e.meridiems(),0);case"kkkk":return An(s);case"kk":return An(h,tS);case"W":return An(l);case"WW":return An(r);case"E":case"c":return An(n);case"EEE":return ao(e.weekdays("short",!1),1);case"EEEE":return ao(e.weekdays("long",!1),1);case"ccc":return ao(e.weekdays("short",!0),1);case"cccc":return ao(e.weekdays("long",!0),1);case"Z":case"ZZ":return sC(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return sC(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return og(/[a-z_+-/]{1,256}?/i);case" ":return og(/[^\S\n\r]/);default:return x(I)}})(t)||{invalidReason:Mz};return E.token=t,E}const Uz={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Vz(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let l=Uz[o];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function Hz(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function Qz(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(Id(n,o)){const l=n[o],u=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+u))),s+=u}return[r,i]}else return[r,{}]}function Kz(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return an(t.z)||(n=Pa.create(t.z)),an(t.Z)||(n||(n=new ki(t.Z)),r=t.Z),an(t.q)||(t.M=(t.q-1)*3+1),an(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),an(t.u)||(t.S=bE(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let m_=null;function Gz(){return m_||(m_=on.fromMillis(0x16a2e5618e3)),m_}function Zz(t,e){if(t.literal)return t;const n=hi.macroTokenToFormatOpts(t.val),r=OA(n,e);return r==null||r.includes(void 0)?t:r}function IA(t,e){return Array.prototype.concat(...t.map(n=>Zz(n,e)))}class CA{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=IA(hi.parseFormat(n),e),this.units=this.tokens.map(r=>Wz(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=Hz(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=Qz(e,this.regex,this.handlers),[i,s,o]=r?Kz(r):[null,null,void 0];if(Id(r,"a")&&Id(r,"H"))throw new Xu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function TA(t,e,n){return new CA(t,n).explainFromTokens(e)}function Jz(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=TA(t,e,n);return[r,i,s,o]}function OA(t,e){if(!t)return null;const r=hi.create(e,t).dtFormatter(Gz()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>Vz(o,t,s))}const g_="Invalid DateTime",oC=864e13;function ch(t){return new yo("unsupported zone",`the zone "${t.name}" is not supported`)}function y_(t){return t.weekData===null&&(t.weekData=by(t.c)),t.weekData}function v_(t){return t.localWeekData===null&&(t.localWeekData=by(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function bc(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new on({...n,...e,old:n})}function qA(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function ag(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Lg(t,e,n){return qA(Cv(t),e,n)}function aC(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,xy(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=In.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=Cv(s);let[u,d]=qA(l,n,t.zone);return o!==0&&(u+=o,d=t.zone.offset(u)),{ts:u,o:d}}function zu(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const u=e||l,d=on.fromObject(t,{...n,zone:u,specificOffset:s});return o?d:d.setZone(l)}else return on.invalid(new yo("unparsable",`the input "${i}" can't be parsed as ${r}`))}function lg(t,e,n=!0){return t.isValid?hi.create(Ln.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function b_(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=jr(t.c.year,n?6:4),e?(r+="-",r+=jr(t.c.month),r+="-",r+=jr(t.c.day)):(r+=jr(t.c.month),r+=jr(t.c.day)),r}function lC(t,e,n,r,i,s){let o=jr(t.c.hour);return e?(o+=":",o+=jr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=jr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=jr(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=jr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=jr(Math.trunc(-t.o/60)),o+=":",o+=jr(Math.trunc(-t.o%60))):(o+="+",o+=jr(Math.trunc(t.o/60)),o+=":",o+=jr(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const RA={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Yz={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Xz={ordinal:1,hour:0,minute:0,second:0,millisecond:0},AA=["year","month","day","hour","minute","second","millisecond"],eW=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],tW=["year","ordinal","hour","minute","second","millisecond"];function nW(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new jR(t);return e}function cC(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return nW(t)}}function rW(t){return $g[t]||(Mg===void 0&&(Mg=wr.now()),$g[t]=t.offset(Mg)),$g[t]}function uC(t,e){const n=_l(e.zone,wr.defaultZone);if(!n.isValid)return on.invalid(ch(n));const r=Ln.fromObject(e);let i,s;if(an(t.year))i=wr.now();else{for(const u of AA)an(t[u])&&(t[u]=RA[u]);const o=iA(t)||sA(t);if(o)return on.invalid(o);const l=rW(n);[i,s]=Lg(t,l,n)}return new on({ts:i,zone:n,loc:r,o:s})}function dC(t,e,n){const r=an(n.round)?!0:n.round,i=(o,l)=>(o=xE(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function fC(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let Mg,$g={};class on{constructor(e){const n=e.zone||wr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new yo("invalid input"):null)||(n.isValid?null:ch(n));this.ts=an(e.ts)?wr.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=Tl(e.o)&&!e.old?e.o:n.offset(this.ts);i=ag(this.ts,l),r=Number.isNaN(i.year)?new yo("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||Ln.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new on({})}static local(){const[e,n]=fC(arguments),[r,i,s,o,l,u,d]=n;return uC({year:r,month:i,day:s,hour:o,minute:l,second:u,millisecond:d},e)}static utc(){const[e,n]=fC(arguments),[r,i,s,o,l,u,d]=n;return e.zone=ki.utcInstance,uC({year:r,month:i,day:s,hour:o,minute:l,second:u,millisecond:d},e)}static fromJSDate(e,n={}){const r=AB(e)?e.valueOf():NaN;if(Number.isNaN(r))return on.invalid("invalid input");const i=_l(n.zone,wr.defaultZone);return i.isValid?new on({ts:r,zone:i,loc:Ln.fromObject(n)}):on.invalid(ch(i))}static fromMillis(e,n={}){if(Tl(e))return e<-oC||e>oC?on.invalid("Timestamp out of range"):new on({ts:e,zone:_l(n.zone,wr.defaultZone),loc:Ln.fromObject(n)});throw new di(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Tl(e))return new on({ts:e*1e3,zone:_l(n.zone,wr.defaultZone),loc:Ln.fromObject(n)});throw new di("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=_l(n.zone,wr.defaultZone);if(!r.isValid)return on.invalid(ch(r));const i=Ln.fromObject(n),s=_y(e,cC),{minDaysInFirstWeek:o,startOfWeek:l}=ZI(s,i),u=wr.now(),d=an(n.specificOffset)?r.offset(u):n.specificOffset,f=!an(s.ordinal),h=!an(s.year),b=!an(s.month)||!an(s.day),x=h||b,w=s.weekYear||s.weekNumber;if((x||f)&&w)throw new Xu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&f)throw new Xu("Can't mix ordinal dates with month/day");const E=w||s.weekday&&!x;let I,q,O=ag(u,d);E?(I=eW,q=Yz,O=by(O,o,l)):f?(I=tW,q=Xz,O=p_(O)):(I=AA,q=RA);let T=!1;for(const z of I){const P=s[z];an(P)?T?s[z]=q[z]:s[z]=O[z]:T=!0}const R=E?OB(s,o,l):f?qB(s):iA(s),D=R||sA(s);if(D)return on.invalid(D);const F=E?KI(s,o,l):f?GI(s):s,[B,$]=Lg(F,d,r),j=new on({ts:B,zone:r,o:$,loc:i});return s.weekday&&x&&e.weekday!==j.weekday?on.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${j.toISO()}`):j.isValid?j:on.invalid(j.invalid)}static fromISO(e,n={}){const[r,i]=wz(e);return zu(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=Sz(e);return zu(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=Ez(e);return zu(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(an(e)||an(n))throw new di("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=Ln.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,u,d,f]=Jz(o,e,n);return f?on.invalid(f):zu(l,u,r,`format ${n}`,e,d)}static fromString(e,n,r={}){return on.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=qz(e);return zu(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new di("need to specify a reason the DateTime is invalid");const r=e instanceof yo?e:new yo(e,n);if(wr.throwOnInvalid)throw new rB(r);return new on({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=OA(e,Ln.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return IA(hi.parseFormat(e),Ln.fromObject(n)).map(i=>i.val).join("")}static resetCache(){Mg=void 0,$g={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?y_(this).weekYear:NaN}get weekNumber(){return this.isValid?y_(this).weekNumber:NaN}get weekday(){return this.isValid?y_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?v_(this).weekday:NaN}get localWeekNumber(){return this.isValid?v_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?v_(this).weekYear:NaN}get ordinal(){return this.isValid?p_(this.c).ordinal:NaN}get monthShort(){return this.isValid?sg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?sg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?sg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?sg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=Cv(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),l=this.zone.offset(r-s*n);if(o===l)return[this];const u=r-o*n,d=r-l*n,f=ag(u,o),h=ag(d,l);return f.hour===h.hour&&f.minute===h.minute&&f.second===h.second&&f.millisecond===h.millisecond?[bc(this,{ts:u}),bc(this,{ts:d})]:[this]}get isInLeapYear(){return Ip(this.year)}get daysInMonth(){return xy(this.year,this.month)}get daysInYear(){return this.isValid?cd(this.year):NaN}get weeksInWeekYear(){return this.isValid?Fh(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Fh(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=hi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(ki.instance(e),n)}toLocal(){return this.setZone(wr.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=_l(e,wr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=Lg(o,s,e)}return bc(this,{ts:i,zone:e})}else return on.invalid(ch(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return bc(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=_y(e,cC),{minDaysInFirstWeek:r,startOfWeek:i}=ZI(n,this.loc),s=!an(n.weekYear)||!an(n.weekNumber)||!an(n.weekday),o=!an(n.ordinal),l=!an(n.year),u=!an(n.month)||!an(n.day),d=l||u,f=n.weekYear||n.weekNumber;if((d||o)&&f)throw new Xu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new Xu("Can't mix ordinal dates with month/day");let h;s?h=KI({...by(this.c,r,i),...n},r,i):an(n.ordinal)?(h={...this.toObject(),...n},an(n.day)&&(h.day=Math.min(xy(h.year,h.month),h.day))):h=GI({...p_(this.c),...n});const[b,x]=Lg(h,this.o,this.zone);return bc(this,{ts:b,o:x})}plus(e){if(!this.isValid)return this;const n=In.fromDurationLike(e);return bc(this,aC(this,n))}minus(e){if(!this.isValid)return this;const n=In.fromDurationLike(e).negate();return bc(this,aC(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=In.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?hi.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):g_}toLocaleString(e=vy,n={}){return this.isValid?hi.create(this.loc.clone(n),e).formatDateTime(this):g_}toLocaleParts(e={}){return this.isValid?hi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=b_(this,o);return l+="T",l+=lC(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?b_(this,e==="extended"):null}toISOWeekDate(){return lg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+lC(this,o==="extended",n,e,r,s):null}toRFC2822(){return lg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return lg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?b_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),lg(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():g_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return In.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=jB(n).map(In.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,u=o?e:this,d=Lz(l,u,s,i);return o?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(on.now(),e,n)}until(e){return this.isValid?_r.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||on.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),dC(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?dC(e.base||on.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(on.isDateTime))throw new di("min requires all arguments be DateTimes");return JI(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(on.isDateTime))throw new di("max requires all arguments be DateTimes");return JI(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=Ln.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return TA(o,e,n)}static fromStringExplain(e,n,r={}){return on.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=Ln.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new CA(s,e)}static fromFormatParser(e,n,r={}){if(an(e)||an(n))throw new di("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=Ln.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new di(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:l,zone:u,specificOffset:d,invalidReason:f}=n.explainFromTokens(e);return f?on.invalid(f):zu(l,u,r,`format ${n.format}`,e,d)}static get DATE_SHORT(){return vy}static get DATE_MED(){return PR}static get DATE_MED_WITH_WEEKDAY(){return oB}static get DATE_FULL(){return FR}static get DATE_HUGE(){return DR}static get TIME_SIMPLE(){return LR}static get TIME_WITH_SECONDS(){return MR}static get TIME_WITH_SHORT_OFFSET(){return $R}static get TIME_WITH_LONG_OFFSET(){return BR}static get TIME_24_SIMPLE(){return zR}static get TIME_24_WITH_SECONDS(){return WR}static get TIME_24_WITH_SHORT_OFFSET(){return UR}static get TIME_24_WITH_LONG_OFFSET(){return VR}static get DATETIME_SHORT(){return HR}static get DATETIME_SHORT_WITH_SECONDS(){return QR}static get DATETIME_MED(){return KR}static get DATETIME_MED_WITH_SECONDS(){return GR}static get DATETIME_MED_WITH_WEEKDAY(){return aB}static get DATETIME_FULL(){return ZR}static get DATETIME_FULL_WITH_SECONDS(){return JR}static get DATETIME_HUGE(){return YR}static get DATETIME_HUGE_WITH_SECONDS(){return XR}}function Kf(t){if(on.isDateTime(t))return t;if(t&&t.valueOf&&Tl(t.valueOf()))return on.fromJSDate(t);if(t&&typeof t=="object")return on.fromObject(t);throw new di(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function jA(t,e){return function(){return t.apply(e,arguments)}}const{toString:iW}=Object.prototype,{getPrototypeOf:EE}=Object,qv=(t=>e=>{const n=iW.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Co=t=>(t=t.toLowerCase(),e=>qv(e)===t),Rv=t=>e=>typeof e===t,{isArray:Kd}=Array,Dh=Rv("undefined");function sW(t){return t!==null&&!Dh(t)&&t.constructor!==null&&!Dh(t.constructor)&&fs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const PA=Co("ArrayBuffer");function oW(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&PA(t.buffer),e}const aW=Rv("string"),fs=Rv("function"),FA=Rv("number"),Av=t=>t!==null&&typeof t=="object",lW=t=>t===!0||t===!1,Bg=t=>{if(qv(t)!=="object")return!1;const e=EE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cW=Co("Date"),uW=Co("File"),dW=Co("Blob"),fW=Co("FileList"),hW=t=>Av(t)&&fs(t.pipe),pW=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fs(t.append)&&((e=qv(t))==="formdata"||e==="object"&&fs(t.toString)&&t.toString()==="[object FormData]"))},mW=Co("URLSearchParams"),[gW,yW,vW,bW]=["ReadableStream","Request","Response","Headers"].map(Co),xW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Op(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Kd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function DA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LA=t=>!Dh(t)&&t!==Rc;function nS(){const{caseless:t}=LA(this)&&this||{},e={},n=(r,i)=>{const s=t&&DA(e,i)||i;Bg(e[s])&&Bg(r)?e[s]=nS(e[s],r):Bg(r)?e[s]=nS({},r):Kd(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Op(arguments[r],n);return e}const _W=(t,e,n,{allOwnKeys:r}={})=>(Op(e,(i,s)=>{n&&fs(i)?t[s]=jA(i,n):t[s]=i},{allOwnKeys:r}),t),wW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),SW=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},EW=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&EE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},NW=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},kW=t=>{if(!t)return null;if(Kd(t))return t;let e=t.length;if(!FA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},IW=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&EE(Uint8Array)),CW=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},TW=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},OW=Co("HTMLFormElement"),qW=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),hC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),RW=Co("RegExp"),MA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Op(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},AW=t=>{MA(t,(e,n)=>{if(fs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(fs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jW=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Kd(t)?r(t):r(String(t).split(e)),n},PW=()=>{},FW=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,x_="abcdefghijklmnopqrstuvwxyz",pC="0123456789",$A={DIGIT:pC,ALPHA:x_,ALPHA_DIGIT:x_+x_.toUpperCase()+pC},DW=(t=16,e=$A.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function LW(t){return!!(t&&fs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const MW=t=>{const e=new Array(10),n=(r,i)=>{if(Av(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Kd(r)?[]:{};return Op(r,(o,l)=>{const u=n(o,i+1);!Dh(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},$W=Co("AsyncFunction"),BW=t=>t&&(Av(t)||fs(t))&&fs(t.then)&&fs(t.catch),BA=((t,e)=>t?setImmediate:e?((n,r)=>(Rc.addEventListener("message",({source:i,data:s})=>{i===Rc&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Rc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",fs(Rc.postMessage)),zW=typeof queueMicrotask<"u"?queueMicrotask.bind(Rc):typeof process<"u"&&process.nextTick||BA,Ze={isArray:Kd,isArrayBuffer:PA,isBuffer:sW,isFormData:pW,isArrayBufferView:oW,isString:aW,isNumber:FA,isBoolean:lW,isObject:Av,isPlainObject:Bg,isReadableStream:gW,isRequest:yW,isResponse:vW,isHeaders:bW,isUndefined:Dh,isDate:cW,isFile:uW,isBlob:dW,isRegExp:RW,isFunction:fs,isStream:hW,isURLSearchParams:mW,isTypedArray:IW,isFileList:fW,forEach:Op,merge:nS,extend:_W,trim:xW,stripBOM:wW,inherits:SW,toFlatObject:EW,kindOf:qv,kindOfTest:Co,endsWith:NW,toArray:kW,forEachEntry:CW,matchAll:TW,isHTMLForm:OW,hasOwnProperty:hC,hasOwnProp:hC,reduceDescriptors:MA,freezeMethods:AW,toObjectSet:jW,toCamelCase:qW,noop:PW,toFiniteNumber:FW,findKey:DA,global:Rc,isContextDefined:LA,ALPHABET:$A,generateString:DW,isSpecCompliantForm:LW,toJSONObject:MW,isAsyncFn:$W,isThenable:BW,setImmediate:BA,asap:zW};function pn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ze.inherits(pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ze.toJSONObject(this.config),code:this.code,status:this.status}}});const zA=pn.prototype,WA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WA[t]={value:t}});Object.defineProperties(pn,WA);Object.defineProperty(zA,"isAxiosError",{value:!0});pn.from=(t,e,n,r,i,s)=>{const o=Object.create(zA);return Ze.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),pn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const WW=null;function rS(t){return Ze.isPlainObject(t)||Ze.isArray(t)}function UA(t){return Ze.endsWith(t,"[]")?t.slice(0,-2):t}function mC(t,e,n){return t?t.concat(e).map(function(i,s){return i=UA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function UW(t){return Ze.isArray(t)&&!t.some(rS)}const VW=Ze.toFlatObject(Ze,{},null,function(e){return/^is[A-Z]/.test(e)});function jv(t,e,n){if(!Ze.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ze.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,I){return!Ze.isUndefined(I[E])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Ze.isSpecCompliantForm(e);if(!Ze.isFunction(i))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(Ze.isDate(w))return w.toISOString();if(!u&&Ze.isBlob(w))throw new pn("Blob is not supported. Use a Buffer instead.");return Ze.isArrayBuffer(w)||Ze.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,E,I){let q=w;if(w&&!I&&typeof w=="object"){if(Ze.endsWith(E,"{}"))E=r?E:E.slice(0,-2),w=JSON.stringify(w);else if(Ze.isArray(w)&&UW(w)||(Ze.isFileList(w)||Ze.endsWith(E,"[]"))&&(q=Ze.toArray(w)))return E=UA(E),q.forEach(function(T,R){!(Ze.isUndefined(T)||T===null)&&e.append(o===!0?mC([E],R,s):o===null?E:E+"[]",d(T))}),!1}return rS(w)?!0:(e.append(mC(I,E,s),d(w)),!1)}const h=[],b=Object.assign(VW,{defaultVisitor:f,convertValue:d,isVisitable:rS});function x(w,E){if(!Ze.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+E.join("."));h.push(w),Ze.forEach(w,function(q,O){(!(Ze.isUndefined(q)||q===null)&&i.call(e,q,Ze.isString(O)?O.trim():O,E,b))===!0&&x(q,E?E.concat(O):[O])}),h.pop()}}if(!Ze.isObject(t))throw new TypeError("data must be an object");return x(t),e}function gC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function NE(t,e){this._pairs=[],t&&jv(t,this,e)}const VA=NE.prototype;VA.append=function(e,n){this._pairs.push([e,n])};VA.toString=function(e){const n=e?function(r){return e.call(this,r,gC)}:gC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function HW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HA(t,e,n){if(!e)return t;const r=n&&n.encode||HW;Ze.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ze.isURLSearchParams(e)?e.toString():new NE(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class yC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ze.forEach(this.handlers,function(r){r!==null&&e(r)})}}const QA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QW=typeof URLSearchParams<"u"?URLSearchParams:NE,KW=typeof FormData<"u"?FormData:null,GW=typeof Blob<"u"?Blob:null,ZW={isBrowser:!0,classes:{URLSearchParams:QW,FormData:KW,Blob:GW},protocols:["http","https","file","blob","url","data"]},kE=typeof window<"u"&&typeof document<"u",iS=typeof navigator=="object"&&navigator||void 0,JW=kE&&(!iS||["ReactNative","NativeScript","NS"].indexOf(iS.product)<0),YW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XW=kE&&window.location.href||"http://localhost",e6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kE,hasStandardBrowserEnv:JW,hasStandardBrowserWebWorkerEnv:YW,navigator:iS,origin:XW},Symbol.toStringTag,{value:"Module"})),pi={...e6,...ZW};function t6(t,e){return jv(t,new pi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return pi.isNode&&Ze.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function n6(t){return Ze.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function r6(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function KA(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=n.length;return o=!o&&Ze.isArray(i)?i.length:o,u?(Ze.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Ze.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ze.isArray(i[o])&&(i[o]=r6(i[o])),!l)}if(Ze.isFormData(t)&&Ze.isFunction(t.entries)){const n={};return Ze.forEachEntry(t,(r,i)=>{e(n6(r),i,n,0)}),n}return null}function i6(t,e,n){if(Ze.isString(t))try{return(e||JSON.parse)(t),Ze.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const qp={transitional:QA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ze.isObject(e);if(s&&Ze.isHTMLForm(e)&&(e=new FormData(e)),Ze.isFormData(e))return i?JSON.stringify(KA(e)):e;if(Ze.isArrayBuffer(e)||Ze.isBuffer(e)||Ze.isStream(e)||Ze.isFile(e)||Ze.isBlob(e)||Ze.isReadableStream(e))return e;if(Ze.isArrayBufferView(e))return e.buffer;if(Ze.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return t6(e,this.formSerializer).toString();if((l=Ze.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return jv(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),i6(e)):e}],transformResponse:[function(e){const n=this.transitional||qp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ze.isResponse(e)||Ze.isReadableStream(e))return e;if(e&&Ze.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?pn.from(l,pn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pi.classes.FormData,Blob:pi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ze.forEach(["delete","get","head","post","put","patch"],t=>{qp.headers[t]={}});const s6=Ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o6=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&s6[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},vC=Symbol("internals");function Gf(t){return t&&String(t).trim().toLowerCase()}function zg(t){return t===!1||t==null?t:Ze.isArray(t)?t.map(zg):String(t)}function a6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const l6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function __(t,e,n,r,i){if(Ze.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ze.isString(e)){if(Ze.isString(r))return e.indexOf(r)!==-1;if(Ze.isRegExp(r))return r.test(e)}}function c6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function u6(t,e){const n=Ze.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Ki=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,d){const f=Gf(u);if(!f)throw new Error("header name must be a non-empty string");const h=Ze.findKey(i,f);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||u]=zg(l))}const o=(l,u)=>Ze.forEach(l,(d,f)=>s(d,f,u));if(Ze.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ze.isString(e)&&(e=e.trim())&&!l6(e))o(o6(e),n);else if(Ze.isHeaders(e))for(const[l,u]of e.entries())s(u,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Gf(e),e){const r=Ze.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return a6(i);if(Ze.isFunction(n))return n.call(this,i,r);if(Ze.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gf(e),e){const r=Ze.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||__(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Gf(o),o){const l=Ze.findKey(r,o);l&&(!n||__(r,r[l],l,n))&&(delete r[l],i=!0)}}return Ze.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||__(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ze.forEach(this,(i,s)=>{const o=Ze.findKey(r,s);if(o){n[o]=zg(i),delete n[s];return}const l=e?c6(s):String(s).trim();l!==s&&delete n[s],n[l]=zg(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ze.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ze.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vC]=this[vC]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Gf(o);r[l]||(u6(i,o),r[l]=!0)}return Ze.isArray(e)?e.forEach(s):s(e),this}};Ki.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ze.reduceDescriptors(Ki.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ze.freezeMethods(Ki);function w_(t,e){const n=this||qp,r=e||n,i=Ki.from(r.headers);let s=r.data;return Ze.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function GA(t){return!!(t&&t.__CANCEL__)}function Gd(t,e,n){pn.call(this,t??"canceled",pn.ERR_CANCELED,e,n),this.name="CanceledError"}Ze.inherits(Gd,pn,{__CANCEL__:!0});function ZA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new pn("Request failed with status code "+n.status,[pn.ERR_BAD_REQUEST,pn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function d6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function f6(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),f=r[s];o||(o=d),n[i]=u,r[i]=d;let h=s,b=0;for(;h!==i;)b+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const x=f&&d-f;return x?Math.round(b*1e3/x):void 0}}function h6(t,e){let n=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const wy=(t,e,n=3)=>{let r=0;const i=f6(50,250);return h6(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-r,d=i(u),f=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},bC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},xC=t=>(...e)=>Ze.asap(()=>t(...e)),p6=pi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,pi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(pi.origin),pi.navigator&&/(msie|trident)/i.test(pi.navigator.userAgent)):()=>!0,m6=pi.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ze.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ze.isString(r)&&o.push("path="+r),Ze.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function y6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function JA(t,e){return t&&!g6(e)?y6(t,e):e}const _C=t=>t instanceof Ki?{...t}:t;function Wc(t,e){e=e||{};const n={};function r(d,f,h,b){return Ze.isPlainObject(d)&&Ze.isPlainObject(f)?Ze.merge.call({caseless:b},d,f):Ze.isPlainObject(f)?Ze.merge({},f):Ze.isArray(f)?f.slice():f}function i(d,f,h,b){if(Ze.isUndefined(f)){if(!Ze.isUndefined(d))return r(void 0,d,h,b)}else return r(d,f,h,b)}function s(d,f){if(!Ze.isUndefined(f))return r(void 0,f)}function o(d,f){if(Ze.isUndefined(f)){if(!Ze.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,h){if(h in e)return r(d,f);if(h in t)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>i(_C(d),_C(f),h,!0)};return Ze.forEach(Object.keys(Object.assign({},t,e)),function(f){const h=u[f]||i,b=h(t[f],e[f],f);Ze.isUndefined(b)&&h!==l||(n[f]=b)}),n}const YA=t=>{const e=Wc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Ki.from(o),e.url=HA(JA(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Ze.isFormData(n)){if(pi.hasStandardBrowserEnv||pi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...f]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(pi.hasStandardBrowserEnv&&(r&&Ze.isFunction(r)&&(r=r(e)),r||r!==!1&&p6(e.url))){const d=i&&s&&m6.read(s);d&&o.set(i,d)}return e},v6=typeof XMLHttpRequest<"u",b6=v6&&function(t){return new Promise(function(n,r){const i=YA(t);let s=i.data;const o=Ki.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,f,h,b,x,w;function E(){x&&x(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function q(){if(!I)return;const T=Ki.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:T,config:t,request:I};ZA(function(B){n(B),E()},function(B){r(B),E()},D),I=null}"onloadend"in I?I.onloadend=q:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(q)},I.onabort=function(){I&&(r(new pn("Request aborted",pn.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new pn("Network Error",pn.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||QA;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new pn(R,D.clarifyTimeoutError?pn.ETIMEDOUT:pn.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&Ze.forEach(o.toJSON(),function(R,D){I.setRequestHeader(D,R)}),Ze.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),l&&l!=="json"&&(I.responseType=i.responseType),d&&([b,w]=wy(d,!0),I.addEventListener("progress",b)),u&&I.upload&&([h,x]=wy(u),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(f=T=>{I&&(r(!T||T.type?new Gd(null,t,I):T),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const O=d6(i.url);if(O&&pi.protocols.indexOf(O)===-1){r(new pn("Unsupported protocol "+O+":",pn.ERR_BAD_REQUEST,t));return}I.send(s||null)})},x6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof pn?f:new Gd(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new pn(`timeout ${e} of ms exceeded`,pn.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>Ze.asap(l),u}},_6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},w6=async function*(t,e){for await(const n of S6(t))yield*_6(n,e)},S6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},wC=(t,e,n,r)=>{const i=w6(t,e);let s=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let h=f.byteLength;if(n){let b=s+=h;n(b)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Pv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XA=Pv&&typeof ReadableStream=="function",E6=Pv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ej=(t,...e)=>{try{return!!t(...e)}catch{return!1}},N6=XA&&ej(()=>{let t=!1;const e=new Request(pi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),SC=64*1024,sS=XA&&ej(()=>Ze.isReadableStream(new Response("").body)),Sy={stream:sS&&(t=>t.body)};Pv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sy[e]&&(Sy[e]=Ze.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new pn(`Response type '${e}' is not supported`,pn.ERR_NOT_SUPPORT,r)})})})(new Response);const k6=async t=>{if(t==null)return 0;if(Ze.isBlob(t))return t.size;if(Ze.isSpecCompliantForm(t))return(await new Request(pi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ze.isArrayBufferView(t)||Ze.isArrayBuffer(t))return t.byteLength;if(Ze.isURLSearchParams(t)&&(t=t+""),Ze.isString(t))return(await E6(t)).byteLength},I6=async(t,e)=>{const n=Ze.toFiniteNumber(t.getContentLength());return n??k6(e)},C6=Pv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:h="same-origin",fetchOptions:b}=YA(t);d=d?(d+"").toLowerCase():"text";let x=x6([i,s&&s.toAbortSignal()],o),w;const E=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let I;try{if(u&&N6&&n!=="get"&&n!=="head"&&(I=await I6(f,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(Ze.isFormData(r)&&(F=D.headers.get("content-type"))&&f.setContentType(F),D.body){const[B,$]=bC(I,wy(xC(u)));r=wC(D.body,SC,B,$)}}Ze.isString(h)||(h=h?"include":"omit");const q="credentials"in Request.prototype;w=new Request(e,{...b,signal:x,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:q?h:void 0});let O=await fetch(w);const T=sS&&(d==="stream"||d==="response");if(sS&&(l||T&&E)){const D={};["status","statusText","headers"].forEach(j=>{D[j]=O[j]});const F=Ze.toFiniteNumber(O.headers.get("content-length")),[B,$]=l&&bC(F,wy(xC(l),!0))||[];O=new Response(wC(O.body,SC,B,()=>{$&&$(),E&&E()}),D)}d=d||"text";let R=await Sy[Ze.findKey(Sy,d)||"text"](O,t);return!T&&E&&E(),await new Promise((D,F)=>{ZA(D,F,{data:R,headers:Ki.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:w})})}catch(q){throw E&&E(),q&&q.name==="TypeError"&&/fetch/i.test(q.message)?Object.assign(new pn("Network Error",pn.ERR_NETWORK,t,w),{cause:q.cause||q}):pn.from(q,q&&q.code,t,w)}}),oS={http:WW,xhr:b6,fetch:C6};Ze.forEach(oS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const EC=t=>`- ${t}`,T6=t=>Ze.isFunction(t)||t===null||t===!1,tj={getAdapter:t=>{t=Ze.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!T6(n)&&(r=oS[(o=String(n)).toLowerCase()],r===void 0))throw new pn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(EC).join(`
`):" "+EC(s[0]):"as no adapter specified";throw new pn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:oS};function S_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gd(null,t)}function NC(t){return S_(t),t.headers=Ki.from(t.headers),t.data=w_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tj.getAdapter(t.adapter||qp.adapter)(t).then(function(r){return S_(t),r.data=w_.call(t,t.transformResponse,r),r.headers=Ki.from(r.headers),r},function(r){return GA(r)||(S_(t),r&&r.response&&(r.response.data=w_.call(t,t.transformResponse,r.response),r.response.headers=Ki.from(r.response.headers))),Promise.reject(r)})}const nj="1.7.9",Fv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const kC={};Fv.transitional=function(e,n,r){function i(s,o){return"[Axios v"+nj+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new pn(i(o," has been removed"+(n?" in "+n:"")),pn.ERR_DEPRECATED);return n&&!kC[o]&&(kC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Fv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function O6(t,e,n){if(typeof t!="object")throw new pn("options must be an object",pn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],u=l===void 0||o(l,s,t);if(u!==!0)throw new pn("option "+s+" must be "+u,pn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pn("Unknown option "+s,pn.ERR_BAD_OPTION)}}const Wg={assertOptions:O6,validators:Fv},Mo=Wg.validators;let Fc=class{constructor(e){this.defaults=e,this.interceptors={request:new yC,response:new yC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Wc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Wg.assertOptions(r,{silentJSONParsing:Mo.transitional(Mo.boolean),forcedJSONParsing:Mo.transitional(Mo.boolean),clarifyTimeoutError:Mo.transitional(Mo.boolean)},!1),i!=null&&(Ze.isFunction(i)?n.paramsSerializer={serialize:i}:Wg.assertOptions(i,{encode:Mo.function,serialize:Mo.function},!0)),Wg.assertOptions(n,{baseUrl:Mo.spelling("baseURL"),withXsrfToken:Mo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ze.merge(s.common,s[n.method]);s&&Ze.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=Ki.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(u=u&&E.synchronous,l.unshift(E.fulfilled,E.rejected))});const d=[];this.interceptors.response.forEach(function(E){d.push(E.fulfilled,E.rejected)});let f,h=0,b;if(!u){const w=[NC.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,d),b=w.length,f=Promise.resolve(n);h<b;)f=f.then(w[h++],w[h++]);return f}b=l.length;let x=n;for(h=0;h<b;){const w=l[h++],E=l[h++];try{x=w(x)}catch(I){E.call(this,I);break}}try{f=NC.call(this,x)}catch(w){return Promise.reject(w)}for(h=0,b=d.length;h<b;)f=f.then(d[h++],d[h++]);return f}getUri(e){e=Wc(this.defaults,e);const n=JA(e.baseURL,e.url);return HA(n,e.params,e.paramsSerializer)}};Ze.forEach(["delete","get","head","options"],function(e){Fc.prototype[e]=function(n,r){return this.request(Wc(r||{},{method:e,url:n,data:(r||{}).data}))}});Ze.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Wc(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Fc.prototype[e]=n(),Fc.prototype[e+"Form"]=n(!0)});let q6=class rj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Gd(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new rj(function(i){e=i}),cancel:e}}};function R6(t){return function(n){return t.apply(null,n)}}function A6(t){return Ze.isObject(t)&&t.isAxiosError===!0}const aS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aS).forEach(([t,e])=>{aS[e]=t});function ij(t){const e=new Fc(t),n=jA(Fc.prototype.request,e);return Ze.extend(n,Fc.prototype,e,{allOwnKeys:!0}),Ze.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ij(Wc(t,i))},n}const Tr=ij(qp);Tr.Axios=Fc;Tr.CanceledError=Gd;Tr.CancelToken=q6;Tr.isCancel=GA;Tr.VERSION=nj;Tr.toFormData=jv;Tr.AxiosError=pn;Tr.Cancel=Tr.CanceledError;Tr.all=function(e){return Promise.all(e)};Tr.spread=R6;Tr.isAxiosError=A6;Tr.mergeConfig=Wc;Tr.AxiosHeaders=Ki;Tr.formToJSON=t=>KA(Ze.isHTMLForm(t)?new FormData(t):t);Tr.getAdapter=tj.getAdapter;Tr.HttpStatusCode=aS;Tr.default=Tr;const{Axios:ose,AxiosError:j6,CanceledError:ase,isCancel:lse,CancelToken:cse,VERSION:use,all:dse,Cancel:fse,isAxiosError:hse,spread:pse,toFormData:mse,AxiosHeaders:gse,HttpStatusCode:yse,formToJSON:vse,getAdapter:bse,mergeConfig:xse}=Tr,IE=({error:t,schema:e,onError:n})=>{if(t instanceof j6){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var E_,IC;function P6(){if(IC)return E_;IC=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(s){return Promise.reject(s)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,s){this.push({resolve:function(){try{e(r)}catch(o){return s(o),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var s=new t(r);return s.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(s),r.getMaxRPS=t.prototype.getMaxRPS.bind(s),r.setMaxRPS=t.prototype.setMaxRPS.bind(s),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(s),r}return E_=n,E_}var F6=P6();const D6=Vs(F6),L6=({instance:t,limit:e}={})=>D6(t||Tr,e||{maxRequests:5,perMilliseconds:100}),CE="-",M6=t=>{const e=B6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(CE);return l[0]===""&&l.length!==1&&l.shift(),sj(l,e)||$6(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},sj=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?sj(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(CE);return e.validators.find(({validator:o})=>o(s))?.classGroupId},CC=/^\[(.+)\]$/,$6=t=>{if(CC.test(t)){const e=CC.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},B6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return W6(Object.entries(t.classGroups),n).forEach(([s,o])=>{lS(o,r,s,e)}),r},lS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:TC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(z6(i)){lS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{lS(o,TC(e,s),n,r)})})},TC=(t,e)=>{let n=t;return e.split(CE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},z6=t=>t.isThemeGetter,W6=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,U6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},oj="!",V6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let d=0,f=0,h;for(let I=0;I<l.length;I++){let q=l[I];if(d===0){if(q===i&&(r||l.slice(I,I+s)===e)){u.push(l.slice(f,I)),f=I+s;continue}if(q==="/"){h=I;continue}}q==="["?d++:q==="]"&&d--}const b=u.length===0?l:l.substring(f),x=b.startsWith(oj),w=x?b.substring(1):b,E=h&&h>f?h-f:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:E}};return n?l=>n({className:l,parseClassName:o}):o},H6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Q6=t=>({cache:U6(t.cacheSize),parseClassName:V6(t),...M6(t)}),K6=/\s+/,G6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(K6);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:x}=n(d);let w=!!x,E=r(w?b.substring(0,x):b);if(!E){if(!w){l=d+(l.length>0?" "+l:l);continue}if(E=r(b),!E){l=d+(l.length>0?" "+l:l);continue}w=!1}const I=H6(f).join(":"),q=h?I+oj:I,O=q+E;if(s.includes(O))continue;s.push(O);const T=i(E,w);for(let R=0;R<T.length;++R){const D=T[R];s.push(q+D)}l=d+(l.length>0?" "+l:l)}return l};function Z6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aj(e))&&(r&&(r+=" "),r+=n);return r}const aj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aj(t[r]))&&(n&&(n+=" "),n+=e);return n};function J6(t,...e){let n,r,i,s=o;function o(u){const d=e.reduce((f,h)=>h(f),t());return n=Q6(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const f=G6(u,n);return i(u,f),f}return function(){return s(Z6.apply(null,arguments))}}const ir=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lj=/^\[(?:([a-z-]+):)?(.+)\]$/i,Y6=/^\d+\/\d+$/,X6=new Set(["px","full","screen"]),eU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=t=>dd(t)||X6.has(t)||Y6.test(t),dl=t=>Zd(t,"length",fU),dd=t=>!!t&&!Number.isNaN(Number(t)),N_=t=>Zd(t,"number",dd),Zf=t=>!!t&&Number.isInteger(Number(t)),sU=t=>t.endsWith("%")&&dd(t.slice(0,-1)),yn=t=>lj.test(t),fl=t=>eU.test(t),oU=new Set(["length","size","percentage"]),aU=t=>Zd(t,oU,cj),lU=t=>Zd(t,"position",cj),cU=new Set(["image","url"]),uU=t=>Zd(t,cU,pU),dU=t=>Zd(t,"",hU),Jf=()=>!0,Zd=(t,e,n)=>{const r=lj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},fU=t=>tU.test(t)&&!nU.test(t),cj=()=>!1,hU=t=>rU.test(t),pU=t=>iU.test(t),mU=()=>{const t=ir("colors"),e=ir("spacing"),n=ir("blur"),r=ir("brightness"),i=ir("borderColor"),s=ir("borderRadius"),o=ir("borderSpacing"),l=ir("borderWidth"),u=ir("contrast"),d=ir("grayscale"),f=ir("hueRotate"),h=ir("invert"),b=ir("gap"),x=ir("gradientColorStops"),w=ir("gradientColorStopPositions"),E=ir("inset"),I=ir("margin"),q=ir("opacity"),O=ir("padding"),T=ir("saturate"),R=ir("scale"),D=ir("sepia"),F=ir("skew"),B=ir("space"),$=ir("translate"),j=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",yn,e],W=()=>[yn,e],K=()=>["",va,dl],L=()=>["auto",dd,yn],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",yn],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[dd,yn];return{cacheSize:500,separator:":",theme:{colors:[Jf],spacing:[va,dl],blur:["none","",fl,yn],brightness:Z(),borderColor:[t],borderRadius:["none","","full",fl,yn],borderSpacing:W(),borderWidth:K(),contrast:Z(),grayscale:ne(),hueRotate:Z(),invert:ne(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[sU,dl],inset:P(),margin:P(),opacity:Z(),padding:W(),saturate:Z(),scale:Z(),sepia:ne(),skew:Z(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",yn]}],container:["container"],columns:[{columns:[fl]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),yn]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zf,yn]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yn]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",Zf,yn]}],"grid-cols":[{"grid-cols":[Jf]}],"col-start-end":[{col:["auto",{span:["full",Zf,yn]},yn]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Jf]}],"row-start-end":[{row:["auto",{span:[Zf,yn]},yn]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yn]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yn,e]}],"min-w":[{"min-w":[yn,e,"min","max","fit"]}],"max-w":[{"max-w":[yn,e,"none","full","min","max","fit","prose",{screen:[fl]},fl]}],h:[{h:[yn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fl,dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",N_]}],"font-family":[{font:[Jf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yn]}],"line-clamp":[{"line-clamp":["none",dd,N_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",va,yn]}],"list-image":[{"list-image":["none",yn]}],"list-style-type":[{list:["none","disc","decimal",yn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[q]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",va,dl]}],"underline-offset":[{"underline-offset":["auto",va,yn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[q]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),lU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[q]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[q]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[va,yn]}],"outline-w":[{outline:[va,dl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[q]}],"ring-offset-w":[{"ring-offset":[va,dl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fl,dU]}],"shadow-color":[{shadow:[Jf]}],opacity:[{opacity:[q]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",fl,yn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[q]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yn]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",yn]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",yn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Zf,yn]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[va,dl,N_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uj=J6(mU),cS=new Proxy(()=>cS,{get:()=>cS});function gn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:s,...o}={})=>({slots:new Proxy({},{get:(l,u)=>({css:d,...f}={})=>{const h=[],b=t,x={...b?.()?.config.defaults,...i,...o,...f};h.push(b?.(x)?.slots[u]?.(x)),h.push(Array.isArray(e[u])?e[u]:[e[u]]);for(const[w,E]of Object.entries(x)){const I=n[w]?.[E];I&&h.push(I)}for(const w of r)Object.entries(w.if).every(([E,I])=>I===x[E])&&h.push(w.then?.[u]);return h.push(s?.[u]),h.push(d),uj(h)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...o}},type:cS()})}const Lr=uj;var k_,OC;function gU(){return OC||(OC=1,k_=Object),k_}var I_,qC;function yU(){return qC||(qC=1,I_=Error),I_}var C_,RC;function vU(){return RC||(RC=1,C_=EvalError),C_}var T_,AC;function bU(){return AC||(AC=1,T_=RangeError),T_}var O_,jC;function xU(){return jC||(jC=1,O_=ReferenceError),O_}var q_,PC;function _U(){return PC||(PC=1,q_=SyntaxError),q_}var R_,FC;function dj(){return FC||(FC=1,R_=TypeError),R_}var A_,DC;function wU(){return DC||(DC=1,A_=URIError),A_}var j_,LC;function SU(){return LC||(LC=1,j_=Math.abs),j_}var P_,MC;function EU(){return MC||(MC=1,P_=Math.floor),P_}var F_,$C;function NU(){return $C||($C=1,F_=Math.max),F_}var D_,BC;function kU(){return BC||(BC=1,D_=Math.min),D_}var L_,zC;function IU(){return zC||(zC=1,L_=Math.pow),L_}var M_,WC;function CU(){return WC||(WC=1,M_=Object.getOwnPropertyDescriptor),M_}var $_,UC;function fj(){if(UC)return $_;UC=1;var t=CU();if(t)try{t([],"length")}catch{t=null}return $_=t,$_}var B_,VC;function TU(){if(VC)return B_;VC=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return B_=t,B_}var z_,HC;function hj(){return HC||(HC=1,z_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),z_}var W_,QC;function OU(){if(QC)return W_;QC=1;var t=typeof Symbol<"u"&&Symbol,e=hj();return W_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},W_}var U_,KC;function qU(){if(KC)return U_;KC=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(u,d){for(var f=[],h=0;h<u.length;h+=1)f[h]=u[h];for(var b=0;b<d.length;b+=1)f[b+u.length]=d[b];return f},s=function(u,d){for(var f=[],h=d,b=0;h<u.length;h+=1,b+=1)f[b]=u[h];return f},o=function(l,u){for(var d="",f=0;f<l.length;f+=1)d+=l[f],f+1<l.length&&(d+=u);return d};return U_=function(u){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var f=s(arguments,1),h,b=function(){if(this instanceof h){var q=d.apply(this,i(f,arguments));return Object(q)===q?q:this}return d.apply(u,i(f,arguments))},x=n(0,d.length-f.length),w=[],E=0;E<x;E++)w[E]="$"+E;if(h=Function("binder","return function ("+o(w,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var I=function(){};I.prototype=d.prototype,h.prototype=new I,I.prototype=null}return h},U_}var V_,GC;function Dv(){if(GC)return V_;GC=1;var t=qU();return V_=Function.prototype.bind||t,V_}var H_,ZC;function TE(){return ZC||(ZC=1,H_=Function.prototype.call),H_}var Q_,JC;function pj(){return JC||(JC=1,Q_=Function.prototype.apply),Q_}var K_,YC;function RU(){return YC||(YC=1,K_=typeof Reflect<"u"&&Reflect&&Reflect.apply),K_}var G_,XC;function AU(){if(XC)return G_;XC=1;var t=Dv(),e=pj(),n=TE(),r=RU();return G_=r||t.call(n,e),G_}var Z_,eT;function mj(){if(eT)return Z_;eT=1;var t=Dv(),e=dj(),n=TE(),r=AU();return Z_=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},Z_}var J_,tT;function jU(){if(tT)return J_;tT=1;var t=mj(),e=fj(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return J_=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,J_}var Y_,nT;function PU(){if(nT)return Y_;nT=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Dv();return Y_=n.call(t,e),Y_}var X_,rT;function FU(){if(rT)return X_;rT=1;var t,e=gU(),n=yU(),r=vU(),i=bU(),s=xU(),o=_U(),l=dj(),u=wU(),d=SU(),f=EU(),h=NU(),b=kU(),x=IU(),w=Function,E=function(Ne){try{return w('"use strict"; return ('+Ne+").constructor;")()}catch{}},I=fj(),q=TU(),O=function(){throw new l},T=I?function(){try{return arguments.callee,O}catch{try{return I(arguments,"callee").get}catch{return O}}}():O,R=OU()(),D=jU(),F=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||D,B=pj(),$=TE(),j={},z=typeof Uint8Array>"u"||!F?t:F(Uint8Array),P={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":R&&F?F([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":R&&F?F(F([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!R||!F?t:F(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!R||!F?t:F(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":R&&F?F(""[Symbol.iterator]()):t,"%Symbol%":R?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":T,"%TypedArray%":z,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":$,"%Function.prototype.apply%":B,"%Object.defineProperty%":q,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":b,"%Math.pow%":x};if(F)try{null.error}catch(Ne){var W=F(F(Ne));P["%Error.prototype%"]=W}var K=function Ne(Pe){var Re;if(Pe==="%AsyncFunction%")Re=E("async function () {}");else if(Pe==="%GeneratorFunction%")Re=E("function* () {}");else if(Pe==="%AsyncGeneratorFunction%")Re=E("async function* () {}");else if(Pe==="%AsyncGenerator%"){var Xe=Ne("%AsyncGeneratorFunction%");Xe&&(Re=Xe.prototype)}else if(Pe==="%AsyncIteratorPrototype%"){var et=Ne("%AsyncGenerator%");et&&F&&(Re=F(et.prototype))}return P[Pe]=Re,Re},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},te=Dv(),X=PU(),oe=te.call($,Array.prototype.concat),re=te.call(B,Array.prototype.splice),ne=te.call($,String.prototype.replace),ae=te.call($,String.prototype.slice),Z=te.call($,RegExp.prototype.exec),ue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,he=/\\(\\)?/g,ge=function(Pe){var Re=ae(Pe,0,1),Xe=ae(Pe,-1);if(Re==="%"&&Xe!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Xe==="%"&&Re!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var et=[];return ne(Pe,ue,function(nt,Ve,ot,kt){et[et.length]=ot?ne(kt,he,"$1"):Ve||nt}),et},_e=function(Pe,Re){var Xe=Pe,et;if(X(L,Xe)&&(et=L[Xe],Xe="%"+et[0]+"%"),X(P,Xe)){var nt=P[Xe];if(nt===j&&(nt=K(Xe)),typeof nt>"u"&&!Re)throw new l("intrinsic "+Pe+" exists, but is not available. Please file an issue!");return{alias:et,name:Xe,value:nt}}throw new o("intrinsic "+Pe+" does not exist!")};return X_=function(Pe,Re){if(typeof Pe!="string"||Pe.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Re!="boolean")throw new l('"allowMissing" argument must be a boolean');if(Z(/^%?[^%]*%?$/,Pe)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Xe=ge(Pe),et=Xe.length>0?Xe[0]:"",nt=_e("%"+et+"%",Re),Ve=nt.name,ot=nt.value,kt=!1,At=nt.alias;At&&(et=At[0],re(Xe,oe([0,1],At)));for(var Gt=1,ln=!0;Gt<Xe.length;Gt+=1){var ve=Xe[Gt],be=ae(ve,0,1),Ie=ae(ve,-1);if((be==='"'||be==="'"||be==="`"||Ie==='"'||Ie==="'"||Ie==="`")&&be!==Ie)throw new o("property names with quotes must have matching quotes");if((ve==="constructor"||!ln)&&(kt=!0),et+="."+ve,Ve="%"+et+"%",X(P,Ve))ot=P[Ve];else if(ot!=null){if(!(ve in ot)){if(!Re)throw new l("base intrinsic for "+Pe+" exists, but the property is not available.");return}if(I&&Gt+1>=Xe.length){var De=I(ot,ve);ln=!!De,ln&&"get"in De&&!("originalValue"in De.get)?ot=De.get:ot=ot[ve]}else ln=X(ot,ve),ot=ot[ve];ln&&!kt&&(P[Ve]=ot)}}return ot},X_}var ew,iT;function DU(){if(iT)return ew;iT=1;var t=FU(),e=mj(),n=e([t("%String.prototype.indexOf%")]);return ew=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e([o]):o},ew}var tw,sT;function LU(){if(sT)return tw;sT=1;var t=hj();return tw=function(){return t()&&!!Symbol.toStringTag},tw}var nw,oT;function MU(){if(oT)return nw;oT=1;var t=DU(),e=t("String.prototype.valueOf"),n=function(l){try{return e(l),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",s=LU()();return nw=function(l){return typeof l=="string"?!0:!l||typeof l!="object"?!1:s?n(l):r(l)===i},nw}var $U=MU();const BU=Vs($U),Lv=t=>BU(t),zU=(t,e,n={})=>{const r=[];return t.filter((s,o)=>{const l=n.regionLowerCase?s.toLowerCase():s;if(e.includes(l))return r.push({index:o,appLocale:l}),!0;const{isAvailable:u,appLocale:d}=WU(l,e,n);return u&&r.push({index:o,appLocale:n.regionLowerCase?d.toLowerCase():d}),u}).map((s,o)=>!r||r.length===0?s:r[o]?.appLocale)},WU=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(s=>{if(!Ug()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const o=Ug()?new Intl.Locale(t).minimize().language:t.split("-")[0],l=Ug()?new Intl.Locale(s).minimize().language:s.split("-")[0],u=o===l;return u&&(r=s),u}),appLocale:r}},UU=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},Ug=()=>Intl&&"Locale"in Intl,VU=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const s=Ug()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:o,script:l}=s;let{region:u}=s;return e.regionLowerCase&&u&&(u=u.toLowerCase()),i.length>2?`${o}-${l}-${u}`:u?`${o}-${u}`:o});return[...new Set(n)]},HU=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=UU(n),i=VU([...r,t],n);return zU(i,e,n)[0]||t},QU=({available:t,fallback:e})=>HU(e,t,{languageOnly:!0});var rw={exports:{}};const KU={},GU=Object.freeze(Object.defineProperty({__proto__:null,default:KU},Symbol.toStringTag,{value:"Module"})),aT=vM(GU);var lT;function ZU(){return lT||(lT=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=Cc:i&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,l=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),d=[-0x80000000,8388608,32768,128],f=[24,16,8,0],h=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],b=["hex","array","digest","arrayBuffer"],x=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(F){return Object.prototype.toString.call(F)==="[object Array]"}),l&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(F){return typeof F=="object"&&F.buffer&&F.buffer.constructor===ArrayBuffer});var w=function(F,B){return function($){return new T(B,!0).update($)[F]()}},E=function(F){var B=w("hex",F);s&&(B=I(B,F)),B.create=function(){return new T(F)},B.update=function(z){return B.create().update(z)};for(var $=0;$<b.length;++$){var j=b[$];B[j]=w(j,F)}return B},I=function(F,B){var $=aT,j=aT.Buffer,z=B?"sha224":"sha256",P;j.from&&!r.JS_SHA256_NO_BUFFER_FROM?P=j.from:P=function(K){return new j(K)};var W=function(K){if(typeof K=="string")return $.createHash(z).update(K,"utf8").digest("hex");if(K==null)throw new Error(e);return K.constructor===ArrayBuffer&&(K=new Uint8Array(K)),Array.isArray(K)||ArrayBuffer.isView(K)||K.constructor===j?$.createHash(z).update(P(K)).digest("hex"):F(K)};return W},q=function(F,B){return function($,j){return new R($,B,!0).update(j)[F]()}},O=function(F){var B=q("hex",F);B.create=function(z){return new R(z,F)},B.update=function(z,P){return B.create(z).update(P)};for(var $=0;$<b.length;++$){var j=b[$];B[j]=q(j,F)}return B};function T(F,B){B?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=F}T.prototype.update=function(F){if(!this.finalized){var B,$=typeof F;if($!=="string"){if($==="object"){if(F===null)throw new Error(e);if(l&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!l||!ArrayBuffer.isView(F)))throw new Error(e)}else throw new Error(e);B=!0}for(var j,z=0,P,W=F.length,K=this.blocks;z<W;){if(this.hashed&&(this.hashed=!1,K[0]=this.block,this.block=K[16]=K[1]=K[2]=K[3]=K[4]=K[5]=K[6]=K[7]=K[8]=K[9]=K[10]=K[11]=K[12]=K[13]=K[14]=K[15]=0),B)for(P=this.start;z<W&&P<64;++z)K[P>>>2]|=F[z]<<f[P++&3];else for(P=this.start;z<W&&P<64;++z)j=F.charCodeAt(z),j<128?K[P>>>2]|=j<<f[P++&3]:j<2048?(K[P>>>2]|=(192|j>>>6)<<f[P++&3],K[P>>>2]|=(128|j&63)<<f[P++&3]):j<55296||j>=57344?(K[P>>>2]|=(224|j>>>12)<<f[P++&3],K[P>>>2]|=(128|j>>>6&63)<<f[P++&3],K[P>>>2]|=(128|j&63)<<f[P++&3]):(j=65536+((j&1023)<<10|F.charCodeAt(++z)&1023),K[P>>>2]|=(240|j>>>18)<<f[P++&3],K[P>>>2]|=(128|j>>>12&63)<<f[P++&3],K[P>>>2]|=(128|j>>>6&63)<<f[P++&3],K[P>>>2]|=(128|j&63)<<f[P++&3]);this.lastByteIndex=P,this.bytes+=P-this.start,P>=64?(this.block=K[16],this.start=P-64,this.hash(),this.hashed=!0):this.start=P}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var F=this.blocks,B=this.lastByteIndex;F[16]=this.block,F[B>>>2]|=d[B&3],this.block=F[16],B>=56&&(this.hashed||this.hash(),F[0]=this.block,F[16]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=0),F[14]=this.hBytes<<3|this.bytes>>>29,F[15]=this.bytes<<3,this.hash()}},T.prototype.hash=function(){var F=this.h0,B=this.h1,$=this.h2,j=this.h3,z=this.h4,P=this.h5,W=this.h6,K=this.h7,L=this.blocks,te,X,oe,re,ne,ae,Z,ue,he,ge,_e;for(te=16;te<64;++te)ne=L[te-15],X=(ne>>>7|ne<<25)^(ne>>>18|ne<<14)^ne>>>3,ne=L[te-2],oe=(ne>>>17|ne<<15)^(ne>>>19|ne<<13)^ne>>>10,L[te]=L[te-16]+X+L[te-7]+oe<<0;for(_e=B&$,te=0;te<64;te+=4)this.first?(this.is224?(ue=300032,ne=L[0]-0x543c9a5b,K=ne-0x8f1a6c7<<0,j=ne+0x170e9b5<<0):(ue=0x2a01a605,ne=L[0]-0xc881298,K=ne-0x5ab00ac6<<0,j=ne+0x8909ae5<<0),this.first=!1):(X=(F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10),oe=(z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7),ue=F&B,re=ue^F&$^_e,Z=z&P^~z&W,ne=K+oe+Z+h[te]+L[te],ae=X+re,K=j+ne<<0,j=ne+ae<<0),X=(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10),oe=(K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7),he=j&F,re=he^j&B^ue,Z=K&z^~K&P,ne=W+oe+Z+h[te+1]+L[te+1],ae=X+re,W=$+ne<<0,$=ne+ae<<0,X=($>>>2|$<<30)^($>>>13|$<<19)^($>>>22|$<<10),oe=(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7),ge=$&j,re=ge^$&F^he,Z=W&K^~W&z,ne=P+oe+Z+h[te+2]+L[te+2],ae=X+re,P=B+ne<<0,B=ne+ae<<0,X=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),oe=(P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7),_e=B&$,re=_e^B&j^ge,Z=P&W^~P&K,ne=z+oe+Z+h[te+3]+L[te+3],ae=X+re,z=F+ne<<0,F=ne+ae<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+F<<0,this.h1=this.h1+B<<0,this.h2=this.h2+$<<0,this.h3=this.h3+j<<0,this.h4=this.h4+z<<0,this.h5=this.h5+P<<0,this.h6=this.h6+W<<0,this.h7=this.h7+K<<0},T.prototype.hex=function(){this.finalize();var F=this.h0,B=this.h1,$=this.h2,j=this.h3,z=this.h4,P=this.h5,W=this.h6,K=this.h7,L=u[F>>>28&15]+u[F>>>24&15]+u[F>>>20&15]+u[F>>>16&15]+u[F>>>12&15]+u[F>>>8&15]+u[F>>>4&15]+u[F&15]+u[B>>>28&15]+u[B>>>24&15]+u[B>>>20&15]+u[B>>>16&15]+u[B>>>12&15]+u[B>>>8&15]+u[B>>>4&15]+u[B&15]+u[$>>>28&15]+u[$>>>24&15]+u[$>>>20&15]+u[$>>>16&15]+u[$>>>12&15]+u[$>>>8&15]+u[$>>>4&15]+u[$&15]+u[j>>>28&15]+u[j>>>24&15]+u[j>>>20&15]+u[j>>>16&15]+u[j>>>12&15]+u[j>>>8&15]+u[j>>>4&15]+u[j&15]+u[z>>>28&15]+u[z>>>24&15]+u[z>>>20&15]+u[z>>>16&15]+u[z>>>12&15]+u[z>>>8&15]+u[z>>>4&15]+u[z&15]+u[P>>>28&15]+u[P>>>24&15]+u[P>>>20&15]+u[P>>>16&15]+u[P>>>12&15]+u[P>>>8&15]+u[P>>>4&15]+u[P&15]+u[W>>>28&15]+u[W>>>24&15]+u[W>>>20&15]+u[W>>>16&15]+u[W>>>12&15]+u[W>>>8&15]+u[W>>>4&15]+u[W&15];return this.is224||(L+=u[K>>>28&15]+u[K>>>24&15]+u[K>>>20&15]+u[K>>>16&15]+u[K>>>12&15]+u[K>>>8&15]+u[K>>>4&15]+u[K&15]),L},T.prototype.toString=T.prototype.hex,T.prototype.digest=function(){this.finalize();var F=this.h0,B=this.h1,$=this.h2,j=this.h3,z=this.h4,P=this.h5,W=this.h6,K=this.h7,L=[F>>>24&255,F>>>16&255,F>>>8&255,F&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,$>>>24&255,$>>>16&255,$>>>8&255,$&255,j>>>24&255,j>>>16&255,j>>>8&255,j&255,z>>>24&255,z>>>16&255,z>>>8&255,z&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255];return this.is224||L.push(K>>>24&255,K>>>16&255,K>>>8&255,K&255),L},T.prototype.array=T.prototype.digest,T.prototype.arrayBuffer=function(){this.finalize();var F=new ArrayBuffer(this.is224?28:32),B=new DataView(F);return B.setUint32(0,this.h0),B.setUint32(4,this.h1),B.setUint32(8,this.h2),B.setUint32(12,this.h3),B.setUint32(16,this.h4),B.setUint32(20,this.h5),B.setUint32(24,this.h6),this.is224||B.setUint32(28,this.h7),F};function R(F,B,$){var j,z=typeof F;if(z==="string"){var P=[],W=F.length,K=0,L;for(j=0;j<W;++j)L=F.charCodeAt(j),L<128?P[K++]=L:L<2048?(P[K++]=192|L>>>6,P[K++]=128|L&63):L<55296||L>=57344?(P[K++]=224|L>>>12,P[K++]=128|L>>>6&63,P[K++]=128|L&63):(L=65536+((L&1023)<<10|F.charCodeAt(++j)&1023),P[K++]=240|L>>>18,P[K++]=128|L>>>12&63,P[K++]=128|L>>>6&63,P[K++]=128|L&63);F=P}else if(z==="object"){if(F===null)throw new Error(e);if(l&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!l||!ArrayBuffer.isView(F)))throw new Error(e)}else throw new Error(e);F.length>64&&(F=new T(B,!0).update(F).array());var te=[],X=[];for(j=0;j<64;++j){var oe=F[j]||0;te[j]=92^oe,X[j]=54^oe}T.call(this,B,$),this.update(X),this.oKeyPad=te,this.inner=!0,this.sharedMemory=$}R.prototype=new T,R.prototype.finalize=function(){if(T.prototype.finalize.call(this),this.inner){this.inner=!1;var F=this.array();T.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(F),T.prototype.finalize.call(this)}};var D=E();D.sha256=D,D.sha224=E(!0),D.sha256.hmac=O(),D.sha224.hmac=O(!0),o?t.exports=D:(r.sha256=D.sha256,r.sha224=D.sha224)})()}(rw)),rw.exports}var uS=ZU();const JU=uS.sha224,gj=({index:t,key:e,fallback:n})=>t[JU(e)]?.value??t[e]?.value??n??e,YU=({index:t,key:e,fallback:n})=>gj({index:t,key:e,fallback:n}),XU=({index:t,key:e,fallback:n})=>gj({index:t,key:e,fallback:n}),Dl={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>YU({index:Dl.index,key:t,fallback:e}),rich:(t,e)=>XU({index:Dl.index,key:t,fallback:e})},yj={hash(t){return uS.sha224(t)},verify(t,e){return uS.sha224(t)===e}};var En;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(En||(En={}));var dS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(dS||(dS={}));const Rt=En.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ka=t=>{switch(typeof t){case"undefined":return Rt.undefined;case"string":return Rt.string;case"number":return isNaN(t)?Rt.nan:Rt.number;case"boolean":return Rt.boolean;case"function":return Rt.function;case"bigint":return Rt.bigint;case"symbol":return Rt.symbol;case"object":return Array.isArray(t)?Rt.array:t===null?Rt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Rt.promise:typeof Map<"u"&&t instanceof Map?Rt.map:typeof Set<"u"&&t instanceof Set?Rt.set:typeof Date<"u"&&t instanceof Date?Rt.date:Rt.object;default:return Rt.unknown}},yt=En.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eV=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class hs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof hs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,En.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}hs.create=t=>new hs(t);const Cd=(t,e)=>{let n;switch(t.code){case yt.invalid_type:t.received===Rt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,En.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${En.joinValues(t.keys,", ")}`;break;case yt.invalid_union:n="Invalid input";break;case yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${En.joinValues(t.options)}`;break;case yt.invalid_enum_value:n=`Invalid enum value. Expected ${En.joinValues(t.options)}, received '${t.received}'`;break;case yt.invalid_arguments:n="Invalid function arguments";break;case yt.invalid_return_type:n="Invalid function return type";break;case yt.invalid_date:n="Invalid date";break;case yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:En.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case yt.custom:n="Invalid input";break;case yt.invalid_intersection_types:n="Intersection results could not be merged";break;case yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,En.assertNever(t)}return{message:n}};let vj=Cd;function tV(t){vj=t}function Ey(){return vj}const Ny=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},nV=[];function It(t,e){const n=Ey(),r=Ny({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Cd?void 0:Cd].filter(i=>!!i)});t.common.issues.push(r)}class mi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return nn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return mi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return nn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const nn=Object.freeze({status:"aborted"}),ed=t=>({status:"dirty",value:t}),Ci=t=>({status:"valid",value:t}),fS=t=>t.status==="aborted",hS=t=>t.status==="dirty",Uc=t=>t.status==="valid",Lh=t=>typeof Promise<"u"&&t instanceof Promise;function ky(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function bj(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Wt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Wt||(Wt={}));var uh,dh;class Zo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cT=(t,e)=>{if(Uc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hs(t.common.issues);return this._error=n,this._error}}};function mn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var u,d;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class bn{get description(){return this._def.description}_getType(e){return ka(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mi,ctx:{common:e.parent.common,data:e.data,parsedType:ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Lh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)},s=this._parseSync({data:e,path:i.path,parent:i});return cT(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Uc(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Uc(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await (Lh(i)?i:Promise.resolve(i));return cT(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new So({schema:this,typeName:tn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ho.create(this,this._def)}nullable(){return Bl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _o.create(this)}promise(){return Od.create(this,this._def)}or(e){return zh.create([this,e],this._def)}and(e){return Wh.create(this,e,this._def)}transform(e){return new So({...mn(this._def),schema:this,typeName:tn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Kh({...mn(this._def),innerType:this,defaultValue:n,typeName:tn.ZodDefault})}brand(){return new OE({typeName:tn.ZodBranded,type:this,...mn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Gh({...mn(this._def),innerType:this,catchValue:n,typeName:tn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Rp.create(this,e)}readonly(){return Zh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rV=/^c[^\s-]{8,}$/i,iV=/^[0-9a-z]+$/,sV=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aV=/^[a-z0-9_-]{21}$/i,lV=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let iw;const fV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yV=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vV=new RegExp(`^${xj}$`);function _j(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function bV(t){return new RegExp(`^${_j(t)}$`)}function wj(t){let e=`${xj}T${_j(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function xV(t,e){return!!((e==="v4"||!e)&&fV.test(t)||(e==="v6"||!e)&&pV.test(t))}function _V(t,e){if(!lV.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function wV(t,e){return!!((e==="v4"||!e)&&hV.test(t)||(e==="v6"||!e)&&mV.test(t))}class vo extends bn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Rt.string){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:Rt.string,received:s.parsedType}),nn}const r=new mi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")uV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"email",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")iw||(iw=new RegExp(dV,"u")),iw.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")oV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")aV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"nanoid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")rV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")iV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")sV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),It(i,{validation:"url",code:yt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"regex",code:yt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?wj(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?vV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?bV(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?cV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"duration",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?xV(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ip",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?_V(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"jwt",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?wV(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cidr",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?gV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?yV.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64url",code:yt.invalid_string,message:s.message}),r.dirty()):En.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:yt.invalid_string,...Wt.errToObj(r)})}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Wt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Wt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Wt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Wt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Wt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Wt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Wt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Wt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Wt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Wt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Wt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Wt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Wt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Wt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Wt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Wt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Wt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Wt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Wt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Wt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Wt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Wt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Wt.errToObj(n)})}nonempty(e){return this.min(1,Wt.errToObj(e))}trim(){return new vo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vo.create=t=>{var e;return new vo({checks:[],typeName:tn.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...mn(t)})};function SV(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ll extends bn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Rt.number){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:Rt.number,received:s.parsedType}),nn}let r;const i=new mi;for(const s of this._def.checks)s.kind==="int"?En.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?SV(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_finite,message:s.message}),i.dirty()):En.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Wt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Wt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Wt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Wt.toString(n))}setLimit(e,n,r,i){return new Ll({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Wt.toString(i)}]})}_addCheck(e){return new Ll({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Wt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Wt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Wt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Wt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Wt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Wt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&En.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ll.create=t=>new Ll({checks:[],typeName:tn.ZodNumber,coerce:t?.coerce||!1,...mn(t)});class Ml extends bn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Rt.bigint)return this._getInvalidInput(e);let r;const i=new mi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):En.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:Rt.bigint,received:n.parsedType}),nn}gte(e,n){return this.setLimit("min",e,!0,Wt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Wt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Wt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Wt.toString(n))}setLimit(e,n,r,i){return new Ml({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Wt.toString(i)}]})}_addCheck(e){return new Ml({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Wt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Wt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ml.create=t=>{var e;return new Ml({checks:[],typeName:tn.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...mn(t)})};class Mh extends bn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Rt.boolean){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:Rt.boolean,received:r.parsedType}),nn}return Ci(e.data)}}Mh.create=t=>new Mh({typeName:tn.ZodBoolean,coerce:t?.coerce||!1,...mn(t)});class Vc extends bn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Rt.date){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:Rt.date,received:s.parsedType}),nn}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_date}),nn}const r=new mi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):En.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Wt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Wt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Vc.create=t=>new Vc({checks:[],coerce:t?.coerce||!1,typeName:tn.ZodDate,...mn(t)});class Iy extends bn{_parse(e){if(this._getType(e)!==Rt.symbol){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:Rt.symbol,received:r.parsedType}),nn}return Ci(e.data)}}Iy.create=t=>new Iy({typeName:tn.ZodSymbol,...mn(t)});class $h extends bn{_parse(e){if(this._getType(e)!==Rt.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:Rt.undefined,received:r.parsedType}),nn}return Ci(e.data)}}$h.create=t=>new $h({typeName:tn.ZodUndefined,...mn(t)});class Bh extends bn{_parse(e){if(this._getType(e)!==Rt.null){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:Rt.null,received:r.parsedType}),nn}return Ci(e.data)}}Bh.create=t=>new Bh({typeName:tn.ZodNull,...mn(t)});class Td extends bn{constructor(){super(...arguments),this._any=!0}_parse(e){return Ci(e.data)}}Td.create=t=>new Td({typeName:tn.ZodAny,...mn(t)});class Dc extends bn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ci(e.data)}}Dc.create=t=>new Dc({typeName:tn.ZodUnknown,...mn(t)});class Fa extends bn{_parse(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:Rt.never,received:n.parsedType}),nn}}Fa.create=t=>new Fa({typeName:tn.ZodNever,...mn(t)});class Cy extends bn{_parse(e){if(this._getType(e)!==Rt.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:Rt.void,received:r.parsedType}),nn}return Ci(e.data)}}Cy.create=t=>new Cy({typeName:tn.ZodVoid,...mn(t)});class _o extends bn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Rt.array)return It(n,{code:yt.invalid_type,expected:Rt.array,received:n.parsedType}),nn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(It(n,{code:o?yt.too_big:yt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(It(n,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(It(n,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Zo(n,o,n.path,l)))).then(o=>mi.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new Zo(n,o,n.path,l)));return mi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new _o({...this._def,minLength:{value:e,message:Wt.toString(n)}})}max(e,n){return new _o({...this._def,maxLength:{value:e,message:Wt.toString(n)}})}length(e,n){return new _o({...this._def,exactLength:{value:e,message:Wt.toString(n)}})}nonempty(e){return this.min(1,e)}}_o.create=(t,e)=>new _o({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tn.ZodArray,...mn(e)});function Zu(t){if(t instanceof vr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ho.create(Zu(r))}return new vr({...t._def,shape:()=>e})}else return t instanceof _o?new _o({...t._def,type:Zu(t.element)}):t instanceof Ho?Ho.create(Zu(t.unwrap())):t instanceof Bl?Bl.create(Zu(t.unwrap())):t instanceof Jo?Jo.create(t.items.map(e=>Zu(e))):t}class vr extends bn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=En.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Rt.object){const d=this._getOrReturnCtx(e);return It(d,{code:yt.invalid_type,expected:Rt.object,received:d.parsedType}),nn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fa&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const u=[];for(const d of o){const f=s[d],h=i.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Zo(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Fa){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(It(i,{code:yt.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const h=i.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Zo(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const h=await f.key,b=await f.value;d.push({key:h,value:b,alwaysSet:f.alwaysSet})}return d}).then(d=>mi.mergeObjectSync(r,d)):mi.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Wt.errToObj,new vr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Wt.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new vr({...this._def,unknownKeys:"strip"})}passthrough(){return new vr({...this._def,unknownKeys:"passthrough"})}extend(e){return new vr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new vr({...this._def,catchall:e})}pick(e){const n={};return En.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new vr({...this._def,shape:()=>n})}omit(e){const n={};return En.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new vr({...this._def,shape:()=>n})}deepPartial(){return Zu(this)}partial(e){const n={};return En.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new vr({...this._def,shape:()=>n})}required(e){const n={};return En.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ho;)s=s._def.innerType;n[r]=s}}),new vr({...this._def,shape:()=>n})}keyof(){return Sj(En.objectKeys(this.shape))}}vr.create=(t,e)=>new vr({shape:()=>t,unknownKeys:"strip",catchall:Fa.create(),typeName:tn.ZodObject,...mn(e)});vr.strictCreate=(t,e)=>new vr({shape:()=>t,unknownKeys:"strict",catchall:Fa.create(),typeName:tn.ZodObject,...mn(e)});vr.lazycreate=(t,e)=>new vr({shape:t,unknownKeys:"strip",catchall:Fa.create(),typeName:tn.ZodObject,...mn(e)});class zh extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new hs(l.ctx.common.issues));return It(n,{code:yt.invalid_union,unionErrors:o}),nn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(u=>new hs(u));return It(n,{code:yt.invalid_union,unionErrors:l}),nn}}get options(){return this._def.options}}zh.create=(t,e)=>new zh({options:t,typeName:tn.ZodUnion,...mn(e)});const Sa=t=>t instanceof Vh?Sa(t.schema):t instanceof So?Sa(t.innerType()):t instanceof Hh?[t.value]:t instanceof $l?t.options:t instanceof Qh?En.objectValues(t.enum):t instanceof Kh?Sa(t._def.innerType):t instanceof $h?[void 0]:t instanceof Bh?[null]:t instanceof Ho?[void 0,...Sa(t.unwrap())]:t instanceof Bl?[null,...Sa(t.unwrap())]:t instanceof OE||t instanceof Zh?Sa(t.unwrap()):t instanceof Gh?Sa(t._def.innerType):[];class Mv extends bn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Rt.object)return It(n,{code:yt.invalid_type,expected:Rt.object,received:n.parsedType}),nn;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(It(n,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),nn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Sa(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Mv({typeName:tn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...mn(r)})}}function pS(t,e){const n=ka(t),r=ka(e);if(t===e)return{valid:!0,data:t};if(n===Rt.object&&r===Rt.object){const i=En.objectKeys(e),s=En.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const u=pS(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===Rt.array&&r===Rt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],u=pS(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Rt.date&&r===Rt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Wh extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(fS(s)||fS(o))return nn;const l=pS(s.value,o.value);return l.valid?((hS(s)||hS(o))&&n.dirty(),{status:n.value,value:l.data}):(It(r,{code:yt.invalid_intersection_types}),nn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wh.create=(t,e,n)=>new Wh({left:t,right:e,typeName:tn.ZodIntersection,...mn(n)});class Jo extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Rt.array)return It(r,{code:yt.invalid_type,expected:Rt.array,received:r.parsedType}),nn;if(r.data.length<this._def.items.length)return It(r,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nn;!this._def.rest&&r.data.length>this._def.items.length&&(It(r,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Zo(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>mi.mergeArray(n,o)):mi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Jo({...this._def,rest:e})}}Jo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jo({items:t,typeName:tn.ZodTuple,rest:null,...mn(e)})};class Uh extends bn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Rt.object)return It(r,{code:yt.invalid_type,expected:Rt.object,received:r.parsedType}),nn;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new Zo(r,l,r.path,l)),value:o._parse(new Zo(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?mi.mergeObjectAsync(n,i):mi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof bn?new Uh({keyType:e,valueType:n,typeName:tn.ZodRecord,...mn(r)}):new Uh({keyType:vo.create(),valueType:e,typeName:tn.ZodRecord,...mn(n)})}}class Ty extends bn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Rt.map)return It(r,{code:yt.invalid_type,expected:Rt.map,received:r.parsedType}),nn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,u],d)=>({key:i._parse(new Zo(r,l,r.path,[d,"key"])),value:s._parse(new Zo(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return nn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return nn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}Ty.create=(t,e,n)=>new Ty({valueType:e,keyType:t,typeName:tn.ZodMap,...mn(n)});class Hc extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Rt.set)return It(r,{code:yt.invalid_type,expected:Rt.set,received:r.parsedType}),nn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(It(r,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(It(r,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const d=new Set;for(const f of u){if(f.status==="aborted")return nn;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>s._parse(new Zo(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new Hc({...this._def,minSize:{value:e,message:Wt.toString(n)}})}max(e,n){return new Hc({...this._def,maxSize:{value:e,message:Wt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Hc.create=(t,e)=>new Hc({valueType:t,minSize:null,maxSize:null,typeName:tn.ZodSet,...mn(e)});class fd extends bn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Rt.function)return It(n,{code:yt.invalid_type,expected:Rt.function,received:n.parsedType}),nn;function r(l,u){return Ny({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ey(),Cd].filter(d=>!!d),issueData:{code:yt.invalid_arguments,argumentsError:u}})}function i(l,u){return Ny({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ey(),Cd].filter(d=>!!d),issueData:{code:yt.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Od){const l=this;return Ci(async function(...u){const d=new hs([]),f=await l._def.args.parseAsync(u,s).catch(x=>{throw d.addIssue(r(u,x)),d}),h=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(h,s).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return Ci(function(...u){const d=l._def.args.safeParse(u,s);if(!d.success)throw new hs([r(u,d.error)]);const f=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(f,s);if(!h.success)throw new hs([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fd({...this._def,args:Jo.create(e).rest(Dc.create())})}returns(e){return new fd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new fd({args:e||Jo.create([]).rest(Dc.create()),returns:n||Dc.create(),typeName:tn.ZodFunction,...mn(r)})}}class Vh extends bn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Vh.create=(t,e)=>new Vh({getter:t,typeName:tn.ZodLazy,...mn(e)});class Hh extends bn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return It(n,{received:n.data,code:yt.invalid_literal,expected:this._def.value}),nn}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hh.create=(t,e)=>new Hh({value:t,typeName:tn.ZodLiteral,...mn(e)});function Sj(t,e){return new $l({values:t,typeName:tn.ZodEnum,...mn(e)})}class $l extends bn{constructor(){super(...arguments),uh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{expected:En.joinValues(r),received:n.parsedType,code:yt.invalid_type}),nn}if(ky(this,uh)||bj(this,uh,new Set(this._def.values)),!ky(this,uh).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{received:n.data,code:yt.invalid_enum_value,options:r}),nn}return Ci(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return $l.create(e,{...this._def,...n})}exclude(e,n=this._def){return $l.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}uh=new WeakMap;$l.create=Sj;class Qh extends bn{constructor(){super(...arguments),dh.set(this,void 0)}_parse(e){const n=En.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Rt.string&&r.parsedType!==Rt.number){const i=En.objectValues(n);return It(r,{expected:En.joinValues(i),received:r.parsedType,code:yt.invalid_type}),nn}if(ky(this,dh)||bj(this,dh,new Set(En.getValidEnumValues(this._def.values))),!ky(this,dh).has(e.data)){const i=En.objectValues(n);return It(r,{received:r.data,code:yt.invalid_enum_value,options:i}),nn}return Ci(e.data)}get enum(){return this._def.values}}dh=new WeakMap;Qh.create=(t,e)=>new Qh({values:t,typeName:tn.ZodNativeEnum,...mn(e)});class Od extends bn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Rt.promise&&n.common.async===!1)return It(n,{code:yt.invalid_type,expected:Rt.promise,received:n.parsedType}),nn;const r=n.parsedType===Rt.promise?n.data:Promise.resolve(n.data);return Ci(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Od.create=(t,e)=>new Od({type:t,typeName:tn.ZodPromise,...mn(e)});class So extends bn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{It(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return nn;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?nn:u.status==="dirty"||n.value==="dirty"?ed(u.value):u});{if(n.value==="aborted")return nn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?nn:l.status==="dirty"||n.value==="dirty"?ed(l.value):l}}if(i.type==="refinement"){const o=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?nn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?nn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Uc(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Uc(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);En.assertNever(i)}}So.create=(t,e,n)=>new So({schema:t,typeName:tn.ZodEffects,effect:e,...mn(n)});So.createWithPreprocess=(t,e,n)=>new So({schema:e,effect:{type:"preprocess",transform:t},typeName:tn.ZodEffects,...mn(n)});class Ho extends bn{_parse(e){return this._getType(e)===Rt.undefined?Ci(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ho.create=(t,e)=>new Ho({innerType:t,typeName:tn.ZodOptional,...mn(e)});class Bl extends bn{_parse(e){return this._getType(e)===Rt.null?Ci(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bl.create=(t,e)=>new Bl({innerType:t,typeName:tn.ZodNullable,...mn(e)});class Kh extends bn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Rt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Kh.create=(t,e)=>new Kh({innerType:t,typeName:tn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...mn(e)});class Gh extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Lh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Gh.create=(t,e)=>new Gh({innerType:t,typeName:tn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...mn(e)});class Oy extends bn{_parse(e){if(this._getType(e)!==Rt.nan){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:Rt.nan,received:r.parsedType}),nn}return{status:"valid",value:e.data}}}Oy.create=t=>new Oy({typeName:tn.ZodNaN,...mn(t)});const EV=Symbol("zod_brand");class OE extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Rp extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?nn:s.status==="dirty"?(n.dirty(),ed(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?nn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Rp({in:e,out:n,typeName:tn.ZodPipeline})}}class Zh extends bn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Uc(i)&&(i.value=Object.freeze(i.value)),i);return Lh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Zh.create=(t,e)=>new Zh({innerType:t,typeName:tn.ZodReadonly,...mn(e)});function Ej(t,e={},n){return t?Td.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...d,fatal:u})}}):Td.create()}const NV={object:vr.lazycreate};var tn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(tn||(tn={}));const kV=(t,e={message:`Input not instance of ${t.name}`})=>Ej(n=>n instanceof t,e),Nj=vo.create,kj=Ll.create,IV=Oy.create,CV=Ml.create,Ij=Mh.create,TV=Vc.create,OV=Iy.create,qV=$h.create,RV=Bh.create,AV=Td.create,jV=Dc.create,PV=Fa.create,FV=Cy.create,DV=_o.create,LV=vr.create,MV=vr.strictCreate,$V=zh.create,BV=Mv.create,zV=Wh.create,WV=Jo.create,UV=Uh.create,VV=Ty.create,HV=Hc.create,QV=fd.create,KV=Vh.create,GV=Hh.create,ZV=$l.create,JV=Qh.create,YV=Od.create,uT=So.create,XV=Ho.create,e5=Bl.create,t5=So.createWithPreprocess,n5=Rp.create,r5=()=>Nj().optional(),i5=()=>kj().optional(),s5=()=>Ij().optional(),o5={string:t=>vo.create({...t,coerce:!0}),number:t=>Ll.create({...t,coerce:!0}),boolean:t=>Mh.create({...t,coerce:!0}),bigint:t=>Ml.create({...t,coerce:!0}),date:t=>Vc.create({...t,coerce:!0})},a5=nn;var Y=Object.freeze({__proto__:null,defaultErrorMap:Cd,setErrorMap:tV,getErrorMap:Ey,makeIssue:Ny,EMPTY_PATH:nV,addIssueToContext:It,ParseStatus:mi,INVALID:nn,DIRTY:ed,OK:Ci,isAborted:fS,isDirty:hS,isValid:Uc,isAsync:Lh,get util(){return En},get objectUtil(){return dS},ZodParsedType:Rt,getParsedType:ka,ZodType:bn,datetimeRegex:wj,ZodString:vo,ZodNumber:Ll,ZodBigInt:Ml,ZodBoolean:Mh,ZodDate:Vc,ZodSymbol:Iy,ZodUndefined:$h,ZodNull:Bh,ZodAny:Td,ZodUnknown:Dc,ZodNever:Fa,ZodVoid:Cy,ZodArray:_o,ZodObject:vr,ZodUnion:zh,ZodDiscriminatedUnion:Mv,ZodIntersection:Wh,ZodTuple:Jo,ZodRecord:Uh,ZodMap:Ty,ZodSet:Hc,ZodFunction:fd,ZodLazy:Vh,ZodLiteral:Hh,ZodEnum:$l,ZodNativeEnum:Qh,ZodPromise:Od,ZodEffects:So,ZodTransformer:So,ZodOptional:Ho,ZodNullable:Bl,ZodDefault:Kh,ZodCatch:Gh,ZodNaN:Oy,BRAND:EV,ZodBranded:OE,ZodPipeline:Rp,ZodReadonly:Zh,custom:Ej,Schema:bn,ZodSchema:bn,late:NV,get ZodFirstPartyTypeKind(){return tn},coerce:o5,any:AV,array:DV,bigint:CV,boolean:Ij,date:TV,discriminatedUnion:BV,effect:uT,enum:ZV,function:QV,instanceof:kV,intersection:zV,lazy:KV,literal:GV,map:VV,nan:IV,nativeEnum:JV,never:PV,null:RV,nullable:e5,number:kj,object:LV,oboolean:s5,onumber:i5,optional:XV,ostring:r5,pipeline:n5,preprocess:t5,promise:YV,record:UV,set:HV,strictObject:MV,string:Nj,symbol:OV,transformer:uT,tuple:WV,undefined:qV,union:$V,unknown:jV,void:FV,NEVER:a5,ZodIssueCode:yt,quotelessJson:eV,ZodError:hs});const l5=Y.object({page:Y.number().gte(0,"Page must be greater than zero"),size:Y.number().gte(1,"Page size must be greater than one to get any data")}),Hs=Y.object({id:Y.string().min(1)}),qE=Y.object({message:Y.string()}),Qs=Y.object({id:Y.string().optional(),idIn:Y.array(Y.string()).optional(),fulltext:Y.string().optional()}),c5=Y.enum(["asc","desc"]),Ws=()=>Y.union([Y.boolean(),Y.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),Qc=()=>Y.union([Y.number().nonnegative(),Y.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t))]),hd=()=>Y.union([Y.number().int().nonnegative(),Y.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t))]),Zr=t=>Y.string().transform(e=>JSON.parse(e)).refine(e=>Array.isArray(e)).transform(e=>Y.array(t).parse(e)),u5=t=>Y.string().transform(e=>JSON.parse(e)).transform(e=>t.parse(e)),mS=new Proxy(()=>mS,{get:()=>mS}),To=({entity:t,shape:e,filter:n,sort:r})=>{const i=mS();return{entity:t,"~entity":i,"~entity-array":[],"~entity-partial-exclude-id":i,shape:e,"~shape":i,"~shape-partial":i,filter:n,"~filter":i,sort:Y.array(Y.object({name:Y.enum(r),sort:c5})),"~sort":i,"~sort-keyof":i}},hl=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),d5=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:hl(1,i),start:[],end:[]};const o=Math.max(t-n,r),l=Math.min(t+n,i-r),u=o>r+2,d=l<i-(r+1);return!u&&d?{type:"end",page:t,total:e,start:[],pages:hl(1,n*2+r+2),end:hl(e-(r-1),i)}:u&&!d?{type:"start",page:t,total:e,start:hl(1,r),pages:hl(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:hl(1,r),pages:hl(o,l),end:hl(i-r+1,i)}};var Wu={},ba={},Gn={},lo={},dT;function Cj(){if(dT)return lo;dT=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.anumber=t,lo.number=t,lo.abytes=n,lo.bytes=n,lo.ahash=r,lo.aexists=i,lo.aoutput=s;function t(l){if(!Number.isSafeInteger(l)||l<0)throw new Error("positive integer expected, got "+l)}function e(l){return l instanceof Uint8Array||ArrayBuffer.isView(l)&&l.constructor.name==="Uint8Array"}function n(l,...u){if(!e(l))throw new Error("Uint8Array expected");if(u.length>0&&!u.includes(l.length))throw new Error("Uint8Array expected of length "+u+", got length="+l.length)}function r(l){if(typeof l!="function"||typeof l.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(l.outputLen),t(l.blockLen)}function i(l,u=!0){if(l.destroyed)throw new Error("Hash instance has been destroyed");if(u&&l.finished)throw new Error("Hash#digest() has already been called")}function s(l,u){n(l);const d=u.outputLen;if(l.length<d)throw new Error("digestInto() expects output buffer of length at least "+d)}const o={number:t,bytes:n,hash:r,exists:i,output:s};return lo.default=o,lo}var cn={},fT;function f5(){if(fT)return cn;fT=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.add5L=cn.add5H=cn.add4H=cn.add4L=cn.add3H=cn.add3L=cn.rotlBL=cn.rotlBH=cn.rotlSL=cn.rotlSH=cn.rotr32L=cn.rotr32H=cn.rotrBL=cn.rotrBH=cn.rotrSL=cn.rotrSH=cn.shrSL=cn.shrSH=cn.toBig=void 0,cn.fromBig=n,cn.split=r,cn.add=q;const t=BigInt(2**32-1),e=BigInt(32);function n(j,z=!1){return z?{h:Number(j&t),l:Number(j>>e&t)}:{h:Number(j>>e&t)|0,l:Number(j&t)|0}}function r(j,z=!1){let P=new Uint32Array(j.length),W=new Uint32Array(j.length);for(let K=0;K<j.length;K++){const{h:L,l:te}=n(j[K],z);[P[K],W[K]]=[L,te]}return[P,W]}const i=(j,z)=>BigInt(j>>>0)<<e|BigInt(z>>>0);cn.toBig=i;const s=(j,z,P)=>j>>>P;cn.shrSH=s;const o=(j,z,P)=>j<<32-P|z>>>P;cn.shrSL=o;const l=(j,z,P)=>j>>>P|z<<32-P;cn.rotrSH=l;const u=(j,z,P)=>j<<32-P|z>>>P;cn.rotrSL=u;const d=(j,z,P)=>j<<64-P|z>>>P-32;cn.rotrBH=d;const f=(j,z,P)=>j>>>P-32|z<<64-P;cn.rotrBL=f;const h=(j,z)=>z;cn.rotr32H=h;const b=(j,z)=>j;cn.rotr32L=b;const x=(j,z,P)=>j<<P|z>>>32-P;cn.rotlSH=x;const w=(j,z,P)=>z<<P|j>>>32-P;cn.rotlSL=w;const E=(j,z,P)=>z<<P-32|j>>>64-P;cn.rotlBH=E;const I=(j,z,P)=>j<<P-32|z>>>64-P;cn.rotlBL=I;function q(j,z,P,W){const K=(z>>>0)+(W>>>0);return{h:j+P+(K/2**32|0)|0,l:K|0}}const O=(j,z,P)=>(j>>>0)+(z>>>0)+(P>>>0);cn.add3L=O;const T=(j,z,P,W)=>z+P+W+(j/2**32|0)|0;cn.add3H=T;const R=(j,z,P,W)=>(j>>>0)+(z>>>0)+(P>>>0)+(W>>>0);cn.add4L=R;const D=(j,z,P,W,K)=>z+P+W+K+(j/2**32|0)|0;cn.add4H=D;const F=(j,z,P,W,K)=>(j>>>0)+(z>>>0)+(P>>>0)+(W>>>0)+(K>>>0);cn.add5L=F;const B=(j,z,P,W,K,L)=>z+P+W+K+L+(j/2**32|0)|0;cn.add5H=B;const $={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:l,rotrSL:u,rotrBH:d,rotrBL:f,rotr32H:h,rotr32L:b,rotlSH:x,rotlSL:w,rotlBH:E,rotlBL:I,add:q,add3L:O,add3H:T,add4L:R,add4H:D,add5H:B,add5L:F};return cn.default=$,cn}var sw={},Yf={},hT;function h5(){return hT||(hT=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.crypto=void 0,Yf.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Yf}var pT;function p5(){return pT||(pT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=r,t.byteSwap32=f,t.bytesToHex=b,t.hexToBytes=E,t.asyncLoop=q,t.utf8ToBytes=O,t.toBytes=T,t.concatBytes=R,t.checkOpts=F,t.wrapConstructor=B,t.wrapConstructorWithOpts=$,t.wrapXOFConstructorWithOpts=j,t.randomBytes=z;const e=h5(),n=Cj();function r(P){return P instanceof Uint8Array||ArrayBuffer.isView(P)&&P.constructor.name==="Uint8Array"}const i=P=>new Uint8Array(P.buffer,P.byteOffset,P.byteLength);t.u8=i;const s=P=>new Uint32Array(P.buffer,P.byteOffset,Math.floor(P.byteLength/4));t.u32=s;const o=P=>new DataView(P.buffer,P.byteOffset,P.byteLength);t.createView=o;const l=(P,W)=>P<<32-W|P>>>W;t.rotr=l;const u=(P,W)=>P<<W|P>>>32-W>>>0;t.rotl=u,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const d=P=>P<<24&0xff000000|P<<8&0xff0000|P>>>8&65280|P>>>24&255;t.byteSwap=d,t.byteSwapIfBE=t.isLE?P=>P:P=>(0,t.byteSwap)(P);function f(P){for(let W=0;W<P.length;W++)P[W]=(0,t.byteSwap)(P[W])}const h=Array.from({length:256},(P,W)=>W.toString(16).padStart(2,"0"));function b(P){(0,n.abytes)(P);let W="";for(let K=0;K<P.length;K++)W+=h[P[K]];return W}const x={_0:48,_9:57,A:65,F:70,a:97,f:102};function w(P){if(P>=x._0&&P<=x._9)return P-x._0;if(P>=x.A&&P<=x.F)return P-(x.A-10);if(P>=x.a&&P<=x.f)return P-(x.a-10)}function E(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);const W=P.length,K=W/2;if(W%2)throw new Error("hex string expected, got unpadded hex of length "+W);const L=new Uint8Array(K);for(let te=0,X=0;te<K;te++,X+=2){const oe=w(P.charCodeAt(X)),re=w(P.charCodeAt(X+1));if(oe===void 0||re===void 0){const ne=P[X]+P[X+1];throw new Error('hex string expected, got non-hex character "'+ne+'" at index '+X)}L[te]=oe*16+re}return L}const I=async()=>{};t.nextTick=I;async function q(P,W,K){let L=Date.now();for(let te=0;te<P;te++){K(te);const X=Date.now()-L;X>=0&&X<W||(await (0,t.nextTick)(),L+=X)}}function O(P){if(typeof P!="string")throw new Error("utf8ToBytes expected string, got "+typeof P);return new Uint8Array(new TextEncoder().encode(P))}function T(P){return typeof P=="string"&&(P=O(P)),(0,n.abytes)(P),P}function R(...P){let W=0;for(let L=0;L<P.length;L++){const te=P[L];(0,n.abytes)(te),W+=te.length}const K=new Uint8Array(W);for(let L=0,te=0;L<P.length;L++){const X=P[L];K.set(X,te),te+=X.length}return K}class D{clone(){return this._cloneInto()}}t.Hash=D;function F(P,W){if(W!==void 0&&{}.toString.call(W)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(P,W)}function B(P){const W=L=>P().update(T(L)).digest(),K=P();return W.outputLen=K.outputLen,W.blockLen=K.blockLen,W.create=()=>P(),W}function $(P){const W=(L,te)=>P(te).update(T(L)).digest(),K=P({});return W.outputLen=K.outputLen,W.blockLen=K.blockLen,W.create=L=>P(L),W}function j(P){const W=(L,te)=>P(te).update(T(L)).digest(),K=P({});return W.outputLen=K.outputLen,W.blockLen=K.blockLen,W.create=L=>P(L),W}function z(P=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(P));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(P);throw new Error("crypto.getRandomValues must be defined")}}(sw)),sw}var mT;function m5(){if(mT)return Gn;mT=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.shake256=Gn.shake128=Gn.keccak_512=Gn.keccak_384=Gn.keccak_256=Gn.keccak_224=Gn.sha3_512=Gn.sha3_384=Gn.sha3_256=Gn.sha3_224=Gn.Keccak=void 0,Gn.keccakP=I;const t=Cj(),e=f5(),n=p5(),r=[],i=[],s=[],o=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(7),f=BigInt(256),h=BigInt(113);for(let R=0,D=l,F=1,B=0;R<24;R++){[F,B]=[B,(2*F+3*B)%5],r.push(2*(5*B+F)),i.push((R+1)*(R+2)/2%64);let $=o;for(let j=0;j<7;j++)D=(D<<l^(D>>d)*h)%f,D&u&&($^=l<<(l<<BigInt(j))-l);s.push($)}const[b,x]=(0,e.split)(s,!0),w=(R,D,F)=>F>32?(0,e.rotlBH)(R,D,F):(0,e.rotlSH)(R,D,F),E=(R,D,F)=>F>32?(0,e.rotlBL)(R,D,F):(0,e.rotlSL)(R,D,F);function I(R,D=24){const F=new Uint32Array(10);for(let B=24-D;B<24;B++){for(let z=0;z<10;z++)F[z]=R[z]^R[z+10]^R[z+20]^R[z+30]^R[z+40];for(let z=0;z<10;z+=2){const P=(z+8)%10,W=(z+2)%10,K=F[W],L=F[W+1],te=w(K,L,1)^F[P],X=E(K,L,1)^F[P+1];for(let oe=0;oe<50;oe+=10)R[z+oe]^=te,R[z+oe+1]^=X}let $=R[2],j=R[3];for(let z=0;z<24;z++){const P=i[z],W=w($,j,P),K=E($,j,P),L=r[z];$=R[L],j=R[L+1],R[L]=W,R[L+1]=K}for(let z=0;z<50;z+=10){for(let P=0;P<10;P++)F[P]=R[z+P];for(let P=0;P<10;P++)R[z+P]^=~F[(P+2)%10]&F[(P+4)%10]}R[0]^=b[B],R[1]^=x[B]}F.fill(0)}class q extends n.Hash{constructor(D,F,B,$=!1,j=24){if(super(),this.blockLen=D,this.suffix=F,this.outputLen=B,this.enableXOF=$,this.rounds=j,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(B),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),I(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(D){(0,t.aexists)(this);const{blockLen:F,state:B}=this;D=(0,n.toBytes)(D);const $=D.length;for(let j=0;j<$;){const z=Math.min(F-this.pos,$-j);for(let P=0;P<z;P++)B[this.pos++]^=D[j++];this.pos===F&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:D,suffix:F,pos:B,blockLen:$}=this;D[B]^=F,F&128&&B===$-1&&this.keccak(),D[$-1]^=128,this.keccak()}writeInto(D){(0,t.aexists)(this,!1),(0,t.abytes)(D),this.finish();const F=this.state,{blockLen:B}=this;for(let $=0,j=D.length;$<j;){this.posOut>=B&&this.keccak();const z=Math.min(B-this.posOut,j-$);D.set(F.subarray(this.posOut,this.posOut+z),$),this.posOut+=z,$+=z}return D}xofInto(D){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(D)}xof(D){return(0,t.anumber)(D),this.xofInto(new Uint8Array(D))}digestInto(D){if((0,t.aoutput)(D,this),this.finished)throw new Error("digest() was already called");return this.writeInto(D),this.destroy(),D}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(D){const{blockLen:F,suffix:B,outputLen:$,rounds:j,enableXOF:z}=this;return D||(D=new q(F,B,$,z,j)),D.state32.set(this.state32),D.pos=this.pos,D.posOut=this.posOut,D.finished=this.finished,D.rounds=j,D.suffix=B,D.outputLen=$,D.enableXOF=z,D.destroyed=this.destroyed,D}}Gn.Keccak=q;const O=(R,D,F)=>(0,n.wrapConstructor)(()=>new q(D,R,F));Gn.sha3_224=O(6,144,224/8),Gn.sha3_256=O(6,136,256/8),Gn.sha3_384=O(6,104,384/8),Gn.sha3_512=O(6,72,512/8),Gn.keccak_224=O(1,144,224/8),Gn.keccak_256=O(1,136,256/8),Gn.keccak_384=O(1,104,384/8),Gn.keccak_512=O(1,72,512/8);const T=(R,D,F)=>(0,n.wrapXOFConstructorWithOpts)((B={})=>new q(D,R,B.dkLen===void 0?F:B.dkLen,!0));return Gn.shake128=T(31,168,128/8),Gn.shake256=T(31,136,256/8),Gn}var gT;function g5(){if(gT)return ba;gT=1;const{sha3_512:t}=m5(),e=24,n=32,r=(w=4,E=Math.random)=>{let I="";for(;I.length<w;)I=I+Math.floor(E()*36).toString(36);return I};function i(w){let E=8n,I=0n;for(const q of w.values()){const O=BigInt(q);I=(I<<E)+O}return I}const s=(w="")=>i(t(w)).toString(36).slice(1),o=Array.from({length:26},(w,E)=>String.fromCharCode(E+97)),l=w=>o[Math.floor(w()*o.length)],u=({globalObj:w=typeof Cc<"u"?Cc:typeof window<"u"?window:{},random:E=Math.random}={})=>{const I=Object.keys(w).toString(),q=I.length?I+r(n,E):r(n,E);return s(q).substring(0,n)},d=w=>()=>w++,f=0x1c6b1f1f,h=({random:w=Math.random,counter:E=d(Math.floor(w()*f)),length:I=e,fingerprint:q=u({random:w})}={})=>function(){const T=l(w),R=Date.now().toString(36),D=E().toString(36),F=r(I,w),B=`${R+F+D+q}`;return`${T+s(B).substring(1,I)}`},b=h(),x=(w,{minLength:E=2,maxLength:I=n}={})=>{const q=w.length,O=/^[0-9a-z]+$/;try{if(typeof w=="string"&&q>=E&&q<=I&&O.test(w))return!0}finally{}return!1};return ba.getConstants=()=>({defaultLength:e,bigLength:n}),ba.init=h,ba.createId=b,ba.bufToBigInt=i,ba.createCounter=d,ba.createFingerprint=u,ba.isCuid=x,ba}var yT;function y5(){if(yT)return Wu;yT=1;const{createId:t,init:e,getConstants:n,isCuid:r}=g5();return Wu.createId=t,Wu.init=e,Wu.getConstants=n,Wu.isCuid=r,Wu}var v5=y5();const Yn=v5.createId;var ow,vT;function b5(){if(vT)return ow;vT=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(O){O!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(T){try{var R=t.call(T);return i.test(R)}catch{return!1}},o=function(T){try{return s(T)?!1:(t.call(T),!0)}catch{return!1}},l=Object.prototype.toString,u="[object Object]",d="[object Function]",f="[object GeneratorFunction]",h="[object HTMLAllCollection]",b="[object HTML document.all class]",x="[object HTMLCollection]",w=typeof Symbol=="function"&&!!Symbol.toStringTag,E=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var q=document.all;l.call(q)===l.call(document.all)&&(I=function(T){if((E||!T)&&(typeof T>"u"||typeof T=="object"))try{var R=l.call(T);return(R===h||R===b||R===x||R===u)&&T("")==null}catch{}return!1})}return ow=e?function(T){if(I(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;try{e(T,null,n)}catch(R){if(R!==r)return!1}return!s(T)&&o(T)}:function(T){if(I(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;if(w)return o(T);if(s(T))return!1;var R=l.call(T);return R!==d&&R!==f&&!/^\[object HTML/.test(R)?!1:o(T)},ow}var x5=b5();const _5=Vs(x5),w5=t=>_5(t);var Vg={exports:{}},S5=Vg.exports,bT;function E5(){return bT||(bT=1,function(t){(function(e,n){t.exports=n()})(S5,function(){var e=Object.prototype.toString;function n(h,b){return h==null?!1:Object.prototype.hasOwnProperty.call(h,b)}function r(h){if(!h||o(h)&&h.length===0)return!0;if(typeof h!="string"){for(var b in h)if(n(h,b))return!1;return!0}return!1}function i(h){return e.call(h)}function s(h){return typeof h=="object"&&i(h)==="[object Object]"}var o=Array.isArray||function(h){return e.call(h)==="[object Array]"};function l(h){return typeof h=="boolean"||i(h)==="[object Boolean]"}function u(h){var b=parseInt(h);return b.toString()===h?b:h}function d(h){h=h||{};var b=function(q){return Object.keys(b).reduce(function(O,T){return T==="create"||typeof b[T]=="function"&&(O[T]=b[T].bind(b,q)),O},{})},x;h.includeInheritedProps?x=function(){return!0}:x=function(q,O){return typeof O=="number"&&Array.isArray(q)||n(q,O)};function w(q,O){if(x(q,O))return q[O]}var E;h.includeInheritedProps?E=function(q,O){typeof O!="string"&&typeof O!="number"&&(O=String(O));var T=w(q,O);if(O==="__proto__"||O==="prototype"||O==="constructor"&&typeof T=="function")throw new Error("For security reasons, object's magic properties cannot be set");return T}:E=function(q,O){return w(q,O)};function I(q,O,T,R){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return q;if(typeof O=="string")return I(q,O.split(".").map(u),T,R);var D=O[0],F=E(q,D);return O.length===1?((F===void 0||!R)&&(q[D]=T),F):(F===void 0&&(typeof O[1]=="number"?q[D]=[]:q[D]={}),I(q[D],O.slice(1),T,R))}return b.has=function(q,O){if(typeof O=="number"?O=[O]:typeof O=="string"&&(O=O.split(".")),!O||O.length===0)return!!q;for(var T=0;T<O.length;T++){var R=u(O[T]);if(typeof R=="number"&&o(q)&&R<q.length||(h.includeInheritedProps?R in Object(q):n(q,R)))q=q[R];else return!1}return!0},b.ensureExists=function(q,O,T){return I(q,O,T,!0)},b.set=function(q,O,T,R){return I(q,O,T,R)},b.insert=function(q,O,T,R){var D=b.get(q,O);R=~~R,o(D)||(D=[],b.set(q,O,D)),D.splice(R,0,T)},b.empty=function(q,O){if(!r(O)&&q!=null){var T,R;if(T=b.get(q,O)){if(typeof T=="string")return b.set(q,O,"");if(l(T))return b.set(q,O,!1);if(typeof T=="number")return b.set(q,O,0);if(o(T))T.length=0;else if(s(T))for(R in T)x(T,R)&&delete T[R];else return b.set(q,O,null)}}},b.push=function(q,O){var T=b.get(q,O);o(T)||(T=[],b.set(q,O,T)),T.push.apply(T,Array.prototype.slice.call(arguments,2))},b.coalesce=function(q,O,T){for(var R,D=0,F=O.length;D<F;D++)if((R=b.get(q,O[D]))!==void 0)return R;return T},b.get=function(q,O,T){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return q;if(q==null)return T;if(typeof O=="string")return b.get(q,O.split("."),T);var R=u(O[0]),D=E(q,R);return D===void 0?T:O.length===1?D:b.get(q[R],O.slice(1),T)},b.del=function(O,T){if(typeof T=="number"&&(T=[T]),O==null||r(T))return O;if(typeof T=="string")return b.del(O,T.split("."));var R=u(T[0]);if(E(O,R),!x(O,R))return O;if(T.length===1)o(O)?O.splice(R,1):delete O[R];else return b.del(O[R],T.slice(1));return O},b}var f=d();return f.create=d,f.withInheritedProps=d({includeInheritedProps:!0}),f})}(Vg)),Vg.exports}var N5=E5();const xT=Vs(N5);function Xn({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const RE=({error:t,errors:e,onError:n})=>{const r=e.some(s=>s),i=t instanceof Error;return!r&&i&&n(t),r||i},Tj=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),k5=gn({use:Tj,slot:{},variant:{},defaults:{}}),_T=({icon:t,iconProps:e,variant:n,tva:r=k5,css:i,children:s,...o})=>{const l=r({...n,css:i}).slots;return m.jsxs("div",{className:l.base(),...o,children:[Lv(t)?m.jsx(Xt,{icon:t,...e}):t,s]})};function $v(){return typeof window<"u"}function Zl(t){return Oj(t)?(t.nodeName||"").toLowerCase():"#document"}function Gi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function na(t){var e;return(e=(Oj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Oj(t){return $v()?t instanceof Node||t instanceof Gi(t).Node:!1}function Jn(t){return $v()?t instanceof Element||t instanceof Gi(t).Element:!1}function Dr(t){return $v()?t instanceof HTMLElement||t instanceof Gi(t).HTMLElement:!1}function gS(t){return!$v()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gi(t).ShadowRoot}function Ap(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Us(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function I5(t){return["table","td","th"].includes(Zl(t))}function Bv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function AE(t){const e=zv(),n=Jn(t)?Us(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function C5(t){let e=Da(t);for(;Dr(e)&&!qa(e);){if(AE(e))return e;if(Bv(e))return null;e=Da(e)}return null}function zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qa(t){return["html","body","#document"].includes(Zl(t))}function Us(t){return Gi(t).getComputedStyle(t)}function Wv(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Da(t){if(Zl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gS(t)&&t.host||na(t);return gS(e)?e.host:e}function qj(t){const e=Da(t);return qa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dr(e)&&Ap(e)?e:qj(e)}function Ol(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=qj(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Gi(i);if(s){const l=yS(o);return e.concat(o,o.visualViewport||[],Ap(i)?i:[],l&&n?Ol(l):[])}return e.concat(i,Ol(i,[],n))}function yS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function po(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function ni(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&gS(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function jE(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Rj(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function Aj(t){return t.mozInputSource===0&&t.isTrusted?!0:vS()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function PE(t){return O5()?!1:!vS()&&t.width===0&&t.height===0||vS()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function jj(){return/apple/i.test(navigator.vendor)}function vS(){const t=/android/i;return t.test(jE())||t.test(Rj())}function T5(){return jE().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function O5(){return Rj().includes("jsdom/")}function Jh(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function q5(t){return"nativeEvent"in t}function R5(t){return t.matches("html,body")}function ri(t){return t?.ownerDocument||document}function aw(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function wl(t){return"composedPath"in t?t.composedPath()[0]:t.target}const A5="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function FE(t){return Dr(t)&&t.matches(A5)}function wi(t){t.preventDefault(),t.stopPropagation()}function Pj(t){return t?t.getAttribute("role")==="combobox"&&FE(t):!1}const qd=Math.min,as=Math.max,qy=Math.round,td=Math.floor,Qo=t=>({x:t,y:t}),j5={left:"right",right:"left",bottom:"top",top:"bottom"},P5={start:"end",end:"start"};function wT(t,e,n){return as(t,qd(e,n))}function jp(t,e){return typeof t=="function"?t(e):t}function zl(t){return t.split("-")[0]}function Pp(t){return t.split("-")[1]}function Fj(t){return t==="x"?"y":"x"}function Dj(t){return t==="y"?"height":"width"}function Kc(t){return["top","bottom"].includes(zl(t))?"y":"x"}function Lj(t){return Fj(Kc(t))}function F5(t,e,n){n===void 0&&(n=!1);const r=Pp(t),i=Lj(t),s=Dj(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ry(o)),[o,Ry(o)]}function D5(t){const e=Ry(t);return[bS(t),e,bS(e)]}function bS(t){return t.replace(/start|end/g,e=>P5[e])}function L5(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function M5(t,e,n,r){const i=Pp(t);let s=L5(zl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(bS)))),s}function Ry(t){return t.replace(/left|right|bottom|top/g,e=>j5[e])}function $5(t){return{top:0,right:0,bottom:0,left:0,...t}}function B5(t){return typeof t!="number"?$5(t):{top:t,right:t,bottom:t,left:t}}function Ay(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var z5=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],jy=z5.join(","),Mj=typeof Element>"u",Rd=Mj?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Py=!Mj&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Fy=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},W5=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},U5=function(e,n,r){if(Fy(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(jy));return n&&Rd.call(e,jy)&&i.unshift(e),i=i.filter(r),i},V5=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!Fy(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),u=l.length?l:o.children,d=t(u,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:o,candidates:d})}else{var f=Rd.call(o,jy);f&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),b=!Fy(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&b){var x=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:o,candidates:x})}else s.unshift.apply(s,o.children)}}return i},$j=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Bj=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||W5(e))&&!$j(e)?0:e.tabIndex},H5=function(e,n){var r=Bj(e);return r<0&&n&&!$j(e)?0:r},Q5=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},zj=function(e){return e.tagName==="INPUT"},K5=function(e){return zj(e)&&e.type==="hidden"},G5=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Z5=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},J5=function(e){if(!e.name)return!0;var n=e.form||Py(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=Z5(i,e.form);return!s||s===e},Y5=function(e){return zj(e)&&e.type==="radio"},X5=function(e){return Y5(e)&&!J5(e)},e8=function(e){var n,r=e&&Py(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,l,u;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!s&&i;){var d,f,h;r=Py(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((f=i)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},ST=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},t8=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Rd.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Rd.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var u=e.parentElement,d=Py(e);if(u&&!u.shadowRoot&&i(u)===!0)return ST(e);e.assignedSlot?e=e.assignedSlot:!u&&d!==e.ownerDocument?e=d.host:e=u}e=l}if(e8(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ST(e);return!1},n8=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Rd.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},r8=function(e,n){return!(n.disabled||Fy(n)||K5(n)||t8(n,e)||G5(n)||n8(n))},xS=function(e,n){return!(X5(n)||Bj(n)<0||!r8(e,n))},i8=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},s8=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,u=H5(l,o),d=o?t(i.candidates):l;u===0?o?n.push.apply(n,d):n.push(l):r.push({documentOrder:s,tabIndex:u,item:i,isScope:o,content:d})}),r.sort(Q5).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},Uv=function(e,n){n=n||{};var r;return n.getShadowRoot?r=V5([e],n.includeContainer,{filter:xS.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:i8}):r=U5(e,n.includeContainer,xS.bind(null,n)),s8(r)},o8=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Rd.call(e,jy)===!1?!1:xS(n,e)};function ET(t,e,n){let{reference:r,floating:i}=t;const s=Kc(e),o=Lj(e),l=Dj(o),u=zl(e),d=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(u){case"top":x={x:f,y:r.y-i.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(Pp(e)){case"start":x[o]-=b*(n&&d?-1:1);break;case"end":x[o]+=b*(n&&d?-1:1);break}return x}const a8=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await (o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=ET(d,r,u),b=r,x={},w=0;for(let E=0;E<l.length;E++){const{name:I,fn:q}=l[E],{x:O,y:T,data:R,reset:D}=await q({x:f,y:h,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=O??f,h=T??h,x={...x,[I]:{...x[I],...R}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:h}=ET(d,b,u)),E=-1)}return{x:f,y:h,placement:b,strategy:i,middlewareData:x}};async function DE(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:b=!1,padding:x=0}=jp(e,t),w=B5(x),I=l[b?h==="floating"?"reference":"floating":h],q=Ay(await s.getClippingRect({element:(n=await (s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await (s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),O=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await (s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),R=await (s.isElement==null?void 0:s.isElement(T))?await (s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Ay(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:O,offsetParent:T,strategy:u}):O);return{top:(q.top-D.top+w.top)/R.y,bottom:(D.bottom-q.bottom+w.bottom)/R.y,left:(q.left-D.left+w.left)/R.x,right:(D.right-q.right+w.right)/R.x}}const l8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:E=!0,...I}=jp(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const q=zl(i),O=Kc(l),T=zl(l)===l,R=await (u.isRTL==null?void 0:u.isRTL(d.floating)),D=b||(T||!E?[Ry(l)]:D5(l)),F=w!=="none";!b&&F&&D.push(...M5(l,E,w,R));const B=[l,...D],$=await DE(e,I),j=[];let z=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&j.push($[q]),h){const L=F5(i,o,R);j.push($[L[0]],$[L[1]])}if(z=[...z,{placement:i,overflows:j}],!j.every(L=>L<=0)){var P,W;const L=(((P=s.flip)==null?void 0:P.index)||0)+1,te=B[L];if(te)return{data:{index:L,overflows:z},reset:{placement:te}};let X=(W=z.filter(oe=>oe.overflows[0]<=0).sort((oe,re)=>oe.overflows[1]-re.overflows[1])[0])==null?void 0:W.placement;if(!X)switch(x){case"bestFit":{var K;const oe=(K=z.filter(re=>{if(F){const ne=Kc(re.placement);return ne===O||ne==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(ne=>ne>0).reduce((ne,ae)=>ne+ae,0)]).sort((re,ne)=>re[1]-ne[1])[0])==null?void 0:K[0];oe&&(X=oe);break}case"initialPlacement":X=l;break}if(i!==X)return{reset:{placement:X}}}return{}}}};async function c8(t,e){const{placement:n,platform:r,elements:i}=t,s=await (r.isRTL==null?void 0:r.isRTL(i.floating)),o=zl(n),l=Pp(n),u=Kc(n)==="y",d=["left","top"].includes(o)?-1:1,f=s&&u?-1:1,h=jp(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(x=l==="end"?w*-1:w),u?{x:x*f,y:b*d}:{x:b*d,y:x*f}}const u8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await c8(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},d8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:I=>{let{x:q,y:O}=I;return{x:q,y:O}}},...u}=jp(t,e),d={x:n,y:r},f=await DE(e,u),h=Kc(zl(i)),b=Fj(h);let x=d[b],w=d[h];if(s){const I=b==="y"?"top":"left",q=b==="y"?"bottom":"right",O=x+f[I],T=x-f[q];x=wT(O,x,T)}if(o){const I=h==="y"?"top":"left",q=h==="y"?"bottom":"right",O=w+f[I],T=w-f[q];w=wT(O,w,T)}const E=l.fn({...e,[b]:x,[h]:w});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[b]:s,[h]:o}}}}}},f8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...d}=jp(t,e),f=await DE(e,d),h=zl(i),b=Pp(i),x=Kc(i)==="y",{width:w,height:E}=s.floating;let I,q;h==="top"||h==="bottom"?(I=h,q=b===(await (o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(q=h,I=b==="end"?"top":"bottom");const O=E-f.top-f.bottom,T=w-f.left-f.right,R=qd(E-f[I],O),D=qd(w-f[q],T),F=!e.middlewareData.shift;let B=R,$=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(B=O),F&&!b){const z=as(f.left,0),P=as(f.right,0),W=as(f.top,0),K=as(f.bottom,0);x?$=w-2*(z!==0||P!==0?z+P:as(f.left,f.right)):B=E-2*(W!==0||K!==0?W+K:as(f.top,f.bottom))}await u({...e,availableWidth:$,availableHeight:B});const j=await o.getDimensions(l.floating);return w!==j.width||E!==j.height?{reset:{rects:!0}}:{}}}};function Wj(t){const e=Us(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Dr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=qy(n)!==s||qy(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function LE(t){return Jn(t)?t:t.contextElement}function pd(t){const e=LE(t);if(!Dr(e))return Qo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Wj(e);let o=(s?qy(n.width):n.width)/r,l=(s?qy(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const h8=Qo(0);function Uj(t){const e=Gi(t);return!zv()||!e.visualViewport?h8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gi(t)?!1:e}function Gc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=LE(t);let o=Qo(1);e&&(r?Jn(r)&&(o=pd(r)):o=pd(t));const l=p8(s,n,r)?Uj(s):Qo(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const b=Gi(s),x=r&&Jn(r)?Gi(r):r;let w=b,E=yS(w);for(;E&&r&&x!==w;){const I=pd(E),q=E.getBoundingClientRect(),O=Us(E),T=q.left+(E.clientLeft+parseFloat(O.paddingLeft))*I.x,R=q.top+(E.clientTop+parseFloat(O.paddingTop))*I.y;u*=I.x,d*=I.y,f*=I.x,h*=I.y,u+=T,d+=R,w=Gi(E),E=yS(w)}}return Ay({width:f,height:h,x:u,y:d})}function ME(t,e){const n=Wv(t).scrollLeft;return e?e.left+n:Gc(na(t)).left+n}function Vj(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:ME(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function m8(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=na(r),l=e?Bv(e.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=Qo(1);const f=Qo(0),h=Dr(r);if((h||!h&&!s)&&((Zl(r)!=="body"||Ap(o))&&(u=Wv(r)),Dr(r))){const x=Gc(r);d=pd(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const b=o&&!h&&!s?Vj(o,u,!0):Qo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+b.x,y:n.y*d.y-u.scrollTop*d.y+f.y+b.y}}function g8(t){return Array.from(t.getClientRects())}function y8(t){const e=na(t),n=Wv(t),r=t.ownerDocument.body,i=as(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=as(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ME(t);const l=-n.scrollTop;return Us(r).direction==="rtl"&&(o+=as(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function v8(t,e){const n=Gi(t),r=na(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const d=zv();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function b8(t,e){const n=Gc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Dr(t)?pd(t):Qo(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:o,height:l,x:u,y:d}}function NT(t,e,n){let r;if(e==="viewport")r=v8(t,n);else if(e==="document")r=y8(na(t));else if(Jn(e))r=b8(e,n);else{const i=Uj(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ay(r)}function Hj(t,e){const n=Da(t);return n===e||!Jn(n)||qa(n)?!1:Us(n).position==="fixed"||Hj(n,e)}function x8(t,e){const n=e.get(t);if(n)return n;let r=Ol(t,[],!1).filter(l=>Jn(l)&&Zl(l)!=="body"),i=null;const s=Us(t).position==="fixed";let o=s?Da(t):t;for(;Jn(o)&&!qa(o);){const l=Us(o),u=AE(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ap(o)&&!u&&Hj(t,o))?r=r.filter(f=>f!==o):i=l,o=Da(o)}return e.set(t,r),r}function _8(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Bv(e)?[]:x8(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,f)=>{const h=NT(e,f,i);return d.top=as(h.top,d.top),d.right=qd(h.right,d.right),d.bottom=qd(h.bottom,d.bottom),d.left=as(h.left,d.left),d},NT(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function w8(t){const{width:e,height:n}=Wj(t);return{width:e,height:n}}function S8(t,e,n){const r=Dr(e),i=na(e),s=n==="fixed",o=Gc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=Qo(0);if(r||!r&&!s)if((Zl(e)!=="body"||Ap(i))&&(l=Wv(e)),r){const b=Gc(e,!0,s,e);u.x=b.x+e.clientLeft,u.y=b.y+e.clientTop}else i&&(u.x=ME(i));const d=i&&!r&&!s?Vj(i,l):Qo(0),f=o.left+l.scrollLeft-u.x-d.x,h=o.top+l.scrollTop-u.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function lw(t){return Us(t).position==="static"}function kT(t,e){if(!Dr(t)||Us(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return na(t)===n&&(n=n.ownerDocument.body),n}function Qj(t,e){const n=Gi(t);if(Bv(t))return n;if(!Dr(t)){let i=Da(t);for(;i&&!qa(i);){if(Jn(i)&&!lw(i))return i;i=Da(i)}return n}let r=kT(t,e);for(;r&&I5(r)&&lw(r);)r=kT(r,e);return r&&qa(r)&&lw(r)&&!AE(r)?n:r||C5(t)||n}const E8=async function(t){const e=this.getOffsetParent||Qj,n=this.getDimensions,r=await n(t.floating);return{reference:S8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function N8(t){return Us(t).direction==="rtl"}const k8={convertOffsetParentRelativeRectToViewportRelativeRect:m8,getDocumentElement:na,getClippingRect:_8,getOffsetParent:Qj,getElementRects:E8,getClientRects:g8,getDimensions:w8,getScale:pd,isElement:Jn,isRTL:N8};function I8(t,e){let n=null,r;const i=na(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const{left:d,top:f,width:h,height:b}=t.getBoundingClientRect();if(l||e(),!h||!b)return;const x=td(f),w=td(i.clientWidth-(d+h)),E=td(i.clientHeight-(f+b)),I=td(d),O={rootMargin:-x+"px "+-w+"px "+-E+"px "+-I+"px",threshold:as(0,qd(1,u))||1};let T=!0;function R(D){const F=D[0].intersectionRatio;if(F!==u){if(!T)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(R,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,O)}n.observe(t)}return o(!0),s}function Kj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=LE(t),f=i||s?[...d?Ol(d):[],...Ol(e)]:[];f.forEach(q=>{i&&q.addEventListener("scroll",n,{passive:!0}),s&&q.addEventListener("resize",n)});const h=d&&l?I8(d,n):null;let b=-1,x=null;o&&(x=new ResizeObserver(q=>{let[O]=q;O&&O.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let w,E=u?Gc(t):null;u&&I();function I(){const q=Gc(t);E&&(q.x!==E.x||q.y!==E.y||q.width!==E.width||q.height!==E.height)&&n(),E=q,w=requestAnimationFrame(I)}return n(),()=>{var q;f.forEach(O=>{i&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),h?.(),(q=x)==null||q.disconnect(),x=null,u&&cancelAnimationFrame(w)}}const C8=u8,T8=d8,O8=l8,q8=f8,R8=(t,e,n)=>{const r=new Map,i={platform:k8,...n},s={...i.platform,_c:r};return a8(t,e,{...i,platform:s})};var Hg=typeof document<"u"?U.useLayoutEffect:U.useEffect;function Dy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dy(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Dy(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Gj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IT(t,e){const n=Gj(t);return Math.round(e*n)/n}function cw(t){const e=U.useRef(t);return Hg(()=>{e.current=t}),e}function A8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,h]=U.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=U.useState(r);Dy(b,r)||x(r);const[w,E]=U.useState(null),[I,q]=U.useState(null),O=U.useCallback(re=>{re!==F.current&&(F.current=re,E(re))},[]),T=U.useCallback(re=>{re!==B.current&&(B.current=re,q(re))},[]),R=s||w,D=o||I,F=U.useRef(null),B=U.useRef(null),$=U.useRef(f),j=u!=null,z=cw(u),P=cw(i),W=cw(d),K=U.useCallback(()=>{if(!F.current||!B.current)return;const re={placement:e,strategy:n,middleware:b};P.current&&(re.platform=P.current),R8(F.current,B.current,re).then(ne=>{const ae={...ne,isPositioned:W.current!==!1};L.current&&!Dy($.current,ae)&&($.current=ae,Ev.flushSync(()=>{h(ae)}))})},[b,e,n,P,W]);Hg(()=>{d===!1&&$.current.isPositioned&&($.current.isPositioned=!1,h(re=>({...re,isPositioned:!1})))},[d]);const L=U.useRef(!1);Hg(()=>(L.current=!0,()=>{L.current=!1}),[]),Hg(()=>{if(R&&(F.current=R),D&&(B.current=D),R&&D){if(z.current)return z.current(R,D,K);K()}},[R,D,K,z,j]);const te=U.useMemo(()=>({reference:F,floating:B,setReference:O,setFloating:T}),[O,T]),X=U.useMemo(()=>({reference:R,floating:D}),[R,D]),oe=U.useMemo(()=>{const re={position:n,left:0,top:0};if(!X.floating)return re;const ne=IT(X.floating,f.x),ae=IT(X.floating,f.y);return l?{...re,transform:"translate("+ne+"px, "+ae+"px)",...Gj(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ae}},[n,l,X.floating,f.x,f.y]);return U.useMemo(()=>({...f,update:K,refs:te,elements:X,floatingStyles:oe}),[f,K,te,X,oe])}const Zj=(t,e)=>({...C8(t),options:[t,e]}),j8=(t,e)=>({...T8(t),options:[t,e]}),Jj=(t,e)=>({...O8(t),options:[t,e]}),P8=(t,e)=>({...q8(t),options:[t,e]});function CT(t){return U.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const Yj={...zM},F8=Yj.useInsertionEffect,D8=F8||(t=>t());function Vi(t){const e=U.useRef(()=>{});return D8(()=>{e.current=t}),U.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const $E="ArrowUp",Fp="ArrowDown",ql="ArrowLeft",Rl="ArrowRight";function cg(t,e,n){return Math.floor(t/e)!==n}function wh(t,e){return e<0||e>=t.current.length}function uw(t,e){return ui(t,{disabledIndices:e})}function TT(t,e){return ui(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function ui(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e;const o=t.current;let l=n;do l+=r?-s:s;while(l>=0&&l<=o.length-1&&Qg(o,l,i));return l}function L8(t,e){let{event:n,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:l,minIndex:u,maxIndex:d,prevIndex:f,stopEvent:h=!1}=e,b=f;if(n.key===$E){if(h&&wi(n),f===-1)b=d;else if(b=ui(t,{startingIndex:b,amount:o,decrement:!0,disabledIndices:l}),i&&(f-o<u||b<0)){const x=f%o,w=d%o,E=d-(w-x);w===x?b=d:b=w>x?E:E-o}wh(t,b)&&(b=f)}if(n.key===Fp&&(h&&wi(n),f===-1?b=u:(b=ui(t,{startingIndex:f,amount:o,disabledIndices:l}),i&&f+o>d&&(b=ui(t,{startingIndex:f%o-o,amount:o,disabledIndices:l}))),wh(t,b)&&(b=f)),r==="both"){const x=td(f/o);n.key===(s?ql:Rl)&&(h&&wi(n),f%o!==o-1?(b=ui(t,{startingIndex:f,disabledIndices:l}),i&&cg(b,o,x)&&(b=ui(t,{startingIndex:f-f%o-1,disabledIndices:l}))):i&&(b=ui(t,{startingIndex:f-f%o-1,disabledIndices:l})),cg(b,o,x)&&(b=f)),n.key===(s?Rl:ql)&&(h&&wi(n),f%o!==0?(b=ui(t,{startingIndex:f,decrement:!0,disabledIndices:l}),i&&cg(b,o,x)&&(b=ui(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l}))):i&&(b=ui(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l})),cg(b,o,x)&&(b=f));const w=td(d/o)===x;wh(t,b)&&(i&&w?b=n.key===(s?Rl:ql)?d:ui(t,{startingIndex:f-f%o-1,disabledIndices:l}):b=f)}return b}function M8(t,e,n){const r=[];let i=0;return t.forEach((s,o)=>{let{width:l,height:u}=s,d=!1;for(n&&(i=0);!d;){const f=[];for(let h=0;h<l;h++)for(let b=0;b<u;b++)f.push(i+h+b*e);i%e+l<=e&&f.every(h=>r[h]==null)?(f.forEach(h=>{r[h]=o}),d=!0):i++}}),[...r]}function $8(t,e,n,r,i){if(t===-1)return-1;const s=n.indexOf(t),o=e[t];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return n.lastIndexOf(t)}}function B8(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function Qg(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var cr=typeof document<"u"?U.useLayoutEffect:U.useEffect;function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}let OT=!1,z8=0;const qT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+z8++;function W8(){const[t,e]=U.useState(()=>OT?qT():void 0);return cr(()=>{t==null&&e(qT())},[]),U.useEffect(()=>{OT=!0},[]),t}const U8=Yj.useId,BE=U8||W8;function Xj(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const eP=U.createContext(null),tP=U.createContext(null),Dp=()=>{var t;return((t=U.useContext(eP))==null?void 0:t.id)||null},Jd=()=>U.useContext(tP);function V8(t){const e=BE(),n=Jd(),i=Dp();return cr(()=>{if(!e)return;const s={id:e,parentId:i};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,e,i]),e}function H8(t){const{children:e,id:n}=t,r=Dp();return U.createElement(eP.Provider,{value:U.useMemo(()=>({id:n,parentId:r}),[n,r])},e)}function Q8(t){const{children:e}=t,n=U.useRef([]),r=U.useCallback(o=>{n.current=[...n.current,o]},[]),i=U.useCallback(o=>{n.current=n.current.filter(l=>l!==o)},[]),s=U.useState(()=>Xj())[0];return U.createElement(tP.Provider,{value:U.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:s}),[r,i,s])},e)}function Zc(t){return"data-floating-ui-"+t}function Ni(t){const e=U.useRef(t);return cr(()=>{e.current=t}),e}const RT=Zc("safe-polygon");function dw(t,e,n){return n&&!Jh(n)?0:typeof t=="number"?t:t?.[e]}function K8(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:l=!0,delay:u=0,handleClose:d=null,mouseOnly:f=!1,restMs:h=0,move:b=!0}=e,x=Jd(),w=Dp(),E=Ni(d),I=Ni(u),q=Ni(n),O=U.useRef(),T=U.useRef(-1),R=U.useRef(),D=U.useRef(-1),F=U.useRef(!0),B=U.useRef(!1),$=U.useRef(()=>{}),j=U.useRef(!1),z=U.useCallback(()=>{var oe;const re=(oe=i.current.openEvent)==null?void 0:oe.type;return re?.includes("mouse")&&re!=="mousedown"},[i]);U.useEffect(()=>{if(!l)return;function oe(re){let{open:ne}=re;ne||(clearTimeout(T.current),clearTimeout(D.current),F.current=!0,j.current=!1)}return s.on("openchange",oe),()=>{s.off("openchange",oe)}},[l,s]),U.useEffect(()=>{if(!l||!E.current||!n)return;function oe(ne){z()&&r(!1,ne,"hover")}const re=ri(o.floating).documentElement;return re.addEventListener("mouseleave",oe),()=>{re.removeEventListener("mouseleave",oe)}},[o.floating,n,r,l,E,z]);const P=U.useCallback(function(oe,re,ne){re===void 0&&(re=!0),ne===void 0&&(ne="hover");const ae=dw(I.current,"close",O.current);ae&&!R.current?(clearTimeout(T.current),T.current=window.setTimeout(()=>r(!1,oe,ne),ae)):re&&(clearTimeout(T.current),r(!1,oe,ne))},[I,r]),W=Vi(()=>{$.current(),R.current=void 0}),K=Vi(()=>{if(B.current){const oe=ri(o.floating).body;oe.style.pointerEvents="",oe.removeAttribute(RT),B.current=!1}}),L=Vi(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);U.useEffect(()=>{if(!l)return;function oe(Z){if(clearTimeout(T.current),F.current=!1,f&&!Jh(O.current)||h>0&&!dw(I.current,"open"))return;const ue=dw(I.current,"open",O.current);ue?T.current=window.setTimeout(()=>{q.current||r(!0,Z,"hover")},ue):n||r(!0,Z,"hover")}function re(Z){if(L())return;$.current();const ue=ri(o.floating);if(clearTimeout(D.current),j.current=!1,E.current&&i.current.floatingContext){n||clearTimeout(T.current),R.current=E.current({...i.current.floatingContext,tree:x,x:Z.clientX,y:Z.clientY,onClose(){K(),W(),L()||P(Z,!0,"safe-polygon")}});const ge=R.current;ue.addEventListener("mousemove",ge),$.current=()=>{ue.removeEventListener("mousemove",ge)};return}(O.current==="touch"?!ni(o.floating,Z.relatedTarget):!0)&&P(Z)}function ne(Z){L()||i.current.floatingContext&&(E.current==null||E.current({...i.current.floatingContext,tree:x,x:Z.clientX,y:Z.clientY,onClose(){K(),W(),L()||P(Z)}})(Z))}if(Jn(o.domReference)){var ae;const Z=o.domReference;return n&&Z.addEventListener("mouseleave",ne),(ae=o.floating)==null||ae.addEventListener("mouseleave",ne),b&&Z.addEventListener("mousemove",oe,{once:!0}),Z.addEventListener("mouseenter",oe),Z.addEventListener("mouseleave",re),()=>{var ue;n&&Z.removeEventListener("mouseleave",ne),(ue=o.floating)==null||ue.removeEventListener("mouseleave",ne),b&&Z.removeEventListener("mousemove",oe),Z.removeEventListener("mouseenter",oe),Z.removeEventListener("mouseleave",re)}}},[o,l,t,f,h,b,P,W,K,r,n,q,x,I,E,i,L]),cr(()=>{var oe;if(l&&n&&(oe=E.current)!=null&&oe.__options.blockPointerEvents&&z()){B.current=!0;const ne=o.floating;if(Jn(o.domReference)&&ne){var re;const ae=ri(o.floating).body;ae.setAttribute(RT,"");const Z=o.domReference,ue=x==null||(re=x.nodesRef.current.find(he=>he.id===w))==null||(re=re.context)==null?void 0:re.elements.floating;return ue&&(ue.style.pointerEvents=""),ae.style.pointerEvents="none",Z.style.pointerEvents="auto",ne.style.pointerEvents="auto",()=>{ae.style.pointerEvents="",Z.style.pointerEvents="",ne.style.pointerEvents=""}}}},[l,n,w,o,x,E,z]),cr(()=>{n||(O.current=void 0,j.current=!1,W(),K())},[n,W,K]),U.useEffect(()=>()=>{W(),clearTimeout(T.current),clearTimeout(D.current),K()},[l,o.domReference,W,K]);const te=U.useMemo(()=>{function oe(re){O.current=re.pointerType}return{onPointerDown:oe,onPointerEnter:oe,onMouseMove(re){const{nativeEvent:ne}=re;function ae(){!F.current&&!q.current&&r(!0,ne,"hover")}f&&!Jh(O.current)||n||h===0||j.current&&re.movementX**2+re.movementY**2<2||(clearTimeout(D.current),O.current==="touch"?ae():(j.current=!0,D.current=window.setTimeout(ae,h)))}}},[f,r,n,q,h]),X=U.useMemo(()=>({onMouseEnter(){clearTimeout(T.current)},onMouseLeave(oe){L()||P(oe.nativeEvent,!1)}}),[P,L]);return U.useMemo(()=>l?{reference:te,floating:X}:{},[l,te,X])}let AT=0;function _c(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(AT);const s=()=>t?.focus({preventScroll:n});i?s():AT=requestAnimationFrame(s)}function jT(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s?.parentId,s&&(r=r.concat(s))}return r}function md(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var l;return i.parentId===o.id&&((l=i.context)==null?void 0:l.open)})}),n=n.concat(r);return n}function G8(t,e){let n,r=-1;function i(s,o){o>r&&(n=s,r=o),md(t,s).forEach(u=>{i(u.id,o+1)})}return i(e,0),t.find(s=>s.id===n)}let Uu=new WeakMap,ug=new WeakSet,dg={},fw=0;const Z8=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,nP=t=>t&&(t.host||nP(t.parentNode)),J8=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=nP(n);return t.contains(r)?r:null}).filter(n=>n!=null);function Y8(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=J8(e,t),l=new Set,u=new Set(o),d=[];dg[i]||(dg[i]=new WeakMap);const f=dg[i];o.forEach(h),b(e),l.clear();function h(x){!x||l.has(x)||(l.add(x),x.parentNode&&h(x.parentNode))}function b(x){!x||u.has(x)||[].forEach.call(x.children,w=>{if(Zl(w)!=="script")if(l.has(w))b(w);else{const E=s?w.getAttribute(s):null,I=E!==null&&E!=="false",q=Uu.get(w)||0,O=s?q+1:q,T=(f.get(w)||0)+1;Uu.set(w,O),f.set(w,T),d.push(w),O===1&&I&&ug.add(w),T===1&&w.setAttribute(i,""),!I&&s&&w.setAttribute(s,"true")}})}return fw++,()=>{d.forEach(x=>{const w=Uu.get(x)||0,E=s?w-1:w,I=(f.get(x)||0)-1;Uu.set(x,E),f.set(x,I),E||(!ug.has(x)&&s&&x.removeAttribute(s),ug.delete(x)),I||x.removeAttribute(i)}),fw--,fw||(Uu=new WeakMap,Uu=new WeakMap,ug=new WeakSet,dg={})}}function PT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=ri(t[0]).body;return Y8(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const Vv=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function rP(t,e){const n=Uv(t,Vv());e==="prev"&&n.reverse();const r=n.indexOf(po(ri(t)));return n.slice(r+1)[0]}function iP(){return rP(document.body,"next")}function sP(){return rP(document.body,"prev")}function Sh(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!ni(n,r)}function X8(t){Uv(t,Vv()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function FT(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Hv={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let eH;function DT(t){t.key==="Tab"&&(t.target,clearTimeout(eH))}const Ly=U.forwardRef(function(e,n){const[r,i]=U.useState();cr(()=>(jj()&&i("button"),document.addEventListener("keydown",DT),()=>{document.removeEventListener("keydown",DT)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Zc("focus-guard")]:"",style:Hv};return U.createElement("span",Yh({},e,s))}),oP=U.createContext(null),LT=Zc("portal");function tH(t){t===void 0&&(t={});const{id:e,root:n}=t,r=BE(),i=aP(),[s,o]=U.useState(null),l=U.useRef(null);return cr(()=>()=>{s?.remove(),queueMicrotask(()=>{l.current=null})},[s]),cr(()=>{if(!r||l.current)return;const u=e?document.getElementById(e):null;if(!u)return;const d=document.createElement("div");d.id=r,d.setAttribute(LT,""),u.appendChild(d),l.current=d,o(d)},[e,r]),cr(()=>{if(n===null||!r||l.current)return;let u=n||i?.portalNode;u&&!Jn(u)&&(u=u.current),u=u||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,u.appendChild(d));const f=document.createElement("div");f.id=r,f.setAttribute(LT,""),u=d||u,u.appendChild(f),l.current=f,o(f)},[e,n,r,i]),s}function zE(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,s=tH({id:n,root:r}),[o,l]=U.useState(null),u=U.useRef(null),d=U.useRef(null),f=U.useRef(null),h=U.useRef(null),b=o?.modal,x=o?.open,w=!!o&&!o.modal&&o.open&&i&&!!(r||s);return U.useEffect(()=>{if(!s||!i||b)return;function E(I){s&&Sh(I)&&(I.type==="focusin"?FT:X8)(s)}return s.addEventListener("focusin",E,!0),s.addEventListener("focusout",E,!0),()=>{s.removeEventListener("focusin",E,!0),s.removeEventListener("focusout",E,!0)}},[s,i,b]),U.useEffect(()=>{s&&(x||FT(s))},[x,s]),U.createElement(oP.Provider,{value:U.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:h,portalNode:s,setFocusManagerState:l}),[i,s])},w&&s&&U.createElement(Ly,{"data-type":"outside",ref:u,onFocus:E=>{if(Sh(E,s)){var I;(I=f.current)==null||I.focus()}else{const q=sP()||o?.refs.domReference.current;q?.focus()}}}),w&&s&&U.createElement("span",{"aria-owns":s.id,style:Hv}),s&&Ev.createPortal(e,s),w&&s&&U.createElement(Ly,{"data-type":"outside",ref:d,onFocus:E=>{if(Sh(E,s)){var I;(I=h.current)==null||I.focus()}else{const q=iP()||o?.refs.domReference.current;q?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,E.nativeEvent,"focus-out")}}}))}const aP=()=>U.useContext(oP),_S="data-floating-ui-focusable";function wS(t){return t?t.hasAttribute(_S)?t:t.querySelector("["+_S+"]")||t:null}const MT=20;let wc=[];function hw(t){wc=wc.filter(e=>e.isConnected),t&&Zl(t)!=="body"&&(wc.push(t),wc.length>MT&&(wc=wc.slice(-MT)))}function $T(){return wc.slice().reverse().find(t=>t.isConnected)}function nH(t){const e=Vv();return o8(t,e)?t:Uv(t,e)[0]||t}const rH=U.forwardRef(function(e,n){return U.createElement("button",Yh({},e,{type:"button",ref:n,tabIndex:-1,style:Hv}))});function lP(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:u=!1,modal:d=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:h=!0,outsideElementsInert:b=!1}=t,{open:x,refs:w,nodeId:E,onOpenChange:I,events:q,dataRef:O,elements:{domReference:T,floating:R}}=e,D=typeof o=="number"&&o<0,F=Pj(T)&&D,B=Z8(),$=B?s:!0,j=!$||B&&b,z=Ni(i),P=Ni(o),W=Ni(l),K=Jd(),L=aP(),te=U.useRef(null),X=U.useRef(null),oe=U.useRef(!1),re=U.useRef(!1),ne=U.useRef(-1),ae=L!=null,Z=wS(R),ue=Vi(function(et){return et===void 0&&(et=Z),et?Uv(et,Vv()):[]}),he=Vi(et=>{const nt=ue(et);return z.current.map(Ve=>T&&Ve==="reference"?T:Z&&Ve==="floating"?Z:nt).filter(Boolean).flat()});U.useEffect(()=>{if(r||!d)return;function et(Ve){if(Ve.key==="Tab"){ni(Z,po(ri(Z)))&&ue().length===0&&!F&&wi(Ve);const ot=he(),kt=wl(Ve);z.current[0]==="reference"&&kt===T&&(wi(Ve),Ve.shiftKey?_c(ot[ot.length-1]):_c(ot[1])),z.current[1]==="floating"&&kt===Z&&Ve.shiftKey&&(wi(Ve),_c(ot[0]))}}const nt=ri(Z);return nt.addEventListener("keydown",et),()=>{nt.removeEventListener("keydown",et)}},[r,T,Z,d,z,F,ue,he]),U.useEffect(()=>{if(r||!R)return;function et(nt){const Ve=wl(nt),kt=ue().indexOf(Ve);kt!==-1&&(ne.current=kt)}return R.addEventListener("focusin",et),()=>{R.removeEventListener("focusin",et)}},[r,R,ue]),U.useEffect(()=>{if(r||!h)return;function et(){re.current=!0,setTimeout(()=>{re.current=!1})}function nt(Ve){const ot=Ve.relatedTarget;queueMicrotask(()=>{const kt=!(ni(T,ot)||ni(R,ot)||ni(ot,R)||ni(L?.portalNode,ot)||ot!=null&&ot.hasAttribute(Zc("focus-guard"))||K&&(md(K.nodesRef.current,E).find(At=>{var Gt,ln;return ni((Gt=At.context)==null?void 0:Gt.elements.floating,ot)||ni((ln=At.context)==null?void 0:ln.elements.domReference,ot)})||jT(K.nodesRef.current,E).find(At=>{var Gt,ln,ve;return[(Gt=At.context)==null?void 0:Gt.elements.floating,wS((ln=At.context)==null?void 0:ln.elements.floating)].includes(ot)||((ve=At.context)==null?void 0:ve.elements.domReference)===ot})));if(u&&kt&&po(ri(Z))===ri(Z).body){Dr(Z)&&Z.focus();const At=ne.current,Gt=ue(),ln=Gt[At]||Gt[Gt.length-1]||Z;Dr(ln)&&ln.focus()}(F||!d)&&ot&&kt&&!re.current&&ot!==$T()&&(oe.current=!0,I(!1,Ve,"focus-out"))})}if(R&&Dr(T))return T.addEventListener("focusout",nt),T.addEventListener("pointerdown",et),R.addEventListener("focusout",nt),()=>{T.removeEventListener("focusout",nt),T.removeEventListener("pointerdown",et),R.removeEventListener("focusout",nt)}},[r,T,R,Z,d,E,K,L,I,h,u,ue,F]);const ge=U.useRef(null),_e=U.useRef(null),Ne=CT([ge,L?.beforeInsideRef]),Pe=CT([_e,L?.afterInsideRef]);U.useEffect(()=>{var et;if(r||!R)return;const nt=Array.from((L==null||(et=L.portalNode)==null?void 0:et.querySelectorAll("["+Zc("portal")+"]"))||[]),Ve=K&&!d?jT(K?.nodesRef.current,E).map(At=>{var Gt;return(Gt=At.context)==null?void 0:Gt.elements.floating}):[],ot=[R,...nt,...Ve,te.current,X.current,ge.current,_e.current,L?.beforeOutsideRef.current,L?.afterOutsideRef.current,z.current.includes("reference")||F?T:null].filter(At=>At!=null),kt=d||F?PT(ot,!j,j):PT(ot);return()=>{kt()}},[r,T,R,d,z,L,F,$,j,K,E]),cr(()=>{if(r||!Dr(Z))return;const et=ri(Z),nt=po(et);queueMicrotask(()=>{const Ve=he(Z),ot=P.current,kt=(typeof ot=="number"?Ve[ot]:ot.current)||Z,At=ni(Z,nt);!D&&!At&&x&&_c(kt,{preventScroll:kt===Z})})},[r,x,Z,D,he,P]),cr(()=>{if(r||!Z)return;let et=!1;const nt=ri(Z),Ve=po(nt);let kt=O.current.openEvent;hw(Ve);function At(ve){let{open:be,reason:Ie,event:De,nested:We}=ve;be&&(kt=De),Ie==="escape-key"&&w.domReference.current&&hw(w.domReference.current),["hover","safe-polygon"].includes(Ie)&&De.type==="mouseleave"&&(oe.current=!0),Ie==="outside-press"&&(We?(oe.current=!1,et=!0):oe.current=!(Aj(De)||PE(De)))}q.on("openchange",At);const Gt=nt.createElement("span");Gt.setAttribute("tabindex","-1"),Gt.setAttribute("aria-hidden","true"),Object.assign(Gt.style,Hv),ae&&T&&T.insertAdjacentElement("afterend",Gt);function ln(){return typeof W.current=="boolean"?$T()||Gt:W.current.current||Gt}return()=>{q.off("openchange",At);const ve=po(nt),be=ni(R,ve)||K&&md(K.nodesRef.current,E).some(We=>{var rt;return ni((rt=We.context)==null?void 0:rt.elements.floating,ve)});(be||kt&&["click","mousedown"].includes(kt.type))&&w.domReference.current&&hw(w.domReference.current);const De=ln();queueMicrotask(()=>{const We=nH(De);W.current&&!oe.current&&Dr(We)&&(!(We!==ve&&ve!==nt.body)||be)&&We.focus({preventScroll:et}),Gt.remove()})}},[r,R,Z,W,O,w,q,K,E,ae,T]),U.useEffect(()=>{queueMicrotask(()=>{oe.current=!1})},[r]),cr(()=>{if(!r&&L)return L.setFocusManagerState({modal:d,closeOnFocusOut:h,open:x,onOpenChange:I,refs:w}),()=>{L.setFocusManagerState(null)}},[r,L,d,x,I,w,h]),cr(()=>{if(r||!Z||typeof MutationObserver!="function"||D)return;const et=()=>{const Ve=Z.getAttribute("tabindex"),ot=ue(),kt=po(ri(R)),At=ot.indexOf(kt);At!==-1&&(ne.current=At),z.current.includes("floating")||kt!==w.domReference.current&&ot.length===0?Ve!=="0"&&Z.setAttribute("tabindex","0"):Ve!=="-1"&&Z.setAttribute("tabindex","-1")};et();const nt=new MutationObserver(et);return nt.observe(Z,{childList:!0,subtree:!0,attributes:!0}),()=>{nt.disconnect()}},[r,R,Z,w,z,ue,D]);function Re(et){return r||!f||!d?null:U.createElement(rH,{ref:et==="start"?te:X,onClick:nt=>I(!1,nt.nativeEvent)},typeof f=="string"?f:"Dismiss")}const Xe=!r&&$&&(d?!F:!0)&&(ae||d);return U.createElement(U.Fragment,null,Xe&&U.createElement(Ly,{"data-type":"inside",ref:Ne,onFocus:et=>{if(d){const Ve=he();_c(i[0]==="reference"?Ve[0]:Ve[Ve.length-1])}else if(L!=null&&L.preserveTabOrder&&L.portalNode)if(oe.current=!1,Sh(et,L.portalNode)){const Ve=iP()||T;Ve?.focus()}else{var nt;(nt=L.beforeOutsideRef.current)==null||nt.focus()}}}),!F&&Re("start"),n,Re("end"),Xe&&U.createElement(Ly,{"data-type":"inside",ref:Pe,onFocus:et=>{if(d)_c(he()[0]);else if(L!=null&&L.preserveTabOrder&&L.portalNode)if(h&&(oe.current=!0),Sh(et,L.portalNode)){const Ve=sP()||T;Ve?.focus()}else{var nt;(nt=L.afterOutsideRef.current)==null||nt.focus()}}}))}let fg=0;function iH(){const t=/iP(hone|ad|od)|iOS/.test(jE()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=e.left?parseFloat(e.left):window.scrollX,o=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var l,u;const d=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,f=((u=window.visualViewport)==null?void 0:u.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(o-Math.floor(f))+"px",left:-(s-Math.floor(d))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o))}}let BT=()=>{};const sH=U.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return cr(()=>{if(r)return fg++,fg===1&&(BT=iH()),()=>{fg--,fg===0&&BT()}},[r]),U.createElement("div",Yh({ref:n},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))});function zT(t){return Dr(t.target)&&t.target.tagName==="BUTTON"}function WT(t){return FE(t)}function WE(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:l="click",toggle:u=!0,ignoreMouse:d=!1,keyboardHandlers:f=!0,stickIfOpen:h=!0}=e,b=U.useRef(),x=U.useRef(!1),w=U.useMemo(()=>({onPointerDown(E){b.current=E.pointerType},onMouseDown(E){const I=b.current;E.button===0&&l!=="click"&&(Jh(I,!0)&&d||(n&&u&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="mousedown")?r(!1,E.nativeEvent,"click"):(E.preventDefault(),r(!0,E.nativeEvent,"click"))))},onClick(E){const I=b.current;if(l==="mousedown"&&b.current){b.current=void 0;return}Jh(I,!0)&&d||(n&&u&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="click")?r(!1,E.nativeEvent,"click"):r(!0,E.nativeEvent,"click"))},onKeyDown(E){b.current=void 0,!(E.defaultPrevented||!f||zT(E))&&(E.key===" "&&!WT(s)&&(E.preventDefault(),x.current=!0),E.key==="Enter"&&r(!(n&&u),E.nativeEvent,"click"))},onKeyUp(E){E.defaultPrevented||!f||zT(E)||WT(s)||E.key===" "&&x.current&&(x.current=!1,r(!(n&&u),E.nativeEvent,"click"))}}),[i,s,l,d,f,r,n,h,u]);return U.useMemo(()=>o?{reference:w}:{},[o,w])}const oH={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},aH={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},UT=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function UE(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:b=!1,bubbles:x,capture:w}=e,E=Jd(),I=Vi(typeof u=="function"?u:()=>!1),q=typeof u=="function"?I:u,O=U.useRef(!1),T=U.useRef(!1),{escapeKey:R,outsidePress:D}=UT(x),{escapeKey:F,outsidePress:B}=UT(w),$=U.useRef(!1),j=Vi(te=>{var X;if(!n||!o||!l||te.key!=="Escape"||$.current)return;const oe=(X=s.current.floatingContext)==null?void 0:X.nodeId,re=E?md(E.nodesRef.current,oe):[];if(!R&&(te.stopPropagation(),re.length>0)){let ne=!0;if(re.forEach(ae=>{var Z;if((Z=ae.context)!=null&&Z.open&&!ae.context.dataRef.current.__escapeKeyBubbles){ne=!1;return}}),!ne)return}r(!1,q5(te)?te.nativeEvent:te,"escape-key")}),z=Vi(te=>{var X;const oe=()=>{var re;j(te),(re=wl(te))==null||re.removeEventListener("keydown",oe)};(X=wl(te))==null||X.addEventListener("keydown",oe)}),P=Vi(te=>{var X;const oe=O.current;O.current=!1;const re=T.current;if(T.current=!1,d==="click"&&re||oe||typeof q=="function"&&!q(te))return;const ne=wl(te),ae="["+Zc("inert")+"]",Z=ri(i.floating).querySelectorAll(ae);let ue=Jn(ne)?ne:null;for(;ue&&!qa(ue);){const Ne=Da(ue);if(qa(Ne)||!Jn(Ne))break;ue=Ne}if(Z.length&&Jn(ne)&&!R5(ne)&&!ni(ne,i.floating)&&Array.from(Z).every(Ne=>!ni(ue,Ne)))return;if(Dr(ne)&&L){const Ne=qa(ne),Pe=Us(ne),Re=/auto|scroll/,Xe=Ne||Re.test(Pe.overflowX),et=Ne||Re.test(Pe.overflowY),nt=Xe&&ne.clientWidth>0&&ne.scrollWidth>ne.clientWidth,Ve=et&&ne.clientHeight>0&&ne.scrollHeight>ne.clientHeight,ot=Pe.direction==="rtl",kt=Ve&&(ot?te.offsetX<=ne.offsetWidth-ne.clientWidth:te.offsetX>ne.clientWidth),At=nt&&te.offsetY>ne.clientHeight;if(kt||At)return}const he=(X=s.current.floatingContext)==null?void 0:X.nodeId,ge=E&&md(E.nodesRef.current,he).some(Ne=>{var Pe;return aw(te,(Pe=Ne.context)==null?void 0:Pe.elements.floating)});if(aw(te,i.floating)||aw(te,i.domReference)||ge)return;const _e=E?md(E.nodesRef.current,he):[];if(_e.length>0){let Ne=!0;if(_e.forEach(Pe=>{var Re;if((Re=Pe.context)!=null&&Re.open&&!Pe.context.dataRef.current.__outsidePressBubbles){Ne=!1;return}}),!Ne)return}r(!1,te,"outside-press")}),W=Vi(te=>{var X;const oe=()=>{var re;P(te),(re=wl(te))==null||re.removeEventListener(d,oe)};(X=wl(te))==null||X.addEventListener(d,oe)});U.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=R,s.current.__outsidePressBubbles=D;let te=-1;function X(Z){r(!1,Z,"ancestor-scroll")}function oe(){window.clearTimeout(te),$.current=!0}function re(){te=window.setTimeout(()=>{$.current=!1},zv()?5:0)}const ne=ri(i.floating);l&&(ne.addEventListener("keydown",F?z:j,F),ne.addEventListener("compositionstart",oe),ne.addEventListener("compositionend",re)),q&&ne.addEventListener(d,B?W:P,B);let ae=[];return b&&(Jn(i.domReference)&&(ae=Ol(i.domReference)),Jn(i.floating)&&(ae=ae.concat(Ol(i.floating))),!Jn(i.reference)&&i.reference&&i.reference.contextElement&&(ae=ae.concat(Ol(i.reference.contextElement)))),ae=ae.filter(Z=>{var ue;return Z!==((ue=ne.defaultView)==null?void 0:ue.visualViewport)}),ae.forEach(Z=>{Z.addEventListener("scroll",X,{passive:!0})}),()=>{l&&(ne.removeEventListener("keydown",F?z:j,F),ne.removeEventListener("compositionstart",oe),ne.removeEventListener("compositionend",re)),q&&ne.removeEventListener(d,B?W:P,B),ae.forEach(Z=>{Z.removeEventListener("scroll",X)}),window.clearTimeout(te)}},[s,i,l,q,d,n,r,b,o,R,D,j,F,z,P,B,W]),U.useEffect(()=>{O.current=!1},[q,d]);const K=U.useMemo(()=>({onKeyDown:j,...f&&{[oH[h]]:te=>{r(!1,te.nativeEvent,"reference-press")},...h!=="click"&&{onClick(te){r(!1,te.nativeEvent,"reference-press")}}}}),[j,r,f,h]),L=U.useMemo(()=>({onKeyDown:j,onMouseDown(){T.current=!0},onMouseUp(){T.current=!0},[aH[d]]:()=>{O.current=!0}}),[j,d]);return U.useMemo(()=>o?{reference:K,floating:L}:{},[o,K,L])}function lH(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=BE(),s=U.useRef({}),[o]=U.useState(()=>Xj()),l=Dp()!=null,[u,d]=U.useState(r.reference),f=Vi((x,w,E)=>{s.current.openEvent=x?w:void 0,o.emit("openchange",{open:x,event:w,reason:E,nested:l}),n?.(x,w,E)}),h=U.useMemo(()=>({setPositionReference:d}),[]),b=U.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return U.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:b,events:o,floatingId:i,refs:h}),[e,f,b,o,i,h])}function VE(t){t===void 0&&(t={});const{nodeId:e}=t,n=lH({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=U.useState(null),[l,u]=U.useState(null),f=i?.domReference||s,h=U.useRef(null),b=Jd();cr(()=>{f&&(h.current=f)},[f]);const x=A8({...t,elements:{...i,...l&&{reference:l}}}),w=U.useCallback(T=>{const R=Jn(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;u(R),x.refs.setReference(R)},[x.refs]),E=U.useCallback(T=>{(Jn(T)||T===null)&&(h.current=T,o(T)),(Jn(x.refs.reference.current)||x.refs.reference.current===null||T!==null&&!Jn(T))&&x.refs.setReference(T)},[x.refs]),I=U.useMemo(()=>({...x.refs,setReference:E,setPositionReference:w,domReference:h}),[x.refs,E,w]),q=U.useMemo(()=>({...x.elements,domReference:f}),[x.elements,f]),O=U.useMemo(()=>({...x,...r,refs:I,elements:q,nodeId:e}),[x,I,q,e,r]);return cr(()=>{r.dataRef.current.floatingContext=O;const T=b?.nodesRef.current.find(R=>R.id===e);T&&(T.context=O)}),U.useMemo(()=>({...x,context:O,refs:I,elements:q}),[x,I,q,O])}function cH(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:l=!0,visibleOnly:u=!0}=e,d=U.useRef(!1),f=U.useRef(),h=U.useRef(!0);U.useEffect(()=>{if(!l)return;const x=Gi(o.domReference);function w(){!n&&Dr(o.domReference)&&o.domReference===po(ri(o.domReference))&&(d.current=!0)}function E(){h.current=!0}return x.addEventListener("blur",w),x.addEventListener("keydown",E,!0),()=>{x.removeEventListener("blur",w),x.removeEventListener("keydown",E,!0)}},[o.domReference,n,l]),U.useEffect(()=>{if(!l)return;function x(w){let{reason:E}=w;(E==="reference-press"||E==="escape-key")&&(d.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[i,l]),U.useEffect(()=>()=>{clearTimeout(f.current)},[]);const b=U.useMemo(()=>({onPointerDown(x){PE(x.nativeEvent)||(h.current=!1)},onMouseLeave(){d.current=!1},onFocus(x){if(d.current)return;const w=wl(x.nativeEvent);if(u&&Jn(w))try{if(jj()&&T5())throw Error();if(!w.matches(":focus-visible"))return}catch{if(!h.current&&!FE(w))return}r(!0,x.nativeEvent,"focus")},onBlur(x){d.current=!1;const w=x.relatedTarget,E=x.nativeEvent,I=Jn(w)&&w.hasAttribute(Zc("focus-guard"))&&w.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var q;const O=po(o.domReference?o.domReference.ownerDocument:document);!w&&O===o.domReference||ni((q=s.current.floatingContext)==null?void 0:q.refs.floating.current,O)||ni(o.domReference,O)||I||r(!1,E,"focus")})}}),[s,o.domReference,r,u]);return U.useMemo(()=>l?{reference:b}:{},[l,b])}const VT="active",HT="selected";function pw(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[VT]:o,[HT]:l,...u}=t;s=u}return{...n==="floating"&&{tabIndex:-1,[_S]:""},...s,...e.map(o=>{const l=o?o[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((o,l)=>(l&&Object.entries(l).forEach(u=>{let[d,f]=u;if(!(i&&[VT,HT].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var h;(h=r.get(d))==null||h.push(f),o[d]=function(){for(var b,x=arguments.length,w=new Array(x),E=0;E<x;E++)w[E]=arguments[E];return(b=r.get(d))==null?void 0:b.map(I=>I(...w)).find(I=>I!==void 0)}}}else o[d]=f}),o),{})}}function HE(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),r=t.map(l=>l?.item),i=U.useCallback(l=>pw(l,t,"reference"),e),s=U.useCallback(l=>pw(l,t,"floating"),n),o=U.useCallback(l=>pw(l,t,"item"),r);return U.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function Qv(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function QT(t,e){return Qv(e,t===$E||t===Fp,t===ql||t===Rl)}function mw(t,e,n){return Qv(e,t===Fp,n?t===ql:t===Rl)||t==="Enter"||t===" "||t===""}function uH(t,e,n){return Qv(e,n?t===ql:t===Rl,t===Fp)}function KT(t,e,n){return Qv(e,n?t===Rl:t===ql,t===$E)}function dH(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:u=!0,selectedIndex:d=null,allowEscape:f=!1,loop:h=!1,nested:b=!1,rtl:x=!1,virtual:w=!1,focusItemOnOpen:E="auto",focusItemOnHover:I=!0,openOnArrowKeyDown:q=!0,disabledIndices:O=void 0,orientation:T="vertical",cols:R=1,scrollItemIntoView:D=!0,virtualItemRef:F,itemSizes:B,dense:$=!1}=e,j=wS(i.floating),z=Ni(j),P=Dp(),W=Jd(),K=Vi(()=>{l(X.current===-1?null:X.current)}),L=Pj(i.domReference),te=U.useRef(E),X=U.useRef(d??-1),oe=U.useRef(null),re=U.useRef(!0),ne=U.useRef(K),ae=U.useRef(!!i.floating),Z=U.useRef(n),ue=U.useRef(!1),he=U.useRef(!1),ge=Ni(O),_e=Ni(n),Ne=Ni(D),Pe=Ni(d),[Re,Xe]=U.useState(),[et,nt]=U.useState(),Ve=Vi(()=>{function be(We){w?(Xe(We.id),W?.events.emit("virtualfocus",We),F&&(F.current=We)):_c(We,{sync:ue.current,preventScroll:!0})}const Ie=s.current[X.current];Ie&&be(Ie),(ue.current?We=>We():requestAnimationFrame)(()=>{const We=s.current[X.current]||Ie;if(!We)return;Ie||be(We);const rt=Ne.current;rt&&kt&&(he.current||!re.current)&&(We.scrollIntoView==null||We.scrollIntoView(typeof rt=="boolean"?{block:"nearest",inline:"nearest"}:rt))})});cr(()=>{u&&(n&&i.floating?te.current&&d!=null&&(he.current=!0,X.current=d,K()):ae.current&&(X.current=-1,ne.current()))},[u,n,i.floating,d,K]),cr(()=>{if(u&&n&&i.floating)if(o==null){if(ue.current=!1,Pe.current!=null)return;if(ae.current&&(X.current=-1,Ve()),(!Z.current||!ae.current)&&te.current&&(oe.current!=null||te.current===!0&&oe.current==null)){let be=0;const Ie=()=>{s.current[0]==null?(be<2&&(be?requestAnimationFrame:queueMicrotask)(Ie),be++):(X.current=oe.current==null||mw(oe.current,T,x)||b?uw(s,ge.current):TT(s,ge.current),oe.current=null,K())};Ie()}}else wh(s,o)||(X.current=o,Ve(),he.current=!1)},[u,n,i.floating,o,Pe,b,s,T,x,K,Ve,ge]),cr(()=>{var be;if(!u||i.floating||!W||w||!ae.current)return;const Ie=W.nodesRef.current,De=(be=Ie.find($e=>$e.id===P))==null||(be=be.context)==null?void 0:be.elements.floating,We=po(ri(i.floating)),rt=Ie.some($e=>$e.context&&ni($e.context.elements.floating,We));De&&!rt&&re.current&&De.focus({preventScroll:!0})},[u,i.floating,W,P,w]),cr(()=>{if(!u||!W||!w||P)return;function be(Ie){nt(Ie.id),F&&(F.current=Ie)}return W.events.on("virtualfocus",be),()=>{W.events.off("virtualfocus",be)}},[u,W,w,P,F]),cr(()=>{ne.current=K,Z.current=n,ae.current=!!i.floating}),cr(()=>{n||(oe.current=null)},[n]);const ot=o!=null,kt=U.useMemo(()=>{function be(De){if(!n)return;const We=s.current.indexOf(De);We!==-1&&X.current!==We&&(X.current=We,K())}return{onFocus(De){let{currentTarget:We}=De;ue.current=!0,be(We)},onClick:De=>{let{currentTarget:We}=De;return We.focus({preventScroll:!0})},...I&&{onMouseMove(De){let{currentTarget:We}=De;ue.current=!0,he.current=!1,be(We)},onPointerLeave(De){let{pointerType:We}=De;if(!(!re.current||We==="touch")&&(ue.current=!0,X.current=-1,K(),!w)){var rt;(rt=z.current)==null||rt.focus({preventScroll:!0})}}}}},[n,z,I,s,K,w]),At=Vi(be=>{if(re.current=!1,ue.current=!0,be.which===229||!_e.current&&be.currentTarget===z.current)return;if(b&&KT(be.key,T,x)){wi(be),r(!1,be.nativeEvent,"list-navigation"),Dr(i.domReference)&&(w?W?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const Ie=X.current,De=uw(s,O),We=TT(s,O);if(L||(be.key==="Home"&&(wi(be),X.current=De,K()),be.key==="End"&&(wi(be),X.current=We,K())),R>1){const rt=B||Array.from({length:s.current.length},()=>({width:1,height:1})),$e=M8(rt,R,$),ut=$e.findIndex(fn=>fn!=null&&!Qg(s.current,fn,O)),Ut=$e.reduce((fn,er,qn)=>er!=null&&!Qg(s.current,er,O)?qn:fn,-1),Vt=$e[L8({current:$e.map(fn=>fn!=null?s.current[fn]:null)},{event:be,orientation:T,loop:h,rtl:x,cols:R,disabledIndices:B8([...O||s.current.map((fn,er)=>Qg(s.current,er)?er:void 0),void 0],$e),minIndex:ut,maxIndex:Ut,prevIndex:$8(X.current>We?De:X.current,rt,$e,R,be.key===Fp?"bl":be.key===(x?ql:Rl)?"tr":"tl"),stopEvent:!0})];if(Vt!=null&&(X.current=Vt,K()),T==="both")return}if(QT(be.key,T)){if(wi(be),n&&!w&&po(be.currentTarget.ownerDocument)===be.currentTarget){X.current=mw(be.key,T,x)?De:We,K();return}mw(be.key,T,x)?h?X.current=Ie>=We?f&&Ie!==s.current.length?-1:De:ui(s,{startingIndex:Ie,disabledIndices:O}):X.current=Math.min(We,ui(s,{startingIndex:Ie,disabledIndices:O})):h?X.current=Ie<=De?f&&Ie!==-1?s.current.length:We:ui(s,{startingIndex:Ie,decrement:!0,disabledIndices:O}):X.current=Math.max(De,ui(s,{startingIndex:Ie,decrement:!0,disabledIndices:O})),wh(s,X.current)&&(X.current=-1),K()}}),Gt=U.useMemo(()=>w&&n&&ot&&{"aria-activedescendant":et||Re},[w,n,ot,et,Re]),ln=U.useMemo(()=>({"aria-orientation":T==="both"?void 0:T,...L?{}:Gt,onKeyDown:At,onPointerMove(){re.current=!0}}),[Gt,At,T,L]),ve=U.useMemo(()=>{function be(De){E==="auto"&&Aj(De.nativeEvent)&&(te.current=!0)}function Ie(De){te.current=E,E==="auto"&&PE(De.nativeEvent)&&(te.current=!0)}return{...Gt,onKeyDown(De){re.current=!1;const We=De.key.startsWith("Arrow"),rt=["Home","End"].includes(De.key),$e=We||rt,ut=uH(De.key,T,x),Ut=KT(De.key,T,x),Vt=QT(De.key,T),fn=(b?ut:Vt)||De.key==="Enter"||De.key.trim()==="";if(w&&n){const vi=W?.nodesRef.current.find(Ht=>Ht.parentId==null),hr=W&&vi?G8(W.nodesRef.current,vi.id):null;if($e&&hr&&F){const Ht=new KeyboardEvent("keydown",{key:De.key,bubbles:!0});if(ut||Ut){var er,qn;const Oi=((er=hr.context)==null?void 0:er.elements.domReference)===De.currentTarget,qi=Ut&&!Oi?(qn=hr.context)==null?void 0:qn.elements.domReference:ut?s.current.find(Ri=>Ri?.id===Re):null;qi&&(wi(De),qi.dispatchEvent(Ht),nt(void 0))}if((Vt||rt)&&hr.context&&hr.context.open&&hr.parentId&&De.currentTarget!==hr.context.elements.domReference){var Rr;wi(De),(Rr=hr.context.elements.domReference)==null||Rr.dispatchEvent(Ht);return}}return At(De)}if(!(!n&&!q&&We)){if(fn&&(oe.current=b&&Vt?null:De.key),b){ut&&(wi(De),n?(X.current=uw(s,ge.current),K()):r(!0,De.nativeEvent,"list-navigation"));return}Vt&&(d!=null&&(X.current=d),wi(De),!n&&q?r(!0,De.nativeEvent,"list-navigation"):At(De),n&&K())}},onFocus(){n&&!w&&(X.current=-1,K())},onPointerDown:Ie,onMouseDown:be,onClick:be}},[Re,Gt,At,ge,E,s,b,K,r,n,q,T,x,d,W,w,F]);return U.useMemo(()=>u?{reference:ve,floating:ln,item:kt}:{},[u,ve,ln,kt])}const GT=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Vu(t,e){return typeof t=="function"?t(e):t}function fH(t,e){const[n,r]=U.useState(t);return t&&!n&&r(!0),U.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function hH(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,o=(typeof i=="number"?i:i.close)||0,[l,u]=U.useState("unmounted"),d=fH(n,o);return!d&&l==="close"&&u("unmounted"),cr(()=>{if(r){if(n){u("initial");const f=requestAnimationFrame(()=>{u("open")});return()=>{cancelAnimationFrame(f)}}u("close")}},[n,r]),{isMounted:d,status:l}}function QE(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:o=250}=e,l=t.placement,u=l.split("-")[0],d=U.useMemo(()=>({side:u,placement:l}),[u,l]),f=typeof o=="number",h=(f?o:o.open)||0,b=(f?o:o.close)||0,[x,w]=U.useState(()=>({...Vu(s,d),...Vu(n,d)})),{isMounted:E,status:I}=hH(t,{duration:o}),q=Ni(n),O=Ni(r),T=Ni(i),R=Ni(s);return cr(()=>{const D=Vu(q.current,d),F=Vu(T.current,d),B=Vu(R.current,d),$=Vu(O.current,d)||Object.keys(D).reduce((j,z)=>(j[z]="",j),{});if(I==="initial"&&w(j=>({transitionProperty:j.transitionProperty,...B,...D})),I==="open"&&w({transitionProperty:Object.keys($).map(GT).join(","),transitionDuration:h+"ms",...B,...$}),I==="close"){const j=F||D;w({transitionProperty:Object.keys(j).map(GT).join(","),transitionDuration:b+"ms",...B,...j})}},[b,T,q,O,R,h,I,d]),{isMounted:E,styles:x}}const pH=U.createContext({close(){}}),mH=gn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),gH=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:s,variant:o,tva:l=mH,css:u,children:d})=>{const[f,h]=U.useState(!1),{refs:b,floatingStyles:x,context:w}=VE({open:f,onOpenChange:h,placement:"top",whileElementsMounted:Kj,middleware:[Zj(10),Jj({fallbackAxisSideDirection:"start"}),j8()],...s}),{getReferenceProps:E,getFloatingProps:I}=HE([K8(w,{enabled:e==="hover",delay:i}),WE(w,{enabled:e==="click"}),cH(w),UE(w)]),{isMounted:q,styles:O}=QE(w),T=l({mounted:q,...o,css:u}).slots;return m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",ref:b.setReference,...E(),disabled:n,className:T.target(),children:t}),m.jsx(zE,{children:m.jsx("div",{ref:b.setFloating,style:{...x,...O},className:T.portal(),...I(),onClick:r?()=>{h(!1)}:void 0,children:m.jsx(pH.Provider,{value:{close(){h(!1)}},children:d})})})]})},cP="icon-[system-uicons--menu-hamburger]",uP=gn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),Xt=({icon:t,variant:e,tva:n=uP,css:r,...i})=>{const s=n({...e,css:r}).slots;return t?m.jsx("div",{className:s.base({css:[t]}),...i}):null},yH=gn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),Or=({icon:t=cP,iconProps:e,children:n,variant:r,tva:i=yH,css:s,...o})=>{const l=i({...r,css:s}).slots;return m.jsx(Q8,{children:m.jsx(gH,{action:"click",target:m.jsx(Xt,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...o,children:m.jsx("div",{className:l.base(),children:n})})})},dP="icon-[svg-spinners--90-ring-with-bg]",vH=gn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),Ca=({iconEnabled:t,iconDisabled:e,iconLoading:n=dP,disabled:r=!1,loading:i=!1,onClick:s,variant:o,tva:l=vH,css:u,children:d,...f})=>{const h=l({disabled:r,loading:i,...o,css:u}).slots;return m.jsxs("div",{className:h.base(),onClick:r?void 0:s,...f,children:[r?m.jsx(Xt,{icon:i?n:e??t}):m.jsx(Xt,{icon:i?n:t}),d]})},fP="icon-[iconamoon--close-light]",Kv=U.createContext(void 0),bH=gn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),bo=({target:t,icon:e,textTitle:n,disabled:r=!1,defaultOpen:i=!1,outside:s=!1,variant:o,css:l,tva:u=bH,children:d})=>{const[f,h]=U.useState(i),b=V8(),{refs:x,context:w}=VE({nodeId:b,open:f,onOpenChange:h}),E=WE(w),I=UE(w,{outsidePress:s}),{getReferenceProps:q,getFloatingProps:O}=HE([E,I]),{isMounted:T,styles:R}=QE(w),D=u({disabled:r,...o,css:l}).slots;return m.jsxs(Kv.Provider,{value:{close(){h(!1)}},children:[m.jsx("div",{ref:x.setReference,...q({disabled:r}),className:D.target(),children:t}),m.jsx(H8,{id:b,children:T&&m.jsx(m.Fragment,{children:m.jsx(zE,{children:m.jsx(sH,{lockScroll:!0,style:R,className:D.base(),children:m.jsx(lP,{context:w,children:m.jsxs("div",{ref:x.setFloating,...O(),className:D.modal(),children:[m.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Lv(e)?m.jsx(Xt,{icon:e,variant:{size:"xl"}}):e),n&&m.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),m.jsx(Ca,{iconEnabled:fP,onClick:()=>h(!1)})]}),w5(d)?m.jsx(d,{close:()=>h(!1)}):d]})})})})})})]})},xH=gn({use:Tj,slot:{},variant:{},defaults:{}}),Pn=({icon:t,iconProps:e,label:n,disabled:r=!1,hidden:i=!1,variant:s,tva:o=xH,css:l,...u})=>{const d=o({...s,disabled:r,css:l}).slots;return i?null:m.jsxs("div",{className:d.base(),children:[Lv(t)?m.jsx(Xt,{icon:t,...e}):t,m.jsx(bo,{icon:t,target:n,disabled:r,css:{modal:["w-1/2"]},...u})]})},_H=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),Ra=({variant:t,tva:e=_H,css:n,...r})=>{const i=e({...t,css:n}).slots;return m.jsx("div",{className:i.base(),...r})},wH="icon-[material-symbols-light--check-small]",SH="icon-[material-symbols-light--close-small]",EH="icon-[material-symbols-light--check-indeterminate-small]",NH=gn({use:uP,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),hP=({value:t,checkIcon:e=wH,unCheckIcon:n=SH,undefinedIcon:r=EH,tva:i=NH,...s})=>t==null?m.jsx(Xt,{icon:r,tva:i,...s}):m.jsx(Xt,{icon:t?e:n,tva:o=>i({...o,value:t}),...s}),kH=gn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),pP=({value:t,onChange:e,variant:n,tva:r=kH,css:i,...s})=>{const o=r({...n,css:i}).slots;return m.jsx("div",{className:o.base(),children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:l=>{e(l.target.checked)},...s}),m.jsx("div",{className:o.switch()})]})})},IH=gn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),sr=({iconEnabled:t,iconDisabled:e,iconLoading:n=dP,iconProps:r,loading:i,variant:s,tva:o=IH,css:l,children:u,...d})=>{const f=o({disabled:d.disabled,...s,css:l}).slots;return m.jsxs("button",{type:"button",className:f.base({disabled:d.disabled}),...d,children:[d.disabled?m.jsx(Xt,{icon:i===!0?n:e,variant:{size:"xl"},...r}):m.jsx(Xt,{icon:i===!0?n:t,variant:{size:"xl"},...r}),u]})},KE=U.createContext({inline:!1}),CH=gn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),TH=({inline:t,label:e,value:n,variant:r,tva:i=CH,css:s})=>{const o=U.useContext(KE),l=t??o?.inline,u=i({inline:l,...r,css:s}).slots;return m.jsxs("div",{className:u.base(),children:[e?m.jsx("div",{className:u.label(),children:e}):null,m.jsx("div",{className:u.value(),children:n})]})},OH=gn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),qH=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:s=OH,css:o,inline:l=!1})=>{const u=s({inline:l,...i,css:o}).slots;return m.jsx(KE.Provider,{value:{inline:l},children:m.jsx("div",{className:u.base(),children:t.filter(({id:d})=>!e.includes(d)).map(({id:d,render:f,...h})=>m.jsx(TH,{value:m.jsx(f,{entity:r}),...n,...h},d))})})},RH=gn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),ZT="icon-[tabler--dots]",AH=gn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),jH=gn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),gw=({pages:t,page:e,onPage:n,variant:r,tva:i=jH,css:s})=>{const o=i({...r,css:s}).slots;return m.jsx("nav",{className:o.base(),children:m.jsx("ul",{className:o.list(),children:t.map((l,u)=>m.jsx("li",{className:o.page({current:e===l-1}),onClick:()=>n(l-1),children:l},`page-${l}-${u}`))})})},PH=gn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),FH=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:s=!1,onItem:o,onSelect:l,onChange:u,value:d,variant:f,tva:h=PH,css:b})=>{const[x,w]=U.useState(!1),[E,I]=U.useState(null),[q,O]=U.useState(t.findIndex(ne=>ne.id===n));U.useEffect(()=>{O(t.findIndex(ne=>ne.id===d))},[d]);const{refs:T,floatingStyles:R,context:D}=VE({placement:"bottom-start",open:x,onOpenChange:w,whileElementsMounted:Kj,middleware:[Zj(5),Jj({padding:10}),P8({apply({rects:ne,elements:ae,availableHeight:Z}){Object.assign(ae.floating.style,{maxHeight:`${Z}px`,minWidth:`${ne.reference.width}px`})},padding:10})]}),F=U.useRef([]),B=U.useRef(!1),$=WE(D,{event:"mousedown"}),j=UE(D),z=dH(D,{listRef:F,activeIndex:E,selectedIndex:q,onNavigate:I,loop:!0}),{getReferenceProps:P,getFloatingProps:W,getItemProps:K}=HE([j,z,$]),{isMounted:L,styles:te}=QE(D),X=ne=>{O(ne),w(!1);const ae=t[ne];ae&&o?.(ae),l?.(ae),u?.(ae?.id)},oe=q===null?void 0:t[q],re=h({disabled:s,...f,css:b}).slots;return m.jsxs(m.Fragment,{children:[m.jsx("div",{tabIndex:s?-1:0,ref:s?void 0:T.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...s?{}:P(),className:re.base(),children:m.jsxs("div",{className:re.input(),children:[e?m.jsx(Xt,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,oe?m.jsx(r,{entity:oe}):i||Dl.rich("Select item"),m.jsx(Xt,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!x&&"text-slate-400",x&&"text-slate-600","group-hover:text-slate-600"]}})]})}),L&&m.jsx(zE,{children:m.jsx(lP,{context:D,modal:!1,children:m.jsx("div",{ref:T.setFloating,style:{...R,...te},className:re.popup(),...W(),children:t.map((ne,ae)=>m.jsxs("div",{ref:Z=>{F.current[ae]=Z},role:"option",tabIndex:ae===E?0:-1,"aria-selected":ae===q&&ae===E,className:re.item({selected:ae===q,active:ae===E}),...K({onClick(){X(ae)},onKeyDown(Z){Z.key==="Enter"&&(Z.preventDefault(),X(ae)),Z.key===" "&&!B.current&&(Z.preventDefault(),X(ae))}}),children:[m.jsx(r,{entity:ne}),ae===q&&m.jsx(Xt,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},ne.id))})})})]})},DH=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>m.jsx(FH,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),SS=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:s,tva:o=AH,css:l})=>{const u=U.useMemo(()=>d5({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),d=o({...s,css:l}).slots;return m.jsxs("div",{className:d.base(),children:[u.total>1?m.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(u.type)&&m.jsxs(m.Fragment,{children:[m.jsx(gw,{page:t.page,pages:u.start,onPage:r}),m.jsx(Xt,{icon:ZT})]}),m.jsx(gw,{page:t.page,pages:u.pages,onPage:r}),["both","end"].includes(u.type)&&m.jsxs(m.Fragment,{children:[m.jsx(Xt,{icon:ZT}),m.jsx(gw,{page:t.page,pages:u.end,onPage:r})]})]}):null,m.jsxs("div",{className:d.sums(),children:[m.jsx("div",{children:n}),m.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&m.jsxs(m.Fragment,{children:[m.jsx("div",{children:"/"}),m.jsx("div",{className:"font-semibold",children:e.where})]})]}),m.jsx(DH,{size:t.size,onSize:i})]})};function Al(t){return typeof t>"u"||t===void 0}function ps(t){return typeof t=="string"}function Gv(t){return typeof t=="number"}function My(t){return typeof t=="boolean"}function GE(t){return t===null}function LH(t){return t instanceof Date}function ZE(t){return typeof t=="bigint"}function gs(t){return typeof t=="function"}function zo(t){return typeof t=="object"&&t!==null}function Q(t){return Object.freeze(t)}function hg(t){return La(t)?t:[t]}function La(t){return Array.isArray(t)}function jl(t){return t}const Wn=Q({is(t){return t.kind==="AlterTableNode"},create(t){return Q({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return Q({...t,...e})},cloneWithColumnAlteration(t,e){return Q({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),ur=Q({is(t){return t.kind==="IdentifierNode"},create(t){return Q({kind:"IdentifierNode",name:t})}}),Ea=Q({is(t){return t.kind==="CreateIndexNode"},create(t){return Q({kind:"CreateIndexNode",name:ur.create(t)})},cloneWith(t,e){return Q({...t,...e})},cloneWithColumns(t,e){return Q({...t,columns:[...t.columns||[],...e]})}}),mP=Q({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return Q({kind:"CreateSchemaNode",schema:ur.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),MH=["preserve rows","delete rows","drop"],ts=Q({is(t){return t.kind==="CreateTableNode"},create(t){return Q({kind:"CreateTableNode",table:t,columns:Q([])})},cloneWithColumn(t,e){return Q({...t,columns:Q([...t.columns,e])})},cloneWithConstraint(t,e){return Q({...t,constraints:t.constraints?Q([...t.constraints,e]):Q([e])})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):Q([e])})},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):Q([e])})},cloneWith(t,e){return Q({...t,...e})}}),Wl=Q({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return Q({kind:"SchemableIdentifierNode",identifier:ur.create(t)})},createWithSchema(t,e){return Q({kind:"SchemableIdentifierNode",schema:ur.create(t),identifier:ur.create(e)})}}),Eh=Q({is(t){return t.kind==="DropIndexNode"},create(t,e){return Q({kind:"DropIndexNode",name:Wl.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),ES=Q({is(t){return t.kind==="DropSchemaNode"},create(t,e){return Q({kind:"DropSchemaNode",schema:ur.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),NS=Q({is(t){return t.kind==="DropTableNode"},create(t,e){return Q({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return Q({...t,...e})}}),Jl=Q({is(t){return t.kind==="AliasNode"},create(t,e){return Q({kind:"AliasNode",node:t,alias:e})}}),Pl=Q({is(t){return t.kind==="TableNode"},create(t){return Q({kind:"TableNode",table:Wl.create(t)})},createWithSchema(t,e){return Q({kind:"TableNode",table:Wl.createWithSchema(t,e)})}});function Zi(t){return zo(t)&&gs(t.toOperationNode)}function $H(t){return zo(t)&&"expressionType"in t&&Zi(t)}function BH(t){return zo(t)&&"expression"in t&&ps(t.alias)&&Zi(t)}const xa=Q({is(t){return t.kind==="SelectModifierNode"},create(t,e){return Q({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return Q({kind:"SelectModifierNode",rawModifier:t})}}),Ul=Q({is(t){return t.kind==="AndNode"},create(t,e){return Q({kind:"AndNode",left:t,right:e})}}),Yd=Q({is(t){return t.kind==="OrNode"},create(t,e){return Q({kind:"OrNode",left:t,right:e})}}),yw=Q({is(t){return t.kind==="OnNode"},create(t){return Q({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return Q({...t,on:e==="And"?Ul.create(t.on,n):Yd.create(t.on,n)})}}),Nh=Q({is(t){return t.kind==="JoinNode"},create(t,e){return Q({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return Q({kind:"JoinNode",joinType:t,table:e,on:yw.create(n)})},cloneWithOn(t,e){return Q({...t,on:t.on?yw.cloneWithOperation(t.on,"And",e):yw.create(e)})}}),Ad=Q({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return Q({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),zH=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],WH=["+","-","*","/","%","^","&","|","#","<<",">>"],gP=["->","->>"],UH=[...zH,...WH,"&&","||"],VH=["exists","not exists"],HH=["not","-",...VH],QH=[...UH,...gP,...HH,"between","between symmetric"],Vl=Q({is(t){return t.kind==="OperatorNode"},create(t){return Q({kind:"OperatorNode",operator:t})}});function JT(t){return ps(t)&&gP.includes(t)}const qr=Q({is(t){return t.kind==="ColumnNode"},create(t){return Q({kind:"ColumnNode",column:ur.create(t)})}}),JE=Q({is(t){return t.kind==="SelectAllNode"},create(){return Q({kind:"SelectAllNode"})}}),Zv=Q({is(t){return t.kind==="ReferenceNode"},create(t,e){return Q({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return Q({kind:"ReferenceNode",table:t,column:JE.create()})}});class KH{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return _P(this.#e)}}function yP(t){return zo(t)&&Zi(t)&&ps(t.dynamicReference)}const kS=Q({is(t){return t.kind==="OrderByItemNode"},create(t,e){return Q({kind:"OrderByItemNode",orderBy:t,direction:e})}}),fi=Q({is(t){return t.kind==="RawNode"},create(t,e){return Q({kind:"RawNode",sqlFragments:Q(t),parameters:Q(e)})},createWithSql(t){return fi.create([t],[])},createWithChild(t){return fi.create(["",""],[t])},createWithChildren(t){return fi.create(new Array(t.length+1).fill(""),t)}});function vP(t){return t==="asc"||t==="desc"}function Lp(t){if(t.length===2)return[vw(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>vw(n)):[vw(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function vw(t,e){const n=GH(t);if(kS.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return kS.create(n,bP(e))}function GH(t){if(Wp(t))return ru(t);if(yP(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!vP(n))throw new Error(`Invalid order by direction: ${n}`);return kS.create(Ma(e),bP(n))}return Ma(t)}function bP(t){if(t)return t==="asc"||t==="desc"?fi.createWithSql(t):t.toOperationNode()}const $y=Q({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return Q({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return Q({...t,traversal:e})}}),xP=Q({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return Q({kind:"JSONOperatorChainNode",operator:t,values:Q([])})},cloneWithValue(t,e){return Q({...t,values:Q([...t.values,e])})}}),kh=Q({is(t){return t.kind==="JSONPathNode"},create(t){return Q({kind:"JSONPathNode",inOperator:t,pathLegs:Q([])})},cloneWithLeg(t,e){return Q({...t,pathLegs:Q([...t.pathLegs,e])})}});function _P(t){return ps(t)?Ma(t):t.toOperationNode()}function Xh(t){return La(t)?t.map(e=>ls(e)):[ls(t)]}function ls(t){return Wp(t)?ru(t):_P(t)}function ZH(t,e){const n=Ma(t);if(JT(e))return $y.create(n,xP.create(Vl.create(e)));const r=e.slice(0,-1);if(JT(r))return $y.create(n,kh.create(Vl.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function Ma(t){const e=".";if(!t.includes(e))return Zv.create(qr.create(t));const n=t.split(e).map(YE);if(n.length===3)return YH(n);if(n.length===2)return XH(n);throw new Error(`invalid column reference ${t}`)}function JH(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(YE);return Jl.create(Ma(n),ur.create(r))}else return Ma(t)}function wP(t){return qr.create(t)}function By(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(YE);if(!vP(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return Lp([n,r])[0]}else return wP(t)}function YH(t){const[e,n,r]=t;return Zv.create(qr.create(r),Pl.createWithSchema(e,n))}function XH(t){const[e,n]=t;return Zv.create(qr.create(n),Pl.create(e))}function YE(t){return t.trim()}const SP=Q({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return Q({kind:"PrimitiveValueListNode",values:Q([...t])})}}),XE=Q({is(t){return t.kind==="ValueListNode"},create(t){return Q({kind:"ValueListNode",values:Q(t)})}}),Yo=Q({is(t){return t.kind==="ValueNode"},create(t){return Q({kind:"ValueNode",value:t})},createImmediate(t){return Q({kind:"ValueNode",value:t,immediate:!0})}});function e9(t){return La(t)?t9(t):Fr(t)}function Fr(t){return Wp(t)?ru(t):Yo.create(t)}function e1(t){return Gv(t)||My(t)||GE(t)}function t1(t){if(!e1(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Yo.createImmediate(t)}function t9(t){return t.some(Wp)?XE.create(t.map(e=>Fr(e))):SP.create(t)}const jd=Q({is(t){return t.kind==="ParensNode"},create(t){return Q({kind:"ParensNode",node:t})}});function ii(t){if(t.length===3)return n1(t[0],t[1],t[2]);if(t.length===1)return Fr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function n1(t,e,n){return n9(e)&&EP(n)?Ad.create(ls(t),IS(e),Yo.createImmediate(n)):Ad.create(ls(t),IS(e),e9(n))}function Xo(t,e,n){return Ad.create(ls(t),IS(e),ls(n))}function YT(t,e){return zy(Object.entries(t).filter(([,n])=>!Al(n)).map(([n,r])=>n1(n,EP(r)?"is":"=",r)),e)}function zy(t,e,n=!0){const r=e==="and"?Ul.create:Yd.create;if(t.length===0)return Ad.create(Yo.createImmediate(1),Vl.create("="),Yo.createImmediate(e==="and"?1:0));let i=XT(t[0]);for(let s=1;s<t.length;++s)i=r(i,XT(t[s]));return t.length>1&&n?jd.create(i):i}function n9(t){return t==="is"||t==="is not"}function EP(t){return GE(t)||My(t)}function IS(t){if(ps(t)&&QH.includes(t))return Vl.create(t);if(Zi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function XT(t){return Zi(t)?t.toOperationNode():t}const Hl=Q({is(t){return t.kind==="OrderByNode"},create(t){return Q({kind:"OrderByNode",items:Q([...t])})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),eO=Q({is(t){return t.kind==="PartitionByNode"},create(t){return Q({kind:"PartitionByNode",items:Q(t)})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),CS=Q({is(t){return t.kind==="OverNode"},create(){return Q({kind:"OverNode"})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Hl.cloneWithItems(t.orderBy,e):Hl.create(e)})},cloneWithPartitionByItems(t,e){return Q({...t,partitionBy:t.partitionBy?eO.cloneWithItems(t.partitionBy,e):eO.create(e)})}}),Wy=Q({is(t){return t.kind==="FromNode"},create(t){return Q({kind:"FromNode",froms:Q(t)})},cloneWithFroms(t,e){return Q({...t,froms:Q([...t.froms,...e])})}}),tO=Q({is(t){return t.kind==="GroupByNode"},create(t){return Q({kind:"GroupByNode",items:Q(t)})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),nO=Q({is(t){return t.kind==="HavingNode"},create(t){return Q({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return Q({...t,having:e==="And"?Ul.create(t.having,n):Yd.create(t.having,n)})}}),zn=Q({is(t){return t.kind==="SelectQueryNode"},create(t){return Q({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return Q({kind:"SelectQueryNode",from:Wy.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})},cloneWithDistinctOn(t,e){return Q({...t,distinctOn:t.distinctOn?Q([...t.distinctOn,...e]):Q(e)})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):Q([e])})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Hl.cloneWithItems(t.orderBy,e):Hl.create(e)})},cloneWithGroupByItems(t,e){return Q({...t,groupBy:t.groupBy?tO.cloneWithItems(t.groupBy,e):tO.create(e)})},cloneWithLimit(t,e){return Q({...t,limit:e})},cloneWithOffset(t,e){return Q({...t,offset:e})},cloneWithFetch(t,e){return Q({...t,fetch:e})},cloneWithHaving(t,e){return Q({...t,having:t.having?nO.cloneWithOperation(t.having,"And",e):nO.create(e)})},cloneWithSetOperations(t,e){return Q({...t,setOperations:t.setOperations?Q([...t.setOperations,...e]):Q([...e])})},cloneWithoutSelections(t){return Q({...t,selections:[]})},cloneWithoutLimit(t){return Q({...t,limit:void 0})},cloneWithoutOffset(t){return Q({...t,offset:void 0})},cloneWithoutOrderBy(t){return Q({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return Q({...t,groupBy:void 0})}});function vn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class gd{#e;constructor(e){this.#e=Q(e)}on(...e){return new gd({...this.#e,joinNode:Nh.cloneWithOn(this.#e.joinNode,ii(e))})}onRef(e,n,r){return new gd({...this.#e,joinNode:Nh.cloneWithOn(this.#e.joinNode,Xo(e,n,r))})}onTrue(){return new gd({...this.#e,joinNode:Nh.cloneWithOn(this.#e.joinNode,fi.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}vn(gd,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const r9=Q({is(t){return t.kind==="PartitionByItemNode"},create(t){return Q({kind:"PartitionByItemNode",partitionBy:t})}});function i9(t){return Xh(t).map(r9.create)}class ep{#e;constructor(e){this.#e=Q(e)}orderBy(e,n){return new ep({overNode:CS.cloneWithOrderByItems(this.#e.overNode,Lp([e,n]))})}partitionBy(e){return new ep({overNode:CS.cloneWithPartitionByItems(this.#e.overNode,i9(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}vn(ep,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Ih=Q({is(t){return t.kind==="SelectionNode"},create(t){return Q({kind:"SelectionNode",selection:t})},createSelectAll(){return Q({kind:"SelectionNode",selection:JE.create()})},createSelectAllFromTable(t){return Q({kind:"SelectionNode",selection:Zv.createSelectAll(t)})}});function Eo(t){return gs(t)?Eo(t(ef())):La(t)?t.map(e=>rO(e)):[rO(t)]}function rO(t){return ps(t)?Ih.create(JH(t)):yP(t)?Ih.create(t.toOperationNode()):Ih.create(DP(t))}function ea(t){return t?Array.isArray(t)?t.map(iO):[iO(t)]:[Ih.createSelectAll()]}function iO(t){if(ps(t))return Ih.createSelectAllFromTable(Nr(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const s9=Q({is(t){return t.kind==="ValuesNode"},create(t){return Q({kind:"ValuesNode",values:Q(t)})}}),o9=Q({is(t){return t.kind==="DefaultInsertValueNode"},create(){return Q({kind:"DefaultInsertValueNode"})}});function NP(t){const e=gs(t)?t(ef()):t,n=La(e)?e:Q([e]);return a9(n)}function a9(t){const e=l9(t);return[Q([...e.keys()].map(qr.create)),s9.create(t.map(n=>c9(n,e)))]}function l9(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function c9(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const o of n){const l=e.get(o);if(Al(l))continue;const u=t[o];(Al(u)||Wp(u))&&(i=!0),r[l]=u}if(n.length<e.size||i){const o=o9.create();return XE.create(r.map(l=>Al(l)?o:Fr(l)))}return SP.create(r)}const is=Q({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return Q({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return Q({kind:"InsertQueryNode"})},cloneWith(t,e){return Q({...t,...e})}}),yd=Q({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return Q({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return Q({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return Q({...t,from:t.from?Wy.cloneWithFroms(t.from,e):Wy.create(e)})},cloneWithUpdates(t,e){return Q({...t,updates:t.updates?Q([...t.updates,...e]):e})},cloneWithLimit(t,e){return Q({...t,limit:e})}}),sO=Q({is(t){return t.kind==="UsingNode"},create(t){return Q({kind:"UsingNode",tables:Q(t)})},cloneWithTables(t,e){return Q({...t,tables:Q([...t.tables,...e])})}}),Nc=Q({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return Q({kind:"DeleteQueryNode",from:Wy.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Hl.cloneWithItems(t.orderBy,e):Hl.create(e)})},cloneWithoutOrderBy(t){return Q({...t,orderBy:void 0})},cloneWithLimit(t,e){return Q({...t,limit:e})},cloneWithoutLimit(t){return Q({...t,limit:void 0})},cloneWithUsing(t,e){return Q({...t,using:t.using!==void 0?sO.cloneWithTables(t.using,e):sO.create(e)})}}),Ui=Q({is(t){return t.kind==="WhereNode"},create(t){return Q({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return Q({...t,where:e==="And"?Ul.create(t.where,n):Yd.create(t.where,n)})}}),oO=Q({is(t){return t.kind==="ReturningNode"},create(t){return Q({kind:"ReturningNode",selections:Q(t)})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})}}),u9=Q({is(t){return t.kind==="ExplainNode"},create(t,e){return Q({kind:"ExplainNode",format:t,options:e})}}),Mp=Q({is(t){return t.kind==="WhenNode"},create(t){return Q({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return Q({...t,result:e})}}),Hi=Q({is(t){return t.kind==="MergeQueryNode"},create(t,e){return Q({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return Q({...t,using:e})},cloneWithWhen(t,e){return Q({...t,whens:t.whens?Q([...t.whens,e]):Q([e])})},cloneWithThen(t,e){return Q({...t,whens:t.whens?Q([...t.whens.slice(0,-1),Mp.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),aO=Q({is(t){return t.kind==="OutputNode"},create(t){return Q({kind:"OutputNode",selections:Q(t)})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})}}),jt=Q({is(t){return zn.is(t)||is.is(t)||yd.is(t)||Nc.is(t)||Hi.is(t)},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):Q([e])})},cloneWithWhere(t,e){return Q({...t,where:t.where?Ui.cloneWithOperation(t.where,"And",e):Ui.create(e)})},cloneWithJoin(t,e){return Q({...t,joins:t.joins?Q([...t.joins,e]):Q([e])})},cloneWithReturning(t,e){return Q({...t,returning:t.returning?oO.cloneWithSelections(t.returning,e):oO.create(e)})},cloneWithoutReturning(t){return Q({...t,returning:void 0})},cloneWithoutWhere(t){return Q({...t,where:void 0})},cloneWithExplain(t,e,n){return Q({...t,explain:u9.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return Q({...t,top:e})},cloneWithOutput(t,e){return Q({...t,output:t.output?aO.cloneWithSelections(t.output,e):aO.create(e)})}}),kP=Q({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return Q({kind:"ColumnUpdateNode",column:t,value:e})}});function d9(...t){return t.length===2?[kP.create(ls(t[0]),Fr(t[1]))]:r1(t[0])}function r1(t){const e=gs(t)?t(ef()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>kP.create(qr.create(n),Fr(r)))}const f9=Q({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return Q({kind:"OnDuplicateKeyNode",updates:t})}});class h9{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class $p extends Error{node;constructor(e){super("no result"),this.node=e}}function Bp(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const ns=Q({is(t){return t.kind==="OnConflictNode"},create(){return Q({kind:"OnConflictNode"})},cloneWith(t,e){return Q({...t,...e})},cloneWithIndexWhere(t,e){return Q({...t,indexWhere:t.indexWhere?Ui.cloneWithOperation(t.indexWhere,"And",e):Ui.create(e)})},cloneWithIndexOrWhere(t,e){return Q({...t,indexWhere:t.indexWhere?Ui.cloneWithOperation(t.indexWhere,"Or",e):Ui.create(e)})},cloneWithUpdateWhere(t,e){return Q({...t,updateWhere:t.updateWhere?Ui.cloneWithOperation(t.updateWhere,"And",e):Ui.create(e)})},cloneWithUpdateOrWhere(t,e){return Q({...t,updateWhere:t.updateWhere?Ui.cloneWithOperation(t.updateWhere,"Or",e):Ui.create(e)})},cloneWithoutIndexWhere(t){return Q({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return Q({...t,updateWhere:void 0})}});class Bo{#e;constructor(e){this.#e=Q(e)}column(e){const n=qr.create(e);return new Bo({...this.#e,onConflictNode:ns.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?Q([...this.#e.onConflictNode.columns,n]):Q([n])})})}columns(e){const n=e.map(qr.create);return new Bo({...this.#e,onConflictNode:ns.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?Q([...this.#e.onConflictNode.columns,...n]):Q(n)})})}constraint(e){return new Bo({...this.#e,onConflictNode:ns.cloneWith(this.#e.onConflictNode,{constraint:ur.create(e)})})}expression(e){return new Bo({...this.#e,onConflictNode:ns.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new Bo({...this.#e,onConflictNode:ns.cloneWithIndexWhere(this.#e.onConflictNode,ii(e))})}whereRef(e,n,r){return new Bo({...this.#e,onConflictNode:ns.cloneWithIndexWhere(this.#e.onConflictNode,Xo(e,n,r))})}clearWhere(){return new Bo({...this.#e,onConflictNode:ns.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new IP({...this.#e,onConflictNode:ns.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new vd({...this.#e,onConflictNode:ns.cloneWith(this.#e.onConflictNode,{updates:r1(e)})})}$call(e){return e(this)}}vn(Bo,"don't await OnConflictBuilder instances.");class IP{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.onConflictNode}}vn(IP,"don't await OnConflictDoNothingBuilder instances.");class vd{#e;constructor(e){this.#e=Q(e)}where(...e){return new vd({...this.#e,onConflictNode:ns.cloneWithUpdateWhere(this.#e.onConflictNode,ii(e))})}whereRef(e,n,r){return new vd({...this.#e,onConflictNode:ns.cloneWithUpdateWhere(this.#e.onConflictNode,Xo(e,n,r))})}clearWhere(){return new vd({...this.#e,onConflictNode:ns.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}vn(vd,"don't await OnConflictUpdateBuilder instances.");const p9=Q({is(t){return t.kind==="TopNode"},create(t,e){return Q({kind:"TopNode",expression:t,modifiers:e})}});function Xd(t,e){if(!Gv(t)&&!ZE(t))throw new Error(`Invalid top expression: ${t}`);if(!Al(e)&&!m9(e))throw new Error(`Invalid top modifiers: ${e}`);return p9.create(t,e)}function m9(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class ar{#e;constructor(e){this.#e=Q(e)}values(e){const[n,r]=NP(e);return new ar({...this.#e,queryNode:is.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new ar({...this.#e,queryNode:is.cloneWith(this.#e.queryNode,{columns:Q(e.map(qr.create))})})}expression(e){return new ar({...this.#e,queryNode:is.cloneWith(this.#e.queryNode,{values:ru(e)})})}defaultValues(){return new ar({...this.#e,queryNode:is.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new ar({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new ar({...this.#e,queryNode:is.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new ar({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,Xd(e,n))})}onConflict(e){return new ar({...this.#e,queryNode:is.cloneWith(this.#e.queryNode,{onConflict:e(new Bo({onConflictNode:ns.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new ar({...this.#e,queryNode:is.cloneWith(this.#e.queryNode,{onDuplicateKey:f9.create(r1(e))})})}returning(e){return new ar({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Eo(e))})}returningAll(){return new ar({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,ea())})}output(e){return new ar({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Eo(e))})}outputAll(e){return new ar({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,ea(e))})}clearReturning(){return new ar({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new ar({...this.#e})}$castTo(){return new ar(this.#e)}$narrowType(){return new ar(this.#e)}$assertType(){return new ar(this.#e)}withPlugin(e){return new ar({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new h9(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new ar({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}vn(ar,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class g9{numDeletedRows;constructor(e){this.numDeletedRows=e}}const i1=Q({is(t){return t.kind==="LimitNode"},create(t){return Q({kind:"LimitNode",limit:t})}});class Bn{#e;constructor(e){this.#e=Q(e)}where(...e){return new Bn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ii(e))})}whereRef(e,n,r){return new Bn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Xo(e,n,r))})}clearWhere(){return new Bn({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Bn({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,Xd(e,n))})}using(e){return new Bn({...this.#e,queryNode:Nc.cloneWithUsing(this.#e.queryNode,rp(e))})}innerJoin(...e){return new Bn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("InnerJoin",e))})}leftJoin(...e){return new Bn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("LeftJoin",e))})}rightJoin(...e){return new Bn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("RightJoin",e))})}fullJoin(...e){return new Bn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("FullJoin",e))})}returning(e){return new Bn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Eo(e))})}returningAll(e){return new Bn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,ea(e))})}output(e){return new Bn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Eo(e))})}outputAll(e){return new Bn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,ea(e))})}clearReturning(){return new Bn({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Bn({...this.#e,queryNode:Nc.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Bn({...this.#e,queryNode:Nc.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Bn({...this.#e,queryNode:Nc.cloneWithOrderByItems(this.#e.queryNode,Lp([e,n]))})}limit(e){return new Bn({...this.#e,queryNode:Nc.cloneWithLimit(this.#e.queryNode,i1.create(Fr(e)))})}modifyEnd(e){return new Bn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Bn({...this.#e})}$castTo(){return new Bn(this.#e)}$narrowType(){return new Bn(this.#e)}$assertType(){return new Bn(this.#e)}withPlugin(e){return new Bn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new g9(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Bn({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}vn(Bn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class y9{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class Hn{#e;constructor(e){this.#e=Q(e)}where(...e){return new Hn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ii(e))})}whereRef(e,n,r){return new Hn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Xo(e,n,r))})}clearWhere(){return new Hn({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Hn({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,Xd(e,n))})}from(e){return new Hn({...this.#e,queryNode:yd.cloneWithFromItems(this.#e.queryNode,rp(e))})}innerJoin(...e){return new Hn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("InnerJoin",e))})}leftJoin(...e){return new Hn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("LeftJoin",e))})}rightJoin(...e){return new Hn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("RightJoin",e))})}fullJoin(...e){return new Hn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("FullJoin",e))})}limit(e){return new Hn({...this.#e,queryNode:yd.cloneWithLimit(this.#e.queryNode,i1.create(Fr(e)))})}set(...e){return new Hn({...this.#e,queryNode:yd.cloneWithUpdates(this.#e.queryNode,d9(...e))})}returning(e){return new Hn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Eo(e))})}returningAll(e){return new Hn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,ea(e))})}output(e){return new Hn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Eo(e))})}outputAll(e){return new Hn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,ea(e))})}modifyEnd(e){return new Hn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Hn({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Hn({...this.#e})}$castTo(){return new Hn(this.#e)}$narrowType(){return new Hn(this.#e)}$assertType(){return new Hn(this.#e)}withPlugin(e){return new Hn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new y9(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Hn({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}vn(Hn,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const lO=Q({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return Q({kind:"CommonTableExpressionNameNode",table:Pl.create(t),columns:e?Q(e.map(qr.create)):void 0})}}),Uy=Q({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return Q({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return Q({...t,...e})}});class tp{#e;constructor(e){this.#e=Q(e)}materialized(){return new tp({...this.#e,node:Uy.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new tp({...this.#e,node:Uy.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}vn(tp,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function cO(t,e){const n=e(T9()).toOperationNode();return gs(t)?t(v9(n)).toOperationNode():Uy.create(CP(t),n)}function v9(t){return e=>new tp({node:Uy.create(CP(e),t)})}function CP(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return lO.create(n,r)}else return lO.create(t)}const pg=Q({is(t){return t.kind==="WithNode"},create(t,e){return Q({kind:"WithNode",expressions:Q([t]),...e})},cloneWithExpression(t,e){return Q({...t,expressions:Q([...t.expressions,e])})}}),uO=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function b9(t){let e="";for(let n=0;n<t;++n)e+=x9();return e}function x9(){return uO[~~(Math.random()*uO.length)]}function Un(){return new _9}class _9{#e;get queryId(){return this.#e===void 0&&(this.#e=b9(8)),this.#e}}class TP{nodeStack=[];#e=Q({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),Q(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&Q(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:Q([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const w9=Q({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class S9 extends TP{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const s of n)this.#n.add(s);const r=this.#i(e);for(const s of r)this.#t.add(s);const i=super.transformNodeImpl(e);for(const s of r)this.#t.delete(s);for(const s of n)this.#n.delete(s);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:ur.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:Pl.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in w9}#i(e){const n=new Set;if("name"in e&&e.name&&Wl.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#c(e.with,n),n}#o(e,n){const r=Pl.is(e)?e:Jl.is(e)&&Pl.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#c(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class zp{#e;constructor(e){this.#e=new S9(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const E9=Q({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return Q({kind:"MatchedNode",not:t,bySource:e})}});function dO(t,e,n){return Mp.create(zy([E9.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?Xo(e[0],e[1],e[2]):ii(e)]:[]],"and",!1))}function Ch(t){return ps(t)?fi.create([t],[]):Zi(t)?t.toOperationNode():t}class fO{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const hO=new Set;function N9(t){hO.has(t)||(hO.add(t),console.log(t))}const k9=Q([]);class OP{#e;constructor(e=k9){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await this.#t(i,n);return I9(i,s),s})}async *stream(e,n,r){const i=new fO,s=new fO;this.provideConnection(async l=>(i.resolve(l),await s.promise)).catch(l=>i.reject(l));const o=await i.promise;try{for await(const l of o.streamQuery(e,n))yield await this.#t(l,r)}finally{s.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function I9(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||N9("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class nd extends OP{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new nd([...this.plugins,e])}withPlugins(e){return new nd([...this.plugins,...e])}withPluginAtFront(e){return new nd([e,...this.plugins])}withoutPlugins(){return new nd([])}}const Jv=new nd;class C9{numChangedRows;constructor(e){this.numChangedRows=e}}class Ac{#e;constructor(e){this.#e=Q(e)}modifyEnd(e){return new Ac({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Ac({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,Xd(e,n))})}using(...e){return new cs({...this.#e,queryNode:Hi.cloneWithUsing(this.#e.queryNode,Ei("Using",e))})}output(e){return new Ac({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Eo(e))})}outputAll(e){return new Ac({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,ea(e))})}}vn(Ac,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class cs{#e;constructor(e){this.#e=Q(e)}modifyEnd(e){return new cs({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new cs({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,Xd(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new TS({...this.#e,queryNode:Hi.cloneWithWhen(this.#e.queryNode,dO({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new cs({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Eo(e))})}outputAll(e){return new cs({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,ea(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:Hi.cloneWithWhen(this.#e.queryNode,dO({isMatched:!1,bySource:r},e,n))},s=r?TS:qP;return new s(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new cs({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new C9(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}vn(cs,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class TS{#e;constructor(e){this.#e=Q(e)}thenDelete(){return new cs({...this.#e,queryNode:Hi.cloneWithThen(this.#e.queryNode,Ch("delete"))})}thenDoNothing(){return new cs({...this.#e,queryNode:Hi.cloneWithThen(this.#e.queryNode,Ch("do nothing"))})}thenUpdate(e){return new cs({...this.#e,queryNode:Hi.cloneWithThen(this.#e.queryNode,Ch(e(new Hn({queryId:this.#e.queryId,executor:Jv,queryNode:yd.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}vn(TS,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class qP{#e;constructor(e){this.#e=Q(e)}thenDoNothing(){return new cs({...this.#e,queryNode:Hi.cloneWithThen(this.#e.queryNode,Ch("do nothing"))})}thenInsertValues(e){const[n,r]=NP(e);return new cs({...this.#e,queryNode:Hi.cloneWithThen(this.#e.queryNode,Ch(is.cloneWith(is.createWithoutInto(),{columns:n,values:r})))})}}vn(qP,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Sl{#e;constructor(e){this.#e=Q(e)}selectFrom(e){return OS({queryId:Un(),executor:this.#e.executor,queryNode:zn.createFrom(rp(e),this.#e.withNode)})}selectNoFrom(e){return OS({queryId:Un(),executor:this.#e.executor,queryNode:zn.cloneWithSelections(zn.create(this.#e.withNode),Eo(e))})}insertInto(e){return new ar({queryId:Un(),executor:this.#e.executor,queryNode:is.create(Nr(e),this.#e.withNode)})}replaceInto(e){return new ar({queryId:Un(),executor:this.#e.executor,queryNode:is.create(Nr(e),this.#e.withNode,!0)})}deleteFrom(e){return new Bn({queryId:Un(),executor:this.#e.executor,queryNode:Nc.create(rp(e),this.#e.withNode)})}updateTable(e){return new Hn({queryId:Un(),executor:this.#e.executor,queryNode:yd.create(ip(e),this.#e.withNode)})}mergeInto(e){return new Ac({queryId:Un(),executor:this.#e.executor,queryNode:Hi.create(LP(e),this.#e.withNode)})}with(e,n){const r=cO(e,n);return new Sl({...this.#e,withNode:this.#e.withNode?pg.cloneWithExpression(this.#e.withNode,r):pg.create(r)})}withRecursive(e,n){const r=cO(e,n);return new Sl({...this.#e,withNode:this.#e.withNode?pg.cloneWithExpression(this.#e.withNode,r):pg.create(r,{recursive:!0})})}withPlugin(e){return new Sl({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Sl({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Sl({...this.#e,executor:this.#e.executor.withPluginAtFront(new zp(e))})}}function T9(){return new Sl({executor:Jv})}function O9(t,e){return new gd({joinNode:Nh.create(t,ip(e))})}function q9(){return new ep({overNode:CS.create()})}function Ei(t,e){if(e.length===3)return A9(t,e[0],e[1],e[2]);if(e.length===2)return R9(t,e[0],e[1]);throw new Error("not implemented")}function R9(t,e,n){return n(O9(t,e)).toOperationNode()}function A9(t,e,n,r){return Nh.createWithOn(t,ip(e),Xo(n,"=",r))}const j9=Q({is(t){return t.kind==="OffsetNode"},create(t){return Q({kind:"OffsetNode",offset:t})}}),P9=Q({is(t){return t.kind==="GroupByItemNode"},create(t){return Q({kind:"GroupByItemNode",groupBy:t})}});function F9(t){return t=gs(t)?t(ef()):t,Xh(t).map(P9.create)}const RP=Q({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return Q({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function Hu(t,e,n){return gs(e)&&(e=e(o1())),La(e)||(e=[e]),e.map(r=>RP.create(t,ru(r),n))}class Qn{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new s1(this,e)}or(...e){return new Vy(Yd.create(this.#e,ii(e)))}and(...e){return new Hy(Ul.create(this.#e,ii(e)))}$castTo(){return new Qn(this.#e)}$notNull(){return new Qn(this.#e)}toOperationNode(){return this.#e}}class s1{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),Zi(this.#t)?this.#t.toOperationNode():ur.create(this.#t))}}class Vy{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new s1(this,e)}or(...e){return new Vy(Yd.create(this.#e,ii(e)))}$castTo(){return new Vy(this.#e)}toOperationNode(){return jd.create(this.#e)}}class Hy{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new s1(this,e)}and(...e){return new Hy(Ul.create(this.#e,ii(e)))}$castTo(){return new Hy(this.#e)}toOperationNode(){return jd.create(this.#e)}}const D9={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Yo.create(t),modifier:e}}};function L9(t,e){if(!Gv(t)&&!ZE(t))throw new Error(`Invalid fetch row count: ${t}`);if(!M9(e))throw new Error(`Invalid fetch modifier: ${e}`);return D9.create(t,e)}function M9(t){return t==="only"||t==="with ties"}class en{#e;constructor(e){this.#e=Q(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new en({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ii(e))})}whereRef(e,n,r){return new en({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Xo(e,n,r))})}having(...e){return new en({...this.#e,queryNode:zn.cloneWithHaving(this.#e.queryNode,ii(e))})}havingRef(e,n,r){return new en({...this.#e,queryNode:zn.cloneWithHaving(this.#e.queryNode,Xo(e,n,r))})}select(e){return new en({...this.#e,queryNode:zn.cloneWithSelections(this.#e.queryNode,Eo(e))})}distinctOn(e){return new en({...this.#e,queryNode:zn.cloneWithDistinctOn(this.#e.queryNode,Xh(e))})}modifyFront(e){return new en({...this.#e,queryNode:zn.cloneWithFrontModifier(this.#e.queryNode,xa.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new en({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.createWithExpression(e.toOperationNode()))})}distinct(){return new en({...this.#e,queryNode:zn.cloneWithFrontModifier(this.#e.queryNode,xa.create("Distinct"))})}forUpdate(e){return new en({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("ForUpdate",e?hg(e).map(Nr):void 0))})}forShare(e){return new en({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("ForShare",e?hg(e).map(Nr):void 0))})}forKeyShare(e){return new en({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("ForKeyShare",e?hg(e).map(Nr):void 0))})}forNoKeyUpdate(e){return new en({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("ForNoKeyUpdate",e?hg(e).map(Nr):void 0))})}skipLocked(){return new en({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("SkipLocked"))})}noWait(){return new en({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("NoWait"))})}selectAll(e){return new en({...this.#e,queryNode:zn.cloneWithSelections(this.#e.queryNode,ea(e))})}innerJoin(...e){return new en({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("InnerJoin",e))})}leftJoin(...e){return new en({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("LeftJoin",e))})}rightJoin(...e){return new en({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("RightJoin",e))})}fullJoin(...e){return new en({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("FullJoin",e))})}innerJoinLateral(...e){return new en({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("LateralInnerJoin",e))})}leftJoinLateral(...e){return new en({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Ei("LateralLeftJoin",e))})}orderBy(...e){return new en({...this.#e,queryNode:zn.cloneWithOrderByItems(this.#e.queryNode,Lp(e))})}groupBy(e){return new en({...this.#e,queryNode:zn.cloneWithGroupByItems(this.#e.queryNode,F9(e))})}limit(e){return new en({...this.#e,queryNode:zn.cloneWithLimit(this.#e.queryNode,i1.create(Fr(e)))})}offset(e){return new en({...this.#e,queryNode:zn.cloneWithOffset(this.#e.queryNode,j9.create(Fr(e)))})}fetch(e,n="only"){return new en({...this.#e,queryNode:zn.cloneWithFetch(this.#e.queryNode,L9(e,n))})}top(e,n){return new en({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,Xd(e,n))})}union(e){return new en({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,Hu("union",e,!1))})}unionAll(e){return new en({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,Hu("union",e,!0))})}intersect(e){return new en({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,Hu("intersect",e,!1))})}intersectAll(e){return new en({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,Hu("intersect",e,!0))})}except(e){return new en({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,Hu("except",e,!1))})}exceptAll(e){return new en({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,Hu("except",e,!0))})}as(e){return new AP(this,e)}clearSelect(){return new en({...this.#e,queryNode:zn.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new en({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new en({...this.#e,queryNode:zn.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new en({...this.#e,queryNode:zn.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new en({...this.#e,queryNode:zn.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new en({...this.#e,queryNode:zn.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new en({...this.#e})}$castTo(){return new en(this.#e)}$narrowType(){return new en(this.#e)}$assertType(){return new en(this.#e)}$asTuple(){return new Qn(this.toOperationNode())}withPlugin(e){return new en({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new en({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}vn(en,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function OS(t){return new en(t)}class AP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Jl.create(this.#e.toOperationNode(),ur.create(this.#t))}}vn(AP,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const El=Q({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return Q({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return Q({...t,distinct:!0})},cloneWithOrderBy(t,e){return Q({...t,orderBy:t.orderBy?Hl.cloneWithItems(t.orderBy,e):Hl.create(e)})},cloneWithFilter(t,e){return Q({...t,filter:t.filter?Ui.cloneWithOperation(t.filter,"And",e):Ui.create(e)})},cloneWithOrFilter(t,e){return Q({...t,filter:t.filter?Ui.cloneWithOperation(t.filter,"Or",e):Ui.create(e)})},cloneWithOver(t,e){return Q({...t,over:e})}}),pO=Q({is(t){return t.kind==="FunctionNode"},create(t,e){return Q({kind:"FunctionNode",func:t,arguments:e})}});class Ms{#e;constructor(e){this.#e=Q(e)}get expressionType(){}as(e){return new $9(this,e)}distinct(){return new Ms({...this.#e,aggregateFunctionNode:El.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new Ms({...this.#e,aggregateFunctionNode:El.cloneWithOrderBy(this.#e.aggregateFunctionNode,Lp([e,n]))})}filterWhere(...e){return new Ms({...this.#e,aggregateFunctionNode:El.cloneWithFilter(this.#e.aggregateFunctionNode,ii(e))})}filterWhereRef(e,n,r){return new Ms({...this.#e,aggregateFunctionNode:El.cloneWithFilter(this.#e.aggregateFunctionNode,Xo(e,n,r))})}over(e){const n=q9();return new Ms({...this.#e,aggregateFunctionNode:El.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Ms(this.#e)}$notNull(){return new Ms(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}vn(Ms,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class $9{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),ur.create(this.#t))}}function jP(){const t=(n,r)=>new Qn(pO.create(n,Xh(r??[]))),e=(n,r)=>new Ms({aggregateFunctionNode:El.create(n,r?Xh(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new Ms({aggregateFunctionNode:El.create("count",ea(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new Ms({aggregateFunctionNode:El.create("json_agg",[ps(n)?Nr(n):n.toOperationNode()])})},toJson(n){return new Qn(pO.create("to_json",[ps(n)?Nr(n):n.toOperationNode()]))}})}const B9=Q({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return Q({kind:"UnaryOperationNode",operator:t,operand:e})}});function z9(t,e){return B9.create(Vl.create(t),ls(e))}const Uo=Q({is(t){return t.kind==="CaseNode"},create(t){return Q({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return Q({...t,when:Q(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return Q({...t,when:t.when?Q([...t.when.slice(0,-1),Mp.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return Q({...t,...e})}});class PP{#e;constructor(e){this.#e=Q(e)}when(...e){return new FP({...this.#e,node:Uo.cloneWithWhen(this.#e.node,Mp.create(ii(e)))})}}class FP{#e;constructor(e){this.#e=Q(e)}then(e){return new W9({...this.#e,node:Uo.cloneWithThen(this.#e.node,e1(e)?t1(e):Fr(e))})}}class W9{#e;constructor(e){this.#e=Q(e)}when(...e){return new FP({...this.#e,node:Uo.cloneWithWhen(this.#e.node,Mp.create(ii(e)))})}else(e){return new U9({...this.#e,node:Uo.cloneWith(this.#e.node,{else:e1(e)?t1(e):Fr(e)})})}end(){return new Qn(Uo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Qn(Uo.cloneWith(this.#e.node,{isStatement:!0}))}}class U9{#e;constructor(e){this.#e=Q(e)}end(){return new Qn(Uo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Qn(Uo.cloneWith(this.#e.node,{isStatement:!0}))}}const mO=Q({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return Q({kind:"JSONPathLegNode",type:t,value:e})}});class qS{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return $y.is(this.#e)?new np($y.cloneWithTraversal(this.#e,kh.is(this.#e.traversal)?kh.cloneWithLeg(this.#e.traversal,mO.create(e,n)):xP.cloneWithValue(this.#e.traversal,Yo.createImmediate(n)))):new np(kh.cloneWithLeg(this.#e,mO.create(e,n)))}}class np extends qS{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new V9(this,e)}$castTo(){return new np(this.#e)}$notNull(){return new np(this.#e)}toOperationNode(){return this.#e}}class V9{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),Zi(this.#t)?this.#t.toOperationNode():ur.create(this.#t))}}const gO=Q({is(t){return t.kind==="TupleNode"},create(t){return Q({kind:"TupleNode",values:Q(t)})}}),H9=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],Q9=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],K9=Q({is(t){return t.kind==="DataTypeNode"},create(t){return Q({kind:"DataTypeNode",dataType:t})}});function G9(t){return!!(H9.includes(t)||Q9.some(e=>e.test(t)))}function Jc(t){if(Zi(t))return t.toOperationNode();if(G9(t))return K9.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const Z9=Q({is(t){return t.kind==="CastNode"},create(t,e){return Q({kind:"CastNode",expression:t,dataType:e})}});function o1(t=Jv){function e(i,s,o){return new Qn(n1(i,s,o))}function n(i,s){return new Qn(z9(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return OS({queryId:Un(),executor:t,queryNode:zn.createFrom(rp(i))})},case(i){return new PP({node:Uo.create(Al(i)?void 0:ls(i))})},ref(i,s){return Al(s)?new Qn(Ma(i)):new qS(ZH(i,s))},jsonPath(){return new qS(kh.create())},table(i){return new Qn(Nr(i))},val(i){return new Qn(Fr(i))},refTuple(...i){return new Qn(gO.create(i.map(ls)))},tuple(...i){return new Qn(gO.create(i.map(Fr)))},lit(i){return new Qn(t1(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new Qn(Ad.create(ls(i),Vl.create("between"),Ul.create(Fr(s),Fr(o))))},betweenSymmetric(i,s,o){return new Qn(Ad.create(ls(i),Vl.create("between symmetric"),Ul.create(Fr(s),Fr(o))))},and(i){return La(i)?new Qn(zy(i,"and")):new Qn(YT(i,"and"))},or(i){return La(i)?new Qn(zy(i,"or")):new Qn(YT(i,"or"))},parens(...i){const s=ii(i);return jd.is(s)?new Qn(s):new Qn(jd.create(s))},cast(i,s){return new Qn(Z9.create(ls(i),Jc(s)))},withSchema(i){return o1(t.withPluginAtFront(new zp(i)))}});return r.fn=jP(),r.eb=r,r}function ef(t){return o1()}function ru(t){if(Zi(t))return t.toOperationNode();if(gs(t))return t(ef()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function DP(t){if(Zi(t))return t.toOperationNode();if(gs(t))return t(ef()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Wp(t){return $H(t)||BH(t)||gs(t)}function rp(t){return La(t)?t.map(e=>ip(e)):[ip(t)]}function ip(t){return ps(t)?LP(t):DP(t)}function LP(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(MP);return Jl.create(Nr(n),ur.create(r))}else return Nr(t)}function Nr(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(MP);return Pl.createWithSchema(n,r)}else return Pl.create(t)}function MP(t){return t.trim()}const $P=Q({is(t){return t.kind==="AddColumnNode"},create(t){return Q({kind:"AddColumnNode",column:t})}}),lr=Q({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return Q({kind:"ColumnDefinitionNode",column:qr.create(t),dataType:e})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):[e]})},cloneWith(t,e){return Q({...t,...e})}}),BP=Q({is(t){return t.kind==="DropColumnNode"},create(t){return Q({kind:"DropColumnNode",column:qr.create(t)})}}),zP=Q({is(t){return t.kind==="RenameColumnNode"},create(t,e){return Q({kind:"RenameColumnNode",column:qr.create(t),renameTo:qr.create(e)})}}),a1=Q({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return Q({kind:"CheckConstraintNode",expression:t,name:e?ur.create(e):void 0})}}),J9=["no action","restrict","cascade","set null","set default"],Kg=Q({is(t){return t.kind==="ReferencesNode"},create(t,e){return Q({kind:"ReferencesNode",table:t,columns:Q([...e])})},cloneWithOnDelete(t,e){return Q({...t,onDelete:e})},cloneWithOnUpdate(t,e){return Q({...t,onUpdate:e})}});function WP(t){return Zi(t)?t.toOperationNode():Yo.createImmediate(t)}const mg=Q({is(t){return t.kind==="GeneratedNode"},create(t){return Q({kind:"GeneratedNode",...t})},createWithExpression(t){return Q({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return Q({...t,...e})}}),Y9=Q({is(t){return t.kind==="DefaultValueNode"},create(t){return Q({kind:"DefaultValueNode",defaultValue:t})}});function Qy(t){if(J9.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Zn{#e;constructor(e){this.#e=e}autoIncrement(){return new Zn(lr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Zn(lr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Zn(lr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=Ma(e);if(!n.table||JE.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Zn(lr.cloneWith(this.#e,{references:Kg.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Zn(lr.cloneWith(this.#e,{references:Kg.cloneWithOnDelete(this.#e.references,Qy(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Zn(lr.cloneWith(this.#e,{references:Kg.cloneWithOnUpdate(this.#e.references,Qy(e))}))}unique(){return new Zn(lr.cloneWith(this.#e,{unique:!0}))}notNull(){return new Zn(lr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Zn(lr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Zn(lr.cloneWith(this.#e,{defaultTo:Y9.create(WP(e))}))}check(e){return new Zn(lr.cloneWith(this.#e,{check:a1.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Zn(lr.cloneWith(this.#e,{generated:mg.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Zn(lr.cloneWith(this.#e,{generated:mg.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Zn(lr.cloneWith(this.#e,{generated:mg.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Zn(lr.cloneWith(this.#e,{generated:mg.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Zn(lr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Zn(lr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Zn(lr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Zn(lr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}vn(Zn,"don't await ColumnDefinitionBuilder instances directly.");const UP=Q({is(t){return t.kind==="ModifyColumnNode"},create(t){return Q({kind:"ModifyColumnNode",column:t})}}),Ky=Q({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return Q({kind:"ForeignKeyConstraintNode",columns:t,references:Kg.create(e,n),name:r?ur.create(r):void 0})},cloneWith(t,e){return Q({...t,...e})}});class Pd{#e;constructor(e){this.#e=e}onDelete(e){return new Pd(Ky.cloneWith(this.#e,{onDelete:Qy(e)}))}onUpdate(e){return new Pd(Ky.cloneWith(this.#e,{onUpdate:Qy(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}vn(Pd,"don't await ForeignKeyConstraintBuilder instances directly.");const Gg=Q({is(t){return t.kind==="AddConstraintNode"},create(t){return Q({kind:"AddConstraintNode",constraint:t})}}),l1=Q({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return Q({kind:"UniqueConstraintNode",columns:Q(t.map(qr.create)),name:e?ur.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return Q({...t,...e})}}),Zg=Q({is(t){return t.kind==="DropConstraintNode"},create(t){return Q({kind:"DropConstraintNode",constraintName:ur.create(t)})},cloneWith(t,e){return Q({...t,...e})}}),Xf=Q({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return Q({kind:"AlterColumnNode",column:qr.create(t),[e]:n})}});class c1{#e;constructor(e){this.#e=e}setDataType(e){return new Ju(Xf.create(this.#e,"dataType",Jc(e)))}setDefault(e){return new Ju(Xf.create(this.#e,"setDefault",WP(e)))}dropDefault(){return new Ju(Xf.create(this.#e,"dropDefault",!0))}setNotNull(){return new Ju(Xf.create(this.#e,"setNotNull",!0))}dropNotNull(){return new Ju(Xf.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}vn(c1,"don't await AlterColumnBuilder instances");class Ju{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}vn(Ju,"don't await AlteredColumnBuilder instances");class Sc{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Sc,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class sp{#e;constructor(e){this.#e=Q(e)}onDelete(e){return new sp({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new sp({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Wn.cloneWithTableProps(this.#e.node,{addConstraint:Gg.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(sp,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class bd{#e;constructor(e){this.#e=Q(e)}ifExists(){return new bd({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:Zg.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new bd({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:Zg.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new bd({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:Zg.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(bd,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const VP=Q({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return Q({kind:"PrimaryKeyConstraintNode",columns:Q(t.map(qr.create)),name:e?ur.create(e):void 0})}}),Yu=Q({is(t){return t.kind==="AddIndexNode"},create(t){return Q({kind:"AddIndexNode",name:ur.create(t)})},cloneWith(t,e){return Q({...t,...e})},cloneWithColumns(t,e){return Q({...t,columns:[...t.columns||[],...e]})}});class Nl{#e;constructor(e){this.#e=Q(e)}unique(){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Yu.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Yu.cloneWithColumns(this.#e.node.addIndex,[By(e)])})})}columns(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Yu.cloneWithColumns(this.#e.node.addIndex,e.map(By))})})}expression(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Yu.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Yu.cloneWith(this.#e.node.addIndex,{using:fi.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Nl,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class Up{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new Up(l1.cloneWith(this.#e,{nullsNotDistinct:!0}))}}vn(Up,"don't await UniqueConstraintNodeBuilder instances directly.");class HP{#e;constructor(e){this.#e=Q(e)}renameTo(e){return new Sc({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{renameTo:Nr(e)})})}setSchema(e){return new Sc({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{setSchema:ur.create(e)})})}alterColumn(e,n){const r=n(new c1(e));return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,BP.create(e))})}renameColumn(e,n){return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,zP.create(e,n))})}addColumn(e,n,r=jl){const i=r(new Zn(lr.create(e,Jc(n))));return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,$P.create(i.toOperationNode()))})}modifyColumn(e,n,r=jl){const i=r(new Zn(lr.create(e,Jc(n))));return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,UP.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=jl){const i=r(new Up(l1.create(n,e)));return new Sc({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:Gg.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new Sc({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:Gg.create(a1.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new sp({...this.#e,constraintBuilder:new Pd(Ky.create(n.map(qr.create),Nr(r),i.map(qr.create),e))})}addPrimaryKeyConstraint(e,n){return new Sc({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:Gg.create(VP.create(n,e))})})}dropConstraint(e){return new bd({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:Zg.create(e)})})}addIndex(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Yu.create(e)})})}dropIndex(e){return new Sc({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropIndex:Eh.create(e)})})}$call(e){return e(this)}}vn(HP,"don't await AlterTableBuilder instances");class $s{#e;constructor(e){this.#e=Q(e)}alterColumn(e,n){const r=n(new c1(e));return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,BP.create(e))})}renameColumn(e,n){return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,zP.create(e,n))})}addColumn(e,n,r=jl){const i=r(new Zn(lr.create(e,Jc(n))));return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,$P.create(i.toOperationNode()))})}modifyColumn(e,n,r=jl){const i=r(new Zn(lr.create(e,Jc(n))));return new $s({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,UP.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn($s,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class QP extends TP{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Ds{#e;constructor(e){this.#e=Q(e)}ifNotExists(){return new Ds({...this.#e,node:Ea.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Ds({...this.#e,node:Ea.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Ds({...this.#e,node:Ea.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Ds({...this.#e,node:Ea.cloneWith(this.#e.node,{table:Nr(e)})})}column(e){return new Ds({...this.#e,node:Ea.cloneWithColumns(this.#e.node,[By(e)])})}columns(e){return new Ds({...this.#e,node:Ea.cloneWithColumns(this.#e.node,e.map(By))})}expression(e){return new Ds({...this.#e,node:Ea.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Ds({...this.#e,node:Ea.cloneWith(this.#e.node,{using:fi.createWithSql(e)})})}where(...e){const n=new QP;return new Ds({...this.#e,node:jt.cloneWithWhere(this.#e.node,n.transformNode(ii(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Ds,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Yv{#e;constructor(e){this.#e=Q(e)}ifNotExists(){return new Yv({...this.#e,node:mP.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Yv,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function X9(t){if(MH.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class Bi{#e;constructor(e){this.#e=Q(e)}temporary(){return new Bi({...this.#e,node:ts.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new Bi({...this.#e,node:ts.cloneWith(this.#e.node,{onCommit:X9(e)})})}ifNotExists(){return new Bi({...this.#e,node:ts.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=jl){const i=r(new Zn(lr.create(e,Jc(n))));return new Bi({...this.#e,node:ts.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new Bi({...this.#e,node:ts.cloneWithConstraint(this.#e.node,VP.create(n,e))})}addUniqueConstraint(e,n,r=jl){const i=r(new Up(l1.create(n,e)));return new Bi({...this.#e,node:ts.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new Bi({...this.#e,node:ts.cloneWithConstraint(this.#e.node,a1.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,s=jl){const o=s(new Pd(Ky.create(n.map(qr.create),Nr(r),i.map(qr.create),e)));return new Bi({...this.#e,node:ts.cloneWithConstraint(this.#e.node,o.toOperationNode())})}modifyFront(e){return new Bi({...this.#e,node:ts.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new Bi({...this.#e,node:ts.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new Bi({...this.#e,node:ts.cloneWith(this.#e.node,{selectQuery:ru(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Bi,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class xd{#e;constructor(e){this.#e=Q(e)}on(e){return new xd({...this.#e,node:Eh.cloneWith(this.#e.node,{table:Nr(e)})})}ifExists(){return new xd({...this.#e,node:Eh.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new xd({...this.#e,node:Eh.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(xd,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class op{#e;constructor(e){this.#e=Q(e)}ifExists(){return new op({...this.#e,node:ES.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new op({...this.#e,node:ES.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(op,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class ap{#e;constructor(e){this.#e=Q(e)}ifExists(){return new ap({...this.#e,node:NS.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new ap({...this.#e,node:NS.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(ap,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const vl=Q({is(t){return t.kind==="CreateViewNode"},create(t){return Q({kind:"CreateViewNode",name:Wl.create(t)})},cloneWith(t,e){return Q({...t,...e})}});class e7{#e=new QP;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Ia{#e;constructor(e){this.#e=Q(e)}temporary(){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{columns:e.map(wP)})})}as(e){const n=e.withPlugin(new e7).toOperationNode();return new Ia({...this.#e,node:vl.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Ia,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Jg=Q({is(t){return t.kind==="DropViewNode"},create(t){return Q({kind:"DropViewNode",name:Wl.create(t)})},cloneWith(t,e){return Q({...t,...e})}});class _d{#e;constructor(e){this.#e=Q(e)}materialized(){return new _d({...this.#e,node:Jg.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new _d({...this.#e,node:Jg.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new _d({...this.#e,node:Jg.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(_d,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const KP=Q({is(t){return t.kind==="CreateTypeNode"},create(t){return Q({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return Q({...t,enum:XE.create(e.map(n=>Yo.createImmediate(n)))})}});class Xv{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Xv({...this.#e,node:KP.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(Xv,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const GP=Q({is(t){return t.kind==="DropTypeNode"},create(t){return Q({kind:"DropTypeNode",name:t})},cloneWith(t,e){return Q({...t,...e})}});class eb{#e;constructor(e){this.#e=Q(e)}ifExists(){return new eb({...this.#e,node:GP.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}vn(eb,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function yO(t){const e=".";if(t.includes(e)){const n=t.split(e).map(t7);if(n.length===2)return Wl.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return Wl.create(t)}function t7(t){return t.trim()}class Th{#e;constructor(e){this.#e=e}createTable(e){return new Bi({queryId:Un(),executor:this.#e,node:ts.create(Nr(e))})}dropTable(e){return new ap({queryId:Un(),executor:this.#e,node:NS.create(Nr(e))})}createIndex(e){return new Ds({queryId:Un(),executor:this.#e,node:Ea.create(e)})}dropIndex(e){return new xd({queryId:Un(),executor:this.#e,node:Eh.create(e)})}createSchema(e){return new Yv({queryId:Un(),executor:this.#e,node:mP.create(e)})}dropSchema(e){return new op({queryId:Un(),executor:this.#e,node:ES.create(e)})}alterTable(e){return new HP({queryId:Un(),executor:this.#e,node:Wn.create(Nr(e))})}createView(e){return new Ia({queryId:Un(),executor:this.#e,node:vl.create(e)})}dropView(e){return new _d({queryId:Un(),executor:this.#e,node:Jg.create(e)})}createType(e){return new Xv({queryId:Un(),executor:this.#e,node:KP.create(yO(e))})}dropType(e){return new eb({queryId:Un(),executor:this.#e,node:GP.create(yO(e))})}withPlugin(e){return new Th(this.#e.withPlugin(e))}withoutPlugins(){return new Th(this.#e.withoutPlugins())}withSchema(e){return new Th(this.#e.withPluginAtFront(new zp(e)))}}class n7{ref(e){return new KH(e)}}class r7{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class kc extends OP{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new kc(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new kc(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new kc(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new kc(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new kc(this.#e,this.#t,this.#n,[])}}function vO(){return typeof performance<"u"&&gs(performance.now)?performance.now():Date.now()}class i7{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const s=vO();try{return await n.call(e,r)}catch(o){throw i=o,await this.#c(o,r,s),o}finally{i||await this.#l(r,s)}}}async #c(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#u(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#u(n)}))}#u(e){return vO()-e}}const s7=()=>{};class ZP{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(s7);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const o7=["read uncommitted","read committed","repeatable read","serializable","snapshot"];Q(["query","error"]);class a7{#e;#t;constructor(e){gs(e)?(this.#t=e,this.#e=Q({query:!0,error:!0})):(this.#t=l7,this.#e=Q({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function l7(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function c7(t){return zo(t)&&gs(t.compile)}class Cl extends Sl{#e;constructor(e){let n,r;if(u7(e))n={executor:e.executor},r={...e};else{const i=e.dialect,s=i.createDriver(),o=i.createQueryCompiler(),l=i.createAdapter(),u=new a7(e.log??[]),d=new i7(s,u),f=new r7(d),h=new kc(o,l,f,e.plugins??[]);n={executor:h},r={config:e,executor:h,dialect:i,driver:d}}super(n),this.#e=Q(r)}get schema(){return new Th(this.#e.executor)}get dynamic(){return new n7}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new PP({node:Uo.create(Al(e)?void 0:ru(e))})}get fn(){return jP()}transaction(){return new tb({...this.#e})}connection(){return new JP({...this.#e})}withPlugin(e){return new Cl({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Cl({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Cl({...this.#e,executor:this.#e.executor.withPluginAtFront(new zp(e))})}withTables(){return new Cl({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=Un()){const r=c7(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}}class rd extends Cl{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new rd({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new rd({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new rd({...this.#e,executor:this.#e.executor.withPluginAtFront(new zp(e))})}withTables(){return new rd({...this.#e})}}function u7(t){return zo(t)&&zo(t.config)&&zo(t.driver)&&zo(t.executor)&&zo(t.dialect)}class JP{#e;constructor(e){this.#e=Q(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new ZP(n)),i=new Cl({...this.#e,executor:r});return await e(i)})}}vn(JP,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class tb{#e;constructor(e){this.#e=Q(e)}setIsolationLevel(e){return new tb({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return d7(i),this.#e.executor.provideConnection(async s=>{const o=this.#e.executor.withConnectionProvider(new ZP(s)),l=new rd({...r,executor:o});try{await this.#e.driver.beginTransaction(s,i);const u=await e(l);return await this.#e.driver.commitTransaction(s),u}catch(u){throw await this.#e.driver.rollbackTransaction(s),u}})}}vn(tb,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function d7(t){if(t.isolationLevel&&!o7.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class wd{#e;constructor(e){this.#e=Q(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new YP(this,e)}$castTo(){return new wd({...this.#e})}$notNull(){return new wd(this.#e)}withPlugin(e){return new wd({...this.#e,plugins:this.#e.plugins!==void 0?Q([...this.#e.plugins,e]):Q([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():Jv;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function pl(t){return new wd(t)}vn(wd,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class YP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return Jl.create(this.#e.toOperationNode(),Zi(this.#t)?this.#t.toOperationNode():ur.create(this.#t))}}vn(YP,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const On=Object.assign((t,...e)=>pl({queryId:Un(),rawNode:fi.create(t,e?.map(bO)??[])}),{ref(t){return pl({queryId:Un(),rawNode:fi.createWithChild(Ma(t))})},val(t){return pl({queryId:Un(),rawNode:fi.createWithChild(Fr(t))})},value(t){return this.val(t)},table(t){return pl({queryId:Un(),rawNode:fi.createWithChild(Nr(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",pl({queryId:Un(),rawNode:fi.create(e,t.map(ur.create))})},lit(t){return pl({queryId:Un(),rawNode:fi.createWithChild(Yo.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return pl({queryId:Un(),rawNode:fi.createWithSql(t)})},join(t,e=On`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=bO(t[i]),i!==t.length-1&&(n[2*i+1]=r);return pl({queryId:Un(),rawNode:fi.createWithChildren(n)})}});function bO(t){return Zi(t)?t.toOperationNode():Fr(t)}class f7{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=Q({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class h7 extends f7{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),Q({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!jd.is(this.parentNode)&&!is.is(this.parentNode)&&!ts.is(this.parentNode)&&!vl.is(this.parentNode)&&!RP.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(jt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!Hi.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!Hi.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(jt.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!ps(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(m7[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(jt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!Hi.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!Hi.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),My(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(p7[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return Vl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const s of e)i+=s,s===n?i+=n:s===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(ps(e))this.append(`'${e}'`);else if(Gv(e)||My(e))this.append(e.toString());else if(GE(e))this.append("null");else if(LH(e))this.appendImmediateValue(e.toISOString());else if(ZE(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?xO[n.modifier]-xO[r.modifier]:1),Q(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const p7=Q({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),xO=Q({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),m7=Q({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class g7{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const y7=/"/g;class v7 extends h7{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(y7,'""')}visitDefaultInsertValue(e){this.append("null")}}const b7="kysely_migration",x7="kysely_migration_lock";Q({__noMigrations__:!0});class _7{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",b7).where("name","!=",x7));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(o=>o.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),s=await n.selectFrom(On`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:s.map(o=>({name:o.name,dataType:o.type,isNullable:!o.notnull,isAutoIncrementing:o.name===i,hasDefaultValue:o.dflt_value!=null,comment:void 0}))}}}class w7 extends g7{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const _O="function",id="64e10b34-2bf7-4616-9668-f99de5aa046e",S7="get",E7="has",N7="set",{isArray:Yg}=Array;let{SharedArrayBuffer:Gy,window:k7}=globalThis,{notify:XP,wait:eF,waitAsync:Zy}=Atomics,tF=null;Zy||(Zy=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new Gy(4)}catch{Gy=ArrayBuffer;const e=new WeakMap;if(k7){const n=new Map,{prototype:{postMessage:r}}=Worker,i=s=>{const o=s.data?.[id];if(!Yg(o)){s.stopImmediatePropagation();const{id:l,sb:u}=o;n.get(l)(u)}};tF=function(s,...o){const l=s?.[id];if(Yg(l)){const[u,d]=l;e.set(d,u),this.addEventListener("message",i)}return r.call(this,s,...o)},Zy=s=>({value:new Promise(o=>{n.set(e.get(s),o)}).then(o=>{n.delete(e.get(s)),e.delete(s);for(let l=0;l<o.length;l++)s[l]=o[l];return"ok"})})}else{const n=(r,i)=>({[id]:{id:r,sb:i}});XP=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[id];if(Yg(i)){const[s,o]=i;e.set(o,s)}})}}const{Int32Array:RS,Map:wO,Uint16Array:AS}=globalThis,{BYTES_PER_ELEMENT:SO}=RS,{BYTES_PER_ELEMENT:I7}=AS,C7=(t,e,n)=>{for(;eF(t,0,0,e)==="timed-out";)n()},jS=new WeakSet,bw=new WeakMap,T7={value:{then:t=>t()}};let O7=0;const u1=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!bw.has(t)){const s=tF||t.postMessage,o=(b,...x)=>s.call(t,{[id]:x},{transfer:b}),l=typeof i===_O?i:i?.handler,u=i?.delay||42,d=new TextDecoder("utf-16"),f=(b,x)=>b?Zy(x,0):(l?C7(x,u,l):eF(x,0),T7);let h=!1;bw.set(t,new Proxy(new wO,{[E7]:(b,x)=>typeof x=="string"&&!x.startsWith("_"),[S7]:(b,x)=>x==="then"?null:(...w)=>{const E=O7++;let I=new RS(new Gy(SO*2)),q=[];jS.has(w.at(-1)||q)&&jS.delete(q=w.pop()),o(q,E,I,x,r?w.map(r):w);const O=t!==globalThis;let T=0;return h&&O&&(T=setTimeout(console.warn,1e3,`💀🔒 - Possible deadlock if proxy.${x}(...args) is awaited`)),f(O,I).value.then(()=>{clearTimeout(T);const R=I[1];if(!R)return;const D=I7*R;return I=new RS(new Gy(D+D%SO)),o([],E,I),f(O,I).value.then(()=>e(d.decode(new AS(I.buffer).slice(0,R))))})},[N7](b,x,w){const E=typeof w;if(E!==_O)throw new Error(`Unable to assign ${x} as ${E}`);if(!b.size){const I=new wO;t.addEventListener("message",async q=>{const O=q.data?.[id];if(Yg(O)){q.stopImmediatePropagation();const[T,R,...D]=O;let F;if(D.length){const[B,$]=D;if(b.has(B)){h=!0;try{const j=await b.get(B)(...$);if(j!==void 0){const z=n(r?r(j):j);I.set(T,z),R[1]=z.length}}catch(j){F=j}finally{h=!1}}else F=new Error(`Unsupported action: ${B}`);R[0]=1}else{const B=I.get(T);I.delete(T);for(let $=new AS(R.buffer),j=0;j<B.length;j++)$[j]=B.charCodeAt(j)}if(XP(R,0),F)throw F}})}return!!b.set(x,w)}}))}return bw.get(t)};u1.transfer=(...t)=>(jS.add(t),t);var d1=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,s,o=new Promise((g,y)=>{i=g,s=y}),l=typeof window=="object",u=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const d=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,d.debugModule("globalThis.location =",globalThis.location);var f=Object.assign({},r),h="./this.program",b="";function x(g){return r.locateFile?r.locateFile(g,b):b+g}var w,E;(l||u)&&(u?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),t&&(b=t),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(E=g=>{var y=new XMLHttpRequest;return y.open("GET",g,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),w=g=>fetch(g,{credentials:"same-origin"}).then(y=>y.ok?y.arrayBuffer():Promise.reject(new Error(y.status+" : "+y.url))));var I=r.print||console.log.bind(console),q=r.printErr||console.error.bind(console);Object.assign(r,f),f=null,r.arguments&&r.arguments,r.thisProgram&&(h=r.thisProgram);var O=r.wasmBinary,T,R=!1,D,F,B,$,j,z;function P(){var g=T.buffer;r.HEAP8=D=new Int8Array(g),r.HEAP16=B=new Int16Array(g),r.HEAPU8=F=new Uint8Array(g),r.HEAPU16=new Uint16Array(g),r.HEAP32=$=new Int32Array(g),r.HEAPU32=j=new Uint32Array(g),r.HEAPF32=new Float32Array(g),r.HEAPF64=new Float64Array(g),r.HEAP64=z=new BigInt64Array(g),r.HEAPU64=new BigUint64Array(g)}if(r.wasmMemory)T=r.wasmMemory;else{var W=r.INITIAL_MEMORY||0x1000000;T=new WebAssembly.Memory({initial:W/65536,maximum:32768})}P();var K=[],L=[],te=[];function X(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)ne(r.preRun.shift());ve(K)}function oe(){!r.noFSInit&&!V.initialized&&V.init(),V.ignorePermissions=!1,ve(L)}function re(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Z(r.postRun.shift());ve(te)}function ne(g){K.unshift(g)}function ae(g){L.unshift(g)}function Z(g){te.unshift(g)}var ue=0,he=null;function ge(g){return g}function _e(g){ue++,r.monitorRunDependencies?.(ue)}function Ne(g){if(ue--,r.monitorRunDependencies?.(ue),ue==0&&he){var y=he;he=null,y()}}function Pe(g){r.onAbort?.(g),g="Aborted("+g+")",q(g),R=!0,g+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(g);throw s(y),y}var Re="data:application/octet-stream;base64,",Xe=g=>g.startsWith(Re);function et(){if(r.locateFile){var g="sqlite3.wasm";return Xe(g)?g:x(g)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var nt;function Ve(g){if(g==nt&&O)return new Uint8Array(O);if(E)return E(g);throw"both async and sync fetching of the wasm failed"}function ot(g){return O?Promise.resolve().then(()=>Ve(g)):w(g).then(y=>new Uint8Array(y),()=>Ve(g))}function kt(g,y,S){return ot(g).then(N=>WebAssembly.instantiate(N,y)).then(S,N=>{q(`failed to asynchronously prepare wasm: ${N}`),Pe(N)})}function At(g,y,S,N){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!Xe(y)&&typeof fetch=="function"?fetch(y,{credentials:"same-origin"}).then(C=>{var M=WebAssembly.instantiateStreaming(C,S);return M.then(N,function(de){return q(`wasm streaming compile failed: ${de}`),q("falling back to ArrayBuffer instantiation"),kt(y,S,N)})}):kt(y,S,N)}function Gt(){return{env:bf,wasi_snapshot_preview1:bf}}function ln(){var g=Gt();function y(N,C){return pe=N.exports,ae(pe.__wasm_call_ctors),Ne(),pe}_e();function S(N){y(N.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(g,y)}catch(N){q(`Module.instantiateWasm callback failed with error: ${N}`),s(N)}return nt||(nt=et()),At(O,nt,g,S).catch(s),{}}var ve=g=>{for(;g.length>0;)g.shift()(r)};r.noExitRuntime;var be={isAbs:g=>g.charAt(0)==="/",splitPath:g=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(g).slice(1)},normalizeArray:(g,y)=>{for(var S=0,N=g.length-1;N>=0;N--){var C=g[N];C==="."?g.splice(N,1):C===".."?(g.splice(N,1),S++):S&&(g.splice(N,1),S--)}if(y)for(;S;S--)g.unshift("..");return g},normalize:g=>{var y=be.isAbs(g),S=g.substr(-1)==="/";return g=be.normalizeArray(g.split("/").filter(N=>!!N),!y).join("/"),!g&&!y&&(g="."),g&&S&&(g+="/"),(y?"/":"")+g},dirname:g=>{var y=be.splitPath(g),S=y[0],N=y[1];return!S&&!N?".":(N&&(N=N.substr(0,N.length-1)),S+N)},basename:g=>{if(g==="/")return"/";g=be.normalize(g),g=g.replace(/\/$/,"");var y=g.lastIndexOf("/");return y===-1?g:g.substr(y+1)},join:(...g)=>be.normalize(g.join("/")),join2:(g,y)=>be.normalize(g+"/"+y)},Ie=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return g=>crypto.getRandomValues(g);Pe("initRandomDevice")},De=g=>(De=Ie())(g),We={resolve:(...g)=>{for(var y="",S=!1,N=g.length-1;N>=-1&&!S;N--){var C=N>=0?g[N]:V.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,S=be.isAbs(C)}return y=be.normalizeArray(y.split("/").filter(M=>!!M),!S).join("/"),(S?"/":"")+y||"."},relative:(g,y)=>{g=We.resolve(g).substr(1),y=We.resolve(y).substr(1);function S(Ye){for(var lt=0;lt<Ye.length&&Ye[lt]==="";lt++);for(var mt=Ye.length-1;mt>=0&&Ye[mt]==="";mt--);return lt>mt?[]:Ye.slice(lt,mt-lt+1)}for(var N=S(g.split("/")),C=S(y.split("/")),M=Math.min(N.length,C.length),de=M,me=0;me<M;me++)if(N[me]!==C[me]){de=me;break}for(var He=[],me=de;me<N.length;me++)He.push("..");return He=He.concat(C.slice(de)),He.join("/")}},rt=typeof TextDecoder<"u"?new TextDecoder:void 0,$e=(g,y,S)=>{for(var N=y+S,C=y;g[C]&&!(C>=N);)++C;if(C-y>16&&g.buffer&&rt)return rt.decode(g.subarray(y,C));for(var M="";y<C;){var de=g[y++];if(!(de&128)){M+=String.fromCharCode(de);continue}var me=g[y++]&63;if((de&224)==192){M+=String.fromCharCode((de&31)<<6|me);continue}var He=g[y++]&63;if((de&240)==224?de=(de&15)<<12|me<<6|He:de=(de&7)<<18|me<<12|He<<6|g[y++]&63,de<65536)M+=String.fromCharCode(de);else{var Ye=de-65536;M+=String.fromCharCode(55296|Ye>>10,56320|Ye&1023)}}return M},ut=[],Ut=g=>{for(var y=0,S=0;S<g.length;++S){var N=g.charCodeAt(S);N<=127?y++:N<=2047?y+=2:N>=55296&&N<=57343?(y+=4,++S):y+=3}return y},Vt=(g,y,S,N)=>{if(!(N>0))return 0;for(var C=S,M=S+N-1,de=0;de<g.length;++de){var me=g.charCodeAt(de);if(me>=55296&&me<=57343){var He=g.charCodeAt(++de);me=65536+((me&1023)<<10)|He&1023}if(me<=127){if(S>=M)break;y[S++]=me}else if(me<=2047){if(S+1>=M)break;y[S++]=192|me>>6,y[S++]=128|me&63}else if(me<=65535){if(S+2>=M)break;y[S++]=224|me>>12,y[S++]=128|me>>6&63,y[S++]=128|me&63}else{if(S+3>=M)break;y[S++]=240|me>>18,y[S++]=128|me>>12&63,y[S++]=128|me>>6&63,y[S++]=128|me&63}}return y[S]=0,S-C};function fn(g,y,S){var N=Ut(g)+1,C=new Array(N),M=Vt(g,C,0,C.length);return C.length=M,C}var er=()=>{if(!ut.length){var g=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(g=window.prompt("Input: "),g!==null&&(g+=`
`)),!g)return null;ut=fn(g)}return ut.shift()},qn={ttys:[],init(){},shutdown(){},register(g,y){qn.ttys[g]={input:[],output:[],ops:y},V.registerDevice(g,qn.stream_ops)},stream_ops:{open(g){var y=qn.ttys[g.node.rdev];if(!y)throw new V.ErrnoError(43);g.tty=y,g.seekable=!1},close(g){g.tty.ops.fsync(g.tty)},fsync(g){g.tty.ops.fsync(g.tty)},read(g,y,S,N,C){if(!g.tty||!g.tty.ops.get_char)throw new V.ErrnoError(60);for(var M=0,de=0;de<N;de++){var me;try{me=g.tty.ops.get_char(g.tty)}catch{throw new V.ErrnoError(29)}if(me===void 0&&M===0)throw new V.ErrnoError(6);if(me==null)break;M++,y[S+de]=me}return M&&(g.node.timestamp=Date.now()),M},write(g,y,S,N,C){if(!g.tty||!g.tty.ops.put_char)throw new V.ErrnoError(60);try{for(var M=0;M<N;M++)g.tty.ops.put_char(g.tty,y[S+M])}catch{throw new V.ErrnoError(29)}return N&&(g.node.timestamp=Date.now()),M}},default_tty_ops:{get_char(g){return er()},put_char(g,y){y===null||y===10?(I($e(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(I($e(g.output,0)),g.output=[])},ioctl_tcgets(g){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(g,y,S){return 0},ioctl_tiocgwinsz(g){return[24,80]}},default_tty1_ops:{put_char(g,y){y===null||y===10?(q($e(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(q($e(g.output,0)),g.output=[])}}},Rr=(g,y)=>(F.fill(0,g,g+y),g),vi=(g,y)=>Math.ceil(g/y)*y,hr=g=>{g=vi(g,65536);var y=xf(65536,g);return y?Rr(y,g):0},Ht={ops_table:null,mount(g){return Ht.createNode(null,"/",16895,0)},createNode(g,y,S,N){if(V.isBlkdev(S)||V.isFIFO(S))throw new V.ErrnoError(63);Ht.ops_table||={dir:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,lookup:Ht.node_ops.lookup,mknod:Ht.node_ops.mknod,rename:Ht.node_ops.rename,unlink:Ht.node_ops.unlink,rmdir:Ht.node_ops.rmdir,readdir:Ht.node_ops.readdir,symlink:Ht.node_ops.symlink},stream:{llseek:Ht.stream_ops.llseek}},file:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:{llseek:Ht.stream_ops.llseek,read:Ht.stream_ops.read,write:Ht.stream_ops.write,allocate:Ht.stream_ops.allocate,mmap:Ht.stream_ops.mmap,msync:Ht.stream_ops.msync}},link:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,readlink:Ht.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:V.chrdev_stream_ops}};var C=V.createNode(g,y,S,N);return V.isDir(C.mode)?(C.node_ops=Ht.ops_table.dir.node,C.stream_ops=Ht.ops_table.dir.stream,C.contents={}):V.isFile(C.mode)?(C.node_ops=Ht.ops_table.file.node,C.stream_ops=Ht.ops_table.file.stream,C.usedBytes=0,C.contents=null):V.isLink(C.mode)?(C.node_ops=Ht.ops_table.link.node,C.stream_ops=Ht.ops_table.link.stream):V.isChrdev(C.mode)&&(C.node_ops=Ht.ops_table.chrdev.node,C.stream_ops=Ht.ops_table.chrdev.stream),C.timestamp=Date.now(),g&&(g.contents[y]=C,g.timestamp=C.timestamp),C},getFileDataAsTypedArray(g){return g.contents?g.contents.subarray?g.contents.subarray(0,g.usedBytes):new Uint8Array(g.contents):new Uint8Array(0)},expandFileStorage(g,y){var S=g.contents?g.contents.length:0;if(!(S>=y)){var N=1024*1024;y=Math.max(y,S*(S<N?2:1.125)>>>0),S!=0&&(y=Math.max(y,256));var C=g.contents;g.contents=new Uint8Array(y),g.usedBytes>0&&g.contents.set(C.subarray(0,g.usedBytes),0)}},resizeFileStorage(g,y){if(g.usedBytes!=y)if(y==0)g.contents=null,g.usedBytes=0;else{var S=g.contents;g.contents=new Uint8Array(y),S&&g.contents.set(S.subarray(0,Math.min(y,g.usedBytes))),g.usedBytes=y}},node_ops:{getattr(g){var y={};return y.dev=V.isChrdev(g.mode)?g.id:1,y.ino=g.id,y.mode=g.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=g.rdev,V.isDir(g.mode)?y.size=4096:V.isFile(g.mode)?y.size=g.usedBytes:V.isLink(g.mode)?y.size=g.link.length:y.size=0,y.atime=new Date(g.timestamp),y.mtime=new Date(g.timestamp),y.ctime=new Date(g.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr(g,y){y.mode!==void 0&&(g.mode=y.mode),y.timestamp!==void 0&&(g.timestamp=y.timestamp),y.size!==void 0&&Ht.resizeFileStorage(g,y.size)},lookup(g,y){throw V.genericErrors[44]},mknod(g,y,S,N){return Ht.createNode(g,y,S,N)},rename(g,y,S){if(V.isDir(g.mode)){var N;try{N=V.lookupNode(y,S)}catch{}if(N)for(var C in N.contents)throw new V.ErrnoError(55)}delete g.parent.contents[g.name],g.parent.timestamp=Date.now(),g.name=S,y.contents[S]=g,y.timestamp=g.parent.timestamp},unlink(g,y){delete g.contents[y],g.timestamp=Date.now()},rmdir(g,y){var S=V.lookupNode(g,y);for(var N in S.contents)throw new V.ErrnoError(55);delete g.contents[y],g.timestamp=Date.now()},readdir(g){var y=[".",".."];for(var S of Object.keys(g.contents))y.push(S);return y},symlink(g,y,S){var N=Ht.createNode(g,y,41471,0);return N.link=S,N},readlink(g){if(!V.isLink(g.mode))throw new V.ErrnoError(28);return g.link}},stream_ops:{read(g,y,S,N,C){var M=g.node.contents;if(C>=g.node.usedBytes)return 0;var de=Math.min(g.node.usedBytes-C,N);if(de>8&&M.subarray)y.set(M.subarray(C,C+de),S);else for(var me=0;me<de;me++)y[S+me]=M[C+me];return de},write(g,y,S,N,C,M){if(y.buffer===D.buffer&&(M=!1),!N)return 0;var de=g.node;if(de.timestamp=Date.now(),y.subarray&&(!de.contents||de.contents.subarray)){if(M)return de.contents=y.subarray(S,S+N),de.usedBytes=N,N;if(de.usedBytes===0&&C===0)return de.contents=y.slice(S,S+N),de.usedBytes=N,N;if(C+N<=de.usedBytes)return de.contents.set(y.subarray(S,S+N),C),N}if(Ht.expandFileStorage(de,C+N),de.contents.subarray&&y.subarray)de.contents.set(y.subarray(S,S+N),C);else for(var me=0;me<N;me++)de.contents[C+me]=y[S+me];return de.usedBytes=Math.max(de.usedBytes,C+N),N},llseek(g,y,S){var N=y;if(S===1?N+=g.position:S===2&&V.isFile(g.node.mode)&&(N+=g.node.usedBytes),N<0)throw new V.ErrnoError(28);return N},allocate(g,y,S){Ht.expandFileStorage(g.node,y+S),g.node.usedBytes=Math.max(g.node.usedBytes,y+S)},mmap(g,y,S,N,C){if(!V.isFile(g.node.mode))throw new V.ErrnoError(43);var M,de,me=g.node.contents;if(!(C&2)&&me&&me.buffer===D.buffer)de=!1,M=me.byteOffset;else{if(de=!0,M=hr(y),!M)throw new V.ErrnoError(48);me&&((S>0||S+y<me.length)&&(me.subarray?me=me.subarray(S,S+y):me=Array.prototype.slice.call(me,S,S+y)),D.set(me,M))}return{ptr:M,allocated:de}},msync(g,y,S,N,C){return Ht.stream_ops.write(g,y,0,N,S,!1),0}}},Oi=(g,y,S,N)=>{var C=`al ${g}`;w(g).then(M=>{y(new Uint8Array(M)),C&&Ne()},M=>{if(S)S();else throw`Loading data file "${g}" failed.`}),C&&_e()},qi=(g,y,S,N,C,M)=>{V.createDataFile(g,y,S,N,C,M)},Ri=r.preloadPlugins||[],Xs=(g,y,S,N)=>{typeof Browser<"u"&&Browser.init();var C=!1;return Ri.forEach(M=>{C||M.canHandle(y)&&(M.handle(g,y,S,N),C=!0)}),C},ia=(g,y,S,N,C,M,de,me,He,Ye)=>{var lt=y?We.resolve(be.join2(g,y)):g;function mt(Be){function qe(Je){Ye?.(),me||qi(g,y,Je,N,C,He),M?.(),Ne()}Xs(Be,lt,qe,()=>{de?.(),Ne()})||qe(Be)}_e(),typeof S=="string"?Oi(S,mt,de):mt(S)},Yl=g=>{var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},S=y[g];if(typeof S>"u")throw new Error(`Unknown file open mode: ${g}`);return S},Es=(g,y)=>{var S=0;return g&&(S|=365),y&&(S|=146),S},V={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(g){this.name="ErrnoError",this.errno=g}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(g){this.node=g}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(g){this.shared.flags=g}get position(){return this.shared.position}set position(g){this.shared.position=g}},FSNode:class{constructor(g,y,S,N){g||(g=this),this.parent=g,this.mount=g.mount,this.mounted=null,this.id=V.nextInode++,this.name=y,this.mode=S,this.node_ops={},this.stream_ops={},this.rdev=N,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(g){g?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(g){g?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return V.isDir(this.mode)}get isDevice(){return V.isChrdev(this.mode)}},lookupPath(g,y={}){if(g=We.resolve(g),!g)return{path:"",node:null};var S={follow_mount:!0,recurse_count:0};if(y=Object.assign(S,y),y.recurse_count>8)throw new V.ErrnoError(32);for(var N=g.split("/").filter(mt=>!!mt),C=V.root,M="/",de=0;de<N.length;de++){var me=de===N.length-1;if(me&&y.parent)break;if(C=V.lookupNode(C,N[de]),M=be.join2(M,N[de]),V.isMountpoint(C)&&(!me||me&&y.follow_mount)&&(C=C.mounted.root),!me||y.follow)for(var He=0;V.isLink(C.mode);){var Ye=V.readlink(M);M=We.resolve(be.dirname(M),Ye);var lt=V.lookupPath(M,{recurse_count:y.recurse_count+1});if(C=lt.node,He++>40)throw new V.ErrnoError(32)}}return{path:M,node:C}},getPath(g){for(var y;;){if(V.isRoot(g)){var S=g.mount.mountpoint;return y?S[S.length-1]!=="/"?`${S}/${y}`:S+y:S}y=y?`${g.name}/${y}`:g.name,g=g.parent}},hashName(g,y){for(var S=0,N=0;N<y.length;N++)S=(S<<5)-S+y.charCodeAt(N)|0;return(g+S>>>0)%V.nameTable.length},hashAddNode(g){var y=V.hashName(g.parent.id,g.name);g.name_next=V.nameTable[y],V.nameTable[y]=g},hashRemoveNode(g){var y=V.hashName(g.parent.id,g.name);if(V.nameTable[y]===g)V.nameTable[y]=g.name_next;else for(var S=V.nameTable[y];S;){if(S.name_next===g){S.name_next=g.name_next;break}S=S.name_next}},lookupNode(g,y){var S=V.mayLookup(g);if(S)throw new V.ErrnoError(S);for(var N=V.hashName(g.id,y),C=V.nameTable[N];C;C=C.name_next){var M=C.name;if(C.parent.id===g.id&&M===y)return C}return V.lookup(g,y)},createNode(g,y,S,N){var C=new V.FSNode(g,y,S,N);return V.hashAddNode(C),C},destroyNode(g){V.hashRemoveNode(g)},isRoot(g){return g===g.parent},isMountpoint(g){return!!g.mounted},isFile(g){return(g&61440)===32768},isDir(g){return(g&61440)===16384},isLink(g){return(g&61440)===40960},isChrdev(g){return(g&61440)===8192},isBlkdev(g){return(g&61440)===24576},isFIFO(g){return(g&61440)===4096},isSocket(g){return(g&49152)===49152},flagsToPermissionString(g){var y=["r","w","rw"][g&3];return g&512&&(y+="w"),y},nodePermissions(g,y){return V.ignorePermissions?0:y.includes("r")&&!(g.mode&292)||y.includes("w")&&!(g.mode&146)||y.includes("x")&&!(g.mode&73)?2:0},mayLookup(g){if(!V.isDir(g.mode))return 54;var y=V.nodePermissions(g,"x");return y||(g.node_ops.lookup?0:2)},mayCreate(g,y){try{var S=V.lookupNode(g,y);return 20}catch{}return V.nodePermissions(g,"wx")},mayDelete(g,y,S){var N;try{N=V.lookupNode(g,y)}catch(M){return M.errno}var C=V.nodePermissions(g,"wx");if(C)return C;if(S){if(!V.isDir(N.mode))return 54;if(V.isRoot(N)||V.getPath(N)===V.cwd())return 10}else if(V.isDir(N.mode))return 31;return 0},mayOpen(g,y){return g?V.isLink(g.mode)?32:V.isDir(g.mode)&&(V.flagsToPermissionString(y)!=="r"||y&512)?31:V.nodePermissions(g,V.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd(){for(var g=0;g<=V.MAX_OPEN_FDS;g++)if(!V.streams[g])return g;throw new V.ErrnoError(33)},getStreamChecked(g){var y=V.getStream(g);if(!y)throw new V.ErrnoError(8);return y},getStream:g=>V.streams[g],createStream(g,y=-1){return g=Object.assign(new V.FSStream,g),y==-1&&(y=V.nextfd()),g.fd=y,V.streams[y]=g,g},closeStream(g){V.streams[g]=null},dupStream(g,y=-1){var S=V.createStream(g,y);return S.stream_ops?.dup?.(S),S},chrdev_stream_ops:{open(g){var y=V.getDevice(g.node.rdev);g.stream_ops=y.stream_ops,g.stream_ops.open?.(g)},llseek(){throw new V.ErrnoError(70)}},major:g=>g>>8,minor:g=>g&255,makedev:(g,y)=>g<<8|y,registerDevice(g,y){V.devices[g]={stream_ops:y}},getDevice:g=>V.devices[g],getMounts(g){for(var y=[],S=[g];S.length;){var N=S.pop();y.push(N),S.push(...N.mounts)}return y},syncfs(g,y){typeof g=="function"&&(y=g,g=!1),V.syncFSRequests++,V.syncFSRequests>1&&q(`warning: ${V.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var S=V.getMounts(V.root.mount),N=0;function C(de){return V.syncFSRequests--,y(de)}function M(de){if(de)return M.errored?void 0:(M.errored=!0,C(de));++N>=S.length&&C(null)}S.forEach(de=>{if(!de.type.syncfs)return M(null);de.type.syncfs(de,g,M)})},mount(g,y,S){var N=S==="/",C=!S,M;if(N&&V.root)throw new V.ErrnoError(10);if(!N&&!C){var de=V.lookupPath(S,{follow_mount:!1});if(S=de.path,M=de.node,V.isMountpoint(M))throw new V.ErrnoError(10);if(!V.isDir(M.mode))throw new V.ErrnoError(54)}var me={type:g,opts:y,mountpoint:S,mounts:[]},He=g.mount(me);return He.mount=me,me.root=He,N?V.root=He:M&&(M.mounted=me,M.mount&&M.mount.mounts.push(me)),He},unmount(g){var y=V.lookupPath(g,{follow_mount:!1});if(!V.isMountpoint(y.node))throw new V.ErrnoError(28);var S=y.node,N=S.mounted,C=V.getMounts(N);Object.keys(V.nameTable).forEach(de=>{for(var me=V.nameTable[de];me;){var He=me.name_next;C.includes(me.mount)&&V.destroyNode(me),me=He}}),S.mounted=null;var M=S.mount.mounts.indexOf(N);S.mount.mounts.splice(M,1)},lookup(g,y){return g.node_ops.lookup(g,y)},mknod(g,y,S){var N=V.lookupPath(g,{parent:!0}),C=N.node,M=be.basename(g);if(!M||M==="."||M==="..")throw new V.ErrnoError(28);var de=V.mayCreate(C,M);if(de)throw new V.ErrnoError(de);if(!C.node_ops.mknod)throw new V.ErrnoError(63);return C.node_ops.mknod(C,M,y,S)},create(g,y){return y=y!==void 0?y:438,y&=4095,y|=32768,V.mknod(g,y,0)},mkdir(g,y){return y=y!==void 0?y:511,y&=1023,y|=16384,V.mknod(g,y,0)},mkdirTree(g,y){for(var S=g.split("/"),N="",C=0;C<S.length;++C)if(S[C]){N+="/"+S[C];try{V.mkdir(N,y)}catch(M){if(M.errno!=20)throw M}}},mkdev(g,y,S){return typeof S>"u"&&(S=y,y=438),y|=8192,V.mknod(g,y,S)},symlink(g,y){if(!We.resolve(g))throw new V.ErrnoError(44);var S=V.lookupPath(y,{parent:!0}),N=S.node;if(!N)throw new V.ErrnoError(44);var C=be.basename(y),M=V.mayCreate(N,C);if(M)throw new V.ErrnoError(M);if(!N.node_ops.symlink)throw new V.ErrnoError(63);return N.node_ops.symlink(N,C,g)},rename(g,y){var S=be.dirname(g),N=be.dirname(y),C=be.basename(g),M=be.basename(y),de,me,He;if(de=V.lookupPath(g,{parent:!0}),me=de.node,de=V.lookupPath(y,{parent:!0}),He=de.node,!me||!He)throw new V.ErrnoError(44);if(me.mount!==He.mount)throw new V.ErrnoError(75);var Ye=V.lookupNode(me,C),lt=We.relative(g,N);if(lt.charAt(0)!==".")throw new V.ErrnoError(28);if(lt=We.relative(y,S),lt.charAt(0)!==".")throw new V.ErrnoError(55);var mt;try{mt=V.lookupNode(He,M)}catch{}if(Ye!==mt){var Be=V.isDir(Ye.mode),qe=V.mayDelete(me,C,Be);if(qe)throw new V.ErrnoError(qe);if(qe=mt?V.mayDelete(He,M,Be):V.mayCreate(He,M),qe)throw new V.ErrnoError(qe);if(!me.node_ops.rename)throw new V.ErrnoError(63);if(V.isMountpoint(Ye)||mt&&V.isMountpoint(mt))throw new V.ErrnoError(10);if(He!==me&&(qe=V.nodePermissions(me,"w"),qe))throw new V.ErrnoError(qe);V.hashRemoveNode(Ye);try{me.node_ops.rename(Ye,He,M),Ye.parent=He}catch(Je){throw Je}finally{V.hashAddNode(Ye)}}},rmdir(g){var y=V.lookupPath(g,{parent:!0}),S=y.node,N=be.basename(g),C=V.lookupNode(S,N),M=V.mayDelete(S,N,!0);if(M)throw new V.ErrnoError(M);if(!S.node_ops.rmdir)throw new V.ErrnoError(63);if(V.isMountpoint(C))throw new V.ErrnoError(10);S.node_ops.rmdir(S,N),V.destroyNode(C)},readdir(g){var y=V.lookupPath(g,{follow:!0}),S=y.node;if(!S.node_ops.readdir)throw new V.ErrnoError(54);return S.node_ops.readdir(S)},unlink(g){var y=V.lookupPath(g,{parent:!0}),S=y.node;if(!S)throw new V.ErrnoError(44);var N=be.basename(g),C=V.lookupNode(S,N),M=V.mayDelete(S,N,!1);if(M)throw new V.ErrnoError(M);if(!S.node_ops.unlink)throw new V.ErrnoError(63);if(V.isMountpoint(C))throw new V.ErrnoError(10);S.node_ops.unlink(S,N),V.destroyNode(C)},readlink(g){var y=V.lookupPath(g),S=y.node;if(!S)throw new V.ErrnoError(44);if(!S.node_ops.readlink)throw new V.ErrnoError(28);return We.resolve(V.getPath(S.parent),S.node_ops.readlink(S))},stat(g,y){var S=V.lookupPath(g,{follow:!y}),N=S.node;if(!N)throw new V.ErrnoError(44);if(!N.node_ops.getattr)throw new V.ErrnoError(63);return N.node_ops.getattr(N)},lstat(g){return V.stat(g,!0)},chmod(g,y,S){var N;if(typeof g=="string"){var C=V.lookupPath(g,{follow:!S});N=C.node}else N=g;if(!N.node_ops.setattr)throw new V.ErrnoError(63);N.node_ops.setattr(N,{mode:y&4095|N.mode&-4096,timestamp:Date.now()})},lchmod(g,y){V.chmod(g,y,!0)},fchmod(g,y){var S=V.getStreamChecked(g);V.chmod(S.node,y)},chown(g,y,S,N){var C;if(typeof g=="string"){var M=V.lookupPath(g,{follow:!N});C=M.node}else C=g;if(!C.node_ops.setattr)throw new V.ErrnoError(63);C.node_ops.setattr(C,{timestamp:Date.now()})},lchown(g,y,S){V.chown(g,y,S,!0)},fchown(g,y,S){var N=V.getStreamChecked(g);V.chown(N.node,y,S)},truncate(g,y){if(y<0)throw new V.ErrnoError(28);var S;if(typeof g=="string"){var N=V.lookupPath(g,{follow:!0});S=N.node}else S=g;if(!S.node_ops.setattr)throw new V.ErrnoError(63);if(V.isDir(S.mode))throw new V.ErrnoError(31);if(!V.isFile(S.mode))throw new V.ErrnoError(28);var C=V.nodePermissions(S,"w");if(C)throw new V.ErrnoError(C);S.node_ops.setattr(S,{size:y,timestamp:Date.now()})},ftruncate(g,y){var S=V.getStreamChecked(g);if(!(S.flags&2097155))throw new V.ErrnoError(28);V.truncate(S.node,y)},utime(g,y,S){var N=V.lookupPath(g,{follow:!0}),C=N.node;C.node_ops.setattr(C,{timestamp:Math.max(y,S)})},open(g,y,S){if(g==="")throw new V.ErrnoError(44);y=typeof y=="string"?Yl(y):y,y&64?(S=typeof S>"u"?438:S,S=S&4095|32768):S=0;var N;if(typeof g=="object")N=g;else{g=be.normalize(g);try{var C=V.lookupPath(g,{follow:!(y&131072)});N=C.node}catch{}}var M=!1;if(y&64)if(N){if(y&128)throw new V.ErrnoError(20)}else N=V.mknod(g,S,0),M=!0;if(!N)throw new V.ErrnoError(44);if(V.isChrdev(N.mode)&&(y&=-513),y&65536&&!V.isDir(N.mode))throw new V.ErrnoError(54);if(!M){var de=V.mayOpen(N,y);if(de)throw new V.ErrnoError(de)}y&512&&!M&&V.truncate(N,0),y&=-131713;var me=V.createStream({node:N,path:V.getPath(N),flags:y,seekable:!0,position:0,stream_ops:N.stream_ops,ungotten:[],error:!1});return me.stream_ops.open&&me.stream_ops.open(me),r.logReadFiles&&!(y&1)&&(V.readFiles||(V.readFiles={}),g in V.readFiles||(V.readFiles[g]=1)),me},close(g){if(V.isClosed(g))throw new V.ErrnoError(8);g.getdents&&(g.getdents=null);try{g.stream_ops.close&&g.stream_ops.close(g)}catch(y){throw y}finally{V.closeStream(g.fd)}g.fd=null},isClosed(g){return g.fd===null},llseek(g,y,S){if(V.isClosed(g))throw new V.ErrnoError(8);if(!g.seekable||!g.stream_ops.llseek)throw new V.ErrnoError(70);if(S!=0&&S!=1&&S!=2)throw new V.ErrnoError(28);return g.position=g.stream_ops.llseek(g,y,S),g.ungotten=[],g.position},read(g,y,S,N,C){if(N<0||C<0)throw new V.ErrnoError(28);if(V.isClosed(g))throw new V.ErrnoError(8);if((g.flags&2097155)===1)throw new V.ErrnoError(8);if(V.isDir(g.node.mode))throw new V.ErrnoError(31);if(!g.stream_ops.read)throw new V.ErrnoError(28);var M=typeof C<"u";if(!M)C=g.position;else if(!g.seekable)throw new V.ErrnoError(70);var de=g.stream_ops.read(g,y,S,N,C);return M||(g.position+=de),de},write(g,y,S,N,C,M){if(N<0||C<0)throw new V.ErrnoError(28);if(V.isClosed(g))throw new V.ErrnoError(8);if(!(g.flags&2097155))throw new V.ErrnoError(8);if(V.isDir(g.node.mode))throw new V.ErrnoError(31);if(!g.stream_ops.write)throw new V.ErrnoError(28);g.seekable&&g.flags&1024&&V.llseek(g,0,2);var de=typeof C<"u";if(!de)C=g.position;else if(!g.seekable)throw new V.ErrnoError(70);var me=g.stream_ops.write(g,y,S,N,C,M);return de||(g.position+=me),me},allocate(g,y,S){if(V.isClosed(g))throw new V.ErrnoError(8);if(y<0||S<=0)throw new V.ErrnoError(28);if(!(g.flags&2097155))throw new V.ErrnoError(8);if(!V.isFile(g.node.mode)&&!V.isDir(g.node.mode))throw new V.ErrnoError(43);if(!g.stream_ops.allocate)throw new V.ErrnoError(138);g.stream_ops.allocate(g,y,S)},mmap(g,y,S,N,C){if(N&2&&!(C&2)&&(g.flags&2097155)!==2)throw new V.ErrnoError(2);if((g.flags&2097155)===1)throw new V.ErrnoError(2);if(!g.stream_ops.mmap)throw new V.ErrnoError(43);if(!y)throw new V.ErrnoError(28);return g.stream_ops.mmap(g,y,S,N,C)},msync(g,y,S,N,C){return g.stream_ops.msync?g.stream_ops.msync(g,y,S,N,C):0},ioctl(g,y,S){if(!g.stream_ops.ioctl)throw new V.ErrnoError(59);return g.stream_ops.ioctl(g,y,S)},readFile(g,y={}){if(y.flags=y.flags||0,y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error(`Invalid encoding type "${y.encoding}"`);var S,N=V.open(g,y.flags),C=V.stat(g),M=C.size,de=new Uint8Array(M);return V.read(N,de,0,M,0),y.encoding==="utf8"?S=$e(de,0):y.encoding==="binary"&&(S=de),V.close(N),S},writeFile(g,y,S={}){S.flags=S.flags||577;var N=V.open(g,S.flags,S.mode);if(typeof y=="string"){var C=new Uint8Array(Ut(y)+1),M=Vt(y,C,0,C.length);V.write(N,C,0,M,void 0,S.canOwn)}else if(ArrayBuffer.isView(y))V.write(N,y,0,y.byteLength,void 0,S.canOwn);else throw new Error("Unsupported data type");V.close(N)},cwd:()=>V.currentPath,chdir(g){var y=V.lookupPath(g,{follow:!0});if(y.node===null)throw new V.ErrnoError(44);if(!V.isDir(y.node.mode))throw new V.ErrnoError(54);var S=V.nodePermissions(y.node,"x");if(S)throw new V.ErrnoError(S);V.currentPath=y.path},createDefaultDirectories(){V.mkdir("/tmp"),V.mkdir("/home"),V.mkdir("/home/web_user")},createDefaultDevices(){V.mkdir("/dev"),V.registerDevice(V.makedev(1,3),{read:()=>0,write:(N,C,M,de,me)=>de}),V.mkdev("/dev/null",V.makedev(1,3)),qn.register(V.makedev(5,0),qn.default_tty_ops),qn.register(V.makedev(6,0),qn.default_tty1_ops),V.mkdev("/dev/tty",V.makedev(5,0)),V.mkdev("/dev/tty1",V.makedev(6,0));var g=new Uint8Array(1024),y=0,S=()=>(y===0&&(y=De(g).byteLength),g[--y]);V.createDevice("/dev","random",S),V.createDevice("/dev","urandom",S),V.mkdir("/dev/shm"),V.mkdir("/dev/shm/tmp")},createSpecialDirectories(){V.mkdir("/proc");var g=V.mkdir("/proc/self");V.mkdir("/proc/self/fd"),V.mount({mount(){var y=V.createNode(g,"fd",16895,73);return y.node_ops={lookup(S,N){var C=+N,M=V.getStreamChecked(C),de={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>M.path}};return de.parent=de,de}},y}},{},"/proc/self/fd")},createStandardStreams(g,y,S){g?V.createDevice("/dev","stdin",g):V.symlink("/dev/tty","/dev/stdin"),y?V.createDevice("/dev","stdout",null,y):V.symlink("/dev/tty","/dev/stdout"),S?V.createDevice("/dev","stderr",null,S):V.symlink("/dev/tty1","/dev/stderr"),V.open("/dev/stdin",0),V.open("/dev/stdout",1),V.open("/dev/stderr",1)},staticInit(){[44].forEach(g=>{V.genericErrors[g]=new V.ErrnoError(g),V.genericErrors[g].stack="<generic error, no stack>"}),V.nameTable=new Array(4096),V.mount(Ht,{},"/"),V.createDefaultDirectories(),V.createDefaultDevices(),V.createSpecialDirectories(),V.filesystems={MEMFS:Ht}},init(g,y,S){V.initialized=!0,g??=r.stdin,y??=r.stdout,S??=r.stderr,V.createStandardStreams(g,y,S)},quit(){V.initialized=!1;for(var g=0;g<V.streams.length;g++){var y=V.streams[g];y&&V.close(y)}},findObject(g,y){var S=V.analyzePath(g,y);return S.exists?S.object:null},analyzePath(g,y){try{var S=V.lookupPath(g,{follow:!y});g=S.path}catch{}var N={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var S=V.lookupPath(g,{parent:!0});N.parentExists=!0,N.parentPath=S.path,N.parentObject=S.node,N.name=be.basename(g),S=V.lookupPath(g,{follow:!y}),N.exists=!0,N.path=S.path,N.object=S.node,N.name=S.node.name,N.isRoot=S.path==="/"}catch(C){N.error=C.errno}return N},createPath(g,y,S,N){g=typeof g=="string"?g:V.getPath(g);for(var C=y.split("/").reverse();C.length;){var M=C.pop();if(M){var de=be.join2(g,M);try{V.mkdir(de)}catch{}g=de}}return de},createFile(g,y,S,N,C){var M=be.join2(typeof g=="string"?g:V.getPath(g),y),de=Es(N,C);return V.create(M,de)},createDataFile(g,y,S,N,C,M){var de=y;g&&(g=typeof g=="string"?g:V.getPath(g),de=y?be.join2(g,y):g);var me=Es(N,C),He=V.create(de,me);if(S){if(typeof S=="string"){for(var Ye=new Array(S.length),lt=0,mt=S.length;lt<mt;++lt)Ye[lt]=S.charCodeAt(lt);S=Ye}V.chmod(He,me|146);var Be=V.open(He,577);V.write(Be,S,0,S.length,0,M),V.close(Be),V.chmod(He,me)}},createDevice(g,y,S,N){var C=be.join2(typeof g=="string"?g:V.getPath(g),y),M=Es(!!S,!!N);V.createDevice.major||(V.createDevice.major=64);var de=V.makedev(V.createDevice.major++,0);return V.registerDevice(de,{open(me){me.seekable=!1},close(me){N?.buffer?.length&&N(10)},read(me,He,Ye,lt,mt){for(var Be=0,qe=0;qe<lt;qe++){var Je;try{Je=S()}catch{throw new V.ErrnoError(29)}if(Je===void 0&&Be===0)throw new V.ErrnoError(6);if(Je==null)break;Be++,He[Ye+qe]=Je}return Be&&(me.node.timestamp=Date.now()),Be},write(me,He,Ye,lt,mt){for(var Be=0;Be<lt;Be++)try{N(He[Ye+Be])}catch{throw new V.ErrnoError(29)}return lt&&(me.node.timestamp=Date.now()),Be}}),V.mkdev(C,M,de)},forceLoadFile(g){if(g.isDevice||g.isFolder||g.link||g.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{g.contents=E(g.url),g.usedBytes=g.contents.length}catch{throw new V.ErrnoError(29)}},createLazyFile(g,y,S,N,C){class M{constructor(){this.lengthKnown=!1,this.chunks=[]}get(qe){if(!(qe>this.length-1||qe<0)){var Je=qe%this.chunkSize,xe=qe/this.chunkSize|0;return this.getter(xe)[Je]}}setDataGetter(qe){this.getter=qe}cacheLength(){var qe=new XMLHttpRequest;if(qe.open("HEAD",S,!1),qe.send(null),!(qe.status>=200&&qe.status<300||qe.status===304))throw new Error("Couldn't load "+S+". Status: "+qe.status);var Je=Number(qe.getResponseHeader("Content-length")),xe,ke=(xe=qe.getResponseHeader("Accept-Ranges"))&&xe==="bytes",Te=(xe=qe.getResponseHeader("Content-Encoding"))&&xe==="gzip",Ge=1024*1024;ke||(Ge=Je);var Ke=(Qe,wt)=>{if(Qe>wt)throw new Error("invalid range ("+Qe+", "+wt+") or no bytes requested!");if(wt>Je-1)throw new Error("only "+Je+" bytes available! programmer error!");var J=new XMLHttpRequest;if(J.open("GET",S,!1),Je!==Ge&&J.setRequestHeader("Range","bytes="+Qe+"-"+wt),J.responseType="arraybuffer",J.overrideMimeType&&J.overrideMimeType("text/plain; charset=x-user-defined"),J.send(null),!(J.status>=200&&J.status<300||J.status===304))throw new Error("Couldn't load "+S+". Status: "+J.status);return J.response!==void 0?new Uint8Array(J.response||[]):fn(J.responseText||"")},Oe=this;Oe.setDataGetter(Qe=>{var wt=Qe*Ge,J=(Qe+1)*Ge-1;if(J=Math.min(J,Je-1),typeof Oe.chunks[Qe]>"u"&&(Oe.chunks[Qe]=Ke(wt,J)),typeof Oe.chunks[Qe]>"u")throw new Error("doXHR failed!");return Oe.chunks[Qe]}),(Te||!Je)&&(Ge=Je=1,Je=this.getter(0).length,Ge=Je,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Je,this._chunkSize=Ge,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!u)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var de=new M,me={isDevice:!1,contents:de}}else var me={isDevice:!1,url:S};var He=V.createFile(g,y,me,N,C);me.contents?He.contents=me.contents:me.url&&(He.contents=null,He.url=me.url),Object.defineProperties(He,{usedBytes:{get:function(){return this.contents.length}}});var Ye={},lt=Object.keys(He.stream_ops);lt.forEach(Be=>{var qe=He.stream_ops[Be];Ye[Be]=(...Je)=>(V.forceLoadFile(He),qe(...Je))});function mt(Be,qe,Je,xe,ke){var Te=Be.node.contents;if(ke>=Te.length)return 0;var Ge=Math.min(Te.length-ke,xe);if(Te.slice)for(var Ke=0;Ke<Ge;Ke++)qe[Je+Ke]=Te[ke+Ke];else for(var Ke=0;Ke<Ge;Ke++)qe[Je+Ke]=Te.get(ke+Ke);return Ge}return Ye.read=(Be,qe,Je,xe,ke)=>(V.forceLoadFile(He),mt(Be,qe,Je,xe,ke)),Ye.mmap=(Be,qe,Je,xe,ke)=>{V.forceLoadFile(He);var Te=hr(qe);if(!Te)throw new V.ErrnoError(48);return mt(Be,D,Te,qe,Je),{ptr:Te,allocated:!0}},He.stream_ops=Ye,He}},lu=(g,y)=>g?$e(F,g,y):"",sn={DEFAULT_POLLMASK:5,calculateAt(g,y,S){if(be.isAbs(y))return y;var N;if(g===-100)N=V.cwd();else{var C=sn.getStreamFromFD(g);N=C.path}if(y.length==0){if(!S)throw new V.ErrnoError(44);return N}return be.join2(N,y)},doStat(g,y,S){var N=g(y);$[S>>2]=N.dev,$[S+4>>2]=N.mode,j[S+8>>2]=N.nlink,$[S+12>>2]=N.uid,$[S+16>>2]=N.gid,$[S+20>>2]=N.rdev,z[S+24>>3]=BigInt(N.size),$[S+32>>2]=4096,$[S+36>>2]=N.blocks;var C=N.atime.getTime(),M=N.mtime.getTime(),de=N.ctime.getTime();return z[S+40>>3]=BigInt(Math.floor(C/1e3)),j[S+48>>2]=C%1e3*1e3*1e3,z[S+56>>3]=BigInt(Math.floor(M/1e3)),j[S+64>>2]=M%1e3*1e3*1e3,z[S+72>>3]=BigInt(Math.floor(de/1e3)),j[S+80>>2]=de%1e3*1e3*1e3,z[S+88>>3]=BigInt(N.ino),0},doMsync(g,y,S,N,C){if(!V.isFile(y.node.mode))throw new V.ErrnoError(43);if(N&2)return 0;var M=F.slice(g,g+S);V.msync(y,M,C,S,N)},getStreamFromFD(g){var y=V.getStreamChecked(g);return y},varargs:void 0,getStr(g){var y=lu(g);return y}};function cu(g,y){try{return g=sn.getStr(g),V.chmod(g,y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function uu(g,y,S,N){try{if(y=sn.getStr(y),y=sn.calculateAt(g,y),S&-8)return-28;var C=V.lookupPath(y,{follow:!0}),M=C.node;if(!M)return-44;var de="";return S&4&&(de+="r"),S&2&&(de+="w"),S&1&&(de+="x"),de&&V.nodePermissions(M,de)?-2:0}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function du(g,y){try{return V.fchmod(g,y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Xl(g,y,S){try{return V.fchown(g,y,S),0}catch(N){if(typeof V>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function sa(){var g=$[+sn.varargs>>2];return sn.varargs+=4,g}var Ai=sa;function ec(g,y,S){sn.varargs=S;try{var N=sn.getStreamFromFD(g);switch(y){case 0:{var C=sa();if(C<0)return-28;for(;V.streams[C];)C++;var M;return M=V.dupStream(N,C),M.fd}case 1:case 2:return 0;case 3:return N.flags;case 4:{var C=sa();return N.flags|=C,0}case 12:{var C=Ai(),de=0;return B[C+de>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function oa(g,y){try{var S=sn.getStreamFromFD(g);return sn.doStat(V.stat,S.path,y)}catch(N){if(typeof V>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var sf=0x20000000000000,aa=-0x20000000000000,Ns=g=>g<aa||g>sf?NaN:Number(g);function Ua(g,y){y=Ns(y);try{return isNaN(y)?61:(V.ftruncate(g,y),0)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}var ks=(g,y,S)=>Vt(g,F,y,S);function of(g,y){try{if(y===0)return-28;var S=V.cwd(),N=Ut(S)+1;return y<N?-68:(ks(S,g,y),N)}catch(C){if(typeof V>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function af(g,y,S){sn.varargs=S;try{var N=sn.getStreamFromFD(g);switch(y){case 21509:return N.tty?0:-59;case 21505:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tcgets){var C=N.tty.ops.ioctl_tcgets(N),M=Ai();$[M>>2]=C.c_iflag||0,$[M+4>>2]=C.c_oflag||0,$[M+8>>2]=C.c_cflag||0,$[M+12>>2]=C.c_lflag||0;for(var de=0;de<32;de++)D[M+de+17]=C.c_cc[de]||0;return 0}return 0}case 21510:case 21511:case 21512:return N.tty?0:-59;case 21506:case 21507:case 21508:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tcsets){for(var M=Ai(),me=$[M>>2],He=$[M+4>>2],Ye=$[M+8>>2],lt=$[M+12>>2],mt=[],de=0;de<32;de++)mt.push(D[M+de+17]);return N.tty.ops.ioctl_tcsets(N.tty,y,{c_iflag:me,c_oflag:He,c_cflag:Ye,c_lflag:lt,c_cc:mt})}return 0}case 21519:{if(!N.tty)return-59;var M=Ai();return $[M>>2]=0,0}case 21520:return N.tty?-28:-59;case 21531:{var M=Ai();return V.ioctl(N,y,M)}case 21523:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tiocgwinsz){var Be=N.tty.ops.ioctl_tiocgwinsz(N.tty),M=Ai();B[M>>1]=Be[0],B[M+2>>1]=Be[1]}return 0}case 21524:return N.tty?0:-59;case 21515:return N.tty?0:-59;default:return-28}}catch(qe){if(typeof V>"u"||qe.name!=="ErrnoError")throw qe;return-qe.errno}}function fu(g,y){try{return g=sn.getStr(g),sn.doStat(V.lstat,g,y)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Is(g,y,S){try{return y=sn.getStr(y),y=sn.calculateAt(g,y),y=be.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),V.mkdir(y,S,0),0}catch(N){if(typeof V>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function hu(g,y,S,N){try{y=sn.getStr(y);var C=N&256,M=N&4096;return N=N&-6401,y=sn.calculateAt(g,y,M),sn.doStat(C?V.lstat:V.stat,y,S)}catch(de){if(typeof V>"u"||de.name!=="ErrnoError")throw de;return-de.errno}}function pu(g,y,S,N){sn.varargs=N;try{y=sn.getStr(y),y=sn.calculateAt(g,y);var C=N?sa():0;return V.open(y,S,C).fd}catch(M){if(typeof V>"u"||M.name!=="ErrnoError")throw M;return-M.errno}}function lf(g,y,S,N){try{if(y=sn.getStr(y),y=sn.calculateAt(g,y),N<=0)return-28;var C=V.readlink(y),M=Math.min(N,Ut(C)),de=D[S+M];return ks(C,S,N+1),D[S+M]=de,M}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function mu(g){try{return g=sn.getStr(g),V.rmdir(g),0}catch(y){if(typeof V>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function gu(g,y){try{return g=sn.getStr(g),sn.doStat(V.stat,g,y)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function yu(g,y,S){try{return y=sn.getStr(y),y=sn.calculateAt(g,y),S===0?V.unlink(y):S===512?V.rmdir(y):Pe("Invalid flags passed to unlinkat"),0}catch(N){if(typeof V>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var tc=g=>j[g>>2]+$[g+4>>2]*0x100000000;function vu(g,y,S,N){try{y=sn.getStr(y),y=sn.calculateAt(g,y,!0);var C=Date.now(),M,de;if(!S)M=C,de=C;else{var me=tc(S),He=$[S+8>>2];He==0x3fffffff?M=C:He==0x3ffffffe?M=-1:M=me*1e3+He/(1e3*1e3),S+=16,me=tc(S),He=$[S+8>>2],He==0x3fffffff?de=C:He==0x3ffffffe?de=-1:de=me*1e3+He/(1e3*1e3)}return(de!=-1||M!=-1)&&V.utime(y,M,de),0}catch(Ye){if(typeof V>"u"||Ye.name!=="ErrnoError")throw Ye;return-Ye.errno}}var cf=1,tr=()=>cf,uf=g=>g%4===0&&(g%100!==0||g%400===0),nc=[0,31,60,91,121,152,182,213,244,274,305,335],bu=[0,31,59,90,120,151,181,212,243,273,304,334],Va=g=>{var y=uf(g.getFullYear()),S=y?nc:bu,N=S[g.getMonth()]+g.getDate()-1;return N};function df(g,y){g=Ns(g);var S=new Date(g*1e3);$[y>>2]=S.getSeconds(),$[y+4>>2]=S.getMinutes(),$[y+8>>2]=S.getHours(),$[y+12>>2]=S.getDate(),$[y+16>>2]=S.getMonth(),$[y+20>>2]=S.getFullYear()-1900,$[y+24>>2]=S.getDay();var N=Va(S)|0;$[y+28>>2]=N,$[y+36>>2]=-(S.getTimezoneOffset()*60);var C=new Date(S.getFullYear(),0,1),M=new Date(S.getFullYear(),6,1).getTimezoneOffset(),de=C.getTimezoneOffset(),me=(M!=de&&S.getTimezoneOffset()==Math.min(de,M))|0;$[y+32>>2]=me}function rc(g,y,S,N,C,M,de){C=Ns(C);try{if(isNaN(C))return 61;var me=sn.getStreamFromFD(N),He=V.mmap(me,g,C,y,S),Ye=He.ptr;return $[M>>2]=He.allocated,j[de>>2]=Ye,0}catch(lt){if(typeof V>"u"||lt.name!=="ErrnoError")throw lt;return-lt.errno}}function Ha(g,y,S,N,C,M){M=Ns(M);try{var de=sn.getStreamFromFD(C);S&2&&sn.doMsync(g,de,y,N,M)}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}var ji=(g,y,S,N)=>{var C=new Date().getFullYear(),M=new Date(C,0,1),de=new Date(C,6,1),me=M.getTimezoneOffset(),He=de.getTimezoneOffset(),Ye=Math.max(me,He);j[g>>2]=Ye*60,$[y>>2]=+(me!=He);var lt=qe=>{var Je=qe>=0?"-":"+",xe=Math.abs(qe),ke=String(Math.floor(xe/60)).padStart(2,"0"),Te=String(xe%60).padStart(2,"0");return`UTC${Je}${ke}${Te}`},mt=lt(me),Be=lt(He);He<me?(ks(mt,S,17),ks(Be,N,17)):(ks(mt,N,17),ks(Be,S,17))},ff=()=>Date.now(),si;si=()=>performance.now();var hf=()=>0x80000000,pf=g=>{var y=T.buffer,S=(g-y.byteLength+65535)/65536;try{return T.grow(S),P(),1}catch{}},mf=g=>{var y=F.length;g>>>=0;var S=hf();if(g>S)return!1;for(var N=1;N<=4;N*=2){var C=y*(1+.2/N);C=Math.min(C,g+0x6000000);var M=Math.min(S,vi(Math.max(g,C),65536)),de=pf(M);if(de)return!0}return!1},jo={},Qa=()=>h||"./this.program",bi=()=>{if(!bi.strings){var g=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:g,_:Qa()};for(var S in jo)jo[S]===void 0?delete y[S]:y[S]=jo[S];var N=[];for(var S in y)N.push(`${S}=${y[S]}`);bi.strings=N}return bi.strings},Ka=(g,y)=>{for(var S=0;S<g.length;++S)D[y++]=g.charCodeAt(S);D[y]=0},Eb=(g,y)=>{var S=0;return bi().forEach((N,C)=>{var M=y+S;j[g+C*4>>2]=M,Ka(N,M),S+=N.length+1}),0},Nb=(g,y)=>{var S=bi();j[g>>2]=S.length;var N=0;return S.forEach(C=>N+=C.length+1),j[y>>2]=N,0};function gf(g){try{var y=sn.getStreamFromFD(g);return V.close(y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return S.errno}}function im(g,y){try{var S=0,N=0,C=0,M=sn.getStreamFromFD(g),de=M.tty?2:V.isDir(M.mode)?3:V.isLink(M.mode)?7:4;return D[y]=de,B[y+2>>1]=C,z[y+8>>3]=BigInt(S),z[y+16>>3]=BigInt(N),0}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return me.errno}}var yf=(g,y,S,N)=>{for(var C=0,M=0;M<S;M++){var de=j[y>>2],me=j[y+4>>2];y+=8;var He=V.read(g,D,de,me,N);if(He<0)return-1;if(C+=He,He<me)break}return C};function ic(g,y,S,N){try{var C=sn.getStreamFromFD(g),M=yf(C,y,S);return j[N>>2]=M,0}catch(de){if(typeof V>"u"||de.name!=="ErrnoError")throw de;return de.errno}}function kb(g,y,S,N){y=Ns(y);try{if(isNaN(y))return 61;var C=sn.getStreamFromFD(g);return V.llseek(C,y,S),z[N>>3]=BigInt(C.position),C.getdents&&y===0&&S===0&&(C.getdents=null),0}catch(M){if(typeof V>"u"||M.name!=="ErrnoError")throw M;return M.errno}}function vf(g){try{var y=sn.getStreamFromFD(g);return y.stream_ops?.fsync?y.stream_ops.fsync(y):0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return S.errno}}var Rn=(g,y,S,N)=>{for(var C=0,M=0;M<S;M++){var de=j[y>>2],me=j[y+4>>2];y+=8;var He=V.write(g,D,de,me,N);if(He<0)return-1;if(C+=He,He<me)break}return C};function sm(g,y,S,N){try{var C=sn.getStreamFromFD(g),M=Rn(C,y,S);return j[N>>2]=M,0}catch(de){if(typeof V>"u"||de.name!=="ErrnoError")throw de;return de.errno}}V.createPreloadedFile=ia,V.staticInit();var bf={__syscall_chmod:cu,__syscall_faccessat:uu,__syscall_fchmod:du,__syscall_fchown32:Xl,__syscall_fcntl64:ec,__syscall_fstat64:oa,__syscall_ftruncate64:Ua,__syscall_getcwd:of,__syscall_ioctl:af,__syscall_lstat64:fu,__syscall_mkdirat:Is,__syscall_newfstatat:hu,__syscall_openat:pu,__syscall_readlinkat:lf,__syscall_rmdir:mu,__syscall_stat64:gu,__syscall_unlinkat:yu,__syscall_utimensat:vu,_emscripten_get_now_is_monotonic:tr,_localtime_js:df,_mmap_js:rc,_munmap_js:Ha,_tzset_js:ji,emscripten_date_now:ff,emscripten_get_now:si,emscripten_resize_heap:mf,environ_get:Eb,environ_sizes_get:Nb,fd_close:gf,fd_fdstat_get:im,fd_read:ic,fd_seek:kb,fd_sync:vf,fd_write:sm,memory:T},pe=ln();r._sqlite3_status64=(g,y,S,N)=>(r._sqlite3_status64=pe.sqlite3_status64)(g,y,S,N),r._sqlite3_status=(g,y,S,N)=>(r._sqlite3_status=pe.sqlite3_status)(g,y,S,N),r._sqlite3_db_status=(g,y,S,N,C)=>(r._sqlite3_db_status=pe.sqlite3_db_status)(g,y,S,N,C),r._sqlite3_msize=g=>(r._sqlite3_msize=pe.sqlite3_msize)(g),r._sqlite3_vfs_find=g=>(r._sqlite3_vfs_find=pe.sqlite3_vfs_find)(g),r._sqlite3_initialize=()=>(r._sqlite3_initialize=pe.sqlite3_initialize)(),r._sqlite3_malloc=g=>(r._sqlite3_malloc=pe.sqlite3_malloc)(g),r._sqlite3_free=g=>(r._sqlite3_free=pe.sqlite3_free)(g),r._sqlite3_vfs_register=(g,y)=>(r._sqlite3_vfs_register=pe.sqlite3_vfs_register)(g,y),r._sqlite3_vfs_unregister=g=>(r._sqlite3_vfs_unregister=pe.sqlite3_vfs_unregister)(g),r._sqlite3_malloc64=g=>(r._sqlite3_malloc64=pe.sqlite3_malloc64)(g),r._sqlite3_realloc=(g,y)=>(r._sqlite3_realloc=pe.sqlite3_realloc)(g,y),r._sqlite3_realloc64=(g,y)=>(r._sqlite3_realloc64=pe.sqlite3_realloc64)(g,y),r._sqlite3_value_text=g=>(r._sqlite3_value_text=pe.sqlite3_value_text)(g),r._sqlite3_randomness=(g,y)=>(r._sqlite3_randomness=pe.sqlite3_randomness)(g,y),r._sqlite3_stricmp=(g,y)=>(r._sqlite3_stricmp=pe.sqlite3_stricmp)(g,y),r._sqlite3_strnicmp=(g,y,S)=>(r._sqlite3_strnicmp=pe.sqlite3_strnicmp)(g,y,S),r._sqlite3_uri_parameter=(g,y)=>(r._sqlite3_uri_parameter=pe.sqlite3_uri_parameter)(g,y),r._sqlite3_uri_boolean=(g,y,S)=>(r._sqlite3_uri_boolean=pe.sqlite3_uri_boolean)(g,y,S),r._sqlite3_serialize=(g,y,S,N)=>(r._sqlite3_serialize=pe.sqlite3_serialize)(g,y,S,N),r._sqlite3_prepare_v2=(g,y,S,N,C)=>(r._sqlite3_prepare_v2=pe.sqlite3_prepare_v2)(g,y,S,N,C),r._sqlite3_step=g=>(r._sqlite3_step=pe.sqlite3_step)(g),r._sqlite3_column_int64=(g,y)=>(r._sqlite3_column_int64=pe.sqlite3_column_int64)(g,y),r._sqlite3_reset=g=>(r._sqlite3_reset=pe.sqlite3_reset)(g),r._sqlite3_exec=(g,y,S,N,C)=>(r._sqlite3_exec=pe.sqlite3_exec)(g,y,S,N,C),r._sqlite3_column_int=(g,y)=>(r._sqlite3_column_int=pe.sqlite3_column_int)(g,y),r._sqlite3_finalize=g=>(r._sqlite3_finalize=pe.sqlite3_finalize)(g),r._sqlite3_file_control=(g,y,S,N)=>(r._sqlite3_file_control=pe.sqlite3_file_control)(g,y,S,N),r._sqlite3_column_name=(g,y)=>(r._sqlite3_column_name=pe.sqlite3_column_name)(g,y),r._sqlite3_column_text=(g,y)=>(r._sqlite3_column_text=pe.sqlite3_column_text)(g,y),r._sqlite3_column_type=(g,y)=>(r._sqlite3_column_type=pe.sqlite3_column_type)(g,y),r._sqlite3_errmsg=g=>(r._sqlite3_errmsg=pe.sqlite3_errmsg)(g),r._sqlite3_deserialize=(g,y,S,N,C,M)=>(r._sqlite3_deserialize=pe.sqlite3_deserialize)(g,y,S,N,C,M),r._sqlite3_clear_bindings=g=>(r._sqlite3_clear_bindings=pe.sqlite3_clear_bindings)(g),r._sqlite3_value_blob=g=>(r._sqlite3_value_blob=pe.sqlite3_value_blob)(g),r._sqlite3_value_bytes=g=>(r._sqlite3_value_bytes=pe.sqlite3_value_bytes)(g),r._sqlite3_value_double=g=>(r._sqlite3_value_double=pe.sqlite3_value_double)(g),r._sqlite3_value_int=g=>(r._sqlite3_value_int=pe.sqlite3_value_int)(g),r._sqlite3_value_int64=g=>(r._sqlite3_value_int64=pe.sqlite3_value_int64)(g),r._sqlite3_value_subtype=g=>(r._sqlite3_value_subtype=pe.sqlite3_value_subtype)(g),r._sqlite3_value_pointer=(g,y)=>(r._sqlite3_value_pointer=pe.sqlite3_value_pointer)(g,y),r._sqlite3_value_type=g=>(r._sqlite3_value_type=pe.sqlite3_value_type)(g),r._sqlite3_value_nochange=g=>(r._sqlite3_value_nochange=pe.sqlite3_value_nochange)(g),r._sqlite3_value_frombind=g=>(r._sqlite3_value_frombind=pe.sqlite3_value_frombind)(g),r._sqlite3_value_dup=g=>(r._sqlite3_value_dup=pe.sqlite3_value_dup)(g),r._sqlite3_value_free=g=>(r._sqlite3_value_free=pe.sqlite3_value_free)(g),r._sqlite3_result_blob=(g,y,S,N)=>(r._sqlite3_result_blob=pe.sqlite3_result_blob)(g,y,S,N),r._sqlite3_result_error_toobig=g=>(r._sqlite3_result_error_toobig=pe.sqlite3_result_error_toobig)(g),r._sqlite3_result_error_nomem=g=>(r._sqlite3_result_error_nomem=pe.sqlite3_result_error_nomem)(g),r._sqlite3_result_double=(g,y)=>(r._sqlite3_result_double=pe.sqlite3_result_double)(g,y),r._sqlite3_result_error=(g,y,S)=>(r._sqlite3_result_error=pe.sqlite3_result_error)(g,y,S),r._sqlite3_result_int=(g,y)=>(r._sqlite3_result_int=pe.sqlite3_result_int)(g,y),r._sqlite3_result_int64=(g,y)=>(r._sqlite3_result_int64=pe.sqlite3_result_int64)(g,y),r._sqlite3_result_null=g=>(r._sqlite3_result_null=pe.sqlite3_result_null)(g),r._sqlite3_result_pointer=(g,y,S,N)=>(r._sqlite3_result_pointer=pe.sqlite3_result_pointer)(g,y,S,N),r._sqlite3_result_subtype=(g,y)=>(r._sqlite3_result_subtype=pe.sqlite3_result_subtype)(g,y),r._sqlite3_result_text=(g,y,S,N)=>(r._sqlite3_result_text=pe.sqlite3_result_text)(g,y,S,N),r._sqlite3_result_zeroblob=(g,y)=>(r._sqlite3_result_zeroblob=pe.sqlite3_result_zeroblob)(g,y),r._sqlite3_result_zeroblob64=(g,y)=>(r._sqlite3_result_zeroblob64=pe.sqlite3_result_zeroblob64)(g,y),r._sqlite3_result_error_code=(g,y)=>(r._sqlite3_result_error_code=pe.sqlite3_result_error_code)(g,y),r._sqlite3_user_data=g=>(r._sqlite3_user_data=pe.sqlite3_user_data)(g),r._sqlite3_context_db_handle=g=>(r._sqlite3_context_db_handle=pe.sqlite3_context_db_handle)(g),r._sqlite3_vtab_nochange=g=>(r._sqlite3_vtab_nochange=pe.sqlite3_vtab_nochange)(g),r._sqlite3_vtab_in_first=(g,y)=>(r._sqlite3_vtab_in_first=pe.sqlite3_vtab_in_first)(g,y),r._sqlite3_vtab_in_next=(g,y)=>(r._sqlite3_vtab_in_next=pe.sqlite3_vtab_in_next)(g,y),r._sqlite3_aggregate_context=(g,y)=>(r._sqlite3_aggregate_context=pe.sqlite3_aggregate_context)(g,y),r._sqlite3_get_auxdata=(g,y)=>(r._sqlite3_get_auxdata=pe.sqlite3_get_auxdata)(g,y),r._sqlite3_set_auxdata=(g,y,S,N)=>(r._sqlite3_set_auxdata=pe.sqlite3_set_auxdata)(g,y,S,N),r._sqlite3_column_count=g=>(r._sqlite3_column_count=pe.sqlite3_column_count)(g),r._sqlite3_data_count=g=>(r._sqlite3_data_count=pe.sqlite3_data_count)(g),r._sqlite3_column_blob=(g,y)=>(r._sqlite3_column_blob=pe.sqlite3_column_blob)(g,y),r._sqlite3_column_bytes=(g,y)=>(r._sqlite3_column_bytes=pe.sqlite3_column_bytes)(g,y),r._sqlite3_column_double=(g,y)=>(r._sqlite3_column_double=pe.sqlite3_column_double)(g,y),r._sqlite3_column_value=(g,y)=>(r._sqlite3_column_value=pe.sqlite3_column_value)(g,y),r._sqlite3_column_decltype=(g,y)=>(r._sqlite3_column_decltype=pe.sqlite3_column_decltype)(g,y),r._sqlite3_bind_blob=(g,y,S,N,C)=>(r._sqlite3_bind_blob=pe.sqlite3_bind_blob)(g,y,S,N,C),r._sqlite3_bind_double=(g,y,S)=>(r._sqlite3_bind_double=pe.sqlite3_bind_double)(g,y,S),r._sqlite3_bind_int=(g,y,S)=>(r._sqlite3_bind_int=pe.sqlite3_bind_int)(g,y,S),r._sqlite3_bind_int64=(g,y,S)=>(r._sqlite3_bind_int64=pe.sqlite3_bind_int64)(g,y,S),r._sqlite3_bind_null=(g,y)=>(r._sqlite3_bind_null=pe.sqlite3_bind_null)(g,y),r._sqlite3_bind_pointer=(g,y,S,N,C)=>(r._sqlite3_bind_pointer=pe.sqlite3_bind_pointer)(g,y,S,N,C),r._sqlite3_bind_text=(g,y,S,N,C)=>(r._sqlite3_bind_text=pe.sqlite3_bind_text)(g,y,S,N,C),r._sqlite3_bind_parameter_count=g=>(r._sqlite3_bind_parameter_count=pe.sqlite3_bind_parameter_count)(g),r._sqlite3_bind_parameter_name=(g,y)=>(r._sqlite3_bind_parameter_name=pe.sqlite3_bind_parameter_name)(g,y),r._sqlite3_bind_parameter_index=(g,y)=>(r._sqlite3_bind_parameter_index=pe.sqlite3_bind_parameter_index)(g,y),r._sqlite3_db_handle=g=>(r._sqlite3_db_handle=pe.sqlite3_db_handle)(g),r._sqlite3_stmt_readonly=g=>(r._sqlite3_stmt_readonly=pe.sqlite3_stmt_readonly)(g),r._sqlite3_stmt_isexplain=g=>(r._sqlite3_stmt_isexplain=pe.sqlite3_stmt_isexplain)(g),r._sqlite3_stmt_explain=(g,y)=>(r._sqlite3_stmt_explain=pe.sqlite3_stmt_explain)(g,y),r._sqlite3_stmt_busy=g=>(r._sqlite3_stmt_busy=pe.sqlite3_stmt_busy)(g),r._sqlite3_stmt_status=(g,y,S)=>(r._sqlite3_stmt_status=pe.sqlite3_stmt_status)(g,y,S),r._sqlite3_sql=g=>(r._sqlite3_sql=pe.sqlite3_sql)(g),r._sqlite3_expanded_sql=g=>(r._sqlite3_expanded_sql=pe.sqlite3_expanded_sql)(g),r._sqlite3_preupdate_old=(g,y,S)=>(r._sqlite3_preupdate_old=pe.sqlite3_preupdate_old)(g,y,S),r._sqlite3_preupdate_count=g=>(r._sqlite3_preupdate_count=pe.sqlite3_preupdate_count)(g),r._sqlite3_preupdate_depth=g=>(r._sqlite3_preupdate_depth=pe.sqlite3_preupdate_depth)(g),r._sqlite3_preupdate_blobwrite=g=>(r._sqlite3_preupdate_blobwrite=pe.sqlite3_preupdate_blobwrite)(g),r._sqlite3_preupdate_new=(g,y,S)=>(r._sqlite3_preupdate_new=pe.sqlite3_preupdate_new)(g,y,S),r._sqlite3_value_numeric_type=g=>(r._sqlite3_value_numeric_type=pe.sqlite3_value_numeric_type)(g),r._sqlite3_set_authorizer=(g,y,S)=>(r._sqlite3_set_authorizer=pe.sqlite3_set_authorizer)(g,y,S),r._sqlite3_strglob=(g,y)=>(r._sqlite3_strglob=pe.sqlite3_strglob)(g,y),r._sqlite3_strlike=(g,y,S)=>(r._sqlite3_strlike=pe.sqlite3_strlike)(g,y,S),r._sqlite3_auto_extension=g=>(r._sqlite3_auto_extension=pe.sqlite3_auto_extension)(g),r._sqlite3_cancel_auto_extension=g=>(r._sqlite3_cancel_auto_extension=pe.sqlite3_cancel_auto_extension)(g),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=pe.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(g,y,S,N,C,M)=>(r._sqlite3_prepare_v3=pe.sqlite3_prepare_v3)(g,y,S,N,C,M),r._sqlite3_create_module=(g,y,S,N)=>(r._sqlite3_create_module=pe.sqlite3_create_module)(g,y,S,N),r._sqlite3_create_module_v2=(g,y,S,N,C)=>(r._sqlite3_create_module_v2=pe.sqlite3_create_module_v2)(g,y,S,N,C),r._sqlite3_drop_modules=(g,y)=>(r._sqlite3_drop_modules=pe.sqlite3_drop_modules)(g,y),r._sqlite3_declare_vtab=(g,y)=>(r._sqlite3_declare_vtab=pe.sqlite3_declare_vtab)(g,y),r._sqlite3_vtab_on_conflict=g=>(r._sqlite3_vtab_on_conflict=pe.sqlite3_vtab_on_conflict)(g),r._sqlite3_vtab_collation=(g,y)=>(r._sqlite3_vtab_collation=pe.sqlite3_vtab_collation)(g,y),r._sqlite3_vtab_in=(g,y,S)=>(r._sqlite3_vtab_in=pe.sqlite3_vtab_in)(g,y,S),r._sqlite3_vtab_rhs_value=(g,y,S)=>(r._sqlite3_vtab_rhs_value=pe.sqlite3_vtab_rhs_value)(g,y,S),r._sqlite3_vtab_distinct=g=>(r._sqlite3_vtab_distinct=pe.sqlite3_vtab_distinct)(g),r._sqlite3_keyword_name=(g,y,S)=>(r._sqlite3_keyword_name=pe.sqlite3_keyword_name)(g,y,S),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=pe.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(g,y)=>(r._sqlite3_keyword_check=pe.sqlite3_keyword_check)(g,y),r._sqlite3_complete=g=>(r._sqlite3_complete=pe.sqlite3_complete)(g),r._sqlite3_libversion=()=>(r._sqlite3_libversion=pe.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=pe.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=pe.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=g=>(r._sqlite3_last_insert_rowid=pe.sqlite3_last_insert_rowid)(g),r._sqlite3_set_last_insert_rowid=(g,y)=>(r._sqlite3_set_last_insert_rowid=pe.sqlite3_set_last_insert_rowid)(g,y),r._sqlite3_changes64=g=>(r._sqlite3_changes64=pe.sqlite3_changes64)(g),r._sqlite3_changes=g=>(r._sqlite3_changes=pe.sqlite3_changes)(g),r._sqlite3_total_changes64=g=>(r._sqlite3_total_changes64=pe.sqlite3_total_changes64)(g),r._sqlite3_total_changes=g=>(r._sqlite3_total_changes=pe.sqlite3_total_changes)(g),r._sqlite3_txn_state=(g,y)=>(r._sqlite3_txn_state=pe.sqlite3_txn_state)(g,y),r._sqlite3_close_v2=g=>(r._sqlite3_close_v2=pe.sqlite3_close_v2)(g),r._sqlite3_busy_handler=(g,y,S)=>(r._sqlite3_busy_handler=pe.sqlite3_busy_handler)(g,y,S),r._sqlite3_progress_handler=(g,y,S,N)=>(r._sqlite3_progress_handler=pe.sqlite3_progress_handler)(g,y,S,N),r._sqlite3_busy_timeout=(g,y)=>(r._sqlite3_busy_timeout=pe.sqlite3_busy_timeout)(g,y),r._sqlite3_interrupt=g=>(r._sqlite3_interrupt=pe.sqlite3_interrupt)(g),r._sqlite3_is_interrupted=g=>(r._sqlite3_is_interrupted=pe.sqlite3_is_interrupted)(g),r._sqlite3_create_function=(g,y,S,N,C,M,de,me)=>(r._sqlite3_create_function=pe.sqlite3_create_function)(g,y,S,N,C,M,de,me),r._sqlite3_create_function_v2=(g,y,S,N,C,M,de,me,He)=>(r._sqlite3_create_function_v2=pe.sqlite3_create_function_v2)(g,y,S,N,C,M,de,me,He),r._sqlite3_create_window_function=(g,y,S,N,C,M,de,me,He,Ye)=>(r._sqlite3_create_window_function=pe.sqlite3_create_window_function)(g,y,S,N,C,M,de,me,He,Ye),r._sqlite3_overload_function=(g,y,S)=>(r._sqlite3_overload_function=pe.sqlite3_overload_function)(g,y,S),r._sqlite3_trace_v2=(g,y,S,N)=>(r._sqlite3_trace_v2=pe.sqlite3_trace_v2)(g,y,S,N),r._sqlite3_commit_hook=(g,y,S)=>(r._sqlite3_commit_hook=pe.sqlite3_commit_hook)(g,y,S),r._sqlite3_update_hook=(g,y,S)=>(r._sqlite3_update_hook=pe.sqlite3_update_hook)(g,y,S),r._sqlite3_rollback_hook=(g,y,S)=>(r._sqlite3_rollback_hook=pe.sqlite3_rollback_hook)(g,y,S),r._sqlite3_preupdate_hook=(g,y,S)=>(r._sqlite3_preupdate_hook=pe.sqlite3_preupdate_hook)(g,y,S),r._sqlite3_error_offset=g=>(r._sqlite3_error_offset=pe.sqlite3_error_offset)(g),r._sqlite3_errcode=g=>(r._sqlite3_errcode=pe.sqlite3_errcode)(g),r._sqlite3_extended_errcode=g=>(r._sqlite3_extended_errcode=pe.sqlite3_extended_errcode)(g),r._sqlite3_errstr=g=>(r._sqlite3_errstr=pe.sqlite3_errstr)(g),r._sqlite3_limit=(g,y,S)=>(r._sqlite3_limit=pe.sqlite3_limit)(g,y,S),r._sqlite3_open=(g,y)=>(r._sqlite3_open=pe.sqlite3_open)(g,y),r._sqlite3_open_v2=(g,y,S,N)=>(r._sqlite3_open_v2=pe.sqlite3_open_v2)(g,y,S,N),r._sqlite3_create_collation=(g,y,S,N,C)=>(r._sqlite3_create_collation=pe.sqlite3_create_collation)(g,y,S,N,C),r._sqlite3_create_collation_v2=(g,y,S,N,C,M)=>(r._sqlite3_create_collation_v2=pe.sqlite3_create_collation_v2)(g,y,S,N,C,M),r._sqlite3_collation_needed=(g,y,S)=>(r._sqlite3_collation_needed=pe.sqlite3_collation_needed)(g,y,S),r._sqlite3_get_autocommit=g=>(r._sqlite3_get_autocommit=pe.sqlite3_get_autocommit)(g),r._sqlite3_table_column_metadata=(g,y,S,N,C,M,de,me,He)=>(r._sqlite3_table_column_metadata=pe.sqlite3_table_column_metadata)(g,y,S,N,C,M,de,me,He),r._sqlite3_extended_result_codes=(g,y)=>(r._sqlite3_extended_result_codes=pe.sqlite3_extended_result_codes)(g,y),r._sqlite3_uri_key=(g,y)=>(r._sqlite3_uri_key=pe.sqlite3_uri_key)(g,y),r._sqlite3_uri_int64=(g,y,S)=>(r._sqlite3_uri_int64=pe.sqlite3_uri_int64)(g,y,S),r._sqlite3_db_name=(g,y)=>(r._sqlite3_db_name=pe.sqlite3_db_name)(g,y),r._sqlite3_db_filename=(g,y)=>(r._sqlite3_db_filename=pe.sqlite3_db_filename)(g,y),r._sqlite3_db_readonly=(g,y)=>(r._sqlite3_db_readonly=pe.sqlite3_db_readonly)(g,y),r._sqlite3_compileoption_used=g=>(r._sqlite3_compileoption_used=pe.sqlite3_compileoption_used)(g),r._sqlite3_compileoption_get=g=>(r._sqlite3_compileoption_get=pe.sqlite3_compileoption_get)(g),r._sqlite3session_diff=(g,y,S,N)=>(r._sqlite3session_diff=pe.sqlite3session_diff)(g,y,S,N),r._sqlite3session_attach=(g,y)=>(r._sqlite3session_attach=pe.sqlite3session_attach)(g,y),r._sqlite3session_create=(g,y,S)=>(r._sqlite3session_create=pe.sqlite3session_create)(g,y,S),r._sqlite3session_delete=g=>(r._sqlite3session_delete=pe.sqlite3session_delete)(g),r._sqlite3session_table_filter=(g,y,S)=>(r._sqlite3session_table_filter=pe.sqlite3session_table_filter)(g,y,S),r._sqlite3session_changeset=(g,y,S)=>(r._sqlite3session_changeset=pe.sqlite3session_changeset)(g,y,S),r._sqlite3session_changeset_strm=(g,y,S)=>(r._sqlite3session_changeset_strm=pe.sqlite3session_changeset_strm)(g,y,S),r._sqlite3session_patchset_strm=(g,y,S)=>(r._sqlite3session_patchset_strm=pe.sqlite3session_patchset_strm)(g,y,S),r._sqlite3session_patchset=(g,y,S)=>(r._sqlite3session_patchset=pe.sqlite3session_patchset)(g,y,S),r._sqlite3session_enable=(g,y)=>(r._sqlite3session_enable=pe.sqlite3session_enable)(g,y),r._sqlite3session_indirect=(g,y)=>(r._sqlite3session_indirect=pe.sqlite3session_indirect)(g,y),r._sqlite3session_isempty=g=>(r._sqlite3session_isempty=pe.sqlite3session_isempty)(g),r._sqlite3session_memory_used=g=>(r._sqlite3session_memory_used=pe.sqlite3session_memory_used)(g),r._sqlite3session_object_config=(g,y,S)=>(r._sqlite3session_object_config=pe.sqlite3session_object_config)(g,y,S),r._sqlite3session_changeset_size=g=>(r._sqlite3session_changeset_size=pe.sqlite3session_changeset_size)(g),r._sqlite3changeset_start=(g,y,S)=>(r._sqlite3changeset_start=pe.sqlite3changeset_start)(g,y,S),r._sqlite3changeset_start_v2=(g,y,S,N)=>(r._sqlite3changeset_start_v2=pe.sqlite3changeset_start_v2)(g,y,S,N),r._sqlite3changeset_start_strm=(g,y,S)=>(r._sqlite3changeset_start_strm=pe.sqlite3changeset_start_strm)(g,y,S),r._sqlite3changeset_start_v2_strm=(g,y,S,N)=>(r._sqlite3changeset_start_v2_strm=pe.sqlite3changeset_start_v2_strm)(g,y,S,N),r._sqlite3changeset_next=g=>(r._sqlite3changeset_next=pe.sqlite3changeset_next)(g),r._sqlite3changeset_op=(g,y,S,N,C)=>(r._sqlite3changeset_op=pe.sqlite3changeset_op)(g,y,S,N,C),r._sqlite3changeset_pk=(g,y,S)=>(r._sqlite3changeset_pk=pe.sqlite3changeset_pk)(g,y,S),r._sqlite3changeset_old=(g,y,S)=>(r._sqlite3changeset_old=pe.sqlite3changeset_old)(g,y,S),r._sqlite3changeset_new=(g,y,S)=>(r._sqlite3changeset_new=pe.sqlite3changeset_new)(g,y,S),r._sqlite3changeset_conflict=(g,y,S)=>(r._sqlite3changeset_conflict=pe.sqlite3changeset_conflict)(g,y,S),r._sqlite3changeset_fk_conflicts=(g,y)=>(r._sqlite3changeset_fk_conflicts=pe.sqlite3changeset_fk_conflicts)(g,y),r._sqlite3changeset_finalize=g=>(r._sqlite3changeset_finalize=pe.sqlite3changeset_finalize)(g),r._sqlite3changeset_invert=(g,y,S,N)=>(r._sqlite3changeset_invert=pe.sqlite3changeset_invert)(g,y,S,N),r._sqlite3changeset_invert_strm=(g,y,S,N)=>(r._sqlite3changeset_invert_strm=pe.sqlite3changeset_invert_strm)(g,y,S,N),r._sqlite3changeset_apply_v2=(g,y,S,N,C,M,de,me,He)=>(r._sqlite3changeset_apply_v2=pe.sqlite3changeset_apply_v2)(g,y,S,N,C,M,de,me,He),r._sqlite3changeset_apply=(g,y,S,N,C,M)=>(r._sqlite3changeset_apply=pe.sqlite3changeset_apply)(g,y,S,N,C,M),r._sqlite3changeset_apply_v2_strm=(g,y,S,N,C,M,de,me,He)=>(r._sqlite3changeset_apply_v2_strm=pe.sqlite3changeset_apply_v2_strm)(g,y,S,N,C,M,de,me,He),r._sqlite3changeset_apply_strm=(g,y,S,N,C,M)=>(r._sqlite3changeset_apply_strm=pe.sqlite3changeset_apply_strm)(g,y,S,N,C,M),r._sqlite3changegroup_new=g=>(r._sqlite3changegroup_new=pe.sqlite3changegroup_new)(g),r._sqlite3changegroup_add=(g,y,S)=>(r._sqlite3changegroup_add=pe.sqlite3changegroup_add)(g,y,S),r._sqlite3changegroup_output=(g,y,S)=>(r._sqlite3changegroup_output=pe.sqlite3changegroup_output)(g,y,S),r._sqlite3changegroup_add_strm=(g,y,S)=>(r._sqlite3changegroup_add_strm=pe.sqlite3changegroup_add_strm)(g,y,S),r._sqlite3changegroup_output_strm=(g,y,S)=>(r._sqlite3changegroup_output_strm=pe.sqlite3changegroup_output_strm)(g,y,S),r._sqlite3changegroup_delete=g=>(r._sqlite3changegroup_delete=pe.sqlite3changegroup_delete)(g),r._sqlite3changeset_concat=(g,y,S,N,C,M)=>(r._sqlite3changeset_concat=pe.sqlite3changeset_concat)(g,y,S,N,C,M),r._sqlite3changeset_concat_strm=(g,y,S,N,C,M)=>(r._sqlite3changeset_concat_strm=pe.sqlite3changeset_concat_strm)(g,y,S,N,C,M),r._sqlite3session_config=(g,y)=>(r._sqlite3session_config=pe.sqlite3session_config)(g,y),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=pe.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=pe.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=g=>(r._sqlite3__wasm_pstack_restore=pe.sqlite3__wasm_pstack_restore)(g),r._sqlite3__wasm_pstack_alloc=g=>(r._sqlite3__wasm_pstack_alloc=pe.sqlite3__wasm_pstack_alloc)(g),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=pe.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=pe.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(g,y,S)=>(r._sqlite3__wasm_db_error=pe.sqlite3__wasm_db_error)(g,y,S),r._sqlite3__wasm_test_struct=g=>(r._sqlite3__wasm_test_struct=pe.sqlite3__wasm_test_struct)(g),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=pe.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(g,y)=>(r._sqlite3__wasm_vfs_unlink=pe.sqlite3__wasm_vfs_unlink)(g,y),r._sqlite3__wasm_db_vfs=(g,y)=>(r._sqlite3__wasm_db_vfs=pe.sqlite3__wasm_db_vfs)(g,y),r._sqlite3__wasm_db_reset=g=>(r._sqlite3__wasm_db_reset=pe.sqlite3__wasm_db_reset)(g),r._sqlite3__wasm_db_export_chunked=(g,y)=>(r._sqlite3__wasm_db_export_chunked=pe.sqlite3__wasm_db_export_chunked)(g,y),r._sqlite3__wasm_db_serialize=(g,y,S,N,C)=>(r._sqlite3__wasm_db_serialize=pe.sqlite3__wasm_db_serialize)(g,y,S,N,C),r._sqlite3__wasm_vfs_create_file=(g,y,S,N)=>(r._sqlite3__wasm_vfs_create_file=pe.sqlite3__wasm_vfs_create_file)(g,y,S,N),r._sqlite3__wasm_posix_create_file=(g,y,S)=>(r._sqlite3__wasm_posix_create_file=pe.sqlite3__wasm_posix_create_file)(g,y,S),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(g,y)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=pe.sqlite3__wasm_kvvfsMakeKeyOnPstack)(g,y),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=pe.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(g,y,S)=>(r._sqlite3__wasm_vtab_config=pe.sqlite3__wasm_vtab_config)(g,y,S),r._sqlite3__wasm_db_config_ip=(g,y,S,N)=>(r._sqlite3__wasm_db_config_ip=pe.sqlite3__wasm_db_config_ip)(g,y,S,N),r._sqlite3__wasm_db_config_pii=(g,y,S,N,C)=>(r._sqlite3__wasm_db_config_pii=pe.sqlite3__wasm_db_config_pii)(g,y,S,N,C),r._sqlite3__wasm_db_config_s=(g,y,S)=>(r._sqlite3__wasm_db_config_s=pe.sqlite3__wasm_db_config_s)(g,y,S),r._sqlite3__wasm_config_i=(g,y)=>(r._sqlite3__wasm_config_i=pe.sqlite3__wasm_config_i)(g,y),r._sqlite3__wasm_config_ii=(g,y,S)=>(r._sqlite3__wasm_config_ii=pe.sqlite3__wasm_config_ii)(g,y,S),r._sqlite3__wasm_config_j=(g,y)=>(r._sqlite3__wasm_config_j=pe.sqlite3__wasm_config_j)(g,y),r._sqlite3__wasm_qfmt_token=(g,y)=>(r._sqlite3__wasm_qfmt_token=pe.sqlite3__wasm_qfmt_token)(g,y),r._sqlite3__wasm_init_wasmfs=g=>(r._sqlite3__wasm_init_wasmfs=pe.sqlite3__wasm_init_wasmfs)(g),r._sqlite3__wasm_test_intptr=g=>(r._sqlite3__wasm_test_intptr=pe.sqlite3__wasm_test_intptr)(g),r._sqlite3__wasm_test_voidptr=g=>(r._sqlite3__wasm_test_voidptr=pe.sqlite3__wasm_test_voidptr)(g),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=pe.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=pe.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=g=>(r._sqlite3__wasm_test_int64_times2=pe.sqlite3__wasm_test_int64_times2)(g),r._sqlite3__wasm_test_int64_minmax=(g,y)=>(r._sqlite3__wasm_test_int64_minmax=pe.sqlite3__wasm_test_int64_minmax)(g,y),r._sqlite3__wasm_test_int64ptr=g=>(r._sqlite3__wasm_test_int64ptr=pe.sqlite3__wasm_test_int64ptr)(g),r._sqlite3__wasm_test_stack_overflow=g=>(r._sqlite3__wasm_test_stack_overflow=pe.sqlite3__wasm_test_stack_overflow)(g),r._sqlite3__wasm_test_str_hello=g=>(r._sqlite3__wasm_test_str_hello=pe.sqlite3__wasm_test_str_hello)(g),r._sqlite3__wasm_SQLTester_strglob=(g,y)=>(r._sqlite3__wasm_SQLTester_strglob=pe.sqlite3__wasm_SQLTester_strglob)(g,y),r._malloc=g=>(r._malloc=pe.malloc)(g),r._free=g=>(r._free=pe.free)(g),r._realloc=(g,y)=>(r._realloc=pe.realloc)(g,y);var xf=(g,y)=>(xf=pe.emscripten_builtin_memalign)(g,y);r.wasmMemory=T;var sc;he=function g(){sc||_f(),sc||(he=g)};function _f(){if(ue>0||(X(),ue>0))return;function g(){sc||(sc=!0,r.calledRun=!0,!R&&(oe(),i(r),r.onRuntimeInitialized?.(),re()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),g()},1)):g()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return _f(),r.postRun||(r.postRun=[]),r.postRun.push(function(g){if(globalThis.sqlite3ApiBootstrap=function y(S=globalThis.sqlite3ApiConfig||y.defaultConfig){if(y.sqlite3)return(y.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),y.sqlite3;const N=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof g<"u"&&g.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},S||{});Object.assign(N,{allocExportName:N.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:N.useStdAlloc?"free":"sqlite3_free",reallocExportName:N.useStdAlloc?"realloc":"sqlite3_realloc"},N),["exports","memory","wasmfsOpfsDir"].forEach(H=>{typeof N[H]=="function"&&(N[H]=N[H]())}),delete globalThis.sqlite3ApiConfig,delete y.defaultConfig;const C=Object.create(null),M=Object.create(null),de=H=>C.sqlite3_js_rc_str&&C.sqlite3_js_rc_str(H)||"Unknown result code #"+H,me=H=>typeof H=="number"&&H===(H|0);class He extends Error{constructor(...ee){let ie;if(ee.length)if(me(ee[0]))if(ie=ee[0],ee.length===1)super(de(ee[0]));else{const Le=de(ie);typeof ee[1]=="object"?super(Le,ee[1]):(ee[0]=Le+":",super(ee.join(" ")))}else ee.length===2&&typeof ee[1]=="object"?super(...ee):super(ee.join(" "));this.resultCode=ie||C.SQLITE_ERROR,this.name="SQLite3Error"}}He.toss=(...H)=>{throw new He(...H)};const Ye=He.toss;N.wasmfsOpfsDir&&!/^\/[^/]+$/.test(N.wasmfsOpfsDir)&&Ye("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const lt=H=>typeof H!="bigint"&&H===(H|0)&&H<=0x7fffffff&&H>=-0x80000000,mt=function H(ee){return H._max||(H._max=BigInt("0x7fffffffffffffff"),H._min=~H._max),ee>=H._min&&ee<=H._max},Be=H=>H>=-2147483647n-1n&&H<=2147483647n,qe=function H(ee){return H._min||(H._min=Number.MIN_SAFE_INTEGER,H._max=Number.MAX_SAFE_INTEGER),ee>=H._min&&ee<=H._max},Je=H=>H&&H.constructor&&lt(H.constructor.BYTES_PER_ELEMENT)?H:!1,xe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,ke=H=>H.buffer instanceof xe,Te=(H,ee,ie)=>ke(H)?H.slice(ee,ie):H.subarray(ee,ie),Ge=H=>H&&(H instanceof Uint8Array||H instanceof Int8Array||H instanceof ArrayBuffer),Ke=H=>H&&(H instanceof Uint8Array||H instanceof Int8Array||H instanceof ArrayBuffer),Oe=H=>Ge(H)||Ye("Value is not of a supported TypedArray type."),Qe=new TextDecoder("utf-8"),wt=function(H,ee,ie){return Qe.decode(Te(H,ee,ie))},J=function(H){return Ke(H)?wt(H instanceof ArrayBuffer?new Uint8Array(H):H):Array.isArray(H)?H.join(""):(M.isPtr(H)&&(H=M.cstrToJs(H)),H)};class le extends Error{constructor(...ee){ee.length===2&&typeof ee[1]=="object"?super(...ee):ee.length?super(ee.join(" ")):super("Allocation failed."),this.resultCode=C.SQLITE_NOMEM,this.name="WasmAllocError"}}le.toss=(...H)=>{throw new le(...H)},Object.assign(C,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(H,ee,ie,Le,it,Tt,$t,Kt,ct)=>{},sqlite3_create_function:(H,ee,ie,Le,it,Tt,$t,Kt)=>{},sqlite3_create_window_function:(H,ee,ie,Le,it,Tt,$t,Kt,ct,we)=>{},sqlite3_prepare_v3:(H,ee,ie,Le,it,Tt)=>{},sqlite3_prepare_v2:(H,ee,ie,Le,it)=>{},sqlite3_exec:(H,ee,ie,Le,it)=>{},sqlite3_randomness:(H,ee)=>{}});const Ee={affirmBindableTypedArray:Oe,flexibleString:J,bigIntFits32:Be,bigIntFits64:mt,bigIntFitsDouble:qe,isBindableTypedArray:Ge,isInt32:lt,isSQLableTypedArray:Ke,isTypedArray:Je,typedArrayToString:wt,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:ke,toss:function(...H){throw new Error(H.join(" "))},toss3:Ye,typedArrayPart:Te,affirmDbHeader:function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));const ee="SQLite format 3";ee.length>H.byteLength&&Ye("Input does not contain an SQLite3 database header.");for(let ie=0;ie<ee.length;++ie)ee.charCodeAt(ie)!==H[ie]&&Ye("Input does not contain an SQLite3 database header.")},affirmIsDb:function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));const ee=H.byteLength;(ee<512||ee%512!==0)&&Ye("Byte array size",ee,"is invalid for an SQLite3 db."),Ee.affirmDbHeader(H)}};Object.assign(M,{ptrSizeof:N.wasmPtrSizeof||4,ptrIR:N.wasmPtrIR||"i32",bigIntEnabled:!!N.bigIntEnabled,exports:N.exports||Ye("Missing API config.exports (WASM module exports)."),memory:N.memory||N.exports.memory||Ye("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),M.allocFromTypedArray=function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H)),Oe(H);const ee=M.alloc(H.byteLength||1);return M.heapForSize(H.constructor).set(H.byteLength?H:[0],ee),ee};{const H=N.allocExportName,ee=N.deallocExportName,ie=N.reallocExportName;for(const Le of[H,ee,ie])M.exports[Le]instanceof Function||Ye("Missing required exports[",Le,"] function.");M.alloc=function Le(it){return Le.impl(it)||le.toss("Failed to allocate",it," bytes.")},M.alloc.impl=M.exports[H],M.realloc=function Le(it,Tt){const $t=Le.impl(it,Tt);return Tt?$t||le.toss("Failed to reallocate",Tt," bytes."):0},M.realloc.impl=M.exports[ie],M.dealloc=M.exports[ee]}M.compileOptionUsed=function H(ee){if(arguments.length){if(Array.isArray(ee)){const ie={};return ee.forEach(Le=>{ie[Le]=C.sqlite3_compileoption_used(Le)}),ie}else if(typeof ee=="object")return Object.keys(ee).forEach(ie=>{ee[ie]=C.sqlite3_compileoption_used(ie)}),ee}else{if(H._result)return H._result;H._opt||(H._rx=/^([^=]+)=(.+)/,H._rxInt=/^-?\d+$/,H._opt=function($t,Kt){const ct=H._rx.exec($t);Kt[0]=ct?ct[1]:$t,Kt[1]=ct?H._rxInt.test(ct[2])?+ct[2]:ct[2]:!0});const ie={},Le=[0,0];let it=0,Tt;for(;Tt=C.sqlite3_compileoption_get(it++);)H._opt(Tt,Le),ie[Le[0]]=Le[1];return H._result=ie}return typeof ee=="string"?!!C.sqlite3_compileoption_used(ee):!1},M.pstack=Object.assign(Object.create(null),{restore:M.exports.sqlite3__wasm_pstack_restore,alloc:function(H){return typeof H=="string"&&!(H=M.sizeofIR(H))&&le.toss("Invalid value for pstack.alloc(",arguments[0],")"),M.exports.sqlite3__wasm_pstack_alloc(H)||le.toss("Could not allocate",H,"bytes from the pstack.")},allocChunks:function(H,ee){typeof ee=="string"&&!(ee=M.sizeofIR(ee))&&le.toss("Invalid size value for allocChunks(",arguments[1],")");const ie=M.pstack.alloc(H*ee),Le=[];let it=0,Tt=0;for(;it<H;++it,Tt+=ee)Le.push(ie+Tt);return Le},allocPtr:(H=1,ee=!0)=>H===1?M.pstack.alloc(ee?8:M.ptrSizeof):M.pstack.allocChunks(H,ee?8:M.ptrSizeof),call:function(H){const ee=M.pstack.pointer;try{return H(fe)}finally{M.pstack.restore(ee)}}}),Object.defineProperties(M.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_remaining}}),C.sqlite3_randomness=(...H)=>{if(H.length===1&&Ee.isTypedArray(H[0])&&H[0].BYTES_PER_ELEMENT===1){const ee=H[0];if(ee.byteLength===0)return M.exports.sqlite3_randomness(0,0),ee;const ie=M.pstack.pointer;try{let Le=ee.byteLength,it=0;const Tt=M.exports.sqlite3_randomness,$t=M.heap8u(),Kt=Le<512?Le:512,ct=M.pstack.alloc(Kt);do{const we=Le>Kt?Kt:Le;Tt(we,ct),ee.set(Te($t,ct,ct+we),it),Le-=we,it+=we}while(Le>0)}catch(Le){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Le)}finally{M.pstack.restore(ie)}return ee}M.exports.sqlite3_randomness(...H)};let st;if(C.sqlite3_wasmfs_opfs_dir=function(){if(st!==void 0)return st;const H=N.wasmfsOpfsDir;if(!H||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return st="";try{return H&&M.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],H)===0?st=H:st=""}catch{return st=""}},C.sqlite3_wasmfs_filename_is_persistent=function(H){const ee=C.sqlite3_wasmfs_opfs_dir();return ee&&H?H.startsWith(ee+"/"):!1},C.sqlite3_js_db_uses_vfs=function(H,ee,ie=0){try{const Le=C.sqlite3_vfs_find(ee);return Le?H?Le===C.sqlite3_js_db_vfs(H,ie)?Le:!1:Le===C.sqlite3_vfs_find(0)?Le:!1:!1}catch{return!1}},C.sqlite3_js_vfs_list=function(){const H=[];let ee=C.sqlite3_vfs_find(0);for(;ee;){const ie=new C.sqlite3_vfs(ee);H.push(M.cstrToJs(ie.$zName)),ee=ie.$pNext,ie.dispose()}return H},C.sqlite3_js_db_export=function(H,ee=0){H=M.xWrap.testConvertArg("sqlite3*",H),H||Ye("Invalid sqlite3* argument."),M.bigIntEnabled||Ye("BigInt64 support is not enabled.");const ie=M.scopedAllocPush();let Le;try{const it=M.scopedAlloc(8+M.ptrSizeof),Tt=it+8,$t=ee?M.isPtr(ee)?ee:M.scopedAllocCString(""+ee):0;let Kt=M.exports.sqlite3__wasm_db_serialize(H,$t,Tt,it,0);Kt&&Ye("Database serialization failed with code",fe.capi.sqlite3_js_rc_str(Kt)),Le=M.peekPtr(Tt);const ct=M.peek(it,"i64");return Kt=ct?M.heap8u().slice(Le,Le+Number(ct)):new Uint8Array,Kt}finally{Le&&M.exports.sqlite3_free(Le),M.scopedAllocPop(ie)}},C.sqlite3_js_db_vfs=(H,ee=0)=>Ee.sqlite3__wasm_db_vfs(H,ee),C.sqlite3_js_aggregate_context=(H,ee)=>C.sqlite3_aggregate_context(H,ee)||(ee?le.toss("Cannot allocate",ee,"bytes for sqlite3_aggregate_context()"):0),C.sqlite3_js_posix_create_file=function(H,ee,ie){let Le;ee&&M.isPtr(ee)?Le=ee:ee instanceof ArrayBuffer||ee instanceof Uint8Array?(Le=M.allocFromTypedArray(ee),(arguments.length<3||!Ee.isInt32(ie)||ie<0)&&(ie=ee.byteLength)):He.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!Ee.isInt32(ie)||ie<0)&&He.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const it=Ee.sqlite3__wasm_posix_create_file(H,Le,ie);it&&He.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(it))}finally{M.dealloc(Le)}},C.sqlite3_js_vfs_create_file=function(H,ee,ie,Le){N.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let it;ie?(M.isPtr(ie)?it=ie:ie instanceof ArrayBuffer&&(ie=new Uint8Array(ie)),ie instanceof Uint8Array?(it=M.allocFromTypedArray(ie),(arguments.length<4||!Ee.isInt32(Le)||Le<0)&&(Le=ie.byteLength)):He.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):it=0,(!Ee.isInt32(Le)||Le<0)&&(M.dealloc(it),He.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Tt=Ee.sqlite3__wasm_vfs_create_file(H,ee,it,Le);Tt&&He.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(Tt))}finally{M.dealloc(it)}},C.sqlite3_js_sql_to_string=H=>{if(typeof H=="string")return H;const ee=J(v);return ee===v?void 0:ee},Ee.isUIThread()){const H=function(ee){const ie=Object.create(null);return ie.prefix="kvvfs-"+ee,ie.stores=[],(ee==="session"||ee==="")&&ie.stores.push(globalThis.sessionStorage),(ee==="local"||ee==="")&&ie.stores.push(globalThis.localStorage),ie};C.sqlite3_js_kvvfs_clear=function(ee=""){let ie=0;const Le=H(ee);return Le.stores.forEach(it=>{const Tt=[];let $t;for($t=0;$t<it.length;++$t){const Kt=it.key($t);Kt.startsWith(Le.prefix)&&Tt.push(Kt)}Tt.forEach(Kt=>it.removeItem(Kt)),ie+=Tt.length}),ie},C.sqlite3_js_kvvfs_size=function(ee=""){let ie=0;const Le=H(ee);return Le.stores.forEach(it=>{let Tt;for(Tt=0;Tt<it.length;++Tt){const $t=it.key(Tt);$t.startsWith(Le.prefix)&&(ie+=$t.length,ie+=it.getItem($t).length)}}),ie*2}}C.sqlite3_db_config=function(H,ee,...ie){switch(this.s||(this.s=M.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=M.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=M.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),ee){case C.SQLITE_DBCONFIG_ENABLE_FKEY:case C.SQLITE_DBCONFIG_ENABLE_TRIGGER:case C.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case C.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case C.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case C.SQLITE_DBCONFIG_ENABLE_QPSG:case C.SQLITE_DBCONFIG_TRIGGER_EQP:case C.SQLITE_DBCONFIG_RESET_DATABASE:case C.SQLITE_DBCONFIG_DEFENSIVE:case C.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case C.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case C.SQLITE_DBCONFIG_DQS_DML:case C.SQLITE_DBCONFIG_DQS_DDL:case C.SQLITE_DBCONFIG_ENABLE_VIEW:case C.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case C.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case C.SQLITE_DBCONFIG_STMT_SCANSTATUS:case C.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(H,ee,ie[0],ie[1]||0);case C.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(H,ee,ie[0],ie[1],ie[2]);case C.SQLITE_DBCONFIG_MAINDBNAME:return this.s(H,ee,ie[0]);default:return C.SQLITE_MISUSE}}.bind(Object.create(null)),C.sqlite3_value_to_js=function(H,ee=!0){let ie;const Le=C.sqlite3_value_type(H);switch(Le){case C.SQLITE_INTEGER:M.bigIntEnabled?(ie=C.sqlite3_value_int64(H),Ee.bigIntFitsDouble(ie)&&(ie=Number(ie))):ie=C.sqlite3_value_double(H);break;case C.SQLITE_FLOAT:ie=C.sqlite3_value_double(H);break;case C.SQLITE_TEXT:ie=C.sqlite3_value_text(H);break;case C.SQLITE_BLOB:{const it=C.sqlite3_value_bytes(H),Tt=C.sqlite3_value_blob(H);it&&!Tt&&fe.WasmAllocError.toss("Cannot allocate memory for blob argument of",it,"byte(s)"),ie=it?M.heap8u().slice(Tt,Tt+Number(it)):null;break}case C.SQLITE_NULL:ie=null;break;default:ee&&Ye(C.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Le),ie=void 0}return ie},C.sqlite3_values_to_js=function(H,ee,ie=!0){let Le;const it=[];for(Le=0;Le<H;++Le)it.push(C.sqlite3_value_to_js(M.peekPtr(ee+M.ptrSizeof*Le),ie));return it},C.sqlite3_result_error_js=function(H,ee){ee instanceof le?C.sqlite3_result_error_nomem(H):C.sqlite3_result_error(H,""+ee,-1)},C.sqlite3_result_js=function(H,ee){if(ee instanceof Error){C.sqlite3_result_error_js(H,ee);return}try{switch(typeof ee){case"undefined":break;case"boolean":C.sqlite3_result_int(H,ee?1:0);break;case"bigint":Ee.bigIntFits32(ee)?C.sqlite3_result_int(H,Number(ee)):Ee.bigIntFitsDouble(ee)?C.sqlite3_result_double(H,Number(ee)):M.bigIntEnabled?Ee.bigIntFits64(ee)?C.sqlite3_result_int64(H,ee):Ye("BigInt value",ee.toString(),"is too BigInt for int64."):Ye("BigInt value",ee.toString(),"is too BigInt.");break;case"number":{let ie;Ee.isInt32(ee)?ie=C.sqlite3_result_int:M.bigIntEnabled&&Number.isInteger(ee)&&Ee.bigIntFits64(BigInt(ee))?ie=C.sqlite3_result_int64:ie=C.sqlite3_result_double,ie(H,ee);break}case"string":{const[ie,Le]=M.allocCString(ee,!0);C.sqlite3_result_text(H,ie,Le,C.SQLITE_WASM_DEALLOC);break}case"object":if(ee===null){C.sqlite3_result_null(H);break}else if(Ee.isBindableTypedArray(ee)){const ie=M.allocFromTypedArray(ee);C.sqlite3_result_blob(H,ie,ee.byteLength,C.SQLITE_WASM_DEALLOC);break}default:Ye("Don't not how to handle this UDF result value:",typeof ee,ee)}}catch(ie){C.sqlite3_result_error_js(H,ie)}},C.sqlite3_column_js=function(H,ee,ie=!0){const Le=C.sqlite3_column_value(H,ee);return Le===0?void 0:C.sqlite3_value_to_js(Le,ie)};const se=function(H,ee,ie){ie=C[ie],this.ptr?M.pokePtr(this.ptr,0):this.ptr=M.allocPtr();const Le=ie(H,ee,this.ptr);if(Le)return He.toss(Le,arguments[2]+"() failed with code "+Le);const it=M.peekPtr(this.ptr);return it?C.sqlite3_value_to_js(it,!0):void 0}.bind(Object.create(null));C.sqlite3_preupdate_new_js=(H,ee)=>se(H,ee,"sqlite3_preupdate_new"),C.sqlite3_preupdate_old_js=(H,ee)=>se(H,ee,"sqlite3_preupdate_old"),C.sqlite3changeset_new_js=(H,ee)=>se(H,ee,"sqlite3changeset_new"),C.sqlite3changeset_old_js=(H,ee)=>se(H,ee,"sqlite3changeset_old");const fe={WasmAllocError:le,SQLite3Error:He,capi:C,util:Ee,wasm:M,config:N,version:Object.create(null),client:void 0,asyncPostInit:async function H(){if(H.isReady instanceof Promise)return H.isReady;let ee=y.initializersAsync;delete y.initializersAsync;const ie=async()=>(fe.__isUnderTest||(delete fe.util,delete fe.StructBinder),fe),Le=Tt=>{throw N.error("an async sqlite3 initializer failed:",Tt),Tt};if(!ee||!ee.length)return H.isReady=ie().catch(Le);ee=ee.map(Tt=>Tt instanceof Function?async $t=>Tt(fe):Tt),ee.push(ie);let it=Promise.resolve(fe);for(;ee.length;)it=it.then(ee.shift());return H.isReady=it.catch(Le)},scriptInfo:void 0};try{y.initializers.forEach(H=>{H(fe)})}catch(H){throw console.error("sqlite3 bootstrap initializer threw:",H),H}return delete y.initializers,y.sqlite3=fe,fe},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(y){y.bigIntEnabled===void 0&&(y.bigIntEnabled=!!globalThis.BigInt64Array);const S=(...J)=>{throw new Error(J.join(" "))};y.exports||Object.defineProperty(y,"exports",{enumerable:!0,configurable:!0,get:()=>y.instance&&y.instance.exports});const N=y.pointerIR||"i32",C=y.ptrSizeof=N==="i32"?4:N==="i64"?8:S("Unhandled ptrSizeof:",N),M=Object.create(null);M.heapSize=0,M.memory=null,M.freeFuncIndexes=[],M.scopedAlloc=[],M.utf8Decoder=new TextDecoder,M.utf8Encoder=new TextEncoder("utf-8"),y.sizeofIR=J=>{switch(J){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return C;default:return(""+J).endsWith("*")?C:void 0}};const de=function(){if(!M.memory)M.memory=y.memory instanceof WebAssembly.Memory?y.memory:y.exports.memory;else if(M.heapSize===M.memory.buffer.byteLength)return M;const J=M.memory.buffer;return M.HEAP8=new Int8Array(J),M.HEAP8U=new Uint8Array(J),M.HEAP16=new Int16Array(J),M.HEAP16U=new Uint16Array(J),M.HEAP32=new Int32Array(J),M.HEAP32U=new Uint32Array(J),y.bigIntEnabled&&(M.HEAP64=new BigInt64Array(J),M.HEAP64U=new BigUint64Array(J)),M.HEAP32F=new Float32Array(J),M.HEAP64F=new Float64Array(J),M.heapSize=J.byteLength,M};y.heap8=()=>de().HEAP8,y.heap8u=()=>de().HEAP8U,y.heap16=()=>de().HEAP16,y.heap16u=()=>de().HEAP16U,y.heap32=()=>de().HEAP32,y.heap32u=()=>de().HEAP32U,y.heapForSize=function(J,le=!0){const Ee=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:de();switch(J){case Int8Array:return Ee.HEAP8;case Uint8Array:return Ee.HEAP8U;case Int16Array:return Ee.HEAP16;case Uint16Array:return Ee.HEAP16U;case Int32Array:return Ee.HEAP32;case Uint32Array:return Ee.HEAP32U;case 8:return le?Ee.HEAP8U:Ee.HEAP8;case 16:return le?Ee.HEAP16U:Ee.HEAP16;case 32:return le?Ee.HEAP32U:Ee.HEAP32;case 64:if(Ee.HEAP64)return le?Ee.HEAP64U:Ee.HEAP64;break;default:if(y.bigIntEnabled){if(J===globalThis.BigUint64Array)return Ee.HEAP64U;if(J===globalThis.BigInt64Array)return Ee.HEAP64;break}}S("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},y.functionTable=function(){return y.exports.__indirect_function_table},y.functionEntry=function(J){const le=y.functionTable();return J<le.length?le.get(J):void 0},y.jsFuncToWasm=function J(le,Ee){if(J._||(J._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(fe,H,ee){ee<128?fe[H](ee):fe[H](ee%128|128,ee>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(fe){const H=J._.rxJSig.exec(fe);return H?H[2]:fe.substr(1)},letterType:fe=>J._.sigTypes[fe]||S("Invalid signature letter:",fe),pushSigType:(fe,H)=>fe.push(J._.typeCodes[J._.letterType(H)])}),typeof le=="string"){const fe=Ee;Ee=le,le=fe}const st=J._.sigParams(Ee),se=[1,96];J._.uleb128Encode(se,"push",st.length);for(const fe of st)J._.pushSigType(se,fe);return Ee[0]==="v"?se.push(0):(se.push(1),J._.pushSigType(se,Ee[0])),J._.uleb128Encode(se,"unshift",se.length),se.unshift(0,97,115,109,1,0,0,0,1),se.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(se)),{e:{f:le}}).exports.f};const me=function(le,Ee,st){if(st&&!M.scopedAlloc.length&&S("No scopedAllocPush() scope is active."),typeof le=="string"){const ee=Ee;Ee=le,le=ee}(typeof Ee!="string"||!(le instanceof Function))&&S("Invalid arguments: expecting (function,signature) or (signature,function).");const se=y.functionTable(),fe=se.length;let H;for(;M.freeFuncIndexes.length&&(H=M.freeFuncIndexes.pop(),se.get(H));){H=null;continue}H||(H=fe,se.grow(1));try{return se.set(H,le),st&&M.scopedAlloc[M.scopedAlloc.length-1].push(H),H}catch(ee){if(!(ee instanceof TypeError))throw H===fe&&M.freeFuncIndexes.push(fe),ee}try{const ee=y.jsFuncToWasm(le,Ee);se.set(H,ee),st&&M.scopedAlloc[M.scopedAlloc.length-1].push(H)}catch(ee){throw H===fe&&M.freeFuncIndexes.push(fe),ee}return H};y.installFunction=(J,le)=>me(J,le,!1),y.scopedInstallFunction=(J,le)=>me(J,le,!0),y.uninstallFunction=function(J){if(!J&&J!==0)return;const le=M.freeFuncIndexes,Ee=y.functionTable();le.push(J);const st=Ee.get(J);return Ee.set(J,null),st},y.peek=function(le,Ee="i8"){Ee.endsWith("*")&&(Ee=N);const st=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:de(),se=Array.isArray(le)?[]:void 0;let fe;do{switch(se&&(le=arguments[0].shift()),Ee){case"i1":case"i8":fe=st.HEAP8[le>>0];break;case"i16":fe=st.HEAP16[le>>1];break;case"i32":fe=st.HEAP32[le>>2];break;case"float":case"f32":fe=st.HEAP32F[le>>2];break;case"double":case"f64":fe=Number(st.HEAP64F[le>>3]);break;case"i64":if(y.bigIntEnabled){fe=BigInt(st.HEAP64[le>>3]);break}default:S("Invalid type for peek():",Ee)}se&&se.push(fe)}while(se&&arguments[0].length);return se||fe},y.poke=function(J,le,Ee="i8"){Ee.endsWith("*")&&(Ee=N);const st=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:de();for(const se of Array.isArray(J)?J:[J])switch(Ee){case"i1":case"i8":st.HEAP8[se>>0]=le;continue;case"i16":st.HEAP16[se>>1]=le;continue;case"i32":st.HEAP32[se>>2]=le;continue;case"float":case"f32":st.HEAP32F[se>>2]=le;continue;case"double":case"f64":st.HEAP64F[se>>3]=le;continue;case"i64":if(st.HEAP64){st.HEAP64[se>>3]=BigInt(le);continue}default:S("Invalid type for poke(): "+Ee)}return this},y.peekPtr=(...J)=>y.peek(J.length===1?J[0]:J,N),y.pokePtr=(J,le=0)=>y.poke(J,le,N),y.peek8=(...J)=>y.peek(J.length===1?J[0]:J,"i8"),y.poke8=(J,le)=>y.poke(J,le,"i8"),y.peek16=(...J)=>y.peek(J.length===1?J[0]:J,"i16"),y.poke16=(J,le)=>y.poke(J,le,"i16"),y.peek32=(...J)=>y.peek(J.length===1?J[0]:J,"i32"),y.poke32=(J,le)=>y.poke(J,le,"i32"),y.peek64=(...J)=>y.peek(J.length===1?J[0]:J,"i64"),y.poke64=(J,le)=>y.poke(J,le,"i64"),y.peek32f=(...J)=>y.peek(J.length===1?J[0]:J,"f32"),y.poke32f=(J,le)=>y.poke(J,le,"f32"),y.peek64f=(...J)=>y.peek(J.length===1?J[0]:J,"f64"),y.poke64f=(J,le)=>y.poke(J,le,"f64"),y.getMemValue=y.peek,y.getPtrValue=y.peekPtr,y.setMemValue=y.poke,y.setPtrValue=y.pokePtr,y.isPtr32=J=>typeof J=="number"&&J===(J|0)&&J>=0,y.isPtr=y.isPtr32,y.cstrlen=function(J){if(!J||!y.isPtr(J))return null;const le=de().HEAP8U;let Ee=J;for(;le[Ee]!==0;++Ee);return Ee-J};const He=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ye=function(J,le,Ee){return M.utf8Decoder.decode(J.buffer instanceof He?J.slice(le,Ee):J.subarray(le,Ee))};y.cstrToJs=function(J){const le=y.cstrlen(J);return le?Ye(de().HEAP8U,J,J+le):le===null?le:""},y.jstrlen=function(J){if(typeof J!="string")return null;const le=J.length;let Ee=0;for(let st=0;st<le;++st){let se=J.charCodeAt(st);se>=55296&&se<=57343&&(se=65536+((se&1023)<<10)|J.charCodeAt(++st)&1023),se<=127?++Ee:se<=2047?Ee+=2:se<=65535?Ee+=3:Ee+=4}return Ee},y.jstrcpy=function(J,le,Ee=0,st=-1,se=!0){if((!le||!(le instanceof Int8Array)&&!(le instanceof Uint8Array))&&S("jstrcpy() target must be an Int8Array or Uint8Array."),st<0&&(st=le.length-Ee),!(st>0)||!(Ee>=0))return 0;let fe=0,H=J.length;const ee=Ee,ie=Ee+st-(se?1:0);for(;fe<H&&Ee<ie;++fe){let Le=J.charCodeAt(fe);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|J.charCodeAt(++fe)&1023),Le<=127){if(Ee>=ie)break;le[Ee++]=Le}else if(Le<=2047){if(Ee+1>=ie)break;le[Ee++]=192|Le>>6,le[Ee++]=128|Le&63}else if(Le<=65535){if(Ee+2>=ie)break;le[Ee++]=224|Le>>12,le[Ee++]=128|Le>>6&63,le[Ee++]=128|Le&63}else{if(Ee+3>=ie)break;le[Ee++]=240|Le>>18,le[Ee++]=128|Le>>12&63,le[Ee++]=128|Le>>6&63,le[Ee++]=128|Le&63}}return se&&(le[Ee++]=0),Ee-ee},y.cstrncpy=function(J,le,Ee){if((!J||!le)&&S("cstrncpy() does not accept NULL strings."),Ee<0)Ee=y.cstrlen(strPtr)+1;else if(!(Ee>0))return 0;const st=y.heap8u();let se=0,fe;for(;se<Ee&&(fe=st[le+se]);++se)st[J+se]=fe;return se<Ee&&(st[J+se++]=0),se},y.jstrToUintArray=(J,le=!1)=>M.utf8Encoder.encode(le?J+"\0":J);const lt=(J,le)=>{(!(J.alloc instanceof Function)||!(J.dealloc instanceof Function))&&S("Object is missing alloc() and/or dealloc() function(s)","required by",le+"().")},mt=function(J,le,Ee,st){if(lt(y,st),typeof J!="string")return null;{const se=M.utf8Encoder.encode(J),fe=Ee(se.length+1),H=de().HEAP8U;return H.set(se,fe),H[fe+se.length]=0,le?[fe,se.length]:fe}};y.allocCString=(J,le=!1)=>mt(J,le,y.alloc,"allocCString()"),y.scopedAllocPush=function(){lt(y,"scopedAllocPush");const J=[];return M.scopedAlloc.push(J),J},y.scopedAllocPop=function(J){lt(y,"scopedAllocPop");const le=arguments.length?M.scopedAlloc.indexOf(J):M.scopedAlloc.length-1;le<0&&S("Invalid state object for scopedAllocPop()."),arguments.length===0&&(J=M.scopedAlloc[le]),M.scopedAlloc.splice(le,1);for(let Ee;Ee=J.pop();)y.functionEntry(Ee)?y.uninstallFunction(Ee):y.dealloc(Ee)},y.scopedAlloc=function(J){M.scopedAlloc.length||S("No scopedAllocPush() scope is active.");const le=y.alloc(J);return M.scopedAlloc[M.scopedAlloc.length-1].push(le),le},Object.defineProperty(y.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>M.scopedAlloc.length,set:()=>S("The 'active' property is read-only.")}),y.scopedAllocCString=(J,le=!1)=>mt(J,le,y.scopedAlloc,"scopedAllocCString()");const Be=function(J,le){const Ee=y[J?"scopedAlloc":"alloc"]((le.length+1)*y.ptrSizeof);let st=0;return le.forEach(se=>{y.pokePtr(Ee+y.ptrSizeof*st++,y[J?"scopedAllocCString":"allocCString"](""+se))}),y.pokePtr(Ee+y.ptrSizeof*st,0),Ee};y.scopedAllocMainArgv=J=>Be(!0,J),y.allocMainArgv=J=>Be(!1,J),y.cArgvToJs=(J,le)=>{const Ee=[];for(let st=0;st<J;++st){const se=y.peekPtr(le+y.ptrSizeof*st);Ee.push(se?y.cstrToJs(se):null)}return Ee},y.scopedAllocCall=function(J){y.scopedAllocPush();try{return J()}finally{y.scopedAllocPop()}};const qe=function(J,le,Ee){lt(y,Ee);const st=le?"i64":N;let se=y[Ee](J*(le?8:C));if(y.poke(se,0,st),J===1)return se;const fe=[se];for(let H=1;H<J;++H)se+=le?8:C,fe[H]=se,y.poke(se,0,st);return fe};y.allocPtr=(J=1,le=!0)=>qe(J,le,"alloc"),y.scopedAllocPtr=(J=1,le=!0)=>qe(J,le,"scopedAlloc"),y.xGet=function(J){return y.exports[J]||S("Cannot find exported symbol:",J)};const Je=(J,le)=>S(J+"() requires",le,"argument(s).");y.xCall=function(J,...le){const Ee=J instanceof Function?J:y.xGet(J);return Ee instanceof Function||S("Exported symbol",J,"is not a function."),Ee.length!==le.length&&Je(Ee===J?Ee.name:J,Ee.length),arguments.length===2&&Array.isArray(arguments[1])?Ee.apply(null,arguments[1]):Ee.apply(null,le)},M.xWrap=Object.create(null),M.xWrap.convert=Object.create(null),M.xWrap.convert.arg=new Map,M.xWrap.convert.result=new Map;const xe=M.xWrap.convert.arg,ke=M.xWrap.convert.result;y.bigIntEnabled&&xe.set("i64",J=>BigInt(J));const Te=N==="i32"?J=>J|0:J=>BigInt(J)|BigInt(0);xe.set("i32",Te).set("i16",J=>(J|0)&65535).set("i8",J=>(J|0)&255).set("f32",J=>Number(J).valueOf()).set("float",xe.get("f32")).set("f64",xe.get("f32")).set("double",xe.get("f64")).set("int",xe.get("i32")).set("null",J=>J).set(null,xe.get("null")).set("**",Te).set("*",Te),ke.set("*",Te).set("pointer",Te).set("number",J=>Number(J)).set("void",J=>{}).set("null",J=>J).set(null,ke.get("null"));{const J=["i8","i16","i32","int","f32","float","f64","double"];y.bigIntEnabled&&J.push("i64");const le=xe.get(N);for(const Ee of J)xe.set(Ee+"*",le),ke.set(Ee+"*",le),ke.set(Ee,xe.get(Ee)||S("Missing arg converter:",Ee))}const Ge=function(J){return typeof J=="string"?y.scopedAllocCString(J):J?Te(J):null};xe.set("string",Ge).set("utf8",Ge).set("pointer",Ge),ke.set("string",J=>y.cstrToJs(J)).set("utf8",ke.get("string")).set("string:dealloc",J=>{try{return J?y.cstrToJs(J):null}finally{y.dealloc(J)}}).set("utf8:dealloc",ke.get("string:dealloc")).set("json",J=>JSON.parse(y.cstrToJs(J))).set("json:dealloc",J=>{try{return J?JSON.parse(y.cstrToJs(J)):null}finally{y.dealloc(J)}});const Ke=class{constructor(J){this.name=J.name||"unnamed adapter"}convertArg(J,le,Ee){S("AbstractArgAdapter must be subclassed.")}};xe.FuncPtrAdapter=class Na extends Ke{constructor(le){super(le),xe.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",le),this.name=le.name||"unnamed",this.signature=le.signature,le.contextKey instanceof Function&&(this.contextKey=le.contextKey,le.bindScope||(le.bindScope="context")),this.bindScope=le.bindScope||S("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Na.bindScopes.indexOf(le.bindScope)<0&&S("Invalid options.bindScope ("+le.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Na.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=le.callProxy instanceof Function?le.callProxy:void 0}contextKey(le,Ee){return this}contextMap(le){const Ee=this.__cmap||(this.__cmap=new Map);let st=Ee.get(le);return st===void 0&&Ee.set(le,st=[]),st}convertArg(le,Ee,st){let se=this.singleton;if(!se&&this.isContext&&(se=this.contextMap(this.contextKey(Ee,st))),se&&se[0]===le)return se[1];if(le instanceof Function){this.callProxy&&(le=this.callProxy(le));const fe=me(le,this.signature,this.isTransient);if(Na.debugFuncInstall&&Na.debugOut("FuncPtrAdapter installed",this,this.contextKey(Ee,st),"@"+fe,le),se){if(se[1]){Na.debugFuncInstall&&Na.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+se[1],le);try{M.scopedAlloc[M.scopedAlloc.length-1].push(se[1])}catch{}}se[0]=le,se[1]=fe}return fe}else if(y.isPtr(le)||le===null||le===void 0){if(se&&se[1]&&se[1]!==le){Na.debugFuncInstall&&Na.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+se[1],le);try{M.scopedAlloc[M.scopedAlloc.length-1].push(se[1])}catch{}se[0]=se[1]=le|0}return le||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},xe.FuncPtrAdapter.warnOnUse=!1,xe.FuncPtrAdapter.debugFuncInstall=!1,xe.FuncPtrAdapter.debugOut=console.debug.bind(console),xe.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Oe=J=>xe.get(J)||S("Argument adapter not found:",J),Qe=J=>ke.get(J)||S("Result adapter not found:",J);M.xWrap.convertArg=(J,...le)=>Oe(J)(...le),M.xWrap.convertArgNoCheck=(J,...le)=>xe.get(J)(...le),M.xWrap.convertResult=(J,le)=>J===null?le:J?Qe(J)(le):void 0,M.xWrap.convertResultNoCheck=(J,le)=>J===null?le:J?ke.get(J)(le):void 0,y.xWrap=function(J,le,...Ee){arguments.length===3&&Array.isArray(arguments[2])&&(Ee=arguments[2]),y.isPtr(J)&&(J=y.functionEntry(J)||S("Function pointer not found in WASM function table."));const st=J instanceof Function,se=st?J:y.xGet(J);if(st&&(J=se.name||"unnamed function"),Ee.length!==se.length&&Je(J,se.length),le===null&&se.length===0)return se;le!=null&&Qe(le);for(const H of Ee)H instanceof Ke?xe.set(H,(...ee)=>H.convertArg(...ee)):Oe(H);const fe=M.xWrap;return se.length===0?(...H)=>H.length?Je(J,se.length):fe.convertResult(le,se.call(null)):function(...H){H.length!==se.length&&Je(J,se.length);const ee=y.scopedAllocPush();try{let ie=0;for(;ie<H.length;++ie)H[ie]=fe.convertArgNoCheck(Ee[ie],H[ie],H,ie);return fe.convertResultNoCheck(le,se.apply(null,H))}finally{y.scopedAllocPop(ee)}}};const wt=function(J,le,Ee,st,se,fe){if(typeof Ee=="string"){if(le===1)return fe.get(Ee);if(le===2){if(st)st instanceof Function||S(se,"requires a function argument.");else return delete fe.get(Ee),J;return fe.set(Ee,st),J}}S("Invalid arguments to",se)};return y.xWrap.resultAdapter=function J(le,Ee){return wt(J,arguments.length,le,Ee,"resultAdapter()",ke)},y.xWrap.argAdapter=function J(le,Ee){return wt(J,arguments.length,le,Ee,"argAdapter()",xe)},y.xWrap.FuncPtrAdapter=xe.FuncPtrAdapter,y.xCallWrapped=function(J,le,Ee,...st){return Array.isArray(arguments[3])&&(st=arguments[3]),y.xWrap(J,le,Ee||[]).apply(null,st||[])},y.xWrap.testConvertArg=M.xWrap.convertArg,y.xWrap.testConvertResult=M.xWrap.convertResult,y},globalThis.WhWasmUtilInstaller.yawl=function(y){const S=()=>fetch(y.uri,{credentials:"same-origin"}),N=this,C=function(de){if(y.wasmUtilTarget){const me=(...Ye)=>{throw new Error(Ye.join(" "))},He=y.wasmUtilTarget;if(He.module=de.module,He.instance=de.instance,He.instance.exports.memory||(He.memory=y.imports&&y.imports.env&&y.imports.env.memory||me("Missing 'memory' object!")),!He.alloc&&de.instance.exports.malloc){const Ye=de.instance.exports;He.alloc=function(lt){return Ye.malloc(lt)||me("Allocation of",lt,"bytes failed.")},He.dealloc=function(lt){Ye.free(lt)}}N(He)}return y.onload&&y.onload(de,y),de};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(S(),y.imports||{}).then(C)}:function(){return S().then(me=>me.arrayBuffer()).then(me=>WebAssembly.instantiate(me,y.imports||{})).then(C)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function y(S){const N=(...ze)=>{throw new Error(ze.join(" "))};!(S.heap instanceof WebAssembly.Memory)&&!(S.heap instanceof Function)&&N("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(ze){S[ze]instanceof Function||N("Config option '"+ze+"' must be a function.")});const C=y,M=S.heap instanceof Function?S.heap:()=>new Uint8Array(S.heap.buffer),de=S.alloc,me=S.dealloc,He=S.log||console.log.bind(console),Ye=S.memberPrefix||"",lt=S.memberSuffix||"",mt=S.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!S.bigIntEnabled,Be=globalThis.BigInt,qe=globalThis.BigInt64Array,Je=S.ptrSizeof||4,xe=S.ptrIR||"i32";C.debugFlags||(C.__makeDebugFlags=function(ze=null){ze&&ze.__flags&&(ze=ze.__flags);const vt=function _t(Nt){return arguments.length===0?_t.__flags:(Nt<0?(delete _t.__flags.getter,delete _t.__flags.setter,delete _t.__flags.alloc,delete _t.__flags.dealloc):(_t.__flags.getter=(1&Nt)!==0,_t.__flags.setter=(2&Nt)!==0,_t.__flags.alloc=(4&Nt)!==0,_t.__flags.dealloc=(8&Nt)!==0),_t._flags)};return Object.defineProperty(vt,"__flags",{iterable:!1,writable:!1,value:Object.create(ze)}),ze||vt(0),vt},C.debugFlags=C.__makeDebugFlags());const ke=function(){const ze=new ArrayBuffer(2);return new DataView(ze).setInt16(0,256,!0),new Int16Array(ze)[0]===256}(),Te=ze=>ze[1]==="(",Ge=ze=>ze==="P",Ke=ze=>Te(ze)?"p":ze[0],Oe=function(ze){switch(Ke(ze)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return xe;case"j":return"i64";case"f":return"float";case"d":return"double"}N("Unhandled signature IR:",ze)},Qe=qe?()=>!0:()=>N("BigInt64Array is not available."),wt=function(ze){switch(Ke(ze)){case"p":case"P":case"s":{switch(Je){case 4:return"getInt32";case 8:return Qe()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Qe()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}N("Unhandled DataView getter for signature:",ze)},J=function(ze){switch(Ke(ze)){case"p":case"P":case"s":{switch(Je){case 4:return"setInt32";case 8:return Qe()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Qe()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}N("Unhandled DataView setter for signature:",ze)},le=function(ze){switch(Ke(ze)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Qe()&&Be;case"p":case"P":case"s":switch(Je){case 4:return Number;case 8:return Qe()&&Be}break}N("Unhandled DataView set wrapper for signature:",ze)},Ee=(ze,vt)=>ze+"::"+vt,st=function(ze,vt){return()=>N(Ee(ze,vt),"is read-only.")},se=new WeakMap,fe="(pointer-is-external)",H=function(ze,vt,_t){if(_t||(_t=se.get(vt)),_t){if(se.delete(vt),Array.isArray(vt.ondispose)){let Nt;for(;Nt=vt.ondispose.shift();)try{Nt instanceof Function?Nt.call(vt):Nt instanceof Mt?Nt.dispose():typeof Nt=="number"&&me(Nt)}catch(hn){console.warn("ondispose() for",ze.structName,"@",_t,"threw. NOT propagating it.",hn)}}else if(vt.ondispose instanceof Function)try{vt.ondispose()}catch(Nt){console.warn("ondispose() for",ze.structName,"@",_t,"threw. NOT propagating it.",Nt)}delete vt.ondispose,ze.debugFlags.__flags.dealloc&&He("debug.dealloc:",vt[fe]?"EXTERNAL":"",ze.structName,"instance:",ze.structInfo.sizeof,"bytes @"+_t),vt[fe]||me(_t)}},ee=ze=>({configurable:!1,writable:!1,iterable:!1,value:ze}),ie=function(ze,vt,_t){let Nt=!_t;_t?Object.defineProperty(vt,fe,ee(_t)):(_t=de(ze.structInfo.sizeof),_t||N("Allocation of",ze.structName,"structure failed."));try{ze.debugFlags.__flags.alloc&&He("debug.alloc:",Nt?"":"EXTERNAL",ze.structName,"instance:",ze.structInfo.sizeof,"bytes @"+_t),Nt&&M().fill(0,_t,_t+ze.structInfo.sizeof),se.set(vt,_t)}catch(hn){throw H(ze,vt,_t),hn}},Le=function(){const ze=this.pointer;return ze?new Uint8Array(M().slice(ze,ze+this.structInfo.sizeof)):null},Tt=ee(ze=>Ye+ze+lt),$t=function(ze,vt,_t=!0){let Nt=ze.members[vt];if(!Nt&&(Ye||lt)){for(const hn of Object.values(ze.members))if(hn.key===vt){Nt=hn;break}!Nt&&_t&&N(Ee(ze.name,vt),"is not a mapped struct member.")}return Nt},Kt=function ze(vt,_t,Nt=!1){ze._||(ze._=$n=>$n.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const hn=$t(vt.structInfo,_t,!0);return Nt?ze._(hn.signature):hn.signature},ct={configurable:!1,enumerable:!1,get:function(){return se.get(this)},set:()=>N("Cannot assign the 'pointer' property of a struct.")},we=ee(function(){const ze=[];for(const vt of Object.keys(this.structInfo.members))ze.push(this.memberKey(vt));return ze}),je=new TextDecoder("utf-8"),at=new TextEncoder,ht=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Pt=function(ze,vt,_t){return je.decode(ze.buffer instanceof ht?ze.slice(vt,_t):ze.subarray(vt,_t))},Zt=function(ze,vt,_t=!1){const Nt=$t(ze.structInfo,vt,_t);return Nt&&Nt.signature.length===1&&Nt.signature[0]==="s"?Nt:!1},Ae=function(ze){ze.signature!=="s"&&N("Invalid member type signature for C-string value:",JSON.stringify(ze))},tt=function(vt,_t){const Nt=$t(vt.structInfo,_t,!0);Ae(Nt);const hn=vt[Nt.key];if(!hn)return null;let $n=hn;const Fn=M();for(;Fn[$n]!==0;++$n);return hn===$n?"":Pt(Fn,hn,$n)},dt=function(ze,...vt){ze.ondispose?Array.isArray(ze.ondispose)||(ze.ondispose=[ze.ondispose]):ze.ondispose=[],ze.ondispose.push(...vt)},Et=function(ze){const vt=at.encode(ze),_t=de(vt.length+1);_t||N("Allocation error while duplicating string:",ze);const Nt=M();return Nt.set(vt,_t),Nt[_t+vt.length]=0,_t},xt=function(ze,vt,_t){const Nt=$t(ze.structInfo,vt,!0);Ae(Nt);const hn=Et(_t);return ze[Nt.key]=hn,dt(ze,hn),ze},Mt=function(vt,_t){arguments[2]!==ee&&N("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:ee(vt),structInfo:ee(_t)})};Mt.prototype=Object.create(null,{dispose:ee(function(){H(this.constructor,this)}),lookupMember:ee(function(ze,vt=!0){return $t(this.structInfo,ze,vt)}),memberToJsString:ee(function(ze){return tt(this,ze)}),memberIsString:ee(function(ze,vt=!0){return Zt(this,ze,vt)}),memberKey:Tt,memberKeys:we,memberSignature:ee(function(ze,vt=!1){return Kt(this,ze,vt)}),memoryDump:ee(Le),pointer:ct,setMemberCString:ee(function(ze,vt){return xt(this,ze,vt)})}),Object.assign(Mt.prototype,{addOnDispose:function(...ze){return dt(this,...ze),this}}),Object.defineProperties(Mt,{allocCString:ee(Et),isA:ee(ze=>ze instanceof Mt),hasExternalPointer:ee(ze=>ze instanceof Mt&&!!ze[fe]),memberKey:Tt});const dn=ze=>Number.isFinite(ze)||ze instanceof(Be||Number),Ot=function ze(vt,_t,Nt){if(!ze._){ze._={getters:{},setters:{},sw:{}};const Yr=["i","c","C","p","P","s","f","d","v()"];mt&&Yr.push("j"),Yr.forEach(function(Cs){ze._.getters[Cs]=wt(Cs),ze._.setters[Cs]=J(Cs),ze._.sw[Cs]=le(Cs)});const Ib=/^[ipPsjfdcC]$/,Cb=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;ze.sigCheck=function(Cs,Tb,om,wf){Object.prototype.hasOwnProperty.call(Cs,om)&&N(Cs.structName,"already has a property named",om+"."),Ib.test(wf)||Cb.test(wf)||N("Malformed signature for",Ee(Cs.structName,Tb)+":",wf)}}const hn=vt.memberKey(_t);ze.sigCheck(vt.prototype,_t,hn,Nt.signature),Nt.key=hn,Nt.name=_t;const $n=Ke(Nt.signature),Fn=Ee(vt.prototype.structName,hn),Mn=vt.prototype.debugFlags.__flags,la=Object.create(null);la.configurable=!1,la.enumerable=!1,la.get=function(){Mn.getter&&He("debug.getter:",ze._.getters[$n],"for",Oe($n),Fn,"@",this.pointer,"+",Nt.offset,"sz",Nt.sizeof);let Yr=new DataView(M().buffer,this.pointer+Nt.offset,Nt.sizeof)[ze._.getters[$n]](0,ke);return Mn.getter&&He("debug.getter:",Fn,"result =",Yr),Yr},Nt.readOnly?la.set=st(vt.prototype.structName,hn):la.set=function(Yr){if(Mn.setter&&He("debug.setter:",ze._.setters[$n],"for",Oe($n),Fn,"@",this.pointer,"+",Nt.offset,"sz",Nt.sizeof,Yr),this.pointer||N("Cannot set struct property on disposed instance."),Yr===null)Yr=0;else for(;!dn(Yr);){if(Ge(Nt.signature)&&Yr instanceof Mt){Yr=Yr.pointer||0,Mn.setter&&He("debug.setter:",Fn,"resolved to",Yr);break}N("Invalid value for pointer-type",Fn+".")}new DataView(M().buffer,this.pointer+Nt.offset,Nt.sizeof)[ze._.setters[$n]](0,ze._.sw[$n](Yr),ke)},Object.defineProperty(vt.prototype,hn,la)},pr=function ze(vt,_t){arguments.length===1?(_t=vt,vt=_t.name):_t.name||(_t.name=vt),vt||N("Struct name is required.");let Nt=!1;Object.keys(_t.members).forEach(Fn=>{const Mn=_t.members[Fn];Mn.sizeof?Mn.sizeof===1?Mn.signature==="c"||Mn.signature==="C"||N("Unexpected sizeof==1 member",Ee(_t.name,Fn),"with signature",Mn.signature):(Mn.sizeof%4!==0&&(console.warn("Invalid struct member description =",Mn,"from",_t),N(vt,"member",Fn,"sizeof is not aligned. sizeof="+Mn.sizeof)),Mn.offset%4!==0&&(console.warn("Invalid struct member description =",Mn,"from",_t),N(vt,"member",Fn,"offset is not aligned. offset="+Mn.offset))):N(vt,"member",Fn,"is missing sizeof."),(!Nt||Nt.offset<Mn.offset)&&(Nt=Mn)}),Nt?_t.sizeof<Nt.offset+Nt.sizeof&&N("Invalid struct config:",vt,"max member offset ("+Nt.offset+") ","extends past end of struct (sizeof="+_t.sizeof+")."):N("No member property descriptions found.");const hn=ee(C.__makeDebugFlags(ze.debugFlags)),$n=function Fn(Mn){this instanceof Fn?arguments.length?((Mn!==(Mn|0)||Mn<=0)&&N("Invalid pointer value for",vt,"constructor."),ie(Fn,this,Mn)):ie(Fn,this):N("The",vt,"constructor may only be called via 'new'.")};return Object.defineProperties($n,{debugFlags:hn,isA:ee(Fn=>Fn instanceof $n),memberKey:Tt,memberKeys:we,methodInfoForKey:ee(function(Fn){}),structInfo:ee(_t),structName:ee(vt)}),$n.prototype=new Mt(vt,_t,ee),Object.defineProperties($n.prototype,{debugFlags:hn,constructor:ee($n)}),Object.keys(_t.members).forEach(Fn=>Ot($n,Fn,_t.members[Fn])),$n};return pr.StructType=Mt,pr.config=S,pr.allocCString=Et,pr.debugFlags||(pr.debugFlags=C.__makeDebugFlags(C.debugFlags)),pr},globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...xe)=>{throw new Error(xe.join(" "))};y.SQLite3Error.toss;const N=y.capi,C=y.wasm,M=y.util;if(globalThis.WhWasmUtilInstaller(C),delete globalThis.WhWasmUtilInstaller,C.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(xe,ke)=>xe[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:xe=>xe[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new C.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:xe=>{let ke;return(Te,Ge,Ke,Oe)=>{try{const Qe=C.cArgvToJs(Ge,Ke);return ke||(ke=C.cArgvToJs(Ge,Oe)),xe(Qe,ke)|0}catch(Qe){return Qe.resultCode||N.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:xe=>xe[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new C.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(xe,ke)=>xe[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(xe,ke)=>xe[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],C.exports.sqlite3_progress_handler&&C.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(xe,ke)=>xe[0]}),"*"]]),C.exports.sqlite3_stmt_explain&&C.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),C.exports.sqlite3_set_authorizer&&C.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(xe,ke)=>xe[0],callProxy:xe=>(ke,Te,Ge,Ke,Oe,Qe)=>{try{return Ge=Ge&&C.cstrToJs(Ge),Ke=Ke&&C.cstrToJs(Ke),Oe=Oe&&C.cstrToJs(Oe),Qe=Qe&&C.cstrToJs(Qe),xe(ke,Te,Ge,Ke,Oe,Qe)||0}catch(wt){return wt.resultCode||N.SQLITE_ERROR}}}),"*"]]),C.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:xe=>xe[0],callProxy:xe=>(ke,Te,Ge,Ke,Oe)=>{xe(ke,Te,C.cstrToJs(Ge),C.cstrToJs(Ke),Oe)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],C.bigIntEnabled&&C.exports.sqlite3_declare_vtab&&C.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),C.bigIntEnabled&&C.exports.sqlite3_preupdate_hook&&C.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:xe=>xe[0],callProxy:xe=>(ke,Te,Ge,Ke,Oe,Qe,wt)=>{xe(ke,Te,Ge,C.cstrToJs(Ke),C.cstrToJs(Oe),Qe,wt)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),C.bigIntEnabled&&C.exports.sqlite3changegroup_add&&C.exports.sqlite3session_create&&C.exports.sqlite3_preupdate_hook){const xe={signature:"i(ps)",callProxy:ke=>(Te,Ge)=>{try{return ke(Te,C.cstrToJs(Ge))|0}catch(Ke){return Ke.resultCode||N.SQLITE_ERROR}}};C.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...xe}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...xe}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...xe}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...xe}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xFilter",...xe,contextKey:(ke,Te)=>ke[0]}),"*"]])}C.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],y.StructBinder=globalThis.Jaccwabyt({heap:C.heap8u,alloc:C.alloc,dealloc:C.dealloc,bigIntEnabled:C.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const xe=C.xWrap.argAdapter("string");C.xWrap.argAdapter("string:flexible",Oe=>xe(M.flexibleString(Oe))),C.xWrap.argAdapter("string:static",function(Oe){return C.isPtr(Oe)?Oe:(Oe=""+Oe,this[Oe]||(this[Oe]=C.allocCString(Oe)))}.bind(Object.create(null)));const ke=C.xWrap.argAdapter("*"),Te=function(){};C.xWrap.argAdapter("sqlite3_filename",ke)("sqlite3_context*",ke)("sqlite3_value*",ke)("void*",ke)("sqlite3_changegroup*",ke)("sqlite3_changeset_iter*",ke)("sqlite3_session*",ke)("sqlite3_stmt*",Oe=>ke(Oe instanceof(y?.oo1?.Stmt||Te)?Oe.pointer:Oe))("sqlite3*",Oe=>ke(Oe instanceof(y?.oo1?.DB||Te)?Oe.pointer:Oe))("sqlite3_vfs*",Oe=>typeof Oe=="string"?N.sqlite3_vfs_find(Oe)||y.SQLite3Error.toss(N.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",Oe):ke(Oe instanceof(N.sqlite3_vfs||Te)?Oe.pointer:Oe)),C.exports.sqlite3_declare_vtab&&C.xWrap.argAdapter("sqlite3_index_info*",Oe=>ke(Oe instanceof(N.sqlite3_index_info||Te)?Oe.pointer:Oe))("sqlite3_module*",Oe=>ke(Oe instanceof(N.sqlite3_module||Te)?Oe.pointer:Oe));const Ge=C.xWrap.resultAdapter("*");C.xWrap.resultAdapter("sqlite3*",Ge)("sqlite3_context*",Ge)("sqlite3_stmt*",Ge)("sqlite3_value*",Ge)("sqlite3_vfs*",Ge)("void*",Ge),C.exports.sqlite3_step.length===0&&(C.xWrap.doArgcCheck=!1,y.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const Oe of C.bindingSignatures)N[Oe[0]]=C.xWrap.apply(null,Oe);for(const Oe of C.bindingSignatures.wasmInternal)M[Oe[0]]=C.xWrap.apply(null,Oe);const Ke=function(Oe){return()=>S(Oe+"() is unavailable due to lack","of BigInt support in this build.")};for(const Oe of C.bindingSignatures.int64)N[Oe[0]]=C.bigIntEnabled?C.xWrap.apply(null,Oe):Ke(Oe[0]);if(delete C.bindingSignatures,C.exports.sqlite3__wasm_db_error){const Oe=C.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");M.sqlite3__wasm_db_error=function(Qe,wt,J){return wt instanceof y.WasmAllocError?(wt=N.SQLITE_NOMEM,J=0):wt instanceof Error&&(J=J||""+wt,wt=wt.resultCode||N.SQLITE_ERROR),Qe?Oe(Qe,wt,J):wt}}else M.sqlite3__wasm_db_error=function(Oe,Qe,wt){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Qe}}{const xe=C.xCall("sqlite3__wasm_enum_json");xe||S("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),C.ctype=JSON.parse(C.cstrToJs(xe));const ke=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];C.bigIntEnabled&&ke.push("serialize","session","vtab");for(const Ke of ke)for(const Oe of Object.entries(C.ctype[Ke]))N[Oe[0]]=Oe[1];C.functionEntry(N.SQLITE_WASM_DEALLOC)||S("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+N.SQLITE_WASM_DEALLOC+").");const Te=Object.create(null);for(const Ke of["resultCodes"])for(const Oe of Object.entries(C.ctype[Ke]))Te[Oe[1]]=Oe[0];N.sqlite3_js_rc_str=Ke=>Te[Ke];const Ge=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!M.isUIThread(),sqlite3_index_info:!C.bigIntEnabled,sqlite3_index_constraint:!C.bigIntEnabled,sqlite3_index_orderby:!C.bigIntEnabled,sqlite3_index_constraint_usage:!C.bigIntEnabled});for(const Ke of C.ctype.structs)Ge[Ke.name]||(N[Ke.name]=y.StructBinder(Ke));if(N.sqlite3_index_info){for(const Ke of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])N.sqlite3_index_info[Ke]=N[Ke],delete N[Ke];N.sqlite3_vtab_config=C.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const de=(xe,ke,Te)=>M.sqlite3__wasm_db_error(xe,N.SQLITE_MISUSE,ke+"() requires "+Te+" argument"+(Te===1?"":"s")+"."),me=xe=>M.sqlite3__wasm_db_error(xe,N.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),He=xe=>C.xWrap.argAdapter("sqlite3*")(xe),Ye=xe=>C.isPtr(xe)?C.cstrToJs(xe):xe,lt=function(xe,ke){xe=He(xe);let Te=this.dbMap.get(xe);if(ke)!Te&&ke>0&&this.dbMap.set(xe,Te=Object.create(null));else return this.dbMap.delete(xe),Te;return Te}.bind(Object.assign(Object.create(null),{dbMap:new Map}));lt.addCollation=function(xe,ke){const Te=lt(xe,1);Te.collation||(Te.collation=new Set),Te.collation.add(Ye(ke).toLowerCase())},lt._addUDF=function(xe,ke,Te,Ge){ke=Ye(ke).toLowerCase();let Ke=Ge.get(ke);Ke||Ge.set(ke,Ke=new Set),Ke.add(Te<0?-1:Te)},lt.addFunction=function(xe,ke,Te){const Ge=lt(xe,1);Ge.udf||(Ge.udf=new Map),this._addUDF(xe,ke,Te,Ge.udf)},C.exports.sqlite3_create_window_function&&(lt.addWindowFunc=function(xe,ke,Te){const Ge=lt(xe,1);Ge.wudf||(Ge.wudf=new Map),this._addUDF(xe,ke,Te,Ge.wudf)}),lt.cleanup=function(xe){xe=He(xe);const ke=[xe];for(const Ke of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const Oe=C.exports[Ke];if(Oe){ke.length=Oe.length;try{N[Ke](...ke)}catch(Qe){y.config.warn("close-time call of",Ke+"(",ke,") threw:",Qe)}}}const Te=lt(xe,0);if(!Te)return;if(Te.collation){for(const Ke of Te.collation)try{N.sqlite3_create_collation_v2(xe,Ke,N.SQLITE_UTF8,0,0,0)}catch{}delete Te.collation}let Ge;for(Ge=0;Ge<2;++Ge){const Ke=Ge?Te.wudf:Te.udf;if(!Ke)continue;const Oe=Ge?N.sqlite3_create_window_function:N.sqlite3_create_function_v2;for(const Qe of Ke){const wt=Qe[0],J=Qe[1],le=[xe,wt,0,N.SQLITE_UTF8,0,0,0,0,0];Ge&&le.push(0);for(const Ee of J)try{le[2]=Ee,Oe.apply(null,le)}catch{}J.clear()}Ke.clear()}delete Te.udf,delete Te.wudf};{const xe=C.xWrap("sqlite3_close_v2","int","sqlite3*");N.sqlite3_close_v2=function(ke){if(arguments.length!==1)return de(ke,"sqlite3_close_v2",1);if(ke)try{lt.cleanup(ke)}catch{}return xe(ke)}}if(N.sqlite3session_create){const xe=C.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);N.sqlite3session_delete=function(ke){if(arguments.length!==1)return de(pDb,"sqlite3session_delete",1);ke&&N.sqlite3session_table_filter(ke,0,0),xe(ke)}}{const xe=(Te,Ge)=>"argv["+Ge+"]:"+Te[0]+":"+C.cstrToJs(Te[1]).toLowerCase(),ke=C.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new C.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:xe}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:xe})]);N.sqlite3_create_collation_v2=function(Te,Ge,Ke,Oe,Qe,wt){if(arguments.length!==6)return de(Te,"sqlite3_create_collation_v2",6);if(!(Ke&15))Ke|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Ke&15))return me(Te);try{const J=ke(Te,Ge,Ke,Oe,Qe,wt);return J===0&&Qe instanceof Function&&lt.addCollation(Te,Ge),J}catch(J){return M.sqlite3__wasm_db_error(Te,J)}},N.sqlite3_create_collation=(Te,Ge,Ke,Oe,Qe)=>arguments.length===5?N.sqlite3_create_collation_v2(Te,Ge,Ke,Oe,Qe,0):de(Te,"sqlite3_create_collation",5)}{const xe=function(Ke,Oe){return Ke[0]+":"+(Ke[2]<0?-1:Ke[2])+":"+Oe+":"+C.cstrToJs(Ke[1]).toLowerCase()},ke=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:xe,callProxy:Ke=>(Oe,Qe,wt)=>{try{Ke(Oe,...N.sqlite3_values_to_js(Qe,wt))}catch(J){N.sqlite3_result_error_js(Oe,J)}}},xFinalAndValue:{signature:"v(p)",contextKey:xe,callProxy:Ke=>Oe=>{try{N.sqlite3_result_js(Oe,Ke(Oe))}catch(Qe){N.sqlite3_result_error_js(Oe,Qe)}}},xFunc:{signature:"v(pip)",contextKey:xe,callProxy:Ke=>(Oe,Qe,wt)=>{try{N.sqlite3_result_js(Oe,Ke(Oe,...N.sqlite3_values_to_js(Qe,wt)))}catch(J){N.sqlite3_result_error_js(Oe,J)}}},xDestroy:{signature:"v(p)",contextKey:xe,callProxy:Ke=>Oe=>{try{Ke(Oe)}catch(Qe){console.error("UDF xDestroy method threw:",Qe)}}}}),Te=C.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xFunc",...ke.xFunc}),new C.xWrap.FuncPtrAdapter({name:"xStep",...ke.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...ke.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...ke.xDestroy})]),Ge=C.exports.sqlite3_create_window_function?C.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xStep",...ke.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...ke.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xValue",...ke.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xInverse",...ke.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...ke.xDestroy})]):void 0;N.sqlite3_create_function_v2=function Ke(Oe,Qe,wt,J,le,Ee,st,se,fe){if(Ke.length!==arguments.length)return de(Oe,"sqlite3_create_function_v2",Ke.length);if(!(J&15))J|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(J&15))return me(Oe);try{const H=Te(Oe,Qe,wt,J,le,Ee,st,se,fe);return H===0&&(Ee instanceof Function||st instanceof Function||se instanceof Function||fe instanceof Function)&&lt.addFunction(Oe,Qe,wt),H}catch(H){return console.error("sqlite3_create_function_v2() setup threw:",H),M.sqlite3__wasm_db_error(Oe,H,"Creation of UDF threw: "+H)}},N.sqlite3_create_function=function Ke(Oe,Qe,wt,J,le,Ee,st,se){return Ke.length===arguments.length?N.sqlite3_create_function_v2(Oe,Qe,wt,J,le,Ee,st,se,0):de(Oe,"sqlite3_create_function",Ke.length)},Ge?N.sqlite3_create_window_function=function Ke(Oe,Qe,wt,J,le,Ee,st,se,fe,H){if(Ke.length!==arguments.length)return de(Oe,"sqlite3_create_window_function",Ke.length);if(!(J&15))J|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(J&15))return me(Oe);try{const ee=Ge(Oe,Qe,wt,J,le,Ee,st,se,fe,H);return ee===0&&(Ee instanceof Function||st instanceof Function||se instanceof Function||fe instanceof Function||H instanceof Function)&&lt.addWindowFunc(Oe,Qe,wt),ee}catch(ee){return console.error("sqlite3_create_window_function() setup threw:",ee),M.sqlite3__wasm_db_error(Oe,ee,"Creation of UDF threw: "+ee)}}:delete N.sqlite3_create_window_function,N.sqlite3_create_function_v2.udfSetResult=N.sqlite3_create_function.udfSetResult=N.sqlite3_result_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfSetResult=N.sqlite3_result_js),N.sqlite3_create_function_v2.udfConvertArgs=N.sqlite3_create_function.udfConvertArgs=N.sqlite3_values_to_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfConvertArgs=N.sqlite3_values_to_js),N.sqlite3_create_function_v2.udfSetError=N.sqlite3_create_function.udfSetError=N.sqlite3_result_error_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfSetError=N.sqlite3_result_error_js)}{const xe=(Te,Ge)=>(typeof Te=="string"?Ge=-1:M.isSQLableTypedArray(Te)?(Ge=Te.byteLength,Te=M.typedArrayToString(Te instanceof ArrayBuffer?new Uint8Array(Te):Te)):Array.isArray(Te)&&(Te=Te.join(""),Ge=-1),[Te,Ge]),ke={basic:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};N.sqlite3_prepare_v3=function Te(Ge,Ke,Oe,Qe,wt,J){if(Te.length!==arguments.length)return de(Ge,"sqlite3_prepare_v3",Te.length);const[le,Ee]=xe(Ke,Oe);switch(typeof le){case"string":return ke.basic(Ge,le,Ee,Qe,wt,null);case"number":return ke.full(Ge,le,Ee,Qe,wt,J);default:return M.sqlite3__wasm_db_error(Ge,N.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},N.sqlite3_prepare_v2=function Te(Ge,Ke,Oe,Qe,wt){return Te.length===arguments.length?N.sqlite3_prepare_v3(Ge,Ke,Oe,0,Qe,wt):de(Ge,"sqlite3_prepare_v2",Te.length)}}{const xe=C.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),ke=C.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);N.sqlite3_bind_text=function Te(Ge,Ke,Oe,Qe,wt){if(Te.length!==arguments.length)return de(N.sqlite3_db_handle(Ge),"sqlite3_bind_text",Te.length);if(C.isPtr(Oe)||Oe===null)return xe(Ge,Ke,Oe,Qe,wt);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(pMem)&&(Oe=pMem.join(""));let J,le;try{if(M.isSQLableTypedArray(Oe))J=C.allocFromTypedArray(Oe),le=Oe.byteLength;else if(typeof Oe=="string")[J,le]=C.allocCString(Oe);else return M.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ge),N.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return xe(Ge,Ke,J,le,N.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(J),M.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ge),Ee)}},N.sqlite3_bind_blob=function Te(Ge,Ke,Oe,Qe,wt){if(Te.length!==arguments.length)return de(N.sqlite3_db_handle(Ge),"sqlite3_bind_blob",Te.length);if(C.isPtr(Oe)||Oe===null)return ke(Ge,Ke,Oe,Qe,wt);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(Oe)&&(Oe=Oe.join(""));let J,le;try{if(M.isBindableTypedArray(Oe))J=C.allocFromTypedArray(Oe),le=Qe>=0?Qe:Oe.byteLength;else if(typeof Oe=="string")[J,le]=C.allocCString(Oe);else return M.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ge),N.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return ke(Ge,Ke,J,le,N.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(J),M.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ge),Ee)}}}N.sqlite3_config=function(xe,...ke){if(arguments.length<2)return N.SQLITE_MISUSE;switch(xe){case N.SQLITE_CONFIG_COVERING_INDEX_SCAN:case N.SQLITE_CONFIG_MEMSTATUS:case N.SQLITE_CONFIG_SMALL_MALLOC:case N.SQLITE_CONFIG_SORTERREF_SIZE:case N.SQLITE_CONFIG_STMTJRNL_SPILL:case N.SQLITE_CONFIG_URI:return C.exports.sqlite3__wasm_config_i(xe,ke[0]);case N.SQLITE_CONFIG_LOOKASIDE:return C.exports.sqlite3__wasm_config_ii(xe,ke[0],ke[1]);case N.SQLITE_CONFIG_MEMDB_MAXSIZE:return C.exports.sqlite3__wasm_config_j(xe,ke[0]);case N.SQLITE_CONFIG_GETMALLOC:case N.SQLITE_CONFIG_GETMUTEX:case N.SQLITE_CONFIG_GETPCACHE2:case N.SQLITE_CONFIG_GETPCACHE:case N.SQLITE_CONFIG_HEAP:case N.SQLITE_CONFIG_LOG:case N.SQLITE_CONFIG_MALLOC:case N.SQLITE_CONFIG_MMAP_SIZE:case N.SQLITE_CONFIG_MULTITHREAD:case N.SQLITE_CONFIG_MUTEX:case N.SQLITE_CONFIG_PAGECACHE:case N.SQLITE_CONFIG_PCACHE2:case N.SQLITE_CONFIG_PCACHE:case N.SQLITE_CONFIG_PCACHE_HDRSZ:case N.SQLITE_CONFIG_PMASZ:case N.SQLITE_CONFIG_SERIALIZED:case N.SQLITE_CONFIG_SINGLETHREAD:case N.SQLITE_CONFIG_SQLLOG:case N.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return N.SQLITE_NOTFOUND}};{const xe=new Set;N.sqlite3_auto_extension=function(ke){if(ke instanceof Function)ke=C.installFunction("i(ppp)",ke);else if(arguments.length!==1||!C.isPtr(ke))return N.SQLITE_MISUSE;const Te=C.exports.sqlite3_auto_extension(ke);return ke!==arguments[0]&&(Te===0?xe.add(ke):C.uninstallFunction(ke)),Te},N.sqlite3_cancel_auto_extension=function(ke){return!ke||arguments.length!==1||!C.isPtr(ke)?0:C.exports.sqlite3_cancel_auto_extension(ke)},N.sqlite3_reset_auto_extension=function(){C.exports.sqlite3_reset_auto_extension();for(const ke of xe)C.uninstallFunction(ke);xe.clear()}}const mt=N.sqlite3_vfs_find("kvvfs");if(mt)if(M.isUIThread()){const xe=new N.sqlite3_kvvfs_methods(C.exports.sqlite3__wasm_kvvfs_methods());delete N.sqlite3_kvvfs_methods;const ke=C.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,Te=C.pstack,Ge=Oe=>C.peek(Oe)===115?sessionStorage:localStorage,Ke={xRead:(Oe,Qe,wt,J)=>{const le=Te.pointer,Ee=C.scopedAllocPush();try{const st=ke(Oe,Qe);if(!st)return-3;const se=C.cstrToJs(st),fe=Ge(Oe).getItem(se);if(!fe)return-1;const H=fe.length;if(J<=0)return H;if(J===1)return C.poke(wt,0),H;const ee=C.scopedAllocCString(fe);return J>H+1&&(J=H+1),C.heap8u().copyWithin(wt,ee,ee+J-1),C.poke(wt+J-1,0),J-1}catch(st){return console.error("kvstorageRead()",st),-2}finally{Te.restore(le),C.scopedAllocPop(Ee)}},xWrite:(Oe,Qe,wt)=>{const J=Te.pointer;try{const le=ke(Oe,Qe);if(!le)return 1;const Ee=C.cstrToJs(le);return Ge(Oe).setItem(Ee,C.cstrToJs(wt)),0}catch(le){return console.error("kvstorageWrite()",le),N.SQLITE_IOERR}finally{Te.restore(J)}},xDelete:(Oe,Qe)=>{const wt=Te.pointer;try{const J=ke(Oe,Qe);return J?(Ge(Oe).removeItem(C.cstrToJs(J)),0):1}catch(J){return console.error("kvstorageDelete()",J),N.SQLITE_IOERR}finally{Te.restore(wt)}}};for(const Oe of Object.keys(Ke))xe[xe.memberKey(Oe)]=C.installFunction(xe.memberSignature(Oe),Ke[Oe])}else N.sqlite3_vfs_unregister(mt);C.xWrap.FuncPtrAdapter.warnOnUse=!0;const Be=y.StructBinder,qe=function xe(ke,Te,Ge,Ke=xe.installMethodArgcCheck){if(ke instanceof Be.StructType?!(Ge instanceof Function)&&!C.isPtr(Ge)&&S("Usage errror: expecting a Function or WASM pointer to one."):S("Usage error: target object is-not-a StructType."),arguments.length===1)return(J,le)=>xe(ke,J,le,Ke);xe.argcProxy||(xe.argcProxy=function(J,le,Ee,st){return function(...se){return Ee.length!==arguments.length&&S("Argument mismatch for",J.structInfo.name+"::"+le+": Native signature is:",st),Ee.apply(this,se)}},xe.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((J,le)=>{if(typeof J=="number")try{C.uninstallFunction(J)}catch{}}),delete this.ondispose.__removeFuncList)});const Oe=ke.memberSignature(Te);Oe.length<2&&S("Member",Te,"does not have a function pointer signature:",Oe);const Qe=ke.memberKey(Te),wt=Ke&&!C.isPtr(Ge)?xe.argcProxy(ke,Qe,Ge,Oe):Ge;if(C.isPtr(wt))wt&&!C.functionEntry(wt)&&S("Pointer",wt,"is not a WASM function table entry."),ke[Qe]=wt;else{const J=C.installFunction(wt,ke.memberSignature(Te,!0));ke[Qe]=J,(!ke.ondispose||!ke.ondispose.__removeFuncList)&&(ke.addOnDispose("ondispose.__removeFuncList handler",xe.removeFuncList),ke.ondispose.__removeFuncList=[]),ke.ondispose.__removeFuncList.push(Qe,J)}return(J,le)=>xe(ke,J,le,Ke)};qe.installMethodArgcCheck=!1;const Je=function(xe,ke,Te=qe.installMethodArgcCheck){const Ge=new Map;for(const Ke of Object.keys(ke)){const Oe=ke[Ke],Qe=Ge.get(Oe);if(Qe){const wt=xe.memberKey(Ke);xe[wt]=xe[xe.memberKey(Qe)]}else qe(xe,Ke,Oe,Te),Ge.set(Oe,Ke)}return xe};Be.StructType.prototype.installMethod=function(ke,Te,Ge=qe.installMethodArgcCheck){return arguments.length<3&&ke&&typeof ke=="object"?Je(this,...arguments):qe(this,...arguments)},Be.StructType.prototype.installMethods=function(xe,ke=qe.installMethodArgcCheck){return Je(this,xe,ke)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){y.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...se)=>{throw new y.SQLite3Error(...se)},N=y.capi,C=y.wasm,M=y.util,de=new WeakMap,me=new WeakMap,He=(se,fe,H)=>{const ee=Object.getOwnPropertyDescriptor(se,fe);return ee?ee.value:H},Ye=function(se,fe){return fe&&(se instanceof qe&&(se=se.pointer),S(fe,"sqlite3 result code",fe+":",se?N.sqlite3_errmsg(se):N.sqlite3_errstr(fe))),arguments[0]},lt=C.installFunction("i(ippp)",function(se,fe,H,ee){N.SQLITE_TRACE_STMT===se&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+fe+":",C.cstrToJs(ee))}.bind({counter:0})),mt=Object.create(null),Be=function se(...fe){if(!se._name2vfs){se._name2vfs=Object.create(null);const we=typeof importScripts=="function"?je=>S("The VFS for",je,"is only available in the main window thread."):!1;se._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:we||(()=>"local")},se._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:we||(()=>"session")}}const H=se.normalizeArgs(...fe);let ee=H.filename,ie=H.vfs,Le=H.flags;(typeof ee!="string"&&typeof ee!="number"||typeof Le!="string"||ie&&typeof ie!="string"&&typeof ie!="number")&&(y.config.error("Invalid DB ctor args",H,arguments),S("Invalid arguments for DB constructor."));let it=typeof ee=="number"?C.cstrToJs(ee):ee;const Tt=se._name2vfs[it];Tt&&(ie=Tt.vfs,ee=it=Tt.filename(it));let $t,Kt=0;Le.indexOf("c")>=0&&(Kt|=N.SQLITE_OPEN_CREATE|N.SQLITE_OPEN_READWRITE),Le.indexOf("w")>=0&&(Kt|=N.SQLITE_OPEN_READWRITE),Kt===0&&(Kt|=N.SQLITE_OPEN_READONLY),Kt|=N.SQLITE_OPEN_EXRESCODE;const ct=C.pstack.pointer;try{const we=C.pstack.allocPtr();let je=N.sqlite3_open_v2(ee,we,Kt,ie||0);$t=C.peekPtr(we),Ye($t,je),N.sqlite3_extended_result_codes($t,1),Le.indexOf("t")>=0&&N.sqlite3_trace_v2($t,N.SQLITE_TRACE_STMT,lt,$t)}catch(we){throw $t&&N.sqlite3_close_v2($t),we}finally{C.pstack.restore(ct)}this.filename=it,de.set(this,$t),me.set(this,Object.create(null));try{const we=N.sqlite3_js_db_vfs($t)||S("Internal error: cannot get VFS for new db handle."),je=mt[we];je&&(je instanceof Function?je(this,y):Ye($t,N.sqlite3_exec($t,je,0,0,0)))}catch(we){throw this.close(),we}};Be.setVfsPostOpenCallback=function(se,fe){fe instanceof Function||S("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),mt[se]=fe},Be.normalizeArgs=function(se=":memory:",fe="c",H=null){const ee={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(ee,arguments[0]),ee.flags===void 0&&(ee.flags="c"),ee.vfs===void 0&&(ee.vfs=null),ee.filename===void 0&&(ee.filename=":memory:")):(ee.filename=se,ee.flags=fe,ee.vfs=H),ee};const qe=function(...se){Be.apply(this,se)};qe.dbCtorHelper=Be;const Je={null:1,number:2,string:3,boolean:4,blob:5};Je.undefined==Je.null,C.bigIntEnabled&&(Je.bigint=Je.number);const xe=function(){Je!==arguments[2]&&S(N.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],de.set(this,arguments[1]),this.parameterCount=N.sqlite3_bind_parameter_count(this.pointer)},ke=function(se){return se.pointer||S("DB has been closed."),se},Te=function(se,fe){return(fe!==(fe|0)||fe<0||fe>=se.columnCount)&&S("Column index",fe,"is out of range."),se},Ge=function(se,fe){const H=Object.create(null);switch(H.opt=Object.create(null),fe.length){case 1:typeof fe[0]=="string"||M.isSQLableTypedArray(fe[0])||Array.isArray(fe[0])?H.sql=fe[0]:fe[0]&&typeof fe[0]=="object"&&(H.opt=fe[0],H.sql=H.opt.sql);break;case 2:H.sql=fe[0],H.opt=fe[1];break;default:S("Invalid argument count for exec().")}H.sql=M.flexibleString(H.sql),typeof H.sql!="string"&&S("Missing SQL argument or unsupported SQL value type.");const ee=H.opt;switch(ee.returnValue){case"resultRows":ee.resultRows||(ee.resultRows=[]),H.returnVal=()=>ee.resultRows;break;case"saveSql":ee.saveSql||(ee.saveSql=[]),H.returnVal=()=>ee.saveSql;break;case void 0:case"this":H.returnVal=()=>se;break;default:S("Invalid returnValue value:",ee.returnValue)}if(!ee.callback&&!ee.returnValue&&ee.rowMode!==void 0&&(ee.resultRows||(ee.resultRows=[]),H.returnVal=()=>ee.resultRows),ee.callback||ee.resultRows)switch(ee.rowMode===void 0?"array":ee.rowMode){case"object":H.cbArg=(ie,Le)=>{Le.columnNames||(Le.columnNames=ie.getColumnNames([]));const it=ie.get([]),Tt=Object.create(null);for(const $t in Le.columnNames)Tt[Le.columnNames[$t]]=it[$t];return Tt};break;case"array":H.cbArg=ie=>ie.get([]);break;case"stmt":Array.isArray(ee.resultRows)&&S("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),H.cbArg=ie=>ie;break;default:if(M.isInt32(ee.rowMode)){H.cbArg=ie=>ie.get(ee.rowMode);break}else if(typeof ee.rowMode=="string"&&ee.rowMode.length>1&&ee.rowMode[0]==="$"){const ie=ee.rowMode.substr(1);H.cbArg=Le=>{const it=Le.get(Object.create(null))[ie];return it===void 0?S(N.SQLITE_NOTFOUND,"exec(): unknown result column:",ie):it};break}S("Invalid rowMode:",ee.rowMode)}return H},Ke=(se,fe,H,...ee)=>{const ie=se.prepare(fe);try{const Le=ie.bind(H).step()?ie.get(...ee):void 0;return ie.reset(),Le}finally{ie.finalize()}},Oe=(se,fe,H,ee)=>se.exec({sql:fe,bind:H,rowMode:ee,returnValue:"resultRows"});qe.checkRc=(se,fe)=>Ye(se,fe),qe.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return ke(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const se=this.pointer;if(Object.keys(me.get(this)).forEach((fe,H)=>{if(H&&H.pointer)try{H.finalize()}catch{}}),de.delete(this),me.delete(this),N.sqlite3_close_v2(se),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(se=!1,fe=!1){const H=ke(this).pointer;return se?fe?N.sqlite3_total_changes64(H):N.sqlite3_total_changes(H):fe?N.sqlite3_changes64(H):N.sqlite3_changes(H)},dbFilename:function(se="main"){return N.sqlite3_db_filename(ke(this).pointer,se)},dbName:function(se=0){return N.sqlite3_db_name(ke(this).pointer,se)},dbVfsName:function(se=0){let fe;const H=N.sqlite3_js_db_vfs(ke(this).pointer,se);if(H){const ee=new N.sqlite3_vfs(H);try{fe=C.cstrToJs(ee.$zName)}finally{ee.dispose()}}return fe},prepare:function(se){ke(this);const fe=C.pstack.pointer;let H,ee;try{H=C.pstack.alloc(8),qe.checkRc(this,N.sqlite3_prepare_v2(this.pointer,se,-1,H,null)),ee=C.peekPtr(H)}finally{C.pstack.restore(fe)}ee||S("Cannot prepare empty SQL.");const ie=new xe(this,ee,Je);return me.get(this)[ee]=ie,ie},exec:function(){ke(this);const se=Ge(this,arguments);if(!se.sql)return S("exec() requires an SQL string.");const fe=se.opt,H=fe.callback,ee=Array.isArray(fe.resultRows)?fe.resultRows:void 0;let ie,Le=fe.bind,it=!!(se.cbArg||fe.columnNames||ee);const Tt=C.scopedAllocPush(),$t=Array.isArray(fe.saveSql)?fe.saveSql:void 0;try{const Kt=M.isSQLableTypedArray(se.sql);let ct=Kt?se.sql.byteLength:C.jstrlen(se.sql);const we=C.scopedAlloc(2*C.ptrSizeof+(ct+1)),je=we+C.ptrSizeof;let at=je+C.ptrSizeof;const ht=at+ct;for(Kt?C.heap8().set(se.sql,at):C.jstrcpy(se.sql,C.heap8(),at,ct,!1),C.poke(at+ct,0);at&&C.peek(at,"i8");){C.pokePtr([we,je],0),qe.checkRc(this,N.sqlite3_prepare_v3(this.pointer,at,ct,0,we,je));const Pt=C.peekPtr(we);if(at=C.peekPtr(je),ct=ht-at,!!Pt){if($t&&$t.push(N.sqlite3_sql(Pt).trim()),ie=new xe(this,Pt,Je),Le&&ie.parameterCount&&(ie.bind(Le),Le=null),it&&ie.columnCount){let Zt=Array.isArray(fe.columnNames)?0:1;if(it=!1,se.cbArg||ee){const Ae=Object.create(null);for(;ie.step();ie._lockedByExec=!1){Zt++===0&&ie.getColumnNames(Ae.columnNames=fe.columnNames||[]),ie._lockedByExec=!0;const tt=se.cbArg(ie,Ae);if(ee&&ee.push(tt),H&&H.call(fe,tt,ie)===!1)break}ie._lockedByExec=!1}Zt===0&&ie.getColumnNames(fe.columnNames)}else ie.step();ie.reset().finalize(),ie=null}}}finally{C.scopedAllocPop(Tt),ie&&(delete ie._lockedByExec,ie.finalize())}return se.returnVal()},createFunction:function(fe,H,ee){const ie=Ae=>Ae instanceof Function;switch(arguments.length){case 1:ee=fe,fe=ee.name,H=ee.xFunc||0;break;case 2:ie(H)||(ee=H,H=ee.xFunc||0);break}ee||(ee={}),typeof fe!="string"&&S("Invalid arguments: missing function name.");let Le=ee.xStep||0,it=ee.xFinal||0;const Tt=ee.xValue||0,$t=ee.xInverse||0;let Kt;ie(H)?(Kt=!1,(ie(Le)||ie(it))&&S("Ambiguous arguments: scalar or aggregate?"),Le=it=null):ie(Le)?(ie(it)||S("Missing xFinal() callback for aggregate or window UDF."),H=null):ie(it)?S("Missing xStep() callback for aggregate or window UDF."):S("Missing function-type properties."),Kt===!1?(ie(Tt)||ie($t))&&S("xValue and xInverse are not permitted for non-window UDFs."):ie(Tt)?(ie($t)||S("xInverse must be provided if xValue is."),Kt=!0):ie($t)&&S("xValue must be provided if xInverse is.");const ct=ee.pApp;ct!=null&&(typeof ct!="number"||!M.isInt32(ct))&&S("Invalid value for pApp property. Must be a legal WASM pointer value.");const we=ee.xDestroy||0;we&&!ie(we)&&S("xDestroy property must be a function.");let je=0;He(ee,"deterministic")&&(je|=N.SQLITE_DETERMINISTIC),He(ee,"directOnly")&&(je|=N.SQLITE_DIRECTONLY),He(ee,"innocuous")&&(je|=N.SQLITE_INNOCUOUS),fe=fe.toLowerCase();const at=H||Le,ht=He(ee,"arity"),Pt=typeof ht=="number"?ht:at.length?at.length-1:0;let Zt;return Kt?Zt=N.sqlite3_create_window_function(this.pointer,fe,Pt,N.SQLITE_UTF8|je,ct||0,Le,it,Tt,$t,we):Zt=N.sqlite3_create_function_v2(this.pointer,fe,Pt,N.SQLITE_UTF8|je,ct||0,H,Le,it,we),qe.checkRc(this,Zt),this},selectValue:function(se,fe,H){return Ke(this,se,fe,0,H)},selectValues:function(se,fe,H){const ee=this.prepare(se),ie=[];try{for(ee.bind(fe);ee.step();)ie.push(ee.get(0,H));ee.reset()}finally{ee.finalize()}return ie},selectArray:function(se,fe){return Ke(this,se,fe,[])},selectObject:function(se,fe){return Ke(this,se,fe,{})},selectArrays:function(se,fe){return Oe(this,se,fe,"array")},selectObjects:function(se,fe){return Oe(this,se,fe,"object")},openStatementCount:function(){return this.pointer?Object.keys(me.get(this)).length:0},transaction:function(se){let fe="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&S(N.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),fe+=" "+arguments[0],se=arguments[1]),ke(this).exec(fe);try{const H=se(this);return this.exec("COMMIT"),H}catch(H){throw this.exec("ROLLBACK"),H}},savepoint:function(se){ke(this).exec("SAVEPOINT oo1");try{const fe=se(this);return this.exec("RELEASE oo1"),fe}catch(fe){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),fe}},checkRc:function(se){return Ye(this,se)}};const Qe=function(se){return se.pointer||S("Stmt has been closed."),se},wt=function(se){let fe=Je[se==null?"null":typeof se];switch(fe){case Je.boolean:case Je.null:case Je.number:case Je.string:return fe;case Je.bigint:if(C.bigIntEnabled)return fe;default:return M.isBindableTypedArray(se)?Je.blob:void 0}},J=function(se){return wt(se)||S("Unsupported bind() argument type:",typeof se)},le=function(se,fe){const H=typeof fe=="number"?fe:N.sqlite3_bind_parameter_index(se.pointer,fe);return H===0||!M.isInt32(H)?S("Invalid bind() parameter name: "+fe):(H<1||H>se.parameterCount)&&S("Bind index",fe,"is out of range."),H},Ee=function(se,fe){return se._lockedByExec&&S("Operation is illegal when statement is locked:",fe),se},st=function se(fe,H,ee,ie){Ee(Qe(fe),"bind()"),se._||(se._tooBigInt=it=>S("BigInt value is too big to store without precision loss:",it),se._={string:function(it,Tt,$t,Kt){const[ct,we]=C.allocCString($t,!0);return(Kt?N.sqlite3_bind_blob:N.sqlite3_bind_text)(it.pointer,Tt,ct,we,N.SQLITE_WASM_DEALLOC)}}),J(ie),H=le(fe,H);let Le=0;switch(ie==null?Je.null:ee){case Je.null:Le=N.sqlite3_bind_null(fe.pointer,H);break;case Je.string:Le=se._.string(fe,H,ie,!1);break;case Je.number:{let it;M.isInt32(ie)?it=N.sqlite3_bind_int:typeof ie=="bigint"?M.bigIntFits64(ie)?C.bigIntEnabled?it=N.sqlite3_bind_int64:M.bigIntFitsDouble(ie)?(ie=Number(ie),it=N.sqlite3_bind_double):se._tooBigInt(ie):se._tooBigInt(ie):(ie=Number(ie),C.bigIntEnabled&&Number.isInteger(ie)?it=N.sqlite3_bind_int64:it=N.sqlite3_bind_double),Le=it(fe.pointer,H,ie);break}case Je.boolean:Le=N.sqlite3_bind_int(fe.pointer,H,ie?1:0);break;case Je.blob:{if(typeof ie=="string"){Le=se._.string(fe,H,ie,!0);break}else ie instanceof ArrayBuffer?ie=new Uint8Array(ie):M.isBindableTypedArray(ie)||S("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const it=C.alloc(ie.byteLength||1);C.heap8().set(ie.byteLength?ie:[0],it),Le=N.sqlite3_bind_blob(fe.pointer,H,it,ie.byteLength,N.SQLITE_WASM_DEALLOC);break}default:y.config.warn("Unsupported bind() argument type:",ie),S("Unsupported bind() argument type: "+typeof ie)}return Le&&qe.checkRc(fe.db.pointer,Le),fe._mayGet=!1,fe};xe.prototype={finalize:function(){if(this.pointer){Ee(this,"finalize()");const se=N.sqlite3_finalize(this.pointer);return delete me.get(this.db)[this.pointer],de.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,se}},clearBindings:function(){return Ee(Qe(this),"clearBindings()"),N.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(se){Ee(this,"reset()"),se&&this.clearBindings();const fe=N.sqlite3_reset(Qe(this).pointer);return this._mayGet=!1,Ye(this.db,fe),this},bind:function(){Qe(this);let se,fe;switch(arguments.length){case 1:se=1,fe=arguments[0];break;case 2:se=arguments[0],fe=arguments[1];break;default:S("Invalid bind() arguments.")}return fe===void 0?this:(this.parameterCount||S("This statement has no bindable parameters."),this._mayGet=!1,fe===null?st(this,se,Je.null,fe):Array.isArray(fe)?(arguments.length!==1&&S("When binding an array, an index argument is not permitted."),fe.forEach((H,ee)=>st(this,ee+1,J(H),H)),this):(fe instanceof ArrayBuffer&&(fe=new Uint8Array(fe)),typeof fe=="object"&&!M.isBindableTypedArray(fe)?(arguments.length!==1&&S("When binding an object, an index argument is not permitted."),Object.keys(fe).forEach(H=>st(this,H,J(fe[H]),fe[H])),this):st(this,se,J(fe),fe)))},bindAsBlob:function(se,fe){Qe(this),arguments.length===1&&(fe=se,se=1);const H=J(fe);return Je.string!==H&&Je.blob!==H&&Je.null!==H&&S("Invalid value type for bindAsBlob()"),st(this,se,Je.blob,fe)},step:function(){Ee(this,"step()");const se=N.sqlite3_step(Qe(this).pointer);switch(se){case N.SQLITE_DONE:return this._mayGet=!1;case N.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,y.config.warn("sqlite3_step() rc=",se,N.sqlite3_js_rc_str(se),"SQL =",N.sqlite3_sql(this.pointer)),qe.checkRc(this.db.pointer,se)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const se=this.step();return this.reset(),se}finally{try{this.finalize()}catch{}}},get:function(se,fe){if(Qe(this)._mayGet||S("Stmt.step() has not (recently) returned true."),Array.isArray(se)){let H=0;const ee=this.columnCount;for(;H<ee;)se[H]=this.get(H++);return se}else if(se&&typeof se=="object"){let H=0;const ee=this.columnCount;for(;H<ee;)se[N.sqlite3_column_name(this.pointer,H)]=this.get(H++);return se}switch(Te(this,se),fe===void 0?N.sqlite3_column_type(this.pointer,se):fe){case N.SQLITE_NULL:return null;case N.SQLITE_INTEGER:if(C.bigIntEnabled){const H=N.sqlite3_column_int64(this.pointer,se);return H>=Number.MIN_SAFE_INTEGER&&H<=Number.MAX_SAFE_INTEGER?Number(H).valueOf():H}else{const H=N.sqlite3_column_double(this.pointer,se);return(H>Number.MAX_SAFE_INTEGER||H<Number.MIN_SAFE_INTEGER)&&S("Integer is out of range for JS integer range: "+H),M.isInt32(H)?H|0:H}case N.SQLITE_FLOAT:return N.sqlite3_column_double(this.pointer,se);case N.SQLITE_TEXT:return N.sqlite3_column_text(this.pointer,se);case N.SQLITE_BLOB:{const H=N.sqlite3_column_bytes(this.pointer,se),ee=N.sqlite3_column_blob(this.pointer,se),ie=new Uint8Array(H);return H&&ie.set(C.heap8u().slice(ee,ee+H),0),H&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(ie.buffer),ie}default:S("Don't know how to translate","type of result column #"+se+".")}S("Not reached.")},getInt:function(se){return this.get(se,N.SQLITE_INTEGER)},getFloat:function(se){return this.get(se,N.SQLITE_FLOAT)},getString:function(se){return this.get(se,N.SQLITE_TEXT)},getBlob:function(se){return this.get(se,N.SQLITE_BLOB)},getJSON:function(se){const fe=this.get(se,N.SQLITE_STRING);return fe===null?fe:JSON.parse(fe)},getColumnName:function(se){return N.sqlite3_column_name(Te(Qe(this),se).pointer,se)},getColumnNames:function(se=[]){Te(Qe(this),0);const fe=this.columnCount;for(let H=0;H<fe;++H)se.push(N.sqlite3_column_name(this.pointer,H));return se},getParamIndex:function(se){return Qe(this).parameterCount?N.sqlite3_bind_parameter_index(this.pointer,se):void 0},getParamName:function(se){return Qe(this).parameterCount?N.sqlite3_bind_parameter_name(this.pointer,se):void 0},isBusy:function(){return N.sqlite3_stmt_busy(Qe(this))!==0},isReadOnly:function(){return N.sqlite3_stmt_readonly(Qe(this))!==0}};{const se={enumerable:!0,get:function(){return de.get(this)},set:()=>S("The pointer property is read-only.")};Object.defineProperty(xe.prototype,"pointer",se),Object.defineProperty(qe.prototype,"pointer",se)}if(Object.defineProperty(xe.prototype,"columnCount",{enumerable:!1,get:function(){return N.sqlite3_column_count(this.pointer)},set:()=>S("The columnCount property is read-only.")}),y.oo1={DB:qe,Stmt:xe},M.isUIThread()){y.oo1.JsStorageDb=function(fe="session"){const H=Be.normalizeArgs(...arguments);fe=H.filename,fe!=="session"&&fe!=="local"&&S("JsStorageDb db name must be one of 'session' or 'local'."),H.vfs="kvvfs",Be.call(this,H)};const se=y.oo1.JsStorageDb;se.prototype=Object.create(qe.prototype),se.clearStorage=N.sqlite3_js_kvvfs_clear,se.prototype.clearStorage=function(){return se.clearStorage(ke(this).filename)},se.storageSize=N.sqlite3_js_kvvfs_size,se.prototype.storageSize=function(){return se.storageSize(ke(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util;y.initWorker1API=function(){const N=(...Be)=>{throw new Error(Be.join(" "))};globalThis.WorkerGlobalScope instanceof Function||N("initWorker1API() must be run from a Worker thread.");const C=this.sqlite3||N("Missing this.sqlite3 object."),M=C.oo1.DB,de=function(Be){let qe=me.idMap.get(Be);return qe||(qe="db#"+ ++me.idSeq+"@"+Be.pointer,me.idMap.set(Be,qe),qe)},me={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Be){const qe=new M(Be);return this.dbs[de(qe)]=qe,this.dbList.indexOf(qe)<0&&this.dbList.push(qe),qe},close:function(Be,qe){if(Be){delete this.dbs[de(Be)];const Je=Be.filename,xe=S.sqlite3__wasm_db_vfs(Be.pointer,0);Be.close();const ke=this.dbList.indexOf(Be);ke>=0&&this.dbList.splice(ke,1),qe&&Je&&xe&&S.sqlite3__wasm_vfs_unlink(xe,Je)}},post:function(Be,qe){qe&&qe.length?(globalThis.postMessage(Be,Array.from(qe)),qe.length=0):globalThis.postMessage(Be)},dbs:Object.create(null),getDb:function(Be,qe=!0){return this.dbs[Be]||(qe?N("Unknown (or closed) DB ID:",Be):void 0)}},He=function(Be=me.dbList[0]){return Be&&Be.pointer?Be:N("DB is not opened.")},Ye=function(Be,qe=!0){const Je=me.getDb(Be.dbId,!1)||me.dbList[0];return qe?He(Je):Je},lt=function(){return me.dbList[0]&&de(me.dbList[0])},mt={open:function(Be){const qe=Object.create(null),Je=Be.args||Object.create(null);Je.simulateError&&N("Throwing because of simulateError flag.");const xe=Object.create(null);qe.vfs=Je.vfs,qe.filename=Je.filename||"";const ke=me.open(qe);return xe.filename=ke.filename,xe.persistent=!!C.capi.sqlite3_js_db_uses_vfs(ke.pointer,"opfs"),xe.dbId=de(ke),xe.vfs=ke.dbVfsName(),xe},close:function(Be){const qe=Ye(Be,!1),Je={filename:qe&&qe.filename};if(qe){const xe=Be.args&&typeof Be.args=="object"?!!Be.args.unlink:!1;me.close(qe,xe)}return Je},exec:function(Be){const qe=typeof Be.args=="string"?{sql:Be.args}:Be.args||Object.create(null);qe.rowMode==="stmt"?N("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):qe.sql||N("'exec' requires input SQL.");const Je=Ye(Be);(qe.callback||Array.isArray(qe.resultRows))&&(Je._blobXfer=me.xfer);const xe=qe.callback;let ke=0;const Te=!!qe.columnNames;typeof xe=="string"&&(Te||(qe.columnNames=[]),qe.callback=function(Ge,Ke){me.post({type:xe,columnNames:qe.columnNames,rowNumber:++ke,row:Ge},me.xfer)});try{const Ge=qe.countChanges?Je.changes(!0,qe.countChanges===64):void 0;Je.exec(qe),Ge!==void 0&&(qe.changeCount=Je.changes(!0,qe.countChanges===64)-Ge),qe.callback instanceof Function&&(qe.callback=xe,me.post({type:xe,columnNames:qe.columnNames,rowNumber:null,row:void 0}))}finally{delete Je._blobXfer,qe.callback&&(qe.callback=xe)}return qe},"config-get":function(){const Be=Object.create(null),qe=C.config;return["bigIntEnabled"].forEach(function(Je){Object.getOwnPropertyDescriptor(qe,Je)&&(Be[Je]=qe[Je])}),Be.version=C.version,Be.vfsList=C.capi.sqlite3_js_vfs_list(),Be},export:function(Be){const qe=Ye(Be),Je={byteArray:C.capi.sqlite3_js_db_export(qe.pointer),filename:qe.filename,mimetype:"application/x-sqlite3"};return me.xfer.push(Je.byteArray.buffer),Je},toss:function(Be){N("Testing worker exception")}};globalThis.onmessage=async function(Be){Be=Be.data;let qe,Je=Be.dbId,xe=Be.type;const ke=performance.now();try{mt.hasOwnProperty(xe)&&mt[xe]instanceof Function?qe=await mt[xe](Be):N("Unknown db worker message type:",Be.type)}catch(Te){xe="error",qe={operation:Be.type,message:Te.message,errorClass:Te.name,input:Be},Te.stack&&(qe.stack=typeof Te.stack=="string"?Te.stack.split(/\n\s*/):Te.stack)}Je||(Je=qe.dbId||lt()),me.post({type:xe,dbId:Je,messageId:Be.messageId,workerReceivedTime:ke,workerRespondTime:performance.now(),departureTime:Be.departureTime,result:qe},me.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:y})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.wasm,N=y.capi,C=y.util.toss3,M=Object.create(null);y.vfs=M,N.sqlite3_vfs.prototype.registerVfs=function(de=!1){this instanceof y.capi.sqlite3_vfs||C("Expecting a sqlite3_vfs-type argument.");const me=N.sqlite3_vfs_register(this,de?1:0);return me&&C("sqlite3_vfs_register(",this,") failed with rc",me),this.pointer!==N.sqlite3_vfs_find(this.$zName)&&C("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},M.installVfs=function(de){let me=0;const He=["io","vfs"];for(const Ye of He){const lt=de[Ye];lt&&(++me,lt.struct.installMethods(lt.methods,!!lt.applyArgcCheck),Ye==="vfs"&&(!lt.struct.$zName&&typeof lt.name=="string"&&lt.struct.addOnDispose(lt.struct.$zName=S.allocCString(lt.name)),lt.struct.registerVfs(!!lt.asDefault)))}return me||C("Misuse: installVfs() options object requires at least","one of:",He),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){if(!y.wasm.exports.sqlite3_declare_vtab)return;const S=y.wasm,N=y.capi,C=y.util.toss3,M=Object.create(null);y.vtab=M;const de=N.sqlite3_index_info;de.prototype.nthConstraint=function(Ye,lt=!1){if(Ye<0||Ye>=this.$nConstraint)return!1;const mt=this.$aConstraint+de.sqlite3_index_constraint.structInfo.sizeof*Ye;return lt?mt:new de.sqlite3_index_constraint(mt)},de.prototype.nthConstraintUsage=function(Ye,lt=!1){if(Ye<0||Ye>=this.$nConstraint)return!1;const mt=this.$aConstraintUsage+de.sqlite3_index_constraint_usage.structInfo.sizeof*Ye;return lt?mt:new de.sqlite3_index_constraint_usage(mt)},de.prototype.nthOrderBy=function(Ye,lt=!1){if(Ye<0||Ye>=this.$nOrderBy)return!1;const mt=this.$aOrderBy+de.sqlite3_index_orderby.structInfo.sizeof*Ye;return lt?mt:new de.sqlite3_index_orderby(mt)};const me=function(Ye,lt){return function(mt,Be=!1){if(arguments.length===0&&(mt=new lt),mt instanceof lt)return this.set(mt.pointer,mt),mt;S.isPtr(mt)||y.SQLite3Error.toss("Invalid argument to",Ye+"()");let qe=this.get(mt);return Be&&this.delete(mt),qe}.bind(new Map)},He=function(Ye,lt){const mt=me(Ye,lt);return Object.assign(Object.create(null),{StructType:lt,create:Be=>{const qe=mt();return S.pokePtr(Be,qe.pointer),qe},get:Be=>mt(Be),unget:Be=>mt(Be,!0),dispose:Be=>{const qe=mt(Be,!0);qe&&qe.dispose()}})};M.xVtab=He("xVtab",N.sqlite3_vtab),M.xCursor=He("xCursor",N.sqlite3_vtab_cursor),M.xIndexInfo=Ye=>new N.sqlite3_index_info(Ye),M.xError=function Ye(lt,mt,Be){if(Ye.errorReporter instanceof Function)try{Ye.errorReporter("sqlite3_module::"+lt+"(): "+mt.message)}catch{}let qe;return mt instanceof y.WasmAllocError?qe=N.SQLITE_NOMEM:arguments.length>2?qe=Be:mt instanceof y.SQLite3Error&&(qe=mt.resultCode),qe||N.SQLITE_ERROR},M.xError.errorReporter=console.error.bind(console),M.xRowid=(Ye,lt)=>S.poke(Ye,lt,"i64"),M.setupModule=function(Ye){let lt=!1;const mt=this instanceof N.sqlite3_module?this:Ye.struct||(lt=new N.sqlite3_module);try{const Be=Ye.methods||C("Missing 'methods' object.");for(const qe of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const Je=qe[0],xe=qe[1];Be[Je]===!0?Be[Je]=Be[xe]:Be[xe]===!0&&(Be[xe]=Be[Je])}if(Ye.catchExceptions){const qe=function(ke,Te){return["xConnect","xCreate"].indexOf(ke)>=0?function(Ge,Ke,Oe,Qe,wt,J){try{return Te(...arguments)||0}catch(le){return le instanceof y.WasmAllocError||(S.dealloc(S.peekPtr(J)),S.pokePtr(J,S.allocCString(le.message))),M.xError(ke,le)}}:function(...Ge){try{return Te(...Ge)||0}catch(Ke){return M.xError(ke,Ke)}}},Je=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],xe=Object.create(null);for(const ke of Je){const Te=Be[ke];if(Te instanceof Function)ke==="xConnect"&&Be.xCreate===Te?xe[ke]=Be.xCreate:ke==="xCreate"&&Be.xConnect===Te?xe[ke]=Be.xConnect:xe[ke]=qe(ke,Te);else continue}mt.installMethods(xe,!1)}else mt.installMethods(Be,!!Ye.applyArgcCheck);if(mt.$iVersion===0){let qe;typeof Ye.iVersion=="number"?qe=Ye.iVersion:mt.$xShadowName?qe=3:mt.$xSavePoint||mt.$xRelease||mt.$xRollbackTo?qe=2:qe=1,mt.$iVersion=qe}}catch(Be){throw lt&&lt.dispose(),Be}return mt},N.sqlite3_module.prototype.setupModule=function(Ye){return M.setupModule.call(this,Ye)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=function N(C){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!C||typeof C!="object")&&(C=Object.create(null));const M=new URL(globalThis.location.href).searchParams;return M.has("opfs-disable")?Promise.resolve(y):(C.verbose===void 0&&(C.verbose=M.has("opfs-verbose")?+M.get("opfs-verbose")||2:1),C.sanityChecks===void 0&&(C.sanityChecks=M.has("opfs-sanity-check")),C.proxyUri===void 0&&(C.proxyUri=N.defaultProxyUri),typeof C.proxyUri=="function"&&(C.proxyUri=C.proxyUri()),new Promise(function(me,He){const Ye=[y.config.error,y.config.warn,y.config.log],lt=(Ae,...tt)=>{C.verbose>Ae&&Ye[Ae]("OPFS syncer:",...tt)},mt=(...Ae)=>lt(2,...Ae),Be=(...Ae)=>lt(1,...Ae),qe=(...Ae)=>lt(0,...Ae),Je=y.util.toss,xe=y.capi,ke=y.util,Te=y.wasm,Ge=xe.sqlite3_vfs,Ke=xe.sqlite3_file,Oe=xe.sqlite3_io_methods,Qe=Object.create(null),wt=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Qe.metrics={dump:function(){let Ae,tt=0,dt=0,Et=0;for(Ae in ie.opIds){const xt=Le[Ae];tt+=xt.count,dt+=xt.time,Et+=xt.wait,xt.avgTime=xt.count&&xt.time?xt.time/xt.count:0,xt.avgWait=xt.count&&xt.wait?xt.wait/xt.count:0}y.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Le,`
Total of`,tt,"op(s) for",dt,"ms (incl. "+Et+" ms of waiting on the async side)"),y.config.log("Serialization metrics:",Le.s11n),fe.postMessage({type:"opfs-async-metrics"})},reset:function(){let Ae;const tt=Et=>Et.count=Et.time=Et.wait=0;for(Ae in ie.opIds)tt(Le[Ae]=Object.create(null));let dt=Le.s11n=Object.create(null);dt=dt.serialize=Object.create(null),dt.count=dt.time=0,dt=Le.s11n.deserialize=Object.create(null),dt.count=dt.time=0}};const J=new Oe,le=new Ge().addOnDispose(()=>J.dispose());let Ee;const st=Ae=>(Ee=!0,le.dispose(),He(Ae)),se=()=>(Ee=!1,me(y)),fe=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{Ee===void 0&&st(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),fe._originalOnError=fe.onerror,fe.onerror=function(Ae){qe("Error initializing OPFS asyncer:",Ae),st(new Error("Loading OPFS async Worker failed for unknown reasons."))};const H=xe.sqlite3_vfs_find(null),ee=H?new Ge(H):null;J.$iVersion=1,le.$iVersion=2,le.$szOsFile=xe.sqlite3_file.structInfo.sizeof,le.$mxPathname=1024,le.$zName=Te.allocCString("opfs"),le.$xDlOpen=le.$xDlError=le.$xDlSym=le.$xDlClose=null,le.addOnDispose("$zName",le.$zName,"cleanup default VFS wrapper",()=>ee?ee.dispose():null);const ie=Object.create(null);ie.verbose=C.verbose,ie.littleEndian=(()=>{const Ae=new ArrayBuffer(2);return new DataView(Ae).setInt16(0,256,!0),new Int16Array(Ae)[0]===256})(),ie.asyncIdleWaitTime=150,ie.asyncS11nExceptions=1,ie.fileBufferSize=1024*64,ie.sabS11nOffset=ie.fileBufferSize,ie.sabS11nSize=le.$mxPathname*2,ie.sabIO=new SharedArrayBuffer(ie.fileBufferSize+ie.sabS11nSize),ie.opIds=Object.create(null);const Le=Object.create(null);{let Ae=0;ie.opIds.whichOp=Ae++,ie.opIds.rc=Ae++,ie.opIds.xAccess=Ae++,ie.opIds.xClose=Ae++,ie.opIds.xDelete=Ae++,ie.opIds.xDeleteNoWait=Ae++,ie.opIds.xFileSize=Ae++,ie.opIds.xLock=Ae++,ie.opIds.xOpen=Ae++,ie.opIds.xRead=Ae++,ie.opIds.xSleep=Ae++,ie.opIds.xSync=Ae++,ie.opIds.xTruncate=Ae++,ie.opIds.xUnlock=Ae++,ie.opIds.xWrite=Ae++,ie.opIds.mkdir=Ae++,ie.opIds["opfs-async-metrics"]=Ae++,ie.opIds["opfs-async-shutdown"]=Ae++,ie.opIds.retry=Ae++,ie.sabOP=new SharedArrayBuffer(Ae*4),Qe.metrics.reset()}ie.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Ae=>{(ie.sq3Codes[Ae]=xe[Ae])===void 0&&Je("Maintenance required: not found:",Ae)}),ie.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const it=(Ae,...tt)=>{const dt=ie.opIds[Ae]||Je("Invalid op ID:",Ae);ie.s11n.serialize(...tt),Atomics.store(ie.sabOPView,ie.opIds.rc,-1),Atomics.store(ie.sabOPView,ie.opIds.whichOp,dt),Atomics.notify(ie.sabOPView,ie.opIds.whichOp);const Et=performance.now();for(;Atomics.wait(ie.sabOPView,ie.opIds.rc,-1)!=="not-equal";);const xt=Atomics.load(ie.sabOPView,ie.opIds.rc);if(Le[Ae].wait+=performance.now()-Et,xt&&ie.asyncS11nExceptions){const Mt=ie.s11n.deserialize();Mt&&qe(Ae+"() async error:",...Mt)}return xt};Qe.debug={asyncShutdown:()=>{Be("Shutting down OPFS async listener. The OPFS VFS will no longer work."),it("opfs-async-shutdown")},asyncRestart:()=>{Be("Attempting to restart OPFS VFS async listener. Might work, might not."),fe.postMessage({type:"opfs-async-restart"})}};const Tt=()=>{if(ie.s11n)return ie.s11n;const Ae=new TextDecoder,tt=new TextEncoder("utf-8"),dt=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Et=new DataView(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize);ie.s11n=Object.create(null);const xt=Object.create(null);xt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},xt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},xt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},xt.string={id:4};const Mt=Ot=>xt[typeof Ot]||Je("Maintenance required: this value type cannot be serialized.",Ot),dn=Ot=>{switch(Ot){case xt.number.id:return xt.number;case xt.bigint.id:return xt.bigint;case xt.boolean.id:return xt.boolean;case xt.string.id:return xt.string;default:Je("Invalid type ID:",Ot)}};return ie.s11n.deserialize=function(Ot=!1){++Le.s11n.deserialize.count;const pr=performance.now(),ze=dt[0],vt=ze?[]:null;if(ze){const _t=[];let Nt=1,hn,$n,Fn;for(hn=0;hn<ze;++hn,++Nt)_t.push(dn(dt[Nt]));for(hn=0;hn<ze;++hn){const Mn=_t[hn];Mn.getter?(Fn=Et[Mn.getter](Nt,ie.littleEndian),Nt+=Mn.size):($n=Et.getInt32(Nt,ie.littleEndian),Nt+=4,Fn=Ae.decode(dt.slice(Nt,Nt+$n)),Nt+=$n),vt.push(Fn)}}return Ot&&(dt[0]=0),Le.s11n.deserialize.time+=performance.now()-pr,vt},ie.s11n.serialize=function(...Ot){const pr=performance.now();if(++Le.s11n.serialize.count,Ot.length){const ze=[];let vt=0,_t=1;for(dt[0]=Ot.length&255;vt<Ot.length;++vt,++_t)ze.push(Mt(Ot[vt])),dt[_t]=ze[vt].id;for(vt=0;vt<Ot.length;++vt){const Nt=ze[vt];if(Nt.setter)Et[Nt.setter](_t,Ot[vt],ie.littleEndian),_t+=Nt.size;else{const hn=tt.encode(Ot[vt]);Et.setInt32(_t,hn.byteLength,ie.littleEndian),_t+=4,dt.set(hn,_t),_t+=hn.byteLength}}}else dt[0]=0;Le.s11n.serialize.time+=performance.now()-pr},ie.s11n},$t=function Ae(tt=16){Ae._chars||(Ae._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Ae._n=Ae._chars.length);const dt=[];let Et=0;for(;Et<tt;++Et){const xt=Math.random()*(Ae._n*64)%Ae._n|0;dt[Et]=Ae._chars[xt]}return dt.join("")},Kt=Object.create(null),ct=Object.create(null);ct.op=void 0,ct.start=void 0;const we=Ae=>{ct.start=performance.now(),ct.op=Ae,++Le[Ae].count},je=()=>Le[ct.op].time+=performance.now()-ct.start,at={xCheckReservedLock:function(Ae,tt){return Te.poke(tt,0,"i32"),0},xClose:function(Ae){we("xClose");let tt=0;const dt=Kt[Ae];return dt&&(delete Kt[Ae],tt=it("xClose",Ae),dt.sq3File&&dt.sq3File.dispose()),je(),tt},xDeviceCharacteristics:function(Ae){return xe.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ae,tt,dt){return xe.SQLITE_NOTFOUND},xFileSize:function(Ae,tt){we("xFileSize");let dt=it("xFileSize",Ae);if(dt==0)try{const Et=ie.s11n.deserialize()[0];Te.poke(tt,Et,"i64")}catch(Et){qe("Unexpected error reading xFileSize() result:",Et),dt=ie.sq3Codes.SQLITE_IOERR}return je(),dt},xLock:function(Ae,tt){we("xLock");const dt=Kt[Ae];let Et=0;return dt.lockType?dt.lockType=tt:(Et=it("xLock",Ae,tt),Et===0&&(dt.lockType=tt)),je(),Et},xRead:function(Ae,tt,dt,Et){we("xRead");const xt=Kt[Ae];let Mt;try{Mt=it("xRead",Ae,dt,Number(Et)),(Mt===0||xe.SQLITE_IOERR_SHORT_READ===Mt)&&Te.heap8u().set(xt.sabView.subarray(0,dt),tt)}catch(dn){qe("xRead(",arguments,") failed:",dn,xt),Mt=xe.SQLITE_IOERR_READ}return je(),Mt},xSync:function(Ae,tt){we("xSync"),++Le.xSync.count;const dt=it("xSync",Ae,tt);return je(),dt},xTruncate:function(Ae,tt){we("xTruncate");const dt=it("xTruncate",Ae,Number(tt));return je(),dt},xUnlock:function(Ae,tt){we("xUnlock");const dt=Kt[Ae];let Et=0;return xe.SQLITE_LOCK_NONE===tt&&dt.lockType&&(Et=it("xUnlock",Ae,tt)),Et===0&&(dt.lockType=tt),je(),Et},xWrite:function(Ae,tt,dt,Et){we("xWrite");const xt=Kt[Ae];let Mt;try{xt.sabView.set(Te.heap8u().subarray(tt,tt+dt)),Mt=it("xWrite",Ae,dt,Number(Et))}catch(dn){qe("xWrite(",arguments,") failed:",dn,xt),Mt=xe.SQLITE_IOERR_WRITE}return je(),Mt}},ht={xAccess:function(Ae,tt,dt,Et){we("xAccess");const xt=it("xAccess",Te.cstrToJs(tt));return Te.poke(Et,xt?0:1,"i32"),je(),0},xCurrentTime:function(Ae,tt){return Te.poke(tt,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ae,tt){return Te.poke(tt,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ae,tt,dt){we("xDelete");const Et=it("xDelete",Te.cstrToJs(tt),dt,!1);return je(),Et},xFullPathname:function(Ae,tt,dt,Et){return Te.cstrncpy(Et,tt,dt)<dt?0:xe.SQLITE_CANTOPEN},xGetLastError:function(Ae,tt,dt){return Be("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(tt,dt,Et,xt,Mt){we("xOpen");let dn=0;dt===0?dt=$t():Te.isPtr(dt)&&(xe.sqlite3_uri_boolean(dt,"opfs-unlock-asap",0)&&(dn|=ie.opfsFlags.OPFS_UNLOCK_ASAP),xe.sqlite3_uri_boolean(dt,"delete-before-open",0)&&(dn|=ie.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),dt=Te.cstrToJs(dt));const Ot=Object.create(null);Ot.fid=Et,Ot.filename=dt,Ot.sab=new SharedArrayBuffer(ie.fileBufferSize),Ot.flags=xt,Ot.readOnly=!(y.SQLITE_OPEN_CREATE&xt)&&!!(xt&xe.SQLITE_OPEN_READONLY);const pr=it("xOpen",Et,dt,xt,dn);return pr||(Ot.readOnly&&Te.poke(Mt,xe.SQLITE_OPEN_READONLY,"i32"),Kt[Et]=Ot,Ot.sabView=ie.sabFileBufView,Ot.sq3File=new Ke(Et),Ot.sq3File.$pMethods=J.pointer,Ot.lockType=xe.SQLITE_LOCK_NONE),je(),pr}};ee&&(le.$xRandomness=ee.$xRandomness,le.$xSleep=ee.$xSleep),le.$xRandomness||(ht.xRandomness=function(Ae,tt,dt){const Et=Te.heap8u();let xt=0;for(;xt<tt;++xt)Et[dt+xt]=Math.random()*255e3&255;return xt}),le.$xSleep||(ht.xSleep=function(Ae,tt){return Atomics.wait(ie.sabOPView,ie.opIds.xSleep,0,tt),0}),Qe.getResolvedPath=function(Ae,tt){const dt=new URL(Ae,"file://irrelevant").pathname;return tt?dt.split("/").filter(Et=>!!Et):dt},Qe.getDirForFilename=async function(tt,dt=!1){const Et=Qe.getResolvedPath(tt,!0),xt=Et.pop();let Mt=Qe.rootDirectory;for(const dn of Et)dn&&(Mt=await Mt.getDirectoryHandle(dn,{create:!!dt}));return[Mt,xt]},Qe.mkdir=async function(Ae){try{return await Qe.getDirForFilename(Ae+"/filepart",!0),!0}catch{return!1}},Qe.entryExists=async function(Ae){try{const[tt,dt]=await Qe.getDirForFilename(Ae);return await tt.getFileHandle(dt),!0}catch{return!1}},Qe.randomFilename=$t,Qe.treeList=async function(){const Ae=async function dt(Et,xt){xt.name=Et.name,xt.dirs=[],xt.files=[];for await(const Mt of Et.values())if(Mt.kind==="directory"){const dn=Object.create(null);xt.dirs.push(dn),await dt(Mt,dn)}else xt.files.push(Mt.name)},tt=Object.create(null);return await Ae(Qe.rootDirectory,tt),tt},Qe.rmfr=async function(){const Ae=Qe.rootDirectory,tt={recurse:!0};for await(const dt of Ae.values())Ae.removeEntry(dt.name,tt)},Qe.unlink=async function(Ae,tt=!1,dt=!1){try{const[Et,xt]=await Qe.getDirForFilename(Ae,!1);return await Et.removeEntry(xt,{recursive:tt}),!0}catch(Et){if(dt)throw new Error("unlink(",arguments[0],") failed: "+Et.message,{cause:Et});return!1}},Qe.traverse=async function(Ae){const tt={recursive:!0,directory:Qe.rootDirectory};typeof Ae=="function"&&(Ae={callback:Ae}),Ae=Object.assign(tt,Ae||{}),async function Et(xt,Mt){for await(const dn of xt.values()){if(Ae.callback(dn,xt,Mt)===!1)return!1;if(Ae.recursive&&dn.kind==="directory"&&await Et(dn,Mt+1)===!1)break}}(Ae.directory,0)};const Pt=async function(Ae,tt){const[dt,Et]=await Qe.getDirForFilename(Ae,!0);let Mt=await (await dt.getFileHandle(Et,{create:!0})).createSyncAccessHandle(),dn=0,Ot,pr=!1;try{for(Mt.truncate(0);(Ot=await tt())!==void 0;)Ot instanceof ArrayBuffer&&(Ot=new Uint8Array(Ot)),dn===0&&Ot.byteLength>=15&&(ke.affirmDbHeader(Ot),pr=!0),Mt.write(Ot,{at:dn}),dn+=Ot.byteLength;if((dn<512||dn%512!==0)&&Je("Input size",dn,"is not correct for an SQLite database."),!pr){const ze=new Uint8Array(20);Mt.read(ze,{at:0}),ke.affirmDbHeader(ze)}return Mt.write(new Uint8Array([1,1]),{at:18}),dn}catch(ze){throw await Mt.close(),Mt=void 0,await dt.removeEntry(Et).catch(()=>{}),ze}finally{Mt&&await Mt.close()}};if(Qe.importDb=async function(Ae,tt){if(tt instanceof Function)return Pt(Ae,tt);tt instanceof ArrayBuffer&&(tt=new Uint8Array(tt)),ke.affirmIsDb(tt);const dt=tt.byteLength,[Et,xt]=await Qe.getDirForFilename(Ae,!0);let Mt,dn=0;try{return Mt=await (await Et.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),Mt.truncate(0),dn=Mt.write(tt,{at:0}),dn!=dt&&Je("Expected to write "+dt+" bytes but wrote "+dn+"."),Mt.write(new Uint8Array([1,1]),{at:18}),dn}catch(Ot){throw Mt&&(await Mt.close(),Mt=void 0),await Et.removeEntry(xt).catch(()=>{}),Ot}finally{Mt&&await Mt.close()}},y.oo1){const Ae=function(...tt){const dt=y.oo1.DB.dbCtorHelper.normalizeArgs(...tt);dt.vfs=le.$zName,y.oo1.DB.dbCtorHelper.call(this,dt)};Ae.prototype=Object.create(y.oo1.DB.prototype),y.oo1.OpfsDb=Ae,Ae.importDb=Qe.importDb,y.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(le.pointer,function(tt,dt){dt.capi.sqlite3_busy_timeout(tt,1e4)})}const Zt=function(){const Ae=Te.scopedAllocPush(),tt=new Ke;try{const dt=tt.pointer,Et=xe.SQLITE_OPEN_CREATE|xe.SQLITE_OPEN_READWRITE|xe.SQLITE_OPEN_MAIN_DB,xt=Te.scopedAlloc(8),Mt="/sanity/check/file"+$t(8),dn=Te.scopedAllocCString(Mt);let Ot;if(ie.s11n.serialize("This is \xe4 string."),Ot=ie.s11n.deserialize(),mt("deserialize() says:",Ot),Ot[0]!=="This is \xe4 string."&&Je("String d13n error."),ht.xAccess(le.pointer,dn,0,xt),Ot=Te.peek(xt,"i32"),mt("xAccess(",Mt,") exists ?=",Ot),Ot=ht.xOpen(le.pointer,dn,dt,Et,xt),mt("open rc =",Ot,"state.sabOPView[xOpen] =",ie.sabOPView[ie.opIds.xOpen]),Ot!==0){qe("open failed with code",Ot);return}ht.xAccess(le.pointer,dn,0,xt),Ot=Te.peek(xt,"i32"),Ot||Je("xAccess() failed to detect file."),Ot=at.xSync(tt.pointer,0),Ot&&Je("sync failed w/ rc",Ot),Ot=at.xTruncate(tt.pointer,1024),Ot&&Je("truncate failed w/ rc",Ot),Te.poke(xt,0,"i64"),Ot=at.xFileSize(tt.pointer,xt),Ot&&Je("xFileSize failed w/ rc",Ot),mt("xFileSize says:",Te.peek(xt,"i64")),Ot=at.xWrite(tt.pointer,dn,10,1),Ot&&Je("xWrite() failed!");const pr=Te.scopedAlloc(16);Ot=at.xRead(tt.pointer,pr,6,2),Te.poke(pr+6,0);let ze=Te.cstrToJs(pr);mt("xRead() got:",ze),ze!=="sanity"&&Je("Unexpected xRead() value."),ht.xSleep&&(mt("xSleep()ing before close()ing..."),ht.xSleep(le.pointer,2e3),mt("waking up from xSleep()")),Ot=at.xClose(dt),mt("xClose rc =",Ot,"sabOPView =",ie.sabOPView),mt("Deleting file:",Mt),ht.xDelete(le.pointer,dn,4660),ht.xAccess(le.pointer,dn,0,xt),Ot=Te.peek(xt,"i32"),Ot&&Je("Expecting 0 from xAccess(",Mt,") after xDelete()."),Be("End of OPFS sanity checks.")}finally{tt.dispose(),Te.scopedAllocPop(Ae)}};fe.onmessage=function({data:Ae}){switch(Ae.type){case"opfs-unavailable":st(new Error(Ae.payload.join(" ")));break;case"opfs-async-loaded":fe.postMessage({type:"opfs-async-init",args:ie});break;case"opfs-async-inited":{if(Ee===!0)break;try{y.vfs.installVfs({io:{struct:J,methods:at},vfs:{struct:le,methods:ht}}),ie.sabOPView=new Int32Array(ie.sabOP),ie.sabFileBufView=new Uint8Array(ie.sabIO,0,ie.fileBufferSize),ie.sabS11nView=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Tt(),C.sanityChecks&&(Be("Running sanity checks because of opfs-sanity-check URL arg..."),Zt()),wt()?navigator.storage.getDirectory().then(tt=>{fe.onerror=fe._originalOnError,delete fe._originalOnError,y.opfs=Qe,Qe.rootDirectory=tt,mt("End of OPFS sqlite3_vfs setup.",le),se()}).catch(st):se()}catch(tt){qe(tt),st(tt)}break}default:{const tt="Unexpected message from the OPFS async worker: "+JSON.stringify(Ae);qe(tt),st(new Error(tt));break}}}}))};S.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async N=>{try{let C=S.defaultProxyUri;return N.scriptInfo.sqlite3Dir&&(S.defaultProxyUri=N.scriptInfo.sqlite3Dir+C),S().catch(M=>{N.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",M.message)})}catch(C){return N.config.error("installOpfsVfs() exception:",C),Promise.reject(C)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util.toss,N=y.util.toss3,C=Object.create(null),M=y.capi,de=y.util,me=y.wasm,He=4096,Ye=512,lt=4,mt=8,Be=Ye+lt,qe=Ye,Je=Be,xe=He,ke=M.SQLITE_OPEN_MAIN_DB|M.SQLITE_OPEN_MAIN_JOURNAL|M.SQLITE_OPEN_SUPER_JOURNAL|M.SQLITE_OPEN_WAL,Te=".opaque",Ge=()=>Math.random().toString(36).slice(2),Ke=new TextDecoder,Oe=new TextEncoder,Qe=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),wt=[y.config.error,y.config.warn,y.config.log];y.config.log;const J=y.config.warn;y.config.error;const le=new Map,Ee=ct=>le.get(ct),st=(ct,we)=>{we?le.set(ct,we):le.delete(ct)},se=new Map,fe=ct=>se.get(ct),H=(ct,we)=>{we?se.set(ct,we):se.delete(ct)},ee={xCheckReservedLock:function(ct,we){const je=fe(ct);return je.log("xCheckReservedLock"),je.storeErr(),me.poke32(we,1),0},xClose:function(ct){const we=fe(ct);we.storeErr();const je=we.getOFileForS3File(ct);if(je)try{we.log(`xClose ${je.path}`),we.mapS3FileToOFile(ct,!1),je.sah.flush(),je.flags&M.SQLITE_OPEN_DELETEONCLOSE&&we.deletePath(je.path)}catch(at){return we.storeErr(at,M.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(ct){return M.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(ct,we,je){return M.SQLITE_NOTFOUND},xFileSize:function(ct,we){const je=fe(ct);je.log("xFileSize");const ht=je.getOFileForS3File(ct).sah.getSize()-xe;return me.poke64(we,BigInt(ht)),0},xLock:function(ct,we){const je=fe(ct);je.log(`xLock ${we}`),je.storeErr();const at=je.getOFileForS3File(ct);return at.lockType=we,0},xRead:function(ct,we,je,at){const ht=fe(ct);ht.storeErr();const Pt=ht.getOFileForS3File(ct);ht.log(`xRead ${Pt.path} ${je} @ ${at}`);try{const Zt=Pt.sah.read(me.heap8u().subarray(we,we+je),{at:xe+Number(at)});return Zt<je?(me.heap8u().fill(0,we+Zt,we+je),M.SQLITE_IOERR_SHORT_READ):0}catch(Zt){return ht.storeErr(Zt,M.SQLITE_IOERR)}},xSectorSize:function(ct){return He},xSync:function(ct,we){const je=fe(ct);je.log(`xSync ${we}`),je.storeErr();const at=je.getOFileForS3File(ct);try{return at.sah.flush(),0}catch(ht){return je.storeErr(ht,M.SQLITE_IOERR)}},xTruncate:function(ct,we){const je=fe(ct);je.log(`xTruncate ${we}`),je.storeErr();const at=je.getOFileForS3File(ct);try{return at.sah.truncate(xe+Number(we)),0}catch(ht){return je.storeErr(ht,M.SQLITE_IOERR)}},xUnlock:function(ct,we){const je=fe(ct);je.log("xUnlock");const at=je.getOFileForS3File(ct);return at.lockType=we,0},xWrite:function(ct,we,je,at){const ht=fe(ct);ht.storeErr();const Pt=ht.getOFileForS3File(ct);ht.log(`xWrite ${Pt.path} ${je} ${at}`);try{const Zt=Pt.sah.write(me.heap8u().subarray(we,we+je),{at:xe+Number(at)});return je===Zt?0:S("Unknown write() failure.")}catch(Zt){return ht.storeErr(Zt,M.SQLITE_IOERR)}}},ie=new M.sqlite3_io_methods;ie.$iVersion=1,y.vfs.installVfs({io:{struct:ie,methods:ee}});const Le={xAccess:function(ct,we,je,at){const ht=Ee(ct);ht.storeErr();try{const Pt=ht.getPath(we);me.poke32(at,ht.hasFilename(Pt)?1:0)}catch{me.poke32(at,0)}return 0},xCurrentTime:function(ct,we){return me.poke(we,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(ct,we){return me.poke(we,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(ct,we,je){const at=Ee(ct);at.log(`xDelete ${me.cstrToJs(we)}`),at.storeErr();try{return at.deletePath(at.getPath(we)),0}catch(ht){return at.storeErr(ht),M.SQLITE_IOERR_DELETE}},xFullPathname:function(ct,we,je,at){return me.cstrncpy(at,we,je)<je?0:M.SQLITE_CANTOPEN},xGetLastError:function(ct,we,je){const at=Ee(ct),ht=at.popErr();if(at.log(`xGetLastError ${we} e =`,ht),ht){const Pt=me.scopedAllocPush();try{const[Zt,Ae]=me.scopedAllocCString(ht.message,!0);me.cstrncpy(je,Zt,we),Ae>we&&me.poke8(je+we-1,0)}catch{return M.SQLITE_NOMEM}finally{me.scopedAllocPop(Pt)}}return ht?ht.sqlite3Rc||M.SQLITE_IOERR:0},xOpen:function(we,je,at,ht,Pt){const Zt=Ee(we);try{Zt.log(`xOpen ${me.cstrToJs(je)} ${ht}`);const Ae=je&&me.peek8(je)?Zt.getPath(je):Ge();let tt=Zt.getSAHForPath(Ae);!tt&&ht&M.SQLITE_OPEN_CREATE&&(Zt.getFileCount()<Zt.getCapacity()?(tt=Zt.nextAvailableSAH(),Zt.setAssociatedPath(tt,Ae,ht)):S("SAH pool is full. Cannot create file",Ae)),tt||S("file not found:",Ae);const dt={path:Ae,flags:ht,sah:tt};Zt.mapS3FileToOFile(at,dt),dt.lockType=M.SQLITE_LOCK_NONE;const Et=new M.sqlite3_file(at);return Et.$pMethods=ie.pointer,Et.dispose(),me.poke32(Pt,ht),0}catch(Ae){return Zt.storeErr(Ae),M.SQLITE_CANTOPEN}}},it=function(ct){y.capi.sqlite3_vfs_find(ct)&&N("VFS name is already registered:",ct);const we=new M.sqlite3_vfs,je=M.sqlite3_vfs_find(null),at=je?new M.sqlite3_vfs(je):null;return we.$iVersion=2,we.$szOsFile=M.sqlite3_file.structInfo.sizeof,we.$mxPathname=Ye,we.addOnDispose(we.$zName=me.allocCString(ct),()=>st(we.pointer,0)),at&&(we.$xRandomness=at.$xRandomness,we.$xSleep=at.$xSleep,at.dispose()),!we.$xRandomness&&!Le.xRandomness&&(Le.xRandomness=function(ht,Pt,Zt){const Ae=me.heap8u();let tt=0;for(;tt<Pt;++tt)Ae[Zt+tt]=Math.random()*255e3&255;return tt}),!we.$xSleep&&!Le.xSleep&&(Le.xSleep=(ht,Pt)=>0),y.vfs.installVfs({vfs:{struct:we,methods:Le}}),we};class Tt{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Be);#c;#l;#u;constructor(we=Object.create(null)){this.#u=we.verbosity??Qe.verbosity,this.vfsName=we.name||Qe.name,this.#l=it(this.vfsName),st(this.#l.pointer,this),this.vfsDir=we.directory||"."+this.vfsName,this.#c=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(we.clearOnInit??Qe.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(we.initialCapacity||Qe.initialCapacity)})}#d(we,...je){this.#u>we&&wt[we](this.vfsName+":",...je)}log(...we){this.#d(2,...we)}warn(...we){this.#d(1,...we)}error(...we){this.#d(0,...we)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const we=[],je=this.#i.keys();for(const at of je)we.push(at);return we}async addCapacity(we){for(let je=0;je<we;++je){const at=Ge(),Pt=await (await this.#t.getFileHandle(at,{create:!0})).createSyncAccessHandle();this.#r.set(Pt,at),this.setAssociatedPath(Pt,"",0)}return this.getCapacity()}async reduceCapacity(we){let je=0;for(const at of Array.from(this.#s)){if(je===we||this.getFileCount()===this.getCapacity())break;const ht=this.#r.get(at);at.close(),await this.#t.removeEntry(ht),this.#r.delete(at),this.#s.delete(at),++je}return je}releaseAccessHandles(){for(const we of this.#r.keys())we.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(we){const je=[];for await(const[at,ht]of this.#t)ht.kind==="file"&&je.push([at,ht]);return Promise.all(je.map(async([at,ht])=>{try{const Pt=await ht.createSyncAccessHandle();if(this.#r.set(Pt,at),we)Pt.truncate(xe),this.setAssociatedPath(Pt,"",0);else{const Zt=this.getAssociatedPath(Pt);Zt?this.#i.set(Zt,Pt):this.#s.add(Pt)}}catch(Pt){throw this.storeErr(Pt),this.releaseAccessHandles(),Pt}}))}getAssociatedPath(we){we.read(this.#a,{at:0});const je=this.#c.getUint32(qe);if(this.#a[0]&&(je&M.SQLITE_OPEN_DELETEONCLOSE||!(je&ke)))return J(`Removing file with unexpected flags ${je.toString(16)}`,this.#a),this.setAssociatedPath(we,"",0),"";const at=new Uint32Array(mt/4);we.read(at,{at:Je});const ht=this.computeDigest(this.#a);if(at.every((Pt,Zt)=>Pt===ht[Zt])){const Pt=this.#a.findIndex(Zt=>Zt===0);return Pt===0&&we.truncate(xe),Pt?Ke.decode(this.#a.subarray(0,Pt)):""}else return J("Disassociating file with bad digest."),this.setAssociatedPath(we,"",0),""}setAssociatedPath(we,je,at){const ht=Oe.encodeInto(je,this.#a);Ye<=ht.written+1&&S("Path too long:",je),this.#a.fill(0,ht.written,Ye),this.#c.setUint32(qe,at);const Pt=this.computeDigest(this.#a);we.write(this.#a,{at:0}),we.write(Pt,{at:Je}),we.flush(),je?(this.#i.set(je,we),this.#s.delete(we)):(we.truncate(xe),this.#s.add(we))}computeDigest(we){let je=0xdeadbeef,at=0x41c6ce57;for(const ht of we)je=31*je+ht*307,at=31*at+ht*307;return new Uint32Array([je>>>0,at>>>0])}async reset(we){await this.isReady;let je=await navigator.storage.getDirectory(),at;for(const ht of this.vfsDir.split("/"))ht&&(at=je,je=await je.getDirectoryHandle(ht,{create:!0}));return this.#e=je,this.#n=at,this.#t=await this.#e.getDirectoryHandle(Te,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(we)}getPath(we){return me.isPtr(we)&&(we=me.cstrToJs(we)),(we instanceof URL?we:new URL(we,"file://localhost/")).pathname}deletePath(we){const je=this.#i.get(we);return je&&(this.#i.delete(we),this.setAssociatedPath(je,"",0)),!!je}storeErr(we,je){return we&&(we.sqlite3Rc=je||M.SQLITE_IOERR,this.error(we)),this.$error=we,je}popErr(){const we=this.$error;return this.$error=void 0,we}nextAvailableSAH(){const[we]=this.#s.keys();return we}getOFileForS3File(we){return this.#o.get(we)}mapS3FileToOFile(we,je){je?(this.#o.set(we,je),H(we,this)):(this.#o.delete(we),H(we,!1))}hasFilename(we){return this.#i.has(we)}getSAHForPath(we){return this.#i.get(we)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;M.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete C[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(Te,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(we){y.config.error(this.vfsName,"removeVfs() failed:",we)}return!0}exportFile(we){const je=this.#i.get(we)||S("File not found:",we),at=je.getSize()-xe,ht=new Uint8Array(at>0?at:0);if(at>0){const Pt=je.read(ht,{at:xe});Pt!=at&&S("Expected to read "+at+" bytes but read "+Pt+".")}return ht}async importDbChunked(we,je){const at=this.#i.get(we)||this.nextAvailableSAH()||S("No available handles to import to.");at.truncate(0);let ht=0,Pt,Zt=!1;try{for(;(Pt=await je())!==void 0;)Pt instanceof ArrayBuffer&&(Pt=new Uint8Array(Pt)),ht===0&&Pt.byteLength>=15&&(de.affirmDbHeader(Pt),Zt=!0),at.write(Pt,{at:xe+ht}),ht+=Pt.byteLength;if((ht<512||ht%512!==0)&&S("Input size",ht,"is not correct for an SQLite database."),!Zt){const Ae=new Uint8Array(20);at.read(Ae,{at:0}),de.affirmDbHeader(Ae)}at.write(new Uint8Array([1,1]),{at:xe+18})}catch(Ae){throw this.setAssociatedPath(at,"",0),Ae}return this.setAssociatedPath(at,we,M.SQLITE_OPEN_MAIN_DB),ht}importDb(we,je){if(je instanceof ArrayBuffer)je=new Uint8Array(je);else if(je instanceof Function)return this.importDbChunked(we,je);const at=this.#i.get(we)||this.nextAvailableSAH()||S("No available handles to import to."),ht=je.byteLength;(ht<512||ht%512!=0)&&S("Byte array size is invalid for an SQLite db.");const Pt="SQLite format 3";for(let Ae=0;Ae<Pt.length;++Ae)Pt.charCodeAt(Ae)!==je[Ae]&&S("Input does not contain an SQLite database header.");const Zt=at.write(je,{at:xe});return Zt!=ht?(this.setAssociatedPath(at,"",0),S("Expected to write "+ht+" bytes but wrote "+Zt+".")):(at.write(new Uint8Array([1,1]),{at:xe+18}),this.setAssociatedPath(at,we,M.SQLITE_OPEN_MAIN_DB)),Zt}}class $t{#e;constructor(we){this.#e=we,this.vfsName=we.vfsName}async addCapacity(we){return this.#e.addCapacity(we)}async reduceCapacity(we){return this.#e.reduceCapacity(we)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(we){const je=this.#e.getCapacity();return je<we?this.#e.addCapacity(we-je):je}exportFile(we){return this.#e.exportFile(we)}importDb(we,je){return this.#e.importDb(we,je)}async wipeFiles(){return this.#e.reset(!0)}unlink(we){return this.#e.deletePath(we)}async removeVfs(){return this.#e.removeVfs()}}const Kt=async()=>{const ct=await navigator.storage.getDirectory(),we=".opfs-sahpool-sync-check-"+Ge(),ht=(await (await ct.getFileHandle(we,{create:!0})).createSyncAccessHandle()).close();return await ht,await ct.removeEntry(we),ht?.then&&S("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};y.installOpfsSAHPoolVfs=async function(ct=Object.create(null)){ct=Object.assign(Object.create(null),Qe,ct||{});const we=ct.name;if(ct.$testThrowPhase1)throw ct.$testThrowPhase1;if(C[we])try{return await C[we]}catch(je){if(ct.forceReinitIfPreviouslyFailed)delete C[we];else throw je}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?C[we]=Promise.reject(new Error("Missing required OPFS APIs.")):C[we]=Kt().then(async function(){if(ct.$testThrowPhase2)throw ct.$testThrowPhase2;const je=new Tt(ct);return je.isReady.then(async()=>{const at=new $t(je);if(y.oo1){const ht=y.oo1,Pt=je.getVfs(),Zt=function(...Ae){const tt=ht.DB.dbCtorHelper.normalizeArgs(...Ae);tt.vfs=Pt.$zName,ht.DB.dbCtorHelper.call(this,tt)};Zt.prototype=Object.create(ht.DB.prototype),at.OpfsSAHPoolDb=Zt}return je.log("VFS initialized."),at}).catch(async at=>{throw await je.removeVfs().catch(()=>{}),at})}).catch(je=>C[we]=Promise.reject(je))}}),typeof g<"u"){const y=Object.assign(Object.create(null),{exports:typeof pe>"u"?g.asm:pe,memory:g.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=y;let S;try{S=globalThis.sqlite3ApiBootstrap()}catch(N){throw console.error("sqlite3ApiBootstrap() error:",N),N}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}g.sqlite3=S}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=o,n}})();const q7=function(){const t=d1;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const s=i.sqlite3;s.scriptInfo=e,n.__isUnderTest&&(s.__isUnderTest=!0);const o=s.asyncPostInit;return delete s.asyncPostInit,o()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();d1=q7;const R7=d1;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const h=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=h}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,s=e.debug||r,o=e.generateMessageId?void 0:Object.create(null),l=e.generateMessageId||function(h){return h.type+"#"+(o[h.type]=(o[h.type]||0)+1)},u=(...h)=>{throw new Error(h.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let d,f;return e.worker.onmessage=function(h){h=h.data,s("worker1.onmessage",h);let b=n[h.messageId];if(!b){if(h&&h.type==="sqlite3-api"&&h.result==="worker1-ready"){e.onready&&e.onready(f);return}if(b=n[h.type],b&&b.onrow){b.onrow(h);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",h);return}switch(delete n[h.messageId],h.type){case"error":b.reject(h);return;case"open":d||(d=h.dbId);break;case"close":h.dbId===d&&(d=void 0);break}try{b.resolve(h)}catch(x){b.reject(x)}},f=function(){let h;arguments.length===1?h=arguments[0]:arguments.length===2?(h=Object.create(null),h.type=arguments[0],h.args=arguments[1],h.dbId=h.args.dbId):u("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!h.dbId&&h.type!=="open"&&(h.dbId=d),h.messageId=l(h),h.departureTime=performance.now();const b=Object.create(null);b.message=h;let x;h.type==="exec"&&h.args&&(typeof h.args.callback=="function"?(x=h.messageId+":row",b.onrow=h.args.callback,h.args.callback=x,n[x]=b):typeof h.args.callback=="string"&&u("exec callback may not be a string when using the Promise interface."));let w=new Promise(function(E,I){b.resolve=E,b.reject=I,n[h.messageId]=b,s("Posting",h.type,"message to Worker dbId="+(d||"default")+":",h),e.worker.postMessage(h)});return x&&(w=w.finally(()=>delete n[x])),w}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(s){n.reject(s)}}});const r=new Promise(function(i,s){n.resolve=i,n.reject=s});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function EO(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function xw(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function nF(t){const e=t.split(/[\\/]/).filter(s=>s!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(s=>`${n}-${s}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let s=await navigator.storage.getDirectory();for(let o of e)s=await s.getDirectoryHandle(o);return s}}}async function PS(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const s=[];let o=!1;for(;!o;){const f=await i.read();f.value&&s.push(f.value),o=f.done}const l=s.reduce((f,h)=>f+h.length,0),u=new Uint8Array(l);let d=0;return s.forEach(f=>{u.set(f,d),d+=f.length}),u}}else return n}class A7{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:EO()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:EO()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:s,verbose:o}=this.config,l=[s===!0?"r":"cw",o===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await R7()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,l),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,l),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=u=>{this.config.clientKey!==u.data.clientKey&&this.init(u.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(u){this.emitMessage({type:"error",error:u,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const s=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),s.type){case"config":this.editConfig(s);break;case"query":case"batch":case"transaction":this.exec(s);break;case"function":this.createUserFunction(s);break;case"getinfo":this.getDatabaseInfo(s);break;case"import":this.importDb(s);break;case"export":this.exportDb(s);break;case"delete":this.deleteDb(s);break;case"destroy":this.destroy(s);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const s=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{s||await this.transactionMutex.lock();const o=xw(this.db,r);i.data.push(o)}finally{s||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(o=>{for(let l of r.statements){const u=xw(o,l);i.data.push(u)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const o=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:o}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)xw(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,s=this.dbStorageType,o=s!==void 0?s!=="memory"?await navigator.storage?.persisted():!1:void 0,u=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],d=typeof u=="number"?u:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:d,storageType:s,persisted:o}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:s,queryKey:o}=r;let l;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:o});return}s==="callback"?l=(...u)=>{this.emitMessage({type:"callback",name:i,args:u})}:l=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:s,name:i,func:l}),this.emitMessage({type:"success",queryKey:o})}catch(u){this.emitMessage({type:"error",error:u,queryKey:o})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...s)=>r.func(...s),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:s}=r;let o=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const l=await PS(s,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,l)}else{const l=await PS(s,"buffer"),u=this.sqlite3.wasm.allocFromTypedArray(l);this.pointers.push(u);const d=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",u,l.byteLength,l.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(d),this.execInitStatements()}}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const s=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:s},[s])}catch(s){this.emitMessage({type:"error",error:s,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let s=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:o,fileName:l,tempFileNames:u}=nF(this.config.databasePath),d=await o(),f=[l,...u];this.destroy(),await Promise.all(f.map(async h=>d.removeEntry(h).catch(b=>{if(!(b instanceof DOMException&&b.name==="NotFoundError"))throw b})))}else this.destroy()}catch(o){this.emitMessage({type:"error",error:o,queryKey:i}),s=!0}finally{await this.init("delete")}s||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:u1(globalThis);this.proxy=n,this.init("initial")}}function Jy(t,...e){return{sql:t.join("?"),params:e}}function j7(t){return!t.some(e=>!Array.isArray(e))}function _w(t,e){let n;return j7(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((s,o)=>{i[s]=r[o]}),i})}function P7(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function F7(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function D7(t){if(typeof t=="function"&&(t=t(Jy)),P7(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!F7(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function ww(){return crypto.randomUUID()}function NO(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=Jy(t,...e),n}async function gg(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class L7{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const l=o instanceof MessageEvent?o.data:o,u=this.queriesInProgress;switch(l.type){case"success":case"data":case"buffer":case"info":case"error":if(l.queryKey&&u.has(l.queryKey)){const[f,h]=u.get(l.queryKey);l.type==="error"?h(l.error):f(l),u.delete(l.queryKey)}else if(l.type==="error")throw l.error;break;case"callback":const d=this.userCallbacks.get(l.name);d&&d(...l.args??[]);break;case"event":this.config.onConnect?.(l.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async o=>gg("shared",this.bypassMutationLock||o.type==="import"||o.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const l=ww();switch(o.type){case"import":this.processor.postMessage({...o,queryKey:l},[o.database]);break;default:this.processor.postMessage({...o,queryKey:l});break}return new Promise((u,d)=>{this.queriesInProgress.set(l,[u,d])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l,u="all",d)=>{const f=await this.createQuery({type:"query",transactionKey:d,sql:o,params:l,method:u}),h={rows:[],columns:[]};return f.type==="data"&&(h.rows=f.data[0]?.rows??[],h.columns=f.data[0]?.columns??[]),h}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=await this.createQuery({type:"batch",statements:o}),u=new Array(o.length).fill({rows:[],columns:[]});return l.type==="data"&&l.data.forEach((d,f)=>{u[f]=d}),u}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(o,...l)=>{const u=NO(o,l),{rows:d,columns:f}=await this.exec(u.sql,u.params,"all");return _w(d,f)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=o(Jy);return(await this.execBatch(l)).map(({rows:d,columns:f})=>_w(d,f))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=ww();await this.createQuery({type:"transaction",transactionKey:o,action:"begin"});const l=async h=>{const b=D7(h),{rows:x,columns:w}=await this.exec(b.sql,b.params,"all",o);return _w(x,w)};return{query:l,sql:async(h,...b)=>{const x=NO(h,b);return await l(x)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async o=>gg("exclusive",!1,this.config,async()=>{let l;this.bypassMutationLock=!0;try{l=await this.beginTransaction();const u=await o({sql:l.sql,query:l.query});return await l.commit(),u}catch(u){throw await l?.rollback(),u}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await this.createQuery({type:"function",functionName:o,functionType:"callback"}),this.userCallbacks.set(o,l)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{const u=`_sqlocal_func_${o}`;this.proxy===globalThis&&(this.proxy[u]=l),await this.createQuery({type:"function",functionName:o,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[u]=l)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=await this.createQuery({type:"getinfo"});if(o.type==="info")return o.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let o,l;const{storageType:u}=await this.getDatabaseInfo();if(u==="opfs"){const d=nF(this.config.databasePath),{directories:f,getDirectoryHandle:h}=d;o=d.fileName;const b=`backup-${Date.now()}--${o}`,x=`${f.join("/")}/${b}`;await this.exec("VACUUM INTO ?",[x]);const w=await h();l=await (await (await w.getFileHandle(b)).getFile()).arrayBuffer(),await w.removeEntry(b)}else{const d=await this.createQuery({type:"export"});if(d.type==="buffer")o="database.sqlite3",l=d.buffer;else throw new Error("The database failed to export.")}return new File([l],o,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await gg("exclusive",!1,this.config,async()=>{try{const u=await PS(o);await this.createQuery({type:"import",database:u}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{await gg("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof o=="function"&&(this.bypassMutationLock=!0,await o()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...s}=n;this.config=n,this.clientKey=ww(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s.databasePath})`),typeof globalThis.Worker<"u"&&s.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=u1(this.processor)):(this.processor=new A7(!0),this.processor.onmessage=o=>this.processMessageEvent(o),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...s,clientKey:this.clientKey,onInitStatements:r?.(Jy)??[]}})}}class M7 extends L7{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new w7,createDriver:()=>new $7(this),createIntrospector:e=>new _7(e),createQueryCompiler:()=>new v7}})}}class $7{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new B7(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class B7{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const z7=({database:t,bootstrap:e})=>{const{dialect:n}=new M7({databasePath:`${t}.sqlite3`,onInit(i){return[i`PRAGMA foreign_keys = ON;`]}}),r=new Cl({dialect:n});return{kysely:r,async bootstrap(){return e({kysely:r})}}},ys=gn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),W7="icon-[material-symbols--error-outline]",U7=gn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Ji=({error:t,variant:e,tva:n=U7,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?m.jsxs("div",{className:i.base(),children:[m.jsx(Xt,{icon:W7}),m.jsx("span",{children:Dl.rich(t.message)})]}):null},V7=gn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-emerald-600","font-bold"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),wn=({label:t,hint:e,required:n=!1,formState:r,name:i,children:s,variant:o,tva:l=V7,css:u})=>{const d=l({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...o,css:u}).slots;return m.jsxs("div",{className:d.base(),children:[m.jsxs("div",{className:"flex flex-row justify-between",children:[t?m.jsx("label",{htmlFor:i,children:t}):null,m.jsx(Ji,{variant:{compact:!0},error:r.errors[i]})]}),e?m.jsx("div",{className:"text-sm italic",children:e}):null,m.jsx("div",{className:d.input(),children:s})]})},Oo=({form:t,mutation:e})=>{const n=t.handleSubmit(async r=>e.mutateAsync(r,{onError:i=>{RE({error:i,errors:[IE({error:i,schema:qE,onError:({data:s})=>{t.setError("root",{message:s.message})}})],onError:s=>{t.setError("root",{message:s.message})}})}}).catch(()=>{}));return r=>{r.stopPropagation(),n(r)}};function H7(t,e,n,r={leading:!1}){const[i,s]=U.useState(t),[o,l]=U.useState(t),u=U.useRef(null),d=U.useRef(!0),f=()=>window.clearTimeout(u.current||void 0);U.useEffect(()=>f,[]),U.useEffect(()=>{e(i)},[i]),U.useEffect(()=>{l(t),s(t)},[t]);const h=U.useCallback(b=>{l(b),f(),d.current&&r.leading?s(b):u.current=window.setTimeout(()=>{d.current=!0,s(b)},n),d.current=!1},[r.leading]);return[o,h]}const Q7=gn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),rF=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=Q7,css:s})=>{const o=i({...r,css:s}).slots,[l,u]=H7(t,d=>{e(d||"")},500);return m.jsxs("div",{className:o.base(),children:[m.jsx("div",{className:o.search(),children:m.jsx(Xt,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),m.jsx("input",{value:l||"",className:o.input(),type:"text",placeholder:n||Dl.text("Fulltext (placeholder)"),onChange:d=>{u(d.target.value)}}),t&&m.jsx("div",{className:o.clear(),onClick:()=>{e("")},children:m.jsx(Xt,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},lp="icon-[pajamas--go-back]",Yy="icon-[line-md--confirm-circle]",iF="icon-[mage--edit]",K7="icon-[arcticons--nothing-x]",G7="icon-[tabler--filter-plus]",kO="icon-[tabler--filter-minus]",f1="icon-[ph--list-dashes-thin]",sF="icon-[svg-spinners--3-dots-scale]",h1="icon-[material-symbols-light--logout-sharp]",Z7="icon-[fluent--shape-intersect-20-regular]",nb="icon-[fluent--checkbox-unchecked-20-regular]",rb="icon-[fluent--checkbox-checked-20-regular]",cp="icon-[teenyicons--tag-outline]",vs="icon-[ph--trash]",J7="icon-[clarity--upload-cloud-line]",p1="icon-[ph--user]",Y7=async({queryClient:t,keys:e})=>{for await(const n of e)await t.invalidateQueries({queryKey:n,refetchType:"all"})},kr=t=>{const e=bv(),n=Io();return async()=>{await Y7({keys:t,queryClient:e}),await n.invalidate()}};var Sw={exports:{}},Ew,IO;function X7(){if(IO)return Ew;IO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ew=t,Ew}var Nw,CO;function eQ(){if(CO)return Nw;CO=1;var t=X7();function e(){}function n(){}return n.resetWarningCache=e,Nw=function(){function r(o,l,u,d,f,h){if(h!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Nw}var TO;function tQ(){return TO||(TO=1,Sw.exports=eQ()()),Sw.exports}var nQ=tQ();const Vn=Vs(nQ);function iu(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function u(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?s(f.value):i(f.value).then(l,u)}d((r=r.apply(t,e||[])).next())})}const rQ=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Fd(t,e,n){const r=iQ(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&OO(r,"path",s),OO(r,"relativePath",s),r}function iQ(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=rQ.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function OO(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const sQ=[".DS_Store","Thumbs.db"];function oQ(t){return iu(this,void 0,void 0,function*(){return Xy(t)&&aQ(t.dataTransfer)?dQ(t.dataTransfer,t.type):lQ(t)?cQ(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?uQ(t):[]})}function aQ(t){return Xy(t)}function lQ(t){return Xy(t)&&Xy(t.target)}function Xy(t){return typeof t=="object"&&t!==null}function cQ(t){return FS(t.target.files).map(e=>Fd(e))}function uQ(t){return iu(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Fd(n))})}function dQ(t,e){return iu(this,void 0,void 0,function*(){if(t.items){const n=FS(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(fQ));return qO(oF(r))}return qO(FS(t.files).map(n=>Fd(n)))})}function qO(t){return t.filter(e=>sQ.indexOf(e.name)===-1)}function FS(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function fQ(t){if(typeof t.webkitGetAsEntry!="function")return RO(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?aF(e):RO(t,e)}function oF(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?oF(n):[n]],[])}function RO(t,e){return iu(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Fd(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Fd(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function hQ(t){return iu(this,void 0,void 0,function*(){return t.isDirectory?aF(t):pQ(t)})}function aF(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>iu(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(hQ));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function pQ(t){return iu(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Fd(r,t.fullPath);e(i)},r=>{n(r)})})})}var yg={},AO;function mQ(){return AO||(AO=1,yg.__esModule=!0,yg.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),yg}var gQ=mQ();const kw=Vs(gQ);function jO(t){return bQ(t)||vQ(t)||cF(t)||yQ()}function yQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bQ(t){if(Array.isArray(t))return DS(t)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){lF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function up(t,e){return wQ(t)||_Q(t,e)||cF(t,e)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cF(t,e){if(t){if(typeof t=="string")return DS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(t,e)}}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Q(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function wQ(t){if(Array.isArray(t))return t}var SQ=typeof kw=="function"?kw:kw.default,uF="file-invalid-type",dF="file-too-large",fF="file-too-small",hF="too-many-files",EQ={FileInvalidType:uF,FileTooLarge:dF,FileTooSmall:fF,TooManyFiles:hF},NQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:uF,message:"File type must be ".concat(r)}},DO=function(e){return{code:dF,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},LO=function(e){return{code:fF,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},kQ={code:hF,message:"Too many files"};function pF(t,e){var n=t.type==="application/x-moz-file"||SQ(t,e);return[n,n?null:NQ(e)]}function mF(t,e,n){if(Ic(t.size))if(Ic(e)&&Ic(n)){if(t.size>n)return[!1,DO(n)];if(t.size<e)return[!1,LO(e)]}else{if(Ic(e)&&t.size<e)return[!1,LO(e)];if(Ic(n)&&t.size>n)return[!1,DO(n)]}return[!0,null]}function Ic(t){return t!=null}function IQ(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(u){var d=pF(u,n),f=up(d,1),h=f[0],b=mF(u,r,i),x=up(b,1),w=x[0],E=l?l(u):null;return h&&w&&!E})}function ev(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function vg(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function MO(t){t.preventDefault()}function CQ(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function TQ(t){return t.indexOf("Edge/")!==-1}function OQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return CQ(t)||TQ(t)}function $o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!ev(r)&&l&&l.apply(void 0,[r].concat(s)),ev(r)})}}function qQ(){return"showOpenFilePicker"in window}function RQ(t){if(Ic(t)){var e=Object.entries(t).filter(function(n){var r=up(n,2),i=r[0],s=r[1],o=!0;return gF(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(yF))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=up(r,2),s=i[0],o=i[1];return FO(FO({},n),{},lF({},s,o))},{});return[{description:"Files",accept:e}]}return t}function AQ(t){if(Ic(t))return Object.entries(t).reduce(function(e,n){var r=up(n,2),i=r[0],s=r[1];return[].concat(jO(e),[i],jO(s))},[]).filter(function(e){return gF(e)||yF(e)}).join(",")}function jQ(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function PQ(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function gF(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function yF(t){return/^.*\.[\w]+$/.test(t)}var FQ=["children"],DQ=["open"],LQ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],MQ=["refKey","onChange","onClick"];function $Q(t){return WQ(t)||zQ(t)||vF(t)||BQ()}function BQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WQ(t){if(Array.isArray(t))return LS(t)}function Iw(t,e){return HQ(t)||VQ(t,e)||vF(t,e)||UQ()}function UQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vF(t,e){if(t){if(typeof t=="string")return LS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(t,e)}}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function HQ(t){if(Array.isArray(t))return t}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){MS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tv(t,e){if(t==null)return{};var n=QQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ib=U.forwardRef(function(t,e){var n=t.children,r=tv(t,FQ),i=xF(r),s=i.open,o=tv(i,DQ);return U.useImperativeHandle(e,function(){return{open:s}},[s]),jn.createElement(U.Fragment,null,n(yr(yr({},o),{},{open:s})))});ib.displayName="Dropzone";var bF={disabled:!1,getFilesFromEvent:oQ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ib.defaultProps=bF;ib.propTypes={children:Vn.func,accept:Vn.objectOf(Vn.arrayOf(Vn.string)),multiple:Vn.bool,preventDropOnDocument:Vn.bool,noClick:Vn.bool,noKeyboard:Vn.bool,noDrag:Vn.bool,noDragEventsBubbling:Vn.bool,minSize:Vn.number,maxSize:Vn.number,maxFiles:Vn.number,disabled:Vn.bool,getFilesFromEvent:Vn.func,onFileDialogCancel:Vn.func,onFileDialogOpen:Vn.func,useFsAccessApi:Vn.bool,autoFocus:Vn.bool,onDragEnter:Vn.func,onDragLeave:Vn.func,onDragOver:Vn.func,onDrop:Vn.func,onDropAccepted:Vn.func,onDropRejected:Vn.func,onError:Vn.func,validator:Vn.func};var $S={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function xF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=yr(yr({},bF),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,u=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,b=e.onDrop,x=e.onDropAccepted,w=e.onDropRejected,E=e.onFileDialogCancel,I=e.onFileDialogOpen,q=e.useFsAccessApi,O=e.autoFocus,T=e.preventDropOnDocument,R=e.noClick,D=e.noKeyboard,F=e.noDrag,B=e.noDragEventsBubbling,$=e.onError,j=e.validator,z=U.useMemo(function(){return AQ(n)},[n]),P=U.useMemo(function(){return RQ(n)},[n]),W=U.useMemo(function(){return typeof I=="function"?I:BO},[I]),K=U.useMemo(function(){return typeof E=="function"?E:BO},[E]),L=U.useRef(null),te=U.useRef(null),X=U.useReducer(KQ,$S),oe=Iw(X,2),re=oe[0],ne=oe[1],ae=re.isFocused,Z=re.isFileDialogActive,ue=U.useRef(typeof window<"u"&&window.isSecureContext&&q&&qQ()),he=function(){!ue.current&&Z&&setTimeout(function(){if(te.current){var ut=te.current.files;ut.length||(ne({type:"closeDialog"}),K())}},300)};U.useEffect(function(){return window.addEventListener("focus",he,!1),function(){window.removeEventListener("focus",he,!1)}},[te,Z,K,ue]);var ge=U.useRef([]),_e=function(ut){L.current&&L.current.contains(ut.target)||(ut.preventDefault(),ge.current=[])};U.useEffect(function(){return T&&(document.addEventListener("dragover",MO,!1),document.addEventListener("drop",_e,!1)),function(){T&&(document.removeEventListener("dragover",MO),document.removeEventListener("drop",_e))}},[L,T]),U.useEffect(function(){return!r&&O&&L.current&&L.current.focus(),function(){}},[L,O,r]);var Ne=U.useCallback(function($e){$?$($e):console.error($e)},[$]),Pe=U.useCallback(function($e){$e.preventDefault(),$e.persist(),Ie($e),ge.current=[].concat($Q(ge.current),[$e.target]),vg($e)&&Promise.resolve(i($e)).then(function(ut){if(!(ev($e)&&!B)){var Ut=ut.length,Vt=Ut>0&&IQ({files:ut,accept:z,minSize:o,maxSize:s,multiple:l,maxFiles:u,validator:j}),fn=Ut>0&&!Vt;ne({isDragAccept:Vt,isDragReject:fn,isDragActive:!0,type:"setDraggedFiles"}),d&&d($e)}}).catch(function(ut){return Ne(ut)})},[i,d,Ne,B,z,o,s,l,u,j]),Re=U.useCallback(function($e){$e.preventDefault(),$e.persist(),Ie($e);var ut=vg($e);if(ut&&$e.dataTransfer)try{$e.dataTransfer.dropEffect="copy"}catch{}return ut&&h&&h($e),!1},[h,B]),Xe=U.useCallback(function($e){$e.preventDefault(),$e.persist(),Ie($e);var ut=ge.current.filter(function(Vt){return L.current&&L.current.contains(Vt)}),Ut=ut.indexOf($e.target);Ut!==-1&&ut.splice(Ut,1),ge.current=ut,!(ut.length>0)&&(ne({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),vg($e)&&f&&f($e))},[L,f,B]),et=U.useCallback(function($e,ut){var Ut=[],Vt=[];$e.forEach(function(fn){var er=pF(fn,z),qn=Iw(er,2),Rr=qn[0],vi=qn[1],hr=mF(fn,o,s),Ht=Iw(hr,2),Oi=Ht[0],qi=Ht[1],Ri=j?j(fn):null;if(Rr&&Oi&&!Ri)Ut.push(fn);else{var Xs=[vi,qi];Ri&&(Xs=Xs.concat(Ri)),Vt.push({file:fn,errors:Xs.filter(function(ia){return ia})})}}),(!l&&Ut.length>1||l&&u>=1&&Ut.length>u)&&(Ut.forEach(function(fn){Vt.push({file:fn,errors:[kQ]})}),Ut.splice(0)),ne({acceptedFiles:Ut,fileRejections:Vt,isDragReject:Vt.length>0,type:"setFiles"}),b&&b(Ut,Vt,ut),Vt.length>0&&w&&w(Vt,ut),Ut.length>0&&x&&x(Ut,ut)},[ne,l,z,o,s,u,b,x,w,j]),nt=U.useCallback(function($e){$e.preventDefault(),$e.persist(),Ie($e),ge.current=[],vg($e)&&Promise.resolve(i($e)).then(function(ut){ev($e)&&!B||et(ut,$e)}).catch(function(ut){return Ne(ut)}),ne({type:"reset"})},[i,et,Ne,B]),Ve=U.useCallback(function(){if(ue.current){ne({type:"openDialog"}),W();var $e={multiple:l,types:P};window.showOpenFilePicker($e).then(function(ut){return i(ut)}).then(function(ut){et(ut,null),ne({type:"closeDialog"})}).catch(function(ut){jQ(ut)?(K(ut),ne({type:"closeDialog"})):PQ(ut)?(ue.current=!1,te.current?(te.current.value=null,te.current.click()):Ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ne(ut)});return}te.current&&(ne({type:"openDialog"}),W(),te.current.value=null,te.current.click())},[ne,W,K,q,et,Ne,P,l]),ot=U.useCallback(function($e){!L.current||!L.current.isEqualNode($e.target)||($e.key===" "||$e.key==="Enter"||$e.keyCode===32||$e.keyCode===13)&&($e.preventDefault(),Ve())},[L,Ve]),kt=U.useCallback(function(){ne({type:"focus"})},[]),At=U.useCallback(function(){ne({type:"blur"})},[]),Gt=U.useCallback(function(){R||(OQ()?setTimeout(Ve,0):Ve())},[R,Ve]),ln=function(ut){return r?null:ut},ve=function(ut){return D?null:ln(ut)},be=function(ut){return F?null:ln(ut)},Ie=function(ut){B&&ut.stopPropagation()},De=U.useMemo(function(){return function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=$e.refKey,Ut=ut===void 0?"ref":ut,Vt=$e.role,fn=$e.onKeyDown,er=$e.onFocus,qn=$e.onBlur,Rr=$e.onClick,vi=$e.onDragEnter,hr=$e.onDragOver,Ht=$e.onDragLeave,Oi=$e.onDrop,qi=tv($e,LQ);return yr(yr(MS({onKeyDown:ve($o(fn,ot)),onFocus:ve($o(er,kt)),onBlur:ve($o(qn,At)),onClick:ln($o(Rr,Gt)),onDragEnter:be($o(vi,Pe)),onDragOver:be($o(hr,Re)),onDragLeave:be($o(Ht,Xe)),onDrop:be($o(Oi,nt)),role:typeof Vt=="string"&&Vt!==""?Vt:"presentation"},Ut,L),!r&&!D?{tabIndex:0}:{}),qi)}},[L,ot,kt,At,Gt,Pe,Re,Xe,nt,D,F,r]),We=U.useCallback(function($e){$e.stopPropagation()},[]),rt=U.useMemo(function(){return function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=$e.refKey,Ut=ut===void 0?"ref":ut,Vt=$e.onChange,fn=$e.onClick,er=tv($e,MQ),qn=MS({accept:z,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ln($o(Vt,nt)),onClick:ln($o(fn,We)),tabIndex:-1},Ut,te);return yr(yr({},qn),er)}},[te,n,l,nt,r]);return yr(yr({},re),{},{isFocused:ae&&!r,getRootProps:De,getInputProps:rt,rootRef:L,inputRef:te,open:ln(Ve)})}function KQ(t,e){switch(e.type){case"focus":return yr(yr({},t),{},{isFocused:!0});case"blur":return yr(yr({},t),{},{isFocused:!1});case"openDialog":return yr(yr({},$S),{},{isFileDialogActive:!0});case"closeDialog":return yr(yr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return yr(yr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return yr(yr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return yr({},$S);default:return t}}function BO(){}const GQ=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:EQ,default:ib,useDropzone:xF},Symbol.toStringTag,{value:"Module"})),ZQ=gn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:JQ}=GQ,YQ=({id:t,accept:e,text:n,variant:r,tva:i=ZQ,css:s,...o})=>{const{getRootProps:l,getInputProps:u,isDragActive:d,isDragReject:f}=JQ({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...o}),h=i({active:d,rejected:f,...r,css:s}).slots;return m.jsx("div",{...l(),className:h.base(),children:m.jsxs("label",{htmlFor:t,className:h.label(),children:[m.jsxs("div",{className:h.zone(),children:[m.jsx(Xt,{icon:J7,variant:{size:"4xl"}}),m.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||Dl.rich("Drag 'n' drop a file here")}),n?.message?m.jsx("p",{className:"text-xs",children:n.message}):null]}),m.jsx("input",{id:t,type:"file",className:"hidden",...u()})]})})},XQ=gn({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),eK=()=>m.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),_F=({logo:t,menu:e,actions:n,variant:r,tva:i=XQ,css:s,children:o})=>{const l=i({...r,css:s}).slots;return m.jsxs("div",{className:l.base(),children:[m.jsx(tB,{position:"top-right"}),m.jsxs("div",{className:l.header(),children:[m.jsx("div",{children:t}),m.jsx("div",{className:"flex-grow",children:e}),m.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),m.jsx("div",{className:l.content(),children:o??m.jsx(Ba,{})}),m.jsx(eK,{})]})},tK=gn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),nK=U.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=tK,css:i,children:s,...o},l)=>{const u=r({...n,css:i}).slots;return m.jsxs("a",{...o,ref:l,className:u.base(),children:[t&&m.jsx(Xt,{icon:t,...e}),s]})}),rK=OR(nK),Ir=t=>m.jsx(rK,{preload:"intent",...t}),iK=gn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),nv=({show:t=!0,variant:e,tva:n=iK,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?m.jsx("div",{className:i.base(),children:m.jsx(Xt,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var Xg={exports:{}},sK=Xg.exports,zO;function oK(){return zO||(zO=1,function(t,e){(function(n,r){t.exports=r()})(sK,()=>(()=>{var n={d:(w,E)=>{for(var I in E)n.o(E,I)&&!n.o(w,I)&&Object.defineProperty(w,I,{enumerable:!0,get:E[I]})},o:(w,E)=>Object.prototype.hasOwnProperty.call(w,E)},r={};n.d(r,{default:()=>x});const i=(...w)=>{},s=w=>w!==null&&w?.constructor.name==="Object";let o,l;const u=()=>{if(!o){o=!0;try{l=h.storage||localStorage,l.getItem("")}catch{l=(()=>{const w={getItem:I=>E[I]||null,setItem:(I,q)=>{E[I]=q},removeItem:I=>{E[I]=void 0},clear:()=>{E={__proto__:w}}};let E={__proto__:w};return E})()}b()}},d="\0",f=(w,E,I=!0)=>I?[...JSON.stringify(w)].map(q=>String.fromCharCode(q.charCodeAt(0)+E)).join(""):JSON.parse([...w].map(q=>String.fromCharCode(q.charCodeAt(0)-E)).join("")),h={ttl:null,encrypt:!1,encrypter:f,decrypter:(w,E)=>f(w,E,!1),secret:75,storage:void 0};Object.seal(h);const b=(w=!1)=>{u();for(const E of Object.keys(l)){const I=l.getItem(E);let q;try{q=JSON.parse(I||"")}catch{continue}s(q)&&d in q&&(Date.now()>q.ttl||w)&&l.removeItem(E)}},x={config:h,set:(w,E,I={})=>{u();const q={...h,...I,encrypt:I.encrypt!==!1&&(I.encrypt||h.encrypt),ttl:I.ttl===null?null:I.ttl||h.ttl};try{const O=q.ttl&&!isNaN(q.ttl)&&q.ttl>0;let T=O?{[d]:E,ttl:Date.now()+1e3*q.ttl}:E;q.encrypt&&(O?T[d]=(q.encrypter||i)(T[d],q.secret):T=(q.encrypter||i)(T,q.secret)),l.setItem(w,JSON.stringify(T))}catch{return!1}},get:(w,E={})=>{u();const I=l.getItem(w),q={...h,...E,encrypt:E.encrypt!==!1&&(E.encrypt||h.encrypt),ttl:E.ttl===null?null:E.ttl||h.ttl};let O,T;try{O=JSON.parse(I||""),T=s(O)&&d in O,(q.decrypt||q.encrypt)&&(T?O[d]=(q.decrypter||i)(O[d],q.secret):O=(q.decrypter||i)(O,q.secret))}catch{}return T?Date.now()>O.ttl?(l.removeItem(w),null):O[d]:O!==void 0?O:I},flush:b,clear:()=>{u(),l.clear()},remove:w=>{u(),l.removeItem(w)}};return r.default})())}(Xg)),Xg.exports}var aK=oK();const lK=Vs(aK),Vp=lK,cK=gn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),tf=({variant:t,tva:e=cK,css:n,children:r})=>{const i=e({...t,css:n}).slots;return m.jsx("div",{className:i.base(),children:r})},uK=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),dK=U.forwardRef(({icon:t=null,variant:e,tva:n=uK,css:r,children:i,...s},o)=>{const l=n({...e,css:r}).slots;return m.jsxs("a",{...s,className:l.base(),ref:o,children:[Lv(t)?m.jsx(Xt,{icon:t}):t,i]})}),fK=OR(dK),Ur=({active:t=[],variant:e,...n})=>{const r=r$(),i=t.some(s=>!!r(s));return m.jsx(fK,{preload:"intent",variant:{active:!!r({to:n.to,params:n.params})||i,...e},...n})},hK=gn({slot:{base:["flex","flex-row","flex-wrap","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),m1=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:s,tva:o=hK,css:l})=>{const u=i?n.slice(0,i):n,d=o({...s,css:l}).slots;return m.jsxs("div",{className:d.base(),children:[n.length?null:e,u.map(f=>m.jsx(r,{entity:f},`items-${f.id}`)),i&&n.length>i&&m.jsx(bo,{textTitle:t,target:m.jsx(Ca,{iconEnabled:cP}),outside:!0,children:m.jsx("div",{className:"flex flex-col gap-2",children:n.map(f=>m.jsx(r,{entity:f},`items-${f.id}`))})})]})},pK=gn({slot:{base:[]},variant:{},defaults:{}}),ce=({label:t,fallback:e,variant:n,tva:r=pK,css:i})=>{const s=r({...n,css:i}).slots;return m.jsx("div",{className:s.base(),children:Dl.rich(t,e)})},wF=gn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),mK=gn({use:wF,slot:{},variant:{},defaults:{}}),gK=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:u,value:d,onChange:f,variant:h,tva:b=mK,css:x})=>{const w=b({...h,css:x}).slots,[E,I]=U.useState(0),[q,O]=U.useState(15),[T,R]=U.useState(d||[]),[D,F]=U.useState(void 0),B=zc({queryKey:[l,"PopupMultiSelect","data",{fulltext:D,page:E,size:q}],async queryFn(){return u({filter:{fulltext:D},cursor:{page:E,size:q}})}}),$=zc({queryKey:[l,"PopupMultiSelect","selected",{value:d}],async queryFn(){return u({filter:{idIn:d}})},enabled:!!d});return m.jsx(bo,{icon:t,target:m.jsxs("label",{className:w.input({loading:$.isLoading,selected:!!$.data?.data.length}),children:[m.jsx(Xt,{icon:$.data?.data?.length?rb:nb}),$.data&&$.data.data.length?m.jsx(s,{entities:$.data.data}):n||m.jsx(ce,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:m.jsxs("div",{className:w.base(),children:[m.jsx("div",{className:w.content(),children:m.jsx(i,{cursor:{cursor:{page:E,size:q},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:m.jsx(ce,{label:"Total count of items (label)"}),onPage(j){I(j)},onSize(j){O(j),I(0)}},fulltext:{value:D,set(j){F(j),I(0)}},table:{data:B.data?.data??[],selection:{type:"multi",value:T,set(j){R(j)}}}})}),m.jsx(Kv.Consumer,{children:j=>m.jsxs("div",{className:w.footer(),children:[m.jsx(sr,{iconEnabled:lp,iconDisabled:lp,onClick:()=>{j?.close()},variant:{variant:"subtle"},children:m.jsx(ce,{label:"Close (label)"})}),m.jsx(sr,{iconEnabled:Yy,iconDisabled:Yy,disabled:!T.length&&!o,onClick:()=>{f(T),j?.close()},children:m.jsx(ce,{label:"Confirm selection (label)"})})]})})]})})},SF=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:u,value:d,onChange:f,variant:h,tva:b=wF,css:x})=>{const w=b({...h,css:x}).slots,[E,I]=U.useState(0),[q,O]=U.useState(15),[T,R]=U.useState(d?[d]:[]),[D,F]=U.useState(void 0),B=zc({queryKey:[l,"PopupSelect","data",{fulltext:D,page:E,size:q}],async queryFn(){return u({filter:{fulltext:D},cursor:{page:E,size:q}})}}),$=zc({queryKey:[l,"PopupSelect","selected",{value:d}],async queryFn(){return u({filter:{id:d||void 0}})},enabled:!!d});return m.jsx(bo,{icon:t,target:m.jsxs("label",{className:w.input({loading:$.isLoading,selected:!!$.data?.data?.length}),children:[m.jsx(Xt,{icon:$.data?.data?.[0]?rb:nb}),$.data?.data?.[0]?m.jsx(s,{entity:$.data?.data?.[0]}):n||m.jsx(ce,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:m.jsxs("div",{className:w.base(),children:[m.jsx("div",{className:w.content(),children:m.jsx(i,{cursor:{cursor:{page:E,size:q},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:m.jsx(ce,{label:"Total count of items (label)"}),onPage(j){I(j)},onSize(j){O(j),I(0)}},fulltext:{value:D,set(j){F(j),I(0)}},table:{data:B.data?.data??[],selection:{type:"single",value:T,set(j){R(j)}}}})}),m.jsx(Kv.Consumer,{children:j=>m.jsxs("div",{className:w.footer(),children:[m.jsx(sr,{iconEnabled:lp,iconDisabled:lp,onClick:()=>{j?.close()},variant:{variant:"subtle"},children:m.jsx(ce,{label:"Close (label)"})}),m.jsx(sr,{iconEnabled:Yy,iconDisabled:Yy,disabled:!T.length&&!o,onClick:()=>{f(T?.[0]),j?.close()},children:m.jsx(ce,{label:"Confirm selection (label)"})})]})})]})})},yK=gn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),sb=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:s,tva:o=yK,css:l})=>{const u=o({...s,css:l}).slots;return m.jsx(KE.Provider,{value:{inline:!0},children:m.jsx("div",{className:u.base(),children:m.jsxs("div",{className:u.container(),children:[m.jsx("div",{className:u.title(),children:m.jsx(e,{entity:t})}),m.jsx("div",{className:u.links(),children:m.jsx(n,{entity:t})}),m.jsx("div",{className:u.actions(),children:m.jsx(r,{entity:t})}),m.jsx("div",{className:u.extra(),children:m.jsx(i,{entity:t})})]})})})},vK=gn({slot:{base:["w-full","bg-slate-200","rounded","transition-all"],progress:["h-full","bg-blue-400","rounded","leading-none","transition-all"]},variant:{size:{xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-4"}},defaults:{size:"md"}}),nf=({value:t,variant:e,tva:n=vK,css:r})=>{const i=n({...e,css:r}).slots;return m.jsx("div",{className:i.base(),children:m.jsx("div",{style:{width:`${t}%`},className:i.progress()})})},bK=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},xK=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},bs=t=>({onPage:bK(t),onSize:xK(t)}),Ks=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),xs=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},qo=t=>e=>{t({search(n){return{...n,selection:e}}})},Cn=t=>({loading:m.jsx(ce,{label:`${t} - Loading (label)`}),success:m.jsx(ce,{label:`${t} - Success (label)`}),error:m.jsx(ce,{label:`${t} - Error (label)`})}),_K=gn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),Ro=({textContent:t,textToast:e,callback:n,onCancel:r,invalidator:i,variant:s,tva:o=_K,css:l})=>{const u=o({...s,css:l}).slots,d=U.useContext(Kv),f=_n({async mutationFn(){return nB.promise(n(),Cn(e))},async onSuccess(){await i?.(),d?.close()}});return m.jsxs("div",{className:u.base(),children:[m.jsx("div",{className:u.content(),children:t}),m.jsxs("div",{className:u.footer(),children:[m.jsx(sr,{variant:{variant:"subtle",size:"sm"},iconEnabled:lp,onClick:()=>{d?.close(),r?.()},children:m.jsx(ce,{label:"Cancel (button)"})}),m.jsx(sr,{variant:{variant:"danger",size:"md"},iconEnabled:vs,onClick:()=>{f.mutate()},children:m.jsx(ce,{label:"Delete (button)"})})]})]})},wK=async({select:t,query:e=()=>t,filter:n,where:r})=>({total:(await t.clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,filter:(await e({select:e({select:t,where:r}),where:n}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,where:(await e({select:t,where:r}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count}),ob=async({select:t,query:e=()=>t,output:n,filter:r,where:i})=>n.parse(await e({select:e({select:t,where:i}),where:r}).executeTakeFirstOrThrow()),EF=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>{const o=l=>{let u=l;return s&&(u=l.limit(s.size).offset(s.page*s.size)),u};return Y.array(n).parse(await o(e({select:e({select:t,where:i}),where:r})).execute())},Vr=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>({data:await EF({select:t,output:n,where:i,filter:r,query:e,cursor:s}),count:await wK({select:t,where:i,filter:r,query:e})}),Ti=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:s=>"schema"in t?t.schema.parse(s):t.parse(s)}},bg=(t,e)=>Y.custom().pipe(t.catch(e)),_s=({filter:t},{size:e=30}={size:30})=>Y.object({filter:bg(t.optional(),void 0),cursor:bg(l5,{page:0,size:e}).default({page:0,size:e}),sort:bg(Y.any().optional(),[]).default([]),selection:bg(Y.array(Y.string()),[]).default([])}),SK=gn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),NF=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:s=SK,css:o,children:l})=>{const u=s({...i,css:o}).slots;return m.jsxs("div",{className:u.base(),children:[n?m.jsx(Xt,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,m.jsx("div",{className:u.title(),children:t}),m.jsx("div",{className:u.message(),children:e}),m.jsx("div",{className:u.body(),children:l})]})},g1=gn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),EK=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:s=g1,css:o})=>{const l=e.def.render,u=s({...i,css:o}).slots;return m.jsx("td",{className:u.td(),children:m.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[m.jsx(l,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?m.jsx(Xt,{icon:G7,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},NK=({table:t,row:e,action:n,variant:r,tva:i=g1,css:s})=>{const o=i({...r,css:s}).slots,l=n?.table,u=n?.row;return m.jsxs("tr",{className:o.tr({selected:t.selection.isSelected(e)}),children:[l||u||t.selection.enabled?m.jsx("td",{className:"w-0",children:m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?m.jsx(Xt,{icon:t.selection.isSelected(e)?rb:nb,css:{base:o.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,u?m.jsx(u,{table:t,data:e.data}):null]})}):null,e.cells.map(d=>m.jsx(EK,{table:t,cell:d,variant:r,tva:i,css:s},`${e.id}-${d.column.id}`)),m.jsx("td",{})]})},Gs=({table:t,fulltext:e,cursor:n,empty:r=()=>m.jsx(NF,{icon:K7,textTitle:m.jsx(ce,{label:"Nothing here"}),textMessage:m.jsx(ce,{label:"There is nothing to see right now."})}),action:i,variant:s,tva:o=g1,css:l})=>{const u=o({...s,css:l}).slots,d=i?.table,f=i?.row;return m.jsxs("div",{className:u.base(),children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?m.jsx(rF,{value:e.value,onFulltext:e.set}):null}),m.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[m.jsx(SS,{...n}),t.filter.is()&&m.jsx(Ca,{iconEnabled:kO,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),m.jsx("div",{className:"relative overflow-x-auto",children:m.jsxs("table",{className:u.table(),children:[m.jsx("thead",{className:u.thead(),children:m.jsxs("tr",{children:[d||f||t.selection.enabled?m.jsx("th",{className:"w-0",children:m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?m.jsx(Xt,{icon:t.selection.isAll()?rb:t.selection.isAny()?Z7:nb,variant:{disabled:t.selection.isSingle},css:{base:u.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,d?m.jsx(d,{table:t}):null]})}):null,t.visible.map(h=>{const b=h.def.header||(()=>null);return m.jsx("th",{className:u.th(),style:h.def.size?{width:`${h.def.size}rem`}:void 0,children:m.jsxs("div",{className:"flex flex-row items-center justify-between",children:[m.jsx(b,{table:t}),m.jsx("div",{className:"flex flex-row items-center gap-2",children:h.filter?.is()&&m.jsx(Xt,{icon:kO,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{h.filter?.reset()}})})]})},h.id)}),m.jsx("th",{})]})}),t.isEmpty?null:m.jsx("tbody",{className:u.tbody(),children:t.rows?.map(h=>m.jsx(NK,{row:h,table:t,action:i,variant:s,tva:o,css:l},h.id))})]})}),t.isEmpty?m.jsx(r,{}):null,m.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[m.jsx("div",{}),m.jsx(SS,{...n})]})]})},ti=[];for(let t=0;t<256;++t)ti.push((t+256).toString(16).slice(1));function kK(t,e=0){return(ti[t[e+0]]+ti[t[e+1]]+ti[t[e+2]]+ti[t[e+3]]+"-"+ti[t[e+4]]+ti[t[e+5]]+"-"+ti[t[e+6]]+ti[t[e+7]]+"-"+ti[t[e+8]]+ti[t[e+9]]+"-"+ti[t[e+10]]+ti[t[e+11]]+ti[t[e+12]]+ti[t[e+13]]+ti[t[e+14]]+ti[t[e+15]]).toLowerCase()}let Cw;const IK=new Uint8Array(16);function CK(){if(!Cw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Cw=crypto.getRandomValues.bind(crypto)}return Cw(IK)}const TK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),WO={randomUUID:TK};function UO(t,e,n){if(WO.randomUUID&&!e&&!t)return WO.randomUUID();t=t||{};const r=t.random||(t.rng||CK)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,kK(r)}const Zs=({columns:t,order:e=t.map(u=>u.name),hidden:n=[],visible:r=t.map(u=>u.name),data:i,filter:s,selection:o,context:l})=>{const u={...s?.value||{}},d=xT(u||{}),f=new Set(o?.value),h=t.map(x=>({id:UO(),def:x,filter:x.filter?{is(){return x.filter?d.get(x.filter.path)!==void 0:!1},reset(){x.filter&&d.set(x.filter.path,void 0),s?.set({...u})},shallow(w,E){x.filter&&d.set(w,E),s?.set({...u})},set(w){s?.set({...w})}}:void 0})),b=h.filter(x=>r.includes(x.def.name)&&!n.includes(x.def.name)).sort((x,w)=>{const E=e.indexOf(x.def.name),I=e.indexOf(w.def.name);return(E===-1?1/0:E)-(I===-1?1/0:I)});return{columns:h,visible:b,rows:i?.map(x=>({id:UO(),data:x,cells:b.map(w=>({column:w,data:x,value:xT(x).get(w.def.name)}))})),isEmpty:i.length===0,filter:{is(){return h.some(x=>x.filter?.is())},reset(){s?.set({})},set(x){s?.set({...x})},shallow(x,w){d.set(x,w)}},selection:{enabled:!!o&&i.length>0,selection:Array.from(f),isSingle:o?.type==="single",isMulti:o?.type==="multi",isSelected({data:x}){return f.has(x.id)||!1},isAll(){return i.every(x=>f.has(x.id))},isAny(){return i.some(x=>f.has(x.id))},withRowHandler({data:x}){return()=>{if(o?.type==="single"){const w=f.has(x.id);f.clear(),w?f.delete(x.id):f.add(x.id)}else f.has(x.id)?f.delete(x.id):f.add(x.id);o?.set(Array.from(f))}},withAllHandler(){return()=>{i.every(x=>f.has(x.id))?f.clear():i.forEach(({id:x})=>f.add(x)),o?.set(Array.from(f))}}},context:l}},Js=()=>t=>t,kF=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((s,o)=>s.sort-o.sort);return m.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(s=>m.jsx(Ra,{onClick:()=>n?.(s),children:e({tag:s})},s.id)):r||m.jsx(ce,{label:"No tags (label)"})})},OK=gn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500","font-bold"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),ab=({icon:t,title:e,subtitle:n,variant:r,tva:i=OK,css:s})=>{const o=i({withSubtitle:!!n,...r,css:s}).slots;return m.jsxs("div",{className:o.base(),children:[m.jsxs("div",{className:o.title(),children:[t?m.jsx(Xt,{icon:t}):null,e]}),n?m.jsx("div",{className:o.subtitle(),children:n}):null]})};var xg={},VO;function qK(){if(VO)return xg;VO=1;var t=TR();return xg.createRoot=t.createRoot,xg.hydrateRoot=t.hydrateRoot,xg}var RK=qK();const AK=Vs(RK),y1=z4()({component:()=>m.jsxs(m.Fragment,{children:[m.jsx(u$,{}),m.jsx(Ba,{})]})}),jK="modulepreload",PK=function(t){return"/"+t},HO={},QO=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(u=>{if(u=PK(u),u in HO)return;HO[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":jK,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((b,x)=>{h.addEventListener("load",b),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},FK=Sn("/$locale")({component:Ba,loader:async({params:{locale:t}})=>{try{Dl.push((await DK(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function DK(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return QO(()=>import("./cs-DJ7oYWQp.js"),[]);case"../translation/en":case"../translation/en.yaml":return QO(()=>import("./en-CiRV3kR2.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const IF="cs",LK=[IF,"en"],MK=Sn("/")({loader:async()=>{throw _v({to:"/$locale",params:{locale:QU({available:LK,fallback:IF})}})}}),$K=Sn("/$locale/")({component:()=>{const{locale:t}=dr({from:"/$locale"});return m.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:m.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[m.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),m.jsx("ul",{children:m.jsx("li",{children:m.jsx(Ir,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:Qt,bootstrap:BK}=z7({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)";await t.schema.createTable("User").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("name","varchar(64)",n=>n.notNull()).addColumn("login","varchar(128)",n=>n.notNull()).addColumn("password","varchar(256)",n=>n.notNull()).addUniqueConstraint("[User] login",["login"]).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("code","varchar(64)",n=>n.notNull()).addColumn("label","varchar(128)",n=>n.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",n=>n.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[Cycle] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("stamp","datetime",n=>n.defaultTo(On`CURRENT_TIMESTAMP`).notNull()).execute(),await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("name","varchar(64)",n=>n.notNull()).addUniqueConstraint("[Resource] name",["name"]).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Resource_Tag] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("tagId",e,n=>n.notNull()).addForeignKeyConstraint("[Resource_Tag] tagId",["tagId"],"Tag",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Resource_Tag] resourceId-tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Inventory] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("limit","float4",n=>n.notNull()).execute(),await t.schema.createTable("Default_Inventory").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Default_Inventory] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("limit","float4",n=>n.notNull()).addUniqueConstraint("[Default_Inventory] resourceId",["resourceId"]).execute(),await t.schema.createTable("User_Inventory").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[User_Inventory] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,n=>n.notNull()).addForeignKeyConstraint("[User_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[User_Inventory] userId-inventoryId",["userId","inventoryId"]).execute(),await t.schema.createTable("Blueprint").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("name","varchar(64)",n=>n.notNull()).addColumn("cycles","integer",n=>n.notNull()).addColumn("productionLimit","integer",n=>n.notNull()).addColumn("sort","integer",n=>n.notNull()).addUniqueConstraint("[Blueprint] name",["name"]).execute(),await t.schema.createTable("Blueprint_Production").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("blueprintId",e,n=>n.notNull()).addForeignKeyConstraint("[Blueprint_Production] blueprintId",["blueprintId"],"Blueprint",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Blueprint_Production] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("cycles","integer",n=>n.notNull()).addColumn("limit","integer",n=>n.notNull()).execute(),await t.schema.createTable("Blueprint_Requirement").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("blueprintId",e,n=>n.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] blueprintId",["blueprintId"],"Blueprint",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("passive","boolean",n=>n.notNull()).addUniqueConstraint("[Blueprint_Requirement] blueprintId-requirementId",["blueprintId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Dependency").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("blueprintId",e,n=>n.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("dependencyId",e,n=>n.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] dependencyId",["dependencyId"],"Blueprint",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Dependency] blueprintId-dependencyId",["blueprintId","dependencyId"]).execute(),await t.schema.createTable("Blueprint_Production_Requirement").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("blueprintProductionId",e,n=>n.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("passive","boolean",n=>n.notNull()).addUniqueConstraint("[Blueprint_Production_Requirement] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Production").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[Production] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,n=>n.notNull()).addForeignKeyConstraint("[Production] buildingId",["buildingId"],"Building",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintProductionId",e,n=>n.notNull()).addForeignKeyConstraint("[Production] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",n=>n.notNull()).addColumn("to","integer",n=>n.notNull()).addColumn("cycle","integer",n=>n.notNull()).execute(),await t.schema.createTable("Construction").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[Construction] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,n=>n.notNull()).addForeignKeyConstraint("[Construction] blueprintId",["blueprintId"],"Blueprint",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",n=>n.notNull()).addColumn("to","integer",n=>n.notNull()).addColumn("cycle","integer",n=>n.notNull()).addUniqueConstraint("[Construction] userId-blueprintId",["userId","blueprintId"]).execute(),await t.schema.createTable("Building").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[Building] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,n=>n.notNull()).addForeignKeyConstraint("[Building] blueprintId",["blueprintId"],"Blueprint",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Building] userId-blueprintId",["userId","blueprintId"]).execute()}}),zK=Sn("/$locale/apps/derivean")({loader:BK}),v1="icon-[proicons--game]",WK=gn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),CF=({variant:t,tva:e=WK,css:n})=>{const r=e({...t,css:n}).slots;return m.jsx("div",{className:r.base(),children:"DeRivean"})},Ql="icon-[fluent--building-shop-20-regular]",ta="icon-[mingcute--inventory-line]",Jr="icon-[hugeicons--resources-add]",UK=t=>{const{locale:e}=dr({from:"/$locale"});return m.jsxs(tf,{...t,children:[m.jsx(Ur,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},children:m.jsx(ce,{label:"Editor (menu)"})}),m.jsx(Ur,{icon:Ql,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/blueprint/$id/view"},{to:"/$locale/apps/derivean/root/blueprint/$id/dependencies"},{to:"/$locale/apps/derivean/root/blueprint/$id/production"},{to:"/$locale/apps/derivean/root/blueprint/$id/requirements"},{to:"/$locale/apps/derivean/root/blueprint/$id/edit"},{to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements"}],children:m.jsx(ce,{label:"Blueprint list (menu)"})}),m.jsx(Ur,{icon:Jr,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:m.jsx(ce,{label:"Resource list (menu)"})}),m.jsx(Ur,{icon:ta,to:"/$locale/apps/derivean/root/default/inventory",params:{locale:e},children:m.jsx(ce,{label:"Default inventory (menu)"})}),m.jsx(Ur,{icon:p1,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:m.jsx(ce,{label:"User list (menu)"})}),m.jsx(Ur,{icon:cp,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},children:m.jsx(ce,{label:"Tag list (menu)"})})]})},lb=Y.object({id:Y.string(),name:Y.string(),login:Y.string()}),VK=Sn("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return lb.parse(Vp.get("session"))}catch{throw _v({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=dr({from:"/$locale"}),{session:e}=eu({from:"/$locale/apps/derivean/root"});return m.jsx(_F,{logo:m.jsx(Ir,{to:"/$locale/apps/derivean/root",params:{locale:t},children:m.jsx(CF,{})}),menu:m.jsx(UK,{}),actions:m.jsxs(m.Fragment,{children:[e.name,m.jsx(Ir,{icon:v1,to:"/$locale/apps/derivean/game",params:{locale:t}}),m.jsx(Ir,{icon:h1,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),rv="icon-[gala--clock]",b1=100,HK=async({tx:t,userId:e})=>new Promise(n=>{setTimeout(async()=>{await t.insertInto("Cycle").values({id:Yn(),stamp:on.now().toUTC().toSQLTime(),userId:e}).execute();const r=(await t.selectFrom("Cycle as c").select(o=>o.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow()).count,i=await t.selectFrom("Construction as c").select(["c.id","c.cycle","c.to","c.blueprintId"]).where("userId","=",e).execute();for await(const{id:o,blueprintId:l,cycle:u,to:d}of i){if(r>d){await t.insertInto("Building").values({id:Yn(),blueprintId:l,userId:e}).execute(),await t.deleteFrom("Construction").where("id","=",o).execute();continue}await t.updateTable("Construction").set("cycle",u+1).where("id","=",o).execute()}const s=await t.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","p.cycle","p.to","bp.resourceId","r.name","bp.amount"]).where("userId","=",e).execute();for await(const{id:o,resourceId:l,cycle:u,to:d,amount:f}of s){if(r>d){const h=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","i.id","ui.inventoryId").select(["i.id","i.amount","i.limit"]).where("ui.userId","=",e).where("i.resourceId","=",l).executeTakeFirst();if(!h||h.limit>0&&h.amount+f>h.limit)continue;await t.updateTable("Inventory").set({amount:h.amount+f}).where("id","=",h.id).execute(),await t.deleteFrom("Production as p").where("p.id","=",o).execute();continue}await t.updateTable("Production").set("cycle",u+1).where("id","=",o).execute()}n(!0)},b1)}),TF=({userId:t,cycle:e,...n})=>{const r=kr([["Cycle"],["Management"],["Resource_Queue"],["Building_Queue"],["Building"],["User_Inventory"],["Inventory"],["Building_Base_Production"]]),i=_n({mutationKey:["useCycleMutation"],async mutationFn({userId:s}){return Qt.transaction().execute(async o=>HK({userId:s,tx:o}))},async onSuccess(){await r()}});return m.jsxs(sr,{iconEnabled:rv,iconDisabled:rv,onClick:async()=>un.promise(i.mutateAsync({userId:t}),Cn("Cycle")),loading:i.isPending,...n,children:[m.jsx(ce,{label:"New cycle (label)"}),m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx("div",{className:"font-light text-sm",children:Xn({number:e})}),m.jsx(Xt,{icon:"icon-[solar--arrow-right-linear]"}),m.jsx("div",{className:"font-bold",children:Xn({number:e+1})})]})]})},QK=t=>{const{locale:e}=dr({from:"/$locale"});return m.jsxs(tf,{...t,children:[m.jsx(Ur,{icon:"icon-[et--map]",to:"/$locale/apps/derivean/game/map",params:{locale:e},children:m.jsx(ce,{label:"Map (menu)"})}),m.jsx(Ur,{icon:v1,to:"/$locale/apps/derivean/game/management",params:{locale:e},children:m.jsx(ce,{label:"Management (menu)"})}),m.jsx(Ur,{icon:ta,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:m.jsx(ce,{label:"Inventory (menu)"})})]})},KK=Sn("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return lb.parse(Vp.get("session"))}catch{throw _v({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{session:r,inventory:await t.ensureQueryData({queryKey:["User_Inventory"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.limit","i.resourceId"]).where("ui.userId","=",r.id).execute())}}),buildingCounts:await t.ensureQueryData({queryKey:["Building"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.blueprintId","bl.name",s=>s.fn.count("b.id").as("count")]).where("b.userId","=",r.id).groupBy("b.blueprintId").execute())}}),cycle:await t.ensureQueryData({queryKey:["Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component:()=>{const{locale:t}=dr({from:"/$locale"}),{session:e,cycle:n}=eu({from:"/$locale/apps/derivean/game"}),r=t4({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(i){return i.state.status}});return m.jsx(_F,{logo:m.jsx(Ir,{to:"/$locale/apps/derivean/game",params:{locale:t},children:m.jsx(CF,{})}),menu:m.jsxs("div",{className:"flex flex-row items-center gap-4",children:[m.jsx(QK,{}),m.jsx(TF,{cycle:n,userId:e.id})]}),actions:m.jsxs(m.Fragment,{children:[e.name,m.jsx(Ir,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),m.jsx(Ir,{icon:h1,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:m.jsx(Ba,{})})}});var ey={exports:{}},GK=ey.exports,KO;function ZK(){return KO||(KO=1,function(t,e){(function(n,r){r()})(GK,function(){function n(d,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,f,h){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){u(b.response,f,h)},b.onerror=function(){console.error("could not download file")},b.send()}function i(d){var f=new XMLHttpRequest;f.open("HEAD",d,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Cc=="object"&&Cc.global===Cc?Cc:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,f,h){var b=o.URL||o.webkitURL,x=document.createElement("a");f=f||d.name||"download",x.download=f,x.rel="noopener",typeof d=="string"?(x.href=d,x.origin===location.origin?s(x):i(x.href)?r(d,f,h):s(x,x.target="_blank")):(x.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(d,f,h){if(f=f||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,h),f);else if(i(d))r(d,f,h);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,f,h,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return r(d,f,h);var x=d.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||x&&w||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var T=I.result;T=E?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=T:location=T,b=null},I.readAsDataURL(d)}else{var q=o.URL||o.webkitURL,O=q.createObjectURL(d);b?b.location=O:location.href=O,b=null,setTimeout(function(){q.revokeObjectURL(O)},4e4)}});o.saveAs=u.saveAs=u,t.exports=u})}(ey)),ey.exports}var JK=ZK();const YK=Vs(JK),Tw=["Tag","Resource","Resource_Tag","Inventory","Blueprint","Blueprint_Dependency","Blueprint_Requirement","Blueprint_Production","Blueprint_Production_Requirement","Default_Inventory"],XK=Sn("/$locale/apps/derivean/root/")({component(){const t=_n({mutationKey:["export"],async mutationFn(){return un.promise((async()=>{const e=[];await Qt.transaction().execute(async n=>{for await(const r of Tw)e.push({source:r,entities:await n.selectFrom(r).selectAll().execute()})}),YK.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"export.json")})(),Cn("Export game files"))}});return m.jsxs("div",{className:"flex flex-col gap-4 w-2/3 mx-auto",children:[m.jsx(YQ,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text());await On`PRAGMA foreign_keys = OFF`.execute(Qt),await un.promise(Qt.transaction().execute(async i=>{for await(const{source:s}of r){const o=Tw.find(l=>l===s);if(!o)throw new Error(`Unknown source [${s}]`);await i.deleteFrom(o).execute()}for await(const{source:s,entities:o}of r){const l=Tw.find(u=>u===s);if(!l)throw new Error(`Unknown source [${s}]`);for await(const u of Object.values(o))await i.insertInto(l).values(u).execute()}}),Cn("Import game files")),await On`PRAGMA foreign_keys = ON`.execute(Qt)}}),m.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:m.jsx(sr,{iconEnabled:v1,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:m.jsx(ce,{label:"Export game files (label)"})})}),m.jsx("h2",{children:"TODO"}),m.jsxs("ul",{children:[m.jsx("li",{children:'Add tags to buildings (default to "neutral")'}),m.jsx("li",{children:"Filter out buildings based on user's tags"}),m.jsx("li",{children:"A building may attach (or remove?) a tag to user"}),m.jsx("li",{children:"Jump from required resources or display list of buildings providing necessary resources"})]})]})}}),eG=Sn("/$locale/apps/derivean/game/")({component:()=>{const{tva:t}=yi({from:"__root__"}),e=t().slots;return m.jsx("div",{className:e.base(),children:m.jsx("div",{children:"management here"})})}});var Ow,GO;function x1(){if(GO)return Ow;GO=1;var t="\0",e="\0",n="\x01";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(f){f&&(this._isDirected=Object.hasOwn(f,"directed")?f.directed:!0,this._isMultigraph=Object.hasOwn(f,"multigraph")?f.multigraph:!1,this._isCompound=Object.hasOwn(f,"compound")?f.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(f){return this._label=f,this}graph(){return this._label}setDefaultNodeLabel(f){return this._defaultNodeLabelFn=f,typeof f!="function"&&(this._defaultNodeLabelFn=()=>f),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var f=this;return this.nodes().filter(h=>Object.keys(f._in[h]).length===0)}sinks(){var f=this;return this.nodes().filter(h=>Object.keys(f._out[h]).length===0)}setNodes(f,h){var b=arguments,x=this;return f.forEach(function(w){b.length>1?x.setNode(w,h):x.setNode(w)}),this}setNode(f,h){return Object.hasOwn(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=h),this):(this._nodes[f]=arguments.length>1?h:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=e,this._children[f]={},this._children[e][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)}node(f){return this._nodes[f]}hasNode(f){return Object.hasOwn(this._nodes,f)}removeNode(f){var h=this;if(Object.hasOwn(this._nodes,f)){var b=x=>h.removeEdge(h._edgeObjs[x]);delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],this.children(f).forEach(function(x){h.setParent(x)}),delete this._children[f]),Object.keys(this._in[f]).forEach(b),delete this._in[f],delete this._preds[f],Object.keys(this._out[f]).forEach(b),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this}setParent(f,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h===void 0)h=e;else{h+="";for(var b=h;b!==void 0;b=this.parent(b))if(b===f)throw new Error("Setting "+h+" as parent of "+f+" would create a cycle");this.setNode(h)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=h,this._children[h][f]=!0,this}_removeFromParentsChildList(f){delete this._children[this._parent[f]][f]}parent(f){if(this._isCompound){var h=this._parent[f];if(h!==e)return h}}children(f=e){if(this._isCompound){var h=this._children[f];if(h)return Object.keys(h)}else{if(f===e)return this.nodes();if(this.hasNode(f))return[]}}predecessors(f){var h=this._preds[f];if(h)return Object.keys(h)}successors(f){var h=this._sucs[f];if(h)return Object.keys(h)}neighbors(f){var h=this.predecessors(f);if(h){const x=new Set(h);for(var b of this.successors(f))x.add(b);return Array.from(x.values())}}isLeaf(f){var h;return this.isDirected()?h=this.successors(f):h=this.neighbors(f),h.length===0}filterNodes(f){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var b=this;Object.entries(this._nodes).forEach(function([E,I]){f(E)&&h.setNode(E,I)}),Object.values(this._edgeObjs).forEach(function(E){h.hasNode(E.v)&&h.hasNode(E.w)&&h.setEdge(E,b.edge(E))});var x={};function w(E){var I=b.parent(E);return I===void 0||h.hasNode(I)?(x[E]=I,I):I in x?x[I]:w(I)}return this._isCompound&&h.nodes().forEach(E=>h.setParent(E,w(E))),h}setDefaultEdgeLabel(f){return this._defaultEdgeLabelFn=f,typeof f!="function"&&(this._defaultEdgeLabelFn=()=>f),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(f,h){var b=this,x=arguments;return f.reduce(function(w,E){return x.length>1?b.setEdge(w,E,h):b.setEdge(w,E),E}),this}setEdge(){var f,h,b,x,w=!1,E=arguments[0];typeof E=="object"&&E!==null&&"v"in E?(f=E.v,h=E.w,b=E.name,arguments.length===2&&(x=arguments[1],w=!0)):(f=E,h=arguments[1],b=arguments[3],arguments.length>2&&(x=arguments[2],w=!0)),f=""+f,h=""+h,b!==void 0&&(b=""+b);var I=o(this._isDirected,f,h,b);if(Object.hasOwn(this._edgeLabels,I))return w&&(this._edgeLabels[I]=x),this;if(b!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(h),this._edgeLabels[I]=w?x:this._defaultEdgeLabelFn(f,h,b);var q=l(this._isDirected,f,h,b);return f=q.v,h=q.w,Object.freeze(q),this._edgeObjs[I]=q,i(this._preds[h],f),i(this._sucs[f],h),this._in[h][I]=q,this._out[f][I]=q,this._edgeCount++,this}edge(f,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,f,h,b);return this._edgeLabels[x]}edgeAsObj(){const f=this.edge(...arguments);return typeof f!="object"?{label:f}:f}hasEdge(f,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,f,h,b);return Object.hasOwn(this._edgeLabels,x)}removeEdge(f,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,f,h,b),w=this._edgeObjs[x];return w&&(f=w.v,h=w.w,delete this._edgeLabels[x],delete this._edgeObjs[x],s(this._preds[h],f),s(this._sucs[f],h),delete this._in[h][x],delete this._out[f][x],this._edgeCount--),this}inEdges(f,h){var b=this._in[f];if(b){var x=Object.values(b);return h?x.filter(w=>w.v===h):x}}outEdges(f,h){var b=this._out[f];if(b){var x=Object.values(b);return h?x.filter(w=>w.w===h):x}}nodeEdges(f,h){var b=this.inEdges(f,h);if(b)return b.concat(this.outEdges(f,h))}}function i(d,f){d[f]?d[f]++:d[f]=1}function s(d,f){--d[f]||delete d[f]}function o(d,f,h,b){var x=""+f,w=""+h;if(!d&&x>w){var E=x;x=w,w=E}return x+n+w+n+(b===void 0?t:b)}function l(d,f,h,b){var x=""+f,w=""+h;if(!d&&x>w){var E=x;x=w,w=E}var I={v:x,w};return b&&(I.name=b),I}function u(d,f){return o(d,f.v,f.w,f.name)}return Ow=r,Ow}var qw,ZO;function tG(){return ZO||(ZO=1,qw="2.2.4"),qw}var Rw,JO;function nG(){return JO||(JO=1,Rw={Graph:x1(),version:tG()}),Rw}var Aw,YO;function rG(){if(YO)return Aw;YO=1;var t=x1();Aw={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var l=s.node(o),u=s.parent(o),d={v:o};return l!==void 0&&(d.value=l),u!==void 0&&(d.parent=u),d})}function r(s){return s.edges().map(function(o){var l=s.edge(o),u={v:o.v,w:o.w};return o.name!==void 0&&(u.name=o.name),l!==void 0&&(u.value=l),u})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),s.edges.forEach(function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return Aw}var jw,XO;function iG(){if(XO)return jw;XO=1,jw=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return jw}var Pw,eq;function OF(){if(eq)return Pw;eq=1;class t{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],l=i[r];i[n]=l,i[r]=o,s[l.key]=n,s[o.key]=r}}return Pw=t,Pw}var Fw,tq;function qF(){if(tq)return Fw;tq=1;var t=OF();Fw=n;var e=()=>1;function n(i,s,o,l){return r(i,String(s),o||e,l||function(u){return i.outEdges(u)})}function r(i,s,o,l){var u={},d=new t,f,h,b=function(x){var w=x.v!==f?x.v:x.w,E=u[w],I=o(x),q=h.distance+I;if(I<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+I);q<E.distance&&(E.distance=q,E.predecessor=f,d.decrease(w,q))};for(i.nodes().forEach(function(x){var w=x===s?0:Number.POSITIVE_INFINITY;u[x]={distance:w},d.add(x,w)});d.size()>0&&(f=d.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(b);return u}return Fw}var Dw,nq;function sG(){if(nq)return Dw;nq=1;var t=qF();Dw=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return Dw}var Lw,rq;function RF(){if(rq)return Lw;rq=1,Lw=t;function t(e){var n=0,r=[],i={},s=[];function o(l){var u=i[l]={onStack:!0,lowlink:n,index:n++};if(r.push(l),e.successors(l).forEach(function(h){Object.hasOwn(i,h)?i[h].onStack&&(u.lowlink=Math.min(u.lowlink,i[h].index)):(o(h),u.lowlink=Math.min(u.lowlink,i[h].lowlink))}),u.lowlink===u.index){var d=[],f;do f=r.pop(),i[f].onStack=!1,d.push(f);while(l!==f);s.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||o(l)}),s}return Lw}var Mw,iq;function oG(){if(iq)return Mw;iq=1;var t=RF();Mw=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return Mw}var $w,sq;function aG(){if(sq)return $w;sq=1,$w=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},l=r.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(d){u!==d&&(o[u][d]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(d){var f=d.v===u?d.w:d.v,h=i(d);o[u][f]={distance:h,predecessor:u}})}),l.forEach(function(u){var d=o[u];l.forEach(function(f){var h=o[f];l.forEach(function(b){var x=h[u],w=d[b],E=h[b],I=x.distance+w.distance;I<E.distance&&(E.distance=I,E.predecessor=w.predecessor)})})}),o}return $w}var Bw,oq;function AF(){if(oq)return Bw;oq=1;function t(n){var r={},i={},s=[];function o(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(r,l)||(i[l]=!0,r[l]=!0,n.predecessors(l).forEach(o),delete i[l],s.push(l))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return Bw=t,t.CycleException=e,Bw}var zw,aq;function lG(){if(aq)return zw;aq=1;var t=AF();zw=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return zw}var Ww,lq;function jF(){if(lq)return Ww;lq=1,Ww=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var l=i.isDirected()?h=>i.successors(h):h=>i.neighbors(h),u=o==="post"?e:n,d=[],f={};return s.forEach(h=>{if(!i.hasNode(h))throw new Error("Graph does not have node: "+h);u(h,l,f,d)}),d}function e(i,s,o,l){for(var u=[[i,!1]];u.length>0;){var d=u.pop();d[1]?l.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,u.push([d[0],!0]),r(s(d[0]),f=>u.push([f,!1])))}}function n(i,s,o,l){for(var u=[i];u.length>0;){var d=u.pop();Object.hasOwn(o,d)||(o[d]=!0,l.push(d),r(s(d),f=>u.push(f)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return Ww}var Uw,cq;function cG(){if(cq)return Uw;cq=1;var t=jF();Uw=e;function e(n,r){return t(n,r,"post")}return Uw}var Vw,uq;function uG(){if(uq)return Vw;uq=1;var t=jF();Vw=e;function e(n,r){return t(n,r,"pre")}return Vw}var Hw,dq;function dG(){if(dq)return Hw;dq=1;var t=x1(),e=OF();Hw=n;function n(r,i){var s=new t,o={},l=new e,u;function d(h){var b=h.v===u?h.w:h.v,x=l.priority(b);if(x!==void 0){var w=i(h);w<x&&(o[b]=u,l.decrease(b,w))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(r.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),Object.hasOwn(o,u))s.setEdge(u,o[u]);else{if(f)throw new Error("Input graph is not connected: "+r);f=!0}r.nodeEdges(u).forEach(d)}return s}return Hw}var Qw,fq;function fG(){return fq||(fq=1,Qw={components:iG(),dijkstra:qF(),dijkstraAll:sG(),findCycles:oG(),floydWarshall:aG(),isAcyclic:lG(),postorder:cG(),preorder:uG(),prim:dG(),tarjan:RF(),topsort:AF()}),Qw}var Kw,hq;function No(){if(hq)return Kw;hq=1;var t=nG();return Kw={Graph:t.Graph,json:rG(),alg:fG(),version:t.version},Kw}var Gw,pq;function hG(){if(pq)return Gw;pq=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return Gw=t,Gw}var Zw,mq;function pG(){if(mq)return Zw;mq=1;let t=No().Graph,e=hG();Zw=r;let n=()=>1;function r(d,f){if(d.nodeCount()<=1)return[];let h=o(d,f||n);return i(h.graph,h.buckets,h.zeroIdx).flatMap(x=>d.outEdges(x.v,x.w))}function i(d,f,h){let b=[],x=f[f.length-1],w=f[0],E;for(;d.nodeCount();){for(;E=w.dequeue();)s(d,f,h,E);for(;E=x.dequeue();)s(d,f,h,E);if(d.nodeCount()){for(let I=f.length-2;I>0;--I)if(E=f[I].dequeue(),E){b=b.concat(s(d,f,h,E,!0));break}}}return b}function s(d,f,h,b,x){let w=x?[]:void 0;return d.inEdges(b.v).forEach(E=>{let I=d.edge(E),q=d.node(E.v);x&&w.push({v:E.v,w:E.w}),q.out-=I,l(f,h,q)}),d.outEdges(b.v).forEach(E=>{let I=d.edge(E),q=E.w,O=d.node(q);O.in-=I,l(f,h,O)}),d.removeNode(b.v),w}function o(d,f){let h=new t,b=0,x=0;d.nodes().forEach(I=>{h.setNode(I,{v:I,in:0,out:0})}),d.edges().forEach(I=>{let q=h.edge(I.v,I.w)||0,O=f(I),T=q+O;h.setEdge(I.v,I.w,T),x=Math.max(x,h.node(I.v).out+=O),b=Math.max(b,h.node(I.w).in+=O)});let w=u(x+b+3).map(()=>new e),E=b+1;return h.nodes().forEach(I=>{l(w,E,h.node(I))}),{graph:h,buckets:w,zeroIdx:E}}function l(d,f,h){h.out?h.in?d[h.out-h.in+f].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}function u(d){const f=[];for(let h=0;h<d;h++)f.push(h);return f}return Zw}var Jw,gq;function Mr(){if(gq)return Jw;gq=1;let t=No().Graph;Jw={addBorderNode:f,addDummyNode:e,applyWithChunking:x,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:o,mapValues:F,maxRank:w,normalizeRanks:u,notime:q,partition:E,pick:D,predecessorWeights:s,range:R,removeEmptyRanks:d,simplify:n,successorWeights:i,time:I,uniqueId:T,zipObject:B};function e($,j,z,P){let W;do W=T(P);while($.hasNode(W));return z.dummy=j,$.setNode(W,z),W}function n($){let j=new t().setGraph($.graph());return $.nodes().forEach(z=>j.setNode(z,$.node(z))),$.edges().forEach(z=>{let P=j.edge(z.v,z.w)||{weight:0,minlen:1},W=$.edge(z);j.setEdge(z.v,z.w,{weight:P.weight+W.weight,minlen:Math.max(P.minlen,W.minlen)})}),j}function r($){let j=new t({multigraph:$.isMultigraph()}).setGraph($.graph());return $.nodes().forEach(z=>{$.children(z).length||j.setNode(z,$.node(z))}),$.edges().forEach(z=>{j.setEdge(z,$.edge(z))}),j}function i($){let j=$.nodes().map(z=>{let P={};return $.outEdges(z).forEach(W=>{P[W.w]=(P[W.w]||0)+$.edge(W).weight}),P});return B($.nodes(),j)}function s($){let j=$.nodes().map(z=>{let P={};return $.inEdges(z).forEach(W=>{P[W.v]=(P[W.v]||0)+$.edge(W).weight}),P});return B($.nodes(),j)}function o($,j){let z=$.x,P=$.y,W=j.x-z,K=j.y-P,L=$.width/2,te=$.height/2;if(!W&&!K)throw new Error("Not possible to find intersection inside of the rectangle");let X,oe;return Math.abs(K)*L>Math.abs(W)*te?(K<0&&(te=-te),X=te*W/K,oe=te):(W<0&&(L=-L),X=L,oe=L*K/W),{x:z+X,y:P+oe}}function l($){let j=R(w($)+1).map(()=>[]);return $.nodes().forEach(z=>{let P=$.node(z),W=P.rank;W!==void 0&&(j[W][P.order]=z)}),j}function u($){let j=$.nodes().map(P=>{let W=$.node(P).rank;return W===void 0?Number.MAX_VALUE:W}),z=x(Math.min,j);$.nodes().forEach(P=>{let W=$.node(P);Object.hasOwn(W,"rank")&&(W.rank-=z)})}function d($){let j=$.nodes().map(L=>$.node(L).rank),z=x(Math.min,j),P=[];$.nodes().forEach(L=>{let te=$.node(L).rank-z;P[te]||(P[te]=[]),P[te].push(L)});let W=0,K=$.graph().nodeRankFactor;Array.from(P).forEach((L,te)=>{L===void 0&&te%K!==0?--W:L!==void 0&&W&&L.forEach(X=>$.node(X).rank+=W)})}function f($,j,z,P){let W={width:0,height:0};return arguments.length>=4&&(W.rank=z,W.order=P),e($,"border",W,j)}function h($,j=b){const z=[];for(let P=0;P<$.length;P+=j){const W=$.slice(P,P+j);z.push(W)}return z}const b=65535;function x($,j){if(j.length>b){const z=h(j);return $.apply(null,z.map(P=>$.apply(null,P)))}else return $.apply(null,j)}function w($){const z=$.nodes().map(P=>{let W=$.node(P).rank;return W===void 0?Number.MIN_VALUE:W});return x(Math.max,z)}function E($,j){let z={lhs:[],rhs:[]};return $.forEach(P=>{j(P)?z.lhs.push(P):z.rhs.push(P)}),z}function I($,j){let z=Date.now();try{return j()}finally{console.log($+" time: "+(Date.now()-z)+"ms")}}function q($,j){return j()}let O=0;function T($){var j=++O;return toString($)+j}function R($,j,z=1){j==null&&(j=$,$=0);let P=K=>K<j;z<0&&(P=K=>j<K);const W=[];for(let K=$;P(K);K+=z)W.push(K);return W}function D($,j){const z={};for(const P of j)$[P]!==void 0&&(z[P]=$[P]);return z}function F($,j){let z=j;return typeof j=="string"&&(z=P=>P[j]),Object.entries($).reduce((P,[W,K])=>(P[W]=z(K,W),P),{})}function B($,j){return $.reduce((z,P,W)=>(z[P]=j[W],z),{})}return Jw}var Yw,yq;function mG(){if(yq)return Yw;yq=1;let t=pG(),e=Mr().uniqueId;Yw={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,l(s)):r(s)).forEach(u=>{let d=s.edge(u);s.removeEdge(u),d.forwardName=u.name,d.reversed=!0,s.setEdge(u.w,u.v,d,e("rev"))});function l(u){return d=>u.edge(d).weight}}function r(s){let o=[],l={},u={};function d(f){Object.hasOwn(u,f)||(u[f]=!0,l[f]=!0,s.outEdges(f).forEach(h=>{Object.hasOwn(l,h.w)?o.push(h):d(h.w)}),delete l[f])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let l=s.edge(o);if(l.reversed){s.removeEdge(o);let u=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,u)}})}return Yw}var Xw,vq;function gG(){if(vq)return Xw;vq=1;let t=Mr();Xw={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,l=i.node(o).rank,u=s.w,d=i.node(u).rank,f=s.name,h=i.edge(s),b=h.labelRank;if(d===l+1)return;i.removeEdge(s);let x,w,E;for(E=0,++l;l<d;++E,++l)h.points=[],w={width:0,height:0,edgeLabel:h,edgeObj:s,rank:l},x=t.addDummyNode(i,"edge",w,"_d"),l===b&&(w.width=h.width,w.height=h.height,w.dummy="edge-label",w.labelpos=h.labelpos),i.setEdge(o,x,{weight:h.weight},f),E===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,u,{weight:h.weight},f)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),l=o.edgeLabel,u;for(i.setEdge(o.edgeObj,l);o.dummy;)u=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=i.node(s)})}return Xw}var e0,bq;function iv(){if(bq)return e0;bq=1;const{applyWithChunking:t}=Mr();e0={longestPath:e,slack:n};function e(r){var i={};function s(o){var l=r.node(o);if(Object.hasOwn(i,o))return l.rank;i[o]=!0;let u=r.outEdges(o).map(f=>f==null?Number.POSITIVE_INFINITY:s(f.w)-r.edge(f).minlen);var d=t(Math.min,u);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return e0}var t0,xq;function PF(){if(xq)return t0;xq=1;var t=No().Graph,e=iv().slack;t0=n;function n(o){var l=new t({directed:!1}),u=o.nodes()[0],d=o.nodeCount();l.setNode(u,{});for(var f,h;r(l,o)<d;)f=i(l,o),h=l.hasNode(f.v)?e(o,f):-e(o,f),s(l,o,h);return l}function r(o,l){function u(d){l.nodeEdges(d).forEach(f=>{var h=f.v,b=d===h?f.w:h;!o.hasNode(b)&&!e(l,f)&&(o.setNode(b,{}),o.setEdge(d,b,{}),u(b))})}return o.nodes().forEach(u),o.nodeCount()}function i(o,l){return l.edges().reduce((d,f)=>{let h=Number.POSITIVE_INFINITY;return o.hasNode(f.v)!==o.hasNode(f.w)&&(h=e(l,f)),h<d[0]?[h,f]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,l,u){o.nodes().forEach(d=>l.node(d).rank+=u)}return t0}var n0,_q;function yG(){if(_q)return n0;_q=1;var t=PF(),e=iv().slack,n=iv().longestPath,r=No().alg.preorder,i=No().alg.postorder,s=Mr().simplify;n0=o,o.initLowLimValues=f,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=b,o.enterEdge=x,o.exchangeEdges=w;function o(O){O=s(O),n(O);var T=t(O);f(T),l(T,O);for(var R,D;R=b(T);)D=x(T,O,R),w(T,O,R,D)}function l(O,T){var R=i(O,O.nodes());R=R.slice(0,R.length-1),R.forEach(D=>u(O,T,D))}function u(O,T,R){var D=O.node(R),F=D.parent;O.edge(R,F).cutvalue=d(O,T,R)}function d(O,T,R){var D=O.node(R),F=D.parent,B=!0,$=T.edge(R,F),j=0;return $||(B=!1,$=T.edge(F,R)),j=$.weight,T.nodeEdges(R).forEach(z=>{var P=z.v===R,W=P?z.w:z.v;if(W!==F){var K=P===B,L=T.edge(z).weight;if(j+=K?L:-L,I(O,R,W)){var te=O.edge(R,W).cutvalue;j+=K?-te:te}}}),j}function f(O,T){arguments.length<2&&(T=O.nodes()[0]),h(O,{},1,T)}function h(O,T,R,D,F){var B=R,$=O.node(D);return T[D]=!0,O.neighbors(D).forEach(j=>{Object.hasOwn(T,j)||(R=h(O,T,R,j,D))}),$.low=B,$.lim=R++,F?$.parent=F:delete $.parent,R}function b(O){return O.edges().find(T=>O.edge(T).cutvalue<0)}function x(O,T,R){var D=R.v,F=R.w;T.hasEdge(D,F)||(D=R.w,F=R.v);var B=O.node(D),$=O.node(F),j=B,z=!1;B.lim>$.lim&&(j=$,z=!0);var P=T.edges().filter(W=>z===q(O,O.node(W.v),j)&&z!==q(O,O.node(W.w),j));return P.reduce((W,K)=>e(T,K)<e(T,W)?K:W)}function w(O,T,R,D){var F=R.v,B=R.w;O.removeEdge(F,B),O.setEdge(D.v,D.w,{}),f(O),l(O,T),E(O,T)}function E(O,T){var R=O.nodes().find(F=>!T.node(F).parent),D=r(O,R);D=D.slice(1),D.forEach(F=>{var B=O.node(F).parent,$=T.edge(F,B),j=!1;$||($=T.edge(B,F),j=!0),T.node(F).rank=T.node(B).rank+(j?$.minlen:-$.minlen)})}function I(O,T,R){return O.hasEdge(T,R)}function q(O,T,R){return R.low<=T.lim&&T.lim<=R.lim}return n0}var r0,wq;function vG(){if(wq)return r0;wq=1;var t=iv(),e=t.longestPath,n=PF(),r=yG();r0=i;function i(u){switch(u.graph().ranker){case"network-simplex":l(u);break;case"tight-tree":o(u);break;case"longest-path":s(u);break;default:l(u)}}var s=e;function o(u){e(u),n(u)}function l(u){r(u)}return r0}var i0,Sq;function bG(){if(Sq)return i0;Sq=1,i0=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),l=o.edgeObj,u=e(r,i,l.v,l.w),d=u.path,f=u.lca,h=0,b=d[h],x=!0;for(;s!==l.w;){if(o=r.node(s),x){for(;(b=d[h])!==f&&r.node(b).maxRank<o.rank;)h++;b===f&&(x=!1)}if(!x){for(;h<d.length-1&&r.node(b=d[h+1]).minRank<=o.rank;)h++;b=d[h]}r.setParent(s,b),s=r.successors(s)[0]}})}function e(r,i,s,o){let l=[],u=[],d=Math.min(i[s].low,i[o].low),f=Math.max(i[s].lim,i[o].lim),h,b;h=s;do h=r.parent(h),l.push(h);while(h&&(i[h].low>d||f>i[h].lim));for(b=h,h=o;(h=r.parent(h))!==b;)u.push(h);return{path:l.concat(u.reverse()),lca:b}}function n(r){let i={},s=0;function o(l){let u=s;r.children(l).forEach(o),i[l]={low:u,lim:s++}}return r.children().forEach(o),i}return i0}var s0,Eq;function xG(){if(Eq)return s0;Eq=1;let t=Mr();s0={run:e,cleanup:s};function e(o){let l=t.addDummyNode(o,"root",{},"_root"),u=r(o),d=Object.values(u),f=t.applyWithChunking(Math.max,d)-1,h=2*f+1;o.graph().nestingRoot=l,o.edges().forEach(x=>o.edge(x).minlen*=h);let b=i(o)+1;o.children().forEach(x=>n(o,l,h,b,f,u,x)),o.graph().nodeRankFactor=h}function n(o,l,u,d,f,h,b){let x=o.children(b);if(!x.length){b!==l&&o.setEdge(l,b,{weight:0,minlen:u});return}let w=t.addBorderNode(o,"_bt"),E=t.addBorderNode(o,"_bb"),I=o.node(b);o.setParent(w,b),I.borderTop=w,o.setParent(E,b),I.borderBottom=E,x.forEach(q=>{n(o,l,u,d,f,h,q);let O=o.node(q),T=O.borderTop?O.borderTop:q,R=O.borderBottom?O.borderBottom:q,D=O.borderTop?d:2*d,F=T!==R?1:f-h[b]+1;o.setEdge(w,T,{weight:D,minlen:F,nestingEdge:!0}),o.setEdge(R,E,{weight:D,minlen:F,nestingEdge:!0})}),o.parent(b)||o.setEdge(l,w,{weight:0,minlen:f+h[b]})}function r(o){var l={};function u(d,f){var h=o.children(d);h&&h.length&&h.forEach(b=>u(b,f+1)),l[d]=f}return o.children().forEach(d=>u(d,1)),l}function i(o){return o.edges().reduce((l,u)=>l+o.edge(u).weight,0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(u=>{var d=o.edge(u);d.nestingEdge&&o.removeEdge(u)})}return s0}var o0,Nq;function _G(){if(Nq)return o0;Nq=1;let t=Mr();o0=e;function e(r){function i(s){let o=r.children(s),l=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let u=l.minRank,d=l.maxRank+1;u<d;++u)n(r,"borderLeft","_bl",s,l,u),n(r,"borderRight","_br",s,l,u)}}r.children().forEach(i)}function n(r,i,s,o,l,u){let d={width:0,height:0,rank:u,borderType:i},f=l[i][u-1],h=t.addDummyNode(r,"border",d,s);l[i][u]=h,r.setParent(h,o),f&&r.setEdge(f,h,{weight:1})}return o0}var a0,kq;function wG(){if(kq)return a0;kq=1,a0={adjust:t,undo:e};function t(u){let d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(u)}function e(u){let d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(u),(d==="lr"||d==="rl")&&(o(u),n(u))}function n(u){u.nodes().forEach(d=>r(u.node(d))),u.edges().forEach(d=>r(u.edge(d)))}function r(u){let d=u.width;u.width=u.height,u.height=d}function i(u){u.nodes().forEach(d=>s(u.node(d))),u.edges().forEach(d=>{let f=u.edge(d);f.points.forEach(s),Object.hasOwn(f,"y")&&s(f)})}function s(u){u.y=-u.y}function o(u){u.nodes().forEach(d=>l(u.node(d))),u.edges().forEach(d=>{let f=u.edge(d);f.points.forEach(l),Object.hasOwn(f,"x")&&l(f)})}function l(u){let d=u.x;u.x=u.y,u.y=d}return a0}var l0,Iq;function SG(){if(Iq)return l0;Iq=1;let t=Mr();l0=e;function e(n){let r={},i=n.nodes().filter(f=>!n.children(f).length),s=i.map(f=>n.node(f).rank),o=t.applyWithChunking(Math.max,s),l=t.range(o+1).map(()=>[]);function u(f){if(r[f])return;r[f]=!0;let h=n.node(f);l[h.rank].push(f),n.successors(f).forEach(u)}return i.sort((f,h)=>n.node(f).rank-n.node(h).rank).forEach(u),l}return l0}var c0,Cq;function EG(){if(Cq)return c0;Cq=1;let t=Mr().zipObject;c0=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((b,x)=>x)),l=i.flatMap(b=>r.outEdges(b).map(x=>({pos:o[x.w],weight:r.edge(x).weight})).sort((x,w)=>x.pos-w.pos)),u=1;for(;u<s.length;)u<<=1;let d=2*u-1;u-=1;let f=new Array(d).fill(0),h=0;return l.forEach(b=>{let x=b.pos+u;f[x]+=b.weight;let w=0;for(;x>0;)x%2&&(w+=f[x+1]),x=x-1>>1,f[x]+=b.weight;h+=b.weight*w}),h}return c0}var u0,Tq;function NG(){if(Tq)return u0;Tq=1,u0=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,l)=>{let u=e.edge(l),d=e.node(l.v);return{sum:o.sum+u.weight*d.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return u0}var d0,Oq;function kG(){if(Oq)return d0;Oq=1;let t=Mr();d0=e;function e(i,s){let o={};i.forEach((u,d)=>{let f=o[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:d};u.barycenter!==void 0&&(f.barycenter=u.barycenter,f.weight=u.weight)}),s.edges().forEach(u=>{let d=o[u.v],f=o[u.w];d!==void 0&&f!==void 0&&(f.indegree++,d.out.push(o[u.w]))});let l=Object.values(o).filter(u=>!u.indegree);return n(l)}function n(i){let s=[];function o(u){return d=>{d.merged||(d.barycenter===void 0||u.barycenter===void 0||d.barycenter>=u.barycenter)&&r(u,d)}}function l(u){return d=>{d.in.push(u),--d.indegree===0&&i.push(d)}}for(;i.length;){let u=i.pop();s.push(u),u.in.reverse().forEach(o(u)),u.out.forEach(l(u))}return s.filter(u=>!u.merged).map(u=>t.pick(u,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,l=0;i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),s.weight&&(o+=s.barycenter*s.weight,l+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/l,i.weight=l,i.i=Math.min(s.i,i.i),s.merged=!0}return d0}var f0,qq;function IG(){if(qq)return f0;qq=1;let t=Mr();f0=e;function e(i,s){let o=t.partition(i,w=>Object.hasOwn(w,"barycenter")),l=o.lhs,u=o.rhs.sort((w,E)=>E.i-w.i),d=[],f=0,h=0,b=0;l.sort(r(!!s)),b=n(d,u,b),l.forEach(w=>{b+=w.vs.length,d.push(w.vs),f+=w.barycenter*w.weight,h+=w.weight,b=n(d,u,b)});let x={vs:d.flat(!0)};return h&&(x.barycenter=f/h,x.weight=h),x}function n(i,s,o){let l;for(;s.length&&(l=s[s.length-1]).i<=o;)s.pop(),i.push(l.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return f0}var h0,Rq;function CG(){if(Rq)return h0;Rq=1;let t=NG(),e=kG(),n=IG();h0=r;function r(o,l,u,d){let f=o.children(l),h=o.node(l),b=h?h.borderLeft:void 0,x=h?h.borderRight:void 0,w={};b&&(f=f.filter(O=>O!==b&&O!==x));let E=t(o,f);E.forEach(O=>{if(o.children(O.v).length){let T=r(o,O.v,u,d);w[O.v]=T,Object.hasOwn(T,"barycenter")&&s(O,T)}});let I=e(E,u);i(I,w);let q=n(I,d);if(b&&(q.vs=[b,q.vs,x].flat(!0),o.predecessors(b).length)){let O=o.node(o.predecessors(b)[0]),T=o.node(o.predecessors(x)[0]);Object.hasOwn(q,"barycenter")||(q.barycenter=0,q.weight=0),q.barycenter=(q.barycenter*q.weight+O.order+T.order)/(q.weight+2),q.weight+=2}return q}function i(o,l){o.forEach(u=>{u.vs=u.vs.flatMap(d=>l[d]?l[d].vs:d)})}function s(o,l){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)}return h0}var p0,Aq;function TG(){if(Aq)return p0;Aq=1;let t=No().Graph,e=Mr();p0=n;function n(i,s,o){let l=r(i),u=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let f=i.node(d),h=i.parent(d);(f.rank===s||f.minRank<=s&&s<=f.maxRank)&&(u.setNode(d),u.setParent(d,h||l),i[o](d).forEach(b=>{let x=b.v===d?b.w:b.v,w=u.edge(x,d),E=w!==void 0?w.weight:0;u.setEdge(x,d,{weight:i.edge(b).weight+E})}),Object.hasOwn(f,"minRank")&&u.setNode(d,{borderLeft:f.borderLeft[s],borderRight:f.borderRight[s]}))}),u}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return p0}var m0,jq;function OG(){if(jq)return m0;jq=1,m0=t;function t(e,n,r){let i={},s;r.forEach(o=>{let l=e.parent(o),u,d;for(;l;){if(u=e.parent(l),u?(d=i[u],i[u]=l):(d=s,s=l),d&&d!==l){n.setEdge(d,l);return}l=u}})}return m0}var g0,Pq;function qG(){if(Pq)return g0;Pq=1;let t=SG(),e=EG(),n=CG(),r=TG(),i=OG(),s=No().Graph,o=Mr();g0=l;function l(h,b){if(b&&typeof b.customOrder=="function"){b.customOrder(h,l);return}let x=o.maxRank(h),w=u(h,o.range(1,x+1),"inEdges"),E=u(h,o.range(x-1,-1,-1),"outEdges"),I=t(h);if(f(h,I),b&&b.disableOptimalOrderHeuristic)return;let q=Number.POSITIVE_INFINITY,O;for(let T=0,R=0;R<4;++T,++R){d(T%2?w:E,T%4>=2),I=o.buildLayerMatrix(h);let D=e(h,I);D<q&&(R=0,O=Object.assign({},I),q=D)}f(h,O)}function u(h,b,x){return b.map(function(w){return r(h,w,x)})}function d(h,b){let x=new s;h.forEach(function(w){let E=w.graph().root,I=n(w,E,x,b);I.vs.forEach((q,O)=>w.node(q).order=O),i(w,x,I.vs)})}function f(h,b){Object.values(b).forEach(x=>x.forEach((w,E)=>h.node(w).order=E))}return g0}var y0,Fq;function RG(){if(Fq)return y0;Fq=1;let t=No().Graph,e=Mr();y0={positionX:x,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:f,balance:b};function n(I,q){let O={};function T(R,D){let F=0,B=0,$=R.length,j=D[D.length-1];return D.forEach((z,P)=>{let W=i(I,z),K=W?I.node(W).order:$;(W||z===j)&&(D.slice(B,P+1).forEach(L=>{I.predecessors(L).forEach(te=>{let X=I.node(te),oe=X.order;(oe<F||K<oe)&&!(X.dummy&&I.node(L).dummy)&&s(O,te,L)})}),B=P+1,F=K)}),D}return q.length&&q.reduce(T),O}function r(I,q){let O={};function T(D,F,B,$,j){let z;e.range(F,B).forEach(P=>{z=D[P],I.node(z).dummy&&I.predecessors(z).forEach(W=>{let K=I.node(W);K.dummy&&(K.order<$||K.order>j)&&s(O,W,z)})})}function R(D,F){let B=-1,$,j=0;return F.forEach((z,P)=>{if(I.node(z).dummy==="border"){let W=I.predecessors(z);W.length&&($=I.node(W[0]).order,T(F,j,P,B,$),j=P,B=$)}T(F,j,F.length,$,D.length)}),F}return q.length&&q.reduce(R),O}function i(I,q){if(I.node(q).dummy)return I.predecessors(q).find(O=>I.node(O).dummy)}function s(I,q,O){if(q>O){let R=q;q=O,O=R}let T=I[q];T||(I[q]=T={}),T[O]=!0}function o(I,q,O){if(q>O){let T=q;q=O,O=T}return!!I[q]&&Object.hasOwn(I[q],O)}function l(I,q,O,T){let R={},D={},F={};return q.forEach(B=>{B.forEach(($,j)=>{R[$]=$,D[$]=$,F[$]=j})}),q.forEach(B=>{let $=-1;B.forEach(j=>{let z=T(j);if(z.length){z=z.sort((W,K)=>F[W]-F[K]);let P=(z.length-1)/2;for(let W=Math.floor(P),K=Math.ceil(P);W<=K;++W){let L=z[W];D[j]===j&&$<F[L]&&!o(O,j,L)&&(D[L]=j,D[j]=R[j]=R[L],$=F[L])}}})}),{root:R,align:D}}function u(I,q,O,T,R){let D={},F=d(I,q,O,R),B=R?"borderLeft":"borderRight";function $(P,W){let K=F.nodes(),L=K.pop(),te={};for(;L;)te[L]?P(L):(te[L]=!0,K.push(L),K=K.concat(W(L))),L=K.pop()}function j(P){D[P]=F.inEdges(P).reduce((W,K)=>Math.max(W,D[K.v]+F.edge(K)),0)}function z(P){let W=F.outEdges(P).reduce((L,te)=>Math.min(L,D[te.w]-F.edge(te)),Number.POSITIVE_INFINITY),K=I.node(P);W!==Number.POSITIVE_INFINITY&&K.borderType!==B&&(D[P]=Math.max(D[P],W))}return $(j,F.predecessors.bind(F)),$(z,F.successors.bind(F)),Object.keys(T).forEach(P=>D[P]=D[O[P]]),D}function d(I,q,O,T){let R=new t,D=I.graph(),F=w(D.nodesep,D.edgesep,T);return q.forEach(B=>{let $;B.forEach(j=>{let z=O[j];if(R.setNode(z),$){var P=O[$],W=R.edge(P,z);R.setEdge(P,z,Math.max(F(I,j,$),W||0))}$=j})}),R}function f(I,q){return Object.values(q).reduce((O,T)=>{let R=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(T).forEach(([B,$])=>{let j=E(I,B)/2;R=Math.max($+j,R),D=Math.min($-j,D)});const F=R-D;return F<O[0]&&(O=[F,T]),O},[Number.POSITIVE_INFINITY,null])[1]}function h(I,q){let O=Object.values(q),T=e.applyWithChunking(Math.min,O),R=e.applyWithChunking(Math.max,O);["u","d"].forEach(D=>{["l","r"].forEach(F=>{let B=D+F,$=I[B];if($===q)return;let j=Object.values($),z=T-e.applyWithChunking(Math.min,j);F!=="l"&&(z=R-e.applyWithChunking(Math.max,j)),z&&(I[B]=e.mapValues($,P=>P+z))})})}function b(I,q){return e.mapValues(I.ul,(O,T)=>{if(q)return I[q.toLowerCase()][T];{let R=Object.values(I).map(D=>D[T]).sort((D,F)=>D-F);return(R[1]+R[2])/2}})}function x(I){let q=e.buildLayerMatrix(I),O=Object.assign(n(I,q),r(I,q)),T={},R;["u","d"].forEach(F=>{R=F==="u"?q:Object.values(q).reverse(),["l","r"].forEach(B=>{B==="r"&&(R=R.map(P=>Object.values(P).reverse()));let $=(F==="u"?I.predecessors:I.successors).bind(I),j=l(I,R,O,$),z=u(I,R,j.root,j.align,B==="r");B==="r"&&(z=e.mapValues(z,P=>-P)),T[F+B]=z})});let D=f(I,T);return h(T,D),b(T,I.graph().align)}function w(I,q,O){return(T,R,D)=>{let F=T.node(R),B=T.node(D),$=0,j;if($+=F.width/2,Object.hasOwn(F,"labelpos"))switch(F.labelpos.toLowerCase()){case"l":j=-F.width/2;break;case"r":j=F.width/2;break}if(j&&($+=O?j:-j),j=0,$+=(F.dummy?q:I)/2,$+=(B.dummy?q:I)/2,$+=B.width/2,Object.hasOwn(B,"labelpos"))switch(B.labelpos.toLowerCase()){case"l":j=B.width/2;break;case"r":j=-B.width/2;break}return j&&($+=O?j:-j),j=0,$}}function E(I,q){return I.node(q).width}return y0}var v0,Dq;function AG(){if(Dq)return v0;Dq=1;let t=Mr(),e=RG().positionX;v0=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,l=0;s.forEach(u=>{const d=u.reduce((f,h)=>{const b=i.node(h).height;return f>b?f:b},0);u.forEach(f=>i.node(f).y=l+d/2),l+=d+o})}return v0}var b0,Lq;function jG(){if(Lq)return b0;Lq=1;let t=mG(),e=gG(),n=vG(),r=Mr().normalizeRanks,i=bG(),s=Mr().removeEmptyRanks,o=xG(),l=_G(),u=wG(),d=qG(),f=AG(),h=Mr(),b=No().Graph;b0=x;function x(he,ge){let _e=ge&&ge.debugTiming?h.time:h.notime;_e("layout",()=>{let Ne=_e("  buildLayoutGraph",()=>$(he));_e("  runLayout",()=>w(Ne,_e,ge)),_e("  updateInputGraph",()=>E(he,Ne))})}function w(he,ge,_e){ge("    makeSpaceForEdgeLabels",()=>j(he)),ge("    removeSelfEdges",()=>re(he)),ge("    acyclic",()=>t.run(he)),ge("    nestingGraph.run",()=>o.run(he)),ge("    rank",()=>n(h.asNonCompoundGraph(he))),ge("    injectEdgeLabelProxies",()=>z(he)),ge("    removeEmptyRanks",()=>s(he)),ge("    nestingGraph.cleanup",()=>o.cleanup(he)),ge("    normalizeRanks",()=>r(he)),ge("    assignRankMinMax",()=>P(he)),ge("    removeEdgeLabelProxies",()=>W(he)),ge("    normalize.run",()=>e.run(he)),ge("    parentDummyChains",()=>i(he)),ge("    addBorderSegments",()=>l(he)),ge("    order",()=>d(he,_e)),ge("    insertSelfEdges",()=>ne(he)),ge("    adjustCoordinateSystem",()=>u.adjust(he)),ge("    position",()=>f(he)),ge("    positionSelfEdges",()=>ae(he)),ge("    removeBorderNodes",()=>oe(he)),ge("    normalize.undo",()=>e.undo(he)),ge("    fixupEdgeLabelCoords",()=>te(he)),ge("    undoCoordinateSystem",()=>u.undo(he)),ge("    translateGraph",()=>K(he)),ge("    assignNodeIntersects",()=>L(he)),ge("    reversePoints",()=>X(he)),ge("    acyclic.undo",()=>t.undo(he))}function E(he,ge){he.nodes().forEach(_e=>{let Ne=he.node(_e),Pe=ge.node(_e);Ne&&(Ne.x=Pe.x,Ne.y=Pe.y,Ne.rank=Pe.rank,ge.children(_e).length&&(Ne.width=Pe.width,Ne.height=Pe.height))}),he.edges().forEach(_e=>{let Ne=he.edge(_e),Pe=ge.edge(_e);Ne.points=Pe.points,Object.hasOwn(Pe,"x")&&(Ne.x=Pe.x,Ne.y=Pe.y)}),he.graph().width=ge.graph().width,he.graph().height=ge.graph().height}let I=["nodesep","edgesep","ranksep","marginx","marginy"],q={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},O=["acyclicer","ranker","rankdir","align"],T=["width","height"],R={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],F={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},B=["labelpos"];function $(he){let ge=new b({multigraph:!0,compound:!0}),_e=ue(he.graph());return ge.setGraph(Object.assign({},q,Z(_e,I),h.pick(_e,O))),he.nodes().forEach(Ne=>{let Pe=ue(he.node(Ne));const Re=Z(Pe,T);Object.keys(R).forEach(Xe=>{Re[Xe]===void 0&&(Re[Xe]=R[Xe])}),ge.setNode(Ne,Re),ge.setParent(Ne,he.parent(Ne))}),he.edges().forEach(Ne=>{let Pe=ue(he.edge(Ne));ge.setEdge(Ne,Object.assign({},F,Z(Pe,D),h.pick(Pe,B)))}),ge}function j(he){let ge=he.graph();ge.ranksep/=2,he.edges().forEach(_e=>{let Ne=he.edge(_e);Ne.minlen*=2,Ne.labelpos.toLowerCase()!=="c"&&(ge.rankdir==="TB"||ge.rankdir==="BT"?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}function z(he){he.edges().forEach(ge=>{let _e=he.edge(ge);if(_e.width&&_e.height){let Ne=he.node(ge.v),Re={rank:(he.node(ge.w).rank-Ne.rank)/2+Ne.rank,e:ge};h.addDummyNode(he,"edge-proxy",Re,"_ep")}})}function P(he){let ge=0;he.nodes().forEach(_e=>{let Ne=he.node(_e);Ne.borderTop&&(Ne.minRank=he.node(Ne.borderTop).rank,Ne.maxRank=he.node(Ne.borderBottom).rank,ge=Math.max(ge,Ne.maxRank))}),he.graph().maxRank=ge}function W(he){he.nodes().forEach(ge=>{let _e=he.node(ge);_e.dummy==="edge-proxy"&&(he.edge(_e.e).labelRank=_e.rank,he.removeNode(ge))})}function K(he){let ge=Number.POSITIVE_INFINITY,_e=0,Ne=Number.POSITIVE_INFINITY,Pe=0,Re=he.graph(),Xe=Re.marginx||0,et=Re.marginy||0;function nt(Ve){let ot=Ve.x,kt=Ve.y,At=Ve.width,Gt=Ve.height;ge=Math.min(ge,ot-At/2),_e=Math.max(_e,ot+At/2),Ne=Math.min(Ne,kt-Gt/2),Pe=Math.max(Pe,kt+Gt/2)}he.nodes().forEach(Ve=>nt(he.node(Ve))),he.edges().forEach(Ve=>{let ot=he.edge(Ve);Object.hasOwn(ot,"x")&&nt(ot)}),ge-=Xe,Ne-=et,he.nodes().forEach(Ve=>{let ot=he.node(Ve);ot.x-=ge,ot.y-=Ne}),he.edges().forEach(Ve=>{let ot=he.edge(Ve);ot.points.forEach(kt=>{kt.x-=ge,kt.y-=Ne}),Object.hasOwn(ot,"x")&&(ot.x-=ge),Object.hasOwn(ot,"y")&&(ot.y-=Ne)}),Re.width=_e-ge+Xe,Re.height=Pe-Ne+et}function L(he){he.edges().forEach(ge=>{let _e=he.edge(ge),Ne=he.node(ge.v),Pe=he.node(ge.w),Re,Xe;_e.points?(Re=_e.points[0],Xe=_e.points[_e.points.length-1]):(_e.points=[],Re=Pe,Xe=Ne),_e.points.unshift(h.intersectRect(Ne,Re)),_e.points.push(h.intersectRect(Pe,Xe))})}function te(he){he.edges().forEach(ge=>{let _e=he.edge(ge);if(Object.hasOwn(_e,"x"))switch((_e.labelpos==="l"||_e.labelpos==="r")&&(_e.width-=_e.labeloffset),_e.labelpos){case"l":_e.x-=_e.width/2+_e.labeloffset;break;case"r":_e.x+=_e.width/2+_e.labeloffset;break}})}function X(he){he.edges().forEach(ge=>{let _e=he.edge(ge);_e.reversed&&_e.points.reverse()})}function oe(he){he.nodes().forEach(ge=>{if(he.children(ge).length){let _e=he.node(ge),Ne=he.node(_e.borderTop),Pe=he.node(_e.borderBottom),Re=he.node(_e.borderLeft[_e.borderLeft.length-1]),Xe=he.node(_e.borderRight[_e.borderRight.length-1]);_e.width=Math.abs(Xe.x-Re.x),_e.height=Math.abs(Pe.y-Ne.y),_e.x=Re.x+_e.width/2,_e.y=Ne.y+_e.height/2}}),he.nodes().forEach(ge=>{he.node(ge).dummy==="border"&&he.removeNode(ge)})}function re(he){he.edges().forEach(ge=>{if(ge.v===ge.w){var _e=he.node(ge.v);_e.selfEdges||(_e.selfEdges=[]),_e.selfEdges.push({e:ge,label:he.edge(ge)}),he.removeEdge(ge)}})}function ne(he){var ge=h.buildLayerMatrix(he);ge.forEach(_e=>{var Ne=0;_e.forEach((Pe,Re)=>{var Xe=he.node(Pe);Xe.order=Re+Ne,(Xe.selfEdges||[]).forEach(et=>{h.addDummyNode(he,"selfedge",{width:et.label.width,height:et.label.height,rank:Xe.rank,order:Re+ ++Ne,e:et.e,label:et.label},"_se")}),delete Xe.selfEdges})})}function ae(he){he.nodes().forEach(ge=>{var _e=he.node(ge);if(_e.dummy==="selfedge"){var Ne=he.node(_e.e.v),Pe=Ne.x+Ne.width/2,Re=Ne.y,Xe=_e.x-Pe,et=Ne.height/2;he.setEdge(_e.e,_e.label),he.removeNode(ge),_e.label.points=[{x:Pe+2*Xe/3,y:Re-et},{x:Pe+5*Xe/6,y:Re-et},{x:Pe+Xe,y:Re},{x:Pe+5*Xe/6,y:Re+et},{x:Pe+2*Xe/3,y:Re+et}],_e.label.x=_e.x,_e.label.y=_e.y}})}function Z(he,ge){return h.mapValues(h.pick(he,ge),Number)}function ue(he){var ge={};return he&&Object.entries(he).forEach(([_e,Ne])=>{typeof _e=="string"&&(_e=_e.toLowerCase()),ge[_e]=Ne}),ge}return b0}var x0,Mq;function PG(){if(Mq)return x0;Mq=1;let t=Mr(),e=No().Graph;x0={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,l)=>{let u="layer"+l;s.setNode(u,{rank:"same"}),o.reduce((d,f)=>(s.setEdge(d,f,{style:"invis"}),f))}),s}return x0}var _0,$q;function FG(){return $q||($q=1,_0="1.1.4"),_0}var w0,Bq;function DG(){return Bq||(Bq=1,w0={graphlib:No(),layout:jG(),debug:PG(),util:{time:Mr().time,notime:Mr().notime},version:FG()}),w0}var LG=DG();const _1=Vs(LG);function $r(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=$r(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var MG={value:()=>{}};function cb(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ty(n)}function ty(t){this._=t}function $G(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ty.prototype=cb.prototype={constructor:ty,on:function(t,e){var n=this._,r=$G(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=BG(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=zq(n[i],t.name,e);else if(e==null)for(i in n)n[i]=zq(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ty(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function BG(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function zq(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=MG,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var BS="http://www.w3.org/1999/xhtml";const Wq={svg:"http://www.w3.org/2000/svg",xhtml:BS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ub(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Wq.hasOwnProperty(e)?{space:Wq[e],local:t}:t}function zG(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===BS&&e.documentElement.namespaceURI===BS?e.createElement(t):e.createElementNS(n,t)}}function WG(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function FF(t){var e=ub(t);return(e.local?WG:zG)(e)}function UG(){}function w1(t){return t==null?UG:function(){return this.querySelector(t)}}function VG(t){typeof t!="function"&&(t=w1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,d,f=0;f<o;++f)(u=s[f])&&(d=t.call(u,u.__data__,f,s))&&("__data__"in u&&(d.__data__=u.__data__),l[f]=d);return new ms(r,this._parents)}function HG(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function QG(){return[]}function DF(t){return t==null?QG:function(){return this.querySelectorAll(t)}}function KG(t){return function(){return HG(t.apply(this,arguments))}}function GG(t){typeof t=="function"?t=KG(t):t=DF(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,d=0;d<l;++d)(u=o[d])&&(r.push(t.call(u,u.__data__,d,o)),i.push(u));return new ms(r,i)}function LF(t){return function(){return this.matches(t)}}function MF(t){return function(e){return e.matches(t)}}var ZG=Array.prototype.find;function JG(t){return function(){return ZG.call(this.children,t)}}function YG(){return this.firstElementChild}function XG(t){return this.select(t==null?YG:JG(typeof t=="function"?t:MF(t)))}var eZ=Array.prototype.filter;function tZ(){return Array.from(this.children)}function nZ(t){return function(){return eZ.call(this.children,t)}}function rZ(t){return this.selectAll(t==null?tZ:nZ(typeof t=="function"?t:MF(t)))}function iZ(t){typeof t!="function"&&(t=LF(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,d=0;d<o;++d)(u=s[d])&&t.call(u,u.__data__,d,s)&&l.push(u);return new ms(r,this._parents)}function $F(t){return new Array(t.length)}function sZ(){return new ms(this._enter||this._groups.map($F),this._parents)}function sv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}sv.prototype={constructor:sv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function oZ(t){return function(){return t}}function aZ(t,e,n,r,i,s){for(var o=0,l,u=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new sv(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function lZ(t,e,n,r,i,s,o){var l,u,d=new Map,f=e.length,h=s.length,b=new Array(f),x;for(l=0;l<f;++l)(u=e[l])&&(b[l]=x=o.call(u,u.__data__,l,e)+"",d.has(x)?i[l]=u:d.set(x,u));for(l=0;l<h;++l)x=o.call(t,s[l],l,s)+"",(u=d.get(x))?(r[l]=u,u.__data__=s[l],d.delete(x)):n[l]=new sv(t,s[l]);for(l=0;l<f;++l)(u=e[l])&&d.get(b[l])===u&&(i[l]=u)}function cZ(t){return t.__data__}function uZ(t,e){if(!arguments.length)return Array.from(this,cZ);var n=e?lZ:aZ,r=this._parents,i=this._groups;typeof t!="function"&&(t=oZ(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),d=0;d<s;++d){var f=r[d],h=i[d],b=h.length,x=dZ(t.call(f,f&&f.__data__,d,r)),w=x.length,E=l[d]=new Array(w),I=o[d]=new Array(w),q=u[d]=new Array(b);n(f,h,E,I,q,x,e);for(var O=0,T=0,R,D;O<w;++O)if(R=E[O]){for(O>=T&&(T=O+1);!(D=I[T])&&++T<w;);R._next=D||null}}return o=new ms(o,r),o._enter=l,o._exit=u,o}function dZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fZ(){return new ms(this._exit||this._groups.map($F),this._parents)}function hZ(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function pZ(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var d=n[u],f=r[u],h=d.length,b=l[u]=new Array(h),x,w=0;w<h;++w)(x=d[w]||f[w])&&(b[w]=x);for(;u<i;++u)l[u]=n[u];return new ms(l,this._parents)}function mZ(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function gZ(t){t||(t=yZ);function e(h,b){return h&&b?t(h.__data__,b.__data__):!h-!b}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(u[f]=d);u.sort(e)}return new ms(i,this._parents).order()}function yZ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vZ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bZ(){return Array.from(this)}function xZ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function _Z(){let t=0;for(const e of this)++t;return t}function wZ(){return!this.node()}function SZ(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function EZ(t){return function(){this.removeAttribute(t)}}function NZ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kZ(t,e){return function(){this.setAttribute(t,e)}}function IZ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function CZ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function TZ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function OZ(t,e){var n=ub(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?NZ:EZ:typeof e=="function"?n.local?TZ:CZ:n.local?IZ:kZ)(n,e))}function BF(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qZ(t){return function(){this.style.removeProperty(t)}}function RZ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function AZ(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function jZ(t,e,n){return arguments.length>1?this.each((e==null?qZ:typeof e=="function"?AZ:RZ)(t,e,n??"")):Dd(this.node(),t)}function Dd(t,e){return t.style.getPropertyValue(e)||BF(t).getComputedStyle(t,null).getPropertyValue(e)}function PZ(t){return function(){delete this[t]}}function FZ(t,e){return function(){this[t]=e}}function DZ(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function LZ(t,e){return arguments.length>1?this.each((e==null?PZ:typeof e=="function"?DZ:FZ)(t,e)):this.node()[t]}function zF(t){return t.trim().split(/^|\s+/)}function S1(t){return t.classList||new WF(t)}function WF(t){this._node=t,this._names=zF(t.getAttribute("class")||"")}WF.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function UF(t,e){for(var n=S1(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function VF(t,e){for(var n=S1(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function MZ(t){return function(){UF(this,t)}}function $Z(t){return function(){VF(this,t)}}function BZ(t,e){return function(){(e.apply(this,arguments)?UF:VF)(this,t)}}function zZ(t,e){var n=zF(t+"");if(arguments.length<2){for(var r=S1(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?BZ:e?MZ:$Z)(n,e))}function WZ(){this.textContent=""}function UZ(t){return function(){this.textContent=t}}function VZ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function HZ(t){return arguments.length?this.each(t==null?WZ:(typeof t=="function"?VZ:UZ)(t)):this.node().textContent}function QZ(){this.innerHTML=""}function KZ(t){return function(){this.innerHTML=t}}function GZ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ZZ(t){return arguments.length?this.each(t==null?QZ:(typeof t=="function"?GZ:KZ)(t)):this.node().innerHTML}function JZ(){this.nextSibling&&this.parentNode.appendChild(this)}function YZ(){return this.each(JZ)}function XZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function eJ(){return this.each(XZ)}function tJ(t){var e=typeof t=="function"?t:FF(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function nJ(){return null}function rJ(t,e){var n=typeof t=="function"?t:FF(t),r=e==null?nJ:typeof e=="function"?e:w1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function iJ(){var t=this.parentNode;t&&t.removeChild(this)}function sJ(){return this.each(iJ)}function oJ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function aJ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function lJ(t){return this.select(t?aJ:oJ)}function cJ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function uJ(t){return function(e){t.call(this,e,this.__data__)}}function dJ(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function fJ(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function hJ(t,e,n){return function(){var r=this.__on,i,s=uJ(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function pJ(t,e,n){var r=dJ(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,f;u<d;++u)for(i=0,f=l[u];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?hJ:fJ,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function HF(t,e,n){var r=BF(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function mJ(t,e){return function(){return HF(this,t,e)}}function gJ(t,e){return function(){return HF(this,t,e.apply(this,arguments))}}function yJ(t,e){return this.each((typeof e=="function"?gJ:mJ)(t,e))}function*vJ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var QF=[null];function ms(t,e){this._groups=t,this._parents=e}function Hp(){return new ms([[document.documentElement]],QF)}function bJ(){return this}ms.prototype=Hp.prototype={constructor:ms,select:VG,selectAll:GG,selectChild:XG,selectChildren:rZ,filter:iZ,data:uZ,enter:sZ,exit:fZ,join:hZ,merge:pZ,selection:bJ,order:mZ,sort:gZ,call:vZ,nodes:bZ,node:xZ,size:_Z,empty:wZ,each:SZ,attr:OZ,style:jZ,property:LZ,classed:zZ,text:HZ,html:ZZ,raise:YZ,lower:eJ,append:tJ,insert:rJ,remove:sJ,clone:lJ,datum:cJ,on:pJ,dispatch:yJ,[Symbol.iterator]:vJ};function us(t){return typeof t=="string"?new ms([[document.querySelector(t)]],[document.documentElement]):new ms([[t]],QF)}function xJ(t){let e;for(;e=t.sourceEvent;)t=e;return t}function fo(t,e){if(t=xJ(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const _J={passive:!1},dp={capture:!0,passive:!1};function S0(t){t.stopImmediatePropagation()}function Sd(t){t.preventDefault(),t.stopImmediatePropagation()}function KF(t){var e=t.document.documentElement,n=us(t).on("dragstart.drag",Sd,dp);"onselectstart"in e?n.on("selectstart.drag",Sd,dp):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function GF(t,e){var n=t.document.documentElement,r=us(t).on("dragstart.drag",null);e&&(r.on("click.drag",Sd,dp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _g=t=>()=>t;function zS(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:u,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}zS.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function wJ(t){return!t.ctrlKey&&!t.button}function SJ(){return this.parentNode}function EJ(t,e){return e??{x:t.x,y:t.y}}function NJ(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZF(){var t=wJ,e=SJ,n=EJ,r=NJ,i={},s=cb("start","drag","end"),o=0,l,u,d,f,h=0;function b(R){R.on("mousedown.drag",x).filter(r).on("touchstart.drag",I).on("touchmove.drag",q,_J).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(R,D){if(!(f||!t.call(this,R,D))){var F=T(this,e.call(this,R,D),R,D,"mouse");F&&(us(R.view).on("mousemove.drag",w,dp).on("mouseup.drag",E,dp),KF(R.view),S0(R),d=!1,l=R.clientX,u=R.clientY,F("start",R))}}function w(R){if(Sd(R),!d){var D=R.clientX-l,F=R.clientY-u;d=D*D+F*F>h}i.mouse("drag",R)}function E(R){us(R.view).on("mousemove.drag mouseup.drag",null),GF(R.view,d),Sd(R),i.mouse("end",R)}function I(R,D){if(t.call(this,R,D)){var F=R.changedTouches,B=e.call(this,R,D),$=F.length,j,z;for(j=0;j<$;++j)(z=T(this,B,R,D,F[j].identifier,F[j]))&&(S0(R),z("start",R,F[j]))}}function q(R){var D=R.changedTouches,F=D.length,B,$;for(B=0;B<F;++B)($=i[D[B].identifier])&&(Sd(R),$("drag",R,D[B]))}function O(R){var D=R.changedTouches,F=D.length,B,$;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),B=0;B<F;++B)($=i[D[B].identifier])&&(S0(R),$("end",R,D[B]))}function T(R,D,F,B,$,j){var z=s.copy(),P=fo(j||F,D),W,K,L;if((L=n.call(R,new zS("beforestart",{sourceEvent:F,target:b,identifier:$,active:o,x:P[0],y:P[1],dx:0,dy:0,dispatch:z}),B))!=null)return W=L.x-P[0]||0,K=L.y-P[1]||0,function te(X,oe,re){var ne=P,ae;switch(X){case"start":i[$]=te,ae=o++;break;case"end":delete i[$],--o;case"drag":P=fo(re||oe,D),ae=o;break}z.call(X,R,new zS(X,{sourceEvent:oe,subject:L,target:b,identifier:$,active:ae,x:P[0]+W,y:P[1]+K,dx:P[0]-ne[0],dy:P[1]-ne[1],dispatch:z}),B)}}return b.filter=function(R){return arguments.length?(t=typeof R=="function"?R:_g(!!R),b):t},b.container=function(R){return arguments.length?(e=typeof R=="function"?R:_g(R),b):e},b.subject=function(R){return arguments.length?(n=typeof R=="function"?R:_g(R),b):n},b.touchable=function(R){return arguments.length?(r=typeof R=="function"?R:_g(!!R),b):r},b.on=function(){var R=s.on.apply(s,arguments);return R===s?b:R},b.clickDistance=function(R){return arguments.length?(h=(R=+R)*R,b):Math.sqrt(h)},b}function E1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qp(){}var fp=.7,ov=1/fp,Ed="\\s*([+-]?\\d+)\\s*",hp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kJ=/^#([0-9a-f]{3,8})$/,IJ=new RegExp(`^rgb\\(${Ed},${Ed},${Ed}\\)$`),CJ=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),TJ=new RegExp(`^rgba\\(${Ed},${Ed},${Ed},${hp}\\)$`),OJ=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${hp}\\)$`),qJ=new RegExp(`^hsl\\(${hp},${Ko},${Ko}\\)$`),RJ=new RegExp(`^hsla\\(${hp},${Ko},${Ko},${hp}\\)$`),Uq={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};E1(Qp,pp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Vq,formatHex:Vq,formatHex8:AJ,formatHsl:jJ,formatRgb:Hq,toString:Hq});function Vq(){return this.rgb().formatHex()}function AJ(){return this.rgb().formatHex8()}function jJ(){return YF(this).formatHsl()}function Hq(){return this.rgb().formatRgb()}function pp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Qq(e):n===3?new Qi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=IJ.exec(t))?new Qi(e[1],e[2],e[3],1):(e=CJ.exec(t))?new Qi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=TJ.exec(t))?wg(e[1],e[2],e[3],e[4]):(e=OJ.exec(t))?wg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qJ.exec(t))?Zq(e[1],e[2]/100,e[3]/100,1):(e=RJ.exec(t))?Zq(e[1],e[2]/100,e[3]/100,e[4]):Uq.hasOwnProperty(t)?Qq(Uq[t]):t==="transparent"?new Qi(NaN,NaN,NaN,0):null}function Qq(t){return new Qi(t>>16&255,t>>8&255,t&255,1)}function wg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qi(t,e,n,r)}function PJ(t){return t instanceof Qp||(t=pp(t)),t?(t=t.rgb(),new Qi(t.r,t.g,t.b,t.opacity)):new Qi}function WS(t,e,n,r){return arguments.length===1?PJ(t):new Qi(t,e,n,r??1)}function Qi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}E1(Qi,WS,JF(Qp,{brighter(t){return t=t==null?ov:Math.pow(ov,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fp:Math.pow(fp,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qi(Lc(this.r),Lc(this.g),Lc(this.b),av(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kq,formatHex:Kq,formatHex8:FJ,formatRgb:Gq,toString:Gq}));function Kq(){return`#${jc(this.r)}${jc(this.g)}${jc(this.b)}`}function FJ(){return`#${jc(this.r)}${jc(this.g)}${jc(this.b)}${jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gq(){const t=av(this.opacity);return`${t===1?"rgb(":"rgba("}${Lc(this.r)}, ${Lc(this.g)}, ${Lc(this.b)}${t===1?")":`, ${t})`}`}function av(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jc(t){return t=Lc(t),(t<16?"0":"")+t.toString(16)}function Zq(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mo(t,e,n,r)}function YF(t){if(t instanceof mo)return new mo(t.h,t.s,t.l,t.opacity);if(t instanceof Qp||(t=pp(t)),!t)return new mo;if(t instanceof mo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new mo(o,l,u,t.opacity)}function DJ(t,e,n,r){return arguments.length===1?YF(t):new mo(t,e,n,r??1)}function mo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}E1(mo,DJ,JF(Qp,{brighter(t){return t=t==null?ov:Math.pow(ov,t),new mo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fp:Math.pow(fp,t),new mo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qi(E0(t>=240?t-240:t+120,i,r),E0(t,i,r),E0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new mo(Jq(this.h),Sg(this.s),Sg(this.l),av(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=av(this.opacity);return`${t===1?"hsl(":"hsla("}${Jq(this.h)}, ${Sg(this.s)*100}%, ${Sg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jq(t){return t=(t||0)%360,t<0?t+360:t}function Sg(t){return Math.max(0,Math.min(1,t||0))}function E0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const XF=t=>()=>t;function LJ(t,e){return function(n){return t+n*e}}function MJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $J(t){return(t=+t)==1?e2:function(e,n){return n-e?MJ(e,n,t):XF(isNaN(e)?n:e)}}function e2(t,e){var n=e-t;return n?LJ(t,n):XF(isNaN(t)?e:t)}const Yq=function t(e){var n=$J(e);function r(i,s){var o=n((i=WS(i)).r,(s=WS(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),d=e2(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function bl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var US=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N0=new RegExp(US.source,"g");function BJ(t){return function(){return t}}function zJ(t){return function(e){return t(e)+""}}function WJ(t,e){var n=US.lastIndex=N0.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=US.exec(t))&&(i=N0.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:bl(r,i)})),n=N0.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?zJ(u[0].x):BJ(e):(e=u.length,function(d){for(var f=0,h;f<e;++f)l[(h=u[f]).i]=h.x(d);return l.join("")})}var Xq=180/Math.PI,VS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function t2(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Xq,skewX:Math.atan(u)*Xq,scaleX:o,scaleY:l}}var Eg;function UJ(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?VS:t2(e.a,e.b,e.c,e.d,e.e,e.f)}function VJ(t){return t==null||(Eg||(Eg=document.createElementNS("http://www.w3.org/2000/svg","g")),Eg.setAttribute("transform",t),!(t=Eg.transform.baseVal.consolidate()))?VS:(t=t.matrix,t2(t.a,t.b,t.c,t.d,t.e,t.f))}function n2(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,f,h,b,x,w){if(d!==h||f!==b){var E=x.push("translate(",null,e,null,n);w.push({i:E-4,x:bl(d,h)},{i:E-2,x:bl(f,b)})}else(h||b)&&x.push("translate("+h+e+b+n)}function o(d,f,h,b){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),b.push({i:h.push(i(h)+"rotate(",null,r)-2,x:bl(d,f)})):f&&h.push(i(h)+"rotate("+f+r)}function l(d,f,h,b){d!==f?b.push({i:h.push(i(h)+"skewX(",null,r)-2,x:bl(d,f)}):f&&h.push(i(h)+"skewX("+f+r)}function u(d,f,h,b,x,w){if(d!==h||f!==b){var E=x.push(i(x)+"scale(",null,",",null,")");w.push({i:E-4,x:bl(d,h)},{i:E-2,x:bl(f,b)})}else(h!==1||b!==1)&&x.push(i(x)+"scale("+h+","+b+")")}return function(d,f){var h=[],b=[];return d=t(d),f=t(f),s(d.translateX,d.translateY,f.translateX,f.translateY,h,b),o(d.rotate,f.rotate,h,b),l(d.skewX,f.skewX,h,b),u(d.scaleX,d.scaleY,f.scaleX,f.scaleY,h,b),d=f=null,function(x){for(var w=-1,E=b.length,I;++w<E;)h[(I=b[w]).i]=I.x(x);return h.join("")}}}var HJ=n2(UJ,"px, ","px)","deg)"),QJ=n2(VJ,", ",")",")"),KJ=1e-12;function e3(t){return((t=Math.exp(t))+1/t)/2}function GJ(t){return((t=Math.exp(t))-1/t)/2}function ZJ(t){return((t=Math.exp(2*t))-1)/(t+1)}const JJ=function t(e,n,r){function i(s,o){var l=s[0],u=s[1],d=s[2],f=o[0],h=o[1],b=o[2],x=f-l,w=h-u,E=x*x+w*w,I,q;if(E<KJ)q=Math.log(b/d)/e,I=function(B){return[l+B*x,u+B*w,d*Math.exp(e*B*q)]};else{var O=Math.sqrt(E),T=(b*b-d*d+r*E)/(2*d*n*O),R=(b*b-d*d-r*E)/(2*b*n*O),D=Math.log(Math.sqrt(T*T+1)-T),F=Math.log(Math.sqrt(R*R+1)-R);q=(F-D)/e,I=function(B){var $=B*q,j=e3(D),z=d/(n*O)*(j*ZJ(e*$+D)-GJ(D));return[l+z*x,u+z*w,d*j/e3(e*$+D)]}}return I.duration=q*1e3*e/Math.SQRT2,I}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return t(o,l,u)},i}(Math.SQRT2,2,4);var Ld=0,fh=0,eh=0,r2=1e3,lv,hh,cv=0,Yc=0,db=0,mp=typeof performance=="object"&&performance.now?performance:Date,i2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function N1(){return Yc||(i2(YJ),Yc=mp.now()+db)}function YJ(){Yc=0}function uv(){this._call=this._time=this._next=null}uv.prototype=s2.prototype={constructor:uv,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?N1():+n)+(e==null?0:+e),!this._next&&hh!==this&&(hh?hh._next=this:lv=this,hh=this),this._call=t,this._time=n,HS()},stop:function(){this._call&&(this._call=null,this._time=1/0,HS())}};function s2(t,e,n){var r=new uv;return r.restart(t,e,n),r}function XJ(){N1(),++Ld;for(var t=lv,e;t;)(e=Yc-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ld}function t3(){Yc=(cv=mp.now())+db,Ld=fh=0;try{XJ()}finally{Ld=0,tY(),Yc=0}}function eY(){var t=mp.now(),e=t-cv;e>r2&&(db-=e,cv=t)}function tY(){for(var t,e=lv,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:lv=n);hh=t,HS(r)}function HS(t){if(!Ld){fh&&(fh=clearTimeout(fh));var e=t-Yc;e>24?(t<1/0&&(fh=setTimeout(t3,t-mp.now()-db)),eh&&(eh=clearInterval(eh))):(eh||(cv=mp.now(),eh=setInterval(eY,r2)),Ld=1,i2(t3))}}function n3(t,e,n){var r=new uv;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var nY=cb("start","end","cancel","interrupt"),rY=[],o2=0,r3=1,QS=2,ny=3,i3=4,KS=5,ry=6;function fb(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;iY(t,n,{name:e,index:r,group:i,on:nY,tween:rY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:o2})}function k1(t,e){var n=Ao(t,e);if(n.state>o2)throw new Error("too late; already scheduled");return n}function ra(t,e){var n=Ao(t,e);if(n.state>ny)throw new Error("too late; already running");return n}function Ao(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function iY(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=s2(s,0,n.time);function s(d){n.state=r3,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var f,h,b,x;if(n.state!==r3)return u();for(f in r)if(x=r[f],x.name===n.name){if(x.state===ny)return n3(o);x.state===i3?(x.state=ry,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[f]):+f<e&&(x.state=ry,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[f])}if(n3(function(){n.state===ny&&(n.state=i3,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=QS,n.on.call("start",t,t.__data__,n.index,n.group),n.state===QS){for(n.state=ny,i=new Array(b=n.tween.length),f=0,h=-1;f<b;++f)(x=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=x);i.length=h+1}}function l(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=KS,1),h=-1,b=i.length;++h<b;)i[h].call(t,f);n.state===KS&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=ry,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function iy(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>QS&&r.state<KS,r.state=ry,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function sY(t){return this.each(function(){iy(this,t)})}function oY(t,e){var n,r;return function(){var i=ra(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function aY(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ra(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,d=i.length;u<d;++u)if(i[u].name===e){i[u]=l;break}u===d&&i.push(l)}s.tween=i}}function lY(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ao(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?oY:aY)(n,t,e))}function I1(t,e,n){var r=t._id;return t.each(function(){var i=ra(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ao(i,r).value[e]}}function a2(t,e){var n;return(typeof e=="number"?bl:e instanceof pp?Yq:(n=pp(e))?(e=n,Yq):WJ)(t,e)}function cY(t){return function(){this.removeAttribute(t)}}function uY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function fY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function hY(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function pY(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function mY(t,e){var n=ub(t),r=n==="transform"?QJ:a2;return this.attrTween(t,typeof e=="function"?(n.local?pY:hY)(n,r,I1(this,"attr."+t,e)):e==null?(n.local?uY:cY)(n):(n.local?fY:dY)(n,r,e))}function gY(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function yY(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function vY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&yY(t,s)),n}return i._value=e,i}function bY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&gY(t,s)),n}return i._value=e,i}function xY(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ub(t);return this.tween(n,(r.local?vY:bY)(r,e))}function _Y(t,e){return function(){k1(this,t).delay=+e.apply(this,arguments)}}function wY(t,e){return e=+e,function(){k1(this,t).delay=e}}function SY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_Y:wY)(e,t)):Ao(this.node(),e).delay}function EY(t,e){return function(){ra(this,t).duration=+e.apply(this,arguments)}}function NY(t,e){return e=+e,function(){ra(this,t).duration=e}}function kY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?EY:NY)(e,t)):Ao(this.node(),e).duration}function IY(t,e){if(typeof e!="function")throw new Error;return function(){ra(this,t).ease=e}}function CY(t){var e=this._id;return arguments.length?this.each(IY(e,t)):Ao(this.node(),e).ease}function TY(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ra(this,t).ease=n}}function OY(t){if(typeof t!="function")throw new Error;return this.each(TY(this._id,t))}function qY(t){typeof t!="function"&&(t=LF(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,d=0;d<o;++d)(u=s[d])&&t.call(u,u.__data__,d,s)&&l.push(u);return new $a(r,this._parents,this._name,this._id)}function RY(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],d=n[l],f=u.length,h=o[l]=new Array(f),b,x=0;x<f;++x)(b=u[x]||d[x])&&(h[x]=b);for(;l<r;++l)o[l]=e[l];return new $a(o,this._parents,this._name,this._id)}function AY(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jY(t,e,n){var r,i,s=AY(e)?k1:ra;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function PY(t,e){var n=this._id;return arguments.length<2?Ao(this.node(),n).on.on(t):this.each(jY(n,t,e))}function FY(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function DY(){return this.on("end.remove",FY(this._id))}function LY(t){var e=this._name,n=this._id;typeof t!="function"&&(t=w1(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,d=s[o]=new Array(u),f,h,b=0;b<u;++b)(f=l[b])&&(h=t.call(f,f.__data__,b,l))&&("__data__"in f&&(h.__data__=f.__data__),d[b]=h,fb(d[b],e,n,b,d,Ao(f,n)));return new $a(s,this._parents,e,n)}function MY(t){var e=this._name,n=this._id;typeof t!="function"&&(t=DF(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],d=u.length,f,h=0;h<d;++h)if(f=u[h]){for(var b=t.call(f,f.__data__,h,u),x,w=Ao(f,n),E=0,I=b.length;E<I;++E)(x=b[E])&&fb(x,e,n,E,b,w);s.push(b),o.push(f)}return new $a(s,o,e,n)}var $Y=Hp.prototype.constructor;function BY(){return new $Y(this._groups,this._parents)}function zY(t,e){var n,r,i;return function(){var s=Dd(this,t),o=(this.style.removeProperty(t),Dd(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function l2(t){return function(){this.style.removeProperty(t)}}function WY(t,e,n){var r,i=n+"",s;return function(){var o=Dd(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function UY(t,e,n){var r,i,s;return function(){var o=Dd(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Dd(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function VY(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=ra(this,t),d=u.on,f=u.value[s]==null?l||(l=l2(e)):void 0;(d!==n||i!==f)&&(r=(n=d).copy()).on(o,i=f),u.on=r}}function HY(t,e,n){var r=(t+="")=="transform"?HJ:a2;return e==null?this.styleTween(t,zY(t,r)).on("end.style."+t,l2(t)):typeof e=="function"?this.styleTween(t,UY(t,r,I1(this,"style."+t,e))).each(VY(this._id,t)):this.styleTween(t,WY(t,r,e),n).on("end.style."+t,null)}function QY(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function KY(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&QY(t,o,n)),r}return s._value=e,s}function GY(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,KY(t,e,n??""))}function ZY(t){return function(){this.textContent=t}}function JY(t){return function(){var e=t(this);this.textContent=e??""}}function YY(t){return this.tween("text",typeof t=="function"?JY(I1(this,"text",t)):ZY(t==null?"":t+""))}function XY(t){return function(e){this.textContent=t.call(this,e)}}function eX(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&XY(i)),e}return r._value=t,r}function tX(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,eX(t))}function nX(){for(var t=this._name,e=this._id,n=c2(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,d=0;d<l;++d)if(u=o[d]){var f=Ao(u,e);fb(u,t,n,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new $a(r,this._parents,t,n)}function rX(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var d=ra(this,r),f=d.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),d.on=e}),i===0&&s()})}var iX=0;function $a(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function c2(){return++iX}var _a=Hp.prototype;$a.prototype={constructor:$a,select:LY,selectAll:MY,selectChild:_a.selectChild,selectChildren:_a.selectChildren,filter:qY,merge:RY,selection:BY,transition:nX,call:_a.call,nodes:_a.nodes,node:_a.node,size:_a.size,empty:_a.empty,each:_a.each,on:PY,attr:mY,attrTween:xY,style:HY,styleTween:GY,text:YY,textTween:tX,remove:DY,tween:lY,delay:SY,duration:kY,ease:CY,easeVarying:OY,end:rX,[Symbol.iterator]:_a[Symbol.iterator]};function sX(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var oX={time:null,delay:0,duration:250,ease:sX};function aX(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function lX(t){var e,n;t instanceof $a?(e=t._id,t=t._name):(e=c2(),(n=oX).time=N1(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,d=0;d<l;++d)(u=o[d])&&fb(u,t,e,d,o,n||aX(u,e));return new $a(r,this._parents,t,e)}Hp.prototype.interrupt=sY;Hp.prototype.transition=lX;const Ng=t=>()=>t;function cX(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ta(t,e,n){this.k=t,this.x=e,this.y=n}Ta.prototype={constructor:Ta,scale:function(t){return t===1?this:new Ta(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ta(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hb=new Ta(1,0,0);u2.prototype=Ta.prototype;function u2(t){for(;!t.__zoom;)if(!(t=t.parentNode))return hb;return t.__zoom}function k0(t){t.stopImmediatePropagation()}function th(t){t.preventDefault(),t.stopImmediatePropagation()}function uX(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function dX(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function s3(){return this.__zoom||hb}function fX(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function hX(){return navigator.maxTouchPoints||"ontouchstart"in this}function pX(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function d2(){var t=uX,e=dX,n=pX,r=fX,i=hX,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=JJ,d=cb("start","zoom","end"),f,h,b,x=500,w=150,E=0,I=10;function q(L){L.property("__zoom",s3).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}q.transform=function(L,te,X,oe){var re=L.selection?L.selection():L;re.property("__zoom",s3),L!==re?D(L,te,X,oe):re.interrupt().each(function(){F(this,arguments).event(oe).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},q.scaleBy=function(L,te,X,oe){q.scaleTo(L,function(){var re=this.__zoom.k,ne=typeof te=="function"?te.apply(this,arguments):te;return re*ne},X,oe)},q.scaleTo=function(L,te,X,oe){q.transform(L,function(){var re=e.apply(this,arguments),ne=this.__zoom,ae=X==null?R(re):typeof X=="function"?X.apply(this,arguments):X,Z=ne.invert(ae),ue=typeof te=="function"?te.apply(this,arguments):te;return n(T(O(ne,ue),ae,Z),re,o)},X,oe)},q.translateBy=function(L,te,X,oe){q.transform(L,function(){return n(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof X=="function"?X.apply(this,arguments):X),e.apply(this,arguments),o)},null,oe)},q.translateTo=function(L,te,X,oe,re){q.transform(L,function(){var ne=e.apply(this,arguments),ae=this.__zoom,Z=oe==null?R(ne):typeof oe=="function"?oe.apply(this,arguments):oe;return n(hb.translate(Z[0],Z[1]).scale(ae.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof X=="function"?-X.apply(this,arguments):-X),ne,o)},oe,re)};function O(L,te){return te=Math.max(s[0],Math.min(s[1],te)),te===L.k?L:new Ta(te,L.x,L.y)}function T(L,te,X){var oe=te[0]-X[0]*L.k,re=te[1]-X[1]*L.k;return oe===L.x&&re===L.y?L:new Ta(L.k,oe,re)}function R(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function D(L,te,X,oe){L.on("start.zoom",function(){F(this,arguments).event(oe).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(oe).end()}).tween("zoom",function(){var re=this,ne=arguments,ae=F(re,ne).event(oe),Z=e.apply(re,ne),ue=X==null?R(Z):typeof X=="function"?X.apply(re,ne):X,he=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),ge=re.__zoom,_e=typeof te=="function"?te.apply(re,ne):te,Ne=u(ge.invert(ue).concat(he/ge.k),_e.invert(ue).concat(he/_e.k));return function(Pe){if(Pe===1)Pe=_e;else{var Re=Ne(Pe),Xe=he/Re[2];Pe=new Ta(Xe,ue[0]-Re[0]*Xe,ue[1]-Re[1]*Xe)}ae.zoom(null,Pe)}})}function F(L,te,X){return!X&&L.__zooming||new B(L,te)}function B(L,te){this.that=L,this.args=te,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,te),this.taps=0}B.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,te){return this.mouse&&L!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var te=us(this.that).datum();d.call(L,this.that,new cX(L,{sourceEvent:this.sourceEvent,target:q,type:L,transform:this.that.__zoom,dispatch:d}),te)}};function $(L,...te){if(!t.apply(this,arguments))return;var X=F(this,te).event(L),oe=this.__zoom,re=Math.max(s[0],Math.min(s[1],oe.k*Math.pow(2,r.apply(this,arguments)))),ne=fo(L);if(X.wheel)(X.mouse[0][0]!==ne[0]||X.mouse[0][1]!==ne[1])&&(X.mouse[1]=oe.invert(X.mouse[0]=ne)),clearTimeout(X.wheel);else{if(oe.k===re)return;X.mouse=[ne,oe.invert(ne)],iy(this),X.start()}th(L),X.wheel=setTimeout(ae,w),X.zoom("mouse",n(T(O(oe,re),X.mouse[0],X.mouse[1]),X.extent,o));function ae(){X.wheel=null,X.end()}}function j(L,...te){if(b||!t.apply(this,arguments))return;var X=L.currentTarget,oe=F(this,te,!0).event(L),re=us(L.view).on("mousemove.zoom",ue,!0).on("mouseup.zoom",he,!0),ne=fo(L,X),ae=L.clientX,Z=L.clientY;KF(L.view),k0(L),oe.mouse=[ne,this.__zoom.invert(ne)],iy(this),oe.start();function ue(ge){if(th(ge),!oe.moved){var _e=ge.clientX-ae,Ne=ge.clientY-Z;oe.moved=_e*_e+Ne*Ne>E}oe.event(ge).zoom("mouse",n(T(oe.that.__zoom,oe.mouse[0]=fo(ge,X),oe.mouse[1]),oe.extent,o))}function he(ge){re.on("mousemove.zoom mouseup.zoom",null),GF(ge.view,oe.moved),th(ge),oe.event(ge).end()}}function z(L,...te){if(t.apply(this,arguments)){var X=this.__zoom,oe=fo(L.changedTouches?L.changedTouches[0]:L,this),re=X.invert(oe),ne=X.k*(L.shiftKey?.5:2),ae=n(T(O(X,ne),oe,re),e.apply(this,te),o);th(L),l>0?us(this).transition().duration(l).call(D,ae,oe,L):us(this).call(q.transform,ae,oe,L)}}function P(L,...te){if(t.apply(this,arguments)){var X=L.touches,oe=X.length,re=F(this,te,L.changedTouches.length===oe).event(L),ne,ae,Z,ue;for(k0(L),ae=0;ae<oe;++ae)Z=X[ae],ue=fo(Z,this),ue=[ue,this.__zoom.invert(ue),Z.identifier],re.touch0?!re.touch1&&re.touch0[2]!==ue[2]&&(re.touch1=ue,re.taps=0):(re.touch0=ue,ne=!0,re.taps=1+!!f);f&&(f=clearTimeout(f)),ne&&(re.taps<2&&(h=ue[0],f=setTimeout(function(){f=null},x)),iy(this),re.start())}}function W(L,...te){if(this.__zooming){var X=F(this,te).event(L),oe=L.changedTouches,re=oe.length,ne,ae,Z,ue;for(th(L),ne=0;ne<re;++ne)ae=oe[ne],Z=fo(ae,this),X.touch0&&X.touch0[2]===ae.identifier?X.touch0[0]=Z:X.touch1&&X.touch1[2]===ae.identifier&&(X.touch1[0]=Z);if(ae=X.that.__zoom,X.touch1){var he=X.touch0[0],ge=X.touch0[1],_e=X.touch1[0],Ne=X.touch1[1],Pe=(Pe=_e[0]-he[0])*Pe+(Pe=_e[1]-he[1])*Pe,Re=(Re=Ne[0]-ge[0])*Re+(Re=Ne[1]-ge[1])*Re;ae=O(ae,Math.sqrt(Pe/Re)),Z=[(he[0]+_e[0])/2,(he[1]+_e[1])/2],ue=[(ge[0]+Ne[0])/2,(ge[1]+Ne[1])/2]}else if(X.touch0)Z=X.touch0[0],ue=X.touch0[1];else return;X.zoom("touch",n(T(ae,Z,ue),X.extent,o))}}function K(L,...te){if(this.__zooming){var X=F(this,te).event(L),oe=L.changedTouches,re=oe.length,ne,ae;for(k0(L),b&&clearTimeout(b),b=setTimeout(function(){b=null},x),ne=0;ne<re;++ne)ae=oe[ne],X.touch0&&X.touch0[2]===ae.identifier?delete X.touch0:X.touch1&&X.touch1[2]===ae.identifier&&delete X.touch1;if(X.touch1&&!X.touch0&&(X.touch0=X.touch1,delete X.touch1),X.touch0)X.touch0[1]=this.__zoom.invert(X.touch0[0]);else if(X.end(),X.taps===2&&(ae=fo(ae,this),Math.hypot(h[0]-ae[0],h[1]-ae[1])<I)){var Z=us(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return q.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:Ng(+L),q):r},q.filter=function(L){return arguments.length?(t=typeof L=="function"?L:Ng(!!L),q):t},q.touchable=function(L){return arguments.length?(i=typeof L=="function"?L:Ng(!!L),q):i},q.extent=function(L){return arguments.length?(e=typeof L=="function"?L:Ng([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),q):e},q.scaleExtent=function(L){return arguments.length?(s[0]=+L[0],s[1]=+L[1],q):[s[0],s[1]]},q.translateExtent=function(L){return arguments.length?(o[0][0]=+L[0][0],o[1][0]=+L[1][0],o[0][1]=+L[0][1],o[1][1]=+L[1][1],q):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},q.constrain=function(L){return arguments.length?(n=L,q):n},q.duration=function(L){return arguments.length?(l=+L,q):l},q.interpolate=function(L){return arguments.length?(u=L,q):u},q.on=function(){var L=d.on.apply(d,arguments);return L===d?q:L},q.clickDistance=function(L){return arguments.length?(E=(L=+L)*L,q):Math.sqrt(E)},q.tapDistance=function(L){return arguments.length?(I=+L,q):I},q}const za={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},gp=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],f2=["Enter"," ","Escape"];var Md;(function(t){t.Strict="strict",t.Loose="loose"})(Md||(Md={}));var Mc;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Mc||(Mc={}));var yp;(function(t){t.Partial="partial",t.Full="full"})(yp||(yp={}));const h2={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var kl;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(kl||(kl={}));var dv;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(dv||(dv={}));var Dt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Dt||(Dt={}));const o3={[Dt.Left]:Dt.Right,[Dt.Right]:Dt.Left,[Dt.Top]:Dt.Bottom,[Dt.Bottom]:Dt.Top};function p2(t){return t===null?null:t?"valid":"invalid"}const m2=t=>"id"in t&&"source"in t&&"target"in t,mX=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),C1=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Kp=(t,e=[0,0])=>{const{width:n,height:r}=Wa(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},gX=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):C1(i)?i:e.nodeLookup.get(i.id));const l=o?fv(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return pb(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return mb(n)},Gp=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=fv(r);n=pb(n,i)}}),mb(n)},g2=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const l={...Zp(e,[n,r,i]),width:e.width/i,height:e.height/i},u=[];for(const d of t.values()){const{measured:f,selectable:h=!0,hidden:b=!1}=d;if(o&&!h||b)continue;const x=f.width??d.width??d.initialWidth??null,w=f.height??d.height??d.initialHeight??null,E=vp(l,Bd(d)),I=(x??0)*(w??0),q=s&&E>0;(!d.internals.handleBounds||q||E>=I||d.dragging)&&u.push(d)}return u},yX=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function GS(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function ZS({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const l=Gp(t),u=T1(l,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(u,{duration:o?.duration}),Promise.resolve(!0)}function y2({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),l=o.parentId?n.get(o.parentId):void 0,{x:u,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let h=i;if(o.extent==="parent"&&!o.expandParent)if(!l)s?.("005",za.error005());else{const x=l.measured.width,w=l.measured.height;x&&w&&(h=[[u,d],[u+x,d+w]])}else l&&zd(o.extent)&&(h=[[o.extent[0][0]+u,o.extent[0][1]+d],[o.extent[1][0]+u,o.extent[1][1]+d]]);const b=zd(h)?Xc(e,h,o.measured):e;return{position:{x:b.x-u+o.measured.width*f[0],y:b.y-d+o.measured.height*f[1]},positionAbsolute:b}}async function vX({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(b=>b.id)),o=[];for(const b of n){if(b.deletable===!1)continue;const x=s.has(b.id),w=!x&&b.parentId&&o.find(E=>E.id===b.parentId);(x||w)&&o.push(b)}const l=new Set(e.map(b=>b.id)),u=r.filter(b=>b.deletable!==!1),f=yX(o,u);for(const b of u)l.has(b.id)&&!f.find(w=>w.id===b.id)&&f.push(b);if(!i)return{edges:f,nodes:o};const h=await i({nodes:o,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:o}:{edges:[],nodes:[]}:h}const $d=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Xc=(t={x:0,y:0},e,n)=>({x:$d(t.x,e[0][0],e[1][0]-(n?.width??0)),y:$d(t.y,e[0][1],e[1][1]-(n?.height??0))});function v2(t,e,n){const{width:r,height:i}=Wa(n),{x:s,y:o}=n.internals.positionAbsolute;return Xc(t,[[s,o],[s+r,o+i]],e)}const a3=(t,e,n)=>t<e?$d(Math.abs(t-e),1,e)/e:t>n?-$d(Math.abs(t-n),1,e)/e:0,b2=(t,e,n=15,r=40)=>{const i=a3(t.x,r,e.width-r)*n,s=a3(t.y,r,e.height-r)*n;return[i,s]},pb=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),JS=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),mb=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Bd=(t,e=[0,0])=>{const{x:n,y:r}=C1(t)?t.internals.positionAbsolute:Kp(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},fv=(t,e=[0,0])=>{const{x:n,y:r}=C1(t)?t.internals.positionAbsolute:Kp(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},x2=(t,e)=>mb(pb(JS(t),JS(e))),vp=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},l3=t=>xo(t.width)&&xo(t.height)&&xo(t.x)&&xo(t.y),xo=t=>!isNaN(t)&&isFinite(t),bX=(t,e)=>{},gb=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Zp=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?gb(l,o):l},_2=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),T1=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),l=n/(t.height*(1+s)),u=Math.min(o,l),d=$d(u,r,i),f=t.x+t.width/2,h=t.y+t.height/2,b=e/2-f*d,x=n/2-h*d;return{x:b,y:x,zoom:d}},hv=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function zd(t){return t!==void 0&&t!=="parent"}function Wa(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function w2(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function S2(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function Oh(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Aa(t),l=Zp({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:u,y:d}=n?gb(l,e):l;return{xSnapped:u,ySnapped:d,...l}}const yb=t=>({width:t.offsetWidth,height:t.offsetHeight}),E2=t=>t.getRootNode?.()||window?.document,xX=["INPUT","SELECT","TEXTAREA"];function YS(t){const e=t.composedPath?.()?.[0]||t.target;return xX.includes(e?.nodeName)||e?.hasAttribute?.("contenteditable")||!!e?.closest(".nokey")}const N2=t=>"clientX"in t,Aa=(t,e)=>{const n=N2(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},c3=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...yb(o)}})};function k2({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const u=t*.125+i*.375+o*.375+n*.125,d=e*.125+s*.375+l*.375+r*.125,f=Math.abs(u-t),h=Math.abs(d-e);return[u,d,f,h]}function kg(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function u3({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Dt.Left:return[e-kg(e-r,s),n];case Dt.Right:return[e+kg(r-e,s),n];case Dt.Top:return[e,n-kg(n-i,s)];case Dt.Bottom:return[e,n+kg(i-n,s)]}}function O1({sourceX:t,sourceY:e,sourcePosition:n=Dt.Bottom,targetX:r,targetY:i,targetPosition:s=Dt.Top,curvature:o=.25}){const[l,u]=u3({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[d,f]=u3({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[h,b,x,w]=k2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${t},${e} C${l},${u} ${d},${f} ${r},${i}`,h,b,x,w]}function I2({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[s,l,i,o]}function _X({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function wX({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=pb(fv(t),fv(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return vp(o,mb(s))>0}const SX=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,EX=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),NX=(t,e)=>{if(!t.source||!t.target)return e;let n;return m2(t)?n={...t}:n={...t,id:SX(t)},EX(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function C2({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,l]=I2({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,l]}const d3={[Dt.Left]:{x:-1,y:0},[Dt.Right]:{x:1,y:0},[Dt.Top]:{x:0,y:-1},[Dt.Bottom]:{x:0,y:1}},kX=({source:t,sourcePosition:e=Dt.Bottom,target:n})=>e===Dt.Left||e===Dt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},f3=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function IX({source:t,sourcePosition:e=Dt.Bottom,target:n,targetPosition:r=Dt.Top,center:i,offset:s}){const o=d3[e],l=d3[r],u={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},f=kX({source:u,sourcePosition:e,target:d}),h=f.x!==0?"x":"y",b=f[h];let x=[],w,E;const I={x:0,y:0},q={x:0,y:0},[O,T,R,D]=I2({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*l[h]===-1){w=i.x??O,E=i.y??T;const B=[{x:w,y:u.y},{x:w,y:d.y}],$=[{x:u.x,y:E},{x:d.x,y:E}];o[h]===b?x=h==="x"?B:$:x=h==="x"?$:B}else{const B=[{x:u.x,y:d.y}],$=[{x:d.x,y:u.y}];if(h==="x"?x=o.x===b?$:B:x=o.y===b?B:$,e===r){const K=Math.abs(t[h]-n[h]);if(K<=s){const L=Math.min(s-1,s-K);o[h]===b?I[h]=(u[h]>t[h]?-1:1)*L:q[h]=(d[h]>n[h]?-1:1)*L}}if(e!==r){const K=h==="x"?"y":"x",L=o[h]===l[K],te=u[K]>d[K],X=u[K]<d[K];(o[h]===1&&(!L&&te||L&&X)||o[h]!==1&&(!L&&X||L&&te))&&(x=h==="x"?B:$)}const j={x:u.x+I.x,y:u.y+I.y},z={x:d.x+q.x,y:d.y+q.y},P=Math.max(Math.abs(j.x-x[0].x),Math.abs(z.x-x[0].x)),W=Math.max(Math.abs(j.y-x[0].y),Math.abs(z.y-x[0].y));P>=W?(w=(j.x+z.x)/2,E=x[0].y):(w=x[0].x,E=(j.y+z.y)/2)}return[[t,{x:u.x+I.x,y:u.y+I.y},...x,{x:d.x+q.x,y:d.y+q.y},n],w,E,R,D]}function CX(t,e,n,r){const i=Math.min(f3(t,e)/2,f3(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*f}`}const l=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${s},${o+i*u}Q ${s},${o} ${s+i*l},${o}`}function XS({sourceX:t,sourceY:e,sourcePosition:n=Dt.Bottom,targetX:r,targetY:i,targetPosition:s=Dt.Top,borderRadius:o=5,centerX:l,centerY:u,offset:d=20}){const[f,h,b,x,w]=IX({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:l,y:u},offset:d});return[f.reduce((I,q,O)=>{let T="";return O>0&&O<f.length-1?T=CX(f[O-1],q,f[O+1],o):T=`${O===0?"M":"L"}${q.x} ${q.y}`,I+=T,I},""),h,b,x,w]}function h3(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function TX(t){const{sourceNode:e,targetNode:n}=t;if(!h3(e)||!h3(n))return null;const r=e.internals.handleBounds||p3(e.handles),i=n.internals.handleBounds||p3(n.handles),s=m3(r?.source??[],t.sourceHandle),o=m3(t.connectionMode===Md.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",za.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=s?.position||Dt.Bottom,u=o?.position||Dt.Top,d=bp(e,s,l),f=bp(n,o,u);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:u}}function p3(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function bp(t,e,n=Dt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??Wa(t);if(r)return{x:i+o/2,y:s+l/2};switch(e?.position??n){case Dt.Top:return{x:i+o/2,y:s};case Dt.Right:return{x:i+o,y:s+l/2};case Dt.Bottom:return{x:i+o/2,y:s+l};case Dt.Left:return{x:i,y:s+l/2}}}function m3(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function eE(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function OX(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const d=eE(u,e);s.has(d)||(o.push({id:d,color:u.color||n,...u}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const q1={nodeOrigin:[0,0],nodeExtent:gp,elevateNodesOnSelect:!0,defaults:{}},qX={...q1,checkEquality:!0};function R1(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function RX(t,e,n){const r=R1(q1,n);for(const i of t.values())if(i.parentId)A1(i,t,e,r);else{const s=Kp(i,r.nodeOrigin),o=zd(i.extent)?i.extent:r.nodeExtent,l=Xc(s,o,Wa(i));i.internals.positionAbsolute=l}}function tE(t,e,n,r){const i=R1(qX,r),s=new Map(e),o=i?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let u=s.get(l.id);if(i.checkEquality&&l===u?.internals.userNode)e.set(l.id,u);else{const d=Kp(l,i.nodeOrigin),f=zd(l.extent)?l.extent:i.nodeExtent,h=Xc(d,f,Wa(l));u={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:h,handleBounds:l.measured?u?.internals.handleBounds:void 0,z:T2(l,o),userNode:l}},e.set(l.id,u)}l.parentId&&A1(u,e,n,r)}}function AX(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function A1(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=R1(q1,r),l=t.parentId,u=e.get(l);if(!u){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}AX(t,n);const d=i?1e3:0,{x:f,y:h,z:b}=jX(t,u,s,o,d),{positionAbsolute:x}=t.internals,w=f!==x.x||h!==x.y;(w||b!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:w?{x:f,y:h}:x,z:b})}function T2(t,e){return(xo(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function jX(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,l=Wa(t),u=Kp(t,n),d=zd(t.extent)?Xc(u,t.extent,l):u;let f=Xc({x:s+d.x,y:o+d.y},r,l);t.extent==="parent"&&(f=v2(f,l,e));const h=T2(t,i),b=e.internals.z??0;return{x:f.x,y:f.y,z:b>h?b:h}}function j1(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const l=e.get(o.parentId);if(!l)continue;const u=s.get(o.parentId)?.expandedRect??Bd(l),d=x2(u,o.rect);s.set(o.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:o,parent:l},u)=>{const d=l.internals.positionAbsolute,f=Wa(l),h=l.origin??r,b=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,x=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,w=Math.max(f.width,Math.round(o.width)),E=Math.max(f.height,Math.round(o.height)),I=(w-f.width)*h[0],q=(E-f.height)*h[1];(b>0||x>0||I||q)&&(i.push({id:u,type:"position",position:{x:l.position.x-b+I,y:l.position.y-x+q}}),n.get(u)?.forEach(O=>{t.some(T=>T.id===O.id)||i.push({id:O.id,type:"position",position:{x:O.position.x+b,y:O.position.y+x}})})),(f.width<o.width||f.height<o.height||b||x)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:w+(b?h[0]*b-I:0),height:E+(x?h[1]*x-q:0)}})}),i}function PX(t,e,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const u=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const b of t.values()){const x=e.get(b.id);if(x)if(x.hidden)x.internals={...x.internals,handleBounds:void 0},l=!0;else{const w=yb(b.nodeElement),E=x.measured.width!==w.width||x.measured.height!==w.height;if(!!(w.width&&w.height&&(E||!x.internals.handleBounds||b.force))){const q=b.nodeElement.getBoundingClientRect(),O=zd(x.extent)?x.extent:s;let{positionAbsolute:T}=x.internals;x.parentId&&x.extent==="parent"?T=v2(T,w,e.get(x.parentId)):O&&(T=Xc(T,O,w)),x.measured=w,x.internals={...x.internals,positionAbsolute:T,handleBounds:{source:c3("source",b.nodeElement,q,f,x.id),target:c3("target",b.nodeElement,q,f,x.id)}},x.parentId&&A1(x,e,n,{nodeOrigin:i}),l=!0,E&&(u.push({id:x.id,type:"dimensions",dimensions:w}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:Bd(x,i)}))}}}if(h.length>0){const b=j1(h,e,n,i);u.push(...b)}return{changes:u,updatedInternals:l}}async function FX({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function O2(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,u=`${i}-source-${o}`,d=`${s}-target-${l}`,f=t.get(u)||new Map,h=t.get(d)||new Map,b={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l};e.set(r.id,r),t.set(u,f.set(`${s}-${l}`,b)),t.set(d,h.set(`${i}-${o}`,b))}}function q2(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:q2(n,e):!1}function g3(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function DX(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!q2(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function I0({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,l]of e){const u=n.get(o)?.internals.userNode;u&&i.push({...u,position:l.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function LX({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,u=!1,d={x:0,y:0},f=null,h=!1,b=null,x=!1;function w({noDragClassName:I,handleSelector:q,domNode:O,isSelectable:T,nodeId:R,nodeClickDistance:D=0}){b=us(O);function F({x:z,y:P},W){const{nodeLookup:K,nodeExtent:L,snapGrid:te,snapToGrid:X,nodeOrigin:oe,onNodeDrag:re,onSelectionDrag:ne,onError:ae,updateNodePositions:Z}=e();s={x:z,y:P};let ue=!1,he={x:0,y:0,x2:0,y2:0};if(l.size>1&&L){const ge=Gp(l);he=JS(ge)}for(const[ge,_e]of l){if(!K.has(ge))continue;let Ne={x:z-_e.distance.x,y:P-_e.distance.y};X&&(Ne=gb(Ne,te));let Pe=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];if(l.size>1&&L&&!_e.extent){const{positionAbsolute:et}=_e.internals,nt=et.x-he.x+L[0][0],Ve=et.x+_e.measured.width-he.x2+L[1][0],ot=et.y-he.y+L[0][1],kt=et.y+_e.measured.height-he.y2+L[1][1];Pe=[[nt,ot],[Ve,kt]]}const{position:Re,positionAbsolute:Xe}=y2({nodeId:ge,nextPosition:Ne,nodeLookup:K,nodeExtent:Pe,nodeOrigin:oe,onError:ae});ue=ue||_e.position.x!==Re.x||_e.position.y!==Re.y,_e.position=Re,_e.internals.positionAbsolute=Xe}if(ue&&(Z(l,!0),W&&(r||re||!R&&ne))){const[ge,_e]=I0({nodeId:R,dragItems:l,nodeLookup:K});r?.(W,l,ge,_e),re?.(W,ge,_e),R||ne?.(W,_e)}}async function B(){if(!f)return;const{transform:z,panBy:P,autoPanSpeed:W}=e(),[K,L]=b2(d,f,W);(K!==0||L!==0)&&(s.x=(s.x??0)-K/z[2],s.y=(s.y??0)-L/z[2],await P({x:K,y:L})&&F(s,null)),o=requestAnimationFrame(B)}function $(z){const{nodeLookup:P,multiSelectionActive:W,nodesDraggable:K,transform:L,snapGrid:te,snapToGrid:X,selectNodesOnDrag:oe,onNodeDragStart:re,onSelectionDragStart:ne,unselectNodesAndEdges:ae}=e();h=!0,(!oe||!T)&&!W&&R&&(P.get(R)?.selected||ae()),T&&oe&&R&&t?.(R);const Z=Oh(z.sourceEvent,{transform:L,snapGrid:te,snapToGrid:X,containerBounds:f});if(s=Z,l=DX(P,K,Z,R),l.size>0&&(n||re||!R&&ne)){const[ue,he]=I0({nodeId:R,dragItems:l,nodeLookup:P});n?.(z.sourceEvent,l,ue,he),re?.(z.sourceEvent,ue,he),R||ne?.(z.sourceEvent,he)}}const j=ZF().clickDistance(D).on("start",z=>{const{domNode:P,nodeDragThreshold:W,transform:K,snapGrid:L,snapToGrid:te}=e();f=P?.getBoundingClientRect()||null,x=!1,W===0&&$(z),s=Oh(z.sourceEvent,{transform:K,snapGrid:L,snapToGrid:te,containerBounds:f}),d=Aa(z.sourceEvent,f)}).on("drag",z=>{const{autoPanOnNodeDrag:P,transform:W,snapGrid:K,snapToGrid:L,nodeDragThreshold:te,nodeLookup:X}=e(),oe=Oh(z.sourceEvent,{transform:W,snapGrid:K,snapToGrid:L,containerBounds:f});if((z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||R&&!X.has(R))&&(x=!0),!x){if(!u&&P&&h&&(u=!0,B()),!h){const re=oe.xSnapped-(s.x??0),ne=oe.ySnapped-(s.y??0);Math.sqrt(re*re+ne*ne)>te&&$(z)}(s.x!==oe.xSnapped||s.y!==oe.ySnapped)&&l&&h&&(d=Aa(z.sourceEvent,f),F(oe,z.sourceEvent))}}).on("end",z=>{if(!(!h||x)&&(u=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:P,updateNodePositions:W,onNodeDragStop:K,onSelectionDragStop:L}=e();if(W(l,!1),i||K||!R&&L){const[te,X]=I0({nodeId:R,dragItems:l,nodeLookup:P,dragging:!1});i?.(z.sourceEvent,l,te,X),K?.(z.sourceEvent,te,X),R||L?.(z.sourceEvent,X)}}}).filter(z=>{const P=z.target;return!z.button&&(!I||!g3(P,`.${I}`,O))&&(!q||g3(P,q,O))});b.call(j)}function E(){b?.on(".drag",null)}return{update:w,destroy:E}}function MX(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())vp(i,Bd(s))>0&&r.push(s);return r}const $X=250;function BX(t,e,n,r){let i=[],s=1/0;const o=MX(t,n,e+$X);for(const l of o){const u=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of u){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:h}=bp(l,d,d.position,!0),b=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(h-t.y,2));b>e||(b<s?(i=[{...d,x:f,y:h}],s=b):b===s&&i.push({...d,x:f,y:h}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(u=>u.type===l)??i[0]}return i[0]}function R2(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const l=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],u=(n?l?.find(d=>d.id===n):l?.[0])??null;return u&&s?{...u,...bp(o,u,u.position,!0)}:u}function A2(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function zX(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const j2=()=>!0;function WX(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:u,lib:d,autoPanOnConnect:f,flowId:h,panBy:b,cancelConnection:x,onConnectStart:w,onConnect:E,onConnectEnd:I,isValidConnection:q=j2,onReconnectEnd:O,updateConnection:T,getTransform:R,getFromHandle:D,autoPanSpeed:F}){const B=E2(t.target);let $=0,j;const{x:z,y:P}=Aa(t),W=B?.elementFromPoint(z,P),K=A2(s,W),L=l?.getBoundingClientRect();if(!L||!K)return;const te=R2(i,K,r,u,e);if(!te)return;let X=Aa(t,L),oe=!1,re=null,ne=!1,ae=null;function Z(){if(!f||!L)return;const[Xe,et]=b2(X,L,F);b({x:Xe,y:et}),$=requestAnimationFrame(Z)}const ue={...te,nodeId:i,type:K,position:te.position},he=u.get(i),_e={inProgress:!0,isValid:null,from:bp(he,ue,Dt.Left,!0),fromHandle:ue,fromPosition:ue.position,fromNode:he,to:X,toHandle:null,toPosition:o3[ue.position],toNode:null};T(_e);let Ne=_e;w?.(t,{nodeId:i,handleId:r,handleType:K});function Pe(Xe){if(!D()||!ue){Re(Xe);return}const et=R();X=Aa(Xe,L),j=BX(Zp(X,et,!1,[1,1]),n,u,ue),oe||(Z(),oe=!0);const nt=P2(Xe,{handle:j,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:q,doc:B,lib:d,flowId:h,nodeLookup:u});ae=nt.handleDomNode,re=nt.connection,ne=zX(!!j,nt.isValid);const Ve={...Ne,isValid:ne,to:j&&ne?_2({x:j.x,y:j.y},et):X,toHandle:nt.toHandle,toPosition:ne&&nt.toHandle?nt.toHandle.position:o3[ue.position],toNode:nt.toHandle?u.get(nt.toHandle.nodeId):null};ne&&j&&Ne.toHandle&&Ve.toHandle&&Ne.toHandle.type===Ve.toHandle.type&&Ne.toHandle.nodeId===Ve.toHandle.nodeId&&Ne.toHandle.id===Ve.toHandle.id&&Ne.to.x===Ve.to.x&&Ne.to.y===Ve.to.y||(T(Ve),Ne=Ve)}function Re(Xe){(j||ae)&&re&&ne&&E?.(re);const{inProgress:et,...nt}=Ne,Ve={...nt,toPosition:Ne.toHandle?Ne.toPosition:null};I?.(Xe,Ve),s&&O?.(Xe,Ve),x(),cancelAnimationFrame($),oe=!1,ne=!1,re=null,ae=null,B.removeEventListener("mousemove",Pe),B.removeEventListener("mouseup",Re),B.removeEventListener("touchmove",Pe),B.removeEventListener("touchend",Re)}B.addEventListener("mousemove",Pe),B.addEventListener("mouseup",Re),B.addEventListener("touchmove",Pe),B.addEventListener("touchend",Re)}function P2(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:u,isValidConnection:d=j2,nodeLookup:f}){const h=s==="target",b=e?o.querySelector(`.${l}-flow__handle[data-id="${u}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x,y:w}=Aa(t),E=o.elementFromPoint(x,w),I=E?.classList.contains(`${l}-flow__handle`)?E:b,q={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const O=A2(void 0,I),T=I.getAttribute("data-nodeid"),R=I.getAttribute("data-handleid"),D=I.classList.contains("connectable"),F=I.classList.contains("connectableend");if(!T||!O)return q;const B={source:h?T:r,sourceHandle:h?R:i,target:h?r:T,targetHandle:h?i:R};q.connection=B;const j=D&&F&&(n===Md.Strict?h&&O==="source"||!h&&O==="target":T!==r||R!==i);q.isValid=j&&d(B),q.toHandle=R2(T,O,R,f,n,!1)}return q}const nE={onPointerDown:WX,isValid:P2};function UX({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=us(t);function s({translateExtent:l,width:u,height:d,zoomStep:f=10,pannable:h=!0,zoomable:b=!0,inversePan:x=!1}){const w=T=>{const R=n();if(T.sourceEvent.type!=="wheel"||!e)return;const D=-T.sourceEvent.deltaY*(T.sourceEvent.deltaMode===1?.05:T.sourceEvent.deltaMode?1:.002)*f,F=R[2]*Math.pow(2,D);e.scaleTo(F)};let E=[0,0];const I=T=>{(T.sourceEvent.type==="mousedown"||T.sourceEvent.type==="touchstart")&&(E=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY])},q=T=>{const R=n();if(T.sourceEvent.type!=="mousemove"&&T.sourceEvent.type!=="touchmove"||!e)return;const D=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY],F=[D[0]-E[0],D[1]-E[1]];E=D;const B=r()*Math.max(R[2],Math.log(R[2]))*(x?-1:1),$={x:R[0]-F[0]*B,y:R[1]-F[1]*B},j=[[0,0],[u,d]];e.setViewportConstrained({x:$.x,y:$.y,zoom:R[2]},j,l)},O=d2().on("start",I).on("zoom",h?q:null).on("zoom.wheel",b?w:null);i.call(O,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:fo}}const VX=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,vb=t=>({x:t.x,y:t.y,zoom:t.k}),C0=({x:t,y:e,zoom:n})=>hb.translate(t,e).scale(n),sd=(t,e)=>t.target.closest(`.${e}`),F2=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),T0=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},D2=t=>{const e=t.ctrlKey&&hv()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function HX({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:d}){return f=>{if(sd(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&o){const I=fo(f),q=D2(f),O=h*Math.pow(2,q);r.scaleTo(n,O,I,f);return}const b=f.deltaMode===1?20:1;let x=i===Mc.Vertical?0:f.deltaX*b,w=i===Mc.Horizontal?0:f.deltaY*b;!hv()&&f.shiftKey&&i!==Mc.Vertical&&(x=f.deltaY*b,w=0),r.translateBy(n,-(x/h)*s,-(w/h)*s,{internal:!0});const E=vb(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l?.(f,E)),t.isPanScrolling&&(u?.(f,E),t.panScrollTimeout=setTimeout(()=>{d?.(f,E),t.isPanScrolling=!1},150))}}function QX({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||sd(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function KX({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=vb(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function GX({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&F2(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,vb(s.transform))}}function ZX({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&F2(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&VX(t.prevViewport,o.transform))){const l=vb(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,l)},n?150:0)}}}function JX({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:d}){return f=>{const h=t||e,b=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(sd(f,`${d}-flow__node`)||sd(f,`${d}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||o||sd(f,l)&&f.type==="wheel"||sd(f,u)&&(f.type!=="wheel"||i&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&f.touches?.length>1)return f.preventDefault(),!1;if(!h&&!i&&!b&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&x}}function YX({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),b=d2().clickDistance(!xo(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),x=us(t).call(b);T({x:s.x,y:s.y,zoom:$d(s.zoom,e,n)},[[0,0],[h.width,h.height]],i);const w=x.on("wheel.zoom"),E=x.on("dblclick.zoom");b.wheelDelta(D2);function I(W,K){return x?new Promise(L=>{b?.transform(T0(x,K?.duration,()=>L(!0)),W)}):Promise.resolve(!1)}function q({noWheelClassName:W,noPanClassName:K,onPaneContextMenu:L,userSelectionActive:te,panOnScroll:X,panOnDrag:oe,panOnScrollMode:re,panOnScrollSpeed:ne,preventScrolling:ae,zoomOnPinch:Z,zoomOnScroll:ue,zoomOnDoubleClick:he,zoomActivationKeyPressed:ge,lib:_e,onTransformChange:Ne}){te&&!f.isZoomingOrPanning&&O();const Re=X&&!ge&&!te?HX({zoomPanValues:f,noWheelClassName:W,d3Selection:x,d3Zoom:b,panOnScrollMode:re,panOnScrollSpeed:ne,zoomOnPinch:Z,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:u}):QX({noWheelClassName:W,preventScrolling:ae,d3ZoomHandler:w});if(x.on("wheel.zoom",Re,{passive:!1}),!te){const et=KX({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});b.on("start",et);const nt=GX({zoomPanValues:f,panOnDrag:oe,onPaneContextMenu:!!L,onPanZoom:o,onTransformChange:Ne});b.on("zoom",nt);const Ve=ZX({zoomPanValues:f,panOnDrag:oe,panOnScroll:X,onPaneContextMenu:L,onPanZoomEnd:u,onDraggingChange:d});b.on("end",Ve)}const Xe=JX({zoomActivationKeyPressed:ge,panOnDrag:oe,zoomOnScroll:ue,panOnScroll:X,zoomOnDoubleClick:he,zoomOnPinch:Z,userSelectionActive:te,noPanClassName:K,noWheelClassName:W,lib:_e});b.filter(Xe),he?x.on("dblclick.zoom",E):x.on("dblclick.zoom",null)}function O(){b.on("zoom",null)}async function T(W,K,L){const te=C0(W),X=b?.constrain()(te,K,L);return X&&await I(X),new Promise(oe=>oe(X))}async function R(W,K){const L=C0(W);return await I(L,K),new Promise(te=>te(L))}function D(W){if(x){const K=C0(W),L=x.property("__zoom");(L.k!==W.zoom||L.x!==W.x||L.y!==W.y)&&b?.transform(x,K,null,{sync:!0})}}function F(){const W=x?u2(x.node()):{x:0,y:0,k:1};return{x:W.x,y:W.y,zoom:W.k}}function B(W,K){return x?new Promise(L=>{b?.scaleTo(T0(x,K?.duration,()=>L(!0)),W)}):Promise.resolve(!1)}function $(W,K){return x?new Promise(L=>{b?.scaleBy(T0(x,K?.duration,()=>L(!0)),W)}):Promise.resolve(!1)}function j(W){b?.scaleExtent(W)}function z(W){b?.translateExtent(W)}function P(W){const K=!xo(W)||W<0?0:W;b?.clickDistance(K)}return{update:q,destroy:O,setViewport:R,setViewportConstrained:T,getViewport:F,scaleTo:B,scaleBy:$,setScaleExtent:j,setTranslateExtent:z,syncViewport:D,setClickDistance:P}}var qh;(function(t){t.Line="line",t.Handle="handle"})(qh||(qh={}));function XX({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,l=n-r,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(u[0]=u[0]*-1),l&&s&&(u[1]=u[1]*-1),u}function eee(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function ml(t,e){return Math.max(0,e-t)}function gl(t,e){return Math.max(0,t-e)}function Ig(t,e,n){return Math.max(0,e-t,t-n)}function y3(t,e){return t?!e:e}function tee(t,e,n,r,i,s,o,l){let{affectsX:u,affectsY:d}=e;const{isHorizontal:f,isVertical:h}=e,b=f&&h,{xSnapped:x,ySnapped:w}=n,{minWidth:E,maxWidth:I,minHeight:q,maxHeight:O}=r,{x:T,y:R,width:D,height:F,aspectRatio:B}=t;let $=Math.floor(f?x-t.pointerX:0),j=Math.floor(h?w-t.pointerY:0);const z=D+(u?-$:$),P=F+(d?-j:j),W=-s[0]*D,K=-s[1]*F;let L=Ig(z,E,I),te=Ig(P,q,O);if(o){let re=0,ne=0;u&&$<0?re=ml(T+$+W,o[0][0]):!u&&$>0&&(re=gl(T+z+W,o[1][0])),d&&j<0?ne=ml(R+j+K,o[0][1]):!d&&j>0&&(ne=gl(R+P+K,o[1][1])),L=Math.max(L,re),te=Math.max(te,ne)}if(l){let re=0,ne=0;u&&$>0?re=gl(T+$,l[0][0]):!u&&$<0&&(re=ml(T+z,l[1][0])),d&&j>0?ne=gl(R+j,l[0][1]):!d&&j<0&&(ne=ml(R+P,l[1][1])),L=Math.max(L,re),te=Math.max(te,ne)}if(i){if(f){const re=Ig(z/B,q,O)*B;if(L=Math.max(L,re),o){let ne=0;!u&&!d||u&&!d&&b?ne=gl(R+K+z/B,o[1][1])*B:ne=ml(R+K+(u?$:-$)/B,o[0][1])*B,L=Math.max(L,ne)}if(l){let ne=0;!u&&!d||u&&!d&&b?ne=ml(R+z/B,l[1][1])*B:ne=gl(R+(u?$:-$)/B,l[0][1])*B,L=Math.max(L,ne)}}if(h){const re=Ig(P*B,E,I)/B;if(te=Math.max(te,re),o){let ne=0;!u&&!d||d&&!u&&b?ne=gl(T+P*B+W,o[1][0])/B:ne=ml(T+(d?j:-j)*B+W,o[0][0])/B,te=Math.max(te,ne)}if(l){let ne=0;!u&&!d||d&&!u&&b?ne=ml(T+P*B,l[1][0])/B:ne=gl(T+(d?j:-j)*B,l[0][0])/B,te=Math.max(te,ne)}}}j=j+(j<0?te:-te),$=$+($<0?L:-L),i&&(b?z>P*B?j=(y3(u,d)?-$:$)/B:$=(y3(u,d)?-j:j)*B:f?(j=$/B,d=u):($=j*B,u=d));const X=u?T+$:T,oe=d?R+j:R;return{width:D+(u?-$:$),height:F+(d?-j:j),x:s[0]*$*(u?-1:1)+X,y:s[1]*j*(d?-1:1)+oe}}const L2={width:0,height:0,x:0,y:0},nee={...L2,pointerX:0,pointerY:0,aspectRatio:1};function ree(t){return[[0,0],[t.measured.width,t.measured.height]]}function iee(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,l=n[0]*s,u=n[1]*o;return[[r-l,i-u],[r+s-l,i+o-u]]}function see({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=us(t);function o({controlPosition:u,boundaries:d,keepAspectRatio:f,onResizeStart:h,onResize:b,onResizeEnd:x,shouldResize:w}){let E={...L2},I={...nee};const q=eee(u);let O,T=null,R=[],D,F,B;const $=ZF().on("start",j=>{const{nodeLookup:z,transform:P,snapGrid:W,snapToGrid:K,nodeOrigin:L,paneDomNode:te}=n();if(O=z.get(e),!O)return;T=te?.getBoundingClientRect()??null;const{xSnapped:X,ySnapped:oe}=Oh(j.sourceEvent,{transform:P,snapGrid:W,snapToGrid:K,containerBounds:T});E={width:O.measured.width??0,height:O.measured.height??0,x:O.position.x??0,y:O.position.y??0},I={...E,pointerX:X,pointerY:oe,aspectRatio:E.width/E.height},D=void 0,O.parentId&&(O.extent==="parent"||O.expandParent)&&(D=z.get(O.parentId),F=D&&O.extent==="parent"?ree(D):void 0),R=[],B=void 0;for(const[re,ne]of z)if(ne.parentId===e&&(R.push({id:re,position:{...ne.position},extent:ne.extent}),ne.extent==="parent"||ne.expandParent)){const ae=iee(ne,O,ne.origin??L);B?B=[[Math.min(ae[0][0],B[0][0]),Math.min(ae[0][1],B[0][1])],[Math.max(ae[1][0],B[1][0]),Math.max(ae[1][1],B[1][1])]]:B=ae}h?.(j,{...E})}).on("drag",j=>{const{transform:z,snapGrid:P,snapToGrid:W,nodeOrigin:K}=n(),L=Oh(j.sourceEvent,{transform:z,snapGrid:P,snapToGrid:W,containerBounds:T}),te=[];if(!O)return;const{x:X,y:oe,width:re,height:ne}=E,ae={},Z=O.origin??K,{width:ue,height:he,x:ge,y:_e}=tee(I,q,L,d,f,Z,F,B),Ne=ue!==re,Pe=he!==ne,Re=ge!==X&&Ne,Xe=_e!==oe&&Pe;if(!Re&&!Xe&&!Ne&&!Pe)return;if((Re||Xe||Z[0]===1||Z[1]===1)&&(ae.x=Re?ge:E.x,ae.y=Xe?_e:E.y,E.x=ae.x,E.y=ae.y,R.length>0)){const ot=ge-X,kt=_e-oe;for(const At of R)At.position={x:At.position.x-ot+Z[0]*(ue-re),y:At.position.y-kt+Z[1]*(he-ne)},te.push(At)}if((Ne||Pe)&&(ae.width=Ne?ue:E.width,ae.height=Pe?he:E.height,E.width=ae.width,E.height=ae.height),D&&O.expandParent){const ot=Z[0]*(ae.width??0);ae.x&&ae.x<ot&&(E.x=ot,I.x=I.x-(ae.x-ot));const kt=Z[1]*(ae.height??0);ae.y&&ae.y<kt&&(E.y=kt,I.y=I.y-(ae.y-kt))}const et=XX({width:E.width,prevWidth:re,height:E.height,prevHeight:ne,affectsX:q.affectsX,affectsY:q.affectsY}),nt={...E,direction:et};w?.(j,nt)!==!1&&(b?.(j,nt),r(ae,te))}).on("end",j=>{x?.(j,{...E}),i?.()});s.call($)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}const oee={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},v3=t=>{let e;const n=new Set,r=(f,h)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const x=e;e=h??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(w=>w(e,x))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(oee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,i,u);return u},aee=t=>t?v3(t):v3,{useDebugValue:lee}=jn,{useSyncExternalStoreWithSelector:cee}=u4,uee=t=>t;function M2(t,e=uee,n){const r=cee(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return lee(r),r}const b3=(t,e)=>{const n=aee(t),r=(i,s=e)=>M2(n,i,s);return Object.assign(r,n),r},dee=(t,e)=>t?b3(t,e):b3;function Sr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const bb=U.createContext(null),fee=bb.Provider,$2=za.error001();function Nn(t,e){const n=U.useContext(bb);if(n===null)throw new Error($2);return M2(n,t,e)}function fr(){const t=U.useContext(bb);if(t===null)throw new Error($2);return U.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const x3={display:"none"},hee={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},B2="react-flow__node-desc",z2="react-flow__edge-desc",pee="react-flow__aria-live",mee=t=>t.ariaLiveMessage;function gee({rfId:t}){const e=Nn(mee);return m.jsx("div",{id:`${pee}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:hee,children:e})}function yee({rfId:t,disableKeyboardA11y:e}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{id:`${B2}-${t}`,style:x3,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),m.jsx("div",{id:`${z2}-${t}`,style:x3,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&m.jsx(gee,{rfId:t})]})}const vee=t=>t.userSelectionActive?"none":"all",P1=U.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=Nn(vee),l=`${t}`.split("-");return m.jsx("div",{className:$r(["react-flow__panel",n,...l]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});function bee({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:m.jsx(P1,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const xee=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Cg=t=>t.id;function _ee(t,e){return Sr(t.selectedNodes.map(Cg),e.selectedNodes.map(Cg))&&Sr(t.selectedEdges.map(Cg),e.selectedEdges.map(Cg))}function wee({onSelectionChange:t}){const e=fr(),{selectedNodes:n,selectedEdges:r}=Nn(xee,_ee);return U.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const See=t=>!!t.onSelectionChangeHandlers;function Eee({onSelectionChange:t}){const e=Nn(See);return t||e?m.jsx(wee,{onSelectionChange:t}):null}const W2=[0,0],Nee={x:0,y:0,zoom:1},kee=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],_3=[...kee,"rfId"],Iee=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),w3={translateExtent:gp,nodeOrigin:W2,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Cee(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u,setPaneClickDistance:d}=Nn(Iee,Sr),f=fr();U.useEffect(()=>(u(t.defaultNodes,t.defaultEdges),()=>{h.current=w3,l()}),[]);const h=U.useRef(w3);return U.useEffect(()=>{for(const b of _3){const x=t[b],w=h.current[b];x!==w&&(typeof t[b]>"u"||(b==="nodes"?e(x):b==="edges"?n(x):b==="minZoom"?r(x):b==="maxZoom"?i(x):b==="translateExtent"?s(x):b==="nodeExtent"?o(x):b==="paneClickDistance"?d(x):b==="fitView"?f.setState({fitViewOnInit:x}):b==="fitViewOptions"?f.setState({fitViewOnInitOptions:x}):f.setState({[b]:x})))}h.current=t},_3.map(b=>t[b])),null}function S3(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Tee(t){const[e,n]=U.useState(t==="system"?null:t);return U.useEffect(()=>{if(t!=="system"){n(t);return}const r=S3(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:S3()?.matches?"dark":"light"}const E3=typeof document<"u"?document:null;function xp(t=null,e={target:E3,actInsideInputWithModifier:!0}){const[n,r]=U.useState(!1),i=U.useRef(!1),s=U.useRef(new Set([])),[o,l]=U.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((h,b)=>h.concat(...b),[]);return[d,f]}return[[],[]]},[t]);return U.useEffect(()=>{const u=e?.target||E3;if(t!==null){const d=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&YS(b))return!1;const w=k3(b.code,l);s.current.add(b[w]),N3(o,s.current,!1)&&(b.preventDefault(),r(!0))},f=b=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&YS(b))return!1;const w=k3(b.code,l);N3(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[w]),b.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function N3(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function k3(t,e){return e.includes(t)?"code":"key"}const Oee=()=>{const t=fr();return U.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const l=GS(n,e),{width:u,height:d}=yb(o);return ZS({nodes:l,width:u,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:l}=t.getState(),u=typeof r?.zoom<"u"?r.zoom:o,d=i/2-e*u,f=s/2-n*u;return l?(await l.setViewport({x:d,y:f,zoom:u},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),u=T1(e,r,i,s,o,n?.padding??.1);return l?(await l.setViewport(u,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:l}=s.getBoundingClientRect(),u={x:e.x-o,y:e.y-l};return Zp(u,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=_2(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function U2(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const u of o)qee(u,l);n.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function qee(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function Ree(t,e){return U2(t,e)}function Aee(t,e){return U2(t,e)}function Ec(t,e){return{id:t,type:"select",selected:e}}function od(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(Ec(s.id,o)))}return r}function I3({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),l=o?.internals?.userNode??o;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function C3(t){return{id:t.id,type:"remove"}}const T3=t=>mX(t),jee=t=>m2(t);function V2(t){return U.forwardRef(t)}const Pee=typeof window<"u"?U.useLayoutEffect:U.useEffect;function O3(t){const[e,n]=U.useState(BigInt(0)),[r]=U.useState(()=>Fee(()=>n(i=>i+BigInt(1))));return Pee(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function Fee(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const H2=U.createContext(null);function Dee({children:t}){const e=fr(),n=U.useCallback(l=>{const{nodes:u=[],setNodes:d,hasDefaultNodes:f,onNodesChange:h,nodeLookup:b}=e.getState();let x=u;for(const w of l)x=typeof w=="function"?w(x):w;f?d(x):h&&h(I3({items:x,lookup:b}))},[]),r=O3(n),i=U.useCallback(l=>{const{edges:u=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:b}=e.getState();let x=u;for(const w of l)x=typeof w=="function"?w(x):w;f?d(x):h&&h(I3({items:x,lookup:b}))},[]),s=O3(i),o=U.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return m.jsx(H2.Provider,{value:o,children:t})}function Lee(){const t=U.useContext(H2);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Mee=t=>!!t.panZoom;function Jp(){const t=Oee(),e=fr(),n=Lee(),r=Nn(Mee),i=U.useMemo(()=>{const s=h=>e.getState().nodeLookup.get(h),o=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},u=h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState(),w=T3(h)?h:b.get(h.id),E=w.parentId?S2(w.position,w.measured,w.parentId,b,x):w.position,I={...w,position:E,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return Bd(I)},d=(h,b,x={replace:!1})=>{o(w=>w.map(E=>{if(E.id===h){const I=typeof b=="function"?b(E):b;return x.replace&&T3(I)?I:{...E,...I}}return E}))},f=(h,b,x={replace:!1})=>{l(w=>w.map(E=>{if(E.id===h){const I=typeof b=="function"?b(E):b;return x.replace&&jee(I)?I:{...E,...I}}return E}))};return{getNodes:()=>e.getState().nodes.map(h=>({...h})),getNode:h=>s(h)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:h=[]}=e.getState();return h.map(b=>({...b}))},getEdge:h=>e.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const b=Array.isArray(h)?h:[h];n.nodeQueue.push(x=>[...x,...b])},addEdges:h=>{const b=Array.isArray(h)?h:[h];n.edgeQueue.push(x=>[...x,...b])},toObject:()=>{const{nodes:h=[],edges:b=[],transform:x}=e.getState(),[w,E,I]=x;return{nodes:h.map(q=>({...q})),edges:b.map(q=>({...q})),viewport:{x:w,y:E,zoom:I}}},deleteElements:async({nodes:h=[],edges:b=[]})=>{const{nodes:x,edges:w,onNodesDelete:E,onEdgesDelete:I,triggerNodeChanges:q,triggerEdgeChanges:O,onDelete:T,onBeforeDelete:R}=e.getState(),{nodes:D,edges:F}=await vX({nodesToRemove:h,edgesToRemove:b,nodes:x,edges:w,onBeforeDelete:R}),B=F.length>0,$=D.length>0;if(B){const j=F.map(C3);I?.(F),O(j)}if($){const j=D.map(C3);E?.(D),q(j)}return($||B)&&T?.({nodes:D,edges:F}),{deletedNodes:D,deletedEdges:F}},getIntersectingNodes:(h,b=!0,x)=>{const w=l3(h),E=w?h:u(h),I=x!==void 0;return E?(x||e.getState().nodes).filter(q=>{const O=e.getState().nodeLookup.get(q.id);if(O&&!w&&(q.id===h.id||!O.internals.positionAbsolute))return!1;const T=Bd(I?q:O),R=vp(T,E);return b&&R>0||R>=E.width*E.height}):[]},isNodeIntersecting:(h,b,x=!0)=>{const E=l3(h)?h:u(h);if(!E)return!1;const I=vp(E,b);return x&&I>0||I>=E.width*E.height},updateNode:d,updateNodeData:(h,b,x={replace:!1})=>{d(h,w=>{const E=typeof b=="function"?b(w):b;return x.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},x)},updateEdge:f,updateEdgeData:(h,b,x={replace:!1})=>{f(h,w=>{const E=typeof b=="function"?b(w):b;return x.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},x)},getNodesBounds:h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState();return gX(h,{nodeLookup:b,nodeOrigin:x})},getHandleConnections:({type:h,id:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}-${h}-${b??null}`)?.values()??[])}},[]);return U.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const q3=t=>t.selected,$ee={actInsideInputWithModifier:!1},Bee=typeof window<"u"?window:void 0;function zee({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=fr(),{deleteElements:r}=Jp(),i=xp(t,$ee),s=xp(e,{target:Bee});U.useEffect(()=>{if(i){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(q3),edges:o.filter(q3)}),n.setState({nodesSelectionActive:!1})}},[i]),U.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function Wee(t){const e=fr();U.useEffect(()=>{const n=()=>{if(!t.current)return!1;const r=yb(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",za.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const xb={position:"absolute",width:"100%",height:"100%",top:0,left:0},Uee=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function Vee({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Mc.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:d,minZoom:f,maxZoom:h,zoomActivationKeyCode:b,preventScrolling:x=!0,children:w,noWheelClassName:E,noPanClassName:I,onViewportChange:q,isControlledViewport:O,paneClickDistance:T}){const R=fr(),D=U.useRef(null),{userSelectionActive:F,lib:B}=Nn(Uee,Sr),$=xp(b),j=U.useRef();Wee(D);const z=U.useCallback(P=>{q?.({x:P[0],y:P[1],zoom:P[2]}),O||R.setState({transform:P})},[q,O]);return U.useEffect(()=>{if(D.current){j.current=YX({domNode:D.current,minZoom:f,maxZoom:h,translateExtent:d,viewport:u,paneClickDistance:T,onDraggingChange:L=>R.setState({paneDragging:L}),onPanZoomStart:(L,te)=>{const{onViewportChangeStart:X,onMoveStart:oe}=R.getState();oe?.(L,te),X?.(te)},onPanZoom:(L,te)=>{const{onViewportChange:X,onMove:oe}=R.getState();oe?.(L,te),X?.(te)},onPanZoomEnd:(L,te)=>{const{onViewportChangeEnd:X,onMoveEnd:oe}=R.getState();oe?.(L,te),X?.(te)}});const{x:P,y:W,zoom:K}=j.current.getViewport();return R.setState({panZoom:j.current,transform:[P,W,K],domNode:D.current.closest(".react-flow")}),()=>{j.current?.destroy()}}},[]),U.useEffect(()=>{j.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:$,preventScrolling:x,noPanClassName:I,userSelectionActive:F,noWheelClassName:E,lib:B,onTransformChange:z})},[t,e,n,r,i,s,o,l,$,x,I,F,E,B,z]),m.jsx("div",{className:"react-flow__renderer",ref:D,style:xb,children:w})}const Hee=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Qee(){const{userSelectionActive:t,userSelectionRect:e}=Nn(Hee,Sr);return t&&e?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const O0=(t,e)=>n=>{n.target===e.current&&t?.(n)},Kee=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function Gee({isSelecting:t,selectionKeyPressed:e,selectionMode:n=yp.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:b,children:x}){const w=U.useRef(null),E=fr(),I=U.useRef(0),q=U.useRef(0),O=U.useRef(),T=U.useRef(new Map),{userSelectionActive:R,elementsSelectable:D,dragging:F}=Nn(Kee,Sr),B=D&&(t||R),$=U.useRef(!1),j=U.useRef(!1),z=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),I.current=0,q.current=0},P=re=>{if($.current){$.current=!1;return}l?.(re),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},W=re=>{if(Array.isArray(r)&&r?.includes(2)){re.preventDefault();return}u?.(re)},K=d?re=>d(re):void 0,L=re=>{const{resetSelectedElements:ne,domNode:ae,edgeLookup:Z}=E.getState();if(O.current=ae?.getBoundingClientRect(),!D||!t||re.button!==0||re.target!==w.current||!O.current)return;re.target?.setPointerCapture?.(re.pointerId),j.current=!0,$.current=!1,T.current=new Map;for(const[ge,_e]of Z)T.current.set(_e.source,T.current.get(_e.source)?.add(ge)||new Set([ge])),T.current.set(_e.target,T.current.get(_e.target)?.add(ge)||new Set([ge]));const{x:ue,y:he}=Aa(re.nativeEvent,O.current);ne(),E.setState({userSelectionRect:{width:0,height:0,startX:ue,startY:he,x:ue,y:he}}),s?.(re)},te=re=>{const{userSelectionRect:ne,edgeLookup:ae,transform:Z,nodeLookup:ue,triggerNodeChanges:he,triggerEdgeChanges:ge}=E.getState();if(!O.current||!ne)return;$.current=!0;const{x:_e,y:Ne}=Aa(re.nativeEvent,O.current),{startX:Pe,startY:Re}=ne,Xe={startX:Pe,startY:Re,x:_e<Pe?_e:Pe,y:Ne<Re?Ne:Re,width:Math.abs(_e-Pe),height:Math.abs(Ne-Re)},et=g2(ue,Xe,Z,n===yp.Partial,!0),nt=new Set,Ve=new Set;for(const ot of et){Ve.add(ot.id);const kt=T.current.get(ot.id);if(kt)for(const At of kt)nt.add(At)}if(I.current!==Ve.size){I.current=Ve.size;const ot=od(ue,Ve,!0);he(ot)}if(q.current!==nt.size){q.current=nt.size;const ot=od(ae,nt);ge(ot)}E.setState({userSelectionRect:Xe,userSelectionActive:!0,nodesSelectionActive:!1})},X=re=>{if(re.button!==0||!j.current)return;re.target?.releasePointerCapture?.(re.pointerId);const{userSelectionRect:ne}=E.getState();!R&&ne&&re.target===w.current&&P?.(re),I.current>0&&E.setState({nodesSelectionActive:!0}),z(),o?.(re),(e||i)&&($.current=!1),j.current=!1},oe=r===!0||Array.isArray(r)&&r.includes(0);return m.jsxs("div",{className:$r(["react-flow__pane",{draggable:oe,dragging:F,selection:t}]),onClick:B?void 0:O0(P,w),onContextMenu:O0(W,w),onWheel:O0(K,w),onPointerEnter:B?void 0:f,onPointerDown:B?L:h,onPointerMove:B?te:h,onPointerUp:B?X:void 0,onPointerLeave:b,ref:w,style:xb,children:[x,m.jsx(Qee,{})]})}function rE({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:u}=e.getState(),d=l.get(t);if(!d){u?.("012",za.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function Q2({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=fr(),[u,d]=U.useState(!1),f=U.useRef();return U.useEffect(()=>{f.current=LX({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{rE({id:h,store:l,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),U.useEffect(()=>{if(e)f.current?.destroy();else if(t.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{f.current?.destroy()}},[n,r,e,s,t,i]),u}const Zee=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function K2(){const t=fr();return U.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:d,nodeOrigin:f}=t.getState(),h=new Map,b=Zee(o),x=i?s[0]:5,w=i?s[1]:5,E=n.direction.x*x*n.factor,I=n.direction.y*w*n.factor;for(const[,q]of d){if(!b(q))continue;let O={x:q.internals.positionAbsolute.x+E,y:q.internals.positionAbsolute.y+I};i&&(O=gb(O,s));const{position:T,positionAbsolute:R}=y2({nodeId:q.id,nextPosition:O,nodeLookup:d,nodeExtent:r,nodeOrigin:f,onError:l});q.position=T,q.internals.positionAbsolute=R,h.set(q.id,q)}u(h)},[])}const F1=U.createContext(null),Jee=F1.Provider;F1.Consumer;const G2=()=>U.useContext(F1),Yee=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),Xee=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:u,isValid:d}=o,f=u?.nodeId===t&&u?.id===e&&u?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:f,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Md.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,valid:f&&d}};function ete({type:t="source",position:e=Dt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:u,className:d,onMouseDown:f,onTouchStart:h,...b},x){const w=o||null,E=t==="target",I=fr(),q=G2(),{connectOnClick:O,noPanClassName:T,rfId:R}=Nn(Yee,Sr),{connectingFrom:D,connectingTo:F,clickConnecting:B,isPossibleEndHandle:$,connectionInProcess:j,valid:z}=Nn(Xee(q,w,t),Sr);q||I.getState().onError?.("010",za.error010());const P=L=>{const{defaultEdgeOptions:te,onConnect:X,hasDefaultEdges:oe}=I.getState(),re={...te,...L};if(oe){const{edges:ne,setEdges:ae}=I.getState();ae(NX(re,ne))}X?.(re),l?.(re)},W=L=>{if(!q)return;const te=N2(L.nativeEvent);if(i&&(te&&L.button===0||!te)){const X=I.getState();nE.onPointerDown(L.nativeEvent,{autoPanOnConnect:X.autoPanOnConnect,connectionMode:X.connectionMode,connectionRadius:X.connectionRadius,domNode:X.domNode,nodeLookup:X.nodeLookup,lib:X.lib,isTarget:E,handleId:w,nodeId:q,flowId:X.rfId,panBy:X.panBy,cancelConnection:X.cancelConnection,onConnectStart:X.onConnectStart,onConnectEnd:X.onConnectEnd,updateConnection:X.updateConnection,onConnect:P,isValidConnection:n||X.isValidConnection,getTransform:()=>I.getState().transform,getFromHandle:()=>I.getState().connection.fromHandle,autoPanSpeed:X.autoPanSpeed})}te?f?.(L):h?.(L)},K=L=>{const{onClickConnectStart:te,onClickConnectEnd:X,connectionClickStartHandle:oe,connectionMode:re,isValidConnection:ne,lib:ae,rfId:Z,nodeLookup:ue,connection:he}=I.getState();if(!q||!oe&&!i)return;if(!oe){te?.(L.nativeEvent,{nodeId:q,handleId:w,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:q,type:t,id:w}});return}const ge=E2(L.target),_e=n||ne,{connection:Ne,isValid:Pe}=nE.isValid(L.nativeEvent,{handle:{nodeId:q,id:w,type:t},connectionMode:re,fromNodeId:oe.nodeId,fromHandleId:oe.id||null,fromType:oe.type,isValidConnection:_e,flowId:Z,doc:ge,lib:ae,nodeLookup:ue});Pe&&Ne&&P(Ne);const Re=structuredClone(he);delete Re.inProgress,Re.toPosition=Re.toHandle?Re.toHandle.position:null,X?.(L,Re),I.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":w,"data-nodeid":q,"data-handlepos":e,"data-id":`${R}-${q}-${w}-${t}`,className:$r(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",T,d,{source:!E,target:E,connectable:r,connectablestart:i,connectableend:s,clickconnecting:B,connectingfrom:D,connectingto:F,valid:z,connectionindicator:r&&(!j||$)&&(j?s:i)}]),onMouseDown:W,onTouchStart:W,onClick:O?K:void 0,ref:x,...b,children:u})}const gi=U.memo(V2(ete));function tte({data:t,isConnectable:e,sourcePosition:n=Dt.Bottom}){return m.jsxs(m.Fragment,{children:[t?.label,m.jsx(gi,{type:"source",position:n,isConnectable:e})]})}function nte({data:t,isConnectable:e,targetPosition:n=Dt.Top,sourcePosition:r=Dt.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(gi,{type:"target",position:n,isConnectable:e}),t?.label,m.jsx(gi,{type:"source",position:r,isConnectable:e})]})}function rte(){return null}function ite({data:t,isConnectable:e,targetPosition:n=Dt.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(gi,{type:"target",position:n,isConnectable:e}),t?.label]})}const pv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},R3={input:tte,default:nte,output:ite,group:rte};function ste(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const ote=t=>{const{width:e,height:n,x:r,y:i}=Gp(t.nodeLookup,{filter:s=>!!s.selected});return{width:xo(e)?e:null,height:xo(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function ate({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=fr(),{width:i,height:s,transformString:o,userSelectionActive:l}=Nn(ote,Sr),u=K2(),d=U.useRef(null);if(U.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),Q2({nodeRef:d}),l||!i||!s)return null;const f=t?b=>{const x=r.getState().nodes.filter(w=>w.selected);t(b,x)}:void 0,h=b=>{Object.prototype.hasOwnProperty.call(pv,b.key)&&(b.preventDefault(),u({direction:pv[b.key],factor:b.shiftKey?4:1}))};return m.jsx("div",{className:$r(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:m.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s}})})}const A3=typeof window<"u"?window:void 0,lte=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Z2({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:E,zoomActivationKeyCode:I,elementsSelectable:q,zoomOnScroll:O,zoomOnPinch:T,panOnScroll:R,panOnScrollSpeed:D,panOnScrollMode:F,zoomOnDoubleClick:B,panOnDrag:$,defaultViewport:j,translateExtent:z,minZoom:P,maxZoom:W,preventScrolling:K,onSelectionContextMenu:L,noWheelClassName:te,noPanClassName:X,disableKeyboardA11y:oe,onViewportChange:re,isControlledViewport:ne}){const{nodesSelectionActive:ae,userSelectionActive:Z}=Nn(lte),ue=xp(d,{target:A3}),he=xp(E,{target:A3}),ge=he||$,_e=he||R,Ne=f&&ge!==!0,Pe=ue||Z||Ne;return zee({deleteKeyCode:u,multiSelectionKeyCode:w}),m.jsx(Vee,{onPaneContextMenu:s,elementsSelectable:q,zoomOnScroll:O,zoomOnPinch:T,panOnScroll:_e,panOnScrollSpeed:D,panOnScrollMode:F,zoomOnDoubleClick:B,panOnDrag:!ue&&ge,defaultViewport:j,translateExtent:z,minZoom:P,maxZoom:W,zoomActivationKeyCode:I,preventScrolling:K,noWheelClassName:te,noPanClassName:X,onViewportChange:re,isControlledViewport:ne,paneClickDistance:l,children:m.jsxs(Gee,{onSelectionStart:b,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ge,isSelecting:!!Pe,selectionMode:h,selectionKeyPressed:ue,selectionOnDrag:Ne,children:[t,ae&&m.jsx(ate,{onSelectionContextMenu:L,noPanClassName:X,disableKeyboardA11y:oe})]})})}Z2.displayName="FlowRenderer";const cte=U.memo(Z2),ute=t=>e=>t?g2(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function dte(t){return Nn(U.useCallback(ute(t),[t]),Sr)}const fte=t=>t.updateNodeInternals;function hte(){const t=Nn(fte),[e]=U.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return U.useEffect(()=>()=>{e?.disconnect()},[e]),e}function pte({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=fr(),s=U.useRef(null),o=U.useRef(null),l=U.useRef(t.sourcePosition),u=U.useRef(t.targetPosition),d=U.useRef(e),f=n&&!!t.internals.handleBounds;return U.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[f,t.hidden]),U.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),U.useEffect(()=>{if(s.current){const h=d.current!==e,b=l.current!==t.sourcePosition,x=u.current!==t.targetPosition;(h||b||x)&&(d.current=e,l.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function mte({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:d,nodesFocusable:f,resizeObserver:h,noDragClassName:b,noPanClassName:x,disableKeyboardA11y:w,rfId:E,nodeTypes:I,nodeExtent:q,nodeClickDistance:O,onError:T}){const{node:R,internals:D,isParent:F}=Nn(Re=>{const Xe=Re.nodeLookup.get(t),et=Re.parentLookup.has(t);return{node:Xe,internals:Xe.internals,isParent:et}},Sr);let B=R.type||"default",$=I?.[B]||R3[B];$===void 0&&(T?.("003",za.error003(B)),B="default",$=R3.default);const j=!!(R.draggable||l&&typeof R.draggable>"u"),z=!!(R.selectable||u&&typeof R.selectable>"u"),P=!!(R.connectable||d&&typeof R.connectable>"u"),W=!!(R.focusable||f&&typeof R.focusable>"u"),K=fr(),L=w2(R),te=pte({node:R,nodeType:B,hasDimensions:L,resizeObserver:h}),X=Q2({nodeRef:te,disabled:R.hidden||!j,noDragClassName:b,handleSelector:R.dragHandle,nodeId:t,isSelectable:z,nodeClickDistance:O}),oe=K2();if(R.hidden)return null;const re=Wa(R),ne=ste(R),ae=z||j||e||n||r||i,Z=n?Re=>n(Re,{...D.userNode}):void 0,ue=r?Re=>r(Re,{...D.userNode}):void 0,he=i?Re=>i(Re,{...D.userNode}):void 0,ge=s?Re=>s(Re,{...D.userNode}):void 0,_e=o?Re=>o(Re,{...D.userNode}):void 0,Ne=Re=>{const{selectNodesOnDrag:Xe,nodeDragThreshold:et}=K.getState();z&&(!Xe||!j||et>0)&&rE({id:t,store:K,nodeRef:te}),e&&e(Re,{...D.userNode})},Pe=Re=>{if(!(YS(Re.nativeEvent)||w))if(f2.includes(Re.key)&&z){const Xe=Re.key==="Escape";rE({id:t,store:K,unselect:Xe,nodeRef:te})}else j&&R.selected&&Object.prototype.hasOwnProperty.call(pv,Re.key)&&(Re.preventDefault(),K.setState({ariaLiveMessage:`Moved selected node ${Re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D.positionAbsolute.x}, y: ${~~D.positionAbsolute.y}`}),oe({direction:pv[Re.key],factor:Re.shiftKey?4:1}))};return m.jsx("div",{className:$r(["react-flow__node",`react-flow__node-${B}`,{[x]:j},R.className,{selected:R.selected,selectable:z,parent:F,draggable:j,dragging:X}]),ref:te,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:ae?"all":"none",visibility:L?"visible":"hidden",...R.style,...ne},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Z,onMouseMove:ue,onMouseLeave:he,onContextMenu:ge,onClick:Ne,onDoubleClick:_e,onKeyDown:W?Pe:void 0,tabIndex:W?0:void 0,role:W?"button":void 0,"aria-describedby":w?void 0:`${B2}-${E}`,"aria-label":R.ariaLabel,children:m.jsx(Jee,{value:t,children:m.jsx($,{id:t,data:R.data,type:B,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:R.selected,selectable:z,draggable:j,deletable:R.deletable??!0,isConnectable:P,sourcePosition:R.sourcePosition,targetPosition:R.targetPosition,dragging:X,dragHandle:R.dragHandle,zIndex:D.z,parentId:R.parentId,...re})})})}const gte=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function J2(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Nn(gte,Sr),o=dte(t.onlyRenderVisibleElements),l=hte();return m.jsx("div",{className:"react-flow__nodes",style:xb,children:o.map(u=>m.jsx(mte,{id:u,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},u))})}J2.displayName="NodeRenderer";const yte=U.memo(J2);function vte(t){return Nn(U.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&wX({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Sr)}const bte=({color:t="none",strokeWidth:e=1})=>m.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),xte=({color:t="none",strokeWidth:e=1})=>m.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),j3={[dv.Arrow]:bte,[dv.ArrowClosed]:xte};function _te(t){const e=fr();return U.useMemo(()=>Object.prototype.hasOwnProperty.call(j3,t)?j3[t]:(e.getState().onError?.("009",za.error009(t)),null),[t])}const wte=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=_te(e);return u?m.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:m.jsx(u,{color:n,strokeWidth:o})}):null},Y2=({defaultColor:t,rfId:e})=>{const n=Nn(s=>s.edges),r=Nn(s=>s.defaultEdgeOptions),i=U.useMemo(()=>OX(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?m.jsx("svg",{className:"react-flow__marker",children:m.jsx("defs",{children:i.map(s=>m.jsx(wte,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Y2.displayName="MarkerDefinitions";var Ste=U.memo(Y2);function X2({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...f}){const[h,b]=U.useState({x:1,y:0,width:0,height:0}),x=$r(["react-flow__edge-textwrapper",d]),w=U.useRef(null);return U.useEffect(()=>{if(w.current){const E=w.current.getBBox();b({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),typeof n>"u"||!n?null:m.jsxs("g",{transform:`translate(${t-h.width/2} ${e-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...f,children:[i&&m.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),m.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:w,style:r,children:n}),u]})}X2.displayName="EdgeText";const Ete=U.memo(X2);function Yp({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:d=20,...f}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...f,d:t,fill:"none",className:$r(["react-flow__edge-path",f.className])}),d&&m.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&xo(e)&&xo(n)?m.jsx(Ete,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function P3({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Dt.Left||t===Dt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function eD({sourceX:t,sourceY:e,sourcePosition:n=Dt.Bottom,targetX:r,targetY:i,targetPosition:s=Dt.Top}){const[o,l]=P3({pos:n,x1:t,y1:e,x2:r,y2:i}),[u,d]=P3({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,h,b,x]=k2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${t},${e} C${o},${l} ${u},${d} ${r},${i}`,f,h,b,x]}function tD(t){return U.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Dt.Bottom,targetPosition:l=Dt.Top,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:I,interactionWidth:q})=>{const[O,T,R]=eD({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),D=t.isInternal?void 0:e;return m.jsx(Yp,{id:D,path:O,labelX:T,labelY:R,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:I,interactionWidth:q})})}const Nte=tD({isInternal:!1}),nD=tD({isInternal:!0});Nte.displayName="SimpleBezierEdge";nD.displayName="SimpleBezierEdgeInternal";function rD(t){return U.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,sourcePosition:x=Dt.Bottom,targetPosition:w=Dt.Top,markerEnd:E,markerStart:I,pathOptions:q,interactionWidth:O})=>{const[T,R,D]=XS({sourceX:n,sourceY:r,sourcePosition:x,targetX:i,targetY:s,targetPosition:w,borderRadius:q?.borderRadius,offset:q?.offset}),F=t.isInternal?void 0:e;return m.jsx(Yp,{id:F,path:T,labelX:R,labelY:D,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:E,markerStart:I,interactionWidth:O})})}const iD=rD({isInternal:!1}),sD=rD({isInternal:!0});iD.displayName="SmoothStepEdge";sD.displayName="SmoothStepEdgeInternal";function oD(t){return U.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return m.jsx(iD,{...n,id:r,pathOptions:U.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const kte=oD({isInternal:!1}),aD=oD({isInternal:!0});kte.displayName="StepEdge";aD.displayName="StepEdgeInternal";function lD(t){return U.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:w,interactionWidth:E})=>{const[I,q,O]=C2({sourceX:n,sourceY:r,targetX:i,targetY:s}),T=t.isInternal?void 0:e;return m.jsx(Yp,{id:T,path:I,labelX:q,labelY:O,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:w,interactionWidth:E})})}const Ite=lD({isInternal:!1}),cD=lD({isInternal:!0});Ite.displayName="StraightEdge";cD.displayName="StraightEdgeInternal";function uD(t){return U.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Dt.Bottom,targetPosition:l=Dt.Top,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:I,pathOptions:q,interactionWidth:O})=>{const[T,R,D]=O1({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:q?.curvature}),F=t.isInternal?void 0:e;return m.jsx(Yp,{id:F,path:T,labelX:R,labelY:D,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:w,markerEnd:E,markerStart:I,interactionWidth:O})})}const Cte=uD({isInternal:!1}),dD=uD({isInternal:!0});Cte.displayName="BezierEdge";dD.displayName="BezierEdgeInternal";const F3={default:dD,straight:cD,step:aD,smoothstep:sD,simplebezier:nD},D3={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Tte=(t,e,n)=>n===Dt.Left?t-e:n===Dt.Right?t+e:t,Ote=(t,e,n)=>n===Dt.Top?t-e:n===Dt.Bottom?t+e:t,L3="react-flow__edgeupdater";function M3({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return m.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:$r([L3,`${L3}-${l}`]),cx:Tte(e,r,t),cy:Ote(n,r,t),r,stroke:"transparent",fill:"transparent"})}function qte({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:b,setUpdateHover:x}){const w=fr(),E=(R,D)=>{if(R.button!==0)return;const{autoPanOnConnect:F,domNode:B,isValidConnection:$,connectionMode:j,connectionRadius:z,lib:P,onConnectStart:W,onConnectEnd:K,cancelConnection:L,nodeLookup:te,rfId:X,panBy:oe,updateConnection:re}=w.getState(),ne=D.type==="target";b(!0),f?.(R,n,D.type);const ae=(ue,he)=>{b(!1),h?.(ue,n,D.type,he)},Z=ue=>d?.(n,ue);nE.onPointerDown(R.nativeEvent,{autoPanOnConnect:F,connectionMode:j,connectionRadius:z,domNode:B,handleId:D.id,nodeId:D.nodeId,nodeLookup:te,isTarget:ne,edgeUpdaterType:D.type,lib:P,flowId:X,cancelConnection:L,panBy:oe,isValidConnection:$,onConnect:Z,onConnectStart:W,onConnectEnd:K,onReconnectEnd:ae,updateConnection:re,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle})},I=R=>E(R,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),q=R=>E(R,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),O=()=>x(!0),T=()=>x(!1);return m.jsxs(m.Fragment,{children:[(t===!0||t==="source")&&m.jsx(M3,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:I,onMouseEnter:O,onMouseOut:T,type:"source"}),(t===!0||t==="target")&&m.jsx(M3,{position:u,centerX:s,centerY:o,radius:e,onMouseDown:q,onMouseEnter:O,onMouseOut:T,type:"target"})]})}function Rte({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,reconnectRadius:f,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,rfId:w,edgeTypes:E,noPanClassName:I,onError:q,disableKeyboardA11y:O}){let T=Nn(Ve=>Ve.edgeLookup.get(t));const R=Nn(Ve=>Ve.defaultEdgeOptions);T=R?{...R,...T}:T;let D=T.type||"default",F=E?.[D]||F3[D];F===void 0&&(q?.("011",za.error011(D)),D="default",F=F3.default);const B=!!(T.focusable||e&&typeof T.focusable>"u"),$=typeof h<"u"&&(T.reconnectable||n&&typeof T.reconnectable>"u"),j=!!(T.selectable||r&&typeof T.selectable>"u"),z=U.useRef(null),[P,W]=U.useState(!1),[K,L]=U.useState(!1),te=fr(),{zIndex:X,sourceX:oe,sourceY:re,targetX:ne,targetY:ae,sourcePosition:Z,targetPosition:ue}=Nn(U.useCallback(Ve=>{const ot=Ve.nodeLookup.get(T.source),kt=Ve.nodeLookup.get(T.target);if(!ot||!kt)return{zIndex:T.zIndex,...D3};const At=TX({id:t,sourceNode:ot,targetNode:kt,sourceHandle:T.sourceHandle||null,targetHandle:T.targetHandle||null,connectionMode:Ve.connectionMode,onError:q});return{zIndex:_X({selected:T.selected,zIndex:T.zIndex,sourceNode:ot,targetNode:kt,elevateOnSelect:Ve.elevateEdgesOnSelect}),...At||D3}},[T.source,T.target,T.sourceHandle,T.targetHandle,T.selected,T.zIndex]),Sr),he=U.useMemo(()=>T.markerStart?`url('#${eE(T.markerStart,w)}')`:void 0,[T.markerStart,w]),ge=U.useMemo(()=>T.markerEnd?`url('#${eE(T.markerEnd,w)}')`:void 0,[T.markerEnd,w]);if(T.hidden||oe===null||re===null||ne===null||ae===null)return null;const _e=Ve=>{const{addSelectedEdges:ot,unselectNodesAndEdges:kt,multiSelectionActive:At}=te.getState();j&&(te.setState({nodesSelectionActive:!1}),T.selected&&At?(kt({nodes:[],edges:[T]}),z.current?.blur()):ot([t])),i&&i(Ve,T)},Ne=s?Ve=>{s(Ve,{...T})}:void 0,Pe=o?Ve=>{o(Ve,{...T})}:void 0,Re=l?Ve=>{l(Ve,{...T})}:void 0,Xe=u?Ve=>{u(Ve,{...T})}:void 0,et=d?Ve=>{d(Ve,{...T})}:void 0,nt=Ve=>{if(!O&&f2.includes(Ve.key)&&j){const{unselectNodesAndEdges:ot,addSelectedEdges:kt}=te.getState();Ve.key==="Escape"?(z.current?.blur(),ot({edges:[T]})):kt([t])}};return m.jsx("svg",{style:{zIndex:X},children:m.jsxs("g",{className:$r(["react-flow__edge",`react-flow__edge-${D}`,T.className,I,{selected:T.selected,animated:T.animated,inactive:!j&&!i,updating:P,selectable:j}]),onClick:_e,onDoubleClick:Ne,onContextMenu:Pe,onMouseEnter:Re,onMouseMove:Xe,onMouseLeave:et,onKeyDown:B?nt:void 0,tabIndex:B?0:void 0,role:B?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":T.ariaLabel===null?void 0:T.ariaLabel||`Edge from ${T.source} to ${T.target}`,"aria-describedby":B?`${z2}-${w}`:void 0,ref:z,children:[!K&&m.jsx(F,{id:t,source:T.source,target:T.target,type:T.type,selected:T.selected,animated:T.animated,selectable:j,deletable:T.deletable??!0,label:T.label,labelStyle:T.labelStyle,labelShowBg:T.labelShowBg,labelBgStyle:T.labelBgStyle,labelBgPadding:T.labelBgPadding,labelBgBorderRadius:T.labelBgBorderRadius,sourceX:oe,sourceY:re,targetX:ne,targetY:ae,sourcePosition:Z,targetPosition:ue,data:T.data,style:T.style,sourceHandleId:T.sourceHandle,targetHandleId:T.targetHandle,markerStart:he,markerEnd:ge,pathOptions:"pathOptions"in T?T.pathOptions:void 0,interactionWidth:T.interactionWidth}),$&&m.jsx(qte,{edge:T,isReconnectable:$,reconnectRadius:f,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,sourceX:oe,sourceY:re,targetX:ne,targetY:ae,sourcePosition:Z,targetPosition:ue,setUpdateHover:W,setReconnecting:L})]})})}const Ate=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function fD({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:b,onReconnectStart:x,onReconnectEnd:w,disableKeyboardA11y:E}){const{edgesFocusable:I,edgesReconnectable:q,elementsSelectable:O,onError:T}=Nn(Ate,Sr),R=vte(e);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(Ste,{defaultColor:t,rfId:n}),R.map(D=>m.jsx(Rte,{id:D,edgesFocusable:I,edgesReconnectable:q,elementsSelectable:O,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:f,reconnectRadius:h,onDoubleClick:b,onReconnectStart:x,onReconnectEnd:w,rfId:n,onError:T,edgeTypes:r,disableKeyboardA11y:E},D))]})}fD.displayName="EdgeRenderer";const jte=U.memo(fD),Pte=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Fte({children:t}){const e=Nn(Pte);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Dte(t){const e=Jp(),n=U.useRef(!1);U.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Lte=t=>t.panZoom?.syncViewport;function Mte(t){const e=Nn(Lte),n=fr();return U.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function $te(t){return t.connection.inProgress?{...t.connection,to:Zp(t.connection.to,t.transform)}:{...t.connection}}function Bte(t){return $te}function zte(t){const e=Bte();return Nn(e,Sr)}const Wte=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Ute({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:u}=Nn(Wte,Sr);return!(s&&i&&u)?null:m.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:$r(["react-flow__connection",p2(l)]),children:m.jsx(hD,{style:e,type:n,CustomComponent:r,isValid:l})})})}const hD=({style:t,type:e=kl.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:u,to:d,toNode:f,toHandle:h,toPosition:b}=zte();if(!i)return;if(n)return m.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:u,toPosition:b,connectionStatus:p2(r),toNode:f,toHandle:h});let x="";const w={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:d.x,targetY:d.y,targetPosition:b};switch(e){case kl.Bezier:[x]=O1(w);break;case kl.SimpleBezier:[x]=eD(w);break;case kl.Step:[x]=XS({...w,borderRadius:0});break;case kl.SmoothStep:[x]=XS(w);break;default:[x]=C2(w)}return m.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};hD.displayName="ConnectionLine";const Vte={};function $3(t=Vte){U.useRef(t),fr(),U.useEffect(()=>{},[t])}function Hte(){fr(),U.useRef(!1),U.useEffect(()=>{},[])}function pD({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:b,onSelectionEnd:x,connectionLineType:w,connectionLineStyle:E,connectionLineComponent:I,connectionLineContainerStyle:q,selectionKeyCode:O,selectionOnDrag:T,selectionMode:R,multiSelectionKeyCode:D,panActivationKeyCode:F,zoomActivationKeyCode:B,deleteKeyCode:$,onlyRenderVisibleElements:j,elementsSelectable:z,defaultViewport:P,translateExtent:W,minZoom:K,maxZoom:L,preventScrolling:te,defaultMarkerColor:X,zoomOnScroll:oe,zoomOnPinch:re,panOnScroll:ne,panOnScrollSpeed:ae,panOnScrollMode:Z,zoomOnDoubleClick:ue,panOnDrag:he,onPaneClick:ge,onPaneMouseEnter:_e,onPaneMouseMove:Ne,onPaneMouseLeave:Pe,onPaneScroll:Re,onPaneContextMenu:Xe,paneClickDistance:et,nodeClickDistance:nt,onEdgeContextMenu:Ve,onEdgeMouseEnter:ot,onEdgeMouseMove:kt,onEdgeMouseLeave:At,reconnectRadius:Gt,onReconnect:ln,onReconnectStart:ve,onReconnectEnd:be,noDragClassName:Ie,noWheelClassName:De,noPanClassName:We,disableKeyboardA11y:rt,nodeExtent:$e,rfId:ut,viewport:Ut,onViewportChange:Vt}){return $3(t),$3(e),Hte(),Dte(n),Mte(Ut),m.jsx(cte,{onPaneClick:ge,onPaneMouseEnter:_e,onPaneMouseMove:Ne,onPaneMouseLeave:Pe,onPaneContextMenu:Xe,onPaneScroll:Re,paneClickDistance:et,deleteKeyCode:$,selectionKeyCode:O,selectionOnDrag:T,selectionMode:R,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:D,panActivationKeyCode:F,zoomActivationKeyCode:B,elementsSelectable:z,zoomOnScroll:oe,zoomOnPinch:re,zoomOnDoubleClick:ue,panOnScroll:ne,panOnScrollSpeed:ae,panOnScrollMode:Z,panOnDrag:he,defaultViewport:P,translateExtent:W,minZoom:K,maxZoom:L,onSelectionContextMenu:h,preventScrolling:te,noDragClassName:Ie,noWheelClassName:De,noPanClassName:We,disableKeyboardA11y:rt,onViewportChange:Vt,isControlledViewport:!!Ut,children:m.jsxs(Fte,{children:[m.jsx(jte,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:ln,onReconnectStart:ve,onReconnectEnd:be,onlyRenderVisibleElements:j,onEdgeContextMenu:Ve,onEdgeMouseEnter:ot,onEdgeMouseMove:kt,onEdgeMouseLeave:At,reconnectRadius:Gt,defaultMarkerColor:X,noPanClassName:We,disableKeyboardA11y:rt,rfId:ut}),m.jsx(Ute,{style:E,type:w,component:I,containerStyle:q}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(yte,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:nt,onlyRenderVisibleElements:j,noPanClassName:We,noDragClassName:Ie,disableKeyboardA11y:rt,nodeExtent:$e,rfId:ut}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}pD.displayName="GraphView";const Qte=U.memo(pD),B3=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u}={})=>{const d=new Map,f=new Map,h=new Map,b=new Map,x=r??e??[],w=n??t??[],E=l??[0,0],I=u??gp;O2(h,b,x),tE(w,d,f,{nodeOrigin:E,nodeExtent:I,elevateNodesOnSelect:!1});let q=[0,0,1];if(o&&i&&s){const O=Gp(d,{filter:F=>!!((F.width||F.initialWidth)&&(F.height||F.initialHeight))}),{x:T,y:R,zoom:D}=T1(O,i,s,.5,2,.1);q=[T,R,D]}return{rfId:"1",width:0,height:0,transform:q,nodes:w,nodeLookup:d,parentLookup:f,edges:x,edgeLookup:b,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:gp,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Md.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...h2},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:bX,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Kte=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u})=>dee((d,f)=>({...B3({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u,defaultNodes:n,defaultEdges:r}),setNodes:h=>{const{nodeLookup:b,parentLookup:x,nodeOrigin:w,elevateNodesOnSelect:E}=f();tE(h,b,x,{nodeOrigin:w,nodeExtent:u,elevateNodesOnSelect:E,checkEquality:!0}),d({nodes:h})},setEdges:h=>{const{connectionLookup:b,edgeLookup:x}=f();O2(b,x,h),d({edges:h})},setDefaultNodesAndEdges:(h,b)=>{if(h){const{setNodes:x}=f();x(h),d({hasDefaultNodes:!0})}if(b){const{setEdges:x}=f();x(b),d({hasDefaultEdges:!0})}},updateNodeInternals:(h,b={triggerFitView:!0})=>{const{triggerNodeChanges:x,nodeLookup:w,parentLookup:E,fitViewOnInit:I,fitViewDone:q,fitViewOnInitOptions:O,domNode:T,nodeOrigin:R,nodeExtent:D,debug:F,fitViewSync:B}=f(),{changes:$,updatedInternals:j}=PX(h,w,E,T,R,D);if(j){if(RX(w,E,{nodeOrigin:R,nodeExtent:D}),b.triggerFitView){let z=q;!q&&I&&(z=B({...O,nodes:O?.nodes})),d({fitViewDone:z})}else d({});$?.length>0&&(F&&console.log("React Flow: trigger node changes",$),x?.($))}},updateNodePositions:(h,b=!1)=>{const x=[],w=[];for(const[E,I]of h){const q=!!(I?.expandParent&&I?.parentId&&I?.position),O={id:E,type:"position",position:q?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:b};q&&x.push({id:E,parentId:I.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width,height:I.measured.height}}),w.push(O)}if(x.length>0){const{nodeLookup:E,parentLookup:I,nodeOrigin:q}=f(),O=j1(x,E,I,q);w.push(...O)}f().triggerNodeChanges(w)},triggerNodeChanges:h=>{const{onNodesChange:b,setNodes:x,nodes:w,hasDefaultNodes:E,debug:I}=f();if(h?.length){if(E){const q=Ree(h,w);x(q)}I&&console.log("React Flow: trigger node changes",h),b?.(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:b,setEdges:x,edges:w,hasDefaultEdges:E,debug:I}=f();if(h?.length){if(E){const q=Aee(h,w);x(q)}I&&console.log("React Flow: trigger edge changes",h),b?.(h)}},addSelectedNodes:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:I}=f();if(b){const q=h.map(O=>Ec(O,!0));E(q);return}E(od(w,new Set([...h]),!0)),I(od(x))},addSelectedEdges:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:I}=f();if(b){const q=h.map(O=>Ec(O,!0));I(q);return}I(od(x,new Set([...h]))),E(od(w,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:b}={})=>{const{edges:x,nodes:w,nodeLookup:E,triggerNodeChanges:I,triggerEdgeChanges:q}=f(),O=h||w,T=b||x,R=O.map(F=>{const B=E.get(F.id);return B&&(B.selected=!1),Ec(F.id,!1)}),D=T.map(F=>Ec(F.id,!1));I(R),q(D)},setMinZoom:h=>{const{panZoom:b,maxZoom:x}=f();b?.setScaleExtent([h,x]),d({minZoom:h})},setMaxZoom:h=>{const{panZoom:b,minZoom:x}=f();b?.setScaleExtent([x,h]),d({maxZoom:h})},setTranslateExtent:h=>{f().panZoom?.setTranslateExtent(h),d({translateExtent:h})},setPaneClickDistance:h=>{f().panZoom?.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:b,triggerNodeChanges:x,triggerEdgeChanges:w}=f(),E=b.reduce((q,O)=>O.selected?[...q,Ec(O.id,!1)]:q,[]),I=h.reduce((q,O)=>O.selected?[...q,Ec(O.id,!1)]:q,[]);x(E),w(I)},setNodeExtent:h=>{const{nodes:b,nodeLookup:x,parentLookup:w,nodeOrigin:E,elevateNodesOnSelect:I,nodeExtent:q}=f();h[0][0]===q[0][0]&&h[0][1]===q[0][1]&&h[1][0]===q[1][0]&&h[1][1]===q[1][1]||(tE(b,x,w,{nodeOrigin:E,nodeExtent:h,elevateNodesOnSelect:I,checkEquality:!1}),d({nodeExtent:h}))},panBy:h=>{const{transform:b,width:x,height:w,panZoom:E,translateExtent:I}=f();return FX({delta:h,panZoom:E,transform:b,translateExtent:I,width:x,height:w})},fitView:h=>{const{panZoom:b,width:x,height:w,minZoom:E,maxZoom:I,nodeLookup:q}=f();if(!b)return Promise.resolve(!1);const O=GS(q,h);return ZS({nodes:O,width:x,height:w,panZoom:b,minZoom:E,maxZoom:I},h)},fitViewSync:h=>{const{panZoom:b,width:x,height:w,minZoom:E,maxZoom:I,nodeLookup:q}=f();if(!b)return!1;const O=GS(q,h);return ZS({nodes:O,width:x,height:w,panZoom:b,minZoom:E,maxZoom:I},h),O.size>0},cancelConnection:()=>{d({connection:{...h2}})},updateConnection:h=>{d({connection:h})},reset:()=>d({...B3()})}),Object.is);function Gte({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:u,children:d}){const[f]=U.useState(()=>Kte({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u}));return m.jsx(fee,{value:f,children:m.jsx(Dee,{children:d})})}function Zte({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,nodeOrigin:u,nodeExtent:d}){return U.useContext(bb)?m.jsx(m.Fragment,{children:t}):m.jsx(Gte,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:u,nodeExtent:d,children:t})}const Jte={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Yte({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:f,onMoveStart:h,onMoveEnd:b,onConnect:x,onConnectStart:w,onConnectEnd:E,onClickConnectStart:I,onClickConnectEnd:q,onNodeMouseEnter:O,onNodeMouseMove:T,onNodeMouseLeave:R,onNodeContextMenu:D,onNodeDoubleClick:F,onNodeDragStart:B,onNodeDrag:$,onNodeDragStop:j,onNodesDelete:z,onEdgesDelete:P,onDelete:W,onSelectionChange:K,onSelectionDragStart:L,onSelectionDrag:te,onSelectionDragStop:X,onSelectionContextMenu:oe,onSelectionStart:re,onSelectionEnd:ne,onBeforeDelete:ae,connectionMode:Z,connectionLineType:ue=kl.Bezier,connectionLineStyle:he,connectionLineComponent:ge,connectionLineContainerStyle:_e,deleteKeyCode:Ne="Backspace",selectionKeyCode:Pe="Shift",selectionOnDrag:Re=!1,selectionMode:Xe=yp.Full,panActivationKeyCode:et="Space",multiSelectionKeyCode:nt=hv()?"Meta":"Control",zoomActivationKeyCode:Ve=hv()?"Meta":"Control",snapToGrid:ot,snapGrid:kt,onlyRenderVisibleElements:At=!1,selectNodesOnDrag:Gt,nodesDraggable:ln,nodesConnectable:ve,nodesFocusable:be,nodeOrigin:Ie=W2,edgesFocusable:De,edgesReconnectable:We,elementsSelectable:rt=!0,defaultViewport:$e=Nee,minZoom:ut=.5,maxZoom:Ut=2,translateExtent:Vt=gp,preventScrolling:fn=!0,nodeExtent:er,defaultMarkerColor:qn="#b1b1b7",zoomOnScroll:Rr=!0,zoomOnPinch:vi=!0,panOnScroll:hr=!1,panOnScrollSpeed:Ht=.5,panOnScrollMode:Oi=Mc.Free,zoomOnDoubleClick:qi=!0,panOnDrag:Ri=!0,onPaneClick:Xs,onPaneMouseEnter:ia,onPaneMouseMove:Yl,onPaneMouseLeave:Es,onPaneScroll:V,onPaneContextMenu:lu,paneClickDistance:sn=0,nodeClickDistance:cu=0,children:uu,onReconnect:du,onReconnectStart:Xl,onReconnectEnd:sa,onEdgeContextMenu:Ai,onEdgeDoubleClick:ec,onEdgeMouseEnter:oa,onEdgeMouseMove:sf,onEdgeMouseLeave:aa,reconnectRadius:Ns=10,onNodesChange:Ua,onEdgesChange:ks,noDragClassName:of="nodrag",noWheelClassName:af="nowheel",noPanClassName:fu="nopan",fitView:Is,fitViewOptions:hu,connectOnClick:pu,attributionPosition:lf,proOptions:mu,defaultEdgeOptions:gu,elevateNodesOnSelect:yu,elevateEdgesOnSelect:tc,disableKeyboardA11y:vu=!1,autoPanOnConnect:cf,autoPanOnNodeDrag:tr,autoPanSpeed:uf,connectionRadius:nc,isValidConnection:bu,onError:Va,style:df,id:rc,nodeDragThreshold:Ha,viewport:ji,onViewportChange:ff,width:si,height:hf,colorMode:pf="light",debug:mf,...jo},Qa){const bi=rc||"1",Ka=Tee(pf);return m.jsx("div",{"data-testid":"rf__wrapper",...jo,style:{...df,...Jte},ref:Qa,className:$r(["react-flow",i,Ka]),id:rc,children:m.jsxs(Zte,{nodes:t,edges:e,width:si,height:hf,fitView:Is,nodeOrigin:Ie,nodeExtent:er,children:[m.jsx(Qte,{onInit:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:O,onNodeMouseMove:T,onNodeMouseLeave:R,onNodeContextMenu:D,onNodeDoubleClick:F,nodeTypes:s,edgeTypes:o,connectionLineType:ue,connectionLineStyle:he,connectionLineComponent:ge,connectionLineContainerStyle:_e,selectionKeyCode:Pe,selectionOnDrag:Re,selectionMode:Xe,deleteKeyCode:Ne,multiSelectionKeyCode:nt,panActivationKeyCode:et,zoomActivationKeyCode:Ve,onlyRenderVisibleElements:At,defaultViewport:$e,translateExtent:Vt,minZoom:ut,maxZoom:Ut,preventScrolling:fn,zoomOnScroll:Rr,zoomOnPinch:vi,zoomOnDoubleClick:qi,panOnScroll:hr,panOnScrollSpeed:Ht,panOnScrollMode:Oi,panOnDrag:Ri,onPaneClick:Xs,onPaneMouseEnter:ia,onPaneMouseMove:Yl,onPaneMouseLeave:Es,onPaneScroll:V,onPaneContextMenu:lu,paneClickDistance:sn,nodeClickDistance:cu,onSelectionContextMenu:oe,onSelectionStart:re,onSelectionEnd:ne,onReconnect:du,onReconnectStart:Xl,onReconnectEnd:sa,onEdgeContextMenu:Ai,onEdgeDoubleClick:ec,onEdgeMouseEnter:oa,onEdgeMouseMove:sf,onEdgeMouseLeave:aa,reconnectRadius:Ns,defaultMarkerColor:qn,noDragClassName:of,noWheelClassName:af,noPanClassName:fu,rfId:bi,disableKeyboardA11y:vu,nodeExtent:er,viewport:ji,onViewportChange:ff}),m.jsx(Cee,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:w,onConnectEnd:E,onClickConnectStart:I,onClickConnectEnd:q,nodesDraggable:ln,nodesConnectable:ve,nodesFocusable:be,edgesFocusable:De,edgesReconnectable:We,elementsSelectable:rt,elevateNodesOnSelect:yu,elevateEdgesOnSelect:tc,minZoom:ut,maxZoom:Ut,nodeExtent:er,onNodesChange:Ua,onEdgesChange:ks,snapToGrid:ot,snapGrid:kt,connectionMode:Z,translateExtent:Vt,connectOnClick:pu,defaultEdgeOptions:gu,fitView:Is,fitViewOptions:hu,onNodesDelete:z,onEdgesDelete:P,onDelete:W,onNodeDragStart:B,onNodeDrag:$,onNodeDragStop:j,onSelectionDrag:te,onSelectionDragStart:L,onSelectionDragStop:X,onMove:f,onMoveStart:h,onMoveEnd:b,noPanClassName:fu,nodeOrigin:Ie,rfId:bi,autoPanOnConnect:cf,autoPanOnNodeDrag:tr,autoPanSpeed:uf,onError:Va,connectionRadius:nc,isValidConnection:bu,selectNodesOnDrag:Gt,nodeDragThreshold:Ha,onBeforeDelete:ae,paneClickDistance:sn,debug:mf}),m.jsx(Eee,{onSelectionChange:K}),uu,m.jsx(bee,{proOptions:mu,position:lf}),m.jsx(yee,{rfId:bi,disableKeyboardA11y:vu})]})})}var mD=V2(Yte);const Xte=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function ene({children:t}){const e=Nn(Xte);return e?Ev.createPortal(t,e):null}function tne({dimensions:t,lineWidth:e,variant:n,className:r}){return m.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:$r(["react-flow__background-pattern",n,r])})}function nne({radius:t,className:e}){return m.jsx("circle",{cx:t,cy:t,r:t,className:$r(["react-flow__background-pattern","dots",e])})}var Go;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Go||(Go={}));const rne={[Go.Dots]:1,[Go.Lines]:1,[Go.Cross]:6},ine=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function gD({id:t,variant:e=Go.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:u,className:d,patternClassName:f}){const h=U.useRef(null),{transform:b,patternId:x}=Nn(ine,Sr),w=r||rne[e],E=e===Go.Dots,I=e===Go.Cross,q=Array.isArray(n)?n:[n,n],O=[q[0]*b[2]||1,q[1]*b[2]||1],T=w*b[2],R=Array.isArray(s)?s:[s,s],D=I?[T,T]:O,F=[R[0]*b[2]||1+D[0]/2,R[1]*b[2]||1+D[1]/2],B=`${x}${t||""}`;return m.jsxs("svg",{className:$r(["react-flow__background",d]),style:{...u,...xb,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[m.jsx("pattern",{id:B,x:b[0]%O[0],y:b[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`,children:E?m.jsx(nne,{radius:T/2,className:f}):m.jsx(tne,{dimensions:D,lineWidth:i,variant:e,className:f})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${B})`})]})}gD.displayName="Background";const yD=U.memo(gD);function sne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function one(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function ane(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function lne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function cne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Tg({children:t,className:e,...n}){return m.jsx("button",{type:"button",className:$r(["react-flow__controls-button",e]),...n,children:t})}const une=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function vD({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:d,children:f,position:h="bottom-left",orientation:b="vertical","aria-label":x="React Flow controls"}){const w=fr(),{isInteractive:E,minZoomReached:I,maxZoomReached:q}=Nn(une,Sr),{zoomIn:O,zoomOut:T,fitView:R}=Jp(),D=()=>{O(),s?.()},F=()=>{T(),o?.()},B=()=>{R(i),l?.()},$=()=>{w.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),u?.(!E)},j=b==="horizontal"?"horizontal":"vertical";return m.jsxs(P1,{className:$r(["react-flow__controls",j,d]),position:h,style:t,"data-testid":"rf__controls","aria-label":x,children:[e&&m.jsxs(m.Fragment,{children:[m.jsx(Tg,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:q,children:m.jsx(sne,{})}),m.jsx(Tg,{onClick:F,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:I,children:m.jsx(one,{})})]}),n&&m.jsx(Tg,{className:"react-flow__controls-fitview",onClick:B,title:"fit view","aria-label":"fit view",children:m.jsx(ane,{})}),r&&m.jsx(Tg,{className:"react-flow__controls-interactive",onClick:$,title:"toggle interactivity","aria-label":"toggle interactivity",children:E?m.jsx(cne,{}):m.jsx(lne,{})}),f]})}vD.displayName="Controls";const bD=U.memo(vD);function dne({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:u,className:d,borderRadius:f,shapeRendering:h,selected:b,onClick:x}){const{background:w,backgroundColor:E}=s||{},I=o||w||E;return m.jsx("rect",{className:$r(["react-flow__minimap-node",{selected:b},d]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:I,stroke:l,strokeWidth:u},shapeRendering:h,onClick:x?q=>x(q,t):void 0})}const fne=U.memo(dne),hne=t=>t.nodes.map(e=>e.id),q0=t=>t instanceof Function?t:()=>t;function pne({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=fne,onClick:o}){const l=Nn(hne,Sr),u=q0(e),d=q0(t),f=q0(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:l.map(b=>m.jsx(gne,{id:b,nodeColorFunc:u,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:h},b))})}function mne({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:d,x:f,y:h,width:b,height:x}=Nn(w=>{const E=w.nodeLookup.get(t),{x:I,y:q}=E.internals.positionAbsolute,{width:O,height:T}=Wa(E);return{node:E,x:I,y:q,width:O,height:T}},Sr);return!d||d.hidden||!w2(d)?null:m.jsx(l,{x:f,y:h,width:b,height:x,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:u,id:d.id})}const gne=U.memo(mne);var yne=U.memo(pne);const vne=200,bne=150,xne=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?x2(Gp(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},_ne="react-flow__minimap-desc";function xD({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:d,maskStrokeColor:f,maskStrokeWidth:h,position:b="bottom-right",onClick:x,onNodeClick:w,pannable:E=!1,zoomable:I=!1,ariaLabel:q="React Flow mini map",inversePan:O,zoomStep:T=10,offsetScale:R=5}){const D=fr(),F=U.useRef(null),{boundingRect:B,viewBB:$,rfId:j,panZoom:z,translateExtent:P,flowWidth:W,flowHeight:K}=Nn(xne,Sr),L=t?.width??vne,te=t?.height??bne,X=B.width/L,oe=B.height/te,re=Math.max(X,oe),ne=re*L,ae=re*te,Z=R*re,ue=B.x-(ne-B.width)/2-Z,he=B.y-(ae-B.height)/2-Z,ge=ne+Z*2,_e=ae+Z*2,Ne=`${_ne}-${j}`,Pe=U.useRef(0),Re=U.useRef();Pe.current=re,U.useEffect(()=>{if(F.current&&z)return Re.current=UX({domNode:F.current,panZoom:z,getTransform:()=>D.getState().transform,getViewScale:()=>Pe.current}),()=>{Re.current?.destroy()}},[z]),U.useEffect(()=>{Re.current?.update({translateExtent:P,width:W,height:K,inversePan:O,pannable:E,zoomStep:T,zoomable:I})},[E,I,O,T,P,W,K]);const Xe=x?nt=>{const[Ve,ot]=Re.current?.pointer(nt)||[0,0];x(nt,{x:Ve,y:ot})}:void 0,et=w?U.useCallback((nt,Ve)=>{const ot=D.getState().nodeLookup.get(Ve);w(nt,ot)},[]):void 0;return m.jsx(P1,{position:b,style:{...t,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*re:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:$r(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:L,height:te,viewBox:`${ue} ${he} ${ge} ${_e}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ne,ref:F,onClick:Xe,children:[q&&m.jsx("title",{id:Ne,children:q}),m.jsx(yne,{onClick:et,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${ue-Z},${he-Z}h${ge+Z*2}v${_e+Z*2}h${-ge-Z*2}z
        M${$.x},${$.y}h${$.width}v${$.height}h${-$.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}xD.displayName="MiniMap";const _D=U.memo(xD);function wne({nodeId:t,position:e,variant:n=qh.Handle,className:r,style:i={},children:s,color:o,minWidth:l=10,minHeight:u=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:b,onResizeStart:x,onResize:w,onResizeEnd:E}){const I=G2(),q=typeof t=="string"?t:I,O=fr(),T=U.useRef(null),R=n===qh.Line?"right":"bottom-right",D=e??R,F=U.useRef(null);U.useEffect(()=>{if(!(!T.current||!q))return F.current||(F.current=see({domNode:T.current,nodeId:q,getStoreItems:()=>{const{nodeLookup:z,transform:P,snapGrid:W,snapToGrid:K,nodeOrigin:L,domNode:te}=O.getState();return{nodeLookup:z,transform:P,snapGrid:W,snapToGrid:K,nodeOrigin:L,paneDomNode:te}},onChange:(z,P)=>{const{triggerNodeChanges:W,nodeLookup:K,parentLookup:L,nodeOrigin:te}=O.getState(),X=[],oe={x:z.x,y:z.y},re=K.get(q);if(re&&re.expandParent&&re.parentId){const ne=re.origin??te,ae=z.width??re.measured.width,Z=z.height??re.measured.height,ue={id:re.id,parentId:re.parentId,rect:{width:ae,height:Z,...S2({x:z.x??re.position.x,y:z.y??re.position.y},{width:ae,height:Z},re.parentId,K,ne)}},he=j1([ue],K,L,te);X.push(...he),oe.x=z.x?Math.max(ne[0]*ae,z.x):void 0,oe.y=z.y?Math.max(ne[1]*Z,z.y):void 0}if(oe.x!==void 0&&oe.y!==void 0){const ne={id:q,type:"position",position:{...oe}};X.push(ne)}if(z.width!==void 0&&z.height!==void 0){const ne={id:q,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:z.width,height:z.height}};X.push(ne)}for(const ne of P){const ae={...ne,type:"position"};X.push(ae)}W(X)},onEnd:()=>{const z={id:q,type:"dimensions",resizing:!1};O.getState().triggerNodeChanges([z])}})),F.current.update({controlPosition:D,boundaries:{minWidth:l,minHeight:u,maxWidth:d,maxHeight:f},keepAspectRatio:h,onResizeStart:x,onResize:w,onResizeEnd:E,shouldResize:b}),()=>{F.current?.destroy()}},[D,l,u,d,f,h,x,w,E,b]);const B=D.split("-"),$=n===qh.Line?"borderColor":"backgroundColor",j=o?{...i,[$]:o}:i;return m.jsx("div",{className:$r(["react-flow__resize-control","nodrag",...B,n,r]),ref:T,style:j,children:s})}U.memo(wne);const Hr="icon-[ph--blueprint-thin]";var Xp=t=>t.type==="checkbox",Pc=t=>t instanceof Date,Si=t=>t==null;const wD=t=>typeof t=="object";var Cr=t=>!Si(t)&&!Array.isArray(t)&&wD(t)&&!Pc(t),SD=t=>Cr(t)&&t.target?Xp(t.target)?t.target.checked:t.target.value:t,Sne=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ED=(t,e)=>t.has(Sne(e)),Ene=t=>{const e=t.constructor&&t.constructor.prototype;return Cr(e)&&e.hasOwnProperty("isPrototypeOf")},D1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zi(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(D1&&(t instanceof Blob||r))&&(n||Cr(t)))if(e=n?[]:{},!n&&!Ene(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=zi(t[i]));else return t;return e}var _b=t=>Array.isArray(t)?t.filter(Boolean):[],br=t=>t===void 0,St=(t,e,n)=>{if(!e||!Cr(t))return n;const r=_b(e.split(/[,[\].]+?/)).reduce((i,s)=>Si(i)?i:i[s],t);return br(r)||r===t?br(t[e])?n:t[e]:r},ss=t=>typeof t=="boolean",L1=t=>/^\w*$/.test(t),ND=t=>_b(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Dn=(t,e,n)=>{let r=-1;const i=L1(e)?[e]:ND(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==o){const d=t[l];u=Cr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}return t};const mv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},go={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Nne=jn.createContext(null),M1=()=>jn.useContext(Nne);var kD=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==go.all&&(e._proxyFormState[o]=!r||go.all),n&&(n[o]=!0),t[o]}});return i},Wi=t=>Cr(t)&&!Object.keys(t).length,ID=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Wi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||go.all))},Rh=t=>Array.isArray(t)?t:[t],CD=(t,e,n)=>!t||!e||t===e||Rh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function $1(t){const e=jn.useRef(t);e.current=t,jn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function kne(t){const e=M1(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,l]=jn.useState(n._formState),u=jn.useRef(!0),d=jn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=jn.useRef(i);return f.current=i,$1({disabled:r,next:h=>u.current&&CD(f.current,h.name,s)&&ID(h,d.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),jn.useEffect(()=>(u.current=!0,d.current.isValid&&n._updateValid(!0),()=>{u.current=!1}),[n]),jn.useMemo(()=>kD(o,n,d.current,!1),[o,n])}var Vo=t=>typeof t=="string",TD=(t,e,n,r,i)=>Vo(t)?(r&&e.watch.add(t),St(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),St(n,s))):(r&&(e.watchAll=!0),n);function Ine(t){const e=M1(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},l=jn.useRef(r);l.current=r,$1({disabled:s,subject:n._subjects.values,next:f=>{CD(l.current,f.name,o)&&d(zi(TD(l.current,n._names,f.values||n._formValues,!1,i)))}});const[u,d]=jn.useState(n._getWatch(r,i));return jn.useEffect(()=>n._removeUnmounted()),u}function Cne(t){const e=M1(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=ED(i._names.array,n),l=Ine({control:i,name:n,defaultValue:St(i._formValues,n,St(i._defaultValues,n,t.defaultValue)),exact:!0}),u=kne({control:i,name:n,exact:!0}),d=jn.useRef(i.register(n,{...t.rules,value:l,...ss(t.disabled)?{disabled:t.disabled}:{}})),f=jn.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!St(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!St(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!St(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!St(u.validatingFields,n)},error:{enumerable:!0,get:()=>St(u.errors,n)}}),[u,n]),h=jn.useMemo(()=>({name:n,value:l,...ss(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:b=>d.current.onChange({target:{value:SD(b),name:n},type:mv.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:St(i._formValues,n),name:n},type:mv.BLUR}),ref:b=>{const x=St(i._fields,n);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:w=>b.setCustomValidity(w),reportValidity:()=>b.reportValidity()})}}),[n,i._formValues,r,u.disabled,l,i._fields]);return jn.useEffect(()=>{const b=i._options.shouldUnregister||s,x=(w,E)=>{const I=St(i._fields,w);I&&I._f&&(I._f.mount=E)};if(x(n,!0),b){const w=zi(St(i._options.defaultValues,n));Dn(i._defaultValues,n,w),br(St(i._formValues,n))&&Dn(i._formValues,n,w)}return()=>{(o?b&&!i._state.action:b)?i.unregister(n):x(n,!1)}},[n,i,o,s]),jn.useEffect(()=>{ss(r)&&St(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:St(i._fields,n)._f.value})},[r,n,i]),jn.useMemo(()=>({field:h,formState:u,fieldState:f}),[h,u,f])}const ko=t=>t.render(Cne(t));var OD=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},z3=t=>({isOnSubmit:!t||t===go.onSubmit,isOnBlur:t===go.onBlur,isOnChange:t===go.onChange,isOnAll:t===go.all,isOnTouch:t===go.onTouched}),W3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ah=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=St(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Ah(l,e))break}else if(Cr(l)&&Ah(l,e))break}}};var Tne=(t,e,n)=>{const r=Rh(St(t,n));return Dn(r,"root",e[n]),Dn(t,n,r),t},B1=t=>t.type==="file",Wo=t=>typeof t=="function",gv=t=>{if(!D1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},sy=t=>Vo(t),z1=t=>t.type==="radio",yv=t=>t instanceof RegExp;const U3={value:!1,isValid:!1},V3={value:!0,isValid:!0};var qD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!br(t[0].attributes.value)?br(t[0].value)||t[0].value===""?V3:{value:t[0].value,isValid:!0}:V3:U3}return U3};const H3={isValid:!1,value:null};var RD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,H3):H3;function Q3(t,e,n="validate"){if(sy(t)||Array.isArray(t)&&t.every(sy)||ss(t)&&!t)return{type:n,message:sy(t)?t:"",ref:e}}var Qu=t=>Cr(t)&&!yv(t)?t:{value:t,message:""},K3=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:b,validate:x,name:w,valueAsNumber:E,mount:I,disabled:q}=t._f,O=St(e,w);if(!I||q)return{};const T=o?o[0]:s,R=W=>{r&&T.reportValidity&&(T.setCustomValidity(ss(W)?"":W||""),T.reportValidity())},D={},F=z1(s),B=Xp(s),$=F||B,j=(E||B1(s))&&br(s.value)&&br(O)||gv(s)&&s.value===""||O===""||Array.isArray(O)&&!O.length,z=OD.bind(null,w,n,D),P=(W,K,L,te=wa.maxLength,X=wa.minLength)=>{const oe=W?K:L;D[w]={type:W?te:X,message:oe,ref:s,...z(W?te:X,oe)}};if(i?!Array.isArray(O)||!O.length:l&&(!$&&(j||Si(O))||ss(O)&&!O||B&&!qD(o).isValid||F&&!RD(o).isValid)){const{value:W,message:K}=sy(l)?{value:!!l,message:l}:Qu(l);if(W&&(D[w]={type:wa.required,message:K,ref:T,...z(wa.required,K)},!n))return R(K),D}if(!j&&(!Si(f)||!Si(h))){let W,K;const L=Qu(h),te=Qu(f);if(!Si(O)&&!isNaN(O)){const X=s.valueAsNumber||O&&+O;Si(L.value)||(W=X>L.value),Si(te.value)||(K=X<te.value)}else{const X=s.valueAsDate||new Date(O),oe=ae=>new Date(new Date().toDateString()+" "+ae),re=s.type=="time",ne=s.type=="week";Vo(L.value)&&O&&(W=re?oe(O)>oe(L.value):ne?O>L.value:X>new Date(L.value)),Vo(te.value)&&O&&(K=re?oe(O)<oe(te.value):ne?O<te.value:X<new Date(te.value))}if((W||K)&&(P(!!W,L.message,te.message,wa.max,wa.min),!n))return R(D[w].message),D}if((u||d)&&!j&&(Vo(O)||i&&Array.isArray(O))){const W=Qu(u),K=Qu(d),L=!Si(W.value)&&O.length>+W.value,te=!Si(K.value)&&O.length<+K.value;if((L||te)&&(P(L,W.message,K.message),!n))return R(D[w].message),D}if(b&&!j&&Vo(O)){const{value:W,message:K}=Qu(b);if(yv(W)&&!O.match(W)&&(D[w]={type:wa.pattern,message:K,ref:s,...z(wa.pattern,K)},!n))return R(K),D}if(x){if(Wo(x)){const W=await x(O,e),K=Q3(W,T);if(K&&(D[w]={...K,...z(wa.validate,K.message)},!n))return R(K.message),D}else if(Cr(x)){let W={};for(const K in x){if(!Wi(W)&&!n)break;const L=Q3(await x[K](O,e),T,K);L&&(W={...L,...z(K,L.message)},R(L.message),n&&(D[w]=W))}if(!Wi(W)&&(D[w]={ref:T,...W},!n))return D}}return R(!0),D};function One(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=br(t)?r++:t[e[r++]];return t}function qne(t){for(const e in t)if(t.hasOwnProperty(e)&&!br(t[e]))return!1;return!0}function Wr(t,e){const n=Array.isArray(e)?e:L1(e)?[e]:ND(e),r=n.length===1?t:One(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Cr(r)&&Wi(r)||Array.isArray(r)&&qne(r))&&Wr(t,n.slice(0,-1)),t}var R0=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},iE=t=>Si(t)||!wD(t);function Il(t,e){if(iE(t)||iE(e))return t===e;if(Pc(t)&&Pc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Pc(s)&&Pc(o)||Cr(s)&&Cr(o)||Array.isArray(s)&&Array.isArray(o)?!Il(s,o):s!==o)return!1}}return!0}var AD=t=>t.type==="select-multiple",Rne=t=>z1(t)||Xp(t),A0=t=>gv(t)&&t.isConnected,jD=t=>{for(const e in t)if(Wo(t[e]))return!0;return!1};function vv(t,e={}){const n=Array.isArray(t);if(Cr(t)||n)for(const r in t)Array.isArray(t[r])||Cr(t[r])&&!jD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},vv(t[r],e[r])):Si(t[r])||(e[r]=!0);return e}function PD(t,e,n){const r=Array.isArray(t);if(Cr(t)||r)for(const i in t)Array.isArray(t[i])||Cr(t[i])&&!jD(t[i])?br(e)||iE(n[i])?n[i]=Array.isArray(t[i])?vv(t[i],[]):{...vv(t[i])}:PD(t[i],Si(e)?{}:e[i],n[i]):n[i]=!Il(t[i],e[i]);return n}var nh=(t,e)=>PD(t,e,vv(e)),FD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>br(t)?t:e?t===""?NaN:t&&+t:n&&Vo(t)?new Date(t):r?r(t):t;function j0(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return B1(e)?e.files:z1(e)?RD(t.refs).value:AD(e)?[...e.selectedOptions].map(({value:n})=>n):Xp(e)?qD(t.refs).value:FD(br(e.value)?t.ref.value:e.value,t)}var Ane=(t,e,n,r)=>{const i={};for(const s of t){const o=St(e,s);o&&Dn(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},rh=t=>br(t)?t:yv(t)?t.source:Cr(t)?yv(t.value)?t.value.source:t.value:t;const G3="AsyncFunction";var jne=t=>!!t&&!!t.validate&&!!(Wo(t.validate)&&t.validate.constructor.name===G3||Cr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===G3)),Pne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Z3(t,e,n){const r=St(t,n);if(r||L1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=St(e,s),l=St(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var Fne=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Dne=(t,e)=>!_b(St(t,e)).length&&Wr(t,e);const Lne={mode:go.onSubmit,reValidateMode:go.onChange,shouldFocusError:!0};function Mne(t={}){let e={...Lne,...t},n={submitCount:0,isDirty:!1,isLoading:Wo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Cr(e.defaultValues)||Cr(e.values)?zi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:zi(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:R0(),array:R0(),state:R0()},b=z3(e.mode),x=z3(e.reValidateMode),w=e.criteriaMode===go.all,E=ve=>be=>{clearTimeout(d),d=setTimeout(ve,be)},I=async ve=>{if(!e.disabled&&(f.isValid||ve)){const be=e.resolver?Wi((await $()).errors):await z(r,!0);be!==n.isValid&&h.state.next({isValid:be})}},q=(ve,be)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((ve||Array.from(l.mount)).forEach(Ie=>{Ie&&(be?Dn(n.validatingFields,Ie,be):Wr(n.validatingFields,Ie))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Wi(n.validatingFields)}))},O=(ve,be=[],Ie,De,We=!0,rt=!0)=>{if(De&&Ie&&!e.disabled){if(o.action=!0,rt&&Array.isArray(St(r,ve))){const $e=Ie(St(r,ve),De.argA,De.argB);We&&Dn(r,ve,$e)}if(rt&&Array.isArray(St(n.errors,ve))){const $e=Ie(St(n.errors,ve),De.argA,De.argB);We&&Dn(n.errors,ve,$e),Dne(n.errors,ve)}if(f.touchedFields&&rt&&Array.isArray(St(n.touchedFields,ve))){const $e=Ie(St(n.touchedFields,ve),De.argA,De.argB);We&&Dn(n.touchedFields,ve,$e)}f.dirtyFields&&(n.dirtyFields=nh(i,s)),h.state.next({name:ve,isDirty:W(ve,be),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Dn(s,ve,be)},T=(ve,be)=>{Dn(n.errors,ve,be),h.state.next({errors:n.errors})},R=ve=>{n.errors=ve,h.state.next({errors:n.errors,isValid:!1})},D=(ve,be,Ie,De)=>{const We=St(r,ve);if(We){const rt=St(s,ve,br(Ie)?St(i,ve):Ie);br(rt)||De&&De.defaultChecked||be?Dn(s,ve,be?rt:j0(We._f)):te(ve,rt),o.mount&&I()}},F=(ve,be,Ie,De,We)=>{let rt=!1,$e=!1;const ut={name:ve};if(!e.disabled){const Ut=!!(St(r,ve)&&St(r,ve)._f&&St(r,ve)._f.disabled);if(!Ie||De){f.isDirty&&($e=n.isDirty,n.isDirty=ut.isDirty=W(),rt=$e!==ut.isDirty);const Vt=Ut||Il(St(i,ve),be);$e=!!(!Ut&&St(n.dirtyFields,ve)),Vt||Ut?Wr(n.dirtyFields,ve):Dn(n.dirtyFields,ve,!0),ut.dirtyFields=n.dirtyFields,rt=rt||f.dirtyFields&&$e!==!Vt}if(Ie){const Vt=St(n.touchedFields,ve);Vt||(Dn(n.touchedFields,ve,Ie),ut.touchedFields=n.touchedFields,rt=rt||f.touchedFields&&Vt!==Ie)}rt&&We&&h.state.next(ut)}return rt?ut:{}},B=(ve,be,Ie,De)=>{const We=St(n.errors,ve),rt=f.isValid&&ss(be)&&n.isValid!==be;if(e.delayError&&Ie?(u=E(()=>T(ve,Ie)),u(e.delayError)):(clearTimeout(d),u=null,Ie?Dn(n.errors,ve,Ie):Wr(n.errors,ve)),(Ie?!Il(We,Ie):We)||!Wi(De)||rt){const $e={...De,...rt&&ss(be)?{isValid:be}:{},errors:n.errors,name:ve};n={...n,...$e},h.state.next($e)}},$=async ve=>{q(ve,!0);const be=await e.resolver(s,e.context,Ane(ve||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return q(ve),be},j=async ve=>{const{errors:be}=await $(ve);if(ve)for(const Ie of ve){const De=St(be,Ie);De?Dn(n.errors,Ie,De):Wr(n.errors,Ie)}else n.errors=be;return be},z=async(ve,be,Ie={valid:!0})=>{for(const De in ve){const We=ve[De];if(We){const{_f:rt,...$e}=We;if(rt){const ut=l.array.has(rt.name),Ut=We._f&&jne(We._f);Ut&&f.validatingFields&&q([De],!0);const Vt=await K3(We,s,w,e.shouldUseNativeValidation&&!be,ut);if(Ut&&f.validatingFields&&q([De]),Vt[rt.name]&&(Ie.valid=!1,be))break;!be&&(St(Vt,rt.name)?ut?Tne(n.errors,Vt,rt.name):Dn(n.errors,rt.name,Vt[rt.name]):Wr(n.errors,rt.name))}!Wi($e)&&await z($e,be,Ie)}}return Ie.valid},P=()=>{for(const ve of l.unMount){const be=St(r,ve);be&&(be._f.refs?be._f.refs.every(Ie=>!A0(Ie)):!A0(be._f.ref))&&Ne(ve)}l.unMount=new Set},W=(ve,be)=>!e.disabled&&(ve&&be&&Dn(s,ve,be),!Il(Z(),i)),K=(ve,be,Ie)=>TD(ve,l,{...o.mount?s:br(be)?i:Vo(ve)?{[ve]:be}:be},Ie,be),L=ve=>_b(St(o.mount?s:i,ve,e.shouldUnregister?St(i,ve,[]):[])),te=(ve,be,Ie={})=>{const De=St(r,ve);let We=be;if(De){const rt=De._f;rt&&(!rt.disabled&&Dn(s,ve,FD(be,rt)),We=gv(rt.ref)&&Si(be)?"":be,AD(rt.ref)?[...rt.ref.options].forEach($e=>$e.selected=We.includes($e.value)):rt.refs?Xp(rt.ref)?rt.refs.length>1?rt.refs.forEach($e=>(!$e.defaultChecked||!$e.disabled)&&($e.checked=Array.isArray(We)?!!We.find(ut=>ut===$e.value):We===$e.value)):rt.refs[0]&&(rt.refs[0].checked=!!We):rt.refs.forEach($e=>$e.checked=$e.value===We):B1(rt.ref)?rt.ref.value="":(rt.ref.value=We,rt.ref.type||h.values.next({name:ve,values:{...s}})))}(Ie.shouldDirty||Ie.shouldTouch)&&F(ve,We,Ie.shouldTouch,Ie.shouldDirty,!0),Ie.shouldValidate&&ae(ve)},X=(ve,be,Ie)=>{for(const De in be){const We=be[De],rt=`${ve}.${De}`,$e=St(r,rt);(l.array.has(ve)||Cr(We)||$e&&!$e._f)&&!Pc(We)?X(rt,We,Ie):te(rt,We,Ie)}},oe=(ve,be,Ie={})=>{const De=St(r,ve),We=l.array.has(ve),rt=zi(be);Dn(s,ve,rt),We?(h.array.next({name:ve,values:{...s}}),(f.isDirty||f.dirtyFields)&&Ie.shouldDirty&&h.state.next({name:ve,dirtyFields:nh(i,s),isDirty:W(ve,rt)})):De&&!De._f&&!Si(rt)?X(ve,rt,Ie):te(ve,rt,Ie),W3(ve,l)&&h.state.next({...n}),h.values.next({name:o.mount?ve:void 0,values:{...s}})},re=async ve=>{o.mount=!0;const be=ve.target;let Ie=be.name,De=!0;const We=St(r,Ie),rt=()=>be.type?j0(We._f):SD(ve),$e=ut=>{De=Number.isNaN(ut)||Pc(ut)&&isNaN(ut.getTime())||Il(ut,St(s,Ie,ut))};if(We){let ut,Ut;const Vt=rt(),fn=ve.type===mv.BLUR||ve.type===mv.FOCUS_OUT,er=!Pne(We._f)&&!e.resolver&&!St(n.errors,Ie)&&!We._f.deps||Fne(fn,St(n.touchedFields,Ie),n.isSubmitted,x,b),qn=W3(Ie,l,fn);Dn(s,Ie,Vt),fn?(We._f.onBlur&&We._f.onBlur(ve),u&&u(0)):We._f.onChange&&We._f.onChange(ve);const Rr=F(Ie,Vt,fn,!1),vi=!Wi(Rr)||qn;if(!fn&&h.values.next({name:Ie,type:ve.type,values:{...s}}),er)return f.isValid&&(e.mode==="onBlur"?fn&&I():I()),vi&&h.state.next({name:Ie,...qn?{}:Rr});if(!fn&&qn&&h.state.next({...n}),e.resolver){const{errors:hr}=await $([Ie]);if($e(Vt),De){const Ht=Z3(n.errors,r,Ie),Oi=Z3(hr,r,Ht.name||Ie);ut=Oi.error,Ie=Oi.name,Ut=Wi(hr)}}else q([Ie],!0),ut=(await K3(We,s,w,e.shouldUseNativeValidation))[Ie],q([Ie]),$e(Vt),De&&(ut?Ut=!1:f.isValid&&(Ut=await z(r,!0)));De&&(We._f.deps&&ae(We._f.deps),B(Ie,Ut,ut,Rr))}},ne=(ve,be)=>{if(St(n.errors,be)&&ve.focus)return ve.focus(),1},ae=async(ve,be={})=>{let Ie,De;const We=Rh(ve);if(e.resolver){const rt=await j(br(ve)?ve:We);Ie=Wi(rt),De=ve?!We.some($e=>St(rt,$e)):Ie}else ve?(De=(await Promise.all(We.map(async rt=>{const $e=St(r,rt);return await z($e&&$e._f?{[rt]:$e}:$e)}))).every(Boolean),!(!De&&!n.isValid)&&I()):De=Ie=await z(r);return h.state.next({...!Vo(ve)||f.isValid&&Ie!==n.isValid?{}:{name:ve},...e.resolver||!ve?{isValid:Ie}:{},errors:n.errors}),be.shouldFocus&&!De&&Ah(r,ne,ve?We:l.mount),De},Z=ve=>{const be={...o.mount?s:i};return br(ve)?be:Vo(ve)?St(be,ve):ve.map(Ie=>St(be,Ie))},ue=(ve,be)=>({invalid:!!St((be||n).errors,ve),isDirty:!!St((be||n).dirtyFields,ve),error:St((be||n).errors,ve),isValidating:!!St(n.validatingFields,ve),isTouched:!!St((be||n).touchedFields,ve)}),he=ve=>{ve&&Rh(ve).forEach(be=>Wr(n.errors,be)),h.state.next({errors:ve?n.errors:{}})},ge=(ve,be,Ie)=>{const De=(St(r,ve,{_f:{}})._f||{}).ref,We=St(n.errors,ve)||{},{ref:rt,message:$e,type:ut,...Ut}=We;Dn(n.errors,ve,{...Ut,...be,ref:De}),h.state.next({name:ve,errors:n.errors,isValid:!1}),Ie&&Ie.shouldFocus&&De&&De.focus&&De.focus()},_e=(ve,be)=>Wo(ve)?h.values.subscribe({next:Ie=>ve(K(void 0,be),Ie)}):K(ve,be,!0),Ne=(ve,be={})=>{for(const Ie of ve?Rh(ve):l.mount)l.mount.delete(Ie),l.array.delete(Ie),be.keepValue||(Wr(r,Ie),Wr(s,Ie)),!be.keepError&&Wr(n.errors,Ie),!be.keepDirty&&Wr(n.dirtyFields,Ie),!be.keepTouched&&Wr(n.touchedFields,Ie),!be.keepIsValidating&&Wr(n.validatingFields,Ie),!e.shouldUnregister&&!be.keepDefaultValue&&Wr(i,Ie);h.values.next({values:{...s}}),h.state.next({...n,...be.keepDirty?{isDirty:W()}:{}}),!be.keepIsValid&&I()},Pe=({disabled:ve,name:be,field:Ie,fields:De,value:We})=>{if(ss(ve)&&o.mount||ve){const rt=ve?void 0:br(We)?j0(Ie?Ie._f:St(De,be)._f):We;(ve||!ve&&!br(rt))&&Dn(s,be,rt),F(be,rt,!1,!1,!0)}},Re=(ve,be={})=>{let Ie=St(r,ve);const De=ss(be.disabled)||ss(e.disabled);return Dn(r,ve,{...Ie||{},_f:{...Ie&&Ie._f?Ie._f:{ref:{name:ve}},name:ve,mount:!0,...be}}),l.mount.add(ve),Ie?Pe({field:Ie,disabled:ss(be.disabled)?be.disabled:e.disabled,name:ve,value:be.value}):D(ve,!0,be.value),{...De?{disabled:be.disabled||e.disabled}:{},...e.progressive?{required:!!be.required,min:rh(be.min),max:rh(be.max),minLength:rh(be.minLength),maxLength:rh(be.maxLength),pattern:rh(be.pattern)}:{},name:ve,onChange:re,onBlur:re,ref:We=>{if(We){Re(ve,be),Ie=St(r,ve);const rt=br(We.value)&&We.querySelectorAll&&We.querySelectorAll("input,select,textarea")[0]||We,$e=Rne(rt),ut=Ie._f.refs||[];if($e?ut.find(Ut=>Ut===rt):rt===Ie._f.ref)return;Dn(r,ve,{_f:{...Ie._f,...$e?{refs:[...ut.filter(A0),rt,...Array.isArray(St(i,ve))?[{}]:[]],ref:{type:rt.type,name:ve}}:{ref:rt}}}),D(ve,!1,void 0,rt)}else Ie=St(r,ve,{}),Ie._f&&(Ie._f.mount=!1),(e.shouldUnregister||be.shouldUnregister)&&!(ED(l.array,ve)&&o.action)&&l.unMount.add(ve)}}},Xe=()=>e.shouldFocusError&&Ah(r,ne,l.mount),et=ve=>{ss(ve)&&(h.state.next({disabled:ve}),Ah(r,(be,Ie)=>{const De=St(r,Ie);De&&(be.disabled=De._f.disabled||ve,Array.isArray(De._f.refs)&&De._f.refs.forEach(We=>{We.disabled=De._f.disabled||ve}))},0,!1))},nt=(ve,be)=>async Ie=>{let De;if(Ie&&(Ie.preventDefault&&Ie.preventDefault(),Ie.persist&&Ie.persist()),e.disabled){be&&await be({...n.errors},Ie);return}let We=zi(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:rt,values:$e}=await $();n.errors=rt,We=$e}else await z(r);if(Wr(n.errors,"root"),Wi(n.errors)){h.state.next({errors:{}});try{await ve(We,Ie)}catch(rt){De=rt}}else be&&await be({...n.errors},Ie),Xe(),setTimeout(Xe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wi(n.errors)&&!De,submitCount:n.submitCount+1,errors:n.errors}),De)throw De},Ve=(ve,be={})=>{St(r,ve)&&(br(be.defaultValue)?oe(ve,zi(St(i,ve))):(oe(ve,be.defaultValue),Dn(i,ve,zi(be.defaultValue))),be.keepTouched||Wr(n.touchedFields,ve),be.keepDirty||(Wr(n.dirtyFields,ve),n.isDirty=be.defaultValue?W(ve,zi(St(i,ve))):W()),be.keepError||(Wr(n.errors,ve),f.isValid&&I()),h.state.next({...n}))},ot=(ve,be={})=>{const Ie=ve?zi(ve):i,De=zi(Ie),We=Wi(ve),rt=We?i:De;if(be.keepDefaultValues||(i=Ie),!be.keepValues){if(be.keepDirtyValues){const $e=new Set([...l.mount,...Object.keys(nh(i,s))]);for(const ut of Array.from($e))St(n.dirtyFields,ut)?Dn(rt,ut,St(s,ut)):oe(ut,St(rt,ut))}else{if(D1&&br(ve))for(const $e of l.mount){const ut=St(r,$e);if(ut&&ut._f){const Ut=Array.isArray(ut._f.refs)?ut._f.refs[0]:ut._f.ref;if(gv(Ut)){const Vt=Ut.closest("form");if(Vt){Vt.reset();break}}}}r={}}s=e.shouldUnregister?be.keepDefaultValues?zi(i):{}:zi(rt),h.array.next({values:{...rt}}),h.values.next({values:{...rt}})}l={mount:be.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!be.keepIsValid||!!be.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:be.keepSubmitCount?n.submitCount:0,isDirty:We?!1:be.keepDirty?n.isDirty:!!(be.keepDefaultValues&&!Il(ve,i)),isSubmitted:be.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:We?{}:be.keepDirtyValues?be.keepDefaultValues&&s?nh(i,s):n.dirtyFields:be.keepDefaultValues&&ve?nh(i,ve):be.keepDirty?n.dirtyFields:{},touchedFields:be.keepTouched?n.touchedFields:{},errors:be.keepErrors?n.errors:{},isSubmitSuccessful:be.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},kt=(ve,be)=>ot(Wo(ve)?ve(s):ve,be);return{control:{register:Re,unregister:Ne,getFieldState:ue,handleSubmit:nt,setError:ge,_executeSchema:$,_getWatch:K,_getDirty:W,_updateValid:I,_removeUnmounted:P,_updateFieldArray:O,_updateDisabledField:Pe,_getFieldArray:L,_reset:ot,_resetDefaultValues:()=>Wo(e.defaultValues)&&e.defaultValues().then(ve=>{kt(ve,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:ve=>{n={...n,...ve}},_disableForm:et,_subjects:h,_proxyFormState:f,_setErrors:R,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(ve){o=ve},get _defaultValues(){return i},get _names(){return l},set _names(ve){l=ve},get _formState(){return n},set _formState(ve){n=ve},get _options(){return e},set _options(ve){e={...e,...ve}}},trigger:ae,register:Re,handleSubmit:nt,watch:_e,setValue:oe,getValues:Z,reset:kt,resetField:Ve,clearErrors:he,unregister:Ne,setError:ge,setFocus:(ve,be={})=>{const Ie=St(r,ve),De=Ie&&Ie._f;if(De){const We=De.refs?De.refs[0]:De.ref;We.focus&&(We.focus(),be.shouldSelect&&Wo(We.select)&&We.select())}},getFieldState:ue}}function ws(t={}){const e=jn.useRef(void 0),n=jn.useRef(void 0),[r,i]=jn.useState({isDirty:!1,isValidating:!1,isLoading:Wo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Wo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Mne(t),formState:r});const s=e.current.control;return s._options=t,$1({subject:s._subjects.state,next:o=>{ID(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),jn.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),jn.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),jn.useEffect(()=>{t.values&&!Il(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),jn.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),jn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),jn.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=kD(r,s),e.current}const J3=(t,e,n)=>{if(t&&"reportValidity"in t){const r=St(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},DD=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?J3(r.ref,n,t):r.refs&&r.refs.forEach(i=>J3(i,n,t))}},$ne=(t,e)=>{e.shouldUseNativeValidation&&DD(t,e);const n={};for(const r in t){const i=St(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(Bne(e.names||Object.keys(t),r)){const o=Object.assign({},St(n,r));Dn(o,"root",s),Dn(n,r,o)}else Dn(n,r,s)}return n},Bne=(t,e)=>t.some(n=>n.startsWith(e+"."));var zne=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return t.push(h)})}),e){var u=n[o].types,d=u&&u[r.code];n[o]=OD(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},Ss=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&DD({},s),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:$ne(zne(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const Wne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({name:Y.string().min(1),cycles:Y.number().int(),productionLimit:Y.number().int(),sort:Y.number().int()})),shape:t,filter:e,sort:["id","name","cycles","productionLimit","sort"]}),Une=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({blueprintId:Y.string().min(1),dependencyId:Y.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","dependencyId"]}),Vne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({blueprintId:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number(),cycles:Y.number().int(),limit:Y.number().int()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","cycles","limit"]}),Hne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({blueprintProductionId:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number(),passive:Ws()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount","passive"]}),Qne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({blueprintId:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number(),passive:Ws()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","passive"]}),Kne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({userId:Y.string().min(1),blueprintId:Y.string().min(1)})),shape:t,filter:e,sort:["id","userId","blueprintId"]}),Gne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({resourceId:Y.string().min(1),amount:Y.number(),limit:Y.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Zne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({resourceId:Y.string().min(1),amount:Y.number(),limit:Y.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Jne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({name:Y.string().min(1)})),shape:t,filter:e,sort:["id","name"]}),Yne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({code:Y.string().min(1),label:Y.string().min(1),group:Y.string().nullish(),sort:Y.number().int()})),shape:t,filter:e,sort:["id","code","label","group","sort"]}),Xne=({shape:t,filter:e})=>To({entity:Hs.merge(Y.object({name:Y.string().min(1),login:Y.string().min(1),password:Y.string().min(1)})),shape:t,filter:e,sort:["id","name","login","password"]}),LD=Wne({shape:Y.object({name:Y.string().min(1),cycles:hd(),productionLimit:hd(),sort:hd()}),filter:Qs.merge(Y.object({name:Y.string().optional()}))}),_p=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(LD.shape),defaultValues:{cycles:1,productionLimit:1,sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"name",label:m.jsx(ce,{label:"Building name (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("name")})}),m.jsx(wn,{formState:s.formState,name:"productionLimit",label:m.jsx(ce,{label:"Production limit (label)"}),hint:m.jsx(ce,{label:"How many paralel production lines can run (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("productionLimit")})}),m.jsx(wn,{formState:s.formState,name:"cycles",label:m.jsx(ce,{label:"Construction cycles (label)"}),hint:m.jsx(ce,{label:"Amount of cycles to build this building (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),m.jsx(wn,{formState:s.formState,name:"sort",label:m.jsx(ce,{label:"Blueprint sort (label)"}),hint:m.jsx(ce,{label:"Sort blueprints by this number (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:Hr,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},Kl="icon-[fluent-mdl2--production-floor-management]",MD="icon-[carbon--document-requirements]",em=Yne({shape:Y.object({code:Y.string().min(1),label:Y.string().min(1),group:Y.string().nullish(),sort:hd()}),filter:Qs.merge(Y.object({code:Y.string().optional(),group:Y.string().optional()}))}),Y3=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(em.shape),defaultValues:{sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"code",label:m.jsx(ce,{label:"Tag code (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("code")})}),m.jsx(wn,{formState:s.formState,name:"label",label:m.jsx(ce,{label:"Tag label (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("label")})}),m.jsx(wn,{formState:s.formState,name:"group",label:m.jsx(ce,{label:"Tag group (label)"}),children:m.jsx("input",{type:"text",className:o.input(),...s.register("group")})}),m.jsx(wn,{formState:s.formState,name:"sort",label:m.jsx(ce,{label:"Tag sort (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:cp,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},P0=Js(),ere=[P0({name:"label",header(){return m.jsx(ce,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),P0({name:"code",header(){return m.jsx(ce,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),P0({name:"group",header(){return m.jsx(ce,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],$D=({group:t,table:e,...n})=>{const r=kr([["Tag"],["Resource"]]);return m.jsx(Gs,{table:Zs({...e,columns:ere}),action:{table(){return m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create tag (menu)"}),textTitle:m.jsx(ce,{label:"Create tag (modal)"}),icon:cp,children:m.jsx(Y3,{defaultValues:{group:t},mutation:_n({async mutationFn(i){return un.promise(Qt.transaction().execute(s=>s.insertInto("Tag").values({id:Yn(),...i}).returningAll().executeTakeFirstOrThrow()),Cn("Create tag"))},async onSuccess(){await r()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit tag (modal)"}),icon:cp,children:m.jsx(Y3,{defaultValues:{group:t,...i},mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(o=>o.updateTable("Tag").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Cn("Edit tag"))},async onSuccess(){await r()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>{await Qt.transaction().execute(s=>s.deleteFrom("Tag").where("id","=",i.id).execute())},textContent:m.jsx(ce,{label:"Tag delete (content)"}),textToast:"Tag delete",invalidator:r})})]})}},...n})},tre=({group:t,...e})=>m.jsx(gK,{icon:cp,table:n=>m.jsx($D,{group:t,...n}),render:({entities:n})=>m.jsx(kF,{tags:n}),queryKey:"Tag",query:async({filter:n,cursor:r})=>Qt.transaction().execute(async i=>Vr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]),output:em.entity,query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("t.id","=",o.id)),o?.idIn&&(l=l.where("t.id","in",o.idIn)),o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("t.code","like",u),d("t.group","like",u),d("t.label","like",u),d("t.id","like",u)]))}return l},filter:n,cursor:r})),...e}),BD=Jne({shape:Y.object({name:Y.string().min(1),tagIds:Y.array(Y.string()).optional()}),filter:Qs.merge(Y.object({name:Y.string().optional()}))}),X3=({group:t="resource",mutation:e,defaultValues:n,variant:r,tva:i=ys,css:s})=>{const o=ws({resolver:Ss(BD.shape),defaultValues:n}),l=i({...r,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:s}).slots;return m.jsxs("form",{className:l.base(),onSubmit:Oo({form:o,mutation:e}),children:[m.jsx(Ji,{variant:{highlight:!0},error:o.formState.errors.root}),m.jsx(wn,{formState:o.formState,name:"name",label:m.jsx(ce,{label:"Resource name (label)"}),children:m.jsx("input",{type:"text",className:l.input(),...o.register("name")})}),m.jsx(wn,{formState:o.formState,name:"tagIds",label:m.jsx(ce,{label:"Resource tags (label)"}),children:m.jsx(ko,{control:o.control,name:"tagIds",render:({field:{ref:u,...d}})=>m.jsx(tre,{group:t,textTitle:m.jsx(ce,{label:"Select resource tags (title)"}),textSelect:m.jsx(ce,{label:"Select resource tags (label)"}),allowEmpty:!0,...d})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:Jr,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},ih=Js(),nre=[ih({name:"name",header(){return m.jsx(ce,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=dr({from:"/$locale"});return m.jsx(Ir,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),ih({name:"countProduction",header(){return m.jsx(ce,{label:"Resource production count (label)"})},render({value:t}){return m.jsx(Ra,{css:{base:t!==void 0&&t===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Xn({number:t})})},size:12}),ih({name:"countRequirement",header(){return m.jsx(ce,{label:"Resource requirement count (label)"})},render({data:t,value:e}){return m.jsx(Ra,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Xn({number:e})})},size:12}),ih({name:"countProductionRequirement",header(){return m.jsx(ce,{label:"Resource production requirement count (label)"})},render({data:t,value:e}){return m.jsx(Ra,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Xn({number:e})})},size:18}),ih({name:"tags",header(){return m.jsx(ce,{label:"Resource tags (label)"})},render({value:t}){return m.jsx(kF,{tags:t})},size:32})],zD=({group:t,table:e,...n})=>{const r=kr([["Resource"],["Resource_Tag"]]);return m.jsx(Gs,{table:Zs({...e,columns:nre}),action:{table(){return m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create resource (menu)"}),textTitle:m.jsx(ce,{label:"Create resource (modal)"}),icon:Jr,children:({close:i})=>m.jsx(X3,{group:t,mutation:_n({async mutationFn({name:s,tagIds:o=[]}){return un.promise(Qt.transaction().execute(async l=>{const u=await l.insertInto("Resource").values({id:Yn(),name:s}).returningAll().executeTakeFirstOrThrow();return o.length&&await l.insertInto("Resource_Tag").values(o.map(d=>({id:Yn(),resourceId:u.id,tagId:d}))).execute(),u}),Cn("Create resource"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit resource (modal)"}),icon:Jr,children:({close:s})=>m.jsx(X3,{defaultValues:{...i,tagIds:i.tags.map(({id:o})=>o)},mutation:_n({async mutationFn({tagIds:o,...l}){return un.promise(Qt.transaction().execute(async u=>{const d=await u.updateTable("Resource").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await u.deleteFrom("Resource_Tag").where("resourceId","=",d.id).execute(),o?.length&&await u.insertInto("Resource_Tag").values(o.map(f=>({id:Yn(),resourceId:d.id,tagId:f}))).execute(),d}),Cn("Update resource"))},async onSuccess(){await r(),s()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async s=>s.deleteFrom("Resource").where("id","=",i.id).execute()),textContent:m.jsx(ce,{label:"Resource delete (content)"}),textToast:"Resource delete",invalidator:r})})]})}},...n})},tm=({group:t,...e})=>m.jsx(SF,{icon:Jr,textTitle:m.jsx(ce,{label:"Select resource (title)"}),textSelect:m.jsx(ce,{label:"Select resource (label)"}),table:n=>m.jsx(zD,{group:t,...n}),render:({entity:n})=>n.name,queryKey:"Resource",query:async({filter:n,cursor:r})=>Qt.transaction().execute(async i=>Vr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>On`json_group_array(json_object(
                                                'id', ${o.ref("t.id")},
                                                'code', ${o.ref("t.code")},
                                                'group', ${o.ref("t.group")},
                                                'sort', ${o.ref("t.sort")},
                                                'label', ${o.ref("t.label")}
                                            ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",s.ref("r.id"))).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("r.id","=",o.id)),o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",u),d("r.name","like",u),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",u),f("t.label","like",u),f("t.group","like",u)])))]))}return l},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),tags:Zr(em.entity),countRequirement:Y.number().nonnegative(),countProduction:Y.number().nonnegative(),countProductionRequirement:Y.number().nonnegative()}),filter:n,cursor:r})),...e}),WD=Vne({shape:Y.object({resourceId:Y.string().min(1),amount:Qc(),cycles:hd(),limit:hd()}),filter:Qs.merge(Y.object({blueprintId:Y.string().optional(),resourceId:Y.string().optional()}))}),eR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(WD.shape),defaultValues:{amount:1,limit:1,cycles:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ce,{label:"Resource name (label)"}),children:m.jsx(ko,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>m.jsx(tm,{textTitle:m.jsx(ce,{label:"Select resource (title)"}),allowEmpty:!0,...u})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ce,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"cycles",label:m.jsx(ce,{label:"Production cycles (label)"}),hint:m.jsx(ce,{label:"Production cycles (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ce,{label:"Production limit (label)"}),hint:m.jsx(ce,{label:"Production limit (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:Kl,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},wb=Hne({shape:Y.object({resourceId:Y.string().min(1),amount:Qc(),passive:Y.boolean()}),filter:Qs.merge(Y.object({blueprintProductionId:Y.string().optional(),resourceId:Y.string().optional()}))}),tR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(wb.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ce,{label:"Requirement (label)"}),children:m.jsx(ko,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>m.jsx(tm,{allowEmpty:!0,...u})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ce,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"passive",label:m.jsx(ce,{label:"Passive requirement (label)"}),hint:m.jsx(ce,{label:"Passive requirement (hint)"}),children:m.jsx(ko,{control:s.control,name:"passive",render:({field:{ref:l,...u}})=>m.jsx(pP,{...u})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:Jr,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},F0=Js(),rre=[F0({name:"name",header(){return m.jsx(ce,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),F0({name:"amount",header(){return m.jsx(ce,{label:"Amount (label)"})},render({value:t}){return Xn({number:t})},size:10}),F0({name:"passive",header(){return m.jsx(ce,{label:"Passive requirement (label)"})},render({value:t}){return m.jsx(hP,{value:t})},size:10})],UD=({blueprintProductionId:t,table:e,...n})=>{const r=kr([["Blueprint_Production_Requirement"],["Blueprint_Production"],["Resource"]]);return m.jsx(Gs,{table:Zs({...e,columns:rre}),action:{table(){return m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create production requirement (menu)"}),textTitle:m.jsx(ce,{label:"Create production requirement (modal)"}),icon:Jr,children:({close:i})=>m.jsx(tR,{mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(async o=>o.insertInto("Blueprint_Production_Requirement").values({id:Yn(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow()),Cn("Create requirement item"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit production requirement (modal)"}),icon:Jr,children:({close:s})=>m.jsx(tR,{defaultValues:i,mutation:_n({async mutationFn(o){return un.promise(Qt.transaction().execute(async l=>l.updateTable("Blueprint_Production_Requirement").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Cn("Update production requirement"))},async onSuccess(){await r(),s()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete production requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Requirement").where("id","=",i.id).execute()),textContent:m.jsx(ce,{label:"Delete production requirement (content)"}),textToast:"Delete production requirement item",invalidator:r})})]})}},...n})},ire=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2","bg-sky-100","border-sky-300","text-sky-500"]},variant:{missing:{true:[]}},match:[{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{missing:!1}}),VD=({dependencies:t,variant:e,tva:n=ire,css:r,...i})=>{const s=n({...e,css:r}).slots;return m.jsx(m1,{items:t,render:({entity:o})=>m.jsx("div",{className:s.item(),children:m.jsx("div",{children:o.name})}),...i})},sre=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),W1=({requirements:t,diff:e,variant:n,tva:r=sre,css:i,...s})=>{const o=r({...n,css:i}).slots;return m.jsx(m1,{items:t,render:({entity:l})=>{const u=e?.find(f=>f.resourceId===l.resourceId),d=u?.amount?u.amount-l.amount:-l.amount;return m.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[m.jsx("div",{children:l.name}),m.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",Xn({number:l.amount})]}),e?d>=0?m.jsx(Xt,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):m.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[m.jsx(Xt,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",Xn({number:d}),")"]}):null]})},...s})};var Og={},nR;function ore(){if(nR)return Og;nR=1;function t(r,i,s,o){var l=new Set;return function(u){if(!l.has(u)){var d=new Set,f=[],h=[];for(h.push({node:u,processed:!1});h.length>0;){var b=h[h.length-1],x=b.processed,w=b.node;if(x)h.pop(),f.pop(),d.delete(w),l.add(w),(!i||r.get(w).length===0)&&s.push(w);else{if(l.has(w)){h.pop();continue}else if(d.has(w)){if(o){h.pop();continue}throw f.push(w),new n(f)}d.add(w),f.push(w);for(var E=r.get(w),I=E.length-1;I>=0;I--)h.push({node:E[I],processed:!1});b.processed=!0}}}}}var e=Og.DepGraph=function(i){this.nodes=new Map,this.outgoingEdges=new Map,this.incomingEdges=new Map,this.circular=i&&!!i.circular};e.prototype={size:function(){return this.nodes.size},addNode:function(r,i){this.hasNode(r)||(arguments.length===2?this.nodes.set(r,i):this.nodes.set(r,r),this.outgoingEdges.set(r,[]),this.incomingEdges.set(r,[]))},removeNode:function(r){this.hasNode(r)&&(this.nodes.delete(r),this.outgoingEdges.delete(r),this.incomingEdges.delete(r),[this.incomingEdges,this.outgoingEdges].forEach(function(i){i.forEach(function(s){var o=s.indexOf(r);o>=0&&s.splice(o,1)})}))},hasNode:function(r){return this.nodes.has(r)},getNodeData:function(r){if(this.hasNode(r))return this.nodes.get(r);throw new Error("Node does not exist: "+r)},setNodeData:function(r,i){if(this.hasNode(r))this.nodes.set(r,i);else throw new Error("Node does not exist: "+r)},addDependency:function(r,i){if(!this.hasNode(r))throw new Error("Node does not exist: "+r);if(!this.hasNode(i))throw new Error("Node does not exist: "+i);return this.outgoingEdges.get(r).indexOf(i)===-1&&this.outgoingEdges.get(r).push(i),this.incomingEdges.get(i).indexOf(r)===-1&&this.incomingEdges.get(i).push(r),!0},removeDependency:function(r,i){var s;this.hasNode(r)&&(s=this.outgoingEdges.get(r).indexOf(i),s>=0&&this.outgoingEdges.get(r).splice(s,1)),this.hasNode(i)&&(s=this.incomingEdges.get(i).indexOf(r),s>=0&&this.incomingEdges.get(i).splice(s,1))},clone:function(){var r=this,i=new e;return r.nodes.forEach(function(s,o){i.nodes.set(o,s),i.outgoingEdges.set(o,r.outgoingEdges.get(o).slice(0)),i.incomingEdges.set(o,r.incomingEdges.get(o).slice(0))}),i.circular=r.circular,i},directDependenciesOf:function(r){if(this.hasNode(r))return this.outgoingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},directDependantsOf:function(r){if(this.hasNode(r))return this.incomingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},dependenciesOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.outgoingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},dependantsOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.incomingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},overallOrder:function(r){var i=this,s=[],o=Array.from(this.nodes.keys());if(o.length===0)return s;if(!this.circular){var l=t(this.outgoingEdges,!1,[],this.circular);o.forEach(function(d){l(d)})}var u=t(this.outgoingEdges,r,s,this.circular);return o.filter(function(d){return i.incomingEdges.get(d).length===0}).forEach(function(d){u(d)}),this.circular&&o.filter(function(d){return s.indexOf(d)===-1}).forEach(function(d){u(d)}),s},entryNodes:function(){var r=this;return Array.from(this.nodes.keys()).filter(function(i){return r.incomingEdges.get(i).length===0})}},e.prototype.directDependentsOf=e.prototype.directDependantsOf,e.prototype.dependentsOf=e.prototype.dependantsOf;var n=Og.DepGraphCycleError=function(r){var i="Dependency Cycle Found: "+r.join(" -> "),s=new Error(i);return s.cyclePath=r,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,n),s};return n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(n,Error),Og}var U1=ore();const nm=async({tx:t})=>{const e=new U1.DepGraph({circular:!1});for await(const{id:n,name:r}of await t.selectFrom("Blueprint").select(["id","name"]).execute())e.addNode(n,r);for await(const{blueprintId:n,dependencyId:r}of await t.selectFrom("Blueprint_Dependency").select(["blueprintId","dependencyId"]).execute())e.addDependency(n,r);return e},sE=async({tx:t})=>{const e=nm({tx:t}),n=await t.selectFrom("Blueprint as bl").select(["bl.id"]).execute();for await(const r of n){const i=(await e).dependenciesOf(r.id);await t.updateTable("Blueprint").set({sort:i.length}).where("id","=",r.id).execute()}},sh=Js(),are=[sh({name:"name",header(){return m.jsx(ce,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=dr({from:"/$locale"});return m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx(Ir,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:n},search:{zoomTo:t.id}}),m.jsx(Ir,{icon:Hr,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:14}),sh({name:"dependencies",header(){return m.jsx(ce,{label:"Blueprint dependencies (label)"})},render({value:t}){return t.length>0?m.jsxs("div",{className:"flex flex-col flex-wrap gap-2 w-full",children:[m.jsx(VD,{textTitle:m.jsx(ce,{label:"Blueprint dependencies (title)"}),dependencies:t}),m.jsx("div",{className:"border-b border-slate-200"})]}):m.jsx(ce,{label:"No dependencies (label)"})},size:32}),sh({name:"requirements",header(){return m.jsx(ce,{label:"Required resources (label)"})},render({value:t}){return m.jsx(W1,{textTitle:m.jsx(ce,{label:"Blueprint requirements (title)"}),textEmpty:m.jsx(ce,{label:"No requirements (label)"}),requirements:t})},size:32}),sh({name:"cycles",header(){return m.jsx(ce,{label:"Construction cycles (label)"})},render({value:t}){return m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:rv}),Xn({number:t})]})},size:8}),sh({name:"productionLimit",header(){return m.jsx(ce,{label:"Production limit (label)"})},render({value:t}){return Xn({number:t})},size:8})],HD=({dependencies:t,table:e,...n})=>{const r=kr([["Blueprint"],["Inventory"]]);return m.jsx(Gs,{table:Zs({...e,columns:are,context:{dependencies:t}}),action:{table(){return m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create blueprint (menu)"}),textTitle:m.jsx(ce,{label:"Create blueprint (modal)"}),icon:Hr,children:({close:i})=>m.jsx(_p,{mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(async o=>{const l=o.insertInto("Blueprint").values({id:Yn(),...s}).returningAll().executeTakeFirstOrThrow();return await sE({tx:o}),l}),Cn("Create blueprint"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit blueprint (modal)"}),icon:Hr,children:({close:s})=>m.jsx(_p,{defaultValues:i,mutation:_n({async mutationFn(o){return un.promise(Qt.transaction().execute(async l=>{const u=l.updateTable("Blueprint").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await sE({tx:l}),u}),Cn("Update blueprint"))},async onSuccess(){await r(),s()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete blueprint (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async s=>s.deleteFrom("Blueprint").where("id","=",i.id).execute()),textContent:m.jsx(ce,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:r})})]})}},...n})},su=Une({shape:Y.object({dependencyId:Y.string().min(1)}),filter:Qs.merge(Y.object({blueprintId:Y.string().optional(),dependencyId:Y.string().optional()}))}),ou=Qne({shape:Y.object({resourceId:Y.string().min(1),amount:Qc(),passive:Y.boolean()}),filter:Qs.merge(Y.object({blueprintId:Y.string().optional(),resourceId:Y.string().optional()}))}),V1=t=>m.jsx(SF,{icon:Hr,textTitle:m.jsx(ce,{label:"Select blueprint (title)"}),table:({table:e,...n})=>m.jsx(HD,{table:{...e,hidden:["requirements","dependencies","productionLimit"]},...n}),render:({entity:e})=>e.name,queryKey:"Blueprint",query:async({filter:e,cursor:n})=>Qt.transaction().execute(async r=>Vr({select:r.selectFrom("Blueprint as b").select(["b.id","b.name","b.sort","b.cycles","b.productionLimit",i=>i.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(s=>On`json_group_array(json_object(
                                                    'id', ${s.ref("br.id")},
                                                    'amount', ${s.ref("br.amount")},
                                                    'passive', ${s.ref("br.passive")},
                                                    'resourceId', ${s.ref("br.resourceId")},
                                                    'blueprintId', ${s.ref("br.blueprintId")},
                                                    'name', ${s.ref("r.name")}
                                                ))`.as("requirements")).whereRef("br.blueprintId","=","b.id").as("requirements"),i=>i.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.blueprintId").select(s=>On`json_group_array(json_object(
                                                    'id', ${s.ref("bd.id")},
                                                    'dependencyId', ${s.ref("bd.dependencyId")},
                                                    'blueprintId', ${s.ref("bd.blueprintId")},
                                                    'name', ${s.ref("b.name")}
                                                ))`.as("requirements")).whereRef("bd.blueprintId","=","b.id").as("dependencies")]).orderBy("b.name","asc"),query({select:i,where:s}){let o=i;if(s?.id&&(o=o.where("b.id","=",s.id)),s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(u=>u.or([u("b.id","like",l),u("b.name","like",l)]))}return o},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),cycles:Y.number().int(),sort:Y.number().int(),productionLimit:Y.number().int(),requirements:Zr(ou.entity.merge(Y.object({name:Y.string().min(1)}))),dependencies:Zr(su.entity.merge(Y.object({name:Y.string().min(1)})))}),filter:e,cursor:n})),...t}),lre=Y.object({blueprintId:Y.string().min(1)}),cre=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(lre),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"blueprintId",label:m.jsx(ce,{label:"Target blueprint (label)"}),children:m.jsx(ko,{control:s.control,name:"blueprintId",render:({field:{ref:l,...u}})=>m.jsx(V1,{allowEmpty:!0,...u})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:Hr,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},oh=Js(),ure=[oh({name:"name",header(){return m.jsx(ce,{label:"Resource name (label)"})},render({data:t,value:e}){return m.jsx(bo,{target:m.jsx(sr,{iconEnabled:MD,variant:{variant:"subtle"},children:e}),outside:!0,textTitle:m.jsx(ce,{label:"Blueprint production requirements (modal)"}),css:{modal:["w-2/3"]},children:()=>{const[n,r]=U.useState(0),[i,s]=U.useState(15),o=zc({queryKey:["Blueprint_Production_Requirement",t.id,{page:n,size:i}],async queryFn(){return Qt.transaction().execute(async l=>Vr({select:l.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",t.id).orderBy("r.name","asc"),query({select:u,where:d}){let f=u;return d?.id&&(f=f.where("bpr.id","=",d.id)),d?.idIn&&(f=f.where("bpr.id","in",d.idIn)),f},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number().nonnegative(),passive:Ws()}),cursor:{page:n,size:i}}))}});return o.isLoading?m.jsx(nv,{}):o.isSuccess?m.jsx(UD,{blueprintProductionId:t.id,table:{data:o.data.data},cursor:{count:o.data.count,cursor:{page:n,size:i},textTotal:m.jsx(ce,{label:"Number of required items (label)"}),onPage(l){r(l)},onSize(l){s(l)}}}):"boom"}})},size:18}),oh({name:"amount",header(){return m.jsx(ce,{label:"Amount (label)"})},render({value:t}){return Xn({number:t})},size:8}),oh({name:"cycles",header(){return m.jsx(ce,{label:"Production cycles (label)"})},render({value:t}){return Xn({number:t})},size:8}),oh({name:"limit",header(){return m.jsx(ce,{label:"Production limit (label)"})},render({value:t}){return t===0?m.jsx(ce,{label:"Unlimited (label)"}):Xn({number:t})},size:8}),oh({name:"requirements",header(){return m.jsx(ce,{label:"Required resources (label)"})},render({value:t}){return m.jsx(W1,{textTitle:m.jsx(ce,{label:"Resource requirements (title)"}),textEmpty:m.jsx(ce,{label:"No requirements (label)"}),requirements:t})},size:32})],QD=({blueprintId:t,table:e,...n})=>{const r=kr([["Blueprint"],["Blueprint_Production"],["Blueprint_Production_Requirement"],["Resource"]]);return m.jsx(Gs,{table:Zs({...e,columns:ure}),action:{table(){return m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create blueprint production (menu)"}),textTitle:m.jsx(ce,{label:"Create blueprint production (modal)"}),icon:Kl,children:({close:i})=>m.jsx(eR,{mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(async o=>await o.insertInto("Blueprint_Production").values({id:Yn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow()),Cn("Create blueprint production"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit blueprint production (modal)"}),icon:Kl,children:m.jsx(eR,{defaultValues:i,mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(async o=>o.updateTable("Blueprint_Production").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Cn("Update blueprint production"))},async onSuccess(){await r()}})})}),m.jsx(Pn,{label:m.jsx(ce,{label:"Move production to (menu)"}),textTitle:m.jsx(ce,{label:"Move production to (modal)"}),icon:Jr,children:({close:s})=>m.jsx(cre,{mutation:_n({async mutationFn(o){return un.promise(Qt.transaction().execute(async l=>{await l.updateTable("Blueprint_Production").set({blueprintId:o.blueprintId}).where("id","=",i.id).execute()}),Cn("Move production to"))},async onSuccess(){await r(),s()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete blueprint production (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production").where("id","=",i.id).execute()),textContent:m.jsx(ce,{label:"Delete blueprint production (content)"}),textToast:"Delete blueprint production",invalidator:r})})]})}},...n})},rR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(ou.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ce,{label:"Requirement (label)"}),children:m.jsx(ko,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>m.jsx(tm,{allowEmpty:!0,...u})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ce,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"passive",label:m.jsx(ce,{label:"Passive requirement (label)"}),hint:m.jsx(ce,{label:"Passive requirement (hint)"}),children:m.jsx(ko,{control:s.control,name:"passive",render:({field:{ref:l,...u}})=>m.jsx(pP,{...u})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:Jr,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},D0=Js(),dre=[D0({name:"name",header(){return m.jsx(ce,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:14}),D0({name:"amount",header(){return m.jsx(ce,{label:"Amount (label)"})},render({value:t}){return Xn({number:t})},size:10}),D0({name:"passive",header(){return m.jsx(ce,{label:"Passive requirement (label)"})},render({value:t}){return m.jsx(hP,{value:t})},size:10})],KD=({blueprintId:t,table:e,...n})=>{const r=kr([["Blueprint"],["Blueprint_Requirement"],["Blueprint_Resource_Requirement"],["Resource"]]);return m.jsx(Gs,{table:Zs({...e,columns:dre}),action:{table(){return m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create requirement item (menu)"}),textTitle:m.jsx(ce,{label:"Create requirement item (modal)"}),icon:Jr,children:m.jsx(rR,{mutation:_n({async mutationFn(i){return un.promise(Qt.transaction().execute(async s=>s.insertInto("Blueprint_Requirement").values({id:Yn(),...i,blueprintId:t}).returningAll().executeTakeFirstOrThrow()),Cn("Create requirement item"))},async onSuccess(){await r()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit requirement item (modal)"}),icon:Jr,children:m.jsx(rR,{defaultValues:i,mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(async o=>o.updateTable("Blueprint_Requirement").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Cn("Update requirement item"))},async onSuccess(){await r()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete requirement item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async s=>s.deleteFrom("Blueprint_Requirement").where("id","=",i.id).execute()),textContent:m.jsx(ce,{label:"Delete requirement item (content)"}),textToast:"Delete requirement item",invalidator:r})})]})}},...n})},fre=({id:t,data:e,isConnectable:n})=>{const{locale:r}=dr({from:"/$locale"}),i=Ep();return m.jsxs("div",{className:"min-w-[14rem]",onDoubleClick:()=>{i({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t}})},children:[m.jsx(gi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Hr}),m.jsx("div",{className:"font-bold",children:e.name})]}),m.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:[m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(bo,{target:m.jsx(Ca,{iconEnabled:Jr}),outside:!0,textTitle:m.jsx(ce,{label:"Required resources (modal)"}),css:{modal:["w-1/3"]},children:()=>{const[s,o]=U.useState(0),[l,u]=U.useState(15),d=zc({queryKey:["Blueprint_Requirement",t,{page:s,size:l}],async queryFn(){return Qt.transaction().execute(async f=>Vr({select:f.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",t).orderBy("r.name","asc"),query({select:h,where:b}){let x=h;return b?.id&&(x=x.where("br.id","=",b.id)),b?.idIn&&(x=x.where("br.id","in",b.idIn)),x},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number().nonnegative(),passive:Ws()}),cursor:{page:s,size:l}}))}});return d.isLoading?m.jsx(nv,{}):d.isSuccess?m.jsx(KD,{blueprintId:t,table:{data:d.data.data},cursor:{count:d.data.count,cursor:{page:s,size:l},textTotal:m.jsx(ce,{label:"Number of requirements (label)"}),onPage(f){o(f)},onSize(f){u(f)}}}):"boom"}}),m.jsx(bo,{target:m.jsx(Ca,{iconEnabled:Kl}),outside:!0,textTitle:m.jsx(ce,{label:"Blueprint production (modal)"}),css:{modal:["w-2/3"]},children:()=>{const[s,o]=U.useState(0),[l,u]=U.useState(15),d=zc({queryKey:["Blueprint_Production",t,{page:s,size:l}],async queryFn(){return Qt.transaction().execute(async f=>Vr({select:f.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.limit","bp.cycles","bp.resourceId",h=>h.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(b=>On`json_group_array(json_object(
                                                                                    'id', ${b.ref("bpr.id")},
                                                                                    'amount', ${b.ref("bpr.amount")},
                                                                                    'passive', ${b.ref("bpr.passive")},
                                                                                    'blueprintProductionId', ${b.ref("bpr.blueprintProductionId")},
                                                                                    'resourceId', ${b.ref("bpr.resourceId")},
                                                                                    'name', ${b.ref("r.name")}
                                                                                ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements")]).where("bp.blueprintId","=",t).orderBy("r.name","asc"),output:Y.object({id:Y.string().min(1),name:Y.string().min(1),blueprintId:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number().nonnegative(),limit:Y.number().nonnegative(),cycles:Y.number().nonnegative(),requirements:Zr(wb.entity.merge(Y.object({name:Y.string().min(1)})))}),cursor:{page:s,size:l}}))}});return d.isLoading?m.jsx(nv,{}):d.isSuccess?m.jsx(QD,{blueprintId:t,table:{data:d.data.data},cursor:{count:d.data.count,cursor:{page:s,size:l},textTotal:m.jsx(ce,{label:"Number of production items (label)"}),onPage(f){o(f)},onSize(f){u(f)}}}):"boom"}}),m.jsx(bo,{target:m.jsx(Ca,{iconEnabled:iF}),outside:!1,textTitle:m.jsx(ce,{label:"Edit blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:s})=>{const o=kr([["Editor"]]);return m.jsx(_p,{defaultValues:e,mutation:_n({async mutationFn(l){return un.promise(Qt.transaction().execute(u=>u.updateTable("Blueprint").set(l).where("id","=",e.id).execute()),Cn("Update blueprint"))},async onSuccess(){await o(),s()}})})}})]}),m.jsx("div",{children:m.jsx(bo,{target:m.jsx(Ca,{iconEnabled:vs,css:{base:["text-red-500"]}}),outside:!0,textTitle:m.jsx(ce,{label:"Delete blueprint (modal)"}),css:{modal:["w-1/3"]},children:()=>{const s=kr([["Editor"]]);return m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async o=>o.deleteFrom("Blueprint").where("id","=",e.id).execute()),textContent:m.jsx(ce,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:s})}})})]})]}),m.jsx(gi,{type:"source",position:Dt.Right,isConnectable:n,className:"w-4 h-4"})]})},GD=({nodeId:t})=>{const{fitView:e}=Jp();return U.useEffect(()=>{t&&setTimeout(()=>{e({nodes:[{id:t}],duration:1500})},250)},[t]),null},hre=({data:t,zoomTo:e})=>{const n=kr([]),r=_n({async mutationFn({blueprintId:i,dependencyId:s}){return Qt.transaction().execute(async o=>o.insertInto("Blueprint_Dependency").values({id:Yn(),blueprintId:i,dependencyId:s}).execute())},async onSuccess(){await n()}});return m.jsx("div",{className:"w-fit h-fit mx-auto border border-slate-300 rounded-md shadow-md m-8",children:m.jsx("div",{style:{width:"95vw",height:"85vh"},children:m.jsxs(mD,{nodes:t.nodes,edges:t.edges,onConnect:i=>{r.mutate({blueprintId:i.target,dependencyId:i.source})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:U.useMemo(()=>({blueprint(i){return m.jsx(fre,{...i})}}),[]),edgeTypes:U.useMemo(()=>({dependency({id:i,sourceX:s,sourceY:o,targetX:l,targetY:u,sourcePosition:d,targetPosition:f,style:h={},markerEnd:b}){const{setEdges:x}=Jp(),[w,E,I]=O1({sourceX:s,sourceY:o,sourcePosition:d,targetX:l,targetY:u,targetPosition:f}),q=kr([]),O=_n({async mutationFn({id:T}){return Qt.transaction().execute(async R=>{await R.deleteFrom("Blueprint_Dependency").where("id","=",T).execute()})},async onSuccess(){x(T=>T.filter(R=>R.id!==i)),await q()}});return m.jsxs(m.Fragment,{children:[m.jsx(Yp,{path:w,markerEnd:b,style:h}),m.jsx(ene,{children:m.jsx("div",{className:Lr("nodrag nopan",["flex","items-center","justify-center","cursor-pointer","bg-red-200","text-red-500","border","border-red-300","hover:border-red-600","hover:bg-red-300","hover:text-red-700","rounded-full","w-4","h-4"]),style:{position:"absolute",pointerEvents:"all",transformOrigin:"center",transform:`translate(-50%, -50%) translate(${E}px,${I}px)`},children:m.jsx(Xt,{icon:O.isPending?sF:fP,onClick:()=>{O.mutate({id:i})}})})})]})}}),[]),children:[m.jsx(GD,{nodeId:e}),m.jsx(bD,{orientation:"horizontal",showInteractive:!1,showZoom:!1,children:m.jsx(bo,{target:m.jsx(Ca,{className:"react-flow__controls-button",iconEnabled:Hr}),outside:!1,textTitle:m.jsx(ce,{label:"Create blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:i})=>{const s=kr([["Editor"]]),{locale:o}=dr({from:"/$locale"}),l=Ep();return m.jsx(_p,{mutation:_n({async mutationFn(u){return un.promise(Qt.transaction().execute(d=>d.insertInto("Blueprint").values({id:Yn(),...u}).returningAll().executeTakeFirstOrThrow()),Cn("Create blueprint"))},async onSuccess(u){await s(),l({to:"/$locale/apps/derivean/root/editor",params:{locale:o},search:{zoomTo:u.id}}),i()}})})}})}),m.jsx(_D,{}),m.jsx(yD,{variant:Go.Dots,gap:12,size:1})]})})})},ZD=({graph:t,nodes:e,edges:n,size:r={width:344,height:36}})=>(t.setGraph({rankdir:"LR",nodesep:100,edgesep:45,ranksep:20}),e.forEach(i=>{t.setNode(i.id,{width:r.width,height:r.height})}),n.forEach(i=>{t.setEdge(i.source,i.target)}),_1.layout(t,{}),{nodes:e.map(i=>{const s=t.node(i.id);return{...i,targetPosition:"left",sourcePosition:"right",position:{x:s.x-r.width/2,y:s.y-r.height/2}}}),edges:n}),oE=Sn("/$locale/apps/derivean/root/editor")({validateSearch:Ti(Y.object({zoomTo:Y.string().optional()})),async loader({context:{kysely:t}}){const e=(await t.selectFrom("Blueprint").select(["id","name","productionLimit","cycles","sort"]).execute()).map(r=>({id:r.id,position:{x:0,y:0},data:r,type:"blueprint"})),n=(await t.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:r,blueprintId:i,dependencyId:s})=>({id:r,source:s,target:i,type:"dependency"}));return ZD({graph:new _1.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:[...e],edges:[...n]})},component(){const t=oE.useLoaderData(),{zoomTo:e}=oE.useSearch();return m.jsx(hre,{data:t,zoomTo:e})}}),aE=async({tx:t,userId:e})=>{const n=await t.selectFrom("Default_Inventory as di").select(["di.amount","di.resourceId","di.limit"]).limit(5e3).execute();await t.deleteFrom("User_Inventory").where("userId","=",e).execute();for await(const{amount:r,resourceId:i,limit:s}of n)t.insertInto("User_Inventory").values({id:Yn(),userId:e,inventoryId:(await t.insertInto("Inventory").values({id:Yn(),amount:r,resourceId:i,limit:s}).returning("id").executeTakeFirstOrThrow()).id}).execute()},pre=async({tx:t,userId:e})=>{await aE({tx:t,userId:e})},mre=()=>_n({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return Qt.transaction().execute(async r=>{const i=lb.parse(await r.insertInto("User").values({id:Yn(),name:e,login:t,password:yj.hash(n)}).returning(["User.id","User.name","User.login"]).executeTakeFirstOrThrow());try{await pre({tx:r,userId:i.id})}catch(s){console.error(s)}return i})}}),gre=Y.object({name:Y.string().min(1),login:Y.string().min(1),password1:Y.string().min(1),password2:Y.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),yre=({onSuccess:t})=>{const e=mre(),n=ws({resolver:Ss(gre)}),r=ys({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return m.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:s=>{RE({error:s,errors:[IE({error:s,schema:qE,onError:({data:o})=>{n.setError("root",{message:o.message})}})],onError:o=>{n.setError("root",{message:o.message})}})}}).catch(()=>{})),children:[m.jsx(Ji,{variant:{highlight:!0},error:n.formState.errors.root}),m.jsx(wn,{formState:n.formState,name:"name",label:m.jsx(ce,{label:"Name (label)"}),children:m.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),m.jsx(wn,{formState:n.formState,name:"login",label:m.jsx(ce,{label:"Login (label)"}),children:m.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),m.jsx(wn,{formState:n.formState,name:"password1",label:m.jsx(ce,{label:"Password 1 (label)"}),children:m.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),m.jsx(wn,{formState:n.formState,name:"password2",label:m.jsx(ce,{label:"Password 2 (label)"}),children:m.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),m.jsx(sr,{iconEnabled:"icon-[mdi--register-outline]",iconDisabled:"icon-[mdi--register-outline]",type:"submit",children:m.jsx(ce,{label:"Register (submit)"})})]})},vre=Sn("/$locale/apps/derivean/public/register")({component:()=>{const t=Ep();return m.jsx("div",{className:Lr(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[m.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),m.jsx(yre,{onSuccess:async e=>{Vp.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),bre=Sn("/$locale/apps/derivean/public/logout")({pendingComponent(){return m.jsx("div",{className:Lr(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsx(NF,{icon:h1,textTitle:m.jsx(ce,{label:"Logout (label)"}),textMessage:m.jsx(ce,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw Vp.remove("session"),_v({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),xre=()=>_n({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return Qt.transaction().execute(async n=>{const r=await n.selectFrom("User as u").select(["u.id","u.login","u.name"]).where("u.login","=",t).where("u.password","=",yj.hash(e)).executeTakeFirstOrThrow();return{id:r.id,login:r.login,name:r.name}})}}),_re=Y.object({login:Y.string().min(1),password:Y.string().min(1)}),wre=({onSuccess:t})=>{const{locale:e}=dr({from:"/$locale"}),n=xre(),r=ws({resolver:Ss(_re)}),i=ys({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return m.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async s=>n.mutateAsync(s,{onSuccess:t,onError:o=>{RE({error:o,errors:[IE({error:o,schema:qE,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[m.jsx(Ji,{variant:{highlight:!0},error:r.formState.errors.root}),m.jsx(wn,{formState:r.formState,name:"login",label:m.jsx(ce,{label:"Login (label)"}),children:m.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),m.jsx(wn,{formState:r.formState,name:"password",label:m.jsx(ce,{label:"Password (label)"}),children:m.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),m.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[m.jsx(Ir,{icon:"icon-[mdi--register-outline]",to:"/$locale/apps/derivean/public/register",params:{locale:e},children:m.jsx(ce,{label:"Register (link)"})}),m.jsx(sr,{iconEnabled:"icon-[uiw--login]",iconDisabled:"icon-[uiw--login]",type:"submit",children:m.jsx(ce,{label:"Login (submit)"})})]})]})},Sre=Sn("/$locale/apps/derivean/public/login")({component:()=>{const t=Ep();return m.jsx("div",{className:Lr(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[m.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),m.jsx(wre,{onSuccess:async e=>{Vp.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),wp="icon-[emojione-monotone--construction]",JD=async({blueprintId:t,userId:e})=>new Promise(n=>{setTimeout(async()=>Qt.transaction().execute(async r=>{const i=await r.selectFrom("Blueprint_Requirement as br").select(["br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",t).execute();for await(const{resourceId:l,amount:u,passive:d}of i){const f=await r.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",u).executeTakeFirstOrThrow();d||await r.updateTable("Inventory").set({amount:f.amount-u}).where("id","=",f.id).execute()}const{count:s}=await r.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).executeTakeFirstOrThrow(),o=await r.selectFrom("Blueprint as b").select(["b.cycles"]).where("b.id","=",t).executeTakeFirstOrThrow();await r.insertInto("Construction").values({id:Yn(),blueprintId:t,userId:e,cycle:0,from:s,to:s+o.cycles}).execute(),n(!0)}),b1)}),Ere=({id:t,data:e,userId:n,isConnectable:r})=>{const i=kr([["Management"],["Building_Queue"],["Inventory"],["User_Inventory"]]),s=_n({async mutationFn({blueprintId:o}){return un.promise(JD({blueprintId:o,userId:n}),Cn("Building queue"))},async onSuccess(){await i()}});return m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(gi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Hr,css:{base:["text-green-600"]}}),m.jsx("div",{className:"font-bold text-green-600",children:e.name})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:o=>o.stopPropagation(),onDoubleClick:o=>o.stopPropagation(),onMouseDown:o=>o.stopPropagation(),children:m.jsx(sr,{iconEnabled:wp,iconDisabled:wp,variant:{variant:"primary"},onClick:()=>{s.mutate({blueprintId:t})},css:{base:["w-full"]},loading:s.isPending})})]}),m.jsx(gi,{type:"source",position:Dt.Right,isConnectable:r,className:"w-4 h-4"})]})},iR=({isConnectable:t})=>m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(gi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Hr,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold text-slate-400",children:"[Fog of War]"})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:m.jsx(ce,{label:"Building unavailable (label)"})})]}),m.jsx(gi,{type:"source",position:Dt.Right,isConnectable:t,className:"w-4 h-4"})]}),Nre=({data:t,isConnectable:e})=>m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(gi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Hr,css:{base:["text-amber-400"]}}),m.jsx("div",{className:"font-bold text-amber-500",children:t.name})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),onMouseDown:n=>n.stopPropagation(),children:"missing res."})]}),m.jsx(gi,{type:"source",position:Dt.Right,isConnectable:e,className:"w-4 h-4"})]}),kre=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),YD=({blueprintId:t,requirements:e,diff:n,variant:r,tva:i=kre,css:s,...o})=>{const{locale:l}=dr({from:"/$locale"}),u=i({...r,css:s}).slots;return m.jsx(m1,{items:e,render:({entity:d})=>{const f=n?.find(b=>b.resourceId===d.resourceId),h=f?.amount?f.amount-d.amount:-d.amount;return m.jsx(Ir,{to:"/$locale/apps/derivean/game/map",params:{locale:l},search:{showResourcesOf:t},children:m.jsxs("div",{className:u.item({css:!n||h>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:d.passive}),children:[m.jsx("div",{children:d.name}),m.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",Xn({number:d.amount})]}),n?h>=0?m.jsx(Xt,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):m.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[m.jsx(Xt,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",Xn({number:h}),")"]}):null]})})},...o})},Ire=async({userId:t,buildingId:e,blueprintProductionId:n})=>new Promise(r=>{setTimeout(async()=>Qt.transaction().execute(async i=>{const s=await i.selectFrom("Blueprint_Production as bp").select(["bp.cycles"]).where("bp.id","=",n).executeTakeFirstOrThrow(),{count:o}=await i.selectFrom("Cycle as c").select(u=>u.fn.count("c.id").as("count")).where("c.userId","=",t).executeTakeFirstOrThrow(),l=await i.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",n).execute();for await(const{resourceId:u,amount:d,passive:f}of l){const h=await i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",t).where("i.resourceId","=",u).where("i.amount",">=",d).executeTakeFirstOrThrow();f||await i.updateTable("Inventory").set({amount:h.amount-d}).where("id","=",h.id).execute()}await i.insertInto("Production").values({id:Yn(),buildingId:e,blueprintProductionId:n,userId:t,cycle:0,from:o,to:o+s.cycles}).execute(),r(void 0)}),b1)}),XD=({cycles:t})=>m.jsxs("div",{className:Lr(["flex","flex-row","items-center","gap-2"]),children:[m.jsx(Xt,{css:{base:["text-slate-400"]},icon:rv}),m.jsx("div",{className:"font-bold text-md",children:Xn({number:t})})]}),eL=({userId:t,blueprintId:e,production:n,inventory:r,isProductionLimit:i})=>{const s=kr([["Management"],["Blueprint_Production"],["Production"],["Inventory"],["User_Inventory"]]),o=n.requirements.every(h=>{const b=r.find(x=>x.resourceId===h.resourceId);return b&&b.amount>=h.amount}),l=n.queue.length>=n.limit||i,u=n.queue.find(h=>h.blueprintProductionId=n.id),d=o&&!l,f=_n({mutationFn:async()=>n.buildingId?un.promise(Ire({userId:t,blueprintProductionId:n.id,buildingId:n.buildingId}),Cn("Resource production queue")):!1,async onSuccess(){await s()}});return m.jsxs("div",{className:Lr(["flex","flex-col","gap-2","p-4","rounded-md","border","border-slate-300",d?["hover:bg-slate-50","hover:border-slate-400"]:void 0]),children:[m.jsxs("div",{className:Lr(["flex","flex-row","flex-1","gap-2","items-center","justify-between"]),children:[m.jsxs("div",{className:Lr(["flex","flex-row","gap-2","items-center"]),children:[m.jsx(sr,{iconEnabled:n.queue.length>0?"icon-[bi--bag-check]":Kl,iconDisabled:n.queue.length>0?"icon-[bi--bag-check]":Kl,disabled:!d,variant:{variant:d||n.queue.length>0?"primary":"subtle"},css:{base:["px-8"]},loading:f.isPending,onClick:()=>f.mutate()}),n.name,m.jsxs(Ra,{children:["x",Xn({number:n.amount})]})]}),m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(YD,{blueprintId:e,requirements:n.requirements,diff:r}),m.jsx(XD,{cycles:n.cycles})]})]}),u?m.jsx(nf,{variant:{size:"md"},value:100*u.cycle/(u.to-u.from)}):null]})},Cre=({entity:t,userId:e,inventory:n})=>{const r=t.productionCount>=t.productionLimit;return m.jsx("div",{className:Lr(["flex","flex-col","gap-2"]),children:m.jsx("div",{className:Lr(["flex","flex-col","gap-2"]),children:t.production.map(i=>m.jsx(eL,{userId:e,blueprintId:t.id,production:i,inventory:n,isProductionLimit:r},`production-${i.id}-${i.blueprintId}`))})})},Tre=({showId:t,userId:e,inventory:n,data:r,isConnectable:i})=>m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(gi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Ql,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold",children:r.name})]}),m.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:[m.jsx(bo,{icon:Ql,defaultOpen:t===r.id,textTitle:r.name,target:m.jsx(Ca,{iconEnabled:Jr}),outside:!0,children:m.jsx(Cre,{userId:e,inventory:n,entity:r})}),r.productionCount>0?m.jsx(Xt,{icon:sF}):null]})]}),m.jsx(gi,{type:"source",position:Dt.Right,isConnectable:i,className:"w-4 h-4"})]}),Ore=({data:t,isConnectable:e})=>{const n=t.construction?.[0];return m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(gi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:wp,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold",children:t.name})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:r=>r.stopPropagation(),onDoubleClick:r=>r.stopPropagation(),onMouseDown:r=>r.stopPropagation(),children:n?m.jsx(nf,{variant:{size:"md"},value:100*n.cycle/(n.to-n.from)}):null})]}),m.jsx(gi,{type:"source",position:Dt.Right,isConnectable:e,className:"w-4 h-4"})]})},qre=({userId:t,showResourcesOf:e,inventory:n,graph:r,zoomTo:i})=>m.jsx("div",{className:"w-fit h-fit mx-auto border border-slate-300 rounded-md shadow-md m-8",children:m.jsx("div",{style:{width:"95vw",height:"85vh"},children:m.jsxs(mD,{nodes:r.nodes,edges:r.edges,fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:U.useMemo(()=>({building(s){return m.jsx(Tre,{showId:e,userId:t,inventory:n,...s})},construction(s){return m.jsx(Ore,{...s})},"blueprint-available"(s){return m.jsx(Ere,{userId:t,...s})},"blueprint-missing-resources"(s){return m.jsx(Nre,{...s})},"blueprint-missing-buildings"(s){return m.jsx(iR,{...s})},"blueprint-unavailable"(s){return m.jsx(iR,{...s})}}),[t,n,e]),children:[m.jsx(GD,{nodeId:i}),m.jsx(bD,{orientation:"horizontal",showInteractive:!1,showZoom:!0}),m.jsx(_D,{}),m.jsx(yD,{variant:Go.Dots,gap:12,size:1})]})})}),Rre=Hs.merge(Y.object({name:Y.string().min(1),cycles:Y.number().int().nonnegative(),productionLimit:Y.number().int().nonnegative(),productionCount:Y.number().int().nonnegative(),withAvailableBuildings:Ws(),withAvailableResources:Ws(),building:u5(Y.object({id:Y.string().min(1)})).nullish(),construction:Zr(Y.object({id:Y.string().min(1),from:Y.number().int().nonnegative(),to:Y.number().int().nonnegative(),cycle:Y.number().int().nonnegative()})),requirements:Zr(ou.entity.merge(Y.object({name:Y.string().min(1)}))),dependencies:Zr(su.entity.merge(Y.object({name:Y.string().min(1)}))),production:Zr(Y.object({id:Y.string().min(1),name:Y.string().min(1),amount:Y.number().nonnegative(),cycles:Y.number().int().nonnegative(),limit:Y.number().int().nonnegative(),blueprintId:Y.string().min(1),resourceId:Y.string().min(1),buildingId:Y.string().nullish(),requirements:Y.array(Y.object({id:Y.string().min(1),amount:Y.number().nonnegative(),passive:Ws(),resourceId:Y.string().min(1),name:Y.string().min(1)})),queue:Y.array(Y.object({id:Y.string().min(1),blueprintProductionId:Y.string().min(1),from:Y.number().int().nonnegative(),to:Y.number().int().nonnegative(),cycle:Y.number().int().nonnegative()}))}))})),lE=Sn("/$locale/apps/derivean/game/map")({validateSearch:Ti(Y.object({resourceId:Y.string().optional(),showResourcesOf:Y.string().optional()})),loaderDeps({search:{resourceId:t,showResourcesOf:e}}){return{resourceId:t,showResourcesOf:e}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{resourceId:r,showResourcesOf:i}}){const s=await n();return t.ensureQueryData({queryKey:["Management",s.id,i],async queryFn(){return e.transaction().execute(async o=>{const l=o.selectFrom("Blueprint as bl").select(["bl.id",On`
                        CASE
                          WHEN NOT EXISTS (
                            SELECT 1
                            FROM Blueprint_Requirement br
                            LEFT JOIN (
                              SELECT
                                i.resourceId,
                                i.amount
                              FROM
                                Inventory i
                              INNER JOIN User_Inventory ui
                                ON i.id = ui.inventoryId
                              WHERE
                                ui.userId = ${s.id}
                              GROUP BY
                                i.resourceId
                            ) resource
                            ON br.resourceId = resource.resourceId
                            WHERE br.blueprintId = bl.id
                              AND (resource.amount IS NULL OR resource.amount < br.amount)
                          ) THEN true ELSE false END
                      `.as("withAvailableResources"),On`
                        CASE
                          WHEN NOT EXISTS (
                            SELECT 1
                            FROM Blueprint_Dependency bd
                            LEFT JOIN (
                              SELECT
                                b.blueprintId,
                                COUNT(*) AS builtCount
                              FROM
                                Building b
                              WHERE
                                b.userId = ${s.id}
                              GROUP BY
                                b.blueprintId
                            ) building
                            ON bd.dependencyId = building.blueprintId
                            WHERE bd.blueprintId = bl.id
                              AND (building.builtCount IS NULL OR building.builtCount < 1)
                          ) THEN true ELSE false END
                      `.as("withAvailableBuildings")]),u=await EF({select:o.selectFrom("Blueprint as bl").innerJoin(l.as("filter"),"bl.id","filter.id").leftJoin("Building as bg","bg.blueprintId","bl.id").select(["bl.id","bl.name","bl.cycles","bl.productionLimit","filter.withAvailableBuildings","filter.withAvailableResources",d=>d.selectFrom("Building as bg").select(f=>On`json_object(
                                                'id', ${f.ref("bg.id")}
                                            )`.as("building")).whereRef("bg.blueprintId","=","bl.id").where("bg.userId","=",s.id).as("building"),d=>d.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").select(f=>f.fn.count("p.id").as("count")).whereRef("bp.blueprintId","=","bl.id").where("p.userId","=",s.id).as("productionCount"),d=>d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(f=>On`json_group_array(json_object(
                                                'id', ${f.ref("br.id")},
                                                'amount', ${f.ref("br.amount")},
                                                'passive', ${f.ref("br.passive")},
                                                'resourceId', ${f.ref("br.resourceId")},
                                                'blueprintId', ${f.ref("br.blueprintId")},
                                                'name', ${f.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").orderBy("r.name","asc").as("requirements"),d=>d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(f=>On`json_group_array(json_object(
                                                        'id', ${f.ref("bd.id")},
                                                        'dependencyId', ${f.ref("bd.dependencyId")},
                                                        'blueprintId', ${f.ref("bd.blueprintId")},
                                                        'name', ${f.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies"),d=>d.selectFrom("Construction as c").innerJoin("Blueprint as bl2","bl2.id","c.blueprintId").select(f=>On`json_group_array(json_object(
                                                        'id', ${f.ref("c.id")},
                                                        'cycle', ${f.ref("c.cycle")},
                                                        'from', ${f.ref("c.from")},
                                                        'to', ${f.ref("c.to")},
                                                        'name', ${f.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("c.blueprintId","=","bl.id").where("c.userId","=",s.id).orderBy("bl2.name","asc").as("construction"),d=>d.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").leftJoin("Building as b",f=>f.onRef("b.blueprintId","=","bp.blueprintId").on("b.userId","=",s.id)).select(f=>On`json_group_array(json_object(
                                                        'id', ${f.ref("bp.id")},
                                                        'amount', ${f.ref("bp.amount")},
                                                        'cycles', ${f.ref("bp.cycles")},
                                                        'limit', ${f.ref("bp.limit")},
                                                        'blueprintId', ${f.ref("bp.blueprintId")},
                                                        'resourceId', ${f.ref("bp.resourceId")},
                                                        'buildingId', ${f.ref("b.id")},
                                                        'name', ${f.ref("r.name")},
                                                        'requirements', ${On`(
                                                            SELECT
                                                                json_group_array(json_object(
                                                                    'id', bpr.id,
                                                                    'amount', bpr.amount,
                                                                    'passive', bpr.passive,
                                                                    'name', r2.name,
                                                                    'blueprintId', bp.id,
                                                                    'resourceId', bpr.resourceId
                                                                ))
                                                            FROM
                                                                Blueprint_Production_Requirement as bpr
                                                                INNER JOIN Resource as r2 on r2.id = bpr.resourceId
                                                            WHERE
                                                                bpr.blueprintProductionId = bp.id
                                                        )
                                                            `},
                                                        'queue', ${On`(
                                                            SELECT
                                                                json_group_array(json_object(
                                                                    'id', p.id,
                                                                    'from', p."from",
                                                                    'to', p."to",
                                                                    'cycle', p."cycle",
                                                                    'blueprintProductionId', p.blueprintProductionId
                                                                ))
                                                            FROM
                                                                Production as p
                                                            WHERE
                                                                p.blueprintProductionId = bp.id AND
                                                                p.id in (SELECT id FROM Production WHERE userId = ${s.id})
                                                        )
                                                            `}
                                                    ))`.as("sub")).$if(!!r,f=>f.where("bp.resourceId","=",r)).whereRef("bp.blueprintId","=","bl.id").orderBy("r.name","asc").as("production")]).$if(!!r,d=>d.where("bl.id","in",o.selectFrom("Blueprint_Production").select("blueprintId").where("resourceId","=",r))).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:d,where:f}){let h=d;if(f?.fulltext){const b=`%${f.fulltext}%`.toLowerCase();h=h.where(x=>x.or([x("bl.id","like",b),x("bl.name","like",b),x("bl.id","in",x.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").select("bp.blueprintId").where(w=>w.or([w("r.name","like",b)])))]))}return h},output:Rre,cursor:{page:0,size:250}});return{graph:ZD({graph:new _1.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:u.map(d=>{let f="blueprint";return d.construction?.[0]?f="construction":d.building?f="building":d.withAvailableResources&&d.withAvailableBuildings?f="blueprint-available":d.withAvailableResources&&!d.withAvailableBuildings?f="blueprint-missing-buildings":d.withAvailableBuildings&&!d.withAvailableResources?f="blueprint-missing-resources":!d.withAvailableBuildings&&!d.withAvailableResources&&(f="blueprint-unavailable"),{id:d.id,data:d,position:{x:0,y:0},type:f}}),edges:(await o.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:d,blueprintId:f,dependencyId:h})=>({id:d,source:h,target:f,type:"dependency"}))}),inventory:await o.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.resourceId","i.limit"]).where("ui.userId","=",s.id).execute()}})}})},component(){const{graph:t,inventory:e}=lE.useLoaderData(),{showResourcesOf:n}=lE.useSearch(),{session:r}=eu({from:"/$locale/apps/derivean/game"});return m.jsx(qre,{graph:t,userId:r.id,inventory:e,showResourcesOf:n})}}),Are=({graph:t,blueprintId:e,buildingCounts:n,mode:r="dependencies",reverse:i=!1})=>{const{locale:s}=dr({from:"/$locale"});try{const o=(l=>i?l.reverse():l)(r==="dependants"?t.dependantsOf(e):t.dependenciesOf(e));return o.length>0?m.jsx("div",{className:Lr(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:o.length>0?o.map(l=>{const u=n.find(d=>d.blueprintId===l)?.count;return m.jsx(Ir,{to:"/$locale/apps/derivean/game/management",params:{locale:s},search:{filter:{blueprintId:l}},children:m.jsx(Ra,{css:{base:u&&u>0?["bg-emerald-200","text-emerald-700","border-emerald-500"]:["bg-slate-100","text-slate-500","border-slate-300"]},children:t.getNodeData(l)})},Yn())}):m.jsx(ce,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})}):null}catch(o){return o instanceof U1.DepGraphCycleError?m.jsxs("div",{className:Lr(["flex","flex-row","gap-2","items-center"]),children:[m.jsx(Xt,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),o.cyclePath.map(l=>m.jsx(Ra,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(l)},Yn()))]}):"kaboom"}},jre=({name:t,userId:e,blueprintId:n,isBuilt:r,canBuild:i})=>{const s=kr([["Management"],["Building_Queue"],["Inventory"],["User_Inventory"]]),o=_n({async mutationFn({blueprintId:l}){return un.promise(JD({blueprintId:l,userId:e}),Cn("Building queue"))},async onSuccess(){await s()}});return m.jsx("div",{className:Lr(["flex","flex-row","gap-4","items-center","font-bold","text-lg"]),children:m.jsxs("div",{className:Lr(["flex","gap-2","items-center"]),children:[r?m.jsx(Xt,{icon:Ql}):m.jsx("div",{className:Lr(["flex","flex-row","gap-2","items-center","font-bold","text-sm","text-slate-500"]),children:m.jsx(sr,{iconEnabled:wp,iconDisabled:wp,variant:{variant:!r&&i?"primary":"subtle"},onClick:()=>{o.mutate({blueprintId:n})},css:{base:["px-8"]},disabled:!i,loading:o.isPending})}),m.jsx("div",{className:"flex flex-row gap-2",children:t})]})})},Pre=({entity:t,userId:e,dependencies:n,inventory:r,buildingCounts:i})=>{const s=t.withAvailableBuildings&&t.withAvailableResources,o=(i.find(d=>d.blueprintId===t.id)?.count||0)>0,l=t.construction?.[0],u=t.productionCount>=t.productionLimit;return m.jsxs("div",{className:Lr(["flex","flex-col","gap-2","border-slate-300","rounded-lg","p-2","px-4","border",!o&&t.withAvailableBuildings?["border-purple-600"]:[],s?["border-green-600"]:[]]),children:[m.jsxs("div",{className:Lr(["flex","flex-row","gap-2","justify-between","py-2"]),children:[m.jsx("div",{className:"flex flex-row items-center gap-4",children:m.jsx(jre,{name:t.name,userId:e,blueprintId:t.id,isBuilt:o,canBuild:s})}),o||l?null:m.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[m.jsx(YD,{blueprintId:t.id,textTitle:m.jsx(ce,{label:"Building requirements (title)"}),textEmpty:m.jsx(ce,{label:"No requirements (label)"}),requirements:t.requirements,diff:r}),m.jsx(XD,{cycles:t.cycles})]})]}),l?m.jsx(nf,{variant:{size:"md"},value:100*l.cycle/(l.to-l.from)}):null,o||l?null:m.jsx(Are,{graph:n,blueprintId:t.id,buildingCounts:i}),o?m.jsx(m.Fragment,{children:m.jsx("div",{className:Lr(["flex","flex-col","gap-2",t.production.length>0?["border-t","border-slate-300","pt-4"]:void 0]),children:t.production.map(d=>m.jsx(eL,{blueprintId:t.id,userId:e,production:d,inventory:r,isProductionLimit:u},`production-${d.id}-${d.blueprintId}`))})}):null]})},Fre=({data:t,userId:e,cycle:n,dependencies:r,inventory:i,buildingCounts:s,fulltext:o,cursor:l})=>m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(rF,{...o}),m.jsx(TF,{userId:e,cycle:n,css:{base:["fixed","bottom-4","right-4","z-10"]},variant:{size:"md"}}),m.jsx(SS,{count:t.count,textTotal:m.jsx(ce,{label:"Count of buildings"}),...l}),m.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.data.map(u=>m.jsx(Pre,{entity:u,userId:e,dependencies:r,inventory:i,buildingCounts:s},u.id))})]}),oy=Sn("/$locale/apps/derivean/game/management")({validateSearch:Ti(_s({filter:Qs.merge(Y.object({blueprintId:Y.string().optional(),resourceId:Y.string().optional()}))})),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const s=await n();return{data:await t.ensureQueryData({queryKey:["Management",s.id,{filter:r,cursor:i}],async queryFn(){return e.transaction().execute(async l=>{const u=l.selectFrom("Blueprint as bl").select(["bl.id",On`
                        CASE
                          WHEN NOT EXISTS (
                            SELECT 1
                            FROM Blueprint_Requirement br
                            LEFT JOIN (
                              SELECT
                                i.resourceId,
                                i.amount
                              FROM
                                Inventory i
                              INNER JOIN User_Inventory ui
                                ON i.id = ui.inventoryId
                              WHERE
                                ui.userId = ${s.id}
                              GROUP BY
                                i.resourceId
                            ) resource
                            ON br.resourceId = resource.resourceId
                            WHERE br.blueprintId = bl.id
                              AND (resource.amount IS NULL OR resource.amount < br.amount)
                          ) THEN true ELSE false END
                      `.as("withAvailableResources"),On`
                        CASE
                          WHEN NOT EXISTS (
                            SELECT 1
                            FROM Blueprint_Dependency bd
                            LEFT JOIN (
                              SELECT
                                b.blueprintId,
                                COUNT(*) AS builtCount
                              FROM
                                Building b
                              WHERE
                                b.userId = ${s.id}
                              GROUP BY
                                b.blueprintId
                            ) building
                            ON bd.dependencyId = building.blueprintId
                            WHERE bd.blueprintId = bl.id
                              AND (building.builtCount IS NULL OR building.builtCount < 1)
                          ) THEN true ELSE false END
                      `.as("withAvailableBuildings")]);return Vr({select:l.selectFrom("Blueprint as bl").innerJoin(u.as("filter"),"bl.id","filter.id").leftJoin("Building as bg","bg.blueprintId","bl.id").select(["bl.id","bl.name","bl.cycles","bl.productionLimit","filter.withAvailableBuildings","filter.withAvailableResources",d=>d.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").select(f=>f.fn.count("p.id").as("count")).whereRef("bp.blueprintId","=","bl.id").where("p.userId","=",s.id).as("productionCount"),d=>d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(f=>On`json_group_array(json_object(
                                                'id', ${f.ref("br.id")},
                                                'amount', ${f.ref("br.amount")},
                                                'passive', ${f.ref("br.passive")},
                                                'resourceId', ${f.ref("br.resourceId")},
                                                'blueprintId', ${f.ref("br.blueprintId")},
                                                'name', ${f.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").orderBy("r.name","asc").as("requirements"),d=>d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(f=>On`json_group_array(json_object(
                                                        'id', ${f.ref("bd.id")},
                                                        'dependencyId', ${f.ref("bd.dependencyId")},
                                                        'blueprintId', ${f.ref("bd.blueprintId")},
                                                        'name', ${f.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies"),d=>d.selectFrom("Construction as c").innerJoin("Blueprint as bl2","bl2.id","c.blueprintId").select(f=>On`json_group_array(json_object(
                                                        'id', ${f.ref("c.id")},
                                                        'cycle', ${f.ref("c.cycle")},
                                                        'from', ${f.ref("c.from")},
                                                        'to', ${f.ref("c.to")},
                                                        'name', ${f.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("c.blueprintId","=","bl.id").where("c.userId","=",s.id).orderBy("bl2.name","asc").as("construction"),d=>d.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").leftJoin("Building as b",f=>f.onRef("b.blueprintId","=","bp.blueprintId").on("b.userId","=",s.id)).select(f=>On`json_group_array(json_object(
                                                        'id', ${f.ref("bp.id")},
                                                        'amount', ${f.ref("bp.amount")},
                                                        'cycles', ${f.ref("bp.cycles")},
                                                        'limit', ${f.ref("bp.limit")},
                                                        'blueprintId', ${f.ref("bp.blueprintId")},
                                                        'resourceId', ${f.ref("bp.resourceId")},
                                                        'buildingId', ${f.ref("b.id")},
                                                        'name', ${f.ref("r.name")},
                                                        'requirements', ${On`(
                                                            SELECT
                                                                json_group_array(json_object(
                                                                    'id', bpr.id,
                                                                    'amount', bpr.amount,
                                                                    'passive', bpr.passive,
                                                                    'name', r2.name,
                                                                    'blueprintId', bp.id,
                                                                    'resourceId', bpr.resourceId
                                                                ))
                                                            FROM
                                                                Blueprint_Production_Requirement as bpr
                                                                INNER JOIN Resource as r2 on r2.id = bpr.resourceId
                                                            WHERE
                                                                bpr.blueprintProductionId = bp.id
                                                        )
                                                            `},
                                                        'queue', ${On`(
                                                            SELECT
                                                                json_group_array(json_object(
                                                                    'id', p.id,
                                                                    'from', p."from",
                                                                    'to', p."to",
                                                                    'cycle', p."cycle",
                                                                    'blueprintProductionId', p.blueprintProductionId
                                                                ))
                                                            FROM
                                                                Production as p
                                                            WHERE
                                                                p.blueprintProductionId = bp.id AND
                                                                p.id in (SELECT id FROM Production WHERE userId = ${s.id})
                                                        )
                                                            `}
                                                    ))`.as("sub")).$if(!!r?.resourceId,f=>f.where("bp.resourceId","=",r.resourceId)).whereRef("bp.blueprintId","=","bl.id").orderBy("r.name","asc").as("production")]).$if(!!r?.resourceId,d=>d.where("bl.id","in",l.selectFrom("Blueprint_Production").select("blueprintId").where("resourceId","=",r.resourceId))).where("filter.withAvailableBuildings","=",!0).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:d,where:f}){let h=d;if(f?.blueprintId&&(h=h.where("bl.id","=",f.blueprintId)),f?.fulltext){const b=`%${f.fulltext}%`.toLowerCase();h=h.where(x=>x.or([x("bl.id","like",b),x("bl.name","like",b),x("bl.id","in",x.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").select("bp.blueprintId").where(w=>w.or([w("r.name","like",b)])))]))}return h},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),cycles:Y.number().int().nonnegative(),productionLimit:Y.number().int().nonnegative(),productionCount:Y.number().int().nonnegative(),withAvailableBuildings:Ws(),withAvailableResources:Ws(),construction:Zr(Y.object({id:Y.string().min(1),from:Y.number().int().nonnegative(),to:Y.number().int().nonnegative(),cycle:Y.number().int().nonnegative()})),requirements:Zr(ou.entity.merge(Y.object({name:Y.string().min(1)}))),dependencies:Zr(su.entity.merge(Y.object({name:Y.string().min(1)}))),production:Zr(Y.object({id:Y.string().min(1),name:Y.string().min(1),amount:Y.number().nonnegative(),cycles:Y.number().int().nonnegative(),limit:Y.number().int().nonnegative(),blueprintId:Y.string().min(1),resourceId:Y.string().min(1),buildingId:Y.string().nullish(),requirements:Y.array(Y.object({id:Y.string().min(1),amount:Y.number().nonnegative(),passive:Ws(),resourceId:Y.string().min(1),name:Y.string().min(1)})),queue:Y.array(Y.object({id:Y.string().min(1),blueprintProductionId:Y.string().min(1),from:Y.number().int().nonnegative(),to:Y.number().int().nonnegative(),cycle:Y.number().int().nonnegative()}))}))}),filter:r,cursor:i})})}}),dependencies:await e.transaction().execute(async l=>nm({tx:l})),inventory:await t.ensureQueryData({queryKey:["User_Inventory","list",s.id],async queryFn(){return e.transaction().execute(async l=>l.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.resourceId","i.limit"]).where("ui.userId","=",s.id).execute())}}),buildingCounts:await t.ensureQueryData({queryKey:["Building"],async queryFn(){return e.transaction().execute(async l=>l.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.blueprintId","bl.name",u=>u.fn.count("bl.id").as("count")]).where("b.userId","=",s.id).groupBy("b.blueprintId").execute())}})}},component(){const{data:t,dependencies:e,inventory:n,buildingCounts:r}=oy.useLoaderData(),{session:i,cycle:s}=eu({from:"/$locale/apps/derivean/game"}),{filter:o,cursor:l}=oy.useSearch(),u=oy.useNavigate();return m.jsx(Fre,{data:t,userId:i.id,cycle:s,dependencies:e,inventory:n,buildingCounts:r,fulltext:{value:o?.fulltext,onFulltext:xs(u)},cursor:{cursor:l,...bs(u)}})}}),qg=Js(),Dre=[qg({name:"name",header(){return m.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),qg({name:"amount",header(){return m.jsx(ce,{label:"Amount (label)"})},render({value:t}){return Xn({number:t})},size:18}),qg({name:"limit",header(){return m.jsx(ce,{label:"Inventory limit (label)"})},render({value:t}){return Xn({number:t})},size:14}),qg({name:"storage",header(){return m.jsx(ce,{label:"Storage (label)"})},render({data:t}){return m.jsx(nf,{value:100*t.amount/t.limit})},size:24})],Lre=({table:t,...e})=>m.jsx(Gs,{table:Zs({...t,columns:Dre}),...e}),H1=Zne({shape:Y.object({resourceId:Y.string().min(1),amount:Qc(),limit:Qc()}),filter:Qs.merge(Y.object({resourceId:Y.string().optional()}))}),ay=Sn("/$locale/apps/derivean/game/inventory")({validateSearch:Ti(_s(H1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(s=>Vr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").selectAll("i").select("r.name").where("i.id","in",s.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("i.id","=",l.id)),l?.idIn&&(u=u.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return u},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number().nonnegative(),limit:Y.number().nonnegative()}),filter:n,cursor:r}))},component(){const{data:t,count:e}=ay.useLoaderData(),{filter:n,cursor:r}=ay.useSearch(),i=ay.useNavigate(),{tva:s}=yi({from:"__root__"}),o=s().slots;return m.jsx("div",{className:o.base(),children:m.jsx(Lre,{table:{data:t,filter:{value:n,set:Ks(i)}},fulltext:{value:n?.fulltext,set:xs(i)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of items"}),...bs(i)}})})}}),tL=Sn("/$locale/apps/derivean/db/schema")({async loader({context:{kysely:t}}){return{tables:await t.introspection.getTables()}},component(){const{tables:t}=tL.useLoaderData(),e=({dataType:i,isNullable:s})=>{const o=i.toLowerCase();let l=`z.never({message: '${i}'})`;switch(o){case"integer":{l="z.number().int()";break}case"float4":{l="z.number()";break}case"datetime":{l="z.string()";break}case"boolean":{l="withBoolSchema()";break}}return o.startsWith("varchar")&&(l=`z.string()${s?"":".min(1)"}`),`
// ${i} / ${s?"nullable":"not nullable"}
${l}${s?".nullish()":""}
`},n=t.map(i=>{const s=i.name.replaceAll("_","");return`
export const with${s}Schema = <
    TShapeSchema extends ShapeSchema,
    TFilterSchema extends FilterSchema,
>({
    shape,
    filter,
}: {
    shape: TShapeSchema;
    filter: TFilterSchema;
}) => {
    return withSourceSchema({
        entity: IdentitySchema.merge(z.object({
                ${i.columns.filter(({name:o})=>o!=="id").map(o=>`
    "${o.name}": ${e(o)}
        `.trim()).join(`,
			`)},
        })),
        shape,
        filter,
        sort: [${i.columns.map(o=>`"${o.name}"`).join(", ")}],
    });
}

export type ${s}Entity = ReturnType<typeof with${s}Schema>['~entity'];
            `.trim()}),r=t.map(i=>{const s=i.name.replaceAll("_","");return`${i.name}: ${s}Entity;`});return m.jsxs("pre",{children:[`
import {
    IdentitySchema,
    withSourceSchema,
    type FilterSchema,
    type ShapeSchema,
    withBoolSchema,
} from "@use-pico/common";
import { z } from "zod";
            `.trim(),`

${n.join(`

`)}`,`

export interface Database {
    ${r.join(`
	`)}
}
                `]})}}),sR=Js(),Mre=[sR({name:"name",header(){return m.jsx(ce,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=dr({from:"/$locale"});return m.jsx(Ir,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),sR({name:"login",header(){return m.jsx(ce,{label:"User login (label)"})},render({value:t}){return t},size:14})],$re=({table:t,...e})=>{const n=kr([["Management"],["User_Inventory"]]),r=_n({async mutationFn({userId:s}){return Qt.transaction().execute(o=>aE({tx:o,userId:s}))},async onSuccess(){await n()}}),i=_n({async mutationFn({userId:s}){return Qt.transaction().execute(async o=>{await aE({tx:o,userId:s}),await o.deleteFrom("Building").where("userId","=",s).execute(),await o.deleteFrom("Production").where("userId","=",s).execute(),await o.deleteFrom("Construction").where("userId","=",s).execute(),await o.deleteFrom("Cycle").where("userId","=",s).execute()})},async onSuccess(){await n()}});return m.jsx(Gs,{table:Zs({...t,columns:Mre}),action:{row({data:s}){return m.jsxs(Or,{children:[m.jsx(_T,{icon:ta,onClick:()=>{un.promise(r.mutateAsync({userId:s.id}),Cn("Apply default inventory"))},children:m.jsx(ce,{label:"Apply default inventory (menu)"})}),m.jsx(_T,{icon:vs,onClick:()=>{un.promise(i.mutateAsync({userId:s.id}),Cn("Reset game"))},children:m.jsx(ce,{label:"Reset game (menu)"})})]})}},...e})},Bre=Xne({shape:Y.object({name:Y.string().min(1),login:Y.string().min(1),password:Y.string().min(1)}),filter:Qs.merge(Y.object({login:Y.string().optional(),password:Y.string().optional()}))}),ly=Sn("/$locale/apps/derivean/root/user/list")({validateSearch:Ti(_s(Bre)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["User","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Vr({select:i.selectFrom("User as u").select(["u.id","u.name","u.login"]),output:Y.object({id:Y.string().min(1),name:Y.string().min(1),login:Y.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=ly.useLoaderData(),{filter:n,cursor:r,selection:i}=ly.useSearch(),s=ly.useNavigate(),{tva:o}=yi({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx($re,{table:{data:t,filter:{value:n,set:Ks(s)},selection:{type:"multi",value:i,set:qo(s)}},fulltext:{value:n?.fulltext,set:xs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of users (label)"}),...bs(s)}})})}}),zre=({entity:t,...e})=>{const{locale:n}=dr({from:"/$locale"});return m.jsxs(tf,{...e,children:[m.jsx(Ur,{icon:p1,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"View detail (menu)"})}),m.jsx(Ur,{icon:Ql,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"Building list (menu)"})}),m.jsx(Ur,{icon:ta,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"Inventory (menu)"})})]})},Wre=t=>{const{locale:e}=dr({from:"/$locale"});return m.jsx(sb,{title:({entity:n})=>m.jsx(ab,{icon:p1,title:n.name}),actions:()=>m.jsx(m.Fragment,{children:m.jsx(Ir,{icon:f1,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:m.jsx(ce,{label:"User list (label)"})})}),...t})},nL=Sn("/$locale/apps/derivean/root/user/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await ob({select:n.selectFrom("User as u").select(["u.id","u.name"]).where("u.id","=",e),output:Y.object({id:Y.string().min(1),name:Y.string().min(1)})})}))},component(){const{tva:t}=yi({from:"__root__"}),{entity:e}=nL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(Wre,{entity:e}),m.jsx(zre,{entity:e}),m.jsx(Ba,{})]})}}),cy=Sn("/$locale/apps/derivean/root/tag/list")({validateSearch:Ti(_s(em)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Tag","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>Vr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]).orderBy("t.sort","desc"),output:Y.object({id:Y.string().min(1),code:Y.string().min(1),label:Y.string().min(1),group:Y.string().nullish(),sort:Y.number().int().nonnegative()}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=cy.useLoaderData(),{filter:n,cursor:r,selection:i}=cy.useSearch(),s=cy.useNavigate(),{tva:o}=yi({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx($D,{table:{data:t,filter:{value:n,set:Ks(s)},selection:{type:"multi",value:i,set:qo(s)}},fulltext:{value:n?.fulltext,set:xs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of items"}),...bs(s)}})})}}),uy=Sn("/$locale/apps/derivean/root/resource/list")({validateSearch:Ti(_s(BD)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Resource","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Vr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>On`json_group_array(json_object(
                                            'id', ${o.ref("t.id")},
                                            'code', ${o.ref("t.code")},
                                            'group', ${o.ref("t.group")},
                                            'sort', ${o.ref("t.sort")},
                                            'label', ${o.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",s.selectFrom("Resource_Tag as rt").select("rt.tagId").whereRef("rt.resourceId","=","r.id")).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",u),d("r.name","like",u),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",u),f("t.label","like",u),f("t.group","like",u)])))]))}return l},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),countRequirement:Y.number().nonnegative(),countProduction:Y.number().nonnegative(),countProductionRequirement:Y.number().nonnegative(),tags:Zr(em.entity)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=uy.useLoaderData(),{filter:n,cursor:r,selection:i}=uy.useSearch(),s=uy.useNavigate(),{tva:o}=yi({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(zD,{table:{data:t,filter:{value:n,set:Ks(s)},selection:{type:"multi",value:i,set:qo(s)}},fulltext:{value:n?.fulltext,set:xs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of items"}),...bs(s)}})})}}),Ure=({entity:t,...e})=>{const{locale:n}=dr({from:"/$locale"});return m.jsx(tf,{...e,children:m.jsx(Ur,{icon:Jr,to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"View detail (menu)"})})})},Vre=t=>{const{locale:e}=dr({from:"/$locale"});return m.jsx(sb,{title:({entity:n})=>m.jsx(ab,{icon:Jr,title:n.name}),actions:()=>m.jsx(m.Fragment,{children:m.jsx(Ir,{icon:f1,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:m.jsx(ce,{label:"Resource list (label)"})})}),...t})},rL=Sn("/$locale/apps/derivean/root/resource/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Resource",n],async queryFn(){return e.transaction().execute(async r=>({entity:await ob({select:r.selectFrom("Resource as r").select(["r.id","r.name"]).where("r.id","=",n),output:Y.object({id:Y.string().min(1),name:Y.string().min(1)})})}))}})},component:()=>{const{tva:t}=yi({from:"__root__"}),{entity:e}=rL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(Vre,{entity:e}),m.jsx(Ure,{entity:e}),m.jsx(Ba,{})]})}}),iL=Gne({shape:Y.object({resourceId:Y.string().min(1),amount:Qc(),limit:Qc()}),filter:Qs}),oR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(iL.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ce,{label:"Resource name (label)"}),children:m.jsx(ko,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>m.jsx(tm,{textTitle:m.jsx(ce,{label:"Select resource (title)"}),allowEmpty:!0,...u})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ce,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ce,{label:"Limit (label)"}),hint:m.jsx(ce,{label:"Inventory limit (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:ta,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},L0=Js(),Hre=[L0({name:"name",header(){return m.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),L0({name:"amount",header(){return m.jsx(ce,{label:"Amount (label)"})},render({value:t}){return Xn({number:t})},size:12}),L0({name:"limit",header(){return m.jsx(ce,{label:"Inventory limit (label)"})},render({value:t,data:e}){return m.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[m.jsx("div",{children:Xn({number:t})}),m.jsx(nf,{value:100*e.amount/e.limit})]})},size:14})],Qre=({table:t,...e})=>{const n=kr([["Default_Inventory"]]);return m.jsx(Gs,{table:Zs({...t,columns:Hre}),action:{table(){return m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create inventory item (menu)"}),textTitle:m.jsx(ce,{label:"Create inventory item (modal)"}),icon:ta,children:m.jsx(oR,{mutation:_n({async mutationFn(r){return un.promise(Qt.transaction().execute(async i=>i.insertInto("Default_Inventory").values({id:Yn(),...r}).returningAll().executeTakeFirstOrThrow()),Cn("Create inventory item"))},async onSuccess(){await n()}})})})})},row({data:r}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit inventory item (modal)"}),icon:ta,children:m.jsx(oR,{defaultValues:r,mutation:_n({async mutationFn(i){return un.promise(Qt.transaction().execute(async s=>s.updateTable("Default_Inventory").set(i).where("id","=",r.id).returningAll().executeTakeFirstOrThrow()),Cn("Update inventory item"))},async onSuccess(){await n()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async i=>i.deleteFrom("Default_Inventory").where("id","=",r.id).execute()),textContent:m.jsx(ce,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:n})})]})}},...e})},dy=Sn("/$locale/apps/derivean/root/default/inventory")({validateSearch:Ti(_s(iL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Default_Inventory","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Vr({select:i.selectFrom("Default_Inventory as di").innerJoin("Resource as r","r.id","di.resourceId").select(["di.id","r.name","di.amount","di.limit","di.resourceId"]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("di.id","=",o.id)),o?.idIn&&(l=l.where("di.id","in",o.idIn)),o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("di.id","like",`%${u}%`),d("r.id","like",`%${u}%`),d("r.name","like",`%${u}%`),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",u),f("t.label","like",u),f("t.group","like",u)])))]))}return l},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number().nonnegative(),limit:Y.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=dy.useLoaderData(),{filter:n,cursor:r,selection:i}=dy.useSearch(),s=dy.useNavigate(),{tva:o}=yi({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(Qre,{table:{data:t,filter:{value:n,set:Ks(s)},selection:{type:"multi",value:i,set:qo(s)}},fulltext:{value:n?.fulltext,set:xs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of items"}),...bs(s)}})})}}),fy=Sn("/$locale/apps/derivean/root/blueprint/list")({validateSearch:Ti(_s(LD)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Vr({select:s.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.productionLimit",o=>o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(l=>On`json_group_array(json_object(
                                                'id', ${l.ref("br.id")},
                                                'amount', ${l.ref("br.amount")},
                                                'passive', ${l.ref("br.passive")},
                                                'resourceId', ${l.ref("br.resourceId")},
                                                'blueprintId', ${l.ref("br.blueprintId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),o=>o.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(l=>On`json_group_array(json_object(
                                                        'id', ${l.ref("bd.id")},
                                                        'dependencyId', ${l.ref("bd.dependencyId")},
                                                        'blueprintId', ${l.ref("bd.blueprintId")},
                                                        'name', ${l.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("bl.id","=",l.id)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(f=>f.or([f("bl.id","like",d),f("bl.name","like",d),f("bl.id","in",f.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(h=>h.or([h("r.name","like",d)]))),f("bl.id","in",f.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(h=>h.or([h("b.name","like",d)])))]))}return u},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),cycles:Y.number().nonnegative(),sort:Y.number().nonnegative(),productionLimit:Y.number().nonnegative(),requirements:Zr(ou.entity.merge(Y.object({name:Y.string().min(1)}))),dependencies:Zr(su.entity.merge(Y.object({name:Y.string().min(1)})))}),filter:n,cursor:r}))}}),dependencies:await e.transaction().execute(async s=>nm({tx:s}))}},component(){const{data:{data:t,count:e},dependencies:n}=fy.useLoaderData(),{filter:r,cursor:i,selection:s}=fy.useSearch(),o=fy.useNavigate(),{tva:l}=yi({from:"__root__"}),u=l().slots;return m.jsx("div",{className:u.base(),children:m.jsx(HD,{dependencies:n,table:{data:t,filter:{value:r,set:Ks(o)},selection:{type:"multi",value:s,set:qo(o)}},fulltext:{value:r?.fulltext,set:xs(o)},cursor:{count:e,cursor:i,textTotal:m.jsx(ce,{label:"Number of blueprints"}),...bs(o)}})})}}),Kre=({entity:t,...e})=>{const{locale:n}=dr({from:"/$locale"});return m.jsxs(tf,{...e,children:[m.jsx(Ur,{icon:Hr,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"View detail (menu)"})}),m.jsx(Ur,{icon:Ql,to:"/$locale/apps/derivean/root/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"Blueprint dependencies (menu)"})}),m.jsx(Ur,{icon:Jr,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"Required resources (menu)"})}),m.jsx(Ur,{icon:Kl,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"Resource production (menu)"})}),m.jsx(Ur,{icon:iF,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"Edit (menu)"})})]})},Gre=t=>{const{locale:e}=dr({from:"/$locale"});return m.jsx(sb,{title:({entity:n})=>m.jsx(ab,{icon:Hr,title:n.name}),actions:({entity:n})=>m.jsxs(m.Fragment,{children:[m.jsx(Ir,{icon:f1,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},children:m.jsx(ce,{label:"Blueprint list (label)"})}),m.jsx(Ir,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},search:{zoomTo:n.id},children:m.jsx(ce,{label:"Editor (label)"})})]}),...t})},sL=Sn("/$locale/apps/derivean/root/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>ob({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.productionLimit",s=>s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(o=>On`json_group_array(json_object(
                                                  'id', ${o.ref("br.id")},
                                                  'amount', ${o.ref("br.amount")},
                                                  'passive', ${o.ref("br.passive")},
                                                  'resourceId', ${o.ref("br.resourceId")},
                                                  'blueprintId', ${o.ref("br.blueprintId")},
                                                  'name', ${o.ref("r.name")}
                                              ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),s=>s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(o=>On`json_group_array(json_object(
                                                          'id', ${o.ref("bd.id")},
                                                          'dependencyId', ${o.ref("bd.dependencyId")},
                                                          'blueprintId', ${o.ref("bd.blueprintId")},
                                                          'name', ${o.ref("bl2.name")}
                                                      ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",u),d("bl.name","like",u),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(f=>f.or([f("r.name","like",u)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(f=>f.or([f("b.name","like",u)])))]))}return l},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),cycles:Y.number().nonnegative(),sort:Y.number().nonnegative(),productionLimit:Y.number().nonnegative(),requirements:Zr(ou.entity.merge(Y.object({name:Y.string().min(1)}))),dependencies:Zr(su.entity.merge(Y.object({name:Y.string().min(1)})))})}))}}),graph:await e.transaction().execute(async i=>nm({tx:i}))}},component(){const{tva:t}=yi({from:"__root__"}),{entity:e}=sL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(Gre,{entity:e}),m.jsx(Kre,{entity:e}),m.jsx(Ba,{})]})}}),Zre=Sn("/$locale/apps/derivean/root/user/$id/view")({component:()=>"yep"}),aR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(H1.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ce,{label:"Resource name (label)"}),children:m.jsx(ko,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>m.jsx(tm,{textTitle:m.jsx(ce,{label:"Select resource (title)"}),allowEmpty:!0,...u})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ce,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ce,{label:"Inventory limit (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:ta,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},M0=Js(),Jre=[M0({name:"name",header(){return m.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),M0({name:"amount",header(){return m.jsx(ce,{label:"Amount (label)"})},render({value:t}){return Xn({number:t})},size:12}),M0({name:"limit",header(){return m.jsx(ce,{label:"Inventory limit (label)"})},render({value:t,data:e}){return m.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[m.jsx("div",{children:Xn({number:t})}),m.jsx(nf,{value:100*e.amount/e.limit})]})},size:14})],Yre=({onCreate:t,table:e,...n})=>{const r=kr([["Inventory"],["User_Inventory"],["Building_Base_Production"]]);return m.jsx(Gs,{table:Zs({...e,columns:Jre}),action:{table:t?()=>m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create inventory item (menu)"}),textTitle:m.jsx(ce,{label:"Create inventory item (modal)"}),icon:ta,children:m.jsx(aR,{mutation:_n({async mutationFn(i){return un.promise(Qt.transaction().execute(async s=>{const o=await s.insertInto("Inventory").values({id:Yn(),...i}).returningAll().executeTakeFirstOrThrow();return await t?.({tx:s,entity:o}),o}),Cn("Create inventory item"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit inventory item (modal)"}),icon:ta,children:m.jsx(aR,{defaultValues:i,mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Cn("Update inventory item"))},async onSuccess(){await r()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.id).execute()),textContent:m.jsx(ce,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},ph=Sn("/$locale/apps/derivean/root/user/$id/inventory")({validateSearch:Ti(_s(H1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>Vr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","i.amount","i.limit"]).where("i.id","in",s.selectFrom("User_Inventory as ui").where("ui.userId","=",i).select("ui.inventoryId")).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("i.id","=",l.id)),l?.idIn&&(u=u.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return u},output:Y.object({id:Y.string().min(1),resourceId:Y.string().min(1),name:Y.string().min(1),amount:Y.number().nonnegative(),limit:Y.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=ph.useLoaderData(),{filter:n,cursor:r,selection:i}=ph.useSearch(),s=ph.useNavigate(),{id:o}=ph.useParams(),{tva:l}=yi({from:"__root__"}),u=l().slots;return m.jsx("div",{className:u.base(),children:m.jsx(Yre,{onCreate:async({tx:d,entity:f})=>d.insertInto("User_Inventory").values({id:Yn(),userId:o,inventoryId:f.id}).execute(),table:{data:t,filter:{value:n,set:Ks(s)},selection:{type:"multi",value:i,set:qo(s)}},fulltext:{value:n?.fulltext,set:xs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of items"}),...bs(s)}})})}}),Xre=Sn("/$locale/apps/derivean/root/resource/$id/view")({component:()=>m.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),eie=({entity:t,...e})=>{const{locale:n}=dr({from:"/$locale"});return m.jsx(tf,{...e,children:m.jsx(Ur,{icon:MD,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:m.jsx(ce,{label:"Production requirements (menu)"})})})},tie=t=>{const{locale:e}=dr({from:"/$locale"});return m.jsx(sb,{title:({entity:n})=>m.jsx(ab,{icon:Kl,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>m.jsx(m.Fragment,{children:m.jsx(Ir,{icon:Hr,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:m.jsx(ce,{label:"Building base detail (label)"})})}),...t})},oL=Sn("/$locale/apps/derivean/root/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await ob({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","bp.limit","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:Y.object({id:Y.string().min(1),resource:Y.string().min(1),blueprint:Y.string().min(1),blueprintId:Y.string().min(1),amount:Y.number().nonnegative(),cycles:Y.number().int().nonnegative(),limit:Y.number().int().nonnegative()})})}))}})},component(){const{entity:t}=oL.useLoaderData(),{tva:e}=yi({from:"__root__"}),n=e().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(tie,{entity:t}),m.jsx(eie,{entity:t}),m.jsx(Ba,{})]})}}),nie=({graph:t,blueprintId:e,mode:n="dependencies",reverse:r=!1})=>{try{const i=(s=>r?s.reverse():s)(n==="dependants"?t.dependantsOf(e):t.dependenciesOf(e));return m.jsxs("div",{className:Lr(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:[i.length>0?m.jsx(Xt,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):m.jsx(Xt,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(s=>m.jsx(Ra,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(s)},Yn())):m.jsx(ce,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof U1.DepGraphCycleError?m.jsxs("div",{className:Lr(["flex","flex-row","gap-2","items-center"]),children:[m.jsx(Xt,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(s=>m.jsx(Ra,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(s)},Yn()))]}):"kaboom"}},rie=({dependencies:t,...e})=>m.jsx(qH,{items:[{id:"name",label:m.jsx(ce,{label:"Building name (label)"}),render({entity:n}){return n.name}},{id:"cycles",label:m.jsx(ce,{label:"Construction cycles (label)"}),render({entity:n}){return Xn({number:n.cycles})}},{id:"productionLimit",label:m.jsx(ce,{label:"Production limit (label)"}),render({entity:n}){return Xn({number:n.productionLimit})}},{id:"requirements",label:m.jsx(ce,{label:"Required resources (label)"}),render({entity:n}){return m.jsx(W1,{requirements:n.requirements,textEmpty:m.jsx(ce,{label:"No requirements (label)"})})}},{id:"dependencies",label:m.jsx(ce,{label:"Blueprint dependencies (label)"}),render({entity:n}){return m.jsx(VD,{dependencies:n.dependencies,textEmpty:m.jsx(ce,{label:"No dependencies (label)"})})}},{id:"deps",label:m.jsx(ce,{label:"Blueprint dependency graph (label)"}),render({entity:n}){return m.jsx(nie,{graph:t,blueprintId:n.id})}}],...e}),aL=Sn("/$locale/apps/derivean/root/blueprint/$id/view")({async loader({context:{kysely:t}}){return{dependencies:await t.transaction().execute(async e=>nm({tx:e}))}},component(){const{dependencies:t}=aL.useLoaderData(),{entity:e}=eu({from:"/$locale/apps/derivean/root/blueprint/$id"});return m.jsx("div",{className:"w-1/2 mx-auto",children:m.jsx(rie,{dependencies:t,entity:e})})}}),mh=Sn("/$locale/apps/derivean/root/blueprint/$id/requirements")({validateSearch:Ti(_s(ou)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Vr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("br.id","=",l.id)),l?.idIn&&(u=u.where("br.id","in",l.idIn)),l?.resourceId&&(u=u.where("br.resourceId","=",l.resourceId)),u},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number().nonnegative(),passive:Ws()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=mh.useLoaderData(),{filter:n,cursor:r,selection:i}=mh.useSearch(),{id:s}=mh.useParams(),o=mh.useNavigate(),{tva:l}=yi({from:"__root__"}),u=l().slots;return m.jsx("div",{className:u.base(),children:m.jsx(KD,{blueprintId:s,table:{data:t,filter:{value:n,set:Ks(o)},selection:{type:"multi",value:i,set:qo(o)}},fulltext:{value:n?.fulltext,set:xs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of requirements (label)"}),...bs(o)}})})}}),gh=Sn("/$locale/apps/derivean/root/blueprint/$id/production")({validateSearch:Ti(_s(WD)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Vr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.limit","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>On`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:Y.object({id:Y.string().min(1),name:Y.string().min(1),blueprintId:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number().nonnegative(),limit:Y.number().nonnegative(),cycles:Y.number().nonnegative(),requirements:Zr(wb.entity.merge(Y.object({name:Y.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=gh.useLoaderData(),{filter:n,cursor:r,selection:i}=gh.useSearch(),{id:s}=gh.useParams(),o=gh.useNavigate(),{tva:l}=yi({from:"__root__"}),u=l().slots;return m.jsx("div",{className:u.base(),children:m.jsx(QD,{blueprintId:s,table:{data:t,filter:{value:n,set:Ks(o)},selection:{type:"multi",value:i,set:qo(o)}},fulltext:{value:n?.fulltext,set:xs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of productions (label)"}),...bs(o)}})})}}),lL=Sn("/$locale/apps/derivean/root/blueprint/$id/edit")({component:()=>{const{entity:t}=eu({from:"/$locale/apps/derivean/root/blueprint/$id"}),e=lL.useNavigate(),n=kr([["Blueprint"]]);return m.jsx("div",{className:"w-1/2 mx-auto",children:m.jsx(_p,{defaultValues:t,mutation:_n({async mutationFn(r){return un.promise(Qt.transaction().execute(async i=>i.updateTable("Blueprint").set(r).where("id","=",t.id).returningAll().executeTakeFirstOrThrow()),Cn("Update blueprint"))},async onSuccess(){await n(),e({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{id:t.id}})}})})})}}),lR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(su.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"dependencyId",label:m.jsx(ce,{label:"Blueprint dependency (label)"}),children:m.jsx(ko,{control:s.control,name:"dependencyId",render:({field:{ref:l,...u}})=>m.jsx(V1,{textTitle:m.jsx(ce,{label:"Select blueprint (title)"}),allowEmpty:!0,...u})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:Hr,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},iie=Js(),sie=[iie({name:"name",header(){return m.jsx(ce,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=dr({from:"/$locale"});return m.jsx(Ir,{icon:Hr,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:12})],oie=({blueprintId:t,table:e,...n})=>{const r=kr([["Blueprint_Dependency"],["Blueprint"]]);return m.jsx(Gs,{table:Zs({...e,columns:sie}),action:{table(){return m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create blueprint dependency (menu)"}),textTitle:m.jsx(ce,{label:"Create blueprint dependency (modal)"}),icon:Hr,children:({close:i})=>m.jsx(lR,{mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Dependency").values({id:Yn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await sE({tx:o}),l}),Cn("Create blueprint dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit blueprint dependency (modal)"}),icon:Hr,children:({close:s})=>m.jsx(lR,{defaultValues:i,mutation:_n({async mutationFn(o){return un.promise(Qt.transaction().execute(async l=>l.updateTable("Blueprint_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Cn("Update blueprint dependency"))},async onSuccess(){await r(),s()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete blueprint dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async s=>s.deleteFrom("Blueprint_Dependency").where("id","=",i.id).execute()),textContent:m.jsx(ce,{label:"Delete blueprint dependency (content)"}),textToast:"Delete blueprint dependency",invalidator:r})})]})}},...n})},yh=Sn("/$locale/apps/derivean/root/blueprint/$id/dependencies")({validateSearch:Ti(_s(su)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Vr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bd.id","=",l.id)),l?.idIn&&(u=u.where("bd.id","in",l.idIn)),l?.blueprintId&&(u=u.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(u=u.where("bd.dependencyId","=",l.dependencyId)),u},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),blueprintId:Y.string().min(1),dependencyId:Y.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=yh.useLoaderData(),{filter:n,cursor:r,selection:i}=yh.useSearch(),{id:s}=yh.useParams(),o=yh.useNavigate(),{tva:l}=yi({from:"__root__"}),u=l().slots;return m.jsx("div",{className:u.base(),children:m.jsx(oie,{blueprintId:s,table:{data:t,filter:{value:n,set:Ks(o)},selection:{type:"multi",value:i,set:qo(o)}},fulltext:{value:n?.fulltext,set:xs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of requirements (label)"}),...bs(o)}})})}}),cL=Kne({shape:Y.object({blueprintId:Y.string().min(1)}),filter:Qs.merge(Y.object({userId:Y.string().optional(),blueprintId:Y.string().optional(),name:Y.string().optional()}))}),cR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=ws({resolver:Ss(cL.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Ji,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"blueprintId",label:m.jsx(ce,{label:"Select blueprint (label)"}),children:m.jsx(ko,{control:s.control,name:"blueprintId",render:({field:{ref:l,...u}})=>m.jsx(V1,{allowEmpty:!0,...u})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(sr,{iconEnabled:Ql,type:"submit",children:m.jsx(ce,{label:"Save (submit)"})})})]})},aie=Js(),lie=[aie({name:"name",header(){return m.jsx(ce,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=dr({from:"/$locale"});return m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(Ir,{icon:Hr,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId}}),e]})},size:14})],cie=({userId:t,table:e,...n})=>{const r=kr([["Building"]]);return m.jsx(Gs,{table:Zs({...e,columns:lie}),action:{table:t?()=>m.jsx(Or,{children:m.jsx(Pn,{label:m.jsx(ce,{label:"Create building (menu)"}),textTitle:m.jsx(ce,{label:"Create building (modal)"}),icon:Jr,children:m.jsx(cR,{mutation:_n({async mutationFn(i){return un.promise(Qt.transaction().execute(s=>s.insertInto("Building").values({id:Yn(),...i,userId:t}).returningAll().executeTakeFirstOrThrow()),Cn("Create building"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return m.jsxs(Or,{children:[m.jsx(Pn,{label:m.jsx(ce,{label:"Edit (menu)"}),textTitle:m.jsx(ce,{label:"Edit building (modal)"}),icon:Ql,children:m.jsx(cR,{defaultValues:i,mutation:_n({async mutationFn(s){return un.promise(Qt.transaction().execute(o=>o.updateTable("Building").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Cn("Edit building"))},async onSuccess(){await r()}})})}),m.jsx(Pn,{icon:vs,label:m.jsx(ce,{label:"Delete (menu)"}),textTitle:m.jsx(ce,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(Ro,{callback:async()=>Qt.transaction().execute(async s=>s.deleteFrom("Building").where("id","=",i.id).execute()),textContent:m.jsx(ce,{label:"Building delete (content)"}),textToast:"Building delete",invalidator:r})})]})}},...n})},vh=Sn("/$locale/apps/derivean/root/user/$id/building/list")({validateSearch:Ti(_s(cL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>Vr({select:s.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.blueprintId"]).where("b.userId","=",i),output:Y.object({id:Y.string().min(1),name:Y.string().min(1),blueprintId:Y.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=vh.useLoaderData(),{filter:n,cursor:r,selection:i}=vh.useSearch(),{id:s}=vh.useParams(),o=vh.useNavigate(),{tva:l}=yi({from:"__root__"}),u=l().slots;return m.jsx("div",{className:u.base(),children:m.jsx(cie,{userId:s,table:{data:t,filter:{value:n,set:Ks(o)},selection:{type:"multi",value:i,set:qo(o)}},fulltext:{value:n?.fulltext,set:xs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of buildings (label)"}),...bs(o)}})})}}),bh=Sn("/$locale/apps/derivean/root/blueprint/production/$id/requirements")({validateSearch:Ti(_s(wb)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Vr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:Y.object({id:Y.string().min(1),name:Y.string().min(1),resourceId:Y.string().min(1),amount:Y.number().nonnegative(),passive:Ws()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=bh.useLoaderData(),{filter:n,cursor:r,selection:i}=bh.useSearch(),{id:s}=bh.useParams(),o=bh.useNavigate();return m.jsx(m.Fragment,{children:m.jsx(UD,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Ks(o)},selection:{type:"multi",value:i,set:qo(o)}},fulltext:{value:n?.fulltext,set:xs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ce,{label:"Number of production requirements (label)"}),...bs(o)}})})}}),Q1=FK.update({id:"/$locale",path:"/$locale",getParentRoute:()=>y1}),uie=MK.update({id:"/",path:"/",getParentRoute:()=>y1}),die=$K.update({id:"/",path:"/",getParentRoute:()=>Q1}),au=zK.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>Q1}),Ys=VK.update({id:"/root",path:"/root",getParentRoute:()=>au}),rm=KK.update({id:"/game",path:"/game",getParentRoute:()=>au}),fie=XK.update({id:"/",path:"/",getParentRoute:()=>Ys}),hie=eG.update({id:"/",path:"/",getParentRoute:()=>rm}),pie=oE.update({id:"/editor",path:"/editor",getParentRoute:()=>Ys}),mie=vre.update({id:"/public/register",path:"/public/register",getParentRoute:()=>au}),gie=bre.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>au}),yie=Sre.update({id:"/public/login",path:"/public/login",getParentRoute:()=>au}),vie=lE.update({id:"/map",path:"/map",getParentRoute:()=>rm}),bie=oy.update({id:"/management",path:"/management",getParentRoute:()=>rm}),xie=ay.update({id:"/inventory",path:"/inventory",getParentRoute:()=>rm}),_ie=tL.update({id:"/db/schema",path:"/db/schema",getParentRoute:()=>au}),wie=ly.update({id:"/user/list",path:"/user/list",getParentRoute:()=>Ys}),Sb=nL.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>Ys}),Sie=cy.update({id:"/tag/list",path:"/tag/list",getParentRoute:()=>Ys}),Eie=uy.update({id:"/resource/list",path:"/resource/list",getParentRoute:()=>Ys}),uL=rL.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>Ys}),Nie=dy.update({id:"/default/inventory",path:"/default/inventory",getParentRoute:()=>Ys}),kie=fy.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>Ys}),rf=sL.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>Ys}),Iie=Zre.update({id:"/view",path:"/view",getParentRoute:()=>Sb}),Cie=ph.update({id:"/inventory",path:"/inventory",getParentRoute:()=>Sb}),Tie=Xre.update({id:"/view",path:"/view",getParentRoute:()=>uL}),dL=oL.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>Ys}),Oie=aL.update({id:"/view",path:"/view",getParentRoute:()=>rf}),qie=mh.update({id:"/requirements",path:"/requirements",getParentRoute:()=>rf}),Rie=gh.update({id:"/production",path:"/production",getParentRoute:()=>rf}),Aie=lL.update({id:"/edit",path:"/edit",getParentRoute:()=>rf}),jie=yh.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>rf}),Pie=vh.update({id:"/building/list",path:"/building/list",getParentRoute:()=>Sb}),Fie=bh.update({id:"/requirements",path:"/requirements",getParentRoute:()=>dL}),Die={LocaleAppsDeriveanGameInventoryRoute:xie,LocaleAppsDeriveanGameManagementRoute:bie,LocaleAppsDeriveanGameMapRoute:vie,LocaleAppsDeriveanGameIndexRoute:hie},Lie=rm._addFileChildren(Die),Mie={LocaleAppsDeriveanRootBlueprintIdDependenciesRoute:jie,LocaleAppsDeriveanRootBlueprintIdEditRoute:Aie,LocaleAppsDeriveanRootBlueprintIdProductionRoute:Rie,LocaleAppsDeriveanRootBlueprintIdRequirementsRoute:qie,LocaleAppsDeriveanRootBlueprintIdViewRoute:Oie},$ie=rf._addFileChildren(Mie),Bie={LocaleAppsDeriveanRootResourceIdViewRoute:Tie},zie=uL._addFileChildren(Bie),Wie={LocaleAppsDeriveanRootUserIdInventoryRoute:Cie,LocaleAppsDeriveanRootUserIdViewRoute:Iie,LocaleAppsDeriveanRootUserIdBuildingListRoute:Pie},Uie=Sb._addFileChildren(Wie),Vie={LocaleAppsDeriveanRootBlueprintProductionIdRequirementsRoute:Fie},Hie=dL._addFileChildren(Vie),Qie={LocaleAppsDeriveanRootEditorRoute:pie,LocaleAppsDeriveanRootIndexRoute:fie,LocaleAppsDeriveanRootBlueprintIdRoute:$ie,LocaleAppsDeriveanRootBlueprintListRoute:kie,LocaleAppsDeriveanRootDefaultInventoryRoute:Nie,LocaleAppsDeriveanRootResourceIdRoute:zie,LocaleAppsDeriveanRootResourceListRoute:Eie,LocaleAppsDeriveanRootTagListRoute:Sie,LocaleAppsDeriveanRootUserIdRoute:Uie,LocaleAppsDeriveanRootUserListRoute:wie,LocaleAppsDeriveanRootBlueprintProductionIdRoute:Hie},Kie=Ys._addFileChildren(Qie),Gie={LocaleAppsDeriveanGameRoute:Lie,LocaleAppsDeriveanRootRoute:Kie,LocaleAppsDeriveanDbSchemaRoute:_ie,LocaleAppsDeriveanPublicLoginRoute:yie,LocaleAppsDeriveanPublicLogoutRoute:gie,LocaleAppsDeriveanPublicRegisterRoute:mie},Zie=au._addFileChildren(Gie),Jie={LocaleIndexRoute:die,LocaleAppsDeriveanRoute:Zie},Yie=Q1._addFileChildren(Jie),Xie={IndexRoute:uie,LocaleRoute:Yie},ese=y1._addFileChildren(Xie)._addFileTypes(),fL=new DM({defaultOptions:{queries:{placeholderData:EM}}}),tse=A4({routeTree:ese,context:{queryClient:fL,tva:RH,async session(){return lb.parse(null)},kysely:Qt},defaultPendingComponent:nv,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),uR=document.getElementById("app");L6({limit:{maxRequests:10,perMilliseconds:100}});uR.innerHTML||AK.createRoot(uR).render(m.jsx(WM,{client:fL,children:m.jsx(s$,{router:tse})}))})();