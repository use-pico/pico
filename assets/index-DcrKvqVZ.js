(async()=>{function P$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function F$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ow={exports:{}},cp={},qw={exports:{}},Nn={};var ZI;function D$(){if(ZI)return Nn;ZI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=h&&X[h]||X["@@iterator"],typeof X=="function"?X:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function I(X,ue,de){this.props=X,this.context=ue,this.refs=E,this.updater=de||x}I.prototype.isReactComponent={},I.prototype.setState=function(X,ue){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ue,"setState")},I.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function T(){}T.prototype=I.prototype;function R(X,ue,de){this.props=X,this.context=ue,this.refs=E,this.updater=de||x}var O=R.prototype=new T;O.constructor=R,_(O,I.prototype),O.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,L={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function P(X,ue,de){var ye,we={},Ne=null,ze=null;if(ue!=null)for(ye in ue.ref!==void 0&&(ze=ue.ref),ue.key!==void 0&&(Ne=""+ue.key),ue)D.call(ue,ye)&&!W.hasOwnProperty(ye)&&(we[ye]=ue[ye]);var Oe=arguments.length-2;if(Oe===1)we.children=de;else if(1<Oe){for(var De=Array(Oe),Je=0;Je<Oe;Je++)De[Je]=arguments[Je+2];we.children=De}if(X&&X.defaultProps)for(ye in Oe=X.defaultProps,Oe)we[ye]===void 0&&(we[ye]=Oe[ye]);return{$$typeof:t,type:X,key:Ne,ref:ze,props:we,_owner:L.current}}function q(X,ue){return{$$typeof:t,type:X.type,key:ue,ref:X.ref,props:X.props,_owner:X._owner}}function M(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function F(X){var ue={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(de){return ue[de]})}var V=/\/+/g;function U(X,ue){return typeof X=="object"&&X!==null&&X.key!=null?F(""+X.key):ue.toString(36)}function z(X,ue,de,ye,we){var Ne=typeof X;(Ne==="undefined"||Ne==="boolean")&&(X=null);var ze=!1;if(X===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(X.$$typeof){case t:case e:ze=!0}}if(ze)return ze=X,we=we(ze),X=ye===""?"."+U(ze,0):ye,A(we)?(de="",X!=null&&(de=X.replace(V,"$&/")+"/"),z(we,ue,de,"",function(Je){return Je})):we!=null&&(M(we)&&(we=q(we,de+(!we.key||ze&&ze.key===we.key?"":(""+we.key).replace(V,"$&/")+"/")+X)),ue.push(we)),1;if(ze=0,ye=ye===""?".":ye+":",A(X))for(var Oe=0;Oe<X.length;Oe++){Ne=X[Oe];var De=ye+U(Ne,Oe);ze+=z(Ne,ue,de,De,we)}else if(De=b(X),typeof De=="function")for(X=De.call(X),Oe=0;!(Ne=X.next()).done;)Ne=Ne.value,De=ye+U(Ne,Oe++),ze+=z(Ne,ue,de,De,we);else if(Ne==="object")throw ue=String(X),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return ze}function ee(X,ue,de){if(X==null)return X;var ye=[],we=0;return z(X,ye,"","",function(Ne){return ue.call(de,Ne,we++)}),ye}function Z(X){if(X._status===-1){var ue=X._result;ue=ue(),ue.then(function(de){(X._status===0||X._status===-1)&&(X._status=1,X._result=de)},function(de){(X._status===0||X._status===-1)&&(X._status=2,X._result=de)}),X._status===-1&&(X._status=0,X._result=ue)}if(X._status===1)return X._result.default;throw X._result}var le={current:null},se={transition:null},te={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:se,ReactCurrentOwner:L};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Nn.Children={map:ee,forEach:function(X,ue,de){ee(X,function(){ue.apply(this,arguments)},de)},count:function(X){var ue=0;return ee(X,function(){ue++}),ue},toArray:function(X){return ee(X,function(ue){return ue})||[]},only:function(X){if(!M(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Nn.Component=I,Nn.Fragment=n,Nn.Profiler=i,Nn.PureComponent=R,Nn.StrictMode=r,Nn.Suspense=u,Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Nn.act=oe,Nn.cloneElement=function(X,ue,de){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var ye=_({},X.props),we=X.key,Ne=X.ref,ze=X._owner;if(ue!=null){if(ue.ref!==void 0&&(Ne=ue.ref,ze=L.current),ue.key!==void 0&&(we=""+ue.key),X.type&&X.type.defaultProps)var Oe=X.type.defaultProps;for(De in ue)D.call(ue,De)&&!W.hasOwnProperty(De)&&(ye[De]=ue[De]===void 0&&Oe!==void 0?Oe[De]:ue[De])}var De=arguments.length-2;if(De===1)ye.children=de;else if(1<De){Oe=Array(De);for(var Je=0;Je<De;Je++)Oe[Je]=arguments[Je+2];ye.children=Oe}return{$$typeof:t,type:X.type,key:we,ref:Ne,props:ye,_owner:ze}},Nn.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},Nn.createElement=P,Nn.createFactory=function(X){var ue=P.bind(null,X);return ue.type=X,ue},Nn.createRef=function(){return{current:null}},Nn.forwardRef=function(X){return{$$typeof:l,render:X}},Nn.isValidElement=M,Nn.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:Z}},Nn.memo=function(X,ue){return{$$typeof:d,type:X,compare:ue===void 0?null:ue}},Nn.startTransition=function(X){var ue=se.transition;se.transition={};try{X()}finally{se.transition=ue}},Nn.unstable_act=oe,Nn.useCallback=function(X,ue){return le.current.useCallback(X,ue)},Nn.useContext=function(X){return le.current.useContext(X)},Nn.useDebugValue=function(){},Nn.useDeferredValue=function(X){return le.current.useDeferredValue(X)},Nn.useEffect=function(X,ue){return le.current.useEffect(X,ue)},Nn.useId=function(){return le.current.useId()},Nn.useImperativeHandle=function(X,ue,de){return le.current.useImperativeHandle(X,ue,de)},Nn.useInsertionEffect=function(X,ue){return le.current.useInsertionEffect(X,ue)},Nn.useLayoutEffect=function(X,ue){return le.current.useLayoutEffect(X,ue)},Nn.useMemo=function(X,ue){return le.current.useMemo(X,ue)},Nn.useReducer=function(X,ue,de){return le.current.useReducer(X,ue,de)},Nn.useRef=function(X){return le.current.useRef(X)},Nn.useState=function(X){return le.current.useState(X)},Nn.useSyncExternalStore=function(X,ue,de){return le.current.useSyncExternalStore(X,ue,de)},Nn.useTransition=function(){return le.current.useTransition()},Nn.version="18.3.1",Nn}var YI;function Hh(){return YI||(YI=1,qw.exports=D$()),qw.exports}var XI;function L$(){if(XI)return cp;XI=1;var t=Hh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var p,h={},b=null,x=null;d!==void 0&&(b=""+d),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(x=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(h[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:e,type:l,key:b,ref:x,props:h,_owner:i.current}}return cp.Fragment=n,cp.jsx=o,cp.jsxs=o,cp}var eC;function M$(){return eC||(eC=1,Ow.exports=L$()),Ow.exports}var f=M$(),Yd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gc=typeof window>"u"||"Deno"in globalThis;function Xs(){}function $$(t,e){return typeof t=="function"?t(e):t}function jS(t){return typeof t=="number"&&t>=0&&t!==1/0}function b3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function pd(t,e){return typeof t=="function"?t(e):t}function Eo(t,e){return typeof t=="function"?t(e):t}function tC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==nN(o,e.options))return!1}else if(!ih(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function nC(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Jc(e.options.mutationKey)!==Jc(s))return!1}else if(!ih(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function nN(t,e){return(e?.queryKeyHashFn||Jc)(t)}function Jc(t){return JSON.stringify(t,(e,n)=>AS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ih(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ih(t[n],e[n])):!1}function rN(t,e){if(t===e)return t;const n=rC(t)&&rC(e);if(n||AS(t)&&AS(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let u=0;for(let d=0;d<o;d++){const p=n?d:s[d];(!n&&r.includes(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,u++):(l[p]=rN(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function Jy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function rC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function AS(t){if(!iC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!iC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function iC(t){return Object.prototype.toString.call(t)==="[object Object]"}function B$(t){return new Promise(e=>{setTimeout(e,t)})}function PS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rN(t,e):e}function z$(t){return t}function W$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function V$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var iN=Symbol();function v3(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===iN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var U$=class extends Yd{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Gc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},sN=new U$,H$=class extends Yd{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Gc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Zy=new H$;function FS(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Q$(t){return Math.min(1e3*2**t,3e4)}function x3(t){return(t??"online")==="online"?Zy.isOnline():!0}var w3=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function jw(t){return t instanceof w3}function _3(t){let e=!1,n=0,r=!1,i;const s=FS(),o=E=>{r||(b(new w3(E)),t.abort?.())},l=()=>{e=!0},u=()=>{e=!1},d=()=>sN.isFocused()&&(t.networkMode==="always"||Zy.isOnline())&&t.canRun(),p=()=>x3(t.networkMode)&&t.canRun(),h=E=>{r||(r=!0,t.onSuccess?.(E),i?.(),s.resolve(E))},b=E=>{r||(r=!0,t.onError?.(E),i?.(),s.reject(E))},x=()=>new Promise(E=>{i=I=>{(r||d())&&E(I)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),_=()=>{if(r)return;let E;const I=n===0?t.initialPromise:void 0;try{E=I??t.fn()}catch(T){E=Promise.reject(T)}Promise.resolve(E).then(h).catch(T=>{if(r)return;const R=t.retry??(Gc?0:3),O=t.retryDelay??Q$,A=typeof O=="function"?O(n,T):O,D=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,T);if(e||!D){b(T);return}n++,t.onFail?.(n,T),B$(A).then(()=>d()?void 0:x()).then(()=>{e?b(T):_()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:u,canStart:p,start:()=>(p()?_():x().then(_),s)}}function K$(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Kr=K$(),S3=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gc?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},G$=class extends S3{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=J$(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=PS(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Eo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!b3(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=v3(this.options,e),u={queryKey:this.queryKey,meta:this.meta};return r(u),this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta});const o=l=>{jw(l)&&l.silent||this.#o({type:"error",error:l}),jw(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=_3({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(u){o(u);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,u)=>{this.#o({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...E3(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return jw(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Kr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function E3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x3(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function J$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Z$=class extends Yd{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??nN(r,e);let s=this.get(i);return s||(s=new G$({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>tC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>tC(t,n)):e}notify(t){Kr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Y$=class extends S3{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||N3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=_3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Kr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function N3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var X$=class extends Yd{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Y$({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=kg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=kg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=kg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=kg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Kr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>nC(e,n))}findAll(t={}){return this.getAll().filter(e=>nC(t,e))}notify(t){Kr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Kr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xs))))}};function kg(t){return t.options.scope?.id}function sC(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let p=!1;const h=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=v3(e.options,e.fetchOptions),x=async(_,E,I)=>{if(p)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const T={queryKey:e.queryKey,pageParam:E,direction:I?"backward":"forward",meta:e.options.meta};h(T);const R=await b(T),{maxPages:O}=e.options,A=I?V$:W$;return{pages:A(_.pages,R,O),pageParams:A(_.pageParams,E,O)}};if(i&&s.length){const _=i==="backward",E=_?eB:oC,I={pages:s,pageParams:o},T=E(r,I);l=await x(I,T,_)}else{const _=t??s.length;do{const E=u===0?o[0]??r.initialPageParam:oC(r,l);if(u>0&&E==null)break;l=await x(l,E),u++}while(u<_)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function oC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function eB(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var tB=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new Z$,this.#t=t.mutationCache||new X$,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=sN.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Zy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(pd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=$$(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Kr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Kr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Kr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Kr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Xs).catch(Xs)}invalidateQueries(t,e={}){return Kr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Kr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Xs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Xs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(pd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xs).catch(Xs)}fetchInfiniteQuery(t){return t.behavior=sC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xs).catch(Xs)}ensureInfiniteQueryData(t){return t.behavior=sC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{ih(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{ih(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===iN&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},nB=class extends Yd{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=FS(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#c;#l;#u;#d;#p;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),aC(this.#t,this.options)?this.#h():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return DS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return DS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Eo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!Jy(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&lC(this.#t,r,this.options,n)&&this.#h(),this.updateResult(e),i&&(this.#t!==r||Eo(this.options.enabled,this.#t)!==Eo(n.enabled,this.#t)||pd(this.options.staleTime,this.#t)!==pd(n.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==r||Eo(this.options.enabled,this.#t)!==Eo(n.enabled,this.#t)||s!==this.#f)&&this.#b(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return iB(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Xs)),e}#g(){this.#x();const t=pd(this.options.staleTime,this.#t);if(Gc||this.#r.isStale||!jS(t))return;const n=b3(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#f=t,!(Gc||Eo(this.options.enabled,this.#t)===!1||!jS(this.#f)||this.#f===0)&&(this.#p=setInterval(()=>{(this.options.refetchIntervalInBackground||sN.isFocused())&&this.#h()},this.#f))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#p&&(clearInterval(this.#p),this.#p=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,s=this.#i,o=this.#s,u=t!==n?t.state:this.#n,{state:d}=t;let p={...d},h=!1,b;if(e._optimisticResults){const W=this.hasListeners(),P=!W&&aC(t,e),q=W&&lC(t,n,e,r);(P||q)&&(p={...p,...E3(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:_,status:E}=p;if(e.select&&p.data!==void 0)if(i&&p.data===s?.data&&e.select===this.#c)b=this.#l;else try{this.#c=e.select,b=e.select(p.data),b=PS(i?.data,b,e),this.#l=b,this.#a=null}catch(W){this.#a=W}else b=p.data;if(e.placeholderData!==void 0&&b===void 0&&E==="pending"){let W;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)W=i.data;else if(W=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,e.select&&W!==void 0)try{W=e.select(W),this.#a=null}catch(P){this.#a=P}W!==void 0&&(E="success",b=PS(i?.data,W,e),h=!0)}this.#a&&(x=this.#a,b=this.#l,_=Date.now(),E="error");const I=p.fetchStatus==="fetching",T=E==="pending",R=E==="error",O=T&&I,A=b!==void 0,L={status:E,fetchStatus:p.fetchStatus,isPending:T,isSuccess:E==="success",isError:R,isInitialLoading:O,isLoading:O,data:b,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:I,isRefetching:I&&!T,isLoadingError:R&&!A,isPaused:p.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:R&&A,isStale:oN(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const W=M=>{L.status==="error"?M.reject(L.error):L.data!==void 0&&M.resolve(L.data)},P=()=>{const M=this.#o=L.promise=FS();W(M)},q=this.#o;switch(q.status){case"pending":t.queryHash===n.queryHash&&W(q);break;case"fulfilled":(L.status==="error"||L.data!==q.value)&&P();break;case"rejected":(L.status!=="error"||L.error!==q.reason)&&P();break}}return L}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#u=this.#t),Jy(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(u=>{const d=u;return this.#r[d]!==e[d]&&l.has(d)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(t){Kr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function rB(t,e){return Eo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function aC(t,e){return rB(t,e)||t.state.data!==void 0&&DS(t,e,e.refetchOnMount)}function DS(t,e,n){if(Eo(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&oN(t,e)}return!1}function lC(t,e,n,r){return(t!==e||Eo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&oN(t,n)}function oN(t,e){return Eo(e.enabled,t)!==!1&&t.isStaleByTime(pd(e.staleTime,t))}function iB(t,e){return!Jy(t.getCurrentResult(),e)}var sB=class extends Yd{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Jy(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Jc(n.mutationKey)!==Jc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??N3();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Kr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},K=Hh();const $n=co(K),oB=P$({__proto__:null,default:$n},[K]);var k3=K.createContext(void 0),nv=t=>{const e=K.useContext(k3);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},aB=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(k3.Provider,{value:t,children:e})),I3=K.createContext(!1),lB=()=>K.useContext(I3);I3.Provider;function cB(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var uB=K.createContext(cB()),dB=()=>K.useContext(uB);function C3(t,e){return typeof t=="function"?t(...e):!!t}function LS(){}var fB=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},pB=t=>{K.useEffect(()=>{t.clearReset()},[t])},hB=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&C3(n,[t.error,r]),mB=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},gB=(t,e)=>t.isLoading&&t.isFetching&&!e,yB=(t,e)=>t?.suspense&&e.isPending,cC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function bB(t,e,n){const r=nv(),i=lB(),s=dB(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",mB(o),fB(o,s),pB(s);const l=!r.getQueryCache().get(o.queryHash),[u]=K.useState(()=>new e(r,o)),d=u.getOptimisticResult(o),p=!i&&t.subscribed!==!1;if(K.useSyncExternalStore(K.useCallback(h=>{const b=p?u.subscribe(Kr.batchCalls(h)):LS;return u.updateResult(),b},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),K.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),yB(o,d))throw cC(o,u,s);if(hB({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Gc&&gB(d,i)&&(l?cC(o,u,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(LS).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function Yy(t,e){return bB(t,nB)}function uC(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function vB(t={},e){const n=nv().getMutationCache(),r=K.useRef(t),i=K.useRef(null);return i.current||(i.current=uC(n,t)),K.useEffect(()=>{r.current=t}),K.useSyncExternalStore(K.useCallback(s=>n.subscribe(()=>{const o=rN(i.current,uC(n,r.current));i.current!==o&&(i.current=o,Kr.schedule(s))}),[n]),()=>i.current,()=>i.current)}function ln(t,e){const n=nv(),[r]=K.useState(()=>new sB(n,t));K.useEffect(()=>{r.setOptions(t)},[r,t]);const i=K.useSyncExternalStore(K.useCallback(o=>r.subscribe(Kr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=K.useCallback((o,l)=>{r.mutate(o,l).catch(LS)},[r]);if(i.error&&C3(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const Vc="__TSR_index",dC="popstate",fC="beforeunload";function T3(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},s=async({task:o,navigateOpts:l,...u})=>{var d,p;if(l?.ignoreBlocker??!1){o();return}const b=((d=t.getBlockers)==null?void 0:d.call(t))??[],x=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&b.length&&x)for(const _ of b){const E=sh(u.path,u.state);if(await _.blockerFn({currentLocation:e,nextLocation:E,action:u.type})){(p=t.onBlocked)==null||p.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,u)=>{const d=e.state[Vc];l=MS(d+1,l),s({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:o,state:l})},replace:(o,l,u)=>{const d=e.state[Vc];l=MS(d,l),s({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:o,state:l})},go:(o,l)=>{s({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{s({task:()=>{t.back(o?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{t.forward(o?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Vc]!==0,createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const u=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...u,o]),()=>{var d,p;const h=((d=t.getBlockers)==null?void 0:d.call(t))??[];(p=t.setBlockers)==null||p.call(t,h.filter(b=>b!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function MS(t,e){return e||(e={}),{...e,key:_B(),[Vc]:t}}function xB(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const s=()=>i,o=P=>i=P,l=P=>P,u=()=>sh(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let d=u(),p,h=!1,b=!1,x=!1,_=!1;const E=()=>d;let I,T;const R=()=>{I&&(W._ignoreSubscribers=!0,(I.isPush?e.history.pushState:e.history.replaceState)(I.state,"",I.href),W._ignoreSubscribers=!1,I=void 0,T=void 0,p=void 0)},O=(P,q,M)=>{const F=l(q);T||(p=d),d=sh(q,M),I={href:F,state:M,isPush:I?.isPush||P==="push"},T||(T=Promise.resolve().then(()=>R()))},A=P=>{d=u(),W.notify({type:P})},D=async()=>{if(b){b=!1;return}const P=u(),q=P.state[Vc]-d.state[Vc],M=q===1,F=q===-1,V=!M&&!F||h;h=!1;const U=V?"GO":F?"BACK":"FORWARD",z=V?{type:"GO",index:q}:{type:F?"BACK":"FORWARD"};if(x)x=!1;else{const ee=s();if(typeof document<"u"&&ee.length){for(const Z of ee)if(await Z.blockerFn({currentLocation:d,nextLocation:P,action:U})){b=!0,e.history.go(1),W.notify(z);return}}}d=u(),W.notify(z)},L=P=>{if(_){_=!1;return}let q=!1;const M=s();if(typeof document<"u"&&M.length)for(const F of M){const V=F.enableBeforeUnload??!0;if(V===!0){q=!0;break}if(typeof V=="function"&&V()===!0){q=!0;break}}if(q)return P.preventDefault(),P.returnValue=""},W=T3({getLocation:E,getLength:()=>e.history.length,pushState:(P,q)=>O("push",P,q),replaceState:(P,q)=>O("replace",P,q),back:P=>(P&&(x=!0),_=!0,e.history.back()),forward:P=>{P&&(x=!0),_=!0,e.history.forward()},go:P=>{h=!0,e.history.go(P)},createHref:P=>l(P),flush:R,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(fC,L,{capture:!0}),e.removeEventListener(dC,D)},onBlocked:()=>{p&&d!==p&&(d=p)},getBlockers:s,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(fC,L,{capture:!0}),e.addEventListener(dC,D),e.history.pushState=function(...P){const q=n.apply(e.history,P);return W._ignoreSubscribers||A("PUSH"),q},e.history.replaceState=function(...P){const q=r.apply(e.history,P);return W._ignoreSubscribers||A("REPLACE"),q},W}function wB(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((s,o)=>MS(o,void 0));return T3({getLocation:()=>sh(e[n],r[n]),getLength:()=>e.length,pushState:(s,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(s),n=Math.max(e.length-1,0)},replaceState:(s,o)=>{r[n]=o,e[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),e.length-1)},createHref:s=>s})}function sh(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Vc]:0}}}function _B(){return(Math.random()+1).toString(36).substring(7)}var SB="Invariant failed";function _s(t,e){if(!t)throw new Error(SB)}const Aw=K.createContext(null);function R3(){return typeof document>"u"?Aw:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Aw,Aw)}function Fo(t){const e=K.useContext(R3());return t?.warn,e}var Pw={exports:{}},Fw={},Dw={exports:{}},Lw={};var pC;function EB(){if(pC)return Lw;pC=1;var t=Hh();function e(h,b){return h===b&&(h!==0||1/h===1/b)||h!==h&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(h,b){var x=b(),_=r({inst:{value:x,getSnapshot:b}}),E=_[0].inst,I=_[1];return s(function(){E.value=x,E.getSnapshot=b,u(E)&&I({inst:E})},[h,x,b]),i(function(){return u(E)&&I({inst:E}),h(function(){u(E)&&I({inst:E})})},[h]),o(x),x}function u(h){var b=h.getSnapshot;h=h.value;try{var x=b();return!n(h,x)}catch{return!0}}function d(h,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Lw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Lw}var hC;function NB(){return hC||(hC=1,Dw.exports=EB()),Dw.exports}var mC;function kB(){if(mC)return Fw;mC=1;var t=Hh(),e=NB();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Fw.useSyncExternalStoreWithSelector=function(d,p,h,b,x){var _=s(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function T(L){if(!R){if(R=!0,O=L,L=b(L),x!==void 0&&E.hasValue){var W=E.value;if(x(W,L))return A=W}return A=L}if(W=A,r(O,L))return W;var P=b(L);return x!==void 0&&x(W,P)?(O=L,W):(O=L,A=P)}var R=!1,O,A,D=h===void 0?null:h;return[function(){return T(p())},D===null?void 0:function(){return T(D())}]},[p,h,b,x]);var I=i(d,_[0],_[1]);return o(function(){E.hasValue=!0,E.value=I},[I]),u(I),I},Fw}var gC;function IB(){return gC||(gC=1,Pw.exports=kB()),Pw.exports}var O3=IB();const CB=co(O3),hd=new WeakMap,cy=new WeakMap,Xy={current:[]};let Mw=!1,Bp=0;const wp=new Set,Ig=new Map;function q3(t){const e=Array.from(t).sort((n,r)=>n instanceof md&&n.options.deps.includes(r)?1:r instanceof md&&r.options.deps.includes(n)?-1:0);for(const n of e){if(Xy.current.includes(n))continue;Xy.current.push(n),n.recompute();const r=cy.get(n);if(r)for(const i of r){const s=hd.get(i);s&&q3(s)}}}function TB(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function RB(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function j3(t){if(Bp>0&&!Ig.has(t)&&Ig.set(t,t.prevState),wp.add(t),!(Bp>0)&&!Mw)try{for(Mw=!0;wp.size>0;){const e=Array.from(wp);wp.clear();for(const n of e){const r=Ig.get(n)??n.prevState;n.prevState=r,TB(n)}for(const n of e){const r=hd.get(n);r&&(Xy.current.push(n),q3(r))}for(const n of e){const r=hd.get(n);if(r)for(const i of r)RB(i)}}}finally{Mw=!1,Xy.current=[],Ig.clear()}}function $w(t){Bp++;try{t()}finally{if(Bp--,Bp===0){const e=Array.from(wp)[0];e&&j3(e)}}}class $S{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),j3(this)},this.prevState=e,this.state=e,this.options=n}}class md{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof md&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof md)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof $S){let r=hd.get(n);r||(r=new Set,hd.set(n,r)),r.add(this);let i=cy.get(this);i||(i=new Set,cy.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof md)this.unregisterFromGraph(n.options.deps);else if(n instanceof $S){const r=hd.get(n);r&&r.delete(this);const i=cy.get(this);i&&i.delete(n)}}}function OB(t,e=n=>n){return O3.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,qB)}function qB(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Bw,yC;function jB(){if(yC)return Bw;yC=1;const t={},e=t.hasOwnProperty,n=(P,q)=>{for(const M in P)e.call(P,M)&&q(M,P[M])},r=(P,q)=>(q&&n(q,(M,F)=>{P[M]=F}),P),i=(P,q)=>{const M=P.length;let F=-1;for(;++F<M;)q(P[F])},s=P=>"\\u"+("0000"+P).slice(-4),o=(P,q)=>{let M=P.toString(16);return q?M:M.toUpperCase()},l=t.toString,u=Array.isArray,d=P=>typeof Buffer=="function"&&Buffer.isBuffer(P),p=P=>l.call(P)=="[object Object]",h=P=>typeof P=="string"||l.call(P)=="[object String]",b=P=>typeof P=="number"||l.call(P)=="[object Number]",x=P=>typeof P=="bigint",_=P=>typeof P=="function",E=P=>l.call(P)=="[object Map]",I=P=>l.call(P)=="[object Set]",T={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},R=/[\\\b\f\n\r\t]/,O=/[0-9]/,A=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,L=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,W=(P,q)=>{const M=()=>{le=Z,++q.indentLevel,Z=q.indent.repeat(q.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},V=q&&q.json;V&&(F.quotes="double",F.wrap=!0),q=r(F,q),q.quotes!="single"&&q.quotes!="double"&&q.quotes!="backtick"&&(q.quotes="single");const U=q.quotes=="double"?'"':q.quotes=="backtick"?"`":"'",z=q.compact,ee=q.lowercaseHex;let Z=q.indent.repeat(q.indentLevel),le="";const se=q.__inline1__,te=q.__inline2__,oe=z?"":`
`;let X,ue=!0;const de=q.numbers=="binary",ye=q.numbers=="octal",we=q.numbers=="decimal",Ne=q.numbers=="hexadecimal";if(V&&P&&_(P.toJSON)&&(P=P.toJSON()),!h(P)){if(E(P))return P.size==0?"new Map()":(z||(q.__inline1__=!0,q.__inline2__=!1),"new Map("+W(Array.from(P),q)+")");if(I(P))return P.size==0?"new Set()":"new Set("+W(Array.from(P),q)+")";if(d(P))return P.length==0?"Buffer.from([])":"Buffer.from("+W(Array.from(P),q)+")";if(u(P))return X=[],q.wrap=!0,se&&(q.__inline1__=!1,q.__inline2__=!0),te||M(),i(P,Oe=>{ue=!1,te&&(q.__inline2__=!1),X.push((z||te?"":Z)+W(Oe,q))}),ue?"[]":te?"["+X.join(", ")+"]":"["+oe+X.join(","+oe)+oe+(z?"":le)+"]";if(b(P)||x(P)){if(V)return JSON.stringify(Number(P));let Oe;if(we)Oe=String(P);else if(Ne){let De=P.toString(16);ee||(De=De.toUpperCase()),Oe="0x"+De}else de?Oe="0b"+P.toString(2):ye&&(Oe="0o"+P.toString(8));return x(P)?Oe+"n":Oe}else return x(P)?V?JSON.stringify(Number(P)):P+"n":p(P)?(X=[],q.wrap=!0,M(),n(P,(Oe,De)=>{ue=!1,X.push((z?"":Z)+W(Oe,q)+":"+(z?"":" ")+W(De,q))}),ue?"{}":"{"+oe+X.join(","+oe)+oe+(z?"":le)+"}"):V?JSON.stringify(P)||"null":String(P)}const ze=q.escapeEverything?D:L;return X=P.replace(ze,(Oe,De,Je,Xe,Ve,ct)=>{if(De){if(q.minimal)return De;const Tt=De.charCodeAt(0),Ut=De.charCodeAt(1);if(q.es6){const tn=(Tt-55296)*1024+Ut-56320+65536;return"\\u{"+o(tn,ee)+"}"}return s(o(Tt,ee))+s(o(Ut,ee))}if(Je)return s(o(Je.charCodeAt(0),ee));if(Oe=="\0"&&!V&&!O.test(ct.charAt(Ve+1)))return"\\0";if(Xe)return Xe==U||q.escapeEverything?"\\"+Xe:Xe;if(R.test(Oe))return T[Oe];if(q.minimal&&!A.test(Oe))return Oe;const _t=o(Oe.charCodeAt(0),ee);return V||_t.length>2?s(_t):"\\x"+("00"+_t).slice(-2)}),U=="`"&&(X=X.replace(/\$\{/g,"\\${")),q.isScriptContext&&(X=X.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,V?"\\u003C!--":"\\x3C!--")),q.wrap&&(X=U+X+U),X};return W.version="3.0.2",Bw=W,Bw}jB();const xs="__root__";function AB(t,e){let n,r,i,s="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+s}function bC(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function PB(t,e){let n,r;const i={},s=t.split("&");for(;n=s.shift();){const o=n.indexOf("=");if(o!==-1){r=n.slice(0,o),r=decodeURIComponent(r);const l=n.slice(o+1);i[r]!==void 0?i[r]=[].concat(i[r],bC(l)):i[r]=bC(l)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const FB=LB(JSON.parse),DB=MB(JSON.stringify,JSON.parse);function LB(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=PB(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function MB(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=AB(r).toString();return i?`?${i}`:""}}function zp(t){return t[t.length-1]}function $B(t){return typeof t=="function"}function Dc(t,e){return $B(t)?t(e):t}function uy(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Zs(t,e){if(t===e)return t;const n=e,r=xC(t)&&xC(n);if(r||jl(t)&&jl(n)){const i=r?t:Object.keys(t),s=i.length,o=r?n:Object.keys(n),l=o.length,u=r?[]:{};let d=0;for(let p=0;p<l;p++){const h=r?p:o[p];(!r&&i.includes(h)||r)&&t[h]===void 0&&n[h]===void 0?(u[h]=void 0,d++):(u[h]=Zs(t[h],n[h]),u[h]===t[h]&&t[h]!==void 0&&d++)}return s===l&&d===s?t:u}return n}function jl(t){if(!vC(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!vC(n)||!n.hasOwnProperty("isPrototypeOf"))}function vC(t){return Object.prototype.toString.call(t)==="[object Object]"}function xC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wC(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function gd(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(jl(t)&&jl(e)){const r=n?.ignoreUndefined??!0,i=wC(t,r),s=wC(e,r);return!n?.partial&&i.length!==s.length?!1:s.every(o=>gd(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!gd(r,e[i],n)):!1}const _p=typeof window<"u"?K.useLayoutEffect:K.useEffect;function ed(t){let e,n;const r=new Promise((i,s)=>{e=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function zw(t){const e=K.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function BB(t,e,n={},r={}){const i=K.useRef(typeof IntersectionObserver=="function"),s=K.useRef(null);return K.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{e(o)},n),s.current.observe(t.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[e,n,r.disabled,t]),s.current}function zB(t){const e=K.useRef(null);return K.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function Fa(t){return rv(t.filter(e=>e!==void 0).join("/"))}function rv(t){return t.replace(/\/{2,}/g,"/")}function aN(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Lc(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function WB(t){return Lc(aN(t))}function eb(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function VB(t,e,n){return eb(t,n)===eb(e,n)}function UB({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;e=tb(t,e,i),n=tb(t,n,i);let l=qd(e);const u=qd(n);l.length>1&&((s=zp(l))==null?void 0:s.value)==="/"&&l.pop(),u.forEach((p,h)=>{p.value==="/"?h?h===u.length-1&&l.push(p):l=[p]:p.value===".."?l.pop():p.value==="."||l.push(p)}),l.length>1&&(((o=zp(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const d=Fa([t,...l.map(p=>p.value)]);return rv(d)}function qd(t){if(!t)return[];t=rv(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Cg({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=qd(t),o={};for(const[l,u]of Object.entries(e)){const d=typeof u=="string";["*","_splat"].includes(l)?o[l]=d?encodeURI(u):u:o[l]=d?HB(u,i):u}return Fa(s.map(l=>{if(l.type==="wildcard"){const u=o._splat;return n?`${l.value}${u??""}`:u}if(l.type==="param"){if(r){const u=o[l.value];return`${l.value}${u??""}`}return o[l.value.substring(1)]??"undefined"}return l.value}))}function HB(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function Tg(t,e,n){const r=QB(t,e,n);if(!(n.to&&!r))return r??{}}function tb(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function QB(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=tb(t,e,n.caseSensitive);const r=tb(t,`${n.to??"$"}`,n.caseSensitive),i=qd(e),s=qd(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let u=0;u<Math.max(i.length,s.length);u++){const d=i[u],p=s[u],h=u>=i.length-1,b=u>=s.length-1;if(p){if(p.type==="wildcard"){const x=decodeURI(Fa(i.slice(u).map(_=>_.value)));return o["*"]=x,o._splat=x,!0}if(p.type==="pathname"){if(p.value==="/"&&!d?.value)return!0;if(d){if(n.caseSensitive){if(p.value!==d.value)return!1}else if(p.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(p.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[p.value.substring(1)]=decodeURIComponent(d.value))}}if(!h&&b)return o["**"]=Fa(i.slice(u+1).map(x=>x.value)),!!n.fuzzy&&p?.value!=="/"}return!0})()?o:void 0}function Qh(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Cc(t){return!!t?.isRedirect}function Ww(t){return!!t?.isRedirect&&t.href}function lN(t){const e=t.errorComponent??iv;return f.jsx(KB,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?K.createElement(e,{error:n,reset:r}):t.children})}class KB extends K.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function iv({error:t}){const[e,n]=K.useState(!1);return f.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[f.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),f.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),f.jsx("div",{style:{height:".25rem"}}),e?f.jsx("div",{children:f.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?f.jsx("code",{children:t.message}):null})}):null]})}function Li(t){const e=Fo({warn:t?.router===void 0}),n=t?.router||e,r=K.useRef();return OB(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const s=Zs(r.current,t.select(i));return r.current=s,s}return t.select(i)}return i})}function _o(t){return!!t?.isNotFound}function GB(t){const e=Li({select:n=>`not-found-${n.location.pathname}-${n.status}`});return f.jsx(lN,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(_o(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(_o(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function JB(){return f.jsx("p",{children:"Not Found"})}const Sp={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],s=Og.find(o=>o.stringifyCondition(i));return s?s.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n];if(jl(i)){const s=Og.find(o=>o.parseCondition(i));if(s)return s.parse(i)}return r}),encode:t=>{if(Array.isArray(t))return t.map(n=>Sp.encode(n));if(jl(t))return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Sp.encode(r)]));const e=Og.find(n=>n.stringifyCondition(t));return e?e.stringify(t):t},decode:t=>{if(jl(t)){const e=Og.find(n=>n.parseCondition(t));if(e)return e.parse(t)}return Array.isArray(t)?t.map(e=>Sp.decode(e)):jl(t)?Object.fromEntries(Object.entries(t).map(([e,n])=>[e,Sp.decode(n)])):t}},Rg=(t,e,n,r)=>({key:t,stringifyCondition:e,stringify:i=>({[`$${t}`]:n(i)}),parseCondition:i=>Object.hasOwn(i,`$${t}`),parse:i=>r(i[`$${t}`])}),Og=[Rg("undefined",t=>t===void 0,()=>0,()=>{}),Rg("date",t=>t instanceof Date,t=>t.toISOString(),t=>new Date(t)),Rg("error",t=>t instanceof Error,t=>({...t,message:t.message,stack:t.stack,cause:t.cause}),t=>Object.assign(new Error(t.message),t)),Rg("formData",t=>t instanceof FormData,t=>{const e={};return t.forEach((n,r)=>{const i=e[r];i!==void 0?Array.isArray(i)?i.push(n):e[r]=[i,n]:e[r]=n}),e},t=>{const e=new FormData;return Object.entries(t).forEach(([n,r])=>{Array.isArray(r)?r.forEach(i=>e.append(n,i)):e.append(n,r)}),e})],A3=["component","errorComponent","pendingComponent","notFoundComponent"];function ZB(t){var e;for(const n of A3)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function Vw(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new BS("Async validation not supported");if(n.issues)throw new BS(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function YB(t){return new XB(t)}class XB{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${WB(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?wB({initialEntries:[this.basepath||"/"]}):xB()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new $S(t4(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((l,u)=>{l.init({originalIndex:u,defaultSsr:this.options.defaultSsr});const d=this.routesById[l.id];if(_s(!d,`Duplicate routes found with id: ${String(l.id)}`),this.routesById[l.id]=l,!l.isRoot&&l.path){const h=Lc(l.fullPath);(!this.routesByPath[h]||l.fullPath.endsWith("/"))&&(this.routesByPath[h]=l)}const p=l.children;p?.length&&r(p)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,l)=>{var u;if(o.isRoot||!o.path)return;const d=aN(o.fullPath),p=qd(d);for(;p.length>1&&((u=p[0])==null?void 0:u.value)==="/";)p.shift();const h=p.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);i.push({child:o,trimmed:d,parsed:p,index:l,scores:h})}),this.flatRoutes=i.sort((o,l)=>{const u=Math.min(o.scores.length,l.scores.length);for(let d=0;d<u;d++)if(o.scores[d]!==l.scores[d])return l.scores[d]-o.scores[d];if(o.scores.length!==l.scores.length)return l.scores.length-o.scores.length;for(let d=0;d<u;d++)if(o.parsed[d].value!==l.parsed[d].value)return o.parsed[d].value>l.parsed[d].value?1:-1;return o.index-l.index}).map((o,l)=>(o.child.rank=l,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:u,search:d,hash:p,state:h})=>{const b=this.options.parseSearch(d),x=this.options.stringifySearch(b);return{pathname:u,searchStr:x,search:Zs(n?.search,b),hash:p.split("#").reverse()[0]??"",href:`${u}${x}${p}`,state:Zs(n?.state,h)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:l}=s.state;if(o&&(!l||l===this.tempLocationKey)){const u=i(o);return u.state.key=s.state.key,delete u.state.__tempLocation,{...u,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>UB({basepath:this.basepath,base:n,to:rv(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const s=Lc(n.pathname),o=p=>Tg(this.basepath,s,{to:p.fullPath,caseSensitive:p.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let l=r?.to!==void 0?this.routesByPath[r.to]:void 0;l?i=o(l):l=this.flatRoutes.find(p=>{const h=o(p);return h?(i=h,!0):!1});let u=l||this.routesById[xs];const d=[u];for(;u.parentRoute;)u=u.parentRoute,d.unshift(u);return{matchedRoutes:d,routeParams:i,foundRoute:l}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var l,u,d,p,h,b;const x=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,_=s.from!=null?x.find(F=>Tg(this.basepath,Lc(F.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,E=_?.pathname||this.latestLocation.pathname;_s(s.from==null||_!=null,"Could not find match for from: "+s.from);const I=(l=this.state.pendingMatches)!=null&&l.length?(u=zp(this.state.pendingMatches))==null?void 0:u.search:((d=zp(x))==null?void 0:d.search)||this.latestLocation.search,T=o?.matchedRoutes.filter(F=>x.find(V=>V.routeId===F.id));let R;if(s.to)R=this.resolvePathWithBase(E,`${s.to}`);else{const F=this.routesById[(p=T?.find(V=>{const U=Cg({path:V.fullPath,params:o?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return Fa([this.basepath,U])===E}))==null?void 0:p.id];R=this.resolvePathWithBase(E,F?.to??E)}const O={...(h=zp(x))==null?void 0:h.params};let A=(s.params??!0)===!0?O:{...O,...Dc(s.params,O)};Object.keys(A).length>0&&o?.matchedRoutes.map(F=>{var V;return((V=F.options.params)==null?void 0:V.stringify)??F.options.stringifyParams}).filter(Boolean).forEach(F=>{A={...A,...F(A)}}),R=Cg({path:R,params:A??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let D=I;if(n._includeValidateSearch&&((b=this.options.search)!=null&&b.strict)){let F={};o?.matchedRoutes.forEach(V=>{try{V.options.validateSearch&&(F={...F,...Vw(V.options.validateSearch,{...F,...D})??{}})}catch{}}),D=F}D=(F=>{const V=o?.matchedRoutes.reduce((ee,Z)=>{var le;const se=[];if("search"in Z.options)(le=Z.options.search)!=null&&le.middlewares&&se.push(...Z.options.search.middlewares);else if(Z.options.preSearchFilters||Z.options.postSearchFilters){const te=({search:oe,next:X})=>{let ue=oe;"preSearchFilters"in Z.options&&Z.options.preSearchFilters&&(ue=Z.options.preSearchFilters.reduce((ye,we)=>we(ye),oe));const de=X(ue);return"postSearchFilters"in Z.options&&Z.options.postSearchFilters?Z.options.postSearchFilters.reduce((ye,we)=>we(ye),de):de};se.push(te)}if(n._includeValidateSearch&&Z.options.validateSearch){const te=({search:oe,next:X})=>{try{const ue=X(oe);return{...ue,...Vw(Z.options.validateSearch,ue)??{}}}catch{}};se.push(te)}return ee.concat(se)},[])??[],U=({search:ee})=>s.search?s.search===!0?ee:Dc(s.search,ee):{};V.push(U);const z=(ee,Z)=>{if(ee>=V.length)return Z;const le=V[ee];return le({search:Z,next:te=>z(ee+1,te)})};return z(0,F)})(D),D=Zs(I,D);const W=this.options.stringifySearch(D),P=s.hash===!0?this.latestLocation.hash:s.hash?Dc(s.hash,this.latestLocation.hash):void 0,q=P?`#${P}`:"";let M=s.state===!0?this.latestLocation.state:s.state?Dc(s.state,this.latestLocation.state):{};return M=Zs(this.latestLocation.state,M),{pathname:R,search:D,searchStr:W,state:M,hash:P??"",href:`${R}${W}${q}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var l;const u=r(s);let d=o?r(o):void 0;if(!d){let b={};const x=(l=this.options.routeMasks)==null?void 0:l.find(_=>{const E=Tg(this.basepath,u.pathname,{to:_.from,caseSensitive:!1,fuzzy:!1});return E?(b=E,!0):!1});if(x){const{from:_,...E}=x;o={...uy(n,["from"]),...E,params:b},d=r(o)}}const p=this.getMatchedRoutes(u,s),h=r(s,p);if(d){const b=this.getMatchedRoutes(d,o),x=r(o,b);h.maskedLocation=x}return h};return n.mask?i(n,{...uy(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{i.state.key=this.latestLocation.state.key;const u=gd(i.state,this.latestLocation.state);return delete i.state.key,u},o=this.latestLocation.href===i.href,l=this.commitLocationPromise;if(this.commitLocationPromise=ed(()=>{l?.resolve()}),o&&s())this.load();else{let{maskedLocation:u,hashScrollIntoView:d,...p}=i;u&&(p={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](p.href,p.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:l,...u}={})=>{if(l){const p=this.history.location.state.__TSR_index,h=sh(l,{__TSR_index:n?p:p+1});u.to=h.pathname,u.search=this.options.parseSearch(h.search),u.hash=h.hash.slice(1)}const d=this.buildLocation({...u,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){i||(i=this.buildLocation({to:n,...s}).href),s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const u=this.latestLocation,d=this.state.resolvedLocation,p=d.href!==u.href,h=d.pathname!==u.pathname;this.cancelMatches();let b;$w(()=>{b=this.matchRoutes(u),this.__store.setState(x=>({...x,status:"pending",isLoading:!0,location:u,pendingMatches:b,cachedMatches:x.cachedMatches.filter(_=>!b.find(E=>E.id===_.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:u,pathChanged:h,hrefChanged:p}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:u,pathChanged:h,hrefChanged:p}),await this.loadMatches({sync:n?.sync,matches:b,location:u,onReady:async()=>{this.startViewTransition(async()=>{let x,_,E;$w(()=>{this.__store.setState(I=>{const T=I.matches,R=I.pendingMatches||I.matches;return x=T.filter(O=>!R.find(A=>A.id===O.id)),_=R.filter(O=>!T.find(A=>A.id===O.id)),E=T.filter(O=>R.find(A=>A.id===O.id)),{...I,isLoading:!1,loadedAt:Date.now(),matches:R,pendingMatches:void 0,cachedMatches:[...I.cachedMatches,...x.filter(O=>O.status!=="error")]}}),this.clearExpiredCache()}),[[x,"onLeave"],[_,"onEnter"],[E,"onStay"]].forEach(([I,T])=>{I.forEach(R=>{var O,A;(A=(O=this.looseRoutesById[R.routeId].options)[T])==null||A.call(O,R)})})})}})}catch(u){Ww(u)?(r=u,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):_o(u)&&(i=u),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:i?404:d.matches.some(p=>p.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(p=>p.id===n),l=this.state.matches.find(p=>p.id===n),u=this.state.cachedMatches.find(p=>p.id===n),d=o?"pendingMatches":l?"matches":u?"cachedMatches":"";return d&&this.__store.setState(p=>{var h;return{...p,[d]:(h=p[d])==null?void 0:h.map(b=>b.id===n?s=r(b):b)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:l})=>{let u,d=!1;const p=async()=>{d||(d=!0,await s?.())},h=x=>!!(i&&!this.state.matches.find(_=>_.id===x));!this.isServer&&!this.state.matches.length&&p();const b=(x,_)=>{var E,I,T;if(Ww(_)&&!_.reloadDocument)throw _;if(Cc(_)||_o(_)){if(o(x.id,R=>({...R,status:Cc(_)?"redirected":_o(_)?"notFound":"error",isFetching:!1,error:_,beforeLoadPromise:void 0,loaderPromise:void 0})),_.routeId||(_.routeId=x.routeId),(E=x.beforeLoadPromise)==null||E.resolve(),(I=x.loaderPromise)==null||I.resolve(),(T=x.loadPromise)==null||T.resolve(),Cc(_))throw d=!0,_=this.resolveRedirect({..._,_fromLocation:n}),_;if(_o(_))throw this._handleNotFound(r,_,{updateMatch:o}),_}};try{await new Promise((x,_)=>{(async()=>{var E,I,T;try{const R=(D,L,W)=>{var P,q;const{id:M,routeId:F}=r[D],V=this.looseRoutesById[F];if(L instanceof Promise)throw L;L.routerCode=W,u=u??D,b(this.getMatch(M),L);try{(q=(P=V.options).onError)==null||q.call(P,L)}catch(U){L=U,b(this.getMatch(M),L)}o(M,U=>{var z,ee;return(z=U.beforeLoadPromise)==null||z.resolve(),(ee=U.loadPromise)==null||ee.resolve(),{...U,error:L,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[D,{id:L,routeId:W}]of r.entries()){const P=this.getMatch(L),q=(E=r[D-1])==null?void 0:E.id,M=this.looseRoutesById[W],F=M.options.pendingMs??this.options.defaultPendingMs,V=!!(s&&!this.isServer&&!h(L)&&(M.options.loader||M.options.beforeLoad)&&typeof F=="number"&&F!==1/0&&(M.options.pendingComponent??this.options.defaultPendingComponent));let U=!0;if((P.beforeLoadPromise||P.loaderPromise)&&(V&&setTimeout(()=>{try{p()}catch{}},F),await P.beforeLoadPromise,U=this.getMatch(L).status!=="success"),U){try{o(L,Ne=>({...Ne,loadPromise:ed(()=>{var ze;(ze=Ne.loadPromise)==null||ze.resolve()}),beforeLoadPromise:ed()}));const z=new AbortController;let ee;V&&(ee=setTimeout(()=>{try{p()}catch{}},F));const{paramsError:Z,searchError:le}=this.getMatch(L);Z&&R(D,Z,"PARSE_PARAMS"),le&&R(D,le,"VALIDATE_SEARCH");const se=()=>q?this.getMatch(q).context:this.options.context??{};o(L,Ne=>({...Ne,isFetching:"beforeLoad",fetchCount:Ne.fetchCount+1,abortController:z,pendingTimeout:ee,context:{...se(),...Ne.__routeContext}}));const{search:te,params:oe,context:X,cause:ue}=this.getMatch(L),de=h(L),ye={search:te,abortController:z,params:oe,preload:de,context:X,location:n,navigate:Ne=>this.navigate({...Ne,_fromLocation:n}),buildLocation:this.buildLocation,cause:de?"preload":ue,matches:r};let we=await ((T=(I=M.options).beforeLoad)==null?void 0:T.call(I,ye))??{};this.serializeLoaderData&&(we=this.serializeLoaderData("__beforeLoadContext",we,{router:this,match:this.getMatch(L)})),(Cc(we)||_o(we))&&R(D,we,"BEFORE_LOAD"),o(L,Ne=>({...Ne,__beforeLoadContext:we,context:{...se(),...Ne.__routeContext,...we},abortController:z}))}catch(z){R(D,z,"BEFORE_LOAD")}o(L,z=>{var ee;return(ee=z.beforeLoadPromise)==null||ee.resolve(),{...z,beforeLoadPromise:void 0,isFetching:!1}})}}const O=r.slice(0,u),A=[];O.forEach(({id:D,routeId:L},W)=>{A.push((async()=>{const{loaderPromise:P}=this.getMatch(D);let q=!1,M=!1;if(P){await P;const F=this.getMatch(D);F.error&&b(F,F.error)}else{const F=A[W-1],V=this.looseRoutesById[L],U=()=>{const{params:ue,loaderDeps:de,abortController:ye,context:we,cause:Ne}=this.getMatch(D),ze=h(D);return{params:ue,deps:de,preload:!!ze,parentMatchPromise:F,abortController:ye,context:we,location:n,navigate:Oe=>this.navigate({...Oe,_fromLocation:n}),cause:ze?"preload":Ne,route:V}},z=Date.now()-this.getMatch(D).updatedAt,ee=h(D),Z=ee?V.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:V.options.staleTime??this.options.defaultStaleTime??0,le=V.options.shouldReload,se=typeof le=="function"?le(U()):le;o(D,ue=>({...ue,loaderPromise:ed(),preload:!!ee&&!this.state.matches.find(de=>de.id===D)}));const te=async()=>{var ue,de,ye,we,Ne,ze,Oe,De;try{const Je=async()=>{const Xe=this.getMatch(D);Xe.minPendingPromise&&await Xe.minPendingPromise};try{this.loadRouteChunk(V),o(D,tn=>({...tn,isFetching:"loader"}));let Xe=await ((de=(ue=V.options).loader)==null?void 0:de.call(ue,U()));this.serializeLoaderData&&(Xe=this.serializeLoaderData("loaderData",Xe,{router:this,match:this.getMatch(D)})),b(this.getMatch(D),Xe),await V._lazyPromise,await Je();const Ve=(we=(ye=V.options).head)==null?void 0:we.call(ye,{matches:r,match:this.getMatch(D),params:this.getMatch(D).params,loaderData:Xe}),ct=Ve?.meta,_t=Ve?.links,Tt=Ve?.scripts,Ut=(ze=(Ne=V.options).headers)==null?void 0:ze.call(Ne,{loaderData:Xe});o(D,tn=>({...tn,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Xe,meta:ct,links:_t,scripts:Tt,headers:Ut}))}catch(Xe){let Ve=Xe;await Je(),b(this.getMatch(D),Xe);try{(De=(Oe=V.options).onError)==null||De.call(Oe,Xe)}catch(ct){Ve=ct,b(this.getMatch(D),ct)}o(D,ct=>({...ct,error:Ve,status:"error",isFetching:!1}))}await V._componentsPromise}catch(Je){o(D,Xe=>({...Xe,loaderPromise:void 0})),b(this.getMatch(D),Je)}},{status:oe,invalid:X}=this.getMatch(D);q=oe==="success"&&(X||(se??z>Z)),ee&&V.options.preload===!1||(q&&!l?(M=!0,(async()=>{try{await te();const{loaderPromise:ue,loadPromise:de}=this.getMatch(D);ue?.resolve(),de?.resolve(),o(D,ye=>({...ye,loaderPromise:void 0}))}catch(ue){Ww(ue)&&await this.navigate(ue)}})()):(oe!=="success"||q&&l)&&await te())}if(!M){const{loaderPromise:F,loadPromise:V}=this.getMatch(D);F?.resolve(),V?.resolve()}return o(D,F=>({...F,isFetching:M?F.isFetching:!1,loaderPromise:M?F.loaderPromise:void 0,invalid:!1})),this.getMatch(D)})())}),await Promise.all(A),x()}catch(R){_(R)}})()}),await p()}catch(x){if(Cc(x)||_o(x))throw _o(x)&&!i&&await p(),x}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n?.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load({sync:n?.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(A3.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...s,...this.state.cachedMatches.map(l=>l.id)]);$w(()=>{i.forEach(l=>{o.has(l.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,l]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(l,u)=>{s.has(l)?i=i.map(d=>d.id===l?u(d):d):this.updateMatch(l,u)}}),i}catch(l){if(Cc(l))return l.reloadDocument?void 0:await this.preloadRoute({...l,_fromLocation:r});console.error(l);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,u=Tg(this.basepath,l.pathname,{...r,to:s.pathname});return!u||n.params&&!gd(u,n.params,{partial:!0})?!1:u&&(r?.includeSearch??!0)?gd(l.search,s.search,{partial:!0})?u:!1:u},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??n4;return{state:{dehydratedMatches:this.state.matches.map(i=>({...uy(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let s;typeof document<"u"&&(s=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),_s(s),this.dehydratedData=s.payload,(i=(r=this.options).hydrate)==null||i.call(r,s.payload);const o=s.router.state,l=this.matchRoutes(this.state.location).map(u=>{const d=o.dehydratedMatches.find(p=>p.id===u.id);return _s(d,`Could not find a client-side match for dehydrated match with id: ${u.id}!`),{...u,...d}});this.__store.setState(u=>({...u,matches:l})),this.manifest=s.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const s=Object.fromEntries(n.map(u=>[u.routeId,u]));let o=(r.global?this.looseRoutesById[xs]:this.looseRoutesById[r.routeId])||this.looseRoutesById[xs];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==xs;)o=o.parentRoute,_s(o);const l=s[o.id];_s(l,"Could not find match for route: "+o.id),i(l.id,u=>({...u,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??DB,parseSearch:e.parseSearch??FB,transformer:e.transformer??Sp}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(e,n?.dest);let o=!1;(r?r.path!=="/"&&s["**"]:Lc(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const l=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let h=i.length-1;h>=0;h--){const b=i[h];if(b.children)return b.id}return xs}})(),u=i.map(h=>{var b;let x;const _=((b=h.options.params)==null?void 0:b.parse)??h.options.parseParams;if(_)try{const E=_(s);Object.assign(s,E)}catch(E){if(x=new e4(E.message,{cause:E}),n?.throwOnError)throw x;return x}}),d=[],p=h=>h?.id?h.context??this.options.context??{}:this.options.context??{};return i.forEach((h,b)=>{var x,_,E,I;const T=d[b-1],[R,O]=(()=>{const U=T?.search??e.search;try{const z=Vw(h.options.validateSearch,U)??{};return[{...U,...z},void 0]}catch(z){const ee=new BS(z.message,{cause:z});if(n?.throwOnError)throw ee;return[U,ee]}})(),A=((_=(x=h.options).loaderDeps)==null?void 0:_.call(x,{search:R}))??"",D=A?JSON.stringify(A):"",L=Cg({path:h.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),W=Cg({path:h.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+D,P=this.getMatch(W),q=this.state.matches.find(U=>U.routeId===h.id),M=q?"stay":"enter";let F;if(P)F={...P,cause:M,params:q?Zs(q.params,s):s,search:Zs(q?q.search:P.search,R)};else{const U=h.options.loader||h.options.beforeLoad||h.lazyFn||ZB(h)?"pending":"success";F={id:W,index:b,routeId:h.id,params:q?Zs(q.params,s):s,pathname:Fa([this.basepath,L]),updatedAt:Date.now(),search:q?Zs(q.search,R):R,searchError:void 0,status:U,isFetching:!1,error:void 0,paramsError:u[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:M,loaderDeps:q?Zs(q.loaderDeps,A):A,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:ed(),fullPath:h.fullPath}}F.status==="success"&&(F.headers=(I=(E=h.options).headers)==null?void 0:I.call(E,{loaderData:F.loaderData})),n?.preload||(F.globalNotFound=l===h.id),F.searchError=O;const V=p(T);F.context={...V,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((h,b)=>{var x,_,E,I;const T=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&n?._buildLocation!==!0){const A=d[b-1],D=p(A),L={deps:h.loaderDeps,params:h.params,context:D,location:e,navigate:W=>this.navigate({...W,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:d};h.__routeContext=((_=(x=T.options).context)==null?void 0:_.call(x,L))??{},h.context={...D,...h.__routeContext,...h.__beforeLoadContext}}const O=(I=(E=T.options).head)==null?void 0:I.call(E,{matches:d,match:h,params:h.params,loaderData:h.loaderData??void 0});h.links=O?.links,h.scripts=O?.scripts,h.meta=O?.meta}),d}}class BS extends Error{}class e4 extends Error{}function t4(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function n4(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function _C(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function SC(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const sv=K.createContext(void 0),r4=K.createContext(void 0);function Bl(t){const e=K.useContext(t.from?r4:sv);return Li({select:r=>{const i=r.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(_s(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function Ni(t){return Bl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function i4(t){const{select:e,...n}=t;return Bl({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function rn(t){return Bl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function s4(t){return Bl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Xd(t){const{navigate:e}=Fo();return K.useCallback(n=>e({...n}),[e])}let P3=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!s?.path&&!s?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=xs:_s(this.parentRoute);let l=o?xs:s.path;l&&l!=="/"&&(l=aN(l));const u=s?.id||l;let d=o?xs:Fa([this.parentRoute.id===xs?"":this.parentRoute.id,u]);l===xs&&(l="/"),d!==xs&&(d=Fa(["/",d]));const p=d===xs?"/":Fa([this.parentRoute.fullPath,l]);this._path=l,this._id=d,this._fullPath=p,this._to=p,this._ssr=s?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>Bl({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Bl({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>s4({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>rn({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>i4({...n,from:this.id}),this.useLoaderData=n=>Ni({...n,from:this.id}),this.useNavigate=()=>Xd({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,_s(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function o4(t){return new P3(t)}function a4(){return t=>c4(t)}class l4 extends P3{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function c4(t){return new l4(t)}function Vt(t){return new u4(t,{silent:!0}).createRoute}class u4{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=o4(r);return i.isRoot=!1,i},this.silent=n?.silent}}function dy(t){return f.jsx(f.Fragment,{children:t.children})}function F3(t,e,n){return e.options.notFoundComponent?f.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?f.jsx(t.options.defaultNotFoundComponent,{data:n}):f.jsx(JB,{})}const D3=K.memo(function({matchId:e}){var n,r;const i=Fo(),s=Li({select:I=>{var T;return(T=I.matches.find(R=>R.id===e))==null?void 0:T.routeId}});_s(s);const o=i.routesById[s],l=o.options.pendingComponent??i.options.defaultPendingComponent,u=l?f.jsx(l,{}):null,d=o.options.errorComponent??i.options.defaultErrorComponent,p=o.options.onCatch??i.options.defaultOnCatch,h=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,b=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??l??((r=o.options.errorComponent)==null?void 0:r.preload))?K.Suspense:dy,x=d?lN:dy,_=h?GB:dy,E=Li({select:I=>I.loadedAt});return f.jsx(sv.Provider,{value:e,children:f.jsx(b,{fallback:u,children:f.jsx(x,{getResetKey:()=>E,errorComponent:d||iv,onCatch:(I,T)=>{if(_o(I))throw I;p?.(I,T)},children:f.jsx(_,{fallback:I=>{if(!h||I.routeId&&I.routeId!==s||!I.routeId&&!o.isRoot)throw I;return K.createElement(h,I)},children:f.jsx(d4,{matchId:e})})})})})}),d4=K.memo(function({matchId:e}){var n,r,i,s,o;const l=Fo(),{match:u,matchIndex:d,routeId:p}=Li({select:_=>{const E=_.matches.findIndex(R=>R.id===e),I=_.matches[E];return{routeId:I.routeId,matchIndex:E,match:uy(I,["id","status","error"])}},structuralSharing:!0}),h=l.routesById[p],b=K.useMemo(()=>{const _=h.options.component??l.options.defaultComponent;return _?f.jsx(_,{}):f.jsx(uo,{})},[h.options.component,l.options.defaultComponent]),x=(h.options.errorComponent??l.options.defaultErrorComponent)||iv;if(u.status==="notFound"){let _;return _C(u.error)?_=(((n=l.options.errorSerializer)==null?void 0:n.deserialize)??SC)(u.error.data):_=u.error,_s(_o(_)),F3(l,h,_)}if(u.status==="redirected")throw _s(Cc(u.error)),(r=l.getMatch(u.id))==null?void 0:r.loadPromise;if(u.status==="error"){if(l.isServer)return f.jsx(x,{error:u.error,info:{componentStack:""}});throw _C(u.error)?(((i=l.options.errorSerializer)==null?void 0:i.deserialize)??SC)(u.error.data):u.error}if(u.status==="pending"){const _=h.options.pendingMinMs??l.options.defaultPendingMinMs;if(_&&!((s=l.getMatch(u.id))!=null&&s.minPendingPromise)&&!l.isServer){const E=ed();Promise.resolve().then(()=>{l.updateMatch(u.id,I=>({...I,minPendingPromise:E}))}),setTimeout(()=>{E.resolve(),l.updateMatch(u.id,I=>({...I,minPendingPromise:void 0}))},_)}throw(o=l.getMatch(u.id))==null?void 0:o.loadPromise}return f.jsxs(f.Fragment,{children:[b,l.AfterEachMatch?f.jsx(l.AfterEachMatch,{match:u,matchIndex:d}):null]})}),uo=K.memo(function(){const e=Fo(),n=K.useContext(sv),r=Li({select:d=>{var p;return(p=d.matches.find(h=>h.id===n))==null?void 0:p.routeId}}),i=e.routesById[r],s=Li({select:d=>{const h=d.matches.find(b=>b.id===n);return _s(h),h.globalNotFound}}),o=Li({select:d=>{var p;const h=d.matches,b=h.findIndex(x=>x.id===n);return(p=h[b+1])==null?void 0:p.id}});if(s)return F3(e,i,void 0);if(!o)return null;const l=f.jsx(D3,{matchId:o}),u=e.options.defaultPendingComponent?f.jsx(e.options.defaultPendingComponent,{}):null;return n===xs?f.jsx(K.Suspense,{fallback:u,children:l}):l});var Uw={exports:{}},Xi={},Hw={exports:{}},Qw={};var EC;function f4(){return EC||(EC=1,function(t){function e(se,te){var oe=se.length;se.push(te);e:for(;0<oe;){var X=oe-1>>>1,ue=se[X];if(0<i(ue,te))se[X]=te,se[oe]=ue,oe=X;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var te=se[0],oe=se.pop();if(oe!==te){se[0]=oe;e:for(var X=0,ue=se.length,de=ue>>>1;X<de;){var ye=2*(X+1)-1,we=se[ye],Ne=ye+1,ze=se[Ne];if(0>i(we,oe))Ne<ue&&0>i(ze,we)?(se[X]=ze,se[Ne]=oe,X=Ne):(se[X]=we,se[ye]=oe,X=ye);else if(Ne<ue&&0>i(ze,oe))se[X]=ze,se[Ne]=oe,X=Ne;else break e}}return te}function i(se,te){var oe=se.sortIndex-te.sortIndex;return oe!==0?oe:se.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,h=null,b=3,x=!1,_=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(se){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=se)r(d),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(d)}}function A(se){if(E=!1,O(se),!_)if(n(u)!==null)_=!0,Z(D);else{var te=n(d);te!==null&&le(A,te.startTime-se)}}function D(se,te){_=!1,E&&(E=!1,T(P),P=-1),x=!0;var oe=b;try{for(O(te),h=n(u);h!==null&&(!(h.expirationTime>te)||se&&!F());){var X=h.callback;if(typeof X=="function"){h.callback=null,b=h.priorityLevel;var ue=X(h.expirationTime<=te);te=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(u)&&r(u),O(te)}else r(u);h=n(u)}if(h!==null)var de=!0;else{var ye=n(d);ye!==null&&le(A,ye.startTime-te),de=!1}return de}finally{h=null,b=oe,x=!1}}var L=!1,W=null,P=-1,q=5,M=-1;function F(){return!(t.unstable_now()-M<q)}function V(){if(W!==null){var se=t.unstable_now();M=se;var te=!0;try{te=W(!0,se)}finally{te?U():(L=!1,W=null)}}else L=!1}var U;if(typeof R=="function")U=function(){R(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ee=z.port2;z.port1.onmessage=V,U=function(){ee.postMessage(null)}}else U=function(){I(V,0)};function Z(se){W=se,L||(L=!0,U())}function le(se,te){P=I(function(){se(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,Z(D))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(se){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var oe=b;b=te;try{return se()}finally{b=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,te){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var oe=b;b=se;try{return te()}finally{b=oe}},t.unstable_scheduleCallback=function(se,te,oe){var X=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?X+oe:X):oe=X,se){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=0x3fffffff;break;case 4:ue=1e4;break;default:ue=5e3}return ue=oe+ue,se={id:p++,callback:te,priorityLevel:se,startTime:oe,expirationTime:ue,sortIndex:-1},oe>X?(se.sortIndex=oe,e(d,se),n(u)===null&&se===n(d)&&(E?(T(P),P=-1):E=!0,le(A,oe-X))):(se.sortIndex=ue,e(u,se),_||x||(_=!0,Z(D))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var te=b;return function(){var oe=b;b=te;try{return se.apply(this,arguments)}finally{b=oe}}}}(Qw)),Qw}var NC;function p4(){return NC||(NC=1,Hw.exports=f4()),Hw.exports}var kC;function h4(){if(kC)return Xi;kC=1;var t=Hh(),e=p4();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function b(a){return u.call(h,a)?!0:u.call(p,a)?!1:d.test(a)?h[a]=!0:(p[a]=!0,!1)}function x(a,c,m,w){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return w?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,c,m,w){if(c===null||typeof c>"u"||x(a,c,m,w))return!0;if(w)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function E(a,c,m,w,k,j,J){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=w,this.attributeNamespace=k,this.mustUseProperty=m,this.propertyName=a,this.type=c,this.sanitizeURL=j,this.removeEmptyString=J}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new E(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];I[c]=new E(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new E(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new E(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new E(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new E(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new E(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new E(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new E(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(T,R);I[c]=new E(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(T,R);I[c]=new E(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(T,R);I[c]=new E(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new E(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new E(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,c,m,w){var k=I.hasOwnProperty(c)?I[c]:null;(k!==null?k.type!==0:w||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(_(c,m,k,w)&&(m=null),w||k===null?b(c)&&(m===null?a.removeAttribute(c):a.setAttribute(c,""+m)):k.mustUseProperty?a[k.propertyName]=m===null?k.type===3?!1:"":m:(c=k.attributeName,w=k.attributeNamespace,m===null?a.removeAttribute(c):(k=k.type,m=k===3||k===4&&m===!0?"":""+m,w?a.setAttributeNS(w,c,m):a.setAttribute(c,m))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),se=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=se&&a[se]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Object.assign,X;function ue(a){if(X===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);X=c&&c[1]||""}return`
`+X+a}var de=!1;function ye(a,c){if(!a||de)return"";de=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(He){var w=He}Reflect.construct(a,[],c)}else{try{c.call()}catch(He){w=He}a.call(c.prototype)}else{try{throw Error()}catch(He){w=He}a()}}catch(He){if(He&&w&&typeof He.stack=="string"){for(var k=He.stack.split(`
`),j=w.stack.split(`
`),J=k.length-1,ge=j.length-1;1<=J&&0<=ge&&k[J]!==j[ge];)ge--;for(;1<=J&&0<=ge;J--,ge--)if(k[J]!==j[ge]){if(J!==1||ge!==1)do if(J--,ge--,0>ge||k[J]!==j[ge]){var Se=`
`+k[J].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=J&&0<=ge);break}}}finally{de=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?ue(a):""}function we(a){switch(a.tag){case 5:return ue(a.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return a=ye(a.type,!1),a;case 11:return a=ye(a.type.render,!1),a;case 1:return a=ye(a.type,!0),a;default:return""}}function Ne(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case W:return"Fragment";case L:return"Portal";case q:return"Profiler";case P:return"StrictMode";case U:return"Suspense";case z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case M:return(a._context.displayName||"Context")+".Provider";case V:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return c=a.displayName||null,c!==null?c:Ne(a.type)||"Memo";case Z:c=a._payload,a=a._init;try{return Ne(a(c))}catch{}}return null}function ze(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(c);case 8:return c===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Oe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function De(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Je(a){var c=De(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),w=""+a[c];if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,j=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return k.call(this)},set:function(J){w=""+J,j.call(this,J)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(J){w=""+J},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Xe(a){a._valueTracker||(a._valueTracker=Je(a))}function Ve(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var m=c.getValue(),w="";return a&&(w=De(a)?a.checked?"true":"false":a.value),a=w,a!==m?(c.setValue(a),!0):!1}function ct(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _t(a,c){var m=c.checked;return oe({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Tt(a,c){var m=c.defaultValue==null?"":c.defaultValue,w=c.checked!=null?c.checked:c.defaultChecked;m=Oe(c.value!=null?c.value:m),a._wrapperState={initialChecked:w,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ut(a,c){c=c.checked,c!=null&&O(a,"checked",c,!1)}function tn(a,c){Ut(a,c);var m=Oe(c.value),w=c.type;if(m!=null)w==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?be(a,c.type,m):c.hasOwnProperty("defaultValue")&&be(a,c.type,Oe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function xe(a,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var w=c.type;if(!(w!=="submit"&&w!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,m||c===a.value||(a.value=c),a.defaultValue=c}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function be(a,c,m){(c!=="number"||ct(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var ke=Array.isArray;function Ae(a,c,m,w){if(a=a.options,c){c={};for(var k=0;k<m.length;k++)c["$"+m[k]]=!0;for(m=0;m<a.length;m++)k=c.hasOwnProperty("$"+a[m].value),a[m].selected!==k&&(a[m].selected=k),k&&w&&(a[m].defaultSelected=!0)}else{for(m=""+Oe(m),c=null,k=0;k<a.length;k++){if(a[k].value===m){a[k].selected=!0,w&&(a[k].defaultSelected=!0);return}c!==null||a[k].disabled||(c=a[k])}c!==null&&(c.selected=!0)}}function Ue(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(n(92));if(ke(m)){if(1<m.length)throw Error(n(93));m=m[0]}c=m}c==null&&(c=""),m=c}a._wrapperState={initialValue:Oe(m)}}function Me(a,c){var m=Oe(c.value),w=Oe(c.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),c.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),w!=null&&(a.defaultValue=""+w)}function ut(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Kt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Kt(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var hn,or=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,m,w,k){MSApp.execUnsafeLocalFunction(function(){return a(c,m,w,k)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(hn=hn||document.createElement("div"),hn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=hn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Dn(a,c){if(c){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=c;return}}a.textContent=c}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ci=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(a){Ci.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Ur[c]=Ur[a]})});function wr(a,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||Ur.hasOwnProperty(a)&&Ur[a]?(""+c).trim():c+"px"}function Jt(a,c){a=a.style;for(var m in c)if(c.hasOwnProperty(m)){var w=m.indexOf("--")===0,k=wr(m,c[m],w);m==="float"&&(m="cssFloat"),w?a.setProperty(m,k):a[m]=k}}var Wi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vi(a,c){if(c){if(Wi[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ui(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=null;function da(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var oc=null,Ms=null,H=null;function du(a){if(a=Kf(a)){if(typeof oc!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Bm(c),oc(a.stateNode,a.type,c))}}function un(a){Ms?H?H.push(a):H=[a]:Ms=a}function fu(){if(Ms){var a=Ms,c=H;if(H=Ms=null,du(a),c)for(a=0;a<c.length;a++)du(c[a])}}function pu(a,c){return a(c)}function hu(){}var ac=!1;function fa(a,c,m){if(ac)return a(c,m);ac=!0;try{return pu(a,c,m)}finally{ac=!1,(Ms!==null||H!==null)&&(hu(),fu())}}function Hi(a,c){var m=a.stateNode;if(m===null)return null;var w=Bm(m);if(w===null)return null;m=w[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,c,typeof m));return m}var lc=!1;if(l)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){lc=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{lc=!1}function wf(a,c,m,w,k,j,J,ge,Se){var He=Array.prototype.slice.call(arguments,3);try{c.apply(m,He)}catch(ht){this.onError(ht)}}var ha=!1,$s=null,Ka=!1,Bs=null,_f={onError:function(a){ha=!0,$s=a}};function Sf(a,c,m,w,k,j,J,ge,Se){ha=!1,$s=null,wf.apply(_f,arguments)}function mu(a,c,m,w,k,j,J,ge,Se){if(Sf.apply(this,arguments),ha){if(ha){var He=$s;ha=!1,$s=null}else throw Error(n(198));Ka||(Ka=!0,Bs=He)}}function zs(a){var c=a,m=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,c.flags&4098&&(m=c.return),a=c.return;while(a)}return c.tag===3?m:null}function gu(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function yu(a){if(zs(a)!==a)throw Error(n(188))}function Ef(a){var c=a.alternate;if(!c){if(c=zs(a),c===null)throw Error(n(188));return c!==a?null:a}for(var m=a,w=c;;){var k=m.return;if(k===null)break;var j=k.alternate;if(j===null){if(w=k.return,w!==null){m=w;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===m)return yu(k),a;if(j===w)return yu(k),c;j=j.sibling}throw Error(n(188))}if(m.return!==w.return)m=k,w=j;else{for(var J=!1,ge=k.child;ge;){if(ge===m){J=!0,m=k,w=j;break}if(ge===w){J=!0,w=k,m=j;break}ge=ge.sibling}if(!J){for(ge=j.child;ge;){if(ge===m){J=!0,m=j,w=k;break}if(ge===w){J=!0,w=j,m=k;break}ge=ge.sibling}if(!J)throw Error(n(189))}}if(m.alternate!==w)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:c}function bu(a){return a=Ef(a),a!==null?vu(a):null}function vu(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=vu(a);if(c!==null)return c;a=a.sibling}return null}var xu=e.unstable_scheduleCallback,cc=e.unstable_cancelCallback,wu=e.unstable_shouldYield,Nf=e.unstable_requestPaint,ar=e.unstable_now,kf=e.unstable_getCurrentPriorityLevel,uc=e.unstable_ImmediatePriority,_u=e.unstable_UserBlockingPriority,Ga=e.unstable_NormalPriority,If=e.unstable_LowPriority,dc=e.unstable_IdlePriority,Ja=null,Qi=null;function Cf(a){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(Ja,a,void 0,(a.current.flags&128)===128)}catch{}}var mi=Math.clz32?Math.clz32:Of,Tf=Math.log,Rf=Math.LN2;function Of(a){return a>>>=0,a===0?32:31-(Tf(a)/Rf|0)|0}var Bo=64,Za=4194304;function Ti(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return a&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return a}}function Ya(a,c){var m=a.pendingLanes;if(m===0)return 0;var w=0,k=a.suspendedLanes,j=a.pingedLanes,J=m&0xfffffff;if(J!==0){var ge=J&~k;ge!==0?w=Ti(ge):(j&=J,j!==0&&(w=Ti(j)))}else J=m&~k,J!==0?w=Ti(J):j!==0&&(w=Ti(j));if(w===0)return 0;if(c!==0&&c!==w&&!(c&k)&&(k=w&-w,j=c&-c,k>=j||k===16&&(j&4194240)!==0))return c;if(w&4&&(w|=m&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=w;0<c;)m=31-mi(c),k=1<<m,w|=a[m],c&=~k;return w}function sx(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function ox(a,c){for(var m=a.suspendedLanes,w=a.pingedLanes,k=a.expirationTimes,j=a.pendingLanes;0<j;){var J=31-mi(j),ge=1<<J,Se=k[J];Se===-1?(!(ge&m)||ge&w)&&(k[J]=sx(ge,c)):Se<=c&&(a.expiredLanes|=ge),j&=~ge}}function qf(a){return a=a.pendingLanes&-0x40000001,a!==0?a:a&0x40000000?0x40000000:0}function Om(){var a=Bo;return Bo<<=1,!(Bo&4194240)&&(Bo=64),a}function jf(a){for(var c=[],m=0;31>m;m++)c.push(a);return c}function fc(a,c,m){a.pendingLanes|=c,c!==0x20000000&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-mi(c),a[c]=m}function ax(a,c){var m=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<m;){var k=31-mi(m),j=1<<k;c[k]=0,w[k]=-1,a[k]=-1,m&=~j}}function Af(a,c){var m=a.entangledLanes|=c;for(a=a.entanglements;m;){var w=31-mi(m),k=1<<w;k&c|a[w]&c&&(a[w]|=c),m&=~k}}var Ln=0;function qm(a){return a&=-a,1<a?4<a?a&0xfffffff?16:0x20000000:4:1}var Pf,he,Ff,pc,Df,g=!1,y=[],S=null,N=null,C=null,$=new Map,fe=new Map,me=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tt(a,c){switch(a){case"focusin":case"focusout":S=null;break;case"dragenter":case"dragleave":N=null;break;case"mouseover":case"mouseout":C=null;break;case"pointerover":case"pointerout":$.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(c.pointerId)}}function at(a,c,m,w,k,j){return a===null||a.nativeEvent!==j?(a={blockedOn:c,domEventName:m,eventSystemFlags:w,nativeEvent:j,targetContainers:[k]},c!==null&&(c=Kf(c),c!==null&&he(c)),a):(a.eventSystemFlags|=w,c=a.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),a)}function mt(a,c,m,w,k){switch(c){case"focusin":return S=at(S,a,c,m,w,k),!0;case"dragenter":return N=at(N,a,c,m,w,k),!0;case"mouseover":return C=at(C,a,c,m,w,k),!0;case"pointerover":var j=k.pointerId;return $.set(j,at($.get(j)||null,a,c,m,w,k)),!0;case"gotpointercapture":return j=k.pointerId,fe.set(j,at(fe.get(j)||null,a,c,m,w,k)),!0}return!1}function Be(a){var c=hc(a.target);if(c!==null){var m=zs(c);if(m!==null){if(c=m.tag,c===13){if(c=gu(m),c!==null){a.blockedOn=c,Df(a.priority,function(){Ff(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qe(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var m=ce(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var w=new m.constructor(m.type,m);fo=w,m.target.dispatchEvent(w),fo=null}else return c=Kf(m),c!==null&&he(c),a.blockedOn=m,!1;c.shift()}return!0}function et(a,c,m){qe(a)&&m.delete(c)}function ve(){g=!1,S!==null&&qe(S)&&(S=null),N!==null&&qe(N)&&(N=null),C!==null&&qe(C)&&(C=null),$.forEach(et),fe.forEach(et)}function Ie(a,c){a.blockedOn===c&&(a.blockedOn=null,g||(g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ve)))}function Te(a){function c(k){return Ie(k,a)}if(0<y.length){Ie(y[0],a);for(var m=1;m<y.length;m++){var w=y[m];w.blockedOn===a&&(w.blockedOn=null)}}for(S!==null&&Ie(S,a),N!==null&&Ie(N,a),C!==null&&Ie(C,a),$.forEach(c),fe.forEach(c),m=0;m<me.length;m++)w=me[m],w.blockedOn===a&&(w.blockedOn=null);for(;0<me.length&&(m=me[0],m.blockedOn===null);)Be(m),m.blockedOn===null&&me.shift()}var Ze=A.ReactCurrentBatchConfig,Ge=!0;function Re(a,c,m,w){var k=Ln,j=Ze.transition;Ze.transition=null;try{Ln=1,St(a,c,m,w)}finally{Ln=k,Ze.transition=j}}function Ke(a,c,m,w){var k=Ln,j=Ze.transition;Ze.transition=null;try{Ln=4,St(a,c,m,w)}finally{Ln=k,Ze.transition=j}}function St(a,c,m,w){if(Ge){var k=ce(a,c,m,w);if(k===null)wx(a,c,w,Y,m),tt(a,w);else if(mt(k,a,c,m,w))w.stopPropagation();else if(tt(a,w),c&4&&-1<Qe.indexOf(a)){for(;k!==null;){var j=Kf(k);if(j!==null&&Pf(j),j=ce(a,c,m,w),j===null&&wx(a,c,w,Y,m),j===k)break;k=j}k!==null&&w.stopPropagation()}else wx(a,c,w,null,m)}}var Y=null;function ce(a,c,m,w){if(Y=null,a=da(w),a=hc(a),a!==null)if(c=zs(a),c===null)a=null;else if(m=c.tag,m===13){if(a=gu(c),a!==null)return a;a=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Y=a,null}function Ee(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kf()){case uc:return 1;case _u:return 4;case Ga:case If:return 16;case dc:return 0x20000000;default:return 16}default:return 16}}var st=null,ae=null,pe=null;function Q(){if(pe)return pe;var a,c=ae,m=c.length,w,k="value"in st?st.value:st.textContent,j=k.length;for(a=0;a<m&&c[a]===k[a];a++);var J=m-a;for(w=1;w<=J&&c[m-w]===k[j-w];w++);return pe=k.slice(a,1<w?1-w:void 0)}function ne(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ie(){return!0}function Le(){return!1}function it(a){function c(m,w,k,j,J){this._reactName=m,this._targetInst=k,this.type=w,this.nativeEvent=j,this.target=J,this.currentTarget=null;for(var ge in a)a.hasOwnProperty(ge)&&(m=a[ge],this[ge]=m?m(j):j[ge]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ie:Le,this.isPropagationStopped=Le,this}return oe(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){},isPersistent:ie}),c}var Rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zt=it(Rt),Zt=oe({},Rt,{view:0,detail:0}),lt=it(Zt),_e,Pe,ot,pt=oe({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ot&&(ot&&a.type==="mousemove"?(_e=a.screenX-ot.screenX,Pe=a.screenY-ot.screenY):Pe=_e=0,ot=a),_e)},movementY:function(a){return"movementY"in a?a.movementY:Pe}}),Pt=it(pt),Yt=oe({},pt,{dataTransfer:0}),je=it(Yt),nt=oe({},Zt,{relatedTarget:0}),dt=it(nt),Nt=oe({},Rt,{animationName:0,elapsedTime:0,pseudoElement:0}),xt=it(Nt),Bt=oe({},Rt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mn=it(Bt),Ot=oe({},Rt,{data:0}),_r=it(Ot),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kt(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=wt[a])?!!c[a]:!1}function yn(){return kt}var Hn=oe({},Zt,{key:function(a){if(a.key){var c=We[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ne(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(a){return a.type==="keypress"?ne(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ne(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bn=it(Hn),Vn=oe({},pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ma=it(Vn),li=oe({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn}),lx=it(li),cx=oe({},Rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ws=it(cx),ux=oe({},pt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jm=it(ux),Lf=[9,13,27,32],dx=l&&"CompositionEvent"in window,Mf=null;l&&"documentMode"in document&&(Mf=document.documentMode);var qM=l&&"TextEvent"in window&&!Mf,W1=l&&(!dx||Mf&&8<Mf&&11>=Mf),V1=" ",U1=!1;function H1(a,c){switch(a){case"keyup":return Lf.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Su=!1;function jM(a,c){switch(a){case"compositionend":return Q1(c);case"keypress":return c.which!==32?null:(U1=!0,V1);case"textInput":return a=c.data,a===V1&&U1?null:a;default:return null}}function AM(a,c){if(Su)return a==="compositionend"||!dx&&H1(a,c)?(a=Q(),pe=ae=st=null,Su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return W1&&c.locale!=="ko"?null:c.data;default:return null}}var PM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K1(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!PM[a.type]:c==="textarea"}function G1(a,c,m,w){un(w),c=Lm(c,"onChange"),0<c.length&&(m=new zt("onChange","change",null,m,w),a.push({event:m,listeners:c}))}var $f=null,Bf=null;function FM(a){pk(a,0)}function Am(a){var c=Cu(a);if(Ve(c))return a}function DM(a,c){if(a==="change")return c}var J1=!1;if(l){var fx;if(l){var px="oninput"in document;if(!px){var Z1=document.createElement("div");Z1.setAttribute("oninput","return;"),px=typeof Z1.oninput=="function"}fx=px}else fx=!1;J1=fx&&(!document.documentMode||9<document.documentMode)}function Y1(){$f&&($f.detachEvent("onpropertychange",X1),Bf=$f=null)}function X1(a){if(a.propertyName==="value"&&Am(Bf)){var c=[];G1(c,Bf,a,da(a)),fa(FM,c)}}function LM(a,c,m){a==="focusin"?(Y1(),$f=c,Bf=m,$f.attachEvent("onpropertychange",X1)):a==="focusout"&&Y1()}function MM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Am(Bf)}function $M(a,c){if(a==="click")return Am(c)}function BM(a,c){if(a==="input"||a==="change")return Am(c)}function zM(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var po=typeof Object.is=="function"?Object.is:zM;function zf(a,c){if(po(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var m=Object.keys(a),w=Object.keys(c);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var k=m[w];if(!u.call(c,k)||!po(a[k],c[k]))return!1}return!0}function ek(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function tk(a,c){var m=ek(a);a=0;for(var w;m;){if(m.nodeType===3){if(w=a+m.textContent.length,a<=c&&w>=c)return{node:m,offset:c-a};a=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ek(m)}}function nk(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?nk(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function rk(){for(var a=window,c=ct();c instanceof a.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)a=c.contentWindow;else break;c=ct(a.document)}return c}function hx(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function WM(a){var c=rk(),m=a.focusedElem,w=a.selectionRange;if(c!==m&&m&&m.ownerDocument&&nk(m.ownerDocument.documentElement,m)){if(w!==null&&hx(m)){if(c=w.start,a=w.end,a===void 0&&(a=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(a,m.value.length);else if(a=(c=m.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var k=m.textContent.length,j=Math.min(w.start,k);w=w.end===void 0?j:Math.min(w.end,k),!a.extend&&j>w&&(k=w,w=j,j=k),k=tk(m,j);var J=tk(m,w);k&&J&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==J.node||a.focusOffset!==J.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),a.removeAllRanges(),j>w?(a.addRange(c),a.extend(J.node,J.offset)):(c.setEnd(J.node,J.offset),a.addRange(c)))}}for(c=[],a=m;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)a=c[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var VM=l&&"documentMode"in document&&11>=document.documentMode,Eu=null,mx=null,Wf=null,gx=!1;function ik(a,c,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;gx||Eu==null||Eu!==ct(w)||(w=Eu,"selectionStart"in w&&hx(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Wf&&zf(Wf,w)||(Wf=w,w=Lm(mx,"onSelect"),0<w.length&&(c=new zt("onSelect","select",null,c,m),a.push({event:c,listeners:w}),c.target=Eu)))}function Pm(a,c){var m={};return m[a.toLowerCase()]=c.toLowerCase(),m["Webkit"+a]="webkit"+c,m["Moz"+a]="moz"+c,m}var Nu={animationend:Pm("Animation","AnimationEnd"),animationiteration:Pm("Animation","AnimationIteration"),animationstart:Pm("Animation","AnimationStart"),transitionend:Pm("Transition","TransitionEnd")},yx={},sk={};l&&(sk=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function Fm(a){if(yx[a])return yx[a];if(!Nu[a])return a;var c=Nu[a],m;for(m in c)if(c.hasOwnProperty(m)&&m in sk)return yx[a]=c[m];return a}var ok=Fm("animationend"),ak=Fm("animationiteration"),lk=Fm("animationstart"),ck=Fm("transitionend"),uk=new Map,dk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(a,c){uk.set(a,c),s(c,[a])}for(var bx=0;bx<dk.length;bx++){var vx=dk[bx],UM=vx.toLowerCase(),HM=vx[0].toUpperCase()+vx.slice(1);Xa(UM,"on"+HM)}Xa(ok,"onAnimationEnd"),Xa(ak,"onAnimationIteration"),Xa(lk,"onAnimationStart"),Xa("dblclick","onDoubleClick"),Xa("focusin","onFocus"),Xa("focusout","onBlur"),Xa(ck,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vf));function fk(a,c,m){var w=a.type||"unknown-event";a.currentTarget=m,mu(w,c,void 0,a),a.currentTarget=null}function pk(a,c){c=(c&4)!==0;for(var m=0;m<a.length;m++){var w=a[m],k=w.event;w=w.listeners;e:{var j=void 0;if(c)for(var J=w.length-1;0<=J;J--){var ge=w[J],Se=ge.instance,He=ge.currentTarget;if(ge=ge.listener,Se!==j&&k.isPropagationStopped())break e;fk(k,ge,He),j=Se}else for(J=0;J<w.length;J++){if(ge=w[J],Se=ge.instance,He=ge.currentTarget,ge=ge.listener,Se!==j&&k.isPropagationStopped())break e;fk(k,ge,He),j=Se}}}if(Ka)throw a=Bs,Ka=!1,Bs=null,a}function lr(a,c){var m=c[Ix];m===void 0&&(m=c[Ix]=new Set);var w=a+"__bubble";m.has(w)||(hk(c,a,2,!1),m.add(w))}function xx(a,c,m){var w=0;c&&(w|=4),hk(m,a,w,c)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function Uf(a){if(!a[Dm]){a[Dm]=!0,r.forEach(function(m){m!=="selectionchange"&&(QM.has(m)||xx(m,!1,a),xx(m,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Dm]||(c[Dm]=!0,xx("selectionchange",!1,c))}}function hk(a,c,m,w){switch(Ee(c)){case 1:var k=Re;break;case 4:k=Ke;break;default:k=St}m=k.bind(null,c,m,a),k=void 0,!lc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),w?k!==void 0?a.addEventListener(c,m,{capture:!0,passive:k}):a.addEventListener(c,m,!0):k!==void 0?a.addEventListener(c,m,{passive:k}):a.addEventListener(c,m,!1)}function wx(a,c,m,w,k){var j=w;if(!(c&1)&&!(c&2)&&w!==null)e:for(;;){if(w===null)return;var J=w.tag;if(J===3||J===4){var ge=w.stateNode.containerInfo;if(ge===k||ge.nodeType===8&&ge.parentNode===k)break;if(J===4)for(J=w.return;J!==null;){var Se=J.tag;if((Se===3||Se===4)&&(Se=J.stateNode.containerInfo,Se===k||Se.nodeType===8&&Se.parentNode===k))return;J=J.return}for(;ge!==null;){if(J=hc(ge),J===null)return;if(Se=J.tag,Se===5||Se===6){w=j=J;continue e}ge=ge.parentNode}}w=w.return}fa(function(){var He=j,ht=da(m),gt=[];e:{var ft=uk.get(a);if(ft!==void 0){var qt=zt,$t=a;switch(a){case"keypress":if(ne(m)===0)break e;case"keydown":case"keyup":qt=Bn;break;case"focusin":$t="focus",qt=dt;break;case"focusout":$t="blur",qt=dt;break;case"beforeblur":case"afterblur":qt=dt;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=Pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=je;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=lx;break;case ok:case ak:case lk:qt=xt;break;case ck:qt=Ws;break;case"scroll":qt=lt;break;case"wheel":qt=jm;break;case"copy":case"cut":case"paste":qt=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=ma}var Wt=(c&4)!==0,qr=!Wt&&a==="scroll",Fe=Wt?ft!==null?ft+"Capture":null:ft;Wt=[];for(var Ce=He,$e;Ce!==null;){$e=Ce;var vt=$e.stateNode;if($e.tag===5&&vt!==null&&($e=vt,Fe!==null&&(vt=Hi(Ce,Fe),vt!=null&&Wt.push(Hf(Ce,vt,$e)))),qr)break;Ce=Ce.return}0<Wt.length&&(ft=new qt(ft,$t,null,m,ht),gt.push({event:ft,listeners:Wt}))}}if(!(c&7)){e:{if(ft=a==="mouseover"||a==="pointerover",qt=a==="mouseout"||a==="pointerout",ft&&m!==fo&&($t=m.relatedTarget||m.fromElement)&&(hc($t)||$t[ga]))break e;if((qt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,qt?($t=m.relatedTarget||m.toElement,qt=He,$t=$t?hc($t):null,$t!==null&&(qr=zs($t),$t!==qr||$t.tag!==5&&$t.tag!==6)&&($t=null)):(qt=null,$t=He),qt!==$t)){if(Wt=Pt,vt="onMouseLeave",Fe="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(Wt=ma,vt="onPointerLeave",Fe="onPointerEnter",Ce="pointer"),qr=qt==null?ft:Cu(qt),$e=$t==null?ft:Cu($t),ft=new Wt(vt,Ce+"leave",qt,m,ht),ft.target=qr,ft.relatedTarget=$e,vt=null,hc(ht)===He&&(Wt=new Wt(Fe,Ce+"enter",$t,m,ht),Wt.target=$e,Wt.relatedTarget=qr,vt=Wt),qr=vt,qt&&$t)t:{for(Wt=qt,Fe=$t,Ce=0,$e=Wt;$e;$e=ku($e))Ce++;for($e=0,vt=Fe;vt;vt=ku(vt))$e++;for(;0<Ce-$e;)Wt=ku(Wt),Ce--;for(;0<$e-Ce;)Fe=ku(Fe),$e--;for(;Ce--;){if(Wt===Fe||Fe!==null&&Wt===Fe.alternate)break t;Wt=ku(Wt),Fe=ku(Fe)}Wt=null}else Wt=null;qt!==null&&mk(gt,ft,qt,Wt,!1),$t!==null&&qr!==null&&mk(gt,qr,$t,Wt,!0)}}e:{if(ft=He?Cu(He):window,qt=ft.nodeName&&ft.nodeName.toLowerCase(),qt==="select"||qt==="input"&&ft.type==="file")var Ht=DM;else if(K1(ft))if(J1)Ht=BM;else{Ht=MM;var Xt=LM}else(qt=ft.nodeName)&&qt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Ht=$M);if(Ht&&(Ht=Ht(a,He))){G1(gt,Ht,m,ht);break e}Xt&&Xt(a,ft,He),a==="focusout"&&(Xt=ft._wrapperState)&&Xt.controlled&&ft.type==="number"&&be(ft,"number",ft.value)}switch(Xt=He?Cu(He):window,a){case"focusin":(K1(Xt)||Xt.contentEditable==="true")&&(Eu=Xt,mx=He,Wf=null);break;case"focusout":Wf=mx=Eu=null;break;case"mousedown":gx=!0;break;case"contextmenu":case"mouseup":case"dragend":gx=!1,ik(gt,m,ht);break;case"selectionchange":if(VM)break;case"keydown":case"keyup":ik(gt,m,ht)}var en;if(dx)e:{switch(a){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else Su?H1(a,m)&&(cn="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(cn="onCompositionStart");cn&&(W1&&m.locale!=="ko"&&(Su||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&Su&&(en=Q()):(st=ht,ae="value"in st?st.value:st.textContent,Su=!0)),Xt=Lm(He,cn),0<Xt.length&&(cn=new _r(cn,a,null,m,ht),gt.push({event:cn,listeners:Xt}),en?cn.data=en:(en=Q1(m),en!==null&&(cn.data=en)))),(en=qM?jM(a,m):AM(a,m))&&(He=Lm(He,"onBeforeInput"),0<He.length&&(ht=new _r("onBeforeInput","beforeinput",null,m,ht),gt.push({event:ht,listeners:He}),ht.data=en))}pk(gt,c)})}function Hf(a,c,m){return{instance:a,listener:c,currentTarget:m}}function Lm(a,c){for(var m=c+"Capture",w=[];a!==null;){var k=a,j=k.stateNode;k.tag===5&&j!==null&&(k=j,j=Hi(a,m),j!=null&&w.unshift(Hf(a,j,k)),j=Hi(a,c),j!=null&&w.push(Hf(a,j,k))),a=a.return}return w}function ku(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function mk(a,c,m,w,k){for(var j=c._reactName,J=[];m!==null&&m!==w;){var ge=m,Se=ge.alternate,He=ge.stateNode;if(Se!==null&&Se===w)break;ge.tag===5&&He!==null&&(ge=He,k?(Se=Hi(m,j),Se!=null&&J.unshift(Hf(m,Se,ge))):k||(Se=Hi(m,j),Se!=null&&J.push(Hf(m,Se,ge)))),m=m.return}J.length!==0&&a.push({event:c,listeners:J})}var KM=/\r\n?/g,GM=/\u0000|\uFFFD/g;function gk(a){return(typeof a=="string"?a:""+a).replace(KM,`
`).replace(GM,"")}function Mm(a,c,m){if(c=gk(c),gk(a)!==c&&m)throw Error(n(425))}function $m(){}var _x=null,Sx=null;function Ex(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Nx=typeof setTimeout=="function"?setTimeout:void 0,JM=typeof clearTimeout=="function"?clearTimeout:void 0,yk=typeof Promise=="function"?Promise:void 0,ZM=typeof queueMicrotask=="function"?queueMicrotask:typeof yk<"u"?function(a){return yk.resolve(null).then(a).catch(YM)}:Nx;function YM(a){setTimeout(function(){throw a})}function kx(a,c){var m=c,w=0;do{var k=m.nextSibling;if(a.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(w===0){a.removeChild(k),Te(c);return}w--}else m!=="$"&&m!=="$?"&&m!=="$!"||w++;m=k}while(m);Te(c)}function el(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function bk(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return a;c--}else m==="/$"&&c++}a=a.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),zo="__reactFiber$"+Iu,Qf="__reactProps$"+Iu,ga="__reactContainer$"+Iu,Ix="__reactEvents$"+Iu,XM="__reactListeners$"+Iu,e$="__reactHandles$"+Iu;function hc(a){var c=a[zo];if(c)return c;for(var m=a.parentNode;m;){if(c=m[ga]||m[zo]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(a=bk(a);a!==null;){if(m=a[zo])return m;a=bk(a)}return c}a=m,m=a.parentNode}return null}function Kf(a){return a=a[zo]||a[ga],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Cu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Bm(a){return a[Qf]||null}var Cx=[],Tu=-1;function tl(a){return{current:a}}function cr(a){0>Tu||(a.current=Cx[Tu],Cx[Tu]=null,Tu--)}function nr(a,c){Tu++,Cx[Tu]=a.current,a.current=c}var nl={},gi=tl(nl),Ki=tl(!1),mc=nl;function Ru(a,c){var m=a.type.contextTypes;if(!m)return nl;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===c)return w.__reactInternalMemoizedMaskedChildContext;var k={},j;for(j in m)k[j]=c[j];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=k),k}function Gi(a){return a=a.childContextTypes,a!=null}function zm(){cr(Ki),cr(gi)}function vk(a,c,m){if(gi.current!==nl)throw Error(n(168));nr(gi,c),nr(Ki,m)}function xk(a,c,m){var w=a.stateNode;if(c=c.childContextTypes,typeof w.getChildContext!="function")return m;w=w.getChildContext();for(var k in w)if(!(k in c))throw Error(n(108,ze(a)||"Unknown",k));return oe({},m,w)}function Wm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||nl,mc=gi.current,nr(gi,a),nr(Ki,Ki.current),!0}function wk(a,c,m){var w=a.stateNode;if(!w)throw Error(n(169));m?(a=xk(a,c,mc),w.__reactInternalMemoizedMergedChildContext=a,cr(Ki),cr(gi),nr(gi,a)):cr(Ki),nr(Ki,m)}var ya=null,Vm=!1,Tx=!1;function _k(a){ya===null?ya=[a]:ya.push(a)}function t$(a){Vm=!0,_k(a)}function rl(){if(!Tx&&ya!==null){Tx=!0;var a=0,c=Ln;try{var m=ya;for(Ln=1;a<m.length;a++){var w=m[a];do w=w(!0);while(w!==null)}ya=null,Vm=!1}catch(k){throw ya!==null&&(ya=ya.slice(a+1)),xu(uc,rl),k}finally{Ln=c,Tx=!1}}return null}var Ou=[],qu=0,Um=null,Hm=0,Vs=[],Us=0,gc=null,ba=1,va="";function yc(a,c){Ou[qu++]=Hm,Ou[qu++]=Um,Um=a,Hm=c}function Sk(a,c,m){Vs[Us++]=ba,Vs[Us++]=va,Vs[Us++]=gc,gc=a;var w=ba;a=va;var k=32-mi(w)-1;w&=~(1<<k),m+=1;var j=32-mi(c)+k;if(30<j){var J=k-k%5;j=(w&(1<<J)-1).toString(32),w>>=J,k-=J,ba=1<<32-mi(c)+k|m<<k|w,va=j+a}else ba=1<<j|m<<k|w,va=a}function Rx(a){a.return!==null&&(yc(a,1),Sk(a,1,0))}function Ox(a){for(;a===Um;)Um=Ou[--qu],Ou[qu]=null,Hm=Ou[--qu],Ou[qu]=null;for(;a===gc;)gc=Vs[--Us],Vs[Us]=null,va=Vs[--Us],Vs[Us]=null,ba=Vs[--Us],Vs[Us]=null}var ms=null,gs=null,fr=!1,ho=null;function Ek(a,c){var m=Gs(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=a,c=a.deletions,c===null?(a.deletions=[m],a.flags|=16):c.push(m)}function Nk(a,c){switch(a.tag){case 5:var m=a.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,ms=a,gs=el(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,ms=a,gs=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=gc!==null?{id:ba,overflow:va}:null,a.memoizedState={dehydrated:c,treeContext:m,retryLane:0x40000000},m=Gs(18,null,null,0),m.stateNode=c,m.return=a,a.child=m,ms=a,gs=null,!0):!1;default:return!1}}function qx(a){return(a.mode&1)!==0&&(a.flags&128)===0}function jx(a){if(fr){var c=gs;if(c){var m=c;if(!Nk(a,c)){if(qx(a))throw Error(n(418));c=el(m.nextSibling);var w=ms;c&&Nk(a,c)?Ek(w,m):(a.flags=a.flags&-4097|2,fr=!1,ms=a)}}else{if(qx(a))throw Error(n(418));a.flags=a.flags&-4097|2,fr=!1,ms=a}}}function kk(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ms=a}function Qm(a){if(a!==ms)return!1;if(!fr)return kk(a),fr=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Ex(a.type,a.memoizedProps)),c&&(c=gs)){if(qx(a))throw Ik(),Error(n(418));for(;c;)Ek(a,c),c=el(c.nextSibling)}if(kk(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(c===0){gs=el(a.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}a=a.nextSibling}gs=null}}else gs=ms?el(a.stateNode.nextSibling):null;return!0}function Ik(){for(var a=gs;a;)a=el(a.nextSibling)}function ju(){gs=ms=null,fr=!1}function Ax(a){ho===null?ho=[a]:ho.push(a)}var n$=A.ReactCurrentBatchConfig;function Gf(a,c,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var w=m.stateNode}if(!w)throw Error(n(147,a));var k=w,j=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===j?c.ref:(c=function(J){var ge=k.refs;J===null?delete ge[j]:ge[j]=J},c._stringRef=j,c)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function Km(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function Ck(a){var c=a._init;return c(a._payload)}function Tk(a){function c(Fe,Ce){if(a){var $e=Fe.deletions;$e===null?(Fe.deletions=[Ce],Fe.flags|=16):$e.push(Ce)}}function m(Fe,Ce){if(!a)return null;for(;Ce!==null;)c(Fe,Ce),Ce=Ce.sibling;return null}function w(Fe,Ce){for(Fe=new Map;Ce!==null;)Ce.key!==null?Fe.set(Ce.key,Ce):Fe.set(Ce.index,Ce),Ce=Ce.sibling;return Fe}function k(Fe,Ce){return Fe=dl(Fe,Ce),Fe.index=0,Fe.sibling=null,Fe}function j(Fe,Ce,$e){return Fe.index=$e,a?($e=Fe.alternate,$e!==null?($e=$e.index,$e<Ce?(Fe.flags|=2,Ce):$e):(Fe.flags|=2,Ce)):(Fe.flags|=1048576,Ce)}function J(Fe){return a&&Fe.alternate===null&&(Fe.flags|=2),Fe}function ge(Fe,Ce,$e,vt){return Ce===null||Ce.tag!==6?(Ce=Nw($e,Fe.mode,vt),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function Se(Fe,Ce,$e,vt){var Ht=$e.type;return Ht===W?ht(Fe,Ce,$e.props.children,vt,$e.key):Ce!==null&&(Ce.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Z&&Ck(Ht)===Ce.type)?(vt=k(Ce,$e.props),vt.ref=Gf(Fe,Ce,$e),vt.return=Fe,vt):(vt=bg($e.type,$e.key,$e.props,null,Fe.mode,vt),vt.ref=Gf(Fe,Ce,$e),vt.return=Fe,vt)}function He(Fe,Ce,$e,vt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==$e.containerInfo||Ce.stateNode.implementation!==$e.implementation?(Ce=kw($e,Fe.mode,vt),Ce.return=Fe,Ce):(Ce=k(Ce,$e.children||[]),Ce.return=Fe,Ce)}function ht(Fe,Ce,$e,vt,Ht){return Ce===null||Ce.tag!==7?(Ce=Nc($e,Fe.mode,vt,Ht),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function gt(Fe,Ce,$e){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=Nw(""+Ce,Fe.mode,$e),Ce.return=Fe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return $e=bg(Ce.type,Ce.key,Ce.props,null,Fe.mode,$e),$e.ref=Gf(Fe,null,Ce),$e.return=Fe,$e;case L:return Ce=kw(Ce,Fe.mode,$e),Ce.return=Fe,Ce;case Z:var vt=Ce._init;return gt(Fe,vt(Ce._payload),$e)}if(ke(Ce)||te(Ce))return Ce=Nc(Ce,Fe.mode,$e,null),Ce.return=Fe,Ce;Km(Fe,Ce)}return null}function ft(Fe,Ce,$e,vt){var Ht=Ce!==null?Ce.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Ht!==null?null:ge(Fe,Ce,""+$e,vt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return $e.key===Ht?Se(Fe,Ce,$e,vt):null;case L:return $e.key===Ht?He(Fe,Ce,$e,vt):null;case Z:return Ht=$e._init,ft(Fe,Ce,Ht($e._payload),vt)}if(ke($e)||te($e))return Ht!==null?null:ht(Fe,Ce,$e,vt,null);Km(Fe,$e)}return null}function qt(Fe,Ce,$e,vt,Ht){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Fe=Fe.get($e)||null,ge(Ce,Fe,""+vt,Ht);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case D:return Fe=Fe.get(vt.key===null?$e:vt.key)||null,Se(Ce,Fe,vt,Ht);case L:return Fe=Fe.get(vt.key===null?$e:vt.key)||null,He(Ce,Fe,vt,Ht);case Z:var Xt=vt._init;return qt(Fe,Ce,$e,Xt(vt._payload),Ht)}if(ke(vt)||te(vt))return Fe=Fe.get($e)||null,ht(Ce,Fe,vt,Ht,null);Km(Ce,vt)}return null}function $t(Fe,Ce,$e,vt){for(var Ht=null,Xt=null,en=Ce,cn=Ce=0,oi=null;en!==null&&cn<$e.length;cn++){en.index>cn?(oi=en,en=null):oi=en.sibling;var Pn=ft(Fe,en,$e[cn],vt);if(Pn===null){en===null&&(en=oi);break}a&&en&&Pn.alternate===null&&c(Fe,en),Ce=j(Pn,Ce,cn),Xt===null?Ht=Pn:Xt.sibling=Pn,Xt=Pn,en=oi}if(cn===$e.length)return m(Fe,en),fr&&yc(Fe,cn),Ht;if(en===null){for(;cn<$e.length;cn++)en=gt(Fe,$e[cn],vt),en!==null&&(Ce=j(en,Ce,cn),Xt===null?Ht=en:Xt.sibling=en,Xt=en);return fr&&yc(Fe,cn),Ht}for(en=w(Fe,en);cn<$e.length;cn++)oi=qt(en,Fe,cn,$e[cn],vt),oi!==null&&(a&&oi.alternate!==null&&en.delete(oi.key===null?cn:oi.key),Ce=j(oi,Ce,cn),Xt===null?Ht=oi:Xt.sibling=oi,Xt=oi);return a&&en.forEach(function(fl){return c(Fe,fl)}),fr&&yc(Fe,cn),Ht}function Wt(Fe,Ce,$e,vt){var Ht=te($e);if(typeof Ht!="function")throw Error(n(150));if($e=Ht.call($e),$e==null)throw Error(n(151));for(var Xt=Ht=null,en=Ce,cn=Ce=0,oi=null,Pn=$e.next();en!==null&&!Pn.done;cn++,Pn=$e.next()){en.index>cn?(oi=en,en=null):oi=en.sibling;var fl=ft(Fe,en,Pn.value,vt);if(fl===null){en===null&&(en=oi);break}a&&en&&fl.alternate===null&&c(Fe,en),Ce=j(fl,Ce,cn),Xt===null?Ht=fl:Xt.sibling=fl,Xt=fl,en=oi}if(Pn.done)return m(Fe,en),fr&&yc(Fe,cn),Ht;if(en===null){for(;!Pn.done;cn++,Pn=$e.next())Pn=gt(Fe,Pn.value,vt),Pn!==null&&(Ce=j(Pn,Ce,cn),Xt===null?Ht=Pn:Xt.sibling=Pn,Xt=Pn);return fr&&yc(Fe,cn),Ht}for(en=w(Fe,en);!Pn.done;cn++,Pn=$e.next())Pn=qt(en,Fe,cn,Pn.value,vt),Pn!==null&&(a&&Pn.alternate!==null&&en.delete(Pn.key===null?cn:Pn.key),Ce=j(Pn,Ce,cn),Xt===null?Ht=Pn:Xt.sibling=Pn,Xt=Pn);return a&&en.forEach(function(A$){return c(Fe,A$)}),fr&&yc(Fe,cn),Ht}function qr(Fe,Ce,$e,vt){if(typeof $e=="object"&&$e!==null&&$e.type===W&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:e:{for(var Ht=$e.key,Xt=Ce;Xt!==null;){if(Xt.key===Ht){if(Ht=$e.type,Ht===W){if(Xt.tag===7){m(Fe,Xt.sibling),Ce=k(Xt,$e.props.children),Ce.return=Fe,Fe=Ce;break e}}else if(Xt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Z&&Ck(Ht)===Xt.type){m(Fe,Xt.sibling),Ce=k(Xt,$e.props),Ce.ref=Gf(Fe,Xt,$e),Ce.return=Fe,Fe=Ce;break e}m(Fe,Xt);break}else c(Fe,Xt);Xt=Xt.sibling}$e.type===W?(Ce=Nc($e.props.children,Fe.mode,vt,$e.key),Ce.return=Fe,Fe=Ce):(vt=bg($e.type,$e.key,$e.props,null,Fe.mode,vt),vt.ref=Gf(Fe,Ce,$e),vt.return=Fe,Fe=vt)}return J(Fe);case L:e:{for(Xt=$e.key;Ce!==null;){if(Ce.key===Xt)if(Ce.tag===4&&Ce.stateNode.containerInfo===$e.containerInfo&&Ce.stateNode.implementation===$e.implementation){m(Fe,Ce.sibling),Ce=k(Ce,$e.children||[]),Ce.return=Fe,Fe=Ce;break e}else{m(Fe,Ce);break}else c(Fe,Ce);Ce=Ce.sibling}Ce=kw($e,Fe.mode,vt),Ce.return=Fe,Fe=Ce}return J(Fe);case Z:return Xt=$e._init,qr(Fe,Ce,Xt($e._payload),vt)}if(ke($e))return $t(Fe,Ce,$e,vt);if(te($e))return Wt(Fe,Ce,$e,vt);Km(Fe,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ce!==null&&Ce.tag===6?(m(Fe,Ce.sibling),Ce=k(Ce,$e),Ce.return=Fe,Fe=Ce):(m(Fe,Ce),Ce=Nw($e,Fe.mode,vt),Ce.return=Fe,Fe=Ce),J(Fe)):m(Fe,Ce)}return qr}var Au=Tk(!0),Rk=Tk(!1),Gm=tl(null),Jm=null,Pu=null,Px=null;function Fx(){Px=Pu=Jm=null}function Dx(a){var c=Gm.current;cr(Gm),a._currentValue=c}function Lx(a,c,m){for(;a!==null;){var w=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),a===m)break;a=a.return}}function Fu(a,c){Jm=a,Px=Pu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&c&&(Ji=!0),a.firstContext=null)}function Hs(a){var c=a._currentValue;if(Px!==a)if(a={context:a,memoizedValue:c,next:null},Pu===null){if(Jm===null)throw Error(n(308));Pu=a,Jm.dependencies={lanes:0,firstContext:a}}else Pu=Pu.next=a;return c}var bc=null;function Mx(a){bc===null?bc=[a]:bc.push(a)}function Ok(a,c,m,w){var k=c.interleaved;return k===null?(m.next=m,Mx(c)):(m.next=k.next,k.next=m),c.interleaved=m,xa(a,w)}function xa(a,c){a.lanes|=c;var m=a.alternate;for(m!==null&&(m.lanes|=c),m=a,a=a.return;a!==null;)a.childLanes|=c,m=a.alternate,m!==null&&(m.childLanes|=c),m=a,a=a.return;return m.tag===3?m.stateNode:null}var il=!1;function $x(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qk(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function wa(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function sl(a,c,m){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,jn&2){var k=w.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),w.pending=c,xa(a,m)}return k=w.interleaved,k===null?(c.next=c,Mx(w)):(c.next=k.next,k.next=c),w.interleaved=c,xa(a,m)}function Zm(a,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var w=c.lanes;w&=a.pendingLanes,m|=w,c.lanes=m,Af(a,m)}}function jk(a,c){var m=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var k=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var J={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?k=j=J:j=j.next=J,m=m.next}while(m!==null);j===null?k=j=c:j=j.next=c}else k=j=c;m={baseState:w.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:w.shared,effects:w.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=c}function Ym(a,c,m,w){var k=a.updateQueue;il=!1;var j=k.firstBaseUpdate,J=k.lastBaseUpdate,ge=k.shared.pending;if(ge!==null){k.shared.pending=null;var Se=ge,He=Se.next;Se.next=null,J===null?j=He:J.next=He,J=Se;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,ge=ht.lastBaseUpdate,ge!==J&&(ge===null?ht.firstBaseUpdate=He:ge.next=He,ht.lastBaseUpdate=Se))}if(j!==null){var gt=k.baseState;J=0,ht=He=Se=null,ge=j;do{var ft=ge.lane,qt=ge.eventTime;if((w&ft)===ft){ht!==null&&(ht=ht.next={eventTime:qt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var $t=a,Wt=ge;switch(ft=c,qt=m,Wt.tag){case 1:if($t=Wt.payload,typeof $t=="function"){gt=$t.call(qt,gt,ft);break e}gt=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=Wt.payload,ft=typeof $t=="function"?$t.call(qt,gt,ft):$t,ft==null)break e;gt=oe({},gt,ft);break e;case 2:il=!0}}ge.callback!==null&&ge.lane!==0&&(a.flags|=64,ft=k.effects,ft===null?k.effects=[ge]:ft.push(ge))}else qt={eventTime:qt,lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ht===null?(He=ht=qt,Se=gt):ht=ht.next=qt,J|=ft;if(ge=ge.next,ge===null){if(ge=k.shared.pending,ge===null)break;ft=ge,ge=ft.next,ft.next=null,k.lastBaseUpdate=ft,k.shared.pending=null}}while(!0);if(ht===null&&(Se=gt),k.baseState=Se,k.firstBaseUpdate=He,k.lastBaseUpdate=ht,c=k.shared.interleaved,c!==null){k=c;do J|=k.lane,k=k.next;while(k!==c)}else j===null&&(k.shared.lanes=0);wc|=J,a.lanes=J,a.memoizedState=gt}}function Ak(a,c,m){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var w=a[c],k=w.callback;if(k!==null){if(w.callback=null,w=m,typeof k!="function")throw Error(n(191,k));k.call(w)}}}var Jf={},Wo=tl(Jf),Zf=tl(Jf),Yf=tl(Jf);function vc(a){if(a===Jf)throw Error(n(174));return a}function Bx(a,c){switch(nr(Yf,c),nr(Zf,a),nr(Wo,Jf),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Gt(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Gt(c,a)}cr(Wo),nr(Wo,c)}function Du(){cr(Wo),cr(Zf),cr(Yf)}function Pk(a){vc(Yf.current);var c=vc(Wo.current),m=Gt(c,a.type);c!==m&&(nr(Zf,a),nr(Wo,m))}function zx(a){Zf.current===a&&(cr(Wo),cr(Zf))}var Sr=tl(0);function Xm(a){for(var c=a;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Wx=[];function Vx(){for(var a=0;a<Wx.length;a++)Wx[a]._workInProgressVersionPrimary=null;Wx.length=0}var eg=A.ReactCurrentDispatcher,Ux=A.ReactCurrentBatchConfig,xc=0,Er=null,ti=null,ii=null,tg=!1,Xf=!1,ep=0,r$=0;function yi(){throw Error(n(321))}function Hx(a,c){if(c===null)return!1;for(var m=0;m<c.length&&m<a.length;m++)if(!po(a[m],c[m]))return!1;return!0}function Qx(a,c,m,w,k,j){if(xc=j,Er=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,eg.current=a===null||a.memoizedState===null?a$:l$,a=m(w,k),Xf){j=0;do{if(Xf=!1,ep=0,25<=j)throw Error(n(301));j+=1,ii=ti=null,c.updateQueue=null,eg.current=c$,a=m(w,k)}while(Xf)}if(eg.current=ig,c=ti!==null&&ti.next!==null,xc=0,ii=ti=Er=null,tg=!1,c)throw Error(n(300));return a}function Kx(){var a=ep!==0;return ep=0,a}function Vo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?Er.memoizedState=ii=a:ii=ii.next=a,ii}function Qs(){if(ti===null){var a=Er.alternate;a=a!==null?a.memoizedState:null}else a=ti.next;var c=ii===null?Er.memoizedState:ii.next;if(c!==null)ii=c,ti=a;else{if(a===null)throw Error(n(310));ti=a,a={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},ii===null?Er.memoizedState=ii=a:ii=ii.next=a}return ii}function tp(a,c){return typeof c=="function"?c(a):c}function Gx(a){var c=Qs(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var w=ti,k=w.baseQueue,j=m.pending;if(j!==null){if(k!==null){var J=k.next;k.next=j.next,j.next=J}w.baseQueue=k=j,m.pending=null}if(k!==null){j=k.next,w=w.baseState;var ge=J=null,Se=null,He=j;do{var ht=He.lane;if((xc&ht)===ht)Se!==null&&(Se=Se.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),w=He.hasEagerState?He.eagerState:a(w,He.action);else{var gt={lane:ht,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Se===null?(ge=Se=gt,J=w):Se=Se.next=gt,Er.lanes|=ht,wc|=ht}He=He.next}while(He!==null&&He!==j);Se===null?J=w:Se.next=ge,po(w,c.memoizedState)||(Ji=!0),c.memoizedState=w,c.baseState=J,c.baseQueue=Se,m.lastRenderedState=w}if(a=m.interleaved,a!==null){k=a;do j=k.lane,Er.lanes|=j,wc|=j,k=k.next;while(k!==a)}else k===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function Jx(a){var c=Qs(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var w=m.dispatch,k=m.pending,j=c.memoizedState;if(k!==null){m.pending=null;var J=k=k.next;do j=a(j,J.action),J=J.next;while(J!==k);po(j,c.memoizedState)||(Ji=!0),c.memoizedState=j,c.baseQueue===null&&(c.baseState=j),m.lastRenderedState=j}return[j,w]}function Fk(){}function Dk(a,c){var m=Er,w=Qs(),k=c(),j=!po(w.memoizedState,k);if(j&&(w.memoizedState=k,Ji=!0),w=w.queue,Zx($k.bind(null,m,w,a),[a]),w.getSnapshot!==c||j||ii!==null&&ii.memoizedState.tag&1){if(m.flags|=2048,np(9,Mk.bind(null,m,w,k,c),void 0,null),si===null)throw Error(n(349));xc&30||Lk(m,c,k)}return k}function Lk(a,c,m){a.flags|=16384,a={getSnapshot:c,value:m},c=Er.updateQueue,c===null?(c={lastEffect:null,stores:null},Er.updateQueue=c,c.stores=[a]):(m=c.stores,m===null?c.stores=[a]:m.push(a))}function Mk(a,c,m,w){c.value=m,c.getSnapshot=w,Bk(c)&&zk(a)}function $k(a,c,m){return m(function(){Bk(c)&&zk(a)})}function Bk(a){var c=a.getSnapshot;a=a.value;try{var m=c();return!po(a,m)}catch{return!0}}function zk(a){var c=xa(a,1);c!==null&&bo(c,a,1,-1)}function Wk(a){var c=Vo();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:a},c.queue=a,a=a.dispatch=o$.bind(null,Er,a),[c.memoizedState,a]}function np(a,c,m,w){return a={tag:a,create:c,destroy:m,deps:w,next:null},c=Er.updateQueue,c===null?(c={lastEffect:null,stores:null},Er.updateQueue=c,c.lastEffect=a.next=a):(m=c.lastEffect,m===null?c.lastEffect=a.next=a:(w=m.next,m.next=a,a.next=w,c.lastEffect=a)),a}function Vk(){return Qs().memoizedState}function ng(a,c,m,w){var k=Vo();Er.flags|=a,k.memoizedState=np(1|c,m,void 0,w===void 0?null:w)}function rg(a,c,m,w){var k=Qs();w=w===void 0?null:w;var j=void 0;if(ti!==null){var J=ti.memoizedState;if(j=J.destroy,w!==null&&Hx(w,J.deps)){k.memoizedState=np(c,m,j,w);return}}Er.flags|=a,k.memoizedState=np(1|c,m,j,w)}function Uk(a,c){return ng(8390656,8,a,c)}function Zx(a,c){return rg(2048,8,a,c)}function Hk(a,c){return rg(4,2,a,c)}function Qk(a,c){return rg(4,4,a,c)}function Kk(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Gk(a,c,m){return m=m!=null?m.concat([a]):null,rg(4,4,Kk.bind(null,c,a),m)}function Yx(){}function Jk(a,c){var m=Qs();c=c===void 0?null:c;var w=m.memoizedState;return w!==null&&c!==null&&Hx(c,w[1])?w[0]:(m.memoizedState=[a,c],a)}function Zk(a,c){var m=Qs();c=c===void 0?null:c;var w=m.memoizedState;return w!==null&&c!==null&&Hx(c,w[1])?w[0]:(a=a(),m.memoizedState=[a,c],a)}function Yk(a,c,m){return xc&21?(po(m,c)||(m=Om(),Er.lanes|=m,wc|=m,a.baseState=!0),c):(a.baseState&&(a.baseState=!1,Ji=!0),a.memoizedState=m)}function i$(a,c){var m=Ln;Ln=m!==0&&4>m?m:4,a(!0);var w=Ux.transition;Ux.transition={};try{a(!1),c()}finally{Ln=m,Ux.transition=w}}function Xk(){return Qs().memoizedState}function s$(a,c,m){var w=cl(a);if(m={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null},eI(a))tI(c,m);else if(m=Ok(a,c,m,w),m!==null){var k=Oi();bo(m,a,w,k),nI(m,c,w)}}function o$(a,c,m){var w=cl(a),k={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null};if(eI(a))tI(c,k);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=c.lastRenderedReducer,j!==null))try{var J=c.lastRenderedState,ge=j(J,m);if(k.hasEagerState=!0,k.eagerState=ge,po(ge,J)){var Se=c.interleaved;Se===null?(k.next=k,Mx(c)):(k.next=Se.next,Se.next=k),c.interleaved=k;return}}catch{}finally{}m=Ok(a,c,k,w),m!==null&&(k=Oi(),bo(m,a,w,k),nI(m,c,w))}}function eI(a){var c=a.alternate;return a===Er||c!==null&&c===Er}function tI(a,c){Xf=tg=!0;var m=a.pending;m===null?c.next=c:(c.next=m.next,m.next=c),a.pending=c}function nI(a,c,m){if(m&4194240){var w=c.lanes;w&=a.pendingLanes,m|=w,c.lanes=m,Af(a,m)}}var ig={readContext:Hs,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},a$={readContext:Hs,useCallback:function(a,c){return Vo().memoizedState=[a,c===void 0?null:c],a},useContext:Hs,useEffect:Uk,useImperativeHandle:function(a,c,m){return m=m!=null?m.concat([a]):null,ng(4194308,4,Kk.bind(null,c,a),m)},useLayoutEffect:function(a,c){return ng(4194308,4,a,c)},useInsertionEffect:function(a,c){return ng(4,2,a,c)},useMemo:function(a,c){var m=Vo();return c=c===void 0?null:c,a=a(),m.memoizedState=[a,c],a},useReducer:function(a,c,m){var w=Vo();return c=m!==void 0?m(c):c,w.memoizedState=w.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},w.queue=a,a=a.dispatch=s$.bind(null,Er,a),[w.memoizedState,a]},useRef:function(a){var c=Vo();return a={current:a},c.memoizedState=a},useState:Wk,useDebugValue:Yx,useDeferredValue:function(a){return Vo().memoizedState=a},useTransition:function(){var a=Wk(!1),c=a[0];return a=i$.bind(null,a[1]),Vo().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,m){var w=Er,k=Vo();if(fr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=c(),si===null)throw Error(n(349));xc&30||Lk(w,c,m)}k.memoizedState=m;var j={value:m,getSnapshot:c};return k.queue=j,Uk($k.bind(null,w,j,a),[a]),w.flags|=2048,np(9,Mk.bind(null,w,j,m,c),void 0,null),m},useId:function(){var a=Vo(),c=si.identifierPrefix;if(fr){var m=va,w=ba;m=(w&~(1<<32-mi(w)-1)).toString(32)+m,c=":"+c+"R"+m,m=ep++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=r$++,c=":"+c+"r"+m.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},l$={readContext:Hs,useCallback:Jk,useContext:Hs,useEffect:Zx,useImperativeHandle:Gk,useInsertionEffect:Hk,useLayoutEffect:Qk,useMemo:Zk,useReducer:Gx,useRef:Vk,useState:function(){return Gx(tp)},useDebugValue:Yx,useDeferredValue:function(a){var c=Qs();return Yk(c,ti.memoizedState,a)},useTransition:function(){var a=Gx(tp)[0],c=Qs().memoizedState;return[a,c]},useMutableSource:Fk,useSyncExternalStore:Dk,useId:Xk,unstable_isNewReconciler:!1},c$={readContext:Hs,useCallback:Jk,useContext:Hs,useEffect:Zx,useImperativeHandle:Gk,useInsertionEffect:Hk,useLayoutEffect:Qk,useMemo:Zk,useReducer:Jx,useRef:Vk,useState:function(){return Jx(tp)},useDebugValue:Yx,useDeferredValue:function(a){var c=Qs();return ti===null?c.memoizedState=a:Yk(c,ti.memoizedState,a)},useTransition:function(){var a=Jx(tp)[0],c=Qs().memoizedState;return[a,c]},useMutableSource:Fk,useSyncExternalStore:Dk,useId:Xk,unstable_isNewReconciler:!1};function mo(a,c){if(a&&a.defaultProps){c=oe({},c),a=a.defaultProps;for(var m in a)c[m]===void 0&&(c[m]=a[m]);return c}return c}function Xx(a,c,m,w){c=a.memoizedState,m=m(w,c),m=m==null?c:oe({},c,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var sg={isMounted:function(a){return(a=a._reactInternals)?zs(a)===a:!1},enqueueSetState:function(a,c,m){a=a._reactInternals;var w=Oi(),k=cl(a),j=wa(w,k);j.payload=c,m!=null&&(j.callback=m),c=sl(a,j,k),c!==null&&(bo(c,a,k,w),Zm(c,a,k))},enqueueReplaceState:function(a,c,m){a=a._reactInternals;var w=Oi(),k=cl(a),j=wa(w,k);j.tag=1,j.payload=c,m!=null&&(j.callback=m),c=sl(a,j,k),c!==null&&(bo(c,a,k,w),Zm(c,a,k))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var m=Oi(),w=cl(a),k=wa(m,w);k.tag=2,c!=null&&(k.callback=c),c=sl(a,k,w),c!==null&&(bo(c,a,w,m),Zm(c,a,w))}};function rI(a,c,m,w,k,j,J){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,j,J):c.prototype&&c.prototype.isPureReactComponent?!zf(m,w)||!zf(k,j):!0}function iI(a,c,m){var w=!1,k=nl,j=c.contextType;return typeof j=="object"&&j!==null?j=Hs(j):(k=Gi(c)?mc:gi.current,w=c.contextTypes,j=(w=w!=null)?Ru(a,k):nl),c=new c(m,j),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=sg,a.stateNode=c,c._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=j),c}function sI(a,c,m,w){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,w),c.state!==a&&sg.enqueueReplaceState(c,c.state,null)}function ew(a,c,m,w){var k=a.stateNode;k.props=m,k.state=a.memoizedState,k.refs={},$x(a);var j=c.contextType;typeof j=="object"&&j!==null?k.context=Hs(j):(j=Gi(c)?mc:gi.current,k.context=Ru(a,j)),k.state=a.memoizedState,j=c.getDerivedStateFromProps,typeof j=="function"&&(Xx(a,c,j,m),k.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&sg.enqueueReplaceState(k,k.state,null),Ym(a,m,k,w),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function Lu(a,c){try{var m="",w=c;do m+=we(w),w=w.return;while(w);var k=m}catch(j){k=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:c,stack:k,digest:null}}function tw(a,c,m){return{value:a,source:null,stack:m??null,digest:c??null}}function nw(a,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var u$=typeof WeakMap=="function"?WeakMap:Map;function oI(a,c,m){m=wa(-1,m),m.tag=3,m.payload={element:null};var w=c.value;return m.callback=function(){fg||(fg=!0,yw=w),nw(a,c)},m}function aI(a,c,m){m=wa(-1,m),m.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var k=c.value;m.payload=function(){return w(k)},m.callback=function(){nw(a,c)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){nw(a,c),typeof w!="function"&&(al===null?al=new Set([this]):al.add(this));var J=c.stack;this.componentDidCatch(c.value,{componentStack:J!==null?J:""})}),m}function lI(a,c,m){var w=a.pingCache;if(w===null){w=a.pingCache=new u$;var k=new Set;w.set(c,k)}else k=w.get(c),k===void 0&&(k=new Set,w.set(c,k));k.has(m)||(k.add(m),a=E$.bind(null,a,c,m),c.then(a,a))}function cI(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function uI(a,c,m,w,k){return a.mode&1?(a.flags|=65536,a.lanes=k,a):(a===c?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=wa(-1,1),c.tag=2,sl(m,c,1))),m.lanes|=1),a)}var d$=A.ReactCurrentOwner,Ji=!1;function Ri(a,c,m,w){c.child=a===null?Rk(c,null,m,w):Au(c,a.child,m,w)}function dI(a,c,m,w,k){m=m.render;var j=c.ref;return Fu(c,k),w=Qx(a,c,m,w,j,k),m=Kx(),a!==null&&!Ji?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~k,_a(a,c,k)):(fr&&m&&Rx(c),c.flags|=1,Ri(a,c,w,k),c.child)}function fI(a,c,m,w,k){if(a===null){var j=m.type;return typeof j=="function"&&!Ew(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=j,pI(a,c,j,w,k)):(a=bg(m.type,null,w,c,c.mode,k),a.ref=c.ref,a.return=c,c.child=a)}if(j=a.child,!(a.lanes&k)){var J=j.memoizedProps;if(m=m.compare,m=m!==null?m:zf,m(J,w)&&a.ref===c.ref)return _a(a,c,k)}return c.flags|=1,a=dl(j,w),a.ref=c.ref,a.return=c,c.child=a}function pI(a,c,m,w,k){if(a!==null){var j=a.memoizedProps;if(zf(j,w)&&a.ref===c.ref)if(Ji=!1,c.pendingProps=w=j,(a.lanes&k)!==0)a.flags&131072&&(Ji=!0);else return c.lanes=a.lanes,_a(a,c,k)}return rw(a,c,m,w,k)}function hI(a,c,m){var w=c.pendingProps,k=w.children,j=a!==null?a.memoizedState:null;if(w.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr($u,ys),ys|=m;else{if(!(m&0x40000000))return a=j!==null?j.baseLanes|m:m,c.lanes=c.childLanes=0x40000000,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,nr($u,ys),ys|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=j!==null?j.baseLanes:m,nr($u,ys),ys|=w}else j!==null?(w=j.baseLanes|m,c.memoizedState=null):w=m,nr($u,ys),ys|=w;return Ri(a,c,k,m),c.child}function mI(a,c){var m=c.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function rw(a,c,m,w,k){var j=Gi(m)?mc:gi.current;return j=Ru(c,j),Fu(c,k),m=Qx(a,c,m,w,j,k),w=Kx(),a!==null&&!Ji?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~k,_a(a,c,k)):(fr&&w&&Rx(c),c.flags|=1,Ri(a,c,m,k),c.child)}function gI(a,c,m,w,k){if(Gi(m)){var j=!0;Wm(c)}else j=!1;if(Fu(c,k),c.stateNode===null)ag(a,c),iI(c,m,w),ew(c,m,w,k),w=!0;else if(a===null){var J=c.stateNode,ge=c.memoizedProps;J.props=ge;var Se=J.context,He=m.contextType;typeof He=="object"&&He!==null?He=Hs(He):(He=Gi(m)?mc:gi.current,He=Ru(c,He));var ht=m.getDerivedStateFromProps,gt=typeof ht=="function"||typeof J.getSnapshotBeforeUpdate=="function";gt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ge!==w||Se!==He)&&sI(c,J,w,He),il=!1;var ft=c.memoizedState;J.state=ft,Ym(c,w,J,k),Se=c.memoizedState,ge!==w||ft!==Se||Ki.current||il?(typeof ht=="function"&&(Xx(c,m,ht,w),Se=c.memoizedState),(ge=il||rI(c,m,ge,w,ft,Se,He))?(gt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(c.flags|=4194308)):(typeof J.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=Se),J.props=w,J.state=Se,J.context=He,w=ge):(typeof J.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{J=c.stateNode,qk(a,c),ge=c.memoizedProps,He=c.type===c.elementType?ge:mo(c.type,ge),J.props=He,gt=c.pendingProps,ft=J.context,Se=m.contextType,typeof Se=="object"&&Se!==null?Se=Hs(Se):(Se=Gi(m)?mc:gi.current,Se=Ru(c,Se));var qt=m.getDerivedStateFromProps;(ht=typeof qt=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ge!==gt||ft!==Se)&&sI(c,J,w,Se),il=!1,ft=c.memoizedState,J.state=ft,Ym(c,w,J,k);var $t=c.memoizedState;ge!==gt||ft!==$t||Ki.current||il?(typeof qt=="function"&&(Xx(c,m,qt,w),$t=c.memoizedState),(He=il||rI(c,m,He,w,ft,$t,Se)||!1)?(ht||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(w,$t,Se),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(w,$t,Se)),typeof J.componentDidUpdate=="function"&&(c.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof J.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(c.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=$t),J.props=w,J.state=$t,J.context=Se,w=He):(typeof J.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(c.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(c.flags|=1024),w=!1)}return iw(a,c,m,w,j,k)}function iw(a,c,m,w,k,j){mI(a,c);var J=(c.flags&128)!==0;if(!w&&!J)return k&&wk(c,m,!1),_a(a,c,j);w=c.stateNode,d$.current=c;var ge=J&&typeof m.getDerivedStateFromError!="function"?null:w.render();return c.flags|=1,a!==null&&J?(c.child=Au(c,a.child,null,j),c.child=Au(c,null,ge,j)):Ri(a,c,ge,j),c.memoizedState=w.state,k&&wk(c,m,!0),c.child}function yI(a){var c=a.stateNode;c.pendingContext?vk(a,c.pendingContext,c.pendingContext!==c.context):c.context&&vk(a,c.context,!1),Bx(a,c.containerInfo)}function bI(a,c,m,w,k){return ju(),Ax(k),c.flags|=256,Ri(a,c,m,w),c.child}var sw={dehydrated:null,treeContext:null,retryLane:0};function ow(a){return{baseLanes:a,cachePool:null,transitions:null}}function vI(a,c,m){var w=c.pendingProps,k=Sr.current,j=!1,J=(c.flags&128)!==0,ge;if((ge=J)||(ge=a!==null&&a.memoizedState===null?!1:(k&2)!==0),ge?(j=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),nr(Sr,k&1),a===null)return jx(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(c.mode&1?a.data==="$!"?c.lanes=8:c.lanes=0x40000000:c.lanes=1,null):(J=w.children,a=w.fallback,j?(w=c.mode,j=c.child,J={mode:"hidden",children:J},!(w&1)&&j!==null?(j.childLanes=0,j.pendingProps=J):j=vg(J,w,0,null),a=Nc(a,w,m,null),j.return=c,a.return=c,j.sibling=a,c.child=j,c.child.memoizedState=ow(m),c.memoizedState=sw,a):aw(c,J));if(k=a.memoizedState,k!==null&&(ge=k.dehydrated,ge!==null))return f$(a,c,J,w,ge,k,m);if(j){j=w.fallback,J=c.mode,k=a.child,ge=k.sibling;var Se={mode:"hidden",children:w.children};return!(J&1)&&c.child!==k?(w=c.child,w.childLanes=0,w.pendingProps=Se,c.deletions=null):(w=dl(k,Se),w.subtreeFlags=k.subtreeFlags&0xe00000),ge!==null?j=dl(ge,j):(j=Nc(j,J,m,null),j.flags|=2),j.return=c,w.return=c,w.sibling=j,c.child=w,w=j,j=c.child,J=a.child.memoizedState,J=J===null?ow(m):{baseLanes:J.baseLanes|m,cachePool:null,transitions:J.transitions},j.memoizedState=J,j.childLanes=a.childLanes&~m,c.memoizedState=sw,w}return j=a.child,a=j.sibling,w=dl(j,{mode:"visible",children:w.children}),!(c.mode&1)&&(w.lanes=m),w.return=c,w.sibling=null,a!==null&&(m=c.deletions,m===null?(c.deletions=[a],c.flags|=16):m.push(a)),c.child=w,c.memoizedState=null,w}function aw(a,c){return c=vg({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function og(a,c,m,w){return w!==null&&Ax(w),Au(c,a.child,null,m),a=aw(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function f$(a,c,m,w,k,j,J){if(m)return c.flags&256?(c.flags&=-257,w=tw(Error(n(422))),og(a,c,J,w)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(j=w.fallback,k=c.mode,w=vg({mode:"visible",children:w.children},k,0,null),j=Nc(j,k,J,null),j.flags|=2,w.return=c,j.return=c,w.sibling=j,c.child=w,c.mode&1&&Au(c,a.child,null,J),c.child.memoizedState=ow(J),c.memoizedState=sw,j);if(!(c.mode&1))return og(a,c,J,null);if(k.data==="$!"){if(w=k.nextSibling&&k.nextSibling.dataset,w)var ge=w.dgst;return w=ge,j=Error(n(419)),w=tw(j,w,void 0),og(a,c,J,w)}if(ge=(J&a.childLanes)!==0,Ji||ge){if(w=si,w!==null){switch(J&-J){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:k=32;break;case 0x20000000:k=0x10000000;break;default:k=0}k=k&(w.suspendedLanes|J)?0:k,k!==0&&k!==j.retryLane&&(j.retryLane=k,xa(a,k),bo(w,a,k,-1))}return Sw(),w=tw(Error(n(421))),og(a,c,J,w)}return k.data==="$?"?(c.flags|=128,c.child=a.child,c=N$.bind(null,a),k._reactRetry=c,null):(a=j.treeContext,gs=el(k.nextSibling),ms=c,fr=!0,ho=null,a!==null&&(Vs[Us++]=ba,Vs[Us++]=va,Vs[Us++]=gc,ba=a.id,va=a.overflow,gc=c),c=aw(c,w.children),c.flags|=4096,c)}function xI(a,c,m){a.lanes|=c;var w=a.alternate;w!==null&&(w.lanes|=c),Lx(a.return,c,m)}function lw(a,c,m,w,k){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:k}:(j.isBackwards=c,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=m,j.tailMode=k)}function wI(a,c,m){var w=c.pendingProps,k=w.revealOrder,j=w.tail;if(Ri(a,c,w.children,m),w=Sr.current,w&2)w=w&1|2,c.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&xI(a,m,c);else if(a.tag===19)xI(a,m,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(nr(Sr,w),!(c.mode&1))c.memoizedState=null;else switch(k){case"forwards":for(m=c.child,k=null;m!==null;)a=m.alternate,a!==null&&Xm(a)===null&&(k=m),m=m.sibling;m=k,m===null?(k=c.child,c.child=null):(k=m.sibling,m.sibling=null),lw(c,!1,k,m,j);break;case"backwards":for(m=null,k=c.child,c.child=null;k!==null;){if(a=k.alternate,a!==null&&Xm(a)===null){c.child=k;break}a=k.sibling,k.sibling=m,m=k,k=a}lw(c,!0,m,null,j);break;case"together":lw(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ag(a,c){!(c.mode&1)&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function _a(a,c,m){if(a!==null&&(c.dependencies=a.dependencies),wc|=c.lanes,!(m&c.childLanes))return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,m=dl(a,a.pendingProps),c.child=m,m.return=c;a.sibling!==null;)a=a.sibling,m=m.sibling=dl(a,a.pendingProps),m.return=c;m.sibling=null}return c.child}function p$(a,c,m){switch(c.tag){case 3:yI(c),ju();break;case 5:Pk(c);break;case 1:Gi(c.type)&&Wm(c);break;case 4:Bx(c,c.stateNode.containerInfo);break;case 10:var w=c.type._context,k=c.memoizedProps.value;nr(Gm,w._currentValue),w._currentValue=k;break;case 13:if(w=c.memoizedState,w!==null)return w.dehydrated!==null?(nr(Sr,Sr.current&1),c.flags|=128,null):m&c.child.childLanes?vI(a,c,m):(nr(Sr,Sr.current&1),a=_a(a,c,m),a!==null?a.sibling:null);nr(Sr,Sr.current&1);break;case 19:if(w=(m&c.childLanes)!==0,a.flags&128){if(w)return wI(a,c,m);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),nr(Sr,Sr.current),w)break;return null;case 22:case 23:return c.lanes=0,hI(a,c,m)}return _a(a,c,m)}var _I,cw,SI,EI;_I=function(a,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},cw=function(){},SI=function(a,c,m,w){var k=a.memoizedProps;if(k!==w){a=c.stateNode,vc(Wo.current);var j=null;switch(m){case"input":k=_t(a,k),w=_t(a,w),j=[];break;case"select":k=oe({},k,{value:void 0}),w=oe({},w,{value:void 0}),j=[];break;case"textarea":k=Ue(a,k),w=Ue(a,w),j=[];break;default:typeof k.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=$m)}Vi(m,w);var J;m=null;for(He in k)if(!w.hasOwnProperty(He)&&k.hasOwnProperty(He)&&k[He]!=null)if(He==="style"){var ge=k[He];for(J in ge)ge.hasOwnProperty(J)&&(m||(m={}),m[J]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(i.hasOwnProperty(He)?j||(j=[]):(j=j||[]).push(He,null));for(He in w){var Se=w[He];if(ge=k?.[He],w.hasOwnProperty(He)&&Se!==ge&&(Se!=null||ge!=null))if(He==="style")if(ge){for(J in ge)!ge.hasOwnProperty(J)||Se&&Se.hasOwnProperty(J)||(m||(m={}),m[J]="");for(J in Se)Se.hasOwnProperty(J)&&ge[J]!==Se[J]&&(m||(m={}),m[J]=Se[J])}else m||(j||(j=[]),j.push(He,m)),m=Se;else He==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ge=ge?ge.__html:void 0,Se!=null&&ge!==Se&&(j=j||[]).push(He,Se)):He==="children"?typeof Se!="string"&&typeof Se!="number"||(j=j||[]).push(He,""+Se):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(i.hasOwnProperty(He)?(Se!=null&&He==="onScroll"&&lr("scroll",a),j||ge===Se||(j=[])):(j=j||[]).push(He,Se))}m&&(j=j||[]).push("style",m);var He=j;(c.updateQueue=He)&&(c.flags|=4)}},EI=function(a,c,m,w){m!==w&&(c.flags|=4)};function rp(a,c){if(!fr)switch(a.tailMode){case"hidden":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function bi(a){var c=a.alternate!==null&&a.alternate.child===a.child,m=0,w=0;if(c)for(var k=a.child;k!==null;)m|=k.lanes|k.childLanes,w|=k.subtreeFlags&0xe00000,w|=k.flags&0xe00000,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)m|=k.lanes|k.childLanes,w|=k.subtreeFlags,w|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=w,a.childLanes=m,c}function h$(a,c,m){var w=c.pendingProps;switch(Ox(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(c),null;case 1:return Gi(c.type)&&zm(),bi(c),null;case 3:return w=c.stateNode,Du(),cr(Ki),cr(gi),Vx(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(Qm(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,ho!==null&&(xw(ho),ho=null))),cw(a,c),bi(c),null;case 5:zx(c);var k=vc(Yf.current);if(m=c.type,a!==null&&c.stateNode!=null)SI(a,c,m,w,k),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!w){if(c.stateNode===null)throw Error(n(166));return bi(c),null}if(a=vc(Wo.current),Qm(c)){w=c.stateNode,m=c.type;var j=c.memoizedProps;switch(w[zo]=c,w[Qf]=j,a=(c.mode&1)!==0,m){case"dialog":lr("cancel",w),lr("close",w);break;case"iframe":case"object":case"embed":lr("load",w);break;case"video":case"audio":for(k=0;k<Vf.length;k++)lr(Vf[k],w);break;case"source":lr("error",w);break;case"img":case"image":case"link":lr("error",w),lr("load",w);break;case"details":lr("toggle",w);break;case"input":Tt(w,j),lr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!j.multiple},lr("invalid",w);break;case"textarea":rt(w,j),lr("invalid",w)}Vi(m,j),k=null;for(var J in j)if(j.hasOwnProperty(J)){var ge=j[J];J==="children"?typeof ge=="string"?w.textContent!==ge&&(j.suppressHydrationWarning!==!0&&Mm(w.textContent,ge,a),k=["children",ge]):typeof ge=="number"&&w.textContent!==""+ge&&(j.suppressHydrationWarning!==!0&&Mm(w.textContent,ge,a),k=["children",""+ge]):i.hasOwnProperty(J)&&ge!=null&&J==="onScroll"&&lr("scroll",w)}switch(m){case"input":Xe(w),xe(w,j,!0);break;case"textarea":Xe(w),ut(w);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(w.onclick=$m)}w=k,c.updateQueue=w,w!==null&&(c.flags|=4)}else{J=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Kt(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=J.createElement("div"),a.innerHTML="<script></script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=J.createElement(m,{is:w.is}):(a=J.createElement(m),m==="select"&&(J=a,w.multiple?J.multiple=!0:w.size&&(J.size=w.size))):a=J.createElementNS(a,m),a[zo]=c,a[Qf]=w,_I(a,c,!1,!1),c.stateNode=a;e:{switch(J=Ui(m,w),m){case"dialog":lr("cancel",a),lr("close",a),k=w;break;case"iframe":case"object":case"embed":lr("load",a),k=w;break;case"video":case"audio":for(k=0;k<Vf.length;k++)lr(Vf[k],a);k=w;break;case"source":lr("error",a),k=w;break;case"img":case"image":case"link":lr("error",a),lr("load",a),k=w;break;case"details":lr("toggle",a),k=w;break;case"input":Tt(a,w),k=_t(a,w),lr("invalid",a);break;case"option":k=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},k=oe({},w,{value:void 0}),lr("invalid",a);break;case"textarea":rt(a,w),k=Ue(a,w),lr("invalid",a);break;default:k=w}Vi(m,k),ge=k;for(j in ge)if(ge.hasOwnProperty(j)){var Se=ge[j];j==="style"?Jt(a,Se):j==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&or(a,Se)):j==="children"?typeof Se=="string"?(m!=="textarea"||Se!=="")&&Dn(a,Se):typeof Se=="number"&&Dn(a,""+Se):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Se!=null&&j==="onScroll"&&lr("scroll",a):Se!=null&&O(a,j,Se,J))}switch(m){case"input":Xe(a),xe(a,w,!1);break;case"textarea":Xe(a),ut(a);break;case"option":w.value!=null&&a.setAttribute("value",""+Oe(w.value));break;case"select":a.multiple=!!w.multiple,j=w.value,j!=null?Ae(a,!!w.multiple,j,!1):w.defaultValue!=null&&Ae(a,!!w.multiple,w.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=$m)}switch(m){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return bi(c),null;case 6:if(a&&c.stateNode!=null)EI(a,c,a.memoizedProps,w);else{if(typeof w!="string"&&c.stateNode===null)throw Error(n(166));if(m=vc(Yf.current),vc(Wo.current),Qm(c)){if(w=c.stateNode,m=c.memoizedProps,w[zo]=c,(j=w.nodeValue!==m)&&(a=ms,a!==null))switch(a.tag){case 3:Mm(w.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Mm(w.nodeValue,m,(a.mode&1)!==0)}j&&(c.flags|=4)}else w=(m.nodeType===9?m:m.ownerDocument).createTextNode(w),w[zo]=c,c.stateNode=w}return bi(c),null;case 13:if(cr(Sr),w=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(fr&&gs!==null&&c.mode&1&&!(c.flags&128))Ik(),ju(),c.flags|=98560,j=!1;else if(j=Qm(c),w!==null&&w.dehydrated!==null){if(a===null){if(!j)throw Error(n(318));if(j=c.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[zo]=c}else ju(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;bi(c),j=!1}else ho!==null&&(xw(ho),ho=null),j=!0;if(!j)return c.flags&65536?c:null}return c.flags&128?(c.lanes=m,c):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(c.child.flags|=8192,c.mode&1&&(a===null||Sr.current&1?ni===0&&(ni=3):Sw())),c.updateQueue!==null&&(c.flags|=4),bi(c),null);case 4:return Du(),cw(a,c),a===null&&Uf(c.stateNode.containerInfo),bi(c),null;case 10:return Dx(c.type._context),bi(c),null;case 17:return Gi(c.type)&&zm(),bi(c),null;case 19:if(cr(Sr),j=c.memoizedState,j===null)return bi(c),null;if(w=(c.flags&128)!==0,J=j.rendering,J===null)if(w)rp(j,!1);else{if(ni!==0||a!==null&&a.flags&128)for(a=c.child;a!==null;){if(J=Xm(a),J!==null){for(c.flags|=128,rp(j,!1),w=J.updateQueue,w!==null&&(c.updateQueue=w,c.flags|=4),c.subtreeFlags=0,w=m,m=c.child;m!==null;)j=m,a=w,j.flags&=0xe00002,J=j.alternate,J===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=J.childLanes,j.lanes=J.lanes,j.child=J.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=J.memoizedProps,j.memoizedState=J.memoizedState,j.updateQueue=J.updateQueue,j.type=J.type,a=J.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return nr(Sr,Sr.current&1|2),c.child}a=a.sibling}j.tail!==null&&ar()>Bu&&(c.flags|=128,w=!0,rp(j,!1),c.lanes=4194304)}else{if(!w)if(a=Xm(J),a!==null){if(c.flags|=128,w=!0,m=a.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),rp(j,!0),j.tail===null&&j.tailMode==="hidden"&&!J.alternate&&!fr)return bi(c),null}else 2*ar()-j.renderingStartTime>Bu&&m!==0x40000000&&(c.flags|=128,w=!0,rp(j,!1),c.lanes=4194304);j.isBackwards?(J.sibling=c.child,c.child=J):(m=j.last,m!==null?m.sibling=J:c.child=J,j.last=J)}return j.tail!==null?(c=j.tail,j.rendering=c,j.tail=c.sibling,j.renderingStartTime=ar(),c.sibling=null,m=Sr.current,nr(Sr,w?m&1|2:m&1),c):(bi(c),null);case 22:case 23:return _w(),w=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(c.flags|=8192),w&&c.mode&1?ys&0x40000000&&(bi(c),c.subtreeFlags&6&&(c.flags|=8192)):bi(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function m$(a,c){switch(Ox(c),c.tag){case 1:return Gi(c.type)&&zm(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Du(),cr(Ki),cr(gi),Vx(),a=c.flags,a&65536&&!(a&128)?(c.flags=a&-65537|128,c):null;case 5:return zx(c),null;case 13:if(cr(Sr),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));ju()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return cr(Sr),null;case 4:return Du(),null;case 10:return Dx(c.type._context),null;case 22:case 23:return _w(),null;case 24:return null;default:return null}}var lg=!1,vi=!1,g$=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Mu(a,c){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(w){Tr(a,c,w)}else m.current=null}function uw(a,c,m){try{m()}catch(w){Tr(a,c,w)}}var NI=!1;function y$(a,c){if(_x=Ge,a=rk(),hx(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var k=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var J=0,ge=-1,Se=-1,He=0,ht=0,gt=a,ft=null;t:for(;;){for(var qt;gt!==m||k!==0&&gt.nodeType!==3||(ge=J+k),gt!==j||w!==0&&gt.nodeType!==3||(Se=J+w),gt.nodeType===3&&(J+=gt.nodeValue.length),(qt=gt.firstChild)!==null;)ft=gt,gt=qt;for(;;){if(gt===a)break t;if(ft===m&&++He===k&&(ge=J),ft===j&&++ht===w&&(Se=J),(qt=gt.nextSibling)!==null)break;gt=ft,ft=gt.parentNode}gt=qt}m=ge===-1||Se===-1?null:{start:ge,end:Se}}else m=null}m=m||{start:0,end:0}}else m=null;for(Sx={focusedElem:a,selectionRange:m},Ge=!1,Lt=c;Lt!==null;)if(c=Lt,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Lt=a;else for(;Lt!==null;){c=Lt;try{var $t=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var Wt=$t.memoizedProps,qr=$t.memoizedState,Fe=c.stateNode,Ce=Fe.getSnapshotBeforeUpdate(c.elementType===c.type?Wt:mo(c.type,Wt),qr);Fe.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var $e=c.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(vt){Tr(c,c.return,vt)}if(a=c.sibling,a!==null){a.return=c.return,Lt=a;break}Lt=c.return}return $t=NI,NI=!1,$t}function ip(a,c,m){var w=c.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var k=w=w.next;do{if((k.tag&a)===a){var j=k.destroy;k.destroy=void 0,j!==void 0&&uw(c,m,j)}k=k.next}while(k!==w)}}function cg(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&a)===a){var w=m.create;m.destroy=w()}m=m.next}while(m!==c)}}function dw(a){var c=a.ref;if(c!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof c=="function"?c(a):c.current=a}}function kI(a){var c=a.alternate;c!==null&&(a.alternate=null,kI(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[zo],delete c[Qf],delete c[Ix],delete c[XM],delete c[e$])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function II(a){return a.tag===5||a.tag===3||a.tag===4}function CI(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||II(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function fw(a,c,m){var w=a.tag;if(w===5||w===6)a=a.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(a,c):m.insertBefore(a,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(a,m)):(c=m,c.appendChild(a)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=$m));else if(w!==4&&(a=a.child,a!==null))for(fw(a,c,m),a=a.sibling;a!==null;)fw(a,c,m),a=a.sibling}function pw(a,c,m){var w=a.tag;if(w===5||w===6)a=a.stateNode,c?m.insertBefore(a,c):m.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(pw(a,c,m),a=a.sibling;a!==null;)pw(a,c,m),a=a.sibling}var ci=null,go=!1;function ol(a,c,m){for(m=m.child;m!==null;)TI(a,c,m),m=m.sibling}function TI(a,c,m){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(Ja,m)}catch{}switch(m.tag){case 5:vi||Mu(m,c);case 6:var w=ci,k=go;ci=null,ol(a,c,m),ci=w,go=k,ci!==null&&(go?(a=ci,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):ci.removeChild(m.stateNode));break;case 18:ci!==null&&(go?(a=ci,m=m.stateNode,a.nodeType===8?kx(a.parentNode,m):a.nodeType===1&&kx(a,m),Te(a)):kx(ci,m.stateNode));break;case 4:w=ci,k=go,ci=m.stateNode.containerInfo,go=!0,ol(a,c,m),ci=w,go=k;break;case 0:case 11:case 14:case 15:if(!vi&&(w=m.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){k=w=w.next;do{var j=k,J=j.destroy;j=j.tag,J!==void 0&&(j&2||j&4)&&uw(m,c,J),k=k.next}while(k!==w)}ol(a,c,m);break;case 1:if(!vi&&(Mu(m,c),w=m.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=m.memoizedProps,w.state=m.memoizedState,w.componentWillUnmount()}catch(ge){Tr(m,c,ge)}ol(a,c,m);break;case 21:ol(a,c,m);break;case 22:m.mode&1?(vi=(w=vi)||m.memoizedState!==null,ol(a,c,m),vi=w):ol(a,c,m);break;default:ol(a,c,m)}}function RI(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new g$),c.forEach(function(w){var k=k$.bind(null,a,w);m.has(w)||(m.add(w),w.then(k,k))})}}function yo(a,c){var m=c.deletions;if(m!==null)for(var w=0;w<m.length;w++){var k=m[w];try{var j=a,J=c,ge=J;e:for(;ge!==null;){switch(ge.tag){case 5:ci=ge.stateNode,go=!1;break e;case 3:ci=ge.stateNode.containerInfo,go=!0;break e;case 4:ci=ge.stateNode.containerInfo,go=!0;break e}ge=ge.return}if(ci===null)throw Error(n(160));TI(j,J,k),ci=null,go=!1;var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(He){Tr(k,c,He)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)OI(c,a),c=c.sibling}function OI(a,c){var m=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(yo(c,a),Uo(a),w&4){try{ip(3,a,a.return),cg(3,a)}catch(Wt){Tr(a,a.return,Wt)}try{ip(5,a,a.return)}catch(Wt){Tr(a,a.return,Wt)}}break;case 1:yo(c,a),Uo(a),w&512&&m!==null&&Mu(m,m.return);break;case 5:if(yo(c,a),Uo(a),w&512&&m!==null&&Mu(m,m.return),a.flags&32){var k=a.stateNode;try{Dn(k,"")}catch(Wt){Tr(a,a.return,Wt)}}if(w&4&&(k=a.stateNode,k!=null)){var j=a.memoizedProps,J=m!==null?m.memoizedProps:j,ge=a.type,Se=a.updateQueue;if(a.updateQueue=null,Se!==null)try{ge==="input"&&j.type==="radio"&&j.name!=null&&Ut(k,j),Ui(ge,J);var He=Ui(ge,j);for(J=0;J<Se.length;J+=2){var ht=Se[J],gt=Se[J+1];ht==="style"?Jt(k,gt):ht==="dangerouslySetInnerHTML"?or(k,gt):ht==="children"?Dn(k,gt):O(k,ht,gt,He)}switch(ge){case"input":tn(k,j);break;case"textarea":Me(k,j);break;case"select":var ft=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!j.multiple;var qt=j.value;qt!=null?Ae(k,!!j.multiple,qt,!1):ft!==!!j.multiple&&(j.defaultValue!=null?Ae(k,!!j.multiple,j.defaultValue,!0):Ae(k,!!j.multiple,j.multiple?[]:"",!1))}k[Qf]=j}catch(Wt){Tr(a,a.return,Wt)}}break;case 6:if(yo(c,a),Uo(a),w&4){if(a.stateNode===null)throw Error(n(162));k=a.stateNode,j=a.memoizedProps;try{k.nodeValue=j}catch(Wt){Tr(a,a.return,Wt)}}break;case 3:if(yo(c,a),Uo(a),w&4&&m!==null&&m.memoizedState.isDehydrated)try{Te(c.containerInfo)}catch(Wt){Tr(a,a.return,Wt)}break;case 4:yo(c,a),Uo(a);break;case 13:yo(c,a),Uo(a),k=a.child,k.flags&8192&&(j=k.memoizedState!==null,k.stateNode.isHidden=j,!j||k.alternate!==null&&k.alternate.memoizedState!==null||(gw=ar())),w&4&&RI(a);break;case 22:if(ht=m!==null&&m.memoizedState!==null,a.mode&1?(vi=(He=vi)||ht,yo(c,a),vi=He):yo(c,a),Uo(a),w&8192){if(He=a.memoizedState!==null,(a.stateNode.isHidden=He)&&!ht&&a.mode&1)for(Lt=a,ht=a.child;ht!==null;){for(gt=Lt=ht;Lt!==null;){switch(ft=Lt,qt=ft.child,ft.tag){case 0:case 11:case 14:case 15:ip(4,ft,ft.return);break;case 1:Mu(ft,ft.return);var $t=ft.stateNode;if(typeof $t.componentWillUnmount=="function"){w=ft,m=ft.return;try{c=w,$t.props=c.memoizedProps,$t.state=c.memoizedState,$t.componentWillUnmount()}catch(Wt){Tr(w,m,Wt)}}break;case 5:Mu(ft,ft.return);break;case 22:if(ft.memoizedState!==null){AI(gt);continue}}qt!==null?(qt.return=ft,Lt=qt):AI(gt)}ht=ht.sibling}e:for(ht=null,gt=a;;){if(gt.tag===5){if(ht===null){ht=gt;try{k=gt.stateNode,He?(j=k.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ge=gt.stateNode,Se=gt.memoizedProps.style,J=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ge.style.display=wr("display",J))}catch(Wt){Tr(a,a.return,Wt)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=He?"":gt.memoizedProps}catch(Wt){Tr(a,a.return,Wt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===a)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===a)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===a)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:yo(c,a),Uo(a),w&4&&RI(a);break;case 21:break;default:yo(c,a),Uo(a)}}function Uo(a){var c=a.flags;if(c&2){try{e:{for(var m=a.return;m!==null;){if(II(m)){var w=m;break e}m=m.return}throw Error(n(160))}switch(w.tag){case 5:var k=w.stateNode;w.flags&32&&(Dn(k,""),w.flags&=-33);var j=CI(a);pw(a,j,k);break;case 3:case 4:var J=w.stateNode.containerInfo,ge=CI(a);fw(a,ge,J);break;default:throw Error(n(161))}}catch(Se){Tr(a,a.return,Se)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function b$(a,c,m){Lt=a,qI(a)}function qI(a,c,m){for(var w=(a.mode&1)!==0;Lt!==null;){var k=Lt,j=k.child;if(k.tag===22&&w){var J=k.memoizedState!==null||lg;if(!J){var ge=k.alternate,Se=ge!==null&&ge.memoizedState!==null||vi;ge=lg;var He=vi;if(lg=J,(vi=Se)&&!He)for(Lt=k;Lt!==null;)J=Lt,Se=J.child,J.tag===22&&J.memoizedState!==null?PI(k):Se!==null?(Se.return=J,Lt=Se):PI(k);for(;j!==null;)Lt=j,qI(j),j=j.sibling;Lt=k,lg=ge,vi=He}jI(a)}else k.subtreeFlags&8772&&j!==null?(j.return=k,Lt=j):jI(a)}}function jI(a){for(;Lt!==null;){var c=Lt;if(c.flags&8772){var m=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:vi||cg(5,c);break;case 1:var w=c.stateNode;if(c.flags&4&&!vi)if(m===null)w.componentDidMount();else{var k=c.elementType===c.type?m.memoizedProps:mo(c.type,m.memoizedProps);w.componentDidUpdate(k,m.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var j=c.updateQueue;j!==null&&Ak(c,j,w);break;case 3:var J=c.updateQueue;if(J!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}Ak(c,J,m)}break;case 5:var ge=c.stateNode;if(m===null&&c.flags&4){m=ge;var Se=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&m.focus();break;case"img":Se.src&&(m.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var He=c.alternate;if(He!==null){var ht=He.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&Te(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vi||c.flags&512&&dw(c)}catch(ft){Tr(c,c.return,ft)}}if(c===a){Lt=null;break}if(m=c.sibling,m!==null){m.return=c.return,Lt=m;break}Lt=c.return}}function AI(a){for(;Lt!==null;){var c=Lt;if(c===a){Lt=null;break}var m=c.sibling;if(m!==null){m.return=c.return,Lt=m;break}Lt=c.return}}function PI(a){for(;Lt!==null;){var c=Lt;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{cg(4,c)}catch(Se){Tr(c,m,Se)}break;case 1:var w=c.stateNode;if(typeof w.componentDidMount=="function"){var k=c.return;try{w.componentDidMount()}catch(Se){Tr(c,k,Se)}}var j=c.return;try{dw(c)}catch(Se){Tr(c,j,Se)}break;case 5:var J=c.return;try{dw(c)}catch(Se){Tr(c,J,Se)}}}catch(Se){Tr(c,c.return,Se)}if(c===a){Lt=null;break}var ge=c.sibling;if(ge!==null){ge.return=c.return,Lt=ge;break}Lt=c.return}}var v$=Math.ceil,ug=A.ReactCurrentDispatcher,hw=A.ReactCurrentOwner,Ks=A.ReactCurrentBatchConfig,jn=0,si=null,Hr=null,ui=0,ys=0,$u=tl(0),ni=0,sp=null,wc=0,dg=0,mw=0,op=null,Zi=null,gw=0,Bu=1/0,Sa=null,fg=!1,yw=null,al=null,pg=!1,ll=null,hg=0,ap=0,bw=null,mg=-1,gg=0;function Oi(){return jn&6?ar():mg!==-1?mg:mg=ar()}function cl(a){return a.mode&1?jn&2&&ui!==0?ui&-ui:n$.transition!==null?(gg===0&&(gg=Om()),gg):(a=Ln,a!==0||(a=window.event,a=a===void 0?16:Ee(a.type)),a):1}function bo(a,c,m,w){if(50<ap)throw ap=0,bw=null,Error(n(185));fc(a,m,w),(!(jn&2)||a!==si)&&(a===si&&(!(jn&2)&&(dg|=m),ni===4&&ul(a,ui)),Yi(a,w),m===1&&jn===0&&!(c.mode&1)&&(Bu=ar()+500,Vm&&rl()))}function Yi(a,c){var m=a.callbackNode;ox(a,c);var w=Ya(a,a===si?ui:0);if(w===0)m!==null&&cc(m),a.callbackNode=null,a.callbackPriority=0;else if(c=w&-w,a.callbackPriority!==c){if(m!=null&&cc(m),c===1)a.tag===0?t$(DI.bind(null,a)):_k(DI.bind(null,a)),ZM(function(){!(jn&6)&&rl()}),m=null;else{switch(qm(w)){case 1:m=uc;break;case 4:m=_u;break;case 16:m=Ga;break;case 0x20000000:m=dc;break;default:m=Ga}m=UI(m,FI.bind(null,a))}a.callbackPriority=c,a.callbackNode=m}}function FI(a,c){if(mg=-1,gg=0,jn&6)throw Error(n(327));var m=a.callbackNode;if(zu()&&a.callbackNode!==m)return null;var w=Ya(a,a===si?ui:0);if(w===0)return null;if(w&30||w&a.expiredLanes||c)c=yg(a,w);else{c=w;var k=jn;jn|=2;var j=MI();(si!==a||ui!==c)&&(Sa=null,Bu=ar()+500,Sc(a,c));do try{_$();break}catch(ge){LI(a,ge)}while(!0);Fx(),ug.current=j,jn=k,Hr!==null?c=0:(si=null,ui=0,c=ni)}if(c!==0){if(c===2&&(k=qf(a),k!==0&&(w=k,c=vw(a,k))),c===1)throw m=sp,Sc(a,0),ul(a,w),Yi(a,ar()),m;if(c===6)ul(a,w);else{if(k=a.current.alternate,!(w&30)&&!x$(k)&&(c=yg(a,w),c===2&&(j=qf(a),j!==0&&(w=j,c=vw(a,j))),c===1))throw m=sp,Sc(a,0),ul(a,w),Yi(a,ar()),m;switch(a.finishedWork=k,a.finishedLanes=w,c){case 0:case 1:throw Error(n(345));case 2:Ec(a,Zi,Sa);break;case 3:if(ul(a,w),(w&0x7c00000)===w&&(c=gw+500-ar(),10<c)){if(Ya(a,0)!==0)break;if(k=a.suspendedLanes,(k&w)!==w){Oi(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=Nx(Ec.bind(null,a,Zi,Sa),c);break}Ec(a,Zi,Sa);break;case 4:if(ul(a,w),(w&4194240)===w)break;for(c=a.eventTimes,k=-1;0<w;){var J=31-mi(w);j=1<<J,J=c[J],J>k&&(k=J),w&=~j}if(w=k,w=ar()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*v$(w/1960))-w,10<w){a.timeoutHandle=Nx(Ec.bind(null,a,Zi,Sa),w);break}Ec(a,Zi,Sa);break;case 5:Ec(a,Zi,Sa);break;default:throw Error(n(329))}}}return Yi(a,ar()),a.callbackNode===m?FI.bind(null,a):null}function vw(a,c){var m=op;return a.current.memoizedState.isDehydrated&&(Sc(a,c).flags|=256),a=yg(a,c),a!==2&&(c=Zi,Zi=m,c!==null&&xw(c)),a}function xw(a){Zi===null?Zi=a:Zi.push.apply(Zi,a)}function x$(a){for(var c=a;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var w=0;w<m.length;w++){var k=m[w],j=k.getSnapshot;k=k.value;try{if(!po(j(),k))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ul(a,c){for(c&=~mw,c&=~dg,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var m=31-mi(c),w=1<<m;a[m]=-1,c&=~w}}function DI(a){if(jn&6)throw Error(n(327));zu();var c=Ya(a,0);if(!(c&1))return Yi(a,ar()),null;var m=yg(a,c);if(a.tag!==0&&m===2){var w=qf(a);w!==0&&(c=w,m=vw(a,w))}if(m===1)throw m=sp,Sc(a,0),ul(a,c),Yi(a,ar()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Ec(a,Zi,Sa),Yi(a,ar()),null}function ww(a,c){var m=jn;jn|=1;try{return a(c)}finally{jn=m,jn===0&&(Bu=ar()+500,Vm&&rl())}}function _c(a){ll!==null&&ll.tag===0&&!(jn&6)&&zu();var c=jn;jn|=1;var m=Ks.transition,w=Ln;try{if(Ks.transition=null,Ln=1,a)return a()}finally{Ln=w,Ks.transition=m,jn=c,!(jn&6)&&rl()}}function _w(){ys=$u.current,cr($u)}function Sc(a,c){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,JM(m)),Hr!==null)for(m=Hr.return;m!==null;){var w=m;switch(Ox(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&zm();break;case 3:Du(),cr(Ki),cr(gi),Vx();break;case 5:zx(w);break;case 4:Du();break;case 13:cr(Sr);break;case 19:cr(Sr);break;case 10:Dx(w.type._context);break;case 22:case 23:_w()}m=m.return}if(si=a,Hr=a=dl(a.current,null),ui=ys=c,ni=0,sp=null,mw=dg=wc=0,Zi=op=null,bc!==null){for(c=0;c<bc.length;c++)if(m=bc[c],w=m.interleaved,w!==null){m.interleaved=null;var k=w.next,j=m.pending;if(j!==null){var J=j.next;j.next=k,w.next=J}m.pending=w}bc=null}return a}function LI(a,c){do{var m=Hr;try{if(Fx(),eg.current=ig,tg){for(var w=Er.memoizedState;w!==null;){var k=w.queue;k!==null&&(k.pending=null),w=w.next}tg=!1}if(xc=0,ii=ti=Er=null,Xf=!1,ep=0,hw.current=null,m===null||m.return===null){ni=1,sp=c,Hr=null;break}e:{var j=a,J=m.return,ge=m,Se=c;if(c=ui,ge.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var He=Se,ht=ge,gt=ht.tag;if(!(ht.mode&1)&&(gt===0||gt===11||gt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var qt=cI(J);if(qt!==null){qt.flags&=-257,uI(qt,J,ge,j,c),qt.mode&1&&lI(j,He,c),c=qt,Se=He;var $t=c.updateQueue;if($t===null){var Wt=new Set;Wt.add(Se),c.updateQueue=Wt}else $t.add(Se);break e}else{if(!(c&1)){lI(j,He,c),Sw();break e}Se=Error(n(426))}}else if(fr&&ge.mode&1){var qr=cI(J);if(qr!==null){!(qr.flags&65536)&&(qr.flags|=256),uI(qr,J,ge,j,c),Ax(Lu(Se,ge));break e}}j=Se=Lu(Se,ge),ni!==4&&(ni=2),op===null?op=[j]:op.push(j),j=J;do{switch(j.tag){case 3:j.flags|=65536,c&=-c,j.lanes|=c;var Fe=oI(j,Se,c);jk(j,Fe);break e;case 1:ge=Se;var Ce=j.type,$e=j.stateNode;if(!(j.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(al===null||!al.has($e)))){j.flags|=65536,c&=-c,j.lanes|=c;var vt=aI(j,ge,c);jk(j,vt);break e}}j=j.return}while(j!==null)}BI(m)}catch(Ht){c=Ht,Hr===m&&m!==null&&(Hr=m=m.return);continue}break}while(!0)}function MI(){var a=ug.current;return ug.current=ig,a===null?ig:a}function Sw(){(ni===0||ni===3||ni===2)&&(ni=4),si===null||!(wc&0xfffffff)&&!(dg&0xfffffff)||ul(si,ui)}function yg(a,c){var m=jn;jn|=2;var w=MI();(si!==a||ui!==c)&&(Sa=null,Sc(a,c));do try{w$();break}catch(k){LI(a,k)}while(!0);if(Fx(),jn=m,ug.current=w,Hr!==null)throw Error(n(261));return si=null,ui=0,ni}function w$(){for(;Hr!==null;)$I(Hr)}function _$(){for(;Hr!==null&&!wu();)$I(Hr)}function $I(a){var c=VI(a.alternate,a,ys);a.memoizedProps=a.pendingProps,c===null?BI(a):Hr=c,hw.current=null}function BI(a){var c=a;do{var m=c.alternate;if(a=c.return,c.flags&32768){if(m=m$(m,c),m!==null){m.flags&=32767,Hr=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ni=6,Hr=null;return}}else if(m=h$(m,c,ys),m!==null){Hr=m;return}if(c=c.sibling,c!==null){Hr=c;return}Hr=c=a}while(c!==null);ni===0&&(ni=5)}function Ec(a,c,m){var w=Ln,k=Ks.transition;try{Ks.transition=null,Ln=1,S$(a,c,m,w)}finally{Ks.transition=k,Ln=w}return null}function S$(a,c,m,w){do zu();while(ll!==null);if(jn&6)throw Error(n(327));m=a.finishedWork;var k=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var j=m.lanes|m.childLanes;if(ax(a,j),a===si&&(Hr=si=null,ui=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||pg||(pg=!0,UI(Ga,function(){return zu(),null})),j=(m.flags&15990)!==0,m.subtreeFlags&15990||j){j=Ks.transition,Ks.transition=null;var J=Ln;Ln=1;var ge=jn;jn|=4,hw.current=null,y$(a,m),OI(m,a),WM(Sx),Ge=!!_x,Sx=_x=null,a.current=m,b$(m),Nf(),jn=ge,Ln=J,Ks.transition=j}else a.current=m;if(pg&&(pg=!1,ll=a,hg=k),j=a.pendingLanes,j===0&&(al=null),Cf(m.stateNode),Yi(a,ar()),c!==null)for(w=a.onRecoverableError,m=0;m<c.length;m++)k=c[m],w(k.value,{componentStack:k.stack,digest:k.digest});if(fg)throw fg=!1,a=yw,yw=null,a;return hg&1&&a.tag!==0&&zu(),j=a.pendingLanes,j&1?a===bw?ap++:(ap=0,bw=a):ap=0,rl(),null}function zu(){if(ll!==null){var a=qm(hg),c=Ks.transition,m=Ln;try{if(Ks.transition=null,Ln=16>a?16:a,ll===null)var w=!1;else{if(a=ll,ll=null,hg=0,jn&6)throw Error(n(331));var k=jn;for(jn|=4,Lt=a.current;Lt!==null;){var j=Lt,J=j.child;if(Lt.flags&16){var ge=j.deletions;if(ge!==null){for(var Se=0;Se<ge.length;Se++){var He=ge[Se];for(Lt=He;Lt!==null;){var ht=Lt;switch(ht.tag){case 0:case 11:case 15:ip(8,ht,j)}var gt=ht.child;if(gt!==null)gt.return=ht,Lt=gt;else for(;Lt!==null;){ht=Lt;var ft=ht.sibling,qt=ht.return;if(kI(ht),ht===He){Lt=null;break}if(ft!==null){ft.return=qt,Lt=ft;break}Lt=qt}}}var $t=j.alternate;if($t!==null){var Wt=$t.child;if(Wt!==null){$t.child=null;do{var qr=Wt.sibling;Wt.sibling=null,Wt=qr}while(Wt!==null)}}Lt=j}}if(j.subtreeFlags&2064&&J!==null)J.return=j,Lt=J;else e:for(;Lt!==null;){if(j=Lt,j.flags&2048)switch(j.tag){case 0:case 11:case 15:ip(9,j,j.return)}var Fe=j.sibling;if(Fe!==null){Fe.return=j.return,Lt=Fe;break e}Lt=j.return}}var Ce=a.current;for(Lt=Ce;Lt!==null;){J=Lt;var $e=J.child;if(J.subtreeFlags&2064&&$e!==null)$e.return=J,Lt=$e;else e:for(J=Ce;Lt!==null;){if(ge=Lt,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:cg(9,ge)}}catch(Ht){Tr(ge,ge.return,Ht)}if(ge===J){Lt=null;break e}var vt=ge.sibling;if(vt!==null){vt.return=ge.return,Lt=vt;break e}Lt=ge.return}}if(jn=k,rl(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(Ja,a)}catch{}w=!0}return w}finally{Ln=m,Ks.transition=c}}return!1}function zI(a,c,m){c=Lu(m,c),c=oI(a,c,1),a=sl(a,c,1),c=Oi(),a!==null&&(fc(a,1,c),Yi(a,c))}function Tr(a,c,m){if(a.tag===3)zI(a,a,m);else for(;c!==null;){if(c.tag===3){zI(c,a,m);break}else if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(al===null||!al.has(w))){a=Lu(m,a),a=aI(c,a,1),c=sl(c,a,1),a=Oi(),c!==null&&(fc(c,1,a),Yi(c,a));break}}c=c.return}}function E$(a,c,m){var w=a.pingCache;w!==null&&w.delete(c),c=Oi(),a.pingedLanes|=a.suspendedLanes&m,si===a&&(ui&m)===m&&(ni===4||ni===3&&(ui&0x7c00000)===ui&&500>ar()-gw?Sc(a,0):mw|=m),Yi(a,c)}function WI(a,c){c===0&&(a.mode&1?(c=Za,Za<<=1,!(Za&0x7c00000)&&(Za=4194304)):c=1);var m=Oi();a=xa(a,c),a!==null&&(fc(a,c,m),Yi(a,m))}function N$(a){var c=a.memoizedState,m=0;c!==null&&(m=c.retryLane),WI(a,m)}function k$(a,c){var m=0;switch(a.tag){case 13:var w=a.stateNode,k=a.memoizedState;k!==null&&(m=k.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(c),WI(a,m)}var VI;VI=function(a,c,m){if(a!==null)if(a.memoizedProps!==c.pendingProps||Ki.current)Ji=!0;else{if(!(a.lanes&m)&&!(c.flags&128))return Ji=!1,p$(a,c,m);Ji=!!(a.flags&131072)}else Ji=!1,fr&&c.flags&1048576&&Sk(c,Hm,c.index);switch(c.lanes=0,c.tag){case 2:var w=c.type;ag(a,c),a=c.pendingProps;var k=Ru(c,gi.current);Fu(c,m),k=Qx(null,c,w,a,k,m);var j=Kx();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Gi(w)?(j=!0,Wm(c)):j=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,$x(c),k.updater=sg,c.stateNode=k,k._reactInternals=c,ew(c,w,a,m),c=iw(null,c,w,!0,j,m)):(c.tag=0,fr&&j&&Rx(c),Ri(null,c,k,m),c=c.child),c;case 16:w=c.elementType;e:{switch(ag(a,c),a=c.pendingProps,k=w._init,w=k(w._payload),c.type=w,k=c.tag=C$(w),a=mo(w,a),k){case 0:c=rw(null,c,w,a,m);break e;case 1:c=gI(null,c,w,a,m);break e;case 11:c=dI(null,c,w,a,m);break e;case 14:c=fI(null,c,w,mo(w.type,a),m);break e}throw Error(n(306,w,""))}return c;case 0:return w=c.type,k=c.pendingProps,k=c.elementType===w?k:mo(w,k),rw(a,c,w,k,m);case 1:return w=c.type,k=c.pendingProps,k=c.elementType===w?k:mo(w,k),gI(a,c,w,k,m);case 3:e:{if(yI(c),a===null)throw Error(n(387));w=c.pendingProps,j=c.memoizedState,k=j.element,qk(a,c),Ym(c,w,null,m);var J=c.memoizedState;if(w=J.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},c.updateQueue.baseState=j,c.memoizedState=j,c.flags&256){k=Lu(Error(n(423)),c),c=bI(a,c,w,m,k);break e}else if(w!==k){k=Lu(Error(n(424)),c),c=bI(a,c,w,m,k);break e}else for(gs=el(c.stateNode.containerInfo.firstChild),ms=c,fr=!0,ho=null,m=Rk(c,null,w,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ju(),w===k){c=_a(a,c,m);break e}Ri(a,c,w,m)}c=c.child}return c;case 5:return Pk(c),a===null&&jx(c),w=c.type,k=c.pendingProps,j=a!==null?a.memoizedProps:null,J=k.children,Ex(w,k)?J=null:j!==null&&Ex(w,j)&&(c.flags|=32),mI(a,c),Ri(a,c,J,m),c.child;case 6:return a===null&&jx(c),null;case 13:return vI(a,c,m);case 4:return Bx(c,c.stateNode.containerInfo),w=c.pendingProps,a===null?c.child=Au(c,null,w,m):Ri(a,c,w,m),c.child;case 11:return w=c.type,k=c.pendingProps,k=c.elementType===w?k:mo(w,k),dI(a,c,w,k,m);case 7:return Ri(a,c,c.pendingProps,m),c.child;case 8:return Ri(a,c,c.pendingProps.children,m),c.child;case 12:return Ri(a,c,c.pendingProps.children,m),c.child;case 10:e:{if(w=c.type._context,k=c.pendingProps,j=c.memoizedProps,J=k.value,nr(Gm,w._currentValue),w._currentValue=J,j!==null)if(po(j.value,J)){if(j.children===k.children&&!Ki.current){c=_a(a,c,m);break e}}else for(j=c.child,j!==null&&(j.return=c);j!==null;){var ge=j.dependencies;if(ge!==null){J=j.child;for(var Se=ge.firstContext;Se!==null;){if(Se.context===w){if(j.tag===1){Se=wa(-1,m&-m),Se.tag=2;var He=j.updateQueue;if(He!==null){He=He.shared;var ht=He.pending;ht===null?Se.next=Se:(Se.next=ht.next,ht.next=Se),He.pending=Se}}j.lanes|=m,Se=j.alternate,Se!==null&&(Se.lanes|=m),Lx(j.return,m,c),ge.lanes|=m;break}Se=Se.next}}else if(j.tag===10)J=j.type===c.type?null:j.child;else if(j.tag===18){if(J=j.return,J===null)throw Error(n(341));J.lanes|=m,ge=J.alternate,ge!==null&&(ge.lanes|=m),Lx(J,m,c),J=j.sibling}else J=j.child;if(J!==null)J.return=j;else for(J=j;J!==null;){if(J===c){J=null;break}if(j=J.sibling,j!==null){j.return=J.return,J=j;break}J=J.return}j=J}Ri(a,c,k.children,m),c=c.child}return c;case 9:return k=c.type,w=c.pendingProps.children,Fu(c,m),k=Hs(k),w=w(k),c.flags|=1,Ri(a,c,w,m),c.child;case 14:return w=c.type,k=mo(w,c.pendingProps),k=mo(w.type,k),fI(a,c,w,k,m);case 15:return pI(a,c,c.type,c.pendingProps,m);case 17:return w=c.type,k=c.pendingProps,k=c.elementType===w?k:mo(w,k),ag(a,c),c.tag=1,Gi(w)?(a=!0,Wm(c)):a=!1,Fu(c,m),iI(c,w,k),ew(c,w,k,m),iw(null,c,w,!0,a,m);case 19:return wI(a,c,m);case 22:return hI(a,c,m)}throw Error(n(156,c.tag))};function UI(a,c){return xu(a,c)}function I$(a,c,m,w){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(a,c,m,w){return new I$(a,c,m,w)}function Ew(a){return a=a.prototype,!(!a||!a.isReactComponent)}function C$(a){if(typeof a=="function")return Ew(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===ee)return 14}return 2}function dl(a,c){var m=a.alternate;return m===null?(m=Gs(a.tag,c,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=c,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&0xe00000,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,c=a.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function bg(a,c,m,w,k,j){var J=2;if(w=a,typeof a=="function")Ew(a)&&(J=1);else if(typeof a=="string")J=5;else e:switch(a){case W:return Nc(m.children,k,j,c);case P:J=8,k|=8;break;case q:return a=Gs(12,m,c,k|2),a.elementType=q,a.lanes=j,a;case U:return a=Gs(13,m,c,k),a.elementType=U,a.lanes=j,a;case z:return a=Gs(19,m,c,k),a.elementType=z,a.lanes=j,a;case le:return vg(m,k,j,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:J=10;break e;case F:J=9;break e;case V:J=11;break e;case ee:J=14;break e;case Z:J=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Gs(J,m,c,k),c.elementType=a,c.type=w,c.lanes=j,c}function Nc(a,c,m,w){return a=Gs(7,a,w,c),a.lanes=m,a}function vg(a,c,m,w){return a=Gs(22,a,w,c),a.elementType=le,a.lanes=m,a.stateNode={isHidden:!1},a}function Nw(a,c,m){return a=Gs(6,a,null,c),a.lanes=m,a}function kw(a,c,m){return c=Gs(4,a.children!==null?a.children:[],a.key,c),c.lanes=m,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function T$(a,c,m,w,k){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=w,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Iw(a,c,m,w,k,j,J,ge,Se){return a=new T$(a,c,m,ge,Se),c===1?(c=1,j===!0&&(c|=8)):c=0,j=Gs(3,null,null,c),a.current=j,j.stateNode=a,j.memoizedState={element:w,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},$x(j),a}function R$(a,c,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:w==null?null:""+w,children:a,containerInfo:c,implementation:m}}function HI(a){if(!a)return nl;a=a._reactInternals;e:{if(zs(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(Gi(m))return xk(a,m,c)}return c}function QI(a,c,m,w,k,j,J,ge,Se){return a=Iw(m,w,!0,a,k,j,J,ge,Se),a.context=HI(null),m=a.current,w=Oi(),k=cl(m),j=wa(w,k),j.callback=c??null,sl(m,j,k),a.current.lanes=k,fc(a,k,w),Yi(a,w),a}function xg(a,c,m,w){var k=c.current,j=Oi(),J=cl(k);return m=HI(m),c.context===null?c.context=m:c.pendingContext=m,c=wa(j,J),c.payload={element:a},w=w===void 0?null:w,w!==null&&(c.callback=w),a=sl(k,c,J),a!==null&&(bo(a,k,J,j),Zm(a,k,J)),J}function wg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function KI(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<c?m:c}}function Cw(a,c){KI(a,c),(a=a.alternate)&&KI(a,c)}var GI=typeof reportError=="function"?reportError:function(a){console.error(a)};function Tw(a){this._internalRoot=a}_g.prototype.render=Tw.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));xg(a,c,null,null)},_g.prototype.unmount=Tw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;_c(function(){xg(null,a,null,null)}),c[ga]=null}};function _g(a){this._internalRoot=a}_g.prototype.unstable_scheduleHydration=function(a){if(a){var c=pc();a={blockedOn:null,target:a,priority:c};for(var m=0;m<me.length&&c!==0&&c<me[m].priority;m++);me.splice(m,0,a),m===0&&Be(a)}};function Rw(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Sg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function JI(){}function O$(a,c,m,w,k){if(k){if(typeof w=="function"){var j=w;w=function(){var He=wg(J);j.call(He)}}var J=QI(c,w,a,0,null,!1,!1,"",JI);return a._reactRootContainer=J,a[ga]=J.current,Uf(a.nodeType===8?a.parentNode:a),_c(),J}for(;k=a.lastChild;)a.removeChild(k);if(typeof w=="function"){var ge=w;w=function(){var He=wg(Se);ge.call(He)}}var Se=Iw(a,0,!1,null,null,!1,!1,"",JI);return a._reactRootContainer=Se,a[ga]=Se.current,Uf(a.nodeType===8?a.parentNode:a),_c(function(){xg(c,Se,m,w)}),Se}function Eg(a,c,m,w,k){var j=m._reactRootContainer;if(j){var J=j;if(typeof k=="function"){var ge=k;k=function(){var Se=wg(J);ge.call(Se)}}xg(c,J,a,k)}else J=O$(m,c,a,k,w);return wg(J)}Pf=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var m=Ti(c.pendingLanes);m!==0&&(Af(c,m|1),Yi(c,ar()),!(jn&6)&&(Bu=ar()+500,rl()))}break;case 13:_c(function(){var w=xa(a,1);if(w!==null){var k=Oi();bo(w,a,1,k)}}),Cw(a,1)}},he=function(a){if(a.tag===13){var c=xa(a,0x8000000);if(c!==null){var m=Oi();bo(c,a,0x8000000,m)}Cw(a,0x8000000)}},Ff=function(a){if(a.tag===13){var c=cl(a),m=xa(a,c);if(m!==null){var w=Oi();bo(m,a,c,w)}Cw(a,c)}},pc=function(){return Ln},Df=function(a,c){var m=Ln;try{return Ln=a,c()}finally{Ln=m}},oc=function(a,c,m){switch(c){case"input":if(tn(a,m),c=m.name,m.type==="radio"&&c!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var w=m[c];if(w!==a&&w.form===a.form){var k=Bm(w);if(!k)throw Error(n(90));Ve(w),tn(w,k)}}}break;case"textarea":Me(a,m);break;case"select":c=m.value,c!=null&&Ae(a,!!m.multiple,c,!1)}},pu=ww,hu=_c;var q$={usingClientEntryPoint:!1,Events:[Kf,Cu,Bm,un,fu,ww]},lp={findFiberByHostInstance:hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j$={bundleType:lp.bundleType,version:lp.version,rendererPackageName:lp.rendererPackageName,rendererConfig:lp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=bu(a),a===null?null:a.stateNode},findFiberByHostInstance:lp.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{Ja=Ng.inject(j$),Qi=Ng}catch{}}return Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q$,Xi.createPortal=function(a,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rw(c))throw Error(n(200));return R$(a,c,null,m)},Xi.createRoot=function(a,c){if(!Rw(a))throw Error(n(299));var m=!1,w="",k=GI;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=Iw(a,1,!1,null,null,m,!1,w,k),a[ga]=c.current,Uf(a.nodeType===8?a.parentNode:a),new Tw(c)},Xi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=bu(c),a=a===null?null:a.stateNode,a},Xi.flushSync=function(a){return _c(a)},Xi.hydrate=function(a,c,m){if(!Sg(c))throw Error(n(200));return Eg(null,a,c,!0,m)},Xi.hydrateRoot=function(a,c,m){if(!Rw(a))throw Error(n(405));var w=m!=null&&m.hydratedSources||null,k=!1,j="",J=GI;if(m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(J=m.onRecoverableError)),c=QI(c,null,a,1,m??null,k,!1,j,J),a[ga]=c.current,Uf(a),w)for(a=0;a<w.length;a++)m=w[a],k=m._getVersion,k=k(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,k]:c.mutableSourceEagerHydrationData.push(m,k);return new _g(c)},Xi.render=function(a,c,m){if(!Sg(c))throw Error(n(200));return Eg(null,a,c,!1,m)},Xi.unmountComponentAtNode=function(a){if(!Sg(a))throw Error(n(40));return a._reactRootContainer?(_c(function(){Eg(null,null,a,!1,function(){a._reactRootContainer=null,a[ga]=null})}),!0):!1},Xi.unstable_batchedUpdates=ww,Xi.unstable_renderSubtreeIntoContainer=function(a,c,m,w){if(!Sg(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Eg(a,c,m,!1,w)},Xi.version="18.3.1-next-f1338f8080-20240426",Xi}var IC;function L3(){if(IC)return Uw.exports;IC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uw.exports=h4(),Uw.exports}var ov=L3();const m4="Error preloading route! ";function g4(t,e){const n=Fo(),[r,i]=K.useState(!1),s=K.useRef(!1),o=zB(e),{activeProps:l=()=>({className:"active"}),inactiveProps:u=()=>({}),activeOptions:d,to:p,preload:h,preloadDelay:b,hashScrollIntoView:x,replace:_,startTransition:E,resetScroll:I,viewTransition:T,children:R,target:O,disabled:A,style:D,className:L,onClick:W,onFocus:P,onMouseEnter:q,onMouseLeave:M,onTouchStart:F,ignoreBlocker:V,...U}=t,{params:z,search:ee,hash:Z,state:le,mask:se,reloadDocument:te,...oe}=U,X=K.useMemo(()=>{try{return new URL(`${p}`),"external"}catch{}return"internal"},[p]),ue=Li({select:ke=>ke.location.search,structuralSharing:!0});t={from:Bl({strict:!1,select:ke=>ke.pathname}),...t};const ye=K.useMemo(()=>n.buildLocation(t),[n,t,ue]),we=K.useMemo(()=>t.reloadDocument?!1:h??n.options.defaultPreload,[n.options.defaultPreload,h,t.reloadDocument]),Ne=b??n.options.defaultPreloadDelay??0,ze=Li({select:ke=>{if(d?.exact){if(!VB(ke.location.pathname,ye.pathname,n.basepath))return!1}else{const Ae=eb(ke.location.pathname,n.basepath).split("/");if(!eb(ye.pathname,n.basepath).split("/").every((Me,ut)=>Me===Ae[ut]))return!1}return(d?.includeSearch??!0)&&!gd(ke.location.search,ye.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?ke.location.hash===ye.hash:!0}}),Oe=K.useCallback(()=>{n.preloadRoute(t).catch(ke=>{console.warn(ke),console.warn(m4)})},[t,n]),De=K.useCallback(ke=>{ke?.isIntersecting&&Oe()},[Oe]);if(BB(o,De,{rootMargin:"100px"},{disabled:!!A||we!=="viewport"}),_p(()=>{s.current||!A&&we==="render"&&(Oe(),s.current=!0)},[A,Oe,we]),X==="external")return{...oe,ref:o,type:X,href:p,...R&&{children:R},...O&&{target:O},...A&&{disabled:A},...D&&{style:D},...L&&{className:L},...W&&{onClick:W},...P&&{onFocus:P},...q&&{onMouseEnter:q},...M&&{onMouseLeave:M},...F&&{onTouchStart:F}};const Je=ke=>{if(!A&&!b4(ke)&&!ke.defaultPrevented&&(!O||O==="_self")&&ke.button===0){ke.preventDefault(),ov.flushSync(()=>{i(!0)});const Ae=n.subscribe("onResolved",()=>{Ae(),i(!1)});return n.navigate({...t,replace:_,resetScroll:I,hashScrollIntoView:x,startTransition:E,viewTransition:T,ignoreBlocker:V})}},Xe=ke=>{A||we&&Oe()},Ve=Xe,ct=ke=>{if(A)return;const Ae=ke.target||{};if(we){if(Ae.preloadTimeout)return;Ae.preloadTimeout=setTimeout(()=>{Ae.preloadTimeout=null,Oe()},Ne)}},_t=ke=>{if(A)return;const Ae=ke.target||{};Ae.preloadTimeout&&(clearTimeout(Ae.preloadTimeout),Ae.preloadTimeout=null)},Tt=ke=>Ae=>{var Ue;(Ue=Ae.persist)==null||Ue.call(Ae),ke.filter(Boolean).forEach(rt=>{Ae.defaultPrevented||rt(Ae)})},Ut=ze?Dc(l,{})??{}:{},tn=ze?{}:Dc(u,{}),xe=[L,Ut.className,tn.className].filter(Boolean).join(" "),be={...D,...Ut.style,...tn.style};return{...oe,...Ut,...tn,href:A?void 0:ye.maskedLocation?n.history.createHref(ye.maskedLocation.href):n.history.createHref(ye.href),ref:o,onClick:Tt([W,Je]),onFocus:Tt([P,Xe]),onMouseEnter:Tt([q,ct]),onMouseLeave:Tt([M,_t]),onTouchStart:Tt([F,Ve]),disabled:!!A,target:O,...Object.keys(be).length&&{style:be},...xe&&{className:xe},...A&&{role:"link","aria-disabled":!0},...ze&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function M3(t){return K.forwardRef(function(n,r){return f.jsx(y4,{...n,_asChild:t,ref:r})})}const y4=K.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:s,...o}=g4(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,K.createElement(n||"a",{...o,ref:s},l)});function b4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v4(){const t=Fo(),e=K.useRef({router:t,mounted:!1}),n=Li({select:({isLoading:h})=>h}),[r,i]=K.useState(!1),s=Li({select:h=>h.matches.some(b=>b.status==="pending"),structuralSharing:!0}),o=zw(n),l=n||r||s,u=zw(l),d=n||s,p=zw(d);return t.isServer||(t.startReactTransition=h=>{i(!0),K.startTransition(()=>{h(),i(!1)})}),K.useEffect(()=>{const h=t.history.subscribe(t.load),b=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Lc(t.latestLocation.href)!==Lc(b.href)&&t.commitLocation({...b,replace:!0}),()=>{h()}},[t,t.history]),_p(()=>{var h;if(typeof window<"u"&&((h=window.__TSR__)!=null&&h.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),_p(()=>{if(o&&!n){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;t.emit({type:"onLoad",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_})}},[o,t,n]),_p(()=>{if(p&&!d){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;t.emit({type:"onBeforeRouteMount",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_})}},[d,p,t]),_p(()=>{if(u&&!l){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;if(t.emit({type:"onResolved",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_}),t.__store.setState(E=>({...E,status:"idle",resolvedLocation:E.location})),typeof document<"u"&&document.querySelector){const E=t.state.location.state.__hashScrollIntoViewOptions??!0;if(E&&t.state.location.hash!==""){const I=document.getElementById(t.state.location.hash);I&&I.scrollIntoView(E)}}}},[l,u,t]),null}function x4(){const t=Fo(),e=t.options.defaultPendingComponent?f.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?dy:K.Suspense,r=f.jsxs(n,{fallback:e,children:[f.jsx(v4,{}),f.jsx(w4,{})]});return t.options.InnerWrap?f.jsx(t.options.InnerWrap,{children:r}):r}function w4(){const t=Li({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=Li({select:n=>n.loadedAt});return f.jsx(sv.Provider,{value:t,children:f.jsx(lN,{getResetKey:()=>e,errorComponent:iv,onCatch:n=>{n.message||n.toString()},children:t?f.jsx(D3,{matchId:t}):null})})}function _4(){const t=Fo();return Li({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),K.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s,...o}=e;return t.matchRoute(o,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s})},[t])}function S4({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=R3(),i=f.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?f.jsx(t.options.Wrap,{children:i}):i}function E4({router:t,...e}){return f.jsx(S4,{router:t,...e,children:f.jsx(x4,{})})}const N4=typeof window<"u"?K.useLayoutEffect:K.useEffect,Kw="window",CC="___";let Gw=new WeakSet;const k4=typeof window<"u"&&window.sessionStorage,wo=k4?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{wo.state=Dc(n,wo.state),window.sessionStorage.setItem(t,JSON.stringify(wo.state))}}})():void 0,I4=t=>t.state.key||t.href;function C4(t){const e=Fo();N4(()=>{const n=t?.getKey||I4,{history:r}=window;r.scrollRestoration="manual";const i=l=>{if(Gw.has(l.target))return;Gw.add(l.target);let u="";if(l.target===document||l.target===window)u=Kw;else{const d=l.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=R4(l.target)}wo.state.next[u]||wo.set(d=>({...d,next:{...d.next,[u]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const s=e.subscribe("onBeforeLoad",l=>{if(l.hrefChanged){const u=n(l.fromLocation);for(const d in wo.state.next){const p=wo.state.next[d];if(d===Kw)p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(d){const h=document.querySelector(d);p.scrollX=h?.scrollLeft||0,p.scrollY=h?.scrollTop||0}wo.set(h=>{const b={...h.next};return delete b[d],{...h,next:b,cached:{...h.cached,[[u,d].join(CC)]:p}}})}}}),o=e.subscribe("onBeforeRouteMount",l=>{if(l.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const u=n(l.toLocation);let d=!1;for(const p in wo.state.cached){const h=wo.state.cached[p],[b,x]=p.split(CC);if(b===u){if(x===Kw)d=!0,window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:t?.scrollBehavior});else if(x){const _=document.querySelector(x);_&&(_.scrollLeft=h.scrollX,_.scrollTop=h.scrollY)}}}d||window.scrollTo(0,0),wo.set(p=>({...p,next:{}})),Gw=new WeakSet}});return()=>{document.removeEventListener("scroll",i),s(),o()}},[t?.getKey,e])}function T4(t){return C4(t),null}function R4(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function yr(t){return Bl({...t,select:e=>t.select?t.select(e.context):e.context})}let O4={data:""},q4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||O4,j4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,A4=/\/\*[^]*?\*\/|  +/g,TC=/\n+/g,Nl=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Nl(o,s):s+"{"+Nl(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Nl(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Nl.p?Nl.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ea={},$3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+$3(t[n]);return e}return t},P4=(t,e,n,r,i)=>{let s=$3(t),o=Ea[s]||(Ea[s]=(u=>{let d=0,p=11;for(;d<u.length;)p=101*p+u.charCodeAt(d++)>>>0;return"go"+p})(s));if(!Ea[o]){let u=s!==t?t:(d=>{let p,h,b=[{}];for(;p=j4.exec(d.replace(A4,""));)p[4]?b.shift():p[3]?(h=p[3].replace(TC," ").trim(),b.unshift(b[0][h]=b[0][h]||{})):b[0][p[1]]=p[2].replace(TC," ").trim();return b[0]})(t);Ea[o]=Nl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&Ea.g?Ea.g:null;return n&&(Ea.g=Ea[o]),((u,d,p,h)=>{h?d.data=d.data.replace(h,u):d.data.indexOf(u)===-1&&(d.data=p?u+d.data:d.data+u)})(Ea[o],e,r,l),o},F4=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Nl(l,""):l===!1?"":l}return r+i+(o??"")},"");function av(t){let e=this||{},n=t.call?t(e.p):t;return P4(n.unshift?n.raw?F4(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,q4(e.target),e.g,e.o,e.k)}let B3,zS,WS;av.bind({g:1});let Ma=av.bind({k:1});function D4(t,e,n,r){Nl.p=e,B3=t,zS=n,WS=r}function Zl(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),u=l.className||i.className;n.p=Object.assign({theme:zS&&zS()},l),n.o=/ *go\d+/.test(u),l.className=av.apply(n,r)+(u?" "+u:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),WS&&d[0]&&WS(l),B3(d,l)}return i}}var L4=t=>typeof t=="function",nb=(t,e)=>L4(t)?t(e):t,M4=(()=>{let t=0;return()=>(++t).toString()})(),z3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),$4=20,W3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,$4)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return W3(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},fy=[],py={toasts:[],pausedAt:void 0},au=t=>{py=W3(py,t),fy.forEach(e=>{e(py)})},B4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},z4=(t={})=>{let[e,n]=K.useState(py);K.useEffect(()=>(fy.push(n),()=>{let i=fy.indexOf(n);i>-1&&fy.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||t?.removeDelay,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||t?.duration||B4[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},W4=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||M4()}),Kh=t=>(e,n)=>{let r=W4(e,t,n);return au({type:2,toast:r}),r.id},Rn=(t,e)=>Kh("blank")(t,e);Rn.error=Kh("error");Rn.success=Kh("success");Rn.loading=Kh("loading");Rn.custom=Kh("custom");Rn.dismiss=t=>{au({type:3,toastId:t})};Rn.remove=t=>au({type:4,toastId:t});Rn.promise=(t,e,n)=>{let r=Rn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?nb(e.success,i):void 0;return s?Rn.success(s,{id:r,...n,...n?.success}):Rn.dismiss(r),i}).catch(i=>{let s=e.error?nb(e.error,i):void 0;s?Rn.error(s,{id:r,...n,...n?.error}):Rn.dismiss(r)}),t};var V4=(t,e)=>{au({type:1,toast:{id:t,height:e}})},U4=()=>{au({type:5,time:Date.now()})},Wp=new Map,H4=1e3,Q4=(t,e=H4)=>{if(Wp.has(t))return;let n=setTimeout(()=>{Wp.delete(t),au({type:4,toastId:t})},e);Wp.set(t,n)},K4=t=>{let{toasts:e,pausedAt:n}=z4(t);K.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(u<0){l.visible&&Rn.dismiss(l.id);return}return setTimeout(()=>Rn.dismiss(l.id),u)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=K.useCallback(()=>{n&&au({type:6,time:Date.now()})},[n]),i=K.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:d}=o||{},p=e.filter(x=>(x.position||d)===(s.position||d)&&x.height),h=p.findIndex(x=>x.id===s.id),b=p.filter((x,_)=>_<h&&x.visible).length;return p.filter(x=>x.visible).slice(...l?[b+1]:[0,b]).reduce((x,_)=>x+(_.height||0)+u,0)},[e]);return K.useEffect(()=>{e.forEach(s=>{if(s.dismissed)Q4(s.id,s.removeDelay);else{let o=Wp.get(s.id);o&&(clearTimeout(o),Wp.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:V4,startPause:U4,endPause:r,calculateOffset:i}}},G4=Ma`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,J4=Ma`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Z4=Ma`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Y4=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${G4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${J4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Z4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,X4=Ma`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ez=Zl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${X4} 1s linear infinite;
`,tz=Ma`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nz=Ma`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rz=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nz} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iz=Zl("div")`
  position: absolute;
`,sz=Zl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oz=Ma`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,az=Zl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lz=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?K.createElement(az,null,e):e:n==="blank"?null:K.createElement(sz,null,K.createElement(ez,{...r}),n!=="loading"&&K.createElement(iz,null,n==="error"?K.createElement(Y4,{...r}):K.createElement(rz,{...r})))},cz=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uz=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dz="0%{opacity:0;} 100%{opacity:1;}",fz="0%{opacity:1;} 100%{opacity:0;}",pz=Zl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hz=Zl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mz=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=z3()?[dz,fz]:[cz(n),uz(n)];return{animation:e?`${Ma(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ma(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gz=K.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?mz(t.position||e||"top-center",t.visible):{opacity:0},s=K.createElement(lz,{toast:t}),o=K.createElement(hz,{...t.ariaProps},nb(t.message,t));return K.createElement(pz,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):K.createElement(K.Fragment,null,s,o))});D4(K.createElement);var yz=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=K.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(t,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return K.createElement("div",{ref:s,className:e,style:n},i)},bz=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:z3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},vz=av`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qg=16,xz=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:u}=K4(n);return K.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qg,left:qg,right:qg,bottom:qg,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let p=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),b=bz(p,h);return K.createElement(yz,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?vz:"",style:b},d.type==="custom"?nb(d.message,d):i?i(d):K.createElement(gz,{toast:d,position:p}))}))},wz=Rn;class lu extends Error{}class _z extends lu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Sz extends lu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Ez extends lu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class sd extends lu{}class V3 extends lu{constructor(e){super(`Invalid unit ${e}`)}}class wi extends lu{}class pl extends lu{constructor(){super("Zone is an abstract class")}}const Ct="numeric",qo="short",Is="long",rb={year:Ct,month:Ct,day:Ct},U3={year:Ct,month:qo,day:Ct},Nz={year:Ct,month:qo,day:Ct,weekday:qo},H3={year:Ct,month:Is,day:Ct},Q3={year:Ct,month:Is,day:Ct,weekday:Is},K3={hour:Ct,minute:Ct},G3={hour:Ct,minute:Ct,second:Ct},J3={hour:Ct,minute:Ct,second:Ct,timeZoneName:qo},Z3={hour:Ct,minute:Ct,second:Ct,timeZoneName:Is},Y3={hour:Ct,minute:Ct,hourCycle:"h23"},X3={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23"},eA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:qo},tA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:Is},nA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct},rA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct,second:Ct},iA={year:Ct,month:qo,day:Ct,hour:Ct,minute:Ct},sA={year:Ct,month:qo,day:Ct,hour:Ct,minute:Ct,second:Ct},kz={year:Ct,month:qo,day:Ct,weekday:qo,hour:Ct,minute:Ct},oA={year:Ct,month:Is,day:Ct,hour:Ct,minute:Ct,timeZoneName:qo},aA={year:Ct,month:Is,day:Ct,hour:Ct,minute:Ct,second:Ct,timeZoneName:qo},lA={year:Ct,month:Is,day:Ct,weekday:Is,hour:Ct,minute:Ct,timeZoneName:Is},cA={year:Ct,month:Is,day:Ct,weekday:Is,hour:Ct,minute:Ct,second:Ct,timeZoneName:Is};class Gh{get type(){throw new pl}get name(){throw new pl}get ianaName(){return this.name}get isUniversal(){throw new pl}offsetName(e,n){throw new pl}formatOffset(e,n){throw new pl}offset(e){throw new pl}equals(e){throw new pl}get isValid(){throw new pl}}let Jw=null;class lv extends Gh{static get instance(){return Jw===null&&(Jw=new lv),Jw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return bA(e,n,r)}formatOffset(e,n){return Vp(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let hy={};function Iz(t){return hy[t]||(hy[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),hy[t]}const Cz={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Tz(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,l,u,d,p]=r;return[o,i,s,l,u,d,p]}function Rz(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=Cz[s];s==="era"?r[l]=o:fn(l)||(r[l]=parseInt(o,10))}return r}let jg={};class $a extends Gh{static create(e){return jg[e]||(jg[e]=new $a(e)),jg[e]}static resetCache(){jg={},hy={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=$a.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return bA(e,n,r,this.name)}formatOffset(e,n){return Vp(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=Iz(this.name);let[i,s,o,l,u,d,p]=r.formatToParts?Rz(r,n):Tz(r,n);l==="BC"&&(i=-Math.abs(i)+1);const b=uv({year:i,month:s,day:o,hour:u===24?0:u,minute:d,second:p,millisecond:0});let x=+n;const _=x%1e3;return x-=_>=0?_:1e3+_,(b-x)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let RC={};function Oz(t,e={}){const n=JSON.stringify([t,e]);let r=RC[n];return r||(r=new Intl.ListFormat(t,e),RC[n]=r),r}let VS={};function US(t,e={}){const n=JSON.stringify([t,e]);let r=VS[n];return r||(r=new Intl.DateTimeFormat(t,e),VS[n]=r),r}let HS={};function qz(t,e={}){const n=JSON.stringify([t,e]);let r=HS[n];return r||(r=new Intl.NumberFormat(t,e),HS[n]=r),r}let QS={};function jz(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=QS[i];return s||(s=new Intl.RelativeTimeFormat(t,e),QS[i]=s),s}let Ep=null;function Az(){return Ep||(Ep=new Intl.DateTimeFormat().resolvedOptions().locale,Ep)}let OC={};function Pz(t){let e=OC[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,OC[t]=e}return e}function Fz(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=US(t).resolvedOptions(),i=t}catch{const u=t.substring(0,n);r=US(u).resolvedOptions(),i=u}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function Dz(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Lz(t){const e=[];for(let n=1;n<=12;n++){const r=dn.utc(2009,n,1);e.push(t(r))}return e}function Mz(t){const e=[];for(let n=1;n<=7;n++){const r=dn.utc(2016,11,13+n);e.push(t(r))}return e}function Ag(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function $z(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Bz{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=qz(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):pN(e,3);return Qr(n,this.padTo)}}}class zz{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&$a.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=US(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Wz{constructor(e,n,r){this.opts={style:"long",...r},!n&&gA()&&(this.rtf=jz(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):fW(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const Vz={firstDay:1,minimalDays:4,weekend:[6,7]};class Wn{static fromOpts(e){return Wn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const o=e||Or.defaultLocale,l=o||(s?"en-US":Az()),u=n||Or.defaultNumberingSystem,d=r||Or.defaultOutputCalendar,p=KS(i)||Or.defaultWeekSettings;return new Wn(l,u,d,p,o)}static resetCache(){Ep=null,VS={},HS={},QS={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Wn.create(e,n,r,i)}constructor(e,n,r,i,s){const[o,l,u]=Fz(e);this.locale=o,this.numberingSystem=n||l||null,this.outputCalendar=r||u||null,this.weekSettings=i,this.intl=Dz(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=$z(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Wn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,KS(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Ag(this,e,wA,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Lz(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return Ag(this,e,EA,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Mz(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Ag(this,void 0,()=>NA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[dn.utc(2016,11,13,9),dn.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Ag(this,e,kA,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[dn.utc(-40,1,1),dn.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new Bz(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new zz(e,this.intl,n)}relFormatter(e={}){return new Wz(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Oz(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:yA()?Pz(this.locale):Vz}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Zw=null;class Di extends Gh{static get utcInstance(){return Zw===null&&(Zw=new Di(0)),Zw}static instance(e){return e===0?Di.utcInstance:new Di(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Di(dv(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Vp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Vp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Vp(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Uz extends Gh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function kl(t,e){if(fn(t)||t===null)return e;if(t instanceof Gh)return t;if(Zz(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?lv.instance:n==="utc"||n==="gmt"?Di.utcInstance:Di.parseSpecifier(n)||$a.create(t)}else return Al(t)?Di.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Uz(t)}const cN={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},qC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Hz=cN.hanidec.replace(/[\[|\]]/g,"").split("");function Qz(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(cN.hanidec)!==-1)e+=Hz.indexOf(t[n]);else for(const i in qC){const[s,o]=qC[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}let td={};function Kz(){td={}}function vo({numberingSystem:t},e=""){const n=t||"latn";return td[n]||(td[n]={}),td[n][e]||(td[n][e]=new RegExp(`${cN[n]}${e}`)),td[n][e]}let jC=()=>Date.now(),AC="system",PC=null,FC=null,DC=null,LC=60,MC,$C=null;class Or{static get now(){return jC}static set now(e){jC=e}static set defaultZone(e){AC=e}static get defaultZone(){return kl(AC,lv.instance)}static get defaultLocale(){return PC}static set defaultLocale(e){PC=e}static get defaultNumberingSystem(){return FC}static set defaultNumberingSystem(e){FC=e}static get defaultOutputCalendar(){return DC}static set defaultOutputCalendar(e){DC=e}static get defaultWeekSettings(){return $C}static set defaultWeekSettings(e){$C=KS(e)}static get twoDigitCutoffYear(){return LC}static set twoDigitCutoffYear(e){LC=e%100}static get throwOnInvalid(){return MC}static set throwOnInvalid(e){MC=e}static resetCaches(){Wn.resetCache(),$a.resetCache(),dn.resetCache(),Kz()}}class Co{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const uA=[0,31,59,90,120,151,181,212,243,273,304,334],dA=[0,31,60,91,121,152,182,213,244,274,305,335];function ro(t,e){return new Co("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function uN(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function fA(t,e,n){return n+(Jh(t)?dA:uA)[e-1]}function pA(t,e){const n=Jh(t)?dA:uA,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function dN(t,e){return(t-e+7)%7+1}function ib(t,e=4,n=1){const{year:r,month:i,day:s}=t,o=fA(r,i,s),l=dN(uN(r,i,s),n);let u=Math.floor((o-l+14-e)/7),d;return u<1?(d=r-1,u=oh(d,e,n)):u>oh(r,e,n)?(d=r+1,u=1):d=r,{weekYear:d,weekNumber:u,weekday:l,...fv(t)}}function BC(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,o=dN(uN(r,1,e),n),l=yd(r);let u=i*7+s-o-7+e,d;u<1?(d=r-1,u+=yd(d)):u>l?(d=r+1,u-=yd(r)):d=r;const{month:p,day:h}=pA(d,u);return{year:d,month:p,day:h,...fv(t)}}function Yw(t){const{year:e,month:n,day:r}=t,i=fA(e,n,r);return{year:e,ordinal:i,...fv(t)}}function zC(t){const{year:e,ordinal:n}=t,{month:r,day:i}=pA(e,n);return{year:e,month:r,day:i,...fv(t)}}function WC(t,e){if(!fn(t.localWeekday)||!fn(t.localWeekNumber)||!fn(t.localWeekYear)){if(!fn(t.weekday)||!fn(t.weekNumber)||!fn(t.weekYear))throw new sd("Cannot mix locale-based week fields with ISO-based week fields");return fn(t.localWeekday)||(t.weekday=t.localWeekday),fn(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),fn(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Gz(t,e=4,n=1){const r=cv(t.weekYear),i=io(t.weekNumber,1,oh(t.weekYear,e,n)),s=io(t.weekday,1,7);return r?i?s?!1:ro("weekday",t.weekday):ro("week",t.weekNumber):ro("weekYear",t.weekYear)}function Jz(t){const e=cv(t.year),n=io(t.ordinal,1,yd(t.year));return e?n?!1:ro("ordinal",t.ordinal):ro("year",t.year)}function hA(t){const e=cv(t.year),n=io(t.month,1,12),r=io(t.day,1,sb(t.year,t.month));return e?n?r?!1:ro("day",t.day):ro("month",t.month):ro("year",t.year)}function mA(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=io(e,0,23)||e===24&&n===0&&r===0&&i===0,o=io(n,0,59),l=io(r,0,59),u=io(i,0,999);return s?o?l?u?!1:ro("millisecond",i):ro("second",r):ro("minute",n):ro("hour",e)}function fn(t){return typeof t>"u"}function Al(t){return typeof t=="number"}function cv(t){return typeof t=="number"&&t%1===0}function Zz(t){return typeof t=="string"}function Yz(t){return Object.prototype.toString.call(t)==="[object Date]"}function gA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function yA(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Xz(t){return Array.isArray(t)?t:[t]}function VC(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function eW(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function jd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function KS(t){if(t==null)return null;if(typeof t!="object")throw new wi("Week settings must be an object");if(!io(t.firstDay,1,7)||!io(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!io(e,1,7)))throw new wi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function io(t,e,n){return cv(t)&&t>=e&&t<=n}function tW(t,e){return t-e*Math.floor(t/e)}function Qr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function _l(t){if(!(fn(t)||t===null||t===""))return parseInt(t,10)}function kc(t){if(!(fn(t)||t===null||t===""))return parseFloat(t)}function fN(t){if(!(fn(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function pN(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Jh(t){return t%4===0&&(t%100!==0||t%400===0)}function yd(t){return Jh(t)?366:365}function sb(t,e){const n=tW(e-1,12)+1,r=t+(e-n)/12;return n===2?Jh(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function uv(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function UC(t,e,n){return-dN(uN(t,1,e),n)+e-1}function oh(t,e=4,n=1){const r=UC(t,e,n),i=UC(t+1,e,n);return(yd(t)-r+i)/7}function GS(t){return t>99?t:t>Or.twoDigitCutoffYear?1900+t:2e3+t}function bA(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}function dv(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function vA(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new wi(`Invalid unit value ${t}`);return e}function ob(t,e){const n={};for(const r in t)if(jd(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=vA(i)}return n}function Vp(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Qr(n,2)}:${Qr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Qr(n,2)}${Qr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function fv(t){return eW(t,["hour","minute","second","millisecond"])}const nW=["January","February","March","April","May","June","July","August","September","October","November","December"],xA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rW=["J","F","M","A","M","J","J","A","S","O","N","D"];function wA(t){switch(t){case"narrow":return[...rW];case"short":return[...xA];case"long":return[...nW];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const _A=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],SA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],iW=["M","T","W","T","F","S","S"];function EA(t){switch(t){case"narrow":return[...iW];case"short":return[...SA];case"long":return[..._A];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const NA=["AM","PM"],sW=["Before Christ","Anno Domini"],oW=["BC","AD"],aW=["B","A"];function kA(t){switch(t){case"narrow":return[...aW];case"short":return[...oW];case"long":return[...sW];default:return null}}function lW(t){return NA[t.hour<12?0:1]}function cW(t,e){return EA(e)[t.weekday-1]}function uW(t,e){return wA(e)[t.month-1]}function dW(t,e){return kA(e)[t.year<0?0:1]}function fW(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${i[t][0]}`;case-1:return h?"yesterday":`last ${i[t][0]}`;case 0:return h?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),u=l===1,d=i[t],p=r?u?d[1]:d[2]||d[1]:u?i[t][0]:t;return o?`${l} ${p} ago`:`in ${l} ${p}`}function HC(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const pW={D:rb,DD:U3,DDD:H3,DDDD:Q3,t:K3,tt:G3,ttt:J3,tttt:Z3,T:Y3,TT:X3,TTT:eA,TTTT:tA,f:nA,ff:iA,fff:oA,ffff:lA,F:rA,FF:sA,FFF:aA,FFFF:cA};class Si{static create(e,n={}){return new Si(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return pW[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Qr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(x,_)=>this.loc.extract(e,x,_),o=x=>e.isOffsetFixed&&e.offset===0&&x.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,x.format):"",l=()=>r?lW(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(x,_)=>r?uW(e,x):s(_?{month:x}:{month:x,day:"numeric"},"month"),d=(x,_)=>r?cW(e,x):s(_?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),p=x=>{const _=Si.macroTokenToFormatOpts(x);return _?this.formatWithSystemDefault(e,_):x},h=x=>r?dW(e,x):s({era:x},"era"),b=x=>{switch(x){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(x)}};return HC(Si.parseFormat(n),b)}formatDurationFromString(e,n){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>d=>{const p=r(d);return p?this.num(u.get(p),d.length):d},s=Si.parseFormat(n),o=s.reduce((u,{literal:d,val:p})=>d?u:u.concat(p),[]),l=e.shiftTo(...o.map(r).filter(u=>u));return HC(s,i(l))}}const IA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ef(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function tf(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,u]=s(e,i);return[{...n,...o},l||r,u]},[{},null,1]).slice(0,2)}function nf(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function CA(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=_l(e[n+i]);return[r,null,n+i]}}const TA=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,hW=`(?:${TA.source}?(?:\\[(${IA.source})\\])?)?`,hN=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,RA=RegExp(`${hN.source}${hW}`),mN=RegExp(`(?:T${RA.source})?`),mW=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,gW=/(\d{4})-?W(\d\d)(?:-?(\d))?/,yW=/(\d{4})-?(\d{3})/,bW=CA("weekYear","weekNumber","weekDay"),vW=CA("year","ordinal"),xW=/(\d{4})-(\d\d)-(\d\d)/,OA=RegExp(`${hN.source} ?(?:${TA.source}|(${IA.source}))?`),wW=RegExp(`(?: ${OA.source})?`);function bd(t,e,n){const r=t[e];return fn(r)?n:_l(r)}function _W(t,e){return[{year:bd(t,e),month:bd(t,e+1,1),day:bd(t,e+2,1)},null,e+3]}function rf(t,e){return[{hours:bd(t,e,0),minutes:bd(t,e+1,0),seconds:bd(t,e+2,0),milliseconds:fN(t[e+3])},null,e+4]}function Zh(t,e){const n=!t[e]&&!t[e+1],r=dv(t[e+1],t[e+2]),i=n?null:Di.instance(r);return[{},i,e+3]}function Yh(t,e){const n=t[e]?$a.create(t[e]):null;return[{},n,e+1]}const SW=RegExp(`^T?${hN.source}$`),EW=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function NW(t){const[e,n,r,i,s,o,l,u,d]=t,p=e[0]==="-",h=u&&u[0]==="-",b=(x,_=!1)=>x!==void 0&&(_||x&&p)?-x:x;return[{years:b(kc(n)),months:b(kc(r)),weeks:b(kc(i)),days:b(kc(s)),hours:b(kc(o)),minutes:b(kc(l)),seconds:b(kc(u),u==="-0"),milliseconds:b(fN(d),h)}]}const kW={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gN(t,e,n,r,i,s,o){const l={year:e.length===2?GS(_l(e)):_l(e),month:xA.indexOf(n)+1,day:_l(r),hour:_l(i),minute:_l(s)};return o&&(l.second=_l(o)),t&&(l.weekday=t.length>3?_A.indexOf(t)+1:SA.indexOf(t)+1),l}const IW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function CW(t){const[,e,n,r,i,s,o,l,u,d,p,h]=t,b=gN(e,i,r,n,s,o,l);let x;return u?x=kW[u]:d?x=0:x=dv(p,h),[b,new Di(x)]}function TW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const RW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,OW=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function QC(t){const[,e,n,r,i,s,o,l]=t;return[gN(e,i,r,n,s,o,l),Di.utcInstance]}function jW(t){const[,e,n,r,i,s,o,l]=t;return[gN(e,l,n,r,i,s,o),Di.utcInstance]}const AW=ef(mW,mN),PW=ef(gW,mN),FW=ef(yW,mN),DW=ef(RA),qA=tf(_W,rf,Zh,Yh),LW=tf(bW,rf,Zh,Yh),MW=tf(vW,rf,Zh,Yh),$W=tf(rf,Zh,Yh);function BW(t){return nf(t,[AW,qA],[PW,LW],[FW,MW],[DW,$W])}function zW(t){return nf(TW(t),[IW,CW])}function WW(t){return nf(t,[RW,QC],[OW,QC],[qW,jW])}function VW(t){return nf(t,[EW,NW])}const UW=tf(rf);function HW(t){return nf(t,[SW,UW])}const QW=ef(xW,wW),KW=ef(OA),GW=tf(rf,Zh,Yh);function JW(t){return nf(t,[QW,qA],[KW,GW])}const KC="Invalid Duration",jA={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ZW={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...jA},Js=146097/400,Wu=146097/4800,YW={years:{quarters:4,months:12,weeks:Js/7,days:Js,hours:Js*24,minutes:Js*24*60,seconds:Js*24*60*60,milliseconds:Js*24*60*60*1e3},quarters:{months:3,weeks:Js/28,days:Js/4,hours:Js*24/4,minutes:Js*24*60/4,seconds:Js*24*60*60/4,milliseconds:Js*24*60*60*1e3/4},months:{weeks:Wu/7,days:Wu,hours:Wu*24,minutes:Wu*24*60,seconds:Wu*24*60*60,milliseconds:Wu*24*60*60*1e3},...jA},Mc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],XW=Mc.slice(0).reverse();function hl(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new An(r)}function AA(t,e){let n=e.milliseconds??0;for(const r of XW.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function GC(t,e){const n=AA(t,e)<0?-1:1;Mc.reduceRight((r,i)=>{if(fn(e[i]))return r;if(r){const s=e[r]*n,o=t[i][r],l=Math.floor(s/o);e[i]+=l*n,e[r]-=l*o*n}return i},null),Mc.reduce((r,i)=>{if(fn(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function e6(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class An{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?YW:ZW;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Wn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return An.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new wi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new An({values:ob(e,An.normalizeUnit),loc:Wn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Al(e))return An.fromMillis(e);if(An.isDuration(e))return e;if(typeof e=="object")return An.fromObject(e);throw new wi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=VW(e);return r?An.fromObject(r,n):An.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=HW(e);return r?An.fromObject(r,n):An.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new wi("need to specify a reason the Duration is invalid");const r=e instanceof Co?e:new Co(e,n);if(Or.throwOnInvalid)throw new Ez(r);return new An({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new V3(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Si.create(this.loc,r).formatDurationFromString(this,e):KC}toHuman(e={}){if(!this.isValid)return KC;const n=Mc.map(r=>{const i=this.values[r];return fn(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=pN(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},dn.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?AA(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=An.fromDurationLike(e),r={};for(const i of Mc)(jd(n.values,i)||jd(this.values,i))&&(r[i]=n.get(i)+this.get(i));return hl(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=An.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=vA(e(this.values[r],r));return hl(this,{values:n},!0)}get(e){return this[An.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...ob(e,An.normalizeUnit)};return hl(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return hl(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return GC(this.matrix,e),hl(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=e6(this.normalize().shiftToAll().toObject());return hl(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>An.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Mc)if(e.indexOf(o)>=0){s=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;Al(i[o])&&(l+=i[o]);const u=Math.trunc(l);n[o]=u,r[o]=(l*1e3-u*1e3)/1e3}else Al(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return GC(this.matrix,n),hl(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return hl(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Mc)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Vu="Invalid Interval";function t6(t,e){return!t||!t.isValid?Rr.invalid("missing or invalid start"):!e||!e.isValid?Rr.invalid("missing or invalid end"):e<t?Rr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Rr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new wi("need to specify a reason the Interval is invalid");const r=e instanceof Co?e:new Co(e,n);if(Or.throwOnInvalid)throw new Sz(r);return new Rr({invalid:r})}static fromDateTimes(e,n){const r=up(e),i=up(n),s=t6(r,i);return s??new Rr({start:r,end:i})}static after(e,n){const r=An.fromDurationLike(n),i=up(e);return Rr.fromDateTimes(i,i.plus(r))}static before(e,n){const r=An.fromDurationLike(n),i=up(e);return Rr.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=dn.fromISO(r,n),o=s.isValid}catch{o=!1}let l,u;try{l=dn.fromISO(i,n),u=l.isValid}catch{u=!1}if(o&&u)return Rr.fromDateTimes(s,l);if(o){const d=An.fromISO(i,n);if(d.isValid)return Rr.after(s,d)}else if(u){const d=An.fromISO(r,n);if(d.isValid)return Rr.before(l,d)}}return Rr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Rr.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(up).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(Rr.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=An.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(u=>u*i));s=+l>+this.e?this.e:l,o.push(Rr.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Rr.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Rr.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((u,d)=>u.time-d.time);for(const u of l)r+=u.type==="s"?1:-1,r===1?n=u.time:(n&&+n!=+u.time&&i.push(Rr.fromDateTimes(n,u.time)),n=null);return Rr.merge(i)}difference(...e){return Rr.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Vu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=rb,n={}){return this.isValid?Si.create(this.s.loc.clone(n),e).formatInterval(this):Vu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Vu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Vu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Vu}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Vu}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):An.invalid(this.invalidReason)}mapEndpoints(e){return Rr.fromDateTimes(e(this.s),e(this.e))}}class Pg{static hasDST(e=Or.defaultZone){const n=dn.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return $a.isValidZone(e)}static normalizeZone(e){return kl(e,Or.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Wn.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Wn.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Wn.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Wn.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Wn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Wn.create(n,null,"gregory").eras(e)}static features(){return{relative:gA(),localeWeek:yA()}}}function JC(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(An.fromMillis(r).as("days"))}function n6(t,e,n){const r=[["years",(u,d)=>d.year-u.year],["quarters",(u,d)=>d.quarter-u.quarter+(d.year-u.year)*4],["months",(u,d)=>d.month-u.month+(d.year-u.year)*12],["weeks",(u,d)=>{const p=JC(u,d);return(p-p%7)/7}],["days",JC]],i={},s=t;let o,l;for(const[u,d]of r)n.indexOf(u)>=0&&(o=u,i[u]=d(t,e),l=s.plus(i),l>e?(i[u]--,t=s.plus(i),t>e&&(l=t,i[u]--,t=s.plus(i))):t=l);return[t,i,l,o]}function r6(t,e,n,r){let[i,s,o,l]=n6(t,e,n);const u=e-i,d=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);d.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+u/(o-i)));const p=An.fromObject(s,r);return d.length>0?An.fromMillis(u,r).shiftTo(...d).plus(p):p}const i6="missing Intl.DateTimeFormat.formatToParts support";function Mn(t,e=n=>n){return{regex:t,deser:([n])=>e(Qz(n))}}const s6="\xa0",PA=`[ ${s6}]`,FA=new RegExp(PA,"g");function o6(t){return t.replace(/\./g,"\\.?").replace(FA,PA)}function ZC(t){return t.replace(/\./g,"").replace(FA," ").toLowerCase()}function xo(t,e){return t===null?null:{regex:RegExp(t.map(o6).join("|")),deser:([n])=>t.findIndex(r=>ZC(n)===ZC(r))+e}}function YC(t,e){return{regex:t,deser:([,n,r])=>dv(n,r),groups:e}}function Fg(t){return{regex:t,deser:([e])=>e}}function a6(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function l6(t,e){const n=vo(e),r=vo(e,"{2}"),i=vo(e,"{3}"),s=vo(e,"{4}"),o=vo(e,"{6}"),l=vo(e,"{1,2}"),u=vo(e,"{1,3}"),d=vo(e,"{1,6}"),p=vo(e,"{1,9}"),h=vo(e,"{2,4}"),b=vo(e,"{4,6}"),x=I=>({regex:RegExp(a6(I.val)),deser:([T])=>T,literal:!0}),E=(I=>{if(t.literal)return x(I);switch(I.val){case"G":return xo(e.eras("short"),0);case"GG":return xo(e.eras("long"),0);case"y":return Mn(d);case"yy":return Mn(h,GS);case"yyyy":return Mn(s);case"yyyyy":return Mn(b);case"yyyyyy":return Mn(o);case"M":return Mn(l);case"MM":return Mn(r);case"MMM":return xo(e.months("short",!0),1);case"MMMM":return xo(e.months("long",!0),1);case"L":return Mn(l);case"LL":return Mn(r);case"LLL":return xo(e.months("short",!1),1);case"LLLL":return xo(e.months("long",!1),1);case"d":return Mn(l);case"dd":return Mn(r);case"o":return Mn(u);case"ooo":return Mn(i);case"HH":return Mn(r);case"H":return Mn(l);case"hh":return Mn(r);case"h":return Mn(l);case"mm":return Mn(r);case"m":return Mn(l);case"q":return Mn(l);case"qq":return Mn(r);case"s":return Mn(l);case"ss":return Mn(r);case"S":return Mn(u);case"SSS":return Mn(i);case"u":return Fg(p);case"uu":return Fg(l);case"uuu":return Mn(n);case"a":return xo(e.meridiems(),0);case"kkkk":return Mn(s);case"kk":return Mn(h,GS);case"W":return Mn(l);case"WW":return Mn(r);case"E":case"c":return Mn(n);case"EEE":return xo(e.weekdays("short",!1),1);case"EEEE":return xo(e.weekdays("long",!1),1);case"ccc":return xo(e.weekdays("short",!0),1);case"cccc":return xo(e.weekdays("long",!0),1);case"Z":case"ZZ":return YC(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return YC(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return Fg(/[a-z_+-/]{1,256}?/i);case" ":return Fg(/[^\S\n\r]/);default:return x(I)}})(t)||{invalidReason:i6};return E.token=t,E}const c6={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function u6(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let l=c6[o];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function d6(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function f6(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(jd(n,o)){const l=n[o],u=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+u))),s+=u}return[r,i]}else return[r,{}]}function p6(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return fn(t.z)||(n=$a.create(t.z)),fn(t.Z)||(n||(n=new Di(t.Z)),r=t.Z),fn(t.q)||(t.M=(t.q-1)*3+1),fn(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),fn(t.u)||(t.S=fN(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let Xw=null;function h6(){return Xw||(Xw=dn.fromMillis(0x16a2e5618e3)),Xw}function m6(t,e){if(t.literal)return t;const n=Si.macroTokenToFormatOpts(t.val),r=$A(n,e);return r==null||r.includes(void 0)?t:r}function DA(t,e){return Array.prototype.concat(...t.map(n=>m6(n,e)))}class LA{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=DA(Si.parseFormat(n),e),this.units=this.tokens.map(r=>l6(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=d6(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=f6(e,this.regex,this.handlers),[i,s,o]=r?p6(r):[null,null,void 0];if(jd(r,"a")&&jd(r,"H"))throw new sd("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function MA(t,e,n){return new LA(t,n).explainFromTokens(e)}function g6(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=MA(t,e,n);return[r,i,s,o]}function $A(t,e){if(!t)return null;const r=Si.create(e,t).dtFormatter(h6()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>u6(o,t,s))}const e_="Invalid DateTime",y6=864e13;function Np(t){return new Co("unsupported zone",`the zone "${t.name}" is not supported`)}function t_(t){return t.weekData===null&&(t.weekData=ib(t.c)),t.weekData}function n_(t){return t.localWeekData===null&&(t.localWeekData=ib(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Ic(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new dn({...n,...e,old:n})}function BA(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Dg(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function my(t,e,n){return BA(uv(t),e,n)}function XC(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,sb(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=An.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=uv(s);let[u,d]=BA(l,n,t.zone);return o!==0&&(u+=o,d=t.zone.offset(u)),{ts:u,o:d}}function Uu(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const u=e||l,d=dn.fromObject(t,{...n,zone:u,specificOffset:s});return o?d:d.setZone(l)}else return dn.invalid(new Co("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Lg(t,e,n=!0){return t.isValid?Si.create(Wn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function r_(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Qr(t.c.year,n?6:4),e?(r+="-",r+=Qr(t.c.month),r+="-",r+=Qr(t.c.day)):(r+=Qr(t.c.month),r+=Qr(t.c.day)),r}function eT(t,e,n,r,i,s){let o=Qr(t.c.hour);return e?(o+=":",o+=Qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Qr(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=Qr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Qr(Math.trunc(-t.o/60)),o+=":",o+=Qr(Math.trunc(-t.o%60))):(o+="+",o+=Qr(Math.trunc(t.o/60)),o+=":",o+=Qr(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const zA={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},b6={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},v6={ordinal:1,hour:0,minute:0,second:0,millisecond:0},WA=["year","month","day","hour","minute","second","millisecond"],x6=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],w6=["year","ordinal","hour","minute","second","millisecond"];function _6(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new V3(t);return e}function tT(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return _6(t)}}function S6(t){return yy[t]||(gy===void 0&&(gy=Or.now()),yy[t]=t.offset(gy)),yy[t]}function nT(t,e){const n=kl(e.zone,Or.defaultZone);if(!n.isValid)return dn.invalid(Np(n));const r=Wn.fromObject(e);let i,s;if(fn(t.year))i=Or.now();else{for(const u of WA)fn(t[u])&&(t[u]=zA[u]);const o=hA(t)||mA(t);if(o)return dn.invalid(o);const l=S6(n);[i,s]=my(t,l,n)}return new dn({ts:i,zone:n,loc:r,o:s})}function rT(t,e,n){const r=fn(n.round)?!0:n.round,i=(o,l)=>(o=pN(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function iT(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let gy,yy={};class dn{constructor(e){const n=e.zone||Or.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Co("invalid input"):null)||(n.isValid?null:Np(n));this.ts=fn(e.ts)?Or.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=Al(e.o)&&!e.old?e.o:n.offset(this.ts);i=Dg(this.ts,l),r=Number.isNaN(i.year)?new Co("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||Wn.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new dn({})}static local(){const[e,n]=iT(arguments),[r,i,s,o,l,u,d]=n;return nT({year:r,month:i,day:s,hour:o,minute:l,second:u,millisecond:d},e)}static utc(){const[e,n]=iT(arguments),[r,i,s,o,l,u,d]=n;return e.zone=Di.utcInstance,nT({year:r,month:i,day:s,hour:o,minute:l,second:u,millisecond:d},e)}static fromJSDate(e,n={}){const r=Yz(e)?e.valueOf():NaN;if(Number.isNaN(r))return dn.invalid("invalid input");const i=kl(n.zone,Or.defaultZone);return i.isValid?new dn({ts:r,zone:i,loc:Wn.fromObject(n)}):dn.invalid(Np(i))}static fromMillis(e,n={}){if(Al(e))return e<-864e13||e>y6?dn.invalid("Timestamp out of range"):new dn({ts:e,zone:kl(n.zone,Or.defaultZone),loc:Wn.fromObject(n)});throw new wi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Al(e))return new dn({ts:e*1e3,zone:kl(n.zone,Or.defaultZone),loc:Wn.fromObject(n)});throw new wi("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=kl(n.zone,Or.defaultZone);if(!r.isValid)return dn.invalid(Np(r));const i=Wn.fromObject(n),s=ob(e,tT),{minDaysInFirstWeek:o,startOfWeek:l}=WC(s,i),u=Or.now(),d=fn(n.specificOffset)?r.offset(u):n.specificOffset,p=!fn(s.ordinal),h=!fn(s.year),b=!fn(s.month)||!fn(s.day),x=h||b,_=s.weekYear||s.weekNumber;if((x||p)&&_)throw new sd("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&p)throw new sd("Can't mix ordinal dates with month/day");const E=_||s.weekday&&!x;let I,T,R=Dg(u,d);E?(I=x6,T=b6,R=ib(R,o,l)):p?(I=w6,T=v6,R=Yw(R)):(I=WA,T=zA);let O=!1;for(const M of I){const F=s[M];fn(F)?O?s[M]=T[M]:s[M]=R[M]:O=!0}const A=E?Gz(s,o,l):p?Jz(s):hA(s),D=A||mA(s);if(D)return dn.invalid(D);const L=E?BC(s,o,l):p?zC(s):s,[W,P]=my(L,d,r),q=new dn({ts:W,zone:r,o:P,loc:i});return s.weekday&&x&&e.weekday!==q.weekday?dn.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${q.toISO()}`):q.isValid?q:dn.invalid(q.invalid)}static fromISO(e,n={}){const[r,i]=BW(e);return Uu(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=zW(e);return Uu(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=WW(e);return Uu(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(fn(e)||fn(n))throw new wi("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,u,d,p]=g6(o,e,n);return p?dn.invalid(p):Uu(l,u,r,`format ${n}`,e,d)}static fromString(e,n,r={}){return dn.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=JW(e);return Uu(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new wi("need to specify a reason the DateTime is invalid");const r=e instanceof Co?e:new Co(e,n);if(Or.throwOnInvalid)throw new _z(r);return new dn({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=$A(e,Wn.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return DA(Si.parseFormat(e),Wn.fromObject(n)).map(i=>i.val).join("")}static resetCache(){gy=void 0,yy={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?t_(this).weekYear:NaN}get weekNumber(){return this.isValid?t_(this).weekNumber:NaN}get weekday(){return this.isValid?t_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?n_(this).weekday:NaN}get localWeekNumber(){return this.isValid?n_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?n_(this).weekYear:NaN}get ordinal(){return this.isValid?Yw(this.c).ordinal:NaN}get monthShort(){return this.isValid?Pg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Pg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Pg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Pg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=uv(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),l=this.zone.offset(r-s*n);if(o===l)return[this];const u=r-o*n,d=r-l*n,p=Dg(u,o),h=Dg(d,l);return p.hour===h.hour&&p.minute===h.minute&&p.second===h.second&&p.millisecond===h.millisecond?[Ic(this,{ts:u}),Ic(this,{ts:d})]:[this]}get isInLeapYear(){return Jh(this.year)}get daysInMonth(){return sb(this.year,this.month)}get daysInYear(){return this.isValid?yd(this.year):NaN}get weeksInWeekYear(){return this.isValid?oh(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?oh(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Si.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Di.instance(e),n)}toLocal(){return this.setZone(Or.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=kl(e,Or.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=my(o,s,e)}return Ic(this,{ts:i,zone:e})}else return dn.invalid(Np(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Ic(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=ob(e,tT),{minDaysInFirstWeek:r,startOfWeek:i}=WC(n,this.loc),s=!fn(n.weekYear)||!fn(n.weekNumber)||!fn(n.weekday),o=!fn(n.ordinal),l=!fn(n.year),u=!fn(n.month)||!fn(n.day),d=l||u,p=n.weekYear||n.weekNumber;if((d||o)&&p)throw new sd("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new sd("Can't mix ordinal dates with month/day");let h;s?h=BC({...ib(this.c,r,i),...n},r,i):fn(n.ordinal)?(h={...this.toObject(),...n},fn(n.day)&&(h.day=Math.min(sb(h.year,h.month),h.day))):h=zC({...Yw(this.c),...n});const[b,x]=my(h,this.o,this.zone);return Ic(this,{ts:b,o:x})}plus(e){if(!this.isValid)return this;const n=An.fromDurationLike(e);return Ic(this,XC(this,n))}minus(e){if(!this.isValid)return this;const n=An.fromDurationLike(e).negate();return Ic(this,XC(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=An.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Si.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):e_}toLocaleString(e=rb,n={}){return this.isValid?Si.create(this.loc.clone(n),e).formatDateTime(this):e_}toLocaleParts(e={}){return this.isValid?Si.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=r_(this,o);return l+="T",l+=eT(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?r_(this,e==="extended"):null}toISOWeekDate(){return Lg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+eT(this,o==="extended",n,e,r,s):null}toRFC2822(){return Lg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Lg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?r_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Lg(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():e_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return An.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=Xz(n).map(An.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,u=o?e:this,d=r6(l,u,s,i);return o?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(dn.now(),e,n)}until(e){return this.isValid?Rr.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||dn.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),rT(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?rT(e.base||dn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(dn.isDateTime))throw new wi("min requires all arguments be DateTimes");return VC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(dn.isDateTime))throw new wi("max requires all arguments be DateTimes");return VC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return MA(o,e,n)}static fromStringExplain(e,n,r={}){return dn.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=Wn.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new LA(s,e)}static fromFormatParser(e,n,r={}){if(fn(e)||fn(n))throw new wi("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new wi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:l,zone:u,specificOffset:d,invalidReason:p}=n.explainFromTokens(e);return p?dn.invalid(p):Uu(l,u,r,`format ${n.format}`,e,d)}static get DATE_SHORT(){return rb}static get DATE_MED(){return U3}static get DATE_MED_WITH_WEEKDAY(){return Nz}static get DATE_FULL(){return H3}static get DATE_HUGE(){return Q3}static get TIME_SIMPLE(){return K3}static get TIME_WITH_SECONDS(){return G3}static get TIME_WITH_SHORT_OFFSET(){return J3}static get TIME_WITH_LONG_OFFSET(){return Z3}static get TIME_24_SIMPLE(){return Y3}static get TIME_24_WITH_SECONDS(){return X3}static get TIME_24_WITH_SHORT_OFFSET(){return eA}static get TIME_24_WITH_LONG_OFFSET(){return tA}static get DATETIME_SHORT(){return nA}static get DATETIME_SHORT_WITH_SECONDS(){return rA}static get DATETIME_MED(){return iA}static get DATETIME_MED_WITH_SECONDS(){return sA}static get DATETIME_MED_WITH_WEEKDAY(){return kz}static get DATETIME_FULL(){return oA}static get DATETIME_FULL_WITH_SECONDS(){return aA}static get DATETIME_HUGE(){return lA}static get DATETIME_HUGE_WITH_SECONDS(){return cA}}function up(t){if(dn.isDateTime(t))return t;if(t&&t.valueOf&&Al(t.valueOf()))return dn.fromJSDate(t);if(t&&typeof t=="object")return dn.fromObject(t);throw new wi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function VA(t,e){return function(){return t.apply(e,arguments)}}const{toString:E6}=Object.prototype,{getPrototypeOf:yN}=Object,pv=(t=>e=>{const n=E6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Do=t=>(t=t.toLowerCase(),e=>pv(e)===t),hv=t=>e=>typeof e===t,{isArray:sf}=Array,ah=hv("undefined");function N6(t){return t!==null&&!ah(t)&&t.constructor!==null&&!ah(t.constructor)&&Cs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UA=Do("ArrayBuffer");function k6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UA(t.buffer),e}const I6=hv("string"),Cs=hv("function"),HA=hv("number"),mv=t=>t!==null&&typeof t=="object",C6=t=>t===!0||t===!1,by=t=>{if(pv(t)!=="object")return!1;const e=yN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},T6=Do("Date"),R6=Do("File"),O6=Do("Blob"),q6=Do("FileList"),j6=t=>mv(t)&&Cs(t.pipe),A6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Cs(t.append)&&((e=pv(t))==="formdata"||e==="object"&&Cs(t.toString)&&t.toString()==="[object FormData]"))},P6=Do("URLSearchParams"),[F6,D6,L6,M6]=["ReadableStream","Request","Response","Headers"].map(Do),$6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),sf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function QA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const $c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KA=t=>!ah(t)&&t!==$c;function JS(){const{caseless:t}=KA(this)&&this||{},e={},n=(r,i)=>{const s=t&&QA(e,i)||i;by(e[s])&&by(r)?e[s]=JS(e[s],r):by(r)?e[s]=JS({},r):sf(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Xh(arguments[r],n);return e}const B6=(t,e,n,{allOwnKeys:r}={})=>(Xh(e,(i,s)=>{n&&Cs(i)?t[s]=VA(i,n):t[s]=i},{allOwnKeys:r}),t),z6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),W6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},V6=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&yN(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},U6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},H6=t=>{if(!t)return null;if(sf(t))return t;let e=t.length;if(!HA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Q6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yN(Uint8Array)),K6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},G6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},J6=Do("HTMLFormElement"),Z6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),sT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Y6=Do("RegExp"),GA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Xh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},X6=t=>{GA(t,(e,n)=>{if(Cs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Cs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},eV=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return sf(t)?r(t):r(String(t).split(e)),n},tV=()=>{},nV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,i_="abcdefghijklmnopqrstuvwxyz",oT="0123456789",JA={DIGIT:oT,ALPHA:i_,ALPHA_DIGIT:i_+i_.toUpperCase()+oT},rV=(t=16,e=JA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function iV(t){return!!(t&&Cs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const sV=t=>{const e=new Array(10),n=(r,i)=>{if(mv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=sf(r)?[]:{};return Xh(r,(o,l)=>{const u=n(o,i+1);!ah(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},oV=Do("AsyncFunction"),aV=t=>t&&(mv(t)||Cs(t))&&Cs(t.then)&&Cs(t.catch),ZA=((t,e)=>t?setImmediate:e?((n,r)=>($c.addEventListener("message",({source:i,data:s})=>{i===$c&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),$c.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cs($c.postMessage)),lV=typeof queueMicrotask<"u"?queueMicrotask.bind($c):typeof process<"u"&&process.nextTick||ZA,Ye={isArray:sf,isArrayBuffer:UA,isBuffer:N6,isFormData:A6,isArrayBufferView:k6,isString:I6,isNumber:HA,isBoolean:C6,isObject:mv,isPlainObject:by,isReadableStream:F6,isRequest:D6,isResponse:L6,isHeaders:M6,isUndefined:ah,isDate:T6,isFile:R6,isBlob:O6,isRegExp:Y6,isFunction:Cs,isStream:j6,isURLSearchParams:P6,isTypedArray:Q6,isFileList:q6,forEach:Xh,merge:JS,extend:B6,trim:$6,stripBOM:z6,inherits:W6,toFlatObject:V6,kindOf:pv,kindOfTest:Do,endsWith:U6,toArray:H6,forEachEntry:K6,matchAll:G6,isHTMLForm:J6,hasOwnProperty:sT,hasOwnProp:sT,reduceDescriptors:GA,freezeMethods:X6,toObjectSet:eV,toCamelCase:Z6,noop:tV,toFiniteNumber:nV,findKey:QA,global:$c,isContextDefined:KA,ALPHABET:JA,generateString:rV,isSpecCompliantForm:iV,toJSONObject:sV,isAsyncFn:oV,isThenable:aV,setImmediate:ZA,asap:lV};function bn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ye.inherits(bn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const YA=bn.prototype,XA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{XA[t]={value:t}});Object.defineProperties(bn,XA);Object.defineProperty(YA,"isAxiosError",{value:!0});bn.from=(t,e,n,r,i,s)=>{const o=Object.create(YA);return Ye.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),bn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const cV=null;function ZS(t){return Ye.isPlainObject(t)||Ye.isArray(t)}function eP(t){return Ye.endsWith(t,"[]")?t.slice(0,-2):t}function aT(t,e,n){return t?t.concat(e).map(function(i,s){return i=eP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function uV(t){return Ye.isArray(t)&&!t.some(ZS)}const dV=Ye.toFlatObject(Ye,{},null,function(e){return/^is[A-Z]/.test(e)});function gv(t,e,n){if(!Ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,I){return!Ye.isUndefined(I[E])});const r=n.metaTokens,i=n.visitor||p,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(e);if(!Ye.isFunction(i))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(Ye.isDate(_))return _.toISOString();if(!u&&Ye.isBlob(_))throw new bn("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(_)||Ye.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function p(_,E,I){let T=_;if(_&&!I&&typeof _=="object"){if(Ye.endsWith(E,"{}"))E=r?E:E.slice(0,-2),_=JSON.stringify(_);else if(Ye.isArray(_)&&uV(_)||(Ye.isFileList(_)||Ye.endsWith(E,"[]"))&&(T=Ye.toArray(_)))return E=eP(E),T.forEach(function(O,A){!(Ye.isUndefined(O)||O===null)&&e.append(o===!0?aT([E],A,s):o===null?E:E+"[]",d(O))}),!1}return ZS(_)?!0:(e.append(aT(I,E,s),d(_)),!1)}const h=[],b=Object.assign(dV,{defaultVisitor:p,convertValue:d,isVisitable:ZS});function x(_,E){if(!Ye.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+E.join("."));h.push(_),Ye.forEach(_,function(T,R){(!(Ye.isUndefined(T)||T===null)&&i.call(e,T,Ye.isString(R)?R.trim():R,E,b))===!0&&x(T,E?E.concat(R):[R])}),h.pop()}}if(!Ye.isObject(t))throw new TypeError("data must be an object");return x(t),e}function lT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function bN(t,e){this._pairs=[],t&&gv(t,this,e)}const tP=bN.prototype;tP.append=function(e,n){this._pairs.push([e,n])};tP.toString=function(e){const n=e?function(r){return e.call(this,r,lT)}:lT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function fV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nP(t,e,n){if(!e)return t;const r=n&&n.encode||fV;Ye.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ye.isURLSearchParams(e)?e.toString():new bN(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class cT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pV=typeof URLSearchParams<"u"?URLSearchParams:bN,hV=typeof FormData<"u"?FormData:null,mV=typeof Blob<"u"?Blob:null,gV={isBrowser:!0,classes:{URLSearchParams:pV,FormData:hV,Blob:mV},protocols:["http","https","file","blob","url","data"]},vN=typeof window<"u"&&typeof document<"u",YS=typeof navigator=="object"&&navigator||void 0,yV=vN&&(!YS||["ReactNative","NativeScript","NS"].indexOf(YS.product)<0),bV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vV=vN&&window.location.href||"http://localhost",xV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vN,hasStandardBrowserEnv:yV,hasStandardBrowserWebWorkerEnv:bV,navigator:YS,origin:vV},Symbol.toStringTag,{value:"Module"})),Ei={...xV,...gV};function wV(t,e){return gv(t,new Ei.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ei.isNode&&Ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function _V(t){return Ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SV(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function iP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=n.length;return o=!o&&Ye.isArray(i)?i.length:o,u?(Ye.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Ye.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ye.isArray(i[o])&&(i[o]=SV(i[o])),!l)}if(Ye.isFormData(t)&&Ye.isFunction(t.entries)){const n={};return Ye.forEachEntry(t,(r,i)=>{e(_V(r),i,n,0)}),n}return null}function EV(t,e,n){if(Ye.isString(t))try{return(e||JSON.parse)(t),Ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const em={transitional:rP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ye.isObject(e);if(s&&Ye.isHTMLForm(e)&&(e=new FormData(e)),Ye.isFormData(e))return i?JSON.stringify(iP(e)):e;if(Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e)||Ye.isReadableStream(e))return e;if(Ye.isArrayBufferView(e))return e.buffer;if(Ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wV(e,this.formSerializer).toString();if((l=Ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return gv(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),EV(e)):e}],transformResponse:[function(e){const n=this.transitional||em.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ye.isResponse(e)||Ye.isReadableStream(e))return e;if(e&&Ye.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?bn.from(l,bn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ei.classes.FormData,Blob:Ei.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],t=>{em.headers[t]={}});const NV=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kV=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&NV[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},uT=Symbol("internals");function dp(t){return t&&String(t).trim().toLowerCase()}function vy(t){return t===!1||t==null?t:Ye.isArray(t)?t.map(vy):String(t)}function IV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const CV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function s_(t,e,n,r,i){if(Ye.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ye.isString(e)){if(Ye.isString(r))return e.indexOf(r)!==-1;if(Ye.isRegExp(r))return r.test(e)}}function TV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function RV(t,e){const n=Ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let os=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,d){const p=dp(u);if(!p)throw new Error("header name must be a non-empty string");const h=Ye.findKey(i,p);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||u]=vy(l))}const o=(l,u)=>Ye.forEach(l,(d,p)=>s(d,p,u));if(Ye.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ye.isString(e)&&(e=e.trim())&&!CV(e))o(kV(e),n);else if(Ye.isHeaders(e))for(const[l,u]of e.entries())s(u,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=dp(e),e){const r=Ye.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return IV(i);if(Ye.isFunction(n))return n.call(this,i,r);if(Ye.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=dp(e),e){const r=Ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||s_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=dp(o),o){const l=Ye.findKey(r,o);l&&(!n||s_(r,r[l],l,n))&&(delete r[l],i=!0)}}return Ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||s_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ye.forEach(this,(i,s)=>{const o=Ye.findKey(r,s);if(o){n[o]=vy(i),delete n[s];return}const l=e?TV(s):String(s).trim();l!==s&&delete n[s],n[l]=vy(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[uT]=this[uT]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=dp(o);r[l]||(RV(i,o),r[l]=!0)}return Ye.isArray(e)?e.forEach(s):s(e),this}};os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(os.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ye.freezeMethods(os);function o_(t,e){const n=this||em,r=e||n,i=os.from(r.headers);let s=r.data;return Ye.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function sP(t){return!!(t&&t.__CANCEL__)}function of(t,e,n){bn.call(this,t??"canceled",bn.ERR_CANCELED,e,n),this.name="CanceledError"}Ye.inherits(of,bn,{__CANCEL__:!0});function oP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new bn("Request failed with status code "+n.status,[bn.ERR_BAD_REQUEST,bn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function OV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),p=r[s];o||(o=d),n[i]=u,r[i]=d;let h=s,b=0;for(;h!==i;)b+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const x=p&&d-p;return x?Math.round(b*1e3/x):void 0}}function jV(t,e){let n=0,r=1e3/e,i,s;const o=(d,p=Date.now())=>{n=p,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const p=Date.now(),h=p-n;h>=r?o(d,p):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const ab=(t,e,n=3)=>{let r=0;const i=qV(50,250);return jV(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-r,d=i(u),p=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&p?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},dT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},fT=t=>(...e)=>Ye.asap(()=>t(...e)),AV=Ei.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ei.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ei.origin),Ei.navigator&&/(msie|trident)/i.test(Ei.navigator.userAgent)):()=>!0,PV=Ei.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ye.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ye.isString(r)&&o.push("path="+r),Ye.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function aP(t,e){return t&&!FV(e)?DV(t,e):e}const pT=t=>t instanceof os?{...t}:t;function Zc(t,e){e=e||{};const n={};function r(d,p,h,b){return Ye.isPlainObject(d)&&Ye.isPlainObject(p)?Ye.merge.call({caseless:b},d,p):Ye.isPlainObject(p)?Ye.merge({},p):Ye.isArray(p)?p.slice():p}function i(d,p,h,b){if(Ye.isUndefined(p)){if(!Ye.isUndefined(d))return r(void 0,d,h,b)}else return r(d,p,h,b)}function s(d,p){if(!Ye.isUndefined(p))return r(void 0,p)}function o(d,p){if(Ye.isUndefined(p)){if(!Ye.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function l(d,p,h){if(h in e)return r(d,p);if(h in t)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,p,h)=>i(pT(d),pT(p),h,!0)};return Ye.forEach(Object.keys(Object.assign({},t,e)),function(p){const h=u[p]||i,b=h(t[p],e[p],p);Ye.isUndefined(b)&&h!==l||(n[p]=b)}),n}const lP=t=>{const e=Zc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=os.from(o),e.url=nP(aP(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Ye.isFormData(n)){if(Ei.hasStandardBrowserEnv||Ei.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...p]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...p].join("; "))}}if(Ei.hasStandardBrowserEnv&&(r&&Ye.isFunction(r)&&(r=r(e)),r||r!==!1&&AV(e.url))){const d=i&&s&&PV.read(s);d&&o.set(i,d)}return e},LV=typeof XMLHttpRequest<"u",MV=LV&&function(t){return new Promise(function(n,r){const i=lP(t);let s=i.data;const o=os.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,p,h,b,x,_;function E(){x&&x(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function T(){if(!I)return;const O=os.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:O,config:t,request:I};oP(function(W){n(W),E()},function(W){r(W),E()},D),I=null}"onloadend"in I?I.onloadend=T:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(T)},I.onabort=function(){I&&(r(new bn("Request aborted",bn.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new bn("Network Error",bn.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||rP;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new bn(A,D.clarifyTimeoutError?bn.ETIMEDOUT:bn.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&Ye.forEach(o.toJSON(),function(A,D){I.setRequestHeader(D,A)}),Ye.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),l&&l!=="json"&&(I.responseType=i.responseType),d&&([b,_]=ab(d,!0),I.addEventListener("progress",b)),u&&I.upload&&([h,x]=ab(u),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(p=O=>{I&&(r(!O||O.type?new of(null,t,I):O),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const R=OV(i.url);if(R&&Ei.protocols.indexOf(R)===-1){r(new bn("Unsupported protocol "+R+":",bn.ERR_BAD_REQUEST,t));return}I.send(s||null)})},$V=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const p=d instanceof Error?d:this.reason;r.abort(p instanceof bn?p:new of(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,s(new bn(`timeout ${e} of ms exceeded`,bn.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>Ye.asap(l),u}},BV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},zV=async function*(t,e){for await(const n of WV(t))yield*BV(n,e)},WV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},hT=(t,e,n,r)=>{const i=zV(t,e);let s=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:p}=await i.next();if(d){l(),u.close();return}let h=p.byteLength;if(n){let b=s+=h;n(b)}u.enqueue(new Uint8Array(p))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},yv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cP=yv&&typeof ReadableStream=="function",VV=yv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),uP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},UV=cP&&uP(()=>{let t=!1;const e=new Request(Ei.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),mT=64*1024,XS=cP&&uP(()=>Ye.isReadableStream(new Response("").body)),lb={stream:XS&&(t=>t.body)};yv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lb[e]&&(lb[e]=Ye.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new bn(`Response type '${e}' is not supported`,bn.ERR_NOT_SUPPORT,r)})})})(new Response);const HV=async t=>{if(t==null)return 0;if(Ye.isBlob(t))return t.size;if(Ye.isSpecCompliantForm(t))return(await new Request(Ei.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(t)||Ye.isArrayBuffer(t))return t.byteLength;if(Ye.isURLSearchParams(t)&&(t=t+""),Ye.isString(t))return(await VV(t)).byteLength},QV=async(t,e)=>{const n=Ye.toFiniteNumber(t.getContentLength());return n??HV(e)},KV=yv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:p,withCredentials:h="same-origin",fetchOptions:b}=lP(t);d=d?(d+"").toLowerCase():"text";let x=$V([i,s&&s.toAbortSignal()],o),_;const E=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let I;try{if(u&&UV&&n!=="get"&&n!=="head"&&(I=await QV(p,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(Ye.isFormData(r)&&(L=D.headers.get("content-type"))&&p.setContentType(L),D.body){const[W,P]=dT(I,ab(fT(u)));r=hT(D.body,mT,W,P)}}Ye.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;_=new Request(e,{...b,signal:x,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:T?h:void 0});let R=await fetch(_);const O=XS&&(d==="stream"||d==="response");if(XS&&(l||O&&E)){const D={};["status","statusText","headers"].forEach(q=>{D[q]=R[q]});const L=Ye.toFiniteNumber(R.headers.get("content-length")),[W,P]=l&&dT(L,ab(fT(l),!0))||[];R=new Response(hT(R.body,mT,W,()=>{P&&P(),E&&E()}),D)}d=d||"text";let A=await lb[Ye.findKey(lb,d)||"text"](R,t);return!O&&E&&E(),await new Promise((D,L)=>{oP(D,L,{data:A,headers:os.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:_})})}catch(T){throw E&&E(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new bn("Network Error",bn.ERR_NETWORK,t,_),{cause:T.cause||T}):bn.from(T,T&&T.code,t,_)}}),eE={http:cV,xhr:MV,fetch:KV};Ye.forEach(eE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gT=t=>`- ${t}`,GV=t=>Ye.isFunction(t)||t===null||t===!1,dP={getAdapter:t=>{t=Ye.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!GV(n)&&(r=eE[(o=String(n)).toLowerCase()],r===void 0))throw new bn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(gT).join(`
`):" "+gT(s[0]):"as no adapter specified";throw new bn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:eE};function a_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new of(null,t)}function yT(t){return a_(t),t.headers=os.from(t.headers),t.data=o_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dP.getAdapter(t.adapter||em.adapter)(t).then(function(r){return a_(t),r.data=o_.call(t,t.transformResponse,r),r.headers=os.from(r.headers),r},function(r){return sP(r)||(a_(t),r&&r.response&&(r.response.data=o_.call(t,t.transformResponse,r.response),r.response.headers=os.from(r.response.headers))),Promise.reject(r)})}const fP="1.7.9",bv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const bT={};bv.transitional=function(e,n,r){function i(s,o){return"[Axios v"+fP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new bn(i(o," has been removed"+(n?" in "+n:"")),bn.ERR_DEPRECATED);return n&&!bT[o]&&(bT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};bv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function JV(t,e,n){if(typeof t!="object")throw new bn("options must be an object",bn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],u=l===void 0||o(l,s,t);if(u!==!0)throw new bn("option "+s+" must be "+u,bn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new bn("Unknown option "+s,bn.ERR_BAD_OPTION)}}const xy={assertOptions:JV,validators:bv},Ho=xy.validators;let Uc=class{constructor(e){this.defaults=e,this.interceptors={request:new cT,response:new cT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&xy.assertOptions(r,{silentJSONParsing:Ho.transitional(Ho.boolean),forcedJSONParsing:Ho.transitional(Ho.boolean),clarifyTimeoutError:Ho.transitional(Ho.boolean)},!1),i!=null&&(Ye.isFunction(i)?n.paramsSerializer={serialize:i}:xy.assertOptions(i,{encode:Ho.function,serialize:Ho.function},!0)),xy.assertOptions(n,{baseUrl:Ho.spelling("baseURL"),withXsrfToken:Ho.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ye.merge(s.common,s[n.method]);s&&Ye.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=os.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(u=u&&E.synchronous,l.unshift(E.fulfilled,E.rejected))});const d=[];this.interceptors.response.forEach(function(E){d.push(E.fulfilled,E.rejected)});let p,h=0,b;if(!u){const _=[yT.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,d),b=_.length,p=Promise.resolve(n);h<b;)p=p.then(_[h++],_[h++]);return p}b=l.length;let x=n;for(h=0;h<b;){const _=l[h++],E=l[h++];try{x=_(x)}catch(I){E.call(this,I);break}}try{p=yT.call(this,x)}catch(_){return Promise.reject(_)}for(h=0,b=d.length;h<b;)p=p.then(d[h++],d[h++]);return p}getUri(e){e=Zc(this.defaults,e);const n=aP(e.baseURL,e.url);return nP(n,e.params,e.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(e){Uc.prototype[e]=function(n,r){return this.request(Zc(r||{},{method:e,url:n,data:(r||{}).data}))}});Ye.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Zc(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Uc.prototype[e]=n(),Uc.prototype[e+"Form"]=n(!0)});let ZV=class pP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new of(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new pP(function(i){e=i}),cancel:e}}};function YV(t){return function(n){return t.apply(null,n)}}function XV(t){return Ye.isObject(t)&&t.isAxiosError===!0}const tE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tE).forEach(([t,e])=>{tE[e]=t});function hP(t){const e=new Uc(t),n=VA(Uc.prototype.request,e);return Ye.extend(n,Uc.prototype,e,{allOwnKeys:!0}),Ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return hP(Zc(t,i))},n}const Fr=hP(em);Fr.Axios=Uc;Fr.CanceledError=of;Fr.CancelToken=ZV;Fr.isCancel=sP;Fr.VERSION=fP;Fr.toFormData=gv;Fr.AxiosError=bn;Fr.Cancel=Fr.CanceledError;Fr.all=function(e){return Promise.all(e)};Fr.spread=YV;Fr.isAxiosError=XV;Fr.mergeConfig=Zc;Fr.AxiosHeaders=os;Fr.formToJSON=t=>iP(Ye.isHTMLForm(t)?new FormData(t):t);Fr.getAdapter=dP.getAdapter;Fr.HttpStatusCode=tE;Fr.default=Fr;const{Axios:_le,AxiosError:eU,CanceledError:Sle,isCancel:Ele,CancelToken:Nle,VERSION:kle,all:Ile,Cancel:Cle,isAxiosError:Tle,spread:Rle,toFormData:Ole,AxiosHeaders:qle,HttpStatusCode:jle,formToJSON:Ale,getAdapter:Ple,mergeConfig:Fle}=Fr,xN=({error:t,schema:e,onError:n})=>{if(t instanceof eU){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var l_,vT;function tU(){if(vT)return l_;vT=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(s){return Promise.reject(s)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,s){this.push({resolve:function(){try{e(r)}catch(o){return s(o),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var s=new t(r);return s.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(s),r.getMaxRPS=t.prototype.getMaxRPS.bind(s),r.setMaxRPS=t.prototype.setMaxRPS.bind(s),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(s),r}return l_=n,l_}var nU=tU();const rU=co(nU),iU=({instance:t,limit:e}={})=>rU(t||Fr,e||{maxRequests:5,perMilliseconds:100}),wN="-",sU=t=>{const e=aU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(wN);return l[0]===""&&l.length!==1&&l.shift(),mP(l,e)||oU(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},mP=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?mP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(wN);return e.validators.find(({validator:o})=>o(s))?.classGroupId},xT=/^\[(.+)\]$/,oU=t=>{if(xT.test(t)){const e=xT.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return cU(Object.entries(t.classGroups),n).forEach(([s,o])=>{nE(o,r,s,e)}),r},nE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:wT(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(lU(i)){nE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{nE(o,wT(e,s),n,r)})})},wT=(t,e)=>{let n=t;return e.split(wN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lU=t=>t.isThemeGetter,cU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,uU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},gP="!",dU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let d=0,p=0,h;for(let I=0;I<l.length;I++){let T=l[I];if(d===0){if(T===i&&(r||l.slice(I,I+s)===e)){u.push(l.slice(p,I)),p=I+s;continue}if(T==="/"){h=I;continue}}T==="["?d++:T==="]"&&d--}const b=u.length===0?l:l.substring(p),x=b.startsWith(gP),_=x?b.substring(1):b,E=h&&h>p?h-p:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:E}};return n?l=>n({className:l,parseClassName:o}):o},fU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pU=t=>({cache:uU(t.cacheSize),parseClassName:dU(t),...sU(t)}),hU=/\s+/,mU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(hU);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:p,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:x}=n(d);let _=!!x,E=r(_?b.substring(0,x):b);if(!E){if(!_){l=d+(l.length>0?" "+l:l);continue}if(E=r(b),!E){l=d+(l.length>0?" "+l:l);continue}_=!1}const I=fU(p).join(":"),T=h?I+gP:I,R=T+E;if(s.includes(R))continue;s.push(R);const O=i(E,_);for(let A=0;A<O.length;++A){const D=O[A];s.push(T+D)}l=d+(l.length>0?" "+l:l)}return l};function gU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yP(e))&&(r&&(r+=" "),r+=n);return r}const yP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yP(t[r]))&&(n&&(n+=" "),n+=e);return n};function yU(t,...e){let n,r,i,s=o;function o(u){const d=e.reduce((p,h)=>h(p),t());return n=pU(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const p=mU(u,n);return i(u,p),p}return function(){return s(gU.apply(null,arguments))}}const ur=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bP=/^\[(?:([a-z-]+):)?(.+)\]$/i,bU=/^\d+\/\d+$/,vU=new Set(["px","full","screen"]),xU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_U=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Na=t=>vd(t)||vU.has(t)||bU.test(t),ml=t=>af(t,"length",qU),vd=t=>!!t&&!Number.isNaN(Number(t)),c_=t=>af(t,"number",vd),fp=t=>!!t&&Number.isInteger(Number(t)),NU=t=>t.endsWith("%")&&vd(t.slice(0,-1)),xn=t=>bP.test(t),gl=t=>xU.test(t),kU=new Set(["length","size","percentage"]),IU=t=>af(t,kU,vP),CU=t=>af(t,"position",vP),TU=new Set(["image","url"]),RU=t=>af(t,TU,AU),OU=t=>af(t,"",jU),pp=()=>!0,af=(t,e,n)=>{const r=bP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},qU=t=>wU.test(t)&&!_U.test(t),vP=()=>!1,jU=t=>SU.test(t),AU=t=>EU.test(t),PU=()=>{const t=ur("colors"),e=ur("spacing"),n=ur("blur"),r=ur("brightness"),i=ur("borderColor"),s=ur("borderRadius"),o=ur("borderSpacing"),l=ur("borderWidth"),u=ur("contrast"),d=ur("grayscale"),p=ur("hueRotate"),h=ur("invert"),b=ur("gap"),x=ur("gradientColorStops"),_=ur("gradientColorStopPositions"),E=ur("inset"),I=ur("margin"),T=ur("opacity"),R=ur("padding"),O=ur("saturate"),A=ur("scale"),D=ur("sepia"),L=ur("skew"),W=ur("space"),P=ur("translate"),q=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",xn,e],V=()=>[xn,e],U=()=>["",Na,ml],z=()=>["auto",vd,xn],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",xn],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[vd,xn];return{cacheSize:500,separator:":",theme:{colors:[pp],spacing:[Na,ml],blur:["none","",gl,xn],brightness:X(),borderColor:[t],borderRadius:["none","","full",gl,xn],borderSpacing:V(),borderWidth:U(),contrast:X(),grayscale:te(),hueRotate:X(),invert:te(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[NU,ml],inset:F(),margin:F(),opacity:X(),padding:V(),saturate:X(),scale:X(),sepia:te(),skew:X(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",xn]}],container:["container"],columns:[{columns:[gl]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),xn]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fp,xn]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xn]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",fp,xn]}],"grid-cols":[{"grid-cols":[pp]}],"col-start-end":[{col:["auto",{span:["full",fp,xn]},xn]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[pp]}],"row-start-end":[{row:["auto",{span:[fp,xn]},xn]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xn]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xn,e]}],"min-w":[{"min-w":[xn,e,"min","max","fit"]}],"max-w":[{"max-w":[xn,e,"none","full","min","max","fit","prose",{screen:[gl]},gl]}],h:[{h:[xn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gl,ml]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",c_]}],"font-family":[{font:[pp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xn]}],"line-clamp":[{"line-clamp":["none",vd,c_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Na,xn]}],"list-image":[{"list-image":["none",xn]}],"list-style-type":[{list:["none","disc","decimal",xn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Na,ml]}],"underline-offset":[{"underline-offset":["auto",Na,xn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),CU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Na,xn]}],"outline-w":[{outline:[Na,ml]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Na,ml]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gl,OU]}],"shadow-color":[{shadow:[pp]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",gl,xn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[h]}],saturate:[{saturate:[O]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xn]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",xn]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",xn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[fp,xn]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Na,ml,c_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xP=yU(PU),rE=new Proxy(()=>rE,{get:()=>rE});function gn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:s,...o}={})=>({slots:new Proxy({},{get:(l,u)=>({css:d,...p}={})=>{const h=[],b=t,x={...b?.()?.config.defaults,...i,...o,...p};h.push(b?.(x)?.slots[u]?.(x)),h.push(Array.isArray(e[u])?e[u]:[e[u]]);for(const[_,E]of Object.entries(x)){const I=n[_]?.[E];I&&h.push(I)}for(const _ of r)Object.entries(_.if).every(([E,I])=>I===x[E])&&h.push(_.then?.[u]);return h.push(s?.[u]),h.push(d),xP(h)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...o}},type:rE()})}const Sn=xP;var u_,_T;function wP(){return _T||(_T=1,u_=Object),u_}var d_,ST;function FU(){return ST||(ST=1,d_=Error),d_}var f_,ET;function DU(){return ET||(ET=1,f_=EvalError),f_}var p_,NT;function LU(){return NT||(NT=1,p_=RangeError),p_}var h_,kT;function MU(){return kT||(kT=1,h_=ReferenceError),h_}var m_,IT;function $U(){return IT||(IT=1,m_=SyntaxError),m_}var g_,CT;function _P(){return CT||(CT=1,g_=TypeError),g_}var y_,TT;function BU(){return TT||(TT=1,y_=URIError),y_}var b_,RT;function zU(){return RT||(RT=1,b_=Math.abs),b_}var v_,OT;function WU(){return OT||(OT=1,v_=Math.floor),v_}var x_,qT;function VU(){return qT||(qT=1,x_=Math.max),x_}var w_,jT;function UU(){return jT||(jT=1,w_=Math.min),w_}var __,AT;function HU(){return AT||(AT=1,__=Math.pow),__}var S_,PT;function QU(){return PT||(PT=1,S_=Math.round),S_}var E_,FT;function KU(){return FT||(FT=1,E_=Number.isNaN||function(e){return e!==e}),E_}var N_,DT;function GU(){if(DT)return N_;DT=1;var t=KU();return N_=function(n){return t(n)||n===0?n:n<0?-1:1},N_}var k_,LT;function JU(){return LT||(LT=1,k_=Object.getOwnPropertyDescriptor),k_}var I_,MT;function SP(){if(MT)return I_;MT=1;var t=JU();if(t)try{t([],"length")}catch{t=null}return I_=t,I_}var C_,$T;function ZU(){if($T)return C_;$T=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return C_=t,C_}var T_,BT;function EP(){return BT||(BT=1,T_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),T_}var R_,zT;function YU(){if(zT)return R_;zT=1;var t=typeof Symbol<"u"&&Symbol,e=EP();return R_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},R_}var O_,WT;function NP(){return WT||(WT=1,O_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),O_}var q_,VT;function kP(){if(VT)return q_;VT=1;var t=wP();return q_=t.getPrototypeOf||null,q_}var j_,UT;function XU(){if(UT)return j_;UT=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(u,d){for(var p=[],h=0;h<u.length;h+=1)p[h]=u[h];for(var b=0;b<d.length;b+=1)p[b+u.length]=d[b];return p},s=function(u,d){for(var p=[],h=d,b=0;h<u.length;h+=1,b+=1)p[b]=u[h];return p},o=function(l,u){for(var d="",p=0;p<l.length;p+=1)d+=l[p],p+1<l.length&&(d+=u);return d};return j_=function(u){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var p=s(arguments,1),h,b=function(){if(this instanceof h){var T=d.apply(this,i(p,arguments));return Object(T)===T?T:this}return d.apply(u,i(p,arguments))},x=n(0,d.length-p.length),_=[],E=0;E<x;E++)_[E]="$"+E;if(h=Function("binder","return function ("+o(_,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var I=function(){};I.prototype=d.prototype,h.prototype=new I,I.prototype=null}return h},j_}var A_,HT;function vv(){if(HT)return A_;HT=1;var t=XU();return A_=Function.prototype.bind||t,A_}var P_,QT;function _N(){return QT||(QT=1,P_=Function.prototype.call),P_}var F_,KT;function IP(){return KT||(KT=1,F_=Function.prototype.apply),F_}var D_,GT;function e5(){return GT||(GT=1,D_=typeof Reflect<"u"&&Reflect&&Reflect.apply),D_}var L_,JT;function t5(){if(JT)return L_;JT=1;var t=vv(),e=IP(),n=_N(),r=e5();return L_=r||t.call(n,e),L_}var M_,ZT;function CP(){if(ZT)return M_;ZT=1;var t=vv(),e=_P(),n=_N(),r=t5();return M_=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},M_}var $_,YT;function n5(){if(YT)return $_;YT=1;var t=CP(),e=SP(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return $_=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,$_}var B_,XT;function r5(){if(XT)return B_;XT=1;var t=NP(),e=kP(),n=n5();return B_=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,B_}var z_,eR;function i5(){if(eR)return z_;eR=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=vv();return z_=n.call(t,e),z_}var W_,tR;function s5(){if(tR)return W_;tR=1;var t,e=wP(),n=FU(),r=DU(),i=LU(),s=MU(),o=$U(),l=_P(),u=BU(),d=zU(),p=WU(),h=VU(),b=UU(),x=HU(),_=QU(),E=GU(),I=Function,T=function(De){try{return I('"use strict"; return ('+De+").constructor;")()}catch{}},R=SP(),O=ZU(),A=function(){throw new l},D=R?function(){try{return arguments.callee,A}catch{try{return R(arguments,"callee").get}catch{return A}}}():A,L=YU()(),W=r5(),P=kP(),q=NP(),M=IP(),F=_N(),V={},U=typeof Uint8Array>"u"||!W?t:W(Uint8Array),z={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":L&&W?W([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&W?W(W([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!W?t:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":R,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!W?t:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&W?W(""[Symbol.iterator]()):t,"%Symbol%":L?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":D,"%TypedArray%":U,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":M,"%Object.defineProperty%":O,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":p,"%Math.max%":h,"%Math.min%":b,"%Math.pow%":x,"%Math.round%":_,"%Math.sign%":E,"%Reflect.getPrototypeOf%":q};if(W)try{null.error}catch(De){var ee=W(W(De));z["%Error.prototype%"]=ee}var Z=function De(Je){var Xe;if(Je==="%AsyncFunction%")Xe=T("async function () {}");else if(Je==="%GeneratorFunction%")Xe=T("function* () {}");else if(Je==="%AsyncGeneratorFunction%")Xe=T("async function* () {}");else if(Je==="%AsyncGenerator%"){var Ve=De("%AsyncGeneratorFunction%");Ve&&(Xe=Ve.prototype)}else if(Je==="%AsyncIteratorPrototype%"){var ct=De("%AsyncGenerator%");ct&&W&&(Xe=W(ct.prototype))}return z[Je]=Xe,Xe},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},se=vv(),te=i5(),oe=se.call(F,Array.prototype.concat),X=se.call(M,Array.prototype.splice),ue=se.call(F,String.prototype.replace),de=se.call(F,String.prototype.slice),ye=se.call(F,RegExp.prototype.exec),we=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ne=/\\(\\)?/g,ze=function(Je){var Xe=de(Je,0,1),Ve=de(Je,-1);if(Xe==="%"&&Ve!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Ve==="%"&&Xe!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ct=[];return ue(Je,we,function(_t,Tt,Ut,tn){ct[ct.length]=Ut?ue(tn,Ne,"$1"):Tt||_t}),ct},Oe=function(Je,Xe){var Ve=Je,ct;if(te(le,Ve)&&(ct=le[Ve],Ve="%"+ct[0]+"%"),te(z,Ve)){var _t=z[Ve];if(_t===V&&(_t=Z(Ve)),typeof _t>"u"&&!Xe)throw new l("intrinsic "+Je+" exists, but is not available. Please file an issue!");return{alias:ct,name:Ve,value:_t}}throw new o("intrinsic "+Je+" does not exist!")};return W_=function(Je,Xe){if(typeof Je!="string"||Je.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Xe!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ye(/^%?[^%]*%?$/,Je)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ve=ze(Je),ct=Ve.length>0?Ve[0]:"",_t=Oe("%"+ct+"%",Xe),Tt=_t.name,Ut=_t.value,tn=!1,xe=_t.alias;xe&&(ct=xe[0],X(Ve,oe([0,1],xe)));for(var be=1,ke=!0;be<Ve.length;be+=1){var Ae=Ve[be],Ue=de(Ae,0,1),rt=de(Ae,-1);if((Ue==='"'||Ue==="'"||Ue==="`"||rt==='"'||rt==="'"||rt==="`")&&Ue!==rt)throw new o("property names with quotes must have matching quotes");if((Ae==="constructor"||!ke)&&(tn=!0),ct+="."+Ae,Tt="%"+ct+"%",te(z,Tt))Ut=z[Tt];else if(Ut!=null){if(!(Ae in Ut)){if(!Xe)throw new l("base intrinsic for "+Je+" exists, but the property is not available.");return}if(R&&be+1>=Ve.length){var Me=R(Ut,Ae);ke=!!Me,ke&&"get"in Me&&!("originalValue"in Me.get)?Ut=Me.get:Ut=Ut[Ae]}else ke=te(Ut,Ae),Ut=Ut[Ae];ke&&!tn&&(z[Tt]=Ut)}}return Ut},W_}var V_,nR;function o5(){if(nR)return V_;nR=1;var t=s5(),e=CP(),n=e([t("%String.prototype.indexOf%")]);return V_=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e([o]):o},V_}var U_,rR;function a5(){if(rR)return U_;rR=1;var t=EP();return U_=function(){return t()&&!!Symbol.toStringTag},U_}var H_,iR;function l5(){if(iR)return H_;iR=1;var t=o5(),e=t("String.prototype.valueOf"),n=function(l){try{return e(l),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",s=a5()();return H_=function(l){return typeof l=="string"?!0:!l||typeof l!="object"?!1:s?n(l):r(l)===i},H_}var c5=l5();const u5=co(c5),xv=t=>u5(t),d5=(t,e,n={})=>{const r=[];return t.filter((s,o)=>{const l=n.regionLowerCase?s.toLowerCase():s;if(e.includes(l))return r.push({index:o,appLocale:l}),!0;const{isAvailable:u,appLocale:d}=f5(l,e,n);return u&&r.push({index:o,appLocale:n.regionLowerCase?d.toLowerCase():d}),u}).map((s,o)=>!r||r.length===0?s:r[o]?.appLocale)},f5=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(s=>{if(!wy()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const o=wy()?new Intl.Locale(t).minimize().language:t.split("-")[0],l=wy()?new Intl.Locale(s).minimize().language:s.split("-")[0],u=o===l;return u&&(r=s),u}),appLocale:r}},p5=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},wy=()=>Intl&&"Locale"in Intl,h5=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const s=wy()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:o,script:l}=s;let{region:u}=s;return e.regionLowerCase&&u&&(u=u.toLowerCase()),i.length>2?`${o}-${l}-${u}`:u?`${o}-${u}`:o});return[...new Set(n)]},m5=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=p5(n),i=h5([...r,t],n);return d5(i,e,n)[0]||t},g5=({available:t,fallback:e})=>m5(e,t,{languageOnly:!0});var Q_={exports:{}};const y5={},b5=Object.freeze(Object.defineProperty({__proto__:null,default:y5},Symbol.toStringTag,{value:"Module"})),sR=F$(b5);var oR;function v5(){return oR||(oR=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=Fc:i&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,l=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),d=[-0x80000000,8388608,32768,128],p=[24,16,8,0],h=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],b=["hex","array","digest","arrayBuffer"],x=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(L){return Object.prototype.toString.call(L)==="[object Array]"}),l&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(L){return typeof L=="object"&&L.buffer&&L.buffer.constructor===ArrayBuffer});var _=function(L,W){return function(P){return new O(W,!0).update(P)[L]()}},E=function(L){var W=_("hex",L);s&&(W=I(W,L)),W.create=function(){return new O(L)},W.update=function(M){return W.create().update(M)};for(var P=0;P<b.length;++P){var q=b[P];W[q]=_(q,L)}return W},I=function(L,W){var P=sR,q=sR.Buffer,M=W?"sha224":"sha256",F;q.from&&!r.JS_SHA256_NO_BUFFER_FROM?F=q.from:F=function(U){return new q(U)};var V=function(U){if(typeof U=="string")return P.createHash(M).update(U,"utf8").digest("hex");if(U==null)throw new Error(e);return U.constructor===ArrayBuffer&&(U=new Uint8Array(U)),Array.isArray(U)||ArrayBuffer.isView(U)||U.constructor===q?P.createHash(M).update(F(U)).digest("hex"):L(U)};return V},T=function(L,W){return function(P,q){return new A(P,W,!0).update(q)[L]()}},R=function(L){var W=T("hex",L);W.create=function(M){return new A(M,L)},W.update=function(M,F){return W.create(M).update(F)};for(var P=0;P<b.length;++P){var q=b[P];W[q]=T(q,L)}return W};function O(L,W){W?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=L}O.prototype.update=function(L){if(!this.finalized){var W,P=typeof L;if(P!=="string"){if(P==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);W=!0}for(var q,M=0,F,V=L.length,U=this.blocks;M<V;){if(this.hashed&&(this.hashed=!1,U[0]=this.block,this.block=U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0),W)for(F=this.start;M<V&&F<64;++M)U[F>>>2]|=L[M]<<p[F++&3];else for(F=this.start;M<V&&F<64;++M)q=L.charCodeAt(M),q<128?U[F>>>2]|=q<<p[F++&3]:q<2048?(U[F>>>2]|=(192|q>>>6)<<p[F++&3],U[F>>>2]|=(128|q&63)<<p[F++&3]):q<55296||q>=57344?(U[F>>>2]|=(224|q>>>12)<<p[F++&3],U[F>>>2]|=(128|q>>>6&63)<<p[F++&3],U[F>>>2]|=(128|q&63)<<p[F++&3]):(q=65536+((q&1023)<<10|L.charCodeAt(++M)&1023),U[F>>>2]|=(240|q>>>18)<<p[F++&3],U[F>>>2]|=(128|q>>>12&63)<<p[F++&3],U[F>>>2]|=(128|q>>>6&63)<<p[F++&3],U[F>>>2]|=(128|q&63)<<p[F++&3]);this.lastByteIndex=F,this.bytes+=F-this.start,F>=64?(this.block=U[16],this.start=F-64,this.hash(),this.hashed=!0):this.start=F}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var L=this.blocks,W=this.lastByteIndex;L[16]=this.block,L[W>>>2]|=d[W&3],this.block=L[16],W>=56&&(this.hashed||this.hash(),L[0]=this.block,L[16]=L[1]=L[2]=L[3]=L[4]=L[5]=L[6]=L[7]=L[8]=L[9]=L[10]=L[11]=L[12]=L[13]=L[14]=L[15]=0),L[14]=this.hBytes<<3|this.bytes>>>29,L[15]=this.bytes<<3,this.hash()}},O.prototype.hash=function(){var L=this.h0,W=this.h1,P=this.h2,q=this.h3,M=this.h4,F=this.h5,V=this.h6,U=this.h7,z=this.blocks,ee,Z,le,se,te,oe,X,ue,de,ye,we;for(ee=16;ee<64;++ee)te=z[ee-15],Z=(te>>>7|te<<25)^(te>>>18|te<<14)^te>>>3,te=z[ee-2],le=(te>>>17|te<<15)^(te>>>19|te<<13)^te>>>10,z[ee]=z[ee-16]+Z+z[ee-7]+le<<0;for(we=W&P,ee=0;ee<64;ee+=4)this.first?(this.is224?(ue=300032,te=z[0]-0x543c9a5b,U=te-0x8f1a6c7<<0,q=te+0x170e9b5<<0):(ue=0x2a01a605,te=z[0]-0xc881298,U=te-0x5ab00ac6<<0,q=te+0x8909ae5<<0),this.first=!1):(Z=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),le=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),ue=L&W,se=ue^L&P^we,X=M&F^~M&V,te=U+le+X+h[ee]+z[ee],oe=Z+se,U=q+te<<0,q=te+oe<<0),Z=(q>>>2|q<<30)^(q>>>13|q<<19)^(q>>>22|q<<10),le=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7),de=q&L,se=de^q&W^ue,X=U&M^~U&F,te=V+le+X+h[ee+1]+z[ee+1],oe=Z+se,V=P+te<<0,P=te+oe<<0,Z=(P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),le=(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7),ye=P&q,se=ye^P&L^de,X=V&U^~V&M,te=F+le+X+h[ee+2]+z[ee+2],oe=Z+se,F=W+te<<0,W=te+oe<<0,Z=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),le=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),we=W&P,se=we^W&q^ye,X=F&V^~F&U,te=M+le+X+h[ee+3]+z[ee+3],oe=Z+se,M=L+te<<0,L=te+oe<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+L<<0,this.h1=this.h1+W<<0,this.h2=this.h2+P<<0,this.h3=this.h3+q<<0,this.h4=this.h4+M<<0,this.h5=this.h5+F<<0,this.h6=this.h6+V<<0,this.h7=this.h7+U<<0},O.prototype.hex=function(){this.finalize();var L=this.h0,W=this.h1,P=this.h2,q=this.h3,M=this.h4,F=this.h5,V=this.h6,U=this.h7,z=u[L>>>28&15]+u[L>>>24&15]+u[L>>>20&15]+u[L>>>16&15]+u[L>>>12&15]+u[L>>>8&15]+u[L>>>4&15]+u[L&15]+u[W>>>28&15]+u[W>>>24&15]+u[W>>>20&15]+u[W>>>16&15]+u[W>>>12&15]+u[W>>>8&15]+u[W>>>4&15]+u[W&15]+u[P>>>28&15]+u[P>>>24&15]+u[P>>>20&15]+u[P>>>16&15]+u[P>>>12&15]+u[P>>>8&15]+u[P>>>4&15]+u[P&15]+u[q>>>28&15]+u[q>>>24&15]+u[q>>>20&15]+u[q>>>16&15]+u[q>>>12&15]+u[q>>>8&15]+u[q>>>4&15]+u[q&15]+u[M>>>28&15]+u[M>>>24&15]+u[M>>>20&15]+u[M>>>16&15]+u[M>>>12&15]+u[M>>>8&15]+u[M>>>4&15]+u[M&15]+u[F>>>28&15]+u[F>>>24&15]+u[F>>>20&15]+u[F>>>16&15]+u[F>>>12&15]+u[F>>>8&15]+u[F>>>4&15]+u[F&15]+u[V>>>28&15]+u[V>>>24&15]+u[V>>>20&15]+u[V>>>16&15]+u[V>>>12&15]+u[V>>>8&15]+u[V>>>4&15]+u[V&15];return this.is224||(z+=u[U>>>28&15]+u[U>>>24&15]+u[U>>>20&15]+u[U>>>16&15]+u[U>>>12&15]+u[U>>>8&15]+u[U>>>4&15]+u[U&15]),z},O.prototype.toString=O.prototype.hex,O.prototype.digest=function(){this.finalize();var L=this.h0,W=this.h1,P=this.h2,q=this.h3,M=this.h4,F=this.h5,V=this.h6,U=this.h7,z=[L>>>24&255,L>>>16&255,L>>>8&255,L&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,q>>>24&255,q>>>16&255,q>>>8&255,q&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255];return this.is224||z.push(U>>>24&255,U>>>16&255,U>>>8&255,U&255),z},O.prototype.array=O.prototype.digest,O.prototype.arrayBuffer=function(){this.finalize();var L=new ArrayBuffer(this.is224?28:32),W=new DataView(L);return W.setUint32(0,this.h0),W.setUint32(4,this.h1),W.setUint32(8,this.h2),W.setUint32(12,this.h3),W.setUint32(16,this.h4),W.setUint32(20,this.h5),W.setUint32(24,this.h6),this.is224||W.setUint32(28,this.h7),L};function A(L,W,P){var q,M=typeof L;if(M==="string"){var F=[],V=L.length,U=0,z;for(q=0;q<V;++q)z=L.charCodeAt(q),z<128?F[U++]=z:z<2048?(F[U++]=192|z>>>6,F[U++]=128|z&63):z<55296||z>=57344?(F[U++]=224|z>>>12,F[U++]=128|z>>>6&63,F[U++]=128|z&63):(z=65536+((z&1023)<<10|L.charCodeAt(++q)&1023),F[U++]=240|z>>>18,F[U++]=128|z>>>12&63,F[U++]=128|z>>>6&63,F[U++]=128|z&63);L=F}else if(M==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);L.length>64&&(L=new O(W,!0).update(L).array());var ee=[],Z=[];for(q=0;q<64;++q){var le=L[q]||0;ee[q]=92^le,Z[q]=54^le}O.call(this,W,P),this.update(Z),this.oKeyPad=ee,this.inner=!0,this.sharedMemory=P}A.prototype=new O,A.prototype.finalize=function(){if(O.prototype.finalize.call(this),this.inner){this.inner=!1;var L=this.array();O.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(L),O.prototype.finalize.call(this)}};var D=E();D.sha256=D,D.sha224=E(!0),D.sha256.hmac=R(),D.sha224.hmac=R(!0),o?t.exports=D:(r.sha256=D.sha256,r.sha224=D.sha224)})()}(Q_)),Q_.exports}var iE=v5();const x5=iE.sha224,TP=({index:t,key:e,fallback:n})=>t[x5(e)]?.value??t[e]?.value??n??e,w5=({index:t,key:e,fallback:n})=>TP({index:t,key:e,fallback:n}),_5=({index:t,key:e,fallback:n})=>TP({index:t,key:e,fallback:n}),so={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>w5({index:so.index,key:t,fallback:e}),rich:(t,e)=>_5({index:so.index,key:t,fallback:e})};function Pl(t){return typeof t>"u"||t===void 0}function Os(t){return typeof t=="string"}function wv(t){return typeof t=="number"}function cb(t){return typeof t=="boolean"}function SN(t){return t===null}function S5(t){return t instanceof Date}function EN(t){return typeof t=="bigint"}function Ps(t){return typeof t=="function"}function Go(t){return typeof t=="object"&&t!==null}function G(t){return Object.freeze(t)}function Mg(t){return Ba(t)?t:[t]}function Ba(t){return Array.isArray(t)}function Fl(t){return t}const Gn=G({is(t){return t.kind==="AlterTableNode"},create(t){return G({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return G({...t,...e})},cloneWithColumnAlteration(t,e){return G({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),gr=G({is(t){return t.kind==="IdentifierNode"},create(t){return G({kind:"IdentifierNode",name:t})}}),Ra=G({is(t){return t.kind==="CreateIndexNode"},create(t){return G({kind:"CreateIndexNode",name:gr.create(t)})},cloneWith(t,e){return G({...t,...e})},cloneWithColumns(t,e){return G({...t,columns:[...t.columns||[],...e]})}}),RP=G({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return G({kind:"CreateSchemaNode",schema:gr.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),E5=["preserve rows","delete rows","drop"],bs=G({is(t){return t.kind==="CreateTableNode"},create(t){return G({kind:"CreateTableNode",table:t,columns:G([])})},cloneWithColumn(t,e){return G({...t,columns:G([...t.columns,e])})},cloneWithConstraint(t,e){return G({...t,constraints:t.constraints?G([...t.constraints,e]):G([e])})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):G([e])})},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):G([e])})},cloneWith(t,e){return G({...t,...e})}}),zl=G({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return G({kind:"SchemableIdentifierNode",identifier:gr.create(t)})},createWithSchema(t,e){return G({kind:"SchemableIdentifierNode",schema:gr.create(t),identifier:gr.create(e)})}}),Up=G({is(t){return t.kind==="DropIndexNode"},create(t,e){return G({kind:"DropIndexNode",name:zl.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),sE=G({is(t){return t.kind==="DropSchemaNode"},create(t,e){return G({kind:"DropSchemaNode",schema:gr.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),oE=G({is(t){return t.kind==="DropTableNode"},create(t,e){return G({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return G({...t,...e})}}),Yl=G({is(t){return t.kind==="AliasNode"},create(t,e){return G({kind:"AliasNode",node:t,alias:e})}}),Dl=G({is(t){return t.kind==="TableNode"},create(t){return G({kind:"TableNode",table:zl.create(t)})},createWithSchema(t,e){return G({kind:"TableNode",table:zl.createWithSchema(t,e)})}});function ds(t){return Go(t)&&Ps(t.toOperationNode)}function N5(t){return Go(t)&&"expressionType"in t&&ds(t)}function k5(t){return Go(t)&&"expression"in t&&Os(t.alias)&&ds(t)}const ka=G({is(t){return t.kind==="SelectModifierNode"},create(t,e){return G({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return G({kind:"SelectModifierNode",rawModifier:t})}}),Wl=G({is(t){return t.kind==="AndNode"},create(t,e){return G({kind:"AndNode",left:t,right:e})}}),lf=G({is(t){return t.kind==="OrNode"},create(t,e){return G({kind:"OrNode",left:t,right:e})}}),K_=G({is(t){return t.kind==="OnNode"},create(t){return G({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return G({...t,on:e==="And"?Wl.create(t.on,n):lf.create(t.on,n)})}}),Hp=G({is(t){return t.kind==="JoinNode"},create(t,e){return G({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return G({kind:"JoinNode",joinType:t,table:e,on:K_.create(n)})},cloneWithOn(t,e){return G({...t,on:t.on?K_.cloneWithOperation(t.on,"And",e):K_.create(e)})}}),Ad=G({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return G({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),I5=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],C5=["+","-","*","/","%","^","&","|","#","<<",">>"],OP=["->","->>"],T5=[...I5,...C5,"&&","||"],R5=["exists","not exists"],O5=["not","-",...R5],q5=[...T5,...OP,...O5,"between","between symmetric"],Vl=G({is(t){return t.kind==="OperatorNode"},create(t){return G({kind:"OperatorNode",operator:t})}});function aR(t){return Os(t)&&OP.includes(t)}const Dr=G({is(t){return t.kind==="ColumnNode"},create(t){return G({kind:"ColumnNode",column:gr.create(t)})}}),NN=G({is(t){return t.kind==="SelectAllNode"},create(){return G({kind:"SelectAllNode"})}}),_v=G({is(t){return t.kind==="ReferenceNode"},create(t,e){return G({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return G({kind:"ReferenceNode",table:t,column:NN.create()})}});class j5{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return FP(this.#e)}}function qP(t){return Go(t)&&ds(t)&&Os(t.dynamicReference)}const aE=G({is(t){return t.kind==="OrderByItemNode"},create(t,e){return G({kind:"OrderByItemNode",orderBy:t,direction:e})}}),_i=G({is(t){return t.kind==="RawNode"},create(t,e){return G({kind:"RawNode",sqlFragments:G(t),parameters:G(e)})},createWithSql(t){return _i.create([t],[])},createWithChild(t){return _i.create(["",""],[t])},createWithChildren(t){return _i.create(new Array(t.length+1).fill(""),t)}});function jP(t){return t==="asc"||t==="desc"}function tm(t){if(t.length===2)return[G_(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>G_(n)):[G_(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function G_(t,e){const n=A5(t);if(aE.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return aE.create(n,AP(e))}function A5(t){if(om(t))return cu(t);if(qP(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!jP(n))throw new Error(`Invalid order by direction: ${n}`);return aE.create(za(e),AP(n))}return za(t)}function AP(t){if(t)return t==="asc"||t==="desc"?_i.createWithSql(t):t.toOperationNode()}const ub=G({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return G({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return G({...t,traversal:e})}}),PP=G({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return G({kind:"JSONOperatorChainNode",operator:t,values:G([])})},cloneWithValue(t,e){return G({...t,values:G([...t.values,e])})}}),Qp=G({is(t){return t.kind==="JSONPathNode"},create(t){return G({kind:"JSONPathNode",inOperator:t,pathLegs:G([])})},cloneWithLeg(t,e){return G({...t,pathLegs:G([...t.pathLegs,e])})}});function FP(t){return Os(t)?za(t):t.toOperationNode()}function lh(t){return Ba(t)?t.map(e=>Es(e)):[Es(t)]}function Es(t){return om(t)?cu(t):FP(t)}function P5(t,e){const n=za(t);if(aR(e))return ub.create(n,PP.create(Vl.create(e)));const r=e.slice(0,-1);if(aR(r))return ub.create(n,Qp.create(Vl.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function za(t){const e=".";if(!t.includes(e))return _v.create(Dr.create(t));const n=t.split(e).map(kN);if(n.length===3)return D5(n);if(n.length===2)return L5(n);throw new Error(`invalid column reference ${t}`)}function F5(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(kN);return Yl.create(za(n),gr.create(r))}else return za(t)}function DP(t){return Dr.create(t)}function db(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(kN);if(!jP(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return tm([n,r])[0]}else return DP(t)}function D5(t){const[e,n,r]=t;return _v.create(Dr.create(r),Dl.createWithSchema(e,n))}function L5(t){const[e,n]=t;return _v.create(Dr.create(n),Dl.create(e))}function kN(t){return t.trim()}const LP=G({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return G({kind:"PrimitiveValueListNode",values:G([...t])})}}),IN=G({is(t){return t.kind==="ValueListNode"},create(t){return G({kind:"ValueListNode",values:G(t)})}}),ra=G({is(t){return t.kind==="ValueNode"},create(t){return G({kind:"ValueNode",value:t})},createImmediate(t){return G({kind:"ValueNode",value:t,immediate:!0})}});function M5(t){return Ba(t)?$5(t):Gr(t)}function Gr(t){return om(t)?cu(t):ra.create(t)}function CN(t){return wv(t)||cb(t)||SN(t)}function TN(t){if(!CN(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return ra.createImmediate(t)}function $5(t){return t.some(om)?IN.create(t.map(e=>Gr(e))):LP.create(t)}const Pd=G({is(t){return t.kind==="ParensNode"},create(t){return G({kind:"ParensNode",node:t})}});function hi(t){if(t.length===3)return RN(t[0],t[1],t[2]);if(t.length===1)return Gr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function RN(t,e,n){return B5(e)&&MP(n)?Ad.create(Es(t),lE(e),ra.createImmediate(n)):Ad.create(Es(t),lE(e),M5(n))}function ia(t,e,n){return Ad.create(Es(t),lE(e),Es(n))}function lR(t,e){return fb(Object.entries(t).filter(([,n])=>!Pl(n)).map(([n,r])=>RN(n,MP(r)?"is":"=",r)),e)}function fb(t,e,n=!0){const r=e==="and"?Wl.create:lf.create;if(t.length===0)return Ad.create(ra.createImmediate(1),Vl.create("="),ra.createImmediate(e==="and"?1:0));let i=cR(t[0]);for(let s=1;s<t.length;++s)i=r(i,cR(t[s]));return t.length>1&&n?Pd.create(i):i}function B5(t){return t==="is"||t==="is not"}function MP(t){return SN(t)||cb(t)}function lE(t){if(Os(t)&&q5.includes(t))return Vl.create(t);if(ds(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function cR(t){return ds(t)?t.toOperationNode():t}const Ul=G({is(t){return t.kind==="OrderByNode"},create(t){return G({kind:"OrderByNode",items:G([...t])})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),uR=G({is(t){return t.kind==="PartitionByNode"},create(t){return G({kind:"PartitionByNode",items:G(t)})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),cE=G({is(t){return t.kind==="OverNode"},create(){return G({kind:"OverNode"})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithPartitionByItems(t,e){return G({...t,partitionBy:t.partitionBy?uR.cloneWithItems(t.partitionBy,e):uR.create(e)})}}),pb=G({is(t){return t.kind==="FromNode"},create(t){return G({kind:"FromNode",froms:G(t)})},cloneWithFroms(t,e){return G({...t,froms:G([...t.froms,...e])})}}),dR=G({is(t){return t.kind==="GroupByNode"},create(t){return G({kind:"GroupByNode",items:G(t)})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),fR=G({is(t){return t.kind==="HavingNode"},create(t){return G({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return G({...t,having:e==="And"?Wl.create(t.having,n):lf.create(t.having,n)})}}),Kn=G({is(t){return t.kind==="SelectQueryNode"},create(t){return G({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return G({kind:"SelectQueryNode",from:pb.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})},cloneWithDistinctOn(t,e){return G({...t,distinctOn:t.distinctOn?G([...t.distinctOn,...e]):G(e)})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):G([e])})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithGroupByItems(t,e){return G({...t,groupBy:t.groupBy?dR.cloneWithItems(t.groupBy,e):dR.create(e)})},cloneWithLimit(t,e){return G({...t,limit:e})},cloneWithOffset(t,e){return G({...t,offset:e})},cloneWithFetch(t,e){return G({...t,fetch:e})},cloneWithHaving(t,e){return G({...t,having:t.having?fR.cloneWithOperation(t.having,"And",e):fR.create(e)})},cloneWithSetOperations(t,e){return G({...t,setOperations:t.setOperations?G([...t.setOperations,...e]):G([...e])})},cloneWithoutSelections(t){return G({...t,selections:[]})},cloneWithoutLimit(t){return G({...t,limit:void 0})},cloneWithoutOffset(t){return G({...t,offset:void 0})},cloneWithoutOrderBy(t){return G({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return G({...t,groupBy:void 0})}});function wn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class xd{#e;constructor(e){this.#e=G(e)}on(...e){return new xd({...this.#e,joinNode:Hp.cloneWithOn(this.#e.joinNode,hi(e))})}onRef(e,n,r){return new xd({...this.#e,joinNode:Hp.cloneWithOn(this.#e.joinNode,ia(e,n,r))})}onTrue(){return new xd({...this.#e,joinNode:Hp.cloneWithOn(this.#e.joinNode,_i.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}wn(xd,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const z5=G({is(t){return t.kind==="PartitionByItemNode"},create(t){return G({kind:"PartitionByItemNode",partitionBy:t})}});function W5(t){return lh(t).map(z5.create)}class ch{#e;constructor(e){this.#e=G(e)}orderBy(e,n){return new ch({overNode:cE.cloneWithOrderByItems(this.#e.overNode,tm([e,n]))})}partitionBy(e){return new ch({overNode:cE.cloneWithPartitionByItems(this.#e.overNode,W5(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}wn(ch,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Kp=G({is(t){return t.kind==="SelectionNode"},create(t){return G({kind:"SelectionNode",selection:t})},createSelectAll(){return G({kind:"SelectionNode",selection:NN.create()})},createSelectAllFromTable(t){return G({kind:"SelectionNode",selection:_v.createSelectAll(t)})}});function jo(t){return Ps(t)?jo(t(uf())):Ba(t)?t.map(e=>pR(e)):[pR(t)]}function pR(t){return Os(t)?Kp.create(F5(t)):qP(t)?Kp.create(t.toOperationNode()):Kp.create(YP(t))}function sa(t){return t?Array.isArray(t)?t.map(hR):[hR(t)]:[Kp.createSelectAll()]}function hR(t){if(Os(t))return Kp.createSelectAllFromTable(Ar(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const V5=G({is(t){return t.kind==="ValuesNode"},create(t){return G({kind:"ValuesNode",values:G(t)})}}),U5=G({is(t){return t.kind==="DefaultInsertValueNode"},create(){return G({kind:"DefaultInsertValueNode"})}});function $P(t){const e=Ps(t)?t(uf()):t,n=Ba(e)?e:G([e]);return H5(n)}function H5(t){const e=Q5(t);return[G([...e.keys()].map(Dr.create)),V5.create(t.map(n=>K5(n,e)))]}function Q5(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function K5(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const o of n){const l=e.get(o);if(Pl(l))continue;const u=t[o];(Pl(u)||om(u))&&(i=!0),r[l]=u}if(n.length<e.size||i){const o=U5.create();return IN.create(r.map(l=>Pl(l)?o:Gr(l)))}return LP.create(r)}const ws=G({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return G({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return G({kind:"InsertQueryNode"})},cloneWith(t,e){return G({...t,...e})}}),wd=G({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return G({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return G({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return G({...t,from:t.from?pb.cloneWithFroms(t.from,e):pb.create(e)})},cloneWithUpdates(t,e){return G({...t,updates:t.updates?G([...t.updates,...e]):e})},cloneWithLimit(t,e){return G({...t,limit:e})}}),mR=G({is(t){return t.kind==="UsingNode"},create(t){return G({kind:"UsingNode",tables:G(t)})},cloneWithTables(t,e){return G({...t,tables:G([...t.tables,...e])})}}),jc=G({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return G({kind:"DeleteQueryNode",from:pb.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithoutOrderBy(t){return G({...t,orderBy:void 0})},cloneWithLimit(t,e){return G({...t,limit:e})},cloneWithoutLimit(t){return G({...t,limit:void 0})},cloneWithUsing(t,e){return G({...t,using:t.using!==void 0?mR.cloneWithTables(t.using,e):mR.create(e)})}}),rs=G({is(t){return t.kind==="WhereNode"},create(t){return G({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return G({...t,where:e==="And"?Wl.create(t.where,n):lf.create(t.where,n)})}}),gR=G({is(t){return t.kind==="ReturningNode"},create(t){return G({kind:"ReturningNode",selections:G(t)})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})}}),G5=G({is(t){return t.kind==="ExplainNode"},create(t,e){return G({kind:"ExplainNode",format:t,options:e})}}),nm=G({is(t){return t.kind==="WhenNode"},create(t){return G({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return G({...t,result:e})}}),is=G({is(t){return t.kind==="MergeQueryNode"},create(t,e){return G({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return G({...t,using:e})},cloneWithWhen(t,e){return G({...t,whens:t.whens?G([...t.whens,e]):G([e])})},cloneWithThen(t,e){return G({...t,whens:t.whens?G([...t.whens.slice(0,-1),nm.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),yR=G({is(t){return t.kind==="OutputNode"},create(t){return G({kind:"OutputNode",selections:G(t)})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})}}),At=G({is(t){return Kn.is(t)||ws.is(t)||wd.is(t)||jc.is(t)||is.is(t)},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):G([e])})},cloneWithWhere(t,e){return G({...t,where:t.where?rs.cloneWithOperation(t.where,"And",e):rs.create(e)})},cloneWithJoin(t,e){return G({...t,joins:t.joins?G([...t.joins,e]):G([e])})},cloneWithReturning(t,e){return G({...t,returning:t.returning?gR.cloneWithSelections(t.returning,e):gR.create(e)})},cloneWithoutReturning(t){return G({...t,returning:void 0})},cloneWithoutWhere(t){return G({...t,where:void 0})},cloneWithExplain(t,e,n){return G({...t,explain:G5.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return G({...t,top:e})},cloneWithOutput(t,e){return G({...t,output:t.output?yR.cloneWithSelections(t.output,e):yR.create(e)})}}),BP=G({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return G({kind:"ColumnUpdateNode",column:t,value:e})}});function J5(...t){return t.length===2?[BP.create(Es(t[0]),Gr(t[1]))]:ON(t[0])}function ON(t){const e=Ps(t)?t(uf()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>BP.create(Dr.create(n),Gr(r)))}const Z5=G({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return G({kind:"OnDuplicateKeyNode",updates:t})}});class Y5{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class rm extends Error{node;constructor(e){super("no result"),this.node=e}}function im(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const vs=G({is(t){return t.kind==="OnConflictNode"},create(){return G({kind:"OnConflictNode"})},cloneWith(t,e){return G({...t,...e})},cloneWithIndexWhere(t,e){return G({...t,indexWhere:t.indexWhere?rs.cloneWithOperation(t.indexWhere,"And",e):rs.create(e)})},cloneWithIndexOrWhere(t,e){return G({...t,indexWhere:t.indexWhere?rs.cloneWithOperation(t.indexWhere,"Or",e):rs.create(e)})},cloneWithUpdateWhere(t,e){return G({...t,updateWhere:t.updateWhere?rs.cloneWithOperation(t.updateWhere,"And",e):rs.create(e)})},cloneWithUpdateOrWhere(t,e){return G({...t,updateWhere:t.updateWhere?rs.cloneWithOperation(t.updateWhere,"Or",e):rs.create(e)})},cloneWithoutIndexWhere(t){return G({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return G({...t,updateWhere:void 0})}});class Ko{#e;constructor(e){this.#e=G(e)}column(e){const n=Dr.create(e);return new Ko({...this.#e,onConflictNode:vs.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?G([...this.#e.onConflictNode.columns,n]):G([n])})})}columns(e){const n=e.map(Dr.create);return new Ko({...this.#e,onConflictNode:vs.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?G([...this.#e.onConflictNode.columns,...n]):G(n)})})}constraint(e){return new Ko({...this.#e,onConflictNode:vs.cloneWith(this.#e.onConflictNode,{constraint:gr.create(e)})})}expression(e){return new Ko({...this.#e,onConflictNode:vs.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new Ko({...this.#e,onConflictNode:vs.cloneWithIndexWhere(this.#e.onConflictNode,hi(e))})}whereRef(e,n,r){return new Ko({...this.#e,onConflictNode:vs.cloneWithIndexWhere(this.#e.onConflictNode,ia(e,n,r))})}clearWhere(){return new Ko({...this.#e,onConflictNode:vs.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new zP({...this.#e,onConflictNode:vs.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new _d({...this.#e,onConflictNode:vs.cloneWith(this.#e.onConflictNode,{updates:ON(e)})})}$call(e){return e(this)}}wn(Ko,"don't await OnConflictBuilder instances.");class zP{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.onConflictNode}}wn(zP,"don't await OnConflictDoNothingBuilder instances.");class _d{#e;constructor(e){this.#e=G(e)}where(...e){return new _d({...this.#e,onConflictNode:vs.cloneWithUpdateWhere(this.#e.onConflictNode,hi(e))})}whereRef(e,n,r){return new _d({...this.#e,onConflictNode:vs.cloneWithUpdateWhere(this.#e.onConflictNode,ia(e,n,r))})}clearWhere(){return new _d({...this.#e,onConflictNode:vs.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}wn(_d,"don't await OnConflictUpdateBuilder instances.");const X5=G({is(t){return t.kind==="TopNode"},create(t,e){return G({kind:"TopNode",expression:t,modifiers:e})}});function cf(t,e){if(!wv(t)&&!EN(t))throw new Error(`Invalid top expression: ${t}`);if(!Pl(e)&&!e8(e))throw new Error(`Invalid top modifiers: ${e}`);return X5.create(t,e)}function e8(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class pr{#e;constructor(e){this.#e=G(e)}values(e){const[n,r]=$P(e);return new pr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new pr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{columns:G(e.map(Dr.create))})})}expression(e){return new pr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{values:cu(e)})})}defaultValues(){return new pr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new pr({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new pr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new pr({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,cf(e,n))})}onConflict(e){return new pr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{onConflict:e(new Ko({onConflictNode:vs.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new pr({...this.#e,queryNode:ws.cloneWith(this.#e.queryNode,{onDuplicateKey:Z5.create(ON(e))})})}returning(e){return new pr({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,jo(e))})}returningAll(){return new pr({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,sa())})}output(e){return new pr({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,jo(e))})}outputAll(e){return new pr({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,sa(e))})}clearReturning(){return new pr({...this.#e,queryNode:At.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new pr({...this.#e})}$castTo(){return new pr(this.#e)}$narrowType(){return new pr(this.#e)}$assertType(){return new pr(this.#e)}withPlugin(e){return new pr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new Y5(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=rm){const n=await this.executeTakeFirst();if(n===void 0)throw im(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new pr({...this.#e,queryNode:At.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}wn(pr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class t8{numDeletedRows;constructor(e){this.numDeletedRows=e}}const qN=G({is(t){return t.kind==="LimitNode"},create(t){return G({kind:"LimitNode",limit:t})}});class Qn{#e;constructor(e){this.#e=G(e)}where(...e){return new Qn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,hi(e))})}whereRef(e,n,r){return new Qn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,ia(e,n,r))})}clearWhere(){return new Qn({...this.#e,queryNode:At.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Qn({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,cf(e,n))})}using(e){return new Qn({...this.#e,queryNode:jc.cloneWithUsing(this.#e.queryNode,fh(e))})}innerJoin(...e){return new Qn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("InnerJoin",e))})}leftJoin(...e){return new Qn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("LeftJoin",e))})}rightJoin(...e){return new Qn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("RightJoin",e))})}fullJoin(...e){return new Qn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("FullJoin",e))})}returning(e){return new Qn({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,jo(e))})}returningAll(e){return new Qn({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,sa(e))})}output(e){return new Qn({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,jo(e))})}outputAll(e){return new Qn({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,sa(e))})}clearReturning(){return new Qn({...this.#e,queryNode:At.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Qn({...this.#e,queryNode:jc.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Qn({...this.#e,queryNode:jc.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Qn({...this.#e,queryNode:jc.cloneWithOrderByItems(this.#e.queryNode,tm([e,n]))})}limit(e){return new Qn({...this.#e,queryNode:jc.cloneWithLimit(this.#e.queryNode,qN.create(Gr(e)))})}modifyEnd(e){return new Qn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Qn({...this.#e})}$castTo(){return new Qn(this.#e)}$narrowType(){return new Qn(this.#e)}$assertType(){return new Qn(this.#e)}withPlugin(e){return new Qn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new t8(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=rm){const n=await this.executeTakeFirst();if(n===void 0)throw im(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Qn({...this.#e,queryNode:At.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}wn(Qn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class n8{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class er{#e;constructor(e){this.#e=G(e)}where(...e){return new er({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,hi(e))})}whereRef(e,n,r){return new er({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,ia(e,n,r))})}clearWhere(){return new er({...this.#e,queryNode:At.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new er({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,cf(e,n))})}from(e){return new er({...this.#e,queryNode:wd.cloneWithFromItems(this.#e.queryNode,fh(e))})}innerJoin(...e){return new er({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("InnerJoin",e))})}leftJoin(...e){return new er({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("LeftJoin",e))})}rightJoin(...e){return new er({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("RightJoin",e))})}fullJoin(...e){return new er({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("FullJoin",e))})}limit(e){return new er({...this.#e,queryNode:wd.cloneWithLimit(this.#e.queryNode,qN.create(Gr(e)))})}set(...e){return new er({...this.#e,queryNode:wd.cloneWithUpdates(this.#e.queryNode,J5(...e))})}returning(e){return new er({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,jo(e))})}returningAll(e){return new er({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,sa(e))})}output(e){return new er({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,jo(e))})}outputAll(e){return new er({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,sa(e))})}modifyEnd(e){return new er({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new er({...this.#e,queryNode:At.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new er({...this.#e})}$castTo(){return new er(this.#e)}$narrowType(){return new er(this.#e)}$assertType(){return new er(this.#e)}withPlugin(e){return new er({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new n8(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=rm){const n=await this.executeTakeFirst();if(n===void 0)throw im(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new er({...this.#e,queryNode:At.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}wn(er,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const bR=G({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return G({kind:"CommonTableExpressionNameNode",table:Dl.create(t),columns:e?G(e.map(Dr.create)):void 0})}}),hb=G({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return G({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return G({...t,...e})}});class uh{#e;constructor(e){this.#e=G(e)}materialized(){return new uh({...this.#e,node:hb.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new uh({...this.#e,node:hb.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}wn(uh,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function vR(t,e){const n=e(h8()).toOperationNode();return Ps(t)?t(r8(n)).toOperationNode():hb.create(WP(t),n)}function r8(t){return e=>new uh({node:hb.create(WP(e),t)})}function WP(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return bR.create(n,r)}else return bR.create(t)}const $g=G({is(t){return t.kind==="WithNode"},create(t,e){return G({kind:"WithNode",expressions:G([t]),...e})},cloneWithExpression(t,e){return G({...t,expressions:G([...t.expressions,e])})}}),xR=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function i8(t){let e="";for(let n=0;n<t;++n)e+=s8();return e}function s8(){return xR[~~(Math.random()*xR.length)]}function Jn(){return new o8}class o8{#e;get queryId(){return this.#e===void 0&&(this.#e=i8(8)),this.#e}}class VP{nodeStack=[];#e=G({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),G(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&G(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:G([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const a8=G({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class l8 extends VP{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const s of n)this.#n.add(s);const r=this.#i(e);for(const s of r)this.#t.add(s);const i=super.transformNodeImpl(e);for(const s of r)this.#t.delete(s);for(const s of n)this.#n.delete(s);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:gr.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:Dl.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in a8}#i(e){const n=new Set;if("name"in e&&e.name&&zl.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#c(e.with,n),n}#o(e,n){const r=Dl.is(e)?e:Yl.is(e)&&Dl.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#c(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class sm{#e;constructor(e){this.#e=new l8(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const c8=G({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return G({kind:"MatchedNode",not:t,bySource:e})}});function wR(t,e,n){return nm.create(fb([c8.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?ia(e[0],e[1],e[2]):hi(e)]:[]],"and",!1))}function Gp(t){return Os(t)?_i.create([t],[]):ds(t)?t.toOperationNode():t}class _R{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const SR=new Set;function u8(t){SR.has(t)||(SR.add(t),console.log(t))}const d8=G([]);class UP{#e;constructor(e=d8){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await this.#t(i,n);return f8(i,s),s})}async *stream(e,n,r){const i=new _R,s=new _R;this.provideConnection(async l=>(i.resolve(l),await s.promise)).catch(l=>i.reject(l));const o=await i.promise;try{for await(const l of o.streamQuery(e,n))yield await this.#t(l,r)}finally{s.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function f8(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||u8("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class od extends UP{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new od([...this.plugins,e])}withPlugins(e){return new od([...this.plugins,...e])}withPluginAtFront(e){return new od([e,...this.plugins])}withoutPlugins(){return new od([])}}const Sv=new od;class p8{numChangedRows;constructor(e){this.numChangedRows=e}}class Bc{#e;constructor(e){this.#e=G(e)}modifyEnd(e){return new Bc({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Bc({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,cf(e,n))})}using(...e){return new Ns({...this.#e,queryNode:is.cloneWithUsing(this.#e.queryNode,Ai("Using",e))})}output(e){return new Bc({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,jo(e))})}outputAll(e){return new Bc({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,sa(e))})}}wn(Bc,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Ns{#e;constructor(e){this.#e=G(e)}modifyEnd(e){return new Ns({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Ns({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,cf(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new uE({...this.#e,queryNode:is.cloneWithWhen(this.#e.queryNode,wR({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new Ns({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,jo(e))})}outputAll(e){return new Ns({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,sa(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:is.cloneWithWhen(this.#e.queryNode,wR({isMatched:!1,bySource:r},e,n))},s=r?uE:HP;return new s(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new Ns({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new p8(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=rm){const n=await this.executeTakeFirst();if(n===void 0)throw im(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}wn(Ns,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class uE{#e;constructor(e){this.#e=G(e)}thenDelete(){return new Ns({...this.#e,queryNode:is.cloneWithThen(this.#e.queryNode,Gp("delete"))})}thenDoNothing(){return new Ns({...this.#e,queryNode:is.cloneWithThen(this.#e.queryNode,Gp("do nothing"))})}thenUpdate(e){return new Ns({...this.#e,queryNode:is.cloneWithThen(this.#e.queryNode,Gp(e(new er({queryId:this.#e.queryId,executor:Sv,queryNode:wd.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}wn(uE,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class HP{#e;constructor(e){this.#e=G(e)}thenDoNothing(){return new Ns({...this.#e,queryNode:is.cloneWithThen(this.#e.queryNode,Gp("do nothing"))})}thenInsertValues(e){const[n,r]=$P(e);return new Ns({...this.#e,queryNode:is.cloneWithThen(this.#e.queryNode,Gp(ws.cloneWith(ws.createWithoutInto(),{columns:n,values:r})))})}}wn(HP,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Il{#e;constructor(e){this.#e=G(e)}selectFrom(e){return dE({queryId:Jn(),executor:this.#e.executor,queryNode:Kn.createFrom(fh(e),this.#e.withNode)})}selectNoFrom(e){return dE({queryId:Jn(),executor:this.#e.executor,queryNode:Kn.cloneWithSelections(Kn.create(this.#e.withNode),jo(e))})}insertInto(e){return new pr({queryId:Jn(),executor:this.#e.executor,queryNode:ws.create(Ar(e),this.#e.withNode)})}replaceInto(e){return new pr({queryId:Jn(),executor:this.#e.executor,queryNode:ws.create(Ar(e),this.#e.withNode,!0)})}deleteFrom(e){return new Qn({queryId:Jn(),executor:this.#e.executor,queryNode:jc.create(fh(e),this.#e.withNode)})}updateTable(e){return new er({queryId:Jn(),executor:this.#e.executor,queryNode:wd.create(ph(e),this.#e.withNode)})}mergeInto(e){return new Bc({queryId:Jn(),executor:this.#e.executor,queryNode:is.create(XP(e),this.#e.withNode)})}with(e,n){const r=vR(e,n);return new Il({...this.#e,withNode:this.#e.withNode?$g.cloneWithExpression(this.#e.withNode,r):$g.create(r)})}withRecursive(e,n){const r=vR(e,n);return new Il({...this.#e,withNode:this.#e.withNode?$g.cloneWithExpression(this.#e.withNode,r):$g.create(r,{recursive:!0})})}withPlugin(e){return new Il({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Il({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Il({...this.#e,executor:this.#e.executor.withPluginAtFront(new sm(e))})}}function h8(){return new Il({executor:Sv})}function m8(t,e){return new xd({joinNode:Hp.create(t,ph(e))})}function g8(){return new ch({overNode:cE.create()})}function Ai(t,e){if(e.length===3)return b8(t,e[0],e[1],e[2]);if(e.length===2)return y8(t,e[0],e[1]);throw new Error("not implemented")}function y8(t,e,n){return n(m8(t,e)).toOperationNode()}function b8(t,e,n,r){return Hp.createWithOn(t,ph(e),ia(n,"=",r))}const v8=G({is(t){return t.kind==="OffsetNode"},create(t){return G({kind:"OffsetNode",offset:t})}}),x8=G({is(t){return t.kind==="GroupByItemNode"},create(t){return G({kind:"GroupByItemNode",groupBy:t})}});function w8(t){return t=Ps(t)?t(uf()):t,lh(t).map(x8.create)}const QP=G({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return G({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function Hu(t,e,n){return Ps(e)&&(e=e(AN())),Ba(e)||(e=[e]),e.map(r=>QP.create(t,cu(r),n))}class tr{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new jN(this,e)}or(...e){return new mb(lf.create(this.#e,hi(e)))}and(...e){return new gb(Wl.create(this.#e,hi(e)))}$castTo(){return new tr(this.#e)}$notNull(){return new tr(this.#e)}toOperationNode(){return this.#e}}class jN{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Yl.create(this.#e.toOperationNode(),ds(this.#t)?this.#t.toOperationNode():gr.create(this.#t))}}class mb{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new jN(this,e)}or(...e){return new mb(lf.create(this.#e,hi(e)))}$castTo(){return new mb(this.#e)}toOperationNode(){return Pd.create(this.#e)}}class gb{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new jN(this,e)}and(...e){return new gb(Wl.create(this.#e,hi(e)))}$castTo(){return new gb(this.#e)}toOperationNode(){return Pd.create(this.#e)}}const _8={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:ra.create(t),modifier:e}}};function S8(t,e){if(!wv(t)&&!EN(t))throw new Error(`Invalid fetch row count: ${t}`);if(!E8(e))throw new Error(`Invalid fetch modifier: ${e}`);return _8.create(t,e)}function E8(t){return t==="only"||t==="with ties"}class sn{#e;constructor(e){this.#e=G(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new sn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,hi(e))})}whereRef(e,n,r){return new sn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,ia(e,n,r))})}having(...e){return new sn({...this.#e,queryNode:Kn.cloneWithHaving(this.#e.queryNode,hi(e))})}havingRef(e,n,r){return new sn({...this.#e,queryNode:Kn.cloneWithHaving(this.#e.queryNode,ia(e,n,r))})}select(e){return new sn({...this.#e,queryNode:Kn.cloneWithSelections(this.#e.queryNode,jo(e))})}distinctOn(e){return new sn({...this.#e,queryNode:Kn.cloneWithDistinctOn(this.#e.queryNode,lh(e))})}modifyFront(e){return new sn({...this.#e,queryNode:Kn.cloneWithFrontModifier(this.#e.queryNode,ka.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new sn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,ka.createWithExpression(e.toOperationNode()))})}distinct(){return new sn({...this.#e,queryNode:Kn.cloneWithFrontModifier(this.#e.queryNode,ka.create("Distinct"))})}forUpdate(e){return new sn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,ka.create("ForUpdate",e?Mg(e).map(Ar):void 0))})}forShare(e){return new sn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,ka.create("ForShare",e?Mg(e).map(Ar):void 0))})}forKeyShare(e){return new sn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,ka.create("ForKeyShare",e?Mg(e).map(Ar):void 0))})}forNoKeyUpdate(e){return new sn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,ka.create("ForNoKeyUpdate",e?Mg(e).map(Ar):void 0))})}skipLocked(){return new sn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,ka.create("SkipLocked"))})}noWait(){return new sn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,ka.create("NoWait"))})}selectAll(e){return new sn({...this.#e,queryNode:Kn.cloneWithSelections(this.#e.queryNode,sa(e))})}innerJoin(...e){return new sn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("InnerJoin",e))})}leftJoin(...e){return new sn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("LeftJoin",e))})}rightJoin(...e){return new sn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("RightJoin",e))})}fullJoin(...e){return new sn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("FullJoin",e))})}innerJoinLateral(...e){return new sn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("LateralInnerJoin",e))})}leftJoinLateral(...e){return new sn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Ai("LateralLeftJoin",e))})}orderBy(...e){return new sn({...this.#e,queryNode:Kn.cloneWithOrderByItems(this.#e.queryNode,tm(e))})}groupBy(e){return new sn({...this.#e,queryNode:Kn.cloneWithGroupByItems(this.#e.queryNode,w8(e))})}limit(e){return new sn({...this.#e,queryNode:Kn.cloneWithLimit(this.#e.queryNode,qN.create(Gr(e)))})}offset(e){return new sn({...this.#e,queryNode:Kn.cloneWithOffset(this.#e.queryNode,v8.create(Gr(e)))})}fetch(e,n="only"){return new sn({...this.#e,queryNode:Kn.cloneWithFetch(this.#e.queryNode,S8(e,n))})}top(e,n){return new sn({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,cf(e,n))})}union(e){return new sn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hu("union",e,!1))})}unionAll(e){return new sn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hu("union",e,!0))})}intersect(e){return new sn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hu("intersect",e,!1))})}intersectAll(e){return new sn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hu("intersect",e,!0))})}except(e){return new sn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hu("except",e,!1))})}exceptAll(e){return new sn({...this.#e,queryNode:Kn.cloneWithSetOperations(this.#e.queryNode,Hu("except",e,!0))})}as(e){return new KP(this,e)}clearSelect(){return new sn({...this.#e,queryNode:Kn.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new sn({...this.#e,queryNode:At.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new sn({...this.#e,queryNode:Kn.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new sn({...this.#e,queryNode:Kn.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new sn({...this.#e,queryNode:Kn.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new sn({...this.#e,queryNode:Kn.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new sn({...this.#e})}$castTo(){return new sn(this.#e)}$narrowType(){return new sn(this.#e)}$assertType(){return new sn(this.#e)}$asTuple(){return new tr(this.toOperationNode())}withPlugin(e){return new sn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=rm){const n=await this.executeTakeFirst();if(n===void 0)throw im(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new sn({...this.#e,queryNode:At.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}wn(sn,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function dE(t){return new sn(t)}class KP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Yl.create(this.#e.toOperationNode(),gr.create(this.#t))}}wn(KP,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Cl=G({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return G({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return G({...t,distinct:!0})},cloneWithOrderBy(t,e){return G({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithFilter(t,e){return G({...t,filter:t.filter?rs.cloneWithOperation(t.filter,"And",e):rs.create(e)})},cloneWithOrFilter(t,e){return G({...t,filter:t.filter?rs.cloneWithOperation(t.filter,"Or",e):rs.create(e)})},cloneWithOver(t,e){return G({...t,over:e})}}),ER=G({is(t){return t.kind==="FunctionNode"},create(t,e){return G({kind:"FunctionNode",func:t,arguments:e})}});class eo{#e;constructor(e){this.#e=G(e)}get expressionType(){}as(e){return new N8(this,e)}distinct(){return new eo({...this.#e,aggregateFunctionNode:Cl.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new eo({...this.#e,aggregateFunctionNode:Cl.cloneWithOrderBy(this.#e.aggregateFunctionNode,tm([e,n]))})}filterWhere(...e){return new eo({...this.#e,aggregateFunctionNode:Cl.cloneWithFilter(this.#e.aggregateFunctionNode,hi(e))})}filterWhereRef(e,n,r){return new eo({...this.#e,aggregateFunctionNode:Cl.cloneWithFilter(this.#e.aggregateFunctionNode,ia(e,n,r))})}over(e){const n=g8();return new eo({...this.#e,aggregateFunctionNode:Cl.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new eo(this.#e)}$notNull(){return new eo(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}wn(eo,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class N8{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Yl.create(this.#e.toOperationNode(),gr.create(this.#t))}}function GP(){const t=(n,r)=>new tr(ER.create(n,lh(r??[]))),e=(n,r)=>new eo({aggregateFunctionNode:Cl.create(n,r?lh(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new eo({aggregateFunctionNode:Cl.create("count",sa(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new eo({aggregateFunctionNode:Cl.create("json_agg",[Os(n)?Ar(n):n.toOperationNode()])})},toJson(n){return new tr(ER.create("to_json",[Os(n)?Ar(n):n.toOperationNode()]))}})}const k8=G({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return G({kind:"UnaryOperationNode",operator:t,operand:e})}});function I8(t,e){return k8.create(Vl.create(t),Es(e))}const Zo=G({is(t){return t.kind==="CaseNode"},create(t){return G({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return G({...t,when:G(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return G({...t,when:t.when?G([...t.when.slice(0,-1),nm.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return G({...t,...e})}});class JP{#e;constructor(e){this.#e=G(e)}when(...e){return new ZP({...this.#e,node:Zo.cloneWithWhen(this.#e.node,nm.create(hi(e)))})}}class ZP{#e;constructor(e){this.#e=G(e)}then(e){return new C8({...this.#e,node:Zo.cloneWithThen(this.#e.node,CN(e)?TN(e):Gr(e))})}}class C8{#e;constructor(e){this.#e=G(e)}when(...e){return new ZP({...this.#e,node:Zo.cloneWithWhen(this.#e.node,nm.create(hi(e)))})}else(e){return new T8({...this.#e,node:Zo.cloneWith(this.#e.node,{else:CN(e)?TN(e):Gr(e)})})}end(){return new tr(Zo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new tr(Zo.cloneWith(this.#e.node,{isStatement:!0}))}}class T8{#e;constructor(e){this.#e=G(e)}end(){return new tr(Zo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new tr(Zo.cloneWith(this.#e.node,{isStatement:!0}))}}const NR=G({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return G({kind:"JSONPathLegNode",type:t,value:e})}});class fE{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return ub.is(this.#e)?new dh(ub.cloneWithTraversal(this.#e,Qp.is(this.#e.traversal)?Qp.cloneWithLeg(this.#e.traversal,NR.create(e,n)):PP.cloneWithValue(this.#e.traversal,ra.createImmediate(n)))):new dh(Qp.cloneWithLeg(this.#e,NR.create(e,n)))}}class dh extends fE{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new R8(this,e)}$castTo(){return new dh(this.#e)}$notNull(){return new dh(this.#e)}toOperationNode(){return this.#e}}class R8{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Yl.create(this.#e.toOperationNode(),ds(this.#t)?this.#t.toOperationNode():gr.create(this.#t))}}const kR=G({is(t){return t.kind==="TupleNode"},create(t){return G({kind:"TupleNode",values:G(t)})}}),O8=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],q8=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],j8=G({is(t){return t.kind==="DataTypeNode"},create(t){return G({kind:"DataTypeNode",dataType:t})}});function A8(t){return!!(O8.includes(t)||q8.some(e=>e.test(t)))}function Yc(t){if(ds(t))return t.toOperationNode();if(A8(t))return j8.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const P8=G({is(t){return t.kind==="CastNode"},create(t,e){return G({kind:"CastNode",expression:t,dataType:e})}});function AN(t=Sv){function e(i,s,o){return new tr(RN(i,s,o))}function n(i,s){return new tr(I8(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return dE({queryId:Jn(),executor:t,queryNode:Kn.createFrom(fh(i))})},case(i){return new JP({node:Zo.create(Pl(i)?void 0:Es(i))})},ref(i,s){return Pl(s)?new tr(za(i)):new fE(P5(i,s))},jsonPath(){return new fE(Qp.create())},table(i){return new tr(Ar(i))},val(i){return new tr(Gr(i))},refTuple(...i){return new tr(kR.create(i.map(Es)))},tuple(...i){return new tr(kR.create(i.map(Gr)))},lit(i){return new tr(TN(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new tr(Ad.create(Es(i),Vl.create("between"),Wl.create(Gr(s),Gr(o))))},betweenSymmetric(i,s,o){return new tr(Ad.create(Es(i),Vl.create("between symmetric"),Wl.create(Gr(s),Gr(o))))},and(i){return Ba(i)?new tr(fb(i,"and")):new tr(lR(i,"and"))},or(i){return Ba(i)?new tr(fb(i,"or")):new tr(lR(i,"or"))},parens(...i){const s=hi(i);return Pd.is(s)?new tr(s):new tr(Pd.create(s))},cast(i,s){return new tr(P8.create(Es(i),Yc(s)))},withSchema(i){return AN(t.withPluginAtFront(new sm(i)))}});return r.fn=GP(),r.eb=r,r}function uf(t){return AN()}function cu(t){if(ds(t))return t.toOperationNode();if(Ps(t))return t(uf()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function YP(t){if(ds(t))return t.toOperationNode();if(Ps(t))return t(uf()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function om(t){return N5(t)||k5(t)||Ps(t)}function fh(t){return Ba(t)?t.map(e=>ph(e)):[ph(t)]}function ph(t){return Os(t)?XP(t):YP(t)}function XP(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(eF);return Yl.create(Ar(n),gr.create(r))}else return Ar(t)}function Ar(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(eF);return Dl.createWithSchema(n,r)}else return Dl.create(t)}function eF(t){return t.trim()}const tF=G({is(t){return t.kind==="AddColumnNode"},create(t){return G({kind:"AddColumnNode",column:t})}}),hr=G({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return G({kind:"ColumnDefinitionNode",column:Dr.create(t),dataType:e})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):[e]})},cloneWith(t,e){return G({...t,...e})}}),nF=G({is(t){return t.kind==="DropColumnNode"},create(t){return G({kind:"DropColumnNode",column:Dr.create(t)})}}),rF=G({is(t){return t.kind==="RenameColumnNode"},create(t,e){return G({kind:"RenameColumnNode",column:Dr.create(t),renameTo:Dr.create(e)})}}),PN=G({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return G({kind:"CheckConstraintNode",expression:t,name:e?gr.create(e):void 0})}}),F8=["no action","restrict","cascade","set null","set default"],_y=G({is(t){return t.kind==="ReferencesNode"},create(t,e){return G({kind:"ReferencesNode",table:t,columns:G([...e])})},cloneWithOnDelete(t,e){return G({...t,onDelete:e})},cloneWithOnUpdate(t,e){return G({...t,onUpdate:e})}});function iF(t){return ds(t)?t.toOperationNode():ra.createImmediate(t)}const Bg=G({is(t){return t.kind==="GeneratedNode"},create(t){return G({kind:"GeneratedNode",...t})},createWithExpression(t){return G({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return G({...t,...e})}}),D8=G({is(t){return t.kind==="DefaultValueNode"},create(t){return G({kind:"DefaultValueNode",defaultValue:t})}});function yb(t){if(F8.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class ir{#e;constructor(e){this.#e=e}autoIncrement(){return new ir(hr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new ir(hr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new ir(hr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=za(e);if(!n.table||NN.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new ir(hr.cloneWith(this.#e,{references:_y.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new ir(hr.cloneWith(this.#e,{references:_y.cloneWithOnDelete(this.#e.references,yb(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new ir(hr.cloneWith(this.#e,{references:_y.cloneWithOnUpdate(this.#e.references,yb(e))}))}unique(){return new ir(hr.cloneWith(this.#e,{unique:!0}))}notNull(){return new ir(hr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new ir(hr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new ir(hr.cloneWith(this.#e,{defaultTo:D8.create(iF(e))}))}check(e){return new ir(hr.cloneWith(this.#e,{check:PN.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new ir(hr.cloneWith(this.#e,{generated:Bg.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new ir(hr.cloneWith(this.#e,{generated:Bg.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new ir(hr.cloneWith(this.#e,{generated:Bg.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new ir(hr.cloneWith(this.#e,{generated:Bg.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new ir(hr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new ir(hr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new ir(hr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new ir(hr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}wn(ir,"don't await ColumnDefinitionBuilder instances directly.");const sF=G({is(t){return t.kind==="ModifyColumnNode"},create(t){return G({kind:"ModifyColumnNode",column:t})}}),bb=G({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return G({kind:"ForeignKeyConstraintNode",columns:t,references:_y.create(e,n),name:r?gr.create(r):void 0})},cloneWith(t,e){return G({...t,...e})}});class Fd{#e;constructor(e){this.#e=e}onDelete(e){return new Fd(bb.cloneWith(this.#e,{onDelete:yb(e)}))}onUpdate(e){return new Fd(bb.cloneWith(this.#e,{onUpdate:yb(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}wn(Fd,"don't await ForeignKeyConstraintBuilder instances directly.");const Sy=G({is(t){return t.kind==="AddConstraintNode"},create(t){return G({kind:"AddConstraintNode",constraint:t})}}),FN=G({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return G({kind:"UniqueConstraintNode",columns:G(t.map(Dr.create)),name:e?gr.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return G({...t,...e})}}),Ey=G({is(t){return t.kind==="DropConstraintNode"},create(t){return G({kind:"DropConstraintNode",constraintName:gr.create(t)})},cloneWith(t,e){return G({...t,...e})}}),hp=G({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return G({kind:"AlterColumnNode",column:Dr.create(t),[e]:n})}});class DN{#e;constructor(e){this.#e=e}setDataType(e){return new nd(hp.create(this.#e,"dataType",Yc(e)))}setDefault(e){return new nd(hp.create(this.#e,"setDefault",iF(e)))}dropDefault(){return new nd(hp.create(this.#e,"dropDefault",!0))}setNotNull(){return new nd(hp.create(this.#e,"setNotNull",!0))}dropNotNull(){return new nd(hp.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}wn(DN,"don't await AlterColumnBuilder instances");class nd{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}wn(nd,"don't await AlteredColumnBuilder instances");class Tc{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Tc,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class hh{#e;constructor(e){this.#e=G(e)}onDelete(e){return new hh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new hh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Gn.cloneWithTableProps(this.#e.node,{addConstraint:Sy.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(hh,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class Sd{#e;constructor(e){this.#e=G(e)}ifExists(){return new Sd({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropConstraint:Ey.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new Sd({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropConstraint:Ey.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new Sd({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropConstraint:Ey.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Sd,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const oF=G({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return G({kind:"PrimaryKeyConstraintNode",columns:G(t.map(Dr.create)),name:e?gr.create(e):void 0})}}),rd=G({is(t){return t.kind==="AddIndexNode"},create(t){return G({kind:"AddIndexNode",name:gr.create(t)})},cloneWith(t,e){return G({...t,...e})},cloneWithColumns(t,e){return G({...t,columns:[...t.columns||[],...e]})}});class Tl{#e;constructor(e){this.#e=G(e)}unique(){return new Tl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:rd.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Tl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:rd.cloneWithColumns(this.#e.node.addIndex,[db(e)])})})}columns(e){return new Tl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:rd.cloneWithColumns(this.#e.node.addIndex,e.map(db))})})}expression(e){return new Tl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:rd.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Tl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:rd.cloneWith(this.#e.node.addIndex,{using:_i.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Tl,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class am{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new am(FN.cloneWith(this.#e,{nullsNotDistinct:!0}))}}wn(am,"don't await UniqueConstraintNodeBuilder instances directly.");class aF{#e;constructor(e){this.#e=G(e)}renameTo(e){return new Tc({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{renameTo:Ar(e)})})}setSchema(e){return new Tc({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{setSchema:gr.create(e)})})}alterColumn(e,n){const r=n(new DN(e));return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,nF.create(e))})}renameColumn(e,n){return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,rF.create(e,n))})}addColumn(e,n,r=Fl){const i=r(new ir(hr.create(e,Yc(n))));return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,tF.create(i.toOperationNode()))})}modifyColumn(e,n,r=Fl){const i=r(new ir(hr.create(e,Yc(n))));return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,sF.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=Fl){const i=r(new am(FN.create(n,e)));return new Tc({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addConstraint:Sy.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new Tc({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addConstraint:Sy.create(PN.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new hh({...this.#e,constraintBuilder:new Fd(bb.create(n.map(Dr.create),Ar(r),i.map(Dr.create),e))})}addPrimaryKeyConstraint(e,n){return new Tc({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addConstraint:Sy.create(oF.create(n,e))})})}dropConstraint(e){return new Sd({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropConstraint:Ey.create(e)})})}addIndex(e){return new Tl({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{addIndex:rd.create(e)})})}dropIndex(e){return new Tc({...this.#e,node:Gn.cloneWithTableProps(this.#e.node,{dropIndex:Up.create(e)})})}$call(e){return e(this)}}wn(aF,"don't await AlterTableBuilder instances");class no{#e;constructor(e){this.#e=G(e)}alterColumn(e,n){const r=n(new DN(e));return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,nF.create(e))})}renameColumn(e,n){return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,rF.create(e,n))})}addColumn(e,n,r=Fl){const i=r(new ir(hr.create(e,Yc(n))));return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,tF.create(i.toOperationNode()))})}modifyColumn(e,n,r=Fl){const i=r(new ir(hr.create(e,Yc(n))));return new no({...this.#e,node:Gn.cloneWithColumnAlteration(this.#e.node,sF.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(no,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class lF extends VP{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Ys{#e;constructor(e){this.#e=G(e)}ifNotExists(){return new Ys({...this.#e,node:Ra.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Ys({...this.#e,node:Ra.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Ys({...this.#e,node:Ra.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Ys({...this.#e,node:Ra.cloneWith(this.#e.node,{table:Ar(e)})})}column(e){return new Ys({...this.#e,node:Ra.cloneWithColumns(this.#e.node,[db(e)])})}columns(e){return new Ys({...this.#e,node:Ra.cloneWithColumns(this.#e.node,e.map(db))})}expression(e){return new Ys({...this.#e,node:Ra.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Ys({...this.#e,node:Ra.cloneWith(this.#e.node,{using:_i.createWithSql(e)})})}where(...e){const n=new lF;return new Ys({...this.#e,node:At.cloneWithWhere(this.#e.node,n.transformNode(hi(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Ys,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Ev{#e;constructor(e){this.#e=G(e)}ifNotExists(){return new Ev({...this.#e,node:RP.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Ev,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function L8(t){if(E5.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class es{#e;constructor(e){this.#e=G(e)}temporary(){return new es({...this.#e,node:bs.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new es({...this.#e,node:bs.cloneWith(this.#e.node,{onCommit:L8(e)})})}ifNotExists(){return new es({...this.#e,node:bs.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=Fl){const i=r(new ir(hr.create(e,Yc(n))));return new es({...this.#e,node:bs.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new es({...this.#e,node:bs.cloneWithConstraint(this.#e.node,oF.create(n,e))})}addUniqueConstraint(e,n,r=Fl){const i=r(new am(FN.create(n,e)));return new es({...this.#e,node:bs.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new es({...this.#e,node:bs.cloneWithConstraint(this.#e.node,PN.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,s=Fl){const o=s(new Fd(bb.create(n.map(Dr.create),Ar(r),i.map(Dr.create),e)));return new es({...this.#e,node:bs.cloneWithConstraint(this.#e.node,o.toOperationNode())})}modifyFront(e){return new es({...this.#e,node:bs.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new es({...this.#e,node:bs.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new es({...this.#e,node:bs.cloneWith(this.#e.node,{selectQuery:cu(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(es,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class Ed{#e;constructor(e){this.#e=G(e)}on(e){return new Ed({...this.#e,node:Up.cloneWith(this.#e.node,{table:Ar(e)})})}ifExists(){return new Ed({...this.#e,node:Up.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Ed({...this.#e,node:Up.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Ed,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class mh{#e;constructor(e){this.#e=G(e)}ifExists(){return new mh({...this.#e,node:sE.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new mh({...this.#e,node:sE.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(mh,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class gh{#e;constructor(e){this.#e=G(e)}ifExists(){return new gh({...this.#e,node:oE.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new gh({...this.#e,node:oE.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(gh,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Sl=G({is(t){return t.kind==="CreateViewNode"},create(t){return G({kind:"CreateViewNode",name:zl.create(t)})},cloneWith(t,e){return G({...t,...e})}});class M8{#e=new lF;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class ja{#e;constructor(e){this.#e=G(e)}temporary(){return new ja({...this.#e,node:Sl.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new ja({...this.#e,node:Sl.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new ja({...this.#e,node:Sl.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new ja({...this.#e,node:Sl.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new ja({...this.#e,node:Sl.cloneWith(this.#e.node,{columns:e.map(DP)})})}as(e){const n=e.withPlugin(new M8).toOperationNode();return new ja({...this.#e,node:Sl.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(ja,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Ny=G({is(t){return t.kind==="DropViewNode"},create(t){return G({kind:"DropViewNode",name:zl.create(t)})},cloneWith(t,e){return G({...t,...e})}});class Nd{#e;constructor(e){this.#e=G(e)}materialized(){return new Nd({...this.#e,node:Ny.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new Nd({...this.#e,node:Ny.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Nd({...this.#e,node:Ny.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Nd,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const cF=G({is(t){return t.kind==="CreateTypeNode"},create(t){return G({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return G({...t,enum:IN.create(e.map(n=>ra.createImmediate(n)))})}});class Nv{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Nv({...this.#e,node:cF.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(Nv,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const uF=G({is(t){return t.kind==="DropTypeNode"},create(t){return G({kind:"DropTypeNode",name:t})},cloneWith(t,e){return G({...t,...e})}});class kv{#e;constructor(e){this.#e=G(e)}ifExists(){return new kv({...this.#e,node:uF.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}wn(kv,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function IR(t){const e=".";if(t.includes(e)){const n=t.split(e).map($8);if(n.length===2)return zl.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return zl.create(t)}function $8(t){return t.trim()}class Jp{#e;constructor(e){this.#e=e}createTable(e){return new es({queryId:Jn(),executor:this.#e,node:bs.create(Ar(e))})}dropTable(e){return new gh({queryId:Jn(),executor:this.#e,node:oE.create(Ar(e))})}createIndex(e){return new Ys({queryId:Jn(),executor:this.#e,node:Ra.create(e)})}dropIndex(e){return new Ed({queryId:Jn(),executor:this.#e,node:Up.create(e)})}createSchema(e){return new Ev({queryId:Jn(),executor:this.#e,node:RP.create(e)})}dropSchema(e){return new mh({queryId:Jn(),executor:this.#e,node:sE.create(e)})}alterTable(e){return new aF({queryId:Jn(),executor:this.#e,node:Gn.create(Ar(e))})}createView(e){return new ja({queryId:Jn(),executor:this.#e,node:Sl.create(e)})}dropView(e){return new Nd({queryId:Jn(),executor:this.#e,node:Ny.create(e)})}createType(e){return new Nv({queryId:Jn(),executor:this.#e,node:cF.create(IR(e))})}dropType(e){return new kv({queryId:Jn(),executor:this.#e,node:uF.create(IR(e))})}withPlugin(e){return new Jp(this.#e.withPlugin(e))}withoutPlugins(){return new Jp(this.#e.withoutPlugins())}withSchema(e){return new Jp(this.#e.withPluginAtFront(new sm(e)))}}class B8{ref(e){return new j5(e)}}class z8{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class Ac extends UP{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new Ac(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new Ac(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new Ac(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new Ac(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Ac(this.#e,this.#t,this.#n,[])}}function CR(){return typeof performance<"u"&&Ps(performance.now)?performance.now():Date.now()}class W8{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const s=CR();try{return await n.call(e,r)}catch(o){throw i=o,await this.#c(o,r,s),o}finally{i||await this.#l(r,s)}}}async #c(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#u(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#u(n)}))}#u(e){return CR()-e}}const V8=()=>{};class dF{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(V8);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const U8=["read uncommitted","read committed","repeatable read","serializable","snapshot"];G(["query","error"]);class H8{#e;#t;constructor(e){Ps(e)?(this.#t=e,this.#e=G({query:!0,error:!0})):(this.#t=Q8,this.#e=G({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function Q8(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function K8(t){return Go(t)&&Ps(t.compile)}let LN=class kp extends Il{#e;constructor(e){let n,r;if(G8(e))n={executor:e.executor},r={...e};else{const i=e.dialect,s=i.createDriver(),o=i.createQueryCompiler(),l=i.createAdapter(),u=new H8(e.log??[]),d=new W8(s,u),p=new z8(d),h=new Ac(o,l,p,e.plugins??[]);n={executor:h},r={config:e,executor:h,dialect:i,driver:d}}super(n),this.#e=G(r)}get schema(){return new Jp(this.#e.executor)}get dynamic(){return new B8}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new JP({node:Zo.create(Pl(e)?void 0:cu(e))})}get fn(){return GP()}transaction(){return new Iv({...this.#e})}connection(){return new fF({...this.#e})}withPlugin(e){return new kp({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new kp({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new kp({...this.#e,executor:this.#e.executor.withPluginAtFront(new sm(e))})}withTables(){return new kp({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=Jn()){const r=K8(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}};class ad extends LN{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new ad({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new ad({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new ad({...this.#e,executor:this.#e.executor.withPluginAtFront(new sm(e))})}withTables(){return new ad({...this.#e})}}function G8(t){return Go(t)&&Go(t.config)&&Go(t.driver)&&Go(t.executor)&&Go(t.dialect)}class fF{#e;constructor(e){this.#e=G(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new dF(n)),i=new LN({...this.#e,executor:r});return await e(i)})}}wn(fF,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class Iv{#e;constructor(e){this.#e=G(e)}setIsolationLevel(e){return new Iv({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return J8(i),this.#e.executor.provideConnection(async s=>{const o=this.#e.executor.withConnectionProvider(new dF(s)),l=new ad({...r,executor:o});try{await this.#e.driver.beginTransaction(s,i);const u=await e(l);return await this.#e.driver.commitTransaction(s),u}catch(u){throw await this.#e.driver.rollbackTransaction(s),u}})}}wn(Iv,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function J8(t){if(t.isolationLevel&&!U8.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class kd{#e;constructor(e){this.#e=G(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new pF(this,e)}$castTo(){return new kd({...this.#e})}$notNull(){return new kd(this.#e)}withPlugin(e){return new kd({...this.#e,plugins:this.#e.plugins!==void 0?G([...this.#e.plugins,e]):G([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():Sv;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function yl(t){return new kd(t)}wn(kd,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class pF{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return Yl.create(this.#e.toOperationNode(),ds(this.#t)?this.#t.toOperationNode():gr.create(this.#t))}}wn(pF,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Ir=Object.assign((t,...e)=>yl({queryId:Jn(),rawNode:_i.create(t,e?.map(TR)??[])}),{ref(t){return yl({queryId:Jn(),rawNode:_i.createWithChild(za(t))})},val(t){return yl({queryId:Jn(),rawNode:_i.createWithChild(Gr(t))})},value(t){return this.val(t)},table(t){return yl({queryId:Jn(),rawNode:_i.createWithChild(Ar(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",yl({queryId:Jn(),rawNode:_i.create(e,t.map(gr.create))})},lit(t){return yl({queryId:Jn(),rawNode:_i.createWithChild(ra.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return yl({queryId:Jn(),rawNode:_i.createWithSql(t)})},join(t,e=Ir`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=TR(t[i]),i!==t.length-1&&(n[2*i+1]=r);return yl({queryId:Jn(),rawNode:_i.createWithChildren(n)})}});function TR(t){return ds(t)?t.toOperationNode():Gr(t)}class Z8{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=G({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class Y8 extends Z8{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),G({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!Pd.is(this.parentNode)&&!ws.is(this.parentNode)&&!bs.is(this.parentNode)&&!Sl.is(this.parentNode)&&!QP.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(At.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!is.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!is.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(At.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!Os(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(eH[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(At.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!is.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!is.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),cb(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(X8[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return Vl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const s of e)i+=s,s===n?i+=n:s===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(Os(e))this.append(`'${e}'`);else if(wv(e)||cb(e))this.append(e.toString());else if(SN(e))this.append("null");else if(S5(e))this.appendImmediateValue(e.toISOString());else if(EN(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?RR[n.modifier]-RR[r.modifier]:1),G(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const X8=G({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),RR=G({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),eH=G({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class tH{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const nH=/"/g;class rH extends Y8{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(nH,'""')}visitDefaultInsertValue(e){this.append("null")}}const iH="kysely_migration",sH="kysely_migration_lock";G({__noMigrations__:!0});class oH{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",iH).where("name","!=",sH));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(o=>o.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),s=await n.selectFrom(Ir`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:s.map(o=>({name:o.name,dataType:o.type,isNullable:!o.notnull,isAutoIncrementing:o.name===i,hasDefaultValue:o.dflt_value!=null,comment:void 0}))}}}class aH extends tH{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const hF={jsonObject(t){const e=Ir.join(Object.entries(t).map(([n,r])=>Ir`${n}, ${r}`));return Ir`json_object(${e})`},jsonGroupArray(t){return Ir`json_group_array(${hF.jsonObject(t)})`}},mF={hash(t){return iE.sha224(t)},verify(t,e){return iE.sha224(t)===e}};var On;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(On||(On={}));var pE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(pE||(pE={}));const jt=On.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Aa=t=>{switch(typeof t){case"undefined":return jt.undefined;case"string":return jt.string;case"number":return isNaN(t)?jt.nan:jt.number;case"boolean":return jt.boolean;case"function":return jt.function;case"bigint":return jt.bigint;case"symbol":return jt.symbol;case"object":return Array.isArray(t)?jt.array:t===null?jt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?jt.promise:typeof Map<"u"&&t instanceof Map?jt.map:typeof Set<"u"&&t instanceof Set?jt.set:typeof Date<"u"&&t instanceof Date?jt.date:jt.object;default:return jt.unknown}},yt=On.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),lH=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ts extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof Ts))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,On.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ts.create=t=>new Ts(t);const Dd=(t,e)=>{let n;switch(t.code){case yt.invalid_type:t.received===jt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,On.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${On.joinValues(t.keys,", ")}`;break;case yt.invalid_union:n="Invalid input";break;case yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${On.joinValues(t.options)}`;break;case yt.invalid_enum_value:n=`Invalid enum value. Expected ${On.joinValues(t.options)}, received '${t.received}'`;break;case yt.invalid_arguments:n="Invalid function arguments";break;case yt.invalid_return_type:n="Invalid function return type";break;case yt.invalid_date:n="Invalid date";break;case yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:On.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case yt.custom:n="Invalid input";break;case yt.invalid_intersection_types:n="Intersection results could not be merged";break;case yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,On.assertNever(t)}return{message:n}};let gF=Dd;function cH(t){gF=t}function vb(){return gF}const xb=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},uH=[];function It(t,e){const n=vb(),r=xb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Dd?void 0:Dd].filter(i=>!!i)});t.common.issues.push(r)}class ki{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return an;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return ki.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return an;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const an=Object.freeze({status:"aborted"}),ld=t=>({status:"dirty",value:t}),Mi=t=>({status:"valid",value:t}),hE=t=>t.status==="aborted",mE=t=>t.status==="dirty",Xc=t=>t.status==="valid",yh=t=>typeof Promise<"u"&&t instanceof Promise;function wb(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function yF(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Qt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Qt||(Qt={}));var Ip,Cp;class oa{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const OR=(t,e)=>{if(Xc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ts(t.common.issues);return this._error=n,this._error}}};function vn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var u,d;const{message:p}=t;return o.code==="invalid_enum_value"?{message:p??l.defaultError}:typeof l.data>"u"?{message:(u=p??r)!==null&&u!==void 0?u:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=p??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class _n{get description(){return this._def.description}_getType(e){return Aa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Aa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ki,ctx:{common:e.parent.common,data:e.data,parsedType:Aa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(yh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Aa(e)},s=this._parseSync({data:e,path:i.path,parent:i});return OR(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Aa(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Xc(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Xc(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Aa(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await (yh(i)?i:Promise.resolve(i));return OR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ao({schema:this,typeName:on.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Xo.create(this,this._def)}nullable(){return Gl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oo.create(this)}promise(){return Md.create(this,this._def)}or(e){return wh.create([this,e],this._def)}and(e){return _h.create(this,e,this._def)}transform(e){return new Ao({...vn(this._def),schema:this,typeName:on.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ih({...vn(this._def),innerType:this,defaultValue:n,typeName:on.ZodDefault})}brand(){return new MN({typeName:on.ZodBranded,type:this,...vn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ch({...vn(this._def),innerType:this,catchValue:n,typeName:on.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return lm.create(this,e)}readonly(){return Th.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dH=/^c[^\s-]{8,}$/i,fH=/^[0-9a-z]+$/,pH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mH=/^[a-z0-9_-]{21}$/i,gH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yH=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let J_;const xH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_H=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kH=new RegExp(`^${bF}$`);function vF(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function IH(t){return new RegExp(`^${vF(t)}$`)}function xF(t){let e=`${bF}T${vF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function CH(t,e){return!!((e==="v4"||!e)&&xH.test(t)||(e==="v6"||!e)&&_H.test(t))}function TH(t,e){if(!gH.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function RH(t,e){return!!((e==="v4"||!e)&&wH.test(t)||(e==="v6"||!e)&&SH.test(t))}class To extends _n{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==jt.string){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:jt.string,received:s.parsedType}),an}const r=new ki;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")bH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"email",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")J_||(J_=new RegExp(vH,"u")),J_.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")hH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")mH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"nanoid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")dH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")fH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")pH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),It(i,{validation:"url",code:yt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"regex",code:yt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?xF(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?kH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?IH(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?yH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"duration",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?CH(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ip",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?TH(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"jwt",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?RH(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cidr",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?EH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?NH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64url",code:yt.invalid_string,message:s.message}),r.dirty()):On.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:yt.invalid_string,...Qt.errToObj(r)})}_addCheck(e){return new To({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Qt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Qt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Qt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Qt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Qt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Qt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Qt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Qt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Qt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Qt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Qt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Qt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Qt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Qt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Qt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Qt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Qt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Qt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Qt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Qt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Qt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Qt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Qt.errToObj(n)})}nonempty(e){return this.min(1,Qt.errToObj(e))}trim(){return new To({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new To({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new To({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}To.create=t=>{var e;return new To({checks:[],typeName:on.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...vn(t)})};function OH(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Hl extends _n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==jt.number){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:jt.number,received:s.parsedType}),an}let r;const i=new ki;for(const s of this._def.checks)s.kind==="int"?On.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?OH(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_finite,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Qt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qt.toString(n))}setLimit(e,n,r,i){return new Hl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qt.toString(i)}]})}_addCheck(e){return new Hl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Qt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Qt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&On.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Hl.create=t=>new Hl({checks:[],typeName:on.ZodNumber,coerce:t?.coerce||!1,...vn(t)});class Ql extends _n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==jt.bigint)return this._getInvalidInput(e);let r;const i=new ki;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:jt.bigint,received:n.parsedType}),an}gte(e,n){return this.setLimit("min",e,!0,Qt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qt.toString(n))}setLimit(e,n,r,i){return new Ql({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qt.toString(i)}]})}_addCheck(e){return new Ql({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ql.create=t=>{var e;return new Ql({checks:[],typeName:on.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...vn(t)})};class bh extends _n{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==jt.boolean){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.boolean,received:r.parsedType}),an}return Mi(e.data)}}bh.create=t=>new bh({typeName:on.ZodBoolean,coerce:t?.coerce||!1,...vn(t)});class eu extends _n{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==jt.date){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:jt.date,received:s.parsedType}),an}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_date}),an}const r=new ki;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):On.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new eu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Qt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Qt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}eu.create=t=>new eu({checks:[],coerce:t?.coerce||!1,typeName:on.ZodDate,...vn(t)});class _b extends _n{_parse(e){if(this._getType(e)!==jt.symbol){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.symbol,received:r.parsedType}),an}return Mi(e.data)}}_b.create=t=>new _b({typeName:on.ZodSymbol,...vn(t)});class vh extends _n{_parse(e){if(this._getType(e)!==jt.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.undefined,received:r.parsedType}),an}return Mi(e.data)}}vh.create=t=>new vh({typeName:on.ZodUndefined,...vn(t)});class xh extends _n{_parse(e){if(this._getType(e)!==jt.null){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.null,received:r.parsedType}),an}return Mi(e.data)}}xh.create=t=>new xh({typeName:on.ZodNull,...vn(t)});class Ld extends _n{constructor(){super(...arguments),this._any=!0}_parse(e){return Mi(e.data)}}Ld.create=t=>new Ld({typeName:on.ZodAny,...vn(t)});class Hc extends _n{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mi(e.data)}}Hc.create=t=>new Hc({typeName:on.ZodUnknown,...vn(t)});class Wa extends _n{_parse(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:jt.never,received:n.parsedType}),an}}Wa.create=t=>new Wa({typeName:on.ZodNever,...vn(t)});class Sb extends _n{_parse(e){if(this._getType(e)!==jt.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.void,received:r.parsedType}),an}return Mi(e.data)}}Sb.create=t=>new Sb({typeName:on.ZodVoid,...vn(t)});class Oo extends _n{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==jt.array)return It(n,{code:yt.invalid_type,expected:jt.array,received:n.parsedType}),an;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(It(n,{code:o?yt.too_big:yt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(It(n,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(It(n,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new oa(n,o,n.path,l)))).then(o=>ki.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new oa(n,o,n.path,l)));return ki.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Oo({...this._def,minLength:{value:e,message:Qt.toString(n)}})}max(e,n){return new Oo({...this._def,maxLength:{value:e,message:Qt.toString(n)}})}length(e,n){return new Oo({...this._def,exactLength:{value:e,message:Qt.toString(n)}})}nonempty(e){return this.min(1,e)}}Oo.create=(t,e)=>new Oo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:on.ZodArray,...vn(e)});function id(t){if(t instanceof kr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Xo.create(id(r))}return new kr({...t._def,shape:()=>e})}else return t instanceof Oo?new Oo({...t._def,type:id(t.element)}):t instanceof Xo?Xo.create(id(t.unwrap())):t instanceof Gl?Gl.create(id(t.unwrap())):t instanceof aa?aa.create(t.items.map(e=>id(e))):t}class kr extends _n{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=On.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==jt.object){const d=this._getOrReturnCtx(e);return It(d,{code:yt.invalid_type,expected:jt.object,received:d.parsedType}),an}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Wa&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const u=[];for(const d of o){const p=s[d],h=i.data[d];u.push({key:{status:"valid",value:d},value:p._parse(new oa(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Wa){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of l)u.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(d==="strict")l.length>0&&(It(i,{code:yt.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of l){const h=i.data[p];u.push({key:{status:"valid",value:p},value:d._parse(new oa(i,h,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of u){const h=await p.key,b=await p.value;d.push({key:h,value:b,alwaysSet:p.alwaysSet})}return d}).then(d=>ki.mergeObjectSync(r,d)):ki.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Qt.errToObj,new kr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Qt.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new kr({...this._def,unknownKeys:"strip"})}passthrough(){return new kr({...this._def,unknownKeys:"passthrough"})}extend(e){return new kr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:on.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new kr({...this._def,catchall:e})}pick(e){const n={};return On.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new kr({...this._def,shape:()=>n})}omit(e){const n={};return On.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new kr({...this._def,shape:()=>n})}deepPartial(){return id(this)}partial(e){const n={};return On.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new kr({...this._def,shape:()=>n})}required(e){const n={};return On.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Xo;)s=s._def.innerType;n[r]=s}}),new kr({...this._def,shape:()=>n})}keyof(){return wF(On.objectKeys(this.shape))}}kr.create=(t,e)=>new kr({shape:()=>t,unknownKeys:"strip",catchall:Wa.create(),typeName:on.ZodObject,...vn(e)});kr.strictCreate=(t,e)=>new kr({shape:()=>t,unknownKeys:"strict",catchall:Wa.create(),typeName:on.ZodObject,...vn(e)});kr.lazycreate=(t,e)=>new kr({shape:t,unknownKeys:"strip",catchall:Wa.create(),typeName:on.ZodObject,...vn(e)});class wh extends _n{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Ts(l.ctx.common.issues));return It(n,{code:yt.invalid_union,unionErrors:o}),an}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},p=u._parseSync({data:n.data,path:n.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!s&&(s={result:p,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(u=>new Ts(u));return It(n,{code:yt.invalid_union,unionErrors:l}),an}}get options(){return this._def.options}}wh.create=(t,e)=>new wh({options:t,typeName:on.ZodUnion,...vn(e)});const Oa=t=>t instanceof Eh?Oa(t.schema):t instanceof Ao?Oa(t.innerType()):t instanceof Nh?[t.value]:t instanceof Kl?t.options:t instanceof kh?On.objectValues(t.enum):t instanceof Ih?Oa(t._def.innerType):t instanceof vh?[void 0]:t instanceof xh?[null]:t instanceof Xo?[void 0,...Oa(t.unwrap())]:t instanceof Gl?[null,...Oa(t.unwrap())]:t instanceof MN||t instanceof Th?Oa(t.unwrap()):t instanceof Ch?Oa(t._def.innerType):[];class Cv extends _n{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==jt.object)return It(n,{code:yt.invalid_type,expected:jt.object,received:n.parsedType}),an;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(It(n,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),an)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Oa(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Cv({typeName:on.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...vn(r)})}}function gE(t,e){const n=Aa(t),r=Aa(e);if(t===e)return{valid:!0,data:t};if(n===jt.object&&r===jt.object){const i=On.objectKeys(e),s=On.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const u=gE(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===jt.array&&r===jt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],u=gE(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===jt.date&&r===jt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _h extends _n{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(hE(s)||hE(o))return an;const l=gE(s.value,o.value);return l.valid?((mE(s)||mE(o))&&n.dirty(),{status:n.value,value:l.data}):(It(r,{code:yt.invalid_intersection_types}),an)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_h.create=(t,e,n)=>new _h({left:t,right:e,typeName:on.ZodIntersection,...vn(n)});class aa extends _n{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==jt.array)return It(r,{code:yt.invalid_type,expected:jt.array,received:r.parsedType}),an;if(r.data.length<this._def.items.length)return It(r,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),an;!this._def.rest&&r.data.length>this._def.items.length&&(It(r,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new oa(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>ki.mergeArray(n,o)):ki.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new aa({...this._def,rest:e})}}aa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new aa({items:t,typeName:on.ZodTuple,rest:null,...vn(e)})};class Sh extends _n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==jt.object)return It(r,{code:yt.invalid_type,expected:jt.object,received:r.parsedType}),an;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new oa(r,l,r.path,l)),value:o._parse(new oa(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?ki.mergeObjectAsync(n,i):ki.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof _n?new Sh({keyType:e,valueType:n,typeName:on.ZodRecord,...vn(r)}):new Sh({keyType:To.create(),valueType:e,typeName:on.ZodRecord,...vn(n)})}}class Eb extends _n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==jt.map)return It(r,{code:yt.invalid_type,expected:jt.map,received:r.parsedType}),an;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,u],d)=>({key:i._parse(new oa(r,l,r.path,[d,"key"])),value:s._parse(new oa(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,p=await u.value;if(d.status==="aborted"||p.status==="aborted")return an;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(d.value,p.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const d=u.key,p=u.value;if(d.status==="aborted"||p.status==="aborted")return an;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(d.value,p.value)}return{status:n.value,value:l}}}}Eb.create=(t,e,n)=>new Eb({valueType:e,keyType:t,typeName:on.ZodMap,...vn(n)});class tu extends _n{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==jt.set)return It(r,{code:yt.invalid_type,expected:jt.set,received:r.parsedType}),an;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(It(r,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(It(r,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const d=new Set;for(const p of u){if(p.status==="aborted")return an;p.status==="dirty"&&n.dirty(),d.add(p.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>s._parse(new oa(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new tu({...this._def,minSize:{value:e,message:Qt.toString(n)}})}max(e,n){return new tu({...this._def,maxSize:{value:e,message:Qt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}tu.create=(t,e)=>new tu({valueType:t,minSize:null,maxSize:null,typeName:on.ZodSet,...vn(e)});class Id extends _n{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==jt.function)return It(n,{code:yt.invalid_type,expected:jt.function,received:n.parsedType}),an;function r(l,u){return xb({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vb(),Dd].filter(d=>!!d),issueData:{code:yt.invalid_arguments,argumentsError:u}})}function i(l,u){return xb({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vb(),Dd].filter(d=>!!d),issueData:{code:yt.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Md){const l=this;return Mi(async function(...u){const d=new Ts([]),p=await l._def.args.parseAsync(u,s).catch(x=>{throw d.addIssue(r(u,x)),d}),h=await Reflect.apply(o,this,p);return await l._def.returns._def.type.parseAsync(h,s).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return Mi(function(...u){const d=l._def.args.safeParse(u,s);if(!d.success)throw new Ts([r(u,d.error)]);const p=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(p,s);if(!h.success)throw new Ts([i(p,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Id({...this._def,args:aa.create(e).rest(Hc.create())})}returns(e){return new Id({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Id({args:e||aa.create([]).rest(Hc.create()),returns:n||Hc.create(),typeName:on.ZodFunction,...vn(r)})}}class Eh extends _n{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Eh.create=(t,e)=>new Eh({getter:t,typeName:on.ZodLazy,...vn(e)});class Nh extends _n{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return It(n,{received:n.data,code:yt.invalid_literal,expected:this._def.value}),an}return{status:"valid",value:e.data}}get value(){return this._def.value}}Nh.create=(t,e)=>new Nh({value:t,typeName:on.ZodLiteral,...vn(e)});function wF(t,e){return new Kl({values:t,typeName:on.ZodEnum,...vn(e)})}class Kl extends _n{constructor(){super(...arguments),Ip.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{expected:On.joinValues(r),received:n.parsedType,code:yt.invalid_type}),an}if(wb(this,Ip)||yF(this,Ip,new Set(this._def.values)),!wb(this,Ip).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{received:n.data,code:yt.invalid_enum_value,options:r}),an}return Mi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Kl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Kl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ip=new WeakMap;Kl.create=wF;class kh extends _n{constructor(){super(...arguments),Cp.set(this,void 0)}_parse(e){const n=On.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==jt.string&&r.parsedType!==jt.number){const i=On.objectValues(n);return It(r,{expected:On.joinValues(i),received:r.parsedType,code:yt.invalid_type}),an}if(wb(this,Cp)||yF(this,Cp,new Set(On.getValidEnumValues(this._def.values))),!wb(this,Cp).has(e.data)){const i=On.objectValues(n);return It(r,{received:r.data,code:yt.invalid_enum_value,options:i}),an}return Mi(e.data)}get enum(){return this._def.values}}Cp=new WeakMap;kh.create=(t,e)=>new kh({values:t,typeName:on.ZodNativeEnum,...vn(e)});class Md extends _n{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==jt.promise&&n.common.async===!1)return It(n,{code:yt.invalid_type,expected:jt.promise,received:n.parsedType}),an;const r=n.parsedType===jt.promise?n.data:Promise.resolve(n.data);return Mi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Md.create=(t,e)=>new Md({type:t,typeName:on.ZodPromise,...vn(e)});class Ao extends _n{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===on.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{It(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return an;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?an:u.status==="dirty"||n.value==="dirty"?ld(u.value):u});{if(n.value==="aborted")return an;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?an:l.status==="dirty"||n.value==="dirty"?ld(l.value):l}}if(i.type==="refinement"){const o=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?an:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?an:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Xc(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Xc(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);On.assertNever(i)}}Ao.create=(t,e,n)=>new Ao({schema:t,typeName:on.ZodEffects,effect:e,...vn(n)});Ao.createWithPreprocess=(t,e,n)=>new Ao({schema:e,effect:{type:"preprocess",transform:t},typeName:on.ZodEffects,...vn(n)});class Xo extends _n{_parse(e){return this._getType(e)===jt.undefined?Mi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xo.create=(t,e)=>new Xo({innerType:t,typeName:on.ZodOptional,...vn(e)});class Gl extends _n{_parse(e){return this._getType(e)===jt.null?Mi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gl.create=(t,e)=>new Gl({innerType:t,typeName:on.ZodNullable,...vn(e)});class Ih extends _n{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===jt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ih.create=(t,e)=>new Ih({innerType:t,typeName:on.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vn(e)});class Ch extends _n{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ts(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ts(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ch.create=(t,e)=>new Ch({innerType:t,typeName:on.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vn(e)});class Nb extends _n{_parse(e){if(this._getType(e)!==jt.nan){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.nan,received:r.parsedType}),an}return{status:"valid",value:e.data}}}Nb.create=t=>new Nb({typeName:on.ZodNaN,...vn(t)});const qH=Symbol("zod_brand");class MN extends _n{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class lm extends _n{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?an:s.status==="dirty"?(n.dirty(),ld(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?an:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new lm({in:e,out:n,typeName:on.ZodPipeline})}}class Th extends _n{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Xc(i)&&(i.value=Object.freeze(i.value)),i);return yh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Th.create=(t,e)=>new Th({innerType:t,typeName:on.ZodReadonly,...vn(e)});function _F(t,e={},n){return t?Ld.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...d,fatal:u})}}):Ld.create()}const jH={object:kr.lazycreate};var on;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(on||(on={}));const AH=(t,e={message:`Input not instance of ${t.name}`})=>_F(n=>n instanceof t,e),SF=To.create,EF=Hl.create,PH=Nb.create,FH=Ql.create,NF=bh.create,DH=eu.create,LH=_b.create,MH=vh.create,$H=xh.create,BH=Ld.create,zH=Hc.create,WH=Wa.create,VH=Sb.create,UH=Oo.create,HH=kr.create,QH=kr.strictCreate,KH=wh.create,GH=Cv.create,JH=_h.create,ZH=aa.create,YH=Sh.create,XH=Eb.create,e9=tu.create,t9=Id.create,n9=Eh.create,r9=Nh.create,i9=Kl.create,s9=kh.create,o9=Md.create,qR=Ao.create,a9=Xo.create,l9=Gl.create,c9=Ao.createWithPreprocess,u9=lm.create,d9=()=>SF().optional(),f9=()=>EF().optional(),p9=()=>NF().optional(),h9={string:t=>To.create({...t,coerce:!0}),number:t=>Hl.create({...t,coerce:!0}),boolean:t=>bh.create({...t,coerce:!0}),bigint:t=>Ql.create({...t,coerce:!0}),date:t=>eu.create({...t,coerce:!0})},m9=an;var B=Object.freeze({__proto__:null,defaultErrorMap:Dd,setErrorMap:cH,getErrorMap:vb,makeIssue:xb,EMPTY_PATH:uH,addIssueToContext:It,ParseStatus:ki,INVALID:an,DIRTY:ld,OK:Mi,isAborted:hE,isDirty:mE,isValid:Xc,isAsync:yh,get util(){return On},get objectUtil(){return pE},ZodParsedType:jt,getParsedType:Aa,ZodType:_n,datetimeRegex:xF,ZodString:To,ZodNumber:Hl,ZodBigInt:Ql,ZodBoolean:bh,ZodDate:eu,ZodSymbol:_b,ZodUndefined:vh,ZodNull:xh,ZodAny:Ld,ZodUnknown:Hc,ZodNever:Wa,ZodVoid:Sb,ZodArray:Oo,ZodObject:kr,ZodUnion:wh,ZodDiscriminatedUnion:Cv,ZodIntersection:_h,ZodTuple:aa,ZodRecord:Sh,ZodMap:Eb,ZodSet:tu,ZodFunction:Id,ZodLazy:Eh,ZodLiteral:Nh,ZodEnum:Kl,ZodNativeEnum:kh,ZodPromise:Md,ZodEffects:Ao,ZodTransformer:Ao,ZodOptional:Xo,ZodNullable:Gl,ZodDefault:Ih,ZodCatch:Ch,ZodNaN:Nb,BRAND:qH,ZodBranded:MN,ZodPipeline:lm,ZodReadonly:Th,custom:_F,Schema:_n,ZodSchema:_n,late:jH,get ZodFirstPartyTypeKind(){return on},coerce:h9,any:BH,array:UH,bigint:FH,boolean:NF,date:DH,discriminatedUnion:GH,effect:qR,enum:i9,function:t9,instanceof:AH,intersection:JH,lazy:n9,literal:r9,map:XH,nan:PH,nativeEnum:s9,never:WH,null:$H,nullable:l9,number:EF,object:HH,oboolean:p9,onumber:f9,optional:a9,ostring:d9,pipeline:u9,preprocess:c9,promise:o9,record:YH,set:e9,strictObject:QH,string:SF,symbol:LH,transformer:qR,tuple:ZH,undefined:MH,union:KH,unknown:zH,void:VH,NEVER:m9,ZodIssueCode:yt,quotelessJson:lH,ZodError:Ts});const g9=B.object({page:B.number().gte(0,"Page must be greater than zero"),size:B.number().gte(1,"Page size must be greater than one to get any data")}),fs=B.object({id:B.string().min(1)}),$N=B.object({message:B.string()}),ps=B.object({id:B.string().optional(),idIn:B.array(B.string()).optional(),fulltext:B.string().optional()}),y9=B.enum(["asc","desc"]),qs=()=>B.union([B.boolean(),B.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),js=()=>B.union([B.number(),B.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t))]),Zp=()=>B.union([B.number().int(),B.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t))]),as=t=>B.string().transform(e=>JSON.parse(e)).refine(e=>Array.isArray(e)).transform(e=>B.array(t).parse(e)),b9=t=>B.string().transform(e=>JSON.parse(e)).transform(e=>t.parse(e)),yE=new Proxy(()=>yE,{get:()=>yE}),hs=({entity:t,shape:e,filter:n,sort:r})=>{const i=yE();return{entity:t,"~entity":i,"~entity-array":[],"~entity-partial-exclude-id":i,shape:e,"~shape":i,"~shape-partial":i,filter:n,"~filter":i,sort:B.array(B.object({name:B.enum(r),sort:y9})),"~sort":i,"~sort-keyof":i}},bl=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),v9=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:bl(1,i),start:[],end:[]};const o=Math.max(t-n,r),l=Math.min(t+n,i-r),u=o>r+2,d=l<i-(r+1);return!u&&d?{type:"end",page:t,total:e,start:[],pages:bl(1,n*2+r+2),end:bl(e-(r-1),i)}:u&&!d?{type:"start",page:t,total:e,start:bl(1,r),pages:bl(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:bl(1,r),pages:bl(o,l),end:bl(i-r+1,i)}};var Qu={},Ia={},rr={},vl={},jR;function kF(){if(jR)return vl;jR=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.anumber=t,vl.abytes=n,vl.ahash=r,vl.aexists=i,vl.aoutput=s;function t(o){if(!Number.isSafeInteger(o)||o<0)throw new Error("positive integer expected, got "+o)}function e(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function n(o,...l){if(!e(o))throw new Error("Uint8Array expected");if(l.length>0&&!l.includes(o.length))throw new Error("Uint8Array expected of length "+l+", got length="+o.length)}function r(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(o.outputLen),t(o.blockLen)}function i(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function s(o,l){n(o);const u=l.outputLen;if(o.length<u)throw new Error("digestInto() expects output buffer of length at least "+u)}return vl}var pn={},AR;function x9(){if(AR)return pn;AR=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.add5L=pn.add5H=pn.add4H=pn.add4L=pn.add3H=pn.add3L=pn.rotlBL=pn.rotlBH=pn.rotlSL=pn.rotlSH=pn.rotr32L=pn.rotr32H=pn.rotrBL=pn.rotrBH=pn.rotrSL=pn.rotrSH=pn.shrSL=pn.shrSH=pn.toBig=void 0,pn.fromBig=n,pn.split=r,pn.add=T;const t=BigInt(2**32-1),e=BigInt(32);function n(q,M=!1){return M?{h:Number(q&t),l:Number(q>>e&t)}:{h:Number(q>>e&t)|0,l:Number(q&t)|0}}function r(q,M=!1){let F=new Uint32Array(q.length),V=new Uint32Array(q.length);for(let U=0;U<q.length;U++){const{h:z,l:ee}=n(q[U],M);[F[U],V[U]]=[z,ee]}return[F,V]}const i=(q,M)=>BigInt(q>>>0)<<e|BigInt(M>>>0);pn.toBig=i;const s=(q,M,F)=>q>>>F;pn.shrSH=s;const o=(q,M,F)=>q<<32-F|M>>>F;pn.shrSL=o;const l=(q,M,F)=>q>>>F|M<<32-F;pn.rotrSH=l;const u=(q,M,F)=>q<<32-F|M>>>F;pn.rotrSL=u;const d=(q,M,F)=>q<<64-F|M>>>F-32;pn.rotrBH=d;const p=(q,M,F)=>q>>>F-32|M<<64-F;pn.rotrBL=p;const h=(q,M)=>M;pn.rotr32H=h;const b=(q,M)=>q;pn.rotr32L=b;const x=(q,M,F)=>q<<F|M>>>32-F;pn.rotlSH=x;const _=(q,M,F)=>M<<F|q>>>32-F;pn.rotlSL=_;const E=(q,M,F)=>M<<F-32|q>>>64-F;pn.rotlBH=E;const I=(q,M,F)=>q<<F-32|M>>>64-F;pn.rotlBL=I;function T(q,M,F,V){const U=(M>>>0)+(V>>>0);return{h:q+F+(U/2**32|0)|0,l:U|0}}const R=(q,M,F)=>(q>>>0)+(M>>>0)+(F>>>0);pn.add3L=R;const O=(q,M,F,V)=>M+F+V+(q/2**32|0)|0;pn.add3H=O;const A=(q,M,F,V)=>(q>>>0)+(M>>>0)+(F>>>0)+(V>>>0);pn.add4L=A;const D=(q,M,F,V,U)=>M+F+V+U+(q/2**32|0)|0;pn.add4H=D;const L=(q,M,F,V,U)=>(q>>>0)+(M>>>0)+(F>>>0)+(V>>>0)+(U>>>0);pn.add5L=L;const W=(q,M,F,V,U,z)=>M+F+V+U+z+(q/2**32|0)|0;pn.add5H=W;const P={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:l,rotrSL:u,rotrBH:d,rotrBL:p,rotr32H:h,rotr32L:b,rotlSH:x,rotlSL:_,rotlBH:E,rotlBL:I,add:T,add3L:R,add3H:O,add4L:A,add4H:D,add5H:W,add5L:L};return pn.default=P,pn}var Z_={},mp={},PR;function w9(){return PR||(PR=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.crypto=void 0,mp.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),mp}var FR;function _9(){return FR||(FR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.isLE=void 0,t.isBytes=r,t.u8=i,t.u32=s,t.createView=o,t.rotr=l,t.rotl=u,t.byteSwap=d,t.byteSwap32=p,t.bytesToHex=b,t.hexToBytes=E,t.asyncLoop=T,t.utf8ToBytes=R,t.toBytes=O,t.concatBytes=A,t.checkOpts=L,t.wrapConstructor=W,t.wrapConstructorWithOpts=P,t.wrapXOFConstructorWithOpts=q,t.randomBytes=M;const e=w9(),n=kF();function r(F){return F instanceof Uint8Array||ArrayBuffer.isView(F)&&F.constructor.name==="Uint8Array"}function i(F){return new Uint8Array(F.buffer,F.byteOffset,F.byteLength)}function s(F){return new Uint32Array(F.buffer,F.byteOffset,Math.floor(F.byteLength/4))}function o(F){return new DataView(F.buffer,F.byteOffset,F.byteLength)}function l(F,V){return F<<32-V|F>>>V}function u(F,V){return F<<V|F>>>32-V>>>0}t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;function d(F){return F<<24&0xff000000|F<<8&0xff0000|F>>>8&65280|F>>>24&255}t.byteSwapIfBE=t.isLE?F=>F:F=>d(F);function p(F){for(let V=0;V<F.length;V++)F[V]=d(F[V])}const h=Array.from({length:256},(F,V)=>V.toString(16).padStart(2,"0"));function b(F){(0,n.abytes)(F);let V="";for(let U=0;U<F.length;U++)V+=h[F[U]];return V}const x={_0:48,_9:57,A:65,F:70,a:97,f:102};function _(F){if(F>=x._0&&F<=x._9)return F-x._0;if(F>=x.A&&F<=x.F)return F-(x.A-10);if(F>=x.a&&F<=x.f)return F-(x.a-10)}function E(F){if(typeof F!="string")throw new Error("hex string expected, got "+typeof F);const V=F.length,U=V/2;if(V%2)throw new Error("hex string expected, got unpadded hex of length "+V);const z=new Uint8Array(U);for(let ee=0,Z=0;ee<U;ee++,Z+=2){const le=_(F.charCodeAt(Z)),se=_(F.charCodeAt(Z+1));if(le===void 0||se===void 0){const te=F[Z]+F[Z+1];throw new Error('hex string expected, got non-hex character "'+te+'" at index '+Z)}z[ee]=le*16+se}return z}const I=async()=>{};t.nextTick=I;async function T(F,V,U){let z=Date.now();for(let ee=0;ee<F;ee++){U(ee);const Z=Date.now()-z;Z>=0&&Z<V||(await (0,t.nextTick)(),z+=Z)}}function R(F){if(typeof F!="string")throw new Error("utf8ToBytes expected string, got "+typeof F);return new Uint8Array(new TextEncoder().encode(F))}function O(F){return typeof F=="string"&&(F=R(F)),(0,n.abytes)(F),F}function A(...F){let V=0;for(let z=0;z<F.length;z++){const ee=F[z];(0,n.abytes)(ee),V+=ee.length}const U=new Uint8Array(V);for(let z=0,ee=0;z<F.length;z++){const Z=F[z];U.set(Z,ee),ee+=Z.length}return U}class D{clone(){return this._cloneInto()}}t.Hash=D;function L(F,V){if(V!==void 0&&{}.toString.call(V)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(F,V)}function W(F){const V=z=>F().update(O(z)).digest(),U=F();return V.outputLen=U.outputLen,V.blockLen=U.blockLen,V.create=()=>F(),V}function P(F){const V=(z,ee)=>F(ee).update(O(z)).digest(),U=F({});return V.outputLen=U.outputLen,V.blockLen=U.blockLen,V.create=z=>F(z),V}function q(F){const V=(z,ee)=>F(ee).update(O(z)).digest(),U=F({});return V.outputLen=U.outputLen,V.blockLen=U.blockLen,V.create=z=>F(z),V}function M(F=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(F));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(F);throw new Error("crypto.getRandomValues must be defined")}}(Z_)),Z_}var DR;function S9(){if(DR)return rr;DR=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.shake256=rr.shake128=rr.keccak_512=rr.keccak_384=rr.keccak_256=rr.keccak_224=rr.sha3_512=rr.sha3_384=rr.sha3_256=rr.sha3_224=rr.Keccak=void 0,rr.keccakP=I;const t=kF(),e=x9(),n=_9(),r=[],i=[],s=[],o=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(7),p=BigInt(256),h=BigInt(113);for(let A=0,D=l,L=1,W=0;A<24;A++){[L,W]=[W,(2*L+3*W)%5],r.push(2*(5*W+L)),i.push((A+1)*(A+2)/2%64);let P=o;for(let q=0;q<7;q++)D=(D<<l^(D>>d)*h)%p,D&u&&(P^=l<<(l<<BigInt(q))-l);s.push(P)}const[b,x]=(0,e.split)(s,!0),_=(A,D,L)=>L>32?(0,e.rotlBH)(A,D,L):(0,e.rotlSH)(A,D,L),E=(A,D,L)=>L>32?(0,e.rotlBL)(A,D,L):(0,e.rotlSL)(A,D,L);function I(A,D=24){const L=new Uint32Array(10);for(let W=24-D;W<24;W++){for(let M=0;M<10;M++)L[M]=A[M]^A[M+10]^A[M+20]^A[M+30]^A[M+40];for(let M=0;M<10;M+=2){const F=(M+8)%10,V=(M+2)%10,U=L[V],z=L[V+1],ee=_(U,z,1)^L[F],Z=E(U,z,1)^L[F+1];for(let le=0;le<50;le+=10)A[M+le]^=ee,A[M+le+1]^=Z}let P=A[2],q=A[3];for(let M=0;M<24;M++){const F=i[M],V=_(P,q,F),U=E(P,q,F),z=r[M];P=A[z],q=A[z+1],A[z]=V,A[z+1]=U}for(let M=0;M<50;M+=10){for(let F=0;F<10;F++)L[F]=A[M+F];for(let F=0;F<10;F++)A[M+F]^=~L[(F+2)%10]&L[(F+4)%10]}A[0]^=b[W],A[1]^=x[W]}L.fill(0)}class T extends n.Hash{constructor(D,L,W,P=!1,q=24){if(super(),this.blockLen=D,this.suffix=L,this.outputLen=W,this.enableXOF=P,this.rounds=q,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(W),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),I(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(D){(0,t.aexists)(this);const{blockLen:L,state:W}=this;D=(0,n.toBytes)(D);const P=D.length;for(let q=0;q<P;){const M=Math.min(L-this.pos,P-q);for(let F=0;F<M;F++)W[this.pos++]^=D[q++];this.pos===L&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:D,suffix:L,pos:W,blockLen:P}=this;D[W]^=L,L&128&&W===P-1&&this.keccak(),D[P-1]^=128,this.keccak()}writeInto(D){(0,t.aexists)(this,!1),(0,t.abytes)(D),this.finish();const L=this.state,{blockLen:W}=this;for(let P=0,q=D.length;P<q;){this.posOut>=W&&this.keccak();const M=Math.min(W-this.posOut,q-P);D.set(L.subarray(this.posOut,this.posOut+M),P),this.posOut+=M,P+=M}return D}xofInto(D){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(D)}xof(D){return(0,t.anumber)(D),this.xofInto(new Uint8Array(D))}digestInto(D){if((0,t.aoutput)(D,this),this.finished)throw new Error("digest() was already called");return this.writeInto(D),this.destroy(),D}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(D){const{blockLen:L,suffix:W,outputLen:P,rounds:q,enableXOF:M}=this;return D||(D=new T(L,W,P,M,q)),D.state32.set(this.state32),D.pos=this.pos,D.posOut=this.posOut,D.finished=this.finished,D.rounds=q,D.suffix=W,D.outputLen=P,D.enableXOF=M,D.destroyed=this.destroyed,D}}rr.Keccak=T;const R=(A,D,L)=>(0,n.wrapConstructor)(()=>new T(D,A,L));rr.sha3_224=R(6,144,224/8),rr.sha3_256=R(6,136,256/8),rr.sha3_384=R(6,104,384/8),rr.sha3_512=R(6,72,512/8),rr.keccak_224=R(1,144,224/8),rr.keccak_256=R(1,136,256/8),rr.keccak_384=R(1,104,384/8),rr.keccak_512=R(1,72,512/8);const O=(A,D,L)=>(0,n.wrapXOFConstructorWithOpts)((W={})=>new T(D,A,W.dkLen===void 0?L:W.dkLen,!0));return rr.shake128=O(31,168,128/8),rr.shake256=O(31,136,256/8),rr}var LR;function E9(){if(LR)return Ia;LR=1;const{sha3_512:t}=S9(),e=24,n=32,r=(_=4,E=Math.random)=>{let I="";for(;I.length<_;)I=I+Math.floor(E()*36).toString(36);return I};function i(_){let E=8n,I=0n;for(const T of _.values()){const R=BigInt(T);I=(I<<E)+R}return I}const s=(_="")=>i(t(_)).toString(36).slice(1),o=Array.from({length:26},(_,E)=>String.fromCharCode(E+97)),l=_=>o[Math.floor(_()*o.length)],u=({globalObj:_=typeof Fc<"u"?Fc:typeof window<"u"?window:{},random:E=Math.random}={})=>{const I=Object.keys(_).toString(),T=I.length?I+r(n,E):r(n,E);return s(T).substring(0,n)},d=_=>()=>_++,p=0x1c6b1f1f,h=({random:_=Math.random,counter:E=d(Math.floor(_()*p)),length:I=e,fingerprint:T=u({random:_})}={})=>function(){const O=l(_),A=Date.now().toString(36),D=E().toString(36),L=r(I,_),W=`${A+L+D+T}`;return`${O+s(W).substring(1,I)}`},b=h(),x=(_,{minLength:E=2,maxLength:I=n}={})=>{const T=_.length,R=/^[0-9a-z]+$/;try{if(typeof _=="string"&&T>=E&&T<=I&&R.test(_))return!0}finally{}return!1};return Ia.getConstants=()=>({defaultLength:e,bigLength:n}),Ia.init=h,Ia.createId=b,Ia.bufToBigInt=i,Ia.createCounter=d,Ia.createFingerprint=u,Ia.isCuid=x,Ia}var MR;function N9(){if(MR)return Qu;MR=1;const{createId:t,init:e,getConstants:n,isCuid:r}=E9();return Qu.createId=t,Qu.init=e,Qu.getConstants=n,Qu.isCuid=r,Qu}var k9=N9();const Un=k9.createId;var Y_,$R;function I9(){if($R)return Y_;$R=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(R){R!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(O){try{var A=t.call(O);return i.test(A)}catch{return!1}},o=function(O){try{return s(O)?!1:(t.call(O),!0)}catch{return!1}},l=Object.prototype.toString,u="[object Object]",d="[object Function]",p="[object GeneratorFunction]",h="[object HTMLAllCollection]",b="[object HTML document.all class]",x="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,E=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var T=document.all;l.call(T)===l.call(document.all)&&(I=function(O){if((E||!O)&&(typeof O>"u"||typeof O=="object"))try{var A=l.call(O);return(A===h||A===b||A===x||A===u)&&O("")==null}catch{}return!1})}return Y_=e?function(O){if(I(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;try{e(O,null,n)}catch(A){if(A!==r)return!1}return!s(O)&&o(O)}:function(O){if(I(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;if(_)return o(O);if(s(O))return!1;var A=l.call(O);return A!==d&&A!==p&&!/^\[object HTML/.test(A)?!1:o(O)},Y_}var C9=I9();const T9=co(C9),R9=t=>T9(t);var ky={exports:{}},O9=ky.exports,BR;function q9(){return BR||(BR=1,function(t){(function(e,n){t.exports=n()})(O9,function(){var e=Object.prototype.toString;function n(h,b){return h==null?!1:Object.prototype.hasOwnProperty.call(h,b)}function r(h){if(!h||o(h)&&h.length===0)return!0;if(typeof h!="string"){for(var b in h)if(n(h,b))return!1;return!0}return!1}function i(h){return e.call(h)}function s(h){return typeof h=="object"&&i(h)==="[object Object]"}var o=Array.isArray||function(h){return e.call(h)==="[object Array]"};function l(h){return typeof h=="boolean"||i(h)==="[object Boolean]"}function u(h){var b=parseInt(h);return b.toString()===h?b:h}function d(h){h=h||{};var b=function(T){return Object.keys(b).reduce(function(R,O){return O==="create"||typeof b[O]=="function"&&(R[O]=b[O].bind(b,T)),R},{})},x;h.includeInheritedProps?x=function(){return!0}:x=function(T,R){return typeof R=="number"&&Array.isArray(T)||n(T,R)};function _(T,R){if(x(T,R))return T[R]}var E;h.includeInheritedProps?E=function(T,R){typeof R!="string"&&typeof R!="number"&&(R=String(R));var O=_(T,R);if(R==="__proto__"||R==="prototype"||R==="constructor"&&typeof O=="function")throw new Error("For security reasons, object's magic properties cannot be set");return O}:E=function(T,R){return _(T,R)};function I(T,R,O,A){if(typeof R=="number"&&(R=[R]),!R||R.length===0)return T;if(typeof R=="string")return I(T,R.split(".").map(u),O,A);var D=R[0],L=E(T,D);return R.length===1?((L===void 0||!A)&&(T[D]=O),L):(L===void 0&&(typeof R[1]=="number"?T[D]=[]:T[D]={}),I(T[D],R.slice(1),O,A))}return b.has=function(T,R){if(typeof R=="number"?R=[R]:typeof R=="string"&&(R=R.split(".")),!R||R.length===0)return!!T;for(var O=0;O<R.length;O++){var A=u(R[O]);if(typeof A=="number"&&o(T)&&A<T.length||(h.includeInheritedProps?A in Object(T):n(T,A)))T=T[A];else return!1}return!0},b.ensureExists=function(T,R,O){return I(T,R,O,!0)},b.set=function(T,R,O,A){return I(T,R,O,A)},b.insert=function(T,R,O,A){var D=b.get(T,R);A=~~A,o(D)||(D=[],b.set(T,R,D)),D.splice(A,0,O)},b.empty=function(T,R){if(!r(R)&&T!=null){var O,A;if(O=b.get(T,R)){if(typeof O=="string")return b.set(T,R,"");if(l(O))return b.set(T,R,!1);if(typeof O=="number")return b.set(T,R,0);if(o(O))O.length=0;else if(s(O))for(A in O)x(O,A)&&delete O[A];else return b.set(T,R,null)}}},b.push=function(T,R){var O=b.get(T,R);o(O)||(O=[],b.set(T,R,O)),O.push.apply(O,Array.prototype.slice.call(arguments,2))},b.coalesce=function(T,R,O){for(var A,D=0,L=R.length;D<L;D++)if((A=b.get(T,R[D]))!==void 0)return A;return O},b.get=function(T,R,O){if(typeof R=="number"&&(R=[R]),!R||R.length===0)return T;if(T==null)return O;if(typeof R=="string")return b.get(T,R.split("."),O);var A=u(R[0]),D=E(T,A);return D===void 0?O:R.length===1?D:b.get(T[A],R.slice(1),O)},b.del=function(R,O){if(typeof O=="number"&&(O=[O]),R==null||r(O))return R;if(typeof O=="string")return b.del(R,O.split("."));var A=u(O[0]);if(E(R,A),!x(R,A))return R;if(O.length===1)o(R)?R.splice(A,1):delete R[A];else return b.del(R[A],O.slice(1));return R},b}var p=d();return p.create=d,p.withInheritedProps=d({includeInheritedProps:!0}),p})}(ky)),ky.exports}var j9=q9();const zR=co(j9);function En({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const BN=({error:t,errors:e,onError:n})=>{const r=e.some(s=>s),i=t instanceof Error;return!r&&i&&n(t),r||i},IF=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),A9=gn({use:IF,slot:{},variant:{},defaults:{}}),P9=({icon:t,iconProps:e,variant:n,tva:r=A9,css:i,children:s,...o})=>{const l=r({...n,css:i}).slots;return f.jsxs("div",{className:l.base(),...o,children:[xv(t)?f.jsx(nn,{icon:t,...e}):t,s]})};function Tv(){return typeof window<"u"}function Xl(t){return CF(t)?(t.nodeName||"").toLowerCase():"#document"}function ls(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function la(t){var e;return(e=(CF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CF(t){return Tv()?t instanceof Node||t instanceof ls(t).Node:!1}function sr(t){return Tv()?t instanceof Element||t instanceof ls(t).Element:!1}function Jr(t){return Tv()?t instanceof HTMLElement||t instanceof ls(t).HTMLElement:!1}function bE(t){return!Tv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ls(t).ShadowRoot}function cm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=oo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function F9(t){return["table","td","th"].includes(Xl(t))}function Rv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function zN(t){const e=Ov(),n=sr(t)?oo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function D9(t){let e=Va(t);for(;Jr(e)&&!Da(e);){if(zN(e))return e;if(Rv(e))return null;e=Va(e)}return null}function Ov(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Da(t){return["html","body","#document"].includes(Xl(t))}function oo(t){return ls(t).getComputedStyle(t)}function qv(t){return sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Va(t){if(Xl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bE(t)&&t.host||la(t);return bE(e)?e.host:e}function TF(t){const e=Va(t);return Da(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&cm(e)?e:TF(e)}function Ll(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=TF(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ls(i);if(s){const l=vE(o);return e.concat(o,o.visualViewport||[],cm(i)?i:[],l&&n?Ll(l):[])}return e.concat(i,Ll(i,[],n))}function vE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function No(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function fi(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&bE(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function WN(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function RF(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function OF(t){return t.mozInputSource===0&&t.isTrusted?!0:xE()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function VN(t){return M9()?!1:!xE()&&t.width===0&&t.height===0||xE()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function qF(){return/apple/i.test(navigator.vendor)}function xE(){const t=/android/i;return t.test(WN())||t.test(RF())}function L9(){return WN().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function M9(){return RF().includes("jsdom/")}function Rh(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function $9(t){return"nativeEvent"in t}function B9(t){return t.matches("html,body")}function pi(t){return t?.ownerDocument||document}function X_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Rl(t){return"composedPath"in t?t.composedPath()[0]:t.target}const z9="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function UN(t){return Jr(t)&&t.matches(z9)}function qi(t){t.preventDefault(),t.stopPropagation()}function jF(t){return t?t.getAttribute("role")==="combobox"&&UN(t):!1}const $d=Math.min,Ss=Math.max,kb=Math.round,cd=Math.floor,ea=t=>({x:t,y:t}),W9={left:"right",right:"left",bottom:"top",top:"bottom"},V9={start:"end",end:"start"};function WR(t,e,n){return Ss(t,$d(e,n))}function um(t,e){return typeof t=="function"?t(e):t}function Jl(t){return t.split("-")[0]}function dm(t){return t.split("-")[1]}function AF(t){return t==="x"?"y":"x"}function PF(t){return t==="y"?"height":"width"}function nu(t){return["top","bottom"].includes(Jl(t))?"y":"x"}function FF(t){return AF(nu(t))}function U9(t,e,n){n===void 0&&(n=!1);const r=dm(t),i=FF(t),s=PF(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ib(o)),[o,Ib(o)]}function H9(t){const e=Ib(t);return[wE(t),e,wE(e)]}function wE(t){return t.replace(/start|end/g,e=>V9[e])}function Q9(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function K9(t,e,n,r){const i=dm(t);let s=Q9(Jl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(wE)))),s}function Ib(t){return t.replace(/left|right|bottom|top/g,e=>W9[e])}function G9(t){return{top:0,right:0,bottom:0,left:0,...t}}function J9(t){return typeof t!="number"?G9(t):{top:t,right:t,bottom:t,left:t}}function Cb(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var Z9=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Tb=Z9.join(","),DF=typeof Element>"u",Bd=DF?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Rb=!DF&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Ob=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},Y9=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},X9=function(e,n,r){if(Ob(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Tb));return n&&Bd.call(e,Tb)&&i.unshift(e),i=i.filter(r),i},eQ=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!Ob(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),u=l.length?l:o.children,d=t(u,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:o,candidates:d})}else{var p=Bd.call(o,Tb);p&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),b=!Ob(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&b){var x=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:o,candidates:x})}else s.unshift.apply(s,o.children)}}return i},LF=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},MF=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Y9(e))&&!LF(e)?0:e.tabIndex},tQ=function(e,n){var r=MF(e);return r<0&&n&&!LF(e)?0:r},nQ=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},$F=function(e){return e.tagName==="INPUT"},rQ=function(e){return $F(e)&&e.type==="hidden"},iQ=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},sQ=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},oQ=function(e){if(!e.name)return!0;var n=e.form||Rb(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=sQ(i,e.form);return!s||s===e},aQ=function(e){return $F(e)&&e.type==="radio"},lQ=function(e){return aQ(e)&&!oQ(e)},cQ=function(e){var n,r=e&&Rb(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,l,u;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!s&&i;){var d,p,h;r=Rb(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((p=i)!==null&&p!==void 0&&(h=p.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},VR=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},uQ=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Bd.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Bd.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var u=e.parentElement,d=Rb(e);if(u&&!u.shadowRoot&&i(u)===!0)return VR(e);e.assignedSlot?e=e.assignedSlot:!u&&d!==e.ownerDocument?e=d.host:e=u}e=l}if(cQ(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return VR(e);return!1},dQ=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Bd.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},fQ=function(e,n){return!(n.disabled||Ob(n)||rQ(n)||uQ(n,e)||iQ(n)||dQ(n))},_E=function(e,n){return!(lQ(n)||MF(n)<0||!fQ(e,n))},pQ=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},hQ=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,u=tQ(l,o),d=o?t(i.candidates):l;u===0?o?n.push.apply(n,d):n.push(l):r.push({documentOrder:s,tabIndex:u,item:i,isScope:o,content:d})}),r.sort(nQ).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},jv=function(e,n){n=n||{};var r;return n.getShadowRoot?r=eQ([e],n.includeContainer,{filter:_E.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:pQ}):r=X9(e,n.includeContainer,_E.bind(null,n)),hQ(r)},mQ=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Bd.call(e,Tb)===!1?!1:_E(n,e)};function UR(t,e,n){let{reference:r,floating:i}=t;const s=nu(e),o=FF(e),l=PF(o),u=Jl(e),d=s==="y",p=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(u){case"top":x={x:p,y:r.y-i.height};break;case"bottom":x={x:p,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(dm(e)){case"start":x[o]-=b*(n&&d?-1:1);break;case"end":x[o]+=b*(n&&d?-1:1);break}return x}const gQ=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await (o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:h}=UR(d,r,u),b=r,x={},_=0;for(let E=0;E<l.length;E++){const{name:I,fn:T}=l[E],{x:R,y:O,data:A,reset:D}=await T({x:p,y:h,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});p=R??p,h=O??h,x={...x,[I]:{...x[I],...A}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:p,y:h}=UR(d,b,u)),E=-1)}return{x:p,y:h,placement:b,strategy:i,middlewareData:x}};async function HN(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:b=!1,padding:x=0}=um(e,t),_=J9(x),I=l[b?h==="floating"?"reference":"floating":h],T=Cb(await s.getClippingRect({element:(n=await (s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await (s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:u})),R=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,O=await (s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await (s.isElement==null?void 0:s.isElement(O))?await (s.getScale==null?void 0:s.getScale(O))||{x:1,y:1}:{x:1,y:1},D=Cb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:O,strategy:u}):R);return{top:(T.top-D.top+_.top)/A.y,bottom:(D.bottom-T.bottom+_.bottom)/A.y,left:(T.left-D.left+_.left)/A.x,right:(D.right-T.right+_.right)/A.x}}const yQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...I}=um(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Jl(i),R=nu(l),O=Jl(l)===l,A=await (u.isRTL==null?void 0:u.isRTL(d.floating)),D=b||(O||!E?[Ib(l)]:H9(l)),L=_!=="none";!b&&L&&D.push(...K9(l,E,_,A));const W=[l,...D],P=await HN(e,I),q=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&q.push(P[T]),h){const z=U9(i,o,A);q.push(P[z[0]],P[z[1]])}if(M=[...M,{placement:i,overflows:q}],!q.every(z=>z<=0)){var F,V;const z=(((F=s.flip)==null?void 0:F.index)||0)+1,ee=W[z];if(ee)return{data:{index:z,overflows:M},reset:{placement:ee}};let Z=(V=M.filter(le=>le.overflows[0]<=0).sort((le,se)=>le.overflows[1]-se.overflows[1])[0])==null?void 0:V.placement;if(!Z)switch(x){case"bestFit":{var U;const le=(U=M.filter(se=>{if(L){const te=nu(se.placement);return te===R||te==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(te=>te>0).reduce((te,oe)=>te+oe,0)]).sort((se,te)=>se[1]-te[1])[0])==null?void 0:U[0];le&&(Z=le);break}case"initialPlacement":Z=l;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};async function bQ(t,e){const{placement:n,platform:r,elements:i}=t,s=await (r.isRTL==null?void 0:r.isRTL(i.floating)),o=Jl(n),l=dm(n),u=nu(n)==="y",d=["left","top"].includes(o)?-1:1,p=s&&u?-1:1,h=um(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof _=="number"&&(x=l==="end"?_*-1:_),u?{x:x*p,y:b*d}:{x:b*d,y:x*p}}const vQ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await bQ(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},xQ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:I=>{let{x:T,y:R}=I;return{x:T,y:R}}},...u}=um(t,e),d={x:n,y:r},p=await HN(e,u),h=nu(Jl(i)),b=AF(h);let x=d[b],_=d[h];if(s){const I=b==="y"?"top":"left",T=b==="y"?"bottom":"right",R=x+p[I],O=x-p[T];x=WR(R,x,O)}if(o){const I=h==="y"?"top":"left",T=h==="y"?"bottom":"right",R=_+p[I],O=_-p[T];_=WR(R,_,O)}const E=l.fn({...e,[b]:x,[h]:_});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[b]:s,[h]:o}}}}}},wQ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...d}=um(t,e),p=await HN(e,d),h=Jl(i),b=dm(i),x=nu(i)==="y",{width:_,height:E}=s.floating;let I,T;h==="top"||h==="bottom"?(I=h,T=b===(await (o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(T=h,I=b==="end"?"top":"bottom");const R=E-p.top-p.bottom,O=_-p.left-p.right,A=$d(E-p[I],R),D=$d(_-p[T],O),L=!e.middlewareData.shift;let W=A,P=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(W=R),L&&!b){const M=Ss(p.left,0),F=Ss(p.right,0),V=Ss(p.top,0),U=Ss(p.bottom,0);x?P=_-2*(M!==0||F!==0?M+F:Ss(p.left,p.right)):W=E-2*(V!==0||U!==0?V+U:Ss(p.top,p.bottom))}await u({...e,availableWidth:P,availableHeight:W});const q=await o.getDimensions(l.floating);return _!==q.width||E!==q.height?{reset:{rects:!0}}:{}}}};function BF(t){const e=oo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=kb(n)!==s||kb(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function QN(t){return sr(t)?t:t.contextElement}function Cd(t){const e=QN(t);if(!Jr(e))return ea(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=BF(e);let o=(s?kb(n.width):n.width)/r,l=(s?kb(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const _Q=ea(0);function zF(t){const e=ls(t);return!Ov()||!e.visualViewport?_Q:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SQ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ls(t)?!1:e}function ru(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=QN(t);let o=ea(1);e&&(r?sr(r)&&(o=Cd(r)):o=Cd(t));const l=SQ(s,n,r)?zF(s):ea(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,p=i.width/o.x,h=i.height/o.y;if(s){const b=ls(s),x=r&&sr(r)?ls(r):r;let _=b,E=vE(_);for(;E&&r&&x!==_;){const I=Cd(E),T=E.getBoundingClientRect(),R=oo(E),O=T.left+(E.clientLeft+parseFloat(R.paddingLeft))*I.x,A=T.top+(E.clientTop+parseFloat(R.paddingTop))*I.y;u*=I.x,d*=I.y,p*=I.x,h*=I.y,u+=O,d+=A,_=ls(E),E=vE(_)}}return Cb({width:p,height:h,x:u,y:d})}function KN(t,e){const n=qv(t).scrollLeft;return e?e.left+n:ru(la(t)).left+n}function WF(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:KN(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function EQ(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=la(r),l=e?Rv(e.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=ea(1);const p=ea(0),h=Jr(r);if((h||!h&&!s)&&((Xl(r)!=="body"||cm(o))&&(u=qv(r)),Jr(r))){const x=ru(r);d=Cd(r),p.x=x.x+r.clientLeft,p.y=x.y+r.clientTop}const b=o&&!h&&!s?WF(o,u,!0):ea(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+p.x+b.x,y:n.y*d.y-u.scrollTop*d.y+p.y+b.y}}function NQ(t){return Array.from(t.getClientRects())}function kQ(t){const e=la(t),n=qv(t),r=t.ownerDocument.body,i=Ss(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ss(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+KN(t);const l=-n.scrollTop;return oo(r).direction==="rtl"&&(o+=Ss(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function IQ(t,e){const n=ls(t),r=la(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const d=Ov();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function CQ(t,e){const n=ru(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Jr(t)?Cd(t):ea(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:o,height:l,x:u,y:d}}function HR(t,e,n){let r;if(e==="viewport")r=IQ(t,n);else if(e==="document")r=kQ(la(t));else if(sr(e))r=CQ(e,n);else{const i=zF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Cb(r)}function VF(t,e){const n=Va(t);return n===e||!sr(n)||Da(n)?!1:oo(n).position==="fixed"||VF(n,e)}function TQ(t,e){const n=e.get(t);if(n)return n;let r=Ll(t,[],!1).filter(l=>sr(l)&&Xl(l)!=="body"),i=null;const s=oo(t).position==="fixed";let o=s?Va(t):t;for(;sr(o)&&!Da(o);){const l=oo(o),u=zN(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cm(o)&&!u&&VF(t,o))?r=r.filter(p=>p!==o):i=l,o=Va(o)}return e.set(t,r),r}function RQ(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Rv(e)?[]:TQ(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,p)=>{const h=HR(e,p,i);return d.top=Ss(h.top,d.top),d.right=$d(h.right,d.right),d.bottom=$d(h.bottom,d.bottom),d.left=Ss(h.left,d.left),d},HR(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function OQ(t){const{width:e,height:n}=BF(t);return{width:e,height:n}}function qQ(t,e,n){const r=Jr(e),i=la(e),s=n==="fixed",o=ru(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=ea(0);if(r||!r&&!s)if((Xl(e)!=="body"||cm(i))&&(l=qv(e)),r){const b=ru(e,!0,s,e);u.x=b.x+e.clientLeft,u.y=b.y+e.clientTop}else i&&(u.x=KN(i));const d=i&&!r&&!s?WF(i,l):ea(0),p=o.left+l.scrollLeft-u.x-d.x,h=o.top+l.scrollTop-u.y-d.y;return{x:p,y:h,width:o.width,height:o.height}}function e0(t){return oo(t).position==="static"}function QR(t,e){if(!Jr(t)||oo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return la(t)===n&&(n=n.ownerDocument.body),n}function UF(t,e){const n=ls(t);if(Rv(t))return n;if(!Jr(t)){let i=Va(t);for(;i&&!Da(i);){if(sr(i)&&!e0(i))return i;i=Va(i)}return n}let r=QR(t,e);for(;r&&F9(r)&&e0(r);)r=QR(r,e);return r&&Da(r)&&e0(r)&&!zN(r)?n:r||D9(t)||n}const jQ=async function(t){const e=this.getOffsetParent||UF,n=this.getDimensions,r=await n(t.floating);return{reference:qQ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function AQ(t){return oo(t).direction==="rtl"}const PQ={convertOffsetParentRelativeRectToViewportRelativeRect:EQ,getDocumentElement:la,getClippingRect:RQ,getOffsetParent:UF,getElementRects:jQ,getClientRects:NQ,getDimensions:OQ,getScale:Cd,isElement:sr,isRTL:AQ};function HF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function FQ(t,e){let n=null,r;const i=la(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:p,top:h,width:b,height:x}=d;if(l||e(),!b||!x)return;const _=cd(h),E=cd(i.clientWidth-(p+b)),I=cd(i.clientHeight-(h+x)),T=cd(p),O={rootMargin:-_+"px "+-E+"px "+-I+"px "+-T+"px",threshold:Ss(0,$d(1,u))||1};let A=!0;function D(L){const W=L[0].intersectionRatio;if(W!==u){if(!A)return o();W?o(!1,W):r=setTimeout(()=>{o(!1,1e-7)},1e3)}W===1&&!HF(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(D,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,O)}n.observe(t)}return o(!0),s}function QF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=QN(t),p=i||s?[...d?Ll(d):[],...Ll(e)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const h=d&&l?FQ(d,n):null;let b=-1,x=null;o&&(x=new ResizeObserver(T=>{let[R]=T;R&&R.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=x)==null||O.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let _,E=u?ru(t):null;u&&I();function I(){const T=ru(t);E&&!HF(E,T)&&n(),E=T,_=requestAnimationFrame(I)}return n(),()=>{var T;p.forEach(R=>{i&&R.removeEventListener("scroll",n),s&&R.removeEventListener("resize",n)}),h?.(),(T=x)==null||T.disconnect(),x=null,u&&cancelAnimationFrame(_)}}const DQ=vQ,LQ=xQ,MQ=yQ,$Q=wQ,BQ=(t,e,n)=>{const r=new Map,i={platform:PQ,...n},s={...i.platform,_c:r};return gQ(t,e,{...i,platform:s})};var Iy=typeof document<"u"?K.useLayoutEffect:K.useEffect;function qb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qb(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!qb(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function KF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function KR(t,e){const n=KF(t);return Math.round(e*n)/n}function t0(t){const e=K.useRef(t);return Iy(()=>{e.current=t}),e}function zQ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[p,h]=K.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=K.useState(r);qb(b,r)||x(r);const[_,E]=K.useState(null),[I,T]=K.useState(null),R=K.useCallback(se=>{se!==L.current&&(L.current=se,E(se))},[]),O=K.useCallback(se=>{se!==W.current&&(W.current=se,T(se))},[]),A=s||_,D=o||I,L=K.useRef(null),W=K.useRef(null),P=K.useRef(p),q=u!=null,M=t0(u),F=t0(i),V=t0(d),U=K.useCallback(()=>{if(!L.current||!W.current)return;const se={placement:e,strategy:n,middleware:b};F.current&&(se.platform=F.current),BQ(L.current,W.current,se).then(te=>{const oe={...te,isPositioned:V.current!==!1};z.current&&!qb(P.current,oe)&&(P.current=oe,ov.flushSync(()=>{h(oe)}))})},[b,e,n,F,V]);Iy(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(se=>({...se,isPositioned:!1})))},[d]);const z=K.useRef(!1);Iy(()=>(z.current=!0,()=>{z.current=!1}),[]),Iy(()=>{if(A&&(L.current=A),D&&(W.current=D),A&&D){if(M.current)return M.current(A,D,U);U()}},[A,D,U,M,q]);const ee=K.useMemo(()=>({reference:L,floating:W,setReference:R,setFloating:O}),[R,O]),Z=K.useMemo(()=>({reference:A,floating:D}),[A,D]),le=K.useMemo(()=>{const se={position:n,left:0,top:0};if(!Z.floating)return se;const te=KR(Z.floating,p.x),oe=KR(Z.floating,p.y);return l?{...se,transform:"translate("+te+"px, "+oe+"px)",...KF(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:oe}},[n,l,Z.floating,p.x,p.y]);return K.useMemo(()=>({...p,update:U,refs:ee,elements:Z,floatingStyles:le}),[p,U,ee,Z,le])}const GF=(t,e)=>({...DQ(t),options:[t,e]}),WQ=(t,e)=>({...LQ(t),options:[t,e]}),JF=(t,e)=>({...MQ(t),options:[t,e]}),VQ=(t,e)=>({...$Q(t),options:[t,e]});function GR(t){return K.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const ZF={...oB},UQ=ZF.useInsertionEffect,HQ=UQ||(t=>t());function Pi(t){const e=K.useRef(()=>{});return HQ(()=>{e.current=t}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const GN="ArrowUp",fm="ArrowDown",Ml="ArrowLeft",$l="ArrowRight";function zg(t,e,n){return Math.floor(t/e)!==n}function Yp(t,e){return e<0||e>=t.current.length}function n0(t,e){return xi(t,{disabledIndices:e})}function JR(t,e){return xi(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function xi(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e;const o=t.current;let l=n;do l+=r?-s:s;while(l>=0&&l<=o.length-1&&Cy(o,l,i));return l}function QQ(t,e){let{event:n,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:l,minIndex:u,maxIndex:d,prevIndex:p,stopEvent:h=!1}=e,b=p;if(n.key===GN){if(h&&qi(n),p===-1)b=d;else if(b=xi(t,{startingIndex:b,amount:o,decrement:!0,disabledIndices:l}),i&&(p-o<u||b<0)){const x=p%o,_=d%o,E=d-(_-x);_===x?b=d:b=_>x?E:E-o}Yp(t,b)&&(b=p)}if(n.key===fm&&(h&&qi(n),p===-1?b=u:(b=xi(t,{startingIndex:p,amount:o,disabledIndices:l}),i&&p+o>d&&(b=xi(t,{startingIndex:p%o-o,amount:o,disabledIndices:l}))),Yp(t,b)&&(b=p)),r==="both"){const x=cd(p/o);n.key===(s?Ml:$l)&&(h&&qi(n),p%o!==o-1?(b=xi(t,{startingIndex:p,disabledIndices:l}),i&&zg(b,o,x)&&(b=xi(t,{startingIndex:p-p%o-1,disabledIndices:l}))):i&&(b=xi(t,{startingIndex:p-p%o-1,disabledIndices:l})),zg(b,o,x)&&(b=p)),n.key===(s?$l:Ml)&&(h&&qi(n),p%o!==0?(b=xi(t,{startingIndex:p,decrement:!0,disabledIndices:l}),i&&zg(b,o,x)&&(b=xi(t,{startingIndex:p+(o-p%o),decrement:!0,disabledIndices:l}))):i&&(b=xi(t,{startingIndex:p+(o-p%o),decrement:!0,disabledIndices:l})),zg(b,o,x)&&(b=p));const _=cd(d/o)===x;Yp(t,b)&&(i&&_?b=n.key===(s?$l:Ml)?d:xi(t,{startingIndex:p-p%o-1,disabledIndices:l}):b=p)}return b}function KQ(t,e,n){const r=[];let i=0;return t.forEach((s,o)=>{let{width:l,height:u}=s,d=!1;for(n&&(i=0);!d;){const p=[];for(let h=0;h<l;h++)for(let b=0;b<u;b++)p.push(i+h+b*e);i%e+l<=e&&p.every(h=>r[h]==null)?(p.forEach(h=>{r[h]=o}),d=!0):i++}}),[...r]}function GQ(t,e,n,r,i){if(t===-1)return-1;const s=n.indexOf(t),o=e[t];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return n.lastIndexOf(t)}}function JQ(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function Cy(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var mr=typeof document<"u"?K.useLayoutEffect:K.useEffect;let ZR=!1,ZQ=0;const YR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZQ++;function YQ(){const[t,e]=K.useState(()=>ZR?YR():void 0);return mr(()=>{t==null&&e(YR())},[]),K.useEffect(()=>{ZR=!0},[]),t}const XQ=ZF.useId,JN=XQ||YQ;function YF(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const XF=K.createContext(null),eD=K.createContext(null),pm=()=>{var t;return((t=K.useContext(XF))==null?void 0:t.id)||null},df=()=>K.useContext(eD);function e7(t){const e=JN(),n=df(),i=pm();return mr(()=>{if(!e)return;const s={id:e,parentId:i};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,e,i]),e}function t7(t){const{children:e,id:n}=t,r=pm();return f.jsx(XF.Provider,{value:K.useMemo(()=>({id:n,parentId:r}),[n,r]),children:e})}function n7(t){const{children:e}=t,n=K.useRef([]),r=K.useCallback(o=>{n.current=[...n.current,o]},[]),i=K.useCallback(o=>{n.current=n.current.filter(l=>l!==o)},[]),s=K.useState(()=>YF())[0];return f.jsx(eD.Provider,{value:K.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:s}),[r,i,s]),children:e})}function iu(t){return"data-floating-ui-"+t}function Fi(t){const e=K.useRef(t);return mr(()=>{e.current=t}),e}const XR=iu("safe-polygon");function r0(t,e,n){return n&&!Rh(n)?0:typeof t=="number"?t:t?.[e]}function r7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:l=!0,delay:u=0,handleClose:d=null,mouseOnly:p=!1,restMs:h=0,move:b=!0}=e,x=df(),_=pm(),E=Fi(d),I=Fi(u),T=Fi(n),R=K.useRef(),O=K.useRef(-1),A=K.useRef(),D=K.useRef(-1),L=K.useRef(!0),W=K.useRef(!1),P=K.useRef(()=>{}),q=K.useRef(!1),M=K.useCallback(()=>{var le;const se=(le=i.current.openEvent)==null?void 0:le.type;return se?.includes("mouse")&&se!=="mousedown"},[i]);K.useEffect(()=>{if(!l)return;function le(se){let{open:te}=se;te||(clearTimeout(O.current),clearTimeout(D.current),L.current=!0,q.current=!1)}return s.on("openchange",le),()=>{s.off("openchange",le)}},[l,s]),K.useEffect(()=>{if(!l||!E.current||!n)return;function le(te){M()&&r(!1,te,"hover")}const se=pi(o.floating).documentElement;return se.addEventListener("mouseleave",le),()=>{se.removeEventListener("mouseleave",le)}},[o.floating,n,r,l,E,M]);const F=K.useCallback(function(le,se,te){se===void 0&&(se=!0),te===void 0&&(te="hover");const oe=r0(I.current,"close",R.current);oe&&!A.current?(clearTimeout(O.current),O.current=window.setTimeout(()=>r(!1,le,te),oe)):se&&(clearTimeout(O.current),r(!1,le,te))},[I,r]),V=Pi(()=>{P.current(),A.current=void 0}),U=Pi(()=>{if(W.current){const le=pi(o.floating).body;le.style.pointerEvents="",le.removeAttribute(XR),W.current=!1}}),z=Pi(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);K.useEffect(()=>{if(!l)return;function le(X){if(clearTimeout(O.current),L.current=!1,p&&!Rh(R.current)||h>0&&!r0(I.current,"open"))return;const ue=r0(I.current,"open",R.current);ue?O.current=window.setTimeout(()=>{T.current||r(!0,X,"hover")},ue):n||r(!0,X,"hover")}function se(X){if(z())return;P.current();const ue=pi(o.floating);if(clearTimeout(D.current),q.current=!1,E.current&&i.current.floatingContext){n||clearTimeout(O.current),A.current=E.current({...i.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){U(),V(),z()||F(X,!0,"safe-polygon")}});const ye=A.current;ue.addEventListener("mousemove",ye),P.current=()=>{ue.removeEventListener("mousemove",ye)};return}(R.current==="touch"?!fi(o.floating,X.relatedTarget):!0)&&F(X)}function te(X){z()||i.current.floatingContext&&(E.current==null||E.current({...i.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){U(),V(),z()||F(X)}})(X))}if(sr(o.domReference)){var oe;const X=o.domReference;return n&&X.addEventListener("mouseleave",te),(oe=o.floating)==null||oe.addEventListener("mouseleave",te),b&&X.addEventListener("mousemove",le,{once:!0}),X.addEventListener("mouseenter",le),X.addEventListener("mouseleave",se),()=>{var ue;n&&X.removeEventListener("mouseleave",te),(ue=o.floating)==null||ue.removeEventListener("mouseleave",te),b&&X.removeEventListener("mousemove",le),X.removeEventListener("mouseenter",le),X.removeEventListener("mouseleave",se)}}},[o,l,t,p,h,b,F,V,U,r,n,T,x,I,E,i,z]),mr(()=>{var le;if(l&&n&&(le=E.current)!=null&&le.__options.blockPointerEvents&&M()){W.current=!0;const te=o.floating;if(sr(o.domReference)&&te){var se;const oe=pi(o.floating).body;oe.setAttribute(XR,"");const X=o.domReference,ue=x==null||(se=x.nodesRef.current.find(de=>de.id===_))==null||(se=se.context)==null?void 0:se.elements.floating;return ue&&(ue.style.pointerEvents=""),oe.style.pointerEvents="none",X.style.pointerEvents="auto",te.style.pointerEvents="auto",()=>{oe.style.pointerEvents="",X.style.pointerEvents="",te.style.pointerEvents=""}}}},[l,n,_,o,x,E,M]),mr(()=>{n||(R.current=void 0,q.current=!1,V(),U())},[n,V,U]),K.useEffect(()=>()=>{V(),clearTimeout(O.current),clearTimeout(D.current),U()},[l,o.domReference,V,U]);const ee=K.useMemo(()=>{function le(se){R.current=se.pointerType}return{onPointerDown:le,onPointerEnter:le,onMouseMove(se){const{nativeEvent:te}=se;function oe(){!L.current&&!T.current&&r(!0,te,"hover")}p&&!Rh(R.current)||n||h===0||q.current&&se.movementX**2+se.movementY**2<2||(clearTimeout(D.current),R.current==="touch"?oe():(q.current=!0,D.current=window.setTimeout(oe,h)))}}},[p,r,n,T,h]),Z=K.useMemo(()=>({onMouseEnter(){clearTimeout(O.current)},onMouseLeave(le){z()||F(le.nativeEvent,!1)}}),[F,z]);return K.useMemo(()=>l?{reference:ee,floating:Z}:{},[l,ee,Z])}let eO=0;function Rc(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(eO);const s=()=>t?.focus({preventScroll:n});i?s():eO=requestAnimationFrame(s)}function tO(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s?.parentId,s&&(r=r.concat(s))}return r}function Td(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var l;return i.parentId===o.id&&((l=i.context)==null?void 0:l.open)})}),n=n.concat(r);return n}function i7(t,e){let n,r=-1;function i(s,o){o>r&&(n=s,r=o),Td(t,s).forEach(u=>{i(u.id,o+1)})}return i(e,0),t.find(s=>s.id===n)}let Ku=new WeakMap,Wg=new WeakSet,Vg={},i0=0;const s7=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,tD=t=>t&&(t.host||tD(t.parentNode)),o7=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=tD(n);return t.contains(r)?r:null}).filter(n=>n!=null);function a7(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=o7(e,t),l=new Set,u=new Set(o),d=[];Vg[i]||(Vg[i]=new WeakMap);const p=Vg[i];o.forEach(h),b(e),l.clear();function h(x){!x||l.has(x)||(l.add(x),x.parentNode&&h(x.parentNode))}function b(x){!x||u.has(x)||[].forEach.call(x.children,_=>{if(Xl(_)!=="script")if(l.has(_))b(_);else{const E=s?_.getAttribute(s):null,I=E!==null&&E!=="false",T=Ku.get(_)||0,R=s?T+1:T,O=(p.get(_)||0)+1;Ku.set(_,R),p.set(_,O),d.push(_),R===1&&I&&Wg.add(_),O===1&&_.setAttribute(i,""),!I&&s&&_.setAttribute(s,"true")}})}return i0++,()=>{d.forEach(x=>{const _=Ku.get(x)||0,E=s?_-1:_,I=(p.get(x)||0)-1;Ku.set(x,E),p.set(x,I),E||(!Wg.has(x)&&s&&x.removeAttribute(s),Wg.delete(x)),I||x.removeAttribute(i)}),i0--,i0||(Ku=new WeakMap,Ku=new WeakMap,Wg=new WeakSet,Vg={})}}function nO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=pi(t[0]).body;return a7(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const Av=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function nD(t,e){const n=jv(t,Av());e==="prev"&&n.reverse();const r=n.indexOf(No(pi(t)));return n.slice(r+1)[0]}function rD(){return nD(document.body,"next")}function iD(){return nD(document.body,"prev")}function Xp(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!fi(n,r)}function l7(t){jv(t,Av()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function rO(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Pv={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let c7;function iO(t){t.key==="Tab"&&(t.target,clearTimeout(c7))}const jb=K.forwardRef(function(e,n){const[r,i]=K.useState();mr(()=>(qF()&&i("button"),document.addEventListener("keydown",iO),()=>{document.removeEventListener("keydown",iO)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[iu("focus-guard")]:"",style:Pv};return f.jsx("span",{...e,...s})}),sD=K.createContext(null),sO=iu("portal");function u7(t){t===void 0&&(t={});const{id:e,root:n}=t,r=JN(),i=oD(),[s,o]=K.useState(null),l=K.useRef(null);return mr(()=>()=>{s?.remove(),queueMicrotask(()=>{l.current=null})},[s]),mr(()=>{if(!r||l.current)return;const u=e?document.getElementById(e):null;if(!u)return;const d=document.createElement("div");d.id=r,d.setAttribute(sO,""),u.appendChild(d),l.current=d,o(d)},[e,r]),mr(()=>{if(n===null||!r||l.current)return;let u=n||i?.portalNode;u&&!sr(u)&&(u=u.current),u=u||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,u.appendChild(d));const p=document.createElement("div");p.id=r,p.setAttribute(sO,""),u=d||u,u.appendChild(p),l.current=p,o(p)},[e,n,r,i]),s}function ZN(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,s=u7({id:n,root:r}),[o,l]=K.useState(null),u=K.useRef(null),d=K.useRef(null),p=K.useRef(null),h=K.useRef(null),b=o?.modal,x=o?.open,_=!!o&&!o.modal&&o.open&&i&&!!(r||s);return K.useEffect(()=>{if(!s||!i||b)return;function E(I){s&&Xp(I)&&(I.type==="focusin"?rO:l7)(s)}return s.addEventListener("focusin",E,!0),s.addEventListener("focusout",E,!0),()=>{s.removeEventListener("focusin",E,!0),s.removeEventListener("focusout",E,!0)}},[s,i,b]),K.useEffect(()=>{s&&(x||rO(s))},[x,s]),f.jsxs(sD.Provider,{value:K.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:p,afterInsideRef:h,portalNode:s,setFocusManagerState:l}),[i,s]),children:[_&&s&&f.jsx(jb,{"data-type":"outside",ref:u,onFocus:E=>{if(Xp(E,s)){var I;(I=p.current)==null||I.focus()}else{const T=iD()||o?.domReference;T?.focus()}}}),_&&s&&f.jsx("span",{"aria-owns":s.id,style:Pv}),s&&ov.createPortal(e,s),_&&s&&f.jsx(jb,{"data-type":"outside",ref:d,onFocus:E=>{if(Xp(E,s)){var I;(I=h.current)==null||I.focus()}else{const T=rD()||o?.domReference;T?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,E.nativeEvent,"focus-out")}}})]})}const oD=()=>K.useContext(sD),SE="data-floating-ui-focusable";function EE(t){return t?t.hasAttribute(SE)?t:t.querySelector("["+SE+"]")||t:null}const d7=20;let Oc=[];function s0(t){Oc=Oc.filter(e=>e.isConnected),t&&Xl(t)!=="body"&&(Oc.push(t),Oc.length>d7&&(Oc=Oc.slice(-20)))}function oO(){return Oc.slice().reverse().find(t=>t.isConnected)}function f7(t){const e=Av();return mQ(t,e)?t:jv(t,e)[0]||t}const p7=K.forwardRef(function(e,n){return f.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:Pv})});function aD(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:u=!1,modal:d=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:h=!0,outsideElementsInert:b=!1}=t,{open:x,onOpenChange:_,events:E,dataRef:I,elements:{domReference:T,floating:R}}=e,O=Pi(()=>{var De;return(De=I.current.floatingContext)==null?void 0:De.nodeId}),A=typeof o=="number"&&o<0,D=jF(T)&&A,L=s7(),W=L?s:!0,P=!W||L&&b,q=Fi(i),M=Fi(o),F=Fi(l),V=df(),U=oD(),z=K.useRef(null),ee=K.useRef(null),Z=K.useRef(!1),le=K.useRef(!1),se=K.useRef(-1),te=U!=null,oe=EE(R),X=Pi(function(De){return De===void 0&&(De=oe),De?jv(De,Av()):[]}),ue=Pi(De=>{const Je=X(De);return q.current.map(Xe=>T&&Xe==="reference"?T:oe&&Xe==="floating"?oe:Je).filter(Boolean).flat()});K.useEffect(()=>{if(r||!d)return;function De(Xe){if(Xe.key==="Tab"){fi(oe,No(pi(oe)))&&X().length===0&&!D&&qi(Xe);const Ve=ue(),ct=Rl(Xe);q.current[0]==="reference"&&ct===T&&(qi(Xe),Xe.shiftKey?Rc(Ve[Ve.length-1]):Rc(Ve[1])),q.current[1]==="floating"&&ct===oe&&Xe.shiftKey&&(qi(Xe),Rc(Ve[0]))}}const Je=pi(oe);return Je.addEventListener("keydown",De),()=>{Je.removeEventListener("keydown",De)}},[r,T,oe,d,q,D,X,ue]),K.useEffect(()=>{if(r||!R)return;function De(Je){const Xe=Rl(Je),ct=X().indexOf(Xe);ct!==-1&&(se.current=ct)}return R.addEventListener("focusin",De),()=>{R.removeEventListener("focusin",De)}},[r,R,X]),K.useEffect(()=>{if(r||!h)return;function De(){le.current=!0,setTimeout(()=>{le.current=!1})}function Je(Xe){const Ve=Xe.relatedTarget;queueMicrotask(()=>{const ct=O(),_t=!(fi(T,Ve)||fi(R,Ve)||fi(Ve,R)||fi(U?.portalNode,Ve)||Ve!=null&&Ve.hasAttribute(iu("focus-guard"))||V&&(Td(V.nodesRef.current,ct).find(Tt=>{var Ut,tn;return fi((Ut=Tt.context)==null?void 0:Ut.elements.floating,Ve)||fi((tn=Tt.context)==null?void 0:tn.elements.domReference,Ve)})||tO(V.nodesRef.current,ct).find(Tt=>{var Ut,tn,xe;return[(Ut=Tt.context)==null?void 0:Ut.elements.floating,EE((tn=Tt.context)==null?void 0:tn.elements.floating)].includes(Ve)||((xe=Tt.context)==null?void 0:xe.elements.domReference)===Ve})));if(u&&_t&&No(pi(oe))===pi(oe).body){Jr(oe)&&oe.focus();const Tt=se.current,Ut=X(),tn=Ut[Tt]||Ut[Ut.length-1]||oe;Jr(tn)&&tn.focus()}(D||!d)&&Ve&&_t&&!le.current&&Ve!==oO()&&(Z.current=!0,_(!1,Xe,"focus-out"))})}if(R&&Jr(T))return T.addEventListener("focusout",Je),T.addEventListener("pointerdown",De),R.addEventListener("focusout",Je),()=>{T.removeEventListener("focusout",Je),T.removeEventListener("pointerdown",De),R.removeEventListener("focusout",Je)}},[r,T,R,oe,d,V,U,_,h,u,X,D,O]);const de=K.useRef(null),ye=K.useRef(null),we=GR([de,U?.beforeInsideRef]),Ne=GR([ye,U?.afterInsideRef]);K.useEffect(()=>{var De;if(r||!R)return;const Je=Array.from((U==null||(De=U.portalNode)==null?void 0:De.querySelectorAll("["+iu("portal")+"]"))||[]),Xe=V&&!d?tO(V?.nodesRef.current,O()).map(_t=>{var Tt;return(Tt=_t.context)==null?void 0:Tt.elements.floating}):[],Ve=[R,...Je,...Xe,z.current,ee.current,de.current,ye.current,U?.beforeOutsideRef.current,U?.afterOutsideRef.current,q.current.includes("reference")||D?T:null].filter(_t=>_t!=null),ct=d||D?nO(Ve,!P,P):nO(Ve);return()=>{ct()}},[r,T,R,d,q,U,D,W,P,V,O]),mr(()=>{if(r||!Jr(oe))return;const De=pi(oe),Je=No(De);queueMicrotask(()=>{const Xe=ue(oe),Ve=M.current,ct=(typeof Ve=="number"?Xe[Ve]:Ve.current)||oe,_t=fi(oe,Je);!A&&!_t&&x&&Rc(ct,{preventScroll:ct===oe})})},[r,x,oe,A,ue,M]),mr(()=>{if(r||!oe)return;let De=!1;const Je=pi(oe),Xe=No(Je);let ct=I.current.openEvent;s0(Xe);function _t(tn){let{open:xe,reason:be,event:ke,nested:Ae}=tn;xe&&(ct=ke),be==="escape-key"&&T&&s0(T),["hover","safe-polygon"].includes(be)&&ke.type==="mouseleave"&&(Z.current=!0),be==="outside-press"&&(Ae?(Z.current=!1,De=!0):Z.current=!(OF(ke)||VN(ke)))}E.on("openchange",_t);const Tt=Je.createElement("span");Tt.setAttribute("tabindex","-1"),Tt.setAttribute("aria-hidden","true"),Object.assign(Tt.style,Pv),te&&T&&T.insertAdjacentElement("afterend",Tt);function Ut(){return typeof F.current=="boolean"?oO()||Tt:F.current.current||Tt}return()=>{E.off("openchange",_t);const tn=No(Je),xe=fi(R,tn)||V&&Td(V.nodesRef.current,O()).some(Ae=>{var Ue;return fi((Ue=Ae.context)==null?void 0:Ue.elements.floating,tn)});(xe||ct&&["click","mousedown"].includes(ct.type))&&T&&s0(T);const ke=Ut();queueMicrotask(()=>{const Ae=f7(ke);F.current&&!Z.current&&Jr(Ae)&&(!(Ae!==tn&&tn!==Je.body)||xe)&&Ae.focus({preventScroll:De}),Tt.remove()})}},[r,R,oe,F,I,E,V,te,T,O]),K.useEffect(()=>{queueMicrotask(()=>{Z.current=!1})},[r]),mr(()=>{if(!r&&U)return U.setFocusManagerState({modal:d,closeOnFocusOut:h,open:x,onOpenChange:_,domReference:T}),()=>{U.setFocusManagerState(null)}},[r,U,d,x,_,h,T]),mr(()=>{if(r||!oe||typeof MutationObserver!="function"||A)return;const De=()=>{const Xe=oe.getAttribute("tabindex"),Ve=X(),ct=No(pi(R)),_t=Ve.indexOf(ct);_t!==-1&&(se.current=_t),q.current.includes("floating")||ct!==T&&Ve.length===0?Xe!=="0"&&oe.setAttribute("tabindex","0"):Xe!=="-1"&&oe.setAttribute("tabindex","-1")};De();const Je=new MutationObserver(De);return Je.observe(oe,{childList:!0,subtree:!0,attributes:!0}),()=>{Je.disconnect()}},[r,R,oe,T,q,X,A]);function ze(De){return r||!p||!d?null:f.jsx(p7,{ref:De==="start"?z:ee,onClick:Je=>_(!1,Je.nativeEvent),children:typeof p=="string"?p:"Dismiss"})}const Oe=!r&&W&&(d?!D:!0)&&(te||d);return f.jsxs(f.Fragment,{children:[Oe&&f.jsx(jb,{"data-type":"inside",ref:we,onFocus:De=>{if(d){const Xe=ue();Rc(i[0]==="reference"?Xe[0]:Xe[Xe.length-1])}else if(U!=null&&U.preserveTabOrder&&U.portalNode)if(Z.current=!1,Xp(De,U.portalNode)){const Xe=rD()||T;Xe?.focus()}else{var Je;(Je=U.beforeOutsideRef.current)==null||Je.focus()}}}),!D&&ze("start"),n,ze("end"),Oe&&f.jsx(jb,{"data-type":"inside",ref:Ne,onFocus:De=>{if(d)Rc(ue()[0]);else if(U!=null&&U.preserveTabOrder&&U.portalNode)if(h&&(Z.current=!0),Xp(De,U.portalNode)){const Xe=iD()||T;Xe?.focus()}else{var Je;(Je=U.afterOutsideRef.current)==null||Je.focus()}}})]})}let Ug=0;function h7(){const t=/iP(hone|ad|od)|iOS/.test(WN()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=e.left?parseFloat(e.left):window.scrollX,o=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var l,u;const d=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,p=((u=window.visualViewport)==null?void 0:u.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(o-Math.floor(p))+"px",left:-(s-Math.floor(d))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o))}}let aO=()=>{};const m7=K.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return mr(()=>{if(r)return Ug++,Ug===1&&(aO=h7()),()=>{Ug--,Ug===0&&aO()}},[r]),f.jsx("div",{ref:n,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});function lO(t){return Jr(t.target)&&t.target.tagName==="BUTTON"}function cO(t){return UN(t)}function YN(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:l="click",toggle:u=!0,ignoreMouse:d=!1,keyboardHandlers:p=!0,stickIfOpen:h=!0}=e,b=K.useRef(),x=K.useRef(!1),_=K.useMemo(()=>({onPointerDown(E){b.current=E.pointerType},onMouseDown(E){const I=b.current;E.button===0&&l!=="click"&&(Rh(I,!0)&&d||(n&&u&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="mousedown")?r(!1,E.nativeEvent,"click"):(E.preventDefault(),r(!0,E.nativeEvent,"click"))))},onClick(E){const I=b.current;if(l==="mousedown"&&b.current){b.current=void 0;return}Rh(I,!0)&&d||(n&&u&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="click")?r(!1,E.nativeEvent,"click"):r(!0,E.nativeEvent,"click"))},onKeyDown(E){b.current=void 0,!(E.defaultPrevented||!p||lO(E))&&(E.key===" "&&!cO(s)&&(E.preventDefault(),x.current=!0),E.key==="Enter"&&r(!(n&&u),E.nativeEvent,"click"))},onKeyUp(E){E.defaultPrevented||!p||lO(E)||cO(s)||E.key===" "&&x.current&&(x.current=!1,r(!(n&&u),E.nativeEvent,"click"))}}),[i,s,l,d,p,r,n,h,u]);return K.useMemo(()=>o?{reference:_}:{},[o,_])}const g7={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},y7={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},uO=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function XN(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:p=!1,referencePressEvent:h="pointerdown",ancestorScroll:b=!1,bubbles:x,capture:_}=e,E=df(),I=Pi(typeof u=="function"?u:()=>!1),T=typeof u=="function"?I:u,R=K.useRef(!1),O=K.useRef(!1),{escapeKey:A,outsidePress:D}=uO(x),{escapeKey:L,outsidePress:W}=uO(_),P=K.useRef(!1),q=Pi(ee=>{var Z;if(!n||!o||!l||ee.key!=="Escape"||P.current)return;const le=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,se=E?Td(E.nodesRef.current,le):[];if(!A&&(ee.stopPropagation(),se.length>0)){let te=!0;if(se.forEach(oe=>{var X;if((X=oe.context)!=null&&X.open&&!oe.context.dataRef.current.__escapeKeyBubbles){te=!1;return}}),!te)return}r(!1,$9(ee)?ee.nativeEvent:ee,"escape-key")}),M=Pi(ee=>{var Z;const le=()=>{var se;q(ee),(se=Rl(ee))==null||se.removeEventListener("keydown",le)};(Z=Rl(ee))==null||Z.addEventListener("keydown",le)}),F=Pi(ee=>{var Z;const le=R.current;R.current=!1;const se=O.current;if(O.current=!1,d==="click"&&se||le||typeof T=="function"&&!T(ee))return;const te=Rl(ee),oe="["+iu("inert")+"]",X=pi(i.floating).querySelectorAll(oe);let ue=sr(te)?te:null;for(;ue&&!Da(ue);){const Ne=Va(ue);if(Da(Ne)||!sr(Ne))break;ue=Ne}if(X.length&&sr(te)&&!B9(te)&&!fi(te,i.floating)&&Array.from(X).every(Ne=>!fi(ue,Ne)))return;if(Jr(te)&&z){const Ne=Da(te),ze=oo(te),Oe=/auto|scroll/,De=Ne||Oe.test(ze.overflowX),Je=Ne||Oe.test(ze.overflowY),Xe=De&&te.clientWidth>0&&te.scrollWidth>te.clientWidth,Ve=Je&&te.clientHeight>0&&te.scrollHeight>te.clientHeight,ct=ze.direction==="rtl",_t=Ve&&(ct?ee.offsetX<=te.offsetWidth-te.clientWidth:ee.offsetX>te.clientWidth),Tt=Xe&&ee.offsetY>te.clientHeight;if(_t||Tt)return}const de=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,ye=E&&Td(E.nodesRef.current,de).some(Ne=>{var ze;return X_(ee,(ze=Ne.context)==null?void 0:ze.elements.floating)});if(X_(ee,i.floating)||X_(ee,i.domReference)||ye)return;const we=E?Td(E.nodesRef.current,de):[];if(we.length>0){let Ne=!0;if(we.forEach(ze=>{var Oe;if((Oe=ze.context)!=null&&Oe.open&&!ze.context.dataRef.current.__outsidePressBubbles){Ne=!1;return}}),!Ne)return}r(!1,ee,"outside-press")}),V=Pi(ee=>{var Z;const le=()=>{var se;F(ee),(se=Rl(ee))==null||se.removeEventListener(d,le)};(Z=Rl(ee))==null||Z.addEventListener(d,le)});K.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=A,s.current.__outsidePressBubbles=D;let ee=-1;function Z(X){r(!1,X,"ancestor-scroll")}function le(){window.clearTimeout(ee),P.current=!0}function se(){ee=window.setTimeout(()=>{P.current=!1},Ov()?5:0)}const te=pi(i.floating);l&&(te.addEventListener("keydown",L?M:q,L),te.addEventListener("compositionstart",le),te.addEventListener("compositionend",se)),T&&te.addEventListener(d,W?V:F,W);let oe=[];return b&&(sr(i.domReference)&&(oe=Ll(i.domReference)),sr(i.floating)&&(oe=oe.concat(Ll(i.floating))),!sr(i.reference)&&i.reference&&i.reference.contextElement&&(oe=oe.concat(Ll(i.reference.contextElement)))),oe=oe.filter(X=>{var ue;return X!==((ue=te.defaultView)==null?void 0:ue.visualViewport)}),oe.forEach(X=>{X.addEventListener("scroll",Z,{passive:!0})}),()=>{l&&(te.removeEventListener("keydown",L?M:q,L),te.removeEventListener("compositionstart",le),te.removeEventListener("compositionend",se)),T&&te.removeEventListener(d,W?V:F,W),oe.forEach(X=>{X.removeEventListener("scroll",Z)}),window.clearTimeout(ee)}},[s,i,l,T,d,n,r,b,o,A,D,q,L,M,F,W,V]),K.useEffect(()=>{R.current=!1},[T,d]);const U=K.useMemo(()=>({onKeyDown:q,...p&&{[g7[h]]:ee=>{r(!1,ee.nativeEvent,"reference-press")},...h!=="click"&&{onClick(ee){r(!1,ee.nativeEvent,"reference-press")}}}}),[q,r,p,h]),z=K.useMemo(()=>({onKeyDown:q,onMouseDown(){O.current=!0},onMouseUp(){O.current=!0},[y7[d]]:()=>{R.current=!0}}),[q,d]);return K.useMemo(()=>o?{reference:U,floating:z}:{},[o,U,z])}function b7(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=JN(),s=K.useRef({}),[o]=K.useState(()=>YF()),l=pm()!=null,[u,d]=K.useState(r.reference),p=Pi((x,_,E)=>{s.current.openEvent=x?_:void 0,o.emit("openchange",{open:x,event:_,reason:E,nested:l}),n?.(x,_,E)}),h=K.useMemo(()=>({setPositionReference:d}),[]),b=K.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return K.useMemo(()=>({dataRef:s,open:e,onOpenChange:p,elements:b,events:o,floatingId:i,refs:h}),[e,p,b,o,i,h])}function e1(t){t===void 0&&(t={});const{nodeId:e}=t,n=b7({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=K.useState(null),[l,u]=K.useState(null),p=i?.domReference||s,h=K.useRef(null),b=df();mr(()=>{p&&(h.current=p)},[p]);const x=zQ({...t,elements:{...i,...l&&{reference:l}}}),_=K.useCallback(O=>{const A=sr(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),contextElement:O}:O;u(A),x.refs.setReference(A)},[x.refs]),E=K.useCallback(O=>{(sr(O)||O===null)&&(h.current=O,o(O)),(sr(x.refs.reference.current)||x.refs.reference.current===null||O!==null&&!sr(O))&&x.refs.setReference(O)},[x.refs]),I=K.useMemo(()=>({...x.refs,setReference:E,setPositionReference:_,domReference:h}),[x.refs,E,_]),T=K.useMemo(()=>({...x.elements,domReference:p}),[x.elements,p]),R=K.useMemo(()=>({...x,...r,refs:I,elements:T,nodeId:e}),[x,I,T,e,r]);return mr(()=>{r.dataRef.current.floatingContext=R;const O=b?.nodesRef.current.find(A=>A.id===e);O&&(O.context=R)}),K.useMemo(()=>({...x,context:R,refs:I,elements:T}),[x,I,T,R])}function v7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:l=!0,visibleOnly:u=!0}=e,d=K.useRef(!1),p=K.useRef(),h=K.useRef(!0);K.useEffect(()=>{if(!l)return;const x=ls(o.domReference);function _(){!n&&Jr(o.domReference)&&o.domReference===No(pi(o.domReference))&&(d.current=!0)}function E(){h.current=!0}return x.addEventListener("blur",_),x.addEventListener("keydown",E,!0),()=>{x.removeEventListener("blur",_),x.removeEventListener("keydown",E,!0)}},[o.domReference,n,l]),K.useEffect(()=>{if(!l)return;function x(_){let{reason:E}=_;(E==="reference-press"||E==="escape-key")&&(d.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[i,l]),K.useEffect(()=>()=>{clearTimeout(p.current)},[]);const b=K.useMemo(()=>({onPointerDown(x){VN(x.nativeEvent)||(h.current=!1)},onMouseLeave(){d.current=!1},onFocus(x){if(d.current)return;const _=Rl(x.nativeEvent);if(u&&sr(_))try{if(qF()&&L9())throw Error();if(!_.matches(":focus-visible"))return}catch{if(!h.current&&!UN(_))return}r(!0,x.nativeEvent,"focus")},onBlur(x){d.current=!1;const _=x.relatedTarget,E=x.nativeEvent,I=sr(_)&&_.hasAttribute(iu("focus-guard"))&&_.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var T;const R=No(o.domReference?o.domReference.ownerDocument:document);!_&&R===o.domReference||fi((T=s.current.floatingContext)==null?void 0:T.refs.floating.current,R)||fi(o.domReference,R)||I||r(!1,E,"focus")})}}),[s,o.domReference,r,u]);return K.useMemo(()=>l?{reference:b}:{},[l,b])}const dO="active",fO="selected";function o0(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[dO]:o,[fO]:l,...u}=t;s=u}return{...n==="floating"&&{tabIndex:-1,[SE]:""},...s,...e.map(o=>{const l=o?o[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((o,l)=>(l&&Object.entries(l).forEach(u=>{let[d,p]=u;if(!(i&&[dO,fO].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof p=="function"){var h;(h=r.get(d))==null||h.push(p),o[d]=function(){for(var b,x=arguments.length,_=new Array(x),E=0;E<x;E++)_[E]=arguments[E];return(b=r.get(d))==null?void 0:b.map(I=>I(..._)).find(I=>I!==void 0)}}}else o[d]=p}),o),{})}}function t1(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),r=t.map(l=>l?.item),i=K.useCallback(l=>o0(l,t,"reference"),e),s=K.useCallback(l=>o0(l,t,"floating"),n),o=K.useCallback(l=>o0(l,t,"item"),r);return K.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function Fv(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function pO(t,e){return Fv(e,t===GN||t===fm,t===Ml||t===$l)}function a0(t,e,n){return Fv(e,t===fm,n?t===Ml:t===$l)||t==="Enter"||t===" "||t===""}function x7(t,e,n){return Fv(e,n?t===Ml:t===$l,t===fm)}function hO(t,e,n){return Fv(e,n?t===$l:t===Ml,t===GN)}function w7(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:u=!0,selectedIndex:d=null,allowEscape:p=!1,loop:h=!1,nested:b=!1,rtl:x=!1,virtual:_=!1,focusItemOnOpen:E="auto",focusItemOnHover:I=!0,openOnArrowKeyDown:T=!0,disabledIndices:R=void 0,orientation:O="vertical",cols:A=1,scrollItemIntoView:D=!0,virtualItemRef:L,itemSizes:W,dense:P=!1}=e,q=EE(i.floating),M=Fi(q),F=pm(),V=df(),U=Pi(()=>{l(Z.current===-1?null:Z.current)}),z=jF(i.domReference),ee=K.useRef(E),Z=K.useRef(d??-1),le=K.useRef(null),se=K.useRef(!0),te=K.useRef(U),oe=K.useRef(!!i.floating),X=K.useRef(n),ue=K.useRef(!1),de=K.useRef(!1),ye=Fi(R),we=Fi(n),Ne=Fi(D),ze=Fi(d),[Oe,De]=K.useState(),[Je,Xe]=K.useState(),Ve=Pi(()=>{function be(Ue){_?(De(Ue.id),V?.events.emit("virtualfocus",Ue),L&&(L.current=Ue)):Rc(Ue,{sync:ue.current,preventScroll:!0})}const ke=s.current[Z.current];ke&&be(ke),(ue.current?Ue=>Ue():requestAnimationFrame)(()=>{const Ue=s.current[Z.current]||ke;if(!Ue)return;ke||be(Ue);const rt=Ne.current;rt&&_t&&(de.current||!se.current)&&(Ue.scrollIntoView==null||Ue.scrollIntoView(typeof rt=="boolean"?{block:"nearest",inline:"nearest"}:rt))})});mr(()=>{u&&(n&&i.floating?ee.current&&d!=null&&(de.current=!0,Z.current=d,U()):oe.current&&(Z.current=-1,te.current()))},[u,n,i.floating,d,U]),mr(()=>{if(u&&n&&i.floating)if(o==null){if(ue.current=!1,ze.current!=null)return;if(oe.current&&(Z.current=-1,Ve()),(!X.current||!oe.current)&&ee.current&&(le.current!=null||ee.current===!0&&le.current==null)){let be=0;const ke=()=>{s.current[0]==null?(be<2&&(be?requestAnimationFrame:queueMicrotask)(ke),be++):(Z.current=le.current==null||a0(le.current,O,x)||b?n0(s,ye.current):JR(s,ye.current),le.current=null,U())};ke()}}else Yp(s,o)||(Z.current=o,Ve(),de.current=!1)},[u,n,i.floating,o,ze,b,s,O,x,U,Ve,ye]),mr(()=>{var be;if(!u||i.floating||!V||_||!oe.current)return;const ke=V.nodesRef.current,Ae=(be=ke.find(Me=>Me.id===F))==null||(be=be.context)==null?void 0:be.elements.floating,Ue=No(pi(i.floating)),rt=ke.some(Me=>Me.context&&fi(Me.context.elements.floating,Ue));Ae&&!rt&&se.current&&Ae.focus({preventScroll:!0})},[u,i.floating,V,F,_]),mr(()=>{if(!u||!V||!_||F)return;function be(ke){Xe(ke.id),L&&(L.current=ke)}return V.events.on("virtualfocus",be),()=>{V.events.off("virtualfocus",be)}},[u,V,_,F,L]),mr(()=>{te.current=U,X.current=n,oe.current=!!i.floating}),mr(()=>{n||(le.current=null)},[n]);const ct=o!=null,_t=K.useMemo(()=>{function be(Ae){if(!n)return;const Ue=s.current.indexOf(Ae);Ue!==-1&&Z.current!==Ue&&(Z.current=Ue,U())}return{onFocus(Ae){let{currentTarget:Ue}=Ae;ue.current=!0,be(Ue)},onClick:Ae=>{let{currentTarget:Ue}=Ae;return Ue.focus({preventScroll:!0})},...I&&{onMouseMove(Ae){let{currentTarget:Ue}=Ae;ue.current=!0,de.current=!1,be(Ue)},onPointerLeave(Ae){let{pointerType:Ue}=Ae;if(!(!se.current||Ue==="touch")&&(ue.current=!0,Z.current=-1,U(),!_)){var rt;(rt=M.current)==null||rt.focus({preventScroll:!0})}}}}},[n,M,I,s,U,_]),Tt=Pi(be=>{if(se.current=!1,ue.current=!0,be.which===229||!we.current&&be.currentTarget===M.current)return;if(b&&hO(be.key,O,x)){qi(be),r(!1,be.nativeEvent,"list-navigation"),Jr(i.domReference)&&(_?V?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ke=Z.current,Ae=n0(s,R),Ue=JR(s,R);if(z||(be.key==="Home"&&(qi(be),Z.current=Ae,U()),be.key==="End"&&(qi(be),Z.current=Ue,U())),A>1){const rt=W||Array.from({length:s.current.length},()=>({width:1,height:1})),Me=KQ(rt,A,P),ut=Me.findIndex(hn=>hn!=null&&!Cy(s.current,hn,R)),Kt=Me.reduce((hn,or,Dn)=>or!=null&&!Cy(s.current,or,R)?Dn:hn,-1),Gt=Me[QQ({current:Me.map(hn=>hn!=null?s.current[hn]:null)},{event:be,orientation:O,loop:h,rtl:x,cols:A,disabledIndices:JQ([...R||s.current.map((hn,or)=>Cy(s.current,or)?or:void 0),void 0],Me),minIndex:ut,maxIndex:Kt,prevIndex:GQ(Z.current>Ue?Ae:Z.current,rt,Me,A,be.key===fm?"bl":be.key===(x?Ml:$l)?"tr":"tl"),stopEvent:!0})];if(Gt!=null&&(Z.current=Gt,U()),O==="both")return}if(pO(be.key,O)){if(qi(be),n&&!_&&No(be.currentTarget.ownerDocument)===be.currentTarget){Z.current=a0(be.key,O,x)?Ae:Ue,U();return}a0(be.key,O,x)?h?Z.current=ke>=Ue?p&&ke!==s.current.length?-1:Ae:xi(s,{startingIndex:ke,disabledIndices:R}):Z.current=Math.min(Ue,xi(s,{startingIndex:ke,disabledIndices:R})):h?Z.current=ke<=Ae?p&&ke!==-1?s.current.length:Ue:xi(s,{startingIndex:ke,decrement:!0,disabledIndices:R}):Z.current=Math.max(Ae,xi(s,{startingIndex:ke,decrement:!0,disabledIndices:R})),Yp(s,Z.current)&&(Z.current=-1),U()}}),Ut=K.useMemo(()=>_&&n&&ct&&{"aria-activedescendant":Je||Oe},[_,n,ct,Je,Oe]),tn=K.useMemo(()=>({"aria-orientation":O==="both"?void 0:O,...z?{}:Ut,onKeyDown:Tt,onPointerMove(){se.current=!0}}),[Ut,Tt,O,z]),xe=K.useMemo(()=>{function be(Ae){E==="auto"&&OF(Ae.nativeEvent)&&(ee.current=!0)}function ke(Ae){ee.current=E,E==="auto"&&VN(Ae.nativeEvent)&&(ee.current=!0)}return{...Ut,onKeyDown(Ae){se.current=!1;const Ue=Ae.key.startsWith("Arrow"),rt=["Home","End"].includes(Ae.key),Me=Ue||rt,ut=x7(Ae.key,O,x),Kt=hO(Ae.key,O,x),Gt=pO(Ae.key,O),hn=(b?ut:Gt)||Ae.key==="Enter"||Ae.key.trim()==="";if(_&&n){const Ci=V?.nodesRef.current.find(Jt=>Jt.parentId==null),wr=V&&Ci?i7(V.nodesRef.current,Ci.id):null;if(Me&&wr&&L){const Jt=new KeyboardEvent("keydown",{key:Ae.key,bubbles:!0});if(ut||Kt){var or,Dn;const Wi=((or=wr.context)==null?void 0:or.elements.domReference)===Ae.currentTarget,Vi=Kt&&!Wi?(Dn=wr.context)==null?void 0:Dn.elements.domReference:ut?s.current.find(Ui=>Ui?.id===Oe):null;Vi&&(qi(Ae),Vi.dispatchEvent(Jt),Xe(void 0))}if((Gt||rt)&&wr.context&&wr.context.open&&wr.parentId&&Ae.currentTarget!==wr.context.elements.domReference){var Ur;qi(Ae),(Ur=wr.context.elements.domReference)==null||Ur.dispatchEvent(Jt);return}}return Tt(Ae)}if(!(!n&&!T&&Ue)){if(hn&&(le.current=b&&Gt?null:Ae.key),b){ut&&(qi(Ae),n?(Z.current=n0(s,ye.current),U()):r(!0,Ae.nativeEvent,"list-navigation"));return}Gt&&(d!=null&&(Z.current=d),qi(Ae),!n&&T?r(!0,Ae.nativeEvent,"list-navigation"):Tt(Ae),n&&U())}},onFocus(){n&&!_&&(Z.current=-1,U())},onPointerDown:ke,onPointerEnter:ke,onMouseDown:be,onClick:be}},[Oe,Ut,Tt,ye,E,s,b,U,r,n,T,O,x,d,V,_,L]);return K.useMemo(()=>u?{reference:xe,floating:tn,item:_t}:{},[u,xe,tn,_t])}const mO=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Gu(t,e){return typeof t=="function"?t(e):t}function _7(t,e){const[n,r]=K.useState(t);return t&&!n&&r(!0),K.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function S7(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,o=(typeof i=="number"?i:i.close)||0,[l,u]=K.useState("unmounted"),d=_7(n,o);return!d&&l==="close"&&u("unmounted"),mr(()=>{if(r){if(n){u("initial");const p=requestAnimationFrame(()=>{u("open")});return()=>{cancelAnimationFrame(p)}}u("close")}},[n,r]),{isMounted:d,status:l}}function n1(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:o=250}=e,l=t.placement,u=l.split("-")[0],d=K.useMemo(()=>({side:u,placement:l}),[u,l]),p=typeof o=="number",h=(p?o:o.open)||0,b=(p?o:o.close)||0,[x,_]=K.useState(()=>({...Gu(s,d),...Gu(n,d)})),{isMounted:E,status:I}=S7(t,{duration:o}),T=Fi(n),R=Fi(r),O=Fi(i),A=Fi(s);return mr(()=>{const D=Gu(T.current,d),L=Gu(O.current,d),W=Gu(A.current,d),P=Gu(R.current,d)||Object.keys(D).reduce((q,M)=>(q[M]="",q),{});if(I==="initial"&&_(q=>({transitionProperty:q.transitionProperty,...W,...D})),I==="open"&&_({transitionProperty:Object.keys(P).map(mO).join(","),transitionDuration:h+"ms",...W,...P}),I==="close"){const q=L||D;_({transitionProperty:Object.keys(q).map(mO).join(","),transitionDuration:b+"ms",...W,...q})}},[b,O,T,R,A,h,I,d]),{isMounted:E,styles:x}}const E7=K.createContext({close(){}}),N7=gn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),k7=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:s,variant:o,tva:l=N7,css:u,children:d})=>{const[p,h]=K.useState(!1),{refs:b,floatingStyles:x,context:_}=e1({open:p,onOpenChange:h,placement:"top",whileElementsMounted:QF,middleware:[GF(10),JF({fallbackAxisSideDirection:"start"}),WQ()],...s}),{getReferenceProps:E,getFloatingProps:I}=t1([r7(_,{enabled:e==="hover",delay:i}),YN(_,{enabled:e==="click"}),v7(_),XN(_)]),{isMounted:T,styles:R}=n1(_),O=l({mounted:T,...o,css:u}).slots;return f.jsxs(f.Fragment,{children:[f.jsx("button",{type:"button",ref:b.setReference,...E(),disabled:n,className:O.target(),children:t}),f.jsx(ZN,{children:f.jsx("div",{ref:b.setFloating,style:{...x,...R},className:O.portal(),...I(),onClick:r?()=>{h(!1)}:void 0,children:f.jsx(E7.Provider,{value:{close(){h(!1)}},children:d})})})]})},lD="icon-[system-uicons--menu-hamburger]",cD=gn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),nn=({icon:t,variant:e,tva:n=cD,css:r,...i})=>{const s=n({...e,css:r}).slots;return t?f.jsx("div",{className:s.base({css:[t]}),...i}):null},I7=gn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),dr=({icon:t=lD,iconProps:e,children:n,variant:r,tva:i=I7,css:s,...o})=>{const l=i({...r,css:s}).slots;return f.jsx(n7,{children:f.jsx(k7,{action:"click",target:f.jsx(nn,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...o,children:f.jsx("div",{className:l.base(),children:n})})})},uD="icon-[svg-spinners--90-ring-with-bg]",C7=gn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),hm=({iconEnabled:t,iconDisabled:e,iconLoading:n=uD,disabled:r=!1,loading:i=!1,onClick:s,variant:o,tva:l=C7,css:u,children:d,...p})=>{const h=l({disabled:r,loading:i,...o,css:u}).slots;return f.jsxs("div",{className:h.base(),onClick:r?void 0:s,...p,children:[r?f.jsx(nn,{icon:i?n:e??t}):f.jsx(nn,{icon:i?n:t}),d]})},r1="icon-[iconamoon--close-light]",Dv=K.createContext(void 0),T7=gn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),ff=({target:t,icon:e,textTitle:n,disabled:r=!1,defaultOpen:i=!1,outside:s=!1,variant:o,css:l,tva:u=T7,children:d})=>{const[p,h]=K.useState(i),b=e7(),{refs:x,context:_}=e1({nodeId:b,open:p,onOpenChange:h}),E=YN(_),I=XN(_,{outsidePress:s}),{getReferenceProps:T,getFloatingProps:R}=t1([E,I]),{isMounted:O,styles:A}=n1(_),D=u({disabled:r,...o,css:l}).slots;return f.jsxs(Dv.Provider,{value:{close(){h(!1)}},children:[f.jsx("div",{ref:x.setReference,...T({disabled:r}),className:D.target(),children:t}),f.jsx(t7,{id:b,children:O&&f.jsx(f.Fragment,{children:f.jsx(ZN,{children:f.jsx(m7,{lockScroll:!0,style:A,className:D.base(),children:f.jsx(aD,{context:_,children:f.jsxs("div",{ref:x.setFloating,...R(),className:D.modal(),children:[f.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[f.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(xv(e)?f.jsx(nn,{icon:e,variant:{size:"xl"}}):e),n&&f.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),f.jsx(hm,{iconEnabled:r1,onClick:()=>h(!1)})]}),R9(d)?f.jsx(d,{close:()=>h(!1)}):d]})})})})})})]})},R7=gn({use:IF,slot:{},variant:{},defaults:{}}),kn=({icon:t,iconProps:e,label:n,disabled:r=!1,hidden:i=!1,variant:s,tva:o=R7,css:l,...u})=>{const d=o({...s,disabled:r,css:l}).slots;return i?null:f.jsxs("div",{className:d.base(),children:[xv(t)?f.jsx(nn,{icon:t,...e}):t,f.jsx(ff,{icon:t,target:n,disabled:r,css:{modal:["w-1/2"]},...u})]})},O7=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),Rs=({variant:t,tva:e=O7,css:n,...r})=>{const i=e({...t,css:n}).slots;return f.jsx("div",{className:i.base(),...r})},NE="icon-[material-symbols-light--check-small]",q7="icon-[material-symbols-light--close-small]",j7="icon-[material-symbols-light--check-indeterminate-small]",A7=gn({use:cD,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),Lv=({value:t,checkIcon:e=NE,unCheckIcon:n=q7,undefinedIcon:r=j7,tva:i=A7,...s})=>t==null?f.jsx(nn,{icon:r,tva:i,...s}):f.jsx(nn,{icon:t?e:n,tva:o=>i({...o,value:t}),...s}),P7=gn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),dD=({value:t,onChange:e,variant:n,tva:r=P7,css:i,...s})=>{const o=r({...n,css:i}).slots;return f.jsx("div",{className:o.base(),children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:l=>{e(l.target.checked)},...s}),f.jsx("div",{className:o.switch()})]})})},F7=gn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),qn=({iconEnabled:t,iconDisabled:e,iconLoading:n=uD,iconProps:r,loading:i,variant:s,tva:o=F7,css:l,children:u,...d})=>{const p=o({disabled:d.disabled,...s,css:l}).slots;return f.jsxs("button",{type:"button",className:p.base({disabled:d.disabled}),...d,children:[d.disabled?f.jsx(nn,{icon:i===!0?n:e,variant:{size:"xl"},...r}):f.jsx(nn,{icon:i===!0?n:t,variant:{size:"xl"},...r}),u]})},i1=K.createContext({inline:!1}),D7=gn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),L7=({inline:t,label:e,value:n,variant:r,tva:i=D7,css:s})=>{const o=K.useContext(i1),l=t??o?.inline,u=i({inline:l,...r,css:s}).slots;return f.jsxs("div",{className:u.base(),children:[e?f.jsx("div",{className:u.label(),children:e}):null,f.jsx("div",{className:u.value(),children:n})]})},M7=gn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),fD=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:s=M7,css:o,inline:l=!1})=>{const u=s({inline:l,...i,css:o}).slots;return f.jsx(i1.Provider,{value:{inline:l},children:f.jsx("div",{className:u.base(),children:t.filter(({id:d})=>!e.includes(d)).map(({id:d,render:p,...h})=>f.jsx(L7,{value:f.jsx(p,{entity:r}),...n,...h},d))})})},$7=gn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),gO="icon-[tabler--dots]",B7=gn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),z7=gn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),l0=({pages:t,page:e,onPage:n,variant:r,tva:i=z7,css:s})=>{const o=i({...r,css:s}).slots;return f.jsx("nav",{className:o.base(),children:f.jsx("ul",{className:o.list(),children:t.map((l,u)=>f.jsx("li",{className:o.page({current:e===l-1}),onClick:()=>n(l-1),children:l},`page-${l}-${u}`))})})},W7=gn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),pD=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:s=!1,onItem:o,onSelect:l,onChange:u,value:d,variant:p,tva:h=W7,css:b})=>{const[x,_]=K.useState(!1),[E,I]=K.useState(null),[T,R]=K.useState(t.findIndex(te=>te.id===n));K.useEffect(()=>{R(t.findIndex(te=>te.id===d))},[d]);const{refs:O,floatingStyles:A,context:D}=e1({placement:"bottom-start",open:x,onOpenChange:_,whileElementsMounted:QF,middleware:[GF(5),JF({padding:10}),VQ({apply({rects:te,elements:oe,availableHeight:X}){Object.assign(oe.floating.style,{maxHeight:`${X}px`,minWidth:`${te.reference.width}px`})},padding:10})]}),L=K.useRef([]),W=K.useRef(!1),P=YN(D,{event:"mousedown"}),q=XN(D),M=w7(D,{listRef:L,activeIndex:E,selectedIndex:T,onNavigate:I,loop:!0}),{getReferenceProps:F,getFloatingProps:V,getItemProps:U}=t1([q,M,P]),{isMounted:z,styles:ee}=n1(D),Z=te=>{R(te),_(!1);const oe=t[te];oe&&o?.(oe),l?.(oe),u?.(oe?.id)},le=T===null?void 0:t[T],se=h({disabled:s,...p,css:b}).slots;return f.jsxs(f.Fragment,{children:[f.jsx("div",{tabIndex:s?-1:0,ref:s?void 0:O.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...s?{}:F(),className:se.base(),children:f.jsxs("div",{className:se.input(),children:[e?f.jsx(nn,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,le?f.jsx(r,{entity:le}):i||so.rich("Select item"),f.jsx(nn,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!x&&"text-slate-400",x&&"text-slate-600","group-hover:text-slate-600"]}})]})}),z&&f.jsx(ZN,{children:f.jsx(aD,{context:D,modal:!1,children:f.jsx("div",{ref:O.setFloating,style:{...A,...ee},className:se.popup(),...V(),children:t.map((te,oe)=>f.jsxs("div",{ref:X=>{L.current[oe]=X},role:"option",tabIndex:oe===E?0:-1,"aria-selected":oe===T&&oe===E,className:se.item({selected:oe===T,active:oe===E}),...U({onClick(){Z(oe)},onKeyDown(X){X.key==="Enter"&&(X.preventDefault(),Z(oe)),X.key===" "&&!W.current&&(X.preventDefault(),Z(oe))}}),children:[f.jsx(r,{entity:te}),oe===T&&f.jsx(nn,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},te.id))})})})]})},V7=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>f.jsx(pD,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),yO=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:s,tva:o=B7,css:l})=>{const u=K.useMemo(()=>v9({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),d=o({...s,css:l}).slots;return f.jsxs("div",{className:d.base(),children:[u.total>1?f.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(u.type)&&f.jsxs(f.Fragment,{children:[f.jsx(l0,{page:t.page,pages:u.start,onPage:r}),f.jsx(nn,{icon:gO})]}),f.jsx(l0,{page:t.page,pages:u.pages,onPage:r}),["both","end"].includes(u.type)&&f.jsxs(f.Fragment,{children:[f.jsx(nn,{icon:gO}),f.jsx(l0,{page:t.page,pages:u.end,onPage:r})]})]}):null,f.jsxs("div",{className:d.sums(),children:[f.jsx("div",{children:n}),f.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&f.jsxs(f.Fragment,{children:[f.jsx("div",{children:"/"}),f.jsx("div",{className:"font-semibold",children:e.where})]})]}),f.jsx(V7,{size:t.size,onSize:i})]})},bO="function",ud="64e10b34-2bf7-4616-9668-f99de5aa046e",U7="get",H7="has",Q7="set",{isArray:Ty}=Array;let{SharedArrayBuffer:Ab,window:K7}=globalThis,{notify:hD,wait:mD,waitAsync:Pb}=Atomics,gD=null;Pb||(Pb=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new Ab(4)}catch{Ab=ArrayBuffer;const e=new WeakMap;if(K7){const n=new Map,{prototype:{postMessage:r}}=Worker,i=s=>{const o=s.data?.[ud];if(!Ty(o)){s.stopImmediatePropagation();const{id:l,sb:u}=o;n.get(l)(u)}};gD=function(s,...o){const l=s?.[ud];if(Ty(l)){const[u,d]=l;e.set(d,u),this.addEventListener("message",i)}return r.call(this,s,...o)},Pb=s=>({value:new Promise(o=>{n.set(e.get(s),o)}).then(o=>{n.delete(e.get(s)),e.delete(s);for(let l=0;l<o.length;l++)s[l]=o[l];return"ok"})})}else{const n=(r,i)=>({[ud]:{id:r,sb:i}});hD=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[ud];if(Ty(i)){const[s,o]=i;e.set(o,s)}})}}const{Int32Array:kE,Map:vO,Uint16Array:IE}=globalThis,{BYTES_PER_ELEMENT:xO}=kE,{BYTES_PER_ELEMENT:G7}=IE,J7=(t,e,n)=>{for(;mD(t,0,0,e)==="timed-out";)n()},CE=new WeakSet,c0=new WeakMap,Z7={value:{then:t=>t()}};let Y7=0;const s1=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!c0.has(t)){const s=gD||t.postMessage,o=(b,...x)=>s.call(t,{[ud]:x},{transfer:b}),l=typeof i===bO?i:i?.handler,u=i?.delay||42,d=new TextDecoder("utf-16"),p=(b,x)=>b?Pb(x,0):(l?J7(x,u,l):mD(x,0),Z7);let h=!1;c0.set(t,new Proxy(new vO,{[H7]:(b,x)=>typeof x=="string"&&!x.startsWith("_"),[U7]:(b,x)=>x==="then"?null:(..._)=>{const E=Y7++;let I=new kE(new Ab(xO*2)),T=[];CE.has(_.at(-1)||T)&&CE.delete(T=_.pop()),o(T,E,I,x,r?_.map(r):_);const R=t!==globalThis;let O=0;return h&&R&&(O=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${x}(...args) is awaited`)),p(R,I).value.then(()=>{clearTimeout(O);const A=I[1];if(!A)return;const D=G7*A;return I=new kE(new Ab(D+D%xO)),o([],E,I),p(R,I).value.then(()=>e(d.decode(new IE(I.buffer).slice(0,A))))})},[Q7](b,x,_){const E=typeof _;if(E!==bO)throw new Error(`Unable to assign ${x} as ${E}`);if(!b.size){const I=new vO;t.addEventListener("message",async T=>{const R=T.data?.[ud];if(Ty(R)){T.stopImmediatePropagation();const[O,A,...D]=R;let L;if(D.length){const[W,P]=D;if(b.has(W)){h=!0;try{const q=await b.get(W)(...P);if(q!==void 0){const M=n(r?r(q):q);I.set(O,M),A[1]=M.length}}catch(q){L=q}finally{h=!1}}else L=new Error(`Unsupported action: ${W}`);A[0]=1}else{const W=I.get(O);I.delete(O);for(let P=new IE(A.buffer),q=0;q<W.length;q++)P[q]=W.charCodeAt(q)}if(hD(A,0),L)throw L}})}return!!b.set(x,_)}}))}return c0.get(t)};s1.transfer=(...t)=>(CE.add(t),t);var o1=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,s,o=new Promise((g,y)=>{i=g,s=y}),l=typeof window=="object",u=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const d=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,d.debugModule("globalThis.location =",globalThis.location);var p=Object.assign({},r),h="./this.program",b="";function x(g){return r.locateFile?r.locateFile(g,b):b+g}var _,E;(l||u)&&(u?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),t&&(b=t),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(E=g=>{var y=new XMLHttpRequest;return y.open("GET",g,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),_=g=>fetch(g,{credentials:"same-origin"}).then(y=>y.ok?y.arrayBuffer():Promise.reject(new Error(y.status+" : "+y.url))));var I=r.print||console.log.bind(console),T=r.printErr||console.error.bind(console);Object.assign(r,p),p=null,r.arguments&&r.arguments,r.thisProgram&&(h=r.thisProgram);var R=r.wasmBinary,O,A=!1,D,L,W,P,q,M;function F(){var g=O.buffer;r.HEAP8=D=new Int8Array(g),r.HEAP16=W=new Int16Array(g),r.HEAPU8=L=new Uint8Array(g),r.HEAPU16=new Uint16Array(g),r.HEAP32=P=new Int32Array(g),r.HEAPU32=q=new Uint32Array(g),r.HEAPF32=new Float32Array(g),r.HEAPF64=new Float64Array(g),r.HEAP64=M=new BigInt64Array(g),r.HEAPU64=new BigUint64Array(g)}if(r.wasmMemory)O=r.wasmMemory;else{var V=r.INITIAL_MEMORY||0x1000000;O=new WebAssembly.Memory({initial:V/65536,maximum:32768})}F();var U=[],z=[],ee=[];function Z(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)te(r.preRun.shift());xe(U)}function le(){!r.noFSInit&&!H.initialized&&H.init(),H.ignorePermissions=!1,xe(z)}function se(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)X(r.postRun.shift());xe(ee)}function te(g){U.unshift(g)}function oe(g){z.unshift(g)}function X(g){ee.unshift(g)}var ue=0,de=null;function ye(g){return g}function we(g){ue++,r.monitorRunDependencies?.(ue)}function Ne(g){if(ue--,r.monitorRunDependencies?.(ue),ue==0&&de){var y=de;de=null,y()}}function ze(g){r.onAbort?.(g),g="Aborted("+g+")",T(g),A=!0,g+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(g);throw s(y),y}var Oe="data:application/octet-stream;base64,",De=g=>g.startsWith(Oe);function Je(){if(r.locateFile){var g="sqlite3.wasm";return De(g)?g:x(g)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var Xe;function Ve(g){if(g==Xe&&R)return new Uint8Array(R);if(E)return E(g);throw"both async and sync fetching of the wasm failed"}function ct(g){return R?Promise.resolve().then(()=>Ve(g)):_(g).then(y=>new Uint8Array(y),()=>Ve(g))}function _t(g,y,S){return ct(g).then(N=>WebAssembly.instantiate(N,y)).then(S,N=>{T(`failed to asynchronously prepare wasm: ${N}`),ze(N)})}function Tt(g,y,S,N){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!De(y)&&typeof fetch=="function"?fetch(y,{credentials:"same-origin"}).then(C=>{var $=WebAssembly.instantiateStreaming(C,S);return $.then(N,function(fe){return T(`wasm streaming compile failed: ${fe}`),T("falling back to ArrayBuffer instantiation"),_t(y,S,N)})}):_t(y,S,N)}function Ut(){return{env:Pf,wasi_snapshot_preview1:Pf}}function tn(){var g=Ut();function y(N,C){return he=N.exports,oe(he.__wasm_call_ctors),Ne(),he}we();function S(N){y(N.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(g,y)}catch(N){T(`Module.instantiateWasm callback failed with error: ${N}`),s(N)}return Xe||(Xe=Je()),Tt(R,Xe,g,S).catch(s),{}}var xe=g=>{for(;g.length>0;)g.shift()(r)};r.noExitRuntime;var be={isAbs:g=>g.charAt(0)==="/",splitPath:g=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(g).slice(1)},normalizeArray:(g,y)=>{for(var S=0,N=g.length-1;N>=0;N--){var C=g[N];C==="."?g.splice(N,1):C===".."?(g.splice(N,1),S++):S&&(g.splice(N,1),S--)}if(y)for(;S;S--)g.unshift("..");return g},normalize:g=>{var y=be.isAbs(g),S=g.substr(-1)==="/";return g=be.normalizeArray(g.split("/").filter(N=>!!N),!y).join("/"),!g&&!y&&(g="."),g&&S&&(g+="/"),(y?"/":"")+g},dirname:g=>{var y=be.splitPath(g),S=y[0],N=y[1];return!S&&!N?".":(N&&(N=N.substr(0,N.length-1)),S+N)},basename:g=>{if(g==="/")return"/";g=be.normalize(g),g=g.replace(/\/$/,"");var y=g.lastIndexOf("/");return y===-1?g:g.substr(y+1)},join:(...g)=>be.normalize(g.join("/")),join2:(g,y)=>be.normalize(g+"/"+y)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return g=>crypto.getRandomValues(g);ze("initRandomDevice")},Ae=g=>(Ae=ke())(g),Ue={resolve:(...g)=>{for(var y="",S=!1,N=g.length-1;N>=-1&&!S;N--){var C=N>=0?g[N]:H.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,S=be.isAbs(C)}return y=be.normalizeArray(y.split("/").filter($=>!!$),!S).join("/"),(S?"/":"")+y||"."},relative:(g,y)=>{g=Ue.resolve(g).substr(1),y=Ue.resolve(y).substr(1);function S(tt){for(var at=0;at<tt.length&&tt[at]==="";at++);for(var mt=tt.length-1;mt>=0&&tt[mt]==="";mt--);return at>mt?[]:tt.slice(at,mt-at+1)}for(var N=S(g.split("/")),C=S(y.split("/")),$=Math.min(N.length,C.length),fe=$,me=0;me<$;me++)if(N[me]!==C[me]){fe=me;break}for(var Qe=[],me=fe;me<N.length;me++)Qe.push("..");return Qe=Qe.concat(C.slice(fe)),Qe.join("/")}},rt=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(g,y,S)=>{for(var N=y+S,C=y;g[C]&&!(C>=N);)++C;if(C-y>16&&g.buffer&&rt)return rt.decode(g.subarray(y,C));for(var $="";y<C;){var fe=g[y++];if(!(fe&128)){$+=String.fromCharCode(fe);continue}var me=g[y++]&63;if((fe&224)==192){$+=String.fromCharCode((fe&31)<<6|me);continue}var Qe=g[y++]&63;if((fe&240)==224?fe=(fe&15)<<12|me<<6|Qe:fe=(fe&7)<<18|me<<12|Qe<<6|g[y++]&63,fe<65536)$+=String.fromCharCode(fe);else{var tt=fe-65536;$+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return $},ut=[],Kt=g=>{for(var y=0,S=0;S<g.length;++S){var N=g.charCodeAt(S);N<=127?y++:N<=2047?y+=2:N>=55296&&N<=57343?(y+=4,++S):y+=3}return y},Gt=(g,y,S,N)=>{if(!(N>0))return 0;for(var C=S,$=S+N-1,fe=0;fe<g.length;++fe){var me=g.charCodeAt(fe);if(me>=55296&&me<=57343){var Qe=g.charCodeAt(++fe);me=65536+((me&1023)<<10)|Qe&1023}if(me<=127){if(S>=$)break;y[S++]=me}else if(me<=2047){if(S+1>=$)break;y[S++]=192|me>>6,y[S++]=128|me&63}else if(me<=65535){if(S+2>=$)break;y[S++]=224|me>>12,y[S++]=128|me>>6&63,y[S++]=128|me&63}else{if(S+3>=$)break;y[S++]=240|me>>18,y[S++]=128|me>>12&63,y[S++]=128|me>>6&63,y[S++]=128|me&63}}return y[S]=0,S-C};function hn(g,y,S){var N=Kt(g)+1,C=new Array(N),$=Gt(g,C,0,C.length);return C.length=$,C}var or=()=>{if(!ut.length){var g=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(g=window.prompt("Input: "),g!==null&&(g+=`
`)),!g)return null;ut=hn(g)}return ut.shift()},Dn={ttys:[],init(){},shutdown(){},register(g,y){Dn.ttys[g]={input:[],output:[],ops:y},H.registerDevice(g,Dn.stream_ops)},stream_ops:{open(g){var y=Dn.ttys[g.node.rdev];if(!y)throw new H.ErrnoError(43);g.tty=y,g.seekable=!1},close(g){g.tty.ops.fsync(g.tty)},fsync(g){g.tty.ops.fsync(g.tty)},read(g,y,S,N,C){if(!g.tty||!g.tty.ops.get_char)throw new H.ErrnoError(60);for(var $=0,fe=0;fe<N;fe++){var me;try{me=g.tty.ops.get_char(g.tty)}catch{throw new H.ErrnoError(29)}if(me===void 0&&$===0)throw new H.ErrnoError(6);if(me==null)break;$++,y[S+fe]=me}return $&&(g.node.timestamp=Date.now()),$},write(g,y,S,N,C){if(!g.tty||!g.tty.ops.put_char)throw new H.ErrnoError(60);try{for(var $=0;$<N;$++)g.tty.ops.put_char(g.tty,y[S+$])}catch{throw new H.ErrnoError(29)}return N&&(g.node.timestamp=Date.now()),$}},default_tty_ops:{get_char(g){return or()},put_char(g,y){y===null||y===10?(I(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(I(Me(g.output,0)),g.output=[])},ioctl_tcgets(g){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(g,y,S){return 0},ioctl_tiocgwinsz(g){return[24,80]}},default_tty1_ops:{put_char(g,y){y===null||y===10?(T(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(T(Me(g.output,0)),g.output=[])}}},Ur=(g,y)=>(L.fill(0,g,g+y),g),Ci=(g,y)=>Math.ceil(g/y)*y,wr=g=>{g=Ci(g,65536);var y=Ff(65536,g);return y?Ur(y,g):0},Jt={ops_table:null,mount(g){return Jt.createNode(null,"/",16895,0)},createNode(g,y,S,N){if(H.isBlkdev(S)||H.isFIFO(S))throw new H.ErrnoError(63);Jt.ops_table||={dir:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,lookup:Jt.node_ops.lookup,mknod:Jt.node_ops.mknod,rename:Jt.node_ops.rename,unlink:Jt.node_ops.unlink,rmdir:Jt.node_ops.rmdir,readdir:Jt.node_ops.readdir,symlink:Jt.node_ops.symlink},stream:{llseek:Jt.stream_ops.llseek}},file:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:{llseek:Jt.stream_ops.llseek,read:Jt.stream_ops.read,write:Jt.stream_ops.write,allocate:Jt.stream_ops.allocate,mmap:Jt.stream_ops.mmap,msync:Jt.stream_ops.msync}},link:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,readlink:Jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:H.chrdev_stream_ops}};var C=H.createNode(g,y,S,N);return H.isDir(C.mode)?(C.node_ops=Jt.ops_table.dir.node,C.stream_ops=Jt.ops_table.dir.stream,C.contents={}):H.isFile(C.mode)?(C.node_ops=Jt.ops_table.file.node,C.stream_ops=Jt.ops_table.file.stream,C.usedBytes=0,C.contents=null):H.isLink(C.mode)?(C.node_ops=Jt.ops_table.link.node,C.stream_ops=Jt.ops_table.link.stream):H.isChrdev(C.mode)&&(C.node_ops=Jt.ops_table.chrdev.node,C.stream_ops=Jt.ops_table.chrdev.stream),C.timestamp=Date.now(),g&&(g.contents[y]=C,g.timestamp=C.timestamp),C},getFileDataAsTypedArray(g){return g.contents?g.contents.subarray?g.contents.subarray(0,g.usedBytes):new Uint8Array(g.contents):new Uint8Array(0)},expandFileStorage(g,y){var S=g.contents?g.contents.length:0;if(!(S>=y)){var N=1024*1024;y=Math.max(y,S*(S<N?2:1.125)>>>0),S!=0&&(y=Math.max(y,256));var C=g.contents;g.contents=new Uint8Array(y),g.usedBytes>0&&g.contents.set(C.subarray(0,g.usedBytes),0)}},resizeFileStorage(g,y){if(g.usedBytes!=y)if(y==0)g.contents=null,g.usedBytes=0;else{var S=g.contents;g.contents=new Uint8Array(y),S&&g.contents.set(S.subarray(0,Math.min(y,g.usedBytes))),g.usedBytes=y}},node_ops:{getattr(g){var y={};return y.dev=H.isChrdev(g.mode)?g.id:1,y.ino=g.id,y.mode=g.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=g.rdev,H.isDir(g.mode)?y.size=4096:H.isFile(g.mode)?y.size=g.usedBytes:H.isLink(g.mode)?y.size=g.link.length:y.size=0,y.atime=new Date(g.timestamp),y.mtime=new Date(g.timestamp),y.ctime=new Date(g.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr(g,y){y.mode!==void 0&&(g.mode=y.mode),y.timestamp!==void 0&&(g.timestamp=y.timestamp),y.size!==void 0&&Jt.resizeFileStorage(g,y.size)},lookup(g,y){throw H.genericErrors[44]},mknod(g,y,S,N){return Jt.createNode(g,y,S,N)},rename(g,y,S){if(H.isDir(g.mode)){var N;try{N=H.lookupNode(y,S)}catch{}if(N)for(var C in N.contents)throw new H.ErrnoError(55)}delete g.parent.contents[g.name],g.parent.timestamp=Date.now(),g.name=S,y.contents[S]=g,y.timestamp=g.parent.timestamp},unlink(g,y){delete g.contents[y],g.timestamp=Date.now()},rmdir(g,y){var S=H.lookupNode(g,y);for(var N in S.contents)throw new H.ErrnoError(55);delete g.contents[y],g.timestamp=Date.now()},readdir(g){var y=[".",".."];for(var S of Object.keys(g.contents))y.push(S);return y},symlink(g,y,S){var N=Jt.createNode(g,y,41471,0);return N.link=S,N},readlink(g){if(!H.isLink(g.mode))throw new H.ErrnoError(28);return g.link}},stream_ops:{read(g,y,S,N,C){var $=g.node.contents;if(C>=g.node.usedBytes)return 0;var fe=Math.min(g.node.usedBytes-C,N);if(fe>8&&$.subarray)y.set($.subarray(C,C+fe),S);else for(var me=0;me<fe;me++)y[S+me]=$[C+me];return fe},write(g,y,S,N,C,$){if(y.buffer===D.buffer&&($=!1),!N)return 0;var fe=g.node;if(fe.timestamp=Date.now(),y.subarray&&(!fe.contents||fe.contents.subarray)){if($)return fe.contents=y.subarray(S,S+N),fe.usedBytes=N,N;if(fe.usedBytes===0&&C===0)return fe.contents=y.slice(S,S+N),fe.usedBytes=N,N;if(C+N<=fe.usedBytes)return fe.contents.set(y.subarray(S,S+N),C),N}if(Jt.expandFileStorage(fe,C+N),fe.contents.subarray&&y.subarray)fe.contents.set(y.subarray(S,S+N),C);else for(var me=0;me<N;me++)fe.contents[C+me]=y[S+me];return fe.usedBytes=Math.max(fe.usedBytes,C+N),N},llseek(g,y,S){var N=y;if(S===1?N+=g.position:S===2&&H.isFile(g.node.mode)&&(N+=g.node.usedBytes),N<0)throw new H.ErrnoError(28);return N},allocate(g,y,S){Jt.expandFileStorage(g.node,y+S),g.node.usedBytes=Math.max(g.node.usedBytes,y+S)},mmap(g,y,S,N,C){if(!H.isFile(g.node.mode))throw new H.ErrnoError(43);var $,fe,me=g.node.contents;if(!(C&2)&&me&&me.buffer===D.buffer)fe=!1,$=me.byteOffset;else{if(fe=!0,$=wr(y),!$)throw new H.ErrnoError(48);me&&((S>0||S+y<me.length)&&(me.subarray?me=me.subarray(S,S+y):me=Array.prototype.slice.call(me,S,S+y)),D.set(me,$))}return{ptr:$,allocated:fe}},msync(g,y,S,N,C){return Jt.stream_ops.write(g,y,0,N,S,!1),0}}},Wi=(g,y,S,N)=>{var C=`al ${g}`;_(g).then($=>{y(new Uint8Array($)),C&&Ne()},$=>{if(S)S();else throw`Loading data file "${g}" failed.`}),C&&we()},Vi=(g,y,S,N,C,$)=>{H.createDataFile(g,y,S,N,C,$)},Ui=r.preloadPlugins||[],fo=(g,y,S,N)=>{typeof Browser<"u"&&Browser.init();var C=!1;return Ui.forEach($=>{C||$.canHandle(y)&&($.handle(g,y,S,N),C=!0)}),C},da=(g,y,S,N,C,$,fe,me,Qe,tt)=>{var at=y?Ue.resolve(be.join2(g,y)):g;function mt(Be){function qe(et){tt?.(),me||Vi(g,y,et,N,C,Qe),$?.(),Ne()}fo(Be,at,qe,()=>{fe?.(),Ne()})||qe(Be)}we(),typeof S=="string"?Wi(S,mt,fe):mt(S)},oc=g=>{var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},S=y[g];if(typeof S>"u")throw new Error(`Unknown file open mode: ${g}`);return S},Ms=(g,y)=>{var S=0;return g&&(S|=365),y&&(S|=146),S},H={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(g){this.name="ErrnoError",this.errno=g}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(g){this.node=g}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(g){this.shared.flags=g}get position(){return this.shared.position}set position(g){this.shared.position=g}},FSNode:class{constructor(g,y,S,N){g||(g=this),this.parent=g,this.mount=g.mount,this.mounted=null,this.id=H.nextInode++,this.name=y,this.mode=S,this.node_ops={},this.stream_ops={},this.rdev=N,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(g){g?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(g){g?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return H.isDir(this.mode)}get isDevice(){return H.isChrdev(this.mode)}},lookupPath(g,y={}){if(g=Ue.resolve(g),!g)return{path:"",node:null};var S={follow_mount:!0,recurse_count:0};if(y=Object.assign(S,y),y.recurse_count>8)throw new H.ErrnoError(32);for(var N=g.split("/").filter(mt=>!!mt),C=H.root,$="/",fe=0;fe<N.length;fe++){var me=fe===N.length-1;if(me&&y.parent)break;if(C=H.lookupNode(C,N[fe]),$=be.join2($,N[fe]),H.isMountpoint(C)&&(!me||me&&y.follow_mount)&&(C=C.mounted.root),!me||y.follow)for(var Qe=0;H.isLink(C.mode);){var tt=H.readlink($);$=Ue.resolve(be.dirname($),tt);var at=H.lookupPath($,{recurse_count:y.recurse_count+1});if(C=at.node,Qe++>40)throw new H.ErrnoError(32)}}return{path:$,node:C}},getPath(g){for(var y;;){if(H.isRoot(g)){var S=g.mount.mountpoint;return y?S[S.length-1]!=="/"?`${S}/${y}`:S+y:S}y=y?`${g.name}/${y}`:g.name,g=g.parent}},hashName(g,y){for(var S=0,N=0;N<y.length;N++)S=(S<<5)-S+y.charCodeAt(N)|0;return(g+S>>>0)%H.nameTable.length},hashAddNode(g){var y=H.hashName(g.parent.id,g.name);g.name_next=H.nameTable[y],H.nameTable[y]=g},hashRemoveNode(g){var y=H.hashName(g.parent.id,g.name);if(H.nameTable[y]===g)H.nameTable[y]=g.name_next;else for(var S=H.nameTable[y];S;){if(S.name_next===g){S.name_next=g.name_next;break}S=S.name_next}},lookupNode(g,y){var S=H.mayLookup(g);if(S)throw new H.ErrnoError(S);for(var N=H.hashName(g.id,y),C=H.nameTable[N];C;C=C.name_next){var $=C.name;if(C.parent.id===g.id&&$===y)return C}return H.lookup(g,y)},createNode(g,y,S,N){var C=new H.FSNode(g,y,S,N);return H.hashAddNode(C),C},destroyNode(g){H.hashRemoveNode(g)},isRoot(g){return g===g.parent},isMountpoint(g){return!!g.mounted},isFile(g){return(g&61440)===32768},isDir(g){return(g&61440)===16384},isLink(g){return(g&61440)===40960},isChrdev(g){return(g&61440)===8192},isBlkdev(g){return(g&61440)===24576},isFIFO(g){return(g&61440)===4096},isSocket(g){return(g&49152)===49152},flagsToPermissionString(g){var y=["r","w","rw"][g&3];return g&512&&(y+="w"),y},nodePermissions(g,y){return H.ignorePermissions?0:y.includes("r")&&!(g.mode&292)||y.includes("w")&&!(g.mode&146)||y.includes("x")&&!(g.mode&73)?2:0},mayLookup(g){if(!H.isDir(g.mode))return 54;var y=H.nodePermissions(g,"x");return y||(g.node_ops.lookup?0:2)},mayCreate(g,y){try{var S=H.lookupNode(g,y);return 20}catch{}return H.nodePermissions(g,"wx")},mayDelete(g,y,S){var N;try{N=H.lookupNode(g,y)}catch($){return $.errno}var C=H.nodePermissions(g,"wx");if(C)return C;if(S){if(!H.isDir(N.mode))return 54;if(H.isRoot(N)||H.getPath(N)===H.cwd())return 10}else if(H.isDir(N.mode))return 31;return 0},mayOpen(g,y){return g?H.isLink(g.mode)?32:H.isDir(g.mode)&&(H.flagsToPermissionString(y)!=="r"||y&512)?31:H.nodePermissions(g,H.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd(){for(var g=0;g<=H.MAX_OPEN_FDS;g++)if(!H.streams[g])return g;throw new H.ErrnoError(33)},getStreamChecked(g){var y=H.getStream(g);if(!y)throw new H.ErrnoError(8);return y},getStream:g=>H.streams[g],createStream(g,y=-1){return g=Object.assign(new H.FSStream,g),y==-1&&(y=H.nextfd()),g.fd=y,H.streams[y]=g,g},closeStream(g){H.streams[g]=null},dupStream(g,y=-1){var S=H.createStream(g,y);return S.stream_ops?.dup?.(S),S},chrdev_stream_ops:{open(g){var y=H.getDevice(g.node.rdev);g.stream_ops=y.stream_ops,g.stream_ops.open?.(g)},llseek(){throw new H.ErrnoError(70)}},major:g=>g>>8,minor:g=>g&255,makedev:(g,y)=>g<<8|y,registerDevice(g,y){H.devices[g]={stream_ops:y}},getDevice:g=>H.devices[g],getMounts(g){for(var y=[],S=[g];S.length;){var N=S.pop();y.push(N),S.push(...N.mounts)}return y},syncfs(g,y){typeof g=="function"&&(y=g,g=!1),H.syncFSRequests++,H.syncFSRequests>1&&T(`warning: ${H.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var S=H.getMounts(H.root.mount),N=0;function C(fe){return H.syncFSRequests--,y(fe)}function $(fe){if(fe)return $.errored?void 0:($.errored=!0,C(fe));++N>=S.length&&C(null)}S.forEach(fe=>{if(!fe.type.syncfs)return $(null);fe.type.syncfs(fe,g,$)})},mount(g,y,S){var N=S==="/",C=!S,$;if(N&&H.root)throw new H.ErrnoError(10);if(!N&&!C){var fe=H.lookupPath(S,{follow_mount:!1});if(S=fe.path,$=fe.node,H.isMountpoint($))throw new H.ErrnoError(10);if(!H.isDir($.mode))throw new H.ErrnoError(54)}var me={type:g,opts:y,mountpoint:S,mounts:[]},Qe=g.mount(me);return Qe.mount=me,me.root=Qe,N?H.root=Qe:$&&($.mounted=me,$.mount&&$.mount.mounts.push(me)),Qe},unmount(g){var y=H.lookupPath(g,{follow_mount:!1});if(!H.isMountpoint(y.node))throw new H.ErrnoError(28);var S=y.node,N=S.mounted,C=H.getMounts(N);Object.keys(H.nameTable).forEach(fe=>{for(var me=H.nameTable[fe];me;){var Qe=me.name_next;C.includes(me.mount)&&H.destroyNode(me),me=Qe}}),S.mounted=null;var $=S.mount.mounts.indexOf(N);S.mount.mounts.splice($,1)},lookup(g,y){return g.node_ops.lookup(g,y)},mknod(g,y,S){var N=H.lookupPath(g,{parent:!0}),C=N.node,$=be.basename(g);if(!$||$==="."||$==="..")throw new H.ErrnoError(28);var fe=H.mayCreate(C,$);if(fe)throw new H.ErrnoError(fe);if(!C.node_ops.mknod)throw new H.ErrnoError(63);return C.node_ops.mknod(C,$,y,S)},create(g,y){return y=y!==void 0?y:438,y&=4095,y|=32768,H.mknod(g,y,0)},mkdir(g,y){return y=y!==void 0?y:511,y&=1023,y|=16384,H.mknod(g,y,0)},mkdirTree(g,y){for(var S=g.split("/"),N="",C=0;C<S.length;++C)if(S[C]){N+="/"+S[C];try{H.mkdir(N,y)}catch($){if($.errno!=20)throw $}}},mkdev(g,y,S){return typeof S>"u"&&(S=y,y=438),y|=8192,H.mknod(g,y,S)},symlink(g,y){if(!Ue.resolve(g))throw new H.ErrnoError(44);var S=H.lookupPath(y,{parent:!0}),N=S.node;if(!N)throw new H.ErrnoError(44);var C=be.basename(y),$=H.mayCreate(N,C);if($)throw new H.ErrnoError($);if(!N.node_ops.symlink)throw new H.ErrnoError(63);return N.node_ops.symlink(N,C,g)},rename(g,y){var S=be.dirname(g),N=be.dirname(y),C=be.basename(g),$=be.basename(y),fe,me,Qe;if(fe=H.lookupPath(g,{parent:!0}),me=fe.node,fe=H.lookupPath(y,{parent:!0}),Qe=fe.node,!me||!Qe)throw new H.ErrnoError(44);if(me.mount!==Qe.mount)throw new H.ErrnoError(75);var tt=H.lookupNode(me,C),at=Ue.relative(g,N);if(at.charAt(0)!==".")throw new H.ErrnoError(28);if(at=Ue.relative(y,S),at.charAt(0)!==".")throw new H.ErrnoError(55);var mt;try{mt=H.lookupNode(Qe,$)}catch{}if(tt!==mt){var Be=H.isDir(tt.mode),qe=H.mayDelete(me,C,Be);if(qe)throw new H.ErrnoError(qe);if(qe=mt?H.mayDelete(Qe,$,Be):H.mayCreate(Qe,$),qe)throw new H.ErrnoError(qe);if(!me.node_ops.rename)throw new H.ErrnoError(63);if(H.isMountpoint(tt)||mt&&H.isMountpoint(mt))throw new H.ErrnoError(10);if(Qe!==me&&(qe=H.nodePermissions(me,"w"),qe))throw new H.ErrnoError(qe);H.hashRemoveNode(tt);try{me.node_ops.rename(tt,Qe,$),tt.parent=Qe}catch(et){throw et}finally{H.hashAddNode(tt)}}},rmdir(g){var y=H.lookupPath(g,{parent:!0}),S=y.node,N=be.basename(g),C=H.lookupNode(S,N),$=H.mayDelete(S,N,!0);if($)throw new H.ErrnoError($);if(!S.node_ops.rmdir)throw new H.ErrnoError(63);if(H.isMountpoint(C))throw new H.ErrnoError(10);S.node_ops.rmdir(S,N),H.destroyNode(C)},readdir(g){var y=H.lookupPath(g,{follow:!0}),S=y.node;if(!S.node_ops.readdir)throw new H.ErrnoError(54);return S.node_ops.readdir(S)},unlink(g){var y=H.lookupPath(g,{parent:!0}),S=y.node;if(!S)throw new H.ErrnoError(44);var N=be.basename(g),C=H.lookupNode(S,N),$=H.mayDelete(S,N,!1);if($)throw new H.ErrnoError($);if(!S.node_ops.unlink)throw new H.ErrnoError(63);if(H.isMountpoint(C))throw new H.ErrnoError(10);S.node_ops.unlink(S,N),H.destroyNode(C)},readlink(g){var y=H.lookupPath(g),S=y.node;if(!S)throw new H.ErrnoError(44);if(!S.node_ops.readlink)throw new H.ErrnoError(28);return Ue.resolve(H.getPath(S.parent),S.node_ops.readlink(S))},stat(g,y){var S=H.lookupPath(g,{follow:!y}),N=S.node;if(!N)throw new H.ErrnoError(44);if(!N.node_ops.getattr)throw new H.ErrnoError(63);return N.node_ops.getattr(N)},lstat(g){return H.stat(g,!0)},chmod(g,y,S){var N;if(typeof g=="string"){var C=H.lookupPath(g,{follow:!S});N=C.node}else N=g;if(!N.node_ops.setattr)throw new H.ErrnoError(63);N.node_ops.setattr(N,{mode:y&4095|N.mode&-4096,timestamp:Date.now()})},lchmod(g,y){H.chmod(g,y,!0)},fchmod(g,y){var S=H.getStreamChecked(g);H.chmod(S.node,y)},chown(g,y,S,N){var C;if(typeof g=="string"){var $=H.lookupPath(g,{follow:!N});C=$.node}else C=g;if(!C.node_ops.setattr)throw new H.ErrnoError(63);C.node_ops.setattr(C,{timestamp:Date.now()})},lchown(g,y,S){H.chown(g,y,S,!0)},fchown(g,y,S){var N=H.getStreamChecked(g);H.chown(N.node,y,S)},truncate(g,y){if(y<0)throw new H.ErrnoError(28);var S;if(typeof g=="string"){var N=H.lookupPath(g,{follow:!0});S=N.node}else S=g;if(!S.node_ops.setattr)throw new H.ErrnoError(63);if(H.isDir(S.mode))throw new H.ErrnoError(31);if(!H.isFile(S.mode))throw new H.ErrnoError(28);var C=H.nodePermissions(S,"w");if(C)throw new H.ErrnoError(C);S.node_ops.setattr(S,{size:y,timestamp:Date.now()})},ftruncate(g,y){var S=H.getStreamChecked(g);if(!(S.flags&2097155))throw new H.ErrnoError(28);H.truncate(S.node,y)},utime(g,y,S){var N=H.lookupPath(g,{follow:!0}),C=N.node;C.node_ops.setattr(C,{timestamp:Math.max(y,S)})},open(g,y,S){if(g==="")throw new H.ErrnoError(44);y=typeof y=="string"?oc(y):y,y&64?(S=typeof S>"u"?438:S,S=S&4095|32768):S=0;var N;if(typeof g=="object")N=g;else{g=be.normalize(g);try{var C=H.lookupPath(g,{follow:!(y&131072)});N=C.node}catch{}}var $=!1;if(y&64)if(N){if(y&128)throw new H.ErrnoError(20)}else N=H.mknod(g,S,0),$=!0;if(!N)throw new H.ErrnoError(44);if(H.isChrdev(N.mode)&&(y&=-513),y&65536&&!H.isDir(N.mode))throw new H.ErrnoError(54);if(!$){var fe=H.mayOpen(N,y);if(fe)throw new H.ErrnoError(fe)}y&512&&!$&&H.truncate(N,0),y&=-131713;var me=H.createStream({node:N,path:H.getPath(N),flags:y,seekable:!0,position:0,stream_ops:N.stream_ops,ungotten:[],error:!1});return me.stream_ops.open&&me.stream_ops.open(me),r.logReadFiles&&!(y&1)&&(H.readFiles||(H.readFiles={}),g in H.readFiles||(H.readFiles[g]=1)),me},close(g){if(H.isClosed(g))throw new H.ErrnoError(8);g.getdents&&(g.getdents=null);try{g.stream_ops.close&&g.stream_ops.close(g)}catch(y){throw y}finally{H.closeStream(g.fd)}g.fd=null},isClosed(g){return g.fd===null},llseek(g,y,S){if(H.isClosed(g))throw new H.ErrnoError(8);if(!g.seekable||!g.stream_ops.llseek)throw new H.ErrnoError(70);if(S!=0&&S!=1&&S!=2)throw new H.ErrnoError(28);return g.position=g.stream_ops.llseek(g,y,S),g.ungotten=[],g.position},read(g,y,S,N,C){if(N<0||C<0)throw new H.ErrnoError(28);if(H.isClosed(g))throw new H.ErrnoError(8);if((g.flags&2097155)===1)throw new H.ErrnoError(8);if(H.isDir(g.node.mode))throw new H.ErrnoError(31);if(!g.stream_ops.read)throw new H.ErrnoError(28);var $=typeof C<"u";if(!$)C=g.position;else if(!g.seekable)throw new H.ErrnoError(70);var fe=g.stream_ops.read(g,y,S,N,C);return $||(g.position+=fe),fe},write(g,y,S,N,C,$){if(N<0||C<0)throw new H.ErrnoError(28);if(H.isClosed(g))throw new H.ErrnoError(8);if(!(g.flags&2097155))throw new H.ErrnoError(8);if(H.isDir(g.node.mode))throw new H.ErrnoError(31);if(!g.stream_ops.write)throw new H.ErrnoError(28);g.seekable&&g.flags&1024&&H.llseek(g,0,2);var fe=typeof C<"u";if(!fe)C=g.position;else if(!g.seekable)throw new H.ErrnoError(70);var me=g.stream_ops.write(g,y,S,N,C,$);return fe||(g.position+=me),me},allocate(g,y,S){if(H.isClosed(g))throw new H.ErrnoError(8);if(y<0||S<=0)throw new H.ErrnoError(28);if(!(g.flags&2097155))throw new H.ErrnoError(8);if(!H.isFile(g.node.mode)&&!H.isDir(g.node.mode))throw new H.ErrnoError(43);if(!g.stream_ops.allocate)throw new H.ErrnoError(138);g.stream_ops.allocate(g,y,S)},mmap(g,y,S,N,C){if(N&2&&!(C&2)&&(g.flags&2097155)!==2)throw new H.ErrnoError(2);if((g.flags&2097155)===1)throw new H.ErrnoError(2);if(!g.stream_ops.mmap)throw new H.ErrnoError(43);if(!y)throw new H.ErrnoError(28);return g.stream_ops.mmap(g,y,S,N,C)},msync(g,y,S,N,C){return g.stream_ops.msync?g.stream_ops.msync(g,y,S,N,C):0},ioctl(g,y,S){if(!g.stream_ops.ioctl)throw new H.ErrnoError(59);return g.stream_ops.ioctl(g,y,S)},readFile(g,y={}){if(y.flags=y.flags||0,y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error(`Invalid encoding type "${y.encoding}"`);var S,N=H.open(g,y.flags),C=H.stat(g),$=C.size,fe=new Uint8Array($);return H.read(N,fe,0,$,0),y.encoding==="utf8"?S=Me(fe,0):y.encoding==="binary"&&(S=fe),H.close(N),S},writeFile(g,y,S={}){S.flags=S.flags||577;var N=H.open(g,S.flags,S.mode);if(typeof y=="string"){var C=new Uint8Array(Kt(y)+1),$=Gt(y,C,0,C.length);H.write(N,C,0,$,void 0,S.canOwn)}else if(ArrayBuffer.isView(y))H.write(N,y,0,y.byteLength,void 0,S.canOwn);else throw new Error("Unsupported data type");H.close(N)},cwd:()=>H.currentPath,chdir(g){var y=H.lookupPath(g,{follow:!0});if(y.node===null)throw new H.ErrnoError(44);if(!H.isDir(y.node.mode))throw new H.ErrnoError(54);var S=H.nodePermissions(y.node,"x");if(S)throw new H.ErrnoError(S);H.currentPath=y.path},createDefaultDirectories(){H.mkdir("/tmp"),H.mkdir("/home"),H.mkdir("/home/web_user")},createDefaultDevices(){H.mkdir("/dev"),H.registerDevice(H.makedev(1,3),{read:()=>0,write:(N,C,$,fe,me)=>fe}),H.mkdev("/dev/null",H.makedev(1,3)),Dn.register(H.makedev(5,0),Dn.default_tty_ops),Dn.register(H.makedev(6,0),Dn.default_tty1_ops),H.mkdev("/dev/tty",H.makedev(5,0)),H.mkdev("/dev/tty1",H.makedev(6,0));var g=new Uint8Array(1024),y=0,S=()=>(y===0&&(y=Ae(g).byteLength),g[--y]);H.createDevice("/dev","random",S),H.createDevice("/dev","urandom",S),H.mkdir("/dev/shm"),H.mkdir("/dev/shm/tmp")},createSpecialDirectories(){H.mkdir("/proc");var g=H.mkdir("/proc/self");H.mkdir("/proc/self/fd"),H.mount({mount(){var y=H.createNode(g,"fd",16895,73);return y.node_ops={lookup(S,N){var C=+N,$=H.getStreamChecked(C),fe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>$.path}};return fe.parent=fe,fe}},y}},{},"/proc/self/fd")},createStandardStreams(g,y,S){g?H.createDevice("/dev","stdin",g):H.symlink("/dev/tty","/dev/stdin"),y?H.createDevice("/dev","stdout",null,y):H.symlink("/dev/tty","/dev/stdout"),S?H.createDevice("/dev","stderr",null,S):H.symlink("/dev/tty1","/dev/stderr"),H.open("/dev/stdin",0),H.open("/dev/stdout",1),H.open("/dev/stderr",1)},staticInit(){[44].forEach(g=>{H.genericErrors[g]=new H.ErrnoError(g),H.genericErrors[g].stack="<generic error, no stack>"}),H.nameTable=new Array(4096),H.mount(Jt,{},"/"),H.createDefaultDirectories(),H.createDefaultDevices(),H.createSpecialDirectories(),H.filesystems={MEMFS:Jt}},init(g,y,S){H.initialized=!0,g??=r.stdin,y??=r.stdout,S??=r.stderr,H.createStandardStreams(g,y,S)},quit(){H.initialized=!1;for(var g=0;g<H.streams.length;g++){var y=H.streams[g];y&&H.close(y)}},findObject(g,y){var S=H.analyzePath(g,y);return S.exists?S.object:null},analyzePath(g,y){try{var S=H.lookupPath(g,{follow:!y});g=S.path}catch{}var N={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var S=H.lookupPath(g,{parent:!0});N.parentExists=!0,N.parentPath=S.path,N.parentObject=S.node,N.name=be.basename(g),S=H.lookupPath(g,{follow:!y}),N.exists=!0,N.path=S.path,N.object=S.node,N.name=S.node.name,N.isRoot=S.path==="/"}catch(C){N.error=C.errno}return N},createPath(g,y,S,N){g=typeof g=="string"?g:H.getPath(g);for(var C=y.split("/").reverse();C.length;){var $=C.pop();if($){var fe=be.join2(g,$);try{H.mkdir(fe)}catch{}g=fe}}return fe},createFile(g,y,S,N,C){var $=be.join2(typeof g=="string"?g:H.getPath(g),y),fe=Ms(N,C);return H.create($,fe)},createDataFile(g,y,S,N,C,$){var fe=y;g&&(g=typeof g=="string"?g:H.getPath(g),fe=y?be.join2(g,y):g);var me=Ms(N,C),Qe=H.create(fe,me);if(S){if(typeof S=="string"){for(var tt=new Array(S.length),at=0,mt=S.length;at<mt;++at)tt[at]=S.charCodeAt(at);S=tt}H.chmod(Qe,me|146);var Be=H.open(Qe,577);H.write(Be,S,0,S.length,0,$),H.close(Be),H.chmod(Qe,me)}},createDevice(g,y,S,N){var C=be.join2(typeof g=="string"?g:H.getPath(g),y),$=Ms(!!S,!!N);H.createDevice.major||(H.createDevice.major=64);var fe=H.makedev(H.createDevice.major++,0);return H.registerDevice(fe,{open(me){me.seekable=!1},close(me){N?.buffer?.length&&N(10)},read(me,Qe,tt,at,mt){for(var Be=0,qe=0;qe<at;qe++){var et;try{et=S()}catch{throw new H.ErrnoError(29)}if(et===void 0&&Be===0)throw new H.ErrnoError(6);if(et==null)break;Be++,Qe[tt+qe]=et}return Be&&(me.node.timestamp=Date.now()),Be},write(me,Qe,tt,at,mt){for(var Be=0;Be<at;Be++)try{N(Qe[tt+Be])}catch{throw new H.ErrnoError(29)}return at&&(me.node.timestamp=Date.now()),Be}}),H.mkdev(C,$,fe)},forceLoadFile(g){if(g.isDevice||g.isFolder||g.link||g.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{g.contents=E(g.url),g.usedBytes=g.contents.length}catch{throw new H.ErrnoError(29)}},createLazyFile(g,y,S,N,C){class ${constructor(){this.lengthKnown=!1,this.chunks=[]}get(qe){if(!(qe>this.length-1||qe<0)){var et=qe%this.chunkSize,ve=qe/this.chunkSize|0;return this.getter(ve)[et]}}setDataGetter(qe){this.getter=qe}cacheLength(){var qe=new XMLHttpRequest;if(qe.open("HEAD",S,!1),qe.send(null),!(qe.status>=200&&qe.status<300||qe.status===304))throw new Error("Couldn't load "+S+". Status: "+qe.status);var et=Number(qe.getResponseHeader("Content-length")),ve,Ie=(ve=qe.getResponseHeader("Accept-Ranges"))&&ve==="bytes",Te=(ve=qe.getResponseHeader("Content-Encoding"))&&ve==="gzip",Ze=1024*1024;Ie||(Ze=et);var Ge=(Ke,St)=>{if(Ke>St)throw new Error("invalid range ("+Ke+", "+St+") or no bytes requested!");if(St>et-1)throw new Error("only "+et+" bytes available! programmer error!");var Y=new XMLHttpRequest;if(Y.open("GET",S,!1),et!==Ze&&Y.setRequestHeader("Range","bytes="+Ke+"-"+St),Y.responseType="arraybuffer",Y.overrideMimeType&&Y.overrideMimeType("text/plain; charset=x-user-defined"),Y.send(null),!(Y.status>=200&&Y.status<300||Y.status===304))throw new Error("Couldn't load "+S+". Status: "+Y.status);return Y.response!==void 0?new Uint8Array(Y.response||[]):hn(Y.responseText||"")},Re=this;Re.setDataGetter(Ke=>{var St=Ke*Ze,Y=(Ke+1)*Ze-1;if(Y=Math.min(Y,et-1),typeof Re.chunks[Ke]>"u"&&(Re.chunks[Ke]=Ge(St,Y)),typeof Re.chunks[Ke]>"u")throw new Error("doXHR failed!");return Re.chunks[Ke]}),(Te||!et)&&(Ze=et=1,et=this.getter(0).length,Ze=et,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=et,this._chunkSize=Ze,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!u)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var fe=new $,me={isDevice:!1,contents:fe}}else var me={isDevice:!1,url:S};var Qe=H.createFile(g,y,me,N,C);me.contents?Qe.contents=me.contents:me.url&&(Qe.contents=null,Qe.url=me.url),Object.defineProperties(Qe,{usedBytes:{get:function(){return this.contents.length}}});var tt={},at=Object.keys(Qe.stream_ops);at.forEach(Be=>{var qe=Qe.stream_ops[Be];tt[Be]=(...et)=>(H.forceLoadFile(Qe),qe(...et))});function mt(Be,qe,et,ve,Ie){var Te=Be.node.contents;if(Ie>=Te.length)return 0;var Ze=Math.min(Te.length-Ie,ve);if(Te.slice)for(var Ge=0;Ge<Ze;Ge++)qe[et+Ge]=Te[Ie+Ge];else for(var Ge=0;Ge<Ze;Ge++)qe[et+Ge]=Te.get(Ie+Ge);return Ze}return tt.read=(Be,qe,et,ve,Ie)=>(H.forceLoadFile(Qe),mt(Be,qe,et,ve,Ie)),tt.mmap=(Be,qe,et,ve,Ie)=>{H.forceLoadFile(Qe);var Te=wr(qe);if(!Te)throw new H.ErrnoError(48);return mt(Be,D,Te,qe,et),{ptr:Te,allocated:!0}},Qe.stream_ops=tt,Qe}},du=(g,y)=>g?Me(L,g,y):"",un={DEFAULT_POLLMASK:5,calculateAt(g,y,S){if(be.isAbs(y))return y;var N;if(g===-100)N=H.cwd();else{var C=un.getStreamFromFD(g);N=C.path}if(y.length==0){if(!S)throw new H.ErrnoError(44);return N}return be.join2(N,y)},doStat(g,y,S){var N=g(y);P[S>>2]=N.dev,P[S+4>>2]=N.mode,q[S+8>>2]=N.nlink,P[S+12>>2]=N.uid,P[S+16>>2]=N.gid,P[S+20>>2]=N.rdev,M[S+24>>3]=BigInt(N.size),P[S+32>>2]=4096,P[S+36>>2]=N.blocks;var C=N.atime.getTime(),$=N.mtime.getTime(),fe=N.ctime.getTime();return M[S+40>>3]=BigInt(Math.floor(C/1e3)),q[S+48>>2]=C%1e3*1e3*1e3,M[S+56>>3]=BigInt(Math.floor($/1e3)),q[S+64>>2]=$%1e3*1e3*1e3,M[S+72>>3]=BigInt(Math.floor(fe/1e3)),q[S+80>>2]=fe%1e3*1e3*1e3,M[S+88>>3]=BigInt(N.ino),0},doMsync(g,y,S,N,C){if(!H.isFile(y.node.mode))throw new H.ErrnoError(43);if(N&2)return 0;var $=L.slice(g,g+S);H.msync(y,$,C,S,N)},getStreamFromFD(g){var y=H.getStreamChecked(g);return y},varargs:void 0,getStr(g){var y=du(g);return y}};function fu(g,y){try{return g=un.getStr(g),H.chmod(g,y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function pu(g,y,S,N){try{if(y=un.getStr(y),y=un.calculateAt(g,y),S&-8)return-28;var C=H.lookupPath(y,{follow:!0}),$=C.node;if(!$)return-44;var fe="";return S&4&&(fe+="r"),S&2&&(fe+="w"),S&1&&(fe+="x"),fe&&H.nodePermissions($,fe)?-2:0}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function hu(g,y){try{return H.fchmod(g,y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function ac(g,y,S){try{return H.fchown(g,y,S),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function fa(){var g=P[+un.varargs>>2];return un.varargs+=4,g}var Hi=fa;function lc(g,y,S){un.varargs=S;try{var N=un.getStreamFromFD(g);switch(y){case 0:{var C=fa();if(C<0)return-28;for(;H.streams[C];)C++;var $;return $=H.dupStream(N,C),$.fd}case 1:case 2:return 0;case 3:return N.flags;case 4:{var C=fa();return N.flags|=C,0}case 12:{var C=Hi(),fe=0;return W[C+fe>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function pa(g,y){try{var S=un.getStreamFromFD(g);return un.doStat(H.stat,S.path,y)}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var wf=0x20000000000000,ha=-0x20000000000000,$s=g=>g<ha||g>wf?NaN:Number(g);function Ka(g,y){y=$s(y);try{return isNaN(y)?61:(H.ftruncate(g,y),0)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}var Bs=(g,y,S)=>Gt(g,L,y,S);function _f(g,y){try{if(y===0)return-28;var S=H.cwd(),N=Kt(S)+1;return y<N?-68:(Bs(S,g,y),N)}catch(C){if(typeof H>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function Sf(g,y,S){un.varargs=S;try{var N=un.getStreamFromFD(g);switch(y){case 21509:return N.tty?0:-59;case 21505:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tcgets){var C=N.tty.ops.ioctl_tcgets(N),$=Hi();P[$>>2]=C.c_iflag||0,P[$+4>>2]=C.c_oflag||0,P[$+8>>2]=C.c_cflag||0,P[$+12>>2]=C.c_lflag||0;for(var fe=0;fe<32;fe++)D[$+fe+17]=C.c_cc[fe]||0;return 0}return 0}case 21510:case 21511:case 21512:return N.tty?0:-59;case 21506:case 21507:case 21508:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tcsets){for(var $=Hi(),me=P[$>>2],Qe=P[$+4>>2],tt=P[$+8>>2],at=P[$+12>>2],mt=[],fe=0;fe<32;fe++)mt.push(D[$+fe+17]);return N.tty.ops.ioctl_tcsets(N.tty,y,{c_iflag:me,c_oflag:Qe,c_cflag:tt,c_lflag:at,c_cc:mt})}return 0}case 21519:{if(!N.tty)return-59;var $=Hi();return P[$>>2]=0,0}case 21520:return N.tty?-28:-59;case 21531:{var $=Hi();return H.ioctl(N,y,$)}case 21523:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tiocgwinsz){var Be=N.tty.ops.ioctl_tiocgwinsz(N.tty),$=Hi();W[$>>1]=Be[0],W[$+2>>1]=Be[1]}return 0}case 21524:return N.tty?0:-59;case 21515:return N.tty?0:-59;default:return-28}}catch(qe){if(typeof H>"u"||qe.name!=="ErrnoError")throw qe;return-qe.errno}}function mu(g,y){try{return g=un.getStr(g),un.doStat(H.lstat,g,y)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function zs(g,y,S){try{return y=un.getStr(y),y=un.calculateAt(g,y),y=be.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),H.mkdir(y,S,0),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function gu(g,y,S,N){try{y=un.getStr(y);var C=N&256,$=N&4096;return N=N&-6401,y=un.calculateAt(g,y,$),un.doStat(C?H.lstat:H.stat,y,S)}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return-fe.errno}}function yu(g,y,S,N){un.varargs=N;try{y=un.getStr(y),y=un.calculateAt(g,y);var C=N?fa():0;return H.open(y,S,C).fd}catch($){if(typeof H>"u"||$.name!=="ErrnoError")throw $;return-$.errno}}function Ef(g,y,S,N){try{if(y=un.getStr(y),y=un.calculateAt(g,y),N<=0)return-28;var C=H.readlink(y),$=Math.min(N,Kt(C)),fe=D[S+$];return Bs(C,S,N+1),D[S+$]=fe,$}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function bu(g){try{return g=un.getStr(g),H.rmdir(g),0}catch(y){if(typeof H>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function vu(g,y){try{return g=un.getStr(g),un.doStat(H.stat,g,y)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function xu(g,y,S){try{return y=un.getStr(y),y=un.calculateAt(g,y),S===0?H.unlink(y):S===512?H.rmdir(y):ze("Invalid flags passed to unlinkat"),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var cc=g=>q[g>>2]+P[g+4>>2]*0x100000000;function wu(g,y,S,N){try{y=un.getStr(y),y=un.calculateAt(g,y,!0);var C=Date.now(),$,fe;if(!S)$=C,fe=C;else{var me=cc(S),Qe=P[S+8>>2];Qe==0x3fffffff?$=C:Qe==0x3ffffffe?$=-1:$=me*1e3+Qe/(1e3*1e3),S+=16,me=cc(S),Qe=P[S+8>>2],Qe==0x3fffffff?fe=C:Qe==0x3ffffffe?fe=-1:fe=me*1e3+Qe/(1e3*1e3)}return(fe!=-1||$!=-1)&&H.utime(y,$,fe),0}catch(tt){if(typeof H>"u"||tt.name!=="ErrnoError")throw tt;return-tt.errno}}var Nf=1,ar=()=>Nf,kf=g=>g%4===0&&(g%100!==0||g%400===0),uc=[0,31,60,91,121,152,182,213,244,274,305,335],_u=[0,31,59,90,120,151,181,212,243,273,304,334],Ga=g=>{var y=kf(g.getFullYear()),S=y?uc:_u,N=S[g.getMonth()]+g.getDate()-1;return N};function If(g,y){g=$s(g);var S=new Date(g*1e3);P[y>>2]=S.getSeconds(),P[y+4>>2]=S.getMinutes(),P[y+8>>2]=S.getHours(),P[y+12>>2]=S.getDate(),P[y+16>>2]=S.getMonth(),P[y+20>>2]=S.getFullYear()-1900,P[y+24>>2]=S.getDay();var N=Ga(S)|0;P[y+28>>2]=N,P[y+36>>2]=-(S.getTimezoneOffset()*60);var C=new Date(S.getFullYear(),0,1),$=new Date(S.getFullYear(),6,1).getTimezoneOffset(),fe=C.getTimezoneOffset(),me=($!=fe&&S.getTimezoneOffset()==Math.min(fe,$))|0;P[y+32>>2]=me}function dc(g,y,S,N,C,$,fe){C=$s(C);try{if(isNaN(C))return 61;var me=un.getStreamFromFD(N),Qe=H.mmap(me,g,C,y,S),tt=Qe.ptr;return P[$>>2]=Qe.allocated,q[fe>>2]=tt,0}catch(at){if(typeof H>"u"||at.name!=="ErrnoError")throw at;return-at.errno}}function Ja(g,y,S,N,C,$){$=$s($);try{var fe=un.getStreamFromFD(C);S&2&&un.doMsync(g,fe,y,N,$)}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}var Qi=(g,y,S,N)=>{var C=new Date().getFullYear(),$=new Date(C,0,1),fe=new Date(C,6,1),me=$.getTimezoneOffset(),Qe=fe.getTimezoneOffset(),tt=Math.max(me,Qe);q[g>>2]=tt*60,P[y>>2]=+(me!=Qe);var at=qe=>{var et=qe>=0?"-":"+",ve=Math.abs(qe),Ie=String(Math.floor(ve/60)).padStart(2,"0"),Te=String(ve%60).padStart(2,"0");return`UTC${et}${Ie}${Te}`},mt=at(me),Be=at(Qe);Qe<me?(Bs(mt,S,17),Bs(Be,N,17)):(Bs(mt,N,17),Bs(Be,S,17))},Cf=()=>Date.now(),mi;mi=()=>performance.now();var Tf=()=>0x80000000,Rf=g=>{var y=O.buffer,S=(g-y.byteLength+65535)/65536;try{return O.grow(S),F(),1}catch{}},Of=g=>{var y=L.length;g>>>=0;var S=Tf();if(g>S)return!1;for(var N=1;N<=4;N*=2){var C=y*(1+.2/N);C=Math.min(C,g+0x6000000);var $=Math.min(S,Ci(Math.max(g,C),65536)),fe=Rf($);if(fe)return!0}return!1},Bo={},Za=()=>h||"./this.program",Ti=()=>{if(!Ti.strings){var g=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:g,_:Za()};for(var S in Bo)Bo[S]===void 0?delete y[S]:y[S]=Bo[S];var N=[];for(var S in y)N.push(`${S}=${y[S]}`);Ti.strings=N}return Ti.strings},Ya=(g,y)=>{for(var S=0;S<g.length;++S)D[y++]=g.charCodeAt(S);D[y]=0},sx=(g,y)=>{var S=0;return Ti().forEach((N,C)=>{var $=y+S;q[g+C*4>>2]=$,Ya(N,$),S+=N.length+1}),0},ox=(g,y)=>{var S=Ti();q[g>>2]=S.length;var N=0;return S.forEach(C=>N+=C.length+1),q[y>>2]=N,0};function qf(g){try{var y=un.getStreamFromFD(g);return H.close(y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return S.errno}}function Om(g,y){try{var S=0,N=0,C=0,$=un.getStreamFromFD(g),fe=$.tty?2:H.isDir($.mode)?3:H.isLink($.mode)?7:4;return D[y]=fe,W[y+2>>1]=C,M[y+8>>3]=BigInt(S),M[y+16>>3]=BigInt(N),0}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return me.errno}}var jf=(g,y,S,N)=>{for(var C=0,$=0;$<S;$++){var fe=q[y>>2],me=q[y+4>>2];y+=8;var Qe=H.read(g,D,fe,me,N);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function fc(g,y,S,N){try{var C=un.getStreamFromFD(g),$=jf(C,y,S);return q[N>>2]=$,0}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}function ax(g,y,S,N){y=$s(y);try{if(isNaN(y))return 61;var C=un.getStreamFromFD(g);return H.llseek(C,y,S),M[N>>3]=BigInt(C.position),C.getdents&&y===0&&S===0&&(C.getdents=null),0}catch($){if(typeof H>"u"||$.name!=="ErrnoError")throw $;return $.errno}}function Af(g){try{var y=un.getStreamFromFD(g);return y.stream_ops?.fsync?y.stream_ops.fsync(y):0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return S.errno}}var Ln=(g,y,S,N)=>{for(var C=0,$=0;$<S;$++){var fe=q[y>>2],me=q[y+4>>2];y+=8;var Qe=H.write(g,D,fe,me,N);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function qm(g,y,S,N){try{var C=un.getStreamFromFD(g),$=Ln(C,y,S);return q[N>>2]=$,0}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}H.createPreloadedFile=da,H.staticInit();var Pf={__syscall_chmod:fu,__syscall_faccessat:pu,__syscall_fchmod:hu,__syscall_fchown32:ac,__syscall_fcntl64:lc,__syscall_fstat64:pa,__syscall_ftruncate64:Ka,__syscall_getcwd:_f,__syscall_ioctl:Sf,__syscall_lstat64:mu,__syscall_mkdirat:zs,__syscall_newfstatat:gu,__syscall_openat:yu,__syscall_readlinkat:Ef,__syscall_rmdir:bu,__syscall_stat64:vu,__syscall_unlinkat:xu,__syscall_utimensat:wu,_emscripten_get_now_is_monotonic:ar,_localtime_js:If,_mmap_js:dc,_munmap_js:Ja,_tzset_js:Qi,emscripten_date_now:Cf,emscripten_get_now:mi,emscripten_resize_heap:Of,environ_get:sx,environ_sizes_get:ox,fd_close:qf,fd_fdstat_get:Om,fd_read:fc,fd_seek:ax,fd_sync:Af,fd_write:qm,memory:O},he=tn();r._sqlite3_status64=(g,y,S,N)=>(r._sqlite3_status64=he.sqlite3_status64)(g,y,S,N),r._sqlite3_status=(g,y,S,N)=>(r._sqlite3_status=he.sqlite3_status)(g,y,S,N),r._sqlite3_db_status=(g,y,S,N,C)=>(r._sqlite3_db_status=he.sqlite3_db_status)(g,y,S,N,C),r._sqlite3_msize=g=>(r._sqlite3_msize=he.sqlite3_msize)(g),r._sqlite3_vfs_find=g=>(r._sqlite3_vfs_find=he.sqlite3_vfs_find)(g),r._sqlite3_initialize=()=>(r._sqlite3_initialize=he.sqlite3_initialize)(),r._sqlite3_malloc=g=>(r._sqlite3_malloc=he.sqlite3_malloc)(g),r._sqlite3_free=g=>(r._sqlite3_free=he.sqlite3_free)(g),r._sqlite3_vfs_register=(g,y)=>(r._sqlite3_vfs_register=he.sqlite3_vfs_register)(g,y),r._sqlite3_vfs_unregister=g=>(r._sqlite3_vfs_unregister=he.sqlite3_vfs_unregister)(g),r._sqlite3_malloc64=g=>(r._sqlite3_malloc64=he.sqlite3_malloc64)(g),r._sqlite3_realloc=(g,y)=>(r._sqlite3_realloc=he.sqlite3_realloc)(g,y),r._sqlite3_realloc64=(g,y)=>(r._sqlite3_realloc64=he.sqlite3_realloc64)(g,y),r._sqlite3_value_text=g=>(r._sqlite3_value_text=he.sqlite3_value_text)(g),r._sqlite3_randomness=(g,y)=>(r._sqlite3_randomness=he.sqlite3_randomness)(g,y),r._sqlite3_stricmp=(g,y)=>(r._sqlite3_stricmp=he.sqlite3_stricmp)(g,y),r._sqlite3_strnicmp=(g,y,S)=>(r._sqlite3_strnicmp=he.sqlite3_strnicmp)(g,y,S),r._sqlite3_uri_parameter=(g,y)=>(r._sqlite3_uri_parameter=he.sqlite3_uri_parameter)(g,y),r._sqlite3_uri_boolean=(g,y,S)=>(r._sqlite3_uri_boolean=he.sqlite3_uri_boolean)(g,y,S),r._sqlite3_serialize=(g,y,S,N)=>(r._sqlite3_serialize=he.sqlite3_serialize)(g,y,S,N),r._sqlite3_prepare_v2=(g,y,S,N,C)=>(r._sqlite3_prepare_v2=he.sqlite3_prepare_v2)(g,y,S,N,C),r._sqlite3_step=g=>(r._sqlite3_step=he.sqlite3_step)(g),r._sqlite3_column_int64=(g,y)=>(r._sqlite3_column_int64=he.sqlite3_column_int64)(g,y),r._sqlite3_reset=g=>(r._sqlite3_reset=he.sqlite3_reset)(g),r._sqlite3_exec=(g,y,S,N,C)=>(r._sqlite3_exec=he.sqlite3_exec)(g,y,S,N,C),r._sqlite3_column_int=(g,y)=>(r._sqlite3_column_int=he.sqlite3_column_int)(g,y),r._sqlite3_finalize=g=>(r._sqlite3_finalize=he.sqlite3_finalize)(g),r._sqlite3_file_control=(g,y,S,N)=>(r._sqlite3_file_control=he.sqlite3_file_control)(g,y,S,N),r._sqlite3_column_name=(g,y)=>(r._sqlite3_column_name=he.sqlite3_column_name)(g,y),r._sqlite3_column_text=(g,y)=>(r._sqlite3_column_text=he.sqlite3_column_text)(g,y),r._sqlite3_column_type=(g,y)=>(r._sqlite3_column_type=he.sqlite3_column_type)(g,y),r._sqlite3_errmsg=g=>(r._sqlite3_errmsg=he.sqlite3_errmsg)(g),r._sqlite3_deserialize=(g,y,S,N,C,$)=>(r._sqlite3_deserialize=he.sqlite3_deserialize)(g,y,S,N,C,$),r._sqlite3_clear_bindings=g=>(r._sqlite3_clear_bindings=he.sqlite3_clear_bindings)(g),r._sqlite3_value_blob=g=>(r._sqlite3_value_blob=he.sqlite3_value_blob)(g),r._sqlite3_value_bytes=g=>(r._sqlite3_value_bytes=he.sqlite3_value_bytes)(g),r._sqlite3_value_double=g=>(r._sqlite3_value_double=he.sqlite3_value_double)(g),r._sqlite3_value_int=g=>(r._sqlite3_value_int=he.sqlite3_value_int)(g),r._sqlite3_value_int64=g=>(r._sqlite3_value_int64=he.sqlite3_value_int64)(g),r._sqlite3_value_subtype=g=>(r._sqlite3_value_subtype=he.sqlite3_value_subtype)(g),r._sqlite3_value_pointer=(g,y)=>(r._sqlite3_value_pointer=he.sqlite3_value_pointer)(g,y),r._sqlite3_value_type=g=>(r._sqlite3_value_type=he.sqlite3_value_type)(g),r._sqlite3_value_nochange=g=>(r._sqlite3_value_nochange=he.sqlite3_value_nochange)(g),r._sqlite3_value_frombind=g=>(r._sqlite3_value_frombind=he.sqlite3_value_frombind)(g),r._sqlite3_value_dup=g=>(r._sqlite3_value_dup=he.sqlite3_value_dup)(g),r._sqlite3_value_free=g=>(r._sqlite3_value_free=he.sqlite3_value_free)(g),r._sqlite3_result_blob=(g,y,S,N)=>(r._sqlite3_result_blob=he.sqlite3_result_blob)(g,y,S,N),r._sqlite3_result_error_toobig=g=>(r._sqlite3_result_error_toobig=he.sqlite3_result_error_toobig)(g),r._sqlite3_result_error_nomem=g=>(r._sqlite3_result_error_nomem=he.sqlite3_result_error_nomem)(g),r._sqlite3_result_double=(g,y)=>(r._sqlite3_result_double=he.sqlite3_result_double)(g,y),r._sqlite3_result_error=(g,y,S)=>(r._sqlite3_result_error=he.sqlite3_result_error)(g,y,S),r._sqlite3_result_int=(g,y)=>(r._sqlite3_result_int=he.sqlite3_result_int)(g,y),r._sqlite3_result_int64=(g,y)=>(r._sqlite3_result_int64=he.sqlite3_result_int64)(g,y),r._sqlite3_result_null=g=>(r._sqlite3_result_null=he.sqlite3_result_null)(g),r._sqlite3_result_pointer=(g,y,S,N)=>(r._sqlite3_result_pointer=he.sqlite3_result_pointer)(g,y,S,N),r._sqlite3_result_subtype=(g,y)=>(r._sqlite3_result_subtype=he.sqlite3_result_subtype)(g,y),r._sqlite3_result_text=(g,y,S,N)=>(r._sqlite3_result_text=he.sqlite3_result_text)(g,y,S,N),r._sqlite3_result_zeroblob=(g,y)=>(r._sqlite3_result_zeroblob=he.sqlite3_result_zeroblob)(g,y),r._sqlite3_result_zeroblob64=(g,y)=>(r._sqlite3_result_zeroblob64=he.sqlite3_result_zeroblob64)(g,y),r._sqlite3_result_error_code=(g,y)=>(r._sqlite3_result_error_code=he.sqlite3_result_error_code)(g,y),r._sqlite3_user_data=g=>(r._sqlite3_user_data=he.sqlite3_user_data)(g),r._sqlite3_context_db_handle=g=>(r._sqlite3_context_db_handle=he.sqlite3_context_db_handle)(g),r._sqlite3_vtab_nochange=g=>(r._sqlite3_vtab_nochange=he.sqlite3_vtab_nochange)(g),r._sqlite3_vtab_in_first=(g,y)=>(r._sqlite3_vtab_in_first=he.sqlite3_vtab_in_first)(g,y),r._sqlite3_vtab_in_next=(g,y)=>(r._sqlite3_vtab_in_next=he.sqlite3_vtab_in_next)(g,y),r._sqlite3_aggregate_context=(g,y)=>(r._sqlite3_aggregate_context=he.sqlite3_aggregate_context)(g,y),r._sqlite3_get_auxdata=(g,y)=>(r._sqlite3_get_auxdata=he.sqlite3_get_auxdata)(g,y),r._sqlite3_set_auxdata=(g,y,S,N)=>(r._sqlite3_set_auxdata=he.sqlite3_set_auxdata)(g,y,S,N),r._sqlite3_column_count=g=>(r._sqlite3_column_count=he.sqlite3_column_count)(g),r._sqlite3_data_count=g=>(r._sqlite3_data_count=he.sqlite3_data_count)(g),r._sqlite3_column_blob=(g,y)=>(r._sqlite3_column_blob=he.sqlite3_column_blob)(g,y),r._sqlite3_column_bytes=(g,y)=>(r._sqlite3_column_bytes=he.sqlite3_column_bytes)(g,y),r._sqlite3_column_double=(g,y)=>(r._sqlite3_column_double=he.sqlite3_column_double)(g,y),r._sqlite3_column_value=(g,y)=>(r._sqlite3_column_value=he.sqlite3_column_value)(g,y),r._sqlite3_column_decltype=(g,y)=>(r._sqlite3_column_decltype=he.sqlite3_column_decltype)(g,y),r._sqlite3_bind_blob=(g,y,S,N,C)=>(r._sqlite3_bind_blob=he.sqlite3_bind_blob)(g,y,S,N,C),r._sqlite3_bind_double=(g,y,S)=>(r._sqlite3_bind_double=he.sqlite3_bind_double)(g,y,S),r._sqlite3_bind_int=(g,y,S)=>(r._sqlite3_bind_int=he.sqlite3_bind_int)(g,y,S),r._sqlite3_bind_int64=(g,y,S)=>(r._sqlite3_bind_int64=he.sqlite3_bind_int64)(g,y,S),r._sqlite3_bind_null=(g,y)=>(r._sqlite3_bind_null=he.sqlite3_bind_null)(g,y),r._sqlite3_bind_pointer=(g,y,S,N,C)=>(r._sqlite3_bind_pointer=he.sqlite3_bind_pointer)(g,y,S,N,C),r._sqlite3_bind_text=(g,y,S,N,C)=>(r._sqlite3_bind_text=he.sqlite3_bind_text)(g,y,S,N,C),r._sqlite3_bind_parameter_count=g=>(r._sqlite3_bind_parameter_count=he.sqlite3_bind_parameter_count)(g),r._sqlite3_bind_parameter_name=(g,y)=>(r._sqlite3_bind_parameter_name=he.sqlite3_bind_parameter_name)(g,y),r._sqlite3_bind_parameter_index=(g,y)=>(r._sqlite3_bind_parameter_index=he.sqlite3_bind_parameter_index)(g,y),r._sqlite3_db_handle=g=>(r._sqlite3_db_handle=he.sqlite3_db_handle)(g),r._sqlite3_stmt_readonly=g=>(r._sqlite3_stmt_readonly=he.sqlite3_stmt_readonly)(g),r._sqlite3_stmt_isexplain=g=>(r._sqlite3_stmt_isexplain=he.sqlite3_stmt_isexplain)(g),r._sqlite3_stmt_explain=(g,y)=>(r._sqlite3_stmt_explain=he.sqlite3_stmt_explain)(g,y),r._sqlite3_stmt_busy=g=>(r._sqlite3_stmt_busy=he.sqlite3_stmt_busy)(g),r._sqlite3_stmt_status=(g,y,S)=>(r._sqlite3_stmt_status=he.sqlite3_stmt_status)(g,y,S),r._sqlite3_sql=g=>(r._sqlite3_sql=he.sqlite3_sql)(g),r._sqlite3_expanded_sql=g=>(r._sqlite3_expanded_sql=he.sqlite3_expanded_sql)(g),r._sqlite3_preupdate_old=(g,y,S)=>(r._sqlite3_preupdate_old=he.sqlite3_preupdate_old)(g,y,S),r._sqlite3_preupdate_count=g=>(r._sqlite3_preupdate_count=he.sqlite3_preupdate_count)(g),r._sqlite3_preupdate_depth=g=>(r._sqlite3_preupdate_depth=he.sqlite3_preupdate_depth)(g),r._sqlite3_preupdate_blobwrite=g=>(r._sqlite3_preupdate_blobwrite=he.sqlite3_preupdate_blobwrite)(g),r._sqlite3_preupdate_new=(g,y,S)=>(r._sqlite3_preupdate_new=he.sqlite3_preupdate_new)(g,y,S),r._sqlite3_value_numeric_type=g=>(r._sqlite3_value_numeric_type=he.sqlite3_value_numeric_type)(g),r._sqlite3_set_authorizer=(g,y,S)=>(r._sqlite3_set_authorizer=he.sqlite3_set_authorizer)(g,y,S),r._sqlite3_strglob=(g,y)=>(r._sqlite3_strglob=he.sqlite3_strglob)(g,y),r._sqlite3_strlike=(g,y,S)=>(r._sqlite3_strlike=he.sqlite3_strlike)(g,y,S),r._sqlite3_auto_extension=g=>(r._sqlite3_auto_extension=he.sqlite3_auto_extension)(g),r._sqlite3_cancel_auto_extension=g=>(r._sqlite3_cancel_auto_extension=he.sqlite3_cancel_auto_extension)(g),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=he.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(g,y,S,N,C,$)=>(r._sqlite3_prepare_v3=he.sqlite3_prepare_v3)(g,y,S,N,C,$),r._sqlite3_create_module=(g,y,S,N)=>(r._sqlite3_create_module=he.sqlite3_create_module)(g,y,S,N),r._sqlite3_create_module_v2=(g,y,S,N,C)=>(r._sqlite3_create_module_v2=he.sqlite3_create_module_v2)(g,y,S,N,C),r._sqlite3_drop_modules=(g,y)=>(r._sqlite3_drop_modules=he.sqlite3_drop_modules)(g,y),r._sqlite3_declare_vtab=(g,y)=>(r._sqlite3_declare_vtab=he.sqlite3_declare_vtab)(g,y),r._sqlite3_vtab_on_conflict=g=>(r._sqlite3_vtab_on_conflict=he.sqlite3_vtab_on_conflict)(g),r._sqlite3_vtab_collation=(g,y)=>(r._sqlite3_vtab_collation=he.sqlite3_vtab_collation)(g,y),r._sqlite3_vtab_in=(g,y,S)=>(r._sqlite3_vtab_in=he.sqlite3_vtab_in)(g,y,S),r._sqlite3_vtab_rhs_value=(g,y,S)=>(r._sqlite3_vtab_rhs_value=he.sqlite3_vtab_rhs_value)(g,y,S),r._sqlite3_vtab_distinct=g=>(r._sqlite3_vtab_distinct=he.sqlite3_vtab_distinct)(g),r._sqlite3_keyword_name=(g,y,S)=>(r._sqlite3_keyword_name=he.sqlite3_keyword_name)(g,y,S),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=he.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(g,y)=>(r._sqlite3_keyword_check=he.sqlite3_keyword_check)(g,y),r._sqlite3_complete=g=>(r._sqlite3_complete=he.sqlite3_complete)(g),r._sqlite3_libversion=()=>(r._sqlite3_libversion=he.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=he.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=he.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=g=>(r._sqlite3_last_insert_rowid=he.sqlite3_last_insert_rowid)(g),r._sqlite3_set_last_insert_rowid=(g,y)=>(r._sqlite3_set_last_insert_rowid=he.sqlite3_set_last_insert_rowid)(g,y),r._sqlite3_changes64=g=>(r._sqlite3_changes64=he.sqlite3_changes64)(g),r._sqlite3_changes=g=>(r._sqlite3_changes=he.sqlite3_changes)(g),r._sqlite3_total_changes64=g=>(r._sqlite3_total_changes64=he.sqlite3_total_changes64)(g),r._sqlite3_total_changes=g=>(r._sqlite3_total_changes=he.sqlite3_total_changes)(g),r._sqlite3_txn_state=(g,y)=>(r._sqlite3_txn_state=he.sqlite3_txn_state)(g,y),r._sqlite3_close_v2=g=>(r._sqlite3_close_v2=he.sqlite3_close_v2)(g),r._sqlite3_busy_handler=(g,y,S)=>(r._sqlite3_busy_handler=he.sqlite3_busy_handler)(g,y,S),r._sqlite3_progress_handler=(g,y,S,N)=>(r._sqlite3_progress_handler=he.sqlite3_progress_handler)(g,y,S,N),r._sqlite3_busy_timeout=(g,y)=>(r._sqlite3_busy_timeout=he.sqlite3_busy_timeout)(g,y),r._sqlite3_interrupt=g=>(r._sqlite3_interrupt=he.sqlite3_interrupt)(g),r._sqlite3_is_interrupted=g=>(r._sqlite3_is_interrupted=he.sqlite3_is_interrupted)(g),r._sqlite3_create_function=(g,y,S,N,C,$,fe,me)=>(r._sqlite3_create_function=he.sqlite3_create_function)(g,y,S,N,C,$,fe,me),r._sqlite3_create_function_v2=(g,y,S,N,C,$,fe,me,Qe)=>(r._sqlite3_create_function_v2=he.sqlite3_create_function_v2)(g,y,S,N,C,$,fe,me,Qe),r._sqlite3_create_window_function=(g,y,S,N,C,$,fe,me,Qe,tt)=>(r._sqlite3_create_window_function=he.sqlite3_create_window_function)(g,y,S,N,C,$,fe,me,Qe,tt),r._sqlite3_overload_function=(g,y,S)=>(r._sqlite3_overload_function=he.sqlite3_overload_function)(g,y,S),r._sqlite3_trace_v2=(g,y,S,N)=>(r._sqlite3_trace_v2=he.sqlite3_trace_v2)(g,y,S,N),r._sqlite3_commit_hook=(g,y,S)=>(r._sqlite3_commit_hook=he.sqlite3_commit_hook)(g,y,S),r._sqlite3_update_hook=(g,y,S)=>(r._sqlite3_update_hook=he.sqlite3_update_hook)(g,y,S),r._sqlite3_rollback_hook=(g,y,S)=>(r._sqlite3_rollback_hook=he.sqlite3_rollback_hook)(g,y,S),r._sqlite3_preupdate_hook=(g,y,S)=>(r._sqlite3_preupdate_hook=he.sqlite3_preupdate_hook)(g,y,S),r._sqlite3_error_offset=g=>(r._sqlite3_error_offset=he.sqlite3_error_offset)(g),r._sqlite3_errcode=g=>(r._sqlite3_errcode=he.sqlite3_errcode)(g),r._sqlite3_extended_errcode=g=>(r._sqlite3_extended_errcode=he.sqlite3_extended_errcode)(g),r._sqlite3_errstr=g=>(r._sqlite3_errstr=he.sqlite3_errstr)(g),r._sqlite3_limit=(g,y,S)=>(r._sqlite3_limit=he.sqlite3_limit)(g,y,S),r._sqlite3_open=(g,y)=>(r._sqlite3_open=he.sqlite3_open)(g,y),r._sqlite3_open_v2=(g,y,S,N)=>(r._sqlite3_open_v2=he.sqlite3_open_v2)(g,y,S,N),r._sqlite3_create_collation=(g,y,S,N,C)=>(r._sqlite3_create_collation=he.sqlite3_create_collation)(g,y,S,N,C),r._sqlite3_create_collation_v2=(g,y,S,N,C,$)=>(r._sqlite3_create_collation_v2=he.sqlite3_create_collation_v2)(g,y,S,N,C,$),r._sqlite3_collation_needed=(g,y,S)=>(r._sqlite3_collation_needed=he.sqlite3_collation_needed)(g,y,S),r._sqlite3_get_autocommit=g=>(r._sqlite3_get_autocommit=he.sqlite3_get_autocommit)(g),r._sqlite3_table_column_metadata=(g,y,S,N,C,$,fe,me,Qe)=>(r._sqlite3_table_column_metadata=he.sqlite3_table_column_metadata)(g,y,S,N,C,$,fe,me,Qe),r._sqlite3_extended_result_codes=(g,y)=>(r._sqlite3_extended_result_codes=he.sqlite3_extended_result_codes)(g,y),r._sqlite3_uri_key=(g,y)=>(r._sqlite3_uri_key=he.sqlite3_uri_key)(g,y),r._sqlite3_uri_int64=(g,y,S)=>(r._sqlite3_uri_int64=he.sqlite3_uri_int64)(g,y,S),r._sqlite3_db_name=(g,y)=>(r._sqlite3_db_name=he.sqlite3_db_name)(g,y),r._sqlite3_db_filename=(g,y)=>(r._sqlite3_db_filename=he.sqlite3_db_filename)(g,y),r._sqlite3_db_readonly=(g,y)=>(r._sqlite3_db_readonly=he.sqlite3_db_readonly)(g,y),r._sqlite3_compileoption_used=g=>(r._sqlite3_compileoption_used=he.sqlite3_compileoption_used)(g),r._sqlite3_compileoption_get=g=>(r._sqlite3_compileoption_get=he.sqlite3_compileoption_get)(g),r._sqlite3session_diff=(g,y,S,N)=>(r._sqlite3session_diff=he.sqlite3session_diff)(g,y,S,N),r._sqlite3session_attach=(g,y)=>(r._sqlite3session_attach=he.sqlite3session_attach)(g,y),r._sqlite3session_create=(g,y,S)=>(r._sqlite3session_create=he.sqlite3session_create)(g,y,S),r._sqlite3session_delete=g=>(r._sqlite3session_delete=he.sqlite3session_delete)(g),r._sqlite3session_table_filter=(g,y,S)=>(r._sqlite3session_table_filter=he.sqlite3session_table_filter)(g,y,S),r._sqlite3session_changeset=(g,y,S)=>(r._sqlite3session_changeset=he.sqlite3session_changeset)(g,y,S),r._sqlite3session_changeset_strm=(g,y,S)=>(r._sqlite3session_changeset_strm=he.sqlite3session_changeset_strm)(g,y,S),r._sqlite3session_patchset_strm=(g,y,S)=>(r._sqlite3session_patchset_strm=he.sqlite3session_patchset_strm)(g,y,S),r._sqlite3session_patchset=(g,y,S)=>(r._sqlite3session_patchset=he.sqlite3session_patchset)(g,y,S),r._sqlite3session_enable=(g,y)=>(r._sqlite3session_enable=he.sqlite3session_enable)(g,y),r._sqlite3session_indirect=(g,y)=>(r._sqlite3session_indirect=he.sqlite3session_indirect)(g,y),r._sqlite3session_isempty=g=>(r._sqlite3session_isempty=he.sqlite3session_isempty)(g),r._sqlite3session_memory_used=g=>(r._sqlite3session_memory_used=he.sqlite3session_memory_used)(g),r._sqlite3session_object_config=(g,y,S)=>(r._sqlite3session_object_config=he.sqlite3session_object_config)(g,y,S),r._sqlite3session_changeset_size=g=>(r._sqlite3session_changeset_size=he.sqlite3session_changeset_size)(g),r._sqlite3changeset_start=(g,y,S)=>(r._sqlite3changeset_start=he.sqlite3changeset_start)(g,y,S),r._sqlite3changeset_start_v2=(g,y,S,N)=>(r._sqlite3changeset_start_v2=he.sqlite3changeset_start_v2)(g,y,S,N),r._sqlite3changeset_start_strm=(g,y,S)=>(r._sqlite3changeset_start_strm=he.sqlite3changeset_start_strm)(g,y,S),r._sqlite3changeset_start_v2_strm=(g,y,S,N)=>(r._sqlite3changeset_start_v2_strm=he.sqlite3changeset_start_v2_strm)(g,y,S,N),r._sqlite3changeset_next=g=>(r._sqlite3changeset_next=he.sqlite3changeset_next)(g),r._sqlite3changeset_op=(g,y,S,N,C)=>(r._sqlite3changeset_op=he.sqlite3changeset_op)(g,y,S,N,C),r._sqlite3changeset_pk=(g,y,S)=>(r._sqlite3changeset_pk=he.sqlite3changeset_pk)(g,y,S),r._sqlite3changeset_old=(g,y,S)=>(r._sqlite3changeset_old=he.sqlite3changeset_old)(g,y,S),r._sqlite3changeset_new=(g,y,S)=>(r._sqlite3changeset_new=he.sqlite3changeset_new)(g,y,S),r._sqlite3changeset_conflict=(g,y,S)=>(r._sqlite3changeset_conflict=he.sqlite3changeset_conflict)(g,y,S),r._sqlite3changeset_fk_conflicts=(g,y)=>(r._sqlite3changeset_fk_conflicts=he.sqlite3changeset_fk_conflicts)(g,y),r._sqlite3changeset_finalize=g=>(r._sqlite3changeset_finalize=he.sqlite3changeset_finalize)(g),r._sqlite3changeset_invert=(g,y,S,N)=>(r._sqlite3changeset_invert=he.sqlite3changeset_invert)(g,y,S,N),r._sqlite3changeset_invert_strm=(g,y,S,N)=>(r._sqlite3changeset_invert_strm=he.sqlite3changeset_invert_strm)(g,y,S,N),r._sqlite3changeset_apply_v2=(g,y,S,N,C,$,fe,me,Qe)=>(r._sqlite3changeset_apply_v2=he.sqlite3changeset_apply_v2)(g,y,S,N,C,$,fe,me,Qe),r._sqlite3changeset_apply=(g,y,S,N,C,$)=>(r._sqlite3changeset_apply=he.sqlite3changeset_apply)(g,y,S,N,C,$),r._sqlite3changeset_apply_v2_strm=(g,y,S,N,C,$,fe,me,Qe)=>(r._sqlite3changeset_apply_v2_strm=he.sqlite3changeset_apply_v2_strm)(g,y,S,N,C,$,fe,me,Qe),r._sqlite3changeset_apply_strm=(g,y,S,N,C,$)=>(r._sqlite3changeset_apply_strm=he.sqlite3changeset_apply_strm)(g,y,S,N,C,$),r._sqlite3changegroup_new=g=>(r._sqlite3changegroup_new=he.sqlite3changegroup_new)(g),r._sqlite3changegroup_add=(g,y,S)=>(r._sqlite3changegroup_add=he.sqlite3changegroup_add)(g,y,S),r._sqlite3changegroup_output=(g,y,S)=>(r._sqlite3changegroup_output=he.sqlite3changegroup_output)(g,y,S),r._sqlite3changegroup_add_strm=(g,y,S)=>(r._sqlite3changegroup_add_strm=he.sqlite3changegroup_add_strm)(g,y,S),r._sqlite3changegroup_output_strm=(g,y,S)=>(r._sqlite3changegroup_output_strm=he.sqlite3changegroup_output_strm)(g,y,S),r._sqlite3changegroup_delete=g=>(r._sqlite3changegroup_delete=he.sqlite3changegroup_delete)(g),r._sqlite3changeset_concat=(g,y,S,N,C,$)=>(r._sqlite3changeset_concat=he.sqlite3changeset_concat)(g,y,S,N,C,$),r._sqlite3changeset_concat_strm=(g,y,S,N,C,$)=>(r._sqlite3changeset_concat_strm=he.sqlite3changeset_concat_strm)(g,y,S,N,C,$),r._sqlite3session_config=(g,y)=>(r._sqlite3session_config=he.sqlite3session_config)(g,y),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=he.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=he.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=g=>(r._sqlite3__wasm_pstack_restore=he.sqlite3__wasm_pstack_restore)(g),r._sqlite3__wasm_pstack_alloc=g=>(r._sqlite3__wasm_pstack_alloc=he.sqlite3__wasm_pstack_alloc)(g),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=he.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=he.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(g,y,S)=>(r._sqlite3__wasm_db_error=he.sqlite3__wasm_db_error)(g,y,S),r._sqlite3__wasm_test_struct=g=>(r._sqlite3__wasm_test_struct=he.sqlite3__wasm_test_struct)(g),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=he.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(g,y)=>(r._sqlite3__wasm_vfs_unlink=he.sqlite3__wasm_vfs_unlink)(g,y),r._sqlite3__wasm_db_vfs=(g,y)=>(r._sqlite3__wasm_db_vfs=he.sqlite3__wasm_db_vfs)(g,y),r._sqlite3__wasm_db_reset=g=>(r._sqlite3__wasm_db_reset=he.sqlite3__wasm_db_reset)(g),r._sqlite3__wasm_db_export_chunked=(g,y)=>(r._sqlite3__wasm_db_export_chunked=he.sqlite3__wasm_db_export_chunked)(g,y),r._sqlite3__wasm_db_serialize=(g,y,S,N,C)=>(r._sqlite3__wasm_db_serialize=he.sqlite3__wasm_db_serialize)(g,y,S,N,C),r._sqlite3__wasm_vfs_create_file=(g,y,S,N)=>(r._sqlite3__wasm_vfs_create_file=he.sqlite3__wasm_vfs_create_file)(g,y,S,N),r._sqlite3__wasm_posix_create_file=(g,y,S)=>(r._sqlite3__wasm_posix_create_file=he.sqlite3__wasm_posix_create_file)(g,y,S),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(g,y)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=he.sqlite3__wasm_kvvfsMakeKeyOnPstack)(g,y),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=he.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(g,y,S)=>(r._sqlite3__wasm_vtab_config=he.sqlite3__wasm_vtab_config)(g,y,S),r._sqlite3__wasm_db_config_ip=(g,y,S,N)=>(r._sqlite3__wasm_db_config_ip=he.sqlite3__wasm_db_config_ip)(g,y,S,N),r._sqlite3__wasm_db_config_pii=(g,y,S,N,C)=>(r._sqlite3__wasm_db_config_pii=he.sqlite3__wasm_db_config_pii)(g,y,S,N,C),r._sqlite3__wasm_db_config_s=(g,y,S)=>(r._sqlite3__wasm_db_config_s=he.sqlite3__wasm_db_config_s)(g,y,S),r._sqlite3__wasm_config_i=(g,y)=>(r._sqlite3__wasm_config_i=he.sqlite3__wasm_config_i)(g,y),r._sqlite3__wasm_config_ii=(g,y,S)=>(r._sqlite3__wasm_config_ii=he.sqlite3__wasm_config_ii)(g,y,S),r._sqlite3__wasm_config_j=(g,y)=>(r._sqlite3__wasm_config_j=he.sqlite3__wasm_config_j)(g,y),r._sqlite3__wasm_qfmt_token=(g,y)=>(r._sqlite3__wasm_qfmt_token=he.sqlite3__wasm_qfmt_token)(g,y),r._sqlite3__wasm_init_wasmfs=g=>(r._sqlite3__wasm_init_wasmfs=he.sqlite3__wasm_init_wasmfs)(g),r._sqlite3__wasm_test_intptr=g=>(r._sqlite3__wasm_test_intptr=he.sqlite3__wasm_test_intptr)(g),r._sqlite3__wasm_test_voidptr=g=>(r._sqlite3__wasm_test_voidptr=he.sqlite3__wasm_test_voidptr)(g),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=he.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=he.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=g=>(r._sqlite3__wasm_test_int64_times2=he.sqlite3__wasm_test_int64_times2)(g),r._sqlite3__wasm_test_int64_minmax=(g,y)=>(r._sqlite3__wasm_test_int64_minmax=he.sqlite3__wasm_test_int64_minmax)(g,y),r._sqlite3__wasm_test_int64ptr=g=>(r._sqlite3__wasm_test_int64ptr=he.sqlite3__wasm_test_int64ptr)(g),r._sqlite3__wasm_test_stack_overflow=g=>(r._sqlite3__wasm_test_stack_overflow=he.sqlite3__wasm_test_stack_overflow)(g),r._sqlite3__wasm_test_str_hello=g=>(r._sqlite3__wasm_test_str_hello=he.sqlite3__wasm_test_str_hello)(g),r._sqlite3__wasm_SQLTester_strglob=(g,y)=>(r._sqlite3__wasm_SQLTester_strglob=he.sqlite3__wasm_SQLTester_strglob)(g,y),r._malloc=g=>(r._malloc=he.malloc)(g),r._free=g=>(r._free=he.free)(g),r._realloc=(g,y)=>(r._realloc=he.realloc)(g,y);var Ff=(g,y)=>(Ff=he.emscripten_builtin_memalign)(g,y);r.wasmMemory=O;var pc;de=function g(){pc||Df(),pc||(de=g)};function Df(){if(ue>0||(Z(),ue>0))return;function g(){pc||(pc=!0,r.calledRun=!0,!A&&(le(),i(r),r.onRuntimeInitialized?.(),se()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),g()},1)):g()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Df(),r.postRun||(r.postRun=[]),r.postRun.push(function(g){if(globalThis.sqlite3ApiBootstrap=function y(S=globalThis.sqlite3ApiConfig||y.defaultConfig){if(y.sqlite3)return(y.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),y.sqlite3;const N=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof g<"u"&&g.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},S||{});Object.assign(N,{allocExportName:N.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:N.useStdAlloc?"free":"sqlite3_free",reallocExportName:N.useStdAlloc?"realloc":"sqlite3_realloc"},N),["exports","memory","wasmfsOpfsDir"].forEach(Q=>{typeof N[Q]=="function"&&(N[Q]=N[Q]())}),delete globalThis.sqlite3ApiConfig,delete y.defaultConfig;const C=Object.create(null),$=Object.create(null),fe=Q=>C.sqlite3_js_rc_str&&C.sqlite3_js_rc_str(Q)||"Unknown result code #"+Q,me=Q=>typeof Q=="number"&&Q===(Q|0);class Qe extends Error{constructor(...ne){let ie;if(ne.length)if(me(ne[0]))if(ie=ne[0],ne.length===1)super(fe(ne[0]));else{const Le=fe(ie);typeof ne[1]=="object"?super(Le,ne[1]):(ne[0]=Le+":",super(ne.join(" ")))}else ne.length===2&&typeof ne[1]=="object"?super(...ne):super(ne.join(" "));this.resultCode=ie||C.SQLITE_ERROR,this.name="SQLite3Error"}}Qe.toss=(...Q)=>{throw new Qe(...Q)};const tt=Qe.toss;N.wasmfsOpfsDir&&!/^\/[^/]+$/.test(N.wasmfsOpfsDir)&&tt("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const at=Q=>typeof Q!="bigint"&&Q===(Q|0)&&Q<=0x7fffffff&&Q>=-0x80000000,mt=function Q(ne){return Q._max||(Q._max=BigInt("0x7fffffffffffffff"),Q._min=~Q._max),ne>=Q._min&&ne<=Q._max},Be=Q=>Q>=-2147483647n-1n&&Q<=2147483647n,qe=function Q(ne){return Q._min||(Q._min=Number.MIN_SAFE_INTEGER,Q._max=Number.MAX_SAFE_INTEGER),ne>=Q._min&&ne<=Q._max},et=Q=>Q&&Q.constructor&&at(Q.constructor.BYTES_PER_ELEMENT)?Q:!1,ve=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ie=Q=>Q.buffer instanceof ve,Te=(Q,ne,ie)=>Ie(Q)?Q.slice(ne,ie):Q.subarray(ne,ie),Ze=Q=>Q&&(Q instanceof Uint8Array||Q instanceof Int8Array||Q instanceof ArrayBuffer),Ge=Q=>Q&&(Q instanceof Uint8Array||Q instanceof Int8Array||Q instanceof ArrayBuffer),Re=Q=>Ze(Q)||tt("Value is not of a supported TypedArray type."),Ke=new TextDecoder("utf-8"),St=function(Q,ne,ie){return Ke.decode(Te(Q,ne,ie))},Y=function(Q){return Ge(Q)?St(Q instanceof ArrayBuffer?new Uint8Array(Q):Q):Array.isArray(Q)?Q.join(""):($.isPtr(Q)&&(Q=$.cstrToJs(Q)),Q)};class ce extends Error{constructor(...ne){ne.length===2&&typeof ne[1]=="object"?super(...ne):ne.length?super(ne.join(" ")):super("Allocation failed."),this.resultCode=C.SQLITE_NOMEM,this.name="WasmAllocError"}}ce.toss=(...Q)=>{throw new ce(...Q)},Object.assign(C,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(Q,ne,ie,Le,it,Rt,zt,Zt,lt)=>{},sqlite3_create_function:(Q,ne,ie,Le,it,Rt,zt,Zt)=>{},sqlite3_create_window_function:(Q,ne,ie,Le,it,Rt,zt,Zt,lt,_e)=>{},sqlite3_prepare_v3:(Q,ne,ie,Le,it,Rt)=>{},sqlite3_prepare_v2:(Q,ne,ie,Le,it)=>{},sqlite3_exec:(Q,ne,ie,Le,it)=>{},sqlite3_randomness:(Q,ne)=>{}});const Ee={affirmBindableTypedArray:Re,flexibleString:Y,bigIntFits32:Be,bigIntFits64:mt,bigIntFitsDouble:qe,isBindableTypedArray:Ze,isInt32:at,isSQLableTypedArray:Ge,isTypedArray:et,typedArrayToString:St,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:Ie,toss:function(...Q){throw new Error(Q.join(" "))},toss3:tt,typedArrayPart:Te,affirmDbHeader:function(Q){Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q));const ne="SQLite format 3";ne.length>Q.byteLength&&tt("Input does not contain an SQLite3 database header.");for(let ie=0;ie<ne.length;++ie)ne.charCodeAt(ie)!==Q[ie]&&tt("Input does not contain an SQLite3 database header.")},affirmIsDb:function(Q){Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q));const ne=Q.byteLength;(ne<512||ne%512!==0)&&tt("Byte array size",ne,"is invalid for an SQLite3 db."),Ee.affirmDbHeader(Q)}};Object.assign($,{ptrSizeof:N.wasmPtrSizeof||4,ptrIR:N.wasmPtrIR||"i32",bigIntEnabled:!!N.bigIntEnabled,exports:N.exports||tt("Missing API config.exports (WASM module exports)."),memory:N.memory||N.exports.memory||tt("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),$.allocFromTypedArray=function(Q){Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),Re(Q);const ne=$.alloc(Q.byteLength||1);return $.heapForSize(Q.constructor).set(Q.byteLength?Q:[0],ne),ne};{const Q=N.allocExportName,ne=N.deallocExportName,ie=N.reallocExportName;for(const Le of[Q,ne,ie])$.exports[Le]instanceof Function||tt("Missing required exports[",Le,"] function.");$.alloc=function Le(it){return Le.impl(it)||ce.toss("Failed to allocate",it," bytes.")},$.alloc.impl=$.exports[Q],$.realloc=function Le(it,Rt){const zt=Le.impl(it,Rt);return Rt?zt||ce.toss("Failed to reallocate",Rt," bytes."):0},$.realloc.impl=$.exports[ie],$.dealloc=$.exports[ne]}$.compileOptionUsed=function Q(ne){if(arguments.length){if(Array.isArray(ne)){const ie={};return ne.forEach(Le=>{ie[Le]=C.sqlite3_compileoption_used(Le)}),ie}else if(typeof ne=="object")return Object.keys(ne).forEach(ie=>{ne[ie]=C.sqlite3_compileoption_used(ie)}),ne}else{if(Q._result)return Q._result;Q._opt||(Q._rx=/^([^=]+)=(.+)/,Q._rxInt=/^-?\d+$/,Q._opt=function(zt,Zt){const lt=Q._rx.exec(zt);Zt[0]=lt?lt[1]:zt,Zt[1]=lt?Q._rxInt.test(lt[2])?+lt[2]:lt[2]:!0});const ie={},Le=[0,0];let it=0,Rt;for(;Rt=C.sqlite3_compileoption_get(it++);)Q._opt(Rt,Le),ie[Le[0]]=Le[1];return Q._result=ie}return typeof ne=="string"?!!C.sqlite3_compileoption_used(ne):!1},$.pstack=Object.assign(Object.create(null),{restore:$.exports.sqlite3__wasm_pstack_restore,alloc:function(Q){return typeof Q=="string"&&!(Q=$.sizeofIR(Q))&&ce.toss("Invalid value for pstack.alloc(",arguments[0],")"),$.exports.sqlite3__wasm_pstack_alloc(Q)||ce.toss("Could not allocate",Q,"bytes from the pstack.")},allocChunks:function(Q,ne){typeof ne=="string"&&!(ne=$.sizeofIR(ne))&&ce.toss("Invalid size value for allocChunks(",arguments[1],")");const ie=$.pstack.alloc(Q*ne),Le=[];let it=0,Rt=0;for(;it<Q;++it,Rt+=ne)Le.push(ie+Rt);return Le},allocPtr:(Q=1,ne=!0)=>Q===1?$.pstack.alloc(ne?8:$.ptrSizeof):$.pstack.allocChunks(Q,ne?8:$.ptrSizeof),call:function(Q){const ne=$.pstack.pointer;try{return Q(pe)}finally{$.pstack.restore(ne)}}}),Object.defineProperties($.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_remaining}}),C.sqlite3_randomness=(...Q)=>{if(Q.length===1&&Ee.isTypedArray(Q[0])&&Q[0].BYTES_PER_ELEMENT===1){const ne=Q[0];if(ne.byteLength===0)return $.exports.sqlite3_randomness(0,0),ne;const ie=$.pstack.pointer;try{let Le=ne.byteLength,it=0;const Rt=$.exports.sqlite3_randomness,zt=$.heap8u(),Zt=Le<512?Le:512,lt=$.pstack.alloc(Zt);do{const _e=Le>Zt?Zt:Le;Rt(_e,lt),ne.set(Te(zt,lt,lt+_e),it),Le-=_e,it+=_e}while(Le>0)}catch(Le){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Le)}finally{$.pstack.restore(ie)}return ne}$.exports.sqlite3_randomness(...Q)};let st;if(C.sqlite3_wasmfs_opfs_dir=function(){if(st!==void 0)return st;const Q=N.wasmfsOpfsDir;if(!Q||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return st="";try{return Q&&$.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],Q)===0?st=Q:st=""}catch{return st=""}},C.sqlite3_wasmfs_filename_is_persistent=function(Q){const ne=C.sqlite3_wasmfs_opfs_dir();return ne&&Q?Q.startsWith(ne+"/"):!1},C.sqlite3_js_db_uses_vfs=function(Q,ne,ie=0){try{const Le=C.sqlite3_vfs_find(ne);return Le?Q?Le===C.sqlite3_js_db_vfs(Q,ie)?Le:!1:Le===C.sqlite3_vfs_find(0)?Le:!1:!1}catch{return!1}},C.sqlite3_js_vfs_list=function(){const Q=[];let ne=C.sqlite3_vfs_find(0);for(;ne;){const ie=new C.sqlite3_vfs(ne);Q.push($.cstrToJs(ie.$zName)),ne=ie.$pNext,ie.dispose()}return Q},C.sqlite3_js_db_export=function(Q,ne=0){Q=$.xWrap.testConvertArg("sqlite3*",Q),Q||tt("Invalid sqlite3* argument."),$.bigIntEnabled||tt("BigInt64 support is not enabled.");const ie=$.scopedAllocPush();let Le;try{const it=$.scopedAlloc(8+$.ptrSizeof),Rt=it+8,zt=ne?$.isPtr(ne)?ne:$.scopedAllocCString(""+ne):0;let Zt=$.exports.sqlite3__wasm_db_serialize(Q,zt,Rt,it,0);Zt&&tt("Database serialization failed with code",pe.capi.sqlite3_js_rc_str(Zt)),Le=$.peekPtr(Rt);const lt=$.peek(it,"i64");return Zt=lt?$.heap8u().slice(Le,Le+Number(lt)):new Uint8Array,Zt}finally{Le&&$.exports.sqlite3_free(Le),$.scopedAllocPop(ie)}},C.sqlite3_js_db_vfs=(Q,ne=0)=>Ee.sqlite3__wasm_db_vfs(Q,ne),C.sqlite3_js_aggregate_context=(Q,ne)=>C.sqlite3_aggregate_context(Q,ne)||(ne?ce.toss("Cannot allocate",ne,"bytes for sqlite3_aggregate_context()"):0),C.sqlite3_js_posix_create_file=function(Q,ne,ie){let Le;ne&&$.isPtr(ne)?Le=ne:ne instanceof ArrayBuffer||ne instanceof Uint8Array?(Le=$.allocFromTypedArray(ne),(arguments.length<3||!Ee.isInt32(ie)||ie<0)&&(ie=ne.byteLength)):Qe.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!Ee.isInt32(ie)||ie<0)&&Qe.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const it=Ee.sqlite3__wasm_posix_create_file(Q,Le,ie);it&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(it))}finally{$.dealloc(Le)}},C.sqlite3_js_vfs_create_file=function(Q,ne,ie,Le){N.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let it;ie?($.isPtr(ie)?it=ie:ie instanceof ArrayBuffer&&(ie=new Uint8Array(ie)),ie instanceof Uint8Array?(it=$.allocFromTypedArray(ie),(arguments.length<4||!Ee.isInt32(Le)||Le<0)&&(Le=ie.byteLength)):Qe.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):it=0,(!Ee.isInt32(Le)||Le<0)&&($.dealloc(it),Qe.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Rt=Ee.sqlite3__wasm_vfs_create_file(Q,ne,it,Le);Rt&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(Rt))}finally{$.dealloc(it)}},C.sqlite3_js_sql_to_string=Q=>{if(typeof Q=="string")return Q;const ne=Y(v);return ne===v?void 0:ne},Ee.isUIThread()){const Q=function(ne){const ie=Object.create(null);return ie.prefix="kvvfs-"+ne,ie.stores=[],(ne==="session"||ne==="")&&ie.stores.push(globalThis.sessionStorage),(ne==="local"||ne==="")&&ie.stores.push(globalThis.localStorage),ie};C.sqlite3_js_kvvfs_clear=function(ne=""){let ie=0;const Le=Q(ne);return Le.stores.forEach(it=>{const Rt=[];let zt;for(zt=0;zt<it.length;++zt){const Zt=it.key(zt);Zt.startsWith(Le.prefix)&&Rt.push(Zt)}Rt.forEach(Zt=>it.removeItem(Zt)),ie+=Rt.length}),ie},C.sqlite3_js_kvvfs_size=function(ne=""){let ie=0;const Le=Q(ne);return Le.stores.forEach(it=>{let Rt;for(Rt=0;Rt<it.length;++Rt){const zt=it.key(Rt);zt.startsWith(Le.prefix)&&(ie+=zt.length,ie+=it.getItem(zt).length)}}),ie*2}}C.sqlite3_db_config=function(Q,ne,...ie){switch(this.s||(this.s=$.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=$.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=$.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),ne){case C.SQLITE_DBCONFIG_ENABLE_FKEY:case C.SQLITE_DBCONFIG_ENABLE_TRIGGER:case C.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case C.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case C.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case C.SQLITE_DBCONFIG_ENABLE_QPSG:case C.SQLITE_DBCONFIG_TRIGGER_EQP:case C.SQLITE_DBCONFIG_RESET_DATABASE:case C.SQLITE_DBCONFIG_DEFENSIVE:case C.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case C.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case C.SQLITE_DBCONFIG_DQS_DML:case C.SQLITE_DBCONFIG_DQS_DDL:case C.SQLITE_DBCONFIG_ENABLE_VIEW:case C.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case C.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case C.SQLITE_DBCONFIG_STMT_SCANSTATUS:case C.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(Q,ne,ie[0],ie[1]||0);case C.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(Q,ne,ie[0],ie[1],ie[2]);case C.SQLITE_DBCONFIG_MAINDBNAME:return this.s(Q,ne,ie[0]);default:return C.SQLITE_MISUSE}}.bind(Object.create(null)),C.sqlite3_value_to_js=function(Q,ne=!0){let ie;const Le=C.sqlite3_value_type(Q);switch(Le){case C.SQLITE_INTEGER:$.bigIntEnabled?(ie=C.sqlite3_value_int64(Q),Ee.bigIntFitsDouble(ie)&&(ie=Number(ie))):ie=C.sqlite3_value_double(Q);break;case C.SQLITE_FLOAT:ie=C.sqlite3_value_double(Q);break;case C.SQLITE_TEXT:ie=C.sqlite3_value_text(Q);break;case C.SQLITE_BLOB:{const it=C.sqlite3_value_bytes(Q),Rt=C.sqlite3_value_blob(Q);it&&!Rt&&pe.WasmAllocError.toss("Cannot allocate memory for blob argument of",it,"byte(s)"),ie=it?$.heap8u().slice(Rt,Rt+Number(it)):null;break}case C.SQLITE_NULL:ie=null;break;default:ne&&tt(C.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Le),ie=void 0}return ie},C.sqlite3_values_to_js=function(Q,ne,ie=!0){let Le;const it=[];for(Le=0;Le<Q;++Le)it.push(C.sqlite3_value_to_js($.peekPtr(ne+$.ptrSizeof*Le),ie));return it},C.sqlite3_result_error_js=function(Q,ne){ne instanceof ce?C.sqlite3_result_error_nomem(Q):C.sqlite3_result_error(Q,""+ne,-1)},C.sqlite3_result_js=function(Q,ne){if(ne instanceof Error){C.sqlite3_result_error_js(Q,ne);return}try{switch(typeof ne){case"undefined":break;case"boolean":C.sqlite3_result_int(Q,ne?1:0);break;case"bigint":Ee.bigIntFits32(ne)?C.sqlite3_result_int(Q,Number(ne)):Ee.bigIntFitsDouble(ne)?C.sqlite3_result_double(Q,Number(ne)):$.bigIntEnabled?Ee.bigIntFits64(ne)?C.sqlite3_result_int64(Q,ne):tt("BigInt value",ne.toString(),"is too BigInt for int64."):tt("BigInt value",ne.toString(),"is too BigInt.");break;case"number":{let ie;Ee.isInt32(ne)?ie=C.sqlite3_result_int:$.bigIntEnabled&&Number.isInteger(ne)&&Ee.bigIntFits64(BigInt(ne))?ie=C.sqlite3_result_int64:ie=C.sqlite3_result_double,ie(Q,ne);break}case"string":{const[ie,Le]=$.allocCString(ne,!0);C.sqlite3_result_text(Q,ie,Le,C.SQLITE_WASM_DEALLOC);break}case"object":if(ne===null){C.sqlite3_result_null(Q);break}else if(Ee.isBindableTypedArray(ne)){const ie=$.allocFromTypedArray(ne);C.sqlite3_result_blob(Q,ie,ne.byteLength,C.SQLITE_WASM_DEALLOC);break}default:tt("Don't not how to handle this UDF result value:",typeof ne,ne)}}catch(ie){C.sqlite3_result_error_js(Q,ie)}},C.sqlite3_column_js=function(Q,ne,ie=!0){const Le=C.sqlite3_column_value(Q,ne);return Le===0?void 0:C.sqlite3_value_to_js(Le,ie)};const ae=function(Q,ne,ie){ie=C[ie],this.ptr?$.pokePtr(this.ptr,0):this.ptr=$.allocPtr();const Le=ie(Q,ne,this.ptr);if(Le)return Qe.toss(Le,arguments[2]+"() failed with code "+Le);const it=$.peekPtr(this.ptr);return it?C.sqlite3_value_to_js(it,!0):void 0}.bind(Object.create(null));C.sqlite3_preupdate_new_js=(Q,ne)=>ae(Q,ne,"sqlite3_preupdate_new"),C.sqlite3_preupdate_old_js=(Q,ne)=>ae(Q,ne,"sqlite3_preupdate_old"),C.sqlite3changeset_new_js=(Q,ne)=>ae(Q,ne,"sqlite3changeset_new"),C.sqlite3changeset_old_js=(Q,ne)=>ae(Q,ne,"sqlite3changeset_old");const pe={WasmAllocError:ce,SQLite3Error:Qe,capi:C,util:Ee,wasm:$,config:N,version:Object.create(null),client:void 0,asyncPostInit:async function Q(){if(Q.isReady instanceof Promise)return Q.isReady;let ne=y.initializersAsync;delete y.initializersAsync;const ie=async()=>(pe.__isUnderTest||(delete pe.util,delete pe.StructBinder),pe),Le=Rt=>{throw N.error("an async sqlite3 initializer failed:",Rt),Rt};if(!ne||!ne.length)return Q.isReady=ie().catch(Le);ne=ne.map(Rt=>Rt instanceof Function?async zt=>Rt(pe):Rt),ne.push(ie);let it=Promise.resolve(pe);for(;ne.length;)it=it.then(ne.shift());return Q.isReady=it.catch(Le)},scriptInfo:void 0};try{y.initializers.forEach(Q=>{Q(pe)})}catch(Q){throw console.error("sqlite3 bootstrap initializer threw:",Q),Q}return delete y.initializers,y.sqlite3=pe,pe},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(y){y.bigIntEnabled===void 0&&(y.bigIntEnabled=!!globalThis.BigInt64Array);const S=(...Y)=>{throw new Error(Y.join(" "))};y.exports||Object.defineProperty(y,"exports",{enumerable:!0,configurable:!0,get:()=>y.instance&&y.instance.exports});const N=y.pointerIR||"i32",C=y.ptrSizeof=N==="i32"?4:N==="i64"?8:S("Unhandled ptrSizeof:",N),$=Object.create(null);$.heapSize=0,$.memory=null,$.freeFuncIndexes=[],$.scopedAlloc=[],$.utf8Decoder=new TextDecoder,$.utf8Encoder=new TextEncoder("utf-8"),y.sizeofIR=Y=>{switch(Y){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return C;default:return(""+Y).endsWith("*")?C:void 0}};const fe=function(){if(!$.memory)$.memory=y.memory instanceof WebAssembly.Memory?y.memory:y.exports.memory;else if($.heapSize===$.memory.buffer.byteLength)return $;const Y=$.memory.buffer;return $.HEAP8=new Int8Array(Y),$.HEAP8U=new Uint8Array(Y),$.HEAP16=new Int16Array(Y),$.HEAP16U=new Uint16Array(Y),$.HEAP32=new Int32Array(Y),$.HEAP32U=new Uint32Array(Y),y.bigIntEnabled&&($.HEAP64=new BigInt64Array(Y),$.HEAP64U=new BigUint64Array(Y)),$.HEAP32F=new Float32Array(Y),$.HEAP64F=new Float64Array(Y),$.heapSize=Y.byteLength,$};y.heap8=()=>fe().HEAP8,y.heap8u=()=>fe().HEAP8U,y.heap16=()=>fe().HEAP16,y.heap16u=()=>fe().HEAP16U,y.heap32=()=>fe().HEAP32,y.heap32u=()=>fe().HEAP32U,y.heapForSize=function(Y,ce=!0){const Ee=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe();switch(Y){case Int8Array:return Ee.HEAP8;case Uint8Array:return Ee.HEAP8U;case Int16Array:return Ee.HEAP16;case Uint16Array:return Ee.HEAP16U;case Int32Array:return Ee.HEAP32;case Uint32Array:return Ee.HEAP32U;case 8:return ce?Ee.HEAP8U:Ee.HEAP8;case 16:return ce?Ee.HEAP16U:Ee.HEAP16;case 32:return ce?Ee.HEAP32U:Ee.HEAP32;case 64:if(Ee.HEAP64)return ce?Ee.HEAP64U:Ee.HEAP64;break;default:if(y.bigIntEnabled){if(Y===globalThis.BigUint64Array)return Ee.HEAP64U;if(Y===globalThis.BigInt64Array)return Ee.HEAP64;break}}S("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},y.functionTable=function(){return y.exports.__indirect_function_table},y.functionEntry=function(Y){const ce=y.functionTable();return Y<ce.length?ce.get(Y):void 0},y.jsFuncToWasm=function Y(ce,Ee){if(Y._||(Y._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(pe,Q,ne){ne<128?pe[Q](ne):pe[Q](ne%128|128,ne>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(pe){const Q=Y._.rxJSig.exec(pe);return Q?Q[2]:pe.substr(1)},letterType:pe=>Y._.sigTypes[pe]||S("Invalid signature letter:",pe),pushSigType:(pe,Q)=>pe.push(Y._.typeCodes[Y._.letterType(Q)])}),typeof ce=="string"){const pe=Ee;Ee=ce,ce=pe}const st=Y._.sigParams(Ee),ae=[1,96];Y._.uleb128Encode(ae,"push",st.length);for(const pe of st)Y._.pushSigType(ae,pe);return Ee[0]==="v"?ae.push(0):(ae.push(1),Y._.pushSigType(ae,Ee[0])),Y._.uleb128Encode(ae,"unshift",ae.length),ae.unshift(0,97,115,109,1,0,0,0,1),ae.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(ae)),{e:{f:ce}}).exports.f};const me=function(ce,Ee,st){if(st&&!$.scopedAlloc.length&&S("No scopedAllocPush() scope is active."),typeof ce=="string"){const ne=Ee;Ee=ce,ce=ne}(typeof Ee!="string"||!(ce instanceof Function))&&S("Invalid arguments: expecting (function,signature) or (signature,function).");const ae=y.functionTable(),pe=ae.length;let Q;for(;$.freeFuncIndexes.length&&(Q=$.freeFuncIndexes.pop(),ae.get(Q));){Q=null;continue}Q||(Q=pe,ae.grow(1));try{return ae.set(Q,ce),st&&$.scopedAlloc[$.scopedAlloc.length-1].push(Q),Q}catch(ne){if(!(ne instanceof TypeError))throw Q===pe&&$.freeFuncIndexes.push(pe),ne}try{const ne=y.jsFuncToWasm(ce,Ee);ae.set(Q,ne),st&&$.scopedAlloc[$.scopedAlloc.length-1].push(Q)}catch(ne){throw Q===pe&&$.freeFuncIndexes.push(pe),ne}return Q};y.installFunction=(Y,ce)=>me(Y,ce,!1),y.scopedInstallFunction=(Y,ce)=>me(Y,ce,!0),y.uninstallFunction=function(Y){if(!Y&&Y!==0)return;const ce=$.freeFuncIndexes,Ee=y.functionTable();ce.push(Y);const st=Ee.get(Y);return Ee.set(Y,null),st},y.peek=function(ce,Ee="i8"){Ee.endsWith("*")&&(Ee=N);const st=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe(),ae=Array.isArray(ce)?[]:void 0;let pe;do{switch(ae&&(ce=arguments[0].shift()),Ee){case"i1":case"i8":pe=st.HEAP8[ce>>0];break;case"i16":pe=st.HEAP16[ce>>1];break;case"i32":pe=st.HEAP32[ce>>2];break;case"float":case"f32":pe=st.HEAP32F[ce>>2];break;case"double":case"f64":pe=Number(st.HEAP64F[ce>>3]);break;case"i64":if(y.bigIntEnabled){pe=BigInt(st.HEAP64[ce>>3]);break}default:S("Invalid type for peek():",Ee)}ae&&ae.push(pe)}while(ae&&arguments[0].length);return ae||pe},y.poke=function(Y,ce,Ee="i8"){Ee.endsWith("*")&&(Ee=N);const st=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe();for(const ae of Array.isArray(Y)?Y:[Y])switch(Ee){case"i1":case"i8":st.HEAP8[ae>>0]=ce;continue;case"i16":st.HEAP16[ae>>1]=ce;continue;case"i32":st.HEAP32[ae>>2]=ce;continue;case"float":case"f32":st.HEAP32F[ae>>2]=ce;continue;case"double":case"f64":st.HEAP64F[ae>>3]=ce;continue;case"i64":if(st.HEAP64){st.HEAP64[ae>>3]=BigInt(ce);continue}default:S("Invalid type for poke(): "+Ee)}return this},y.peekPtr=(...Y)=>y.peek(Y.length===1?Y[0]:Y,N),y.pokePtr=(Y,ce=0)=>y.poke(Y,ce,N),y.peek8=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i8"),y.poke8=(Y,ce)=>y.poke(Y,ce,"i8"),y.peek16=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i16"),y.poke16=(Y,ce)=>y.poke(Y,ce,"i16"),y.peek32=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i32"),y.poke32=(Y,ce)=>y.poke(Y,ce,"i32"),y.peek64=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i64"),y.poke64=(Y,ce)=>y.poke(Y,ce,"i64"),y.peek32f=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"f32"),y.poke32f=(Y,ce)=>y.poke(Y,ce,"f32"),y.peek64f=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"f64"),y.poke64f=(Y,ce)=>y.poke(Y,ce,"f64"),y.getMemValue=y.peek,y.getPtrValue=y.peekPtr,y.setMemValue=y.poke,y.setPtrValue=y.pokePtr,y.isPtr32=Y=>typeof Y=="number"&&Y===(Y|0)&&Y>=0,y.isPtr=y.isPtr32,y.cstrlen=function(Y){if(!Y||!y.isPtr(Y))return null;const ce=fe().HEAP8U;let Ee=Y;for(;ce[Ee]!==0;++Ee);return Ee-Y};const Qe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,tt=function(Y,ce,Ee){return $.utf8Decoder.decode(Y.buffer instanceof Qe?Y.slice(ce,Ee):Y.subarray(ce,Ee))};y.cstrToJs=function(Y){const ce=y.cstrlen(Y);return ce?tt(fe().HEAP8U,Y,Y+ce):ce===null?ce:""},y.jstrlen=function(Y){if(typeof Y!="string")return null;const ce=Y.length;let Ee=0;for(let st=0;st<ce;++st){let ae=Y.charCodeAt(st);ae>=55296&&ae<=57343&&(ae=65536+((ae&1023)<<10)|Y.charCodeAt(++st)&1023),ae<=127?++Ee:ae<=2047?Ee+=2:ae<=65535?Ee+=3:Ee+=4}return Ee},y.jstrcpy=function(Y,ce,Ee=0,st=-1,ae=!0){if((!ce||!(ce instanceof Int8Array)&&!(ce instanceof Uint8Array))&&S("jstrcpy() target must be an Int8Array or Uint8Array."),st<0&&(st=ce.length-Ee),!(st>0)||!(Ee>=0))return 0;let pe=0,Q=Y.length;const ne=Ee,ie=Ee+st-(ae?1:0);for(;pe<Q&&Ee<ie;++pe){let Le=Y.charCodeAt(pe);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|Y.charCodeAt(++pe)&1023),Le<=127){if(Ee>=ie)break;ce[Ee++]=Le}else if(Le<=2047){if(Ee+1>=ie)break;ce[Ee++]=192|Le>>6,ce[Ee++]=128|Le&63}else if(Le<=65535){if(Ee+2>=ie)break;ce[Ee++]=224|Le>>12,ce[Ee++]=128|Le>>6&63,ce[Ee++]=128|Le&63}else{if(Ee+3>=ie)break;ce[Ee++]=240|Le>>18,ce[Ee++]=128|Le>>12&63,ce[Ee++]=128|Le>>6&63,ce[Ee++]=128|Le&63}}return ae&&(ce[Ee++]=0),Ee-ne},y.cstrncpy=function(Y,ce,Ee){if((!Y||!ce)&&S("cstrncpy() does not accept NULL strings."),Ee<0)Ee=y.cstrlen(strPtr)+1;else if(!(Ee>0))return 0;const st=y.heap8u();let ae=0,pe;for(;ae<Ee&&(pe=st[ce+ae]);++ae)st[Y+ae]=pe;return ae<Ee&&(st[Y+ae++]=0),ae},y.jstrToUintArray=(Y,ce=!1)=>$.utf8Encoder.encode(ce?Y+"\0":Y);const at=(Y,ce)=>{(!(Y.alloc instanceof Function)||!(Y.dealloc instanceof Function))&&S("Object is missing alloc() and/or dealloc() function(s)","required by",ce+"().")},mt=function(Y,ce,Ee,st){if(at(y,st),typeof Y!="string")return null;{const ae=$.utf8Encoder.encode(Y),pe=Ee(ae.length+1),Q=fe().HEAP8U;return Q.set(ae,pe),Q[pe+ae.length]=0,ce?[pe,ae.length]:pe}};y.allocCString=(Y,ce=!1)=>mt(Y,ce,y.alloc,"allocCString()"),y.scopedAllocPush=function(){at(y,"scopedAllocPush");const Y=[];return $.scopedAlloc.push(Y),Y},y.scopedAllocPop=function(Y){at(y,"scopedAllocPop");const ce=arguments.length?$.scopedAlloc.indexOf(Y):$.scopedAlloc.length-1;ce<0&&S("Invalid state object for scopedAllocPop()."),arguments.length===0&&(Y=$.scopedAlloc[ce]),$.scopedAlloc.splice(ce,1);for(let Ee;Ee=Y.pop();)y.functionEntry(Ee)?y.uninstallFunction(Ee):y.dealloc(Ee)},y.scopedAlloc=function(Y){$.scopedAlloc.length||S("No scopedAllocPush() scope is active.");const ce=y.alloc(Y);return $.scopedAlloc[$.scopedAlloc.length-1].push(ce),ce},Object.defineProperty(y.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>$.scopedAlloc.length,set:()=>S("The 'active' property is read-only.")}),y.scopedAllocCString=(Y,ce=!1)=>mt(Y,ce,y.scopedAlloc,"scopedAllocCString()");const Be=function(Y,ce){const Ee=y[Y?"scopedAlloc":"alloc"]((ce.length+1)*y.ptrSizeof);let st=0;return ce.forEach(ae=>{y.pokePtr(Ee+y.ptrSizeof*st++,y[Y?"scopedAllocCString":"allocCString"](""+ae))}),y.pokePtr(Ee+y.ptrSizeof*st,0),Ee};y.scopedAllocMainArgv=Y=>Be(!0,Y),y.allocMainArgv=Y=>Be(!1,Y),y.cArgvToJs=(Y,ce)=>{const Ee=[];for(let st=0;st<Y;++st){const ae=y.peekPtr(ce+y.ptrSizeof*st);Ee.push(ae?y.cstrToJs(ae):null)}return Ee},y.scopedAllocCall=function(Y){y.scopedAllocPush();try{return Y()}finally{y.scopedAllocPop()}};const qe=function(Y,ce,Ee){at(y,Ee);const st=ce?"i64":N;let ae=y[Ee](Y*(ce?8:C));if(y.poke(ae,0,st),Y===1)return ae;const pe=[ae];for(let Q=1;Q<Y;++Q)ae+=ce?8:C,pe[Q]=ae,y.poke(ae,0,st);return pe};y.allocPtr=(Y=1,ce=!0)=>qe(Y,ce,"alloc"),y.scopedAllocPtr=(Y=1,ce=!0)=>qe(Y,ce,"scopedAlloc"),y.xGet=function(Y){return y.exports[Y]||S("Cannot find exported symbol:",Y)};const et=(Y,ce)=>S(Y+"() requires",ce,"argument(s).");y.xCall=function(Y,...ce){const Ee=Y instanceof Function?Y:y.xGet(Y);return Ee instanceof Function||S("Exported symbol",Y,"is not a function."),Ee.length!==ce.length&&et(Ee===Y?Ee.name:Y,Ee.length),arguments.length===2&&Array.isArray(arguments[1])?Ee.apply(null,arguments[1]):Ee.apply(null,ce)},$.xWrap=Object.create(null),$.xWrap.convert=Object.create(null),$.xWrap.convert.arg=new Map,$.xWrap.convert.result=new Map;const ve=$.xWrap.convert.arg,Ie=$.xWrap.convert.result;y.bigIntEnabled&&ve.set("i64",Y=>BigInt(Y));const Te=N==="i32"?Y=>Y|0:Y=>BigInt(Y)|BigInt(0);ve.set("i32",Te).set("i16",Y=>(Y|0)&65535).set("i8",Y=>(Y|0)&255).set("f32",Y=>Number(Y).valueOf()).set("float",ve.get("f32")).set("f64",ve.get("f32")).set("double",ve.get("f64")).set("int",ve.get("i32")).set("null",Y=>Y).set(null,ve.get("null")).set("**",Te).set("*",Te),Ie.set("*",Te).set("pointer",Te).set("number",Y=>Number(Y)).set("void",Y=>{}).set("null",Y=>Y).set(null,Ie.get("null"));{const Y=["i8","i16","i32","int","f32","float","f64","double"];y.bigIntEnabled&&Y.push("i64");const ce=ve.get(N);for(const Ee of Y)ve.set(Ee+"*",ce),Ie.set(Ee+"*",ce),Ie.set(Ee,ve.get(Ee)||S("Missing arg converter:",Ee))}const Ze=function(Y){return typeof Y=="string"?y.scopedAllocCString(Y):Y?Te(Y):null};ve.set("string",Ze).set("utf8",Ze).set("pointer",Ze),Ie.set("string",Y=>y.cstrToJs(Y)).set("utf8",Ie.get("string")).set("string:dealloc",Y=>{try{return Y?y.cstrToJs(Y):null}finally{y.dealloc(Y)}}).set("utf8:dealloc",Ie.get("string:dealloc")).set("json",Y=>JSON.parse(y.cstrToJs(Y))).set("json:dealloc",Y=>{try{return Y?JSON.parse(y.cstrToJs(Y)):null}finally{y.dealloc(Y)}});const Ge=class{constructor(Y){this.name=Y.name||"unnamed adapter"}convertArg(Y,ce,Ee){S("AbstractArgAdapter must be subclassed.")}};ve.FuncPtrAdapter=class qa extends Ge{constructor(ce){super(ce),ve.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",ce),this.name=ce.name||"unnamed",this.signature=ce.signature,ce.contextKey instanceof Function&&(this.contextKey=ce.contextKey,ce.bindScope||(ce.bindScope="context")),this.bindScope=ce.bindScope||S("FuncPtrAdapter options requires a bindScope (explicit or implied)."),qa.bindScopes.indexOf(ce.bindScope)<0&&S("Invalid options.bindScope ("+ce.bindMod+") for FuncPtrAdapter. Expecting one of: ("+qa.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=ce.callProxy instanceof Function?ce.callProxy:void 0}contextKey(ce,Ee){return this}contextMap(ce){const Ee=this.__cmap||(this.__cmap=new Map);let st=Ee.get(ce);return st===void 0&&Ee.set(ce,st=[]),st}convertArg(ce,Ee,st){let ae=this.singleton;if(!ae&&this.isContext&&(ae=this.contextMap(this.contextKey(Ee,st))),ae&&ae[0]===ce)return ae[1];if(ce instanceof Function){this.callProxy&&(ce=this.callProxy(ce));const pe=me(ce,this.signature,this.isTransient);if(qa.debugFuncInstall&&qa.debugOut("FuncPtrAdapter installed",this,this.contextKey(Ee,st),"@"+pe,ce),ae){if(ae[1]){qa.debugFuncInstall&&qa.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+ae[1],ce);try{$.scopedAlloc[$.scopedAlloc.length-1].push(ae[1])}catch{}}ae[0]=ce,ae[1]=pe}return pe}else if(y.isPtr(ce)||ce===null||ce===void 0){if(ae&&ae[1]&&ae[1]!==ce){qa.debugFuncInstall&&qa.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+ae[1],ce);try{$.scopedAlloc[$.scopedAlloc.length-1].push(ae[1])}catch{}ae[0]=ae[1]=ce|0}return ce||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},ve.FuncPtrAdapter.warnOnUse=!1,ve.FuncPtrAdapter.debugFuncInstall=!1,ve.FuncPtrAdapter.debugOut=console.debug.bind(console),ve.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Re=Y=>ve.get(Y)||S("Argument adapter not found:",Y),Ke=Y=>Ie.get(Y)||S("Result adapter not found:",Y);$.xWrap.convertArg=(Y,...ce)=>Re(Y)(...ce),$.xWrap.convertArgNoCheck=(Y,...ce)=>ve.get(Y)(...ce),$.xWrap.convertResult=(Y,ce)=>Y===null?ce:Y?Ke(Y)(ce):void 0,$.xWrap.convertResultNoCheck=(Y,ce)=>Y===null?ce:Y?Ie.get(Y)(ce):void 0,y.xWrap=function(Y,ce,...Ee){arguments.length===3&&Array.isArray(arguments[2])&&(Ee=arguments[2]),y.isPtr(Y)&&(Y=y.functionEntry(Y)||S("Function pointer not found in WASM function table."));const st=Y instanceof Function,ae=st?Y:y.xGet(Y);if(st&&(Y=ae.name||"unnamed function"),Ee.length!==ae.length&&et(Y,ae.length),ce===null&&ae.length===0)return ae;ce!=null&&Ke(ce);for(const Q of Ee)Q instanceof Ge?ve.set(Q,(...ne)=>Q.convertArg(...ne)):Re(Q);const pe=$.xWrap;return ae.length===0?(...Q)=>Q.length?et(Y,ae.length):pe.convertResult(ce,ae.call(null)):function(...Q){Q.length!==ae.length&&et(Y,ae.length);const ne=y.scopedAllocPush();try{let ie=0;for(;ie<Q.length;++ie)Q[ie]=pe.convertArgNoCheck(Ee[ie],Q[ie],Q,ie);return pe.convertResultNoCheck(ce,ae.apply(null,Q))}finally{y.scopedAllocPop(ne)}}};const St=function(Y,ce,Ee,st,ae,pe){if(typeof Ee=="string"){if(ce===1)return pe.get(Ee);if(ce===2){if(st)st instanceof Function||S(ae,"requires a function argument.");else return delete pe.get(Ee),Y;return pe.set(Ee,st),Y}}S("Invalid arguments to",ae)};return y.xWrap.resultAdapter=function Y(ce,Ee){return St(Y,arguments.length,ce,Ee,"resultAdapter()",Ie)},y.xWrap.argAdapter=function Y(ce,Ee){return St(Y,arguments.length,ce,Ee,"argAdapter()",ve)},y.xWrap.FuncPtrAdapter=ve.FuncPtrAdapter,y.xCallWrapped=function(Y,ce,Ee,...st){return Array.isArray(arguments[3])&&(st=arguments[3]),y.xWrap(Y,ce,Ee||[]).apply(null,st||[])},y.xWrap.testConvertArg=$.xWrap.convertArg,y.xWrap.testConvertResult=$.xWrap.convertResult,y},globalThis.WhWasmUtilInstaller.yawl=function(y){const S=()=>fetch(y.uri,{credentials:"same-origin"}),N=this,C=function(fe){if(y.wasmUtilTarget){const me=(...tt)=>{throw new Error(tt.join(" "))},Qe=y.wasmUtilTarget;if(Qe.module=fe.module,Qe.instance=fe.instance,Qe.instance.exports.memory||(Qe.memory=y.imports&&y.imports.env&&y.imports.env.memory||me("Missing 'memory' object!")),!Qe.alloc&&fe.instance.exports.malloc){const tt=fe.instance.exports;Qe.alloc=function(at){return tt.malloc(at)||me("Allocation of",at,"bytes failed.")},Qe.dealloc=function(at){tt.free(at)}}N(Qe)}return y.onload&&y.onload(fe,y),fe};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(S(),y.imports||{}).then(C)}:function(){return S().then(me=>me.arrayBuffer()).then(me=>WebAssembly.instantiate(me,y.imports||{})).then(C)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function y(S){const N=(...We)=>{throw new Error(We.join(" "))};!(S.heap instanceof WebAssembly.Memory)&&!(S.heap instanceof Function)&&N("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(We){S[We]instanceof Function||N("Config option '"+We+"' must be a function.")});const C=y,$=S.heap instanceof Function?S.heap:()=>new Uint8Array(S.heap.buffer),fe=S.alloc,me=S.dealloc,Qe=S.log||console.log.bind(console),tt=S.memberPrefix||"",at=S.memberSuffix||"",mt=S.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!S.bigIntEnabled,Be=globalThis.BigInt,qe=globalThis.BigInt64Array,et=S.ptrSizeof||4,ve=S.ptrIR||"i32";C.debugFlags||(C.__makeDebugFlags=function(We=null){We&&We.__flags&&(We=We.__flags);const bt=function wt(kt){return arguments.length===0?wt.__flags:(kt<0?(delete wt.__flags.getter,delete wt.__flags.setter,delete wt.__flags.alloc,delete wt.__flags.dealloc):(wt.__flags.getter=(1&kt)!==0,wt.__flags.setter=(2&kt)!==0,wt.__flags.alloc=(4&kt)!==0,wt.__flags.dealloc=(8&kt)!==0),wt._flags)};return Object.defineProperty(bt,"__flags",{iterable:!1,writable:!1,value:Object.create(We)}),We||bt(0),bt},C.debugFlags=C.__makeDebugFlags());const Ie=function(){const We=new ArrayBuffer(2);return new DataView(We).setInt16(0,256,!0),new Int16Array(We)[0]===256}(),Te=We=>We[1]==="(",Ze=We=>We==="P",Ge=We=>Te(We)?"p":We[0],Re=function(We){switch(Ge(We)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return ve;case"j":return"i64";case"f":return"float";case"d":return"double"}N("Unhandled signature IR:",We)},Ke=qe?()=>!0:()=>N("BigInt64Array is not available."),St=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"getInt32";case 8:return Ke()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Ke()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}N("Unhandled DataView getter for signature:",We)},Y=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"setInt32";case 8:return Ke()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Ke()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}N("Unhandled DataView setter for signature:",We)},ce=function(We){switch(Ge(We)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Ke()&&Be;case"p":case"P":case"s":switch(et){case 4:return Number;case 8:return Ke()&&Be}break}N("Unhandled DataView set wrapper for signature:",We)},Ee=(We,bt)=>We+"::"+bt,st=function(We,bt){return()=>N(Ee(We,bt),"is read-only.")},ae=new WeakMap,pe="(pointer-is-external)",Q=function(We,bt,wt){if(wt||(wt=ae.get(bt)),wt){if(ae.delete(bt),Array.isArray(bt.ondispose)){let kt;for(;kt=bt.ondispose.shift();)try{kt instanceof Function?kt.call(bt):kt instanceof Bt?kt.dispose():typeof kt=="number"&&me(kt)}catch(yn){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",yn)}}else if(bt.ondispose instanceof Function)try{bt.ondispose()}catch(kt){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",kt)}delete bt.ondispose,We.debugFlags.__flags.dealloc&&Qe("debug.dealloc:",bt[pe]?"EXTERNAL":"",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),bt[pe]||me(wt)}},ne=We=>({configurable:!1,writable:!1,iterable:!1,value:We}),ie=function(We,bt,wt){let kt=!wt;wt?Object.defineProperty(bt,pe,ne(wt)):(wt=fe(We.structInfo.sizeof),wt||N("Allocation of",We.structName,"structure failed."));try{We.debugFlags.__flags.alloc&&Qe("debug.alloc:",kt?"":"EXTERNAL",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),kt&&$().fill(0,wt,wt+We.structInfo.sizeof),ae.set(bt,wt)}catch(yn){throw Q(We,bt,wt),yn}},Le=function(){const We=this.pointer;return We?new Uint8Array($().slice(We,We+this.structInfo.sizeof)):null},Rt=ne(We=>tt+We+at),zt=function(We,bt,wt=!0){let kt=We.members[bt];if(!kt&&(tt||at)){for(const yn of Object.values(We.members))if(yn.key===bt){kt=yn;break}!kt&&wt&&N(Ee(We.name,bt),"is not a mapped struct member.")}return kt},Zt=function We(bt,wt,kt=!1){We._||(We._=Hn=>Hn.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const yn=zt(bt.structInfo,wt,!0);return kt?We._(yn.signature):yn.signature},lt={configurable:!1,enumerable:!1,get:function(){return ae.get(this)},set:()=>N("Cannot assign the 'pointer' property of a struct.")},_e=ne(function(){const We=[];for(const bt of Object.keys(this.structInfo.members))We.push(this.memberKey(bt));return We}),Pe=new TextDecoder("utf-8"),ot=new TextEncoder,pt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Pt=function(We,bt,wt){return Pe.decode(We.buffer instanceof pt?We.slice(bt,wt):We.subarray(bt,wt))},Yt=function(We,bt,wt=!1){const kt=zt(We.structInfo,bt,wt);return kt&&kt.signature.length===1&&kt.signature[0]==="s"?kt:!1},je=function(We){We.signature!=="s"&&N("Invalid member type signature for C-string value:",JSON.stringify(We))},nt=function(bt,wt){const kt=zt(bt.structInfo,wt,!0);je(kt);const yn=bt[kt.key];if(!yn)return null;let Hn=yn;const Bn=$();for(;Bn[Hn]!==0;++Hn);return yn===Hn?"":Pt(Bn,yn,Hn)},dt=function(We,...bt){We.ondispose?Array.isArray(We.ondispose)||(We.ondispose=[We.ondispose]):We.ondispose=[],We.ondispose.push(...bt)},Nt=function(We){const bt=ot.encode(We),wt=fe(bt.length+1);wt||N("Allocation error while duplicating string:",We);const kt=$();return kt.set(bt,wt),kt[wt+bt.length]=0,wt},xt=function(We,bt,wt){const kt=zt(We.structInfo,bt,!0);je(kt);const yn=Nt(wt);return We[kt.key]=yn,dt(We,yn),We},Bt=function(bt,wt){arguments[2]!==ne&&N("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:ne(bt),structInfo:ne(wt)})};Bt.prototype=Object.create(null,{dispose:ne(function(){Q(this.constructor,this)}),lookupMember:ne(function(We,bt=!0){return zt(this.structInfo,We,bt)}),memberToJsString:ne(function(We){return nt(this,We)}),memberIsString:ne(function(We,bt=!0){return Yt(this,We,bt)}),memberKey:Rt,memberKeys:_e,memberSignature:ne(function(We,bt=!1){return Zt(this,We,bt)}),memoryDump:ne(Le),pointer:lt,setMemberCString:ne(function(We,bt){return xt(this,We,bt)})}),Object.assign(Bt.prototype,{addOnDispose:function(...We){return dt(this,...We),this}}),Object.defineProperties(Bt,{allocCString:ne(Nt),isA:ne(We=>We instanceof Bt),hasExternalPointer:ne(We=>We instanceof Bt&&!!We[pe]),memberKey:Rt});const mn=We=>Number.isFinite(We)||We instanceof(Be||Number),Ot=function We(bt,wt,kt){if(!We._){We._={getters:{},setters:{},sw:{}};const li=["i","c","C","p","P","s","f","d","v()"];mt&&li.push("j"),li.forEach(function(Ws){We._.getters[Ws]=St(Ws),We._.setters[Ws]=Y(Ws),We._.sw[Ws]=ce(Ws)});const lx=/^[ipPsjfdcC]$/,cx=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;We.sigCheck=function(Ws,ux,jm,Lf){Object.prototype.hasOwnProperty.call(Ws,jm)&&N(Ws.structName,"already has a property named",jm+"."),lx.test(Lf)||cx.test(Lf)||N("Malformed signature for",Ee(Ws.structName,ux)+":",Lf)}}const yn=bt.memberKey(wt);We.sigCheck(bt.prototype,wt,yn,kt.signature),kt.key=yn,kt.name=wt;const Hn=Ge(kt.signature),Bn=Ee(bt.prototype.structName,yn),Vn=bt.prototype.debugFlags.__flags,ma=Object.create(null);ma.configurable=!1,ma.enumerable=!1,ma.get=function(){Vn.getter&&Qe("debug.getter:",We._.getters[Hn],"for",Re(Hn),Bn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof);let li=new DataView($().buffer,this.pointer+kt.offset,kt.sizeof)[We._.getters[Hn]](0,Ie);return Vn.getter&&Qe("debug.getter:",Bn,"result =",li),li},kt.readOnly?ma.set=st(bt.prototype.structName,yn):ma.set=function(li){if(Vn.setter&&Qe("debug.setter:",We._.setters[Hn],"for",Re(Hn),Bn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof,li),this.pointer||N("Cannot set struct property on disposed instance."),li===null)li=0;else for(;!mn(li);){if(Ze(kt.signature)&&li instanceof Bt){li=li.pointer||0,Vn.setter&&Qe("debug.setter:",Bn,"resolved to",li);break}N("Invalid value for pointer-type",Bn+".")}new DataView($().buffer,this.pointer+kt.offset,kt.sizeof)[We._.setters[Hn]](0,We._.sw[Hn](li),Ie)},Object.defineProperty(bt.prototype,yn,ma)},_r=function We(bt,wt){arguments.length===1?(wt=bt,bt=wt.name):wt.name||(wt.name=bt),bt||N("Struct name is required.");let kt=!1;Object.keys(wt.members).forEach(Bn=>{const Vn=wt.members[Bn];Vn.sizeof?Vn.sizeof===1?Vn.signature==="c"||Vn.signature==="C"||N("Unexpected sizeof==1 member",Ee(wt.name,Bn),"with signature",Vn.signature):(Vn.sizeof%4!==0&&(console.warn("Invalid struct member description =",Vn,"from",wt),N(bt,"member",Bn,"sizeof is not aligned. sizeof="+Vn.sizeof)),Vn.offset%4!==0&&(console.warn("Invalid struct member description =",Vn,"from",wt),N(bt,"member",Bn,"offset is not aligned. offset="+Vn.offset))):N(bt,"member",Bn,"is missing sizeof."),(!kt||kt.offset<Vn.offset)&&(kt=Vn)}),kt?wt.sizeof<kt.offset+kt.sizeof&&N("Invalid struct config:",bt,"max member offset ("+kt.offset+") ","extends past end of struct (sizeof="+wt.sizeof+")."):N("No member property descriptions found.");const yn=ne(C.__makeDebugFlags(We.debugFlags)),Hn=function Bn(Vn){this instanceof Bn?arguments.length?((Vn!==(Vn|0)||Vn<=0)&&N("Invalid pointer value for",bt,"constructor."),ie(Bn,this,Vn)):ie(Bn,this):N("The",bt,"constructor may only be called via 'new'.")};return Object.defineProperties(Hn,{debugFlags:yn,isA:ne(Bn=>Bn instanceof Hn),memberKey:Rt,memberKeys:_e,methodInfoForKey:ne(function(Bn){}),structInfo:ne(wt),structName:ne(bt)}),Hn.prototype=new Bt(bt,wt,ne),Object.defineProperties(Hn.prototype,{debugFlags:yn,constructor:ne(Hn)}),Object.keys(wt.members).forEach(Bn=>Ot(Hn,Bn,wt.members[Bn])),Hn};return _r.StructType=Bt,_r.config=S,_r.allocCString=Nt,_r.debugFlags||(_r.debugFlags=C.__makeDebugFlags(C.debugFlags)),_r},globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...ve)=>{throw new Error(ve.join(" "))};y.SQLite3Error.toss;const N=y.capi,C=y.wasm,$=y.util;if(globalThis.WhWasmUtilInstaller(C),delete globalThis.WhWasmUtilInstaller,C.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(ve,Ie)=>ve[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:ve=>ve[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new C.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:ve=>{let Ie;return(Te,Ze,Ge,Re)=>{try{const Ke=C.cArgvToJs(Ze,Ge);return Ie||(Ie=C.cArgvToJs(Ze,Re)),ve(Ke,Ie)|0}catch(Ke){return Ke.resultCode||N.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:ve=>ve[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new C.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(ve,Ie)=>ve[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(ve,Ie)=>ve[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],C.exports.sqlite3_progress_handler&&C.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(ve,Ie)=>ve[0]}),"*"]]),C.exports.sqlite3_stmt_explain&&C.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),C.exports.sqlite3_set_authorizer&&C.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(ve,Ie)=>ve[0],callProxy:ve=>(Ie,Te,Ze,Ge,Re,Ke)=>{try{return Ze=Ze&&C.cstrToJs(Ze),Ge=Ge&&C.cstrToJs(Ge),Re=Re&&C.cstrToJs(Re),Ke=Ke&&C.cstrToJs(Ke),ve(Ie,Te,Ze,Ge,Re,Ke)||0}catch(St){return St.resultCode||N.SQLITE_ERROR}}}),"*"]]),C.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:ve=>ve[0],callProxy:ve=>(Ie,Te,Ze,Ge,Re)=>{ve(Ie,Te,C.cstrToJs(Ze),C.cstrToJs(Ge),Re)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],C.bigIntEnabled&&C.exports.sqlite3_declare_vtab&&C.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),C.bigIntEnabled&&C.exports.sqlite3_preupdate_hook&&C.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:ve=>ve[0],callProxy:ve=>(Ie,Te,Ze,Ge,Re,Ke,St)=>{ve(Ie,Te,Ze,C.cstrToJs(Ge),C.cstrToJs(Re),Ke,St)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),C.bigIntEnabled&&C.exports.sqlite3changegroup_add&&C.exports.sqlite3session_create&&C.exports.sqlite3_preupdate_hook){const ve={signature:"i(ps)",callProxy:Ie=>(Te,Ze)=>{try{return Ie(Te,C.cstrToJs(Ze))|0}catch(Ge){return Ge.resultCode||N.SQLITE_ERROR}}};C.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ve}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ve}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ve}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ve}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xFilter",...ve,contextKey:(Ie,Te)=>Ie[0]}),"*"]])}C.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],y.StructBinder=globalThis.Jaccwabyt({heap:C.heap8u,alloc:C.alloc,dealloc:C.dealloc,bigIntEnabled:C.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const ve=C.xWrap.argAdapter("string");C.xWrap.argAdapter("string:flexible",Re=>ve($.flexibleString(Re))),C.xWrap.argAdapter("string:static",function(Re){return C.isPtr(Re)?Re:(Re=""+Re,this[Re]||(this[Re]=C.allocCString(Re)))}.bind(Object.create(null)));const Ie=C.xWrap.argAdapter("*"),Te=function(){};C.xWrap.argAdapter("sqlite3_filename",Ie)("sqlite3_context*",Ie)("sqlite3_value*",Ie)("void*",Ie)("sqlite3_changegroup*",Ie)("sqlite3_changeset_iter*",Ie)("sqlite3_session*",Ie)("sqlite3_stmt*",Re=>Ie(Re instanceof(y?.oo1?.Stmt||Te)?Re.pointer:Re))("sqlite3*",Re=>Ie(Re instanceof(y?.oo1?.DB||Te)?Re.pointer:Re))("sqlite3_vfs*",Re=>typeof Re=="string"?N.sqlite3_vfs_find(Re)||y.SQLite3Error.toss(N.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",Re):Ie(Re instanceof(N.sqlite3_vfs||Te)?Re.pointer:Re)),C.exports.sqlite3_declare_vtab&&C.xWrap.argAdapter("sqlite3_index_info*",Re=>Ie(Re instanceof(N.sqlite3_index_info||Te)?Re.pointer:Re))("sqlite3_module*",Re=>Ie(Re instanceof(N.sqlite3_module||Te)?Re.pointer:Re));const Ze=C.xWrap.resultAdapter("*");C.xWrap.resultAdapter("sqlite3*",Ze)("sqlite3_context*",Ze)("sqlite3_stmt*",Ze)("sqlite3_value*",Ze)("sqlite3_vfs*",Ze)("void*",Ze),C.exports.sqlite3_step.length===0&&(C.xWrap.doArgcCheck=!1,y.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const Re of C.bindingSignatures)N[Re[0]]=C.xWrap.apply(null,Re);for(const Re of C.bindingSignatures.wasmInternal)$[Re[0]]=C.xWrap.apply(null,Re);const Ge=function(Re){return()=>S(Re+"() is unavailable due to lack","of BigInt support in this build.")};for(const Re of C.bindingSignatures.int64)N[Re[0]]=C.bigIntEnabled?C.xWrap.apply(null,Re):Ge(Re[0]);if(delete C.bindingSignatures,C.exports.sqlite3__wasm_db_error){const Re=C.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");$.sqlite3__wasm_db_error=function(Ke,St,Y){return St instanceof y.WasmAllocError?(St=N.SQLITE_NOMEM,Y=0):St instanceof Error&&(Y=Y||""+St,St=St.resultCode||N.SQLITE_ERROR),Ke?Re(Ke,St,Y):St}}else $.sqlite3__wasm_db_error=function(Re,Ke,St){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Ke}}{const ve=C.xCall("sqlite3__wasm_enum_json");ve||S("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),C.ctype=JSON.parse(C.cstrToJs(ve));const Ie=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];C.bigIntEnabled&&Ie.push("serialize","session","vtab");for(const Ge of Ie)for(const Re of Object.entries(C.ctype[Ge]))N[Re[0]]=Re[1];C.functionEntry(N.SQLITE_WASM_DEALLOC)||S("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+N.SQLITE_WASM_DEALLOC+").");const Te=Object.create(null);for(const Ge of["resultCodes"])for(const Re of Object.entries(C.ctype[Ge]))Te[Re[1]]=Re[0];N.sqlite3_js_rc_str=Ge=>Te[Ge];const Ze=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!$.isUIThread(),sqlite3_index_info:!C.bigIntEnabled,sqlite3_index_constraint:!C.bigIntEnabled,sqlite3_index_orderby:!C.bigIntEnabled,sqlite3_index_constraint_usage:!C.bigIntEnabled});for(const Ge of C.ctype.structs)Ze[Ge.name]||(N[Ge.name]=y.StructBinder(Ge));if(N.sqlite3_index_info){for(const Ge of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])N.sqlite3_index_info[Ge]=N[Ge],delete N[Ge];N.sqlite3_vtab_config=C.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const fe=(ve,Ie,Te)=>$.sqlite3__wasm_db_error(ve,N.SQLITE_MISUSE,Ie+"() requires "+Te+" argument"+(Te===1?"":"s")+"."),me=ve=>$.sqlite3__wasm_db_error(ve,N.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Qe=ve=>C.xWrap.argAdapter("sqlite3*")(ve),tt=ve=>C.isPtr(ve)?C.cstrToJs(ve):ve,at=function(ve,Ie){ve=Qe(ve);let Te=this.dbMap.get(ve);if(Ie)!Te&&Ie>0&&this.dbMap.set(ve,Te=Object.create(null));else return this.dbMap.delete(ve),Te;return Te}.bind(Object.assign(Object.create(null),{dbMap:new Map}));at.addCollation=function(ve,Ie){const Te=at(ve,1);Te.collation||(Te.collation=new Set),Te.collation.add(tt(Ie).toLowerCase())},at._addUDF=function(ve,Ie,Te,Ze){Ie=tt(Ie).toLowerCase();let Ge=Ze.get(Ie);Ge||Ze.set(Ie,Ge=new Set),Ge.add(Te<0?-1:Te)},at.addFunction=function(ve,Ie,Te){const Ze=at(ve,1);Ze.udf||(Ze.udf=new Map),this._addUDF(ve,Ie,Te,Ze.udf)},C.exports.sqlite3_create_window_function&&(at.addWindowFunc=function(ve,Ie,Te){const Ze=at(ve,1);Ze.wudf||(Ze.wudf=new Map),this._addUDF(ve,Ie,Te,Ze.wudf)}),at.cleanup=function(ve){ve=Qe(ve);const Ie=[ve];for(const Ge of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const Re=C.exports[Ge];if(Re){Ie.length=Re.length;try{N[Ge](...Ie)}catch(Ke){y.config.warn("close-time call of",Ge+"(",Ie,") threw:",Ke)}}}const Te=at(ve,0);if(!Te)return;if(Te.collation){for(const Ge of Te.collation)try{N.sqlite3_create_collation_v2(ve,Ge,N.SQLITE_UTF8,0,0,0)}catch{}delete Te.collation}let Ze;for(Ze=0;Ze<2;++Ze){const Ge=Ze?Te.wudf:Te.udf;if(!Ge)continue;const Re=Ze?N.sqlite3_create_window_function:N.sqlite3_create_function_v2;for(const Ke of Ge){const St=Ke[0],Y=Ke[1],ce=[ve,St,0,N.SQLITE_UTF8,0,0,0,0,0];Ze&&ce.push(0);for(const Ee of Y)try{ce[2]=Ee,Re.apply(null,ce)}catch{}Y.clear()}Ge.clear()}delete Te.udf,delete Te.wudf};{const ve=C.xWrap("sqlite3_close_v2","int","sqlite3*");N.sqlite3_close_v2=function(Ie){if(arguments.length!==1)return fe(Ie,"sqlite3_close_v2",1);if(Ie)try{at.cleanup(Ie)}catch{}return ve(Ie)}}if(N.sqlite3session_create){const ve=C.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);N.sqlite3session_delete=function(Ie){if(arguments.length!==1)return fe(pDb,"sqlite3session_delete",1);Ie&&N.sqlite3session_table_filter(Ie,0,0),ve(Ie)}}{const ve=(Te,Ze)=>"argv["+Ze+"]:"+Te[0]+":"+C.cstrToJs(Te[1]).toLowerCase(),Ie=C.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new C.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:ve}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:ve})]);N.sqlite3_create_collation_v2=function(Te,Ze,Ge,Re,Ke,St){if(arguments.length!==6)return fe(Te,"sqlite3_create_collation_v2",6);if(!(Ge&15))Ge|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Ge&15))return me(Te);try{const Y=Ie(Te,Ze,Ge,Re,Ke,St);return Y===0&&Ke instanceof Function&&at.addCollation(Te,Ze),Y}catch(Y){return $.sqlite3__wasm_db_error(Te,Y)}},N.sqlite3_create_collation=(Te,Ze,Ge,Re,Ke)=>arguments.length===5?N.sqlite3_create_collation_v2(Te,Ze,Ge,Re,Ke,0):fe(Te,"sqlite3_create_collation",5)}{const ve=function(Ge,Re){return Ge[0]+":"+(Ge[2]<0?-1:Ge[2])+":"+Re+":"+C.cstrToJs(Ge[1]).toLowerCase()},Ie=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:ve,callProxy:Ge=>(Re,Ke,St)=>{try{Ge(Re,...N.sqlite3_values_to_js(Ke,St))}catch(Y){N.sqlite3_result_error_js(Re,Y)}}},xFinalAndValue:{signature:"v(p)",contextKey:ve,callProxy:Ge=>Re=>{try{N.sqlite3_result_js(Re,Ge(Re))}catch(Ke){N.sqlite3_result_error_js(Re,Ke)}}},xFunc:{signature:"v(pip)",contextKey:ve,callProxy:Ge=>(Re,Ke,St)=>{try{N.sqlite3_result_js(Re,Ge(Re,...N.sqlite3_values_to_js(Ke,St)))}catch(Y){N.sqlite3_result_error_js(Re,Y)}}},xDestroy:{signature:"v(p)",contextKey:ve,callProxy:Ge=>Re=>{try{Ge(Re)}catch(Ke){console.error("UDF xDestroy method threw:",Ke)}}}}),Te=C.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xFunc",...Ie.xFunc}),new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]),Ze=C.exports.sqlite3_create_window_function?C.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xValue",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xInverse",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]):void 0;N.sqlite3_create_function_v2=function Ge(Re,Ke,St,Y,ce,Ee,st,ae,pe){if(Ge.length!==arguments.length)return fe(Re,"sqlite3_create_function_v2",Ge.length);if(!(Y&15))Y|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Y&15))return me(Re);try{const Q=Te(Re,Ke,St,Y,ce,Ee,st,ae,pe);return Q===0&&(Ee instanceof Function||st instanceof Function||ae instanceof Function||pe instanceof Function)&&at.addFunction(Re,Ke,St),Q}catch(Q){return console.error("sqlite3_create_function_v2() setup threw:",Q),$.sqlite3__wasm_db_error(Re,Q,"Creation of UDF threw: "+Q)}},N.sqlite3_create_function=function Ge(Re,Ke,St,Y,ce,Ee,st,ae){return Ge.length===arguments.length?N.sqlite3_create_function_v2(Re,Ke,St,Y,ce,Ee,st,ae,0):fe(Re,"sqlite3_create_function",Ge.length)},Ze?N.sqlite3_create_window_function=function Ge(Re,Ke,St,Y,ce,Ee,st,ae,pe,Q){if(Ge.length!==arguments.length)return fe(Re,"sqlite3_create_window_function",Ge.length);if(!(Y&15))Y|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Y&15))return me(Re);try{const ne=Ze(Re,Ke,St,Y,ce,Ee,st,ae,pe,Q);return ne===0&&(Ee instanceof Function||st instanceof Function||ae instanceof Function||pe instanceof Function||Q instanceof Function)&&at.addWindowFunc(Re,Ke,St),ne}catch(ne){return console.error("sqlite3_create_window_function() setup threw:",ne),$.sqlite3__wasm_db_error(Re,ne,"Creation of UDF threw: "+ne)}}:delete N.sqlite3_create_window_function,N.sqlite3_create_function_v2.udfSetResult=N.sqlite3_create_function.udfSetResult=N.sqlite3_result_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfSetResult=N.sqlite3_result_js),N.sqlite3_create_function_v2.udfConvertArgs=N.sqlite3_create_function.udfConvertArgs=N.sqlite3_values_to_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfConvertArgs=N.sqlite3_values_to_js),N.sqlite3_create_function_v2.udfSetError=N.sqlite3_create_function.udfSetError=N.sqlite3_result_error_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfSetError=N.sqlite3_result_error_js)}{const ve=(Te,Ze)=>(typeof Te=="string"?Ze=-1:$.isSQLableTypedArray(Te)?(Ze=Te.byteLength,Te=$.typedArrayToString(Te instanceof ArrayBuffer?new Uint8Array(Te):Te)):Array.isArray(Te)&&(Te=Te.join(""),Ze=-1),[Te,Ze]),Ie={basic:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};N.sqlite3_prepare_v3=function Te(Ze,Ge,Re,Ke,St,Y){if(Te.length!==arguments.length)return fe(Ze,"sqlite3_prepare_v3",Te.length);const[ce,Ee]=ve(Ge,Re);switch(typeof ce){case"string":return Ie.basic(Ze,ce,Ee,Ke,St,null);case"number":return Ie.full(Ze,ce,Ee,Ke,St,Y);default:return $.sqlite3__wasm_db_error(Ze,N.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},N.sqlite3_prepare_v2=function Te(Ze,Ge,Re,Ke,St){return Te.length===arguments.length?N.sqlite3_prepare_v3(Ze,Ge,Re,0,Ke,St):fe(Ze,"sqlite3_prepare_v2",Te.length)}}{const ve=C.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),Ie=C.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);N.sqlite3_bind_text=function Te(Ze,Ge,Re,Ke,St){if(Te.length!==arguments.length)return fe(N.sqlite3_db_handle(Ze),"sqlite3_bind_text",Te.length);if(C.isPtr(Re)||Re===null)return ve(Ze,Ge,Re,Ke,St);Re instanceof ArrayBuffer?Re=new Uint8Array(Re):Array.isArray(pMem)&&(Re=pMem.join(""));let Y,ce;try{if($.isSQLableTypedArray(Re))Y=C.allocFromTypedArray(Re),ce=Re.byteLength;else if(typeof Re=="string")[Y,ce]=C.allocCString(Re);else return $.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ze),N.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return ve(Ze,Ge,Y,ce,N.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(Y),$.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ze),Ee)}},N.sqlite3_bind_blob=function Te(Ze,Ge,Re,Ke,St){if(Te.length!==arguments.length)return fe(N.sqlite3_db_handle(Ze),"sqlite3_bind_blob",Te.length);if(C.isPtr(Re)||Re===null)return Ie(Ze,Ge,Re,Ke,St);Re instanceof ArrayBuffer?Re=new Uint8Array(Re):Array.isArray(Re)&&(Re=Re.join(""));let Y,ce;try{if($.isBindableTypedArray(Re))Y=C.allocFromTypedArray(Re),ce=Ke>=0?Ke:Re.byteLength;else if(typeof Re=="string")[Y,ce]=C.allocCString(Re);else return $.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ze),N.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return Ie(Ze,Ge,Y,ce,N.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(Y),$.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ze),Ee)}}}N.sqlite3_config=function(ve,...Ie){if(arguments.length<2)return N.SQLITE_MISUSE;switch(ve){case N.SQLITE_CONFIG_COVERING_INDEX_SCAN:case N.SQLITE_CONFIG_MEMSTATUS:case N.SQLITE_CONFIG_SMALL_MALLOC:case N.SQLITE_CONFIG_SORTERREF_SIZE:case N.SQLITE_CONFIG_STMTJRNL_SPILL:case N.SQLITE_CONFIG_URI:return C.exports.sqlite3__wasm_config_i(ve,Ie[0]);case N.SQLITE_CONFIG_LOOKASIDE:return C.exports.sqlite3__wasm_config_ii(ve,Ie[0],Ie[1]);case N.SQLITE_CONFIG_MEMDB_MAXSIZE:return C.exports.sqlite3__wasm_config_j(ve,Ie[0]);case N.SQLITE_CONFIG_GETMALLOC:case N.SQLITE_CONFIG_GETMUTEX:case N.SQLITE_CONFIG_GETPCACHE2:case N.SQLITE_CONFIG_GETPCACHE:case N.SQLITE_CONFIG_HEAP:case N.SQLITE_CONFIG_LOG:case N.SQLITE_CONFIG_MALLOC:case N.SQLITE_CONFIG_MMAP_SIZE:case N.SQLITE_CONFIG_MULTITHREAD:case N.SQLITE_CONFIG_MUTEX:case N.SQLITE_CONFIG_PAGECACHE:case N.SQLITE_CONFIG_PCACHE2:case N.SQLITE_CONFIG_PCACHE:case N.SQLITE_CONFIG_PCACHE_HDRSZ:case N.SQLITE_CONFIG_PMASZ:case N.SQLITE_CONFIG_SERIALIZED:case N.SQLITE_CONFIG_SINGLETHREAD:case N.SQLITE_CONFIG_SQLLOG:case N.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return N.SQLITE_NOTFOUND}};{const ve=new Set;N.sqlite3_auto_extension=function(Ie){if(Ie instanceof Function)Ie=C.installFunction("i(ppp)",Ie);else if(arguments.length!==1||!C.isPtr(Ie))return N.SQLITE_MISUSE;const Te=C.exports.sqlite3_auto_extension(Ie);return Ie!==arguments[0]&&(Te===0?ve.add(Ie):C.uninstallFunction(Ie)),Te},N.sqlite3_cancel_auto_extension=function(Ie){return!Ie||arguments.length!==1||!C.isPtr(Ie)?0:C.exports.sqlite3_cancel_auto_extension(Ie)},N.sqlite3_reset_auto_extension=function(){C.exports.sqlite3_reset_auto_extension();for(const Ie of ve)C.uninstallFunction(Ie);ve.clear()}}const mt=N.sqlite3_vfs_find("kvvfs");if(mt)if($.isUIThread()){const ve=new N.sqlite3_kvvfs_methods(C.exports.sqlite3__wasm_kvvfs_methods());delete N.sqlite3_kvvfs_methods;const Ie=C.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,Te=C.pstack,Ze=Re=>C.peek(Re)===115?sessionStorage:localStorage,Ge={xRead:(Re,Ke,St,Y)=>{const ce=Te.pointer,Ee=C.scopedAllocPush();try{const st=Ie(Re,Ke);if(!st)return-3;const ae=C.cstrToJs(st),pe=Ze(Re).getItem(ae);if(!pe)return-1;const Q=pe.length;if(Y<=0)return Q;if(Y===1)return C.poke(St,0),Q;const ne=C.scopedAllocCString(pe);return Y>Q+1&&(Y=Q+1),C.heap8u().copyWithin(St,ne,ne+Y-1),C.poke(St+Y-1,0),Y-1}catch(st){return console.error("kvstorageRead()",st),-2}finally{Te.restore(ce),C.scopedAllocPop(Ee)}},xWrite:(Re,Ke,St)=>{const Y=Te.pointer;try{const ce=Ie(Re,Ke);if(!ce)return 1;const Ee=C.cstrToJs(ce);return Ze(Re).setItem(Ee,C.cstrToJs(St)),0}catch(ce){return console.error("kvstorageWrite()",ce),N.SQLITE_IOERR}finally{Te.restore(Y)}},xDelete:(Re,Ke)=>{const St=Te.pointer;try{const Y=Ie(Re,Ke);return Y?(Ze(Re).removeItem(C.cstrToJs(Y)),0):1}catch(Y){return console.error("kvstorageDelete()",Y),N.SQLITE_IOERR}finally{Te.restore(St)}}};for(const Re of Object.keys(Ge))ve[ve.memberKey(Re)]=C.installFunction(ve.memberSignature(Re),Ge[Re])}else N.sqlite3_vfs_unregister(mt);C.xWrap.FuncPtrAdapter.warnOnUse=!0;const Be=y.StructBinder,qe=function ve(Ie,Te,Ze,Ge=ve.installMethodArgcCheck){if(Ie instanceof Be.StructType?!(Ze instanceof Function)&&!C.isPtr(Ze)&&S("Usage errror: expecting a Function or WASM pointer to one."):S("Usage error: target object is-not-a StructType."),arguments.length===1)return(Y,ce)=>ve(Ie,Y,ce,Ge);ve.argcProxy||(ve.argcProxy=function(Y,ce,Ee,st){return function(...ae){return Ee.length!==arguments.length&&S("Argument mismatch for",Y.structInfo.name+"::"+ce+": Native signature is:",st),Ee.apply(this,ae)}},ve.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((Y,ce)=>{if(typeof Y=="number")try{C.uninstallFunction(Y)}catch{}}),delete this.ondispose.__removeFuncList)});const Re=Ie.memberSignature(Te);Re.length<2&&S("Member",Te,"does not have a function pointer signature:",Re);const Ke=Ie.memberKey(Te),St=Ge&&!C.isPtr(Ze)?ve.argcProxy(Ie,Ke,Ze,Re):Ze;if(C.isPtr(St))St&&!C.functionEntry(St)&&S("Pointer",St,"is not a WASM function table entry."),Ie[Ke]=St;else{const Y=C.installFunction(St,Ie.memberSignature(Te,!0));Ie[Ke]=Y,(!Ie.ondispose||!Ie.ondispose.__removeFuncList)&&(Ie.addOnDispose("ondispose.__removeFuncList handler",ve.removeFuncList),Ie.ondispose.__removeFuncList=[]),Ie.ondispose.__removeFuncList.push(Ke,Y)}return(Y,ce)=>ve(Ie,Y,ce,Ge)};qe.installMethodArgcCheck=!1;const et=function(ve,Ie,Te=qe.installMethodArgcCheck){const Ze=new Map;for(const Ge of Object.keys(Ie)){const Re=Ie[Ge],Ke=Ze.get(Re);if(Ke){const St=ve.memberKey(Ge);ve[St]=ve[ve.memberKey(Ke)]}else qe(ve,Ge,Re,Te),Ze.set(Re,Ge)}return ve};Be.StructType.prototype.installMethod=function(Ie,Te,Ze=qe.installMethodArgcCheck){return arguments.length<3&&Ie&&typeof Ie=="object"?et(this,...arguments):qe(this,...arguments)},Be.StructType.prototype.installMethods=function(ve,Ie=qe.installMethodArgcCheck){return et(this,ve,Ie)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){y.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...ae)=>{throw new y.SQLite3Error(...ae)},N=y.capi,C=y.wasm,$=y.util,fe=new WeakMap,me=new WeakMap,Qe=(ae,pe,Q)=>{const ne=Object.getOwnPropertyDescriptor(ae,pe);return ne?ne.value:Q},tt=function(ae,pe){return pe&&(ae instanceof qe&&(ae=ae.pointer),S(pe,"sqlite3 result code",pe+":",ae?N.sqlite3_errmsg(ae):N.sqlite3_errstr(pe))),arguments[0]},at=C.installFunction("i(ippp)",function(ae,pe,Q,ne){N.SQLITE_TRACE_STMT===ae&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+pe+":",C.cstrToJs(ne))}.bind({counter:0})),mt=Object.create(null),Be=function ae(...pe){if(!ae._name2vfs){ae._name2vfs=Object.create(null);const _e=typeof importScripts=="function"?Pe=>S("The VFS for",Pe,"is only available in the main window thread."):!1;ae._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:_e||(()=>"local")},ae._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:_e||(()=>"session")}}const Q=ae.normalizeArgs(...pe);let ne=Q.filename,ie=Q.vfs,Le=Q.flags;(typeof ne!="string"&&typeof ne!="number"||typeof Le!="string"||ie&&typeof ie!="string"&&typeof ie!="number")&&(y.config.error("Invalid DB ctor args",Q,arguments),S("Invalid arguments for DB constructor."));let it=typeof ne=="number"?C.cstrToJs(ne):ne;const Rt=ae._name2vfs[it];Rt&&(ie=Rt.vfs,ne=it=Rt.filename(it));let zt,Zt=0;Le.indexOf("c")>=0&&(Zt|=N.SQLITE_OPEN_CREATE|N.SQLITE_OPEN_READWRITE),Le.indexOf("w")>=0&&(Zt|=N.SQLITE_OPEN_READWRITE),Zt===0&&(Zt|=N.SQLITE_OPEN_READONLY),Zt|=N.SQLITE_OPEN_EXRESCODE;const lt=C.pstack.pointer;try{const _e=C.pstack.allocPtr();let Pe=N.sqlite3_open_v2(ne,_e,Zt,ie||0);zt=C.peekPtr(_e),tt(zt,Pe),N.sqlite3_extended_result_codes(zt,1),Le.indexOf("t")>=0&&N.sqlite3_trace_v2(zt,N.SQLITE_TRACE_STMT,at,zt)}catch(_e){throw zt&&N.sqlite3_close_v2(zt),_e}finally{C.pstack.restore(lt)}this.filename=it,fe.set(this,zt),me.set(this,Object.create(null));try{const _e=N.sqlite3_js_db_vfs(zt)||S("Internal error: cannot get VFS for new db handle."),Pe=mt[_e];Pe&&(Pe instanceof Function?Pe(this,y):tt(zt,N.sqlite3_exec(zt,Pe,0,0,0)))}catch(_e){throw this.close(),_e}};Be.setVfsPostOpenCallback=function(ae,pe){pe instanceof Function||S("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),mt[ae]=pe},Be.normalizeArgs=function(ae=":memory:",pe="c",Q=null){const ne={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(ne,arguments[0]),ne.flags===void 0&&(ne.flags="c"),ne.vfs===void 0&&(ne.vfs=null),ne.filename===void 0&&(ne.filename=":memory:")):(ne.filename=ae,ne.flags=pe,ne.vfs=Q),ne};const qe=function(...ae){Be.apply(this,ae)};qe.dbCtorHelper=Be;const et={null:1,number:2,string:3,boolean:4,blob:5};et.undefined==et.null,C.bigIntEnabled&&(et.bigint=et.number);const ve=function(){et!==arguments[2]&&S(N.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],fe.set(this,arguments[1]),this.parameterCount=N.sqlite3_bind_parameter_count(this.pointer)},Ie=function(ae){return ae.pointer||S("DB has been closed."),ae},Te=function(ae,pe){return(pe!==(pe|0)||pe<0||pe>=ae.columnCount)&&S("Column index",pe,"is out of range."),ae},Ze=function(ae,pe){const Q=Object.create(null);switch(Q.opt=Object.create(null),pe.length){case 1:typeof pe[0]=="string"||$.isSQLableTypedArray(pe[0])||Array.isArray(pe[0])?Q.sql=pe[0]:pe[0]&&typeof pe[0]=="object"&&(Q.opt=pe[0],Q.sql=Q.opt.sql);break;case 2:Q.sql=pe[0],Q.opt=pe[1];break;default:S("Invalid argument count for exec().")}Q.sql=$.flexibleString(Q.sql),typeof Q.sql!="string"&&S("Missing SQL argument or unsupported SQL value type.");const ne=Q.opt;switch(ne.returnValue){case"resultRows":ne.resultRows||(ne.resultRows=[]),Q.returnVal=()=>ne.resultRows;break;case"saveSql":ne.saveSql||(ne.saveSql=[]),Q.returnVal=()=>ne.saveSql;break;case void 0:case"this":Q.returnVal=()=>ae;break;default:S("Invalid returnValue value:",ne.returnValue)}if(!ne.callback&&!ne.returnValue&&ne.rowMode!==void 0&&(ne.resultRows||(ne.resultRows=[]),Q.returnVal=()=>ne.resultRows),ne.callback||ne.resultRows)switch(ne.rowMode===void 0?"array":ne.rowMode){case"object":Q.cbArg=(ie,Le)=>{Le.columnNames||(Le.columnNames=ie.getColumnNames([]));const it=ie.get([]),Rt=Object.create(null);for(const zt in Le.columnNames)Rt[Le.columnNames[zt]]=it[zt];return Rt};break;case"array":Q.cbArg=ie=>ie.get([]);break;case"stmt":Array.isArray(ne.resultRows)&&S("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),Q.cbArg=ie=>ie;break;default:if($.isInt32(ne.rowMode)){Q.cbArg=ie=>ie.get(ne.rowMode);break}else if(typeof ne.rowMode=="string"&&ne.rowMode.length>1&&ne.rowMode[0]==="$"){const ie=ne.rowMode.substr(1);Q.cbArg=Le=>{const it=Le.get(Object.create(null))[ie];return it===void 0?S(N.SQLITE_NOTFOUND,"exec(): unknown result column:",ie):it};break}S("Invalid rowMode:",ne.rowMode)}return Q},Ge=(ae,pe,Q,...ne)=>{const ie=ae.prepare(pe);try{const Le=ie.bind(Q).step()?ie.get(...ne):void 0;return ie.reset(),Le}finally{ie.finalize()}},Re=(ae,pe,Q,ne)=>ae.exec({sql:pe,bind:Q,rowMode:ne,returnValue:"resultRows"});qe.checkRc=(ae,pe)=>tt(ae,pe),qe.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return Ie(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const ae=this.pointer;if(Object.keys(me.get(this)).forEach((pe,Q)=>{if(Q&&Q.pointer)try{Q.finalize()}catch{}}),fe.delete(this),me.delete(this),N.sqlite3_close_v2(ae),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(ae=!1,pe=!1){const Q=Ie(this).pointer;return ae?pe?N.sqlite3_total_changes64(Q):N.sqlite3_total_changes(Q):pe?N.sqlite3_changes64(Q):N.sqlite3_changes(Q)},dbFilename:function(ae="main"){return N.sqlite3_db_filename(Ie(this).pointer,ae)},dbName:function(ae=0){return N.sqlite3_db_name(Ie(this).pointer,ae)},dbVfsName:function(ae=0){let pe;const Q=N.sqlite3_js_db_vfs(Ie(this).pointer,ae);if(Q){const ne=new N.sqlite3_vfs(Q);try{pe=C.cstrToJs(ne.$zName)}finally{ne.dispose()}}return pe},prepare:function(ae){Ie(this);const pe=C.pstack.pointer;let Q,ne;try{Q=C.pstack.alloc(8),qe.checkRc(this,N.sqlite3_prepare_v2(this.pointer,ae,-1,Q,null)),ne=C.peekPtr(Q)}finally{C.pstack.restore(pe)}ne||S("Cannot prepare empty SQL.");const ie=new ve(this,ne,et);return me.get(this)[ne]=ie,ie},exec:function(){Ie(this);const ae=Ze(this,arguments);if(!ae.sql)return S("exec() requires an SQL string.");const pe=ae.opt,Q=pe.callback,ne=Array.isArray(pe.resultRows)?pe.resultRows:void 0;let ie,Le=pe.bind,it=!!(ae.cbArg||pe.columnNames||ne);const Rt=C.scopedAllocPush(),zt=Array.isArray(pe.saveSql)?pe.saveSql:void 0;try{const Zt=$.isSQLableTypedArray(ae.sql);let lt=Zt?ae.sql.byteLength:C.jstrlen(ae.sql);const _e=C.scopedAlloc(2*C.ptrSizeof+(lt+1)),Pe=_e+C.ptrSizeof;let ot=Pe+C.ptrSizeof;const pt=ot+lt;for(Zt?C.heap8().set(ae.sql,ot):C.jstrcpy(ae.sql,C.heap8(),ot,lt,!1),C.poke(ot+lt,0);ot&&C.peek(ot,"i8");){C.pokePtr([_e,Pe],0),qe.checkRc(this,N.sqlite3_prepare_v3(this.pointer,ot,lt,0,_e,Pe));const Pt=C.peekPtr(_e);if(ot=C.peekPtr(Pe),lt=pt-ot,!!Pt){if(zt&&zt.push(N.sqlite3_sql(Pt).trim()),ie=new ve(this,Pt,et),Le&&ie.parameterCount&&(ie.bind(Le),Le=null),it&&ie.columnCount){let Yt=Array.isArray(pe.columnNames)?0:1;if(it=!1,ae.cbArg||ne){const je=Object.create(null);for(;ie.step();ie._lockedByExec=!1){Yt++===0&&ie.getColumnNames(je.columnNames=pe.columnNames||[]),ie._lockedByExec=!0;const nt=ae.cbArg(ie,je);if(ne&&ne.push(nt),Q&&Q.call(pe,nt,ie)===!1)break}ie._lockedByExec=!1}Yt===0&&ie.getColumnNames(pe.columnNames)}else ie.step();ie.reset().finalize(),ie=null}}}finally{C.scopedAllocPop(Rt),ie&&(delete ie._lockedByExec,ie.finalize())}return ae.returnVal()},createFunction:function(pe,Q,ne){const ie=je=>je instanceof Function;switch(arguments.length){case 1:ne=pe,pe=ne.name,Q=ne.xFunc||0;break;case 2:ie(Q)||(ne=Q,Q=ne.xFunc||0);break}ne||(ne={}),typeof pe!="string"&&S("Invalid arguments: missing function name.");let Le=ne.xStep||0,it=ne.xFinal||0;const Rt=ne.xValue||0,zt=ne.xInverse||0;let Zt;ie(Q)?(Zt=!1,(ie(Le)||ie(it))&&S("Ambiguous arguments: scalar or aggregate?"),Le=it=null):ie(Le)?(ie(it)||S("Missing xFinal() callback for aggregate or window UDF."),Q=null):ie(it)?S("Missing xStep() callback for aggregate or window UDF."):S("Missing function-type properties."),Zt===!1?(ie(Rt)||ie(zt))&&S("xValue and xInverse are not permitted for non-window UDFs."):ie(Rt)?(ie(zt)||S("xInverse must be provided if xValue is."),Zt=!0):ie(zt)&&S("xValue must be provided if xInverse is.");const lt=ne.pApp;lt!=null&&(typeof lt!="number"||!$.isInt32(lt))&&S("Invalid value for pApp property. Must be a legal WASM pointer value.");const _e=ne.xDestroy||0;_e&&!ie(_e)&&S("xDestroy property must be a function.");let Pe=0;Qe(ne,"deterministic")&&(Pe|=N.SQLITE_DETERMINISTIC),Qe(ne,"directOnly")&&(Pe|=N.SQLITE_DIRECTONLY),Qe(ne,"innocuous")&&(Pe|=N.SQLITE_INNOCUOUS),pe=pe.toLowerCase();const ot=Q||Le,pt=Qe(ne,"arity"),Pt=typeof pt=="number"?pt:ot.length?ot.length-1:0;let Yt;return Zt?Yt=N.sqlite3_create_window_function(this.pointer,pe,Pt,N.SQLITE_UTF8|Pe,lt||0,Le,it,Rt,zt,_e):Yt=N.sqlite3_create_function_v2(this.pointer,pe,Pt,N.SQLITE_UTF8|Pe,lt||0,Q,Le,it,_e),qe.checkRc(this,Yt),this},selectValue:function(ae,pe,Q){return Ge(this,ae,pe,0,Q)},selectValues:function(ae,pe,Q){const ne=this.prepare(ae),ie=[];try{for(ne.bind(pe);ne.step();)ie.push(ne.get(0,Q));ne.reset()}finally{ne.finalize()}return ie},selectArray:function(ae,pe){return Ge(this,ae,pe,[])},selectObject:function(ae,pe){return Ge(this,ae,pe,{})},selectArrays:function(ae,pe){return Re(this,ae,pe,"array")},selectObjects:function(ae,pe){return Re(this,ae,pe,"object")},openStatementCount:function(){return this.pointer?Object.keys(me.get(this)).length:0},transaction:function(ae){let pe="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&S(N.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),pe+=" "+arguments[0],ae=arguments[1]),Ie(this).exec(pe);try{const Q=ae(this);return this.exec("COMMIT"),Q}catch(Q){throw this.exec("ROLLBACK"),Q}},savepoint:function(ae){Ie(this).exec("SAVEPOINT oo1");try{const pe=ae(this);return this.exec("RELEASE oo1"),pe}catch(pe){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),pe}},checkRc:function(ae){return tt(this,ae)}};const Ke=function(ae){return ae.pointer||S("Stmt has been closed."),ae},St=function(ae){let pe=et[ae==null?"null":typeof ae];switch(pe){case et.boolean:case et.null:case et.number:case et.string:return pe;case et.bigint:if(C.bigIntEnabled)return pe;default:return $.isBindableTypedArray(ae)?et.blob:void 0}},Y=function(ae){return St(ae)||S("Unsupported bind() argument type:",typeof ae)},ce=function(ae,pe){const Q=typeof pe=="number"?pe:N.sqlite3_bind_parameter_index(ae.pointer,pe);return Q===0||!$.isInt32(Q)?S("Invalid bind() parameter name: "+pe):(Q<1||Q>ae.parameterCount)&&S("Bind index",pe,"is out of range."),Q},Ee=function(ae,pe){return ae._lockedByExec&&S("Operation is illegal when statement is locked:",pe),ae},st=function ae(pe,Q,ne,ie){Ee(Ke(pe),"bind()"),ae._||(ae._tooBigInt=it=>S("BigInt value is too big to store without precision loss:",it),ae._={string:function(it,Rt,zt,Zt){const[lt,_e]=C.allocCString(zt,!0);return(Zt?N.sqlite3_bind_blob:N.sqlite3_bind_text)(it.pointer,Rt,lt,_e,N.SQLITE_WASM_DEALLOC)}}),Y(ie),Q=ce(pe,Q);let Le=0;switch(ie==null?et.null:ne){case et.null:Le=N.sqlite3_bind_null(pe.pointer,Q);break;case et.string:Le=ae._.string(pe,Q,ie,!1);break;case et.number:{let it;$.isInt32(ie)?it=N.sqlite3_bind_int:typeof ie=="bigint"?$.bigIntFits64(ie)?C.bigIntEnabled?it=N.sqlite3_bind_int64:$.bigIntFitsDouble(ie)?(ie=Number(ie),it=N.sqlite3_bind_double):ae._tooBigInt(ie):ae._tooBigInt(ie):(ie=Number(ie),C.bigIntEnabled&&Number.isInteger(ie)?it=N.sqlite3_bind_int64:it=N.sqlite3_bind_double),Le=it(pe.pointer,Q,ie);break}case et.boolean:Le=N.sqlite3_bind_int(pe.pointer,Q,ie?1:0);break;case et.blob:{if(typeof ie=="string"){Le=ae._.string(pe,Q,ie,!0);break}else ie instanceof ArrayBuffer?ie=new Uint8Array(ie):$.isBindableTypedArray(ie)||S("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const it=C.alloc(ie.byteLength||1);C.heap8().set(ie.byteLength?ie:[0],it),Le=N.sqlite3_bind_blob(pe.pointer,Q,it,ie.byteLength,N.SQLITE_WASM_DEALLOC);break}default:y.config.warn("Unsupported bind() argument type:",ie),S("Unsupported bind() argument type: "+typeof ie)}return Le&&qe.checkRc(pe.db.pointer,Le),pe._mayGet=!1,pe};ve.prototype={finalize:function(){if(this.pointer){Ee(this,"finalize()");const ae=N.sqlite3_finalize(this.pointer);return delete me.get(this.db)[this.pointer],fe.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,ae}},clearBindings:function(){return Ee(Ke(this),"clearBindings()"),N.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(ae){Ee(this,"reset()"),ae&&this.clearBindings();const pe=N.sqlite3_reset(Ke(this).pointer);return this._mayGet=!1,tt(this.db,pe),this},bind:function(){Ke(this);let ae,pe;switch(arguments.length){case 1:ae=1,pe=arguments[0];break;case 2:ae=arguments[0],pe=arguments[1];break;default:S("Invalid bind() arguments.")}return pe===void 0?this:(this.parameterCount||S("This statement has no bindable parameters."),this._mayGet=!1,pe===null?st(this,ae,et.null,pe):Array.isArray(pe)?(arguments.length!==1&&S("When binding an array, an index argument is not permitted."),pe.forEach((Q,ne)=>st(this,ne+1,Y(Q),Q)),this):(pe instanceof ArrayBuffer&&(pe=new Uint8Array(pe)),typeof pe=="object"&&!$.isBindableTypedArray(pe)?(arguments.length!==1&&S("When binding an object, an index argument is not permitted."),Object.keys(pe).forEach(Q=>st(this,Q,Y(pe[Q]),pe[Q])),this):st(this,ae,Y(pe),pe)))},bindAsBlob:function(ae,pe){Ke(this),arguments.length===1&&(pe=ae,ae=1);const Q=Y(pe);return et.string!==Q&&et.blob!==Q&&et.null!==Q&&S("Invalid value type for bindAsBlob()"),st(this,ae,et.blob,pe)},step:function(){Ee(this,"step()");const ae=N.sqlite3_step(Ke(this).pointer);switch(ae){case N.SQLITE_DONE:return this._mayGet=!1;case N.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,y.config.warn("sqlite3_step() rc=",ae,N.sqlite3_js_rc_str(ae),"SQL =",N.sqlite3_sql(this.pointer)),qe.checkRc(this.db.pointer,ae)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const ae=this.step();return this.reset(),ae}finally{try{this.finalize()}catch{}}},get:function(ae,pe){if(Ke(this)._mayGet||S("Stmt.step() has not (recently) returned true."),Array.isArray(ae)){let Q=0;const ne=this.columnCount;for(;Q<ne;)ae[Q]=this.get(Q++);return ae}else if(ae&&typeof ae=="object"){let Q=0;const ne=this.columnCount;for(;Q<ne;)ae[N.sqlite3_column_name(this.pointer,Q)]=this.get(Q++);return ae}switch(Te(this,ae),pe===void 0?N.sqlite3_column_type(this.pointer,ae):pe){case N.SQLITE_NULL:return null;case N.SQLITE_INTEGER:if(C.bigIntEnabled){const Q=N.sqlite3_column_int64(this.pointer,ae);return Q>=Number.MIN_SAFE_INTEGER&&Q<=Number.MAX_SAFE_INTEGER?Number(Q).valueOf():Q}else{const Q=N.sqlite3_column_double(this.pointer,ae);return(Q>Number.MAX_SAFE_INTEGER||Q<Number.MIN_SAFE_INTEGER)&&S("Integer is out of range for JS integer range: "+Q),$.isInt32(Q)?Q|0:Q}case N.SQLITE_FLOAT:return N.sqlite3_column_double(this.pointer,ae);case N.SQLITE_TEXT:return N.sqlite3_column_text(this.pointer,ae);case N.SQLITE_BLOB:{const Q=N.sqlite3_column_bytes(this.pointer,ae),ne=N.sqlite3_column_blob(this.pointer,ae),ie=new Uint8Array(Q);return Q&&ie.set(C.heap8u().slice(ne,ne+Q),0),Q&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(ie.buffer),ie}default:S("Don't know how to translate","type of result column #"+ae+".")}S("Not reached.")},getInt:function(ae){return this.get(ae,N.SQLITE_INTEGER)},getFloat:function(ae){return this.get(ae,N.SQLITE_FLOAT)},getString:function(ae){return this.get(ae,N.SQLITE_TEXT)},getBlob:function(ae){return this.get(ae,N.SQLITE_BLOB)},getJSON:function(ae){const pe=this.get(ae,N.SQLITE_STRING);return pe===null?pe:JSON.parse(pe)},getColumnName:function(ae){return N.sqlite3_column_name(Te(Ke(this),ae).pointer,ae)},getColumnNames:function(ae=[]){Te(Ke(this),0);const pe=this.columnCount;for(let Q=0;Q<pe;++Q)ae.push(N.sqlite3_column_name(this.pointer,Q));return ae},getParamIndex:function(ae){return Ke(this).parameterCount?N.sqlite3_bind_parameter_index(this.pointer,ae):void 0},getParamName:function(ae){return Ke(this).parameterCount?N.sqlite3_bind_parameter_name(this.pointer,ae):void 0},isBusy:function(){return N.sqlite3_stmt_busy(Ke(this))!==0},isReadOnly:function(){return N.sqlite3_stmt_readonly(Ke(this))!==0}};{const ae={enumerable:!0,get:function(){return fe.get(this)},set:()=>S("The pointer property is read-only.")};Object.defineProperty(ve.prototype,"pointer",ae),Object.defineProperty(qe.prototype,"pointer",ae)}if(Object.defineProperty(ve.prototype,"columnCount",{enumerable:!1,get:function(){return N.sqlite3_column_count(this.pointer)},set:()=>S("The columnCount property is read-only.")}),y.oo1={DB:qe,Stmt:ve},$.isUIThread()){y.oo1.JsStorageDb=function(pe="session"){const Q=Be.normalizeArgs(...arguments);pe=Q.filename,pe!=="session"&&pe!=="local"&&S("JsStorageDb db name must be one of 'session' or 'local'."),Q.vfs="kvvfs",Be.call(this,Q)};const ae=y.oo1.JsStorageDb;ae.prototype=Object.create(qe.prototype),ae.clearStorage=N.sqlite3_js_kvvfs_clear,ae.prototype.clearStorage=function(){return ae.clearStorage(Ie(this).filename)},ae.storageSize=N.sqlite3_js_kvvfs_size,ae.prototype.storageSize=function(){return ae.storageSize(Ie(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util;y.initWorker1API=function(){const N=(...Be)=>{throw new Error(Be.join(" "))};globalThis.WorkerGlobalScope instanceof Function||N("initWorker1API() must be run from a Worker thread.");const C=this.sqlite3||N("Missing this.sqlite3 object."),$=C.oo1.DB,fe=function(Be){let qe=me.idMap.get(Be);return qe||(qe="db#"+ ++me.idSeq+"@"+Be.pointer,me.idMap.set(Be,qe),qe)},me={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Be){const qe=new $(Be);return this.dbs[fe(qe)]=qe,this.dbList.indexOf(qe)<0&&this.dbList.push(qe),qe},close:function(Be,qe){if(Be){delete this.dbs[fe(Be)];const et=Be.filename,ve=S.sqlite3__wasm_db_vfs(Be.pointer,0);Be.close();const Ie=this.dbList.indexOf(Be);Ie>=0&&this.dbList.splice(Ie,1),qe&&et&&ve&&S.sqlite3__wasm_vfs_unlink(ve,et)}},post:function(Be,qe){qe&&qe.length?(globalThis.postMessage(Be,Array.from(qe)),qe.length=0):globalThis.postMessage(Be)},dbs:Object.create(null),getDb:function(Be,qe=!0){return this.dbs[Be]||(qe?N("Unknown (or closed) DB ID:",Be):void 0)}},Qe=function(Be=me.dbList[0]){return Be&&Be.pointer?Be:N("DB is not opened.")},tt=function(Be,qe=!0){const et=me.getDb(Be.dbId,!1)||me.dbList[0];return qe?Qe(et):et},at=function(){return me.dbList[0]&&fe(me.dbList[0])},mt={open:function(Be){const qe=Object.create(null),et=Be.args||Object.create(null);et.simulateError&&N("Throwing because of simulateError flag.");const ve=Object.create(null);qe.vfs=et.vfs,qe.filename=et.filename||"";const Ie=me.open(qe);return ve.filename=Ie.filename,ve.persistent=!!C.capi.sqlite3_js_db_uses_vfs(Ie.pointer,"opfs"),ve.dbId=fe(Ie),ve.vfs=Ie.dbVfsName(),ve},close:function(Be){const qe=tt(Be,!1),et={filename:qe&&qe.filename};if(qe){const ve=Be.args&&typeof Be.args=="object"?!!Be.args.unlink:!1;me.close(qe,ve)}return et},exec:function(Be){const qe=typeof Be.args=="string"?{sql:Be.args}:Be.args||Object.create(null);qe.rowMode==="stmt"?N("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):qe.sql||N("'exec' requires input SQL.");const et=tt(Be);(qe.callback||Array.isArray(qe.resultRows))&&(et._blobXfer=me.xfer);const ve=qe.callback;let Ie=0;const Te=!!qe.columnNames;typeof ve=="string"&&(Te||(qe.columnNames=[]),qe.callback=function(Ze,Ge){me.post({type:ve,columnNames:qe.columnNames,rowNumber:++Ie,row:Ze},me.xfer)});try{const Ze=qe.countChanges?et.changes(!0,qe.countChanges===64):void 0;et.exec(qe),Ze!==void 0&&(qe.changeCount=et.changes(!0,qe.countChanges===64)-Ze),qe.callback instanceof Function&&(qe.callback=ve,me.post({type:ve,columnNames:qe.columnNames,rowNumber:null,row:void 0}))}finally{delete et._blobXfer,qe.callback&&(qe.callback=ve)}return qe},"config-get":function(){const Be=Object.create(null),qe=C.config;return["bigIntEnabled"].forEach(function(et){Object.getOwnPropertyDescriptor(qe,et)&&(Be[et]=qe[et])}),Be.version=C.version,Be.vfsList=C.capi.sqlite3_js_vfs_list(),Be},export:function(Be){const qe=tt(Be),et={byteArray:C.capi.sqlite3_js_db_export(qe.pointer),filename:qe.filename,mimetype:"application/x-sqlite3"};return me.xfer.push(et.byteArray.buffer),et},toss:function(Be){N("Testing worker exception")}};globalThis.onmessage=async function(Be){Be=Be.data;let qe,et=Be.dbId,ve=Be.type;const Ie=performance.now();try{mt.hasOwnProperty(ve)&&mt[ve]instanceof Function?qe=await mt[ve](Be):N("Unknown db worker message type:",Be.type)}catch(Te){ve="error",qe={operation:Be.type,message:Te.message,errorClass:Te.name,input:Be},Te.stack&&(qe.stack=typeof Te.stack=="string"?Te.stack.split(/\n\s*/):Te.stack)}et||(et=qe.dbId||at()),me.post({type:ve,dbId:et,messageId:Be.messageId,workerReceivedTime:Ie,workerRespondTime:performance.now(),departureTime:Be.departureTime,result:qe},me.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:y})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.wasm,N=y.capi,C=y.util.toss3,$=Object.create(null);y.vfs=$,N.sqlite3_vfs.prototype.registerVfs=function(fe=!1){this instanceof y.capi.sqlite3_vfs||C("Expecting a sqlite3_vfs-type argument.");const me=N.sqlite3_vfs_register(this,fe?1:0);return me&&C("sqlite3_vfs_register(",this,") failed with rc",me),this.pointer!==N.sqlite3_vfs_find(this.$zName)&&C("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},$.installVfs=function(fe){let me=0;const Qe=["io","vfs"];for(const tt of Qe){const at=fe[tt];at&&(++me,at.struct.installMethods(at.methods,!!at.applyArgcCheck),tt==="vfs"&&(!at.struct.$zName&&typeof at.name=="string"&&at.struct.addOnDispose(at.struct.$zName=S.allocCString(at.name)),at.struct.registerVfs(!!at.asDefault)))}return me||C("Misuse: installVfs() options object requires at least","one of:",Qe),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){if(!y.wasm.exports.sqlite3_declare_vtab)return;const S=y.wasm,N=y.capi,C=y.util.toss3,$=Object.create(null);y.vtab=$;const fe=N.sqlite3_index_info;fe.prototype.nthConstraint=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraint+fe.sqlite3_index_constraint.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint(mt)},fe.prototype.nthConstraintUsage=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraintUsage+fe.sqlite3_index_constraint_usage.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint_usage(mt)},fe.prototype.nthOrderBy=function(tt,at=!1){if(tt<0||tt>=this.$nOrderBy)return!1;const mt=this.$aOrderBy+fe.sqlite3_index_orderby.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_orderby(mt)};const me=function(tt,at){return function(mt,Be=!1){if(arguments.length===0&&(mt=new at),mt instanceof at)return this.set(mt.pointer,mt),mt;S.isPtr(mt)||y.SQLite3Error.toss("Invalid argument to",tt+"()");let qe=this.get(mt);return Be&&this.delete(mt),qe}.bind(new Map)},Qe=function(tt,at){const mt=me(tt,at);return Object.assign(Object.create(null),{StructType:at,create:Be=>{const qe=mt();return S.pokePtr(Be,qe.pointer),qe},get:Be=>mt(Be),unget:Be=>mt(Be,!0),dispose:Be=>{const qe=mt(Be,!0);qe&&qe.dispose()}})};$.xVtab=Qe("xVtab",N.sqlite3_vtab),$.xCursor=Qe("xCursor",N.sqlite3_vtab_cursor),$.xIndexInfo=tt=>new N.sqlite3_index_info(tt),$.xError=function tt(at,mt,Be){if(tt.errorReporter instanceof Function)try{tt.errorReporter("sqlite3_module::"+at+"(): "+mt.message)}catch{}let qe;return mt instanceof y.WasmAllocError?qe=N.SQLITE_NOMEM:arguments.length>2?qe=Be:mt instanceof y.SQLite3Error&&(qe=mt.resultCode),qe||N.SQLITE_ERROR},$.xError.errorReporter=console.error.bind(console),$.xRowid=(tt,at)=>S.poke(tt,at,"i64"),$.setupModule=function(tt){let at=!1;const mt=this instanceof N.sqlite3_module?this:tt.struct||(at=new N.sqlite3_module);try{const Be=tt.methods||C("Missing 'methods' object.");for(const qe of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const et=qe[0],ve=qe[1];Be[et]===!0?Be[et]=Be[ve]:Be[ve]===!0&&(Be[ve]=Be[et])}if(tt.catchExceptions){const qe=function(Ie,Te){return["xConnect","xCreate"].indexOf(Ie)>=0?function(Ze,Ge,Re,Ke,St,Y){try{return Te(...arguments)||0}catch(ce){return ce instanceof y.WasmAllocError||(S.dealloc(S.peekPtr(Y)),S.pokePtr(Y,S.allocCString(ce.message))),$.xError(Ie,ce)}}:function(...Ze){try{return Te(...Ze)||0}catch(Ge){return $.xError(Ie,Ge)}}},et=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],ve=Object.create(null);for(const Ie of et){const Te=Be[Ie];if(Te instanceof Function)Ie==="xConnect"&&Be.xCreate===Te?ve[Ie]=Be.xCreate:Ie==="xCreate"&&Be.xConnect===Te?ve[Ie]=Be.xConnect:ve[Ie]=qe(Ie,Te);else continue}mt.installMethods(ve,!1)}else mt.installMethods(Be,!!tt.applyArgcCheck);if(mt.$iVersion===0){let qe;typeof tt.iVersion=="number"?qe=tt.iVersion:mt.$xShadowName?qe=3:mt.$xSavePoint||mt.$xRelease||mt.$xRollbackTo?qe=2:qe=1,mt.$iVersion=qe}}catch(Be){throw at&&at.dispose(),Be}return mt},N.sqlite3_module.prototype.setupModule=function(tt){return $.setupModule.call(this,tt)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=function N(C){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!C||typeof C!="object")&&(C=Object.create(null));const $=new URL(globalThis.location.href).searchParams;return $.has("opfs-disable")?Promise.resolve(y):(C.verbose===void 0&&(C.verbose=$.has("opfs-verbose")?+$.get("opfs-verbose")||2:1),C.sanityChecks===void 0&&(C.sanityChecks=$.has("opfs-sanity-check")),C.proxyUri===void 0&&(C.proxyUri=N.defaultProxyUri),typeof C.proxyUri=="function"&&(C.proxyUri=C.proxyUri()),new Promise(function(me,Qe){const tt=[y.config.error,y.config.warn,y.config.log],at=(je,...nt)=>{C.verbose>je&&tt[je]("OPFS syncer:",...nt)},mt=(...je)=>at(2,...je),Be=(...je)=>at(1,...je),qe=(...je)=>at(0,...je),et=y.util.toss,ve=y.capi,Ie=y.util,Te=y.wasm,Ze=ve.sqlite3_vfs,Ge=ve.sqlite3_file,Re=ve.sqlite3_io_methods,Ke=Object.create(null),St=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Ke.metrics={dump:function(){let je,nt=0,dt=0,Nt=0;for(je in ie.opIds){const xt=Le[je];nt+=xt.count,dt+=xt.time,Nt+=xt.wait,xt.avgTime=xt.count&&xt.time?xt.time/xt.count:0,xt.avgWait=xt.count&&xt.wait?xt.wait/xt.count:0}y.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Le,`
Total of`,nt,"op(s) for",dt,"ms (incl. "+Nt+" ms of waiting on the async side)"),y.config.log("Serialization metrics:",Le.s11n),pe.postMessage({type:"opfs-async-metrics"})},reset:function(){let je;const nt=Nt=>Nt.count=Nt.time=Nt.wait=0;for(je in ie.opIds)nt(Le[je]=Object.create(null));let dt=Le.s11n=Object.create(null);dt=dt.serialize=Object.create(null),dt.count=dt.time=0,dt=Le.s11n.deserialize=Object.create(null),dt.count=dt.time=0}};const Y=new Re,ce=new Ze().addOnDispose(()=>Y.dispose());let Ee;const st=je=>(Ee=!0,ce.dispose(),Qe(je)),ae=()=>(Ee=!1,me(y)),pe=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{Ee===void 0&&st(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),pe._originalOnError=pe.onerror,pe.onerror=function(je){qe("Error initializing OPFS asyncer:",je),st(new Error("Loading OPFS async Worker failed for unknown reasons."))};const Q=ve.sqlite3_vfs_find(null),ne=Q?new Ze(Q):null;Y.$iVersion=1,ce.$iVersion=2,ce.$szOsFile=ve.sqlite3_file.structInfo.sizeof,ce.$mxPathname=1024,ce.$zName=Te.allocCString("opfs"),ce.$xDlOpen=ce.$xDlError=ce.$xDlSym=ce.$xDlClose=null,ce.addOnDispose("$zName",ce.$zName,"cleanup default VFS wrapper",()=>ne?ne.dispose():null);const ie=Object.create(null);ie.verbose=C.verbose,ie.littleEndian=(()=>{const je=new ArrayBuffer(2);return new DataView(je).setInt16(0,256,!0),new Int16Array(je)[0]===256})(),ie.asyncIdleWaitTime=150,ie.asyncS11nExceptions=1,ie.fileBufferSize=1024*64,ie.sabS11nOffset=ie.fileBufferSize,ie.sabS11nSize=ce.$mxPathname*2,ie.sabIO=new SharedArrayBuffer(ie.fileBufferSize+ie.sabS11nSize),ie.opIds=Object.create(null);const Le=Object.create(null);{let je=0;ie.opIds.whichOp=je++,ie.opIds.rc=je++,ie.opIds.xAccess=je++,ie.opIds.xClose=je++,ie.opIds.xDelete=je++,ie.opIds.xDeleteNoWait=je++,ie.opIds.xFileSize=je++,ie.opIds.xLock=je++,ie.opIds.xOpen=je++,ie.opIds.xRead=je++,ie.opIds.xSleep=je++,ie.opIds.xSync=je++,ie.opIds.xTruncate=je++,ie.opIds.xUnlock=je++,ie.opIds.xWrite=je++,ie.opIds.mkdir=je++,ie.opIds["opfs-async-metrics"]=je++,ie.opIds["opfs-async-shutdown"]=je++,ie.opIds.retry=je++,ie.sabOP=new SharedArrayBuffer(je*4),Ke.metrics.reset()}ie.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(je=>{(ie.sq3Codes[je]=ve[je])===void 0&&et("Maintenance required: not found:",je)}),ie.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const it=(je,...nt)=>{const dt=ie.opIds[je]||et("Invalid op ID:",je);ie.s11n.serialize(...nt),Atomics.store(ie.sabOPView,ie.opIds.rc,-1),Atomics.store(ie.sabOPView,ie.opIds.whichOp,dt),Atomics.notify(ie.sabOPView,ie.opIds.whichOp);const Nt=performance.now();for(;Atomics.wait(ie.sabOPView,ie.opIds.rc,-1)!=="not-equal";);const xt=Atomics.load(ie.sabOPView,ie.opIds.rc);if(Le[je].wait+=performance.now()-Nt,xt&&ie.asyncS11nExceptions){const Bt=ie.s11n.deserialize();Bt&&qe(je+"() async error:",...Bt)}return xt};Ke.debug={asyncShutdown:()=>{Be("Shutting down OPFS async listener. The OPFS VFS will no longer work."),it("opfs-async-shutdown")},asyncRestart:()=>{Be("Attempting to restart OPFS VFS async listener. Might work, might not."),pe.postMessage({type:"opfs-async-restart"})}};const Rt=()=>{if(ie.s11n)return ie.s11n;const je=new TextDecoder,nt=new TextEncoder("utf-8"),dt=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Nt=new DataView(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize);ie.s11n=Object.create(null);const xt=Object.create(null);xt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},xt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},xt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},xt.string={id:4};const Bt=Ot=>xt[typeof Ot]||et("Maintenance required: this value type cannot be serialized.",Ot),mn=Ot=>{switch(Ot){case xt.number.id:return xt.number;case xt.bigint.id:return xt.bigint;case xt.boolean.id:return xt.boolean;case xt.string.id:return xt.string;default:et("Invalid type ID:",Ot)}};return ie.s11n.deserialize=function(Ot=!1){++Le.s11n.deserialize.count;const _r=performance.now(),We=dt[0],bt=We?[]:null;if(We){const wt=[];let kt=1,yn,Hn,Bn;for(yn=0;yn<We;++yn,++kt)wt.push(mn(dt[kt]));for(yn=0;yn<We;++yn){const Vn=wt[yn];Vn.getter?(Bn=Nt[Vn.getter](kt,ie.littleEndian),kt+=Vn.size):(Hn=Nt.getInt32(kt,ie.littleEndian),kt+=4,Bn=je.decode(dt.slice(kt,kt+Hn)),kt+=Hn),bt.push(Bn)}}return Ot&&(dt[0]=0),Le.s11n.deserialize.time+=performance.now()-_r,bt},ie.s11n.serialize=function(...Ot){const _r=performance.now();if(++Le.s11n.serialize.count,Ot.length){const We=[];let bt=0,wt=1;for(dt[0]=Ot.length&255;bt<Ot.length;++bt,++wt)We.push(Bt(Ot[bt])),dt[wt]=We[bt].id;for(bt=0;bt<Ot.length;++bt){const kt=We[bt];if(kt.setter)Nt[kt.setter](wt,Ot[bt],ie.littleEndian),wt+=kt.size;else{const yn=nt.encode(Ot[bt]);Nt.setInt32(wt,yn.byteLength,ie.littleEndian),wt+=4,dt.set(yn,wt),wt+=yn.byteLength}}}else dt[0]=0;Le.s11n.serialize.time+=performance.now()-_r},ie.s11n},zt=function je(nt=16){je._chars||(je._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",je._n=je._chars.length);const dt=[];let Nt=0;for(;Nt<nt;++Nt){const xt=Math.random()*(je._n*64)%je._n|0;dt[Nt]=je._chars[xt]}return dt.join("")},Zt=Object.create(null),lt=Object.create(null);lt.op=void 0,lt.start=void 0;const _e=je=>{lt.start=performance.now(),lt.op=je,++Le[je].count},Pe=()=>Le[lt.op].time+=performance.now()-lt.start,ot={xCheckReservedLock:function(je,nt){return Te.poke(nt,0,"i32"),0},xClose:function(je){_e("xClose");let nt=0;const dt=Zt[je];return dt&&(delete Zt[je],nt=it("xClose",je),dt.sq3File&&dt.sq3File.dispose()),Pe(),nt},xDeviceCharacteristics:function(je){return ve.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(je,nt,dt){return ve.SQLITE_NOTFOUND},xFileSize:function(je,nt){_e("xFileSize");let dt=it("xFileSize",je);if(dt==0)try{const Nt=ie.s11n.deserialize()[0];Te.poke(nt,Nt,"i64")}catch(Nt){qe("Unexpected error reading xFileSize() result:",Nt),dt=ie.sq3Codes.SQLITE_IOERR}return Pe(),dt},xLock:function(je,nt){_e("xLock");const dt=Zt[je];let Nt=0;return dt.lockType?dt.lockType=nt:(Nt=it("xLock",je,nt),Nt===0&&(dt.lockType=nt)),Pe(),Nt},xRead:function(je,nt,dt,Nt){_e("xRead");const xt=Zt[je];let Bt;try{Bt=it("xRead",je,dt,Number(Nt)),(Bt===0||ve.SQLITE_IOERR_SHORT_READ===Bt)&&Te.heap8u().set(xt.sabView.subarray(0,dt),nt)}catch(mn){qe("xRead(",arguments,") failed:",mn,xt),Bt=ve.SQLITE_IOERR_READ}return Pe(),Bt},xSync:function(je,nt){_e("xSync"),++Le.xSync.count;const dt=it("xSync",je,nt);return Pe(),dt},xTruncate:function(je,nt){_e("xTruncate");const dt=it("xTruncate",je,Number(nt));return Pe(),dt},xUnlock:function(je,nt){_e("xUnlock");const dt=Zt[je];let Nt=0;return ve.SQLITE_LOCK_NONE===nt&&dt.lockType&&(Nt=it("xUnlock",je,nt)),Nt===0&&(dt.lockType=nt),Pe(),Nt},xWrite:function(je,nt,dt,Nt){_e("xWrite");const xt=Zt[je];let Bt;try{xt.sabView.set(Te.heap8u().subarray(nt,nt+dt)),Bt=it("xWrite",je,dt,Number(Nt))}catch(mn){qe("xWrite(",arguments,") failed:",mn,xt),Bt=ve.SQLITE_IOERR_WRITE}return Pe(),Bt}},pt={xAccess:function(je,nt,dt,Nt){_e("xAccess");const xt=it("xAccess",Te.cstrToJs(nt));return Te.poke(Nt,xt?0:1,"i32"),Pe(),0},xCurrentTime:function(je,nt){return Te.poke(nt,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(je,nt){return Te.poke(nt,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(je,nt,dt){_e("xDelete");const Nt=it("xDelete",Te.cstrToJs(nt),dt,!1);return Pe(),Nt},xFullPathname:function(je,nt,dt,Nt){return Te.cstrncpy(Nt,nt,dt)<dt?0:ve.SQLITE_CANTOPEN},xGetLastError:function(je,nt,dt){return Be("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(nt,dt,Nt,xt,Bt){_e("xOpen");let mn=0;dt===0?dt=zt():Te.isPtr(dt)&&(ve.sqlite3_uri_boolean(dt,"opfs-unlock-asap",0)&&(mn|=ie.opfsFlags.OPFS_UNLOCK_ASAP),ve.sqlite3_uri_boolean(dt,"delete-before-open",0)&&(mn|=ie.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),dt=Te.cstrToJs(dt));const Ot=Object.create(null);Ot.fid=Nt,Ot.filename=dt,Ot.sab=new SharedArrayBuffer(ie.fileBufferSize),Ot.flags=xt,Ot.readOnly=!(y.SQLITE_OPEN_CREATE&xt)&&!!(xt&ve.SQLITE_OPEN_READONLY);const _r=it("xOpen",Nt,dt,xt,mn);return _r||(Ot.readOnly&&Te.poke(Bt,ve.SQLITE_OPEN_READONLY,"i32"),Zt[Nt]=Ot,Ot.sabView=ie.sabFileBufView,Ot.sq3File=new Ge(Nt),Ot.sq3File.$pMethods=Y.pointer,Ot.lockType=ve.SQLITE_LOCK_NONE),Pe(),_r}};ne&&(ce.$xRandomness=ne.$xRandomness,ce.$xSleep=ne.$xSleep),ce.$xRandomness||(pt.xRandomness=function(je,nt,dt){const Nt=Te.heap8u();let xt=0;for(;xt<nt;++xt)Nt[dt+xt]=Math.random()*255e3&255;return xt}),ce.$xSleep||(pt.xSleep=function(je,nt){return Atomics.wait(ie.sabOPView,ie.opIds.xSleep,0,nt),0}),Ke.getResolvedPath=function(je,nt){const dt=new URL(je,"file://irrelevant").pathname;return nt?dt.split("/").filter(Nt=>!!Nt):dt},Ke.getDirForFilename=async function(nt,dt=!1){const Nt=Ke.getResolvedPath(nt,!0),xt=Nt.pop();let Bt=Ke.rootDirectory;for(const mn of Nt)mn&&(Bt=await Bt.getDirectoryHandle(mn,{create:!!dt}));return[Bt,xt]},Ke.mkdir=async function(je){try{return await Ke.getDirForFilename(je+"/filepart",!0),!0}catch{return!1}},Ke.entryExists=async function(je){try{const[nt,dt]=await Ke.getDirForFilename(je);return await nt.getFileHandle(dt),!0}catch{return!1}},Ke.randomFilename=zt,Ke.treeList=async function(){const je=async function dt(Nt,xt){xt.name=Nt.name,xt.dirs=[],xt.files=[];for await(const Bt of Nt.values())if(Bt.kind==="directory"){const mn=Object.create(null);xt.dirs.push(mn),await dt(Bt,mn)}else xt.files.push(Bt.name)},nt=Object.create(null);return await je(Ke.rootDirectory,nt),nt},Ke.rmfr=async function(){const je=Ke.rootDirectory,nt={recurse:!0};for await(const dt of je.values())je.removeEntry(dt.name,nt)},Ke.unlink=async function(je,nt=!1,dt=!1){try{const[Nt,xt]=await Ke.getDirForFilename(je,!1);return await Nt.removeEntry(xt,{recursive:nt}),!0}catch(Nt){if(dt)throw new Error("unlink(",arguments[0],") failed: "+Nt.message,{cause:Nt});return!1}},Ke.traverse=async function(je){const nt={recursive:!0,directory:Ke.rootDirectory};typeof je=="function"&&(je={callback:je}),je=Object.assign(nt,je||{}),async function Nt(xt,Bt){for await(const mn of xt.values()){if(je.callback(mn,xt,Bt)===!1)return!1;if(je.recursive&&mn.kind==="directory"&&await Nt(mn,Bt+1)===!1)break}}(je.directory,0)};const Pt=async function(je,nt){const[dt,Nt]=await Ke.getDirForFilename(je,!0);let Bt=await (await dt.getFileHandle(Nt,{create:!0})).createSyncAccessHandle(),mn=0,Ot,_r=!1;try{for(Bt.truncate(0);(Ot=await nt())!==void 0;)Ot instanceof ArrayBuffer&&(Ot=new Uint8Array(Ot)),mn===0&&Ot.byteLength>=15&&(Ie.affirmDbHeader(Ot),_r=!0),Bt.write(Ot,{at:mn}),mn+=Ot.byteLength;if((mn<512||mn%512!==0)&&et("Input size",mn,"is not correct for an SQLite database."),!_r){const We=new Uint8Array(20);Bt.read(We,{at:0}),Ie.affirmDbHeader(We)}return Bt.write(new Uint8Array([1,1]),{at:18}),mn}catch(We){throw await Bt.close(),Bt=void 0,await dt.removeEntry(Nt).catch(()=>{}),We}finally{Bt&&await Bt.close()}};if(Ke.importDb=async function(je,nt){if(nt instanceof Function)return Pt(je,nt);nt instanceof ArrayBuffer&&(nt=new Uint8Array(nt)),Ie.affirmIsDb(nt);const dt=nt.byteLength,[Nt,xt]=await Ke.getDirForFilename(je,!0);let Bt,mn=0;try{return Bt=await (await Nt.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),Bt.truncate(0),mn=Bt.write(nt,{at:0}),mn!=dt&&et("Expected to write "+dt+" bytes but wrote "+mn+"."),Bt.write(new Uint8Array([1,1]),{at:18}),mn}catch(Ot){throw Bt&&(await Bt.close(),Bt=void 0),await Nt.removeEntry(xt).catch(()=>{}),Ot}finally{Bt&&await Bt.close()}},y.oo1){const je=function(...nt){const dt=y.oo1.DB.dbCtorHelper.normalizeArgs(...nt);dt.vfs=ce.$zName,y.oo1.DB.dbCtorHelper.call(this,dt)};je.prototype=Object.create(y.oo1.DB.prototype),y.oo1.OpfsDb=je,je.importDb=Ke.importDb,y.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(ce.pointer,function(nt,dt){dt.capi.sqlite3_busy_timeout(nt,1e4)})}const Yt=function(){const je=Te.scopedAllocPush(),nt=new Ge;try{const dt=nt.pointer,Nt=ve.SQLITE_OPEN_CREATE|ve.SQLITE_OPEN_READWRITE|ve.SQLITE_OPEN_MAIN_DB,xt=Te.scopedAlloc(8),Bt="/sanity/check/file"+zt(8),mn=Te.scopedAllocCString(Bt);let Ot;if(ie.s11n.serialize("This is \xe4 string."),Ot=ie.s11n.deserialize(),mt("deserialize() says:",Ot),Ot[0]!=="This is \xe4 string."&&et("String d13n error."),pt.xAccess(ce.pointer,mn,0,xt),Ot=Te.peek(xt,"i32"),mt("xAccess(",Bt,") exists ?=",Ot),Ot=pt.xOpen(ce.pointer,mn,dt,Nt,xt),mt("open rc =",Ot,"state.sabOPView[xOpen] =",ie.sabOPView[ie.opIds.xOpen]),Ot!==0){qe("open failed with code",Ot);return}pt.xAccess(ce.pointer,mn,0,xt),Ot=Te.peek(xt,"i32"),Ot||et("xAccess() failed to detect file."),Ot=ot.xSync(nt.pointer,0),Ot&&et("sync failed w/ rc",Ot),Ot=ot.xTruncate(nt.pointer,1024),Ot&&et("truncate failed w/ rc",Ot),Te.poke(xt,0,"i64"),Ot=ot.xFileSize(nt.pointer,xt),Ot&&et("xFileSize failed w/ rc",Ot),mt("xFileSize says:",Te.peek(xt,"i64")),Ot=ot.xWrite(nt.pointer,mn,10,1),Ot&&et("xWrite() failed!");const _r=Te.scopedAlloc(16);Ot=ot.xRead(nt.pointer,_r,6,2),Te.poke(_r+6,0);let We=Te.cstrToJs(_r);mt("xRead() got:",We),We!=="sanity"&&et("Unexpected xRead() value."),pt.xSleep&&(mt("xSleep()ing before close()ing..."),pt.xSleep(ce.pointer,2e3),mt("waking up from xSleep()")),Ot=ot.xClose(dt),mt("xClose rc =",Ot,"sabOPView =",ie.sabOPView),mt("Deleting file:",Bt),pt.xDelete(ce.pointer,mn,4660),pt.xAccess(ce.pointer,mn,0,xt),Ot=Te.peek(xt,"i32"),Ot&&et("Expecting 0 from xAccess(",Bt,") after xDelete()."),Be("End of OPFS sanity checks.")}finally{nt.dispose(),Te.scopedAllocPop(je)}};pe.onmessage=function({data:je}){switch(je.type){case"opfs-unavailable":st(new Error(je.payload.join(" ")));break;case"opfs-async-loaded":pe.postMessage({type:"opfs-async-init",args:ie});break;case"opfs-async-inited":{if(Ee===!0)break;try{y.vfs.installVfs({io:{struct:Y,methods:ot},vfs:{struct:ce,methods:pt}}),ie.sabOPView=new Int32Array(ie.sabOP),ie.sabFileBufView=new Uint8Array(ie.sabIO,0,ie.fileBufferSize),ie.sabS11nView=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Rt(),C.sanityChecks&&(Be("Running sanity checks because of opfs-sanity-check URL arg..."),Yt()),St()?navigator.storage.getDirectory().then(nt=>{pe.onerror=pe._originalOnError,delete pe._originalOnError,y.opfs=Ke,Ke.rootDirectory=nt,mt("End of OPFS sqlite3_vfs setup.",ce),ae()}).catch(st):ae()}catch(nt){qe(nt),st(nt)}break}default:{const nt="Unexpected message from the OPFS async worker: "+JSON.stringify(je);qe(nt),st(new Error(nt));break}}}}))};S.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async N=>{try{let C=S.defaultProxyUri;return N.scriptInfo.sqlite3Dir&&(S.defaultProxyUri=N.scriptInfo.sqlite3Dir+C),S().catch($=>{N.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",$.message)})}catch(C){return N.config.error("installOpfsVfs() exception:",C),Promise.reject(C)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util.toss,N=y.util.toss3,C=Object.create(null),$=y.capi,fe=y.util,me=y.wasm,Qe=4096,tt=512,at=4,mt=8,Be=tt+at,qe=tt,et=Be,ve=Qe,Ie=$.SQLITE_OPEN_MAIN_DB|$.SQLITE_OPEN_MAIN_JOURNAL|$.SQLITE_OPEN_SUPER_JOURNAL|$.SQLITE_OPEN_WAL,Te=".opaque",Ze=()=>Math.random().toString(36).slice(2),Ge=new TextDecoder,Re=new TextEncoder,Ke=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),St=[y.config.error,y.config.warn,y.config.log];y.config.log;const Y=y.config.warn;y.config.error;const ce=new Map,Ee=lt=>ce.get(lt),st=(lt,_e)=>{_e?ce.set(lt,_e):ce.delete(lt)},ae=new Map,pe=lt=>ae.get(lt),Q=(lt,_e)=>{_e?ae.set(lt,_e):ae.delete(lt)},ne={xCheckReservedLock:function(lt,_e){const Pe=pe(lt);return Pe.log("xCheckReservedLock"),Pe.storeErr(),me.poke32(_e,1),0},xClose:function(lt){const _e=pe(lt);_e.storeErr();const Pe=_e.getOFileForS3File(lt);if(Pe)try{_e.log(`xClose ${Pe.path}`),_e.mapS3FileToOFile(lt,!1),Pe.sah.flush(),Pe.flags&$.SQLITE_OPEN_DELETEONCLOSE&&_e.deletePath(Pe.path)}catch(ot){return _e.storeErr(ot,$.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(lt){return $.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(lt,_e,Pe){return $.SQLITE_NOTFOUND},xFileSize:function(lt,_e){const Pe=pe(lt);Pe.log("xFileSize");const pt=Pe.getOFileForS3File(lt).sah.getSize()-ve;return me.poke64(_e,BigInt(pt)),0},xLock:function(lt,_e){const Pe=pe(lt);Pe.log(`xLock ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xRead:function(lt,_e,Pe,ot){const pt=pe(lt);pt.storeErr();const Pt=pt.getOFileForS3File(lt);pt.log(`xRead ${Pt.path} ${Pe} @ ${ot}`);try{const Yt=Pt.sah.read(me.heap8u().subarray(_e,_e+Pe),{at:ve+Number(ot)});return Yt<Pe?(me.heap8u().fill(0,_e+Yt,_e+Pe),$.SQLITE_IOERR_SHORT_READ):0}catch(Yt){return pt.storeErr(Yt,$.SQLITE_IOERR)}},xSectorSize:function(lt){return Qe},xSync:function(lt,_e){const Pe=pe(lt);Pe.log(`xSync ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.flush(),0}catch(pt){return Pe.storeErr(pt,$.SQLITE_IOERR)}},xTruncate:function(lt,_e){const Pe=pe(lt);Pe.log(`xTruncate ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.truncate(ve+Number(_e)),0}catch(pt){return Pe.storeErr(pt,$.SQLITE_IOERR)}},xUnlock:function(lt,_e){const Pe=pe(lt);Pe.log("xUnlock");const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xWrite:function(lt,_e,Pe,ot){const pt=pe(lt);pt.storeErr();const Pt=pt.getOFileForS3File(lt);pt.log(`xWrite ${Pt.path} ${Pe} ${ot}`);try{const Yt=Pt.sah.write(me.heap8u().subarray(_e,_e+Pe),{at:ve+Number(ot)});return Pe===Yt?0:S("Unknown write() failure.")}catch(Yt){return pt.storeErr(Yt,$.SQLITE_IOERR)}}},ie=new $.sqlite3_io_methods;ie.$iVersion=1,y.vfs.installVfs({io:{struct:ie,methods:ne}});const Le={xAccess:function(lt,_e,Pe,ot){const pt=Ee(lt);pt.storeErr();try{const Pt=pt.getPath(_e);me.poke32(ot,pt.hasFilename(Pt)?1:0)}catch{me.poke32(ot,0)}return 0},xCurrentTime:function(lt,_e){return me.poke(_e,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(lt,_e){return me.poke(_e,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(lt,_e,Pe){const ot=Ee(lt);ot.log(`xDelete ${me.cstrToJs(_e)}`),ot.storeErr();try{return ot.deletePath(ot.getPath(_e)),0}catch(pt){return ot.storeErr(pt),$.SQLITE_IOERR_DELETE}},xFullPathname:function(lt,_e,Pe,ot){return me.cstrncpy(ot,_e,Pe)<Pe?0:$.SQLITE_CANTOPEN},xGetLastError:function(lt,_e,Pe){const ot=Ee(lt),pt=ot.popErr();if(ot.log(`xGetLastError ${_e} e =`,pt),pt){const Pt=me.scopedAllocPush();try{const[Yt,je]=me.scopedAllocCString(pt.message,!0);me.cstrncpy(Pe,Yt,_e),je>_e&&me.poke8(Pe+_e-1,0)}catch{return $.SQLITE_NOMEM}finally{me.scopedAllocPop(Pt)}}return pt?pt.sqlite3Rc||$.SQLITE_IOERR:0},xOpen:function(_e,Pe,ot,pt,Pt){const Yt=Ee(_e);try{Yt.log(`xOpen ${me.cstrToJs(Pe)} ${pt}`);const je=Pe&&me.peek8(Pe)?Yt.getPath(Pe):Ze();let nt=Yt.getSAHForPath(je);!nt&&pt&$.SQLITE_OPEN_CREATE&&(Yt.getFileCount()<Yt.getCapacity()?(nt=Yt.nextAvailableSAH(),Yt.setAssociatedPath(nt,je,pt)):S("SAH pool is full. Cannot create file",je)),nt||S("file not found:",je);const dt={path:je,flags:pt,sah:nt};Yt.mapS3FileToOFile(ot,dt),dt.lockType=$.SQLITE_LOCK_NONE;const Nt=new $.sqlite3_file(ot);return Nt.$pMethods=ie.pointer,Nt.dispose(),me.poke32(Pt,pt),0}catch(je){return Yt.storeErr(je),$.SQLITE_CANTOPEN}}},it=function(lt){y.capi.sqlite3_vfs_find(lt)&&N("VFS name is already registered:",lt);const _e=new $.sqlite3_vfs,Pe=$.sqlite3_vfs_find(null),ot=Pe?new $.sqlite3_vfs(Pe):null;return _e.$iVersion=2,_e.$szOsFile=$.sqlite3_file.structInfo.sizeof,_e.$mxPathname=tt,_e.addOnDispose(_e.$zName=me.allocCString(lt),()=>st(_e.pointer,0)),ot&&(_e.$xRandomness=ot.$xRandomness,_e.$xSleep=ot.$xSleep,ot.dispose()),!_e.$xRandomness&&!Le.xRandomness&&(Le.xRandomness=function(pt,Pt,Yt){const je=me.heap8u();let nt=0;for(;nt<Pt;++nt)je[Yt+nt]=Math.random()*255e3&255;return nt}),!_e.$xSleep&&!Le.xSleep&&(Le.xSleep=(pt,Pt)=>0),y.vfs.installVfs({vfs:{struct:_e,methods:Le}}),_e};class Rt{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Be);#c;#l;#u;constructor(_e=Object.create(null)){this.#u=_e.verbosity??Ke.verbosity,this.vfsName=_e.name||Ke.name,this.#l=it(this.vfsName),st(this.#l.pointer,this),this.vfsDir=_e.directory||"."+this.vfsName,this.#c=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(_e.clearOnInit??Ke.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(_e.initialCapacity||Ke.initialCapacity)})}#d(_e,...Pe){this.#u>_e&&St[_e](this.vfsName+":",...Pe)}log(..._e){this.#d(2,..._e)}warn(..._e){this.#d(1,..._e)}error(..._e){this.#d(0,..._e)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const _e=[],Pe=this.#i.keys();for(const ot of Pe)_e.push(ot);return _e}async addCapacity(_e){for(let Pe=0;Pe<_e;++Pe){const ot=Ze(),Pt=await (await this.#t.getFileHandle(ot,{create:!0})).createSyncAccessHandle();this.#r.set(Pt,ot),this.setAssociatedPath(Pt,"",0)}return this.getCapacity()}async reduceCapacity(_e){let Pe=0;for(const ot of Array.from(this.#s)){if(Pe===_e||this.getFileCount()===this.getCapacity())break;const pt=this.#r.get(ot);ot.close(),await this.#t.removeEntry(pt),this.#r.delete(ot),this.#s.delete(ot),++Pe}return Pe}releaseAccessHandles(){for(const _e of this.#r.keys())_e.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(_e){const Pe=[];for await(const[ot,pt]of this.#t)pt.kind==="file"&&Pe.push([ot,pt]);return Promise.all(Pe.map(async([ot,pt])=>{try{const Pt=await pt.createSyncAccessHandle();if(this.#r.set(Pt,ot),_e)Pt.truncate(ve),this.setAssociatedPath(Pt,"",0);else{const Yt=this.getAssociatedPath(Pt);Yt?this.#i.set(Yt,Pt):this.#s.add(Pt)}}catch(Pt){throw this.storeErr(Pt),this.releaseAccessHandles(),Pt}}))}getAssociatedPath(_e){_e.read(this.#a,{at:0});const Pe=this.#c.getUint32(qe);if(this.#a[0]&&(Pe&$.SQLITE_OPEN_DELETEONCLOSE||!(Pe&Ie)))return Y(`Removing file with unexpected flags ${Pe.toString(16)}`,this.#a),this.setAssociatedPath(_e,"",0),"";const ot=new Uint32Array(mt/4);_e.read(ot,{at:et});const pt=this.computeDigest(this.#a);if(ot.every((Pt,Yt)=>Pt===pt[Yt])){const Pt=this.#a.findIndex(Yt=>Yt===0);return Pt===0&&_e.truncate(ve),Pt?Ge.decode(this.#a.subarray(0,Pt)):""}else return Y("Disassociating file with bad digest."),this.setAssociatedPath(_e,"",0),""}setAssociatedPath(_e,Pe,ot){const pt=Re.encodeInto(Pe,this.#a);tt<=pt.written+1&&S("Path too long:",Pe),this.#a.fill(0,pt.written,tt),this.#c.setUint32(qe,ot);const Pt=this.computeDigest(this.#a);_e.write(this.#a,{at:0}),_e.write(Pt,{at:et}),_e.flush(),Pe?(this.#i.set(Pe,_e),this.#s.delete(_e)):(_e.truncate(ve),this.#s.add(_e))}computeDigest(_e){let Pe=0xdeadbeef,ot=0x41c6ce57;for(const pt of _e)Pe=31*Pe+pt*307,ot=31*ot+pt*307;return new Uint32Array([Pe>>>0,ot>>>0])}async reset(_e){await this.isReady;let Pe=await navigator.storage.getDirectory(),ot;for(const pt of this.vfsDir.split("/"))pt&&(ot=Pe,Pe=await Pe.getDirectoryHandle(pt,{create:!0}));return this.#e=Pe,this.#n=ot,this.#t=await this.#e.getDirectoryHandle(Te,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(_e)}getPath(_e){return me.isPtr(_e)&&(_e=me.cstrToJs(_e)),(_e instanceof URL?_e:new URL(_e,"file://localhost/")).pathname}deletePath(_e){const Pe=this.#i.get(_e);return Pe&&(this.#i.delete(_e),this.setAssociatedPath(Pe,"",0)),!!Pe}storeErr(_e,Pe){return _e&&(_e.sqlite3Rc=Pe||$.SQLITE_IOERR,this.error(_e)),this.$error=_e,Pe}popErr(){const _e=this.$error;return this.$error=void 0,_e}nextAvailableSAH(){const[_e]=this.#s.keys();return _e}getOFileForS3File(_e){return this.#o.get(_e)}mapS3FileToOFile(_e,Pe){Pe?(this.#o.set(_e,Pe),Q(_e,this)):(this.#o.delete(_e),Q(_e,!1))}hasFilename(_e){return this.#i.has(_e)}getSAHForPath(_e){return this.#i.get(_e)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;$.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete C[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(Te,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(_e){y.config.error(this.vfsName,"removeVfs() failed:",_e)}return!0}exportFile(_e){const Pe=this.#i.get(_e)||S("File not found:",_e),ot=Pe.getSize()-ve,pt=new Uint8Array(ot>0?ot:0);if(ot>0){const Pt=Pe.read(pt,{at:ve});Pt!=ot&&S("Expected to read "+ot+" bytes but read "+Pt+".")}return pt}async importDbChunked(_e,Pe){const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to.");ot.truncate(0);let pt=0,Pt,Yt=!1;try{for(;(Pt=await Pe())!==void 0;)Pt instanceof ArrayBuffer&&(Pt=new Uint8Array(Pt)),pt===0&&Pt.byteLength>=15&&(fe.affirmDbHeader(Pt),Yt=!0),ot.write(Pt,{at:ve+pt}),pt+=Pt.byteLength;if((pt<512||pt%512!==0)&&S("Input size",pt,"is not correct for an SQLite database."),!Yt){const je=new Uint8Array(20);ot.read(je,{at:0}),fe.affirmDbHeader(je)}ot.write(new Uint8Array([1,1]),{at:ve+18})}catch(je){throw this.setAssociatedPath(ot,"",0),je}return this.setAssociatedPath(ot,_e,$.SQLITE_OPEN_MAIN_DB),pt}importDb(_e,Pe){if(Pe instanceof ArrayBuffer)Pe=new Uint8Array(Pe);else if(Pe instanceof Function)return this.importDbChunked(_e,Pe);const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to."),pt=Pe.byteLength;(pt<512||pt%512!=0)&&S("Byte array size is invalid for an SQLite db.");const Pt="SQLite format 3";for(let je=0;je<Pt.length;++je)Pt.charCodeAt(je)!==Pe[je]&&S("Input does not contain an SQLite database header.");const Yt=ot.write(Pe,{at:ve});return Yt!=pt?(this.setAssociatedPath(ot,"",0),S("Expected to write "+pt+" bytes but wrote "+Yt+".")):(ot.write(new Uint8Array([1,1]),{at:ve+18}),this.setAssociatedPath(ot,_e,$.SQLITE_OPEN_MAIN_DB)),Yt}}class zt{#e;constructor(_e){this.#e=_e,this.vfsName=_e.vfsName}async addCapacity(_e){return this.#e.addCapacity(_e)}async reduceCapacity(_e){return this.#e.reduceCapacity(_e)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(_e){const Pe=this.#e.getCapacity();return Pe<_e?this.#e.addCapacity(_e-Pe):Pe}exportFile(_e){return this.#e.exportFile(_e)}importDb(_e,Pe){return this.#e.importDb(_e,Pe)}async wipeFiles(){return this.#e.reset(!0)}unlink(_e){return this.#e.deletePath(_e)}async removeVfs(){return this.#e.removeVfs()}}const Zt=async()=>{const lt=await navigator.storage.getDirectory(),_e=".opfs-sahpool-sync-check-"+Ze(),pt=(await (await lt.getFileHandle(_e,{create:!0})).createSyncAccessHandle()).close();return await pt,await lt.removeEntry(_e),pt?.then&&S("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};y.installOpfsSAHPoolVfs=async function(lt=Object.create(null)){lt=Object.assign(Object.create(null),Ke,lt||{});const _e=lt.name;if(lt.$testThrowPhase1)throw lt.$testThrowPhase1;if(C[_e])try{return await C[_e]}catch(Pe){if(lt.forceReinitIfPreviouslyFailed)delete C[_e];else throw Pe}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?C[_e]=Promise.reject(new Error("Missing required OPFS APIs.")):C[_e]=Zt().then(async function(){if(lt.$testThrowPhase2)throw lt.$testThrowPhase2;const Pe=new Rt(lt);return Pe.isReady.then(async()=>{const ot=new zt(Pe);if(y.oo1){const pt=y.oo1,Pt=Pe.getVfs(),Yt=function(...je){const nt=pt.DB.dbCtorHelper.normalizeArgs(...je);nt.vfs=Pt.$zName,pt.DB.dbCtorHelper.call(this,nt)};Yt.prototype=Object.create(pt.DB.prototype),ot.OpfsSAHPoolDb=Yt}return Pe.log("VFS initialized."),ot}).catch(async ot=>{throw await Pe.removeVfs().catch(()=>{}),ot})}).catch(Pe=>C[_e]=Promise.reject(Pe))}}),typeof g<"u"){const y=Object.assign(Object.create(null),{exports:typeof he>"u"?g.asm:he,memory:g.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=y;let S;try{S=globalThis.sqlite3ApiBootstrap()}catch(N){throw console.error("sqlite3ApiBootstrap() error:",N),N}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}g.sqlite3=S}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=o,n}})();const X7=function(){const t=o1;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const s=i.sqlite3;s.scriptInfo=e,n.__isUnderTest&&(s.__isUnderTest=!0);const o=s.asyncPostInit;return delete s.asyncPostInit,o()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();o1=X7;const eK=o1;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const h=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=h}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,s=e.debug||r,o=e.generateMessageId?void 0:Object.create(null),l=e.generateMessageId||function(h){return h.type+"#"+(o[h.type]=(o[h.type]||0)+1)},u=(...h)=>{throw new Error(h.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let d,p;return e.worker.onmessage=function(h){h=h.data,s("worker1.onmessage",h);let b=n[h.messageId];if(!b){if(h&&h.type==="sqlite3-api"&&h.result==="worker1-ready"){e.onready&&e.onready(p);return}if(b=n[h.type],b&&b.onrow){b.onrow(h);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",h);return}switch(delete n[h.messageId],h.type){case"error":b.reject(h);return;case"open":d||(d=h.dbId);break;case"close":h.dbId===d&&(d=void 0);break}try{b.resolve(h)}catch(x){b.reject(x)}},p=function(){let h;arguments.length===1?h=arguments[0]:arguments.length===2?(h=Object.create(null),h.type=arguments[0],h.args=arguments[1],h.dbId=h.args.dbId):u("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!h.dbId&&h.type!=="open"&&(h.dbId=d),h.messageId=l(h),h.departureTime=performance.now();const b=Object.create(null);b.message=h;let x;h.type==="exec"&&h.args&&(typeof h.args.callback=="function"?(x=h.messageId+":row",b.onrow=h.args.callback,h.args.callback=x,n[x]=b):typeof h.args.callback=="string"&&u("exec callback may not be a string when using the Promise interface."));let _=new Promise(function(E,I){b.resolve=E,b.reject=I,n[h.messageId]=b,s("Posting",h.type,"message to Worker dbId="+(d||"default")+":",h),e.worker.postMessage(h)});return x&&(_=_.finally(()=>delete n[x])),_}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(s){n.reject(s)}}});const r=new Promise(function(i,s){n.resolve=i,n.reject=s});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function wO(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function u0(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function yD(t){const e=t.split(/[\\/]/).filter(s=>s!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(s=>`${n}-${s}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let s=await navigator.storage.getDirectory();for(let o of e)s=await s.getDirectoryHandle(o);return s}}}async function TE(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const s=[];let o=!1;for(;!o;){const p=await i.read();p.value&&s.push(p.value),o=p.done}const l=s.reduce((p,h)=>p+h.length,0),u=new Uint8Array(l);let d=0;return s.forEach(p=>{u.set(p,d),d+=p.length}),u}}else return n}class tK{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:wO()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:wO()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:s,verbose:o}=this.config,l=[s===!0?"r":"cw",o===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await eK()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,l),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,l),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=u=>{this.config.clientKey!==u.data.clientKey&&this.init(u.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(u){this.emitMessage({type:"error",error:u,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const s=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),s.type){case"config":this.editConfig(s);break;case"query":case"batch":case"transaction":this.exec(s);break;case"function":this.createUserFunction(s);break;case"getinfo":this.getDatabaseInfo(s);break;case"import":this.importDb(s);break;case"export":this.exportDb(s);break;case"delete":this.deleteDb(s);break;case"destroy":this.destroy(s);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const s=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{s||await this.transactionMutex.lock();const o=u0(this.db,r);i.data.push(o)}finally{s||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(o=>{for(let l of r.statements){const u=u0(o,l);i.data.push(u)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const o=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:o}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)u0(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,s=this.dbStorageType,o=s!==void 0?s!=="memory"?await navigator.storage?.persisted():!1:void 0,u=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],d=typeof u=="number"?u:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:d,storageType:s,persisted:o}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:s,queryKey:o}=r;let l;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:o});return}s==="callback"?l=(...u)=>{this.emitMessage({type:"callback",name:i,args:u})}:l=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:s,name:i,func:l}),this.emitMessage({type:"success",queryKey:o})}catch(u){this.emitMessage({type:"error",error:u,queryKey:o})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...s)=>r.func(...s),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:s}=r;let o=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const l=await TE(s,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,l)}else{const l=await TE(s,"buffer"),u=this.sqlite3.wasm.allocFromTypedArray(l);this.pointers.push(u);const d=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",u,l.byteLength,l.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(d),this.execInitStatements()}}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const s=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:s},[s])}catch(s){this.emitMessage({type:"error",error:s,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let s=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:o,fileName:l,tempFileNames:u}=yD(this.config.databasePath),d=await o(),p=[l,...u];this.destroy(),await Promise.all(p.map(async h=>d.removeEntry(h).catch(b=>{if(!(b instanceof DOMException&&b.name==="NotFoundError"))throw b})))}else this.destroy()}catch(o){this.emitMessage({type:"error",error:o,queryKey:i}),s=!0}finally{await this.init("delete")}s||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:s1(globalThis);this.proxy=n,this.init("initial")}}function Fb(t,...e){return{sql:t.join("?"),params:e}}function nK(t){return!t.some(e=>!Array.isArray(e))}function d0(t,e){let n;return nK(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((s,o)=>{i[s]=r[o]}),i})}function rK(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function iK(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function sK(t){if(typeof t=="function"&&(t=t(Fb)),rK(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!iK(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function f0(){return crypto.randomUUID()}function _O(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=Fb(t,...e),n}async function Hg(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class oK{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const l=o instanceof MessageEvent?o.data:o,u=this.queriesInProgress;switch(l.type){case"success":case"data":case"buffer":case"info":case"error":if(l.queryKey&&u.has(l.queryKey)){const[p,h]=u.get(l.queryKey);l.type==="error"?h(l.error):p(l),u.delete(l.queryKey)}else if(l.type==="error")throw l.error;break;case"callback":const d=this.userCallbacks.get(l.name);d&&d(...l.args??[]);break;case"event":this.config.onConnect?.(l.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Hg("shared",this.bypassMutationLock||o.type==="import"||o.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const l=f0();switch(o.type){case"import":this.processor.postMessage({...o,queryKey:l},[o.database]);break;default:this.processor.postMessage({...o,queryKey:l});break}return new Promise((u,d)=>{this.queriesInProgress.set(l,[u,d])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l,u="all",d)=>{const p=await this.createQuery({type:"query",transactionKey:d,sql:o,params:l,method:u}),h={rows:[],columns:[]};return p.type==="data"&&(h.rows=p.data[0]?.rows??[],h.columns=p.data[0]?.columns??[]),h}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=await this.createQuery({type:"batch",statements:o}),u=new Array(o.length).fill({rows:[],columns:[]});return l.type==="data"&&l.data.forEach((d,p)=>{u[p]=d}),u}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(o,...l)=>{const u=_O(o,l),{rows:d,columns:p}=await this.exec(u.sql,u.params,"all");return d0(d,p)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=o(Fb);return(await this.execBatch(l)).map(({rows:d,columns:p})=>d0(d,p))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=f0();await this.createQuery({type:"transaction",transactionKey:o,action:"begin"});const l=async h=>{const b=sK(h),{rows:x,columns:_}=await this.exec(b.sql,b.params,"all",o);return d0(x,_)};return{query:l,sql:async(h,...b)=>{const x=_O(h,b);return await l(x)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Hg("exclusive",!1,this.config,async()=>{let l;this.bypassMutationLock=!0;try{l=await this.beginTransaction();const u=await o({sql:l.sql,query:l.query});return await l.commit(),u}catch(u){throw await l?.rollback(),u}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await this.createQuery({type:"function",functionName:o,functionType:"callback"}),this.userCallbacks.set(o,l)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{const u=`_sqlocal_func_${o}`;this.proxy===globalThis&&(this.proxy[u]=l),await this.createQuery({type:"function",functionName:o,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[u]=l)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=await this.createQuery({type:"getinfo"});if(o.type==="info")return o.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let o,l;const{storageType:u}=await this.getDatabaseInfo();if(u==="opfs"){const d=yD(this.config.databasePath),{directories:p,getDirectoryHandle:h}=d;o=d.fileName;const b=`backup-${Date.now()}--${o}`,x=`${p.join("/")}/${b}`;await this.exec("VACUUM INTO ?",[x]);const _=await h();l=await (await (await _.getFileHandle(b)).getFile()).arrayBuffer(),await _.removeEntry(b)}else{const d=await this.createQuery({type:"export"});if(d.type==="buffer")o="database.sqlite3",l=d.buffer;else throw new Error("The database failed to export.")}return new File([l],o,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await Hg("exclusive",!1,this.config,async()=>{try{const u=await TE(o);await this.createQuery({type:"import",database:u}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{await Hg("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof o=="function"&&(this.bypassMutationLock=!0,await o()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...s}=n;this.config=n,this.clientKey=f0(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s.databasePath})`),typeof globalThis.Worker<"u"&&s.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=s1(this.processor)):(this.processor=new tK(!0),this.processor.onmessage=o=>this.processMessageEvent(o),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...s,clientKey:this.clientKey,onInitStatements:r?.(Fb)??[]}})}}class aK extends oK{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new aH,createDriver:()=>new lK(this),createIntrospector:e=>new oH(e),createQueryCompiler:()=>new rH}})}}class lK{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new cK(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class cK{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const uK=({database:t,bootstrap:e})=>{const{dialect:n}=new aK({databasePath:`${t}.sqlite3`,onInit(i){return[i`PRAGMA foreign_keys = ON;`]}}),r=new LN({dialect:n});return{kysely:r,async bootstrap(){return e({kysely:r})}}},$i=gn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),dK="icon-[material-symbols--error-outline]",fK=gn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Ii=({error:t,variant:e,tva:n=fK,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?f.jsxs("div",{className:i.base(),children:[f.jsx(nn,{icon:dK}),f.jsx("span",{children:so.rich(t.message)})]}):null},pK=gn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-emerald-600","font-bold"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),In=({label:t,hint:e,required:n=!1,formState:r,name:i,children:s,variant:o,tva:l=pK,css:u})=>{const d=l({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...o,css:u}).slots;return f.jsxs("div",{className:d.base(),children:[f.jsxs("div",{className:"flex flex-row justify-between",children:[t?f.jsx("label",{htmlFor:i,children:t}):null,f.jsx(Ii,{variant:{compact:!0},error:r.errors[i]})]}),e?f.jsx("div",{className:"text-sm italic",children:e}):null,f.jsx("div",{className:d.input(),children:s})]})},Fs=({form:t,mutation:e})=>{const n=t.handleSubmit(async r=>e.mutateAsync(r,{onError:i=>{BN({error:i,errors:[xN({error:i,schema:$N,onError:({data:s})=>{t.setError("root",{message:s.message})}})],onError:s=>{t.setError("root",{message:s.message})}})}}).catch(()=>{}));return r=>{r.stopPropagation(),n(r)}};function hK(t,e,n,r={leading:!1}){const[i,s]=K.useState(t),[o,l]=K.useState(t),u=K.useRef(null),d=K.useRef(!0),p=()=>window.clearTimeout(u.current||void 0);K.useEffect(()=>p,[]),K.useEffect(()=>{e(i)},[i]),K.useEffect(()=>{l(t),s(t)},[t]);const h=K.useCallback(b=>{l(b),p(),d.current&&r.leading?s(b):u.current=window.setTimeout(()=>{d.current=!0,s(b)},n),d.current=!1},[r.leading]);return[o,h]}const mK=gn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),bD=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=mK,css:s})=>{const o=i({...r,css:s}).slots,[l,u]=hK(t,d=>{e(d||"")},500);return f.jsxs("div",{className:o.base(),children:[f.jsx("div",{className:o.search(),children:f.jsx(nn,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),f.jsx("input",{value:l||"",className:o.input(),type:"text",placeholder:n||so.text("Fulltext (placeholder)"),onChange:d=>{u(d.target.value)}}),t&&f.jsx("div",{className:o.clear(),onClick:()=>{e("")},children:f.jsx(nn,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},cs="icon-[pajamas--go-back]",Db="icon-[line-md--confirm-circle]",vD="icon-[mage--edit]",gK="icon-[arcticons--nothing-x]",yK="icon-[tabler--filter-plus]",SO="icon-[tabler--filter-minus]",Mv="icon-[ph--list-dashes-thin]",bK="icon-[svg-spinners--3-dots-scale]",a1="icon-[material-symbols-light--logout-sharp]",vK="icon-[fluent--shape-intersect-20-regular]",$v="icon-[fluent--checkbox-unchecked-20-regular]",Bv="icon-[fluent--checkbox-checked-20-regular]",Oh="icon-[teenyicons--tag-outline]",ai="icon-[ph--trash]",xK="icon-[clarity--upload-cloud-line]",l1="icon-[ph--user]",wK=async({queryClient:t,keys:e})=>{for await(const n of e)await t.invalidateQueries({queryKey:n,refetchType:"all"})},Yn=t=>{const e=nv(),n=Fo();return async()=>{await wK({keys:t,queryClient:e}),await n.invalidate()}};var p0={exports:{}},h0,EO;function _K(){if(EO)return h0;EO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return h0=t,h0}var m0,NO;function SK(){if(NO)return m0;NO=1;var t=_K();function e(){}function n(){}return n.resetWarningCache=e,m0=function(){function r(o,l,u,d,p,h){if(h!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},m0}var kO;function EK(){return kO||(kO=1,p0.exports=SK()()),p0.exports}var NK=EK();const Xn=co(NK);function uu(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(p){try{d(r.next(p))}catch(h){o(h)}}function u(p){try{d(r.throw(p))}catch(h){o(h)}}function d(p){p.done?s(p.value):i(p.value).then(l,u)}d((r=r.apply(t,e||[])).next())})}const kK=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function zd(t,e,n){const r=IK(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&IO(r,"path",s),IO(r,"relativePath",s),r}function IK(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=kK.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function IO(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const CK=[".DS_Store","Thumbs.db"];function TK(t){return uu(this,void 0,void 0,function*(){return Lb(t)&&RK(t.dataTransfer)?AK(t.dataTransfer,t.type):OK(t)?qK(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?jK(t):[]})}function RK(t){return Lb(t)}function OK(t){return Lb(t)&&Lb(t.target)}function Lb(t){return typeof t=="object"&&t!==null}function qK(t){return RE(t.target.files).map(e=>zd(e))}function jK(t){return uu(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>zd(n))})}function AK(t,e){return uu(this,void 0,void 0,function*(){if(t.items){const n=RE(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(PK));return CO(xD(r))}return CO(RE(t.files).map(n=>zd(n)))})}function CO(t){return t.filter(e=>CK.indexOf(e.name)===-1)}function RE(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function PK(t){if(typeof t.webkitGetAsEntry!="function")return TO(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?wD(e):TO(t,e)}function xD(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?xD(n):[n]],[])}function TO(t,e){return uu(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,zd(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return zd(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function FK(t){return uu(this,void 0,void 0,function*(){return t.isDirectory?wD(t):DK(t)})}function wD(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>uu(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(FK));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function DK(t){return uu(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=zd(r,t.fullPath);e(i)},r=>{n(r)})})})}var Qg={},RO;function LK(){return RO||(RO=1,Qg.__esModule=!0,Qg.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),Qg}var MK=LK();const g0=co(MK);function OO(t){return zK(t)||BK(t)||SD(t)||$K()}function $K(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zK(t){if(Array.isArray(t))return OE(t)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){_D(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qh(t,e){return UK(t)||VK(t,e)||SD(t,e)||WK()}function WK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SD(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function UK(t){if(Array.isArray(t))return t}var HK=typeof g0=="function"?g0:g0.default,ED="file-invalid-type",ND="file-too-large",kD="file-too-small",ID="too-many-files",QK={FileInvalidType:ED,FileTooLarge:ND,FileTooSmall:kD,TooManyFiles:ID},KK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:ED,message:"File type must be ".concat(r)}},AO=function(e){return{code:ND,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},PO=function(e){return{code:kD,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},GK={code:ID,message:"Too many files"};function CD(t,e){var n=t.type==="application/x-moz-file"||HK(t,e);return[n,n?null:KK(e)]}function TD(t,e,n){if(Pc(t.size))if(Pc(e)&&Pc(n)){if(t.size>n)return[!1,AO(n)];if(t.size<e)return[!1,PO(e)]}else{if(Pc(e)&&t.size<e)return[!1,PO(e)];if(Pc(n)&&t.size>n)return[!1,AO(n)]}return[!0,null]}function Pc(t){return t!=null}function JK(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(u){var d=CD(u,n),p=qh(d,1),h=p[0],b=TD(u,r,i),x=qh(b,1),_=x[0],E=l?l(u):null;return h&&_&&!E})}function Mb(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Kg(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function FO(t){t.preventDefault()}function ZK(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function YK(t){return t.indexOf("Edge/")!==-1}function XK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ZK(t)||YK(t)}function Qo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!Mb(r)&&l&&l.apply(void 0,[r].concat(s)),Mb(r)})}}function eG(){return"showOpenFilePicker"in window}function tG(t){if(Pc(t)){var e=Object.entries(t).filter(function(n){var r=qh(n,2),i=r[0],s=r[1],o=!0;return RD(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(OD))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=qh(r,2),s=i[0],o=i[1];return jO(jO({},n),{},_D({},s,o))},{});return[{description:"Files",accept:e}]}return t}function nG(t){if(Pc(t))return Object.entries(t).reduce(function(e,n){var r=qh(n,2),i=r[0],s=r[1];return[].concat(OO(e),[i],OO(s))},[]).filter(function(e){return RD(e)||OD(e)}).join(",")}function rG(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function iG(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function RD(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function OD(t){return/^.*\.[\w]+$/.test(t)}var sG=["children"],oG=["open"],aG=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],lG=["refKey","onChange","onClick"];function cG(t){return fG(t)||dG(t)||qD(t)||uG()}function uG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fG(t){if(Array.isArray(t))return qE(t)}function y0(t,e){return mG(t)||hG(t,e)||qD(t,e)||pG()}function pG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qD(t,e){if(t){if(typeof t=="string")return qE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(t,e)}}function qE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function mG(t){if(Array.isArray(t))return t}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){jE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $b(t,e){if(t==null)return{};var n=gG(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zv=K.forwardRef(function(t,e){var n=t.children,r=$b(t,sG),i=AD(r),s=i.open,o=$b(i,oG);return K.useImperativeHandle(e,function(){return{open:s}},[s]),$n.createElement(K.Fragment,null,n(Nr(Nr({},o),{},{open:s})))});zv.displayName="Dropzone";var jD={disabled:!1,getFilesFromEvent:TK,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};zv.defaultProps=jD;zv.propTypes={children:Xn.func,accept:Xn.objectOf(Xn.arrayOf(Xn.string)),multiple:Xn.bool,preventDropOnDocument:Xn.bool,noClick:Xn.bool,noKeyboard:Xn.bool,noDrag:Xn.bool,noDragEventsBubbling:Xn.bool,minSize:Xn.number,maxSize:Xn.number,maxFiles:Xn.number,disabled:Xn.bool,getFilesFromEvent:Xn.func,onFileDialogCancel:Xn.func,onFileDialogOpen:Xn.func,useFsAccessApi:Xn.bool,autoFocus:Xn.bool,onDragEnter:Xn.func,onDragLeave:Xn.func,onDragOver:Xn.func,onDrop:Xn.func,onDropAccepted:Xn.func,onDropRejected:Xn.func,onError:Xn.func,validator:Xn.func};var AE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function AD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Nr(Nr({},jD),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,u=e.maxFiles,d=e.onDragEnter,p=e.onDragLeave,h=e.onDragOver,b=e.onDrop,x=e.onDropAccepted,_=e.onDropRejected,E=e.onFileDialogCancel,I=e.onFileDialogOpen,T=e.useFsAccessApi,R=e.autoFocus,O=e.preventDropOnDocument,A=e.noClick,D=e.noKeyboard,L=e.noDrag,W=e.noDragEventsBubbling,P=e.onError,q=e.validator,M=K.useMemo(function(){return nG(n)},[n]),F=K.useMemo(function(){return tG(n)},[n]),V=K.useMemo(function(){return typeof I=="function"?I:LO},[I]),U=K.useMemo(function(){return typeof E=="function"?E:LO},[E]),z=K.useRef(null),ee=K.useRef(null),Z=K.useReducer(yG,AE),le=y0(Z,2),se=le[0],te=le[1],oe=se.isFocused,X=se.isFileDialogActive,ue=K.useRef(typeof window<"u"&&window.isSecureContext&&T&&eG()),de=function(){!ue.current&&X&&setTimeout(function(){if(ee.current){var ut=ee.current.files;ut.length||(te({type:"closeDialog"}),U())}},300)};K.useEffect(function(){return window.addEventListener("focus",de,!1),function(){window.removeEventListener("focus",de,!1)}},[ee,X,U,ue]);var ye=K.useRef([]),we=function(ut){z.current&&z.current.contains(ut.target)||(ut.preventDefault(),ye.current=[])};K.useEffect(function(){return O&&(document.addEventListener("dragover",FO,!1),document.addEventListener("drop",we,!1)),function(){O&&(document.removeEventListener("dragover",FO),document.removeEventListener("drop",we))}},[z,O]),K.useEffect(function(){return!r&&R&&z.current&&z.current.focus(),function(){}},[z,R,r]);var Ne=K.useCallback(function(Me){P?P(Me):console.error(Me)},[P]),ze=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[].concat(cG(ye.current),[Me.target]),Kg(Me)&&Promise.resolve(i(Me)).then(function(ut){if(!(Mb(Me)&&!W)){var Kt=ut.length,Gt=Kt>0&&JK({files:ut,accept:M,minSize:o,maxSize:s,multiple:l,maxFiles:u,validator:q}),hn=Kt>0&&!Gt;te({isDragAccept:Gt,isDragReject:hn,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Me)}}).catch(function(ut){return Ne(ut)})},[i,d,Ne,W,M,o,s,l,u,q]),Oe=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ut=Kg(Me);if(ut&&Me.dataTransfer)try{Me.dataTransfer.dropEffect="copy"}catch{}return ut&&h&&h(Me),!1},[h,W]),De=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ut=ye.current.filter(function(Gt){return z.current&&z.current.contains(Gt)}),Kt=ut.indexOf(Me.target);Kt!==-1&&ut.splice(Kt,1),ye.current=ut,!(ut.length>0)&&(te({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Kg(Me)&&p&&p(Me))},[z,p,W]),Je=K.useCallback(function(Me,ut){var Kt=[],Gt=[];Me.forEach(function(hn){var or=CD(hn,M),Dn=y0(or,2),Ur=Dn[0],Ci=Dn[1],wr=TD(hn,o,s),Jt=y0(wr,2),Wi=Jt[0],Vi=Jt[1],Ui=q?q(hn):null;if(Ur&&Wi&&!Ui)Kt.push(hn);else{var fo=[Ci,Vi];Ui&&(fo=fo.concat(Ui)),Gt.push({file:hn,errors:fo.filter(function(da){return da})})}}),(!l&&Kt.length>1||l&&u>=1&&Kt.length>u)&&(Kt.forEach(function(hn){Gt.push({file:hn,errors:[GK]})}),Kt.splice(0)),te({acceptedFiles:Kt,fileRejections:Gt,isDragReject:Gt.length>0,type:"setFiles"}),b&&b(Kt,Gt,ut),Gt.length>0&&_&&_(Gt,ut),Kt.length>0&&x&&x(Kt,ut)},[te,l,M,o,s,u,b,x,_,q]),Xe=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[],Kg(Me)&&Promise.resolve(i(Me)).then(function(ut){Mb(Me)&&!W||Je(ut,Me)}).catch(function(ut){return Ne(ut)}),te({type:"reset"})},[i,Je,Ne,W]),Ve=K.useCallback(function(){if(ue.current){te({type:"openDialog"}),V();var Me={multiple:l,types:F};window.showOpenFilePicker(Me).then(function(ut){return i(ut)}).then(function(ut){Je(ut,null),te({type:"closeDialog"})}).catch(function(ut){rG(ut)?(U(ut),te({type:"closeDialog"})):iG(ut)?(ue.current=!1,ee.current?(ee.current.value=null,ee.current.click()):Ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ne(ut)});return}ee.current&&(te({type:"openDialog"}),V(),ee.current.value=null,ee.current.click())},[te,V,U,T,Je,Ne,F,l]),ct=K.useCallback(function(Me){!z.current||!z.current.isEqualNode(Me.target)||(Me.key===" "||Me.key==="Enter"||Me.keyCode===32||Me.keyCode===13)&&(Me.preventDefault(),Ve())},[z,Ve]),_t=K.useCallback(function(){te({type:"focus"})},[]),Tt=K.useCallback(function(){te({type:"blur"})},[]),Ut=K.useCallback(function(){A||(XK()?setTimeout(Ve,0):Ve())},[A,Ve]),tn=function(ut){return r?null:ut},xe=function(ut){return D?null:tn(ut)},be=function(ut){return L?null:tn(ut)},ke=function(ut){W&&ut.stopPropagation()},Ae=K.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=Me.refKey,Kt=ut===void 0?"ref":ut,Gt=Me.role,hn=Me.onKeyDown,or=Me.onFocus,Dn=Me.onBlur,Ur=Me.onClick,Ci=Me.onDragEnter,wr=Me.onDragOver,Jt=Me.onDragLeave,Wi=Me.onDrop,Vi=$b(Me,aG);return Nr(Nr(jE({onKeyDown:xe(Qo(hn,ct)),onFocus:xe(Qo(or,_t)),onBlur:xe(Qo(Dn,Tt)),onClick:tn(Qo(Ur,Ut)),onDragEnter:be(Qo(Ci,ze)),onDragOver:be(Qo(wr,Oe)),onDragLeave:be(Qo(Jt,De)),onDrop:be(Qo(Wi,Xe)),role:typeof Gt=="string"&&Gt!==""?Gt:"presentation"},Kt,z),!r&&!D?{tabIndex:0}:{}),Vi)}},[z,ct,_t,Tt,Ut,ze,Oe,De,Xe,D,L,r]),Ue=K.useCallback(function(Me){Me.stopPropagation()},[]),rt=K.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=Me.refKey,Kt=ut===void 0?"ref":ut,Gt=Me.onChange,hn=Me.onClick,or=$b(Me,lG),Dn=jE({accept:M,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:tn(Qo(Gt,Xe)),onClick:tn(Qo(hn,Ue)),tabIndex:-1},Kt,ee);return Nr(Nr({},Dn),or)}},[ee,n,l,Xe,r]);return Nr(Nr({},se),{},{isFocused:oe&&!r,getRootProps:Ae,getInputProps:rt,rootRef:z,inputRef:ee,open:tn(Ve)})}function yG(t,e){switch(e.type){case"focus":return Nr(Nr({},t),{},{isFocused:!0});case"blur":return Nr(Nr({},t),{},{isFocused:!1});case"openDialog":return Nr(Nr({},AE),{},{isFileDialogActive:!0});case"closeDialog":return Nr(Nr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Nr(Nr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Nr(Nr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Nr({},AE);default:return t}}function LO(){}const bG=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:QK,default:zv,useDropzone:AD},Symbol.toStringTag,{value:"Module"})),vG=gn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:xG}=bG,wG=({id:t,accept:e,text:n,variant:r,tva:i=vG,css:s,...o})=>{const{getRootProps:l,getInputProps:u,isDragActive:d,isDragReject:p}=xG({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...o}),h=i({active:d,rejected:p,...r,css:s}).slots;return f.jsx("div",{...l(),className:h.base(),children:f.jsxs("label",{htmlFor:t,className:h.label(),children:[f.jsxs("div",{className:h.zone(),children:[f.jsx(nn,{icon:xK,variant:{size:"4xl"}}),f.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||so.rich("Drag 'n' drop a file here")}),n?.message?f.jsx("p",{className:"text-xs",children:n.message}):null]}),f.jsx("input",{id:t,type:"file",className:"hidden",...u()})]})})},_G=gn({slot:{base:["min-h-screen","flex","flex-col"],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["flex-grow","h-full","border-b","border-b-slate-200","p-2"]},variant:{},defaults:{}}),PD=({logo:t,menu:e,actions:n,variant:r,tva:i=_G,css:s,children:o})=>{const l=i({...r,css:s}).slots;return f.jsxs("div",{className:l.base(),children:[f.jsx(xz,{position:"top-right"}),f.jsxs("div",{className:l.header(),children:[f.jsx("div",{children:t}),f.jsx("div",{className:"flex-grow",children:e}),f.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),f.jsx("div",{className:l.content(),children:o??f.jsx(uo,{})})]})},SG=gn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),EG=K.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=SG,css:i,children:s,...o},l)=>{const u=r({...n,css:i}).slots;return f.jsxs("a",{...o,ref:l,className:u.base(),children:[t&&f.jsx(nn,{icon:t,...e}),s]})}),NG=M3(EG),Mt=t=>f.jsx(NG,{preload:"intent",...t}),kG=gn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),IG=({show:t=!0,variant:e,tva:n=kG,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?f.jsx("div",{className:i.base(),children:f.jsx(nn,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var Ry={exports:{}},CG=Ry.exports,MO;function TG(){return MO||(MO=1,function(t,e){(function(n,r){t.exports=r()})(CG,()=>(()=>{var n={d:(_,E)=>{for(var I in E)n.o(E,I)&&!n.o(_,I)&&Object.defineProperty(_,I,{enumerable:!0,get:E[I]})},o:(_,E)=>Object.prototype.hasOwnProperty.call(_,E)},r={};n.d(r,{default:()=>x});const i=(..._)=>{},s=_=>_!==null&&_?.constructor.name==="Object";let o,l;const u=()=>{if(!o){o=!0;try{l=h.storage||localStorage,l.getItem("")}catch{l=(()=>{const _={getItem:I=>E[I]||null,setItem:(I,T)=>{E[I]=T},removeItem:I=>{E[I]=void 0},clear:()=>{E={__proto__:_}}};let E={__proto__:_};return E})()}b()}},d="\0",p=(_,E,I=!0)=>I?[...JSON.stringify(_)].map(T=>String.fromCharCode(T.charCodeAt(0)+E)).join(""):JSON.parse([..._].map(T=>String.fromCharCode(T.charCodeAt(0)-E)).join("")),h={ttl:null,encrypt:!1,encrypter:p,decrypter:(_,E)=>p(_,E,!1),secret:75,storage:void 0};Object.seal(h);const b=(_=!1)=>{u();for(const E of Object.keys(l)){const I=l.getItem(E);let T;try{T=JSON.parse(I||"")}catch{continue}s(T)&&d in T&&(Date.now()>T.ttl||_)&&l.removeItem(E)}},x={config:h,set:(_,E,I={})=>{u();const T={...h,...I,encrypt:I.encrypt!==!1&&(I.encrypt||h.encrypt),ttl:I.ttl===null?null:I.ttl||h.ttl};try{const R=T.ttl&&!isNaN(T.ttl)&&T.ttl>0;let O=R?{[d]:E,ttl:Date.now()+1e3*T.ttl}:E;T.encrypt&&(R?O[d]=(T.encrypter||i)(O[d],T.secret):O=(T.encrypter||i)(O,T.secret)),l.setItem(_,JSON.stringify(O))}catch{return!1}},get:(_,E={})=>{u();const I=l.getItem(_),T={...h,...E,encrypt:E.encrypt!==!1&&(E.encrypt||h.encrypt),ttl:E.ttl===null?null:E.ttl||h.ttl};let R,O;try{R=JSON.parse(I||""),O=s(R)&&d in R,(T.decrypt||T.encrypt)&&(O?R[d]=(T.decrypter||i)(R[d],T.secret):R=(T.decrypter||i)(R,T.secret))}catch{}return O?Date.now()>R.ttl?(l.removeItem(_),null):R[d]:R!==void 0?R:I},flush:b,clear:()=>{u(),l.clear()},remove:_=>{u(),l.removeItem(_)}};return r.default})())}(Ry)),Ry.exports}var RG=TG();const OG=co(RG),pf=OG,qG=gn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),ec=({variant:t,tva:e=qG,css:n,children:r})=>{const i=e({...t,css:n}).slots;return f.jsx("div",{className:i.base(),children:r})},FD=gn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),jG=K.forwardRef(({icon:t=null,variant:e,tva:n=FD,css:r,children:i,...s},o)=>{const l=n({...e,css:r}).slots;return f.jsxs("a",{...s,className:l.base(),ref:o,children:[xv(t)?f.jsx(nn,{icon:t}):t,i]})}),AG=M3(jG),Zn=({match:t=[],variant:e,tva:n=FD,css:r,...i})=>{const s=_4(),o=t.some(l=>!!s(l));return f.jsx(AG,{preload:"intent",variant:{active:!!s({to:i.to,params:i.params})||o,...e},tva:n,css:r,...i})},PG=gn({slot:{base:["flex","flex-row","flex-wrap","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),Wd=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:s,tva:o=PG,css:l})=>{const u=i?n.slice(0,i):n,d=o({...s,css:l}).slots;return f.jsxs("div",{className:d.base(),children:[n.length?null:e,u.map(p=>f.jsx(r,{entity:p},`items-${p.id}`)),i&&n.length>i&&f.jsx(ff,{textTitle:t,target:f.jsx(hm,{iconEnabled:lD}),outside:!0,children:f.jsx("div",{className:"flex flex-col gap-2",children:n.map(p=>f.jsx(r,{entity:p},`items-${p.id}`))})})]})},FG=gn({slot:{base:[]},variant:{},defaults:{}}),re=({label:t,fallback:e,variant:n,tva:r=FG,css:i})=>{const s=r({...n,css:i}).slots;return f.jsx("div",{className:s.base(),children:so.rich(t,e)})},DD=gn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),DG=gn({use:DD,slot:{},variant:{},defaults:{}}),LG=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:u,value:d,onChange:p,variant:h,tva:b=DG,css:x})=>{const _=b({...h,css:x}).slots,[E,I]=K.useState(0),[T,R]=K.useState(15),[O,A]=K.useState(d||[]),[D,L]=K.useState(void 0),W=Yy({queryKey:[l,"PopupMultiSelect","data",{fulltext:D,page:E,size:T}],async queryFn(){return u({filter:{fulltext:D},cursor:{page:E,size:T}})}}),P=Yy({queryKey:[l,"PopupMultiSelect","selected",{value:d}],async queryFn(){return u({filter:{idIn:d}})},enabled:!!d});return f.jsx(ff,{icon:t,target:f.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data.length}),children:[f.jsx(nn,{icon:P.data?.data?.length?Bv:$v}),P.data&&P.data.data.length?f.jsx(s,{entities:P.data.data}):n||f.jsx(re,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:W.isLoading},disabled:W.isLoading,...r,children:f.jsxs("div",{className:_.base(),children:[f.jsx("div",{className:_.content(),children:f.jsx(i,{cursor:{cursor:{page:E,size:T},count:W.data?.count?W.data.count:{filter:-1,total:-1,where:-1},textTotal:f.jsx(re,{label:"Total count of items (label)"}),onPage(q){I(q)},onSize(q){R(q),I(0)}},fulltext:{value:D,set(q){L(q),I(0)}},table:{data:W.data?.data??[],selection:{type:"multi",value:O,set(q){A(q)}}}})}),f.jsx(Dv.Consumer,{children:q=>f.jsxs("div",{className:_.footer(),children:[f.jsx(qn,{iconEnabled:cs,iconDisabled:cs,onClick:()=>{q?.close()},variant:{variant:"subtle"},children:f.jsx(re,{label:"Close (label)"})}),f.jsx(qn,{iconEnabled:Db,iconDisabled:Db,disabled:!O.length&&!o,onClick:()=>{p(O),q?.close()},children:f.jsx(re,{label:"Confirm selection (label)"})})]})})]})})},LD=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:u,value:d,onChange:p,variant:h,tva:b=DD,css:x})=>{const _=b({...h,css:x}).slots,[E,I]=K.useState(0),[T,R]=K.useState(15),[O,A]=K.useState(d?[d]:[]),[D,L]=K.useState(void 0),W=Yy({queryKey:[l,"PopupSelect","data",{fulltext:D,page:E,size:T}],async queryFn(){return u({filter:{fulltext:D},cursor:{page:E,size:T}})}}),P=Yy({queryKey:[l,"PopupSelect","selected",{value:d}],async queryFn(){return u({filter:{id:d||void 0}})},enabled:!!d});return f.jsx(ff,{icon:t,target:f.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data?.length}),children:[f.jsx(nn,{icon:P.data?.data?.[0]?Bv:$v}),P.data?.data?.[0]?f.jsx(s,{entity:P.data?.data?.[0]}):n||f.jsx(re,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:W.isLoading},disabled:W.isLoading,...r,children:f.jsxs("div",{className:_.base(),children:[f.jsx("div",{className:_.content(),children:f.jsx(i,{cursor:{cursor:{page:E,size:T},count:W.data?.count?W.data.count:{filter:-1,total:-1,where:-1},textTotal:f.jsx(re,{label:"Total count of items (label)"}),onPage(q){I(q)},onSize(q){R(q),I(0)}},fulltext:{value:D,set(q){L(q),I(0)}},table:{data:W.data?.data??[],selection:{type:"single",value:O,set(q){A(q)}}}})}),f.jsx(Dv.Consumer,{children:q=>f.jsxs("div",{className:_.footer(),children:[f.jsx(qn,{iconEnabled:cs,iconDisabled:cs,onClick:()=>{q?.close()},variant:{variant:"subtle"},children:f.jsx(re,{label:"Close (label)"})}),f.jsx(qn,{iconEnabled:Db,iconDisabled:Db,disabled:!O.length&&!o,onClick:()=>{p(O?.[0]),q?.close()},children:f.jsx(re,{label:"Confirm selection (label)"})})]})})]})})},MG=gn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),hf=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:s,tva:o=MG,css:l})=>{const u=o({...s,css:l}).slots;return f.jsx(i1.Provider,{value:{inline:!0},children:f.jsx("div",{className:u.base(),children:f.jsxs("div",{className:u.container(),children:[f.jsx("div",{className:u.title(),children:f.jsx(e,{entity:t})}),f.jsx("div",{className:u.links(),children:f.jsx(n,{entity:t})}),f.jsx("div",{className:u.actions(),children:f.jsx(r,{entity:t})}),f.jsx("div",{className:u.extra(),children:f.jsx(i,{entity:t})})]})})})},$G=gn({slot:{base:["w-full","bg-slate-200","rounded","transition-all"],progress:["h-full","bg-blue-400","rounded","leading-none","transition-all"]},variant:{size:{xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-4"}},defaults:{size:"md"}}),mf=({value:t,variant:e,tva:n=$G,css:r})=>{const i=n({...e,css:r}).slots;return f.jsx("div",{className:i.base(),children:f.jsx("div",{style:{width:`${t}%`},className:i.progress()})})},BG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},zG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},Lr=t=>({onPage:BG(t),onSize:zG(t)}),Mr=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),$r=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},Ds=t=>e=>{t({search(n){return{...n,selection:e}}})},Xr=t=>({loading:f.jsx(re,{label:`${t} - Loading (label)`}),success:f.jsx(re,{label:`${t} - Success (label)`}),error:f.jsx(re,{label:`${t} - Error (label)`})}),WG=gn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),Ls=({textContent:t,textToast:e,callback:n,onCancel:r,invalidator:i,variant:s,tva:o=WG,css:l})=>{const u=o({...s,css:l}).slots,d=K.useContext(Dv),p=ln({async mutationFn(){return wz.promise(n(),Xr(e))},async onSuccess(){await i?.(),d?.close()}});return f.jsxs("div",{className:u.base(),children:[f.jsx("div",{className:u.content(),children:t}),f.jsxs("div",{className:u.footer(),children:[f.jsx(qn,{variant:{variant:"subtle",size:"sm"},iconEnabled:cs,onClick:()=>{d?.close(),r?.()},children:f.jsx(re,{label:"Cancel (button)"})}),f.jsx(qn,{variant:{variant:"danger",size:"md"},iconEnabled:ai,onClick:()=>{p.mutate()},children:f.jsx(re,{label:"Delete (button)"})})]})]})},VG=async({select:t,query:e=()=>t,filter:n,where:r})=>({total:(await t.clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,filter:(await e({select:e({select:t,where:r}),where:n}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,where:(await e({select:t,where:r}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count}),ca=async({select:t,query:e=()=>t,output:n,filter:r,where:i})=>n.parse(await e({select:e({select:t,where:i}),where:r}).executeTakeFirstOrThrow()),Zr=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>{const o=l=>{let u=l;return s&&(u=l.limit(s.size).offset(s.page*s.size)),u};return B.array(n).parse(await o(e({select:e({select:t,where:i}),where:r})).execute())},br=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>({data:await Zr({select:t,output:n,where:i,filter:r,query:e,cursor:s}),count:await VG({select:t,where:i,filter:r,query:e})}),vr=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:s=>"schema"in t?t.schema.parse(s):t.parse(s)}},Gg=(t,e)=>B.custom().pipe(t.catch(e)),Br=({filter:t},{size:e=30}={size:30})=>B.object({filter:Gg(t.optional(),void 0),cursor:Gg(g9,{page:0,size:e}).default({page:0,size:e}),sort:Gg(B.any().optional(),[]).default([]),selection:Gg(B.array(B.string()),[]).default([])}),UG=gn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),MD=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:s=UG,css:o,children:l})=>{const u=s({...i,css:o}).slots;return f.jsxs("div",{className:u.base(),children:[n?f.jsx(nn,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,f.jsx("div",{className:u.title(),children:t}),f.jsx("div",{className:u.message(),children:e}),f.jsx("div",{className:u.body(),children:l})]})},c1=gn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),HG=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:s=c1,css:o})=>{const l=e.def.render,u=s({...i,css:o}).slots;return f.jsx("td",{className:u.td(),children:f.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[f.jsx(l,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?f.jsx(nn,{icon:yK,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},QG=({table:t,row:e,action:n,variant:r,tva:i=c1,css:s})=>{const o=i({...r,css:s}).slots,l=n?.table,u=n?.row;return f.jsxs("tr",{className:o.tr({selected:t.selection.isSelected(e)}),children:[l||u||t.selection.enabled?f.jsx("td",{className:"w-0",children:f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?f.jsx(nn,{icon:t.selection.isSelected(e)?Bv:$v,css:{base:o.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,u?f.jsx(u,{table:t,data:e.data}):null]})}):null,e.cells.map(d=>f.jsx(HG,{table:t,cell:d,variant:r,tva:i,css:s},`${e.id}-${d.column.id}`)),f.jsx("td",{})]})},zr=({table:t,fulltext:e,cursor:n,empty:r=()=>f.jsx(MD,{icon:gK,textTitle:f.jsx(re,{label:"Nothing here"}),textMessage:f.jsx(re,{label:"There is nothing to see right now."})}),action:i,variant:s,tva:o=c1,css:l})=>{const u=o({...s,css:l}).slots,d=i?.table,p=i?.row;return f.jsxs("div",{className:u.base(),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?f.jsx(bD,{value:e.value,onFulltext:e.set}):null}),f.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[f.jsx(yO,{...n}),t.filter.is()&&f.jsx(hm,{iconEnabled:SO,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),f.jsx("div",{className:"relative overflow-x-auto",children:f.jsxs("table",{className:u.table(),children:[f.jsx("thead",{className:u.thead(),children:f.jsxs("tr",{children:[d||p||t.selection.enabled?f.jsx("th",{className:"w-0",children:f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?f.jsx(nn,{icon:t.selection.isAll()?Bv:t.selection.isAny()?vK:$v,variant:{disabled:t.selection.isSingle},css:{base:u.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,d?f.jsx(d,{table:t}):null]})}):null,t.visible.map(h=>{const b=h.def.header||(()=>null);return f.jsx("th",{className:u.th(),style:h.def.size?{width:`${h.def.size}rem`}:void 0,children:f.jsxs("div",{className:"flex flex-row items-center justify-between",children:[f.jsx(b,{table:t}),f.jsx("div",{className:"flex flex-row items-center gap-2",children:h.filter?.is()&&f.jsx(nn,{icon:SO,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{h.filter?.reset()}})})]})},h.id)}),f.jsx("th",{})]})}),t.isEmpty?null:f.jsx("tbody",{className:u.tbody(),children:t.rows?.map(h=>f.jsx(QG,{row:h,table:t,action:i,variant:s,tva:o,css:l},h.id))})]})}),t.isEmpty?f.jsx(r,{}):null,f.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[f.jsx("div",{}),f.jsx(yO,{...n})]})]})},di=[];for(let t=0;t<256;++t)di.push((t+256).toString(16).slice(1));function KG(t,e=0){return(di[t[e+0]]+di[t[e+1]]+di[t[e+2]]+di[t[e+3]]+"-"+di[t[e+4]]+di[t[e+5]]+"-"+di[t[e+6]]+di[t[e+7]]+"-"+di[t[e+8]]+di[t[e+9]]+"-"+di[t[e+10]]+di[t[e+11]]+di[t[e+12]]+di[t[e+13]]+di[t[e+14]]+di[t[e+15]]).toLowerCase()}let b0;const GG=new Uint8Array(16);function JG(){if(!b0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b0=crypto.getRandomValues.bind(crypto)}return b0(GG)}const ZG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$O={randomUUID:ZG};function BO(t,e,n){if($O.randomUUID&&!t)return $O.randomUUID();t=t||{};const r=t.random??t.rng?.()??JG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,KG(r)}const Wr=({columns:t,order:e=t.map(u=>u.name),hidden:n=[],visible:r=t.map(u=>u.name),data:i,filter:s,selection:o,context:l})=>{const u={...s?.value||{}},d=zR(u),p=new Set(o?.value),h=t.map(x=>({id:BO(),def:x,filter:x.filter?{is(){return x.filter?d.get(x.filter.path)!==void 0:!1},reset(){x.filter&&d.set(x.filter.path,void 0),s?.set({...u})},shallow(_,E){x.filter&&d.set(_,E),s?.set({...u})},set(_){s?.set({..._})}}:void 0})),b=h.filter(x=>r.includes(x.def.name)&&!n.includes(x.def.name)).sort((x,_)=>{const E=e.indexOf(x.def.name),I=e.indexOf(_.def.name);return(E===-1?1/0:E)-(I===-1?1/0:I)});return{columns:h,visible:b,rows:i?.map(x=>({id:BO(),data:x,cells:b.map(_=>({column:_,data:x,value:zR(x).get(_.def.name)}))})),isEmpty:i.length===0,filter:{is(){return h.some(x=>x.filter?.is())},reset(){s?.set({})},set(x){s?.set({...x})},shallow(x,_){d.set(x,_)}},selection:{enabled:!!o&&i.length>0,selection:Array.from(p),isSingle:o?.type==="single",isMulti:o?.type==="multi",isSelected({data:x}){return p.has(x.id)||!1},isAll(){return i.every(x=>p.has(x.id))},isAny(){return i.some(x=>p.has(x.id))},withRowHandler({data:x}){return()=>{if(o?.type==="single"){const _=p.has(x.id);p.clear(),_?p.delete(x.id):p.add(x.id)}else p.has(x.id)?p.delete(x.id):p.add(x.id);o?.set(Array.from(p))}},withAllHandler(){return()=>{i.every(x=>p.has(x.id))?p.clear():i.forEach(({id:x})=>p.add(x)),o?.set(Array.from(p))}}},context:l}},Vr=()=>t=>t,$D=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((s,o)=>s.sort-o.sort);return f.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(s=>f.jsx(Rs,{onClick:()=>n?.(s),children:e({tag:s})},s.id)):r||f.jsx(re,{label:"No tags (label)"})})},YG=gn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500","font-bold"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),gf=({icon:t,title:e,subtitle:n,variant:r,tva:i=YG,css:s})=>{const o=i({withSubtitle:!!n,...r,css:s}).slots;return f.jsxs("div",{className:o.base(),children:[f.jsxs("div",{className:o.title(),children:[t?f.jsx(nn,{icon:t}):null,e]}),n?f.jsx("div",{className:o.subtitle(),children:n}):null]})};var Jg={},zO;function XG(){if(zO)return Jg;zO=1;var t=L3();return Jg.createRoot=t.createRoot,Jg.hydrateRoot=t.hydrateRoot,Jg}var eJ=XG();const tJ=co(eJ),u1=a4()({component:()=>f.jsxs(f.Fragment,{children:[f.jsx(T4,{}),f.jsx(uo,{})]})}),nJ="modulepreload",rJ=function(t){return"/"+t},WO={},VO=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(u=>{if(u=rJ(u),u in WO)return;WO[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":nJ,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((b,x)=>{h.addEventListener("load",b),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},iJ=Vt("/$locale")({component:uo,loader:async({params:{locale:t}})=>{try{so.push((await sJ(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function sJ(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return VO(()=>import("./cs-sRO5q8Rh.js"),[]);case"../translation/en":case"../translation/en.yaml":return VO(()=>import("./en-DQgxsGnl.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const BD="cs",oJ=[BD,"en"],aJ=Vt("/")({loader:async()=>{throw Qh({to:"/$locale",params:{locale:g5({available:oJ,fallback:BD})}})}}),lJ=Vt("/$locale/")({component:()=>{const{locale:t}=rn({from:"/$locale"});return f.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:f.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[f.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),f.jsx("ul",{children:f.jsx("li",{children:f.jsx(Mt,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:Dt,bootstrap:cJ}=uK({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)";try{await t.selectFrom("User").select(n=>n.fn.countAll().as("count")).executeTakeFirstOrThrow()}catch{await t.schema.createTable("User").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("login","varchar(128)",r=>r.notNull()).addColumn("password","varchar(256)",r=>r.notNull()).addUniqueConstraint("[User] login",["login"]).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("code","varchar(64)",r=>r.notNull()).addColumn("label","varchar(128)",r=>r.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",r=>r.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Cycle] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("stamp","datetime",r=>r.defaultTo(Ir`CURRENT_TIMESTAMP`).notNull()).execute(),await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("transport","float4",r=>r.notNull().defaultTo(1)).addUniqueConstraint("[Resource] name",["name"]).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("tagId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] tagId",["tagId"],"Tag",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Resource_Tag] resourceId-tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).addColumn("type","varchar(16)",r=>r.notNull().defaultTo("storage")).execute(),await t.schema.createTable("Default_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Default_Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).addUniqueConstraint("[Default_Inventory] resourceId",["resourceId"]).execute(),await t.schema.createTable("Blueprint").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).addColumn("sort","integer",r=>r.notNull()).addColumn("limit","integer",r=>r.notNull().defaultTo(1)).addUniqueConstraint("[Blueprint] name",["name"]).execute(),await t.schema.createTable("Blueprint_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Inventory] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Inventory] blueprintId-inventoryId",["blueprintId","inventoryId"]).execute(),await t.schema.createTable("Blueprint_Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).execute(),await t.schema.createTable("Blueprint_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Requirement] blueprintId-requirementId",["blueprintId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("dependencyId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] dependencyId",["dependencyId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Dependency] blueprintId-dependencyId",["blueprintId","dependencyId"]).execute(),await t.schema.createTable("Blueprint_Conflict").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("conflictId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] conflictId",["conflictId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Conflict] blueprintId-conflictId",["blueprintId","conflictId"]).execute(),await t.schema.createTable("Blueprint_Production_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Requirement] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Production_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-blueprintId",["blueprintProductionId","blueprintId"]).execute(),await t.schema.createTable("Blueprint_Production_Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("cycles","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Construction").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("plan","boolean",r=>r.notNull().defaultTo(!0)).addColumn("valid","boolean",r=>r.notNull().defaultTo(!0)).addColumn("cycles","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Building").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("constructionId",e).addForeignKeyConstraint("[Building] constructionId",["constructionId"],"Construction",["id"],r=>r.onDelete("set null").onUpdate("set null")).addColumn("productionId",e).addForeignKeyConstraint("[Building] productionId",["productionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("recurringProductionId",e).addForeignKeyConstraint("[Building] recurringProductionId",["recurringProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("x","float4",r=>r.notNull().defaultTo(0)).addColumn("y","float4",r=>r.notNull().defaultTo(0)).execute(),await t.schema.createTable("Building_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Building_Inventory] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[Building_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Building_Inventory] buildingId-inventoryId",["buildingId","inventoryId"]).execute(),await t.schema.createTable("Route").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("fromId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] fromId",["fromId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("toId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] toId",["toId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Route] userId-fromId-toId",["userId","fromId","toId"]).execute(),await t.schema.createTable("Route_Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("routeId",e,r=>r.notNull()).addForeignKeyConstraint("[Route_Resource] routeId",["routeId"],"Route",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Route_Resource] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4").execute()}}}),uJ=Vt("/$locale/apps/derivean")({loader:cJ}),zD="icon-[proicons--game]",dJ=gn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),WD=({variant:t,tva:e=dJ,css:n})=>{const r=e({...t,css:n}).slots;return f.jsx("div",{className:r.base(),children:"DeRivean"})},tc="icon-[fluent--building-shop-20-regular]",Fn="icon-[hugeicons--resources-add]",fJ=t=>{const{locale:e}=rn({from:"/$locale"});return f.jsxs(ec,{...t,children:[f.jsx(Zn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},children:f.jsx(re,{label:"Editor (menu)"})}),f.jsx(Zn,{icon:tc,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/blueprint/$id/view"},{to:"/$locale/apps/derivean/root/blueprint/$id/dependencies"},{to:"/$locale/apps/derivean/root/blueprint/$id/production"},{to:"/$locale/apps/derivean/root/blueprint/$id/requirements"},{to:"/$locale/apps/derivean/root/blueprint/$id/edit"},{to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements"}],children:f.jsx(re,{label:"Blueprint list (menu)"})}),f.jsx(Zn,{icon:Fn,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:f.jsx(re,{label:"Resource list (menu)"})}),f.jsx(Zn,{icon:l1,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:f.jsx(re,{label:"User list (menu)"})}),f.jsx(Zn,{icon:Oh,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},children:f.jsx(re,{label:"Tag list (menu)"})})]})},mm=B.object({id:B.string(),name:B.string(),login:B.string()}),pJ=Vt("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return mm.parse(pf.get("session"))}catch{throw Qh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=rn({from:"/$locale"}),{session:e}=Ni({from:"/$locale/apps/derivean/root"});return f.jsx(PD,{logo:f.jsx(Mt,{to:"/$locale/apps/derivean/root",params:{locale:t},children:f.jsx(WD,{})}),menu:f.jsx(fJ,{}),actions:f.jsxs(f.Fragment,{children:[e.name,f.jsx(Mt,{icon:zD,to:"/$locale/apps/derivean/game",params:{locale:t}}),f.jsx(Mt,{icon:a1,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}});function ei(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=ei(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var hJ={value:()=>{}};function Wv(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Oy(n)}function Oy(t){this._=t}function mJ(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Oy.prototype=Wv.prototype={constructor:Oy,on:function(t,e){var n=this._,r=mJ(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=gJ(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=UO(n[i],t.name,e);else if(e==null)for(i in n)n[i]=UO(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oy(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function gJ(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function UO(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=hJ,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var PE="http://www.w3.org/1999/xhtml";const HO={svg:"http://www.w3.org/2000/svg",xhtml:PE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vv(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),HO.hasOwnProperty(e)?{space:HO[e],local:t}:t}function yJ(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===PE&&e.documentElement.namespaceURI===PE?e.createElement(t):e.createElementNS(n,t)}}function bJ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function VD(t){var e=Vv(t);return(e.local?bJ:yJ)(e)}function vJ(){}function d1(t){return t==null?vJ:function(){return this.querySelector(t)}}function xJ(t){typeof t!="function"&&(t=d1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,d,p=0;p<o;++p)(u=s[p])&&(d=t.call(u,u.__data__,p,s))&&("__data__"in u&&(d.__data__=u.__data__),l[p]=d);return new As(r,this._parents)}function wJ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _J(){return[]}function UD(t){return t==null?_J:function(){return this.querySelectorAll(t)}}function SJ(t){return function(){return wJ(t.apply(this,arguments))}}function EJ(t){typeof t=="function"?t=SJ(t):t=UD(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,d=0;d<l;++d)(u=o[d])&&(r.push(t.call(u,u.__data__,d,o)),i.push(u));return new As(r,i)}function HD(t){return function(){return this.matches(t)}}function QD(t){return function(e){return e.matches(t)}}var NJ=Array.prototype.find;function kJ(t){return function(){return NJ.call(this.children,t)}}function IJ(){return this.firstElementChild}function CJ(t){return this.select(t==null?IJ:kJ(typeof t=="function"?t:QD(t)))}var TJ=Array.prototype.filter;function RJ(){return Array.from(this.children)}function OJ(t){return function(){return TJ.call(this.children,t)}}function qJ(t){return this.selectAll(t==null?RJ:OJ(typeof t=="function"?t:QD(t)))}function jJ(t){typeof t!="function"&&(t=HD(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,d=0;d<o;++d)(u=s[d])&&t.call(u,u.__data__,d,s)&&l.push(u);return new As(r,this._parents)}function KD(t){return new Array(t.length)}function AJ(){return new As(this._enter||this._groups.map(KD),this._parents)}function Bb(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bb.prototype={constructor:Bb,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function PJ(t){return function(){return t}}function FJ(t,e,n,r,i,s){for(var o=0,l,u=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new Bb(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function DJ(t,e,n,r,i,s,o){var l,u,d=new Map,p=e.length,h=s.length,b=new Array(p),x;for(l=0;l<p;++l)(u=e[l])&&(b[l]=x=o.call(u,u.__data__,l,e)+"",d.has(x)?i[l]=u:d.set(x,u));for(l=0;l<h;++l)x=o.call(t,s[l],l,s)+"",(u=d.get(x))?(r[l]=u,u.__data__=s[l],d.delete(x)):n[l]=new Bb(t,s[l]);for(l=0;l<p;++l)(u=e[l])&&d.get(b[l])===u&&(i[l]=u)}function LJ(t){return t.__data__}function MJ(t,e){if(!arguments.length)return Array.from(this,LJ);var n=e?DJ:FJ,r=this._parents,i=this._groups;typeof t!="function"&&(t=PJ(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),d=0;d<s;++d){var p=r[d],h=i[d],b=h.length,x=$J(t.call(p,p&&p.__data__,d,r)),_=x.length,E=l[d]=new Array(_),I=o[d]=new Array(_),T=u[d]=new Array(b);n(p,h,E,I,T,x,e);for(var R=0,O=0,A,D;R<_;++R)if(A=E[R]){for(R>=O&&(O=R+1);!(D=I[O])&&++O<_;);A._next=D||null}}return o=new As(o,r),o._enter=l,o._exit=u,o}function $J(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function BJ(){return new As(this._exit||this._groups.map(KD),this._parents)}function zJ(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function WJ(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var d=n[u],p=r[u],h=d.length,b=l[u]=new Array(h),x,_=0;_<h;++_)(x=d[_]||p[_])&&(b[_]=x);for(;u<i;++u)l[u]=n[u];return new As(l,this._parents)}function VJ(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function UJ(t){t||(t=HJ);function e(h,b){return h&&b?t(h.__data__,b.__data__):!h-!b}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),d,p=0;p<l;++p)(d=o[p])&&(u[p]=d);u.sort(e)}return new As(i,this._parents).order()}function HJ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function QJ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function KJ(){return Array.from(this)}function GJ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function JJ(){let t=0;for(const e of this)++t;return t}function ZJ(){return!this.node()}function YJ(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function XJ(t){return function(){this.removeAttribute(t)}}function eZ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tZ(t,e){return function(){this.setAttribute(t,e)}}function nZ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function rZ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function iZ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function sZ(t,e){var n=Vv(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?eZ:XJ:typeof e=="function"?n.local?iZ:rZ:n.local?nZ:tZ)(n,e))}function GD(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function oZ(t){return function(){this.style.removeProperty(t)}}function aZ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function lZ(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function cZ(t,e,n){return arguments.length>1?this.each((e==null?oZ:typeof e=="function"?lZ:aZ)(t,e,n??"")):Vd(this.node(),t)}function Vd(t,e){return t.style.getPropertyValue(e)||GD(t).getComputedStyle(t,null).getPropertyValue(e)}function uZ(t){return function(){delete this[t]}}function dZ(t,e){return function(){this[t]=e}}function fZ(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function pZ(t,e){return arguments.length>1?this.each((e==null?uZ:typeof e=="function"?fZ:dZ)(t,e)):this.node()[t]}function JD(t){return t.trim().split(/^|\s+/)}function f1(t){return t.classList||new ZD(t)}function ZD(t){this._node=t,this._names=JD(t.getAttribute("class")||"")}ZD.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function YD(t,e){for(var n=f1(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function XD(t,e){for(var n=f1(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hZ(t){return function(){YD(this,t)}}function mZ(t){return function(){XD(this,t)}}function gZ(t,e){return function(){(e.apply(this,arguments)?YD:XD)(this,t)}}function yZ(t,e){var n=JD(t+"");if(arguments.length<2){for(var r=f1(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?gZ:e?hZ:mZ)(n,e))}function bZ(){this.textContent=""}function vZ(t){return function(){this.textContent=t}}function xZ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function wZ(t){return arguments.length?this.each(t==null?bZ:(typeof t=="function"?xZ:vZ)(t)):this.node().textContent}function _Z(){this.innerHTML=""}function SZ(t){return function(){this.innerHTML=t}}function EZ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function NZ(t){return arguments.length?this.each(t==null?_Z:(typeof t=="function"?EZ:SZ)(t)):this.node().innerHTML}function kZ(){this.nextSibling&&this.parentNode.appendChild(this)}function IZ(){return this.each(kZ)}function CZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TZ(){return this.each(CZ)}function RZ(t){var e=typeof t=="function"?t:VD(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function OZ(){return null}function qZ(t,e){var n=typeof t=="function"?t:VD(t),r=e==null?OZ:typeof e=="function"?e:d1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function jZ(){var t=this.parentNode;t&&t.removeChild(this)}function AZ(){return this.each(jZ)}function PZ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FZ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function DZ(t){return this.select(t?FZ:PZ)}function LZ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function MZ(t){return function(e){t.call(this,e,this.__data__)}}function $Z(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function BZ(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function zZ(t,e,n){return function(){var r=this.__on,i,s=MZ(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function WZ(t,e,n){var r=$Z(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,p;u<d;++u)for(i=0,p=l[u];i<s;++i)if((o=r[i]).type===p.type&&o.name===p.name)return p.value}return}for(l=e?zZ:BZ,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function e2(t,e,n){var r=GD(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function VZ(t,e){return function(){return e2(this,t,e)}}function UZ(t,e){return function(){return e2(this,t,e.apply(this,arguments))}}function HZ(t,e){return this.each((typeof e=="function"?UZ:VZ)(t,e))}function*QZ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var t2=[null];function As(t,e){this._groups=t,this._parents=e}function gm(){return new As([[document.documentElement]],t2)}function KZ(){return this}As.prototype=gm.prototype={constructor:As,select:xJ,selectAll:EJ,selectChild:CJ,selectChildren:qJ,filter:jJ,data:MJ,enter:AJ,exit:BJ,join:zJ,merge:WJ,selection:KZ,order:VJ,sort:UJ,call:QJ,nodes:KJ,node:GJ,size:JJ,empty:ZJ,each:YJ,attr:sZ,style:cZ,property:pZ,classed:yZ,text:wZ,html:NZ,raise:IZ,lower:TZ,append:RZ,insert:qZ,remove:AZ,clone:DZ,datum:LZ,on:WZ,dispatch:HZ,[Symbol.iterator]:QZ};function ks(t){return typeof t=="string"?new As([[document.querySelector(t)]],[document.documentElement]):new As([[t]],t2)}function GZ(t){let e;for(;e=t.sourceEvent;)t=e;return t}function So(t,e){if(t=GZ(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const JZ={passive:!1},jh={capture:!0,passive:!1};function v0(t){t.stopImmediatePropagation()}function Rd(t){t.preventDefault(),t.stopImmediatePropagation()}function n2(t){var e=t.document.documentElement,n=ks(t).on("dragstart.drag",Rd,jh);"onselectstart"in e?n.on("selectstart.drag",Rd,jh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function r2(t,e){var n=t.document.documentElement,r=ks(t).on("dragstart.drag",null);e&&(r.on("click.drag",Rd,jh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zg=t=>()=>t;function FE(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:u,dy:d,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:p}})}FE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ZZ(t){return!t.ctrlKey&&!t.button}function YZ(){return this.parentNode}function XZ(t,e){return e??{x:t.x,y:t.y}}function eY(){return navigator.maxTouchPoints||"ontouchstart"in this}function i2(){var t=ZZ,e=YZ,n=XZ,r=eY,i={},s=Wv("start","drag","end"),o=0,l,u,d,p,h=0;function b(A){A.on("mousedown.drag",x).filter(r).on("touchstart.drag",I).on("touchmove.drag",T,JZ).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(A,D){if(!(p||!t.call(this,A,D))){var L=O(this,e.call(this,A,D),A,D,"mouse");L&&(ks(A.view).on("mousemove.drag",_,jh).on("mouseup.drag",E,jh),n2(A.view),v0(A),d=!1,l=A.clientX,u=A.clientY,L("start",A))}}function _(A){if(Rd(A),!d){var D=A.clientX-l,L=A.clientY-u;d=D*D+L*L>h}i.mouse("drag",A)}function E(A){ks(A.view).on("mousemove.drag mouseup.drag",null),r2(A.view,d),Rd(A),i.mouse("end",A)}function I(A,D){if(t.call(this,A,D)){var L=A.changedTouches,W=e.call(this,A,D),P=L.length,q,M;for(q=0;q<P;++q)(M=O(this,W,A,D,L[q].identifier,L[q]))&&(v0(A),M("start",A,L[q]))}}function T(A){var D=A.changedTouches,L=D.length,W,P;for(W=0;W<L;++W)(P=i[D[W].identifier])&&(Rd(A),P("drag",A,D[W]))}function R(A){var D=A.changedTouches,L=D.length,W,P;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),W=0;W<L;++W)(P=i[D[W].identifier])&&(v0(A),P("end",A,D[W]))}function O(A,D,L,W,P,q){var M=s.copy(),F=So(q||L,D),V,U,z;if((z=n.call(A,new FE("beforestart",{sourceEvent:L,target:b,identifier:P,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:M}),W))!=null)return V=z.x-F[0]||0,U=z.y-F[1]||0,function ee(Z,le,se){var te=F,oe;switch(Z){case"start":i[P]=ee,oe=o++;break;case"end":delete i[P],--o;case"drag":F=So(se||le,D),oe=o;break}M.call(Z,A,new FE(Z,{sourceEvent:le,subject:z,target:b,identifier:P,active:oe,x:F[0]+V,y:F[1]+U,dx:F[0]-te[0],dy:F[1]-te[1],dispatch:M}),W)}}return b.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Zg(!!A),b):t},b.container=function(A){return arguments.length?(e=typeof A=="function"?A:Zg(A),b):e},b.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Zg(A),b):n},b.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Zg(!!A),b):r},b.on=function(){var A=s.on.apply(s,arguments);return A===s?b:A},b.clickDistance=function(A){return arguments.length?(h=(A=+A)*A,b):Math.sqrt(h)},b}function p1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function s2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ym(){}var Ah=.7,zb=1/Ah,Od="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tY=/^#([0-9a-f]{3,8})$/,nY=new RegExp(`^rgb\\(${Od},${Od},${Od}\\)$`),rY=new RegExp(`^rgb\\(${ta},${ta},${ta}\\)$`),iY=new RegExp(`^rgba\\(${Od},${Od},${Od},${Ph}\\)$`),sY=new RegExp(`^rgba\\(${ta},${ta},${ta},${Ph}\\)$`),oY=new RegExp(`^hsl\\(${Ph},${ta},${ta}\\)$`),aY=new RegExp(`^hsla\\(${Ph},${ta},${ta},${Ph}\\)$`),QO={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};p1(ym,Fh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:KO,formatHex:KO,formatHex8:lY,formatHsl:cY,formatRgb:GO,toString:GO});function KO(){return this.rgb().formatHex()}function lY(){return this.rgb().formatHex8()}function cY(){return o2(this).formatHsl()}function GO(){return this.rgb().formatRgb()}function Fh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?JO(e):n===3?new ss(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nY.exec(t))?new ss(e[1],e[2],e[3],1):(e=rY.exec(t))?new ss(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iY.exec(t))?Yg(e[1],e[2],e[3],e[4]):(e=sY.exec(t))?Yg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oY.exec(t))?XO(e[1],e[2]/100,e[3]/100,1):(e=aY.exec(t))?XO(e[1],e[2]/100,e[3]/100,e[4]):QO.hasOwnProperty(t)?JO(QO[t]):t==="transparent"?new ss(NaN,NaN,NaN,0):null}function JO(t){return new ss(t>>16&255,t>>8&255,t&255,1)}function Yg(t,e,n,r){return r<=0&&(t=e=n=NaN),new ss(t,e,n,r)}function uY(t){return t instanceof ym||(t=Fh(t)),t?(t=t.rgb(),new ss(t.r,t.g,t.b,t.opacity)):new ss}function DE(t,e,n,r){return arguments.length===1?uY(t):new ss(t,e,n,r??1)}function ss(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}p1(ss,DE,s2(ym,{brighter(t){return t=t==null?zb:Math.pow(zb,t),new ss(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ah:Math.pow(Ah,t),new ss(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ss(Qc(this.r),Qc(this.g),Qc(this.b),Wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZO,formatHex:ZO,formatHex8:dY,formatRgb:YO,toString:YO}));function ZO(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function dY(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc((isNaN(this.opacity)?1:this.opacity)*255)}`}function YO(){const t=Wb(this.opacity);return`${t===1?"rgb(":"rgba("}${Qc(this.r)}, ${Qc(this.g)}, ${Qc(this.b)}${t===1?")":`, ${t})`}`}function Wb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zc(t){return t=Qc(t),(t<16?"0":"")+t.toString(16)}function XO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ko(t,e,n,r)}function o2(t){if(t instanceof ko)return new ko(t.h,t.s,t.l,t.opacity);if(t instanceof ym||(t=Fh(t)),!t)return new ko;if(t instanceof ko)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new ko(o,l,u,t.opacity)}function fY(t,e,n,r){return arguments.length===1?o2(t):new ko(t,e,n,r??1)}function ko(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}p1(ko,fY,s2(ym,{brighter(t){return t=t==null?zb:Math.pow(zb,t),new ko(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ah:Math.pow(Ah,t),new ko(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ss(x0(t>=240?t-240:t+120,i,r),x0(t,i,r),x0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ko(eq(this.h),Xg(this.s),Xg(this.l),Wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wb(this.opacity);return`${t===1?"hsl(":"hsla("}${eq(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eq(t){return t=(t||0)%360,t<0?t+360:t}function Xg(t){return Math.max(0,Math.min(1,t||0))}function x0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const a2=t=>()=>t;function pY(t,e){return function(n){return t+n*e}}function hY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mY(t){return(t=+t)==1?l2:function(e,n){return n-e?hY(e,n,t):a2(isNaN(e)?n:e)}}function l2(t,e){var n=e-t;return n?pY(t,n):a2(isNaN(t)?e:t)}const tq=function t(e){var n=mY(e);function r(i,s){var o=n((i=DE(i)).r,(s=DE(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),d=l2(i.opacity,s.opacity);return function(p){return i.r=o(p),i.g=l(p),i.b=u(p),i.opacity=d(p),i+""}}return r.gamma=t,r}(1);function El(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var LE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w0=new RegExp(LE.source,"g");function gY(t){return function(){return t}}function yY(t){return function(e){return t(e)+""}}function bY(t,e){var n=LE.lastIndex=w0.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=LE.exec(t))&&(i=w0.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:El(r,i)})),n=w0.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?yY(u[0].x):gY(e):(e=u.length,function(d){for(var p=0,h;p<e;++p)l[(h=u[p]).i]=h.x(d);return l.join("")})}var nq=180/Math.PI,ME={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function c2(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*nq,skewX:Math.atan(u)*nq,scaleX:o,scaleY:l}}var ey;function vY(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ME:c2(e.a,e.b,e.c,e.d,e.e,e.f)}function xY(t){return t==null||(ey||(ey=document.createElementNS("http://www.w3.org/2000/svg","g")),ey.setAttribute("transform",t),!(t=ey.transform.baseVal.consolidate()))?ME:(t=t.matrix,c2(t.a,t.b,t.c,t.d,t.e,t.f))}function u2(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,p,h,b,x,_){if(d!==h||p!==b){var E=x.push("translate(",null,e,null,n);_.push({i:E-4,x:El(d,h)},{i:E-2,x:El(p,b)})}else(h||b)&&x.push("translate("+h+e+b+n)}function o(d,p,h,b){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),b.push({i:h.push(i(h)+"rotate(",null,r)-2,x:El(d,p)})):p&&h.push(i(h)+"rotate("+p+r)}function l(d,p,h,b){d!==p?b.push({i:h.push(i(h)+"skewX(",null,r)-2,x:El(d,p)}):p&&h.push(i(h)+"skewX("+p+r)}function u(d,p,h,b,x,_){if(d!==h||p!==b){var E=x.push(i(x)+"scale(",null,",",null,")");_.push({i:E-4,x:El(d,h)},{i:E-2,x:El(p,b)})}else(h!==1||b!==1)&&x.push(i(x)+"scale("+h+","+b+")")}return function(d,p){var h=[],b=[];return d=t(d),p=t(p),s(d.translateX,d.translateY,p.translateX,p.translateY,h,b),o(d.rotate,p.rotate,h,b),l(d.skewX,p.skewX,h,b),u(d.scaleX,d.scaleY,p.scaleX,p.scaleY,h,b),d=p=null,function(x){for(var _=-1,E=b.length,I;++_<E;)h[(I=b[_]).i]=I.x(x);return h.join("")}}}var wY=u2(vY,"px, ","px)","deg)"),_Y=u2(xY,", ",")",")"),SY=1e-12;function rq(t){return((t=Math.exp(t))+1/t)/2}function EY(t){return((t=Math.exp(t))-1/t)/2}function NY(t){return((t=Math.exp(2*t))-1)/(t+1)}const kY=function t(e,n,r){function i(s,o){var l=s[0],u=s[1],d=s[2],p=o[0],h=o[1],b=o[2],x=p-l,_=h-u,E=x*x+_*_,I,T;if(E<SY)T=Math.log(b/d)/e,I=function(W){return[l+W*x,u+W*_,d*Math.exp(e*W*T)]};else{var R=Math.sqrt(E),O=(b*b-d*d+r*E)/(2*d*n*R),A=(b*b-d*d-r*E)/(2*b*n*R),D=Math.log(Math.sqrt(O*O+1)-O),L=Math.log(Math.sqrt(A*A+1)-A);T=(L-D)/e,I=function(W){var P=W*T,q=rq(D),M=d/(n*R)*(q*NY(e*P+D)-EY(D));return[l+M*x,u+M*_,d*q/rq(e*P+D)]}}return I.duration=T*1e3*e/Math.SQRT2,I}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return t(o,l,u)},i}(Math.SQRT2,2,4);var Ud=0,Tp=0,gp=0,d2=1e3,Vb,Rp,Ub=0,su=0,Uv=0,Dh=typeof performance=="object"&&performance.now?performance:Date,f2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h1(){return su||(f2(IY),su=Dh.now()+Uv)}function IY(){su=0}function Hb(){this._call=this._time=this._next=null}Hb.prototype=p2.prototype={constructor:Hb,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?h1():+n)+(e==null?0:+e),!this._next&&Rp!==this&&(Rp?Rp._next=this:Vb=this,Rp=this),this._call=t,this._time=n,$E()},stop:function(){this._call&&(this._call=null,this._time=1/0,$E())}};function p2(t,e,n){var r=new Hb;return r.restart(t,e,n),r}function CY(){h1(),++Ud;for(var t=Vb,e;t;)(e=su-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ud}function iq(){su=(Ub=Dh.now())+Uv,Ud=Tp=0;try{CY()}finally{Ud=0,RY(),su=0}}function TY(){var t=Dh.now(),e=t-Ub;e>d2&&(Uv-=e,Ub=t)}function RY(){for(var t,e=Vb,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Vb=n);Rp=t,$E(r)}function $E(t){if(!Ud){Tp&&(Tp=clearTimeout(Tp));var e=t-su;e>24?(t<1/0&&(Tp=setTimeout(iq,t-Dh.now()-Uv)),gp&&(gp=clearInterval(gp))):(gp||(Ub=Dh.now(),gp=setInterval(TY,d2)),Ud=1,f2(iq))}}function sq(t,e,n){var r=new Hb;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var OY=Wv("start","end","cancel","interrupt"),qY=[],h2=0,oq=1,BE=2,qy=3,aq=4,zE=5,jy=6;function Hv(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;jY(t,n,{name:e,index:r,group:i,on:OY,tween:qY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:h2})}function m1(t,e){var n=Lo(t,e);if(n.state>h2)throw new Error("too late; already scheduled");return n}function ua(t,e){var n=Lo(t,e);if(n.state>qy)throw new Error("too late; already running");return n}function Lo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function jY(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=p2(s,0,n.time);function s(d){n.state=oq,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var p,h,b,x;if(n.state!==oq)return u();for(p in r)if(x=r[p],x.name===n.name){if(x.state===qy)return sq(o);x.state===aq?(x.state=jy,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[p]):+p<e&&(x.state=jy,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[p])}if(sq(function(){n.state===qy&&(n.state=aq,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=BE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===BE){for(n.state=qy,i=new Array(b=n.tween.length),p=0,h=-1;p<b;++p)(x=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=x);i.length=h+1}}function l(d){for(var p=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=zE,1),h=-1,b=i.length;++h<b;)i[h].call(t,p);n.state===zE&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=jy,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function Ay(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>BE&&r.state<zE,r.state=jy,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function AY(t){return this.each(function(){Ay(this,t)})}function PY(t,e){var n,r;return function(){var i=ua(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function FY(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ua(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,d=i.length;u<d;++u)if(i[u].name===e){i[u]=l;break}u===d&&i.push(l)}s.tween=i}}function DY(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Lo(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?PY:FY)(n,t,e))}function g1(t,e,n){var r=t._id;return t.each(function(){var i=ua(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Lo(i,r).value[e]}}function m2(t,e){var n;return(typeof e=="number"?El:e instanceof Fh?tq:(n=Fh(e))?(e=n,tq):bY)(t,e)}function LY(t){return function(){this.removeAttribute(t)}}function MY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $Y(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function BY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function zY(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function WY(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function VY(t,e){var n=Vv(t),r=n==="transform"?_Y:m2;return this.attrTween(t,typeof e=="function"?(n.local?WY:zY)(n,r,g1(this,"attr."+t,e)):e==null?(n.local?MY:LY)(n):(n.local?BY:$Y)(n,r,e))}function UY(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function HY(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function QY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&HY(t,s)),n}return i._value=e,i}function KY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&UY(t,s)),n}return i._value=e,i}function GY(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Vv(t);return this.tween(n,(r.local?QY:KY)(r,e))}function JY(t,e){return function(){m1(this,t).delay=+e.apply(this,arguments)}}function ZY(t,e){return e=+e,function(){m1(this,t).delay=e}}function YY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?JY:ZY)(e,t)):Lo(this.node(),e).delay}function XY(t,e){return function(){ua(this,t).duration=+e.apply(this,arguments)}}function eX(t,e){return e=+e,function(){ua(this,t).duration=e}}function tX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?XY:eX)(e,t)):Lo(this.node(),e).duration}function nX(t,e){if(typeof e!="function")throw new Error;return function(){ua(this,t).ease=e}}function rX(t){var e=this._id;return arguments.length?this.each(nX(e,t)):Lo(this.node(),e).ease}function iX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ua(this,t).ease=n}}function sX(t){if(typeof t!="function")throw new Error;return this.each(iX(this._id,t))}function oX(t){typeof t!="function"&&(t=HD(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,d=0;d<o;++d)(u=s[d])&&t.call(u,u.__data__,d,s)&&l.push(u);return new Ua(r,this._parents,this._name,this._id)}function aX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],d=n[l],p=u.length,h=o[l]=new Array(p),b,x=0;x<p;++x)(b=u[x]||d[x])&&(h[x]=b);for(;l<r;++l)o[l]=e[l];return new Ua(o,this._parents,this._name,this._id)}function lX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function cX(t,e,n){var r,i,s=lX(e)?m1:ua;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function uX(t,e){var n=this._id;return arguments.length<2?Lo(this.node(),n).on.on(t):this.each(cX(n,t,e))}function dX(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function fX(){return this.on("end.remove",dX(this._id))}function pX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=d1(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,d=s[o]=new Array(u),p,h,b=0;b<u;++b)(p=l[b])&&(h=t.call(p,p.__data__,b,l))&&("__data__"in p&&(h.__data__=p.__data__),d[b]=h,Hv(d[b],e,n,b,d,Lo(p,n)));return new Ua(s,this._parents,e,n)}function hX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=UD(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],d=u.length,p,h=0;h<d;++h)if(p=u[h]){for(var b=t.call(p,p.__data__,h,u),x,_=Lo(p,n),E=0,I=b.length;E<I;++E)(x=b[E])&&Hv(x,e,n,E,b,_);s.push(b),o.push(p)}return new Ua(s,o,e,n)}var mX=gm.prototype.constructor;function gX(){return new mX(this._groups,this._parents)}function yX(t,e){var n,r,i;return function(){var s=Vd(this,t),o=(this.style.removeProperty(t),Vd(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function g2(t){return function(){this.style.removeProperty(t)}}function bX(t,e,n){var r,i=n+"",s;return function(){var o=Vd(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function vX(t,e,n){var r,i,s;return function(){var o=Vd(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Vd(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function xX(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=ua(this,t),d=u.on,p=u.value[s]==null?l||(l=g2(e)):void 0;(d!==n||i!==p)&&(r=(n=d).copy()).on(o,i=p),u.on=r}}function wX(t,e,n){var r=(t+="")=="transform"?wY:m2;return e==null?this.styleTween(t,yX(t,r)).on("end.style."+t,g2(t)):typeof e=="function"?this.styleTween(t,vX(t,r,g1(this,"style."+t,e))).each(xX(this._id,t)):this.styleTween(t,bX(t,r,e),n).on("end.style."+t,null)}function _X(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function SX(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_X(t,o,n)),r}return s._value=e,s}function EX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,SX(t,e,n??""))}function NX(t){return function(){this.textContent=t}}function kX(t){return function(){var e=t(this);this.textContent=e??""}}function IX(t){return this.tween("text",typeof t=="function"?kX(g1(this,"text",t)):NX(t==null?"":t+""))}function CX(t){return function(e){this.textContent=t.call(this,e)}}function TX(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&CX(i)),e}return r._value=t,r}function RX(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,TX(t))}function OX(){for(var t=this._name,e=this._id,n=y2(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,d=0;d<l;++d)if(u=o[d]){var p=Lo(u,e);Hv(u,t,n,d,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ua(r,this._parents,t,n)}function qX(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var d=ua(this,r),p=d.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),d.on=e}),i===0&&s()})}var jX=0;function Ua(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function y2(){return++jX}var Ca=gm.prototype;Ua.prototype={constructor:Ua,select:pX,selectAll:hX,selectChild:Ca.selectChild,selectChildren:Ca.selectChildren,filter:oX,merge:aX,selection:gX,transition:OX,call:Ca.call,nodes:Ca.nodes,node:Ca.node,size:Ca.size,empty:Ca.empty,each:Ca.each,on:uX,attr:VY,attrTween:GY,style:wX,styleTween:EX,text:IX,textTween:RX,remove:fX,tween:DY,delay:YY,duration:tX,ease:rX,easeVarying:sX,end:qX,[Symbol.iterator]:Ca[Symbol.iterator]};function AX(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var PX={time:null,delay:0,duration:250,ease:AX};function FX(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function DX(t){var e,n;t instanceof Ua?(e=t._id,t=t._name):(e=y2(),(n=PX).time=h1(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,d=0;d<l;++d)(u=o[d])&&Hv(u,t,e,d,o,n||FX(u,e));return new Ua(r,this._parents,t,e)}gm.prototype.interrupt=AY;gm.prototype.transition=DX;const ty=t=>()=>t;function LX(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Pa(t,e,n){this.k=t,this.x=e,this.y=n}Pa.prototype={constructor:Pa,scale:function(t){return t===1?this:new Pa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Pa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qv=new Pa(1,0,0);b2.prototype=Pa.prototype;function b2(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Qv;return t.__zoom}function _0(t){t.stopImmediatePropagation()}function yp(t){t.preventDefault(),t.stopImmediatePropagation()}function MX(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function $X(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function lq(){return this.__zoom||Qv}function BX(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function zX(){return navigator.maxTouchPoints||"ontouchstart"in this}function WX(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function v2(){var t=MX,e=$X,n=WX,r=BX,i=zX,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=kY,d=Wv("start","zoom","end"),p,h,b,x=500,_=150,E=0,I=10;function T(z){z.property("__zoom",lq).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(z,ee,Z,le){var se=z.selection?z.selection():z;se.property("__zoom",lq),z!==se?D(z,ee,Z,le):se.interrupt().each(function(){L(this,arguments).event(le).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},T.scaleBy=function(z,ee,Z,le){T.scaleTo(z,function(){var se=this.__zoom.k,te=typeof ee=="function"?ee.apply(this,arguments):ee;return se*te},Z,le)},T.scaleTo=function(z,ee,Z,le){T.transform(z,function(){var se=e.apply(this,arguments),te=this.__zoom,oe=Z==null?A(se):typeof Z=="function"?Z.apply(this,arguments):Z,X=te.invert(oe),ue=typeof ee=="function"?ee.apply(this,arguments):ee;return n(O(R(te,ue),oe,X),se,o)},Z,le)},T.translateBy=function(z,ee,Z,le){T.transform(z,function(){return n(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof Z=="function"?Z.apply(this,arguments):Z),e.apply(this,arguments),o)},null,le)},T.translateTo=function(z,ee,Z,le,se){T.transform(z,function(){var te=e.apply(this,arguments),oe=this.__zoom,X=le==null?A(te):typeof le=="function"?le.apply(this,arguments):le;return n(Qv.translate(X[0],X[1]).scale(oe.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof Z=="function"?-Z.apply(this,arguments):-Z),te,o)},le,se)};function R(z,ee){return ee=Math.max(s[0],Math.min(s[1],ee)),ee===z.k?z:new Pa(ee,z.x,z.y)}function O(z,ee,Z){var le=ee[0]-Z[0]*z.k,se=ee[1]-Z[1]*z.k;return le===z.x&&se===z.y?z:new Pa(z.k,le,se)}function A(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function D(z,ee,Z,le){z.on("start.zoom",function(){L(this,arguments).event(le).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(le).end()}).tween("zoom",function(){var se=this,te=arguments,oe=L(se,te).event(le),X=e.apply(se,te),ue=Z==null?A(X):typeof Z=="function"?Z.apply(se,te):Z,de=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ye=se.__zoom,we=typeof ee=="function"?ee.apply(se,te):ee,Ne=u(ye.invert(ue).concat(de/ye.k),we.invert(ue).concat(de/we.k));return function(ze){if(ze===1)ze=we;else{var Oe=Ne(ze),De=de/Oe[2];ze=new Pa(De,ue[0]-Oe[0]*De,ue[1]-Oe[1]*De)}oe.zoom(null,ze)}})}function L(z,ee,Z){return!Z&&z.__zooming||new W(z,ee)}function W(z,ee){this.that=z,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,ee),this.taps=0}W.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,ee){return this.mouse&&z!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var ee=ks(this.that).datum();d.call(z,this.that,new LX(z,{sourceEvent:this.sourceEvent,target:T,type:z,transform:this.that.__zoom,dispatch:d}),ee)}};function P(z,...ee){if(!t.apply(this,arguments))return;var Z=L(this,ee).event(z),le=this.__zoom,se=Math.max(s[0],Math.min(s[1],le.k*Math.pow(2,r.apply(this,arguments)))),te=So(z);if(Z.wheel)(Z.mouse[0][0]!==te[0]||Z.mouse[0][1]!==te[1])&&(Z.mouse[1]=le.invert(Z.mouse[0]=te)),clearTimeout(Z.wheel);else{if(le.k===se)return;Z.mouse=[te,le.invert(te)],Ay(this),Z.start()}yp(z),Z.wheel=setTimeout(oe,_),Z.zoom("mouse",n(O(R(le,se),Z.mouse[0],Z.mouse[1]),Z.extent,o));function oe(){Z.wheel=null,Z.end()}}function q(z,...ee){if(b||!t.apply(this,arguments))return;var Z=z.currentTarget,le=L(this,ee,!0).event(z),se=ks(z.view).on("mousemove.zoom",ue,!0).on("mouseup.zoom",de,!0),te=So(z,Z),oe=z.clientX,X=z.clientY;n2(z.view),_0(z),le.mouse=[te,this.__zoom.invert(te)],Ay(this),le.start();function ue(ye){if(yp(ye),!le.moved){var we=ye.clientX-oe,Ne=ye.clientY-X;le.moved=we*we+Ne*Ne>E}le.event(ye).zoom("mouse",n(O(le.that.__zoom,le.mouse[0]=So(ye,Z),le.mouse[1]),le.extent,o))}function de(ye){se.on("mousemove.zoom mouseup.zoom",null),r2(ye.view,le.moved),yp(ye),le.event(ye).end()}}function M(z,...ee){if(t.apply(this,arguments)){var Z=this.__zoom,le=So(z.changedTouches?z.changedTouches[0]:z,this),se=Z.invert(le),te=Z.k*(z.shiftKey?.5:2),oe=n(O(R(Z,te),le,se),e.apply(this,ee),o);yp(z),l>0?ks(this).transition().duration(l).call(D,oe,le,z):ks(this).call(T.transform,oe,le,z)}}function F(z,...ee){if(t.apply(this,arguments)){var Z=z.touches,le=Z.length,se=L(this,ee,z.changedTouches.length===le).event(z),te,oe,X,ue;for(_0(z),oe=0;oe<le;++oe)X=Z[oe],ue=So(X,this),ue=[ue,this.__zoom.invert(ue),X.identifier],se.touch0?!se.touch1&&se.touch0[2]!==ue[2]&&(se.touch1=ue,se.taps=0):(se.touch0=ue,te=!0,se.taps=1+!!p);p&&(p=clearTimeout(p)),te&&(se.taps<2&&(h=ue[0],p=setTimeout(function(){p=null},x)),Ay(this),se.start())}}function V(z,...ee){if(this.__zooming){var Z=L(this,ee).event(z),le=z.changedTouches,se=le.length,te,oe,X,ue;for(yp(z),te=0;te<se;++te)oe=le[te],X=So(oe,this),Z.touch0&&Z.touch0[2]===oe.identifier?Z.touch0[0]=X:Z.touch1&&Z.touch1[2]===oe.identifier&&(Z.touch1[0]=X);if(oe=Z.that.__zoom,Z.touch1){var de=Z.touch0[0],ye=Z.touch0[1],we=Z.touch1[0],Ne=Z.touch1[1],ze=(ze=we[0]-de[0])*ze+(ze=we[1]-de[1])*ze,Oe=(Oe=Ne[0]-ye[0])*Oe+(Oe=Ne[1]-ye[1])*Oe;oe=R(oe,Math.sqrt(ze/Oe)),X=[(de[0]+we[0])/2,(de[1]+we[1])/2],ue=[(ye[0]+Ne[0])/2,(ye[1]+Ne[1])/2]}else if(Z.touch0)X=Z.touch0[0],ue=Z.touch0[1];else return;Z.zoom("touch",n(O(oe,X,ue),Z.extent,o))}}function U(z,...ee){if(this.__zooming){var Z=L(this,ee).event(z),le=z.changedTouches,se=le.length,te,oe;for(_0(z),b&&clearTimeout(b),b=setTimeout(function(){b=null},x),te=0;te<se;++te)oe=le[te],Z.touch0&&Z.touch0[2]===oe.identifier?delete Z.touch0:Z.touch1&&Z.touch1[2]===oe.identifier&&delete Z.touch1;if(Z.touch1&&!Z.touch0&&(Z.touch0=Z.touch1,delete Z.touch1),Z.touch0)Z.touch0[1]=this.__zoom.invert(Z.touch0[0]);else if(Z.end(),Z.taps===2&&(oe=So(oe,this),Math.hypot(h[0]-oe[0],h[1]-oe[1])<I)){var X=ks(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return T.wheelDelta=function(z){return arguments.length?(r=typeof z=="function"?z:ty(+z),T):r},T.filter=function(z){return arguments.length?(t=typeof z=="function"?z:ty(!!z),T):t},T.touchable=function(z){return arguments.length?(i=typeof z=="function"?z:ty(!!z),T):i},T.extent=function(z){return arguments.length?(e=typeof z=="function"?z:ty([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),T):e},T.scaleExtent=function(z){return arguments.length?(s[0]=+z[0],s[1]=+z[1],T):[s[0],s[1]]},T.translateExtent=function(z){return arguments.length?(o[0][0]=+z[0][0],o[1][0]=+z[1][0],o[0][1]=+z[0][1],o[1][1]=+z[1][1],T):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},T.constrain=function(z){return arguments.length?(n=z,T):n},T.duration=function(z){return arguments.length?(l=+z,T):l},T.interpolate=function(z){return arguments.length?(u=z,T):u},T.on=function(){var z=d.on.apply(d,arguments);return z===d?T:z},T.clickDistance=function(z){return arguments.length?(E=(z=+z)*z,T):Math.sqrt(E)},T.tapDistance=function(z){return arguments.length?(I=+z,T):I},T}const Ha={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Lh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],x2=["Enter"," ","Escape"];var Hd;(function(t){t.Strict="strict",t.Loose="loose"})(Hd||(Hd={}));var Kc;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Kc||(Kc={}));var Mh;(function(t){t.Partial="partial",t.Full="full"})(Mh||(Mh={}));const w2={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ol;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ol||(Ol={}));var $h;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})($h||($h={}));var Ft;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ft||(Ft={}));const cq={[Ft.Left]:Ft.Right,[Ft.Right]:Ft.Left,[Ft.Top]:Ft.Bottom,[Ft.Bottom]:Ft.Top};function _2(t){return t===null?null:t?"valid":"invalid"}const S2=t=>"id"in t&&"source"in t&&"target"in t,VX=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),y1=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),bm=(t,e=[0,0])=>{const{width:n,height:r}=Qa(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},UX=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):y1(i)?i:e.nodeLookup.get(i.id));const l=o?Qb(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Kv(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Gv(n)},vm=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=Qb(r);n=Kv(n,i)}}),Gv(n)},E2=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const l={...xm(e,[n,r,i]),width:e.width/i,height:e.height/i},u=[];for(const d of t.values()){const{measured:p,selectable:h=!0,hidden:b=!1}=d;if(o&&!h||b)continue;const x=p.width??d.width??d.initialWidth??null,_=p.height??d.height??d.initialHeight??null,E=Bh(l,Kd(d)),I=(x??0)*(_??0),T=s&&E>0;(!d.internals.handleBounds||T||E>=I||d.dragging)&&u.push(d)}return u},HX=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function WE(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function VE({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const l=vm(t),u=b1(l,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(u,{duration:o?.duration}),Promise.resolve(!0)}function N2({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),l=o.parentId?n.get(o.parentId):void 0,{x:u,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},p=o.origin??r;let h=i;if(o.extent==="parent"&&!o.expandParent)if(!l)s?.("005",Ha.error005());else{const x=l.measured.width,_=l.measured.height;x&&_&&(h=[[u,d],[u+x,d+_]])}else l&&Gd(o.extent)&&(h=[[o.extent[0][0]+u,o.extent[0][1]+d],[o.extent[1][0]+u,o.extent[1][1]+d]]);const b=Gd(h)?ou(e,h,o.measured):e;return{position:{x:b.x-u+o.measured.width*p[0],y:b.y-d+o.measured.height*p[1]},positionAbsolute:b}}async function QX({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(b=>b.id)),o=[];for(const b of n){if(b.deletable===!1)continue;const x=s.has(b.id),_=!x&&b.parentId&&o.find(E=>E.id===b.parentId);(x||_)&&o.push(b)}const l=new Set(e.map(b=>b.id)),u=r.filter(b=>b.deletable!==!1),p=HX(o,u);for(const b of u)l.has(b.id)&&!p.find(_=>_.id===b.id)&&p.push(b);if(!i)return{edges:p,nodes:o};const h=await i({nodes:o,edges:p});return typeof h=="boolean"?h?{edges:p,nodes:o}:{edges:[],nodes:[]}:h}const Qd=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),ou=(t={x:0,y:0},e,n)=>({x:Qd(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Qd(t.y,e[0][1],e[1][1]-(n?.height??0))});function k2(t,e,n){const{width:r,height:i}=Qa(n),{x:s,y:o}=n.internals.positionAbsolute;return ou(t,[[s,o],[s+r,o+i]],e)}const uq=(t,e,n)=>t<e?Qd(Math.abs(t-e),1,e)/e:t>n?-Qd(Math.abs(t-n),1,e)/e:0,I2=(t,e,n=15,r=40)=>{const i=uq(t.x,r,e.width-r)*n,s=uq(t.y,r,e.height-r)*n;return[i,s]},Kv=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),UE=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Gv=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Kd=(t,e=[0,0])=>{const{x:n,y:r}=y1(t)?t.internals.positionAbsolute:bm(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Qb=(t,e=[0,0])=>{const{x:n,y:r}=y1(t)?t.internals.positionAbsolute:bm(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},C2=(t,e)=>Gv(Kv(UE(t),UE(e))),Bh=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},dq=t=>Ro(t.width)&&Ro(t.height)&&Ro(t.x)&&Ro(t.y),Ro=t=>!isNaN(t)&&isFinite(t),KX=(t,e)=>{},Jv=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),xm=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?Jv(l,o):l},T2=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),b1=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),l=n/(t.height*(1+s)),u=Math.min(o,l),d=Qd(u,r,i),p=t.x+t.width/2,h=t.y+t.height/2,b=e/2-p*d,x=n/2-h*d;return{x:b,y:x,zoom:d}},Kb=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Gd(t){return t!==void 0&&t!=="parent"}function Qa(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function R2(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function O2(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function fq(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function eh(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=La(t),l=xm({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:u,y:d}=n?Jv(l,e):l;return{xSnapped:u,ySnapped:d,...l}}const Zv=t=>({width:t.offsetWidth,height:t.offsetHeight}),q2=t=>t?.getRootNode?.()||window?.document,GX=["INPUT","SELECT","TEXTAREA"];function HE(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:GX.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const j2=t=>"clientX"in t,La=(t,e)=>{const n=j2(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},pq=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Zv(o)}})};function A2({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const u=t*.125+i*.375+o*.375+n*.125,d=e*.125+s*.375+l*.375+r*.125,p=Math.abs(u-t),h=Math.abs(d-e);return[u,d,p,h]}function ny(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function hq({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Ft.Left:return[e-ny(e-r,s),n];case Ft.Right:return[e+ny(r-e,s),n];case Ft.Top:return[e,n-ny(n-i,s)];case Ft.Bottom:return[e,n+ny(i-n,s)]}}function v1({sourceX:t,sourceY:e,sourcePosition:n=Ft.Bottom,targetX:r,targetY:i,targetPosition:s=Ft.Top,curvature:o=.25}){const[l,u]=hq({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[d,p]=hq({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[h,b,x,_]=A2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:p});return[`M${t},${e} C${l},${u} ${d},${p} ${r},${i}`,h,b,x,_]}function P2({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[s,l,i,o]}function JX({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function ZX({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Kv(Qb(t),Qb(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Bh(o,Gv(s))>0}const YX=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,XX=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),F2=(t,e)=>{if(!t.source||!t.target)return e;let n;return S2(t)?n={...t}:n={...t,id:YX(t)},XX(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function x1({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,l]=P2({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,l]}const mq={[Ft.Left]:{x:-1,y:0},[Ft.Right]:{x:1,y:0},[Ft.Top]:{x:0,y:-1},[Ft.Bottom]:{x:0,y:1}},eee=({source:t,sourcePosition:e=Ft.Bottom,target:n})=>e===Ft.Left||e===Ft.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},gq=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function tee({source:t,sourcePosition:e=Ft.Bottom,target:n,targetPosition:r=Ft.Top,center:i,offset:s}){const o=mq[e],l=mq[r],u={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},p=eee({source:u,sourcePosition:e,target:d}),h=p.x!==0?"x":"y",b=p[h];let x=[],_,E;const I={x:0,y:0},T={x:0,y:0},[R,O,A,D]=P2({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*l[h]===-1){_=i.x??R,E=i.y??O;const W=[{x:_,y:u.y},{x:_,y:d.y}],P=[{x:u.x,y:E},{x:d.x,y:E}];o[h]===b?x=h==="x"?W:P:x=h==="x"?P:W}else{const W=[{x:u.x,y:d.y}],P=[{x:d.x,y:u.y}];if(h==="x"?x=o.x===b?P:W:x=o.y===b?W:P,e===r){const U=Math.abs(t[h]-n[h]);if(U<=s){const z=Math.min(s-1,s-U);o[h]===b?I[h]=(u[h]>t[h]?-1:1)*z:T[h]=(d[h]>n[h]?-1:1)*z}}if(e!==r){const U=h==="x"?"y":"x",z=o[h]===l[U],ee=u[U]>d[U],Z=u[U]<d[U];(o[h]===1&&(!z&&ee||z&&Z)||o[h]!==1&&(!z&&Z||z&&ee))&&(x=h==="x"?W:P)}const q={x:u.x+I.x,y:u.y+I.y},M={x:d.x+T.x,y:d.y+T.y},F=Math.max(Math.abs(q.x-x[0].x),Math.abs(M.x-x[0].x)),V=Math.max(Math.abs(q.y-x[0].y),Math.abs(M.y-x[0].y));F>=V?(_=(q.x+M.x)/2,E=x[0].y):(_=x[0].x,E=(q.y+M.y)/2)}return[[t,{x:u.x+I.x,y:u.y+I.y},...x,{x:d.x+T.x,y:d.y+T.y},n],_,E,A,D]}function nee(t,e,n,r){const i=Math.min(gq(t,e)/2,gq(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,p=t.y<n.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*p}`}const l=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${s},${o+i*u}Q ${s},${o} ${s+i*l},${o}`}function QE({sourceX:t,sourceY:e,sourcePosition:n=Ft.Bottom,targetX:r,targetY:i,targetPosition:s=Ft.Top,borderRadius:o=5,centerX:l,centerY:u,offset:d=20}){const[p,h,b,x,_]=tee({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:l,y:u},offset:d});return[p.reduce((I,T,R)=>{let O="";return R>0&&R<p.length-1?O=nee(p[R-1],T,p[R+1],o):O=`${R===0?"M":"L"}${T.x} ${T.y}`,I+=O,I},""),h,b,x,_]}function yq(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function ree(t){const{sourceNode:e,targetNode:n}=t;if(!yq(e)||!yq(n))return null;const r=e.internals.handleBounds||bq(e.handles),i=n.internals.handleBounds||bq(n.handles),s=vq(r?.source??[],t.sourceHandle),o=vq(t.connectionMode===Hd.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",Ha.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=s?.position||Ft.Bottom,u=o?.position||Ft.Top,d=zh(e,s,l),p=zh(n,o,u);return{sourceX:d.x,sourceY:d.y,targetX:p.x,targetY:p.y,sourcePosition:l,targetPosition:u}}function bq(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function zh(t,e,n=Ft.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??Qa(t);if(r)return{x:i+o/2,y:s+l/2};switch(e?.position??n){case Ft.Top:return{x:i+o/2,y:s};case Ft.Right:return{x:i+o,y:s+l/2};case Ft.Bottom:return{x:i+o/2,y:s+l};case Ft.Left:return{x:i,y:s+l/2}}}function vq(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function KE(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function iee(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const d=KE(u,e);s.has(d)||(o.push({id:d,color:u.color||n,...u}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const w1={nodeOrigin:[0,0],nodeExtent:Lh,elevateNodesOnSelect:!0,defaults:{}},see={...w1,checkEquality:!0};function _1(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function oee(t,e,n){const r=_1(w1,n);for(const i of t.values())if(i.parentId)S1(i,t,e,r);else{const s=bm(i,r.nodeOrigin),o=Gd(i.extent)?i.extent:r.nodeExtent,l=ou(s,o,Qa(i));i.internals.positionAbsolute=l}}function GE(t,e,n,r){const i=_1(see,r),s=new Map(e),o=i?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let u=s.get(l.id);if(i.checkEquality&&l===u?.internals.userNode)e.set(l.id,u);else{const d=bm(l,i.nodeOrigin),p=Gd(l.extent)?l.extent:i.nodeExtent,h=ou(d,p,Qa(l));u={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:h,handleBounds:l.measured?u?.internals.handleBounds:void 0,z:D2(l,o),userNode:l}},e.set(l.id,u)}l.parentId&&S1(u,e,n,r)}}function aee(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function S1(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=_1(w1,r),l=t.parentId,u=e.get(l);if(!u){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}aee(t,n);const d=i?1e3:0,{x:p,y:h,z:b}=lee(t,u,s,o,d),{positionAbsolute:x}=t.internals,_=p!==x.x||h!==x.y;(_||b!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:_?{x:p,y:h}:x,z:b}})}function D2(t,e){return(Ro(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function lee(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,l=Qa(t),u=bm(t,n),d=Gd(t.extent)?ou(u,t.extent,l):u;let p=ou({x:s+d.x,y:o+d.y},r,l);t.extent==="parent"&&(p=k2(p,l,e));const h=D2(t,i),b=e.internals.z??0;return{x:p.x,y:p.y,z:b>h?b:h}}function E1(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const l=e.get(o.parentId);if(!l)continue;const u=s.get(o.parentId)?.expandedRect??Kd(l),d=C2(u,o.rect);s.set(o.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:o,parent:l},u)=>{const d=l.internals.positionAbsolute,p=Qa(l),h=l.origin??r,b=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,x=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,_=Math.max(p.width,Math.round(o.width)),E=Math.max(p.height,Math.round(o.height)),I=(_-p.width)*h[0],T=(E-p.height)*h[1];(b>0||x>0||I||T)&&(i.push({id:u,type:"position",position:{x:l.position.x-b+I,y:l.position.y-x+T}}),n.get(u)?.forEach(R=>{t.some(O=>O.id===R.id)||i.push({id:R.id,type:"position",position:{x:R.position.x+b,y:R.position.y+x}})})),(p.width<o.width||p.height<o.height||b||x)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:_+(b?h[0]*b-I:0),height:E+(x?h[1]*x-T:0)}})}),i}function cee(t,e,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const u=[],d=window.getComputedStyle(o),{m22:p}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const b of t.values()){const x=e.get(b.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),l=!0;continue}const _=Zv(b.nodeElement),E=x.measured.width!==_.width||x.measured.height!==_.height;if(!!(_.width&&_.height&&(E||!x.internals.handleBounds||b.force))){const T=b.nodeElement.getBoundingClientRect(),R=Gd(x.extent)?x.extent:s;let{positionAbsolute:O}=x.internals;x.parentId&&x.extent==="parent"?O=k2(O,_,e.get(x.parentId)):R&&(O=ou(O,R,_));const A={...x,measured:_,internals:{...x.internals,positionAbsolute:O,handleBounds:{source:pq("source",b.nodeElement,T,p,x.id),target:pq("target",b.nodeElement,T,p,x.id)}}};e.set(x.id,A),x.parentId&&S1(A,e,n,{nodeOrigin:i}),l=!0,E&&(u.push({id:x.id,type:"dimensions",dimensions:_}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:Kd(A,i)}))}}if(h.length>0){const b=E1(h,e,n,i);u.push(...b)}return{changes:u,updatedInternals:l}}async function uee({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function xq(t,e,n,r,i,s){let o=i;const l=r.get(o)||new Map;r.set(o,l.set(n,e)),o=`${i}-${t}`;const u=r.get(o)||new Map;if(r.set(o,u.set(n,e)),s){o=`${i}-${t}-${s}`;const d=r.get(o)||new Map;r.set(o,d.set(n,e))}}function L2(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,u={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l},d=`${i}-${o}--${s}-${l}`,p=`${s}-${l}--${i}-${o}`;xq("source",u,p,t,i,o),xq("target",u,d,t,s,l),e.set(r.id,r)}}function M2(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:M2(n,e):!1}function wq(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function dee(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!M2(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function S0({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,l]of e){const u=n.get(o)?.internals.userNode;u&&i.push({...u,position:l.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function fee({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,u=!1,d={x:0,y:0},p=null,h=!1,b=null,x=!1;function _({noDragClassName:I,handleSelector:T,domNode:R,isSelectable:O,nodeId:A,nodeClickDistance:D=0}){b=ks(R);function L({x:M,y:F},V){const{nodeLookup:U,nodeExtent:z,snapGrid:ee,snapToGrid:Z,nodeOrigin:le,onNodeDrag:se,onSelectionDrag:te,onError:oe,updateNodePositions:X}=e();s={x:M,y:F};let ue=!1,de={x:0,y:0,x2:0,y2:0};if(l.size>1&&z){const ye=vm(l);de=UE(ye)}for(const[ye,we]of l){if(!U.has(ye))continue;let Ne={x:M-we.distance.x,y:F-we.distance.y};Z&&(Ne=Jv(Ne,ee));let ze=[[z[0][0],z[0][1]],[z[1][0],z[1][1]]];if(l.size>1&&z&&!we.extent){const{positionAbsolute:Je}=we.internals,Xe=Je.x-de.x+z[0][0],Ve=Je.x+we.measured.width-de.x2+z[1][0],ct=Je.y-de.y+z[0][1],_t=Je.y+we.measured.height-de.y2+z[1][1];ze=[[Xe,ct],[Ve,_t]]}const{position:Oe,positionAbsolute:De}=N2({nodeId:ye,nextPosition:Ne,nodeLookup:U,nodeExtent:ze,nodeOrigin:le,onError:oe});ue=ue||we.position.x!==Oe.x||we.position.y!==Oe.y,we.position=Oe,we.internals.positionAbsolute=De}if(ue&&(X(l,!0),V&&(r||se||!A&&te))){const[ye,we]=S0({nodeId:A,dragItems:l,nodeLookup:U});r?.(V,l,ye,we),se?.(V,ye,we),A||te?.(V,we)}}async function W(){if(!p)return;const{transform:M,panBy:F,autoPanSpeed:V}=e(),[U,z]=I2(d,p,V);(U!==0||z!==0)&&(s.x=(s.x??0)-U/M[2],s.y=(s.y??0)-z/M[2],await F({x:U,y:z})&&L(s,null)),o=requestAnimationFrame(W)}function P(M){const{nodeLookup:F,multiSelectionActive:V,nodesDraggable:U,transform:z,snapGrid:ee,snapToGrid:Z,selectNodesOnDrag:le,onNodeDragStart:se,onSelectionDragStart:te,unselectNodesAndEdges:oe}=e();h=!0,(!le||!O)&&!V&&A&&(F.get(A)?.selected||oe()),O&&le&&A&&t?.(A);const X=eh(M.sourceEvent,{transform:z,snapGrid:ee,snapToGrid:Z,containerBounds:p});if(s=X,l=dee(F,U,X,A),l.size>0&&(n||se||!A&&te)){const[ue,de]=S0({nodeId:A,dragItems:l,nodeLookup:F});n?.(M.sourceEvent,l,ue,de),se?.(M.sourceEvent,ue,de),A||te?.(M.sourceEvent,de)}}const q=i2().clickDistance(D).on("start",M=>{const{domNode:F,nodeDragThreshold:V,transform:U,snapGrid:z,snapToGrid:ee}=e();p=F?.getBoundingClientRect()||null,x=!1,V===0&&P(M),s=eh(M.sourceEvent,{transform:U,snapGrid:z,snapToGrid:ee,containerBounds:p}),d=La(M.sourceEvent,p)}).on("drag",M=>{const{autoPanOnNodeDrag:F,transform:V,snapGrid:U,snapToGrid:z,nodeDragThreshold:ee,nodeLookup:Z}=e(),le=eh(M.sourceEvent,{transform:V,snapGrid:U,snapToGrid:z,containerBounds:p});if((M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1||A&&!Z.has(A))&&(x=!0),!x){if(!u&&F&&h&&(u=!0,W()),!h){const se=le.xSnapped-(s.x??0),te=le.ySnapped-(s.y??0);Math.sqrt(se*se+te*te)>ee&&P(M)}(s.x!==le.xSnapped||s.y!==le.ySnapped)&&l&&h&&(d=La(M.sourceEvent,p),L(le,M.sourceEvent))}}).on("end",M=>{if(!(!h||x)&&(u=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:F,updateNodePositions:V,onNodeDragStop:U,onSelectionDragStop:z}=e();if(V(l,!1),i||U||!A&&z){const[ee,Z]=S0({nodeId:A,dragItems:l,nodeLookup:F,dragging:!1});i?.(M.sourceEvent,l,ee,Z),U?.(M.sourceEvent,ee,Z),A||z?.(M.sourceEvent,Z)}}}).filter(M=>{const F=M.target;return!M.button&&(!I||!wq(F,`.${I}`,R))&&(!T||wq(F,T,R))});b.call(q)}function E(){b?.on(".drag",null)}return{update:_,destroy:E}}function pee(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())Bh(i,Kd(s))>0&&r.push(s);return r}const hee=250;function mee(t,e,n,r){let i=[],s=1/0;const o=pee(t,n,e+hee);for(const l of o){const u=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of u){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:p,y:h}=zh(l,d,d.position,!0),b=Math.sqrt(Math.pow(p-t.x,2)+Math.pow(h-t.y,2));b>e||(b<s?(i=[{...d,x:p,y:h}],s=b):b===s&&i.push({...d,x:p,y:h}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(u=>u.type===l)??i[0]}return i[0]}function $2(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const l=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],u=(n?l?.find(d=>d.id===n):l?.[0])??null;return u&&s?{...u,...zh(o,u,u.position,!0)}:u}function B2(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function gee(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const z2=()=>!0;function yee(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:u,lib:d,autoPanOnConnect:p,flowId:h,panBy:b,cancelConnection:x,onConnectStart:_,onConnect:E,onConnectEnd:I,isValidConnection:T=z2,onReconnectEnd:R,updateConnection:O,getTransform:A,getFromHandle:D,autoPanSpeed:L}){const W=q2(t.target);let P=0,q;const{x:M,y:F}=La(t),V=W?.elementFromPoint(M,F),U=B2(s,V),z=l?.getBoundingClientRect();if(!z||!U)return;const ee=$2(i,U,r,u,e);if(!ee)return;let Z=La(t,z),le=!1,se=null,te=!1,oe=null;function X(){if(!p||!z)return;const[De,Je]=I2(Z,z,L);b({x:De,y:Je}),P=requestAnimationFrame(X)}const ue={...ee,nodeId:i,type:U,position:ee.position},de=u.get(i),we={inProgress:!0,isValid:null,from:zh(de,ue,Ft.Left,!0),fromHandle:ue,fromPosition:ue.position,fromNode:de,to:Z,toHandle:null,toPosition:cq[ue.position],toNode:null};O(we);let Ne=we;_?.(t,{nodeId:i,handleId:r,handleType:U});function ze(De){if(!D()||!ue){Oe(De);return}const Je=A();Z=La(De,z),q=mee(xm(Z,Je,!1,[1,1]),n,u,ue),le||(X(),le=!0);const Xe=W2(De,{handle:q,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:T,doc:W,lib:d,flowId:h,nodeLookup:u});oe=Xe.handleDomNode,se=Xe.connection,te=gee(!!q,Xe.isValid);const Ve={...Ne,isValid:te,to:q&&te?T2({x:q.x,y:q.y},Je):Z,toHandle:Xe.toHandle,toPosition:te&&Xe.toHandle?Xe.toHandle.position:cq[ue.position],toNode:Xe.toHandle?u.get(Xe.toHandle.nodeId):null};te&&q&&Ne.toHandle&&Ve.toHandle&&Ne.toHandle.type===Ve.toHandle.type&&Ne.toHandle.nodeId===Ve.toHandle.nodeId&&Ne.toHandle.id===Ve.toHandle.id&&Ne.to.x===Ve.to.x&&Ne.to.y===Ve.to.y||(O(Ve),Ne=Ve)}function Oe(De){(q||oe)&&se&&te&&E?.(se);const{inProgress:Je,...Xe}=Ne,Ve={...Xe,toPosition:Ne.toHandle?Ne.toPosition:null};I?.(De,Ve),s&&R?.(De,Ve),x(),cancelAnimationFrame(P),le=!1,te=!1,se=null,oe=null,W.removeEventListener("mousemove",ze),W.removeEventListener("mouseup",Oe),W.removeEventListener("touchmove",ze),W.removeEventListener("touchend",Oe)}W.addEventListener("mousemove",ze),W.addEventListener("mouseup",Oe),W.addEventListener("touchmove",ze),W.addEventListener("touchend",Oe)}function W2(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:u,isValidConnection:d=z2,nodeLookup:p}){const h=s==="target",b=e?o.querySelector(`.${l}-flow__handle[data-id="${u}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x,y:_}=La(t),E=o.elementFromPoint(x,_),I=E?.classList.contains(`${l}-flow__handle`)?E:b,T={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const R=B2(void 0,I),O=I.getAttribute("data-nodeid"),A=I.getAttribute("data-handleid"),D=I.classList.contains("connectable"),L=I.classList.contains("connectableend");if(!O||!R)return T;const W={source:h?O:r,sourceHandle:h?A:i,target:h?r:O,targetHandle:h?i:A};T.connection=W;const q=D&&L&&(n===Hd.Strict?h&&R==="source"||!h&&R==="target":O!==r||A!==i);T.isValid=q&&d(W),T.toHandle=$2(O,R,A,p,n,!1)}return T}const JE={onPointerDown:yee,isValid:W2};function bee({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=ks(t);function s({translateExtent:l,width:u,height:d,zoomStep:p=10,pannable:h=!0,zoomable:b=!0,inversePan:x=!1}){const _=O=>{const A=n();if(O.sourceEvent.type!=="wheel"||!e)return;const D=-O.sourceEvent.deltaY*(O.sourceEvent.deltaMode===1?.05:O.sourceEvent.deltaMode?1:.002)*p,L=A[2]*Math.pow(2,D);e.scaleTo(L)};let E=[0,0];const I=O=>{(O.sourceEvent.type==="mousedown"||O.sourceEvent.type==="touchstart")&&(E=[O.sourceEvent.clientX??O.sourceEvent.touches[0].clientX,O.sourceEvent.clientY??O.sourceEvent.touches[0].clientY])},T=O=>{const A=n();if(O.sourceEvent.type!=="mousemove"&&O.sourceEvent.type!=="touchmove"||!e)return;const D=[O.sourceEvent.clientX??O.sourceEvent.touches[0].clientX,O.sourceEvent.clientY??O.sourceEvent.touches[0].clientY],L=[D[0]-E[0],D[1]-E[1]];E=D;const W=r()*Math.max(A[2],Math.log(A[2]))*(x?-1:1),P={x:A[0]-L[0]*W,y:A[1]-L[1]*W},q=[[0,0],[u,d]];e.setViewportConstrained({x:P.x,y:P.y,zoom:A[2]},q,l)},R=v2().on("start",I).on("zoom",h?T:null).on("zoom.wheel",b?_:null);i.call(R,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:So}}const vee=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Yv=t=>({x:t.x,y:t.y,zoom:t.k}),E0=({x:t,y:e,zoom:n})=>Qv.translate(t,e).scale(n),dd=(t,e)=>t.target.closest(`.${e}`),V2=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),N0=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},U2=t=>{const e=t.ctrlKey&&Kb()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function xee({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:d}){return p=>{if(dd(p,e))return!1;p.preventDefault(),p.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(p.ctrlKey&&o){const I=So(p),T=U2(p),R=h*Math.pow(2,T);r.scaleTo(n,R,I,p);return}const b=p.deltaMode===1?20:1;let x=i===Kc.Vertical?0:p.deltaX*b,_=i===Kc.Horizontal?0:p.deltaY*b;!Kb()&&p.shiftKey&&i!==Kc.Vertical&&(x=p.deltaY*b,_=0),r.translateBy(n,-(x/h)*s,-(_/h)*s,{internal:!0});const E=Yv(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l?.(p,E)),t.isPanScrolling&&(u?.(p,E),t.panScrollTimeout=setTimeout(()=>{d?.(p,E),t.isPanScrolling=!1},150))}}function wee({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||dd(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function _ee({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Yv(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function See({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&V2(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,Yv(s.transform))}}function Eee({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&V2(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&vee(t.prevViewport,o.transform))){const l=Yv(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,l)},n?150:0)}}}function Nee({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:d}){return p=>{const h=t||e,b=n&&p.ctrlKey;if(p.button===1&&p.type==="mousedown"&&(dd(p,`${d}-flow__node`)||dd(p,`${d}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||o||dd(p,l)&&p.type==="wheel"||dd(p,u)&&(p.type!=="wheel"||i&&p.type==="wheel"&&!t)||!n&&p.ctrlKey&&p.type==="wheel")return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!h&&!i&&!b&&p.type==="wheel"||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||p.type==="wheel")&&x}}function kee({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),b=v2().clickDistance(!Ro(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),x=ks(t).call(b);O({x:s.x,y:s.y,zoom:Qd(s.zoom,e,n)},[[0,0],[h.width,h.height]],i);const _=x.on("wheel.zoom"),E=x.on("dblclick.zoom");b.wheelDelta(U2);function I(V,U){return x?new Promise(z=>{b?.transform(N0(x,U?.duration,()=>z(!0)),V)}):Promise.resolve(!1)}function T({noWheelClassName:V,noPanClassName:U,onPaneContextMenu:z,userSelectionActive:ee,panOnScroll:Z,panOnDrag:le,panOnScrollMode:se,panOnScrollSpeed:te,preventScrolling:oe,zoomOnPinch:X,zoomOnScroll:ue,zoomOnDoubleClick:de,zoomActivationKeyPressed:ye,lib:we,onTransformChange:Ne}){ee&&!p.isZoomingOrPanning&&R();const Oe=Z&&!ye&&!ee?xee({zoomPanValues:p,noWheelClassName:V,d3Selection:x,d3Zoom:b,panOnScrollMode:se,panOnScrollSpeed:te,zoomOnPinch:X,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:u}):wee({noWheelClassName:V,preventScrolling:oe,d3ZoomHandler:_});if(x.on("wheel.zoom",Oe,{passive:!1}),!ee){const Je=_ee({zoomPanValues:p,onDraggingChange:d,onPanZoomStart:l});b.on("start",Je);const Xe=See({zoomPanValues:p,panOnDrag:le,onPaneContextMenu:!!z,onPanZoom:o,onTransformChange:Ne});b.on("zoom",Xe);const Ve=Eee({zoomPanValues:p,panOnDrag:le,panOnScroll:Z,onPaneContextMenu:z,onPanZoomEnd:u,onDraggingChange:d});b.on("end",Ve)}const De=Nee({zoomActivationKeyPressed:ye,panOnDrag:le,zoomOnScroll:ue,panOnScroll:Z,zoomOnDoubleClick:de,zoomOnPinch:X,userSelectionActive:ee,noPanClassName:U,noWheelClassName:V,lib:we});b.filter(De),de?x.on("dblclick.zoom",E):x.on("dblclick.zoom",null)}function R(){b.on("zoom",null)}async function O(V,U,z){const ee=E0(V),Z=b?.constrain()(ee,U,z);return Z&&await I(Z),new Promise(le=>le(Z))}async function A(V,U){const z=E0(V);return await I(z,U),new Promise(ee=>ee(z))}function D(V){if(x){const U=E0(V),z=x.property("__zoom");(z.k!==V.zoom||z.x!==V.x||z.y!==V.y)&&b?.transform(x,U,null,{sync:!0})}}function L(){const V=x?b2(x.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function W(V,U){return x?new Promise(z=>{b?.scaleTo(N0(x,U?.duration,()=>z(!0)),V)}):Promise.resolve(!1)}function P(V,U){return x?new Promise(z=>{b?.scaleBy(N0(x,U?.duration,()=>z(!0)),V)}):Promise.resolve(!1)}function q(V){b?.scaleExtent(V)}function M(V){b?.translateExtent(V)}function F(V){const U=!Ro(V)||V<0?0:V;b?.clickDistance(U)}return{update:T,destroy:R,setViewport:A,setViewportConstrained:O,getViewport:L,scaleTo:W,scaleBy:P,setScaleExtent:q,setTranslateExtent:M,syncViewport:D,setClickDistance:F}}var th;(function(t){t.Line="line",t.Handle="handle"})(th||(th={}));function Iee({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,l=n-r,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(u[0]=u[0]*-1),l&&s&&(u[1]=u[1]*-1),u}function Cee(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function xl(t,e){return Math.max(0,e-t)}function wl(t,e){return Math.max(0,t-e)}function ry(t,e,n){return Math.max(0,e-t,t-n)}function _q(t,e){return t?!e:e}function Tee(t,e,n,r,i,s,o,l){let{affectsX:u,affectsY:d}=e;const{isHorizontal:p,isVertical:h}=e,b=p&&h,{xSnapped:x,ySnapped:_}=n,{minWidth:E,maxWidth:I,minHeight:T,maxHeight:R}=r,{x:O,y:A,width:D,height:L,aspectRatio:W}=t;let P=Math.floor(p?x-t.pointerX:0),q=Math.floor(h?_-t.pointerY:0);const M=D+(u?-P:P),F=L+(d?-q:q),V=-s[0]*D,U=-s[1]*L;let z=ry(M,E,I),ee=ry(F,T,R);if(o){let se=0,te=0;u&&P<0?se=xl(O+P+V,o[0][0]):!u&&P>0&&(se=wl(O+M+V,o[1][0])),d&&q<0?te=xl(A+q+U,o[0][1]):!d&&q>0&&(te=wl(A+F+U,o[1][1])),z=Math.max(z,se),ee=Math.max(ee,te)}if(l){let se=0,te=0;u&&P>0?se=wl(O+P,l[0][0]):!u&&P<0&&(se=xl(O+M,l[1][0])),d&&q>0?te=wl(A+q,l[0][1]):!d&&q<0&&(te=xl(A+F,l[1][1])),z=Math.max(z,se),ee=Math.max(ee,te)}if(i){if(p){const se=ry(M/W,T,R)*W;if(z=Math.max(z,se),o){let te=0;!u&&!d||u&&!d&&b?te=wl(A+U+M/W,o[1][1])*W:te=xl(A+U+(u?P:-P)/W,o[0][1])*W,z=Math.max(z,te)}if(l){let te=0;!u&&!d||u&&!d&&b?te=xl(A+M/W,l[1][1])*W:te=wl(A+(u?P:-P)/W,l[0][1])*W,z=Math.max(z,te)}}if(h){const se=ry(F*W,E,I)/W;if(ee=Math.max(ee,se),o){let te=0;!u&&!d||d&&!u&&b?te=wl(O+F*W+V,o[1][0])/W:te=xl(O+(d?q:-q)*W+V,o[0][0])/W,ee=Math.max(ee,te)}if(l){let te=0;!u&&!d||d&&!u&&b?te=xl(O+F*W,l[1][0])/W:te=wl(O+(d?q:-q)*W,l[0][0])/W,ee=Math.max(ee,te)}}}q=q+(q<0?ee:-ee),P=P+(P<0?z:-z),i&&(b?M>F*W?q=(_q(u,d)?-P:P)/W:P=(_q(u,d)?-q:q)*W:p?(q=P/W,d=u):(P=q*W,u=d));const Z=u?O+P:O,le=d?A+q:A;return{width:D+(u?-P:P),height:L+(d?-q:q),x:s[0]*P*(u?-1:1)+Z,y:s[1]*q*(d?-1:1)+le}}const H2={width:0,height:0,x:0,y:0},Ree={...H2,pointerX:0,pointerY:0,aspectRatio:1};function Oee(t){return[[0,0],[t.measured.width,t.measured.height]]}function qee(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,l=n[0]*s,u=n[1]*o;return[[r-l,i-u],[r+s-l,i+o-u]]}function jee({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=ks(t);function o({controlPosition:u,boundaries:d,keepAspectRatio:p,onResizeStart:h,onResize:b,onResizeEnd:x,shouldResize:_}){let E={...H2},I={...Ree};const T=Cee(u);let R,O=null,A=[],D,L,W;const P=i2().on("start",q=>{const{nodeLookup:M,transform:F,snapGrid:V,snapToGrid:U,nodeOrigin:z,paneDomNode:ee}=n();if(R=M.get(e),!R)return;O=ee?.getBoundingClientRect()??null;const{xSnapped:Z,ySnapped:le}=eh(q.sourceEvent,{transform:F,snapGrid:V,snapToGrid:U,containerBounds:O});E={width:R.measured.width??0,height:R.measured.height??0,x:R.position.x??0,y:R.position.y??0},I={...E,pointerX:Z,pointerY:le,aspectRatio:E.width/E.height},D=void 0,R.parentId&&(R.extent==="parent"||R.expandParent)&&(D=M.get(R.parentId),L=D&&R.extent==="parent"?Oee(D):void 0),A=[],W=void 0;for(const[se,te]of M)if(te.parentId===e&&(A.push({id:se,position:{...te.position},extent:te.extent}),te.extent==="parent"||te.expandParent)){const oe=qee(te,R,te.origin??z);W?W=[[Math.min(oe[0][0],W[0][0]),Math.min(oe[0][1],W[0][1])],[Math.max(oe[1][0],W[1][0]),Math.max(oe[1][1],W[1][1])]]:W=oe}h?.(q,{...E})}).on("drag",q=>{const{transform:M,snapGrid:F,snapToGrid:V,nodeOrigin:U}=n(),z=eh(q.sourceEvent,{transform:M,snapGrid:F,snapToGrid:V,containerBounds:O}),ee=[];if(!R)return;const{x:Z,y:le,width:se,height:te}=E,oe={},X=R.origin??U,{width:ue,height:de,x:ye,y:we}=Tee(I,T,z,d,p,X,L,W),Ne=ue!==se,ze=de!==te,Oe=ye!==Z&&Ne,De=we!==le&&ze;if(!Oe&&!De&&!Ne&&!ze)return;if((Oe||De||X[0]===1||X[1]===1)&&(oe.x=Oe?ye:E.x,oe.y=De?we:E.y,E.x=oe.x,E.y=oe.y,A.length>0)){const ct=ye-Z,_t=we-le;for(const Tt of A)Tt.position={x:Tt.position.x-ct+X[0]*(ue-se),y:Tt.position.y-_t+X[1]*(de-te)},ee.push(Tt)}if((Ne||ze)&&(oe.width=Ne?ue:E.width,oe.height=ze?de:E.height,E.width=oe.width,E.height=oe.height),D&&R.expandParent){const ct=X[0]*(oe.width??0);oe.x&&oe.x<ct&&(E.x=ct,I.x=I.x-(oe.x-ct));const _t=X[1]*(oe.height??0);oe.y&&oe.y<_t&&(E.y=_t,I.y=I.y-(oe.y-_t))}const Je=Iee({width:E.width,prevWidth:se,height:E.height,prevHeight:te,affectsX:T.affectsX,affectsY:T.affectsY}),Xe={...E,direction:Je};_?.(q,Xe)!==!1&&(b?.(q,Xe),r(oe,ee))}).on("end",q=>{x?.(q,{...E}),i?.()});s.call(P)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}const Sq=t=>{let e;const n=new Set,r=(p,h)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const x=e;e=h??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(_=>_(e,x))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{n.clear()}},d=e=t(r,i,u);return u},Aee=t=>t?Sq(t):Sq,{useDebugValue:Pee}=$n,{useSyncExternalStoreWithSelector:Fee}=CB,Dee=t=>t;function Q2(t,e=Dee,n){const r=Fee(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Pee(r),r}const Eq=(t,e)=>{const n=Aee(t),r=(i,s=e)=>Q2(n,i,s);return Object.assign(r,n),r},Lee=(t,e)=>t?Eq(t,e):Eq;function Cr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const Xv=K.createContext(null),Mee=Xv.Provider,K2=Ha.error001();function Cn(t,e){const n=K.useContext(Xv);if(n===null)throw new Error(K2);return Q2(n,t,e)}function xr(){const t=K.useContext(Xv);if(t===null)throw new Error(K2);return K.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Nq={display:"none"},$ee={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},G2="react-flow__node-desc",J2="react-flow__edge-desc",Bee="react-flow__aria-live",zee=t=>t.ariaLiveMessage;function Wee({rfId:t}){const e=Cn(zee);return f.jsx("div",{id:`${Bee}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:$ee,children:e})}function Vee({rfId:t,disableKeyboardA11y:e}){return f.jsxs(f.Fragment,{children:[f.jsxs("div",{id:`${G2}-${t}`,style:Nq,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),f.jsx("div",{id:`${J2}-${t}`,style:Nq,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&f.jsx(Wee,{rfId:t})]})}const Uee=t=>t.userSelectionActive?"none":"all",N1=K.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=Cn(Uee),l=`${t}`.split("-");return f.jsx("div",{className:ei(["react-flow__panel",n,...l]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});function Hee({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:f.jsx(N1,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:f.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Qee=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},iy=t=>t.id;function Kee(t,e){return Cr(t.selectedNodes.map(iy),e.selectedNodes.map(iy))&&Cr(t.selectedEdges.map(iy),e.selectedEdges.map(iy))}function Gee({onSelectionChange:t}){const e=xr(),{selectedNodes:n,selectedEdges:r}=Cn(Qee,Kee);return K.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const Jee=t=>!!t.onSelectionChangeHandlers;function Zee({onSelectionChange:t}){const e=Cn(Jee);return t||e?f.jsx(Gee,{onSelectionChange:t}):null}const Z2=[0,0],Yee={x:0,y:0,zoom:1},Xee=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],kq=[...Xee,"rfId"],ete=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),Iq={translateExtent:Lh,nodeOrigin:Z2,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function tte(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u,setPaneClickDistance:d}=Cn(ete,Cr),p=xr();K.useEffect(()=>(u(t.defaultNodes,t.defaultEdges),()=>{h.current=Iq,l()}),[]);const h=K.useRef(Iq);return K.useEffect(()=>{for(const b of kq){const x=t[b],_=h.current[b];x!==_&&(typeof t[b]>"u"||(b==="nodes"?e(x):b==="edges"?n(x):b==="minZoom"?r(x):b==="maxZoom"?i(x):b==="translateExtent"?s(x):b==="nodeExtent"?o(x):b==="paneClickDistance"?d(x):b==="fitView"?p.setState({fitViewOnInit:x}):b==="fitViewOptions"?p.setState({fitViewOnInitOptions:x}):p.setState({[b]:x})))}h.current=t},kq.map(b=>t[b])),null}function Cq(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function nte(t){const[e,n]=K.useState(t==="system"?null:t);return K.useEffect(()=>{if(t!=="system"){n(t);return}const r=Cq(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:Cq()?.matches?"dark":"light"}const Tq=typeof document<"u"?document:null;function Wh(t=null,e={target:Tq,actInsideInputWithModifier:!0}){const[n,r]=K.useState(!1),i=K.useRef(!1),s=K.useRef(new Set([])),[o,l]=K.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=d.reduce((h,b)=>h.concat(...b),[]);return[d,p]}return[[],[]]},[t]);return K.useEffect(()=>{const u=e?.target||Tq;if(t!==null){const d=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&HE(b))return!1;const _=Oq(b.code,l);s.current.add(b[_]),Rq(o,s.current,!1)&&(b.preventDefault(),r(!0))},p=b=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&HE(b))return!1;const _=Oq(b.code,l);Rq(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[_]),b.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",p),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",p),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function Rq(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function Oq(t,e){return e.includes(t)?"code":"key"}const rte=()=>{const t=xr();return K.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const l=WE(n,e),{width:u,height:d}=Zv(o);return VE({nodes:l,width:u,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:l}=t.getState(),u=typeof r?.zoom<"u"?r.zoom:o,d=i/2-e*u,p=s/2-n*u;return l?(await l.setViewport({x:d,y:p,zoom:u},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),u=b1(e,r,i,s,o,n?.padding??.1);return l?(await l.setViewport(u,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:l}=s.getBoundingClientRect(),u={x:e.x-o,y:e.y-l};return xm(u,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=T2(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function Y2(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const u of o)ite(u,l);n.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function ite(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function k1(t,e){return Y2(t,e)}function X2(t,e){return Y2(t,e)}function qc(t,e){return{id:t,type:"select",selected:e}}function fd(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(qc(s.id,o)))}return r}function qq({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),l=o?.internals?.userNode??o;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function jq(t){return{id:t.id,type:"remove"}}const Aq=t=>VX(t),ste=t=>S2(t);function eL(t){return K.forwardRef(t)}const ote=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Pq(t){const[e,n]=K.useState(BigInt(0)),[r]=K.useState(()=>ate(()=>n(i=>i+BigInt(1))));return ote(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function ate(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const tL=K.createContext(null);function lte({children:t}){const e=xr(),n=K.useCallback(l=>{const{nodes:u=[],setNodes:d,hasDefaultNodes:p,onNodesChange:h,nodeLookup:b}=e.getState();let x=u;for(const _ of l)x=typeof _=="function"?_(x):_;p?d(x):h&&h(qq({items:x,lookup:b}))},[]),r=Pq(n),i=K.useCallback(l=>{const{edges:u=[],setEdges:d,hasDefaultEdges:p,onEdgesChange:h,edgeLookup:b}=e.getState();let x=u;for(const _ of l)x=typeof _=="function"?_(x):_;p?d(x):h&&h(qq({items:x,lookup:b}))},[]),s=Pq(i),o=K.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return f.jsx(tL.Provider,{value:o,children:t})}function cte(){const t=K.useContext(tL);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const ute=t=>!!t.panZoom;function yf(){const t=rte(),e=xr(),n=cte(),r=Cn(ute),i=K.useMemo(()=>{const s=h=>e.getState().nodeLookup.get(h),o=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},u=h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState(),_=Aq(h)?h:b.get(h.id),E=_.parentId?O2(_.position,_.measured,_.parentId,b,x):_.position,I={..._,position:E,width:_.measured?.width??_.width,height:_.measured?.height??_.height};return Kd(I)},d=(h,b,x={replace:!1})=>{o(_=>_.map(E=>{if(E.id===h){const I=typeof b=="function"?b(E):b;return x.replace&&Aq(I)?I:{...E,...I}}return E}))},p=(h,b,x={replace:!1})=>{l(_=>_.map(E=>{if(E.id===h){const I=typeof b=="function"?b(E):b;return x.replace&&ste(I)?I:{...E,...I}}return E}))};return{getNodes:()=>e.getState().nodes.map(h=>({...h})),getNode:h=>s(h)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:h=[]}=e.getState();return h.map(b=>({...b}))},getEdge:h=>e.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const b=Array.isArray(h)?h:[h];n.nodeQueue.push(x=>[...x,...b])},addEdges:h=>{const b=Array.isArray(h)?h:[h];n.edgeQueue.push(x=>[...x,...b])},toObject:()=>{const{nodes:h=[],edges:b=[],transform:x}=e.getState(),[_,E,I]=x;return{nodes:h.map(T=>({...T})),edges:b.map(T=>({...T})),viewport:{x:_,y:E,zoom:I}}},deleteElements:async({nodes:h=[],edges:b=[]})=>{const{nodes:x,edges:_,onNodesDelete:E,onEdgesDelete:I,triggerNodeChanges:T,triggerEdgeChanges:R,onDelete:O,onBeforeDelete:A}=e.getState(),{nodes:D,edges:L}=await QX({nodesToRemove:h,edgesToRemove:b,nodes:x,edges:_,onBeforeDelete:A}),W=L.length>0,P=D.length>0;if(W){const q=L.map(jq);I?.(L),R(q)}if(P){const q=D.map(jq);E?.(D),T(q)}return(P||W)&&O?.({nodes:D,edges:L}),{deletedNodes:D,deletedEdges:L}},getIntersectingNodes:(h,b=!0,x)=>{const _=dq(h),E=_?h:u(h),I=x!==void 0;return E?(x||e.getState().nodes).filter(T=>{const R=e.getState().nodeLookup.get(T.id);if(R&&!_&&(T.id===h.id||!R.internals.positionAbsolute))return!1;const O=Kd(I?T:R),A=Bh(O,E);return b&&A>0||A>=E.width*E.height}):[]},isNodeIntersecting:(h,b,x=!0)=>{const E=dq(h)?h:u(h);if(!E)return!1;const I=Bh(E,b);return x&&I>0||I>=E.width*E.height},updateNode:d,updateNodeData:(h,b,x={replace:!1})=>{d(h,_=>{const E=typeof b=="function"?b(_):b;return x.replace?{..._,data:E}:{..._,data:{..._.data,...E}}},x)},updateEdge:p,updateEdgeData:(h,b,x={replace:!1})=>{p(h,_=>{const E=typeof b=="function"?b(_):b;return x.replace?{..._,data:E}:{..._,data:{..._.data,...E}}},x)},getNodesBounds:h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState();return UX(h,{nodeLookup:b,nodeOrigin:x})},getHandleConnections:({type:h,id:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}-${h}${b?`-${b}`:""}`)?.values()??[]),getNodeConnections:({type:h,handleId:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}${h?b?`-${h}-${b}`:`-${h}`:""}`)?.values()??[])}},[]);return K.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const Fq=t=>t.selected,dte={actInsideInputWithModifier:!1},fte=typeof window<"u"?window:void 0;function pte({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=xr(),{deleteElements:r}=yf(),i=Wh(t,dte),s=Wh(e,{target:fte});K.useEffect(()=>{if(i){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(Fq),edges:o.filter(Fq)}),n.setState({nodesSelectionActive:!1})}},[i]),K.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function hte(t){const e=xr();K.useEffect(()=>{const n=()=>{if(!t.current)return!1;const r=Zv(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",Ha.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const ex={position:"absolute",width:"100%",height:"100%",top:0,left:0},mte=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function gte({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Kc.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:d,minZoom:p,maxZoom:h,zoomActivationKeyCode:b,preventScrolling:x=!0,children:_,noWheelClassName:E,noPanClassName:I,onViewportChange:T,isControlledViewport:R,paneClickDistance:O}){const A=xr(),D=K.useRef(null),{userSelectionActive:L,lib:W}=Cn(mte,Cr),P=Wh(b),q=K.useRef();hte(D);const M=K.useCallback(F=>{T?.({x:F[0],y:F[1],zoom:F[2]}),R||A.setState({transform:F})},[T,R]);return K.useEffect(()=>{if(D.current){q.current=kee({domNode:D.current,minZoom:p,maxZoom:h,translateExtent:d,viewport:u,paneClickDistance:O,onDraggingChange:z=>A.setState({paneDragging:z}),onPanZoomStart:(z,ee)=>{const{onViewportChangeStart:Z,onMoveStart:le}=A.getState();le?.(z,ee),Z?.(ee)},onPanZoom:(z,ee)=>{const{onViewportChange:Z,onMove:le}=A.getState();le?.(z,ee),Z?.(ee)},onPanZoomEnd:(z,ee)=>{const{onViewportChangeEnd:Z,onMoveEnd:le}=A.getState();le?.(z,ee),Z?.(ee)}});const{x:F,y:V,zoom:U}=q.current.getViewport();return A.setState({panZoom:q.current,transform:[F,V,U],domNode:D.current.closest(".react-flow")}),()=>{q.current?.destroy()}}},[]),K.useEffect(()=>{q.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:x,noPanClassName:I,userSelectionActive:L,noWheelClassName:E,lib:W,onTransformChange:M})},[t,e,n,r,i,s,o,l,P,x,I,L,E,W,M]),f.jsx("div",{className:"react-flow__renderer",ref:D,style:ex,children:_})}const yte=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function bte(){const{userSelectionActive:t,userSelectionRect:e}=Cn(yte,Cr);return t&&e?f.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const k0=(t,e)=>n=>{n.target===e.current&&t?.(n)},vte=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function xte({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Mh.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:p,onPaneMouseMove:h,onPaneMouseLeave:b,children:x}){const _=xr(),{userSelectionActive:E,elementsSelectable:I,dragging:T}=Cn(vte,Cr),R=I&&(t||E),O=K.useRef(null),A=K.useRef(),D=K.useRef(new Set),L=K.useRef(new Set),W=K.useRef(!1),P=K.useRef(!1),q=Z=>{if(W.current){W.current=!1;return}l?.(Z),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},M=Z=>{if(Array.isArray(r)&&r?.includes(2)){Z.preventDefault();return}u?.(Z)},F=d?Z=>d(Z):void 0,V=Z=>{const{resetSelectedElements:le,domNode:se}=_.getState();if(A.current=se?.getBoundingClientRect(),!I||!t||Z.button!==0||Z.target!==O.current||!A.current)return;Z.target?.setPointerCapture?.(Z.pointerId),P.current=!0,W.current=!1;const{x:te,y:oe}=La(Z.nativeEvent,A.current);le(),_.setState({userSelectionRect:{width:0,height:0,startX:te,startY:oe,x:te,y:oe}}),s?.(Z)},U=Z=>{const{userSelectionRect:le,transform:se,nodeLookup:te,edgeLookup:oe,connectionLookup:X,triggerNodeChanges:ue,triggerEdgeChanges:de,defaultEdgeOptions:ye}=_.getState();if(!A.current||!le)return;W.current=!0;const{x:we,y:Ne}=La(Z.nativeEvent,A.current),{startX:ze,startY:Oe}=le,De={startX:ze,startY:Oe,x:we<ze?we:ze,y:Ne<Oe?Ne:Oe,width:Math.abs(we-ze),height:Math.abs(Ne-Oe)},Je=D.current,Xe=L.current;D.current=new Set(E2(te,De,se,n===Mh.Partial,!0).map(ct=>ct.id)),L.current=new Set;const Ve=ye?.selectable??!0;for(const ct of D.current){const _t=X.get(ct);if(_t)for(const{edgeId:Tt}of _t.values()){const Ut=oe.get(Tt);Ut&&(Ut.selectable??Ve)&&L.current.add(Tt)}}if(!fq(Je,D.current)){const ct=fd(te,D.current,!0);ue(ct)}if(!fq(Xe,L.current)){const ct=fd(oe,L.current);de(ct)}_.setState({userSelectionRect:De,userSelectionActive:!0,nodesSelectionActive:!1})},z=Z=>{if(Z.button!==0||!P.current)return;Z.target?.releasePointerCapture?.(Z.pointerId);const{userSelectionRect:le}=_.getState();!E&&le&&Z.target===O.current&&q?.(Z),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),o?.(Z),(e||i)&&(W.current=!1),P.current=!1},ee=r===!0||Array.isArray(r)&&r.includes(0);return f.jsxs("div",{className:ei(["react-flow__pane",{draggable:ee,dragging:T,selection:t}]),onClick:R?void 0:k0(q,O),onContextMenu:k0(M,O),onWheel:k0(F,O),onPointerEnter:R?void 0:p,onPointerDown:R?V:h,onPointerMove:R?U:h,onPointerUp:R?z:void 0,onPointerLeave:b,ref:O,style:ex,children:[x,f.jsx(bte,{})]})}function ZE({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:u}=e.getState(),d=l.get(t);if(!d){u?.("012",Ha.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function nL({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=xr(),[u,d]=K.useState(!1),p=K.useRef();return K.useEffect(()=>{p.current=fee({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{ZE({id:h,store:l,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),K.useEffect(()=>{if(e)p.current?.destroy();else if(t.current)return p.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{p.current?.destroy()}},[n,r,e,s,t,i]),u}const wte=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function rL(){const t=xr();return K.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:d,nodeOrigin:p}=t.getState(),h=new Map,b=wte(o),x=i?s[0]:5,_=i?s[1]:5,E=n.direction.x*x*n.factor,I=n.direction.y*_*n.factor;for(const[,T]of d){if(!b(T))continue;let R={x:T.internals.positionAbsolute.x+E,y:T.internals.positionAbsolute.y+I};i&&(R=Jv(R,s));const{position:O,positionAbsolute:A}=N2({nodeId:T.id,nextPosition:R,nodeLookup:d,nodeExtent:r,nodeOrigin:p,onError:l});T.position=O,T.internals.positionAbsolute=A,h.set(T.id,T)}u(h)},[])}const I1=K.createContext(null),_te=I1.Provider;I1.Consumer;const iL=()=>K.useContext(I1),Ste=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),Ete=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:u,isValid:d}=o,p=u?.nodeId===t&&u?.id===e&&u?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:p,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Hd.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,valid:p&&d}};function Nte({type:t="source",position:e=Ft.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:u,className:d,onMouseDown:p,onTouchStart:h,...b},x){const _=o||null,E=t==="target",I=xr(),T=iL(),{connectOnClick:R,noPanClassName:O,rfId:A}=Cn(Ste,Cr),{connectingFrom:D,connectingTo:L,clickConnecting:W,isPossibleEndHandle:P,connectionInProcess:q,valid:M}=Cn(Ete(T,_,t),Cr);T||I.getState().onError?.("010",Ha.error010());const F=z=>{const{defaultEdgeOptions:ee,onConnect:Z,hasDefaultEdges:le}=I.getState(),se={...ee,...z};if(le){const{edges:te,setEdges:oe}=I.getState();oe(F2(se,te))}Z?.(se),l?.(se)},V=z=>{if(!T)return;const ee=j2(z.nativeEvent);if(i&&(ee&&z.button===0||!ee)){const Z=I.getState();JE.onPointerDown(z.nativeEvent,{autoPanOnConnect:Z.autoPanOnConnect,connectionMode:Z.connectionMode,connectionRadius:Z.connectionRadius,domNode:Z.domNode,nodeLookup:Z.nodeLookup,lib:Z.lib,isTarget:E,handleId:_,nodeId:T,flowId:Z.rfId,panBy:Z.panBy,cancelConnection:Z.cancelConnection,onConnectStart:Z.onConnectStart,onConnectEnd:Z.onConnectEnd,updateConnection:Z.updateConnection,onConnect:F,isValidConnection:n||Z.isValidConnection,getTransform:()=>I.getState().transform,getFromHandle:()=>I.getState().connection.fromHandle,autoPanSpeed:Z.autoPanSpeed})}ee?p?.(z):h?.(z)},U=z=>{const{onClickConnectStart:ee,onClickConnectEnd:Z,connectionClickStartHandle:le,connectionMode:se,isValidConnection:te,lib:oe,rfId:X,nodeLookup:ue,connection:de}=I.getState();if(!T||!le&&!i)return;if(!le){ee?.(z.nativeEvent,{nodeId:T,handleId:_,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:T,type:t,id:_}});return}const ye=q2(z.target),we=n||te,{connection:Ne,isValid:ze}=JE.isValid(z.nativeEvent,{handle:{nodeId:T,id:_,type:t},connectionMode:se,fromNodeId:le.nodeId,fromHandleId:le.id||null,fromType:le.type,isValidConnection:we,flowId:X,doc:ye,lib:oe,nodeLookup:ue});ze&&Ne&&F(Ne);const Oe=structuredClone(de);delete Oe.inProgress,Oe.toPosition=Oe.toHandle?Oe.toHandle.position:null,Z?.(z,Oe),I.setState({connectionClickStartHandle:null})};return f.jsx("div",{"data-handleid":_,"data-nodeid":T,"data-handlepos":e,"data-id":`${A}-${T}-${_}-${t}`,className:ei(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",O,d,{source:!E,target:E,connectable:r,connectablestart:i,connectableend:s,clickconnecting:W,connectingfrom:D,connectingto:L,valid:M,connectionindicator:r&&(!q||P)&&(q?s:i)}]),onMouseDown:V,onTouchStart:V,onClick:R?U:void 0,ref:x,...b,children:u})}const ao=K.memo(eL(Nte));function kte({data:t,isConnectable:e,sourcePosition:n=Ft.Bottom}){return f.jsxs(f.Fragment,{children:[t?.label,f.jsx(ao,{type:"source",position:n,isConnectable:e})]})}function Ite({data:t,isConnectable:e,targetPosition:n=Ft.Top,sourcePosition:r=Ft.Bottom}){return f.jsxs(f.Fragment,{children:[f.jsx(ao,{type:"target",position:n,isConnectable:e}),t?.label,f.jsx(ao,{type:"source",position:r,isConnectable:e})]})}function Cte(){return null}function Tte({data:t,isConnectable:e,targetPosition:n=Ft.Top}){return f.jsxs(f.Fragment,{children:[f.jsx(ao,{type:"target",position:n,isConnectable:e}),t?.label]})}const Gb={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Dq={input:kte,default:Ite,output:Tte,group:Cte};function Rte(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const Ote=t=>{const{width:e,height:n,x:r,y:i}=vm(t.nodeLookup,{filter:s=>!!s.selected});return{width:Ro(e)?e:null,height:Ro(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function qte({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=xr(),{width:i,height:s,transformString:o,userSelectionActive:l}=Cn(Ote,Cr),u=rL(),d=K.useRef(null);if(K.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),nL({nodeRef:d}),l||!i||!s)return null;const p=t?b=>{const x=r.getState().nodes.filter(_=>_.selected);t(b,x)}:void 0,h=b=>{Object.prototype.hasOwnProperty.call(Gb,b.key)&&(b.preventDefault(),u({direction:Gb[b.key],factor:b.shiftKey?4:1}))};return f.jsx("div",{className:ei(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:f.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s}})})}const Lq=typeof window<"u"?window:void 0,jte=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function sL({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:p,selectionMode:h,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:_,panActivationKeyCode:E,zoomActivationKeyCode:I,elementsSelectable:T,zoomOnScroll:R,zoomOnPinch:O,panOnScroll:A,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:W,panOnDrag:P,defaultViewport:q,translateExtent:M,minZoom:F,maxZoom:V,preventScrolling:U,onSelectionContextMenu:z,noWheelClassName:ee,noPanClassName:Z,disableKeyboardA11y:le,onViewportChange:se,isControlledViewport:te}){const{nodesSelectionActive:oe,userSelectionActive:X}=Cn(jte),ue=Wh(d,{target:Lq}),de=Wh(E,{target:Lq}),ye=de||P,we=de||A,Ne=p&&ye!==!0,ze=ue||X||Ne;return pte({deleteKeyCode:u,multiSelectionKeyCode:_}),f.jsx(gte,{onPaneContextMenu:s,elementsSelectable:T,zoomOnScroll:R,zoomOnPinch:O,panOnScroll:we,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:W,panOnDrag:!ue&&ye,defaultViewport:q,translateExtent:M,minZoom:F,maxZoom:V,zoomActivationKeyCode:I,preventScrolling:U,noWheelClassName:ee,noPanClassName:Z,onViewportChange:se,isControlledViewport:te,paneClickDistance:l,children:f.jsxs(xte,{onSelectionStart:b,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ye,isSelecting:!!ze,selectionMode:h,selectionKeyPressed:ue,selectionOnDrag:Ne,children:[t,oe&&f.jsx(qte,{onSelectionContextMenu:z,noPanClassName:Z,disableKeyboardA11y:le})]})})}sL.displayName="FlowRenderer";const Ate=K.memo(sL),Pte=t=>e=>t?E2(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Fte(t){return Cn(K.useCallback(Pte(t),[t]),Cr)}const Dte=t=>t.updateNodeInternals;function Lte(){const t=Cn(Dte),[e]=K.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return K.useEffect(()=>()=>{e?.disconnect()},[e]),e}function Mte({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=xr(),s=K.useRef(null),o=K.useRef(null),l=K.useRef(t.sourcePosition),u=K.useRef(t.targetPosition),d=K.useRef(e),p=n&&!!t.internals.handleBounds;return K.useEffect(()=>{s.current&&!t.hidden&&(!p||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[p,t.hidden]),K.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),K.useEffect(()=>{if(s.current){const h=d.current!==e,b=l.current!==t.sourcePosition,x=u.current!==t.targetPosition;(h||b||x)&&(d.current=e,l.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function $te({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:d,nodesFocusable:p,resizeObserver:h,noDragClassName:b,noPanClassName:x,disableKeyboardA11y:_,rfId:E,nodeTypes:I,nodeExtent:T,nodeClickDistance:R,onError:O}){const{node:A,internals:D,isParent:L}=Cn(Oe=>{const De=Oe.nodeLookup.get(t),Je=Oe.parentLookup.has(t);return{node:De,internals:De.internals,isParent:Je}},Cr);let W=A.type||"default",P=I?.[W]||Dq[W];P===void 0&&(O?.("003",Ha.error003(W)),W="default",P=Dq.default);const q=!!(A.draggable||l&&typeof A.draggable>"u"),M=!!(A.selectable||u&&typeof A.selectable>"u"),F=!!(A.connectable||d&&typeof A.connectable>"u"),V=!!(A.focusable||p&&typeof A.focusable>"u"),U=xr(),z=R2(A),ee=Mte({node:A,nodeType:W,hasDimensions:z,resizeObserver:h}),Z=nL({nodeRef:ee,disabled:A.hidden||!q,noDragClassName:b,handleSelector:A.dragHandle,nodeId:t,isSelectable:M,nodeClickDistance:R}),le=rL();if(A.hidden)return null;const se=Qa(A),te=Rte(A),oe=M||q||e||n||r||i,X=n?Oe=>n(Oe,{...D.userNode}):void 0,ue=r?Oe=>r(Oe,{...D.userNode}):void 0,de=i?Oe=>i(Oe,{...D.userNode}):void 0,ye=s?Oe=>s(Oe,{...D.userNode}):void 0,we=o?Oe=>o(Oe,{...D.userNode}):void 0,Ne=Oe=>{const{selectNodesOnDrag:De,nodeDragThreshold:Je}=U.getState();M&&(!De||!q||Je>0)&&ZE({id:t,store:U,nodeRef:ee}),e&&e(Oe,{...D.userNode})},ze=Oe=>{if(!(HE(Oe.nativeEvent)||_))if(x2.includes(Oe.key)&&M){const De=Oe.key==="Escape";ZE({id:t,store:U,unselect:De,nodeRef:ee})}else q&&A.selected&&Object.prototype.hasOwnProperty.call(Gb,Oe.key)&&(Oe.preventDefault(),U.setState({ariaLiveMessage:`Moved selected node ${Oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D.positionAbsolute.x}, y: ${~~D.positionAbsolute.y}`}),le({direction:Gb[Oe.key],factor:Oe.shiftKey?4:1}))};return f.jsx("div",{className:ei(["react-flow__node",`react-flow__node-${W}`,{[x]:q},A.className,{selected:A.selected,selectable:M,parent:L,draggable:q,dragging:Z}]),ref:ee,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:oe?"all":"none",visibility:z?"visible":"hidden",...A.style,...te},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:X,onMouseMove:ue,onMouseLeave:de,onContextMenu:ye,onClick:Ne,onDoubleClick:we,onKeyDown:V?ze:void 0,tabIndex:V?0:void 0,role:V?"button":void 0,"aria-describedby":_?void 0:`${G2}-${E}`,"aria-label":A.ariaLabel,children:f.jsx(_te,{value:t,children:f.jsx(P,{id:t,data:A.data,type:W,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:A.selected??!1,selectable:M,draggable:q,deletable:A.deletable??!0,isConnectable:F,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:Z,dragHandle:A.dragHandle,zIndex:D.z,parentId:A.parentId,...se})})})}const Bte=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function oL(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Cn(Bte,Cr),o=Fte(t.onlyRenderVisibleElements),l=Lte();return f.jsx("div",{className:"react-flow__nodes",style:ex,children:o.map(u=>f.jsx($te,{id:u,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},u))})}oL.displayName="NodeRenderer";const zte=K.memo(oL);function Wte(t){return Cn(K.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&ZX({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Cr)}const Vte=({color:t="none",strokeWidth:e=1})=>f.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Ute=({color:t="none",strokeWidth:e=1})=>f.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Mq={[$h.Arrow]:Vte,[$h.ArrowClosed]:Ute};function Hte(t){const e=xr();return K.useMemo(()=>Object.prototype.hasOwnProperty.call(Mq,t)?Mq[t]:(e.getState().onError?.("009",Ha.error009(t)),null),[t])}const Qte=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=Hte(e);return u?f.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:f.jsx(u,{color:n,strokeWidth:o})}):null},aL=({defaultColor:t,rfId:e})=>{const n=Cn(s=>s.edges),r=Cn(s=>s.defaultEdgeOptions),i=K.useMemo(()=>iee(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?f.jsx("svg",{className:"react-flow__marker",children:f.jsx("defs",{children:i.map(s=>f.jsx(Qte,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};aL.displayName="MarkerDefinitions";var Kte=K.memo(aL);function lL({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...p}){const[h,b]=K.useState({x:1,y:0,width:0,height:0}),x=ei(["react-flow__edge-textwrapper",d]),_=K.useRef(null);return K.useEffect(()=>{if(_.current){const E=_.current.getBBox();b({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),typeof n>"u"||!n?null:f.jsxs("g",{transform:`translate(${t-h.width/2} ${e-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...p,children:[i&&f.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),f.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:_,style:r,children:n}),u]})}lL.displayName="EdgeText";const Gte=K.memo(lL);function wm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:d=20,...p}){return f.jsxs(f.Fragment,{children:[f.jsx("path",{...p,d:t,fill:"none",className:ei(["react-flow__edge-path",p.className])}),d&&f.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&Ro(e)&&Ro(n)?f.jsx(Gte,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function $q({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ft.Left||t===Ft.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function C1({sourceX:t,sourceY:e,sourcePosition:n=Ft.Bottom,targetX:r,targetY:i,targetPosition:s=Ft.Top}){const[o,l]=$q({pos:n,x1:t,y1:e,x2:r,y2:i}),[u,d]=$q({pos:s,x1:r,y1:i,x2:t,y2:e}),[p,h,b,x]=A2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${t},${e} C${o},${l} ${u},${d} ${r},${i}`,p,h,b,x]}function cL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Ft.Bottom,targetPosition:l=Ft.Top,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:E,markerStart:I,interactionWidth:T})=>{const[R,O,A]=C1({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),D=t.isInternal?void 0:e;return f.jsx(wm,{id:D,path:R,labelX:O,labelY:A,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:E,markerStart:I,interactionWidth:T})})}const Jte=cL({isInternal:!1}),uL=cL({isInternal:!0});Jte.displayName="SimpleBezierEdge";uL.displayName="SimpleBezierEdgeInternal";function dL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:b,sourcePosition:x=Ft.Bottom,targetPosition:_=Ft.Top,markerEnd:E,markerStart:I,pathOptions:T,interactionWidth:R})=>{const[O,A,D]=QE({sourceX:n,sourceY:r,sourcePosition:x,targetX:i,targetY:s,targetPosition:_,borderRadius:T?.borderRadius,offset:T?.offset}),L=t.isInternal?void 0:e;return f.jsx(wm,{id:L,path:O,labelX:A,labelY:D,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:E,markerStart:I,interactionWidth:R})})}const fL=dL({isInternal:!1}),pL=dL({isInternal:!0});fL.displayName="SmoothStepEdge";pL.displayName="SmoothStepEdgeInternal";function hL(t){return K.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return f.jsx(fL,{...n,id:r,pathOptions:K.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const Zte=hL({isInternal:!1}),mL=hL({isInternal:!0});Zte.displayName="StepEdge";mL.displayName="StepEdgeInternal";function gL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:_,interactionWidth:E})=>{const[I,T,R]=x1({sourceX:n,sourceY:r,targetX:i,targetY:s}),O=t.isInternal?void 0:e;return f.jsx(wm,{id:O,path:I,labelX:T,labelY:R,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:_,interactionWidth:E})})}const Yte=gL({isInternal:!1}),yL=gL({isInternal:!0});Yte.displayName="StraightEdge";yL.displayName="StraightEdgeInternal";function bL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Ft.Bottom,targetPosition:l=Ft.Top,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:E,markerStart:I,pathOptions:T,interactionWidth:R})=>{const[O,A,D]=v1({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:T?.curvature}),L=t.isInternal?void 0:e;return f.jsx(wm,{id:L,path:O,labelX:A,labelY:D,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:E,markerStart:I,interactionWidth:R})})}const Xte=bL({isInternal:!1}),vL=bL({isInternal:!0});Xte.displayName="BezierEdge";vL.displayName="BezierEdgeInternal";const Bq={default:vL,straight:yL,step:mL,smoothstep:pL,simplebezier:uL},zq={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ene=(t,e,n)=>n===Ft.Left?t-e:n===Ft.Right?t+e:t,tne=(t,e,n)=>n===Ft.Top?t-e:n===Ft.Bottom?t+e:t,Wq="react-flow__edgeupdater";function Vq({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return f.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:ei([Wq,`${Wq}-${l}`]),cx:ene(e,r,t),cy:tne(n,r,t),r,stroke:"transparent",fill:"transparent"})}function nne({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:d,onReconnectStart:p,onReconnectEnd:h,setReconnecting:b,setUpdateHover:x}){const _=xr(),E=(A,D)=>{if(A.button!==0)return;const{autoPanOnConnect:L,domNode:W,isValidConnection:P,connectionMode:q,connectionRadius:M,lib:F,onConnectStart:V,onConnectEnd:U,cancelConnection:z,nodeLookup:ee,rfId:Z,panBy:le,updateConnection:se}=_.getState(),te=D.type==="target";b(!0),p?.(A,n,D.type);const oe=(ue,de)=>{b(!1),h?.(ue,n,D.type,de)},X=ue=>d?.(n,ue);JE.onPointerDown(A.nativeEvent,{autoPanOnConnect:L,connectionMode:q,connectionRadius:M,domNode:W,handleId:D.id,nodeId:D.nodeId,nodeLookup:ee,isTarget:te,edgeUpdaterType:D.type,lib:F,flowId:Z,cancelConnection:z,panBy:le,isValidConnection:P,onConnect:X,onConnectStart:V,onConnectEnd:U,onReconnectEnd:oe,updateConnection:se,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle})},I=A=>E(A,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),T=A=>E(A,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),R=()=>x(!0),O=()=>x(!1);return f.jsxs(f.Fragment,{children:[(t===!0||t==="source")&&f.jsx(Vq,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:I,onMouseEnter:R,onMouseOut:O,type:"source"}),(t===!0||t==="target")&&f.jsx(Vq,{position:u,centerX:s,centerY:o,radius:e,onMouseDown:T,onMouseEnter:R,onMouseOut:O,type:"target"})]})}function rne({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,reconnectRadius:p,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,rfId:_,edgeTypes:E,noPanClassName:I,onError:T,disableKeyboardA11y:R}){let O=Cn(Ve=>Ve.edgeLookup.get(t));const A=Cn(Ve=>Ve.defaultEdgeOptions);O=A?{...A,...O}:O;let D=O.type||"default",L=E?.[D]||Bq[D];L===void 0&&(T?.("011",Ha.error011(D)),D="default",L=Bq.default);const W=!!(O.focusable||e&&typeof O.focusable>"u"),P=typeof h<"u"&&(O.reconnectable||n&&typeof O.reconnectable>"u"),q=!!(O.selectable||r&&typeof O.selectable>"u"),M=K.useRef(null),[F,V]=K.useState(!1),[U,z]=K.useState(!1),ee=xr(),{zIndex:Z,sourceX:le,sourceY:se,targetX:te,targetY:oe,sourcePosition:X,targetPosition:ue}=Cn(K.useCallback(Ve=>{const ct=Ve.nodeLookup.get(O.source),_t=Ve.nodeLookup.get(O.target);if(!ct||!_t)return{zIndex:O.zIndex,...zq};const Tt=ree({id:t,sourceNode:ct,targetNode:_t,sourceHandle:O.sourceHandle||null,targetHandle:O.targetHandle||null,connectionMode:Ve.connectionMode,onError:T});return{zIndex:JX({selected:O.selected,zIndex:O.zIndex,sourceNode:ct,targetNode:_t,elevateOnSelect:Ve.elevateEdgesOnSelect}),...Tt||zq}},[O.source,O.target,O.sourceHandle,O.targetHandle,O.selected,O.zIndex]),Cr),de=K.useMemo(()=>O.markerStart?`url('#${KE(O.markerStart,_)}')`:void 0,[O.markerStart,_]),ye=K.useMemo(()=>O.markerEnd?`url('#${KE(O.markerEnd,_)}')`:void 0,[O.markerEnd,_]);if(O.hidden||le===null||se===null||te===null||oe===null)return null;const we=Ve=>{const{addSelectedEdges:ct,unselectNodesAndEdges:_t,multiSelectionActive:Tt}=ee.getState();q&&(ee.setState({nodesSelectionActive:!1}),O.selected&&Tt?(_t({nodes:[],edges:[O]}),M.current?.blur()):ct([t])),i&&i(Ve,O)},Ne=s?Ve=>{s(Ve,{...O})}:void 0,ze=o?Ve=>{o(Ve,{...O})}:void 0,Oe=l?Ve=>{l(Ve,{...O})}:void 0,De=u?Ve=>{u(Ve,{...O})}:void 0,Je=d?Ve=>{d(Ve,{...O})}:void 0,Xe=Ve=>{if(!R&&x2.includes(Ve.key)&&q){const{unselectNodesAndEdges:ct,addSelectedEdges:_t}=ee.getState();Ve.key==="Escape"?(M.current?.blur(),ct({edges:[O]})):_t([t])}};return f.jsx("svg",{style:{zIndex:Z},children:f.jsxs("g",{className:ei(["react-flow__edge",`react-flow__edge-${D}`,O.className,I,{selected:O.selected,animated:O.animated,inactive:!q&&!i,updating:F,selectable:q}]),onClick:we,onDoubleClick:Ne,onContextMenu:ze,onMouseEnter:Oe,onMouseMove:De,onMouseLeave:Je,onKeyDown:W?Xe:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":O.ariaLabel===null?void 0:O.ariaLabel||`Edge from ${O.source} to ${O.target}`,"aria-describedby":W?`${J2}-${_}`:void 0,ref:M,children:[!U&&f.jsx(L,{id:t,source:O.source,target:O.target,type:O.type,selected:O.selected,animated:O.animated,selectable:q,deletable:O.deletable??!0,label:O.label,labelStyle:O.labelStyle,labelShowBg:O.labelShowBg,labelBgStyle:O.labelBgStyle,labelBgPadding:O.labelBgPadding,labelBgBorderRadius:O.labelBgBorderRadius,sourceX:le,sourceY:se,targetX:te,targetY:oe,sourcePosition:X,targetPosition:ue,data:O.data,style:O.style,sourceHandleId:O.sourceHandle,targetHandleId:O.targetHandle,markerStart:de,markerEnd:ye,pathOptions:"pathOptions"in O?O.pathOptions:void 0,interactionWidth:O.interactionWidth}),P&&f.jsx(nne,{edge:O,isReconnectable:P,reconnectRadius:p,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,sourceX:le,sourceY:se,targetX:te,targetY:oe,sourcePosition:X,targetPosition:ue,setUpdateHover:V,setReconnecting:z})]})})}const ine=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function xL({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:p,reconnectRadius:h,onEdgeDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,disableKeyboardA11y:E}){const{edgesFocusable:I,edgesReconnectable:T,elementsSelectable:R,onError:O}=Cn(ine,Cr),A=Wte(e);return f.jsxs("div",{className:"react-flow__edges",children:[f.jsx(Kte,{defaultColor:t,rfId:n}),A.map(D=>f.jsx(rne,{id:D,edgesFocusable:I,edgesReconnectable:T,elementsSelectable:R,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:p,reconnectRadius:h,onDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,rfId:n,onError:O,edgeTypes:r,disableKeyboardA11y:E},D))]})}xL.displayName="EdgeRenderer";const sne=K.memo(xL),one=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function ane({children:t}){const e=Cn(one);return f.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function lne(t){const e=yf(),n=K.useRef(!1);K.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const cne=t=>t.panZoom?.syncViewport;function une(t){const e=Cn(cne),n=xr();return K.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function dne(t){return t.connection.inProgress?{...t.connection,to:xm(t.connection.to,t.transform)}:{...t.connection}}function fne(t){return dne}function wL(t){const e=fne();return Cn(e,Cr)}const pne=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function hne({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:u}=Cn(pne,Cr);return!(s&&i&&u)?null:f.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:f.jsx("g",{className:ei(["react-flow__connection",_2(l)]),children:f.jsx(_L,{style:e,type:n,CustomComponent:r,isValid:l})})})}const _L=({style:t,type:e=Ol.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:u,to:d,toNode:p,toHandle:h,toPosition:b}=wL();if(!i)return;if(n)return f.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:u,toPosition:b,connectionStatus:_2(r),toNode:p,toHandle:h});let x="";const _={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:d.x,targetY:d.y,targetPosition:b};switch(e){case Ol.Bezier:[x]=v1(_);break;case Ol.SimpleBezier:[x]=C1(_);break;case Ol.Step:[x]=QE({..._,borderRadius:0});break;case Ol.SmoothStep:[x]=QE(_);break;default:[x]=x1(_)}return f.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};_L.displayName="ConnectionLine";const mne={};function Uq(t=mne){K.useRef(t),xr(),K.useEffect(()=>{},[t])}function gne(){xr(),K.useRef(!1),K.useEffect(()=>{},[])}function SL({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:p,onSelectionContextMenu:h,onSelectionStart:b,onSelectionEnd:x,connectionLineType:_,connectionLineStyle:E,connectionLineComponent:I,connectionLineContainerStyle:T,selectionKeyCode:R,selectionOnDrag:O,selectionMode:A,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:W,deleteKeyCode:P,onlyRenderVisibleElements:q,elementsSelectable:M,defaultViewport:F,translateExtent:V,minZoom:U,maxZoom:z,preventScrolling:ee,defaultMarkerColor:Z,zoomOnScroll:le,zoomOnPinch:se,panOnScroll:te,panOnScrollSpeed:oe,panOnScrollMode:X,zoomOnDoubleClick:ue,panOnDrag:de,onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneScroll:Oe,onPaneContextMenu:De,paneClickDistance:Je,nodeClickDistance:Xe,onEdgeContextMenu:Ve,onEdgeMouseEnter:ct,onEdgeMouseMove:_t,onEdgeMouseLeave:Tt,reconnectRadius:Ut,onReconnect:tn,onReconnectStart:xe,onReconnectEnd:be,noDragClassName:ke,noWheelClassName:Ae,noPanClassName:Ue,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ut,viewport:Kt,onViewportChange:Gt}){return Uq(t),Uq(e),gne(),lne(n),une(Kt),f.jsx(Ate,{onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneContextMenu:De,onPaneScroll:Oe,paneClickDistance:Je,deleteKeyCode:P,selectionKeyCode:R,selectionOnDrag:O,selectionMode:A,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:W,elementsSelectable:M,zoomOnScroll:le,zoomOnPinch:se,zoomOnDoubleClick:ue,panOnScroll:te,panOnScrollSpeed:oe,panOnScrollMode:X,panOnDrag:de,defaultViewport:F,translateExtent:V,minZoom:U,maxZoom:z,onSelectionContextMenu:h,preventScrolling:ee,noDragClassName:ke,noWheelClassName:Ae,noPanClassName:Ue,disableKeyboardA11y:rt,onViewportChange:Gt,isControlledViewport:!!Kt,children:f.jsxs(ane,{children:[f.jsx(sne,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:tn,onReconnectStart:xe,onReconnectEnd:be,onlyRenderVisibleElements:q,onEdgeContextMenu:Ve,onEdgeMouseEnter:ct,onEdgeMouseMove:_t,onEdgeMouseLeave:Tt,reconnectRadius:Ut,defaultMarkerColor:Z,noPanClassName:Ue,disableKeyboardA11y:rt,rfId:ut}),f.jsx(hne,{style:E,type:_,component:I,containerStyle:T}),f.jsx("div",{className:"react-flow__edgelabel-renderer"}),f.jsx(zte,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:p,nodeClickDistance:Xe,onlyRenderVisibleElements:q,noPanClassName:Ue,noDragClassName:ke,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ut}),f.jsx("div",{className:"react-flow__viewport-portal"})]})})}SL.displayName="GraphView";const yne=K.memo(SL),Hq=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u}={})=>{const d=new Map,p=new Map,h=new Map,b=new Map,x=r??e??[],_=n??t??[],E=l??[0,0],I=u??Lh;L2(h,b,x),GE(_,d,p,{nodeOrigin:E,nodeExtent:I,elevateNodesOnSelect:!1});let T=[0,0,1];if(o&&i&&s){const R=vm(d,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:O,y:A,zoom:D}=b1(R,i,s,.5,2,.1);T=[O,A,D]}return{rfId:"1",width:0,height:0,transform:T,nodes:_,nodeLookup:d,parentLookup:p,edges:x,edgeLookup:b,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Lh,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Hd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...w2},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:KX,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},bne=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u})=>Lee((d,p)=>({...Hq({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u,defaultNodes:n,defaultEdges:r}),setNodes:h=>{const{nodeLookup:b,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:E}=p();GE(h,b,x,{nodeOrigin:_,nodeExtent:u,elevateNodesOnSelect:E,checkEquality:!0}),d({nodes:h})},setEdges:h=>{const{connectionLookup:b,edgeLookup:x}=p();L2(b,x,h),d({edges:h})},setDefaultNodesAndEdges:(h,b)=>{if(h){const{setNodes:x}=p();x(h),d({hasDefaultNodes:!0})}if(b){const{setEdges:x}=p();x(b),d({hasDefaultEdges:!0})}},updateNodeInternals:(h,b={triggerFitView:!0})=>{const{triggerNodeChanges:x,nodeLookup:_,parentLookup:E,fitViewOnInit:I,fitViewDone:T,fitViewOnInitOptions:R,domNode:O,nodeOrigin:A,nodeExtent:D,debug:L,fitViewSync:W}=p(),{changes:P,updatedInternals:q}=cee(h,_,E,O,A,D);if(q){if(oee(_,E,{nodeOrigin:A,nodeExtent:D}),b.triggerFitView){let M=T;!T&&I&&(M=W({...R,nodes:R?.nodes})),d({fitViewDone:M})}else d({});P?.length>0&&(L&&console.log("React Flow: trigger node changes",P),x?.(P))}},updateNodePositions:(h,b=!1)=>{const x=[],_=[];for(const[E,I]of h){const T=!!(I?.expandParent&&I?.parentId&&I?.position),R={id:E,type:"position",position:T?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:b};T&&x.push({id:E,parentId:I.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width,height:I.measured.height}}),_.push(R)}if(x.length>0){const{nodeLookup:E,parentLookup:I,nodeOrigin:T}=p(),R=E1(x,E,I,T);_.push(...R)}p().triggerNodeChanges(_)},triggerNodeChanges:h=>{const{onNodesChange:b,setNodes:x,nodes:_,hasDefaultNodes:E,debug:I}=p();if(h?.length){if(E){const T=k1(h,_);x(T)}I&&console.log("React Flow: trigger node changes",h),b?.(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:b,setEdges:x,edges:_,hasDefaultEdges:E,debug:I}=p();if(h?.length){if(E){const T=X2(h,_);x(T)}I&&console.log("React Flow: trigger edge changes",h),b?.(h)}},addSelectedNodes:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:E,triggerEdgeChanges:I}=p();if(b){const T=h.map(R=>qc(R,!0));E(T);return}E(fd(_,new Set([...h]),!0)),I(fd(x))},addSelectedEdges:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:E,triggerEdgeChanges:I}=p();if(b){const T=h.map(R=>qc(R,!0));I(T);return}I(fd(x,new Set([...h]))),E(fd(_,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:b}={})=>{const{edges:x,nodes:_,nodeLookup:E,triggerNodeChanges:I,triggerEdgeChanges:T}=p(),R=h||_,O=b||x,A=R.map(L=>{const W=E.get(L.id);return W&&(W.selected=!1),qc(L.id,!1)}),D=O.map(L=>qc(L.id,!1));I(A),T(D)},setMinZoom:h=>{const{panZoom:b,maxZoom:x}=p();b?.setScaleExtent([h,x]),d({minZoom:h})},setMaxZoom:h=>{const{panZoom:b,minZoom:x}=p();b?.setScaleExtent([x,h]),d({maxZoom:h})},setTranslateExtent:h=>{p().panZoom?.setTranslateExtent(h),d({translateExtent:h})},setPaneClickDistance:h=>{p().panZoom?.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:b,triggerNodeChanges:x,triggerEdgeChanges:_}=p(),E=b.reduce((T,R)=>R.selected?[...T,qc(R.id,!1)]:T,[]),I=h.reduce((T,R)=>R.selected?[...T,qc(R.id,!1)]:T,[]);x(E),_(I)},setNodeExtent:h=>{const{nodes:b,nodeLookup:x,parentLookup:_,nodeOrigin:E,elevateNodesOnSelect:I,nodeExtent:T}=p();h[0][0]===T[0][0]&&h[0][1]===T[0][1]&&h[1][0]===T[1][0]&&h[1][1]===T[1][1]||(GE(b,x,_,{nodeOrigin:E,nodeExtent:h,elevateNodesOnSelect:I,checkEquality:!1}),d({nodeExtent:h}))},panBy:h=>{const{transform:b,width:x,height:_,panZoom:E,translateExtent:I}=p();return uee({delta:h,panZoom:E,transform:b,translateExtent:I,width:x,height:_})},fitView:h=>{const{panZoom:b,width:x,height:_,minZoom:E,maxZoom:I,nodeLookup:T}=p();if(!b)return Promise.resolve(!1);const R=WE(T,h);return VE({nodes:R,width:x,height:_,panZoom:b,minZoom:E,maxZoom:I},h)},fitViewSync:h=>{const{panZoom:b,width:x,height:_,minZoom:E,maxZoom:I,nodeLookup:T}=p();if(!b)return!1;const R=WE(T,h);return VE({nodes:R,width:x,height:_,panZoom:b,minZoom:E,maxZoom:I},h),R.size>0},cancelConnection:()=>{d({connection:{...w2}})},updateConnection:h=>{d({connection:h})},reset:()=>d({...Hq()})}),Object.is);function EL({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:u,children:d}){const[p]=K.useState(()=>bne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u}));return f.jsx(Mee,{value:p,children:f.jsx(lte,{children:d})})}function vne({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,nodeOrigin:u,nodeExtent:d}){return K.useContext(Xv)?f.jsx(f.Fragment,{children:t}):f.jsx(EL,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:u,nodeExtent:d,children:t})}const xne={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function wne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:p,onMoveStart:h,onMoveEnd:b,onConnect:x,onConnectStart:_,onConnectEnd:E,onClickConnectStart:I,onClickConnectEnd:T,onNodeMouseEnter:R,onNodeMouseMove:O,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:L,onNodeDragStart:W,onNodeDrag:P,onNodeDragStop:q,onNodesDelete:M,onEdgesDelete:F,onDelete:V,onSelectionChange:U,onSelectionDragStart:z,onSelectionDrag:ee,onSelectionDragStop:Z,onSelectionContextMenu:le,onSelectionStart:se,onSelectionEnd:te,onBeforeDelete:oe,connectionMode:X,connectionLineType:ue=Ol.Bezier,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,deleteKeyCode:Ne="Backspace",selectionKeyCode:ze="Shift",selectionOnDrag:Oe=!1,selectionMode:De=Mh.Full,panActivationKeyCode:Je="Space",multiSelectionKeyCode:Xe=Kb()?"Meta":"Control",zoomActivationKeyCode:Ve=Kb()?"Meta":"Control",snapToGrid:ct,snapGrid:_t,onlyRenderVisibleElements:Tt=!1,selectNodesOnDrag:Ut,nodesDraggable:tn,nodesConnectable:xe,nodesFocusable:be,nodeOrigin:ke=Z2,edgesFocusable:Ae,edgesReconnectable:Ue,elementsSelectable:rt=!0,defaultViewport:Me=Yee,minZoom:ut=.5,maxZoom:Kt=2,translateExtent:Gt=Lh,preventScrolling:hn=!0,nodeExtent:or,defaultMarkerColor:Dn="#b1b1b7",zoomOnScroll:Ur=!0,zoomOnPinch:Ci=!0,panOnScroll:wr=!1,panOnScrollSpeed:Jt=.5,panOnScrollMode:Wi=Kc.Free,zoomOnDoubleClick:Vi=!0,panOnDrag:Ui=!0,onPaneClick:fo,onPaneMouseEnter:da,onPaneMouseMove:oc,onPaneMouseLeave:Ms,onPaneScroll:H,onPaneContextMenu:du,paneClickDistance:un=0,nodeClickDistance:fu=0,children:pu,onReconnect:hu,onReconnectStart:ac,onReconnectEnd:fa,onEdgeContextMenu:Hi,onEdgeDoubleClick:lc,onEdgeMouseEnter:pa,onEdgeMouseMove:wf,onEdgeMouseLeave:ha,reconnectRadius:$s=10,onNodesChange:Ka,onEdgesChange:Bs,noDragClassName:_f="nodrag",noWheelClassName:Sf="nowheel",noPanClassName:mu="nopan",fitView:zs,fitViewOptions:gu,connectOnClick:yu,attributionPosition:Ef,proOptions:bu,defaultEdgeOptions:vu,elevateNodesOnSelect:xu,elevateEdgesOnSelect:cc,disableKeyboardA11y:wu=!1,autoPanOnConnect:Nf,autoPanOnNodeDrag:ar,autoPanSpeed:kf,connectionRadius:uc,isValidConnection:_u,onError:Ga,style:If,id:dc,nodeDragThreshold:Ja,viewport:Qi,onViewportChange:Cf,width:mi,height:Tf,colorMode:Rf="light",debug:Of,...Bo},Za){const Ti=dc||"1",Ya=nte(Rf);return f.jsx("div",{"data-testid":"rf__wrapper",...Bo,style:{...If,...xne},ref:Za,className:ei(["react-flow",i,Ya]),id:dc,children:f.jsxs(vne,{nodes:t,edges:e,width:mi,height:Tf,fitView:zs,nodeOrigin:ke,nodeExtent:or,children:[f.jsx(yne,{onInit:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:R,onNodeMouseMove:O,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:L,nodeTypes:s,edgeTypes:o,connectionLineType:ue,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,selectionKeyCode:ze,selectionOnDrag:Oe,selectionMode:De,deleteKeyCode:Ne,multiSelectionKeyCode:Xe,panActivationKeyCode:Je,zoomActivationKeyCode:Ve,onlyRenderVisibleElements:Tt,defaultViewport:Me,translateExtent:Gt,minZoom:ut,maxZoom:Kt,preventScrolling:hn,zoomOnScroll:Ur,zoomOnPinch:Ci,zoomOnDoubleClick:Vi,panOnScroll:wr,panOnScrollSpeed:Jt,panOnScrollMode:Wi,panOnDrag:Ui,onPaneClick:fo,onPaneMouseEnter:da,onPaneMouseMove:oc,onPaneMouseLeave:Ms,onPaneScroll:H,onPaneContextMenu:du,paneClickDistance:un,nodeClickDistance:fu,onSelectionContextMenu:le,onSelectionStart:se,onSelectionEnd:te,onReconnect:hu,onReconnectStart:ac,onReconnectEnd:fa,onEdgeContextMenu:Hi,onEdgeDoubleClick:lc,onEdgeMouseEnter:pa,onEdgeMouseMove:wf,onEdgeMouseLeave:ha,reconnectRadius:$s,defaultMarkerColor:Dn,noDragClassName:_f,noWheelClassName:Sf,noPanClassName:mu,rfId:Ti,disableKeyboardA11y:wu,nodeExtent:or,viewport:Qi,onViewportChange:Cf}),f.jsx(tte,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:_,onConnectEnd:E,onClickConnectStart:I,onClickConnectEnd:T,nodesDraggable:tn,nodesConnectable:xe,nodesFocusable:be,edgesFocusable:Ae,edgesReconnectable:Ue,elementsSelectable:rt,elevateNodesOnSelect:xu,elevateEdgesOnSelect:cc,minZoom:ut,maxZoom:Kt,nodeExtent:or,onNodesChange:Ka,onEdgesChange:Bs,snapToGrid:ct,snapGrid:_t,connectionMode:X,translateExtent:Gt,connectOnClick:yu,defaultEdgeOptions:vu,fitView:zs,fitViewOptions:gu,onNodesDelete:M,onEdgesDelete:F,onDelete:V,onNodeDragStart:W,onNodeDrag:P,onNodeDragStop:q,onSelectionDrag:ee,onSelectionDragStart:z,onSelectionDragStop:Z,onMove:p,onMoveStart:h,onMoveEnd:b,noPanClassName:mu,nodeOrigin:ke,rfId:Ti,autoPanOnConnect:Nf,autoPanOnNodeDrag:ar,autoPanSpeed:kf,onError:Ga,connectionRadius:uc,isValidConnection:_u,selectNodesOnDrag:Ut,nodeDragThreshold:Ja,onBeforeDelete:oe,paneClickDistance:un,debug:Of}),f.jsx(Zee,{onSelectionChange:U}),pu,f.jsx(Hee,{proOptions:bu,position:Ef}),f.jsx(Vee,{rfId:Ti,disableKeyboardA11y:wu})]})})}var NL=eL(wne);const _ne=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function Sne({children:t}){const e=Cn(_ne);return e?ov.createPortal(t,e):null}function Ene(t){const[e,n]=K.useState(t),r=K.useCallback(i=>n(s=>k1(i,s)),[]);return[e,n,r]}function Nne(t){const[e,n]=K.useState(t),r=K.useCallback(i=>n(s=>X2(i,s)),[]);return[e,n,r]}function Qq(t){return Cn(K.useCallback(n=>n.nodeLookup.get(t),[t]),Cr)}function kne({dimensions:t,lineWidth:e,variant:n,className:r}){return f.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:ei(["react-flow__background-pattern",n,r])})}function Ine({radius:t,className:e}){return f.jsx("circle",{cx:t,cy:t,r:t,className:ei(["react-flow__background-pattern","dots",e])})}var na;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(na||(na={}));const Cne={[na.Dots]:1,[na.Lines]:1,[na.Cross]:6},Tne=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function kL({id:t,variant:e=na.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:u,className:d,patternClassName:p}){const h=K.useRef(null),{transform:b,patternId:x}=Cn(Tne,Cr),_=r||Cne[e],E=e===na.Dots,I=e===na.Cross,T=Array.isArray(n)?n:[n,n],R=[T[0]*b[2]||1,T[1]*b[2]||1],O=_*b[2],A=Array.isArray(s)?s:[s,s],D=I?[O,O]:R,L=[A[0]*b[2]||1+D[0]/2,A[1]*b[2]||1+D[1]/2],W=`${x}${t||""}`;return f.jsxs("svg",{className:ei(["react-flow__background",d]),style:{...u,...ex,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[f.jsx("pattern",{id:W,x:b[0]%R[0],y:b[1]%R[1],width:R[0],height:R[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:E?f.jsx(Ine,{radius:O/2,className:p}):f.jsx(kne,{dimensions:D,lineWidth:i,variant:e,className:p})}),f.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${W})`})]})}kL.displayName="Background";const IL=K.memo(kL);function Rne(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:f.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function One(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:f.jsx("path",{d:"M0 0h32v4.2H0z"})})}function qne(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:f.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function jne(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Ane(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function sy({children:t,className:e,...n}){return f.jsx("button",{type:"button",className:ei(["react-flow__controls-button",e]),...n,children:t})}const Pne=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function CL({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:d,children:p,position:h="bottom-left",orientation:b="vertical","aria-label":x="React Flow controls"}){const _=xr(),{isInteractive:E,minZoomReached:I,maxZoomReached:T}=Cn(Pne,Cr),{zoomIn:R,zoomOut:O,fitView:A}=yf(),D=()=>{R(),s?.()},L=()=>{O(),o?.()},W=()=>{A(i),l?.()},P=()=>{_.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),u?.(!E)},q=b==="horizontal"?"horizontal":"vertical";return f.jsxs(N1,{className:ei(["react-flow__controls",q,d]),position:h,style:t,"data-testid":"rf__controls","aria-label":x,children:[e&&f.jsxs(f.Fragment,{children:[f.jsx(sy,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:T,children:f.jsx(Rne,{})}),f.jsx(sy,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:I,children:f.jsx(One,{})})]}),n&&f.jsx(sy,{className:"react-flow__controls-fitview",onClick:W,title:"fit view","aria-label":"fit view",children:f.jsx(qne,{})}),r&&f.jsx(sy,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:E?f.jsx(Ane,{}):f.jsx(jne,{})}),p]})}CL.displayName="Controls";const TL=K.memo(CL);function Fne({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:u,className:d,borderRadius:p,shapeRendering:h,selected:b,onClick:x}){const{background:_,backgroundColor:E}=s||{},I=o||_||E;return f.jsx("rect",{className:ei(["react-flow__minimap-node",{selected:b},d]),x:e,y:n,rx:p,ry:p,width:r,height:i,style:{fill:I,stroke:l,strokeWidth:u},shapeRendering:h,onClick:x?T=>x(T,t):void 0})}const Dne=K.memo(Fne),Lne=t=>t.nodes.map(e=>e.id),I0=t=>t instanceof Function?t:()=>t;function Mne({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Dne,onClick:o}){const l=Cn(Lne,Cr),u=I0(e),d=I0(t),p=I0(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return f.jsx(f.Fragment,{children:l.map(b=>f.jsx(Bne,{id:b,nodeColorFunc:u,nodeStrokeColorFunc:d,nodeClassNameFunc:p,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:h},b))})}function $ne({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:d,x:p,y:h,width:b,height:x}=Cn(_=>{const E=_.nodeLookup.get(t),{x:I,y:T}=E.internals.positionAbsolute,{width:R,height:O}=Qa(E);return{node:E,x:I,y:T,width:R,height:O}},Cr);return!d||d.hidden||!R2(d)?null:f.jsx(l,{x:p,y:h,width:b,height:x,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:u,id:d.id})}const Bne=K.memo($ne);var zne=K.memo(Mne);const Wne=200,Vne=150,Une=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?C2(vm(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},Hne="react-flow__minimap-desc";function RL({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:d,maskStrokeColor:p,maskStrokeWidth:h,position:b="bottom-right",onClick:x,onNodeClick:_,pannable:E=!1,zoomable:I=!1,ariaLabel:T="React Flow mini map",inversePan:R,zoomStep:O=10,offsetScale:A=5}){const D=xr(),L=K.useRef(null),{boundingRect:W,viewBB:P,rfId:q,panZoom:M,translateExtent:F,flowWidth:V,flowHeight:U}=Cn(Une,Cr),z=t?.width??Wne,ee=t?.height??Vne,Z=W.width/z,le=W.height/ee,se=Math.max(Z,le),te=se*z,oe=se*ee,X=A*se,ue=W.x-(te-W.width)/2-X,de=W.y-(oe-W.height)/2-X,ye=te+X*2,we=oe+X*2,Ne=`${Hne}-${q}`,ze=K.useRef(0),Oe=K.useRef();ze.current=se,K.useEffect(()=>{if(L.current&&M)return Oe.current=bee({domNode:L.current,panZoom:M,getTransform:()=>D.getState().transform,getViewScale:()=>ze.current}),()=>{Oe.current?.destroy()}},[M]),K.useEffect(()=>{Oe.current?.update({translateExtent:F,width:V,height:U,inversePan:R,pannable:E,zoomStep:O,zoomable:I})},[E,I,R,O,F,V,U]);const De=x?Xe=>{const[Ve,ct]=Oe.current?.pointer(Xe)||[0,0];x(Xe,{x:Ve,y:ct})}:void 0,Je=_?K.useCallback((Xe,Ve)=>{const ct=D.getState().nodeLookup.get(Ve);_(Xe,ct)},[]):void 0;return f.jsx(N1,{position:b,style:{...t,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*se:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:ei(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:f.jsxs("svg",{width:z,height:ee,viewBox:`${ue} ${de} ${ye} ${we}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ne,ref:L,onClick:De,children:[T&&f.jsx("title",{id:Ne,children:T}),f.jsx(zne,{onClick:Je,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),f.jsx("path",{className:"react-flow__minimap-mask",d:`M${ue-X},${de-X}h${ye+X*2}v${we+X*2}h${-ye-X*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}RL.displayName="MiniMap";const OL=K.memo(RL);function Qne({nodeId:t,position:e,variant:n=th.Handle,className:r,style:i={},children:s,color:o,minWidth:l=10,minHeight:u=10,maxWidth:d=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:b,onResizeStart:x,onResize:_,onResizeEnd:E}){const I=iL(),T=typeof t=="string"?t:I,R=xr(),O=K.useRef(null),A=n===th.Line?"right":"bottom-right",D=e??A,L=K.useRef(null);K.useEffect(()=>{if(!(!O.current||!T))return L.current||(L.current=jee({domNode:O.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:M,transform:F,snapGrid:V,snapToGrid:U,nodeOrigin:z,domNode:ee}=R.getState();return{nodeLookup:M,transform:F,snapGrid:V,snapToGrid:U,nodeOrigin:z,paneDomNode:ee}},onChange:(M,F)=>{const{triggerNodeChanges:V,nodeLookup:U,parentLookup:z,nodeOrigin:ee}=R.getState(),Z=[],le={x:M.x,y:M.y},se=U.get(T);if(se&&se.expandParent&&se.parentId){const te=se.origin??ee,oe=M.width??se.measured.width,X=M.height??se.measured.height,ue={id:se.id,parentId:se.parentId,rect:{width:oe,height:X,...O2({x:M.x??se.position.x,y:M.y??se.position.y},{width:oe,height:X},se.parentId,U,te)}},de=E1([ue],U,z,ee);Z.push(...de),le.x=M.x?Math.max(te[0]*oe,M.x):void 0,le.y=M.y?Math.max(te[1]*X,M.y):void 0}if(le.x!==void 0&&le.y!==void 0){const te={id:T,type:"position",position:{...le}};Z.push(te)}if(M.width!==void 0&&M.height!==void 0){const te={id:T,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:M.width,height:M.height}};Z.push(te)}for(const te of F){const oe={...te,type:"position"};Z.push(oe)}V(Z)},onEnd:()=>{const M={id:T,type:"dimensions",resizing:!1};R.getState().triggerNodeChanges([M])}})),L.current.update({controlPosition:D,boundaries:{minWidth:l,minHeight:u,maxWidth:d,maxHeight:p},keepAspectRatio:h,onResizeStart:x,onResize:_,onResizeEnd:E,shouldResize:b}),()=>{L.current?.destroy()}},[D,l,u,d,p,h,x,_,E,b]);const W=D.split("-"),P=n===th.Line?"borderColor":"backgroundColor",q=o?{...i,[P]:o}:i;return f.jsx("div",{className:ei(["react-flow__resize-control","nodrag",...W,n,r]),ref:O,style:q,children:s})}K.memo(Qne);const Vh="icon-[gala--clock]",Kne=async({tx:t,userId:e})=>{const n=await t.selectFrom(t.selectFrom("Building as b").innerJoin("Construction as c","c.id","b.constructionId").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id as buildingId","c.id","c.cycle","bl.cycles",r=>r.case().when(r.not(r.exists(r.selectFrom("Blueprint_Requirement as br").select(r.lit(1).as("one")).whereRef("br.blueprintId","=","b.blueprintId").where(i=>i.not(i.exists(i.selectFrom("Inventory as i").select(i.lit(1).as("one")).where("i.id","in",i.selectFrom("Building_Inventory").select("inventoryId").whereRef("buildingId","=","b.id")).where("i.type","=","construction").whereRef("i.resourceId","=","br.resourceId").whereRef("i.amount",">=","br.amount"))))))).then(r.lit(!0)).else(r.lit(!1)).end().as("withAvailableResources")]).where("b.userId","=",e).where("c.plan","=",!1).as("building")).where("building.withAvailableResources","=",!0).selectAll().execute();for await(const{id:r,cycle:i,cycles:s,buildingId:o}of n){if(await t.deleteFrom("Route").where("toId","=",o).execute(),i>=s){await t.deleteFrom("Construction").where("id","=",r).execute();continue}await t.updateTable("Construction").set("cycle",i+1).where("id","=",r).execute()}},Gne=async({tx:t,userId:e})=>{const n=await t.selectFrom("Route_Resource as rr").select(["rr.id","rr.routeId","rr.resourceId"]).where("rr.routeId","in",t.selectFrom("Route as r").innerJoin("Building as b","b.id","r.toId").select("r.id").where("b.constructionId","is not",null).where("r.userId","=",e)).execute();for await(const{id:r,routeId:i,resourceId:s}of n){const o=await t.selectFrom("Blueprint_Requirement as br").select(["br.amount"]).where("br.resourceId","=",s).where("br.blueprintId","=",t.selectFrom("Route as r").innerJoin("Building as b","b.id","r.toId").select("b.blueprintId").where("r.id","=",i)).executeTakeFirst(),l=await t.selectFrom("Inventory as i").select(["i.amount"]).where("i.resourceId","=",s).where("i.id","in",t.selectFrom("Building_Inventory as bi").select(["bi.inventoryId"]).where("bi.buildingId","=",t.selectFrom("Route as r").select("r.toId").where("r.id","=",i))).executeTakeFirst();!o||!l||l.amount>=o.amount&&await t.deleteFrom("Route_Resource").where("id","=",r).execute()}},Kq=async({tx:t,userId:e,buildingId:n,blueprintProductionId:r})=>{const i=await t.selectFrom("Blueprint_Production as bp").select(["bp.cycles"]).where("bp.id","=",r).executeTakeFirstOrThrow(),s=await t.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",r).execute();for await(const{resourceId:o,amount:l,passive:u}of s){const d=await t.selectFrom("Inventory as i").innerJoin("Building_Inventory as bi","bi.inventoryId","i.id").select(["i.id","i.amount"]).where("bi.buildingId","=",n).where("i.resourceId","=",o).where("i.amount",">=",l).where("i.type","in",["storage","input"]).executeTakeFirstOrThrow();u||await t.updateTable("Inventory").set({amount:d.amount-l}).where("id","=",d.id).execute()}await t.insertInto("Production").values({id:Un(),buildingId:n,blueprintProductionId:r,userId:e,cycle:0,cycles:i.cycles}).execute()},Jne=async({tx:t,userId:e})=>{const n=await t.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","p.buildingId","p.cycle","p.cycles","bp.resourceId","r.name","bp.amount"]).where("userId","=",e).execute();for await(const{id:s,buildingId:o,resourceId:l,cycle:u,cycles:d,amount:p}of n){if(u<d){await t.updateTable("Production").set("cycle",u+1).where("id","=",s).execute();continue}const h=await t.selectFrom("Inventory as i").select(["i.id","i.amount","i.limit"]).where("i.id","in",t.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",o)).where("i.resourceId","=",l).where("i.type","=","output").executeTakeFirst();if(h&&(!(h.limit>0)||h.amount+p<=h.limit)){await t.updateTable("Inventory").set({amount:h.amount+p}).where("id","=",h.id).execute(),await t.deleteFrom("Production as p").where("p.id","=",s).execute();continue}const b=await t.selectFrom("Inventory as i").select(["i.id","i.amount","i.limit"]).where("i.id","in",t.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",o)).where("i.resourceId","=",l).where("i.type","=","storage").executeTakeFirst();if(b&&(!(b.limit>0)||b.amount+p<=b.limit)){await t.updateTable("Inventory").set({amount:b.amount+p}).where("id","=",b.id).execute(),await t.deleteFrom("Production as p").where("p.id","=",s).execute();continue}}const r=await t.selectFrom("Building as b").select(["b.id as buildingId","b.productionId"]).where("b.userId","=",e).where("b.productionId","is not",null).execute();for await(const{buildingId:s,productionId:o}of r)try{const{count:l}=await t.selectFrom("Production as p").where("p.buildingId","=",s).select(u=>u.fn.count("p.id").as("count")).executeTakeFirstOrThrow();if(l>0)continue;await Kq({tx:t,blueprintProductionId:o,buildingId:s,userId:e}),await t.updateTable("Building").set({productionId:null}).where("id","=",s).execute()}catch{}const i=await t.selectFrom("Building as b").select(["b.id as buildingId","b.recurringProductionId"]).where("b.userId","=",e).where("b.recurringProductionId","is not",null).execute();for await(const{buildingId:s,recurringProductionId:o}of i)try{const{count:l}=await t.selectFrom("Production as p").where("p.buildingId","=",s).select(u=>u.fn.count("p.id").as("count")).executeTakeFirstOrThrow();if(l>0)continue;await Kq({tx:t,blueprintProductionId:o,buildingId:s,userId:e})}catch{}},Zne=async({tx:t,userId:e})=>{const n=await t.selectFrom("Route as r").select(["r.id","r.toId","r.fromId"]).where("r.userId","=",e).execute();for await(const{id:r,fromId:i,toId:s}of n){const o=await t.selectFrom("Route_Resource as rr").select(["rr.amount","rr.resourceId"]).where("rr.routeId","=",r).execute();for await(const{amount:l,resourceId:u}of o){const d=await t.selectFrom("Inventory as i").select(["i.id","i.amount","i.limit"]).where("i.id","in",t.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",i)).where("i.resourceId","=",u).executeTakeFirst(),p=await t.selectFrom("Inventory as i").select(["i.id","i.amount","i.limit"]).where("i.id","in",t.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",s)).where("i.resourceId","=",u).executeTakeFirst();if(!d||!p){console.log("Source or target is not compatible");continue}const h=Math.min(d.amount,l??d.amount);if(p.amount+h>p.limit){console.log("Target is full");continue}await t.updateTable("Inventory").set({amount:d.amount-h}).where("id","=",d.id).execute(),await t.updateTable("Inventory").set({amount:p.amount+h}).where("id","=",p.id).execute()}}},Yne=async({tx:t,userId:e})=>{try{await t.insertInto("Cycle").values({id:Un(),stamp:dn.now().toUTC().toSQLTime(),userId:e}).execute(),await Kne({tx:t,userId:e}),await Gne({tx:t,userId:e}),await Jne({tx:t,userId:e}),await Zne({tx:t,userId:e})}catch(n){throw console.error(n),n}},qL=({userId:t,cycle:e,...n})=>{const r=Yn([["Cycle"],["GameMap"],["Resource_Queue"],["Building_Queue"],["Building"],["User_Inventory"],["Inventory"],["Building_Base_Production"]]),i=ln({mutationKey:["useCycleMutation"],async mutationFn({userId:s}){return Dt.transaction().execute(async o=>Yne({userId:s,tx:o}))},async onSuccess(){await r()}});return f.jsxs(qn,{iconEnabled:Vh,iconDisabled:Vh,onClick:()=>{i.mutate({userId:t})},loading:i.isPending,...n,children:[f.jsx(re,{css:{base:["font-bold"]},label:"New cycle (label)"}),f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx("div",{className:"font-light text-sm",children:En({number:e})}),f.jsx(nn,{icon:"icon-[solar--arrow-right-linear]"}),f.jsx("div",{className:"font-bold",children:En({number:e+1})})]})]})},Xne=({fromX:t,fromY:e,toX:n,toY:r,connectionLineStyle:i})=>{const[s]=x1({sourceX:t,sourceY:e,targetX:n,targetY:r});return f.jsx("g",{children:f.jsx("path",{style:i,fill:"none",d:s})})};function Gq(t,e){const n={...t.internals.positionAbsolute,...t},r=Math.round(n.x),i=Math.round(n.y),s=Math.round(e.x),o=Math.round(e.y);return s<=r+1?Ft.Left:s>=r+n.measured.width-1?Ft.Right:o<=i+1?Ft.Top:o>=n.y+n.measured.height-1?Ft.Bottom:Ft.Top}function Jq(t,e){const{width:n,height:r}=t.measured,i=t.internals.positionAbsolute,s=e.internals.positionAbsolute,o=n/2,l=r/2,u=i.x+o,d=i.y+l,p=s.x+e.measured.width/2,h=s.y+e.measured.height/2,b=(p-u)/(2*o)-(h-d)/(2*l),x=(p-u)/(2*o)+(h-d)/(2*l),_=1/(Math.abs(b)+Math.abs(x)||1),E=_*b,I=_*x,T=o*(E+I)+u,R=l*(-E+I)+d;return{x:T,y:R}}function ere(t,e){const n=Jq(t,e),r=Jq(e,t);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:Gq(t,n),targetPos:Gq(e,r)}}const tre=({id:t,source:e,target:n,markerEnd:r,style:i})=>{const s=Qq(e),o=Qq(n);if(!s||!o)return null;const{sx:l,sy:u,tx:d,ty:p}=ere(s,o),[h]=C1({sourceX:l,sourceY:u,targetX:d,targetY:p});return f.jsx("path",{id:t,className:"react-flow__edge-path",d:h,markerEnd:r,style:i})},nre=({id:t,data:e})=>{const{locale:n}=rn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-col gap-2 w-full items-center justify-between",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between w-full",children:[f.jsx(Mt,{icon:tc,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:n,id:t},css:{base:["font-bold"]},children:e.name}),e.productionName?f.jsxs("div",{className:"flex flex-row gap-2 items-center text-xs text-slate-400",children:[f.jsx(nn,{icon:Fn,variant:{size:"xs"}})," ",f.jsx("div",{children:e.productionName})]}):e.recurringProductionName?f.jsxs("div",{className:"flex flex-row gap-2 items-center text-xs text-slate-400",children:[f.jsx(nn,{icon:"icon-[oui--refresh]",variant:{size:"xs"}}),f.jsx("div",{children:e.recurringProductionName})]}):null]}),e.production?f.jsx(mf,{value:100*e.production.cycle/e.production.cycles}):null,f.jsx(ao,{className:"hidden",position:Ft.Right,type:"source",isConnectable:!1}),f.jsx(ao,{className:"hidden",position:Ft.Left,type:"target",isConnectable:!1})]})},rre=({id:t,data:e})=>{const n=wL(),r=n.inProgress&&n.fromNode.id!==t;return f.jsxs("div",{className:"flex flex-row gap-2 w-full",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(nn,{icon:"icon-[gis--route-end]",css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:e.name})]}),f.jsxs("div",{className:"w-full h-full absolute top-0 left-0",children:[!n.inProgress&&f.jsx(ao,{className:"absolute top-0 left-0 transform-none border-none opacity-0 w-full h-full",position:Ft.Right,type:"source"}),(!n.inProgress||r)&&f.jsx(ao,{className:"absolute top-0 left-0 transform-none border-none opacity-0 w-full h-full",position:Ft.Left,type:"target",isConnectableStart:!1})]})]})},ire=({data:t})=>{const e=Yn([["GameMap"]]),n=ln({async mutationFn({constructionId:r}){return Dt.transaction().execute(i=>i.updateTable("Construction").set({plan:!1}).where("id","=",r).execute())},async onSuccess(){await e()}});return f.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between w-full",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(nn,{icon:"icon-[carbon--floorplan]",css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:t.name})]}),f.jsx(qn,{iconEnabled:NE,iconDisabled:NE,loading:n.isPending,disabled:!t.valid,onClick:()=>{n.mutate({constructionId:t.constructionId})}})]})},Jd="icon-[emojione-monotone--construction]",sre=({data:t})=>{const{locale:e}=rn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[f.jsx("div",{className:"flex flex-row gap-2 items-center",children:f.jsx(Mt,{icon:Jd,to:"/$locale/apps/derivean/map/building/$id/construction/requirements",params:{locale:e,id:t.id},css:{base:["font-bold"]},children:t.name})}),f.jsx(mf,{value:100*t.cycle/t.cycles}),f.jsx(ao,{className:"hidden",position:Ft.Right,type:"source",isConnectable:!1}),f.jsx(ao,{className:"hidden",position:Ft.Left,type:"target",isConnectable:!1})]})},Tn="icon-[solar--home-outline]",Py=256,C0=Py/4,T0=["bg-white","border-[4px]","border-slate-300","shadow-slate-200"],ore={stroke:"#b1b1b7"},are={construction:ire,queue:sre,building:nre,"building-route":rre},lre={route:tre},cre=({userId:t,cycle:e,construction:n,queue:r,building:i,route:s,zoomToId:o,routing:l})=>{const u=Yn([["GameMap"]]),{locale:d}=rn({from:"/$locale"}),p=K.useMemo(()=>[...n.map(q=>({id:q.id,data:q,position:{x:q.x,y:q.y},type:"construction",width:Py,height:C0,className:Sn(T0,["z-10",q.valid?["border-green-500"]:["border-red-500"]])})),...r.map(q=>({id:q.id,data:q,position:{x:q.x,y:q.y},type:l?"building-route":"queue",width:Py,height:C0,className:Sn(T0,["nodrag"])})),...i.map(q=>({id:q.id,data:q,position:{x:q.x,y:q.y},type:l?"building-route":"building",width:Py,height:C0,className:Sn(T0,["nodrag"])}))],[n,r,i,l]),h=K.useMemo(()=>[...s.map(q=>({id:q.id,source:q.fromId,target:q.toId,type:"route",animated:!1,markerEnd:{type:$h.ArrowClosed,color:"#b1b1b7"}}))],[s]),[b,x]=Ene(p),[_,E]=Nne(h),{updateNode:I,getIntersectingNodes:T,fitView:R}=yf();K.useEffect(()=>{x(p)},[p]),K.useEffect(()=>{E(h)},[h]),K.useEffect(()=>{o&&setTimeout(()=>{R({nodes:[{id:o}],duration:750,minZoom:2,maxZoom:2})},250)},[R,o]);const O=ln({mutationKey:["Construction","position"],async mutationFn({buildingId:q,x:M,y:F,valid:V}){return Dt.transaction().execute(async U=>{const{constructionId:z}=await U.selectFrom("Building as b").innerJoin("Construction as c","c.id","b.constructionId").select(["b.id","b.constructionId"]).where("c.plan","=",!0).where("b.id","=",q).executeTakeFirstOrThrow(()=>new Error("Construction not found or not planned."));await U.updateTable("Building").set({x:M,y:F}).where("id","=",q).execute(),await U.updateTable("Construction").set({valid:V}).where("id","=",z).execute()})},async onSuccess(){await u()}}),A=K.useCallback(q=>{x(M=>k1(q,M))},[x]),D=K.useCallback((q,M)=>{const F=T(M).length>0;I(M.id,{...M,data:{...M.data,valid:!F},className:Sn([M.className,F?["border-red-500"]:["border-green-500"]])})},[T,I]),L=K.useCallback((q,M)=>{if(M.type==="construction"){const F=T(M).length>0;O.mutate({buildingId:M.id,x:M.position.x,y:M.position.y,valid:!F})}},[T,O]),W=ln({async mutationFn({fromId:q,toId:M}){return Dt.transaction().execute(async F=>F.insertInto("Route").values({id:Un(),fromId:q,toId:M,userId:t}).execute())},async onSuccess(){await u()}}),P=K.useCallback(q=>E(M=>(W.mutate({fromId:q.source,toId:q.target}),F2(q,M))),[E]);return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"flex flex-row",children:[f.jsxs(NL,{nodes:b,edges:_,onNodesChange:A,onNodeDrag:D,onNodeDragStop:L,onConnect:P,className:"flex-grow h-screen",fitView:!0,snapToGrid:!0,snapGrid:[32,32],elementsSelectable:!1,nodeTypes:are,edgeTypes:lre,connectionLineComponent:Xne,connectionLineStyle:ore,children:[f.jsx(qL,{userId:t,cycle:e,css:{base:["react-flow__panel","absolute","top-1","right-1"]}}),f.jsx(TL,{orientation:"horizontal",showInteractive:!1,showZoom:!0}),f.jsx(OL,{zoomable:!0,draggable:!0,pannable:!0}),f.jsx(IL,{variant:na.Dots,gap:32,size:1}),f.jsxs("div",{className:"react-flow__panel flex flex-row p-2 border bg-white border-slate-300 shadow-sm",children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/game",params:{locale:d}}),f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/map/construction",params:{locale:d}}),f.jsx(Mt,{icon:"icon-[gis--route-end]",to:"/$locale/apps/derivean/map",params:{locale:d},search:{routing:!l},css:{base:l?["text-green-600"]:void 0}})]})]}),f.jsx(uo,{})]})})},ure=({cycle:t,userId:e,construction:n,building:r,queue:i,route:s,zoomToId:o,routing:l})=>f.jsx(EL,{children:f.jsx(cre,{userId:e,cycle:t,construction:n,queue:i,building:r,route:s,zoomToId:o,routing:l})}),YE=Vt("/$locale/apps/derivean/map")({validateSearch:vr(B.object({zoomToId:B.string().optional(),routing:B.boolean().optional()})),async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return mm.parse(pf.get("session"))}catch{throw Qh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{user:r,construction:await t.ensureQueryData({queryKey:["GameMap","construction",r.id],async queryFn(){return e.transaction().execute(i=>Zr({select:i.selectFrom("Building as bg").innerJoin("Construction as c","c.id","bg.constructionId").innerJoin("Blueprint as bl","bl.id","bg.blueprintId").select(["bg.id","bg.blueprintId","bg.constructionId","bl.name","bg.x","bg.y","c.valid"]).where("c.plan","=",!0).where("c.userId","=",r.id),output:B.object({id:B.string().min(1),blueprintId:B.string().min(1),constructionId:B.string().min(1),name:B.string().min(1),x:B.number(),y:B.number(),valid:qs()})}))}}),queue:await t.ensureQueryData({queryKey:["GameMap","queue",r.id],async queryFn(){return e.transaction().execute(i=>Zr({select:i.selectFrom("Building as bg").innerJoin("Construction as c","c.id","bg.constructionId").innerJoin("Blueprint as bl","bl.id","bg.blueprintId").select(["bg.id","bg.blueprintId","bl.name","bg.x","bg.y","c.valid","c.cycles","c.cycle"]).where("c.plan","=",!1).where("c.userId","=",r.id),output:B.object({id:B.string().min(1),blueprintId:B.string().min(1),name:B.string().min(1),x:B.number(),y:B.number(),cycles:B.number().int().nonnegative(),cycle:B.number().int().nonnegative(),valid:qs()})}))}}),building:await t.ensureQueryData({queryKey:["GameMap","building",r.id],async queryFn(){return e.transaction().execute(i=>Zr({select:i.selectFrom("Building as bg").innerJoin("Blueprint as bl","bl.id","bg.blueprintId").select(["bg.id","bg.blueprintId","bg.productionId","bg.recurringProductionId",s=>s.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").whereRef("bp.id","=","bg.productionId").select("r.name").as("productionName"),s=>s.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").whereRef("bp.id","=","bg.recurringProductionId").select("r.name").as("recurringProductionName"),s=>s.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(o=>hF.jsonObject({id:o.ref("p.id"),name:o.ref("r.name"),cycle:o.ref("p.cycle"),cycles:o.ref("p.cycles")}).as("production")).whereRef("p.buildingId","=","bg.id").as("production"),"bl.name","bg.x","bg.y"]).where("bg.constructionId","is",null).where("bg.userId","=",r.id),output:B.object({id:B.string().min(1),blueprintId:B.string().min(1),name:B.string().min(1),productionId:B.string().nullish(),recurringProductionId:B.string().nullish(),productionName:B.string().nullish(),recurringProductionName:B.string().nullish(),production:b9(B.object({id:B.string().min(1),name:B.string().min(1),cycle:B.number().int().nonnegative(),cycles:B.number().int().nonnegative()})).nullish(),x:B.number(),y:B.number()})}))}}),route:await t.ensureQueryData({queryKey:["GameMap","route",r.id],async queryFn(){return e.transaction().execute(i=>Zr({select:i.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Blueprint as blf","blf.id","bf.blueprintId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blf.name as fromName","blt.name as toName"]).where("r.userId","=",r.id),output:B.object({id:B.string().min(1),fromId:B.string().min(1),toId:B.string().min(1),fromName:B.string().min(1),toName:B.string().min(1)})}))}}),cycle:await t.ensureQueryData({queryKey:["GameMap","Cycle",r.id],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component(){const{user:t,construction:e,queue:n,building:r,route:i,cycle:s}=YE.useLoaderData(),{zoomToId:o,routing:l}=YE.useSearch();return f.jsx(ure,{userId:t.id,cycle:s,construction:e,queue:n,building:r,route:i,zoomToId:o,routing:l})}}),dre=t=>{const{locale:e}=rn({from:"/$locale"});return f.jsxs(ec,{...t,children:[f.jsx(Zn,{icon:"icon-[et--map]",to:"/$locale/apps/derivean/map",params:{locale:e},children:f.jsx(re,{label:"Map (menu)"})}),f.jsx(Zn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/list",params:{locale:e},children:f.jsx(re,{label:"Blueprint list (menu)"})})]})},fre=Vt("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return mm.parse(pf.get("session"))}catch{throw Qh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{session:r,cycle:await t.ensureQueryData({queryKey:["Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component(){const{locale:t}=rn({from:"/$locale"}),{session:e,cycle:n}=Ni({from:"/$locale/apps/derivean/game"}),r=vB({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(i){return i.state.status}});return f.jsx(PD,{logo:f.jsx(Mt,{to:"/$locale/apps/derivean/game",params:{locale:t},children:f.jsx(WD,{})}),menu:f.jsxs("div",{className:"flex flex-row items-center gap-4",children:[f.jsx(dre,{}),f.jsx(qL,{cycle:n,userId:e.id})]}),actions:f.jsxs(f.Fragment,{children:[e.name,f.jsx(Mt,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),f.jsx(Mt,{icon:a1,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:f.jsx(uo,{})})}});var Fy={exports:{}},pre=Fy.exports,Zq;function hre(){return Zq||(Zq=1,function(t,e){(function(n,r){r()})(pre,function(){function n(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,p,h){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){u(b.response,p,h)},b.onerror=function(){console.error("could not download file")},b.send()}function i(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Fc=="object"&&Fc.global===Fc?Fc:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,p,h){var b=o.URL||o.webkitURL,x=document.createElement("a");p=p||d.name||"download",x.download=p,x.rel="noopener",typeof d=="string"?(x.href=d,x.origin===location.origin?s(x):i(x.href)?r(d,p,h):s(x,x.target="_blank")):(x.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,h){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,h),p);else if(i(d))r(d,p,h);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,p,h,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return r(d,p,h);var x=d.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||x&&_||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var O=I.result;O=E?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=O:location=O,b=null},I.readAsDataURL(d)}else{var T=o.URL||o.webkitURL,R=T.createObjectURL(d);b?b.location=R:location.href=R,b=null,setTimeout(function(){T.revokeObjectURL(R)},4e4)}});o.saveAs=u.saveAs=u,t.exports=u})}(Fy)),Fy.exports}var mre=hre();const gre=co(mre),R0=["Tag","Resource","Resource_Tag","Blueprint","Inventory","Blueprint_Inventory","Blueprint_Dependency","Blueprint_Conflict","Blueprint_Requirement","Blueprint_Production","Blueprint_Production_Requirement","Blueprint_Production_Dependency","Blueprint_Production_Resource"],yre=Vt("/$locale/apps/derivean/root/")({component(){const t=ln({mutationKey:["export"],async mutationFn(){return Rn.promise((async()=>{const e=[];await Dt.transaction().execute(async n=>{for await(const r of R0)e.push({source:r,entities:await n.selectFrom(r).selectAll().execute()})}),gre.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"export.json")})(),Xr("Export game files"))}});return f.jsxs("div",{className:"flex flex-col gap-4 w-2/3 mx-auto",children:[f.jsx(wG,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text());await Ir`PRAGMA foreign_keys = OFF`.execute(Dt),await Rn.promise(Dt.transaction().execute(async i=>{for await(const{source:s}of r){const o=R0.find(l=>l===s);o&&await i.deleteFrom(o).execute()}for await(const{source:s,entities:o}of r){const l=R0.find(u=>u===s);if(l)for await(const u of Object.values(o))await i.insertInto(l).values(u).execute()}}),Xr("Import game files")),await Ir`PRAGMA foreign_keys = ON`.execute(Dt)}}),f.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:f.jsx(qn,{iconEnabled:zD,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:f.jsx(re,{label:"Export game files (label)"})})}),f.jsx("h2",{children:"TODO"}),f.jsxs("ul",{className:"flex flex-col gap-2",children:[f.jsx("li",{children:"Add notification center like inventory is full, production is full and so on."}),f.jsx("li",{children:'Upgrades: Put everything into the building, drive upgrades by passive "Research" points'}),f.jsx("li",{children:"Bundle default gameplay as exported json (put into public); add button to root to load default/selected gameplay; idea is a few buttons: Settler like, Fantasy, AoE and so on."}),f.jsx("li",{children:"Define game ending rules: amount of resources in (individual resourece per required cycle), required building in a cycle. When a player fail, game end with the ability to reset. Each game rule may have an ending message to show."}),f.jsx("li",{children:"Define winning rules: amount of resources / building built in specific cycle. When rules are not met, it's like a fail."}),f.jsx("li",{children:"Add something like world available resources + the ability to drain and add resources to the world. Something like Wolrd_Inventory where 0 means unlimited resources."}),f.jsx("li",{children:"World renewal resources: a list of resources with cycles and amount when they got renewed (world_renewal_queue)."}),f.jsx("li",{children:"Defines seasons: list of cyclic seasons with their length; resource production may be bound to specific season(s)."}),f.jsx("li",{children:"Add maintenance cost for a building: when a cycle ends, cost is deducted from the inventory. If there is not enough resources, building will be marked as offline (closed for production)."}),f.jsx("li",{children:"Dispaly resources per season (some resources will be available only in specific season)"}),f.jsx("li",{children:"Add resource probability drop: some resources may have not be produces (like a crop). This should be thinked out."})]})]})}}),bre=Vt("/$locale/apps/derivean/map/")({}),vre=Vt("/$locale/apps/derivean/game/")({component(){const{tva:t}=yr({from:"__root__"}),e=t().slots;return f.jsx("div",{className:e.base(),children:f.jsx("div",{children:"management here"})})}});var O0,Yq;function T1(){if(Yq)return O0;Yq=1;var t="\0",e="\0",n="\x01";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(p){p&&(this._isDirected=Object.hasOwn(p,"directed")?p.directed:!0,this._isMultigraph=Object.hasOwn(p,"multigraph")?p.multigraph:!1,this._isCompound=Object.hasOwn(p,"compound")?p.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(p){return this._label=p,this}graph(){return this._label}setDefaultNodeLabel(p){return this._defaultNodeLabelFn=p,typeof p!="function"&&(this._defaultNodeLabelFn=()=>p),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var p=this;return this.nodes().filter(h=>Object.keys(p._in[h]).length===0)}sinks(){var p=this;return this.nodes().filter(h=>Object.keys(p._out[h]).length===0)}setNodes(p,h){var b=arguments,x=this;return p.forEach(function(_){b.length>1?x.setNode(_,h):x.setNode(_)}),this}setNode(p,h){return Object.hasOwn(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=h),this):(this._nodes[p]=arguments.length>1?h:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=e,this._children[p]={},this._children[e][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)}node(p){return this._nodes[p]}hasNode(p){return Object.hasOwn(this._nodes,p)}removeNode(p){var h=this;if(Object.hasOwn(this._nodes,p)){var b=x=>h.removeEdge(h._edgeObjs[x]);delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],this.children(p).forEach(function(x){h.setParent(x)}),delete this._children[p]),Object.keys(this._in[p]).forEach(b),delete this._in[p],delete this._preds[p],Object.keys(this._out[p]).forEach(b),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this}setParent(p,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h===void 0)h=e;else{h+="";for(var b=h;b!==void 0;b=this.parent(b))if(b===p)throw new Error("Setting "+h+" as parent of "+p+" would create a cycle");this.setNode(h)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=h,this._children[h][p]=!0,this}_removeFromParentsChildList(p){delete this._children[this._parent[p]][p]}parent(p){if(this._isCompound){var h=this._parent[p];if(h!==e)return h}}children(p=e){if(this._isCompound){var h=this._children[p];if(h)return Object.keys(h)}else{if(p===e)return this.nodes();if(this.hasNode(p))return[]}}predecessors(p){var h=this._preds[p];if(h)return Object.keys(h)}successors(p){var h=this._sucs[p];if(h)return Object.keys(h)}neighbors(p){var h=this.predecessors(p);if(h){const x=new Set(h);for(var b of this.successors(p))x.add(b);return Array.from(x.values())}}isLeaf(p){var h;return this.isDirected()?h=this.successors(p):h=this.neighbors(p),h.length===0}filterNodes(p){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var b=this;Object.entries(this._nodes).forEach(function([E,I]){p(E)&&h.setNode(E,I)}),Object.values(this._edgeObjs).forEach(function(E){h.hasNode(E.v)&&h.hasNode(E.w)&&h.setEdge(E,b.edge(E))});var x={};function _(E){var I=b.parent(E);return I===void 0||h.hasNode(I)?(x[E]=I,I):I in x?x[I]:_(I)}return this._isCompound&&h.nodes().forEach(E=>h.setParent(E,_(E))),h}setDefaultEdgeLabel(p){return this._defaultEdgeLabelFn=p,typeof p!="function"&&(this._defaultEdgeLabelFn=()=>p),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(p,h){var b=this,x=arguments;return p.reduce(function(_,E){return x.length>1?b.setEdge(_,E,h):b.setEdge(_,E),E}),this}setEdge(){var p,h,b,x,_=!1,E=arguments[0];typeof E=="object"&&E!==null&&"v"in E?(p=E.v,h=E.w,b=E.name,arguments.length===2&&(x=arguments[1],_=!0)):(p=E,h=arguments[1],b=arguments[3],arguments.length>2&&(x=arguments[2],_=!0)),p=""+p,h=""+h,b!==void 0&&(b=""+b);var I=o(this._isDirected,p,h,b);if(Object.hasOwn(this._edgeLabels,I))return _&&(this._edgeLabels[I]=x),this;if(b!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(h),this._edgeLabels[I]=_?x:this._defaultEdgeLabelFn(p,h,b);var T=l(this._isDirected,p,h,b);return p=T.v,h=T.w,Object.freeze(T),this._edgeObjs[I]=T,i(this._preds[h],p),i(this._sucs[p],h),this._in[h][I]=T,this._out[p][I]=T,this._edgeCount++,this}edge(p,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,p,h,b);return this._edgeLabels[x]}edgeAsObj(){const p=this.edge(...arguments);return typeof p!="object"?{label:p}:p}hasEdge(p,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,p,h,b);return Object.hasOwn(this._edgeLabels,x)}removeEdge(p,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,p,h,b),_=this._edgeObjs[x];return _&&(p=_.v,h=_.w,delete this._edgeLabels[x],delete this._edgeObjs[x],s(this._preds[h],p),s(this._sucs[p],h),delete this._in[h][x],delete this._out[p][x],this._edgeCount--),this}inEdges(p,h){var b=this._in[p];if(b){var x=Object.values(b);return h?x.filter(_=>_.v===h):x}}outEdges(p,h){var b=this._out[p];if(b){var x=Object.values(b);return h?x.filter(_=>_.w===h):x}}nodeEdges(p,h){var b=this.inEdges(p,h);if(b)return b.concat(this.outEdges(p,h))}}function i(d,p){d[p]?d[p]++:d[p]=1}function s(d,p){--d[p]||delete d[p]}function o(d,p,h,b){var x=""+p,_=""+h;if(!d&&x>_){var E=x;x=_,_=E}return x+n+_+n+(b===void 0?t:b)}function l(d,p,h,b){var x=""+p,_=""+h;if(!d&&x>_){var E=x;x=_,_=E}var I={v:x,w:_};return b&&(I.name=b),I}function u(d,p){return o(d,p.v,p.w,p.name)}return O0=r,O0}var q0,Xq;function xre(){return Xq||(Xq=1,q0="2.2.4"),q0}var j0,ej;function wre(){return ej||(ej=1,j0={Graph:T1(),version:xre()}),j0}var A0,tj;function _re(){if(tj)return A0;tj=1;var t=T1();A0={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var l=s.node(o),u=s.parent(o),d={v:o};return l!==void 0&&(d.value=l),u!==void 0&&(d.parent=u),d})}function r(s){return s.edges().map(function(o){var l=s.edge(o),u={v:o.v,w:o.w};return o.name!==void 0&&(u.name=o.name),l!==void 0&&(u.value=l),u})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),s.edges.forEach(function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return A0}var P0,nj;function Sre(){if(nj)return P0;nj=1,P0=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return P0}var F0,rj;function jL(){if(rj)return F0;rj=1;class t{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],l=i[r];i[n]=l,i[r]=o,s[l.key]=n,s[o.key]=r}}return F0=t,F0}var D0,ij;function AL(){if(ij)return D0;ij=1;var t=jL();D0=n;var e=()=>1;function n(i,s,o,l){return r(i,String(s),o||e,l||function(u){return i.outEdges(u)})}function r(i,s,o,l){var u={},d=new t,p,h,b=function(x){var _=x.v!==p?x.v:x.w,E=u[_],I=o(x),T=h.distance+I;if(I<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+I);T<E.distance&&(E.distance=T,E.predecessor=p,d.decrease(_,T))};for(i.nodes().forEach(function(x){var _=x===s?0:Number.POSITIVE_INFINITY;u[x]={distance:_},d.add(x,_)});d.size()>0&&(p=d.removeMin(),h=u[p],h.distance!==Number.POSITIVE_INFINITY);)l(p).forEach(b);return u}return D0}var L0,sj;function Ere(){if(sj)return L0;sj=1;var t=AL();L0=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return L0}var M0,oj;function PL(){if(oj)return M0;oj=1,M0=t;function t(e){var n=0,r=[],i={},s=[];function o(l){var u=i[l]={onStack:!0,lowlink:n,index:n++};if(r.push(l),e.successors(l).forEach(function(h){Object.hasOwn(i,h)?i[h].onStack&&(u.lowlink=Math.min(u.lowlink,i[h].index)):(o(h),u.lowlink=Math.min(u.lowlink,i[h].lowlink))}),u.lowlink===u.index){var d=[],p;do p=r.pop(),i[p].onStack=!1,d.push(p);while(l!==p);s.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||o(l)}),s}return M0}var $0,aj;function Nre(){if(aj)return $0;aj=1;var t=PL();$0=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return $0}var B0,lj;function kre(){if(lj)return B0;lj=1,B0=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},l=r.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(d){u!==d&&(o[u][d]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(d){var p=d.v===u?d.w:d.v,h=i(d);o[u][p]={distance:h,predecessor:u}})}),l.forEach(function(u){var d=o[u];l.forEach(function(p){var h=o[p];l.forEach(function(b){var x=h[u],_=d[b],E=h[b],I=x.distance+_.distance;I<E.distance&&(E.distance=I,E.predecessor=_.predecessor)})})}),o}return B0}var z0,cj;function FL(){if(cj)return z0;cj=1;function t(n){var r={},i={},s=[];function o(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(r,l)||(i[l]=!0,r[l]=!0,n.predecessors(l).forEach(o),delete i[l],s.push(l))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return z0=t,t.CycleException=e,z0}var W0,uj;function Ire(){if(uj)return W0;uj=1;var t=FL();W0=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return W0}var V0,dj;function DL(){if(dj)return V0;dj=1,V0=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var l=i.isDirected()?h=>i.successors(h):h=>i.neighbors(h),u=o==="post"?e:n,d=[],p={};return s.forEach(h=>{if(!i.hasNode(h))throw new Error("Graph does not have node: "+h);u(h,l,p,d)}),d}function e(i,s,o,l){for(var u=[[i,!1]];u.length>0;){var d=u.pop();d[1]?l.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,u.push([d[0],!0]),r(s(d[0]),p=>u.push([p,!1])))}}function n(i,s,o,l){for(var u=[i];u.length>0;){var d=u.pop();Object.hasOwn(o,d)||(o[d]=!0,l.push(d),r(s(d),p=>u.push(p)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return V0}var U0,fj;function Cre(){if(fj)return U0;fj=1;var t=DL();U0=e;function e(n,r){return t(n,r,"post")}return U0}var H0,pj;function Tre(){if(pj)return H0;pj=1;var t=DL();H0=e;function e(n,r){return t(n,r,"pre")}return H0}var Q0,hj;function Rre(){if(hj)return Q0;hj=1;var t=T1(),e=jL();Q0=n;function n(r,i){var s=new t,o={},l=new e,u;function d(h){var b=h.v===u?h.w:h.v,x=l.priority(b);if(x!==void 0){var _=i(h);_<x&&(o[b]=u,l.decrease(b,_))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(r.nodes()[0],0);for(var p=!1;l.size()>0;){if(u=l.removeMin(),Object.hasOwn(o,u))s.setEdge(u,o[u]);else{if(p)throw new Error("Input graph is not connected: "+r);p=!0}r.nodeEdges(u).forEach(d)}return s}return Q0}var K0,mj;function Ore(){return mj||(mj=1,K0={components:Sre(),dijkstra:AL(),dijkstraAll:Ere(),findCycles:Nre(),floydWarshall:kre(),isAcyclic:Ire(),postorder:Cre(),preorder:Tre(),prim:Rre(),tarjan:PL(),topsort:FL()}),K0}var G0,gj;function Po(){if(gj)return G0;gj=1;var t=wre();return G0={Graph:t.Graph,json:_re(),alg:Ore(),version:t.version},G0}var J0,yj;function qre(){if(yj)return J0;yj=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return J0=t,J0}var Z0,bj;function jre(){if(bj)return Z0;bj=1;let t=Po().Graph,e=qre();Z0=r;let n=()=>1;function r(d,p){if(d.nodeCount()<=1)return[];let h=o(d,p||n);return i(h.graph,h.buckets,h.zeroIdx).flatMap(x=>d.outEdges(x.v,x.w))}function i(d,p,h){let b=[],x=p[p.length-1],_=p[0],E;for(;d.nodeCount();){for(;E=_.dequeue();)s(d,p,h,E);for(;E=x.dequeue();)s(d,p,h,E);if(d.nodeCount()){for(let I=p.length-2;I>0;--I)if(E=p[I].dequeue(),E){b=b.concat(s(d,p,h,E,!0));break}}}return b}function s(d,p,h,b,x){let _=x?[]:void 0;return d.inEdges(b.v).forEach(E=>{let I=d.edge(E),T=d.node(E.v);x&&_.push({v:E.v,w:E.w}),T.out-=I,l(p,h,T)}),d.outEdges(b.v).forEach(E=>{let I=d.edge(E),T=E.w,R=d.node(T);R.in-=I,l(p,h,R)}),d.removeNode(b.v),_}function o(d,p){let h=new t,b=0,x=0;d.nodes().forEach(I=>{h.setNode(I,{v:I,in:0,out:0})}),d.edges().forEach(I=>{let T=h.edge(I.v,I.w)||0,R=p(I),O=T+R;h.setEdge(I.v,I.w,O),x=Math.max(x,h.node(I.v).out+=R),b=Math.max(b,h.node(I.w).in+=R)});let _=u(x+b+3).map(()=>new e),E=b+1;return h.nodes().forEach(I=>{l(_,E,h.node(I))}),{graph:h,buckets:_,zeroIdx:E}}function l(d,p,h){h.out?h.in?d[h.out-h.in+p].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}function u(d){const p=[];for(let h=0;h<d;h++)p.push(h);return p}return Z0}var Y0,vj;function Yr(){if(vj)return Y0;vj=1;let t=Po().Graph;Y0={addBorderNode:p,addDummyNode:e,applyWithChunking:x,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:o,mapValues:L,maxRank:_,normalizeRanks:u,notime:T,partition:E,pick:D,predecessorWeights:s,range:A,removeEmptyRanks:d,simplify:n,successorWeights:i,time:I,uniqueId:O,zipObject:W};function e(P,q,M,F){let V;do V=O(F);while(P.hasNode(V));return M.dummy=q,P.setNode(V,M),V}function n(P){let q=new t().setGraph(P.graph());return P.nodes().forEach(M=>q.setNode(M,P.node(M))),P.edges().forEach(M=>{let F=q.edge(M.v,M.w)||{weight:0,minlen:1},V=P.edge(M);q.setEdge(M.v,M.w,{weight:F.weight+V.weight,minlen:Math.max(F.minlen,V.minlen)})}),q}function r(P){let q=new t({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(M=>{P.children(M).length||q.setNode(M,P.node(M))}),P.edges().forEach(M=>{q.setEdge(M,P.edge(M))}),q}function i(P){let q=P.nodes().map(M=>{let F={};return P.outEdges(M).forEach(V=>{F[V.w]=(F[V.w]||0)+P.edge(V).weight}),F});return W(P.nodes(),q)}function s(P){let q=P.nodes().map(M=>{let F={};return P.inEdges(M).forEach(V=>{F[V.v]=(F[V.v]||0)+P.edge(V).weight}),F});return W(P.nodes(),q)}function o(P,q){let M=P.x,F=P.y,V=q.x-M,U=q.y-F,z=P.width/2,ee=P.height/2;if(!V&&!U)throw new Error("Not possible to find intersection inside of the rectangle");let Z,le;return Math.abs(U)*z>Math.abs(V)*ee?(U<0&&(ee=-ee),Z=ee*V/U,le=ee):(V<0&&(z=-z),Z=z,le=z*U/V),{x:M+Z,y:F+le}}function l(P){let q=A(_(P)+1).map(()=>[]);return P.nodes().forEach(M=>{let F=P.node(M),V=F.rank;V!==void 0&&(q[V][F.order]=M)}),q}function u(P){let q=P.nodes().map(F=>{let V=P.node(F).rank;return V===void 0?Number.MAX_VALUE:V}),M=x(Math.min,q);P.nodes().forEach(F=>{let V=P.node(F);Object.hasOwn(V,"rank")&&(V.rank-=M)})}function d(P){let q=P.nodes().map(z=>P.node(z).rank),M=x(Math.min,q),F=[];P.nodes().forEach(z=>{let ee=P.node(z).rank-M;F[ee]||(F[ee]=[]),F[ee].push(z)});let V=0,U=P.graph().nodeRankFactor;Array.from(F).forEach((z,ee)=>{z===void 0&&ee%U!==0?--V:z!==void 0&&V&&z.forEach(Z=>P.node(Z).rank+=V)})}function p(P,q,M,F){let V={width:0,height:0};return arguments.length>=4&&(V.rank=M,V.order=F),e(P,"border",V,q)}function h(P,q=b){const M=[];for(let F=0;F<P.length;F+=q){const V=P.slice(F,F+q);M.push(V)}return M}const b=65535;function x(P,q){if(q.length>b){const M=h(q);return P.apply(null,M.map(F=>P.apply(null,F)))}else return P.apply(null,q)}function _(P){const M=P.nodes().map(F=>{let V=P.node(F).rank;return V===void 0?Number.MIN_VALUE:V});return x(Math.max,M)}function E(P,q){let M={lhs:[],rhs:[]};return P.forEach(F=>{q(F)?M.lhs.push(F):M.rhs.push(F)}),M}function I(P,q){let M=Date.now();try{return q()}finally{console.log(P+" time: "+(Date.now()-M)+"ms")}}function T(P,q){return q()}let R=0;function O(P){var q=++R;return toString(P)+q}function A(P,q,M=1){q==null&&(q=P,P=0);let F=U=>U<q;M<0&&(F=U=>q<U);const V=[];for(let U=P;F(U);U+=M)V.push(U);return V}function D(P,q){const M={};for(const F of q)P[F]!==void 0&&(M[F]=P[F]);return M}function L(P,q){let M=q;return typeof q=="string"&&(M=F=>F[q]),Object.entries(P).reduce((F,[V,U])=>(F[V]=M(U,V),F),{})}function W(P,q){return P.reduce((M,F,V)=>(M[F]=q[V],M),{})}return Y0}var X0,xj;function Are(){if(xj)return X0;xj=1;let t=jre(),e=Yr().uniqueId;X0={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,l(s)):r(s)).forEach(u=>{let d=s.edge(u);s.removeEdge(u),d.forwardName=u.name,d.reversed=!0,s.setEdge(u.w,u.v,d,e("rev"))});function l(u){return d=>u.edge(d).weight}}function r(s){let o=[],l={},u={};function d(p){Object.hasOwn(u,p)||(u[p]=!0,l[p]=!0,s.outEdges(p).forEach(h=>{Object.hasOwn(l,h.w)?o.push(h):d(h.w)}),delete l[p])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let l=s.edge(o);if(l.reversed){s.removeEdge(o);let u=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,u)}})}return X0}var eS,wj;function Pre(){if(wj)return eS;wj=1;let t=Yr();eS={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,l=i.node(o).rank,u=s.w,d=i.node(u).rank,p=s.name,h=i.edge(s),b=h.labelRank;if(d===l+1)return;i.removeEdge(s);let x,_,E;for(E=0,++l;l<d;++E,++l)h.points=[],_={width:0,height:0,edgeLabel:h,edgeObj:s,rank:l},x=t.addDummyNode(i,"edge",_,"_d"),l===b&&(_.width=h.width,_.height=h.height,_.dummy="edge-label",_.labelpos=h.labelpos),i.setEdge(o,x,{weight:h.weight},p),E===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,u,{weight:h.weight},p)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),l=o.edgeLabel,u;for(i.setEdge(o.edgeObj,l);o.dummy;)u=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=i.node(s)})}return eS}var tS,_j;function Jb(){if(_j)return tS;_j=1;const{applyWithChunking:t}=Yr();tS={longestPath:e,slack:n};function e(r){var i={};function s(o){var l=r.node(o);if(Object.hasOwn(i,o))return l.rank;i[o]=!0;let u=r.outEdges(o).map(p=>p==null?Number.POSITIVE_INFINITY:s(p.w)-r.edge(p).minlen);var d=t(Math.min,u);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return tS}var nS,Sj;function LL(){if(Sj)return nS;Sj=1;var t=Po().Graph,e=Jb().slack;nS=n;function n(o){var l=new t({directed:!1}),u=o.nodes()[0],d=o.nodeCount();l.setNode(u,{});for(var p,h;r(l,o)<d;)p=i(l,o),h=l.hasNode(p.v)?e(o,p):-e(o,p),s(l,o,h);return l}function r(o,l){function u(d){l.nodeEdges(d).forEach(p=>{var h=p.v,b=d===h?p.w:h;!o.hasNode(b)&&!e(l,p)&&(o.setNode(b,{}),o.setEdge(d,b,{}),u(b))})}return o.nodes().forEach(u),o.nodeCount()}function i(o,l){return l.edges().reduce((d,p)=>{let h=Number.POSITIVE_INFINITY;return o.hasNode(p.v)!==o.hasNode(p.w)&&(h=e(l,p)),h<d[0]?[h,p]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,l,u){o.nodes().forEach(d=>l.node(d).rank+=u)}return nS}var rS,Ej;function Fre(){if(Ej)return rS;Ej=1;var t=LL(),e=Jb().slack,n=Jb().longestPath,r=Po().alg.preorder,i=Po().alg.postorder,s=Yr().simplify;rS=o,o.initLowLimValues=p,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=b,o.enterEdge=x,o.exchangeEdges=_;function o(R){R=s(R),n(R);var O=t(R);p(O),l(O,R);for(var A,D;A=b(O);)D=x(O,R,A),_(O,R,A,D)}function l(R,O){var A=i(R,R.nodes());A=A.slice(0,A.length-1),A.forEach(D=>u(R,O,D))}function u(R,O,A){var D=R.node(A),L=D.parent;R.edge(A,L).cutvalue=d(R,O,A)}function d(R,O,A){var D=R.node(A),L=D.parent,W=!0,P=O.edge(A,L),q=0;return P||(W=!1,P=O.edge(L,A)),q=P.weight,O.nodeEdges(A).forEach(M=>{var F=M.v===A,V=F?M.w:M.v;if(V!==L){var U=F===W,z=O.edge(M).weight;if(q+=U?z:-z,I(R,A,V)){var ee=R.edge(A,V).cutvalue;q+=U?-ee:ee}}}),q}function p(R,O){arguments.length<2&&(O=R.nodes()[0]),h(R,{},1,O)}function h(R,O,A,D,L){var W=A,P=R.node(D);return O[D]=!0,R.neighbors(D).forEach(q=>{Object.hasOwn(O,q)||(A=h(R,O,A,q,D))}),P.low=W,P.lim=A++,L?P.parent=L:delete P.parent,A}function b(R){return R.edges().find(O=>R.edge(O).cutvalue<0)}function x(R,O,A){var D=A.v,L=A.w;O.hasEdge(D,L)||(D=A.w,L=A.v);var W=R.node(D),P=R.node(L),q=W,M=!1;W.lim>P.lim&&(q=P,M=!0);var F=O.edges().filter(V=>M===T(R,R.node(V.v),q)&&M!==T(R,R.node(V.w),q));return F.reduce((V,U)=>e(O,U)<e(O,V)?U:V)}function _(R,O,A,D){var L=A.v,W=A.w;R.removeEdge(L,W),R.setEdge(D.v,D.w,{}),p(R),l(R,O),E(R,O)}function E(R,O){var A=R.nodes().find(L=>!O.node(L).parent),D=r(R,A);D=D.slice(1),D.forEach(L=>{var W=R.node(L).parent,P=O.edge(L,W),q=!1;P||(P=O.edge(W,L),q=!0),O.node(L).rank=O.node(W).rank+(q?P.minlen:-P.minlen)})}function I(R,O,A){return R.hasEdge(O,A)}function T(R,O,A){return A.low<=O.lim&&O.lim<=A.lim}return rS}var iS,Nj;function Dre(){if(Nj)return iS;Nj=1;var t=Jb(),e=t.longestPath,n=LL(),r=Fre();iS=i;function i(u){switch(u.graph().ranker){case"network-simplex":l(u);break;case"tight-tree":o(u);break;case"longest-path":s(u);break;default:l(u)}}var s=e;function o(u){e(u),n(u)}function l(u){r(u)}return iS}var sS,kj;function Lre(){if(kj)return sS;kj=1,sS=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),l=o.edgeObj,u=e(r,i,l.v,l.w),d=u.path,p=u.lca,h=0,b=d[h],x=!0;for(;s!==l.w;){if(o=r.node(s),x){for(;(b=d[h])!==p&&r.node(b).maxRank<o.rank;)h++;b===p&&(x=!1)}if(!x){for(;h<d.length-1&&r.node(b=d[h+1]).minRank<=o.rank;)h++;b=d[h]}r.setParent(s,b),s=r.successors(s)[0]}})}function e(r,i,s,o){let l=[],u=[],d=Math.min(i[s].low,i[o].low),p=Math.max(i[s].lim,i[o].lim),h,b;h=s;do h=r.parent(h),l.push(h);while(h&&(i[h].low>d||p>i[h].lim));for(b=h,h=o;(h=r.parent(h))!==b;)u.push(h);return{path:l.concat(u.reverse()),lca:b}}function n(r){let i={},s=0;function o(l){let u=s;r.children(l).forEach(o),i[l]={low:u,lim:s++}}return r.children().forEach(o),i}return sS}var oS,Ij;function Mre(){if(Ij)return oS;Ij=1;let t=Yr();oS={run:e,cleanup:s};function e(o){let l=t.addDummyNode(o,"root",{},"_root"),u=r(o),d=Object.values(u),p=t.applyWithChunking(Math.max,d)-1,h=2*p+1;o.graph().nestingRoot=l,o.edges().forEach(x=>o.edge(x).minlen*=h);let b=i(o)+1;o.children().forEach(x=>n(o,l,h,b,p,u,x)),o.graph().nodeRankFactor=h}function n(o,l,u,d,p,h,b){let x=o.children(b);if(!x.length){b!==l&&o.setEdge(l,b,{weight:0,minlen:u});return}let _=t.addBorderNode(o,"_bt"),E=t.addBorderNode(o,"_bb"),I=o.node(b);o.setParent(_,b),I.borderTop=_,o.setParent(E,b),I.borderBottom=E,x.forEach(T=>{n(o,l,u,d,p,h,T);let R=o.node(T),O=R.borderTop?R.borderTop:T,A=R.borderBottom?R.borderBottom:T,D=R.borderTop?d:2*d,L=O!==A?1:p-h[b]+1;o.setEdge(_,O,{weight:D,minlen:L,nestingEdge:!0}),o.setEdge(A,E,{weight:D,minlen:L,nestingEdge:!0})}),o.parent(b)||o.setEdge(l,_,{weight:0,minlen:p+h[b]})}function r(o){var l={};function u(d,p){var h=o.children(d);h&&h.length&&h.forEach(b=>u(b,p+1)),l[d]=p}return o.children().forEach(d=>u(d,1)),l}function i(o){return o.edges().reduce((l,u)=>l+o.edge(u).weight,0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(u=>{var d=o.edge(u);d.nestingEdge&&o.removeEdge(u)})}return oS}var aS,Cj;function $re(){if(Cj)return aS;Cj=1;let t=Yr();aS=e;function e(r){function i(s){let o=r.children(s),l=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let u=l.minRank,d=l.maxRank+1;u<d;++u)n(r,"borderLeft","_bl",s,l,u),n(r,"borderRight","_br",s,l,u)}}r.children().forEach(i)}function n(r,i,s,o,l,u){let d={width:0,height:0,rank:u,borderType:i},p=l[i][u-1],h=t.addDummyNode(r,"border",d,s);l[i][u]=h,r.setParent(h,o),p&&r.setEdge(p,h,{weight:1})}return aS}var lS,Tj;function Bre(){if(Tj)return lS;Tj=1,lS={adjust:t,undo:e};function t(u){let d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(u)}function e(u){let d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(u),(d==="lr"||d==="rl")&&(o(u),n(u))}function n(u){u.nodes().forEach(d=>r(u.node(d))),u.edges().forEach(d=>r(u.edge(d)))}function r(u){let d=u.width;u.width=u.height,u.height=d}function i(u){u.nodes().forEach(d=>s(u.node(d))),u.edges().forEach(d=>{let p=u.edge(d);p.points.forEach(s),Object.hasOwn(p,"y")&&s(p)})}function s(u){u.y=-u.y}function o(u){u.nodes().forEach(d=>l(u.node(d))),u.edges().forEach(d=>{let p=u.edge(d);p.points.forEach(l),Object.hasOwn(p,"x")&&l(p)})}function l(u){let d=u.x;u.x=u.y,u.y=d}return lS}var cS,Rj;function zre(){if(Rj)return cS;Rj=1;let t=Yr();cS=e;function e(n){let r={},i=n.nodes().filter(p=>!n.children(p).length),s=i.map(p=>n.node(p).rank),o=t.applyWithChunking(Math.max,s),l=t.range(o+1).map(()=>[]);function u(p){if(r[p])return;r[p]=!0;let h=n.node(p);l[h.rank].push(p),n.successors(p).forEach(u)}return i.sort((p,h)=>n.node(p).rank-n.node(h).rank).forEach(u),l}return cS}var uS,Oj;function Wre(){if(Oj)return uS;Oj=1;let t=Yr().zipObject;uS=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((b,x)=>x)),l=i.flatMap(b=>r.outEdges(b).map(x=>({pos:o[x.w],weight:r.edge(x).weight})).sort((x,_)=>x.pos-_.pos)),u=1;for(;u<s.length;)u<<=1;let d=2*u-1;u-=1;let p=new Array(d).fill(0),h=0;return l.forEach(b=>{let x=b.pos+u;p[x]+=b.weight;let _=0;for(;x>0;)x%2&&(_+=p[x+1]),x=x-1>>1,p[x]+=b.weight;h+=b.weight*_}),h}return uS}var dS,qj;function Vre(){if(qj)return dS;qj=1,dS=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,l)=>{let u=e.edge(l),d=e.node(l.v);return{sum:o.sum+u.weight*d.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return dS}var fS,jj;function Ure(){if(jj)return fS;jj=1;let t=Yr();fS=e;function e(i,s){let o={};i.forEach((u,d)=>{let p=o[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:d};u.barycenter!==void 0&&(p.barycenter=u.barycenter,p.weight=u.weight)}),s.edges().forEach(u=>{let d=o[u.v],p=o[u.w];d!==void 0&&p!==void 0&&(p.indegree++,d.out.push(o[u.w]))});let l=Object.values(o).filter(u=>!u.indegree);return n(l)}function n(i){let s=[];function o(u){return d=>{d.merged||(d.barycenter===void 0||u.barycenter===void 0||d.barycenter>=u.barycenter)&&r(u,d)}}function l(u){return d=>{d.in.push(u),--d.indegree===0&&i.push(d)}}for(;i.length;){let u=i.pop();s.push(u),u.in.reverse().forEach(o(u)),u.out.forEach(l(u))}return s.filter(u=>!u.merged).map(u=>t.pick(u,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,l=0;i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),s.weight&&(o+=s.barycenter*s.weight,l+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/l,i.weight=l,i.i=Math.min(s.i,i.i),s.merged=!0}return fS}var pS,Aj;function Hre(){if(Aj)return pS;Aj=1;let t=Yr();pS=e;function e(i,s){let o=t.partition(i,_=>Object.hasOwn(_,"barycenter")),l=o.lhs,u=o.rhs.sort((_,E)=>E.i-_.i),d=[],p=0,h=0,b=0;l.sort(r(!!s)),b=n(d,u,b),l.forEach(_=>{b+=_.vs.length,d.push(_.vs),p+=_.barycenter*_.weight,h+=_.weight,b=n(d,u,b)});let x={vs:d.flat(!0)};return h&&(x.barycenter=p/h,x.weight=h),x}function n(i,s,o){let l;for(;s.length&&(l=s[s.length-1]).i<=o;)s.pop(),i.push(l.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return pS}var hS,Pj;function Qre(){if(Pj)return hS;Pj=1;let t=Vre(),e=Ure(),n=Hre();hS=r;function r(o,l,u,d){let p=o.children(l),h=o.node(l),b=h?h.borderLeft:void 0,x=h?h.borderRight:void 0,_={};b&&(p=p.filter(R=>R!==b&&R!==x));let E=t(o,p);E.forEach(R=>{if(o.children(R.v).length){let O=r(o,R.v,u,d);_[R.v]=O,Object.hasOwn(O,"barycenter")&&s(R,O)}});let I=e(E,u);i(I,_);let T=n(I,d);if(b&&(T.vs=[b,T.vs,x].flat(!0),o.predecessors(b).length)){let R=o.node(o.predecessors(b)[0]),O=o.node(o.predecessors(x)[0]);Object.hasOwn(T,"barycenter")||(T.barycenter=0,T.weight=0),T.barycenter=(T.barycenter*T.weight+R.order+O.order)/(T.weight+2),T.weight+=2}return T}function i(o,l){o.forEach(u=>{u.vs=u.vs.flatMap(d=>l[d]?l[d].vs:d)})}function s(o,l){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)}return hS}var mS,Fj;function Kre(){if(Fj)return mS;Fj=1;let t=Po().Graph,e=Yr();mS=n;function n(i,s,o){let l=r(i),u=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let p=i.node(d),h=i.parent(d);(p.rank===s||p.minRank<=s&&s<=p.maxRank)&&(u.setNode(d),u.setParent(d,h||l),i[o](d).forEach(b=>{let x=b.v===d?b.w:b.v,_=u.edge(x,d),E=_!==void 0?_.weight:0;u.setEdge(x,d,{weight:i.edge(b).weight+E})}),Object.hasOwn(p,"minRank")&&u.setNode(d,{borderLeft:p.borderLeft[s],borderRight:p.borderRight[s]}))}),u}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return mS}var gS,Dj;function Gre(){if(Dj)return gS;Dj=1,gS=t;function t(e,n,r){let i={},s;r.forEach(o=>{let l=e.parent(o),u,d;for(;l;){if(u=e.parent(l),u?(d=i[u],i[u]=l):(d=s,s=l),d&&d!==l){n.setEdge(d,l);return}l=u}})}return gS}var yS,Lj;function Jre(){if(Lj)return yS;Lj=1;let t=zre(),e=Wre(),n=Qre(),r=Kre(),i=Gre(),s=Po().Graph,o=Yr();yS=l;function l(h,b){if(b&&typeof b.customOrder=="function"){b.customOrder(h,l);return}let x=o.maxRank(h),_=u(h,o.range(1,x+1),"inEdges"),E=u(h,o.range(x-1,-1,-1),"outEdges"),I=t(h);if(p(h,I),b&&b.disableOptimalOrderHeuristic)return;let T=Number.POSITIVE_INFINITY,R;for(let O=0,A=0;A<4;++O,++A){d(O%2?_:E,O%4>=2),I=o.buildLayerMatrix(h);let D=e(h,I);D<T&&(A=0,R=Object.assign({},I),T=D)}p(h,R)}function u(h,b,x){return b.map(function(_){return r(h,_,x)})}function d(h,b){let x=new s;h.forEach(function(_){let E=_.graph().root,I=n(_,E,x,b);I.vs.forEach((T,R)=>_.node(T).order=R),i(_,x,I.vs)})}function p(h,b){Object.values(b).forEach(x=>x.forEach((_,E)=>h.node(_).order=E))}return yS}var bS,Mj;function Zre(){if(Mj)return bS;Mj=1;let t=Po().Graph,e=Yr();bS={positionX:x,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:p,balance:b};function n(I,T){let R={};function O(A,D){let L=0,W=0,P=A.length,q=D[D.length-1];return D.forEach((M,F)=>{let V=i(I,M),U=V?I.node(V).order:P;(V||M===q)&&(D.slice(W,F+1).forEach(z=>{I.predecessors(z).forEach(ee=>{let Z=I.node(ee),le=Z.order;(le<L||U<le)&&!(Z.dummy&&I.node(z).dummy)&&s(R,ee,z)})}),W=F+1,L=U)}),D}return T.length&&T.reduce(O),R}function r(I,T){let R={};function O(D,L,W,P,q){let M;e.range(L,W).forEach(F=>{M=D[F],I.node(M).dummy&&I.predecessors(M).forEach(V=>{let U=I.node(V);U.dummy&&(U.order<P||U.order>q)&&s(R,V,M)})})}function A(D,L){let W=-1,P,q=0;return L.forEach((M,F)=>{if(I.node(M).dummy==="border"){let V=I.predecessors(M);V.length&&(P=I.node(V[0]).order,O(L,q,F,W,P),q=F,W=P)}O(L,q,L.length,P,D.length)}),L}return T.length&&T.reduce(A),R}function i(I,T){if(I.node(T).dummy)return I.predecessors(T).find(R=>I.node(R).dummy)}function s(I,T,R){if(T>R){let A=T;T=R,R=A}let O=I[T];O||(I[T]=O={}),O[R]=!0}function o(I,T,R){if(T>R){let O=T;T=R,R=O}return!!I[T]&&Object.hasOwn(I[T],R)}function l(I,T,R,O){let A={},D={},L={};return T.forEach(W=>{W.forEach((P,q)=>{A[P]=P,D[P]=P,L[P]=q})}),T.forEach(W=>{let P=-1;W.forEach(q=>{let M=O(q);if(M.length){M=M.sort((V,U)=>L[V]-L[U]);let F=(M.length-1)/2;for(let V=Math.floor(F),U=Math.ceil(F);V<=U;++V){let z=M[V];D[q]===q&&P<L[z]&&!o(R,q,z)&&(D[z]=q,D[q]=A[q]=A[z],P=L[z])}}})}),{root:A,align:D}}function u(I,T,R,O,A){let D={},L=d(I,T,R,A),W=A?"borderLeft":"borderRight";function P(F,V){let U=L.nodes(),z=U.pop(),ee={};for(;z;)ee[z]?F(z):(ee[z]=!0,U.push(z),U=U.concat(V(z))),z=U.pop()}function q(F){D[F]=L.inEdges(F).reduce((V,U)=>Math.max(V,D[U.v]+L.edge(U)),0)}function M(F){let V=L.outEdges(F).reduce((z,ee)=>Math.min(z,D[ee.w]-L.edge(ee)),Number.POSITIVE_INFINITY),U=I.node(F);V!==Number.POSITIVE_INFINITY&&U.borderType!==W&&(D[F]=Math.max(D[F],V))}return P(q,L.predecessors.bind(L)),P(M,L.successors.bind(L)),Object.keys(O).forEach(F=>D[F]=D[R[F]]),D}function d(I,T,R,O){let A=new t,D=I.graph(),L=_(D.nodesep,D.edgesep,O);return T.forEach(W=>{let P;W.forEach(q=>{let M=R[q];if(A.setNode(M),P){var F=R[P],V=A.edge(F,M);A.setEdge(F,M,Math.max(L(I,q,P),V||0))}P=q})}),A}function p(I,T){return Object.values(T).reduce((R,O)=>{let A=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(O).forEach(([W,P])=>{let q=E(I,W)/2;A=Math.max(P+q,A),D=Math.min(P-q,D)});const L=A-D;return L<R[0]&&(R=[L,O]),R},[Number.POSITIVE_INFINITY,null])[1]}function h(I,T){let R=Object.values(T),O=e.applyWithChunking(Math.min,R),A=e.applyWithChunking(Math.max,R);["u","d"].forEach(D=>{["l","r"].forEach(L=>{let W=D+L,P=I[W];if(P===T)return;let q=Object.values(P),M=O-e.applyWithChunking(Math.min,q);L!=="l"&&(M=A-e.applyWithChunking(Math.max,q)),M&&(I[W]=e.mapValues(P,F=>F+M))})})}function b(I,T){return e.mapValues(I.ul,(R,O)=>{if(T)return I[T.toLowerCase()][O];{let A=Object.values(I).map(D=>D[O]).sort((D,L)=>D-L);return(A[1]+A[2])/2}})}function x(I){let T=e.buildLayerMatrix(I),R=Object.assign(n(I,T),r(I,T)),O={},A;["u","d"].forEach(L=>{A=L==="u"?T:Object.values(T).reverse(),["l","r"].forEach(W=>{W==="r"&&(A=A.map(F=>Object.values(F).reverse()));let P=(L==="u"?I.predecessors:I.successors).bind(I),q=l(I,A,R,P),M=u(I,A,q.root,q.align,W==="r");W==="r"&&(M=e.mapValues(M,F=>-F)),O[L+W]=M})});let D=p(I,O);return h(O,D),b(O,I.graph().align)}function _(I,T,R){return(O,A,D)=>{let L=O.node(A),W=O.node(D),P=0,q;if(P+=L.width/2,Object.hasOwn(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":q=-L.width/2;break;case"r":q=L.width/2;break}if(q&&(P+=R?q:-q),q=0,P+=(L.dummy?T:I)/2,P+=(W.dummy?T:I)/2,P+=W.width/2,Object.hasOwn(W,"labelpos"))switch(W.labelpos.toLowerCase()){case"l":q=W.width/2;break;case"r":q=-W.width/2;break}return q&&(P+=R?q:-q),q=0,P}}function E(I,T){return I.node(T).width}return bS}var vS,$j;function Yre(){if($j)return vS;$j=1;let t=Yr(),e=Zre().positionX;vS=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,l=0;s.forEach(u=>{const d=u.reduce((p,h)=>{const b=i.node(h).height;return p>b?p:b},0);u.forEach(p=>i.node(p).y=l+d/2),l+=d+o})}return vS}var xS,Bj;function Xre(){if(Bj)return xS;Bj=1;let t=Are(),e=Pre(),n=Dre(),r=Yr().normalizeRanks,i=Lre(),s=Yr().removeEmptyRanks,o=Mre(),l=$re(),u=Bre(),d=Jre(),p=Yre(),h=Yr(),b=Po().Graph;xS=x;function x(de,ye){let we=ye&&ye.debugTiming?h.time:h.notime;we("layout",()=>{let Ne=we("  buildLayoutGraph",()=>P(de));we("  runLayout",()=>_(Ne,we,ye)),we("  updateInputGraph",()=>E(de,Ne))})}function _(de,ye,we){ye("    makeSpaceForEdgeLabels",()=>q(de)),ye("    removeSelfEdges",()=>se(de)),ye("    acyclic",()=>t.run(de)),ye("    nestingGraph.run",()=>o.run(de)),ye("    rank",()=>n(h.asNonCompoundGraph(de))),ye("    injectEdgeLabelProxies",()=>M(de)),ye("    removeEmptyRanks",()=>s(de)),ye("    nestingGraph.cleanup",()=>o.cleanup(de)),ye("    normalizeRanks",()=>r(de)),ye("    assignRankMinMax",()=>F(de)),ye("    removeEdgeLabelProxies",()=>V(de)),ye("    normalize.run",()=>e.run(de)),ye("    parentDummyChains",()=>i(de)),ye("    addBorderSegments",()=>l(de)),ye("    order",()=>d(de,we)),ye("    insertSelfEdges",()=>te(de)),ye("    adjustCoordinateSystem",()=>u.adjust(de)),ye("    position",()=>p(de)),ye("    positionSelfEdges",()=>oe(de)),ye("    removeBorderNodes",()=>le(de)),ye("    normalize.undo",()=>e.undo(de)),ye("    fixupEdgeLabelCoords",()=>ee(de)),ye("    undoCoordinateSystem",()=>u.undo(de)),ye("    translateGraph",()=>U(de)),ye("    assignNodeIntersects",()=>z(de)),ye("    reversePoints",()=>Z(de)),ye("    acyclic.undo",()=>t.undo(de))}function E(de,ye){de.nodes().forEach(we=>{let Ne=de.node(we),ze=ye.node(we);Ne&&(Ne.x=ze.x,Ne.y=ze.y,Ne.rank=ze.rank,ye.children(we).length&&(Ne.width=ze.width,Ne.height=ze.height))}),de.edges().forEach(we=>{let Ne=de.edge(we),ze=ye.edge(we);Ne.points=ze.points,Object.hasOwn(ze,"x")&&(Ne.x=ze.x,Ne.y=ze.y)}),de.graph().width=ye.graph().width,de.graph().height=ye.graph().height}let I=["nodesep","edgesep","ranksep","marginx","marginy"],T={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},R=["acyclicer","ranker","rankdir","align"],O=["width","height"],A={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],L={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},W=["labelpos"];function P(de){let ye=new b({multigraph:!0,compound:!0}),we=ue(de.graph());return ye.setGraph(Object.assign({},T,X(we,I),h.pick(we,R))),de.nodes().forEach(Ne=>{let ze=ue(de.node(Ne));const Oe=X(ze,O);Object.keys(A).forEach(De=>{Oe[De]===void 0&&(Oe[De]=A[De])}),ye.setNode(Ne,Oe),ye.setParent(Ne,de.parent(Ne))}),de.edges().forEach(Ne=>{let ze=ue(de.edge(Ne));ye.setEdge(Ne,Object.assign({},L,X(ze,D),h.pick(ze,W)))}),ye}function q(de){let ye=de.graph();ye.ranksep/=2,de.edges().forEach(we=>{let Ne=de.edge(we);Ne.minlen*=2,Ne.labelpos.toLowerCase()!=="c"&&(ye.rankdir==="TB"||ye.rankdir==="BT"?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}function M(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(we.width&&we.height){let Ne=de.node(ye.v),Oe={rank:(de.node(ye.w).rank-Ne.rank)/2+Ne.rank,e:ye};h.addDummyNode(de,"edge-proxy",Oe,"_ep")}})}function F(de){let ye=0;de.nodes().forEach(we=>{let Ne=de.node(we);Ne.borderTop&&(Ne.minRank=de.node(Ne.borderTop).rank,Ne.maxRank=de.node(Ne.borderBottom).rank,ye=Math.max(ye,Ne.maxRank))}),de.graph().maxRank=ye}function V(de){de.nodes().forEach(ye=>{let we=de.node(ye);we.dummy==="edge-proxy"&&(de.edge(we.e).labelRank=we.rank,de.removeNode(ye))})}function U(de){let ye=Number.POSITIVE_INFINITY,we=0,Ne=Number.POSITIVE_INFINITY,ze=0,Oe=de.graph(),De=Oe.marginx||0,Je=Oe.marginy||0;function Xe(Ve){let ct=Ve.x,_t=Ve.y,Tt=Ve.width,Ut=Ve.height;ye=Math.min(ye,ct-Tt/2),we=Math.max(we,ct+Tt/2),Ne=Math.min(Ne,_t-Ut/2),ze=Math.max(ze,_t+Ut/2)}de.nodes().forEach(Ve=>Xe(de.node(Ve))),de.edges().forEach(Ve=>{let ct=de.edge(Ve);Object.hasOwn(ct,"x")&&Xe(ct)}),ye-=De,Ne-=Je,de.nodes().forEach(Ve=>{let ct=de.node(Ve);ct.x-=ye,ct.y-=Ne}),de.edges().forEach(Ve=>{let ct=de.edge(Ve);ct.points.forEach(_t=>{_t.x-=ye,_t.y-=Ne}),Object.hasOwn(ct,"x")&&(ct.x-=ye),Object.hasOwn(ct,"y")&&(ct.y-=Ne)}),Oe.width=we-ye+De,Oe.height=ze-Ne+Je}function z(de){de.edges().forEach(ye=>{let we=de.edge(ye),Ne=de.node(ye.v),ze=de.node(ye.w),Oe,De;we.points?(Oe=we.points[0],De=we.points[we.points.length-1]):(we.points=[],Oe=ze,De=Ne),we.points.unshift(h.intersectRect(Ne,Oe)),we.points.push(h.intersectRect(ze,De))})}function ee(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(Object.hasOwn(we,"x"))switch((we.labelpos==="l"||we.labelpos==="r")&&(we.width-=we.labeloffset),we.labelpos){case"l":we.x-=we.width/2+we.labeloffset;break;case"r":we.x+=we.width/2+we.labeloffset;break}})}function Z(de){de.edges().forEach(ye=>{let we=de.edge(ye);we.reversed&&we.points.reverse()})}function le(de){de.nodes().forEach(ye=>{if(de.children(ye).length){let we=de.node(ye),Ne=de.node(we.borderTop),ze=de.node(we.borderBottom),Oe=de.node(we.borderLeft[we.borderLeft.length-1]),De=de.node(we.borderRight[we.borderRight.length-1]);we.width=Math.abs(De.x-Oe.x),we.height=Math.abs(ze.y-Ne.y),we.x=Oe.x+we.width/2,we.y=Ne.y+we.height/2}}),de.nodes().forEach(ye=>{de.node(ye).dummy==="border"&&de.removeNode(ye)})}function se(de){de.edges().forEach(ye=>{if(ye.v===ye.w){var we=de.node(ye.v);we.selfEdges||(we.selfEdges=[]),we.selfEdges.push({e:ye,label:de.edge(ye)}),de.removeEdge(ye)}})}function te(de){var ye=h.buildLayerMatrix(de);ye.forEach(we=>{var Ne=0;we.forEach((ze,Oe)=>{var De=de.node(ze);De.order=Oe+Ne,(De.selfEdges||[]).forEach(Je=>{h.addDummyNode(de,"selfedge",{width:Je.label.width,height:Je.label.height,rank:De.rank,order:Oe+ ++Ne,e:Je.e,label:Je.label},"_se")}),delete De.selfEdges})})}function oe(de){de.nodes().forEach(ye=>{var we=de.node(ye);if(we.dummy==="selfedge"){var Ne=de.node(we.e.v),ze=Ne.x+Ne.width/2,Oe=Ne.y,De=we.x-ze,Je=Ne.height/2;de.setEdge(we.e,we.label),de.removeNode(ye),we.label.points=[{x:ze+2*De/3,y:Oe-Je},{x:ze+5*De/6,y:Oe-Je},{x:ze+De,y:Oe},{x:ze+5*De/6,y:Oe+Je},{x:ze+2*De/3,y:Oe+Je}],we.label.x=we.x,we.label.y=we.y}})}function X(de,ye){return h.mapValues(h.pick(de,ye),Number)}function ue(de){var ye={};return de&&Object.entries(de).forEach(([we,Ne])=>{typeof we=="string"&&(we=we.toLowerCase()),ye[we]=Ne}),ye}return xS}var wS,zj;function eie(){if(zj)return wS;zj=1;let t=Yr(),e=Po().Graph;wS={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,l)=>{let u="layer"+l;s.setNode(u,{rank:"same"}),o.reduce((d,p)=>(s.setEdge(d,p,{style:"invis"}),p))}),s}return wS}var _S,Wj;function tie(){return Wj||(Wj=1,_S="1.1.4"),_S}var SS,Vj;function nie(){return Vj||(Vj=1,SS={graphlib:Po(),layout:Xre(),debug:eie(),util:{time:Yr().time,notime:Yr().notime},version:tie()}),SS}var rie=nie();const ML=co(rie);var _m=t=>t.type==="checkbox",Wc=t=>t instanceof Date,ji=t=>t==null;const $L=t=>typeof t=="object";var Pr=t=>!ji(t)&&!Array.isArray(t)&&$L(t)&&!Wc(t),BL=t=>Pr(t)&&t.target?_m(t.target)?t.target.checked:t.target.value:t,iie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,zL=(t,e)=>t.has(iie(e)),sie=t=>{const e=t.constructor&&t.constructor.prototype;return Pr(e)&&e.hasOwnProperty("isPrototypeOf")},R1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ts(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(R1&&(t instanceof Blob||r))&&(n||Pr(t)))if(e=n?[]:{},!n&&!sie(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ts(t[i]));else return t;return e}var tx=t=>Array.isArray(t)?t.filter(Boolean):[],jr=t=>t===void 0,Et=(t,e,n)=>{if(!e||!Pr(t))return n;const r=tx(e.split(/[,[\].]+?/)).reduce((i,s)=>ji(i)?i:i[s],t);return jr(r)||r===t?jr(t[e])?n:t[e]:r},to=t=>typeof t=="boolean",O1=t=>/^\w*$/.test(t),WL=t=>tx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),zn=(t,e,n)=>{let r=-1;const i=O1(e)?[e]:WL(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==o){const d=t[l];u=Pr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}return t};const Zb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Io={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ta={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oie=$n.createContext(null),q1=()=>$n.useContext(oie);var VL=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Io.all&&(e._proxyFormState[o]=!r||Io.all),n&&(n[o]=!0),t[o]}});return i},ns=t=>Pr(t)&&!Object.keys(t).length,UL=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return ns(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Io.all))},nh=t=>Array.isArray(t)?t:[t],HL=(t,e,n)=>!t||!e||t===e||nh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function j1(t){const e=$n.useRef(t);e.current=t,$n.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function aie(t){const e=q1(),{control:n=e.control,disabled:r,name:i,exact:s}=t,[o,l]=$n.useState(n._formState),u=$n.useRef(!0),d=$n.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=$n.useRef(i);return p.current=i,j1({disabled:r,next:h=>u.current&&HL(p.current,h.name,s)&&UL(h,d.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),$n.useEffect(()=>(u.current=!0,d.current.isValid&&n._updateValid(!0),()=>{u.current=!1}),[n]),$n.useMemo(()=>VL(o,n,d.current,!1),[o,n])}var Yo=t=>typeof t=="string",QL=(t,e,n,r,i)=>Yo(t)?(r&&e.watch.add(t),Et(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Et(n,s))):(r&&(e.watchAll=!0),n);function lie(t){const e=q1(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t,l=$n.useRef(r);l.current=r,j1({disabled:s,subject:n._subjects.values,next:p=>{HL(l.current,p.name,o)&&d(ts(QL(l.current,n._names,p.values||n._formValues,!1,i)))}});const[u,d]=$n.useState(n._getWatch(r,i));return $n.useEffect(()=>n._removeUnmounted()),u}function cie(t){const e=q1(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=zL(i._names.array,n),l=lie({control:i,name:n,defaultValue:Et(i._formValues,n,Et(i._defaultValues,n,t.defaultValue)),exact:!0}),u=aie({control:i,name:n,exact:!0}),d=$n.useRef(i.register(n,{...t.rules,value:l,...to(t.disabled)?{disabled:t.disabled}:{}})),p=$n.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Et(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Et(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Et(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Et(u.validatingFields,n)},error:{enumerable:!0,get:()=>Et(u.errors,n)}}),[u,n]),h=$n.useMemo(()=>({name:n,value:l,...to(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:b=>d.current.onChange({target:{value:BL(b),name:n},type:Zb.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:Et(i._formValues,n),name:n},type:Zb.BLUR}),ref:b=>{const x=Et(i._fields,n);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})}}),[n,i._formValues,r,u.disabled,l,i._fields]);return $n.useEffect(()=>{const b=i._options.shouldUnregister||s,x=(_,E)=>{const I=Et(i._fields,_);I&&I._f&&(I._f.mount=E)};if(x(n,!0),b){const _=ts(Et(i._options.defaultValues,n));zn(i._defaultValues,n,_),jr(Et(i._formValues,n))&&zn(i._formValues,n,_)}return!o&&i.register(n),()=>{(o?b&&!i._state.action:b)?i.unregister(n):x(n,!1)}},[n,i,o,s]),$n.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),$n.useMemo(()=>({field:h,formState:u,fieldState:p}),[h,u,p])}const us=t=>t.render(cie(t));var KL=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Uj=t=>({isOnSubmit:!t||t===Io.onSubmit,isOnBlur:t===Io.onBlur,isOnChange:t===Io.onChange,isOnAll:t===Io.all,isOnTouch:t===Io.onTouched}),Hj=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const rh=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Et(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(rh(l,e))break}else if(Pr(l)&&rh(l,e))break}}};var uie=(t,e,n)=>{const r=nh(Et(t,n));return zn(r,"root",e[n]),zn(t,n,r),t},A1=t=>t.type==="file",Jo=t=>typeof t=="function",Yb=t=>{if(!R1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Dy=t=>Yo(t),P1=t=>t.type==="radio",Xb=t=>t instanceof RegExp;const Qj={value:!1,isValid:!1},Kj={value:!0,isValid:!0};var GL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!jr(t[0].attributes.value)?jr(t[0].value)||t[0].value===""?Kj:{value:t[0].value,isValid:!0}:Kj:Qj}return Qj};const Gj={isValid:!1,value:null};var JL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Gj):Gj;function Jj(t,e,n="validate"){if(Dy(t)||Array.isArray(t)&&t.every(Dy)||to(t)&&!t)return{type:n,message:Dy(t)?t:"",ref:e}}var Ju=t=>Pr(t)&&!Xb(t)?t:{value:t,message:""},Zj=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:u,maxLength:d,minLength:p,min:h,max:b,pattern:x,validate:_,name:E,valueAsNumber:I,mount:T}=t._f,R=Et(n,E);if(!T||e.has(E))return{};const O=l?l[0]:o,A=V=>{i&&O.reportValidity&&(O.setCustomValidity(to(V)?"":V||""),O.reportValidity())},D={},L=P1(o),W=_m(o),P=L||W,q=(I||A1(o))&&jr(o.value)&&jr(R)||Yb(o)&&o.value===""||R===""||Array.isArray(R)&&!R.length,M=KL.bind(null,E,r,D),F=(V,U,z,ee=Ta.maxLength,Z=Ta.minLength)=>{const le=V?U:z;D[E]={type:V?ee:Z,message:le,ref:o,...M(V?ee:Z,le)}};if(s?!Array.isArray(R)||!R.length:u&&(!P&&(q||ji(R))||to(R)&&!R||W&&!GL(l).isValid||L&&!JL(l).isValid)){const{value:V,message:U}=Dy(u)?{value:!!u,message:u}:Ju(u);if(V&&(D[E]={type:Ta.required,message:U,ref:O,...M(Ta.required,U)},!r))return A(U),D}if(!q&&(!ji(h)||!ji(b))){let V,U;const z=Ju(b),ee=Ju(h);if(!ji(R)&&!isNaN(R)){const Z=o.valueAsNumber||R&&+R;ji(z.value)||(V=Z>z.value),ji(ee.value)||(U=Z<ee.value)}else{const Z=o.valueAsDate||new Date(R),le=oe=>new Date(new Date().toDateString()+" "+oe),se=o.type=="time",te=o.type=="week";Yo(z.value)&&R&&(V=se?le(R)>le(z.value):te?R>z.value:Z>new Date(z.value)),Yo(ee.value)&&R&&(U=se?le(R)<le(ee.value):te?R<ee.value:Z<new Date(ee.value))}if((V||U)&&(F(!!V,z.message,ee.message,Ta.max,Ta.min),!r))return A(D[E].message),D}if((d||p)&&!q&&(Yo(R)||s&&Array.isArray(R))){const V=Ju(d),U=Ju(p),z=!ji(V.value)&&R.length>+V.value,ee=!ji(U.value)&&R.length<+U.value;if((z||ee)&&(F(z,V.message,U.message),!r))return A(D[E].message),D}if(x&&!q&&Yo(R)){const{value:V,message:U}=Ju(x);if(Xb(V)&&!R.match(V)&&(D[E]={type:Ta.pattern,message:U,ref:o,...M(Ta.pattern,U)},!r))return A(U),D}if(_){if(Jo(_)){const V=await _(R,n),U=Jj(V,O);if(U&&(D[E]={...U,...M(Ta.validate,U.message)},!r))return A(U.message),D}else if(Pr(_)){let V={};for(const U in _){if(!ns(V)&&!r)break;const z=Jj(await _[U](R,n),O,U);z&&(V={...z,...M(U,z.message)},A(z.message),r&&(D[E]=V))}if(!ns(V)&&(D[E]={ref:O,...V},!r))return D}}return A(!0),D};function die(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=jr(t)?r++:t[e[r++]];return t}function fie(t){for(const e in t)if(t.hasOwnProperty(e)&&!jr(t[e]))return!1;return!0}function ri(t,e){const n=Array.isArray(e)?e:O1(e)?[e]:WL(e),r=n.length===1?t:die(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Pr(r)&&ns(r)||Array.isArray(r)&&fie(r))&&ri(t,n.slice(0,-1)),t}var ES=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},XE=t=>ji(t)||!$L(t);function ql(t,e){if(XE(t)||XE(e))return t===e;if(Wc(t)&&Wc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Wc(s)&&Wc(o)||Pr(s)&&Pr(o)||Array.isArray(s)&&Array.isArray(o)?!ql(s,o):s!==o)return!1}}return!0}var ZL=t=>t.type==="select-multiple",pie=t=>P1(t)||_m(t),NS=t=>Yb(t)&&t.isConnected,YL=t=>{for(const e in t)if(Jo(t[e]))return!0;return!1};function ev(t,e={}){const n=Array.isArray(t);if(Pr(t)||n)for(const r in t)Array.isArray(t[r])||Pr(t[r])&&!YL(t[r])?(e[r]=Array.isArray(t[r])?[]:{},ev(t[r],e[r])):ji(t[r])||(e[r]=!0);return e}function XL(t,e,n){const r=Array.isArray(t);if(Pr(t)||r)for(const i in t)Array.isArray(t[i])||Pr(t[i])&&!YL(t[i])?jr(e)||XE(n[i])?n[i]=Array.isArray(t[i])?ev(t[i],[]):{...ev(t[i])}:XL(t[i],ji(e)?{}:e[i],n[i]):n[i]=!ql(t[i],e[i]);return n}var bp=(t,e)=>XL(t,e,ev(e)),eM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>jr(t)?t:e?t===""?NaN:t&&+t:n&&Yo(t)?new Date(t):r?r(t):t;function kS(t){const e=t.ref;return A1(e)?e.files:P1(e)?JL(t.refs).value:ZL(e)?[...e.selectedOptions].map(({value:n})=>n):_m(e)?GL(t.refs).value:eM(jr(e.value)?t.ref.value:e.value,t)}var hie=(t,e,n,r)=>{const i={};for(const s of t){const o=Et(e,s);o&&zn(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},vp=t=>jr(t)?t:Xb(t)?t.source:Pr(t)?Xb(t.value)?t.value.source:t.value:t;const Yj="AsyncFunction";var mie=t=>!!t&&!!t.validate&&!!(Jo(t.validate)&&t.validate.constructor.name===Yj||Pr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Yj)),gie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Xj(t,e,n){const r=Et(t,n);if(r||O1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Et(e,s),l=Et(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var yie=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,bie=(t,e)=>!tx(Et(t,e)).length&&ri(t,e);const vie={mode:Io.onSubmit,reValidateMode:Io.onChange,shouldFocusError:!0};function xie(t={}){let e={...vie,...t},n={submitCount:0,isDirty:!1,isLoading:Jo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Pr(e.defaultValues)||Pr(e.values)?ts(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ts(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:ES(),array:ES(),state:ES()},b=Uj(e.mode),x=Uj(e.reValidateMode),_=e.criteriaMode===Io.all,E=xe=>be=>{clearTimeout(d),d=setTimeout(xe,be)},I=async xe=>{if(!e.disabled&&(p.isValid||xe)){const be=e.resolver?ns((await P()).errors):await M(r,!0);be!==n.isValid&&h.state.next({isValid:be})}},T=(xe,be)=>{!e.disabled&&(p.isValidating||p.validatingFields)&&((xe||Array.from(l.mount)).forEach(ke=>{ke&&(be?zn(n.validatingFields,ke,be):ri(n.validatingFields,ke))}),h.state.next({validatingFields:n.validatingFields,isValidating:!ns(n.validatingFields)}))},R=(xe,be=[],ke,Ae,Ue=!0,rt=!0)=>{if(Ae&&ke&&!e.disabled){if(o.action=!0,rt&&Array.isArray(Et(r,xe))){const Me=ke(Et(r,xe),Ae.argA,Ae.argB);Ue&&zn(r,xe,Me)}if(rt&&Array.isArray(Et(n.errors,xe))){const Me=ke(Et(n.errors,xe),Ae.argA,Ae.argB);Ue&&zn(n.errors,xe,Me),bie(n.errors,xe)}if(p.touchedFields&&rt&&Array.isArray(Et(n.touchedFields,xe))){const Me=ke(Et(n.touchedFields,xe),Ae.argA,Ae.argB);Ue&&zn(n.touchedFields,xe,Me)}p.dirtyFields&&(n.dirtyFields=bp(i,s)),h.state.next({name:xe,isDirty:V(xe,be),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else zn(s,xe,be)},O=(xe,be)=>{zn(n.errors,xe,be),h.state.next({errors:n.errors})},A=xe=>{n.errors=xe,h.state.next({errors:n.errors,isValid:!1})},D=(xe,be,ke,Ae)=>{const Ue=Et(r,xe);if(Ue){const rt=Et(s,xe,jr(ke)?Et(i,xe):ke);jr(rt)||Ae&&Ae.defaultChecked||be?zn(s,xe,be?rt:kS(Ue._f)):ee(xe,rt),o.mount&&I()}},L=(xe,be,ke,Ae,Ue)=>{let rt=!1,Me=!1;const ut={name:xe};if(!e.disabled){const Kt=!!(Et(r,xe)&&Et(r,xe)._f&&Et(r,xe)._f.disabled);if(!ke||Ae){p.isDirty&&(Me=n.isDirty,n.isDirty=ut.isDirty=V(),rt=Me!==ut.isDirty);const Gt=Kt||ql(Et(i,xe),be);Me=!!(!Kt&&Et(n.dirtyFields,xe)),Gt||Kt?ri(n.dirtyFields,xe):zn(n.dirtyFields,xe,!0),ut.dirtyFields=n.dirtyFields,rt=rt||p.dirtyFields&&Me!==!Gt}if(ke){const Gt=Et(n.touchedFields,xe);Gt||(zn(n.touchedFields,xe,ke),ut.touchedFields=n.touchedFields,rt=rt||p.touchedFields&&Gt!==ke)}rt&&Ue&&h.state.next(ut)}return rt?ut:{}},W=(xe,be,ke,Ae)=>{const Ue=Et(n.errors,xe),rt=p.isValid&&to(be)&&n.isValid!==be;if(e.delayError&&ke?(u=E(()=>O(xe,ke)),u(e.delayError)):(clearTimeout(d),u=null,ke?zn(n.errors,xe,ke):ri(n.errors,xe)),(ke?!ql(Ue,ke):Ue)||!ns(Ae)||rt){const Me={...Ae,...rt&&to(be)?{isValid:be}:{},errors:n.errors,name:xe};n={...n,...Me},h.state.next(Me)}},P=async xe=>{T(xe,!0);const be=await e.resolver(s,e.context,hie(xe||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(xe),be},q=async xe=>{const{errors:be}=await P(xe);if(xe)for(const ke of xe){const Ae=Et(be,ke);Ae?zn(n.errors,ke,Ae):ri(n.errors,ke)}else n.errors=be;return be},M=async(xe,be,ke={valid:!0})=>{for(const Ae in xe){const Ue=xe[Ae];if(Ue){const{_f:rt,...Me}=Ue;if(rt){const ut=l.array.has(rt.name),Kt=Ue._f&&mie(Ue._f);Kt&&p.validatingFields&&T([Ae],!0);const Gt=await Zj(Ue,l.disabled,s,_,e.shouldUseNativeValidation&&!be,ut);if(Kt&&p.validatingFields&&T([Ae]),Gt[rt.name]&&(ke.valid=!1,be))break;!be&&(Et(Gt,rt.name)?ut?uie(n.errors,Gt,rt.name):zn(n.errors,rt.name,Gt[rt.name]):ri(n.errors,rt.name))}!ns(Me)&&await M(Me,be,ke)}}return ke.valid},F=()=>{for(const xe of l.unMount){const be=Et(r,xe);be&&(be._f.refs?be._f.refs.every(ke=>!NS(ke)):!NS(be._f.ref))&&Ne(xe)}l.unMount=new Set},V=(xe,be)=>!e.disabled&&(xe&&be&&zn(s,xe,be),!ql(X(),i)),U=(xe,be,ke)=>QL(xe,l,{...o.mount?s:jr(be)?i:Yo(xe)?{[xe]:be}:be},ke,be),z=xe=>tx(Et(o.mount?s:i,xe,e.shouldUnregister?Et(i,xe,[]):[])),ee=(xe,be,ke={})=>{const Ae=Et(r,xe);let Ue=be;if(Ae){const rt=Ae._f;rt&&(!rt.disabled&&zn(s,xe,eM(be,rt)),Ue=Yb(rt.ref)&&ji(be)?"":be,ZL(rt.ref)?[...rt.ref.options].forEach(Me=>Me.selected=Ue.includes(Me.value)):rt.refs?_m(rt.ref)?rt.refs.length>1?rt.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(Ue)?!!Ue.find(ut=>ut===Me.value):Ue===Me.value)):rt.refs[0]&&(rt.refs[0].checked=!!Ue):rt.refs.forEach(Me=>Me.checked=Me.value===Ue):A1(rt.ref)?rt.ref.value="":(rt.ref.value=Ue,rt.ref.type||h.values.next({name:xe,values:{...s}})))}(ke.shouldDirty||ke.shouldTouch)&&L(xe,Ue,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&oe(xe)},Z=(xe,be,ke)=>{for(const Ae in be){const Ue=be[Ae],rt=`${xe}.${Ae}`,Me=Et(r,rt);(l.array.has(xe)||Pr(Ue)||Me&&!Me._f)&&!Wc(Ue)?Z(rt,Ue,ke):ee(rt,Ue,ke)}},le=(xe,be,ke={})=>{const Ae=Et(r,xe),Ue=l.array.has(xe),rt=ts(be);zn(s,xe,rt),Ue?(h.array.next({name:xe,values:{...s}}),(p.isDirty||p.dirtyFields)&&ke.shouldDirty&&h.state.next({name:xe,dirtyFields:bp(i,s),isDirty:V(xe,rt)})):Ae&&!Ae._f&&!ji(rt)?Z(xe,rt,ke):ee(xe,rt,ke),Hj(xe,l)&&h.state.next({...n}),h.values.next({name:o.mount?xe:void 0,values:{...s}})},se=async xe=>{o.mount=!0;const be=xe.target;let ke=be.name,Ae=!0;const Ue=Et(r,ke),rt=()=>be.type?kS(Ue._f):BL(xe),Me=ut=>{Ae=Number.isNaN(ut)||Wc(ut)&&isNaN(ut.getTime())||ql(ut,Et(s,ke,ut))};if(Ue){let ut,Kt;const Gt=rt(),hn=xe.type===Zb.BLUR||xe.type===Zb.FOCUS_OUT,or=!gie(Ue._f)&&!e.resolver&&!Et(n.errors,ke)&&!Ue._f.deps||yie(hn,Et(n.touchedFields,ke),n.isSubmitted,x,b),Dn=Hj(ke,l,hn);zn(s,ke,Gt),hn?(Ue._f.onBlur&&Ue._f.onBlur(xe),u&&u(0)):Ue._f.onChange&&Ue._f.onChange(xe);const Ur=L(ke,Gt,hn,!1),Ci=!ns(Ur)||Dn;if(!hn&&h.values.next({name:ke,type:xe.type,values:{...s}}),or)return p.isValid&&(e.mode==="onBlur"&&hn?I():hn||I()),Ci&&h.state.next({name:ke,...Dn?{}:Ur});if(!hn&&Dn&&h.state.next({...n}),e.resolver){const{errors:wr}=await P([ke]);if(Me(Gt),Ae){const Jt=Xj(n.errors,r,ke),Wi=Xj(wr,r,Jt.name||ke);ut=Wi.error,ke=Wi.name,Kt=ns(wr)}}else T([ke],!0),ut=(await Zj(Ue,l.disabled,s,_,e.shouldUseNativeValidation))[ke],T([ke]),Me(Gt),Ae&&(ut?Kt=!1:p.isValid&&(Kt=await M(r,!0)));Ae&&(Ue._f.deps&&oe(Ue._f.deps),W(ke,Kt,ut,Ur))}},te=(xe,be)=>{if(Et(n.errors,be)&&xe.focus)return xe.focus(),1},oe=async(xe,be={})=>{let ke,Ae;const Ue=nh(xe);if(e.resolver){const rt=await q(jr(xe)?xe:Ue);ke=ns(rt),Ae=xe?!Ue.some(Me=>Et(rt,Me)):ke}else xe?(Ae=(await Promise.all(Ue.map(async rt=>{const Me=Et(r,rt);return await M(Me&&Me._f?{[rt]:Me}:Me)}))).every(Boolean),!(!Ae&&!n.isValid)&&I()):Ae=ke=await M(r);return h.state.next({...!Yo(xe)||p.isValid&&ke!==n.isValid?{}:{name:xe},...e.resolver||!xe?{isValid:ke}:{},errors:n.errors}),be.shouldFocus&&!Ae&&rh(r,te,xe?Ue:l.mount),Ae},X=xe=>{const be={...o.mount?s:i};return jr(xe)?be:Yo(xe)?Et(be,xe):xe.map(ke=>Et(be,ke))},ue=(xe,be)=>({invalid:!!Et((be||n).errors,xe),isDirty:!!Et((be||n).dirtyFields,xe),error:Et((be||n).errors,xe),isValidating:!!Et(n.validatingFields,xe),isTouched:!!Et((be||n).touchedFields,xe)}),de=xe=>{xe&&nh(xe).forEach(be=>ri(n.errors,be)),h.state.next({errors:xe?n.errors:{}})},ye=(xe,be,ke)=>{const Ae=(Et(r,xe,{_f:{}})._f||{}).ref,Ue=Et(n.errors,xe)||{},{ref:rt,message:Me,type:ut,...Kt}=Ue;zn(n.errors,xe,{...Kt,...be,ref:Ae}),h.state.next({name:xe,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},we=(xe,be)=>Jo(xe)?h.values.subscribe({next:ke=>xe(U(void 0,be),ke)}):U(xe,be,!0),Ne=(xe,be={})=>{for(const ke of xe?nh(xe):l.mount)l.mount.delete(ke),l.array.delete(ke),be.keepValue||(ri(r,ke),ri(s,ke)),!be.keepError&&ri(n.errors,ke),!be.keepDirty&&ri(n.dirtyFields,ke),!be.keepTouched&&ri(n.touchedFields,ke),!be.keepIsValidating&&ri(n.validatingFields,ke),!e.shouldUnregister&&!be.keepDefaultValue&&ri(i,ke);h.values.next({values:{...s}}),h.state.next({...n,...be.keepDirty?{isDirty:V()}:{}}),!be.keepIsValid&&I()},ze=({disabled:xe,name:be,field:ke,fields:Ae})=>{(to(xe)&&o.mount||xe||l.disabled.has(be))&&(xe?l.disabled.add(be):l.disabled.delete(be),L(be,kS(ke?ke._f:Et(Ae,be)._f),!1,!1,!0))},Oe=(xe,be={})=>{let ke=Et(r,xe);const Ae=to(be.disabled)||to(e.disabled);return zn(r,xe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:xe}},name:xe,mount:!0,...be}}),l.mount.add(xe),ke?ze({field:ke,disabled:to(be.disabled)?be.disabled:e.disabled,name:xe}):D(xe,!0,be.value),{...Ae?{disabled:be.disabled||e.disabled}:{},...e.progressive?{required:!!be.required,min:vp(be.min),max:vp(be.max),minLength:vp(be.minLength),maxLength:vp(be.maxLength),pattern:vp(be.pattern)}:{},name:xe,onChange:se,onBlur:se,ref:Ue=>{if(Ue){Oe(xe,be),ke=Et(r,xe);const rt=jr(Ue.value)&&Ue.querySelectorAll&&Ue.querySelectorAll("input,select,textarea")[0]||Ue,Me=pie(rt),ut=ke._f.refs||[];if(Me?ut.find(Kt=>Kt===rt):rt===ke._f.ref)return;zn(r,xe,{_f:{...ke._f,...Me?{refs:[...ut.filter(NS),rt,...Array.isArray(Et(i,xe))?[{}]:[]],ref:{type:rt.type,name:xe}}:{ref:rt}}}),D(xe,!1,void 0,rt)}else ke=Et(r,xe,{}),ke._f&&(ke._f.mount=!1),(e.shouldUnregister||be.shouldUnregister)&&!(zL(l.array,xe)&&o.action)&&l.unMount.add(xe)}}},De=()=>e.shouldFocusError&&rh(r,te,l.mount),Je=xe=>{to(xe)&&(h.state.next({disabled:xe}),rh(r,(be,ke)=>{const Ae=Et(r,ke);Ae&&(be.disabled=Ae._f.disabled||xe,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Ue=>{Ue.disabled=Ae._f.disabled||xe}))},0,!1))},Xe=(xe,be)=>async ke=>{let Ae;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ue=ts(s);if(l.disabled.size)for(const rt of l.disabled)zn(Ue,rt,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:rt,values:Me}=await P();n.errors=rt,Ue=Me}else await M(r);if(ri(n.errors,"root"),ns(n.errors)){h.state.next({errors:{}});try{await xe(Ue,ke)}catch(rt){Ae=rt}}else be&&await be({...n.errors},ke),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ns(n.errors)&&!Ae,submitCount:n.submitCount+1,errors:n.errors}),Ae)throw Ae},Ve=(xe,be={})=>{Et(r,xe)&&(jr(be.defaultValue)?le(xe,ts(Et(i,xe))):(le(xe,be.defaultValue),zn(i,xe,ts(be.defaultValue))),be.keepTouched||ri(n.touchedFields,xe),be.keepDirty||(ri(n.dirtyFields,xe),n.isDirty=be.defaultValue?V(xe,ts(Et(i,xe))):V()),be.keepError||(ri(n.errors,xe),p.isValid&&I()),h.state.next({...n}))},ct=(xe,be={})=>{const ke=xe?ts(xe):i,Ae=ts(ke),Ue=ns(xe),rt=Ue?i:Ae;if(be.keepDefaultValues||(i=ke),!be.keepValues){if(be.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(bp(i,s))]);for(const ut of Array.from(Me))Et(n.dirtyFields,ut)?zn(rt,ut,Et(s,ut)):le(ut,Et(rt,ut))}else{if(R1&&jr(xe))for(const Me of l.mount){const ut=Et(r,Me);if(ut&&ut._f){const Kt=Array.isArray(ut._f.refs)?ut._f.refs[0]:ut._f.ref;if(Yb(Kt)){const Gt=Kt.closest("form");if(Gt){Gt.reset();break}}}}r={}}s=e.shouldUnregister?be.keepDefaultValues?ts(i):{}:ts(rt),h.array.next({values:{...rt}}),h.values.next({values:{...rt}})}l={mount:be.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!be.keepIsValid||!!be.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:be.keepSubmitCount?n.submitCount:0,isDirty:Ue?!1:be.keepDirty?n.isDirty:!!(be.keepDefaultValues&&!ql(xe,i)),isSubmitted:be.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ue?{}:be.keepDirtyValues?be.keepDefaultValues&&s?bp(i,s):n.dirtyFields:be.keepDefaultValues&&xe?bp(i,xe):be.keepDirty?n.dirtyFields:{},touchedFields:be.keepTouched?n.touchedFields:{},errors:be.keepErrors?n.errors:{},isSubmitSuccessful:be.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(xe,be)=>ct(Jo(xe)?xe(s):xe,be);return{control:{register:Oe,unregister:Ne,getFieldState:ue,handleSubmit:Xe,setError:ye,_executeSchema:P,_getWatch:U,_getDirty:V,_updateValid:I,_removeUnmounted:F,_updateFieldArray:R,_updateDisabledField:ze,_getFieldArray:z,_reset:ct,_resetDefaultValues:()=>Jo(e.defaultValues)&&e.defaultValues().then(xe=>{_t(xe,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:xe=>{n={...n,...xe}},_disableForm:Je,_subjects:h,_proxyFormState:p,_setErrors:A,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(xe){o=xe},get _defaultValues(){return i},get _names(){return l},set _names(xe){l=xe},get _formState(){return n},set _formState(xe){n=xe},get _options(){return e},set _options(xe){e={...e,...xe}}},trigger:oe,register:Oe,handleSubmit:Xe,watch:we,setValue:le,getValues:X,reset:_t,resetField:Ve,clearErrors:de,unregister:Ne,setError:ye,setFocus:(xe,be={})=>{const ke=Et(r,xe),Ae=ke&&ke._f;if(Ae){const Ue=Ae.refs?Ae.refs[0]:Ae.ref;Ue.focus&&(Ue.focus(),be.shouldSelect&&Jo(Ue.select)&&Ue.select())}},getFieldState:ue}}function Bi(t={}){const e=$n.useRef(void 0),n=$n.useRef(void 0),[r,i]=$n.useState({isDirty:!1,isValidating:!1,isLoading:Jo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Jo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...xie(t),formState:r});const s=e.current.control;return s._options=t,j1({subject:s._subjects.state,next:o=>{UL(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),$n.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),$n.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),$n.useEffect(()=>{t.values&&!ql(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),$n.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),$n.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),$n.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=VL(r,s),e.current}const e3=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Et(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},tM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?e3(r.ref,n,t):r.refs&&r.refs.forEach(i=>e3(i,n,t))}},wie=(t,e)=>{e.shouldUseNativeValidation&&tM(t,e);const n={};for(const r in t){const i=Et(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(_ie(e.names||Object.keys(t),r)){const o=Object.assign({},Et(n,r));zn(o,"root",s),zn(n,r,o)}else zn(n,r,s)}return n},_ie=(t,e)=>t.some(n=>n.startsWith(e+"."));var Sie=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(h){return t.push(h)})}),e){var u=n[o].types,d=u&&u[r.code];n[o]=KL(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},zi=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&tM({},s),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:wie(Sie(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const Eie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({name:B.string().min(1),cycles:B.number().int(),sort:B.number().int(),limit:B.number().int()})),shape:t,filter:e,sort:["id","name","cycles","sort","limit"]}),Nie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({blueprintId:B.string().min(1),conflictId:B.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","conflictId"]}),kie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({blueprintId:B.string().min(1),dependencyId:B.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","dependencyId"]}),Iie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({blueprintId:B.string().min(1),inventoryId:B.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","inventoryId"]}),Cie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({blueprintId:B.string().min(1),resourceId:B.string().min(1),amount:B.number(),cycles:B.number().int()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","cycles"]}),Tie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({blueprintProductionId:B.string().min(1),blueprintId:B.string().min(1)})),shape:t,filter:e,sort:["id","blueprintProductionId","blueprintId"]}),Rie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({blueprintProductionId:B.string().min(1),resourceId:B.string().min(1),amount:B.number(),passive:qs()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount","passive"]}),Oie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({blueprintProductionId:B.string().min(1),resourceId:B.string().min(1),amount:B.number()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount"]}),qie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({blueprintId:B.string().min(1),resourceId:B.string().min(1),amount:B.number(),passive:qs()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","passive"]}),jie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({userId:B.string().min(1),blueprintId:B.string().min(1),constructionId:B.string().nullish(),productionId:B.string().nullish(),recurringProductionId:B.string().nullish(),x:B.number(),y:B.number()})),shape:t,filter:e,sort:["id","userId","blueprintId","constructionId","productionId","recurringProductionId","x","y"]}),Aie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({resourceId:B.string().min(1),amount:B.number(),limit:B.number(),type:B.string().min(1)})),shape:t,filter:e,sort:["id","resourceId","amount","limit","type"]}),Pie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({name:B.string().min(1),transport:B.number()})),shape:t,filter:e,sort:["id","name","transport"]}),Fie=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({code:B.string().min(1),label:B.string().min(1),group:B.string().nullish(),sort:B.number().int()})),shape:t,filter:e,sort:["id","code","label","group","sort"]}),Die=({shape:t,filter:e})=>hs({entity:fs.merge(B.object({name:B.string().min(1),login:B.string().min(1),password:B.string().min(1)})),shape:t,filter:e,sort:["id","name","login","password"]}),F1=Eie({shape:B.object({name:B.string().min(1),cycles:Zp(),sort:Zp(),limit:Zp()}),filter:ps.merge(B.object({name:B.string().optional()}))}),tv=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(F1.shape),defaultValues:{cycles:1,sort:0,limit:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"name",label:f.jsx(re,{label:"Building name (label)"}),required:!0,children:f.jsx("input",{type:"text",className:o.input(),...s.register("name")})}),f.jsx(In,{formState:s.formState,name:"cycles",label:f.jsx(re,{label:"Construction cycles (label)"}),hint:f.jsx(re,{label:"Amount of cycles to build this building (hint)"}),required:!0,children:f.jsx("input",{type:"number",className:o.input(),min:1,...s.register("cycles")})}),f.jsx(In,{formState:s.formState,name:"limit",label:f.jsx(re,{label:"Building limit (label)"}),hint:f.jsx(re,{label:"Maximum number of building a player can build (hint)"}),required:!0,children:f.jsx("input",{type:"number",className:o.input(),min:1,...s.register("limit")})}),f.jsx(In,{formState:s.formState,name:"sort",label:f.jsx(re,{label:"Blueprint sort (label)"}),hint:f.jsx(re,{label:"Sort blueprints by this number (hint)"}),required:!0,children:f.jsx("input",{type:"number",className:o.input(),min:0,...s.register("sort")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Tn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},lo="icon-[fluent-mdl2--production-floor-management]",Lie=({id:t,data:e,isConnectable:n})=>{const{locale:r}=rn({from:"/$locale"}),i=Xd();return f.jsxs("div",{className:"min-w-[14rem]",onClick:()=>{i({to:"/$locale/apps/derivean/root/editor",params:{locale:r},search:{zoomTo:t}})},onDoubleClick:()=>{i({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t}})},children:[f.jsx(ao,{type:"target",position:Ft.Left,className:"w-4 h-4"}),f.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[f.jsx("div",{className:"flex flex-row items-center gap-2",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t},children:e.name})}),f.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:[f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsx(Mt,{icon:Fn,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:r,id:t}}),f.jsx(Mt,{icon:lo,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:r,id:t}}),f.jsx(Mt,{icon:vD,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:r,id:t}})]}),f.jsx("div",{children:f.jsx(ff,{target:f.jsx(hm,{iconEnabled:ai,css:{base:["text-red-500"]}}),outside:!0,textTitle:f.jsx(re,{label:"Delete blueprint (modal)"}),css:{modal:["w-1/3"]},children:()=>{const s=Yn([["Editor"]]);return f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async o=>o.deleteFrom("Blueprint").where("id","=",e.id).execute()),textContent:f.jsx(re,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:s})}})})]})]}),f.jsx(ao,{type:"source",position:Ft.Right,isConnectable:n,className:"w-4 h-4"})]})},Mie=({nodeId:t})=>{const{fitView:e}=yf();return K.useEffect(()=>{t&&setTimeout(()=>{e({nodes:[{id:t}],duration:750,minZoom:1,maxZoom:1})},50)},[t]),null},$ie=({data:t,zoomTo:e})=>{const n=Yn([]),r=ln({async mutationFn({blueprintId:i,dependencyId:s}){return Dt.transaction().execute(async o=>o.insertInto("Blueprint_Dependency").values({id:Un(),blueprintId:i,dependencyId:s}).execute())},async onSuccess(){await n()}});return f.jsx("div",{className:"w-fit h-fit mx-auto border border-slate-300 rounded-md shadow-md m-8",children:f.jsx("div",{style:{width:"95vw",height:"85vh"},children:f.jsxs(NL,{nodes:t.nodes,edges:t.edges,onConnect:i=>{r.mutate({blueprintId:i.target,dependencyId:i.source})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:K.useMemo(()=>({blueprint(i){return f.jsx(Lie,{...i})}}),[]),edgeTypes:K.useMemo(()=>({dependency({id:i,sourceX:s,sourceY:o,targetX:l,targetY:u,sourcePosition:d,targetPosition:p,style:h={},markerEnd:b}){const{setEdges:x}=yf(),[_,E,I]=v1({sourceX:s,sourceY:o,sourcePosition:d,targetX:l,targetY:u,targetPosition:p}),T=Yn([]),R=ln({async mutationFn({id:O}){return Dt.transaction().execute(async A=>{await A.deleteFrom("Blueprint_Dependency").where("id","=",O).execute()})},async onSuccess(){x(O=>O.filter(A=>A.id!==i)),await T()}});return f.jsxs(f.Fragment,{children:[f.jsx(wm,{path:_,markerEnd:b,style:h}),f.jsx(Sne,{children:f.jsx("div",{className:Sn("nodrag nopan",["flex","items-center","justify-center","cursor-pointer","bg-red-200","text-red-500","border","border-red-300","hover:border-red-600","hover:bg-red-300","hover:text-red-700","rounded-full","w-4","h-4","z-20"]),style:{position:"absolute",pointerEvents:"all",transformOrigin:"center",transform:`translate(-50%, -50%) translate(${E}px,${I}px)`},children:f.jsx(nn,{icon:R.isPending?bK:r1,onClick:()=>{R.mutate({id:i})}})})})]})}}),[]),children:[f.jsx(Mie,{nodeId:e}),f.jsx(TL,{orientation:"horizontal",showInteractive:!1,showZoom:!1,children:f.jsx(ff,{target:f.jsx(hm,{className:"react-flow__controls-button",iconEnabled:Tn}),outside:!1,textTitle:f.jsx(re,{label:"Create blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:i})=>{const s=Yn([["Editor"]]),{locale:o}=rn({from:"/$locale"}),l=Xd();return f.jsx(tv,{mutation:ln({async mutationFn(u){return Rn.promise(Dt.transaction().execute(d=>d.insertInto("Blueprint").values({id:Un(),...u}).returningAll().executeTakeFirstOrThrow()),Xr("Create blueprint"))},async onSuccess(u){await s(),l({to:"/$locale/apps/derivean/root/editor",params:{locale:o},search:{zoomTo:u.id}}),i()}})})}})}),f.jsx(OL,{}),f.jsx(IL,{variant:na.Dots,gap:12,size:1})]})})})},Bie=({graph:t,nodes:e,edges:n,size:r={width:344,height:36}})=>(t.setGraph({rankdir:"LR",nodesep:125,edgesep:65,ranksep:50}),e.forEach(i=>{t.setNode(i.id,{width:r.width,height:r.height})}),n.forEach(i=>{t.setEdge(i.source,i.target)}),ML.layout(t,{}),{nodes:e.map(i=>{const s=t.node(i.id);return{...i,targetPosition:"left",sourcePosition:"right",position:{x:s.x-r.width/2,y:s.y-r.height/2}}}),edges:n}),eN=Vt("/$locale/apps/derivean/root/editor")({validateSearch:vr(B.object({zoomTo:B.string().optional()})),async loader({context:{kysely:t}}){const e=(await t.selectFrom("Blueprint").select(["id","name","cycles","sort"]).execute()).map(r=>({id:r.id,position:{x:0,y:0},data:r,type:"blueprint"})),n=(await t.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:r,blueprintId:i,dependencyId:s})=>({id:r,source:s,target:i,type:"dependency"}));return Bie({graph:new ML.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:[...e],edges:[...n]})},component(){const t=eN.useLoaderData(),{zoomTo:e}=eN.useSearch();return f.jsx($ie,{data:t,zoomTo:e})}}),zie=()=>ln({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return Dt.transaction().execute(async r=>mm.parse(await r.insertInto("User").values({id:Un(),name:e,login:t,password:mF.hash(n)}).returning(["User.id","User.name","User.login"]).executeTakeFirstOrThrow()))}}),Wie=B.object({name:B.string().min(1),login:B.string().min(1),password1:B.string().min(1),password2:B.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),Vie=({onSuccess:t})=>{const e=zie(),n=Bi({resolver:zi(Wie)}),r=$i({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return f.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:s=>{BN({error:s,errors:[xN({error:s,schema:$N,onError:({data:o})=>{n.setError("root",{message:o.message})}})],onError:o=>{n.setError("root",{message:o.message})}})}}).catch(()=>{})),children:[f.jsx(Ii,{variant:{highlight:!0},error:n.formState.errors.root}),f.jsx(In,{formState:n.formState,name:"name",label:f.jsx(re,{label:"Name (label)"}),children:f.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),f.jsx(In,{formState:n.formState,name:"login",label:f.jsx(re,{label:"Login (label)"}),children:f.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),f.jsx(In,{formState:n.formState,name:"password1",label:f.jsx(re,{label:"Password 1 (label)"}),children:f.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),f.jsx(In,{formState:n.formState,name:"password2",label:f.jsx(re,{label:"Password 2 (label)"}),children:f.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),f.jsx(qn,{iconEnabled:"icon-[mdi--register-outline]",iconDisabled:"icon-[mdi--register-outline]",type:"submit",children:f.jsx(re,{label:"Register (submit)"})})]})},Uie=Vt("/$locale/apps/derivean/public/register")({component:()=>{const t=Xd();return f.jsx("div",{className:Sn(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:f.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[f.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),f.jsx(Vie,{onSuccess:async e=>{pf.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Hie=Vt("/$locale/apps/derivean/public/logout")({pendingComponent(){return f.jsx("div",{className:Sn(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:f.jsx(MD,{icon:a1,textTitle:f.jsx(re,{label:"Logout (label)"}),textMessage:f.jsx(re,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw pf.remove("session"),Qh({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),Qie=()=>ln({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return Dt.transaction().execute(async n=>{const r=await n.selectFrom("User as u").select(["u.id","u.login","u.name"]).where("u.login","=",t).where("u.password","=",mF.hash(e)).executeTakeFirstOrThrow();return{id:r.id,login:r.login,name:r.name}})}}),Kie=B.object({login:B.string().min(1),password:B.string().min(1)}),Gie=({onSuccess:t})=>{const{locale:e}=rn({from:"/$locale"}),n=Qie(),r=Bi({resolver:zi(Kie)}),i=$i({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return f.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async s=>n.mutateAsync(s,{onSuccess:t,onError:o=>{BN({error:o,errors:[xN({error:o,schema:$N,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[f.jsx(Ii,{variant:{highlight:!0},error:r.formState.errors.root}),f.jsx(In,{formState:r.formState,name:"login",label:f.jsx(re,{label:"Login (label)"}),children:f.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),f.jsx(In,{formState:r.formState,name:"password",label:f.jsx(re,{label:"Password (label)"}),children:f.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),f.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[f.jsx(Mt,{icon:"icon-[mdi--register-outline]",to:"/$locale/apps/derivean/public/register",params:{locale:e},children:f.jsx(re,{label:"Register (link)"})}),f.jsx(qn,{iconEnabled:"icon-[uiw--login]",iconDisabled:"icon-[uiw--login]",type:"submit",children:f.jsx(re,{label:"Login (submit)"})})]})]})},Jie=Vt("/$locale/apps/derivean/public/login")({component:()=>{const t=Xd();return f.jsx("div",{className:Sn(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:f.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[f.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),f.jsx(Gie,{onSuccess:async e=>{pf.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Zie=gn({slot:{base:["flex","flex-col","gap-2","rounded-md","bg-white","border","border-slate-300","p-2","hover:bg-slate-100","cursor-draggable"]},variant:{isDragging:{true:[]}},match:[{if:{isDragging:!0},then:{base:["cursor-grabbing","bg-slate-100"]}}],defaults:{isDragging:!1}}),Yie=async({blueprintId:t,userId:e,x:n,y:r,plan:i,valid:s})=>Dt.transaction().execute(async o=>{const l=await o.selectFrom("Blueprint as b").select(["b.cycles"]).where("b.id","=",t).executeTakeFirstOrThrow(),u=await o.insertInto("Building").values({id:Un(),userId:e,blueprintId:t,constructionId:(await o.insertInto("Construction").values({id:Un(),userId:e,cycle:0,cycles:l.cycles,plan:i,valid:s}).returning("id").executeTakeFirstOrThrow()).id,x:n,y:r}).returningAll().executeTakeFirstOrThrow(),d=await o.selectFrom("Inventory as i").select(["i.amount","i.limit","i.resourceId","i.type"]).where("i.id","in",o.selectFrom("Blueprint_Inventory as bi").select("bi.inventoryId").where("bi.blueprintId","=",t)).execute();for await(const{amount:p,limit:h,resourceId:b,type:x}of d)await o.insertInto("Building_Inventory").values({id:Un(),buildingId:u.id,inventoryId:(await o.insertInto("Inventory").values({id:Un(),amount:p,limit:h,resourceId:b,type:x}).returning("id").executeTakeFirstOrThrow()).id}).execute();return u}),D1=({cycles:t})=>f.jsxs("div",{className:Sn(["flex","flex-row","items-center","gap-2"]),children:[f.jsx(nn,{css:{base:["text-slate-400"]},icon:Vh}),f.jsx("div",{className:"font-bold text-md",children:En({number:t})})]}),Xie=({userId:t,entity:e,variant:n,tva:r=Zie,css:i})=>{const{locale:s}=rn({from:"/$locale"}),o=Xd(),l=Yn([["GameMap"]]),u=ln({async mutationFn({blueprintId:p}){const h=await Yie({userId:t,blueprintId:p,x:0,y:0,plan:!0,valid:!1});o({to:"/$locale/apps/derivean/map/construction",params:{locale:s},search:{zoomToId:h.id}})},async onSuccess(){await l()},onError(p){console.error(p)}}),d=r({...n,css:i}).slots;return f.jsx("div",{className:d.base(),children:f.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between",children:[f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs(Rs,{children:["x",e.count]}),f.jsx(Mt,{to:"/$locale/apps/derivean/map/blueprint/$id/requirements",params:{locale:s,id:e.id},css:{base:["font-bold"]},children:e.name})]}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsx(D1,{cycles:e.cycles}),f.jsx(qn,{iconEnabled:Jd,iconDisabled:Jd,loading:u.isPending,onClick:()=>{u.mutate({blueprintId:e.id})}})]})]})})},ese=gn({slot:{base:["flex","flex-col","gap-4","w-4/12","border-l-2","border-slate-200","shadow-sm","relative","max-h-screen"],title:["flex","flex-row","justify-between","items-center","px-4","py-4","shadow-md"],content:["flex","flex-col","gap-2","max-h-full","overflow-y-auto","px-4","mb-4"]},variant:{},defaults:{}}),Mo=({icon:t,textTitle:e,textSubTitle:n,variant:r,tva:i=ese,css:s,children:o})=>{const{locale:l}=rn({from:"/$locale"}),u=i({...r,css:s}).slots;return f.jsxs("div",{className:u.base(),children:[f.jsxs("div",{className:u.title(),children:[f.jsxs("div",{className:"flex flex-col gap-2 font-bold",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(nn,{icon:t,css:{base:["text-slate-500"]}}),e]}),n?f.jsx("div",{className:"flex flex-row gap-2 items-center text-sm text-slate-500",children:n}):null]}),f.jsx(Mt,{icon:r1,to:"/$locale/apps/derivean/map",params:{locale:l}})]}),f.jsx("div",{className:u.content(),children:o})]})},tse=({userId:t,blueprints:e,...n})=>f.jsx(Mo,{icon:Jd,textTitle:f.jsx(re,{label:"Construction (label)"}),...n,children:e.length>0?e.map(r=>f.jsx(Xie,{userId:t,entity:r},r.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"There are no available blueprints (label)"})})}),nM=Vt("/$locale/apps/derivean/map/construction")({async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{user:r,blueprints:await t.ensureQueryData({queryKey:["GameMap",r.id],async queryFn(){return e.transaction().execute(async i=>Zr({select:i.selectFrom(i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles",s=>s.selectFrom("Building as bg").select(o=>o.fn.count("bg.id").as("count")).whereRef("bg.blueprintId","=","bl.id").where("bg.userId","=",r.id).as("count"),s=>s.case().when(s.not(s.exists(s.selectFrom("Blueprint_Dependency as bd").select(s.lit(1).as("one")).whereRef("bd.blueprintId","=","bl.id").where(o=>o.not(o.exists(o.selectFrom("Building as b").select(o.lit(1).as("one")).where("b.constructionId","is",null).where("b.userId","=",r.id).whereRef("b.blueprintId","=","bd.dependencyId"))))))).then(s.lit(!0)).else(s.lit(!1)).end().as("withAvailableBuildings")]).where("bl.id","not in",i.selectFrom("Blueprint_Conflict as bc").select("bc.conflictId").where("bc.blueprintId","in",i.selectFrom("Building as bg").select("bg.blueprintId").where("bg.userId","=",r.id))).as("blueprint")).selectAll().where("withAvailableBuildings","=",!0).orderBy("blueprint.sort","asc"),output:B.object({id:B.string().min(1),name:B.string().min(1),count:B.number().int().nonnegative(),cycles:B.number().int().nonnegative(),sort:B.number().int().nonnegative(),withAvailableBuildings:qs()})}))}})}},component(){const{user:t,blueprints:e}=nM.useLoaderData();return f.jsx(tse,{userId:t.id,blueprints:e})}}),rM=Vt("/$locale/apps/derivean/db/schema")({async loader({context:{kysely:t}}){return{tables:await t.introspection.getTables()}},component(){const{tables:t}=rM.useLoaderData(),e=({dataType:i,isNullable:s})=>{const o=i.toLowerCase();let l=`z.never({message: '${i}'})`;switch(o){case"integer":{l="z.number().int()";break}case"float4":{l="z.number()";break}case"datetime":{l="z.string()";break}case"boolean":{l="withBoolSchema()";break}}return o.startsWith("varchar")&&(l=`z.string()${s?"":".min(1)"}`),`
// ${i} / ${s?"nullable":"not nullable"}
${l}${s?".nullish()":""}
`},n=t.map(i=>{const s=i.name.replaceAll("_","");return`
export const with${s}Schema = <
    TShapeSchema extends ShapeSchema,
    TFilterSchema extends FilterSchema,
>({
    shape,
    filter,
}: {
    shape: TShapeSchema;
    filter: TFilterSchema;
}) => {
    return withSourceSchema({
        entity: IdentitySchema.merge(z.object({
                ${i.columns.filter(({name:o})=>o!=="id").map(o=>`
    "${o.name}": ${e(o)}
        `.trim()).join(`,
			`)},
        })),
        shape,
        filter,
        sort: [${i.columns.map(o=>`"${o.name}"`).join(", ")}],
    });
}

export type ${s}Entity = ReturnType<typeof with${s}Schema>['~entity'];
            `.trim()}),r=t.map(i=>{const s=i.name.replaceAll("_","");return`${i.name}: ${s}Entity;`});return f.jsxs("pre",{children:[`
import {
    IdentitySchema,
    withSourceSchema,
    type FilterSchema,
    type ShapeSchema,
    withBoolSchema,
} from "@use-pico/common";
import { z } from "zod";
            `.trim(),`

${n.join(`

`)}`,`

export interface Database {
    ${r.join(`
	`)}
}
                `]})}}),t3=Vr(),nse=[t3({name:"name",header(){return f.jsx(re,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),t3({name:"login",header(){return f.jsx(re,{label:"User login (label)"})},render({value:t}){return t},size:14})],rse=({table:t,...e})=>{const n=Yn([["GameMap"],["Management"],["User_Inventory"]]),r=ln({async mutationFn({userId:i}){return Dt.transaction().execute(async s=>{await s.deleteFrom("Building").where("userId","=",i).execute(),await s.deleteFrom("Production").where("userId","=",i).execute(),await s.deleteFrom("Construction").where("userId","=",i).execute(),await s.deleteFrom("Cycle").where("userId","=",i).execute()})},async onSuccess(){await n()}});return f.jsx(zr,{table:Wr({...t,columns:nse}),action:{row({data:i}){return f.jsx(dr,{children:f.jsx(P9,{icon:ai,onClick:()=>{r.mutateAsync({userId:i.id})},children:f.jsx(re,{label:"Reset game (menu)"})})})}},...e})},ise=Die({shape:B.object({name:B.string().min(1),login:B.string().min(1),password:B.string().min(1)}),filter:ps.merge(B.object({login:B.string().optional(),password:B.string().optional()}))}),Ly=Vt("/$locale/apps/derivean/root/user/list")({validateSearch:vr(Br(ise)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["User","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>br({select:i.selectFrom("User as u").select(["u.id","u.name","u.login"]),output:B.object({id:B.string().min(1),name:B.string().min(1),login:B.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Ly.useLoaderData(),{filter:n,cursor:r,selection:i}=Ly.useSearch(),s=Ly.useNavigate(),{tva:o}=yr({from:"__root__"}),l=o().slots;return f.jsx("div",{className:l.base(),children:f.jsx(rse,{table:{data:t,filter:{value:n,set:Mr(s)},selection:{type:"multi",value:i,set:Ds(s)}},fulltext:{value:n?.fulltext,set:$r(s)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of users (label)"}),...Lr(s)}})})}}),sse=({entity:t,...e})=>{const{locale:n}=rn({from:"/$locale"});return f.jsxs(ec,{...e,children:[f.jsx(Zn,{icon:l1,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:f.jsx(re,{label:"View detail (menu)"})}),f.jsx(Zn,{icon:tc,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Building list (menu)"})})]})},ose=t=>{const{locale:e}=rn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(gf,{icon:l1,title:n.name}),actions:()=>f.jsx(f.Fragment,{children:f.jsx(Mt,{icon:Mv,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:f.jsx(re,{label:"User list (label)"})})}),...t})},iM=Vt("/$locale/apps/derivean/root/user/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await ca({select:n.selectFrom("User as u").select(["u.id","u.name"]).where("u.id","=",e),output:B.object({id:B.string().min(1),name:B.string().min(1)})})}))},component(){const{tva:t}=yr({from:"__root__"}),{entity:e}=iM.useLoaderData(),n=t().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(ose,{entity:e}),f.jsx(sse,{entity:e}),f.jsx(uo,{})]})}}),Sm=Fie({shape:B.object({code:B.string().min(1),label:B.string().min(1),group:B.string().nullish(),sort:Zp()}),filter:ps.merge(B.object({code:B.string().optional(),group:B.string().optional()}))}),n3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(Sm.shape),defaultValues:{sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"code",label:f.jsx(re,{label:"Tag code (label)"}),required:!0,children:f.jsx("input",{type:"text",className:o.input(),...s.register("code")})}),f.jsx(In,{formState:s.formState,name:"label",label:f.jsx(re,{label:"Tag label (label)"}),required:!0,children:f.jsx("input",{type:"text",className:o.input(),...s.register("label")})}),f.jsx(In,{formState:s.formState,name:"group",label:f.jsx(re,{label:"Tag group (label)"}),children:f.jsx("input",{type:"text",className:o.input(),...s.register("group")})}),f.jsx(In,{formState:s.formState,name:"sort",label:f.jsx(re,{label:"Tag sort (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Oh,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},IS=Vr(),ase=[IS({name:"label",header(){return f.jsx(re,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),IS({name:"code",header(){return f.jsx(re,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),IS({name:"group",header(){return f.jsx(re,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],sM=({group:t,table:e,...n})=>{const r=Yn([["Tag"],["Resource"]]);return f.jsx(zr,{table:Wr({...e,columns:ase}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create tag (menu)"}),textTitle:f.jsx(re,{label:"Create tag (modal)"}),icon:Oh,children:f.jsx(n3,{defaultValues:{group:t},mutation:ln({async mutationFn(i){return Rn.promise(Dt.transaction().execute(s=>s.insertInto("Tag").values({id:Un(),...i}).returningAll().executeTakeFirstOrThrow()),Xr("Create tag"))},async onSuccess(){await r()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit tag (modal)"}),icon:Oh,children:f.jsx(n3,{defaultValues:{group:t,...i},mutation:ln({async mutationFn(s){return Rn.promise(Dt.transaction().execute(o=>o.updateTable("Tag").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Xr("Edit tag"))},async onSuccess(){await r()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>{await Dt.transaction().execute(s=>s.deleteFrom("Tag").where("id","=",i.id).execute())},textContent:f.jsx(re,{label:"Tag delete (content)"}),textToast:"Tag delete",invalidator:r})})]})}},...n})},My=Vt("/$locale/apps/derivean/root/tag/list")({validateSearch:vr(Br(Sm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Tag","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>br({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]).orderBy("t.sort","desc"),output:B.object({id:B.string().min(1),code:B.string().min(1),label:B.string().min(1),group:B.string().nullish(),sort:B.number().int().nonnegative()}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=My.useLoaderData(),{filter:n,cursor:r,selection:i}=My.useSearch(),s=My.useNavigate(),{tva:o}=yr({from:"__root__"}),l=o().slots;return f.jsx("div",{className:l.base(),children:f.jsx(sM,{table:{data:t,filter:{value:n,set:Mr(s)},selection:{type:"multi",value:i,set:Ds(s)}},fulltext:{value:n?.fulltext,set:$r(s)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of items"}),...Lr(s)}})})}}),lse=({group:t,...e})=>f.jsx(LG,{icon:Oh,table:n=>f.jsx(sM,{group:t,...n}),render:({entities:n})=>f.jsx($D,{tags:n}),queryKey:"Tag",query:async({filter:n,cursor:r})=>Dt.transaction().execute(async i=>br({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]),output:Sm.entity,query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("t.id","=",o.id)),o?.idIn&&(l=l.where("t.id","in",o.idIn)),o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("t.code","like",u),d("t.group","like",u),d("t.label","like",u),d("t.id","like",u)]))}return l},filter:n,cursor:r})),...e}),oM=Pie({shape:B.object({name:B.string().min(1),transport:js(),tagIds:B.array(B.string()).optional()}),filter:ps.merge(B.object({name:B.string().optional()}))}),r3=({group:t="resource",mutation:e,defaultValues:n,variant:r,tva:i=$i,css:s})=>{const o=Bi({resolver:zi(oM.shape),defaultValues:{transport:1,...n}}),l=i({...r,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:s}).slots;return f.jsxs("form",{className:l.base(),onSubmit:Fs({form:o,mutation:e}),children:[f.jsx(Ii,{variant:{highlight:!0},error:o.formState.errors.root}),f.jsx(In,{formState:o.formState,name:"name",label:f.jsx(re,{label:"Resource name (label)"}),children:f.jsx("input",{type:"text",className:l.input(),...o.register("name")})}),f.jsx(In,{formState:o.formState,name:"transport",label:f.jsx(re,{label:"Resource transport (label)"}),hint:f.jsx(re,{label:"Amount of resources transported per cycle (hint)"}),required:!0,children:f.jsx("input",{type:"number",className:l.input(),min:.5,step:.5,...o.register("transport")})}),f.jsx(In,{formState:o.formState,name:"tagIds",label:f.jsx(re,{label:"Resource tags (label)"}),children:f.jsx(us,{control:o.control,name:"tagIds",render:({field:{ref:u,...d}})=>f.jsx(lse,{group:t,textTitle:f.jsx(re,{label:"Select resource tags (title)"}),textSelect:f.jsx(re,{label:"Select resource tags (label)"}),allowEmpty:!0,...d})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Fn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},Zu=Vr(),cse=[Zu({name:"name",header(){return f.jsx(re,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),Zu({name:"transport",header(){return f.jsx(re,{label:"Resource transport (label)"})},render({value:t}){return En({number:t})},size:12}),Zu({name:"countProduction",header(){return f.jsx(re,{label:"Resource production count (label)"})},render({value:t}){return f.jsx(Rs,{css:{base:t!==void 0&&t===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:En({number:t})})},size:12}),Zu({name:"countRequirement",header(){return f.jsx(re,{label:"Resource requirement count (label)"})},render({data:t,value:e}){return f.jsx(Rs,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:En({number:e})})},size:12}),Zu({name:"countProductionRequirement",header(){return f.jsx(re,{label:"Resource production requirement count (label)"})},render({data:t,value:e}){return f.jsx(Rs,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:En({number:e})})},size:18}),Zu({name:"tags",header(){return f.jsx(re,{label:"Resource tags (label)"})},render({value:t}){return f.jsx($D,{tags:t})},size:32})],aM=({group:t,table:e,...n})=>{const r=Yn([["Resource"],["Resource_Tag"]]);return f.jsx(zr,{table:Wr({...e,columns:cse}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create resource (menu)"}),textTitle:f.jsx(re,{label:"Create resource (modal)"}),icon:Fn,children:({close:i})=>f.jsx(r3,{group:t,mutation:ln({async mutationFn({name:s,transport:o,tagIds:l=[]}){return Dt.transaction().execute(async u=>{const d=await u.insertInto("Resource").values({id:Un(),name:s,transport:o}).returningAll().executeTakeFirstOrThrow();return l.length&&await u.insertInto("Resource_Tag").values(l.map(p=>({id:Un(),resourceId:d.id,tagId:p}))).execute(),d})},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit resource (modal)"}),icon:Fn,children:({close:s})=>f.jsx(r3,{defaultValues:{...i,tagIds:i.tags.map(({id:o})=>o)},mutation:ln({async mutationFn({tagIds:o,...l}){return Rn.promise(Dt.transaction().execute(async u=>{const d=await u.updateTable("Resource").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await u.deleteFrom("Resource_Tag").where("resourceId","=",d.id).execute(),o?.length&&await u.insertInto("Resource_Tag").values(o.map(p=>({id:Un(),resourceId:d.id,tagId:p}))).execute(),d}),Xr("Update resource"))},async onSuccess(){await r(),s()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Resource").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Resource delete (content)"}),textToast:"Resource delete",invalidator:r})})]})}},...n})},$y=Vt("/$locale/apps/derivean/root/resource/list")({validateSearch:vr(Br(oM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Resource","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>br({select:i.selectFrom("Resource as r").select(["r.id","r.name","r.transport",s=>s.selectFrom("Tag as t").select(o=>Ir`json_group_array(json_object(
                                            'id', ${o.ref("t.id")},
                                            'code', ${o.ref("t.code")},
                                            'group', ${o.ref("t.group")},
                                            'sort', ${o.ref("t.sort")},
                                            'label', ${o.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",s.selectFrom("Resource_Tag as rt").select("rt.tagId").whereRef("rt.resourceId","=","r.id")).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",u),d("r.name","like",u),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(p=>p.or([p("t.code","like",u),p("t.label","like",u),p("t.group","like",u)])))]))}return l},output:B.object({id:B.string().min(1),name:B.string().min(1),transport:js(),countRequirement:B.number().nonnegative(),countProduction:B.number().nonnegative(),countProductionRequirement:B.number().nonnegative(),tags:as(Sm.entity)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=$y.useLoaderData(),{filter:n,cursor:r,selection:i}=$y.useSearch(),s=$y.useNavigate(),{tva:o}=yr({from:"__root__"}),l=o().slots;return f.jsx("div",{className:l.base(),children:f.jsx(aM,{table:{data:t,filter:{value:n,set:Mr(s)},selection:{type:"multi",value:i,set:Ds(s)}},fulltext:{value:n?.fulltext,set:$r(s)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of items"}),...Lr(s)}})})}}),use=({entity:t,...e})=>{const{locale:n}=rn({from:"/$locale"});return f.jsx(ec,{...e,children:f.jsx(Zn,{icon:Fn,to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:f.jsx(re,{label:"View detail (menu)"})})})},dse=t=>{const{locale:e}=rn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(gf,{icon:Fn,title:n.name}),actions:()=>f.jsx(f.Fragment,{children:f.jsx(Mt,{icon:Mv,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:f.jsx(re,{label:"Resource list (label)"})})}),...t})},lM=Vt("/$locale/apps/derivean/root/resource/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Resource",n],async queryFn(){return e.transaction().execute(async r=>({entity:await ca({select:r.selectFrom("Resource as r").select(["r.id","r.name"]).where("r.id","=",n),output:B.object({id:B.string().min(1),name:B.string().min(1)})})}))}})},component:()=>{const{tva:t}=yr({from:"__root__"}),{entity:e}=lM.useLoaderData(),n=t().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(dse,{entity:e}),f.jsx(use,{entity:e}),f.jsx(uo,{})]})}}),fse=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2","bg-sky-100","border-sky-300","text-sky-500"]},variant:{missing:{true:[]}},match:[{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{missing:!1}}),cM=({dependencies:t,variant:e,tva:n=fse,css:r,...i})=>{const s=n({...e,css:r}).slots;return f.jsx(Wd,{items:t,render:({entity:o})=>f.jsx("div",{className:s.item(),children:f.jsx("div",{children:o.name})}),...i})};var oy={},i3;function pse(){if(i3)return oy;i3=1;function t(r,i,s,o){var l=new Set;return function(u){if(!l.has(u)){var d=new Set,p=[],h=[];for(h.push({node:u,processed:!1});h.length>0;){var b=h[h.length-1],x=b.processed,_=b.node;if(x)h.pop(),p.pop(),d.delete(_),l.add(_),(!i||r.get(_).length===0)&&s.push(_);else{if(l.has(_)){h.pop();continue}else if(d.has(_)){if(o){h.pop();continue}throw p.push(_),new n(p)}d.add(_),p.push(_);for(var E=r.get(_),I=E.length-1;I>=0;I--)h.push({node:E[I],processed:!1});b.processed=!0}}}}}var e=oy.DepGraph=function(i){this.nodes=new Map,this.outgoingEdges=new Map,this.incomingEdges=new Map,this.circular=i&&!!i.circular};e.prototype={size:function(){return this.nodes.size},addNode:function(r,i){this.hasNode(r)||(arguments.length===2?this.nodes.set(r,i):this.nodes.set(r,r),this.outgoingEdges.set(r,[]),this.incomingEdges.set(r,[]))},removeNode:function(r){this.hasNode(r)&&(this.nodes.delete(r),this.outgoingEdges.delete(r),this.incomingEdges.delete(r),[this.incomingEdges,this.outgoingEdges].forEach(function(i){i.forEach(function(s){var o=s.indexOf(r);o>=0&&s.splice(o,1)})}))},hasNode:function(r){return this.nodes.has(r)},getNodeData:function(r){if(this.hasNode(r))return this.nodes.get(r);throw new Error("Node does not exist: "+r)},setNodeData:function(r,i){if(this.hasNode(r))this.nodes.set(r,i);else throw new Error("Node does not exist: "+r)},addDependency:function(r,i){if(!this.hasNode(r))throw new Error("Node does not exist: "+r);if(!this.hasNode(i))throw new Error("Node does not exist: "+i);return this.outgoingEdges.get(r).indexOf(i)===-1&&this.outgoingEdges.get(r).push(i),this.incomingEdges.get(i).indexOf(r)===-1&&this.incomingEdges.get(i).push(r),!0},removeDependency:function(r,i){var s;this.hasNode(r)&&(s=this.outgoingEdges.get(r).indexOf(i),s>=0&&this.outgoingEdges.get(r).splice(s,1)),this.hasNode(i)&&(s=this.incomingEdges.get(i).indexOf(r),s>=0&&this.incomingEdges.get(i).splice(s,1))},clone:function(){var r=this,i=new e;return r.nodes.forEach(function(s,o){i.nodes.set(o,s),i.outgoingEdges.set(o,r.outgoingEdges.get(o).slice(0)),i.incomingEdges.set(o,r.incomingEdges.get(o).slice(0))}),i.circular=r.circular,i},directDependenciesOf:function(r){if(this.hasNode(r))return this.outgoingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},directDependantsOf:function(r){if(this.hasNode(r))return this.incomingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},dependenciesOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.outgoingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},dependantsOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.incomingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},overallOrder:function(r){var i=this,s=[],o=Array.from(this.nodes.keys());if(o.length===0)return s;if(!this.circular){var l=t(this.outgoingEdges,!1,[],this.circular);o.forEach(function(d){l(d)})}var u=t(this.outgoingEdges,r,s,this.circular);return o.filter(function(d){return i.incomingEdges.get(d).length===0}).forEach(function(d){u(d)}),this.circular&&o.filter(function(d){return s.indexOf(d)===-1}).forEach(function(d){u(d)}),s},entryNodes:function(){var r=this;return Array.from(this.nodes.keys()).filter(function(i){return r.incomingEdges.get(i).length===0})}},e.prototype.directDependentsOf=e.prototype.directDependantsOf,e.prototype.dependentsOf=e.prototype.dependantsOf;var n=oy.DepGraphCycleError=function(r){var i="Dependency Cycle Found: "+r.join(" -> "),s=new Error(i);return s.cyclePath=r,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,n),s};return n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(n,Error),oy}var uM=pse();const Em=async({tx:t})=>{const e=new uM.DepGraph({circular:!1});for await(const{id:n,name:r}of await t.selectFrom("Blueprint").select(["id","name"]).execute())e.addNode(n,r);for await(const{blueprintId:n,dependencyId:r}of await t.selectFrom("Blueprint_Dependency").select(["blueprintId","dependencyId"]).execute())e.addDependency(n,r);return e},Uh=async({tx:t})=>{const e=Em({tx:t}),n=await t.selectFrom("Blueprint as bl").select(["bl.id"]).execute();for await(const r of n){const i=(await e).dependenciesOf(r.id);await t.updateTable("Blueprint").set({sort:i.length}).where("id","=",r.id).execute()}},hse=gn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),nx=({requirements:t,diff:e,variant:n,tva:r=hse,css:i,...s})=>{const o=r({...n,css:i}).slots;return f.jsx(Wd,{items:t,render:({entity:l})=>{const u=e?.find(p=>p.resourceId===l.resourceId),d=u?.amount?u.amount-l.amount:-l.amount;return f.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[f.jsx("div",{children:l.name}),f.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",En({number:l.amount})]}),e?d>=0?f.jsx(nn,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):f.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[f.jsx(nn,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",En({number:d}),")"]}):null]})},...s})},xp=Vr(),mse=[xp({name:"name",header(){return f.jsx(re,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(Mt,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:n},search:{zoomTo:t.id}}),f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),xp({name:"dependencies",header(){return f.jsx(re,{label:"Blueprint dependencies (label)"})},render({value:t}){return t.length>0?f.jsxs("div",{className:"flex flex-col flex-wrap gap-2 w-full",children:[f.jsx(cM,{textTitle:f.jsx(re,{label:"Blueprint dependencies (title)"}),dependencies:t}),f.jsx("div",{className:"border-b border-slate-200"})]}):f.jsx(re,{label:"No dependencies (label)"})},size:32}),xp({name:"requirements",header(){return f.jsx(re,{label:"Required resources (label)"})},render({value:t}){return f.jsx(nx,{textTitle:f.jsx(re,{label:"Blueprint requirements (title)"}),textEmpty:f.jsx(re,{label:"No requirements (label)"}),requirements:t})},size:32}),xp({name:"cycles",header(){return f.jsx(re,{label:"Construction cycles (label)"})},render({value:t}){return f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f.jsx(nn,{icon:Vh}),En({number:t})]})},size:8}),xp({name:"limit",header(){return f.jsx(re,{label:"Building limit (label)"})},render({value:t}){return En({number:t})},size:8})],dM=({dependencies:t,table:e,...n})=>{const r=Yn([["Blueprint"],["Inventory"]]);return f.jsx(zr,{table:Wr({...e,columns:mse,context:{dependencies:t}}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create blueprint (menu)"}),textTitle:f.jsx(re,{label:"Create blueprint (modal)"}),icon:Tn,children:({close:i})=>f.jsx(tv,{mutation:ln({async mutationFn(s){return Rn.promise(Dt.transaction().execute(async o=>{const l=o.insertInto("Blueprint").values({id:Un(),...s}).returningAll().executeTakeFirstOrThrow();return await Uh({tx:o}),l}),Xr("Create blueprint"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit blueprint (modal)"}),icon:Tn,children:({close:s})=>f.jsx(tv,{defaultValues:i,mutation:ln({async mutationFn(o){return Rn.promise(Dt.transaction().execute(async l=>{const u=l.updateTable("Blueprint").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await Uh({tx:l}),u}),Xr("Update blueprint"))},async onSuccess(){await r(),s()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete blueprint (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Blueprint").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:r})})]})}},...n})},nc=kie({shape:B.object({dependencyId:B.string().min(1)}),filter:ps.merge(B.object({blueprintId:B.string().optional(),dependencyId:B.string().optional()}))}),bf=qie({shape:B.object({resourceId:B.string().min(1),amount:js(),passive:B.boolean()}),filter:ps.merge(B.object({blueprintId:B.string().optional(),resourceId:B.string().optional()}))}),By=Vt("/$locale/apps/derivean/root/blueprint/list")({validateSearch:vr(Br(F1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.limit",o=>o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(l=>Ir`json_group_array(json_object(
                                                'id', ${l.ref("br.id")},
                                                'amount', ${l.ref("br.amount")},
                                                'passive', ${l.ref("br.passive")},
                                                'resourceId', ${l.ref("br.resourceId")},
                                                'blueprintId', ${l.ref("br.blueprintId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),o=>o.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(l=>Ir`json_group_array(json_object(
                                                        'id', ${l.ref("bd.id")},
                                                        'dependencyId', ${l.ref("bd.dependencyId")},
                                                        'blueprintId', ${l.ref("bd.blueprintId")},
                                                        'name', ${l.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("bl.id","=",l.id)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(p=>p.or([p("bl.id","like",d),p("bl.name","like",d)]))}return u},output:B.object({id:B.string().min(1),name:B.string().min(1),cycles:B.number().nonnegative(),sort:B.number().nonnegative(),limit:B.number().nonnegative(),requirements:as(bf.entity.merge(B.object({name:B.string().min(1)}))),dependencies:as(nc.entity.merge(B.object({name:B.string().min(1)})))}),filter:n,cursor:r}))}}),dependencies:await e.transaction().execute(async s=>Em({tx:s}))}},component(){const{data:{data:t,count:e},dependencies:n}=By.useLoaderData(),{filter:r,cursor:i,selection:s}=By.useSearch(),o=By.useNavigate(),{tva:l}=yr({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(dM,{dependencies:n,table:{data:t,filter:{value:r,set:Mr(o)},selection:{type:"multi",value:s,set:Ds(o)}},fulltext:{value:r?.fulltext,set:$r(o)},cursor:{count:e,cursor:i,textTotal:f.jsx(re,{label:"Number of blueprints"}),...Lr(o)}})})}}),Zd="icon-[mingcute--inventory-line]",gse=({entity:t,...e})=>{const{locale:n}=rn({from:"/$locale"});return f.jsxs(ec,{...e,children:[f.jsx(Zn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:f.jsx(re,{label:"View detail (menu)"})}),f.jsx(Zn,{icon:tc,to:"/$locale/apps/derivean/root/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Blueprint dependencies (menu)"})}),f.jsx(Zn,{icon:Fn,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Required resources (menu)"})}),f.jsx(Zn,{icon:lo,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Resource production (menu)"})}),f.jsx(Zn,{icon:Zd,to:"/$locale/apps/derivean/root/blueprint/$id/inventory",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Blueprint inventory (menu)"})}),f.jsx(Zn,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Blueprint conflicts (menu)"})}),f.jsx(Zn,{icon:vD,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Edit (menu)"})})]})},yse=t=>{const{locale:e}=rn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(gf,{icon:Tn,title:n.name}),actions:({entity:n})=>f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:Mv,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},children:f.jsx(re,{label:"Blueprint list (label)"})}),f.jsx(Mt,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},search:{zoomTo:n.id},children:f.jsx(re,{label:"Editor (label)"})})]}),...t})},fM=Vt("/$locale/apps/derivean/root/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>ca({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles",s=>s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(o=>Ir`json_group_array(json_object(
                                                  'id', ${o.ref("br.id")},
                                                  'amount', ${o.ref("br.amount")},
                                                  'passive', ${o.ref("br.passive")},
                                                  'resourceId', ${o.ref("br.resourceId")},
                                                  'blueprintId', ${o.ref("br.blueprintId")},
                                                  'name', ${o.ref("r.name")}
                                              ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),s=>s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(o=>Ir`json_group_array(json_object(
                                                          'id', ${o.ref("bd.id")},
                                                          'dependencyId', ${o.ref("bd.dependencyId")},
                                                          'blueprintId', ${o.ref("bd.blueprintId")},
                                                          'name', ${o.ref("bl2.name")}
                                                      ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",u),d("bl.name","like",u),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(p=>p.or([p("r.name","like",u)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(p=>p.or([p("b.name","like",u)])))]))}return l},output:B.object({id:B.string().min(1),name:B.string().min(1),cycles:B.number().nonnegative(),sort:B.number().nonnegative(),requirements:as(bf.entity.merge(B.object({name:B.string().min(1)}))),dependencies:as(nc.entity.merge(B.object({name:B.string().min(1)})))})}))}}),graph:await e.transaction().execute(async i=>Em({tx:i}))}},component(){const{tva:t}=yr({from:"__root__"}),{entity:e}=fM.useLoaderData(),n=t().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(yse,{entity:e}),f.jsx(gse,{entity:e}),f.jsx(uo,{})]})}}),bse=Vt("/$locale/apps/derivean/map/route/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{route:await t.ensureQueryData({queryKey:["GameMap","route",n],async queryFn(){return e.transaction().execute(async r=>ca({select:r.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Blueprint as blf","blf.id","bf.blueprintId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blf.name as fromName","blt.name as toName"]).where("r.id","=",n),output:B.object({id:B.string().min(1),fromId:B.string().min(1),toId:B.string().min(1),fromName:B.string().min(1),toName:B.string().min(1)})}))}})}}}),vse=Vt("/$locale/apps/derivean/map/building/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{building:await t.ensureQueryData({queryKey:["GameMap","building",n],async queryFn(){return e.transaction().execute(async r=>ca({select:r.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.productionId","b.recurringProductionId"]).where("b.id","=",n),output:B.object({id:B.string().min(1),name:B.string().min(1),productionId:B.string().nullish(),recurringProductionId:B.string().nullish()})}))}})}}}),xse=Vt("/$locale/apps/derivean/map/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{blueprint:await t.ensureQueryData({queryKey:["GameMap","blueprint",n],async queryFn(){return e.transaction().execute(async r=>ca({select:r.selectFrom("Blueprint as b").select(["b.id","b.name"]).where("b.id","=",n),output:B.object({id:B.string().min(1),name:B.string().min(1)})}))}})}}}),s3=Vr(),wse=[s3({name:"name",header(){return f.jsx(re,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(Mt,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/game",params:{locale:n},search:{blueprintId:t.id}}),f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),s3({name:"cycles",header(){return f.jsx(re,{label:"Construction cycles (label)"})},render({value:t}){return f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f.jsx(nn,{icon:Vh}),En({number:t})]})},size:8})],_se=({table:t,...e})=>f.jsx(zr,{table:Wr({...t,columns:wse}),...e}),zy=Vt("/$locale/apps/derivean/game/blueprint/list")({validateSearch:vr(Br(F1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const s=await n();return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:r,cursor:i}],async queryFn(){return e.transaction().execute(async l=>br({select:l.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.cycles"]).where("bl.id","in",l.selectFrom("Building as bg").select("bg.blueprintId").where("bg.userId","=",s.id)).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:u,where:d}){let p=u;if(d?.id&&(p=p.where("bl.id","=",d.id)),d?.fulltext){const h=`%${d.fulltext}%`.toLowerCase();p=p.where(b=>b.or([b("bl.id","like",h),b("bl.name","like",h)]))}return p},output:B.object({id:B.string().min(1),name:B.string().min(1),cycles:B.number().nonnegative()}),filter:r,cursor:i}))}})}},component(){const{data:{data:t,count:e}}=zy.useLoaderData(),{filter:n,cursor:r}=zy.useSearch(),i=zy.useNavigate(),{tva:s}=yr({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(_se,{table:{data:t,filter:{value:n,set:Mr(i)}},fulltext:{value:n?.fulltext,set:$r(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of blueprints"}),...Lr(i)}})})}}),Sse=({entity:t,...e})=>{const{locale:n}=rn({from:"/$locale"});return f.jsxs(ec,{...e,children:[f.jsx(Zn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.id},children:f.jsx(re,{label:"View detail (menu)"})}),f.jsx(Zn,{icon:tc,to:"/$locale/apps/derivean/game/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Blueprint dependencies (menu)"})}),f.jsx(Zn,{icon:Fn,to:"/$locale/apps/derivean/game/blueprint/$id/requirements",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Required resources (menu)"})}),f.jsx(Zn,{icon:lo,to:"/$locale/apps/derivean/game/blueprint/$id/production",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Resource production (menu)"})}),f.jsx(Zn,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/game/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Blueprint conflicts (menu)"})})]})},Ese=t=>{const{locale:e}=rn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(gf,{icon:Tn,title:n.name}),actions:()=>f.jsx(f.Fragment,{children:f.jsx(Mt,{icon:Mv,to:"/$locale/apps/derivean/game/blueprint/list",params:{locale:e},children:f.jsx(re,{label:"Blueprint list (label)"})})}),...t})},pM=Vt("/$locale/apps/derivean/game/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>ca({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.cycles"]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",u),d("bl.name","like",u),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(p=>p.or([p("r.name","like",u)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(p=>p.or([p("b.name","like",u)])))]))}return l},output:B.object({id:B.string().min(1),name:B.string().min(1),cycles:B.number().nonnegative()})}))}}),graph:await e.transaction().execute(async i=>Em({tx:i}))}},component(){const{tva:t}=yr({from:"__root__"}),{entity:e}=pM.useLoaderData(),n=t().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(Ese,{entity:e}),f.jsx(Sse,{entity:e}),f.jsx(uo,{})]})}}),Nse=Vt("/$locale/apps/derivean/root/user/$id/view")({component:()=>"yep"}),kse=Vt("/$locale/apps/derivean/root/resource/$id/view")({component:()=>f.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),L1="icon-[carbon--document-requirements]",Ise=({entity:t,...e})=>{const{locale:n}=rn({from:"/$locale"});return f.jsxs(ec,{...e,children:[f.jsx(Zn,{icon:L1,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Production requirements (menu)"})}),f.jsx(Zn,{icon:Fn,to:"/$locale/apps/derivean/root/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Production resource requirements (menu)"})}),f.jsx(Zn,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Production resource dependencies (menu)"})})]})},Cse=t=>{const{locale:e}=rn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(gf,{icon:lo,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>f.jsx(f.Fragment,{children:f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:f.jsx(re,{label:"Building base detail (label)"})})}),...t})},hM=Vt("/$locale/apps/derivean/root/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await ca({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:B.object({id:B.string().min(1),resource:B.string().min(1),blueprint:B.string().min(1),blueprintId:B.string().min(1),amount:B.number().nonnegative(),cycles:B.number().int().nonnegative()})})}))}})},component(){const{entity:t}=hM.useLoaderData(),{tva:e}=yr({from:"__root__"}),n=e().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(Cse,{entity:t}),f.jsx(Ise,{entity:t}),f.jsx(uo,{})]})}}),Tse=({graph:t,blueprintId:e,mode:n="dependencies",reverse:r=!1})=>{try{const i=(s=>r?s.reverse():s)(n==="dependants"?t.dependantsOf(e):t.dependenciesOf(e));return f.jsxs("div",{className:Sn(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:[i.length>0?f.jsx(nn,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):f.jsx(nn,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(s=>f.jsx(Rs,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(s)},Un())):f.jsx(re,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof uM.DepGraphCycleError?f.jsxs("div",{className:Sn(["flex","flex-row","gap-2","items-center"]),children:[f.jsx(nn,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(s=>f.jsx(Rs,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(s)},Un()))]}):"kaboom"}},Rse=({dependencies:t,...e})=>f.jsx(fD,{items:[{id:"name",label:f.jsx(re,{label:"Building name (label)"}),render({entity:n}){return n.name}},{id:"cycles",label:f.jsx(re,{label:"Construction cycles (label)"}),render({entity:n}){return En({number:n.cycles})}},{id:"requirements",label:f.jsx(re,{label:"Required resources (label)"}),render({entity:n}){return f.jsx(nx,{requirements:n.requirements,textEmpty:f.jsx(re,{label:"No requirements (label)"})})}},{id:"dependencies",label:f.jsx(re,{label:"Blueprint dependencies (label)"}),render({entity:n}){return f.jsx(cM,{dependencies:n.dependencies,textEmpty:f.jsx(re,{label:"No dependencies (label)"})})}},{id:"deps",label:f.jsx(re,{label:"Blueprint dependency graph (label)"}),render({entity:n}){return f.jsx(Tse,{graph:t,blueprintId:n.id})}}],...e}),mM=Vt("/$locale/apps/derivean/root/blueprint/$id/view")({async loader({context:{kysely:t}}){return{dependencies:await t.transaction().execute(async e=>Em({tx:e}))}},component(){const{dependencies:t}=mM.useLoaderData(),{entity:e}=Ni({from:"/$locale/apps/derivean/root/blueprint/$id"});return f.jsx("div",{className:"w-1/2 mx-auto",children:f.jsx(Rse,{dependencies:t,entity:e})})}}),Nm=({group:t,...e})=>f.jsx(LD,{icon:Fn,textTitle:f.jsx(re,{label:"Select resource (title)"}),textSelect:f.jsx(re,{label:"Select resource (label)"}),table:n=>f.jsx(aM,{group:t,...n}),render:({entity:n})=>n.name,queryKey:"Resource",query:async({filter:n,cursor:r})=>Dt.transaction().execute(async i=>br({select:i.selectFrom("Resource as r").select(["r.id","r.name","r.transport",s=>s.selectFrom("Tag as t").select(o=>Ir`json_group_array(json_object(
                                                'id', ${o.ref("t.id")},
                                                'code', ${o.ref("t.code")},
                                                'group', ${o.ref("t.group")},
                                                'sort', ${o.ref("t.sort")},
                                                'label', ${o.ref("t.label")}
                                            ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",s.ref("r.id"))).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("r.id","=",o.id)),o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",u),d("r.name","like",u),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(p=>p.or([p("t.code","like",u),p("t.label","like",u),p("t.group","like",u)])))]))}return l},output:B.object({id:B.string().min(1),name:B.string().min(1),transport:js(),tags:as(Sm.entity),countRequirement:B.number().nonnegative(),countProduction:B.number().nonnegative(),countProductionRequirement:B.number().nonnegative()}),filter:n,cursor:r})),...e}),o3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(bf.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"resourceId",label:f.jsx(re,{label:"Requirement (label)"}),children:f.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(Nm,{allowEmpty:!0,...u})})}),f.jsx(In,{formState:s.formState,name:"amount",label:f.jsx(re,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(In,{formState:s.formState,name:"passive",label:f.jsx(re,{label:"Passive requirement (label)"}),hint:f.jsx(re,{label:"Passive requirement (hint)"}),children:f.jsx(us,{control:s.control,name:"passive",render:({field:{ref:l,...u}})=>f.jsx(dD,{...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Fn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},CS=Vr(),Ose=[CS({name:"name",header(){return f.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),CS({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:10}),CS({name:"passive",header(){return f.jsx(re,{label:"Passive requirement (label)"})},render({value:t}){return f.jsx(Lv,{value:t})},size:10})],qse=({blueprintId:t,table:e,...n})=>{const r=Yn([["Blueprint"],["Blueprint_Requirement"],["Blueprint_Resource_Requirement"],["Resource"]]);return f.jsx(zr,{table:Wr({...e,columns:Ose}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create requirement item (menu)"}),textTitle:f.jsx(re,{label:"Create requirement item (modal)"}),icon:Fn,children:f.jsx(o3,{mutation:ln({async mutationFn(i){return Dt.transaction().execute(async s=>s.insertInto("Blueprint_Requirement").values({id:Un(),...i,blueprintId:t}).execute())},async onSuccess(){await r()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit requirement item (modal)"}),icon:Fn,children:f.jsx(o3,{defaultValues:i,mutation:ln({async mutationFn(s){return Dt.transaction().execute(async o=>o.updateTable("Blueprint_Requirement").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete requirement item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Blueprint_Requirement").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Delete requirement item (content)"}),textToast:"Delete requirement item",invalidator:r})})]})}},...n})},Op=Vt("/$locale/apps/derivean/root/blueprint/$id/requirements")({validateSearch:vr(Br(bf)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("br.id","=",l.id)),l?.idIn&&(u=u.where("br.id","in",l.idIn)),l?.resourceId&&(u=u.where("br.resourceId","=",l.resourceId)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative(),passive:qs()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Op.useLoaderData(),{filter:n,cursor:r,selection:i}=Op.useSearch(),{id:s}=Op.useParams(),o=Op.useNavigate(),{tva:l}=yr({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(qse,{blueprintId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of requirements (label)"}),...Lr(o)}})})}}),M1=Cie({shape:B.object({resourceId:B.string().min(1),amount:js(),cycles:Zp()}),filter:ps.merge(B.object({blueprintId:B.string().optional(),resourceId:B.string().optional()}))}),a3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(M1.shape),defaultValues:{amount:1,cycles:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"resourceId",label:f.jsx(re,{label:"Resource name (label)"}),children:f.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(Nm,{textTitle:f.jsx(re,{label:"Select resource (title)"}),allowEmpty:!0,...u})})}),f.jsx(In,{formState:s.formState,name:"amount",label:f.jsx(re,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(In,{formState:s.formState,name:"cycles",label:f.jsx(re,{label:"Production cycles (label)"}),hint:f.jsx(re,{label:"Production cycles (hint)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:lo,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},km=t=>f.jsx(LD,{icon:Tn,textTitle:f.jsx(re,{label:"Select blueprint (title)"}),table:({table:e,...n})=>f.jsx(dM,{table:{...e,hidden:["requirements","dependencies"]},...n}),render:({entity:e})=>e.name,queryKey:"Blueprint",query:async({filter:e,cursor:n})=>Dt.transaction().execute(async r=>br({select:r.selectFrom("Blueprint as b").select(["b.id","b.name","b.sort","b.cycles","b.limit",i=>i.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(s=>Ir`json_group_array(json_object(
                                                    'id', ${s.ref("br.id")},
                                                    'amount', ${s.ref("br.amount")},
                                                    'passive', ${s.ref("br.passive")},
                                                    'resourceId', ${s.ref("br.resourceId")},
                                                    'blueprintId', ${s.ref("br.blueprintId")},
                                                    'name', ${s.ref("r.name")}
                                                ))`.as("requirements")).whereRef("br.blueprintId","=","b.id").as("requirements"),i=>i.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.blueprintId").select(s=>Ir`json_group_array(json_object(
                                                    'id', ${s.ref("bd.id")},
                                                    'dependencyId', ${s.ref("bd.dependencyId")},
                                                    'blueprintId', ${s.ref("bd.blueprintId")},
                                                    'name', ${s.ref("b.name")}
                                                ))`.as("requirements")).whereRef("bd.blueprintId","=","b.id").as("dependencies")]).orderBy("b.name","asc"),query({select:i,where:s}){let o=i;if(s?.id&&(o=o.where("b.id","=",s.id)),s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(u=>u.or([u("b.id","like",l),u("b.name","like",l)]))}return o},output:B.object({id:B.string().min(1),name:B.string().min(1),cycles:B.number().nonnegative(),sort:B.number().nonnegative(),limit:B.number().nonnegative(),requirements:as(bf.entity.merge(B.object({name:B.string().min(1)}))),dependencies:as(nc.entity.merge(B.object({name:B.string().min(1)})))}),filter:e,cursor:n})),...t}),jse=B.object({blueprintId:B.string().min(1)}),Ase=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(jse),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"blueprintId",label:f.jsx(re,{label:"Target blueprint (label)"}),children:f.jsx(us,{control:s.control,name:"blueprintId",render:({field:{ref:l,...u}})=>f.jsx(km,{allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Tn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},Yu=Vr(),Pse=[Yu({name:"name",header(){return f.jsx(re,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{icon:lo,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),Yu({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:8}),Yu({name:"cycles",header(){return f.jsx(re,{label:"Production cycles (label)"})},render({value:t}){return En({number:t})},size:8}),Yu({name:"requirements",header(){return f.jsx(re,{label:"Required resources (label)"})},render({value:t}){return f.jsx(nx,{textTitle:f.jsx(re,{label:"Resource requirements (title)"}),textEmpty:f.jsx(re,{label:"No requirements (label)"}),requirements:t})},size:32}),Yu({name:"resources",header(){return f.jsx(re,{label:"Required production resources (label)"})},render({value:t}){return f.jsx(Wd,{items:t,render:({entity:e})=>f.jsxs("div",{className:Sn(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[f.jsx("div",{children:e.name}),f.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",En({number:e.amount})]})]})})},size:32}),Yu({name:"dependencies",header(){return f.jsx(re,{label:"Required production dependencies (label)"})},render({value:t}){return f.jsx(Wd,{items:t,render:({entity:e})=>f.jsx("div",{className:Sn(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:f.jsx("div",{children:e.name})})})},size:32})],Fse=({blueprintId:t,table:e,...n})=>{const r=Yn([["Blueprint"],["Blueprint_Production"],["Blueprint_Production_Requirement"],["Resource"]]);return f.jsx(zr,{table:Wr({...e,columns:Pse}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create blueprint production (menu)"}),textTitle:f.jsx(re,{label:"Create blueprint production (modal)"}),icon:lo,children:({close:i})=>f.jsx(a3,{mutation:ln({async mutationFn(s){return Dt.transaction().execute(async o=>await o.insertInto("Blueprint_Production").values({id:Un(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit blueprint production (modal)"}),icon:lo,children:f.jsx(a3,{defaultValues:i,mutation:ln({async mutationFn(s){return Dt.transaction().execute(async o=>o.updateTable("Blueprint_Production").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),f.jsx(kn,{label:f.jsx(re,{label:"Move production to (menu)"}),textTitle:f.jsx(re,{label:"Move production to (modal)"}),icon:Fn,children:({close:s})=>f.jsx(Ase,{mutation:ln({async mutationFn(o){return Dt.transaction().execute(async l=>{await l.updateTable("Blueprint_Production").set({blueprintId:o.blueprintId}).where("id","=",i.id).execute()})},async onSuccess(){await r(),s()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete blueprint production (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Delete blueprint production (content)"}),textToast:"Delete blueprint production",invalidator:r})})]})}},...n})},Im=Tie({shape:B.object({blueprintId:B.string().min(1)}),filter:ps}),Cm=Rie({shape:B.object({resourceId:B.string().min(1),amount:js(),passive:B.boolean()}),filter:ps.merge(B.object({blueprintProductionId:B.string().optional(),resourceId:B.string().optional()}))}),Tm=Oie({shape:B.object({resourceId:B.string().min(1),amount:js()}),filter:ps.merge(B.object({resourceId:B.string().optional()}))}),qp=Vt("/$locale/apps/derivean/root/blueprint/$id/production")({validateSearch:vr(Br(M1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Ir`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Ir`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>Ir`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative(),cycles:B.number().nonnegative(),requirements:as(Cm.entity.merge(B.object({name:B.string().min(1)}))),resources:as(Tm.entity.merge(B.object({name:B.string().min(1)}))),dependencies:as(Im.entity.merge(B.object({name:B.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=qp.useLoaderData(),{filter:n,cursor:r,selection:i}=qp.useSearch(),{id:s}=qp.useParams(),o=qp.useNavigate(),{tva:l}=yr({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Fse,{blueprintId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of productions (label)"}),...Lr(o)}})})}}),Dse=({label:t,...e})=>f.jsx(re,{label:`Inventory type - ${t}`,...e}),Lse=Aie({shape:B.object({resourceId:B.string().min(1),amount:js(),limit:js(),type:B.enum(["storage","construction","input","output"])}),filter:ps.merge(B.object({resourceId:B.string().optional(),type:B.enum(["storage","construction","input","output"]).optional()}))}),l3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(Lse.shape),defaultValues:{amount:0,limit:0,type:"storage",...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"resourceId",label:f.jsx(re,{label:"Resource name (label)"}),children:f.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(Nm,{textTitle:f.jsx(re,{label:"Select resource (title)"}),allowEmpty:!0,...u})})}),f.jsx(In,{formState:s.formState,name:"type",label:f.jsx(re,{label:"Inventory type (label)"}),children:f.jsx(us,{control:s.control,name:"type",render:({field:{ref:l,...u}})=>f.jsx(pD,{items:[{id:"storage",value:so.text("Inventory type - storage")},{id:"construction",value:so.text("Inventory type - construction")},{id:"input",value:so.text("Inventory type - input")},{id:"output",value:so.text("Inventory type - output")}],render:({entity:d})=>d.value,...u})})}),f.jsx(In,{formState:s.formState,name:"amount",label:f.jsx(re,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(In,{formState:s.formState,name:"limit",label:f.jsx(re,{label:"Inventory limit (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Zd,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},ay=Vr(),Mse=[ay({name:"name",header(){return f.jsx(re,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),ay({name:"type",header(){return f.jsx(re,{label:"Inventory type (label)"})},render({value:t}){return f.jsx(Dse,{label:t})},filter:{path:"type",onFilter({data:t,filter:e}){e.shallow("type",t.type)}},size:12}),ay({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:12}),ay({name:"limit",header(){return f.jsx(re,{label:"Inventory limit (label)"})},render({value:t,data:e}){return f.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[f.jsx("div",{children:En({number:t})}),f.jsx(mf,{value:100*e.amount/e.limit})]})},size:14})],$se=({blueprintId:t,table:e,...n})=>{const r=Yn([["Blueprint_Inventory"]]);return f.jsx(zr,{table:Wr({...e,columns:Mse}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create inventory item (menu)"}),textTitle:f.jsx(re,{label:"Create inventory item (modal)"}),icon:Zd,children:f.jsx(l3,{mutation:ln({async mutationFn(i){return Rn.promise(Dt.transaction().execute(async s=>s.insertInto("Blueprint_Inventory").values({id:Un(),blueprintId:t,inventoryId:(await s.insertInto("Inventory").values({id:Un(),...i}).returningAll().executeTakeFirstOrThrow()).id}).returningAll().executeTakeFirstOrThrow()),Xr("Create inventory item"))},async onSuccess(){await r()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit inventory item (modal)"}),icon:Zd,children:f.jsx(l3,{defaultValues:i,mutation:ln({async mutationFn(s){return Rn.promise(Dt.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.inventoryId).returningAll().executeTakeFirstOrThrow()),Xr("Update inventory item"))},async onSuccess(){await r()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.inventoryId).execute()),textContent:f.jsx(re,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},Bse=Iie({shape:B.object({blueprintId:B.string().min(1),inventoryId:B.string().min(1)}),filter:ps.merge(B.object({blueprintId:B.string().optional(),inventoryId:B.string().optional()}))}),jp=Vt("/$locale/apps/derivean/root/blueprint/$id/inventory")({validateSearch:vr(Br(Bse)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>br({select:s.selectFrom("Blueprint_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").innerJoin("Resource as r","r.id","i.resourceId").select(["bi.id","r.name","i.amount","i.limit","i.type","i.resourceId","bi.blueprintId","bi.inventoryId"]).where("bi.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("bi.id","=",l.id)),l?.idIn&&(u=u.where("bi.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(p=>p.or([p("bi.id","like",`%${d}%`),p("r.id","like",`%${d}%`),p("r.name","like",`%${d}%`),p("r.id","in",p.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return u},output:B.object({id:B.string().min(1),name:B.string().min(1),type:B.enum(["storage","construction","input","output"]),resourceId:B.string().min(1),blueprintId:B.string().min(1),inventoryId:B.string().min(1),amount:B.number().nonnegative(),limit:B.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=jp.useLoaderData(),{filter:n,cursor:r,selection:i}=jp.useSearch(),{id:s}=jp.useParams(),o=jp.useNavigate(),{tva:l}=yr({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx($se,{blueprintId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of items"}),...Lr(o)}})})}}),gM=Vt("/$locale/apps/derivean/root/blueprint/$id/edit")({component:()=>{const{entity:t}=Ni({from:"/$locale/apps/derivean/root/blueprint/$id"}),e=gM.useNavigate(),n=Yn([["Blueprint"]]);return f.jsx("div",{className:"w-1/2 mx-auto",children:f.jsx(tv,{defaultValues:t,mutation:ln({async mutationFn(r){return Rn.promise(Dt.transaction().execute(async i=>i.updateTable("Blueprint").set(r).where("id","=",t.id).returningAll().executeTakeFirstOrThrow()),Xr("Update blueprint"))},async onSuccess(){await n(),e({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{id:t.id}})}})})})}}),c3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(nc.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"dependencyId",label:f.jsx(re,{label:"Blueprint dependency (label)"}),children:f.jsx(us,{control:s.control,name:"dependencyId",render:({field:{ref:l,...u}})=>f.jsx(km,{textTitle:f.jsx(re,{label:"Select blueprint (title)"}),allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Tn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},zse=Vr(),Wse=[zse({name:"name",header(){return f.jsx(re,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],Vse=({blueprintId:t,table:e,...n})=>{const r=Yn([["Blueprint_Dependency"],["Blueprint"]]);return f.jsx(zr,{table:Wr({...e,columns:Wse}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create blueprint dependency (menu)"}),textTitle:f.jsx(re,{label:"Create blueprint dependency (modal)"}),icon:Tn,children:({close:i})=>f.jsx(c3,{mutation:ln({async mutationFn(s){return Rn.promise(Dt.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Dependency").values({id:Un(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Uh({tx:o}),l}),Xr("Create blueprint dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit blueprint dependency (modal)"}),icon:Tn,children:({close:s})=>f.jsx(c3,{defaultValues:i,mutation:ln({async mutationFn(o){return Rn.promise(Dt.transaction().execute(async l=>l.updateTable("Blueprint_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Xr("Update blueprint dependency"))},async onSuccess(){await r(),s()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete blueprint dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Blueprint_Dependency").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Delete blueprint dependency (content)"}),textToast:"Delete blueprint dependency",invalidator:r})})]})}},...n})},Ap=Vt("/$locale/apps/derivean/root/blueprint/$id/dependencies")({validateSearch:vr(Br(nc)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bd.id","=",l.id)),l?.idIn&&(u=u.where("bd.id","in",l.idIn)),l?.blueprintId&&(u=u.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(u=u.where("bd.dependencyId","=",l.dependencyId)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1),dependencyId:B.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ap.useLoaderData(),{filter:n,cursor:r,selection:i}=Ap.useSearch(),{id:s}=Ap.useParams(),o=Ap.useNavigate(),{tva:l}=yr({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Vse,{blueprintId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of requirements (label)"}),...Lr(o)}})})}}),Use=Nie({shape:B.object({conflictId:B.string().min(1)}),filter:ps}),u3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(Use.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"conflictId",label:f.jsx(re,{label:"Blueprint conflict (label)"}),hint:f.jsx(re,{label:"Blueprint conflict (hint)"}),children:f.jsx(us,{control:s.control,name:"conflictId",render:({field:{ref:l,...u}})=>f.jsx(km,{textTitle:f.jsx(re,{label:"Select blueprint conflict (title)"}),allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Tn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},Hse=Vr(),Qse=[Hse({name:"name",header(){return f.jsx(re,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],Kse=({blueprintId:t,table:e,...n})=>{const r=Yn([["Blueprint_Conflict"],["Blueprint"]]);return f.jsx(zr,{table:Wr({...e,columns:Qse}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create blueprint conflict (menu)"}),textTitle:f.jsx(re,{label:"Create blueprint conflict (modal)"}),icon:Tn,children:({close:i})=>f.jsx(u3,{mutation:ln({async mutationFn(s){return Rn.promise(Dt.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Conflict").values({id:Un(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Uh({tx:o}),l}),Xr("Create blueprint conflict"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit blueprint conflict (modal)"}),icon:Tn,children:({close:s})=>f.jsx(u3,{defaultValues:i,mutation:ln({async mutationFn(o){return Rn.promise(Dt.transaction().execute(async l=>l.updateTable("Blueprint_Conflict").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Xr("Update blueprint conflict"))},async onSuccess(){await r(),s()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete blueprint conflict (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Blueprint_Conflict").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Delete blueprint conflict (content)"}),textToast:"Delete blueprint conflict",invalidator:r})})]})}},...n})},Pp=Vt("/$locale/apps/derivean/root/blueprint/$id/conflicts")({validateSearch:vr(Br(nc)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bc.id","=",l.id)),l?.idIn&&(u=u.where("bc.id","in",l.idIn)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1),conflictId:B.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Pp.useLoaderData(),{filter:n,cursor:r,selection:i}=Pp.useSearch(),{id:s}=Pp.useParams(),o=Pp.useNavigate(),{tva:l}=yr({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Kse,{blueprintId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of conflicts (label)"}),...Lr(o)}})})}}),Gse=({routeId:t,inventory:e})=>{const n=Yn([["GameMap"]]),r=ln({async mutationFn({routeId:i,resourceId:s,transport:o}){return Dt.transaction().execute(async l=>l.insertInto("Route_Resource").values({id:Un(),resourceId:s,routeId:i,amount:o}).execute())},async onSuccess(){await n()}});return f.jsxs("div",{className:Sn(["flex","flex-row","justify-between","p-4","border","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100"]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(nn,{icon:Fn,css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:e.name})]}),f.jsx("div",{children:f.jsx(qn,{variant:{variant:"secondary"},iconEnabled:"icon-[icons8--plus]",loading:r.isPending,onClick:()=>{r.mutate({resourceId:e.resourceId,transport:e.transport,routeId:t})}})})]})},Jse=({resource:t})=>{const e=Yn([["GameMap"]]),n=ln({async mutationFn({routeResourceId:r}){return Dt.transaction().execute(async i=>i.deleteFrom("Route_Resource").where("id","=",r).execute())},async onSuccess(){await e()}});return f.jsxs("div",{className:Sn(["flex","flex-row","justify-between","p-4","border","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100"]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(nn,{icon:Fn,css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:t.name}),f.jsxs(Rs,{children:["x",En({number:t.amount})]})]}),f.jsx("div",{children:f.jsx(qn,{variant:{variant:"secondary"},iconEnabled:ai,loading:n.isPending,onClick:()=>{n.mutate({routeResourceId:t.id})}})})]})},Zse=({route:t,resource:e,inventory:n,...r})=>{const{locale:i}=rn({from:"/$locale"});return f.jsxs(Mo,{icon:Fn,textTitle:f.jsx(re,{label:"Route resources (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:i,id:t.fromId}}),f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f.jsx("div",{className:"font-light",children:t.fromName}),f.jsx(nn,{icon:"icon-[cil--arrow-right]"}),f.jsx("div",{children:t.toName})]})]}),...r,children:[f.jsx("div",{className:"flex flex-col gap-2",children:e.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"font-bold",children:f.jsx(re,{label:"Transported resources (label)"})}),e.map(s=>f.jsx(Jse,{resource:s},s.id))]}):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"No route resources yet (label)"})})}),f.jsx("div",{className:"border-b border-slate-300 shadow-md"}),f.jsx("div",{className:"flex flex-col gap-2",children:n.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"font-bold",children:f.jsx(re,{label:"Available resources (label)"})}),n.map(s=>f.jsx(Gse,{inventory:s,routeId:t.id},s.id))]}):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"There are no available items for transport (label)"})})})]})},yM=Vt("/$locale/apps/derivean/map/route/$id/resources")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{resource:await t.ensureQueryData({queryKey:["GameMap","building","routes",n,"resources"],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Route_Resource as rr").innerJoin("Resource as r","r.id","rr.resourceId").select(["rr.id","r.name","rr.amount","rr.routeId","rr.resourceId"]).where("rr.routeId","=",n),output:B.object({id:B.string().min(1),routeId:B.string().min(1),resourceId:B.string().min(1),name:B.string().min(1),amount:B.number().nonnegative()})}))}}),inventory:await t.ensureQueryData({queryKey:["GameMap","building","route","inventory",n],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","r.transport"]).where("i.id","in",r.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.toId").where("ro.id","=",n))).where("r.id","in",r.selectFrom("Building_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").select("i.resourceId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.fromId").where("ro.id","=",n)).where("i.type","in",["storage","output"])).where("r.id","in",r.selectFrom("Building_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").select("i.resourceId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.toId").where("ro.id","=",n)).where("i.type","in",["storage","input"])).where("r.id","not in",r.selectFrom("Route_Resource as rr").where("rr.routeId","=",n).select("rr.resourceId")),output:B.object({id:B.string().min(1),resourceId:B.string().min(1),name:B.string().min(1),transport:js()})}))}})}},component(){const{route:t}=Ni({from:"/$locale/apps/derivean/map/route/$id"}),{resource:e,inventory:n}=yM.useLoaderData();return f.jsx(Zse,{route:t,resource:e,inventory:n})}}),Yse=({routeId:t,inventory:e})=>{const n=Yn([["GameMap"]]),r=ln({async mutationFn({routeId:i,resourceId:s,transport:o}){return Dt.transaction().execute(async l=>l.insertInto("Route_Resource").values({id:Un(),resourceId:s,routeId:i,amount:o}).execute())},async onSuccess(){await n()}});return f.jsxs("div",{className:Sn(["flex","flex-row","justify-between","p-4","border","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100"]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(nn,{icon:Fn,css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:e.name})]}),f.jsx("div",{children:f.jsx(qn,{variant:{variant:"secondary"},iconEnabled:"icon-[icons8--plus]",loading:r.isPending,onClick:()=>{r.mutate({resourceId:e.resourceId,transport:e.transport,routeId:t})}})})]})},Xse=({resource:t})=>{const e=Yn([["GameMap"]]),n=ln({async mutationFn({routeResourceId:r}){return Dt.transaction().execute(async i=>i.deleteFrom("Route_Resource").where("id","=",r).execute())},async onSuccess(){await e()}});return f.jsxs("div",{className:Sn(["flex","flex-row","justify-between","p-4","border","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100"]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(nn,{icon:Fn,css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:t.name}),f.jsxs(Rs,{children:["x",En({number:t.amount})]})]}),f.jsx("div",{children:f.jsx(qn,{variant:{variant:"secondary"},iconEnabled:ai,loading:n.isPending,onClick:()=>{n.mutate({routeResourceId:t.id})}})})]})},eoe=({route:t,resource:e,inventory:n,...r})=>{const{locale:i}=rn({from:"/$locale"});return f.jsxs(Mo,{icon:Jd,textTitle:f.jsx(re,{label:"Construction resources (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:i,id:t.fromId}}),f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f.jsx("div",{className:"font-light",children:t.fromName}),f.jsx(nn,{icon:"icon-[cil--arrow-right]"}),f.jsx("div",{children:t.toName})]})]}),...r,children:[f.jsx("div",{className:"flex flex-col gap-2",children:e.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"font-bold",children:f.jsx(re,{label:"Transported resources (label)"})}),e.map(s=>f.jsx(Xse,{resource:s},s.id))]}):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"No route resources yet (label)"})})}),f.jsx("div",{className:"border-b border-slate-300 shadow-md"}),f.jsx("div",{className:"flex flex-col gap-2",children:n.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"font-bold",children:f.jsx(re,{label:"Available resources (label)"})}),n.map(s=>f.jsx(Yse,{inventory:s,routeId:t.id},s.id))]}):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"There are no available items for transport (label)"})})})]})},bM=Vt("/$locale/apps/derivean/map/route/$id/construction")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{resource:await t.ensureQueryData({queryKey:["GameMap","building","routes",n,"construction"],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Route_Resource as rr").innerJoin("Resource as r","r.id","rr.resourceId").select(["rr.id","r.name","rr.amount","rr.routeId","rr.resourceId"]).where("rr.routeId","=",n),output:B.object({id:B.string().min(1),routeId:B.string().min(1),resourceId:B.string().min(1),name:B.string().min(1),amount:B.number().nonnegative()})}))}}),inventory:await t.ensureQueryData({queryKey:["GameMap","building","route","inventory",n,"construction"],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","r.transport"]).where("i.id","in",r.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.toId").where("ro.id","=",n))).where("r.id","in",r.selectFrom("Building_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").select("i.resourceId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.fromId").where("ro.id","=",n)).where("i.type","in",["storage","output"])).where("r.id","in",r.selectFrom("Building_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").select("i.resourceId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.toId").where("ro.id","=",n)).where("i.type","=","construction")).where("r.id","not in",r.selectFrom("Route_Resource as rr").where("rr.routeId","=",n).select("rr.resourceId")).orderBy("r.name","asc"),output:B.object({id:B.string().min(1),resourceId:B.string().min(1),name:B.string().min(1),transport:js()})}))}})}},component(){const{route:t}=Ni({from:"/$locale/apps/derivean/map/route/$id"}),{resource:e,inventory:n}=bM.useLoaderData();return f.jsx(eoe,{route:t,resource:e,inventory:n})}}),tN="icon-[heroicons--queue-list]",ly=["p-4","border","border-slate-300","w-full","justify-start"],toe=({building:t})=>{const{locale:e}=rn({from:"/$locale"});return f.jsxs(Mo,{icon:tc,textTitle:t.name,children:[f.jsx(Mt,{icon:lo,to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:e,id:t.id},css:{base:ly},children:f.jsx(re,{label:"Building production (label)"})}),f.jsx(Mt,{icon:tN,to:"/$locale/apps/derivean/map/building/$id/production/queue",params:{locale:e,id:t.id},css:{base:ly},children:f.jsx(re,{label:"Production queue (label)"})}),f.jsx(Mt,{icon:Zd,to:"/$locale/apps/derivean/map/building/$id/inventory",params:{locale:e,id:t.id},css:{base:ly},children:f.jsx(re,{label:"Building inventory (label)"})}),f.jsx(Mt,{icon:"icon-[gis--route-end]",to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:e,id:t.id},css:{base:ly},children:f.jsx(re,{label:"Building routes (label)"})})]})},noe=Vt("/$locale/apps/derivean/map/building/$id/view")({component(){const{building:t}=Ni({from:"/$locale/apps/derivean/map/building/$id"});return f.jsx(toe,{building:t})}}),roe=({route:t})=>{const{locale:e}=rn({from:"/$locale"}),n=Yn([["GameMap"]]),r=ln({async mutationFn({routeId:i}){return Dt.transaction().execute(async s=>s.deleteFrom("Route").where("id","=",i).execute())},async onSuccess(){await n()}});return f.jsxs("div",{className:Sn(["flex","flex-row","gap-2","items-center","justify-between","border","p-4","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100",t.count>0?void 0:["border-amber-400","bg-amber-50","hover:bg-amber-50","hover:border-amber-600"]]),children:[t.toConstructionId?f.jsx(Mt,{icon:Jd,to:"/$locale/apps/derivean/map/route/$id/construction",params:{locale:e,id:t.id},children:t.toName}):f.jsx(Mt,{icon:Fn,to:"/$locale/apps/derivean/map/route/$id/resources",params:{locale:e,id:t.id},children:t.toName}),f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(Mt,{icon:"icon-[cil--arrow-right]",to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:e,id:t.fromId},search:{zoomToId:t.toId},children:f.jsx(Rs,{children:En({number:t.count})})}),f.jsx(qn,{iconEnabled:ai,variant:{variant:"secondary"},loading:r.isPending,onClick:()=>{r.mutate({routeId:t.id})}})]})]})},ioe=({building:t,route:e,...n})=>{const{locale:r}=rn({from:"/$locale"});return f.jsx(Mo,{icon:"icon-[gis--route-end]",textTitle:f.jsx(re,{label:"Routes (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:r,id:t.id}}),f.jsx(Mt,{to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:r,id:t.id},search:{zoomToId:t.id},children:t.name})]}),...n,children:e.length>0?e.map(i=>f.jsx(roe,{route:i},i.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"No outcomming routes yet (label)"})})})},vM=Vt("/$locale/apps/derivean/map/building/$id/routes")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{route:await t.ensureQueryData({queryKey:["GameMap","building","routes",n],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blt.name as toName","bt.constructionId as toConstructionId",i=>i.selectFrom("Route_Resource as rr").select(s=>s.fn.count("rr.id").as("count")).whereRef("rr.routeId","=","r.id").as("count")]).where("r.fromId","=",n),output:B.object({id:B.string().min(1),fromId:B.string().min(1),toId:B.string().min(1),toName:B.string().min(1),toConstructionId:B.string().nullish(),count:B.number().nonnegative()})}))}})}},component(){const{building:t}=Ni({from:"/$locale/apps/derivean/map/building/$id"}),{route:e}=vM.useLoaderData();return f.jsx(ioe,{building:t,route:e})}}),TS=({inventory:t})=>f.jsxs("div",{className:Sn(["flex","flex-col","gap-2","rounded-md","border","border-slate-300","p-2","cursor-default","hover:bg-slate-100",t.limit>0&&t.amount>=t.limit?["border-red-400","bg-red-50","hover:bg-red-50","hover:border-red-600"]:void 0]),children:[f.jsxs("div",{className:"flex flex-row items-center justify-between",children:[f.jsx("div",{className:"font-bold",children:t.name}),En({number:t.amount})," /"," ",En({number:t.limit})]}),t.limit>0?f.jsx(mf,{variant:{size:"md"},value:100*t.amount/t.limit,css:{progress:t.amount>=t.limit?["bg-red-500"]:void 0}}):null]}),soe=({inventory:t,fulltextProps:e,...n})=>f.jsxs(Mo,{icon:Zd,textTitle:f.jsx(re,{label:"Inventory (label)"}),...n,children:[f.jsx(bD,{...e}),f.jsx("div",{children:f.jsx(re,{label:"Inventory - storage (label)",css:{base:["font-bold","text-slate-500"]}})}),t.storage.length>0?t.storage.map(r=>f.jsx(TS,{inventory:r},r.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"No inventory storage. (label)"})}),f.jsx("div",{className:"border-b border-slate-300"}),f.jsx("div",{children:f.jsx(re,{label:"Inventory - inputs (label)",css:{base:["font-bold","text-slate-500"]}})}),t.input.length>0?t.input.map(r=>f.jsx(TS,{inventory:r},r.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"No inventory inputs. (label)"})}),f.jsx("div",{className:"border-b border-slate-300"}),f.jsx("div",{children:f.jsx(re,{label:"Inventory - outputs (label)",css:{base:["font-bold","text-slate-500"]}})}),t.output.length>0?t.output.map(r=>f.jsx(TS,{inventory:r},r.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"No inventory outputs. (label)"})})]}),Fp=Vt("/$locale/apps/derivean/map/building/$id/inventory")({validateSearch:vr(B.object({fulltext:B.string().optional()})),loaderDeps({search:{fulltext:t}}){return{fulltext:t}},async loader({context:{queryClient:t,kysely:e},deps:{fulltext:n},params:{id:r}}){return{inventory:{input:await t.ensureQueryData({queryKey:["GameMap","building","inventory","input",r,{fulltext:n}],async queryFn(){return e.transaction().execute(async i=>Zr({select:i.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.amount","i.limit","r.name"]).where("i.id","in",i.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",r)).where("i.type","in",["input"]).orderBy("r.name"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.name","like",u)]))}return l},output:B.object({id:B.string().min(1),amount:B.number().nonnegative(),limit:B.number().nonnegative(),name:B.string().min(1)}),filter:{fulltext:n}}))}}),output:await t.ensureQueryData({queryKey:["GameMap","building","inventory","output",r,{fulltext:n}],async queryFn(){return e.transaction().execute(async i=>Zr({select:i.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.amount","i.limit","r.name"]).where("i.id","in",i.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",r)).where("i.type","in",["output"]).orderBy("r.name"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.name","like",u)]))}return l},output:B.object({id:B.string().min(1),amount:B.number().nonnegative(),limit:B.number().nonnegative(),name:B.string().min(1)}),filter:{fulltext:n}}))}}),storage:await t.ensureQueryData({queryKey:["GameMap","building","inventory","storage",r,{fulltext:n}],async queryFn(){return e.transaction().execute(async i=>Zr({select:i.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.amount","i.limit","r.name"]).where("i.id","in",i.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",r)).where("i.type","in",["storage"]).orderBy("r.name"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.name","like",u)]))}return l},output:B.object({id:B.string().min(1),amount:B.number().nonnegative(),limit:B.number().nonnegative(),name:B.string().min(1)}),filter:{fulltext:n}}))}})}}},component(){const{building:t}=Ni({from:"/$locale/apps/derivean/map/building/$id"}),{fulltext:e}=Fp.useSearch(),{locale:n}=Fp.useParams(),r=Fp.useNavigate(),{inventory:i}=Fp.useLoaderData();return f.jsx(soe,{inventory:i,textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:n,id:t.id}}),f.jsx(Mt,{to:"/$locale/apps/derivean/map/building/$id/inventory",params:{locale:n,id:t.id},search:{zoomToId:t.id},children:t.name})]}),fulltextProps:{value:e,onFulltext(s){r({search:{fulltext:s}})}}})}}),xM=({requirement:t})=>{const e=(t.available||0)>=t.amount;return f.jsxs("div",{className:Sn(["flex","flex-row","gap-2","items-center","justify-between","border","p-4","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100",t.passive?["border-purple-300","hover:border-purple-500","hover:bg-purple-100"]:void 0,e?void 0:["border-red-500","hover:border-red-600","hover:bg-red-50"]]),children:[f.jsx("div",{className:"font-bold",children:t.name}),f.jsxs(Rs,{css:{base:e?["bg-green-200","border-green-500"]:["bg-red-200","border-red-500"]},children:[f.jsx("div",{className:"font-bold",children:En({number:t.available})}),f.jsx("div",{children:"/"}),f.jsx("div",{className:"font-light",children:En({number:t.amount})})]})]})},ooe=({blueprint:t,requirement:e,...n})=>{const{locale:r}=rn({from:"/$locale"});return f.jsx(Mo,{icon:Fn,textTitle:f.jsx(re,{label:"Building requirements (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/map/construction",params:{locale:r},css:{base:["font-bold"]}}),f.jsx(Mt,{to:"/$locale/apps/derivean/map/blueprint/$id/requirements",params:{locale:r,id:t.id},search:{zoomToId:t.id},children:t.name})]}),...n,children:e.length>0?e.map(i=>f.jsx(xM,{requirement:i},i.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-green-400","p-4","bg-green-200","font-bold"]),children:f.jsx(re,{label:"There are no requirements. (label)"})})})},wM=Vt("/$locale/apps/derivean/map/blueprint/$id/requirements")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{requirement:await t.ensureQueryData({queryKey:["GameMap","building","requirements",n],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.amount","br.passive"]).where("br.blueprintId","=",n),output:B.object({id:B.string().min(1),name:B.string().min(1),amount:B.number().nonnegative(),passive:qs()})}))}})}},component(){const{blueprint:t}=Ni({from:"/$locale/apps/derivean/map/blueprint/$id"}),{requirement:e}=wM.useLoaderData();return f.jsx(ooe,{blueprint:t,requirement:e})}}),aoe=({entity:t,...e})=>{const{locale:n}=rn({from:"/$locale"});return f.jsxs(ec,{...e,children:[f.jsx(Zn,{icon:L1,to:"/$locale/apps/derivean/game/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Production requirements (menu)"})}),f.jsx(Zn,{icon:Fn,to:"/$locale/apps/derivean/game/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Production resource requirements (menu)"})}),f.jsx(Zn,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:f.jsx(re,{label:"Production resource dependencies (menu)"})})]})},loe=t=>{const{locale:e}=rn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(gf,{icon:lo,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>f.jsx(f.Fragment,{children:f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:f.jsx(re,{label:"Building base detail (label)"})})}),...t})},_M=Vt("/$locale/apps/derivean/game/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await ca({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:B.object({id:B.string().min(1),resource:B.string().min(1),blueprint:B.string().min(1),blueprintId:B.string().min(1),amount:B.number().nonnegative(),cycles:B.number().int().nonnegative()})})}))}})},component(){const{entity:t}=_M.useLoaderData(),{tva:e}=yr({from:"__root__"}),n=e().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(loe,{entity:t}),f.jsx(aoe,{entity:t}),f.jsx(uo,{})]})}}),coe=t=>f.jsx(fD,{items:[{id:"name",label:f.jsx(re,{label:"Building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:f.jsx(re,{label:"Construction cycles (label)"}),render({entity:e}){return En({number:e.cycles})}}],...t}),uoe=Vt("/$locale/apps/derivean/game/blueprint/$id/view")({component(){const{entity:t}=Ni({from:"/$locale/apps/derivean/game/blueprint/$id"});return f.jsx("div",{className:"w-1/2 mx-auto",children:f.jsx(coe,{entity:t})})}}),RS=Vr(),doe=[RS({name:"name",header(){return f.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),RS({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:10}),RS({name:"passive",header(){return f.jsx(re,{label:"Passive requirement (label)"})},render({value:t}){return f.jsx(Lv,{value:t})},size:10})],foe=({table:t,...e})=>f.jsx(zr,{table:Wr({...t,columns:doe}),...e}),Wy=Vt("/$locale/apps/derivean/game/blueprint/$id/requirements")({validateSearch:vr(Br(bf)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("br.id","=",l.id)),l?.idIn&&(u=u.where("br.id","in",l.idIn)),l?.resourceId&&(u=u.where("br.resourceId","=",l.resourceId)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative(),passive:qs()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Wy.useLoaderData(),{filter:n,cursor:r}=Wy.useSearch(),i=Wy.useNavigate(),{tva:s}=yr({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(foe,{table:{data:t,filter:{value:n,set:Mr(i)}},fulltext:{value:n?.fulltext,set:$r(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of requirements (label)"}),...Lr(i)}})})}}),Xu=Vr(),poe=[Xu({name:"name",header(){return f.jsx(re,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{icon:lo,to:"/$locale/apps/derivean/game/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),Xu({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:8}),Xu({name:"cycles",header(){return f.jsx(re,{label:"Production cycles (label)"})},render({value:t}){return En({number:t})},size:8}),Xu({name:"requirements",header(){return f.jsx(re,{label:"Required resources (label)"})},render({value:t}){return f.jsx(nx,{textTitle:f.jsx(re,{label:"Resource requirements (title)"}),textEmpty:f.jsx(re,{label:"No requirements (label)"}),requirements:t})},size:32}),Xu({name:"resources",header(){return f.jsx(re,{label:"Required production resources (label)"})},render({value:t}){return f.jsx(Wd,{items:t,render:({entity:e})=>f.jsxs("div",{className:Sn(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[f.jsx("div",{children:e.name}),f.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",En({number:e.amount})]})]})})},size:32}),Xu({name:"dependencies",header(){return f.jsx(re,{label:"Required production dependencies (label)"})},render({value:t}){const{locale:e}=rn({from:"/$locale"});return f.jsx(Wd,{items:t,render:({entity:n})=>f.jsx("div",{className:Sn(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:f.jsx(Mt,{to:"/$locale/apps/derivean/game/blueprint/$id/requirements",params:{locale:e,id:n.blueprintId},children:n.name})})})},size:32})],hoe=({table:t,...e})=>f.jsx(zr,{table:Wr({...t,columns:poe}),...e}),Vy=Vt("/$locale/apps/derivean/game/blueprint/$id/production")({validateSearch:vr(Br(M1)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Ir`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Ir`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>Ir`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative(),cycles:B.number().nonnegative(),requirements:as(Cm.entity.merge(B.object({name:B.string().min(1)}))),resources:as(Tm.entity.merge(B.object({name:B.string().min(1)}))),dependencies:as(Im.entity.merge(B.object({name:B.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Vy.useLoaderData(),{filter:n,cursor:r}=Vy.useSearch(),i=Vy.useNavigate(),{tva:s}=yr({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(hoe,{table:{data:t,filter:{value:n,set:Mr(i)}},fulltext:{value:n?.fulltext,set:$r(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of productions (label)"}),...Lr(i)}})})}}),moe=Vr(),goe=[moe({name:"name",header(){return f.jsx(re,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],yoe=({table:t,...e})=>f.jsx(zr,{table:Wr({...t,columns:goe}),...e}),Uy=Vt("/$locale/apps/derivean/game/blueprint/$id/dependencies")({validateSearch:vr(Br(nc)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bd.id","=",l.id)),l?.idIn&&(u=u.where("bd.id","in",l.idIn)),l?.blueprintId&&(u=u.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(u=u.where("bd.dependencyId","=",l.dependencyId)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1),dependencyId:B.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Uy.useLoaderData(),{filter:n,cursor:r}=Uy.useSearch(),i=Uy.useNavigate(),{tva:s}=yr({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(yoe,{table:{data:t,filter:{value:n,set:Mr(i)}},fulltext:{value:n?.fulltext,set:$r(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of dependencies (label)"}),...Lr(i)}})})}}),boe=Vr(),voe=[boe({name:"name",header(){return f.jsx(re,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],xoe=({table:t,...e})=>f.jsx(zr,{table:Wr({...t,columns:voe}),...e}),Hy=Vt("/$locale/apps/derivean/game/blueprint/$id/conflicts")({validateSearch:vr(Br(nc)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bc.id","=",l.id)),l?.idIn&&(u=u.where("bc.id","in",l.idIn)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1),conflictId:B.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Hy.useLoaderData(),{filter:n,cursor:r}=Hy.useSearch(),i=Hy.useNavigate(),{tva:s}=yr({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(xoe,{table:{data:t,filter:{value:n,set:Mr(i)}},fulltext:{value:n?.fulltext,set:$r(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of conflicts (label)"}),...Lr(i)}})})}}),SM=jie({shape:B.object({blueprintId:B.string().min(1),constructionId:B.string().optional(),productionId:B.string().optional(),recurringProductionId:B.string().optional(),x:js(),y:js()}),filter:ps.merge(B.object({userId:B.string().optional(),blueprintId:B.string().optional(),name:B.string().optional()}))}),d3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(SM.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"blueprintId",label:f.jsx(re,{label:"Select blueprint (label)"}),children:f.jsx(us,{control:s.control,name:"blueprintId",render:({field:{ref:l,...u}})=>f.jsx(km,{allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:tc,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},woe=Vr(),_oe=[woe({name:"name",header(){return f.jsx(re,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId}}),e]})},size:14})],Soe=({userId:t,table:e,...n})=>{const r=Yn([["Building"]]);return f.jsx(zr,{table:Wr({...e,columns:_oe}),action:{table:t?()=>f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create building (menu)"}),textTitle:f.jsx(re,{label:"Create building (modal)"}),icon:Fn,children:f.jsx(d3,{mutation:ln({async mutationFn(i){return Rn.promise(Dt.transaction().execute(s=>s.insertInto("Building").values({id:Un(),...i,userId:t}).returningAll().executeTakeFirstOrThrow()),Xr("Create building"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit building (modal)"}),icon:tc,children:f.jsx(d3,{defaultValues:i,mutation:ln({async mutationFn(s){return Rn.promise(Dt.transaction().execute(o=>o.updateTable("Building").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Xr("Edit building"))},async onSuccess(){await r()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Building").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Building delete (content)"}),textToast:"Building delete",invalidator:r})})]})}},...n})},Dp=Vt("/$locale/apps/derivean/root/user/$id/building/list")({validateSearch:vr(Br(SM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>br({select:s.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.blueprintId"]).where("b.userId","=",i),output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Dp.useLoaderData(),{filter:n,cursor:r,selection:i}=Dp.useSearch(),{id:s}=Dp.useParams(),o=Dp.useNavigate(),{tva:l}=yr({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Soe,{userId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of buildings (label)"}),...Lr(o)}})})}}),f3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(Tm.shape),defaultValues:{amount:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"resourceId",label:f.jsx(re,{label:"Requirement (label)"}),children:f.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(Nm,{allowEmpty:!0,...u})})}),f.jsx(In,{formState:s.formState,name:"amount",label:f.jsx(re,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Fn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},p3=Vr(),Eoe=[p3({name:"name",header(){return f.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),p3({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:10})],Noe=({blueprintProductionId:t,table:e,...n})=>{const r=Yn([["Blueprint_Production_Resource"],["Blueprint_Production"],["Resource"]]);return f.jsx(zr,{table:Wr({...e,columns:Eoe}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create production resource requirement (menu)"}),textTitle:f.jsx(re,{label:"Create production resource requirement (modal)"}),icon:Fn,children:({close:i})=>f.jsx(f3,{mutation:ln({async mutationFn(s){return Dt.transaction().execute(async o=>o.insertInto("Blueprint_Production_Resource").values({id:Un(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit production resource requirement (modal)"}),icon:Fn,children:({close:s})=>f.jsx(f3,{defaultValues:i,mutation:ln({async mutationFn(o){return Dt.transaction().execute(async l=>l.updateTable("Blueprint_Production_Resource").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete production resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Resource").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Delete production resource requirement (content)"}),textToast:"Delete production resource requirement item",invalidator:r})})]})}},...n})},Lp=Vt("/$locale/apps/derivean/root/blueprint/production/$id/resources")({validateSearch:vr(Br(Tm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Lp.useLoaderData(),{filter:n,cursor:r,selection:i}=Lp.useSearch(),{id:s}=Lp.useParams(),o=Lp.useNavigate();return f.jsx(f.Fragment,{children:f.jsx(Noe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of production resource requirements (label)"}),...Lr(o)}})})}}),h3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(Cm.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"resourceId",label:f.jsx(re,{label:"Requirement (label)"}),children:f.jsx(us,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(Nm,{allowEmpty:!0,...u})})}),f.jsx(In,{formState:s.formState,name:"amount",label:f.jsx(re,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(In,{formState:s.formState,name:"passive",label:f.jsx(re,{label:"Passive requirement (label)"}),hint:f.jsx(re,{label:"Passive requirement (hint)"}),children:f.jsx(us,{control:s.control,name:"passive",render:({field:{ref:l,...u}})=>f.jsx(dD,{...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Fn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},OS=Vr(),koe=[OS({name:"name",header(){return f.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),OS({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:10}),OS({name:"passive",header(){return f.jsx(re,{label:"Passive requirement (label)"})},render({value:t}){return f.jsx(Lv,{value:t})},size:10})],Ioe=({blueprintProductionId:t,table:e,...n})=>{const r=Yn([["Blueprint_Production_Requirement"],["Blueprint_Production"],["Resource"]]);return f.jsx(zr,{table:Wr({...e,columns:koe}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create production requirement (menu)"}),textTitle:f.jsx(re,{label:"Create production requirement (modal)"}),icon:Fn,children:({close:i})=>f.jsx(h3,{mutation:ln({async mutationFn(s){return Dt.transaction().execute(async o=>o.insertInto("Blueprint_Production_Requirement").values({id:Un(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit production requirement (modal)"}),icon:Fn,children:({close:s})=>f.jsx(h3,{defaultValues:i,mutation:ln({async mutationFn(o){return Dt.transaction().execute(async l=>l.updateTable("Blueprint_Production_Requirement").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete production requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Requirement").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Delete production requirement (content)"}),textToast:"Delete production requirement item",invalidator:r})})]})}},...n})},Mp=Vt("/$locale/apps/derivean/root/blueprint/production/$id/requirements")({validateSearch:vr(Br(Cm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative(),passive:qs()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Mp.useLoaderData(),{filter:n,cursor:r,selection:i}=Mp.useSearch(),{id:s}=Mp.useParams(),o=Mp.useNavigate();return f.jsx(f.Fragment,{children:f.jsx(Ioe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of production requirements (label)"}),...Lr(o)}})})}}),m3=({mutation:t,defaultValues:e,variant:n,tva:r=$i,css:i})=>{const s=Bi({resolver:zi(Im.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:Fs({form:s,mutation:t}),children:[f.jsx(Ii,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(In,{formState:s.formState,name:"blueprintId",label:f.jsx(re,{label:"Blueprint dependency (label)"}),children:f.jsx(us,{control:s.control,name:"blueprintId",render:({field:{ref:l,...u}})=>f.jsx(km,{textTitle:f.jsx(re,{label:"Select blueprint (title)"}),allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(qn,{iconEnabled:Tn,type:"submit",children:f.jsx(re,{label:"Save (submit)"})})})]})},Coe=Vr(),Toe=[Coe({name:"name",header(){return f.jsx(re,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],Roe=({blueprintProductionId:t,table:e,...n})=>{const r=Yn([["Blueprint_Production_Dependency"],["Blueprint"]]);return f.jsx(zr,{table:Wr({...e,columns:Toe}),action:{table(){return f.jsx(dr,{children:f.jsx(kn,{label:f.jsx(re,{label:"Create blueprint production dependency (menu)"}),textTitle:f.jsx(re,{label:"Create blueprint production dependency (modal)"}),icon:Tn,children:({close:i})=>f.jsx(m3,{mutation:ln({async mutationFn(s){return Rn.promise(Dt.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Production_Dependency").values({id:Un(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow();return await Uh({tx:o}),l}),Xr("Create blueprint production dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(dr,{children:[f.jsx(kn,{label:f.jsx(re,{label:"Edit (menu)"}),textTitle:f.jsx(re,{label:"Edit blueprint production dependency (modal)"}),icon:Tn,children:({close:s})=>f.jsx(m3,{defaultValues:i,mutation:ln({async mutationFn(o){return Rn.promise(Dt.transaction().execute(async l=>l.updateTable("Blueprint_Production_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Xr("Update blueprint production dependency"))},async onSuccess(){await r(),s()}})})}),f.jsx(kn,{icon:ai,label:f.jsx(re,{label:"Delete (menu)"}),textTitle:f.jsx(re,{label:"Delete blueprint production dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ls,{callback:async()=>Dt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Dependency").where("id","=",i.id).execute()),textContent:f.jsx(re,{label:"Delete blueprint production dependency (content)"}),textToast:"Delete blueprint production dependency",invalidator:r})})]})}},...n})},$p=Vt("/$locale/apps/derivean/root/blueprint/production/$id/dependencies")({validateSearch:vr(Br(Im)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpd.id","=",l.id)),l?.idIn&&(u=u.where("bpd.id","in",l.idIn)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=$p.useLoaderData(),{filter:n,cursor:r,selection:i}=$p.useSearch(),{id:s}=$p.useParams(),o=$p.useNavigate(),{tva:l}=yr({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Roe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Mr(o)},selection:{type:"multi",value:i,set:Ds(o)}},fulltext:{value:n?.fulltext,set:$r(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of dependencies (label)"}),...Lr(o)}})})}}),Ooe=({queue:t,inventory:e})=>{const n=e.find(i=>i.resourceId===t.resourceId),r=n&&n.amount+t.amount>n.limit;return f.jsxs("div",{className:Sn(["flex","flex-col","gap-2","items-center","justify-between","border","p-4","rounded","border-slate-200","hover:border-slate-300",r?["border-red-400","hover:border-red-600"]:void 0]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between w-full",children:[f.jsx("div",{className:"font-bold",children:t.name}),f.jsx("div",{className:"flex flex-row gap-2 items-center",children:f.jsxs(Rs,{children:["x",En({number:t.amount})]})}),f.jsx(D1,{cycles:t.cycles})]}),f.jsx(mf,{css:{progress:r?["bg-red-500"]:void 0},value:100*t.cycle/t.cycles})]})},qoe=({building:t,queue:e,inventory:n,...r})=>{const{locale:i}=rn({from:"/$locale"});return f.jsx(Mo,{icon:tN,textTitle:f.jsx(re,{label:"Production queue (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:i,id:t.id}}),f.jsx(Mt,{to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:i,id:t.id},search:{zoomToId:t.id},children:t.name})]}),...r,children:e.length>0?e.map(s=>f.jsx(Ooe,{queue:s,inventory:n},s.id)):f.jsxs("div",{className:Sn(["flex","flex-col","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:[f.jsx(re,{label:"Production queue is empty. (label)"}),f.jsx(Mt,{icon:tN,to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:i,id:t.id},children:f.jsx(re,{label:"Plan queue (label)"})})]})})},EM=Vt("/$locale/apps/derivean/map/building/$id/production/queue")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{queue:await t.ensureQueryData({queryKey:["GameMap","building","production","queue",n],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","r.name","bp.resourceId","p.cycle","bp.amount","bp.cycles"]).where("p.buildingId","=",n),output:B.object({id:B.string().min(1),name:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative(),cycle:B.number().int().nonnegative(),cycles:B.number().int().nonnegative()})}))}}),inventory:await t.ensureQueryData({queryKey:["GameMap","building","inventory",n],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","i.amount","i.limit","r.name"]).where("i.id","in",r.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",n)).orderBy("r.name"),query({select:i,where:s}){let o=i;if(s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(u=>u.or([u("r.name","like",l)]))}return o},output:B.object({id:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative(),limit:B.number().nonnegative(),name:B.string().min(1)})}))}})}},component(){const{building:t}=Ni({from:"/$locale/apps/derivean/map/building/$id"}),{queue:e,inventory:n}=EM.useLoaderData();return f.jsx(qoe,{building:t,queue:e,inventory:n})}}),joe=({building:t,production:e})=>{const{locale:n}=rn({from:"/$locale"}),r=Yn([["GameMap"]]),i=ln({async mutationFn({blueprintProductionId:u,buildingId:d}){return Dt.transaction().execute(async p=>p.updateTable("Building").set({productionId:u}).where("id","=",d).execute())},async onSuccess(){await r()}}),s=ln({async mutationFn({buildingId:u}){return Dt.transaction().execute(async d=>d.updateTable("Building").set({productionId:null}).where("id","=",u).execute())},async onSuccess(){await r()}}),o=ln({async mutationFn({blueprintProductionId:u,buildingId:d}){return Dt.transaction().execute(async p=>p.updateTable("Building").set({recurringProductionId:u}).where("id","=",d).execute())},async onSuccess(){await r()}}),l=ln({async mutationFn({buildingId:u}){return Dt.transaction().execute(async d=>d.updateTable("Building").set({recurringProductionId:null}).where("id","=",u).execute())},async onSuccess(){await r()}});return f.jsxs("div",{className:Sn(["flex","flex-row","gap-2","items-center","justify-between","border","p-4","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100",e.withAvailableResources?void 0:["border-red-500","bg-red-50","hover:bg-red-50","hover:border-red-600"]]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t.productionId===e.id?f.jsx(qn,{iconEnabled:"icon-[tabler--basket]",loading:s.isPending,onClick:()=>{s.mutate({buildingId:t.id})}}):f.jsx(qn,{iconEnabled:"icon-[solar--play-outline]",iconDisabled:"icon-[tabler--basket]",loading:i.isPending,onClick:()=>{i.mutate({blueprintProductionId:e.id,buildingId:t.id})}}),t.recurringProductionId===e.id?f.jsx(qn,{iconEnabled:"icon-[tabler--basket]",loading:l.isPending,onClick:()=>{l.mutate({buildingId:t.id})}}):f.jsx(qn,{iconEnabled:"icon-[oui--refresh]",loading:o.isPending,onClick:()=>{o.mutate({blueprintProductionId:e.id,buildingId:t.id})}}),f.jsxs(Mt,{to:"/$locale/apps/derivean/map/building/$id/production/$productionId/requirements",params:{locale:n,id:t.id,productionId:e.id},children:[e.name,f.jsxs(Rs,{children:["x",En({number:e.amount})]})]})]}),f.jsx(D1,{cycles:e.cycles})]})},Aoe=({building:t,production:e,...n})=>{const{locale:r}=rn({from:"/$locale"});return f.jsx(Mo,{icon:lo,textTitle:f.jsx(re,{label:"Building production (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:r,id:t.id}}),f.jsx(Mt,{to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:r,id:t.id},search:{zoomToId:t.id},children:t.name})]}),...n,children:e.length>0?e.map(i=>f.jsx(joe,{building:t,production:i},i.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(re,{label:"This building does not produce anything. (label)"})})})},NM=Vt("/$locale/apps/derivean/map/building/$id/production/list")({async loader({context:{queryClient:t,kysely:e,session:n},params:{id:r}}){const i=await n();return{production:await t.ensureQueryData({queryKey:["GameMap","building","production",r],async queryFn(){return e.transaction().execute(async s=>Zr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.cycles",o=>o.case().when(o.not(o.exists(o.selectFrom("Blueprint_Production_Requirement as bpr").select(o.lit(1).as("one")).whereRef("bpr.blueprintProductionId","=","bp.id").where(l=>l.not(l.exists(l.selectFrom("Inventory as i").select(l.lit(1).as("one")).where("i.id","in",l.selectFrom("Building_Inventory").select("inventoryId").where("buildingId","=",r)).where("i.type","in",["storage","input"]).whereRef("i.resourceId","=","bpr.resourceId").whereRef("i.amount",">=","bpr.amount"))))))).then(o.lit(!0)).else(o.lit(!1)).end().as("withAvailableResources")]).where("bp.blueprintId","=",s.selectFrom("Building as b").select("b.blueprintId").where("b.id","=",r)).where(o=>o.not(o.exists(o.selectFrom("Blueprint_Production_Dependency as bpd").select("bpd.blueprintProductionId").whereRef("bpd.blueprintProductionId","=","bp.id").where(l=>l.not(l.exists(l.selectFrom("Building as b").select("b.blueprintId").where("b.userId","=",i.id).where("b.constructionId","is",null).whereRef("b.blueprintId","=","bpd.blueprintId"))))))).where(o=>o.not(o.exists(o.selectFrom("Blueprint_Production_Resource as bpr").select("bpr.blueprintProductionId").whereRef("bpr.blueprintProductionId","=","bp.id").where(l=>l.not(l.exists(l.selectFrom("Inventory as i").select("i.resourceId").where("i.id","in",l.selectFrom("Building_Inventory").select("inventoryId").where("buildingId","=",r)).whereRef("i.resourceId","=","bpr.resourceId").whereRef("i.amount",">=","bpr.amount"))))))),output:B.object({id:B.string().min(1),name:B.string().min(1),amount:B.number().nonnegative(),cycles:B.number().int().nonnegative(),withAvailableResources:qs()})}))}})}},component(){const{building:t}=Ni({from:"/$locale/apps/derivean/map/building/$id"}),{production:e}=NM.useLoaderData();return f.jsx(Aoe,{building:t,production:e})}}),Poe=Vt("/$locale/apps/derivean/map/building/$id/production/$productionId")({async loader({context:{queryClient:t,kysely:e},params:{id:n,productionId:r}}){return{production:await t.ensureQueryData({queryKey:["GameMap","building",n,"production",r],async queryFn(){return e.transaction().execute(async i=>ca({select:i.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","bp.amount","r.name"]).where("bp.id","=",r),output:B.object({id:B.string().min(1),amount:B.number().nonnegative(),name:B.string().min(1)})}))}})}}}),Foe=({requirement:t})=>{const e=t.available||0;return f.jsxs("div",{className:Sn(["flex","flex-col","gap-2","rounded-md","border","border-slate-300","p-2","cursor-default","hover:bg-slate-100",t.amount>e?["border-red-400","hover:border-red-600","hover:bg-red-50"]:void 0]),children:[f.jsxs("div",{className:"flex flex-row items-center justify-between",children:[f.jsx("div",{className:"font-bold",children:t.name}),f.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[f.jsx("div",{children:En({number:e})}),f.jsx("div",{children:"/"}),f.jsx("div",{className:"font-bold",children:En({number:t.amount})})]})]}),f.jsx(mf,{value:100*e/t.amount})]})},Doe=({requirement:t,...e})=>f.jsx(Mo,{icon:L1,textTitle:f.jsx(re,{label:"Construction requirements (label)"}),...e,children:t.length>0?t.map(n=>f.jsx(Foe,{requirement:n},n.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-green-400","p-4","bg-green-200","font-bold"]),children:f.jsx(re,{label:"There are no construction requirements (label)"})})}),kM=Vt("/$locale/apps/derivean/map/building/$id/construction/requirements")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{requirement:await t.ensureQueryData({queryKey:["GameMap","building","construction","requirement",n],async queryFn(){return e.transaction().execute(async r=>Zr({select:r.selectFrom("Blueprint_Requirement as br").innerJoin("Building as bg",i=>i.onRef("bg.blueprintId","=","br.blueprintId").on("bg.id","=",n)).innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.amount","br.passive",i=>i.selectFrom("Inventory as i").select(["i.amount"]).where("i.id","in",r.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",n)).whereRef("i.resourceId","=","br.resourceId").limit(1).as("available")]).orderBy("r.name","asc"),output:B.object({id:B.string().min(1),name:B.string().min(1),amount:B.number().nonnegative(),available:B.number().nonnegative().nullish(),passive:qs()})}))}})}},component(){const{requirement:t}=kM.useLoaderData();return f.jsx(Doe,{requirement:t})}}),g3=Vr(),Loe=[g3({name:"name",header(){return f.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),g3({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:10})],Moe=({table:t,...e})=>f.jsx(zr,{table:Wr({...t,columns:Loe}),...e}),Qy=Vt("/$locale/apps/derivean/game/blueprint/production/$id/resources")({validateSearch:vr(Br(Tm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Qy.useLoaderData(),{filter:n,cursor:r}=Qy.useSearch(),i=Qy.useNavigate();return f.jsx(f.Fragment,{children:f.jsx(Moe,{table:{data:t,filter:{value:n,set:Mr(i)}},fulltext:{value:n?.fulltext,set:$r(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of production resource requirements (label)"}),...Lr(i)}})})}}),qS=Vr(),$oe=[qS({name:"name",header(){return f.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),qS({name:"amount",header(){return f.jsx(re,{label:"Amount (label)"})},render({value:t}){return En({number:t})},size:10}),qS({name:"passive",header(){return f.jsx(re,{label:"Passive requirement (label)"})},render({value:t}){return f.jsx(Lv,{value:t})},size:10})],Boe=({table:t,...e})=>f.jsx(zr,{table:Wr({...t,columns:$oe}),...e}),Ky=Vt("/$locale/apps/derivean/game/blueprint/production/$id/requirements")({validateSearch:vr(Br(Cm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),resourceId:B.string().min(1),amount:B.number().nonnegative(),passive:qs()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ky.useLoaderData(),{filter:n,cursor:r}=Ky.useSearch(),i=Ky.useNavigate();return f.jsx(f.Fragment,{children:f.jsx(Boe,{table:{data:t,filter:{value:n,set:Mr(i)}},fulltext:{value:n?.fulltext,set:$r(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of production requirements (label)"}),...Lr(i)}})})}}),zoe=Vr(),Woe=[zoe({name:"name",header(){return f.jsx(re,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=rn({from:"/$locale"});return f.jsx(Mt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],Voe=({table:t,...e})=>f.jsx(zr,{table:Wr({...t,columns:Woe}),...e}),Gy=Vt("/$locale/apps/derivean/game/blueprint/production/$id/dependencies")({validateSearch:vr(Br(Im)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>br({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpd.id","=",l.id)),l?.idIn&&(u=u.where("bpd.id","in",l.idIn)),u},output:B.object({id:B.string().min(1),name:B.string().min(1),blueprintId:B.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Gy.useLoaderData(),{filter:n,cursor:r}=Gy.useSearch(),i=Gy.useNavigate(),{tva:s}=yr({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(Voe,{table:{data:t,filter:{value:n,set:Mr(i)}},fulltext:{value:n?.fulltext,set:$r(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(re,{label:"Number of dependencies (label)"}),...Lr(i)}})})}}),Uoe=({building:t,production:e,requirement:n,...r})=>{const{locale:i}=rn({from:"/$locale"});return f.jsx(Mo,{icon:Fn,textTitle:f.jsx(re,{label:"Production requirements (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Mt,{icon:cs,to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:i,id:t.id}}),f.jsx(Mt,{to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:i,id:t.id},search:{zoomToId:t.id},children:t.name}),f.jsx("div",{children:e.name})]}),...r,children:n.length>0?n.map(s=>f.jsx(xM,{requirement:s},s.id)):f.jsx("div",{className:Sn(["flex","items-center","justify-center","rounded","border","border-green-400","p-4","bg-green-200","font-bold"]),children:f.jsx(re,{label:"There are no requirements. (label)"})})})},IM=Vt("/$locale/apps/derivean/map/building/$id/production/$productionId/requirements")({async loader({context:{queryClient:t,kysely:e},params:{id:n,productionId:r}}){return{requirement:await t.ensureQueryData({queryKey:["GameMap","building","production",r],async queryFn(){return e.transaction().execute(async i=>Zr({select:i.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").leftJoin("Inventory as i","i.resourceId","bpr.resourceId").select(["bpr.id","r.name","bpr.amount","bpr.passive","i.amount as available"]).where("bpr.blueprintProductionId","=",r).where("i.id","in",i.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",n)),output:B.object({id:B.string().min(1),name:B.string().min(1),amount:B.number().nonnegative(),available:B.number().nonnegative().nullish(),passive:qs()})}))}})}},component(){const{building:t}=Ni({from:"/$locale/apps/derivean/map/building/$id"}),{production:e}=Ni({from:"/$locale/apps/derivean/map/building/$id/production/$productionId"}),{requirement:n}=IM.useLoaderData();return f.jsx(Uoe,{building:t,production:e,requirement:n})}}),$1=iJ.update({id:"/$locale",path:"/$locale",getParentRoute:()=>u1}),Hoe=aJ.update({id:"/",path:"/",getParentRoute:()=>u1}),Qoe=lJ.update({id:"/",path:"/",getParentRoute:()=>$1}),rc=uJ.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>$1}),$o=pJ.update({id:"/root",path:"/root",getParentRoute:()=>rc}),vf=YE.update({id:"/map",path:"/map",getParentRoute:()=>rc}),Rm=fre.update({id:"/game",path:"/game",getParentRoute:()=>rc}),Koe=yre.update({id:"/",path:"/",getParentRoute:()=>$o}),Goe=bre.update({id:"/",path:"/",getParentRoute:()=>vf}),Joe=vre.update({id:"/",path:"/",getParentRoute:()=>Rm}),Zoe=eN.update({id:"/editor",path:"/editor",getParentRoute:()=>$o}),Yoe=Uie.update({id:"/public/register",path:"/public/register",getParentRoute:()=>rc}),Xoe=Hie.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>rc}),eae=Jie.update({id:"/public/login",path:"/public/login",getParentRoute:()=>rc}),tae=nM.update({id:"/construction",path:"/construction",getParentRoute:()=>vf}),nae=rM.update({id:"/db/schema",path:"/db/schema",getParentRoute:()=>rc}),rae=Ly.update({id:"/user/list",path:"/user/list",getParentRoute:()=>$o}),B1=iM.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>$o}),iae=My.update({id:"/tag/list",path:"/tag/list",getParentRoute:()=>$o}),sae=$y.update({id:"/resource/list",path:"/resource/list",getParentRoute:()=>$o}),CM=lM.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>$o}),oae=By.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>$o}),ic=fM.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>$o}),z1=bse.update({id:"/route/$id",path:"/route/$id",getParentRoute:()=>vf}),sc=vse.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>vf}),TM=xse.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>vf}),aae=zy.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>Rm}),xf=pM.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>Rm}),lae=Nse.update({id:"/view",path:"/view",getParentRoute:()=>B1}),cae=kse.update({id:"/view",path:"/view",getParentRoute:()=>CM}),rx=hM.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>$o}),uae=mM.update({id:"/view",path:"/view",getParentRoute:()=>ic}),dae=Op.update({id:"/requirements",path:"/requirements",getParentRoute:()=>ic}),fae=qp.update({id:"/production",path:"/production",getParentRoute:()=>ic}),pae=jp.update({id:"/inventory",path:"/inventory",getParentRoute:()=>ic}),hae=gM.update({id:"/edit",path:"/edit",getParentRoute:()=>ic}),mae=Ap.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>ic}),gae=Pp.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>ic}),yae=yM.update({id:"/resources",path:"/resources",getParentRoute:()=>z1}),bae=bM.update({id:"/construction",path:"/construction",getParentRoute:()=>z1}),vae=noe.update({id:"/view",path:"/view",getParentRoute:()=>sc}),xae=vM.update({id:"/routes",path:"/routes",getParentRoute:()=>sc}),wae=Fp.update({id:"/inventory",path:"/inventory",getParentRoute:()=>sc}),_ae=wM.update({id:"/requirements",path:"/requirements",getParentRoute:()=>TM}),ix=_M.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>Rm}),Sae=uoe.update({id:"/view",path:"/view",getParentRoute:()=>xf}),Eae=Wy.update({id:"/requirements",path:"/requirements",getParentRoute:()=>xf}),Nae=Vy.update({id:"/production",path:"/production",getParentRoute:()=>xf}),kae=Uy.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>xf}),Iae=Hy.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>xf}),Cae=Dp.update({id:"/building/list",path:"/building/list",getParentRoute:()=>B1}),Tae=Lp.update({id:"/resources",path:"/resources",getParentRoute:()=>rx}),Rae=Mp.update({id:"/requirements",path:"/requirements",getParentRoute:()=>rx}),Oae=$p.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>rx}),qae=EM.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>sc}),jae=NM.update({id:"/production/list",path:"/production/list",getParentRoute:()=>sc}),RM=Poe.update({id:"/production/$productionId",path:"/production/$productionId",getParentRoute:()=>sc}),Aae=kM.update({id:"/construction/requirements",path:"/construction/requirements",getParentRoute:()=>sc}),Pae=Qy.update({id:"/resources",path:"/resources",getParentRoute:()=>ix}),Fae=Ky.update({id:"/requirements",path:"/requirements",getParentRoute:()=>ix}),Dae=Gy.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>ix}),Lae=IM.update({id:"/requirements",path:"/requirements",getParentRoute:()=>RM}),Mae={LocaleAppsDeriveanGameBlueprintIdConflictsRoute:Iae,LocaleAppsDeriveanGameBlueprintIdDependenciesRoute:kae,LocaleAppsDeriveanGameBlueprintIdProductionRoute:Nae,LocaleAppsDeriveanGameBlueprintIdRequirementsRoute:Eae,LocaleAppsDeriveanGameBlueprintIdViewRoute:Sae},$ae=xf._addFileChildren(Mae),Bae={LocaleAppsDeriveanGameBlueprintProductionIdDependenciesRoute:Dae,LocaleAppsDeriveanGameBlueprintProductionIdRequirementsRoute:Fae,LocaleAppsDeriveanGameBlueprintProductionIdResourcesRoute:Pae},zae=ix._addFileChildren(Bae),Wae={LocaleAppsDeriveanGameIndexRoute:Joe,LocaleAppsDeriveanGameBlueprintIdRoute:$ae,LocaleAppsDeriveanGameBlueprintListRoute:aae,LocaleAppsDeriveanGameBlueprintProductionIdRoute:zae},Vae=Rm._addFileChildren(Wae),Uae={LocaleAppsDeriveanMapBlueprintIdRequirementsRoute:_ae},Hae=TM._addFileChildren(Uae),Qae={LocaleAppsDeriveanMapBuildingIdProductionProductionIdRequirementsRoute:Lae},Kae=RM._addFileChildren(Qae),Gae={LocaleAppsDeriveanMapBuildingIdInventoryRoute:wae,LocaleAppsDeriveanMapBuildingIdRoutesRoute:xae,LocaleAppsDeriveanMapBuildingIdViewRoute:vae,LocaleAppsDeriveanMapBuildingIdConstructionRequirementsRoute:Aae,LocaleAppsDeriveanMapBuildingIdProductionProductionIdRoute:Kae,LocaleAppsDeriveanMapBuildingIdProductionListRoute:jae,LocaleAppsDeriveanMapBuildingIdProductionQueueRoute:qae},Jae=sc._addFileChildren(Gae),Zae={LocaleAppsDeriveanMapRouteIdConstructionRoute:bae,LocaleAppsDeriveanMapRouteIdResourcesRoute:yae},Yae=z1._addFileChildren(Zae),Xae={LocaleAppsDeriveanMapConstructionRoute:tae,LocaleAppsDeriveanMapIndexRoute:Goe,LocaleAppsDeriveanMapBlueprintIdRoute:Hae,LocaleAppsDeriveanMapBuildingIdRoute:Jae,LocaleAppsDeriveanMapRouteIdRoute:Yae},ele=vf._addFileChildren(Xae),tle={LocaleAppsDeriveanRootBlueprintIdConflictsRoute:gae,LocaleAppsDeriveanRootBlueprintIdDependenciesRoute:mae,LocaleAppsDeriveanRootBlueprintIdEditRoute:hae,LocaleAppsDeriveanRootBlueprintIdInventoryRoute:pae,LocaleAppsDeriveanRootBlueprintIdProductionRoute:fae,LocaleAppsDeriveanRootBlueprintIdRequirementsRoute:dae,LocaleAppsDeriveanRootBlueprintIdViewRoute:uae},nle=ic._addFileChildren(tle),rle={LocaleAppsDeriveanRootResourceIdViewRoute:cae},ile=CM._addFileChildren(rle),sle={LocaleAppsDeriveanRootUserIdViewRoute:lae,LocaleAppsDeriveanRootUserIdBuildingListRoute:Cae},ole=B1._addFileChildren(sle),ale={LocaleAppsDeriveanRootBlueprintProductionIdDependenciesRoute:Oae,LocaleAppsDeriveanRootBlueprintProductionIdRequirementsRoute:Rae,LocaleAppsDeriveanRootBlueprintProductionIdResourcesRoute:Tae},lle=rx._addFileChildren(ale),cle={LocaleAppsDeriveanRootEditorRoute:Zoe,LocaleAppsDeriveanRootIndexRoute:Koe,LocaleAppsDeriveanRootBlueprintIdRoute:nle,LocaleAppsDeriveanRootBlueprintListRoute:oae,LocaleAppsDeriveanRootResourceIdRoute:ile,LocaleAppsDeriveanRootResourceListRoute:sae,LocaleAppsDeriveanRootTagListRoute:iae,LocaleAppsDeriveanRootUserIdRoute:ole,LocaleAppsDeriveanRootUserListRoute:rae,LocaleAppsDeriveanRootBlueprintProductionIdRoute:lle},ule=$o._addFileChildren(cle),dle={LocaleAppsDeriveanGameRoute:Vae,LocaleAppsDeriveanMapRoute:ele,LocaleAppsDeriveanRootRoute:ule,LocaleAppsDeriveanDbSchemaRoute:nae,LocaleAppsDeriveanPublicLoginRoute:eae,LocaleAppsDeriveanPublicLogoutRoute:Xoe,LocaleAppsDeriveanPublicRegisterRoute:Yoe},fle=rc._addFileChildren(dle),ple={LocaleIndexRoute:Qoe,LocaleAppsDeriveanRoute:fle},hle=$1._addFileChildren(ple),mle={IndexRoute:Hoe,LocaleRoute:hle},gle=u1._addFileChildren(mle)._addFileTypes(),OM=new tB({defaultOptions:{queries:{placeholderData:z$}}}),yle=YB({routeTree:gle,context:{queryClient:OM,tva:$7,async session(){return mm.parse(null)},kysely:Dt},defaultPendingComponent:IG,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),y3=document.getElementById("app");iU({limit:{maxRequests:10,perMilliseconds:100}});y3.innerHTML||tJ.createRoot(y3).render(f.jsx(aB,{client:OM,children:f.jsx(E4,{router:yle})}))})();